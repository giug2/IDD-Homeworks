<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.06530] Making Batch Normalization Great in Federated Deep Learning</title><meta property="og:description" content="Batch Normalization (BN) is widely used in centralized deep learning to improve convergence and generalization.
However, in federated learning (FL) with decentralized data,
prior work has observed that training with BN…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Making Batch Normalization Great in Federated Deep Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Making Batch Normalization Great in Federated Deep Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.06530">

<!--Generated on Thu Feb 29 20:29:24 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Machine Learning,  ICML">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_pruned_first">
<h1 class="ltx_title ltx_title_document">Making Batch Normalization Great in Federated Deep Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jike Zhong
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hong-You Chen
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wei-Lun Chao
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Batch Normalization (<span id="id1.id1.1" class="ltx_text ltx_font_smallcaps">BN</span>) is widely used in centralized deep learning to improve convergence and generalization.
However, in federated learning (FL) with decentralized data,
prior work has observed that training with <span id="id1.id1.2" class="ltx_text ltx_font_smallcaps">BN</span> could hinder performance and suggested replacing it with Group Normalization (<span id="id1.id1.3" class="ltx_text ltx_font_smallcaps">GN</span>).
In this paper, we revisit this substitution by expanding the empirical study conducted in prior work. Surprisingly, we find that <span id="id1.id1.4" class="ltx_text ltx_font_smallcaps">BN</span> outperforms <span id="id1.id1.5" class="ltx_text ltx_font_smallcaps">GN</span> in many FL settings. The exceptions are high-frequency communication and extreme non-IID regimes. We reinvestigate
factors that are believed to cause this problem, including the mismatch of <span id="id1.id1.6" class="ltx_text ltx_font_smallcaps">BN</span> statistics across clients and the deviation of gradients during local training. We empirically identify a simple practice that could reduce the impacts of these factors while maintaining the strength of <span id="id1.id1.7" class="ltx_text ltx_font_smallcaps">BN</span>. Our approach, which we named <span id="id1.id1.8" class="ltx_text ltx_font_smallcaps">FixBN</span>, is fairly easy to implement, without any additional training or communication costs, and performs favorably across a wide range of FL settings. We hope that our study could serve as a valuable reference for future practical usage and theoretical analysis in FL.</p>
</div>
<div class="ltx_keywords">Machine Learning, ICML
</div>
<div id="p2" class="ltx_para">
<br class="ltx_break">
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) is a decentralized optimization framework in which several clients collaborate, usually through a server, to achieve a common learning goal without exchanging data <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib30" title="" class="ltx_ref">2019</a>; Li et al., <a href="#bib.bib39" title="" class="ltx_ref">2020b</a>)</cite>. FL has attracted a lot of attention lately due to the increasing concern about data privacy, protection, and ownership.
The core challenge is how to obtain a machine learning model whose performance is as good as if it were trained in a conventional centralized setting, especially under the practical condition where the data across clients are non-IID.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">For models normally trained via stochastic gradient descent (SGD), such as deep neural networks (DNNs), <span id="S1.p2.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib50" title="" class="ltx_ref">2017</a>)</cite> is the most widely used FL training algorithm.
<span id="S1.p2.1.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> iterates between two steps: parallel local SGD at the clients, and global model aggregation at the server.
In the extreme case where global aggregation takes place after every local SGD step (i.e., high communication frequency), <span id="S1.p2.1.3" class="ltx_text ltx_font_smallcaps">FedAvg</span> is very much equivalent to centralized SGD for training simple DNN models like multi-layer perception <cite class="ltx_cite ltx_citemacro_citep">(Zhou &amp; Cong, <a href="#bib.bib79" title="" class="ltx_ref">2017</a>; Stich, <a href="#bib.bib61" title="" class="ltx_ref">2019</a>; Haddadpour &amp; Mahdavi, <a href="#bib.bib18" title="" class="ltx_ref">2019</a>; Li et al., <a href="#bib.bib41" title="" class="ltx_ref">2020d</a>; Zhao et al., <a href="#bib.bib77" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2303.06530/assets/figures/FixBN_jump_curve_2_7.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="344" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span id="S1.F1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Our approach, <span id="S1.F1.2.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span>, notably bridges the gap of using <span id="S1.F1.2.1.3" class="ltx_text ltx_font_smallcaps">BN</span> in FL and centralized learning.<span id="S1.F1.2.1.1" class="ltx_text ltx_font_medium"> X-axis: communication rounds in FL, after every local SGD step; y-axis: test accuracy on CIFAR-10 <cite class="ltx_cite ltx_citemacro_citep">(Krizhevsky et al., <a href="#bib.bib34" title="" class="ltx_ref">2009</a>)</cite>; <math id="S1.F1.2.1.1.m1.1" class="ltx_Math" alttext="\star" display="inline"><semantics id="S1.F1.2.1.1.m1.1b"><mo id="S1.F1.2.1.1.m1.1.1" xref="S1.F1.2.1.1.m1.1.1.cmml">⋆</mo><annotation-xml encoding="MathML-Content" id="S1.F1.2.1.1.m1.1c"><ci id="S1.F1.2.1.1.m1.1.1.cmml" xref="S1.F1.2.1.1.m1.1.1">⋆</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.2.1.1.m1.1d">\star</annotation></semantics></math>: further with our SGD momentum in FL. Please see <a href="#S3" title="3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3</span></a> and <a href="#S7" title="7 Maintaining Local SGD Momentum ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 7</span></a> for details.</span></span></figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper, we focus on DNN models that contain Batch Normalization (<span id="S1.p3.1.1" class="ltx_text ltx_font_smallcaps">BN</span>) layers <cite class="ltx_cite ltx_citemacro_citep">(Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>. In centralized learning, especially for deep feed-forward models like ResNet <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>)</cite>, <span id="S1.p3.1.2" class="ltx_text ltx_font_smallcaps">BN</span> has been widely used to improve the stability of training and speed up convergence. However, in the literature on FL, many of the previous experiments have focused on shallow ConvNets (CNN) without <span id="S1.p3.1.3" class="ltx_text ltx_font_smallcaps">BN</span>. Only a few papers have particularly studied the use of <span id="S1.p3.1.4" class="ltx_text ltx_font_smallcaps">BN</span> in FL <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>; Du et al., <a href="#bib.bib15" title="" class="ltx_ref">2022</a>; Wang et al., <a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite>.
In the very first study, <cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> pointed out
the mismatch between the feature statistics (i.e., means and variances in <span id="S1.p3.1.5" class="ltx_text ltx_font_smallcaps">BN</span>) estimated on non-IID local mini-batches (in training) and global data (in testing), and argued that it would degrade <span id="S1.p3.1.6" class="ltx_text ltx_font_smallcaps">FedAvg</span>’s performance.
<cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> thus proposed to replace <span id="S1.p3.1.7" class="ltx_text ltx_font_smallcaps">BN</span> with Group Normalization (<span id="S1.p3.1.8" class="ltx_text ltx_font_smallcaps">GN</span>) <cite class="ltx_cite ltx_citemacro_citep">(Wu &amp; He, <a href="#bib.bib67" title="" class="ltx_ref">2018</a>)</cite>, which does not rely on mini-batch statistics for normalization, and showed its superior performance in some FL settings. Such a solution has since been followed by a long non-exhaustive list of later work <cite class="ltx_cite ltx_citemacro_citep">(Jin et al., <a href="#bib.bib29" title="" class="ltx_ref">2022</a>; Charles et al., <a href="#bib.bib7" title="" class="ltx_ref">2021</a>; Lin et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>; Yuan et al., <a href="#bib.bib73" title="" class="ltx_ref">2021</a>; Reddi et al., <a href="#bib.bib56" title="" class="ltx_ref">2020</a>; Hyeon-Woo et al., <a href="#bib.bib25" title="" class="ltx_ref">2021</a>; Yu et al., <a href="#bib.bib70" title="" class="ltx_ref">2021</a>; Hosseini et al., <a href="#bib.bib22" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">That said, replacing <span id="S1.p4.1.1" class="ltx_text ltx_font_smallcaps">BN</span> with <span id="S1.p4.1.2" class="ltx_text ltx_font_smallcaps">GN</span> in FL seems more like an ad hoc solution rather than a cure-all. First, in centralized training, <span id="S1.p4.1.3" class="ltx_text ltx_font_smallcaps">BN</span> typically outperforms <span id="S1.p4.1.4" class="ltx_text ltx_font_smallcaps">GN</span> empirically. Second, several recent papers <cite class="ltx_cite ltx_citemacro_citep">(Mohamad et al., <a href="#bib.bib51" title="" class="ltx_ref">2022</a>; Tenison et al., <a href="#bib.bib62" title="" class="ltx_ref">2022</a>; Yang et al., <a href="#bib.bib69" title="" class="ltx_ref">2022</a>; Chen &amp; Chao, <a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite> have reported that <span id="S1.p4.1.5" class="ltx_text ltx_font_smallcaps">BN</span> is still better than <span id="S1.p4.1.6" class="ltx_text ltx_font_smallcaps">GN</span> in their specific FL applications. Third, changing the normalization layer may create a barrier between the communities of centralized learning and FL. To illustrate, in centralized learning, many publicly available pre-trained checkpoints <cite class="ltx_cite ltx_citemacro_citep">(PyTorch, <a href="#bib.bib54" title="" class="ltx_ref">2023</a>; ONNX, <a href="#bib.bib53" title="" class="ltx_ref">2023</a>)</cite> are based on popular CNN architectures with <span id="S1.p4.1.7" class="ltx_text ltx_font_smallcaps">BN</span>; most understanding <cite class="ltx_cite ltx_citemacro_citep">(Bjorck et al., <a href="#bib.bib5" title="" class="ltx_ref">2018</a>; Santurkar et al., <a href="#bib.bib59" title="" class="ltx_ref">2018</a>; Luo et al., <a href="#bib.bib48" title="" class="ltx_ref">2019</a>)</cite>, empirical studies <cite class="ltx_cite ltx_citemacro_citep">(Garbin et al., <a href="#bib.bib17" title="" class="ltx_ref">2020</a>)</cite>, and theoretical analysis <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib68" title="" class="ltx_ref">2019</a>)</cite> about normalization in DNNs are built upon <span id="S1.p4.1.8" class="ltx_text ltx_font_smallcaps">BN</span>. These prior results may become hard to be referred to in the FL community.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Motivated by these aspects, we revisit the problem of <span id="S1.p5.1.1" class="ltx_text ltx_font_smallcaps">BN</span> in FL and the replacement of <span id="S1.p5.1.2" class="ltx_text ltx_font_smallcaps">BN</span> with <span id="S1.p5.1.3" class="ltx_text ltx_font_smallcaps">GN</span>.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">To begin with, we conduct an extensive empirical study comparing <span id="S1.p6.1.1" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S1.p6.1.2" class="ltx_text ltx_font_smallcaps">GN</span> in FL on commonly used image classification datasets including CIFAR-10 <cite class="ltx_cite ltx_citemacro_citep">(Krizhevsky et al., <a href="#bib.bib34" title="" class="ltx_ref">2009</a>)</cite> and Tiny-ImageNet <cite class="ltx_cite ltx_citemacro_citep">(Le &amp; Yang, <a href="#bib.bib35" title="" class="ltx_ref">2015</a>)</cite>.
Specifically, we extend the study in <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> by considering a wide range of non-IID degrees and communication frequencies.
We find that <span id="S1.p6.1.3" class="ltx_text ltx_font_smallcaps">GN</span> does not outperform <span id="S1.p6.1.4" class="ltx_text ltx_font_smallcaps">BN</span> in many of the settings, especially when the communication frequency is low or the non-IID degree is not severe. This suggests that one should consider the FL setting when selecting the normalization method.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">Building upon this observation, we take a deeper look at the scenarios where <span id="S1.p7.1.1" class="ltx_text ltx_font_smallcaps">BN</span> performs particularly poorly: high communication frequencies and severe non-IID degrees. We revisit the factors identified by <cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>); Du et al. (<a href="#bib.bib15" title="" class="ltx_ref">2022</a>); Wang et al. (<a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite> that are believed to impact <span id="S1.p7.1.2" class="ltx_text ltx_font_smallcaps">BN</span>’s effectiveness in FL. Specifically, <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite> theoretically showed that the mismatched mini-batch statistics across non-IID clients lead to deviated gradients on local copies of the DNN models. What is worse, such an impact cannot be canceled even if clients communicate right after <em id="S1.p7.1.3" class="ltx_emph ltx_font_italic">every</em> local SGD step, as also evidenced in <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib65" title="" class="ltx_ref">2021</a>; Zheng et al., <a href="#bib.bib78" title="" class="ltx_ref">2020</a>; Chai et al., <a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite>.
We note that this does not happen to FL with <span id="S1.p7.1.4" class="ltx_text ltx_font_smallcaps">GN</span>, as <span id="S1.p7.1.5" class="ltx_text ltx_font_smallcaps">GN</span> does not use mini-batch statistics to normalize intermediate features.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">This theoretical result seems to imply a dilemma of the use of <span id="S1.p8.1.1" class="ltx_text ltx_font_smallcaps">BN</span> in FL.
On the one hand, <span id="S1.p8.1.2" class="ltx_text ltx_font_smallcaps">BN</span> relies on stochastic mini-batch statistics to normalize intermediate features to claim superior convergence and generalization <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a href="#bib.bib48" title="" class="ltx_ref">2019</a>; Santurkar et al., <a href="#bib.bib59" title="" class="ltx_ref">2018</a>)</cite>. On the other hand, the <em id="S1.p8.1.3" class="ltx_emph ltx_font_italic">dependency of the gradients on the non-IID local mini-batch</em> prevents <span id="S1.p8.1.4" class="ltx_text ltx_font_smallcaps">FedAvg</span> from recovering the gradients computed in centralized learning, even under high-frequency communication.</p>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">Can we resolve, or at least, alleviate, this dilemma? We investigate the <em id="S1.p9.1.1" class="ltx_emph ltx_font_italic">training dynamics</em> of FL with <span id="S1.p9.1.2" class="ltx_text ltx_font_smallcaps">BN</span>.
We find that even with the deviated gradients, each local copy of the DNN model converges regarding its local training loss. Moreover, the variation of mini-batch statistics <em id="S1.p9.1.3" class="ltx_emph ltx_font_italic">within</em> each client reduces along with the communication rounds.
These observations imply that the positive impact of <span id="S1.p9.1.4" class="ltx_text ltx_font_smallcaps">BN</span> diminishes in the later rounds, opening up the option of ceasing the use of mini-batch statistics for normalization to reduce the negative impact on FL due to the mismatch across clients.</p>
</div>
<div id="S1.p10" class="ltx_para">
<p id="S1.p10.1" class="ltx_p">Taking this insight into account, we propose a simple yet effective practice named <span id="S1.p10.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span>, which requires no architecture change, no additional training, and no extra communication. <span id="S1.p10.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span> starts with the standard practice of <span id="S1.p10.1.3" class="ltx_text ltx_font_smallcaps">BN</span> in <span id="S1.p10.1.4" class="ltx_text ltx_font_smallcaps">FedAvg</span>: in local training, using mini-batch statistics for normalization while accumulating local <span id="S1.p10.1.5" class="ltx_text ltx_font_smallcaps">BN</span> statistics; in global aggregation,
aggregating the accumulated local <span id="S1.p10.1.6" class="ltx_text ltx_font_smallcaps">BN</span> statistics into global ones.
Then after a decent amount of communication rounds, <span id="S1.p10.1.7" class="ltx_text ltx_font_smallcaps">FixBN</span> freezes the <span id="S1.p10.1.8" class="ltx_text ltx_font_smallcaps">BN</span> layer while keeping other DNN parameters learnable. Namely, in this phase, local training does not rely on the mini-batch statistics but the frozen accumulated global statistics to normalize features, which <em id="S1.p10.1.9" class="ltx_emph ltx_font_italic">(a)</em> allows <span id="S1.p10.1.10" class="ltx_text ltx_font_smallcaps">FedAvg</span> to recover the centralized gradient under high communication frequency settings and <em id="S1.p10.1.11" class="ltx_emph ltx_font_italic">(b)</em> removes the mismatch of normalization statistics in training and testing. As shown in <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>, <span id="S1.p10.1.12" class="ltx_text ltx_font_smallcaps">FixBN</span> improves <span id="S1.p10.1.13" class="ltx_text ltx_font_smallcaps">BN</span> by a large margin in the high-frequency regime. We further demonstrate <span id="S1.p10.1.14" class="ltx_text ltx_font_smallcaps">FixBN</span>’s effectiveness on extensive FL settings, outperforming or on a par with <span id="S1.p10.1.15" class="ltx_text ltx_font_smallcaps">GN</span> and <span id="S1.p10.1.16" class="ltx_text ltx_font_smallcaps">BN</span>.</p>
</div>
<div id="S1.p11" class="ltx_para">
<p id="S1.p11.1" class="ltx_p">Together with our study and the proposed approach, we also reveal several interesting observations of <span id="S1.p11.1.1" class="ltx_text ltx_font_smallcaps">BN</span>, suggesting the need for a deeper investigation and theoretical analysis of <span id="S1.p11.1.2" class="ltx_text ltx_font_smallcaps">BN</span> in FL. We hope that our study could serve as a valuable reference for future research directions and practice in FL.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Federated learning.</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">Many methods have been proposed to improve <span id="S2.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib50" title="" class="ltx_ref">2017</a>)</cite> from different perspectives like server aggregation <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib64" title="" class="ltx_ref">2020</a>; Yurochkin et al., <a href="#bib.bib74" title="" class="ltx_ref">2019</a>; Lin et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>; He et al., <a href="#bib.bib19" title="" class="ltx_ref">2020</a>; Zhou et al., <a href="#bib.bib80" title="" class="ltx_ref">2020</a>; Chen &amp; Chao, <a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite>, server momentum <cite class="ltx_cite ltx_citemacro_citep">(Hsu et al., <a href="#bib.bib24" title="" class="ltx_ref">2019</a>; Reddi et al., <a href="#bib.bib57" title="" class="ltx_ref">2021</a>)</cite>, local training <cite class="ltx_cite ltx_citemacro_citep">(Yuan &amp; Ma, <a href="#bib.bib72" title="" class="ltx_ref">2020</a>; Liang et al., <a href="#bib.bib44" title="" class="ltx_ref">2019</a>; Li et al., <a href="#bib.bib37" title="" class="ltx_ref">2019</a>; Acar et al., <a href="#bib.bib1" title="" class="ltx_ref">2021</a>; Li et al., <a href="#bib.bib40" title="" class="ltx_ref">2020c</a>; Karimireddy et al., <a href="#bib.bib32" title="" class="ltx_ref">2020b</a>)</cite>, pre-training <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib10" title="" class="ltx_ref">2023</a>; Nguyen et al., <a href="#bib.bib52" title="" class="ltx_ref">2023</a>)</cite>, etc. Many papers in FL have also gone beyond training a single global model. Personalized FL <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib30" title="" class="ltx_ref">2019</a>)</cite> aims to create models that are tailored to individual clients, i.e., to perform well on their data distributions. It is achieved through techniques such as federated multi-task learning <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib38" title="" class="ltx_ref">2020a</a>; Smith et al., <a href="#bib.bib60" title="" class="ltx_ref">2017</a>)</cite>, model interpolation <cite class="ltx_cite ltx_citemacro_citep">(Mansour et al., <a href="#bib.bib49" title="" class="ltx_ref">2020</a>)</cite>, and fine-tuning <cite class="ltx_cite ltx_citemacro_citep">(Yu et al., <a href="#bib.bib71" title="" class="ltx_ref">2020</a>; Chen &amp; Chao, <a href="#bib.bib9" title="" class="ltx_ref">2022</a>)</cite>. In this paper, <em id="S2.SS0.SSS0.Px1.p1.1.2" class="ltx_emph ltx_font_italic">we investigate the impact of the <span id="S2.SS0.SSS0.Px1.p1.1.2.1" class="ltx_text ltx_font_smallcaps">BN</span> layers in DNNs in standard (<span id="S2.SS0.SSS0.Px1.p1.1.2.2" class="ltx_text ltx_font_bold">not</span> personalized) FL.</em></p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Normalization layers in centralized training.</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Since <span id="S2.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> was introduced <cite class="ltx_cite ltx_citemacro_citep">(Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>, normalization layers become the cornerstone of DNN architectures. The benefits of <span id="S2.SS0.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span> have been extensively studied in centralized training such as less internal covariate shift <cite class="ltx_cite ltx_citemacro_citep">(Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>, smoother optimization landscape <cite class="ltx_cite ltx_citemacro_citep">(Santurkar et al., <a href="#bib.bib59" title="" class="ltx_ref">2018</a>)</cite>, robustness to hyperparameters <cite class="ltx_cite ltx_citemacro_citep">(Bjorck et al., <a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite> and initialization <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib68" title="" class="ltx_ref">2019</a>)</cite>, accelerating convergence <cite class="ltx_cite ltx_citemacro_citep">(Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>, etc. The noise of the estimated statistics of BN in mini-batch training is considered a regularizer <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a href="#bib.bib48" title="" class="ltx_ref">2019</a>)</cite> that improves generalization <cite class="ltx_cite ltx_citemacro_citep">(Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>. A recent study <cite class="ltx_cite ltx_citemacro_citep">(Lubana et al., <a href="#bib.bib47" title="" class="ltx_ref">2021</a>)</cite> showed that <span id="S2.SS0.SSS0.Px2.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> is still the irreplaceable normalizer vs. a wide range of choices in general settings. Unlike in FL, <em id="S2.SS0.SSS0.Px2.p1.1.4" class="ltx_emph ltx_font_italic"><span id="S2.SS0.SSS0.Px2.p1.1.4.1" class="ltx_text ltx_font_smallcaps">BN</span> often outperforms <span id="S2.SS0.SSS0.Px2.p1.1.4.2" class="ltx_text ltx_font_smallcaps">GN</span> in standard centralized training.</em></p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Existing use of normalizers in FL.</h4>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">In the context of FL, less attention has been paid to normalization layers. <cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> were the first to suggest replacing <span id="S2.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> with <span id="S2.SS0.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> for non-IID decentralized learning. Several work <cite class="ltx_cite ltx_citemacro_citep">(Du et al., <a href="#bib.bib15" title="" class="ltx_ref">2022</a>; Zhang et al., <a href="#bib.bib75" title="" class="ltx_ref">2023</a>)</cite> reported that <span id="S2.SS0.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">LN</span> is competitive to <span id="S2.SS0.SSS0.Px3.p1.1.4" class="ltx_text ltx_font_smallcaps">GN</span> in FL. <cite class="ltx_cite ltx_citemacro_citet">Hong et al. (<a href="#bib.bib21" title="" class="ltx_ref">2021</a>)</cite> enhanced adversarial robustness by using statistics from reliable clients but not for improving performance. <cite class="ltx_cite ltx_citemacro_citet">Diao et al. (<a href="#bib.bib14" title="" class="ltx_ref">2020</a>)</cite> proposed to normalize batch activations instead of tracking running statistics for the scenario that the clients have heterogeneous model architectures. These papers propose to <em id="S2.SS0.SSS0.Px3.p1.1.5" class="ltx_emph ltx_font_italic">replace</em> <span id="S2.SS0.SSS0.Px3.p1.1.6" class="ltx_text ltx_font_smallcaps">BN</span> while we aim to <em id="S2.SS0.SSS0.Px3.p1.1.7" class="ltx_emph ltx_font_italic">reclaim <span id="S2.SS0.SSS0.Px3.p1.1.7.1" class="ltx_text ltx_font_smallcaps">BN</span>’s superiority</em> in FL.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p2.1" class="ltx_p">Several work <cite class="ltx_cite ltx_citemacro_citep">(Duan et al., <a href="#bib.bib16" title="" class="ltx_ref">2021</a>; Idrissi et al., <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> proposed dedicated server aggregation methods for <span id="S2.SS0.SSS0.Px3.p2.1.1" class="ltx_text ltx_font_smallcaps">BN</span> statistics
(separated from other model parameters) for specific tasks.
For multi-modal learning, <cite class="ltx_cite ltx_citemacro_citet">Bernecker et al. (<a href="#bib.bib4" title="" class="ltx_ref">2022</a>)</cite> proposed maintaining a different <span id="S2.SS0.SSS0.Px3.p2.1.2" class="ltx_text ltx_font_smallcaps">BN</span> layer for each modality instead of sharing a single one. In personalized FL, <cite class="ltx_cite ltx_citemacro_citet">Li et al. (<a href="#bib.bib42" title="" class="ltx_ref">2021</a>); Andreux et al. (<a href="#bib.bib2" title="" class="ltx_ref">2020</a>); Jiang et al. (<a href="#bib.bib28" title="" class="ltx_ref">2021</a>)</cite> proposed to maintain each client’s independent <span id="S2.SS0.SSS0.Px3.p2.1.3" class="ltx_text ltx_font_smallcaps">BN</span> layer, inspired by the practice of domain adaptation in centralized training <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib43" title="" class="ltx_ref">2016</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citet">Lu et al. (<a href="#bib.bib46" title="" class="ltx_ref">2022</a>)</cite> leveraged <span id="S2.SS0.SSS0.Px3.p2.1.4" class="ltx_text ltx_font_smallcaps">BN</span> statistics to guide aggregation for personalization. We note that the goals of these papers are orthogonal to ours.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p3" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p3.1" class="ltx_p">The most related to ours is <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite>, which provided a theoretical analysis of <span id="S2.SS0.SSS0.Px3.p3.1.1" class="ltx_text ltx_font_smallcaps">BN</span> in FL and proposed a modified use of <span id="S2.SS0.SSS0.Px3.p3.1.2" class="ltx_text ltx_font_smallcaps">BN</span>, <span id="S2.SS0.SSS0.Px3.p3.1.3" class="ltx_text ltx_font_smallcaps">FedTAN</span>, to reduce divergent gradients in local training. However, <span id="S2.SS0.SSS0.Px3.p3.1.4" class="ltx_text ltx_font_smallcaps">FedTAN</span> requires additional communication rounds linear to the numbers of <span id="S2.SS0.SSS0.Px3.p3.1.5" class="ltx_text ltx_font_smallcaps">BN</span> layers, which is much more expensive than
our <span id="S2.SS0.SSS0.Px3.p3.1.6" class="ltx_text ltx_font_smallcaps">FixBN</span>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Background</h2>

<section id="S3.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Batch Normalization (<span id="S3.SS0.SSS0.Px1.1.1" class="ltx_text ltx_font_smallcaps">BN</span>).</h4>

<div id="S3.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px1.p1.5" class="ltx_p">The <span id="S3.SS0.SSS0.Px1.p1.5.1" class="ltx_text ltx_font_smallcaps">BN</span> layer is widely used as a building block in feed-forward DNNs. Given an input feature vector <math id="S3.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\bm{h}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">𝒉</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.1.m1.1.1">𝒉</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.1.m1.1c">\bm{h}</annotation></semantics></math>, it normalizes the feature via the mean <math id="S3.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\bm{\mu}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.2.m2.1a"><msub id="S3.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml">ℬ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.2">𝝁</ci><ci id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.2.m2.1c">\bm{\mu}_{\mathcal{B}}</annotation></semantics></math> and variance <math id="S3.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\bm{\sigma}^{2}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.3.m3.1a"><msubsup id="S3.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.2" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml">ℬ</mi><mn id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.3" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.2">𝝈</ci><cn type="integer" id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.2.3">2</cn></apply><ci id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.3.m3.1c">\bm{\sigma}^{2}_{\mathcal{B}}</annotation></semantics></math> computed on a batch of features <math id="S3.SS0.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.4.m4.1b"><ci id="S3.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.4.m4.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.4.m4.1c">\mathcal{B}</annotation></semantics></math>, followed by a learnable affine transformation (via <math id="S3.SS0.SSS0.Px1.p1.5.m5.2" class="ltx_Math" alttext="\bm{\gamma},\bm{\beta}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.5.m5.2a"><mrow id="S3.SS0.SSS0.Px1.p1.5.m5.2.3.2" xref="S3.SS0.SSS0.Px1.p1.5.m5.2.3.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS0.SSS0.Px1.p1.5.m5.1.1.cmml">𝜸</mi><mo id="S3.SS0.SSS0.Px1.p1.5.m5.2.3.2.1" xref="S3.SS0.SSS0.Px1.p1.5.m5.2.3.1.cmml">,</mo><mi id="S3.SS0.SSS0.Px1.p1.5.m5.2.2" xref="S3.SS0.SSS0.Px1.p1.5.m5.2.2.cmml">𝜷</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.5.m5.2b"><list id="S3.SS0.SSS0.Px1.p1.5.m5.2.3.1.cmml" xref="S3.SS0.SSS0.Px1.p1.5.m5.2.3.2"><ci id="S3.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.5.m5.1.1">𝜸</ci><ci id="S3.SS0.SSS0.Px1.p1.5.m5.2.2.cmml" xref="S3.SS0.SSS0.Px1.p1.5.m5.2.2">𝜷</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.5.m5.2c">\bm{\gamma},\bm{\beta}</annotation></semantics></math>):</p>
<table id="A4.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.4" class="ltx_Math" alttext="\displaystyle\hat{\bm{h}}=f_{\textsc{BN}}(\bm{h};(\bm{\gamma},\bm{\beta}),(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}}))=\bm{\gamma}\frac{\bm{h}-\bm{\mu}_{\mathcal{B}}}{\sqrt{\bm{\sigma}^{2}_{\mathcal{B}}+\epsilon}}+\bm{\beta};" display="inline"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.4.1" xref="S3.E1.m1.4.4.1.1.cmml"><mrow id="S3.E1.m1.4.4.1.1" xref="S3.E1.m1.4.4.1.1.cmml"><mover accent="true" id="S3.E1.m1.4.4.1.1.4" xref="S3.E1.m1.4.4.1.1.4.cmml"><mi id="S3.E1.m1.4.4.1.1.4.2" xref="S3.E1.m1.4.4.1.1.4.2.cmml">𝒉</mi><mo id="S3.E1.m1.4.4.1.1.4.1" xref="S3.E1.m1.4.4.1.1.4.1.cmml">^</mo></mover><mo id="S3.E1.m1.4.4.1.1.5" xref="S3.E1.m1.4.4.1.1.5.cmml">=</mo><mrow id="S3.E1.m1.4.4.1.1.2" xref="S3.E1.m1.4.4.1.1.2.cmml"><msub id="S3.E1.m1.4.4.1.1.2.4" xref="S3.E1.m1.4.4.1.1.2.4.cmml"><mi id="S3.E1.m1.4.4.1.1.2.4.2" xref="S3.E1.m1.4.4.1.1.2.4.2.cmml">f</mi><mtext class="ltx_font_smallcaps" id="S3.E1.m1.4.4.1.1.2.4.3" xref="S3.E1.m1.4.4.1.1.2.4.3a.cmml">BN</mtext></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.1.1.2.3" xref="S3.E1.m1.4.4.1.1.2.3.cmml">​</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.2" xref="S3.E1.m1.4.4.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.4.1.1.2.2.2.3" xref="S3.E1.m1.4.4.1.1.2.2.3.cmml">(</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">𝒉</mi><mo id="S3.E1.m1.4.4.1.1.2.2.2.4" xref="S3.E1.m1.4.4.1.1.2.2.3.cmml">;</mo><mrow id="S3.E1.m1.4.4.1.1.1.1.1.1.2" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.4.4.1.1.1.1.1.1.2.1" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">𝜸</mi><mo id="S3.E1.m1.4.4.1.1.1.1.1.1.2.2" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">𝜷</mi><mo stretchy="false" id="S3.E1.m1.4.4.1.1.1.1.1.1.2.3" xref="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E1.m1.4.4.1.1.2.2.2.5" xref="S3.E1.m1.4.4.1.1.2.2.3.cmml">,</mo><mrow id="S3.E1.m1.4.4.1.1.2.2.2.2.2" xref="S3.E1.m1.4.4.1.1.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.3" xref="S3.E1.m1.4.4.1.1.2.2.2.2.3.cmml">(</mo><msub id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.cmml"><mi id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.2" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.3" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.3.cmml">ℬ</mi></msub><mo id="S3.E1.m1.4.4.1.1.2.2.2.2.2.4" xref="S3.E1.m1.4.4.1.1.2.2.2.2.3.cmml">,</mo><msubsup id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.cmml"><mi id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.2" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.3" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.3.cmml">ℬ</mi><mn id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.3" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.3.cmml">2</mn></msubsup><mo stretchy="false" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.5" xref="S3.E1.m1.4.4.1.1.2.2.2.2.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.E1.m1.4.4.1.1.2.2.2.6" xref="S3.E1.m1.4.4.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.4.4.1.1.6" xref="S3.E1.m1.4.4.1.1.6.cmml">=</mo><mrow id="S3.E1.m1.4.4.1.1.7" xref="S3.E1.m1.4.4.1.1.7.cmml"><mrow id="S3.E1.m1.4.4.1.1.7.2" xref="S3.E1.m1.4.4.1.1.7.2.cmml"><mi id="S3.E1.m1.4.4.1.1.7.2.2" xref="S3.E1.m1.4.4.1.1.7.2.2.cmml">𝜸</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.4.4.1.1.7.2.1" xref="S3.E1.m1.4.4.1.1.7.2.1.cmml">​</mo><mstyle displaystyle="true" id="S3.E1.m1.4.4.1.1.7.2.3" xref="S3.E1.m1.4.4.1.1.7.2.3.cmml"><mfrac id="S3.E1.m1.4.4.1.1.7.2.3a" xref="S3.E1.m1.4.4.1.1.7.2.3.cmml"><mrow id="S3.E1.m1.4.4.1.1.7.2.3.2" xref="S3.E1.m1.4.4.1.1.7.2.3.2.cmml"><mi id="S3.E1.m1.4.4.1.1.7.2.3.2.2" xref="S3.E1.m1.4.4.1.1.7.2.3.2.2.cmml">𝒉</mi><mo id="S3.E1.m1.4.4.1.1.7.2.3.2.1" xref="S3.E1.m1.4.4.1.1.7.2.3.2.1.cmml">−</mo><msub id="S3.E1.m1.4.4.1.1.7.2.3.2.3" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3.cmml"><mi id="S3.E1.m1.4.4.1.1.7.2.3.2.3.2" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.1.1.7.2.3.2.3.3" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3.3.cmml">ℬ</mi></msub></mrow><msqrt id="S3.E1.m1.4.4.1.1.7.2.3.3" xref="S3.E1.m1.4.4.1.1.7.2.3.3.cmml"><mrow id="S3.E1.m1.4.4.1.1.7.2.3.3.2" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.cmml"><msubsup id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.cmml"><mi id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.2" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.3" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.3.cmml">ℬ</mi><mn id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.3" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.3.cmml">2</mn></msubsup><mo id="S3.E1.m1.4.4.1.1.7.2.3.3.2.1" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.1.cmml">+</mo><mi id="S3.E1.m1.4.4.1.1.7.2.3.3.2.3" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.3.cmml">ϵ</mi></mrow></msqrt></mfrac></mstyle></mrow><mo id="S3.E1.m1.4.4.1.1.7.1" xref="S3.E1.m1.4.4.1.1.7.1.cmml">+</mo><mi id="S3.E1.m1.4.4.1.1.7.3" xref="S3.E1.m1.4.4.1.1.7.3.cmml">𝜷</mi></mrow></mrow><mo id="S3.E1.m1.4.4.1.2" xref="S3.E1.m1.4.4.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.4.1.1.cmml" xref="S3.E1.m1.4.4.1"><and id="S3.E1.m1.4.4.1.1a.cmml" xref="S3.E1.m1.4.4.1"></and><apply id="S3.E1.m1.4.4.1.1b.cmml" xref="S3.E1.m1.4.4.1"><eq id="S3.E1.m1.4.4.1.1.5.cmml" xref="S3.E1.m1.4.4.1.1.5"></eq><apply id="S3.E1.m1.4.4.1.1.4.cmml" xref="S3.E1.m1.4.4.1.1.4"><ci id="S3.E1.m1.4.4.1.1.4.1.cmml" xref="S3.E1.m1.4.4.1.1.4.1">^</ci><ci id="S3.E1.m1.4.4.1.1.4.2.cmml" xref="S3.E1.m1.4.4.1.1.4.2">𝒉</ci></apply><apply id="S3.E1.m1.4.4.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.2"><times id="S3.E1.m1.4.4.1.1.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.3"></times><apply id="S3.E1.m1.4.4.1.1.2.4.cmml" xref="S3.E1.m1.4.4.1.1.2.4"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.2.4.1.cmml" xref="S3.E1.m1.4.4.1.1.2.4">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.2.4.2.cmml" xref="S3.E1.m1.4.4.1.1.2.4.2">𝑓</ci><ci id="S3.E1.m1.4.4.1.1.2.4.3a.cmml" xref="S3.E1.m1.4.4.1.1.2.4.3"><mtext class="ltx_font_smallcaps" mathsize="70%" id="S3.E1.m1.4.4.1.1.2.4.3.cmml" xref="S3.E1.m1.4.4.1.1.2.4.3">BN</mtext></ci></apply><list id="S3.E1.m1.4.4.1.1.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2"><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝒉</ci><interval closure="open" id="S3.E1.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1.1.1.2"><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝜸</ci><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝜷</ci></interval><interval closure="open" id="S3.E1.m1.4.4.1.1.2.2.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2"><apply id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.2">𝝁</ci><ci id="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.3.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.1.1.3">ℬ</ci></apply><apply id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2">subscript</csymbol><apply id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.2">𝝈</ci><cn type="integer" id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.2.3">2</cn></apply><ci id="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.2.2.2.2.2.3">ℬ</ci></apply></interval></list></apply></apply><apply id="S3.E1.m1.4.4.1.1c.cmml" xref="S3.E1.m1.4.4.1"><eq id="S3.E1.m1.4.4.1.1.6.cmml" xref="S3.E1.m1.4.4.1.1.6"></eq><share href="#S3.E1.m1.4.4.1.1.2.cmml" id="S3.E1.m1.4.4.1.1d.cmml" xref="S3.E1.m1.4.4.1"></share><apply id="S3.E1.m1.4.4.1.1.7.cmml" xref="S3.E1.m1.4.4.1.1.7"><plus id="S3.E1.m1.4.4.1.1.7.1.cmml" xref="S3.E1.m1.4.4.1.1.7.1"></plus><apply id="S3.E1.m1.4.4.1.1.7.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2"><times id="S3.E1.m1.4.4.1.1.7.2.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.1"></times><ci id="S3.E1.m1.4.4.1.1.7.2.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.2">𝜸</ci><apply id="S3.E1.m1.4.4.1.1.7.2.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3"><divide id="S3.E1.m1.4.4.1.1.7.2.3.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3"></divide><apply id="S3.E1.m1.4.4.1.1.7.2.3.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2"><minus id="S3.E1.m1.4.4.1.1.7.2.3.2.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.1"></minus><ci id="S3.E1.m1.4.4.1.1.7.2.3.2.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.2">𝒉</ci><apply id="S3.E1.m1.4.4.1.1.7.2.3.2.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.7.2.3.2.3.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.7.2.3.2.3.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3.2">𝝁</ci><ci id="S3.E1.m1.4.4.1.1.7.2.3.2.3.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.2.3.3">ℬ</ci></apply></apply><apply id="S3.E1.m1.4.4.1.1.7.2.3.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3"><root id="S3.E1.m1.4.4.1.1.7.2.3.3a.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3"></root><apply id="S3.E1.m1.4.4.1.1.7.2.3.3.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2"><plus id="S3.E1.m1.4.4.1.1.7.2.3.3.2.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.1"></plus><apply id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2">subscript</csymbol><apply id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.1.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2">superscript</csymbol><ci id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.2.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.2">𝝈</ci><cn type="integer" id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.2.3">2</cn></apply><ci id="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.2.3">ℬ</ci></apply><ci id="S3.E1.m1.4.4.1.1.7.2.3.3.2.3.cmml" xref="S3.E1.m1.4.4.1.1.7.2.3.3.2.3">italic-ϵ</ci></apply></apply></apply></apply><ci id="S3.E1.m1.4.4.1.1.7.3.cmml" xref="S3.E1.m1.4.4.1.1.7.3">𝜷</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">\displaystyle\hat{\bm{h}}=f_{\textsc{BN}}(\bm{h};(\bm{\gamma},\bm{\beta}),(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}}))=\bm{\gamma}\frac{\bm{h}-\bm{\mu}_{\mathcal{B}}}{\sqrt{\bm{\sigma}^{2}_{\mathcal{B}}+\epsilon}}+\bm{\beta};</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.1" class="ltx_Math" alttext="\displaystyle\epsilon\ \&gt;\text{is a small constant}." display="inline"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.cmml"><mrow id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.2.cmml">ϵ</mi><mo lspace="0.720em" rspace="0em" id="S3.Ex1.m1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.cmml">​</mo><mtext id="S3.Ex1.m1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.3a.cmml">is a small constant</mtext></mrow><mo lspace="0em" id="S3.Ex1.m1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1"><times id="S3.Ex1.m1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1"></times><ci id="S3.Ex1.m1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.2">italic-ϵ</ci><ci id="S3.Ex1.m1.1.1.1.1.3a.cmml" xref="S3.Ex1.m1.1.1.1.1.3"><mtext id="S3.Ex1.m1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.3">is a small constant</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle\epsilon\ \&gt;\text{is a small constant}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS0.Px1.p1.8" class="ltx_p">In training, the statistics <math id="S3.SS0.SSS0.Px1.p1.6.m1.1" class="ltx_Math" alttext="\bm{\mu}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.6.m1.1a"><msub id="S3.SS0.SSS0.Px1.p1.6.m1.1.1" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.2" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.3" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1.3.cmml">ℬ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.6.m1.1b"><apply id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1.2">𝝁</ci><ci id="S3.SS0.SSS0.Px1.p1.6.m1.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.6.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.6.m1.1c">\bm{\mu}_{\mathcal{B}}</annotation></semantics></math> and <math id="S3.SS0.SSS0.Px1.p1.7.m2.1" class="ltx_Math" alttext="\bm{\sigma}^{2}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.7.m2.1a"><msubsup id="S3.SS0.SSS0.Px1.p1.7.m2.1.1" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.2" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.3" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.3.cmml">ℬ</mi><mn id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.3" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.7.m2.1b"><apply id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.2">𝝈</ci><cn type="integer" id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.3.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.2.3">2</cn></apply><ci id="S3.SS0.SSS0.Px1.p1.7.m2.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.7.m2.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.7.m2.1c">\bm{\sigma}^{2}_{\mathcal{B}}</annotation></semantics></math> are computed on each training mini-batch during the forward passes. Meanwhile, these mini-batch statistics are accumulated by the following exponential moving average (controlled by <math id="S3.SS0.SSS0.Px1.p1.8.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.8.m3.1a"><mi id="S3.SS0.SSS0.Px1.p1.8.m3.1.1" xref="S3.SS0.SSS0.Px1.p1.8.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.8.m3.1b"><ci id="S3.SS0.SSS0.Px1.p1.8.m3.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.8.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.8.m3.1c">\alpha</annotation></semantics></math>):</p>
<table id="A4.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E2.m1.1" class="ltx_Math" alttext="\displaystyle\bm{\mu}:=\alpha\bm{\mu}+(1-\alpha)\bm{\mu}_{\mathcal{B}},\quad\bm{\sigma}^{2}:=\alpha\bm{\sigma}^{2}+(1-\alpha)\bm{\sigma}^{2}_{\mathcal{B}}." display="inline"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.1.1"><mrow id="S3.E2.m1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.3.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.3.cmml">𝝁</mi><mo lspace="0.278em" rspace="0.278em" id="S3.E2.m1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.2.cmml">:=</mo><mrow id="S3.E2.m1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.1.1.1.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.1.1.1.1.1.1.1.3.1" xref="S3.E2.m1.1.1.1.1.1.1.1.3.1.cmml">​</mo><mi id="S3.E2.m1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.1.1.1.3.3.cmml">𝝁</mi></mrow><mo id="S3.E2.m1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S3.E2.m1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.2.cmml">​</mo><msub id="S3.E2.m1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3.3.cmml">ℬ</mi></msub></mrow></mrow></mrow><mo rspace="1.167em" id="S3.E2.m1.1.1.1.1.2.3" xref="S3.E2.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E2.m1.1.1.1.1.2.2" xref="S3.E2.m1.1.1.1.1.2.2.cmml"><msup id="S3.E2.m1.1.1.1.1.2.2.3" xref="S3.E2.m1.1.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1.2.2.3.2" xref="S3.E2.m1.1.1.1.1.2.2.3.2.cmml">𝝈</mi><mn id="S3.E2.m1.1.1.1.1.2.2.3.3" xref="S3.E2.m1.1.1.1.1.2.2.3.3.cmml">2</mn></msup><mo lspace="0.278em" rspace="0.278em" id="S3.E2.m1.1.1.1.1.2.2.2" xref="S3.E2.m1.1.1.1.1.2.2.2.cmml">:=</mo><mrow id="S3.E2.m1.1.1.1.1.2.2.1" xref="S3.E2.m1.1.1.1.1.2.2.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.2.2.1.3" xref="S3.E2.m1.1.1.1.1.2.2.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.2.2.1.3.2" xref="S3.E2.m1.1.1.1.1.2.2.1.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.1.1.1.1.2.2.1.3.1" xref="S3.E2.m1.1.1.1.1.2.2.1.3.1.cmml">​</mo><msup id="S3.E2.m1.1.1.1.1.2.2.1.3.3" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3.cmml"><mi id="S3.E2.m1.1.1.1.1.2.2.1.3.3.2" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3.2.cmml">𝝈</mi><mn id="S3.E2.m1.1.1.1.1.2.2.1.3.3.3" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3.3.cmml">2</mn></msup></mrow><mo id="S3.E2.m1.1.1.1.1.2.2.1.2" xref="S3.E2.m1.1.1.1.1.2.2.1.2.cmml">+</mo><mrow id="S3.E2.m1.1.1.1.1.2.2.1.1" xref="S3.E2.m1.1.1.1.1.2.2.1.1.cmml"><mrow id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.cmml"><mn id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m1.1.1.1.1.2.2.1.1.2" xref="S3.E2.m1.1.1.1.1.2.2.1.1.2.cmml">​</mo><msubsup id="S3.E2.m1.1.1.1.1.2.2.1.1.3" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.2" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.1.1.2.2.1.1.3.3" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.3.cmml">ℬ</mi><mn id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.3" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.3.cmml">2</mn></msubsup></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E2.m1.1.1.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.3a.cmml" xref="S3.E2.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2">assign</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3">𝝁</ci><apply id="S3.E2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1"><plus id="S3.E2.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.2"></plus><apply id="S3.E2.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.3"><times id="S3.E2.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E2.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.3.2">𝛼</ci><ci id="S3.E2.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.3.3">𝝁</ci></apply><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1"><times id="S3.E2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝛼</ci></apply><apply id="S3.E2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3.2">𝝁</ci><ci id="S3.E2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1.1.3.3">ℬ</ci></apply></apply></apply></apply><apply id="S3.E2.m1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2"><csymbol cd="latexml" id="S3.E2.m1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.2">assign</csymbol><apply id="S3.E2.m1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.3">superscript</csymbol><ci id="S3.E2.m1.1.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.3.2">𝝈</ci><cn type="integer" id="S3.E2.m1.1.1.1.1.2.2.3.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.3.3">2</cn></apply><apply id="S3.E2.m1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1"><plus id="S3.E2.m1.1.1.1.1.2.2.1.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.2"></plus><apply id="S3.E2.m1.1.1.1.1.2.2.1.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3"><times id="S3.E2.m1.1.1.1.1.2.2.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.1"></times><ci id="S3.E2.m1.1.1.1.1.2.2.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.2">𝛼</ci><apply id="S3.E2.m1.1.1.1.1.2.2.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.2.1.3.3.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3">superscript</csymbol><ci id="S3.E2.m1.1.1.1.1.2.2.1.3.3.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3.2">𝝈</ci><cn type="integer" id="S3.E2.m1.1.1.1.1.2.2.1.3.3.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.3.3.3">2</cn></apply></apply><apply id="S3.E2.m1.1.1.1.1.2.2.1.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1"><times id="S3.E2.m1.1.1.1.1.2.2.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.2"></times><apply id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1"><minus id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.2">1</cn><ci id="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.1.1.1.3">𝛼</ci></apply><apply id="S3.E2.m1.1.1.1.1.2.2.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.2.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3">subscript</csymbol><apply id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3">superscript</csymbol><ci id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.2.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.2">𝝈</ci><cn type="integer" id="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.2.3">2</cn></apply><ci id="S3.E2.m1.1.1.1.1.2.2.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.2.2.1.1.3.3">ℬ</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\displaystyle\bm{\mu}:=\alpha\bm{\mu}+(1-\alpha)\bm{\mu}_{\mathcal{B}},\quad\bm{\sigma}^{2}:=\alpha\bm{\sigma}^{2}+(1-\alpha)\bm{\sigma}^{2}_{\mathcal{B}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS0.Px1.p1.12" class="ltx_p">During testing, <math id="S3.SS0.SSS0.Px1.p1.9.m1.1" class="ltx_Math" alttext="\bm{\mu}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.9.m1.1a"><mi id="S3.SS0.SSS0.Px1.p1.9.m1.1.1" xref="S3.SS0.SSS0.Px1.p1.9.m1.1.1.cmml">𝝁</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.9.m1.1b"><ci id="S3.SS0.SSS0.Px1.p1.9.m1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.9.m1.1.1">𝝁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.9.m1.1c">\bm{\mu}</annotation></semantics></math> and <math id="S3.SS0.SSS0.Px1.p1.10.m2.1" class="ltx_Math" alttext="\bm{\sigma}^{2}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.10.m2.1a"><msup id="S3.SS0.SSS0.Px1.p1.10.m2.1.1" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.2" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1.2.cmml">𝝈</mi><mn id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.3" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.10.m2.1b"><apply id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1.2">𝝈</ci><cn type="integer" id="S3.SS0.SSS0.Px1.p1.10.m2.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.10.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.10.m2.1c">\bm{\sigma}^{2}</annotation></semantics></math> are seen as the estimated statistics of the whole training set and used for normalization, i.e., to replace <math id="S3.SS0.SSS0.Px1.p1.11.m3.1" class="ltx_Math" alttext="\bm{\mu}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.11.m3.1a"><msub id="S3.SS0.SSS0.Px1.p1.11.m3.1.1" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.2" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.3" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1.3.cmml">ℬ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.11.m3.1b"><apply id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1.2">𝝁</ci><ci id="S3.SS0.SSS0.Px1.p1.11.m3.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.11.m3.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.11.m3.1c">\bm{\mu}_{\mathcal{B}}</annotation></semantics></math> and <math id="S3.SS0.SSS0.Px1.p1.12.m4.1" class="ltx_Math" alttext="\bm{\sigma}^{2}_{\mathcal{B}}" display="inline"><semantics id="S3.SS0.SSS0.Px1.p1.12.m4.1a"><msubsup id="S3.SS0.SSS0.Px1.p1.12.m4.1.1" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.cmml"><mi id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.2" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.3" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.3.cmml">ℬ</mi><mn id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.3" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.12.m4.1b"><apply id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.2">𝝈</ci><cn type="integer" id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.3.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.2.3">2</cn></apply><ci id="S3.SS0.SSS0.Px1.p1.12.m4.1.1.3.cmml" xref="S3.SS0.SSS0.Px1.p1.12.m4.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.12.m4.1c">\bm{\sigma}^{2}_{\mathcal{B}}</annotation></semantics></math>
in <a href="#S3.E1" title="Equation 1 ‣ Batch Normalization (BN). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 1</span></a>.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Federated Learning (FL).</h4>

<div id="S3.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px2.p1.6" class="ltx_p">In a federated setting, the goal is to learn a model on the training data distributed among <math id="S3.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.1.m1.1c">M</annotation></semantics></math> clients. Each has a training set <math id="S3.SS0.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="\mathcal{D}_{m}=\{({\bm{x}}_{i},y_{i})\}_{i=1}^{|\mathcal{D}_{m}|},\forall m\in[M]" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.2.m2.4a"><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.3.cmml"><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.cmml"><msub id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml">𝒟</mi><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.3.cmml">m</mi></msub><mo id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml">=</mo><msubsup id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.cmml"><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.4" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.5" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.cmml"><mi id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.2.cmml">i</mi><mo id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.3.cmml">1</mn></mrow><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.2.1.cmml">|</mo><msub id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><mo id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.3" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.3a.cmml">,</mo><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.cmml"><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml"><mo rspace="0.167em" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.1.cmml">∀</mo><mi id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.2.cmml">m</mi></mrow><mo id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.1.cmml">∈</mo><mrow id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.1.cmml">[</mo><mi id="S3.SS0.SSS0.Px2.p1.2.m2.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.2.2.cmml">M</mi><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.2" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.2.m2.4b"><apply id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.3a.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.3">formulae-sequence</csymbol><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1"><eq id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.2"></eq><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.2">𝒟</ci><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.3.3">𝑚</ci></apply><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1">subscript</csymbol><set id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1"><interval closure="open" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2"><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.2">𝑦</ci><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3"><eq id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.1"></eq><ci id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.3.3.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1"><abs id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.2"></abs><apply id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.2">𝒟</ci><ci id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply><apply id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2"><in id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.1"></in><apply id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2"><csymbol cd="latexml" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.1">for-all</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.2.2">𝑚</ci></apply><apply id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.2"><csymbol cd="latexml" id="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.4.4.2.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS0.SSS0.Px2.p1.2.m2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.2.2">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.2.m2.4c">\mathcal{D}_{m}=\{({\bm{x}}_{i},y_{i})\}_{i=1}^{|\mathcal{D}_{m}|},\forall m\in[M]</annotation></semantics></math>, where <math id="S3.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="{\bm{x}}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.3.m3.1c">{\bm{x}}</annotation></semantics></math> is the input (e.g., images) and <math id="S3.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="S3.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.4.m4.1c">y</annotation></semantics></math> is the true label. Let <math id="S3.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{D}=\cup_{m}\mathcal{D}_{m}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.5.m5.1a"><mrow id="S3.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.2" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.2.cmml">𝒟</mi><mo rspace="0em" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.1" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.1.cmml">=</mo><mrow id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.cmml"><msub id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.cmml"><mo lspace="0em" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.2" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.2.cmml">∪</mo><mi id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.3" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.3.cmml">m</mi></msub><msub id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.2" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.2.cmml">𝒟</mi><mi id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.3" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.3.cmml">m</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.5.m5.1b"><apply id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1"><eq id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.1"></eq><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.2">𝒟</ci><apply id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3"><apply id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1">subscript</csymbol><union id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.2"></union><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.1.3">𝑚</ci></apply><apply id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2">subscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.2">𝒟</ci><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.3.2.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.5.m5.1c">\mathcal{D}=\cup_{m}\mathcal{D}_{m}</annotation></semantics></math> be the aggregated training set from all clients; <math id="S3.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.6.m6.1a"><mi mathvariant="normal" id="S3.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S3.SS0.SSS0.Px2.p1.6.m6.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.6.m6.1b"><ci id="S3.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.6.m6.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.6.m6.1c">\ell</annotation></semantics></math> is the loss function on a data sample. FL aims to minimize the empirical risk over all the clients:</p>
<table id="A4.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E3.m1.5" class="ltx_Math" alttext="\displaystyle\min_{\bm{\theta}}~{}\mathcal{L}(\bm{\theta})=\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}\mathcal{L}_{m}(\bm{\theta}),\hskip 10.0pt" display="inline"><semantics id="S3.E3.m1.5a"><mrow id="S3.E3.m1.5.5.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1.2" xref="S3.E3.m1.5.5.1.1.2.cmml"><mrow id="S3.E3.m1.5.5.1.1.2.2" xref="S3.E3.m1.5.5.1.1.2.2.cmml"><munder id="S3.E3.m1.5.5.1.1.2.2.1" xref="S3.E3.m1.5.5.1.1.2.2.1.cmml"><mi id="S3.E3.m1.5.5.1.1.2.2.1.2" xref="S3.E3.m1.5.5.1.1.2.2.1.2.cmml">min</mi><mi id="S3.E3.m1.5.5.1.1.2.2.1.3" xref="S3.E3.m1.5.5.1.1.2.2.1.3.cmml">𝜽</mi></munder><mo lspace="0.497em" id="S3.E3.m1.5.5.1.1.2.2a" xref="S3.E3.m1.5.5.1.1.2.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.1.1.2.2.2" xref="S3.E3.m1.5.5.1.1.2.2.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.2.1" xref="S3.E3.m1.5.5.1.1.2.1.cmml">​</mo><mrow id="S3.E3.m1.5.5.1.1.2.3.2" xref="S3.E3.m1.5.5.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.3.2.1" xref="S3.E3.m1.5.5.1.1.2.cmml">(</mo><mi id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml">𝜽</mi><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.3.2.2" xref="S3.E3.m1.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.5.5.1.1.1" xref="S3.E3.m1.5.5.1.1.1.cmml">=</mo><mrow id="S3.E3.m1.5.5.1.1.3" xref="S3.E3.m1.5.5.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E3.m1.5.5.1.1.3.1" xref="S3.E3.m1.5.5.1.1.3.1.cmml"><munderover id="S3.E3.m1.5.5.1.1.3.1a" xref="S3.E3.m1.5.5.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E3.m1.5.5.1.1.3.1.2.2" xref="S3.E3.m1.5.5.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E3.m1.5.5.1.1.3.1.2.3" xref="S3.E3.m1.5.5.1.1.3.1.2.3.cmml"><mi id="S3.E3.m1.5.5.1.1.3.1.2.3.2" xref="S3.E3.m1.5.5.1.1.3.1.2.3.2.cmml">m</mi><mo id="S3.E3.m1.5.5.1.1.3.1.2.3.1" xref="S3.E3.m1.5.5.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E3.m1.5.5.1.1.3.1.2.3.3" xref="S3.E3.m1.5.5.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.5.5.1.1.3.1.3" xref="S3.E3.m1.5.5.1.1.3.1.3.cmml">M</mi></munderover></mstyle><mrow id="S3.E3.m1.5.5.1.1.3.2" xref="S3.E3.m1.5.5.1.1.3.2.cmml"><mstyle displaystyle="true" id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mfrac id="S3.E3.m1.2.2a" xref="S3.E3.m1.2.2.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.2.3.1" xref="S3.E3.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.2.1" xref="S3.E3.m1.2.2.2.1.cmml">𝒟</mi><mo stretchy="false" id="S3.E3.m1.2.2.2.3.2" xref="S3.E3.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.3.2.1" xref="S3.E3.m1.5.5.1.1.3.2.1.cmml">​</mo><msub id="S3.E3.m1.5.5.1.1.3.2.2" xref="S3.E3.m1.5.5.1.1.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.1.1.3.2.2.2" xref="S3.E3.m1.5.5.1.1.3.2.2.2.cmml">ℒ</mi><mi id="S3.E3.m1.5.5.1.1.3.2.2.3" xref="S3.E3.m1.5.5.1.1.3.2.2.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.3.2.1a" xref="S3.E3.m1.5.5.1.1.3.2.1.cmml">​</mo><mrow id="S3.E3.m1.5.5.1.1.3.2.3.2" xref="S3.E3.m1.5.5.1.1.3.2.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.1.1.3.2.3.2.1" xref="S3.E3.m1.5.5.1.1.3.2.cmml">(</mo><mi id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml">𝜽</mi><mo stretchy="false" id="S3.E3.m1.5.5.1.1.3.2.3.2.2" xref="S3.E3.m1.5.5.1.1.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.5.5.1.2" xref="S3.E3.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.5b"><apply id="S3.E3.m1.5.5.1.1.cmml" xref="S3.E3.m1.5.5.1"><eq id="S3.E3.m1.5.5.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1"></eq><apply id="S3.E3.m1.5.5.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2"><times id="S3.E3.m1.5.5.1.1.2.1.cmml" xref="S3.E3.m1.5.5.1.1.2.1"></times><apply id="S3.E3.m1.5.5.1.1.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2"><apply id="S3.E3.m1.5.5.1.1.2.2.1.cmml" xref="S3.E3.m1.5.5.1.1.2.2.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.2.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.2.1">subscript</csymbol><min id="S3.E3.m1.5.5.1.1.2.2.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.1.2"></min><ci id="S3.E3.m1.5.5.1.1.2.2.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.2.1.3">𝜽</ci></apply><ci id="S3.E3.m1.5.5.1.1.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2">ℒ</ci></apply><ci id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3">𝜽</ci></apply><apply id="S3.E3.m1.5.5.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.3"><apply id="S3.E3.m1.5.5.1.1.3.1.cmml" xref="S3.E3.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.3.1.1.cmml" xref="S3.E3.m1.5.5.1.1.3.1">superscript</csymbol><apply id="S3.E3.m1.5.5.1.1.3.1.2.cmml" xref="S3.E3.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.3.1.2.1.cmml" xref="S3.E3.m1.5.5.1.1.3.1">subscript</csymbol><sum id="S3.E3.m1.5.5.1.1.3.1.2.2.cmml" xref="S3.E3.m1.5.5.1.1.3.1.2.2"></sum><apply id="S3.E3.m1.5.5.1.1.3.1.2.3.cmml" xref="S3.E3.m1.5.5.1.1.3.1.2.3"><eq id="S3.E3.m1.5.5.1.1.3.1.2.3.1.cmml" xref="S3.E3.m1.5.5.1.1.3.1.2.3.1"></eq><ci id="S3.E3.m1.5.5.1.1.3.1.2.3.2.cmml" xref="S3.E3.m1.5.5.1.1.3.1.2.3.2">𝑚</ci><cn type="integer" id="S3.E3.m1.5.5.1.1.3.1.2.3.3.cmml" xref="S3.E3.m1.5.5.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.5.5.1.1.3.1.3.cmml" xref="S3.E3.m1.5.5.1.1.3.1.3">𝑀</ci></apply><apply id="S3.E3.m1.5.5.1.1.3.2.cmml" xref="S3.E3.m1.5.5.1.1.3.2"><times id="S3.E3.m1.5.5.1.1.3.2.1.cmml" xref="S3.E3.m1.5.5.1.1.3.2.1"></times><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><divide id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2"></divide><apply id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1"><abs id="S3.E3.m1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2"></abs><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.3"><abs id="S3.E3.m1.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.3.1"></abs><ci id="S3.E3.m1.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.1">𝒟</ci></apply></apply><apply id="S3.E3.m1.5.5.1.1.3.2.2.cmml" xref="S3.E3.m1.5.5.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.3.2.2.1.cmml" xref="S3.E3.m1.5.5.1.1.3.2.2">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.3.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.3.2.2.2">ℒ</ci><ci id="S3.E3.m1.5.5.1.1.3.2.2.3.cmml" xref="S3.E3.m1.5.5.1.1.3.2.2.3">𝑚</ci></apply><ci id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4">𝜽</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.5c">\displaystyle\min_{\bm{\theta}}~{}\mathcal{L}(\bm{\theta})=\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}\mathcal{L}_{m}(\bm{\theta}),\hskip 10.0pt</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E4.m1.6" class="ltx_Math" alttext="\displaystyle\text{where}\hskip 10.0pt\mathcal{L}_{m}(\bm{\theta})=\frac{1}{|\mathcal{D}_{m}|}\sum_{i=1}^{|\mathcal{D}_{m}|}\ell({\bm{x}}_{i},y_{i};\bm{\theta})," display="inline"><semantics id="S3.E4.m1.6a"><mrow id="S3.E4.m1.6.6.1" xref="S3.E4.m1.6.6.1.1.cmml"><mrow id="S3.E4.m1.6.6.1.1" xref="S3.E4.m1.6.6.1.1.cmml"><mrow id="S3.E4.m1.6.6.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.2.cmml"><mtext id="S3.E4.m1.5.5" xref="S3.E4.m1.5.5a.cmml">where</mtext><mspace width="1em" id="S3.E4.m1.6.6.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.2.cmml"></mspace><mrow id="S3.E4.m1.6.6.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.cmml"><msub id="S3.E4.m1.6.6.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.6.6.1.1.1.1.1.2.2" xref="S3.E4.m1.6.6.1.1.1.1.1.2.2.cmml">ℒ</mi><mi id="S3.E4.m1.6.6.1.1.1.1.1.2.3" xref="S3.E4.m1.6.6.1.1.1.1.1.2.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.cmml">​</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.3.2" xref="S3.E4.m1.6.6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.3.2.1" xref="S3.E4.m1.6.6.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.3.3" xref="S3.E4.m1.3.3.cmml">𝜽</mi><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.3.2.2" xref="S3.E4.m1.6.6.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4.m1.6.6.1.1.4" xref="S3.E4.m1.6.6.1.1.4.cmml">=</mo><mrow id="S3.E4.m1.6.6.1.1.3" xref="S3.E4.m1.6.6.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mfrac id="S3.E4.m1.1.1a" xref="S3.E4.m1.1.1.cmml"><mn id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml">1</mn><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E4.m1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E4.m1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.1.1.3.3" xref="S3.E4.m1.6.6.1.1.3.3.cmml">​</mo><mrow id="S3.E4.m1.6.6.1.1.3.2" xref="S3.E4.m1.6.6.1.1.3.2.cmml"><mstyle displaystyle="true" id="S3.E4.m1.6.6.1.1.3.2.3" xref="S3.E4.m1.6.6.1.1.3.2.3.cmml"><munderover id="S3.E4.m1.6.6.1.1.3.2.3a" xref="S3.E4.m1.6.6.1.1.3.2.3.cmml"><mo movablelimits="false" id="S3.E4.m1.6.6.1.1.3.2.3.2.2" xref="S3.E4.m1.6.6.1.1.3.2.3.2.2.cmml">∑</mo><mrow id="S3.E4.m1.6.6.1.1.3.2.3.2.3" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.cmml"><mi id="S3.E4.m1.6.6.1.1.3.2.3.2.3.2" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.2.cmml">i</mi><mo id="S3.E4.m1.6.6.1.1.3.2.3.2.3.1" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.1.cmml">=</mo><mn id="S3.E4.m1.6.6.1.1.3.2.3.2.3.3" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.E4.m1.2.2.1.1" xref="S3.E4.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.2" xref="S3.E4.m1.2.2.1.2.1.cmml">|</mo><msub id="S3.E4.m1.2.2.1.1.1" xref="S3.E4.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.2.2.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.2.cmml">𝒟</mi><mi id="S3.E4.m1.2.2.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.E4.m1.2.2.1.1.3" xref="S3.E4.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover></mstyle><mrow id="S3.E4.m1.6.6.1.1.3.2.2" xref="S3.E4.m1.6.6.1.1.3.2.2.cmml"><mi mathvariant="normal" id="S3.E4.m1.6.6.1.1.3.2.2.4" xref="S3.E4.m1.6.6.1.1.3.2.2.4.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.1.1.3.2.2.3" xref="S3.E4.m1.6.6.1.1.3.2.2.3.cmml">​</mo><mrow id="S3.E4.m1.6.6.1.1.3.2.2.2.2" xref="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.1.3.2.2.2.2.3" xref="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml">(</mo><msub id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.3" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E4.m1.6.6.1.1.3.2.2.2.2.4" xref="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml">,</mo><msub id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.cmml"><mi id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.2" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.2.cmml">y</mi><mi id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.3" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.E4.m1.6.6.1.1.3.2.2.2.2.5" xref="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml">;</mo><mi id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml">𝜽</mi><mo stretchy="false" id="S3.E4.m1.6.6.1.1.3.2.2.2.2.6" xref="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.6.6.1.2" xref="S3.E4.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.6b"><apply id="S3.E4.m1.6.6.1.1.cmml" xref="S3.E4.m1.6.6.1"><eq id="S3.E4.m1.6.6.1.1.4.cmml" xref="S3.E4.m1.6.6.1.1.4"></eq><list id="S3.E4.m1.6.6.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1"><ci id="S3.E4.m1.5.5a.cmml" xref="S3.E4.m1.5.5"><mtext id="S3.E4.m1.5.5.cmml" xref="S3.E4.m1.5.5">where</mtext></ci><apply id="S3.E4.m1.6.6.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1"><times id="S3.E4.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1"></times><apply id="S3.E4.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E4.m1.6.6.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.2.2">ℒ</ci><ci id="S3.E4.m1.6.6.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.2.3">𝑚</ci></apply><ci id="S3.E4.m1.3.3.cmml" xref="S3.E4.m1.3.3">𝜽</ci></apply></list><apply id="S3.E4.m1.6.6.1.1.3.cmml" xref="S3.E4.m1.6.6.1.1.3"><times id="S3.E4.m1.6.6.1.1.3.3.cmml" xref="S3.E4.m1.6.6.1.1.3.3"></times><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><divide id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1"></divide><cn type="integer" id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3">1</cn><apply id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1"><abs id="S3.E4.m1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2"></abs><apply id="S3.E4.m1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E4.m1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.E4.m1.6.6.1.1.3.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2"><apply id="S3.E4.m1.6.6.1.1.3.2.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.3.2.3.1.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3">superscript</csymbol><apply id="S3.E4.m1.6.6.1.1.3.2.3.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.3.2.3.2.1.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3">subscript</csymbol><sum id="S3.E4.m1.6.6.1.1.3.2.3.2.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3.2.2"></sum><apply id="S3.E4.m1.6.6.1.1.3.2.3.2.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3"><eq id="S3.E4.m1.6.6.1.1.3.2.3.2.3.1.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.1"></eq><ci id="S3.E4.m1.6.6.1.1.3.2.3.2.3.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.2">𝑖</ci><cn type="integer" id="S3.E4.m1.6.6.1.1.3.2.3.2.3.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E4.m1.2.2.1.2.cmml" xref="S3.E4.m1.2.2.1.1"><abs id="S3.E4.m1.2.2.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2"></abs><apply id="S3.E4.m1.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.2">𝒟</ci><ci id="S3.E4.m1.2.2.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.3">𝑚</ci></apply></apply></apply><apply id="S3.E4.m1.6.6.1.1.3.2.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2"><times id="S3.E4.m1.6.6.1.1.3.2.2.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.3"></times><ci id="S3.E4.m1.6.6.1.1.3.2.2.4.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.4">ℓ</ci><vector id="S3.E4.m1.6.6.1.1.3.2.2.2.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2"><apply id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.2">𝒙</ci><ci id="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E4.m1.6.6.1.1.2.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.1.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2">subscript</csymbol><ci id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.2">𝑦</ci><ci id="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.3.cmml" xref="S3.E4.m1.6.6.1.1.3.2.2.2.2.2.3">𝑖</ci></apply><ci id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4">𝜽</ci></vector></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.6c">\displaystyle\text{where}\hskip 10.0pt\mathcal{L}_{m}(\bm{\theta})=\frac{1}{|\mathcal{D}_{m}|}\sum_{i=1}^{|\mathcal{D}_{m}|}\ell({\bm{x}}_{i},y_{i};\bm{\theta}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS0.Px2.p1.10" class="ltx_p">where <math id="S3.SS0.SSS0.Px2.p1.7.m1.1" class="ltx_Math" alttext="\bm{\theta}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.7.m1.1a"><mi id="S3.SS0.SSS0.Px2.p1.7.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.7.m1.1.1.cmml">𝜽</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.7.m1.1b"><ci id="S3.SS0.SSS0.Px2.p1.7.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m1.1.1">𝜽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.7.m1.1c">\bm{\theta}</annotation></semantics></math> is the model parameters. For DNNs with <span id="S3.SS0.SSS0.Px2.p1.10.1" class="ltx_text ltx_font_smallcaps">BN</span> layers, <math id="S3.SS0.SSS0.Px2.p1.8.m2.1" class="ltx_Math" alttext="\bm{\theta}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.8.m2.1a"><mi id="S3.SS0.SSS0.Px2.p1.8.m2.1.1" xref="S3.SS0.SSS0.Px2.p1.8.m2.1.1.cmml">𝜽</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.8.m2.1b"><ci id="S3.SS0.SSS0.Px2.p1.8.m2.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.8.m2.1.1">𝜽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.8.m2.1c">\bm{\theta}</annotation></semantics></math> includes learnable weights of the perceptron layers like fully-connected and convolutional layers, in addition to the statistics <math id="S3.SS0.SSS0.Px2.p1.9.m3.4" class="ltx_Math" alttext="\{(\bm{\gamma},\bm{\beta}),\bm{S}\}" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.9.m3.4a"><mrow id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.2" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.2.cmml">{</mo><mrow id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.2" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.2.1" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.1.cmml">(</mo><mi id="S3.SS0.SSS0.Px2.p1.9.m3.1.1" xref="S3.SS0.SSS0.Px2.p1.9.m3.1.1.cmml">𝜸</mi><mo id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.2.2" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.1.cmml">,</mo><mi id="S3.SS0.SSS0.Px2.p1.9.m3.2.2" xref="S3.SS0.SSS0.Px2.p1.9.m3.2.2.cmml">𝜷</mi><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.2.3" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.1.cmml">)</mo></mrow><mo id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.3" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.2.cmml">,</mo><mi id="S3.SS0.SSS0.Px2.p1.9.m3.3.3" xref="S3.SS0.SSS0.Px2.p1.9.m3.3.3.cmml">𝑺</mi><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.4" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.9.m3.4b"><set id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.2.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1"><interval closure="open" id="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m3.4.4.1.1.2"><ci id="S3.SS0.SSS0.Px2.p1.9.m3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m3.1.1">𝜸</ci><ci id="S3.SS0.SSS0.Px2.p1.9.m3.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m3.2.2">𝜷</ci></interval><ci id="S3.SS0.SSS0.Px2.p1.9.m3.3.3.cmml" xref="S3.SS0.SSS0.Px2.p1.9.m3.3.3">𝑺</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.9.m3.4c">\{(\bm{\gamma},\bm{\beta}),\bm{S}\}</annotation></semantics></math> of all <span id="S3.SS0.SSS0.Px2.p1.10.2" class="ltx_text ltx_font_smallcaps">BN</span> layers, where <math id="S3.SS0.SSS0.Px2.p1.10.m4.2" class="ltx_Math" alttext="\bm{S}=(\bm{\mu},{\bm{\sigma}}^{2})" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.10.m4.2a"><mrow id="S3.SS0.SSS0.Px2.p1.10.m4.2.2" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.cmml"><mi id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.3" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.3.cmml">𝑺</mi><mo id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.2" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.2.cmml">=</mo><mrow id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.2" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px2.p1.10.m4.1.1" xref="S3.SS0.SSS0.Px2.p1.10.m4.1.1.cmml">𝝁</mi><mo id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.3" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.2.cmml">,</mo><msup id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.cmml"><mi id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.2" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.2.cmml">𝝈</mi><mn id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.4" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.10.m4.2b"><apply id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2"><eq id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.2"></eq><ci id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.3.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.3">𝑺</ci><interval closure="open" id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1"><ci id="S3.SS0.SSS0.Px2.p1.10.m4.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.1.1">𝝁</ci><apply id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.2">𝝈</ci><cn type="integer" id="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px2.p1.10.m4.2.2.1.1.1.3">2</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.10.m4.2c">\bm{S}=(\bm{\mu},{\bm{\sigma}}^{2})</annotation></semantics></math> are the accumulate <span id="S3.SS0.SSS0.Px2.p1.10.3" class="ltx_text ltx_font_smallcaps">BN</span> means and variances.</p>
</div>
<figure id="S3.F2" class="ltx_figure">
<div id="S3.F2.2" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<div id="S3.F2.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/fix_epoch.jpg" id="S3.F2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="390" alt="Refer to caption">
<p id="S3.F2.1.1.1" class="ltx_p ltx_align_center"><span id="S3.F2.1.1.1.1" class="ltx_text" style="font-size:90%;">(a) Fixed 128 <span id="S3.F2.1.1.1.1.1" class="ltx_text ltx_font_bold">epochs</span></span></p>
</div>
<div id="S3.F2.2.2" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/fix_round.jpg" id="S3.F2.2.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="390" alt="Refer to caption">
<p id="S3.F2.2.2.1" class="ltx_p ltx_align_center"><span id="S3.F2.2.2.1.1" class="ltx_text" style="font-size:90%;">(b) Fixed 128 <span id="S3.F2.2.2.1.1.1" class="ltx_text ltx_font_bold">rounds</span></span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span><span id="S3.F2.8.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Is <span id="S3.F2.8.3.4" class="ltx_text ltx_font_smallcaps">GN</span> consistently better than <span id="S3.F2.8.3.5" class="ltx_text ltx_font_smallcaps">BN</span> in FL? No.<span id="S3.F2.6.1.1" class="ltx_text ltx_font_medium"> We compare their test accuracy in various FL settings on CIAFR-10 and Tiny-ImageNet, including different non-IID partitions and numbers of local steps <math id="S3.F2.6.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.F2.6.1.1.m1.1b"><mi id="S3.F2.6.1.1.m1.1.1" xref="S3.F2.6.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.F2.6.1.1.m1.1c"><ci id="S3.F2.6.1.1.m1.1.1.cmml" xref="S3.F2.6.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.1.1.m1.1d">E</annotation></semantics></math>. We consider </span>(a)<span id="S3.F2.7.2.2" class="ltx_text ltx_font_medium"> a fixed budget of the total number of SGD steps (e.g., for CIFAR-10, <math id="S3.F2.7.2.2.m1.1" class="ltx_Math" alttext="20\text{ local steps }\times 20\text{ batch size }\times 5\text{ clients }\times 3200\text{ rounds}=128\text{ epochs of CIFAR-10 training data}" display="inline"><semantics id="S3.F2.7.2.2.m1.1b"><mrow id="S3.F2.7.2.2.m1.1.1" xref="S3.F2.7.2.2.m1.1.1.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2" xref="S3.F2.7.2.2.m1.1.1.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.cmml"><mrow id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.cmml"><mn id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.2" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.2.cmml">20</mn><mo lspace="0em" rspace="0em" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.1.cmml">​</mo><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3a.cmml"> local steps </mtext></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.1.cmml">×</mo><mn id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.3.cmml">20</mn></mrow><mo lspace="0em" rspace="0em" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.1.cmml">​</mo><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3a.cmml"> batch size </mtext></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.1.cmml">×</mo><mn id="S3.F2.7.2.2.m1.1.1.2.2.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.3.cmml">5</mn></mrow><mo lspace="0em" rspace="0em" id="S3.F2.7.2.2.m1.1.1.2.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.2.1.cmml">​</mo><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.2.3a.cmml"> clients </mtext></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.F2.7.2.2.m1.1.1.2.2.1" xref="S3.F2.7.2.2.m1.1.1.2.2.1.cmml">×</mo><mn id="S3.F2.7.2.2.m1.1.1.2.2.3" xref="S3.F2.7.2.2.m1.1.1.2.2.3.cmml">3200</mn></mrow><mo lspace="0em" rspace="0em" id="S3.F2.7.2.2.m1.1.1.2.1" xref="S3.F2.7.2.2.m1.1.1.2.1.cmml">​</mo><mtext id="S3.F2.7.2.2.m1.1.1.2.3" xref="S3.F2.7.2.2.m1.1.1.2.3a.cmml"> rounds</mtext></mrow><mo id="S3.F2.7.2.2.m1.1.1.1" xref="S3.F2.7.2.2.m1.1.1.1.cmml">=</mo><mrow id="S3.F2.7.2.2.m1.1.1.3" xref="S3.F2.7.2.2.m1.1.1.3.cmml"><mn id="S3.F2.7.2.2.m1.1.1.3.2" xref="S3.F2.7.2.2.m1.1.1.3.2.cmml">128</mn><mo lspace="0em" rspace="0em" id="S3.F2.7.2.2.m1.1.1.3.1" xref="S3.F2.7.2.2.m1.1.1.3.1.cmml">​</mo><mtext id="S3.F2.7.2.2.m1.1.1.3.3" xref="S3.F2.7.2.2.m1.1.1.3.3a.cmml"> epochs of CIFAR-10 training data</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.7.2.2.m1.1c"><apply id="S3.F2.7.2.2.m1.1.1.cmml" xref="S3.F2.7.2.2.m1.1.1"><eq id="S3.F2.7.2.2.m1.1.1.1.cmml" xref="S3.F2.7.2.2.m1.1.1.1"></eq><apply id="S3.F2.7.2.2.m1.1.1.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2"><times id="S3.F2.7.2.2.m1.1.1.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.1"></times><apply id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2"><times id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.1"></times><cn type="integer" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.2">20</cn><ci id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3a.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3"><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.2.3"> local steps </mtext></ci></apply><cn type="integer" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.2.3">20</cn></apply><ci id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3a.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3"><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.2.3"> batch size </mtext></ci></apply><cn type="integer" id="S3.F2.7.2.2.m1.1.1.2.2.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.2.3">5</cn></apply><ci id="S3.F2.7.2.2.m1.1.1.2.2.2.3a.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.3"><mtext id="S3.F2.7.2.2.m1.1.1.2.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.2.3"> clients </mtext></ci></apply><cn type="integer" id="S3.F2.7.2.2.m1.1.1.2.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.2.3">3200</cn></apply><ci id="S3.F2.7.2.2.m1.1.1.2.3a.cmml" xref="S3.F2.7.2.2.m1.1.1.2.3"><mtext id="S3.F2.7.2.2.m1.1.1.2.3.cmml" xref="S3.F2.7.2.2.m1.1.1.2.3"> rounds</mtext></ci></apply><apply id="S3.F2.7.2.2.m1.1.1.3.cmml" xref="S3.F2.7.2.2.m1.1.1.3"><times id="S3.F2.7.2.2.m1.1.1.3.1.cmml" xref="S3.F2.7.2.2.m1.1.1.3.1"></times><cn type="integer" id="S3.F2.7.2.2.m1.1.1.3.2.cmml" xref="S3.F2.7.2.2.m1.1.1.3.2">128</cn><ci id="S3.F2.7.2.2.m1.1.1.3.3a.cmml" xref="S3.F2.7.2.2.m1.1.1.3.3"><mtext id="S3.F2.7.2.2.m1.1.1.3.3.cmml" xref="S3.F2.7.2.2.m1.1.1.3.3"> epochs of CIFAR-10 training data</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.7.2.2.m1.1d">20\text{ local steps }\times 20\text{ batch size }\times 5\text{ clients }\times 3200\text{ rounds}=128\text{ epochs of CIFAR-10 training data}</annotation></semantics></math>) or </span>(b)<span id="S3.F2.8.3.3" class="ltx_text ltx_font_medium"> a fixed number of total communication rounds (<math id="S3.F2.8.3.3.m1.1" class="ltx_Math" alttext="128" display="inline"><semantics id="S3.F2.8.3.3.m1.1b"><mn id="S3.F2.8.3.3.m1.1.1" xref="S3.F2.8.3.3.m1.1.1.cmml">128</mn><annotation-xml encoding="MathML-Content" id="S3.F2.8.3.3.m1.1c"><cn type="integer" id="S3.F2.8.3.3.m1.1.1.cmml" xref="S3.F2.8.3.3.m1.1.1">128</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.8.3.3.m1.1d">128</annotation></semantics></math> rounds). <span id="S3.F2.8.3.3.1" class="ltx_text" style="color:#009B55;">Green</span> cells: <span id="S3.F2.8.3.3.2" class="ltx_text ltx_font_smallcaps">BN</span> outperforms <span id="S3.F2.8.3.3.3" class="ltx_text ltx_font_smallcaps">GN</span>. <span id="S3.F2.8.3.3.4" class="ltx_text" style="color:#613F99;">Purple</span> cells: <span id="S3.F2.8.3.3.5" class="ltx_text ltx_font_smallcaps">GN</span> outperforms <span id="S3.F2.8.3.3.6" class="ltx_text ltx_font_smallcaps">BN</span>.</span></span></figcaption>
</figure>
</section>
<section id="S3.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Federated averaging (<span id="S3.SS0.SSS0.Px3.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span>).</h4>

<div id="S3.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px3.p1.2" class="ltx_p"><a href="#S3.E4" title="Equation 4 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 4</span></a> can not be solved directly in an FL setting due to the decentralized data. The fundamental FL algorithm <span id="S3.SS0.SSS0.Px3.p1.2.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib50" title="" class="ltx_ref">2017</a>)</cite> solves <a href="#S3.E4" title="Equation 4 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 4</span></a> by multiple rounds of parallel local updates at the clients and global model aggregation at the server. Given an initial model <math id="S3.SS0.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\bar{\bm{\theta}}^{(0)}" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.1.m1.1a"><msup id="S3.SS0.SSS0.Px3.p1.1.m1.1.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.cmml"><mover accent="true" id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.cmml"><mi id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.2.cmml">𝜽</mi><mo id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.1.cmml">¯</mo></mover><mrow id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.3.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.cmml">(</mo><mn id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.cmml">0</mn><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.3.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.1.m1.1b"><apply id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2"><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.1">¯</ci><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.2.2.2">𝜽</ci></apply><cn type="integer" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.1">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.1.m1.1c">\bar{\bm{\theta}}^{(0)}</annotation></semantics></math>, for round <math id="S3.SS0.SSS0.Px3.p1.2.m2.3" class="ltx_Math" alttext="t=1,...,T" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.2.m2.3a"><mrow id="S3.SS0.SSS0.Px3.p1.2.m2.3.4" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.cmml"><mi id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.2" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml">t</mi><mo id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.1" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.1.cmml">=</mo><mrow id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.2" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml"><mn id="S3.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">1</mn><mo id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.1" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.SS0.SSS0.Px3.p1.2.m2.2.2" xref="S3.SS0.SSS0.Px3.p1.2.m2.2.2.cmml">…</mi><mo id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml">,</mo><mi id="S3.SS0.SSS0.Px3.p1.2.m2.3.3" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.2.m2.3b"><apply id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4"><eq id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.1.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.1"></eq><ci id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.2">𝑡</ci><list id="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.4.3.2"><cn type="integer" id="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1">1</cn><ci id="S3.SS0.SSS0.Px3.p1.2.m2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.2.2">…</ci><ci id="S3.SS0.SSS0.Px3.p1.2.m2.3.3.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.2.m2.3c">t=1,...,T</annotation></semantics></math>, <span id="S3.SS0.SSS0.Px3.p1.2.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> performs:</p>
<table id="A4.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E5.m1.3" class="ltx_Math" alttext="\displaystyle\textbf{Local: }\bm{\theta}_{m}^{(t)}=\texttt{ClientUpdate}(\mathcal{L}_{m},\bar{\bm{\theta}}^{(t-1)});" display="inline"><semantics id="S3.E5.m1.3a"><mrow id="S3.E5.m1.3.3.1" xref="S3.E5.m1.3.3.1.1.cmml"><mrow id="S3.E5.m1.3.3.1.1" xref="S3.E5.m1.3.3.1.1.cmml"><mrow id="S3.E5.m1.3.3.1.1.4" xref="S3.E5.m1.3.3.1.1.4.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E5.m1.3.3.1.1.4.2" xref="S3.E5.m1.3.3.1.1.4.2a.cmml">Local: </mtext><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.1.1.4.1" xref="S3.E5.m1.3.3.1.1.4.1.cmml">​</mo><msubsup id="S3.E5.m1.3.3.1.1.4.3" xref="S3.E5.m1.3.3.1.1.4.3.cmml"><mi id="S3.E5.m1.3.3.1.1.4.3.2.2" xref="S3.E5.m1.3.3.1.1.4.3.2.2.cmml">𝜽</mi><mi id="S3.E5.m1.3.3.1.1.4.3.2.3" xref="S3.E5.m1.3.3.1.1.4.3.2.3.cmml">m</mi><mrow id="S3.E5.m1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.4.3.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.3.1" xref="S3.E5.m1.3.3.1.1.4.3.cmml">(</mo><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S3.E5.m1.1.1.1.3.2" xref="S3.E5.m1.3.3.1.1.4.3.cmml">)</mo></mrow></msubsup></mrow><mo id="S3.E5.m1.3.3.1.1.3" xref="S3.E5.m1.3.3.1.1.3.cmml">=</mo><mrow id="S3.E5.m1.3.3.1.1.2" xref="S3.E5.m1.3.3.1.1.2.cmml"><mtext class="ltx_mathvariant_monospace" id="S3.E5.m1.3.3.1.1.2.4" xref="S3.E5.m1.3.3.1.1.2.4a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="S3.E5.m1.3.3.1.1.2.3" xref="S3.E5.m1.3.3.1.1.2.3.cmml">​</mo><mrow id="S3.E5.m1.3.3.1.1.2.2.2" xref="S3.E5.m1.3.3.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.3.3.1.1.2.2.2.3" xref="S3.E5.m1.3.3.1.1.2.2.3.cmml">(</mo><msub id="S3.E5.m1.3.3.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.2.cmml">ℒ</mi><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.1.3.cmml">m</mi></msub><mo id="S3.E5.m1.3.3.1.1.2.2.2.4" xref="S3.E5.m1.3.3.1.1.2.2.3.cmml">,</mo><msup id="S3.E5.m1.3.3.1.1.2.2.2.2" xref="S3.E5.m1.3.3.1.1.2.2.2.2.cmml"><mover accent="true" id="S3.E5.m1.3.3.1.1.2.2.2.2.2" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2.cmml"><mi id="S3.E5.m1.3.3.1.1.2.2.2.2.2.2" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2.2.cmml">𝜽</mi><mo id="S3.E5.m1.3.3.1.1.2.2.2.2.2.1" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2.1.cmml">¯</mo></mover><mrow id="S3.E5.m1.2.2.1.1" xref="S3.E5.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.1.1.2" xref="S3.E5.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.2.2.1.1.1" xref="S3.E5.m1.2.2.1.1.1.cmml"><mi id="S3.E5.m1.2.2.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.2.cmml">t</mi><mo id="S3.E5.m1.2.2.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.cmml">−</mo><mn id="S3.E5.m1.2.2.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.E5.m1.2.2.1.1.3" xref="S3.E5.m1.2.2.1.1.1.cmml">)</mo></mrow></msup><mo stretchy="false" id="S3.E5.m1.3.3.1.1.2.2.2.5" xref="S3.E5.m1.3.3.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E5.m1.3.3.1.2" xref="S3.E5.m1.3.3.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.3b"><apply id="S3.E5.m1.3.3.1.1.cmml" xref="S3.E5.m1.3.3.1"><eq id="S3.E5.m1.3.3.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.3"></eq><apply id="S3.E5.m1.3.3.1.1.4.cmml" xref="S3.E5.m1.3.3.1.1.4"><times id="S3.E5.m1.3.3.1.1.4.1.cmml" xref="S3.E5.m1.3.3.1.1.4.1"></times><ci id="S3.E5.m1.3.3.1.1.4.2a.cmml" xref="S3.E5.m1.3.3.1.1.4.2"><mtext class="ltx_mathvariant_bold" id="S3.E5.m1.3.3.1.1.4.2.cmml" xref="S3.E5.m1.3.3.1.1.4.2">Local: </mtext></ci><apply id="S3.E5.m1.3.3.1.1.4.3.cmml" xref="S3.E5.m1.3.3.1.1.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.4.3.1.cmml" xref="S3.E5.m1.3.3.1.1.4.3">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.4.3.2.cmml" xref="S3.E5.m1.3.3.1.1.4.3"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.4.3.2.1.cmml" xref="S3.E5.m1.3.3.1.1.4.3">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.4.3.2.2.cmml" xref="S3.E5.m1.3.3.1.1.4.3.2.2">𝜽</ci><ci id="S3.E5.m1.3.3.1.1.4.3.2.3.cmml" xref="S3.E5.m1.3.3.1.1.4.3.2.3">𝑚</ci></apply><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑡</ci></apply></apply><apply id="S3.E5.m1.3.3.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.2"><times id="S3.E5.m1.3.3.1.1.2.3.cmml" xref="S3.E5.m1.3.3.1.1.2.3"></times><ci id="S3.E5.m1.3.3.1.1.2.4a.cmml" xref="S3.E5.m1.3.3.1.1.2.4"><mtext class="ltx_mathvariant_monospace" id="S3.E5.m1.3.3.1.1.2.4.cmml" xref="S3.E5.m1.3.3.1.1.2.4">ClientUpdate</mtext></ci><interval closure="open" id="S3.E5.m1.3.3.1.1.2.2.3.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2"><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.2">ℒ</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.3">𝑚</ci></apply><apply id="S3.E5.m1.3.3.1.1.2.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2.2">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2"><ci id="S3.E5.m1.3.3.1.1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2.1">¯</ci><ci id="S3.E5.m1.3.3.1.1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.2.2.2.2.2.2">𝜽</ci></apply><apply id="S3.E5.m1.2.2.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1"><minus id="S3.E5.m1.2.2.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1"></minus><ci id="S3.E5.m1.2.2.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2">𝑡</ci><cn type="integer" id="S3.E5.m1.2.2.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3">1</cn></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.3c">\displaystyle\textbf{Local: }\bm{\theta}_{m}^{(t)}=\texttt{ClientUpdate}(\mathcal{L}_{m},\bar{\bm{\theta}}^{(t-1)});</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E6.m1.5" class="ltx_Math" alttext="\displaystyle\textbf{Global: }\bar{\bm{\theta}}^{(t)}\leftarrow\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}{\bm{\theta}_{m}^{(t)}}." display="inline"><semantics id="S3.E6.m1.5a"><mrow id="S3.E6.m1.5.5.1" xref="S3.E6.m1.5.5.1.1.cmml"><mrow id="S3.E6.m1.5.5.1.1" xref="S3.E6.m1.5.5.1.1.cmml"><mrow id="S3.E6.m1.5.5.1.1.2" xref="S3.E6.m1.5.5.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S3.E6.m1.5.5.1.1.2.2" xref="S3.E6.m1.5.5.1.1.2.2a.cmml">Global: </mtext><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.1.1.2.1" xref="S3.E6.m1.5.5.1.1.2.1.cmml">​</mo><msup id="S3.E6.m1.5.5.1.1.2.3" xref="S3.E6.m1.5.5.1.1.2.3.cmml"><mover accent="true" id="S3.E6.m1.5.5.1.1.2.3.2" xref="S3.E6.m1.5.5.1.1.2.3.2.cmml"><mi id="S3.E6.m1.5.5.1.1.2.3.2.2" xref="S3.E6.m1.5.5.1.1.2.3.2.2.cmml">𝜽</mi><mo id="S3.E6.m1.5.5.1.1.2.3.2.1" xref="S3.E6.m1.5.5.1.1.2.3.2.1.cmml">¯</mo></mover><mrow id="S3.E6.m1.1.1.1.3" xref="S3.E6.m1.5.5.1.1.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.3.1" xref="S3.E6.m1.5.5.1.1.2.3.cmml">(</mo><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S3.E6.m1.1.1.1.3.2" xref="S3.E6.m1.5.5.1.1.2.3.cmml">)</mo></mrow></msup></mrow><mo stretchy="false" id="S3.E6.m1.5.5.1.1.1" xref="S3.E6.m1.5.5.1.1.1.cmml">←</mo><mrow id="S3.E6.m1.5.5.1.1.3" xref="S3.E6.m1.5.5.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E6.m1.5.5.1.1.3.1" xref="S3.E6.m1.5.5.1.1.3.1.cmml"><munderover id="S3.E6.m1.5.5.1.1.3.1a" xref="S3.E6.m1.5.5.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E6.m1.5.5.1.1.3.1.2.2" xref="S3.E6.m1.5.5.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E6.m1.5.5.1.1.3.1.2.3" xref="S3.E6.m1.5.5.1.1.3.1.2.3.cmml"><mi id="S3.E6.m1.5.5.1.1.3.1.2.3.2" xref="S3.E6.m1.5.5.1.1.3.1.2.3.2.cmml">m</mi><mo id="S3.E6.m1.5.5.1.1.3.1.2.3.1" xref="S3.E6.m1.5.5.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E6.m1.5.5.1.1.3.1.2.3.3" xref="S3.E6.m1.5.5.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E6.m1.5.5.1.1.3.1.3" xref="S3.E6.m1.5.5.1.1.3.1.3.cmml">M</mi></munderover></mstyle><mrow id="S3.E6.m1.5.5.1.1.3.2" xref="S3.E6.m1.5.5.1.1.3.2.cmml"><mstyle displaystyle="true" id="S3.E6.m1.3.3" xref="S3.E6.m1.3.3.cmml"><mfrac id="S3.E6.m1.3.3a" xref="S3.E6.m1.3.3.cmml"><mrow id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.1.1.2" xref="S3.E6.m1.2.2.1.2.1.cmml">|</mo><msub id="S3.E6.m1.2.2.1.1.1" xref="S3.E6.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.2.2.1.1.1.2" xref="S3.E6.m1.2.2.1.1.1.2.cmml">𝒟</mi><mi id="S3.E6.m1.2.2.1.1.1.3" xref="S3.E6.m1.2.2.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.E6.m1.2.2.1.1.3" xref="S3.E6.m1.2.2.1.2.1.cmml">|</mo></mrow><mrow id="S3.E6.m1.3.3.2.3" xref="S3.E6.m1.3.3.2.2.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.2.3.1" xref="S3.E6.m1.3.3.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.2.1" xref="S3.E6.m1.3.3.2.1.cmml">𝒟</mi><mo stretchy="false" id="S3.E6.m1.3.3.2.3.2" xref="S3.E6.m1.3.3.2.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E6.m1.5.5.1.1.3.2.1" xref="S3.E6.m1.5.5.1.1.3.2.1.cmml">​</mo><msubsup id="S3.E6.m1.5.5.1.1.3.2.2" xref="S3.E6.m1.5.5.1.1.3.2.2.cmml"><mi id="S3.E6.m1.5.5.1.1.3.2.2.2.2" xref="S3.E6.m1.5.5.1.1.3.2.2.2.2.cmml">𝜽</mi><mi id="S3.E6.m1.5.5.1.1.3.2.2.2.3" xref="S3.E6.m1.5.5.1.1.3.2.2.2.3.cmml">m</mi><mrow id="S3.E6.m1.4.4.1.3" xref="S3.E6.m1.5.5.1.1.3.2.2.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.1.3.1" xref="S3.E6.m1.5.5.1.1.3.2.2.cmml">(</mo><mi id="S3.E6.m1.4.4.1.1" xref="S3.E6.m1.4.4.1.1.cmml">t</mi><mo stretchy="false" id="S3.E6.m1.4.4.1.3.2" xref="S3.E6.m1.5.5.1.1.3.2.2.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow><mo lspace="0em" id="S3.E6.m1.5.5.1.2" xref="S3.E6.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.5b"><apply id="S3.E6.m1.5.5.1.1.cmml" xref="S3.E6.m1.5.5.1"><ci id="S3.E6.m1.5.5.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1">←</ci><apply id="S3.E6.m1.5.5.1.1.2.cmml" xref="S3.E6.m1.5.5.1.1.2"><times id="S3.E6.m1.5.5.1.1.2.1.cmml" xref="S3.E6.m1.5.5.1.1.2.1"></times><ci id="S3.E6.m1.5.5.1.1.2.2a.cmml" xref="S3.E6.m1.5.5.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S3.E6.m1.5.5.1.1.2.2.cmml" xref="S3.E6.m1.5.5.1.1.2.2">Global: </mtext></ci><apply id="S3.E6.m1.5.5.1.1.2.3.cmml" xref="S3.E6.m1.5.5.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.2.3.1.cmml" xref="S3.E6.m1.5.5.1.1.2.3">superscript</csymbol><apply id="S3.E6.m1.5.5.1.1.2.3.2.cmml" xref="S3.E6.m1.5.5.1.1.2.3.2"><ci id="S3.E6.m1.5.5.1.1.2.3.2.1.cmml" xref="S3.E6.m1.5.5.1.1.2.3.2.1">¯</ci><ci id="S3.E6.m1.5.5.1.1.2.3.2.2.cmml" xref="S3.E6.m1.5.5.1.1.2.3.2.2">𝜽</ci></apply><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑡</ci></apply></apply><apply id="S3.E6.m1.5.5.1.1.3.cmml" xref="S3.E6.m1.5.5.1.1.3"><apply id="S3.E6.m1.5.5.1.1.3.1.cmml" xref="S3.E6.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.3.1.1.cmml" xref="S3.E6.m1.5.5.1.1.3.1">superscript</csymbol><apply id="S3.E6.m1.5.5.1.1.3.1.2.cmml" xref="S3.E6.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.3.1.2.1.cmml" xref="S3.E6.m1.5.5.1.1.3.1">subscript</csymbol><sum id="S3.E6.m1.5.5.1.1.3.1.2.2.cmml" xref="S3.E6.m1.5.5.1.1.3.1.2.2"></sum><apply id="S3.E6.m1.5.5.1.1.3.1.2.3.cmml" xref="S3.E6.m1.5.5.1.1.3.1.2.3"><eq id="S3.E6.m1.5.5.1.1.3.1.2.3.1.cmml" xref="S3.E6.m1.5.5.1.1.3.1.2.3.1"></eq><ci id="S3.E6.m1.5.5.1.1.3.1.2.3.2.cmml" xref="S3.E6.m1.5.5.1.1.3.1.2.3.2">𝑚</ci><cn type="integer" id="S3.E6.m1.5.5.1.1.3.1.2.3.3.cmml" xref="S3.E6.m1.5.5.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E6.m1.5.5.1.1.3.1.3.cmml" xref="S3.E6.m1.5.5.1.1.3.1.3">𝑀</ci></apply><apply id="S3.E6.m1.5.5.1.1.3.2.cmml" xref="S3.E6.m1.5.5.1.1.3.2"><times id="S3.E6.m1.5.5.1.1.3.2.1.cmml" xref="S3.E6.m1.5.5.1.1.3.2.1"></times><apply id="S3.E6.m1.3.3.cmml" xref="S3.E6.m1.3.3"><divide id="S3.E6.m1.3.3.3.cmml" xref="S3.E6.m1.3.3"></divide><apply id="S3.E6.m1.2.2.1.2.cmml" xref="S3.E6.m1.2.2.1.1"><abs id="S3.E6.m1.2.2.1.2.1.cmml" xref="S3.E6.m1.2.2.1.1.2"></abs><apply id="S3.E6.m1.2.2.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.1.2">𝒟</ci><ci id="S3.E6.m1.2.2.1.1.1.3.cmml" xref="S3.E6.m1.2.2.1.1.1.3">𝑚</ci></apply></apply><apply id="S3.E6.m1.3.3.2.2.cmml" xref="S3.E6.m1.3.3.2.3"><abs id="S3.E6.m1.3.3.2.2.1.cmml" xref="S3.E6.m1.3.3.2.3.1"></abs><ci id="S3.E6.m1.3.3.2.1.cmml" xref="S3.E6.m1.3.3.2.1">𝒟</ci></apply></apply><apply id="S3.E6.m1.5.5.1.1.3.2.2.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.3.2.2.1.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2">superscript</csymbol><apply id="S3.E6.m1.5.5.1.1.3.2.2.2.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.3.2.2.2.1.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2">subscript</csymbol><ci id="S3.E6.m1.5.5.1.1.3.2.2.2.2.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2.2.2">𝜽</ci><ci id="S3.E6.m1.5.5.1.1.3.2.2.2.3.cmml" xref="S3.E6.m1.5.5.1.1.3.2.2.2.3">𝑚</ci></apply><ci id="S3.E6.m1.4.4.1.1.cmml" xref="S3.E6.m1.4.4.1.1">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.5c">\displaystyle\textbf{Global: }\bar{\bm{\theta}}^{(t)}\leftarrow\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}{\bm{\theta}_{m}^{(t)}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS0.SSS0.Px3.p1.6" class="ltx_p">During local training, the clients update the model parameters received from the server, typically by minimizing each client’s empirical risk <math id="S3.SS0.SSS0.Px3.p1.3.m1.1" class="ltx_Math" alttext="\mathcal{L}_{m}" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.3.m1.1a"><msub id="S3.SS0.SSS0.Px3.p1.3.m1.1.1" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.2" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1.2.cmml">ℒ</mi><mi id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.3.m1.1b"><apply id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1.2">ℒ</ci><ci id="S3.SS0.SSS0.Px3.p1.3.m1.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.3.m1.1c">\mathcal{L}_{m}</annotation></semantics></math> with several steps (denoted as <math id="S3.SS0.SSS0.Px3.p1.4.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.4.m2.1a"><mi id="S3.SS0.SSS0.Px3.p1.4.m2.1.1" xref="S3.SS0.SSS0.Px3.p1.4.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.4.m2.1b"><ci id="S3.SS0.SSS0.Px3.p1.4.m2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.4.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.4.m2.1c">E</annotation></semantics></math>) of mini-batch SGD. For the locally accumulated means and variances in <span id="S3.SS0.SSS0.Px3.p1.6.1" class="ltx_text ltx_font_smallcaps">BN</span>, they are updated by <a href="#S3.E2" title="Equation 2 ‣ Batch Normalization (BN). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 2</span></a>. During global aggregation, all the parameters in the locally updated models <math id="S3.SS0.SSS0.Px3.p1.5.m3.2" class="ltx_Math" alttext="\{\bm{\theta}_{m}^{(t)}\}" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.5.m3.2a"><mrow id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.2" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.2.cmml">{</mo><msubsup id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.2" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.2.cmml">𝜽</mi><mi id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.3" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.3.cmml">m</mi><mrow id="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.3.1" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.cmml">(</mo><mi id="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.3.2" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.3" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.5.m3.2b"><set id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1"><apply id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.2">𝜽</ci><ci id="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.3.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.2.2.1.1.2.3">𝑚</ci></apply><ci id="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m3.1.1.1.1">𝑡</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.5.m3.2c">\{\bm{\theta}_{m}^{(t)}\}</annotation></semantics></math>, including <span id="S3.SS0.SSS0.Px3.p1.6.2" class="ltx_text ltx_font_smallcaps">BN</span> statistics, are averaged element-wise over clients. Typically, <math id="S3.SS0.SSS0.Px3.p1.6.m4.1" class="ltx_Math" alttext="E\gg 1" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.6.m4.1a"><mrow id="S3.SS0.SSS0.Px3.p1.6.m4.1.1" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.2" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.2.cmml">E</mi><mo id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.1" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.1.cmml">≫</mo><mn id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.3" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.6.m4.1b"><apply id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1"><csymbol cd="latexml" id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.1">much-greater-than</csymbol><ci id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.2">𝐸</ci><cn type="integer" id="S3.SS0.SSS0.Px3.p1.6.m4.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.6.m4.1c">E\gg 1</annotation></semantics></math> due to communication constraints.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Group Normalization (<span id="S3.SS0.SSS0.Px4.1.1" class="ltx_text ltx_font_smallcaps">GN</span>) as a replacement in FL.</h4>

<div id="S3.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px4.p1.1" class="ltx_p">The main challenge in <span id="S3.SS0.SSS0.Px4.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> is that the distributions of local data <math id="S3.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="\{\mathcal{D}_{m}\}" display="inline"><semantics id="S3.SS0.SSS0.Px4.p1.1.m1.1a"><mrow id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.2.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.2" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.2.cmml">{</mo><msub id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.3" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.3" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.1.m1.1b"><set id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1"><apply id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.2">𝒟</ci><ci id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.1.1.3">𝑚</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.1.m1.1c">\{\mathcal{D}_{m}\}</annotation></semantics></math> can be drastically different across clients. <cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>); Du et al. (<a href="#bib.bib15" title="" class="ltx_ref">2022</a>)</cite> argued that this non-IID issue is particularly problematic for DNNs with <span id="S3.SS0.SSS0.Px4.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span> layers since they depend on the activation means and variances estimated on non-IID mini-batches.
A popular alternative suggested by <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> is <span id="S3.SS0.SSS0.Px4.p1.1.3" class="ltx_text ltx_font_smallcaps">GN</span> <cite class="ltx_cite ltx_citemacro_citep">(Wu &amp; He, <a href="#bib.bib67" title="" class="ltx_ref">2018</a>)</cite>.
GN divides the adjacent channels into groups and normalizes within each group. It operates separately on each data instance, thus removing
the issue in BN.
This solution is followed by many later papers as mentioned in <a href="#S1" title="1 Introduction ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 1</span></a> and <a href="#S2" title="2 Related Work ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 2</span></a>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Expanded Empirical Study on <span id="S4.1.1" class="ltx_text ltx_font_smallcaps">BN</span> vs. <span id="S4.2.2" class="ltx_text ltx_font_smallcaps">GN</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.2" class="ltx_p">Despite the widespread replacement of <span id="S4.p1.2.3" class="ltx_text ltx_font_smallcaps">BN</span> with <span id="S4.p1.2.4" class="ltx_text ltx_font_smallcaps">GN</span> in FL, several papers have reported that <span id="S4.p1.2.5" class="ltx_text ltx_font_smallcaps">BN</span> performs better than <span id="S4.p1.2.6" class="ltx_text ltx_font_smallcaps">GN</span> in their applications <cite class="ltx_cite ltx_citemacro_citep">(Mohamad et al., <a href="#bib.bib51" title="" class="ltx_ref">2022</a>; Tenison et al., <a href="#bib.bib62" title="" class="ltx_ref">2022</a>; Yang et al., <a href="#bib.bib69" title="" class="ltx_ref">2022</a>; Chen &amp; Chao, <a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite>. <em id="S4.p1.2.2" class="ltx_emph ltx_font_italic">After checking <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> in detail, we find that their empirical study only considers extreme non-IID settings (i.e., each client’s data comes from a subset of the label space, a.k.a. the Shards setting) with a specific number of local steps <math id="S4.p1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.p1.1.1.m1.1a"><mi id="S4.p1.1.1.m1.1.1" xref="S4.p1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.p1.1.1.m1.1b"><ci id="S4.p1.1.1.m1.1.1.cmml" xref="S4.p1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.1.m1.1c">E</annotation></semantics></math> (e.g., <math id="S4.p1.2.2.m2.1" class="ltx_Math" alttext="E=20" display="inline"><semantics id="S4.p1.2.2.m2.1a"><mrow id="S4.p1.2.2.m2.1.1" xref="S4.p1.2.2.m2.1.1.cmml"><mi id="S4.p1.2.2.m2.1.1.2" xref="S4.p1.2.2.m2.1.1.2.cmml">E</mi><mo id="S4.p1.2.2.m2.1.1.1" xref="S4.p1.2.2.m2.1.1.1.cmml">=</mo><mn id="S4.p1.2.2.m2.1.1.3" xref="S4.p1.2.2.m2.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.2.2.m2.1b"><apply id="S4.p1.2.2.m2.1.1.cmml" xref="S4.p1.2.2.m2.1.1"><eq id="S4.p1.2.2.m2.1.1.1.cmml" xref="S4.p1.2.2.m2.1.1.1"></eq><ci id="S4.p1.2.2.m2.1.1.2.cmml" xref="S4.p1.2.2.m2.1.1.2">𝐸</ci><cn type="integer" id="S4.p1.2.2.m2.1.1.3.cmml" xref="S4.p1.2.2.m2.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.2.m2.1c">E=20</annotation></semantics></math> for CIFAR-10).</em> This motivates us to expand their study with a wider range of FL settings.</p>
</div>
<section id="S4.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Experiment setup.</h4>

<div id="S4.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px1.p1.2" class="ltx_p">We use the standard FL benchmark CIFAR-10 <cite class="ltx_cite ltx_citemacro_citep">(Krizhevsky et al., <a href="#bib.bib34" title="" class="ltx_ref">2009</a>)</cite> and Tiny-ImageNet <cite class="ltx_cite ltx_citemacro_citep">(Le &amp; Yang, <a href="#bib.bib35" title="" class="ltx_ref">2015</a>)</cite>.
We consider different FL setting including <span id="S4.SS0.SSS0.Px1.p1.2.1" class="ltx_text ltx_font_bold">(1) non-IID degrees</span>, ordered in increasing skewness: IID, Dirichlet(0.1, 0.3, 0.6), and Shards. We follow <cite class="ltx_cite ltx_citemacro_citep">(Hsu et al., <a href="#bib.bib24" title="" class="ltx_ref">2019</a>)</cite> for Dirichlet sampling. For Shards, each client only has data from <math id="S4.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="20\%" display="inline"><semantics id="S4.SS0.SSS0.Px1.p1.1.m1.1a"><mrow id="S4.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mn id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">20</mn><mo id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.1" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.1">percent</csymbol><cn type="integer" id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p1.1.m1.1c">20\%</annotation></semantics></math> of the classes. We consider 5/10 clients for CIFAR-10/Tiny-ImageNet, respectively, similarly to <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite>. As practical FL is constrained on computation and communication, we consider two <span id="S4.SS0.SSS0.Px1.p1.2.2" class="ltx_text ltx_font_bold">(2) budget criteria</span>: fixed 128 epochs of total local SGD updates over all the clients and communication rounds, and fixed 128 rounds of total communication. Within every round, we consider different <span id="S4.SS0.SSS0.Px1.p1.2.3" class="ltx_text ltx_font_bold">(3) local steps</span>: <math id="S4.SS0.SSS0.Px1.p1.2.m2.5" class="ltx_Math" alttext="E\in\{1,20,100,500,2500\}" display="inline"><semantics id="S4.SS0.SSS0.Px1.p1.2.m2.5a"><mrow id="S4.SS0.SSS0.Px1.p1.2.m2.5.6" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.cmml"><mi id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.2" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.2.cmml">E</mi><mo id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.1" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.1.cmml">∈</mo><mrow id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml"><mo stretchy="false" id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.1" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">{</mo><mn id="S4.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">1</mn><mo id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.2" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S4.SS0.SSS0.Px1.p1.2.m2.2.2" xref="S4.SS0.SSS0.Px1.p1.2.m2.2.2.cmml">20</mn><mo id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.3" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S4.SS0.SSS0.Px1.p1.2.m2.3.3" xref="S4.SS0.SSS0.Px1.p1.2.m2.3.3.cmml">100</mn><mo id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.4" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S4.SS0.SSS0.Px1.p1.2.m2.4.4" xref="S4.SS0.SSS0.Px1.p1.2.m2.4.4.cmml">500</mn><mo id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.5" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">,</mo><mn id="S4.SS0.SSS0.Px1.p1.2.m2.5.5" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.5.cmml">2500</mn><mo stretchy="false" id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2.6" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p1.2.m2.5b"><apply id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6"><in id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.1.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.1"></in><ci id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.2.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.2">𝐸</ci><set id="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.1.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.6.3.2"><cn type="integer" id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1">1</cn><cn type="integer" id="S4.SS0.SSS0.Px1.p1.2.m2.2.2.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.2.2">20</cn><cn type="integer" id="S4.SS0.SSS0.Px1.p1.2.m2.3.3.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.3.3">100</cn><cn type="integer" id="S4.SS0.SSS0.Px1.p1.2.m2.4.4.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.4.4">500</cn><cn type="integer" id="S4.SS0.SSS0.Px1.p1.2.m2.5.5.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.5.5">2500</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p1.2.m2.5c">E\in\{1,20,100,500,2500\}</annotation></semantics></math>.</p>
</div>
<div id="S4.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S4.SS0.SSS0.Px1.p2.8" class="ltx_p">We use ResNet20 <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>)</cite> and LeNet-like CNN <cite class="ltx_cite ltx_citemacro_citep">(LeCun et al., <a href="#bib.bib36" title="" class="ltx_ref">1998</a>)</cite> for CIFAR-10 and ResNet18 for Tiny-ImageNet. For training hyperparameters, we generally follow <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> to use the SGD optimizer with <math id="S4.SS0.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="0.9" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.1.m1.1a"><mn id="S4.SS0.SSS0.Px1.p2.1.m1.1.1" xref="S4.SS0.SSS0.Px1.p2.1.m1.1.1.cmml">0.9</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.1.m1.1b"><cn type="float" id="S4.SS0.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.1.m1.1.1">0.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.1.m1.1c">0.9</annotation></semantics></math> momentum, learning rate <math id="S4.SS0.SSS0.Px1.p2.2.m2.1" class="ltx_Math" alttext="0.02" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.2.m2.1a"><mn id="S4.SS0.SSS0.Px1.p2.2.m2.1.1" xref="S4.SS0.SSS0.Px1.p2.2.m2.1.1.cmml">0.02</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.2.m2.1b"><cn type="float" id="S4.SS0.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.2.m2.1.1">0.02</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.2.m2.1c">0.02</annotation></semantics></math> (decay by <math id="S4.SS0.SSS0.Px1.p2.3.m3.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.3.m3.1a"><mn id="S4.SS0.SSS0.Px1.p2.3.m3.1.1" xref="S4.SS0.SSS0.Px1.p2.3.m3.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.3.m3.1b"><cn type="float" id="S4.SS0.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.3.m3.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.3.m3.1c">0.1</annotation></semantics></math> at <math id="S4.SS0.SSS0.Px1.p2.4.m4.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.4.m4.1a"><mrow id="S4.SS0.SSS0.Px1.p2.4.m4.1.1" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1.cmml"><mn id="S4.SS0.SSS0.Px1.p2.4.m4.1.1.2" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1.2.cmml">50</mn><mo id="S4.SS0.SSS0.Px1.p2.4.m4.1.1.1" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.4.m4.1b"><apply id="S4.SS0.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1"><csymbol cd="latexml" id="S4.SS0.SSS0.Px1.p2.4.m4.1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S4.SS0.SSS0.Px1.p2.4.m4.1.1.2.cmml" xref="S4.SS0.SSS0.Px1.p2.4.m4.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.4.m4.1c">50\%</annotation></semantics></math> and <math id="S4.SS0.SSS0.Px1.p2.5.m5.1" class="ltx_Math" alttext="75\%" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.5.m5.1a"><mrow id="S4.SS0.SSS0.Px1.p2.5.m5.1.1" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1.cmml"><mn id="S4.SS0.SSS0.Px1.p2.5.m5.1.1.2" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1.2.cmml">75</mn><mo id="S4.SS0.SSS0.Px1.p2.5.m5.1.1.1" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.5.m5.1b"><apply id="S4.SS0.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1"><csymbol cd="latexml" id="S4.SS0.SSS0.Px1.p2.5.m5.1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1.1">percent</csymbol><cn type="integer" id="S4.SS0.SSS0.Px1.p2.5.m5.1.1.2.cmml" xref="S4.SS0.SSS0.Px1.p2.5.m5.1.1.2">75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.5.m5.1c">75\%</annotation></semantics></math> of the total rounds, respectively), batch size <math id="S4.SS0.SSS0.Px1.p2.6.m6.1" class="ltx_Math" alttext="20" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.6.m6.1a"><mn id="S4.SS0.SSS0.Px1.p2.6.m6.1.1" xref="S4.SS0.SSS0.Px1.p2.6.m6.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.6.m6.1b"><cn type="integer" id="S4.SS0.SSS0.Px1.p2.6.m6.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.6.m6.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.6.m6.1c">20</annotation></semantics></math>, and full participation for default unless specified. The group size of <span id="S4.SS0.SSS0.Px1.p2.8.2" class="ltx_text ltx_font_smallcaps">GN</span> is tuned and set at <math id="S4.SS0.SSS0.Px1.p2.7.m7.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.7.m7.1a"><mn id="S4.SS0.SSS0.Px1.p2.7.m7.1.1" xref="S4.SS0.SSS0.Px1.p2.7.m7.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.7.m7.1b"><cn type="integer" id="S4.SS0.SSS0.Px1.p2.7.m7.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.7.m7.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.7.m7.1c">2</annotation></semantics></math>. <em id="S4.SS0.SSS0.Px1.p2.8.1" class="ltx_emph ltx_font_italic">The average of <math id="S4.SS0.SSS0.Px1.p2.8.1.m1.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S4.SS0.SSS0.Px1.p2.8.1.m1.1a"><mn id="S4.SS0.SSS0.Px1.p2.8.1.m1.1.1" xref="S4.SS0.SSS0.Px1.p2.8.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p2.8.1.m1.1b"><cn type="integer" id="S4.SS0.SSS0.Px1.p2.8.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p2.8.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p2.8.1.m1.1c">3</annotation></semantics></math> runs of <span id="S4.SS0.SSS0.Px1.p2.8.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> is reported.</em>
Please see the appendix for more details, results, discussions, and full reproducibility.</p>
</div>
</section>
<section id="S4.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Results.</h4>

<div id="S4.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px2.p1.1" class="ltx_p">We summarize the test accuracy with <span id="S4.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S4.SS0.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> on CIFAR-10 and Tiny-ImageNet in <a href="#S3.F2" title="Figure 2 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a>, across different FL settings.
We highlight the following observations:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">No definite winner.</span> <span id="S4.I1.i1.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> is often considered the default replacement for <span id="S4.I1.i1.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> in previous FL work.
However, according to <a href="#S3.F2" title="Figure 2 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a>, <span id="S4.I1.i1.p1.1.4" class="ltx_text ltx_font_smallcaps">GN</span> is not always better than <span id="S4.I1.i1.p1.1.5" class="ltx_text ltx_font_smallcaps">BN</span>.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">BN<span id="S4.I1.i2.p1.1.1.1" class="ltx_text ltx_font_upright"> outperforms </span>GN<span id="S4.I1.i2.p1.1.1.2" class="ltx_text ltx_font_upright"> in many settings.</span></span>
This can be seen from the <span id="S4.I1.i2.p1.1.2" class="ltx_text" style="color:#009B55;"> green</span> cells in “Acc(GN)-Acc(BN)” heatmaps. Specifically, when clients cannot communicate frequently (i.e., many local steps like <math id="S4.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="E=100\sim 2500" display="inline"><semantics id="S4.I1.i2.p1.1.m1.1a"><mrow id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml">E</mi><mo id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">=</mo><mn id="S4.I1.i2.p1.1.m1.1.1.4" xref="S4.I1.i2.p1.1.m1.1.1.4.cmml">100</mn><mo id="S4.I1.i2.p1.1.m1.1.1.5" xref="S4.I1.i2.p1.1.m1.1.1.5.cmml">∼</mo><mn id="S4.I1.i2.p1.1.m1.1.1.6" xref="S4.I1.i2.p1.1.m1.1.1.6.cmml">2500</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><and id="S4.I1.i2.p1.1.m1.1.1a.cmml" xref="S4.I1.i2.p1.1.m1.1.1"></and><apply id="S4.I1.i2.p1.1.m1.1.1b.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><eq id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3"></eq><ci id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.I1.i2.p1.1.m1.1.1.4.cmml" xref="S4.I1.i2.p1.1.m1.1.1.4">100</cn></apply><apply id="S4.I1.i2.p1.1.m1.1.1c.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.I1.i2.p1.1.m1.1.1.5.cmml" xref="S4.I1.i2.p1.1.m1.1.1.5">similar-to</csymbol><share href="#S4.I1.i2.p1.1.m1.1.1.4.cmml" id="S4.I1.i2.p1.1.m1.1.1d.cmml" xref="S4.I1.i2.p1.1.m1.1.1"></share><cn type="integer" id="S4.I1.i2.p1.1.m1.1.1.6.cmml" xref="S4.I1.i2.p1.1.m1.1.1.6">2500</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">E=100\sim 2500</annotation></semantics></math>), <span id="S4.I1.i2.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> seems to be the better choice for normalization.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">GN<span id="S4.I1.i3.p1.1.1.1" class="ltx_text ltx_font_upright"> outperforms </span>BN<span id="S4.I1.i3.p1.1.1.2" class="ltx_text ltx_font_upright"> in extreme cases.</span></span>
We find that <span id="S4.I1.i3.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> outperforms <span id="S4.I1.i3.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> (the <span id="S4.I1.i3.p1.1.4" class="ltx_text" style="color:#613F99;">purple</span> cells in “Acc(GN)-Acc(BN)” heatmaps) only in extreme non-IID (e.g., Shards) and high frequency (e.g., <math id="S4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="E=1~{}\sim 20" display="inline"><semantics id="S4.I1.i3.p1.1.m1.1a"><mrow id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">E</mi><mo id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">=</mo><mn id="S4.I1.i3.p1.1.m1.1.1.4" xref="S4.I1.i3.p1.1.m1.1.1.4.cmml">1</mn><mo lspace="0.608em" id="S4.I1.i3.p1.1.m1.1.1.5" xref="S4.I1.i3.p1.1.m1.1.1.5.cmml">∼</mo><mn id="S4.I1.i3.p1.1.m1.1.1.6" xref="S4.I1.i3.p1.1.m1.1.1.6.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><and id="S4.I1.i3.p1.1.m1.1.1a.cmml" xref="S4.I1.i3.p1.1.m1.1.1"></and><apply id="S4.I1.i3.p1.1.m1.1.1b.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><eq id="S4.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I1.i3.p1.1.m1.1.1.3"></eq><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.I1.i3.p1.1.m1.1.1.4.cmml" xref="S4.I1.i3.p1.1.m1.1.1.4">1</cn></apply><apply id="S4.I1.i3.p1.1.m1.1.1c.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.I1.i3.p1.1.m1.1.1.5.cmml" xref="S4.I1.i3.p1.1.m1.1.1.5">similar-to</csymbol><share href="#S4.I1.i3.p1.1.m1.1.1.4.cmml" id="S4.I1.i3.p1.1.m1.1.1d.cmml" xref="S4.I1.i3.p1.1.m1.1.1"></share><cn type="integer" id="S4.I1.i3.p1.1.m1.1.1.6.cmml" xref="S4.I1.i3.p1.1.m1.1.1.6">20</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">E=1~{}\sim 20</annotation></semantics></math>) settings. This aligns with the reported settings in <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p"><span id="S4.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Consistency over more settings.</span> We verify in the appendix that factors like participation rates and the number of total clients do not change the above observations.</p>
</div>
</li>
<li id="S4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i5.p1.2" class="ltx_p"><span id="S4.I1.i5.p1.2.1" class="ltx_text ltx_font_bold ltx_font_smallcaps">BN<span id="S4.I1.i5.p1.2.1.1" class="ltx_text ltx_font_upright"> cannot recover centralized performance.</span></span> We dig deeper into the extremely high frequency setting at <math id="S4.I1.i5.p1.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.I1.i5.p1.1.m1.1a"><mrow id="S4.I1.i5.p1.1.m1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.cmml"><mi id="S4.I1.i5.p1.1.m1.1.1.2" xref="S4.I1.i5.p1.1.m1.1.1.2.cmml">E</mi><mo id="S4.I1.i5.p1.1.m1.1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.I1.i5.p1.1.m1.1.1.3" xref="S4.I1.i5.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.1.m1.1b"><apply id="S4.I1.i5.p1.1.m1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1"><eq id="S4.I1.i5.p1.1.m1.1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1.1"></eq><ci id="S4.I1.i5.p1.1.m1.1.1.2.cmml" xref="S4.I1.i5.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.I1.i5.p1.1.m1.1.1.3.cmml" xref="S4.I1.i5.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.1.m1.1c">E=1</annotation></semantics></math>; i.e., clients communicate after every local SGD step.
At first glance, this should recover mini-batch SGD in centralized learning (e.g., training on multi-GPUs with local shuffling).
However, as shown in <a href="#S4.T1" title="Table 1 ‣ Results. ‣ 4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 1</span></a> and <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>, there is a huge accuracy gap (about <math id="S4.I1.i5.p1.2.m2.1" class="ltx_Math" alttext="45\%" display="inline"><semantics id="S4.I1.i5.p1.2.m2.1a"><mrow id="S4.I1.i5.p1.2.m2.1.1" xref="S4.I1.i5.p1.2.m2.1.1.cmml"><mn id="S4.I1.i5.p1.2.m2.1.1.2" xref="S4.I1.i5.p1.2.m2.1.1.2.cmml">45</mn><mo id="S4.I1.i5.p1.2.m2.1.1.1" xref="S4.I1.i5.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.2.m2.1b"><apply id="S4.I1.i5.p1.2.m2.1.1.cmml" xref="S4.I1.i5.p1.2.m2.1.1"><csymbol cd="latexml" id="S4.I1.i5.p1.2.m2.1.1.1.cmml" xref="S4.I1.i5.p1.2.m2.1.1.1">percent</csymbol><cn type="integer" id="S4.I1.i5.p1.2.m2.1.1.2.cmml" xref="S4.I1.i5.p1.2.m2.1.1.2">45</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.2.m2.1c">45\%</annotation></semantics></math>) between centralized and federated learning for DNNs with <span id="S4.I1.i5.p1.2.2" class="ltx_text ltx_font_smallcaps">BN</span>. As a reference, <em id="S4.I1.i5.p1.2.3" class="ltx_emph ltx_font_italic">such a gap very much disappears for DNNs with <span id="S4.I1.i5.p1.2.3.1" class="ltx_text ltx_font_smallcaps">GN</span></em>. We investigate this finding further in <a href="#S5" title="5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 5</span></a>.</p>
</div>
</li>
</ul>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span><span id="S4.T1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">BN cannot recover centralized performance with communication after <em id="S4.T1.2.1.1" class="ltx_emph ltx_font_italic">every step</em> (<math id="S4.T1.2.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.T1.2.1.m1.1b"><mrow id="S4.T1.2.1.m1.1.1" xref="S4.T1.2.1.m1.1.1.cmml"><mi id="S4.T1.2.1.m1.1.1.2" xref="S4.T1.2.1.m1.1.1.2.cmml">E</mi><mo id="S4.T1.2.1.m1.1.1.1" xref="S4.T1.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.T1.2.1.m1.1.1.3" xref="S4.T1.2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.2.1.m1.1c"><apply id="S4.T1.2.1.m1.1.1.cmml" xref="S4.T1.2.1.m1.1.1"><eq id="S4.T1.2.1.m1.1.1.1.cmml" xref="S4.T1.2.1.m1.1.1.1"></eq><ci id="S4.T1.2.1.m1.1.1.2.cmml" xref="S4.T1.2.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.T1.2.1.m1.1.1.3.cmml" xref="S4.T1.2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.1.m1.1d">E=1</annotation></semantics></math>).<span id="S4.T1.2.1.2" class="ltx_text ltx_font_medium"> We train a ResNet20 with either <span id="S4.T1.2.1.2.1" class="ltx_text ltx_font_smallcaps">BN</span> or <span id="S4.T1.2.1.2.2" class="ltx_text ltx_font_smallcaps">GN</span> on non-IID CIFAR-10 (5 clients, Shards). Both the FL and centralized training use SGD without momentum.</span></span></figcaption>
<table id="S4.T1.6" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T1.6.5" class="ltx_tr">
<td id="S4.T1.6.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding:-1pt 2.0pt;"><span id="S4.T1.6.5.1.1" class="ltx_text" style="font-size:80%;">Norm</span></td>
<td id="S4.T1.6.5.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding:-1pt 2.0pt;"><span id="S4.T1.6.5.2.1" class="ltx_text" style="font-size:80%;">Centralized Acc.</span></td>
<td id="S4.T1.6.5.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding:-1pt 2.0pt;"><span id="S4.T1.6.5.3.1" class="ltx_text" style="font-size:80%;">FL Acc.</span></td>
</tr>
<tr id="S4.T1.4.2" class="ltx_tr">
<td id="S4.T1.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:-1pt 2.0pt;"><span id="S4.T1.4.2.3.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span></td>
<td id="S4.T1.3.1.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:-1pt 2.0pt;">
<span id="S4.T1.3.1.1.1" class="ltx_text" style="font-size:80%;">87.46</span><math id="S4.T1.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.3.1.1.m1.1a"><mo mathsize="80%" id="S4.T1.3.1.1.m1.1.1" xref="S4.T1.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T1.3.1.1.m1.1.1.cmml" xref="S4.T1.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.1.m1.1c">\pm</annotation></semantics></math><span id="S4.T1.3.1.1.2" class="ltx_text" style="font-size:80%;">0.57</span>
</td>
<td id="S4.T1.4.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:-1pt 2.0pt;">
<span id="S4.T1.4.2.2.1" class="ltx_text" style="font-size:80%;">87.37</span><math id="S4.T1.4.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.4.2.2.m1.1a"><mo mathsize="80%" id="S4.T1.4.2.2.m1.1.1" xref="S4.T1.4.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.2.2.m1.1b"><csymbol cd="latexml" id="S4.T1.4.2.2.m1.1.1.cmml" xref="S4.T1.4.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.2.2.m1.1c">\pm</annotation></semantics></math><span id="S4.T1.4.2.2.2" class="ltx_text" style="font-size:80%;">1.16</span>
</td>
</tr>
<tr id="S4.T1.6.4" class="ltx_tr">
<td id="S4.T1.6.4.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" style="padding:-1pt 2.0pt;"><span id="S4.T1.6.4.3.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span></td>
<td id="S4.T1.5.3.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding:-1pt 2.0pt;">
<span id="S4.T1.5.3.1.1" class="ltx_text" style="font-size:80%;">89.30</span><math id="S4.T1.5.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.5.3.1.m1.1a"><mo mathsize="80%" id="S4.T1.5.3.1.m1.1.1" xref="S4.T1.5.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.5.3.1.m1.1b"><csymbol cd="latexml" id="S4.T1.5.3.1.m1.1.1.cmml" xref="S4.T1.5.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.3.1.m1.1c">\pm</annotation></semantics></math><span id="S4.T1.5.3.1.2" class="ltx_text" style="font-size:80%;">0.89</span>
</td>
<td id="S4.T1.6.4.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:-1pt 2.0pt;">
<span id="S4.T1.6.4.2.1" class="ltx_text" style="font-size:80%;color:#FF0000;">42.93<math id="S4.T1.6.4.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T1.6.4.2.1.m1.1a"><mo mathcolor="#000000" id="S4.T1.6.4.2.1.m1.1.1" xref="S4.T1.6.4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T1.6.4.2.1.m1.1b"><csymbol cd="latexml" id="S4.T1.6.4.2.1.m1.1.1.cmml" xref="S4.T1.6.4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.4.2.1.m1.1c">\pm</annotation></semantics></math></span><span id="S4.T1.6.4.2.2" class="ltx_text" style="font-size:80%;">2.75</span>
</td>
</tr>
</table>
</figure>
</section>
<section id="S4.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Remark.</h4>

<div id="S4.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS0.SSS0.Px3.p1.1" class="ltx_p">The goal of this empirical study is to provide a more complete picture of whether one should replace <span id="S4.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> with <span id="S4.SS0.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span>, not to answer all the questions regarding their performance.
Even in centralized learning, a full understanding of the comparison between <span id="S4.SS0.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S4.SS0.SSS0.Px3.p1.1.4" class="ltx_text ltx_font_smallcaps">GN</span> is still lacking, not to mention the more complicated federated learning.
We also want to emphasize that our empirical result is not against existing work. In contrast, it unifies both ends of the existing findings: <cite class="ltx_cite ltx_citemacro_citet">Hsieh et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> showed that <span id="S4.SS0.SSS0.Px3.p1.1.5" class="ltx_text ltx_font_smallcaps">GN</span> outperforms <span id="S4.SS0.SSS0.Px3.p1.1.6" class="ltx_text ltx_font_smallcaps">BN</span> in extreme non-IID and high-frequency settings while <cite class="ltx_cite ltx_citemacro_citet">Mohamad et al. (<a href="#bib.bib51" title="" class="ltx_ref">2022</a>); Tenison et al. (<a href="#bib.bib62" title="" class="ltx_ref">2022</a>); Yang et al. (<a href="#bib.bib69" title="" class="ltx_ref">2022</a>); Chen &amp; Chao (<a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite> showed that <span id="S4.SS0.SSS0.Px3.p1.1.7" class="ltx_text ltx_font_smallcaps">BN</span> is still preferred in their specific (low frequency) settings.</p>
</div>
<div id="S4.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S4.SS0.SSS0.Px3.p2.1" class="ltx_p">Looking at each normalized method separately, we note that the accuracy change of <span id="S4.SS0.SSS0.Px3.p2.1.1" class="ltx_text ltx_font_smallcaps">GN</span> follows the common understanding of <span id="S4.SS0.SSS0.Px3.p2.1.2" class="ltx_text ltx_font_smallcaps">FedAvg</span>: the accuracy degrades with severe non-IID settings and many local steps (under the fixed epochs setting). For <span id="S4.SS0.SSS0.Px3.p2.1.3" class="ltx_text ltx_font_smallcaps">BN</span>, its accuracy also degrades with severe non-IID settings, which aligns with the arguments in <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>; Du et al., <a href="#bib.bib15" title="" class="ltx_ref">2022</a>; Wang et al., <a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite>. Interestingly, beyond our expectations, <span id="S4.SS0.SSS0.Px3.p2.1.4" class="ltx_text ltx_font_smallcaps">BN</span> performs fairly robustly along with the increase of local steps and even benefits from it. This can be seen in <a href="#S3.F2" title="Figure 2 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a> (a) ACC (BN) column-wise. We provide further analysis in <a href="#S9" title="9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 9</span></a>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Rethinking Batch Normalization in FL</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Seeing that <span id="S5.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> outperforms <span id="S5.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> in many FL settings, we dig deeper into its poorly performing regimes: high communication frequencies and severe non-IID degrees.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span><span id="S5.SS1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> makes the gradients biased in local training</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.3" class="ltx_p">As pointed out by <cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite> in their theoretical analysis, the mismatch of mini-batch statistics across non-IID clients leads to deviated local gradients, which cannot be canceled out even under high-frequency settings.
As a simple illustration, we derive the <span id="S5.SS1.p1.3.1" class="ltx_text ltx_font_bold">F</span>orward-<span id="S5.SS1.p1.3.2" class="ltx_text ltx_font_bold">B</span>ackward pass of the plain <span id="S5.SS1.p1.3.3" class="ltx_text ltx_font_smallcaps">BN</span> layer <math id="S5.SS1.p1.1.m1.1" class="ltx_Math" alttext="f_{\textsc{BN}}" display="inline"><semantics id="S5.SS1.p1.1.m1.1a"><msub id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml"><mi id="S5.SS1.p1.1.m1.1.1.2" xref="S5.SS1.p1.1.m1.1.1.2.cmml">f</mi><mtext class="ltx_font_smallcaps" id="S5.SS1.p1.1.m1.1.1.3" xref="S5.SS1.p1.1.m1.1.1.3a.cmml">BN</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.1b"><apply id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.1.m1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p1.1.m1.1.1.2.cmml" xref="S5.SS1.p1.1.m1.1.1.2">𝑓</ci><ci id="S5.SS1.p1.1.m1.1.1.3a.cmml" xref="S5.SS1.p1.1.m1.1.1.3"><mtext class="ltx_font_smallcaps" mathsize="70%" id="S5.SS1.p1.1.m1.1.1.3.cmml" xref="S5.SS1.p1.1.m1.1.1.3">BN</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.1c">f_{\textsc{BN}}</annotation></semantics></math> (see <a href="#S3.E1" title="Equation 1 ‣ Batch Normalization (BN). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 1</span></a>) for one input example <math id="S5.SS1.p1.2.m2.1" class="ltx_Math" alttext="{\bm{x}}_{i}" display="inline"><semantics id="S5.SS1.p1.2.m2.1a"><msub id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml"><mi id="S5.SS1.p1.2.m2.1.1.2" xref="S5.SS1.p1.2.m2.1.1.2.cmml">𝒙</mi><mi id="S5.SS1.p1.2.m2.1.1.3" xref="S5.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><apply id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.2.m2.1.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p1.2.m2.1.1.2.cmml" xref="S5.SS1.p1.2.m2.1.1.2">𝒙</ci><ci id="S5.SS1.p1.2.m2.1.1.3.cmml" xref="S5.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">{\bm{x}}_{i}</annotation></semantics></math> in a mini-batch <math id="S5.SS1.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="S5.SS1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><ci id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">\mathcal{B}</annotation></semantics></math>.</p>
<table id="A4.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S5.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S5.E7.m1.4" class="ltx_Math" alttext="\displaystyle\textbf{F: }\ell(\hat{\bm{x}}_{i})=\ell(f_{\textsc{BN}}({\bm{x}}_{i};(\bm{\gamma},\bm{\beta}),{(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}})}))" display="inline"><semantics id="S5.E7.m1.4a"><mrow id="S5.E7.m1.4.4" xref="S5.E7.m1.4.4.cmml"><mrow id="S5.E7.m1.3.3.1" xref="S5.E7.m1.3.3.1.cmml"><mtext class="ltx_mathvariant_bold" id="S5.E7.m1.3.3.1.3" xref="S5.E7.m1.3.3.1.3a.cmml">F: </mtext><mo lspace="0em" rspace="0em" id="S5.E7.m1.3.3.1.2" xref="S5.E7.m1.3.3.1.2.cmml">​</mo><mi mathvariant="normal" id="S5.E7.m1.3.3.1.4" xref="S5.E7.m1.3.3.1.4.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S5.E7.m1.3.3.1.2a" xref="S5.E7.m1.3.3.1.2.cmml">​</mo><mrow id="S5.E7.m1.3.3.1.1.1" xref="S5.E7.m1.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S5.E7.m1.3.3.1.1.1.2" xref="S5.E7.m1.3.3.1.1.1.1.cmml">(</mo><msub id="S5.E7.m1.3.3.1.1.1.1" xref="S5.E7.m1.3.3.1.1.1.1.cmml"><mover accent="true" id="S5.E7.m1.3.3.1.1.1.1.2" xref="S5.E7.m1.3.3.1.1.1.1.2.cmml"><mi id="S5.E7.m1.3.3.1.1.1.1.2.2" xref="S5.E7.m1.3.3.1.1.1.1.2.2.cmml">𝒙</mi><mo id="S5.E7.m1.3.3.1.1.1.1.2.1" xref="S5.E7.m1.3.3.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S5.E7.m1.3.3.1.1.1.1.3" xref="S5.E7.m1.3.3.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S5.E7.m1.3.3.1.1.1.3" xref="S5.E7.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E7.m1.4.4.3" xref="S5.E7.m1.4.4.3.cmml">=</mo><mrow id="S5.E7.m1.4.4.2" xref="S5.E7.m1.4.4.2.cmml"><mi mathvariant="normal" id="S5.E7.m1.4.4.2.3" xref="S5.E7.m1.4.4.2.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S5.E7.m1.4.4.2.2" xref="S5.E7.m1.4.4.2.2.cmml">​</mo><mrow id="S5.E7.m1.4.4.2.1.1" xref="S5.E7.m1.4.4.2.1.1.1.cmml"><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.2" xref="S5.E7.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S5.E7.m1.4.4.2.1.1.1" xref="S5.E7.m1.4.4.2.1.1.1.cmml"><msub id="S5.E7.m1.4.4.2.1.1.1.5" xref="S5.E7.m1.4.4.2.1.1.1.5.cmml"><mi id="S5.E7.m1.4.4.2.1.1.1.5.2" xref="S5.E7.m1.4.4.2.1.1.1.5.2.cmml">f</mi><mtext class="ltx_font_smallcaps" id="S5.E7.m1.4.4.2.1.1.1.5.3" xref="S5.E7.m1.4.4.2.1.1.1.5.3a.cmml">BN</mtext></msub><mo lspace="0em" rspace="0em" id="S5.E7.m1.4.4.2.1.1.1.4" xref="S5.E7.m1.4.4.2.1.1.1.4.cmml">​</mo><mrow id="S5.E7.m1.4.4.2.1.1.1.3.3" xref="S5.E7.m1.4.4.2.1.1.1.3.4.cmml"><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.3.3.4" xref="S5.E7.m1.4.4.2.1.1.1.3.4.cmml">(</mo><msub id="S5.E7.m1.4.4.2.1.1.1.1.1.1" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1.cmml"><mi id="S5.E7.m1.4.4.2.1.1.1.1.1.1.2" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S5.E7.m1.4.4.2.1.1.1.1.1.1.3" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S5.E7.m1.4.4.2.1.1.1.3.3.5" xref="S5.E7.m1.4.4.2.1.1.1.3.4.cmml">;</mo><mrow id="S5.E7.m1.4.4.2.1.1.1.2.2.2.2" xref="S5.E7.m1.4.4.2.1.1.1.2.2.2.1.cmml"><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.2.2.2.2.1" xref="S5.E7.m1.4.4.2.1.1.1.2.2.2.1.cmml">(</mo><mi id="S5.E7.m1.1.1" xref="S5.E7.m1.1.1.cmml">𝜸</mi><mo id="S5.E7.m1.4.4.2.1.1.1.2.2.2.2.2" xref="S5.E7.m1.4.4.2.1.1.1.2.2.2.1.cmml">,</mo><mi id="S5.E7.m1.2.2" xref="S5.E7.m1.2.2.cmml">𝜷</mi><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.2.2.2.2.3" xref="S5.E7.m1.4.4.2.1.1.1.2.2.2.1.cmml">)</mo></mrow><mo id="S5.E7.m1.4.4.2.1.1.1.3.3.6" xref="S5.E7.m1.4.4.2.1.1.1.3.4.cmml">,</mo><mrow id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.3.cmml"><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.3" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.3.cmml">(</mo><msub id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.cmml"><mi id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.2" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.3" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.3.cmml">ℬ</mi></msub><mo id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.4" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.3.cmml">,</mo><msubsup id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.cmml"><mi id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.2" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.3" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.3.cmml">ℬ</mi><mn id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.3" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.3.cmml">2</mn></msubsup><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.5" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.3.cmml">)</mo></mrow><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.1.3.3.7" xref="S5.E7.m1.4.4.2.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S5.E7.m1.4.4.2.1.1.3" xref="S5.E7.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E7.m1.4b"><apply id="S5.E7.m1.4.4.cmml" xref="S5.E7.m1.4.4"><eq id="S5.E7.m1.4.4.3.cmml" xref="S5.E7.m1.4.4.3"></eq><apply id="S5.E7.m1.3.3.1.cmml" xref="S5.E7.m1.3.3.1"><times id="S5.E7.m1.3.3.1.2.cmml" xref="S5.E7.m1.3.3.1.2"></times><ci id="S5.E7.m1.3.3.1.3a.cmml" xref="S5.E7.m1.3.3.1.3"><mtext class="ltx_mathvariant_bold" id="S5.E7.m1.3.3.1.3.cmml" xref="S5.E7.m1.3.3.1.3">F: </mtext></ci><ci id="S5.E7.m1.3.3.1.4.cmml" xref="S5.E7.m1.3.3.1.4">ℓ</ci><apply id="S5.E7.m1.3.3.1.1.1.1.cmml" xref="S5.E7.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S5.E7.m1.3.3.1.1.1.1.1.cmml" xref="S5.E7.m1.3.3.1.1.1">subscript</csymbol><apply id="S5.E7.m1.3.3.1.1.1.1.2.cmml" xref="S5.E7.m1.3.3.1.1.1.1.2"><ci id="S5.E7.m1.3.3.1.1.1.1.2.1.cmml" xref="S5.E7.m1.3.3.1.1.1.1.2.1">^</ci><ci id="S5.E7.m1.3.3.1.1.1.1.2.2.cmml" xref="S5.E7.m1.3.3.1.1.1.1.2.2">𝒙</ci></apply><ci id="S5.E7.m1.3.3.1.1.1.1.3.cmml" xref="S5.E7.m1.3.3.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S5.E7.m1.4.4.2.cmml" xref="S5.E7.m1.4.4.2"><times id="S5.E7.m1.4.4.2.2.cmml" xref="S5.E7.m1.4.4.2.2"></times><ci id="S5.E7.m1.4.4.2.3.cmml" xref="S5.E7.m1.4.4.2.3">ℓ</ci><apply id="S5.E7.m1.4.4.2.1.1.1.cmml" xref="S5.E7.m1.4.4.2.1.1"><times id="S5.E7.m1.4.4.2.1.1.1.4.cmml" xref="S5.E7.m1.4.4.2.1.1.1.4"></times><apply id="S5.E7.m1.4.4.2.1.1.1.5.cmml" xref="S5.E7.m1.4.4.2.1.1.1.5"><csymbol cd="ambiguous" id="S5.E7.m1.4.4.2.1.1.1.5.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.5">subscript</csymbol><ci id="S5.E7.m1.4.4.2.1.1.1.5.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.5.2">𝑓</ci><ci id="S5.E7.m1.4.4.2.1.1.1.5.3a.cmml" xref="S5.E7.m1.4.4.2.1.1.1.5.3"><mtext class="ltx_font_smallcaps" mathsize="70%" id="S5.E7.m1.4.4.2.1.1.1.5.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.5.3">BN</mtext></ci></apply><list id="S5.E7.m1.4.4.2.1.1.1.3.4.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3"><apply id="S5.E7.m1.4.4.2.1.1.1.1.1.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E7.m1.4.4.2.1.1.1.1.1.1.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E7.m1.4.4.2.1.1.1.1.1.1.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1.2">𝒙</ci><ci id="S5.E7.m1.4.4.2.1.1.1.1.1.1.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.1.1.1.3">𝑖</ci></apply><interval closure="open" id="S5.E7.m1.4.4.2.1.1.1.2.2.2.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.2.2.2.2"><ci id="S5.E7.m1.1.1.cmml" xref="S5.E7.m1.1.1">𝜸</ci><ci id="S5.E7.m1.2.2.cmml" xref="S5.E7.m1.2.2">𝜷</ci></interval><interval closure="open" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2"><apply id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1"><csymbol cd="ambiguous" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1">subscript</csymbol><ci id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.2">𝝁</ci><ci id="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.1.1.3">ℬ</ci></apply><apply id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2"><csymbol cd="ambiguous" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2">subscript</csymbol><apply id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2"><csymbol cd="ambiguous" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.1.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2">superscript</csymbol><ci id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.2.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.2">𝝈</ci><cn type="integer" id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.2.3">2</cn></apply><ci id="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.3.cmml" xref="S5.E7.m1.4.4.2.1.1.1.3.3.3.2.2.3">ℬ</ci></apply></interval></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E7.m1.4c">\displaystyle\textbf{F: }\ell(\hat{\bm{x}}_{i})=\ell(f_{\textsc{BN}}({\bm{x}}_{i};(\bm{\gamma},\bm{\beta}),{(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}})}))</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
<tbody id="S5.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S5.Ex2.m1.1" class="ltx_Math" alttext="\displaystyle\hskip 33.5pt=\ell(\bm{\gamma}\frac{{\bm{x}}_{i}-\bm{\mu}_{\mathcal{B}}}{\sqrt{\bm{\sigma}^{2}_{\mathcal{B}}+\epsilon}}+\bm{\beta})=\ell(\bm{\gamma}\tilde{{\bm{x}}_{i}}+\bm{\beta});" display="inline"><semantics id="S5.Ex2.m1.1a"><mrow id="S5.Ex2.m1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.cmml"><mrow id="S5.Ex2.m1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.cmml"><mi id="S5.Ex2.m1.1.1.1.1.4" xref="S5.Ex2.m1.1.1.1.1.4.cmml"></mi><mo lspace="3.628em" id="S5.Ex2.m1.1.1.1.1.5" xref="S5.Ex2.m1.1.1.1.1.5.cmml">=</mo><mrow id="S5.Ex2.m1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="S5.Ex2.m1.1.1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.1.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S5.Ex2.m1.1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex2.m1.1.1.1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2.cmml">𝜸</mi><mo lspace="0em" rspace="0em" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.1.cmml">​</mo><mstyle displaystyle="true" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mfrac id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3a" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.cmml"><msub id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.2.cmml">𝒙</mi><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.3.cmml">i</mi></msub><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.1.cmml">−</mo><msub id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.cmml"><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.3.cmml">ℬ</mi></msub></mrow><msqrt id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.cmml"><msubsup id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.3.cmml">ℬ</mi><mn id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.3.cmml">2</mn></msubsup><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.1.cmml">+</mo><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.3.cmml">ϵ</mi></mrow></msqrt></mfrac></mstyle></mrow><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml">𝜷</mi></mrow><mo stretchy="false" id="S5.Ex2.m1.1.1.1.1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.Ex2.m1.1.1.1.1.6" xref="S5.Ex2.m1.1.1.1.1.6.cmml">=</mo><mrow id="S5.Ex2.m1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.2.cmml"><mi mathvariant="normal" id="S5.Ex2.m1.1.1.1.1.2.3" xref="S5.Ex2.m1.1.1.1.1.2.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S5.Ex2.m1.1.1.1.1.2.2" xref="S5.Ex2.m1.1.1.1.1.2.2.cmml">​</mo><mrow id="S5.Ex2.m1.1.1.1.1.2.1.1" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S5.Ex2.m1.1.1.1.1.2.1.1.2" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S5.Ex2.m1.1.1.1.1.2.1.1.1" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.cmml"><mrow id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.2" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.2.cmml">𝜸</mi><mo lspace="0em" rspace="0em" id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.1" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.1.cmml">​</mo><mover accent="true" id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.cmml"><msub id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.2" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.2.cmml">𝒙</mi><mi id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.3" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.3.cmml">i</mi></msub><mo id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.1" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.1.cmml">~</mo></mover></mrow><mo id="S5.Ex2.m1.1.1.1.1.2.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml">+</mo><mi id="S5.Ex2.m1.1.1.1.1.2.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.3.cmml">𝜷</mi></mrow><mo stretchy="false" id="S5.Ex2.m1.1.1.1.1.2.1.1.3" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S5.Ex2.m1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex2.m1.1b"><apply id="S5.Ex2.m1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1"><and id="S5.Ex2.m1.1.1.1.1a.cmml" xref="S5.Ex2.m1.1.1.1"></and><apply id="S5.Ex2.m1.1.1.1.1b.cmml" xref="S5.Ex2.m1.1.1.1"><eq id="S5.Ex2.m1.1.1.1.1.5.cmml" xref="S5.Ex2.m1.1.1.1.1.5"></eq><csymbol cd="latexml" id="S5.Ex2.m1.1.1.1.1.4.cmml" xref="S5.Ex2.m1.1.1.1.1.4">absent</csymbol><apply id="S5.Ex2.m1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1"><times id="S5.Ex2.m1.1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.2"></times><ci id="S5.Ex2.m1.1.1.1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.3">ℓ</ci><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1"><plus id="S5.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.1"></plus><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2"><times id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2">𝜸</ci><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3"><divide id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3"></divide><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2"><minus id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.1"></minus><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2">subscript</csymbol><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.2">𝒙</ci><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.2.3">𝑖</ci></apply><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3">subscript</csymbol><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.2">𝝁</ci><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.2.3.3">ℬ</ci></apply></apply><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3"><root id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3a.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3"></root><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2"><plus id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.1"></plus><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2">subscript</csymbol><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2">superscript</csymbol><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.2">𝝈</ci><cn type="integer" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.2.3">2</cn></apply><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.2.3">ℬ</ci></apply><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.3.2.3">italic-ϵ</ci></apply></apply></apply></apply><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.3">𝜷</ci></apply></apply></apply><apply id="S5.Ex2.m1.1.1.1.1c.cmml" xref="S5.Ex2.m1.1.1.1"><eq id="S5.Ex2.m1.1.1.1.1.6.cmml" xref="S5.Ex2.m1.1.1.1.1.6"></eq><share href="#S5.Ex2.m1.1.1.1.1.1.cmml" id="S5.Ex2.m1.1.1.1.1d.cmml" xref="S5.Ex2.m1.1.1.1"></share><apply id="S5.Ex2.m1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2"><times id="S5.Ex2.m1.1.1.1.1.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.2"></times><ci id="S5.Ex2.m1.1.1.1.1.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.3">ℓ</ci><apply id="S5.Ex2.m1.1.1.1.1.2.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1"><plus id="S5.Ex2.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.1"></plus><apply id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2"><times id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.1"></times><ci id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.2">𝜸</ci><apply id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3"><ci id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.1">~</ci><apply id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2">subscript</csymbol><ci id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.2">𝒙</ci><ci id="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.2.3.2.3">𝑖</ci></apply></apply></apply><ci id="S5.Ex2.m1.1.1.1.1.2.1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.1.1.1.3">𝜷</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex2.m1.1c">\displaystyle\hskip 33.5pt=\ell(\bm{\gamma}\frac{{\bm{x}}_{i}-\bm{\mu}_{\mathcal{B}}}{\sqrt{\bm{\sigma}^{2}_{\mathcal{B}}+\epsilon}}+\bm{\beta})=\ell(\bm{\gamma}\tilde{{\bm{x}}_{i}}+\bm{\beta});</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S5.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S5.E8.m1.5" class="ltx_Math" alttext="\displaystyle\textbf{B: }\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}\hskip 3.5pt=\frac{|\mathcal{B}|\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}_{i}}}}}-\sum_{j=1}^{|\mathcal{B}|}{\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}}-{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}_{i}}}\hskip 2.0pt{\color[rgb]{0,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{0,0,0}\pgfsys@color@gray@stroke{0}\pgfsys@color@gray@fill{0}\cdot}\hskip 2.0pt\sum_{j=1}^{|\mathcal{B}|}{\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}\hskip 2.0pt{\color[rgb]{0,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{0,0,0}\pgfsys@color@gray@stroke{0}\pgfsys@color@gray@fill{0}\cdot}\hskip 2.0pt{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}}{|\mathcal{B}|\sqrt{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\bm{\sigma}_{\mathcal{B}}^{2}}+\epsilon}}," display="inline"><semantics id="S5.E8.m1.5a"><mrow id="S5.E8.m1.5.5.1" xref="S5.E8.m1.5.5.1.1.cmml"><mrow id="S5.E8.m1.5.5.1.1" xref="S5.E8.m1.5.5.1.1.cmml"><mrow id="S5.E8.m1.5.5.1.1.2" xref="S5.E8.m1.5.5.1.1.2.cmml"><mtext class="ltx_mathvariant_bold" id="S5.E8.m1.5.5.1.1.2.2" xref="S5.E8.m1.5.5.1.1.2.2a.cmml">B: </mtext><mo lspace="0em" rspace="0em" id="S5.E8.m1.5.5.1.1.2.1" xref="S5.E8.m1.5.5.1.1.2.1.cmml">​</mo><mstyle displaystyle="true" id="S5.E8.m1.5.5.1.1.2.3" xref="S5.E8.m1.5.5.1.1.2.3.cmml"><mfrac id="S5.E8.m1.5.5.1.1.2.3a" xref="S5.E8.m1.5.5.1.1.2.3.cmml"><mrow id="S5.E8.m1.5.5.1.1.2.3.2" xref="S5.E8.m1.5.5.1.1.2.3.2.cmml"><mo rspace="0em" id="S5.E8.m1.5.5.1.1.2.3.2.1" xref="S5.E8.m1.5.5.1.1.2.3.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.E8.m1.5.5.1.1.2.3.2.2" xref="S5.E8.m1.5.5.1.1.2.3.2.2.cmml">ℓ</mi></mrow><mrow id="S5.E8.m1.5.5.1.1.2.3.3" xref="S5.E8.m1.5.5.1.1.2.3.3.cmml"><mo rspace="0em" id="S5.E8.m1.5.5.1.1.2.3.3.1" xref="S5.E8.m1.5.5.1.1.2.3.3.1.cmml">∂</mo><msub id="S5.E8.m1.5.5.1.1.2.3.3.2" xref="S5.E8.m1.5.5.1.1.2.3.3.2.cmml"><mi id="S5.E8.m1.5.5.1.1.2.3.3.2.2" xref="S5.E8.m1.5.5.1.1.2.3.3.2.2.cmml">𝒙</mi><mi id="S5.E8.m1.5.5.1.1.2.3.3.2.3" xref="S5.E8.m1.5.5.1.1.2.3.3.2.3.cmml">i</mi></msub></mrow></mfrac></mstyle></mrow><mo lspace="0.628em" id="S5.E8.m1.5.5.1.1.1" xref="S5.E8.m1.5.5.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S5.E8.m1.4.4" xref="S5.E8.m1.4.4.cmml"><mfrac id="S5.E8.m1.4.4a" xref="S5.E8.m1.4.4.cmml"><mrow id="S5.E8.m1.3.3.3" xref="S5.E8.m1.3.3.3.cmml"><mrow id="S5.E8.m1.3.3.3.5" xref="S5.E8.m1.3.3.3.5.cmml"><mrow id="S5.E8.m1.3.3.3.5.2.2" xref="S5.E8.m1.3.3.3.5.2.1.cmml"><mo stretchy="false" id="S5.E8.m1.3.3.3.5.2.2.1" xref="S5.E8.m1.3.3.3.5.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E8.m1.3.3.3.3" xref="S5.E8.m1.3.3.3.3.cmml">ℬ</mi><mo stretchy="false" id="S5.E8.m1.3.3.3.5.2.2.2" xref="S5.E8.m1.3.3.3.5.2.1.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S5.E8.m1.3.3.3.5.1" xref="S5.E8.m1.3.3.3.5.1.cmml">​</mo><mfrac id="S5.E8.m1.3.3.3.5.3" xref="S5.E8.m1.3.3.3.5.3.cmml"><mrow id="S5.E8.m1.3.3.3.5.3.2" xref="S5.E8.m1.3.3.3.5.3.2.cmml"><mo rspace="0em" id="S5.E8.m1.3.3.3.5.3.2.1" xref="S5.E8.m1.3.3.3.5.3.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.E8.m1.3.3.3.5.3.2.2" xref="S5.E8.m1.3.3.3.5.3.2.2.cmml">ℓ</mi></mrow><mrow id="S5.E8.m1.3.3.3.5.3.3" xref="S5.E8.m1.3.3.3.5.3.3.cmml"><mo rspace="0em" id="S5.E8.m1.3.3.3.5.3.3.1" xref="S5.E8.m1.3.3.3.5.3.3.1.cmml">∂</mo><mover accent="true" id="S5.E8.m1.3.3.3.5.3.3.2" xref="S5.E8.m1.3.3.3.5.3.3.2.cmml"><msub id="S5.E8.m1.3.3.3.5.3.3.2.2" xref="S5.E8.m1.3.3.3.5.3.3.2.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.5.3.3.2.2.2" xref="S5.E8.m1.3.3.3.5.3.3.2.2.2.cmml">𝒙</mi><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.5.3.3.2.2.3" xref="S5.E8.m1.3.3.3.5.3.3.2.2.3.cmml">i</mi></msub><mo mathcolor="#FF0000" id="S5.E8.m1.3.3.3.5.3.3.2.1" xref="S5.E8.m1.3.3.3.5.3.3.2.1.cmml">~</mo></mover></mrow></mfrac></mrow><mo rspace="0.055em" id="S5.E8.m1.3.3.3.4" xref="S5.E8.m1.3.3.3.4.cmml">−</mo><mrow id="S5.E8.m1.3.3.3.6" xref="S5.E8.m1.3.3.3.6.cmml"><msubsup id="S5.E8.m1.3.3.3.6.1" xref="S5.E8.m1.3.3.3.6.1.cmml"><mo id="S5.E8.m1.3.3.3.6.1.2.2" xref="S5.E8.m1.3.3.3.6.1.2.2.cmml">∑</mo><mrow id="S5.E8.m1.3.3.3.6.1.2.3" xref="S5.E8.m1.3.3.3.6.1.2.3.cmml"><mi id="S5.E8.m1.3.3.3.6.1.2.3.2" xref="S5.E8.m1.3.3.3.6.1.2.3.2.cmml">j</mi><mo id="S5.E8.m1.3.3.3.6.1.2.3.1" xref="S5.E8.m1.3.3.3.6.1.2.3.1.cmml">=</mo><mn id="S5.E8.m1.3.3.3.6.1.2.3.3" xref="S5.E8.m1.3.3.3.6.1.2.3.3.cmml">1</mn></mrow><mrow id="S5.E8.m1.1.1.1.1.1.3" xref="S5.E8.m1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S5.E8.m1.1.1.1.1.1.3.1" xref="S5.E8.m1.1.1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E8.m1.1.1.1.1.1.1" xref="S5.E8.m1.1.1.1.1.1.1.cmml">ℬ</mi><mo stretchy="false" id="S5.E8.m1.1.1.1.1.1.3.2" xref="S5.E8.m1.1.1.1.1.1.2.1.cmml">|</mo></mrow></msubsup><mfrac id="S5.E8.m1.3.3.3.6.2" xref="S5.E8.m1.3.3.3.6.2.cmml"><mrow id="S5.E8.m1.3.3.3.6.2.2" xref="S5.E8.m1.3.3.3.6.2.2.cmml"><mo rspace="0em" id="S5.E8.m1.3.3.3.6.2.2.1" xref="S5.E8.m1.3.3.3.6.2.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.E8.m1.3.3.3.6.2.2.2" xref="S5.E8.m1.3.3.3.6.2.2.2.cmml">ℓ</mi></mrow><mrow id="S5.E8.m1.3.3.3.6.2.3" xref="S5.E8.m1.3.3.3.6.2.3.cmml"><mo rspace="0em" id="S5.E8.m1.3.3.3.6.2.3.1" xref="S5.E8.m1.3.3.3.6.2.3.1.cmml">∂</mo><msub id="S5.E8.m1.3.3.3.6.2.3.2" xref="S5.E8.m1.3.3.3.6.2.3.2.cmml"><mover accent="true" id="S5.E8.m1.3.3.3.6.2.3.2.2" xref="S5.E8.m1.3.3.3.6.2.3.2.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.6.2.3.2.2.2" xref="S5.E8.m1.3.3.3.6.2.3.2.2.2.cmml">𝒙</mi><mo mathcolor="#FF0000" id="S5.E8.m1.3.3.3.6.2.3.2.2.1" xref="S5.E8.m1.3.3.3.6.2.3.2.2.1.cmml">~</mo></mover><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.6.2.3.2.3" xref="S5.E8.m1.3.3.3.6.2.3.2.3.cmml">j</mi></msub></mrow></mfrac></mrow><mo id="S5.E8.m1.3.3.3.4a" xref="S5.E8.m1.3.3.3.4.cmml">−</mo><mrow id="S5.E8.m1.3.3.3.7" xref="S5.E8.m1.3.3.3.7.cmml"><mover accent="true" id="S5.E8.m1.3.3.3.7.2" xref="S5.E8.m1.3.3.3.7.2.cmml"><msub id="S5.E8.m1.3.3.3.7.2.2" xref="S5.E8.m1.3.3.3.7.2.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.2.2.2" xref="S5.E8.m1.3.3.3.7.2.2.2.cmml">𝒙</mi><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.2.2.3" xref="S5.E8.m1.3.3.3.7.2.2.3.cmml">i</mi></msub><mo mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.2.1" xref="S5.E8.m1.3.3.3.7.2.1.cmml">~</mo></mover><mo lspace="0.222em" mathcolor="#000000" rspace="0.255em" id="S5.E8.m1.3.3.3.7.1" xref="S5.E8.m1.3.3.3.7.1.cmml">⋅</mo><mrow id="S5.E8.m1.3.3.3.7.3" xref="S5.E8.m1.3.3.3.7.3.cmml"><msubsup id="S5.E8.m1.3.3.3.7.3.1" xref="S5.E8.m1.3.3.3.7.3.1.cmml"><mo mathcolor="#000000" id="S5.E8.m1.3.3.3.7.3.1.2.2" xref="S5.E8.m1.3.3.3.7.3.1.2.2.cmml">∑</mo><mrow id="S5.E8.m1.3.3.3.7.3.1.2.3" xref="S5.E8.m1.3.3.3.7.3.1.2.3.cmml"><mi mathcolor="#000000" id="S5.E8.m1.3.3.3.7.3.1.2.3.2" xref="S5.E8.m1.3.3.3.7.3.1.2.3.2.cmml">j</mi><mo mathcolor="#000000" id="S5.E8.m1.3.3.3.7.3.1.2.3.1" xref="S5.E8.m1.3.3.3.7.3.1.2.3.1.cmml">=</mo><mn mathcolor="#000000" id="S5.E8.m1.3.3.3.7.3.1.2.3.3" xref="S5.E8.m1.3.3.3.7.3.1.2.3.3.cmml">1</mn></mrow><mrow id="S5.E8.m1.2.2.2.2.1.3" xref="S5.E8.m1.2.2.2.2.1.2.cmml"><mo mathcolor="#000000" stretchy="false" id="S5.E8.m1.2.2.2.2.1.3.1" xref="S5.E8.m1.2.2.2.2.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" mathcolor="#000000" id="S5.E8.m1.2.2.2.2.1.1" xref="S5.E8.m1.2.2.2.2.1.1.cmml">ℬ</mi><mo mathcolor="#000000" stretchy="false" id="S5.E8.m1.2.2.2.2.1.3.2" xref="S5.E8.m1.2.2.2.2.1.2.1.cmml">|</mo></mrow></msubsup><mrow id="S5.E8.m1.3.3.3.7.3.2" xref="S5.E8.m1.3.3.3.7.3.2.cmml"><mfrac mathcolor="#000000" id="S5.E8.m1.3.3.3.7.3.2.2" xref="S5.E8.m1.3.3.3.7.3.2.2.cmml"><mrow id="S5.E8.m1.3.3.3.7.3.2.2.2" xref="S5.E8.m1.3.3.3.7.3.2.2.2.cmml"><mo mathcolor="#000000" rspace="0em" id="S5.E8.m1.3.3.3.7.3.2.2.2.1" xref="S5.E8.m1.3.3.3.7.3.2.2.2.1.cmml">∂</mo><mi mathcolor="#000000" mathvariant="normal" id="S5.E8.m1.3.3.3.7.3.2.2.2.2" xref="S5.E8.m1.3.3.3.7.3.2.2.2.2.cmml">ℓ</mi></mrow><mrow id="S5.E8.m1.3.3.3.7.3.2.2.3" xref="S5.E8.m1.3.3.3.7.3.2.2.3.cmml"><mo mathcolor="#000000" rspace="0em" id="S5.E8.m1.3.3.3.7.3.2.2.3.1" xref="S5.E8.m1.3.3.3.7.3.2.2.3.1.cmml">∂</mo><msub id="S5.E8.m1.3.3.3.7.3.2.2.3.2" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.cmml"><mover accent="true" id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.2" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.2.cmml">𝒙</mi><mo mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.1" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.1.cmml">~</mo></mover><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.2.3.2.3" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.3.cmml">j</mi></msub></mrow></mfrac><mo lspace="0.422em" mathcolor="#000000" rspace="0.422em" id="S5.E8.m1.3.3.3.7.3.2.1" xref="S5.E8.m1.3.3.3.7.3.2.1.cmml">⋅</mo><msub id="S5.E8.m1.3.3.3.7.3.2.3" xref="S5.E8.m1.3.3.3.7.3.2.3.cmml"><mover accent="true" id="S5.E8.m1.3.3.3.7.3.2.3.2" xref="S5.E8.m1.3.3.3.7.3.2.3.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.3.2.2" xref="S5.E8.m1.3.3.3.7.3.2.3.2.2.cmml">𝒙</mi><mo mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.3.2.1" xref="S5.E8.m1.3.3.3.7.3.2.3.2.1.cmml">~</mo></mover><mi mathcolor="#FF0000" id="S5.E8.m1.3.3.3.7.3.2.3.3" xref="S5.E8.m1.3.3.3.7.3.2.3.3.cmml">j</mi></msub></mrow></mrow></mrow></mrow><mrow id="S5.E8.m1.4.4.4" xref="S5.E8.m1.4.4.4.cmml"><mrow id="S5.E8.m1.4.4.4.3.2" xref="S5.E8.m1.4.4.4.3.1.cmml"><mo stretchy="false" id="S5.E8.m1.4.4.4.3.2.1" xref="S5.E8.m1.4.4.4.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E8.m1.4.4.4.1" xref="S5.E8.m1.4.4.4.1.cmml">ℬ</mi><mo stretchy="false" id="S5.E8.m1.4.4.4.3.2.2" xref="S5.E8.m1.4.4.4.3.1.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S5.E8.m1.4.4.4.2" xref="S5.E8.m1.4.4.4.2.cmml">​</mo><msqrt id="S5.E8.m1.4.4.4.4" xref="S5.E8.m1.4.4.4.4.cmml"><mrow id="S5.E8.m1.4.4.4.4.2" xref="S5.E8.m1.4.4.4.4.2.cmml"><msubsup id="S5.E8.m1.4.4.4.4.2.2" xref="S5.E8.m1.4.4.4.4.2.2.cmml"><mi mathcolor="#FF0000" id="S5.E8.m1.4.4.4.4.2.2.2.2" xref="S5.E8.m1.4.4.4.4.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" mathcolor="#FF0000" id="S5.E8.m1.4.4.4.4.2.2.2.3" xref="S5.E8.m1.4.4.4.4.2.2.2.3.cmml">ℬ</mi><mn mathcolor="#FF0000" id="S5.E8.m1.4.4.4.4.2.2.3" xref="S5.E8.m1.4.4.4.4.2.2.3.cmml">2</mn></msubsup><mo id="S5.E8.m1.4.4.4.4.2.1" xref="S5.E8.m1.4.4.4.4.2.1.cmml">+</mo><mi id="S5.E8.m1.4.4.4.4.2.3" xref="S5.E8.m1.4.4.4.4.2.3.cmml">ϵ</mi></mrow></msqrt></mrow></mfrac></mstyle></mrow><mo id="S5.E8.m1.5.5.1.2" xref="S5.E8.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E8.m1.5b"><apply id="S5.E8.m1.5.5.1.1.cmml" xref="S5.E8.m1.5.5.1"><eq id="S5.E8.m1.5.5.1.1.1.cmml" xref="S5.E8.m1.5.5.1.1.1"></eq><apply id="S5.E8.m1.5.5.1.1.2.cmml" xref="S5.E8.m1.5.5.1.1.2"><times id="S5.E8.m1.5.5.1.1.2.1.cmml" xref="S5.E8.m1.5.5.1.1.2.1"></times><ci id="S5.E8.m1.5.5.1.1.2.2a.cmml" xref="S5.E8.m1.5.5.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="S5.E8.m1.5.5.1.1.2.2.cmml" xref="S5.E8.m1.5.5.1.1.2.2">B: </mtext></ci><apply id="S5.E8.m1.5.5.1.1.2.3.cmml" xref="S5.E8.m1.5.5.1.1.2.3"><divide id="S5.E8.m1.5.5.1.1.2.3.1.cmml" xref="S5.E8.m1.5.5.1.1.2.3"></divide><apply id="S5.E8.m1.5.5.1.1.2.3.2.cmml" xref="S5.E8.m1.5.5.1.1.2.3.2"><partialdiff id="S5.E8.m1.5.5.1.1.2.3.2.1.cmml" xref="S5.E8.m1.5.5.1.1.2.3.2.1"></partialdiff><ci id="S5.E8.m1.5.5.1.1.2.3.2.2.cmml" xref="S5.E8.m1.5.5.1.1.2.3.2.2">ℓ</ci></apply><apply id="S5.E8.m1.5.5.1.1.2.3.3.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3"><partialdiff id="S5.E8.m1.5.5.1.1.2.3.3.1.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3.1"></partialdiff><apply id="S5.E8.m1.5.5.1.1.2.3.3.2.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3.2"><csymbol cd="ambiguous" id="S5.E8.m1.5.5.1.1.2.3.3.2.1.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3.2">subscript</csymbol><ci id="S5.E8.m1.5.5.1.1.2.3.3.2.2.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3.2.2">𝒙</ci><ci id="S5.E8.m1.5.5.1.1.2.3.3.2.3.cmml" xref="S5.E8.m1.5.5.1.1.2.3.3.2.3">𝑖</ci></apply></apply></apply></apply><apply id="S5.E8.m1.4.4.cmml" xref="S5.E8.m1.4.4"><divide id="S5.E8.m1.4.4.5.cmml" xref="S5.E8.m1.4.4"></divide><apply id="S5.E8.m1.3.3.3.cmml" xref="S5.E8.m1.3.3.3"><minus id="S5.E8.m1.3.3.3.4.cmml" xref="S5.E8.m1.3.3.3.4"></minus><apply id="S5.E8.m1.3.3.3.5.cmml" xref="S5.E8.m1.3.3.3.5"><times id="S5.E8.m1.3.3.3.5.1.cmml" xref="S5.E8.m1.3.3.3.5.1"></times><apply id="S5.E8.m1.3.3.3.5.2.1.cmml" xref="S5.E8.m1.3.3.3.5.2.2"><abs id="S5.E8.m1.3.3.3.5.2.1.1.cmml" xref="S5.E8.m1.3.3.3.5.2.2.1"></abs><ci id="S5.E8.m1.3.3.3.3.cmml" xref="S5.E8.m1.3.3.3.3">ℬ</ci></apply><apply id="S5.E8.m1.3.3.3.5.3.cmml" xref="S5.E8.m1.3.3.3.5.3"><divide id="S5.E8.m1.3.3.3.5.3.1.cmml" xref="S5.E8.m1.3.3.3.5.3"></divide><apply id="S5.E8.m1.3.3.3.5.3.2.cmml" xref="S5.E8.m1.3.3.3.5.3.2"><partialdiff id="S5.E8.m1.3.3.3.5.3.2.1.cmml" xref="S5.E8.m1.3.3.3.5.3.2.1"></partialdiff><ci id="S5.E8.m1.3.3.3.5.3.2.2.cmml" xref="S5.E8.m1.3.3.3.5.3.2.2">ℓ</ci></apply><apply id="S5.E8.m1.3.3.3.5.3.3.cmml" xref="S5.E8.m1.3.3.3.5.3.3"><partialdiff id="S5.E8.m1.3.3.3.5.3.3.1.cmml" xref="S5.E8.m1.3.3.3.5.3.3.1"></partialdiff><apply id="S5.E8.m1.3.3.3.5.3.3.2.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2"><ci id="S5.E8.m1.3.3.3.5.3.3.2.1.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2.1">~</ci><apply id="S5.E8.m1.3.3.3.5.3.3.2.2.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2.2"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.5.3.3.2.2.1.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2.2">subscript</csymbol><ci id="S5.E8.m1.3.3.3.5.3.3.2.2.2.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2.2.2">𝒙</ci><ci id="S5.E8.m1.3.3.3.5.3.3.2.2.3.cmml" xref="S5.E8.m1.3.3.3.5.3.3.2.2.3">𝑖</ci></apply></apply></apply></apply></apply><apply id="S5.E8.m1.3.3.3.6.cmml" xref="S5.E8.m1.3.3.3.6"><apply id="S5.E8.m1.3.3.3.6.1.cmml" xref="S5.E8.m1.3.3.3.6.1"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.6.1.1.cmml" xref="S5.E8.m1.3.3.3.6.1">superscript</csymbol><apply id="S5.E8.m1.3.3.3.6.1.2.cmml" xref="S5.E8.m1.3.3.3.6.1"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.6.1.2.1.cmml" xref="S5.E8.m1.3.3.3.6.1">subscript</csymbol><sum id="S5.E8.m1.3.3.3.6.1.2.2.cmml" xref="S5.E8.m1.3.3.3.6.1.2.2"></sum><apply id="S5.E8.m1.3.3.3.6.1.2.3.cmml" xref="S5.E8.m1.3.3.3.6.1.2.3"><eq id="S5.E8.m1.3.3.3.6.1.2.3.1.cmml" xref="S5.E8.m1.3.3.3.6.1.2.3.1"></eq><ci id="S5.E8.m1.3.3.3.6.1.2.3.2.cmml" xref="S5.E8.m1.3.3.3.6.1.2.3.2">𝑗</ci><cn type="integer" id="S5.E8.m1.3.3.3.6.1.2.3.3.cmml" xref="S5.E8.m1.3.3.3.6.1.2.3.3">1</cn></apply></apply><apply id="S5.E8.m1.1.1.1.1.1.2.cmml" xref="S5.E8.m1.1.1.1.1.1.3"><abs id="S5.E8.m1.1.1.1.1.1.2.1.cmml" xref="S5.E8.m1.1.1.1.1.1.3.1"></abs><ci id="S5.E8.m1.1.1.1.1.1.1.cmml" xref="S5.E8.m1.1.1.1.1.1.1">ℬ</ci></apply></apply><apply id="S5.E8.m1.3.3.3.6.2.cmml" xref="S5.E8.m1.3.3.3.6.2"><divide id="S5.E8.m1.3.3.3.6.2.1.cmml" xref="S5.E8.m1.3.3.3.6.2"></divide><apply id="S5.E8.m1.3.3.3.6.2.2.cmml" xref="S5.E8.m1.3.3.3.6.2.2"><partialdiff id="S5.E8.m1.3.3.3.6.2.2.1.cmml" xref="S5.E8.m1.3.3.3.6.2.2.1"></partialdiff><ci id="S5.E8.m1.3.3.3.6.2.2.2.cmml" xref="S5.E8.m1.3.3.3.6.2.2.2">ℓ</ci></apply><apply id="S5.E8.m1.3.3.3.6.2.3.cmml" xref="S5.E8.m1.3.3.3.6.2.3"><partialdiff id="S5.E8.m1.3.3.3.6.2.3.1.cmml" xref="S5.E8.m1.3.3.3.6.2.3.1"></partialdiff><apply id="S5.E8.m1.3.3.3.6.2.3.2.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.6.2.3.2.1.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2">subscript</csymbol><apply id="S5.E8.m1.3.3.3.6.2.3.2.2.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2.2"><ci id="S5.E8.m1.3.3.3.6.2.3.2.2.1.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2.2.1">~</ci><ci id="S5.E8.m1.3.3.3.6.2.3.2.2.2.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2.2.2">𝒙</ci></apply><ci id="S5.E8.m1.3.3.3.6.2.3.2.3.cmml" xref="S5.E8.m1.3.3.3.6.2.3.2.3">𝑗</ci></apply></apply></apply></apply><apply id="S5.E8.m1.3.3.3.7.cmml" xref="S5.E8.m1.3.3.3.7"><ci id="S5.E8.m1.3.3.3.7.1.cmml" xref="S5.E8.m1.3.3.3.7.1">⋅</ci><apply id="S5.E8.m1.3.3.3.7.2.cmml" xref="S5.E8.m1.3.3.3.7.2"><ci id="S5.E8.m1.3.3.3.7.2.1.cmml" xref="S5.E8.m1.3.3.3.7.2.1">~</ci><apply id="S5.E8.m1.3.3.3.7.2.2.cmml" xref="S5.E8.m1.3.3.3.7.2.2"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.7.2.2.1.cmml" xref="S5.E8.m1.3.3.3.7.2.2">subscript</csymbol><ci id="S5.E8.m1.3.3.3.7.2.2.2.cmml" xref="S5.E8.m1.3.3.3.7.2.2.2">𝒙</ci><ci id="S5.E8.m1.3.3.3.7.2.2.3.cmml" xref="S5.E8.m1.3.3.3.7.2.2.3">𝑖</ci></apply></apply><apply id="S5.E8.m1.3.3.3.7.3.cmml" xref="S5.E8.m1.3.3.3.7.3"><apply id="S5.E8.m1.3.3.3.7.3.1.cmml" xref="S5.E8.m1.3.3.3.7.3.1"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.7.3.1.1.cmml" xref="S5.E8.m1.3.3.3.7.3.1">superscript</csymbol><apply id="S5.E8.m1.3.3.3.7.3.1.2.cmml" xref="S5.E8.m1.3.3.3.7.3.1"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.7.3.1.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.1">subscript</csymbol><sum id="S5.E8.m1.3.3.3.7.3.1.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.1.2.2"></sum><apply id="S5.E8.m1.3.3.3.7.3.1.2.3.cmml" xref="S5.E8.m1.3.3.3.7.3.1.2.3"><eq id="S5.E8.m1.3.3.3.7.3.1.2.3.1.cmml" xref="S5.E8.m1.3.3.3.7.3.1.2.3.1"></eq><ci id="S5.E8.m1.3.3.3.7.3.1.2.3.2.cmml" xref="S5.E8.m1.3.3.3.7.3.1.2.3.2">𝑗</ci><cn type="integer" id="S5.E8.m1.3.3.3.7.3.1.2.3.3.cmml" xref="S5.E8.m1.3.3.3.7.3.1.2.3.3">1</cn></apply></apply><apply id="S5.E8.m1.2.2.2.2.1.2.cmml" xref="S5.E8.m1.2.2.2.2.1.3"><abs id="S5.E8.m1.2.2.2.2.1.2.1.cmml" xref="S5.E8.m1.2.2.2.2.1.3.1"></abs><ci id="S5.E8.m1.2.2.2.2.1.1.cmml" xref="S5.E8.m1.2.2.2.2.1.1">ℬ</ci></apply></apply><apply id="S5.E8.m1.3.3.3.7.3.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2"><ci id="S5.E8.m1.3.3.3.7.3.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.1">⋅</ci><apply id="S5.E8.m1.3.3.3.7.3.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2"><divide id="S5.E8.m1.3.3.3.7.3.2.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2"></divide><apply id="S5.E8.m1.3.3.3.7.3.2.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.2"><partialdiff id="S5.E8.m1.3.3.3.7.3.2.2.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.2.1"></partialdiff><ci id="S5.E8.m1.3.3.3.7.3.2.2.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.2.2">ℓ</ci></apply><apply id="S5.E8.m1.3.3.3.7.3.2.2.3.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3"><partialdiff id="S5.E8.m1.3.3.3.7.3.2.2.3.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.1"></partialdiff><apply id="S5.E8.m1.3.3.3.7.3.2.2.3.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.7.3.2.2.3.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2">subscript</csymbol><apply id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2"><ci id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.1">~</ci><ci id="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.2.2">𝒙</ci></apply><ci id="S5.E8.m1.3.3.3.7.3.2.2.3.2.3.cmml" xref="S5.E8.m1.3.3.3.7.3.2.2.3.2.3">𝑗</ci></apply></apply></apply><apply id="S5.E8.m1.3.3.3.7.3.2.3.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3"><csymbol cd="ambiguous" id="S5.E8.m1.3.3.3.7.3.2.3.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3">subscript</csymbol><apply id="S5.E8.m1.3.3.3.7.3.2.3.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3.2"><ci id="S5.E8.m1.3.3.3.7.3.2.3.2.1.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3.2.1">~</ci><ci id="S5.E8.m1.3.3.3.7.3.2.3.2.2.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3.2.2">𝒙</ci></apply><ci id="S5.E8.m1.3.3.3.7.3.2.3.3.cmml" xref="S5.E8.m1.3.3.3.7.3.2.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S5.E8.m1.4.4.4.cmml" xref="S5.E8.m1.4.4.4"><times id="S5.E8.m1.4.4.4.2.cmml" xref="S5.E8.m1.4.4.4.2"></times><apply id="S5.E8.m1.4.4.4.3.1.cmml" xref="S5.E8.m1.4.4.4.3.2"><abs id="S5.E8.m1.4.4.4.3.1.1.cmml" xref="S5.E8.m1.4.4.4.3.2.1"></abs><ci id="S5.E8.m1.4.4.4.1.cmml" xref="S5.E8.m1.4.4.4.1">ℬ</ci></apply><apply id="S5.E8.m1.4.4.4.4.cmml" xref="S5.E8.m1.4.4.4.4"><root id="S5.E8.m1.4.4.4.4a.cmml" xref="S5.E8.m1.4.4.4.4"></root><apply id="S5.E8.m1.4.4.4.4.2.cmml" xref="S5.E8.m1.4.4.4.4.2"><plus id="S5.E8.m1.4.4.4.4.2.1.cmml" xref="S5.E8.m1.4.4.4.4.2.1"></plus><apply id="S5.E8.m1.4.4.4.4.2.2.cmml" xref="S5.E8.m1.4.4.4.4.2.2"><csymbol cd="ambiguous" id="S5.E8.m1.4.4.4.4.2.2.1.cmml" xref="S5.E8.m1.4.4.4.4.2.2">superscript</csymbol><apply id="S5.E8.m1.4.4.4.4.2.2.2.cmml" xref="S5.E8.m1.4.4.4.4.2.2"><csymbol cd="ambiguous" id="S5.E8.m1.4.4.4.4.2.2.2.1.cmml" xref="S5.E8.m1.4.4.4.4.2.2">subscript</csymbol><ci id="S5.E8.m1.4.4.4.4.2.2.2.2.cmml" xref="S5.E8.m1.4.4.4.4.2.2.2.2">𝝈</ci><ci id="S5.E8.m1.4.4.4.4.2.2.2.3.cmml" xref="S5.E8.m1.4.4.4.4.2.2.2.3">ℬ</ci></apply><cn type="integer" id="S5.E8.m1.4.4.4.4.2.2.3.cmml" xref="S5.E8.m1.4.4.4.4.2.2.3">2</cn></apply><ci id="S5.E8.m1.4.4.4.4.2.3.cmml" xref="S5.E8.m1.4.4.4.4.2.3">italic-ϵ</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E8.m1.5c">\displaystyle\textbf{B: }\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}\hskip 3.5pt=\frac{|\mathcal{B}|\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}_{i}}}}}-\sum_{j=1}^{|\mathcal{B}|}{\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}}-{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}_{i}}}\hskip 2.0pt{\color[rgb]{0,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{0,0,0}\pgfsys@color@gray@stroke{0}\pgfsys@color@gray@fill{0}\cdot}\hskip 2.0pt\sum_{j=1}^{|\mathcal{B}|}{\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}\hskip 2.0pt{\color[rgb]{0,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{0,0,0}\pgfsys@color@gray@stroke{0}\pgfsys@color@gray@fill{0}\cdot}\hskip 2.0pt{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}_{j}}}}}{|\mathcal{B}|\sqrt{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\bm{\sigma}_{\mathcal{B}}^{2}}+\epsilon}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S5.SS1.p1.7" class="ltx_p">where <math id="S5.SS1.p1.4.m1.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S5.SS1.p1.4.m1.1a"><mi mathvariant="normal" id="S5.SS1.p1.4.m1.1.1" xref="S5.SS1.p1.4.m1.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.4.m1.1b"><ci id="S5.SS1.p1.4.m1.1.1.cmml" xref="S5.SS1.p1.4.m1.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.4.m1.1c">\ell</annotation></semantics></math> is an arbitrary loss function on the <span id="S5.SS1.p1.7.1" class="ltx_text ltx_font_smallcaps">BN</span> layer’s output <math id="S5.SS1.p1.5.m2.1" class="ltx_Math" alttext="\hat{\bm{x}}_{i}" display="inline"><semantics id="S5.SS1.p1.5.m2.1a"><msub id="S5.SS1.p1.5.m2.1.1" xref="S5.SS1.p1.5.m2.1.1.cmml"><mover accent="true" id="S5.SS1.p1.5.m2.1.1.2" xref="S5.SS1.p1.5.m2.1.1.2.cmml"><mi id="S5.SS1.p1.5.m2.1.1.2.2" xref="S5.SS1.p1.5.m2.1.1.2.2.cmml">𝒙</mi><mo id="S5.SS1.p1.5.m2.1.1.2.1" xref="S5.SS1.p1.5.m2.1.1.2.1.cmml">^</mo></mover><mi id="S5.SS1.p1.5.m2.1.1.3" xref="S5.SS1.p1.5.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.5.m2.1b"><apply id="S5.SS1.p1.5.m2.1.1.cmml" xref="S5.SS1.p1.5.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.5.m2.1.1.1.cmml" xref="S5.SS1.p1.5.m2.1.1">subscript</csymbol><apply id="S5.SS1.p1.5.m2.1.1.2.cmml" xref="S5.SS1.p1.5.m2.1.1.2"><ci id="S5.SS1.p1.5.m2.1.1.2.1.cmml" xref="S5.SS1.p1.5.m2.1.1.2.1">^</ci><ci id="S5.SS1.p1.5.m2.1.1.2.2.cmml" xref="S5.SS1.p1.5.m2.1.1.2.2">𝒙</ci></apply><ci id="S5.SS1.p1.5.m2.1.1.3.cmml" xref="S5.SS1.p1.5.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.5.m2.1c">\hat{\bm{x}}_{i}</annotation></semantics></math>, “<math id="S5.SS1.p1.6.m3.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="S5.SS1.p1.6.m3.1a"><mo id="S5.SS1.p1.6.m3.1.1" xref="S5.SS1.p1.6.m3.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.6.m3.1b"><ci id="S5.SS1.p1.6.m3.1.1.cmml" xref="S5.SS1.p1.6.m3.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.6.m3.1c">\cdot</annotation></semantics></math>” is element-wise multiplication, and <math id="S5.SS1.p1.7.m4.1" class="ltx_Math" alttext="\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}}}}=\bm{\gamma}\frac{\partial{\ell}}{\partial{\hat{\bm{x}}}}" display="inline"><semantics id="S5.SS1.p1.7.m4.1a"><mrow id="S5.SS1.p1.7.m4.1.1" xref="S5.SS1.p1.7.m4.1.1.cmml"><mfrac id="S5.SS1.p1.7.m4.1.1.2" xref="S5.SS1.p1.7.m4.1.1.2.cmml"><mrow id="S5.SS1.p1.7.m4.1.1.2.2" xref="S5.SS1.p1.7.m4.1.1.2.2.cmml"><mo rspace="0em" id="S5.SS1.p1.7.m4.1.1.2.2.1" xref="S5.SS1.p1.7.m4.1.1.2.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.SS1.p1.7.m4.1.1.2.2.2" xref="S5.SS1.p1.7.m4.1.1.2.2.2.cmml">ℓ</mi></mrow><mrow id="S5.SS1.p1.7.m4.1.1.2.3" xref="S5.SS1.p1.7.m4.1.1.2.3.cmml"><mo rspace="0em" id="S5.SS1.p1.7.m4.1.1.2.3.1" xref="S5.SS1.p1.7.m4.1.1.2.3.1.cmml">∂</mo><mover accent="true" id="S5.SS1.p1.7.m4.1.1.2.3.2" xref="S5.SS1.p1.7.m4.1.1.2.3.2.cmml"><mi mathcolor="#FF0000" id="S5.SS1.p1.7.m4.1.1.2.3.2.2" xref="S5.SS1.p1.7.m4.1.1.2.3.2.2.cmml">𝒙</mi><mo mathcolor="#FF0000" id="S5.SS1.p1.7.m4.1.1.2.3.2.1" xref="S5.SS1.p1.7.m4.1.1.2.3.2.1.cmml">~</mo></mover></mrow></mfrac><mo id="S5.SS1.p1.7.m4.1.1.1" xref="S5.SS1.p1.7.m4.1.1.1.cmml">=</mo><mrow id="S5.SS1.p1.7.m4.1.1.3" xref="S5.SS1.p1.7.m4.1.1.3.cmml"><mi id="S5.SS1.p1.7.m4.1.1.3.2" xref="S5.SS1.p1.7.m4.1.1.3.2.cmml">𝜸</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p1.7.m4.1.1.3.1" xref="S5.SS1.p1.7.m4.1.1.3.1.cmml">​</mo><mfrac id="S5.SS1.p1.7.m4.1.1.3.3" xref="S5.SS1.p1.7.m4.1.1.3.3.cmml"><mrow id="S5.SS1.p1.7.m4.1.1.3.3.2" xref="S5.SS1.p1.7.m4.1.1.3.3.2.cmml"><mo rspace="0em" id="S5.SS1.p1.7.m4.1.1.3.3.2.1" xref="S5.SS1.p1.7.m4.1.1.3.3.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.SS1.p1.7.m4.1.1.3.3.2.2" xref="S5.SS1.p1.7.m4.1.1.3.3.2.2.cmml">ℓ</mi></mrow><mrow id="S5.SS1.p1.7.m4.1.1.3.3.3" xref="S5.SS1.p1.7.m4.1.1.3.3.3.cmml"><mo rspace="0em" id="S5.SS1.p1.7.m4.1.1.3.3.3.1" xref="S5.SS1.p1.7.m4.1.1.3.3.3.1.cmml">∂</mo><mover accent="true" id="S5.SS1.p1.7.m4.1.1.3.3.3.2" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2.cmml"><mi id="S5.SS1.p1.7.m4.1.1.3.3.3.2.2" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2.2.cmml">𝒙</mi><mo id="S5.SS1.p1.7.m4.1.1.3.3.3.2.1" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2.1.cmml">^</mo></mover></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.7.m4.1b"><apply id="S5.SS1.p1.7.m4.1.1.cmml" xref="S5.SS1.p1.7.m4.1.1"><eq id="S5.SS1.p1.7.m4.1.1.1.cmml" xref="S5.SS1.p1.7.m4.1.1.1"></eq><apply id="S5.SS1.p1.7.m4.1.1.2.cmml" xref="S5.SS1.p1.7.m4.1.1.2"><divide id="S5.SS1.p1.7.m4.1.1.2.1.cmml" xref="S5.SS1.p1.7.m4.1.1.2"></divide><apply id="S5.SS1.p1.7.m4.1.1.2.2.cmml" xref="S5.SS1.p1.7.m4.1.1.2.2"><partialdiff id="S5.SS1.p1.7.m4.1.1.2.2.1.cmml" xref="S5.SS1.p1.7.m4.1.1.2.2.1"></partialdiff><ci id="S5.SS1.p1.7.m4.1.1.2.2.2.cmml" xref="S5.SS1.p1.7.m4.1.1.2.2.2">ℓ</ci></apply><apply id="S5.SS1.p1.7.m4.1.1.2.3.cmml" xref="S5.SS1.p1.7.m4.1.1.2.3"><partialdiff id="S5.SS1.p1.7.m4.1.1.2.3.1.cmml" xref="S5.SS1.p1.7.m4.1.1.2.3.1"></partialdiff><apply id="S5.SS1.p1.7.m4.1.1.2.3.2.cmml" xref="S5.SS1.p1.7.m4.1.1.2.3.2"><ci id="S5.SS1.p1.7.m4.1.1.2.3.2.1.cmml" xref="S5.SS1.p1.7.m4.1.1.2.3.2.1">~</ci><ci id="S5.SS1.p1.7.m4.1.1.2.3.2.2.cmml" xref="S5.SS1.p1.7.m4.1.1.2.3.2.2">𝒙</ci></apply></apply></apply><apply id="S5.SS1.p1.7.m4.1.1.3.cmml" xref="S5.SS1.p1.7.m4.1.1.3"><times id="S5.SS1.p1.7.m4.1.1.3.1.cmml" xref="S5.SS1.p1.7.m4.1.1.3.1"></times><ci id="S5.SS1.p1.7.m4.1.1.3.2.cmml" xref="S5.SS1.p1.7.m4.1.1.3.2">𝜸</ci><apply id="S5.SS1.p1.7.m4.1.1.3.3.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3"><divide id="S5.SS1.p1.7.m4.1.1.3.3.1.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3"></divide><apply id="S5.SS1.p1.7.m4.1.1.3.3.2.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.2"><partialdiff id="S5.SS1.p1.7.m4.1.1.3.3.2.1.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.2.1"></partialdiff><ci id="S5.SS1.p1.7.m4.1.1.3.3.2.2.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.2.2">ℓ</ci></apply><apply id="S5.SS1.p1.7.m4.1.1.3.3.3.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.3"><partialdiff id="S5.SS1.p1.7.m4.1.1.3.3.3.1.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.3.1"></partialdiff><apply id="S5.SS1.p1.7.m4.1.1.3.3.3.2.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2"><ci id="S5.SS1.p1.7.m4.1.1.3.3.3.2.1.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2.1">^</ci><ci id="S5.SS1.p1.7.m4.1.1.3.3.3.2.2.cmml" xref="S5.SS1.p1.7.m4.1.1.3.3.3.2.2">𝒙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.7.m4.1c">\frac{\partial{\ell}}{\partial{{\color[rgb]{1,0,0}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,0}\tilde{{\bm{x}}}}}}=\bm{\gamma}\frac{\partial{\ell}}{\partial{\hat{\bm{x}}}}</annotation></semantics></math>.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.9" class="ltx_p">We can see that many terms in <a href="#S5.E8" title="Equation 8 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 8</span></a> (colored in <span id="S5.SS1.p2.9.1" class="ltx_text" style="color:#FF0000;">red</span>) depend on the mini-batch features <math id="S5.SS1.p2.1.m1.2" class="ltx_Math" alttext="\{{\bm{x}}_{j}\}_{j=1}^{|\mathcal{B}|}" display="inline"><semantics id="S5.SS1.p2.1.m1.2a"><msubsup id="S5.SS1.p2.1.m1.2.2" xref="S5.SS1.p2.1.m1.2.2.cmml"><mrow id="S5.SS1.p2.1.m1.2.2.1.1.1" xref="S5.SS1.p2.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S5.SS1.p2.1.m1.2.2.1.1.1.2" xref="S5.SS1.p2.1.m1.2.2.1.1.2.cmml">{</mo><msub id="S5.SS1.p2.1.m1.2.2.1.1.1.1" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.2.2.1.1.1.1.2" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1.2.cmml">𝒙</mi><mi id="S5.SS1.p2.1.m1.2.2.1.1.1.1.3" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S5.SS1.p2.1.m1.2.2.1.1.1.3" xref="S5.SS1.p2.1.m1.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S5.SS1.p2.1.m1.2.2.1.3" xref="S5.SS1.p2.1.m1.2.2.1.3.cmml"><mi id="S5.SS1.p2.1.m1.2.2.1.3.2" xref="S5.SS1.p2.1.m1.2.2.1.3.2.cmml">j</mi><mo id="S5.SS1.p2.1.m1.2.2.1.3.1" xref="S5.SS1.p2.1.m1.2.2.1.3.1.cmml">=</mo><mn id="S5.SS1.p2.1.m1.2.2.1.3.3" xref="S5.SS1.p2.1.m1.2.2.1.3.3.cmml">1</mn></mrow><mrow id="S5.SS1.p2.1.m1.1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S5.SS1.p2.1.m1.1.1.1.3.1" xref="S5.SS1.p2.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.1.m1.1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.1.cmml">ℬ</mi><mo stretchy="false" id="S5.SS1.p2.1.m1.1.1.1.3.2" xref="S5.SS1.p2.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.2b"><apply id="S5.SS1.p2.1.m1.2.2.cmml" xref="S5.SS1.p2.1.m1.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.2.2.2.cmml" xref="S5.SS1.p2.1.m1.2.2">superscript</csymbol><apply id="S5.SS1.p2.1.m1.2.2.1.cmml" xref="S5.SS1.p2.1.m1.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.2.2.1.2.cmml" xref="S5.SS1.p2.1.m1.2.2">subscript</csymbol><set id="S5.SS1.p2.1.m1.2.2.1.1.2.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1"><apply id="S5.SS1.p2.1.m1.2.2.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.1.m1.2.2.1.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.1.m1.2.2.1.1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1.2">𝒙</ci><ci id="S5.SS1.p2.1.m1.2.2.1.1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.2.2.1.1.1.1.3">𝑗</ci></apply></set><apply id="S5.SS1.p2.1.m1.2.2.1.3.cmml" xref="S5.SS1.p2.1.m1.2.2.1.3"><eq id="S5.SS1.p2.1.m1.2.2.1.3.1.cmml" xref="S5.SS1.p2.1.m1.2.2.1.3.1"></eq><ci id="S5.SS1.p2.1.m1.2.2.1.3.2.cmml" xref="S5.SS1.p2.1.m1.2.2.1.3.2">𝑗</ci><cn type="integer" id="S5.SS1.p2.1.m1.2.2.1.3.3.cmml" xref="S5.SS1.p2.1.m1.2.2.1.3.3">1</cn></apply></apply><apply id="S5.SS1.p2.1.m1.1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.1.3"><abs id="S5.SS1.p2.1.m1.1.1.1.2.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1.3.1"></abs><ci id="S5.SS1.p2.1.m1.1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1.1">ℬ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.2c">\{{\bm{x}}_{j}\}_{j=1}^{|\mathcal{B}|}</annotation></semantics></math> or mini-batch statistics <math id="S5.SS1.p2.2.m2.2" class="ltx_Math" alttext="{(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}})}" display="inline"><semantics id="S5.SS1.p2.2.m2.2a"><mrow id="S5.SS1.p2.2.m2.2.2.2" xref="S5.SS1.p2.2.m2.2.2.3.cmml"><mo stretchy="false" id="S5.SS1.p2.2.m2.2.2.2.3" xref="S5.SS1.p2.2.m2.2.2.3.cmml">(</mo><msub id="S5.SS1.p2.2.m2.1.1.1.1" xref="S5.SS1.p2.2.m2.1.1.1.1.cmml"><mi id="S5.SS1.p2.2.m2.1.1.1.1.2" xref="S5.SS1.p2.2.m2.1.1.1.1.2.cmml">𝝁</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.2.m2.1.1.1.1.3" xref="S5.SS1.p2.2.m2.1.1.1.1.3.cmml">ℬ</mi></msub><mo id="S5.SS1.p2.2.m2.2.2.2.4" xref="S5.SS1.p2.2.m2.2.2.3.cmml">,</mo><msubsup id="S5.SS1.p2.2.m2.2.2.2.2" xref="S5.SS1.p2.2.m2.2.2.2.2.cmml"><mi id="S5.SS1.p2.2.m2.2.2.2.2.2.2" xref="S5.SS1.p2.2.m2.2.2.2.2.2.2.cmml">𝝈</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.2.m2.2.2.2.2.3" xref="S5.SS1.p2.2.m2.2.2.2.2.3.cmml">ℬ</mi><mn id="S5.SS1.p2.2.m2.2.2.2.2.2.3" xref="S5.SS1.p2.2.m2.2.2.2.2.2.3.cmml">2</mn></msubsup><mo stretchy="false" id="S5.SS1.p2.2.m2.2.2.2.5" xref="S5.SS1.p2.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.2b"><interval closure="open" id="S5.SS1.p2.2.m2.2.2.3.cmml" xref="S5.SS1.p2.2.m2.2.2.2"><apply id="S5.SS1.p2.2.m2.1.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.1.1.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.2.m2.1.1.1.1.2.cmml" xref="S5.SS1.p2.2.m2.1.1.1.1.2">𝝁</ci><ci id="S5.SS1.p2.2.m2.1.1.1.1.3.cmml" xref="S5.SS1.p2.2.m2.1.1.1.1.3">ℬ</ci></apply><apply id="S5.SS1.p2.2.m2.2.2.2.2.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.2.2.2.2.1.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2">subscript</csymbol><apply id="S5.SS1.p2.2.m2.2.2.2.2.2.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.2.m2.2.2.2.2.2.1.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2">superscript</csymbol><ci id="S5.SS1.p2.2.m2.2.2.2.2.2.2.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2.2.2">𝝈</ci><cn type="integer" id="S5.SS1.p2.2.m2.2.2.2.2.2.3.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2.2.3">2</cn></apply><ci id="S5.SS1.p2.2.m2.2.2.2.2.3.cmml" xref="S5.SS1.p2.2.m2.2.2.2.2.3">ℬ</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.2c">{(\bm{\mu}_{\mathcal{B}},\bm{\sigma}^{2}_{\mathcal{B}})}</annotation></semantics></math>. The background gradient <math id="S5.SS1.p2.3.m3.1" class="ltx_Math" alttext="\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}" display="inline"><semantics id="S5.SS1.p2.3.m3.1a"><mfrac id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mrow id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml"><mo rspace="0em" id="S5.SS1.p2.3.m3.1.1.2.1" xref="S5.SS1.p2.3.m3.1.1.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.SS1.p2.3.m3.1.1.2.2" xref="S5.SS1.p2.3.m3.1.1.2.2.cmml">ℓ</mi></mrow><mrow id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml"><mo rspace="0em" id="S5.SS1.p2.3.m3.1.1.3.1" xref="S5.SS1.p2.3.m3.1.1.3.1.cmml">∂</mo><msub id="S5.SS1.p2.3.m3.1.1.3.2" xref="S5.SS1.p2.3.m3.1.1.3.2.cmml"><mi id="S5.SS1.p2.3.m3.1.1.3.2.2" xref="S5.SS1.p2.3.m3.1.1.3.2.2.cmml">𝒙</mi><mi id="S5.SS1.p2.3.m3.1.1.3.2.3" xref="S5.SS1.p2.3.m3.1.1.3.2.3.cmml">i</mi></msub></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><divide id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"></divide><apply id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2"><partialdiff id="S5.SS1.p2.3.m3.1.1.2.1.cmml" xref="S5.SS1.p2.3.m3.1.1.2.1"></partialdiff><ci id="S5.SS1.p2.3.m3.1.1.2.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2.2">ℓ</ci></apply><apply id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3"><partialdiff id="S5.SS1.p2.3.m3.1.1.3.1.cmml" xref="S5.SS1.p2.3.m3.1.1.3.1"></partialdiff><apply id="S5.SS1.p2.3.m3.1.1.3.2.cmml" xref="S5.SS1.p2.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS1.p2.3.m3.1.1.3.2.1.cmml" xref="S5.SS1.p2.3.m3.1.1.3.2">subscript</csymbol><ci id="S5.SS1.p2.3.m3.1.1.3.2.2.cmml" xref="S5.SS1.p2.3.m3.1.1.3.2.2">𝒙</ci><ci id="S5.SS1.p2.3.m3.1.1.3.2.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}</annotation></semantics></math> w.r.t. the input vector <math id="S5.SS1.p2.4.m4.1" class="ltx_Math" alttext="{\bm{x}}_{i}" display="inline"><semantics id="S5.SS1.p2.4.m4.1a"><msub id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml"><mi id="S5.SS1.p2.4.m4.1.1.2" xref="S5.SS1.p2.4.m4.1.1.2.cmml">𝒙</mi><mi id="S5.SS1.p2.4.m4.1.1.3" xref="S5.SS1.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><apply id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m4.1.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS1.p2.4.m4.1.1.2.cmml" xref="S5.SS1.p2.4.m4.1.1.2">𝒙</ci><ci id="S5.SS1.p2.4.m4.1.1.3.cmml" xref="S5.SS1.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">{\bm{x}}_{i}</annotation></semantics></math> is thus sensitive to what other examples in the mini-batch are.
Suppose <math id="S5.SS1.p2.5.m5.1" class="ltx_Math" alttext="{\bm{x}}_{i}" display="inline"><semantics id="S5.SS1.p2.5.m5.1a"><msub id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml"><mi id="S5.SS1.p2.5.m5.1.1.2" xref="S5.SS1.p2.5.m5.1.1.2.cmml">𝒙</mi><mi id="S5.SS1.p2.5.m5.1.1.3" xref="S5.SS1.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><apply id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.5.m5.1.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS1.p2.5.m5.1.1.2.cmml" xref="S5.SS1.p2.5.m5.1.1.2">𝒙</ci><ci id="S5.SS1.p2.5.m5.1.1.3.cmml" xref="S5.SS1.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">{\bm{x}}_{i}</annotation></semantics></math> belongs to client <math id="S5.SS1.p2.6.m6.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S5.SS1.p2.6.m6.1a"><mi id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.1b"><ci id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.1c">m</annotation></semantics></math> in a non-IID FL setting, the gradient <math id="S5.SS1.p2.7.m7.1" class="ltx_Math" alttext="\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}" display="inline"><semantics id="S5.SS1.p2.7.m7.1a"><mfrac id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mrow id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml"><mo rspace="0em" id="S5.SS1.p2.7.m7.1.1.2.1" xref="S5.SS1.p2.7.m7.1.1.2.1.cmml">∂</mo><mi mathvariant="normal" id="S5.SS1.p2.7.m7.1.1.2.2" xref="S5.SS1.p2.7.m7.1.1.2.2.cmml">ℓ</mi></mrow><mrow id="S5.SS1.p2.7.m7.1.1.3" xref="S5.SS1.p2.7.m7.1.1.3.cmml"><mo rspace="0em" id="S5.SS1.p2.7.m7.1.1.3.1" xref="S5.SS1.p2.7.m7.1.1.3.1.cmml">∂</mo><msub id="S5.SS1.p2.7.m7.1.1.3.2" xref="S5.SS1.p2.7.m7.1.1.3.2.cmml"><mi id="S5.SS1.p2.7.m7.1.1.3.2.2" xref="S5.SS1.p2.7.m7.1.1.3.2.2.cmml">𝒙</mi><mi id="S5.SS1.p2.7.m7.1.1.3.2.3" xref="S5.SS1.p2.7.m7.1.1.3.2.3.cmml">i</mi></msub></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><divide id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"></divide><apply id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2"><partialdiff id="S5.SS1.p2.7.m7.1.1.2.1.cmml" xref="S5.SS1.p2.7.m7.1.1.2.1"></partialdiff><ci id="S5.SS1.p2.7.m7.1.1.2.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2.2">ℓ</ci></apply><apply id="S5.SS1.p2.7.m7.1.1.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3"><partialdiff id="S5.SS1.p2.7.m7.1.1.3.1.cmml" xref="S5.SS1.p2.7.m7.1.1.3.1"></partialdiff><apply id="S5.SS1.p2.7.m7.1.1.3.2.cmml" xref="S5.SS1.p2.7.m7.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS1.p2.7.m7.1.1.3.2.1.cmml" xref="S5.SS1.p2.7.m7.1.1.3.2">subscript</csymbol><ci id="S5.SS1.p2.7.m7.1.1.3.2.2.cmml" xref="S5.SS1.p2.7.m7.1.1.3.2.2">𝒙</ci><ci id="S5.SS1.p2.7.m7.1.1.3.2.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">\frac{\partial{\ell}}{\partial{{\bm{x}}_{i}}}</annotation></semantics></math> is doomed to be different when (a) it is calculated locally with other data sampled from <math id="S5.SS1.p2.8.m8.1" class="ltx_Math" alttext="\mathcal{D}_{m}" display="inline"><semantics id="S5.SS1.p2.8.m8.1a"><msub id="S5.SS1.p2.8.m8.1.1" xref="S5.SS1.p2.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.8.m8.1.1.2" xref="S5.SS1.p2.8.m8.1.1.2.cmml">𝒟</mi><mi id="S5.SS1.p2.8.m8.1.1.3" xref="S5.SS1.p2.8.m8.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.1b"><apply id="S5.SS1.p2.8.m8.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S5.SS1.p2.8.m8.1.1.2.cmml" xref="S5.SS1.p2.8.m8.1.1.2">𝒟</ci><ci id="S5.SS1.p2.8.m8.1.1.3.cmml" xref="S5.SS1.p2.8.m8.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.1c">\mathcal{D}_{m}</annotation></semantics></math> and when (b) it is calculated globally (in centralized learning) with other data sampled from <math id="S5.SS1.p2.9.m9.1" class="ltx_Math" alttext="\mathcal{D}=\cup_{m}\mathcal{D}_{m}" display="inline"><semantics id="S5.SS1.p2.9.m9.1a"><mrow id="S5.SS1.p2.9.m9.1.1" xref="S5.SS1.p2.9.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.9.m9.1.1.2" xref="S5.SS1.p2.9.m9.1.1.2.cmml">𝒟</mi><mo rspace="0em" id="S5.SS1.p2.9.m9.1.1.1" xref="S5.SS1.p2.9.m9.1.1.1.cmml">=</mo><mrow id="S5.SS1.p2.9.m9.1.1.3" xref="S5.SS1.p2.9.m9.1.1.3.cmml"><msub id="S5.SS1.p2.9.m9.1.1.3.1" xref="S5.SS1.p2.9.m9.1.1.3.1.cmml"><mo lspace="0em" id="S5.SS1.p2.9.m9.1.1.3.1.2" xref="S5.SS1.p2.9.m9.1.1.3.1.2.cmml">∪</mo><mi id="S5.SS1.p2.9.m9.1.1.3.1.3" xref="S5.SS1.p2.9.m9.1.1.3.1.3.cmml">m</mi></msub><msub id="S5.SS1.p2.9.m9.1.1.3.2" xref="S5.SS1.p2.9.m9.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS1.p2.9.m9.1.1.3.2.2" xref="S5.SS1.p2.9.m9.1.1.3.2.2.cmml">𝒟</mi><mi id="S5.SS1.p2.9.m9.1.1.3.2.3" xref="S5.SS1.p2.9.m9.1.1.3.2.3.cmml">m</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.1b"><apply id="S5.SS1.p2.9.m9.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1"><eq id="S5.SS1.p2.9.m9.1.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1.1"></eq><ci id="S5.SS1.p2.9.m9.1.1.2.cmml" xref="S5.SS1.p2.9.m9.1.1.2">𝒟</ci><apply id="S5.SS1.p2.9.m9.1.1.3.cmml" xref="S5.SS1.p2.9.m9.1.1.3"><apply id="S5.SS1.p2.9.m9.1.1.3.1.cmml" xref="S5.SS1.p2.9.m9.1.1.3.1"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.1.1.3.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1.3.1">subscript</csymbol><union id="S5.SS1.p2.9.m9.1.1.3.1.2.cmml" xref="S5.SS1.p2.9.m9.1.1.3.1.2"></union><ci id="S5.SS1.p2.9.m9.1.1.3.1.3.cmml" xref="S5.SS1.p2.9.m9.1.1.3.1.3">𝑚</ci></apply><apply id="S5.SS1.p2.9.m9.1.1.3.2.cmml" xref="S5.SS1.p2.9.m9.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.1.1.3.2.1.cmml" xref="S5.SS1.p2.9.m9.1.1.3.2">subscript</csymbol><ci id="S5.SS1.p2.9.m9.1.1.3.2.2.cmml" xref="S5.SS1.p2.9.m9.1.1.3.2.2">𝒟</ci><ci id="S5.SS1.p2.9.m9.1.1.3.2.3.cmml" xref="S5.SS1.p2.9.m9.1.1.3.2.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.1c">\mathcal{D}=\cup_{m}\mathcal{D}_{m}</annotation></semantics></math>. Namely, even if clients communicate after every
mini-match SGD step, <em id="S5.SS1.p2.9.2" class="ltx_emph ltx_font_italic">how a particular data example influences the DNN parameters is already
different between FL and centralized training.</em>
This explains why in <a href="#S4.T1" title="Table 1 ‣ Results. ‣ 4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 1</span></a>, <span id="S5.SS1.p2.9.3" class="ltx_text ltx_font_smallcaps">BN</span> cannot recover the centralized learning
performance.</p>
</div>
<figure id="S5.F3" class="ltx_figure">
<div id="S5.F3.4" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<div id="S5.F3.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:108.4pt;">
<img src="/html/2303.06530/assets/figures/2a.png" id="S5.F3.1.1.g1" class="ltx_graphics ltx_img_square" width="598" height="548" alt="Refer to caption">
<p id="S5.F3.1.1.1" class="ltx_p ltx_align_center"><span id="S5.F3.1.1.1.1" class="ltx_text" style="font-size:90%;">(a)</span></p>
</div>
<div id="S5.F3.2.2" class="ltx_block ltx_minipage ltx_align_middle" style="width:108.4pt;">
<img src="/html/2303.06530/assets/figures/2b.png" id="S5.F3.2.2.g1" class="ltx_graphics ltx_img_square" width="598" height="536" alt="Refer to caption">
<p id="S5.F3.2.2.1" class="ltx_p ltx_align_center"><span id="S5.F3.2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span></p>
</div>
<div id="S5.F3.3.3" class="ltx_block ltx_minipage ltx_align_middle" style="width:108.4pt;">
<img src="/html/2303.06530/assets/figures/2c.png" id="S5.F3.3.3.g1" class="ltx_graphics ltx_img_square" width="598" height="539" alt="Refer to caption">
<p id="S5.F3.3.3.1" class="ltx_p ltx_align_center"><span id="S5.F3.3.3.1.1" class="ltx_text" style="font-size:90%;">(c)</span></p>
</div>
<div id="S5.F3.4.4" class="ltx_block ltx_minipage ltx_align_middle" style="width:108.4pt;">
<img src="/html/2303.06530/assets/figures/2d.png" id="S5.F3.4.4.g1" class="ltx_graphics ltx_img_square" width="598" height="539" alt="Refer to caption">
<p id="S5.F3.4.4.1" class="ltx_p ltx_align_center"><span id="S5.F3.4.4.1.1" class="ltx_text" style="font-size:90%;">(d)</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span><span id="S5.F3.16.6" class="ltx_text ltx_font_bold" style="font-size:90%;">Training dynamics of <span id="S5.F3.16.6.7" class="ltx_text ltx_font_smallcaps">FedAvg</span> with <span id="S5.F3.16.6.8" class="ltx_text ltx_font_smallcaps">BN</span>.<span id="S5.F3.16.6.6" class="ltx_text ltx_font_medium"> (a) Changes of global accumulated statistics (<math id="S5.F3.11.1.1.m1.3" class="ltx_Math" alttext="\|\bar{\bm{S}}^{(t+1)}-\bar{\bm{S}}^{(t)}\|_{1}" display="inline"><semantics id="S5.F3.11.1.1.m1.3b"><msub id="S5.F3.11.1.1.m1.3.3" xref="S5.F3.11.1.1.m1.3.3.cmml"><mrow id="S5.F3.11.1.1.m1.3.3.1.1" xref="S5.F3.11.1.1.m1.3.3.1.2.cmml"><mo stretchy="false" id="S5.F3.11.1.1.m1.3.3.1.1.2" xref="S5.F3.11.1.1.m1.3.3.1.2.1.cmml">‖</mo><mrow id="S5.F3.11.1.1.m1.3.3.1.1.1" xref="S5.F3.11.1.1.m1.3.3.1.1.1.cmml"><msup id="S5.F3.11.1.1.m1.3.3.1.1.1.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.cmml"><mover accent="true" id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.cmml"><mi id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.2.cmml">𝑺</mi><mo id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.1" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S5.F3.11.1.1.m1.1.1.1.1" xref="S5.F3.11.1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.F3.11.1.1.m1.1.1.1.1.2" xref="S5.F3.11.1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S5.F3.11.1.1.m1.1.1.1.1.1" xref="S5.F3.11.1.1.m1.1.1.1.1.1.cmml"><mi id="S5.F3.11.1.1.m1.1.1.1.1.1.2" xref="S5.F3.11.1.1.m1.1.1.1.1.1.2.cmml">t</mi><mo id="S5.F3.11.1.1.m1.1.1.1.1.1.1" xref="S5.F3.11.1.1.m1.1.1.1.1.1.1.cmml">+</mo><mn id="S5.F3.11.1.1.m1.1.1.1.1.1.3" xref="S5.F3.11.1.1.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.F3.11.1.1.m1.1.1.1.1.3" xref="S5.F3.11.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S5.F3.11.1.1.m1.3.3.1.1.1.1" xref="S5.F3.11.1.1.m1.3.3.1.1.1.1.cmml">−</mo><msup id="S5.F3.11.1.1.m1.3.3.1.1.1.3" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.cmml"><mover accent="true" id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.cmml"><mi id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.2.cmml">𝑺</mi><mo id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.1" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.1.cmml">¯</mo></mover><mrow id="S5.F3.11.1.1.m1.2.2.1.3" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.cmml"><mo stretchy="false" id="S5.F3.11.1.1.m1.2.2.1.3.1" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.cmml">(</mo><mi id="S5.F3.11.1.1.m1.2.2.1.1" xref="S5.F3.11.1.1.m1.2.2.1.1.cmml">t</mi><mo stretchy="false" id="S5.F3.11.1.1.m1.2.2.1.3.2" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.cmml">)</mo></mrow></msup></mrow><mo stretchy="false" id="S5.F3.11.1.1.m1.3.3.1.1.3" xref="S5.F3.11.1.1.m1.3.3.1.2.1.cmml">‖</mo></mrow><mn id="S5.F3.11.1.1.m1.3.3.3" xref="S5.F3.11.1.1.m1.3.3.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F3.11.1.1.m1.3c"><apply id="S5.F3.11.1.1.m1.3.3.cmml" xref="S5.F3.11.1.1.m1.3.3"><csymbol cd="ambiguous" id="S5.F3.11.1.1.m1.3.3.2.cmml" xref="S5.F3.11.1.1.m1.3.3">subscript</csymbol><apply id="S5.F3.11.1.1.m1.3.3.1.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1"><csymbol cd="latexml" id="S5.F3.11.1.1.m1.3.3.1.2.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.2">norm</csymbol><apply id="S5.F3.11.1.1.m1.3.3.1.1.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1"><minus id="S5.F3.11.1.1.m1.3.3.1.1.1.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.1"></minus><apply id="S5.F3.11.1.1.m1.3.3.1.1.1.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S5.F3.11.1.1.m1.3.3.1.1.1.2.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2">superscript</csymbol><apply id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2"><ci id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.1">¯</ci><ci id="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.2.2.2">𝑺</ci></apply><apply id="S5.F3.11.1.1.m1.1.1.1.1.1.cmml" xref="S5.F3.11.1.1.m1.1.1.1.1"><plus id="S5.F3.11.1.1.m1.1.1.1.1.1.1.cmml" xref="S5.F3.11.1.1.m1.1.1.1.1.1.1"></plus><ci id="S5.F3.11.1.1.m1.1.1.1.1.1.2.cmml" xref="S5.F3.11.1.1.m1.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S5.F3.11.1.1.m1.1.1.1.1.1.3.cmml" xref="S5.F3.11.1.1.m1.1.1.1.1.1.3">1</cn></apply></apply><apply id="S5.F3.11.1.1.m1.3.3.1.1.1.3.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S5.F3.11.1.1.m1.3.3.1.1.1.3.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3">superscript</csymbol><apply id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2"><ci id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.1.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.1">¯</ci><ci id="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.2.cmml" xref="S5.F3.11.1.1.m1.3.3.1.1.1.3.2.2">𝑺</ci></apply><ci id="S5.F3.11.1.1.m1.2.2.1.1.cmml" xref="S5.F3.11.1.1.m1.2.2.1.1">𝑡</ci></apply></apply></apply><cn type="integer" id="S5.F3.11.1.1.m1.3.3.3.cmml" xref="S5.F3.11.1.1.m1.3.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.11.1.1.m1.3d">\|\bar{\bm{S}}^{(t+1)}-\bar{\bm{S}}^{(t)}\|_{1}</annotation></semantics></math>) and deviations of local mini-batch statistics from global accumulated statistics (<math id="S5.F3.12.2.2.m2.5" class="ltx_Math" alttext="\|{\bm{S}_{m,\mathcal{B}}}^{(t+1)}-\bar{\bm{S}}^{(t)}\|_{1}" display="inline"><semantics id="S5.F3.12.2.2.m2.5b"><msub id="S5.F3.12.2.2.m2.5.5" xref="S5.F3.12.2.2.m2.5.5.cmml"><mrow id="S5.F3.12.2.2.m2.5.5.1.1" xref="S5.F3.12.2.2.m2.5.5.1.2.cmml"><mo stretchy="false" id="S5.F3.12.2.2.m2.5.5.1.1.2" xref="S5.F3.12.2.2.m2.5.5.1.2.1.cmml">‖</mo><mrow id="S5.F3.12.2.2.m2.5.5.1.1.1" xref="S5.F3.12.2.2.m2.5.5.1.1.1.cmml"><mmultiscripts id="S5.F3.12.2.2.m2.5.5.1.1.1.2" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2.cmml"><mi id="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.2" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.2.cmml">𝑺</mi><mrow id="S5.F3.12.2.2.m2.2.2.2.4" xref="S5.F3.12.2.2.m2.2.2.2.3.cmml"><mi id="S5.F3.12.2.2.m2.1.1.1.1" xref="S5.F3.12.2.2.m2.1.1.1.1.cmml">m</mi><mo id="S5.F3.12.2.2.m2.2.2.2.4.1" xref="S5.F3.12.2.2.m2.2.2.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S5.F3.12.2.2.m2.2.2.2.2" xref="S5.F3.12.2.2.m2.2.2.2.2.cmml">ℬ</mi></mrow><mrow id="S5.F3.12.2.2.m2.5.5.1.1.1.2b" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2.cmml"></mrow><mrow id="S5.F3.12.2.2.m2.5.5.1.1.1.2c" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2.cmml"></mrow><mrow id="S5.F3.12.2.2.m2.3.3.1.1" xref="S5.F3.12.2.2.m2.3.3.1.1.1.cmml"><mo stretchy="false" id="S5.F3.12.2.2.m2.3.3.1.1.2" xref="S5.F3.12.2.2.m2.3.3.1.1.1.cmml">(</mo><mrow id="S5.F3.12.2.2.m2.3.3.1.1.1" xref="S5.F3.12.2.2.m2.3.3.1.1.1.cmml"><mi id="S5.F3.12.2.2.m2.3.3.1.1.1.2" xref="S5.F3.12.2.2.m2.3.3.1.1.1.2.cmml">t</mi><mo id="S5.F3.12.2.2.m2.3.3.1.1.1.1" xref="S5.F3.12.2.2.m2.3.3.1.1.1.1.cmml">+</mo><mn id="S5.F3.12.2.2.m2.3.3.1.1.1.3" xref="S5.F3.12.2.2.m2.3.3.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S5.F3.12.2.2.m2.3.3.1.1.3" xref="S5.F3.12.2.2.m2.3.3.1.1.1.cmml">)</mo></mrow></mmultiscripts><mo id="S5.F3.12.2.2.m2.5.5.1.1.1.1" xref="S5.F3.12.2.2.m2.5.5.1.1.1.1.cmml">−</mo><msup id="S5.F3.12.2.2.m2.5.5.1.1.1.3" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.cmml"><mover accent="true" id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.cmml"><mi id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.2" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.2.cmml">𝑺</mi><mo id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.1" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.1.cmml">¯</mo></mover><mrow id="S5.F3.12.2.2.m2.4.4.1.3" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.cmml"><mo stretchy="false" id="S5.F3.12.2.2.m2.4.4.1.3.1" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.cmml">(</mo><mi id="S5.F3.12.2.2.m2.4.4.1.1" xref="S5.F3.12.2.2.m2.4.4.1.1.cmml">t</mi><mo stretchy="false" id="S5.F3.12.2.2.m2.4.4.1.3.2" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.cmml">)</mo></mrow></msup></mrow><mo stretchy="false" id="S5.F3.12.2.2.m2.5.5.1.1.3" xref="S5.F3.12.2.2.m2.5.5.1.2.1.cmml">‖</mo></mrow><mn id="S5.F3.12.2.2.m2.5.5.3" xref="S5.F3.12.2.2.m2.5.5.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F3.12.2.2.m2.5c"><apply id="S5.F3.12.2.2.m2.5.5.cmml" xref="S5.F3.12.2.2.m2.5.5"><csymbol cd="ambiguous" id="S5.F3.12.2.2.m2.5.5.2.cmml" xref="S5.F3.12.2.2.m2.5.5">subscript</csymbol><apply id="S5.F3.12.2.2.m2.5.5.1.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1"><csymbol cd="latexml" id="S5.F3.12.2.2.m2.5.5.1.2.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.2">norm</csymbol><apply id="S5.F3.12.2.2.m2.5.5.1.1.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1"><minus id="S5.F3.12.2.2.m2.5.5.1.1.1.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.1"></minus><apply id="S5.F3.12.2.2.m2.5.5.1.1.1.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2"><csymbol cd="ambiguous" id="S5.F3.12.2.2.m2.5.5.1.1.1.2.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2">superscript</csymbol><apply id="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2"><csymbol cd="ambiguous" id="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2">subscript</csymbol><ci id="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.2.2.2">𝑺</ci><list id="S5.F3.12.2.2.m2.2.2.2.3.cmml" xref="S5.F3.12.2.2.m2.2.2.2.4"><ci id="S5.F3.12.2.2.m2.1.1.1.1.cmml" xref="S5.F3.12.2.2.m2.1.1.1.1">𝑚</ci><ci id="S5.F3.12.2.2.m2.2.2.2.2.cmml" xref="S5.F3.12.2.2.m2.2.2.2.2">ℬ</ci></list></apply><apply id="S5.F3.12.2.2.m2.3.3.1.1.1.cmml" xref="S5.F3.12.2.2.m2.3.3.1.1"><plus id="S5.F3.12.2.2.m2.3.3.1.1.1.1.cmml" xref="S5.F3.12.2.2.m2.3.3.1.1.1.1"></plus><ci id="S5.F3.12.2.2.m2.3.3.1.1.1.2.cmml" xref="S5.F3.12.2.2.m2.3.3.1.1.1.2">𝑡</ci><cn type="integer" id="S5.F3.12.2.2.m2.3.3.1.1.1.3.cmml" xref="S5.F3.12.2.2.m2.3.3.1.1.1.3">1</cn></apply></apply><apply id="S5.F3.12.2.2.m2.5.5.1.1.1.3.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3"><csymbol cd="ambiguous" id="S5.F3.12.2.2.m2.5.5.1.1.1.3.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3">superscript</csymbol><apply id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2"><ci id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.1.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.1">¯</ci><ci id="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.2.cmml" xref="S5.F3.12.2.2.m2.5.5.1.1.1.3.2.2">𝑺</ci></apply><ci id="S5.F3.12.2.2.m2.4.4.1.1.cmml" xref="S5.F3.12.2.2.m2.4.4.1.1">𝑡</ci></apply></apply></apply><cn type="integer" id="S5.F3.12.2.2.m2.5.5.3.cmml" xref="S5.F3.12.2.2.m2.5.5.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.12.2.2.m2.5d">\|{\bm{S}_{m,\mathcal{B}}}^{(t+1)}-\bar{\bm{S}}^{(t)}\|_{1}</annotation></semantics></math>). (b) Variances (running over <math id="S5.F3.13.3.3.m3.1" class="ltx_Math" alttext="t-200" display="inline"><semantics id="S5.F3.13.3.3.m3.1b"><mrow id="S5.F3.13.3.3.m3.1.1" xref="S5.F3.13.3.3.m3.1.1.cmml"><mi id="S5.F3.13.3.3.m3.1.1.2" xref="S5.F3.13.3.3.m3.1.1.2.cmml">t</mi><mo id="S5.F3.13.3.3.m3.1.1.1" xref="S5.F3.13.3.3.m3.1.1.1.cmml">−</mo><mn id="S5.F3.13.3.3.m3.1.1.3" xref="S5.F3.13.3.3.m3.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F3.13.3.3.m3.1c"><apply id="S5.F3.13.3.3.m3.1.1.cmml" xref="S5.F3.13.3.3.m3.1.1"><minus id="S5.F3.13.3.3.m3.1.1.1.cmml" xref="S5.F3.13.3.3.m3.1.1.1"></minus><ci id="S5.F3.13.3.3.m3.1.1.2.cmml" xref="S5.F3.13.3.3.m3.1.1.2">𝑡</ci><cn type="integer" id="S5.F3.13.3.3.m3.1.1.3.cmml" xref="S5.F3.13.3.3.m3.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.13.3.3.m3.1d">t-200</annotation></semantics></math> to <math id="S5.F3.14.4.4.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S5.F3.14.4.4.m4.1b"><mi id="S5.F3.14.4.4.m4.1.1" xref="S5.F3.14.4.4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.F3.14.4.4.m4.1c"><ci id="S5.F3.14.4.4.m4.1.1.cmml" xref="S5.F3.14.4.4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.14.4.4.m4.1d">t</annotation></semantics></math>) of local mini-batch statistics <math id="S5.F3.15.5.5.m5.3" class="ltx_Math" alttext="\bm{S}_{m,\mathcal{B}}^{(t)}" display="inline"><semantics id="S5.F3.15.5.5.m5.3b"><msubsup id="S5.F3.15.5.5.m5.3.4" xref="S5.F3.15.5.5.m5.3.4.cmml"><mi id="S5.F3.15.5.5.m5.3.4.2.2" xref="S5.F3.15.5.5.m5.3.4.2.2.cmml">𝑺</mi><mrow id="S5.F3.15.5.5.m5.2.2.2.4" xref="S5.F3.15.5.5.m5.2.2.2.3.cmml"><mi id="S5.F3.15.5.5.m5.1.1.1.1" xref="S5.F3.15.5.5.m5.1.1.1.1.cmml">m</mi><mo id="S5.F3.15.5.5.m5.2.2.2.4.1" xref="S5.F3.15.5.5.m5.2.2.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S5.F3.15.5.5.m5.2.2.2.2" xref="S5.F3.15.5.5.m5.2.2.2.2.cmml">ℬ</mi></mrow><mrow id="S5.F3.15.5.5.m5.3.3.1.3" xref="S5.F3.15.5.5.m5.3.4.cmml"><mo stretchy="false" id="S5.F3.15.5.5.m5.3.3.1.3.1" xref="S5.F3.15.5.5.m5.3.4.cmml">(</mo><mi id="S5.F3.15.5.5.m5.3.3.1.1" xref="S5.F3.15.5.5.m5.3.3.1.1.cmml">t</mi><mo stretchy="false" id="S5.F3.15.5.5.m5.3.3.1.3.2" xref="S5.F3.15.5.5.m5.3.4.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S5.F3.15.5.5.m5.3c"><apply id="S5.F3.15.5.5.m5.3.4.cmml" xref="S5.F3.15.5.5.m5.3.4"><csymbol cd="ambiguous" id="S5.F3.15.5.5.m5.3.4.1.cmml" xref="S5.F3.15.5.5.m5.3.4">superscript</csymbol><apply id="S5.F3.15.5.5.m5.3.4.2.cmml" xref="S5.F3.15.5.5.m5.3.4"><csymbol cd="ambiguous" id="S5.F3.15.5.5.m5.3.4.2.1.cmml" xref="S5.F3.15.5.5.m5.3.4">subscript</csymbol><ci id="S5.F3.15.5.5.m5.3.4.2.2.cmml" xref="S5.F3.15.5.5.m5.3.4.2.2">𝑺</ci><list id="S5.F3.15.5.5.m5.2.2.2.3.cmml" xref="S5.F3.15.5.5.m5.2.2.2.4"><ci id="S5.F3.15.5.5.m5.1.1.1.1.cmml" xref="S5.F3.15.5.5.m5.1.1.1.1">𝑚</ci><ci id="S5.F3.15.5.5.m5.2.2.2.2.cmml" xref="S5.F3.15.5.5.m5.2.2.2.2">ℬ</ci></list></apply><ci id="S5.F3.15.5.5.m5.3.3.1.1.cmml" xref="S5.F3.15.5.5.m5.3.3.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.15.5.5.m5.3d">\bm{S}_{m,\mathcal{B}}^{(t)}</annotation></semantics></math>. (c) Averaged local training losses over clients. (d) Final-round accuracy when freezing <span id="S5.F3.16.6.6.1" class="ltx_text ltx_font_smallcaps">BN</span> statistics at different intermediate rounds in a non-IID CIFAR-10 setting
(shards, <math id="S5.F3.16.6.6.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S5.F3.16.6.6.m6.1b"><mi id="S5.F3.16.6.6.m6.1.1" xref="S5.F3.16.6.6.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S5.F3.16.6.6.m6.1c"><ci id="S5.F3.16.6.6.m6.1.1.cmml" xref="S5.F3.16.6.6.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F3.16.6.6.m6.1d">E</annotation></semantics></math> = 100) using ResNet20. See the main text for details.</span></span></figcaption>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Mismatched normalization in training and testing</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Besides the deviated gradients, another factor impeding <span id="S5.SS2.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span>’s performance in a non-IID FL setting is the mismatched normalization statistics between training and testing <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite>. As reviewed in <a href="#S3" title="3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3</span></a>, <span id="S5.SS2.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span> uses mini-batch statistics for normalization in training and accumulated statistics for normalization in testing. In <span id="S5.SS2.p1.1.3" class="ltx_text ltx_font_smallcaps">FedAvg</span>, the former is calculated from local data in local training; the latter is aggregated from locally accumulated statistics and applied to the global model in testing. In a non-IID setting, the former is doomed to deviate from the latter, creating a non-trivial discrepancy between training and testing even in the later rounds of <span id="S5.SS2.p1.1.4" class="ltx_text ltx_font_smallcaps">FedAvg</span>.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>The dilemma of applying <span id="S5.SS3.1.1" class="ltx_text ltx_font_smallcaps">BN</span> in FL</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Despite the negative impacts on <span id="S5.SS3.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span>, mini-batch statistics are the key to <span id="S5.SS3.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span>’s positive impacts on DNN training (see <a href="#S2" title="2 Related Work ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 2</span></a>). Specifically, normalization with mini-batch statistics makes DNN training robust to internal covariate shifts and gradient explosion <cite class="ltx_cite ltx_citemacro_citep">(Lubana et al., <a href="#bib.bib47" title="" class="ltx_ref">2021</a>; Yang et al., <a href="#bib.bib68" title="" class="ltx_ref">2019</a>; Ioffe &amp; Szegedy, <a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>, especially in the early training stages when the model weights and intermediate activations are changing rapidly. The stochastic nature of mini-batch statistics also facilitates the search for a flatter loss landscape <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a href="#bib.bib48" title="" class="ltx_ref">2019</a>; Santurkar et al., <a href="#bib.bib59" title="" class="ltx_ref">2018</a>)</cite>.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span>: Towards Breaking the Dilemma of <span id="S6.2.2" class="ltx_text ltx_font_smallcaps">BN</span> in Federated Learning</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Insights from the training dynamics</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p"><em id="S6.SS1.p1.1.1" class="ltx_emph ltx_font_italic">Is there an opportunity to alleviate <span id="S6.SS1.p1.1.1.1" class="ltx_text ltx_font_smallcaps">BN</span>’s negative impacts on FL while maintaining its positive impacts on DNN training?</em>
We start our exploration by taking a deeper look at the training dynamics of DNN with <span id="S6.SS1.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span> in standard <span id="S6.SS1.p1.1.3" class="ltx_text ltx_font_smallcaps">FedAvg</span>. Under the same <math id="S6.SS1.p1.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S6.SS1.p1.1.m1.1a"><mrow id="S6.SS1.p1.1.m1.1.1" xref="S6.SS1.p1.1.m1.1.1.cmml"><mi id="S6.SS1.p1.1.m1.1.1.2" xref="S6.SS1.p1.1.m1.1.1.2.cmml">E</mi><mo id="S6.SS1.p1.1.m1.1.1.1" xref="S6.SS1.p1.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS1.p1.1.m1.1.1.3" xref="S6.SS1.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.1.m1.1b"><apply id="S6.SS1.p1.1.m1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1"><eq id="S6.SS1.p1.1.m1.1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1.1"></eq><ci id="S6.SS1.p1.1.m1.1.1.2.cmml" xref="S6.SS1.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S6.SS1.p1.1.m1.1.1.3.cmml" xref="S6.SS1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.1.m1.1c">E=1</annotation></semantics></math> setting as in <a href="#S4.T1" title="Table 1 ‣ Results. ‣ 4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 1</span></a> unless stated otherwise, we highlight four critical observations.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<ol id="S6.I1" class="ltx_enumerate">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.4" class="ltx_p">As shown in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (a), the local mini-batch statistics <math id="S6.I1.i1.p1.1.m1.3" class="ltx_Math" alttext="{\bm{S}_{m,\mathcal{B}}}^{(t)}" display="inline"><semantics id="S6.I1.i1.p1.1.m1.3a"><mmultiscripts id="S6.I1.i1.p1.1.m1.3.4" xref="S6.I1.i1.p1.1.m1.3.4.cmml"><mi id="S6.I1.i1.p1.1.m1.3.4.2.2" xref="S6.I1.i1.p1.1.m1.3.4.2.2.cmml">𝑺</mi><mrow id="S6.I1.i1.p1.1.m1.2.2.2.4" xref="S6.I1.i1.p1.1.m1.2.2.2.3.cmml"><mi id="S6.I1.i1.p1.1.m1.1.1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.1.1.cmml">m</mi><mo id="S6.I1.i1.p1.1.m1.2.2.2.4.1" xref="S6.I1.i1.p1.1.m1.2.2.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S6.I1.i1.p1.1.m1.2.2.2.2" xref="S6.I1.i1.p1.1.m1.2.2.2.2.cmml">ℬ</mi></mrow><mrow id="S6.I1.i1.p1.1.m1.3.4a" xref="S6.I1.i1.p1.1.m1.3.4.cmml"></mrow><mrow id="S6.I1.i1.p1.1.m1.3.4b" xref="S6.I1.i1.p1.1.m1.3.4.cmml"></mrow><mrow id="S6.I1.i1.p1.1.m1.3.3.1.3" xref="S6.I1.i1.p1.1.m1.3.4.cmml"><mo stretchy="false" id="S6.I1.i1.p1.1.m1.3.3.1.3.1" xref="S6.I1.i1.p1.1.m1.3.4.cmml">(</mo><mi id="S6.I1.i1.p1.1.m1.3.3.1.1" xref="S6.I1.i1.p1.1.m1.3.3.1.1.cmml">t</mi><mo stretchy="false" id="S6.I1.i1.p1.1.m1.3.3.1.3.2" xref="S6.I1.i1.p1.1.m1.3.4.cmml">)</mo></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.1.m1.3b"><apply id="S6.I1.i1.p1.1.m1.3.4.cmml" xref="S6.I1.i1.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.3.4.1.cmml" xref="S6.I1.i1.p1.1.m1.3.4">superscript</csymbol><apply id="S6.I1.i1.p1.1.m1.3.4.2.cmml" xref="S6.I1.i1.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.3.4.2.1.cmml" xref="S6.I1.i1.p1.1.m1.3.4">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.3.4.2.2.cmml" xref="S6.I1.i1.p1.1.m1.3.4.2.2">𝑺</ci><list id="S6.I1.i1.p1.1.m1.2.2.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.4"><ci id="S6.I1.i1.p1.1.m1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1">𝑚</ci><ci id="S6.I1.i1.p1.1.m1.2.2.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.2">ℬ</ci></list></apply><ci id="S6.I1.i1.p1.1.m1.3.3.1.1.cmml" xref="S6.I1.i1.p1.1.m1.3.3.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.1.m1.3c">{\bm{S}_{m,\mathcal{B}}}^{(t)}</annotation></semantics></math> estimated from client <math id="S6.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S6.I1.i1.p1.2.m2.1a"><mi id="S6.I1.i1.p1.2.m2.1.1" xref="S6.I1.i1.p1.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.2.m2.1b"><ci id="S6.I1.i1.p1.2.m2.1.1.cmml" xref="S6.I1.i1.p1.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.2.m2.1c">m</annotation></semantics></math> during round <math id="S6.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S6.I1.i1.p1.3.m3.1a"><mi id="S6.I1.i1.p1.3.m3.1.1" xref="S6.I1.i1.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.3.m3.1b"><ci id="S6.I1.i1.p1.3.m3.1.1.cmml" xref="S6.I1.i1.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.3.m3.1c">t</annotation></semantics></math><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>As we set <math id="footnote1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="footnote1.m1.1b"><mrow id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><mi id="footnote1.m1.1.1.2" xref="footnote1.m1.1.1.2.cmml">E</mi><mo id="footnote1.m1.1.1.1" xref="footnote1.m1.1.1.1.cmml">=</mo><mn id="footnote1.m1.1.1.3" xref="footnote1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><eq id="footnote1.m1.1.1.1.cmml" xref="footnote1.m1.1.1.1"></eq><ci id="footnote1.m1.1.1.2.cmml" xref="footnote1.m1.1.1.2">𝐸</ci><cn type="integer" id="footnote1.m1.1.1.3.cmml" xref="footnote1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">E=1</annotation></semantics></math>, within each communication round, we only perform one mini-batch SGD.</span></span></span> remain largely different from the global
accumulated statistics <math id="S6.I1.i1.p1.4.m4.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(t)}" display="inline"><semantics id="S6.I1.i1.p1.4.m4.1a"><msup id="S6.I1.i1.p1.4.m4.1.2" xref="S6.I1.i1.p1.4.m4.1.2.cmml"><mover accent="true" id="S6.I1.i1.p1.4.m4.1.2.2" xref="S6.I1.i1.p1.4.m4.1.2.2.cmml"><mi id="S6.I1.i1.p1.4.m4.1.2.2.2" xref="S6.I1.i1.p1.4.m4.1.2.2.2.cmml">𝑺</mi><mo id="S6.I1.i1.p1.4.m4.1.2.2.1" xref="S6.I1.i1.p1.4.m4.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.I1.i1.p1.4.m4.1.1.1.3" xref="S6.I1.i1.p1.4.m4.1.2.cmml"><mo stretchy="false" id="S6.I1.i1.p1.4.m4.1.1.1.3.1" xref="S6.I1.i1.p1.4.m4.1.2.cmml">(</mo><mi id="S6.I1.i1.p1.4.m4.1.1.1.1" xref="S6.I1.i1.p1.4.m4.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S6.I1.i1.p1.4.m4.1.1.1.3.2" xref="S6.I1.i1.p1.4.m4.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.4.m4.1b"><apply id="S6.I1.i1.p1.4.m4.1.2.cmml" xref="S6.I1.i1.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S6.I1.i1.p1.4.m4.1.2.1.cmml" xref="S6.I1.i1.p1.4.m4.1.2">superscript</csymbol><apply id="S6.I1.i1.p1.4.m4.1.2.2.cmml" xref="S6.I1.i1.p1.4.m4.1.2.2"><ci id="S6.I1.i1.p1.4.m4.1.2.2.1.cmml" xref="S6.I1.i1.p1.4.m4.1.2.2.1">¯</ci><ci id="S6.I1.i1.p1.4.m4.1.2.2.2.cmml" xref="S6.I1.i1.p1.4.m4.1.2.2.2">𝑺</ci></apply><ci id="S6.I1.i1.p1.4.m4.1.1.1.1.cmml" xref="S6.I1.i1.p1.4.m4.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.4.m4.1c">\bar{\bm{S}}^{(t)}</annotation></semantics></math>, even at later <span id="S6.I1.i1.p1.4.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> rounds. This discrepancy results from the non-IID local data.
While not surprisingly, the result re-emphasizes the potentially huge negative impacts of the factors in <a href="#S5.SS1" title="5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.1</span></a> and <a href="#S5.SS2" title="5.2 Mismatched normalization in training and testing ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.2</span></a>.</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.1" class="ltx_p">Still in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (a), we find that the global accumulated statistics (in <span id="S6.I1.i2.p1.1.1" class="ltx_text" style="color:#0000FF;">blue</span>) gradually converge.</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p id="S6.I1.i3.p1.1" class="ltx_p">As shown in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (b), the variation of the local mini-batch statistics <math id="S6.I1.i3.p1.1.m1.3" class="ltx_Math" alttext="{\bm{S}_{m,\mathcal{B}}}^{(t)}" display="inline"><semantics id="S6.I1.i3.p1.1.m1.3a"><mmultiscripts id="S6.I1.i3.p1.1.m1.3.4" xref="S6.I1.i3.p1.1.m1.3.4.cmml"><mi id="S6.I1.i3.p1.1.m1.3.4.2.2" xref="S6.I1.i3.p1.1.m1.3.4.2.2.cmml">𝑺</mi><mrow id="S6.I1.i3.p1.1.m1.2.2.2.4" xref="S6.I1.i3.p1.1.m1.2.2.2.3.cmml"><mi id="S6.I1.i3.p1.1.m1.1.1.1.1" xref="S6.I1.i3.p1.1.m1.1.1.1.1.cmml">m</mi><mo id="S6.I1.i3.p1.1.m1.2.2.2.4.1" xref="S6.I1.i3.p1.1.m1.2.2.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S6.I1.i3.p1.1.m1.2.2.2.2" xref="S6.I1.i3.p1.1.m1.2.2.2.2.cmml">ℬ</mi></mrow><mrow id="S6.I1.i3.p1.1.m1.3.4a" xref="S6.I1.i3.p1.1.m1.3.4.cmml"></mrow><mrow id="S6.I1.i3.p1.1.m1.3.4b" xref="S6.I1.i3.p1.1.m1.3.4.cmml"></mrow><mrow id="S6.I1.i3.p1.1.m1.3.3.1.3" xref="S6.I1.i3.p1.1.m1.3.4.cmml"><mo stretchy="false" id="S6.I1.i3.p1.1.m1.3.3.1.3.1" xref="S6.I1.i3.p1.1.m1.3.4.cmml">(</mo><mi id="S6.I1.i3.p1.1.m1.3.3.1.1" xref="S6.I1.i3.p1.1.m1.3.3.1.1.cmml">t</mi><mo stretchy="false" id="S6.I1.i3.p1.1.m1.3.3.1.3.2" xref="S6.I1.i3.p1.1.m1.3.4.cmml">)</mo></mrow></mmultiscripts><annotation-xml encoding="MathML-Content" id="S6.I1.i3.p1.1.m1.3b"><apply id="S6.I1.i3.p1.1.m1.3.4.cmml" xref="S6.I1.i3.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S6.I1.i3.p1.1.m1.3.4.1.cmml" xref="S6.I1.i3.p1.1.m1.3.4">superscript</csymbol><apply id="S6.I1.i3.p1.1.m1.3.4.2.cmml" xref="S6.I1.i3.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S6.I1.i3.p1.1.m1.3.4.2.1.cmml" xref="S6.I1.i3.p1.1.m1.3.4">subscript</csymbol><ci id="S6.I1.i3.p1.1.m1.3.4.2.2.cmml" xref="S6.I1.i3.p1.1.m1.3.4.2.2">𝑺</ci><list id="S6.I1.i3.p1.1.m1.2.2.2.3.cmml" xref="S6.I1.i3.p1.1.m1.2.2.2.4"><ci id="S6.I1.i3.p1.1.m1.1.1.1.1.cmml" xref="S6.I1.i3.p1.1.m1.1.1.1.1">𝑚</ci><ci id="S6.I1.i3.p1.1.m1.2.2.2.2.cmml" xref="S6.I1.i3.p1.1.m1.2.2.2.2">ℬ</ci></list></apply><ci id="S6.I1.i3.p1.1.m1.3.3.1.1.cmml" xref="S6.I1.i3.p1.1.m1.3.3.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i3.p1.1.m1.3c">{\bm{S}_{m,\mathcal{B}}}^{(t)}</annotation></semantics></math> within each client reduces along with the <span id="S6.I1.i3.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> training rounds.</p>
</div>
</li>
<li id="S6.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S6.I1.i4.p1" class="ltx_para">
<p id="S6.I1.i4.p1.2" class="ltx_p">As shown in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (c), even with deviated local gradients, the averaged training loss <math id="S6.I1.i4.p1.1.m1.4" class="ltx_Math" alttext="\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}\mathcal{L}_{m}(\bm{\theta}_{m}^{(t)})" display="inline"><semantics id="S6.I1.i4.p1.1.m1.4a"><mrow id="S6.I1.i4.p1.1.m1.4.4" xref="S6.I1.i4.p1.1.m1.4.4.cmml"><msubsup id="S6.I1.i4.p1.1.m1.4.4.2" xref="S6.I1.i4.p1.1.m1.4.4.2.cmml"><mo id="S6.I1.i4.p1.1.m1.4.4.2.2.2" xref="S6.I1.i4.p1.1.m1.4.4.2.2.2.cmml">∑</mo><mrow id="S6.I1.i4.p1.1.m1.4.4.2.2.3" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.cmml"><mi id="S6.I1.i4.p1.1.m1.4.4.2.2.3.2" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.2.cmml">m</mi><mo id="S6.I1.i4.p1.1.m1.4.4.2.2.3.1" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.1.cmml">=</mo><mn id="S6.I1.i4.p1.1.m1.4.4.2.2.3.3" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.3.cmml">1</mn></mrow><mi id="S6.I1.i4.p1.1.m1.4.4.2.3" xref="S6.I1.i4.p1.1.m1.4.4.2.3.cmml">M</mi></msubsup><mrow id="S6.I1.i4.p1.1.m1.4.4.1" xref="S6.I1.i4.p1.1.m1.4.4.1.cmml"><mfrac id="S6.I1.i4.p1.1.m1.2.2" xref="S6.I1.i4.p1.1.m1.2.2.cmml"><mrow id="S6.I1.i4.p1.1.m1.1.1.1.1" xref="S6.I1.i4.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S6.I1.i4.p1.1.m1.1.1.1.1.2" xref="S6.I1.i4.p1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S6.I1.i4.p1.1.m1.1.1.1.1.1" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.I1.i4.p1.1.m1.1.1.1.1.1.2" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S6.I1.i4.p1.1.m1.1.1.1.1.1.3" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S6.I1.i4.p1.1.m1.1.1.1.1.3" xref="S6.I1.i4.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S6.I1.i4.p1.1.m1.2.2.2.3" xref="S6.I1.i4.p1.1.m1.2.2.2.2.cmml"><mo stretchy="false" id="S6.I1.i4.p1.1.m1.2.2.2.3.1" xref="S6.I1.i4.p1.1.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S6.I1.i4.p1.1.m1.2.2.2.1" xref="S6.I1.i4.p1.1.m1.2.2.2.1.cmml">𝒟</mi><mo stretchy="false" id="S6.I1.i4.p1.1.m1.2.2.2.3.2" xref="S6.I1.i4.p1.1.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S6.I1.i4.p1.1.m1.4.4.1.2" xref="S6.I1.i4.p1.1.m1.4.4.1.2.cmml">​</mo><msub id="S6.I1.i4.p1.1.m1.4.4.1.3" xref="S6.I1.i4.p1.1.m1.4.4.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.I1.i4.p1.1.m1.4.4.1.3.2" xref="S6.I1.i4.p1.1.m1.4.4.1.3.2.cmml">ℒ</mi><mi id="S6.I1.i4.p1.1.m1.4.4.1.3.3" xref="S6.I1.i4.p1.1.m1.4.4.1.3.3.cmml">m</mi></msub><mo lspace="0em" rspace="0em" id="S6.I1.i4.p1.1.m1.4.4.1.2a" xref="S6.I1.i4.p1.1.m1.4.4.1.2.cmml">​</mo><mrow id="S6.I1.i4.p1.1.m1.4.4.1.1.1" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S6.I1.i4.p1.1.m1.4.4.1.1.1.2" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml">(</mo><msubsup id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml"><mi id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.2" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.2.cmml">𝜽</mi><mi id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.3" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.3.cmml">m</mi><mrow id="S6.I1.i4.p1.1.m1.3.3.1.3" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S6.I1.i4.p1.1.m1.3.3.1.3.1" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml">(</mo><mi id="S6.I1.i4.p1.1.m1.3.3.1.1" xref="S6.I1.i4.p1.1.m1.3.3.1.1.cmml">t</mi><mo stretchy="false" id="S6.I1.i4.p1.1.m1.3.3.1.3.2" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S6.I1.i4.p1.1.m1.4.4.1.1.1.3" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i4.p1.1.m1.4b"><apply id="S6.I1.i4.p1.1.m1.4.4.cmml" xref="S6.I1.i4.p1.1.m1.4.4"><apply id="S6.I1.i4.p1.1.m1.4.4.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.4.4.2.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2">superscript</csymbol><apply id="S6.I1.i4.p1.1.m1.4.4.2.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.4.4.2.2.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2">subscript</csymbol><sum id="S6.I1.i4.p1.1.m1.4.4.2.2.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.2.2"></sum><apply id="S6.I1.i4.p1.1.m1.4.4.2.2.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3"><eq id="S6.I1.i4.p1.1.m1.4.4.2.2.3.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.1"></eq><ci id="S6.I1.i4.p1.1.m1.4.4.2.2.3.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.2">𝑚</ci><cn type="integer" id="S6.I1.i4.p1.1.m1.4.4.2.2.3.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.2.3.3">1</cn></apply></apply><ci id="S6.I1.i4.p1.1.m1.4.4.2.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.2.3">𝑀</ci></apply><apply id="S6.I1.i4.p1.1.m1.4.4.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1"><times id="S6.I1.i4.p1.1.m1.4.4.1.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.2"></times><apply id="S6.I1.i4.p1.1.m1.2.2.cmml" xref="S6.I1.i4.p1.1.m1.2.2"><divide id="S6.I1.i4.p1.1.m1.2.2.3.cmml" xref="S6.I1.i4.p1.1.m1.2.2"></divide><apply id="S6.I1.i4.p1.1.m1.1.1.1.2.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1"><abs id="S6.I1.i4.p1.1.m1.1.1.1.2.1.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1.2"></abs><apply id="S6.I1.i4.p1.1.m1.1.1.1.1.1.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.1.1.1.1.1.1.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.I1.i4.p1.1.m1.1.1.1.1.1.2.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1.2">𝒟</ci><ci id="S6.I1.i4.p1.1.m1.1.1.1.1.1.3.cmml" xref="S6.I1.i4.p1.1.m1.1.1.1.1.1.3">𝑚</ci></apply></apply><apply id="S6.I1.i4.p1.1.m1.2.2.2.2.cmml" xref="S6.I1.i4.p1.1.m1.2.2.2.3"><abs id="S6.I1.i4.p1.1.m1.2.2.2.2.1.cmml" xref="S6.I1.i4.p1.1.m1.2.2.2.3.1"></abs><ci id="S6.I1.i4.p1.1.m1.2.2.2.1.cmml" xref="S6.I1.i4.p1.1.m1.2.2.2.1">𝒟</ci></apply></apply><apply id="S6.I1.i4.p1.1.m1.4.4.1.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.3"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.4.4.1.3.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.3">subscript</csymbol><ci id="S6.I1.i4.p1.1.m1.4.4.1.3.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.3.2">ℒ</ci><ci id="S6.I1.i4.p1.1.m1.4.4.1.3.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.3.3">𝑚</ci></apply><apply id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1">superscript</csymbol><apply id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.1.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1">subscript</csymbol><ci id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.2.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.2">𝜽</ci><ci id="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.3.cmml" xref="S6.I1.i4.p1.1.m1.4.4.1.1.1.1.2.3">𝑚</ci></apply><ci id="S6.I1.i4.p1.1.m1.3.3.1.1.cmml" xref="S6.I1.i4.p1.1.m1.3.3.1.1">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i4.p1.1.m1.4c">\sum_{m=1}^{M}\frac{|\mathcal{D}_{m}|}{|\mathcal{D}|}\mathcal{L}_{m}(\bm{\theta}_{m}^{(t)})</annotation></semantics></math> (in <span id="S6.I1.i4.p1.2.1" class="ltx_text" style="color:#0000FF;">blue</span>) of local models <math id="S6.I1.i4.p1.2.m2.2" class="ltx_Math" alttext="\{\bm{\theta}_{m}^{(t)}\}_{m=1}^{M}" display="inline"><semantics id="S6.I1.i4.p1.2.m2.2a"><msubsup id="S6.I1.i4.p1.2.m2.2.2" xref="S6.I1.i4.p1.2.m2.2.2.cmml"><mrow id="S6.I1.i4.p1.2.m2.2.2.1.1.1" xref="S6.I1.i4.p1.2.m2.2.2.1.1.2.cmml"><mo stretchy="false" id="S6.I1.i4.p1.2.m2.2.2.1.1.1.2" xref="S6.I1.i4.p1.2.m2.2.2.1.1.2.cmml">{</mo><msubsup id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.cmml"><mi id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.2" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.2.cmml">𝜽</mi><mi id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.3" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.3.cmml">m</mi><mrow id="S6.I1.i4.p1.2.m2.1.1.1.3" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S6.I1.i4.p1.2.m2.1.1.1.3.1" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.cmml">(</mo><mi id="S6.I1.i4.p1.2.m2.1.1.1.1" xref="S6.I1.i4.p1.2.m2.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S6.I1.i4.p1.2.m2.1.1.1.3.2" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.cmml">)</mo></mrow></msubsup><mo stretchy="false" id="S6.I1.i4.p1.2.m2.2.2.1.1.1.3" xref="S6.I1.i4.p1.2.m2.2.2.1.1.2.cmml">}</mo></mrow><mrow id="S6.I1.i4.p1.2.m2.2.2.1.3" xref="S6.I1.i4.p1.2.m2.2.2.1.3.cmml"><mi id="S6.I1.i4.p1.2.m2.2.2.1.3.2" xref="S6.I1.i4.p1.2.m2.2.2.1.3.2.cmml">m</mi><mo id="S6.I1.i4.p1.2.m2.2.2.1.3.1" xref="S6.I1.i4.p1.2.m2.2.2.1.3.1.cmml">=</mo><mn id="S6.I1.i4.p1.2.m2.2.2.1.3.3" xref="S6.I1.i4.p1.2.m2.2.2.1.3.3.cmml">1</mn></mrow><mi id="S6.I1.i4.p1.2.m2.2.2.3" xref="S6.I1.i4.p1.2.m2.2.2.3.cmml">M</mi></msubsup><annotation-xml encoding="MathML-Content" id="S6.I1.i4.p1.2.m2.2b"><apply id="S6.I1.i4.p1.2.m2.2.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2"><csymbol cd="ambiguous" id="S6.I1.i4.p1.2.m2.2.2.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2">superscript</csymbol><apply id="S6.I1.i4.p1.2.m2.2.2.1.cmml" xref="S6.I1.i4.p1.2.m2.2.2"><csymbol cd="ambiguous" id="S6.I1.i4.p1.2.m2.2.2.1.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2">subscript</csymbol><set id="S6.I1.i4.p1.2.m2.2.2.1.1.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1"><apply id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.1.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1">superscript</csymbol><apply id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.1.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1">subscript</csymbol><ci id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.2">𝜽</ci><ci id="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.3.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.1.1.1.2.3">𝑚</ci></apply><ci id="S6.I1.i4.p1.2.m2.1.1.1.1.cmml" xref="S6.I1.i4.p1.2.m2.1.1.1.1">𝑡</ci></apply></set><apply id="S6.I1.i4.p1.2.m2.2.2.1.3.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.3"><eq id="S6.I1.i4.p1.2.m2.2.2.1.3.1.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.3.1"></eq><ci id="S6.I1.i4.p1.2.m2.2.2.1.3.2.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.3.2">𝑚</ci><cn type="integer" id="S6.I1.i4.p1.2.m2.2.2.1.3.3.cmml" xref="S6.I1.i4.p1.2.m2.2.2.1.3.3">1</cn></apply></apply><ci id="S6.I1.i4.p1.2.m2.2.2.3.cmml" xref="S6.I1.i4.p1.2.m2.2.2.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i4.p1.2.m2.2c">\{\bm{\theta}_{m}^{(t)}\}_{m=1}^{M}</annotation></semantics></math> converges.</p>
</div>
</li>
</ol>
<p id="S6.SS1.p2.1" class="ltx_p">Putting these observations together, we find that the positive impacts of <span id="S6.SS1.p2.1.1" class="ltx_text ltx_font_smallcaps">BN</span> diminish along with <span id="S6.SS1.p2.1.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> training, as evidenced by the reduced variation of mini-batch statistics (point 3) and the convergence of the local models (point 4).
This opens up the opportunity to cease the use of local mini-batch statistics for normalization in later rounds, to resolve the deviated gradient issue <a href="#S5.SS1" title="5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.1</span></a>.
Specifically, as the global accumulated statistics converge, it makes sense to freeze and use them for normalization, which would resolve the mismatched statistics issue in <a href="#S5.SS2" title="5.2 Mismatched normalization in training and testing ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.2</span></a>.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">We examine this idea by replacing local mini-batch statistics with fixed global statistics starting at different rounds. As shown in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (d), if the round is chosen properly (x-axis), the corresponding <em id="S6.SS1.p3.1.1" class="ltx_emph ltx_font_italic">final round test accuracy</em>
largely improves (y-axis). Based on this insight, we propose a simple practice to address the issues of BN mentioned in <a href="#S5" title="5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 5</span></a>.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span><span id="S6.SS2.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> by two-stage training</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">The insights in <a href="#S6.SS1" title="6.1 Insights from the training dynamics ‣ 6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 6.1</span></a> motivate us to divide <span id="S6.SS2.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> training with <span id="S6.SS2.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span> into two stages, separated at round <math id="S6.SS2.p1.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.p1.1.m1.1a"><msup id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml"><mi id="S6.SS2.p1.1.m1.1.1.2" xref="S6.SS2.p1.1.m1.1.1.2.cmml">T</mi><mo id="S6.SS2.p1.1.m1.1.1.3" xref="S6.SS2.p1.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.1b"><apply id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS2.p1.1.m1.1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1">superscript</csymbol><ci id="S6.SS2.p1.1.m1.1.1.2.cmml" xref="S6.SS2.p1.1.m1.1.1.2">𝑇</ci><ci id="S6.SS2.p1.1.m1.1.1.3.cmml" xref="S6.SS2.p1.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.1c">T^{\star}</annotation></semantics></math>.</p>
</div>
<section id="S6.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Stage I: Exploration (before round <math id="S6.SS2.SSS0.Px1.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.SSS0.Px1.1.m1.1b"><msup id="S6.SS2.SSS0.Px1.1.m1.1.1" xref="S6.SS2.SSS0.Px1.1.m1.1.1.cmml"><mi id="S6.SS2.SSS0.Px1.1.m1.1.1.2" xref="S6.SS2.SSS0.Px1.1.m1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px1.1.m1.1.1.3" xref="S6.SS2.SSS0.Px1.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px1.1.m1.1c"><apply id="S6.SS2.SSS0.Px1.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px1.1.m1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.1.m1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px1.1.m1.1.1.2.cmml" xref="S6.SS2.SSS0.Px1.1.m1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px1.1.m1.1.1.3.cmml" xref="S6.SS2.SSS0.Px1.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px1.1.m1.1d">T^{\star}</annotation></semantics></math>).</h4>

<div id="S6.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px1.p1.1" class="ltx_p">In this stage, we follow the standard practice of <span id="S6.SS2.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> with <span id="S6.SS2.SSS0.Px1.p1.1.2" class="ltx_text ltx_font_smallcaps">BN</span>.
In each SGD step during local training, we calculate the mini-batch statistics in the forward pass to normalize the intermediate features (<a href="#S5.E7" title="Equation 7 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 7</span></a>) and calculate the gradients for model updates in the backward pass (<a href="#S5.E8" title="Equation 8 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 8</span></a>). Meanwhile, we accumulate the local mini-batch statistics using <a href="#S3.E2" title="Equation 2 ‣ Batch Normalization (BN). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 2</span></a>. During global aggregation, we perform element-wise averages for all the DNN parameters across clients, including <span id="S6.SS2.SSS0.Px1.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span>’s accumulated statistics. At the next round of local training, the local accumulated statistics are initialized with the globally aggregated accumulated statistics.</p>
</div>
<div id="S6.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S6.SS2.SSS0.Px1.p2.1" class="ltx_p">This stage enjoys the positive impacts of <span id="S6.SS2.SSS0.Px1.p2.1.1" class="ltx_text ltx_font_smallcaps">BN</span> on local training with SGD, e.g., robust to internal covariate
shifts when the learning rate is large and model weights and intermediate activations are fast changing.</p>
</div>
<div id="S6.SS2.SSS0.Px1.p3" class="ltx_para">
<p id="S6.SS2.SSS0.Px1.p3.2" class="ltx_p">At the end, we save the aggregated accumulated statistics <math id="S6.SS2.SSS0.Px1.p3.1.m1.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(T^{\star})}" display="inline"><semantics id="S6.SS2.SSS0.Px1.p3.1.m1.1a"><msup id="S6.SS2.SSS0.Px1.p3.1.m1.1.2" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.2" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.2.cmml">𝑺</mi><mo id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.1" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.2" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.2" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.3" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.3.cmml">⋆</mo></msup><mo stretchy="false" id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.3" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px1.p3.1.m1.1b"><apply id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.1.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2"><ci id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.2.2.2">𝑺</ci></apply><apply id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS0.Px1.p3.1.m1.1.1.1.1.1.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px1.p3.1.m1.1c">\bar{\bm{S}}^{(T^{\star})}</annotation></semantics></math> of each <span id="S6.SS2.SSS0.Px1.p3.2.1" class="ltx_text ltx_font_smallcaps">BN</span> layer from the global model <math id="S6.SS2.SSS0.Px1.p3.2.m2.1" class="ltx_Math" alttext="\bar{\bm{\theta}}^{(T^{\star})}" display="inline"><semantics id="S6.SS2.SSS0.Px1.p3.2.m2.1a"><msup id="S6.SS2.SSS0.Px1.p3.2.m2.1.2" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.2" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.2.cmml">𝜽</mi><mo id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.1" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.2" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.cmml">(</mo><msup id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.2" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.3" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.3.cmml">⋆</mo></msup><mo stretchy="false" id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.3" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px1.p3.2.m2.1b"><apply id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.1.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2"><ci id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.2.2.2">𝜽</ci></apply><apply id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS0.Px1.p3.2.m2.1.1.1.1.1.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px1.p3.2.m2.1c">\bar{\bm{\theta}}^{(T^{\star})}</annotation></semantics></math>.</p>
</div>
<figure id="S6.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S6.F4.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:203.8pt;">
<img src="/html/2303.06530/assets/figures/Fix_step_vary_noniid_BN_GN_cifar-2.png" id="S6.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="461" alt="Refer to caption">
<p id="S6.F4.1.1" class="ltx_p ltx_align_center"><span id="S6.F4.1.1.1" class="ltx_text" style="font-size:90%;">(a) CIFAR-10</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S6.F4.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:203.8pt;">
<img src="/html/2303.06530/assets/figures/Fix_step_vary_noniid_BN_GN_tiny-3.png" id="S6.F4.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="461" alt="Refer to caption">
<p id="S6.F4.2.1" class="ltx_p ltx_align_center"><span id="S6.F4.2.1.1" class="ltx_text" style="font-size:90%;">(b) Tiny-ImageNet</span></p>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span><span id="S6.F4.4.1" class="ltx_text" style="font-size:90%;">Non-IID partitions with <math id="S6.F4.4.1.m1.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="S6.F4.4.1.m1.1b"><mrow id="S6.F4.4.1.m1.1.1" xref="S6.F4.4.1.m1.1.1.cmml"><mi id="S6.F4.4.1.m1.1.1.2" xref="S6.F4.4.1.m1.1.1.2.cmml">E</mi><mo id="S6.F4.4.1.m1.1.1.1" xref="S6.F4.4.1.m1.1.1.1.cmml">=</mo><mn id="S6.F4.4.1.m1.1.1.3" xref="S6.F4.4.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F4.4.1.m1.1c"><apply id="S6.F4.4.1.m1.1.1.cmml" xref="S6.F4.4.1.m1.1.1"><eq id="S6.F4.4.1.m1.1.1.1.cmml" xref="S6.F4.4.1.m1.1.1.1"></eq><ci id="S6.F4.4.1.m1.1.1.2.cmml" xref="S6.F4.4.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S6.F4.4.1.m1.1.1.3.cmml" xref="S6.F4.4.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.4.1.m1.1d">E=100</annotation></semantics></math> steps.</span></figcaption>
</figure>
</section>
<section id="S6.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Stage II: Calibration (after round <math id="S6.SS2.SSS0.Px2.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.SSS0.Px2.1.m1.1b"><msup id="S6.SS2.SSS0.Px2.1.m1.1.1" xref="S6.SS2.SSS0.Px2.1.m1.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.1.m1.1.1.2" xref="S6.SS2.SSS0.Px2.1.m1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px2.1.m1.1.1.3" xref="S6.SS2.SSS0.Px2.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.1.m1.1c"><apply id="S6.SS2.SSS0.Px2.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px2.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.1.m1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.1.m1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px2.1.m1.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.1.m1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px2.1.m1.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.1.m1.1d">T^{\star}</annotation></semantics></math>).</h4>

<div id="S6.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px2.p1.4" class="ltx_p">After the DNN parameters have benefited from <span id="S6.SS2.SSS0.Px2.p1.4.1" class="ltx_text ltx_font_smallcaps">BN</span> in the early stage of training, we seek to address the negative impacts of <span id="S6.SS2.SSS0.Px2.p1.4.2" class="ltx_text ltx_font_smallcaps">BN</span> on <span id="S6.SS2.SSS0.Px2.p1.4.3" class="ltx_text ltx_font_smallcaps">FedAvg</span>. As mentioned in <a href="#S5.SS1" title="5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.1</span></a> and <a href="#S5.SS2" title="5.2 Mismatched normalization in training and testing ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.2</span></a>, these are caused by normalization with mismatched mini-batch statistics across non-IID clients. In the second stage, we thus replace mini-batch statistics with the <em id="S6.SS2.SSS0.Px2.p1.4.4" class="ltx_emph ltx_font_italic">frozen</em> global accumulated statistics <math id="S6.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(T^{\star})}" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.1.m1.1a"><msup id="S6.SS2.SSS0.Px2.p1.1.m1.1.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.2.cmml">𝑺</mi><mo id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml">⋆</mo></msup><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.3" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2"><ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.2.2.2">𝑺</ci></apply><apply id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.1.1.1.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.1.m1.1c">\bar{\bm{S}}^{(T^{\star})}</annotation></semantics></math> to normalize activations in local training. We implement this idea by switching <span id="S6.SS2.SSS0.Px2.p1.4.5" class="ltx_text ltx_font_smallcaps">BN</span> from the training mode to the evaluation mode during local training. We note that with this implementation, the global statistics <math id="S6.SS2.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(T^{\star})}" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.2.m2.1a"><msup id="S6.SS2.SSS0.Px2.p1.2.m2.1.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.2.cmml">𝑺</mi><mo id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">(</mo><msup id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml">⋆</mo></msup><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.3" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2"><ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.2.2.2">𝑺</ci></apply><apply id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.1.1.1.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.2.m2.1c">\bar{\bm{S}}^{(T^{\star})}</annotation></semantics></math> at round <math id="S6.SS2.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.3.m3.1a"><msup id="S6.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.3.m3.1b"><apply id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.3.m3.1c">T^{\star}</annotation></semantics></math> will also be used during testing (see <a href="#S3" title="3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 3</span></a>), essentially removing the mismatched statistics in training and testing (<a href="#S5.SS2" title="5.2 Mismatched normalization in training and testing ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.2</span></a>). Methods for selecting <math id="S6.SS2.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.4.m4.1a"><msup id="S6.SS2.SSS0.Px2.p1.4.m4.1.1" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.4.m4.1b"><apply id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.4.m4.1c">T^{\star}</annotation></semantics></math> is discussed in <a href="#A2.SS6" title="B.6 Method for selecting 𝑇^⋆ ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection B.6</span></a>.</p>
</div>
</section>
<section id="S6.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Remark.</h4>

<div id="S6.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px3.p1.4" class="ltx_p">We use <math id="S6.SS2.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(T^{\star})}" display="inline"><semantics id="S6.SS2.SSS0.Px3.p1.1.m1.1a"><msup id="S6.SS2.SSS0.Px3.p1.1.m1.1.2" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.2" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.2.cmml">𝑺</mi><mo id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.1" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.2" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.2" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.3" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.3.cmml">⋆</mo></msup><mo stretchy="false" id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.3" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.1.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2"><ci id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.2.2.2">𝑺</ci></apply><apply id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS0.Px3.p1.1.m1.1.1.1.1.1.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px3.p1.1.m1.1c">\bar{\bm{S}}^{(T^{\star})}</annotation></semantics></math> to approximate the global statistics because <math id="S6.SS2.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="\bar{\bm{S}}^{(t)}" display="inline"><semantics id="S6.SS2.SSS0.Px3.p1.2.m2.1a"><msup id="S6.SS2.SSS0.Px3.p1.2.m2.1.2" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.cmml"><mover accent="true" id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.cmml"><mi id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.2" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.2.cmml">𝑺</mi><mo id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.1" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.1.cmml">¯</mo></mover><mrow id="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.3" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.3.1" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.cmml">(</mo><mi id="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.1" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.1.cmml">t</mi><mo stretchy="false" id="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.3.2" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px3.p1.2.m2.1b"><apply id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.1.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2">superscript</csymbol><apply id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2"><ci id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.1.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.1">¯</ci><ci id="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.2.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.2.2.2">𝑺</ci></apply><ci id="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.2.m2.1.1.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px3.p1.2.m2.1c">\bar{\bm{S}}^{(t)}</annotation></semantics></math> converges in the later rounds of <span id="S6.SS2.SSS0.Px3.p1.4.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> (see <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (a)). In terms of <math id="S6.SS2.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="S6.SS2.SSS0.Px3.p1.3.m3.1a"><msup id="S6.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.2" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml">T</mi><mo id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.3" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px3.p1.3.m3.1b"><apply id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1">superscript</csymbol><ci id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1.2">𝑇</ci><ci id="S6.SS2.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S6.SS2.SSS0.Px3.p1.3.m3.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px3.p1.3.m3.1c">T^{\star}</annotation></semantics></math>, we find it quite stable to be set at the middle round and fix it at <math id="S6.SS2.SSS0.Px3.p1.4.m4.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="S6.SS2.SSS0.Px3.p1.4.m4.1a"><mrow id="S6.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mn id="S6.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">50</mn><mo id="S6.SS2.SSS0.Px3.p1.4.m4.1.1.1" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S6.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="latexml" id="S6.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S6.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S6.SS2.SSS0.Px3.p1.4.m4.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px3.p1.4.m4.1c">50\%</annotation></semantics></math> of the total <span id="S6.SS2.SSS0.Px3.p1.4.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> rounds throughout our experiments, unless stated otherwise.
<span id="S6.SS2.SSS0.Px3.p1.4.3" class="ltx_text ltx_font_smallcaps">FixBN</span> is easy to apply, <em id="S6.SS2.SSS0.Px3.p1.4.4" class="ltx_emph ltx_font_italic">with no architecture and objective change and no extra training and communication costs</em>. Please see <a href="#A3" title="Appendix C FixBN Algorithm ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix C</span></a> for the pseudo-code of <span id="S6.SS2.SSS0.Px3.p1.4.5" class="ltx_text ltx_font_smallcaps">FixBN</span>.</p>
</div>
</section>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Maintaining Local SGD Momentum</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">Besides <span id="S7.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span>, we identify another gap between <span id="S7.p1.1.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> and centralized training. While it is common to use SGD momentum during local training of <span id="S7.p1.1.3" class="ltx_text ltx_font_smallcaps">FedAvg</span>, the momentum is usually discarded at the end of each round and re-initialized (along with any optimizer states) at the beginning of the next round of local training. That is, the first several SGD steps in a round cannot benefit from it.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">We present a simple treatment: keeping the <span id="S7.p2.1.1" class="ltx_text ltx_font_bold">local momentum</span> without re-initialization at the end of each local training round. This makes <span id="S7.p2.1.2" class="ltx_text ltx_font_smallcaps">FedAvg</span> a stateful method. A stateless choice is to maintain the <span id="S7.p2.1.3" class="ltx_text ltx_font_bold">global momentum</span> <cite class="ltx_cite ltx_citemacro_citep">(Karimireddy et al., <a href="#bib.bib31" title="" class="ltx_ref">2020a</a>)</cite> by uploading the local momentum to the server after each round and aggregating it by <a href="#S3.E6" title="Equation 6 ‣ Federated averaging (FedAvg). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Equation 6</span></a>. This global momentum is then sent back to clients to initialize the momentum of the next local training round, with the cost of double message size. Empirically, we find the two methods yield similar gains (<a href="#S8.F5" title="Figure 5 ‣ 8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 5</span></a>) and help recover centralized accuracy if communicating every step (<a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>).</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Experiments (more in the <a href="#A2" title="Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix B</span></a>)</h2>

<figure id="S8.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span><span id="S8.T2.6.1" class="ltx_text" style="font-size:90%;">Dirichlet (0.1) non-IID results on ImageNet-1K.</span></figcaption>
<table id="S8.T2.4" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S8.T2.1.1" class="ltx_tr">
<td id="S8.T2.1.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_tt" style="padding:-1pt 1.3pt;"><span id="S8.T2.1.1.2.1" class="ltx_text" style="font-size:80%;">Method</span></td>
<td id="S8.T2.1.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" style="padding:-1pt 1.3pt;"><span id="S8.T2.1.1.3.1" class="ltx_text" style="font-size:80%;">Network</span></td>
<td id="S8.T2.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_tt" style="padding:-1pt 1.3pt;">
<span id="S8.T2.1.1.1.1" class="ltx_text" style="font-size:80%;">Acc. </span><math id="S8.T2.1.1.1.m1.1" class="ltx_Math" alttext="\color[rgb]{1,0,1}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,1}\pgfsys@color@cmyk@stroke{0}{1}{0}{0}\pgfsys@color@cmyk@fill{0}{1}{0}{0}\Delta_{\text{-BN}}" display="inline"><semantics id="S8.T2.1.1.1.m1.1a"><msub id="S8.T2.1.1.1.m1.1.1" xref="S8.T2.1.1.1.m1.1.1.cmml"><mi mathcolor="#FF00FF" mathsize="80%" mathvariant="normal" id="S8.T2.1.1.1.m1.1.1.2" xref="S8.T2.1.1.1.m1.1.1.2.cmml">Δ</mi><mtext mathcolor="#FF00FF" mathsize="80%" id="S8.T2.1.1.1.m1.1.1.3" xref="S8.T2.1.1.1.m1.1.1.3a.cmml">-BN</mtext></msub><annotation-xml encoding="MathML-Content" id="S8.T2.1.1.1.m1.1b"><apply id="S8.T2.1.1.1.m1.1.1.cmml" xref="S8.T2.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S8.T2.1.1.1.m1.1.1.1.cmml" xref="S8.T2.1.1.1.m1.1.1">subscript</csymbol><ci id="S8.T2.1.1.1.m1.1.1.2.cmml" xref="S8.T2.1.1.1.m1.1.1.2">Δ</ci><ci id="S8.T2.1.1.1.m1.1.1.3a.cmml" xref="S8.T2.1.1.1.m1.1.1.3"><mtext mathcolor="#FF00FF" mathsize="56%" id="S8.T2.1.1.1.m1.1.1.3.cmml" xref="S8.T2.1.1.1.m1.1.1.3">-BN</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.T2.1.1.1.m1.1c">\color[rgb]{1,0,1}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,1}\pgfsys@color@cmyk@stroke{0}{1}{0}{0}\pgfsys@color@cmyk@fill{0}{1}{0}{0}\Delta_{\text{-BN}}</annotation></semantics></math>
</td>
</tr>
<tr id="S8.T2.2.2" class="ltx_tr">
<td id="S8.T2.2.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 1.3pt;"><span id="S8.T2.2.2.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span></td>
<td id="S8.T2.2.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:-1pt 1.3pt;" rowspan="3"><span id="S8.T2.2.2.3.1" class="ltx_text" style="font-size:80%;">
<span id="S8.T2.2.2.3.1.1" class="ltx_tabular ltx_align_middle">
<span id="S8.T2.2.2.3.1.1.1" class="ltx_tr">
<span id="S8.T2.2.2.3.1.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.3pt;">ResNet18</span></span>
<span id="S8.T2.2.2.3.1.1.2" class="ltx_tr">
<span id="S8.T2.2.2.3.1.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.3pt;"><cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>)</cite></span></span>
</span></span></td>
<td id="S8.T2.2.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1pt 1.3pt;">
<span id="S8.T2.2.2.1.1" class="ltx_text" style="font-size:80%;">33.33</span><math id="S8.T2.2.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T2.2.2.1.m1.1a"><mo mathsize="70%" id="S8.T2.2.2.1.m1.1.1" xref="S8.T2.2.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T2.2.2.1.m1.1b"><csymbol cd="latexml" id="S8.T2.2.2.1.m1.1.1.cmml" xref="S8.T2.2.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T2.2.2.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T2.2.2.1.2" class="ltx_text" style="font-size:70%;"> 0.57</span>
</td>
</tr>
<tr id="S8.T2.3.3" class="ltx_tr">
<td id="S8.T2.3.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.3pt;"><span id="S8.T2.3.3.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span></td>
<td id="S8.T2.3.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:-1pt 1.3pt;">
<span id="S8.T2.3.3.1.1" class="ltx_text" style="font-size:80%;">48.30</span><math id="S8.T2.3.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T2.3.3.1.m1.1a"><mo mathsize="70%" id="S8.T2.3.3.1.m1.1.1" xref="S8.T2.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T2.3.3.1.m1.1b"><csymbol cd="latexml" id="S8.T2.3.3.1.m1.1.1.cmml" xref="S8.T2.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T2.3.3.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T2.3.3.1.2" class="ltx_text" style="font-size:70%;"> 1.21</span>
</td>
</tr>
<tr id="S8.T2.4.4" class="ltx_tr">
<td id="S8.T2.4.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_r" style="padding:-1pt 1.3pt;"><span id="S8.T2.4.4.2.1" class="ltx_text ltx_font_bold ltx_font_smallcaps" style="font-size:80%;">FixBN</span></td>
<td id="S8.T2.4.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb" style="padding:-1pt 1.3pt;">
<span id="S8.T2.4.4.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">52.43<math id="S8.T2.4.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T2.4.4.1.1.m1.1a"><mo mathsize="88%" id="S8.T2.4.4.1.1.m1.1.1" xref="S8.T2.4.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T2.4.4.1.1.m1.1b"><csymbol cd="latexml" id="S8.T2.4.4.1.1.m1.1.1.cmml" xref="S8.T2.4.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T2.4.4.1.1.m1.1c">\pm</annotation></semantics></math></span><span id="S8.T2.4.4.1.2" class="ltx_text" style="font-size:70%;"> 0.68 <span id="S8.T2.4.4.1.2.1" class="ltx_text" style="color:#FF00FF;">(+4.1)</span></span>
</td>
</tr>
</table>
</figure>
<figure id="S8.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span><span id="S8.T3.2.1" class="ltx_text" style="font-size:90%;">Mean IoU (<math id="S8.T3.2.1.m1.1" class="ltx_Math" alttext="\%" display="inline"><semantics id="S8.T3.2.1.m1.1b"><mo id="S8.T3.2.1.m1.1.1" xref="S8.T3.2.1.m1.1.1.cmml">%</mo><annotation-xml encoding="MathML-Content" id="S8.T3.2.1.m1.1c"><csymbol cd="latexml" id="S8.T3.2.1.m1.1.1.cmml" xref="S8.T3.2.1.m1.1.1">percent</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.2.1.m1.1d">\%</annotation></semantics></math>) of image segmentation on Cityscapes.</span></figcaption>
<table id="S8.T3.9" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S8.T3.3.1" class="ltx_tr">
<td id="S8.T3.3.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" style="padding:-1pt 2.3pt;"><span id="S8.T3.3.1.2.1" class="ltx_text" style="font-size:80%;">Method</span></td>
<td id="S8.T3.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding:-1pt 2.3pt;"><span id="S8.T3.3.1.3.1" class="ltx_text" style="font-size:80%;">Backbone</span></td>
<td id="S8.T3.3.1.1" class="ltx_td ltx_align_left ltx_border_tt" style="padding:-1pt 2.3pt;">
<span id="S8.T3.3.1.1.1" class="ltx_text" style="font-size:80%;">Mean IoU </span><math id="S8.T3.3.1.1.m1.1" class="ltx_Math" alttext="\color[rgb]{1,0,1}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,1}\pgfsys@color@cmyk@stroke{0}{1}{0}{0}\pgfsys@color@cmyk@fill{0}{1}{0}{0}\Delta_{\text{-BN}}" display="inline"><semantics id="S8.T3.3.1.1.m1.1a"><msub id="S8.T3.3.1.1.m1.1.1" xref="S8.T3.3.1.1.m1.1.1.cmml"><mi mathcolor="#FF00FF" mathsize="80%" mathvariant="normal" id="S8.T3.3.1.1.m1.1.1.2" xref="S8.T3.3.1.1.m1.1.1.2.cmml">Δ</mi><mtext mathcolor="#FF00FF" mathsize="80%" id="S8.T3.3.1.1.m1.1.1.3" xref="S8.T3.3.1.1.m1.1.1.3a.cmml">-BN</mtext></msub><annotation-xml encoding="MathML-Content" id="S8.T3.3.1.1.m1.1b"><apply id="S8.T3.3.1.1.m1.1.1.cmml" xref="S8.T3.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="S8.T3.3.1.1.m1.1.1.1.cmml" xref="S8.T3.3.1.1.m1.1.1">subscript</csymbol><ci id="S8.T3.3.1.1.m1.1.1.2.cmml" xref="S8.T3.3.1.1.m1.1.1.2">Δ</ci><ci id="S8.T3.3.1.1.m1.1.1.3a.cmml" xref="S8.T3.3.1.1.m1.1.1.3"><mtext mathcolor="#FF00FF" mathsize="56%" id="S8.T3.3.1.1.m1.1.1.3.cmml" xref="S8.T3.3.1.1.m1.1.1.3">-BN</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.3.1.1.m1.1c">\color[rgb]{1,0,1}\definecolor[named]{pgfstrokecolor}{rgb}{1,0,1}\pgfsys@color@cmyk@stroke{0}{1}{0}{0}\pgfsys@color@cmyk@fill{0}{1}{0}{0}\Delta_{\text{-BN}}</annotation></semantics></math>
</td>
</tr>
<tr id="S8.T3.4.2" class="ltx_tr">
<td id="S8.T3.4.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 2.3pt;"><span id="S8.T3.4.2.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span></td>
<td id="S8.T3.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:-1pt 2.3pt;" rowspan="3"><span id="S8.T3.4.2.3.1" class="ltx_text" style="font-size:80%;">
<span id="S8.T3.4.2.3.1.1" class="ltx_tabular ltx_align_middle">
<span id="S8.T3.4.2.3.1.1.1" class="ltx_tr">
<span id="S8.T3.4.2.3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:-1pt 2.3pt;">MobileNet-v2</span></span>
<span id="S8.T3.4.2.3.1.1.2" class="ltx_tr">
<span id="S8.T3.4.2.3.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:-1pt 2.3pt;"><cite class="ltx_cite ltx_citemacro_citep">(Sandler et al., <a href="#bib.bib58" title="" class="ltx_ref">2018</a>)</cite></span></span>
</span></span></td>
<td id="S8.T3.4.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding:-1pt 2.3pt;">
<span id="S8.T3.4.2.1.1" class="ltx_text" style="font-size:80%;">43.2</span><math id="S8.T3.4.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.4.2.1.m1.1a"><mo mathsize="70%" id="S8.T3.4.2.1.m1.1.1" xref="S8.T3.4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.4.2.1.m1.1b"><csymbol cd="latexml" id="S8.T3.4.2.1.m1.1.1.cmml" xref="S8.T3.4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.4.2.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T3.4.2.1.2" class="ltx_text" style="font-size:70%;">0.33</span>
</td>
</tr>
<tr id="S8.T3.5.3" class="ltx_tr">
<td id="S8.T3.5.3.2" class="ltx_td ltx_align_left ltx_border_r" style="padding:-1pt 2.3pt;"><span id="S8.T3.5.3.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span></td>
<td id="S8.T3.5.3.1" class="ltx_td ltx_align_left" style="padding:-1pt 2.3pt;">
<span id="S8.T3.5.3.1.1" class="ltx_text" style="font-size:80%;">48.9</span><math id="S8.T3.5.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.5.3.1.m1.1a"><mo mathsize="70%" id="S8.T3.5.3.1.m1.1.1" xref="S8.T3.5.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.5.3.1.m1.1b"><csymbol cd="latexml" id="S8.T3.5.3.1.m1.1.1.cmml" xref="S8.T3.5.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.5.3.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T3.5.3.1.2" class="ltx_text" style="font-size:70%;">0.36</span>
</td>
</tr>
<tr id="S8.T3.6.4" class="ltx_tr">
<td id="S8.T3.6.4.2" class="ltx_td ltx_align_left ltx_border_r" style="padding:-1pt 2.3pt;"><span id="S8.T3.6.4.2.1" class="ltx_text ltx_font_bold ltx_font_smallcaps" style="font-size:80%;">FixBN</span></td>
<td id="S8.T3.6.4.1" class="ltx_td ltx_align_left" style="padding:-1pt 2.3pt;">
<span id="S8.T3.6.4.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">54.0<math id="S8.T3.6.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.6.4.1.1.m1.1a"><mo mathsize="88%" id="S8.T3.6.4.1.1.m1.1.1" xref="S8.T3.6.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.6.4.1.1.m1.1b"><csymbol cd="latexml" id="S8.T3.6.4.1.1.m1.1.1.cmml" xref="S8.T3.6.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.6.4.1.1.m1.1c">\pm</annotation></semantics></math></span><span id="S8.T3.6.4.1.2" class="ltx_text" style="font-size:70%;">0.29</span><span id="S8.T3.6.4.1.3" class="ltx_text" style="font-size:80%;"> </span><span id="S8.T3.6.4.1.4" class="ltx_text" style="font-size:80%;color:#FF00FF;">(+5.1)</span>
</td>
</tr>
<tr id="S8.T3.7.5" class="ltx_tr">
<td id="S8.T3.7.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 2.3pt;"><span id="S8.T3.7.5.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span></td>
<td id="S8.T3.7.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:-1pt 2.3pt;" rowspan="3"><span id="S8.T3.7.5.3.1" class="ltx_text" style="font-size:80%;">
<span id="S8.T3.7.5.3.1.1" class="ltx_tabular ltx_align_middle">
<span id="S8.T3.7.5.3.1.1.1" class="ltx_tr">
<span id="S8.T3.7.5.3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:-1pt 2.3pt;">ResNet50</span></span>
<span id="S8.T3.7.5.3.1.1.2" class="ltx_tr">
<span id="S8.T3.7.5.3.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:-1pt 2.3pt;"><cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>)</cite></span></span>
</span></span></td>
<td id="S8.T3.7.5.1" class="ltx_td ltx_align_left ltx_border_t" style="padding:-1pt 2.3pt;">
<span id="S8.T3.7.5.1.1" class="ltx_text" style="font-size:80%;">47.8</span><math id="S8.T3.7.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.7.5.1.m1.1a"><mo mathsize="70%" id="S8.T3.7.5.1.m1.1.1" xref="S8.T3.7.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.7.5.1.m1.1b"><csymbol cd="latexml" id="S8.T3.7.5.1.m1.1.1.cmml" xref="S8.T3.7.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.7.5.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T3.7.5.1.2" class="ltx_text" style="font-size:70%;">0.30</span>
</td>
</tr>
<tr id="S8.T3.8.6" class="ltx_tr">
<td id="S8.T3.8.6.2" class="ltx_td ltx_align_left ltx_border_r" style="padding:-1pt 2.3pt;"><span id="S8.T3.8.6.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span></td>
<td id="S8.T3.8.6.1" class="ltx_td ltx_align_left" style="padding:-1pt 2.3pt;">
<span id="S8.T3.8.6.1.1" class="ltx_text" style="font-size:80%;">52.6</span><math id="S8.T3.8.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.8.6.1.m1.1a"><mo mathsize="70%" id="S8.T3.8.6.1.m1.1.1" xref="S8.T3.8.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.8.6.1.m1.1b"><csymbol cd="latexml" id="S8.T3.8.6.1.m1.1.1.cmml" xref="S8.T3.8.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.8.6.1.m1.1c">\pm</annotation></semantics></math><span id="S8.T3.8.6.1.2" class="ltx_text" style="font-size:70%;">0.38</span>
</td>
</tr>
<tr id="S8.T3.9.7" class="ltx_tr">
<td id="S8.T3.9.7.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" style="padding:-1pt 2.3pt;"><span id="S8.T3.9.7.2.1" class="ltx_text ltx_font_bold ltx_font_smallcaps" style="font-size:80%;">FixBN</span></td>
<td id="S8.T3.9.7.1" class="ltx_td ltx_align_left ltx_border_bb" style="padding:-1pt 2.3pt;">
<span id="S8.T3.9.7.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">57.2<math id="S8.T3.9.7.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S8.T3.9.7.1.1.m1.1a"><mo mathsize="88%" id="S8.T3.9.7.1.1.m1.1.1" xref="S8.T3.9.7.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.9.7.1.1.m1.1b"><csymbol cd="latexml" id="S8.T3.9.7.1.1.m1.1.1.cmml" xref="S8.T3.9.7.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.9.7.1.1.m1.1c">\pm</annotation></semantics></math></span><span id="S8.T3.9.7.1.2" class="ltx_text" style="font-size:70%;">0.32</span><span id="S8.T3.9.7.1.3" class="ltx_text" style="font-size:80%;"> </span><span id="S8.T3.9.7.1.4" class="ltx_text" style="font-size:80%;color:#FF00FF;">(+4.6)</span>
</td>
</tr>
</table>
</figure>
<section id="S8.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.1 </span>Main results</h3>

<div id="S8.SS1.p1" class="ltx_para">
<p id="S8.SS1.p1.2" class="ltx_p">We first compare our <span id="S8.SS1.p1.2.1" class="ltx_text ltx_font_smallcaps">FixBN</span> (w/o momentum) to <span id="S8.SS1.p1.2.2" class="ltx_text ltx_font_smallcaps">GN</span> and <span id="S8.SS1.p1.2.3" class="ltx_text ltx_font_smallcaps">BN</span>.The group size of <span id="S8.SS1.p1.2.4" class="ltx_text ltx_font_smallcaps">GN</span> is tuned and set to <math id="S8.SS1.p1.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S8.SS1.p1.1.m1.1a"><mn id="S8.SS1.p1.1.m1.1.1" xref="S8.SS1.p1.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S8.SS1.p1.1.m1.1b"><cn type="integer" id="S8.SS1.p1.1.m1.1.1.cmml" xref="S8.SS1.p1.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.p1.1.m1.1c">2</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(Hsieh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite>. The average of <math id="S8.SS1.p1.2.m2.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S8.SS1.p1.2.m2.1a"><mn id="S8.SS1.p1.2.m2.1.1" xref="S8.SS1.p1.2.m2.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S8.SS1.p1.2.m2.1b"><cn type="integer" id="S8.SS1.p1.2.m2.1.1.cmml" xref="S8.SS1.p1.2.m2.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.p1.2.m2.1c">3</annotation></semantics></math> runs of <span id="S8.SS1.p1.2.5" class="ltx_text ltx_font_smallcaps">FedAvg</span> is reported.</p>
</div>
<section id="S8.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Results on CIFAR-10 and Tiny-ImageNet.</h4>

<div id="S8.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S8.SS1.SSS0.Px1.p1.1" class="ltx_p">We follow the setups in <a href="#S4" title="4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 4</span></a> unless stated otherwise. For CIFAR-10, we use ResNet20 <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib20" title="" class="ltx_ref">2016</a>)</cite>; for Tiny-ImageNet, we use ResNet18. We consider <math id="S8.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="S8.SS1.SSS0.Px1.p1.1.m1.1a"><mrow id="S8.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.2" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml">E</mi><mo id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.1" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.1.cmml">=</mo><mn id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.3" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S8.SS1.SSS0.Px1.p1.1.m1.1b"><apply id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1"><eq id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.1"></eq><ci id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S8.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S8.SS1.SSS0.Px1.p1.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.SSS0.Px1.p1.1.m1.1c">E=100</annotation></semantics></math> and run <span id="S8.SS1.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> for a <span id="S8.SS1.SSS0.Px1.p1.1.2" class="ltx_text ltx_font_bold">fixed 128 epochs</span> of total local SGD updates over all the clients and communication rounds.
<a href="#S6.F4" title="Figure 4 ‣ Stage I: Exploration (before round 𝑇^⋆). ‣ 6.2 FixBN by two-stage training ‣ 6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 4</span></a> shows the results. <span id="S8.SS1.SSS0.Px1.p1.1.3" class="ltx_text ltx_font_smallcaps">FixBN</span> consistently outperforms <span id="S8.SS1.SSS0.Px1.p1.1.4" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S8.SS1.SSS0.Px1.p1.1.5" class="ltx_text ltx_font_smallcaps">GN</span>, especially in severe non-IID cases.</p>
</div>
</section>
<section id="S8.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Results on ImageNet.</h4>

<div id="S8.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S8.SS1.SSS0.Px2.p1.1" class="ltx_p">We extend <span id="S8.SS1.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> to the ImageNet-1K <cite class="ltx_cite ltx_citemacro_citep">(Deng et al., <a href="#bib.bib13" title="" class="ltx_ref">2009</a>)</cite> dataset, which is split into 100 non-IID clients with Dirichlet (0.1) over classes. We learn a ResNet18 with 10% randomly sampled clients per round, 20 batch size, 0.1 learning rate (decay by 0.1 every 30% of the total rounds), <math id="S8.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="E=2" display="inline"><semantics id="S8.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S8.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml">E</mi><mo id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S8.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1"><eq id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S8.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S8.SS1.SSS0.Px2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.SSS0.Px2.p1.1.m1.1c">E=2</annotation></semantics></math> local epochs, and 64 epochs in total. <a href="#S8.T2" title="Table 2 ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 2</span></a> shows that <span id="S8.SS1.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span> also perform the best.</p>
</div>
</section>
<section id="S8.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Results on realistic non-IID Cityscape.</h4>

<div id="S8.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S8.SS1.SSS0.Px3.p1.1" class="ltx_p">We further consider a natural non-IID setting on the image segmentation dataset Cityscape <cite class="ltx_cite ltx_citemacro_citep">(Cordts et al., <a href="#bib.bib12" title="" class="ltx_ref">2015</a>)</cite>. We treat each “city” as a client and train <math id="S8.SS1.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S8.SS1.SSS0.Px3.p1.1.m1.1a"><mn id="S8.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S8.SS1.SSS0.Px3.p1.1.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S8.SS1.SSS0.Px3.p1.1.m1.1b"><cn type="integer" id="S8.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S8.SS1.SSS0.Px3.p1.1.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.SSS0.Px3.p1.1.m1.1c">100</annotation></semantics></math> <span id="S8.SS1.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> rounds using DeepLab-v3+ <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a href="#bib.bib11" title="" class="ltx_ref">2018</a>)</cite>. More details are in the appendix. <a href="#S8.T3" title="Table 3 ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 3</span></a> shows that <span id="S8.SS1.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span>’s effectiveness is generalized to different architectures and vision tasks.</p>
</div>
</section>
</section>
<section id="S8.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.2 </span>More analysis</h3>

<figure id="S8.F5" class="ltx_figure">
<p id="S8.F5.1.1" class="ltx_p ltx_minipage ltx_align_middle" style="width:433.6pt;">· 
<span id="S8.F5.1.1.1" class="ltx_inline-block ltx_minipage ltx_align_middle" style="width:433.6pt;"><img src="/html/2303.06530/assets/figures/sub_cifar2.png" id="S8.F5.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="449" height="239" alt="Refer to caption">
</span></p>
<br class="ltx_break ltx_break">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span><span id="S8.F5.7.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Maintained momentum results.<span id="S8.F5.7.3.2" class="ltx_text ltx_font_medium"> We apply maintained </span>global (<sup id="S8.F5.7.3.3" class="ltx_sup"><span id="S8.F5.7.3.3.1" class="ltx_text ltx_font_medium">†</span></sup>)<span id="S8.F5.7.3.4" class="ltx_text ltx_font_medium"> and </span>local momentum (<sup id="S8.F5.7.3.5" class="ltx_sup"><span id="S8.F5.7.3.5.1" class="ltx_text ltx_font_medium">⋆</span></sup>)<span id="S8.F5.7.3.1" class="ltx_text ltx_font_medium"> to <span id="S8.F5.7.3.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> with different normalizers. The setting is (Shards, fixed 128 epochs) with different local steps <math id="S8.F5.7.3.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S8.F5.7.3.1.m1.1b"><mi id="S8.F5.7.3.1.m1.1.1" xref="S8.F5.7.3.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S8.F5.7.3.1.m1.1c"><ci id="S8.F5.7.3.1.m1.1.1.cmml" xref="S8.F5.7.3.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.F5.7.3.1.m1.1d">E</annotation></semantics></math>. We show results on CIFAR-10. Results on Tiny-ImageNet follow similar trends (see <a href="#A2.F7" title="Figure G ‣ B.2 Additional figure for maintained SGD momentum on Tiny-ImageNet in subsection 8.2 ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure G</span></a> in appendix).</span></span></figcaption>
</figure>
<section id="S8.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Maintained SGD momentum.</h4>

<div id="S8.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S8.SS2.SSS0.Px1.p1.2" class="ltx_p">We apply the maintained local momentum and global momentum proposed in <a href="#S7" title="7 Maintaining Local SGD Momentum ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 7</span></a> to <span id="S8.SS2.SSS0.Px1.p1.2.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> with different normalizers. We take the Shards setting with fixed 128 epochs and consider different numbers of local steps per round: <math id="S8.SS2.SSS0.Px1.p1.1.m1.5" class="ltx_Math" alttext="E\in\{1,20,100,500,2500\}" display="inline"><semantics id="S8.SS2.SSS0.Px1.p1.1.m1.5a"><mrow id="S8.SS2.SSS0.Px1.p1.1.m1.5.6" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.cmml"><mi id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.2" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.2.cmml">E</mi><mo id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.1" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.1.cmml">∈</mo><mrow id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml"><mo stretchy="false" id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.1" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">{</mo><mn id="S8.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S8.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">1</mn><mo id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.2" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S8.SS2.SSS0.Px1.p1.1.m1.2.2" xref="S8.SS2.SSS0.Px1.p1.1.m1.2.2.cmml">20</mn><mo id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.3" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S8.SS2.SSS0.Px1.p1.1.m1.3.3" xref="S8.SS2.SSS0.Px1.p1.1.m1.3.3.cmml">100</mn><mo id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.4" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S8.SS2.SSS0.Px1.p1.1.m1.4.4" xref="S8.SS2.SSS0.Px1.p1.1.m1.4.4.cmml">500</mn><mo id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.5" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S8.SS2.SSS0.Px1.p1.1.m1.5.5" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.5.cmml">2500</mn><mo stretchy="false" id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2.6" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px1.p1.1.m1.5b"><apply id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6"><in id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.1.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.1"></in><ci id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.2.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.2">𝐸</ci><set id="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.1.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.6.3.2"><cn type="integer" id="S8.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.1.1">1</cn><cn type="integer" id="S8.SS2.SSS0.Px1.p1.1.m1.2.2.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.2.2">20</cn><cn type="integer" id="S8.SS2.SSS0.Px1.p1.1.m1.3.3.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.3.3">100</cn><cn type="integer" id="S8.SS2.SSS0.Px1.p1.1.m1.4.4.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.4.4">500</cn><cn type="integer" id="S8.SS2.SSS0.Px1.p1.1.m1.5.5.cmml" xref="S8.SS2.SSS0.Px1.p1.1.m1.5.5">2500</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px1.p1.1.m1.5c">E\in\{1,20,100,500,2500\}</annotation></semantics></math>. As shown in <a href="#S8.F5" title="Figure 5 ‣ 8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 5</span></a>, the maintained SGD momentum consistently improves<span id="S8.SS2.SSS0.Px1.p1.2.2" class="ltx_text ltx_font_smallcaps">FedAvg</span>; the gains by global and local momentum are similar, providing flexibility for stateless and stateful use cases. More gains are at smaller <math id="S8.SS2.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S8.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S8.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S8.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S8.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S8.SS2.SSS0.Px1.p1.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px1.p1.2.m2.1c">E</annotation></semantics></math>, supporting our motivation to fix the zero initialization issue.</p>
</div>
</section>
<section id="S8.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Performance at high-frequency regimes.</h4>

<div id="S8.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S8.SS2.SSS0.Px2.p1.2" class="ltx_p">Still in <a href="#S8.F5" title="Figure 5 ‣ 8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 5</span></a> with a (Shards, fixed epoch) setting, we compare <span id="S8.SS2.SSS0.Px2.p1.2.1" class="ltx_text ltx_font_smallcaps">FixBN</span> to <span id="S8.SS2.SSS0.Px2.p1.2.2" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S8.SS2.SSS0.Px2.p1.2.3" class="ltx_text ltx_font_smallcaps">GN</span>. <span id="S8.SS2.SSS0.Px2.p1.2.4" class="ltx_text ltx_font_smallcaps">FixBN</span> performs consistently better. Importantly, <span id="S8.SS2.SSS0.Px2.p1.2.5" class="ltx_text ltx_font_smallcaps">FixBN</span> remains highly accurate in high-frequency communication (i.e., small numbers of local steps <math id="S8.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S8.SS2.SSS0.Px2.p1.1.m1.1a"><mi id="S8.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S8.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px2.p1.1.m1.1b"><ci id="S8.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S8.SS2.SSS0.Px2.p1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px2.p1.1.m1.1c">E</annotation></semantics></math>), unlike <span id="S8.SS2.SSS0.Px2.p1.2.6" class="ltx_text ltx_font_smallcaps">BN</span>, suggesting its effectiveness in mitigating the deviation and mismatched issues in <a href="#S5" title="5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 5</span></a>.
Indeed, in <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a> with <math id="S8.SS2.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S8.SS2.SSS0.Px2.p1.2.m2.1a"><mrow id="S8.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.2" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml">E</mi><mo id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.1" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1"><eq id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.2">𝐸</ci><cn type="integer" id="S8.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S8.SS2.SSS0.Px2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px2.p1.2.m2.1c">E=1</annotation></semantics></math>, <span id="S8.SS2.SSS0.Px2.p1.2.7" class="ltx_text ltx_font_smallcaps">FixBN</span> largely recovers
centralized performance.</p>
</div>
</section>
<section id="S8.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Other normalization methods.</h4>

<div id="S8.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S8.SS2.SSS0.Px3.p1.1" class="ltx_p">We consider other normalization layers in <a href="#S9.T4" title="Table 4 ‣ 9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 4</span></a>. <span id="S8.SS2.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> performs favorably. Interestingly, the normalization-free <span id="S8.SS2.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_smallcaps">Fixup</span> <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a href="#bib.bib76" title="" class="ltx_ref">2019</a>)</cite> initialization for residual networks<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><cite class="ltx_cite ltx_citemacro_citet">Zhuang &amp; Lyu (<a href="#bib.bib81" title="" class="ltx_ref">2023</a>)</cite> also reported improvement by scaled weight normalization, similar to <cite class="ltx_cite ltx_citemacro_citep">(Qiao et al., <a href="#bib.bib55" title="" class="ltx_ref">2019</a>)</cite> in <a href="#S9.T4" title="Table 4 ‣ 9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 4</span></a>.</span></span></span> notably outperforms <span id="S8.SS2.SSS0.Px3.p1.1.3" class="ltx_text ltx_font_smallcaps">GN</span>, suggesting a new alternative in FL besides <span id="S8.SS2.SSS0.Px3.p1.1.4" class="ltx_text ltx_font_smallcaps">FixBN</span>.</p>
</div>
<div id="S8.SS2.SSS0.Px3.p2" class="ltx_para">
<p id="S8.SS2.SSS0.Px3.p2.2" class="ltx_p">In <a href="#S9.T5" title="Table 5 ‣ 9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 5</span></a>, we further apply <span id="S8.SS2.SSS0.Px3.p2.2.1" class="ltx_text ltx_font_smallcaps">FixBN</span> to the experimental setting in Table 1 of <span id="S8.SS2.SSS0.Px3.p2.2.2" class="ltx_text ltx_font_smallcaps">FedTAN</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite> to compare to other <span id="S8.SS2.SSS0.Px3.p2.2.3" class="ltx_text ltx_font_smallcaps">BN</span> variants for FL. We note that <span id="S8.SS2.SSS0.Px3.p2.2.4" class="ltx_text ltx_font_smallcaps">FedTAN</span> needs <math id="S8.SS2.SSS0.Px3.p2.1.m1.1" class="ltx_Math" alttext="\Theta(3L+1)" display="inline"><semantics id="S8.SS2.SSS0.Px3.p2.1.m1.1a"><mrow id="S8.SS2.SSS0.Px3.p2.1.m1.1.1" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.cmml"><mi mathvariant="normal" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.3" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.3.cmml">Θ</mi><mo lspace="0em" rspace="0em" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.2" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.2.cmml">​</mo><mrow id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.2" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml"><mrow id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml"><mn id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.2" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.1" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.1.cmml">​</mo><mi id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.3" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.3.cmml">L</mi></mrow><mo id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.1" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.cmml">+</mo><mn id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.3" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.3" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px3.p2.1.m1.1b"><apply id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1"><times id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.2.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.2"></times><ci id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.3.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.3">Θ</ci><apply id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1"><plus id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.1"></plus><apply id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2"><times id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.1.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.1"></times><cn type="integer" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.2.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.2">3</cn><ci id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.3.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.3">𝐿</ci></apply><cn type="integer" id="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.3.cmml" xref="S8.SS2.SSS0.Px3.p2.1.m1.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px3.p2.1.m1.1c">\Theta(3L+1)</annotation></semantics></math> communication rounds linear to the numbers of <span id="S8.SS2.SSS0.Px3.p2.2.5" class="ltx_text ltx_font_smallcaps">BN</span> layers <math id="S8.SS2.SSS0.Px3.p2.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S8.SS2.SSS0.Px3.p2.2.m2.1a"><mi id="S8.SS2.SSS0.Px3.p2.2.m2.1.1" xref="S8.SS2.SSS0.Px3.p2.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S8.SS2.SSS0.Px3.p2.2.m2.1b"><ci id="S8.SS2.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S8.SS2.SSS0.Px3.p2.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.SS2.SSS0.Px3.p2.2.m2.1c">L</annotation></semantics></math>, which is much more expensive than <span id="S8.SS2.SSS0.Px3.p2.2.6" class="ltx_text ltx_font_smallcaps">FixBN</span>. <span id="S8.SS2.SSS0.Px3.p2.2.7" class="ltx_text ltx_font_smallcaps">HeteroFL</span> <cite class="ltx_cite ltx_citemacro_citep">(Diao et al., <a href="#bib.bib14" title="" class="ltx_ref">2020</a>)</cite> directly normalizes the activations, which cannot resolve the non-IID issue.
We note that <span id="S8.SS2.SSS0.Px3.p2.2.8" class="ltx_text ltx_font_smallcaps">FedBN</span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib42" title="" class="ltx_ref">2021</a>)</cite> was proposed for personalized FL, beyond the scope of this paper.</p>
</div>
</section>
</section>
</section>
<section id="S9" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">9 </span>Further Analysis following <a href="#S4" title="4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 4</span></a>
</h2>

<div id="S9.p1" class="ltx_para">
<p id="S9.p1.1" class="ltx_p">We extend our discussion about <a href="#S3.F2" title="Figure 2 ‣ Federated Learning (FL). ‣ 3 Background ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a>. It is well-known that increasing the number of local steps per round leads to greater drifts of the model from centralized learning <cite class="ltx_cite ltx_citemacro_citep">(Karimireddy et al., <a href="#bib.bib32" title="" class="ltx_ref">2020b</a>)</cite>.
However, using more local steps also updates the local models more, potentially leading to an improved average model. To balance these competing considerations, we discuss two criteria. For <span id="S9.p1.1.1" class="ltx_text ltx_font_bold">(a) fixed 128 epochs</span>, more local steps mean fewer communication rounds, in which <span id="S9.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> degrades monotonically “as expected”. <em id="S9.p1.1.3" class="ltx_emph ltx_font_italic">Interestingly, <span id="S9.p1.1.3.1" class="ltx_text ltx_font_smallcaps">BN</span> has an opposite trend.</em> <span id="S9.p1.1.4" class="ltx_text ltx_font_smallcaps">BN</span> actually improves and outperforms <span id="S9.p1.1.5" class="ltx_text ltx_font_smallcaps">GN</span> with larger <math id="S9.p1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S9.p1.1.m1.1a"><mi id="S9.p1.1.m1.1.1" xref="S9.p1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S9.p1.1.m1.1b"><ci id="S9.p1.1.m1.1.1.cmml" xref="S9.p1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S9.p1.1.m1.1c">E</annotation></semantics></math>s. For <span id="S9.p1.1.6" class="ltx_text ltx_font_bold">(b) fixed 128 rounds</span>, understandably, using more local steps improves both <span id="S9.p1.1.7" class="ltx_text ltx_font_smallcaps">GN</span> and <span id="S9.p1.1.8" class="ltx_text ltx_font_smallcaps">BN</span>, since more local SGD updates are made in total.</p>
</div>
<figure id="S9.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span><span id="S9.T4.2.1" class="ltx_text" style="font-size:90%;">Normalization layers on CIFAR-10 (Shards, <math id="S9.T4.2.1.m1.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="S9.T4.2.1.m1.1b"><mrow id="S9.T4.2.1.m1.1.1" xref="S9.T4.2.1.m1.1.1.cmml"><mi id="S9.T4.2.1.m1.1.1.2" xref="S9.T4.2.1.m1.1.1.2.cmml">E</mi><mo id="S9.T4.2.1.m1.1.1.1" xref="S9.T4.2.1.m1.1.1.1.cmml">=</mo><mn id="S9.T4.2.1.m1.1.1.3" xref="S9.T4.2.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S9.T4.2.1.m1.1c"><apply id="S9.T4.2.1.m1.1.1.cmml" xref="S9.T4.2.1.m1.1.1"><eq id="S9.T4.2.1.m1.1.1.1.cmml" xref="S9.T4.2.1.m1.1.1.1"></eq><ci id="S9.T4.2.1.m1.1.1.2.cmml" xref="S9.T4.2.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S9.T4.2.1.m1.1.1.3.cmml" xref="S9.T4.2.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.2.1.m1.1d">E=100</annotation></semantics></math>).</span></figcaption>
<table id="S9.T4.9" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S9.T4.9.8" class="ltx_tr">
<td id="S9.T4.9.8.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_tt" style="padding:-1pt 1.0pt;"><span id="S9.T4.9.8.1.1" class="ltx_text" style="font-size:80%;">Normalization Layer</span></td>
<td id="S9.T4.9.8.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1pt 1.0pt;"><span id="S9.T4.9.8.2.1" class="ltx_text" style="font-size:80%;">Acc (%)</span></td>
</tr>
<tr id="S9.T4.3.1" class="ltx_tr">
<td id="S9.T4.3.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 1.0pt;">
<span id="S9.T4.3.1.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span><span id="S9.T4.3.1.2.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.3.1.2.3.1" class="ltx_text" style="font-size:80%;">(</span>Ioffe &amp; Szegedy<span id="S9.T4.3.1.2.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib27" title="" class="ltx_ref">2015</a><span id="S9.T4.3.1.2.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.3.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1pt 1.0pt;">
<span id="S9.T4.3.1.1.1" class="ltx_text" style="font-size:80%;">53.97 </span><math id="S9.T4.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.3.1.1.m1.1a"><mo mathsize="70%" id="S9.T4.3.1.1.m1.1.1" xref="S9.T4.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.3.1.1.m1.1b"><csymbol cd="latexml" id="S9.T4.3.1.1.m1.1.1.cmml" xref="S9.T4.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.3.1.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.3.1.1.2" class="ltx_text" style="font-size:70%;"> 4.18</span>
</td>
</tr>
<tr id="S9.T4.4.2" class="ltx_tr">
<td id="S9.T4.4.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.0pt;">
<span id="S9.T4.4.2.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span><span id="S9.T4.4.2.2.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.4.2.2.3.1" class="ltx_text" style="font-size:80%;">(</span>Wu &amp; He<span id="S9.T4.4.2.2.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib67" title="" class="ltx_ref">2018</a><span id="S9.T4.4.2.2.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.4.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.0pt;">
<span id="S9.T4.4.2.1.1" class="ltx_text" style="font-size:80%;">59.69 </span><math id="S9.T4.4.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.4.2.1.m1.1a"><mo mathsize="70%" id="S9.T4.4.2.1.m1.1.1" xref="S9.T4.4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.4.2.1.m1.1b"><csymbol cd="latexml" id="S9.T4.4.2.1.m1.1.1.cmml" xref="S9.T4.4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.4.2.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.4.2.1.2" class="ltx_text" style="font-size:70%;"> 0.76</span>
</td>
</tr>
<tr id="S9.T4.5.3" class="ltx_tr">
<td id="S9.T4.5.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.0pt;">
<span id="S9.T4.5.3.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span><span id="S9.T4.5.3.2.2" class="ltx_text" style="font-size:80%;"> +</span><span id="S9.T4.5.3.2.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">WN</span><span id="S9.T4.5.3.2.4" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.5.3.2.5.1" class="ltx_text" style="font-size:80%;">(</span>Qiao et al.<span id="S9.T4.5.3.2.6.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib55" title="" class="ltx_ref">2019</a><span id="S9.T4.5.3.2.7.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.5.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.0pt;">
<span id="S9.T4.5.3.1.1" class="ltx_text" style="font-size:80%;">66.90 </span><math id="S9.T4.5.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.5.3.1.m1.1a"><mo mathsize="70%" id="S9.T4.5.3.1.m1.1.1" xref="S9.T4.5.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.5.3.1.m1.1b"><csymbol cd="latexml" id="S9.T4.5.3.1.m1.1.1.cmml" xref="S9.T4.5.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.5.3.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.5.3.1.2" class="ltx_text" style="font-size:70%;"> 0.81</span>
</td>
</tr>
<tr id="S9.T4.6.4" class="ltx_tr">
<td id="S9.T4.6.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.0pt;">
<span id="S9.T4.6.4.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">LN</span><span id="S9.T4.6.4.2.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.6.4.2.3.1" class="ltx_text" style="font-size:80%;">(</span>Ba et al.<span id="S9.T4.6.4.2.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib3" title="" class="ltx_ref">2016</a><span id="S9.T4.6.4.2.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.6.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.0pt;">
<span id="S9.T4.6.4.1.1" class="ltx_text" style="font-size:80%;">54.54 </span><math id="S9.T4.6.4.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.6.4.1.m1.1a"><mo mathsize="70%" id="S9.T4.6.4.1.m1.1.1" xref="S9.T4.6.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.6.4.1.m1.1b"><csymbol cd="latexml" id="S9.T4.6.4.1.m1.1.1.cmml" xref="S9.T4.6.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.6.4.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.6.4.1.2" class="ltx_text" style="font-size:70%;"> 1.21</span>
</td>
</tr>
<tr id="S9.T4.7.5" class="ltx_tr">
<td id="S9.T4.7.5.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.0pt;">
<span id="S9.T4.7.5.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">IN</span><span id="S9.T4.7.5.2.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.7.5.2.3.1" class="ltx_text" style="font-size:80%;">(</span>Ulyanov et al.<span id="S9.T4.7.5.2.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib63" title="" class="ltx_ref">2016</a><span id="S9.T4.7.5.2.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.7.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.0pt;">
<span id="S9.T4.7.5.1.1" class="ltx_text" style="font-size:80%;">59.76 </span><math id="S9.T4.7.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.7.5.1.m1.1a"><mo mathsize="70%" id="S9.T4.7.5.1.m1.1.1" xref="S9.T4.7.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.7.5.1.m1.1b"><csymbol cd="latexml" id="S9.T4.7.5.1.m1.1.1.cmml" xref="S9.T4.7.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.7.5.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.7.5.1.2" class="ltx_text" style="font-size:70%;"> 0.43</span>
</td>
</tr>
<tr id="S9.T4.8.6" class="ltx_tr">
<td id="S9.T4.8.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 1.0pt;">
<span id="S9.T4.8.6.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">Fixup</span><span id="S9.T4.8.6.2.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T4.8.6.2.3.1" class="ltx_text" style="font-size:80%;">(</span>Zhang et al.<span id="S9.T4.8.6.2.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib76" title="" class="ltx_ref">2019</a><span id="S9.T4.8.6.2.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T4.8.6.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 1.0pt;">
<span id="S9.T4.8.6.1.1" class="ltx_text" style="font-size:80%;">70.66 </span><math id="S9.T4.8.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.8.6.1.m1.1a"><mo mathsize="70%" id="S9.T4.8.6.1.m1.1.1" xref="S9.T4.8.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.8.6.1.m1.1b"><csymbol cd="latexml" id="S9.T4.8.6.1.m1.1.1.cmml" xref="S9.T4.8.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.8.6.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.8.6.1.2" class="ltx_text" style="font-size:70%;"> 0.24</span>
</td>
</tr>
<tr id="S9.T4.9.7" class="ltx_tr">
<td id="S9.T4.9.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding:-1pt 1.0pt;"><span id="S9.T4.9.7.2.1" class="ltx_text ltx_font_bold ltx_font_smallcaps" style="font-size:80%;">FixBN<span id="S9.T4.9.7.2.1.1" class="ltx_text ltx_font_upright"> (Ours)</span></span></td>
<td id="S9.T4.9.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1pt 1.0pt;">
<span id="S9.T4.9.7.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">76.56</span><span id="S9.T4.9.7.1.2" class="ltx_text" style="font-size:80%;"> </span><math id="S9.T4.9.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S9.T4.9.7.1.m1.1a"><mo mathsize="70%" id="S9.T4.9.7.1.m1.1.1" xref="S9.T4.9.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S9.T4.9.7.1.m1.1b"><csymbol cd="latexml" id="S9.T4.9.7.1.m1.1.1.cmml" xref="S9.T4.9.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S9.T4.9.7.1.m1.1c">\pm</annotation></semantics></math><span id="S9.T4.9.7.1.3" class="ltx_text" style="font-size:70%;"> 0.66</span>
</td>
</tr>
</table>
</figure>
<figure id="S9.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span><span id="S9.T5.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Other FL normalization methods.<span id="S9.T5.2.1.1" class="ltx_text ltx_font_medium"> The setting follows <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib66" title="" class="ltx_ref">2023</a>)</cite>: ResNet20 on CIFAR-10 given # of rounds.</span></span></figcaption>
<table id="S9.T5.3" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S9.T5.3.1" class="ltx_tr">
<td id="S9.T5.3.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_tt" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.1.1.1" class="ltx_text" style="font-size:80%;">FL Scheme</span></td>
<td id="S9.T5.3.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_tt" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.1.2.1" class="ltx_text" style="font-size:80%;">#R</span></td>
<td id="S9.T5.3.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.1.3.1" class="ltx_text" style="font-size:80%;">IID</span></td>
<td id="S9.T5.3.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.1.4.1" class="ltx_text" style="font-size:80%;">Non-IID</span></td>
</tr>
<tr id="S9.T5.3.2" class="ltx_tr">
<td id="S9.T5.3.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.2.1.1" class="ltx_text" style="font-size:80%;">Centralized+</span><span id="S9.T5.3.2.1.2" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span>
</td>
<td id="S9.T5.3.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.2.2.1" class="ltx_text" style="font-size:80%;">-</span></td>
<td id="S9.T5.3.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1pt 0.8pt;" colspan="2"><span id="S9.T5.3.2.3.1" class="ltx_text" style="font-size:80%;">91.53</span></td>
</tr>
<tr id="S9.T5.3.3" class="ltx_tr">
<td id="S9.T5.3.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.3.1.1" class="ltx_text" style="font-size:80%;">Centralized+</span><span id="S9.T5.3.3.1.2" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FixBN</span>
</td>
<td id="S9.T5.3.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.3.2.1" class="ltx_text" style="font-size:80%;">-</span></td>
<td id="S9.T5.3.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;" colspan="2"><span id="S9.T5.3.3.3.1" class="ltx_text" style="font-size:80%;">91.62</span></td>
</tr>
<tr id="S9.T5.3.4" class="ltx_tr">
<td id="S9.T5.3.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.4.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FedTAN</span><span id="S9.T5.3.4.1.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T5.3.4.1.3.1" class="ltx_text" style="font-size:80%;">(</span>Wang et al.<span id="S9.T5.3.4.1.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib66" title="" class="ltx_ref">2023</a><span id="S9.T5.3.4.1.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T5.3.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.4.2.1" class="ltx_text" style="font-size:80%;">580K</span></td>
<td id="S9.T5.3.4.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.4.3.1" class="ltx_text" style="font-size:80%;">91.26</span></td>
<td id="S9.T5.3.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.4.4.1" class="ltx_text" style="font-size:80%;">87.66</span></td>
</tr>
<tr id="S9.T5.3.5" class="ltx_tr">
<td id="S9.T5.3.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.5.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FedAvg</span><span id="S9.T5.3.5.1.2" class="ltx_text" style="font-size:80%;"> +</span><span id="S9.T5.3.5.1.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">BN</span>
</td>
<td id="S9.T5.3.5.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.5.2.1" class="ltx_text" style="font-size:80%;">10K</span></td>
<td id="S9.T5.3.5.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.5.3.1" class="ltx_text" style="font-size:80%;">91.35</span></td>
<td id="S9.T5.3.5.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.5.4.1" class="ltx_text" style="font-size:80%;">45.96</span></td>
</tr>
<tr id="S9.T5.3.6" class="ltx_tr">
<td id="S9.T5.3.6.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.6.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FedAvg</span><span id="S9.T5.3.6.1.2" class="ltx_text" style="font-size:80%;"> +</span><span id="S9.T5.3.6.1.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">GN</span>
</td>
<td id="S9.T5.3.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.6.2.1" class="ltx_text" style="font-size:80%;">10K</span></td>
<td id="S9.T5.3.6.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.6.3.1" class="ltx_text" style="font-size:80%;">91.26</span></td>
<td id="S9.T5.3.6.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.6.4.1" class="ltx_text" style="font-size:80%;">82.66</span></td>
</tr>
<tr id="S9.T5.3.7" class="ltx_tr">
<td id="S9.T5.3.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.7.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">HeteroFL</span><span id="S9.T5.3.7.1.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T5.3.7.1.3.1" class="ltx_text" style="font-size:80%;">(</span>Diao et al.<span id="S9.T5.3.7.1.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib14" title="" class="ltx_ref">2020</a><span id="S9.T5.3.7.1.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T5.3.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.7.2.1" class="ltx_text" style="font-size:80%;">10K</span></td>
<td id="S9.T5.3.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.7.3.1" class="ltx_text" style="font-size:80%;">91.21</span></td>
<td id="S9.T5.3.7.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.7.4.1" class="ltx_text" style="font-size:80%;">30.62</span></td>
</tr>
<tr id="S9.T5.3.8" class="ltx_tr">
<td id="S9.T5.3.8.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.8.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FedDNA</span><span id="S9.T5.3.8.1.2" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S9.T5.3.8.1.3.1" class="ltx_text" style="font-size:80%;">(</span>Duan et al.<span id="S9.T5.3.8.1.4.2.1.1" class="ltx_text" style="font-size:80%;">, </span><a href="#bib.bib16" title="" class="ltx_ref">2021</a><span id="S9.T5.3.8.1.5.3" class="ltx_text" style="font-size:80%;">)</span></cite>
</td>
<td id="S9.T5.3.8.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_r" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.8.2.1" class="ltx_text" style="font-size:80%;">10K</span></td>
<td id="S9.T5.3.8.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.8.3.1" class="ltx_text" style="font-size:80%;">91.42</span></td>
<td id="S9.T5.3.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.8.4.1" class="ltx_text" style="font-size:80%;">76.01</span></td>
</tr>
<tr id="S9.T5.3.9" class="ltx_tr">
<td id="S9.T5.3.9.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;">
<span id="S9.T5.3.9.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FedAvg</span><span id="S9.T5.3.9.1.2" class="ltx_text" style="font-size:80%;"> +</span><span id="S9.T5.3.9.1.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FixBN</span><span id="S9.T5.3.9.1.4" class="ltx_text" style="font-size:80%;"> (Ours)</span>
</td>
<td id="S9.T5.3.9.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.9.2.1" class="ltx_text" style="font-size:80%;">10K</span></td>
<td id="S9.T5.3.9.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.9.3.1" class="ltx_text" style="font-size:80%;">91.35</span></td>
<td id="S9.T5.3.9.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1pt 0.8pt;"><span id="S9.T5.3.9.4.1" class="ltx_text" style="font-size:80%;">87.71</span></td>
</tr>
</table>
</figure>
<div id="S9.p2" class="ltx_para">
<p id="S9.p2.3" class="ltx_p">In <a href="#S9.F6" title="Figure 6 ‣ 9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 6</span></a>, we conduct a finer-grained analysis of the opposite trend. Starting from the same initial model, we vary the number of local SGD steps per round but fix the total SGD steps. We show the test accuracy of the (aggregated) global model as the training proceeds (x-axis).
Comparing <span id="S9.p2.3.1" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="S9.p2.3.2" class="ltx_text ltx_font_smallcaps">GN</span>, we see a drastically different effect of <math id="S9.p2.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S9.p2.1.m1.1a"><mi id="S9.p2.1.m1.1.1" xref="S9.p2.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S9.p2.1.m1.1b"><ci id="S9.p2.1.m1.1.1.cmml" xref="S9.p2.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S9.p2.1.m1.1c">E</annotation></semantics></math>. In particular, while the performance of <span id="S9.p2.3.3" class="ltx_text ltx_font_smallcaps">GN</span> drops along with increasing <math id="S9.p2.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S9.p2.2.m2.1a"><mi id="S9.p2.2.m2.1.1" xref="S9.p2.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S9.p2.2.m2.1b"><ci id="S9.p2.2.m2.1.1.cmml" xref="S9.p2.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S9.p2.2.m2.1c">E</annotation></semantics></math>, <span id="S9.p2.3.4" class="ltx_text ltx_font_smallcaps">BN</span> somehow benefits from a larger <math id="S9.p2.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S9.p2.3.m3.1a"><mi id="S9.p2.3.m3.1.1" xref="S9.p2.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S9.p2.3.m3.1b"><ci id="S9.p2.3.m3.1.1.cmml" xref="S9.p2.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S9.p2.3.m3.1c">E</annotation></semantics></math>. Namely, <span id="S9.p2.3.5" class="ltx_text ltx_font_smallcaps">BN</span> seems unreasonably robust to training with fewer communication rounds but more local steps per round, suggesting the need for a deeper analysis of <span id="S9.p2.3.6" class="ltx_text ltx_font_smallcaps">BN</span> in FL.</p>
</div>
<figure id="S9.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S9.F6.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/BN_Fix_Step3.png" id="S9.F6.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="417" alt="Refer to caption">
<p id="S9.F6.1.1" class="ltx_p ltx_align_center"><span id="S9.F6.1.1.1" class="ltx_text" style="font-size:90%;">(a) <span id="S9.F6.1.1.1.1" class="ltx_text ltx_font_smallcaps">GN</span></span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S9.F6.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/GN_Fix_Step3.png" id="S9.F6.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="411" alt="Refer to caption">
<p id="S9.F6.2.1" class="ltx_p ltx_align_center"><span id="S9.F6.2.1.1" class="ltx_text" style="font-size:90%;">(b) <span id="S9.F6.2.1.1.1" class="ltx_text ltx_font_smallcaps">BN</span></span></p>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span><span id="S9.F6.4.1" class="ltx_text" style="font-size:90%;">Test accuracy on CIFAR-10 for different local steps (<math id="S9.F6.4.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S9.F6.4.1.m1.1b"><mi id="S9.F6.4.1.m1.1.1" xref="S9.F6.4.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S9.F6.4.1.m1.1c"><ci id="S9.F6.4.1.m1.1.1.cmml" xref="S9.F6.4.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S9.F6.4.1.m1.1d">E</annotation></semantics></math>) per round, given a fixed total SGD steps. X-axis: training progress.</span></figcaption>
</figure>
</section>
<section id="S10" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">10 </span>Conclusion</h2>

<div id="S10.p1" class="ltx_para">
<p id="S10.p1.1" class="ltx_p">We revisit the use of <span id="S10.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> and its common alternative, <span id="S10.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span>, in federated learning (FL) and conduct an in-depth analysis. We find <span id="S10.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> outperforms <span id="S10.p1.1.4" class="ltx_text ltx_font_smallcaps">GN</span> in many FL settings, except for high-frequency and extreme non-IID regimes. We reinvestigate the issues with <span id="S10.p1.1.5" class="ltx_text ltx_font_smallcaps">BN</span> in FL and propose a simple yet effective practice, <span id="S10.p1.1.6" class="ltx_text ltx_font_smallcaps">FixBN</span>, to mitigate them while retaining the positive impacts of <span id="S10.p1.1.7" class="ltx_text ltx_font_smallcaps">BN</span>. We hope our study provides the community with a good foundation for the full (theoretical) understanding of <span id="S10.p1.1.8" class="ltx_text ltx_font_smallcaps">BN</span> towards training deeper models in FL.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="S10.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Broader Impact.</h4>

<div id="S10.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S10.SS0.SSS0.Px1.p1.1" class="ltx_p">This work’s goal is to advance the understanding of batch normalization in federated learning. There are many potential societal consequences of our work, none of which we feel must be specifically highlighted here.</p>
</div>
</section>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This research is supported in part by grants from the National Science Foundation (IIS-2107077 and OAC-2112606) and Cisco Research. We are thankful for the generous support of the computational resources by the Ohio Supercomputer Center.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Acar et al. (2021)</span>
<span class="ltx_bibblock">
Acar, D. A. E., Zhao, Y., Matas, R., Mattina, M., Whatmough, P., and Saligrama, V.

</span>
<span class="ltx_bibblock">Federated learning based on dynamic regularization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Andreux et al. (2020)</span>
<span class="ltx_bibblock">
Andreux, M., Terrail, J. O. d., Beguier, C., and Tramel, E. W.

</span>
<span class="ltx_bibblock">Siloed federated learning for multi-centric histopathology datasets.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">DART</em>. Springer, 2020.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ba et al. (2016)</span>
<span class="ltx_bibblock">
Ba, J. L., Kiros, J. R., and Hinton, G. E.

</span>
<span class="ltx_bibblock">Layer normalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1607.06450</em>, 2016.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bernecker et al. (2022)</span>
<span class="ltx_bibblock">
Bernecker, T., Peters, A., Schlett, C. L., Bamberg, F., Theis, F., Rueckert, D., Weiß, J., and Albarqouni, S.

</span>
<span class="ltx_bibblock">Fednorm: Modality-based normalization in federated learning for multi-modal liver segmentation.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2205.11096</em>, 2022.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bjorck et al. (2018)</span>
<span class="ltx_bibblock">
Bjorck, N., Gomes, C. P., Selman, B., and Weinberger, K. Q.

</span>
<span class="ltx_bibblock">Understanding batch normalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2018.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chai et al. (2021)</span>
<span class="ltx_bibblock">
Chai, Z., Chen, Y., Anwar, A., Zhao, L., Cheng, Y., and Rangwala, H.

</span>
<span class="ltx_bibblock">Fedat: a high-performance and communication-efficient federated learning system with asynchronous tiers.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">SC</em>, 2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Charles et al. (2021)</span>
<span class="ltx_bibblock">
Charles, Z., Garrett, Z., Huo, Z., Shmulyian, S., and Smith, V.

</span>
<span class="ltx_bibblock">On large-cohort training for federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2021.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen &amp; Chao (2021)</span>
<span class="ltx_bibblock">
Chen, H.-Y. and Chao, W.-L.

</span>
<span class="ltx_bibblock">Fedbe: Making bayesian model ensemble applicable to federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2021.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen &amp; Chao (2022)</span>
<span class="ltx_bibblock">
Chen, H.-Y. and Chao, W.-L.

</span>
<span class="ltx_bibblock">On bridging generic and personalized federated learning for image classification.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2022.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2023)</span>
<span class="ltx_bibblock">
Chen, H.-Y., Tu, C.-H., Li, Z., Shen, H.-W., and Chao, W.-L.

</span>
<span class="ltx_bibblock">On the importance and applicability of pre-training for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2023.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2018)</span>
<span class="ltx_bibblock">
Chen, L.-C., Zhu, Y., Papandreou, G., Schroff, F., and Adam, H.

</span>
<span class="ltx_bibblock">Encoder-decoder with atrous separable convolution for semantic image segmentation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cordts et al. (2015)</span>
<span class="ltx_bibblock">
Cordts, M., Omran, M., Ramos, S., Scharwächter, T., Enzweiler, M., Benenson, R., Franke, U., Roth, S., and Schiele, B.

</span>
<span class="ltx_bibblock">The cityscapes dataset.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">CVPR Workshop on The Future of Datasets in Vision</em>, 2015.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2009)</span>
<span class="ltx_bibblock">
Deng, J., Dong, W., Socher, R., Li, L.-J., Li, K., and Fei-Fei, L.

</span>
<span class="ltx_bibblock">Imagenet: A large-scale hierarchical image database.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2009.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Diao et al. (2020)</span>
<span class="ltx_bibblock">
Diao, E., Ding, J., and Tarokh, V.

</span>
<span class="ltx_bibblock">Heterofl: Computation and communication efficient federated learning for heterogeneous clients.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2020.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al. (2022)</span>
<span class="ltx_bibblock">
Du, Z., Sun, J., Li, A., Chen, P.-Y., Zhang, J., Li, H. H., and Chen, Y.

</span>
<span class="ltx_bibblock">Rethinking normalization methods in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 3rd International Workshop on Distributed Machine Learning</em>, 2022.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Duan et al. (2021)</span>
<span class="ltx_bibblock">
Duan, J.-H., Li, W., and Lu, S.

</span>
<span class="ltx_bibblock">Feddna: Federated learning with decoupled normalization-layer aggregation for non-iid data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Joint European Conference on Machine Learning and Knowledge Discovery in Databases</em>. Springer, 2021.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Garbin et al. (2020)</span>
<span class="ltx_bibblock">
Garbin, C., Zhu, X., and Marques, O.

</span>
<span class="ltx_bibblock">Dropout vs. batch normalization: an empirical study of their impact to deep learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Multimedia Tools and Applications</em>, 2020.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Haddadpour &amp; Mahdavi (2019)</span>
<span class="ltx_bibblock">
Haddadpour, F. and Mahdavi, M.

</span>
<span class="ltx_bibblock">On the convergence of local descent methods in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1910.14425</em>, 2019.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2020)</span>
<span class="ltx_bibblock">
He, C., Annavaram, M., and Avestimehr, S.

</span>
<span class="ltx_bibblock">Group knowledge transfer: Federated learning of large cnns at the edge.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2016)</span>
<span class="ltx_bibblock">
He, K., Zhang, X., Ren, S., and Sun, J.

</span>
<span class="ltx_bibblock">Deep residual learning for image recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2016.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hong et al. (2021)</span>
<span class="ltx_bibblock">
Hong, J., Wang, H., Wang, Z., and Zhou, J.

</span>
<span class="ltx_bibblock">Federated robustness propagation: Sharing adversarial robustness in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.10196</em>, 2021.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hosseini et al. (2021)</span>
<span class="ltx_bibblock">
Hosseini, H., Park, H., Yun, S., Louizos, C., Soriaga, J., and Welling, M.

</span>
<span class="ltx_bibblock">Federated learning of user verification models without sharing embeddings.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">ICML</em>. PMLR, 2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsieh et al. (2020)</span>
<span class="ltx_bibblock">
Hsieh, K., Phanishayee, A., Mutlu, O., and Gibbons, P.

</span>
<span class="ltx_bibblock">The non-iid data quagmire of decentralized machine learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">ICML</em>. PMLR, 2020.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. (2019)</span>
<span class="ltx_bibblock">
Hsu, T.-M. H., Qi, H., and Brown, M.

</span>
<span class="ltx_bibblock">Measuring the effects of non-identical data distribution for federated visual classification.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.06335</em>, 2019.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hyeon-Woo et al. (2021)</span>
<span class="ltx_bibblock">
Hyeon-Woo, N., Ye-Bin, M., and Oh, T.-H.

</span>
<span class="ltx_bibblock">Fedpara: Low-rank hadamard product for communication-efficient federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2108.06098</em>, 2021.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Idrissi et al. (2021)</span>
<span class="ltx_bibblock">
Idrissi, M. J., Berrada, I., and Noubir, G.

</span>
<span class="ltx_bibblock">Fedbs: Learning on non-iid data in federated learning using batch normalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">2021 IEEE 33rd International Conference on Tools with Artificial Intelligence (ICTAI)</em>. IEEE, 2021.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ioffe &amp; Szegedy (2015)</span>
<span class="ltx_bibblock">
Ioffe, S. and Szegedy, C.

</span>
<span class="ltx_bibblock">Batch normalization: Accelerating deep network training by reducing internal covariate shift.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">ICML</em>. PMLR, 2015.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2021)</span>
<span class="ltx_bibblock">
Jiang, M., Zhang, X., Kamp, M., Li, X., and Dou, Q.

</span>
<span class="ltx_bibblock">Tsmobn: Interventional generalization for unseen clients in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.09974</em>, 2021.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. (2022)</span>
<span class="ltx_bibblock">
Jin, J., Ren, J., Zhou, Y., Lyu, L., Liu, J., and Dou, D.

</span>
<span class="ltx_bibblock">Accelerated federated learning with decoupled adaptive optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">ICML</em>. PMLR, 2022.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2019)</span>
<span class="ltx_bibblock">
Kairouz, P., McMahan, H. B., Avent, B., Bellet, A., Bennis, M., Bhagoji, A. N., Bonawitz, K., Charles, Z., Cormode, G., Cummings, R., et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1912.04977</em>, 2019.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. (2020a)</span>
<span class="ltx_bibblock">
Karimireddy, S. P., Jaggi, M., Kale, S., Mohri, M., Reddi, S. J., Stich, S. U., and Suresh, A. T.

</span>
<span class="ltx_bibblock">Mime: Mimicking centralized stochastic algorithms in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2008.03606</em>, 2020a.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. (2020b)</span>
<span class="ltx_bibblock">
Karimireddy, S. P., Kale, S., Mohri, M., Reddi, S., Stich, S., and Suresh, A. T.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2020b.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khodak et al. (2021)</span>
<span class="ltx_bibblock">
Khodak, M., Tu, R., Li, T., Li, L., Balcan, M.-F. F., Smith, V., and Talwalkar, A.

</span>
<span class="ltx_bibblock">Federated hyperparameter tuning: Challenges, baselines, and connections to weight-sharing.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 34:19184–19197, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krizhevsky et al. (2009)</span>
<span class="ltx_bibblock">
Krizhevsky, A., Hinton, G., et al.

</span>
<span class="ltx_bibblock">Learning multiple layers of features from tiny images.

</span>
<span class="ltx_bibblock">2009.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Le &amp; Yang (2015)</span>
<span class="ltx_bibblock">
Le, Y. and Yang, X.

</span>
<span class="ltx_bibblock">Tiny imagenet visual recognition challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">CS 231N</em>, 2015.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LeCun et al. (1998)</span>
<span class="ltx_bibblock">
LeCun, Y., Bottou, L., Bengio, Y., and Haffner, P.

</span>
<span class="ltx_bibblock">Gradient-based learning applied to document recognition.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE</em>, 1998.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2019)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Zaheer, M., Sanjabi, M., Talwalkar, A., and Smithy, V.

</span>
<span class="ltx_bibblock">Feddane: A federated newton-type method.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">2019 53rd Asilomar Conference on Signals, Systems, and Computers</em>, 2019.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Li, T., Hu, S., Beirami, A., and Smith, V.

</span>
<span class="ltx_bibblock">Ditto: Fair and robust federated learning through.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2012.04221</em>, 2020a.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">IEEE Signal Processing Magazine</em>, 2020b.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020c)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Zaheer, M., Sanjabi, M., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning and Systems</em>, 2020c.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020d)</span>
<span class="ltx_bibblock">
Li, X., Huang, K., Yang, W., Wang, S., and Zhang, Z.

</span>
<span class="ltx_bibblock">On the convergence of fedavg on non-iid data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2020d.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Li, X., JIANG, M., Zhang, X., Kamp, M., and Dou, Q.

</span>
<span class="ltx_bibblock">Fed{bn}: Federated learning on non-{iid} features via local batch normalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2021.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2016)</span>
<span class="ltx_bibblock">
Li, Y., Wang, N., Shi, J., Liu, J., and Hou, X.

</span>
<span class="ltx_bibblock">Revisiting batch normalization for practical domain adaptation.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1603.04779</em>, 2016.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. (2019)</span>
<span class="ltx_bibblock">
Liang, X., Shen, S., Liu, J., Pan, Z., Chen, E., and Cheng, Y.

</span>
<span class="ltx_bibblock">Variance reduced local sgd with lower communication complexity.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1912.12844</em>, 2019.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2020)</span>
<span class="ltx_bibblock">
Lin, T., Kong, L., Stich, S. U., and Jaggi, M.

</span>
<span class="ltx_bibblock">Ensemble distillation for robust model fusion in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2022)</span>
<span class="ltx_bibblock">
Lu, W., Wang, J., Chen, Y., Qin, X., Xu, R., Dimitriadis, D., and Qin, T.

</span>
<span class="ltx_bibblock">Personalized federated learning with adaptive batchnorm for healthcare.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Big Data</em>, 2022.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lubana et al. (2021)</span>
<span class="ltx_bibblock">
Lubana, E. S., Dick, R., and Tanaka, H.

</span>
<span class="ltx_bibblock">Beyond batchnorm: towards a unified understanding of normalization in deep learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2021.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2019)</span>
<span class="ltx_bibblock">
Luo, P., Wang, X., Shao, W., and Peng, Z.

</span>
<span class="ltx_bibblock">Towards understanding regularization in batch normalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2019.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mansour et al. (2020)</span>
<span class="ltx_bibblock">
Mansour, Y., Mohri, M., Ro, J., and Suresh, A. T.

</span>
<span class="ltx_bibblock">Three approaches for personalization with applications to federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.10619</em>, 2020.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, H. B., Moore, E., Ramage, D., Hampson, S., et al.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">AISTATS</em>, 2017.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mohamad et al. (2022)</span>
<span class="ltx_bibblock">
Mohamad, M., Neubert, J., and Argayo, J. S.

</span>
<span class="ltx_bibblock">Fedos: using open-set learning to stabilize training in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2208.11512</em>, 2022.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nguyen et al. (2023)</span>
<span class="ltx_bibblock">
Nguyen, J., Malik, K., Sanjabi, M., and Rabbat, M.

</span>
<span class="ltx_bibblock">Where to begin? exploring the impact of pre-training and initialization in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2023.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">ONNX (2023)</span>
<span class="ltx_bibblock">
ONNX.

</span>
<span class="ltx_bibblock">Open neural network exchange (onnx) model zoo.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/onnx/models" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/onnx/models</a>, 2023.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">PyTorch (2023)</span>
<span class="ltx_bibblock">
PyTorch.

</span>
<span class="ltx_bibblock">Pytorch hub.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://pytorch.org/hub/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://pytorch.org/hub/</a>, 2023.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiao et al. (2019)</span>
<span class="ltx_bibblock">
Qiao, S., Wang, H., Liu, C., Shen, W., and Yuille, A.

</span>
<span class="ltx_bibblock">Micro-batch training with batch-channel normalization and weight standardization.

</span>
<span class="ltx_bibblock"><em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1903.10520</em>, 2019.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2020)</span>
<span class="ltx_bibblock">
Reddi, S., Charles, Z., Zaheer, M., Garrett, Z., Rush, K., Konečnỳ, J., Kumar, S., and McMahan, H. B.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2020.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2021)</span>
<span class="ltx_bibblock">
Reddi, S., Charles, Z., Zaheer, M., Garrett, Z., Rush, K., Konečnỳ, J., Kumar, S., and McMahan, H. B.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2021.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sandler et al. (2018)</span>
<span class="ltx_bibblock">
Sandler, M., Howard, A., Zhu, M., Zhmoginov, A., and Chen, L.-C.

</span>
<span class="ltx_bibblock">Mobilenetv2: Inverted residuals and linear bottlenecks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Santurkar et al. (2018)</span>
<span class="ltx_bibblock">
Santurkar, S., Tsipras, D., Ilyas, A., and Madry, A.

</span>
<span class="ltx_bibblock">How does batch normalization help optimization?

</span>
<span class="ltx_bibblock"><em id="bib.bib59.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2018.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Smith et al. (2017)</span>
<span class="ltx_bibblock">
Smith, V., Chiang, C.-K., Sanjabi, M., and Talwalkar, A. S.

</span>
<span class="ltx_bibblock">Federated multi-task learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib60.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stich (2019)</span>
<span class="ltx_bibblock">
Stich, S. U.

</span>
<span class="ltx_bibblock">Local sgd converges fast and communicates little.

</span>
<span class="ltx_bibblock">In <em id="bib.bib61.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2019.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tenison et al. (2022)</span>
<span class="ltx_bibblock">
Tenison, I., Sreeramadas, S. A., Mugunthan, V., Oyallon, E., Belilovsky, E., and Rish, I.

</span>
<span class="ltx_bibblock">Gradient masked averaging for federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib62.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2201.11986</em>, 2022.

</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ulyanov et al. (2016)</span>
<span class="ltx_bibblock">
Ulyanov, D., Vedaldi, A., and Lempitsky, V.

</span>
<span class="ltx_bibblock">Instance normalization: The missing ingredient for fast stylization.

</span>
<span class="ltx_bibblock"><em id="bib.bib63.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1607.08022</em>, 2016.

</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2020)</span>
<span class="ltx_bibblock">
Wang, H., Yurochkin, M., Sun, Y., Papailiopoulos, D., and Khazaeni, Y.

</span>
<span class="ltx_bibblock">Federated learning with matched averaging.

</span>
<span class="ltx_bibblock">In <em id="bib.bib64.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2020.

</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2021)</span>
<span class="ltx_bibblock">
Wang, Y., Xu, Y., Shi, Q., and Chang, T.-H.

</span>
<span class="ltx_bibblock">Quantized federated learning under transmission delay and outage constraints.

</span>
<span class="ltx_bibblock"><em id="bib.bib65.1.1" class="ltx_emph ltx_font_italic">IEEE Journal on Selected Areas in Communications</em>, 2021.

</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Wang, Y., Shi, Q., and Chang, T.-H.

</span>
<span class="ltx_bibblock">Why batch normalization damage federated learning on non-iid data?

</span>
<span class="ltx_bibblock"><em id="bib.bib66.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2301.02982</em>, 2023.

</span>
</li>
<li id="bib.bib67" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu &amp; He (2018)</span>
<span class="ltx_bibblock">
Wu, Y. and He, K.

</span>
<span class="ltx_bibblock">Group normalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib67.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2018.

</span>
</li>
<li id="bib.bib68" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2019)</span>
<span class="ltx_bibblock">
Yang, G., Pennington, J., Rao, V., Sohl-Dickstein, J., and Schoenholz, S. S.

</span>
<span class="ltx_bibblock">A mean field theory of batch normalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib68.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1902.08129</em>, 2019.

</span>
</li>
<li id="bib.bib69" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2022)</span>
<span class="ltx_bibblock">
Yang, S., Hwang, H., Kim, D., Dua, R., Kim, J.-Y., Yang, E., and Choi, E.

</span>
<span class="ltx_bibblock">Towards the practical utility of federated learning in the medical domain.

</span>
<span class="ltx_bibblock"><em id="bib.bib69.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2207.03075</em>, 2022.

</span>
</li>
<li id="bib.bib70" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2021)</span>
<span class="ltx_bibblock">
Yu, F., Zhang, W., Qin, Z., Xu, Z., Wang, D., Liu, C., Tian, Z., and Chen, X.

</span>
<span class="ltx_bibblock">Fed2: Feature-aligned federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib70.1.1" class="ltx_emph ltx_font_italic">KDD</em>, 2021.

</span>
</li>
<li id="bib.bib71" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2020)</span>
<span class="ltx_bibblock">
Yu, T., Bagdasaryan, E., and Shmatikov, V.

</span>
<span class="ltx_bibblock">Salvaging federated learning by local adaptation.

</span>
<span class="ltx_bibblock"><em id="bib.bib71.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.04758</em>, 2020.

</span>
</li>
<li id="bib.bib72" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan &amp; Ma (2020)</span>
<span class="ltx_bibblock">
Yuan, H. and Ma, T.

</span>
<span class="ltx_bibblock">Federated accelerated stochastic gradient descent.

</span>
<span class="ltx_bibblock">In <em id="bib.bib72.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib73" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al. (2021)</span>
<span class="ltx_bibblock">
Yuan, H., Morningstar, W., Ning, L., and Singhal, K.

</span>
<span class="ltx_bibblock">What do we mean by generalization in federated learning?

</span>
<span class="ltx_bibblock">In <em id="bib.bib73.1.1" class="ltx_emph ltx_font_italic">ICLR</em>, 2021.

</span>
</li>
<li id="bib.bib74" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yurochkin et al. (2019)</span>
<span class="ltx_bibblock">
Yurochkin, M., Agarwal, M., Ghosh, S., Greenewald, K., Hoang, T. N., and Khazaeni, Y.

</span>
<span class="ltx_bibblock">Bayesian nonparametric federated learning of neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib74.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2019.

</span>
</li>
<li id="bib.bib75" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2023)</span>
<span class="ltx_bibblock">
Zhang, G., Beitollahi, M., Bie, A., and Chen, X.

</span>
<span class="ltx_bibblock">Normalization is all you need: Understanding layer-normalized federated learning under extreme label shift.

</span>
<span class="ltx_bibblock"><em id="bib.bib75.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2308.09565</em>, 2023.

</span>
</li>
<li id="bib.bib76" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2019)</span>
<span class="ltx_bibblock">
Zhang, H., Dauphin, Y. N., and Ma, T.

</span>
<span class="ltx_bibblock">Fixup initialization: Residual learning without normalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib76.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1901.09321</em>, 2019.

</span>
</li>
<li id="bib.bib77" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2018)</span>
<span class="ltx_bibblock">
Zhao, Y., Li, M., Lai, L., Suda, N., Civin, D., and Chandra, V.

</span>
<span class="ltx_bibblock">Federated learning with non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib77.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1806.00582</em>, 2018.

</span>
</li>
<li id="bib.bib78" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al. (2020)</span>
<span class="ltx_bibblock">
Zheng, S., Shen, C., and Chen, X.

</span>
<span class="ltx_bibblock">Design and analysis of uplink and downlink communications for federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib78.1.1" class="ltx_emph ltx_font_italic">IEEE Journal on Selected Areas in Communications</em>, 2020.

</span>
</li>
<li id="bib.bib79" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou &amp; Cong (2017)</span>
<span class="ltx_bibblock">
Zhou, F. and Cong, G.

</span>
<span class="ltx_bibblock">On the convergence properties of a <math id="bib.bib79.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="bib.bib79.1.m1.1a"><mi id="bib.bib79.1.m1.1.1" xref="bib.bib79.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="bib.bib79.1.m1.1b"><ci id="bib.bib79.1.m1.1.1.cmml" xref="bib.bib79.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib79.1.m1.1c">k</annotation></semantics></math>-step averaging stochastic gradient descent algorithm for nonconvex optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib79.2.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1708.01012</em>, 2017.

</span>
</li>
<li id="bib.bib80" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al. (2020)</span>
<span class="ltx_bibblock">
Zhou, Y., Pu, G., Ma, X., Li, X., and Wu, D.

</span>
<span class="ltx_bibblock">Distilled one-shot federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib80.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2009.07999</em>, 2020.

</span>
</li>
<li id="bib.bib81" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang &amp; Lyu (2023)</span>
<span class="ltx_bibblock">
Zhuang, W. and Lyu, L.

</span>
<span class="ltx_bibblock">Is normalization indispensable for multi-domain federated learning?

</span>
<span class="ltx_bibblock"><em id="bib.bib81.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2306.05879</em>, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="p3" class="ltx_para">
<p id="p3.1" class="ltx_p ltx_align_center"><span id="p3.1.1" class="ltx_text ltx_font_bold" style="font-size:173%;">Appendix</span></p>
</div>
<div id="p4" class="ltx_para">
<p id="p4.1" class="ltx_p">We provide details omitted in the main paper.</p>
<ul id="A0.I1" class="ltx_itemize">
<li id="A0.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A0.I1.i1.p1" class="ltx_para">
<p id="A0.I1.i1.p1.1" class="ltx_p"><a href="#A1" title="Appendix A Experiment Details ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix A</span></a>: details of experimental setups (cf. <a href="#S6" title="6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 6</span></a> and <a href="#S9" title="9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 9</span></a> of the main paper).</p>
</div>
</li>
<li id="A0.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A0.I1.i2.p1" class="ltx_para">
<p id="A0.I1.i2.p1.1" class="ltx_p"><a href="#A2" title="Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix B</span></a>: additional experimental results and analysis (cf. <a href="#S6" title="6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 6</span></a> and <a href="#S9" title="9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 9</span></a> of the main paper).</p>
</div>
</li>
<li id="A0.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A0.I1.i3.p1" class="ltx_para">
<p id="A0.I1.i3.p1.1" class="ltx_p"><a href="#A3" title="Appendix C FixBN Algorithm ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix C</span></a>: detailed algorithm implementation of <span id="A0.I1.i3.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> (cf. <a href="#S6" title="6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 6</span></a> of the main paper).</p>
</div>
</li>
<li id="A0.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A0.I1.i4.p1" class="ltx_para">
<p id="A0.I1.i4.p1.1" class="ltx_p"><a href="#A4" title="Appendix D Training Curves ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Appendix D</span></a>: training curves for <span id="A0.I1.i4.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> vs. BN vs. GN considering different non-IID partition and local steps.</p>
</div>
</li>
</ul>
</div>
<figure id="A0.T6" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table F: </span>Summary of datasets and setups.</figcaption>
<div id="A0.T6.20" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:119.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(10.7pt,-2.9pt) scale(1.05187756702593,1.05187756702593) ;">
<table id="A0.T6.20.20" class="ltx_tabular ltx_align_middle">
<tr id="A0.T6.4.4.4" class="ltx_tr">
<td id="A0.T6.4.4.4.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.4.4.4.5.1" class="ltx_text" style="font-size:80%;">Dataset</span></td>
<td id="A0.T6.4.4.4.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.4.4.4.6.1" class="ltx_text" style="font-size:80%;">Task</span></td>
<td id="A0.T6.1.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;">
<math id="A0.T6.1.1.1.1.m1.1" class="ltx_Math" alttext="\#" display="inline"><semantics id="A0.T6.1.1.1.1.m1.1a"><mi mathsize="80%" mathvariant="normal" id="A0.T6.1.1.1.1.m1.1.1" xref="A0.T6.1.1.1.1.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A0.T6.1.1.1.1.m1.1b"><ci id="A0.T6.1.1.1.1.m1.1.1.cmml" xref="A0.T6.1.1.1.1.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.1.1.1.1.m1.1c">\#</annotation></semantics></math><span id="A0.T6.1.1.1.1.1" class="ltx_text" style="font-size:80%;">Class</span>
</td>
<td id="A0.T6.2.2.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;">
<math id="A0.T6.2.2.2.2.m1.1" class="ltx_Math" alttext="\#" display="inline"><semantics id="A0.T6.2.2.2.2.m1.1a"><mi mathsize="80%" mathvariant="normal" id="A0.T6.2.2.2.2.m1.1.1" xref="A0.T6.2.2.2.2.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A0.T6.2.2.2.2.m1.1b"><ci id="A0.T6.2.2.2.2.m1.1.1.cmml" xref="A0.T6.2.2.2.2.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.2.2.2.2.m1.1c">\#</annotation></semantics></math><span id="A0.T6.2.2.2.2.1" class="ltx_text" style="font-size:80%;">Training</span>
</td>
<td id="A0.T6.3.3.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;">
<math id="A0.T6.3.3.3.3.m1.1" class="ltx_Math" alttext="\#" display="inline"><semantics id="A0.T6.3.3.3.3.m1.1a"><mi mathsize="80%" mathvariant="normal" id="A0.T6.3.3.3.3.m1.1.1" xref="A0.T6.3.3.3.3.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A0.T6.3.3.3.3.m1.1b"><ci id="A0.T6.3.3.3.3.m1.1.1.cmml" xref="A0.T6.3.3.3.3.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.3.3.3.3.m1.1c">\#</annotation></semantics></math><span id="A0.T6.3.3.3.3.1" class="ltx_text" style="font-size:80%;">Test/Valid</span>
</td>
<td id="A0.T6.4.4.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;">
<math id="A0.T6.4.4.4.4.m1.1" class="ltx_Math" alttext="\#" display="inline"><semantics id="A0.T6.4.4.4.4.m1.1a"><mi mathsize="80%" mathvariant="normal" id="A0.T6.4.4.4.4.m1.1.1" xref="A0.T6.4.4.4.4.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A0.T6.4.4.4.4.m1.1b"><ci id="A0.T6.4.4.4.4.m1.1.1.cmml" xref="A0.T6.4.4.4.4.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.4.4.4.4.m1.1c">\#</annotation></semantics></math><span id="A0.T6.4.4.4.4.1" class="ltx_text" style="font-size:80%;">Clients</span>
</td>
<td id="A0.T6.4.4.4.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.4.4.4.7.1" class="ltx_text" style="font-size:80%;">Resolution</span></td>
<td id="A0.T6.4.4.4.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.4.4.4.8.1" class="ltx_text" style="font-size:80%;">Networks</span></td>
</tr>
<tr id="A0.T6.8.8.8" class="ltx_tr">
<td id="A0.T6.8.8.8.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.8.8.8.5.1" class="ltx_text" style="font-size:80%;">CIFAR-10</span></td>
<td id="A0.T6.8.8.8.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.8.8.8.6.1" class="ltx_text" style="font-size:80%;">Classification</span></td>
<td id="A0.T6.8.8.8.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.8.8.8.7.1" class="ltx_text" style="font-size:80%;">10</span></td>
<td id="A0.T6.5.5.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.5.5.5.1.m1.1" class="ltx_Math" alttext="50K" display="inline"><semantics id="A0.T6.5.5.5.1.m1.1a"><mrow id="A0.T6.5.5.5.1.m1.1.1" xref="A0.T6.5.5.5.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.5.5.5.1.m1.1.1.2" xref="A0.T6.5.5.5.1.m1.1.1.2.cmml">50</mn><mo lspace="0em" rspace="0em" id="A0.T6.5.5.5.1.m1.1.1.1" xref="A0.T6.5.5.5.1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.5.5.5.1.m1.1.1.3" xref="A0.T6.5.5.5.1.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.5.5.5.1.m1.1b"><apply id="A0.T6.5.5.5.1.m1.1.1.cmml" xref="A0.T6.5.5.5.1.m1.1.1"><times id="A0.T6.5.5.5.1.m1.1.1.1.cmml" xref="A0.T6.5.5.5.1.m1.1.1.1"></times><cn type="integer" id="A0.T6.5.5.5.1.m1.1.1.2.cmml" xref="A0.T6.5.5.5.1.m1.1.1.2">50</cn><ci id="A0.T6.5.5.5.1.m1.1.1.3.cmml" xref="A0.T6.5.5.5.1.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.5.5.5.1.m1.1c">50K</annotation></semantics></math></td>
<td id="A0.T6.6.6.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.6.6.6.2.m1.1" class="ltx_Math" alttext="10K" display="inline"><semantics id="A0.T6.6.6.6.2.m1.1a"><mrow id="A0.T6.6.6.6.2.m1.1.1" xref="A0.T6.6.6.6.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.6.6.6.2.m1.1.1.2" xref="A0.T6.6.6.6.2.m1.1.1.2.cmml">10</mn><mo lspace="0em" rspace="0em" id="A0.T6.6.6.6.2.m1.1.1.1" xref="A0.T6.6.6.6.2.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.6.6.6.2.m1.1.1.3" xref="A0.T6.6.6.6.2.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.6.6.6.2.m1.1b"><apply id="A0.T6.6.6.6.2.m1.1.1.cmml" xref="A0.T6.6.6.6.2.m1.1.1"><times id="A0.T6.6.6.6.2.m1.1.1.1.cmml" xref="A0.T6.6.6.6.2.m1.1.1.1"></times><cn type="integer" id="A0.T6.6.6.6.2.m1.1.1.2.cmml" xref="A0.T6.6.6.6.2.m1.1.1.2">10</cn><ci id="A0.T6.6.6.6.2.m1.1.1.3.cmml" xref="A0.T6.6.6.6.2.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.6.6.6.2.m1.1c">10K</annotation></semantics></math></td>
<td id="A0.T6.7.7.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.7.7.7.3.m1.1" class="ltx_Math" alttext="5\sim 100" display="inline"><semantics id="A0.T6.7.7.7.3.m1.1a"><mrow id="A0.T6.7.7.7.3.m1.1.1" xref="A0.T6.7.7.7.3.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.7.7.7.3.m1.1.1.2" xref="A0.T6.7.7.7.3.m1.1.1.2.cmml">5</mn><mo mathsize="80%" id="A0.T6.7.7.7.3.m1.1.1.1" xref="A0.T6.7.7.7.3.m1.1.1.1.cmml">∼</mo><mn mathsize="80%" id="A0.T6.7.7.7.3.m1.1.1.3" xref="A0.T6.7.7.7.3.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.7.7.7.3.m1.1b"><apply id="A0.T6.7.7.7.3.m1.1.1.cmml" xref="A0.T6.7.7.7.3.m1.1.1"><csymbol cd="latexml" id="A0.T6.7.7.7.3.m1.1.1.1.cmml" xref="A0.T6.7.7.7.3.m1.1.1.1">similar-to</csymbol><cn type="integer" id="A0.T6.7.7.7.3.m1.1.1.2.cmml" xref="A0.T6.7.7.7.3.m1.1.1.2">5</cn><cn type="integer" id="A0.T6.7.7.7.3.m1.1.1.3.cmml" xref="A0.T6.7.7.7.3.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.7.7.7.3.m1.1c">5\sim 100</annotation></semantics></math></td>
<td id="A0.T6.8.8.8.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.8.8.8.4.m1.1" class="ltx_Math" alttext="32^{2}" display="inline"><semantics id="A0.T6.8.8.8.4.m1.1a"><msup id="A0.T6.8.8.8.4.m1.1.1" xref="A0.T6.8.8.8.4.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.8.8.8.4.m1.1.1.2" xref="A0.T6.8.8.8.4.m1.1.1.2.cmml">32</mn><mn mathsize="80%" id="A0.T6.8.8.8.4.m1.1.1.3" xref="A0.T6.8.8.8.4.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="A0.T6.8.8.8.4.m1.1b"><apply id="A0.T6.8.8.8.4.m1.1.1.cmml" xref="A0.T6.8.8.8.4.m1.1.1"><csymbol cd="ambiguous" id="A0.T6.8.8.8.4.m1.1.1.1.cmml" xref="A0.T6.8.8.8.4.m1.1.1">superscript</csymbol><cn type="integer" id="A0.T6.8.8.8.4.m1.1.1.2.cmml" xref="A0.T6.8.8.8.4.m1.1.1.2">32</cn><cn type="integer" id="A0.T6.8.8.8.4.m1.1.1.3.cmml" xref="A0.T6.8.8.8.4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.8.8.8.4.m1.1c">32^{2}</annotation></semantics></math></td>
<td id="A0.T6.8.8.8.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.8.8.8.8.1" class="ltx_text" style="font-size:80%;">LeNet-CNN, ResNet-20</span></td>
</tr>
<tr id="A0.T6.12.12.12" class="ltx_tr">
<td id="A0.T6.12.12.12.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.12.12.12.5.1" class="ltx_text" style="font-size:80%;">Tiny-ImageNet</span></td>
<td id="A0.T6.12.12.12.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.12.12.12.6.1" class="ltx_text" style="font-size:80%;">Classification</span></td>
<td id="A0.T6.12.12.12.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.12.12.12.7.1" class="ltx_text" style="font-size:80%;">200</span></td>
<td id="A0.T6.9.9.9.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.9.9.9.1.m1.1" class="ltx_Math" alttext="100K" display="inline"><semantics id="A0.T6.9.9.9.1.m1.1a"><mrow id="A0.T6.9.9.9.1.m1.1.1" xref="A0.T6.9.9.9.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.9.9.9.1.m1.1.1.2" xref="A0.T6.9.9.9.1.m1.1.1.2.cmml">100</mn><mo lspace="0em" rspace="0em" id="A0.T6.9.9.9.1.m1.1.1.1" xref="A0.T6.9.9.9.1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.9.9.9.1.m1.1.1.3" xref="A0.T6.9.9.9.1.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.9.9.9.1.m1.1b"><apply id="A0.T6.9.9.9.1.m1.1.1.cmml" xref="A0.T6.9.9.9.1.m1.1.1"><times id="A0.T6.9.9.9.1.m1.1.1.1.cmml" xref="A0.T6.9.9.9.1.m1.1.1.1"></times><cn type="integer" id="A0.T6.9.9.9.1.m1.1.1.2.cmml" xref="A0.T6.9.9.9.1.m1.1.1.2">100</cn><ci id="A0.T6.9.9.9.1.m1.1.1.3.cmml" xref="A0.T6.9.9.9.1.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.9.9.9.1.m1.1c">100K</annotation></semantics></math></td>
<td id="A0.T6.10.10.10.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.10.10.10.2.m1.1" class="ltx_Math" alttext="10K" display="inline"><semantics id="A0.T6.10.10.10.2.m1.1a"><mrow id="A0.T6.10.10.10.2.m1.1.1" xref="A0.T6.10.10.10.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.10.10.10.2.m1.1.1.2" xref="A0.T6.10.10.10.2.m1.1.1.2.cmml">10</mn><mo lspace="0em" rspace="0em" id="A0.T6.10.10.10.2.m1.1.1.1" xref="A0.T6.10.10.10.2.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.10.10.10.2.m1.1.1.3" xref="A0.T6.10.10.10.2.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.10.10.10.2.m1.1b"><apply id="A0.T6.10.10.10.2.m1.1.1.cmml" xref="A0.T6.10.10.10.2.m1.1.1"><times id="A0.T6.10.10.10.2.m1.1.1.1.cmml" xref="A0.T6.10.10.10.2.m1.1.1.1"></times><cn type="integer" id="A0.T6.10.10.10.2.m1.1.1.2.cmml" xref="A0.T6.10.10.10.2.m1.1.1.2">10</cn><ci id="A0.T6.10.10.10.2.m1.1.1.3.cmml" xref="A0.T6.10.10.10.2.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.10.10.10.2.m1.1c">10K</annotation></semantics></math></td>
<td id="A0.T6.11.11.11.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.11.11.11.3.m1.1" class="ltx_Math" alttext="10" display="inline"><semantics id="A0.T6.11.11.11.3.m1.1a"><mn mathsize="80%" id="A0.T6.11.11.11.3.m1.1.1" xref="A0.T6.11.11.11.3.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A0.T6.11.11.11.3.m1.1b"><cn type="integer" id="A0.T6.11.11.11.3.m1.1.1.cmml" xref="A0.T6.11.11.11.3.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.11.11.11.3.m1.1c">10</annotation></semantics></math></td>
<td id="A0.T6.12.12.12.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.12.12.12.4.m1.1" class="ltx_Math" alttext="64^{2}" display="inline"><semantics id="A0.T6.12.12.12.4.m1.1a"><msup id="A0.T6.12.12.12.4.m1.1.1" xref="A0.T6.12.12.12.4.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.12.12.12.4.m1.1.1.2" xref="A0.T6.12.12.12.4.m1.1.1.2.cmml">64</mn><mn mathsize="80%" id="A0.T6.12.12.12.4.m1.1.1.3" xref="A0.T6.12.12.12.4.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="A0.T6.12.12.12.4.m1.1b"><apply id="A0.T6.12.12.12.4.m1.1.1.cmml" xref="A0.T6.12.12.12.4.m1.1.1"><csymbol cd="ambiguous" id="A0.T6.12.12.12.4.m1.1.1.1.cmml" xref="A0.T6.12.12.12.4.m1.1.1">superscript</csymbol><cn type="integer" id="A0.T6.12.12.12.4.m1.1.1.2.cmml" xref="A0.T6.12.12.12.4.m1.1.1.2">64</cn><cn type="integer" id="A0.T6.12.12.12.4.m1.1.1.3.cmml" xref="A0.T6.12.12.12.4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.12.12.12.4.m1.1c">64^{2}</annotation></semantics></math></td>
<td id="A0.T6.12.12.12.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.12.12.12.8.1" class="ltx_text" style="font-size:80%;">ResNet-18</span></td>
</tr>
<tr id="A0.T6.16.16.16" class="ltx_tr">
<td id="A0.T6.16.16.16.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_r ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.16.16.16.5.1" class="ltx_text" style="font-size:80%;">ImageNet</span></td>
<td id="A0.T6.16.16.16.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.16.16.16.6.1" class="ltx_text" style="font-size:80%;">Classification</span></td>
<td id="A0.T6.16.16.16.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.16.16.16.7.1" class="ltx_text" style="font-size:80%;">1,000</span></td>
<td id="A0.T6.13.13.13.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.13.13.13.1.m1.2" class="ltx_Math" alttext="1,200K" display="inline"><semantics id="A0.T6.13.13.13.1.m1.2a"><mrow id="A0.T6.13.13.13.1.m1.2.2.1" xref="A0.T6.13.13.13.1.m1.2.2.2.cmml"><mn mathsize="80%" id="A0.T6.13.13.13.1.m1.1.1" xref="A0.T6.13.13.13.1.m1.1.1.cmml">1</mn><mo mathsize="80%" id="A0.T6.13.13.13.1.m1.2.2.1.2" xref="A0.T6.13.13.13.1.m1.2.2.2.cmml">,</mo><mrow id="A0.T6.13.13.13.1.m1.2.2.1.1" xref="A0.T6.13.13.13.1.m1.2.2.1.1.cmml"><mn mathsize="80%" id="A0.T6.13.13.13.1.m1.2.2.1.1.2" xref="A0.T6.13.13.13.1.m1.2.2.1.1.2.cmml">200</mn><mo lspace="0em" rspace="0em" id="A0.T6.13.13.13.1.m1.2.2.1.1.1" xref="A0.T6.13.13.13.1.m1.2.2.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.13.13.13.1.m1.2.2.1.1.3" xref="A0.T6.13.13.13.1.m1.2.2.1.1.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.13.13.13.1.m1.2b"><list id="A0.T6.13.13.13.1.m1.2.2.2.cmml" xref="A0.T6.13.13.13.1.m1.2.2.1"><cn type="integer" id="A0.T6.13.13.13.1.m1.1.1.cmml" xref="A0.T6.13.13.13.1.m1.1.1">1</cn><apply id="A0.T6.13.13.13.1.m1.2.2.1.1.cmml" xref="A0.T6.13.13.13.1.m1.2.2.1.1"><times id="A0.T6.13.13.13.1.m1.2.2.1.1.1.cmml" xref="A0.T6.13.13.13.1.m1.2.2.1.1.1"></times><cn type="integer" id="A0.T6.13.13.13.1.m1.2.2.1.1.2.cmml" xref="A0.T6.13.13.13.1.m1.2.2.1.1.2">200</cn><ci id="A0.T6.13.13.13.1.m1.2.2.1.1.3.cmml" xref="A0.T6.13.13.13.1.m1.2.2.1.1.3">𝐾</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.13.13.13.1.m1.2c">1,200K</annotation></semantics></math></td>
<td id="A0.T6.14.14.14.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.14.14.14.2.m1.1" class="ltx_Math" alttext="100K" display="inline"><semantics id="A0.T6.14.14.14.2.m1.1a"><mrow id="A0.T6.14.14.14.2.m1.1.1" xref="A0.T6.14.14.14.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.14.14.14.2.m1.1.1.2" xref="A0.T6.14.14.14.2.m1.1.1.2.cmml">100</mn><mo lspace="0em" rspace="0em" id="A0.T6.14.14.14.2.m1.1.1.1" xref="A0.T6.14.14.14.2.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.14.14.14.2.m1.1.1.3" xref="A0.T6.14.14.14.2.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.14.14.14.2.m1.1b"><apply id="A0.T6.14.14.14.2.m1.1.1.cmml" xref="A0.T6.14.14.14.2.m1.1.1"><times id="A0.T6.14.14.14.2.m1.1.1.1.cmml" xref="A0.T6.14.14.14.2.m1.1.1.1"></times><cn type="integer" id="A0.T6.14.14.14.2.m1.1.1.2.cmml" xref="A0.T6.14.14.14.2.m1.1.1.2">100</cn><ci id="A0.T6.14.14.14.2.m1.1.1.3.cmml" xref="A0.T6.14.14.14.2.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.14.14.14.2.m1.1c">100K</annotation></semantics></math></td>
<td id="A0.T6.15.15.15.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.15.15.15.3.m1.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A0.T6.15.15.15.3.m1.1a"><mn mathsize="80%" id="A0.T6.15.15.15.3.m1.1.1" xref="A0.T6.15.15.15.3.m1.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A0.T6.15.15.15.3.m1.1b"><cn type="integer" id="A0.T6.15.15.15.3.m1.1.1.cmml" xref="A0.T6.15.15.15.3.m1.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.15.15.15.3.m1.1c">100</annotation></semantics></math></td>
<td id="A0.T6.16.16.16.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.16.16.16.4.m1.1" class="ltx_Math" alttext="224^{2}" display="inline"><semantics id="A0.T6.16.16.16.4.m1.1a"><msup id="A0.T6.16.16.16.4.m1.1.1" xref="A0.T6.16.16.16.4.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.16.16.16.4.m1.1.1.2" xref="A0.T6.16.16.16.4.m1.1.1.2.cmml">224</mn><mn mathsize="80%" id="A0.T6.16.16.16.4.m1.1.1.3" xref="A0.T6.16.16.16.4.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="A0.T6.16.16.16.4.m1.1b"><apply id="A0.T6.16.16.16.4.m1.1.1.cmml" xref="A0.T6.16.16.16.4.m1.1.1"><csymbol cd="ambiguous" id="A0.T6.16.16.16.4.m1.1.1.1.cmml" xref="A0.T6.16.16.16.4.m1.1.1">superscript</csymbol><cn type="integer" id="A0.T6.16.16.16.4.m1.1.1.2.cmml" xref="A0.T6.16.16.16.4.m1.1.1.2">224</cn><cn type="integer" id="A0.T6.16.16.16.4.m1.1.1.3.cmml" xref="A0.T6.16.16.16.4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.16.16.16.4.m1.1c">224^{2}</annotation></semantics></math></td>
<td id="A0.T6.16.16.16.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.16.16.16.8.1" class="ltx_text" style="font-size:80%;">ResNet-18</span></td>
</tr>
<tr id="A0.T6.20.20.20" class="ltx_tr">
<td id="A0.T6.20.20.20.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.20.20.20.5.1" class="ltx_text" style="font-size:80%;">Cityscapes</span></td>
<td id="A0.T6.20.20.20.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.20.20.20.6.1" class="ltx_text" style="font-size:80%;">Segmentation</span></td>
<td id="A0.T6.20.20.20.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><span id="A0.T6.20.20.20.7.1" class="ltx_text" style="font-size:80%;">19</span></td>
<td id="A0.T6.17.17.17.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.17.17.17.1.m1.1" class="ltx_Math" alttext="3K" display="inline"><semantics id="A0.T6.17.17.17.1.m1.1a"><mrow id="A0.T6.17.17.17.1.m1.1.1" xref="A0.T6.17.17.17.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.17.17.17.1.m1.1.1.2" xref="A0.T6.17.17.17.1.m1.1.1.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="A0.T6.17.17.17.1.m1.1.1.1" xref="A0.T6.17.17.17.1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.17.17.17.1.m1.1.1.3" xref="A0.T6.17.17.17.1.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.17.17.17.1.m1.1b"><apply id="A0.T6.17.17.17.1.m1.1.1.cmml" xref="A0.T6.17.17.17.1.m1.1.1"><times id="A0.T6.17.17.17.1.m1.1.1.1.cmml" xref="A0.T6.17.17.17.1.m1.1.1.1"></times><cn type="integer" id="A0.T6.17.17.17.1.m1.1.1.2.cmml" xref="A0.T6.17.17.17.1.m1.1.1.2">3</cn><ci id="A0.T6.17.17.17.1.m1.1.1.3.cmml" xref="A0.T6.17.17.17.1.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.17.17.17.1.m1.1c">3K</annotation></semantics></math></td>
<td id="A0.T6.18.18.18.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.18.18.18.2.m1.1" class="ltx_Math" alttext="0.5K" display="inline"><semantics id="A0.T6.18.18.18.2.m1.1a"><mrow id="A0.T6.18.18.18.2.m1.1.1" xref="A0.T6.18.18.18.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.18.18.18.2.m1.1.1.2" xref="A0.T6.18.18.18.2.m1.1.1.2.cmml">0.5</mn><mo lspace="0em" rspace="0em" id="A0.T6.18.18.18.2.m1.1.1.1" xref="A0.T6.18.18.18.2.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="A0.T6.18.18.18.2.m1.1.1.3" xref="A0.T6.18.18.18.2.m1.1.1.3.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="A0.T6.18.18.18.2.m1.1b"><apply id="A0.T6.18.18.18.2.m1.1.1.cmml" xref="A0.T6.18.18.18.2.m1.1.1"><times id="A0.T6.18.18.18.2.m1.1.1.1.cmml" xref="A0.T6.18.18.18.2.m1.1.1.1"></times><cn type="float" id="A0.T6.18.18.18.2.m1.1.1.2.cmml" xref="A0.T6.18.18.18.2.m1.1.1.2">0.5</cn><ci id="A0.T6.18.18.18.2.m1.1.1.3.cmml" xref="A0.T6.18.18.18.2.m1.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.18.18.18.2.m1.1c">0.5K</annotation></semantics></math></td>
<td id="A0.T6.19.19.19.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.19.19.19.3.m1.1" class="ltx_Math" alttext="18" display="inline"><semantics id="A0.T6.19.19.19.3.m1.1a"><mn mathsize="80%" id="A0.T6.19.19.19.3.m1.1.1" xref="A0.T6.19.19.19.3.m1.1.1.cmml">18</mn><annotation-xml encoding="MathML-Content" id="A0.T6.19.19.19.3.m1.1b"><cn type="integer" id="A0.T6.19.19.19.3.m1.1.1.cmml" xref="A0.T6.19.19.19.3.m1.1.1">18</cn></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.19.19.19.3.m1.1c">18</annotation></semantics></math></td>
<td id="A0.T6.20.20.20.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;"><math id="A0.T6.20.20.20.4.m1.1" class="ltx_Math" alttext="768^{2}" display="inline"><semantics id="A0.T6.20.20.20.4.m1.1a"><msup id="A0.T6.20.20.20.4.m1.1.1" xref="A0.T6.20.20.20.4.m1.1.1.cmml"><mn mathsize="80%" id="A0.T6.20.20.20.4.m1.1.1.2" xref="A0.T6.20.20.20.4.m1.1.1.2.cmml">768</mn><mn mathsize="80%" id="A0.T6.20.20.20.4.m1.1.1.3" xref="A0.T6.20.20.20.4.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="A0.T6.20.20.20.4.m1.1b"><apply id="A0.T6.20.20.20.4.m1.1.1.cmml" xref="A0.T6.20.20.20.4.m1.1.1"><csymbol cd="ambiguous" id="A0.T6.20.20.20.4.m1.1.1.1.cmml" xref="A0.T6.20.20.20.4.m1.1.1">superscript</csymbol><cn type="integer" id="A0.T6.20.20.20.4.m1.1.1.2.cmml" xref="A0.T6.20.20.20.4.m1.1.1.2">768</cn><cn type="integer" id="A0.T6.20.20.20.4.m1.1.1.3.cmml" xref="A0.T6.20.20.20.4.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T6.20.20.20.4.m1.1c">768^{2}</annotation></semantics></math></td>
<td id="A0.T6.20.20.20.8" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:1.5pt;padding-right:1.5pt;">
<span id="A0.T6.20.20.20.8.1" class="ltx_text"></span><span id="A0.T6.20.20.20.8.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T6.20.20.20.8.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T6.20.20.20.8.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T6.20.20.20.8.3.1.1" class="ltx_tr">
<span id="A0.T6.20.20.20.8.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.5pt;padding-right:1.5pt;">DeepLabv3 +</span></span>
<span id="A0.T6.20.20.20.8.3.1.2" class="ltx_tr">
<span id="A0.T6.20.20.20.8.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding-left:1.5pt;padding-right:1.5pt;">{MobileNet-v2, ResNet-50}</span></span>
</span></span><span id="A0.T6.20.20.20.8.4" class="ltx_text"></span><span id="A0.T6.20.20.20.8.5" class="ltx_text" style="font-size:80%;"></span>
</td>
</tr>
</table>
</span></div>
</figure>
<figure id="A0.T7" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table G: </span>Default FL settings and training hyperparameters in the main paper.</figcaption>
<div id="A0.T7.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:196.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.2pt,-0.1pt) scale(1.00101839425529,1.00101839425529) ;">
<table id="A0.T7.6.6" class="ltx_tabular ltx_align_middle">
<tr id="A0.T7.1.1.1" class="ltx_tr">
<td id="A0.T7.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.2.1" class="ltx_text" style="font-size:80%;">Dataset</span></td>
<td id="A0.T7.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.3.1" class="ltx_text" style="font-size:80%;">Non-IID</span></td>
<td id="A0.T7.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.4.1" class="ltx_text" style="font-size:80%;">Sampling</span></td>
<td id="A0.T7.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.5.1" class="ltx_text" style="font-size:80%;">Optimizer</span></td>
<td id="A0.T7.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.6.1" class="ltx_text" style="font-size:80%;">Learning rate</span></td>
<td id="A0.T7.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;"><span id="A0.T7.1.1.1.7.1" class="ltx_text" style="font-size:80%;">Batch size</span></td>
<td id="A0.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" style="padding:1pt 2.0pt;">
<math id="A0.T7.1.1.1.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A0.T7.1.1.1.1.m1.1a"><msup id="A0.T7.1.1.1.1.m1.1.1" xref="A0.T7.1.1.1.1.m1.1.1.cmml"><mi mathsize="80%" id="A0.T7.1.1.1.1.m1.1.1.2" xref="A0.T7.1.1.1.1.m1.1.1.2.cmml">T</mi><mo mathsize="80%" id="A0.T7.1.1.1.1.m1.1.1.3" xref="A0.T7.1.1.1.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A0.T7.1.1.1.1.m1.1b"><apply id="A0.T7.1.1.1.1.m1.1.1.cmml" xref="A0.T7.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="A0.T7.1.1.1.1.m1.1.1.1.cmml" xref="A0.T7.1.1.1.1.m1.1.1">superscript</csymbol><ci id="A0.T7.1.1.1.1.m1.1.1.2.cmml" xref="A0.T7.1.1.1.1.m1.1.1.2">𝑇</ci><ci id="A0.T7.1.1.1.1.m1.1.1.3.cmml" xref="A0.T7.1.1.1.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.1.1.1.1.m1.1c">T^{\star}</annotation></semantics></math><span id="A0.T7.1.1.1.1.1" class="ltx_text" style="font-size:80%;"> for </span><span id="A0.T7.1.1.1.1.2" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">FixBN</span>
</td>
</tr>
<tr id="A0.T7.3.3.3" class="ltx_tr">
<td id="A0.T7.3.3.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.3.3.3.3.1" class="ltx_text" style="font-size:80%;">CIFAR-10</span></td>
<td id="A0.T7.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<span id="A0.T7.3.3.3.4.1" class="ltx_text"></span><span id="A0.T7.3.3.3.4.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T7.3.3.3.4.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T7.3.3.3.4.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T7.3.3.3.4.3.1.1" class="ltx_tr">
<span id="A0.T7.3.3.3.4.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">Shards,</span></span>
<span id="A0.T7.3.3.3.4.3.1.2" class="ltx_tr">
<span id="A0.T7.3.3.3.4.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">Dirichlet({0.1, 0.3, 0.6}),</span></span>
<span id="A0.T7.3.3.3.4.3.1.3" class="ltx_tr">
<span id="A0.T7.3.3.3.4.3.1.3.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">IID</span></span>
</span></span><span id="A0.T7.3.3.3.4.4" class="ltx_text"></span><span id="A0.T7.3.3.3.4.5" class="ltx_text" style="font-size:80%;"></span>
</td>
<td id="A0.T7.2.2.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><math id="A0.T7.2.2.2.1.m1.1" class="ltx_Math" alttext="10\sim 100\%" display="inline"><semantics id="A0.T7.2.2.2.1.m1.1a"><mrow id="A0.T7.2.2.2.1.m1.1.1" xref="A0.T7.2.2.2.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T7.2.2.2.1.m1.1.1.2" xref="A0.T7.2.2.2.1.m1.1.1.2.cmml">10</mn><mo mathsize="80%" id="A0.T7.2.2.2.1.m1.1.1.1" xref="A0.T7.2.2.2.1.m1.1.1.1.cmml">∼</mo><mrow id="A0.T7.2.2.2.1.m1.1.1.3" xref="A0.T7.2.2.2.1.m1.1.1.3.cmml"><mn mathsize="80%" id="A0.T7.2.2.2.1.m1.1.1.3.2" xref="A0.T7.2.2.2.1.m1.1.1.3.2.cmml">100</mn><mo mathsize="80%" id="A0.T7.2.2.2.1.m1.1.1.3.1" xref="A0.T7.2.2.2.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A0.T7.2.2.2.1.m1.1b"><apply id="A0.T7.2.2.2.1.m1.1.1.cmml" xref="A0.T7.2.2.2.1.m1.1.1"><csymbol cd="latexml" id="A0.T7.2.2.2.1.m1.1.1.1.cmml" xref="A0.T7.2.2.2.1.m1.1.1.1">similar-to</csymbol><cn type="integer" id="A0.T7.2.2.2.1.m1.1.1.2.cmml" xref="A0.T7.2.2.2.1.m1.1.1.2">10</cn><apply id="A0.T7.2.2.2.1.m1.1.1.3.cmml" xref="A0.T7.2.2.2.1.m1.1.1.3"><csymbol cd="latexml" id="A0.T7.2.2.2.1.m1.1.1.3.1.cmml" xref="A0.T7.2.2.2.1.m1.1.1.3.1">percent</csymbol><cn type="integer" id="A0.T7.2.2.2.1.m1.1.1.3.2.cmml" xref="A0.T7.2.2.2.1.m1.1.1.3.2">100</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.2.2.2.1.m1.1c">10\sim 100\%</annotation></semantics></math></td>
<td id="A0.T7.3.3.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<span id="A0.T7.3.3.3.5.1" class="ltx_text"></span><span id="A0.T7.3.3.3.5.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T7.3.3.3.5.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T7.3.3.3.5.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T7.3.3.3.5.3.1.1" class="ltx_tr">
<span id="A0.T7.3.3.3.5.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">SGD +</span></span>
<span id="A0.T7.3.3.3.5.3.1.2" class="ltx_tr">
<span id="A0.T7.3.3.3.5.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">0.9 momentum</span></span>
</span></span><span id="A0.T7.3.3.3.5.4" class="ltx_text"></span><span id="A0.T7.3.3.3.5.5" class="ltx_text" style="font-size:80%;"></span>
</td>
<td id="A0.T7.3.3.3.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.3.3.3.6.1" class="ltx_text" style="font-size:80%;">0.2/0.02</span></td>
<td id="A0.T7.3.3.3.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.3.3.3.7.1" class="ltx_text" style="font-size:80%;">20</span></td>
<td id="A0.T7.3.3.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<math id="A0.T7.3.3.3.2.m1.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="A0.T7.3.3.3.2.m1.1a"><mrow id="A0.T7.3.3.3.2.m1.1.1" xref="A0.T7.3.3.3.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T7.3.3.3.2.m1.1.1.2" xref="A0.T7.3.3.3.2.m1.1.1.2.cmml">50</mn><mo mathsize="80%" id="A0.T7.3.3.3.2.m1.1.1.1" xref="A0.T7.3.3.3.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A0.T7.3.3.3.2.m1.1b"><apply id="A0.T7.3.3.3.2.m1.1.1.cmml" xref="A0.T7.3.3.3.2.m1.1.1"><csymbol cd="latexml" id="A0.T7.3.3.3.2.m1.1.1.1.cmml" xref="A0.T7.3.3.3.2.m1.1.1.1">percent</csymbol><cn type="integer" id="A0.T7.3.3.3.2.m1.1.1.2.cmml" xref="A0.T7.3.3.3.2.m1.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.3.3.3.2.m1.1c">50\%</annotation></semantics></math><span id="A0.T7.3.3.3.2.1" class="ltx_text" style="font-size:80%;"> of total rounds</span>
</td>
</tr>
<tr id="A0.T7.4.4.4" class="ltx_tr">
<td id="A0.T7.4.4.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.4.4.4.2.1" class="ltx_text" style="font-size:80%;">Tiny-ImageNet</span></td>
<td id="A0.T7.4.4.4.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<span id="A0.T7.4.4.4.3.1" class="ltx_text"></span><span id="A0.T7.4.4.4.3.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T7.4.4.4.3.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T7.4.4.4.3.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T7.4.4.4.3.3.1.1" class="ltx_tr">
<span id="A0.T7.4.4.4.3.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">Shards,</span></span>
<span id="A0.T7.4.4.4.3.3.1.2" class="ltx_tr">
<span id="A0.T7.4.4.4.3.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">Dirichlet({0.1, 0.3, 0.6}),</span></span>
<span id="A0.T7.4.4.4.3.3.1.3" class="ltx_tr">
<span id="A0.T7.4.4.4.3.3.1.3.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">IID</span></span>
</span></span><span id="A0.T7.4.4.4.3.4" class="ltx_text"></span><span id="A0.T7.4.4.4.3.5" class="ltx_text" style="font-size:80%;"></span>
</td>
<td id="A0.T7.4.4.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.4.4.4.4.1" class="ltx_text" style="font-size:80%;">50%</span></td>
<td id="A0.T7.4.4.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<span id="A0.T7.4.4.4.5.1" class="ltx_text"></span><span id="A0.T7.4.4.4.5.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T7.4.4.4.5.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T7.4.4.4.5.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T7.4.4.4.5.3.1.1" class="ltx_tr">
<span id="A0.T7.4.4.4.5.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">SGD +</span></span>
<span id="A0.T7.4.4.4.5.3.1.2" class="ltx_tr">
<span id="A0.T7.4.4.4.5.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">0.9 momentum</span></span>
</span></span><span id="A0.T7.4.4.4.5.4" class="ltx_text"></span><span id="A0.T7.4.4.4.5.5" class="ltx_text" style="font-size:80%;"></span>
</td>
<td id="A0.T7.4.4.4.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.4.4.4.6.1" class="ltx_text" style="font-size:80%;">0.02</span></td>
<td id="A0.T7.4.4.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.4.4.4.7.1" class="ltx_text" style="font-size:80%;">20</span></td>
<td id="A0.T7.4.4.4.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<math id="A0.T7.4.4.4.1.m1.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="A0.T7.4.4.4.1.m1.1a"><mrow id="A0.T7.4.4.4.1.m1.1.1" xref="A0.T7.4.4.4.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T7.4.4.4.1.m1.1.1.2" xref="A0.T7.4.4.4.1.m1.1.1.2.cmml">50</mn><mo mathsize="80%" id="A0.T7.4.4.4.1.m1.1.1.1" xref="A0.T7.4.4.4.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A0.T7.4.4.4.1.m1.1b"><apply id="A0.T7.4.4.4.1.m1.1.1.cmml" xref="A0.T7.4.4.4.1.m1.1.1"><csymbol cd="latexml" id="A0.T7.4.4.4.1.m1.1.1.1.cmml" xref="A0.T7.4.4.4.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A0.T7.4.4.4.1.m1.1.1.2.cmml" xref="A0.T7.4.4.4.1.m1.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.4.4.4.1.m1.1c">50\%</annotation></semantics></math><span id="A0.T7.4.4.4.1.1" class="ltx_text" style="font-size:80%;"> of total rounds</span>
</td>
</tr>
<tr id="A0.T7.6.6.6" class="ltx_tr">
<td id="A0.T7.6.6.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.6.3.1" class="ltx_text" style="font-size:80%;">ImageNet</span></td>
<td id="A0.T7.6.6.6.4" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.6.4.1" class="ltx_text" style="font-size:80%;">Dirichlet 0.1</span></td>
<td id="A0.T7.5.5.5.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><math id="A0.T7.5.5.5.1.m1.1" class="ltx_Math" alttext="10\%" display="inline"><semantics id="A0.T7.5.5.5.1.m1.1a"><mrow id="A0.T7.5.5.5.1.m1.1.1" xref="A0.T7.5.5.5.1.m1.1.1.cmml"><mn mathsize="80%" id="A0.T7.5.5.5.1.m1.1.1.2" xref="A0.T7.5.5.5.1.m1.1.1.2.cmml">10</mn><mo mathsize="80%" id="A0.T7.5.5.5.1.m1.1.1.1" xref="A0.T7.5.5.5.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A0.T7.5.5.5.1.m1.1b"><apply id="A0.T7.5.5.5.1.m1.1.1.cmml" xref="A0.T7.5.5.5.1.m1.1.1"><csymbol cd="latexml" id="A0.T7.5.5.5.1.m1.1.1.1.cmml" xref="A0.T7.5.5.5.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A0.T7.5.5.5.1.m1.1.1.2.cmml" xref="A0.T7.5.5.5.1.m1.1.1.2">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.5.5.5.1.m1.1c">10\%</annotation></semantics></math></td>
<td id="A0.T7.6.6.6.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<span id="A0.T7.6.6.6.5.1" class="ltx_text"></span><span id="A0.T7.6.6.6.5.2" class="ltx_text" style="font-size:80%;"> </span><span id="A0.T7.6.6.6.5.3" class="ltx_text" style="font-size:80%;">
<span id="A0.T7.6.6.6.5.3.1" class="ltx_tabular ltx_align_middle">
<span id="A0.T7.6.6.6.5.3.1.1" class="ltx_tr">
<span id="A0.T7.6.6.6.5.3.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">SGD +</span></span>
<span id="A0.T7.6.6.6.5.3.1.2" class="ltx_tr">
<span id="A0.T7.6.6.6.5.3.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center" style="padding:1pt 2.0pt;">0.9 momentum</span></span>
</span></span><span id="A0.T7.6.6.6.5.4" class="ltx_text"></span><span id="A0.T7.6.6.6.5.5" class="ltx_text" style="font-size:80%;"></span>
</td>
<td id="A0.T7.6.6.6.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.6.6.1" class="ltx_text" style="font-size:80%;">0.1</span></td>
<td id="A0.T7.6.6.6.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.6.7.1" class="ltx_text" style="font-size:80%;">20</span></td>
<td id="A0.T7.6.6.6.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:1pt 2.0pt;">
<math id="A0.T7.6.6.6.2.m1.1" class="ltx_Math" alttext="50\%" display="inline"><semantics id="A0.T7.6.6.6.2.m1.1a"><mrow id="A0.T7.6.6.6.2.m1.1.1" xref="A0.T7.6.6.6.2.m1.1.1.cmml"><mn mathsize="80%" id="A0.T7.6.6.6.2.m1.1.1.2" xref="A0.T7.6.6.6.2.m1.1.1.2.cmml">50</mn><mo mathsize="80%" id="A0.T7.6.6.6.2.m1.1.1.1" xref="A0.T7.6.6.6.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A0.T7.6.6.6.2.m1.1b"><apply id="A0.T7.6.6.6.2.m1.1.1.cmml" xref="A0.T7.6.6.6.2.m1.1.1"><csymbol cd="latexml" id="A0.T7.6.6.6.2.m1.1.1.1.cmml" xref="A0.T7.6.6.6.2.m1.1.1.1">percent</csymbol><cn type="integer" id="A0.T7.6.6.6.2.m1.1.1.2.cmml" xref="A0.T7.6.6.6.2.m1.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A0.T7.6.6.6.2.m1.1c">50\%</annotation></semantics></math><span id="A0.T7.6.6.6.2.1" class="ltx_text" style="font-size:80%;"> of total rounds</span>
</td>
</tr>
<tr id="A0.T7.6.6.7" class="ltx_tr">
<td id="A0.T7.6.6.7.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.1.1" class="ltx_text" style="font-size:80%;">Cityscapes</span></td>
<td id="A0.T7.6.6.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.2.1" class="ltx_text" style="font-size:80%;">Cities</span></td>
<td id="A0.T7.6.6.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.3.1" class="ltx_text" style="font-size:80%;">50%</span></td>
<td id="A0.T7.6.6.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.4.1" class="ltx_text" style="font-size:80%;">Adam</span></td>
<td id="A0.T7.6.6.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.5.1" class="ltx_text" style="font-size:80%;">0.01/0.001</span></td>
<td id="A0.T7.6.6.7.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.6.1" class="ltx_text" style="font-size:80%;">8</span></td>
<td id="A0.T7.6.6.7.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:1pt 2.0pt;"><span id="A0.T7.6.6.7.7.1" class="ltx_text" style="font-size:80%;">90th round</span></td>
</tr>
</table>
</span></div>
</figure>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Experiment Details</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Datasets, FL settings, and hyperparameters</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.5" class="ltx_p">We use <span id="A1.SS1.p1.5.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> for our studies, with weight decay <math id="A1.SS1.p1.1.m1.1" class="ltx_Math" alttext="1\mathrm{e}{-4}" display="inline"><semantics id="A1.SS1.p1.1.m1.1a"><mrow id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml"><mrow id="A1.SS1.p1.1.m1.1.1.2" xref="A1.SS1.p1.1.m1.1.1.2.cmml"><mn id="A1.SS1.p1.1.m1.1.1.2.2" xref="A1.SS1.p1.1.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.SS1.p1.1.m1.1.1.2.1" xref="A1.SS1.p1.1.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="A1.SS1.p1.1.m1.1.1.2.3" xref="A1.SS1.p1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo id="A1.SS1.p1.1.m1.1.1.1" xref="A1.SS1.p1.1.m1.1.1.1.cmml">−</mo><mn id="A1.SS1.p1.1.m1.1.1.3" xref="A1.SS1.p1.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><apply id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1"><minus id="A1.SS1.p1.1.m1.1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1.1"></minus><apply id="A1.SS1.p1.1.m1.1.1.2.cmml" xref="A1.SS1.p1.1.m1.1.1.2"><times id="A1.SS1.p1.1.m1.1.1.2.1.cmml" xref="A1.SS1.p1.1.m1.1.1.2.1"></times><cn type="integer" id="A1.SS1.p1.1.m1.1.1.2.2.cmml" xref="A1.SS1.p1.1.m1.1.1.2.2">1</cn><ci id="A1.SS1.p1.1.m1.1.1.2.3.cmml" xref="A1.SS1.p1.1.m1.1.1.2.3">e</ci></apply><cn type="integer" id="A1.SS1.p1.1.m1.1.1.3.cmml" xref="A1.SS1.p1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">1\mathrm{e}{-4}</annotation></semantics></math> for local training. Learning rates are decayed by <math id="A1.SS1.p1.2.m2.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A1.SS1.p1.2.m2.1a"><mn id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><cn type="float" id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">0.1</annotation></semantics></math> at <math id="A1.SS1.p1.3.m3.2" class="ltx_Math" alttext="50\%,75\%" display="inline"><semantics id="A1.SS1.p1.3.m3.2a"><mrow id="A1.SS1.p1.3.m3.2.2.2" xref="A1.SS1.p1.3.m3.2.2.3.cmml"><mrow id="A1.SS1.p1.3.m3.1.1.1.1" xref="A1.SS1.p1.3.m3.1.1.1.1.cmml"><mn id="A1.SS1.p1.3.m3.1.1.1.1.2" xref="A1.SS1.p1.3.m3.1.1.1.1.2.cmml">50</mn><mo id="A1.SS1.p1.3.m3.1.1.1.1.1" xref="A1.SS1.p1.3.m3.1.1.1.1.1.cmml">%</mo></mrow><mo id="A1.SS1.p1.3.m3.2.2.2.3" xref="A1.SS1.p1.3.m3.2.2.3.cmml">,</mo><mrow id="A1.SS1.p1.3.m3.2.2.2.2" xref="A1.SS1.p1.3.m3.2.2.2.2.cmml"><mn id="A1.SS1.p1.3.m3.2.2.2.2.2" xref="A1.SS1.p1.3.m3.2.2.2.2.2.cmml">75</mn><mo id="A1.SS1.p1.3.m3.2.2.2.2.1" xref="A1.SS1.p1.3.m3.2.2.2.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.2b"><list id="A1.SS1.p1.3.m3.2.2.3.cmml" xref="A1.SS1.p1.3.m3.2.2.2"><apply id="A1.SS1.p1.3.m3.1.1.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1.1.1"><csymbol cd="latexml" id="A1.SS1.p1.3.m3.1.1.1.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1.1.1.1">percent</csymbol><cn type="integer" id="A1.SS1.p1.3.m3.1.1.1.1.2.cmml" xref="A1.SS1.p1.3.m3.1.1.1.1.2">50</cn></apply><apply id="A1.SS1.p1.3.m3.2.2.2.2.cmml" xref="A1.SS1.p1.3.m3.2.2.2.2"><csymbol cd="latexml" id="A1.SS1.p1.3.m3.2.2.2.2.1.cmml" xref="A1.SS1.p1.3.m3.2.2.2.2.1">percent</csymbol><cn type="integer" id="A1.SS1.p1.3.m3.2.2.2.2.2.cmml" xref="A1.SS1.p1.3.m3.2.2.2.2.2">75</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.2c">50\%,75\%</annotation></semantics></math> of the total rounds, respectively. Besides that, we summarize the training hyperparameters for each of the federated experiments included in the main paper in <a href="#A0.T7" title="Table G ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table G</span></a>. Additionally, for the Cityscape experiments in <a href="#S8.T3" title="Table 3 ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 3</span></a>, we make each “city” a client and run <math id="A1.SS1.p1.4.m4.1" class="ltx_Math" alttext="100" display="inline"><semantics id="A1.SS1.p1.4.m4.1a"><mn id="A1.SS1.p1.4.m4.1.1" xref="A1.SS1.p1.4.m4.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.1b"><cn type="integer" id="A1.SS1.p1.4.m4.1.1.cmml" xref="A1.SS1.p1.4.m4.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.1c">100</annotation></semantics></math> rounds, with local steps to be <math id="A1.SS1.p1.5.m5.1" class="ltx_Math" alttext="5" display="inline"><semantics id="A1.SS1.p1.5.m5.1a"><mn id="A1.SS1.p1.5.m5.1.1" xref="A1.SS1.p1.5.m5.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.5.m5.1b"><cn type="integer" id="A1.SS1.p1.5.m5.1.1.cmml" xref="A1.SS1.p1.5.m5.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.5.m5.1c">5</annotation></semantics></math> epochs. More details about the datasets are provided in <a href="#A0.T6" title="Table F ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table F</span></a>.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.5" class="ltx_p">For pre-processing, we generally follow the standard practice which normalizes the images and applies some augmentations. CIFAR-10 images are padded <math id="A1.SS1.p2.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="A1.SS1.p2.1.m1.1a"><mn id="A1.SS1.p2.1.m1.1.1" xref="A1.SS1.p2.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.1b"><cn type="integer" id="A1.SS1.p2.1.m1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.1c">2</annotation></semantics></math> pixels on each side, randomly flipped horizontally, and then randomly cropped back to <math id="A1.SS1.p2.2.m2.1" class="ltx_Math" alttext="32\times 32" display="inline"><semantics id="A1.SS1.p2.2.m2.1a"><mrow id="A1.SS1.p2.2.m2.1.1" xref="A1.SS1.p2.2.m2.1.1.cmml"><mn id="A1.SS1.p2.2.m2.1.1.2" xref="A1.SS1.p2.2.m2.1.1.2.cmml">32</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p2.2.m2.1.1.1" xref="A1.SS1.p2.2.m2.1.1.1.cmml">×</mo><mn id="A1.SS1.p2.2.m2.1.1.3" xref="A1.SS1.p2.2.m2.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.2.m2.1b"><apply id="A1.SS1.p2.2.m2.1.1.cmml" xref="A1.SS1.p2.2.m2.1.1"><times id="A1.SS1.p2.2.m2.1.1.1.cmml" xref="A1.SS1.p2.2.m2.1.1.1"></times><cn type="integer" id="A1.SS1.p2.2.m2.1.1.2.cmml" xref="A1.SS1.p2.2.m2.1.1.2">32</cn><cn type="integer" id="A1.SS1.p2.2.m2.1.1.3.cmml" xref="A1.SS1.p2.2.m2.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.2.m2.1c">32\times 32</annotation></semantics></math>. For Tiny-ImageNet, we simply randomly cropped to the desired sizes and flipped horizontally following the official PyTorch ImageNet training script. For the Cityscapes dataset, we use output stride <math id="A1.SS1.p2.3.m3.1" class="ltx_Math" alttext="16" display="inline"><semantics id="A1.SS1.p2.3.m3.1a"><mn id="A1.SS1.p2.3.m3.1.1" xref="A1.SS1.p2.3.m3.1.1.cmml">16</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.3.m3.1b"><cn type="integer" id="A1.SS1.p2.3.m3.1.1.cmml" xref="A1.SS1.p2.3.m3.1.1">16</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.3.m3.1c">16</annotation></semantics></math>. In training, the images are randomly cropped to <math id="A1.SS1.p2.4.m4.1" class="ltx_Math" alttext="768\times 768" display="inline"><semantics id="A1.SS1.p2.4.m4.1a"><mrow id="A1.SS1.p2.4.m4.1.1" xref="A1.SS1.p2.4.m4.1.1.cmml"><mn id="A1.SS1.p2.4.m4.1.1.2" xref="A1.SS1.p2.4.m4.1.1.2.cmml">768</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p2.4.m4.1.1.1" xref="A1.SS1.p2.4.m4.1.1.1.cmml">×</mo><mn id="A1.SS1.p2.4.m4.1.1.3" xref="A1.SS1.p2.4.m4.1.1.3.cmml">768</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.4.m4.1b"><apply id="A1.SS1.p2.4.m4.1.1.cmml" xref="A1.SS1.p2.4.m4.1.1"><times id="A1.SS1.p2.4.m4.1.1.1.cmml" xref="A1.SS1.p2.4.m4.1.1.1"></times><cn type="integer" id="A1.SS1.p2.4.m4.1.1.2.cmml" xref="A1.SS1.p2.4.m4.1.1.2">768</cn><cn type="integer" id="A1.SS1.p2.4.m4.1.1.3.cmml" xref="A1.SS1.p2.4.m4.1.1.3">768</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.4.m4.1c">768\times 768</annotation></semantics></math> and resized to <math id="A1.SS1.p2.5.m5.1" class="ltx_Math" alttext="2048\times 1024" display="inline"><semantics id="A1.SS1.p2.5.m5.1a"><mrow id="A1.SS1.p2.5.m5.1.1" xref="A1.SS1.p2.5.m5.1.1.cmml"><mn id="A1.SS1.p2.5.m5.1.1.2" xref="A1.SS1.p2.5.m5.1.1.2.cmml">2048</mn><mo lspace="0.222em" rspace="0.222em" id="A1.SS1.p2.5.m5.1.1.1" xref="A1.SS1.p2.5.m5.1.1.1.cmml">×</mo><mn id="A1.SS1.p2.5.m5.1.1.3" xref="A1.SS1.p2.5.m5.1.1.3.cmml">1024</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.5.m5.1b"><apply id="A1.SS1.p2.5.m5.1.1.cmml" xref="A1.SS1.p2.5.m5.1.1"><times id="A1.SS1.p2.5.m5.1.1.1.cmml" xref="A1.SS1.p2.5.m5.1.1.1"></times><cn type="integer" id="A1.SS1.p2.5.m5.1.1.2.cmml" xref="A1.SS1.p2.5.m5.1.1.2">2048</cn><cn type="integer" id="A1.SS1.p2.5.m5.1.1.3.cmml" xref="A1.SS1.p2.5.m5.1.1.3">1024</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.5.m5.1c">2048\times 1024</annotation></semantics></math> in testing.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional Experimental Results and Analysis</h2>

<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Additional study of fixing <span id="A2.SS1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> parameters</h3>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">In <a href="#S5.SS2" title="5.2 Mismatched normalization in training and testing ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 5.2</span></a>, we discuss that the <span id="A2.SS1.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> statistics are the main critical parameters in FL and thus motivate our design in <span id="A2.SS1.p1.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span> to fix the <span id="A2.SS1.p1.1.3" class="ltx_text ltx_font_smallcaps">BN</span> statistics to be the global aggregated ones after certain rounds. Here we include a further study to confirm the importance of <span id="A2.SS1.p1.1.4" class="ltx_text ltx_font_smallcaps">BN</span> statistics by comparing them with the learnable affine transformation parameterized by <math id="A2.SS1.p1.1.m1.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.SS1.p1.1.m1.2a"><mrow id="A2.SS1.p1.1.m1.2.3.2" xref="A2.SS1.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p1.1.m1.2.3.2.1" xref="A2.SS1.p1.1.m1.2.3.1.cmml">(</mo><mi id="A2.SS1.p1.1.m1.1.1" xref="A2.SS1.p1.1.m1.1.1.cmml">𝜸</mi><mo id="A2.SS1.p1.1.m1.2.3.2.2" xref="A2.SS1.p1.1.m1.2.3.1.cmml">,</mo><mi id="A2.SS1.p1.1.m1.2.2" xref="A2.SS1.p1.1.m1.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.SS1.p1.1.m1.2.3.2.3" xref="A2.SS1.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p1.1.m1.2b"><interval closure="open" id="A2.SS1.p1.1.m1.2.3.1.cmml" xref="A2.SS1.p1.1.m1.2.3.2"><ci id="A2.SS1.p1.1.m1.1.1.cmml" xref="A2.SS1.p1.1.m1.1.1">𝜸</ci><ci id="A2.SS1.p1.1.m1.2.2.cmml" xref="A2.SS1.p1.1.m1.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p1.1.m1.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math>.</p>
</div>
<div id="A2.SS1.p2" class="ltx_para">
<p id="A2.SS1.p2.6" class="ltx_p">For <span id="A2.SS1.p2.6.1" class="ltx_text ltx_font_smallcaps">FixBN</span>, besides fixing the <span id="A2.SS1.p2.6.2" class="ltx_text ltx_font_smallcaps">BN</span> statistics from round <math id="A2.SS1.p2.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A2.SS1.p2.1.m1.1a"><msup id="A2.SS1.p2.1.m1.1.1" xref="A2.SS1.p2.1.m1.1.1.cmml"><mi id="A2.SS1.p2.1.m1.1.1.2" xref="A2.SS1.p2.1.m1.1.1.2.cmml">T</mi><mo id="A2.SS1.p2.1.m1.1.1.3" xref="A2.SS1.p2.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.1.m1.1b"><apply id="A2.SS1.p2.1.m1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.1.m1.1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1">superscript</csymbol><ci id="A2.SS1.p2.1.m1.1.1.2.cmml" xref="A2.SS1.p2.1.m1.1.1.2">𝑇</ci><ci id="A2.SS1.p2.1.m1.1.1.3.cmml" xref="A2.SS1.p2.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.1.m1.1c">T^{\star}</annotation></semantics></math>, we consider fixing the <math id="A2.SS1.p2.2.m2.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.SS1.p2.2.m2.2a"><mrow id="A2.SS1.p2.2.m2.2.3.2" xref="A2.SS1.p2.2.m2.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p2.2.m2.2.3.2.1" xref="A2.SS1.p2.2.m2.2.3.1.cmml">(</mo><mi id="A2.SS1.p2.2.m2.1.1" xref="A2.SS1.p2.2.m2.1.1.cmml">𝜸</mi><mo id="A2.SS1.p2.2.m2.2.3.2.2" xref="A2.SS1.p2.2.m2.2.3.1.cmml">,</mo><mi id="A2.SS1.p2.2.m2.2.2" xref="A2.SS1.p2.2.m2.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.SS1.p2.2.m2.2.3.2.3" xref="A2.SS1.p2.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.2.m2.2b"><interval closure="open" id="A2.SS1.p2.2.m2.2.3.1.cmml" xref="A2.SS1.p2.2.m2.2.3.2"><ci id="A2.SS1.p2.2.m2.1.1.cmml" xref="A2.SS1.p2.2.m2.1.1">𝜸</ci><ci id="A2.SS1.p2.2.m2.2.2.cmml" xref="A2.SS1.p2.2.m2.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.2.m2.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math> alone or together. The results on CIFAR-10 (Shards, fixed epochs, <math id="A2.SS1.p2.3.m3.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="A2.SS1.p2.3.m3.1a"><mrow id="A2.SS1.p2.3.m3.1.1" xref="A2.SS1.p2.3.m3.1.1.cmml"><mi id="A2.SS1.p2.3.m3.1.1.2" xref="A2.SS1.p2.3.m3.1.1.2.cmml">E</mi><mo id="A2.SS1.p2.3.m3.1.1.1" xref="A2.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="A2.SS1.p2.3.m3.1.1.3" xref="A2.SS1.p2.3.m3.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.3.m3.1b"><apply id="A2.SS1.p2.3.m3.1.1.cmml" xref="A2.SS1.p2.3.m3.1.1"><eq id="A2.SS1.p2.3.m3.1.1.1.cmml" xref="A2.SS1.p2.3.m3.1.1.1"></eq><ci id="A2.SS1.p2.3.m3.1.1.2.cmml" xref="A2.SS1.p2.3.m3.1.1.2">𝐸</ci><cn type="integer" id="A2.SS1.p2.3.m3.1.1.3.cmml" xref="A2.SS1.p2.3.m3.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.3.m3.1c">E=100</annotation></semantics></math>) setting using ResNet20 is in <a href="#A2.T8" title="Table H ‣ B.1 Additional study of fixing BN parameters ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table H</span></a>. We observe that fixing the <math id="A2.SS1.p2.4.m4.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.SS1.p2.4.m4.2a"><mrow id="A2.SS1.p2.4.m4.2.3.2" xref="A2.SS1.p2.4.m4.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p2.4.m4.2.3.2.1" xref="A2.SS1.p2.4.m4.2.3.1.cmml">(</mo><mi id="A2.SS1.p2.4.m4.1.1" xref="A2.SS1.p2.4.m4.1.1.cmml">𝜸</mi><mo id="A2.SS1.p2.4.m4.2.3.2.2" xref="A2.SS1.p2.4.m4.2.3.1.cmml">,</mo><mi id="A2.SS1.p2.4.m4.2.2" xref="A2.SS1.p2.4.m4.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.SS1.p2.4.m4.2.3.2.3" xref="A2.SS1.p2.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.4.m4.2b"><interval closure="open" id="A2.SS1.p2.4.m4.2.3.1.cmml" xref="A2.SS1.p2.4.m4.2.3.2"><ci id="A2.SS1.p2.4.m4.1.1.cmml" xref="A2.SS1.p2.4.m4.1.1">𝜸</ci><ci id="A2.SS1.p2.4.m4.2.2.cmml" xref="A2.SS1.p2.4.m4.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.4.m4.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math> only has slight effects on the test accuracy either in combination with fixing <math id="A2.SS1.p2.5.m5.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.SS1.p2.5.m5.2a"><mrow id="A2.SS1.p2.5.m5.2.3.2" xref="A2.SS1.p2.5.m5.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p2.5.m5.2.3.2.1" xref="A2.SS1.p2.5.m5.2.3.1.cmml">(</mo><mi id="A2.SS1.p2.5.m5.1.1" xref="A2.SS1.p2.5.m5.1.1.cmml">𝜸</mi><mo id="A2.SS1.p2.5.m5.2.3.2.2" xref="A2.SS1.p2.5.m5.2.3.1.cmml">,</mo><mi id="A2.SS1.p2.5.m5.2.2" xref="A2.SS1.p2.5.m5.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.SS1.p2.5.m5.2.3.2.3" xref="A2.SS1.p2.5.m5.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.5.m5.2b"><interval closure="open" id="A2.SS1.p2.5.m5.2.3.1.cmml" xref="A2.SS1.p2.5.m5.2.3.2"><ci id="A2.SS1.p2.5.m5.1.1.cmml" xref="A2.SS1.p2.5.m5.1.1">𝜸</ci><ci id="A2.SS1.p2.5.m5.2.2.cmml" xref="A2.SS1.p2.5.m5.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.5.m5.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math> or not, validating that the statistics are the main reason making it suffers more in FL, compared to the affine transformation. Fixing <math id="A2.SS1.p2.6.m6.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.SS1.p2.6.m6.2a"><mrow id="A2.SS1.p2.6.m6.2.3.2" xref="A2.SS1.p2.6.m6.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p2.6.m6.2.3.2.1" xref="A2.SS1.p2.6.m6.2.3.1.cmml">(</mo><mi id="A2.SS1.p2.6.m6.1.1" xref="A2.SS1.p2.6.m6.1.1.cmml">𝜸</mi><mo id="A2.SS1.p2.6.m6.2.3.2.2" xref="A2.SS1.p2.6.m6.2.3.1.cmml">,</mo><mi id="A2.SS1.p2.6.m6.2.2" xref="A2.SS1.p2.6.m6.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.SS1.p2.6.m6.2.3.2.3" xref="A2.SS1.p2.6.m6.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.6.m6.2b"><interval closure="open" id="A2.SS1.p2.6.m6.2.3.1.cmml" xref="A2.SS1.p2.6.m6.2.3.2"><ci id="A2.SS1.p2.6.m6.1.1.cmml" xref="A2.SS1.p2.6.m6.1.1">𝜸</ci><ci id="A2.SS1.p2.6.m6.2.2.cmml" xref="A2.SS1.p2.6.m6.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.6.m6.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math> alone cannot match the performance of the originally proposed <span id="A2.SS1.p2.6.3" class="ltx_text ltx_font_smallcaps">FixBN</span>.</p>
</div>
<figure id="A2.T8" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table H: </span><span id="A2.T8.6.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Fixing different parameters as in <span id="A2.T8.6.3.4" class="ltx_text ltx_font_smallcaps">FixBN</span>.<span id="A2.T8.6.3.3" class="ltx_text ltx_font_medium"> We consider fixing the <span id="A2.T8.6.3.3.1" class="ltx_text ltx_font_smallcaps">BN</span> statistics <math id="A2.T8.4.1.1.m1.2" class="ltx_Math" alttext="(\bm{\mu},\bm{\sigma})" display="inline"><semantics id="A2.T8.4.1.1.m1.2b"><mrow id="A2.T8.4.1.1.m1.2.3.2" xref="A2.T8.4.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A2.T8.4.1.1.m1.2.3.2.1" xref="A2.T8.4.1.1.m1.2.3.1.cmml">(</mo><mi id="A2.T8.4.1.1.m1.1.1" xref="A2.T8.4.1.1.m1.1.1.cmml">𝝁</mi><mo id="A2.T8.4.1.1.m1.2.3.2.2" xref="A2.T8.4.1.1.m1.2.3.1.cmml">,</mo><mi id="A2.T8.4.1.1.m1.2.2" xref="A2.T8.4.1.1.m1.2.2.cmml">𝝈</mi><mo stretchy="false" id="A2.T8.4.1.1.m1.2.3.2.3" xref="A2.T8.4.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.T8.4.1.1.m1.2c"><interval closure="open" id="A2.T8.4.1.1.m1.2.3.1.cmml" xref="A2.T8.4.1.1.m1.2.3.2"><ci id="A2.T8.4.1.1.m1.1.1.cmml" xref="A2.T8.4.1.1.m1.1.1">𝝁</ci><ci id="A2.T8.4.1.1.m1.2.2.cmml" xref="A2.T8.4.1.1.m1.2.2">𝝈</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.T8.4.1.1.m1.2d">(\bm{\mu},\bm{\sigma})</annotation></semantics></math> as in original <span id="A2.T8.6.3.3.2" class="ltx_text ltx_font_smallcaps">FixBN</span> or fixing the parameters <math id="A2.T8.5.2.2.m2.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.T8.5.2.2.m2.2b"><mrow id="A2.T8.5.2.2.m2.2.3.2" xref="A2.T8.5.2.2.m2.2.3.1.cmml"><mo stretchy="false" id="A2.T8.5.2.2.m2.2.3.2.1" xref="A2.T8.5.2.2.m2.2.3.1.cmml">(</mo><mi id="A2.T8.5.2.2.m2.1.1" xref="A2.T8.5.2.2.m2.1.1.cmml">𝜸</mi><mo id="A2.T8.5.2.2.m2.2.3.2.2" xref="A2.T8.5.2.2.m2.2.3.1.cmml">,</mo><mi id="A2.T8.5.2.2.m2.2.2" xref="A2.T8.5.2.2.m2.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.T8.5.2.2.m2.2.3.2.3" xref="A2.T8.5.2.2.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.T8.5.2.2.m2.2c"><interval closure="open" id="A2.T8.5.2.2.m2.2.3.1.cmml" xref="A2.T8.5.2.2.m2.2.3.2"><ci id="A2.T8.5.2.2.m2.1.1.cmml" xref="A2.T8.5.2.2.m2.1.1">𝜸</ci><ci id="A2.T8.5.2.2.m2.2.2.cmml" xref="A2.T8.5.2.2.m2.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.T8.5.2.2.m2.2d">(\bm{\gamma},\bm{\beta})</annotation></semantics></math> of the affine transformation in <span id="A2.T8.6.3.3.3" class="ltx_text ltx_font_smallcaps">BN</span> layers.
on CIFAR-10 (Shards, fixed epochs, <math id="A2.T8.6.3.3.m3.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="A2.T8.6.3.3.m3.1b"><mrow id="A2.T8.6.3.3.m3.1.1" xref="A2.T8.6.3.3.m3.1.1.cmml"><mi id="A2.T8.6.3.3.m3.1.1.2" xref="A2.T8.6.3.3.m3.1.1.2.cmml">E</mi><mo id="A2.T8.6.3.3.m3.1.1.1" xref="A2.T8.6.3.3.m3.1.1.1.cmml">=</mo><mn id="A2.T8.6.3.3.m3.1.1.3" xref="A2.T8.6.3.3.m3.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T8.6.3.3.m3.1c"><apply id="A2.T8.6.3.3.m3.1.1.cmml" xref="A2.T8.6.3.3.m3.1.1"><eq id="A2.T8.6.3.3.m3.1.1.1.cmml" xref="A2.T8.6.3.3.m3.1.1.1"></eq><ci id="A2.T8.6.3.3.m3.1.1.2.cmml" xref="A2.T8.6.3.3.m3.1.1.2">𝐸</ci><cn type="integer" id="A2.T8.6.3.3.m3.1.1.3.cmml" xref="A2.T8.6.3.3.m3.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T8.6.3.3.m3.1d">E=100</annotation></semantics></math>) setting using ResNet20.</span></span></figcaption>
<table id="A2.T8.8" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A2.T8.8.2" class="ltx_tr">
<td id="A2.T8.7.1.1" class="ltx_td ltx_align_left ltx_border_tt"><math id="A2.T8.7.1.1.m1.2" class="ltx_Math" alttext="(\bm{\mu},\bm{\sigma})" display="inline"><semantics id="A2.T8.7.1.1.m1.2a"><mrow id="A2.T8.7.1.1.m1.2.3.2" xref="A2.T8.7.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A2.T8.7.1.1.m1.2.3.2.1" xref="A2.T8.7.1.1.m1.2.3.1.cmml">(</mo><mi id="A2.T8.7.1.1.m1.1.1" xref="A2.T8.7.1.1.m1.1.1.cmml">𝝁</mi><mo id="A2.T8.7.1.1.m1.2.3.2.2" xref="A2.T8.7.1.1.m1.2.3.1.cmml">,</mo><mi id="A2.T8.7.1.1.m1.2.2" xref="A2.T8.7.1.1.m1.2.2.cmml">𝝈</mi><mo stretchy="false" id="A2.T8.7.1.1.m1.2.3.2.3" xref="A2.T8.7.1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.T8.7.1.1.m1.2b"><interval closure="open" id="A2.T8.7.1.1.m1.2.3.1.cmml" xref="A2.T8.7.1.1.m1.2.3.2"><ci id="A2.T8.7.1.1.m1.1.1.cmml" xref="A2.T8.7.1.1.m1.1.1">𝝁</ci><ci id="A2.T8.7.1.1.m1.2.2.cmml" xref="A2.T8.7.1.1.m1.2.2">𝝈</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.T8.7.1.1.m1.2c">(\bm{\mu},\bm{\sigma})</annotation></semantics></math></td>
<td id="A2.T8.8.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt"><math id="A2.T8.8.2.2.m1.2" class="ltx_Math" alttext="(\bm{\gamma},\bm{\beta})" display="inline"><semantics id="A2.T8.8.2.2.m1.2a"><mrow id="A2.T8.8.2.2.m1.2.3.2" xref="A2.T8.8.2.2.m1.2.3.1.cmml"><mo stretchy="false" id="A2.T8.8.2.2.m1.2.3.2.1" xref="A2.T8.8.2.2.m1.2.3.1.cmml">(</mo><mi id="A2.T8.8.2.2.m1.1.1" xref="A2.T8.8.2.2.m1.1.1.cmml">𝜸</mi><mo id="A2.T8.8.2.2.m1.2.3.2.2" xref="A2.T8.8.2.2.m1.2.3.1.cmml">,</mo><mi id="A2.T8.8.2.2.m1.2.2" xref="A2.T8.8.2.2.m1.2.2.cmml">𝜷</mi><mo stretchy="false" id="A2.T8.8.2.2.m1.2.3.2.3" xref="A2.T8.8.2.2.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.T8.8.2.2.m1.2b"><interval closure="open" id="A2.T8.8.2.2.m1.2.3.1.cmml" xref="A2.T8.8.2.2.m1.2.3.2"><ci id="A2.T8.8.2.2.m1.1.1.cmml" xref="A2.T8.8.2.2.m1.1.1">𝜸</ci><ci id="A2.T8.8.2.2.m1.2.2.cmml" xref="A2.T8.8.2.2.m1.2.2">𝜷</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.T8.8.2.2.m1.2c">(\bm{\gamma},\bm{\beta})</annotation></semantics></math></td>
<td id="A2.T8.8.2.3" class="ltx_td ltx_align_center ltx_border_tt">Acc (%)</td>
</tr>
<tr id="A2.T8.8.3" class="ltx_tr">
<td id="A2.T8.8.3.1" class="ltx_td ltx_align_left ltx_border_t"><span id="A2.T8.8.3.1.1" class="ltx_text" style="color:#00FF00;">✓</span></td>
<td id="A2.T8.8.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A2.T8.8.3.2.1" class="ltx_text" style="color:#00FF00;">✓</span></td>
<td id="A2.T8.8.3.3" class="ltx_td ltx_align_center ltx_border_t">75.22</td>
</tr>
<tr id="A2.T8.8.4" class="ltx_tr">
<td id="A2.T8.8.4.1" class="ltx_td ltx_align_left"><span id="A2.T8.8.4.1.1" class="ltx_text" style="color:#00FF00;">✓</span></td>
<td id="A2.T8.8.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T8.8.4.2.1" class="ltx_text" style="color:#FF0000;">✗</span></td>
<td id="A2.T8.8.4.3" class="ltx_td ltx_align_center">76.56</td>
</tr>
<tr id="A2.T8.8.5" class="ltx_tr">
<td id="A2.T8.8.5.1" class="ltx_td ltx_align_left"><span id="A2.T8.8.5.1.1" class="ltx_text" style="color:#FF0000;">✗</span></td>
<td id="A2.T8.8.5.2" class="ltx_td ltx_align_center ltx_border_r"><span id="A2.T8.8.5.2.1" class="ltx_text" style="color:#00FF00;">✓</span></td>
<td id="A2.T8.8.5.3" class="ltx_td ltx_align_center">55.33</td>
</tr>
<tr id="A2.T8.8.6" class="ltx_tr">
<td id="A2.T8.8.6.1" class="ltx_td ltx_align_left ltx_border_bb"><span id="A2.T8.8.6.1.1" class="ltx_text" style="color:#FF0000;">✗</span></td>
<td id="A2.T8.8.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A2.T8.8.6.2.1" class="ltx_text" style="color:#FF0000;">✗</span></td>
<td id="A2.T8.8.6.3" class="ltx_td ltx_align_center ltx_border_bb">53.97</td>
</tr>
</table>
</figure>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Additional figure for maintained SGD momentum on Tiny-ImageNet in <a href="#S8.SS2" title="8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 8.2</span></a>
</h3>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.1" class="ltx_p">In <a href="#S8.F5" title="Figure 5 ‣ 8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 5</span></a>, we show the effect of maintained SGD momentum to <span id="A2.SS2.p1.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> on CIFAR-10 and provide analysis in <a href="#S8.SS2" title="8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 8.2</span></a>. Here we show that the same effect is observed on Tiny-ImageNet.</p>
</div>
<figure id="A2.F7" class="ltx_figure">
<p id="A2.F7.1.1" class="ltx_p ltx_minipage ltx_align_middle" style="width:433.6pt;">· 
<span id="A2.F7.1.1.1" class="ltx_inline-block ltx_minipage ltx_align_middle" style="width:433.6pt;"><img src="/html/2303.06530/assets/figures/sub_tiny2.png" id="A2.F7.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="240" height="128" alt="Refer to caption">
</span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure G: </span><span id="A2.F7.7.3" class="ltx_text ltx_font_bold" style="font-size:90%;">Maintained momentum results on Tiny-ImageNet.<span id="A2.F7.7.3.2" class="ltx_text ltx_font_medium"> We apply maintained </span>global momentum (<sup id="A2.F7.7.3.3" class="ltx_sup"><span id="A2.F7.7.3.3.1" class="ltx_text ltx_font_medium">†</span></sup>)<span id="A2.F7.7.3.4" class="ltx_text ltx_font_medium"> and </span>local momentum (<sup id="A2.F7.7.3.5" class="ltx_sup"><span id="A2.F7.7.3.5.1" class="ltx_text ltx_font_medium">⋆</span></sup>)<span id="A2.F7.7.3.1" class="ltx_text ltx_font_medium"> to <span id="A2.F7.7.3.1.1" class="ltx_text ltx_font_smallcaps">FedAvg</span> with different normalizers. The setting is (Shards, fixed 128 epochs) with different local steps <math id="A2.F7.7.3.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.F7.7.3.1.m1.1b"><mi id="A2.F7.7.3.1.m1.1.1" xref="A2.F7.7.3.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.F7.7.3.1.m1.1c"><ci id="A2.F7.7.3.1.m1.1.1.cmml" xref="A2.F7.7.3.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.F7.7.3.1.m1.1d">E</annotation></semantics></math>. Please refer to <a href="#S8.F5" title="Figure 5 ‣ 8.2 More analysis ‣ 8 Experiments (more in the Appendix B) ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 5</span></a> in the main paper for results on Cifar-10.</span></span></figcaption>
</figure>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Additional figures for the empirical study in <a href="#S4" title="4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 4</span></a>
</h3>

<div id="A2.SS3.p1" class="ltx_para">
<p id="A2.SS3.p1.1" class="ltx_p">In <a href="#S4" title="4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 4</span></a>, we provide a detailed empirical study to compare <span id="A2.SS3.p1.1.1" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="A2.SS3.p1.1.2" class="ltx_text ltx_font_smallcaps">GN</span> across various FL settings to understand their sweet spots. We provide a closer look at the observations we summarized in the main paper.</p>
</div>
<div id="A2.SS3.p2" class="ltx_para">
<ul id="A2.I1" class="ltx_itemize">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.2" class="ltx_p"><span id="A2.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">The trends along the number of local steps <math id="A2.I1.i1.p1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.I1.i1.p1.1.1.m1.1a"><mi id="A2.I1.i1.p1.1.1.m1.1.1" xref="A2.I1.i1.p1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.1.1.m1.1b"><ci id="A2.I1.i1.p1.1.1.m1.1.1.cmml" xref="A2.I1.i1.p1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.1.1.m1.1c">E</annotation></semantics></math> per communication round.</span> In <a href="#S9.F6" title="Figure 6 ‣ 9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 6</span></a>, we identify the opposite trends along #local steps <math id="A2.I1.i1.p1.2.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.I1.i1.p1.2.m1.1a"><mi id="A2.I1.i1.p1.2.m1.1.1" xref="A2.I1.i1.p1.2.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.2.m1.1b"><ci id="A2.I1.i1.p1.2.m1.1.1.cmml" xref="A2.I1.i1.p1.2.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.2.m1.1c">E</annotation></semantics></math> between <span id="A2.I1.i1.p1.2.2" class="ltx_text ltx_font_smallcaps">BN</span> and <span id="A2.I1.i1.p1.2.3" class="ltx_text ltx_font_smallcaps">GN</span>. Here we provide an expanded view. As shown in <a href="#A2.F8" title="Figure H ‣ B.3 Additional figures for the empirical study in section 4 ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure H</span></a>, we see GN drops with less communication as expected due to the well-known non-IID model drift problem in FL. Interestingly, we found that BN can actually improve within a certain range of communication frequencies (for local steps in [1,500]), which suggests that further investigation and theoretical analysis are required for <span id="A2.I1.i1.p1.2.4" class="ltx_text ltx_font_smallcaps">BN</span> in FL.</p>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i2.p1" class="ltx_para">
<p id="A2.I1.i2.p1.1" class="ltx_p"><span id="A2.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">More settings.</span> We further verify that factors such as participation rate and the number of clients for partitioning the data in  <a href="#A2.F9" title="Figure I ‣ B.3 Additional figures for the empirical study in section 4 ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure I</span></a>. As expected, the results are consistent with the observations summarized in <a href="#S4" title="4 Expanded Empirical Study on BN vs. GN ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 4</span></a>, particularly in that there is no definite winner between BN and GN while BN often outperforms GN.</p>
</div>
</li>
</ul>
</div>
<figure id="A2.F8" class="ltx_figure">
<div id="A2.F8.2" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:260.2pt;">
<div id="A2.F8.1.1" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/Cifar_figure2-4.png" id="A2.F8.1.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="456" alt="Refer to caption">
<p id="A2.F8.1.1.1" class="ltx_p ltx_align_center"><span id="A2.F8.1.1.1.1" class="ltx_text" style="font-size:90%;">(a) CIFAR-10</span></p>
</div>
<div id="A2.F8.2.2" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/Tiny_figure2-4.png" id="A2.F8.2.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="456" alt="Refer to caption">
<p id="A2.F8.2.2.1" class="ltx_p ltx_align_center"><span id="A2.F8.2.2.1.1" class="ltx_text" style="font-size:90%;">(b) Tiny-ImageNet</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure H: </span><span id="A2.F8.6.2" class="ltx_text ltx_font_bold" style="font-size:90%;">The opposite trends along #local steps <math id="A2.F8.5.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.F8.5.1.m1.1b"><mi id="A2.F8.5.1.m1.1.1" xref="A2.F8.5.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.F8.5.1.m1.1c"><ci id="A2.F8.5.1.m1.1.1.cmml" xref="A2.F8.5.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.F8.5.1.m1.1d">E</annotation></semantics></math>.<span id="A2.F8.6.2.2" class="ltx_text ltx_font_medium"> We consider the (Shards, </span>fixed epochs<span id="A2.F8.6.2.1" class="ltx_text ltx_font_medium">) setting: the more the local step <math id="A2.F8.6.2.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.F8.6.2.1.m1.1b"><mi id="A2.F8.6.2.1.m1.1.1" xref="A2.F8.6.2.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.F8.6.2.1.m1.1c"><ci id="A2.F8.6.2.1.m1.1.1.cmml" xref="A2.F8.6.2.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.F8.6.2.1.m1.1d">E</annotation></semantics></math> is, the fewer the total number of communication rounds is.
<span id="A2.F8.6.2.1.1" class="ltx_text ltx_font_smallcaps">GN</span> drops with less communication as expected, while <span id="A2.F8.6.2.1.2" class="ltx_text ltx_font_smallcaps">BN</span> can improve.</span></span></figcaption>
</figure>
<figure id="A2.F9" class="ltx_figure">
<div id="A2.F9.3" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:260.2pt;">
<div id="A2.F9.2.2" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/fix_num_clients100_vary_par-5.png" id="A2.F9.1.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="442" alt="Refer to caption">
<p id="A2.F9.2.2.1" class="ltx_p ltx_align_center"><span id="A2.F9.2.2.1.1" class="ltx_text" style="font-size:90%;">(a) Participation (%) <math id="A2.F9.2.2.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A2.F9.2.2.1.1.1.m1.1a"><mo id="A2.F9.2.2.1.1.1.m1.1.1" xref="A2.F9.2.2.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.F9.2.2.1.1.1.m1.1b"><times id="A2.F9.2.2.1.1.1.m1.1.1.cmml" xref="A2.F9.2.2.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.F9.2.2.1.1.1.m1.1c">\times</annotation></semantics></math> #Rounds</span></p>
</div>
<div id="A2.F9.3.3" class="ltx_block ltx_minipage ltx_align_middle" style="width:216.8pt;">
<img src="/html/2303.06530/assets/figures/fix_par100_vary_num_clients-5.png" id="A2.F9.3.3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="442" alt="Refer to caption">
<p id="A2.F9.3.3.1" class="ltx_p ltx_align_center"><span id="A2.F9.3.3.1.1" class="ltx_text" style="font-size:90%;">(b) Different #clients</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure I: </span><span id="A2.F9.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">More settings.<span id="A2.F9.5.1.1" class="ltx_text ltx_font_medium"> We consider more clients (<math id="A2.F9.5.1.1.m1.2" class="ltx_Math" alttext="M=5\sim 100,E=100" display="inline"><semantics id="A2.F9.5.1.1.m1.2b"><mrow id="A2.F9.5.1.1.m1.2.2.2" xref="A2.F9.5.1.1.m1.2.2.3.cmml"><mrow id="A2.F9.5.1.1.m1.1.1.1.1" xref="A2.F9.5.1.1.m1.1.1.1.1.cmml"><mi id="A2.F9.5.1.1.m1.1.1.1.1.2" xref="A2.F9.5.1.1.m1.1.1.1.1.2.cmml">M</mi><mo id="A2.F9.5.1.1.m1.1.1.1.1.3" xref="A2.F9.5.1.1.m1.1.1.1.1.3.cmml">=</mo><mn id="A2.F9.5.1.1.m1.1.1.1.1.4" xref="A2.F9.5.1.1.m1.1.1.1.1.4.cmml">5</mn><mo id="A2.F9.5.1.1.m1.1.1.1.1.5" xref="A2.F9.5.1.1.m1.1.1.1.1.5.cmml">∼</mo><mn id="A2.F9.5.1.1.m1.1.1.1.1.6" xref="A2.F9.5.1.1.m1.1.1.1.1.6.cmml">100</mn></mrow><mo id="A2.F9.5.1.1.m1.2.2.2.3" xref="A2.F9.5.1.1.m1.2.2.3a.cmml">,</mo><mrow id="A2.F9.5.1.1.m1.2.2.2.2" xref="A2.F9.5.1.1.m1.2.2.2.2.cmml"><mi id="A2.F9.5.1.1.m1.2.2.2.2.2" xref="A2.F9.5.1.1.m1.2.2.2.2.2.cmml">E</mi><mo id="A2.F9.5.1.1.m1.2.2.2.2.1" xref="A2.F9.5.1.1.m1.2.2.2.2.1.cmml">=</mo><mn id="A2.F9.5.1.1.m1.2.2.2.2.3" xref="A2.F9.5.1.1.m1.2.2.2.2.3.cmml">100</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.F9.5.1.1.m1.2c"><apply id="A2.F9.5.1.1.m1.2.2.3.cmml" xref="A2.F9.5.1.1.m1.2.2.2"><csymbol cd="ambiguous" id="A2.F9.5.1.1.m1.2.2.3a.cmml" xref="A2.F9.5.1.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="A2.F9.5.1.1.m1.1.1.1.1.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1"><and id="A2.F9.5.1.1.m1.1.1.1.1a.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1"></and><apply id="A2.F9.5.1.1.m1.1.1.1.1b.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1"><eq id="A2.F9.5.1.1.m1.1.1.1.1.3.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1.3"></eq><ci id="A2.F9.5.1.1.m1.1.1.1.1.2.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1.2">𝑀</ci><cn type="integer" id="A2.F9.5.1.1.m1.1.1.1.1.4.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1.4">5</cn></apply><apply id="A2.F9.5.1.1.m1.1.1.1.1c.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1"><csymbol cd="latexml" id="A2.F9.5.1.1.m1.1.1.1.1.5.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1.5">similar-to</csymbol><share href="#A2.F9.5.1.1.m1.1.1.1.1.4.cmml" id="A2.F9.5.1.1.m1.1.1.1.1d.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1"></share><cn type="integer" id="A2.F9.5.1.1.m1.1.1.1.1.6.cmml" xref="A2.F9.5.1.1.m1.1.1.1.1.6">100</cn></apply></apply><apply id="A2.F9.5.1.1.m1.2.2.2.2.cmml" xref="A2.F9.5.1.1.m1.2.2.2.2"><eq id="A2.F9.5.1.1.m1.2.2.2.2.1.cmml" xref="A2.F9.5.1.1.m1.2.2.2.2.1"></eq><ci id="A2.F9.5.1.1.m1.2.2.2.2.2.cmml" xref="A2.F9.5.1.1.m1.2.2.2.2.2">𝐸</ci><cn type="integer" id="A2.F9.5.1.1.m1.2.2.2.2.3.cmml" xref="A2.F9.5.1.1.m1.2.2.2.2.3">100</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.F9.5.1.1.m1.2d">M=5\sim 100,E=100</annotation></semantics></math>) for partitioning CIFAR-10 (Shards) with fixed epochs and varying the participation rate of clients every round.</span></span></figcaption>
</figure>
</section>
<section id="A2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Different # of groups for GN</h3>

<div id="A2.SS4.p1" class="ltx_para">
<p id="A2.SS4.p1.2" class="ltx_p">For experiments in our study, we set the <math id="A2.SS4.p1.1.m1.1" class="ltx_Math" alttext="\#" display="inline"><semantics id="A2.SS4.p1.1.m1.1a"><mi mathvariant="normal" id="A2.SS4.p1.1.m1.1.1" xref="A2.SS4.p1.1.m1.1.1.cmml">#</mi><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.1.m1.1b"><ci id="A2.SS4.p1.1.m1.1.1.cmml" xref="A2.SS4.p1.1.m1.1.1">#</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.1.m1.1c">\#</annotation></semantics></math> of groups <math id="A2.SS4.p1.2.m2.1" class="ltx_Math" alttext="=2" display="inline"><semantics id="A2.SS4.p1.2.m2.1a"><mrow id="A2.SS4.p1.2.m2.1.1" xref="A2.SS4.p1.2.m2.1.1.cmml"><mi id="A2.SS4.p1.2.m2.1.1.2" xref="A2.SS4.p1.2.m2.1.1.2.cmml"></mi><mo id="A2.SS4.p1.2.m2.1.1.1" xref="A2.SS4.p1.2.m2.1.1.1.cmml">=</mo><mn id="A2.SS4.p1.2.m2.1.1.3" xref="A2.SS4.p1.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS4.p1.2.m2.1b"><apply id="A2.SS4.p1.2.m2.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1"><eq id="A2.SS4.p1.2.m2.1.1.1.cmml" xref="A2.SS4.p1.2.m2.1.1.1"></eq><csymbol cd="latexml" id="A2.SS4.p1.2.m2.1.1.2.cmml" xref="A2.SS4.p1.2.m2.1.1.2">absent</csymbol><cn type="integer" id="A2.SS4.p1.2.m2.1.1.3.cmml" xref="A2.SS4.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS4.p1.2.m2.1c">=2</annotation></semantics></math> for <span id="A2.SS4.p1.2.1" class="ltx_text ltx_font_smallcaps">GN</span> layers. We did not find the group size a significant factor for the performance, as confirmed in <a href="#A2.T9" title="Table I ‣ B.4 Different # of groups for GN ‣ Appendix B Additional Experimental Results and Analysis ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table I</span></a>.</p>
</div>
<figure id="A2.T9" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table I: </span><span id="A2.T9.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Effects of the groupsize for <span id="A2.T9.4.2.3" class="ltx_text ltx_font_smallcaps">GN</span>.<span id="A2.T9.4.2.2" class="ltx_text ltx_font_medium"> We experiment with different # of groups (<math id="A2.T9.3.1.1.m1.1" class="ltx_Math" alttext="2\sim 8" display="inline"><semantics id="A2.T9.3.1.1.m1.1b"><mrow id="A2.T9.3.1.1.m1.1.1" xref="A2.T9.3.1.1.m1.1.1.cmml"><mn id="A2.T9.3.1.1.m1.1.1.2" xref="A2.T9.3.1.1.m1.1.1.2.cmml">2</mn><mo id="A2.T9.3.1.1.m1.1.1.1" xref="A2.T9.3.1.1.m1.1.1.1.cmml">∼</mo><mn id="A2.T9.3.1.1.m1.1.1.3" xref="A2.T9.3.1.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.3.1.1.m1.1c"><apply id="A2.T9.3.1.1.m1.1.1.cmml" xref="A2.T9.3.1.1.m1.1.1"><csymbol cd="latexml" id="A2.T9.3.1.1.m1.1.1.1.cmml" xref="A2.T9.3.1.1.m1.1.1.1">similar-to</csymbol><cn type="integer" id="A2.T9.3.1.1.m1.1.1.2.cmml" xref="A2.T9.3.1.1.m1.1.1.2">2</cn><cn type="integer" id="A2.T9.3.1.1.m1.1.1.3.cmml" xref="A2.T9.3.1.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.3.1.1.m1.1d">2\sim 8</annotation></semantics></math>) to divide the channels in <span id="A2.T9.4.2.2.1" class="ltx_text ltx_font_smallcaps">GN</span> layers in the CIFAR-10 (Shards, <math id="A2.T9.4.2.2.m2.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="A2.T9.4.2.2.m2.1b"><mrow id="A2.T9.4.2.2.m2.1.1" xref="A2.T9.4.2.2.m2.1.1.cmml"><mi id="A2.T9.4.2.2.m2.1.1.2" xref="A2.T9.4.2.2.m2.1.1.2.cmml">E</mi><mo id="A2.T9.4.2.2.m2.1.1.1" xref="A2.T9.4.2.2.m2.1.1.1.cmml">=</mo><mn id="A2.T9.4.2.2.m2.1.1.3" xref="A2.T9.4.2.2.m2.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T9.4.2.2.m2.1c"><apply id="A2.T9.4.2.2.m2.1.1.cmml" xref="A2.T9.4.2.2.m2.1.1"><eq id="A2.T9.4.2.2.m2.1.1.1.cmml" xref="A2.T9.4.2.2.m2.1.1.1"></eq><ci id="A2.T9.4.2.2.m2.1.1.2.cmml" xref="A2.T9.4.2.2.m2.1.1.2">𝐸</ci><cn type="integer" id="A2.T9.4.2.2.m2.1.1.3.cmml" xref="A2.T9.4.2.2.m2.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.4.2.2.m2.1d">E=100</annotation></semantics></math>) with fixed epochs setting.</span></span></figcaption>
<table id="A2.T9.7" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A2.T9.7.4" class="ltx_tr">
<td id="A2.T9.7.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Groupsize</td>
<td id="A2.T9.7.4.2" class="ltx_td ltx_align_center ltx_border_tt">Acc(%)</td>
</tr>
<tr id="A2.T9.5.1" class="ltx_tr">
<td id="A2.T9.5.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><math id="A2.T9.5.1.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="A2.T9.5.1.1.m1.1a"><mn id="A2.T9.5.1.1.m1.1.1" xref="A2.T9.5.1.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="A2.T9.5.1.1.m1.1b"><cn type="integer" id="A2.T9.5.1.1.m1.1.1.cmml" xref="A2.T9.5.1.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.5.1.1.m1.1c">2</annotation></semantics></math></td>
<td id="A2.T9.5.1.2" class="ltx_td ltx_align_center ltx_border_t">59.42</td>
</tr>
<tr id="A2.T9.6.2" class="ltx_tr">
<td id="A2.T9.6.2.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A2.T9.6.2.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A2.T9.6.2.1.m1.1a"><mn id="A2.T9.6.2.1.m1.1.1" xref="A2.T9.6.2.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A2.T9.6.2.1.m1.1b"><cn type="integer" id="A2.T9.6.2.1.m1.1.1.cmml" xref="A2.T9.6.2.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.6.2.1.m1.1c">4</annotation></semantics></math></td>
<td id="A2.T9.6.2.2" class="ltx_td ltx_align_center">57.61</td>
</tr>
<tr id="A2.T9.7.3" class="ltx_tr">
<td id="A2.T9.7.3.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><math id="A2.T9.7.3.1.m1.1" class="ltx_Math" alttext="8" display="inline"><semantics id="A2.T9.7.3.1.m1.1a"><mn id="A2.T9.7.3.1.m1.1.1" xref="A2.T9.7.3.1.m1.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="A2.T9.7.3.1.m1.1b"><cn type="integer" id="A2.T9.7.3.1.m1.1.1.cmml" xref="A2.T9.7.3.1.m1.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T9.7.3.1.m1.1c">8</annotation></semantics></math></td>
<td id="A2.T9.7.3.2" class="ltx_td ltx_align_center ltx_border_bb">58.86</td>
</tr>
</table>
</figure>
</section>
<section id="A2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.5 </span>Effects of batch size for <span id="A2.SS5.1.1" class="ltx_text ltx_font_smallcaps">BN</span>
</h3>

<div id="A2.SS5.p1" class="ltx_para">
<p id="A2.SS5.p1.1" class="ltx_p">We experiment with various batch sizes for both BN and <span id="A2.SS5.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> in the CIFAR-10 (Shards, <math id="A2.SS5.p1.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="A2.SS5.p1.1.m1.1a"><mrow id="A2.SS5.p1.1.m1.1.1" xref="A2.SS5.p1.1.m1.1.1.cmml"><mi id="A2.SS5.p1.1.m1.1.1.2" xref="A2.SS5.p1.1.m1.1.1.2.cmml">E</mi><mo id="A2.SS5.p1.1.m1.1.1.1" xref="A2.SS5.p1.1.m1.1.1.1.cmml">=</mo><mn id="A2.SS5.p1.1.m1.1.1.3" xref="A2.SS5.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS5.p1.1.m1.1b"><apply id="A2.SS5.p1.1.m1.1.1.cmml" xref="A2.SS5.p1.1.m1.1.1"><eq id="A2.SS5.p1.1.m1.1.1.1.cmml" xref="A2.SS5.p1.1.m1.1.1.1"></eq><ci id="A2.SS5.p1.1.m1.1.1.2.cmml" xref="A2.SS5.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A2.SS5.p1.1.m1.1.1.3.cmml" xref="A2.SS5.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS5.p1.1.m1.1c">E=1</annotation></semantics></math>) setting and saw <span id="A2.SS5.p1.1.2" class="ltx_text ltx_font_smallcaps">FixBN</span> maintains the advantage over standard <span id="A2.SS5.p1.1.3" class="ltx_text ltx_font_smallcaps">FedAvg</span> +BN.</p>
</div>
<figure id="A2.F10" class="ltx_figure"><img src="/html/2303.06530/assets/figures/batch-size-2.png" id="A2.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="299" height="117" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure J: </span><span id="A2.F10.2.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">FixBN<span id="A2.F10.2.1.1" class="ltx_text ltx_font_upright"> maintains advantage over different batch size selections.</span></span></figcaption>
</figure>
</section>
<section id="A2.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.6 </span>Method for selecting <math id="A2.SS6.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A2.SS6.1.m1.1b"><msup id="A2.SS6.1.m1.1.1" xref="A2.SS6.1.m1.1.1.cmml"><mi id="A2.SS6.1.m1.1.1.2" xref="A2.SS6.1.m1.1.1.2.cmml">T</mi><mo id="A2.SS6.1.m1.1.1.3" xref="A2.SS6.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS6.1.m1.1c"><apply id="A2.SS6.1.m1.1.1.cmml" xref="A2.SS6.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS6.1.m1.1.1.1.cmml" xref="A2.SS6.1.m1.1.1">superscript</csymbol><ci id="A2.SS6.1.m1.1.1.2.cmml" xref="A2.SS6.1.m1.1.1.2">𝑇</ci><ci id="A2.SS6.1.m1.1.1.3.cmml" xref="A2.SS6.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.1.m1.1d">T^{\star}</annotation></semantics></math>
</h3>

<div id="A2.SS6.p1" class="ltx_para">
<p id="A2.SS6.p1.7" class="ltx_p"><math id="A2.SS6.p1.1.m1.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A2.SS6.p1.1.m1.1a"><msup id="A2.SS6.p1.1.m1.1.1" xref="A2.SS6.p1.1.m1.1.1.cmml"><mi id="A2.SS6.p1.1.m1.1.1.2" xref="A2.SS6.p1.1.m1.1.1.2.cmml">T</mi><mo id="A2.SS6.p1.1.m1.1.1.3" xref="A2.SS6.p1.1.m1.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.1.m1.1b"><apply id="A2.SS6.p1.1.m1.1.1.cmml" xref="A2.SS6.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS6.p1.1.m1.1.1.1.cmml" xref="A2.SS6.p1.1.m1.1.1">superscript</csymbol><ci id="A2.SS6.p1.1.m1.1.1.2.cmml" xref="A2.SS6.p1.1.m1.1.1.2">𝑇</ci><ci id="A2.SS6.p1.1.m1.1.1.3.cmml" xref="A2.SS6.p1.1.m1.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.1.m1.1c">T^{\star}</annotation></semantics></math> denotes the round for which we begin to “freeze” <span id="A2.SS6.p1.7.1" class="ltx_text ltx_font_smallcaps">BN</span> layer in local training. As discussed in <a href="#S6.SS1" title="6.1 Insights from the training dynamics ‣ 6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 6.1</span></a> and shown in <a href="#S5.F3" title="Figure 3 ‣ 5.1 BN makes the gradients biased in local training ‣ 5 Rethinking Batch Normalization in FL ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 3</span></a> (b) and (c), what enables the replacement of stochastically calculated local statistics in local training with fixed statistics is the reduction of variation in local statistics and convergence of local models. While these observations do not give a definitive answer to exactly where <math id="A2.SS6.p1.2.m2.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A2.SS6.p1.2.m2.1a"><msup id="A2.SS6.p1.2.m2.1.1" xref="A2.SS6.p1.2.m2.1.1.cmml"><mi id="A2.SS6.p1.2.m2.1.1.2" xref="A2.SS6.p1.2.m2.1.1.2.cmml">T</mi><mo id="A2.SS6.p1.2.m2.1.1.3" xref="A2.SS6.p1.2.m2.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.2.m2.1b"><apply id="A2.SS6.p1.2.m2.1.1.cmml" xref="A2.SS6.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A2.SS6.p1.2.m2.1.1.1.cmml" xref="A2.SS6.p1.2.m2.1.1">superscript</csymbol><ci id="A2.SS6.p1.2.m2.1.1.2.cmml" xref="A2.SS6.p1.2.m2.1.1.2">𝑇</ci><ci id="A2.SS6.p1.2.m2.1.1.3.cmml" xref="A2.SS6.p1.2.m2.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.2.m2.1c">T^{\star}</annotation></semantics></math> exists, they lead to three natural approaches: 1) assuming the training budget allows, the user could observe local mini-batch statistics in train time and visually determine a good <math id="A2.SS6.p1.3.m3.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="A2.SS6.p1.3.m3.1a"><msup id="A2.SS6.p1.3.m3.1.1" xref="A2.SS6.p1.3.m3.1.1.cmml"><mi id="A2.SS6.p1.3.m3.1.1.2" xref="A2.SS6.p1.3.m3.1.1.2.cmml">T</mi><mo id="A2.SS6.p1.3.m3.1.1.3" xref="A2.SS6.p1.3.m3.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.3.m3.1b"><apply id="A2.SS6.p1.3.m3.1.1.cmml" xref="A2.SS6.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A2.SS6.p1.3.m3.1.1.1.cmml" xref="A2.SS6.p1.3.m3.1.1">superscript</csymbol><ci id="A2.SS6.p1.3.m3.1.1.2.cmml" xref="A2.SS6.p1.3.m3.1.1.2">𝑇</ci><ci id="A2.SS6.p1.3.m3.1.1.3.cmml" xref="A2.SS6.p1.3.m3.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.3.m3.1c">T^{\star}</annotation></semantics></math> for their specific tasks in which the local mini-batch statistics or loss converge. 2) Alternatively, one could adapt a sliding window and decide based on the rate of change of local statistics within this window. Specifically, define W as the size of a sliding window, define <math id="A2.SS6.p1.4.m4.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A2.SS6.p1.4.m4.1a"><mi id="A2.SS6.p1.4.m4.1.1" xref="A2.SS6.p1.4.m4.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.4.m4.1b"><ci id="A2.SS6.p1.4.m4.1.1.cmml" xref="A2.SS6.p1.4.m4.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.4.m4.1c">\tau</annotation></semantics></math> as the FixBN threshold, compute <math id="A2.SS6.p1.5.m5.7" class="ltx_Math" alttext="\text{Var}_{\Delta m,t}=\frac{1}{W}\sum_{i=t-W+1}^{t}(\Delta\text{BN}_{m,i}-\overline{\Delta\text{BN}_{m,t}})^{2}" display="inline"><semantics id="A2.SS6.p1.5.m5.7a"><mrow id="A2.SS6.p1.5.m5.7.7" xref="A2.SS6.p1.5.m5.7.7.cmml"><msub id="A2.SS6.p1.5.m5.7.7.3" xref="A2.SS6.p1.5.m5.7.7.3.cmml"><mtext id="A2.SS6.p1.5.m5.7.7.3.2" xref="A2.SS6.p1.5.m5.7.7.3.2a.cmml">Var</mtext><mrow id="A2.SS6.p1.5.m5.2.2.2.2" xref="A2.SS6.p1.5.m5.2.2.2.3.cmml"><mrow id="A2.SS6.p1.5.m5.2.2.2.2.1" xref="A2.SS6.p1.5.m5.2.2.2.2.1.cmml"><mi mathvariant="normal" id="A2.SS6.p1.5.m5.2.2.2.2.1.2" xref="A2.SS6.p1.5.m5.2.2.2.2.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A2.SS6.p1.5.m5.2.2.2.2.1.1" xref="A2.SS6.p1.5.m5.2.2.2.2.1.1.cmml">​</mo><mi id="A2.SS6.p1.5.m5.2.2.2.2.1.3" xref="A2.SS6.p1.5.m5.2.2.2.2.1.3.cmml">m</mi></mrow><mo id="A2.SS6.p1.5.m5.2.2.2.2.2" xref="A2.SS6.p1.5.m5.2.2.2.3.cmml">,</mo><mi id="A2.SS6.p1.5.m5.1.1.1.1" xref="A2.SS6.p1.5.m5.1.1.1.1.cmml">t</mi></mrow></msub><mo id="A2.SS6.p1.5.m5.7.7.2" xref="A2.SS6.p1.5.m5.7.7.2.cmml">=</mo><mrow id="A2.SS6.p1.5.m5.7.7.1" xref="A2.SS6.p1.5.m5.7.7.1.cmml"><mfrac id="A2.SS6.p1.5.m5.7.7.1.3" xref="A2.SS6.p1.5.m5.7.7.1.3.cmml"><mn id="A2.SS6.p1.5.m5.7.7.1.3.2" xref="A2.SS6.p1.5.m5.7.7.1.3.2.cmml">1</mn><mi id="A2.SS6.p1.5.m5.7.7.1.3.3" xref="A2.SS6.p1.5.m5.7.7.1.3.3.cmml">W</mi></mfrac><mo lspace="0em" rspace="0em" id="A2.SS6.p1.5.m5.7.7.1.2" xref="A2.SS6.p1.5.m5.7.7.1.2.cmml">​</mo><mrow id="A2.SS6.p1.5.m5.7.7.1.1" xref="A2.SS6.p1.5.m5.7.7.1.1.cmml"><msubsup id="A2.SS6.p1.5.m5.7.7.1.1.2" xref="A2.SS6.p1.5.m5.7.7.1.1.2.cmml"><mo rspace="0em" id="A2.SS6.p1.5.m5.7.7.1.1.2.2.2" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.2.cmml">∑</mo><mrow id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.cmml"><mi id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.2" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.2.cmml">i</mi><mo id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.1" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.1.cmml">=</mo><mrow id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.cmml"><mrow id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.cmml"><mi id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.2" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.2.cmml">t</mi><mo id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.1" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.1.cmml">−</mo><mi id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.3" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.3.cmml">W</mi></mrow><mo id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.1" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.1.cmml">+</mo><mn id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.3" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.3.cmml">1</mn></mrow></mrow><mi id="A2.SS6.p1.5.m5.7.7.1.1.2.3" xref="A2.SS6.p1.5.m5.7.7.1.1.2.3.cmml">t</mi></msubsup><msup id="A2.SS6.p1.5.m5.7.7.1.1.1" xref="A2.SS6.p1.5.m5.7.7.1.1.1.cmml"><mrow id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.2" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.cmml">(</mo><mrow id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.cmml"><mrow id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.cmml"><mi mathvariant="normal" id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.2" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.1" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.cmml"><mtext id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2a.cmml">BN</mtext><mrow id="A2.SS6.p1.5.m5.4.4.2.4" xref="A2.SS6.p1.5.m5.4.4.2.3.cmml"><mi id="A2.SS6.p1.5.m5.3.3.1.1" xref="A2.SS6.p1.5.m5.3.3.1.1.cmml">m</mi><mo id="A2.SS6.p1.5.m5.4.4.2.4.1" xref="A2.SS6.p1.5.m5.4.4.2.3.cmml">,</mo><mi id="A2.SS6.p1.5.m5.4.4.2.2" xref="A2.SS6.p1.5.m5.4.4.2.2.cmml">i</mi></mrow></msub></mrow><mo id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.1" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.1.cmml">−</mo><mover accent="true" id="A2.SS6.p1.5.m5.6.6" xref="A2.SS6.p1.5.m5.6.6.cmml"><mrow id="A2.SS6.p1.5.m5.6.6.2" xref="A2.SS6.p1.5.m5.6.6.2.cmml"><mi mathvariant="normal" id="A2.SS6.p1.5.m5.6.6.2.4" xref="A2.SS6.p1.5.m5.6.6.2.4.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="A2.SS6.p1.5.m5.6.6.2.3" xref="A2.SS6.p1.5.m5.6.6.2.3.cmml">​</mo><msub id="A2.SS6.p1.5.m5.6.6.2.5" xref="A2.SS6.p1.5.m5.6.6.2.5.cmml"><mtext id="A2.SS6.p1.5.m5.6.6.2.5.2" xref="A2.SS6.p1.5.m5.6.6.2.5.2a.cmml">BN</mtext><mrow id="A2.SS6.p1.5.m5.6.6.2.2.2.4" xref="A2.SS6.p1.5.m5.6.6.2.2.2.3.cmml"><mi id="A2.SS6.p1.5.m5.5.5.1.1.1.1" xref="A2.SS6.p1.5.m5.5.5.1.1.1.1.cmml">m</mi><mo id="A2.SS6.p1.5.m5.6.6.2.2.2.4.1" xref="A2.SS6.p1.5.m5.6.6.2.2.2.3.cmml">,</mo><mi id="A2.SS6.p1.5.m5.6.6.2.2.2.2" xref="A2.SS6.p1.5.m5.6.6.2.2.2.2.cmml">t</mi></mrow></msub></mrow><mo id="A2.SS6.p1.5.m5.6.6.3" xref="A2.SS6.p1.5.m5.6.6.3.cmml">¯</mo></mover></mrow><mo stretchy="false" id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.3" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="A2.SS6.p1.5.m5.7.7.1.1.1.3" xref="A2.SS6.p1.5.m5.7.7.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.5.m5.7b"><apply id="A2.SS6.p1.5.m5.7.7.cmml" xref="A2.SS6.p1.5.m5.7.7"><eq id="A2.SS6.p1.5.m5.7.7.2.cmml" xref="A2.SS6.p1.5.m5.7.7.2"></eq><apply id="A2.SS6.p1.5.m5.7.7.3.cmml" xref="A2.SS6.p1.5.m5.7.7.3"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.7.7.3.1.cmml" xref="A2.SS6.p1.5.m5.7.7.3">subscript</csymbol><ci id="A2.SS6.p1.5.m5.7.7.3.2a.cmml" xref="A2.SS6.p1.5.m5.7.7.3.2"><mtext id="A2.SS6.p1.5.m5.7.7.3.2.cmml" xref="A2.SS6.p1.5.m5.7.7.3.2">Var</mtext></ci><list id="A2.SS6.p1.5.m5.2.2.2.3.cmml" xref="A2.SS6.p1.5.m5.2.2.2.2"><apply id="A2.SS6.p1.5.m5.2.2.2.2.1.cmml" xref="A2.SS6.p1.5.m5.2.2.2.2.1"><times id="A2.SS6.p1.5.m5.2.2.2.2.1.1.cmml" xref="A2.SS6.p1.5.m5.2.2.2.2.1.1"></times><ci id="A2.SS6.p1.5.m5.2.2.2.2.1.2.cmml" xref="A2.SS6.p1.5.m5.2.2.2.2.1.2">Δ</ci><ci id="A2.SS6.p1.5.m5.2.2.2.2.1.3.cmml" xref="A2.SS6.p1.5.m5.2.2.2.2.1.3">𝑚</ci></apply><ci id="A2.SS6.p1.5.m5.1.1.1.1.cmml" xref="A2.SS6.p1.5.m5.1.1.1.1">𝑡</ci></list></apply><apply id="A2.SS6.p1.5.m5.7.7.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1"><times id="A2.SS6.p1.5.m5.7.7.1.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.2"></times><apply id="A2.SS6.p1.5.m5.7.7.1.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.3"><divide id="A2.SS6.p1.5.m5.7.7.1.3.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.3"></divide><cn type="integer" id="A2.SS6.p1.5.m5.7.7.1.3.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.3.2">1</cn><ci id="A2.SS6.p1.5.m5.7.7.1.3.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.3.3">𝑊</ci></apply><apply id="A2.SS6.p1.5.m5.7.7.1.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1"><apply id="A2.SS6.p1.5.m5.7.7.1.1.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.7.7.1.1.2.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2">superscript</csymbol><apply id="A2.SS6.p1.5.m5.7.7.1.1.2.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.7.7.1.1.2.2.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2">subscript</csymbol><sum id="A2.SS6.p1.5.m5.7.7.1.1.2.2.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.2"></sum><apply id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3"><eq id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.1"></eq><ci id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.2">𝑖</ci><apply id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3"><plus id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.1"></plus><apply id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2"><minus id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.1"></minus><ci id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.2">𝑡</ci><ci id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.2.3">𝑊</ci></apply><cn type="integer" id="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.2.3.3.3">1</cn></apply></apply></apply><ci id="A2.SS6.p1.5.m5.7.7.1.1.2.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.2.3">𝑡</ci></apply><apply id="A2.SS6.p1.5.m5.7.7.1.1.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.7.7.1.1.1.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1">superscript</csymbol><apply id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1"><minus id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.1"></minus><apply id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2"><times id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.1"></times><ci id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.2">Δ</ci><apply id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.1.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2a.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2"><mtext id="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.1.1.1.2.3.2">BN</mtext></ci><list id="A2.SS6.p1.5.m5.4.4.2.3.cmml" xref="A2.SS6.p1.5.m5.4.4.2.4"><ci id="A2.SS6.p1.5.m5.3.3.1.1.cmml" xref="A2.SS6.p1.5.m5.3.3.1.1">𝑚</ci><ci id="A2.SS6.p1.5.m5.4.4.2.2.cmml" xref="A2.SS6.p1.5.m5.4.4.2.2">𝑖</ci></list></apply></apply><apply id="A2.SS6.p1.5.m5.6.6.cmml" xref="A2.SS6.p1.5.m5.6.6"><ci id="A2.SS6.p1.5.m5.6.6.3.cmml" xref="A2.SS6.p1.5.m5.6.6.3">¯</ci><apply id="A2.SS6.p1.5.m5.6.6.2.cmml" xref="A2.SS6.p1.5.m5.6.6.2"><times id="A2.SS6.p1.5.m5.6.6.2.3.cmml" xref="A2.SS6.p1.5.m5.6.6.2.3"></times><ci id="A2.SS6.p1.5.m5.6.6.2.4.cmml" xref="A2.SS6.p1.5.m5.6.6.2.4">Δ</ci><apply id="A2.SS6.p1.5.m5.6.6.2.5.cmml" xref="A2.SS6.p1.5.m5.6.6.2.5"><csymbol cd="ambiguous" id="A2.SS6.p1.5.m5.6.6.2.5.1.cmml" xref="A2.SS6.p1.5.m5.6.6.2.5">subscript</csymbol><ci id="A2.SS6.p1.5.m5.6.6.2.5.2a.cmml" xref="A2.SS6.p1.5.m5.6.6.2.5.2"><mtext id="A2.SS6.p1.5.m5.6.6.2.5.2.cmml" xref="A2.SS6.p1.5.m5.6.6.2.5.2">BN</mtext></ci><list id="A2.SS6.p1.5.m5.6.6.2.2.2.3.cmml" xref="A2.SS6.p1.5.m5.6.6.2.2.2.4"><ci id="A2.SS6.p1.5.m5.5.5.1.1.1.1.cmml" xref="A2.SS6.p1.5.m5.5.5.1.1.1.1">𝑚</ci><ci id="A2.SS6.p1.5.m5.6.6.2.2.2.2.cmml" xref="A2.SS6.p1.5.m5.6.6.2.2.2.2">𝑡</ci></list></apply></apply></apply></apply><cn type="integer" id="A2.SS6.p1.5.m5.7.7.1.1.1.3.cmml" xref="A2.SS6.p1.5.m5.7.7.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.5.m5.7c">\text{Var}_{\Delta m,t}=\frac{1}{W}\sum_{i=t-W+1}^{t}(\Delta\text{BN}_{m,i}-\overline{\Delta\text{BN}_{m,t}})^{2}</annotation></semantics></math>, if this falls under <math id="A2.SS6.p1.6.m6.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A2.SS6.p1.6.m6.1a"><mi id="A2.SS6.p1.6.m6.1.1" xref="A2.SS6.p1.6.m6.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.6.m6.1b"><ci id="A2.SS6.p1.6.m6.1.1.cmml" xref="A2.SS6.p1.6.m6.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.6.m6.1c">\tau</annotation></semantics></math>, then we apply FixBN. With this setup, we recommend using a large W and small <math id="A2.SS6.p1.7.m7.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="A2.SS6.p1.7.m7.1a"><mi id="A2.SS6.p1.7.m7.1.1" xref="A2.SS6.p1.7.m7.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="A2.SS6.p1.7.m7.1b"><ci id="A2.SS6.p1.7.m7.1.1.cmml" xref="A2.SS6.p1.7.m7.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS6.p1.7.m7.1c">\tau</annotation></semantics></math> to account for instability during training. 3) Additionally, it could be done by cross-validation, or we can apply federated hyperparameter optimization proposed in <cite class="ltx_cite ltx_citemacro_citet">Khodak et al. (<a href="#bib.bib33" title="" class="ltx_ref">2021</a>)</cite>, similar to the general approach to determine a hyperparameter.</p>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span><span id="A3.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> Algorithm</h2>

<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.16" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.3.3" class="ltx_listingline">





<span id="alg1.3.3.1" class="ltx_text ltx_font_bold">Server input :</span> initial global model weights <math id="alg1.1.1.m1.1" class="ltx_Math" alttext="\bar{\bm{\theta}}_{1}" display="inline"><semantics id="alg1.1.1.m1.1a"><msub id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml"><mover accent="true" id="alg1.1.1.m1.1.1.2" xref="alg1.1.1.m1.1.1.2.cmml"><mi id="alg1.1.1.m1.1.1.2.2" xref="alg1.1.1.m1.1.1.2.2.cmml">𝜽</mi><mo id="alg1.1.1.m1.1.1.2.1" xref="alg1.1.1.m1.1.1.2.1.cmml">¯</mo></mover><mn id="alg1.1.1.m1.1.1.3" xref="alg1.1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.1b"><apply id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.1.1.1.cmml" xref="alg1.1.1.m1.1.1">subscript</csymbol><apply id="alg1.1.1.m1.1.1.2.cmml" xref="alg1.1.1.m1.1.1.2"><ci id="alg1.1.1.m1.1.1.2.1.cmml" xref="alg1.1.1.m1.1.1.2.1">¯</ci><ci id="alg1.1.1.m1.1.1.2.2.cmml" xref="alg1.1.1.m1.1.1.2.2">𝜽</ci></apply><cn type="integer" id="alg1.1.1.m1.1.1.3.cmml" xref="alg1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.1c">\bar{\bm{\theta}}_{1}</annotation></semantics></math>, fixing round <math id="alg1.2.2.m2.1" class="ltx_Math" alttext="T^{\star}" display="inline"><semantics id="alg1.2.2.m2.1a"><msup id="alg1.2.2.m2.1.1" xref="alg1.2.2.m2.1.1.cmml"><mi id="alg1.2.2.m2.1.1.2" xref="alg1.2.2.m2.1.1.2.cmml">T</mi><mo id="alg1.2.2.m2.1.1.3" xref="alg1.2.2.m2.1.1.3.cmml">⋆</mo></msup><annotation-xml encoding="MathML-Content" id="alg1.2.2.m2.1b"><apply id="alg1.2.2.m2.1.1.cmml" xref="alg1.2.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.2.2.m2.1.1.1.cmml" xref="alg1.2.2.m2.1.1">superscript</csymbol><ci id="alg1.2.2.m2.1.1.2.cmml" xref="alg1.2.2.m2.1.1.2">𝑇</ci><ci id="alg1.2.2.m2.1.1.3.cmml" xref="alg1.2.2.m2.1.1.3">⋆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m2.1c">T^{\star}</annotation></semantics></math> (in <a href="#S6.SS2" title="6.2 FixBN by two-stage training ‣ 6 FixBN: Towards Breaking the Dilemma of BN in Federated Learning ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 6.2</span></a>), total number of rounds <math id="alg1.3.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.3.3.m3.1a"><mi id="alg1.3.3.m3.1.1" xref="alg1.3.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.3.3.m3.1b"><ci id="alg1.3.3.m3.1.1.cmml" xref="alg1.3.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m3.1c">T</annotation></semantics></math>
</div>
<div id="alg1.5.5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
<span id="alg1.5.5.3" class="ltx_text ltx_font_bold">for</span> <em id="alg1.5.5.2" class="ltx_emph ltx_font_italic"><math id="alg1.4.4.1.m1.1" class="ltx_Math" alttext="t\leftarrow 1" display="inline"><semantics id="alg1.4.4.1.m1.1a"><mrow id="alg1.4.4.1.m1.1.1" xref="alg1.4.4.1.m1.1.1.cmml"><mi id="alg1.4.4.1.m1.1.1.2" xref="alg1.4.4.1.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="alg1.4.4.1.m1.1.1.1" xref="alg1.4.4.1.m1.1.1.1.cmml">←</mo><mn id="alg1.4.4.1.m1.1.1.3" xref="alg1.4.4.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.4.4.1.m1.1b"><apply id="alg1.4.4.1.m1.1.1.cmml" xref="alg1.4.4.1.m1.1.1"><ci id="alg1.4.4.1.m1.1.1.1.cmml" xref="alg1.4.4.1.m1.1.1.1">←</ci><ci id="alg1.4.4.1.m1.1.1.2.cmml" xref="alg1.4.4.1.m1.1.1.2">𝑡</ci><cn type="integer" id="alg1.4.4.1.m1.1.1.3.cmml" xref="alg1.4.4.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.1.m1.1c">t\leftarrow 1</annotation></semantics></math> <span id="alg1.5.5.2.1" class="ltx_text ltx_font_bold ltx_font_upright">to</span> <math id="alg1.5.5.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.5.5.2.m2.1a"><mi id="alg1.5.5.2.m2.1.1" xref="alg1.5.5.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.5.5.2.m2.1b"><ci id="alg1.5.5.2.m2.1.1.cmml" xref="alg1.5.5.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.2.m2.1c">T</annotation></semantics></math> rounds</em> <span id="alg1.5.5.4" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.7.7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.7.7.1" class="ltx_text ltx_font_bold">Communicate</span> <math id="alg1.6.6.m1.1" class="ltx_Math" alttext="\bar{\bm{\theta}}_{t}" display="inline"><semantics id="alg1.6.6.m1.1a"><msub id="alg1.6.6.m1.1.1" xref="alg1.6.6.m1.1.1.cmml"><mover accent="true" id="alg1.6.6.m1.1.1.2" xref="alg1.6.6.m1.1.1.2.cmml"><mi id="alg1.6.6.m1.1.1.2.2" xref="alg1.6.6.m1.1.1.2.2.cmml">𝜽</mi><mo id="alg1.6.6.m1.1.1.2.1" xref="alg1.6.6.m1.1.1.2.1.cmml">¯</mo></mover><mi id="alg1.6.6.m1.1.1.3" xref="alg1.6.6.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.6.6.m1.1b"><apply id="alg1.6.6.m1.1.1.cmml" xref="alg1.6.6.m1.1.1"><csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.1.cmml" xref="alg1.6.6.m1.1.1">subscript</csymbol><apply id="alg1.6.6.m1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.2"><ci id="alg1.6.6.m1.1.1.2.1.cmml" xref="alg1.6.6.m1.1.1.2.1">¯</ci><ci id="alg1.6.6.m1.1.1.2.2.cmml" xref="alg1.6.6.m1.1.1.2.2">𝜽</ci></apply><ci id="alg1.6.6.m1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m1.1c">\bar{\bm{\theta}}_{t}</annotation></semantics></math> to all (sampled) clients <math id="alg1.7.7.m2.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="alg1.7.7.m2.1a"><mrow id="alg1.7.7.m2.1.2" xref="alg1.7.7.m2.1.2.cmml"><mi id="alg1.7.7.m2.1.2.2" xref="alg1.7.7.m2.1.2.2.cmml">m</mi><mo id="alg1.7.7.m2.1.2.1" xref="alg1.7.7.m2.1.2.1.cmml">∈</mo><mrow id="alg1.7.7.m2.1.2.3.2" xref="alg1.7.7.m2.1.2.3.1.cmml"><mo stretchy="false" id="alg1.7.7.m2.1.2.3.2.1" xref="alg1.7.7.m2.1.2.3.1.1.cmml">[</mo><mi id="alg1.7.7.m2.1.1" xref="alg1.7.7.m2.1.1.cmml">M</mi><mo stretchy="false" id="alg1.7.7.m2.1.2.3.2.2" xref="alg1.7.7.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.m2.1b"><apply id="alg1.7.7.m2.1.2.cmml" xref="alg1.7.7.m2.1.2"><in id="alg1.7.7.m2.1.2.1.cmml" xref="alg1.7.7.m2.1.2.1"></in><ci id="alg1.7.7.m2.1.2.2.cmml" xref="alg1.7.7.m2.1.2.2">𝑚</ci><apply id="alg1.7.7.m2.1.2.3.1.cmml" xref="alg1.7.7.m2.1.2.3.2"><csymbol cd="latexml" id="alg1.7.7.m2.1.2.3.1.1.cmml" xref="alg1.7.7.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.7.7.m2.1.1.cmml" xref="alg1.7.7.m2.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.m2.1c">m\in[M]</annotation></semantics></math>;
</div>
<div id="alg1.8.8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.8.8.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.8.8.1" class="ltx_emph ltx_font_italic">each client <math id="alg1.8.8.1.m1.1" class="ltx_Math" alttext="m\in[M]" display="inline"><semantics id="alg1.8.8.1.m1.1a"><mrow id="alg1.8.8.1.m1.1.2" xref="alg1.8.8.1.m1.1.2.cmml"><mi id="alg1.8.8.1.m1.1.2.2" xref="alg1.8.8.1.m1.1.2.2.cmml">m</mi><mo id="alg1.8.8.1.m1.1.2.1" xref="alg1.8.8.1.m1.1.2.1.cmml">∈</mo><mrow id="alg1.8.8.1.m1.1.2.3.2" xref="alg1.8.8.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg1.8.8.1.m1.1.2.3.2.1" xref="alg1.8.8.1.m1.1.2.3.1.1.cmml">[</mo><mi id="alg1.8.8.1.m1.1.1" xref="alg1.8.8.1.m1.1.1.cmml">M</mi><mo stretchy="false" id="alg1.8.8.1.m1.1.2.3.2.2" xref="alg1.8.8.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.8.1.m1.1b"><apply id="alg1.8.8.1.m1.1.2.cmml" xref="alg1.8.8.1.m1.1.2"><in id="alg1.8.8.1.m1.1.2.1.cmml" xref="alg1.8.8.1.m1.1.2.1"></in><ci id="alg1.8.8.1.m1.1.2.2.cmml" xref="alg1.8.8.1.m1.1.2.2">𝑚</ci><apply id="alg1.8.8.1.m1.1.2.3.1.cmml" xref="alg1.8.8.1.m1.1.2.3.2"><csymbol cd="latexml" id="alg1.8.8.1.m1.1.2.3.1.1.cmml" xref="alg1.8.8.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.8.8.1.m1.1.1.cmml" xref="alg1.8.8.1.m1.1.1">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.1.m1.1c">m\in[M]</annotation></semantics></math> in parallel</em> <span id="alg1.8.8.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.9.9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.9.9.2" class="ltx_text ltx_font_bold">if</span> <em id="alg1.9.9.1" class="ltx_emph ltx_font_italic"><math id="alg1.9.9.1.m1.1" class="ltx_Math" alttext="t&gt;T^{\star}" display="inline"><semantics id="alg1.9.9.1.m1.1a"><mrow id="alg1.9.9.1.m1.1.1" xref="alg1.9.9.1.m1.1.1.cmml"><mi id="alg1.9.9.1.m1.1.1.2" xref="alg1.9.9.1.m1.1.1.2.cmml">t</mi><mo id="alg1.9.9.1.m1.1.1.1" xref="alg1.9.9.1.m1.1.1.1.cmml">&gt;</mo><msup id="alg1.9.9.1.m1.1.1.3" xref="alg1.9.9.1.m1.1.1.3.cmml"><mi id="alg1.9.9.1.m1.1.1.3.2" xref="alg1.9.9.1.m1.1.1.3.2.cmml">T</mi><mo id="alg1.9.9.1.m1.1.1.3.3" xref="alg1.9.9.1.m1.1.1.3.3.cmml">⋆</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.9.1.m1.1b"><apply id="alg1.9.9.1.m1.1.1.cmml" xref="alg1.9.9.1.m1.1.1"><gt id="alg1.9.9.1.m1.1.1.1.cmml" xref="alg1.9.9.1.m1.1.1.1"></gt><ci id="alg1.9.9.1.m1.1.1.2.cmml" xref="alg1.9.9.1.m1.1.1.2">𝑡</ci><apply id="alg1.9.9.1.m1.1.1.3.cmml" xref="alg1.9.9.1.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.9.9.1.m1.1.1.3.1.cmml" xref="alg1.9.9.1.m1.1.1.3">superscript</csymbol><ci id="alg1.9.9.1.m1.1.1.3.2.cmml" xref="alg1.9.9.1.m1.1.1.3.2">𝑇</ci><ci id="alg1.9.9.1.m1.1.1.3.3.cmml" xref="alg1.9.9.1.m1.1.1.3.3">⋆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.1.m1.1c">t&gt;T^{\star}</annotation></semantics></math></em> <span id="alg1.9.9.3" class="ltx_text ltx_font_bold">then</span> 
</div>
<div id="alg1.11.11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.11.11.3" class="ltx_text ltx_font_bold">for</span> <em id="alg1.11.11.2" class="ltx_emph ltx_font_italic">each BN layer <math id="alg1.10.10.1.m1.1" class="ltx_Math" alttext="\{f_{BN}^{l}{(\bar{\bm{\theta}}_{t})}\}" display="inline"><semantics id="alg1.10.10.1.m1.1a"><mrow id="alg1.10.10.1.m1.1.1.1" xref="alg1.10.10.1.m1.1.1.2.cmml"><mo stretchy="false" id="alg1.10.10.1.m1.1.1.1.2" xref="alg1.10.10.1.m1.1.1.2.cmml">{</mo><mrow id="alg1.10.10.1.m1.1.1.1.1" xref="alg1.10.10.1.m1.1.1.1.1.cmml"><msubsup id="alg1.10.10.1.m1.1.1.1.1.3" xref="alg1.10.10.1.m1.1.1.1.1.3.cmml"><mi id="alg1.10.10.1.m1.1.1.1.1.3.2.2" xref="alg1.10.10.1.m1.1.1.1.1.3.2.2.cmml">f</mi><mrow id="alg1.10.10.1.m1.1.1.1.1.3.2.3" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.cmml"><mi id="alg1.10.10.1.m1.1.1.1.1.3.2.3.2" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="alg1.10.10.1.m1.1.1.1.1.3.2.3.1" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="alg1.10.10.1.m1.1.1.1.1.3.2.3.3" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.3.cmml">N</mi></mrow><mi id="alg1.10.10.1.m1.1.1.1.1.3.3" xref="alg1.10.10.1.m1.1.1.1.1.3.3.cmml">l</mi></msubsup><mo lspace="0em" rspace="0em" id="alg1.10.10.1.m1.1.1.1.1.2" xref="alg1.10.10.1.m1.1.1.1.1.2.cmml">​</mo><mrow id="alg1.10.10.1.m1.1.1.1.1.1.1" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.10.10.1.m1.1.1.1.1.1.1.2" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.10.10.1.m1.1.1.1.1.1.1.1" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.cmml"><mi id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.2" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.2.cmml">𝛉</mi><mo id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.1" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.1.cmml">¯</mo></mover><mi id="alg1.10.10.1.m1.1.1.1.1.1.1.1.3" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.10.10.1.m1.1.1.1.1.1.1.3" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg1.10.10.1.m1.1.1.1.3" xref="alg1.10.10.1.m1.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.10.1.m1.1b"><set id="alg1.10.10.1.m1.1.1.2.cmml" xref="alg1.10.10.1.m1.1.1.1"><apply id="alg1.10.10.1.m1.1.1.1.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1"><times id="alg1.10.10.1.m1.1.1.1.1.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.2"></times><apply id="alg1.10.10.1.m1.1.1.1.1.3.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.10.10.1.m1.1.1.1.1.3.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3">superscript</csymbol><apply id="alg1.10.10.1.m1.1.1.1.1.3.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.10.10.1.m1.1.1.1.1.3.2.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3">subscript</csymbol><ci id="alg1.10.10.1.m1.1.1.1.1.3.2.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.2.2">𝑓</ci><apply id="alg1.10.10.1.m1.1.1.1.1.3.2.3.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3"><times id="alg1.10.10.1.m1.1.1.1.1.3.2.3.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.1"></times><ci id="alg1.10.10.1.m1.1.1.1.1.3.2.3.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.2">𝐵</ci><ci id="alg1.10.10.1.m1.1.1.1.1.3.2.3.3.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.2.3.3">𝑁</ci></apply></apply><ci id="alg1.10.10.1.m1.1.1.1.1.3.3.cmml" xref="alg1.10.10.1.m1.1.1.1.1.3.3">𝑙</ci></apply><apply id="alg1.10.10.1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.10.10.1.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1">subscript</csymbol><apply id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2"><ci id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.1.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.1">¯</ci><ci id="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.2.2">𝛉</ci></apply><ci id="alg1.10.10.1.m1.1.1.1.1.1.1.1.3.cmml" xref="alg1.10.10.1.m1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.1.m1.1c">\{f_{BN}^{l}{(\bar{\bm{\theta}}_{t})}\}</annotation></semantics></math> parametrized by <math id="alg1.11.11.2.m2.1" class="ltx_Math" alttext="\bar{\bm{\theta}}_{t}" display="inline"><semantics id="alg1.11.11.2.m2.1a"><msub id="alg1.11.11.2.m2.1.1" xref="alg1.11.11.2.m2.1.1.cmml"><mover accent="true" id="alg1.11.11.2.m2.1.1.2" xref="alg1.11.11.2.m2.1.1.2.cmml"><mi id="alg1.11.11.2.m2.1.1.2.2" xref="alg1.11.11.2.m2.1.1.2.2.cmml">𝛉</mi><mo id="alg1.11.11.2.m2.1.1.2.1" xref="alg1.11.11.2.m2.1.1.2.1.cmml">¯</mo></mover><mi id="alg1.11.11.2.m2.1.1.3" xref="alg1.11.11.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.11.11.2.m2.1b"><apply id="alg1.11.11.2.m2.1.1.cmml" xref="alg1.11.11.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.11.11.2.m2.1.1.1.cmml" xref="alg1.11.11.2.m2.1.1">subscript</csymbol><apply id="alg1.11.11.2.m2.1.1.2.cmml" xref="alg1.11.11.2.m2.1.1.2"><ci id="alg1.11.11.2.m2.1.1.2.1.cmml" xref="alg1.11.11.2.m2.1.1.2.1">¯</ci><ci id="alg1.11.11.2.m2.1.1.2.2.cmml" xref="alg1.11.11.2.m2.1.1.2.2">𝛉</ci></apply><ci id="alg1.11.11.2.m2.1.1.3.cmml" xref="alg1.11.11.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.2.m2.1c">\bar{\bm{\theta}}_{t}</annotation></semantics></math></em> <span id="alg1.11.11.4" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="alg1.12.12" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.12.12.m1.1" class="ltx_Math" alttext="f_{BN}^{l}({\bar{\bm{\theta}}_{t}})" display="inline"><semantics id="alg1.12.12.m1.1a"><mrow id="alg1.12.12.m1.1.1" xref="alg1.12.12.m1.1.1.cmml"><msubsup id="alg1.12.12.m1.1.1.3" xref="alg1.12.12.m1.1.1.3.cmml"><mi id="alg1.12.12.m1.1.1.3.2.2" xref="alg1.12.12.m1.1.1.3.2.2.cmml">f</mi><mrow id="alg1.12.12.m1.1.1.3.2.3" xref="alg1.12.12.m1.1.1.3.2.3.cmml"><mi id="alg1.12.12.m1.1.1.3.2.3.2" xref="alg1.12.12.m1.1.1.3.2.3.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="alg1.12.12.m1.1.1.3.2.3.1" xref="alg1.12.12.m1.1.1.3.2.3.1.cmml">​</mo><mi id="alg1.12.12.m1.1.1.3.2.3.3" xref="alg1.12.12.m1.1.1.3.2.3.3.cmml">N</mi></mrow><mi id="alg1.12.12.m1.1.1.3.3" xref="alg1.12.12.m1.1.1.3.3.cmml">l</mi></msubsup><mo lspace="0em" rspace="0em" id="alg1.12.12.m1.1.1.2" xref="alg1.12.12.m1.1.1.2.cmml">​</mo><mrow id="alg1.12.12.m1.1.1.1.1" xref="alg1.12.12.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.12.12.m1.1.1.1.1.2" xref="alg1.12.12.m1.1.1.1.1.1.cmml">(</mo><msub id="alg1.12.12.m1.1.1.1.1.1" xref="alg1.12.12.m1.1.1.1.1.1.cmml"><mover accent="true" id="alg1.12.12.m1.1.1.1.1.1.2" xref="alg1.12.12.m1.1.1.1.1.1.2.cmml"><mi id="alg1.12.12.m1.1.1.1.1.1.2.2" xref="alg1.12.12.m1.1.1.1.1.1.2.2.cmml">𝜽</mi><mo id="alg1.12.12.m1.1.1.1.1.1.2.1" xref="alg1.12.12.m1.1.1.1.1.1.2.1.cmml">¯</mo></mover><mi id="alg1.12.12.m1.1.1.1.1.1.3" xref="alg1.12.12.m1.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.12.12.m1.1.1.1.1.3" xref="alg1.12.12.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.12.12.m1.1b"><apply id="alg1.12.12.m1.1.1.cmml" xref="alg1.12.12.m1.1.1"><times id="alg1.12.12.m1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.2"></times><apply id="alg1.12.12.m1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.3.1.cmml" xref="alg1.12.12.m1.1.1.3">superscript</csymbol><apply id="alg1.12.12.m1.1.1.3.2.cmml" xref="alg1.12.12.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.3.2.1.cmml" xref="alg1.12.12.m1.1.1.3">subscript</csymbol><ci id="alg1.12.12.m1.1.1.3.2.2.cmml" xref="alg1.12.12.m1.1.1.3.2.2">𝑓</ci><apply id="alg1.12.12.m1.1.1.3.2.3.cmml" xref="alg1.12.12.m1.1.1.3.2.3"><times id="alg1.12.12.m1.1.1.3.2.3.1.cmml" xref="alg1.12.12.m1.1.1.3.2.3.1"></times><ci id="alg1.12.12.m1.1.1.3.2.3.2.cmml" xref="alg1.12.12.m1.1.1.3.2.3.2">𝐵</ci><ci id="alg1.12.12.m1.1.1.3.2.3.3.cmml" xref="alg1.12.12.m1.1.1.3.2.3.3">𝑁</ci></apply></apply><ci id="alg1.12.12.m1.1.1.3.3.cmml" xref="alg1.12.12.m1.1.1.3.3">𝑙</ci></apply><apply id="alg1.12.12.m1.1.1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1.1">subscript</csymbol><apply id="alg1.12.12.m1.1.1.1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.1.1.1.2"><ci id="alg1.12.12.m1.1.1.1.1.1.2.1.cmml" xref="alg1.12.12.m1.1.1.1.1.1.2.1">¯</ci><ci id="alg1.12.12.m1.1.1.1.1.1.2.2.cmml" xref="alg1.12.12.m1.1.1.1.1.1.2.2">𝜽</ci></apply><ci id="alg1.12.12.m1.1.1.1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.1.1.1.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.m1.1c">f_{BN}^{l}({\bar{\bm{\theta}}_{t}})</annotation></semantics></math>.eval(); <span id="alg1.12.12.1" class="ltx_text ltx_font_typewriter">// </span><span id="alg1.12.12.2" class="ltx_text ltx_font_typewriter">set into eval mode to fix BN statistics </span>
</div>
<div id="alg1.16.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.16.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg1.16.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg1.16.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end if
</div>
<div id="alg1.13.13" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg1.13.13.m1.2" class="ltx_Math" alttext="\bm{\theta}_{t+1}^{m}\leftarrow\text{ClientUpdate}(m,\bar{\bm{\theta}}_{t})" display="inline"><semantics id="alg1.13.13.m1.2a"><mrow id="alg1.13.13.m1.2.2" xref="alg1.13.13.m1.2.2.cmml"><msubsup id="alg1.13.13.m1.2.2.3" xref="alg1.13.13.m1.2.2.3.cmml"><mi id="alg1.13.13.m1.2.2.3.2.2" xref="alg1.13.13.m1.2.2.3.2.2.cmml">𝜽</mi><mrow id="alg1.13.13.m1.2.2.3.2.3" xref="alg1.13.13.m1.2.2.3.2.3.cmml"><mi id="alg1.13.13.m1.2.2.3.2.3.2" xref="alg1.13.13.m1.2.2.3.2.3.2.cmml">t</mi><mo id="alg1.13.13.m1.2.2.3.2.3.1" xref="alg1.13.13.m1.2.2.3.2.3.1.cmml">+</mo><mn id="alg1.13.13.m1.2.2.3.2.3.3" xref="alg1.13.13.m1.2.2.3.2.3.3.cmml">1</mn></mrow><mi id="alg1.13.13.m1.2.2.3.3" xref="alg1.13.13.m1.2.2.3.3.cmml">m</mi></msubsup><mo stretchy="false" id="alg1.13.13.m1.2.2.2" xref="alg1.13.13.m1.2.2.2.cmml">←</mo><mrow id="alg1.13.13.m1.2.2.1" xref="alg1.13.13.m1.2.2.1.cmml"><mtext id="alg1.13.13.m1.2.2.1.3" xref="alg1.13.13.m1.2.2.1.3a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="alg1.13.13.m1.2.2.1.2" xref="alg1.13.13.m1.2.2.1.2.cmml">​</mo><mrow id="alg1.13.13.m1.2.2.1.1.1" xref="alg1.13.13.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="alg1.13.13.m1.2.2.1.1.1.2" xref="alg1.13.13.m1.2.2.1.1.2.cmml">(</mo><mi id="alg1.13.13.m1.1.1" xref="alg1.13.13.m1.1.1.cmml">m</mi><mo id="alg1.13.13.m1.2.2.1.1.1.3" xref="alg1.13.13.m1.2.2.1.1.2.cmml">,</mo><msub id="alg1.13.13.m1.2.2.1.1.1.1" xref="alg1.13.13.m1.2.2.1.1.1.1.cmml"><mover accent="true" id="alg1.13.13.m1.2.2.1.1.1.1.2" xref="alg1.13.13.m1.2.2.1.1.1.1.2.cmml"><mi id="alg1.13.13.m1.2.2.1.1.1.1.2.2" xref="alg1.13.13.m1.2.2.1.1.1.1.2.2.cmml">𝜽</mi><mo id="alg1.13.13.m1.2.2.1.1.1.1.2.1" xref="alg1.13.13.m1.2.2.1.1.1.1.2.1.cmml">¯</mo></mover><mi id="alg1.13.13.m1.2.2.1.1.1.1.3" xref="alg1.13.13.m1.2.2.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.13.13.m1.2.2.1.1.1.4" xref="alg1.13.13.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.13.m1.2b"><apply id="alg1.13.13.m1.2.2.cmml" xref="alg1.13.13.m1.2.2"><ci id="alg1.13.13.m1.2.2.2.cmml" xref="alg1.13.13.m1.2.2.2">←</ci><apply id="alg1.13.13.m1.2.2.3.cmml" xref="alg1.13.13.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.13.13.m1.2.2.3.1.cmml" xref="alg1.13.13.m1.2.2.3">superscript</csymbol><apply id="alg1.13.13.m1.2.2.3.2.cmml" xref="alg1.13.13.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.13.13.m1.2.2.3.2.1.cmml" xref="alg1.13.13.m1.2.2.3">subscript</csymbol><ci id="alg1.13.13.m1.2.2.3.2.2.cmml" xref="alg1.13.13.m1.2.2.3.2.2">𝜽</ci><apply id="alg1.13.13.m1.2.2.3.2.3.cmml" xref="alg1.13.13.m1.2.2.3.2.3"><plus id="alg1.13.13.m1.2.2.3.2.3.1.cmml" xref="alg1.13.13.m1.2.2.3.2.3.1"></plus><ci id="alg1.13.13.m1.2.2.3.2.3.2.cmml" xref="alg1.13.13.m1.2.2.3.2.3.2">𝑡</ci><cn type="integer" id="alg1.13.13.m1.2.2.3.2.3.3.cmml" xref="alg1.13.13.m1.2.2.3.2.3.3">1</cn></apply></apply><ci id="alg1.13.13.m1.2.2.3.3.cmml" xref="alg1.13.13.m1.2.2.3.3">𝑚</ci></apply><apply id="alg1.13.13.m1.2.2.1.cmml" xref="alg1.13.13.m1.2.2.1"><times id="alg1.13.13.m1.2.2.1.2.cmml" xref="alg1.13.13.m1.2.2.1.2"></times><ci id="alg1.13.13.m1.2.2.1.3a.cmml" xref="alg1.13.13.m1.2.2.1.3"><mtext id="alg1.13.13.m1.2.2.1.3.cmml" xref="alg1.13.13.m1.2.2.1.3">ClientUpdate</mtext></ci><interval closure="open" id="alg1.13.13.m1.2.2.1.1.2.cmml" xref="alg1.13.13.m1.2.2.1.1.1"><ci id="alg1.13.13.m1.1.1.cmml" xref="alg1.13.13.m1.1.1">𝑚</ci><apply id="alg1.13.13.m1.2.2.1.1.1.1.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.13.13.m1.2.2.1.1.1.1.1.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1">subscript</csymbol><apply id="alg1.13.13.m1.2.2.1.1.1.1.2.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1.2"><ci id="alg1.13.13.m1.2.2.1.1.1.1.2.1.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1.2.1">¯</ci><ci id="alg1.13.13.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1.2.2">𝜽</ci></apply><ci id="alg1.13.13.m1.2.2.1.1.1.1.3.cmml" xref="alg1.13.13.m1.2.2.1.1.1.1.3">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m1.2c">\bm{\theta}_{t+1}^{m}\leftarrow\text{ClientUpdate}(m,\bar{\bm{\theta}}_{t})</annotation></semantics></math>; <span id="alg1.13.13.1" class="ltx_text ltx_font_typewriter">// </span><span id="alg1.13.13.2" class="ltx_text ltx_font_typewriter">normal client updates </span>
</div>
<div id="alg1.14.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.14.14.1" class="ltx_text ltx_font_bold">Communicate</span> <math id="alg1.14.14.m1.1" class="ltx_Math" alttext="{\bm{\theta}}_{t+1}^{m}" display="inline"><semantics id="alg1.14.14.m1.1a"><msubsup id="alg1.14.14.m1.1.1" xref="alg1.14.14.m1.1.1.cmml"><mi id="alg1.14.14.m1.1.1.2.2" xref="alg1.14.14.m1.1.1.2.2.cmml">𝜽</mi><mrow id="alg1.14.14.m1.1.1.2.3" xref="alg1.14.14.m1.1.1.2.3.cmml"><mi id="alg1.14.14.m1.1.1.2.3.2" xref="alg1.14.14.m1.1.1.2.3.2.cmml">t</mi><mo id="alg1.14.14.m1.1.1.2.3.1" xref="alg1.14.14.m1.1.1.2.3.1.cmml">+</mo><mn id="alg1.14.14.m1.1.1.2.3.3" xref="alg1.14.14.m1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.14.14.m1.1.1.3" xref="alg1.14.14.m1.1.1.3.cmml">m</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.14.14.m1.1b"><apply id="alg1.14.14.m1.1.1.cmml" xref="alg1.14.14.m1.1.1"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.1.cmml" xref="alg1.14.14.m1.1.1">superscript</csymbol><apply id="alg1.14.14.m1.1.1.2.cmml" xref="alg1.14.14.m1.1.1"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.2.1.cmml" xref="alg1.14.14.m1.1.1">subscript</csymbol><ci id="alg1.14.14.m1.1.1.2.2.cmml" xref="alg1.14.14.m1.1.1.2.2">𝜽</ci><apply id="alg1.14.14.m1.1.1.2.3.cmml" xref="alg1.14.14.m1.1.1.2.3"><plus id="alg1.14.14.m1.1.1.2.3.1.cmml" xref="alg1.14.14.m1.1.1.2.3.1"></plus><ci id="alg1.14.14.m1.1.1.2.3.2.cmml" xref="alg1.14.14.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.14.14.m1.1.1.2.3.3.cmml" xref="alg1.14.14.m1.1.1.2.3.3">1</cn></apply></apply><ci id="alg1.14.14.m1.1.1.3.cmml" xref="alg1.14.14.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m1.1c">{\bm{\theta}}_{t+1}^{m}</annotation></semantics></math> to the server;

</div>
<div id="alg1.16.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    end for
</div>
<div id="alg1.15.15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="alg1.15.15.1" class="ltx_text ltx_font_bold">Construct</span> <math id="alg1.15.15.m1.1" class="ltx_Math" alttext="\bar{\bm{\theta}}_{t+1}=\frac{1}{M}\sum_{m=1}^{M}{\bm{\theta}}_{t+1}^{m}" display="inline"><semantics id="alg1.15.15.m1.1a"><mrow id="alg1.15.15.m1.1.1" xref="alg1.15.15.m1.1.1.cmml"><msub id="alg1.15.15.m1.1.1.2" xref="alg1.15.15.m1.1.1.2.cmml"><mover accent="true" id="alg1.15.15.m1.1.1.2.2" xref="alg1.15.15.m1.1.1.2.2.cmml"><mi id="alg1.15.15.m1.1.1.2.2.2" xref="alg1.15.15.m1.1.1.2.2.2.cmml">𝜽</mi><mo id="alg1.15.15.m1.1.1.2.2.1" xref="alg1.15.15.m1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="alg1.15.15.m1.1.1.2.3" xref="alg1.15.15.m1.1.1.2.3.cmml"><mi id="alg1.15.15.m1.1.1.2.3.2" xref="alg1.15.15.m1.1.1.2.3.2.cmml">t</mi><mo id="alg1.15.15.m1.1.1.2.3.1" xref="alg1.15.15.m1.1.1.2.3.1.cmml">+</mo><mn id="alg1.15.15.m1.1.1.2.3.3" xref="alg1.15.15.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="alg1.15.15.m1.1.1.1" xref="alg1.15.15.m1.1.1.1.cmml">=</mo><mrow id="alg1.15.15.m1.1.1.3" xref="alg1.15.15.m1.1.1.3.cmml"><mfrac id="alg1.15.15.m1.1.1.3.2" xref="alg1.15.15.m1.1.1.3.2.cmml"><mn id="alg1.15.15.m1.1.1.3.2.2" xref="alg1.15.15.m1.1.1.3.2.2.cmml">1</mn><mi id="alg1.15.15.m1.1.1.3.2.3" xref="alg1.15.15.m1.1.1.3.2.3.cmml">M</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.15.15.m1.1.1.3.1" xref="alg1.15.15.m1.1.1.3.1.cmml">​</mo><mrow id="alg1.15.15.m1.1.1.3.3" xref="alg1.15.15.m1.1.1.3.3.cmml"><msubsup id="alg1.15.15.m1.1.1.3.3.1" xref="alg1.15.15.m1.1.1.3.3.1.cmml"><mo id="alg1.15.15.m1.1.1.3.3.1.2.2" xref="alg1.15.15.m1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="alg1.15.15.m1.1.1.3.3.1.2.3" xref="alg1.15.15.m1.1.1.3.3.1.2.3.cmml"><mi id="alg1.15.15.m1.1.1.3.3.1.2.3.2" xref="alg1.15.15.m1.1.1.3.3.1.2.3.2.cmml">m</mi><mo id="alg1.15.15.m1.1.1.3.3.1.2.3.1" xref="alg1.15.15.m1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="alg1.15.15.m1.1.1.3.3.1.2.3.3" xref="alg1.15.15.m1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.15.15.m1.1.1.3.3.1.3" xref="alg1.15.15.m1.1.1.3.3.1.3.cmml">M</mi></msubsup><msubsup id="alg1.15.15.m1.1.1.3.3.2" xref="alg1.15.15.m1.1.1.3.3.2.cmml"><mi id="alg1.15.15.m1.1.1.3.3.2.2.2" xref="alg1.15.15.m1.1.1.3.3.2.2.2.cmml">𝜽</mi><mrow id="alg1.15.15.m1.1.1.3.3.2.2.3" xref="alg1.15.15.m1.1.1.3.3.2.2.3.cmml"><mi id="alg1.15.15.m1.1.1.3.3.2.2.3.2" xref="alg1.15.15.m1.1.1.3.3.2.2.3.2.cmml">t</mi><mo id="alg1.15.15.m1.1.1.3.3.2.2.3.1" xref="alg1.15.15.m1.1.1.3.3.2.2.3.1.cmml">+</mo><mn id="alg1.15.15.m1.1.1.3.3.2.2.3.3" xref="alg1.15.15.m1.1.1.3.3.2.2.3.3.cmml">1</mn></mrow><mi id="alg1.15.15.m1.1.1.3.3.2.3" xref="alg1.15.15.m1.1.1.3.3.2.3.cmml">m</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.15.15.m1.1b"><apply id="alg1.15.15.m1.1.1.cmml" xref="alg1.15.15.m1.1.1"><eq id="alg1.15.15.m1.1.1.1.cmml" xref="alg1.15.15.m1.1.1.1"></eq><apply id="alg1.15.15.m1.1.1.2.cmml" xref="alg1.15.15.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.15.15.m1.1.1.2.1.cmml" xref="alg1.15.15.m1.1.1.2">subscript</csymbol><apply id="alg1.15.15.m1.1.1.2.2.cmml" xref="alg1.15.15.m1.1.1.2.2"><ci id="alg1.15.15.m1.1.1.2.2.1.cmml" xref="alg1.15.15.m1.1.1.2.2.1">¯</ci><ci id="alg1.15.15.m1.1.1.2.2.2.cmml" xref="alg1.15.15.m1.1.1.2.2.2">𝜽</ci></apply><apply id="alg1.15.15.m1.1.1.2.3.cmml" xref="alg1.15.15.m1.1.1.2.3"><plus id="alg1.15.15.m1.1.1.2.3.1.cmml" xref="alg1.15.15.m1.1.1.2.3.1"></plus><ci id="alg1.15.15.m1.1.1.2.3.2.cmml" xref="alg1.15.15.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.15.15.m1.1.1.2.3.3.cmml" xref="alg1.15.15.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.15.15.m1.1.1.3.cmml" xref="alg1.15.15.m1.1.1.3"><times id="alg1.15.15.m1.1.1.3.1.cmml" xref="alg1.15.15.m1.1.1.3.1"></times><apply id="alg1.15.15.m1.1.1.3.2.cmml" xref="alg1.15.15.m1.1.1.3.2"><divide id="alg1.15.15.m1.1.1.3.2.1.cmml" xref="alg1.15.15.m1.1.1.3.2"></divide><cn type="integer" id="alg1.15.15.m1.1.1.3.2.2.cmml" xref="alg1.15.15.m1.1.1.3.2.2">1</cn><ci id="alg1.15.15.m1.1.1.3.2.3.cmml" xref="alg1.15.15.m1.1.1.3.2.3">𝑀</ci></apply><apply id="alg1.15.15.m1.1.1.3.3.cmml" xref="alg1.15.15.m1.1.1.3.3"><apply id="alg1.15.15.m1.1.1.3.3.1.cmml" xref="alg1.15.15.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.15.15.m1.1.1.3.3.1.1.cmml" xref="alg1.15.15.m1.1.1.3.3.1">superscript</csymbol><apply id="alg1.15.15.m1.1.1.3.3.1.2.cmml" xref="alg1.15.15.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="alg1.15.15.m1.1.1.3.3.1.2.1.cmml" xref="alg1.15.15.m1.1.1.3.3.1">subscript</csymbol><sum id="alg1.15.15.m1.1.1.3.3.1.2.2.cmml" xref="alg1.15.15.m1.1.1.3.3.1.2.2"></sum><apply id="alg1.15.15.m1.1.1.3.3.1.2.3.cmml" xref="alg1.15.15.m1.1.1.3.3.1.2.3"><eq id="alg1.15.15.m1.1.1.3.3.1.2.3.1.cmml" xref="alg1.15.15.m1.1.1.3.3.1.2.3.1"></eq><ci id="alg1.15.15.m1.1.1.3.3.1.2.3.2.cmml" xref="alg1.15.15.m1.1.1.3.3.1.2.3.2">𝑚</ci><cn type="integer" id="alg1.15.15.m1.1.1.3.3.1.2.3.3.cmml" xref="alg1.15.15.m1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.15.15.m1.1.1.3.3.1.3.cmml" xref="alg1.15.15.m1.1.1.3.3.1.3">𝑀</ci></apply><apply id="alg1.15.15.m1.1.1.3.3.2.cmml" xref="alg1.15.15.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.15.15.m1.1.1.3.3.2.1.cmml" xref="alg1.15.15.m1.1.1.3.3.2">superscript</csymbol><apply id="alg1.15.15.m1.1.1.3.3.2.2.cmml" xref="alg1.15.15.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.15.15.m1.1.1.3.3.2.2.1.cmml" xref="alg1.15.15.m1.1.1.3.3.2">subscript</csymbol><ci id="alg1.15.15.m1.1.1.3.3.2.2.2.cmml" xref="alg1.15.15.m1.1.1.3.3.2.2.2">𝜽</ci><apply id="alg1.15.15.m1.1.1.3.3.2.2.3.cmml" xref="alg1.15.15.m1.1.1.3.3.2.2.3"><plus id="alg1.15.15.m1.1.1.3.3.2.2.3.1.cmml" xref="alg1.15.15.m1.1.1.3.3.2.2.3.1"></plus><ci id="alg1.15.15.m1.1.1.3.3.2.2.3.2.cmml" xref="alg1.15.15.m1.1.1.3.3.2.2.3.2">𝑡</ci><cn type="integer" id="alg1.15.15.m1.1.1.3.3.2.2.3.3.cmml" xref="alg1.15.15.m1.1.1.3.3.2.2.3.3">1</cn></apply></apply><ci id="alg1.15.15.m1.1.1.3.3.2.3.cmml" xref="alg1.15.15.m1.1.1.3.3.2.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.m1.1c">\bar{\bm{\theta}}_{t+1}=\frac{1}{M}\sum_{m=1}^{M}{\bm{\theta}}_{t+1}^{m}</annotation></semantics></math>;

</div>
<div id="alg1.16.22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span> end for
</div>
<div id="alg1.16.16" class="ltx_listingline">
<span id="alg1.16.16.1" class="ltx_text ltx_font_bold">Server output :</span> <math id="alg1.16.16.m1.1" class="ltx_Math" alttext="\bar{\bm{\theta}}_{T+1}" display="inline"><semantics id="alg1.16.16.m1.1a"><msub id="alg1.16.16.m1.1.1" xref="alg1.16.16.m1.1.1.cmml"><mover accent="true" id="alg1.16.16.m1.1.1.2" xref="alg1.16.16.m1.1.1.2.cmml"><mi id="alg1.16.16.m1.1.1.2.2" xref="alg1.16.16.m1.1.1.2.2.cmml">𝜽</mi><mo id="alg1.16.16.m1.1.1.2.1" xref="alg1.16.16.m1.1.1.2.1.cmml">¯</mo></mover><mrow id="alg1.16.16.m1.1.1.3" xref="alg1.16.16.m1.1.1.3.cmml"><mi id="alg1.16.16.m1.1.1.3.2" xref="alg1.16.16.m1.1.1.3.2.cmml">T</mi><mo id="alg1.16.16.m1.1.1.3.1" xref="alg1.16.16.m1.1.1.3.1.cmml">+</mo><mn id="alg1.16.16.m1.1.1.3.3" xref="alg1.16.16.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.16.16.m1.1b"><apply id="alg1.16.16.m1.1.1.cmml" xref="alg1.16.16.m1.1.1"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.1.cmml" xref="alg1.16.16.m1.1.1">subscript</csymbol><apply id="alg1.16.16.m1.1.1.2.cmml" xref="alg1.16.16.m1.1.1.2"><ci id="alg1.16.16.m1.1.1.2.1.cmml" xref="alg1.16.16.m1.1.1.2.1">¯</ci><ci id="alg1.16.16.m1.1.1.2.2.cmml" xref="alg1.16.16.m1.1.1.2.2">𝜽</ci></apply><apply id="alg1.16.16.m1.1.1.3.cmml" xref="alg1.16.16.m1.1.1.3"><plus id="alg1.16.16.m1.1.1.3.1.cmml" xref="alg1.16.16.m1.1.1.3.1"></plus><ci id="alg1.16.16.m1.1.1.3.2.cmml" xref="alg1.16.16.m1.1.1.3.2">𝑇</ci><cn type="integer" id="alg1.16.16.m1.1.1.3.3.cmml" xref="alg1.16.16.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.m1.1c">\bar{\bm{\theta}}_{T+1}</annotation></semantics></math>
</div>
<div id="alg1.16.23" class="ltx_listingline">

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.19.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> <span id="alg1.20.2" class="ltx_text ltx_font_smallcaps">FixBN</span>: Federated Learning with Fixed Batch Statistics</figcaption>
</figure>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Training Curves</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">We provide the training curves of <span id="A4.p1.1.1" class="ltx_text ltx_font_smallcaps">FixBN</span> and other normalizers under various settings with fixed <math id="A4.p1.1.m1.1" class="ltx_Math" alttext="128" display="inline"><semantics id="A4.p1.1.m1.1a"><mn id="A4.p1.1.m1.1.1" xref="A4.p1.1.m1.1.1.cmml">128</mn><annotation-xml encoding="MathML-Content" id="A4.p1.1.m1.1b"><cn type="integer" id="A4.p1.1.m1.1.1.cmml" xref="A4.p1.1.m1.1.1">128</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.1.m1.1c">128</annotation></semantics></math> epochs using ResNet20 in  <a href="#A4.F11" title="Figure K ‣ Appendix D Training Curves ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure K</span></a>, <a href="#A4.F12" title="Figure L ‣ Appendix D Training Curves ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure L</span></a>, <a href="#A4.F13" title="Figure M ‣ Appendix D Training Curves ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure M</span></a>, and <a href="#A4.F14" title="Figure N ‣ Appendix D Training Curves ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure N</span></a>, corresponding to <a href="#S9" title="9 Further Analysis following section 4 ‣ Making Batch Normalization Great in Federated Deep Learning" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">section 9</span></a>.</p>
</div>
<figure id="A4.F11" class="ltx_figure">
<div id="A4.F11.1" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<img src="/html/2303.06530/assets/figures/curve1.png" id="A4.F11.1.g1" class="ltx_graphics ltx_img_landscape" width="479" height="332" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure K: </span><span id="A4.F11.3.1" class="ltx_text" style="font-size:90%;">Convergence curves of the test accuracy of CIFAR-10 in the fixed epoch, shards non-IID partitions, and <math id="A4.F11.3.1.m1.1" class="ltx_Math" alttext="E=1\sim 500" display="inline"><semantics id="A4.F11.3.1.m1.1b"><mrow id="A4.F11.3.1.m1.1.1" xref="A4.F11.3.1.m1.1.1.cmml"><mi id="A4.F11.3.1.m1.1.1.2" xref="A4.F11.3.1.m1.1.1.2.cmml">E</mi><mo id="A4.F11.3.1.m1.1.1.3" xref="A4.F11.3.1.m1.1.1.3.cmml">=</mo><mn id="A4.F11.3.1.m1.1.1.4" xref="A4.F11.3.1.m1.1.1.4.cmml">1</mn><mo id="A4.F11.3.1.m1.1.1.5" xref="A4.F11.3.1.m1.1.1.5.cmml">∼</mo><mn id="A4.F11.3.1.m1.1.1.6" xref="A4.F11.3.1.m1.1.1.6.cmml">500</mn></mrow><annotation-xml encoding="MathML-Content" id="A4.F11.3.1.m1.1c"><apply id="A4.F11.3.1.m1.1.1.cmml" xref="A4.F11.3.1.m1.1.1"><and id="A4.F11.3.1.m1.1.1a.cmml" xref="A4.F11.3.1.m1.1.1"></and><apply id="A4.F11.3.1.m1.1.1b.cmml" xref="A4.F11.3.1.m1.1.1"><eq id="A4.F11.3.1.m1.1.1.3.cmml" xref="A4.F11.3.1.m1.1.1.3"></eq><ci id="A4.F11.3.1.m1.1.1.2.cmml" xref="A4.F11.3.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A4.F11.3.1.m1.1.1.4.cmml" xref="A4.F11.3.1.m1.1.1.4">1</cn></apply><apply id="A4.F11.3.1.m1.1.1c.cmml" xref="A4.F11.3.1.m1.1.1"><csymbol cd="latexml" id="A4.F11.3.1.m1.1.1.5.cmml" xref="A4.F11.3.1.m1.1.1.5">similar-to</csymbol><share href="#A4.F11.3.1.m1.1.1.4.cmml" id="A4.F11.3.1.m1.1.1d.cmml" xref="A4.F11.3.1.m1.1.1"></share><cn type="integer" id="A4.F11.3.1.m1.1.1.6.cmml" xref="A4.F11.3.1.m1.1.1.6">500</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F11.3.1.m1.1d">E=1\sim 500</annotation></semantics></math> setting.</span></figcaption>
</figure>
<figure id="A4.F12" class="ltx_figure">
<div id="A4.F12.1" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<img src="/html/2303.06530/assets/figures/curve4.png" id="A4.F12.1.g1" class="ltx_graphics ltx_img_landscape" width="479" height="332" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure L: </span><span id="A4.F12.3.1" class="ltx_text" style="font-size:90%;">Convergence curves of the test accuracy of CIFAR-10 in the fixed epoch, <span id="A4.F12.3.1.1" class="ltx_text ltx_font_bold">different non-IID partitions</span>, and <math id="A4.F12.3.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="A4.F12.3.1.m1.1b"><mrow id="A4.F12.3.1.m1.1.1" xref="A4.F12.3.1.m1.1.1.cmml"><mi id="A4.F12.3.1.m1.1.1.2" xref="A4.F12.3.1.m1.1.1.2.cmml">E</mi><mo id="A4.F12.3.1.m1.1.1.1" xref="A4.F12.3.1.m1.1.1.1.cmml">=</mo><mn id="A4.F12.3.1.m1.1.1.3" xref="A4.F12.3.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A4.F12.3.1.m1.1c"><apply id="A4.F12.3.1.m1.1.1.cmml" xref="A4.F12.3.1.m1.1.1"><eq id="A4.F12.3.1.m1.1.1.1.cmml" xref="A4.F12.3.1.m1.1.1.1"></eq><ci id="A4.F12.3.1.m1.1.1.2.cmml" xref="A4.F12.3.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A4.F12.3.1.m1.1.1.3.cmml" xref="A4.F12.3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F12.3.1.m1.1d">E=1</annotation></semantics></math> setting.</span></figcaption>
</figure>
<figure id="A4.F13" class="ltx_figure">
<div id="A4.F13.1" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<img src="/html/2303.06530/assets/figures/curve3.png" id="A4.F13.1.g1" class="ltx_graphics ltx_img_landscape" width="479" height="332" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure M: </span><span id="A4.F13.3.1" class="ltx_text" style="font-size:90%;">Convergence curves of the test accuracy of CIFAR-10 in the fixed epoch, <span id="A4.F13.3.1.1" class="ltx_text ltx_font_bold">different non-IID partitions</span>, and <math id="A4.F13.3.1.m1.1" class="ltx_Math" alttext="E=20" display="inline"><semantics id="A4.F13.3.1.m1.1b"><mrow id="A4.F13.3.1.m1.1.1" xref="A4.F13.3.1.m1.1.1.cmml"><mi id="A4.F13.3.1.m1.1.1.2" xref="A4.F13.3.1.m1.1.1.2.cmml">E</mi><mo id="A4.F13.3.1.m1.1.1.1" xref="A4.F13.3.1.m1.1.1.1.cmml">=</mo><mn id="A4.F13.3.1.m1.1.1.3" xref="A4.F13.3.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="A4.F13.3.1.m1.1c"><apply id="A4.F13.3.1.m1.1.1.cmml" xref="A4.F13.3.1.m1.1.1"><eq id="A4.F13.3.1.m1.1.1.1.cmml" xref="A4.F13.3.1.m1.1.1.1"></eq><ci id="A4.F13.3.1.m1.1.1.2.cmml" xref="A4.F13.3.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A4.F13.3.1.m1.1.1.3.cmml" xref="A4.F13.3.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F13.3.1.m1.1d">E=20</annotation></semantics></math> setting.</span></figcaption>
</figure>
<figure id="A4.F14" class="ltx_figure">
<div id="A4.F14.1" class="ltx_block ltx_minipage ltx_align_center ltx_align_middle" style="width:433.6pt;">
<img src="/html/2303.06530/assets/figures/curve2.png" id="A4.F14.1.g1" class="ltx_graphics ltx_img_landscape" width="479" height="332" alt="Refer to caption">
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure N: </span><span id="A4.F14.3.1" class="ltx_text" style="font-size:90%;">Convergence curves of the test accuracy of CIFAR-10 in the fixed epoch, <span id="A4.F14.3.1.1" class="ltx_text ltx_font_bold">different non-IID partitions</span>, and <math id="A4.F14.3.1.m1.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="A4.F14.3.1.m1.1b"><mrow id="A4.F14.3.1.m1.1.1" xref="A4.F14.3.1.m1.1.1.cmml"><mi id="A4.F14.3.1.m1.1.1.2" xref="A4.F14.3.1.m1.1.1.2.cmml">E</mi><mo id="A4.F14.3.1.m1.1.1.1" xref="A4.F14.3.1.m1.1.1.1.cmml">=</mo><mn id="A4.F14.3.1.m1.1.1.3" xref="A4.F14.3.1.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A4.F14.3.1.m1.1c"><apply id="A4.F14.3.1.m1.1.1.cmml" xref="A4.F14.3.1.m1.1.1"><eq id="A4.F14.3.1.m1.1.1.1.cmml" xref="A4.F14.3.1.m1.1.1.1"></eq><ci id="A4.F14.3.1.m1.1.1.2.cmml" xref="A4.F14.3.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A4.F14.3.1.m1.1.1.3.cmml" xref="A4.F14.3.1.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.F14.3.1.m1.1d">E=100</annotation></semantics></math> setting.</span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.06527" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.06530" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.06530">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.06530" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.06531" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 20:29:24 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
