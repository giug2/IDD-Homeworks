<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2404.06430] pfl-research: simulation framework for accelerating research in Private Federated Learning</title><meta property="og:description" content="Federated learning (FL) is an emerging machine learning (ML) training paradigm where clients own their data and collaborate to train a global model, without revealing any data to the server and other participants.
Rese…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="pfl-research: simulation framework for accelerating research in Private Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="pfl-research: simulation framework for accelerating research in Private Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2404.06430">

<!--Generated on Sun May  5 20:02:52 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
<span id="id2.id1" class="ltx_text ltx_font_typewriter">pfl-research</span>: simulation framework for accelerating research in Private Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Filip Granqvist 
<br class="ltx_break">Apple 
<br class="ltx_break"><span id="id3.1.id1" class="ltx_text ltx_font_typewriter">fgranqvist@apple.com</span> 
<br class="ltx_break">&amp;Congzheng Song 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Áine Cahill 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Rogier van Dalen 
<br class="ltx_break">&amp;Martin Pelikan 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Yi Sheng Chan 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Xiaojun Feng 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Natarajan Krishnaswami 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Vojta Jina 
<br class="ltx_break">Apple 
<br class="ltx_break">&amp;Mona Chitnis 
<br class="ltx_break">Apple 
<br class="ltx_break">
</span><span class="ltx_author_notes">Corresponding author.Work done while at Apple</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.1" class="ltx_p">Federated learning (FL) is an emerging machine learning (ML) training paradigm where clients own their data and collaborate to train a global model, without revealing any data to the server and other participants.
Researchers commonly perform experiments in a simulation environment to quickly iterate on ideas. However, existing open-source tools do not offer the efficiency required to simulate FL on larger and more realistic FL datasets.
We introduce <span id="id1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, a fast, modular, and easy-to-use Python framework for simulating FL.
It supports TensorFlow, PyTorch, and non-neural network models, and is tightly integrated with state-of-the-art privacy algorithms.
We study the speed of open-source FL frameworks and show that <span id="id1.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> is 7-72<math id="id1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="id1.1.m1.1a"><mo id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><times id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">\times</annotation></semantics></math> faster than alternative open-source frameworks on common cross-device setups.
Such speedup will significantly boost the productivity of the FL research community and enable testing hypotheses on realistic FL datasets that were previously too resource intensive.
We release a suite of benchmarks that evaluates an algorithm’s overall performance on a diverse set of realistic scenarios.
The code is available on GitHub at <a target="_blank" href="https://github.com/apple/pfl-research" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/pfl-research</a>.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_noindent">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) is an approach to collaboratively train a machine learning (ML) model between clients, with coordination by a central server <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>.
Participating clients can be either user devices connected to the internet (cross-device FL) or data centers of distinct institutions, which each store data of multiple users (cross-silo FL).
The common constraint is that it is infeasible to upload the data to a central server for training because of privacy, bandwidth, or other compliance concerns <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.
However, even though only statistics derived from the original data are uploaded to a central server, FL algorithms alone are not formally or practically privacy preserving <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>.
Therefore, it is essential to combine FL with techniques to preserve the privacy of users.
Deployed systems often use secure aggregation and give differential privacy (DP) guarantees to achieve this <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib81" title="" class="ltx_ref">81</a>]</cite>. We call such systems <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">private federated learning</span> (PFL).</p>
</div>
<div id="S1.p2" class="ltx_para ltx_noindent">
<p id="S1.p2.1" class="ltx_p">(P)FL is a rapidly growing field <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, and it is unrealistic for most research to be evaluated with a real-world (P)FL deployment as most researchers do not have access to a large-scale deployment. Even for researchers with such access, user experience constraints <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite> would typically significantly limit such evaluation. Additionally, training with real edge devices is slow and typically cannot support the extensive hyperparameter tuning that may be needed.</p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p">Therefore, testing hypotheses in simulation is essential for continued growth in (P)FL research.
FL simulation is typically much more resource intensive than training a regular (non-federated) ML model due to the extra steps involved (see Algorithm <a href="#algorithm2e1" title="Algorithm 1 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), so it is of particular importance that FL simulators be efficient and scale well.</p>
</div>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p">The community has identified a comprehensive list of open problems in FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>, and effective evaluation of proposed solutions requires high quality large-scale datasets representative of these challenges.
Several realistic benchmarks have been proposed to facilitate reliable evaluation of FL algorithms (see Section <a href="#S2" title="2 Related Work ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).
Unfortunately, the largest and most realistic open-source benchmark datasets for FL have not been widely adopted because of the resources required to use them. As we discuss in Section <a href="#S4.SS1" title="4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>, the resource demand is exacerbated by slow simulators.</p>
</div>
<div id="S1.p5" class="ltx_para ltx_noindent">
<p id="S1.p5.1" class="ltx_p">We introduce <span id="S1.p5.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, a modular and easy-to-use framework for researchers to simulate FL and PFL training that is 7-72<math id="S1.p5.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S1.p5.1.m1.1a"><mo id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><times id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">\times</annotation></semantics></math> faster than previous FL simulators.
Our framework has well defined APIs that allow an FL researcher to implement their algorithms and bundle them into components that can be shared and combined with other algorithms.
<span id="S1.p5.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> supports both PyTorch <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib61" title="" class="ltx_ref">61</a>]</cite> and TensorFlow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, and it is straightforward to integrate with other ML frameworks.
Additionally, scaling up with distributed simulations is seamless with Horovod <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib68" title="" class="ltx_ref">68</a>]</cite>.</p>
</div>
<div id="S1.p6" class="ltx_para ltx_noindent">
<p id="S1.p6.1" class="ltx_p">Our main contributions are:</p>
</div>
<div id="S1.p7" class="ltx_para ltx_noindent">
<p id="S1.p7.1" class="ltx_p"><span id="S1.p7.1.1" class="ltx_text ltx_font_bold">Speed.</span>
<span id="S1.p7.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> is much faster than other popular FL simulators (Section <a href="#S4.SS1" title="4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>) since it simulates only the computation, not the topology, of federated learning.
This can significantly increase both the productivity of (P)FL researchers and the quality of publications because it makes it feasible for researchers with limited resources to evaluate algorithms on larger datasets.</p>
</div>
<div id="S1.p8" class="ltx_para ltx_noindent">
<p id="S1.p8.1" class="ltx_p"><span id="S1.p8.1.1" class="ltx_text ltx_font_bold">User-friendly distributed simulations.</span>
<span id="S1.p8.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> makes it easy to transition from single process to distributed simulations with zero code changes. Scale-up spans multiple dimensions: number of processes, GPUs, and machines. Multiple processes can share a GPU to increase GPU utilization. Debugging, testing, and profiling are simpler compared to alternative FL frameworks.</p>
</div>
<div id="S1.p9" class="ltx_para ltx_noindent">
<p id="S1.p9.1" class="ltx_p"><span id="S1.p9.1.1" class="ltx_text ltx_font_bold">Privacy integration.</span>
<span id="S1.p9.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> is tightly integrated with state-of-the-art privacy accountants and mechanisms, enabling a convenient workflow for experimenting with PFL and combining it with orthogonal FL features and algorithms.</p>
</div>
<div id="S1.p10" class="ltx_para ltx_noindent">
<p id="S1.p10.1" class="ltx_p"><span id="S1.p10.1.1" class="ltx_text ltx_font_bold">Non-gradient-descent training.</span>
<span id="S1.p10.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> is also a suitable framework for researching federated learning with models that require training algorithms beyond gradient descent, such as some classical ML algorithms. We provide implementations of federated gradient boosted decision trees (GBDTs) and federated Gaussian mixture models.</p>
</div>
<div id="S1.p11" class="ltx_para ltx_noindent">
<p id="S1.p11.1" class="ltx_p"><span id="S1.p11.1.1" class="ltx_text ltx_font_bold">Diverse and unified benchmarks.</span>
To get a complete picture of where an algorithm performs well, we provide setups for benchmarking algorithms in a variety of scenarios: datasets of diverse domains, IID / non-IID, no DP / Central DP. We aim to provide the same benchmarks for both PyTorch and TensorFlow so that results are comparable across frameworks.</p>
</div>
<div id="S1.p12" class="ltx_para ltx_noindent">
<p id="S1.p12.1" class="ltx_p"><span id="S1.p12.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> began as an inner-source project and has been used both in research and for modelling practical use cases <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib83" title="" class="ltx_ref">83</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib80" title="" class="ltx_ref">80</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib66" title="" class="ltx_ref">66</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p">There are multiple open-source efforts for realizing FL.
Some focus on providing infrastructure for a production environment with real edge devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>, <a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib86" title="" class="ltx_ref">86</a>]</cite>, some focus on simulations for research <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, and some provide both <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib67" title="" class="ltx_ref">67</a>, <a href="#bib.bib79" title="" class="ltx_ref">79</a>, <a href="#bib.bib64" title="" class="ltx_ref">64</a>]</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p">There are pros and cons to each framework for simulation, but there is one validly comparable metric that is key to research velocity: speed.
If an FL framework runs too slowly, researchers with constrained resources will not be able to test their hypotheses on realistic benchmarks, which can outweigh other framework benefits.
For example, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib70" title="" class="ltx_ref">70</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> used FLAIR in their experiments with the original TensorFlow Federated code<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Available at <a target="_blank" href="https://github.com/apple/ml-flair/tree/main" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/ml-flair/tree/main</a></span></span></span> and they both mentioned that the computational resource requirements were substantial enough for them to have to reduce the scope of their experiments.
Therefore, we mainly compare previous work with <span id="S2.p2.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> by implementing the same cross-device benchmarks and measuring wall-clock time to finish one simulation run; see Section <a href="#S4.SS1" title="4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> for the results.</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<p id="S2.p3.1" class="ltx_p">The existing FL simulation frameworks and additional works from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref">50</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib48" title="" class="ltx_ref">48</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> provide benchmarks for evaluating general FL algorithms.
Additionally, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib76" title="" class="ltx_ref">76</a>]</cite> focuses on evaluation of cross-silo FL, and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib78" title="" class="ltx_ref">78</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> on personalized FL.
A subset of each suite of benchmarks are datasets that resemble realistic FL partitions. Unfortunately, publications have largely been focused on datasets such as CIFAR10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>, MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite>, Shakespeare <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, and LibSVM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> that are not, in our view, generated by processes that adequately represent realistic FL settings
The large datasets realistic for FL cannot be used unless simulations become much faster.
For example, only two <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite> out of 40 accepted publications in the FL workshop at ICML 2023 that provided simulation results tested their hypothesis on a dataset with more than <math id="S2.p3.1.m1.1" class="ltx_Math" alttext="4000" display="inline"><semantics id="S2.p3.1.m1.1a"><mn id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">4000</mn><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><cn type="integer" id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1">4000</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">4000</annotation></semantics></math> user partitions (irrespective of whether it was a realistic FL dataset) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
Appendix A.1 of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> confirmed the same trend for previous years.</p>
</div>
<div id="S2.p4" class="ltx_para ltx_noindent">
<p id="S2.p4.1" class="ltx_p">Few FL frameworks integrate security and privacy features.
The consensus is that FL itself does not preserve the privacy of individual clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>: the server actor can inspect gradients from individual clients before aggregation, and information about clients’ data can be extracted from the model after deployment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>.
The latter issue is commonly addressed using central differential privacy (DP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>, <a href="#bib.bib81" title="" class="ltx_ref">81</a>]</cite>.
The former issue requires, in addition to DP, secure aggregation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>.
Most secure aggregation schemes merely compute a sum, and therefore do not need to be simulated, but DP mechanisms need to be included in simulations to accurately reflect the effects of noisy statistics.
There are several popular libraries that provide implementations of DP mechanisms to apply DP noise on generic vectors <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib82" title="" class="ltx_ref">82</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>.
However, most existing FL frameworks do not provide a simple way to plug these DP mechanisms into existing FL algorithms while ensuring that the parameters for DP are consistent with the experimental setup.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>System Design</h2>

<div id="S3.p1" class="ltx_para ltx_noindent">
<p id="S3.p1.1" class="ltx_p"><span id="S3.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> is built entirely in Python and bundled into one package, making installation easy on any platform.
The framework is designed to be modular so that researchers are able to select a model and an algorithm, specify additional processing such as DP, and then quickly try these out for any use case.</p>
</div>
<div id="S3.p2" class="ltx_para ltx_noindent">
<p id="S3.p2.1" class="ltx_p">In this section, we first define the major architectural components in <span id="S3.p2.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> and the philosophy behind them. Then we describe the design for realizing fast distributed simulations.
We defer the introduction to FL and DP to Appendix <a href="#A1" title="Appendix A Preliminaries ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.
For further reading, Appendix <a href="#A2.SS1" title="B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a> provides in-depth description of how the data flow throughout the simulation and how the components interact with each other.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Components</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.1" class="ltx_p"><span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_bold">Dataset.</span>
A <span id="S3.SS1.p1.1.2" class="ltx_text ltx_font_typewriter">FederatedDataset</span> returns datasets of individual clients when iterated.
It parameterizes how to partition, load, and pre-process the data of an individual user.
There are two ways to wrap <span id="S3.SS1.p1.1.3" class="ltx_text ltx_font_typewriter">tf.data.Dataset</span> and <span id="S3.SS1.p1.1.4" class="ltx_text ltx_font_typewriter">torch.utils.data.Dataset</span> (from here on referred to as "native datasets"): one native dataset per user, or one native dataset as the entire <span id="S3.SS1.p1.1.5" class="ltx_text ltx_font_typewriter">FederatedDataset</span> representation.
If the datasets of clients are small enough such that several can be loaded into memory simultaneously, a native dataset can be defined on the same level as <span id="S3.SS1.p1.1.6" class="ltx_text ltx_font_typewriter">FederatedDataset</span>, returning the full data tensors of one user when requesting the next tensors.
In cross-device FL, user datasets are typically small enough to fit into memory, hence this integration is widely applicable to asynchronously loaded client datasets.
If client datasets are large and loading the whole dataset at once is inefficient or requires too much memory, e.g. in large-scale cross-silo simulations, one native dataset can represent one client, with asynchronously loaded batches.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para ltx_noindent">
<p id="S3.SS1.p2.1" class="ltx_p"><span id="S3.SS1.p2.1.1" class="ltx_text ltx_font_bold">Model.</span>
A <span id="S3.SS1.p2.1.2" class="ltx_text ltx_font_typewriter">Model</span> is an adapter for connecting a TensorFlow or PyTorch models to the simulator.
Additionally, the <span id="S3.SS1.p2.1.3" class="ltx_text ltx_font_typewriter">Model</span> class can be extended to implement non-neural-network models.
<span id="S3.SS1.p2.1.4" class="ltx_text ltx_font_typewriter">pfl-research</span> provides an implementation of federated gradient boosted decision trees (GBDTs) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> and federated Gaussian mixture models (GMMs).</p>
</div>
<div id="S3.SS1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS1.p3.1" class="ltx_p"><span id="S3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Algorithm.</span>
The interface for implementing federated algorithms is <span id="S3.SS1.p3.1.2" class="ltx_text ltx_font_typewriter">FederatedAlgorithm</span>. We generalize the responsibilities of an algorithm to be:</p>
</div>
<div id="S3.SS1.p4" class="ltx_para ltx_noindent">
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">get_next_central_contexts</span> — construct configurations describing how the clients should locally train the model during the next central iteration.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">simulate_one_user</span> — perform local training for one user, and return statistics and metrics.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para ltx_noindent">
<p id="S3.I1.i3.p1.1" class="ltx_p"><span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_typewriter">process_aggregated_statistics_all_contexts</span> — perform an update on the central model using aggregated model update(s) and metrics.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS1.p5" class="ltx_para ltx_noindent">
<p id="S3.SS1.p5.1" class="ltx_p">In this way, we can implement a majority of existing FL algorithms while delegating concepts orthogonal to learning (e.g., aggregation, DP, compression) to other components that can be mixed and matched with algorithms.
Algorithm <a href="#algorithm2e1" title="Algorithm 1 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> outlines how the above interface is used in a general FL process and Algorithm <a href="#algorithm2e2" title="Algorithm 2 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> describes a concrete example on how FedAvg is defined using these interfaces.</p>
</div>
<div id="S3.SS1.p6" class="ltx_para ltx_noindent">
<p id="S3.SS1.p6.1" class="ltx_p"><span id="S3.SS1.p6.1.1" class="ltx_text ltx_font_bold">Aggregator.</span>
An <span id="S3.SS1.p6.1.2" class="ltx_text ltx_font_typewriter">Aggregator</span> is a lightweight interface for (1) accumulating model updates from clients and (2) reducing partial aggregated model updates across worker processes. The default is accumulating with a sum, and reducing across workers with an <code id="S3.SS1.p6.1.3" class="ltx_verbatim ltx_font_typewriter">all-reduce</code> sum; see Section <a href="#S3.SS2" title="3.2 Distributed simulations ‣ 3 System Design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> for further explanation.</p>
</div>
<div id="S3.SS1.p7" class="ltx_para ltx_noindent">
<p id="S3.SS1.p7.1" class="ltx_p"><span id="S3.SS1.p7.1.1" class="ltx_text ltx_font_bold">Backend.</span>
A <span id="S3.SS1.p7.1.2" class="ltx_text ltx_font_typewriter">Backend</span> consumes the federated datasets, postprocessors (see below), and aggregator to implement the simulation control flow. Since <span id="S3.SS1.p7.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span> was released for running simulations, only the concrete backend currently included is <span id="S3.SS1.p7.1.4" class="ltx_text ltx_font_typewriter">SimulatedBackend</span>.</p>
</div>
<div id="S3.SS1.p8" class="ltx_para ltx_noindent">
<p id="S3.SS1.p8.1" class="ltx_p"><span id="S3.SS1.p8.1.1" class="ltx_text ltx_font_bold">Postprocessor.</span>
A <span id="S3.SS1.p8.1.2" class="ltx_text ltx_font_typewriter">Backend</span> can invoke a series of <span id="S3.SS1.p8.1.3" class="ltx_text ltx_font_typewriter">Postprocessor</span>s.
These can implement features such as compression, sparsification, and DP mechanisms by modifying local model updates as a postprocessing step, and optionally by postprocessing the aggregated model update before it is sent back to the algorithm for the central model update procedure.
The server-side postprocessing steps are run in <em id="S3.SS1.p8.1.4" class="ltx_emph ltx_font_italic">reversed</em> order.
It is essential to be mindful of the order of postprocessors. For example, DP mechanisms commonly fit best as the last postprocessor for local updates so that no further modification of the sensitivity of the model update happens after clipping, e.g. weighting.</p>
</div>
<div id="S3.SS1.p9" class="ltx_para ltx_noindent">
<p id="S3.SS1.p9.1" class="ltx_p"><span id="S3.SS1.p9.1.1" class="ltx_text ltx_font_bold">Callback.</span>
<span id="S3.SS1.p9.1.2" class="ltx_text ltx_font_typewriter">TrainingProcessCallback</span> provides a hook into the central training loop.
A callback does not have access to the data or model update and is called only after the central model has been updated, hence it should not alter the learning in any way.
Features that extend the callback interface are procedures performed on a cadence after central iterations.
Some callback implementations that <span id="S3.SS1.p9.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span> provides are: fault-tolerant training procedure, evaluation on central dataset, exponential moving average of model, stopping criterion, reporting intermediate results (<span id="S3.SS1.p9.1.4" class="ltx_text ltx_font_typewriter">csv</span> files, TensorBoard and Weights &amp; Biases<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://wandb.ai/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://wandb.ai/</a></span></span></span>), and profiling tools.</p>
</div>
<div id="S3.SS1.p10" class="ltx_para ltx_noindent">
<p id="S3.SS1.p10.1" class="ltx_p"><span id="S3.SS1.p10.1.1" class="ltx_text ltx_font_bold">Hyperparameters.</span>
There are many hyperparameters to tune in (P)FL experiments, and there has been research on constructing schedules and adaptive approaches to simplify the hyperparameter tuning process <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>.
In <span id="S3.SS1.p10.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span>, many hyperparameters of local model training or the algorithm can be expressed as either simple types (constant for the experiment) or as a <span id="S3.SS1.p10.1.3" class="ltx_text ltx_font_typewriter">HyperParam</span> (variable across iterations).
At the start of each central iteration, the algorithm requests the current value of any <span id="S3.SS1.p10.1.4" class="ltx_text ltx_font_typewriter">HyperParam</span> instances to set as the static value for that iteration only.
A concrete hyperparameter class can in turn extend <span id="S3.SS1.p10.1.5" class="ltx_text ltx_font_typewriter">Postprocessor</span> or <span id="S3.SS1.p10.1.6" class="ltx_text ltx_font_typewriter">TrainingProcessCallback</span> to hook into the training loop and adapt its value based on arbitrary rules.</p>
</div>
<div id="S3.SS1.p11" class="ltx_para ltx_noindent">
<p id="S3.SS1.p11.1" class="ltx_p"><span id="S3.SS1.p11.1.1" class="ltx_text ltx_font_bold">Metrics.</span>
Metrics have conflicting implementations in various FL frameworks.
We define two types of metrics:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p">Central metrics — Each client returns aggregable sufficient statistics, and the metric is constructed after aggregation. This is most relevant in FL since we are interested in the performance of the central model over all data points.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para ltx_noindent">
<p id="S3.I2.i2.p1.1" class="ltx_p">Per-user metrics — Each client returns the final metric, and the aggregation over clients’ results is the average of such metrics. This is more relevant when the performance of each client is of interest, e.g. in personalization and meta-learning.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS1.p12" class="ltx_para ltx_noindent">
<p id="S3.SS1.p12.1" class="ltx_p">We include a concrete example on the two kinds of metrics in Appendix <a href="#A2.SS2" title="B.2 Metrics example ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.2</span></a> .</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Distributed simulations</h3>

<div id="S3.SS2.p1" class="ltx_para ltx_noindent">
<p id="S3.SS2.p1.1" class="ltx_p">Most existing FL frameworks have explicit communication steps as they aim to simulate the topology of a real-world FL system where the central server is a bottleneck. In many deployments, the central server can be adequately scaled, and it is valuable to have a faster simulation that ignores the topology.
<span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> simulates only the computation of FL.
Communication is necessary only if the simulation runs with multiple workers (using <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_typewriter">Aggregator.worker_reduce</span>).
There is no dedicated coordinator or aggregator process needed with which all other workers communicate, unlike real-world FL.
All worker processes are replicas, making debugging and transition from single-process to multi-worker training straightforward.</p>
</div>
<figure id="S3.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center">
<p id="S3.F1.sf1.1" class="ltx_p"><span id="S3.F1.sf1.1.1" class="ltx_text" style="position:relative; bottom:0.0pt;"><img src="/html/2404.06430/assets/x1.png" id="S3.F1.sf1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="118" alt="Refer to caption"></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center">
<p id="S3.F1.sf2.1" class="ltx_p"><span id="S3.F1.sf2.1.1" class="ltx_text" style="position:relative; bottom:0.0pt;"><img src="/html/2404.06430/assets/x2.png" id="S3.F1.sf2.1.1.g1" class="ltx_graphics ltx_img_square" width="461" height="487" alt="Refer to caption"></span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>(a) The (very simple) architecture of distributed simulations. Each process is a replica with a different distributed context. One synchronous communication step is done to aggregate gradients and metrics. (b) Each process has a balanced queue of users to train.
</figcaption>
</figure>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.3" class="ltx_p">As depicted in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.2 Distributed simulations ‣ 3 System Design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, multiple worker processes can both live on a single machine and be instantiated across multiple machines.
If a machine has <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">g</annotation></semantics></math> GPUs and <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="gp" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mrow id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><times id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1"></times><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑔</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">gp</annotation></semantics></math> worker processes, then <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mi id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><ci id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">p</annotation></semantics></math> processes will share the same GPU.
(P)FL generally has more non-GPU overhead than conventional ML training, resulting in a lower GPU utilization.
Section <a href="#S4.SS2" title="4.2 Scaling distributed training ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a> empirically shows that spawning more worker processes than GPUs available will increase the GPU utilization and speed up simulations.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para ltx_noindent">
<p id="S3.SS2.p3.1" class="ltx_p">In each central iteration, a sampled cohort of user IDs is scheduled among the worker processes.
Given an associated weight for each user, the <span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_typewriter">SimulatedBackend</span> will do a greedy optimization based on these weights to schedule users across the worker processes to minimize stragglers.
Each worker process locally aggregates client model updates and metrics (while there are more clients to train for the current central iteration). Then, inter-worker aggregation is done with <code id="S3.SS2.p3.1.2" class="ltx_verbatim ltx_font_typewriter">all-reduce</code>.
We defer more detailed discussion on the data flow to Appendix <a href="#A2.SS1" title="B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.1</span></a>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Comparing performance to alternative FL simulators</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p">In this section, we present comprehensive speed benchmarking of FL simulation frameworks.
We compare frameworks on two datasets: CIFAR10 IID and FLAIR.
These are two of the setups also included in <span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> benchmarks, described in Section <a href="#S4.SS3" title="4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>.
CIFAR10 simulation was done on one NVIDIA A100 GPU (40GB) and FLAIR simulation was done on four NVIDIA A100 GPUs.
We refer the reader to Appendix <a href="#A4" title="Appendix D Benchmarking alternative FL frameworks ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> for details on how the frameworks were selected, the specific versions used, and additional information about the setups.
For a fair comparison, the hyperparameter values are the same for different frameworks on both CIFAR10 IID and FLAIR.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparison of simulating CIFAR10 IID dataset with different FL frameworks. <math id="S4.T1.3.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.T1.3.m1.1b"><mi id="S4.T1.3.m1.1.1" xref="S4.T1.3.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.T1.3.m1.1c"><ci id="S4.T1.3.m1.1.1.cmml" xref="S4.T1.3.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.m1.1d">g</annotation></semantics></math> is the number of GPUs and <math id="S4.T1.4.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S4.T1.4.m2.1b"><mi id="S4.T1.4.m2.1.1" xref="S4.T1.4.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T1.4.m2.1c"><ci id="S4.T1.4.m2.1.1.cmml" xref="S4.T1.4.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.m2.1d">p</annotation></semantics></math> is the number of processes concurrently training users and sharing one GPU. All experiments are run for 5 times with different random seed, and both mean and standard deviation of metrics are reported.
</figcaption>
<br class="ltx_break">
<table id="S4.T1.39.35" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T1.6.2.2" class="ltx_tr">
<td id="S4.T1.6.2.2.3" class="ltx_td ltx_align_left ltx_border_tt">Framework</td>
<td id="S4.T1.5.1.1.1" class="ltx_td ltx_align_center ltx_border_tt"><math id="S4.T1.5.1.1.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.T1.5.1.1.1.m1.1a"><mi id="S4.T1.5.1.1.1.m1.1.1" xref="S4.T1.5.1.1.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.T1.5.1.1.1.m1.1b"><ci id="S4.T1.5.1.1.1.m1.1.1.cmml" xref="S4.T1.5.1.1.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.1.1.1.m1.1c">g</annotation></semantics></math></td>
<td id="S4.T1.6.2.2.2" class="ltx_td ltx_align_center ltx_border_tt"><math id="S4.T1.6.2.2.2.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S4.T1.6.2.2.2.m1.1a"><mi id="S4.T1.6.2.2.2.m1.1.1" xref="S4.T1.6.2.2.2.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T1.6.2.2.2.m1.1b"><ci id="S4.T1.6.2.2.2.m1.1.1.cmml" xref="S4.T1.6.2.2.2.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.2.2.2.m1.1c">p</annotation></semantics></math></td>
<td id="S4.T1.6.2.2.4" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T1.6.2.2.4.1" class="ltx_text"></span> <span id="S4.T1.6.2.2.4.2" class="ltx_text">
<span id="S4.T1.6.2.2.4.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.6.2.2.4.2.1.1" class="ltx_tr">
<span id="S4.T1.6.2.2.4.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Wall-clock time</span></span>
<span id="S4.T1.6.2.2.4.2.1.2" class="ltx_tr">
<span id="S4.T1.6.2.2.4.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(minutes)</span></span>
</span></span><span id="S4.T1.6.2.2.4.3" class="ltx_text"></span>
</td>
<td id="S4.T1.6.2.2.5" class="ltx_td ltx_align_center ltx_border_tt">Accuracy</td>
<td id="S4.T1.6.2.2.6" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T1.6.2.2.6.1" class="ltx_text"></span> <span id="S4.T1.6.2.2.6.2" class="ltx_text">
<span id="S4.T1.6.2.2.6.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.6.2.2.6.2.1.1" class="ltx_tr">
<span id="S4.T1.6.2.2.6.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T1.6.2.2.6.2.1.1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span></span></span>
<span id="S4.T1.6.2.2.6.2.1.2" class="ltx_tr">
<span id="S4.T1.6.2.2.6.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">is faster</span></span>
</span></span><span id="S4.T1.6.2.2.6.3" class="ltx_text"></span></td>
</tr>
<tr id="S4.T1.8.4.4" class="ltx_tr">
<td id="S4.T1.8.4.4.3" class="ltx_td ltx_align_left ltx_border_t">
<span id="S4.T1.8.4.4.3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> (PyTorch)</td>
<td id="S4.T1.8.4.4.4" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="S4.T1.8.4.4.5" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="S4.T1.7.3.3.1" class="ltx_td ltx_align_right ltx_border_t"><math id="S4.T1.7.3.3.1.m1.1" class="ltx_Math" alttext="10.13_{\pm 0.06}" display="inline"><semantics id="S4.T1.7.3.3.1.m1.1a"><msub id="S4.T1.7.3.3.1.m1.1.1" xref="S4.T1.7.3.3.1.m1.1.1.cmml"><mn id="S4.T1.7.3.3.1.m1.1.1.2" xref="S4.T1.7.3.3.1.m1.1.1.2.cmml">10.13</mn><mrow id="S4.T1.7.3.3.1.m1.1.1.3" xref="S4.T1.7.3.3.1.m1.1.1.3.cmml"><mo id="S4.T1.7.3.3.1.m1.1.1.3a" xref="S4.T1.7.3.3.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.7.3.3.1.m1.1.1.3.2" xref="S4.T1.7.3.3.1.m1.1.1.3.2.cmml">0.06</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.7.3.3.1.m1.1b"><apply id="S4.T1.7.3.3.1.m1.1.1.cmml" xref="S4.T1.7.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.7.3.3.1.m1.1.1.1.cmml" xref="S4.T1.7.3.3.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.7.3.3.1.m1.1.1.2.cmml" xref="S4.T1.7.3.3.1.m1.1.1.2">10.13</cn><apply id="S4.T1.7.3.3.1.m1.1.1.3.cmml" xref="S4.T1.7.3.3.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.7.3.3.1.m1.1.1.3.1.cmml" xref="S4.T1.7.3.3.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.7.3.3.1.m1.1.1.3.2.cmml" xref="S4.T1.7.3.3.1.m1.1.1.3.2">0.06</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.3.3.1.m1.1c">10.13_{\pm 0.06}</annotation></semantics></math></td>
<td id="S4.T1.8.4.4.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.8.4.4.2.m1.1" class="ltx_Math" alttext="70.45\%_{\pm 0.30}" display="inline"><semantics id="S4.T1.8.4.4.2.m1.1a"><msub id="S4.T1.8.4.4.2.m1.1.1" xref="S4.T1.8.4.4.2.m1.1.1.cmml"><mrow id="S4.T1.8.4.4.2.m1.1.1.2" xref="S4.T1.8.4.4.2.m1.1.1.2.cmml"><mn id="S4.T1.8.4.4.2.m1.1.1.2.2" xref="S4.T1.8.4.4.2.m1.1.1.2.2.cmml">70.45</mn><mo id="S4.T1.8.4.4.2.m1.1.1.2.1" xref="S4.T1.8.4.4.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.8.4.4.2.m1.1.1.3" xref="S4.T1.8.4.4.2.m1.1.1.3.cmml"><mo id="S4.T1.8.4.4.2.m1.1.1.3a" xref="S4.T1.8.4.4.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.8.4.4.2.m1.1.1.3.2" xref="S4.T1.8.4.4.2.m1.1.1.3.2.cmml">0.30</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.8.4.4.2.m1.1b"><apply id="S4.T1.8.4.4.2.m1.1.1.cmml" xref="S4.T1.8.4.4.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.8.4.4.2.m1.1.1.1.cmml" xref="S4.T1.8.4.4.2.m1.1.1">subscript</csymbol><apply id="S4.T1.8.4.4.2.m1.1.1.2.cmml" xref="S4.T1.8.4.4.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.8.4.4.2.m1.1.1.2.1.cmml" xref="S4.T1.8.4.4.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.8.4.4.2.m1.1.1.2.2.cmml" xref="S4.T1.8.4.4.2.m1.1.1.2.2">70.45</cn></apply><apply id="S4.T1.8.4.4.2.m1.1.1.3.cmml" xref="S4.T1.8.4.4.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.8.4.4.2.m1.1.1.3.1.cmml" xref="S4.T1.8.4.4.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.8.4.4.2.m1.1.1.3.2.cmml" xref="S4.T1.8.4.4.2.m1.1.1.3.2">0.30</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.4.4.2.m1.1c">70.45\%_{\pm 0.30}</annotation></semantics></math></td>
<td id="S4.T1.8.4.4.6" class="ltx_td ltx_align_center ltx_border_t">-</td>
</tr>
<tr id="S4.T1.11.7.7" class="ltx_tr">
<td id="S4.T1.11.7.7.4" class="ltx_td ltx_align_left">
<span id="S4.T1.11.7.7.4.1" class="ltx_text ltx_font_typewriter">pfl-research</span> (PyTorch)</td>
<td id="S4.T1.11.7.7.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.11.7.7.6" class="ltx_td ltx_align_center">5</td>
<td id="S4.T1.9.5.5.1" class="ltx_td ltx_align_right"><math id="S4.T1.9.5.5.1.m1.1" class="ltx_Math" alttext="4.20_{\pm 0.10}" display="inline"><semantics id="S4.T1.9.5.5.1.m1.1a"><msub id="S4.T1.9.5.5.1.m1.1.1" xref="S4.T1.9.5.5.1.m1.1.1.cmml"><mn id="S4.T1.9.5.5.1.m1.1.1.2" xref="S4.T1.9.5.5.1.m1.1.1.2.cmml">4.20</mn><mrow id="S4.T1.9.5.5.1.m1.1.1.3" xref="S4.T1.9.5.5.1.m1.1.1.3.cmml"><mo id="S4.T1.9.5.5.1.m1.1.1.3a" xref="S4.T1.9.5.5.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.9.5.5.1.m1.1.1.3.2" xref="S4.T1.9.5.5.1.m1.1.1.3.2.cmml">0.10</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.9.5.5.1.m1.1b"><apply id="S4.T1.9.5.5.1.m1.1.1.cmml" xref="S4.T1.9.5.5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.9.5.5.1.m1.1.1.1.cmml" xref="S4.T1.9.5.5.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.9.5.5.1.m1.1.1.2.cmml" xref="S4.T1.9.5.5.1.m1.1.1.2">4.20</cn><apply id="S4.T1.9.5.5.1.m1.1.1.3.cmml" xref="S4.T1.9.5.5.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.9.5.5.1.m1.1.1.3.1.cmml" xref="S4.T1.9.5.5.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.9.5.5.1.m1.1.1.3.2.cmml" xref="S4.T1.9.5.5.1.m1.1.1.3.2">0.10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.9.5.5.1.m1.1c">4.20_{\pm 0.10}</annotation></semantics></math></td>
<td id="S4.T1.10.6.6.2" class="ltx_td ltx_align_center"><math id="S4.T1.10.6.6.2.m1.1" class="ltx_Math" alttext="70.25\%_{\pm 0.20}" display="inline"><semantics id="S4.T1.10.6.6.2.m1.1a"><msub id="S4.T1.10.6.6.2.m1.1.1" xref="S4.T1.10.6.6.2.m1.1.1.cmml"><mrow id="S4.T1.10.6.6.2.m1.1.1.2" xref="S4.T1.10.6.6.2.m1.1.1.2.cmml"><mn id="S4.T1.10.6.6.2.m1.1.1.2.2" xref="S4.T1.10.6.6.2.m1.1.1.2.2.cmml">70.25</mn><mo id="S4.T1.10.6.6.2.m1.1.1.2.1" xref="S4.T1.10.6.6.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.10.6.6.2.m1.1.1.3" xref="S4.T1.10.6.6.2.m1.1.1.3.cmml"><mo id="S4.T1.10.6.6.2.m1.1.1.3a" xref="S4.T1.10.6.6.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.10.6.6.2.m1.1.1.3.2" xref="S4.T1.10.6.6.2.m1.1.1.3.2.cmml">0.20</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.10.6.6.2.m1.1b"><apply id="S4.T1.10.6.6.2.m1.1.1.cmml" xref="S4.T1.10.6.6.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.10.6.6.2.m1.1.1.1.cmml" xref="S4.T1.10.6.6.2.m1.1.1">subscript</csymbol><apply id="S4.T1.10.6.6.2.m1.1.1.2.cmml" xref="S4.T1.10.6.6.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.10.6.6.2.m1.1.1.2.1.cmml" xref="S4.T1.10.6.6.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.10.6.6.2.m1.1.1.2.2.cmml" xref="S4.T1.10.6.6.2.m1.1.1.2.2">70.25</cn></apply><apply id="S4.T1.10.6.6.2.m1.1.1.3.cmml" xref="S4.T1.10.6.6.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.10.6.6.2.m1.1.1.3.1.cmml" xref="S4.T1.10.6.6.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.10.6.6.2.m1.1.1.3.2.cmml" xref="S4.T1.10.6.6.2.m1.1.1.3.2">0.20</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.10.6.6.2.m1.1c">70.25\%_{\pm 0.20}</annotation></semantics></math></td>
<td id="S4.T1.11.7.7.3" class="ltx_td ltx_align_center">1<math id="S4.T1.11.7.7.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.11.7.7.3.m1.1a"><mo id="S4.T1.11.7.7.3.m1.1.1" xref="S4.T1.11.7.7.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.11.7.7.3.m1.1b"><times id="S4.T1.11.7.7.3.m1.1.1.cmml" xref="S4.T1.11.7.7.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.11.7.7.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.13.9.9" class="ltx_tr">
<td id="S4.T1.13.9.9.3" class="ltx_td ltx_align_left">
<span id="S4.T1.13.9.9.3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> (TF)</td>
<td id="S4.T1.13.9.9.4" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.13.9.9.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.12.8.8.1" class="ltx_td ltx_align_right"><math id="S4.T1.12.8.8.1.m1.1" class="ltx_Math" alttext="15.34_{\pm 0.11}" display="inline"><semantics id="S4.T1.12.8.8.1.m1.1a"><msub id="S4.T1.12.8.8.1.m1.1.1" xref="S4.T1.12.8.8.1.m1.1.1.cmml"><mn id="S4.T1.12.8.8.1.m1.1.1.2" xref="S4.T1.12.8.8.1.m1.1.1.2.cmml">15.34</mn><mrow id="S4.T1.12.8.8.1.m1.1.1.3" xref="S4.T1.12.8.8.1.m1.1.1.3.cmml"><mo id="S4.T1.12.8.8.1.m1.1.1.3a" xref="S4.T1.12.8.8.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.12.8.8.1.m1.1.1.3.2" xref="S4.T1.12.8.8.1.m1.1.1.3.2.cmml">0.11</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.12.8.8.1.m1.1b"><apply id="S4.T1.12.8.8.1.m1.1.1.cmml" xref="S4.T1.12.8.8.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.12.8.8.1.m1.1.1.1.cmml" xref="S4.T1.12.8.8.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.12.8.8.1.m1.1.1.2.cmml" xref="S4.T1.12.8.8.1.m1.1.1.2">15.34</cn><apply id="S4.T1.12.8.8.1.m1.1.1.3.cmml" xref="S4.T1.12.8.8.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.12.8.8.1.m1.1.1.3.1.cmml" xref="S4.T1.12.8.8.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.12.8.8.1.m1.1.1.3.2.cmml" xref="S4.T1.12.8.8.1.m1.1.1.3.2">0.11</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.12.8.8.1.m1.1c">15.34_{\pm 0.11}</annotation></semantics></math></td>
<td id="S4.T1.13.9.9.2" class="ltx_td ltx_align_center"><math id="S4.T1.13.9.9.2.m1.1" class="ltx_Math" alttext="70.43\%_{\pm 0.11}" display="inline"><semantics id="S4.T1.13.9.9.2.m1.1a"><msub id="S4.T1.13.9.9.2.m1.1.1" xref="S4.T1.13.9.9.2.m1.1.1.cmml"><mrow id="S4.T1.13.9.9.2.m1.1.1.2" xref="S4.T1.13.9.9.2.m1.1.1.2.cmml"><mn id="S4.T1.13.9.9.2.m1.1.1.2.2" xref="S4.T1.13.9.9.2.m1.1.1.2.2.cmml">70.43</mn><mo id="S4.T1.13.9.9.2.m1.1.1.2.1" xref="S4.T1.13.9.9.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.13.9.9.2.m1.1.1.3" xref="S4.T1.13.9.9.2.m1.1.1.3.cmml"><mo id="S4.T1.13.9.9.2.m1.1.1.3a" xref="S4.T1.13.9.9.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.13.9.9.2.m1.1.1.3.2" xref="S4.T1.13.9.9.2.m1.1.1.3.2.cmml">0.11</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.13.9.9.2.m1.1b"><apply id="S4.T1.13.9.9.2.m1.1.1.cmml" xref="S4.T1.13.9.9.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.13.9.9.2.m1.1.1.1.cmml" xref="S4.T1.13.9.9.2.m1.1.1">subscript</csymbol><apply id="S4.T1.13.9.9.2.m1.1.1.2.cmml" xref="S4.T1.13.9.9.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.13.9.9.2.m1.1.1.2.1.cmml" xref="S4.T1.13.9.9.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.13.9.9.2.m1.1.1.2.2.cmml" xref="S4.T1.13.9.9.2.m1.1.1.2.2">70.43</cn></apply><apply id="S4.T1.13.9.9.2.m1.1.1.3.cmml" xref="S4.T1.13.9.9.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.13.9.9.2.m1.1.1.3.1.cmml" xref="S4.T1.13.9.9.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.13.9.9.2.m1.1.1.3.2.cmml" xref="S4.T1.13.9.9.2.m1.1.1.3.2">0.11</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.13.9.9.2.m1.1c">70.43\%_{\pm 0.11}</annotation></semantics></math></td>
<td id="S4.T1.13.9.9.6" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="S4.T1.15.11.11" class="ltx_tr">
<td id="S4.T1.15.11.11.3" class="ltx_td ltx_align_left">
<span id="S4.T1.15.11.11.3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> (TF)</td>
<td id="S4.T1.15.11.11.4" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.15.11.11.5" class="ltx_td ltx_align_center">5</td>
<td id="S4.T1.14.10.10.1" class="ltx_td ltx_align_right"><math id="S4.T1.14.10.10.1.m1.1" class="ltx_Math" alttext="7.89_{\pm 0.26}" display="inline"><semantics id="S4.T1.14.10.10.1.m1.1a"><msub id="S4.T1.14.10.10.1.m1.1.1" xref="S4.T1.14.10.10.1.m1.1.1.cmml"><mn id="S4.T1.14.10.10.1.m1.1.1.2" xref="S4.T1.14.10.10.1.m1.1.1.2.cmml">7.89</mn><mrow id="S4.T1.14.10.10.1.m1.1.1.3" xref="S4.T1.14.10.10.1.m1.1.1.3.cmml"><mo id="S4.T1.14.10.10.1.m1.1.1.3a" xref="S4.T1.14.10.10.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.14.10.10.1.m1.1.1.3.2" xref="S4.T1.14.10.10.1.m1.1.1.3.2.cmml">0.26</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.14.10.10.1.m1.1b"><apply id="S4.T1.14.10.10.1.m1.1.1.cmml" xref="S4.T1.14.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.14.10.10.1.m1.1.1.1.cmml" xref="S4.T1.14.10.10.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.14.10.10.1.m1.1.1.2.cmml" xref="S4.T1.14.10.10.1.m1.1.1.2">7.89</cn><apply id="S4.T1.14.10.10.1.m1.1.1.3.cmml" xref="S4.T1.14.10.10.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.14.10.10.1.m1.1.1.3.1.cmml" xref="S4.T1.14.10.10.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.14.10.10.1.m1.1.1.3.2.cmml" xref="S4.T1.14.10.10.1.m1.1.1.3.2">0.26</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.14.10.10.1.m1.1c">7.89_{\pm 0.26}</annotation></semantics></math></td>
<td id="S4.T1.15.11.11.2" class="ltx_td ltx_align_center"><math id="S4.T1.15.11.11.2.m1.1" class="ltx_Math" alttext="70.52\%_{\pm 0.17}" display="inline"><semantics id="S4.T1.15.11.11.2.m1.1a"><msub id="S4.T1.15.11.11.2.m1.1.1" xref="S4.T1.15.11.11.2.m1.1.1.cmml"><mrow id="S4.T1.15.11.11.2.m1.1.1.2" xref="S4.T1.15.11.11.2.m1.1.1.2.cmml"><mn id="S4.T1.15.11.11.2.m1.1.1.2.2" xref="S4.T1.15.11.11.2.m1.1.1.2.2.cmml">70.52</mn><mo id="S4.T1.15.11.11.2.m1.1.1.2.1" xref="S4.T1.15.11.11.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.15.11.11.2.m1.1.1.3" xref="S4.T1.15.11.11.2.m1.1.1.3.cmml"><mo id="S4.T1.15.11.11.2.m1.1.1.3a" xref="S4.T1.15.11.11.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.15.11.11.2.m1.1.1.3.2" xref="S4.T1.15.11.11.2.m1.1.1.3.2.cmml">0.17</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.15.11.11.2.m1.1b"><apply id="S4.T1.15.11.11.2.m1.1.1.cmml" xref="S4.T1.15.11.11.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.15.11.11.2.m1.1.1.1.cmml" xref="S4.T1.15.11.11.2.m1.1.1">subscript</csymbol><apply id="S4.T1.15.11.11.2.m1.1.1.2.cmml" xref="S4.T1.15.11.11.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.15.11.11.2.m1.1.1.2.1.cmml" xref="S4.T1.15.11.11.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.15.11.11.2.m1.1.1.2.2.cmml" xref="S4.T1.15.11.11.2.m1.1.1.2.2">70.52</cn></apply><apply id="S4.T1.15.11.11.2.m1.1.1.3.cmml" xref="S4.T1.15.11.11.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.15.11.11.2.m1.1.1.3.1.cmml" xref="S4.T1.15.11.11.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.15.11.11.2.m1.1.1.3.2.cmml" xref="S4.T1.15.11.11.2.m1.1.1.3.2">0.17</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.15.11.11.2.m1.1c">70.52\%_{\pm 0.17}</annotation></semantics></math></td>
<td id="S4.T1.15.11.11.6" class="ltx_td ltx_align_center">-</td>
</tr>
<tr id="S4.T1.18.14.14" class="ltx_tr">
<td id="S4.T1.18.14.14.4" class="ltx_td ltx_align_left ltx_border_t">FedML (PyTorch) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>
</td>
<td id="S4.T1.18.14.14.5" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="S4.T1.18.14.14.6" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="S4.T1.16.12.12.1" class="ltx_td ltx_align_right ltx_border_t"><math id="S4.T1.16.12.12.1.m1.1" class="ltx_Math" alttext="90.95_{\pm 0.47}" display="inline"><semantics id="S4.T1.16.12.12.1.m1.1a"><msub id="S4.T1.16.12.12.1.m1.1.1" xref="S4.T1.16.12.12.1.m1.1.1.cmml"><mn id="S4.T1.16.12.12.1.m1.1.1.2" xref="S4.T1.16.12.12.1.m1.1.1.2.cmml">90.95</mn><mrow id="S4.T1.16.12.12.1.m1.1.1.3" xref="S4.T1.16.12.12.1.m1.1.1.3.cmml"><mo id="S4.T1.16.12.12.1.m1.1.1.3a" xref="S4.T1.16.12.12.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.16.12.12.1.m1.1.1.3.2" xref="S4.T1.16.12.12.1.m1.1.1.3.2.cmml">0.47</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.16.12.12.1.m1.1b"><apply id="S4.T1.16.12.12.1.m1.1.1.cmml" xref="S4.T1.16.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.16.12.12.1.m1.1.1.1.cmml" xref="S4.T1.16.12.12.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.16.12.12.1.m1.1.1.2.cmml" xref="S4.T1.16.12.12.1.m1.1.1.2">90.95</cn><apply id="S4.T1.16.12.12.1.m1.1.1.3.cmml" xref="S4.T1.16.12.12.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.16.12.12.1.m1.1.1.3.1.cmml" xref="S4.T1.16.12.12.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.16.12.12.1.m1.1.1.3.2.cmml" xref="S4.T1.16.12.12.1.m1.1.1.3.2">0.47</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.16.12.12.1.m1.1c">90.95_{\pm 0.47}</annotation></semantics></math></td>
<td id="S4.T1.17.13.13.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T1.17.13.13.2.m1.1" class="ltx_Math" alttext="71.23\%_{\pm 0.00}" display="inline"><semantics id="S4.T1.17.13.13.2.m1.1a"><msub id="S4.T1.17.13.13.2.m1.1.1" xref="S4.T1.17.13.13.2.m1.1.1.cmml"><mrow id="S4.T1.17.13.13.2.m1.1.1.2" xref="S4.T1.17.13.13.2.m1.1.1.2.cmml"><mn id="S4.T1.17.13.13.2.m1.1.1.2.2" xref="S4.T1.17.13.13.2.m1.1.1.2.2.cmml">71.23</mn><mo id="S4.T1.17.13.13.2.m1.1.1.2.1" xref="S4.T1.17.13.13.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.17.13.13.2.m1.1.1.3" xref="S4.T1.17.13.13.2.m1.1.1.3.cmml"><mo id="S4.T1.17.13.13.2.m1.1.1.3a" xref="S4.T1.17.13.13.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.17.13.13.2.m1.1.1.3.2" xref="S4.T1.17.13.13.2.m1.1.1.3.2.cmml">0.00</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.17.13.13.2.m1.1b"><apply id="S4.T1.17.13.13.2.m1.1.1.cmml" xref="S4.T1.17.13.13.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.17.13.13.2.m1.1.1.1.cmml" xref="S4.T1.17.13.13.2.m1.1.1">subscript</csymbol><apply id="S4.T1.17.13.13.2.m1.1.1.2.cmml" xref="S4.T1.17.13.13.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.17.13.13.2.m1.1.1.2.1.cmml" xref="S4.T1.17.13.13.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.17.13.13.2.m1.1.1.2.2.cmml" xref="S4.T1.17.13.13.2.m1.1.1.2.2">71.23</cn></apply><apply id="S4.T1.17.13.13.2.m1.1.1.3.cmml" xref="S4.T1.17.13.13.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.17.13.13.2.m1.1.1.3.1.cmml" xref="S4.T1.17.13.13.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.17.13.13.2.m1.1.1.3.2.cmml" xref="S4.T1.17.13.13.2.m1.1.1.3.2">0.00</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.17.13.13.2.m1.1c">71.23\%_{\pm 0.00}</annotation></semantics></math></td>
<td id="S4.T1.18.14.14.3" class="ltx_td ltx_align_center ltx_border_t">21.6<math id="S4.T1.18.14.14.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.18.14.14.3.m1.1a"><mo id="S4.T1.18.14.14.3.m1.1.1" xref="S4.T1.18.14.14.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.18.14.14.3.m1.1b"><times id="S4.T1.18.14.14.3.m1.1.1.cmml" xref="S4.T1.18.14.14.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.18.14.14.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.21.17.17" class="ltx_tr">
<td id="S4.T1.21.17.17.4" class="ltx_td ltx_align_left">TensorFlow Federated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T1.21.17.17.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.21.17.17.6" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.19.15.15.1" class="ltx_td ltx_align_right"><math id="S4.T1.19.15.15.1.m1.1" class="ltx_Math" alttext="113.52_{\pm 1.26}" display="inline"><semantics id="S4.T1.19.15.15.1.m1.1a"><msub id="S4.T1.19.15.15.1.m1.1.1" xref="S4.T1.19.15.15.1.m1.1.1.cmml"><mn id="S4.T1.19.15.15.1.m1.1.1.2" xref="S4.T1.19.15.15.1.m1.1.1.2.cmml">113.52</mn><mrow id="S4.T1.19.15.15.1.m1.1.1.3" xref="S4.T1.19.15.15.1.m1.1.1.3.cmml"><mo id="S4.T1.19.15.15.1.m1.1.1.3a" xref="S4.T1.19.15.15.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.19.15.15.1.m1.1.1.3.2" xref="S4.T1.19.15.15.1.m1.1.1.3.2.cmml">1.26</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.19.15.15.1.m1.1b"><apply id="S4.T1.19.15.15.1.m1.1.1.cmml" xref="S4.T1.19.15.15.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.19.15.15.1.m1.1.1.1.cmml" xref="S4.T1.19.15.15.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.19.15.15.1.m1.1.1.2.cmml" xref="S4.T1.19.15.15.1.m1.1.1.2">113.52</cn><apply id="S4.T1.19.15.15.1.m1.1.1.3.cmml" xref="S4.T1.19.15.15.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.19.15.15.1.m1.1.1.3.1.cmml" xref="S4.T1.19.15.15.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.19.15.15.1.m1.1.1.3.2.cmml" xref="S4.T1.19.15.15.1.m1.1.1.3.2">1.26</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.19.15.15.1.m1.1c">113.52_{\pm 1.26}</annotation></semantics></math></td>
<td id="S4.T1.20.16.16.2" class="ltx_td ltx_align_center"><math id="S4.T1.20.16.16.2.m1.1" class="ltx_Math" alttext="70.02\%_{\pm 0.36}" display="inline"><semantics id="S4.T1.20.16.16.2.m1.1a"><msub id="S4.T1.20.16.16.2.m1.1.1" xref="S4.T1.20.16.16.2.m1.1.1.cmml"><mrow id="S4.T1.20.16.16.2.m1.1.1.2" xref="S4.T1.20.16.16.2.m1.1.1.2.cmml"><mn id="S4.T1.20.16.16.2.m1.1.1.2.2" xref="S4.T1.20.16.16.2.m1.1.1.2.2.cmml">70.02</mn><mo id="S4.T1.20.16.16.2.m1.1.1.2.1" xref="S4.T1.20.16.16.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.20.16.16.2.m1.1.1.3" xref="S4.T1.20.16.16.2.m1.1.1.3.cmml"><mo id="S4.T1.20.16.16.2.m1.1.1.3a" xref="S4.T1.20.16.16.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.20.16.16.2.m1.1.1.3.2" xref="S4.T1.20.16.16.2.m1.1.1.3.2.cmml">0.36</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.20.16.16.2.m1.1b"><apply id="S4.T1.20.16.16.2.m1.1.1.cmml" xref="S4.T1.20.16.16.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.20.16.16.2.m1.1.1.1.cmml" xref="S4.T1.20.16.16.2.m1.1.1">subscript</csymbol><apply id="S4.T1.20.16.16.2.m1.1.1.2.cmml" xref="S4.T1.20.16.16.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.20.16.16.2.m1.1.1.2.1.cmml" xref="S4.T1.20.16.16.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.20.16.16.2.m1.1.1.2.2.cmml" xref="S4.T1.20.16.16.2.m1.1.1.2.2">70.02</cn></apply><apply id="S4.T1.20.16.16.2.m1.1.1.3.cmml" xref="S4.T1.20.16.16.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.20.16.16.2.m1.1.1.3.1.cmml" xref="S4.T1.20.16.16.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.20.16.16.2.m1.1.1.3.2.cmml" xref="S4.T1.20.16.16.2.m1.1.1.3.2">0.36</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.20.16.16.2.m1.1c">70.02\%_{\pm 0.36}</annotation></semantics></math></td>
<td id="S4.T1.21.17.17.3" class="ltx_td ltx_align_center">27<math id="S4.T1.21.17.17.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.21.17.17.3.m1.1a"><mo id="S4.T1.21.17.17.3.m1.1.1" xref="S4.T1.21.17.17.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.21.17.17.3.m1.1b"><times id="S4.T1.21.17.17.3.m1.1.1.cmml" xref="S4.T1.21.17.17.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.21.17.17.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.24.20.20" class="ltx_tr">
<td id="S4.T1.24.20.20.4" class="ltx_td ltx_align_left">TensorFlow Federated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T1.24.20.20.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.24.20.20.6" class="ltx_td ltx_align_center">10</td>
<td id="S4.T1.22.18.18.1" class="ltx_td ltx_align_right"><math id="S4.T1.22.18.18.1.m1.1" class="ltx_Math" alttext="82.23_{\pm 0.49}" display="inline"><semantics id="S4.T1.22.18.18.1.m1.1a"><msub id="S4.T1.22.18.18.1.m1.1.1" xref="S4.T1.22.18.18.1.m1.1.1.cmml"><mn id="S4.T1.22.18.18.1.m1.1.1.2" xref="S4.T1.22.18.18.1.m1.1.1.2.cmml">82.23</mn><mrow id="S4.T1.22.18.18.1.m1.1.1.3" xref="S4.T1.22.18.18.1.m1.1.1.3.cmml"><mo id="S4.T1.22.18.18.1.m1.1.1.3a" xref="S4.T1.22.18.18.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.22.18.18.1.m1.1.1.3.2" xref="S4.T1.22.18.18.1.m1.1.1.3.2.cmml">0.49</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.22.18.18.1.m1.1b"><apply id="S4.T1.22.18.18.1.m1.1.1.cmml" xref="S4.T1.22.18.18.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.22.18.18.1.m1.1.1.1.cmml" xref="S4.T1.22.18.18.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.22.18.18.1.m1.1.1.2.cmml" xref="S4.T1.22.18.18.1.m1.1.1.2">82.23</cn><apply id="S4.T1.22.18.18.1.m1.1.1.3.cmml" xref="S4.T1.22.18.18.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.22.18.18.1.m1.1.1.3.1.cmml" xref="S4.T1.22.18.18.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.22.18.18.1.m1.1.1.3.2.cmml" xref="S4.T1.22.18.18.1.m1.1.1.3.2">0.49</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.22.18.18.1.m1.1c">82.23_{\pm 0.49}</annotation></semantics></math></td>
<td id="S4.T1.23.19.19.2" class="ltx_td ltx_align_center"><math id="S4.T1.23.19.19.2.m1.1" class="ltx_Math" alttext="70.12\%_{\pm 0.35}" display="inline"><semantics id="S4.T1.23.19.19.2.m1.1a"><msub id="S4.T1.23.19.19.2.m1.1.1" xref="S4.T1.23.19.19.2.m1.1.1.cmml"><mrow id="S4.T1.23.19.19.2.m1.1.1.2" xref="S4.T1.23.19.19.2.m1.1.1.2.cmml"><mn id="S4.T1.23.19.19.2.m1.1.1.2.2" xref="S4.T1.23.19.19.2.m1.1.1.2.2.cmml">70.12</mn><mo id="S4.T1.23.19.19.2.m1.1.1.2.1" xref="S4.T1.23.19.19.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.23.19.19.2.m1.1.1.3" xref="S4.T1.23.19.19.2.m1.1.1.3.cmml"><mo id="S4.T1.23.19.19.2.m1.1.1.3a" xref="S4.T1.23.19.19.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.23.19.19.2.m1.1.1.3.2" xref="S4.T1.23.19.19.2.m1.1.1.3.2.cmml">0.35</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.23.19.19.2.m1.1b"><apply id="S4.T1.23.19.19.2.m1.1.1.cmml" xref="S4.T1.23.19.19.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.23.19.19.2.m1.1.1.1.cmml" xref="S4.T1.23.19.19.2.m1.1.1">subscript</csymbol><apply id="S4.T1.23.19.19.2.m1.1.1.2.cmml" xref="S4.T1.23.19.19.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.23.19.19.2.m1.1.1.2.1.cmml" xref="S4.T1.23.19.19.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.23.19.19.2.m1.1.1.2.2.cmml" xref="S4.T1.23.19.19.2.m1.1.1.2.2">70.12</cn></apply><apply id="S4.T1.23.19.19.2.m1.1.1.3.cmml" xref="S4.T1.23.19.19.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.23.19.19.2.m1.1.1.3.1.cmml" xref="S4.T1.23.19.19.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.23.19.19.2.m1.1.1.3.2.cmml" xref="S4.T1.23.19.19.2.m1.1.1.3.2">0.35</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.23.19.19.2.m1.1c">70.12\%_{\pm 0.35}</annotation></semantics></math></td>
<td id="S4.T1.24.20.20.3" class="ltx_td ltx_align_center">19.6<math id="S4.T1.24.20.20.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.24.20.20.3.m1.1a"><mo id="S4.T1.24.20.20.3.m1.1.1" xref="S4.T1.24.20.20.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.24.20.20.3.m1.1b"><times id="S4.T1.24.20.20.3.m1.1.1.cmml" xref="S4.T1.24.20.20.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.24.20.20.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.27.23.23" class="ltx_tr">
<td id="S4.T1.27.23.23.4" class="ltx_td ltx_align_left">Flower (PyTorch) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>
</td>
<td id="S4.T1.27.23.23.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.27.23.23.6" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.25.21.21.1" class="ltx_td ltx_align_right"><math id="S4.T1.25.21.21.1.m1.1" class="ltx_Math" alttext="86.88_{\pm 1.42}" display="inline"><semantics id="S4.T1.25.21.21.1.m1.1a"><msub id="S4.T1.25.21.21.1.m1.1.1" xref="S4.T1.25.21.21.1.m1.1.1.cmml"><mn id="S4.T1.25.21.21.1.m1.1.1.2" xref="S4.T1.25.21.21.1.m1.1.1.2.cmml">86.88</mn><mrow id="S4.T1.25.21.21.1.m1.1.1.3" xref="S4.T1.25.21.21.1.m1.1.1.3.cmml"><mo id="S4.T1.25.21.21.1.m1.1.1.3a" xref="S4.T1.25.21.21.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.25.21.21.1.m1.1.1.3.2" xref="S4.T1.25.21.21.1.m1.1.1.3.2.cmml">1.42</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.25.21.21.1.m1.1b"><apply id="S4.T1.25.21.21.1.m1.1.1.cmml" xref="S4.T1.25.21.21.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.25.21.21.1.m1.1.1.1.cmml" xref="S4.T1.25.21.21.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.25.21.21.1.m1.1.1.2.cmml" xref="S4.T1.25.21.21.1.m1.1.1.2">86.88</cn><apply id="S4.T1.25.21.21.1.m1.1.1.3.cmml" xref="S4.T1.25.21.21.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.25.21.21.1.m1.1.1.3.1.cmml" xref="S4.T1.25.21.21.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.25.21.21.1.m1.1.1.3.2.cmml" xref="S4.T1.25.21.21.1.m1.1.1.3.2">1.42</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.25.21.21.1.m1.1c">86.88_{\pm 1.42}</annotation></semantics></math></td>
<td id="S4.T1.26.22.22.2" class="ltx_td ltx_align_center"><math id="S4.T1.26.22.22.2.m1.1" class="ltx_Math" alttext="68.30\%_{\pm 0.12}" display="inline"><semantics id="S4.T1.26.22.22.2.m1.1a"><msub id="S4.T1.26.22.22.2.m1.1.1" xref="S4.T1.26.22.22.2.m1.1.1.cmml"><mrow id="S4.T1.26.22.22.2.m1.1.1.2" xref="S4.T1.26.22.22.2.m1.1.1.2.cmml"><mn id="S4.T1.26.22.22.2.m1.1.1.2.2" xref="S4.T1.26.22.22.2.m1.1.1.2.2.cmml">68.30</mn><mo id="S4.T1.26.22.22.2.m1.1.1.2.1" xref="S4.T1.26.22.22.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.26.22.22.2.m1.1.1.3" xref="S4.T1.26.22.22.2.m1.1.1.3.cmml"><mo id="S4.T1.26.22.22.2.m1.1.1.3a" xref="S4.T1.26.22.22.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.26.22.22.2.m1.1.1.3.2" xref="S4.T1.26.22.22.2.m1.1.1.3.2.cmml">0.12</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.26.22.22.2.m1.1b"><apply id="S4.T1.26.22.22.2.m1.1.1.cmml" xref="S4.T1.26.22.22.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.26.22.22.2.m1.1.1.1.cmml" xref="S4.T1.26.22.22.2.m1.1.1">subscript</csymbol><apply id="S4.T1.26.22.22.2.m1.1.1.2.cmml" xref="S4.T1.26.22.22.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.26.22.22.2.m1.1.1.2.1.cmml" xref="S4.T1.26.22.22.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.26.22.22.2.m1.1.1.2.2.cmml" xref="S4.T1.26.22.22.2.m1.1.1.2.2">68.30</cn></apply><apply id="S4.T1.26.22.22.2.m1.1.1.3.cmml" xref="S4.T1.26.22.22.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.26.22.22.2.m1.1.1.3.1.cmml" xref="S4.T1.26.22.22.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.26.22.22.2.m1.1.1.3.2.cmml" xref="S4.T1.26.22.22.2.m1.1.1.3.2">0.12</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.26.22.22.2.m1.1c">68.30\%_{\pm 0.12}</annotation></semantics></math></td>
<td id="S4.T1.27.23.23.3" class="ltx_td ltx_align_center">16.4<math id="S4.T1.27.23.23.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.27.23.23.3.m1.1a"><mo id="S4.T1.27.23.23.3.m1.1.1" xref="S4.T1.27.23.23.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.27.23.23.3.m1.1b"><times id="S4.T1.27.23.23.3.m1.1.1.cmml" xref="S4.T1.27.23.23.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.27.23.23.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.30.26.26" class="ltx_tr">
<td id="S4.T1.30.26.26.4" class="ltx_td ltx_align_left">Flower (PyTorch) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>
</td>
<td id="S4.T1.30.26.26.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.30.26.26.6" class="ltx_td ltx_align_center">10</td>
<td id="S4.T1.28.24.24.1" class="ltx_td ltx_align_right"><math id="S4.T1.28.24.24.1.m1.1" class="ltx_Math" alttext="29.26_{\pm 0.90}" display="inline"><semantics id="S4.T1.28.24.24.1.m1.1a"><msub id="S4.T1.28.24.24.1.m1.1.1" xref="S4.T1.28.24.24.1.m1.1.1.cmml"><mn id="S4.T1.28.24.24.1.m1.1.1.2" xref="S4.T1.28.24.24.1.m1.1.1.2.cmml">29.26</mn><mrow id="S4.T1.28.24.24.1.m1.1.1.3" xref="S4.T1.28.24.24.1.m1.1.1.3.cmml"><mo id="S4.T1.28.24.24.1.m1.1.1.3a" xref="S4.T1.28.24.24.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.28.24.24.1.m1.1.1.3.2" xref="S4.T1.28.24.24.1.m1.1.1.3.2.cmml">0.90</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.28.24.24.1.m1.1b"><apply id="S4.T1.28.24.24.1.m1.1.1.cmml" xref="S4.T1.28.24.24.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.28.24.24.1.m1.1.1.1.cmml" xref="S4.T1.28.24.24.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.28.24.24.1.m1.1.1.2.cmml" xref="S4.T1.28.24.24.1.m1.1.1.2">29.26</cn><apply id="S4.T1.28.24.24.1.m1.1.1.3.cmml" xref="S4.T1.28.24.24.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.28.24.24.1.m1.1.1.3.1.cmml" xref="S4.T1.28.24.24.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.28.24.24.1.m1.1.1.3.2.cmml" xref="S4.T1.28.24.24.1.m1.1.1.3.2">0.90</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.28.24.24.1.m1.1c">29.26_{\pm 0.90}</annotation></semantics></math></td>
<td id="S4.T1.29.25.25.2" class="ltx_td ltx_align_center"><math id="S4.T1.29.25.25.2.m1.1" class="ltx_Math" alttext="67.66\%_{\pm 0.28}" display="inline"><semantics id="S4.T1.29.25.25.2.m1.1a"><msub id="S4.T1.29.25.25.2.m1.1.1" xref="S4.T1.29.25.25.2.m1.1.1.cmml"><mrow id="S4.T1.29.25.25.2.m1.1.1.2" xref="S4.T1.29.25.25.2.m1.1.1.2.cmml"><mn id="S4.T1.29.25.25.2.m1.1.1.2.2" xref="S4.T1.29.25.25.2.m1.1.1.2.2.cmml">67.66</mn><mo id="S4.T1.29.25.25.2.m1.1.1.2.1" xref="S4.T1.29.25.25.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.29.25.25.2.m1.1.1.3" xref="S4.T1.29.25.25.2.m1.1.1.3.cmml"><mo id="S4.T1.29.25.25.2.m1.1.1.3a" xref="S4.T1.29.25.25.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.29.25.25.2.m1.1.1.3.2" xref="S4.T1.29.25.25.2.m1.1.1.3.2.cmml">0.28</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.29.25.25.2.m1.1b"><apply id="S4.T1.29.25.25.2.m1.1.1.cmml" xref="S4.T1.29.25.25.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.29.25.25.2.m1.1.1.1.cmml" xref="S4.T1.29.25.25.2.m1.1.1">subscript</csymbol><apply id="S4.T1.29.25.25.2.m1.1.1.2.cmml" xref="S4.T1.29.25.25.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.29.25.25.2.m1.1.1.2.1.cmml" xref="S4.T1.29.25.25.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.29.25.25.2.m1.1.1.2.2.cmml" xref="S4.T1.29.25.25.2.m1.1.1.2.2">67.66</cn></apply><apply id="S4.T1.29.25.25.2.m1.1.1.3.cmml" xref="S4.T1.29.25.25.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.29.25.25.2.m1.1.1.3.1.cmml" xref="S4.T1.29.25.25.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.29.25.25.2.m1.1.1.3.2.cmml" xref="S4.T1.29.25.25.2.m1.1.1.3.2">0.28</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.29.25.25.2.m1.1c">67.66\%_{\pm 0.28}</annotation></semantics></math></td>
<td id="S4.T1.30.26.26.3" class="ltx_td ltx_align_center">7<math id="S4.T1.30.26.26.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.30.26.26.3.m1.1a"><mo id="S4.T1.30.26.26.3.m1.1.1" xref="S4.T1.30.26.26.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.30.26.26.3.m1.1b"><times id="S4.T1.30.26.26.3.m1.1.1.cmml" xref="S4.T1.30.26.26.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.30.26.26.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.33.29.29" class="ltx_tr">
<td id="S4.T1.33.29.29.4" class="ltx_td ltx_align_left">FedScale <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>
</td>
<td id="S4.T1.33.29.29.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.33.29.29.6" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.31.27.27.1" class="ltx_td ltx_align_right"><math id="S4.T1.31.27.27.1.m1.1" class="ltx_Math" alttext="425.2_{\pm 17.66}" display="inline"><semantics id="S4.T1.31.27.27.1.m1.1a"><msub id="S4.T1.31.27.27.1.m1.1.1" xref="S4.T1.31.27.27.1.m1.1.1.cmml"><mn id="S4.T1.31.27.27.1.m1.1.1.2" xref="S4.T1.31.27.27.1.m1.1.1.2.cmml">425.2</mn><mrow id="S4.T1.31.27.27.1.m1.1.1.3" xref="S4.T1.31.27.27.1.m1.1.1.3.cmml"><mo id="S4.T1.31.27.27.1.m1.1.1.3a" xref="S4.T1.31.27.27.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.31.27.27.1.m1.1.1.3.2" xref="S4.T1.31.27.27.1.m1.1.1.3.2.cmml">17.66</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.31.27.27.1.m1.1b"><apply id="S4.T1.31.27.27.1.m1.1.1.cmml" xref="S4.T1.31.27.27.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.31.27.27.1.m1.1.1.1.cmml" xref="S4.T1.31.27.27.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.31.27.27.1.m1.1.1.2.cmml" xref="S4.T1.31.27.27.1.m1.1.1.2">425.2</cn><apply id="S4.T1.31.27.27.1.m1.1.1.3.cmml" xref="S4.T1.31.27.27.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.31.27.27.1.m1.1.1.3.1.cmml" xref="S4.T1.31.27.27.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.31.27.27.1.m1.1.1.3.2.cmml" xref="S4.T1.31.27.27.1.m1.1.1.3.2">17.66</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.31.27.27.1.m1.1c">425.2_{\pm 17.66}</annotation></semantics></math></td>
<td id="S4.T1.32.28.28.2" class="ltx_td ltx_align_center"><math id="S4.T1.32.28.28.2.m1.1" class="ltx_Math" alttext="70.41\%_{\pm 0.00}" display="inline"><semantics id="S4.T1.32.28.28.2.m1.1a"><msub id="S4.T1.32.28.28.2.m1.1.1" xref="S4.T1.32.28.28.2.m1.1.1.cmml"><mrow id="S4.T1.32.28.28.2.m1.1.1.2" xref="S4.T1.32.28.28.2.m1.1.1.2.cmml"><mn id="S4.T1.32.28.28.2.m1.1.1.2.2" xref="S4.T1.32.28.28.2.m1.1.1.2.2.cmml">70.41</mn><mo id="S4.T1.32.28.28.2.m1.1.1.2.1" xref="S4.T1.32.28.28.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.32.28.28.2.m1.1.1.3" xref="S4.T1.32.28.28.2.m1.1.1.3.cmml"><mo id="S4.T1.32.28.28.2.m1.1.1.3a" xref="S4.T1.32.28.28.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.32.28.28.2.m1.1.1.3.2" xref="S4.T1.32.28.28.2.m1.1.1.3.2.cmml">0.00</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.32.28.28.2.m1.1b"><apply id="S4.T1.32.28.28.2.m1.1.1.cmml" xref="S4.T1.32.28.28.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.32.28.28.2.m1.1.1.1.cmml" xref="S4.T1.32.28.28.2.m1.1.1">subscript</csymbol><apply id="S4.T1.32.28.28.2.m1.1.1.2.cmml" xref="S4.T1.32.28.28.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.32.28.28.2.m1.1.1.2.1.cmml" xref="S4.T1.32.28.28.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.32.28.28.2.m1.1.1.2.2.cmml" xref="S4.T1.32.28.28.2.m1.1.1.2.2">70.41</cn></apply><apply id="S4.T1.32.28.28.2.m1.1.1.3.cmml" xref="S4.T1.32.28.28.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.32.28.28.2.m1.1.1.3.1.cmml" xref="S4.T1.32.28.28.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.32.28.28.2.m1.1.1.3.2.cmml" xref="S4.T1.32.28.28.2.m1.1.1.3.2">0.00</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.32.28.28.2.m1.1c">70.41\%_{\pm 0.00}</annotation></semantics></math></td>
<td id="S4.T1.33.29.29.3" class="ltx_td ltx_align_center">101<math id="S4.T1.33.29.29.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.33.29.29.3.m1.1a"><mo id="S4.T1.33.29.29.3.m1.1.1" xref="S4.T1.33.29.29.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.33.29.29.3.m1.1b"><times id="S4.T1.33.29.29.3.m1.1.1.cmml" xref="S4.T1.33.29.29.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.33.29.29.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.36.32.32" class="ltx_tr">
<td id="S4.T1.36.32.32.4" class="ltx_td ltx_align_left">FedScale <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>
</td>
<td id="S4.T1.36.32.32.5" class="ltx_td ltx_align_center">1</td>
<td id="S4.T1.36.32.32.6" class="ltx_td ltx_align_center">10</td>
<td id="S4.T1.34.30.30.1" class="ltx_td ltx_align_right"><math id="S4.T1.34.30.30.1.m1.1" class="ltx_Math" alttext="301.7_{\pm 19.22}" display="inline"><semantics id="S4.T1.34.30.30.1.m1.1a"><msub id="S4.T1.34.30.30.1.m1.1.1" xref="S4.T1.34.30.30.1.m1.1.1.cmml"><mn id="S4.T1.34.30.30.1.m1.1.1.2" xref="S4.T1.34.30.30.1.m1.1.1.2.cmml">301.7</mn><mrow id="S4.T1.34.30.30.1.m1.1.1.3" xref="S4.T1.34.30.30.1.m1.1.1.3.cmml"><mo id="S4.T1.34.30.30.1.m1.1.1.3a" xref="S4.T1.34.30.30.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.34.30.30.1.m1.1.1.3.2" xref="S4.T1.34.30.30.1.m1.1.1.3.2.cmml">19.22</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.34.30.30.1.m1.1b"><apply id="S4.T1.34.30.30.1.m1.1.1.cmml" xref="S4.T1.34.30.30.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.34.30.30.1.m1.1.1.1.cmml" xref="S4.T1.34.30.30.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.34.30.30.1.m1.1.1.2.cmml" xref="S4.T1.34.30.30.1.m1.1.1.2">301.7</cn><apply id="S4.T1.34.30.30.1.m1.1.1.3.cmml" xref="S4.T1.34.30.30.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.34.30.30.1.m1.1.1.3.1.cmml" xref="S4.T1.34.30.30.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.34.30.30.1.m1.1.1.3.2.cmml" xref="S4.T1.34.30.30.1.m1.1.1.3.2">19.22</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.34.30.30.1.m1.1c">301.7_{\pm 19.22}</annotation></semantics></math></td>
<td id="S4.T1.35.31.31.2" class="ltx_td ltx_align_center"><math id="S4.T1.35.31.31.2.m1.1" class="ltx_Math" alttext="70.90\%_{\pm 0.43}" display="inline"><semantics id="S4.T1.35.31.31.2.m1.1a"><msub id="S4.T1.35.31.31.2.m1.1.1" xref="S4.T1.35.31.31.2.m1.1.1.cmml"><mrow id="S4.T1.35.31.31.2.m1.1.1.2" xref="S4.T1.35.31.31.2.m1.1.1.2.cmml"><mn id="S4.T1.35.31.31.2.m1.1.1.2.2" xref="S4.T1.35.31.31.2.m1.1.1.2.2.cmml">70.90</mn><mo id="S4.T1.35.31.31.2.m1.1.1.2.1" xref="S4.T1.35.31.31.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.35.31.31.2.m1.1.1.3" xref="S4.T1.35.31.31.2.m1.1.1.3.cmml"><mo id="S4.T1.35.31.31.2.m1.1.1.3a" xref="S4.T1.35.31.31.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.35.31.31.2.m1.1.1.3.2" xref="S4.T1.35.31.31.2.m1.1.1.3.2.cmml">0.43</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.35.31.31.2.m1.1b"><apply id="S4.T1.35.31.31.2.m1.1.1.cmml" xref="S4.T1.35.31.31.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.35.31.31.2.m1.1.1.1.cmml" xref="S4.T1.35.31.31.2.m1.1.1">subscript</csymbol><apply id="S4.T1.35.31.31.2.m1.1.1.2.cmml" xref="S4.T1.35.31.31.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.35.31.31.2.m1.1.1.2.1.cmml" xref="S4.T1.35.31.31.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.35.31.31.2.m1.1.1.2.2.cmml" xref="S4.T1.35.31.31.2.m1.1.1.2.2">70.90</cn></apply><apply id="S4.T1.35.31.31.2.m1.1.1.3.cmml" xref="S4.T1.35.31.31.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.35.31.31.2.m1.1.1.3.1.cmml" xref="S4.T1.35.31.31.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.35.31.31.2.m1.1.1.3.2.cmml" xref="S4.T1.35.31.31.2.m1.1.1.3.2">0.43</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.35.31.31.2.m1.1c">70.90\%_{\pm 0.43}</annotation></semantics></math></td>
<td id="S4.T1.36.32.32.3" class="ltx_td ltx_align_center">71.8<math id="S4.T1.36.32.32.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.36.32.32.3.m1.1a"><mo id="S4.T1.36.32.32.3.m1.1.1" xref="S4.T1.36.32.32.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.36.32.32.3.m1.1b"><times id="S4.T1.36.32.32.3.m1.1.1.cmml" xref="S4.T1.36.32.32.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.36.32.32.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T1.39.35.35" class="ltx_tr">
<td id="S4.T1.39.35.35.4" class="ltx_td ltx_align_left ltx_border_bb">FLUTE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>
</td>
<td id="S4.T1.39.35.35.5" class="ltx_td ltx_align_center ltx_border_bb">1</td>
<td id="S4.T1.39.35.35.6" class="ltx_td ltx_align_center ltx_border_bb">1</td>
<td id="S4.T1.37.33.33.1" class="ltx_td ltx_align_right ltx_border_bb"><math id="S4.T1.37.33.33.1.m1.1" class="ltx_Math" alttext="67.86_{\pm 3.36}" display="inline"><semantics id="S4.T1.37.33.33.1.m1.1a"><msub id="S4.T1.37.33.33.1.m1.1.1" xref="S4.T1.37.33.33.1.m1.1.1.cmml"><mn id="S4.T1.37.33.33.1.m1.1.1.2" xref="S4.T1.37.33.33.1.m1.1.1.2.cmml">67.86</mn><mrow id="S4.T1.37.33.33.1.m1.1.1.3" xref="S4.T1.37.33.33.1.m1.1.1.3.cmml"><mo id="S4.T1.37.33.33.1.m1.1.1.3a" xref="S4.T1.37.33.33.1.m1.1.1.3.cmml">±</mo><mn id="S4.T1.37.33.33.1.m1.1.1.3.2" xref="S4.T1.37.33.33.1.m1.1.1.3.2.cmml">3.36</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.37.33.33.1.m1.1b"><apply id="S4.T1.37.33.33.1.m1.1.1.cmml" xref="S4.T1.37.33.33.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.37.33.33.1.m1.1.1.1.cmml" xref="S4.T1.37.33.33.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T1.37.33.33.1.m1.1.1.2.cmml" xref="S4.T1.37.33.33.1.m1.1.1.2">67.86</cn><apply id="S4.T1.37.33.33.1.m1.1.1.3.cmml" xref="S4.T1.37.33.33.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.37.33.33.1.m1.1.1.3.1.cmml" xref="S4.T1.37.33.33.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.37.33.33.1.m1.1.1.3.2.cmml" xref="S4.T1.37.33.33.1.m1.1.1.3.2">3.36</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.37.33.33.1.m1.1c">67.86_{\pm 3.36}</annotation></semantics></math></td>
<td id="S4.T1.38.34.34.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="S4.T1.38.34.34.2.m1.1" class="ltx_Math" alttext="62.26\%_{\pm 0.07}" display="inline"><semantics id="S4.T1.38.34.34.2.m1.1a"><msub id="S4.T1.38.34.34.2.m1.1.1" xref="S4.T1.38.34.34.2.m1.1.1.cmml"><mrow id="S4.T1.38.34.34.2.m1.1.1.2" xref="S4.T1.38.34.34.2.m1.1.1.2.cmml"><mn id="S4.T1.38.34.34.2.m1.1.1.2.2" xref="S4.T1.38.34.34.2.m1.1.1.2.2.cmml">62.26</mn><mo id="S4.T1.38.34.34.2.m1.1.1.2.1" xref="S4.T1.38.34.34.2.m1.1.1.2.1.cmml">%</mo></mrow><mrow id="S4.T1.38.34.34.2.m1.1.1.3" xref="S4.T1.38.34.34.2.m1.1.1.3.cmml"><mo id="S4.T1.38.34.34.2.m1.1.1.3a" xref="S4.T1.38.34.34.2.m1.1.1.3.cmml">±</mo><mn id="S4.T1.38.34.34.2.m1.1.1.3.2" xref="S4.T1.38.34.34.2.m1.1.1.3.2.cmml">0.07</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T1.38.34.34.2.m1.1b"><apply id="S4.T1.38.34.34.2.m1.1.1.cmml" xref="S4.T1.38.34.34.2.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.38.34.34.2.m1.1.1.1.cmml" xref="S4.T1.38.34.34.2.m1.1.1">subscript</csymbol><apply id="S4.T1.38.34.34.2.m1.1.1.2.cmml" xref="S4.T1.38.34.34.2.m1.1.1.2"><csymbol cd="latexml" id="S4.T1.38.34.34.2.m1.1.1.2.1.cmml" xref="S4.T1.38.34.34.2.m1.1.1.2.1">percent</csymbol><cn type="float" id="S4.T1.38.34.34.2.m1.1.1.2.2.cmml" xref="S4.T1.38.34.34.2.m1.1.1.2.2">62.26</cn></apply><apply id="S4.T1.38.34.34.2.m1.1.1.3.cmml" xref="S4.T1.38.34.34.2.m1.1.1.3"><csymbol cd="latexml" id="S4.T1.38.34.34.2.m1.1.1.3.1.cmml" xref="S4.T1.38.34.34.2.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T1.38.34.34.2.m1.1.1.3.2.cmml" xref="S4.T1.38.34.34.2.m1.1.1.3.2">0.07</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.38.34.34.2.m1.1c">62.26\%_{\pm 0.07}</annotation></semantics></math></td>
<td id="S4.T1.39.35.35.3" class="ltx_td ltx_align_center ltx_border_bb">16.1<math id="S4.T1.39.35.35.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T1.39.35.35.3.m1.1a"><mo id="S4.T1.39.35.35.3.m1.1.1" xref="S4.T1.39.35.35.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.39.35.35.3.m1.1b"><times id="S4.T1.39.35.35.3.m1.1.1.cmml" xref="S4.T1.39.35.35.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.39.35.35.3.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
</table>
</figure>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.2" class="ltx_p">In Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we compare the accuracy (mainly as a consistency check) and the wall-clock time of simulation runs on CIFAR10 for the most popular open-source FL simulators.
The hyper-parameters are the same for all framework setups and described in <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.
The <span id="S4.SS1.p2.2.1" class="ltx_text ltx_font_typewriter">pfl-research</span> setup in PyTorch with four processes sharing the single GPU is the fastest, with a wall-clock time of only 4 minutes and 20 seconds.
This means that our framework executes this task 7<math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mo id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><times id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\times</annotation></semantics></math> faster than the runner-up, Flower, and 72<math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mo id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><times id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">\times</annotation></semantics></math> faster than the slowest framework, FedScale.
The difference in wall-clock time is so vast because smaller scale experiments like the CIFAR10 benchmark specifically emphasizes the necessary overhead that can exist in FL simulation, and frameworks that do not minimize this overhead suffer proportionally.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.1" class="ltx_p">As a second comparison, we use FLAIR, which instead emphasizes the efficiency of training both a larger model and dataset in distributed simulations.
Due to development time constraints, we implemented the FLAIR setup only for the two frameworks most frequently used for publications: TFF and Flower.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Comparison of simulating FLAIR dataset with different FL frameworks. The metric is the same as <span id="S4.T2.8.1" class="ltx_text ltx_font_typewriter">FL-F-17 C-AP</span> in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib72" title="" class="ltx_ref">72</a>]</cite>.</figcaption>
<br class="ltx_break">
<table id="S4.T2.6.6" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_border_tt">Framework</td>
<td id="S4.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt"><math id="S4.T2.1.1.1.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S4.T2.1.1.1.1.m1.1a"><mi id="S4.T2.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.m1.1b"><ci id="S4.T2.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.m1.1c">p</annotation></semantics></math></td>
<td id="S4.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T2.1.1.1.3.1" class="ltx_text"></span> <span id="S4.T2.1.1.1.3.2" class="ltx_text">
<span id="S4.T2.1.1.1.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.1.1.1.3.2.1.1" class="ltx_tr">
<span id="S4.T2.1.1.1.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Wall-clock time</span></span>
<span id="S4.T2.1.1.1.3.2.1.2" class="ltx_tr">
<span id="S4.T2.1.1.1.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(hours)</span></span>
</span></span><span id="S4.T2.1.1.1.3.3" class="ltx_text"></span></td>
<td id="S4.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T2.1.1.1.4.1" class="ltx_text"></span> <span id="S4.T2.1.1.1.4.2" class="ltx_text">
<span id="S4.T2.1.1.1.4.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.1.1.1.4.2.1.1" class="ltx_tr">
<span id="S4.T2.1.1.1.4.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">mAP</span></span>
</span></span><span id="S4.T2.1.1.1.4.3" class="ltx_text"></span></td>
<td id="S4.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt">
<span id="S4.T2.1.1.1.5.1" class="ltx_text"></span> <span id="S4.T2.1.1.1.5.2" class="ltx_text">
<span id="S4.T2.1.1.1.5.2.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T2.1.1.1.5.2.1.1" class="ltx_tr">
<span id="S4.T2.1.1.1.5.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S4.T2.1.1.1.5.2.1.1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span></span></span>
<span id="S4.T2.1.1.1.5.2.1.2" class="ltx_tr">
<span id="S4.T2.1.1.1.5.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">is faster</span></span>
</span></span><span id="S4.T2.1.1.1.5.3" class="ltx_text"></span>
</td>
</tr>
<tr id="S4.T2.3.3.3" class="ltx_tr">
<td id="S4.T2.3.3.3.3" class="ltx_td ltx_align_left ltx_border_t">
<span id="S4.T2.3.3.3.3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> (PyTorch)</td>
<td id="S4.T2.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t">2</td>
<td id="S4.T2.3.3.3.5" class="ltx_td ltx_align_center ltx_border_t">2.16</td>
<td id="S4.T2.2.2.2.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S4.T2.2.2.2.1.m1.1" class="ltx_Math" alttext="61.8_{\pm 0.001}" display="inline"><semantics id="S4.T2.2.2.2.1.m1.1a"><msub id="S4.T2.2.2.2.1.m1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.cmml"><mn id="S4.T2.2.2.2.1.m1.1.1.2" xref="S4.T2.2.2.2.1.m1.1.1.2.cmml">61.8</mn><mrow id="S4.T2.2.2.2.1.m1.1.1.3" xref="S4.T2.2.2.2.1.m1.1.1.3.cmml"><mo id="S4.T2.2.2.2.1.m1.1.1.3a" xref="S4.T2.2.2.2.1.m1.1.1.3.cmml">±</mo><mn id="S4.T2.2.2.2.1.m1.1.1.3.2" xref="S4.T2.2.2.2.1.m1.1.1.3.2.cmml">0.001</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.1.m1.1b"><apply id="S4.T2.2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T2.2.2.2.1.m1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.2">61.8</cn><apply id="S4.T2.2.2.2.1.m1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T2.2.2.2.1.m1.1.1.3.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T2.2.2.2.1.m1.1.1.3.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.3.2">0.001</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.1.m1.1c">61.8_{\pm 0.001}</annotation></semantics></math></td>
<td id="S4.T2.3.3.3.2" class="ltx_td ltx_align_right ltx_border_t">1<math id="S4.T2.3.3.3.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.3.3.3.2.m1.1a"><mo id="S4.T2.3.3.3.2.m1.1.1" xref="S4.T2.3.3.3.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.2.m1.1b"><times id="S4.T2.3.3.3.2.m1.1.1.cmml" xref="S4.T2.3.3.3.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.2.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T2.5.5.5" class="ltx_tr">
<td id="S4.T2.5.5.5.3" class="ltx_td ltx_align_left">TensorFlow Federated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>
</td>
<td id="S4.T2.5.5.5.4" class="ltx_td ltx_align_center">5</td>
<td id="S4.T2.5.5.5.5" class="ltx_td ltx_align_center">18</td>
<td id="S4.T2.4.4.4.1" class="ltx_td ltx_align_center"><math id="S4.T2.4.4.4.1.m1.1" class="ltx_Math" alttext="62.0_{\pm 0.3}" display="inline"><semantics id="S4.T2.4.4.4.1.m1.1a"><msub id="S4.T2.4.4.4.1.m1.1.1" xref="S4.T2.4.4.4.1.m1.1.1.cmml"><mn id="S4.T2.4.4.4.1.m1.1.1.2" xref="S4.T2.4.4.4.1.m1.1.1.2.cmml">62.0</mn><mrow id="S4.T2.4.4.4.1.m1.1.1.3" xref="S4.T2.4.4.4.1.m1.1.1.3.cmml"><mo id="S4.T2.4.4.4.1.m1.1.1.3a" xref="S4.T2.4.4.4.1.m1.1.1.3.cmml">±</mo><mn id="S4.T2.4.4.4.1.m1.1.1.3.2" xref="S4.T2.4.4.4.1.m1.1.1.3.2.cmml">0.3</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.1.m1.1b"><apply id="S4.T2.4.4.4.1.m1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1">subscript</csymbol><cn type="float" id="S4.T2.4.4.4.1.m1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.2">62.0</cn><apply id="S4.T2.4.4.4.1.m1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.1.1.3"><csymbol cd="latexml" id="S4.T2.4.4.4.1.m1.1.1.3.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.3">plus-or-minus</csymbol><cn type="float" id="S4.T2.4.4.4.1.m1.1.1.3.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.3.2">0.3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.1.m1.1c">62.0_{\pm 0.3}</annotation></semantics></math></td>
<td id="S4.T2.5.5.5.2" class="ltx_td ltx_align_right">7.8<math id="S4.T2.5.5.5.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.5.5.5.2.m1.1a"><mo id="S4.T2.5.5.5.2.m1.1.1" xref="S4.T2.5.5.5.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.5.2.m1.1b"><times id="S4.T2.5.5.5.2.m1.1.1.cmml" xref="S4.T2.5.5.5.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.5.2.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T2.6.6.6" class="ltx_tr">
<td id="S4.T2.6.6.6.2" class="ltx_td ltx_align_left ltx_border_bb">Flower <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>
</td>
<td id="S4.T2.6.6.6.3" class="ltx_td ltx_align_center ltx_border_bb">5</td>
<td id="S4.T2.6.6.6.4" class="ltx_td ltx_align_center ltx_border_bb">28.8</td>
<td id="S4.T2.6.6.6.5" class="ltx_td ltx_align_center ltx_border_bb">31.5 <span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Parity in performance with TFF and <span id="footnote3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> has not yet been achieved for this setup at the time of this pre-print.</span></span></span>
</td>
<td id="S4.T2.6.6.6.1" class="ltx_td ltx_align_right ltx_border_bb">13.3<math id="S4.T2.6.6.6.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S4.T2.6.6.6.1.m1.1a"><mo id="S4.T2.6.6.6.1.m1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.6.1.m1.1b"><times id="S4.T2.6.6.6.1.m1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.6.1.m1.1c">\times</annotation></semantics></math>
</td>
</tr>
</table>
</figure>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p">Table <a href="#S4.T2" title="Table 2 ‣ 4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows that <span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> outperforms the alternatives prominently in terms of speed on the larger scale FLAIR benchmark.
Relative to <span id="S4.SS1.p4.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span>, TFF is more efficient on FLAIR than on CIFAR10, and vice versa for Flower. The number of processes per GPU, <math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">p</annotation></semantics></math>, was tuned to minimize wall-clock time, and the results show that <span id="S4.SS1.p4.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span> needs many fewer training processes per GPU to saturate GPU utilization.
Tables <a href="#S4.T1" title="Table 1 ‣ 4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and <a href="#S4.T2" title="Table 2 ‣ 4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> demonstrate that before the release of <span id="S4.SS1.p4.1.4" class="ltx_text ltx_font_typewriter">pfl-research</span>, the comparison of framework speed greatly depended on the choice of benchmarks.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para ltx_noindent">
<p id="S4.SS1.p5.1" class="ltx_p">The superior performance of <span id="S4.SS1.p5.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> can be attributed to several design choices, some of which are unique to it or not commonly employed by other FL simulators:

<span id="S4.I1" class="ltx_inline-enumerate">
<span id="S4.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <span id="S4.I1.i1.1" class="ltx_text">there is no serialization of models;
</span></span>
<span id="S4.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <span id="S4.I1.i2.1" class="ltx_text">only one model is initialized and preserved on the GPU at all times;
</span></span>
<span id="S4.I1.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(3)</span> <span id="S4.I1.i3.1" class="ltx_text">model parameters are updated in-place;
</span></span>
<span id="S4.I1.i4" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(4)</span> <span id="S4.I1.i4.1" class="ltx_text ltx_font_typewriter">pfl-research</span><span id="S4.I1.i4.2" class="ltx_text">does not simulate the topology of FL, i.e. there is no main coordinating process to gather and broadcast model updates;
</span></span>
<span id="S4.I1.i5" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(5)</span> <span id="S4.I1.i5.1" class="ltx_text">ML framework tensors are used on the GPU end-to-end in the outer training loop; and
</span></span>
<span id="S4.I1.i6" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(6)</span> <span id="S4.I1.i6.1" class="ltx_text ltx_font_typewriter">pfl-research</span><span id="S4.I1.i6.2" class="ltx_text">performs load balancing of training users, which is important particularly on FLAIR.
</span></span>
</span></p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Scaling distributed training</h3>

<figure id="S4.F2" class="ltx_figure"><img src="/html/2404.06430/assets/x3.png" id="S4.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="148" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Speedup from scaling up distributed simulations. <span id="S4.F2.3.1" class="ltx_text ltx_font_bold">Left panel:</span> Sweep number of processes per GPU on CIFAR10, StackOverflow and FLAIR benchmarks and keep the hardware resources pinned. <span id="S4.F2.4.2" class="ltx_text ltx_font_bold">Right panel:</span> Sweep the number of GPUs to train the StackOverflow benchmark, repeat for 1, 3 and 5 processes per GPU. Blue lines (tracked on left y-axis) show wall-clock time. Green lines (tracked in right y-axis) show total GPU hours for the same experiments.</figcaption>
</figure>
<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.5" class="ltx_p">Figure <a href="#S4.F2" title="Figure 2 ‣ 4.2 Scaling distributed training ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the wall-clock time when scaling up with distributed simulations.
In <span id="S4.SS2.p1.5.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, the number of worker processes is decoupled from the number of GPUs available, allowing processes to share a GPU.
Using more than one process per GPU, <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="p&gt;1" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">p</mi><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><gt id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></gt><ci id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">𝑝</ci><cn type="integer" id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">p&gt;1</annotation></semantics></math>, always has a positive effect, but the optimal number depends on the use-case (model size, cohort size).
For CIFAR10 and StackOverflow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib73" title="" class="ltx_ref">73</a>]</cite>, we can set <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="p=5" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">p</mi><mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><eq id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></eq><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝑝</ci><cn type="integer" id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">p=5</annotation></semantics></math> and the wall-clock time is less than <math id="S4.SS2.p1.3.m3.1" class="ltx_Math" alttext="0.43" display="inline"><semantics id="S4.SS2.p1.3.m3.1a"><mn id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">0.43</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><cn type="float" id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">0.43</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">0.43</annotation></semantics></math> of that with <math id="S4.SS2.p1.4.m4.1" class="ltx_Math" alttext="p=1" display="inline"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">p</mi><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><eq id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></eq><ci id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">𝑝</ci><cn type="integer" id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">p=1</annotation></semantics></math> with same resources, while for FLAIR we can only fit a maximum of <math id="S4.SS2.p1.5.m5.1" class="ltx_Math" alttext="p=3" display="inline"><semantics id="S4.SS2.p1.5.m5.1a"><mrow id="S4.SS2.p1.5.m5.1.1" xref="S4.SS2.p1.5.m5.1.1.cmml"><mi id="S4.SS2.p1.5.m5.1.1.2" xref="S4.SS2.p1.5.m5.1.1.2.cmml">p</mi><mo id="S4.SS2.p1.5.m5.1.1.1" xref="S4.SS2.p1.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS2.p1.5.m5.1.1.3" xref="S4.SS2.p1.5.m5.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m5.1b"><apply id="S4.SS2.p1.5.m5.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1"><eq id="S4.SS2.p1.5.m5.1.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1.1"></eq><ci id="S4.SS2.p1.5.m5.1.1.2.cmml" xref="S4.SS2.p1.5.m5.1.1.2">𝑝</ci><cn type="integer" id="S4.SS2.p1.5.m5.1.1.3.cmml" xref="S4.SS2.p1.5.m5.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m5.1c">p=3</annotation></semantics></math> on the GPU and the relative speedup is smaller.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.1" class="ltx_p">The right panel of Figure <a href="#S4.F2" title="Figure 2 ‣ 4.2 Scaling distributed training ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the wall-clock time when scaling up the number of GPUs on the StackOverflow benchmark.
The wall-clock time is reduced to 3 hours with just one GPU when scaling up number of worker processes to five, and the wall-clock time is reduced to 15 minutes when scaling up to 32 GPUs. Thus, <span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> scales well with number of GPUs.
Since the cohort size is fixed (400 in the StackOverflow benchmark), and users take a varying amount of time to train with a fixed number of local epochs, the rate of improvement is expected to be reduced as we increase the total number of processes because there are fewer users per process to load balance.
This is revealed by the total number of GPU hours to finish (green lines), which indicate that scaling up to more than eight GPUs gets materially less efficient per GPU.
Another insight from Figure <a href="#S4.F2" title="Figure 2 ‣ 4.2 Scaling distributed training ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> is that when a setup already uses a large number of GPUs, scaling up the number of processes per GPU can have an adverse effect, e.g., the cross and triangle lines in the right panel and blue line in the left panel show that wall-clock time starts increasing for more processes when we already use 32 GPUs for StackOverflow.
With this in mind, it is advisable to first scale the number of processes before you start adding more GPU resources.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Benchmarks for research</h3>

<div id="S4.SS3.p1" class="ltx_para ltx_noindent">
<p id="S4.SS3.p1.1" class="ltx_p">Along with the framework, we unify benchmarking of algorithms implemented in either PyTorch or TensorFlow (TF) under a collection of dataset-privacy setups, creating the matrix of benchmarks <math id="S4.SS3.p1.1.m1.6" class="ltx_Math" alttext="\texttt{Datasets}\times\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{Central DP}\}\times\{\texttt{TF},\texttt{PyTorch}\}\times\texttt{Algorithms}" display="inline"><semantics id="S4.SS3.p1.1.m1.6a"><mrow id="S4.SS3.p1.1.m1.6.7" xref="S4.SS3.p1.1.m1.6.7.cmml"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.7.2" xref="S4.SS3.p1.1.m1.6.7.2a.cmml">Datasets</mtext><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.1.m1.6.7.1" xref="S4.SS3.p1.1.m1.6.7.1.cmml">×</mo><mrow id="S4.SS3.p1.1.m1.6.7.3.2" xref="S4.SS3.p1.1.m1.6.7.3.1.cmml"><mo stretchy="false" id="S4.SS3.p1.1.m1.6.7.3.2.1" xref="S4.SS3.p1.1.m1.6.7.3.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1a.cmml">IID</mtext><mo id="S4.SS3.p1.1.m1.6.7.3.2.2" xref="S4.SS3.p1.1.m1.6.7.3.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.2.2" xref="S4.SS3.p1.1.m1.2.2a.cmml">non-IID</mtext><mo rspace="0.055em" stretchy="false" id="S4.SS3.p1.1.m1.6.7.3.2.3" xref="S4.SS3.p1.1.m1.6.7.3.1.cmml">}</mo></mrow><mo rspace="0.222em" id="S4.SS3.p1.1.m1.6.7.1a" xref="S4.SS3.p1.1.m1.6.7.1.cmml">×</mo><mrow id="S4.SS3.p1.1.m1.6.7.4.2" xref="S4.SS3.p1.1.m1.6.7.4.1.cmml"><mo stretchy="false" id="S4.SS3.p1.1.m1.6.7.4.2.1" xref="S4.SS3.p1.1.m1.6.7.4.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.3.3" xref="S4.SS3.p1.1.m1.3.3a.cmml">no DP</mtext><mo id="S4.SS3.p1.1.m1.6.7.4.2.2" xref="S4.SS3.p1.1.m1.6.7.4.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.4.4" xref="S4.SS3.p1.1.m1.4.4a.cmml">Central DP</mtext><mo rspace="0.055em" stretchy="false" id="S4.SS3.p1.1.m1.6.7.4.2.3" xref="S4.SS3.p1.1.m1.6.7.4.1.cmml">}</mo></mrow><mo rspace="0.222em" id="S4.SS3.p1.1.m1.6.7.1b" xref="S4.SS3.p1.1.m1.6.7.1.cmml">×</mo><mrow id="S4.SS3.p1.1.m1.6.7.5.2" xref="S4.SS3.p1.1.m1.6.7.5.1.cmml"><mo stretchy="false" id="S4.SS3.p1.1.m1.6.7.5.2.1" xref="S4.SS3.p1.1.m1.6.7.5.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.5.5" xref="S4.SS3.p1.1.m1.5.5a.cmml">TF</mtext><mo id="S4.SS3.p1.1.m1.6.7.5.2.2" xref="S4.SS3.p1.1.m1.6.7.5.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.6" xref="S4.SS3.p1.1.m1.6.6a.cmml">PyTorch</mtext><mo rspace="0.055em" stretchy="false" id="S4.SS3.p1.1.m1.6.7.5.2.3" xref="S4.SS3.p1.1.m1.6.7.5.1.cmml">}</mo></mrow><mo rspace="0.222em" id="S4.SS3.p1.1.m1.6.7.1c" xref="S4.SS3.p1.1.m1.6.7.1.cmml">×</mo><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.7.6" xref="S4.SS3.p1.1.m1.6.7.6a.cmml">Algorithms</mtext></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.6b"><apply id="S4.SS3.p1.1.m1.6.7.cmml" xref="S4.SS3.p1.1.m1.6.7"><times id="S4.SS3.p1.1.m1.6.7.1.cmml" xref="S4.SS3.p1.1.m1.6.7.1"></times><ci id="S4.SS3.p1.1.m1.6.7.2a.cmml" xref="S4.SS3.p1.1.m1.6.7.2"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.7.2.cmml" xref="S4.SS3.p1.1.m1.6.7.2">Datasets</mtext></ci><set id="S4.SS3.p1.1.m1.6.7.3.1.cmml" xref="S4.SS3.p1.1.m1.6.7.3.2"><ci id="S4.SS3.p1.1.m1.1.1a.cmml" xref="S4.SS3.p1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">IID</mtext></ci><ci id="S4.SS3.p1.1.m1.2.2a.cmml" xref="S4.SS3.p1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.2.2.cmml" xref="S4.SS3.p1.1.m1.2.2">non-IID</mtext></ci></set><set id="S4.SS3.p1.1.m1.6.7.4.1.cmml" xref="S4.SS3.p1.1.m1.6.7.4.2"><ci id="S4.SS3.p1.1.m1.3.3a.cmml" xref="S4.SS3.p1.1.m1.3.3"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.3.3.cmml" xref="S4.SS3.p1.1.m1.3.3">no DP</mtext></ci><ci id="S4.SS3.p1.1.m1.4.4a.cmml" xref="S4.SS3.p1.1.m1.4.4"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.4.4.cmml" xref="S4.SS3.p1.1.m1.4.4">Central DP</mtext></ci></set><set id="S4.SS3.p1.1.m1.6.7.5.1.cmml" xref="S4.SS3.p1.1.m1.6.7.5.2"><ci id="S4.SS3.p1.1.m1.5.5a.cmml" xref="S4.SS3.p1.1.m1.5.5"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.5.5.cmml" xref="S4.SS3.p1.1.m1.5.5">TF</mtext></ci><ci id="S4.SS3.p1.1.m1.6.6a.cmml" xref="S4.SS3.p1.1.m1.6.6"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.6.cmml" xref="S4.SS3.p1.1.m1.6.6">PyTorch</mtext></ci></set><ci id="S4.SS3.p1.1.m1.6.7.6a.cmml" xref="S4.SS3.p1.1.m1.6.7.6"><mtext class="ltx_mathvariant_monospace" id="S4.SS3.p1.1.m1.6.7.6.cmml" xref="S4.SS3.p1.1.m1.6.7.6">Algorithms</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.6c">\texttt{Datasets}\times\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{Central DP}\}\times\{\texttt{TF},\texttt{PyTorch}\}\times\texttt{Algorithms}</annotation></semantics></math>.
The modularity of our framework and benchmark setups enables us to grow in any dimension: Add a dataset to benchmark all algorithms on, benchmark another algorithm, or add support for another framework or privacy mechanism.
We focus on FL algorithms with different local optimization procedure, and consider the adaptive federated optimization such as FedAdam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite> as a tunable component of these algorithms, i.e. the choice of the central optimizer.
The common hyperparameters shared by all algorithms, such as cohort size and local epochs, are tuned in FedAvg experiments while the algorithm-specific hyperparameters are tuned for each algorithm separately.
Therefore, no conclusions should be made about the performance of the algorithms relative to FedAvg, but merely to strengthen the evidence that the algorithms are correctly implemented.
The results of FedAvg however can be adopted as baselines for future work.
The detailed hyperparameter choices for each dataset can be found in Appendix <a href="#A3" title="Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.
In this section we present the benchmark results for the PyTorch setups; we discuss the TensorFlow setups in Appendix <a href="#A3.SS1" title="C.1 TensorFlow benchmarks ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.1</span></a>.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Performance of FL algorithms on the <span id="S4.T3.12.1" class="ltx_text ltx_font_typewriter">pfl-research</span> benchmark suite without DP. All experiments are run for five times with different
random seed and metrics are averaged. The abbreviations are as following: C10 stands for accuracy on CIFAR10, SO stands for perplexity on StackOverflow, FLR stands for mean average precision (mAP) on FLAIR.
The last three columns are the perplexity scores for three LLM benchmark datasets: Stanford Alpaca (SA), Aya, and OpenAssistant (OA).
If not mentioned, the natural or artificial non-IID partitioning is used for the dataset, and -IID means partitioning with fixed number of samples per client drawn IID. Algorithms we benchmark are FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>, FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>, FedProx with adaptive <math id="S4.T3.2.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.T3.2.m1.1b"><mi id="S4.T3.2.m1.1.1" xref="S4.T3.2.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.T3.2.m1.1c"><ci id="S4.T3.2.m1.1.1.cmml" xref="S4.T3.2.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.m1.1d">\mu</annotation></semantics></math> denoted as AdaFedProx (Appendix C.3.3 in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>), and SCAFFOLD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>.</figcaption>
<br class="ltx_break">
<table id="S4.T3.10.8" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T3.10.8.8" class="ltx_tr">
<td id="S4.T3.10.8.8.9" class="ltx_td ltx_align_left ltx_border_tt">Algorithm</td>
<td id="S4.T3.3.1.1.1" class="ltx_td ltx_align_center ltx_border_tt">C10-IID <math id="S4.T3.3.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.3.1.1.1.m1.1a"><mo stretchy="false" id="S4.T3.3.1.1.1.m1.1.1" xref="S4.T3.3.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.3.1.1.1.m1.1b"><ci id="S4.T3.3.1.1.1.m1.1.1.cmml" xref="S4.T3.3.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.1.1.1.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.4.2.2.2" class="ltx_td ltx_align_center ltx_border_tt">C10 <math id="S4.T3.4.2.2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.4.2.2.2.m1.1a"><mo stretchy="false" id="S4.T3.4.2.2.2.m1.1.1" xref="S4.T3.4.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.4.2.2.2.m1.1b"><ci id="S4.T3.4.2.2.2.m1.1.1.cmml" xref="S4.T3.4.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.2.2.2.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.5.3.3.3" class="ltx_td ltx_align_center ltx_border_tt">SO <math id="S4.T3.5.3.3.3.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T3.5.3.3.3.m1.1a"><mo stretchy="false" id="S4.T3.5.3.3.3.m1.1.1" xref="S4.T3.5.3.3.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T3.5.3.3.3.m1.1b"><ci id="S4.T3.5.3.3.3.m1.1.1.cmml" xref="S4.T3.5.3.3.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.3.3.3.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T3.6.4.4.4" class="ltx_td ltx_align_center ltx_border_tt">FLR-IID <math id="S4.T3.6.4.4.4.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.6.4.4.4.m1.1a"><mo stretchy="false" id="S4.T3.6.4.4.4.m1.1.1" xref="S4.T3.6.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.6.4.4.4.m1.1b"><ci id="S4.T3.6.4.4.4.m1.1.1.cmml" xref="S4.T3.6.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.4.4.4.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.7.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">FLR <math id="S4.T3.7.5.5.5.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T3.7.5.5.5.m1.1a"><mo stretchy="false" id="S4.T3.7.5.5.5.m1.1.1" xref="S4.T3.7.5.5.5.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T3.7.5.5.5.m1.1b"><ci id="S4.T3.7.5.5.5.m1.1.1.cmml" xref="S4.T3.7.5.5.5.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.7.5.5.5.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T3.8.6.6.6" class="ltx_td ltx_align_center ltx_border_tt">SA <math id="S4.T3.8.6.6.6.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T3.8.6.6.6.m1.1a"><mo stretchy="false" id="S4.T3.8.6.6.6.m1.1.1" xref="S4.T3.8.6.6.6.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T3.8.6.6.6.m1.1b"><ci id="S4.T3.8.6.6.6.m1.1.1.cmml" xref="S4.T3.8.6.6.6.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.8.6.6.6.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T3.9.7.7.7" class="ltx_td ltx_align_center ltx_border_tt">Aya <math id="S4.T3.9.7.7.7.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T3.9.7.7.7.m1.1a"><mo stretchy="false" id="S4.T3.9.7.7.7.m1.1.1" xref="S4.T3.9.7.7.7.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T3.9.7.7.7.m1.1b"><ci id="S4.T3.9.7.7.7.m1.1.1.cmml" xref="S4.T3.9.7.7.7.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.9.7.7.7.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T3.10.8.8.8" class="ltx_td ltx_align_center ltx_border_tt">OA <math id="S4.T3.10.8.8.8.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T3.10.8.8.8.m1.1a"><mo stretchy="false" id="S4.T3.10.8.8.8.m1.1.1" xref="S4.T3.10.8.8.8.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T3.10.8.8.8.m1.1b"><ci id="S4.T3.10.8.8.8.m1.1.1.cmml" xref="S4.T3.10.8.8.8.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.10.8.8.8.m1.1c">\downarrow</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T3.10.8.9" class="ltx_tr">
<td id="S4.T3.10.8.9.1" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S4.T3.10.8.9.2" class="ltx_td ltx_align_center ltx_border_t">70.37</td>
<td id="S4.T3.10.8.9.3" class="ltx_td ltx_align_center ltx_border_t">69.80</td>
<td id="S4.T3.10.8.9.4" class="ltx_td ltx_align_center ltx_border_t">60.87</td>
<td id="S4.T3.10.8.9.5" class="ltx_td ltx_align_center ltx_border_t">65.08</td>
<td id="S4.T3.10.8.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">61.83</td>
<td id="S4.T3.10.8.9.7" class="ltx_td ltx_align_center ltx_border_t">3.61</td>
<td id="S4.T3.10.8.9.8" class="ltx_td ltx_align_center ltx_border_t">4.02</td>
<td id="S4.T3.10.8.9.9" class="ltx_td ltx_align_center ltx_border_t">6.39</td>
</tr>
<tr id="S4.T3.10.8.10" class="ltx_tr">
<td id="S4.T3.10.8.10.1" class="ltx_td ltx_align_left">FedProx</td>
<td id="S4.T3.10.8.10.2" class="ltx_td ltx_align_center">70.69</td>
<td id="S4.T3.10.8.10.3" class="ltx_td ltx_align_center">69.79</td>
<td id="S4.T3.10.8.10.4" class="ltx_td ltx_align_center">60.88</td>
<td id="S4.T3.10.8.10.5" class="ltx_td ltx_align_center">64.45</td>
<td id="S4.T3.10.8.10.6" class="ltx_td ltx_align_center ltx_border_r">62.02</td>
<td id="S4.T3.10.8.10.7" class="ltx_td ltx_align_center">3.61</td>
<td id="S4.T3.10.8.10.8" class="ltx_td ltx_align_center">4.02</td>
<td id="S4.T3.10.8.10.9" class="ltx_td ltx_align_center">6.39</td>
</tr>
<tr id="S4.T3.10.8.11" class="ltx_tr">
<td id="S4.T3.10.8.11.1" class="ltx_td ltx_align_left">AdaFedProx</td>
<td id="S4.T3.10.8.11.2" class="ltx_td ltx_align_center">70.39</td>
<td id="S4.T3.10.8.11.3" class="ltx_td ltx_align_center">69.61</td>
<td id="S4.T3.10.8.11.4" class="ltx_td ltx_align_center">61.01</td>
<td id="S4.T3.10.8.11.5" class="ltx_td ltx_align_center">64.53</td>
<td id="S4.T3.10.8.11.6" class="ltx_td ltx_align_center ltx_border_r">61.99</td>
<td id="S4.T3.10.8.11.7" class="ltx_td ltx_align_center">3.61</td>
<td id="S4.T3.10.8.11.8" class="ltx_td ltx_align_center">4.02</td>
<td id="S4.T3.10.8.11.9" class="ltx_td ltx_align_center">6.40</td>
</tr>
<tr id="S4.T3.10.8.12" class="ltx_tr">
<td id="S4.T3.10.8.12.1" class="ltx_td ltx_align_left ltx_border_bb">SCAFFOLD</td>
<td id="S4.T3.10.8.12.2" class="ltx_td ltx_border_bb"></td>
<td id="S4.T3.10.8.12.3" class="ltx_td ltx_align_center ltx_border_bb">60.17</td>
<td id="S4.T3.10.8.12.4" class="ltx_td ltx_align_center ltx_border_bb">62.43</td>
<td id="S4.T3.10.8.12.5" class="ltx_td ltx_border_bb"></td>
<td id="S4.T3.10.8.12.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">60.82</td>
<td id="S4.T3.10.8.12.7" class="ltx_td ltx_align_center ltx_border_bb">3.73</td>
<td id="S4.T3.10.8.12.8" class="ltx_td ltx_align_center ltx_border_bb">4.77</td>
<td id="S4.T3.10.8.12.9" class="ltx_td ltx_align_center ltx_border_bb">6.90</td>
</tr>
</table>
</figure>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Performance of FL algorithms on the <span id="S4.T4.10.1" class="ltx_text ltx_font_typewriter">pfl-research</span> benchmark suite with central DP. The same rules and notation as in Table <a href="#S4.T3" title="Table 3 ‣ 4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> are used. G stands for Gaussian mechanism with accounting using privacy loss distribution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> and BMF stands for banded matrix factorization mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.</figcaption>
<br class="ltx_break">
<table id="S4.T4.8.8" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S4.T4.8.8.8" class="ltx_tr">
<td id="S4.T4.8.8.8.9" class="ltx_td ltx_align_left ltx_border_tt">Algorithm</td>
<td id="S4.T4.8.8.8.10" class="ltx_td ltx_align_center ltx_border_tt">DP</td>
<td id="S4.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt">C10-IID <math id="S4.T4.1.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T4.1.1.1.1.m1.1a"><mo stretchy="false" id="S4.T4.1.1.1.1.m1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.1.m1.1b"><ci id="S4.T4.1.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.1.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T4.2.2.2.2" class="ltx_td ltx_align_center ltx_border_tt">C10 <math id="S4.T4.2.2.2.2.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T4.2.2.2.2.m1.1a"><mo stretchy="false" id="S4.T4.2.2.2.2.m1.1.1" xref="S4.T4.2.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.2.m1.1b"><ci id="S4.T4.2.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.2.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T4.3.3.3.3" class="ltx_td ltx_align_center ltx_border_tt">SO <math id="S4.T4.3.3.3.3.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T4.3.3.3.3.m1.1a"><mo stretchy="false" id="S4.T4.3.3.3.3.m1.1.1" xref="S4.T4.3.3.3.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T4.3.3.3.3.m1.1b"><ci id="S4.T4.3.3.3.3.m1.1.1.cmml" xref="S4.T4.3.3.3.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.3.3.3.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T4.4.4.4.4" class="ltx_td ltx_align_center ltx_border_tt">FLR-IID <math id="S4.T4.4.4.4.4.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T4.4.4.4.4.m1.1a"><mo stretchy="false" id="S4.T4.4.4.4.4.m1.1.1" xref="S4.T4.4.4.4.4.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.4.4.4.4.m1.1b"><ci id="S4.T4.4.4.4.4.m1.1.1.cmml" xref="S4.T4.4.4.4.4.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.4.4.4.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T4.5.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">FLR <math id="S4.T4.5.5.5.5.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S4.T4.5.5.5.5.m1.1a"><mo stretchy="false" id="S4.T4.5.5.5.5.m1.1.1" xref="S4.T4.5.5.5.5.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.5.5.5.5.m1.1b"><ci id="S4.T4.5.5.5.5.m1.1.1.cmml" xref="S4.T4.5.5.5.5.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.5.5.5.m1.1c">\uparrow</annotation></semantics></math>
</td>
<td id="S4.T4.6.6.6.6" class="ltx_td ltx_align_center ltx_border_tt">SA <math id="S4.T4.6.6.6.6.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T4.6.6.6.6.m1.1a"><mo stretchy="false" id="S4.T4.6.6.6.6.m1.1.1" xref="S4.T4.6.6.6.6.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T4.6.6.6.6.m1.1b"><ci id="S4.T4.6.6.6.6.m1.1.1.cmml" xref="S4.T4.6.6.6.6.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.6.6.6.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T4.7.7.7.7" class="ltx_td ltx_align_center ltx_border_tt">Aya <math id="S4.T4.7.7.7.7.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T4.7.7.7.7.m1.1a"><mo stretchy="false" id="S4.T4.7.7.7.7.m1.1.1" xref="S4.T4.7.7.7.7.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T4.7.7.7.7.m1.1b"><ci id="S4.T4.7.7.7.7.m1.1.1.cmml" xref="S4.T4.7.7.7.7.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.7.7.7.7.m1.1c">\downarrow</annotation></semantics></math>
</td>
<td id="S4.T4.8.8.8.8" class="ltx_td ltx_align_center ltx_border_tt">OA <math id="S4.T4.8.8.8.8.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S4.T4.8.8.8.8.m1.1a"><mo stretchy="false" id="S4.T4.8.8.8.8.m1.1.1" xref="S4.T4.8.8.8.8.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T4.8.8.8.8.m1.1b"><ci id="S4.T4.8.8.8.8.m1.1.1.cmml" xref="S4.T4.8.8.8.8.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.8.8.8.8.m1.1c">\downarrow</annotation></semantics></math>
</td>
</tr>
<tr id="S4.T4.8.8.9" class="ltx_tr">
<td id="S4.T4.8.8.9.1" class="ltx_td ltx_align_left ltx_border_t">FedAvg</td>
<td id="S4.T4.8.8.9.2" class="ltx_td ltx_align_center ltx_border_t">G</td>
<td id="S4.T4.8.8.9.3" class="ltx_td ltx_align_center ltx_border_t">68.77</td>
<td id="S4.T4.8.8.9.4" class="ltx_td ltx_align_center ltx_border_t">66.70</td>
<td id="S4.T4.8.8.9.5" class="ltx_td ltx_align_center ltx_border_t">69.11</td>
<td id="S4.T4.8.8.9.6" class="ltx_td ltx_align_center ltx_border_t">65.24</td>
<td id="S4.T4.8.8.9.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">61.49</td>
<td id="S4.T4.8.8.9.8" class="ltx_td ltx_align_center ltx_border_t">3.62</td>
<td id="S4.T4.8.8.9.9" class="ltx_td ltx_align_center ltx_border_t">4.19</td>
<td id="S4.T4.8.8.9.10" class="ltx_td ltx_align_center ltx_border_t">6.52</td>
</tr>
<tr id="S4.T4.8.8.10" class="ltx_tr">
<td id="S4.T4.8.8.10.1" class="ltx_td ltx_align_left">FedAvg</td>
<td id="S4.T4.8.8.10.2" class="ltx_td ltx_align_center">BMF</td>
<td id="S4.T4.8.8.10.3" class="ltx_td ltx_align_center">69.21</td>
<td id="S4.T4.8.8.10.4" class="ltx_td ltx_align_center">67.07</td>
<td id="S4.T4.8.8.10.5" class="ltx_td ltx_align_center">62.47</td>
<td id="S4.T4.8.8.10.6" class="ltx_td ltx_align_center">65.55</td>
<td id="S4.T4.8.8.10.7" class="ltx_td ltx_align_center ltx_border_r">61.64</td>
<td id="S4.T4.8.8.10.8" class="ltx_td ltx_align_center">3.62</td>
<td id="S4.T4.8.8.10.9" class="ltx_td ltx_align_center">4.20</td>
<td id="S4.T4.8.8.10.10" class="ltx_td ltx_align_center">6.53</td>
</tr>
<tr id="S4.T4.8.8.11" class="ltx_tr">
<td id="S4.T4.8.8.11.1" class="ltx_td ltx_align_left">FedProx</td>
<td id="S4.T4.8.8.11.2" class="ltx_td ltx_align_center">G</td>
<td id="S4.T4.8.8.11.3" class="ltx_td ltx_align_center">68.72</td>
<td id="S4.T4.8.8.11.4" class="ltx_td ltx_align_center">66.75</td>
<td id="S4.T4.8.8.11.5" class="ltx_td ltx_align_center">69.12</td>
<td id="S4.T4.8.8.11.6" class="ltx_td ltx_align_center">65.24</td>
<td id="S4.T4.8.8.11.7" class="ltx_td ltx_align_center ltx_border_r">61.55</td>
<td id="S4.T4.8.8.11.8" class="ltx_td ltx_align_center">3.62</td>
<td id="S4.T4.8.8.11.9" class="ltx_td ltx_align_center">4.20</td>
<td id="S4.T4.8.8.11.10" class="ltx_td ltx_align_center">6.52</td>
</tr>
<tr id="S4.T4.8.8.12" class="ltx_tr">
<td id="S4.T4.8.8.12.1" class="ltx_td ltx_align_left">AdaFedProx</td>
<td id="S4.T4.8.8.12.2" class="ltx_td ltx_align_center">G</td>
<td id="S4.T4.8.8.12.3" class="ltx_td ltx_align_center">68.78</td>
<td id="S4.T4.8.8.12.4" class="ltx_td ltx_align_center">66.80</td>
<td id="S4.T4.8.8.12.5" class="ltx_td ltx_align_center">69.14</td>
<td id="S4.T4.8.8.12.6" class="ltx_td ltx_align_center">65.18</td>
<td id="S4.T4.8.8.12.7" class="ltx_td ltx_align_center ltx_border_r">61.58</td>
<td id="S4.T4.8.8.12.8" class="ltx_td ltx_align_center">3.62</td>
<td id="S4.T4.8.8.12.9" class="ltx_td ltx_align_center">4.20</td>
<td id="S4.T4.8.8.12.10" class="ltx_td ltx_align_center">6.52</td>
</tr>
<tr id="S4.T4.8.8.13" class="ltx_tr">
<td id="S4.T4.8.8.13.1" class="ltx_td ltx_align_left ltx_border_bb">SCAFFOLD</td>
<td id="S4.T4.8.8.13.2" class="ltx_td ltx_align_center ltx_border_bb">G</td>
<td id="S4.T4.8.8.13.3" class="ltx_td ltx_border_bb"></td>
<td id="S4.T4.8.8.13.4" class="ltx_td ltx_align_center ltx_border_bb">61.31</td>
<td id="S4.T4.8.8.13.5" class="ltx_td ltx_align_center ltx_border_bb">77.71</td>
<td id="S4.T4.8.8.13.6" class="ltx_td ltx_border_bb"></td>
<td id="S4.T4.8.8.13.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">51.64</td>
<td id="S4.T4.8.8.13.8" class="ltx_td ltx_align_center ltx_border_bb">3.79</td>
<td id="S4.T4.8.8.13.9" class="ltx_td ltx_align_center ltx_border_bb">4.76</td>
<td id="S4.T4.8.8.13.10" class="ltx_td ltx_align_center ltx_border_bb">7.00</td>
</tr>
</table>
</figure>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.1" class="ltx_p">The initial set of algorithms we benchmark is shown in Table <a href="#S4.T3" title="Table 3 ‣ 4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> without DP and in Table <a href="#S4.T4" title="Table 4 ‣ 4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> with central DP.
The breadth of algorithms is limited at this moment, but we believe we have provided a flexible foundation for future work to expand the results in terms of algorithms, complementary datasets, better hyper-parameter tuning of algorithms for more fair comparison, and other evaluation metrics, e.g. amount of communicated bits.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Future work</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p">pfl-research currently provides a small collection of concrete algorithms. Our primary goal has been to release a fast, modular and easy-to-use simulator which is useful for advancing research in this area. We will continuously benchmark new algorithms and methods and provide implementations for the ones that consistently beat our baselines, and will rely heavily on the community for contributing implementations of new research.</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.1" class="ltx_p">Integrating datasets is also an ongoing effort.
We plan to carefully curate more benchmarks while maintaining a diverse set of domains for the benchmarks.
All benchmark results reported in Section <a href="#S4.SS3" title="4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a> used PyTorch.
We plan to release similar benchmarks in TensorFlow.
We recognize that all our current benchmarks use cross-device FL.
Cross-silo FL, where a small number of entities each maintain a larger dataset and want to collaborate in training with a few other entities, can be simulated with <span id="S5.p2.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, but we do not provide benchmarks for this scenario yet. <span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>We refer to <a target="_blank" href="https://github.com/apple/pfl-research/blob/main/pfl/data/sampling.py#L143" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/pfl-research/blob/main/pfl/data/sampling.py#L143</a> for more information about cross-silo simulation in <span id="footnote4.1" class="ltx_text ltx_font_typewriter">pfl-research</span>.</span></span></span></p>
</div>
<div id="S5.p3" class="ltx_para ltx_noindent">
<p id="S5.p3.1" class="ltx_p">We currently support only synchronous FL simulations using replicated processes.
The aggregator interface can be extended to make a client-server architecture with a dedicated aggregator and coordinator process, which might be required for testing certain research ideas.
We also do not provide interfaces for implementing PFL with real edge devices.
This is outside the scope of <span id="S5.p3.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> at this time.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para ltx_noindent">
<p id="S6.p1.1" class="ltx_p">We have introduced <span id="S6.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, a fast, modular, and easy-to-use simulation framework for accelerating research in federated learning (FL) and private federated learning (PFL).
It supports TensorFlow, PyTorch, and non-neural network models, and is tightly integrated with state-of-the-art privacy algorithms.
It requires no code changes for scaling up distributed simulations across multiple processes, GPUs, and machines.</p>
</div>
<div id="S6.p2" class="ltx_para ltx_noindent">
<p id="S6.p2.1" class="ltx_p">We compare the performance to other open-source FL simulators and our benchmarks show that <span id="S6.p2.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> is 7-72<math id="S6.p2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S6.p2.1.m1.1a"><mo id="S6.p2.1.m1.1.1" xref="S6.p2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S6.p2.1.m1.1b"><times id="S6.p2.1.m1.1.1.cmml" xref="S6.p2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.1.m1.1c">\times</annotation></semantics></math> faster.
The immense speedup, flexible APIs, benchmark setups with realistic datasets, integration with visualization tools, and simple debugging experience will significantly increase the productivity of (P)FL researchers.
We believe that researchers will view the speedup that that <span id="S6.p2.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> offers as an opportunity to validate research on more challenging and realistic datasets than what is currently common practice in the field.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments and Disclosure of Funding</h2>

<div id="Sx1.p1" class="ltx_para ltx_noindent">
<p id="Sx1.p1.1" class="ltx_p">We thank Matt Seigel for his guidance during the early stages of this project; Kunal Talwar and Hilal Asi for valuable discussions and review of privacy features; Tatiana Likhomanenko, Anosh Raj and Kunal Talwar for valuable feedback on the paper draft; Wonhee Park, David Park, Noyan Tokgozoglu, Riyaaz Shaik, Allegra Latimer, Shams Azam, Si Beaumont, Omid Javidbakht, Tao Yu, Tatsuki Koga, Egor Shulgin, Jonny Scott and Shan Wang for giving feedback on the design and user experience of the framework; Merhawie Woldezion, Nikhil Sriraman, Tim Kolecke and Daphne Luong for helping with the process of open-sourcing <span id="Sx1.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Health insurance portability and accountability act of 1996.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.hhs.gov/hipaa/for-professionals/privacy/laws-regulations/index.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.hhs.gov/hipaa/for-professionals/privacy/laws-regulations/index.html</a>, 1996.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Regulation (eu) 2016/679 of the european parliament and of the council of 27 april 2016 on the protection of natural persons with regard to the processing of personal data and on the free movement of such data, and repealing directive 95/46/ec (general data protection regulation).

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://eur-lex.europa.eu/eli/reg/2016/679/oj" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://eur-lex.europa.eu/eli/reg/2016/679/oj</a>, 2016.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Federated learning and analytics in practice: Algorithms, systems, applications, and opportunities (workshop at icml 2023).

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://fl-icml2023.github.io/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://fl-icml2023.github.io/</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed: 2023-02-20.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Google scholar search results for "federated learning".

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://scholar.google.com/scholar?q=%22federated+learning%22&amp;hl=en&amp;as_sdt=0%2C5&amp;as_ylo=2023&amp;as_yhi=2023" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://scholar.google.com/scholar?q=%22federated+learning%22&amp;hl=en&amp;as_sdt=0%2C5&amp;as_ylo=2023&amp;as_yhi=2023</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed on 2024-02-03; over 34,200 articles mentioned "Federated Learning" in 2023, exponential growth since 2018.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Martín Abadi, Paul Barham, Jianmin Chen, Zhifeng Chen, Andy Davis, Jeffrey Dean, Matthieu Devin, Sanjay Ghemawat, Geoffrey Irving, Michael Isard, et al.

</span>
<span class="ltx_bibblock"><math id="bib.bib5.1.m1.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib5.1.m1.1a"><mo stretchy="false" id="bib.bib5.1.m1.1.1" xref="bib.bib5.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib5.1.m1.1b"><ci id="bib.bib5.1.m1.1.1.cmml" xref="bib.bib5.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib5.1.m1.1c">\{</annotation></semantics></math>TensorFlow<math id="bib.bib5.2.m2.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib5.2.m2.1a"><mo stretchy="false" id="bib.bib5.2.m2.1.1" xref="bib.bib5.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib5.2.m2.1b"><ci id="bib.bib5.2.m2.1.1.cmml" xref="bib.bib5.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib5.2.m2.1c">\}</annotation></semantics></math>: a system for <math id="bib.bib5.3.m3.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib5.3.m3.1a"><mo stretchy="false" id="bib.bib5.3.m3.1.1" xref="bib.bib5.3.m3.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib5.3.m3.1b"><ci id="bib.bib5.3.m3.1.1.cmml" xref="bib.bib5.3.m3.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib5.3.m3.1c">\{</annotation></semantics></math>Large-Scale<math id="bib.bib5.4.m4.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib5.4.m4.1a"><mo stretchy="false" id="bib.bib5.4.m4.1.1" xref="bib.bib5.4.m4.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib5.4.m4.1b"><ci id="bib.bib5.4.m4.1.1.cmml" xref="bib.bib5.4.m4.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib5.4.m4.1c">\}</annotation></semantics></math> machine learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib5.5.1" class="ltx_text ltx_font_italic">12th USENIX symposium on operating systems design and implementation (OSDI 16)</span>, pages 265–283, 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Galen Andrew, Om Thakkar, Brendan McMahan, and Swaroop Ramaswamy.

</span>
<span class="ltx_bibblock">Differentially private learning with adaptive clipping.

</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 34:17455–17466, 2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Apple Machine Learning Research.

</span>
<span class="ltx_bibblock">Scenes with differential privacy.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://machinelearning.apple.com/research/scenes-differential-privacy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://machinelearning.apple.com/research/scenes-differential-privacy</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed: 2024-02-28.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Sheikh Shams Azam, Tatiana Likhomanenko, Martin Pelikan, et al.

</span>
<span class="ltx_bibblock">Importance of smoothness induced by optimizers in fl4asr: Towards understanding federated learning for end-to-end asr.

</span>
<span class="ltx_bibblock">In <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">2023 IEEE Automatic Speech Recognition and Understanding Workshop (ASRU)</span>, pages 1–8. IEEE, 2023.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Sheikh Shams Azam, Martin Pelikan, Vitaly Feldman, Kunal Talwar, Jan Silovsky, and Tatiana Likhomanenko.

</span>
<span class="ltx_bibblock">Federated learning for speech recognition: Revisiting current trends towards large-scale asr.

</span>
<span class="ltx_bibblock">In <span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">International Workshop on Federated Learning in the Age of Foundation Models in Conjunction with NeurIPS 2023</span>, 2023.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Eugene Bagdasaryan, Congzheng Song, Rogier van Dalen, Matt Seigel, and Áine Cahill.

</span>
<span class="ltx_bibblock">Training a tokenizer for free with private federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2203.09943</span>, 2022.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
James Henry Bell, Kallista A Bonawitz, Adrià Gascón, Tancrède Lepoint, and Mariana Raykova.

</span>
<span class="ltx_bibblock">Secure single-server aggregation with (poly) logarithmic overhead.

</span>
<span class="ltx_bibblock">In <span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2020 ACM SIGSAC Conference on Computer and Communications Security</span>, pages 1253–1269, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Daniel J Beutel, Taner Topal, Akhil Mathur, Xinchi Qiu, Javier Fernandez-Marques, Yan Gao, Lorenzo Sani, Kwing Hei Li, Titouan Parcollet, Pedro Porto Buarque de Gusmão, et al.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning research framework.

</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.14390</span>, 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Franziska Boenisch, Adam Dziedzic, Roei Schuster, Ali Shahin Shamsabadi, Ilia Shumailov, and Nicolas Papernot.

</span>
<span class="ltx_bibblock">When the curious abandon honesty: Federated learning is not private.

</span>
<span class="ltx_bibblock">In <span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">2023 IEEE 8th European Symposium on Security and Privacy (EuroS&amp;P)</span>, pages 175–199. IEEE, 2023.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Hubert Eichner, Wolfgang Grieskamp, Dzmitry Huba, Alex Ingerman, Vladimir Ivanov, Chloe Kiddon, Jakub Konečnỳ, Stefano Mazzocchi, Brendan McMahan, et al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">Proceedings of machine learning and systems</span>, 1:374–388, 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H Brendan McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.

</span>
<span class="ltx_bibblock">Practical secure aggregation for privacy-preserving machine learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">proceedings of the 2017 ACM SIGSAC Conference on Computer and Communications Security</span>, pages 1175–1191, 2017.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Sebastian Caldas, Sai Meher Karthik Duddu, Peter Wu, Tian Li, Jakub Konečnỳ, H Brendan McMahan, Virginia Smith, and Ameet Talwalkar.

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1812.01097</span>, 2018.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Di Chai, Leye Wang, Liu Yang, Junxue Zhang, Kai Chen, and Qiang Yang.

</span>
<span class="ltx_bibblock">Fedeval: A holistic evaluation framework for federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2011.09655</span>, 2020.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Chih-Chung Chang and Chih-Jen Lin.

</span>
<span class="ltx_bibblock">Libsvm: a library for support vector machines.

</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">ACM transactions on intelligent systems and technology (TIST)</span>, 2(3):1–27, 2011.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Daoyuan Chen, Dawei Gao, Weirui Kuang, Yaliang Li, and Bolin Ding.

</span>
<span class="ltx_bibblock">pfl-bench: A comprehensive benchmark for personalized federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 35:9344–9360, 2022.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Christopher A Choquette-Choo, Arun Ganesh, Ryan McKenna, H Brendan McMahan, John Rush, Abhradeep Guha Thakurta, and Zheng Xu.

</span>
<span class="ltx_bibblock">(amplified) banded matrix factorization: A unified approach to private training.

</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 36, 2023.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Gregory Cohen, Saeed Afshar, Jonathan Tapson, and Andre Van Schaik.

</span>
<span class="ltx_bibblock">Emnist: Extending mnist to handwritten letters.

</span>
<span class="ltx_bibblock">In <span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">2017 international joint conference on neural networks (IJCNN)</span>, pages 2921–2926. IEEE, 2017.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Vadym Doroshenko, Badih Ghazi, Pritish Kamath, Ravi Kumar, and Pasin Manurangsi.

</span>
<span class="ltx_bibblock">Connect the dots: Tighter discrete approximations of privacy loss distributions.

</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2207.04380</span>, 2022.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Cynthia Dwork, Krishnaram Kenthapadi, Frank McSherry, Ilya Mironov, and Moni Naor.

</span>
<span class="ltx_bibblock">Our data, ourselves: Privacy via distributed noise generation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Advances in Cryptology-EUROCRYPT 2006: 24th Annual International Conference on the Theory and Applications of Cryptographic Techniques, St. Petersburg, Russia, May 28-June 1, 2006. Proceedings 25</span>, pages 486–503. Springer, 2006.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Cynthia Dwork, Frank McSherry, Kobbi Nissim, and Adam Smith.

</span>
<span class="ltx_bibblock">Calibrating noise to sensitivity in private data analysis.

</span>
<span class="ltx_bibblock">In <span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">Theory of Cryptography: Third Theory of Cryptography Conference, TCC 2006, New York, NY, USA, March 4-7, 2006. Proceedings 3</span>, pages 265–284. Springer, 2006.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Morgan Ekmefjord, Addi Ait-Mlouk, Sadi Alawadi, Mattias Åkesson, Prashant Singh, Ola Spjuth, Salman Toor, and Andreas Hellander.

</span>
<span class="ltx_bibblock">Scalable federated machine learning with fedn.

</span>
<span class="ltx_bibblock">In <span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">2022 22nd IEEE International Symposium on Cluster, Cloud and Internet Computing (CCGrid)</span>, pages 555–564. IEEE, 2022.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Ahmed El Ouadrhiri and Ahmed Abdelhadi.

</span>
<span class="ltx_bibblock">Differential privacy for deep and federated learning: A survey.

</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">IEEE access</span>, 10:22359–22380, 2022.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Jerome H Friedman.

</span>
<span class="ltx_bibblock">Greedy function approximation: a gradient boosting machine.

</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text ltx_font_italic">Annals of statistics</span>, pages 1189–1232, 2001.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Mirian Hipolito Garcia, Andre Manoel, Daniel Madrigal Diaz, Fatemehsadat Mireshghallah, Robert Sim, and Dimitrios Dimitriadis.

</span>
<span class="ltx_bibblock">Flute: A scalable, extensible framework for high-performance federated learning simulations.

</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2203.13789</span>, 2022.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Jonas Geiping, Hartmut Bauermeister, Hannah Dröge, and Michael Moeller.

</span>
<span class="ltx_bibblock">Inverting gradients-how easy is it to break privacy in federated learning?

</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 33:16937–16947, 2020.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Google LLC.

</span>
<span class="ltx_bibblock">Tensorflow federated.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed: [insert date here].

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Google LLC.

</span>
<span class="ltx_bibblock">Tensorflow privacy.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/tensorflow/privacy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/privacy</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed: 2024-02-20.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Sivakanth Gopi, Yin Tat Lee, and Lukas Wutschitz.

</span>
<span class="ltx_bibblock">Numerical composition of differential privacy, 2021.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Filip Granqvist, Matt Seigel, Rogier Van Dalen, Aine Cahill, Stephen Shum, and Matthias Paulik.

</span>
<span class="ltx_bibblock">Improving on-device speaker verification using federated learning with privacy.

</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2008.02651</span>, 2020.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Chaoyang He, Songze Li, Jinhyun So, Xiao Zeng, Mi Zhang, Hongyi Wang, Xiaoyang Wang, Praneeth Vepakomma, Abhishek Singh, Hang Qiu, et al.

</span>
<span class="ltx_bibblock">Fedml: A research library and benchmark for federated machine learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.13518</span>, 2020.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.

</span>
<span class="ltx_bibblock">Deep residual learning for image recognition.

</span>
<span class="ltx_bibblock">In <span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE conference on computer vision and pattern recognition</span>, pages 770–778, 2016.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Edward J Hu, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, Weizhu Chen, et al.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib36.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2022.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Sixu Hu, Yuan Li, Xu Liu, Qinbin Li, Zhaomin Wu, and Bingsheng He.

</span>
<span class="ltx_bibblock">The oarf benchmark suite: Characterization and implications for federated learning systems.

</span>
<span class="ltx_bibblock"><span id="bib.bib37.1.1" class="ltx_text ltx_font_italic">ACM Transactions on Intelligent Systems and Technology (TIST)</span>, 13(4):1–32, 2022.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi Bennis, Arjun Nitin Bhagoji, Kallista Bonawitz, Zachary Charles, Graham Cormode, Rachel Cummings, et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text ltx_font_italic">Foundations and Trends® in Machine Learning</span>, 14(1–2):1–210, 2021.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank Reddi, Sebastian Stich, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib39.1.1" class="ltx_text ltx_font_italic">International conference on machine learning</span>, pages 5132–5143. PMLR, 2020.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
Tatsuki Koga, Congzheng Song, Martin Pelikan, and Mona Chitnis.

</span>
<span class="ltx_bibblock">Population expansion for training language models with private federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib40.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2307.07477</span>, 2023.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Jakub Konečnỳ, H Brendan McMahan, Daniel Ramage, and Peter Richtárik.

</span>
<span class="ltx_bibblock">Federated optimization: Distributed machine learning for on-device intelligence.

</span>
<span class="ltx_bibblock"><span id="bib.bib41.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1610.02527</span>, 2016.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
Andreas Köpf, Yannic Kilcher, Dimitri von Rütte, Sotiris Anagnostidis, Zhi Rui Tam, Keith Stevens, Abdullah Barhoum, Duc Nguyen, Oliver Stanley, Richárd Nagyfi, et al.

</span>
<span class="ltx_bibblock">Openassistant conversations-democratizing large language model alignment.

</span>
<span class="ltx_bibblock"><span id="bib.bib42.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 36, 2023.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Antti Koskela and Antti Honkela.

</span>
<span class="ltx_bibblock">Learning rate adaptation for federated and differentially private learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib43.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1809.03832</span>, 2018.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Geoffrey Hinton, et al.

</span>
<span class="ltx_bibblock">Learning multiple layers of features from tiny images.

</span>
<span class="ltx_bibblock">2009.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
Fan Lai, Yinwei Dai, Sanjay Singapuram, Jiachen Liu, Xiangfeng Zhu, Harsha Madhyastha, and Mosharaf Chowdhury.

</span>
<span class="ltx_bibblock">Fedscale: Benchmarking model and system performance of federated learning at scale.

</span>
<span class="ltx_bibblock">In <span id="bib.bib45.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages 11814–11827. PMLR, 2022.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
Yann LeCun, Léon Bottou, Yoshua Bengio, and Patrick Haffner.

</span>
<span class="ltx_bibblock">Gradient-based learning applied to document recognition.

</span>
<span class="ltx_bibblock"><span id="bib.bib46.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE</span>, 86(11):2278–2324, 1998.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and Virginia Smith.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib47.1.1" class="ltx_text ltx_font_italic">Proceedings of Machine learning and systems</span>, 2:429–450, 2020.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
Yuan Liang, Yange Guo, Yanxia Gong, Chunjie Luo, Jianfeng Zhan, and Yunyou Huang.

</span>
<span class="ltx_bibblock">Flbench: A benchmark suite for federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib48.1.1" class="ltx_text ltx_font_italic">Intelligent Computing and Block Chain: First BenchCouncil International Federated Conferences, FICC 2020, Qingdao, China, October 30–November 3, 2020, Revised Selected Papers 1</span>, pages 166–176. Springer, 2021.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
I Liu, Ci-Siang Lin, Fu-En Yang, Yu-Chiang Frank Wang, et al.

</span>
<span class="ltx_bibblock">Language-guided transformer for federated multi-label classification.

</span>
<span class="ltx_bibblock"><span id="bib.bib49.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2312.07165</span>, 2023.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock">
Xiaoyuan Liu, Tianneng Shi, Chulin Xie, Qinbin Li, Kangping Hu, Haoyu Kim, Xiaojun Xu, Bo Li, and Dawn Song.

</span>
<span class="ltx_bibblock">Unifed: A benchmark for federated learning frameworks.

</span>
<span class="ltx_bibblock"><span id="bib.bib50.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2207.10308</span>, 2022.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock">
Yang Liu, Tao Fan, Tianjian Chen, Qian Xu, and Qiang Yang.

</span>
<span class="ltx_bibblock">Fate: An industrial grade platform for collaborative learning with data protection.

</span>
<span class="ltx_bibblock"><span id="bib.bib51.1.1" class="ltx_text ltx_font_italic">The Journal of Machine Learning Research</span>, 22(1):10320–10325, 2021.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock">
Heiko Ludwig, Nathalie Baracaldo, Gegi Thomas, Yi Zhou, Ali Anwar, Shashank Rajamoni, Yuya Ong, Jayaram Radhakrishnan, Ashish Verma, Mathieu Sinn, et al.

</span>
<span class="ltx_bibblock">Ibm federated learning: an enterprise framework white paper v0. 1.

</span>
<span class="ltx_bibblock"><span id="bib.bib52.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.10987</span>, 2020.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[53]</span>
<span class="ltx_bibblock">
Koji Matsuda, Yuya Sasaki, Chuan Xiao, and Makoto Onizuka.

</span>
<span class="ltx_bibblock">Benchmark for personalized federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib53.1.1" class="ltx_text ltx_font_italic">IEEE Open Journal of the Computer Society</span>, 2023.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[54]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib54.1.1" class="ltx_text ltx_font_italic">Artificial intelligence and statistics</span>, pages 1273–1282. PMLR, 2017.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[55]</span>
<span class="ltx_bibblock">
H Brendan McMahan, Daniel Ramage, Kunal Talwar, and Li Zhang.

</span>
<span class="ltx_bibblock">Learning differentially private recurrent language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib55.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2018.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[56]</span>
<span class="ltx_bibblock">
Sebastian Meiser and Esfandiar Mohammadi.

</span>
<span class="ltx_bibblock">Tight on budget? tight bounds for r-fold approximate differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib56.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2018 ACM SIGSAC Conference on Computer and Communications Security</span>, pages 247–264, 2018.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[57]</span>
<span class="ltx_bibblock">
Luca Melis, Congzheng Song, Emiliano De Cristofaro, and Vitaly Shmatikov.

</span>
<span class="ltx_bibblock">Exploiting unintended feature leakage in collaborative learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib57.1.1" class="ltx_text ltx_font_italic">2019 IEEE symposium on security and privacy (SP)</span>, pages 691–706. IEEE, 2019.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[58]</span>
<span class="ltx_bibblock">
Ilya Mironov.

</span>
<span class="ltx_bibblock">Rényi differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib58.1.1" class="ltx_text ltx_font_italic">2017 IEEE 30th computer security foundations symposium (CSF)</span>, pages 263–275. IEEE, 2017.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[59]</span>
<span class="ltx_bibblock">
Mohammad Naseri, Jamie Hayes, and Emiliano De Cristofaro.

</span>
<span class="ltx_bibblock">Local and central differential privacy for robustness and privacy in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib59.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2009.03561</span>, 2020.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[60]</span>
<span class="ltx_bibblock">
Tomas Ortega and Hamid Jafarkhani.

</span>
<span class="ltx_bibblock">Asynchronous federated learning with bidirectional quantized communications and buffered aggregation.

</span>
<span class="ltx_bibblock"><span id="bib.bib60.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2308.00263</span>, 2023.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[61]</span>
<span class="ltx_bibblock">
Adam Paszke, Sam Gross, Francisco Massa, Adam Lerer, James Bradbury, Gregory Chanan, Trevor Killeen, Zeming Lin, Natalia Gimelshein, Luca Antiga, et al.

</span>
<span class="ltx_bibblock">Pytorch: An imperative style, high-performance deep learning library.

</span>
<span class="ltx_bibblock"><span id="bib.bib61.1.1" class="ltx_text ltx_font_italic">Advances in neural information processing systems</span>, 32, 2019.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[62]</span>
<span class="ltx_bibblock">
Matthias Paulik, Matt Seigel, Henry Mason, Dominic Telaar, Joris Kluivers, Rogier van Dalen, Chi Wai Lau, Luke Carlson, Filip Granqvist, Chris Vandevelde, et al.

</span>
<span class="ltx_bibblock">Federated evaluation and tuning for on-device personalization: System design &amp; applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib62.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2102.08503</span>, 2021.

</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[63]</span>
<span class="ltx_bibblock">
Sashank Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush, Jakub Konečnỳ, Sanjiv Kumar, and H Brendan McMahan.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock"><span id="bib.bib63.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2003.00295</span>, 2020.

</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[64]</span>
<span class="ltx_bibblock">
G Anthony Reina, Alexey Gruzdev, Patrick Foley, Olga Perepelkina, Mansi Sharma, Igor Davidyuk, Ilya Trushkin, Maksim Radionov, Aleksandr Mokrov, Dmitry Agapov, et al.

</span>
<span class="ltx_bibblock">Openfl: An open-source framework for federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib64.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2105.06413</span>, 2021.

</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[65]</span>
<span class="ltx_bibblock">
John A. Rice.

</span>
<span class="ltx_bibblock"><span id="bib.bib65.1.1" class="ltx_text ltx_font_italic">Mathematical Statistics and Data Analysis</span>.

</span>
<span class="ltx_bibblock">Duxbury Press, 3 edition, 2006.

</span>
<span class="ltx_bibblock">Chapter 5 - Central Limit Theorem.

</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[66]</span>
<span class="ltx_bibblock">
Borja Rodríguez-Gálvez, Filip Granqvist, Rogier van Dalen, and Matt Seigel.

</span>
<span class="ltx_bibblock">Enforcing fairness in private federated learning via the modified method of differential multipliers.

</span>
<span class="ltx_bibblock"><span id="bib.bib66.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2109.08604</span>, 2021.

</span>
</li>
<li id="bib.bib67" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[67]</span>
<span class="ltx_bibblock">
Holger R Roth, Yan Cheng, Yuhong Wen, Isaac Yang, Ziyue Xu, Yuan-Ting Hsieh, Kristopher Kersten, Ahmed Harouni, Can Zhao, Kevin Lu, et al.

</span>
<span class="ltx_bibblock">Nvidia flare: Federated learning from simulation to real-world.

</span>
<span class="ltx_bibblock"><span id="bib.bib67.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2210.13291</span>, 2022.

</span>
</li>
<li id="bib.bib68" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[68]</span>
<span class="ltx_bibblock">
Alexander Sergeev and Mike Del Balso.

</span>
<span class="ltx_bibblock">Horovod: fast and easy distributed deep learning in TensorFlow.

</span>
<span class="ltx_bibblock"><span id="bib.bib68.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1802.05799</span>, 2018.

</span>
</li>
<li id="bib.bib69" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[69]</span>
<span class="ltx_bibblock">
Reza Shokri, Marco Stronati, Congzheng Song, and Vitaly Shmatikov.

</span>
<span class="ltx_bibblock">Membership inference attacks against machine learning models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib69.1.1" class="ltx_text ltx_font_italic">2017 IEEE symposium on security and privacy (SP)</span>, pages 3–18. IEEE, 2017.

</span>
</li>
<li id="bib.bib70" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[70]</span>
<span class="ltx_bibblock">
Aliaksandra Shysheya, Marlon Tobaben, John F Bronskill, Andrew Paverd, Shruti Tople, Santiago Zanella-Beguelin, Richard E Turner, and Antti Honkela.

</span>
<span class="ltx_bibblock">Differentially private federated few-shot image classification.

</span>
<span class="ltx_bibblock">In <span id="bib.bib70.1.1" class="ltx_text ltx_font_italic">ICLR 2023 Workshop on Pitfalls of limited data and computation for Trustworthy ML</span>, 2023.

</span>
</li>
<li id="bib.bib71" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[71]</span>
<span class="ltx_bibblock">
Shivalika Singh, Freddie Vargus, Daniel Dsouza, Börje F Karlsson, Abinaya Mahendiran, Wei-Yin Ko, Herumb Shandilya, Jay Patel, Deividas Mataciunas, Laura OMahony, et al.

</span>
<span class="ltx_bibblock">Aya dataset: An open-access collection for multilingual instruction tuning.

</span>
<span class="ltx_bibblock"><span id="bib.bib71.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2402.06619</span>, 2024.

</span>
</li>
<li id="bib.bib72" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[72]</span>
<span class="ltx_bibblock">
Congzheng Song, Filip Granqvist, and Kunal Talwar.

</span>
<span class="ltx_bibblock">Flair: Federated learning annotated image repository.

</span>
<span class="ltx_bibblock"><span id="bib.bib72.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 35:37792–37805, 2022.

</span>
</li>
<li id="bib.bib73" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[73]</span>
<span class="ltx_bibblock">
Stack Overflow.

</span>
<span class="ltx_bibblock">Stack Overflow Data (BigQuery Dataset).

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.kaggle.com/datasets/stackoverflow/stackoverflow" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.kaggle.com/datasets/stackoverflow/stackoverflow</a>, 2023.

</span>
<span class="ltx_bibblock">Accessed: 2024-03-15.

</span>
</li>
<li id="bib.bib74" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[74]</span>
<span class="ltx_bibblock">
Kunal Talwar, Shan Wang, Audra McMillan, Vojta Jina, Vitaly Feldman, Bailey Basile, Aine Cahill, Yi Sheng Chan, Mike Chatzidakis, Junye Chen, et al.

</span>
<span class="ltx_bibblock">Samplable anonymous aggregation for private federated data analysis.

</span>
<span class="ltx_bibblock"><span id="bib.bib74.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2307.15017</span>, 2023.

</span>
</li>
<li id="bib.bib75" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[75]</span>
<span class="ltx_bibblock">
Rohan Taori, Ishaan Gulrajani, Tianyi Zhang, Yann Dubois, Xuechen Li, Carlos Guestrin, Percy Liang, and Tatsunori B. Hashimoto.

</span>
<span class="ltx_bibblock">Stanford alpaca: An instruction-following llama model.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/tatsu-lab/stanford_alpaca" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tatsu-lab/stanford_alpaca</a>, 2023.

</span>
</li>
<li id="bib.bib76" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[76]</span>
<span class="ltx_bibblock">
Jean Ogier du Terrail, Samy-Safwan Ayed, Edwige Cyffers, Felix Grimberg, Chaoyang He, Regis Loeb, Paul Mangold, Tanguy Marchand, Othmane Marfoq, Erum Mushtaq, et al.

</span>
<span class="ltx_bibblock">Flamby: Datasets and benchmarks for cross-silo federated learning in realistic healthcare settings.

</span>
<span class="ltx_bibblock"><span id="bib.bib76.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2210.04620</span>, 2022.

</span>
</li>
<li id="bib.bib77" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[77]</span>
<span class="ltx_bibblock">
Jianyu Wang, Zachary Charles, Zheng Xu, Gauri Joshi, H Brendan McMahan, Maruan Al-Shedivat, Galen Andrew, Salman Avestimehr, Katharine Daly, Deepesh Data, et al.

</span>
<span class="ltx_bibblock">A field guide to federated optimization.

</span>
<span class="ltx_bibblock"><span id="bib.bib77.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2107.06917</span>, 2021.

</span>
</li>
<li id="bib.bib78" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[78]</span>
<span class="ltx_bibblock">
Shanshan Wu, Tian Li, Zachary Charles, Yu Xiao, Ziyu Liu, Zheng Xu, and Virginia Smith.

</span>
<span class="ltx_bibblock">Motley: Benchmarking heterogeneity and personalization in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib78.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2206.09262</span>, 2022.

</span>
</li>
<li id="bib.bib79" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[79]</span>
<span class="ltx_bibblock">
Yuexiang Xie, Zhen Wang, Dawei Gao, Daoyuan Chen, Liuyi Yao, Weirui Kuang, Yaliang Li, Bolin Ding, and Jingren Zhou.

</span>
<span class="ltx_bibblock">Federatedscope: A flexible federated learning platform for heterogeneity.

</span>
<span class="ltx_bibblock"><span id="bib.bib79.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2204.05011</span>, 2022.

</span>
</li>
<li id="bib.bib80" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[80]</span>
<span class="ltx_bibblock">
Mingbin Xu, Congzheng Song, Ye Tian, Neha Agrawal, Filip Granqvist, Rogier van Dalen, Xiao Zhang, Arturo Argueta, Shiyi Han, Yaqiao Deng, et al.

</span>
<span class="ltx_bibblock">Training large-vocabulary neural language models by private federated learning for resource-constrained devices.

</span>
<span class="ltx_bibblock">In <span id="bib.bib80.1.1" class="ltx_text ltx_font_italic">ICASSP 2023-2023 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</span>, pages 1–5. IEEE, 2023.

</span>
</li>
<li id="bib.bib81" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[81]</span>
<span class="ltx_bibblock">
Zheng Xu, Yanxiang Zhang, Galen Andrew, Christopher A Choquette-Choo, Peter Kairouz, H Brendan McMahan, Jesse Rosenstock, and Yuanbo Zhang.

</span>
<span class="ltx_bibblock">Federated learning of gboard language models with differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib81.1.1" class="ltx_text ltx_font_italic">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 5: Industry Track)</span>, 2023.

</span>
</li>
<li id="bib.bib82" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[82]</span>
<span class="ltx_bibblock">
Ashkan Yousefpour, Igor Shilov, Alexandre Sablayrolles, Davide Testuggine, Karthik Prasad, Mani Malek, John Nguyen, Sayan Ghosh, Akash Bharadwaj, Jessica Zhao, et al.

</span>
<span class="ltx_bibblock">Opacus: User-friendly differential privacy library in pytorch.

</span>
<span class="ltx_bibblock"><span id="bib.bib82.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2109.12298</span>, 2021.

</span>
</li>
<li id="bib.bib83" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[83]</span>
<span class="ltx_bibblock">
Tao Yu, Congzheng Song, Jianyu Wang, and Mona Chitnis.

</span>
<span class="ltx_bibblock">Momentum approximation in asynchronous private federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib83.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2402.09247</span>, 2024.

</span>
</li>
<li id="bib.bib84" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[84]</span>
<span class="ltx_bibblock">
Peiyuan Zhang, Guangtao Zeng, Tianduo Wang, and Wei Lu.

</span>
<span class="ltx_bibblock">Tinyllama: An open-source small language model.

</span>
<span class="ltx_bibblock"><span id="bib.bib84.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2401.02385</span>, 2024.

</span>
</li>
<li id="bib.bib85" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[85]</span>
<span class="ltx_bibblock">
Yuqing Zhu and Yu-Xiang Wang.

</span>
<span class="ltx_bibblock">Poission subsampled rényi differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib85.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages 7634–7642. PMLR, 2019.

</span>
</li>
<li id="bib.bib86" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[86]</span>
<span class="ltx_bibblock">
Alexander Ziller, Andrew Trask, Antonio Lopardo, Benjamin Szymkow, Bobby Wagner, Emma Bluemke, Jean-Mickael Nounahon, Jonathan Passerat-Palmbach, Kritika Prakash, Nick Rose, et al.

</span>
<span class="ltx_bibblock">Pysyft: A library for easy federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib86.1.1" class="ltx_text ltx_font_italic">Federated Learning Systems: Towards Next-Generation AI</span>, pages 111–139, 2021.

</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Preliminaries</h2>

<section id="A1.SS0.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Federated Learning.</h5>

<div id="A1.SS0.SSS0.Px1.p1" class="ltx_para ltx_noindent">
<p id="A1.SS0.SSS0.Px1.p1.1" class="ltx_p">FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> trains an ML model with a population of users collaboratively without sharing their data with the central server.
In each round of FL, the server samples a cohort of users and broadcasts the current central model to the sampled users’ devices.
The sampled users then train the model locally on their devices and submit their gradient updates back to the server after local training.
The server aggregates the gradients received from users to produce a “pseudo-gradient” which is used to update the central model with an optimization algorithm such as SGD or Adam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>.</p>
</div>
</section>
<section id="A1.SS0.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Differential Privacy.</h5>

<div id="A1.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px2.p1.1" class="ltx_p">Though users’ raw data is not shared with the server in FL, the shared gradient updates can still reveal sensitive information about user data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>.
Differential privacy (DP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> can be used to provide a formal privacy guarantee to prevent such data leakage in the federated setting.</p>
</div>
<div id="A1.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="A1.Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Definition A.1</span></span><span id="A1.Thmtheorem1.2.2" class="ltx_text ltx_font_bold"> </span>(Differential privacy)<span id="A1.Thmtheorem1.3.3" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="A1.Thmtheorem1.p1" class="ltx_para">
<p id="A1.Thmtheorem1.p1.7" class="ltx_p">A randomized mechanism <math id="A1.Thmtheorem1.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{M}:\mathcal{D}\mapsto\mathcal{R}" display="inline"><semantics id="A1.Thmtheorem1.p1.1.m1.1a"><mrow id="A1.Thmtheorem1.p1.1.m1.1.1" xref="A1.Thmtheorem1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.1.m1.1.1.2" xref="A1.Thmtheorem1.p1.1.m1.1.1.2.cmml">ℳ</mi><mo lspace="0.278em" rspace="0.278em" id="A1.Thmtheorem1.p1.1.m1.1.1.1" xref="A1.Thmtheorem1.p1.1.m1.1.1.1.cmml">:</mo><mrow id="A1.Thmtheorem1.p1.1.m1.1.1.3" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.1.m1.1.1.3.2" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.2.cmml">𝒟</mi><mo stretchy="false" id="A1.Thmtheorem1.p1.1.m1.1.1.3.1" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.1.cmml">↦</mo><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.1.m1.1.1.3.3" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.3.cmml">ℛ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.1.m1.1b"><apply id="A1.Thmtheorem1.p1.1.m1.1.1.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1"><ci id="A1.Thmtheorem1.p1.1.m1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.1">:</ci><ci id="A1.Thmtheorem1.p1.1.m1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.2">ℳ</ci><apply id="A1.Thmtheorem1.p1.1.m1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.3"><csymbol cd="latexml" id="A1.Thmtheorem1.p1.1.m1.1.1.3.1.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.1">maps-to</csymbol><ci id="A1.Thmtheorem1.p1.1.m1.1.1.3.2.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.2">𝒟</ci><ci id="A1.Thmtheorem1.p1.1.m1.1.1.3.3.cmml" xref="A1.Thmtheorem1.p1.1.m1.1.1.3.3">ℛ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.1.m1.1c">\mathcal{M}:\mathcal{D}\mapsto\mathcal{R}</annotation></semantics></math> with a domain <math id="A1.Thmtheorem1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="A1.Thmtheorem1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.2.m2.1.1" xref="A1.Thmtheorem1.p1.2.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.2.m2.1b"><ci id="A1.Thmtheorem1.p1.2.m2.1.1.cmml" xref="A1.Thmtheorem1.p1.2.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.2.m2.1c">\mathcal{D}</annotation></semantics></math> and range <math id="A1.Thmtheorem1.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{R}" display="inline"><semantics id="A1.Thmtheorem1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.3.m3.1.1" xref="A1.Thmtheorem1.p1.3.m3.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.3.m3.1b"><ci id="A1.Thmtheorem1.p1.3.m3.1.1.cmml" xref="A1.Thmtheorem1.p1.3.m3.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.3.m3.1c">\mathcal{R}</annotation></semantics></math> satisfies <math id="A1.Thmtheorem1.p1.4.m4.2" class="ltx_Math" alttext="(\varepsilon,\delta)" display="inline"><semantics id="A1.Thmtheorem1.p1.4.m4.2a"><mrow id="A1.Thmtheorem1.p1.4.m4.2.3.2" xref="A1.Thmtheorem1.p1.4.m4.2.3.1.cmml"><mo stretchy="false" id="A1.Thmtheorem1.p1.4.m4.2.3.2.1" xref="A1.Thmtheorem1.p1.4.m4.2.3.1.cmml">(</mo><mi id="A1.Thmtheorem1.p1.4.m4.1.1" xref="A1.Thmtheorem1.p1.4.m4.1.1.cmml">ε</mi><mo id="A1.Thmtheorem1.p1.4.m4.2.3.2.2" xref="A1.Thmtheorem1.p1.4.m4.2.3.1.cmml">,</mo><mi id="A1.Thmtheorem1.p1.4.m4.2.2" xref="A1.Thmtheorem1.p1.4.m4.2.2.cmml">δ</mi><mo stretchy="false" id="A1.Thmtheorem1.p1.4.m4.2.3.2.3" xref="A1.Thmtheorem1.p1.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.4.m4.2b"><interval closure="open" id="A1.Thmtheorem1.p1.4.m4.2.3.1.cmml" xref="A1.Thmtheorem1.p1.4.m4.2.3.2"><ci id="A1.Thmtheorem1.p1.4.m4.1.1.cmml" xref="A1.Thmtheorem1.p1.4.m4.1.1">𝜀</ci><ci id="A1.Thmtheorem1.p1.4.m4.2.2.cmml" xref="A1.Thmtheorem1.p1.4.m4.2.2">𝛿</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.4.m4.2c">(\varepsilon,\delta)</annotation></semantics></math>-differential privacy if for any two adjacent datasets <math id="A1.Thmtheorem1.p1.5.m5.2" class="ltx_Math" alttext="D,D^{\prime}\in\mathcal{D}" display="inline"><semantics id="A1.Thmtheorem1.p1.5.m5.2a"><mrow id="A1.Thmtheorem1.p1.5.m5.2.2" xref="A1.Thmtheorem1.p1.5.m5.2.2.cmml"><mrow id="A1.Thmtheorem1.p1.5.m5.2.2.1.1" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.2.cmml"><mi id="A1.Thmtheorem1.p1.5.m5.1.1" xref="A1.Thmtheorem1.p1.5.m5.1.1.cmml">D</mi><mo id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.2" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.2.cmml">,</mo><msup id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.cmml"><mi id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.2" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.2.cmml">D</mi><mo id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.3" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.3.cmml">′</mo></msup></mrow><mo id="A1.Thmtheorem1.p1.5.m5.2.2.2" xref="A1.Thmtheorem1.p1.5.m5.2.2.2.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.5.m5.2.2.3" xref="A1.Thmtheorem1.p1.5.m5.2.2.3.cmml">𝒟</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.5.m5.2b"><apply id="A1.Thmtheorem1.p1.5.m5.2.2.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2"><in id="A1.Thmtheorem1.p1.5.m5.2.2.2.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.2"></in><list id="A1.Thmtheorem1.p1.5.m5.2.2.1.2.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1"><ci id="A1.Thmtheorem1.p1.5.m5.1.1.cmml" xref="A1.Thmtheorem1.p1.5.m5.1.1">𝐷</ci><apply id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1">superscript</csymbol><ci id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.2">𝐷</ci><ci id="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.1.1.1.3">′</ci></apply></list><ci id="A1.Thmtheorem1.p1.5.m5.2.2.3.cmml" xref="A1.Thmtheorem1.p1.5.m5.2.2.3">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.5.m5.2c">D,D^{\prime}\in\mathcal{D}</annotation></semantics></math> and for any subset of outputs <math id="A1.Thmtheorem1.p1.6.m6.1" class="ltx_Math" alttext="S\subseteq\mathcal{R}" display="inline"><semantics id="A1.Thmtheorem1.p1.6.m6.1a"><mrow id="A1.Thmtheorem1.p1.6.m6.1.1" xref="A1.Thmtheorem1.p1.6.m6.1.1.cmml"><mi id="A1.Thmtheorem1.p1.6.m6.1.1.2" xref="A1.Thmtheorem1.p1.6.m6.1.1.2.cmml">S</mi><mo id="A1.Thmtheorem1.p1.6.m6.1.1.1" xref="A1.Thmtheorem1.p1.6.m6.1.1.1.cmml">⊆</mo><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.6.m6.1.1.3" xref="A1.Thmtheorem1.p1.6.m6.1.1.3.cmml">ℛ</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.6.m6.1b"><apply id="A1.Thmtheorem1.p1.6.m6.1.1.cmml" xref="A1.Thmtheorem1.p1.6.m6.1.1"><subset id="A1.Thmtheorem1.p1.6.m6.1.1.1.cmml" xref="A1.Thmtheorem1.p1.6.m6.1.1.1"></subset><ci id="A1.Thmtheorem1.p1.6.m6.1.1.2.cmml" xref="A1.Thmtheorem1.p1.6.m6.1.1.2">𝑆</ci><ci id="A1.Thmtheorem1.p1.6.m6.1.1.3.cmml" xref="A1.Thmtheorem1.p1.6.m6.1.1.3">ℛ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.6.m6.1c">S\subseteq\mathcal{R}</annotation></semantics></math> it holds that <math id="A1.Thmtheorem1.p1.7.m7.3" class="ltx_Math" alttext="\mathrm{Pr}[M(D)\in S]\leq e^{\varepsilon}\mathrm{Pr}[\mathcal{M}(D^{\prime})\in S]+\delta" display="inline"><semantics id="A1.Thmtheorem1.p1.7.m7.3a"><mrow id="A1.Thmtheorem1.p1.7.m7.3.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.cmml"><mrow id="A1.Thmtheorem1.p1.7.m7.2.2.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.cmml"><mi id="A1.Thmtheorem1.p1.7.m7.2.2.1.3" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.3.cmml">Pr</mi><mo lspace="0em" rspace="0em" id="A1.Thmtheorem1.p1.7.m7.2.2.1.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.2.cmml">​</mo><mrow id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.2.cmml"><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.2.1.cmml">[</mo><mrow id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.cmml"><mrow id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.cmml"><mi id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.2.cmml">M</mi><mo lspace="0em" rspace="0em" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.1.cmml">​</mo><mrow id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.3.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.3.2.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.cmml">(</mo><mi id="A1.Thmtheorem1.p1.7.m7.1.1" xref="A1.Thmtheorem1.p1.7.m7.1.1.cmml">D</mi><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.3.2.2" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.1.cmml">∈</mo><mi id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.Thmtheorem1.p1.7.m7.3.3.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.3.cmml">≤</mo><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.cmml"><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.cmml"><msup id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.cmml"><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.2.cmml">e</mi><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.3.cmml">ε</mi></msup><mo lspace="0em" rspace="0em" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2.cmml">​</mo><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.4" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.4.cmml">Pr</mi><mo lspace="0em" rspace="0em" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2a" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2.cmml">​</mo><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.2.cmml"><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.2.1.cmml">[</mo><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.cmml"><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.3.cmml">ℳ</mi><mo lspace="0em" rspace="0em" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.2.cmml">​</mo><mrow id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.2.cmml">D</mi><mo id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.2.cmml">∈</mo><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.Thmtheorem1.p1.7.m7.3.3.2.2" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.2.cmml">+</mo><mi id="A1.Thmtheorem1.p1.7.m7.3.3.2.3" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.3.cmml">δ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Thmtheorem1.p1.7.m7.3b"><apply id="A1.Thmtheorem1.p1.7.m7.3.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3"><leq id="A1.Thmtheorem1.p1.7.m7.3.3.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.3"></leq><apply id="A1.Thmtheorem1.p1.7.m7.2.2.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1"><times id="A1.Thmtheorem1.p1.7.m7.2.2.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.2"></times><ci id="A1.Thmtheorem1.p1.7.m7.2.2.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.3">Pr</ci><apply id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1"><csymbol cd="latexml" id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.2.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.2">delimited-[]</csymbol><apply id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1"><in id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.1"></in><apply id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2"><times id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.1"></times><ci id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.2.2">𝑀</ci><ci id="A1.Thmtheorem1.p1.7.m7.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.1.1">𝐷</ci></apply><ci id="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.2.2.1.1.1.1.3">𝑆</ci></apply></apply></apply><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2"><plus id="A1.Thmtheorem1.p1.7.m7.3.3.2.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.2"></plus><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1"><times id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.2"></times><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3"><csymbol cd="ambiguous" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3">superscript</csymbol><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.2">𝑒</ci><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.3.3">𝜀</ci></apply><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.4.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.4">Pr</ci><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1"><csymbol cd="latexml" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.2.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.2">delimited-[]</csymbol><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1"><in id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.2"></in><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1"><times id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.2"></times><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.3">ℳ</ci><apply id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.1.1.1.1.3">′</ci></apply></apply><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.1.1.1.1.3">𝑆</ci></apply></apply></apply><ci id="A1.Thmtheorem1.p1.7.m7.3.3.2.3.cmml" xref="A1.Thmtheorem1.p1.7.m7.3.3.2.3">𝛿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Thmtheorem1.p1.7.m7.3c">\mathrm{Pr}[M(D)\in S]\leq e^{\varepsilon}\mathrm{Pr}[\mathcal{M}(D^{\prime})\in S]+\delta</annotation></semantics></math>.</p>
</div>
</div>
<div id="A1.SS0.SSS0.Px2.p2" class="ltx_para ltx_noindent">
<p id="A1.SS0.SSS0.Px2.p2.5" class="ltx_p">User-level DP guarantee is often considered in PFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>: <math id="A1.SS0.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="A1.SS0.SSS0.Px2.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="A1.SS0.SSS0.Px2.p2.1.m1.1.1" xref="A1.SS0.SSS0.Px2.p2.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p2.1.m1.1b"><ci id="A1.SS0.SSS0.Px2.p2.1.m1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p2.1.m1.1c">\mathcal{D}</annotation></semantics></math> is the set of all possible datasets with examples associated with users, range <math id="A1.SS0.SSS0.Px2.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{R}" display="inline"><semantics id="A1.SS0.SSS0.Px2.p2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="A1.SS0.SSS0.Px2.p2.2.m2.1.1" xref="A1.SS0.SSS0.Px2.p2.2.m2.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p2.2.m2.1b"><ci id="A1.SS0.SSS0.Px2.p2.2.m2.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.2.m2.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p2.2.m2.1c">\mathcal{R}</annotation></semantics></math> is the set of all possible models, and two datasets <math id="A1.SS0.SSS0.Px2.p2.3.m3.2" class="ltx_Math" alttext="D,D^{\prime}" display="inline"><semantics id="A1.SS0.SSS0.Px2.p2.3.m3.2a"><mrow id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.2.cmml"><mi id="A1.SS0.SSS0.Px2.p2.3.m3.1.1" xref="A1.SS0.SSS0.Px2.p2.3.m3.1.1.cmml">D</mi><mo id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.2" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.2.cmml">,</mo><msup id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.cmml"><mi id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.2" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.2.cmml">D</mi><mo id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.3" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p2.3.m3.2b"><list id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.2.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1"><ci id="A1.SS0.SSS0.Px2.p2.3.m3.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.1.1">𝐷</ci><apply id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1">superscript</csymbol><ci id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.2.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.2">𝐷</ci><ci id="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.3.cmml" xref="A1.SS0.SSS0.Px2.p2.3.m3.2.2.1.1.3">′</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p2.3.m3.2c">D,D^{\prime}</annotation></semantics></math> are adjacent if <math id="A1.SS0.SSS0.Px2.p2.4.m4.1" class="ltx_Math" alttext="D^{\prime}" display="inline"><semantics id="A1.SS0.SSS0.Px2.p2.4.m4.1a"><msup id="A1.SS0.SSS0.Px2.p2.4.m4.1.1" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1.cmml"><mi id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.2" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1.2.cmml">D</mi><mo id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.3" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p2.4.m4.1b"><apply id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1">superscript</csymbol><ci id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.2.cmml" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1.2">𝐷</ci><ci id="A1.SS0.SSS0.Px2.p2.4.m4.1.1.3.cmml" xref="A1.SS0.SSS0.Px2.p2.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p2.4.m4.1c">D^{\prime}</annotation></semantics></math> can be formed by adding or removing all of the examples associated with a single user from <math id="A1.SS0.SSS0.Px2.p2.5.m5.1" class="ltx_Math" alttext="D" display="inline"><semantics id="A1.SS0.SSS0.Px2.p2.5.m5.1a"><mi id="A1.SS0.SSS0.Px2.p2.5.m5.1.1" xref="A1.SS0.SSS0.Px2.p2.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p2.5.m5.1b"><ci id="A1.SS0.SSS0.Px2.p2.5.m5.1.1.cmml" xref="A1.SS0.SSS0.Px2.p2.5.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p2.5.m5.1c">D</annotation></semantics></math>.
When a model is trained with user-level DP, one should not be able to tell whether a particular user participated in training the model or not.</p>
</div>
<div id="A1.SS0.SSS0.Px2.p3" class="ltx_para ltx_noindent">
<p id="A1.SS0.SSS0.Px2.p3.1" class="ltx_p">A common approach to applying DP in the PFL context <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite> is using Gaussian mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> where
two additional steps are required in each PFL iteration: 1) the model updates from each user are clipped so that their <math id="A1.SS0.SSS0.Px2.p3.1.m1.1" class="ltx_Math" alttext="L_{2}" display="inline"><semantics id="A1.SS0.SSS0.Px2.p3.1.m1.1a"><msub id="A1.SS0.SSS0.Px2.p3.1.m1.1.1" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1.cmml"><mi id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.2" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1.2.cmml">L</mi><mn id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.3" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p3.1.m1.1b"><apply id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1">subscript</csymbol><ci id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.2.cmml" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1.2">𝐿</ci><cn type="integer" id="A1.SS0.SSS0.Px2.p3.1.m1.1.1.3.cmml" xref="A1.SS0.SSS0.Px2.p3.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p3.1.m1.1c">L_{2}</annotation></semantics></math> norm is upper-bounded to control the sensitivity, and 2) Gaussian noise is added to the aggregated model updates from all sampled users.</p>
</div>
<div id="A1.SS0.SSS0.Px2.p4" class="ltx_para ltx_noindent">
<p id="A1.SS0.SSS0.Px2.p4.1" class="ltx_p">Since PFL training takes multiple iterations, the privacy loss accumulates due to multiple independent accesses to the same data. To consider the total privacy loss over all iterations of training,
the scale of Gaussian noise is calibrated using a privacy accountant, such as Rényi DP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>, privacy loss distribution (PLD) accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> and privacy random variable (PRV) accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>, all of which are included in <span id="A1.SS0.SSS0.Px2.p4.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>.
For the purpose of privacy accounting, we assume that each cohort is formed by Poisson sampling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib85" title="" class="ltx_ref">85</a>]</cite> where each user flips a biased coin to decide whether to participate, and that this sample is hidden from the adversary.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>System design</h2>

<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Data flow</h3>

<figure id="algorithm2e1" class="ltx_float ltx_float_algorithm2e ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm2e1.57.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Generalized federated learning.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="algorithm2e1.7" class="ltx_p ltx_figure_panel"><span id="algorithm2e1.7.1" class="ltx_text"><span id="algorithm2e1.7.1.1" class="ltx_text ltx_font_bold">Input:</span> </span>Initial central model <math id="algorithm2e1.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="algorithm2e1.1.m1.1a"><msub id="algorithm2e1.1.m1.1.1" xref="algorithm2e1.1.m1.1.1.cmml"><mi id="algorithm2e1.1.m1.1.1.2" xref="algorithm2e1.1.m1.1.1.2.cmml">θ</mi><mn id="algorithm2e1.1.m1.1.1.3" xref="algorithm2e1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.1.m1.1b"><apply id="algorithm2e1.1.m1.1.1.cmml" xref="algorithm2e1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm2e1.1.m1.1.1.1.cmml" xref="algorithm2e1.1.m1.1.1">subscript</csymbol><ci id="algorithm2e1.1.m1.1.1.2.cmml" xref="algorithm2e1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm2e1.1.m1.1.1.3.cmml" xref="algorithm2e1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.1.m1.1c">\theta_{0}</annotation></semantics></math>,
<br class="ltx_break">Aggregator <math id="algorithm2e1.2.m2.1" class="ltx_Math" alttext="agg" display="inline"><semantics id="algorithm2e1.2.m2.1a"><mrow id="algorithm2e1.2.m2.1.1" xref="algorithm2e1.2.m2.1.1.cmml"><mi id="algorithm2e1.2.m2.1.1.2" xref="algorithm2e1.2.m2.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.2.m2.1.1.1" xref="algorithm2e1.2.m2.1.1.1.cmml">​</mo><mi id="algorithm2e1.2.m2.1.1.3" xref="algorithm2e1.2.m2.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.2.m2.1.1.1a" xref="algorithm2e1.2.m2.1.1.1.cmml">​</mo><mi id="algorithm2e1.2.m2.1.1.4" xref="algorithm2e1.2.m2.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.2.m2.1b"><apply id="algorithm2e1.2.m2.1.1.cmml" xref="algorithm2e1.2.m2.1.1"><times id="algorithm2e1.2.m2.1.1.1.cmml" xref="algorithm2e1.2.m2.1.1.1"></times><ci id="algorithm2e1.2.m2.1.1.2.cmml" xref="algorithm2e1.2.m2.1.1.2">𝑎</ci><ci id="algorithm2e1.2.m2.1.1.3.cmml" xref="algorithm2e1.2.m2.1.1.3">𝑔</ci><ci id="algorithm2e1.2.m2.1.1.4.cmml" xref="algorithm2e1.2.m2.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.2.m2.1c">agg</annotation></semantics></math>,
<br class="ltx_break">Federated algorithm <math id="algorithm2e1.3.m3.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="algorithm2e1.3.m3.1a"><mrow id="algorithm2e1.3.m3.1.1" xref="algorithm2e1.3.m3.1.1.cmml"><mi id="algorithm2e1.3.m3.1.1.2" xref="algorithm2e1.3.m3.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.3.m3.1.1.1" xref="algorithm2e1.3.m3.1.1.1.cmml">​</mo><mi id="algorithm2e1.3.m3.1.1.3" xref="algorithm2e1.3.m3.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.3.m3.1.1.1a" xref="algorithm2e1.3.m3.1.1.1.cmml">​</mo><mi id="algorithm2e1.3.m3.1.1.4" xref="algorithm2e1.3.m3.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.3.m3.1b"><apply id="algorithm2e1.3.m3.1.1.cmml" xref="algorithm2e1.3.m3.1.1"><times id="algorithm2e1.3.m3.1.1.1.cmml" xref="algorithm2e1.3.m3.1.1.1"></times><ci id="algorithm2e1.3.m3.1.1.2.cmml" xref="algorithm2e1.3.m3.1.1.2">𝑎</ci><ci id="algorithm2e1.3.m3.1.1.3.cmml" xref="algorithm2e1.3.m3.1.1.3">𝑙</ci><ci id="algorithm2e1.3.m3.1.1.4.cmml" xref="algorithm2e1.3.m3.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.3.m3.1c">alg</annotation></semantics></math>,
<br class="ltx_break">Callbacks <math id="algorithm2e1.4.m4.1" class="ltx_Math" alttext="\mathcal{B}" display="inline"><semantics id="algorithm2e1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.4.m4.1.1" xref="algorithm2e1.4.m4.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.4.m4.1b"><ci id="algorithm2e1.4.m4.1.1.cmml" xref="algorithm2e1.4.m4.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.4.m4.1c">\mathcal{B}</annotation></semantics></math>,
<br class="ltx_break">Postprocessors <math id="algorithm2e1.5.m5.1" class="ltx_Math" alttext="\mathcal{P}" display="inline"><semantics id="algorithm2e1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.5.m5.1.1" xref="algorithm2e1.5.m5.1.1.cmml">𝒫</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.5.m5.1b"><ci id="algorithm2e1.5.m5.1.1.cmml" xref="algorithm2e1.5.m5.1.1">𝒫</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.5.m5.1c">\mathcal{P}</annotation></semantics></math>,
<br class="ltx_break">Federated datasets <math id="algorithm2e1.6.m6.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="algorithm2e1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.6.m6.1.1" xref="algorithm2e1.6.m6.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.6.m6.1b"><ci id="algorithm2e1.6.m6.1.1.cmml" xref="algorithm2e1.6.m6.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.6.m6.1c">\mathcal{F}</annotation></semantics></math>,
<br class="ltx_break">A function <math id="algorithm2e1.7.m7.1" class="ltx_Math" alttext="\mathrm{distribute\_sample}" display="inline"><semantics id="algorithm2e1.7.m7.1a"><mrow id="algorithm2e1.7.m7.1.1" xref="algorithm2e1.7.m7.1.1.cmml"><mi id="algorithm2e1.7.m7.1.1.2" xref="algorithm2e1.7.m7.1.1.2.cmml">distribute</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.7.m7.1.1.1" xref="algorithm2e1.7.m7.1.1.1.cmml">​</mo><mi mathvariant="normal" id="algorithm2e1.7.m7.1.1.3" xref="algorithm2e1.7.m7.1.1.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.7.m7.1.1.1a" xref="algorithm2e1.7.m7.1.1.1.cmml">​</mo><mi id="algorithm2e1.7.m7.1.1.4" xref="algorithm2e1.7.m7.1.1.4.cmml">sample</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.7.m7.1b"><apply id="algorithm2e1.7.m7.1.1.cmml" xref="algorithm2e1.7.m7.1.1"><times id="algorithm2e1.7.m7.1.1.1.cmml" xref="algorithm2e1.7.m7.1.1.1"></times><ci id="algorithm2e1.7.m7.1.1.2.cmml" xref="algorithm2e1.7.m7.1.1.2">distribute</ci><ci id="algorithm2e1.7.m7.1.1.3.cmml" xref="algorithm2e1.7.m7.1.1.3">_</ci><ci id="algorithm2e1.7.m7.1.1.4.cmml" xref="algorithm2e1.7.m7.1.1.4">sample</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.7.m7.1c">\mathrm{distribute\_sample}</annotation></semantics></math> that samples a cohort of users from a federated dataset and distributes the cohort to workers,
<br class="ltx_break"></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="algorithm2e1.9" class="ltx_p ltx_figure_panel"><math id="algorithm2e1.8.m1.1" class="ltx_Math" alttext="t\leftarrow 0" display="inline"><semantics id="algorithm2e1.8.m1.1a"><mrow id="algorithm2e1.8.m1.1.1" xref="algorithm2e1.8.m1.1.1.cmml"><mi id="algorithm2e1.8.m1.1.1.2" xref="algorithm2e1.8.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="algorithm2e1.8.m1.1.1.1" xref="algorithm2e1.8.m1.1.1.1.cmml">←</mo><mn id="algorithm2e1.8.m1.1.1.3" xref="algorithm2e1.8.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.8.m1.1b"><apply id="algorithm2e1.8.m1.1.1.cmml" xref="algorithm2e1.8.m1.1.1"><ci id="algorithm2e1.8.m1.1.1.1.cmml" xref="algorithm2e1.8.m1.1.1.1">←</ci><ci id="algorithm2e1.8.m1.1.1.2.cmml" xref="algorithm2e1.8.m1.1.1.2">𝑡</ci><cn type="integer" id="algorithm2e1.8.m1.1.1.3.cmml" xref="algorithm2e1.8.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.8.m1.1c">t\leftarrow 0</annotation></semantics></math> , <math id="algorithm2e1.9.m2.1" class="ltx_Math" alttext="stop\leftarrow False" display="inline"><semantics id="algorithm2e1.9.m2.1a"><mrow id="algorithm2e1.9.m2.1.1" xref="algorithm2e1.9.m2.1.1.cmml"><mrow id="algorithm2e1.9.m2.1.1.2" xref="algorithm2e1.9.m2.1.1.2.cmml"><mi id="algorithm2e1.9.m2.1.1.2.2" xref="algorithm2e1.9.m2.1.1.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.2.1" xref="algorithm2e1.9.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.2.3" xref="algorithm2e1.9.m2.1.1.2.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.2.1a" xref="algorithm2e1.9.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.2.4" xref="algorithm2e1.9.m2.1.1.2.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.2.1b" xref="algorithm2e1.9.m2.1.1.2.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.2.5" xref="algorithm2e1.9.m2.1.1.2.5.cmml">p</mi></mrow><mo stretchy="false" id="algorithm2e1.9.m2.1.1.1" xref="algorithm2e1.9.m2.1.1.1.cmml">←</mo><mrow id="algorithm2e1.9.m2.1.1.3" xref="algorithm2e1.9.m2.1.1.3.cmml"><mi id="algorithm2e1.9.m2.1.1.3.2" xref="algorithm2e1.9.m2.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.3.1" xref="algorithm2e1.9.m2.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.3.3" xref="algorithm2e1.9.m2.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.3.1a" xref="algorithm2e1.9.m2.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.3.4" xref="algorithm2e1.9.m2.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.3.1b" xref="algorithm2e1.9.m2.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.3.5" xref="algorithm2e1.9.m2.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.9.m2.1.1.3.1c" xref="algorithm2e1.9.m2.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.9.m2.1.1.3.6" xref="algorithm2e1.9.m2.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.9.m2.1b"><apply id="algorithm2e1.9.m2.1.1.cmml" xref="algorithm2e1.9.m2.1.1"><ci id="algorithm2e1.9.m2.1.1.1.cmml" xref="algorithm2e1.9.m2.1.1.1">←</ci><apply id="algorithm2e1.9.m2.1.1.2.cmml" xref="algorithm2e1.9.m2.1.1.2"><times id="algorithm2e1.9.m2.1.1.2.1.cmml" xref="algorithm2e1.9.m2.1.1.2.1"></times><ci id="algorithm2e1.9.m2.1.1.2.2.cmml" xref="algorithm2e1.9.m2.1.1.2.2">𝑠</ci><ci id="algorithm2e1.9.m2.1.1.2.3.cmml" xref="algorithm2e1.9.m2.1.1.2.3">𝑡</ci><ci id="algorithm2e1.9.m2.1.1.2.4.cmml" xref="algorithm2e1.9.m2.1.1.2.4">𝑜</ci><ci id="algorithm2e1.9.m2.1.1.2.5.cmml" xref="algorithm2e1.9.m2.1.1.2.5">𝑝</ci></apply><apply id="algorithm2e1.9.m2.1.1.3.cmml" xref="algorithm2e1.9.m2.1.1.3"><times id="algorithm2e1.9.m2.1.1.3.1.cmml" xref="algorithm2e1.9.m2.1.1.3.1"></times><ci id="algorithm2e1.9.m2.1.1.3.2.cmml" xref="algorithm2e1.9.m2.1.1.3.2">𝐹</ci><ci id="algorithm2e1.9.m2.1.1.3.3.cmml" xref="algorithm2e1.9.m2.1.1.3.3">𝑎</ci><ci id="algorithm2e1.9.m2.1.1.3.4.cmml" xref="algorithm2e1.9.m2.1.1.3.4">𝑙</ci><ci id="algorithm2e1.9.m2.1.1.3.5.cmml" xref="algorithm2e1.9.m2.1.1.3.5">𝑠</ci><ci id="algorithm2e1.9.m2.1.1.3.6.cmml" xref="algorithm2e1.9.m2.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.9.m2.1c">stop\leftarrow False</annotation></semantics></math></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="algorithm2e1.58" class="ltx_p ltx_figure_panel"><span id="algorithm2e1.58.1" class="ltx_text ltx_font_bold">repeat</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.59" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e1.15.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.15.3.1" class="ltx_text">/* </span></span><span id="algorithm2e1.10.1" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> The algorithm generates a set of contexts <math id="algorithm2e1.10.1.m1.1" class="ltx_Math" alttext="\mathcal{C}" display="inline"><semantics id="algorithm2e1.10.1.m1.1a"><mi class="ltx_font_mathcaligraphic" mathcolor="#0000FF" id="algorithm2e1.10.1.m1.1.1" xref="algorithm2e1.10.1.m1.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.10.1.m1.1b"><ci id="algorithm2e1.10.1.m1.1.1.cmml" xref="algorithm2e1.10.1.m1.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.10.1.m1.1c">\mathcal{C}</annotation></semantics></math> which are instructions on how to gather results from cohorts. May modify model in preparation for this iteration.  */</span>
(<math id="algorithm2e1.11.m1.1" class="ltx_math_unparsed" alttext="\mathcal{C},\theta_{t}^{\prime})\leftarrow" display="inline"><semantics id="algorithm2e1.11.m1.1a"><mrow id="algorithm2e1.11.m1.1b"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.11.m1.1.1">𝒞</mi><mo id="algorithm2e1.11.m1.1.2">,</mo><msubsup id="algorithm2e1.11.m1.1.3"><mi id="algorithm2e1.11.m1.1.3.2.2">θ</mi><mi id="algorithm2e1.11.m1.1.3.2.3">t</mi><mo id="algorithm2e1.11.m1.1.3.3">′</mo></msubsup><mo stretchy="false" id="algorithm2e1.11.m1.1.4">)</mo><mo stretchy="false" id="algorithm2e1.11.m1.1.5">←</mo></mrow><annotation encoding="application/x-tex" id="algorithm2e1.11.m1.1c">\mathcal{C},\theta_{t}^{\prime})\leftarrow</annotation></semantics></math> <math id="algorithm2e1.12.m2.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="algorithm2e1.12.m2.1a"><mrow id="algorithm2e1.12.m2.1.1" xref="algorithm2e1.12.m2.1.1.cmml"><mi id="algorithm2e1.12.m2.1.1.2" xref="algorithm2e1.12.m2.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.12.m2.1.1.1" xref="algorithm2e1.12.m2.1.1.1.cmml">​</mo><mi id="algorithm2e1.12.m2.1.1.3" xref="algorithm2e1.12.m2.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.12.m2.1.1.1a" xref="algorithm2e1.12.m2.1.1.1.cmml">​</mo><mi id="algorithm2e1.12.m2.1.1.4" xref="algorithm2e1.12.m2.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.12.m2.1b"><apply id="algorithm2e1.12.m2.1.1.cmml" xref="algorithm2e1.12.m2.1.1"><times id="algorithm2e1.12.m2.1.1.1.cmml" xref="algorithm2e1.12.m2.1.1.1"></times><ci id="algorithm2e1.12.m2.1.1.2.cmml" xref="algorithm2e1.12.m2.1.1.2">𝑎</ci><ci id="algorithm2e1.12.m2.1.1.3.cmml" xref="algorithm2e1.12.m2.1.1.3">𝑙</ci><ci id="algorithm2e1.12.m2.1.1.4.cmml" xref="algorithm2e1.12.m2.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.12.m2.1c">alg</annotation></semantics></math>.get_next_central_contexts(<math id="algorithm2e1.13.m3.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="algorithm2e1.13.m3.1a"><msub id="algorithm2e1.13.m3.1.1" xref="algorithm2e1.13.m3.1.1.cmml"><mi id="algorithm2e1.13.m3.1.1.2" xref="algorithm2e1.13.m3.1.1.2.cmml">θ</mi><mi id="algorithm2e1.13.m3.1.1.3" xref="algorithm2e1.13.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.13.m3.1b"><apply id="algorithm2e1.13.m3.1.1.cmml" xref="algorithm2e1.13.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.13.m3.1.1.1.cmml" xref="algorithm2e1.13.m3.1.1">subscript</csymbol><ci id="algorithm2e1.13.m3.1.1.2.cmml" xref="algorithm2e1.13.m3.1.1.2">𝜃</ci><ci id="algorithm2e1.13.m3.1.1.3.cmml" xref="algorithm2e1.13.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.13.m3.1c">\theta_{t}</annotation></semantics></math>, <math id="algorithm2e1.14.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="algorithm2e1.14.m4.1a"><mi id="algorithm2e1.14.m4.1.1" xref="algorithm2e1.14.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.14.m4.1b"><ci id="algorithm2e1.14.m4.1.1.cmml" xref="algorithm2e1.14.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.14.m4.1c">t</annotation></semantics></math>) 
<span id="algorithm2e1.15.4" class="ltx_text ltx_font_bold">if</span> <em id="algorithm2e1.15.2" class="ltx_emph ltx_font_italic"><math id="algorithm2e1.15.2.m1.1" class="ltx_Math" alttext="\mathcal{C}=\emptyset" display="inline"><semantics id="algorithm2e1.15.2.m1.1a"><mrow id="algorithm2e1.15.2.m1.1.1" xref="algorithm2e1.15.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.15.2.m1.1.1.2" xref="algorithm2e1.15.2.m1.1.1.2.cmml">𝒞</mi><mo id="algorithm2e1.15.2.m1.1.1.1" xref="algorithm2e1.15.2.m1.1.1.1.cmml">=</mo><mi mathvariant="normal" id="algorithm2e1.15.2.m1.1.1.3" xref="algorithm2e1.15.2.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.15.2.m1.1b"><apply id="algorithm2e1.15.2.m1.1.1.cmml" xref="algorithm2e1.15.2.m1.1.1"><eq id="algorithm2e1.15.2.m1.1.1.1.cmml" xref="algorithm2e1.15.2.m1.1.1.1"></eq><ci id="algorithm2e1.15.2.m1.1.1.2.cmml" xref="algorithm2e1.15.2.m1.1.1.2">𝒞</ci><emptyset id="algorithm2e1.15.2.m1.1.1.3.cmml" xref="algorithm2e1.15.2.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.15.2.m1.1c">\mathcal{C}=\emptyset</annotation></semantics></math></em> <span id="algorithm2e1.15.5" class="ltx_text ltx_font_bold">then</span>
</div>
<div id="algorithm2e1.59.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e1.59.1.1" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.59.1.1.1" class="ltx_text">// </span></span><span id="algorithm2e1.59.1.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> Algorithm signaled that training should end. </span>
<span id="algorithm2e1.59.1.3" class="ltx_text ltx_font_bold">break</span> 

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.60" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm2e1.16.m1.1" class="ltx_Math" alttext="\mathcal{S}\leftarrow\emptyset" display="inline"><semantics id="algorithm2e1.16.m1.1a"><mrow id="algorithm2e1.16.m1.1.1" xref="algorithm2e1.16.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.16.m1.1.1.2" xref="algorithm2e1.16.m1.1.1.2.cmml">𝒮</mi><mo stretchy="false" id="algorithm2e1.16.m1.1.1.1" xref="algorithm2e1.16.m1.1.1.1.cmml">←</mo><mi mathvariant="normal" id="algorithm2e1.16.m1.1.1.3" xref="algorithm2e1.16.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.16.m1.1b"><apply id="algorithm2e1.16.m1.1.1.cmml" xref="algorithm2e1.16.m1.1.1"><ci id="algorithm2e1.16.m1.1.1.1.cmml" xref="algorithm2e1.16.m1.1.1.1">←</ci><ci id="algorithm2e1.16.m1.1.1.2.cmml" xref="algorithm2e1.16.m1.1.1.2">𝒮</ci><emptyset id="algorithm2e1.16.m1.1.1.3.cmml" xref="algorithm2e1.16.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.16.m1.1c">\mathcal{S}\leftarrow\emptyset</annotation></semantics></math> 
<span id="algorithm2e1.17.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.17.2.1" class="ltx_text">/* </span></span><span id="algorithm2e1.17.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> Sample a cohort and get aggregated results for each context. This is done by the Backend in the implementation.  */</span>
<span id="algorithm2e1.17.4" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.17.1" class="ltx_emph ltx_font_italic">central context <math id="algorithm2e1.17.1.m1.1" class="ltx_Math" alttext="c_{i}\in\mathcal{C}" display="inline"><semantics id="algorithm2e1.17.1.m1.1a"><mrow id="algorithm2e1.17.1.m1.1.1" xref="algorithm2e1.17.1.m1.1.1.cmml"><msub id="algorithm2e1.17.1.m1.1.1.2" xref="algorithm2e1.17.1.m1.1.1.2.cmml"><mi id="algorithm2e1.17.1.m1.1.1.2.2" xref="algorithm2e1.17.1.m1.1.1.2.2.cmml">c</mi><mi id="algorithm2e1.17.1.m1.1.1.2.3" xref="algorithm2e1.17.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="algorithm2e1.17.1.m1.1.1.1" xref="algorithm2e1.17.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.17.1.m1.1.1.3" xref="algorithm2e1.17.1.m1.1.1.3.cmml">𝒞</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.17.1.m1.1b"><apply id="algorithm2e1.17.1.m1.1.1.cmml" xref="algorithm2e1.17.1.m1.1.1"><in id="algorithm2e1.17.1.m1.1.1.1.cmml" xref="algorithm2e1.17.1.m1.1.1.1"></in><apply id="algorithm2e1.17.1.m1.1.1.2.cmml" xref="algorithm2e1.17.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm2e1.17.1.m1.1.1.2.1.cmml" xref="algorithm2e1.17.1.m1.1.1.2">subscript</csymbol><ci id="algorithm2e1.17.1.m1.1.1.2.2.cmml" xref="algorithm2e1.17.1.m1.1.1.2.2">𝑐</ci><ci id="algorithm2e1.17.1.m1.1.1.2.3.cmml" xref="algorithm2e1.17.1.m1.1.1.2.3">𝑖</ci></apply><ci id="algorithm2e1.17.1.m1.1.1.3.cmml" xref="algorithm2e1.17.1.m1.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.17.1.m1.1c">c_{i}\in\mathcal{C}</annotation></semantics></math></em> <span id="algorithm2e1.17.5" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="algorithm2e1.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e1.18.m1.1" class="ltx_Math" alttext="D\leftarrow" display="inline"><semantics id="algorithm2e1.18.m1.1a"><mrow id="algorithm2e1.18.m1.1.1" xref="algorithm2e1.18.m1.1.1.cmml"><mi id="algorithm2e1.18.m1.1.1.2" xref="algorithm2e1.18.m1.1.1.2.cmml">D</mi><mo stretchy="false" id="algorithm2e1.18.m1.1.1.1" xref="algorithm2e1.18.m1.1.1.1.cmml">←</mo><mi id="algorithm2e1.18.m1.1.1.3" xref="algorithm2e1.18.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.18.m1.1b"><apply id="algorithm2e1.18.m1.1.1.cmml" xref="algorithm2e1.18.m1.1.1"><ci id="algorithm2e1.18.m1.1.1.1.cmml" xref="algorithm2e1.18.m1.1.1.1">←</ci><ci id="algorithm2e1.18.m1.1.1.2.cmml" xref="algorithm2e1.18.m1.1.1.2">𝐷</ci><csymbol cd="latexml" id="algorithm2e1.18.m1.1.1.3.cmml" xref="algorithm2e1.18.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.18.m1.1c">D\leftarrow</annotation></semantics></math> get_federated_dataset(<math id="algorithm2e1.19.m2.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="algorithm2e1.19.m2.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.19.m2.1.1" xref="algorithm2e1.19.m2.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.19.m2.1b"><ci id="algorithm2e1.19.m2.1.1.cmml" xref="algorithm2e1.19.m2.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.19.m2.1c">\mathcal{F}</annotation></semantics></math>, <math id="algorithm2e1.20.m3.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="algorithm2e1.20.m3.1a"><msub id="algorithm2e1.20.m3.1.1" xref="algorithm2e1.20.m3.1.1.cmml"><mi id="algorithm2e1.20.m3.1.1.2" xref="algorithm2e1.20.m3.1.1.2.cmml">c</mi><mi id="algorithm2e1.20.m3.1.1.3" xref="algorithm2e1.20.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.20.m3.1b"><apply id="algorithm2e1.20.m3.1.1.cmml" xref="algorithm2e1.20.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.20.m3.1.1.1.cmml" xref="algorithm2e1.20.m3.1.1">subscript</csymbol><ci id="algorithm2e1.20.m3.1.1.2.cmml" xref="algorithm2e1.20.m3.1.1.2">𝑐</ci><ci id="algorithm2e1.20.m3.1.1.3.cmml" xref="algorithm2e1.20.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.20.m3.1c">c_{i}</annotation></semantics></math>.population) 
<span id="algorithm2e1.21.2" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.21.1" class="ltx_emph ltx_font_italic">worker <math id="algorithm2e1.21.1.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2e1.21.1.m1.1a"><mi id="algorithm2e1.21.1.m1.1.1" xref="algorithm2e1.21.1.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.21.1.m1.1b"><ci id="algorithm2e1.21.1.m1.1.1.cmml" xref="algorithm2e1.21.1.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.21.1.m1.1c">w</annotation></semantics></math> <span id="algorithm2e1.21.1.1" class="ltx_text ltx_font_bold ltx_font_upright">in parallel</span></em> <span id="algorithm2e1.21.3" class="ltx_text ltx_font_bold">do</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.61" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e1.22.m1.2" class="ltx_Math" alttext="\Delta^{w}_{t,i}\leftarrow null" display="inline"><semantics id="algorithm2e1.22.m1.2a"><mrow id="algorithm2e1.22.m1.2.3" xref="algorithm2e1.22.m1.2.3.cmml"><msubsup id="algorithm2e1.22.m1.2.3.2" xref="algorithm2e1.22.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.22.m1.2.3.2.2.2" xref="algorithm2e1.22.m1.2.3.2.2.2.cmml">Δ</mi><mrow id="algorithm2e1.22.m1.2.2.2.4" xref="algorithm2e1.22.m1.2.2.2.3.cmml"><mi id="algorithm2e1.22.m1.1.1.1.1" xref="algorithm2e1.22.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.22.m1.2.2.2.4.1" xref="algorithm2e1.22.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.22.m1.2.2.2.2" xref="algorithm2e1.22.m1.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.22.m1.2.3.2.2.3" xref="algorithm2e1.22.m1.2.3.2.2.3.cmml">w</mi></msubsup><mo stretchy="false" id="algorithm2e1.22.m1.2.3.1" xref="algorithm2e1.22.m1.2.3.1.cmml">←</mo><mrow id="algorithm2e1.22.m1.2.3.3" xref="algorithm2e1.22.m1.2.3.3.cmml"><mi id="algorithm2e1.22.m1.2.3.3.2" xref="algorithm2e1.22.m1.2.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.22.m1.2.3.3.1" xref="algorithm2e1.22.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.22.m1.2.3.3.3" xref="algorithm2e1.22.m1.2.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.22.m1.2.3.3.1a" xref="algorithm2e1.22.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.22.m1.2.3.3.4" xref="algorithm2e1.22.m1.2.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.22.m1.2.3.3.1b" xref="algorithm2e1.22.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.22.m1.2.3.3.5" xref="algorithm2e1.22.m1.2.3.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.22.m1.2b"><apply id="algorithm2e1.22.m1.2.3.cmml" xref="algorithm2e1.22.m1.2.3"><ci id="algorithm2e1.22.m1.2.3.1.cmml" xref="algorithm2e1.22.m1.2.3.1">←</ci><apply id="algorithm2e1.22.m1.2.3.2.cmml" xref="algorithm2e1.22.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.22.m1.2.3.2.1.cmml" xref="algorithm2e1.22.m1.2.3.2">subscript</csymbol><apply id="algorithm2e1.22.m1.2.3.2.2.cmml" xref="algorithm2e1.22.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.22.m1.2.3.2.2.1.cmml" xref="algorithm2e1.22.m1.2.3.2">superscript</csymbol><ci id="algorithm2e1.22.m1.2.3.2.2.2.cmml" xref="algorithm2e1.22.m1.2.3.2.2.2">Δ</ci><ci id="algorithm2e1.22.m1.2.3.2.2.3.cmml" xref="algorithm2e1.22.m1.2.3.2.2.3">𝑤</ci></apply><list id="algorithm2e1.22.m1.2.2.2.3.cmml" xref="algorithm2e1.22.m1.2.2.2.4"><ci id="algorithm2e1.22.m1.1.1.1.1.cmml" xref="algorithm2e1.22.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.22.m1.2.2.2.2.cmml" xref="algorithm2e1.22.m1.2.2.2.2">𝑖</ci></list></apply><apply id="algorithm2e1.22.m1.2.3.3.cmml" xref="algorithm2e1.22.m1.2.3.3"><times id="algorithm2e1.22.m1.2.3.3.1.cmml" xref="algorithm2e1.22.m1.2.3.3.1"></times><ci id="algorithm2e1.22.m1.2.3.3.2.cmml" xref="algorithm2e1.22.m1.2.3.3.2">𝑛</ci><ci id="algorithm2e1.22.m1.2.3.3.3.cmml" xref="algorithm2e1.22.m1.2.3.3.3">𝑢</ci><ci id="algorithm2e1.22.m1.2.3.3.4.cmml" xref="algorithm2e1.22.m1.2.3.3.4">𝑙</ci><ci id="algorithm2e1.22.m1.2.3.3.5.cmml" xref="algorithm2e1.22.m1.2.3.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.22.m1.2c">\Delta^{w}_{t,i}\leftarrow null</annotation></semantics></math> 
<span id="algorithm2e1.23.2" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.23.1" class="ltx_emph ltx_font_italic">user dataset <math id="algorithm2e1.23.1.m1.2" class="ltx_math_unparsed" alttext="d_{u}\in\mathrm{distributed\_sample}(D,w,c_{i}.\mathrm{cohort\_size)}" display="inline"><semantics id="algorithm2e1.23.1.m1.2a"><mrow id="algorithm2e1.23.1.m1.2b"><msub id="algorithm2e1.23.1.m1.2.3"><mi id="algorithm2e1.23.1.m1.2.3.2">d</mi><mi id="algorithm2e1.23.1.m1.2.3.3">u</mi></msub><mo id="algorithm2e1.23.1.m1.2.4">∈</mo><mi id="algorithm2e1.23.1.m1.2.5">distributed</mi><mi mathvariant="normal" id="algorithm2e1.23.1.m1.2.6">_</mi><mi id="algorithm2e1.23.1.m1.2.7">sample</mi><mrow id="algorithm2e1.23.1.m1.2.8"><mo stretchy="false" id="algorithm2e1.23.1.m1.2.8.1">(</mo><mi id="algorithm2e1.23.1.m1.1.1">D</mi><mo id="algorithm2e1.23.1.m1.2.8.2">,</mo><mi id="algorithm2e1.23.1.m1.2.2">w</mi><mo id="algorithm2e1.23.1.m1.2.8.3">,</mo><msub id="algorithm2e1.23.1.m1.2.8.4"><mi id="algorithm2e1.23.1.m1.2.8.4.2">c</mi><mi id="algorithm2e1.23.1.m1.2.8.4.3">i</mi></msub><mo lspace="0em" rspace="0.167em" id="algorithm2e1.23.1.m1.2.8.5">.</mo><mi id="algorithm2e1.23.1.m1.2.8.6">cohort</mi><mi mathvariant="normal" id="algorithm2e1.23.1.m1.2.8.7">_</mi><mi id="algorithm2e1.23.1.m1.2.8.8">size</mi><mo stretchy="false" id="algorithm2e1.23.1.m1.2.8.9">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="algorithm2e1.23.1.m1.2c">d_{u}\in\mathrm{distributed\_sample}(D,w,c_{i}.\mathrm{cohort\_size)}</annotation></semantics></math></em> <span id="algorithm2e1.23.3" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="algorithm2e1.28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e1.24.m1.4" class="ltx_Math" alttext="(\Delta_{t,i}^{u},aux_{u})\leftarrow alg" display="inline"><semantics id="algorithm2e1.24.m1.4a"><mrow id="algorithm2e1.24.m1.4.4" xref="algorithm2e1.24.m1.4.4.cmml"><mrow id="algorithm2e1.24.m1.4.4.2.2" xref="algorithm2e1.24.m1.4.4.2.3.cmml"><mo stretchy="false" id="algorithm2e1.24.m1.4.4.2.2.3" xref="algorithm2e1.24.m1.4.4.2.3.cmml">(</mo><msubsup id="algorithm2e1.24.m1.3.3.1.1.1" xref="algorithm2e1.24.m1.3.3.1.1.1.cmml"><mi mathvariant="normal" id="algorithm2e1.24.m1.3.3.1.1.1.2.2" xref="algorithm2e1.24.m1.3.3.1.1.1.2.2.cmml">Δ</mi><mrow id="algorithm2e1.24.m1.2.2.2.4" xref="algorithm2e1.24.m1.2.2.2.3.cmml"><mi id="algorithm2e1.24.m1.1.1.1.1" xref="algorithm2e1.24.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.24.m1.2.2.2.4.1" xref="algorithm2e1.24.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.24.m1.2.2.2.2" xref="algorithm2e1.24.m1.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.24.m1.3.3.1.1.1.3" xref="algorithm2e1.24.m1.3.3.1.1.1.3.cmml">u</mi></msubsup><mo id="algorithm2e1.24.m1.4.4.2.2.4" xref="algorithm2e1.24.m1.4.4.2.3.cmml">,</mo><mrow id="algorithm2e1.24.m1.4.4.2.2.2" xref="algorithm2e1.24.m1.4.4.2.2.2.cmml"><mi id="algorithm2e1.24.m1.4.4.2.2.2.2" xref="algorithm2e1.24.m1.4.4.2.2.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.24.m1.4.4.2.2.2.1" xref="algorithm2e1.24.m1.4.4.2.2.2.1.cmml">​</mo><mi id="algorithm2e1.24.m1.4.4.2.2.2.3" xref="algorithm2e1.24.m1.4.4.2.2.2.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.24.m1.4.4.2.2.2.1a" xref="algorithm2e1.24.m1.4.4.2.2.2.1.cmml">​</mo><msub id="algorithm2e1.24.m1.4.4.2.2.2.4" xref="algorithm2e1.24.m1.4.4.2.2.2.4.cmml"><mi id="algorithm2e1.24.m1.4.4.2.2.2.4.2" xref="algorithm2e1.24.m1.4.4.2.2.2.4.2.cmml">x</mi><mi id="algorithm2e1.24.m1.4.4.2.2.2.4.3" xref="algorithm2e1.24.m1.4.4.2.2.2.4.3.cmml">u</mi></msub></mrow><mo stretchy="false" id="algorithm2e1.24.m1.4.4.2.2.5" xref="algorithm2e1.24.m1.4.4.2.3.cmml">)</mo></mrow><mo stretchy="false" id="algorithm2e1.24.m1.4.4.3" xref="algorithm2e1.24.m1.4.4.3.cmml">←</mo><mrow id="algorithm2e1.24.m1.4.4.4" xref="algorithm2e1.24.m1.4.4.4.cmml"><mi id="algorithm2e1.24.m1.4.4.4.2" xref="algorithm2e1.24.m1.4.4.4.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.24.m1.4.4.4.1" xref="algorithm2e1.24.m1.4.4.4.1.cmml">​</mo><mi id="algorithm2e1.24.m1.4.4.4.3" xref="algorithm2e1.24.m1.4.4.4.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.24.m1.4.4.4.1a" xref="algorithm2e1.24.m1.4.4.4.1.cmml">​</mo><mi id="algorithm2e1.24.m1.4.4.4.4" xref="algorithm2e1.24.m1.4.4.4.4.cmml">g</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.24.m1.4b"><apply id="algorithm2e1.24.m1.4.4.cmml" xref="algorithm2e1.24.m1.4.4"><ci id="algorithm2e1.24.m1.4.4.3.cmml" xref="algorithm2e1.24.m1.4.4.3">←</ci><interval closure="open" id="algorithm2e1.24.m1.4.4.2.3.cmml" xref="algorithm2e1.24.m1.4.4.2.2"><apply id="algorithm2e1.24.m1.3.3.1.1.1.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="algorithm2e1.24.m1.3.3.1.1.1.1.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1">superscript</csymbol><apply id="algorithm2e1.24.m1.3.3.1.1.1.2.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="algorithm2e1.24.m1.3.3.1.1.1.2.1.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1">subscript</csymbol><ci id="algorithm2e1.24.m1.3.3.1.1.1.2.2.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1.2.2">Δ</ci><list id="algorithm2e1.24.m1.2.2.2.3.cmml" xref="algorithm2e1.24.m1.2.2.2.4"><ci id="algorithm2e1.24.m1.1.1.1.1.cmml" xref="algorithm2e1.24.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.24.m1.2.2.2.2.cmml" xref="algorithm2e1.24.m1.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.24.m1.3.3.1.1.1.3.cmml" xref="algorithm2e1.24.m1.3.3.1.1.1.3">𝑢</ci></apply><apply id="algorithm2e1.24.m1.4.4.2.2.2.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2"><times id="algorithm2e1.24.m1.4.4.2.2.2.1.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.1"></times><ci id="algorithm2e1.24.m1.4.4.2.2.2.2.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.2">𝑎</ci><ci id="algorithm2e1.24.m1.4.4.2.2.2.3.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.3">𝑢</ci><apply id="algorithm2e1.24.m1.4.4.2.2.2.4.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.4"><csymbol cd="ambiguous" id="algorithm2e1.24.m1.4.4.2.2.2.4.1.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.4">subscript</csymbol><ci id="algorithm2e1.24.m1.4.4.2.2.2.4.2.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.4.2">𝑥</ci><ci id="algorithm2e1.24.m1.4.4.2.2.2.4.3.cmml" xref="algorithm2e1.24.m1.4.4.2.2.2.4.3">𝑢</ci></apply></apply></interval><apply id="algorithm2e1.24.m1.4.4.4.cmml" xref="algorithm2e1.24.m1.4.4.4"><times id="algorithm2e1.24.m1.4.4.4.1.cmml" xref="algorithm2e1.24.m1.4.4.4.1"></times><ci id="algorithm2e1.24.m1.4.4.4.2.cmml" xref="algorithm2e1.24.m1.4.4.4.2">𝑎</ci><ci id="algorithm2e1.24.m1.4.4.4.3.cmml" xref="algorithm2e1.24.m1.4.4.4.3">𝑙</ci><ci id="algorithm2e1.24.m1.4.4.4.4.cmml" xref="algorithm2e1.24.m1.4.4.4.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.24.m1.4c">(\Delta_{t,i}^{u},aux_{u})\leftarrow alg</annotation></semantics></math>.simulate_one_user(<math id="algorithm2e1.25.m2.1" class="ltx_Math" alttext="\theta_{t}^{\prime}" display="inline"><semantics id="algorithm2e1.25.m2.1a"><msubsup id="algorithm2e1.25.m2.1.1" xref="algorithm2e1.25.m2.1.1.cmml"><mi id="algorithm2e1.25.m2.1.1.2.2" xref="algorithm2e1.25.m2.1.1.2.2.cmml">θ</mi><mi id="algorithm2e1.25.m2.1.1.2.3" xref="algorithm2e1.25.m2.1.1.2.3.cmml">t</mi><mo id="algorithm2e1.25.m2.1.1.3" xref="algorithm2e1.25.m2.1.1.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.25.m2.1b"><apply id="algorithm2e1.25.m2.1.1.cmml" xref="algorithm2e1.25.m2.1.1"><csymbol cd="ambiguous" id="algorithm2e1.25.m2.1.1.1.cmml" xref="algorithm2e1.25.m2.1.1">superscript</csymbol><apply id="algorithm2e1.25.m2.1.1.2.cmml" xref="algorithm2e1.25.m2.1.1"><csymbol cd="ambiguous" id="algorithm2e1.25.m2.1.1.2.1.cmml" xref="algorithm2e1.25.m2.1.1">subscript</csymbol><ci id="algorithm2e1.25.m2.1.1.2.2.cmml" xref="algorithm2e1.25.m2.1.1.2.2">𝜃</ci><ci id="algorithm2e1.25.m2.1.1.2.3.cmml" xref="algorithm2e1.25.m2.1.1.2.3">𝑡</ci></apply><ci id="algorithm2e1.25.m2.1.1.3.cmml" xref="algorithm2e1.25.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.25.m2.1c">\theta_{t}^{\prime}</annotation></semantics></math>, <math id="algorithm2e1.26.m3.1" class="ltx_Math" alttext="d_{u}" display="inline"><semantics id="algorithm2e1.26.m3.1a"><msub id="algorithm2e1.26.m3.1.1" xref="algorithm2e1.26.m3.1.1.cmml"><mi id="algorithm2e1.26.m3.1.1.2" xref="algorithm2e1.26.m3.1.1.2.cmml">d</mi><mi id="algorithm2e1.26.m3.1.1.3" xref="algorithm2e1.26.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.26.m3.1b"><apply id="algorithm2e1.26.m3.1.1.cmml" xref="algorithm2e1.26.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.26.m3.1.1.1.cmml" xref="algorithm2e1.26.m3.1.1">subscript</csymbol><ci id="algorithm2e1.26.m3.1.1.2.cmml" xref="algorithm2e1.26.m3.1.1.2">𝑑</ci><ci id="algorithm2e1.26.m3.1.1.3.cmml" xref="algorithm2e1.26.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.26.m3.1c">d_{u}</annotation></semantics></math>, <math id="algorithm2e1.27.m4.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="algorithm2e1.27.m4.1a"><msub id="algorithm2e1.27.m4.1.1" xref="algorithm2e1.27.m4.1.1.cmml"><mi id="algorithm2e1.27.m4.1.1.2" xref="algorithm2e1.27.m4.1.1.2.cmml">c</mi><mi id="algorithm2e1.27.m4.1.1.3" xref="algorithm2e1.27.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.27.m4.1b"><apply id="algorithm2e1.27.m4.1.1.cmml" xref="algorithm2e1.27.m4.1.1"><csymbol cd="ambiguous" id="algorithm2e1.27.m4.1.1.1.cmml" xref="algorithm2e1.27.m4.1.1">subscript</csymbol><ci id="algorithm2e1.27.m4.1.1.2.cmml" xref="algorithm2e1.27.m4.1.1.2">𝑐</ci><ci id="algorithm2e1.27.m4.1.1.3.cmml" xref="algorithm2e1.27.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.27.m4.1c">c_{i}</annotation></semantics></math>) 
<span id="algorithm2e1.28.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm2e1.28.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e1.28.1.m1.2" class="ltx_Math" alttext="\Delta_{t,i}^{u}\neq null" display="inline"><semantics id="algorithm2e1.28.1.m1.2a"><mrow id="algorithm2e1.28.1.m1.2.3" xref="algorithm2e1.28.1.m1.2.3.cmml"><msubsup id="algorithm2e1.28.1.m1.2.3.2" xref="algorithm2e1.28.1.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.28.1.m1.2.3.2.2.2" xref="algorithm2e1.28.1.m1.2.3.2.2.2.cmml">Δ</mi><mrow id="algorithm2e1.28.1.m1.2.2.2.4" xref="algorithm2e1.28.1.m1.2.2.2.3.cmml"><mi id="algorithm2e1.28.1.m1.1.1.1.1" xref="algorithm2e1.28.1.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.28.1.m1.2.2.2.4.1" xref="algorithm2e1.28.1.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.28.1.m1.2.2.2.2" xref="algorithm2e1.28.1.m1.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.28.1.m1.2.3.2.3" xref="algorithm2e1.28.1.m1.2.3.2.3.cmml">u</mi></msubsup><mo id="algorithm2e1.28.1.m1.2.3.1" xref="algorithm2e1.28.1.m1.2.3.1.cmml">≠</mo><mrow id="algorithm2e1.28.1.m1.2.3.3" xref="algorithm2e1.28.1.m1.2.3.3.cmml"><mi id="algorithm2e1.28.1.m1.2.3.3.2" xref="algorithm2e1.28.1.m1.2.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.28.1.m1.2.3.3.1" xref="algorithm2e1.28.1.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.28.1.m1.2.3.3.3" xref="algorithm2e1.28.1.m1.2.3.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.28.1.m1.2.3.3.1a" xref="algorithm2e1.28.1.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.28.1.m1.2.3.3.4" xref="algorithm2e1.28.1.m1.2.3.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.28.1.m1.2.3.3.1b" xref="algorithm2e1.28.1.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.28.1.m1.2.3.3.5" xref="algorithm2e1.28.1.m1.2.3.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.28.1.m1.2b"><apply id="algorithm2e1.28.1.m1.2.3.cmml" xref="algorithm2e1.28.1.m1.2.3"><neq id="algorithm2e1.28.1.m1.2.3.1.cmml" xref="algorithm2e1.28.1.m1.2.3.1"></neq><apply id="algorithm2e1.28.1.m1.2.3.2.cmml" xref="algorithm2e1.28.1.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.28.1.m1.2.3.2.1.cmml" xref="algorithm2e1.28.1.m1.2.3.2">superscript</csymbol><apply id="algorithm2e1.28.1.m1.2.3.2.2.cmml" xref="algorithm2e1.28.1.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.28.1.m1.2.3.2.2.1.cmml" xref="algorithm2e1.28.1.m1.2.3.2">subscript</csymbol><ci id="algorithm2e1.28.1.m1.2.3.2.2.2.cmml" xref="algorithm2e1.28.1.m1.2.3.2.2.2">Δ</ci><list id="algorithm2e1.28.1.m1.2.2.2.3.cmml" xref="algorithm2e1.28.1.m1.2.2.2.4"><ci id="algorithm2e1.28.1.m1.1.1.1.1.cmml" xref="algorithm2e1.28.1.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.28.1.m1.2.2.2.2.cmml" xref="algorithm2e1.28.1.m1.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.28.1.m1.2.3.2.3.cmml" xref="algorithm2e1.28.1.m1.2.3.2.3">𝑢</ci></apply><apply id="algorithm2e1.28.1.m1.2.3.3.cmml" xref="algorithm2e1.28.1.m1.2.3.3"><times id="algorithm2e1.28.1.m1.2.3.3.1.cmml" xref="algorithm2e1.28.1.m1.2.3.3.1"></times><ci id="algorithm2e1.28.1.m1.2.3.3.2.cmml" xref="algorithm2e1.28.1.m1.2.3.3.2">𝑛</ci><ci id="algorithm2e1.28.1.m1.2.3.3.3.cmml" xref="algorithm2e1.28.1.m1.2.3.3.3">𝑢</ci><ci id="algorithm2e1.28.1.m1.2.3.3.4.cmml" xref="algorithm2e1.28.1.m1.2.3.3.4">𝑙</ci><ci id="algorithm2e1.28.1.m1.2.3.3.5.cmml" xref="algorithm2e1.28.1.m1.2.3.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.28.1.m1.2c">\Delta_{t,i}^{u}\neq null</annotation></semantics></math></em> <span id="algorithm2e1.28.3" class="ltx_text ltx_font_bold">then</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.62" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e1.29.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.29.2.1" class="ltx_text">// </span></span><span id="algorithm2e1.29.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> The results from local optimization is passed through all postprocessors, which may manipulate the statistics and use auxiliary non-private information from the user. </span>
<span id="algorithm2e1.29.4" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.29.1" class="ltx_emph ltx_font_italic">postprocessor <math id="algorithm2e1.29.1.m1.1" class="ltx_Math" alttext="p\in\mathcal{P}" display="inline"><semantics id="algorithm2e1.29.1.m1.1a"><mrow id="algorithm2e1.29.1.m1.1.1" xref="algorithm2e1.29.1.m1.1.1.cmml"><mi id="algorithm2e1.29.1.m1.1.1.2" xref="algorithm2e1.29.1.m1.1.1.2.cmml">p</mi><mo id="algorithm2e1.29.1.m1.1.1.1" xref="algorithm2e1.29.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.29.1.m1.1.1.3" xref="algorithm2e1.29.1.m1.1.1.3.cmml">𝒫</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.29.1.m1.1b"><apply id="algorithm2e1.29.1.m1.1.1.cmml" xref="algorithm2e1.29.1.m1.1.1"><in id="algorithm2e1.29.1.m1.1.1.1.cmml" xref="algorithm2e1.29.1.m1.1.1.1"></in><ci id="algorithm2e1.29.1.m1.1.1.2.cmml" xref="algorithm2e1.29.1.m1.1.1.2">𝑝</ci><ci id="algorithm2e1.29.1.m1.1.1.3.cmml" xref="algorithm2e1.29.1.m1.1.1.3">𝒫</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.29.1.m1.1c">p\in\mathcal{P}</annotation></semantics></math></em> <span id="algorithm2e1.29.5" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="algorithm2e1.32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e1.30.m1.2" class="ltx_Math" alttext="\Delta_{t,i}^{u}\leftarrow p" display="inline"><semantics id="algorithm2e1.30.m1.2a"><mrow id="algorithm2e1.30.m1.2.3" xref="algorithm2e1.30.m1.2.3.cmml"><msubsup id="algorithm2e1.30.m1.2.3.2" xref="algorithm2e1.30.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.30.m1.2.3.2.2.2" xref="algorithm2e1.30.m1.2.3.2.2.2.cmml">Δ</mi><mrow id="algorithm2e1.30.m1.2.2.2.4" xref="algorithm2e1.30.m1.2.2.2.3.cmml"><mi id="algorithm2e1.30.m1.1.1.1.1" xref="algorithm2e1.30.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.30.m1.2.2.2.4.1" xref="algorithm2e1.30.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.30.m1.2.2.2.2" xref="algorithm2e1.30.m1.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.30.m1.2.3.2.3" xref="algorithm2e1.30.m1.2.3.2.3.cmml">u</mi></msubsup><mo stretchy="false" id="algorithm2e1.30.m1.2.3.1" xref="algorithm2e1.30.m1.2.3.1.cmml">←</mo><mi id="algorithm2e1.30.m1.2.3.3" xref="algorithm2e1.30.m1.2.3.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.30.m1.2b"><apply id="algorithm2e1.30.m1.2.3.cmml" xref="algorithm2e1.30.m1.2.3"><ci id="algorithm2e1.30.m1.2.3.1.cmml" xref="algorithm2e1.30.m1.2.3.1">←</ci><apply id="algorithm2e1.30.m1.2.3.2.cmml" xref="algorithm2e1.30.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.30.m1.2.3.2.1.cmml" xref="algorithm2e1.30.m1.2.3.2">superscript</csymbol><apply id="algorithm2e1.30.m1.2.3.2.2.cmml" xref="algorithm2e1.30.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.30.m1.2.3.2.2.1.cmml" xref="algorithm2e1.30.m1.2.3.2">subscript</csymbol><ci id="algorithm2e1.30.m1.2.3.2.2.2.cmml" xref="algorithm2e1.30.m1.2.3.2.2.2">Δ</ci><list id="algorithm2e1.30.m1.2.2.2.3.cmml" xref="algorithm2e1.30.m1.2.2.2.4"><ci id="algorithm2e1.30.m1.1.1.1.1.cmml" xref="algorithm2e1.30.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.30.m1.2.2.2.2.cmml" xref="algorithm2e1.30.m1.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.30.m1.2.3.2.3.cmml" xref="algorithm2e1.30.m1.2.3.2.3">𝑢</ci></apply><ci id="algorithm2e1.30.m1.2.3.3.cmml" xref="algorithm2e1.30.m1.2.3.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.30.m1.2c">\Delta_{t,i}^{u}\leftarrow p</annotation></semantics></math>.postprocess_one_user(<math id="algorithm2e1.31.m2.2" class="ltx_Math" alttext="\Delta_{t,i}^{u}" display="inline"><semantics id="algorithm2e1.31.m2.2a"><msubsup id="algorithm2e1.31.m2.2.3" xref="algorithm2e1.31.m2.2.3.cmml"><mi mathvariant="normal" id="algorithm2e1.31.m2.2.3.2.2" xref="algorithm2e1.31.m2.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.31.m2.2.2.2.4" xref="algorithm2e1.31.m2.2.2.2.3.cmml"><mi id="algorithm2e1.31.m2.1.1.1.1" xref="algorithm2e1.31.m2.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.31.m2.2.2.2.4.1" xref="algorithm2e1.31.m2.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.31.m2.2.2.2.2" xref="algorithm2e1.31.m2.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.31.m2.2.3.3" xref="algorithm2e1.31.m2.2.3.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.31.m2.2b"><apply id="algorithm2e1.31.m2.2.3.cmml" xref="algorithm2e1.31.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.31.m2.2.3.1.cmml" xref="algorithm2e1.31.m2.2.3">superscript</csymbol><apply id="algorithm2e1.31.m2.2.3.2.cmml" xref="algorithm2e1.31.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.31.m2.2.3.2.1.cmml" xref="algorithm2e1.31.m2.2.3">subscript</csymbol><ci id="algorithm2e1.31.m2.2.3.2.2.cmml" xref="algorithm2e1.31.m2.2.3.2.2">Δ</ci><list id="algorithm2e1.31.m2.2.2.2.3.cmml" xref="algorithm2e1.31.m2.2.2.2.4"><ci id="algorithm2e1.31.m2.1.1.1.1.cmml" xref="algorithm2e1.31.m2.1.1.1.1">𝑡</ci><ci id="algorithm2e1.31.m2.2.2.2.2.cmml" xref="algorithm2e1.31.m2.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.31.m2.2.3.3.cmml" xref="algorithm2e1.31.m2.2.3.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.31.m2.2c">\Delta_{t,i}^{u}</annotation></semantics></math>, <math id="algorithm2e1.32.m3.1" class="ltx_Math" alttext="aux_{u}" display="inline"><semantics id="algorithm2e1.32.m3.1a"><mrow id="algorithm2e1.32.m3.1.1" xref="algorithm2e1.32.m3.1.1.cmml"><mi id="algorithm2e1.32.m3.1.1.2" xref="algorithm2e1.32.m3.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.32.m3.1.1.1" xref="algorithm2e1.32.m3.1.1.1.cmml">​</mo><mi id="algorithm2e1.32.m3.1.1.3" xref="algorithm2e1.32.m3.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.32.m3.1.1.1a" xref="algorithm2e1.32.m3.1.1.1.cmml">​</mo><msub id="algorithm2e1.32.m3.1.1.4" xref="algorithm2e1.32.m3.1.1.4.cmml"><mi id="algorithm2e1.32.m3.1.1.4.2" xref="algorithm2e1.32.m3.1.1.4.2.cmml">x</mi><mi id="algorithm2e1.32.m3.1.1.4.3" xref="algorithm2e1.32.m3.1.1.4.3.cmml">u</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.32.m3.1b"><apply id="algorithm2e1.32.m3.1.1.cmml" xref="algorithm2e1.32.m3.1.1"><times id="algorithm2e1.32.m3.1.1.1.cmml" xref="algorithm2e1.32.m3.1.1.1"></times><ci id="algorithm2e1.32.m3.1.1.2.cmml" xref="algorithm2e1.32.m3.1.1.2">𝑎</ci><ci id="algorithm2e1.32.m3.1.1.3.cmml" xref="algorithm2e1.32.m3.1.1.3">𝑢</ci><apply id="algorithm2e1.32.m3.1.1.4.cmml" xref="algorithm2e1.32.m3.1.1.4"><csymbol cd="ambiguous" id="algorithm2e1.32.m3.1.1.4.1.cmml" xref="algorithm2e1.32.m3.1.1.4">subscript</csymbol><ci id="algorithm2e1.32.m3.1.1.4.2.cmml" xref="algorithm2e1.32.m3.1.1.4.2">𝑥</ci><ci id="algorithm2e1.32.m3.1.1.4.3.cmml" xref="algorithm2e1.32.m3.1.1.4.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.32.m3.1c">aux_{u}</annotation></semantics></math>) 

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.63" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm2e1.33.m1.2" class="ltx_Math" alttext="\Delta^{w}_{t,i}\leftarrow agg" display="inline"><semantics id="algorithm2e1.33.m1.2a"><mrow id="algorithm2e1.33.m1.2.3" xref="algorithm2e1.33.m1.2.3.cmml"><msubsup id="algorithm2e1.33.m1.2.3.2" xref="algorithm2e1.33.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.33.m1.2.3.2.2.2" xref="algorithm2e1.33.m1.2.3.2.2.2.cmml">Δ</mi><mrow id="algorithm2e1.33.m1.2.2.2.4" xref="algorithm2e1.33.m1.2.2.2.3.cmml"><mi id="algorithm2e1.33.m1.1.1.1.1" xref="algorithm2e1.33.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.33.m1.2.2.2.4.1" xref="algorithm2e1.33.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.33.m1.2.2.2.2" xref="algorithm2e1.33.m1.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.33.m1.2.3.2.2.3" xref="algorithm2e1.33.m1.2.3.2.2.3.cmml">w</mi></msubsup><mo stretchy="false" id="algorithm2e1.33.m1.2.3.1" xref="algorithm2e1.33.m1.2.3.1.cmml">←</mo><mrow id="algorithm2e1.33.m1.2.3.3" xref="algorithm2e1.33.m1.2.3.3.cmml"><mi id="algorithm2e1.33.m1.2.3.3.2" xref="algorithm2e1.33.m1.2.3.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.33.m1.2.3.3.1" xref="algorithm2e1.33.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.33.m1.2.3.3.3" xref="algorithm2e1.33.m1.2.3.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.33.m1.2.3.3.1a" xref="algorithm2e1.33.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.33.m1.2.3.3.4" xref="algorithm2e1.33.m1.2.3.3.4.cmml">g</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.33.m1.2b"><apply id="algorithm2e1.33.m1.2.3.cmml" xref="algorithm2e1.33.m1.2.3"><ci id="algorithm2e1.33.m1.2.3.1.cmml" xref="algorithm2e1.33.m1.2.3.1">←</ci><apply id="algorithm2e1.33.m1.2.3.2.cmml" xref="algorithm2e1.33.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.33.m1.2.3.2.1.cmml" xref="algorithm2e1.33.m1.2.3.2">subscript</csymbol><apply id="algorithm2e1.33.m1.2.3.2.2.cmml" xref="algorithm2e1.33.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.33.m1.2.3.2.2.1.cmml" xref="algorithm2e1.33.m1.2.3.2">superscript</csymbol><ci id="algorithm2e1.33.m1.2.3.2.2.2.cmml" xref="algorithm2e1.33.m1.2.3.2.2.2">Δ</ci><ci id="algorithm2e1.33.m1.2.3.2.2.3.cmml" xref="algorithm2e1.33.m1.2.3.2.2.3">𝑤</ci></apply><list id="algorithm2e1.33.m1.2.2.2.3.cmml" xref="algorithm2e1.33.m1.2.2.2.4"><ci id="algorithm2e1.33.m1.1.1.1.1.cmml" xref="algorithm2e1.33.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.33.m1.2.2.2.2.cmml" xref="algorithm2e1.33.m1.2.2.2.2">𝑖</ci></list></apply><apply id="algorithm2e1.33.m1.2.3.3.cmml" xref="algorithm2e1.33.m1.2.3.3"><times id="algorithm2e1.33.m1.2.3.3.1.cmml" xref="algorithm2e1.33.m1.2.3.3.1"></times><ci id="algorithm2e1.33.m1.2.3.3.2.cmml" xref="algorithm2e1.33.m1.2.3.3.2">𝑎</ci><ci id="algorithm2e1.33.m1.2.3.3.3.cmml" xref="algorithm2e1.33.m1.2.3.3.3">𝑔</ci><ci id="algorithm2e1.33.m1.2.3.3.4.cmml" xref="algorithm2e1.33.m1.2.3.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.33.m1.2c">\Delta^{w}_{t,i}\leftarrow agg</annotation></semantics></math>.accumulate(<math id="algorithm2e1.34.m2.2" class="ltx_Math" alttext="\Delta^{w}_{t,i}" display="inline"><semantics id="algorithm2e1.34.m2.2a"><msubsup id="algorithm2e1.34.m2.2.3" xref="algorithm2e1.34.m2.2.3.cmml"><mi mathvariant="normal" id="algorithm2e1.34.m2.2.3.2.2" xref="algorithm2e1.34.m2.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.34.m2.2.2.2.4" xref="algorithm2e1.34.m2.2.2.2.3.cmml"><mi id="algorithm2e1.34.m2.1.1.1.1" xref="algorithm2e1.34.m2.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.34.m2.2.2.2.4.1" xref="algorithm2e1.34.m2.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.34.m2.2.2.2.2" xref="algorithm2e1.34.m2.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.34.m2.2.3.2.3" xref="algorithm2e1.34.m2.2.3.2.3.cmml">w</mi></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.34.m2.2b"><apply id="algorithm2e1.34.m2.2.3.cmml" xref="algorithm2e1.34.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.34.m2.2.3.1.cmml" xref="algorithm2e1.34.m2.2.3">subscript</csymbol><apply id="algorithm2e1.34.m2.2.3.2.cmml" xref="algorithm2e1.34.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.34.m2.2.3.2.1.cmml" xref="algorithm2e1.34.m2.2.3">superscript</csymbol><ci id="algorithm2e1.34.m2.2.3.2.2.cmml" xref="algorithm2e1.34.m2.2.3.2.2">Δ</ci><ci id="algorithm2e1.34.m2.2.3.2.3.cmml" xref="algorithm2e1.34.m2.2.3.2.3">𝑤</ci></apply><list id="algorithm2e1.34.m2.2.2.2.3.cmml" xref="algorithm2e1.34.m2.2.2.2.4"><ci id="algorithm2e1.34.m2.1.1.1.1.cmml" xref="algorithm2e1.34.m2.1.1.1.1">𝑡</ci><ci id="algorithm2e1.34.m2.2.2.2.2.cmml" xref="algorithm2e1.34.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.34.m2.2c">\Delta^{w}_{t,i}</annotation></semantics></math>, <math id="algorithm2e1.35.m3.2" class="ltx_Math" alttext="\Delta_{t,i}^{u}" display="inline"><semantics id="algorithm2e1.35.m3.2a"><msubsup id="algorithm2e1.35.m3.2.3" xref="algorithm2e1.35.m3.2.3.cmml"><mi mathvariant="normal" id="algorithm2e1.35.m3.2.3.2.2" xref="algorithm2e1.35.m3.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.35.m3.2.2.2.4" xref="algorithm2e1.35.m3.2.2.2.3.cmml"><mi id="algorithm2e1.35.m3.1.1.1.1" xref="algorithm2e1.35.m3.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.35.m3.2.2.2.4.1" xref="algorithm2e1.35.m3.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.35.m3.2.2.2.2" xref="algorithm2e1.35.m3.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.35.m3.2.3.3" xref="algorithm2e1.35.m3.2.3.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.35.m3.2b"><apply id="algorithm2e1.35.m3.2.3.cmml" xref="algorithm2e1.35.m3.2.3"><csymbol cd="ambiguous" id="algorithm2e1.35.m3.2.3.1.cmml" xref="algorithm2e1.35.m3.2.3">superscript</csymbol><apply id="algorithm2e1.35.m3.2.3.2.cmml" xref="algorithm2e1.35.m3.2.3"><csymbol cd="ambiguous" id="algorithm2e1.35.m3.2.3.2.1.cmml" xref="algorithm2e1.35.m3.2.3">subscript</csymbol><ci id="algorithm2e1.35.m3.2.3.2.2.cmml" xref="algorithm2e1.35.m3.2.3.2.2">Δ</ci><list id="algorithm2e1.35.m3.2.2.2.3.cmml" xref="algorithm2e1.35.m3.2.2.2.4"><ci id="algorithm2e1.35.m3.1.1.1.1.cmml" xref="algorithm2e1.35.m3.1.1.1.1">𝑡</ci><ci id="algorithm2e1.35.m3.2.2.2.2.cmml" xref="algorithm2e1.35.m3.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.35.m3.2.3.3.cmml" xref="algorithm2e1.35.m3.2.3.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.35.m3.2c">\Delta_{t,i}^{u}</annotation></semantics></math>) 

</div>
<div id="algorithm2e1.63.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.64" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.39" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e1.39.1" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.39.1.1" class="ltx_text">// </span></span><span id="algorithm2e1.39.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> Synchronize aggregates from all workers. </span>
<math id="algorithm2e1.36.m1.2" class="ltx_Math" alttext="\Delta_{t,i}\leftarrow agg" display="inline"><semantics id="algorithm2e1.36.m1.2a"><mrow id="algorithm2e1.36.m1.2.3" xref="algorithm2e1.36.m1.2.3.cmml"><msub id="algorithm2e1.36.m1.2.3.2" xref="algorithm2e1.36.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.36.m1.2.3.2.2" xref="algorithm2e1.36.m1.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.36.m1.2.2.2.4" xref="algorithm2e1.36.m1.2.2.2.3.cmml"><mi id="algorithm2e1.36.m1.1.1.1.1" xref="algorithm2e1.36.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.36.m1.2.2.2.4.1" xref="algorithm2e1.36.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.36.m1.2.2.2.2" xref="algorithm2e1.36.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="algorithm2e1.36.m1.2.3.1" xref="algorithm2e1.36.m1.2.3.1.cmml">←</mo><mrow id="algorithm2e1.36.m1.2.3.3" xref="algorithm2e1.36.m1.2.3.3.cmml"><mi id="algorithm2e1.36.m1.2.3.3.2" xref="algorithm2e1.36.m1.2.3.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.36.m1.2.3.3.1" xref="algorithm2e1.36.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.36.m1.2.3.3.3" xref="algorithm2e1.36.m1.2.3.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.36.m1.2.3.3.1a" xref="algorithm2e1.36.m1.2.3.3.1.cmml">​</mo><mi id="algorithm2e1.36.m1.2.3.3.4" xref="algorithm2e1.36.m1.2.3.3.4.cmml">g</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.36.m1.2b"><apply id="algorithm2e1.36.m1.2.3.cmml" xref="algorithm2e1.36.m1.2.3"><ci id="algorithm2e1.36.m1.2.3.1.cmml" xref="algorithm2e1.36.m1.2.3.1">←</ci><apply id="algorithm2e1.36.m1.2.3.2.cmml" xref="algorithm2e1.36.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.36.m1.2.3.2.1.cmml" xref="algorithm2e1.36.m1.2.3.2">subscript</csymbol><ci id="algorithm2e1.36.m1.2.3.2.2.cmml" xref="algorithm2e1.36.m1.2.3.2.2">Δ</ci><list id="algorithm2e1.36.m1.2.2.2.3.cmml" xref="algorithm2e1.36.m1.2.2.2.4"><ci id="algorithm2e1.36.m1.1.1.1.1.cmml" xref="algorithm2e1.36.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.36.m1.2.2.2.2.cmml" xref="algorithm2e1.36.m1.2.2.2.2">𝑖</ci></list></apply><apply id="algorithm2e1.36.m1.2.3.3.cmml" xref="algorithm2e1.36.m1.2.3.3"><times id="algorithm2e1.36.m1.2.3.3.1.cmml" xref="algorithm2e1.36.m1.2.3.3.1"></times><ci id="algorithm2e1.36.m1.2.3.3.2.cmml" xref="algorithm2e1.36.m1.2.3.3.2">𝑎</ci><ci id="algorithm2e1.36.m1.2.3.3.3.cmml" xref="algorithm2e1.36.m1.2.3.3.3">𝑔</ci><ci id="algorithm2e1.36.m1.2.3.3.4.cmml" xref="algorithm2e1.36.m1.2.3.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.36.m1.2c">\Delta_{t,i}\leftarrow agg</annotation></semantics></math>.worker_reduce(<math id="algorithm2e1.37.m2.2" class="ltx_Math" alttext="\Delta^{w}_{t,i}" display="inline"><semantics id="algorithm2e1.37.m2.2a"><msubsup id="algorithm2e1.37.m2.2.3" xref="algorithm2e1.37.m2.2.3.cmml"><mi mathvariant="normal" id="algorithm2e1.37.m2.2.3.2.2" xref="algorithm2e1.37.m2.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.37.m2.2.2.2.4" xref="algorithm2e1.37.m2.2.2.2.3.cmml"><mi id="algorithm2e1.37.m2.1.1.1.1" xref="algorithm2e1.37.m2.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.37.m2.2.2.2.4.1" xref="algorithm2e1.37.m2.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.37.m2.2.2.2.2" xref="algorithm2e1.37.m2.2.2.2.2.cmml">i</mi></mrow><mi id="algorithm2e1.37.m2.2.3.2.3" xref="algorithm2e1.37.m2.2.3.2.3.cmml">w</mi></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.37.m2.2b"><apply id="algorithm2e1.37.m2.2.3.cmml" xref="algorithm2e1.37.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.37.m2.2.3.1.cmml" xref="algorithm2e1.37.m2.2.3">subscript</csymbol><apply id="algorithm2e1.37.m2.2.3.2.cmml" xref="algorithm2e1.37.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.37.m2.2.3.2.1.cmml" xref="algorithm2e1.37.m2.2.3">superscript</csymbol><ci id="algorithm2e1.37.m2.2.3.2.2.cmml" xref="algorithm2e1.37.m2.2.3.2.2">Δ</ci><ci id="algorithm2e1.37.m2.2.3.2.3.cmml" xref="algorithm2e1.37.m2.2.3.2.3">𝑤</ci></apply><list id="algorithm2e1.37.m2.2.2.2.3.cmml" xref="algorithm2e1.37.m2.2.2.2.4"><ci id="algorithm2e1.37.m2.1.1.1.1.cmml" xref="algorithm2e1.37.m2.1.1.1.1">𝑡</ci><ci id="algorithm2e1.37.m2.2.2.2.2.cmml" xref="algorithm2e1.37.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.37.m2.2c">\Delta^{w}_{t,i}</annotation></semantics></math>, <math id="algorithm2e1.38.m3.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="algorithm2e1.38.m3.1a"><msub id="algorithm2e1.38.m3.1.1" xref="algorithm2e1.38.m3.1.1.cmml"><mi id="algorithm2e1.38.m3.1.1.2" xref="algorithm2e1.38.m3.1.1.2.cmml">c</mi><mi id="algorithm2e1.38.m3.1.1.3" xref="algorithm2e1.38.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.38.m3.1b"><apply id="algorithm2e1.38.m3.1.1.cmml" xref="algorithm2e1.38.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.38.m3.1.1.1.cmml" xref="algorithm2e1.38.m3.1.1">subscript</csymbol><ci id="algorithm2e1.38.m3.1.1.2.cmml" xref="algorithm2e1.38.m3.1.1.2">𝑐</ci><ci id="algorithm2e1.38.m3.1.1.3.cmml" xref="algorithm2e1.38.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.38.m3.1c">c_{i}</annotation></semantics></math>, <math id="algorithm2e1.39.m4.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2e1.39.m4.1a"><mi id="algorithm2e1.39.m4.1.1" xref="algorithm2e1.39.m4.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.39.m4.1b"><ci id="algorithm2e1.39.m4.1.1.cmml" xref="algorithm2e1.39.m4.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.39.m4.1c">w</annotation></semantics></math>) 

</div>
<div id="algorithm2e1.40" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e1.40.2" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.40.1" class="ltx_emph ltx_font_italic">postprocessor <math id="algorithm2e1.40.1.m1.1" class="ltx_Math" alttext="p\in\mathrm{reversed}(\mathcal{P})" display="inline"><semantics id="algorithm2e1.40.1.m1.1a"><mrow id="algorithm2e1.40.1.m1.1.2" xref="algorithm2e1.40.1.m1.1.2.cmml"><mi id="algorithm2e1.40.1.m1.1.2.2" xref="algorithm2e1.40.1.m1.1.2.2.cmml">p</mi><mo id="algorithm2e1.40.1.m1.1.2.1" xref="algorithm2e1.40.1.m1.1.2.1.cmml">∈</mo><mrow id="algorithm2e1.40.1.m1.1.2.3" xref="algorithm2e1.40.1.m1.1.2.3.cmml"><mi id="algorithm2e1.40.1.m1.1.2.3.2" xref="algorithm2e1.40.1.m1.1.2.3.2.cmml">reversed</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.40.1.m1.1.2.3.1" xref="algorithm2e1.40.1.m1.1.2.3.1.cmml">​</mo><mrow id="algorithm2e1.40.1.m1.1.2.3.3.2" xref="algorithm2e1.40.1.m1.1.2.3.cmml"><mo stretchy="false" id="algorithm2e1.40.1.m1.1.2.3.3.2.1" xref="algorithm2e1.40.1.m1.1.2.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.40.1.m1.1.1" xref="algorithm2e1.40.1.m1.1.1.cmml">𝒫</mi><mo stretchy="false" id="algorithm2e1.40.1.m1.1.2.3.3.2.2" xref="algorithm2e1.40.1.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.40.1.m1.1b"><apply id="algorithm2e1.40.1.m1.1.2.cmml" xref="algorithm2e1.40.1.m1.1.2"><in id="algorithm2e1.40.1.m1.1.2.1.cmml" xref="algorithm2e1.40.1.m1.1.2.1"></in><ci id="algorithm2e1.40.1.m1.1.2.2.cmml" xref="algorithm2e1.40.1.m1.1.2.2">𝑝</ci><apply id="algorithm2e1.40.1.m1.1.2.3.cmml" xref="algorithm2e1.40.1.m1.1.2.3"><times id="algorithm2e1.40.1.m1.1.2.3.1.cmml" xref="algorithm2e1.40.1.m1.1.2.3.1"></times><ci id="algorithm2e1.40.1.m1.1.2.3.2.cmml" xref="algorithm2e1.40.1.m1.1.2.3.2">reversed</ci><ci id="algorithm2e1.40.1.m1.1.1.cmml" xref="algorithm2e1.40.1.m1.1.1">𝒫</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.40.1.m1.1c">p\in\mathrm{reversed}(\mathcal{P})</annotation></semantics></math></em> <span id="algorithm2e1.40.3" class="ltx_text ltx_font_bold">do</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.65" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.43" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e1.41.m1.2" class="ltx_Math" alttext="\Delta_{t,i}\leftarrow p" display="inline"><semantics id="algorithm2e1.41.m1.2a"><mrow id="algorithm2e1.41.m1.2.3" xref="algorithm2e1.41.m1.2.3.cmml"><msub id="algorithm2e1.41.m1.2.3.2" xref="algorithm2e1.41.m1.2.3.2.cmml"><mi mathvariant="normal" id="algorithm2e1.41.m1.2.3.2.2" xref="algorithm2e1.41.m1.2.3.2.2.cmml">Δ</mi><mrow id="algorithm2e1.41.m1.2.2.2.4" xref="algorithm2e1.41.m1.2.2.2.3.cmml"><mi id="algorithm2e1.41.m1.1.1.1.1" xref="algorithm2e1.41.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.41.m1.2.2.2.4.1" xref="algorithm2e1.41.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.41.m1.2.2.2.2" xref="algorithm2e1.41.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="algorithm2e1.41.m1.2.3.1" xref="algorithm2e1.41.m1.2.3.1.cmml">←</mo><mi id="algorithm2e1.41.m1.2.3.3" xref="algorithm2e1.41.m1.2.3.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.41.m1.2b"><apply id="algorithm2e1.41.m1.2.3.cmml" xref="algorithm2e1.41.m1.2.3"><ci id="algorithm2e1.41.m1.2.3.1.cmml" xref="algorithm2e1.41.m1.2.3.1">←</ci><apply id="algorithm2e1.41.m1.2.3.2.cmml" xref="algorithm2e1.41.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm2e1.41.m1.2.3.2.1.cmml" xref="algorithm2e1.41.m1.2.3.2">subscript</csymbol><ci id="algorithm2e1.41.m1.2.3.2.2.cmml" xref="algorithm2e1.41.m1.2.3.2.2">Δ</ci><list id="algorithm2e1.41.m1.2.2.2.3.cmml" xref="algorithm2e1.41.m1.2.2.2.4"><ci id="algorithm2e1.41.m1.1.1.1.1.cmml" xref="algorithm2e1.41.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.41.m1.2.2.2.2.cmml" xref="algorithm2e1.41.m1.2.2.2.2">𝑖</ci></list></apply><ci id="algorithm2e1.41.m1.2.3.3.cmml" xref="algorithm2e1.41.m1.2.3.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.41.m1.2c">\Delta_{t,i}\leftarrow p</annotation></semantics></math>.postprocess_server(<math id="algorithm2e1.42.m2.2" class="ltx_Math" alttext="\Delta_{t,i}" display="inline"><semantics id="algorithm2e1.42.m2.2a"><msub id="algorithm2e1.42.m2.2.3" xref="algorithm2e1.42.m2.2.3.cmml"><mi mathvariant="normal" id="algorithm2e1.42.m2.2.3.2" xref="algorithm2e1.42.m2.2.3.2.cmml">Δ</mi><mrow id="algorithm2e1.42.m2.2.2.2.4" xref="algorithm2e1.42.m2.2.2.2.3.cmml"><mi id="algorithm2e1.42.m2.1.1.1.1" xref="algorithm2e1.42.m2.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.42.m2.2.2.2.4.1" xref="algorithm2e1.42.m2.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.42.m2.2.2.2.2" xref="algorithm2e1.42.m2.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.42.m2.2b"><apply id="algorithm2e1.42.m2.2.3.cmml" xref="algorithm2e1.42.m2.2.3"><csymbol cd="ambiguous" id="algorithm2e1.42.m2.2.3.1.cmml" xref="algorithm2e1.42.m2.2.3">subscript</csymbol><ci id="algorithm2e1.42.m2.2.3.2.cmml" xref="algorithm2e1.42.m2.2.3.2">Δ</ci><list id="algorithm2e1.42.m2.2.2.2.3.cmml" xref="algorithm2e1.42.m2.2.2.2.4"><ci id="algorithm2e1.42.m2.1.1.1.1.cmml" xref="algorithm2e1.42.m2.1.1.1.1">𝑡</ci><ci id="algorithm2e1.42.m2.2.2.2.2.cmml" xref="algorithm2e1.42.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.42.m2.2c">\Delta_{t,i}</annotation></semantics></math>, <math id="algorithm2e1.43.m3.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="algorithm2e1.43.m3.1a"><msub id="algorithm2e1.43.m3.1.1" xref="algorithm2e1.43.m3.1.1.cmml"><mi id="algorithm2e1.43.m3.1.1.2" xref="algorithm2e1.43.m3.1.1.2.cmml">c</mi><mi id="algorithm2e1.43.m3.1.1.3" xref="algorithm2e1.43.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.43.m3.1b"><apply id="algorithm2e1.43.m3.1.1.cmml" xref="algorithm2e1.43.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.43.m3.1.1.1.cmml" xref="algorithm2e1.43.m3.1.1">subscript</csymbol><ci id="algorithm2e1.43.m3.1.1.2.cmml" xref="algorithm2e1.43.m3.1.1.2">𝑐</ci><ci id="algorithm2e1.43.m3.1.1.3.cmml" xref="algorithm2e1.43.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.43.m3.1c">c_{i}</annotation></semantics></math>) 

</div>
<div id="algorithm2e1.44" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm2e1.44.m1.3" class="ltx_Math" alttext="\mathcal{S}\leftarrow\mathcal{S}\cup\{\Delta_{t,i}\}" display="inline"><semantics id="algorithm2e1.44.m1.3a"><mrow id="algorithm2e1.44.m1.3.3" xref="algorithm2e1.44.m1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.44.m1.3.3.3" xref="algorithm2e1.44.m1.3.3.3.cmml">𝒮</mi><mo stretchy="false" id="algorithm2e1.44.m1.3.3.2" xref="algorithm2e1.44.m1.3.3.2.cmml">←</mo><mrow id="algorithm2e1.44.m1.3.3.1" xref="algorithm2e1.44.m1.3.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.44.m1.3.3.1.3" xref="algorithm2e1.44.m1.3.3.1.3.cmml">𝒮</mi><mo id="algorithm2e1.44.m1.3.3.1.2" xref="algorithm2e1.44.m1.3.3.1.2.cmml">∪</mo><mrow id="algorithm2e1.44.m1.3.3.1.1.1" xref="algorithm2e1.44.m1.3.3.1.1.2.cmml"><mo stretchy="false" id="algorithm2e1.44.m1.3.3.1.1.1.2" xref="algorithm2e1.44.m1.3.3.1.1.2.cmml">{</mo><msub id="algorithm2e1.44.m1.3.3.1.1.1.1" xref="algorithm2e1.44.m1.3.3.1.1.1.1.cmml"><mi mathvariant="normal" id="algorithm2e1.44.m1.3.3.1.1.1.1.2" xref="algorithm2e1.44.m1.3.3.1.1.1.1.2.cmml">Δ</mi><mrow id="algorithm2e1.44.m1.2.2.2.4" xref="algorithm2e1.44.m1.2.2.2.3.cmml"><mi id="algorithm2e1.44.m1.1.1.1.1" xref="algorithm2e1.44.m1.1.1.1.1.cmml">t</mi><mo id="algorithm2e1.44.m1.2.2.2.4.1" xref="algorithm2e1.44.m1.2.2.2.3.cmml">,</mo><mi id="algorithm2e1.44.m1.2.2.2.2" xref="algorithm2e1.44.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="algorithm2e1.44.m1.3.3.1.1.1.3" xref="algorithm2e1.44.m1.3.3.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.44.m1.3b"><apply id="algorithm2e1.44.m1.3.3.cmml" xref="algorithm2e1.44.m1.3.3"><ci id="algorithm2e1.44.m1.3.3.2.cmml" xref="algorithm2e1.44.m1.3.3.2">←</ci><ci id="algorithm2e1.44.m1.3.3.3.cmml" xref="algorithm2e1.44.m1.3.3.3">𝒮</ci><apply id="algorithm2e1.44.m1.3.3.1.cmml" xref="algorithm2e1.44.m1.3.3.1"><union id="algorithm2e1.44.m1.3.3.1.2.cmml" xref="algorithm2e1.44.m1.3.3.1.2"></union><ci id="algorithm2e1.44.m1.3.3.1.3.cmml" xref="algorithm2e1.44.m1.3.3.1.3">𝒮</ci><set id="algorithm2e1.44.m1.3.3.1.1.2.cmml" xref="algorithm2e1.44.m1.3.3.1.1.1"><apply id="algorithm2e1.44.m1.3.3.1.1.1.1.cmml" xref="algorithm2e1.44.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2e1.44.m1.3.3.1.1.1.1.1.cmml" xref="algorithm2e1.44.m1.3.3.1.1.1.1">subscript</csymbol><ci id="algorithm2e1.44.m1.3.3.1.1.1.1.2.cmml" xref="algorithm2e1.44.m1.3.3.1.1.1.1.2">Δ</ci><list id="algorithm2e1.44.m1.2.2.2.3.cmml" xref="algorithm2e1.44.m1.2.2.2.4"><ci id="algorithm2e1.44.m1.1.1.1.1.cmml" xref="algorithm2e1.44.m1.1.1.1.1">𝑡</ci><ci id="algorithm2e1.44.m1.2.2.2.2.cmml" xref="algorithm2e1.44.m1.2.2.2.2">𝑖</ci></list></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.44.m1.3c">\mathcal{S}\leftarrow\mathcal{S}\cup\{\Delta_{t,i}\}</annotation></semantics></math> 

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.66" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.49" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e1.49.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.49.2.1" class="ltx_text">/* </span></span><span id="algorithm2e1.49.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> The algorithm consumes the set of aggregated statistics from all queried cohorts and produces a new central model.  */</span>
<math id="algorithm2e1.45.m1.1" class="ltx_Math" alttext="\theta_{t+1}\leftarrow alg" display="inline"><semantics id="algorithm2e1.45.m1.1a"><mrow id="algorithm2e1.45.m1.1.1" xref="algorithm2e1.45.m1.1.1.cmml"><msub id="algorithm2e1.45.m1.1.1.2" xref="algorithm2e1.45.m1.1.1.2.cmml"><mi id="algorithm2e1.45.m1.1.1.2.2" xref="algorithm2e1.45.m1.1.1.2.2.cmml">θ</mi><mrow id="algorithm2e1.45.m1.1.1.2.3" xref="algorithm2e1.45.m1.1.1.2.3.cmml"><mi id="algorithm2e1.45.m1.1.1.2.3.2" xref="algorithm2e1.45.m1.1.1.2.3.2.cmml">t</mi><mo id="algorithm2e1.45.m1.1.1.2.3.1" xref="algorithm2e1.45.m1.1.1.2.3.1.cmml">+</mo><mn id="algorithm2e1.45.m1.1.1.2.3.3" xref="algorithm2e1.45.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="algorithm2e1.45.m1.1.1.1" xref="algorithm2e1.45.m1.1.1.1.cmml">←</mo><mrow id="algorithm2e1.45.m1.1.1.3" xref="algorithm2e1.45.m1.1.1.3.cmml"><mi id="algorithm2e1.45.m1.1.1.3.2" xref="algorithm2e1.45.m1.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.45.m1.1.1.3.1" xref="algorithm2e1.45.m1.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.45.m1.1.1.3.3" xref="algorithm2e1.45.m1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.45.m1.1.1.3.1a" xref="algorithm2e1.45.m1.1.1.3.1.cmml">​</mo><mi id="algorithm2e1.45.m1.1.1.3.4" xref="algorithm2e1.45.m1.1.1.3.4.cmml">g</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.45.m1.1b"><apply id="algorithm2e1.45.m1.1.1.cmml" xref="algorithm2e1.45.m1.1.1"><ci id="algorithm2e1.45.m1.1.1.1.cmml" xref="algorithm2e1.45.m1.1.1.1">←</ci><apply id="algorithm2e1.45.m1.1.1.2.cmml" xref="algorithm2e1.45.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm2e1.45.m1.1.1.2.1.cmml" xref="algorithm2e1.45.m1.1.1.2">subscript</csymbol><ci id="algorithm2e1.45.m1.1.1.2.2.cmml" xref="algorithm2e1.45.m1.1.1.2.2">𝜃</ci><apply id="algorithm2e1.45.m1.1.1.2.3.cmml" xref="algorithm2e1.45.m1.1.1.2.3"><plus id="algorithm2e1.45.m1.1.1.2.3.1.cmml" xref="algorithm2e1.45.m1.1.1.2.3.1"></plus><ci id="algorithm2e1.45.m1.1.1.2.3.2.cmml" xref="algorithm2e1.45.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="algorithm2e1.45.m1.1.1.2.3.3.cmml" xref="algorithm2e1.45.m1.1.1.2.3.3">1</cn></apply></apply><apply id="algorithm2e1.45.m1.1.1.3.cmml" xref="algorithm2e1.45.m1.1.1.3"><times id="algorithm2e1.45.m1.1.1.3.1.cmml" xref="algorithm2e1.45.m1.1.1.3.1"></times><ci id="algorithm2e1.45.m1.1.1.3.2.cmml" xref="algorithm2e1.45.m1.1.1.3.2">𝑎</ci><ci id="algorithm2e1.45.m1.1.1.3.3.cmml" xref="algorithm2e1.45.m1.1.1.3.3">𝑙</ci><ci id="algorithm2e1.45.m1.1.1.3.4.cmml" xref="algorithm2e1.45.m1.1.1.3.4">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.45.m1.1c">\theta_{t+1}\leftarrow alg</annotation></semantics></math>.process_aggregated_statistics_all_contexts(<math id="algorithm2e1.46.m2.1" class="ltx_Math" alttext="\mathcal{C}" display="inline"><semantics id="algorithm2e1.46.m2.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.46.m2.1.1" xref="algorithm2e1.46.m2.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.46.m2.1b"><ci id="algorithm2e1.46.m2.1.1.cmml" xref="algorithm2e1.46.m2.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.46.m2.1c">\mathcal{C}</annotation></semantics></math>, <math id="algorithm2e1.47.m3.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="algorithm2e1.47.m3.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.47.m3.1.1" xref="algorithm2e1.47.m3.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.47.m3.1b"><ci id="algorithm2e1.47.m3.1.1.cmml" xref="algorithm2e1.47.m3.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.47.m3.1c">\mathcal{S}</annotation></semantics></math>, <math id="algorithm2e1.48.m4.1" class="ltx_Math" alttext="\theta^{\prime}_{t}" display="inline"><semantics id="algorithm2e1.48.m4.1a"><msubsup id="algorithm2e1.48.m4.1.1" xref="algorithm2e1.48.m4.1.1.cmml"><mi id="algorithm2e1.48.m4.1.1.2.2" xref="algorithm2e1.48.m4.1.1.2.2.cmml">θ</mi><mi id="algorithm2e1.48.m4.1.1.3" xref="algorithm2e1.48.m4.1.1.3.cmml">t</mi><mo id="algorithm2e1.48.m4.1.1.2.3" xref="algorithm2e1.48.m4.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="algorithm2e1.48.m4.1b"><apply id="algorithm2e1.48.m4.1.1.cmml" xref="algorithm2e1.48.m4.1.1"><csymbol cd="ambiguous" id="algorithm2e1.48.m4.1.1.1.cmml" xref="algorithm2e1.48.m4.1.1">subscript</csymbol><apply id="algorithm2e1.48.m4.1.1.2.cmml" xref="algorithm2e1.48.m4.1.1"><csymbol cd="ambiguous" id="algorithm2e1.48.m4.1.1.2.1.cmml" xref="algorithm2e1.48.m4.1.1">superscript</csymbol><ci id="algorithm2e1.48.m4.1.1.2.2.cmml" xref="algorithm2e1.48.m4.1.1.2.2">𝜃</ci><ci id="algorithm2e1.48.m4.1.1.2.3.cmml" xref="algorithm2e1.48.m4.1.1.2.3">′</ci></apply><ci id="algorithm2e1.48.m4.1.1.3.cmml" xref="algorithm2e1.48.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.48.m4.1c">\theta^{\prime}_{t}</annotation></semantics></math>) 
<span id="algorithm2e1.49.4" class="ltx_text ltx_font_bold">foreach</span> <em id="algorithm2e1.49.1" class="ltx_emph ltx_font_italic">callback <math id="algorithm2e1.49.1.m1.1" class="ltx_Math" alttext="b\in\mathcal{B}" display="inline"><semantics id="algorithm2e1.49.1.m1.1a"><mrow id="algorithm2e1.49.1.m1.1.1" xref="algorithm2e1.49.1.m1.1.1.cmml"><mi id="algorithm2e1.49.1.m1.1.1.2" xref="algorithm2e1.49.1.m1.1.1.2.cmml">b</mi><mo id="algorithm2e1.49.1.m1.1.1.1" xref="algorithm2e1.49.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2e1.49.1.m1.1.1.3" xref="algorithm2e1.49.1.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.49.1.m1.1b"><apply id="algorithm2e1.49.1.m1.1.1.cmml" xref="algorithm2e1.49.1.m1.1.1"><in id="algorithm2e1.49.1.m1.1.1.1.cmml" xref="algorithm2e1.49.1.m1.1.1.1"></in><ci id="algorithm2e1.49.1.m1.1.1.2.cmml" xref="algorithm2e1.49.1.m1.1.1.2">𝑏</ci><ci id="algorithm2e1.49.1.m1.1.1.3.cmml" xref="algorithm2e1.49.1.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.49.1.m1.1c">b\in\mathcal{B}</annotation></semantics></math></em> <span id="algorithm2e1.49.5" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="algorithm2e1.53" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e1.53.1" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e1.53.1.1" class="ltx_text">// </span></span><span id="algorithm2e1.53.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> A callback may force stop training, e.g. early stopping. </span>
<math id="algorithm2e1.50.m1.1" class="ltx_Math" alttext="stop" display="inline"><semantics id="algorithm2e1.50.m1.1a"><mrow id="algorithm2e1.50.m1.1.1" xref="algorithm2e1.50.m1.1.1.cmml"><mi id="algorithm2e1.50.m1.1.1.2" xref="algorithm2e1.50.m1.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.50.m1.1.1.1" xref="algorithm2e1.50.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.50.m1.1.1.3" xref="algorithm2e1.50.m1.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.50.m1.1.1.1a" xref="algorithm2e1.50.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.50.m1.1.1.4" xref="algorithm2e1.50.m1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.50.m1.1.1.1b" xref="algorithm2e1.50.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.50.m1.1.1.5" xref="algorithm2e1.50.m1.1.1.5.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.50.m1.1b"><apply id="algorithm2e1.50.m1.1.1.cmml" xref="algorithm2e1.50.m1.1.1"><times id="algorithm2e1.50.m1.1.1.1.cmml" xref="algorithm2e1.50.m1.1.1.1"></times><ci id="algorithm2e1.50.m1.1.1.2.cmml" xref="algorithm2e1.50.m1.1.1.2">𝑠</ci><ci id="algorithm2e1.50.m1.1.1.3.cmml" xref="algorithm2e1.50.m1.1.1.3">𝑡</ci><ci id="algorithm2e1.50.m1.1.1.4.cmml" xref="algorithm2e1.50.m1.1.1.4">𝑜</ci><ci id="algorithm2e1.50.m1.1.1.5.cmml" xref="algorithm2e1.50.m1.1.1.5">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.50.m1.1c">stop</annotation></semantics></math> <span id="algorithm2e1.53.3" class="ltx_text ltx_font_typewriter">|=</span> <math id="algorithm2e1.51.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="algorithm2e1.51.m2.1a"><mi id="algorithm2e1.51.m2.1.1" xref="algorithm2e1.51.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.51.m2.1b"><ci id="algorithm2e1.51.m2.1.1.cmml" xref="algorithm2e1.51.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.51.m2.1c">b</annotation></semantics></math>.after_central_iteration(<math id="algorithm2e1.52.m3.1" class="ltx_Math" alttext="\theta_{t+1}" display="inline"><semantics id="algorithm2e1.52.m3.1a"><msub id="algorithm2e1.52.m3.1.1" xref="algorithm2e1.52.m3.1.1.cmml"><mi id="algorithm2e1.52.m3.1.1.2" xref="algorithm2e1.52.m3.1.1.2.cmml">θ</mi><mrow id="algorithm2e1.52.m3.1.1.3" xref="algorithm2e1.52.m3.1.1.3.cmml"><mi id="algorithm2e1.52.m3.1.1.3.2" xref="algorithm2e1.52.m3.1.1.3.2.cmml">t</mi><mo id="algorithm2e1.52.m3.1.1.3.1" xref="algorithm2e1.52.m3.1.1.3.1.cmml">+</mo><mn id="algorithm2e1.52.m3.1.1.3.3" xref="algorithm2e1.52.m3.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm2e1.52.m3.1b"><apply id="algorithm2e1.52.m3.1.1.cmml" xref="algorithm2e1.52.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e1.52.m3.1.1.1.cmml" xref="algorithm2e1.52.m3.1.1">subscript</csymbol><ci id="algorithm2e1.52.m3.1.1.2.cmml" xref="algorithm2e1.52.m3.1.1.2">𝜃</ci><apply id="algorithm2e1.52.m3.1.1.3.cmml" xref="algorithm2e1.52.m3.1.1.3"><plus id="algorithm2e1.52.m3.1.1.3.1.cmml" xref="algorithm2e1.52.m3.1.1.3.1"></plus><ci id="algorithm2e1.52.m3.1.1.3.2.cmml" xref="algorithm2e1.52.m3.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2e1.52.m3.1.1.3.3.cmml" xref="algorithm2e1.52.m3.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.52.m3.1c">\theta_{t+1}</annotation></semantics></math>, <math id="algorithm2e1.53.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="algorithm2e1.53.m4.1a"><mi id="algorithm2e1.53.m4.1.1" xref="algorithm2e1.53.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="algorithm2e1.53.m4.1b"><ci id="algorithm2e1.53.m4.1.1.cmml" xref="algorithm2e1.53.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.53.m4.1c">t</annotation></semantics></math>)

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.67" class="ltx_block ltx_figure_panel">
<div id="algorithm2e1.54" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm2e1.54.m1.1" class="ltx_Math" alttext="t\leftarrow t+1" display="inline"><semantics id="algorithm2e1.54.m1.1a"><mrow id="algorithm2e1.54.m1.1.1" xref="algorithm2e1.54.m1.1.1.cmml"><mi id="algorithm2e1.54.m1.1.1.2" xref="algorithm2e1.54.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="algorithm2e1.54.m1.1.1.1" xref="algorithm2e1.54.m1.1.1.1.cmml">←</mo><mrow id="algorithm2e1.54.m1.1.1.3" xref="algorithm2e1.54.m1.1.1.3.cmml"><mi id="algorithm2e1.54.m1.1.1.3.2" xref="algorithm2e1.54.m1.1.1.3.2.cmml">t</mi><mo id="algorithm2e1.54.m1.1.1.3.1" xref="algorithm2e1.54.m1.1.1.3.1.cmml">+</mo><mn id="algorithm2e1.54.m1.1.1.3.3" xref="algorithm2e1.54.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.54.m1.1b"><apply id="algorithm2e1.54.m1.1.1.cmml" xref="algorithm2e1.54.m1.1.1"><ci id="algorithm2e1.54.m1.1.1.1.cmml" xref="algorithm2e1.54.m1.1.1.1">←</ci><ci id="algorithm2e1.54.m1.1.1.2.cmml" xref="algorithm2e1.54.m1.1.1.2">𝑡</ci><apply id="algorithm2e1.54.m1.1.1.3.cmml" xref="algorithm2e1.54.m1.1.1.3"><plus id="algorithm2e1.54.m1.1.1.3.1.cmml" xref="algorithm2e1.54.m1.1.1.3.1"></plus><ci id="algorithm2e1.54.m1.1.1.3.2.cmml" xref="algorithm2e1.54.m1.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2e1.54.m1.1.1.3.3.cmml" xref="algorithm2e1.54.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.54.m1.1c">t\leftarrow t+1</annotation></semantics></math>  

</div>
<div id="algorithm2e1.55" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span><span id="algorithm2e1.55.2" class="ltx_text ltx_font_bold">until</span> <em id="algorithm2e1.55.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e1.55.1.m1.1" class="ltx_Math" alttext="stop" display="inline"><semantics id="algorithm2e1.55.1.m1.1a"><mrow id="algorithm2e1.55.1.m1.1.1" xref="algorithm2e1.55.1.m1.1.1.cmml"><mi id="algorithm2e1.55.1.m1.1.1.2" xref="algorithm2e1.55.1.m1.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.55.1.m1.1.1.1" xref="algorithm2e1.55.1.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.55.1.m1.1.1.3" xref="algorithm2e1.55.1.m1.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.55.1.m1.1.1.1a" xref="algorithm2e1.55.1.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.55.1.m1.1.1.4" xref="algorithm2e1.55.1.m1.1.1.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm2e1.55.1.m1.1.1.1b" xref="algorithm2e1.55.1.m1.1.1.1.cmml">​</mo><mi id="algorithm2e1.55.1.m1.1.1.5" xref="algorithm2e1.55.1.m1.1.1.5.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e1.55.1.m1.1b"><apply id="algorithm2e1.55.1.m1.1.1.cmml" xref="algorithm2e1.55.1.m1.1.1"><times id="algorithm2e1.55.1.m1.1.1.1.cmml" xref="algorithm2e1.55.1.m1.1.1.1"></times><ci id="algorithm2e1.55.1.m1.1.1.2.cmml" xref="algorithm2e1.55.1.m1.1.1.2">𝑠</ci><ci id="algorithm2e1.55.1.m1.1.1.3.cmml" xref="algorithm2e1.55.1.m1.1.1.3">𝑡</ci><ci id="algorithm2e1.55.1.m1.1.1.4.cmml" xref="algorithm2e1.55.1.m1.1.1.4">𝑜</ci><ci id="algorithm2e1.55.1.m1.1.1.5.cmml" xref="algorithm2e1.55.1.m1.1.1.5">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e1.55.1.m1.1c">stop</annotation></semantics></math></em>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e1.68" class="ltx_listingline ltx_figure_panel">
</div>
</div>
</div>
</figure>
<div id="A2.SS1.p1" class="ltx_para ltx_noindent">
<p id="A2.SS1.p1.1" class="ltx_p">Algorithm <a href="#algorithm2e1" title="Algorithm 1 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> describes the generalized federated learning procedure implemented in <span id="A2.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> that can run a concrete FL algorithm with a generic model and orthogonal features like aggregation and DP mechanisms.</p>
</div>
<div id="A2.SS1.p2" class="ltx_para ltx_noindent">
<p id="A2.SS1.p2.5" class="ltx_p">An algorithm run for a number of central iterations, which is either determined by the algorithm or interrupted by a callback.
A context <math id="A2.SS1.p2.1.m1.1" class="ltx_Math" alttext="c_{i}\in\mathcal{C}" display="inline"><semantics id="A2.SS1.p2.1.m1.1a"><mrow id="A2.SS1.p2.1.m1.1.1" xref="A2.SS1.p2.1.m1.1.1.cmml"><msub id="A2.SS1.p2.1.m1.1.1.2" xref="A2.SS1.p2.1.m1.1.1.2.cmml"><mi id="A2.SS1.p2.1.m1.1.1.2.2" xref="A2.SS1.p2.1.m1.1.1.2.2.cmml">c</mi><mi id="A2.SS1.p2.1.m1.1.1.2.3" xref="A2.SS1.p2.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="A2.SS1.p2.1.m1.1.1.1" xref="A2.SS1.p2.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A2.SS1.p2.1.m1.1.1.3" xref="A2.SS1.p2.1.m1.1.1.3.cmml">𝒞</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.1.m1.1b"><apply id="A2.SS1.p2.1.m1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1"><in id="A2.SS1.p2.1.m1.1.1.1.cmml" xref="A2.SS1.p2.1.m1.1.1.1"></in><apply id="A2.SS1.p2.1.m1.1.1.2.cmml" xref="A2.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.SS1.p2.1.m1.1.1.2.1.cmml" xref="A2.SS1.p2.1.m1.1.1.2">subscript</csymbol><ci id="A2.SS1.p2.1.m1.1.1.2.2.cmml" xref="A2.SS1.p2.1.m1.1.1.2.2">𝑐</ci><ci id="A2.SS1.p2.1.m1.1.1.2.3.cmml" xref="A2.SS1.p2.1.m1.1.1.2.3">𝑖</ci></apply><ci id="A2.SS1.p2.1.m1.1.1.3.cmml" xref="A2.SS1.p2.1.m1.1.1.3">𝒞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.1.m1.1c">c_{i}\in\mathcal{C}</annotation></semantics></math> is a recipe for how to run the next central iteration.
It contains parameters for local model training and evaluation, state of the algorithm, dataset target criteria and parameters for other steps of the algorithm.
A federated algorithm <math id="A2.SS1.p2.2.m2.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="A2.SS1.p2.2.m2.1a"><mrow id="A2.SS1.p2.2.m2.1.1" xref="A2.SS1.p2.2.m2.1.1.cmml"><mi id="A2.SS1.p2.2.m2.1.1.2" xref="A2.SS1.p2.2.m2.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p2.2.m2.1.1.1" xref="A2.SS1.p2.2.m2.1.1.1.cmml">​</mo><mi id="A2.SS1.p2.2.m2.1.1.3" xref="A2.SS1.p2.2.m2.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p2.2.m2.1.1.1a" xref="A2.SS1.p2.2.m2.1.1.1.cmml">​</mo><mi id="A2.SS1.p2.2.m2.1.1.4" xref="A2.SS1.p2.2.m2.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.2.m2.1b"><apply id="A2.SS1.p2.2.m2.1.1.cmml" xref="A2.SS1.p2.2.m2.1.1"><times id="A2.SS1.p2.2.m2.1.1.1.cmml" xref="A2.SS1.p2.2.m2.1.1.1"></times><ci id="A2.SS1.p2.2.m2.1.1.2.cmml" xref="A2.SS1.p2.2.m2.1.1.2">𝑎</ci><ci id="A2.SS1.p2.2.m2.1.1.3.cmml" xref="A2.SS1.p2.2.m2.1.1.3">𝑙</ci><ci id="A2.SS1.p2.2.m2.1.1.4.cmml" xref="A2.SS1.p2.2.m2.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.2.m2.1c">alg</annotation></semantics></math> operates on a group of federated datasets <math id="A2.SS1.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="A2.SS1.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="A2.SS1.p2.3.m3.1.1" xref="A2.SS1.p2.3.m3.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.3.m3.1b"><ci id="A2.SS1.p2.3.m3.1.1.cmml" xref="A2.SS1.p2.3.m3.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.3.m3.1c">\mathcal{F}</annotation></semantics></math> and each context <math id="A2.SS1.p2.4.m4.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="A2.SS1.p2.4.m4.1a"><msub id="A2.SS1.p2.4.m4.1.1" xref="A2.SS1.p2.4.m4.1.1.cmml"><mi id="A2.SS1.p2.4.m4.1.1.2" xref="A2.SS1.p2.4.m4.1.1.2.cmml">c</mi><mi id="A2.SS1.p2.4.m4.1.1.3" xref="A2.SS1.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.4.m4.1b"><apply id="A2.SS1.p2.4.m4.1.1.cmml" xref="A2.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="A2.SS1.p2.4.m4.1.1.1.cmml" xref="A2.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="A2.SS1.p2.4.m4.1.1.2.cmml" xref="A2.SS1.p2.4.m4.1.1.2">𝑐</ci><ci id="A2.SS1.p2.4.m4.1.1.3.cmml" xref="A2.SS1.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.4.m4.1c">c_{i}</annotation></semantics></math> targets one federated dataset <math id="A2.SS1.p2.5.m5.1" class="ltx_Math" alttext="D\in\mathcal{F}" display="inline"><semantics id="A2.SS1.p2.5.m5.1a"><mrow id="A2.SS1.p2.5.m5.1.1" xref="A2.SS1.p2.5.m5.1.1.cmml"><mi id="A2.SS1.p2.5.m5.1.1.2" xref="A2.SS1.p2.5.m5.1.1.2.cmml">D</mi><mo id="A2.SS1.p2.5.m5.1.1.1" xref="A2.SS1.p2.5.m5.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="A2.SS1.p2.5.m5.1.1.3" xref="A2.SS1.p2.5.m5.1.1.3.cmml">ℱ</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p2.5.m5.1b"><apply id="A2.SS1.p2.5.m5.1.1.cmml" xref="A2.SS1.p2.5.m5.1.1"><in id="A2.SS1.p2.5.m5.1.1.1.cmml" xref="A2.SS1.p2.5.m5.1.1.1"></in><ci id="A2.SS1.p2.5.m5.1.1.2.cmml" xref="A2.SS1.p2.5.m5.1.1.2">𝐷</ci><ci id="A2.SS1.p2.5.m5.1.1.3.cmml" xref="A2.SS1.p2.5.m5.1.1.3">ℱ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p2.5.m5.1c">D\in\mathcal{F}</annotation></semantics></math>.</p>
</div>
<div id="A2.SS1.p3" class="ltx_para ltx_noindent">
<p id="A2.SS1.p3.1" class="ltx_p">Metrics get accumulated on almost every step in Algorithm <a href="#algorithm2e1" title="Algorithm 1 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and reported at the end of each central iteration, but the processing of metrics is abstracted away for simplicity.</p>
</div>
<div id="A2.SS1.p4" class="ltx_para ltx_noindent">
<p id="A2.SS1.p4.1" class="ltx_p">Aggregation is distinct from the algorithm in <span id="A2.SS1.p4.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> because in practice the algorithm is usually constrained by the deployed secure aggregation system which requires a summable vector.
The efficient architecture of <span id="A2.SS1.p4.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> requires the aggregator <math id="A2.SS1.p4.1.m1.1" class="ltx_Math" alttext="agg" display="inline"><semantics id="A2.SS1.p4.1.m1.1a"><mrow id="A2.SS1.p4.1.m1.1.1" xref="A2.SS1.p4.1.m1.1.1.cmml"><mi id="A2.SS1.p4.1.m1.1.1.2" xref="A2.SS1.p4.1.m1.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p4.1.m1.1.1.1" xref="A2.SS1.p4.1.m1.1.1.1.cmml">​</mo><mi id="A2.SS1.p4.1.m1.1.1.3" xref="A2.SS1.p4.1.m1.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p4.1.m1.1.1.1a" xref="A2.SS1.p4.1.m1.1.1.1.cmml">​</mo><mi id="A2.SS1.p4.1.m1.1.1.4" xref="A2.SS1.p4.1.m1.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p4.1.m1.1b"><apply id="A2.SS1.p4.1.m1.1.1.cmml" xref="A2.SS1.p4.1.m1.1.1"><times id="A2.SS1.p4.1.m1.1.1.1.cmml" xref="A2.SS1.p4.1.m1.1.1.1"></times><ci id="A2.SS1.p4.1.m1.1.1.2.cmml" xref="A2.SS1.p4.1.m1.1.1.2">𝑎</ci><ci id="A2.SS1.p4.1.m1.1.1.3.cmml" xref="A2.SS1.p4.1.m1.1.1.3">𝑔</ci><ci id="A2.SS1.p4.1.m1.1.1.4.cmml" xref="A2.SS1.p4.1.m1.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p4.1.m1.1c">agg</annotation></semantics></math> to be defined in two parts — <span id="A2.SS1.p4.1.3" class="ltx_text ltx_font_typewriter">accumulate</span> and <span id="A2.SS1.p4.1.4" class="ltx_text ltx_font_typewriter">worker_reduce</span>.
It is essential to make the aggregator agnostic to the number of worker processes spawned, which requires a concrete aggregator implementation to adhere to the following rules:</p>
</div>
<div id="A2.SS1.p5" class="ltx_para ltx_noindent">
<ol id="A2.I1" class="ltx_enumerate">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.2" class="ltx_p">A concrete aggregator derived from the abstract base class <span id="A2.I1.i1.p1.2.1" class="ltx_text ltx_font_typewriter">Aggregator</span> must implement two functions: <math id="A2.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.I1.i1.p1.1.m1.1a"><mi id="A2.I1.i1.p1.1.m1.1.1" xref="A2.I1.i1.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.1.m1.1b"><ci id="A2.I1.i1.p1.1.m1.1.1.cmml" xref="A2.I1.i1.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.1.m1.1c">f</annotation></semantics></math> for <span id="A2.I1.i1.p1.2.2" class="ltx_text ltx_font_typewriter">accumulate</span> and <math id="A2.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.I1.i1.p1.2.m2.1a"><mi id="A2.I1.i1.p1.2.m2.1.1" xref="A2.I1.i1.p1.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.p1.2.m2.1b"><ci id="A2.I1.i1.p1.2.m2.1.1.cmml" xref="A2.I1.i1.p1.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.p1.2.m2.1c">g</annotation></semantics></math> for <span id="A2.I1.i1.p1.2.3" class="ltx_text ltx_font_typewriter">worker_reduce</span> where</p>
<ul id="A2.I1.i1.I1" class="ltx_itemize">
<li id="A2.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.I1.i1.p1.5" class="ltx_p"><math id="A2.I1.i1.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.I1.i1.I1.i1.p1.1.m1.1a"><mi id="A2.I1.i1.I1.i1.p1.1.m1.1.1" xref="A2.I1.i1.I1.i1.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i1.p1.1.m1.1b"><ci id="A2.I1.i1.I1.i1.p1.1.m1.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i1.p1.1.m1.1c">f</annotation></semantics></math> represents the operation associated with accumulation of statistics from users within a worker process <math id="A2.I1.i1.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="A2.I1.i1.I1.i1.p1.2.m2.1a"><mi id="A2.I1.i1.I1.i1.p1.2.m2.1.1" xref="A2.I1.i1.I1.i1.p1.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i1.p1.2.m2.1b"><ci id="A2.I1.i1.I1.i1.p1.2.m2.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i1.p1.2.m2.1c">w</annotation></semantics></math>. Upon receiving a user statistics <math id="A2.I1.i1.I1.i1.p1.3.m3.1" class="ltx_Math" alttext="\Delta_{u}" display="inline"><semantics id="A2.I1.i1.I1.i1.p1.3.m3.1a"><msub id="A2.I1.i1.I1.i1.p1.3.m3.1.1" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1.cmml"><mi mathvariant="normal" id="A2.I1.i1.I1.i1.p1.3.m3.1.1.2" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1.2.cmml">Δ</mi><mi id="A2.I1.i1.I1.i1.p1.3.m3.1.1.3" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i1.p1.3.m3.1b"><apply id="A2.I1.i1.I1.i1.p1.3.m3.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i1.p1.3.m3.1.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1">subscript</csymbol><ci id="A2.I1.i1.I1.i1.p1.3.m3.1.1.2.cmml" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1.2">Δ</ci><ci id="A2.I1.i1.I1.i1.p1.3.m3.1.1.3.cmml" xref="A2.I1.i1.I1.i1.p1.3.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i1.p1.3.m3.1c">\Delta_{u}</annotation></semantics></math>, the worker accumulated state <math id="A2.I1.i1.I1.i1.p1.4.m4.1" class="ltx_Math" alttext="S_{w}" display="inline"><semantics id="A2.I1.i1.I1.i1.p1.4.m4.1a"><msub id="A2.I1.i1.I1.i1.p1.4.m4.1.1" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1.cmml"><mi id="A2.I1.i1.I1.i1.p1.4.m4.1.1.2" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1.2.cmml">S</mi><mi id="A2.I1.i1.I1.i1.p1.4.m4.1.1.3" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i1.p1.4.m4.1b"><apply id="A2.I1.i1.I1.i1.p1.4.m4.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i1.p1.4.m4.1.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1">subscript</csymbol><ci id="A2.I1.i1.I1.i1.p1.4.m4.1.1.2.cmml" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1.2">𝑆</ci><ci id="A2.I1.i1.I1.i1.p1.4.m4.1.1.3.cmml" xref="A2.I1.i1.I1.i1.p1.4.m4.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i1.p1.4.m4.1c">S_{w}</annotation></semantics></math> is updated as: <math id="A2.I1.i1.I1.i1.p1.5.m5.2" class="ltx_Math" alttext="S_{w}=f(S_{w},\Delta_{u})" display="inline"><semantics id="A2.I1.i1.I1.i1.p1.5.m5.2a"><mrow id="A2.I1.i1.I1.i1.p1.5.m5.2.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.cmml"><msub id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.cmml"><mi id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.2.cmml">S</mi><mi id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.3" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.3.cmml">w</mi></msub><mo id="A2.I1.i1.I1.i1.p1.5.m5.2.2.3" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.3.cmml">=</mo><mrow id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.cmml"><mi id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.4" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.3" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml">​</mo><mrow id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3.cmml"><mo stretchy="false" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.3" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3.cmml">(</mo><msub id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.cmml"><mi id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.2" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.3" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.3.cmml">w</mi></msub><mo id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.4" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3.cmml">,</mo><msub id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.cmml"><mi mathvariant="normal" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2.cmml">Δ</mi><mi id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3.cmml">u</mi></msub><mo stretchy="false" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.5" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i1.p1.5.m5.2b"><apply id="A2.I1.i1.I1.i1.p1.5.m5.2.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2"><eq id="A2.I1.i1.I1.i1.p1.5.m5.2.2.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.3"></eq><apply id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.1.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4">subscript</csymbol><ci id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.2">𝑆</ci><ci id="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.4.3">𝑤</ci></apply><apply id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2"><times id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.3"></times><ci id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.4.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.4">𝑓</ci><interval closure="open" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2"><apply id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1">subscript</csymbol><ci id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.1.1.1.1.1.1.3">𝑤</ci></apply><apply id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.1.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2">subscript</csymbol><ci id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.2">Δ</ci><ci id="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3.cmml" xref="A2.I1.i1.I1.i1.p1.5.m5.2.2.2.2.2.2.3">𝑢</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i1.p1.5.m5.2c">S_{w}=f(S_{w},\Delta_{u})</annotation></semantics></math>,</p>
</div>
</li>
<li id="A2.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.I1.i2.p1" class="ltx_para ltx_noindent">
<p id="A2.I1.i1.I1.i2.p1.3" class="ltx_p"><math id="A2.I1.i1.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.I1.i1.I1.i2.p1.1.m1.1a"><mi id="A2.I1.i1.I1.i2.p1.1.m1.1.1" xref="A2.I1.i1.I1.i2.p1.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i2.p1.1.m1.1b"><ci id="A2.I1.i1.I1.i2.p1.1.m1.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i2.p1.1.m1.1c">g</annotation></semantics></math> represents the operation used for inter-worker aggregation on the set of accumulated states from all workers. Each worker process <math id="A2.I1.i1.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="w" display="inline"><semantics id="A2.I1.i1.I1.i2.p1.2.m2.1a"><mi id="A2.I1.i1.I1.i2.p1.2.m2.1.1" xref="A2.I1.i1.I1.i2.p1.2.m2.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i2.p1.2.m2.1b"><ci id="A2.I1.i1.I1.i2.p1.2.m2.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.2.m2.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i2.p1.2.m2.1c">w</annotation></semantics></math> calls <span id="A2.I1.i1.I1.i2.p1.3.1" class="ltx_text ltx_font_typewriter">worker_reduce</span> and receives the aggregated results as <math id="A2.I1.i1.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="S=g(\{S_{w}\mid\forall\text{ worker process }w\})" display="inline"><semantics id="A2.I1.i1.I1.i2.p1.3.m3.1a"><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.cmml"><mi id="A2.I1.i1.I1.i2.p1.3.m3.1.1.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.3.cmml">S</mi><mo id="A2.I1.i1.I1.i2.p1.3.m3.1.1.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.2.cmml">=</mo><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.cmml"><mi id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.2.cmml">​</mo><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.cmml"><mo stretchy="false" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.cmml">(</mo><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.1.cmml">{</mo><msub id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.cmml"><mi id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.3.cmml">w</mi></msub><mo fence="true" lspace="0em" rspace="0.167em" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.4" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.1.cmml">∣</mo><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.cmml"><mo rspace="0.167em" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.1.cmml">∀</mo><mrow id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.cmml"><mtext id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2a.cmml"> worker process </mtext><mo lspace="0em" rspace="0em" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.1" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.3.cmml">w</mi></mrow></mrow><mo stretchy="false" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.5" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.1.cmml">}</mo></mrow><mo stretchy="false" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.3" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.I1.i1.I1.i2.p1.3.m3.1b"><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1"><eq id="A2.I1.i1.I1.i2.p1.3.m3.1.1.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.2"></eq><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.3.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.3">𝑆</ci><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1"><times id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.2"></times><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.3.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.3">𝑔</ci><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2"><csymbol cd="latexml" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.3">conditional-set</csymbol><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.3.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.1.1.3">𝑤</ci></apply><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2"><csymbol cd="latexml" id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.1">for-all</csymbol><apply id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2"><times id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.1"></times><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2a.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2"><mtext id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.2"> worker process </mtext></ci><ci id="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.3.cmml" xref="A2.I1.i1.I1.i2.p1.3.m3.1.1.1.1.1.1.2.2.2.3">𝑤</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i1.I1.i2.p1.3.m3.1c">S=g(\{S_{w}\mid\forall\text{ worker process }w\})</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="A2.I1.i2.p1" class="ltx_para ltx_noindent">
<p id="A2.I1.i2.p1.4" class="ltx_p">For any accumulated state <math id="A2.I1.i2.p1.1.m1.2" class="ltx_Math" alttext="S_{a},S_{b}" display="inline"><semantics id="A2.I1.i2.p1.1.m1.2a"><mrow id="A2.I1.i2.p1.1.m1.2.2.2" xref="A2.I1.i2.p1.1.m1.2.2.3.cmml"><msub id="A2.I1.i2.p1.1.m1.1.1.1.1" xref="A2.I1.i2.p1.1.m1.1.1.1.1.cmml"><mi id="A2.I1.i2.p1.1.m1.1.1.1.1.2" xref="A2.I1.i2.p1.1.m1.1.1.1.1.2.cmml">S</mi><mi id="A2.I1.i2.p1.1.m1.1.1.1.1.3" xref="A2.I1.i2.p1.1.m1.1.1.1.1.3.cmml">a</mi></msub><mo id="A2.I1.i2.p1.1.m1.2.2.2.3" xref="A2.I1.i2.p1.1.m1.2.2.3.cmml">,</mo><msub id="A2.I1.i2.p1.1.m1.2.2.2.2" xref="A2.I1.i2.p1.1.m1.2.2.2.2.cmml"><mi id="A2.I1.i2.p1.1.m1.2.2.2.2.2" xref="A2.I1.i2.p1.1.m1.2.2.2.2.2.cmml">S</mi><mi id="A2.I1.i2.p1.1.m1.2.2.2.2.3" xref="A2.I1.i2.p1.1.m1.2.2.2.2.3.cmml">b</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.I1.i2.p1.1.m1.2b"><list id="A2.I1.i2.p1.1.m1.2.2.3.cmml" xref="A2.I1.i2.p1.1.m1.2.2.2"><apply id="A2.I1.i2.p1.1.m1.1.1.1.1.cmml" xref="A2.I1.i2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="A2.I1.i2.p1.1.m1.1.1.1.1.1.cmml" xref="A2.I1.i2.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="A2.I1.i2.p1.1.m1.1.1.1.1.2.cmml" xref="A2.I1.i2.p1.1.m1.1.1.1.1.2">𝑆</ci><ci id="A2.I1.i2.p1.1.m1.1.1.1.1.3.cmml" xref="A2.I1.i2.p1.1.m1.1.1.1.1.3">𝑎</ci></apply><apply id="A2.I1.i2.p1.1.m1.2.2.2.2.cmml" xref="A2.I1.i2.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="A2.I1.i2.p1.1.m1.2.2.2.2.1.cmml" xref="A2.I1.i2.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="A2.I1.i2.p1.1.m1.2.2.2.2.2.cmml" xref="A2.I1.i2.p1.1.m1.2.2.2.2.2">𝑆</ci><ci id="A2.I1.i2.p1.1.m1.2.2.2.2.3.cmml" xref="A2.I1.i2.p1.1.m1.2.2.2.2.3">𝑏</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i2.p1.1.m1.2c">S_{a},S_{b}</annotation></semantics></math> and user statistics <math id="A2.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A2.I1.i2.p1.2.m2.1a"><mi mathvariant="normal" id="A2.I1.i2.p1.2.m2.1.1" xref="A2.I1.i2.p1.2.m2.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i2.p1.2.m2.1b"><ci id="A2.I1.i2.p1.2.m2.1.1.cmml" xref="A2.I1.i2.p1.2.m2.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i2.p1.2.m2.1c">\Delta</annotation></semantics></math> of the context over which <span id="A2.I1.i2.p1.4.1" class="ltx_text ltx_font_typewriter">Aggregator</span> operates, the functions <math id="A2.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.I1.i2.p1.3.m3.1a"><mi id="A2.I1.i2.p1.3.m3.1.1" xref="A2.I1.i2.p1.3.m3.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i2.p1.3.m3.1b"><ci id="A2.I1.i2.p1.3.m3.1.1.cmml" xref="A2.I1.i2.p1.3.m3.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i2.p1.3.m3.1c">f</annotation></semantics></math> and <math id="A2.I1.i2.p1.4.m4.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.I1.i2.p1.4.m4.1a"><mi id="A2.I1.i2.p1.4.m4.1.1" xref="A2.I1.i2.p1.4.m4.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.I1.i2.p1.4.m4.1b"><ci id="A2.I1.i2.p1.4.m4.1.1.cmml" xref="A2.I1.i2.p1.4.m4.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.I1.i2.p1.4.m4.1c">g</annotation></semantics></math> must satisfy the following property:</p>
<table id="A2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A2.Ex1.m1.5" class="ltx_Math" alttext="\forall S_{a},S_{b},\Delta\quad g(\{f(S_{a},\Delta),S_{b}\})=g(\{f(S_{b},\Delta),S_{a}\})=f(g(\{S_{a},S_{b}\}),\Delta)." display="block"><semantics id="A2.Ex1.m1.5a"><mrow id="A2.Ex1.m1.5.5.1" xref="A2.Ex1.m1.5.5.1.1.cmml"><mrow id="A2.Ex1.m1.5.5.1.1" xref="A2.Ex1.m1.5.5.1.1.cmml"><mrow id="A2.Ex1.m1.5.5.1.1.3.3" xref="A2.Ex1.m1.5.5.1.1.3.4.cmml"><mrow id="A2.Ex1.m1.5.5.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.1.1.1.cmml"><mo rspace="0.167em" id="A2.Ex1.m1.5.5.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.1.1.1.1.cmml">∀</mo><msub id="A2.Ex1.m1.5.5.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2.cmml"><mi id="A2.Ex1.m1.5.5.1.1.1.1.1.2.2" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.1.1.1.2.3" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2.3.cmml">a</mi></msub></mrow><mo id="A2.Ex1.m1.5.5.1.1.3.3.4" xref="A2.Ex1.m1.5.5.1.1.3.4.cmml">,</mo><msub id="A2.Ex1.m1.5.5.1.1.2.2.2" xref="A2.Ex1.m1.5.5.1.1.2.2.2.cmml"><mi id="A2.Ex1.m1.5.5.1.1.2.2.2.2" xref="A2.Ex1.m1.5.5.1.1.2.2.2.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.2.2.2.3" xref="A2.Ex1.m1.5.5.1.1.2.2.2.3.cmml">b</mi></msub><mo id="A2.Ex1.m1.5.5.1.1.3.3.5" xref="A2.Ex1.m1.5.5.1.1.3.4.cmml">,</mo><mi mathvariant="normal" id="A2.Ex1.m1.4.4" xref="A2.Ex1.m1.4.4.cmml">Δ</mi><mspace width="1em" id="A2.Ex1.m1.5.5.1.1.3.3.6" xref="A2.Ex1.m1.5.5.1.1.3.4.cmml"></mspace><mrow id="A2.Ex1.m1.5.5.1.1.3.3.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.cmml"><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.3.3.3.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1" xref="A2.Ex1.m1.5.5.1.1.3.3.3.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.cmml">(</mo><mrow id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.3.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.3.cmml">{</mo><mrow id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.2.cmml">(</mo><msub id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.3.cmml">a</mi></msub><mo id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.2.cmml">,</mo><mi mathvariant="normal" id="A2.Ex1.m1.1.1" xref="A2.Ex1.m1.1.1.cmml">Δ</mi><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.4" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.4" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.3.cmml">,</mo><msub id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.cmml"><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.2" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.3.cmml">b</mi></msub><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.5" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.3" xref="A2.Ex1.m1.5.5.1.1.3.3.3.cmml">)</mo></mrow></mrow></mrow><mo id="A2.Ex1.m1.5.5.1.1.7" xref="A2.Ex1.m1.5.5.1.1.7.cmml">=</mo><mrow id="A2.Ex1.m1.5.5.1.1.4" xref="A2.Ex1.m1.5.5.1.1.4.cmml"><mi id="A2.Ex1.m1.5.5.1.1.4.3" xref="A2.Ex1.m1.5.5.1.1.4.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.4.2" xref="A2.Ex1.m1.5.5.1.1.4.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.4.1.1" xref="A2.Ex1.m1.5.5.1.1.4.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.2" xref="A2.Ex1.m1.5.5.1.1.4.cmml">(</mo><mrow id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.3.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.3" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.3.cmml">{</mo><mrow id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.2.cmml">(</mo><msub id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.3.cmml">b</mi></msub><mo id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.2.cmml">,</mo><mi mathvariant="normal" id="A2.Ex1.m1.2.2" xref="A2.Ex1.m1.2.2.cmml">Δ</mi><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.4" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.4" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.3.cmml">,</mo><msub id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.cmml"><mi id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.2" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.3" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.3.cmml">a</mi></msub><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.5" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.4.1.1.3" xref="A2.Ex1.m1.5.5.1.1.4.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.5.5.1.1.8" xref="A2.Ex1.m1.5.5.1.1.8.cmml">=</mo><mrow id="A2.Ex1.m1.5.5.1.1.5" xref="A2.Ex1.m1.5.5.1.1.5.cmml"><mi id="A2.Ex1.m1.5.5.1.1.5.3" xref="A2.Ex1.m1.5.5.1.1.5.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.5.2" xref="A2.Ex1.m1.5.5.1.1.5.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.5.1.1" xref="A2.Ex1.m1.5.5.1.1.5.1.2.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.2" xref="A2.Ex1.m1.5.5.1.1.5.1.2.cmml">(</mo><mrow id="A2.Ex1.m1.5.5.1.1.5.1.1.1" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.5.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.2.cmml">​</mo><mrow id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.cmml">(</mo><mrow id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.3" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.3.cmml">{</mo><msub id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.3.cmml">a</mi></msub><mo id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.4" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.3.cmml">,</mo><msub id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.cmml"><mi id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.2" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.2.cmml">S</mi><mi id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.3" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.3.cmml">b</mi></msub><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.5" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.3.cmml">}</mo></mrow><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.3" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.cmml">)</mo></mrow></mrow><mo id="A2.Ex1.m1.5.5.1.1.5.1.1.3" xref="A2.Ex1.m1.5.5.1.1.5.1.2.cmml">,</mo><mi mathvariant="normal" id="A2.Ex1.m1.3.3" xref="A2.Ex1.m1.3.3.cmml">Δ</mi><mo stretchy="false" id="A2.Ex1.m1.5.5.1.1.5.1.1.4" xref="A2.Ex1.m1.5.5.1.1.5.1.2.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="A2.Ex1.m1.5.5.1.2" xref="A2.Ex1.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex1.m1.5b"><apply id="A2.Ex1.m1.5.5.1.1.cmml" xref="A2.Ex1.m1.5.5.1"><and id="A2.Ex1.m1.5.5.1.1a.cmml" xref="A2.Ex1.m1.5.5.1"></and><apply id="A2.Ex1.m1.5.5.1.1b.cmml" xref="A2.Ex1.m1.5.5.1"><eq id="A2.Ex1.m1.5.5.1.1.7.cmml" xref="A2.Ex1.m1.5.5.1.1.7"></eq><list id="A2.Ex1.m1.5.5.1.1.3.4.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3"><apply id="A2.Ex1.m1.5.5.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1"><csymbol cd="latexml" id="A2.Ex1.m1.5.5.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1.1">for-all</csymbol><apply id="A2.Ex1.m1.5.5.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.1.1.1.2.1.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.1.1.1.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.1.1.1.2.3.cmml" xref="A2.Ex1.m1.5.5.1.1.1.1.1.2.3">𝑎</ci></apply></apply><apply id="A2.Ex1.m1.5.5.1.1.2.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.2.2.2.1.cmml" xref="A2.Ex1.m1.5.5.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.2.2.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.2.2.2.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.2.2.2.3.cmml" xref="A2.Ex1.m1.5.5.1.1.2.2.2.3">𝑏</ci></apply><ci id="A2.Ex1.m1.4.4.cmml" xref="A2.Ex1.m1.4.4">Δ</ci><apply id="A2.Ex1.m1.5.5.1.1.3.3.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3"><times id="A2.Ex1.m1.5.5.1.1.3.3.3.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.2"></times><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.3">𝑔</ci><set id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2"><apply id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1"><times id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.2"></times><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.3">𝑓</ci><interval closure="open" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1"><apply id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.1.1.1.1.1.3">𝑎</ci></apply><ci id="A2.Ex1.m1.1.1.cmml" xref="A2.Ex1.m1.1.1">Δ</ci></interval></apply><apply id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.1.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.3.cmml" xref="A2.Ex1.m1.5.5.1.1.3.3.3.1.1.1.2.2.3">𝑏</ci></apply></set></apply></list><apply id="A2.Ex1.m1.5.5.1.1.4.cmml" xref="A2.Ex1.m1.5.5.1.1.4"><times id="A2.Ex1.m1.5.5.1.1.4.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.2"></times><ci id="A2.Ex1.m1.5.5.1.1.4.3.cmml" xref="A2.Ex1.m1.5.5.1.1.4.3">𝑔</ci><set id="A2.Ex1.m1.5.5.1.1.4.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2"><apply id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1"><times id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.2"></times><ci id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.3">𝑓</ci><interval closure="open" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1"><apply id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.1.1.1.1.1.3">𝑏</ci></apply><ci id="A2.Ex1.m1.2.2.cmml" xref="A2.Ex1.m1.2.2">Δ</ci></interval></apply><apply id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.1.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.3.cmml" xref="A2.Ex1.m1.5.5.1.1.4.1.1.1.2.2.3">𝑎</ci></apply></set></apply></apply><apply id="A2.Ex1.m1.5.5.1.1c.cmml" xref="A2.Ex1.m1.5.5.1"><eq id="A2.Ex1.m1.5.5.1.1.8.cmml" xref="A2.Ex1.m1.5.5.1.1.8"></eq><share href="#A2.Ex1.m1.5.5.1.1.4.cmml" id="A2.Ex1.m1.5.5.1.1d.cmml" xref="A2.Ex1.m1.5.5.1"></share><apply id="A2.Ex1.m1.5.5.1.1.5.cmml" xref="A2.Ex1.m1.5.5.1.1.5"><times id="A2.Ex1.m1.5.5.1.1.5.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.2"></times><ci id="A2.Ex1.m1.5.5.1.1.5.3.cmml" xref="A2.Ex1.m1.5.5.1.1.5.3">𝑓</ci><interval closure="open" id="A2.Ex1.m1.5.5.1.1.5.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1"><apply id="A2.Ex1.m1.5.5.1.1.5.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1"><times id="A2.Ex1.m1.5.5.1.1.5.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.2"></times><ci id="A2.Ex1.m1.5.5.1.1.5.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.3">𝑔</ci><set id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2"><apply id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.1.1.3">𝑎</ci></apply><apply id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.1.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.2.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.2">𝑆</ci><ci id="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.3.cmml" xref="A2.Ex1.m1.5.5.1.1.5.1.1.1.1.1.1.2.2.3">𝑏</ci></apply></set></apply><ci id="A2.Ex1.m1.3.3.cmml" xref="A2.Ex1.m1.3.3">Δ</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex1.m1.5c">\forall S_{a},S_{b},\Delta\quad g(\{f(S_{a},\Delta),S_{b}\})=g(\{f(S_{b},\Delta),S_{a}\})=f(g(\{S_{a},S_{b}\}),\Delta).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
</ol>
</div>
<div id="A2.SS1.p6" class="ltx_para ltx_noindent">
<p id="A2.SS1.p6.12" class="ltx_p">The most common implementation in FL for <math id="A2.SS1.p6.1.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.SS1.p6.1.m1.1a"><mi id="A2.SS1.p6.1.m1.1.1" xref="A2.SS1.p6.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.1.m1.1b"><ci id="A2.SS1.p6.1.m1.1.1.cmml" xref="A2.SS1.p6.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.1.m1.1c">f</annotation></semantics></math> and <math id="A2.SS1.p6.2.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.SS1.p6.2.m2.1a"><mi id="A2.SS1.p6.2.m2.1.1" xref="A2.SS1.p6.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.2.m2.1b"><ci id="A2.SS1.p6.2.m2.1.1.cmml" xref="A2.SS1.p6.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.2.m2.1c">g</annotation></semantics></math> is vector summation where the state <math id="A2.SS1.p6.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="A2.SS1.p6.3.m3.1a"><mi id="A2.SS1.p6.3.m3.1.1" xref="A2.SS1.p6.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.3.m3.1b"><ci id="A2.SS1.p6.3.m3.1.1.cmml" xref="A2.SS1.p6.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.3.m3.1c">S</annotation></semantics></math> is a vector, <math id="A2.SS1.p6.4.m4.2" class="ltx_Math" alttext="f(S,\Delta)=S+\Delta" display="inline"><semantics id="A2.SS1.p6.4.m4.2a"><mrow id="A2.SS1.p6.4.m4.2.3" xref="A2.SS1.p6.4.m4.2.3.cmml"><mrow id="A2.SS1.p6.4.m4.2.3.2" xref="A2.SS1.p6.4.m4.2.3.2.cmml"><mi id="A2.SS1.p6.4.m4.2.3.2.2" xref="A2.SS1.p6.4.m4.2.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p6.4.m4.2.3.2.1" xref="A2.SS1.p6.4.m4.2.3.2.1.cmml">​</mo><mrow id="A2.SS1.p6.4.m4.2.3.2.3.2" xref="A2.SS1.p6.4.m4.2.3.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p6.4.m4.2.3.2.3.2.1" xref="A2.SS1.p6.4.m4.2.3.2.3.1.cmml">(</mo><mi id="A2.SS1.p6.4.m4.1.1" xref="A2.SS1.p6.4.m4.1.1.cmml">S</mi><mo id="A2.SS1.p6.4.m4.2.3.2.3.2.2" xref="A2.SS1.p6.4.m4.2.3.2.3.1.cmml">,</mo><mi mathvariant="normal" id="A2.SS1.p6.4.m4.2.2" xref="A2.SS1.p6.4.m4.2.2.cmml">Δ</mi><mo stretchy="false" id="A2.SS1.p6.4.m4.2.3.2.3.2.3" xref="A2.SS1.p6.4.m4.2.3.2.3.1.cmml">)</mo></mrow></mrow><mo id="A2.SS1.p6.4.m4.2.3.1" xref="A2.SS1.p6.4.m4.2.3.1.cmml">=</mo><mrow id="A2.SS1.p6.4.m4.2.3.3" xref="A2.SS1.p6.4.m4.2.3.3.cmml"><mi id="A2.SS1.p6.4.m4.2.3.3.2" xref="A2.SS1.p6.4.m4.2.3.3.2.cmml">S</mi><mo id="A2.SS1.p6.4.m4.2.3.3.1" xref="A2.SS1.p6.4.m4.2.3.3.1.cmml">+</mo><mi mathvariant="normal" id="A2.SS1.p6.4.m4.2.3.3.3" xref="A2.SS1.p6.4.m4.2.3.3.3.cmml">Δ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.4.m4.2b"><apply id="A2.SS1.p6.4.m4.2.3.cmml" xref="A2.SS1.p6.4.m4.2.3"><eq id="A2.SS1.p6.4.m4.2.3.1.cmml" xref="A2.SS1.p6.4.m4.2.3.1"></eq><apply id="A2.SS1.p6.4.m4.2.3.2.cmml" xref="A2.SS1.p6.4.m4.2.3.2"><times id="A2.SS1.p6.4.m4.2.3.2.1.cmml" xref="A2.SS1.p6.4.m4.2.3.2.1"></times><ci id="A2.SS1.p6.4.m4.2.3.2.2.cmml" xref="A2.SS1.p6.4.m4.2.3.2.2">𝑓</ci><interval closure="open" id="A2.SS1.p6.4.m4.2.3.2.3.1.cmml" xref="A2.SS1.p6.4.m4.2.3.2.3.2"><ci id="A2.SS1.p6.4.m4.1.1.cmml" xref="A2.SS1.p6.4.m4.1.1">𝑆</ci><ci id="A2.SS1.p6.4.m4.2.2.cmml" xref="A2.SS1.p6.4.m4.2.2">Δ</ci></interval></apply><apply id="A2.SS1.p6.4.m4.2.3.3.cmml" xref="A2.SS1.p6.4.m4.2.3.3"><plus id="A2.SS1.p6.4.m4.2.3.3.1.cmml" xref="A2.SS1.p6.4.m4.2.3.3.1"></plus><ci id="A2.SS1.p6.4.m4.2.3.3.2.cmml" xref="A2.SS1.p6.4.m4.2.3.3.2">𝑆</ci><ci id="A2.SS1.p6.4.m4.2.3.3.3.cmml" xref="A2.SS1.p6.4.m4.2.3.3.3">Δ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.4.m4.2c">f(S,\Delta)=S+\Delta</annotation></semantics></math> and <math id="A2.SS1.p6.5.m5.2" class="ltx_Math" alttext="g(\{S_{i}\mid i\in[n]\})=\sum_{i=1}^{n}S_{i}" display="inline"><semantics id="A2.SS1.p6.5.m5.2a"><mrow id="A2.SS1.p6.5.m5.2.2" xref="A2.SS1.p6.5.m5.2.2.cmml"><mrow id="A2.SS1.p6.5.m5.2.2.1" xref="A2.SS1.p6.5.m5.2.2.1.cmml"><mi id="A2.SS1.p6.5.m5.2.2.1.3" xref="A2.SS1.p6.5.m5.2.2.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p6.5.m5.2.2.1.2" xref="A2.SS1.p6.5.m5.2.2.1.2.cmml">​</mo><mrow id="A2.SS1.p6.5.m5.2.2.1.1.1" xref="A2.SS1.p6.5.m5.2.2.1.cmml"><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.2" xref="A2.SS1.p6.5.m5.2.2.1.cmml">(</mo><mrow id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.cmml"><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.3" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.1.cmml">{</mo><msub id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.cmml"><mi id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.3" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.4" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.1.cmml">∣</mo><mrow id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.cmml"><mi id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.2.cmml">i</mi><mo id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.1" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.1.cmml">∈</mo><mrow id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.2.1" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.1.1.cmml">[</mo><mi id="A2.SS1.p6.5.m5.1.1" xref="A2.SS1.p6.5.m5.1.1.cmml">n</mi><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.2.2" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.5" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.1.cmml">}</mo></mrow><mo stretchy="false" id="A2.SS1.p6.5.m5.2.2.1.1.1.3" xref="A2.SS1.p6.5.m5.2.2.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="A2.SS1.p6.5.m5.2.2.2" xref="A2.SS1.p6.5.m5.2.2.2.cmml">=</mo><mrow id="A2.SS1.p6.5.m5.2.2.3" xref="A2.SS1.p6.5.m5.2.2.3.cmml"><msubsup id="A2.SS1.p6.5.m5.2.2.3.1" xref="A2.SS1.p6.5.m5.2.2.3.1.cmml"><mo id="A2.SS1.p6.5.m5.2.2.3.1.2.2" xref="A2.SS1.p6.5.m5.2.2.3.1.2.2.cmml">∑</mo><mrow id="A2.SS1.p6.5.m5.2.2.3.1.2.3" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.cmml"><mi id="A2.SS1.p6.5.m5.2.2.3.1.2.3.2" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.2.cmml">i</mi><mo id="A2.SS1.p6.5.m5.2.2.3.1.2.3.1" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.1.cmml">=</mo><mn id="A2.SS1.p6.5.m5.2.2.3.1.2.3.3" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="A2.SS1.p6.5.m5.2.2.3.1.3" xref="A2.SS1.p6.5.m5.2.2.3.1.3.cmml">n</mi></msubsup><msub id="A2.SS1.p6.5.m5.2.2.3.2" xref="A2.SS1.p6.5.m5.2.2.3.2.cmml"><mi id="A2.SS1.p6.5.m5.2.2.3.2.2" xref="A2.SS1.p6.5.m5.2.2.3.2.2.cmml">S</mi><mi id="A2.SS1.p6.5.m5.2.2.3.2.3" xref="A2.SS1.p6.5.m5.2.2.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.5.m5.2b"><apply id="A2.SS1.p6.5.m5.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2"><eq id="A2.SS1.p6.5.m5.2.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2.2"></eq><apply id="A2.SS1.p6.5.m5.2.2.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1"><times id="A2.SS1.p6.5.m5.2.2.1.2.cmml" xref="A2.SS1.p6.5.m5.2.2.1.2"></times><ci id="A2.SS1.p6.5.m5.2.2.1.3.cmml" xref="A2.SS1.p6.5.m5.2.2.1.3">𝑔</ci><apply id="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2"><csymbol cd="latexml" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.3.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.3">conditional-set</csymbol><apply id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.2.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.3.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2"><in id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.1"></in><ci id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.2">𝑖</ci><apply id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.2"><csymbol cd="latexml" id="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.1.1.cmml" xref="A2.SS1.p6.5.m5.2.2.1.1.1.1.2.2.3.2.1">delimited-[]</csymbol><ci id="A2.SS1.p6.5.m5.1.1.cmml" xref="A2.SS1.p6.5.m5.1.1">𝑛</ci></apply></apply></apply></apply><apply id="A2.SS1.p6.5.m5.2.2.3.cmml" xref="A2.SS1.p6.5.m5.2.2.3"><apply id="A2.SS1.p6.5.m5.2.2.3.1.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1"><csymbol cd="ambiguous" id="A2.SS1.p6.5.m5.2.2.3.1.1.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1">superscript</csymbol><apply id="A2.SS1.p6.5.m5.2.2.3.1.2.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1"><csymbol cd="ambiguous" id="A2.SS1.p6.5.m5.2.2.3.1.2.1.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1">subscript</csymbol><sum id="A2.SS1.p6.5.m5.2.2.3.1.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.2.2"></sum><apply id="A2.SS1.p6.5.m5.2.2.3.1.2.3.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3"><eq id="A2.SS1.p6.5.m5.2.2.3.1.2.3.1.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.1"></eq><ci id="A2.SS1.p6.5.m5.2.2.3.1.2.3.2.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.2">𝑖</ci><cn type="integer" id="A2.SS1.p6.5.m5.2.2.3.1.2.3.3.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.2.3.3">1</cn></apply></apply><ci id="A2.SS1.p6.5.m5.2.2.3.1.3.cmml" xref="A2.SS1.p6.5.m5.2.2.3.1.3">𝑛</ci></apply><apply id="A2.SS1.p6.5.m5.2.2.3.2.cmml" xref="A2.SS1.p6.5.m5.2.2.3.2"><csymbol cd="ambiguous" id="A2.SS1.p6.5.m5.2.2.3.2.1.cmml" xref="A2.SS1.p6.5.m5.2.2.3.2">subscript</csymbol><ci id="A2.SS1.p6.5.m5.2.2.3.2.2.cmml" xref="A2.SS1.p6.5.m5.2.2.3.2.2">𝑆</ci><ci id="A2.SS1.p6.5.m5.2.2.3.2.3.cmml" xref="A2.SS1.p6.5.m5.2.2.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.5.m5.2c">g(\{S_{i}\mid i\in[n]\})=\sum_{i=1}^{n}S_{i}</annotation></semantics></math>.
The interface provided by <span id="A2.SS1.p6.12.1" class="ltx_text ltx_font_typewriter">pfl-research</span> allows customized aggregation of user statistics by adjusting <math id="A2.SS1.p6.6.m6.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.SS1.p6.6.m6.1a"><mi id="A2.SS1.p6.6.m6.1.1" xref="A2.SS1.p6.6.m6.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.6.m6.1b"><ci id="A2.SS1.p6.6.m6.1.1.cmml" xref="A2.SS1.p6.6.m6.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.6.m6.1c">f</annotation></semantics></math> and <math id="A2.SS1.p6.7.m7.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.SS1.p6.7.m7.1a"><mi id="A2.SS1.p6.7.m7.1.1" xref="A2.SS1.p6.7.m7.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.7.m7.1b"><ci id="A2.SS1.p6.7.m7.1.1.cmml" xref="A2.SS1.p6.7.m7.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.7.m7.1c">g</annotation></semantics></math> accordingly.
For example, to gather the individual statistics from all users, <math id="A2.SS1.p6.8.m8.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.SS1.p6.8.m8.1a"><mi id="A2.SS1.p6.8.m8.1.1" xref="A2.SS1.p6.8.m8.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.8.m8.1b"><ci id="A2.SS1.p6.8.m8.1.1.cmml" xref="A2.SS1.p6.8.m8.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.8.m8.1c">f</annotation></semantics></math> and <math id="A2.SS1.p6.9.m9.1" class="ltx_Math" alttext="g" display="inline"><semantics id="A2.SS1.p6.9.m9.1a"><mi id="A2.SS1.p6.9.m9.1.1" xref="A2.SS1.p6.9.m9.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.9.m9.1b"><ci id="A2.SS1.p6.9.m9.1.1.cmml" xref="A2.SS1.p6.9.m9.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.9.m9.1c">g</annotation></semantics></math> can be implemented as vector set union where the state <math id="A2.SS1.p6.10.m10.1" class="ltx_Math" alttext="S" display="inline"><semantics id="A2.SS1.p6.10.m10.1a"><mi id="A2.SS1.p6.10.m10.1.1" xref="A2.SS1.p6.10.m10.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.10.m10.1b"><ci id="A2.SS1.p6.10.m10.1.1.cmml" xref="A2.SS1.p6.10.m10.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.10.m10.1c">S</annotation></semantics></math> is a set of vectors, <math id="A2.SS1.p6.11.m11.3" class="ltx_Math" alttext="f(S,\Delta)=S\cup\{\Delta\}" display="inline"><semantics id="A2.SS1.p6.11.m11.3a"><mrow id="A2.SS1.p6.11.m11.3.4" xref="A2.SS1.p6.11.m11.3.4.cmml"><mrow id="A2.SS1.p6.11.m11.3.4.2" xref="A2.SS1.p6.11.m11.3.4.2.cmml"><mi id="A2.SS1.p6.11.m11.3.4.2.2" xref="A2.SS1.p6.11.m11.3.4.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p6.11.m11.3.4.2.1" xref="A2.SS1.p6.11.m11.3.4.2.1.cmml">​</mo><mrow id="A2.SS1.p6.11.m11.3.4.2.3.2" xref="A2.SS1.p6.11.m11.3.4.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p6.11.m11.3.4.2.3.2.1" xref="A2.SS1.p6.11.m11.3.4.2.3.1.cmml">(</mo><mi id="A2.SS1.p6.11.m11.1.1" xref="A2.SS1.p6.11.m11.1.1.cmml">S</mi><mo id="A2.SS1.p6.11.m11.3.4.2.3.2.2" xref="A2.SS1.p6.11.m11.3.4.2.3.1.cmml">,</mo><mi mathvariant="normal" id="A2.SS1.p6.11.m11.2.2" xref="A2.SS1.p6.11.m11.2.2.cmml">Δ</mi><mo stretchy="false" id="A2.SS1.p6.11.m11.3.4.2.3.2.3" xref="A2.SS1.p6.11.m11.3.4.2.3.1.cmml">)</mo></mrow></mrow><mo id="A2.SS1.p6.11.m11.3.4.1" xref="A2.SS1.p6.11.m11.3.4.1.cmml">=</mo><mrow id="A2.SS1.p6.11.m11.3.4.3" xref="A2.SS1.p6.11.m11.3.4.3.cmml"><mi id="A2.SS1.p6.11.m11.3.4.3.2" xref="A2.SS1.p6.11.m11.3.4.3.2.cmml">S</mi><mo id="A2.SS1.p6.11.m11.3.4.3.1" xref="A2.SS1.p6.11.m11.3.4.3.1.cmml">∪</mo><mrow id="A2.SS1.p6.11.m11.3.4.3.3.2" xref="A2.SS1.p6.11.m11.3.4.3.3.1.cmml"><mo stretchy="false" id="A2.SS1.p6.11.m11.3.4.3.3.2.1" xref="A2.SS1.p6.11.m11.3.4.3.3.1.cmml">{</mo><mi mathvariant="normal" id="A2.SS1.p6.11.m11.3.3" xref="A2.SS1.p6.11.m11.3.3.cmml">Δ</mi><mo stretchy="false" id="A2.SS1.p6.11.m11.3.4.3.3.2.2" xref="A2.SS1.p6.11.m11.3.4.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.11.m11.3b"><apply id="A2.SS1.p6.11.m11.3.4.cmml" xref="A2.SS1.p6.11.m11.3.4"><eq id="A2.SS1.p6.11.m11.3.4.1.cmml" xref="A2.SS1.p6.11.m11.3.4.1"></eq><apply id="A2.SS1.p6.11.m11.3.4.2.cmml" xref="A2.SS1.p6.11.m11.3.4.2"><times id="A2.SS1.p6.11.m11.3.4.2.1.cmml" xref="A2.SS1.p6.11.m11.3.4.2.1"></times><ci id="A2.SS1.p6.11.m11.3.4.2.2.cmml" xref="A2.SS1.p6.11.m11.3.4.2.2">𝑓</ci><interval closure="open" id="A2.SS1.p6.11.m11.3.4.2.3.1.cmml" xref="A2.SS1.p6.11.m11.3.4.2.3.2"><ci id="A2.SS1.p6.11.m11.1.1.cmml" xref="A2.SS1.p6.11.m11.1.1">𝑆</ci><ci id="A2.SS1.p6.11.m11.2.2.cmml" xref="A2.SS1.p6.11.m11.2.2">Δ</ci></interval></apply><apply id="A2.SS1.p6.11.m11.3.4.3.cmml" xref="A2.SS1.p6.11.m11.3.4.3"><union id="A2.SS1.p6.11.m11.3.4.3.1.cmml" xref="A2.SS1.p6.11.m11.3.4.3.1"></union><ci id="A2.SS1.p6.11.m11.3.4.3.2.cmml" xref="A2.SS1.p6.11.m11.3.4.3.2">𝑆</ci><set id="A2.SS1.p6.11.m11.3.4.3.3.1.cmml" xref="A2.SS1.p6.11.m11.3.4.3.3.2"><ci id="A2.SS1.p6.11.m11.3.3.cmml" xref="A2.SS1.p6.11.m11.3.3">Δ</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.11.m11.3c">f(S,\Delta)=S\cup\{\Delta\}</annotation></semantics></math> and <math id="A2.SS1.p6.12.m12.2" class="ltx_Math" alttext="g(\{S_{i}\mid i\in[n]\})=\cup_{i=1}^{n}S_{i}" display="inline"><semantics id="A2.SS1.p6.12.m12.2a"><mrow id="A2.SS1.p6.12.m12.2.2" xref="A2.SS1.p6.12.m12.2.2.cmml"><mrow id="A2.SS1.p6.12.m12.2.2.1" xref="A2.SS1.p6.12.m12.2.2.1.cmml"><mi id="A2.SS1.p6.12.m12.2.2.1.3" xref="A2.SS1.p6.12.m12.2.2.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p6.12.m12.2.2.1.2" xref="A2.SS1.p6.12.m12.2.2.1.2.cmml">​</mo><mrow id="A2.SS1.p6.12.m12.2.2.1.1.1" xref="A2.SS1.p6.12.m12.2.2.1.cmml"><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.2" xref="A2.SS1.p6.12.m12.2.2.1.cmml">(</mo><mrow id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.cmml"><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.3" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.1.cmml">{</mo><msub id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.cmml"><mi id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.3" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.4" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.1.cmml">∣</mo><mrow id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.cmml"><mi id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.2.cmml">i</mi><mo id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.1" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.1.cmml">∈</mo><mrow id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.1.cmml"><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.2.1" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.1.1.cmml">[</mo><mi id="A2.SS1.p6.12.m12.1.1" xref="A2.SS1.p6.12.m12.1.1.cmml">n</mi><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.2.2" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.5" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.1.cmml">}</mo></mrow><mo stretchy="false" id="A2.SS1.p6.12.m12.2.2.1.1.1.3" xref="A2.SS1.p6.12.m12.2.2.1.cmml">)</mo></mrow></mrow><mo rspace="0em" id="A2.SS1.p6.12.m12.2.2.2" xref="A2.SS1.p6.12.m12.2.2.2.cmml">=</mo><mrow id="A2.SS1.p6.12.m12.2.2.3" xref="A2.SS1.p6.12.m12.2.2.3.cmml"><msubsup id="A2.SS1.p6.12.m12.2.2.3.1" xref="A2.SS1.p6.12.m12.2.2.3.1.cmml"><mo lspace="0em" id="A2.SS1.p6.12.m12.2.2.3.1.2.2" xref="A2.SS1.p6.12.m12.2.2.3.1.2.2.cmml">∪</mo><mrow id="A2.SS1.p6.12.m12.2.2.3.1.2.3" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.cmml"><mi id="A2.SS1.p6.12.m12.2.2.3.1.2.3.2" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.2.cmml">i</mi><mo id="A2.SS1.p6.12.m12.2.2.3.1.2.3.1" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.1.cmml">=</mo><mn id="A2.SS1.p6.12.m12.2.2.3.1.2.3.3" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="A2.SS1.p6.12.m12.2.2.3.1.3" xref="A2.SS1.p6.12.m12.2.2.3.1.3.cmml">n</mi></msubsup><msub id="A2.SS1.p6.12.m12.2.2.3.2" xref="A2.SS1.p6.12.m12.2.2.3.2.cmml"><mi id="A2.SS1.p6.12.m12.2.2.3.2.2" xref="A2.SS1.p6.12.m12.2.2.3.2.2.cmml">S</mi><mi id="A2.SS1.p6.12.m12.2.2.3.2.3" xref="A2.SS1.p6.12.m12.2.2.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p6.12.m12.2b"><apply id="A2.SS1.p6.12.m12.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2"><eq id="A2.SS1.p6.12.m12.2.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2.2"></eq><apply id="A2.SS1.p6.12.m12.2.2.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1"><times id="A2.SS1.p6.12.m12.2.2.1.2.cmml" xref="A2.SS1.p6.12.m12.2.2.1.2"></times><ci id="A2.SS1.p6.12.m12.2.2.1.3.cmml" xref="A2.SS1.p6.12.m12.2.2.1.3">𝑔</ci><apply id="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2"><csymbol cd="latexml" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.3.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.3">conditional-set</csymbol><apply id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.2.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.3.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2"><in id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.1"></in><ci id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.2">𝑖</ci><apply id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.2"><csymbol cd="latexml" id="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.1.1.cmml" xref="A2.SS1.p6.12.m12.2.2.1.1.1.1.2.2.3.2.1">delimited-[]</csymbol><ci id="A2.SS1.p6.12.m12.1.1.cmml" xref="A2.SS1.p6.12.m12.1.1">𝑛</ci></apply></apply></apply></apply><apply id="A2.SS1.p6.12.m12.2.2.3.cmml" xref="A2.SS1.p6.12.m12.2.2.3"><apply id="A2.SS1.p6.12.m12.2.2.3.1.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1"><csymbol cd="ambiguous" id="A2.SS1.p6.12.m12.2.2.3.1.1.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1">superscript</csymbol><apply id="A2.SS1.p6.12.m12.2.2.3.1.2.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1"><csymbol cd="ambiguous" id="A2.SS1.p6.12.m12.2.2.3.1.2.1.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1">subscript</csymbol><union id="A2.SS1.p6.12.m12.2.2.3.1.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.2.2"></union><apply id="A2.SS1.p6.12.m12.2.2.3.1.2.3.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3"><eq id="A2.SS1.p6.12.m12.2.2.3.1.2.3.1.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.1"></eq><ci id="A2.SS1.p6.12.m12.2.2.3.1.2.3.2.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.2">𝑖</ci><cn type="integer" id="A2.SS1.p6.12.m12.2.2.3.1.2.3.3.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.2.3.3">1</cn></apply></apply><ci id="A2.SS1.p6.12.m12.2.2.3.1.3.cmml" xref="A2.SS1.p6.12.m12.2.2.3.1.3">𝑛</ci></apply><apply id="A2.SS1.p6.12.m12.2.2.3.2.cmml" xref="A2.SS1.p6.12.m12.2.2.3.2"><csymbol cd="ambiguous" id="A2.SS1.p6.12.m12.2.2.3.2.1.cmml" xref="A2.SS1.p6.12.m12.2.2.3.2">subscript</csymbol><ci id="A2.SS1.p6.12.m12.2.2.3.2.2.cmml" xref="A2.SS1.p6.12.m12.2.2.3.2.2">𝑆</ci><ci id="A2.SS1.p6.12.m12.2.2.3.2.3.cmml" xref="A2.SS1.p6.12.m12.2.2.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p6.12.m12.2c">g(\{S_{i}\mid i\in[n]\})=\cup_{i=1}^{n}S_{i}</annotation></semantics></math>.</p>
</div>
<div id="A2.SS1.p7" class="ltx_para ltx_noindent">
<p id="A2.SS1.p7.6" class="ltx_p">As a concrete example, pseudo-code for federated averaging (FedAvg) is shown in Algorithm <a href="#algorithm2e2" title="Algorithm 2 ‣ B.1 Data flow ‣ Appendix B System design ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
Here, <math id="A2.SS1.p7.1.m1.1" class="ltx_Math" alttext="\mathcal{F}" display="inline"><semantics id="A2.SS1.p7.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="A2.SS1.p7.1.m1.1.1" xref="A2.SS1.p7.1.m1.1.1.cmml">ℱ</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.1.m1.1b"><ci id="A2.SS1.p7.1.m1.1.1.cmml" xref="A2.SS1.p7.1.m1.1.1">ℱ</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.1.m1.1c">\mathcal{F}</annotation></semantics></math> should be defined as two populations: one group of users only for training, and the other only for validating performance.
In each iteration, FedAvg generates <math id="A2.SS1.p7.2.m2.1" class="ltx_Math" alttext="\mathcal{C}" display="inline"><semantics id="A2.SS1.p7.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="A2.SS1.p7.2.m2.1.1" xref="A2.SS1.p7.2.m2.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.2.m2.1b"><ci id="A2.SS1.p7.2.m2.1.1.cmml" xref="A2.SS1.p7.2.m2.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.2.m2.1c">\mathcal{C}</annotation></semantics></math> containing two central contexts corresponding to the two populations: one context with hyper-parameters for instructing how <math id="A2.SS1.p7.3.m3.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="A2.SS1.p7.3.m3.1a"><mrow id="A2.SS1.p7.3.m3.1.1" xref="A2.SS1.p7.3.m3.1.1.cmml"><mi id="A2.SS1.p7.3.m3.1.1.2" xref="A2.SS1.p7.3.m3.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.3.m3.1.1.1" xref="A2.SS1.p7.3.m3.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.3.m3.1.1.3" xref="A2.SS1.p7.3.m3.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.3.m3.1.1.1a" xref="A2.SS1.p7.3.m3.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.3.m3.1.1.4" xref="A2.SS1.p7.3.m3.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.3.m3.1b"><apply id="A2.SS1.p7.3.m3.1.1.cmml" xref="A2.SS1.p7.3.m3.1.1"><times id="A2.SS1.p7.3.m3.1.1.1.cmml" xref="A2.SS1.p7.3.m3.1.1.1"></times><ci id="A2.SS1.p7.3.m3.1.1.2.cmml" xref="A2.SS1.p7.3.m3.1.1.2">𝑎</ci><ci id="A2.SS1.p7.3.m3.1.1.3.cmml" xref="A2.SS1.p7.3.m3.1.1.3">𝑙</ci><ci id="A2.SS1.p7.3.m3.1.1.4.cmml" xref="A2.SS1.p7.3.m3.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.3.m3.1c">alg</annotation></semantics></math> runs on the training population; and the other for describing how <math id="A2.SS1.p7.4.m4.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="A2.SS1.p7.4.m4.1a"><mrow id="A2.SS1.p7.4.m4.1.1" xref="A2.SS1.p7.4.m4.1.1.cmml"><mi id="A2.SS1.p7.4.m4.1.1.2" xref="A2.SS1.p7.4.m4.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.4.m4.1.1.1" xref="A2.SS1.p7.4.m4.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.4.m4.1.1.3" xref="A2.SS1.p7.4.m4.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.4.m4.1.1.1a" xref="A2.SS1.p7.4.m4.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.4.m4.1.1.4" xref="A2.SS1.p7.4.m4.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.4.m4.1b"><apply id="A2.SS1.p7.4.m4.1.1.cmml" xref="A2.SS1.p7.4.m4.1.1"><times id="A2.SS1.p7.4.m4.1.1.1.cmml" xref="A2.SS1.p7.4.m4.1.1.1"></times><ci id="A2.SS1.p7.4.m4.1.1.2.cmml" xref="A2.SS1.p7.4.m4.1.1.2">𝑎</ci><ci id="A2.SS1.p7.4.m4.1.1.3.cmml" xref="A2.SS1.p7.4.m4.1.1.3">𝑙</ci><ci id="A2.SS1.p7.4.m4.1.1.4.cmml" xref="A2.SS1.p7.4.m4.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.4.m4.1c">alg</annotation></semantics></math> evaluates on the validation population (e.g. not returning any model updates).
In other algorithms there can be additional contexts if for example <math id="A2.SS1.p7.5.m5.1" class="ltx_Math" alttext="alg" display="inline"><semantics id="A2.SS1.p7.5.m5.1a"><mrow id="A2.SS1.p7.5.m5.1.1" xref="A2.SS1.p7.5.m5.1.1.cmml"><mi id="A2.SS1.p7.5.m5.1.1.2" xref="A2.SS1.p7.5.m5.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.5.m5.1.1.1" xref="A2.SS1.p7.5.m5.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.5.m5.1.1.3" xref="A2.SS1.p7.5.m5.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.5.m5.1.1.1a" xref="A2.SS1.p7.5.m5.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.5.m5.1.1.4" xref="A2.SS1.p7.5.m5.1.1.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.5.m5.1b"><apply id="A2.SS1.p7.5.m5.1.1.cmml" xref="A2.SS1.p7.5.m5.1.1"><times id="A2.SS1.p7.5.m5.1.1.1.cmml" xref="A2.SS1.p7.5.m5.1.1.1"></times><ci id="A2.SS1.p7.5.m5.1.1.2.cmml" xref="A2.SS1.p7.5.m5.1.1.2">𝑎</ci><ci id="A2.SS1.p7.5.m5.1.1.3.cmml" xref="A2.SS1.p7.5.m5.1.1.3">𝑙</ci><ci id="A2.SS1.p7.5.m5.1.1.4.cmml" xref="A2.SS1.p7.5.m5.1.1.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.5.m5.1c">alg</annotation></semantics></math> further divides the train population into multiple clusters of users that should train different models or with different hyper-parameters.
FedAvg expects a single aggregated model update, which is averaged and applied on the central model with the central optimizer <math id="A2.SS1.p7.6.m6.1" class="ltx_Math" alttext="Opt_{c}" display="inline"><semantics id="A2.SS1.p7.6.m6.1a"><mrow id="A2.SS1.p7.6.m6.1.1" xref="A2.SS1.p7.6.m6.1.1.cmml"><mi id="A2.SS1.p7.6.m6.1.1.2" xref="A2.SS1.p7.6.m6.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.6.m6.1.1.1" xref="A2.SS1.p7.6.m6.1.1.1.cmml">​</mo><mi id="A2.SS1.p7.6.m6.1.1.3" xref="A2.SS1.p7.6.m6.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="A2.SS1.p7.6.m6.1.1.1a" xref="A2.SS1.p7.6.m6.1.1.1.cmml">​</mo><msub id="A2.SS1.p7.6.m6.1.1.4" xref="A2.SS1.p7.6.m6.1.1.4.cmml"><mi id="A2.SS1.p7.6.m6.1.1.4.2" xref="A2.SS1.p7.6.m6.1.1.4.2.cmml">t</mi><mi id="A2.SS1.p7.6.m6.1.1.4.3" xref="A2.SS1.p7.6.m6.1.1.4.3.cmml">c</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p7.6.m6.1b"><apply id="A2.SS1.p7.6.m6.1.1.cmml" xref="A2.SS1.p7.6.m6.1.1"><times id="A2.SS1.p7.6.m6.1.1.1.cmml" xref="A2.SS1.p7.6.m6.1.1.1"></times><ci id="A2.SS1.p7.6.m6.1.1.2.cmml" xref="A2.SS1.p7.6.m6.1.1.2">𝑂</ci><ci id="A2.SS1.p7.6.m6.1.1.3.cmml" xref="A2.SS1.p7.6.m6.1.1.3">𝑝</ci><apply id="A2.SS1.p7.6.m6.1.1.4.cmml" xref="A2.SS1.p7.6.m6.1.1.4"><csymbol cd="ambiguous" id="A2.SS1.p7.6.m6.1.1.4.1.cmml" xref="A2.SS1.p7.6.m6.1.1.4">subscript</csymbol><ci id="A2.SS1.p7.6.m6.1.1.4.2.cmml" xref="A2.SS1.p7.6.m6.1.1.4.2">𝑡</ci><ci id="A2.SS1.p7.6.m6.1.1.4.3.cmml" xref="A2.SS1.p7.6.m6.1.1.4.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p7.6.m6.1c">Opt_{c}</annotation></semantics></math>.</p>
</div>
<figure id="algorithm2e2" class="ltx_float ltx_float_algorithm2e ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm2e2.34.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> FedAvg using <span id="algorithm2e2.35.2" class="ltx_text ltx_font_typewriter">pfl-research</span> interfaces</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="algorithm2e2.36" class="ltx_p ltx_figure_panel"><span id="algorithm2e2.36.1" class="ltx_text ltx_font_bold">Class</span> <em id="algorithm2e2.36.2" class="ltx_emph ltx_font_italic">FedAvg</em><span id="algorithm2e2.36.3" class="ltx_text ltx_font_bold">:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.37" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e2.7.3" class="ltx_text"><span id="algorithm2e2.7.3.1" class="ltx_text ltx_font_bold">Input:</span> </span>Number of central iterations <math id="algorithm2e2.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algorithm2e2.1.m1.1a"><mi id="algorithm2e2.1.m1.1.1" xref="algorithm2e2.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.1.m1.1b"><ci id="algorithm2e2.1.m1.1.1.cmml" xref="algorithm2e2.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.1.m1.1c">T</annotation></semantics></math>,
<br class="ltx_break">Evaluation frequency <math id="algorithm2e2.2.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="algorithm2e2.2.m2.1a"><mi id="algorithm2e2.2.m2.1.1" xref="algorithm2e2.2.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.2.m2.1b"><ci id="algorithm2e2.2.m2.1.1.cmml" xref="algorithm2e2.2.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.2.m2.1c">\tau</annotation></semantics></math>,
<br class="ltx_break">Local optimizer <math id="algorithm2e2.3.m3.1" class="ltx_Math" alttext="Opt_{l}" display="inline"><semantics id="algorithm2e2.3.m3.1a"><mrow id="algorithm2e2.3.m3.1.1" xref="algorithm2e2.3.m3.1.1.cmml"><mi id="algorithm2e2.3.m3.1.1.2" xref="algorithm2e2.3.m3.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.3.m3.1.1.1" xref="algorithm2e2.3.m3.1.1.1.cmml">​</mo><mi id="algorithm2e2.3.m3.1.1.3" xref="algorithm2e2.3.m3.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.3.m3.1.1.1a" xref="algorithm2e2.3.m3.1.1.1.cmml">​</mo><msub id="algorithm2e2.3.m3.1.1.4" xref="algorithm2e2.3.m3.1.1.4.cmml"><mi id="algorithm2e2.3.m3.1.1.4.2" xref="algorithm2e2.3.m3.1.1.4.2.cmml">t</mi><mi id="algorithm2e2.3.m3.1.1.4.3" xref="algorithm2e2.3.m3.1.1.4.3.cmml">l</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.3.m3.1b"><apply id="algorithm2e2.3.m3.1.1.cmml" xref="algorithm2e2.3.m3.1.1"><times id="algorithm2e2.3.m3.1.1.1.cmml" xref="algorithm2e2.3.m3.1.1.1"></times><ci id="algorithm2e2.3.m3.1.1.2.cmml" xref="algorithm2e2.3.m3.1.1.2">𝑂</ci><ci id="algorithm2e2.3.m3.1.1.3.cmml" xref="algorithm2e2.3.m3.1.1.3">𝑝</ci><apply id="algorithm2e2.3.m3.1.1.4.cmml" xref="algorithm2e2.3.m3.1.1.4"><csymbol cd="ambiguous" id="algorithm2e2.3.m3.1.1.4.1.cmml" xref="algorithm2e2.3.m3.1.1.4">subscript</csymbol><ci id="algorithm2e2.3.m3.1.1.4.2.cmml" xref="algorithm2e2.3.m3.1.1.4.2">𝑡</ci><ci id="algorithm2e2.3.m3.1.1.4.3.cmml" xref="algorithm2e2.3.m3.1.1.4.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.3.m3.1c">Opt_{l}</annotation></semantics></math>,
<br class="ltx_break">Central optimizer <math id="algorithm2e2.4.m4.1" class="ltx_Math" alttext="Opt_{c}" display="inline"><semantics id="algorithm2e2.4.m4.1a"><mrow id="algorithm2e2.4.m4.1.1" xref="algorithm2e2.4.m4.1.1.cmml"><mi id="algorithm2e2.4.m4.1.1.2" xref="algorithm2e2.4.m4.1.1.2.cmml">O</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.4.m4.1.1.1" xref="algorithm2e2.4.m4.1.1.1.cmml">​</mo><mi id="algorithm2e2.4.m4.1.1.3" xref="algorithm2e2.4.m4.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.4.m4.1.1.1a" xref="algorithm2e2.4.m4.1.1.1.cmml">​</mo><msub id="algorithm2e2.4.m4.1.1.4" xref="algorithm2e2.4.m4.1.1.4.cmml"><mi id="algorithm2e2.4.m4.1.1.4.2" xref="algorithm2e2.4.m4.1.1.4.2.cmml">t</mi><mi id="algorithm2e2.4.m4.1.1.4.3" xref="algorithm2e2.4.m4.1.1.4.3.cmml">c</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.4.m4.1b"><apply id="algorithm2e2.4.m4.1.1.cmml" xref="algorithm2e2.4.m4.1.1"><times id="algorithm2e2.4.m4.1.1.1.cmml" xref="algorithm2e2.4.m4.1.1.1"></times><ci id="algorithm2e2.4.m4.1.1.2.cmml" xref="algorithm2e2.4.m4.1.1.2">𝑂</ci><ci id="algorithm2e2.4.m4.1.1.3.cmml" xref="algorithm2e2.4.m4.1.1.3">𝑝</ci><apply id="algorithm2e2.4.m4.1.1.4.cmml" xref="algorithm2e2.4.m4.1.1.4"><csymbol cd="ambiguous" id="algorithm2e2.4.m4.1.1.4.1.cmml" xref="algorithm2e2.4.m4.1.1.4">subscript</csymbol><ci id="algorithm2e2.4.m4.1.1.4.2.cmml" xref="algorithm2e2.4.m4.1.1.4.2">𝑡</ci><ci id="algorithm2e2.4.m4.1.1.4.3.cmml" xref="algorithm2e2.4.m4.1.1.4.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.4.m4.1c">Opt_{c}</annotation></semantics></math>,
<br class="ltx_break">Other hyper-parameters for algorithm and model <math id="algorithm2e2.5.m5.1" class="ltx_Math" alttext="kwargs" display="inline"><semantics id="algorithm2e2.5.m5.1a"><mrow id="algorithm2e2.5.m5.1.1" xref="algorithm2e2.5.m5.1.1.cmml"><mi id="algorithm2e2.5.m5.1.1.2" xref="algorithm2e2.5.m5.1.1.2.cmml">k</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.5.m5.1.1.1" xref="algorithm2e2.5.m5.1.1.1.cmml">​</mo><mi id="algorithm2e2.5.m5.1.1.3" xref="algorithm2e2.5.m5.1.1.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.5.m5.1.1.1a" xref="algorithm2e2.5.m5.1.1.1.cmml">​</mo><mi id="algorithm2e2.5.m5.1.1.4" xref="algorithm2e2.5.m5.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.5.m5.1.1.1b" xref="algorithm2e2.5.m5.1.1.1.cmml">​</mo><mi id="algorithm2e2.5.m5.1.1.5" xref="algorithm2e2.5.m5.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.5.m5.1.1.1c" xref="algorithm2e2.5.m5.1.1.1.cmml">​</mo><mi id="algorithm2e2.5.m5.1.1.6" xref="algorithm2e2.5.m5.1.1.6.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.5.m5.1.1.1d" xref="algorithm2e2.5.m5.1.1.1.cmml">​</mo><mi id="algorithm2e2.5.m5.1.1.7" xref="algorithm2e2.5.m5.1.1.7.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.5.m5.1b"><apply id="algorithm2e2.5.m5.1.1.cmml" xref="algorithm2e2.5.m5.1.1"><times id="algorithm2e2.5.m5.1.1.1.cmml" xref="algorithm2e2.5.m5.1.1.1"></times><ci id="algorithm2e2.5.m5.1.1.2.cmml" xref="algorithm2e2.5.m5.1.1.2">𝑘</ci><ci id="algorithm2e2.5.m5.1.1.3.cmml" xref="algorithm2e2.5.m5.1.1.3">𝑤</ci><ci id="algorithm2e2.5.m5.1.1.4.cmml" xref="algorithm2e2.5.m5.1.1.4">𝑎</ci><ci id="algorithm2e2.5.m5.1.1.5.cmml" xref="algorithm2e2.5.m5.1.1.5">𝑟</ci><ci id="algorithm2e2.5.m5.1.1.6.cmml" xref="algorithm2e2.5.m5.1.1.6">𝑔</ci><ci id="algorithm2e2.5.m5.1.1.7.cmml" xref="algorithm2e2.5.m5.1.1.7">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.5.m5.1c">kwargs</annotation></semantics></math>,
<br class="ltx_break">
<span id="algorithm2e2.7.4" class="ltx_text ltx_font_bold">Function</span> <em id="algorithm2e2.7.2" class="ltx_emph ltx_font_typewriter">get_next_central_contexts(<em id="algorithm2e2.7.2.2.2" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="algorithm2e2.6.1.1.1.m1.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="algorithm2e2.6.1.1.1.m1.1a"><msub id="algorithm2e2.6.1.1.1.m1.1.1" xref="algorithm2e2.6.1.1.1.m1.1.1.cmml"><mi id="algorithm2e2.6.1.1.1.m1.1.1.2" xref="algorithm2e2.6.1.1.1.m1.1.1.2.cmml">θ</mi><mi id="algorithm2e2.6.1.1.1.m1.1.1.3" xref="algorithm2e2.6.1.1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e2.6.1.1.1.m1.1b"><apply id="algorithm2e2.6.1.1.1.m1.1.1.cmml" xref="algorithm2e2.6.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm2e2.6.1.1.1.m1.1.1.1.cmml" xref="algorithm2e2.6.1.1.1.m1.1.1">subscript</csymbol><ci id="algorithm2e2.6.1.1.1.m1.1.1.2.cmml" xref="algorithm2e2.6.1.1.1.m1.1.1.2">𝜃</ci><ci id="algorithm2e2.6.1.1.1.m1.1.1.3.cmml" xref="algorithm2e2.6.1.1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.6.1.1.1.m1.1c">\theta_{t}</annotation></semantics></math>, <math id="algorithm2e2.7.2.2.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="algorithm2e2.7.2.2.2.m2.1a"><mi id="algorithm2e2.7.2.2.2.m2.1.1" xref="algorithm2e2.7.2.2.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.7.2.2.2.m2.1b"><ci id="algorithm2e2.7.2.2.2.m2.1.1.cmml" xref="algorithm2e2.7.2.2.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.7.2.2.2.m2.1c">t</annotation></semantics></math></em>)</em><span id="algorithm2e2.7.5" class="ltx_text ltx_font_bold">:</span>
</div>
<div id="algorithm2e2.8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e2.8.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm2e2.8.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.8.1.m1.1" class="ltx_Math" alttext="t=T" display="inline"><semantics id="algorithm2e2.8.1.m1.1a"><mrow id="algorithm2e2.8.1.m1.1.1" xref="algorithm2e2.8.1.m1.1.1.cmml"><mi id="algorithm2e2.8.1.m1.1.1.2" xref="algorithm2e2.8.1.m1.1.1.2.cmml">t</mi><mo id="algorithm2e2.8.1.m1.1.1.1" xref="algorithm2e2.8.1.m1.1.1.1.cmml">=</mo><mi id="algorithm2e2.8.1.m1.1.1.3" xref="algorithm2e2.8.1.m1.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.8.1.m1.1b"><apply id="algorithm2e2.8.1.m1.1.1.cmml" xref="algorithm2e2.8.1.m1.1.1"><eq id="algorithm2e2.8.1.m1.1.1.1.cmml" xref="algorithm2e2.8.1.m1.1.1.1"></eq><ci id="algorithm2e2.8.1.m1.1.1.2.cmml" xref="algorithm2e2.8.1.m1.1.1.2">𝑡</ci><ci id="algorithm2e2.8.1.m1.1.1.3.cmml" xref="algorithm2e2.8.1.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.8.1.m1.1c">t=T</annotation></semantics></math></em> <span id="algorithm2e2.8.3" class="ltx_text ltx_font_bold">then</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.38" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e2.9.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e2.9.2.1" class="ltx_text">// </span></span><span id="algorithm2e2.9.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> Training is complete </span>
<span id="algorithm2e2.9.4" class="ltx_text ltx_font_bold">return</span> <em id="algorithm2e2.9.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.9.1.m1.2" class="ltx_Math" alttext="\emptyset,\theta_{t}" display="inline"><semantics id="algorithm2e2.9.1.m1.2a"><mrow id="algorithm2e2.9.1.m1.2.2.1" xref="algorithm2e2.9.1.m1.2.2.2.cmml"><mi mathvariant="normal" id="algorithm2e2.9.1.m1.1.1" xref="algorithm2e2.9.1.m1.1.1.cmml">∅</mi><mo id="algorithm2e2.9.1.m1.2.2.1.2" xref="algorithm2e2.9.1.m1.2.2.2.cmml">,</mo><msub id="algorithm2e2.9.1.m1.2.2.1.1" xref="algorithm2e2.9.1.m1.2.2.1.1.cmml"><mi id="algorithm2e2.9.1.m1.2.2.1.1.2" xref="algorithm2e2.9.1.m1.2.2.1.1.2.cmml">θ</mi><mi id="algorithm2e2.9.1.m1.2.2.1.1.3" xref="algorithm2e2.9.1.m1.2.2.1.1.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.9.1.m1.2b"><list id="algorithm2e2.9.1.m1.2.2.2.cmml" xref="algorithm2e2.9.1.m1.2.2.1"><emptyset id="algorithm2e2.9.1.m1.1.1.cmml" xref="algorithm2e2.9.1.m1.1.1"></emptyset><apply id="algorithm2e2.9.1.m1.2.2.1.1.cmml" xref="algorithm2e2.9.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="algorithm2e2.9.1.m1.2.2.1.1.1.cmml" xref="algorithm2e2.9.1.m1.2.2.1.1">subscript</csymbol><ci id="algorithm2e2.9.1.m1.2.2.1.1.2.cmml" xref="algorithm2e2.9.1.m1.2.2.1.1.2">𝜃</ci><ci id="algorithm2e2.9.1.m1.2.2.1.1.3.cmml" xref="algorithm2e2.9.1.m1.2.2.1.1.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.9.1.m1.2c">\emptyset,\theta_{t}</annotation></semantics></math></em> 

</div>
<div id="algorithm2e2.11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="algorithm2e2.10.m1.1" class="ltx_Math" alttext="\mathcal{C}\leftarrow\{\mathrm{create\_context\_for\_training}(kwargs)\}" display="inline"><semantics id="algorithm2e2.10.m1.1a"><mrow id="algorithm2e2.10.m1.1.1" xref="algorithm2e2.10.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.10.m1.1.1.3" xref="algorithm2e2.10.m1.1.1.3.cmml">𝒞</mi><mo stretchy="false" id="algorithm2e2.10.m1.1.1.2" xref="algorithm2e2.10.m1.1.1.2.cmml">←</mo><mrow id="algorithm2e2.10.m1.1.1.1.1" xref="algorithm2e2.10.m1.1.1.1.2.cmml"><mo stretchy="false" id="algorithm2e2.10.m1.1.1.1.1.2" xref="algorithm2e2.10.m1.1.1.1.2.cmml">{</mo><mrow id="algorithm2e2.10.m1.1.1.1.1.1" xref="algorithm2e2.10.m1.1.1.1.1.1.cmml"><mi id="algorithm2e2.10.m1.1.1.1.1.1.3" xref="algorithm2e2.10.m1.1.1.1.1.1.3.cmml">create</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.10.m1.1.1.1.1.1.4" xref="algorithm2e2.10.m1.1.1.1.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2a" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.5" xref="algorithm2e2.10.m1.1.1.1.1.1.5.cmml">context</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2b" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.10.m1.1.1.1.1.1.6" xref="algorithm2e2.10.m1.1.1.1.1.1.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2c" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.7" xref="algorithm2e2.10.m1.1.1.1.1.1.7.cmml">for</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2d" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.10.m1.1.1.1.1.1.8" xref="algorithm2e2.10.m1.1.1.1.1.1.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2e" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.9" xref="algorithm2e2.10.m1.1.1.1.1.1.9.cmml">training</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.2f" xref="algorithm2e2.10.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="algorithm2e2.10.m1.1.1.1.1.1.1.1" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.2" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.2" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.2.cmml">k</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.3" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1a" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.4" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1b" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.5" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1c" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.6" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.6.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1d" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.7" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.7.cmml">s</mi></mrow><mo stretchy="false" id="algorithm2e2.10.m1.1.1.1.1.1.1.1.3" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="algorithm2e2.10.m1.1.1.1.1.3" xref="algorithm2e2.10.m1.1.1.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.10.m1.1b"><apply id="algorithm2e2.10.m1.1.1.cmml" xref="algorithm2e2.10.m1.1.1"><ci id="algorithm2e2.10.m1.1.1.2.cmml" xref="algorithm2e2.10.m1.1.1.2">←</ci><ci id="algorithm2e2.10.m1.1.1.3.cmml" xref="algorithm2e2.10.m1.1.1.3">𝒞</ci><set id="algorithm2e2.10.m1.1.1.1.2.cmml" xref="algorithm2e2.10.m1.1.1.1.1"><apply id="algorithm2e2.10.m1.1.1.1.1.1.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1"><times id="algorithm2e2.10.m1.1.1.1.1.1.2.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.2"></times><ci id="algorithm2e2.10.m1.1.1.1.1.1.3.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.3">create</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.4.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.4">_</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.5.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.5">context</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.6.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.6">_</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.7.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.7">for</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.8.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.8">_</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.9.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.9">training</ci><apply id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1"><times id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.1"></times><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.2">𝑘</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.3">𝑤</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.4.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.4">𝑎</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.5.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.5">𝑟</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.6.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.6">𝑔</ci><ci id="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.7.cmml" xref="algorithm2e2.10.m1.1.1.1.1.1.1.1.1.7">𝑠</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.10.m1.1c">\mathcal{C}\leftarrow\{\mathrm{create\_context\_for\_training}(kwargs)\}</annotation></semantics></math> 
<span id="algorithm2e2.11.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm2e2.11.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.11.1.m1.1" class="ltx_Math" alttext="t\mod\tau=0" display="inline"><semantics id="algorithm2e2.11.1.m1.1a"><mrow id="algorithm2e2.11.1.m1.1.1" xref="algorithm2e2.11.1.m1.1.1.cmml"><mrow id="algorithm2e2.11.1.m1.1.1.2" xref="algorithm2e2.11.1.m1.1.1.2.cmml"><mi id="algorithm2e2.11.1.m1.1.1.2.2" xref="algorithm2e2.11.1.m1.1.1.2.2.cmml">t</mi><mo id="algorithm2e2.11.1.m1.1.1.2.1" xref="algorithm2e2.11.1.m1.1.1.2.1.cmml">mod</mo><mi id="algorithm2e2.11.1.m1.1.1.2.3" xref="algorithm2e2.11.1.m1.1.1.2.3.cmml">τ</mi></mrow><mo id="algorithm2e2.11.1.m1.1.1.1" xref="algorithm2e2.11.1.m1.1.1.1.cmml">=</mo><mn id="algorithm2e2.11.1.m1.1.1.3" xref="algorithm2e2.11.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.11.1.m1.1b"><apply id="algorithm2e2.11.1.m1.1.1.cmml" xref="algorithm2e2.11.1.m1.1.1"><eq id="algorithm2e2.11.1.m1.1.1.1.cmml" xref="algorithm2e2.11.1.m1.1.1.1"></eq><apply id="algorithm2e2.11.1.m1.1.1.2.cmml" xref="algorithm2e2.11.1.m1.1.1.2"><csymbol cd="latexml" id="algorithm2e2.11.1.m1.1.1.2.1.cmml" xref="algorithm2e2.11.1.m1.1.1.2.1">modulo</csymbol><ci id="algorithm2e2.11.1.m1.1.1.2.2.cmml" xref="algorithm2e2.11.1.m1.1.1.2.2">𝑡</ci><ci id="algorithm2e2.11.1.m1.1.1.2.3.cmml" xref="algorithm2e2.11.1.m1.1.1.2.3">𝜏</ci></apply><cn type="integer" id="algorithm2e2.11.1.m1.1.1.3.cmml" xref="algorithm2e2.11.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.11.1.m1.1c">t\mod\tau=0</annotation></semantics></math></em> <span id="algorithm2e2.11.3" class="ltx_text ltx_font_bold">then</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.39" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e2.12.m1.1" class="ltx_Math" alttext="\mathcal{C}\leftarrow\mathcal{C}\cup\{\mathrm{create\_context\_for\_evaluation}(kwargs)\}" display="inline"><semantics id="algorithm2e2.12.m1.1a"><mrow id="algorithm2e2.12.m1.1.1" xref="algorithm2e2.12.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.12.m1.1.1.3" xref="algorithm2e2.12.m1.1.1.3.cmml">𝒞</mi><mo stretchy="false" id="algorithm2e2.12.m1.1.1.2" xref="algorithm2e2.12.m1.1.1.2.cmml">←</mo><mrow id="algorithm2e2.12.m1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.12.m1.1.1.1.3" xref="algorithm2e2.12.m1.1.1.1.3.cmml">𝒞</mi><mo id="algorithm2e2.12.m1.1.1.1.2" xref="algorithm2e2.12.m1.1.1.1.2.cmml">∪</mo><mrow id="algorithm2e2.12.m1.1.1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="algorithm2e2.12.m1.1.1.1.1.1.2" xref="algorithm2e2.12.m1.1.1.1.1.2.cmml">{</mo><mrow id="algorithm2e2.12.m1.1.1.1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.1.1.1.cmml"><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.3" xref="algorithm2e2.12.m1.1.1.1.1.1.1.3.cmml">create</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.12.m1.1.1.1.1.1.1.4" xref="algorithm2e2.12.m1.1.1.1.1.1.1.4.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2a" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.5" xref="algorithm2e2.12.m1.1.1.1.1.1.1.5.cmml">context</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2b" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.12.m1.1.1.1.1.1.1.6" xref="algorithm2e2.12.m1.1.1.1.1.1.1.6.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2c" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.7" xref="algorithm2e2.12.m1.1.1.1.1.1.1.7.cmml">for</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2d" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="algorithm2e2.12.m1.1.1.1.1.1.1.8" xref="algorithm2e2.12.m1.1.1.1.1.1.1.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2e" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.9" xref="algorithm2e2.12.m1.1.1.1.1.1.1.9.cmml">evaluation</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.2f" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.2" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.2" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.2.cmml">k</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.3" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.3.cmml">w</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1a" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.4" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1b" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.5" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1c" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.6" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.6.cmml">g</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1d" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.7" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.7.cmml">s</mi></mrow><mo stretchy="false" id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.3" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="algorithm2e2.12.m1.1.1.1.1.1.3" xref="algorithm2e2.12.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.12.m1.1b"><apply id="algorithm2e2.12.m1.1.1.cmml" xref="algorithm2e2.12.m1.1.1"><ci id="algorithm2e2.12.m1.1.1.2.cmml" xref="algorithm2e2.12.m1.1.1.2">←</ci><ci id="algorithm2e2.12.m1.1.1.3.cmml" xref="algorithm2e2.12.m1.1.1.3">𝒞</ci><apply id="algorithm2e2.12.m1.1.1.1.cmml" xref="algorithm2e2.12.m1.1.1.1"><union id="algorithm2e2.12.m1.1.1.1.2.cmml" xref="algorithm2e2.12.m1.1.1.1.2"></union><ci id="algorithm2e2.12.m1.1.1.1.3.cmml" xref="algorithm2e2.12.m1.1.1.1.3">𝒞</ci><set id="algorithm2e2.12.m1.1.1.1.1.2.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1"><apply id="algorithm2e2.12.m1.1.1.1.1.1.1.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1"><times id="algorithm2e2.12.m1.1.1.1.1.1.1.2.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.2"></times><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.3.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.3">create</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.4.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.4">_</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.5.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.5">context</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.6.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.6">_</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.7.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.7">for</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.8.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.8">_</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.9.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.9">evaluation</ci><apply id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1"><times id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.1"></times><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.2">𝑘</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.3">𝑤</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.4.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.4">𝑎</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.5.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.5">𝑟</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.6.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.6">𝑔</ci><ci id="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.7.cmml" xref="algorithm2e2.12.m1.1.1.1.1.1.1.1.1.1.7">𝑠</ci></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.12.m1.1c">\mathcal{C}\leftarrow\mathcal{C}\cup\{\mathrm{create\_context\_for\_evaluation}(kwargs)\}</annotation></semantics></math>

</div>
<div id="algorithm2e2.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e2.13.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e2.13.2.1" class="ltx_text">/* </span></span><span id="algorithm2e2.13.3" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> The model is not modified in preparation for the next central iteration.  */</span>
<span id="algorithm2e2.13.4" class="ltx_text ltx_font_bold">return</span> <em id="algorithm2e2.13.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.13.1.m1.2" class="ltx_Math" alttext="\mathcal{C},\theta_{t}" display="inline"><semantics id="algorithm2e2.13.1.m1.2a"><mrow id="algorithm2e2.13.1.m1.2.2.1" xref="algorithm2e2.13.1.m1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.13.1.m1.1.1" xref="algorithm2e2.13.1.m1.1.1.cmml">𝒞</mi><mo id="algorithm2e2.13.1.m1.2.2.1.2" xref="algorithm2e2.13.1.m1.2.2.2.cmml">,</mo><msub id="algorithm2e2.13.1.m1.2.2.1.1" xref="algorithm2e2.13.1.m1.2.2.1.1.cmml"><mi id="algorithm2e2.13.1.m1.2.2.1.1.2" xref="algorithm2e2.13.1.m1.2.2.1.1.2.cmml">θ</mi><mi id="algorithm2e2.13.1.m1.2.2.1.1.3" xref="algorithm2e2.13.1.m1.2.2.1.1.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.13.1.m1.2b"><list id="algorithm2e2.13.1.m1.2.2.2.cmml" xref="algorithm2e2.13.1.m1.2.2.1"><ci id="algorithm2e2.13.1.m1.1.1.cmml" xref="algorithm2e2.13.1.m1.1.1">𝒞</ci><apply id="algorithm2e2.13.1.m1.2.2.1.1.cmml" xref="algorithm2e2.13.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="algorithm2e2.13.1.m1.2.2.1.1.1.cmml" xref="algorithm2e2.13.1.m1.2.2.1.1">subscript</csymbol><ci id="algorithm2e2.13.1.m1.2.2.1.1.2.cmml" xref="algorithm2e2.13.1.m1.2.2.1.1.2">𝜃</ci><ci id="algorithm2e2.13.1.m1.2.2.1.1.3.cmml" xref="algorithm2e2.13.1.m1.2.2.1.1.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.13.1.m1.2c">\mathcal{C},\theta_{t}</annotation></semantics></math></em> 

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.40" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e2.16.4" class="ltx_text ltx_font_bold">Function</span> <em id="algorithm2e2.16.3" class="ltx_emph ltx_font_typewriter">simulate_one_user(<em id="algorithm2e2.16.3.3.3" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="algorithm2e2.14.1.1.1.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="algorithm2e2.14.1.1.1.m1.1a"><mi id="algorithm2e2.14.1.1.1.m1.1.1" xref="algorithm2e2.14.1.1.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.14.1.1.1.m1.1b"><ci id="algorithm2e2.14.1.1.1.m1.1.1.cmml" xref="algorithm2e2.14.1.1.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.14.1.1.1.m1.1c">\theta</annotation></semantics></math>, <math id="algorithm2e2.15.2.2.2.m2.1" class="ltx_Math" alttext="d_{u}" display="inline"><semantics id="algorithm2e2.15.2.2.2.m2.1a"><msub id="algorithm2e2.15.2.2.2.m2.1.1" xref="algorithm2e2.15.2.2.2.m2.1.1.cmml"><mi id="algorithm2e2.15.2.2.2.m2.1.1.2" xref="algorithm2e2.15.2.2.2.m2.1.1.2.cmml">d</mi><mi id="algorithm2e2.15.2.2.2.m2.1.1.3" xref="algorithm2e2.15.2.2.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e2.15.2.2.2.m2.1b"><apply id="algorithm2e2.15.2.2.2.m2.1.1.cmml" xref="algorithm2e2.15.2.2.2.m2.1.1"><csymbol cd="ambiguous" id="algorithm2e2.15.2.2.2.m2.1.1.1.cmml" xref="algorithm2e2.15.2.2.2.m2.1.1">subscript</csymbol><ci id="algorithm2e2.15.2.2.2.m2.1.1.2.cmml" xref="algorithm2e2.15.2.2.2.m2.1.1.2">𝑑</ci><ci id="algorithm2e2.15.2.2.2.m2.1.1.3.cmml" xref="algorithm2e2.15.2.2.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.15.2.2.2.m2.1c">d_{u}</annotation></semantics></math>, <math id="algorithm2e2.16.3.3.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="algorithm2e2.16.3.3.3.m3.1a"><mi id="algorithm2e2.16.3.3.3.m3.1.1" xref="algorithm2e2.16.3.3.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.16.3.3.3.m3.1b"><ci id="algorithm2e2.16.3.3.3.m3.1.1.cmml" xref="algorithm2e2.16.3.3.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.16.3.3.3.m3.1c">c</annotation></semantics></math></em>)</em><span id="algorithm2e2.16.5" class="ltx_text ltx_font_bold">:</span>
</div>
<div id="algorithm2e2.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e2.17.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm2e2.17.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.17.1.m1.2" class="ltx_Math" alttext="c.\mathrm{population}=\mathrm{Train}" display="inline"><semantics id="algorithm2e2.17.1.m1.2a"><mrow id="algorithm2e2.17.1.m1.2.2.1" xref="algorithm2e2.17.1.m1.2.2.2.cmml"><mi id="algorithm2e2.17.1.m1.1.1" xref="algorithm2e2.17.1.m1.1.1.cmml">c</mi><mo lspace="0em" rspace="0.167em" id="algorithm2e2.17.1.m1.2.2.1.2" xref="algorithm2e2.17.1.m1.2.2.2a.cmml">.</mo><mrow id="algorithm2e2.17.1.m1.2.2.1.1" xref="algorithm2e2.17.1.m1.2.2.1.1.cmml"><mi id="algorithm2e2.17.1.m1.2.2.1.1.2" xref="algorithm2e2.17.1.m1.2.2.1.1.2.cmml">population</mi><mo id="algorithm2e2.17.1.m1.2.2.1.1.1" xref="algorithm2e2.17.1.m1.2.2.1.1.1.cmml">=</mo><mi id="algorithm2e2.17.1.m1.2.2.1.1.3" xref="algorithm2e2.17.1.m1.2.2.1.1.3.cmml">Train</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.17.1.m1.2b"><apply id="algorithm2e2.17.1.m1.2.2.2.cmml" xref="algorithm2e2.17.1.m1.2.2.1"><csymbol cd="ambiguous" id="algorithm2e2.17.1.m1.2.2.2a.cmml" xref="algorithm2e2.17.1.m1.2.2.1.2">formulae-sequence</csymbol><ci id="algorithm2e2.17.1.m1.1.1.cmml" xref="algorithm2e2.17.1.m1.1.1">𝑐</ci><apply id="algorithm2e2.17.1.m1.2.2.1.1.cmml" xref="algorithm2e2.17.1.m1.2.2.1.1"><eq id="algorithm2e2.17.1.m1.2.2.1.1.1.cmml" xref="algorithm2e2.17.1.m1.2.2.1.1.1"></eq><ci id="algorithm2e2.17.1.m1.2.2.1.1.2.cmml" xref="algorithm2e2.17.1.m1.2.2.1.1.2">population</ci><ci id="algorithm2e2.17.1.m1.2.2.1.1.3.cmml" xref="algorithm2e2.17.1.m1.2.2.1.1.3">Train</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.17.1.m1.2c">c.\mathrm{population}=\mathrm{Train}</annotation></semantics></math></em> <span id="algorithm2e2.17.3" class="ltx_text ltx_font_bold">then</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.41" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e2.18.m1.2" class="ltx_math_unparsed" alttext="(\theta^{\prime},aux)\leftarrow\text{local\_optimize}(\theta,d_{u},Opt_{l},c.\text{model\_train\_params})" display="inline"><semantics id="algorithm2e2.18.m1.2a"><mrow id="algorithm2e2.18.m1.2b"><mrow id="algorithm2e2.18.m1.2.3"><mo stretchy="false" id="algorithm2e2.18.m1.2.3.1">(</mo><msup id="algorithm2e2.18.m1.2.3.2"><mi id="algorithm2e2.18.m1.2.3.2.2">θ</mi><mo id="algorithm2e2.18.m1.2.3.2.3">′</mo></msup><mo id="algorithm2e2.18.m1.2.3.3">,</mo><mi id="algorithm2e2.18.m1.2.3.4">a</mi><mi id="algorithm2e2.18.m1.2.3.5">u</mi><mi id="algorithm2e2.18.m1.2.3.6">x</mi><mo stretchy="false" id="algorithm2e2.18.m1.2.3.7">)</mo></mrow><mo stretchy="false" id="algorithm2e2.18.m1.2.4">←</mo><mtext id="algorithm2e2.18.m1.2.5">local_optimize</mtext><mrow id="algorithm2e2.18.m1.2.6"><mo stretchy="false" id="algorithm2e2.18.m1.2.6.1">(</mo><mi id="algorithm2e2.18.m1.1.1">θ</mi><mo id="algorithm2e2.18.m1.2.6.2">,</mo><msub id="algorithm2e2.18.m1.2.6.3"><mi id="algorithm2e2.18.m1.2.6.3.2">d</mi><mi id="algorithm2e2.18.m1.2.6.3.3">u</mi></msub><mo id="algorithm2e2.18.m1.2.6.4">,</mo><mi id="algorithm2e2.18.m1.2.6.5">O</mi><mi id="algorithm2e2.18.m1.2.6.6">p</mi><msub id="algorithm2e2.18.m1.2.6.7"><mi id="algorithm2e2.18.m1.2.6.7.2">t</mi><mi id="algorithm2e2.18.m1.2.6.7.3">l</mi></msub><mo id="algorithm2e2.18.m1.2.6.8">,</mo><mi id="algorithm2e2.18.m1.2.2">c</mi><mo lspace="0em" rspace="0.167em" id="algorithm2e2.18.m1.2.6.9">.</mo><mtext id="algorithm2e2.18.m1.2.6.10">model_train_params</mtext><mo stretchy="false" id="algorithm2e2.18.m1.2.6.11">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="algorithm2e2.18.m1.2c">(\theta^{\prime},aux)\leftarrow\text{local\_optimize}(\theta,d_{u},Opt_{l},c.\text{model\_train\_params})</annotation></semantics></math> 
<math id="algorithm2e2.19.m2.1" class="ltx_Math" alttext="\Delta\leftarrow\theta-\theta^{\prime}" display="inline"><semantics id="algorithm2e2.19.m2.1a"><mrow id="algorithm2e2.19.m2.1.1" xref="algorithm2e2.19.m2.1.1.cmml"><mi mathvariant="normal" id="algorithm2e2.19.m2.1.1.2" xref="algorithm2e2.19.m2.1.1.2.cmml">Δ</mi><mo stretchy="false" id="algorithm2e2.19.m2.1.1.1" xref="algorithm2e2.19.m2.1.1.1.cmml">←</mo><mrow id="algorithm2e2.19.m2.1.1.3" xref="algorithm2e2.19.m2.1.1.3.cmml"><mi id="algorithm2e2.19.m2.1.1.3.2" xref="algorithm2e2.19.m2.1.1.3.2.cmml">θ</mi><mo id="algorithm2e2.19.m2.1.1.3.1" xref="algorithm2e2.19.m2.1.1.3.1.cmml">−</mo><msup id="algorithm2e2.19.m2.1.1.3.3" xref="algorithm2e2.19.m2.1.1.3.3.cmml"><mi id="algorithm2e2.19.m2.1.1.3.3.2" xref="algorithm2e2.19.m2.1.1.3.3.2.cmml">θ</mi><mo id="algorithm2e2.19.m2.1.1.3.3.3" xref="algorithm2e2.19.m2.1.1.3.3.3.cmml">′</mo></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.19.m2.1b"><apply id="algorithm2e2.19.m2.1.1.cmml" xref="algorithm2e2.19.m2.1.1"><ci id="algorithm2e2.19.m2.1.1.1.cmml" xref="algorithm2e2.19.m2.1.1.1">←</ci><ci id="algorithm2e2.19.m2.1.1.2.cmml" xref="algorithm2e2.19.m2.1.1.2">Δ</ci><apply id="algorithm2e2.19.m2.1.1.3.cmml" xref="algorithm2e2.19.m2.1.1.3"><minus id="algorithm2e2.19.m2.1.1.3.1.cmml" xref="algorithm2e2.19.m2.1.1.3.1"></minus><ci id="algorithm2e2.19.m2.1.1.3.2.cmml" xref="algorithm2e2.19.m2.1.1.3.2">𝜃</ci><apply id="algorithm2e2.19.m2.1.1.3.3.cmml" xref="algorithm2e2.19.m2.1.1.3.3"><csymbol cd="ambiguous" id="algorithm2e2.19.m2.1.1.3.3.1.cmml" xref="algorithm2e2.19.m2.1.1.3.3">superscript</csymbol><ci id="algorithm2e2.19.m2.1.1.3.3.2.cmml" xref="algorithm2e2.19.m2.1.1.3.3.2">𝜃</ci><ci id="algorithm2e2.19.m2.1.1.3.3.3.cmml" xref="algorithm2e2.19.m2.1.1.3.3.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.19.m2.1c">\Delta\leftarrow\theta-\theta^{\prime}</annotation></semantics></math> 
<span id="algorithm2e2.20.2" class="ltx_text ltx_font_bold">return</span> <em id="algorithm2e2.20.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.20.1.m1.2" class="ltx_Math" alttext="(\Delta,aux)" display="inline"><semantics id="algorithm2e2.20.1.m1.2a"><mrow id="algorithm2e2.20.1.m1.2.2.1" xref="algorithm2e2.20.1.m1.2.2.2.cmml"><mo stretchy="false" id="algorithm2e2.20.1.m1.2.2.1.2" xref="algorithm2e2.20.1.m1.2.2.2.cmml">(</mo><mi mathvariant="normal" id="algorithm2e2.20.1.m1.1.1" xref="algorithm2e2.20.1.m1.1.1.cmml">Δ</mi><mo id="algorithm2e2.20.1.m1.2.2.1.3" xref="algorithm2e2.20.1.m1.2.2.2.cmml">,</mo><mrow id="algorithm2e2.20.1.m1.2.2.1.1" xref="algorithm2e2.20.1.m1.2.2.1.1.cmml"><mi id="algorithm2e2.20.1.m1.2.2.1.1.2" xref="algorithm2e2.20.1.m1.2.2.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.20.1.m1.2.2.1.1.1" xref="algorithm2e2.20.1.m1.2.2.1.1.1.cmml">​</mo><mi id="algorithm2e2.20.1.m1.2.2.1.1.3" xref="algorithm2e2.20.1.m1.2.2.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.20.1.m1.2.2.1.1.1a" xref="algorithm2e2.20.1.m1.2.2.1.1.1.cmml">​</mo><mi id="algorithm2e2.20.1.m1.2.2.1.1.4" xref="algorithm2e2.20.1.m1.2.2.1.1.4.cmml">x</mi></mrow><mo stretchy="false" id="algorithm2e2.20.1.m1.2.2.1.4" xref="algorithm2e2.20.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.20.1.m1.2b"><interval closure="open" id="algorithm2e2.20.1.m1.2.2.2.cmml" xref="algorithm2e2.20.1.m1.2.2.1"><ci id="algorithm2e2.20.1.m1.1.1.cmml" xref="algorithm2e2.20.1.m1.1.1">Δ</ci><apply id="algorithm2e2.20.1.m1.2.2.1.1.cmml" xref="algorithm2e2.20.1.m1.2.2.1.1"><times id="algorithm2e2.20.1.m1.2.2.1.1.1.cmml" xref="algorithm2e2.20.1.m1.2.2.1.1.1"></times><ci id="algorithm2e2.20.1.m1.2.2.1.1.2.cmml" xref="algorithm2e2.20.1.m1.2.2.1.1.2">𝑎</ci><ci id="algorithm2e2.20.1.m1.2.2.1.1.3.cmml" xref="algorithm2e2.20.1.m1.2.2.1.1.3">𝑢</ci><ci id="algorithm2e2.20.1.m1.2.2.1.1.4.cmml" xref="algorithm2e2.20.1.m1.2.2.1.1.4">𝑥</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.20.1.m1.2c">(\Delta,aux)</annotation></semantics></math></em> 

</div>
<div id="algorithm2e2.41.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e2.41.1.1" class="ltx_text ltx_font_bold">else</span>
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.42" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2e2.21.m1.2" class="ltx_math_unparsed" alttext="\text{evaluate}(\theta_{t}^{\prime},d,c.\text{model\_eval\_params})" display="inline"><semantics id="algorithm2e2.21.m1.2a"><mrow id="algorithm2e2.21.m1.2b"><mtext id="algorithm2e2.21.m1.2.3">evaluate</mtext><mrow id="algorithm2e2.21.m1.2.4"><mo stretchy="false" id="algorithm2e2.21.m1.2.4.1">(</mo><msubsup id="algorithm2e2.21.m1.2.4.2"><mi id="algorithm2e2.21.m1.2.4.2.2.2">θ</mi><mi id="algorithm2e2.21.m1.2.4.2.2.3">t</mi><mo id="algorithm2e2.21.m1.2.4.2.3">′</mo></msubsup><mo id="algorithm2e2.21.m1.2.4.3">,</mo><mi id="algorithm2e2.21.m1.1.1">d</mi><mo id="algorithm2e2.21.m1.2.4.4">,</mo><mi id="algorithm2e2.21.m1.2.2">c</mi><mo lspace="0em" rspace="0.167em" id="algorithm2e2.21.m1.2.4.5">.</mo><mtext id="algorithm2e2.21.m1.2.4.6">model_eval_params</mtext><mo stretchy="false" id="algorithm2e2.21.m1.2.4.7">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="algorithm2e2.21.m1.2c">\text{evaluate}(\theta_{t}^{\prime},d,c.\text{model\_eval\_params})</annotation></semantics></math> 
<span id="algorithm2e2.22.2" class="ltx_text ltx_font_bold">return</span> <em id="algorithm2e2.22.1" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.22.1.m1.2" class="ltx_Math" alttext="(\text{null},\text{null})" display="inline"><semantics id="algorithm2e2.22.1.m1.2a"><mrow id="algorithm2e2.22.1.m1.2.3.2" xref="algorithm2e2.22.1.m1.2.3.1.cmml"><mo stretchy="false" id="algorithm2e2.22.1.m1.2.3.2.1" xref="algorithm2e2.22.1.m1.2.3.1.cmml">(</mo><mtext class="ltx_mathvariant_italic" id="algorithm2e2.22.1.m1.1.1" xref="algorithm2e2.22.1.m1.1.1a.cmml">null</mtext><mo id="algorithm2e2.22.1.m1.2.3.2.2" xref="algorithm2e2.22.1.m1.2.3.1.cmml">,</mo><mtext class="ltx_mathvariant_italic" id="algorithm2e2.22.1.m1.2.2" xref="algorithm2e2.22.1.m1.2.2a.cmml">null</mtext><mo stretchy="false" id="algorithm2e2.22.1.m1.2.3.2.3" xref="algorithm2e2.22.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.22.1.m1.2b"><interval closure="open" id="algorithm2e2.22.1.m1.2.3.1.cmml" xref="algorithm2e2.22.1.m1.2.3.2"><ci id="algorithm2e2.22.1.m1.1.1a.cmml" xref="algorithm2e2.22.1.m1.1.1"><mtext class="ltx_mathvariant_italic" id="algorithm2e2.22.1.m1.1.1.cmml" xref="algorithm2e2.22.1.m1.1.1">null</mtext></ci><ci id="algorithm2e2.22.1.m1.2.2a.cmml" xref="algorithm2e2.22.1.m1.2.2"><mtext class="ltx_mathvariant_italic" id="algorithm2e2.22.1.m1.2.2.cmml" xref="algorithm2e2.22.1.m1.2.2">null</mtext></ci></interval></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.22.1.m1.2c">(\text{null},\text{null})</annotation></semantics></math></em> 

</div>
<div id="algorithm2e2.42.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.43" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <span id="algorithm2e2.25.4" class="ltx_text ltx_font_bold">Function</span> <em id="algorithm2e2.25.3" class="ltx_emph ltx_font_typewriter">process_aggregated_statistics_all_contexts(<em id="algorithm2e2.25.3.3.3" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="algorithm2e2.23.1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{C}" display="inline"><semantics id="algorithm2e2.23.1.1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.23.1.1.1.m1.1.1" xref="algorithm2e2.23.1.1.1.m1.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.23.1.1.1.m1.1b"><ci id="algorithm2e2.23.1.1.1.m1.1.1.cmml" xref="algorithm2e2.23.1.1.1.m1.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.23.1.1.1.m1.1c">\mathcal{C}</annotation></semantics></math>, <math id="algorithm2e2.24.2.2.2.m2.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="algorithm2e2.24.2.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.24.2.2.2.m2.1.1" xref="algorithm2e2.24.2.2.2.m2.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.24.2.2.2.m2.1b"><ci id="algorithm2e2.24.2.2.2.m2.1.1.cmml" xref="algorithm2e2.24.2.2.2.m2.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.24.2.2.2.m2.1c">\mathcal{S}</annotation></semantics></math>, <math id="algorithm2e2.25.3.3.3.m3.1" class="ltx_Math" alttext="\theta_{t}" display="inline"><semantics id="algorithm2e2.25.3.3.3.m3.1a"><msub id="algorithm2e2.25.3.3.3.m3.1.1" xref="algorithm2e2.25.3.3.3.m3.1.1.cmml"><mi id="algorithm2e2.25.3.3.3.m3.1.1.2" xref="algorithm2e2.25.3.3.3.m3.1.1.2.cmml">θ</mi><mi id="algorithm2e2.25.3.3.3.m3.1.1.3" xref="algorithm2e2.25.3.3.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm2e2.25.3.3.3.m3.1b"><apply id="algorithm2e2.25.3.3.3.m3.1.1.cmml" xref="algorithm2e2.25.3.3.3.m3.1.1"><csymbol cd="ambiguous" id="algorithm2e2.25.3.3.3.m3.1.1.1.cmml" xref="algorithm2e2.25.3.3.3.m3.1.1">subscript</csymbol><ci id="algorithm2e2.25.3.3.3.m3.1.1.2.cmml" xref="algorithm2e2.25.3.3.3.m3.1.1.2">𝜃</ci><ci id="algorithm2e2.25.3.3.3.m3.1.1.3.cmml" xref="algorithm2e2.25.3.3.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.25.3.3.3.m3.1c">\theta_{t}</annotation></semantics></math></em>)</em><span id="algorithm2e2.25.5" class="ltx_text ltx_font_bold">:</span>
</div>
<div id="algorithm2e2.31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2e2.31.4" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e2.31.4.1" class="ltx_text">// </span></span><span id="algorithm2e2.26.1" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> Expecting <math id="algorithm2e2.26.1.m1.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="algorithm2e2.26.1.m1.1a"><mi class="ltx_font_mathcaligraphic" mathcolor="#0000FF" id="algorithm2e2.26.1.m1.1.1" xref="algorithm2e2.26.1.m1.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.26.1.m1.1b"><ci id="algorithm2e2.26.1.m1.1.1.cmml" xref="algorithm2e2.26.1.m1.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.26.1.m1.1c">\mathcal{S}</annotation></semantics></math> to be length 1, the aggregated model update, extract it. </span>
<math id="algorithm2e2.27.m1.1" class="ltx_Math" alttext="\{\Delta\}\leftarrow\mathcal{S}" display="inline"><semantics id="algorithm2e2.27.m1.1a"><mrow id="algorithm2e2.27.m1.1.2" xref="algorithm2e2.27.m1.1.2.cmml"><mrow id="algorithm2e2.27.m1.1.2.2.2" xref="algorithm2e2.27.m1.1.2.2.1.cmml"><mo stretchy="false" id="algorithm2e2.27.m1.1.2.2.2.1" xref="algorithm2e2.27.m1.1.2.2.1.cmml">{</mo><mi mathvariant="normal" id="algorithm2e2.27.m1.1.1" xref="algorithm2e2.27.m1.1.1.cmml">Δ</mi><mo stretchy="false" id="algorithm2e2.27.m1.1.2.2.2.2" xref="algorithm2e2.27.m1.1.2.2.1.cmml">}</mo></mrow><mo stretchy="false" id="algorithm2e2.27.m1.1.2.1" xref="algorithm2e2.27.m1.1.2.1.cmml">←</mo><mi class="ltx_font_mathcaligraphic" id="algorithm2e2.27.m1.1.2.3" xref="algorithm2e2.27.m1.1.2.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.27.m1.1b"><apply id="algorithm2e2.27.m1.1.2.cmml" xref="algorithm2e2.27.m1.1.2"><ci id="algorithm2e2.27.m1.1.2.1.cmml" xref="algorithm2e2.27.m1.1.2.1">←</ci><set id="algorithm2e2.27.m1.1.2.2.1.cmml" xref="algorithm2e2.27.m1.1.2.2.2"><ci id="algorithm2e2.27.m1.1.1.cmml" xref="algorithm2e2.27.m1.1.1">Δ</ci></set><ci id="algorithm2e2.27.m1.1.2.3.cmml" xref="algorithm2e2.27.m1.1.2.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.27.m1.1c">\{\Delta\}\leftarrow\mathcal{S}</annotation></semantics></math> 
<span id="algorithm2e2.31.5" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <span id="algorithm2e2.31.5.1" class="ltx_text">// </span></span><span id="algorithm2e2.28.2" class="ltx_text ltx_font_typewriter" style="color:#0000FF;"> <math id="algorithm2e2.28.2.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="algorithm2e2.28.2.m1.1a"><mi mathcolor="#0000FF" mathvariant="normal" id="algorithm2e2.28.2.m1.1.1" xref="algorithm2e2.28.2.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="algorithm2e2.28.2.m1.1b"><ci id="algorithm2e2.28.2.m1.1.1.cmml" xref="algorithm2e2.28.2.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.28.2.m1.1c">\Delta</annotation></semantics></math> is weighted, average it. </span>
<math id="algorithm2e2.29.m2.1" class="ltx_Math" alttext="\Delta\leftarrow\mathrm{average}(\Delta)" display="inline"><semantics id="algorithm2e2.29.m2.1a"><mrow id="algorithm2e2.29.m2.1.2" xref="algorithm2e2.29.m2.1.2.cmml"><mi mathvariant="normal" id="algorithm2e2.29.m2.1.2.2" xref="algorithm2e2.29.m2.1.2.2.cmml">Δ</mi><mo stretchy="false" id="algorithm2e2.29.m2.1.2.1" xref="algorithm2e2.29.m2.1.2.1.cmml">←</mo><mrow id="algorithm2e2.29.m2.1.2.3" xref="algorithm2e2.29.m2.1.2.3.cmml"><mi id="algorithm2e2.29.m2.1.2.3.2" xref="algorithm2e2.29.m2.1.2.3.2.cmml">average</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.29.m2.1.2.3.1" xref="algorithm2e2.29.m2.1.2.3.1.cmml">​</mo><mrow id="algorithm2e2.29.m2.1.2.3.3.2" xref="algorithm2e2.29.m2.1.2.3.cmml"><mo stretchy="false" id="algorithm2e2.29.m2.1.2.3.3.2.1" xref="algorithm2e2.29.m2.1.2.3.cmml">(</mo><mi mathvariant="normal" id="algorithm2e2.29.m2.1.1" xref="algorithm2e2.29.m2.1.1.cmml">Δ</mi><mo stretchy="false" id="algorithm2e2.29.m2.1.2.3.3.2.2" xref="algorithm2e2.29.m2.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.29.m2.1b"><apply id="algorithm2e2.29.m2.1.2.cmml" xref="algorithm2e2.29.m2.1.2"><ci id="algorithm2e2.29.m2.1.2.1.cmml" xref="algorithm2e2.29.m2.1.2.1">←</ci><ci id="algorithm2e2.29.m2.1.2.2.cmml" xref="algorithm2e2.29.m2.1.2.2">Δ</ci><apply id="algorithm2e2.29.m2.1.2.3.cmml" xref="algorithm2e2.29.m2.1.2.3"><times id="algorithm2e2.29.m2.1.2.3.1.cmml" xref="algorithm2e2.29.m2.1.2.3.1"></times><ci id="algorithm2e2.29.m2.1.2.3.2.cmml" xref="algorithm2e2.29.m2.1.2.3.2">average</ci><ci id="algorithm2e2.29.m2.1.1.cmml" xref="algorithm2e2.29.m2.1.1">Δ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.29.m2.1c">\Delta\leftarrow\mathrm{average}(\Delta)</annotation></semantics></math> 
<math id="algorithm2e2.30.m3.2" class="ltx_Math" alttext="\theta_{t+1}\leftarrow Opt_{c}(\theta_{t},\Delta)" display="inline"><semantics id="algorithm2e2.30.m3.2a"><mrow id="algorithm2e2.30.m3.2.2" xref="algorithm2e2.30.m3.2.2.cmml"><msub id="algorithm2e2.30.m3.2.2.3" xref="algorithm2e2.30.m3.2.2.3.cmml"><mi id="algorithm2e2.30.m3.2.2.3.2" xref="algorithm2e2.30.m3.2.2.3.2.cmml">θ</mi><mrow id="algorithm2e2.30.m3.2.2.3.3" xref="algorithm2e2.30.m3.2.2.3.3.cmml"><mi id="algorithm2e2.30.m3.2.2.3.3.2" xref="algorithm2e2.30.m3.2.2.3.3.2.cmml">t</mi><mo id="algorithm2e2.30.m3.2.2.3.3.1" xref="algorithm2e2.30.m3.2.2.3.3.1.cmml">+</mo><mn id="algorithm2e2.30.m3.2.2.3.3.3" xref="algorithm2e2.30.m3.2.2.3.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="algorithm2e2.30.m3.2.2.2" xref="algorithm2e2.30.m3.2.2.2.cmml">←</mo><mrow id="algorithm2e2.30.m3.2.2.1" xref="algorithm2e2.30.m3.2.2.1.cmml"><mi id="algorithm2e2.30.m3.2.2.1.3" xref="algorithm2e2.30.m3.2.2.1.3.cmml">O</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.30.m3.2.2.1.2" xref="algorithm2e2.30.m3.2.2.1.2.cmml">​</mo><mi id="algorithm2e2.30.m3.2.2.1.4" xref="algorithm2e2.30.m3.2.2.1.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="algorithm2e2.30.m3.2.2.1.2a" xref="algorithm2e2.30.m3.2.2.1.2.cmml">​</mo><msub id="algorithm2e2.30.m3.2.2.1.5" xref="algorithm2e2.30.m3.2.2.1.5.cmml"><mi id="algorithm2e2.30.m3.2.2.1.5.2" xref="algorithm2e2.30.m3.2.2.1.5.2.cmml">t</mi><mi id="algorithm2e2.30.m3.2.2.1.5.3" xref="algorithm2e2.30.m3.2.2.1.5.3.cmml">c</mi></msub><mo lspace="0em" rspace="0em" id="algorithm2e2.30.m3.2.2.1.2b" xref="algorithm2e2.30.m3.2.2.1.2.cmml">​</mo><mrow id="algorithm2e2.30.m3.2.2.1.1.1" xref="algorithm2e2.30.m3.2.2.1.1.2.cmml"><mo stretchy="false" id="algorithm2e2.30.m3.2.2.1.1.1.2" xref="algorithm2e2.30.m3.2.2.1.1.2.cmml">(</mo><msub id="algorithm2e2.30.m3.2.2.1.1.1.1" xref="algorithm2e2.30.m3.2.2.1.1.1.1.cmml"><mi id="algorithm2e2.30.m3.2.2.1.1.1.1.2" xref="algorithm2e2.30.m3.2.2.1.1.1.1.2.cmml">θ</mi><mi id="algorithm2e2.30.m3.2.2.1.1.1.1.3" xref="algorithm2e2.30.m3.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="algorithm2e2.30.m3.2.2.1.1.1.3" xref="algorithm2e2.30.m3.2.2.1.1.2.cmml">,</mo><mi mathvariant="normal" id="algorithm2e2.30.m3.1.1" xref="algorithm2e2.30.m3.1.1.cmml">Δ</mi><mo stretchy="false" id="algorithm2e2.30.m3.2.2.1.1.1.4" xref="algorithm2e2.30.m3.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2e2.30.m3.2b"><apply id="algorithm2e2.30.m3.2.2.cmml" xref="algorithm2e2.30.m3.2.2"><ci id="algorithm2e2.30.m3.2.2.2.cmml" xref="algorithm2e2.30.m3.2.2.2">←</ci><apply id="algorithm2e2.30.m3.2.2.3.cmml" xref="algorithm2e2.30.m3.2.2.3"><csymbol cd="ambiguous" id="algorithm2e2.30.m3.2.2.3.1.cmml" xref="algorithm2e2.30.m3.2.2.3">subscript</csymbol><ci id="algorithm2e2.30.m3.2.2.3.2.cmml" xref="algorithm2e2.30.m3.2.2.3.2">𝜃</ci><apply id="algorithm2e2.30.m3.2.2.3.3.cmml" xref="algorithm2e2.30.m3.2.2.3.3"><plus id="algorithm2e2.30.m3.2.2.3.3.1.cmml" xref="algorithm2e2.30.m3.2.2.3.3.1"></plus><ci id="algorithm2e2.30.m3.2.2.3.3.2.cmml" xref="algorithm2e2.30.m3.2.2.3.3.2">𝑡</ci><cn type="integer" id="algorithm2e2.30.m3.2.2.3.3.3.cmml" xref="algorithm2e2.30.m3.2.2.3.3.3">1</cn></apply></apply><apply id="algorithm2e2.30.m3.2.2.1.cmml" xref="algorithm2e2.30.m3.2.2.1"><times id="algorithm2e2.30.m3.2.2.1.2.cmml" xref="algorithm2e2.30.m3.2.2.1.2"></times><ci id="algorithm2e2.30.m3.2.2.1.3.cmml" xref="algorithm2e2.30.m3.2.2.1.3">𝑂</ci><ci id="algorithm2e2.30.m3.2.2.1.4.cmml" xref="algorithm2e2.30.m3.2.2.1.4">𝑝</ci><apply id="algorithm2e2.30.m3.2.2.1.5.cmml" xref="algorithm2e2.30.m3.2.2.1.5"><csymbol cd="ambiguous" id="algorithm2e2.30.m3.2.2.1.5.1.cmml" xref="algorithm2e2.30.m3.2.2.1.5">subscript</csymbol><ci id="algorithm2e2.30.m3.2.2.1.5.2.cmml" xref="algorithm2e2.30.m3.2.2.1.5.2">𝑡</ci><ci id="algorithm2e2.30.m3.2.2.1.5.3.cmml" xref="algorithm2e2.30.m3.2.2.1.5.3">𝑐</ci></apply><interval closure="open" id="algorithm2e2.30.m3.2.2.1.1.2.cmml" xref="algorithm2e2.30.m3.2.2.1.1.1"><apply id="algorithm2e2.30.m3.2.2.1.1.1.1.cmml" xref="algorithm2e2.30.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm2e2.30.m3.2.2.1.1.1.1.1.cmml" xref="algorithm2e2.30.m3.2.2.1.1.1.1">subscript</csymbol><ci id="algorithm2e2.30.m3.2.2.1.1.1.1.2.cmml" xref="algorithm2e2.30.m3.2.2.1.1.1.1.2">𝜃</ci><ci id="algorithm2e2.30.m3.2.2.1.1.1.1.3.cmml" xref="algorithm2e2.30.m3.2.2.1.1.1.1.3">𝑡</ci></apply><ci id="algorithm2e2.30.m3.1.1.cmml" xref="algorithm2e2.30.m3.1.1">Δ</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.30.m3.2c">\theta_{t+1}\leftarrow Opt_{c}(\theta_{t},\Delta)</annotation></semantics></math> 
<span id="algorithm2e2.31.6" class="ltx_text ltx_font_bold">return</span> <em id="algorithm2e2.31.3" class="ltx_emph ltx_font_italic"><math id="algorithm2e2.31.3.m1.1" class="ltx_Math" alttext="\theta_{t+1}" display="inline"><semantics id="algorithm2e2.31.3.m1.1a"><msub id="algorithm2e2.31.3.m1.1.1" xref="algorithm2e2.31.3.m1.1.1.cmml"><mi id="algorithm2e2.31.3.m1.1.1.2" xref="algorithm2e2.31.3.m1.1.1.2.cmml">θ</mi><mrow id="algorithm2e2.31.3.m1.1.1.3" xref="algorithm2e2.31.3.m1.1.1.3.cmml"><mi id="algorithm2e2.31.3.m1.1.1.3.2" xref="algorithm2e2.31.3.m1.1.1.3.2.cmml">t</mi><mo id="algorithm2e2.31.3.m1.1.1.3.1" xref="algorithm2e2.31.3.m1.1.1.3.1.cmml">+</mo><mn id="algorithm2e2.31.3.m1.1.1.3.3" xref="algorithm2e2.31.3.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="algorithm2e2.31.3.m1.1b"><apply id="algorithm2e2.31.3.m1.1.1.cmml" xref="algorithm2e2.31.3.m1.1.1"><csymbol cd="ambiguous" id="algorithm2e2.31.3.m1.1.1.1.cmml" xref="algorithm2e2.31.3.m1.1.1">subscript</csymbol><ci id="algorithm2e2.31.3.m1.1.1.2.cmml" xref="algorithm2e2.31.3.m1.1.1.2">𝜃</ci><apply id="algorithm2e2.31.3.m1.1.1.3.cmml" xref="algorithm2e2.31.3.m1.1.1.3"><plus id="algorithm2e2.31.3.m1.1.1.3.1.cmml" xref="algorithm2e2.31.3.m1.1.1.3.1"></plus><ci id="algorithm2e2.31.3.m1.1.1.3.2.cmml" xref="algorithm2e2.31.3.m1.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm2e2.31.3.m1.1.1.3.3.cmml" xref="algorithm2e2.31.3.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2e2.31.3.m1.1c">\theta_{t+1}</annotation></semantics></math></em> 

</div>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_many">
<div id="algorithm2e2.44" class="ltx_block ltx_figure_panel">
<div id="algorithm2e2.44.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="algorithm2e2.44.2" class="ltx_listingline">
</div>
</div>
</div>
</div>
</figure>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Metrics example</h3>

<div id="A2.SS2.p1" class="ltx_para ltx_noindent">
<p id="A2.SS2.p1.5" class="ltx_p">A metric can be defined on two levels in <span id="A2.SS2.p1.5.1" class="ltx_text ltx_font_typewriter">pfl-research</span>: per-user and central.
If user <math id="A2.SS2.p1.1.m1.1" class="ltx_Math" alttext="U_{1}" display="inline"><semantics id="A2.SS2.p1.1.m1.1a"><msub id="A2.SS2.p1.1.m1.1.1" xref="A2.SS2.p1.1.m1.1.1.cmml"><mi id="A2.SS2.p1.1.m1.1.1.2" xref="A2.SS2.p1.1.m1.1.1.2.cmml">U</mi><mn id="A2.SS2.p1.1.m1.1.1.3" xref="A2.SS2.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.1.m1.1b"><apply id="A2.SS2.p1.1.m1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.SS2.p1.1.m1.1.1.1.cmml" xref="A2.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="A2.SS2.p1.1.m1.1.1.2.cmml" xref="A2.SS2.p1.1.m1.1.1.2">𝑈</ci><cn type="integer" id="A2.SS2.p1.1.m1.1.1.3.cmml" xref="A2.SS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.1.m1.1c">U_{1}</annotation></semantics></math> has <math id="A2.SS2.p1.2.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A2.SS2.p1.2.m2.1a"><mn id="A2.SS2.p1.2.m2.1.1" xref="A2.SS2.p1.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.2.m2.1b"><cn type="integer" id="A2.SS2.p1.2.m2.1.1.cmml" xref="A2.SS2.p1.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.2.m2.1c">1</annotation></semantics></math> datapoint and user <math id="A2.SS2.p1.3.m3.1" class="ltx_Math" alttext="U_{2}" display="inline"><semantics id="A2.SS2.p1.3.m3.1a"><msub id="A2.SS2.p1.3.m3.1.1" xref="A2.SS2.p1.3.m3.1.1.cmml"><mi id="A2.SS2.p1.3.m3.1.1.2" xref="A2.SS2.p1.3.m3.1.1.2.cmml">U</mi><mn id="A2.SS2.p1.3.m3.1.1.3" xref="A2.SS2.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.3.m3.1b"><apply id="A2.SS2.p1.3.m3.1.1.cmml" xref="A2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A2.SS2.p1.3.m3.1.1.1.cmml" xref="A2.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="A2.SS2.p1.3.m3.1.1.2.cmml" xref="A2.SS2.p1.3.m3.1.1.2">𝑈</ci><cn type="integer" id="A2.SS2.p1.3.m3.1.1.3.cmml" xref="A2.SS2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.3.m3.1c">U_{2}</annotation></semantics></math> has 7 datapoints, where <math id="A2.SS2.p1.4.m4.1" class="ltx_Math" alttext="U_{1}" display="inline"><semantics id="A2.SS2.p1.4.m4.1a"><msub id="A2.SS2.p1.4.m4.1.1" xref="A2.SS2.p1.4.m4.1.1.cmml"><mi id="A2.SS2.p1.4.m4.1.1.2" xref="A2.SS2.p1.4.m4.1.1.2.cmml">U</mi><mn id="A2.SS2.p1.4.m4.1.1.3" xref="A2.SS2.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.4.m4.1b"><apply id="A2.SS2.p1.4.m4.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A2.SS2.p1.4.m4.1.1.1.cmml" xref="A2.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="A2.SS2.p1.4.m4.1.1.2.cmml" xref="A2.SS2.p1.4.m4.1.1.2">𝑈</ci><cn type="integer" id="A2.SS2.p1.4.m4.1.1.3.cmml" xref="A2.SS2.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.4.m4.1c">U_{1}</annotation></semantics></math> predicts the output correctly on its datum and <math id="A2.SS2.p1.5.m5.1" class="ltx_Math" alttext="U_{2}" display="inline"><semantics id="A2.SS2.p1.5.m5.1a"><msub id="A2.SS2.p1.5.m5.1.1" xref="A2.SS2.p1.5.m5.1.1.cmml"><mi id="A2.SS2.p1.5.m5.1.1.2" xref="A2.SS2.p1.5.m5.1.1.2.cmml">U</mi><mn id="A2.SS2.p1.5.m5.1.1.3" xref="A2.SS2.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="A2.SS2.p1.5.m5.1b"><apply id="A2.SS2.p1.5.m5.1.1.cmml" xref="A2.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="A2.SS2.p1.5.m5.1.1.1.cmml" xref="A2.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="A2.SS2.p1.5.m5.1.1.2.cmml" xref="A2.SS2.p1.5.m5.1.1.2">𝑈</ci><cn type="integer" id="A2.SS2.p1.5.m5.1.1.3.cmml" xref="A2.SS2.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS2.p1.5.m5.1c">U_{2}</annotation></semantics></math> fails to predict correct output for all data, then the accuracies are:</p>
</div>
<div id="A2.SS2.p2" class="ltx_para ltx_noindent">
<table id="A2.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A2.Ex2.m1.3" class="ltx_Math" alttext="\textit{per-user Acc}_{\{U_{1},U_{2}\}}=\frac{1/1+(0/7)}{2}=0.5" display="block"><semantics id="A2.Ex2.m1.3a"><mrow id="A2.Ex2.m1.3.4" xref="A2.Ex2.m1.3.4.cmml"><msub id="A2.Ex2.m1.3.4.2" xref="A2.Ex2.m1.3.4.2.cmml"><mtext class="ltx_mathvariant_italic" id="A2.Ex2.m1.3.4.2.2" xref="A2.Ex2.m1.3.4.2.2a.cmml">per-user Acc</mtext><mrow id="A2.Ex2.m1.2.2.2.2" xref="A2.Ex2.m1.2.2.2.3.cmml"><mo stretchy="false" id="A2.Ex2.m1.2.2.2.2.3" xref="A2.Ex2.m1.2.2.2.3.cmml">{</mo><msub id="A2.Ex2.m1.1.1.1.1.1" xref="A2.Ex2.m1.1.1.1.1.1.cmml"><mi id="A2.Ex2.m1.1.1.1.1.1.2" xref="A2.Ex2.m1.1.1.1.1.1.2.cmml">U</mi><mn id="A2.Ex2.m1.1.1.1.1.1.3" xref="A2.Ex2.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="A2.Ex2.m1.2.2.2.2.4" xref="A2.Ex2.m1.2.2.2.3.cmml">,</mo><msub id="A2.Ex2.m1.2.2.2.2.2" xref="A2.Ex2.m1.2.2.2.2.2.cmml"><mi id="A2.Ex2.m1.2.2.2.2.2.2" xref="A2.Ex2.m1.2.2.2.2.2.2.cmml">U</mi><mn id="A2.Ex2.m1.2.2.2.2.2.3" xref="A2.Ex2.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="A2.Ex2.m1.2.2.2.2.5" xref="A2.Ex2.m1.2.2.2.3.cmml">}</mo></mrow></msub><mo id="A2.Ex2.m1.3.4.3" xref="A2.Ex2.m1.3.4.3.cmml">=</mo><mfrac id="A2.Ex2.m1.3.3" xref="A2.Ex2.m1.3.3.cmml"><mrow id="A2.Ex2.m1.3.3.1" xref="A2.Ex2.m1.3.3.1.cmml"><mrow id="A2.Ex2.m1.3.3.1.3" xref="A2.Ex2.m1.3.3.1.3.cmml"><mn id="A2.Ex2.m1.3.3.1.3.2" xref="A2.Ex2.m1.3.3.1.3.2.cmml">1</mn><mo id="A2.Ex2.m1.3.3.1.3.1" xref="A2.Ex2.m1.3.3.1.3.1.cmml">/</mo><mn id="A2.Ex2.m1.3.3.1.3.3" xref="A2.Ex2.m1.3.3.1.3.3.cmml">1</mn></mrow><mo id="A2.Ex2.m1.3.3.1.2" xref="A2.Ex2.m1.3.3.1.2.cmml">+</mo><mrow id="A2.Ex2.m1.3.3.1.1.1" xref="A2.Ex2.m1.3.3.1.1.1.1.cmml"><mo stretchy="false" id="A2.Ex2.m1.3.3.1.1.1.2" xref="A2.Ex2.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="A2.Ex2.m1.3.3.1.1.1.1" xref="A2.Ex2.m1.3.3.1.1.1.1.cmml"><mn id="A2.Ex2.m1.3.3.1.1.1.1.2" xref="A2.Ex2.m1.3.3.1.1.1.1.2.cmml">0</mn><mo id="A2.Ex2.m1.3.3.1.1.1.1.1" xref="A2.Ex2.m1.3.3.1.1.1.1.1.cmml">/</mo><mn id="A2.Ex2.m1.3.3.1.1.1.1.3" xref="A2.Ex2.m1.3.3.1.1.1.1.3.cmml">7</mn></mrow><mo stretchy="false" id="A2.Ex2.m1.3.3.1.1.1.3" xref="A2.Ex2.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mn id="A2.Ex2.m1.3.3.3" xref="A2.Ex2.m1.3.3.3.cmml">2</mn></mfrac><mo id="A2.Ex2.m1.3.4.4" xref="A2.Ex2.m1.3.4.4.cmml">=</mo><mn id="A2.Ex2.m1.3.4.5" xref="A2.Ex2.m1.3.4.5.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex2.m1.3b"><apply id="A2.Ex2.m1.3.4.cmml" xref="A2.Ex2.m1.3.4"><and id="A2.Ex2.m1.3.4a.cmml" xref="A2.Ex2.m1.3.4"></and><apply id="A2.Ex2.m1.3.4b.cmml" xref="A2.Ex2.m1.3.4"><eq id="A2.Ex2.m1.3.4.3.cmml" xref="A2.Ex2.m1.3.4.3"></eq><apply id="A2.Ex2.m1.3.4.2.cmml" xref="A2.Ex2.m1.3.4.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.3.4.2.1.cmml" xref="A2.Ex2.m1.3.4.2">subscript</csymbol><ci id="A2.Ex2.m1.3.4.2.2a.cmml" xref="A2.Ex2.m1.3.4.2.2"><mtext class="ltx_mathvariant_italic" id="A2.Ex2.m1.3.4.2.2.cmml" xref="A2.Ex2.m1.3.4.2.2">per-user Acc</mtext></ci><set id="A2.Ex2.m1.2.2.2.3.cmml" xref="A2.Ex2.m1.2.2.2.2"><apply id="A2.Ex2.m1.1.1.1.1.1.cmml" xref="A2.Ex2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex2.m1.1.1.1.1.1.1.cmml" xref="A2.Ex2.m1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex2.m1.1.1.1.1.1.2.cmml" xref="A2.Ex2.m1.1.1.1.1.1.2">𝑈</ci><cn type="integer" id="A2.Ex2.m1.1.1.1.1.1.3.cmml" xref="A2.Ex2.m1.1.1.1.1.1.3">1</cn></apply><apply id="A2.Ex2.m1.2.2.2.2.2.cmml" xref="A2.Ex2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.Ex2.m1.2.2.2.2.2.1.cmml" xref="A2.Ex2.m1.2.2.2.2.2">subscript</csymbol><ci id="A2.Ex2.m1.2.2.2.2.2.2.cmml" xref="A2.Ex2.m1.2.2.2.2.2.2">𝑈</ci><cn type="integer" id="A2.Ex2.m1.2.2.2.2.2.3.cmml" xref="A2.Ex2.m1.2.2.2.2.2.3">2</cn></apply></set></apply><apply id="A2.Ex2.m1.3.3.cmml" xref="A2.Ex2.m1.3.3"><divide id="A2.Ex2.m1.3.3.2.cmml" xref="A2.Ex2.m1.3.3"></divide><apply id="A2.Ex2.m1.3.3.1.cmml" xref="A2.Ex2.m1.3.3.1"><plus id="A2.Ex2.m1.3.3.1.2.cmml" xref="A2.Ex2.m1.3.3.1.2"></plus><apply id="A2.Ex2.m1.3.3.1.3.cmml" xref="A2.Ex2.m1.3.3.1.3"><divide id="A2.Ex2.m1.3.3.1.3.1.cmml" xref="A2.Ex2.m1.3.3.1.3.1"></divide><cn type="integer" id="A2.Ex2.m1.3.3.1.3.2.cmml" xref="A2.Ex2.m1.3.3.1.3.2">1</cn><cn type="integer" id="A2.Ex2.m1.3.3.1.3.3.cmml" xref="A2.Ex2.m1.3.3.1.3.3">1</cn></apply><apply id="A2.Ex2.m1.3.3.1.1.1.1.cmml" xref="A2.Ex2.m1.3.3.1.1.1"><divide id="A2.Ex2.m1.3.3.1.1.1.1.1.cmml" xref="A2.Ex2.m1.3.3.1.1.1.1.1"></divide><cn type="integer" id="A2.Ex2.m1.3.3.1.1.1.1.2.cmml" xref="A2.Ex2.m1.3.3.1.1.1.1.2">0</cn><cn type="integer" id="A2.Ex2.m1.3.3.1.1.1.1.3.cmml" xref="A2.Ex2.m1.3.3.1.1.1.1.3">7</cn></apply></apply><cn type="integer" id="A2.Ex2.m1.3.3.3.cmml" xref="A2.Ex2.m1.3.3.3">2</cn></apply></apply><apply id="A2.Ex2.m1.3.4c.cmml" xref="A2.Ex2.m1.3.4"><eq id="A2.Ex2.m1.3.4.4.cmml" xref="A2.Ex2.m1.3.4.4"></eq><share href="#A2.Ex2.m1.3.3.cmml" id="A2.Ex2.m1.3.4d.cmml" xref="A2.Ex2.m1.3.4"></share><cn type="float" id="A2.Ex2.m1.3.4.5.cmml" xref="A2.Ex2.m1.3.4.5">0.5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex2.m1.3c">\textit{per-user Acc}_{\{U_{1},U_{2}\}}=\frac{1/1+(0/7)}{2}=0.5</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table id="A2.Ex3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A2.Ex3.m1.2" class="ltx_Math" alttext="\textit{central Acc}_{\{U_{1},U_{2}\}}=\frac{1+0}{8}=0.125" display="block"><semantics id="A2.Ex3.m1.2a"><mrow id="A2.Ex3.m1.2.3" xref="A2.Ex3.m1.2.3.cmml"><msub id="A2.Ex3.m1.2.3.2" xref="A2.Ex3.m1.2.3.2.cmml"><mtext class="ltx_mathvariant_italic" id="A2.Ex3.m1.2.3.2.2" xref="A2.Ex3.m1.2.3.2.2a.cmml">central Acc</mtext><mrow id="A2.Ex3.m1.2.2.2.2" xref="A2.Ex3.m1.2.2.2.3.cmml"><mo stretchy="false" id="A2.Ex3.m1.2.2.2.2.3" xref="A2.Ex3.m1.2.2.2.3.cmml">{</mo><msub id="A2.Ex3.m1.1.1.1.1.1" xref="A2.Ex3.m1.1.1.1.1.1.cmml"><mi id="A2.Ex3.m1.1.1.1.1.1.2" xref="A2.Ex3.m1.1.1.1.1.1.2.cmml">U</mi><mn id="A2.Ex3.m1.1.1.1.1.1.3" xref="A2.Ex3.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="A2.Ex3.m1.2.2.2.2.4" xref="A2.Ex3.m1.2.2.2.3.cmml">,</mo><msub id="A2.Ex3.m1.2.2.2.2.2" xref="A2.Ex3.m1.2.2.2.2.2.cmml"><mi id="A2.Ex3.m1.2.2.2.2.2.2" xref="A2.Ex3.m1.2.2.2.2.2.2.cmml">U</mi><mn id="A2.Ex3.m1.2.2.2.2.2.3" xref="A2.Ex3.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="A2.Ex3.m1.2.2.2.2.5" xref="A2.Ex3.m1.2.2.2.3.cmml">}</mo></mrow></msub><mo id="A2.Ex3.m1.2.3.3" xref="A2.Ex3.m1.2.3.3.cmml">=</mo><mfrac id="A2.Ex3.m1.2.3.4" xref="A2.Ex3.m1.2.3.4.cmml"><mrow id="A2.Ex3.m1.2.3.4.2" xref="A2.Ex3.m1.2.3.4.2.cmml"><mn id="A2.Ex3.m1.2.3.4.2.2" xref="A2.Ex3.m1.2.3.4.2.2.cmml">1</mn><mo id="A2.Ex3.m1.2.3.4.2.1" xref="A2.Ex3.m1.2.3.4.2.1.cmml">+</mo><mn id="A2.Ex3.m1.2.3.4.2.3" xref="A2.Ex3.m1.2.3.4.2.3.cmml">0</mn></mrow><mn id="A2.Ex3.m1.2.3.4.3" xref="A2.Ex3.m1.2.3.4.3.cmml">8</mn></mfrac><mo id="A2.Ex3.m1.2.3.5" xref="A2.Ex3.m1.2.3.5.cmml">=</mo><mn id="A2.Ex3.m1.2.3.6" xref="A2.Ex3.m1.2.3.6.cmml">0.125</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex3.m1.2b"><apply id="A2.Ex3.m1.2.3.cmml" xref="A2.Ex3.m1.2.3"><and id="A2.Ex3.m1.2.3a.cmml" xref="A2.Ex3.m1.2.3"></and><apply id="A2.Ex3.m1.2.3b.cmml" xref="A2.Ex3.m1.2.3"><eq id="A2.Ex3.m1.2.3.3.cmml" xref="A2.Ex3.m1.2.3.3"></eq><apply id="A2.Ex3.m1.2.3.2.cmml" xref="A2.Ex3.m1.2.3.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.3.2.1.cmml" xref="A2.Ex3.m1.2.3.2">subscript</csymbol><ci id="A2.Ex3.m1.2.3.2.2a.cmml" xref="A2.Ex3.m1.2.3.2.2"><mtext class="ltx_mathvariant_italic" id="A2.Ex3.m1.2.3.2.2.cmml" xref="A2.Ex3.m1.2.3.2.2">central Acc</mtext></ci><set id="A2.Ex3.m1.2.2.2.3.cmml" xref="A2.Ex3.m1.2.2.2.2"><apply id="A2.Ex3.m1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex3.m1.1.1.1.1.1.1.cmml" xref="A2.Ex3.m1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex3.m1.1.1.1.1.1.2.cmml" xref="A2.Ex3.m1.1.1.1.1.1.2">𝑈</ci><cn type="integer" id="A2.Ex3.m1.1.1.1.1.1.3.cmml" xref="A2.Ex3.m1.1.1.1.1.1.3">1</cn></apply><apply id="A2.Ex3.m1.2.2.2.2.2.cmml" xref="A2.Ex3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.Ex3.m1.2.2.2.2.2.1.cmml" xref="A2.Ex3.m1.2.2.2.2.2">subscript</csymbol><ci id="A2.Ex3.m1.2.2.2.2.2.2.cmml" xref="A2.Ex3.m1.2.2.2.2.2.2">𝑈</ci><cn type="integer" id="A2.Ex3.m1.2.2.2.2.2.3.cmml" xref="A2.Ex3.m1.2.2.2.2.2.3">2</cn></apply></set></apply><apply id="A2.Ex3.m1.2.3.4.cmml" xref="A2.Ex3.m1.2.3.4"><divide id="A2.Ex3.m1.2.3.4.1.cmml" xref="A2.Ex3.m1.2.3.4"></divide><apply id="A2.Ex3.m1.2.3.4.2.cmml" xref="A2.Ex3.m1.2.3.4.2"><plus id="A2.Ex3.m1.2.3.4.2.1.cmml" xref="A2.Ex3.m1.2.3.4.2.1"></plus><cn type="integer" id="A2.Ex3.m1.2.3.4.2.2.cmml" xref="A2.Ex3.m1.2.3.4.2.2">1</cn><cn type="integer" id="A2.Ex3.m1.2.3.4.2.3.cmml" xref="A2.Ex3.m1.2.3.4.2.3">0</cn></apply><cn type="integer" id="A2.Ex3.m1.2.3.4.3.cmml" xref="A2.Ex3.m1.2.3.4.3">8</cn></apply></apply><apply id="A2.Ex3.m1.2.3c.cmml" xref="A2.Ex3.m1.2.3"><eq id="A2.Ex3.m1.2.3.5.cmml" xref="A2.Ex3.m1.2.3.5"></eq><share href="#A2.Ex3.m1.2.3.4.cmml" id="A2.Ex3.m1.2.3d.cmml" xref="A2.Ex3.m1.2.3"></share><cn type="float" id="A2.Ex3.m1.2.3.6.cmml" xref="A2.Ex3.m1.2.3.6">0.125</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex3.m1.2c">\textit{central Acc}_{\{U_{1},U_{2}\}}=\frac{1+0}{8}=0.125</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="A2.SS2.p3" class="ltx_para ltx_noindent">
<p id="A2.SS2.p3.1" class="ltx_p">The per-user metric has built-in weighting of how many users do well for the metric, hence per-user metrics can be useful to measure after local training in the case of personalisation.
On the other hand, if the researcher is mainly interested in the performance of the central model over the entire dataset, then the central metric is the appropriate choice because it reveals that the model did not perform well on most datapoints in the example above.</p>
</div>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Privacy features</h3>

<div id="A2.SS3.p1" class="ltx_para ltx_noindent">
<p id="A2.SS3.p1.1" class="ltx_p"><span id="A2.SS3.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> implements or integrates with state-of-the-art differential privacy methods for FL, which are available for PyTorch, Tensorflow, and non-neural network models:</p>
</div>
<div id="A2.SS3.p2" class="ltx_para ltx_noindent">
<ul id="A2.I2" class="ltx_itemize">
<li id="A2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i1.p1" class="ltx_para">
<p id="A2.I2.i1.p1.1" class="ltx_p">Gaussian mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i2.p1" class="ltx_para">
<p id="A2.I2.i2.p1.1" class="ltx_p">Gaussian mechanism with adaptive clipping <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i3.p1" class="ltx_para">
<p id="A2.I2.i3.p1.1" class="ltx_p">Laplace mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i4.p1" class="ltx_para">
<p id="A2.I2.i4.p1.1" class="ltx_p">Banded matrix factorization mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i5.p1" class="ltx_para">
<p id="A2.I2.i5.p1.1" class="ltx_p">Rényi DP privacy accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i6.p1" class="ltx_para">
<p id="A2.I2.i6.p1.1" class="ltx_p">Privacy loss distribution (PLD) privacy accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.</p>
</div>
</li>
<li id="A2.I2.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i7.p1" class="ltx_para ltx_noindent">
<p id="A2.I2.i7.p1.1" class="ltx_p">Privacy random variable (PRV) privacy accountant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>.</p>
</div>
</li>
</ul>
</div>
<div id="A2.SS3.p3" class="ltx_para ltx_noindent">
<p id="A2.SS3.p3.1" class="ltx_p"><span id="A2.SS3.p3.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> supports simulations with both local as well as central DP guarantees.
Running a DP mechanism locally results in slower simulations because the generation and addition of noise happens once per sampled user as opposed to once per central iteration. To speed up simulations, <span id="A2.SS3.p3.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> implements <span id="A2.SS3.p3.1.3" class="ltx_text ltx_font_typewriter">GaussianApproximatedPrivacyMechanism<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note"><span id="footnote5.1.1.1" class="ltx_text ltx_font_serif">5</span></span><a target="_blank" href="https://apple.github.io/pfl-research/reference/privacy.html#module-pfl.privacy.approximate_mechanism" title="" class="ltx_ref ltx_url">https://apple.github.io/pfl-research/reference/privacy.html#module-pfl.privacy.approximate_mechanism</a></span></span></span></span>, which
utilizes the central limit theorem <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib65" title="" class="ltx_ref">65</a>]</cite> to approximate a local DP mechanism as a Gaussian mechanism where the noise is applied centrally.
This has the same effect as using the equivalent local mechanism, but the noise is only applied once per central iteration.
This approach can be used only for simulation, and in a real-world PFL system, the local DP mechanism should be applied locally to ensure local DP guarantees.</p>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Details for benchmark setups</h2>

<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>TensorFlow benchmarks</h3>

<div id="A3.SS1.p1" class="ltx_para ltx_noindent">
<p id="A3.SS1.p1.1" class="ltx_p">Compiling benchmark results for TensorFlow setups is left for future work.
Currently, the CIFAR10 benchmarks and StackOverflow benchmarks have equivalent setups in TensorFlow, available at <a target="_blank" href="https://github.com/apple/pfl-research/tree/develop/benchmarks/image_classification/tf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/pfl-research/tree/develop/benchmarks/image_classification/tf</a> and <a target="_blank" href="https://github.com/apple/pfl-research/tree/develop/benchmarks/lm/tf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/pfl-research/tree/develop/benchmarks/lm/tf</a> respectively.
The FLAIR benchmark has a TensorFlow setup in <a target="_blank" href="https://github.com/apple/ml-flair/tree/main/benchmark" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/apple/ml-flair/tree/main/benchmark</a> but it is implemented in TensorFlow Federated.</p>
</div>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>Original benchmarks of algorithms</h3>

<div id="A3.SS2.p1" class="ltx_para ltx_noindent">
<p id="A3.SS2.p1.1" class="ltx_p">Table <a href="#A3.T5" title="Table 5 ‣ C.2 Original benchmarks of algorithms ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> present the datasets that each algorithm from Table <a href="#S4.T3" title="Table 3 ‣ 4.3 Benchmarks for research ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> benchmarked on in their original papers.
It is evident that the algorithms were not sufficiently evaluated on a diverse set of realistic FL datasets.</p>
</div>
<figure id="A3.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>Datasets used in the original publications of the algorithms. XMNIST stands for MNIST and any of its extensions (EMNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, FEMNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>). Red color indicates the data generation process were not of a federated nature.</figcaption>
<br class="ltx_break">
<table id="A3.T5.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T5.1.1" class="ltx_tr">
<td id="A3.T5.1.1.1" class="ltx_td ltx_align_left ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Algorithm</td>
<td id="A3.T5.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="A3.T5.1.1.2.1" class="ltx_text" style="color:#FF0000;">Synthetic <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite></span></td>
<td id="A3.T5.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">X<span id="A3.T5.1.1.3.1" class="ltx_text" style="color:#FF0000;">MNIST</span>
</td>
<td id="A3.T5.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="A3.T5.1.1.4.1" class="ltx_text" style="color:#FF0000;">CIFAR10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite></span></td>
<td id="A3.T5.1.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;"><span id="A3.T5.1.1.5.1" class="ltx_text" style="color:#FF0000;">Shakespeare <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite></span></td>
<td id="A3.T5.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Reddit <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>
</td>
<td id="A3.T5.1.1.7" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:3.0pt;padding-right:3.0pt;">Sent140 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</td>
</tr>
<tr id="A3.T5.1.2" class="ltx_tr">
<td id="A3.T5.1.2.1" class="ltx_td ltx_align_left ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite>
</td>
<td id="A3.T5.1.2.2" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.2.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.2.7" class="ltx_td ltx_border_t" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
</tr>
<tr id="A3.T5.1.3" class="ltx_tr">
<td id="A3.T5.1.3.1" class="ltx_td ltx_align_left" style="padding-left:3.0pt;padding-right:3.0pt;">FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>
</td>
<td id="A3.T5.1.3.2" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.3.3" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.3.4" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.3.5" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.3.6" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.3.7" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
</tr>
<tr id="A3.T5.1.4" class="ltx_tr">
<td id="A3.T5.1.4.1" class="ltx_td ltx_align_left" style="padding-left:3.0pt;padding-right:3.0pt;">AdaFedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>
</td>
<td id="A3.T5.1.4.2" class="ltx_td ltx_align_center" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.4.3" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.4.4" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.4.5" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.4.6" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.4.7" class="ltx_td" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
</tr>
<tr id="A3.T5.1.5" class="ltx_tr">
<td id="A3.T5.1.5.1" class="ltx_td ltx_align_left ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;">SCAFFOLD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>
</td>
<td id="A3.T5.1.5.2" class="ltx_td ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;">✓</td>
<td id="A3.T5.1.5.4" class="ltx_td ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.5.5" class="ltx_td ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.5.6" class="ltx_td ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
<td id="A3.T5.1.5.7" class="ltx_td ltx_border_bb" style="padding-left:3.0pt;padding-right:3.0pt;"></td>
</tr>
</table>
</figure>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Secure aggregation</h3>

<div id="A3.SS3.p1" class="ltx_para ltx_noindent">
<p id="A3.SS3.p1.1" class="ltx_p"><span id="A3.SS3.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> focuses on simulating the effects of PFL.
Since secure aggregation techniques merely compute a sum <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, secure aggregation does not impact the outcomes of a simulation and can thus be omitted.
Also, <span id="A3.SS3.p1.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span> does not emulate constraints and effects of a real-world deployed PFL system.
Therefore, we do not include any implementations of common secure aggregation methods in the initial release of <span id="A3.SS3.p1.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span>.</p>
</div>
</section>
<section id="A3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>Central DP</h3>

<div id="A3.SS4.p1" class="ltx_para ltx_noindent">
<p id="A3.SS4.p1.1" class="ltx_p">Each benchmark has one version without DP and one with central DP.
The current state-of-the-art PFL deployments <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib81" title="" class="ltx_ref">81</a>]</cite> combine central DP with a cryptographically secure aggregation to protect any individual user’s model update.
Local DP is therefore not generally required.
Though local privacy is supported in the <span id="A3.SS4.p1.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span> framework, the curated PFL benchmark suite only uses central DP.
The privacy parameters we use for all benchmarks are shown in Table <a href="#A3.T6" title="Table 6 ‣ C.4 Central DP ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<figure id="A3.T6" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6: </span>Parameters used for a privacy accountant in all benchmarks that use central DP.</figcaption>
<table id="A3.T6.6.6" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T6.6.6.7" class="ltx_tr">
<td id="A3.T6.6.6.7.1" class="ltx_td ltx_align_left ltx_border_tt">Parameter</td>
<td id="A3.T6.6.6.7.2" class="ltx_td ltx_align_center ltx_border_tt">value</td>
</tr>
<tr id="A3.T6.2.2.2" class="ltx_tr">
<td id="A3.T6.1.1.1.1" class="ltx_td ltx_align_left ltx_border_t">
<math id="A3.T6.1.1.1.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="A3.T6.1.1.1.1.m1.1a"><mi id="A3.T6.1.1.1.1.m1.1.1" xref="A3.T6.1.1.1.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="A3.T6.1.1.1.1.m1.1b"><ci id="A3.T6.1.1.1.1.m1.1.1.cmml" xref="A3.T6.1.1.1.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.1.1.1.1.m1.1c">M</annotation></semantics></math> (population)</td>
<td id="A3.T6.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T6.2.2.2.2.m1.1" class="ltx_Math" alttext="10^{6}" display="inline"><semantics id="A3.T6.2.2.2.2.m1.1a"><msup id="A3.T6.2.2.2.2.m1.1.1" xref="A3.T6.2.2.2.2.m1.1.1.cmml"><mn id="A3.T6.2.2.2.2.m1.1.1.2" xref="A3.T6.2.2.2.2.m1.1.1.2.cmml">10</mn><mn id="A3.T6.2.2.2.2.m1.1.1.3" xref="A3.T6.2.2.2.2.m1.1.1.3.cmml">6</mn></msup><annotation-xml encoding="MathML-Content" id="A3.T6.2.2.2.2.m1.1b"><apply id="A3.T6.2.2.2.2.m1.1.1.cmml" xref="A3.T6.2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="A3.T6.2.2.2.2.m1.1.1.1.cmml" xref="A3.T6.2.2.2.2.m1.1.1">superscript</csymbol><cn type="integer" id="A3.T6.2.2.2.2.m1.1.1.2.cmml" xref="A3.T6.2.2.2.2.m1.1.1.2">10</cn><cn type="integer" id="A3.T6.2.2.2.2.m1.1.1.3.cmml" xref="A3.T6.2.2.2.2.m1.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.2.2.2.2.m1.1c">10^{6}</annotation></semantics></math></td>
</tr>
<tr id="A3.T6.4.4.4" class="ltx_tr">
<td id="A3.T6.3.3.3.1" class="ltx_td ltx_align_left"><math id="A3.T6.3.3.3.1.m1.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="A3.T6.3.3.3.1.m1.1a"><mi id="A3.T6.3.3.3.1.m1.1.1" xref="A3.T6.3.3.3.1.m1.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="A3.T6.3.3.3.1.m1.1b"><ci id="A3.T6.3.3.3.1.m1.1.1.cmml" xref="A3.T6.3.3.3.1.m1.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.3.3.3.1.m1.1c">\varepsilon</annotation></semantics></math></td>
<td id="A3.T6.4.4.4.2" class="ltx_td ltx_align_center"><math id="A3.T6.4.4.4.2.m1.1" class="ltx_Math" alttext="2.0" display="inline"><semantics id="A3.T6.4.4.4.2.m1.1a"><mn id="A3.T6.4.4.4.2.m1.1.1" xref="A3.T6.4.4.4.2.m1.1.1.cmml">2.0</mn><annotation-xml encoding="MathML-Content" id="A3.T6.4.4.4.2.m1.1b"><cn type="float" id="A3.T6.4.4.4.2.m1.1.1.cmml" xref="A3.T6.4.4.4.2.m1.1.1">2.0</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.4.4.4.2.m1.1c">2.0</annotation></semantics></math></td>
</tr>
<tr id="A3.T6.6.6.6" class="ltx_tr">
<td id="A3.T6.5.5.5.1" class="ltx_td ltx_align_left ltx_border_bb"><math id="A3.T6.5.5.5.1.m1.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="A3.T6.5.5.5.1.m1.1a"><mi id="A3.T6.5.5.5.1.m1.1.1" xref="A3.T6.5.5.5.1.m1.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="A3.T6.5.5.5.1.m1.1b"><ci id="A3.T6.5.5.5.1.m1.1.1.cmml" xref="A3.T6.5.5.5.1.m1.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.5.5.5.1.m1.1c">\delta</annotation></semantics></math></td>
<td id="A3.T6.6.6.6.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="A3.T6.6.6.6.2.m1.1" class="ltx_Math" alttext="1/M=10^{-6}" display="inline"><semantics id="A3.T6.6.6.6.2.m1.1a"><mrow id="A3.T6.6.6.6.2.m1.1.1" xref="A3.T6.6.6.6.2.m1.1.1.cmml"><mrow id="A3.T6.6.6.6.2.m1.1.1.2" xref="A3.T6.6.6.6.2.m1.1.1.2.cmml"><mn id="A3.T6.6.6.6.2.m1.1.1.2.2" xref="A3.T6.6.6.6.2.m1.1.1.2.2.cmml">1</mn><mo id="A3.T6.6.6.6.2.m1.1.1.2.1" xref="A3.T6.6.6.6.2.m1.1.1.2.1.cmml">/</mo><mi id="A3.T6.6.6.6.2.m1.1.1.2.3" xref="A3.T6.6.6.6.2.m1.1.1.2.3.cmml">M</mi></mrow><mo id="A3.T6.6.6.6.2.m1.1.1.1" xref="A3.T6.6.6.6.2.m1.1.1.1.cmml">=</mo><msup id="A3.T6.6.6.6.2.m1.1.1.3" xref="A3.T6.6.6.6.2.m1.1.1.3.cmml"><mn id="A3.T6.6.6.6.2.m1.1.1.3.2" xref="A3.T6.6.6.6.2.m1.1.1.3.2.cmml">10</mn><mrow id="A3.T6.6.6.6.2.m1.1.1.3.3" xref="A3.T6.6.6.6.2.m1.1.1.3.3.cmml"><mo id="A3.T6.6.6.6.2.m1.1.1.3.3a" xref="A3.T6.6.6.6.2.m1.1.1.3.3.cmml">−</mo><mn id="A3.T6.6.6.6.2.m1.1.1.3.3.2" xref="A3.T6.6.6.6.2.m1.1.1.3.3.2.cmml">6</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.T6.6.6.6.2.m1.1b"><apply id="A3.T6.6.6.6.2.m1.1.1.cmml" xref="A3.T6.6.6.6.2.m1.1.1"><eq id="A3.T6.6.6.6.2.m1.1.1.1.cmml" xref="A3.T6.6.6.6.2.m1.1.1.1"></eq><apply id="A3.T6.6.6.6.2.m1.1.1.2.cmml" xref="A3.T6.6.6.6.2.m1.1.1.2"><divide id="A3.T6.6.6.6.2.m1.1.1.2.1.cmml" xref="A3.T6.6.6.6.2.m1.1.1.2.1"></divide><cn type="integer" id="A3.T6.6.6.6.2.m1.1.1.2.2.cmml" xref="A3.T6.6.6.6.2.m1.1.1.2.2">1</cn><ci id="A3.T6.6.6.6.2.m1.1.1.2.3.cmml" xref="A3.T6.6.6.6.2.m1.1.1.2.3">𝑀</ci></apply><apply id="A3.T6.6.6.6.2.m1.1.1.3.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3"><csymbol cd="ambiguous" id="A3.T6.6.6.6.2.m1.1.1.3.1.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3">superscript</csymbol><cn type="integer" id="A3.T6.6.6.6.2.m1.1.1.3.2.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3.2">10</cn><apply id="A3.T6.6.6.6.2.m1.1.1.3.3.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3.3"><minus id="A3.T6.6.6.6.2.m1.1.1.3.3.1.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3.3"></minus><cn type="integer" id="A3.T6.6.6.6.2.m1.1.1.3.3.2.cmml" xref="A3.T6.6.6.6.2.m1.1.1.3.3.2">6</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T6.6.6.6.2.m1.1c">1/M=10^{-6}</annotation></semantics></math></td>
</tr>
</table>
</figure>
<figure id="A3.F3" class="ltx_figure"><img src="/html/2404.06430/assets/x4.png" id="A3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="170" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Performance of a 2-layer CNN on CIFAR10 for various cohort sizes <math id="A3.F3.3.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.F3.3.m1.1b"><mi id="A3.F3.3.m1.1.1" xref="A3.F3.3.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.F3.3.m1.1c"><ci id="A3.F3.3.m1.1.1.cmml" xref="A3.F3.3.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.F3.3.m1.1d">C</annotation></semantics></math> (bottom x-axis, black lines) or noise scale <math id="A3.F3.4.m2.1" class="ltx_Math" alttext="r" display="inline"><semantics id="A3.F3.4.m2.1b"><mi id="A3.F3.4.m2.1.1" xref="A3.F3.4.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="A3.F3.4.m2.1c"><ci id="A3.F3.4.m2.1.1.cmml" xref="A3.F3.4.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.F3.4.m2.1d">r</annotation></semantics></math> (top x-axis, red lines). <span id="A3.F3.7.1" class="ltx_text ltx_font_bold">Left panel:</span> signal-to-noise ratio, as defined in Equation <a href="#A3.E1" title="In C.4 Central DP ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. <span id="A3.F3.8.2" class="ltx_text ltx_font_bold">Right panel:</span> same experiments, but showing accuracy on centrally held validation set.</figcaption>
</figure>
<div id="A3.SS4.p2" class="ltx_para ltx_noindent">
<p id="A3.SS4.p2.15" class="ltx_p">Each benchmark that includes a privacy accountant has a sampling rate set to
<math id="A3.SS4.p2.1.m1.1" class="ltx_Math" alttext="\frac{\tilde{C}}{M}" display="inline"><semantics id="A3.SS4.p2.1.m1.1a"><mfrac id="A3.SS4.p2.1.m1.1.1" xref="A3.SS4.p2.1.m1.1.1.cmml"><mover accent="true" id="A3.SS4.p2.1.m1.1.1.2" xref="A3.SS4.p2.1.m1.1.1.2.cmml"><mi id="A3.SS4.p2.1.m1.1.1.2.2" xref="A3.SS4.p2.1.m1.1.1.2.2.cmml">C</mi><mo id="A3.SS4.p2.1.m1.1.1.2.1" xref="A3.SS4.p2.1.m1.1.1.2.1.cmml">~</mo></mover><mi id="A3.SS4.p2.1.m1.1.1.3" xref="A3.SS4.p2.1.m1.1.1.3.cmml">M</mi></mfrac><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.1.m1.1b"><apply id="A3.SS4.p2.1.m1.1.1.cmml" xref="A3.SS4.p2.1.m1.1.1"><divide id="A3.SS4.p2.1.m1.1.1.1.cmml" xref="A3.SS4.p2.1.m1.1.1"></divide><apply id="A3.SS4.p2.1.m1.1.1.2.cmml" xref="A3.SS4.p2.1.m1.1.1.2"><ci id="A3.SS4.p2.1.m1.1.1.2.1.cmml" xref="A3.SS4.p2.1.m1.1.1.2.1">~</ci><ci id="A3.SS4.p2.1.m1.1.1.2.2.cmml" xref="A3.SS4.p2.1.m1.1.1.2.2">𝐶</ci></apply><ci id="A3.SS4.p2.1.m1.1.1.3.cmml" xref="A3.SS4.p2.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.1.m1.1c">\frac{\tilde{C}}{M}</annotation></semantics></math> where <math id="A3.SS4.p2.2.m2.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.2.m2.1a"><mover accent="true" id="A3.SS4.p2.2.m2.1.1" xref="A3.SS4.p2.2.m2.1.1.cmml"><mi id="A3.SS4.p2.2.m2.1.1.2" xref="A3.SS4.p2.2.m2.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.2.m2.1.1.1" xref="A3.SS4.p2.2.m2.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.2.m2.1b"><apply id="A3.SS4.p2.2.m2.1.1.cmml" xref="A3.SS4.p2.2.m2.1.1"><ci id="A3.SS4.p2.2.m2.1.1.1.cmml" xref="A3.SS4.p2.2.m2.1.1.1">~</ci><ci id="A3.SS4.p2.2.m2.1.1.2.cmml" xref="A3.SS4.p2.2.m2.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.2.m2.1c">\tilde{C}</annotation></semantics></math> is the cohort size and <math id="A3.SS4.p2.3.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="A3.SS4.p2.3.m3.1a"><mi id="A3.SS4.p2.3.m3.1.1" xref="A3.SS4.p2.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.3.m3.1b"><ci id="A3.SS4.p2.3.m3.1.1.cmml" xref="A3.SS4.p2.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.3.m3.1c">M</annotation></semantics></math> is the population size.
When training in a production system on real devices, <math id="A3.SS4.p2.4.m4.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.4.m4.1a"><mover accent="true" id="A3.SS4.p2.4.m4.1.1" xref="A3.SS4.p2.4.m4.1.1.cmml"><mi id="A3.SS4.p2.4.m4.1.1.2" xref="A3.SS4.p2.4.m4.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.4.m4.1.1.1" xref="A3.SS4.p2.4.m4.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.4.m4.1b"><apply id="A3.SS4.p2.4.m4.1.1.cmml" xref="A3.SS4.p2.4.m4.1.1"><ci id="A3.SS4.p2.4.m4.1.1.1.cmml" xref="A3.SS4.p2.4.m4.1.1.1">~</ci><ci id="A3.SS4.p2.4.m4.1.1.2.cmml" xref="A3.SS4.p2.4.m4.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.4.m4.1c">\tilde{C}</annotation></semantics></math> is typically in the order of thousands to reduce the impact of DP noise on convergence <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib81" title="" class="ltx_ref">81</a>, <a href="#bib.bib80" title="" class="ltx_ref">80</a>]</cite>.
To simulate the real world cross-device PFL setting with millions of devices, we set <math id="A3.SS4.p2.5.m5.1" class="ltx_Math" alttext="M=10^{6}" display="inline"><semantics id="A3.SS4.p2.5.m5.1a"><mrow id="A3.SS4.p2.5.m5.1.1" xref="A3.SS4.p2.5.m5.1.1.cmml"><mi id="A3.SS4.p2.5.m5.1.1.2" xref="A3.SS4.p2.5.m5.1.1.2.cmml">M</mi><mo id="A3.SS4.p2.5.m5.1.1.1" xref="A3.SS4.p2.5.m5.1.1.1.cmml">=</mo><msup id="A3.SS4.p2.5.m5.1.1.3" xref="A3.SS4.p2.5.m5.1.1.3.cmml"><mn id="A3.SS4.p2.5.m5.1.1.3.2" xref="A3.SS4.p2.5.m5.1.1.3.2.cmml">10</mn><mn id="A3.SS4.p2.5.m5.1.1.3.3" xref="A3.SS4.p2.5.m5.1.1.3.3.cmml">6</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.5.m5.1b"><apply id="A3.SS4.p2.5.m5.1.1.cmml" xref="A3.SS4.p2.5.m5.1.1"><eq id="A3.SS4.p2.5.m5.1.1.1.cmml" xref="A3.SS4.p2.5.m5.1.1.1"></eq><ci id="A3.SS4.p2.5.m5.1.1.2.cmml" xref="A3.SS4.p2.5.m5.1.1.2">𝑀</ci><apply id="A3.SS4.p2.5.m5.1.1.3.cmml" xref="A3.SS4.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="A3.SS4.p2.5.m5.1.1.3.1.cmml" xref="A3.SS4.p2.5.m5.1.1.3">superscript</csymbol><cn type="integer" id="A3.SS4.p2.5.m5.1.1.3.2.cmml" xref="A3.SS4.p2.5.m5.1.1.3.2">10</cn><cn type="integer" id="A3.SS4.p2.5.m5.1.1.3.3.cmml" xref="A3.SS4.p2.5.m5.1.1.3.3">6</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.5.m5.1c">M=10^{6}</annotation></semantics></math> instead of the actual number of clients in each dataset. This assumption makes sense for a simulation as long as we can expect to be able to have at least <math id="A3.SS4.p2.6.m6.1" class="ltx_Math" alttext="10^{6}" display="inline"><semantics id="A3.SS4.p2.6.m6.1a"><msup id="A3.SS4.p2.6.m6.1.1" xref="A3.SS4.p2.6.m6.1.1.cmml"><mn id="A3.SS4.p2.6.m6.1.1.2" xref="A3.SS4.p2.6.m6.1.1.2.cmml">10</mn><mn id="A3.SS4.p2.6.m6.1.1.3" xref="A3.SS4.p2.6.m6.1.1.3.cmml">6</mn></msup><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.6.m6.1b"><apply id="A3.SS4.p2.6.m6.1.1.cmml" xref="A3.SS4.p2.6.m6.1.1"><csymbol cd="ambiguous" id="A3.SS4.p2.6.m6.1.1.1.cmml" xref="A3.SS4.p2.6.m6.1.1">superscript</csymbol><cn type="integer" id="A3.SS4.p2.6.m6.1.1.2.cmml" xref="A3.SS4.p2.6.m6.1.1.2">10</cn><cn type="integer" id="A3.SS4.p2.6.m6.1.1.3.cmml" xref="A3.SS4.p2.6.m6.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.6.m6.1c">10^{6}</annotation></semantics></math> devices in the production use case.
We also want to run the experiments faster with a smaller cohort size <math id="A3.SS4.p2.7.m7.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.SS4.p2.7.m7.1a"><mi id="A3.SS4.p2.7.m7.1.1" xref="A3.SS4.p2.7.m7.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.7.m7.1b"><ci id="A3.SS4.p2.7.m7.1.1.cmml" xref="A3.SS4.p2.7.m7.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.7.m7.1c">C</annotation></semantics></math> (in the order of hundreds) and verify the impact of the DP noise for a larger <math id="A3.SS4.p2.8.m8.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.8.m8.1a"><mover accent="true" id="A3.SS4.p2.8.m8.1.1" xref="A3.SS4.p2.8.m8.1.1.cmml"><mi id="A3.SS4.p2.8.m8.1.1.2" xref="A3.SS4.p2.8.m8.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.8.m8.1.1.1" xref="A3.SS4.p2.8.m8.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.8.m8.1b"><apply id="A3.SS4.p2.8.m8.1.1.cmml" xref="A3.SS4.p2.8.m8.1.1"><ci id="A3.SS4.p2.8.m8.1.1.1.cmml" xref="A3.SS4.p2.8.m8.1.1.1">~</ci><ci id="A3.SS4.p2.8.m8.1.1.2.cmml" xref="A3.SS4.p2.8.m8.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.8.m8.1c">\tilde{C}</annotation></semantics></math>.
We refer <math id="A3.SS4.p2.9.m9.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.9.m9.1a"><mover accent="true" id="A3.SS4.p2.9.m9.1.1" xref="A3.SS4.p2.9.m9.1.1.cmml"><mi id="A3.SS4.p2.9.m9.1.1.2" xref="A3.SS4.p2.9.m9.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.9.m9.1.1.1" xref="A3.SS4.p2.9.m9.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.9.m9.1b"><apply id="A3.SS4.p2.9.m9.1.1.cmml" xref="A3.SS4.p2.9.m9.1.1"><ci id="A3.SS4.p2.9.m9.1.1.1.cmml" xref="A3.SS4.p2.9.m9.1.1.1">~</ci><ci id="A3.SS4.p2.9.m9.1.1.2.cmml" xref="A3.SS4.p2.9.m9.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.9.m9.1c">\tilde{C}</annotation></semantics></math> as <em id="A3.SS4.p2.15.1" class="ltx_emph ltx_font_italic">noise cohort size</em> hereinafter.
We introduce a variable <math id="A3.SS4.p2.10.m10.1" class="ltx_Math" alttext="r=\frac{C}{\tilde{C}}" display="inline"><semantics id="A3.SS4.p2.10.m10.1a"><mrow id="A3.SS4.p2.10.m10.1.1" xref="A3.SS4.p2.10.m10.1.1.cmml"><mi id="A3.SS4.p2.10.m10.1.1.2" xref="A3.SS4.p2.10.m10.1.1.2.cmml">r</mi><mo id="A3.SS4.p2.10.m10.1.1.1" xref="A3.SS4.p2.10.m10.1.1.1.cmml">=</mo><mfrac id="A3.SS4.p2.10.m10.1.1.3" xref="A3.SS4.p2.10.m10.1.1.3.cmml"><mi id="A3.SS4.p2.10.m10.1.1.3.2" xref="A3.SS4.p2.10.m10.1.1.3.2.cmml">C</mi><mover accent="true" id="A3.SS4.p2.10.m10.1.1.3.3" xref="A3.SS4.p2.10.m10.1.1.3.3.cmml"><mi id="A3.SS4.p2.10.m10.1.1.3.3.2" xref="A3.SS4.p2.10.m10.1.1.3.3.2.cmml">C</mi><mo id="A3.SS4.p2.10.m10.1.1.3.3.1" xref="A3.SS4.p2.10.m10.1.1.3.3.1.cmml">~</mo></mover></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.10.m10.1b"><apply id="A3.SS4.p2.10.m10.1.1.cmml" xref="A3.SS4.p2.10.m10.1.1"><eq id="A3.SS4.p2.10.m10.1.1.1.cmml" xref="A3.SS4.p2.10.m10.1.1.1"></eq><ci id="A3.SS4.p2.10.m10.1.1.2.cmml" xref="A3.SS4.p2.10.m10.1.1.2">𝑟</ci><apply id="A3.SS4.p2.10.m10.1.1.3.cmml" xref="A3.SS4.p2.10.m10.1.1.3"><divide id="A3.SS4.p2.10.m10.1.1.3.1.cmml" xref="A3.SS4.p2.10.m10.1.1.3"></divide><ci id="A3.SS4.p2.10.m10.1.1.3.2.cmml" xref="A3.SS4.p2.10.m10.1.1.3.2">𝐶</ci><apply id="A3.SS4.p2.10.m10.1.1.3.3.cmml" xref="A3.SS4.p2.10.m10.1.1.3.3"><ci id="A3.SS4.p2.10.m10.1.1.3.3.1.cmml" xref="A3.SS4.p2.10.m10.1.1.3.3.1">~</ci><ci id="A3.SS4.p2.10.m10.1.1.3.3.2.cmml" xref="A3.SS4.p2.10.m10.1.1.3.3.2">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.10.m10.1c">r=\frac{C}{\tilde{C}}</annotation></semantics></math> and scale the noise standard deviation by <math id="A3.SS4.p2.11.m11.1" class="ltx_Math" alttext="r" display="inline"><semantics id="A3.SS4.p2.11.m11.1a"><mi id="A3.SS4.p2.11.m11.1.1" xref="A3.SS4.p2.11.m11.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.11.m11.1b"><ci id="A3.SS4.p2.11.m11.1.1.cmml" xref="A3.SS4.p2.11.m11.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.11.m11.1c">r</annotation></semantics></math>, such that the noise added to the averaged aggregates of <math id="A3.SS4.p2.12.m12.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.SS4.p2.12.m12.1a"><mi id="A3.SS4.p2.12.m12.1.1" xref="A3.SS4.p2.12.m12.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.12.m12.1b"><ci id="A3.SS4.p2.12.m12.1.1.cmml" xref="A3.SS4.p2.12.m12.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.12.m12.1c">C</annotation></semantics></math> clients will have the same scale as if the aggregates had <math id="A3.SS4.p2.13.m13.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.13.m13.1a"><mover accent="true" id="A3.SS4.p2.13.m13.1.1" xref="A3.SS4.p2.13.m13.1.1.cmml"><mi id="A3.SS4.p2.13.m13.1.1.2" xref="A3.SS4.p2.13.m13.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.13.m13.1.1.1" xref="A3.SS4.p2.13.m13.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.13.m13.1b"><apply id="A3.SS4.p2.13.m13.1.1.cmml" xref="A3.SS4.p2.13.m13.1.1"><ci id="A3.SS4.p2.13.m13.1.1.1.cmml" xref="A3.SS4.p2.13.m13.1.1.1">~</ci><ci id="A3.SS4.p2.13.m13.1.1.2.cmml" xref="A3.SS4.p2.13.m13.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.13.m13.1c">\tilde{C}</annotation></semantics></math> clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>.
Figure <a href="#A3.F3" title="Figure 3 ‣ C.4 Central DP ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the accuracy and signal-to-noise ratio (SNR) on the CIFAR10 benchmark if we either increase cohort size <math id="A3.SS4.p2.14.m14.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.SS4.p2.14.m14.1a"><mover accent="true" id="A3.SS4.p2.14.m14.1.1" xref="A3.SS4.p2.14.m14.1.1.cmml"><mi id="A3.SS4.p2.14.m14.1.1.2" xref="A3.SS4.p2.14.m14.1.1.2.cmml">C</mi><mo id="A3.SS4.p2.14.m14.1.1.1" xref="A3.SS4.p2.14.m14.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.14.m14.1b"><apply id="A3.SS4.p2.14.m14.1.1.cmml" xref="A3.SS4.p2.14.m14.1.1"><ci id="A3.SS4.p2.14.m14.1.1.1.cmml" xref="A3.SS4.p2.14.m14.1.1.1">~</ci><ci id="A3.SS4.p2.14.m14.1.1.2.cmml" xref="A3.SS4.p2.14.m14.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.14.m14.1c">\tilde{C}</annotation></semantics></math> or reduce the noise with <math id="A3.SS4.p2.15.m15.1" class="ltx_Math" alttext="r" display="inline"><semantics id="A3.SS4.p2.15.m15.1a"><mi id="A3.SS4.p2.15.m15.1.1" xref="A3.SS4.p2.15.m15.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p2.15.m15.1b"><ci id="A3.SS4.p2.15.m15.1.1.cmml" xref="A3.SS4.p2.15.m15.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p2.15.m15.1c">r</annotation></semantics></math>.
Signal-to-noise ratio is defined as</p>
</div>
<div id="A3.SS4.p3" class="ltx_para ltx_noindent">
<table id="A3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A3.E1.m1.2" class="ltx_Math" alttext="\text{SNR}=\frac{\lVert\Delta\rVert_{2}}{\sqrt{d\sigma^{2}}}," display="block"><semantics id="A3.E1.m1.2a"><mrow id="A3.E1.m1.2.2.1" xref="A3.E1.m1.2.2.1.1.cmml"><mrow id="A3.E1.m1.2.2.1.1" xref="A3.E1.m1.2.2.1.1.cmml"><mtext id="A3.E1.m1.2.2.1.1.2" xref="A3.E1.m1.2.2.1.1.2a.cmml">SNR</mtext><mo id="A3.E1.m1.2.2.1.1.1" xref="A3.E1.m1.2.2.1.1.1.cmml">=</mo><mfrac id="A3.E1.m1.1.1" xref="A3.E1.m1.1.1.cmml"><msub id="A3.E1.m1.1.1.1" xref="A3.E1.m1.1.1.1.cmml"><mrow id="A3.E1.m1.1.1.1.3.2" xref="A3.E1.m1.1.1.1.3.1.cmml"><mo fence="true" rspace="0em" id="A3.E1.m1.1.1.1.3.2.1" xref="A3.E1.m1.1.1.1.3.1.1.cmml">∥</mo><mi mathvariant="normal" id="A3.E1.m1.1.1.1.1" xref="A3.E1.m1.1.1.1.1.cmml">Δ</mi><mo fence="true" lspace="0em" id="A3.E1.m1.1.1.1.3.2.2" xref="A3.E1.m1.1.1.1.3.1.1.cmml">∥</mo></mrow><mn id="A3.E1.m1.1.1.1.4" xref="A3.E1.m1.1.1.1.4.cmml">2</mn></msub><msqrt id="A3.E1.m1.1.1.3" xref="A3.E1.m1.1.1.3.cmml"><mrow id="A3.E1.m1.1.1.3.2" xref="A3.E1.m1.1.1.3.2.cmml"><mi id="A3.E1.m1.1.1.3.2.2" xref="A3.E1.m1.1.1.3.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="A3.E1.m1.1.1.3.2.1" xref="A3.E1.m1.1.1.3.2.1.cmml">​</mo><msup id="A3.E1.m1.1.1.3.2.3" xref="A3.E1.m1.1.1.3.2.3.cmml"><mi id="A3.E1.m1.1.1.3.2.3.2" xref="A3.E1.m1.1.1.3.2.3.2.cmml">σ</mi><mn id="A3.E1.m1.1.1.3.2.3.3" xref="A3.E1.m1.1.1.3.2.3.3.cmml">2</mn></msup></mrow></msqrt></mfrac></mrow><mo id="A3.E1.m1.2.2.1.2" xref="A3.E1.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.E1.m1.2b"><apply id="A3.E1.m1.2.2.1.1.cmml" xref="A3.E1.m1.2.2.1"><eq id="A3.E1.m1.2.2.1.1.1.cmml" xref="A3.E1.m1.2.2.1.1.1"></eq><ci id="A3.E1.m1.2.2.1.1.2a.cmml" xref="A3.E1.m1.2.2.1.1.2"><mtext id="A3.E1.m1.2.2.1.1.2.cmml" xref="A3.E1.m1.2.2.1.1.2">SNR</mtext></ci><apply id="A3.E1.m1.1.1.cmml" xref="A3.E1.m1.1.1"><divide id="A3.E1.m1.1.1.2.cmml" xref="A3.E1.m1.1.1"></divide><apply id="A3.E1.m1.1.1.1.cmml" xref="A3.E1.m1.1.1.1"><csymbol cd="ambiguous" id="A3.E1.m1.1.1.1.2.cmml" xref="A3.E1.m1.1.1.1">subscript</csymbol><apply id="A3.E1.m1.1.1.1.3.1.cmml" xref="A3.E1.m1.1.1.1.3.2"><csymbol cd="latexml" id="A3.E1.m1.1.1.1.3.1.1.cmml" xref="A3.E1.m1.1.1.1.3.2.1">delimited-∥∥</csymbol><ci id="A3.E1.m1.1.1.1.1.cmml" xref="A3.E1.m1.1.1.1.1">Δ</ci></apply><cn type="integer" id="A3.E1.m1.1.1.1.4.cmml" xref="A3.E1.m1.1.1.1.4">2</cn></apply><apply id="A3.E1.m1.1.1.3.cmml" xref="A3.E1.m1.1.1.3"><root id="A3.E1.m1.1.1.3a.cmml" xref="A3.E1.m1.1.1.3"></root><apply id="A3.E1.m1.1.1.3.2.cmml" xref="A3.E1.m1.1.1.3.2"><times id="A3.E1.m1.1.1.3.2.1.cmml" xref="A3.E1.m1.1.1.3.2.1"></times><ci id="A3.E1.m1.1.1.3.2.2.cmml" xref="A3.E1.m1.1.1.3.2.2">𝑑</ci><apply id="A3.E1.m1.1.1.3.2.3.cmml" xref="A3.E1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="A3.E1.m1.1.1.3.2.3.1.cmml" xref="A3.E1.m1.1.1.3.2.3">superscript</csymbol><ci id="A3.E1.m1.1.1.3.2.3.2.cmml" xref="A3.E1.m1.1.1.3.2.3.2">𝜎</ci><cn type="integer" id="A3.E1.m1.1.1.3.2.3.3.cmml" xref="A3.E1.m1.1.1.3.2.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.E1.m1.2c">\text{SNR}=\frac{\lVert\Delta\rVert_{2}}{\sqrt{d\sigma^{2}}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="A3.SS4.p4" class="ltx_para ltx_noindent">
<p id="A3.SS4.p4.9" class="ltx_p">where <math id="A3.SS4.p4.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A3.SS4.p4.1.m1.1a"><mi mathvariant="normal" id="A3.SS4.p4.1.m1.1.1" xref="A3.SS4.p4.1.m1.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.1.m1.1b"><ci id="A3.SS4.p4.1.m1.1.1.cmml" xref="A3.SS4.p4.1.m1.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.1.m1.1c">\Delta</annotation></semantics></math> is the unnoised aggregated model update, <math id="A3.SS4.p4.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="A3.SS4.p4.2.m2.1a"><mi id="A3.SS4.p4.2.m2.1.1" xref="A3.SS4.p4.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.2.m2.1b"><ci id="A3.SS4.p4.2.m2.1.1.cmml" xref="A3.SS4.p4.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.2.m2.1c">d</annotation></semantics></math> is the dimension of <math id="A3.SS4.p4.3.m3.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="A3.SS4.p4.3.m3.1a"><mi mathvariant="normal" id="A3.SS4.p4.3.m3.1.1" xref="A3.SS4.p4.3.m3.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.3.m3.1b"><ci id="A3.SS4.p4.3.m3.1.1.cmml" xref="A3.SS4.p4.3.m3.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.3.m3.1c">\Delta</annotation></semantics></math> and <math id="A3.SS4.p4.4.m4.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="A3.SS4.p4.4.m4.1a"><mi id="A3.SS4.p4.4.m4.1.1" xref="A3.SS4.p4.4.m4.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.4.m4.1b"><ci id="A3.SS4.p4.4.m4.1.1.cmml" xref="A3.SS4.p4.4.m4.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.4.m4.1c">\sigma</annotation></semantics></math> is the standard deviation of noise from DP mechanism. The correlation of the metrics is close to <math id="A3.SS4.p4.5.m5.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A3.SS4.p4.5.m5.1a"><mn id="A3.SS4.p4.5.m5.1.1" xref="A3.SS4.p4.5.m5.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.5.m5.1b"><cn type="integer" id="A3.SS4.p4.5.m5.1.1.cmml" xref="A3.SS4.p4.5.m5.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.5.m5.1c">1</annotation></semantics></math>.
This means that instead of achieving good performance on CIFAR10 with <math id="A3.SS4.p4.6.m6.1" class="ltx_Math" alttext="\tilde{C}=1000" display="inline"><semantics id="A3.SS4.p4.6.m6.1a"><mrow id="A3.SS4.p4.6.m6.1.1" xref="A3.SS4.p4.6.m6.1.1.cmml"><mover accent="true" id="A3.SS4.p4.6.m6.1.1.2" xref="A3.SS4.p4.6.m6.1.1.2.cmml"><mi id="A3.SS4.p4.6.m6.1.1.2.2" xref="A3.SS4.p4.6.m6.1.1.2.2.cmml">C</mi><mo id="A3.SS4.p4.6.m6.1.1.2.1" xref="A3.SS4.p4.6.m6.1.1.2.1.cmml">~</mo></mover><mo id="A3.SS4.p4.6.m6.1.1.1" xref="A3.SS4.p4.6.m6.1.1.1.cmml">=</mo><mn id="A3.SS4.p4.6.m6.1.1.3" xref="A3.SS4.p4.6.m6.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.6.m6.1b"><apply id="A3.SS4.p4.6.m6.1.1.cmml" xref="A3.SS4.p4.6.m6.1.1"><eq id="A3.SS4.p4.6.m6.1.1.1.cmml" xref="A3.SS4.p4.6.m6.1.1.1"></eq><apply id="A3.SS4.p4.6.m6.1.1.2.cmml" xref="A3.SS4.p4.6.m6.1.1.2"><ci id="A3.SS4.p4.6.m6.1.1.2.1.cmml" xref="A3.SS4.p4.6.m6.1.1.2.1">~</ci><ci id="A3.SS4.p4.6.m6.1.1.2.2.cmml" xref="A3.SS4.p4.6.m6.1.1.2.2">𝐶</ci></apply><cn type="integer" id="A3.SS4.p4.6.m6.1.1.3.cmml" xref="A3.SS4.p4.6.m6.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.6.m6.1c">\tilde{C}=1000</annotation></semantics></math>, we can instead run faster simulations with <math id="A3.SS4.p4.7.m7.1" class="ltx_Math" alttext="C=100" display="inline"><semantics id="A3.SS4.p4.7.m7.1a"><mrow id="A3.SS4.p4.7.m7.1.1" xref="A3.SS4.p4.7.m7.1.1.cmml"><mi id="A3.SS4.p4.7.m7.1.1.2" xref="A3.SS4.p4.7.m7.1.1.2.cmml">C</mi><mo id="A3.SS4.p4.7.m7.1.1.1" xref="A3.SS4.p4.7.m7.1.1.1.cmml">=</mo><mn id="A3.SS4.p4.7.m7.1.1.3" xref="A3.SS4.p4.7.m7.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.7.m7.1b"><apply id="A3.SS4.p4.7.m7.1.1.cmml" xref="A3.SS4.p4.7.m7.1.1"><eq id="A3.SS4.p4.7.m7.1.1.1.cmml" xref="A3.SS4.p4.7.m7.1.1.1"></eq><ci id="A3.SS4.p4.7.m7.1.1.2.cmml" xref="A3.SS4.p4.7.m7.1.1.2">𝐶</ci><cn type="integer" id="A3.SS4.p4.7.m7.1.1.3.cmml" xref="A3.SS4.p4.7.m7.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.7.m7.1c">C=100</annotation></semantics></math> and <math id="A3.SS4.p4.8.m8.1" class="ltx_Math" alttext="r=0.1" display="inline"><semantics id="A3.SS4.p4.8.m8.1a"><mrow id="A3.SS4.p4.8.m8.1.1" xref="A3.SS4.p4.8.m8.1.1.cmml"><mi id="A3.SS4.p4.8.m8.1.1.2" xref="A3.SS4.p4.8.m8.1.1.2.cmml">r</mi><mo id="A3.SS4.p4.8.m8.1.1.1" xref="A3.SS4.p4.8.m8.1.1.1.cmml">=</mo><mn id="A3.SS4.p4.8.m8.1.1.3" xref="A3.SS4.p4.8.m8.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.8.m8.1b"><apply id="A3.SS4.p4.8.m8.1.1.cmml" xref="A3.SS4.p4.8.m8.1.1"><eq id="A3.SS4.p4.8.m8.1.1.1.cmml" xref="A3.SS4.p4.8.m8.1.1.1"></eq><ci id="A3.SS4.p4.8.m8.1.1.2.cmml" xref="A3.SS4.p4.8.m8.1.1.2">𝑟</ci><cn type="float" id="A3.SS4.p4.8.m8.1.1.3.cmml" xref="A3.SS4.p4.8.m8.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.8.m8.1c">r=0.1</annotation></semantics></math> and expect similar results.
When rescaling the noise by <math id="A3.SS4.p4.9.m9.1" class="ltx_Math" alttext="r" display="inline"><semantics id="A3.SS4.p4.9.m9.1a"><mi id="A3.SS4.p4.9.m9.1.1" xref="A3.SS4.p4.9.m9.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p4.9.m9.1b"><ci id="A3.SS4.p4.9.m9.1.1.cmml" xref="A3.SS4.p4.9.m9.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p4.9.m9.1c">r</annotation></semantics></math>, one must make sure for every case that:</p>
</div>
<div id="A3.SS4.p5" class="ltx_para ltx_noindent">
<ol id="A3.I1" class="ltx_enumerate">
<li id="A3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="A3.I1.i1.p1" class="ltx_para">
<p id="A3.I1.i1.p1.1" class="ltx_p"><math id="A3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.I1.i1.p1.1.m1.1a"><mi id="A3.I1.i1.p1.1.m1.1.1" xref="A3.I1.i1.p1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.I1.i1.p1.1.m1.1b"><ci id="A3.I1.i1.p1.1.m1.1.1.cmml" xref="A3.I1.i1.p1.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.I1.i1.p1.1.m1.1c">C</annotation></semantics></math> is still high enough to receive good signal without noise in the simulation.</p>
</div>
</li>
<li id="A3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="A3.I1.i2.p1" class="ltx_para ltx_noindent">
<p id="A3.I1.i2.p1.1" class="ltx_p"><math id="A3.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.I1.i2.p1.1.m1.1a"><mover accent="true" id="A3.I1.i2.p1.1.m1.1.1" xref="A3.I1.i2.p1.1.m1.1.1.cmml"><mi id="A3.I1.i2.p1.1.m1.1.1.2" xref="A3.I1.i2.p1.1.m1.1.1.2.cmml">C</mi><mo id="A3.I1.i2.p1.1.m1.1.1.1" xref="A3.I1.i2.p1.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.I1.i2.p1.1.m1.1b"><apply id="A3.I1.i2.p1.1.m1.1.1.cmml" xref="A3.I1.i2.p1.1.m1.1.1"><ci id="A3.I1.i2.p1.1.m1.1.1.1.cmml" xref="A3.I1.i2.p1.1.m1.1.1.1">~</ci><ci id="A3.I1.i2.p1.1.m1.1.1.2.cmml" xref="A3.I1.i2.p1.1.m1.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.I1.i2.p1.1.m1.1c">\tilde{C}</annotation></semantics></math> is the cohort size needed in a real PFL deployment to achieve this performance, and it should thus be a realistic value for the particular use case.</p>
</div>
</li>
</ol>
</div>
<div id="A3.SS4.p6" class="ltx_para ltx_noindent">
<p id="A3.SS4.p6.1" class="ltx_p">For Banded Matrix Factorization mechanism we set the minimum number of central iterations between two occurrences of the same user to <math id="A3.SS4.p6.1.m1.1" class="ltx_Math" alttext="48" display="inline"><semantics id="A3.SS4.p6.1.m1.1a"><mn id="A3.SS4.p6.1.m1.1.1" xref="A3.SS4.p6.1.m1.1.1.cmml">48</mn><annotation-xml encoding="MathML-Content" id="A3.SS4.p6.1.m1.1b"><cn type="integer" id="A3.SS4.p6.1.m1.1.1.cmml" xref="A3.SS4.p6.1.m1.1.1">48</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p6.1.m1.1c">48</annotation></semantics></math> for all benchmarks.
This means 1 participation per day if the time for one central iteration in a real PFL system is 30 minutes.
This value is not derived from any deployed PFL systems, but a conservative guess for large cross-device PFL systems.</p>
</div>
</section>
<section id="A3.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.5 </span>CIFAR10</h3>

<div id="A3.SS5.p1" class="ltx_para ltx_noindent">
<p id="A3.SS5.p1.1" class="ltx_p">We define four variations of CIFAR10 benchmarks:
<math id="A3.SS5.p1.1.m1.4" class="ltx_Math" alttext="\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{central DP}\}" display="inline"><semantics id="A3.SS5.p1.1.m1.4a"><mrow id="A3.SS5.p1.1.m1.4.5" xref="A3.SS5.p1.1.m1.4.5.cmml"><mrow id="A3.SS5.p1.1.m1.4.5.2.2" xref="A3.SS5.p1.1.m1.4.5.2.1.cmml"><mo stretchy="false" id="A3.SS5.p1.1.m1.4.5.2.2.1" xref="A3.SS5.p1.1.m1.4.5.2.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.1.1" xref="A3.SS5.p1.1.m1.1.1a.cmml">IID</mtext><mo id="A3.SS5.p1.1.m1.4.5.2.2.2" xref="A3.SS5.p1.1.m1.4.5.2.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.2.2" xref="A3.SS5.p1.1.m1.2.2a.cmml">non-IID</mtext><mo rspace="0.055em" stretchy="false" id="A3.SS5.p1.1.m1.4.5.2.2.3" xref="A3.SS5.p1.1.m1.4.5.2.1.cmml">}</mo></mrow><mo rspace="0.222em" id="A3.SS5.p1.1.m1.4.5.1" xref="A3.SS5.p1.1.m1.4.5.1.cmml">×</mo><mrow id="A3.SS5.p1.1.m1.4.5.3.2" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml"><mo stretchy="false" id="A3.SS5.p1.1.m1.4.5.3.2.1" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.3.3" xref="A3.SS5.p1.1.m1.3.3a.cmml">no DP</mtext><mo id="A3.SS5.p1.1.m1.4.5.3.2.2" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.4.4" xref="A3.SS5.p1.1.m1.4.4a.cmml">central DP</mtext><mo stretchy="false" id="A3.SS5.p1.1.m1.4.5.3.2.3" xref="A3.SS5.p1.1.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS5.p1.1.m1.4b"><apply id="A3.SS5.p1.1.m1.4.5.cmml" xref="A3.SS5.p1.1.m1.4.5"><times id="A3.SS5.p1.1.m1.4.5.1.cmml" xref="A3.SS5.p1.1.m1.4.5.1"></times><set id="A3.SS5.p1.1.m1.4.5.2.1.cmml" xref="A3.SS5.p1.1.m1.4.5.2.2"><ci id="A3.SS5.p1.1.m1.1.1a.cmml" xref="A3.SS5.p1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.1.1.cmml" xref="A3.SS5.p1.1.m1.1.1">IID</mtext></ci><ci id="A3.SS5.p1.1.m1.2.2a.cmml" xref="A3.SS5.p1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.2.2.cmml" xref="A3.SS5.p1.1.m1.2.2">non-IID</mtext></ci></set><set id="A3.SS5.p1.1.m1.4.5.3.1.cmml" xref="A3.SS5.p1.1.m1.4.5.3.2"><ci id="A3.SS5.p1.1.m1.3.3a.cmml" xref="A3.SS5.p1.1.m1.3.3"><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.3.3.cmml" xref="A3.SS5.p1.1.m1.3.3">no DP</mtext></ci><ci id="A3.SS5.p1.1.m1.4.4a.cmml" xref="A3.SS5.p1.1.m1.4.4"><mtext class="ltx_mathvariant_monospace" id="A3.SS5.p1.1.m1.4.4.cmml" xref="A3.SS5.p1.1.m1.4.4">central DP</mtext></ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS5.p1.1.m1.4c">\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{central DP}\}</annotation></semantics></math>,
such that there exist smaller and easier benchmarks with different end goals available for prototyping.
The task is single-class classification of images using the CNN architecture originally defined in Table 4 of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>.
The hyper-parameters are outlined in Table <a href="#A3.T7" title="Table 7 ‣ C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
<figure id="A3.T7" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7: </span>Hyper-parameters used in the four CIFAR10 benchmarks. </figcaption>
<table id="A3.T7.14.14" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T7.14.14.15" class="ltx_tr">
<td id="A3.T7.14.14.15.1" class="ltx_td ltx_align_left ltx_border_tt">Setup</td>
<td id="A3.T7.14.14.15.2" class="ltx_td ltx_align_left ltx_border_tt">Parameter</td>
<td id="A3.T7.14.14.15.3" class="ltx_td ltx_align_center ltx_border_tt">value</td>
</tr>
<tr id="A3.T7.1.1.1" class="ltx_tr">
<td id="A3.T7.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t" rowspan="10"><span id="A3.T7.1.1.1.2.1" class="ltx_text">all</span></td>
<td id="A3.T7.1.1.1.3" class="ltx_td ltx_align_left ltx_border_t">Central iterations</td>
<td id="A3.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T7.1.1.1.1.m1.1" class="ltx_Math" alttext="1500" display="inline"><semantics id="A3.T7.1.1.1.1.m1.1a"><mn id="A3.T7.1.1.1.1.m1.1.1" xref="A3.T7.1.1.1.1.m1.1.1.cmml">1500</mn><annotation-xml encoding="MathML-Content" id="A3.T7.1.1.1.1.m1.1b"><cn type="integer" id="A3.T7.1.1.1.1.m1.1.1.cmml" xref="A3.T7.1.1.1.1.m1.1.1">1500</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.1.1.1.1.m1.1c">1500</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.2.2.2" class="ltx_tr">
<td id="A3.T7.2.2.2.2" class="ltx_td ltx_align_left">Central learning rate</td>
<td id="A3.T7.2.2.2.1" class="ltx_td ltx_align_center"><math id="A3.T7.2.2.2.1.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="A3.T7.2.2.2.1.m1.1a"><mn id="A3.T7.2.2.2.1.m1.1.1" xref="A3.T7.2.2.2.1.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="A3.T7.2.2.2.1.m1.1b"><cn type="float" id="A3.T7.2.2.2.1.m1.1.1.cmml" xref="A3.T7.2.2.2.1.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.2.2.2.1.m1.1c">1.0</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.14.14.16" class="ltx_tr">
<td id="A3.T7.14.14.16.1" class="ltx_td ltx_align_left">Central optimizer</td>
<td id="A3.T7.14.14.16.2" class="ltx_td ltx_align_center">SGD</td>
</tr>
<tr id="A3.T7.4.4.4" class="ltx_tr">
<td id="A3.T7.3.3.3.1" class="ltx_td ltx_align_left">Cohort size <math id="A3.T7.3.3.3.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.T7.3.3.3.1.m1.1a"><mi id="A3.T7.3.3.3.1.m1.1.1" xref="A3.T7.3.3.3.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.T7.3.3.3.1.m1.1b"><ci id="A3.T7.3.3.3.1.m1.1.1.cmml" xref="A3.T7.3.3.3.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.3.3.3.1.m1.1c">C</annotation></semantics></math>
</td>
<td id="A3.T7.4.4.4.2" class="ltx_td ltx_align_center"><math id="A3.T7.4.4.4.2.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A3.T7.4.4.4.2.m1.1a"><mn id="A3.T7.4.4.4.2.m1.1.1" xref="A3.T7.4.4.4.2.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A3.T7.4.4.4.2.m1.1b"><cn type="integer" id="A3.T7.4.4.4.2.m1.1.1.cmml" xref="A3.T7.4.4.4.2.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.4.4.4.2.m1.1c">50</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.5.5.5" class="ltx_tr">
<td id="A3.T7.5.5.5.2" class="ltx_td ltx_align_left">Local epochs</td>
<td id="A3.T7.5.5.5.1" class="ltx_td ltx_align_center"><math id="A3.T7.5.5.5.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A3.T7.5.5.5.1.m1.1a"><mn id="A3.T7.5.5.5.1.m1.1.1" xref="A3.T7.5.5.5.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A3.T7.5.5.5.1.m1.1b"><cn type="integer" id="A3.T7.5.5.5.1.m1.1.1.cmml" xref="A3.T7.5.5.5.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.5.5.5.1.m1.1c">1</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.6.6.6" class="ltx_tr">
<td id="A3.T7.6.6.6.2" class="ltx_td ltx_align_left">Local learning rate</td>
<td id="A3.T7.6.6.6.1" class="ltx_td ltx_align_center"><math id="A3.T7.6.6.6.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T7.6.6.6.1.m1.1a"><mn id="A3.T7.6.6.6.1.m1.1.1" xref="A3.T7.6.6.6.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T7.6.6.6.1.m1.1b"><cn type="float" id="A3.T7.6.6.6.1.m1.1.1.cmml" xref="A3.T7.6.6.6.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.6.6.6.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.7.7.7" class="ltx_tr">
<td id="A3.T7.7.7.7.2" class="ltx_td ltx_align_left">Local batch size</td>
<td id="A3.T7.7.7.7.1" class="ltx_td ltx_align_center"><math id="A3.T7.7.7.7.1.m1.1" class="ltx_Math" alttext="10" display="inline"><semantics id="A3.T7.7.7.7.1.m1.1a"><mn id="A3.T7.7.7.7.1.m1.1.1" xref="A3.T7.7.7.7.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A3.T7.7.7.7.1.m1.1b"><cn type="integer" id="A3.T7.7.7.7.1.m1.1.1.cmml" xref="A3.T7.7.7.7.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.7.7.7.1.m1.1c">10</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.8.8.8" class="ltx_tr">
<td id="A3.T7.8.8.8.2" class="ltx_td ltx_align_left">Datapoints per user</td>
<td id="A3.T7.8.8.8.1" class="ltx_td ltx_align_center"><math id="A3.T7.8.8.8.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A3.T7.8.8.8.1.m1.1a"><mn id="A3.T7.8.8.8.1.m1.1.1" xref="A3.T7.8.8.8.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A3.T7.8.8.8.1.m1.1b"><cn type="integer" id="A3.T7.8.8.8.1.m1.1.1.cmml" xref="A3.T7.8.8.8.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.8.8.8.1.m1.1c">50</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.9.9.9" class="ltx_tr">
<td id="A3.T7.9.9.9.2" class="ltx_td ltx_align_left">Evaluation frequency</td>
<td id="A3.T7.9.9.9.1" class="ltx_td ltx_align_center"><math id="A3.T7.9.9.9.1.m1.1" class="ltx_Math" alttext="10" display="inline"><semantics id="A3.T7.9.9.9.1.m1.1a"><mn id="A3.T7.9.9.9.1.m1.1.1" xref="A3.T7.9.9.9.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A3.T7.9.9.9.1.m1.1b"><cn type="integer" id="A3.T7.9.9.9.1.m1.1.1.cmml" xref="A3.T7.9.9.9.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.9.9.9.1.m1.1c">10</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.10.10.10" class="ltx_tr">
<td id="A3.T7.10.10.10.2" class="ltx_td ltx_align_left">Evaluation batch size</td>
<td id="A3.T7.10.10.10.1" class="ltx_td ltx_align_center"><math id="A3.T7.10.10.10.1.m1.1" class="ltx_Math" alttext="10000" display="inline"><semantics id="A3.T7.10.10.10.1.m1.1a"><mn id="A3.T7.10.10.10.1.m1.1.1" xref="A3.T7.10.10.10.1.m1.1.1.cmml">10000</mn><annotation-xml encoding="MathML-Content" id="A3.T7.10.10.10.1.m1.1b"><cn type="integer" id="A3.T7.10.10.10.1.m1.1.1.cmml" xref="A3.T7.10.10.10.1.m1.1.1">10000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.10.10.10.1.m1.1c">10000</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.11.11.11" class="ltx_tr">
<td id="A3.T7.11.11.11.2" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T7.11.11.11.2.1" class="ltx_text">non-IID</span></td>
<td id="A3.T7.11.11.11.3" class="ltx_td ltx_align_left ltx_border_t">Dirichlet alpha</td>
<td id="A3.T7.11.11.11.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T7.11.11.11.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T7.11.11.11.1.m1.1a"><mn id="A3.T7.11.11.11.1.m1.1.1" xref="A3.T7.11.11.11.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T7.11.11.11.1.m1.1b"><cn type="float" id="A3.T7.11.11.11.1.m1.1.1.cmml" xref="A3.T7.11.11.11.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.11.11.11.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.12.12.12" class="ltx_tr">
<td id="A3.T7.12.12.12.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" rowspan="2"><span id="A3.T7.12.12.12.2.1" class="ltx_text">central DP</span></td>
<td id="A3.T7.12.12.12.3" class="ltx_td ltx_align_left ltx_border_t">clipping bound</td>
<td id="A3.T7.12.12.12.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T7.12.12.12.1.m1.1" class="ltx_Math" alttext="0.4" display="inline"><semantics id="A3.T7.12.12.12.1.m1.1a"><mn id="A3.T7.12.12.12.1.m1.1.1" xref="A3.T7.12.12.12.1.m1.1.1.cmml">0.4</mn><annotation-xml encoding="MathML-Content" id="A3.T7.12.12.12.1.m1.1b"><cn type="float" id="A3.T7.12.12.12.1.m1.1.1.cmml" xref="A3.T7.12.12.12.1.m1.1.1">0.4</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.12.12.12.1.m1.1c">0.4</annotation></semantics></math></td>
</tr>
<tr id="A3.T7.14.14.14" class="ltx_tr">
<td id="A3.T7.13.13.13.1" class="ltx_td ltx_align_left ltx_border_bb">Noise cohort size <math id="A3.T7.13.13.13.1.m1.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.T7.13.13.13.1.m1.1a"><mover accent="true" id="A3.T7.13.13.13.1.m1.1.1" xref="A3.T7.13.13.13.1.m1.1.1.cmml"><mi id="A3.T7.13.13.13.1.m1.1.1.2" xref="A3.T7.13.13.13.1.m1.1.1.2.cmml">C</mi><mo id="A3.T7.13.13.13.1.m1.1.1.1" xref="A3.T7.13.13.13.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.T7.13.13.13.1.m1.1b"><apply id="A3.T7.13.13.13.1.m1.1.1.cmml" xref="A3.T7.13.13.13.1.m1.1.1"><ci id="A3.T7.13.13.13.1.m1.1.1.1.cmml" xref="A3.T7.13.13.13.1.m1.1.1.1">~</ci><ci id="A3.T7.13.13.13.1.m1.1.1.2.cmml" xref="A3.T7.13.13.13.1.m1.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.13.13.13.1.m1.1c">\tilde{C}</annotation></semantics></math>
</td>
<td id="A3.T7.14.14.14.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="A3.T7.14.14.14.2.m1.1" class="ltx_Math" alttext="1000" display="inline"><semantics id="A3.T7.14.14.14.2.m1.1a"><mn id="A3.T7.14.14.14.2.m1.1.1" xref="A3.T7.14.14.14.2.m1.1.1.cmml">1000</mn><annotation-xml encoding="MathML-Content" id="A3.T7.14.14.14.2.m1.1b"><cn type="integer" id="A3.T7.14.14.14.2.m1.1.1.cmml" xref="A3.T7.14.14.14.2.m1.1.1">1000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T7.14.14.14.2.m1.1c">1000</annotation></semantics></math></td>
</tr>
</table>
</figure>
<div id="A3.SS5.p2" class="ltx_para ltx_noindent">
<p id="A3.SS5.p2.3" class="ltx_p">The data is split into <math id="A3.SS5.p2.1.m1.1" class="ltx_Math" alttext="50000/50=1000" display="inline"><semantics id="A3.SS5.p2.1.m1.1a"><mrow id="A3.SS5.p2.1.m1.1.1" xref="A3.SS5.p2.1.m1.1.1.cmml"><mrow id="A3.SS5.p2.1.m1.1.1.2" xref="A3.SS5.p2.1.m1.1.1.2.cmml"><mn id="A3.SS5.p2.1.m1.1.1.2.2" xref="A3.SS5.p2.1.m1.1.1.2.2.cmml">50000</mn><mo id="A3.SS5.p2.1.m1.1.1.2.1" xref="A3.SS5.p2.1.m1.1.1.2.1.cmml">/</mo><mn id="A3.SS5.p2.1.m1.1.1.2.3" xref="A3.SS5.p2.1.m1.1.1.2.3.cmml">50</mn></mrow><mo id="A3.SS5.p2.1.m1.1.1.1" xref="A3.SS5.p2.1.m1.1.1.1.cmml">=</mo><mn id="A3.SS5.p2.1.m1.1.1.3" xref="A3.SS5.p2.1.m1.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS5.p2.1.m1.1b"><apply id="A3.SS5.p2.1.m1.1.1.cmml" xref="A3.SS5.p2.1.m1.1.1"><eq id="A3.SS5.p2.1.m1.1.1.1.cmml" xref="A3.SS5.p2.1.m1.1.1.1"></eq><apply id="A3.SS5.p2.1.m1.1.1.2.cmml" xref="A3.SS5.p2.1.m1.1.1.2"><divide id="A3.SS5.p2.1.m1.1.1.2.1.cmml" xref="A3.SS5.p2.1.m1.1.1.2.1"></divide><cn type="integer" id="A3.SS5.p2.1.m1.1.1.2.2.cmml" xref="A3.SS5.p2.1.m1.1.1.2.2">50000</cn><cn type="integer" id="A3.SS5.p2.1.m1.1.1.2.3.cmml" xref="A3.SS5.p2.1.m1.1.1.2.3">50</cn></apply><cn type="integer" id="A3.SS5.p2.1.m1.1.1.3.cmml" xref="A3.SS5.p2.1.m1.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS5.p2.1.m1.1c">50000/50=1000</annotation></semantics></math> users to resemble a cross-device population.
As explained in Appendix <a href="#A3.SS4" title="C.4 Central DP ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.4</span></a> we simulate with cohort size <math id="A3.SS5.p2.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.SS5.p2.2.m2.1a"><mi id="A3.SS5.p2.2.m2.1.1" xref="A3.SS5.p2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.SS5.p2.2.m2.1b"><ci id="A3.SS5.p2.2.m2.1.1.cmml" xref="A3.SS5.p2.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS5.p2.2.m2.1c">C</annotation></semantics></math>, but manually reduce the noise by a fraction <math id="A3.SS5.p2.3.m3.1" class="ltx_Math" alttext="\frac{C}{\tilde{C}}" display="inline"><semantics id="A3.SS5.p2.3.m3.1a"><mfrac id="A3.SS5.p2.3.m3.1.1" xref="A3.SS5.p2.3.m3.1.1.cmml"><mi id="A3.SS5.p2.3.m3.1.1.2" xref="A3.SS5.p2.3.m3.1.1.2.cmml">C</mi><mover accent="true" id="A3.SS5.p2.3.m3.1.1.3" xref="A3.SS5.p2.3.m3.1.1.3.cmml"><mi id="A3.SS5.p2.3.m3.1.1.3.2" xref="A3.SS5.p2.3.m3.1.1.3.2.cmml">C</mi><mo id="A3.SS5.p2.3.m3.1.1.3.1" xref="A3.SS5.p2.3.m3.1.1.3.1.cmml">~</mo></mover></mfrac><annotation-xml encoding="MathML-Content" id="A3.SS5.p2.3.m3.1b"><apply id="A3.SS5.p2.3.m3.1.1.cmml" xref="A3.SS5.p2.3.m3.1.1"><divide id="A3.SS5.p2.3.m3.1.1.1.cmml" xref="A3.SS5.p2.3.m3.1.1"></divide><ci id="A3.SS5.p2.3.m3.1.1.2.cmml" xref="A3.SS5.p2.3.m3.1.1.2">𝐶</ci><apply id="A3.SS5.p2.3.m3.1.1.3.cmml" xref="A3.SS5.p2.3.m3.1.1.3"><ci id="A3.SS5.p2.3.m3.1.1.3.1.cmml" xref="A3.SS5.p2.3.m3.1.1.3.1">~</ci><ci id="A3.SS5.p2.3.m3.1.1.3.2.cmml" xref="A3.SS5.p2.3.m3.1.1.3.2">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS5.p2.3.m3.1c">\frac{C}{\tilde{C}}</annotation></semantics></math> to simulate the effect of running with a larger cohort size.
<span id="A3.SS5.p2.3.1" class="ltx_text ltx_font_typewriter">pfl-research</span> supports setting a different batch size for training and evaluation.
It is a good practice to set the evaluation batch size to the largest value that the GPUs can handle, which will speed up simulations.</p>
</div>
<div id="A3.SS5.p3" class="ltx_para ltx_noindent">
<p id="A3.SS5.p3.1" class="ltx_p">The code can be found in <span id="A3.SS5.p3.1.1" class="ltx_text ltx_font_typewriter">benchmarks/image_classification<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note"><span id="footnote6.1.1.1" class="ltx_text ltx_font_serif">6</span></span><a target="_blank" href="https://github.com/apple/pfl-research/tree/develop/benchmarks/image_classification" title="" class="ltx_ref ltx_url">https://github.com/apple/pfl-research/tree/develop/benchmarks/image_classification</a><span id="footnote6.5" class="ltx_text ltx_font_serif">. Run main script with </span><span id="footnote6.6" class="ltx_text">--help</span><span id="footnote6.7" class="ltx_text ltx_font_serif"> for further description on hyper-parameters.</span></span></span></span></span>.</p>
</div>
</section>
<section id="A3.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.6 </span>StackOverflow</h3>

<div id="A3.SS6.p1" class="ltx_para ltx_noindent">
<p id="A3.SS6.p1.2" class="ltx_p">We define two variations of benchmarks on StackOverflow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib73" title="" class="ltx_ref">73</a>]</cite>:
<math id="A3.SS6.p1.1.m1.2" class="ltx_Math" alttext="\{\texttt{no DP},\texttt{central DP}\}" display="inline"><semantics id="A3.SS6.p1.1.m1.2a"><mrow id="A3.SS6.p1.1.m1.2.3.2" xref="A3.SS6.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A3.SS6.p1.1.m1.2.3.2.1" xref="A3.SS6.p1.1.m1.2.3.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS6.p1.1.m1.1.1" xref="A3.SS6.p1.1.m1.1.1a.cmml">no DP</mtext><mo id="A3.SS6.p1.1.m1.2.3.2.2" xref="A3.SS6.p1.1.m1.2.3.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS6.p1.1.m1.2.2" xref="A3.SS6.p1.1.m1.2.2a.cmml">central DP</mtext><mo stretchy="false" id="A3.SS6.p1.1.m1.2.3.2.3" xref="A3.SS6.p1.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.1.m1.2b"><set id="A3.SS6.p1.1.m1.2.3.1.cmml" xref="A3.SS6.p1.1.m1.2.3.2"><ci id="A3.SS6.p1.1.m1.1.1a.cmml" xref="A3.SS6.p1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="A3.SS6.p1.1.m1.1.1.cmml" xref="A3.SS6.p1.1.m1.1.1">no DP</mtext></ci><ci id="A3.SS6.p1.1.m1.2.2a.cmml" xref="A3.SS6.p1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="A3.SS6.p1.1.m1.2.2.cmml" xref="A3.SS6.p1.1.m1.2.2">central DP</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.1.m1.2c">\{\texttt{no DP},\texttt{central DP}\}</annotation></semantics></math>.
No dataset partitioning is needed as the dataset has inherent user identifiers.
The task is next-word prediction using a transformer model with <math id="A3.SS6.p1.2.m2.3" class="ltx_Math" alttext="1,962,912" display="inline"><semantics id="A3.SS6.p1.2.m2.3a"><mrow id="A3.SS6.p1.2.m2.3.3.5"><mn id="A3.SS6.p1.2.m2.1.1.1.1" xref="A3.SS6.p1.2.m2.3.3.4.cmml">1</mn><mo id="A3.SS6.p1.2.m2.3.3.5.1" xref="A3.SS6.p1.2.m2.3.3.4.cmml">,</mo><mn id="A3.SS6.p1.2.m2.2.2.2.2" xref="A3.SS6.p1.2.m2.3.3.4.cmml">962</mn><mo id="A3.SS6.p1.2.m2.3.3.5.2" xref="A3.SS6.p1.2.m2.3.3.4.cmml">,</mo><mn id="A3.SS6.p1.2.m2.3.3.3.3" xref="A3.SS6.p1.2.m2.3.3.4.cmml">912</mn></mrow><annotation-xml encoding="MathML-Content" id="A3.SS6.p1.2.m2.3b"><cn type="integer" id="A3.SS6.p1.2.m2.3.3.4.cmml" xref="A3.SS6.p1.2.m2.1.1.1.1">1962912</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.SS6.p1.2.m2.3c">1,962,912</annotation></semantics></math> parameters.
The hyper-parameters are outlined in Table <a href="#A3.T8" title="Table 8 ‣ C.6 StackOverflow ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
<figure id="A3.T8" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 8: </span>Hyper-parameters used in the two StackOverflow benchmarks.</figcaption>
<table id="A3.T8.25.25" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T8.25.25.26" class="ltx_tr">
<td id="A3.T8.25.25.26.1" class="ltx_td ltx_align_left ltx_border_tt">Setup</td>
<td id="A3.T8.25.25.26.2" class="ltx_td ltx_align_left ltx_border_tt">Parameter</td>
<td id="A3.T8.25.25.26.3" class="ltx_td ltx_align_center ltx_border_tt">value</td>
</tr>
<tr id="A3.T8.1.1.1" class="ltx_tr">
<td id="A3.T8.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t" rowspan="10"><span id="A3.T8.1.1.1.2.1" class="ltx_text">all</span></td>
<td id="A3.T8.1.1.1.3" class="ltx_td ltx_align_left ltx_border_t">Central iterations</td>
<td id="A3.T8.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T8.1.1.1.1.m1.1" class="ltx_Math" alttext="2000" display="inline"><semantics id="A3.T8.1.1.1.1.m1.1a"><mn id="A3.T8.1.1.1.1.m1.1.1" xref="A3.T8.1.1.1.1.m1.1.1.cmml">2000</mn><annotation-xml encoding="MathML-Content" id="A3.T8.1.1.1.1.m1.1b"><cn type="integer" id="A3.T8.1.1.1.1.m1.1.1.cmml" xref="A3.T8.1.1.1.1.m1.1.1">2000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.1.1.1.1.m1.1c">2000</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.2.2.2" class="ltx_tr">
<td id="A3.T8.2.2.2.2" class="ltx_td ltx_align_left">Central learning rate</td>
<td id="A3.T8.2.2.2.1" class="ltx_td ltx_align_center"><math id="A3.T8.2.2.2.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T8.2.2.2.1.m1.1a"><mn id="A3.T8.2.2.2.1.m1.1.1" xref="A3.T8.2.2.2.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T8.2.2.2.1.m1.1b"><cn type="float" id="A3.T8.2.2.2.1.m1.1.1.cmml" xref="A3.T8.2.2.2.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.2.2.2.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.3.3.3" class="ltx_tr">
<td id="A3.T8.3.3.3.2" class="ltx_td ltx_align_left">Central lr warmup</td>
<td id="A3.T8.3.3.3.1" class="ltx_td ltx_align_center"><math id="A3.T8.3.3.3.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A3.T8.3.3.3.1.m1.1a"><mn id="A3.T8.3.3.3.1.m1.1.1" xref="A3.T8.3.3.3.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A3.T8.3.3.3.1.m1.1b"><cn type="integer" id="A3.T8.3.3.3.1.m1.1.1.cmml" xref="A3.T8.3.3.3.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.3.3.3.1.m1.1c">50</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.25.25.27" class="ltx_tr">
<td id="A3.T8.25.25.27.1" class="ltx_td ltx_align_left">Central optimizer</td>
<td id="A3.T8.25.25.27.2" class="ltx_td ltx_align_center">Adam</td>
</tr>
<tr id="A3.T8.25.25.28" class="ltx_tr">
<td id="A3.T8.25.25.28.1" class="ltx_td ltx_align_left">Adam adaptivity degree</td>
<td id="A3.T8.25.25.28.2" class="ltx_td ltx_align_center">0.1 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T8.4.4.4" class="ltx_tr">
<td id="A3.T8.4.4.4.1" class="ltx_td ltx_align_left">Adam <math id="A3.T8.4.4.4.1.m1.1" class="ltx_Math" alttext="beta_{1}" display="inline"><semantics id="A3.T8.4.4.4.1.m1.1a"><mrow id="A3.T8.4.4.4.1.m1.1.1" xref="A3.T8.4.4.4.1.m1.1.1.cmml"><mi id="A3.T8.4.4.4.1.m1.1.1.2" xref="A3.T8.4.4.4.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T8.4.4.4.1.m1.1.1.1" xref="A3.T8.4.4.4.1.m1.1.1.1.cmml">​</mo><mi id="A3.T8.4.4.4.1.m1.1.1.3" xref="A3.T8.4.4.4.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T8.4.4.4.1.m1.1.1.1a" xref="A3.T8.4.4.4.1.m1.1.1.1.cmml">​</mo><mi id="A3.T8.4.4.4.1.m1.1.1.4" xref="A3.T8.4.4.4.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T8.4.4.4.1.m1.1.1.1b" xref="A3.T8.4.4.4.1.m1.1.1.1.cmml">​</mo><msub id="A3.T8.4.4.4.1.m1.1.1.5" xref="A3.T8.4.4.4.1.m1.1.1.5.cmml"><mi id="A3.T8.4.4.4.1.m1.1.1.5.2" xref="A3.T8.4.4.4.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T8.4.4.4.1.m1.1.1.5.3" xref="A3.T8.4.4.4.1.m1.1.1.5.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T8.4.4.4.1.m1.1b"><apply id="A3.T8.4.4.4.1.m1.1.1.cmml" xref="A3.T8.4.4.4.1.m1.1.1"><times id="A3.T8.4.4.4.1.m1.1.1.1.cmml" xref="A3.T8.4.4.4.1.m1.1.1.1"></times><ci id="A3.T8.4.4.4.1.m1.1.1.2.cmml" xref="A3.T8.4.4.4.1.m1.1.1.2">𝑏</ci><ci id="A3.T8.4.4.4.1.m1.1.1.3.cmml" xref="A3.T8.4.4.4.1.m1.1.1.3">𝑒</ci><ci id="A3.T8.4.4.4.1.m1.1.1.4.cmml" xref="A3.T8.4.4.4.1.m1.1.1.4">𝑡</ci><apply id="A3.T8.4.4.4.1.m1.1.1.5.cmml" xref="A3.T8.4.4.4.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T8.4.4.4.1.m1.1.1.5.1.cmml" xref="A3.T8.4.4.4.1.m1.1.1.5">subscript</csymbol><ci id="A3.T8.4.4.4.1.m1.1.1.5.2.cmml" xref="A3.T8.4.4.4.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T8.4.4.4.1.m1.1.1.5.3.cmml" xref="A3.T8.4.4.4.1.m1.1.1.5.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.4.4.4.1.m1.1c">beta_{1}</annotation></semantics></math>
</td>
<td id="A3.T8.4.4.4.2" class="ltx_td ltx_align_center">0.9 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T8.5.5.5" class="ltx_tr">
<td id="A3.T8.5.5.5.1" class="ltx_td ltx_align_left">Adam <math id="A3.T8.5.5.5.1.m1.1" class="ltx_Math" alttext="beta_{2}" display="inline"><semantics id="A3.T8.5.5.5.1.m1.1a"><mrow id="A3.T8.5.5.5.1.m1.1.1" xref="A3.T8.5.5.5.1.m1.1.1.cmml"><mi id="A3.T8.5.5.5.1.m1.1.1.2" xref="A3.T8.5.5.5.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T8.5.5.5.1.m1.1.1.1" xref="A3.T8.5.5.5.1.m1.1.1.1.cmml">​</mo><mi id="A3.T8.5.5.5.1.m1.1.1.3" xref="A3.T8.5.5.5.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T8.5.5.5.1.m1.1.1.1a" xref="A3.T8.5.5.5.1.m1.1.1.1.cmml">​</mo><mi id="A3.T8.5.5.5.1.m1.1.1.4" xref="A3.T8.5.5.5.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T8.5.5.5.1.m1.1.1.1b" xref="A3.T8.5.5.5.1.m1.1.1.1.cmml">​</mo><msub id="A3.T8.5.5.5.1.m1.1.1.5" xref="A3.T8.5.5.5.1.m1.1.1.5.cmml"><mi id="A3.T8.5.5.5.1.m1.1.1.5.2" xref="A3.T8.5.5.5.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T8.5.5.5.1.m1.1.1.5.3" xref="A3.T8.5.5.5.1.m1.1.1.5.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T8.5.5.5.1.m1.1b"><apply id="A3.T8.5.5.5.1.m1.1.1.cmml" xref="A3.T8.5.5.5.1.m1.1.1"><times id="A3.T8.5.5.5.1.m1.1.1.1.cmml" xref="A3.T8.5.5.5.1.m1.1.1.1"></times><ci id="A3.T8.5.5.5.1.m1.1.1.2.cmml" xref="A3.T8.5.5.5.1.m1.1.1.2">𝑏</ci><ci id="A3.T8.5.5.5.1.m1.1.1.3.cmml" xref="A3.T8.5.5.5.1.m1.1.1.3">𝑒</ci><ci id="A3.T8.5.5.5.1.m1.1.1.4.cmml" xref="A3.T8.5.5.5.1.m1.1.1.4">𝑡</ci><apply id="A3.T8.5.5.5.1.m1.1.1.5.cmml" xref="A3.T8.5.5.5.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T8.5.5.5.1.m1.1.1.5.1.cmml" xref="A3.T8.5.5.5.1.m1.1.1.5">subscript</csymbol><ci id="A3.T8.5.5.5.1.m1.1.1.5.2.cmml" xref="A3.T8.5.5.5.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T8.5.5.5.1.m1.1.1.5.3.cmml" xref="A3.T8.5.5.5.1.m1.1.1.5.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.5.5.5.1.m1.1c">beta_{2}</annotation></semantics></math>
</td>
<td id="A3.T8.5.5.5.2" class="ltx_td ltx_align_center">0.99 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T8.7.7.7" class="ltx_tr">
<td id="A3.T8.6.6.6.1" class="ltx_td ltx_align_left">Cohort size <math id="A3.T8.6.6.6.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.T8.6.6.6.1.m1.1a"><mi id="A3.T8.6.6.6.1.m1.1.1" xref="A3.T8.6.6.6.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.T8.6.6.6.1.m1.1b"><ci id="A3.T8.6.6.6.1.m1.1.1.cmml" xref="A3.T8.6.6.6.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.6.6.6.1.m1.1c">C</annotation></semantics></math>
</td>
<td id="A3.T8.7.7.7.2" class="ltx_td ltx_align_center"><math id="A3.T8.7.7.7.2.m1.1" class="ltx_Math" alttext="400" display="inline"><semantics id="A3.T8.7.7.7.2.m1.1a"><mn id="A3.T8.7.7.7.2.m1.1.1" xref="A3.T8.7.7.7.2.m1.1.1.cmml">400</mn><annotation-xml encoding="MathML-Content" id="A3.T8.7.7.7.2.m1.1b"><cn type="integer" id="A3.T8.7.7.7.2.m1.1.1.cmml" xref="A3.T8.7.7.7.2.m1.1.1">400</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.7.7.7.2.m1.1c">400</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.8.8.8" class="ltx_tr">
<td id="A3.T8.8.8.8.2" class="ltx_td ltx_align_left">Local epochs</td>
<td id="A3.T8.8.8.8.1" class="ltx_td ltx_align_center"><math id="A3.T8.8.8.8.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A3.T8.8.8.8.1.m1.1a"><mn id="A3.T8.8.8.8.1.m1.1.1" xref="A3.T8.8.8.8.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A3.T8.8.8.8.1.m1.1b"><cn type="integer" id="A3.T8.8.8.8.1.m1.1.1.cmml" xref="A3.T8.8.8.8.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.8.8.8.1.m1.1c">1</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.9.9.9" class="ltx_tr">
<td id="A3.T8.9.9.9.2" class="ltx_td ltx_align_left">Local learning rate</td>
<td id="A3.T8.9.9.9.1" class="ltx_td ltx_align_center"><math id="A3.T8.9.9.9.1.m1.1" class="ltx_Math" alttext="0.3" display="inline"><semantics id="A3.T8.9.9.9.1.m1.1a"><mn id="A3.T8.9.9.9.1.m1.1.1" xref="A3.T8.9.9.9.1.m1.1.1.cmml">0.3</mn><annotation-xml encoding="MathML-Content" id="A3.T8.9.9.9.1.m1.1b"><cn type="float" id="A3.T8.9.9.9.1.m1.1.1.cmml" xref="A3.T8.9.9.9.1.m1.1.1">0.3</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.9.9.9.1.m1.1c">0.3</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.10.10.10" class="ltx_tr">
<td id="A3.T8.10.10.10.2" class="ltx_td"></td>
<td id="A3.T8.10.10.10.3" class="ltx_td ltx_align_left">Local batch size</td>
<td id="A3.T8.10.10.10.1" class="ltx_td ltx_align_center"><math id="A3.T8.10.10.10.1.m1.1" class="ltx_Math" alttext="16" display="inline"><semantics id="A3.T8.10.10.10.1.m1.1a"><mn id="A3.T8.10.10.10.1.m1.1.1" xref="A3.T8.10.10.10.1.m1.1.1.cmml">16</mn><annotation-xml encoding="MathML-Content" id="A3.T8.10.10.10.1.m1.1b"><cn type="integer" id="A3.T8.10.10.10.1.m1.1.1.cmml" xref="A3.T8.10.10.10.1.m1.1.1">16</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.10.10.10.1.m1.1c">16</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.11.11.11" class="ltx_tr">
<td id="A3.T8.11.11.11.2" class="ltx_td"></td>
<td id="A3.T8.11.11.11.3" class="ltx_td ltx_align_left">Evaluation frequency</td>
<td id="A3.T8.11.11.11.1" class="ltx_td ltx_align_center"><math id="A3.T8.11.11.11.1.m1.1" class="ltx_Math" alttext="20" display="inline"><semantics id="A3.T8.11.11.11.1.m1.1a"><mn id="A3.T8.11.11.11.1.m1.1.1" xref="A3.T8.11.11.11.1.m1.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="A3.T8.11.11.11.1.m1.1b"><cn type="integer" id="A3.T8.11.11.11.1.m1.1.1.cmml" xref="A3.T8.11.11.11.1.m1.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.11.11.11.1.m1.1c">20</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.12.12.12" class="ltx_tr">
<td id="A3.T8.12.12.12.2" class="ltx_td"></td>
<td id="A3.T8.12.12.12.3" class="ltx_td ltx_align_left">Evaluation batch size</td>
<td id="A3.T8.12.12.12.1" class="ltx_td ltx_align_center"><math id="A3.T8.12.12.12.1.m1.1" class="ltx_Math" alttext="1024" display="inline"><semantics id="A3.T8.12.12.12.1.m1.1a"><mn id="A3.T8.12.12.12.1.m1.1.1" xref="A3.T8.12.12.12.1.m1.1.1.cmml">1024</mn><annotation-xml encoding="MathML-Content" id="A3.T8.12.12.12.1.m1.1b"><cn type="integer" id="A3.T8.12.12.12.1.m1.1.1.cmml" xref="A3.T8.12.12.12.1.m1.1.1">1024</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.12.12.12.1.m1.1c">1024</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.13.13.13" class="ltx_tr">
<td id="A3.T8.13.13.13.2" class="ltx_td"></td>
<td id="A3.T8.13.13.13.3" class="ltx_td ltx_align_left">Central eval data size</td>
<td id="A3.T8.13.13.13.1" class="ltx_td ltx_align_center"><math id="A3.T8.13.13.13.1.m1.1" class="ltx_Math" alttext="1\%" display="inline"><semantics id="A3.T8.13.13.13.1.m1.1a"><mrow id="A3.T8.13.13.13.1.m1.1.1" xref="A3.T8.13.13.13.1.m1.1.1.cmml"><mn id="A3.T8.13.13.13.1.m1.1.1.2" xref="A3.T8.13.13.13.1.m1.1.1.2.cmml">1</mn><mo id="A3.T8.13.13.13.1.m1.1.1.1" xref="A3.T8.13.13.13.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.T8.13.13.13.1.m1.1b"><apply id="A3.T8.13.13.13.1.m1.1.1.cmml" xref="A3.T8.13.13.13.1.m1.1.1"><csymbol cd="latexml" id="A3.T8.13.13.13.1.m1.1.1.1.cmml" xref="A3.T8.13.13.13.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A3.T8.13.13.13.1.m1.1.1.2.cmml" xref="A3.T8.13.13.13.1.m1.1.1.2">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.13.13.13.1.m1.1c">1\%</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.14.14.14" class="ltx_tr">
<td id="A3.T8.14.14.14.2" class="ltx_td"></td>
<td id="A3.T8.14.14.14.3" class="ltx_td ltx_align_left">Max sentences per user</td>
<td id="A3.T8.14.14.14.1" class="ltx_td ltx_align_center">
<math id="A3.T8.14.14.14.1.m1.1" class="ltx_Math" alttext="64" display="inline"><semantics id="A3.T8.14.14.14.1.m1.1a"><mn id="A3.T8.14.14.14.1.m1.1.1" xref="A3.T8.14.14.14.1.m1.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="A3.T8.14.14.14.1.m1.1b"><cn type="integer" id="A3.T8.14.14.14.1.m1.1.1.cmml" xref="A3.T8.14.14.14.1.m1.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.14.14.14.1.m1.1c">64</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib77" title="" class="ltx_ref">77</a>]</cite>
</td>
</tr>
<tr id="A3.T8.15.15.15" class="ltx_tr">
<td id="A3.T8.15.15.15.2" class="ltx_td"></td>
<td id="A3.T8.15.15.15.3" class="ltx_td ltx_align_left">Sequence length</td>
<td id="A3.T8.15.15.15.1" class="ltx_td ltx_align_center">
<math id="A3.T8.15.15.15.1.m1.1" class="ltx_Math" alttext="20" display="inline"><semantics id="A3.T8.15.15.15.1.m1.1a"><mn id="A3.T8.15.15.15.1.m1.1.1" xref="A3.T8.15.15.15.1.m1.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="A3.T8.15.15.15.1.m1.1b"><cn type="integer" id="A3.T8.15.15.15.1.m1.1.1.cmml" xref="A3.T8.15.15.15.1.m1.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.15.15.15.1.m1.1c">20</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib77" title="" class="ltx_ref">77</a>]</cite>
</td>
</tr>
<tr id="A3.T8.16.16.16" class="ltx_tr">
<td id="A3.T8.16.16.16.2" class="ltx_td"></td>
<td id="A3.T8.16.16.16.3" class="ltx_td ltx_align_left">Max tokens per user</td>
<td id="A3.T8.16.16.16.1" class="ltx_td ltx_align_center">
<math id="A3.T8.16.16.16.1.m1.1" class="ltx_Math" alttext="1600" display="inline"><semantics id="A3.T8.16.16.16.1.m1.1a"><mn id="A3.T8.16.16.16.1.m1.1.1" xref="A3.T8.16.16.16.1.m1.1.1.cmml">1600</mn><annotation-xml encoding="MathML-Content" id="A3.T8.16.16.16.1.m1.1b"><cn type="integer" id="A3.T8.16.16.16.1.m1.1.1.cmml" xref="A3.T8.16.16.16.1.m1.1.1">1600</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.16.16.16.1.m1.1c">1600</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>
</td>
</tr>
<tr id="A3.T8.17.17.17" class="ltx_tr">
<td id="A3.T8.17.17.17.2" class="ltx_td"></td>
<td id="A3.T8.17.17.17.3" class="ltx_td ltx_align_left">Minimum datapoints per user</td>
<td id="A3.T8.17.17.17.1" class="ltx_td ltx_align_center"><math id="A3.T8.17.17.17.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A3.T8.17.17.17.1.m1.1a"><mn id="A3.T8.17.17.17.1.m1.1.1" xref="A3.T8.17.17.17.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A3.T8.17.17.17.1.m1.1b"><cn type="integer" id="A3.T8.17.17.17.1.m1.1.1.cmml" xref="A3.T8.17.17.17.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.17.17.17.1.m1.1c">1</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.18.18.18" class="ltx_tr">
<td id="A3.T8.18.18.18.2" class="ltx_td"></td>
<td id="A3.T8.18.18.18.3" class="ltx_td ltx_align_left">Model embedding size</td>
<td id="A3.T8.18.18.18.1" class="ltx_td ltx_align_center"><math id="A3.T8.18.18.18.1.m1.1" class="ltx_Math" alttext="96" display="inline"><semantics id="A3.T8.18.18.18.1.m1.1a"><mn id="A3.T8.18.18.18.1.m1.1.1" xref="A3.T8.18.18.18.1.m1.1.1.cmml">96</mn><annotation-xml encoding="MathML-Content" id="A3.T8.18.18.18.1.m1.1b"><cn type="integer" id="A3.T8.18.18.18.1.m1.1.1.cmml" xref="A3.T8.18.18.18.1.m1.1.1">96</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.18.18.18.1.m1.1c">96</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.19.19.19" class="ltx_tr">
<td id="A3.T8.19.19.19.2" class="ltx_td"></td>
<td id="A3.T8.19.19.19.3" class="ltx_td ltx_align_left">Model num heads</td>
<td id="A3.T8.19.19.19.1" class="ltx_td ltx_align_center"><math id="A3.T8.19.19.19.1.m1.1" class="ltx_Math" alttext="8" display="inline"><semantics id="A3.T8.19.19.19.1.m1.1a"><mn id="A3.T8.19.19.19.1.m1.1.1" xref="A3.T8.19.19.19.1.m1.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="A3.T8.19.19.19.1.m1.1b"><cn type="integer" id="A3.T8.19.19.19.1.m1.1.1.cmml" xref="A3.T8.19.19.19.1.m1.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.19.19.19.1.m1.1c">8</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.20.20.20" class="ltx_tr">
<td id="A3.T8.20.20.20.2" class="ltx_td"></td>
<td id="A3.T8.20.20.20.3" class="ltx_td ltx_align_left">Model encoder feedforward size</td>
<td id="A3.T8.20.20.20.1" class="ltx_td ltx_align_center"><math id="A3.T8.20.20.20.1.m1.1" class="ltx_Math" alttext="1536" display="inline"><semantics id="A3.T8.20.20.20.1.m1.1a"><mn id="A3.T8.20.20.20.1.m1.1.1" xref="A3.T8.20.20.20.1.m1.1.1.cmml">1536</mn><annotation-xml encoding="MathML-Content" id="A3.T8.20.20.20.1.m1.1b"><cn type="integer" id="A3.T8.20.20.20.1.m1.1.1.cmml" xref="A3.T8.20.20.20.1.m1.1.1">1536</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.20.20.20.1.m1.1c">1536</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.21.21.21" class="ltx_tr">
<td id="A3.T8.21.21.21.2" class="ltx_td"></td>
<td id="A3.T8.21.21.21.3" class="ltx_td ltx_align_left">Model transformer layers</td>
<td id="A3.T8.21.21.21.1" class="ltx_td ltx_align_center"><math id="A3.T8.21.21.21.1.m1.1" class="ltx_Math" alttext="3" display="inline"><semantics id="A3.T8.21.21.21.1.m1.1a"><mn id="A3.T8.21.21.21.1.m1.1.1" xref="A3.T8.21.21.21.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="A3.T8.21.21.21.1.m1.1b"><cn type="integer" id="A3.T8.21.21.21.1.m1.1.1.cmml" xref="A3.T8.21.21.21.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.21.21.21.1.m1.1c">3</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.22.22.22" class="ltx_tr">
<td id="A3.T8.22.22.22.2" class="ltx_td"></td>
<td id="A3.T8.22.22.22.3" class="ltx_td ltx_align_left">Dropout rate</td>
<td id="A3.T8.22.22.22.1" class="ltx_td ltx_align_center"><math id="A3.T8.22.22.22.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T8.22.22.22.1.m1.1a"><mn id="A3.T8.22.22.22.1.m1.1.1" xref="A3.T8.22.22.22.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T8.22.22.22.1.m1.1b"><cn type="float" id="A3.T8.22.22.22.1.m1.1.1.cmml" xref="A3.T8.22.22.22.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.22.22.22.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.23.23.23" class="ltx_tr">
<td id="A3.T8.23.23.23.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" rowspan="2"><span id="A3.T8.23.23.23.2.1" class="ltx_text">central DP</span></td>
<td id="A3.T8.23.23.23.3" class="ltx_td ltx_align_left ltx_border_t">clipping bound</td>
<td id="A3.T8.23.23.23.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T8.23.23.23.1.m1.1" class="ltx_Math" alttext="1.0" display="inline"><semantics id="A3.T8.23.23.23.1.m1.1a"><mn id="A3.T8.23.23.23.1.m1.1.1" xref="A3.T8.23.23.23.1.m1.1.1.cmml">1.0</mn><annotation-xml encoding="MathML-Content" id="A3.T8.23.23.23.1.m1.1b"><cn type="float" id="A3.T8.23.23.23.1.m1.1.1.cmml" xref="A3.T8.23.23.23.1.m1.1.1">1.0</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.23.23.23.1.m1.1c">1.0</annotation></semantics></math></td>
</tr>
<tr id="A3.T8.25.25.25" class="ltx_tr">
<td id="A3.T8.24.24.24.1" class="ltx_td ltx_align_left ltx_border_bb">Noise cohort size <math id="A3.T8.24.24.24.1.m1.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.T8.24.24.24.1.m1.1a"><mover accent="true" id="A3.T8.24.24.24.1.m1.1.1" xref="A3.T8.24.24.24.1.m1.1.1.cmml"><mi id="A3.T8.24.24.24.1.m1.1.1.2" xref="A3.T8.24.24.24.1.m1.1.1.2.cmml">C</mi><mo id="A3.T8.24.24.24.1.m1.1.1.1" xref="A3.T8.24.24.24.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.T8.24.24.24.1.m1.1b"><apply id="A3.T8.24.24.24.1.m1.1.1.cmml" xref="A3.T8.24.24.24.1.m1.1.1"><ci id="A3.T8.24.24.24.1.m1.1.1.1.cmml" xref="A3.T8.24.24.24.1.m1.1.1.1">~</ci><ci id="A3.T8.24.24.24.1.m1.1.1.2.cmml" xref="A3.T8.24.24.24.1.m1.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.24.24.24.1.m1.1c">\tilde{C}</annotation></semantics></math>
</td>
<td id="A3.T8.25.25.25.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="A3.T8.25.25.25.2.m1.1" class="ltx_Math" alttext="5000" display="inline"><semantics id="A3.T8.25.25.25.2.m1.1a"><mn id="A3.T8.25.25.25.2.m1.1.1" xref="A3.T8.25.25.25.2.m1.1.1.cmml">5000</mn><annotation-xml encoding="MathML-Content" id="A3.T8.25.25.25.2.m1.1b"><cn type="integer" id="A3.T8.25.25.25.2.m1.1.1.cmml" xref="A3.T8.25.25.25.2.m1.1.1">5000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T8.25.25.25.2.m1.1c">5000</annotation></semantics></math></td>
</tr>
</table>
</figure>
<div id="A3.SS6.p2" class="ltx_para ltx_noindent">
<p id="A3.SS6.p2.1" class="ltx_p">In this benchmark (and all following benchmarks) Adam optimizer for central updates is used, with modified hyper-parameters suggested by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite> for stable learning with FL.</p>
</div>
<div id="A3.SS6.p3" class="ltx_para ltx_noindent">
<p id="A3.SS6.p3.1" class="ltx_p">The code can be found in <span id="A3.SS6.p3.1.1" class="ltx_text ltx_font_typewriter">benchmarks/lm<span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note"><span id="footnote7.1.1.1" class="ltx_text ltx_font_serif">7</span></span><a target="_blank" href="https://github.com/apple/pfl-research/tree/develop/benchmarks/lm" title="" class="ltx_ref ltx_url">https://github.com/apple/pfl-research/tree/develop/benchmarks/lm</a><span id="footnote7.5" class="ltx_text ltx_font_serif">. Run main script with </span><span id="footnote7.6" class="ltx_text">--help</span><span id="footnote7.7" class="ltx_text ltx_font_serif"> for further description on hyper-parameters.</span></span></span></span></span>.</p>
</div>
</section>
<section id="A3.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.7 </span>FLAIR</h3>

<div id="A3.SS7.p1" class="ltx_para ltx_noindent">
<p id="A3.SS7.p1.1" class="ltx_p">We define four variations of FLAIR benchmarks:
<math id="A3.SS7.p1.1.m1.4" class="ltx_Math" alttext="\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{central DP}\}" display="inline"><semantics id="A3.SS7.p1.1.m1.4a"><mrow id="A3.SS7.p1.1.m1.4.5" xref="A3.SS7.p1.1.m1.4.5.cmml"><mrow id="A3.SS7.p1.1.m1.4.5.2.2" xref="A3.SS7.p1.1.m1.4.5.2.1.cmml"><mo stretchy="false" id="A3.SS7.p1.1.m1.4.5.2.2.1" xref="A3.SS7.p1.1.m1.4.5.2.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.1.1" xref="A3.SS7.p1.1.m1.1.1a.cmml">IID</mtext><mo id="A3.SS7.p1.1.m1.4.5.2.2.2" xref="A3.SS7.p1.1.m1.4.5.2.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.2.2" xref="A3.SS7.p1.1.m1.2.2a.cmml">non-IID</mtext><mo rspace="0.055em" stretchy="false" id="A3.SS7.p1.1.m1.4.5.2.2.3" xref="A3.SS7.p1.1.m1.4.5.2.1.cmml">}</mo></mrow><mo rspace="0.222em" id="A3.SS7.p1.1.m1.4.5.1" xref="A3.SS7.p1.1.m1.4.5.1.cmml">×</mo><mrow id="A3.SS7.p1.1.m1.4.5.3.2" xref="A3.SS7.p1.1.m1.4.5.3.1.cmml"><mo stretchy="false" id="A3.SS7.p1.1.m1.4.5.3.2.1" xref="A3.SS7.p1.1.m1.4.5.3.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.3.3" xref="A3.SS7.p1.1.m1.3.3a.cmml">no DP</mtext><mo id="A3.SS7.p1.1.m1.4.5.3.2.2" xref="A3.SS7.p1.1.m1.4.5.3.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.4.4" xref="A3.SS7.p1.1.m1.4.4a.cmml">central DP</mtext><mo stretchy="false" id="A3.SS7.p1.1.m1.4.5.3.2.3" xref="A3.SS7.p1.1.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS7.p1.1.m1.4b"><apply id="A3.SS7.p1.1.m1.4.5.cmml" xref="A3.SS7.p1.1.m1.4.5"><times id="A3.SS7.p1.1.m1.4.5.1.cmml" xref="A3.SS7.p1.1.m1.4.5.1"></times><set id="A3.SS7.p1.1.m1.4.5.2.1.cmml" xref="A3.SS7.p1.1.m1.4.5.2.2"><ci id="A3.SS7.p1.1.m1.1.1a.cmml" xref="A3.SS7.p1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.1.1.cmml" xref="A3.SS7.p1.1.m1.1.1">IID</mtext></ci><ci id="A3.SS7.p1.1.m1.2.2a.cmml" xref="A3.SS7.p1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.2.2.cmml" xref="A3.SS7.p1.1.m1.2.2">non-IID</mtext></ci></set><set id="A3.SS7.p1.1.m1.4.5.3.1.cmml" xref="A3.SS7.p1.1.m1.4.5.3.2"><ci id="A3.SS7.p1.1.m1.3.3a.cmml" xref="A3.SS7.p1.1.m1.3.3"><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.3.3.cmml" xref="A3.SS7.p1.1.m1.3.3">no DP</mtext></ci><ci id="A3.SS7.p1.1.m1.4.4a.cmml" xref="A3.SS7.p1.1.m1.4.4"><mtext class="ltx_mathvariant_monospace" id="A3.SS7.p1.1.m1.4.4.cmml" xref="A3.SS7.p1.1.m1.4.4">central DP</mtext></ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.SS7.p1.1.m1.4c">\{\texttt{IID},\texttt{non-IID}\}\times\{\texttt{no DP},\texttt{central DP}\}</annotation></semantics></math>.
The inherent user partitions in FLAIR display strong heterogeneity, as discussed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib72" title="" class="ltx_ref">72</a>]</cite>.
It can therefore be particularly insightful to compare performances between original partitioning and IID partitioning.
The original FLAIR benchmarks include setups for multi-class image classification of coarse-grained labels, fine-grained labels, pre-trained ResNet18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> and train from scratch.
For simplicity, our benchmark suite only include the coarse-grained labels with pre-trained ResNet18, but we encourage researchers to also consider the other setups when a wider evaluation of image classification tasks is of particular interest.
The hyper-parameters are outlined in Table <a href="#A3.T9" title="Table 9 ‣ C.7 FLAIR ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<figure id="A3.T9" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 9: </span>Hyper-parameters used in the FLAIR benchmarks. </figcaption>
<table id="A3.T9.15.15" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T9.15.15.16" class="ltx_tr">
<td id="A3.T9.15.15.16.1" class="ltx_td ltx_align_left ltx_border_tt">Setup</td>
<td id="A3.T9.15.15.16.2" class="ltx_td ltx_align_left ltx_border_tt">Parameter</td>
<td id="A3.T9.15.15.16.3" class="ltx_td ltx_align_center ltx_border_tt">value</td>
</tr>
<tr id="A3.T9.1.1.1" class="ltx_tr">
<td id="A3.T9.1.1.1.2" class="ltx_td ltx_align_left ltx_border_t" rowspan="10"><span id="A3.T9.1.1.1.2.1" class="ltx_text">all</span></td>
<td id="A3.T9.1.1.1.3" class="ltx_td ltx_align_left ltx_border_t">Central iterations</td>
<td id="A3.T9.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T9.1.1.1.1.m1.1" class="ltx_Math" alttext="5000" display="inline"><semantics id="A3.T9.1.1.1.1.m1.1a"><mn id="A3.T9.1.1.1.1.m1.1.1" xref="A3.T9.1.1.1.1.m1.1.1.cmml">5000</mn><annotation-xml encoding="MathML-Content" id="A3.T9.1.1.1.1.m1.1b"><cn type="integer" id="A3.T9.1.1.1.1.m1.1.1.cmml" xref="A3.T9.1.1.1.1.m1.1.1">5000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.1.1.1.1.m1.1c">5000</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.2.2.2" class="ltx_tr">
<td id="A3.T9.2.2.2.2" class="ltx_td ltx_align_left">Central learning rate</td>
<td id="A3.T9.2.2.2.1" class="ltx_td ltx_align_center"><math id="A3.T9.2.2.2.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T9.2.2.2.1.m1.1a"><mn id="A3.T9.2.2.2.1.m1.1.1" xref="A3.T9.2.2.2.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T9.2.2.2.1.m1.1b"><cn type="float" id="A3.T9.2.2.2.1.m1.1.1.cmml" xref="A3.T9.2.2.2.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.2.2.2.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.15.15.17" class="ltx_tr">
<td id="A3.T9.15.15.17.1" class="ltx_td ltx_align_left">Central optimizer</td>
<td id="A3.T9.15.15.17.2" class="ltx_td ltx_align_center">Adam</td>
</tr>
<tr id="A3.T9.15.15.18" class="ltx_tr">
<td id="A3.T9.15.15.18.1" class="ltx_td ltx_align_left">Adam adaptivity degree</td>
<td id="A3.T9.15.15.18.2" class="ltx_td ltx_align_center">0.1 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T9.3.3.3" class="ltx_tr">
<td id="A3.T9.3.3.3.1" class="ltx_td ltx_align_left">Adam <math id="A3.T9.3.3.3.1.m1.1" class="ltx_Math" alttext="beta_{1}" display="inline"><semantics id="A3.T9.3.3.3.1.m1.1a"><mrow id="A3.T9.3.3.3.1.m1.1.1" xref="A3.T9.3.3.3.1.m1.1.1.cmml"><mi id="A3.T9.3.3.3.1.m1.1.1.2" xref="A3.T9.3.3.3.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T9.3.3.3.1.m1.1.1.1" xref="A3.T9.3.3.3.1.m1.1.1.1.cmml">​</mo><mi id="A3.T9.3.3.3.1.m1.1.1.3" xref="A3.T9.3.3.3.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T9.3.3.3.1.m1.1.1.1a" xref="A3.T9.3.3.3.1.m1.1.1.1.cmml">​</mo><mi id="A3.T9.3.3.3.1.m1.1.1.4" xref="A3.T9.3.3.3.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T9.3.3.3.1.m1.1.1.1b" xref="A3.T9.3.3.3.1.m1.1.1.1.cmml">​</mo><msub id="A3.T9.3.3.3.1.m1.1.1.5" xref="A3.T9.3.3.3.1.m1.1.1.5.cmml"><mi id="A3.T9.3.3.3.1.m1.1.1.5.2" xref="A3.T9.3.3.3.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T9.3.3.3.1.m1.1.1.5.3" xref="A3.T9.3.3.3.1.m1.1.1.5.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T9.3.3.3.1.m1.1b"><apply id="A3.T9.3.3.3.1.m1.1.1.cmml" xref="A3.T9.3.3.3.1.m1.1.1"><times id="A3.T9.3.3.3.1.m1.1.1.1.cmml" xref="A3.T9.3.3.3.1.m1.1.1.1"></times><ci id="A3.T9.3.3.3.1.m1.1.1.2.cmml" xref="A3.T9.3.3.3.1.m1.1.1.2">𝑏</ci><ci id="A3.T9.3.3.3.1.m1.1.1.3.cmml" xref="A3.T9.3.3.3.1.m1.1.1.3">𝑒</ci><ci id="A3.T9.3.3.3.1.m1.1.1.4.cmml" xref="A3.T9.3.3.3.1.m1.1.1.4">𝑡</ci><apply id="A3.T9.3.3.3.1.m1.1.1.5.cmml" xref="A3.T9.3.3.3.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T9.3.3.3.1.m1.1.1.5.1.cmml" xref="A3.T9.3.3.3.1.m1.1.1.5">subscript</csymbol><ci id="A3.T9.3.3.3.1.m1.1.1.5.2.cmml" xref="A3.T9.3.3.3.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T9.3.3.3.1.m1.1.1.5.3.cmml" xref="A3.T9.3.3.3.1.m1.1.1.5.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.3.3.3.1.m1.1c">beta_{1}</annotation></semantics></math>
</td>
<td id="A3.T9.3.3.3.2" class="ltx_td ltx_align_center">0.9 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T9.4.4.4" class="ltx_tr">
<td id="A3.T9.4.4.4.1" class="ltx_td ltx_align_left">Adam <math id="A3.T9.4.4.4.1.m1.1" class="ltx_Math" alttext="beta_{2}" display="inline"><semantics id="A3.T9.4.4.4.1.m1.1a"><mrow id="A3.T9.4.4.4.1.m1.1.1" xref="A3.T9.4.4.4.1.m1.1.1.cmml"><mi id="A3.T9.4.4.4.1.m1.1.1.2" xref="A3.T9.4.4.4.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T9.4.4.4.1.m1.1.1.1" xref="A3.T9.4.4.4.1.m1.1.1.1.cmml">​</mo><mi id="A3.T9.4.4.4.1.m1.1.1.3" xref="A3.T9.4.4.4.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T9.4.4.4.1.m1.1.1.1a" xref="A3.T9.4.4.4.1.m1.1.1.1.cmml">​</mo><mi id="A3.T9.4.4.4.1.m1.1.1.4" xref="A3.T9.4.4.4.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T9.4.4.4.1.m1.1.1.1b" xref="A3.T9.4.4.4.1.m1.1.1.1.cmml">​</mo><msub id="A3.T9.4.4.4.1.m1.1.1.5" xref="A3.T9.4.4.4.1.m1.1.1.5.cmml"><mi id="A3.T9.4.4.4.1.m1.1.1.5.2" xref="A3.T9.4.4.4.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T9.4.4.4.1.m1.1.1.5.3" xref="A3.T9.4.4.4.1.m1.1.1.5.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T9.4.4.4.1.m1.1b"><apply id="A3.T9.4.4.4.1.m1.1.1.cmml" xref="A3.T9.4.4.4.1.m1.1.1"><times id="A3.T9.4.4.4.1.m1.1.1.1.cmml" xref="A3.T9.4.4.4.1.m1.1.1.1"></times><ci id="A3.T9.4.4.4.1.m1.1.1.2.cmml" xref="A3.T9.4.4.4.1.m1.1.1.2">𝑏</ci><ci id="A3.T9.4.4.4.1.m1.1.1.3.cmml" xref="A3.T9.4.4.4.1.m1.1.1.3">𝑒</ci><ci id="A3.T9.4.4.4.1.m1.1.1.4.cmml" xref="A3.T9.4.4.4.1.m1.1.1.4">𝑡</ci><apply id="A3.T9.4.4.4.1.m1.1.1.5.cmml" xref="A3.T9.4.4.4.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T9.4.4.4.1.m1.1.1.5.1.cmml" xref="A3.T9.4.4.4.1.m1.1.1.5">subscript</csymbol><ci id="A3.T9.4.4.4.1.m1.1.1.5.2.cmml" xref="A3.T9.4.4.4.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T9.4.4.4.1.m1.1.1.5.3.cmml" xref="A3.T9.4.4.4.1.m1.1.1.5.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.4.4.4.1.m1.1c">beta_{2}</annotation></semantics></math>
</td>
<td id="A3.T9.4.4.4.2" class="ltx_td ltx_align_center">0.99 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>
</td>
</tr>
<tr id="A3.T9.6.6.6" class="ltx_tr">
<td id="A3.T9.5.5.5.1" class="ltx_td ltx_align_left">Cohort size <math id="A3.T9.5.5.5.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.T9.5.5.5.1.m1.1a"><mi id="A3.T9.5.5.5.1.m1.1.1" xref="A3.T9.5.5.5.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.T9.5.5.5.1.m1.1b"><ci id="A3.T9.5.5.5.1.m1.1.1.cmml" xref="A3.T9.5.5.5.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.5.5.5.1.m1.1c">C</annotation></semantics></math>
</td>
<td id="A3.T9.6.6.6.2" class="ltx_td ltx_align_center"><math id="A3.T9.6.6.6.2.m1.1" class="ltx_Math" alttext="200" display="inline"><semantics id="A3.T9.6.6.6.2.m1.1a"><mn id="A3.T9.6.6.6.2.m1.1.1" xref="A3.T9.6.6.6.2.m1.1.1.cmml">200</mn><annotation-xml encoding="MathML-Content" id="A3.T9.6.6.6.2.m1.1b"><cn type="integer" id="A3.T9.6.6.6.2.m1.1.1.cmml" xref="A3.T9.6.6.6.2.m1.1.1">200</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.6.6.6.2.m1.1c">200</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.7.7.7" class="ltx_tr">
<td id="A3.T9.7.7.7.2" class="ltx_td ltx_align_left">Local epochs</td>
<td id="A3.T9.7.7.7.1" class="ltx_td ltx_align_center"><math id="A3.T9.7.7.7.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="A3.T9.7.7.7.1.m1.1a"><mn id="A3.T9.7.7.7.1.m1.1.1" xref="A3.T9.7.7.7.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="A3.T9.7.7.7.1.m1.1b"><cn type="integer" id="A3.T9.7.7.7.1.m1.1.1.cmml" xref="A3.T9.7.7.7.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.7.7.7.1.m1.1c">2</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.8.8.8" class="ltx_tr">
<td id="A3.T9.8.8.8.2" class="ltx_td ltx_align_left">Local learning rate</td>
<td id="A3.T9.8.8.8.1" class="ltx_td ltx_align_center"><math id="A3.T9.8.8.8.1.m1.1" class="ltx_Math" alttext="0.01" display="inline"><semantics id="A3.T9.8.8.8.1.m1.1a"><mn id="A3.T9.8.8.8.1.m1.1.1" xref="A3.T9.8.8.8.1.m1.1.1.cmml">0.01</mn><annotation-xml encoding="MathML-Content" id="A3.T9.8.8.8.1.m1.1b"><cn type="float" id="A3.T9.8.8.8.1.m1.1.1.cmml" xref="A3.T9.8.8.8.1.m1.1.1">0.01</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.8.8.8.1.m1.1c">0.01</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.9.9.9" class="ltx_tr">
<td id="A3.T9.9.9.9.2" class="ltx_td ltx_align_left">Local batch size</td>
<td id="A3.T9.9.9.9.1" class="ltx_td ltx_align_center"><math id="A3.T9.9.9.9.1.m1.1" class="ltx_Math" alttext="16" display="inline"><semantics id="A3.T9.9.9.9.1.m1.1a"><mn id="A3.T9.9.9.9.1.m1.1.1" xref="A3.T9.9.9.9.1.m1.1.1.cmml">16</mn><annotation-xml encoding="MathML-Content" id="A3.T9.9.9.9.1.m1.1b"><cn type="integer" id="A3.T9.9.9.9.1.m1.1.1.cmml" xref="A3.T9.9.9.9.1.m1.1.1">16</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.9.9.9.1.m1.1c">16</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.10.10.10" class="ltx_tr">
<td id="A3.T9.10.10.10.2" class="ltx_td"></td>
<td id="A3.T9.10.10.10.3" class="ltx_td ltx_align_left">Evaluation frequency</td>
<td id="A3.T9.10.10.10.1" class="ltx_td ltx_align_center"><math id="A3.T9.10.10.10.1.m1.1" class="ltx_Math" alttext="20" display="inline"><semantics id="A3.T9.10.10.10.1.m1.1a"><mn id="A3.T9.10.10.10.1.m1.1.1" xref="A3.T9.10.10.10.1.m1.1.1.cmml">20</mn><annotation-xml encoding="MathML-Content" id="A3.T9.10.10.10.1.m1.1b"><cn type="integer" id="A3.T9.10.10.10.1.m1.1.1.cmml" xref="A3.T9.10.10.10.1.m1.1.1">20</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.10.10.10.1.m1.1c">20</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.11.11.11" class="ltx_tr">
<td id="A3.T9.11.11.11.2" class="ltx_td"></td>
<td id="A3.T9.11.11.11.3" class="ltx_td ltx_align_left">Evaluation batch size</td>
<td id="A3.T9.11.11.11.1" class="ltx_td ltx_align_center"><math id="A3.T9.11.11.11.1.m1.1" class="ltx_Math" alttext="512" display="inline"><semantics id="A3.T9.11.11.11.1.m1.1a"><mn id="A3.T9.11.11.11.1.m1.1.1" xref="A3.T9.11.11.11.1.m1.1.1.cmml">512</mn><annotation-xml encoding="MathML-Content" id="A3.T9.11.11.11.1.m1.1b"><cn type="integer" id="A3.T9.11.11.11.1.m1.1.1.cmml" xref="A3.T9.11.11.11.1.m1.1.1">512</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.11.11.11.1.m1.1c">512</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.15.15.19" class="ltx_tr">
<td id="A3.T9.15.15.19.1" class="ltx_td"></td>
<td id="A3.T9.15.15.19.2" class="ltx_td ltx_align_left">Pre-trained</td>
<td id="A3.T9.15.15.19.3" class="ltx_td ltx_align_center">true</td>
</tr>
<tr id="A3.T9.15.15.20" class="ltx_tr">
<td id="A3.T9.15.15.20.1" class="ltx_td"></td>
<td id="A3.T9.15.15.20.2" class="ltx_td ltx_align_left">Max images per user</td>
<td id="A3.T9.15.15.20.3" class="ltx_td ltx_align_center">512</td>
</tr>
<tr id="A3.T9.12.12.12" class="ltx_tr">
<td id="A3.T9.12.12.12.2" class="ltx_td ltx_align_left ltx_border_t"><span id="A3.T9.12.12.12.2.1" class="ltx_text">IID</span></td>
<td id="A3.T9.12.12.12.3" class="ltx_td ltx_align_left ltx_border_t">Datapoints per user</td>
<td id="A3.T9.12.12.12.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T9.12.12.12.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A3.T9.12.12.12.1.m1.1a"><mn id="A3.T9.12.12.12.1.m1.1.1" xref="A3.T9.12.12.12.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A3.T9.12.12.12.1.m1.1b"><cn type="integer" id="A3.T9.12.12.12.1.m1.1.1.cmml" xref="A3.T9.12.12.12.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.12.12.12.1.m1.1c">50</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.13.13.13" class="ltx_tr">
<td id="A3.T9.13.13.13.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" rowspan="2"><span id="A3.T9.13.13.13.2.1" class="ltx_text">central DP</span></td>
<td id="A3.T9.13.13.13.3" class="ltx_td ltx_align_left ltx_border_t">clipping bound</td>
<td id="A3.T9.13.13.13.1" class="ltx_td ltx_align_center ltx_border_t"><math id="A3.T9.13.13.13.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A3.T9.13.13.13.1.m1.1a"><mn id="A3.T9.13.13.13.1.m1.1.1" xref="A3.T9.13.13.13.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A3.T9.13.13.13.1.m1.1b"><cn type="float" id="A3.T9.13.13.13.1.m1.1.1.cmml" xref="A3.T9.13.13.13.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.13.13.13.1.m1.1c">0.1</annotation></semantics></math></td>
</tr>
<tr id="A3.T9.15.15.15" class="ltx_tr">
<td id="A3.T9.14.14.14.1" class="ltx_td ltx_align_left ltx_border_bb">Noise cohort size <math id="A3.T9.14.14.14.1.m1.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.T9.14.14.14.1.m1.1a"><mover accent="true" id="A3.T9.14.14.14.1.m1.1.1" xref="A3.T9.14.14.14.1.m1.1.1.cmml"><mi id="A3.T9.14.14.14.1.m1.1.1.2" xref="A3.T9.14.14.14.1.m1.1.1.2.cmml">C</mi><mo id="A3.T9.14.14.14.1.m1.1.1.1" xref="A3.T9.14.14.14.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.T9.14.14.14.1.m1.1b"><apply id="A3.T9.14.14.14.1.m1.1.1.cmml" xref="A3.T9.14.14.14.1.m1.1.1"><ci id="A3.T9.14.14.14.1.m1.1.1.1.cmml" xref="A3.T9.14.14.14.1.m1.1.1.1">~</ci><ci id="A3.T9.14.14.14.1.m1.1.1.2.cmml" xref="A3.T9.14.14.14.1.m1.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.14.14.14.1.m1.1c">\tilde{C}</annotation></semantics></math>
</td>
<td id="A3.T9.15.15.15.2" class="ltx_td ltx_align_center ltx_border_bb"><math id="A3.T9.15.15.15.2.m1.1" class="ltx_Math" alttext="5000" display="inline"><semantics id="A3.T9.15.15.15.2.m1.1a"><mn id="A3.T9.15.15.15.2.m1.1.1" xref="A3.T9.15.15.15.2.m1.1.1.cmml">5000</mn><annotation-xml encoding="MathML-Content" id="A3.T9.15.15.15.2.m1.1b"><cn type="integer" id="A3.T9.15.15.15.2.m1.1.1.cmml" xref="A3.T9.15.15.15.2.m1.1.1">5000</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T9.15.15.15.2.m1.1c">5000</annotation></semantics></math></td>
</tr>
</table>
</figure>
<div id="A3.SS7.p2" class="ltx_para ltx_noindent">
<p id="A3.SS7.p2.1" class="ltx_p">The code can be found in <span id="A3.SS7.p2.1.1" class="ltx_text ltx_font_typewriter">benchmarks/flair<span id="footnote8" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note"><span id="footnote8.1.1.1" class="ltx_text ltx_font_serif">8</span></span><a target="_blank" href="https://github.com/apple/pfl-research/tree/develop/benchmarks/flair" title="" class="ltx_ref ltx_url">https://github.com/apple/pfl-research/tree/develop/benchmarks/flair</a><span id="footnote8.5" class="ltx_text ltx_font_serif">. Run main script with </span><span id="footnote8.6" class="ltx_text">--help</span><span id="footnote8.7" class="ltx_text ltx_font_serif"> for further description on hyper-parameters.</span></span></span></span></span>.</p>
</div>
</section>
<section id="A3.SS8" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.8 </span>LLM</h3>

<figure id="A3.T10" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 10: </span>Hyper-parameters used in the LLM benchmarks. SA denotes Stanford Alpaca and OA denotes OpenAssistant.</figcaption>
<table id="A3.T10.6.6" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A3.T10.6.6.7" class="ltx_tr">
<td id="A3.T10.6.6.7.1" class="ltx_td ltx_align_left ltx_border_tt">Setup</td>
<td id="A3.T10.6.6.7.2" class="ltx_td ltx_align_left ltx_border_tt">Parameter</td>
<td id="A3.T10.6.6.7.3" class="ltx_td ltx_align_center ltx_border_tt">SA</td>
<td id="A3.T10.6.6.7.4" class="ltx_td ltx_align_center ltx_border_tt">Aya</td>
<td id="A3.T10.6.6.7.5" class="ltx_td ltx_align_center ltx_border_tt">OA</td>
</tr>
<tr id="A3.T10.6.6.8" class="ltx_tr">
<td id="A3.T10.6.6.8.1" class="ltx_td ltx_align_left ltx_border_t" rowspan="10"><span id="A3.T10.6.6.8.1.1" class="ltx_text">all</span></td>
<td id="A3.T10.6.6.8.2" class="ltx_td ltx_align_left ltx_border_t">Central iterations</td>
<td id="A3.T10.6.6.8.3" class="ltx_td ltx_align_center ltx_border_t" colspan="3">1000</td>
</tr>
<tr id="A3.T10.6.6.9" class="ltx_tr">
<td id="A3.T10.6.6.9.1" class="ltx_td ltx_align_left">Central learning rate</td>
<td id="A3.T10.6.6.9.2" class="ltx_td ltx_align_center" colspan="3">0.01</td>
</tr>
<tr id="A3.T10.6.6.10" class="ltx_tr">
<td id="A3.T10.6.6.10.1" class="ltx_td ltx_align_left">Central optimizer</td>
<td id="A3.T10.6.6.10.2" class="ltx_td ltx_align_center" colspan="3">Adam</td>
</tr>
<tr id="A3.T10.1.1.1" class="ltx_tr">
<td id="A3.T10.1.1.1.2" class="ltx_td ltx_align_left">Adam adaptivity degree</td>
<td id="A3.T10.1.1.1.1" class="ltx_td ltx_align_center" colspan="3"><math id="A3.T10.1.1.1.1.m1.1" class="ltx_Math" alttext="10^{-4}" display="inline"><semantics id="A3.T10.1.1.1.1.m1.1a"><msup id="A3.T10.1.1.1.1.m1.1.1" xref="A3.T10.1.1.1.1.m1.1.1.cmml"><mn id="A3.T10.1.1.1.1.m1.1.1.2" xref="A3.T10.1.1.1.1.m1.1.1.2.cmml">10</mn><mrow id="A3.T10.1.1.1.1.m1.1.1.3" xref="A3.T10.1.1.1.1.m1.1.1.3.cmml"><mo id="A3.T10.1.1.1.1.m1.1.1.3a" xref="A3.T10.1.1.1.1.m1.1.1.3.cmml">−</mo><mn id="A3.T10.1.1.1.1.m1.1.1.3.2" xref="A3.T10.1.1.1.1.m1.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="A3.T10.1.1.1.1.m1.1b"><apply id="A3.T10.1.1.1.1.m1.1.1.cmml" xref="A3.T10.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="A3.T10.1.1.1.1.m1.1.1.1.cmml" xref="A3.T10.1.1.1.1.m1.1.1">superscript</csymbol><cn type="integer" id="A3.T10.1.1.1.1.m1.1.1.2.cmml" xref="A3.T10.1.1.1.1.m1.1.1.2">10</cn><apply id="A3.T10.1.1.1.1.m1.1.1.3.cmml" xref="A3.T10.1.1.1.1.m1.1.1.3"><minus id="A3.T10.1.1.1.1.m1.1.1.3.1.cmml" xref="A3.T10.1.1.1.1.m1.1.1.3"></minus><cn type="integer" id="A3.T10.1.1.1.1.m1.1.1.3.2.cmml" xref="A3.T10.1.1.1.1.m1.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.1.1.1.1.m1.1c">10^{-4}</annotation></semantics></math></td>
</tr>
<tr id="A3.T10.2.2.2" class="ltx_tr">
<td id="A3.T10.2.2.2.1" class="ltx_td ltx_align_left">Adam <math id="A3.T10.2.2.2.1.m1.1" class="ltx_Math" alttext="beta_{1}" display="inline"><semantics id="A3.T10.2.2.2.1.m1.1a"><mrow id="A3.T10.2.2.2.1.m1.1.1" xref="A3.T10.2.2.2.1.m1.1.1.cmml"><mi id="A3.T10.2.2.2.1.m1.1.1.2" xref="A3.T10.2.2.2.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T10.2.2.2.1.m1.1.1.1" xref="A3.T10.2.2.2.1.m1.1.1.1.cmml">​</mo><mi id="A3.T10.2.2.2.1.m1.1.1.3" xref="A3.T10.2.2.2.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T10.2.2.2.1.m1.1.1.1a" xref="A3.T10.2.2.2.1.m1.1.1.1.cmml">​</mo><mi id="A3.T10.2.2.2.1.m1.1.1.4" xref="A3.T10.2.2.2.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T10.2.2.2.1.m1.1.1.1b" xref="A3.T10.2.2.2.1.m1.1.1.1.cmml">​</mo><msub id="A3.T10.2.2.2.1.m1.1.1.5" xref="A3.T10.2.2.2.1.m1.1.1.5.cmml"><mi id="A3.T10.2.2.2.1.m1.1.1.5.2" xref="A3.T10.2.2.2.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T10.2.2.2.1.m1.1.1.5.3" xref="A3.T10.2.2.2.1.m1.1.1.5.3.cmml">1</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.2.2.2.1.m1.1b"><apply id="A3.T10.2.2.2.1.m1.1.1.cmml" xref="A3.T10.2.2.2.1.m1.1.1"><times id="A3.T10.2.2.2.1.m1.1.1.1.cmml" xref="A3.T10.2.2.2.1.m1.1.1.1"></times><ci id="A3.T10.2.2.2.1.m1.1.1.2.cmml" xref="A3.T10.2.2.2.1.m1.1.1.2">𝑏</ci><ci id="A3.T10.2.2.2.1.m1.1.1.3.cmml" xref="A3.T10.2.2.2.1.m1.1.1.3">𝑒</ci><ci id="A3.T10.2.2.2.1.m1.1.1.4.cmml" xref="A3.T10.2.2.2.1.m1.1.1.4">𝑡</ci><apply id="A3.T10.2.2.2.1.m1.1.1.5.cmml" xref="A3.T10.2.2.2.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T10.2.2.2.1.m1.1.1.5.1.cmml" xref="A3.T10.2.2.2.1.m1.1.1.5">subscript</csymbol><ci id="A3.T10.2.2.2.1.m1.1.1.5.2.cmml" xref="A3.T10.2.2.2.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T10.2.2.2.1.m1.1.1.5.3.cmml" xref="A3.T10.2.2.2.1.m1.1.1.5.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.2.2.2.1.m1.1c">beta_{1}</annotation></semantics></math>
</td>
<td id="A3.T10.2.2.2.2" class="ltx_td ltx_align_center" colspan="3">0.9</td>
</tr>
<tr id="A3.T10.3.3.3" class="ltx_tr">
<td id="A3.T10.3.3.3.1" class="ltx_td ltx_align_left">Adam <math id="A3.T10.3.3.3.1.m1.1" class="ltx_Math" alttext="beta_{2}" display="inline"><semantics id="A3.T10.3.3.3.1.m1.1a"><mrow id="A3.T10.3.3.3.1.m1.1.1" xref="A3.T10.3.3.3.1.m1.1.1.cmml"><mi id="A3.T10.3.3.3.1.m1.1.1.2" xref="A3.T10.3.3.3.1.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="A3.T10.3.3.3.1.m1.1.1.1" xref="A3.T10.3.3.3.1.m1.1.1.1.cmml">​</mo><mi id="A3.T10.3.3.3.1.m1.1.1.3" xref="A3.T10.3.3.3.1.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="A3.T10.3.3.3.1.m1.1.1.1a" xref="A3.T10.3.3.3.1.m1.1.1.1.cmml">​</mo><mi id="A3.T10.3.3.3.1.m1.1.1.4" xref="A3.T10.3.3.3.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="A3.T10.3.3.3.1.m1.1.1.1b" xref="A3.T10.3.3.3.1.m1.1.1.1.cmml">​</mo><msub id="A3.T10.3.3.3.1.m1.1.1.5" xref="A3.T10.3.3.3.1.m1.1.1.5.cmml"><mi id="A3.T10.3.3.3.1.m1.1.1.5.2" xref="A3.T10.3.3.3.1.m1.1.1.5.2.cmml">a</mi><mn id="A3.T10.3.3.3.1.m1.1.1.5.3" xref="A3.T10.3.3.3.1.m1.1.1.5.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A3.T10.3.3.3.1.m1.1b"><apply id="A3.T10.3.3.3.1.m1.1.1.cmml" xref="A3.T10.3.3.3.1.m1.1.1"><times id="A3.T10.3.3.3.1.m1.1.1.1.cmml" xref="A3.T10.3.3.3.1.m1.1.1.1"></times><ci id="A3.T10.3.3.3.1.m1.1.1.2.cmml" xref="A3.T10.3.3.3.1.m1.1.1.2">𝑏</ci><ci id="A3.T10.3.3.3.1.m1.1.1.3.cmml" xref="A3.T10.3.3.3.1.m1.1.1.3">𝑒</ci><ci id="A3.T10.3.3.3.1.m1.1.1.4.cmml" xref="A3.T10.3.3.3.1.m1.1.1.4">𝑡</ci><apply id="A3.T10.3.3.3.1.m1.1.1.5.cmml" xref="A3.T10.3.3.3.1.m1.1.1.5"><csymbol cd="ambiguous" id="A3.T10.3.3.3.1.m1.1.1.5.1.cmml" xref="A3.T10.3.3.3.1.m1.1.1.5">subscript</csymbol><ci id="A3.T10.3.3.3.1.m1.1.1.5.2.cmml" xref="A3.T10.3.3.3.1.m1.1.1.5.2">𝑎</ci><cn type="integer" id="A3.T10.3.3.3.1.m1.1.1.5.3.cmml" xref="A3.T10.3.3.3.1.m1.1.1.5.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.3.3.3.1.m1.1c">beta_{2}</annotation></semantics></math>
</td>
<td id="A3.T10.3.3.3.2" class="ltx_td ltx_align_center" colspan="3">0.99</td>
</tr>
<tr id="A3.T10.4.4.4" class="ltx_tr">
<td id="A3.T10.4.4.4.1" class="ltx_td ltx_align_left">Cohort size <math id="A3.T10.4.4.4.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="A3.T10.4.4.4.1.m1.1a"><mi id="A3.T10.4.4.4.1.m1.1.1" xref="A3.T10.4.4.4.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="A3.T10.4.4.4.1.m1.1b"><ci id="A3.T10.4.4.4.1.m1.1.1.cmml" xref="A3.T10.4.4.4.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.4.4.4.1.m1.1c">C</annotation></semantics></math>
</td>
<td id="A3.T10.4.4.4.2" class="ltx_td ltx_align_center" colspan="3">100</td>
</tr>
<tr id="A3.T10.6.6.11" class="ltx_tr">
<td id="A3.T10.6.6.11.1" class="ltx_td ltx_align_left">Local epochs</td>
<td id="A3.T10.6.6.11.2" class="ltx_td ltx_align_center" colspan="3">1</td>
</tr>
<tr id="A3.T10.5.5.5" class="ltx_tr">
<td id="A3.T10.5.5.5.2" class="ltx_td ltx_align_left">Local learning rate</td>
<td id="A3.T10.5.5.5.1" class="ltx_td ltx_align_center"><math id="A3.T10.5.5.5.1.m1.1" class="ltx_Math" alttext="0.01" display="inline"><semantics id="A3.T10.5.5.5.1.m1.1a"><mn id="A3.T10.5.5.5.1.m1.1.1" xref="A3.T10.5.5.5.1.m1.1.1.cmml">0.01</mn><annotation-xml encoding="MathML-Content" id="A3.T10.5.5.5.1.m1.1b"><cn type="float" id="A3.T10.5.5.5.1.m1.1.1.cmml" xref="A3.T10.5.5.5.1.m1.1.1">0.01</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.5.5.5.1.m1.1c">0.01</annotation></semantics></math></td>
<td id="A3.T10.5.5.5.3" class="ltx_td ltx_align_center" colspan="2">0.1</td>
</tr>
<tr id="A3.T10.6.6.12" class="ltx_tr">
<td id="A3.T10.6.6.12.1" class="ltx_td ltx_align_left">Local batch size</td>
<td id="A3.T10.6.6.12.2" class="ltx_td ltx_align_center" colspan="3">4</td>
</tr>
<tr id="A3.T10.6.6.13" class="ltx_tr">
<td id="A3.T10.6.6.13.1" class="ltx_td"></td>
<td id="A3.T10.6.6.13.2" class="ltx_td ltx_align_left">Evaluation frequency</td>
<td id="A3.T10.6.6.13.3" class="ltx_td ltx_align_center" colspan="3">10</td>
</tr>
<tr id="A3.T10.6.6.14" class="ltx_tr">
<td id="A3.T10.6.6.14.1" class="ltx_td"></td>
<td id="A3.T10.6.6.14.2" class="ltx_td ltx_align_left">Evaluation batch size</td>
<td id="A3.T10.6.6.14.3" class="ltx_td ltx_align_center" colspan="3">12</td>
</tr>
<tr id="A3.T10.6.6.15" class="ltx_tr">
<td id="A3.T10.6.6.15.1" class="ltx_td"></td>
<td id="A3.T10.6.6.15.2" class="ltx_td ltx_align_left">Max texts per user</td>
<td id="A3.T10.6.6.15.3" class="ltx_td ltx_align_center">-</td>
<td id="A3.T10.6.6.15.4" class="ltx_td ltx_align_center" colspan="2">64</td>
</tr>
<tr id="A3.T10.6.6.16" class="ltx_tr">
<td id="A3.T10.6.6.16.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" rowspan="2"><span id="A3.T10.6.6.16.1.1" class="ltx_text">central DP</span></td>
<td id="A3.T10.6.6.16.2" class="ltx_td ltx_align_left ltx_border_t">clipping bound</td>
<td id="A3.T10.6.6.16.3" class="ltx_td ltx_align_center ltx_border_t" colspan="3">0.1</td>
</tr>
<tr id="A3.T10.6.6.6" class="ltx_tr">
<td id="A3.T10.6.6.6.1" class="ltx_td ltx_align_left ltx_border_bb">Noise cohort size <math id="A3.T10.6.6.6.1.m1.1" class="ltx_Math" alttext="\tilde{C}" display="inline"><semantics id="A3.T10.6.6.6.1.m1.1a"><mover accent="true" id="A3.T10.6.6.6.1.m1.1.1" xref="A3.T10.6.6.6.1.m1.1.1.cmml"><mi id="A3.T10.6.6.6.1.m1.1.1.2" xref="A3.T10.6.6.6.1.m1.1.1.2.cmml">C</mi><mo id="A3.T10.6.6.6.1.m1.1.1.1" xref="A3.T10.6.6.6.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="A3.T10.6.6.6.1.m1.1b"><apply id="A3.T10.6.6.6.1.m1.1.1.cmml" xref="A3.T10.6.6.6.1.m1.1.1"><ci id="A3.T10.6.6.6.1.m1.1.1.1.cmml" xref="A3.T10.6.6.6.1.m1.1.1.1">~</ci><ci id="A3.T10.6.6.6.1.m1.1.1.2.cmml" xref="A3.T10.6.6.6.1.m1.1.1.2">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.T10.6.6.6.1.m1.1c">\tilde{C}</annotation></semantics></math>
</td>
<td id="A3.T10.6.6.6.2" class="ltx_td ltx_align_center ltx_border_bb" colspan="3">5000</td>
</tr>
</table>
</figure>
<div id="A3.SS8.p1" class="ltx_para ltx_noindent">
<p id="A3.SS8.p1.1" class="ltx_p">We consider three datasets for LLM benchmarks: Stanford Alpaca <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib75" title="" class="ltx_ref">75</a>]</cite>, Aya <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib71" title="" class="ltx_ref">71</a>]</cite> and OpenAssistant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>.
All three datasets are available on HuggingFace Dataset Hub <span id="footnote9" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span><a target="_blank" href="https://huggingface.co/datasets" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/datasets</a>.</span></span></span>.
We define two variations of LLM benchmarks: <math id="A3.SS8.p1.1.m1.2" class="ltx_Math" alttext="\{\texttt{no DP},\texttt{central DP}\}" display="inline"><semantics id="A3.SS8.p1.1.m1.2a"><mrow id="A3.SS8.p1.1.m1.2.3.2" xref="A3.SS8.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A3.SS8.p1.1.m1.2.3.2.1" xref="A3.SS8.p1.1.m1.2.3.1.cmml">{</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS8.p1.1.m1.1.1" xref="A3.SS8.p1.1.m1.1.1a.cmml">no DP</mtext><mo id="A3.SS8.p1.1.m1.2.3.2.2" xref="A3.SS8.p1.1.m1.2.3.1.cmml">,</mo><mtext class="ltx_mathvariant_monospace" id="A3.SS8.p1.1.m1.2.2" xref="A3.SS8.p1.1.m1.2.2a.cmml">central DP</mtext><mo stretchy="false" id="A3.SS8.p1.1.m1.2.3.2.3" xref="A3.SS8.p1.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.SS8.p1.1.m1.2b"><set id="A3.SS8.p1.1.m1.2.3.1.cmml" xref="A3.SS8.p1.1.m1.2.3.2"><ci id="A3.SS8.p1.1.m1.1.1a.cmml" xref="A3.SS8.p1.1.m1.1.1"><mtext class="ltx_mathvariant_monospace" id="A3.SS8.p1.1.m1.1.1.cmml" xref="A3.SS8.p1.1.m1.1.1">no DP</mtext></ci><ci id="A3.SS8.p1.1.m1.2.2a.cmml" xref="A3.SS8.p1.1.m1.2.2"><mtext class="ltx_mathvariant_monospace" id="A3.SS8.p1.1.m1.2.2.cmml" xref="A3.SS8.p1.1.m1.2.2">central DP</mtext></ci></set></annotation-xml><annotation encoding="application/x-tex" id="A3.SS8.p1.1.m1.2c">\{\texttt{no DP},\texttt{central DP}\}</annotation></semantics></math>.
Aya and OpenAssistant datasets have inherent user partition which is ideal for simulating fine-tuning LLMs in the federated setting.
For Stanford Alpaca which does not have user partition, we split the texts to I.I.D. artificial users where the number of texts each user has follows a Poisson distribution with mean value of 16.
As edge devices have limited memory and compute, we choose the TinyLlama-1.1B <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib84" title="" class="ltx_ref">84</a>]</cite> for benchmarking and fine-tune it on all three datasets with LoRA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> rank of 8 and mixed-precision training using bfloat16.
We report the final perplexity as the utility metric.
The hyper-parameters are outlined in Table <a href="#A3.T10" title="Table 10 ‣ C.8 LLM ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Benchmarking alternative FL frameworks</h2>

<div id="A4.p1" class="ltx_para ltx_noindent">
<p id="A4.p1.1" class="ltx_p">We selected FL simulators for comparison that are popular (at least 400 stars on GitHub), actively maintained (at least 1 commit in the main branch in the past 3 months), and primarily meant for simulations (as opposed to live deployments).
We also included FLUTE and FedScale since they prioritize speed and scalability.</p>
</div>
<div id="A4.p2" class="ltx_para ltx_noindent">
<p id="A4.p2.1" class="ltx_p">Even though it is not a realistic federated dataset, we chose CIFAR10 for the initial round of comparing framework speed because it is widely popular in FL publications and the frameworks had existing CIFAR10 setups implemented with best practices in the respective repository.
We adapted each initial CIFAR10 setup to match the IID setup in <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.
This is an ideal setup for benchmarking speed because the model is small; the IID dataset split is simple; central evaluation is lightweight; and training only utilizes 1 GPU with minimal setup, e.g. 5 local iterations and no DP.</p>
</div>
<div id="A4.p3" class="ltx_para ltx_noindent">
<p id="A4.p3.1" class="ltx_p">We only benchmarked <span id="A4.p3.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, TensorFlow Federated and Flower on FLAIR because of time constraints.
Implementing the metrics used in FLAIR for all different frameworks was particularly time consuming.</p>
</div>
<div id="A4.p4" class="ltx_para ltx_noindent">
<p id="A4.p4.1" class="ltx_p">To ensure no framework included any improvements that could be influenced by <span id="A4.p4.1.1" class="ltx_text ltx_font_typewriter">pfl-research</span>, we used the last commit before the release date of <span id="A4.p4.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span>, 29th February, for each framework.
We benchmarked <span id="A4.p4.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span> with version <math id="A4.p4.1.m1.1" class="ltx_Math" alttext="0.1" display="inline"><semantics id="A4.p4.1.m1.1a"><mn id="A4.p4.1.m1.1.1" xref="A4.p4.1.m1.1.1.cmml">0.1</mn><annotation-xml encoding="MathML-Content" id="A4.p4.1.m1.1b"><cn type="float" id="A4.p4.1.m1.1.1.cmml" xref="A4.p4.1.m1.1.1">0.1</cn></annotation-xml><annotation encoding="application/x-tex" id="A4.p4.1.m1.1c">0.1</annotation></semantics></math> and did not include no additional speedup improvements merged after 1st February 2024.</p>
</div>
<section id="A4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.1 </span>FedML</h3>

<div id="A4.SS1.p1" class="ltx_para ltx_noindent">
<p id="A4.SS1.p1.1" class="ltx_p">We used the commit <span id="A4.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">28cd33b2d64fda1533c1bac6109c14f13c1012f7</span> from 29th February 2024 in our CIFAR10 FedML setup and adopted the existing CIFAR10 setup<span id="footnote10" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">10</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">10</sup><span class="ltx_tag ltx_tag_note">10</span><a target="_blank" href="https://github.com/FedML-AI/FedML/tree/28cd33b2d64fda1533c1bac6109c14f13c1012f7/python/examples/federate/simulation/sp_fedavg_cifar10_resnet56_example" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/FedML-AI/FedML/tree/28cd33b2d64fda1533c1bac6109c14f13c1012f7/python/examples/federate/simulation/sp_fedavg_cifar10_resnet56_example</a></span></span></span>.
We changed the model and hyper-parameters to reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.
Additionally, we did the following modifications in FedML to more accurately reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>:</p>
</div>
<div id="A4.SS1.p2" class="ltx_para ltx_noindent">
<ul id="A4.I1" class="ltx_itemize">
<li id="A4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I1.i1.p1" class="ltx_para">
<p id="A4.I1.i1.p1.1" class="ltx_p">Remove random crop in CIFAR10 data loader.</p>
</div>
</li>
<li id="A4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I1.i2.p1" class="ltx_para">
<p id="A4.I1.i2.p1.1" class="ltx_p">Remove random horizontal flip in CIFAR10 data loader.</p>
</div>
</li>
<li id="A4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I1.i3.p1" class="ltx_para ltx_noindent">
<p id="A4.I1.i3.p1.1" class="ltx_p">Only evaluate 1 user as central evaluation as each user has a copy of all the test data.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="A4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.2 </span>Flower</h3>

<div id="A4.SS2.p1" class="ltx_para ltx_noindent">
<p id="A4.SS2.p1.1" class="ltx_p">We used the commit <span id="A4.SS2.p1.1.1" class="ltx_text ltx_font_typewriter">f25ddc13727ee85f372583f6d85c046803a76329</span> from 29th February 2024 in our CIFAR10 and FLAIR setup with Flower and adopted the existing CIFAR10 setup that reproduce <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite><span id="footnote11" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">11</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">11</sup><span class="ltx_tag ltx_tag_note">11</span><a target="_blank" href="https://github.com/adap/flower/tree/main/baselines/flwr_baselines/flwr_baselines/publications/adaptive_federated_optimization" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/adap/flower/tree/main/baselines/flwr_baselines/flwr_baselines/publications/adaptive_federated_optimization</a></span></span></span>.
We changed the model and hyper-parameters to reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>, and we upgraded the setup to use the latest Flower release at the time (1.7.0).</p>
</div>
</section>
<section id="A4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.3 </span>TensorFlow Federated</h3>

<div id="A4.SS3.p1" class="ltx_para ltx_noindent">
<p id="A4.SS3.p1.1" class="ltx_p">We used version 0.48.0 in our CIFAR10 and FLAIR setup with TFF because more recent versions removed the Python execution context, and we did not manage to run on GPU with the CPP execution context<span id="footnote12" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">12</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">12</sup><span class="ltx_tag ltx_tag_note">12</span><a target="_blank" href="https://github.com/tensorflow/federated/issues/4600" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/federated/issues/4600</a></span></span></span><span id="footnote13" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">13</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">13</sup><span class="ltx_tag ltx_tag_note">13</span><a target="_blank" href="https://github.com/tensorflow/federated/issues/4042" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/federated/issues/4042</a></span></span></span>.
We adopt the setup from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib77" title="" class="ltx_ref">77</a>]</cite> as our starting point, using the commit <span id="A4.SS3.p1.1.1" class="ltx_text ltx_font_typewriter">a5af8c4433c9ee2d2b1565f1bcc68c89e2000a6b</span> from 21st February 2024<span id="footnote14" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">14</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">14</sup><span class="ltx_tag ltx_tag_note">14</span><a target="_blank" href="https://github.com/google-research/federated/tree/master/fedopt_guide" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/federated/tree/master/fedopt_guide</a></span></span></span>.
We changed the model and hyper-parameters to reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.</p>
</div>
</section>
<section id="A4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">D.4 </span>FedScale</h3>

<div id="A4.SS4.p1" class="ltx_para ltx_noindent">
<p id="A4.SS4.p1.1" class="ltx_p">We used the commit <span id="A4.SS4.p1.1.1" class="ltx_text ltx_font_typewriter">7ec441c2afa99510535adebe155d89fa8bb2c637</span> from 18th December 2023 in our CIFAR10 FedScale setup, which was the latest commit as of the release of <span id="A4.SS4.p1.1.2" class="ltx_text ltx_font_typewriter">pfl-research</span>.
We used the existing CIFAR10 dataset integration available in FedScale and changed the run config to reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.
We checked that FedScale’s CIFAR10 integration was approximately the same as the CIFAR10 setup in <span id="A4.SS4.p1.1.3" class="ltx_text ltx_font_typewriter">pfl-research</span>.</p>
</div>
<div id="A4.SS4.p2" class="ltx_para ltx_noindent">
<p id="A4.SS4.p2.1" class="ltx_p">Additionally, we did the following modifications in FedScale to more accurately reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>:</p>
</div>
<div id="A4.SS4.p3" class="ltx_para ltx_noindent">
<ul id="A4.I2" class="ltx_itemize">
<li id="A4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I2.i1.p1" class="ltx_para">
<p id="A4.I2.i1.p1.1" class="ltx_p">Disable model saving, which was hard-coded in framework.</p>
</div>
</li>
<li id="A4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I2.i2.p1" class="ltx_para">
<p id="A4.I2.i2.p1.1" class="ltx_p">Implement partial participation feature, FedScale samples all users each round!</p>
</div>
</li>
<li id="A4.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A4.I2.i3.p1" class="ltx_para ltx_noindent">
<p id="A4.I2.i3.p1.1" class="ltx_p">Modify the source code in <span id="A4.I2.i3.p1.1.1" class="ltx_text ltx_font_typewriter">fedscale/cloud/fllibs.py</span> to add our model from Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.</p>
</div>
</li>
</ul>
</div>
<section id="A4.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">D.4.1 </span>Flute</h4>

<div id="A4.SS4.SSS1.p1" class="ltx_para ltx_noindent">
<p id="A4.SS4.SSS1.p1.1" class="ltx_p">We used the commit <span id="A4.SS4.SSS1.p1.1.1" class="ltx_text ltx_font_typewriter">8bfe0854ab293c6226df66856b3d96b39dbe61fe</span> from 23rd August 2023 in our CIFAR10 FLUTE setup.
We adopted the existing FEMNIST setup that FLUTE used to benchmark against FedML<span id="footnote15" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">15</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">15</sup><span class="ltx_tag ltx_tag_note">15</span><a target="_blank" href="https://github.com/microsoft/msrflute/tree/main/experiments/cv_cnn_femnist" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/microsoft/msrflute/tree/main/experiments/cv_cnn_femnist</a></span></span></span>, and then modified it to use FLUTE’s CIFAR10 integration.
We changed the model and hyper-parameters to reflect Appendix <a href="#A3.SS5" title="C.5 CIFAR10 ‣ Appendix C Details for benchmark setups ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.5</span></a>.
FLUTE’s configuration files were extensive enough such that we did not need to modify anything in the framework itself.
Unfortunately, it was not possible to run multiple training processes on a single GPU, so the only results we have are with <math id="A4.SS4.SSS1.p1.1.m1.1" class="ltx_Math" alttext="p=1" display="inline"><semantics id="A4.SS4.SSS1.p1.1.m1.1a"><mrow id="A4.SS4.SSS1.p1.1.m1.1.1" xref="A4.SS4.SSS1.p1.1.m1.1.1.cmml"><mi id="A4.SS4.SSS1.p1.1.m1.1.1.2" xref="A4.SS4.SSS1.p1.1.m1.1.1.2.cmml">p</mi><mo id="A4.SS4.SSS1.p1.1.m1.1.1.1" xref="A4.SS4.SSS1.p1.1.m1.1.1.1.cmml">=</mo><mn id="A4.SS4.SSS1.p1.1.m1.1.1.3" xref="A4.SS4.SSS1.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A4.SS4.SSS1.p1.1.m1.1b"><apply id="A4.SS4.SSS1.p1.1.m1.1.1.cmml" xref="A4.SS4.SSS1.p1.1.m1.1.1"><eq id="A4.SS4.SSS1.p1.1.m1.1.1.1.cmml" xref="A4.SS4.SSS1.p1.1.m1.1.1.1"></eq><ci id="A4.SS4.SSS1.p1.1.m1.1.1.2.cmml" xref="A4.SS4.SSS1.p1.1.m1.1.1.2">𝑝</ci><cn type="integer" id="A4.SS4.SSS1.p1.1.m1.1.1.3.cmml" xref="A4.SS4.SSS1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.SS4.SSS1.p1.1.m1.1c">p=1</annotation></semantics></math> in Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Comparing performance to alternative FL simulators ‣ 4 Experiments ‣ pfl-research: simulation framework for accelerating research in Private Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2404.06429" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2404.06430" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2404.06430">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2404.06430" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2404.06431" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun May  5 20:02:52 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
