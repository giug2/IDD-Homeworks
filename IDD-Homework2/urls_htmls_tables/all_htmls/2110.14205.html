<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2110.14205] FedPrune: Towards Inclusive Federated Learning</title><meta property="og:description" content="Federated learning (FL) is a distributed learning technique that trains a shared model over distributed data in a privacy-preserving manner.
Unfortunately, FL’s performance degrades when there is (i) variability in cli…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedPrune: Towards Inclusive Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedPrune: Towards Inclusive Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2110.14205">

<!--Generated on Tue Mar 19 15:21:20 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">FedPrune: Towards Inclusive Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Muhammad Tahir Munir, Muhammad Mustansar Saeed, Mahad Ali, Zafar Ayyub Qazi, Ihsan Ayyub Qazi
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id1.1.id1" class="ltx_text ltx_affiliation_institution">Department of Computer Science, LUMS</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:18030016,%2018030047,%2021100119,%20zafar.qazi,%20ihsan.qazi@lums.edu.pk">18030016, 18030047, 21100119, zafar.qazi, ihsan.qazi@lums.edu.pk</a>
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id2.id1" class="ltx_p">Federated learning (FL) is a distributed learning technique that trains a shared model over distributed data in a privacy-preserving manner.
Unfortunately, FL’s performance degrades when there is (i) variability in client characteristics in terms of computational and memory resources (system heterogeneity) and (ii) non-IID data distribution across clients (statistical heterogeneity). For example, slow clients get dropped in FL schemes, such as Federated Averaging (FedAvg), which not only limits overall learning but also biases results towards fast clients.
We propose <span id="id2.id1.1" class="ltx_text ltx_font_sansserif">FedPrune</span>; a system that tackles this challenge by pruning the global model for slow clients based on their device characteristics.
By doing so, slow clients can train a small model quickly and participate in FL which increases test accuracy as well as fairness.
By using insights form Central Limit Theorem, <span id="id2.id1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> incorporates a new aggregation technique which achieves robust performance over non-IID data. Experimental evaluation shows that <span id="id2.id1.3" class="ltx_text ltx_font_sansserif">FedPrune</span> provides robust convergence and better fairness compared to Federated Averaging.</p>
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>none</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Today’s deep neural networks (DNNs) power a wide variety of applications ranging from image classification, speech recognition, to fraud detection <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib18" title="" class="ltx_ref">dnn, </a>)</cite>.
DNNs rely on large amounts of data to make accurate predictions and draw useful inferences.
However, such data is often <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">private</em><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Such data is also known as Personally Identifiable Information (PII).</span></span></span> and thus not readily available due to rising privacy concerns and emerging privacy regulations (e.g., Europe’s GDPR <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib33" title="" class="ltx_ref">gdpr, </a>)</cite> and California Consumer Privacy Act <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib4" title="" class="ltx_ref">ccpa, </a>)</cite>). Lack of useful data can severely limit the effectiveness of DNNs.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Federated learning (FL) is a distributed machine learning technique that tackles this problem by training a global model over data distributed across multiple edge devices (e.g., mobile phones) and sharing the model parameters with a centralized server to aide learning in a privacy preserving manner <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib21" title="" class="ltx_ref">fl, </a>; <a href="#bib.bib34" title="" class="ltx_ref">guideFL, </a>)</cite>.
Unfortunately, FL’s effectiveness degrades when model training involves heterogeneous client devices <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib17" title="" class="ltx_ref">openfl, </a>; <a href="#bib.bib3" title="" class="ltx_ref">flsys, </a>)</cite>; a common case especially in developing countries <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib2" title="" class="ltx_ref">imc_sohaib, </a>; <a href="#bib.bib28" title="" class="ltx_ref">mobile_ccr, </a>)</cite>.
Slow clients are dropped in FL from the training process, which not only limits overall learning for everyone (e.g., by degrading test accuracy and reducing fairness <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib22" title="" class="ltx_ref">agnosticFL, </a>)</cite>) but also biases results and degrades user experience due to systematic exclusion of slow clients.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">We propose <span id="S1.p3.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span>; a system that tackles this challenge by <em id="S1.p3.1.2" class="ltx_emph ltx_font_italic">adapting</em> the model size based on client device capabilities.
Thus, slow clients are served smaller models whereas faster clients train on larger models.
Such an approach offers two key benefits: (i) For IID data, faster clients can enable learning for slow clients including in parts of the model architecture where the slow clients did not train over. This is unlike approaches (e.g., Federated Dropout <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite>), in which all clients are served a subset model of the <em id="S1.p3.1.3" class="ltx_emph ltx_font_italic">same</em> size and (ii) for non-IID data, serving small models to slow clients improves task accuracy as well as fairness while being inclusive (i.e., without dropping of clients).</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To improve robustness over non-IID data (statistical heterogeneity), <span id="S1.p4.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> calculates model parameters for every round of FL using insights from Lyapunov’s Central Limit Theorem (CLT) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib9" title="" class="ltx_ref">feller, </a>)</cite>, which posits that the distribution of the sample mean of independent random variables (which need not necessarily be from <em id="S1.p4.1.2" class="ltx_emph ltx_font_italic">same</em> distribution) converges to a Normal distribution.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">To inform data-driven sub-model selection, <span id="S1.p5.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> initially picks a <em id="S1.p5.1.2" class="ltx_emph ltx_font_italic">random</em> sub-model and asks each slow client to train over the model. After <math id="S1.p5.1.m1.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S1.p5.1.m1.1a"><mi id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><ci id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">r</annotation></semantics></math> rounds, <span id="S1.p5.1.3" class="ltx_text ltx_font_sansserif">FedPrune</span> uses the average post-activation values to sort neurons in each of the hidden layers of the centralized model and then picks a new sub-model based on post activation values.<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>In case of CNN models, we also drop filters.</span></span></span>
This allows neurons with little or no activations to be excluded from the sub-model.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">We carry out extensive evaluation using (i) large-scale simulations involving the LEAF benchmarking framework for learning in federated settings <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">leaf, </a>)</cite> and (ii) small-scale real testbed experiments involving mobile clients with heterogeneous device capabilities.
Experiments show that <span id="S1.p6.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> achieves better test accuracy than Federated Averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib21" title="" class="ltx_ref">fl, </a>)</cite> across several datasets and models including feed-forward neural networks (FNNs), convolution neural networks (CNNs) as well as recurrent neural networks (RNNs). In particular, in settings with systems and data heterogeneity, <span id="S1.p6.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> shows significant advantages in terms of convergence and test accuracy relative to FedAvg.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/mobile_plots/bar_plot_slow_fast_by_device_type.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="337" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Model training times on slow and fast clients. Slow device is the Nokia 1 smartphone (Quadcore, 1 GB RAM) and the fast device is Nexus 6P (Octacore, 3 GB RAM).</figcaption>
</figure>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">Taken together, we make the following contributions in this work:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We design <span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span>; an adaptive model serving framework for FL that adapts model sizes based on client capabilities (§<a href="#S4" title="4. design ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">To achieve better generalization, we propose a CLT-based approach, which outperforms other approaches including FedAvg (§<a href="#S4.SS3" title="4.3. Model Generalization ‣ 4. design ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>).</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We carry our extensive evaluation using large-scale simulations as well as small-scale real testbed experiments over a wide variety of real-world federated datasets. Our results show that <span id="S1.I1.i3.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> achieves robust performance across a range of scenarios (§<a href="#S5" title="5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Problem Motivation</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">It is common for distributed clients in FL to exhibit considerable heterogeneity in terms of computational resources (e.g., CPU cores), network bandwidth, and energy <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>; <a href="#bib.bib29" title="" class="ltx_ref">fedprox, </a>)</cite>. This heterogeneity impacts the accuracy and training time of the FL process, which commonly involves training complex deep learning models comprising large number of parameters.
Consequently, resource-constrained devices (e.g., entry-level smartphones <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib28" title="" class="ltx_ref">mobile_ccr, </a>; <a href="#bib.bib23" title="" class="ltx_ref">theo_memory, </a>)</cite>) are either unable to train the models due to limited computational and memory resources or take a prohibitively long time in training. Such slow clients (or stragglers) are dropped for efficiency reasons in traditional FL, which can (i) degrade test accuracy and (ii) lead to unfairness. On the other hand, waiting for slow clients to report their updates can increase convergence times and degrade user experience.</p>
</div>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/motivation/droprates_variance_test_accuracy_all.png" id="S2.F2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="130" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Impact of systems heterogeneity on the robustness and fairness in FedAvg. As the number of slow clients starts to increase, model performance degrades.</figcaption>
</figure>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">To quantify the impact of serving a large model to slow clients, we train a CNN model (for details, see Section <a href="#S5.SS3" title="5.3. Real Testbed Experiments ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.3</span></a>) for the FEMNIST dataset <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">leaf, </a>)</cite>, and a simple feed-forward neural network for a synthetic dataset (see Appendix <a href="#A1.SS2" title="A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.2</span></a>), and measure the training time on real mobile devices, i.e., Nokia 1 (Quadcore, 1 GB RAM) and Nexus 6P (Octacore, 3 GB RAM). These devices represent slow and fast clients, respectively, and are popular in developing countries <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib28" title="" class="ltx_ref">mobile_ccr, </a>)</cite>.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.9" class="ltx_p">We quantify the training time in FL by varying the model size over which the slow client trains while always serving the large model to the fast client.
Figure <a href="#S1.F1" title="Figure 1 ‣ 1. introduction ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the average training time (per round) for both the devices.
The results show that the slow device takes 3.4<math id="S2.p3.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p3.1.m1.1a"><mo id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><times id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">\times</annotation></semantics></math> longer time compared to the fast device when training the same large model.
When served with the 50% pruned model, the slow device saw a <math id="S2.p3.2.m2.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.p3.2.m2.1a"><mo id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b"><csymbol cd="latexml" id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">\sim</annotation></semantics></math>2.9<math id="S2.p3.3.m3.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p3.3.m3.1a"><mo id="S2.p3.3.m3.1.1" xref="S2.p3.3.m3.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p3.3.m3.1b"><times id="S2.p3.3.m3.1.1.cmml" xref="S2.p3.3.m3.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.3.m3.1c">\times</annotation></semantics></math> reduction in training time (i.e, training time reduced from 33.1 mins to 11.6 mins).
Observe that this improved training time (using 50% model drop rate) is within <math id="S2.p3.4.m4.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.p3.4.m4.1a"><mo id="S2.p3.4.m4.1.1" xref="S2.p3.4.m4.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.p3.4.m4.1b"><csymbol cd="latexml" id="S2.p3.4.m4.1.1.cmml" xref="S2.p3.4.m4.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.4.m4.1c">\sim</annotation></semantics></math>1.1<math id="S2.p3.5.m5.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p3.5.m5.1a"><mo id="S2.p3.5.m5.1.1" xref="S2.p3.5.m5.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p3.5.m5.1b"><times id="S2.p3.5.m5.1.1.cmml" xref="S2.p3.5.m5.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.5.m5.1c">\times</annotation></semantics></math> of fast device’s training time.
We also observe similar improvements in training times on a <span id="S2.p3.9.1" class="ltx_text ltx_font_italic">synthetic</span> dataset with a 1 million parameter FNN. In particular, the slow device takes <math id="S2.p3.6.m6.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.p3.6.m6.1a"><mo id="S2.p3.6.m6.1.1" xref="S2.p3.6.m6.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.p3.6.m6.1b"><csymbol cd="latexml" id="S2.p3.6.m6.1.1.cmml" xref="S2.p3.6.m6.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.6.m6.1c">\sim</annotation></semantics></math>1.5<math id="S2.p3.7.m7.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p3.7.m7.1a"><mo id="S2.p3.7.m7.1.1" xref="S2.p3.7.m7.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p3.7.m7.1b"><times id="S2.p3.7.m7.1.1.cmml" xref="S2.p3.7.m7.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.7.m7.1c">\times</annotation></semantics></math> more time compared to the fast device. We also observe a <math id="S2.p3.8.m8.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S2.p3.8.m8.1a"><mo id="S2.p3.8.m8.1.1" xref="S2.p3.8.m8.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S2.p3.8.m8.1b"><csymbol cd="latexml" id="S2.p3.8.m8.1.1.cmml" xref="S2.p3.8.m8.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.8.m8.1c">\sim</annotation></semantics></math>2<math id="S2.p3.9.m9.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S2.p3.9.m9.1a"><mo id="S2.p3.9.m9.1.1" xref="S2.p3.9.m9.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S2.p3.9.m9.1b"><times id="S2.p3.9.m9.1.1.cmml" xref="S2.p3.9.m9.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.9.m9.1c">\times</annotation></semantics></math> reduction in training times when using a 50% pruned model (see Appendix <a href="#A1.SS2" title="A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.2</span></a>).</p>
</div>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/motivation/adaptive_model_vs_fedavg_small.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="338" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Small vs. Adaptive Model Serving.</figcaption>
</figure>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">We observe that the slow device takes a prohibitively long time (i.e., 33.1 mins) in our testbed, and if we wait for such a client then the overall training will be bounded by this client. However, if we drop such slow clients for efficiency purposes then the test accuracy is impacted as shown in Figure <a href="#S5.F6" title="Figure 6 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. <span id="S2.p4.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> provides an opportunity by serving the small model to slow clients so that they can train and report their updates within a time budget, and our results show that we obtain significant improvement in model training time by serving the small model to the slow client.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p">To further evaluate the impact of slow clients, we simulate different levels of system heterogeneity in LEAF. In particular, we emulate 10%, 30%, 50%, 70% and 90% slow clients and train them on multiple real datasets, i.e., FEMNIST, FMNIST, CIFAR-10, and Sent140 (see Section <a href="#S5" title="5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> for details). Figure <a href="#S2.F2" title="Figure 2 ‣ 2. Problem Motivation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows that in FedAvg, system heterogeneity negatively impacts the robustness and fairness of the model. In FedAvg, as the number of slow devices increases, the performance starts to degrade.
Thus, serving a single model (of the same size) presents a tradeoff.
If we serve a large model to all clients, slow clients may not be able to train the model, which will degrade model’s performance (see Figure <a href="#S2.F2" title="Figure 2 ‣ 2. Problem Motivation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).
However, if we serve a small subset model to all clients, due to complexity of datasets, it may perform poorly. For empirical evidence, we train a subset model (50% pruned) on all clients using the FEMNIST dataset and compare it with <span id="S2.p5.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> w/o CLT, which serves a sub-model to slow clients only.
Figure <a href="#S2.F3" title="Figure 3 ‣ 2. Problem Motivation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows that adaptively serving subset model to only slow clients performs better than serving the small model to all clients.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Background and Related Work</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.7" class="ltx_p">In this work, we focus on synchronous federated learning (FL) algorithms that proceed in rounds of training. These algorithms aim to learn a shared global model with parameters embodied in a real tensor <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}" display="inline"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">𝚪</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝚪</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">\boldsymbol{\Gamma}</annotation></semantics></math> from data stored across a number of distributed clients.
In each round <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="t\geq 0" display="inline"><semantics id="S3.p1.2.m2.1a"><mrow id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">t</mi><mo id="S3.p1.2.m2.1.1.1" xref="S3.p1.2.m2.1.1.1.cmml">≥</mo><mn id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><geq id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"></geq><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝑡</ci><cn type="integer" id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">t\geq 0</annotation></semantics></math>, the server distributes the current global model <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t}" display="inline"><semantics id="S3.p1.3.m3.1a"><msub id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml"><mi id="S3.p1.3.m3.1.1.2" xref="S3.p1.3.m3.1.1.2.cmml">𝚪</mi><mi id="S3.p1.3.m3.1.1.3" xref="S3.p1.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><apply id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p1.3.m3.1.1.1.cmml" xref="S3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.p1.3.m3.1.1.2.cmml" xref="S3.p1.3.m3.1.1.2">𝚪</ci><ci id="S3.p1.3.m3.1.1.3.cmml" xref="S3.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">\boldsymbol{\Gamma}_{t}</annotation></semantics></math> to the set of selected clients <math id="S3.p1.4.m4.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="S3.p1.4.m4.1a"><msub id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml"><mi id="S3.p1.4.m4.1.1.2" xref="S3.p1.4.m4.1.1.2.cmml">S</mi><mi id="S3.p1.4.m4.1.1.3" xref="S3.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><apply id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p1.4.m4.1.1.1.cmml" xref="S3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.p1.4.m4.1.1.2.cmml" xref="S3.p1.4.m4.1.1.2">𝑆</ci><ci id="S3.p1.4.m4.1.1.3.cmml" xref="S3.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">S_{t}</annotation></semantics></math> with a total of <math id="S3.p1.5.m5.1" class="ltx_Math" alttext="n_{t}" display="inline"><semantics id="S3.p1.5.m5.1a"><msub id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml"><mi id="S3.p1.5.m5.1.1.2" xref="S3.p1.5.m5.1.1.2.cmml">n</mi><mi id="S3.p1.5.m5.1.1.3" xref="S3.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><apply id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m5.1.1.1.cmml" xref="S3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.p1.5.m5.1.1.2.cmml" xref="S3.p1.5.m5.1.1.2">𝑛</ci><ci id="S3.p1.5.m5.1.1.3.cmml" xref="S3.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">n_{t}</annotation></semantics></math> data instances.
The selected clients locally execute SGD on their data and independently update the model to produce the updated models {<math id="S3.p1.6.m6.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t}^{k}|k\in S_{t}" display="inline"><semantics id="S3.p1.6.m6.1a"><mrow id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml"><mrow id="S3.p1.6.m6.1.1.2" xref="S3.p1.6.m6.1.1.2.cmml"><msubsup id="S3.p1.6.m6.1.1.2.2" xref="S3.p1.6.m6.1.1.2.2.cmml"><mi id="S3.p1.6.m6.1.1.2.2.2.2" xref="S3.p1.6.m6.1.1.2.2.2.2.cmml">𝚪</mi><mi id="S3.p1.6.m6.1.1.2.2.2.3" xref="S3.p1.6.m6.1.1.2.2.2.3.cmml">t</mi><mi id="S3.p1.6.m6.1.1.2.2.3" xref="S3.p1.6.m6.1.1.2.2.3.cmml">k</mi></msubsup><mo fence="false" id="S3.p1.6.m6.1.1.2.1" xref="S3.p1.6.m6.1.1.2.1.cmml">|</mo><mi id="S3.p1.6.m6.1.1.2.3" xref="S3.p1.6.m6.1.1.2.3.cmml">k</mi></mrow><mo id="S3.p1.6.m6.1.1.1" xref="S3.p1.6.m6.1.1.1.cmml">∈</mo><msub id="S3.p1.6.m6.1.1.3" xref="S3.p1.6.m6.1.1.3.cmml"><mi id="S3.p1.6.m6.1.1.3.2" xref="S3.p1.6.m6.1.1.3.2.cmml">S</mi><mi id="S3.p1.6.m6.1.1.3.3" xref="S3.p1.6.m6.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><apply id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1"><in id="S3.p1.6.m6.1.1.1.cmml" xref="S3.p1.6.m6.1.1.1"></in><apply id="S3.p1.6.m6.1.1.2.cmml" xref="S3.p1.6.m6.1.1.2"><csymbol cd="latexml" id="S3.p1.6.m6.1.1.2.1.cmml" xref="S3.p1.6.m6.1.1.2.1">conditional</csymbol><apply id="S3.p1.6.m6.1.1.2.2.cmml" xref="S3.p1.6.m6.1.1.2.2"><csymbol cd="ambiguous" id="S3.p1.6.m6.1.1.2.2.1.cmml" xref="S3.p1.6.m6.1.1.2.2">superscript</csymbol><apply id="S3.p1.6.m6.1.1.2.2.2.cmml" xref="S3.p1.6.m6.1.1.2.2"><csymbol cd="ambiguous" id="S3.p1.6.m6.1.1.2.2.2.1.cmml" xref="S3.p1.6.m6.1.1.2.2">subscript</csymbol><ci id="S3.p1.6.m6.1.1.2.2.2.2.cmml" xref="S3.p1.6.m6.1.1.2.2.2.2">𝚪</ci><ci id="S3.p1.6.m6.1.1.2.2.2.3.cmml" xref="S3.p1.6.m6.1.1.2.2.2.3">𝑡</ci></apply><ci id="S3.p1.6.m6.1.1.2.2.3.cmml" xref="S3.p1.6.m6.1.1.2.2.3">𝑘</ci></apply><ci id="S3.p1.6.m6.1.1.2.3.cmml" xref="S3.p1.6.m6.1.1.2.3">𝑘</ci></apply><apply id="S3.p1.6.m6.1.1.3.cmml" xref="S3.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.p1.6.m6.1.1.3.1.cmml" xref="S3.p1.6.m6.1.1.3">subscript</csymbol><ci id="S3.p1.6.m6.1.1.3.2.cmml" xref="S3.p1.6.m6.1.1.3.2">𝑆</ci><ci id="S3.p1.6.m6.1.1.3.3.cmml" xref="S3.p1.6.m6.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">\boldsymbol{\Gamma}_{t}^{k}|k\in S_{t}</annotation></semantics></math>}. The update of each client <math id="S3.p1.7.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.p1.7.m7.1a"><mi id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><ci id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">k</annotation></semantics></math> can be expressed as:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.2" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t}^{k}=\boldsymbol{\Gamma}_{t}-\alpha H_{t}^{k},\,\,\,\forall k\in S_{t}" display="block"><semantics id="S3.E1.m1.2a"><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.3.cmml"><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml"><msubsup id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.1.1.1.1.2.2.2" xref="S3.E1.m1.1.1.1.1.2.2.2.cmml">𝚪</mi><mi id="S3.E1.m1.1.1.1.1.2.2.3" xref="S3.E1.m1.1.1.1.1.2.2.3.cmml">t</mi><mi id="S3.E1.m1.1.1.1.1.2.3" xref="S3.E1.m1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.3.cmml"><msub id="S3.E1.m1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.3.2.cmml"><mi id="S3.E1.m1.1.1.1.1.3.2.2" xref="S3.E1.m1.1.1.1.1.3.2.2.cmml">𝚪</mi><mi id="S3.E1.m1.1.1.1.1.3.2.3" xref="S3.E1.m1.1.1.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.E1.m1.1.1.1.1.3.1" xref="S3.E1.m1.1.1.1.1.3.1.cmml">−</mo><mrow id="S3.E1.m1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.2" xref="S3.E1.m1.1.1.1.1.3.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.1.1.1.3.3.1" xref="S3.E1.m1.1.1.1.1.3.3.1.cmml">​</mo><msubsup id="S3.E1.m1.1.1.1.1.3.3.3" xref="S3.E1.m1.1.1.1.1.3.3.3.cmml"><mi id="S3.E1.m1.1.1.1.1.3.3.3.2.2" xref="S3.E1.m1.1.1.1.1.3.3.3.2.2.cmml">H</mi><mi id="S3.E1.m1.1.1.1.1.3.3.3.2.3" xref="S3.E1.m1.1.1.1.1.3.3.3.2.3.cmml">t</mi><mi id="S3.E1.m1.1.1.1.1.3.3.3.3" xref="S3.E1.m1.1.1.1.1.3.3.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><mo rspace="0.667em" id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.3a.cmml">,</mo><mrow id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml"><mrow id="S3.E1.m1.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.cmml"><mo rspace="0.167em" id="S3.E1.m1.2.2.2.2.2.1" xref="S3.E1.m1.2.2.2.2.2.1.cmml">∀</mo><mi id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml">k</mi></mrow><mo id="S3.E1.m1.2.2.2.2.1" xref="S3.E1.m1.2.2.2.2.1.cmml">∈</mo><msub id="S3.E1.m1.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.3.cmml"><mi id="S3.E1.m1.2.2.2.2.3.2" xref="S3.E1.m1.2.2.2.2.3.2.cmml">S</mi><mi id="S3.E1.m1.2.2.2.2.3.3" xref="S3.E1.m1.2.2.2.2.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.2b"><apply id="S3.E1.m1.2.2.3.cmml" xref="S3.E1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.3a.cmml" xref="S3.E1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1"><eq id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"></eq><apply id="S3.E1.m1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.2.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.1.1.1.1.2.2.2">𝚪</ci><ci id="S3.E1.m1.1.1.1.1.2.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.2.3">𝑡</ci></apply><ci id="S3.E1.m1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E1.m1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.3"><minus id="S3.E1.m1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.1"></minus><apply id="S3.E1.m1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.3.2.2">𝚪</ci><ci id="S3.E1.m1.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.3.2.3">𝑡</ci></apply><apply id="S3.E1.m1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3"><times id="S3.E1.m1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.1"></times><ci id="S3.E1.m1.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.2">𝛼</ci><apply id="S3.E1.m1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3">superscript</csymbol><apply id="S3.E1.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.3.3.3.2.1.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.3.3.3.2.2.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3.2.2">𝐻</ci><ci id="S3.E1.m1.1.1.1.1.3.3.3.2.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3.2.3">𝑡</ci></apply><ci id="S3.E1.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E1.m1.1.1.1.1.3.3.3.3">𝑘</ci></apply></apply></apply></apply><apply id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2"><in id="S3.E1.m1.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.1"></in><apply id="S3.E1.m1.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2"><csymbol cd="latexml" id="S3.E1.m1.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2.2.1">for-all</csymbol><ci id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2">𝑘</ci></apply><apply id="S3.E1.m1.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.2.3.2.cmml" xref="S3.E1.m1.2.2.2.2.3.2">𝑆</ci><ci id="S3.E1.m1.2.2.2.2.3.3.cmml" xref="S3.E1.m1.2.2.2.2.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.2c">\boldsymbol{\Gamma}_{t}^{k}=\boldsymbol{\Gamma}_{t}-\alpha H_{t}^{k},\,\,\,\forall k\in S_{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.p1.13" class="ltx_p">where <math id="S3.p1.8.m1.1" class="ltx_Math" alttext="H^{k}_{t}" display="inline"><semantics id="S3.p1.8.m1.1a"><msubsup id="S3.p1.8.m1.1.1" xref="S3.p1.8.m1.1.1.cmml"><mi id="S3.p1.8.m1.1.1.2.2" xref="S3.p1.8.m1.1.1.2.2.cmml">H</mi><mi id="S3.p1.8.m1.1.1.3" xref="S3.p1.8.m1.1.1.3.cmml">t</mi><mi id="S3.p1.8.m1.1.1.2.3" xref="S3.p1.8.m1.1.1.2.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.p1.8.m1.1b"><apply id="S3.p1.8.m1.1.1.cmml" xref="S3.p1.8.m1.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m1.1.1.1.cmml" xref="S3.p1.8.m1.1.1">subscript</csymbol><apply id="S3.p1.8.m1.1.1.2.cmml" xref="S3.p1.8.m1.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m1.1.1.2.1.cmml" xref="S3.p1.8.m1.1.1">superscript</csymbol><ci id="S3.p1.8.m1.1.1.2.2.cmml" xref="S3.p1.8.m1.1.1.2.2">𝐻</ci><ci id="S3.p1.8.m1.1.1.2.3.cmml" xref="S3.p1.8.m1.1.1.2.3">𝑘</ci></apply><ci id="S3.p1.8.m1.1.1.3.cmml" xref="S3.p1.8.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m1.1c">H^{k}_{t}</annotation></semantics></math> is the gradients tensor for client <math id="S3.p1.9.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.p1.9.m2.1a"><mi id="S3.p1.9.m2.1.1" xref="S3.p1.9.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.p1.9.m2.1b"><ci id="S3.p1.9.m2.1.1.cmml" xref="S3.p1.9.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m2.1c">k</annotation></semantics></math> in training round <math id="S3.p1.10.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p1.10.m3.1a"><mi id="S3.p1.10.m3.1.1" xref="S3.p1.10.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p1.10.m3.1b"><ci id="S3.p1.10.m3.1.1.cmml" xref="S3.p1.10.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.10.m3.1c">t</annotation></semantics></math> and <math id="S3.p1.11.m4.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.p1.11.m4.1a"><mi id="S3.p1.11.m4.1.1" xref="S3.p1.11.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.p1.11.m4.1b"><ci id="S3.p1.11.m4.1.1.cmml" xref="S3.p1.11.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.11.m4.1c">\alpha</annotation></semantics></math> is the learning rate chosen by the server. Each selected client <math id="S3.p1.12.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.p1.12.m5.1a"><mi id="S3.p1.12.m5.1.1" xref="S3.p1.12.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.p1.12.m5.1b"><ci id="S3.p1.12.m5.1.1.cmml" xref="S3.p1.12.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.12.m5.1c">k</annotation></semantics></math> then sends the update back to the server, where the new global model (<math id="S3.p1.13.m6.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t+1}" display="inline"><semantics id="S3.p1.13.m6.1a"><msub id="S3.p1.13.m6.1.1" xref="S3.p1.13.m6.1.1.cmml"><mi id="S3.p1.13.m6.1.1.2" xref="S3.p1.13.m6.1.1.2.cmml">𝚪</mi><mrow id="S3.p1.13.m6.1.1.3" xref="S3.p1.13.m6.1.1.3.cmml"><mi id="S3.p1.13.m6.1.1.3.2" xref="S3.p1.13.m6.1.1.3.2.cmml">t</mi><mo id="S3.p1.13.m6.1.1.3.1" xref="S3.p1.13.m6.1.1.3.1.cmml">+</mo><mn id="S3.p1.13.m6.1.1.3.3" xref="S3.p1.13.m6.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p1.13.m6.1b"><apply id="S3.p1.13.m6.1.1.cmml" xref="S3.p1.13.m6.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m6.1.1.1.cmml" xref="S3.p1.13.m6.1.1">subscript</csymbol><ci id="S3.p1.13.m6.1.1.2.cmml" xref="S3.p1.13.m6.1.1.2">𝚪</ci><apply id="S3.p1.13.m6.1.1.3.cmml" xref="S3.p1.13.m6.1.1.3"><plus id="S3.p1.13.m6.1.1.3.1.cmml" xref="S3.p1.13.m6.1.1.3.1"></plus><ci id="S3.p1.13.m6.1.1.3.2.cmml" xref="S3.p1.13.m6.1.1.3.2">𝑡</ci><cn type="integer" id="S3.p1.13.m6.1.1.3.3.cmml" xref="S3.p1.13.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.13.m6.1c">\boldsymbol{\Gamma}_{t+1}</annotation></semantics></math>) is constructed by aggregating all client-side updates as follows:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t+1}=\sum_{\forall k\in S_{t}}\frac{n_{k}}{n_{t}}\cdot\boldsymbol{\Gamma}_{t}^{k}" display="block"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><msub id="S3.E2.m1.1.1.2" xref="S3.E2.m1.1.1.2.cmml"><mi id="S3.E2.m1.1.1.2.2" xref="S3.E2.m1.1.1.2.2.cmml">𝚪</mi><mrow id="S3.E2.m1.1.1.2.3" xref="S3.E2.m1.1.1.2.3.cmml"><mi id="S3.E2.m1.1.1.2.3.2" xref="S3.E2.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.E2.m1.1.1.2.3.1" xref="S3.E2.m1.1.1.2.3.1.cmml">+</mo><mn id="S3.E2.m1.1.1.2.3.3" xref="S3.E2.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo rspace="0.111em" id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3.cmml"><munder id="S3.E2.m1.1.1.3.1" xref="S3.E2.m1.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E2.m1.1.1.3.1.2" xref="S3.E2.m1.1.1.3.1.2.cmml">∑</mo><mrow id="S3.E2.m1.1.1.3.1.3" xref="S3.E2.m1.1.1.3.1.3.cmml"><mrow id="S3.E2.m1.1.1.3.1.3.2" xref="S3.E2.m1.1.1.3.1.3.2.cmml"><mo rspace="0.167em" id="S3.E2.m1.1.1.3.1.3.2.1" xref="S3.E2.m1.1.1.3.1.3.2.1.cmml">∀</mo><mi id="S3.E2.m1.1.1.3.1.3.2.2" xref="S3.E2.m1.1.1.3.1.3.2.2.cmml">k</mi></mrow><mo id="S3.E2.m1.1.1.3.1.3.1" xref="S3.E2.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="S3.E2.m1.1.1.3.1.3.3" xref="S3.E2.m1.1.1.3.1.3.3.cmml"><mi id="S3.E2.m1.1.1.3.1.3.3.2" xref="S3.E2.m1.1.1.3.1.3.3.2.cmml">S</mi><mi id="S3.E2.m1.1.1.3.1.3.3.3" xref="S3.E2.m1.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></munder><mrow id="S3.E2.m1.1.1.3.2" xref="S3.E2.m1.1.1.3.2.cmml"><mfrac id="S3.E2.m1.1.1.3.2.2" xref="S3.E2.m1.1.1.3.2.2.cmml"><msub id="S3.E2.m1.1.1.3.2.2.2" xref="S3.E2.m1.1.1.3.2.2.2.cmml"><mi id="S3.E2.m1.1.1.3.2.2.2.2" xref="S3.E2.m1.1.1.3.2.2.2.2.cmml">n</mi><mi id="S3.E2.m1.1.1.3.2.2.2.3" xref="S3.E2.m1.1.1.3.2.2.2.3.cmml">k</mi></msub><msub id="S3.E2.m1.1.1.3.2.2.3" xref="S3.E2.m1.1.1.3.2.2.3.cmml"><mi id="S3.E2.m1.1.1.3.2.2.3.2" xref="S3.E2.m1.1.1.3.2.2.3.2.cmml">n</mi><mi id="S3.E2.m1.1.1.3.2.2.3.3" xref="S3.E2.m1.1.1.3.2.2.3.3.cmml">t</mi></msub></mfrac><mo lspace="0.222em" rspace="0.222em" id="S3.E2.m1.1.1.3.2.1" xref="S3.E2.m1.1.1.3.2.1.cmml">⋅</mo><msubsup id="S3.E2.m1.1.1.3.2.3" xref="S3.E2.m1.1.1.3.2.3.cmml"><mi id="S3.E2.m1.1.1.3.2.3.2.2" xref="S3.E2.m1.1.1.3.2.3.2.2.cmml">𝚪</mi><mi id="S3.E2.m1.1.1.3.2.3.2.3" xref="S3.E2.m1.1.1.3.2.3.2.3.cmml">t</mi><mi id="S3.E2.m1.1.1.3.2.3.3" xref="S3.E2.m1.1.1.3.2.3.3.cmml">k</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><eq id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"></eq><apply id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.1.1.2.2.cmml" xref="S3.E2.m1.1.1.2.2">𝚪</ci><apply id="S3.E2.m1.1.1.2.3.cmml" xref="S3.E2.m1.1.1.2.3"><plus id="S3.E2.m1.1.1.2.3.1.cmml" xref="S3.E2.m1.1.1.2.3.1"></plus><ci id="S3.E2.m1.1.1.2.3.2.cmml" xref="S3.E2.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E2.m1.1.1.2.3.3.cmml" xref="S3.E2.m1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3"><apply id="S3.E2.m1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.1.1.cmml" xref="S3.E2.m1.1.1.3.1">subscript</csymbol><sum id="S3.E2.m1.1.1.3.1.2.cmml" xref="S3.E2.m1.1.1.3.1.2"></sum><apply id="S3.E2.m1.1.1.3.1.3.cmml" xref="S3.E2.m1.1.1.3.1.3"><in id="S3.E2.m1.1.1.3.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1.3.1"></in><apply id="S3.E2.m1.1.1.3.1.3.2.cmml" xref="S3.E2.m1.1.1.3.1.3.2"><csymbol cd="latexml" id="S3.E2.m1.1.1.3.1.3.2.1.cmml" xref="S3.E2.m1.1.1.3.1.3.2.1">for-all</csymbol><ci id="S3.E2.m1.1.1.3.1.3.2.2.cmml" xref="S3.E2.m1.1.1.3.1.3.2.2">𝑘</ci></apply><apply id="S3.E2.m1.1.1.3.1.3.3.cmml" xref="S3.E2.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.1.3.3.1.cmml" xref="S3.E2.m1.1.1.3.1.3.3">subscript</csymbol><ci id="S3.E2.m1.1.1.3.1.3.3.2.cmml" xref="S3.E2.m1.1.1.3.1.3.3.2">𝑆</ci><ci id="S3.E2.m1.1.1.3.1.3.3.3.cmml" xref="S3.E2.m1.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E2.m1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.3.2"><ci id="S3.E2.m1.1.1.3.2.1.cmml" xref="S3.E2.m1.1.1.3.2.1">⋅</ci><apply id="S3.E2.m1.1.1.3.2.2.cmml" xref="S3.E2.m1.1.1.3.2.2"><divide id="S3.E2.m1.1.1.3.2.2.1.cmml" xref="S3.E2.m1.1.1.3.2.2"></divide><apply id="S3.E2.m1.1.1.3.2.2.2.cmml" xref="S3.E2.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.2.2.1.cmml" xref="S3.E2.m1.1.1.3.2.2.2">subscript</csymbol><ci id="S3.E2.m1.1.1.3.2.2.2.2.cmml" xref="S3.E2.m1.1.1.3.2.2.2.2">𝑛</ci><ci id="S3.E2.m1.1.1.3.2.2.2.3.cmml" xref="S3.E2.m1.1.1.3.2.2.2.3">𝑘</ci></apply><apply id="S3.E2.m1.1.1.3.2.2.3.cmml" xref="S3.E2.m1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.2.3.1.cmml" xref="S3.E2.m1.1.1.3.2.2.3">subscript</csymbol><ci id="S3.E2.m1.1.1.3.2.2.3.2.cmml" xref="S3.E2.m1.1.1.3.2.2.3.2">𝑛</ci><ci id="S3.E2.m1.1.1.3.2.2.3.3.cmml" xref="S3.E2.m1.1.1.3.2.2.3.3">𝑡</ci></apply></apply><apply id="S3.E2.m1.1.1.3.2.3.cmml" xref="S3.E2.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.3.1.cmml" xref="S3.E2.m1.1.1.3.2.3">superscript</csymbol><apply id="S3.E2.m1.1.1.3.2.3.2.cmml" xref="S3.E2.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.3.2.1.cmml" xref="S3.E2.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.E2.m1.1.1.3.2.3.2.2.cmml" xref="S3.E2.m1.1.1.3.2.3.2.2">𝚪</ci><ci id="S3.E2.m1.1.1.3.2.3.2.3.cmml" xref="S3.E2.m1.1.1.3.2.3.2.3">𝑡</ci></apply><ci id="S3.E2.m1.1.1.3.2.3.3.cmml" xref="S3.E2.m1.1.1.3.2.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\boldsymbol{\Gamma}_{t+1}=\sum_{\forall k\in S_{t}}\frac{n_{k}}{n_{t}}\cdot\boldsymbol{\Gamma}_{t}^{k}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.p1.17" class="ltx_p">where <math id="S3.p1.14.m1.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.p1.14.m1.1a"><msub id="S3.p1.14.m1.1.1" xref="S3.p1.14.m1.1.1.cmml"><mi id="S3.p1.14.m1.1.1.2" xref="S3.p1.14.m1.1.1.2.cmml">n</mi><mi id="S3.p1.14.m1.1.1.3" xref="S3.p1.14.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.14.m1.1b"><apply id="S3.p1.14.m1.1.1.cmml" xref="S3.p1.14.m1.1.1"><csymbol cd="ambiguous" id="S3.p1.14.m1.1.1.1.cmml" xref="S3.p1.14.m1.1.1">subscript</csymbol><ci id="S3.p1.14.m1.1.1.2.cmml" xref="S3.p1.14.m1.1.1.2">𝑛</ci><ci id="S3.p1.14.m1.1.1.3.cmml" xref="S3.p1.14.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.14.m1.1c">n_{k}</annotation></semantics></math> is the number of data instances of client <math id="S3.p1.15.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.p1.15.m2.1a"><mi id="S3.p1.15.m2.1.1" xref="S3.p1.15.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.p1.15.m2.1b"><ci id="S3.p1.15.m2.1.1.cmml" xref="S3.p1.15.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.15.m2.1c">c</annotation></semantics></math> and <math id="S3.p1.16.m3.1" class="ltx_Math" alttext="n_{t}=\sum_{\forall k\in S_{t}}n_{k}" display="inline"><semantics id="S3.p1.16.m3.1a"><mrow id="S3.p1.16.m3.1.1" xref="S3.p1.16.m3.1.1.cmml"><msub id="S3.p1.16.m3.1.1.2" xref="S3.p1.16.m3.1.1.2.cmml"><mi id="S3.p1.16.m3.1.1.2.2" xref="S3.p1.16.m3.1.1.2.2.cmml">n</mi><mi id="S3.p1.16.m3.1.1.2.3" xref="S3.p1.16.m3.1.1.2.3.cmml">t</mi></msub><mo rspace="0.111em" id="S3.p1.16.m3.1.1.1" xref="S3.p1.16.m3.1.1.1.cmml">=</mo><mrow id="S3.p1.16.m3.1.1.3" xref="S3.p1.16.m3.1.1.3.cmml"><msub id="S3.p1.16.m3.1.1.3.1" xref="S3.p1.16.m3.1.1.3.1.cmml"><mo id="S3.p1.16.m3.1.1.3.1.2" xref="S3.p1.16.m3.1.1.3.1.2.cmml">∑</mo><mrow id="S3.p1.16.m3.1.1.3.1.3" xref="S3.p1.16.m3.1.1.3.1.3.cmml"><mrow id="S3.p1.16.m3.1.1.3.1.3.2" xref="S3.p1.16.m3.1.1.3.1.3.2.cmml"><mo rspace="0.167em" id="S3.p1.16.m3.1.1.3.1.3.2.1" xref="S3.p1.16.m3.1.1.3.1.3.2.1.cmml">∀</mo><mi id="S3.p1.16.m3.1.1.3.1.3.2.2" xref="S3.p1.16.m3.1.1.3.1.3.2.2.cmml">k</mi></mrow><mo id="S3.p1.16.m3.1.1.3.1.3.1" xref="S3.p1.16.m3.1.1.3.1.3.1.cmml">∈</mo><msub id="S3.p1.16.m3.1.1.3.1.3.3" xref="S3.p1.16.m3.1.1.3.1.3.3.cmml"><mi id="S3.p1.16.m3.1.1.3.1.3.3.2" xref="S3.p1.16.m3.1.1.3.1.3.3.2.cmml">S</mi><mi id="S3.p1.16.m3.1.1.3.1.3.3.3" xref="S3.p1.16.m3.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><msub id="S3.p1.16.m3.1.1.3.2" xref="S3.p1.16.m3.1.1.3.2.cmml"><mi id="S3.p1.16.m3.1.1.3.2.2" xref="S3.p1.16.m3.1.1.3.2.2.cmml">n</mi><mi id="S3.p1.16.m3.1.1.3.2.3" xref="S3.p1.16.m3.1.1.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.16.m3.1b"><apply id="S3.p1.16.m3.1.1.cmml" xref="S3.p1.16.m3.1.1"><eq id="S3.p1.16.m3.1.1.1.cmml" xref="S3.p1.16.m3.1.1.1"></eq><apply id="S3.p1.16.m3.1.1.2.cmml" xref="S3.p1.16.m3.1.1.2"><csymbol cd="ambiguous" id="S3.p1.16.m3.1.1.2.1.cmml" xref="S3.p1.16.m3.1.1.2">subscript</csymbol><ci id="S3.p1.16.m3.1.1.2.2.cmml" xref="S3.p1.16.m3.1.1.2.2">𝑛</ci><ci id="S3.p1.16.m3.1.1.2.3.cmml" xref="S3.p1.16.m3.1.1.2.3">𝑡</ci></apply><apply id="S3.p1.16.m3.1.1.3.cmml" xref="S3.p1.16.m3.1.1.3"><apply id="S3.p1.16.m3.1.1.3.1.cmml" xref="S3.p1.16.m3.1.1.3.1"><csymbol cd="ambiguous" id="S3.p1.16.m3.1.1.3.1.1.cmml" xref="S3.p1.16.m3.1.1.3.1">subscript</csymbol><sum id="S3.p1.16.m3.1.1.3.1.2.cmml" xref="S3.p1.16.m3.1.1.3.1.2"></sum><apply id="S3.p1.16.m3.1.1.3.1.3.cmml" xref="S3.p1.16.m3.1.1.3.1.3"><in id="S3.p1.16.m3.1.1.3.1.3.1.cmml" xref="S3.p1.16.m3.1.1.3.1.3.1"></in><apply id="S3.p1.16.m3.1.1.3.1.3.2.cmml" xref="S3.p1.16.m3.1.1.3.1.3.2"><csymbol cd="latexml" id="S3.p1.16.m3.1.1.3.1.3.2.1.cmml" xref="S3.p1.16.m3.1.1.3.1.3.2.1">for-all</csymbol><ci id="S3.p1.16.m3.1.1.3.1.3.2.2.cmml" xref="S3.p1.16.m3.1.1.3.1.3.2.2">𝑘</ci></apply><apply id="S3.p1.16.m3.1.1.3.1.3.3.cmml" xref="S3.p1.16.m3.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.p1.16.m3.1.1.3.1.3.3.1.cmml" xref="S3.p1.16.m3.1.1.3.1.3.3">subscript</csymbol><ci id="S3.p1.16.m3.1.1.3.1.3.3.2.cmml" xref="S3.p1.16.m3.1.1.3.1.3.3.2">𝑆</ci><ci id="S3.p1.16.m3.1.1.3.1.3.3.3.cmml" xref="S3.p1.16.m3.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.16.m3.1.1.3.2.cmml" xref="S3.p1.16.m3.1.1.3.2"><csymbol cd="ambiguous" id="S3.p1.16.m3.1.1.3.2.1.cmml" xref="S3.p1.16.m3.1.1.3.2">subscript</csymbol><ci id="S3.p1.16.m3.1.1.3.2.2.cmml" xref="S3.p1.16.m3.1.1.3.2.2">𝑛</ci><ci id="S3.p1.16.m3.1.1.3.2.3.cmml" xref="S3.p1.16.m3.1.1.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.16.m3.1c">n_{t}=\sum_{\forall k\in S_{t}}n_{k}</annotation></semantics></math>. Hence, <math id="S3.p1.17.m4.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t+1}" display="inline"><semantics id="S3.p1.17.m4.1a"><msub id="S3.p1.17.m4.1.1" xref="S3.p1.17.m4.1.1.cmml"><mi id="S3.p1.17.m4.1.1.2" xref="S3.p1.17.m4.1.1.2.cmml">𝚪</mi><mrow id="S3.p1.17.m4.1.1.3" xref="S3.p1.17.m4.1.1.3.cmml"><mi id="S3.p1.17.m4.1.1.3.2" xref="S3.p1.17.m4.1.1.3.2.cmml">t</mi><mo id="S3.p1.17.m4.1.1.3.1" xref="S3.p1.17.m4.1.1.3.1.cmml">+</mo><mn id="S3.p1.17.m4.1.1.3.3" xref="S3.p1.17.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p1.17.m4.1b"><apply id="S3.p1.17.m4.1.1.cmml" xref="S3.p1.17.m4.1.1"><csymbol cd="ambiguous" id="S3.p1.17.m4.1.1.1.cmml" xref="S3.p1.17.m4.1.1">subscript</csymbol><ci id="S3.p1.17.m4.1.1.2.cmml" xref="S3.p1.17.m4.1.1.2">𝚪</ci><apply id="S3.p1.17.m4.1.1.3.cmml" xref="S3.p1.17.m4.1.1.3"><plus id="S3.p1.17.m4.1.1.3.1.cmml" xref="S3.p1.17.m4.1.1.3.1"></plus><ci id="S3.p1.17.m4.1.1.3.2.cmml" xref="S3.p1.17.m4.1.1.3.2">𝑡</ci><cn type="integer" id="S3.p1.17.m4.1.1.3.3.cmml" xref="S3.p1.17.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.17.m4.1c">\boldsymbol{\Gamma}_{t+1}</annotation></semantics></math> can be written as:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\boldsymbol{\Gamma}_{t+1}=\boldsymbol{\Gamma}_{t}-\alpha_{t}H_{t}" display="block"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml"><msub id="S3.E3.m1.1.1.2" xref="S3.E3.m1.1.1.2.cmml"><mi id="S3.E3.m1.1.1.2.2" xref="S3.E3.m1.1.1.2.2.cmml">𝚪</mi><mrow id="S3.E3.m1.1.1.2.3" xref="S3.E3.m1.1.1.2.3.cmml"><mi id="S3.E3.m1.1.1.2.3.2" xref="S3.E3.m1.1.1.2.3.2.cmml">t</mi><mo id="S3.E3.m1.1.1.2.3.1" xref="S3.E3.m1.1.1.2.3.1.cmml">+</mo><mn id="S3.E3.m1.1.1.2.3.3" xref="S3.E3.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.cmml">=</mo><mrow id="S3.E3.m1.1.1.3" xref="S3.E3.m1.1.1.3.cmml"><msub id="S3.E3.m1.1.1.3.2" xref="S3.E3.m1.1.1.3.2.cmml"><mi id="S3.E3.m1.1.1.3.2.2" xref="S3.E3.m1.1.1.3.2.2.cmml">𝚪</mi><mi id="S3.E3.m1.1.1.3.2.3" xref="S3.E3.m1.1.1.3.2.3.cmml">t</mi></msub><mo id="S3.E3.m1.1.1.3.1" xref="S3.E3.m1.1.1.3.1.cmml">−</mo><mrow id="S3.E3.m1.1.1.3.3" xref="S3.E3.m1.1.1.3.3.cmml"><msub id="S3.E3.m1.1.1.3.3.2" xref="S3.E3.m1.1.1.3.3.2.cmml"><mi id="S3.E3.m1.1.1.3.3.2.2" xref="S3.E3.m1.1.1.3.3.2.2.cmml">α</mi><mi id="S3.E3.m1.1.1.3.3.2.3" xref="S3.E3.m1.1.1.3.3.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.3.3.1" xref="S3.E3.m1.1.1.3.3.1.cmml">​</mo><msub id="S3.E3.m1.1.1.3.3.3" xref="S3.E3.m1.1.1.3.3.3.cmml"><mi id="S3.E3.m1.1.1.3.3.3.2" xref="S3.E3.m1.1.1.3.3.3.2.cmml">H</mi><mi id="S3.E3.m1.1.1.3.3.3.3" xref="S3.E3.m1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1"><eq id="S3.E3.m1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"></eq><apply id="S3.E3.m1.1.1.2.cmml" xref="S3.E3.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.2.2">𝚪</ci><apply id="S3.E3.m1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.2.3"><plus id="S3.E3.m1.1.1.2.3.1.cmml" xref="S3.E3.m1.1.1.2.3.1"></plus><ci id="S3.E3.m1.1.1.2.3.2.cmml" xref="S3.E3.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.1.1.2.3.3.cmml" xref="S3.E3.m1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E3.m1.1.1.3.cmml" xref="S3.E3.m1.1.1.3"><minus id="S3.E3.m1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.3.1"></minus><apply id="S3.E3.m1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.3.2.1.cmml" xref="S3.E3.m1.1.1.3.2">subscript</csymbol><ci id="S3.E3.m1.1.1.3.2.2.cmml" xref="S3.E3.m1.1.1.3.2.2">𝚪</ci><ci id="S3.E3.m1.1.1.3.2.3.cmml" xref="S3.E3.m1.1.1.3.2.3">𝑡</ci></apply><apply id="S3.E3.m1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.3.3"><times id="S3.E3.m1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.3.3.1"></times><apply id="S3.E3.m1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.3.3.2.1.cmml" xref="S3.E3.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.E3.m1.1.1.3.3.2.2.cmml" xref="S3.E3.m1.1.1.3.3.2.2">𝛼</ci><ci id="S3.E3.m1.1.1.3.3.2.3.cmml" xref="S3.E3.m1.1.1.3.3.2.3">𝑡</ci></apply><apply id="S3.E3.m1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.3.3.3.1.cmml" xref="S3.E3.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.E3.m1.1.1.3.3.3.2.cmml" xref="S3.E3.m1.1.1.3.3.3.2">𝐻</ci><ci id="S3.E3.m1.1.1.3.3.3.3.cmml" xref="S3.E3.m1.1.1.3.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\boldsymbol{\Gamma}_{t+1}=\boldsymbol{\Gamma}_{t}-\alpha_{t}H_{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.p1.18" class="ltx_p">where <math id="S3.p1.18.m1.1" class="ltx_Math" alttext="H_{t}=\frac{1}{n_{t}}\sum_{k\in S_{t}}n_{k}H^{k}_{t}" display="inline"><semantics id="S3.p1.18.m1.1a"><mrow id="S3.p1.18.m1.1.1" xref="S3.p1.18.m1.1.1.cmml"><msub id="S3.p1.18.m1.1.1.2" xref="S3.p1.18.m1.1.1.2.cmml"><mi id="S3.p1.18.m1.1.1.2.2" xref="S3.p1.18.m1.1.1.2.2.cmml">H</mi><mi id="S3.p1.18.m1.1.1.2.3" xref="S3.p1.18.m1.1.1.2.3.cmml">t</mi></msub><mo id="S3.p1.18.m1.1.1.1" xref="S3.p1.18.m1.1.1.1.cmml">=</mo><mrow id="S3.p1.18.m1.1.1.3" xref="S3.p1.18.m1.1.1.3.cmml"><mfrac id="S3.p1.18.m1.1.1.3.2" xref="S3.p1.18.m1.1.1.3.2.cmml"><mn id="S3.p1.18.m1.1.1.3.2.2" xref="S3.p1.18.m1.1.1.3.2.2.cmml">1</mn><msub id="S3.p1.18.m1.1.1.3.2.3" xref="S3.p1.18.m1.1.1.3.2.3.cmml"><mi id="S3.p1.18.m1.1.1.3.2.3.2" xref="S3.p1.18.m1.1.1.3.2.3.2.cmml">n</mi><mi id="S3.p1.18.m1.1.1.3.2.3.3" xref="S3.p1.18.m1.1.1.3.2.3.3.cmml">t</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.p1.18.m1.1.1.3.1" xref="S3.p1.18.m1.1.1.3.1.cmml">​</mo><mrow id="S3.p1.18.m1.1.1.3.3" xref="S3.p1.18.m1.1.1.3.3.cmml"><msub id="S3.p1.18.m1.1.1.3.3.1" xref="S3.p1.18.m1.1.1.3.3.1.cmml"><mo id="S3.p1.18.m1.1.1.3.3.1.2" xref="S3.p1.18.m1.1.1.3.3.1.2.cmml">∑</mo><mrow id="S3.p1.18.m1.1.1.3.3.1.3" xref="S3.p1.18.m1.1.1.3.3.1.3.cmml"><mi id="S3.p1.18.m1.1.1.3.3.1.3.2" xref="S3.p1.18.m1.1.1.3.3.1.3.2.cmml">k</mi><mo id="S3.p1.18.m1.1.1.3.3.1.3.1" xref="S3.p1.18.m1.1.1.3.3.1.3.1.cmml">∈</mo><msub id="S3.p1.18.m1.1.1.3.3.1.3.3" xref="S3.p1.18.m1.1.1.3.3.1.3.3.cmml"><mi id="S3.p1.18.m1.1.1.3.3.1.3.3.2" xref="S3.p1.18.m1.1.1.3.3.1.3.3.2.cmml">S</mi><mi id="S3.p1.18.m1.1.1.3.3.1.3.3.3" xref="S3.p1.18.m1.1.1.3.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="S3.p1.18.m1.1.1.3.3.2" xref="S3.p1.18.m1.1.1.3.3.2.cmml"><msub id="S3.p1.18.m1.1.1.3.3.2.2" xref="S3.p1.18.m1.1.1.3.3.2.2.cmml"><mi id="S3.p1.18.m1.1.1.3.3.2.2.2" xref="S3.p1.18.m1.1.1.3.3.2.2.2.cmml">n</mi><mi id="S3.p1.18.m1.1.1.3.3.2.2.3" xref="S3.p1.18.m1.1.1.3.3.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.p1.18.m1.1.1.3.3.2.1" xref="S3.p1.18.m1.1.1.3.3.2.1.cmml">​</mo><msubsup id="S3.p1.18.m1.1.1.3.3.2.3" xref="S3.p1.18.m1.1.1.3.3.2.3.cmml"><mi id="S3.p1.18.m1.1.1.3.3.2.3.2.2" xref="S3.p1.18.m1.1.1.3.3.2.3.2.2.cmml">H</mi><mi id="S3.p1.18.m1.1.1.3.3.2.3.3" xref="S3.p1.18.m1.1.1.3.3.2.3.3.cmml">t</mi><mi id="S3.p1.18.m1.1.1.3.3.2.3.2.3" xref="S3.p1.18.m1.1.1.3.3.2.3.2.3.cmml">k</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.18.m1.1b"><apply id="S3.p1.18.m1.1.1.cmml" xref="S3.p1.18.m1.1.1"><eq id="S3.p1.18.m1.1.1.1.cmml" xref="S3.p1.18.m1.1.1.1"></eq><apply id="S3.p1.18.m1.1.1.2.cmml" xref="S3.p1.18.m1.1.1.2"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.2.1.cmml" xref="S3.p1.18.m1.1.1.2">subscript</csymbol><ci id="S3.p1.18.m1.1.1.2.2.cmml" xref="S3.p1.18.m1.1.1.2.2">𝐻</ci><ci id="S3.p1.18.m1.1.1.2.3.cmml" xref="S3.p1.18.m1.1.1.2.3">𝑡</ci></apply><apply id="S3.p1.18.m1.1.1.3.cmml" xref="S3.p1.18.m1.1.1.3"><times id="S3.p1.18.m1.1.1.3.1.cmml" xref="S3.p1.18.m1.1.1.3.1"></times><apply id="S3.p1.18.m1.1.1.3.2.cmml" xref="S3.p1.18.m1.1.1.3.2"><divide id="S3.p1.18.m1.1.1.3.2.1.cmml" xref="S3.p1.18.m1.1.1.3.2"></divide><cn type="integer" id="S3.p1.18.m1.1.1.3.2.2.cmml" xref="S3.p1.18.m1.1.1.3.2.2">1</cn><apply id="S3.p1.18.m1.1.1.3.2.3.cmml" xref="S3.p1.18.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.2.3.1.cmml" xref="S3.p1.18.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.p1.18.m1.1.1.3.2.3.2.cmml" xref="S3.p1.18.m1.1.1.3.2.3.2">𝑛</ci><ci id="S3.p1.18.m1.1.1.3.2.3.3.cmml" xref="S3.p1.18.m1.1.1.3.2.3.3">𝑡</ci></apply></apply><apply id="S3.p1.18.m1.1.1.3.3.cmml" xref="S3.p1.18.m1.1.1.3.3"><apply id="S3.p1.18.m1.1.1.3.3.1.cmml" xref="S3.p1.18.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.3.1.1.cmml" xref="S3.p1.18.m1.1.1.3.3.1">subscript</csymbol><sum id="S3.p1.18.m1.1.1.3.3.1.2.cmml" xref="S3.p1.18.m1.1.1.3.3.1.2"></sum><apply id="S3.p1.18.m1.1.1.3.3.1.3.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3"><in id="S3.p1.18.m1.1.1.3.3.1.3.1.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.1"></in><ci id="S3.p1.18.m1.1.1.3.3.1.3.2.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.2">𝑘</ci><apply id="S3.p1.18.m1.1.1.3.3.1.3.3.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.3"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.3.1.3.3.1.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.3">subscript</csymbol><ci id="S3.p1.18.m1.1.1.3.3.1.3.3.2.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.3.2">𝑆</ci><ci id="S3.p1.18.m1.1.1.3.3.1.3.3.3.cmml" xref="S3.p1.18.m1.1.1.3.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p1.18.m1.1.1.3.3.2.cmml" xref="S3.p1.18.m1.1.1.3.3.2"><times id="S3.p1.18.m1.1.1.3.3.2.1.cmml" xref="S3.p1.18.m1.1.1.3.3.2.1"></times><apply id="S3.p1.18.m1.1.1.3.3.2.2.cmml" xref="S3.p1.18.m1.1.1.3.3.2.2"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.3.2.2.1.cmml" xref="S3.p1.18.m1.1.1.3.3.2.2">subscript</csymbol><ci id="S3.p1.18.m1.1.1.3.3.2.2.2.cmml" xref="S3.p1.18.m1.1.1.3.3.2.2.2">𝑛</ci><ci id="S3.p1.18.m1.1.1.3.3.2.2.3.cmml" xref="S3.p1.18.m1.1.1.3.3.2.2.3">𝑘</ci></apply><apply id="S3.p1.18.m1.1.1.3.3.2.3.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.3.2.3.1.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3">subscript</csymbol><apply id="S3.p1.18.m1.1.1.3.3.2.3.2.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.p1.18.m1.1.1.3.3.2.3.2.1.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3">superscript</csymbol><ci id="S3.p1.18.m1.1.1.3.3.2.3.2.2.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3.2.2">𝐻</ci><ci id="S3.p1.18.m1.1.1.3.3.2.3.2.3.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3.2.3">𝑘</ci></apply><ci id="S3.p1.18.m1.1.1.3.3.2.3.3.cmml" xref="S3.p1.18.m1.1.1.3.3.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.18.m1.1c">H_{t}=\frac{1}{n_{t}}\sum_{k\in S_{t}}n_{k}H^{k}_{t}</annotation></semantics></math>.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Our goal in this paper is to come up with a framework for reducing the computational and memory overhead of models served to slow clients.
Our work is motivated by the observation that increasingly clients, especially in developing countries, are constrained by their hardware resources (e.g., memory, number of CPU cores) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib28" title="" class="ltx_ref">mobile_ccr, </a>; <a href="#bib.bib2" title="" class="ltx_ref">imc_sohaib, </a>; <a href="#bib.bib10" title="" class="ltx_ref">imc16_video, </a>; <a href="#bib.bib1" title="" class="ltx_ref">android_memory_google, </a>)</cite>.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p"><span id="S3.p3.1.1" class="ltx_text ltx_font_bold">Fairness in FL</span>.
Due to the heterogeneity in client devices and data in federated networks, it is possible that the performance of a model will vary significantly across the network. This concern, also known as representation disparity, is a major challenge in FL, as it can potentially result in uneven outcomes for the devices.
Following Li et al. <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib19" title="" class="ltx_ref">ditto, </a>)</cite>, we provide a formal definition of this fairness in the context of FL below.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.8" class="ltx_p"><span id="S3.p4.8.9" class="ltx_text ltx_font_bold">Definition.</span> <em id="S3.p4.8.8" class="ltx_emph ltx_font_italic">We say that a model <math id="S3.p4.1.1.m1.1" class="ltx_Math" alttext="W_{1}" display="inline"><semantics id="S3.p4.1.1.m1.1a"><msub id="S3.p4.1.1.m1.1.1" xref="S3.p4.1.1.m1.1.1.cmml"><mi id="S3.p4.1.1.m1.1.1.2" xref="S3.p4.1.1.m1.1.1.2.cmml">W</mi><mn id="S3.p4.1.1.m1.1.1.3" xref="S3.p4.1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.1.1.m1.1b"><apply id="S3.p4.1.1.m1.1.1.cmml" xref="S3.p4.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p4.1.1.m1.1.1.1.cmml" xref="S3.p4.1.1.m1.1.1">subscript</csymbol><ci id="S3.p4.1.1.m1.1.1.2.cmml" xref="S3.p4.1.1.m1.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.1.1.m1.1.1.3.cmml" xref="S3.p4.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.1.m1.1c">W_{1}</annotation></semantics></math> is more fair than <math id="S3.p4.2.2.m2.1" class="ltx_Math" alttext="W_{2}" display="inline"><semantics id="S3.p4.2.2.m2.1a"><msub id="S3.p4.2.2.m2.1.1" xref="S3.p4.2.2.m2.1.1.cmml"><mi id="S3.p4.2.2.m2.1.1.2" xref="S3.p4.2.2.m2.1.1.2.cmml">W</mi><mn id="S3.p4.2.2.m2.1.1.3" xref="S3.p4.2.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.2.2.m2.1b"><apply id="S3.p4.2.2.m2.1.1.cmml" xref="S3.p4.2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p4.2.2.m2.1.1.1.cmml" xref="S3.p4.2.2.m2.1.1">subscript</csymbol><ci id="S3.p4.2.2.m2.1.1.2.cmml" xref="S3.p4.2.2.m2.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.2.2.m2.1.1.3.cmml" xref="S3.p4.2.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.2.m2.1c">W_{2}</annotation></semantics></math> if the test performance distribution of <math id="S3.p4.3.3.m3.1" class="ltx_Math" alttext="W_{1}" display="inline"><semantics id="S3.p4.3.3.m3.1a"><msub id="S3.p4.3.3.m3.1.1" xref="S3.p4.3.3.m3.1.1.cmml"><mi id="S3.p4.3.3.m3.1.1.2" xref="S3.p4.3.3.m3.1.1.2.cmml">W</mi><mn id="S3.p4.3.3.m3.1.1.3" xref="S3.p4.3.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.3.3.m3.1b"><apply id="S3.p4.3.3.m3.1.1.cmml" xref="S3.p4.3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p4.3.3.m3.1.1.1.cmml" xref="S3.p4.3.3.m3.1.1">subscript</csymbol><ci id="S3.p4.3.3.m3.1.1.2.cmml" xref="S3.p4.3.3.m3.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.3.3.m3.1.1.3.cmml" xref="S3.p4.3.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.3.3.m3.1c">W_{1}</annotation></semantics></math> across the network is more uniform than that of <math id="S3.p4.4.4.m4.1" class="ltx_Math" alttext="W_{2}" display="inline"><semantics id="S3.p4.4.4.m4.1a"><msub id="S3.p4.4.4.m4.1.1" xref="S3.p4.4.4.m4.1.1.cmml"><mi id="S3.p4.4.4.m4.1.1.2" xref="S3.p4.4.4.m4.1.1.2.cmml">W</mi><mn id="S3.p4.4.4.m4.1.1.3" xref="S3.p4.4.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p4.4.4.m4.1b"><apply id="S3.p4.4.4.m4.1.1.cmml" xref="S3.p4.4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p4.4.4.m4.1.1.1.cmml" xref="S3.p4.4.4.m4.1.1">subscript</csymbol><ci id="S3.p4.4.4.m4.1.1.2.cmml" xref="S3.p4.4.4.m4.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.4.4.m4.1.1.3.cmml" xref="S3.p4.4.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.4.4.m4.1c">W_{2}</annotation></semantics></math>, i.e., <math id="S3.p4.5.5.m5.4" class="ltx_Math" alttext="std\{F_{k}(W_{1})\}_{k\in[K]}&lt;std\{F_{k}(W_{2})\}_{k\in[K]}" display="inline"><semantics id="S3.p4.5.5.m5.4a"><mrow id="S3.p4.5.5.m5.4.4" xref="S3.p4.5.5.m5.4.4.cmml"><mrow id="S3.p4.5.5.m5.3.3.1" xref="S3.p4.5.5.m5.3.3.1.cmml"><mi id="S3.p4.5.5.m5.3.3.1.3" xref="S3.p4.5.5.m5.3.3.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.3.3.1.2" xref="S3.p4.5.5.m5.3.3.1.2.cmml">​</mo><mi id="S3.p4.5.5.m5.3.3.1.4" xref="S3.p4.5.5.m5.3.3.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.3.3.1.2a" xref="S3.p4.5.5.m5.3.3.1.2.cmml">​</mo><mi id="S3.p4.5.5.m5.3.3.1.5" xref="S3.p4.5.5.m5.3.3.1.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.3.3.1.2b" xref="S3.p4.5.5.m5.3.3.1.2.cmml">​</mo><msub id="S3.p4.5.5.m5.3.3.1.1" xref="S3.p4.5.5.m5.3.3.1.1.cmml"><mrow id="S3.p4.5.5.m5.3.3.1.1.1.1" xref="S3.p4.5.5.m5.3.3.1.1.1.2.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.3.3.1.1.1.1.2" xref="S3.p4.5.5.m5.3.3.1.1.1.2.cmml">{</mo><mrow id="S3.p4.5.5.m5.3.3.1.1.1.1.1" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.cmml"><msub id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.cmml"><mi id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.2" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.2.cmml">F</mi><mi id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.3" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.2" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.2" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.2" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.2.cmml">W</mi><mn id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.3" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo stretchy="false" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.3" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.p4.5.5.m5.3.3.1.1.1.1.3" xref="S3.p4.5.5.m5.3.3.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.p4.5.5.m5.1.1.1" xref="S3.p4.5.5.m5.1.1.1.cmml"><mi id="S3.p4.5.5.m5.1.1.1.3" xref="S3.p4.5.5.m5.1.1.1.3.cmml">k</mi><mo id="S3.p4.5.5.m5.1.1.1.2" xref="S3.p4.5.5.m5.1.1.1.2.cmml">∈</mo><mrow id="S3.p4.5.5.m5.1.1.1.4.2" xref="S3.p4.5.5.m5.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.1.1.1.4.2.1" xref="S3.p4.5.5.m5.1.1.1.4.1.1.cmml">[</mo><mi id="S3.p4.5.5.m5.1.1.1.1" xref="S3.p4.5.5.m5.1.1.1.1.cmml">K</mi><mo stretchy="false" id="S3.p4.5.5.m5.1.1.1.4.2.2" xref="S3.p4.5.5.m5.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub></mrow><mo id="S3.p4.5.5.m5.4.4.3" xref="S3.p4.5.5.m5.4.4.3.cmml">&lt;</mo><mrow id="S3.p4.5.5.m5.4.4.2" xref="S3.p4.5.5.m5.4.4.2.cmml"><mi id="S3.p4.5.5.m5.4.4.2.3" xref="S3.p4.5.5.m5.4.4.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.4.4.2.2" xref="S3.p4.5.5.m5.4.4.2.2.cmml">​</mo><mi id="S3.p4.5.5.m5.4.4.2.4" xref="S3.p4.5.5.m5.4.4.2.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.4.4.2.2a" xref="S3.p4.5.5.m5.4.4.2.2.cmml">​</mo><mi id="S3.p4.5.5.m5.4.4.2.5" xref="S3.p4.5.5.m5.4.4.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.4.4.2.2b" xref="S3.p4.5.5.m5.4.4.2.2.cmml">​</mo><msub id="S3.p4.5.5.m5.4.4.2.1" xref="S3.p4.5.5.m5.4.4.2.1.cmml"><mrow id="S3.p4.5.5.m5.4.4.2.1.1.1" xref="S3.p4.5.5.m5.4.4.2.1.1.2.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.4.4.2.1.1.1.2" xref="S3.p4.5.5.m5.4.4.2.1.1.2.cmml">{</mo><mrow id="S3.p4.5.5.m5.4.4.2.1.1.1.1" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.cmml"><msub id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.cmml"><mi id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.2" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.2.cmml">F</mi><mi id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.3" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.2" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.2" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.cmml"><mi id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.2" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.2.cmml">W</mi><mn id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.3" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.3.cmml">2</mn></msub><mo stretchy="false" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.3" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.p4.5.5.m5.4.4.2.1.1.1.3" xref="S3.p4.5.5.m5.4.4.2.1.1.2.cmml">}</mo></mrow><mrow id="S3.p4.5.5.m5.2.2.1" xref="S3.p4.5.5.m5.2.2.1.cmml"><mi id="S3.p4.5.5.m5.2.2.1.3" xref="S3.p4.5.5.m5.2.2.1.3.cmml">k</mi><mo id="S3.p4.5.5.m5.2.2.1.2" xref="S3.p4.5.5.m5.2.2.1.2.cmml">∈</mo><mrow id="S3.p4.5.5.m5.2.2.1.4.2" xref="S3.p4.5.5.m5.2.2.1.4.1.cmml"><mo stretchy="false" id="S3.p4.5.5.m5.2.2.1.4.2.1" xref="S3.p4.5.5.m5.2.2.1.4.1.1.cmml">[</mo><mi id="S3.p4.5.5.m5.2.2.1.1" xref="S3.p4.5.5.m5.2.2.1.1.cmml">K</mi><mo stretchy="false" id="S3.p4.5.5.m5.2.2.1.4.2.2" xref="S3.p4.5.5.m5.2.2.1.4.1.1.cmml">]</mo></mrow></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.5.5.m5.4b"><apply id="S3.p4.5.5.m5.4.4.cmml" xref="S3.p4.5.5.m5.4.4"><lt id="S3.p4.5.5.m5.4.4.3.cmml" xref="S3.p4.5.5.m5.4.4.3"></lt><apply id="S3.p4.5.5.m5.3.3.1.cmml" xref="S3.p4.5.5.m5.3.3.1"><times id="S3.p4.5.5.m5.3.3.1.2.cmml" xref="S3.p4.5.5.m5.3.3.1.2"></times><ci id="S3.p4.5.5.m5.3.3.1.3.cmml" xref="S3.p4.5.5.m5.3.3.1.3">𝑠</ci><ci id="S3.p4.5.5.m5.3.3.1.4.cmml" xref="S3.p4.5.5.m5.3.3.1.4">𝑡</ci><ci id="S3.p4.5.5.m5.3.3.1.5.cmml" xref="S3.p4.5.5.m5.3.3.1.5">𝑑</ci><apply id="S3.p4.5.5.m5.3.3.1.1.cmml" xref="S3.p4.5.5.m5.3.3.1.1"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.3.3.1.1.2.cmml" xref="S3.p4.5.5.m5.3.3.1.1">subscript</csymbol><set id="S3.p4.5.5.m5.3.3.1.1.1.2.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1"><apply id="S3.p4.5.5.m5.3.3.1.1.1.1.1.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1"><times id="S3.p4.5.5.m5.3.3.1.1.1.1.1.2.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.2"></times><apply id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.1.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.2.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.2">𝐹</ci><ci id="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.3.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.3.3">𝑘</ci></apply><apply id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.p4.5.5.m5.3.3.1.1.1.1.1.1.1.1.3">1</cn></apply></apply></set><apply id="S3.p4.5.5.m5.1.1.1.cmml" xref="S3.p4.5.5.m5.1.1.1"><in id="S3.p4.5.5.m5.1.1.1.2.cmml" xref="S3.p4.5.5.m5.1.1.1.2"></in><ci id="S3.p4.5.5.m5.1.1.1.3.cmml" xref="S3.p4.5.5.m5.1.1.1.3">𝑘</ci><apply id="S3.p4.5.5.m5.1.1.1.4.1.cmml" xref="S3.p4.5.5.m5.1.1.1.4.2"><csymbol cd="latexml" id="S3.p4.5.5.m5.1.1.1.4.1.1.cmml" xref="S3.p4.5.5.m5.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.p4.5.5.m5.1.1.1.1.cmml" xref="S3.p4.5.5.m5.1.1.1.1">𝐾</ci></apply></apply></apply></apply><apply id="S3.p4.5.5.m5.4.4.2.cmml" xref="S3.p4.5.5.m5.4.4.2"><times id="S3.p4.5.5.m5.4.4.2.2.cmml" xref="S3.p4.5.5.m5.4.4.2.2"></times><ci id="S3.p4.5.5.m5.4.4.2.3.cmml" xref="S3.p4.5.5.m5.4.4.2.3">𝑠</ci><ci id="S3.p4.5.5.m5.4.4.2.4.cmml" xref="S3.p4.5.5.m5.4.4.2.4">𝑡</ci><ci id="S3.p4.5.5.m5.4.4.2.5.cmml" xref="S3.p4.5.5.m5.4.4.2.5">𝑑</ci><apply id="S3.p4.5.5.m5.4.4.2.1.cmml" xref="S3.p4.5.5.m5.4.4.2.1"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.4.4.2.1.2.cmml" xref="S3.p4.5.5.m5.4.4.2.1">subscript</csymbol><set id="S3.p4.5.5.m5.4.4.2.1.1.2.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1"><apply id="S3.p4.5.5.m5.4.4.2.1.1.1.1.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1"><times id="S3.p4.5.5.m5.4.4.2.1.1.1.1.2.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.2"></times><apply id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.1.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3">subscript</csymbol><ci id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.2.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.2">𝐹</ci><ci id="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.3.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.3.3">𝑘</ci></apply><apply id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.1.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.2.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.2">𝑊</ci><cn type="integer" id="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.3.cmml" xref="S3.p4.5.5.m5.4.4.2.1.1.1.1.1.1.1.3">2</cn></apply></apply></set><apply id="S3.p4.5.5.m5.2.2.1.cmml" xref="S3.p4.5.5.m5.2.2.1"><in id="S3.p4.5.5.m5.2.2.1.2.cmml" xref="S3.p4.5.5.m5.2.2.1.2"></in><ci id="S3.p4.5.5.m5.2.2.1.3.cmml" xref="S3.p4.5.5.m5.2.2.1.3">𝑘</ci><apply id="S3.p4.5.5.m5.2.2.1.4.1.cmml" xref="S3.p4.5.5.m5.2.2.1.4.2"><csymbol cd="latexml" id="S3.p4.5.5.m5.2.2.1.4.1.1.cmml" xref="S3.p4.5.5.m5.2.2.1.4.2.1">delimited-[]</csymbol><ci id="S3.p4.5.5.m5.2.2.1.1.cmml" xref="S3.p4.5.5.m5.2.2.1.1">𝐾</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.5.5.m5.4c">std\{F_{k}(W_{1})\}_{k\in[K]}&lt;std\{F_{k}(W_{2})\}_{k\in[K]}</annotation></semantics></math> where <math id="S3.p4.6.6.m6.1" class="ltx_Math" alttext="F_{k}(\cdot)" display="inline"><semantics id="S3.p4.6.6.m6.1a"><mrow id="S3.p4.6.6.m6.1.2" xref="S3.p4.6.6.m6.1.2.cmml"><msub id="S3.p4.6.6.m6.1.2.2" xref="S3.p4.6.6.m6.1.2.2.cmml"><mi id="S3.p4.6.6.m6.1.2.2.2" xref="S3.p4.6.6.m6.1.2.2.2.cmml">F</mi><mi id="S3.p4.6.6.m6.1.2.2.3" xref="S3.p4.6.6.m6.1.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.p4.6.6.m6.1.2.1" xref="S3.p4.6.6.m6.1.2.1.cmml">​</mo><mrow id="S3.p4.6.6.m6.1.2.3.2" xref="S3.p4.6.6.m6.1.2.cmml"><mo stretchy="false" id="S3.p4.6.6.m6.1.2.3.2.1" xref="S3.p4.6.6.m6.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.p4.6.6.m6.1.1" xref="S3.p4.6.6.m6.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.p4.6.6.m6.1.2.3.2.2" xref="S3.p4.6.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.6.6.m6.1b"><apply id="S3.p4.6.6.m6.1.2.cmml" xref="S3.p4.6.6.m6.1.2"><times id="S3.p4.6.6.m6.1.2.1.cmml" xref="S3.p4.6.6.m6.1.2.1"></times><apply id="S3.p4.6.6.m6.1.2.2.cmml" xref="S3.p4.6.6.m6.1.2.2"><csymbol cd="ambiguous" id="S3.p4.6.6.m6.1.2.2.1.cmml" xref="S3.p4.6.6.m6.1.2.2">subscript</csymbol><ci id="S3.p4.6.6.m6.1.2.2.2.cmml" xref="S3.p4.6.6.m6.1.2.2.2">𝐹</ci><ci id="S3.p4.6.6.m6.1.2.2.3.cmml" xref="S3.p4.6.6.m6.1.2.2.3">𝑘</ci></apply><ci id="S3.p4.6.6.m6.1.1.cmml" xref="S3.p4.6.6.m6.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.6.6.m6.1c">F_{k}(\cdot)</annotation></semantics></math> denotes the test loss on device <math id="S3.p4.7.7.m7.1" class="ltx_Math" alttext="k\in[K]" display="inline"><semantics id="S3.p4.7.7.m7.1a"><mrow id="S3.p4.7.7.m7.1.2" xref="S3.p4.7.7.m7.1.2.cmml"><mi id="S3.p4.7.7.m7.1.2.2" xref="S3.p4.7.7.m7.1.2.2.cmml">k</mi><mo id="S3.p4.7.7.m7.1.2.1" xref="S3.p4.7.7.m7.1.2.1.cmml">∈</mo><mrow id="S3.p4.7.7.m7.1.2.3.2" xref="S3.p4.7.7.m7.1.2.3.1.cmml"><mo stretchy="false" id="S3.p4.7.7.m7.1.2.3.2.1" xref="S3.p4.7.7.m7.1.2.3.1.1.cmml">[</mo><mi id="S3.p4.7.7.m7.1.1" xref="S3.p4.7.7.m7.1.1.cmml">K</mi><mo stretchy="false" id="S3.p4.7.7.m7.1.2.3.2.2" xref="S3.p4.7.7.m7.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.7.7.m7.1b"><apply id="S3.p4.7.7.m7.1.2.cmml" xref="S3.p4.7.7.m7.1.2"><in id="S3.p4.7.7.m7.1.2.1.cmml" xref="S3.p4.7.7.m7.1.2.1"></in><ci id="S3.p4.7.7.m7.1.2.2.cmml" xref="S3.p4.7.7.m7.1.2.2">𝑘</ci><apply id="S3.p4.7.7.m7.1.2.3.1.cmml" xref="S3.p4.7.7.m7.1.2.3.2"><csymbol cd="latexml" id="S3.p4.7.7.m7.1.2.3.1.1.cmml" xref="S3.p4.7.7.m7.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.p4.7.7.m7.1.1.cmml" xref="S3.p4.7.7.m7.1.1">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.7.7.m7.1c">k\in[K]</annotation></semantics></math>, and <math id="S3.p4.8.8.m8.1" class="ltx_Math" alttext="std\{\cdot\}" display="inline"><semantics id="S3.p4.8.8.m8.1a"><mrow id="S3.p4.8.8.m8.1.2" xref="S3.p4.8.8.m8.1.2.cmml"><mi id="S3.p4.8.8.m8.1.2.2" xref="S3.p4.8.8.m8.1.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S3.p4.8.8.m8.1.2.1" xref="S3.p4.8.8.m8.1.2.1.cmml">​</mo><mi id="S3.p4.8.8.m8.1.2.3" xref="S3.p4.8.8.m8.1.2.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.p4.8.8.m8.1.2.1a" xref="S3.p4.8.8.m8.1.2.1.cmml">​</mo><mi id="S3.p4.8.8.m8.1.2.4" xref="S3.p4.8.8.m8.1.2.4.cmml">d</mi><mo lspace="0em" rspace="0em" id="S3.p4.8.8.m8.1.2.1b" xref="S3.p4.8.8.m8.1.2.1.cmml">​</mo><mrow id="S3.p4.8.8.m8.1.2.5.2" xref="S3.p4.8.8.m8.1.2.5.1.cmml"><mo stretchy="false" id="S3.p4.8.8.m8.1.2.5.2.1" xref="S3.p4.8.8.m8.1.2.5.1.cmml">{</mo><mo lspace="0em" rspace="0em" id="S3.p4.8.8.m8.1.1" xref="S3.p4.8.8.m8.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.p4.8.8.m8.1.2.5.2.2" xref="S3.p4.8.8.m8.1.2.5.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.8.8.m8.1b"><apply id="S3.p4.8.8.m8.1.2.cmml" xref="S3.p4.8.8.m8.1.2"><times id="S3.p4.8.8.m8.1.2.1.cmml" xref="S3.p4.8.8.m8.1.2.1"></times><ci id="S3.p4.8.8.m8.1.2.2.cmml" xref="S3.p4.8.8.m8.1.2.2">𝑠</ci><ci id="S3.p4.8.8.m8.1.2.3.cmml" xref="S3.p4.8.8.m8.1.2.3">𝑡</ci><ci id="S3.p4.8.8.m8.1.2.4.cmml" xref="S3.p4.8.8.m8.1.2.4">𝑑</ci><set id="S3.p4.8.8.m8.1.2.5.1.cmml" xref="S3.p4.8.8.m8.1.2.5.2"><ci id="S3.p4.8.8.m8.1.1.cmml" xref="S3.p4.8.8.m8.1.1">⋅</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.8.8.m8.1c">std\{\cdot\}</annotation></semantics></math> denotes the standard deviation.</em></p>
</div>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.1" class="ltx_p">We note that there exists a tension between variance and utility in the definition above; in general, the goal is to <em id="S3.p5.1.1" class="ltx_emph ltx_font_italic">lower</em> the variance while maintaining a reasonable average performance (e.g., average test accuracy).
Several prior works have separately considered either fairness or robustness in federated learning. For instance, fairness strategies include using minimax optimization to focus on the worst-performing devices <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib35" title="" class="ltx_ref">asyncFL, </a>; <a href="#bib.bib15" title="" class="ltx_ref">multi-fairness, </a>)</cite> or reweighting the devices to allow for a flexible fairness/accuracy tradeoff (e.g., <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib20" title="" class="ltx_ref">fairq, </a>)</cite>).</p>
</div>
<div id="S3.p6" class="ltx_para">
<p id="S3.p6.1" class="ltx_p"><span id="S3.p6.1.1" class="ltx_text ltx_font_bold">Reducing model size</span>. To reduce the neural network complexity, different techniques have been proposed in the literature. Diao et al. <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib8" title="" class="ltx_ref">diao2020heterofl, </a>)</cite> proposed a framework HeteroFL to reduce the computation and communication cost by training local models created from a single global model based on clients’ device characteristics. Jiang et al. <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib16" title="" class="ltx_ref">jiang2019model, </a>)</cite> proposed the adaptive and distributed model pruning technique (PruneFL) in which it performs the initial pruning by picking a client randomly using its local data, and further adaptive pruning using importance measure to adapt the model size during the training process. The limitation of this work includes: (i) initial pruning can be biased towards the selected client (ii) initial pruned model may not load into the memory if there are more resource constrained devices (e.g., less RAM, CPU cores) in the pool than the selected one. Tan et al. <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib31" title="" class="ltx_ref">tan2020dropnet, </a>)</cite> proposed an iterative approach (DropNet) in non-FL settings to remove neurons and filters as the training progresses.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>design</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p"><span id="S4.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> has the following key design features:</p>
</div>
<div id="S4.p2" class="ltx_para">
<ol id="S4.I1" class="ltx_enumerate">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><em id="S4.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Differential model serving</em>. Clients are served models based on their capabilities. Thus, slow clients are served a small model whereas fast clients are served large models.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><em id="S4.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Sub-model selection using activations.</em> Small sub-models are selected for slow clients based on post-activation values.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><em id="S4.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">Model generalization using insights from the Central Limit Theorem</em>. To improve performance robustness especially over non-IID datasets, we use a CLT based approach to choose model parameters.</p>
</div>
</li>
</ol>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Differential Model Serving (DMS)</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">DMS has several benefits compared to serving the <em id="S4.SS1.p1.1.1" class="ltx_emph ltx_font_italic">same</em> model to all clients participating in FL.
First, due to the large heterogeneity in mobile device characteristics, training a single model over all clients can lead to widely different training times, which can result in frequent dropping of slow clients from FL<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Note that some clients may not be able to run large models at all due to memory constraints.</span></span></span>, potentially leading to unfairness across clients <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>; <a href="#bib.bib3" title="" class="ltx_ref">flsys, </a>; <a href="#bib.bib19" title="" class="ltx_ref">ditto, </a>)</cite>.
Second, it is difficult to choose a single model that allows all clients to participate in FL training while achieving high accuracy; small models can degrade model accuracy whereas large models lead to dropping of slow clients.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">DMS addresses these challenges by allowing model sizes to be adapted based on device characteristics such as number of CPU cores, memory size, and GPU characteristics (if present). Thus, slow clients are served smaller models than faster clients. This improves fairness by reducing dropping of clients from the FL process.
In case of IID datasets, large clients can help slow clients by sharing model weights not included in the sub-model served to slow clients.
When the dataset is non-IID, DMS incorporates learning of all clients unlike schemes that drop clients altogether.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">Existing schemes like FedProx <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib29" title="" class="ltx_ref">fedprox, </a>)</cite> serve the same global model to all clients and incorporate partial work done by slow clients. It assumes that slow clients can train for at least a few epochs. In reality, some clients may not be able to train a large model at all. Moreover, incorporating partial work based on only a few epochs can slow convergence (e.g., training loss may be too high when trained for only a few epochs).
Schemes like Federated Dropout <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite> serve models of the same size to all clients in each round. Again, the subset model may be too large for some slow clients to complete training, which can lead to dropouts. Moreover, it is unclear if we can pick one-size-fits-all model, which simultaneously achieves high accuracy and reasonable model training time.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Sub-model Selection</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Given a model size (e.g., defined in terms of the dropout rate), a key design question in <span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> is, “<em id="S4.SS2.p1.1.2" class="ltx_emph ltx_font_italic">which sub-model should we serve to slow clients?</em>”.
Clearly, there are many possible sub-models one can pick.
In a feed-forward network, suppose we allow dropping of neurons from all layers including the input and output layers, then the number of distinct models are lower bounded by <math id="S4.SS2.p1.1.m1.6" class="ltx_math_unparsed" alttext="\binom{n_{1}}{\lfloor f.n_{1}\rfloor}\binom{n_{2}}{\lfloor f.n_{2}\rfloor}..\binom{n_{l}}{\lfloor f.n_{l}\rfloor}" display="inline"><semantics id="S4.SS2.p1.1.m1.6a"><mrow id="S4.SS2.p1.1.m1.6b"><mrow id="S4.SS2.p1.1.m1.2.2.4"><mo id="S4.SS2.p1.1.m1.2.2.4.1">(</mo><mfrac linethickness="0pt" id="S4.SS2.p1.1.m1.2.2.2.2"><msub id="S4.SS2.p1.1.m1.1.1.1.1.1.1"><mi id="S4.SS2.p1.1.m1.1.1.1.1.1.1.3">n</mi><mn id="S4.SS2.p1.1.m1.1.1.1.1.1.1.4">1</mn></msub><mrow id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2a"><mo stretchy="false" id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2a.2">⌊</mo><mrow id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2.1.1"><mi id="S4.SS2.p1.1.m1.2.2.2.2.2.1.1">f</mi><mo lspace="0em" rspace="0.167em" id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2.1.1.2">.</mo><msub id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2.1.1.1"><mi id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2.1.1.1.2">n</mi><mn id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2.1.1.1.3">1</mn></msub></mrow><mo stretchy="false" id="S4.SS2.p1.1.m1.2.2.2.2.2.1.2a.3">⌋</mo></mrow></mfrac><mo id="S4.SS2.p1.1.m1.2.2.4.2">)</mo></mrow><mrow id="S4.SS2.p1.1.m1.4.4.4"><mo id="S4.SS2.p1.1.m1.4.4.4.1">(</mo><mfrac linethickness="0pt" id="S4.SS2.p1.1.m1.4.4.2.2"><msub id="S4.SS2.p1.1.m1.3.3.1.1.1.1"><mi id="S4.SS2.p1.1.m1.3.3.1.1.1.1.3">n</mi><mn id="S4.SS2.p1.1.m1.3.3.1.1.1.1.4">2</mn></msub><mrow id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2a"><mo stretchy="false" id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2a.2">⌊</mo><mrow id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2.1.1"><mi id="S4.SS2.p1.1.m1.4.4.2.2.2.1.1">f</mi><mo lspace="0em" rspace="0.167em" id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2.1.1.2">.</mo><msub id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2.1.1.1"><mi id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2.1.1.1.2">n</mi><mn id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2.1.1.1.3">2</mn></msub></mrow><mo stretchy="false" id="S4.SS2.p1.1.m1.4.4.2.2.2.1.2a.3">⌋</mo></mrow></mfrac><mo id="S4.SS2.p1.1.m1.4.4.4.2">)</mo></mrow><mo lspace="0em" rspace="0.0835em" id="S4.SS2.p1.1.m1.6.7">.</mo><mo lspace="0.0835em" rspace="0.167em" id="S4.SS2.p1.1.m1.6.8">.</mo><mrow id="S4.SS2.p1.1.m1.6.6.4"><mo id="S4.SS2.p1.1.m1.6.6.4.1">(</mo><mfrac linethickness="0pt" id="S4.SS2.p1.1.m1.6.6.2.2"><msub id="S4.SS2.p1.1.m1.5.5.1.1.1.1"><mi id="S4.SS2.p1.1.m1.5.5.1.1.1.1.3">n</mi><mi id="S4.SS2.p1.1.m1.5.5.1.1.1.1.4">l</mi></msub><mrow id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2a"><mo stretchy="false" id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2a.2">⌊</mo><mrow id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2.1.1"><mi id="S4.SS2.p1.1.m1.6.6.2.2.2.1.1">f</mi><mo lspace="0em" rspace="0.167em" id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2.1.1.2">.</mo><msub id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2.1.1.1"><mi id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2.1.1.1.2">n</mi><mi id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2.1.1.1.3">l</mi></msub></mrow><mo stretchy="false" id="S4.SS2.p1.1.m1.6.6.2.2.2.1.2a.3">⌋</mo></mrow></mfrac><mo id="S4.SS2.p1.1.m1.6.6.4.2">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.6c">\binom{n_{1}}{\lfloor f.n_{1}\rfloor}\binom{n_{2}}{\lfloor f.n_{2}\rfloor}..\binom{n_{l}}{\lfloor f.n_{l}\rfloor}</annotation></semantics></math>.
Thus, it is challenging to find the best model architecture among such a large set of possible sub-models.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.3" class="ltx_p">We address this challenge by two strategies.
First, we bootstrap the FL process by choosing a random sub-model and allowing slow clients to train over the model for the first <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">r</annotation></semantics></math> rounds.
This allows us to assess the parts of sub-model that contribute the most to the machine learning task.
Second, after <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">r</annotation></semantics></math> rounds we choose a new subset model based on the post-activation values of neurons (in case of CNN models, filters too) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib32" title="" class="ltx_ref">dropnet, </a>)</cite>.
In particular, we sort neurons based on their post activation values and pick the top <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mi id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">m</annotation></semantics></math> neurons that satisfy the model size constraint.
This allows neurons with no or small activations to be excluded from the subset model as well as allows neurons with large activations trained by only fast clients to be included in the subset model.
Thus, this approach enables better model selection than randomly picking models in each round or choosing a different random model in each round.<cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite></p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">When combing activations from slow and fast clients, it is important to combine them carefully.
In particular, model parameters that are trained by both slow and fast clients will have more samples to be averaged over compared to model parameters involving only fast clients.
Thus, fast clients may dominate in average post-activation values or significantly impact sub-model selection (e.g., if their neurons end up high in the sorted order of post activation values).
To address this issue, we assign equal weight to model parameters trained by slow clients and fast clients.
However, these weights can be adapted to prioritize relative learning by slow and fast clients (e.g., based on whether the dataset is IID or non-IID).</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Model Generalization</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.2" class="ltx_p">Training a model in FL is challenging due to the statistical variations in data samples distributed across clients, which impacts both model accuracy as well as model convergence <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib29" title="" class="ltx_ref">fedprox, </a>; <a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite>.
This is a particularly challenging problem when the data is non-IID and
is exacerbated by the fact that in each round, FL picks <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">k</annotation></semantics></math> <em id="S4.SS3.p1.2.1" class="ltx_emph ltx_font_italic">random</em> clients for training from a pool of <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">N</annotation></semantics></math> clients.
To generalize model training, we appeal to the Lyapunov’s Central Limit Theorem (CLT), which posits that the distribution of the sample mean of independent random variables (which need not necessarily be from <em id="S4.SS3.p1.2.2" class="ltx_emph ltx_font_italic">same</em> distribution) converges to a Normal distribution.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.10" class="ltx_p">We consider the setting, where each client <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">i</annotation></semantics></math> draws independent samples from a distribution <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="D_{i}" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><msub id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">D</mi><mi id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝐷</ci><ci id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">D_{i}</annotation></semantics></math> with finite mean <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="\mu_{i}" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><msub id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">μ</mi><mi id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝜇</ci><ci id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">\mu_{i}</annotation></semantics></math> and finite variance <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="\sigma_{i}" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><msub id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1.2" xref="S4.SS3.p2.4.m4.1.1.2.cmml">σ</mi><mi id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.2">𝜎</ci><ci id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\sigma_{i}</annotation></semantics></math>. Let <math id="S4.SS3.p2.5.m5.1" class="ltx_Math" alttext="X^{i}_{j}\sim D_{i}" display="inline"><semantics id="S4.SS3.p2.5.m5.1a"><mrow id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><msubsup id="S4.SS3.p2.5.m5.1.1.2" xref="S4.SS3.p2.5.m5.1.1.2.cmml"><mi id="S4.SS3.p2.5.m5.1.1.2.2.2" xref="S4.SS3.p2.5.m5.1.1.2.2.2.cmml">X</mi><mi id="S4.SS3.p2.5.m5.1.1.2.3" xref="S4.SS3.p2.5.m5.1.1.2.3.cmml">j</mi><mi id="S4.SS3.p2.5.m5.1.1.2.2.3" xref="S4.SS3.p2.5.m5.1.1.2.2.3.cmml">i</mi></msubsup><mo id="S4.SS3.p2.5.m5.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.cmml">∼</mo><msub id="S4.SS3.p2.5.m5.1.1.3" xref="S4.SS3.p2.5.m5.1.1.3.cmml"><mi id="S4.SS3.p2.5.m5.1.1.3.2" xref="S4.SS3.p2.5.m5.1.1.3.2.cmml">D</mi><mi id="S4.SS3.p2.5.m5.1.1.3.3" xref="S4.SS3.p2.5.m5.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><csymbol cd="latexml" id="S4.SS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1">similar-to</csymbol><apply id="S4.SS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.2.1.cmml" xref="S4.SS3.p2.5.m5.1.1.2">subscript</csymbol><apply id="S4.SS3.p2.5.m5.1.1.2.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.2.2.1.cmml" xref="S4.SS3.p2.5.m5.1.1.2">superscript</csymbol><ci id="S4.SS3.p2.5.m5.1.1.2.2.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2.2.2">𝑋</ci><ci id="S4.SS3.p2.5.m5.1.1.2.2.3.cmml" xref="S4.SS3.p2.5.m5.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS3.p2.5.m5.1.1.2.3.cmml" xref="S4.SS3.p2.5.m5.1.1.2.3">𝑗</ci></apply><apply id="S4.SS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.3.1.cmml" xref="S4.SS3.p2.5.m5.1.1.3">subscript</csymbol><ci id="S4.SS3.p2.5.m5.1.1.3.2.cmml" xref="S4.SS3.p2.5.m5.1.1.3.2">𝐷</ci><ci id="S4.SS3.p2.5.m5.1.1.3.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">X^{i}_{j}\sim D_{i}</annotation></semantics></math> be the random variable denoting weight of the <math id="S4.SS3.p2.6.m6.1" class="ltx_Math" alttext="jth" display="inline"><semantics id="S4.SS3.p2.6.m6.1a"><mrow id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml"><mi id="S4.SS3.p2.6.m6.1.1.2" xref="S4.SS3.p2.6.m6.1.1.2.cmml">j</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.6.m6.1.1.1" xref="S4.SS3.p2.6.m6.1.1.1.cmml">​</mo><mi id="S4.SS3.p2.6.m6.1.1.3" xref="S4.SS3.p2.6.m6.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.6.m6.1.1.1a" xref="S4.SS3.p2.6.m6.1.1.1.cmml">​</mo><mi id="S4.SS3.p2.6.m6.1.1.4" xref="S4.SS3.p2.6.m6.1.1.4.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><apply id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1"><times id="S4.SS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1.1"></times><ci id="S4.SS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2">𝑗</ci><ci id="S4.SS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.p2.6.m6.1.1.3">𝑡</ci><ci id="S4.SS3.p2.6.m6.1.1.4.cmml" xref="S4.SS3.p2.6.m6.1.1.4">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">jth</annotation></semantics></math> model parameter for client <math id="S4.SS3.p2.7.m7.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS3.p2.7.m7.1a"><mi id="S4.SS3.p2.7.m7.1.1" xref="S4.SS3.p2.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m7.1b"><ci id="S4.SS3.p2.7.m7.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">i</annotation></semantics></math>. Then FL aims to learn the average <math id="S4.SS3.p2.8.m8.1" class="ltx_Math" alttext="X_{j}=\sum_{i=1}^{N}p_{i}X^{i}_{j}" display="inline"><semantics id="S4.SS3.p2.8.m8.1a"><mrow id="S4.SS3.p2.8.m8.1.1" xref="S4.SS3.p2.8.m8.1.1.cmml"><msub id="S4.SS3.p2.8.m8.1.1.2" xref="S4.SS3.p2.8.m8.1.1.2.cmml"><mi id="S4.SS3.p2.8.m8.1.1.2.2" xref="S4.SS3.p2.8.m8.1.1.2.2.cmml">X</mi><mi id="S4.SS3.p2.8.m8.1.1.2.3" xref="S4.SS3.p2.8.m8.1.1.2.3.cmml">j</mi></msub><mo rspace="0.111em" id="S4.SS3.p2.8.m8.1.1.1" xref="S4.SS3.p2.8.m8.1.1.1.cmml">=</mo><mrow id="S4.SS3.p2.8.m8.1.1.3" xref="S4.SS3.p2.8.m8.1.1.3.cmml"><msubsup id="S4.SS3.p2.8.m8.1.1.3.1" xref="S4.SS3.p2.8.m8.1.1.3.1.cmml"><mo id="S4.SS3.p2.8.m8.1.1.3.1.2.2" xref="S4.SS3.p2.8.m8.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.SS3.p2.8.m8.1.1.3.1.2.3" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.cmml"><mi id="S4.SS3.p2.8.m8.1.1.3.1.2.3.2" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.2.cmml">i</mi><mo id="S4.SS3.p2.8.m8.1.1.3.1.2.3.1" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.SS3.p2.8.m8.1.1.3.1.2.3.3" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.SS3.p2.8.m8.1.1.3.1.3" xref="S4.SS3.p2.8.m8.1.1.3.1.3.cmml">N</mi></msubsup><mrow id="S4.SS3.p2.8.m8.1.1.3.2" xref="S4.SS3.p2.8.m8.1.1.3.2.cmml"><msub id="S4.SS3.p2.8.m8.1.1.3.2.2" xref="S4.SS3.p2.8.m8.1.1.3.2.2.cmml"><mi id="S4.SS3.p2.8.m8.1.1.3.2.2.2" xref="S4.SS3.p2.8.m8.1.1.3.2.2.2.cmml">p</mi><mi id="S4.SS3.p2.8.m8.1.1.3.2.2.3" xref="S4.SS3.p2.8.m8.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p2.8.m8.1.1.3.2.1" xref="S4.SS3.p2.8.m8.1.1.3.2.1.cmml">​</mo><msubsup id="S4.SS3.p2.8.m8.1.1.3.2.3" xref="S4.SS3.p2.8.m8.1.1.3.2.3.cmml"><mi id="S4.SS3.p2.8.m8.1.1.3.2.3.2.2" xref="S4.SS3.p2.8.m8.1.1.3.2.3.2.2.cmml">X</mi><mi id="S4.SS3.p2.8.m8.1.1.3.2.3.3" xref="S4.SS3.p2.8.m8.1.1.3.2.3.3.cmml">j</mi><mi id="S4.SS3.p2.8.m8.1.1.3.2.3.2.3" xref="S4.SS3.p2.8.m8.1.1.3.2.3.2.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m8.1b"><apply id="S4.SS3.p2.8.m8.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1"><eq id="S4.SS3.p2.8.m8.1.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1.1"></eq><apply id="S4.SS3.p2.8.m8.1.1.2.cmml" xref="S4.SS3.p2.8.m8.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.2.1.cmml" xref="S4.SS3.p2.8.m8.1.1.2">subscript</csymbol><ci id="S4.SS3.p2.8.m8.1.1.2.2.cmml" xref="S4.SS3.p2.8.m8.1.1.2.2">𝑋</ci><ci id="S4.SS3.p2.8.m8.1.1.2.3.cmml" xref="S4.SS3.p2.8.m8.1.1.2.3">𝑗</ci></apply><apply id="S4.SS3.p2.8.m8.1.1.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3"><apply id="S4.SS3.p2.8.m8.1.1.3.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.3.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1">superscript</csymbol><apply id="S4.SS3.p2.8.m8.1.1.3.1.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.3.1.2.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1">subscript</csymbol><sum id="S4.SS3.p2.8.m8.1.1.3.1.2.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.2.2"></sum><apply id="S4.SS3.p2.8.m8.1.1.3.1.2.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3"><eq id="S4.SS3.p2.8.m8.1.1.3.1.2.3.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.1"></eq><ci id="S4.SS3.p2.8.m8.1.1.3.1.2.3.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S4.SS3.p2.8.m8.1.1.3.1.2.3.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.SS3.p2.8.m8.1.1.3.1.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.1.3">𝑁</ci></apply><apply id="S4.SS3.p2.8.m8.1.1.3.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2"><times id="S4.SS3.p2.8.m8.1.1.3.2.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.1"></times><apply id="S4.SS3.p2.8.m8.1.1.3.2.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.3.2.2.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.2">subscript</csymbol><ci id="S4.SS3.p2.8.m8.1.1.3.2.2.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.2.2">𝑝</ci><ci id="S4.SS3.p2.8.m8.1.1.3.2.2.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.2.3">𝑖</ci></apply><apply id="S4.SS3.p2.8.m8.1.1.3.2.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.3.2.3.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3">subscript</csymbol><apply id="S4.SS3.p2.8.m8.1.1.3.2.3.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.3.2.3.2.1.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3">superscript</csymbol><ci id="S4.SS3.p2.8.m8.1.1.3.2.3.2.2.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3.2.2">𝑋</ci><ci id="S4.SS3.p2.8.m8.1.1.3.2.3.2.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3.2.3">𝑖</ci></apply><ci id="S4.SS3.p2.8.m8.1.1.3.2.3.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3.2.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m8.1c">X_{j}=\sum_{i=1}^{N}p_{i}X^{i}_{j}</annotation></semantics></math> across all clients, where <math id="S4.SS3.p2.9.m9.1" class="ltx_Math" alttext="p_{i}" display="inline"><semantics id="S4.SS3.p2.9.m9.1a"><msub id="S4.SS3.p2.9.m9.1.1" xref="S4.SS3.p2.9.m9.1.1.cmml"><mi id="S4.SS3.p2.9.m9.1.1.2" xref="S4.SS3.p2.9.m9.1.1.2.cmml">p</mi><mi id="S4.SS3.p2.9.m9.1.1.3" xref="S4.SS3.p2.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m9.1b"><apply id="S4.SS3.p2.9.m9.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.9.m9.1.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.p2.9.m9.1.1.2.cmml" xref="S4.SS3.p2.9.m9.1.1.2">𝑝</ci><ci id="S4.SS3.p2.9.m9.1.1.3.cmml" xref="S4.SS3.p2.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m9.1c">p_{i}</annotation></semantics></math> is the proportion of samples trained by client <math id="S4.SS3.p2.10.m10.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS3.p2.10.m10.1a"><mi id="S4.SS3.p2.10.m10.1.1" xref="S4.SS3.p2.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.10.m10.1b"><ci id="S4.SS3.p2.10.m10.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.10.m10.1c">i</annotation></semantics></math>.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.4" class="ltx_p">When <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="D_{i}" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><msub id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mi id="S4.SS3.p3.1.m1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.2.cmml">D</mi><mi id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2">𝐷</ci><ci id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">D_{i}</annotation></semantics></math>’s are different distributions, Lynaponov’s CLT generalization shows that the sample mean converges in distribution to the Normal distribution if we have finite moments of order <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="2+\delta" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><mrow id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml"><mn id="S4.SS3.p3.2.m2.1.1.2" xref="S4.SS3.p3.2.m2.1.1.2.cmml">2</mn><mo id="S4.SS3.p3.2.m2.1.1.1" xref="S4.SS3.p3.2.m2.1.1.1.cmml">+</mo><mi id="S4.SS3.p3.2.m2.1.1.3" xref="S4.SS3.p3.2.m2.1.1.3.cmml">δ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><apply id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1"><plus id="S4.SS3.p3.2.m2.1.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1.1"></plus><cn type="integer" id="S4.SS3.p3.2.m2.1.1.2.cmml" xref="S4.SS3.p3.2.m2.1.1.2">2</cn><ci id="S4.SS3.p3.2.m2.1.1.3.cmml" xref="S4.SS3.p3.2.m2.1.1.3">𝛿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">2+\delta</annotation></semantics></math> for some <math id="S4.SS3.p3.3.m3.1" class="ltx_Math" alttext="\delta&gt;0" display="inline"><semantics id="S4.SS3.p3.3.m3.1a"><mrow id="S4.SS3.p3.3.m3.1.1" xref="S4.SS3.p3.3.m3.1.1.cmml"><mi id="S4.SS3.p3.3.m3.1.1.2" xref="S4.SS3.p3.3.m3.1.1.2.cmml">δ</mi><mo id="S4.SS3.p3.3.m3.1.1.1" xref="S4.SS3.p3.3.m3.1.1.1.cmml">&gt;</mo><mn id="S4.SS3.p3.3.m3.1.1.3" xref="S4.SS3.p3.3.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m3.1b"><apply id="S4.SS3.p3.3.m3.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1"><gt id="S4.SS3.p3.3.m3.1.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1.1"></gt><ci id="S4.SS3.p3.3.m3.1.1.2.cmml" xref="S4.SS3.p3.3.m3.1.1.2">𝛿</ci><cn type="integer" id="S4.SS3.p3.3.m3.1.1.3.cmml" xref="S4.SS3.p3.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m3.1c">\delta&gt;0</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib9" title="" class="ltx_ref">feller, </a>)</cite>. In particular, if there exists a <math id="S4.SS3.p3.4.m4.1" class="ltx_Math" alttext="\delta&gt;0" display="inline"><semantics id="S4.SS3.p3.4.m4.1a"><mrow id="S4.SS3.p3.4.m4.1.1" xref="S4.SS3.p3.4.m4.1.1.cmml"><mi id="S4.SS3.p3.4.m4.1.1.2" xref="S4.SS3.p3.4.m4.1.1.2.cmml">δ</mi><mo id="S4.SS3.p3.4.m4.1.1.1" xref="S4.SS3.p3.4.m4.1.1.1.cmml">&gt;</mo><mn id="S4.SS3.p3.4.m4.1.1.3" xref="S4.SS3.p3.4.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.4.m4.1b"><apply id="S4.SS3.p3.4.m4.1.1.cmml" xref="S4.SS3.p3.4.m4.1.1"><gt id="S4.SS3.p3.4.m4.1.1.1.cmml" xref="S4.SS3.p3.4.m4.1.1.1"></gt><ci id="S4.SS3.p3.4.m4.1.1.2.cmml" xref="S4.SS3.p3.4.m4.1.1.2">𝛿</ci><cn type="integer" id="S4.SS3.p3.4.m4.1.1.3.cmml" xref="S4.SS3.p3.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.4.m4.1c">\delta&gt;0</annotation></semantics></math> such that<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>This does not apply to distributions with infinite variance such as some power law distributions <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib13" title="" class="ltx_ref">mor, </a>)</cite>.</span></span></span></p>
<table id="S4.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E4.m1.1" class="ltx_math_unparsed" alttext="\frac{1}{s{{}_{N}}^{2+\delta}}\sum_{i=1}^{N}E[|X_{j}^{i}-\mu_{i}|^{2+\delta}]\rightarrow 0\,\,as\,\,n\rightarrow\infty" display="block"><semantics id="S4.E4.m1.1a"><mrow id="S4.E4.m1.1.1"><mrow id="S4.E4.m1.1.1.1"><mfrac id="S4.E4.m1.1.1.1.3"><mn id="S4.E4.m1.1.1.1.3.2">1</mn><mrow id="S4.E4.m1.1.1.1.3.3"><mi id="S4.E4.m1.1.1.1.3.3.1">s</mi><mmultiscripts id="S4.E4.m1.1.1.1.3.3.2"><mi id="S4.E4.m1.1.1.1.3.3.2.2.2"></mi><mrow id="S4.E4.m1.1.1.1.3.3.2a"></mrow><mrow id="S4.E4.m1.1.1.1.3.3.2.2.3"><mn id="S4.E4.m1.1.1.1.3.3.2.2.3.2">2</mn><mo id="S4.E4.m1.1.1.1.3.3.2.2.3.1">+</mo><mi id="S4.E4.m1.1.1.1.3.3.2.2.3.3">δ</mi></mrow><mi id="S4.E4.m1.1.1.1.3.3.2.3">N</mi><mrow id="S4.E4.m1.1.1.1.3.3.2b"></mrow></mmultiscripts></mrow></mfrac><mo lspace="0em" rspace="0em" id="S4.E4.m1.1.1.1.2">​</mo><mrow id="S4.E4.m1.1.1.1.1"><munderover id="S4.E4.m1.1.1.1.1.2"><mo movablelimits="false" id="S4.E4.m1.1.1.1.1.2.2.2">∑</mo><mrow id="S4.E4.m1.1.1.1.1.2.2.3"><mi id="S4.E4.m1.1.1.1.1.2.2.3.2">i</mi><mo id="S4.E4.m1.1.1.1.1.2.2.3.1">=</mo><mn id="S4.E4.m1.1.1.1.1.2.2.3.3">1</mn></mrow><mi id="S4.E4.m1.1.1.1.1.2.3">N</mi></munderover><mrow id="S4.E4.m1.1.1.1.1.1"><mi id="S4.E4.m1.1.1.1.1.1.3">E</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.1.1.1.1.1.2">​</mo><mrow id="S4.E4.m1.1.1.1.1.1.1.1"><mo stretchy="false" id="S4.E4.m1.1.1.1.1.1.1.1.2">[</mo><msup id="S4.E4.m1.1.1.1.1.1.1.1.1"><mrow id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1"><mo stretchy="false" id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.2">|</mo><mrow id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1"><msubsup id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.2"><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">X</mi><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3">j</mi><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.2.3">i</mi></msubsup><mo id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1">−</mo><msub id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.3"><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.3.2">μ</mi><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.1.3.3">i</mi></msub></mrow><mo stretchy="false" id="S4.E4.m1.1.1.1.1.1.1.1.1.1.1.3">|</mo></mrow><mrow id="S4.E4.m1.1.1.1.1.1.1.1.1.3"><mn id="S4.E4.m1.1.1.1.1.1.1.1.1.3.2">2</mn><mo id="S4.E4.m1.1.1.1.1.1.1.1.1.3.1">+</mo><mi id="S4.E4.m1.1.1.1.1.1.1.1.1.3.3">δ</mi></mrow></msup><mo stretchy="false" id="S4.E4.m1.1.1.1.1.1.1.1.3">]</mo></mrow></mrow></mrow></mrow><mo stretchy="false" id="S4.E4.m1.1.1.3">→</mo><mrow id="S4.E4.m1.1.1.4"><mn id="S4.E4.m1.1.1.4.2">0</mn><mo lspace="0.330em" rspace="0em" id="S4.E4.m1.1.1.4.1">​</mo><mi id="S4.E4.m1.1.1.4.3">a</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.1.1.4.1a">​</mo><mi id="S4.E4.m1.1.1.4.4">s</mi><mo lspace="0.330em" rspace="0em" id="S4.E4.m1.1.1.4.1b">​</mo><mi id="S4.E4.m1.1.1.4.5">n</mi></mrow><mo stretchy="false" id="S4.E4.m1.1.1.5">→</mo><mi mathvariant="normal" id="S4.E4.m1.1.1.6">∞</mi></mrow><annotation encoding="application/x-tex" id="S4.E4.m1.1b">\frac{1}{s{{}_{N}}^{2+\delta}}\sum_{i=1}^{N}E[|X_{j}^{i}-\mu_{i}|^{2+\delta}]\rightarrow 0\,\,as\,\,n\rightarrow\infty</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS3.p3.8" class="ltx_p">where <math id="S4.SS3.p3.5.m1.1" class="ltx_Math" alttext="s_{N}^{2}=\sum_{i=1}^{N}\sigma^{2}_{i}" display="inline"><semantics id="S4.SS3.p3.5.m1.1a"><mrow id="S4.SS3.p3.5.m1.1.1" xref="S4.SS3.p3.5.m1.1.1.cmml"><msubsup id="S4.SS3.p3.5.m1.1.1.2" xref="S4.SS3.p3.5.m1.1.1.2.cmml"><mi id="S4.SS3.p3.5.m1.1.1.2.2.2" xref="S4.SS3.p3.5.m1.1.1.2.2.2.cmml">s</mi><mi id="S4.SS3.p3.5.m1.1.1.2.2.3" xref="S4.SS3.p3.5.m1.1.1.2.2.3.cmml">N</mi><mn id="S4.SS3.p3.5.m1.1.1.2.3" xref="S4.SS3.p3.5.m1.1.1.2.3.cmml">2</mn></msubsup><mo rspace="0.111em" id="S4.SS3.p3.5.m1.1.1.1" xref="S4.SS3.p3.5.m1.1.1.1.cmml">=</mo><mrow id="S4.SS3.p3.5.m1.1.1.3" xref="S4.SS3.p3.5.m1.1.1.3.cmml"><msubsup id="S4.SS3.p3.5.m1.1.1.3.1" xref="S4.SS3.p3.5.m1.1.1.3.1.cmml"><mo id="S4.SS3.p3.5.m1.1.1.3.1.2.2" xref="S4.SS3.p3.5.m1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.SS3.p3.5.m1.1.1.3.1.2.3" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.cmml"><mi id="S4.SS3.p3.5.m1.1.1.3.1.2.3.2" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.2.cmml">i</mi><mo id="S4.SS3.p3.5.m1.1.1.3.1.2.3.1" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.SS3.p3.5.m1.1.1.3.1.2.3.3" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.SS3.p3.5.m1.1.1.3.1.3" xref="S4.SS3.p3.5.m1.1.1.3.1.3.cmml">N</mi></msubsup><msubsup id="S4.SS3.p3.5.m1.1.1.3.2" xref="S4.SS3.p3.5.m1.1.1.3.2.cmml"><mi id="S4.SS3.p3.5.m1.1.1.3.2.2.2" xref="S4.SS3.p3.5.m1.1.1.3.2.2.2.cmml">σ</mi><mi id="S4.SS3.p3.5.m1.1.1.3.2.3" xref="S4.SS3.p3.5.m1.1.1.3.2.3.cmml">i</mi><mn id="S4.SS3.p3.5.m1.1.1.3.2.2.3" xref="S4.SS3.p3.5.m1.1.1.3.2.2.3.cmml">2</mn></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.5.m1.1b"><apply id="S4.SS3.p3.5.m1.1.1.cmml" xref="S4.SS3.p3.5.m1.1.1"><eq id="S4.SS3.p3.5.m1.1.1.1.cmml" xref="S4.SS3.p3.5.m1.1.1.1"></eq><apply id="S4.SS3.p3.5.m1.1.1.2.cmml" xref="S4.SS3.p3.5.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.2.1.cmml" xref="S4.SS3.p3.5.m1.1.1.2">superscript</csymbol><apply id="S4.SS3.p3.5.m1.1.1.2.2.cmml" xref="S4.SS3.p3.5.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.2.2.1.cmml" xref="S4.SS3.p3.5.m1.1.1.2">subscript</csymbol><ci id="S4.SS3.p3.5.m1.1.1.2.2.2.cmml" xref="S4.SS3.p3.5.m1.1.1.2.2.2">𝑠</ci><ci id="S4.SS3.p3.5.m1.1.1.2.2.3.cmml" xref="S4.SS3.p3.5.m1.1.1.2.2.3">𝑁</ci></apply><cn type="integer" id="S4.SS3.p3.5.m1.1.1.2.3.cmml" xref="S4.SS3.p3.5.m1.1.1.2.3">2</cn></apply><apply id="S4.SS3.p3.5.m1.1.1.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3"><apply id="S4.SS3.p3.5.m1.1.1.3.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.3.1.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1">superscript</csymbol><apply id="S4.SS3.p3.5.m1.1.1.3.1.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.3.1.2.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1">subscript</csymbol><sum id="S4.SS3.p3.5.m1.1.1.3.1.2.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.2.2"></sum><apply id="S4.SS3.p3.5.m1.1.1.3.1.2.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3"><eq id="S4.SS3.p3.5.m1.1.1.3.1.2.3.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.1"></eq><ci id="S4.SS3.p3.5.m1.1.1.3.1.2.3.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S4.SS3.p3.5.m1.1.1.3.1.2.3.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.SS3.p3.5.m1.1.1.3.1.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3.1.3">𝑁</ci></apply><apply id="S4.SS3.p3.5.m1.1.1.3.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.3.2.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2">subscript</csymbol><apply id="S4.SS3.p3.5.m1.1.1.3.2.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m1.1.1.3.2.2.1.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2">superscript</csymbol><ci id="S4.SS3.p3.5.m1.1.1.3.2.2.2.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2.2.2">𝜎</ci><cn type="integer" id="S4.SS3.p3.5.m1.1.1.3.2.2.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2.2.3">2</cn></apply><ci id="S4.SS3.p3.5.m1.1.1.3.2.3.cmml" xref="S4.SS3.p3.5.m1.1.1.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.5.m1.1c">s_{N}^{2}=\sum_{i=1}^{N}\sigma^{2}_{i}</annotation></semantics></math>. When the distributions <math id="S4.SS3.p3.6.m2.1" class="ltx_Math" alttext="D_{i}" display="inline"><semantics id="S4.SS3.p3.6.m2.1a"><msub id="S4.SS3.p3.6.m2.1.1" xref="S4.SS3.p3.6.m2.1.1.cmml"><mi id="S4.SS3.p3.6.m2.1.1.2" xref="S4.SS3.p3.6.m2.1.1.2.cmml">D</mi><mi id="S4.SS3.p3.6.m2.1.1.3" xref="S4.SS3.p3.6.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.6.m2.1b"><apply id="S4.SS3.p3.6.m2.1.1.cmml" xref="S4.SS3.p3.6.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.6.m2.1.1.1.cmml" xref="S4.SS3.p3.6.m2.1.1">subscript</csymbol><ci id="S4.SS3.p3.6.m2.1.1.2.cmml" xref="S4.SS3.p3.6.m2.1.1.2">𝐷</ci><ci id="S4.SS3.p3.6.m2.1.1.3.cmml" xref="S4.SS3.p3.6.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.6.m2.1c">D_{i}</annotation></semantics></math>’s are different, then the averaged parameters sent to clients in the new round may not generalize to other clients (i.e., clients who were not selected for training in a given round).
Thus, in <span id="S4.SS3.p3.8.1" class="ltx_text ltx_font_sansserif">FedPrune</span>, rather than using the average value of each parameter, we randomly draw from the Normal distribution with parameters <math id="S4.SS3.p3.7.m3.1" class="ltx_Math" alttext="\mu=\sum_{i=1}^{N}p_{i}X^{i}_{j}" display="inline"><semantics id="S4.SS3.p3.7.m3.1a"><mrow id="S4.SS3.p3.7.m3.1.1" xref="S4.SS3.p3.7.m3.1.1.cmml"><mi id="S4.SS3.p3.7.m3.1.1.2" xref="S4.SS3.p3.7.m3.1.1.2.cmml">μ</mi><mo rspace="0.111em" id="S4.SS3.p3.7.m3.1.1.1" xref="S4.SS3.p3.7.m3.1.1.1.cmml">=</mo><mrow id="S4.SS3.p3.7.m3.1.1.3" xref="S4.SS3.p3.7.m3.1.1.3.cmml"><msubsup id="S4.SS3.p3.7.m3.1.1.3.1" xref="S4.SS3.p3.7.m3.1.1.3.1.cmml"><mo id="S4.SS3.p3.7.m3.1.1.3.1.2.2" xref="S4.SS3.p3.7.m3.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.SS3.p3.7.m3.1.1.3.1.2.3" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.cmml"><mi id="S4.SS3.p3.7.m3.1.1.3.1.2.3.2" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.2.cmml">i</mi><mo id="S4.SS3.p3.7.m3.1.1.3.1.2.3.1" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.SS3.p3.7.m3.1.1.3.1.2.3.3" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.SS3.p3.7.m3.1.1.3.1.3" xref="S4.SS3.p3.7.m3.1.1.3.1.3.cmml">N</mi></msubsup><mrow id="S4.SS3.p3.7.m3.1.1.3.2" xref="S4.SS3.p3.7.m3.1.1.3.2.cmml"><msub id="S4.SS3.p3.7.m3.1.1.3.2.2" xref="S4.SS3.p3.7.m3.1.1.3.2.2.cmml"><mi id="S4.SS3.p3.7.m3.1.1.3.2.2.2" xref="S4.SS3.p3.7.m3.1.1.3.2.2.2.cmml">p</mi><mi id="S4.SS3.p3.7.m3.1.1.3.2.2.3" xref="S4.SS3.p3.7.m3.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p3.7.m3.1.1.3.2.1" xref="S4.SS3.p3.7.m3.1.1.3.2.1.cmml">​</mo><msubsup id="S4.SS3.p3.7.m3.1.1.3.2.3" xref="S4.SS3.p3.7.m3.1.1.3.2.3.cmml"><mi id="S4.SS3.p3.7.m3.1.1.3.2.3.2.2" xref="S4.SS3.p3.7.m3.1.1.3.2.3.2.2.cmml">X</mi><mi id="S4.SS3.p3.7.m3.1.1.3.2.3.3" xref="S4.SS3.p3.7.m3.1.1.3.2.3.3.cmml">j</mi><mi id="S4.SS3.p3.7.m3.1.1.3.2.3.2.3" xref="S4.SS3.p3.7.m3.1.1.3.2.3.2.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.7.m3.1b"><apply id="S4.SS3.p3.7.m3.1.1.cmml" xref="S4.SS3.p3.7.m3.1.1"><eq id="S4.SS3.p3.7.m3.1.1.1.cmml" xref="S4.SS3.p3.7.m3.1.1.1"></eq><ci id="S4.SS3.p3.7.m3.1.1.2.cmml" xref="S4.SS3.p3.7.m3.1.1.2">𝜇</ci><apply id="S4.SS3.p3.7.m3.1.1.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3"><apply id="S4.SS3.p3.7.m3.1.1.3.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p3.7.m3.1.1.3.1.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1">superscript</csymbol><apply id="S4.SS3.p3.7.m3.1.1.3.1.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS3.p3.7.m3.1.1.3.1.2.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1">subscript</csymbol><sum id="S4.SS3.p3.7.m3.1.1.3.1.2.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.2.2"></sum><apply id="S4.SS3.p3.7.m3.1.1.3.1.2.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3"><eq id="S4.SS3.p3.7.m3.1.1.3.1.2.3.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.1"></eq><ci id="S4.SS3.p3.7.m3.1.1.3.1.2.3.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S4.SS3.p3.7.m3.1.1.3.1.2.3.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.SS3.p3.7.m3.1.1.3.1.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.1.3">𝑁</ci></apply><apply id="S4.SS3.p3.7.m3.1.1.3.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2"><times id="S4.SS3.p3.7.m3.1.1.3.2.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.1"></times><apply id="S4.SS3.p3.7.m3.1.1.3.2.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.SS3.p3.7.m3.1.1.3.2.2.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.2">subscript</csymbol><ci id="S4.SS3.p3.7.m3.1.1.3.2.2.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.2.2">𝑝</ci><ci id="S4.SS3.p3.7.m3.1.1.3.2.2.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.2.3">𝑖</ci></apply><apply id="S4.SS3.p3.7.m3.1.1.3.2.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS3.p3.7.m3.1.1.3.2.3.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3">subscript</csymbol><apply id="S4.SS3.p3.7.m3.1.1.3.2.3.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS3.p3.7.m3.1.1.3.2.3.2.1.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3">superscript</csymbol><ci id="S4.SS3.p3.7.m3.1.1.3.2.3.2.2.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3.2.2">𝑋</ci><ci id="S4.SS3.p3.7.m3.1.1.3.2.3.2.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3.2.3">𝑖</ci></apply><ci id="S4.SS3.p3.7.m3.1.1.3.2.3.3.cmml" xref="S4.SS3.p3.7.m3.1.1.3.2.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.7.m3.1c">\mu=\sum_{i=1}^{N}p_{i}X^{i}_{j}</annotation></semantics></math> and <math id="S4.SS3.p3.8.m4.1" class="ltx_Math" alttext="\sigma^{2}" display="inline"><semantics id="S4.SS3.p3.8.m4.1a"><msup id="S4.SS3.p3.8.m4.1.1" xref="S4.SS3.p3.8.m4.1.1.cmml"><mi id="S4.SS3.p3.8.m4.1.1.2" xref="S4.SS3.p3.8.m4.1.1.2.cmml">σ</mi><mn id="S4.SS3.p3.8.m4.1.1.3" xref="S4.SS3.p3.8.m4.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.8.m4.1b"><apply id="S4.SS3.p3.8.m4.1.1.cmml" xref="S4.SS3.p3.8.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.8.m4.1.1.1.cmml" xref="S4.SS3.p3.8.m4.1.1">superscript</csymbol><ci id="S4.SS3.p3.8.m4.1.1.2.cmml" xref="S4.SS3.p3.8.m4.1.1.2">𝜎</ci><cn type="integer" id="S4.SS3.p3.8.m4.1.1.3.cmml" xref="S4.SS3.p3.8.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.8.m4.1c">\sigma^{2}</annotation></semantics></math>, where the latter is the variance across all clients <em id="S4.SS3.p3.8.2" class="ltx_emph ltx_font_italic">within</em> a single round.
In our evaluation, we show that using this strategy improves accuracy, robustness as well as convergence speed.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Algorithm</h3>

<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.33" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.33.34" class="ltx_listingline">

</div>
<div id="algorithm1.2.2" class="ltx_listingline">
<span id="algorithm1.2.2.1" class="ltx_text"><span id="algorithm1.2.2.1.1" class="ltx_text ltx_font_bold">Input:</span> </span>Model Dropout Rate (<math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="k\%" display="inline"><semantics id="algorithm1.1.1.m1.1a"><mrow id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml"><mi id="algorithm1.1.1.m1.1.1.2" xref="algorithm1.1.1.m1.1.1.2.cmml">k</mi><mo id="algorithm1.1.1.m1.1.1.1" xref="algorithm1.1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><apply id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1"><csymbol cd="latexml" id="algorithm1.1.1.m1.1.1.1.cmml" xref="algorithm1.1.1.m1.1.1.1">percent</csymbol><ci id="algorithm1.1.1.m1.1.1.2.cmml" xref="algorithm1.1.1.m1.1.1.2">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">k\%</annotation></semantics></math>), Pruning Round (<math id="algorithm1.2.2.m2.1" class="ltx_Math" alttext="r" display="inline"><semantics id="algorithm1.2.2.m2.1a"><mi id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">r</annotation></semantics></math>)
</div>
<div id="algorithm1.33.35" class="ltx_listingline">
<span id="algorithm1.33.35.1" class="ltx_text ltx_font_bold">Server executes:</span>
</div>
<div id="algorithm1.4.4" class="ltx_listingline">
<span id="algorithm1.4.4.1" class="ltx_text ltx_font_bold">Initialize:</span> Global model <math id="algorithm1.3.3.m1.1" class="ltx_Math" alttext="W_{0}" display="inline"><semantics id="algorithm1.3.3.m1.1a"><msub id="algorithm1.3.3.m1.1.1" xref="algorithm1.3.3.m1.1.1.cmml"><mi id="algorithm1.3.3.m1.1.1.2" xref="algorithm1.3.3.m1.1.1.2.cmml">W</mi><mn id="algorithm1.3.3.m1.1.1.3" xref="algorithm1.3.3.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m1.1b"><apply id="algorithm1.3.3.m1.1.1.cmml" xref="algorithm1.3.3.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.3.3.m1.1.1.1.cmml" xref="algorithm1.3.3.m1.1.1">subscript</csymbol><ci id="algorithm1.3.3.m1.1.1.2.cmml" xref="algorithm1.3.3.m1.1.1.2">𝑊</ci><cn type="integer" id="algorithm1.3.3.m1.1.1.3.cmml" xref="algorithm1.3.3.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m1.1c">W_{0}</annotation></semantics></math>, mask <math id="algorithm1.4.4.m2.1" class="ltx_Math" alttext="M\leftarrow 0" display="inline"><semantics id="algorithm1.4.4.m2.1a"><mrow id="algorithm1.4.4.m2.1.1" xref="algorithm1.4.4.m2.1.1.cmml"><mi id="algorithm1.4.4.m2.1.1.2" xref="algorithm1.4.4.m2.1.1.2.cmml">M</mi><mo stretchy="false" id="algorithm1.4.4.m2.1.1.1" xref="algorithm1.4.4.m2.1.1.1.cmml">←</mo><mn id="algorithm1.4.4.m2.1.1.3" xref="algorithm1.4.4.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m2.1b"><apply id="algorithm1.4.4.m2.1.1.cmml" xref="algorithm1.4.4.m2.1.1"><ci id="algorithm1.4.4.m2.1.1.1.cmml" xref="algorithm1.4.4.m2.1.1.1">←</ci><ci id="algorithm1.4.4.m2.1.1.2.cmml" xref="algorithm1.4.4.m2.1.1.2">𝑀</ci><cn type="integer" id="algorithm1.4.4.m2.1.1.3.cmml" xref="algorithm1.4.4.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m2.1c">M\leftarrow 0</annotation></semantics></math>;
</div>
<div id="algorithm1.33.36" class="ltx_listingline">
<span id="algorithm1.33.36.1" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.33.36.2" class="ltx_emph ltx_font_italic">each round t = 1, 2, . . . , T</em> <span id="algorithm1.33.36.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.5.5" class="ltx_listingline">     
<span id="algorithm1.5.5.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm1.5.5.1" class="ltx_emph ltx_font_italic"><math id="algorithm1.5.5.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="algorithm1.5.5.1.m1.1a"><mi id="algorithm1.5.5.1.m1.1.1" xref="algorithm1.5.5.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.1.m1.1b"><ci id="algorithm1.5.5.1.m1.1.1.cmml" xref="algorithm1.5.5.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.1.m1.1c">t</annotation></semantics></math> ¿ 1</em> <span id="algorithm1.5.5.3" class="ltx_text ltx_font_bold">then</span>
</div>
<div id="algorithm1.8.8" class="ltx_listingline">          
Select sub-model <math id="algorithm1.6.6.m1.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="algorithm1.6.6.m1.1a"><msub id="algorithm1.6.6.m1.1.1" xref="algorithm1.6.6.m1.1.1.cmml"><mi id="algorithm1.6.6.m1.1.1.2" xref="algorithm1.6.6.m1.1.1.2.cmml">w</mi><mi id="algorithm1.6.6.m1.1.1.3" xref="algorithm1.6.6.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m1.1b"><apply id="algorithm1.6.6.m1.1.1.cmml" xref="algorithm1.6.6.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.6.6.m1.1.1.1.cmml" xref="algorithm1.6.6.m1.1.1">subscript</csymbol><ci id="algorithm1.6.6.m1.1.1.2.cmml" xref="algorithm1.6.6.m1.1.1.2">𝑤</ci><ci id="algorithm1.6.6.m1.1.1.3.cmml" xref="algorithm1.6.6.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m1.1c">w_{t}</annotation></semantics></math> from <math id="algorithm1.7.7.m2.1" class="ltx_Math" alttext="W_{t}" display="inline"><semantics id="algorithm1.7.7.m2.1a"><msub id="algorithm1.7.7.m2.1.1" xref="algorithm1.7.7.m2.1.1.cmml"><mi id="algorithm1.7.7.m2.1.1.2" xref="algorithm1.7.7.m2.1.1.2.cmml">W</mi><mi id="algorithm1.7.7.m2.1.1.3" xref="algorithm1.7.7.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m2.1b"><apply id="algorithm1.7.7.m2.1.1.cmml" xref="algorithm1.7.7.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.7.7.m2.1.1.1.cmml" xref="algorithm1.7.7.m2.1.1">subscript</csymbol><ci id="algorithm1.7.7.m2.1.1.2.cmml" xref="algorithm1.7.7.m2.1.1.2">𝑊</ci><ci id="algorithm1.7.7.m2.1.1.3.cmml" xref="algorithm1.7.7.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m2.1c">W_{t}</annotation></semantics></math> based on mask <math id="algorithm1.8.8.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="algorithm1.8.8.m3.1a"><mi id="algorithm1.8.8.m3.1.1" xref="algorithm1.8.8.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m3.1b"><ci id="algorithm1.8.8.m3.1.1.cmml" xref="algorithm1.8.8.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m3.1c">M</annotation></semantics></math> 
</div>
<div id="algorithm1.33.37" class="ltx_listingline">          

</div>
<div id="algorithm1.33.38" class="ltx_listingline">           <span id="algorithm1.33.38.1" class="ltx_text ltx_font_bold">else</span> 
</div>
<div id="algorithm1.33.39" class="ltx_listingline">               

</div>
<div id="algorithm1.9.9" class="ltx_listingline">               <math id="algorithm1.9.9.m1.1" class="ltx_Math" alttext="w_{t}\leftarrow\text{Random selection }k\%" display="inline"><semantics id="algorithm1.9.9.m1.1a"><mrow id="algorithm1.9.9.m1.1.1" xref="algorithm1.9.9.m1.1.1.cmml"><msub id="algorithm1.9.9.m1.1.1.2" xref="algorithm1.9.9.m1.1.1.2.cmml"><mi id="algorithm1.9.9.m1.1.1.2.2" xref="algorithm1.9.9.m1.1.1.2.2.cmml">w</mi><mi id="algorithm1.9.9.m1.1.1.2.3" xref="algorithm1.9.9.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="algorithm1.9.9.m1.1.1.1" xref="algorithm1.9.9.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.9.9.m1.1.1.3" xref="algorithm1.9.9.m1.1.1.3.cmml"><mtext id="algorithm1.9.9.m1.1.1.3.2" xref="algorithm1.9.9.m1.1.1.3.2a.cmml">Random selection </mtext><mo lspace="0em" rspace="0em" id="algorithm1.9.9.m1.1.1.3.1" xref="algorithm1.9.9.m1.1.1.3.1.cmml">​</mo><mrow id="algorithm1.9.9.m1.1.1.3.3" xref="algorithm1.9.9.m1.1.1.3.3.cmml"><mi id="algorithm1.9.9.m1.1.1.3.3.2" xref="algorithm1.9.9.m1.1.1.3.3.2.cmml">k</mi><mo id="algorithm1.9.9.m1.1.1.3.3.1" xref="algorithm1.9.9.m1.1.1.3.3.1.cmml">%</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.1b"><apply id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1"><ci id="algorithm1.9.9.m1.1.1.1.cmml" xref="algorithm1.9.9.m1.1.1.1">←</ci><apply id="algorithm1.9.9.m1.1.1.2.cmml" xref="algorithm1.9.9.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.9.9.m1.1.1.2.1.cmml" xref="algorithm1.9.9.m1.1.1.2">subscript</csymbol><ci id="algorithm1.9.9.m1.1.1.2.2.cmml" xref="algorithm1.9.9.m1.1.1.2.2">𝑤</ci><ci id="algorithm1.9.9.m1.1.1.2.3.cmml" xref="algorithm1.9.9.m1.1.1.2.3">𝑡</ci></apply><apply id="algorithm1.9.9.m1.1.1.3.cmml" xref="algorithm1.9.9.m1.1.1.3"><times id="algorithm1.9.9.m1.1.1.3.1.cmml" xref="algorithm1.9.9.m1.1.1.3.1"></times><ci id="algorithm1.9.9.m1.1.1.3.2a.cmml" xref="algorithm1.9.9.m1.1.1.3.2"><mtext id="algorithm1.9.9.m1.1.1.3.2.cmml" xref="algorithm1.9.9.m1.1.1.3.2">Random selection </mtext></ci><apply id="algorithm1.9.9.m1.1.1.3.3.cmml" xref="algorithm1.9.9.m1.1.1.3.3"><csymbol cd="latexml" id="algorithm1.9.9.m1.1.1.3.3.1.cmml" xref="algorithm1.9.9.m1.1.1.3.3.1">percent</csymbol><ci id="algorithm1.9.9.m1.1.1.3.3.2.cmml" xref="algorithm1.9.9.m1.1.1.3.3.2">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m1.1c">w_{t}\leftarrow\text{Random selection }k\%</annotation></semantics></math> ;
</div>
<div id="algorithm1.10.10" class="ltx_listingline">               
<math id="algorithm1.10.10.m1.1" class="ltx_Math" alttext="M\leftarrow\text{Indexes of sub-model }w_{t}" display="inline"><semantics id="algorithm1.10.10.m1.1a"><mrow id="algorithm1.10.10.m1.1.1" xref="algorithm1.10.10.m1.1.1.cmml"><mi id="algorithm1.10.10.m1.1.1.2" xref="algorithm1.10.10.m1.1.1.2.cmml">M</mi><mo stretchy="false" id="algorithm1.10.10.m1.1.1.1" xref="algorithm1.10.10.m1.1.1.1.cmml">←</mo><mrow id="algorithm1.10.10.m1.1.1.3" xref="algorithm1.10.10.m1.1.1.3.cmml"><mtext id="algorithm1.10.10.m1.1.1.3.2" xref="algorithm1.10.10.m1.1.1.3.2a.cmml">Indexes of sub-model </mtext><mo lspace="0em" rspace="0em" id="algorithm1.10.10.m1.1.1.3.1" xref="algorithm1.10.10.m1.1.1.3.1.cmml">​</mo><msub id="algorithm1.10.10.m1.1.1.3.3" xref="algorithm1.10.10.m1.1.1.3.3.cmml"><mi id="algorithm1.10.10.m1.1.1.3.3.2" xref="algorithm1.10.10.m1.1.1.3.3.2.cmml">w</mi><mi id="algorithm1.10.10.m1.1.1.3.3.3" xref="algorithm1.10.10.m1.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m1.1b"><apply id="algorithm1.10.10.m1.1.1.cmml" xref="algorithm1.10.10.m1.1.1"><ci id="algorithm1.10.10.m1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1.1">←</ci><ci id="algorithm1.10.10.m1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.2">𝑀</ci><apply id="algorithm1.10.10.m1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.3"><times id="algorithm1.10.10.m1.1.1.3.1.cmml" xref="algorithm1.10.10.m1.1.1.3.1"></times><ci id="algorithm1.10.10.m1.1.1.3.2a.cmml" xref="algorithm1.10.10.m1.1.1.3.2"><mtext id="algorithm1.10.10.m1.1.1.3.2.cmml" xref="algorithm1.10.10.m1.1.1.3.2">Indexes of sub-model </mtext></ci><apply id="algorithm1.10.10.m1.1.1.3.3.cmml" xref="algorithm1.10.10.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.3.3.1.cmml" xref="algorithm1.10.10.m1.1.1.3.3">subscript</csymbol><ci id="algorithm1.10.10.m1.1.1.3.3.2.cmml" xref="algorithm1.10.10.m1.1.1.3.3.2">𝑤</ci><ci id="algorithm1.10.10.m1.1.1.3.3.3.cmml" xref="algorithm1.10.10.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m1.1c">M\leftarrow\text{Indexes of sub-model }w_{t}</annotation></semantics></math>;
</div>
<div id="algorithm1.33.40" class="ltx_listingline">               

</div>
<div id="algorithm1.33.41" class="ltx_listingline">                 end if
</div>
<div id="algorithm1.11.11" class="ltx_listingline">               <math id="algorithm1.11.11.m1.1" class="ltx_Math" alttext="C_{t}\leftarrow\text{(select $n$ clients randomly)}" display="inline"><semantics id="algorithm1.11.11.m1.1a"><mrow id="algorithm1.11.11.m1.1.2" xref="algorithm1.11.11.m1.1.2.cmml"><msub id="algorithm1.11.11.m1.1.2.2" xref="algorithm1.11.11.m1.1.2.2.cmml"><mi id="algorithm1.11.11.m1.1.2.2.2" xref="algorithm1.11.11.m1.1.2.2.2.cmml">C</mi><mi id="algorithm1.11.11.m1.1.2.2.3" xref="algorithm1.11.11.m1.1.2.2.3.cmml">t</mi></msub><mo stretchy="false" id="algorithm1.11.11.m1.1.2.1" xref="algorithm1.11.11.m1.1.2.1.cmml">←</mo><mrow id="algorithm1.11.11.m1.1.1.1" xref="algorithm1.11.11.m1.1.1.1c.cmml"><mtext id="algorithm1.11.11.m1.1.1.1a" xref="algorithm1.11.11.m1.1.1.1c.cmml">(select </mtext><mi id="algorithm1.11.11.m1.1.1.1.m1.1.1" xref="algorithm1.11.11.m1.1.1.1.m1.1.1.cmml">n</mi><mtext id="algorithm1.11.11.m1.1.1.1b" xref="algorithm1.11.11.m1.1.1.1c.cmml"> clients randomly)</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m1.1b"><apply id="algorithm1.11.11.m1.1.2.cmml" xref="algorithm1.11.11.m1.1.2"><ci id="algorithm1.11.11.m1.1.2.1.cmml" xref="algorithm1.11.11.m1.1.2.1">←</ci><apply id="algorithm1.11.11.m1.1.2.2.cmml" xref="algorithm1.11.11.m1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.11.11.m1.1.2.2.1.cmml" xref="algorithm1.11.11.m1.1.2.2">subscript</csymbol><ci id="algorithm1.11.11.m1.1.2.2.2.cmml" xref="algorithm1.11.11.m1.1.2.2.2">𝐶</ci><ci id="algorithm1.11.11.m1.1.2.2.3.cmml" xref="algorithm1.11.11.m1.1.2.2.3">𝑡</ci></apply><ci id="algorithm1.11.11.m1.1.1.1c.cmml" xref="algorithm1.11.11.m1.1.1.1"><mrow id="algorithm1.11.11.m1.1.1.1.cmml" xref="algorithm1.11.11.m1.1.1.1"><mtext id="algorithm1.11.11.m1.1.1.1a.cmml" xref="algorithm1.11.11.m1.1.1.1">(select </mtext><mi id="algorithm1.11.11.m1.1.1.1.m1.1.1.cmml" xref="algorithm1.11.11.m1.1.1.1.m1.1.1">n</mi><mtext id="algorithm1.11.11.m1.1.1.1b.cmml" xref="algorithm1.11.11.m1.1.1.1"> clients randomly)</mtext></mrow></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m1.1c">C_{t}\leftarrow\text{(select $n$ clients randomly)}</annotation></semantics></math> ;
</div>
<div id="algorithm1.13.13" class="ltx_listingline">                 <span id="algorithm1.12.12.1" class="ltx_text ltx_font_typewriter"><math id="algorithm1.12.12.1.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="algorithm1.12.12.1.1.m1.1a"><mo id="algorithm1.12.12.1.1.m1.1.1" xref="algorithm1.12.12.1.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.1.1.m1.1b"><ci id="algorithm1.12.12.1.1.m1.1.1.cmml" xref="algorithm1.12.12.1.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.1.1.m1.1c">\triangleright</annotation></semantics></math> </span><span id="algorithm1.13.13.2" class="ltx_text ltx_font_typewriter">n <math id="algorithm1.13.13.2.m1.1" class="ltx_Math" alttext="\leq" display="inline"><semantics id="algorithm1.13.13.2.m1.1a"><mo id="algorithm1.13.13.2.m1.1.1" xref="algorithm1.13.13.2.m1.1.1.cmml">≤</mo><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.2.m1.1b"><leq id="algorithm1.13.13.2.m1.1.1.cmml" xref="algorithm1.13.13.2.m1.1.1"></leq></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.2.m1.1c">\leq</annotation></semantics></math> N</span>
</div>
<div id="algorithm1.16.16" class="ltx_listingline">               
Send <math id="algorithm1.14.14.m1.1" class="ltx_Math" alttext="W_{t}" display="inline"><semantics id="algorithm1.14.14.m1.1a"><msub id="algorithm1.14.14.m1.1.1" xref="algorithm1.14.14.m1.1.1.cmml"><mi id="algorithm1.14.14.m1.1.1.2" xref="algorithm1.14.14.m1.1.1.2.cmml">W</mi><mi id="algorithm1.14.14.m1.1.1.3" xref="algorithm1.14.14.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.1b"><apply id="algorithm1.14.14.m1.1.1.cmml" xref="algorithm1.14.14.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.1.1.1.cmml" xref="algorithm1.14.14.m1.1.1">subscript</csymbol><ci id="algorithm1.14.14.m1.1.1.2.cmml" xref="algorithm1.14.14.m1.1.1.2">𝑊</ci><ci id="algorithm1.14.14.m1.1.1.3.cmml" xref="algorithm1.14.14.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.1c">W_{t}</annotation></semantics></math> or <math id="algorithm1.15.15.m2.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="algorithm1.15.15.m2.1a"><msub id="algorithm1.15.15.m2.1.1" xref="algorithm1.15.15.m2.1.1.cmml"><mi id="algorithm1.15.15.m2.1.1.2" xref="algorithm1.15.15.m2.1.1.2.cmml">w</mi><mi id="algorithm1.15.15.m2.1.1.3" xref="algorithm1.15.15.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m2.1b"><apply id="algorithm1.15.15.m2.1.1.cmml" xref="algorithm1.15.15.m2.1.1"><csymbol cd="ambiguous" id="algorithm1.15.15.m2.1.1.1.cmml" xref="algorithm1.15.15.m2.1.1">subscript</csymbol><ci id="algorithm1.15.15.m2.1.1.2.cmml" xref="algorithm1.15.15.m2.1.1.2">𝑤</ci><ci id="algorithm1.15.15.m2.1.1.3.cmml" xref="algorithm1.15.15.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.m2.1c">w_{t}</annotation></semantics></math> to <math id="algorithm1.16.16.m3.1" class="ltx_Math" alttext="C_{t}" display="inline"><semantics id="algorithm1.16.16.m3.1a"><msub id="algorithm1.16.16.m3.1.1" xref="algorithm1.16.16.m3.1.1.cmml"><mi id="algorithm1.16.16.m3.1.1.2" xref="algorithm1.16.16.m3.1.1.2.cmml">C</mi><mi id="algorithm1.16.16.m3.1.1.3" xref="algorithm1.16.16.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.16.16.m3.1b"><apply id="algorithm1.16.16.m3.1.1.cmml" xref="algorithm1.16.16.m3.1.1"><csymbol cd="ambiguous" id="algorithm1.16.16.m3.1.1.1.cmml" xref="algorithm1.16.16.m3.1.1">subscript</csymbol><ci id="algorithm1.16.16.m3.1.1.2.cmml" xref="algorithm1.16.16.m3.1.1.2">𝐶</ci><ci id="algorithm1.16.16.m3.1.1.3.cmml" xref="algorithm1.16.16.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.16.16.m3.1c">C_{t}</annotation></semantics></math> based on their device characteristics 
</div>
<div id="algorithm1.17.17" class="ltx_listingline">               
<span id="algorithm1.17.17.2" class="ltx_text ltx_font_bold">for</span> <em id="algorithm1.17.17.1" class="ltx_emph ltx_font_italic">each client <math id="algorithm1.17.17.1.m1.1" class="ltx_Math" alttext="c\in C_{t}" display="inline"><semantics id="algorithm1.17.17.1.m1.1a"><mrow id="algorithm1.17.17.1.m1.1.1" xref="algorithm1.17.17.1.m1.1.1.cmml"><mi id="algorithm1.17.17.1.m1.1.1.2" xref="algorithm1.17.17.1.m1.1.1.2.cmml">c</mi><mo id="algorithm1.17.17.1.m1.1.1.1" xref="algorithm1.17.17.1.m1.1.1.1.cmml">∈</mo><msub id="algorithm1.17.17.1.m1.1.1.3" xref="algorithm1.17.17.1.m1.1.1.3.cmml"><mi id="algorithm1.17.17.1.m1.1.1.3.2" xref="algorithm1.17.17.1.m1.1.1.3.2.cmml">C</mi><mi id="algorithm1.17.17.1.m1.1.1.3.3" xref="algorithm1.17.17.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.17.17.1.m1.1b"><apply id="algorithm1.17.17.1.m1.1.1.cmml" xref="algorithm1.17.17.1.m1.1.1"><in id="algorithm1.17.17.1.m1.1.1.1.cmml" xref="algorithm1.17.17.1.m1.1.1.1"></in><ci id="algorithm1.17.17.1.m1.1.1.2.cmml" xref="algorithm1.17.17.1.m1.1.1.2">𝑐</ci><apply id="algorithm1.17.17.1.m1.1.1.3.cmml" xref="algorithm1.17.17.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.17.17.1.m1.1.1.3.1.cmml" xref="algorithm1.17.17.1.m1.1.1.3">subscript</csymbol><ci id="algorithm1.17.17.1.m1.1.1.3.2.cmml" xref="algorithm1.17.17.1.m1.1.1.3.2">𝐶</ci><ci id="algorithm1.17.17.1.m1.1.1.3.3.cmml" xref="algorithm1.17.17.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.17.17.1.m1.1c">c\in C_{t}</annotation></semantics></math></em> <span id="algorithm1.17.17.3" class="ltx_text ltx_font_bold">do</span> 
</div>
<div id="algorithm1.18.18" class="ltx_listingline">                    
<span id="algorithm1.18.18.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm1.18.18.1" class="ltx_emph ltx_font_italic"><math id="algorithm1.18.18.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="algorithm1.18.18.1.m1.1a"><mi id="algorithm1.18.18.1.m1.1.1" xref="algorithm1.18.18.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="algorithm1.18.18.1.m1.1b"><ci id="algorithm1.18.18.1.m1.1.1.cmml" xref="algorithm1.18.18.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.18.18.1.m1.1c">c</annotation></semantics></math> is slow</em> <span id="algorithm1.18.18.3" class="ltx_text ltx_font_bold">then</span>
</div>
<div id="algorithm1.19.19" class="ltx_listingline">                         
<span id="algorithm1.19.19.1" class="ltx_text ltx_font_bold">Train sub-model <math id="algorithm1.19.19.1.m1.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="algorithm1.19.19.1.m1.1a"><msub id="algorithm1.19.19.1.m1.1.1" xref="algorithm1.19.19.1.m1.1.1.cmml"><mi id="algorithm1.19.19.1.m1.1.1.2" xref="algorithm1.19.19.1.m1.1.1.2.cmml">w</mi><mi id="algorithm1.19.19.1.m1.1.1.3" xref="algorithm1.19.19.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.19.19.1.m1.1b"><apply id="algorithm1.19.19.1.m1.1.1.cmml" xref="algorithm1.19.19.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.19.19.1.m1.1.1.1.cmml" xref="algorithm1.19.19.1.m1.1.1">subscript</csymbol><ci id="algorithm1.19.19.1.m1.1.1.2.cmml" xref="algorithm1.19.19.1.m1.1.1.2">𝑤</ci><ci id="algorithm1.19.19.1.m1.1.1.3.cmml" xref="algorithm1.19.19.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.19.19.1.m1.1c">w_{t}</annotation></semantics></math>:</span> 
</div>
<div id="algorithm1.20.20" class="ltx_listingline">                         
<math id="algorithm1.20.20.m1.4" class="ltx_Math" alttext="activations^{c}_{t},w^{c}_{t+1}=\ell(w_{t},c)" display="inline"><semantics id="algorithm1.20.20.m1.4a"><mrow id="algorithm1.20.20.m1.4.4" xref="algorithm1.20.20.m1.4.4.cmml"><mrow id="algorithm1.20.20.m1.3.3.2.2" xref="algorithm1.20.20.m1.3.3.2.3.cmml"><mrow id="algorithm1.20.20.m1.2.2.1.1.1" xref="algorithm1.20.20.m1.2.2.1.1.1.cmml"><mi id="algorithm1.20.20.m1.2.2.1.1.1.2" xref="algorithm1.20.20.m1.2.2.1.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.3" xref="algorithm1.20.20.m1.2.2.1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1a" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.4" xref="algorithm1.20.20.m1.2.2.1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1b" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.5" xref="algorithm1.20.20.m1.2.2.1.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1c" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.6" xref="algorithm1.20.20.m1.2.2.1.1.1.6.cmml">v</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1d" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.7" xref="algorithm1.20.20.m1.2.2.1.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1e" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.8" xref="algorithm1.20.20.m1.2.2.1.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1f" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.9" xref="algorithm1.20.20.m1.2.2.1.1.1.9.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1g" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.10" xref="algorithm1.20.20.m1.2.2.1.1.1.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1h" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.20.20.m1.2.2.1.1.1.11" xref="algorithm1.20.20.m1.2.2.1.1.1.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.2.2.1.1.1.1i" xref="algorithm1.20.20.m1.2.2.1.1.1.1.cmml">​</mo><msubsup id="algorithm1.20.20.m1.2.2.1.1.1.12" xref="algorithm1.20.20.m1.2.2.1.1.1.12.cmml"><mi id="algorithm1.20.20.m1.2.2.1.1.1.12.2.2" xref="algorithm1.20.20.m1.2.2.1.1.1.12.2.2.cmml">s</mi><mi id="algorithm1.20.20.m1.2.2.1.1.1.12.3" xref="algorithm1.20.20.m1.2.2.1.1.1.12.3.cmml">t</mi><mi id="algorithm1.20.20.m1.2.2.1.1.1.12.2.3" xref="algorithm1.20.20.m1.2.2.1.1.1.12.2.3.cmml">c</mi></msubsup></mrow><mo id="algorithm1.20.20.m1.3.3.2.2.3" xref="algorithm1.20.20.m1.3.3.2.3.cmml">,</mo><msubsup id="algorithm1.20.20.m1.3.3.2.2.2" xref="algorithm1.20.20.m1.3.3.2.2.2.cmml"><mi id="algorithm1.20.20.m1.3.3.2.2.2.2.2" xref="algorithm1.20.20.m1.3.3.2.2.2.2.2.cmml">w</mi><mrow id="algorithm1.20.20.m1.3.3.2.2.2.3" xref="algorithm1.20.20.m1.3.3.2.2.2.3.cmml"><mi id="algorithm1.20.20.m1.3.3.2.2.2.3.2" xref="algorithm1.20.20.m1.3.3.2.2.2.3.2.cmml">t</mi><mo id="algorithm1.20.20.m1.3.3.2.2.2.3.1" xref="algorithm1.20.20.m1.3.3.2.2.2.3.1.cmml">+</mo><mn id="algorithm1.20.20.m1.3.3.2.2.2.3.3" xref="algorithm1.20.20.m1.3.3.2.2.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.20.20.m1.3.3.2.2.2.2.3" xref="algorithm1.20.20.m1.3.3.2.2.2.2.3.cmml">c</mi></msubsup></mrow><mo id="algorithm1.20.20.m1.4.4.4" xref="algorithm1.20.20.m1.4.4.4.cmml">=</mo><mrow id="algorithm1.20.20.m1.4.4.3" xref="algorithm1.20.20.m1.4.4.3.cmml"><mi mathvariant="normal" id="algorithm1.20.20.m1.4.4.3.3" xref="algorithm1.20.20.m1.4.4.3.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="algorithm1.20.20.m1.4.4.3.2" xref="algorithm1.20.20.m1.4.4.3.2.cmml">​</mo><mrow id="algorithm1.20.20.m1.4.4.3.1.1" xref="algorithm1.20.20.m1.4.4.3.1.2.cmml"><mo stretchy="false" id="algorithm1.20.20.m1.4.4.3.1.1.2" xref="algorithm1.20.20.m1.4.4.3.1.2.cmml">(</mo><msub id="algorithm1.20.20.m1.4.4.3.1.1.1" xref="algorithm1.20.20.m1.4.4.3.1.1.1.cmml"><mi id="algorithm1.20.20.m1.4.4.3.1.1.1.2" xref="algorithm1.20.20.m1.4.4.3.1.1.1.2.cmml">w</mi><mi id="algorithm1.20.20.m1.4.4.3.1.1.1.3" xref="algorithm1.20.20.m1.4.4.3.1.1.1.3.cmml">t</mi></msub><mo id="algorithm1.20.20.m1.4.4.3.1.1.3" xref="algorithm1.20.20.m1.4.4.3.1.2.cmml">,</mo><mi id="algorithm1.20.20.m1.1.1" xref="algorithm1.20.20.m1.1.1.cmml">c</mi><mo stretchy="false" id="algorithm1.20.20.m1.4.4.3.1.1.4" xref="algorithm1.20.20.m1.4.4.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.20.20.m1.4b"><apply id="algorithm1.20.20.m1.4.4.cmml" xref="algorithm1.20.20.m1.4.4"><eq id="algorithm1.20.20.m1.4.4.4.cmml" xref="algorithm1.20.20.m1.4.4.4"></eq><list id="algorithm1.20.20.m1.3.3.2.3.cmml" xref="algorithm1.20.20.m1.3.3.2.2"><apply id="algorithm1.20.20.m1.2.2.1.1.1.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1"><times id="algorithm1.20.20.m1.2.2.1.1.1.1.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.1"></times><ci id="algorithm1.20.20.m1.2.2.1.1.1.2.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.2">𝑎</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.3.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.3">𝑐</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.4.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.4">𝑡</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.5.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.5">𝑖</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.6.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.6">𝑣</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.7.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.7">𝑎</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.8.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.8">𝑡</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.9.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.9">𝑖</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.10.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.10">𝑜</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.11.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.11">𝑛</ci><apply id="algorithm1.20.20.m1.2.2.1.1.1.12.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.2.2.1.1.1.12.1.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12">subscript</csymbol><apply id="algorithm1.20.20.m1.2.2.1.1.1.12.2.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.2.2.1.1.1.12.2.1.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12">superscript</csymbol><ci id="algorithm1.20.20.m1.2.2.1.1.1.12.2.2.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12.2.2">𝑠</ci><ci id="algorithm1.20.20.m1.2.2.1.1.1.12.2.3.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12.2.3">𝑐</ci></apply><ci id="algorithm1.20.20.m1.2.2.1.1.1.12.3.cmml" xref="algorithm1.20.20.m1.2.2.1.1.1.12.3">𝑡</ci></apply></apply><apply id="algorithm1.20.20.m1.3.3.2.2.2.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.3.3.2.2.2.1.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2">subscript</csymbol><apply id="algorithm1.20.20.m1.3.3.2.2.2.2.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.3.3.2.2.2.2.1.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2">superscript</csymbol><ci id="algorithm1.20.20.m1.3.3.2.2.2.2.2.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.2.2">𝑤</ci><ci id="algorithm1.20.20.m1.3.3.2.2.2.2.3.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.2.3">𝑐</ci></apply><apply id="algorithm1.20.20.m1.3.3.2.2.2.3.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.3"><plus id="algorithm1.20.20.m1.3.3.2.2.2.3.1.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.3.1"></plus><ci id="algorithm1.20.20.m1.3.3.2.2.2.3.2.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.3.2">𝑡</ci><cn type="integer" id="algorithm1.20.20.m1.3.3.2.2.2.3.3.cmml" xref="algorithm1.20.20.m1.3.3.2.2.2.3.3">1</cn></apply></apply></list><apply id="algorithm1.20.20.m1.4.4.3.cmml" xref="algorithm1.20.20.m1.4.4.3"><times id="algorithm1.20.20.m1.4.4.3.2.cmml" xref="algorithm1.20.20.m1.4.4.3.2"></times><ci id="algorithm1.20.20.m1.4.4.3.3.cmml" xref="algorithm1.20.20.m1.4.4.3.3">ℓ</ci><interval closure="open" id="algorithm1.20.20.m1.4.4.3.1.2.cmml" xref="algorithm1.20.20.m1.4.4.3.1.1"><apply id="algorithm1.20.20.m1.4.4.3.1.1.1.cmml" xref="algorithm1.20.20.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="algorithm1.20.20.m1.4.4.3.1.1.1.1.cmml" xref="algorithm1.20.20.m1.4.4.3.1.1.1">subscript</csymbol><ci id="algorithm1.20.20.m1.4.4.3.1.1.1.2.cmml" xref="algorithm1.20.20.m1.4.4.3.1.1.1.2">𝑤</ci><ci id="algorithm1.20.20.m1.4.4.3.1.1.1.3.cmml" xref="algorithm1.20.20.m1.4.4.3.1.1.1.3">𝑡</ci></apply><ci id="algorithm1.20.20.m1.1.1.cmml" xref="algorithm1.20.20.m1.1.1">𝑐</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.20.20.m1.4c">activations^{c}_{t},w^{c}_{t+1}=\ell(w_{t},c)</annotation></semantics></math> ;
</div>
<div id="algorithm1.21.21" class="ltx_listingline">                         
<math id="algorithm1.21.21.m1.2" class="ltx_Math" alttext="W^{c}_{t+1}=Broadcast(w^{c}_{t+1},M)" display="inline"><semantics id="algorithm1.21.21.m1.2a"><mrow id="algorithm1.21.21.m1.2.2" xref="algorithm1.21.21.m1.2.2.cmml"><msubsup id="algorithm1.21.21.m1.2.2.3" xref="algorithm1.21.21.m1.2.2.3.cmml"><mi id="algorithm1.21.21.m1.2.2.3.2.2" xref="algorithm1.21.21.m1.2.2.3.2.2.cmml">W</mi><mrow id="algorithm1.21.21.m1.2.2.3.3" xref="algorithm1.21.21.m1.2.2.3.3.cmml"><mi id="algorithm1.21.21.m1.2.2.3.3.2" xref="algorithm1.21.21.m1.2.2.3.3.2.cmml">t</mi><mo id="algorithm1.21.21.m1.2.2.3.3.1" xref="algorithm1.21.21.m1.2.2.3.3.1.cmml">+</mo><mn id="algorithm1.21.21.m1.2.2.3.3.3" xref="algorithm1.21.21.m1.2.2.3.3.3.cmml">1</mn></mrow><mi id="algorithm1.21.21.m1.2.2.3.2.3" xref="algorithm1.21.21.m1.2.2.3.2.3.cmml">c</mi></msubsup><mo id="algorithm1.21.21.m1.2.2.2" xref="algorithm1.21.21.m1.2.2.2.cmml">=</mo><mrow id="algorithm1.21.21.m1.2.2.1" xref="algorithm1.21.21.m1.2.2.1.cmml"><mi id="algorithm1.21.21.m1.2.2.1.3" xref="algorithm1.21.21.m1.2.2.1.3.cmml">B</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.4" xref="algorithm1.21.21.m1.2.2.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2a" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.5" xref="algorithm1.21.21.m1.2.2.1.5.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2b" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.6" xref="algorithm1.21.21.m1.2.2.1.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2c" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.7" xref="algorithm1.21.21.m1.2.2.1.7.cmml">d</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2d" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.8" xref="algorithm1.21.21.m1.2.2.1.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2e" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.9" xref="algorithm1.21.21.m1.2.2.1.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2f" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.10" xref="algorithm1.21.21.m1.2.2.1.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2g" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mi id="algorithm1.21.21.m1.2.2.1.11" xref="algorithm1.21.21.m1.2.2.1.11.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.21.21.m1.2.2.1.2h" xref="algorithm1.21.21.m1.2.2.1.2.cmml">​</mo><mrow id="algorithm1.21.21.m1.2.2.1.1.1" xref="algorithm1.21.21.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="algorithm1.21.21.m1.2.2.1.1.1.2" xref="algorithm1.21.21.m1.2.2.1.1.2.cmml">(</mo><msubsup id="algorithm1.21.21.m1.2.2.1.1.1.1" xref="algorithm1.21.21.m1.2.2.1.1.1.1.cmml"><mi id="algorithm1.21.21.m1.2.2.1.1.1.1.2.2" xref="algorithm1.21.21.m1.2.2.1.1.1.1.2.2.cmml">w</mi><mrow id="algorithm1.21.21.m1.2.2.1.1.1.1.3" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.cmml"><mi id="algorithm1.21.21.m1.2.2.1.1.1.1.3.2" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.2.cmml">t</mi><mo id="algorithm1.21.21.m1.2.2.1.1.1.1.3.1" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.1.cmml">+</mo><mn id="algorithm1.21.21.m1.2.2.1.1.1.1.3.3" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="algorithm1.21.21.m1.2.2.1.1.1.1.2.3" xref="algorithm1.21.21.m1.2.2.1.1.1.1.2.3.cmml">c</mi></msubsup><mo id="algorithm1.21.21.m1.2.2.1.1.1.3" xref="algorithm1.21.21.m1.2.2.1.1.2.cmml">,</mo><mi id="algorithm1.21.21.m1.1.1" xref="algorithm1.21.21.m1.1.1.cmml">M</mi><mo stretchy="false" id="algorithm1.21.21.m1.2.2.1.1.1.4" xref="algorithm1.21.21.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.21.21.m1.2b"><apply id="algorithm1.21.21.m1.2.2.cmml" xref="algorithm1.21.21.m1.2.2"><eq id="algorithm1.21.21.m1.2.2.2.cmml" xref="algorithm1.21.21.m1.2.2.2"></eq><apply id="algorithm1.21.21.m1.2.2.3.cmml" xref="algorithm1.21.21.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.2.2.3.1.cmml" xref="algorithm1.21.21.m1.2.2.3">subscript</csymbol><apply id="algorithm1.21.21.m1.2.2.3.2.cmml" xref="algorithm1.21.21.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.2.2.3.2.1.cmml" xref="algorithm1.21.21.m1.2.2.3">superscript</csymbol><ci id="algorithm1.21.21.m1.2.2.3.2.2.cmml" xref="algorithm1.21.21.m1.2.2.3.2.2">𝑊</ci><ci id="algorithm1.21.21.m1.2.2.3.2.3.cmml" xref="algorithm1.21.21.m1.2.2.3.2.3">𝑐</ci></apply><apply id="algorithm1.21.21.m1.2.2.3.3.cmml" xref="algorithm1.21.21.m1.2.2.3.3"><plus id="algorithm1.21.21.m1.2.2.3.3.1.cmml" xref="algorithm1.21.21.m1.2.2.3.3.1"></plus><ci id="algorithm1.21.21.m1.2.2.3.3.2.cmml" xref="algorithm1.21.21.m1.2.2.3.3.2">𝑡</ci><cn type="integer" id="algorithm1.21.21.m1.2.2.3.3.3.cmml" xref="algorithm1.21.21.m1.2.2.3.3.3">1</cn></apply></apply><apply id="algorithm1.21.21.m1.2.2.1.cmml" xref="algorithm1.21.21.m1.2.2.1"><times id="algorithm1.21.21.m1.2.2.1.2.cmml" xref="algorithm1.21.21.m1.2.2.1.2"></times><ci id="algorithm1.21.21.m1.2.2.1.3.cmml" xref="algorithm1.21.21.m1.2.2.1.3">𝐵</ci><ci id="algorithm1.21.21.m1.2.2.1.4.cmml" xref="algorithm1.21.21.m1.2.2.1.4">𝑟</ci><ci id="algorithm1.21.21.m1.2.2.1.5.cmml" xref="algorithm1.21.21.m1.2.2.1.5">𝑜</ci><ci id="algorithm1.21.21.m1.2.2.1.6.cmml" xref="algorithm1.21.21.m1.2.2.1.6">𝑎</ci><ci id="algorithm1.21.21.m1.2.2.1.7.cmml" xref="algorithm1.21.21.m1.2.2.1.7">𝑑</ci><ci id="algorithm1.21.21.m1.2.2.1.8.cmml" xref="algorithm1.21.21.m1.2.2.1.8">𝑐</ci><ci id="algorithm1.21.21.m1.2.2.1.9.cmml" xref="algorithm1.21.21.m1.2.2.1.9">𝑎</ci><ci id="algorithm1.21.21.m1.2.2.1.10.cmml" xref="algorithm1.21.21.m1.2.2.1.10">𝑠</ci><ci id="algorithm1.21.21.m1.2.2.1.11.cmml" xref="algorithm1.21.21.m1.2.2.1.11">𝑡</ci><interval closure="open" id="algorithm1.21.21.m1.2.2.1.1.2.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1"><apply id="algorithm1.21.21.m1.2.2.1.1.1.1.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1">subscript</csymbol><apply id="algorithm1.21.21.m1.2.2.1.1.1.1.2.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.21.21.m1.2.2.1.1.1.1.2.1.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1">superscript</csymbol><ci id="algorithm1.21.21.m1.2.2.1.1.1.1.2.2.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.2.2">𝑤</ci><ci id="algorithm1.21.21.m1.2.2.1.1.1.1.2.3.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.2.3">𝑐</ci></apply><apply id="algorithm1.21.21.m1.2.2.1.1.1.1.3.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3"><plus id="algorithm1.21.21.m1.2.2.1.1.1.1.3.1.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.1"></plus><ci id="algorithm1.21.21.m1.2.2.1.1.1.1.3.2.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm1.21.21.m1.2.2.1.1.1.1.3.3.cmml" xref="algorithm1.21.21.m1.2.2.1.1.1.1.3.3">1</cn></apply></apply><ci id="algorithm1.21.21.m1.1.1.cmml" xref="algorithm1.21.21.m1.1.1">𝑀</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.21.21.m1.2c">W^{c}_{t+1}=Broadcast(w^{c}_{t+1},M)</annotation></semantics></math>

</div>
<div id="algorithm1.33.42" class="ltx_listingline">                          <span id="algorithm1.33.42.1" class="ltx_text ltx_font_bold">else</span> 
</div>
<div id="algorithm1.22.22" class="ltx_listingline">                              
<span id="algorithm1.22.22.1" class="ltx_text ltx_font_bold">Train large model <math id="algorithm1.22.22.1.m1.1" class="ltx_Math" alttext="W_{t}" display="inline"><semantics id="algorithm1.22.22.1.m1.1a"><msub id="algorithm1.22.22.1.m1.1.1" xref="algorithm1.22.22.1.m1.1.1.cmml"><mi id="algorithm1.22.22.1.m1.1.1.2" xref="algorithm1.22.22.1.m1.1.1.2.cmml">W</mi><mi id="algorithm1.22.22.1.m1.1.1.3" xref="algorithm1.22.22.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.22.22.1.m1.1b"><apply id="algorithm1.22.22.1.m1.1.1.cmml" xref="algorithm1.22.22.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.22.22.1.m1.1.1.1.cmml" xref="algorithm1.22.22.1.m1.1.1">subscript</csymbol><ci id="algorithm1.22.22.1.m1.1.1.2.cmml" xref="algorithm1.22.22.1.m1.1.1.2">𝑊</ci><ci id="algorithm1.22.22.1.m1.1.1.3.cmml" xref="algorithm1.22.22.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.22.22.1.m1.1c">W_{t}</annotation></semantics></math>:</span> 
</div>
<div id="algorithm1.23.23" class="ltx_listingline">                              
<math id="algorithm1.23.23.m1.4" class="ltx_Math" alttext="activations^{c}_{t},W^{c}_{t+1}=\ell(W_{t},c)" display="inline"><semantics id="algorithm1.23.23.m1.4a"><mrow id="algorithm1.23.23.m1.4.4" xref="algorithm1.23.23.m1.4.4.cmml"><mrow id="algorithm1.23.23.m1.3.3.2.2" xref="algorithm1.23.23.m1.3.3.2.3.cmml"><mrow id="algorithm1.23.23.m1.2.2.1.1.1" xref="algorithm1.23.23.m1.2.2.1.1.1.cmml"><mi id="algorithm1.23.23.m1.2.2.1.1.1.2" xref="algorithm1.23.23.m1.2.2.1.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.3" xref="algorithm1.23.23.m1.2.2.1.1.1.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1a" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.4" xref="algorithm1.23.23.m1.2.2.1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1b" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.5" xref="algorithm1.23.23.m1.2.2.1.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1c" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.6" xref="algorithm1.23.23.m1.2.2.1.1.1.6.cmml">v</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1d" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.7" xref="algorithm1.23.23.m1.2.2.1.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1e" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.8" xref="algorithm1.23.23.m1.2.2.1.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1f" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.9" xref="algorithm1.23.23.m1.2.2.1.1.1.9.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1g" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.10" xref="algorithm1.23.23.m1.2.2.1.1.1.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1h" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><mi id="algorithm1.23.23.m1.2.2.1.1.1.11" xref="algorithm1.23.23.m1.2.2.1.1.1.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.2.2.1.1.1.1i" xref="algorithm1.23.23.m1.2.2.1.1.1.1.cmml">​</mo><msubsup id="algorithm1.23.23.m1.2.2.1.1.1.12" xref="algorithm1.23.23.m1.2.2.1.1.1.12.cmml"><mi id="algorithm1.23.23.m1.2.2.1.1.1.12.2.2" xref="algorithm1.23.23.m1.2.2.1.1.1.12.2.2.cmml">s</mi><mi id="algorithm1.23.23.m1.2.2.1.1.1.12.3" xref="algorithm1.23.23.m1.2.2.1.1.1.12.3.cmml">t</mi><mi id="algorithm1.23.23.m1.2.2.1.1.1.12.2.3" xref="algorithm1.23.23.m1.2.2.1.1.1.12.2.3.cmml">c</mi></msubsup></mrow><mo id="algorithm1.23.23.m1.3.3.2.2.3" xref="algorithm1.23.23.m1.3.3.2.3.cmml">,</mo><msubsup id="algorithm1.23.23.m1.3.3.2.2.2" xref="algorithm1.23.23.m1.3.3.2.2.2.cmml"><mi id="algorithm1.23.23.m1.3.3.2.2.2.2.2" xref="algorithm1.23.23.m1.3.3.2.2.2.2.2.cmml">W</mi><mrow id="algorithm1.23.23.m1.3.3.2.2.2.3" xref="algorithm1.23.23.m1.3.3.2.2.2.3.cmml"><mi id="algorithm1.23.23.m1.3.3.2.2.2.3.2" xref="algorithm1.23.23.m1.3.3.2.2.2.3.2.cmml">t</mi><mo id="algorithm1.23.23.m1.3.3.2.2.2.3.1" xref="algorithm1.23.23.m1.3.3.2.2.2.3.1.cmml">+</mo><mn id="algorithm1.23.23.m1.3.3.2.2.2.3.3" xref="algorithm1.23.23.m1.3.3.2.2.2.3.3.cmml">1</mn></mrow><mi id="algorithm1.23.23.m1.3.3.2.2.2.2.3" xref="algorithm1.23.23.m1.3.3.2.2.2.2.3.cmml">c</mi></msubsup></mrow><mo id="algorithm1.23.23.m1.4.4.4" xref="algorithm1.23.23.m1.4.4.4.cmml">=</mo><mrow id="algorithm1.23.23.m1.4.4.3" xref="algorithm1.23.23.m1.4.4.3.cmml"><mi mathvariant="normal" id="algorithm1.23.23.m1.4.4.3.3" xref="algorithm1.23.23.m1.4.4.3.3.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="algorithm1.23.23.m1.4.4.3.2" xref="algorithm1.23.23.m1.4.4.3.2.cmml">​</mo><mrow id="algorithm1.23.23.m1.4.4.3.1.1" xref="algorithm1.23.23.m1.4.4.3.1.2.cmml"><mo stretchy="false" id="algorithm1.23.23.m1.4.4.3.1.1.2" xref="algorithm1.23.23.m1.4.4.3.1.2.cmml">(</mo><msub id="algorithm1.23.23.m1.4.4.3.1.1.1" xref="algorithm1.23.23.m1.4.4.3.1.1.1.cmml"><mi id="algorithm1.23.23.m1.4.4.3.1.1.1.2" xref="algorithm1.23.23.m1.4.4.3.1.1.1.2.cmml">W</mi><mi id="algorithm1.23.23.m1.4.4.3.1.1.1.3" xref="algorithm1.23.23.m1.4.4.3.1.1.1.3.cmml">t</mi></msub><mo id="algorithm1.23.23.m1.4.4.3.1.1.3" xref="algorithm1.23.23.m1.4.4.3.1.2.cmml">,</mo><mi id="algorithm1.23.23.m1.1.1" xref="algorithm1.23.23.m1.1.1.cmml">c</mi><mo stretchy="false" id="algorithm1.23.23.m1.4.4.3.1.1.4" xref="algorithm1.23.23.m1.4.4.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.23.23.m1.4b"><apply id="algorithm1.23.23.m1.4.4.cmml" xref="algorithm1.23.23.m1.4.4"><eq id="algorithm1.23.23.m1.4.4.4.cmml" xref="algorithm1.23.23.m1.4.4.4"></eq><list id="algorithm1.23.23.m1.3.3.2.3.cmml" xref="algorithm1.23.23.m1.3.3.2.2"><apply id="algorithm1.23.23.m1.2.2.1.1.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1"><times id="algorithm1.23.23.m1.2.2.1.1.1.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.1"></times><ci id="algorithm1.23.23.m1.2.2.1.1.1.2.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.2">𝑎</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.3.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.3">𝑐</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.4.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.4">𝑡</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.5.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.5">𝑖</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.6.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.6">𝑣</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.7.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.7">𝑎</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.8.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.8">𝑡</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.9.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.9">𝑖</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.10.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.10">𝑜</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.11.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.11">𝑛</ci><apply id="algorithm1.23.23.m1.2.2.1.1.1.12.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.2.2.1.1.1.12.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12">subscript</csymbol><apply id="algorithm1.23.23.m1.2.2.1.1.1.12.2.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.2.2.1.1.1.12.2.1.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12">superscript</csymbol><ci id="algorithm1.23.23.m1.2.2.1.1.1.12.2.2.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12.2.2">𝑠</ci><ci id="algorithm1.23.23.m1.2.2.1.1.1.12.2.3.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12.2.3">𝑐</ci></apply><ci id="algorithm1.23.23.m1.2.2.1.1.1.12.3.cmml" xref="algorithm1.23.23.m1.2.2.1.1.1.12.3">𝑡</ci></apply></apply><apply id="algorithm1.23.23.m1.3.3.2.2.2.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.3.3.2.2.2.1.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2">subscript</csymbol><apply id="algorithm1.23.23.m1.3.3.2.2.2.2.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.3.3.2.2.2.2.1.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2">superscript</csymbol><ci id="algorithm1.23.23.m1.3.3.2.2.2.2.2.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.2.2">𝑊</ci><ci id="algorithm1.23.23.m1.3.3.2.2.2.2.3.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.2.3">𝑐</ci></apply><apply id="algorithm1.23.23.m1.3.3.2.2.2.3.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.3"><plus id="algorithm1.23.23.m1.3.3.2.2.2.3.1.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.3.1"></plus><ci id="algorithm1.23.23.m1.3.3.2.2.2.3.2.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.3.2">𝑡</ci><cn type="integer" id="algorithm1.23.23.m1.3.3.2.2.2.3.3.cmml" xref="algorithm1.23.23.m1.3.3.2.2.2.3.3">1</cn></apply></apply></list><apply id="algorithm1.23.23.m1.4.4.3.cmml" xref="algorithm1.23.23.m1.4.4.3"><times id="algorithm1.23.23.m1.4.4.3.2.cmml" xref="algorithm1.23.23.m1.4.4.3.2"></times><ci id="algorithm1.23.23.m1.4.4.3.3.cmml" xref="algorithm1.23.23.m1.4.4.3.3">ℓ</ci><interval closure="open" id="algorithm1.23.23.m1.4.4.3.1.2.cmml" xref="algorithm1.23.23.m1.4.4.3.1.1"><apply id="algorithm1.23.23.m1.4.4.3.1.1.1.cmml" xref="algorithm1.23.23.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="algorithm1.23.23.m1.4.4.3.1.1.1.1.cmml" xref="algorithm1.23.23.m1.4.4.3.1.1.1">subscript</csymbol><ci id="algorithm1.23.23.m1.4.4.3.1.1.1.2.cmml" xref="algorithm1.23.23.m1.4.4.3.1.1.1.2">𝑊</ci><ci id="algorithm1.23.23.m1.4.4.3.1.1.1.3.cmml" xref="algorithm1.23.23.m1.4.4.3.1.1.1.3">𝑡</ci></apply><ci id="algorithm1.23.23.m1.1.1.cmml" xref="algorithm1.23.23.m1.1.1">𝑐</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.23.23.m1.4c">activations^{c}_{t},W^{c}_{t+1}=\ell(W_{t},c)</annotation></semantics></math> ;
</div>
<div id="algorithm1.33.43" class="ltx_listingline">                              

</div>
<div id="algorithm1.33.44" class="ltx_listingline">                                end if
</div>
<div id="algorithm1.33.45" class="ltx_listingline">                              
</div>
<div id="algorithm1.33.46" class="ltx_listingline">                                end for
</div>
<div id="algorithm1.24.24" class="ltx_listingline">                              <math id="algorithm1.24.24.m1.1" class="ltx_Math" alttext="activations_{t}=\frac{1}{n}\sum_{c\in C_{t}}activations^{c}_{t}" display="inline"><semantics id="algorithm1.24.24.m1.1a"><mrow id="algorithm1.24.24.m1.1.1" xref="algorithm1.24.24.m1.1.1.cmml"><mrow id="algorithm1.24.24.m1.1.1.2" xref="algorithm1.24.24.m1.1.1.2.cmml"><mi id="algorithm1.24.24.m1.1.1.2.2" xref="algorithm1.24.24.m1.1.1.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.3" xref="algorithm1.24.24.m1.1.1.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1a" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.4" xref="algorithm1.24.24.m1.1.1.2.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1b" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.5" xref="algorithm1.24.24.m1.1.1.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1c" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.6" xref="algorithm1.24.24.m1.1.1.2.6.cmml">v</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1d" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.7" xref="algorithm1.24.24.m1.1.1.2.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1e" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.8" xref="algorithm1.24.24.m1.1.1.2.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1f" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.9" xref="algorithm1.24.24.m1.1.1.2.9.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1g" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.10" xref="algorithm1.24.24.m1.1.1.2.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1h" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.2.11" xref="algorithm1.24.24.m1.1.1.2.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.2.1i" xref="algorithm1.24.24.m1.1.1.2.1.cmml">​</mo><msub id="algorithm1.24.24.m1.1.1.2.12" xref="algorithm1.24.24.m1.1.1.2.12.cmml"><mi id="algorithm1.24.24.m1.1.1.2.12.2" xref="algorithm1.24.24.m1.1.1.2.12.2.cmml">s</mi><mi id="algorithm1.24.24.m1.1.1.2.12.3" xref="algorithm1.24.24.m1.1.1.2.12.3.cmml">t</mi></msub></mrow><mo id="algorithm1.24.24.m1.1.1.1" xref="algorithm1.24.24.m1.1.1.1.cmml">=</mo><mrow id="algorithm1.24.24.m1.1.1.3" xref="algorithm1.24.24.m1.1.1.3.cmml"><mfrac id="algorithm1.24.24.m1.1.1.3.2" xref="algorithm1.24.24.m1.1.1.3.2.cmml"><mn id="algorithm1.24.24.m1.1.1.3.2.2" xref="algorithm1.24.24.m1.1.1.3.2.2.cmml">1</mn><mi id="algorithm1.24.24.m1.1.1.3.2.3" xref="algorithm1.24.24.m1.1.1.3.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.1" xref="algorithm1.24.24.m1.1.1.3.1.cmml">​</mo><mrow id="algorithm1.24.24.m1.1.1.3.3" xref="algorithm1.24.24.m1.1.1.3.3.cmml"><msub id="algorithm1.24.24.m1.1.1.3.3.1" xref="algorithm1.24.24.m1.1.1.3.3.1.cmml"><mo id="algorithm1.24.24.m1.1.1.3.3.1.2" xref="algorithm1.24.24.m1.1.1.3.3.1.2.cmml">∑</mo><mrow id="algorithm1.24.24.m1.1.1.3.3.1.3" xref="algorithm1.24.24.m1.1.1.3.3.1.3.cmml"><mi id="algorithm1.24.24.m1.1.1.3.3.1.3.2" xref="algorithm1.24.24.m1.1.1.3.3.1.3.2.cmml">c</mi><mo id="algorithm1.24.24.m1.1.1.3.3.1.3.1" xref="algorithm1.24.24.m1.1.1.3.3.1.3.1.cmml">∈</mo><msub id="algorithm1.24.24.m1.1.1.3.3.1.3.3" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3.cmml"><mi id="algorithm1.24.24.m1.1.1.3.3.1.3.3.2" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3.2.cmml">C</mi><mi id="algorithm1.24.24.m1.1.1.3.3.1.3.3.3" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="algorithm1.24.24.m1.1.1.3.3.2" xref="algorithm1.24.24.m1.1.1.3.3.2.cmml"><mi id="algorithm1.24.24.m1.1.1.3.3.2.2" xref="algorithm1.24.24.m1.1.1.3.3.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.3" xref="algorithm1.24.24.m1.1.1.3.3.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1a" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.4" xref="algorithm1.24.24.m1.1.1.3.3.2.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1b" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.5" xref="algorithm1.24.24.m1.1.1.3.3.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1c" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.6" xref="algorithm1.24.24.m1.1.1.3.3.2.6.cmml">v</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1d" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.7" xref="algorithm1.24.24.m1.1.1.3.3.2.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1e" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.8" xref="algorithm1.24.24.m1.1.1.3.3.2.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1f" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.9" xref="algorithm1.24.24.m1.1.1.3.3.2.9.cmml">i</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1g" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.10" xref="algorithm1.24.24.m1.1.1.3.3.2.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1h" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><mi id="algorithm1.24.24.m1.1.1.3.3.2.11" xref="algorithm1.24.24.m1.1.1.3.3.2.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="algorithm1.24.24.m1.1.1.3.3.2.1i" xref="algorithm1.24.24.m1.1.1.3.3.2.1.cmml">​</mo><msubsup id="algorithm1.24.24.m1.1.1.3.3.2.12" xref="algorithm1.24.24.m1.1.1.3.3.2.12.cmml"><mi id="algorithm1.24.24.m1.1.1.3.3.2.12.2.2" xref="algorithm1.24.24.m1.1.1.3.3.2.12.2.2.cmml">s</mi><mi id="algorithm1.24.24.m1.1.1.3.3.2.12.3" xref="algorithm1.24.24.m1.1.1.3.3.2.12.3.cmml">t</mi><mi id="algorithm1.24.24.m1.1.1.3.3.2.12.2.3" xref="algorithm1.24.24.m1.1.1.3.3.2.12.2.3.cmml">c</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.24.24.m1.1b"><apply id="algorithm1.24.24.m1.1.1.cmml" xref="algorithm1.24.24.m1.1.1"><eq id="algorithm1.24.24.m1.1.1.1.cmml" xref="algorithm1.24.24.m1.1.1.1"></eq><apply id="algorithm1.24.24.m1.1.1.2.cmml" xref="algorithm1.24.24.m1.1.1.2"><times id="algorithm1.24.24.m1.1.1.2.1.cmml" xref="algorithm1.24.24.m1.1.1.2.1"></times><ci id="algorithm1.24.24.m1.1.1.2.2.cmml" xref="algorithm1.24.24.m1.1.1.2.2">𝑎</ci><ci id="algorithm1.24.24.m1.1.1.2.3.cmml" xref="algorithm1.24.24.m1.1.1.2.3">𝑐</ci><ci id="algorithm1.24.24.m1.1.1.2.4.cmml" xref="algorithm1.24.24.m1.1.1.2.4">𝑡</ci><ci id="algorithm1.24.24.m1.1.1.2.5.cmml" xref="algorithm1.24.24.m1.1.1.2.5">𝑖</ci><ci id="algorithm1.24.24.m1.1.1.2.6.cmml" xref="algorithm1.24.24.m1.1.1.2.6">𝑣</ci><ci id="algorithm1.24.24.m1.1.1.2.7.cmml" xref="algorithm1.24.24.m1.1.1.2.7">𝑎</ci><ci id="algorithm1.24.24.m1.1.1.2.8.cmml" xref="algorithm1.24.24.m1.1.1.2.8">𝑡</ci><ci id="algorithm1.24.24.m1.1.1.2.9.cmml" xref="algorithm1.24.24.m1.1.1.2.9">𝑖</ci><ci id="algorithm1.24.24.m1.1.1.2.10.cmml" xref="algorithm1.24.24.m1.1.1.2.10">𝑜</ci><ci id="algorithm1.24.24.m1.1.1.2.11.cmml" xref="algorithm1.24.24.m1.1.1.2.11">𝑛</ci><apply id="algorithm1.24.24.m1.1.1.2.12.cmml" xref="algorithm1.24.24.m1.1.1.2.12"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.1.2.12.1.cmml" xref="algorithm1.24.24.m1.1.1.2.12">subscript</csymbol><ci id="algorithm1.24.24.m1.1.1.2.12.2.cmml" xref="algorithm1.24.24.m1.1.1.2.12.2">𝑠</ci><ci id="algorithm1.24.24.m1.1.1.2.12.3.cmml" xref="algorithm1.24.24.m1.1.1.2.12.3">𝑡</ci></apply></apply><apply id="algorithm1.24.24.m1.1.1.3.cmml" xref="algorithm1.24.24.m1.1.1.3"><times id="algorithm1.24.24.m1.1.1.3.1.cmml" xref="algorithm1.24.24.m1.1.1.3.1"></times><apply id="algorithm1.24.24.m1.1.1.3.2.cmml" xref="algorithm1.24.24.m1.1.1.3.2"><divide id="algorithm1.24.24.m1.1.1.3.2.1.cmml" xref="algorithm1.24.24.m1.1.1.3.2"></divide><cn type="integer" id="algorithm1.24.24.m1.1.1.3.2.2.cmml" xref="algorithm1.24.24.m1.1.1.3.2.2">1</cn><ci id="algorithm1.24.24.m1.1.1.3.2.3.cmml" xref="algorithm1.24.24.m1.1.1.3.2.3">𝑛</ci></apply><apply id="algorithm1.24.24.m1.1.1.3.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3"><apply id="algorithm1.24.24.m1.1.1.3.3.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.1.3.3.1.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1">subscript</csymbol><sum id="algorithm1.24.24.m1.1.1.3.3.1.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.2"></sum><apply id="algorithm1.24.24.m1.1.1.3.3.1.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3"><in id="algorithm1.24.24.m1.1.1.3.3.1.3.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.1"></in><ci id="algorithm1.24.24.m1.1.1.3.3.1.3.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.2">𝑐</ci><apply id="algorithm1.24.24.m1.1.1.3.3.1.3.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.1.3.3.1.3.3.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3">subscript</csymbol><ci id="algorithm1.24.24.m1.1.1.3.3.1.3.3.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3.2">𝐶</ci><ci id="algorithm1.24.24.m1.1.1.3.3.1.3.3.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="algorithm1.24.24.m1.1.1.3.3.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2"><times id="algorithm1.24.24.m1.1.1.3.3.2.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.1"></times><ci id="algorithm1.24.24.m1.1.1.3.3.2.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.2">𝑎</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.3">𝑐</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.4.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.4">𝑡</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.5.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.5">𝑖</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.6.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.6">𝑣</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.7.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.7">𝑎</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.8.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.8">𝑡</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.9.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.9">𝑖</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.10.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.10">𝑜</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.11.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.11">𝑛</ci><apply id="algorithm1.24.24.m1.1.1.3.3.2.12.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.1.3.3.2.12.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12">subscript</csymbol><apply id="algorithm1.24.24.m1.1.1.3.3.2.12.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12"><csymbol cd="ambiguous" id="algorithm1.24.24.m1.1.1.3.3.2.12.2.1.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12">superscript</csymbol><ci id="algorithm1.24.24.m1.1.1.3.3.2.12.2.2.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12.2.2">𝑠</ci><ci id="algorithm1.24.24.m1.1.1.3.3.2.12.2.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12.2.3">𝑐</ci></apply><ci id="algorithm1.24.24.m1.1.1.3.3.2.12.3.cmml" xref="algorithm1.24.24.m1.1.1.3.3.2.12.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.24.24.m1.1c">activations_{t}=\frac{1}{n}\sum_{c\in C_{t}}activations^{c}_{t}</annotation></semantics></math>;
</div>
<div id="algorithm1.25.25" class="ltx_listingline">                              
<math id="algorithm1.25.25.m1.1" class="ltx_Math" alttext="\mu=\sum_{c\in C_{t}}\frac{s_{c}}{S}W^{c}_{t+1}" display="inline"><semantics id="algorithm1.25.25.m1.1a"><mrow id="algorithm1.25.25.m1.1.1" xref="algorithm1.25.25.m1.1.1.cmml"><mi id="algorithm1.25.25.m1.1.1.2" xref="algorithm1.25.25.m1.1.1.2.cmml">μ</mi><mo rspace="0.111em" id="algorithm1.25.25.m1.1.1.1" xref="algorithm1.25.25.m1.1.1.1.cmml">=</mo><mrow id="algorithm1.25.25.m1.1.1.3" xref="algorithm1.25.25.m1.1.1.3.cmml"><msub id="algorithm1.25.25.m1.1.1.3.1" xref="algorithm1.25.25.m1.1.1.3.1.cmml"><mo id="algorithm1.25.25.m1.1.1.3.1.2" xref="algorithm1.25.25.m1.1.1.3.1.2.cmml">∑</mo><mrow id="algorithm1.25.25.m1.1.1.3.1.3" xref="algorithm1.25.25.m1.1.1.3.1.3.cmml"><mi id="algorithm1.25.25.m1.1.1.3.1.3.2" xref="algorithm1.25.25.m1.1.1.3.1.3.2.cmml">c</mi><mo id="algorithm1.25.25.m1.1.1.3.1.3.1" xref="algorithm1.25.25.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="algorithm1.25.25.m1.1.1.3.1.3.3" xref="algorithm1.25.25.m1.1.1.3.1.3.3.cmml"><mi id="algorithm1.25.25.m1.1.1.3.1.3.3.2" xref="algorithm1.25.25.m1.1.1.3.1.3.3.2.cmml">C</mi><mi id="algorithm1.25.25.m1.1.1.3.1.3.3.3" xref="algorithm1.25.25.m1.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="algorithm1.25.25.m1.1.1.3.2" xref="algorithm1.25.25.m1.1.1.3.2.cmml"><mfrac id="algorithm1.25.25.m1.1.1.3.2.2" xref="algorithm1.25.25.m1.1.1.3.2.2.cmml"><msub id="algorithm1.25.25.m1.1.1.3.2.2.2" xref="algorithm1.25.25.m1.1.1.3.2.2.2.cmml"><mi id="algorithm1.25.25.m1.1.1.3.2.2.2.2" xref="algorithm1.25.25.m1.1.1.3.2.2.2.2.cmml">s</mi><mi id="algorithm1.25.25.m1.1.1.3.2.2.2.3" xref="algorithm1.25.25.m1.1.1.3.2.2.2.3.cmml">c</mi></msub><mi id="algorithm1.25.25.m1.1.1.3.2.2.3" xref="algorithm1.25.25.m1.1.1.3.2.2.3.cmml">S</mi></mfrac><mo lspace="0em" rspace="0em" id="algorithm1.25.25.m1.1.1.3.2.1" xref="algorithm1.25.25.m1.1.1.3.2.1.cmml">​</mo><msubsup id="algorithm1.25.25.m1.1.1.3.2.3" xref="algorithm1.25.25.m1.1.1.3.2.3.cmml"><mi id="algorithm1.25.25.m1.1.1.3.2.3.2.2" xref="algorithm1.25.25.m1.1.1.3.2.3.2.2.cmml">W</mi><mrow id="algorithm1.25.25.m1.1.1.3.2.3.3" xref="algorithm1.25.25.m1.1.1.3.2.3.3.cmml"><mi id="algorithm1.25.25.m1.1.1.3.2.3.3.2" xref="algorithm1.25.25.m1.1.1.3.2.3.3.2.cmml">t</mi><mo id="algorithm1.25.25.m1.1.1.3.2.3.3.1" xref="algorithm1.25.25.m1.1.1.3.2.3.3.1.cmml">+</mo><mn id="algorithm1.25.25.m1.1.1.3.2.3.3.3" xref="algorithm1.25.25.m1.1.1.3.2.3.3.3.cmml">1</mn></mrow><mi id="algorithm1.25.25.m1.1.1.3.2.3.2.3" xref="algorithm1.25.25.m1.1.1.3.2.3.2.3.cmml">c</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.25.25.m1.1b"><apply id="algorithm1.25.25.m1.1.1.cmml" xref="algorithm1.25.25.m1.1.1"><eq id="algorithm1.25.25.m1.1.1.1.cmml" xref="algorithm1.25.25.m1.1.1.1"></eq><ci id="algorithm1.25.25.m1.1.1.2.cmml" xref="algorithm1.25.25.m1.1.1.2">𝜇</ci><apply id="algorithm1.25.25.m1.1.1.3.cmml" xref="algorithm1.25.25.m1.1.1.3"><apply id="algorithm1.25.25.m1.1.1.3.1.cmml" xref="algorithm1.25.25.m1.1.1.3.1"><csymbol cd="ambiguous" id="algorithm1.25.25.m1.1.1.3.1.1.cmml" xref="algorithm1.25.25.m1.1.1.3.1">subscript</csymbol><sum id="algorithm1.25.25.m1.1.1.3.1.2.cmml" xref="algorithm1.25.25.m1.1.1.3.1.2"></sum><apply id="algorithm1.25.25.m1.1.1.3.1.3.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3"><in id="algorithm1.25.25.m1.1.1.3.1.3.1.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.1"></in><ci id="algorithm1.25.25.m1.1.1.3.1.3.2.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.2">𝑐</ci><apply id="algorithm1.25.25.m1.1.1.3.1.3.3.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="algorithm1.25.25.m1.1.1.3.1.3.3.1.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.3">subscript</csymbol><ci id="algorithm1.25.25.m1.1.1.3.1.3.3.2.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.3.2">𝐶</ci><ci id="algorithm1.25.25.m1.1.1.3.1.3.3.3.cmml" xref="algorithm1.25.25.m1.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="algorithm1.25.25.m1.1.1.3.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2"><times id="algorithm1.25.25.m1.1.1.3.2.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.1"></times><apply id="algorithm1.25.25.m1.1.1.3.2.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2"><divide id="algorithm1.25.25.m1.1.1.3.2.2.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2"></divide><apply id="algorithm1.25.25.m1.1.1.3.2.2.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="algorithm1.25.25.m1.1.1.3.2.2.2.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2.2">subscript</csymbol><ci id="algorithm1.25.25.m1.1.1.3.2.2.2.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2.2.2">𝑠</ci><ci id="algorithm1.25.25.m1.1.1.3.2.2.2.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2.2.3">𝑐</ci></apply><ci id="algorithm1.25.25.m1.1.1.3.2.2.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.2.3">𝑆</ci></apply><apply id="algorithm1.25.25.m1.1.1.3.2.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algorithm1.25.25.m1.1.1.3.2.3.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3">subscript</csymbol><apply id="algorithm1.25.25.m1.1.1.3.2.3.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algorithm1.25.25.m1.1.1.3.2.3.2.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3">superscript</csymbol><ci id="algorithm1.25.25.m1.1.1.3.2.3.2.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.2.2">𝑊</ci><ci id="algorithm1.25.25.m1.1.1.3.2.3.2.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.2.3">𝑐</ci></apply><apply id="algorithm1.25.25.m1.1.1.3.2.3.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.3"><plus id="algorithm1.25.25.m1.1.1.3.2.3.3.1.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.3.1"></plus><ci id="algorithm1.25.25.m1.1.1.3.2.3.3.2.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.3.2">𝑡</ci><cn type="integer" id="algorithm1.25.25.m1.1.1.3.2.3.3.3.cmml" xref="algorithm1.25.25.m1.1.1.3.2.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.25.25.m1.1c">\mu=\sum_{c\in C_{t}}\frac{s_{c}}{S}W^{c}_{t+1}</annotation></semantics></math> ;
</div>
<div id="algorithm1.27.27" class="ltx_listingline">                                <span id="algorithm1.26.26.1" class="ltx_text ltx_font_typewriter"><math id="algorithm1.26.26.1.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="algorithm1.26.26.1.1.m1.1a"><mo id="algorithm1.26.26.1.1.m1.1.1" xref="algorithm1.26.26.1.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="algorithm1.26.26.1.1.m1.1b"><ci id="algorithm1.26.26.1.1.m1.1.1.cmml" xref="algorithm1.26.26.1.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.26.26.1.1.m1.1c">\triangleright</annotation></semantics></math> </span><math id="algorithm1.27.27.m1.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="algorithm1.27.27.m1.1a"><msub id="algorithm1.27.27.m1.1.1" xref="algorithm1.27.27.m1.1.1.cmml"><mi id="algorithm1.27.27.m1.1.1.2" xref="algorithm1.27.27.m1.1.1.2.cmml">S</mi><mi id="algorithm1.27.27.m1.1.1.3" xref="algorithm1.27.27.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algorithm1.27.27.m1.1b"><apply id="algorithm1.27.27.m1.1.1.cmml" xref="algorithm1.27.27.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.27.27.m1.1.1.1.cmml" xref="algorithm1.27.27.m1.1.1">subscript</csymbol><ci id="algorithm1.27.27.m1.1.1.2.cmml" xref="algorithm1.27.27.m1.1.1.2">𝑆</ci><ci id="algorithm1.27.27.m1.1.1.3.cmml" xref="algorithm1.27.27.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.27.27.m1.1c">S_{t}</annotation></semantics></math><span id="algorithm1.27.27.2" class="ltx_text ltx_font_typewriter">: Total samples</span>
</div>
<div id="algorithm1.28.28" class="ltx_listingline">                              
<math id="algorithm1.28.28.m1.1" class="ltx_Math" alttext="\sigma=\text{WeightedStdev}(W_{t+1})" display="inline"><semantics id="algorithm1.28.28.m1.1a"><mrow id="algorithm1.28.28.m1.1.1" xref="algorithm1.28.28.m1.1.1.cmml"><mi id="algorithm1.28.28.m1.1.1.3" xref="algorithm1.28.28.m1.1.1.3.cmml">σ</mi><mo id="algorithm1.28.28.m1.1.1.2" xref="algorithm1.28.28.m1.1.1.2.cmml">=</mo><mrow id="algorithm1.28.28.m1.1.1.1" xref="algorithm1.28.28.m1.1.1.1.cmml"><mtext id="algorithm1.28.28.m1.1.1.1.3" xref="algorithm1.28.28.m1.1.1.1.3a.cmml">WeightedStdev</mtext><mo lspace="0em" rspace="0em" id="algorithm1.28.28.m1.1.1.1.2" xref="algorithm1.28.28.m1.1.1.1.2.cmml">​</mo><mrow id="algorithm1.28.28.m1.1.1.1.1.1" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.28.28.m1.1.1.1.1.1.2" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">(</mo><msub id="algorithm1.28.28.m1.1.1.1.1.1.1" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml"><mi id="algorithm1.28.28.m1.1.1.1.1.1.1.2" xref="algorithm1.28.28.m1.1.1.1.1.1.1.2.cmml">W</mi><mrow id="algorithm1.28.28.m1.1.1.1.1.1.1.3" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.cmml"><mi id="algorithm1.28.28.m1.1.1.1.1.1.1.3.2" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="algorithm1.28.28.m1.1.1.1.1.1.1.3.1" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.1.cmml">+</mo><mn id="algorithm1.28.28.m1.1.1.1.1.1.1.3.3" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="algorithm1.28.28.m1.1.1.1.1.1.3" xref="algorithm1.28.28.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.28.28.m1.1b"><apply id="algorithm1.28.28.m1.1.1.cmml" xref="algorithm1.28.28.m1.1.1"><eq id="algorithm1.28.28.m1.1.1.2.cmml" xref="algorithm1.28.28.m1.1.1.2"></eq><ci id="algorithm1.28.28.m1.1.1.3.cmml" xref="algorithm1.28.28.m1.1.1.3">𝜎</ci><apply id="algorithm1.28.28.m1.1.1.1.cmml" xref="algorithm1.28.28.m1.1.1.1"><times id="algorithm1.28.28.m1.1.1.1.2.cmml" xref="algorithm1.28.28.m1.1.1.1.2"></times><ci id="algorithm1.28.28.m1.1.1.1.3a.cmml" xref="algorithm1.28.28.m1.1.1.1.3"><mtext id="algorithm1.28.28.m1.1.1.1.3.cmml" xref="algorithm1.28.28.m1.1.1.1.3">WeightedStdev</mtext></ci><apply id="algorithm1.28.28.m1.1.1.1.1.1.1.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.28.28.m1.1.1.1.1.1.1.1.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.28.28.m1.1.1.1.1.1.1.2.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1.2">𝑊</ci><apply id="algorithm1.28.28.m1.1.1.1.1.1.1.3.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3"><plus id="algorithm1.28.28.m1.1.1.1.1.1.1.3.1.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.1"></plus><ci id="algorithm1.28.28.m1.1.1.1.1.1.1.3.2.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.2">𝑡</ci><cn type="integer" id="algorithm1.28.28.m1.1.1.1.1.1.1.3.3.cmml" xref="algorithm1.28.28.m1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.28.28.m1.1c">\sigma=\text{WeightedStdev}(W_{t+1})</annotation></semantics></math>;
</div>
<div id="algorithm1.29.29" class="ltx_listingline">                              
<math id="algorithm1.29.29.m1.1" class="ltx_Math" alttext="\sigma=\frac{\sigma}{\sqrt{t}}" display="inline"><semantics id="algorithm1.29.29.m1.1a"><mrow id="algorithm1.29.29.m1.1.1" xref="algorithm1.29.29.m1.1.1.cmml"><mi id="algorithm1.29.29.m1.1.1.2" xref="algorithm1.29.29.m1.1.1.2.cmml">σ</mi><mo id="algorithm1.29.29.m1.1.1.1" xref="algorithm1.29.29.m1.1.1.1.cmml">=</mo><mfrac id="algorithm1.29.29.m1.1.1.3" xref="algorithm1.29.29.m1.1.1.3.cmml"><mi id="algorithm1.29.29.m1.1.1.3.2" xref="algorithm1.29.29.m1.1.1.3.2.cmml">σ</mi><msqrt id="algorithm1.29.29.m1.1.1.3.3" xref="algorithm1.29.29.m1.1.1.3.3.cmml"><mi id="algorithm1.29.29.m1.1.1.3.3.2" xref="algorithm1.29.29.m1.1.1.3.3.2.cmml">t</mi></msqrt></mfrac></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.29.29.m1.1b"><apply id="algorithm1.29.29.m1.1.1.cmml" xref="algorithm1.29.29.m1.1.1"><eq id="algorithm1.29.29.m1.1.1.1.cmml" xref="algorithm1.29.29.m1.1.1.1"></eq><ci id="algorithm1.29.29.m1.1.1.2.cmml" xref="algorithm1.29.29.m1.1.1.2">𝜎</ci><apply id="algorithm1.29.29.m1.1.1.3.cmml" xref="algorithm1.29.29.m1.1.1.3"><divide id="algorithm1.29.29.m1.1.1.3.1.cmml" xref="algorithm1.29.29.m1.1.1.3"></divide><ci id="algorithm1.29.29.m1.1.1.3.2.cmml" xref="algorithm1.29.29.m1.1.1.3.2">𝜎</ci><apply id="algorithm1.29.29.m1.1.1.3.3.cmml" xref="algorithm1.29.29.m1.1.1.3.3"><root id="algorithm1.29.29.m1.1.1.3.3a.cmml" xref="algorithm1.29.29.m1.1.1.3.3"></root><ci id="algorithm1.29.29.m1.1.1.3.3.2.cmml" xref="algorithm1.29.29.m1.1.1.3.3.2">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.29.29.m1.1c">\sigma=\frac{\sigma}{\sqrt{t}}</annotation></semantics></math>;
</div>
<div id="algorithm1.30.30" class="ltx_listingline">                              
<math id="algorithm1.30.30.m1.2" class="ltx_Math" alttext="W_{t+1}=\mathcal{N}(\mu,\,\sigma^{2})\," display="inline"><semantics id="algorithm1.30.30.m1.2a"><mrow id="algorithm1.30.30.m1.2.2" xref="algorithm1.30.30.m1.2.2.cmml"><msub id="algorithm1.30.30.m1.2.2.3" xref="algorithm1.30.30.m1.2.2.3.cmml"><mi id="algorithm1.30.30.m1.2.2.3.2" xref="algorithm1.30.30.m1.2.2.3.2.cmml">W</mi><mrow id="algorithm1.30.30.m1.2.2.3.3" xref="algorithm1.30.30.m1.2.2.3.3.cmml"><mi id="algorithm1.30.30.m1.2.2.3.3.2" xref="algorithm1.30.30.m1.2.2.3.3.2.cmml">t</mi><mo id="algorithm1.30.30.m1.2.2.3.3.1" xref="algorithm1.30.30.m1.2.2.3.3.1.cmml">+</mo><mn id="algorithm1.30.30.m1.2.2.3.3.3" xref="algorithm1.30.30.m1.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="algorithm1.30.30.m1.2.2.2" xref="algorithm1.30.30.m1.2.2.2.cmml">=</mo><mrow id="algorithm1.30.30.m1.2.2.1" xref="algorithm1.30.30.m1.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.30.30.m1.2.2.1.3" xref="algorithm1.30.30.m1.2.2.1.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="algorithm1.30.30.m1.2.2.1.2" xref="algorithm1.30.30.m1.2.2.1.2.cmml">​</mo><mrow id="algorithm1.30.30.m1.2.2.1.1.1" xref="algorithm1.30.30.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="algorithm1.30.30.m1.2.2.1.1.1.2" xref="algorithm1.30.30.m1.2.2.1.1.2.cmml">(</mo><mi id="algorithm1.30.30.m1.1.1" xref="algorithm1.30.30.m1.1.1.cmml">μ</mi><mo rspace="0.337em" id="algorithm1.30.30.m1.2.2.1.1.1.3" xref="algorithm1.30.30.m1.2.2.1.1.2.cmml">,</mo><msup id="algorithm1.30.30.m1.2.2.1.1.1.1" xref="algorithm1.30.30.m1.2.2.1.1.1.1.cmml"><mi id="algorithm1.30.30.m1.2.2.1.1.1.1.2" xref="algorithm1.30.30.m1.2.2.1.1.1.1.2.cmml">σ</mi><mn id="algorithm1.30.30.m1.2.2.1.1.1.1.3" xref="algorithm1.30.30.m1.2.2.1.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="algorithm1.30.30.m1.2.2.1.1.1.4" xref="algorithm1.30.30.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.30.30.m1.2b"><apply id="algorithm1.30.30.m1.2.2.cmml" xref="algorithm1.30.30.m1.2.2"><eq id="algorithm1.30.30.m1.2.2.2.cmml" xref="algorithm1.30.30.m1.2.2.2"></eq><apply id="algorithm1.30.30.m1.2.2.3.cmml" xref="algorithm1.30.30.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.30.30.m1.2.2.3.1.cmml" xref="algorithm1.30.30.m1.2.2.3">subscript</csymbol><ci id="algorithm1.30.30.m1.2.2.3.2.cmml" xref="algorithm1.30.30.m1.2.2.3.2">𝑊</ci><apply id="algorithm1.30.30.m1.2.2.3.3.cmml" xref="algorithm1.30.30.m1.2.2.3.3"><plus id="algorithm1.30.30.m1.2.2.3.3.1.cmml" xref="algorithm1.30.30.m1.2.2.3.3.1"></plus><ci id="algorithm1.30.30.m1.2.2.3.3.2.cmml" xref="algorithm1.30.30.m1.2.2.3.3.2">𝑡</ci><cn type="integer" id="algorithm1.30.30.m1.2.2.3.3.3.cmml" xref="algorithm1.30.30.m1.2.2.3.3.3">1</cn></apply></apply><apply id="algorithm1.30.30.m1.2.2.1.cmml" xref="algorithm1.30.30.m1.2.2.1"><times id="algorithm1.30.30.m1.2.2.1.2.cmml" xref="algorithm1.30.30.m1.2.2.1.2"></times><ci id="algorithm1.30.30.m1.2.2.1.3.cmml" xref="algorithm1.30.30.m1.2.2.1.3">𝒩</ci><interval closure="open" id="algorithm1.30.30.m1.2.2.1.1.2.cmml" xref="algorithm1.30.30.m1.2.2.1.1.1"><ci id="algorithm1.30.30.m1.1.1.cmml" xref="algorithm1.30.30.m1.1.1">𝜇</ci><apply id="algorithm1.30.30.m1.2.2.1.1.1.1.cmml" xref="algorithm1.30.30.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.30.30.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.30.30.m1.2.2.1.1.1.1">superscript</csymbol><ci id="algorithm1.30.30.m1.2.2.1.1.1.1.2.cmml" xref="algorithm1.30.30.m1.2.2.1.1.1.1.2">𝜎</ci><cn type="integer" id="algorithm1.30.30.m1.2.2.1.1.1.1.3.cmml" xref="algorithm1.30.30.m1.2.2.1.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.30.30.m1.2c">W_{t+1}=\mathcal{N}(\mu,\,\sigma^{2})\,</annotation></semantics></math>

</div>
<div id="algorithm1.31.31" class="ltx_listingline">                              <span id="algorithm1.31.31.2" class="ltx_text ltx_font_bold">if</span> <em id="algorithm1.31.31.1" class="ltx_emph ltx_font_italic"><math id="algorithm1.31.31.1.m1.1" class="ltx_Math" alttext="(t\mod r)=0" display="inline"><semantics id="algorithm1.31.31.1.m1.1a"><mrow id="algorithm1.31.31.1.m1.1.1" xref="algorithm1.31.31.1.m1.1.1.cmml"><mrow id="algorithm1.31.31.1.m1.1.1.1.1" xref="algorithm1.31.31.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="algorithm1.31.31.1.m1.1.1.1.1.2" xref="algorithm1.31.31.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.31.31.1.m1.1.1.1.1.1" xref="algorithm1.31.31.1.m1.1.1.1.1.1.cmml"><mi id="algorithm1.31.31.1.m1.1.1.1.1.1.2" xref="algorithm1.31.31.1.m1.1.1.1.1.1.2.cmml">t</mi><mo id="algorithm1.31.31.1.m1.1.1.1.1.1.1" xref="algorithm1.31.31.1.m1.1.1.1.1.1.1.cmml">mod</mo><mi id="algorithm1.31.31.1.m1.1.1.1.1.1.3" xref="algorithm1.31.31.1.m1.1.1.1.1.1.3.cmml">r</mi></mrow><mo stretchy="false" id="algorithm1.31.31.1.m1.1.1.1.1.3" xref="algorithm1.31.31.1.m1.1.1.1.1.1.cmml">)</mo></mrow><mo id="algorithm1.31.31.1.m1.1.1.2" xref="algorithm1.31.31.1.m1.1.1.2.cmml">=</mo><mn id="algorithm1.31.31.1.m1.1.1.3" xref="algorithm1.31.31.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.31.31.1.m1.1b"><apply id="algorithm1.31.31.1.m1.1.1.cmml" xref="algorithm1.31.31.1.m1.1.1"><eq id="algorithm1.31.31.1.m1.1.1.2.cmml" xref="algorithm1.31.31.1.m1.1.1.2"></eq><apply id="algorithm1.31.31.1.m1.1.1.1.1.1.cmml" xref="algorithm1.31.31.1.m1.1.1.1.1"><csymbol cd="latexml" id="algorithm1.31.31.1.m1.1.1.1.1.1.1.cmml" xref="algorithm1.31.31.1.m1.1.1.1.1.1.1">modulo</csymbol><ci id="algorithm1.31.31.1.m1.1.1.1.1.1.2.cmml" xref="algorithm1.31.31.1.m1.1.1.1.1.1.2">𝑡</ci><ci id="algorithm1.31.31.1.m1.1.1.1.1.1.3.cmml" xref="algorithm1.31.31.1.m1.1.1.1.1.1.3">𝑟</ci></apply><cn type="integer" id="algorithm1.31.31.1.m1.1.1.3.cmml" xref="algorithm1.31.31.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.31.31.1.m1.1c">(t\mod r)=0</annotation></semantics></math></em> <span id="algorithm1.31.31.3" class="ltx_text ltx_font_bold">then</span> 
</div>
<div id="algorithm1.33.33" class="ltx_listingline">                                   
Update <math id="algorithm1.32.32.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="algorithm1.32.32.m1.1a"><mi id="algorithm1.32.32.m1.1.1" xref="algorithm1.32.32.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="algorithm1.32.32.m1.1b"><ci id="algorithm1.32.32.m1.1.1.cmml" xref="algorithm1.32.32.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.32.32.m1.1c">M</annotation></semantics></math> using activations of dense layer and <math id="algorithm1.33.33.m2.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="algorithm1.33.33.m2.1a"><mi mathvariant="normal" id="algorithm1.33.33.m2.1.1" xref="algorithm1.33.33.m2.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.33.33.m2.1b"><ci id="algorithm1.33.33.m2.1.1.cmml" xref="algorithm1.33.33.m2.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.33.33.m2.1c">\ell</annotation></semantics></math>1-Norm of CNN filters

</div>
<div id="algorithm1.33.47" class="ltx_listingline">                                     end if
</div>
<div id="algorithm1.33.48" class="ltx_listingline">                                   
</div>
<div id="algorithm1.33.49" class="ltx_listingline">                                     end for
</div>
<div id="algorithm1.33.50" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.36.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span><span id="algorithm1.37.2" class="ltx_text ltx_font_sansserif">FedPrune</span></figcaption>
</figure>
<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.18" class="ltx_p">At start of the learning process, the server initializes a global model <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="W_{0}" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><msub id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">W</mi><mn id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝑊</ci><cn type="integer" id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">W_{0}</annotation></semantics></math> and a mask <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">M</annotation></semantics></math>. The server randomly picks a smaller model <math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><msub id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml"><mi id="S4.SS4.p1.3.m3.1.1.2" xref="S4.SS4.p1.3.m3.1.1.2.cmml">w</mi><mn id="S4.SS4.p1.3.m3.1.1.3" xref="S4.SS4.p1.3.m3.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><apply id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p1.3.m3.1.1.2.cmml" xref="S4.SS4.p1.3.m3.1.1.2">𝑤</ci><cn type="integer" id="S4.SS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.p1.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">w_{0}</annotation></semantics></math> (which we call a <em id="S4.SS4.p1.18.1" class="ltx_emph ltx_font_italic">sub-model</em>) from the global model <math id="S4.SS4.p1.4.m4.1" class="ltx_Math" alttext="W_{0}" display="inline"><semantics id="S4.SS4.p1.4.m4.1a"><msub id="S4.SS4.p1.4.m4.1.1" xref="S4.SS4.p1.4.m4.1.1.cmml"><mi id="S4.SS4.p1.4.m4.1.1.2" xref="S4.SS4.p1.4.m4.1.1.2.cmml">W</mi><mn id="S4.SS4.p1.4.m4.1.1.3" xref="S4.SS4.p1.4.m4.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.4.m4.1b"><apply id="S4.SS4.p1.4.m4.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.1.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p1.4.m4.1.1.2.cmml" xref="S4.SS4.p1.4.m4.1.1.2">𝑊</ci><cn type="integer" id="S4.SS4.p1.4.m4.1.1.3.cmml" xref="S4.SS4.p1.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.4.m4.1c">W_{0}</annotation></semantics></math> to send to slow clients. It does so randomly at the start as it does not have any metric to effectively choose a sub-model. Mask <math id="S4.SS4.p1.5.m5.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S4.SS4.p1.5.m5.1a"><mi id="S4.SS4.p1.5.m5.1.1" xref="S4.SS4.p1.5.m5.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.5.m5.1b"><ci id="S4.SS4.p1.5.m5.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.5.m5.1c">M</annotation></semantics></math> is used to keep track of the random indices. The server selects <math id="S4.SS4.p1.6.m6.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS4.p1.6.m6.1a"><mi id="S4.SS4.p1.6.m6.1.1" xref="S4.SS4.p1.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.6.m6.1b"><ci id="S4.SS4.p1.6.m6.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.6.m6.1c">n</annotation></semantics></math> clients randomly and sends the sub-model <math id="S4.SS4.p1.7.m7.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="S4.SS4.p1.7.m7.1a"><msub id="S4.SS4.p1.7.m7.1.1" xref="S4.SS4.p1.7.m7.1.1.cmml"><mi id="S4.SS4.p1.7.m7.1.1.2" xref="S4.SS4.p1.7.m7.1.1.2.cmml">w</mi><mn id="S4.SS4.p1.7.m7.1.1.3" xref="S4.SS4.p1.7.m7.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.7.m7.1b"><apply id="S4.SS4.p1.7.m7.1.1.cmml" xref="S4.SS4.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.7.m7.1.1.1.cmml" xref="S4.SS4.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS4.p1.7.m7.1.1.2.cmml" xref="S4.SS4.p1.7.m7.1.1.2">𝑤</ci><cn type="integer" id="S4.SS4.p1.7.m7.1.1.3.cmml" xref="S4.SS4.p1.7.m7.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.7.m7.1c">w_{0}</annotation></semantics></math> or the large model <math id="S4.SS4.p1.8.m8.1" class="ltx_Math" alttext="W_{0}" display="inline"><semantics id="S4.SS4.p1.8.m8.1a"><msub id="S4.SS4.p1.8.m8.1.1" xref="S4.SS4.p1.8.m8.1.1.cmml"><mi id="S4.SS4.p1.8.m8.1.1.2" xref="S4.SS4.p1.8.m8.1.1.2.cmml">W</mi><mn id="S4.SS4.p1.8.m8.1.1.3" xref="S4.SS4.p1.8.m8.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.8.m8.1b"><apply id="S4.SS4.p1.8.m8.1.1.cmml" xref="S4.SS4.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.8.m8.1.1.1.cmml" xref="S4.SS4.p1.8.m8.1.1">subscript</csymbol><ci id="S4.SS4.p1.8.m8.1.1.2.cmml" xref="S4.SS4.p1.8.m8.1.1.2">𝑊</ci><cn type="integer" id="S4.SS4.p1.8.m8.1.1.3.cmml" xref="S4.SS4.p1.8.m8.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.8.m8.1c">W_{0}</annotation></semantics></math> to selected clients based on their device characteristics. Let <math id="S4.SS4.p1.9.m9.1" class="ltx_Math" alttext="C_{t}" display="inline"><semantics id="S4.SS4.p1.9.m9.1a"><msub id="S4.SS4.p1.9.m9.1.1" xref="S4.SS4.p1.9.m9.1.1.cmml"><mi id="S4.SS4.p1.9.m9.1.1.2" xref="S4.SS4.p1.9.m9.1.1.2.cmml">C</mi><mi id="S4.SS4.p1.9.m9.1.1.3" xref="S4.SS4.p1.9.m9.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.9.m9.1b"><apply id="S4.SS4.p1.9.m9.1.1.cmml" xref="S4.SS4.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.9.m9.1.1.1.cmml" xref="S4.SS4.p1.9.m9.1.1">subscript</csymbol><ci id="S4.SS4.p1.9.m9.1.1.2.cmml" xref="S4.SS4.p1.9.m9.1.1.2">𝐶</ci><ci id="S4.SS4.p1.9.m9.1.1.3.cmml" xref="S4.SS4.p1.9.m9.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.9.m9.1c">C_{t}</annotation></semantics></math> denotes clients in <math id="S4.SS4.p1.10.m10.1" class="ltx_Math" alttext="t^{th}" display="inline"><semantics id="S4.SS4.p1.10.m10.1a"><msup id="S4.SS4.p1.10.m10.1.1" xref="S4.SS4.p1.10.m10.1.1.cmml"><mi id="S4.SS4.p1.10.m10.1.1.2" xref="S4.SS4.p1.10.m10.1.1.2.cmml">t</mi><mrow id="S4.SS4.p1.10.m10.1.1.3" xref="S4.SS4.p1.10.m10.1.1.3.cmml"><mi id="S4.SS4.p1.10.m10.1.1.3.2" xref="S4.SS4.p1.10.m10.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p1.10.m10.1.1.3.1" xref="S4.SS4.p1.10.m10.1.1.3.1.cmml">​</mo><mi id="S4.SS4.p1.10.m10.1.1.3.3" xref="S4.SS4.p1.10.m10.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.10.m10.1b"><apply id="S4.SS4.p1.10.m10.1.1.cmml" xref="S4.SS4.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.10.m10.1.1.1.cmml" xref="S4.SS4.p1.10.m10.1.1">superscript</csymbol><ci id="S4.SS4.p1.10.m10.1.1.2.cmml" xref="S4.SS4.p1.10.m10.1.1.2">𝑡</ci><apply id="S4.SS4.p1.10.m10.1.1.3.cmml" xref="S4.SS4.p1.10.m10.1.1.3"><times id="S4.SS4.p1.10.m10.1.1.3.1.cmml" xref="S4.SS4.p1.10.m10.1.1.3.1"></times><ci id="S4.SS4.p1.10.m10.1.1.3.2.cmml" xref="S4.SS4.p1.10.m10.1.1.3.2">𝑡</ci><ci id="S4.SS4.p1.10.m10.1.1.3.3.cmml" xref="S4.SS4.p1.10.m10.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.10.m10.1c">t^{th}</annotation></semantics></math> round. Each client trains its model and sends the model updates as well as activations of dense layers to the server. The server aggregates these updates and activations. In weighted aggregation, <math id="S4.SS4.p1.11.m11.1" class="ltx_Math" alttext="s_{c}" display="inline"><semantics id="S4.SS4.p1.11.m11.1a"><msub id="S4.SS4.p1.11.m11.1.1" xref="S4.SS4.p1.11.m11.1.1.cmml"><mi id="S4.SS4.p1.11.m11.1.1.2" xref="S4.SS4.p1.11.m11.1.1.2.cmml">s</mi><mi id="S4.SS4.p1.11.m11.1.1.3" xref="S4.SS4.p1.11.m11.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.11.m11.1b"><apply id="S4.SS4.p1.11.m11.1.1.cmml" xref="S4.SS4.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.11.m11.1.1.1.cmml" xref="S4.SS4.p1.11.m11.1.1">subscript</csymbol><ci id="S4.SS4.p1.11.m11.1.1.2.cmml" xref="S4.SS4.p1.11.m11.1.1.2">𝑠</ci><ci id="S4.SS4.p1.11.m11.1.1.3.cmml" xref="S4.SS4.p1.11.m11.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.11.m11.1c">s_{c}</annotation></semantics></math> and <math id="S4.SS4.p1.12.m12.1" class="ltx_Math" alttext="S_{t}" display="inline"><semantics id="S4.SS4.p1.12.m12.1a"><msub id="S4.SS4.p1.12.m12.1.1" xref="S4.SS4.p1.12.m12.1.1.cmml"><mi id="S4.SS4.p1.12.m12.1.1.2" xref="S4.SS4.p1.12.m12.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.12.m12.1.1.3" xref="S4.SS4.p1.12.m12.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.12.m12.1b"><apply id="S4.SS4.p1.12.m12.1.1.cmml" xref="S4.SS4.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.12.m12.1.1.1.cmml" xref="S4.SS4.p1.12.m12.1.1">subscript</csymbol><ci id="S4.SS4.p1.12.m12.1.1.2.cmml" xref="S4.SS4.p1.12.m12.1.1.2">𝑆</ci><ci id="S4.SS4.p1.12.m12.1.1.3.cmml" xref="S4.SS4.p1.12.m12.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.12.m12.1c">S_{t}</annotation></semantics></math> represent number of training samples of client <math id="S4.SS4.p1.13.m13.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S4.SS4.p1.13.m13.1a"><mi id="S4.SS4.p1.13.m13.1.1" xref="S4.SS4.p1.13.m13.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.13.m13.1b"><ci id="S4.SS4.p1.13.m13.1.1.cmml" xref="S4.SS4.p1.13.m13.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.13.m13.1c">c</annotation></semantics></math> and total number of training samples in round <math id="S4.SS4.p1.14.m14.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS4.p1.14.m14.1a"><mi id="S4.SS4.p1.14.m14.1.1" xref="S4.SS4.p1.14.m14.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.14.m14.1b"><ci id="S4.SS4.p1.14.m14.1.1.cmml" xref="S4.SS4.p1.14.m14.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.14.m14.1c">t</annotation></semantics></math> respectively. Based on average activations, and <math id="S4.SS4.p1.15.m15.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S4.SS4.p1.15.m15.1a"><mi mathvariant="normal" id="S4.SS4.p1.15.m15.1.1" xref="S4.SS4.p1.15.m15.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.15.m15.1b"><ci id="S4.SS4.p1.15.m15.1.1.cmml" xref="S4.SS4.p1.15.m15.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.15.m15.1c">\ell</annotation></semantics></math>1-norm of the CNN filters, the server picks an optimal sub-model for slow clients after every <math id="S4.SS4.p1.16.m16.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S4.SS4.p1.16.m16.1a"><mi id="S4.SS4.p1.16.m16.1.1" xref="S4.SS4.p1.16.m16.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.16.m16.1b"><ci id="S4.SS4.p1.16.m16.1.1.cmml" xref="S4.SS4.p1.16.m16.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.16.m16.1c">r</annotation></semantics></math> rounds. The only two parameters of <span id="S4.SS4.p1.18.2" class="ltx_text ltx_font_sansserif">FedPrune</span> are the Model Dropout Rate (MDR) <math id="S4.SS4.p1.17.m17.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p1.17.m17.1a"><mi id="S4.SS4.p1.17.m17.1.1" xref="S4.SS4.p1.17.m17.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.17.m17.1b"><ci id="S4.SS4.p1.17.m17.1.1.cmml" xref="S4.SS4.p1.17.m17.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.17.m17.1c">k</annotation></semantics></math>, representing the percentage of neurons and filters to be dropped from dense and convolution layers respectively when constructing the sub-model and Mask Update Round (MUR) <math id="S4.SS4.p1.18.m18.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S4.SS4.p1.18.m18.1a"><mi id="S4.SS4.p1.18.m18.1.1" xref="S4.SS4.p1.18.m18.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.18.m18.1b"><ci id="S4.SS4.p1.18.m18.1.1.cmml" xref="S4.SS4.p1.18.m18.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.18.m18.1c">r</annotation></semantics></math>, at which round to update model dropout mask.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.6" class="ltx_p"><span id="S4.SS4.p2.6.1" class="ltx_text ltx_font_bold">Aggregation:</span> <span id="S4.SS4.p2.6.2" class="ltx_text ltx_font_sansserif">FedPrune</span> uses insights from the Central Limit Theorem (CLT) to aggregate clients’ model parameters. Server calculates the weighted mean <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\mu</annotation></semantics></math> (weighted by number of data samples) and standard deviation <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mi id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\sigma</annotation></semantics></math> of parameters. It then uses this mean <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><mi id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><ci id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">\mu</annotation></semantics></math> and standard deviation <math id="S4.SS4.p2.4.m4.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S4.SS4.p2.4.m4.1a"><mi id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><ci id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">\sigma</annotation></semantics></math> to randomly sample parameters from the normal distribution to send back to the clients. These randomly sampled parameters generalize better even when the distribution is non-IID.
As the training progresses, the model becomes stable and large changes in model parameters can adversely impact performance. As a result, we continue decreasing <math id="S4.SS4.p2.5.m5.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S4.SS4.p2.5.m5.1a"><mi id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><ci id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">\sigma</annotation></semantics></math> proportional to <math id="S4.SS4.p2.6.m6.1" class="ltx_Math" alttext="1/\sqrt{t}" display="inline"><semantics id="S4.SS4.p2.6.m6.1a"><mrow id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml"><mn id="S4.SS4.p2.6.m6.1.1.2" xref="S4.SS4.p2.6.m6.1.1.2.cmml">1</mn><mo id="S4.SS4.p2.6.m6.1.1.1" xref="S4.SS4.p2.6.m6.1.1.1.cmml">/</mo><msqrt id="S4.SS4.p2.6.m6.1.1.3" xref="S4.SS4.p2.6.m6.1.1.3.cmml"><mi id="S4.SS4.p2.6.m6.1.1.3.2" xref="S4.SS4.p2.6.m6.1.1.3.2.cmml">t</mi></msqrt></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><apply id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1"><divide id="S4.SS4.p2.6.m6.1.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1.1"></divide><cn type="integer" id="S4.SS4.p2.6.m6.1.1.2.cmml" xref="S4.SS4.p2.6.m6.1.1.2">1</cn><apply id="S4.SS4.p2.6.m6.1.1.3.cmml" xref="S4.SS4.p2.6.m6.1.1.3"><root id="S4.SS4.p2.6.m6.1.1.3a.cmml" xref="S4.SS4.p2.6.m6.1.1.3"></root><ci id="S4.SS4.p2.6.m6.1.1.3.2.cmml" xref="S4.SS4.p2.6.m6.1.1.3.2">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">1/\sqrt{t}</annotation></semantics></math> (current round), which does not let model deviate significantly from the stable parameters yet helps in better generalization.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Evaluation</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we present empirical results for <span id="S5.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> using large-scale simulations and small-scale real testbed experiments involving multiple mobile clients under federated settings.
We demonstrate the effectiveness of <span id="S5.p1.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> in the presence of system and statistical heterogeneity and study its convergence and robustness properties.
All code, data, and scipts for generating our results will be made publicly
available on GitHub.
We provide details of our experimental setup in Section 5.1 and Appendix <a href="#A1.SS1" title="A.1. Datasets and Models ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Experimental Details</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">We evaluate <span id="S5.SS1.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> on multiple models, tasks and real-world federated datasets. We use LEAF <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">leaf, </a>)</cite>, a benchmarking framework for federated learning to simulate our federated setup. We implement <span id="S5.SS1.p1.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> in LEAF and evaluate its performance on convolution neural networks, LSTMs models and explore four real world datasets in federated learning setting. Specifically, we use CIFAR-10, Federated extended MNIST (FEMNIST) and Fashion-MNIST (FMNIST) for CNN and Sent140 for LSTM models.</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>Statistics of four real federated datasets</figcaption>
<table id="S5.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T1.1.1.1" class="ltx_tr">
<th id="S5.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-bottom:2.15277pt;">Dataset</th>
<th id="S5.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-bottom:2.15277pt;">Devices</th>
<th id="S5.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-bottom:2.15277pt;">Samples</th>
<th id="S5.T1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-bottom:2.15277pt;">Mean</th>
<th id="S5.T1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-bottom:2.15277pt;">Stdev</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T1.1.2.1" class="ltx_tr">
<th id="S5.T1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">FEMNIST</th>
<td id="S5.T1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">206</td>
<td id="S5.T1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">30774</td>
<td id="S5.T1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">149</td>
<td id="S5.T1.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">59</td>
</tr>
<tr id="S5.T1.1.3.2" class="ltx_tr">
<th id="S5.T1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">FMNIST</th>
<td id="S5.T1.1.3.2.2" class="ltx_td ltx_align_center">500</td>
<td id="S5.T1.1.3.2.3" class="ltx_td ltx_align_center">72505</td>
<td id="S5.T1.1.3.2.4" class="ltx_td ltx_align_center">145</td>
<td id="S5.T1.1.3.2.5" class="ltx_td ltx_align_center">138</td>
</tr>
<tr id="S5.T1.1.4.3" class="ltx_tr">
<th id="S5.T1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">CIFAR-10</th>
<td id="S5.T1.1.4.3.2" class="ltx_td ltx_align_center">250</td>
<td id="S5.T1.1.4.3.3" class="ltx_td ltx_align_center">60000</td>
<td id="S5.T1.1.4.3.4" class="ltx_td ltx_align_center">240</td>
<td id="S5.T1.1.4.3.5" class="ltx_td ltx_align_center">0</td>
</tr>
<tr id="S5.T1.1.5.4" class="ltx_tr">
<th id="S5.T1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b" style="padding-bottom:4.30554pt;">Sent140</th>
<td id="S5.T1.1.5.4.2" class="ltx_td ltx_align_center ltx_border_b" style="padding-bottom:4.30554pt;">772</td>
<td id="S5.T1.1.5.4.3" class="ltx_td ltx_align_center ltx_border_b" style="padding-bottom:4.30554pt;">40,783</td>
<td id="S5.T1.1.5.4.4" class="ltx_td ltx_align_center ltx_border_b" style="padding-bottom:4.30554pt;">53</td>
<td id="S5.T1.1.5.4.5" class="ltx_td ltx_align_center ltx_border_b" style="padding-bottom:4.30554pt;">32</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p"><span id="S5.SS1.p2.1.1" class="ltx_text ltx_font_bold">Real Data.</span>
We use four real-world datasets; whose statistics are summarized in Table <a href="#S5.T1" title="Table 1 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. These datasets are curated from prior work in FL <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib29" title="" class="ltx_ref">fedprox, </a>; <a href="#bib.bib19" title="" class="ltx_ref">ditto, </a>; <a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite> as well as recent FL benchmarks in LEAF <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">leaf, </a>)</cite>. FMNIST, FEMNIST, and Sent140 are non-IID datasets. To study the behaviour of <span id="S5.SS1.p2.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> under a IID dataset, we curated CIFAR-10 in a IID fashion, where each examples has the same probability to belong to any device. We then study a more complex 62-class FEMNIST dataset <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib7" title="" class="ltx_ref">cohen, </a>; <a href="#bib.bib5" title="" class="ltx_ref">flclient, </a>)</cite>.
To study statistical heterogeneity and its impact, we experiment with two versions of the FEMNIST dataset. One version is used in a prior work <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib19" title="" class="ltx_ref">ditto, </a>)</cite> whereas the second version is skewed NIID in which we randomly assign 5 classes to each device. For the non-convex setting, we consider a text sentiment analysis task on tweets from Sentiment140 (Sent140) with an LSTM classifier, where each twitter account corresponds to a device <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib11" title="" class="ltx_ref">sent140, </a>)</cite>.
Details of datasets, models, and workloads are provided in Appendix <a href="#A1.SS1" title="A.1. Datasets and Models ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.1" class="ltx_p"><span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_bold">Implementation.</span>
As LEAF does not provide functionality for simulating individual slow and fast clients, we update LEAF FedAvg implementation to include slow clients that are unable to complete model training in time and thus get dropped. In order to draw a fair comparison with FedAvg, we employ SGD as the local solver for <span id="S5.SS1.p3.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> and average the parameters after every round with weights proportional to the number of local data points.</p>
</div>
<div id="S5.SS1.p4" class="ltx_para">
<p id="S5.SS1.p4.2" class="ltx_p"><span id="S5.SS1.p4.2.1" class="ltx_text ltx_font_bold">Hyperparameters.</span>
For each dataset, we use learning rates from {0.01, 0.001, 0.0003}.
We observe that the behavior of all techniques remains the same relative to each other but a smaller learning rate means the model takes longer to converge. We report results with 0.001 learning rate for all experiments on CNN datasets. For Sent140, previous works have picked a large learning rate, therefore, we also use 0.01 learning rate for Sent140. We set the number of selected devices in one round to be 10. Batch size is also 10 for all experiments. We set the <span id="S5.SS1.p4.2.2" class="ltx_text ltx_font_sansserif">FedPrune</span> parameters <math id="S5.SS1.p4.1.m1.1" class="ltx_Math" alttext="k=50\%" display="inline"><semantics id="S5.SS1.p4.1.m1.1a"><mrow id="S5.SS1.p4.1.m1.1.1" xref="S5.SS1.p4.1.m1.1.1.cmml"><mi id="S5.SS1.p4.1.m1.1.1.2" xref="S5.SS1.p4.1.m1.1.1.2.cmml">k</mi><mo id="S5.SS1.p4.1.m1.1.1.1" xref="S5.SS1.p4.1.m1.1.1.1.cmml">=</mo><mrow id="S5.SS1.p4.1.m1.1.1.3" xref="S5.SS1.p4.1.m1.1.1.3.cmml"><mn id="S5.SS1.p4.1.m1.1.1.3.2" xref="S5.SS1.p4.1.m1.1.1.3.2.cmml">50</mn><mo id="S5.SS1.p4.1.m1.1.1.3.1" xref="S5.SS1.p4.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.1.m1.1b"><apply id="S5.SS1.p4.1.m1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1"><eq id="S5.SS1.p4.1.m1.1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1.1"></eq><ci id="S5.SS1.p4.1.m1.1.1.2.cmml" xref="S5.SS1.p4.1.m1.1.1.2">𝑘</ci><apply id="S5.SS1.p4.1.m1.1.1.3.cmml" xref="S5.SS1.p4.1.m1.1.1.3"><csymbol cd="latexml" id="S5.SS1.p4.1.m1.1.1.3.1.cmml" xref="S5.SS1.p4.1.m1.1.1.3.1">percent</csymbol><cn type="integer" id="S5.SS1.p4.1.m1.1.1.3.2.cmml" xref="S5.SS1.p4.1.m1.1.1.3.2">50</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.1.m1.1c">k=50\%</annotation></semantics></math> and <math id="S5.SS1.p4.2.m2.1" class="ltx_Math" alttext="r=10" display="inline"><semantics id="S5.SS1.p4.2.m2.1a"><mrow id="S5.SS1.p4.2.m2.1.1" xref="S5.SS1.p4.2.m2.1.1.cmml"><mi id="S5.SS1.p4.2.m2.1.1.2" xref="S5.SS1.p4.2.m2.1.1.2.cmml">r</mi><mo id="S5.SS1.p4.2.m2.1.1.1" xref="S5.SS1.p4.2.m2.1.1.1.cmml">=</mo><mn id="S5.SS1.p4.2.m2.1.1.3" xref="S5.SS1.p4.2.m2.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.2.m2.1b"><apply id="S5.SS1.p4.2.m2.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1"><eq id="S5.SS1.p4.2.m2.1.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1.1"></eq><ci id="S5.SS1.p4.2.m2.1.1.2.cmml" xref="S5.SS1.p4.2.m2.1.1.2">𝑟</ci><cn type="integer" id="S5.SS1.p4.2.m2.1.1.3.cmml" xref="S5.SS1.p4.2.m2.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.2.m2.1c">r=10</annotation></semantics></math> for our experiments. In case of CNN, 50% filters and neurons are dropped from convolution and dense layers respectively. While the pruned model of LSTM has 50% less cells in the LSTM layers for slow client. For fair comparison, we fix the randomly selected devices, the slow clients, and mini-batch orders across all runs. We take 10 runs for each experiment and report average results.</p>
</div>
<figure id="S5.F4" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/femnist/niid/feddrop_cnn_lr001_eval05_c10_d05_md05_ep10_b10.png" id="S5.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="338" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>FEMNIST (skewed): 50% Client Dropout.</figcaption>
</figure>
<figure id="S5.F5" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/femnist/niid/feddrop_cnn_lr001_eval05_c10_d09_md05_ep10_b10.png" id="S5.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="338" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>FEMNIST (skewed): 90% Client Dropout.</figcaption>
</figure>
<figure id="S5.F6" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/compact/test_accuracy_all.png" id="S5.F6.g1" class="ltx_graphics ltx_img_landscape" width="598" height="240" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 6. </span><span id="S5.F6.3.1" class="ltx_text ltx_font_sansserif">FedPrune</span> results in significant convergence improvements relative to FedAvg in heterogeneous networks. We simulate different levels of systems heterogeneity by forcing 50%, and 90% of devices to be the slow devices (dropped by FedAvg). Comparing FedAvg and <span id="S5.F6.4.2" class="ltx_text ltx_font_sansserif">FedPrune</span>, we see that serving a smaller model to slow clients can help convergence in the presence of systems heterogeneity. We also report train loss in Figure <a href="#A1.F11" title="Figure 11 ‣ A.3. Simulation Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, Appendix <a href="#A1.SS3" title="A.3. Simulation Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.3</span></a> </figcaption>
</figure>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>System &amp; Statistical Heterogeneity</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">In order to study the impact of system and statistical heterogeneity, we experiment with varying system heterogeneity and diverse datasets.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.2" class="ltx_p"><span id="S5.SS2.p2.2.1" class="ltx_text ltx_font_bold">System heterogeneity.</span>
We assume that there exists a global clock cycle that keeps track of when to start the next round. However, devices participating in a round are limited by their system constraints, which determine the amount of work a device can do in a given time. In our simulations, we fix a global number of epochs <math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><mi id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><ci id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">E</annotation></semantics></math> and emulate some devices as slow which could not train <math id="S5.SS2.p2.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S5.SS2.p2.2.m2.1a"><mi id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">E</annotation></semantics></math> epochs due to their system constraints. These devices get dropped in FedAvg but in <span id="S5.SS2.p2.2.2" class="ltx_text ltx_font_sansserif">FedPrune</span> we send a smaller model to these devices so they can train it in a resource-constrained environment within a given time. For varying heterogeneous settings, we
experiment with 0%, 50%, and 90% of resource-constrained (slow) devices. Settings where 0% devices are slow correspond to the environments without systems heterogeneity, while 90% of the slow devices correspond to highly heterogeneous environments. FedAvg will simply drop these 0%, 50%, and 90% slow clients upon reaching the global clock cycle, and <span id="S5.SS2.p2.2.3" class="ltx_text ltx_font_sansserif">FedPrune</span> will incorporate the updates from these devices as these devices train a subset model and will be able to send updates on time.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para">
<p id="S5.SS2.p3.1" class="ltx_p"><span id="S5.SS2.p3.1.1" class="ltx_text ltx_font_bold">Statistical heterogeneity.</span>
To evaluate <span id="S5.SS2.p3.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> under statistical heterogeneity, we use datasets with varying degree of IID-ness.
Our results show that model accuracy and convergence becomes worse as statistical heterogeneity increases (see Figures <a href="#S5.F4" title="Figure 4 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and <a href="#S5.F5" title="Figure 5 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).
However, <span id="S5.SS2.p3.1.3" class="ltx_text ltx_font_sansserif">FedPrune</span> can better handle statistical heterogeneity as it employs a CLT based approach to aggregate parameters from clients, which helps in improving robustness.
While FedAvg aggregates parameters by weighted averaging, <span id="S5.SS2.p3.1.4" class="ltx_text ltx_font_sansserif">FedPrune</span> uses a different approach. It first computes the mean and standard deviation (stdev) of clients’ parameters and then randomly samples from the Normal distribution with that mean and stdev.
As these parameters are from different distributions, aggregation of these parameters will converge to Normal according to CLT.
Figures <a href="#S5.F4" title="Figure 4 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and <a href="#S5.F5" title="Figure 5 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> show that <span id="S5.SS2.p3.1.5" class="ltx_text ltx_font_sansserif">FedPrune</span> achieves improved performance by using this approach. As the degree of NIID-ness increases, we see that <span id="S5.SS2.p3.1.6" class="ltx_text ltx_font_sansserif">FedPrune</span> with CLT achieves better generalization. In case of high system and statistical heterogeneity (Figure <a href="#S5.F5" title="Figure 5 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), <span id="S5.SS2.p3.1.7" class="ltx_text ltx_font_sansserif">FedPrune</span> provides 22.7% test accuracy improvement over FedAvg.</p>
</div>
<figure id="S5.F7" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/compact/variance_vs_test_accuracy.png" id="S5.F7.g1" class="ltx_graphics ltx_img_landscape" width="598" height="241" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>Variance vs Test Accuracy.</figcaption>
</figure>
<div id="S5.SS2.p4" class="ltx_para">
<p id="S5.SS2.p4.2" class="ltx_p"><span id="S5.SS2.p4.2.1" class="ltx_text ltx_font_bold">Fairness.</span>
Due to statistical heterogeneity in federated networks, the performance of a model may vary significantly across different devices, resulting in <em id="S5.SS2.p4.2.2" class="ltx_emph ltx_font_italic">representation disparity</em> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib14" title="" class="ltx_ref">motto, </a>)</cite>.
In <span id="S5.SS2.p4.2.3" class="ltx_text ltx_font_sansserif">FedPrune</span>, we serve a subset model to slow clients, which potentially has a larger risk of representation disparity. We empirically show that in addition to improving accuracy, <span id="S5.SS2.p4.2.4" class="ltx_text ltx_font_sansserif">FedPrune</span> also offers improved fairness. <span id="S5.SS2.p4.2.5" class="ltx_text ltx_font_sansserif">FedPrune</span> picks the best subset model after every <math id="S5.SS2.p4.1.m1.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S5.SS2.p4.1.m1.1a"><mi id="S5.SS2.p4.1.m1.1.1" xref="S5.SS2.p4.1.m1.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.1.m1.1b"><ci id="S5.SS2.p4.1.m1.1.1.cmml" xref="S5.SS2.p4.1.m1.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.1.m1.1c">r</annotation></semantics></math> (<math id="S5.SS2.p4.2.m2.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S5.SS2.p4.2.m2.1a"><mi id="S5.SS2.p4.2.m2.1.1" xref="S5.SS2.p4.2.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p4.2.m2.1b"><ci id="S5.SS2.p4.2.m2.1.1.cmml" xref="S5.SS2.p4.2.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p4.2.m2.1c">r</annotation></semantics></math> is a tuneable parameter) rounds for slow clients.
Variance of test accuracy across clients can be seen in Figure <a href="#A1.F12" title="Figure 12 ‣ A.3. Simulation Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>, Appendix <a href="#A1.SS3" title="A.3. Simulation Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.3</span></a>. Interestingly, <span id="S5.SS2.p4.2.6" class="ltx_text ltx_font_sansserif">FedPrune</span> provides better average test accuracy as well as achieves lower variance across clients compared to FedAvg and <span id="S5.SS2.p4.2.7" class="ltx_text ltx_font_sansserif">FedPrune</span> without CLT.
Figure <a href="#S5.F7" title="Figure 7 ‣ 5.2. System &amp; Statistical Heterogeneity ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> compares the robustness and fairness of <span id="S5.SS2.p4.2.8" class="ltx_text ltx_font_sansserif">FedPrune</span>, <span id="S5.SS2.p4.2.9" class="ltx_text ltx_font_sansserif">FedPrune</span> w/o CLT and FedAvg. Results show that <span id="S5.SS2.p4.2.10" class="ltx_text ltx_font_sansserif">FedPrune</span> provides robust and fair performance as it trains on all clients and uses CLT to better generalize on data.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Real Testbed Experiments</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">We implement <span id="S5.SS3.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span> on a real FL testbed.
We use PySyft <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib26" title="" class="ltx_ref">pysyft, </a>)</cite>, an open-source framework for FL, to write models and scripts using PyTorch that get executed on mobile devices. PySyft models are hosted on PyGrid <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib25" title="" class="ltx_ref">pygrid, </a>)</cite>, a
flask-based server that in addition to hosting models, performs averaging of weights learned from all clients. Mobile devices connect with the server to download models and train them on the device using KotlinSyft <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib24" title="" class="ltx_ref">kotlinsyft, </a>)</cite>.
The server communicates with the clients using Google Firebase Services <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib12" title="" class="ltx_ref">firebaseservices, </a>)</cite>. We used Android Studio for customizations in KotlinSyft. We perform evaluations on actual mobile devices i.e., Nexus 6P (3 GB RAM, Octa-core) and Nokia 1 (1 GB RAM, Quad-core) as fast and slow client, respectively.
We use real datasets i.e., FEMNIST and a CNN model from the LEAF benchmark to evaluate the impact of model size on model training times. The model has 6.6 million parameters that includes two <span id="S5.SS3.p1.1.2" class="ltx_text ltx_font_italic">CNN</span> layers and two <span id="S5.SS3.p1.1.3" class="ltx_text ltx_font_italic">dense</span> layers. The number of <span id="S5.SS3.p1.1.4" class="ltx_text ltx_font_italic">filters</span> in the first and second <span id="S5.SS3.p1.1.5" class="ltx_text ltx_font_italic">CNN</span> layers are 32 and 64, respectively with same filter size i.e., (5,5). The number of <span id="S5.SS3.p1.1.6" class="ltx_text ltx_font_italic">neurons</span> in the first and second <span id="S5.SS3.p1.1.7" class="ltx_text ltx_font_italic">dense</span> layers are 3136 and 2048, respectively.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.3" class="ltx_p">Figure <a href="#A1.F9" title="Figure 9 ‣ A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the training time against different model drop rates on the slow device. Large model refers to the complete model being served to the slow client, 30% drop rate refers to the case when the model is 30% pruned, and so on. We observe that the training time decreases as we increase the model drop rate. With a drop rate of 50%, training time is reduced by 66.7%. This reduction in the training time is due to reduced FLOPs as shown in Figure <a href="#A1.F10" title="Figure 10 ‣ A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>.
In particular, a model drop rate of 50% reduces FLOPs by 3.8<math id="S5.SS3.p2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS3.p2.1.m1.1a"><mo id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><times id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">\times</annotation></semantics></math>, which in turn improves training time by <math id="S5.SS3.p2.2.m2.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S5.SS3.p2.2.m2.1a"><mo id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><csymbol cd="latexml" id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">\sim</annotation></semantics></math>2.9<math id="S5.SS3.p2.3.m3.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS3.p2.3.m3.1a"><mo id="S5.SS3.p2.3.m3.1.1" xref="S5.SS3.p2.3.m3.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.1b"><times id="S5.SS3.p2.3.m3.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.1c">\times</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Discussion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p"><span id="S6.p1.1.1" class="ltx_text ltx_font_bold">Adaptive model serving</span>.
We evaluate <span id="S6.p1.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span> using a 2-model approach (i.e., fast clients train over the global model whereas slow clients train over a sub-model). In the future, it would be useful to examine the effectiveness of customizing model sizes for <em id="S6.p1.1.3" class="ltx_emph ltx_font_italic">each</em> client based on their characteristics.</p>
</div>
<div id="S6.p2" class="ltx_para ltx_noindent">
<p id="S6.p2.1" class="ltx_p"><span id="S6.p2.1.1" class="ltx_text ltx_font_sansserif ltx_font_bold">FedPrune and multi-task learning</span>.
In multi-task learning <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib30" title="" class="ltx_ref">multitask, </a>)</cite>, the goal is to train <em id="S6.p2.1.2" class="ltx_emph ltx_font_italic">personalized</em> models for each device independent of sizes whereas <span id="S6.p2.1.3" class="ltx_text ltx_font_sansserif">FedPrune</span> focuses on reducing the overhead of model training for improving inclusiveness in the presence of client heterogeneity.</p>
</div>
<div id="S6.p3" class="ltx_para ltx_noindent">
<p id="S6.p3.1" class="ltx_p"><span id="S6.p3.1.1" class="ltx_text ltx_font_bold">Synchronous vs. asynchronous FL</span>. While we focus on synchronous FL in this work, asynchronous FL is an alternative approach for mitigating stragglers. We do not consider the latter approach in part because the bounded-delay assumptions associated with most asynchronous schemes limit fault tolerance <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib35" title="" class="ltx_ref">asyncFL, </a>; <a href="#bib.bib30" title="" class="ltx_ref">multitask, </a>)</cite>.
However, it would be interesting to explore the relative merits of asynchronous methods and synchronous FL in future work.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">We presented the design and evaluation of <span id="S7.p1.1.1" class="ltx_text ltx_font_sansserif">FedPrune</span>, an inclusive framework for federated learning that achieves improved learning and fairness properties in the presence of client device heterogeneity.
<span id="S7.p1.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span>’s adaptive model serving ensures that slow clients are not dropped from the training process and achieve training times similar to fast clients whenever possible.
Our evaluation involving large-scale simulations and a small-scale real testbed of mobile clients shows that <span id="S7.p1.1.3" class="ltx_text ltx_font_sansserif">FedPrune</span> achieves robust performance across a variety of real-world federated datasets.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Understanding Android Memory Usage (Google 1/O’18).

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://tinyurl.com/33yk98s7" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://tinyurl.com/33yk98s7</a>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
S. Ahmad, A. L. Haamid, Z. A. Qazi, Z. Zhou, T. Benson, and I. A. Qazi.

</span>
<span class="ltx_bibblock">A view from the other side: Understanding mobile phone
characteristics in the developing world.

</span>
<span class="ltx_bibblock">In <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2016 Internet Measurement Conference</span>, IMC
’16, page 319–325, 2016.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
K. Bonawitz, H. Eichner, W. Grieskamp, D. Huba, A. Ingerman, V. Ivanov,
C. Kiddon, J. Konecny, S. Mazzocchi, H. B. McMahan, T. Van Overveldt,
D. Petrou, D. Ramage, and J. Roselander.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design, 2019.

</span>
<span class="ltx_bibblock">cite arxiv:1902.01046.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
P. BUKATY.

</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">The California Consumer Privacy Act (CCPA): An implementation
guide</span>.

</span>
<span class="ltx_bibblock">IT Governance Publishing, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
S. Caldas, J. Konečný, H. B. McMahan, and A. Talwalkar.

</span>
<span class="ltx_bibblock">Expanding the reach of federated learning by reducing client resource
requirements.

</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1812.07210, 2018.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
S. Caldas, P. Wu, T. Li, J. Konečný, H. B. McMahan, V. Smith, and
A. Talwalkar.

</span>
<span class="ltx_bibblock">LEAF: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1812.01097, 2018.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
G. Cohen, S. Afshar, J. Tapson, and A. van Schaik.

</span>
<span class="ltx_bibblock">EMNIST: an extension of MNIST to handwritten letters.

</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1702.05373, 2017.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
E. Diao, J. Ding, and V. Tarokh.

</span>
<span class="ltx_bibblock">Heterofl: Computation and communication efficient federated learning
for heterogeneous clients.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2010.01264</span>, 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
W. Feller.

</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">An Introduction to Probability Theory and Its Applications</span>,
volume 1.

</span>
<span class="ltx_bibblock">Wiley, January 1968.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
M. Ghasemi, P. Kanuparthy, A. Mansy, T. Benson, and J. Rexford.

</span>
<span class="ltx_bibblock">Performance characterization of a commercial video streaming service.

</span>
<span class="ltx_bibblock">In <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2016 Internet Measurement Conference</span>, IMC
’16, 2016.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
A. Go, R. Bhayani, and L. Huang.

</span>
<span class="ltx_bibblock">Twitter sentiment classification using distant supervision.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">Processing</span>, pages 1–6, 2009.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Google.

</span>
<span class="ltx_bibblock">Firebase services.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://firebase.google.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://firebase.google.com</a>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
M. Harchol-Balter.

</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">Performance Modeling and Design of Computer Systems: Queueing
Theory in Action</span>.

</span>
<span class="ltx_bibblock">Cambridge University Press, USA, 1st edition, 2013.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
T. B. Hashimoto, M. Srivastava, H. Namkoong, and P. Liang.

</span>
<span class="ltx_bibblock">Fairness without demographics in repeated loss minimization, 2018.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Z. Hu, K. Shaloudegi, G. Zhang, and Y. Yu.

</span>
<span class="ltx_bibblock">Fedmgda+: Federated learning meets multi-objective optimization.

</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2006.11489, 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Y. Jiang, S. Wang, V. Valls, B. J. Ko, W.-H. Lee, K. K. Leung, and
L. Tassiulas.

</span>
<span class="ltx_bibblock">Model pruning enables efficient federated learning on edge devices.

</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1909.12326</span>, 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
P. Kairouz, H. B. McMahan, B. Avent, A. Bellet, M. Bennis, A. N. Bhagoji, K. A.
Bonawitz, Z. Charles, G. Cormode, R. Cummings, R. G. L. D’Oliveira, S. E.
Rouayheb, D. Evans, J. Gardner, Z. Garrett, A. Gascón, B. Ghazi, P. B.
Gibbons, M. Gruteser, Z. Harchaoui, C. He, L. He, Z. Huo, B. Hutchinson,
J. Hsu, M. Jaggi, T. Javidi, G. Joshi, M. Khodak, J. Konečný,
A. Korolova, F. Koushanfar, S. Koyejo, T. Lepoint, Y. Liu, P. Mittal,
M. Mohri, R. Nock, A. Özgür, R. Pagh, M. Raykova, H. Qi,
D. Ramage, R. Raskar, D. Song, W. Song, S. U. Stich, Z. Sun, A. T. Suresh,
F. Tramèr, P. Vepakomma, J. Wang, L. Xiong, Z. Xu, Q. Yang, F. X. Yu,
H. Yu, and S. Zhao.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1912.04977, 2019.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Y. LeCun, Y. Bengio, and G. Hinton.

</span>
<span class="ltx_bibblock">Deep learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">Nature</span>, 521(7553):436–444, 2015.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
T. Li, S. Hu, A. Beirami, and V. Smith.

</span>
<span class="ltx_bibblock">Ditto: Fair and robust federated learning through personalization.

</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2012.04221, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
T. Li, M. Sanjabi, and V. Smith.

</span>
<span class="ltx_bibblock">Fair resource allocation in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1905.10497, 2019.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y. Arcas.

</span>
<span class="ltx_bibblock">Communication-Efficient Learning of Deep Networks from Decentralized
Data.

</span>
<span class="ltx_bibblock">In A. Singh and J. Zhu, editors, <span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">Proceedings of the 20th
International Conference on Artificial Intelligence and Statistics</span>,
volume 54 of <span id="bib.bib21.2.2" class="ltx_text ltx_font_italic">Proceedings of Machine Learning Research</span>, pages
1273–1282. PMLR, 20–22 Apr 2017.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
M. Mohri, G. Sivek, and A. T. Suresh.

</span>
<span class="ltx_bibblock">Agnostic federated learning.

</span>
<span class="ltx_bibblock">In K. Chaudhuri and R. Salakhutdinov, editors, <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">Proceedings of
the 36th International Conference on Machine Learning</span>, volume 97 of <span id="bib.bib22.2.2" class="ltx_text ltx_font_italic">Proceedings of Machine Learning Research</span>, pages 4615–4625. PMLR, 09–15 Jun
2019.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
U. Naseer, T. A. Benson, and R. Netravali.

</span>
<span class="ltx_bibblock">Webmedic: Disentangling the memory-functionality tension for the next
billion mobile web users.

</span>
<span class="ltx_bibblock">In <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Proceedings of the 22nd International Workshop on Mobile
Computing Systems and Applications</span>, HotMobile ’21, page 71–77, New York,
NY, USA, 2021. Association for Computing Machinery.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
OpenMined.

</span>
<span class="ltx_bibblock">Kotlinsyft.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/OpenMined/KotlinSyft/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/OpenMined/KotlinSyft/</a>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
OpenMined.

</span>
<span class="ltx_bibblock">Pygrid.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/OpenMined/PyGrid/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/OpenMined/PyGrid/</a>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
OpenMined.

</span>
<span class="ltx_bibblock">Pysyft.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/OpenMined/PySyft/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/OpenMined/PySyft/</a>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
J. Pennington, R. Socher, and C. Manning.

</span>
<span class="ltx_bibblock">Glove: Global vectors for word representation.

</span>
<span class="ltx_bibblock">volume 14, pages 1532–1543, 01 2014.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
I. A. Qazi, Z. A. Qazi, T. A. Benson, G. Murtaza, E. Latif, A. Manan, and
A. Tariq.

</span>
<span class="ltx_bibblock">Mobile web browsing under memory pressure.

</span>
<span class="ltx_bibblock"><span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">SIGCOMM Comput. Commun. Rev.</span>, 50(4):35–48, Oct. 2020.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
A. K. Sahu, T. Li, M. Sanjabi, M. Zaheer, A. S. Talwalkar, and V. Smith.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text ltx_font_italic">arXiv: Learning</span>, 2020.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
V. Smith, C.-K. Chiang, M. Sanjabi, and A. Talwalkar.

</span>
<span class="ltx_bibblock">Federated multi-task learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib30.1.1" class="ltx_text ltx_font_italic">Proceedings of the 31st International Conference on Neural
Information Processing Systems</span>, NIPS’17, page 4427–4437, Red Hook, NY,
USA, 2017. Curran Associates Inc.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
C. M. J. Tan and M. Motani.

</span>
<span class="ltx_bibblock">Dropnet: Reducing neural network complexity via iterative pruning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib31.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages
9356–9366. PMLR, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
C. M. J. Tan and M. Motani.

</span>
<span class="ltx_bibblock">DropNet: Reducing neural network complexity via iterative
pruning.

</span>
<span class="ltx_bibblock">In H. D. III and A. Singh, editors, <span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">Proceedings of the 37th
International Conference on Machine Learning</span>, volume 119 of <span id="bib.bib32.2.2" class="ltx_text ltx_font_italic">Proceedings
of Machine Learning Research</span>, pages 9356–9366. PMLR, 13–18 Jul 2020.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
P. Voigt and A. v. d. Bussche.

</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">The EU General Data Protection Regulation (GDPR): A Practical
Guide</span>.

</span>
<span class="ltx_bibblock">Springer Publishing Company, Incorporated, 1st edition, 2017.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
J. Wang, Z. Charles, Z. Xu, G. Joshi, H. B. McMahan, B. A. y Arcas,
M. Al-Shedivat, G. Andrew, S. Avestimehr, K. Daly, D. Data, S. N. Diggavi,
H. Eichner, A. Gadhikar, Z. Garrett, A. M. Girgis, F. Hanzely, A. Hard,
C. He, S. Horvath, Z. Huo, A. Ingerman, M. Jaggi, T. Javidi, P. Kairouz,
S. Kale, S. P. Karimireddy, J. Konečný, S. Koyejo, T. Li, L. Liu,
M. Mohri, H. Qi, S. J. Reddi, P. Richtárik, K. Singhal, V. Smith,
M. Soltanolkotabi, W. Song, A. T. Suresh, S. U. Stich, A. Talwalkar, H. Wang,
B. E. Woodworth, S. Wu, F. X. Yu, H. Yuan, M. Zaheer, M. Zhang, T. Zhang,
C. Zheng, C. Zhu, and W. Zhu.

</span>
<span class="ltx_bibblock">A field guide to federated optimization.

</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2107.06917, 2021.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
C. Xu, Y. Qu, Y. Xiang, and L. Gao.

</span>
<span class="ltx_bibblock">Asynchronous federated learning on heterogeneous devices: A survey,
2021.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1. </span>Datasets and Models</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">Here we provide complete details of datasets used in our experiments. We experiment with diverse set of real world datasets.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.1" class="ltx_p"><span id="A1.SS1.p2.1.1" class="ltx_text ltx_font_bold">FEMNIST.</span>
This is federated version of extended MNIST dataset which consists of images of 28 x 28.
FEMNIST is an image classification dataset with 62 classes. This data is partitioned by writer of the digits/characters. We train a CNN model on this dataset.
We have two versions of femnist dataset with different levels of statistical heterogeneity. One version is less heterogeneous and used by Ditto <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. While we create the other version in LEAF by assigning 5 random classes to each client. We show that the <span id="A1.SS1.p2.1.2" class="ltx_text ltx_font_sansserif">FedPrune</span>
can be more beneficial in the face of statistical heterogeneity i.e., skewed FEMNIST data (figure <a href="#S5.F4" title="Figure 4 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> <a href="#S5.F5" title="Figure 5 ‣ 5.1. Experimental Details ‣ 5. Evaluation ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). For FEMNIST, we use a model with two convolutional layers which are followed by pooling layers, and a final dense layer.</p>
</div>
<div id="A1.SS1.p3" class="ltx_para">
<p id="A1.SS1.p3.1" class="ltx_p"><span id="A1.SS1.p3.1.1" class="ltx_text ltx_font_bold">FMNIST.</span>
We experiment on Fashion MNIST dataset used by Ditto <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. It is also an image classification dataset which has 10 classes. We use the same model for FMNIST that we described above for FEMNIST.</p>
</div>
<div id="A1.SS1.p4" class="ltx_para">
<p id="A1.SS1.p4.1" class="ltx_p"><span id="A1.SS1.p4.1.1" class="ltx_text ltx_font_bold">CIFAR-10.</span>
CIFAR-10 is also an image classification dataset. To create a federated version of CIFAR-10, we randomly assign an image to a client. Each image has the same probability to belong to any client, which makes this dataset IID. CIFAR-10 model architecture is also same as FEMNIST.</p>
</div>
<div id="A1.SS1.p5" class="ltx_para">
<p id="A1.SS1.p5.1" class="ltx_p"><span id="A1.SS1.p5.1.1" class="ltx_text ltx_font_bold">SENT140.</span>
Sentiment140 <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> is a text dataset of tweets which is used for sentiment analysis task. We perform our experiments on sent140 used in FedProx <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>. We train a model with two LSTM layers and a fully connected layer. We use a pretrained 300D GloVe embedding <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>. Glove embeds each character of the input sequence into a 300-dimensional space
and outputs one character per training sample after 2 LSTM layers and a fully-connected layer.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2. </span>Real Device Experiments</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p"><span id="A1.SS2.p1.1.1" class="ltx_text ltx_font_bold">Quantifying training time against different model sizes</span>

We performed the experiments for different model sizes on synthetic and femnist dataset to quantify training time on actual devices.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.1" class="ltx_p">Figure <a href="#A1.F8" title="Figure 8 ‣ A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows the training time of linear model on slow and fast devices against different model sizes. Blue bar represents the training times of fast device, orange represents when a large model was served to the slow client, green bar represents when 30% pruned was served, and so on. Slow client takes <math id="A1.SS2.p2.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="A1.SS2.p2.1.m1.1a"><mo id="A1.SS2.p2.1.m1.1.1" xref="A1.SS2.p2.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A1.SS2.p2.1.m1.1b"><csymbol cd="latexml" id="A1.SS2.p2.1.m1.1.1.cmml" xref="A1.SS2.p2.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p2.1.m1.1c">\sim</annotation></semantics></math>1.4x - 3.1x more time as compared to fast client. We observe that the model training time is reduced by 1.4x compared with fast client if we serve the 50% reduced model to the slow client. Figure <a href="#A1.F9" title="Figure 9 ‣ A.2. Real Device Experiments ‣ Appendix A Appendix ‣ FedPrune: Towards Inclusive Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the training time of CNN model on femnist dataset for different model drop rates.</p>
</div>
<figure id="A1.F8" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/mobile_plots/barplot_ci_training_time_slow_fast_combined.png" id="A1.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="359" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8. </span>Training time against different model sizes for synthetic dataset</figcaption>
</figure>
<figure id="A1.F9" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/mobile_plots/training_time_by_pruning.png" id="A1.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="404" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9. </span>Training times under <span id="A1.F9.2.1" class="ltx_text ltx_font_sansserif">FedPrune</span> with different model sizes.</figcaption>
</figure>
<figure id="A1.F10" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/mobile_plots/flops_by_pruning.png" id="A1.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="538" height="404" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10. </span>FLOPS for different model drop rates.</figcaption>
</figure>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3. </span>Simulation Experiments</h3>

<div id="A1.SS3.p1" class="ltx_para">
<p id="A1.SS3.p1.1" class="ltx_p">Following plots show the training loss and variance of test accuracy across clients on multiple real datasets under various levels of system heterogeneity.</p>
</div>
<figure id="A1.F11" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/compact/train_loss_all.png" id="A1.F11.g1" class="ltx_graphics ltx_img_landscape" width="598" height="240" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 11. </span>Train loss of various datasets and different levels of systems heterogeneity indicates that <span id="A1.F11.2.1" class="ltx_text ltx_font_sansserif">FedPrune</span> results in significant convergence improvements relative to FedAvg.</figcaption>
</figure>
<figure id="A1.F12" class="ltx_figure"><img src="/html/2110.14205/assets/figures/eval/fplot/compact/variance_all.png" id="A1.F12.g1" class="ltx_graphics ltx_img_landscape" width="598" height="240" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 12. </span>Variance of average test accuracy across clients</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2110.14204" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2110.14205" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2110.14205">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2110.14205" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2110.14206" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Mar 19 15:21:20 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
