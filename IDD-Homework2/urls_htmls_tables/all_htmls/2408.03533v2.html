<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation</title>
<!--Generated on Sun Aug 11 09:08:50 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Large Language Models,  Recommender Systems,  User Modeling" lang="en" name="keywords"/>
<base href="/html/2408.03533v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S1" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminary</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS1" title="In 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Problem Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS2" title="In 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Conventional Recommendation Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS3" title="In 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Large Language Models as Recommenders</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS4" title="In 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.4 </span>Low-Rank Adaptation of LLMs</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS1" title="In 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Overview of RecLoRA</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS2" title="In 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Personalized Low-Rank Adaption</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS3" title="In 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Few2Many Magnifier Strategy</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS4" title="In 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>Long-Short Modality Retriever</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS1" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experiment Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS1.SSS1" title="In 4.1. Experiment Setup ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS1.SSS2" title="In 4.1. Experiment Setup ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS1.SSS3" title="In 4.1. Experiment Setup ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Baseline Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS1.SSS4" title="In 4.1. Experiment Setup ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.4 </span>Implementation Details</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS2" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Overall Performance (RQ1)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS3" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Ablation Study (RQ2)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS4" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Hyperparameter Study (RQ3)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS5" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Time Efficiency (RQ4)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS6" title="In 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Sample Efficiency (RQ5)</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S5" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Related Works</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S5.SS1" title="In 5. Related Works ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Large Language Model for Recommendation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S5.SS2" title="In 5. Related Works ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Long Sequence User Modeling</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S6" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A1" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Data Preprocessing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A2" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Baseline Implementation</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A2.SS1" title="In Appendix B Baseline Implementation ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Traditional CTR Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A2.SS2" title="In Appendix B Baseline Implementation ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>LM-based Models</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A3" title="In Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Implementation Detals</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiachen Zhu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-9140-1429" title="ORCID identifier">0000-0002-9140-1429</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Shanghai Jiao Tong University</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:gebro13@sjtu.edu.cn">gebro13@sjtu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jianghao Lin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-8953-3203" title="ORCID identifier">0000-0002-8953-3203</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">Shanghai Jiao Tong University</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:chiangel@sjtu.edu.cn">chiangel@sjtu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xinyi Dai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Huawei Noah’s Ark Lab</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:daixinyi5@huawei.com">daixinyi5@huawei.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Bo Chen
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0001-7053-8269" title="ORCID identifier">0000-0001-7053-8269</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">Huawei Noah’s Ark Lab</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Shenzhen</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:chenbo116@huawei.com">chenbo116@huawei.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Rong Shan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">Shanghai Jiao Tong University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:shanrong@sjtu.edu.cn">shanrong@sjtu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jieming Zhu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Huawei Noah’s Ark Lab</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Shenzhen</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jamie.zhu@huawei.com">jamie.zhu@huawei.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ruiming Tang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-9224-2431" title="ORCID identifier">0000-0002-9224-2431</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">Huawei Noah’s Ark Lab</span><span class="ltx_text ltx_affiliation_city" id="id20.2.id2">Shenzhen</span><span class="ltx_text ltx_affiliation_country" id="id21.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:tangruiming@huawei.com">tangruiming@huawei.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yong Yu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-0281-8271" title="ORCID identifier">0000-0003-0281-8271</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id22.1.id1">Shanghai Jiao Tong University</span><span class="ltx_text ltx_affiliation_city" id="id23.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id24.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yyu@apex.sjtu.edu.cn">yyu@apex.sjtu.edu.cn</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Weinan Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0002-0127-2425" title="ORCID identifier">0000-0002-0127-2425</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id25.1.id1">Shanghai Jiao Tong University</span><span class="ltx_text ltx_affiliation_city" id="id26.2.id2">Shanghai</span><span class="ltx_text ltx_affiliation_country" id="id27.3.id3">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:wnzhang@sjtu.edu.cn">wnzhang@sjtu.edu.cn</a>
</span></span></span>
</div>
<div class="ltx_dates">(2018)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id28.id1">We primarily focus on the field of large language models (LLMs) for recommendation, which has been actively explored recently and poses a significant challenge in effectively enhancing recommender systems with logical reasoning abilities and open-world knowledge. Current mainstream efforts mainly center around injecting personalized information from recommendation models into LLMs by customizing input templates or aligning representations between semantic and recommendation spaces at the prediction layer. However, they face three significant limitations: (1) LoRA is mostly used as a core component in existing works, but personalization is not well established in LoRA parameters as the LoRA matrix shared by every user may not cater to different users’ characteristics, leading to suboptimal performance. (2) Although lifelong personalized behavior sequences are ideal for personalization, their use raises effectiveness and efficiency issues since LLMs require escalating training and inference time to extend text lengths. (3) Existing approaches fail to be scalable for large datasets due to training efficiency constraints. Thus, LLMs only see a small fraction of the datasets (e.g., less than 10%) instead of the whole datasets, limiting their exposure to the full training space. To address these problems, we propose <span class="ltx_text ltx_font_bold" id="id28.id1.1">RecLoRA</span>. This model incorporates a personalized LoRA module that maintains independent LoRAs for different users and a Long-Short Modality Retriever that retrieves different history lengths for different modalities, significantly improving performance with negligible time cost increase. Furthermore, we design a Few2Many Learning Strategy, using a conventional recommendation model as a lens to magnify small training spaces to full spaces. Extensive experiments on real-world datasets demonstrate the efficacy of our RecLoRA compared to strong baseline models.</p>
</div>
<div class="ltx_keywords">Large Language Models, Recommender Systems, User Modeling
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmcopyright</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Make sure to enter the correct
conference title from your rights confirmation emai; June 03–05,
2018; Woodstock, NY</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Woodstock ’18: ACM Symposium on Neural Gaze Detection,
June 03–05, 2018, Woodstock, NY</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_price" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">price: </span>15.00</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-XXXX-X/18/06</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id8"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Data mining</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id9"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="294" id="S1.F1.g1" src="x1.png" width="398"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The illustration of lifelong behavior sequence and personalized low-rank adaption (LoRA) of large language models for recommendation.</figcaption>
</figure>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recommender systems play essential roles in various online services to mitigate the information overload problem and meet users’ information needs <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib20" title="">2017a</a>; Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib44" title="">2023b</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib46" title="">2024</a>; Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib61" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib62" title="">2023</a>)</cite>.
Besides, large language models (LLMs) have experienced significant growth in the field of natural language processing (NLP), demonstrating a remarkable ability to comprehend human languages and generate texts that closely resemble human writings for a broad range of tasks <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib83" title="">2023</a>; Brown et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib4" title="">2020</a>; Touvron et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib68" title="">2023</a>)</cite>.
Recent studies have started to investigate the potential of LLMs for recommender systems under various recommendation tasks, such as listwise ranking and pointwise scoring <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib43" title="">2023a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite>.
These studies usually inject personalized knowledge from recommendation domains into LLMs <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib81" title="">2023b</a>; Zheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib84" title="">2023</a>)</cite>.
This personalized knowledge plays a pivotal role in tailoring experiences to individual preferences and enhancing user interactions and engagements <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib8" title="">2023</a>)</cite>.
So our crucial points are <span class="ltx_text ltx_font_italic" id="S1.p1.1.1">what useful personalized knowledge we can provide</span> and <span class="ltx_text ltx_font_italic" id="S1.p1.1.2">how to inject it into LLM to help with predictions</span>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">As the proverb ”Actions speak louder than words” suggests, a user’s behavior sequence is the most direct expression of their preferences. It typically provides the most detailed personalized information about users in recommendation scenarios.
As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, if a user’s behaviors can be collected and
modeled from birth to the present, their interests can be accurately predicted. Several mainstream studies have designed memory mechanisms to model lifelong behavior sequences <cite class="ltx_cite ltx_citemacro_citep">(Ren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib64" title="">2019</a>; Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib56" title="">2019</a>)</cite>. Other approaches employ retrieval methods to extract relevant information from entire lifelong sequences <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib60" title="">2020</a>; Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib57" title="">2020a</a>; Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib7" title="">2023</a>)</cite>.
These methods prove the effectiveness of user behavior sequences, which also shows potential in LLM-based recommendation models.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Regarding the second point, there are already existing studies on how to incorporate personalized knowledge into large language models (LLMs). Some works inject personalized information from conventional recommendation models (CRMs) into LLMs by customizing input templates at the input layer <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib81" title="">2023b</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib39" title="">2023b</a>; Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib42" title="">2024a</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>)</cite>. Other studies align representations between semantic and recommendation spaces at the prediction layer <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib38" title="">2023a</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib69" title="">2023</a>)</cite>. Despite achieving promising results compared to conventional recommendation models like SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib30" title="">2018a</a>)</cite> and DIN <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib85" title="">2018</a>)</cite>, existing works still face three significant limitations.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Firstly, personalization is not well established when adapting LLMs to recommender systems. For the sake of memory efficiency, mainstream approaches typically adopt low-rank adaptation (LoRA) techniques <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib27" title="">2021</a>; Dettmers et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib15" title="">2023</a>)</cite> and perform parameter-efficient finetuning (PEFT) to inject personalized knowledge from recommendation domains into LLMs <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib81" title="">2023b</a>; Zheng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib84" title="">2023</a>)</cite>.
In the context of PEFT, maintaining a unique LoRA matrix for each user can enable maximum personalization, effectively capturing and adapting to unique user features and changing interests. However, current methods only implement prompt personalization or representation personalization, while the LoRA module, a core component of fine-tuning LLMs, remains static for all users and target items.
This lack of parameter personalization results in inferior capabilities to effectively manage user dynamics and preference shifts in modern recommender systems.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Secondly, utilizing lifelong personalized behavior sequences in the prompt or representation layer raises issues of effectiveness and efficiency<cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite>. Since LLMs are sensitive to input length and have a limit on input size, they tend to perform poorly on long behavior sequences, resulting in a ceiling on effectiveness. Additionally, as the length of the input behavior sequence
increases, the time required for training and inference escalates rapidly, leading to efficiency problems.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Thirdly, existing approaches are not scalable for large-scale industrial datasets due to training inefficiency. Even with LoRA techniques, fine-tuning LLMs on recommendation data consumes immense computational resources and time, making it extremely inefficient for large-scale datasets, typically involving millions or even billions of records. Although some studies <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite> suggest fine-tuning LLMs on a small fraction (e.g., less than 10%) of the training data to balance recommendation performance and training efficiency, this approach limits the LLMs’ exposure to the full training space, resulting in suboptimal performance. Therefore, enabling LLMs to fully perceive the training space while ensuring training efficiency remains an open research question.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">To address the aforementioned issues, we propose a novel Personalized <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p7.1.1">Lo</span>w-<span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p7.1.2">ra</span>nk Adaptation Framework of Large Language Models for <span class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" id="S1.p7.1.3">Rec</span>ommendation (<em class="ltx_emph ltx_font_italic" id="S1.p7.1.4">i.e.</em>, <span class="ltx_text ltx_font_bold" id="S1.p7.1.5">RecLoRA</span>).
Specifically, we maintain a set of parallel, independent LoRA weights instead of a single static LoRA module as suggested in previous works <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib81" title="">2023b</a>)</cite>. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>, this personalized LoRA module functions to incorporate personalized user knowledge into large language models, serving as a strategy for parameter personalization. We assign a sequential CRM and adapt the user representation to personalized LoRA weights. More precisely, we use a soft routing method to aggregate meta-LoRA weights guided by the CRM. Instead of extending user behavior sequences in the input prompt, RecLoRA assigns longer sequences in the sequential CRM, significantly improving effectiveness with negligible cost increase. Moreover, the CRM is pre-trained on the full training space, so dynamically generating LoRA weights based on the CRM can act like a magnifier, enlarging the training signal observed from a small fraction of data to the entire data space without increasing LLM training time.</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">The main contributions are summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">To the best of our knowledge, we are the first to consider LoRA parameters personalization in the recommendation task. We design a personalized LoRA module that includes a CRM trained on full training space and a soft routing method to aggregate meta-LoRA weights with CRM instructions.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose a novel framework, RecLoRA, which realizes a better trade-off between effectiveness and efficiency. RecLoRA has a Few2Many Magnifier where only few-shot training data is needed to efficiently tune LLM and a Long-short Modality Retriever module, which extends the sequence length in the CRM to improve performance with negligible time cost increase.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">Our personalized LoRA module is an easy-to-plugin module, which can be used in any LLM-based recommendation model with LoRA modules.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S1.p9">
<p class="ltx_p" id="S1.p9.1">Extensive experiments on three public real-world datasets have been conducted, where RecLoRA achieves consistent superiority over strong baselines.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminary</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we will formulate the problem and introduce Low-Rank Adaptation, which is the basis of RecLoRA.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Problem Formulation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.7">The core task of recommender systems is to estimate users’ preference toward target items given a certain context.
We denote the historical dataset as <math alttext="\mathcal{D}=\{(x_{i},y_{i})\}_{i=1}^{N}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mrow id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.3.cmml">𝒟</mi><mo id="S2.SS1.p1.1.m1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.2.cmml">=</mo><msubsup id="S2.SS1.p1.1.m1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.cmml"><mrow id="S2.SS1.p1.1.m1.1.1.1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.1.1.2.cmml"><mo id="S2.SS1.p1.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.1.1.2.cmml">{</mo><mrow id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml"><mo id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.3" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.4" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.5" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S2.SS1.p1.1.m1.1.1.1.1.1.1.3" stretchy="false" xref="S2.SS1.p1.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS1.p1.1.m1.1.1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.1.m1.1.1.1.1.3.2" xref="S2.SS1.p1.1.m1.1.1.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p1.1.m1.1.1.1.1.3.1" xref="S2.SS1.p1.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS1.p1.1.m1.1.1.1.1.3.3" xref="S2.SS1.p1.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p1.1.m1.1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><apply id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1"><eq id="S2.SS1.p1.1.m1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.2"></eq><ci id="S2.SS1.p1.1.m1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.3">𝒟</ci><apply id="S2.SS1.p1.1.m1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1">superscript</csymbol><apply id="S2.SS1.p1.1.m1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1">subscript</csymbol><set id="S2.SS1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1"><interval closure="open" id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2"><apply id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2">𝑦</ci><ci id="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S2.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.3"><eq id="S2.SS1.p1.1.m1.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.3.1"></eq><ci id="S2.SS1.p1.1.m1.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.3.2">𝑖</ci><cn id="S2.SS1.p1.1.m1.1.1.1.1.3.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.1.m1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\mathcal{D}=\{(x_{i},y_{i})\}_{i=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">caligraphic_D = { ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="N" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">italic_N</annotation></semantics></math> is the number of data instances.
The input <math alttext="x_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><msub id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2" xref="S2.SS1.p1.3.m3.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2">𝑥</ci><ci id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> contains features of user profile <math alttext="u_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><msub id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml">u</mi><mi id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2">𝑢</ci><ci id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">u_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>(<em class="ltx_emph ltx_font_italic" id="S2.SS1.p1.7.1">e.g.</em>, age, location, and historical behaviors), item attributes <math alttext="v_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1"><semantics id="S2.SS1.p1.5.m5.1a"><msub id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2" xref="S2.SS1.p1.5.m5.1.1.2.cmml">v</mi><mi id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2">𝑣</ci><ci id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> (<em class="ltx_emph ltx_font_italic" id="S2.SS1.p1.7.2">e.g.</em>, category and brand), context information <math alttext="c_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.1"><semantics id="S2.SS1.p1.6.m6.1a"><msub id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml"><mi id="S2.SS1.p1.6.m6.1.1.2" xref="S2.SS1.p1.6.m6.1.1.2.cmml">c</mi><mi id="S2.SS1.p1.6.m6.1.1.3" xref="S2.SS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><apply id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.2">𝑐</ci><ci id="S2.SS1.p1.6.m6.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> (<em class="ltx_emph ltx_font_italic" id="S2.SS1.p1.7.3">e.g.</em>, time and season) and user history sequence <math alttext="\mathcal{H}_{u_{i}}" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1"><semantics id="S2.SS1.p1.7.m7.1a"><msub id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.7.m7.1.1.2" xref="S2.SS1.p1.7.m7.1.1.2.cmml">ℋ</mi><msub id="S2.SS1.p1.7.m7.1.1.3" xref="S2.SS1.p1.7.m7.1.1.3.cmml"><mi id="S2.SS1.p1.7.m7.1.1.3.2" xref="S2.SS1.p1.7.m7.1.1.3.2.cmml">u</mi><mi id="S2.SS1.p1.7.m7.1.1.3.3" xref="S2.SS1.p1.7.m7.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><apply id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.7.m7.1.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S2.SS1.p1.7.m7.1.1.2.cmml" xref="S2.SS1.p1.7.m7.1.1.2">ℋ</ci><apply id="S2.SS1.p1.7.m7.1.1.3.cmml" xref="S2.SS1.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.7.m7.1.1.3.1.cmml" xref="S2.SS1.p1.7.m7.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.7.m7.1.1.3.2.cmml" xref="S2.SS1.p1.7.m7.1.1.3.2">𝑢</ci><ci id="S2.SS1.p1.7.m7.1.1.3.3.cmml" xref="S2.SS1.p1.7.m7.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">\mathcal{H}_{u_{i}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.7.m7.1d">caligraphic_H start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>(<em class="ltx_emph ltx_font_italic" id="S2.SS1.p1.7.4">e.g.</em>, behaviors like click and ratings).</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E1X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle x_{i}" class="ltx_Math" display="inline" id="S2.E1X.2.1.1.m1.1"><semantics id="S2.E1X.2.1.1.m1.1a"><msub id="S2.E1X.2.1.1.m1.1.1" xref="S2.E1X.2.1.1.m1.1.1.cmml"><mi id="S2.E1X.2.1.1.m1.1.1.2" xref="S2.E1X.2.1.1.m1.1.1.2.cmml">x</mi><mi id="S2.E1X.2.1.1.m1.1.1.3" xref="S2.E1X.2.1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.E1X.2.1.1.m1.1b"><apply id="S2.E1X.2.1.1.m1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E1X.2.1.1.m1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1">subscript</csymbol><ci id="S2.E1X.2.1.1.m1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.1.1.2">𝑥</ci><ci id="S2.E1X.2.1.1.m1.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.2.1.1.m1.1c">\displaystyle x_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.E1X.2.1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=(u_{i},v_{i},c_{i},\mathcal{H}_{u_{i}})," class="ltx_Math" display="inline" id="S2.E1X.3.2.2.m1.1"><semantics id="S2.E1X.3.2.2.m1.1a"><mrow id="S2.E1X.3.2.2.m1.1.1.1" xref="S2.E1X.3.2.2.m1.1.1.1.1.cmml"><mrow id="S2.E1X.3.2.2.m1.1.1.1.1" xref="S2.E1X.3.2.2.m1.1.1.1.1.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.1.1.6" xref="S2.E1X.3.2.2.m1.1.1.1.1.6.cmml"></mi><mo id="S2.E1X.3.2.2.m1.1.1.1.1.5" xref="S2.E1X.3.2.2.m1.1.1.1.1.5.cmml">=</mo><mrow id="S2.E1X.3.2.2.m1.1.1.1.1.4.4" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml"><mo id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.5" stretchy="false" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml">(</mo><msub id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.2.cmml">u</mi><mi id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.6" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml">,</mo><msub id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.2.cmml">v</mi><mi id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.7" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml">,</mo><msub id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.2.cmml">c</mi><mi id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.3.cmml">i</mi></msub><mo id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.8" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml">,</mo><msub id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.2.cmml">ℋ</mi><msub id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.2.cmml">u</mi><mi id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.3" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.3.cmml">i</mi></msub></msub><mo id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.9" stretchy="false" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml">)</mo></mrow></mrow><mo id="S2.E1X.3.2.2.m1.1.1.1.2" xref="S2.E1X.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1X.3.2.2.m1.1b"><apply id="S2.E1X.3.2.2.m1.1.1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1"><eq id="S2.E1X.3.2.2.m1.1.1.1.1.5.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.5"></eq><csymbol cd="latexml" id="S2.E1X.3.2.2.m1.1.1.1.1.6.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.6">absent</csymbol><vector id="S2.E1X.3.2.2.m1.1.1.1.1.4.5.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4"><apply id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.2">𝑢</ci><ci id="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.2">𝑣</ci><ci id="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.2.2.2.3">𝑖</ci></apply><apply id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.2">𝑐</ci><ci id="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.3.3.3.3">𝑖</ci></apply><apply id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.2">ℋ</ci><apply id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.2">𝑢</ci><ci id="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.1.1.4.4.4.3.3">𝑖</ci></apply></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.3.2.2.m1.1c">\displaystyle=(u_{i},v_{i},c_{i},\mathcal{H}_{u_{i}}),</annotation><annotation encoding="application/x-llamapun" id="S2.E1X.3.2.2.m1.1d">= ( italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_H start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S2.SS1.p1.10">where <math alttext="\mathcal{H}_{u_{i}}=\{h_{1},h_{2},\dots,h_{N_{u_{i}}}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.8.m1.4"><semantics id="S2.SS1.p1.8.m1.4a"><mrow id="S2.SS1.p1.8.m1.4.4" xref="S2.SS1.p1.8.m1.4.4.cmml"><msub id="S2.SS1.p1.8.m1.4.4.5" xref="S2.SS1.p1.8.m1.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.8.m1.4.4.5.2" xref="S2.SS1.p1.8.m1.4.4.5.2.cmml">ℋ</mi><msub id="S2.SS1.p1.8.m1.4.4.5.3" xref="S2.SS1.p1.8.m1.4.4.5.3.cmml"><mi id="S2.SS1.p1.8.m1.4.4.5.3.2" xref="S2.SS1.p1.8.m1.4.4.5.3.2.cmml">u</mi><mi id="S2.SS1.p1.8.m1.4.4.5.3.3" xref="S2.SS1.p1.8.m1.4.4.5.3.3.cmml">i</mi></msub></msub><mo id="S2.SS1.p1.8.m1.4.4.4" xref="S2.SS1.p1.8.m1.4.4.4.cmml">=</mo><mrow id="S2.SS1.p1.8.m1.4.4.3.3" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml"><mo id="S2.SS1.p1.8.m1.4.4.3.3.4" stretchy="false" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml">{</mo><msub id="S2.SS1.p1.8.m1.2.2.1.1.1" xref="S2.SS1.p1.8.m1.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.8.m1.2.2.1.1.1.2" xref="S2.SS1.p1.8.m1.2.2.1.1.1.2.cmml">h</mi><mn id="S2.SS1.p1.8.m1.2.2.1.1.1.3" xref="S2.SS1.p1.8.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.8.m1.4.4.3.3.5" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml">,</mo><msub id="S2.SS1.p1.8.m1.3.3.2.2.2" xref="S2.SS1.p1.8.m1.3.3.2.2.2.cmml"><mi id="S2.SS1.p1.8.m1.3.3.2.2.2.2" xref="S2.SS1.p1.8.m1.3.3.2.2.2.2.cmml">h</mi><mn id="S2.SS1.p1.8.m1.3.3.2.2.2.3" xref="S2.SS1.p1.8.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.SS1.p1.8.m1.4.4.3.3.6" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml">,</mo><mi id="S2.SS1.p1.8.m1.1.1" mathvariant="normal" xref="S2.SS1.p1.8.m1.1.1.cmml">…</mi><mo id="S2.SS1.p1.8.m1.4.4.3.3.7" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml">,</mo><msub id="S2.SS1.p1.8.m1.4.4.3.3.3" xref="S2.SS1.p1.8.m1.4.4.3.3.3.cmml"><mi id="S2.SS1.p1.8.m1.4.4.3.3.3.2" xref="S2.SS1.p1.8.m1.4.4.3.3.3.2.cmml">h</mi><msub id="S2.SS1.p1.8.m1.4.4.3.3.3.3" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.cmml"><mi id="S2.SS1.p1.8.m1.4.4.3.3.3.3.2" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.2.cmml">N</mi><msub id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.cmml"><mi id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.2" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.2.cmml">u</mi><mi id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.3" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.3.cmml">i</mi></msub></msub></msub><mo id="S2.SS1.p1.8.m1.4.4.3.3.8" stretchy="false" xref="S2.SS1.p1.8.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m1.4b"><apply id="S2.SS1.p1.8.m1.4.4.cmml" xref="S2.SS1.p1.8.m1.4.4"><eq id="S2.SS1.p1.8.m1.4.4.4.cmml" xref="S2.SS1.p1.8.m1.4.4.4"></eq><apply id="S2.SS1.p1.8.m1.4.4.5.cmml" xref="S2.SS1.p1.8.m1.4.4.5"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.4.4.5.1.cmml" xref="S2.SS1.p1.8.m1.4.4.5">subscript</csymbol><ci id="S2.SS1.p1.8.m1.4.4.5.2.cmml" xref="S2.SS1.p1.8.m1.4.4.5.2">ℋ</ci><apply id="S2.SS1.p1.8.m1.4.4.5.3.cmml" xref="S2.SS1.p1.8.m1.4.4.5.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.4.4.5.3.1.cmml" xref="S2.SS1.p1.8.m1.4.4.5.3">subscript</csymbol><ci id="S2.SS1.p1.8.m1.4.4.5.3.2.cmml" xref="S2.SS1.p1.8.m1.4.4.5.3.2">𝑢</ci><ci id="S2.SS1.p1.8.m1.4.4.5.3.3.cmml" xref="S2.SS1.p1.8.m1.4.4.5.3.3">𝑖</ci></apply></apply><set id="S2.SS1.p1.8.m1.4.4.3.4.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3"><apply id="S2.SS1.p1.8.m1.2.2.1.1.1.cmml" xref="S2.SS1.p1.8.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.8.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.8.m1.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.8.m1.2.2.1.1.1.2">ℎ</ci><cn id="S2.SS1.p1.8.m1.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.8.m1.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS1.p1.8.m1.3.3.2.2.2.cmml" xref="S2.SS1.p1.8.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.8.m1.3.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.8.m1.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.8.m1.3.3.2.2.2.2">ℎ</ci><cn id="S2.SS1.p1.8.m1.3.3.2.2.2.3.cmml" type="integer" xref="S2.SS1.p1.8.m1.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS1.p1.8.m1.1.1.cmml" xref="S2.SS1.p1.8.m1.1.1">…</ci><apply id="S2.SS1.p1.8.m1.4.4.3.3.3.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.4.4.3.3.3.1.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.8.m1.4.4.3.3.3.2.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.2">ℎ</ci><apply id="S2.SS1.p1.8.m1.4.4.3.3.3.3.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.4.4.3.3.3.3.1.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.8.m1.4.4.3.3.3.3.2.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.2">𝑁</ci><apply id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.1.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.2.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.2">𝑢</ci><ci id="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.3.cmml" xref="S2.SS1.p1.8.m1.4.4.3.3.3.3.3.3">𝑖</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m1.4c">\mathcal{H}_{u_{i}}=\{h_{1},h_{2},\dots,h_{N_{u_{i}}}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.8.m1.4d">caligraphic_H start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { italic_h start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_h start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_h start_POSTSUBSCRIPT italic_N start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math> represents <math alttext="N_{u_{i}}" class="ltx_Math" display="inline" id="S2.SS1.p1.9.m2.1"><semantics id="S2.SS1.p1.9.m2.1a"><msub id="S2.SS1.p1.9.m2.1.1" xref="S2.SS1.p1.9.m2.1.1.cmml"><mi id="S2.SS1.p1.9.m2.1.1.2" xref="S2.SS1.p1.9.m2.1.1.2.cmml">N</mi><msub id="S2.SS1.p1.9.m2.1.1.3" xref="S2.SS1.p1.9.m2.1.1.3.cmml"><mi id="S2.SS1.p1.9.m2.1.1.3.2" xref="S2.SS1.p1.9.m2.1.1.3.2.cmml">u</mi><mi id="S2.SS1.p1.9.m2.1.1.3.3" xref="S2.SS1.p1.9.m2.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m2.1b"><apply id="S2.SS1.p1.9.m2.1.1.cmml" xref="S2.SS1.p1.9.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m2.1.1.1.cmml" xref="S2.SS1.p1.9.m2.1.1">subscript</csymbol><ci id="S2.SS1.p1.9.m2.1.1.2.cmml" xref="S2.SS1.p1.9.m2.1.1.2">𝑁</ci><apply id="S2.SS1.p1.9.m2.1.1.3.cmml" xref="S2.SS1.p1.9.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m2.1.1.3.1.cmml" xref="S2.SS1.p1.9.m2.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.9.m2.1.1.3.2.cmml" xref="S2.SS1.p1.9.m2.1.1.3.2">𝑢</ci><ci id="S2.SS1.p1.9.m2.1.1.3.3.cmml" xref="S2.SS1.p1.9.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m2.1c">N_{u_{i}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.9.m2.1d">italic_N start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> sequential behaviors of user <math alttext="u_{i}" class="ltx_Math" display="inline" id="S2.SS1.p1.10.m3.1"><semantics id="S2.SS1.p1.10.m3.1a"><msub id="S2.SS1.p1.10.m3.1.1" xref="S2.SS1.p1.10.m3.1.1.cmml"><mi id="S2.SS1.p1.10.m3.1.1.2" xref="S2.SS1.p1.10.m3.1.1.2.cmml">u</mi><mi id="S2.SS1.p1.10.m3.1.1.3" xref="S2.SS1.p1.10.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m3.1b"><apply id="S2.SS1.p1.10.m3.1.1.cmml" xref="S2.SS1.p1.10.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m3.1.1.1.cmml" xref="S2.SS1.p1.10.m3.1.1">subscript</csymbol><ci id="S2.SS1.p1.10.m3.1.1.2.cmml" xref="S2.SS1.p1.10.m3.1.1.2">𝑢</ci><ci id="S2.SS1.p1.10.m3.1.1.3.cmml" xref="S2.SS1.p1.10.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m3.1c">u_{i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.10.m3.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">The label <math alttext="y_{i}\in\{1,0\}" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.2"><semantics id="S2.SS1.p2.1.m1.2a"><mrow id="S2.SS1.p2.1.m1.2.3" xref="S2.SS1.p2.1.m1.2.3.cmml"><msub id="S2.SS1.p2.1.m1.2.3.2" xref="S2.SS1.p2.1.m1.2.3.2.cmml"><mi id="S2.SS1.p2.1.m1.2.3.2.2" xref="S2.SS1.p2.1.m1.2.3.2.2.cmml">y</mi><mi id="S2.SS1.p2.1.m1.2.3.2.3" xref="S2.SS1.p2.1.m1.2.3.2.3.cmml">i</mi></msub><mo id="S2.SS1.p2.1.m1.2.3.1" xref="S2.SS1.p2.1.m1.2.3.1.cmml">∈</mo><mrow id="S2.SS1.p2.1.m1.2.3.3.2" xref="S2.SS1.p2.1.m1.2.3.3.1.cmml"><mo id="S2.SS1.p2.1.m1.2.3.3.2.1" stretchy="false" xref="S2.SS1.p2.1.m1.2.3.3.1.cmml">{</mo><mn id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">1</mn><mo id="S2.SS1.p2.1.m1.2.3.3.2.2" xref="S2.SS1.p2.1.m1.2.3.3.1.cmml">,</mo><mn id="S2.SS1.p2.1.m1.2.2" xref="S2.SS1.p2.1.m1.2.2.cmml">0</mn><mo id="S2.SS1.p2.1.m1.2.3.3.2.3" stretchy="false" xref="S2.SS1.p2.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.2b"><apply id="S2.SS1.p2.1.m1.2.3.cmml" xref="S2.SS1.p2.1.m1.2.3"><in id="S2.SS1.p2.1.m1.2.3.1.cmml" xref="S2.SS1.p2.1.m1.2.3.1"></in><apply id="S2.SS1.p2.1.m1.2.3.2.cmml" xref="S2.SS1.p2.1.m1.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p2.1.m1.2.3.2.1.cmml" xref="S2.SS1.p2.1.m1.2.3.2">subscript</csymbol><ci id="S2.SS1.p2.1.m1.2.3.2.2.cmml" xref="S2.SS1.p2.1.m1.2.3.2.2">𝑦</ci><ci id="S2.SS1.p2.1.m1.2.3.2.3.cmml" xref="S2.SS1.p2.1.m1.2.3.2.3">𝑖</ci></apply><set id="S2.SS1.p2.1.m1.2.3.3.1.cmml" xref="S2.SS1.p2.1.m1.2.3.3.2"><cn id="S2.SS1.p2.1.m1.1.1.cmml" type="integer" xref="S2.SS1.p2.1.m1.1.1">1</cn><cn id="S2.SS1.p2.1.m1.2.2.cmml" type="integer" xref="S2.SS1.p2.1.m1.2.2">0</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.2c">y_{i}\in\{1,0\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.1.m1.2d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ { 1 , 0 }</annotation></semantics></math> indicates the interaction signal of the user towards the item (<em class="ltx_emph ltx_font_italic" id="S2.SS1.p2.1.1">i.e.</em>, prefer or not).</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{i}=\begin{cases}1,~{}u_{i}~{}\text{clicks or likes}~{}v_{i};\\
0,~{}\text{otherwise.}\end{cases}" class="ltx_Math" display="block" id="S2.E2.m1.2"><semantics id="S2.E2.m1.2a"><mrow id="S2.E2.m1.2.3" xref="S2.E2.m1.2.3.cmml"><msub id="S2.E2.m1.2.3.2" xref="S2.E2.m1.2.3.2.cmml"><mi id="S2.E2.m1.2.3.2.2" xref="S2.E2.m1.2.3.2.2.cmml">y</mi><mi id="S2.E2.m1.2.3.2.3" xref="S2.E2.m1.2.3.2.3.cmml">i</mi></msub><mo id="S2.E2.m1.2.3.1" xref="S2.E2.m1.2.3.1.cmml">=</mo><mrow id="S2.E2.m1.2.2" xref="S2.E2.m1.2.3.3.1.cmml"><mo id="S2.E2.m1.2.2.3" xref="S2.E2.m1.2.3.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" id="S2.E2.m1.2.2.2" rowspacing="0pt" xref="S2.E2.m1.2.3.3.1.cmml"><mtr id="S2.E2.m1.2.2.2a" xref="S2.E2.m1.2.3.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E2.m1.2.2.2b" xref="S2.E2.m1.2.3.3.1.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1.2" xref="S2.E2.m1.2.3.3.1.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1.2.1.1" xref="S2.E2.m1.1.1.1.1.1.1.2.1.2.cmml"><mn id="S2.E2.m1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.cmml">1</mn><mo id="S2.E2.m1.1.1.1.1.1.1.2.1.1.2" rspace="0.497em" xref="S2.E2.m1.1.1.1.1.1.1.2.1.2.cmml">,</mo><mrow id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.cmml"><msub id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.2" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.2.cmml">u</mi><mi id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.3" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.3.cmml">i</mi></msub><mo id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1.cmml">⁢</mo><mtext id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3a.cmml">clicks or likes</mtext><mo id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1a" lspace="0.330em" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1.cmml">⁢</mo><msub id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.2" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.2.cmml">v</mi><mi id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.3" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.3.cmml">i</mi></msub></mrow></mrow><mo id="S2.E2.m1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.2.3.3.1.cmml">;</mo></mrow></mtd><mtd id="S2.E2.m1.2.2.2c" xref="S2.E2.m1.2.3.3.1.1.cmml"></mtd></mtr><mtr id="S2.E2.m1.2.2.2d" xref="S2.E2.m1.2.3.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E2.m1.2.2.2e" xref="S2.E2.m1.2.3.3.1.cmml"><mrow id="S2.E2.m1.2.2.2.2.1.1.4" xref="S2.E2.m1.2.2.2.2.1.1.3.cmml"><mn id="S2.E2.m1.2.2.2.2.1.1.1" xref="S2.E2.m1.2.2.2.2.1.1.1.cmml">0</mn><mo id="S2.E2.m1.2.2.2.2.1.1.4.1" rspace="0.497em" xref="S2.E2.m1.2.2.2.2.1.1.3.cmml">,</mo><mtext id="S2.E2.m1.2.2.2.2.1.1.2" xref="S2.E2.m1.2.2.2.2.1.1.2a.cmml">otherwise.</mtext></mrow></mtd><mtd id="S2.E2.m1.2.2.2f" xref="S2.E2.m1.2.3.3.1.1.cmml"></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.2b"><apply id="S2.E2.m1.2.3.cmml" xref="S2.E2.m1.2.3"><eq id="S2.E2.m1.2.3.1.cmml" xref="S2.E2.m1.2.3.1"></eq><apply id="S2.E2.m1.2.3.2.cmml" xref="S2.E2.m1.2.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.2.3.2.1.cmml" xref="S2.E2.m1.2.3.2">subscript</csymbol><ci id="S2.E2.m1.2.3.2.2.cmml" xref="S2.E2.m1.2.3.2.2">𝑦</ci><ci id="S2.E2.m1.2.3.2.3.cmml" xref="S2.E2.m1.2.3.2.3">𝑖</ci></apply><apply id="S2.E2.m1.2.3.3.1.cmml" xref="S2.E2.m1.2.2"><csymbol cd="latexml" id="S2.E2.m1.2.3.3.1.1.cmml" xref="S2.E2.m1.2.2.3">cases</csymbol><list id="S2.E2.m1.1.1.1.1.1.1.2.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1"><cn id="S2.E2.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="S2.E2.m1.1.1.1.1.1.1.1">1</cn><apply id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1"><times id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.1"></times><apply id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2">subscript</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.2">𝑢</ci><ci id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.2.3">𝑖</ci></apply><ci id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3a.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3"><mtext id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.3">clicks or likes</mtext></ci><apply id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4">subscript</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.2">𝑣</ci><ci id="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2.1.1.1.4.3">𝑖</ci></apply></apply></list><ci id="S2.E2.m1.2.3.3.1.3a.cmml" xref="S2.E2.m1.2.2"><mtext class="ltx_mathvariant_italic" id="S2.E2.m1.2.3.3.1.3.cmml" xref="S2.E2.m1.2.2.3">otherwise</mtext></ci><list id="S2.E2.m1.2.2.2.2.1.1.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.4"><cn id="S2.E2.m1.2.2.2.2.1.1.1.cmml" type="integer" xref="S2.E2.m1.2.2.2.2.1.1.1">0</cn><ci id="S2.E2.m1.2.2.2.2.1.1.2a.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2"><mtext id="S2.E2.m1.2.2.2.2.1.1.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.2">otherwise.</mtext></ci></list><ci id="S2.E2.m1.2.3.3.1.5a.cmml" xref="S2.E2.m1.2.2"><mtext class="ltx_mathvariant_italic" id="S2.E2.m1.2.3.3.1.5.cmml" xref="S2.E2.m1.2.2.3">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.2c">y_{i}=\begin{cases}1,~{}u_{i}~{}\text{clicks or likes}~{}v_{i};\\
0,~{}\text{otherwise.}\end{cases}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.2d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = { start_ROW start_CELL 1 , italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT clicks or likes italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ; end_CELL start_CELL end_CELL end_ROW start_ROW start_CELL 0 , otherwise. end_CELL start_CELL end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.2">According to different input data transformations, there generally exist two different recommendation paradigms: (1) The input of ID modality <math alttext="x_{i}^{ID}" class="ltx_Math" display="inline" id="S2.SS1.p3.1.m1.1"><semantics id="S2.SS1.p3.1.m1.1a"><msubsup id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml"><mi id="S2.SS1.p3.1.m1.1.1.2.2" xref="S2.SS1.p3.1.m1.1.1.2.2.cmml">x</mi><mi id="S2.SS1.p3.1.m1.1.1.2.3" xref="S2.SS1.p3.1.m1.1.1.2.3.cmml">i</mi><mrow id="S2.SS1.p3.1.m1.1.1.3" xref="S2.SS1.p3.1.m1.1.1.3.cmml"><mi id="S2.SS1.p3.1.m1.1.1.3.2" xref="S2.SS1.p3.1.m1.1.1.3.2.cmml">I</mi><mo id="S2.SS1.p3.1.m1.1.1.3.1" xref="S2.SS1.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p3.1.m1.1.1.3.3" xref="S2.SS1.p3.1.m1.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><apply id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">superscript</csymbol><apply id="S2.SS1.p3.1.m1.1.1.2.cmml" xref="S2.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.1.m1.1.1.2.1.cmml" xref="S2.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p3.1.m1.1.1.2.2.cmml" xref="S2.SS1.p3.1.m1.1.1.2.2">𝑥</ci><ci id="S2.SS1.p3.1.m1.1.1.2.3.cmml" xref="S2.SS1.p3.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS1.p3.1.m1.1.1.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3"><times id="S2.SS1.p3.1.m1.1.1.3.1.cmml" xref="S2.SS1.p3.1.m1.1.1.3.1"></times><ci id="S2.SS1.p3.1.m1.1.1.3.2.cmml" xref="S2.SS1.p3.1.m1.1.1.3.2">𝐼</ci><ci id="S2.SS1.p3.1.m1.1.1.3.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">x_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> obtained by one-hot encoding for CRMs (2) The input of textual modality <math alttext="x_{i}^{text}" class="ltx_Math" display="inline" id="S2.SS1.p3.2.m2.1"><semantics id="S2.SS1.p3.2.m2.1a"><msubsup id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml"><mi id="S2.SS1.p3.2.m2.1.1.2.2" xref="S2.SS1.p3.2.m2.1.1.2.2.cmml">x</mi><mi id="S2.SS1.p3.2.m2.1.1.2.3" xref="S2.SS1.p3.2.m2.1.1.2.3.cmml">i</mi><mrow id="S2.SS1.p3.2.m2.1.1.3" xref="S2.SS1.p3.2.m2.1.1.3.cmml"><mi id="S2.SS1.p3.2.m2.1.1.3.2" xref="S2.SS1.p3.2.m2.1.1.3.2.cmml">t</mi><mo id="S2.SS1.p3.2.m2.1.1.3.1" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p3.2.m2.1.1.3.3" xref="S2.SS1.p3.2.m2.1.1.3.3.cmml">e</mi><mo id="S2.SS1.p3.2.m2.1.1.3.1a" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p3.2.m2.1.1.3.4" xref="S2.SS1.p3.2.m2.1.1.3.4.cmml">x</mi><mo id="S2.SS1.p3.2.m2.1.1.3.1b" xref="S2.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p3.2.m2.1.1.3.5" xref="S2.SS1.p3.2.m2.1.1.3.5.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><apply id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1">superscript</csymbol><apply id="S2.SS1.p3.2.m2.1.1.2.cmml" xref="S2.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.2.1.cmml" xref="S2.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S2.SS1.p3.2.m2.1.1.2.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2.2">𝑥</ci><ci id="S2.SS1.p3.2.m2.1.1.2.3.cmml" xref="S2.SS1.p3.2.m2.1.1.2.3">𝑖</ci></apply><apply id="S2.SS1.p3.2.m2.1.1.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3"><times id="S2.SS1.p3.2.m2.1.1.3.1.cmml" xref="S2.SS1.p3.2.m2.1.1.3.1"></times><ci id="S2.SS1.p3.2.m2.1.1.3.2.cmml" xref="S2.SS1.p3.2.m2.1.1.3.2">𝑡</ci><ci id="S2.SS1.p3.2.m2.1.1.3.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3.3">𝑒</ci><ci id="S2.SS1.p3.2.m2.1.1.3.4.cmml" xref="S2.SS1.p3.2.m2.1.1.3.4">𝑥</ci><ci id="S2.SS1.p3.2.m2.1.1.3.5.cmml" xref="S2.SS1.p3.2.m2.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">x_{i}^{text}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p3.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> generated by hard prompt template for LLMs as recommenders.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Conventional Recommendation Models</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">For ID input <math alttext="x_{i}^{ID}" class="ltx_Math" display="inline" id="S2.SS2.p1.1.m1.1"><semantics id="S2.SS2.p1.1.m1.1a"><msubsup id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi id="S2.SS2.p1.1.m1.1.1.2.2" xref="S2.SS2.p1.1.m1.1.1.2.2.cmml">x</mi><mi id="S2.SS2.p1.1.m1.1.1.2.3" xref="S2.SS2.p1.1.m1.1.1.2.3.cmml">i</mi><mrow id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml"><mi id="S2.SS2.p1.1.m1.1.1.3.2" xref="S2.SS2.p1.1.m1.1.1.3.2.cmml">I</mi><mo id="S2.SS2.p1.1.m1.1.1.3.1" xref="S2.SS2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS2.p1.1.m1.1.1.3.3" xref="S2.SS2.p1.1.m1.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">superscript</csymbol><apply id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.2.1.cmml" xref="S2.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.2.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2.2">𝑥</ci><ci id="S2.SS2.p1.1.m1.1.1.2.3.cmml" xref="S2.SS2.p1.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3"><times id="S2.SS2.p1.1.m1.1.1.3.1.cmml" xref="S2.SS2.p1.1.m1.1.1.3.1"></times><ci id="S2.SS2.p1.1.m1.1.1.3.2.cmml" xref="S2.SS2.p1.1.m1.1.1.3.2">𝐼</ci><ci id="S2.SS2.p1.1.m1.1.1.3.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">x_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math>, various conventional recommendation models (CRMs) are designed to capture the collaborative patterns for precise user preference estimation from various aspects (<em class="ltx_emph ltx_font_italic" id="S2.SS2.p1.1.1">e.g.</em>, feature interactions <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib72" title="">2021a</a>; Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib20" title="">2017a</a>)</cite>, user behavior modeling <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib57" title="">2020a</a>; Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib60" title="">2020</a>)</cite>).
We give the general formulation of CRMs as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E3X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle h_{i}^{ID}" class="ltx_Math" display="inline" id="S2.E3X.2.1.1.m1.1"><semantics id="S2.E3X.2.1.1.m1.1a"><msubsup id="S2.E3X.2.1.1.m1.1.1" xref="S2.E3X.2.1.1.m1.1.1.cmml"><mi id="S2.E3X.2.1.1.m1.1.1.2.2" xref="S2.E3X.2.1.1.m1.1.1.2.2.cmml">h</mi><mi id="S2.E3X.2.1.1.m1.1.1.2.3" xref="S2.E3X.2.1.1.m1.1.1.2.3.cmml">i</mi><mrow id="S2.E3X.2.1.1.m1.1.1.3" xref="S2.E3X.2.1.1.m1.1.1.3.cmml"><mi id="S2.E3X.2.1.1.m1.1.1.3.2" xref="S2.E3X.2.1.1.m1.1.1.3.2.cmml">I</mi><mo id="S2.E3X.2.1.1.m1.1.1.3.1" xref="S2.E3X.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3X.2.1.1.m1.1.1.3.3" xref="S2.E3X.2.1.1.m1.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.E3X.2.1.1.m1.1b"><apply id="S2.E3X.2.1.1.m1.1.1.cmml" xref="S2.E3X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.1.1.1.cmml" xref="S2.E3X.2.1.1.m1.1.1">superscript</csymbol><apply id="S2.E3X.2.1.1.m1.1.1.2.cmml" xref="S2.E3X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E3X.2.1.1.m1.1.1.2.1.cmml" xref="S2.E3X.2.1.1.m1.1.1">subscript</csymbol><ci id="S2.E3X.2.1.1.m1.1.1.2.2.cmml" xref="S2.E3X.2.1.1.m1.1.1.2.2">ℎ</ci><ci id="S2.E3X.2.1.1.m1.1.1.2.3.cmml" xref="S2.E3X.2.1.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S2.E3X.2.1.1.m1.1.1.3.cmml" xref="S2.E3X.2.1.1.m1.1.1.3"><times id="S2.E3X.2.1.1.m1.1.1.3.1.cmml" xref="S2.E3X.2.1.1.m1.1.1.3.1"></times><ci id="S2.E3X.2.1.1.m1.1.1.3.2.cmml" xref="S2.E3X.2.1.1.m1.1.1.3.2">𝐼</ci><ci id="S2.E3X.2.1.1.m1.1.1.3.3.cmml" xref="S2.E3X.2.1.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3X.2.1.1.m1.1c">\displaystyle h_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S2.E3X.2.1.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\operatorname{CRM}(x_{i}^{ID})," class="ltx_Math" display="inline" id="S2.E3X.3.2.2.m1.2"><semantics id="S2.E3X.3.2.2.m1.2a"><mrow id="S2.E3X.3.2.2.m1.2.2.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.cmml"><mrow id="S2.E3X.3.2.2.m1.2.2.1.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.cmml"><mi id="S2.E3X.3.2.2.m1.2.2.1.1.3" xref="S2.E3X.3.2.2.m1.2.2.1.1.3.cmml"></mi><mo id="S2.E3X.3.2.2.m1.2.2.1.1.2" xref="S2.E3X.3.2.2.m1.2.2.1.1.2.cmml">=</mo><mrow id="S2.E3X.3.2.2.m1.2.2.1.1.1.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml"><mi id="S2.E3X.3.2.2.m1.1.1" xref="S2.E3X.3.2.2.m1.1.1.cmml">CRM</mi><mo id="S2.E3X.3.2.2.m1.2.2.1.1.1.1a" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml">⁡</mo><mrow id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml"><mo id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.2" stretchy="false" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml">(</mo><msubsup id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.3" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msubsup><mo id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.3" stretchy="false" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E3X.3.2.2.m1.2.2.1.2" xref="S2.E3X.3.2.2.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3X.3.2.2.m1.2b"><apply id="S2.E3X.3.2.2.m1.2.2.1.1.cmml" xref="S2.E3X.3.2.2.m1.2.2.1"><eq id="S2.E3X.3.2.2.m1.2.2.1.1.2.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.2"></eq><csymbol cd="latexml" id="S2.E3X.3.2.2.m1.2.2.1.1.3.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.3">absent</csymbol><apply id="S2.E3X.3.2.2.m1.2.2.1.1.1.2.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1"><ci id="S2.E3X.3.2.2.m1.1.1.cmml" xref="S2.E3X.3.2.2.m1.1.1">CRM</ci><apply id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1">superscript</csymbol><apply id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.1.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3"><times id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.1"></times><ci id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S2.E3X.3.2.2.m1.2.2.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3X.3.2.2.m1.2c">\displaystyle=\operatorname{CRM}(x_{i}^{ID}),</annotation><annotation encoding="application/x-llamapun" id="S2.E3X.3.2.2.m1.2d">= roman_CRM ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E3Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\hat{y}_{i}^{ID}" class="ltx_Math" display="inline" id="S2.E3Xa.2.1.1.m1.1"><semantics id="S2.E3Xa.2.1.1.m1.1a"><msubsup id="S2.E3Xa.2.1.1.m1.1.1" xref="S2.E3Xa.2.1.1.m1.1.1.cmml"><mover accent="true" id="S2.E3Xa.2.1.1.m1.1.1.2.2" xref="S2.E3Xa.2.1.1.m1.1.1.2.2.cmml"><mi id="S2.E3Xa.2.1.1.m1.1.1.2.2.2" xref="S2.E3Xa.2.1.1.m1.1.1.2.2.2.cmml">y</mi><mo id="S2.E3Xa.2.1.1.m1.1.1.2.2.1" xref="S2.E3Xa.2.1.1.m1.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.E3Xa.2.1.1.m1.1.1.2.3" xref="S2.E3Xa.2.1.1.m1.1.1.2.3.cmml">i</mi><mrow id="S2.E3Xa.2.1.1.m1.1.1.3" xref="S2.E3Xa.2.1.1.m1.1.1.3.cmml"><mi id="S2.E3Xa.2.1.1.m1.1.1.3.2" xref="S2.E3Xa.2.1.1.m1.1.1.3.2.cmml">I</mi><mo id="S2.E3Xa.2.1.1.m1.1.1.3.1" xref="S2.E3Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3Xa.2.1.1.m1.1.1.3.3" xref="S2.E3Xa.2.1.1.m1.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.E3Xa.2.1.1.m1.1b"><apply id="S2.E3Xa.2.1.1.m1.1.1.cmml" xref="S2.E3Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E3Xa.2.1.1.m1.1.1.1.cmml" xref="S2.E3Xa.2.1.1.m1.1.1">superscript</csymbol><apply id="S2.E3Xa.2.1.1.m1.1.1.2.cmml" xref="S2.E3Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E3Xa.2.1.1.m1.1.1.2.1.cmml" xref="S2.E3Xa.2.1.1.m1.1.1">subscript</csymbol><apply id="S2.E3Xa.2.1.1.m1.1.1.2.2.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.2.2"><ci id="S2.E3Xa.2.1.1.m1.1.1.2.2.1.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.2.2.1">^</ci><ci id="S2.E3Xa.2.1.1.m1.1.1.2.2.2.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.2.2.2">𝑦</ci></apply><ci id="S2.E3Xa.2.1.1.m1.1.1.2.3.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S2.E3Xa.2.1.1.m1.1.1.3.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.3"><times id="S2.E3Xa.2.1.1.m1.1.1.3.1.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.3.1"></times><ci id="S2.E3Xa.2.1.1.m1.1.1.3.2.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.3.2">𝐼</ci><ci id="S2.E3Xa.2.1.1.m1.1.1.3.3.cmml" xref="S2.E3Xa.2.1.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3Xa.2.1.1.m1.1c">\displaystyle\hat{y}_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S2.E3Xa.2.1.1.m1.1d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sigma(\operatorname{MLP}(h_{i}^{ID}))\in(0,1)," class="ltx_Math" display="inline" id="S2.E3Xa.3.2.2.m1.4"><semantics id="S2.E3Xa.3.2.2.m1.4a"><mrow id="S2.E3Xa.3.2.2.m1.4.4.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.cmml"><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.cmml"><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.3" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.3.cmml"></mi><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.4" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.4.cmml">=</mo><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml"><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.3" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.3.cmml">σ</mi><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.2.cmml">⁢</mo><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml"><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.2" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml">(</mo><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml"><mi id="S2.E3Xa.3.2.2.m1.1.1" xref="S2.E3Xa.3.2.2.m1.1.1.cmml">MLP</mi><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1a" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml"><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">(</mo><msubsup id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml">h</mi><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msubsup><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.3" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.5" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.5.cmml">∈</mo><mrow id="S2.E3Xa.3.2.2.m1.4.4.1.1.6.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.6.1.cmml"><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.6.2.1" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.6.1.cmml">(</mo><mn id="S2.E3Xa.3.2.2.m1.2.2" xref="S2.E3Xa.3.2.2.m1.2.2.cmml">0</mn><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.6.2.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.6.1.cmml">,</mo><mn id="S2.E3Xa.3.2.2.m1.3.3" xref="S2.E3Xa.3.2.2.m1.3.3.cmml">1</mn><mo id="S2.E3Xa.3.2.2.m1.4.4.1.1.6.2.3" stretchy="false" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.6.1.cmml">)</mo></mrow></mrow><mo id="S2.E3Xa.3.2.2.m1.4.4.1.2" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3Xa.3.2.2.m1.4b"><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1"><and id="S2.E3Xa.3.2.2.m1.4.4.1.1a.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1"></and><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1b.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1"><eq id="S2.E3Xa.3.2.2.m1.4.4.1.1.4.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.4"></eq><csymbol cd="latexml" id="S2.E3Xa.3.2.2.m1.4.4.1.1.3.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.3">absent</csymbol><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1"><times id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.2.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.2"></times><ci id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.3.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.3">𝜎</ci><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1"><ci id="S2.E3Xa.3.2.2.m1.1.1.cmml" xref="S2.E3Xa.3.2.2.m1.1.1">MLP</ci><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2">ℎ</ci><ci id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3"><times id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply></apply></apply></apply><apply id="S2.E3Xa.3.2.2.m1.4.4.1.1c.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1"><in id="S2.E3Xa.3.2.2.m1.4.4.1.1.5.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.5"></in><share href="https://arxiv.org/html/2408.03533v2#S2.E3Xa.3.2.2.m1.4.4.1.1.1.cmml" id="S2.E3Xa.3.2.2.m1.4.4.1.1d.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1"></share><interval closure="open" id="S2.E3Xa.3.2.2.m1.4.4.1.1.6.1.cmml" xref="S2.E3Xa.3.2.2.m1.4.4.1.1.6.2"><cn id="S2.E3Xa.3.2.2.m1.2.2.cmml" type="integer" xref="S2.E3Xa.3.2.2.m1.2.2">0</cn><cn id="S2.E3Xa.3.2.2.m1.3.3.cmml" type="integer" xref="S2.E3Xa.3.2.2.m1.3.3">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3Xa.3.2.2.m1.4c">\displaystyle=\sigma(\operatorname{MLP}(h_{i}^{ID}))\in(0,1),</annotation><annotation encoding="application/x-llamapun" id="S2.E3Xa.3.2.2.m1.4d">= italic_σ ( roman_MLP ( italic_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ) ∈ ( 0 , 1 ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S2.SS2.p1.2">where <math alttext="\sigma(\cdot)" class="ltx_Math" display="inline" id="S2.SS2.p1.2.m1.1"><semantics id="S2.SS2.p1.2.m1.1a"><mrow id="S2.SS2.p1.2.m1.1.2" xref="S2.SS2.p1.2.m1.1.2.cmml"><mi id="S2.SS2.p1.2.m1.1.2.2" xref="S2.SS2.p1.2.m1.1.2.2.cmml">σ</mi><mo id="S2.SS2.p1.2.m1.1.2.1" xref="S2.SS2.p1.2.m1.1.2.1.cmml">⁢</mo><mrow id="S2.SS2.p1.2.m1.1.2.3.2" xref="S2.SS2.p1.2.m1.1.2.cmml"><mo id="S2.SS2.p1.2.m1.1.2.3.2.1" stretchy="false" xref="S2.SS2.p1.2.m1.1.2.cmml">(</mo><mo id="S2.SS2.p1.2.m1.1.1" lspace="0em" rspace="0em" xref="S2.SS2.p1.2.m1.1.1.cmml">⋅</mo><mo id="S2.SS2.p1.2.m1.1.2.3.2.2" stretchy="false" xref="S2.SS2.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m1.1b"><apply id="S2.SS2.p1.2.m1.1.2.cmml" xref="S2.SS2.p1.2.m1.1.2"><times id="S2.SS2.p1.2.m1.1.2.1.cmml" xref="S2.SS2.p1.2.m1.1.2.1"></times><ci id="S2.SS2.p1.2.m1.1.2.2.cmml" xref="S2.SS2.p1.2.m1.1.2.2">𝜎</ci><ci id="S2.SS2.p1.2.m1.1.1.cmml" xref="S2.SS2.p1.2.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m1.1c">\sigma(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.p1.2.m1.1d">italic_σ ( ⋅ )</annotation></semantics></math> is the sigmoid function.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3. </span>Large Language Models as Recommenders</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.2">Typically, large language models (LLMs) refer to Transformer-based language models with at least billion-level parameters that are trained on massive text datasets, demonstrating a remarkable capacity in various natural language tasks.
When adopting directly LLMs as the recommenders, we need to convert the raw data <math alttext="(x_{i},y_{i})" class="ltx_Math" display="inline" id="S2.SS3.p1.1.m1.2"><semantics id="S2.SS3.p1.1.m1.2a"><mrow id="S2.SS3.p1.1.m1.2.2.2" xref="S2.SS3.p1.1.m1.2.2.3.cmml"><mo id="S2.SS3.p1.1.m1.2.2.2.3" stretchy="false" xref="S2.SS3.p1.1.m1.2.2.3.cmml">(</mo><msub id="S2.SS3.p1.1.m1.1.1.1.1" xref="S2.SS3.p1.1.m1.1.1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS3.p1.1.m1.1.1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS3.p1.1.m1.2.2.2.4" xref="S2.SS3.p1.1.m1.2.2.3.cmml">,</mo><msub id="S2.SS3.p1.1.m1.2.2.2.2" xref="S2.SS3.p1.1.m1.2.2.2.2.cmml"><mi id="S2.SS3.p1.1.m1.2.2.2.2.2" xref="S2.SS3.p1.1.m1.2.2.2.2.2.cmml">y</mi><mi id="S2.SS3.p1.1.m1.2.2.2.2.3" xref="S2.SS3.p1.1.m1.2.2.2.2.3.cmml">i</mi></msub><mo id="S2.SS3.p1.1.m1.2.2.2.5" stretchy="false" xref="S2.SS3.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.2b"><interval closure="open" id="S2.SS3.p1.1.m1.2.2.3.cmml" xref="S2.SS3.p1.1.m1.2.2.2"><apply id="S2.SS3.p1.1.m1.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.1.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.1.m1.1.1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.2">𝑥</ci><ci id="S2.SS3.p1.1.m1.1.1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS3.p1.1.m1.2.2.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.2.2.2.2.1.cmml" xref="S2.SS3.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S2.SS3.p1.1.m1.2.2.2.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2.2.2.2">𝑦</ci><ci id="S2.SS3.p1.1.m1.2.2.2.2.3.cmml" xref="S2.SS3.p1.1.m1.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.2c">(x_{i},y_{i})</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.1.m1.2d">( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> into textual input-output pairs <math alttext="(x_{i}^{text},y_{i}^{text})" class="ltx_Math" display="inline" id="S2.SS3.p1.2.m2.2"><semantics id="S2.SS3.p1.2.m2.2a"><mrow id="S2.SS3.p1.2.m2.2.2.2" xref="S2.SS3.p1.2.m2.2.2.3.cmml"><mo id="S2.SS3.p1.2.m2.2.2.2.3" stretchy="false" xref="S2.SS3.p1.2.m2.2.2.3.cmml">(</mo><msubsup id="S2.SS3.p1.2.m2.1.1.1.1" xref="S2.SS3.p1.2.m2.1.1.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.1.1.2.2" xref="S2.SS3.p1.2.m2.1.1.1.1.2.2.cmml">x</mi><mi id="S2.SS3.p1.2.m2.1.1.1.1.2.3" xref="S2.SS3.p1.2.m2.1.1.1.1.2.3.cmml">i</mi><mrow id="S2.SS3.p1.2.m2.1.1.1.1.3" xref="S2.SS3.p1.2.m2.1.1.1.1.3.cmml"><mi id="S2.SS3.p1.2.m2.1.1.1.1.3.2" xref="S2.SS3.p1.2.m2.1.1.1.1.3.2.cmml">t</mi><mo id="S2.SS3.p1.2.m2.1.1.1.1.3.1" xref="S2.SS3.p1.2.m2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.1.1.1.1.3.3" xref="S2.SS3.p1.2.m2.1.1.1.1.3.3.cmml">e</mi><mo id="S2.SS3.p1.2.m2.1.1.1.1.3.1a" xref="S2.SS3.p1.2.m2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.1.1.1.1.3.4" xref="S2.SS3.p1.2.m2.1.1.1.1.3.4.cmml">x</mi><mo id="S2.SS3.p1.2.m2.1.1.1.1.3.1b" xref="S2.SS3.p1.2.m2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.1.1.1.1.3.5" xref="S2.SS3.p1.2.m2.1.1.1.1.3.5.cmml">t</mi></mrow></msubsup><mo id="S2.SS3.p1.2.m2.2.2.2.4" xref="S2.SS3.p1.2.m2.2.2.3.cmml">,</mo><msubsup id="S2.SS3.p1.2.m2.2.2.2.2" xref="S2.SS3.p1.2.m2.2.2.2.2.cmml"><mi id="S2.SS3.p1.2.m2.2.2.2.2.2.2" xref="S2.SS3.p1.2.m2.2.2.2.2.2.2.cmml">y</mi><mi id="S2.SS3.p1.2.m2.2.2.2.2.2.3" xref="S2.SS3.p1.2.m2.2.2.2.2.2.3.cmml">i</mi><mrow id="S2.SS3.p1.2.m2.2.2.2.2.3" xref="S2.SS3.p1.2.m2.2.2.2.2.3.cmml"><mi id="S2.SS3.p1.2.m2.2.2.2.2.3.2" xref="S2.SS3.p1.2.m2.2.2.2.2.3.2.cmml">t</mi><mo id="S2.SS3.p1.2.m2.2.2.2.2.3.1" xref="S2.SS3.p1.2.m2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.2.2.2.2.3.3" xref="S2.SS3.p1.2.m2.2.2.2.2.3.3.cmml">e</mi><mo id="S2.SS3.p1.2.m2.2.2.2.2.3.1a" xref="S2.SS3.p1.2.m2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.2.2.2.2.3.4" xref="S2.SS3.p1.2.m2.2.2.2.2.3.4.cmml">x</mi><mo id="S2.SS3.p1.2.m2.2.2.2.2.3.1b" xref="S2.SS3.p1.2.m2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p1.2.m2.2.2.2.2.3.5" xref="S2.SS3.p1.2.m2.2.2.2.2.3.5.cmml">t</mi></mrow></msubsup><mo id="S2.SS3.p1.2.m2.2.2.2.5" stretchy="false" xref="S2.SS3.p1.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.2b"><interval closure="open" id="S2.SS3.p1.2.m2.2.2.3.cmml" xref="S2.SS3.p1.2.m2.2.2.2"><apply id="S2.SS3.p1.2.m2.1.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.1.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1">superscript</csymbol><apply id="S2.SS3.p1.2.m2.1.1.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.1.1.1.2.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.2.m2.1.1.1.1.2.2.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.2.2">𝑥</ci><ci id="S2.SS3.p1.2.m2.1.1.1.1.2.3.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS3.p1.2.m2.1.1.1.1.3.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3"><times id="S2.SS3.p1.2.m2.1.1.1.1.3.1.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3.1"></times><ci id="S2.SS3.p1.2.m2.1.1.1.1.3.2.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3.2">𝑡</ci><ci id="S2.SS3.p1.2.m2.1.1.1.1.3.3.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3.3">𝑒</ci><ci id="S2.SS3.p1.2.m2.1.1.1.1.3.4.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3.4">𝑥</ci><ci id="S2.SS3.p1.2.m2.1.1.1.1.3.5.cmml" xref="S2.SS3.p1.2.m2.1.1.1.1.3.5">𝑡</ci></apply></apply><apply id="S2.SS3.p1.2.m2.2.2.2.2.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.2.2.2.2.1.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2">superscript</csymbol><apply id="S2.SS3.p1.2.m2.2.2.2.2.2.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.2.2.2.2.2.1.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="S2.SS3.p1.2.m2.2.2.2.2.2.2.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.2.2">𝑦</ci><ci id="S2.SS3.p1.2.m2.2.2.2.2.2.3.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.2.3">𝑖</ci></apply><apply id="S2.SS3.p1.2.m2.2.2.2.2.3.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3"><times id="S2.SS3.p1.2.m2.2.2.2.2.3.1.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3.1"></times><ci id="S2.SS3.p1.2.m2.2.2.2.2.3.2.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3.2">𝑡</ci><ci id="S2.SS3.p1.2.m2.2.2.2.2.3.3.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3.3">𝑒</ci><ci id="S2.SS3.p1.2.m2.2.2.2.2.3.4.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3.4">𝑥</ci><ci id="S2.SS3.p1.2.m2.2.2.2.2.3.5.cmml" xref="S2.SS3.p1.2.m2.2.2.2.2.3.5">𝑡</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.2c">(x_{i}^{text},y_{i}^{text})</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p1.2.m2.2d">( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT , italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> with a hard prompt template. We illustrate one template example in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.F2" title="Figure 2 ‣ 2.3. Large Language Models as Recommenders ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="149" id="S2.F2.g1" src="x2.png" width="382"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>The illustration of textual input-output pair.</figcaption>
</figure>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.2">As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.F2" title="Figure 2 ‣ 2.3. Large Language Models as Recommenders ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>, the textual input <math alttext="x_{i}^{text}" class="ltx_Math" display="inline" id="S2.SS3.p2.1.m1.1"><semantics id="S2.SS3.p2.1.m1.1a"><msubsup id="S2.SS3.p2.1.m1.1.1" xref="S2.SS3.p2.1.m1.1.1.cmml"><mi id="S2.SS3.p2.1.m1.1.1.2.2" xref="S2.SS3.p2.1.m1.1.1.2.2.cmml">x</mi><mi id="S2.SS3.p2.1.m1.1.1.2.3" xref="S2.SS3.p2.1.m1.1.1.2.3.cmml">i</mi><mrow id="S2.SS3.p2.1.m1.1.1.3" xref="S2.SS3.p2.1.m1.1.1.3.cmml"><mi id="S2.SS3.p2.1.m1.1.1.3.2" xref="S2.SS3.p2.1.m1.1.1.3.2.cmml">t</mi><mo id="S2.SS3.p2.1.m1.1.1.3.1" xref="S2.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.1.m1.1.1.3.3" xref="S2.SS3.p2.1.m1.1.1.3.3.cmml">e</mi><mo id="S2.SS3.p2.1.m1.1.1.3.1a" xref="S2.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.1.m1.1.1.3.4" xref="S2.SS3.p2.1.m1.1.1.3.4.cmml">x</mi><mo id="S2.SS3.p2.1.m1.1.1.3.1b" xref="S2.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.1.m1.1.1.3.5" xref="S2.SS3.p2.1.m1.1.1.3.5.cmml">t</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.1b"><apply id="S2.SS3.p2.1.m1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1">superscript</csymbol><apply id="S2.SS3.p2.1.m1.1.1.2.cmml" xref="S2.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.1.1.2.1.cmml" xref="S2.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS3.p2.1.m1.1.1.2.2.cmml" xref="S2.SS3.p2.1.m1.1.1.2.2">𝑥</ci><ci id="S2.SS3.p2.1.m1.1.1.2.3.cmml" xref="S2.SS3.p2.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS3.p2.1.m1.1.1.3.cmml" xref="S2.SS3.p2.1.m1.1.1.3"><times id="S2.SS3.p2.1.m1.1.1.3.1.cmml" xref="S2.SS3.p2.1.m1.1.1.3.1"></times><ci id="S2.SS3.p2.1.m1.1.1.3.2.cmml" xref="S2.SS3.p2.1.m1.1.1.3.2">𝑡</ci><ci id="S2.SS3.p2.1.m1.1.1.3.3.cmml" xref="S2.SS3.p2.1.m1.1.1.3.3">𝑒</ci><ci id="S2.SS3.p2.1.m1.1.1.3.4.cmml" xref="S2.SS3.p2.1.m1.1.1.3.4">𝑥</ci><ci id="S2.SS3.p2.1.m1.1.1.3.5.cmml" xref="S2.SS3.p2.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.1c">x_{i}^{text}</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> consists of the user’s profile and historical behaviors, followed by a binary question about the personalized preference towards the target item.
Following previous works <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>)</cite>, to obtain the floating-point preference estimation <math alttext="\hat{y}_{i}^{text}\in[0,1]" class="ltx_Math" display="inline" id="S2.SS3.p2.2.m2.2"><semantics id="S2.SS3.p2.2.m2.2a"><mrow id="S2.SS3.p2.2.m2.2.3" xref="S2.SS3.p2.2.m2.2.3.cmml"><msubsup id="S2.SS3.p2.2.m2.2.3.2" xref="S2.SS3.p2.2.m2.2.3.2.cmml"><mover accent="true" id="S2.SS3.p2.2.m2.2.3.2.2.2" xref="S2.SS3.p2.2.m2.2.3.2.2.2.cmml"><mi id="S2.SS3.p2.2.m2.2.3.2.2.2.2" xref="S2.SS3.p2.2.m2.2.3.2.2.2.2.cmml">y</mi><mo id="S2.SS3.p2.2.m2.2.3.2.2.2.1" xref="S2.SS3.p2.2.m2.2.3.2.2.2.1.cmml">^</mo></mover><mi id="S2.SS3.p2.2.m2.2.3.2.2.3" xref="S2.SS3.p2.2.m2.2.3.2.2.3.cmml">i</mi><mrow id="S2.SS3.p2.2.m2.2.3.2.3" xref="S2.SS3.p2.2.m2.2.3.2.3.cmml"><mi id="S2.SS3.p2.2.m2.2.3.2.3.2" xref="S2.SS3.p2.2.m2.2.3.2.3.2.cmml">t</mi><mo id="S2.SS3.p2.2.m2.2.3.2.3.1" xref="S2.SS3.p2.2.m2.2.3.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.2.m2.2.3.2.3.3" xref="S2.SS3.p2.2.m2.2.3.2.3.3.cmml">e</mi><mo id="S2.SS3.p2.2.m2.2.3.2.3.1a" xref="S2.SS3.p2.2.m2.2.3.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.2.m2.2.3.2.3.4" xref="S2.SS3.p2.2.m2.2.3.2.3.4.cmml">x</mi><mo id="S2.SS3.p2.2.m2.2.3.2.3.1b" xref="S2.SS3.p2.2.m2.2.3.2.3.1.cmml">⁢</mo><mi id="S2.SS3.p2.2.m2.2.3.2.3.5" xref="S2.SS3.p2.2.m2.2.3.2.3.5.cmml">t</mi></mrow></msubsup><mo id="S2.SS3.p2.2.m2.2.3.1" xref="S2.SS3.p2.2.m2.2.3.1.cmml">∈</mo><mrow id="S2.SS3.p2.2.m2.2.3.3.2" xref="S2.SS3.p2.2.m2.2.3.3.1.cmml"><mo id="S2.SS3.p2.2.m2.2.3.3.2.1" stretchy="false" xref="S2.SS3.p2.2.m2.2.3.3.1.cmml">[</mo><mn id="S2.SS3.p2.2.m2.1.1" xref="S2.SS3.p2.2.m2.1.1.cmml">0</mn><mo id="S2.SS3.p2.2.m2.2.3.3.2.2" xref="S2.SS3.p2.2.m2.2.3.3.1.cmml">,</mo><mn id="S2.SS3.p2.2.m2.2.2" xref="S2.SS3.p2.2.m2.2.2.cmml">1</mn><mo id="S2.SS3.p2.2.m2.2.3.3.2.3" stretchy="false" xref="S2.SS3.p2.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.2b"><apply id="S2.SS3.p2.2.m2.2.3.cmml" xref="S2.SS3.p2.2.m2.2.3"><in id="S2.SS3.p2.2.m2.2.3.1.cmml" xref="S2.SS3.p2.2.m2.2.3.1"></in><apply id="S2.SS3.p2.2.m2.2.3.2.cmml" xref="S2.SS3.p2.2.m2.2.3.2"><csymbol cd="ambiguous" id="S2.SS3.p2.2.m2.2.3.2.1.cmml" xref="S2.SS3.p2.2.m2.2.3.2">superscript</csymbol><apply id="S2.SS3.p2.2.m2.2.3.2.2.cmml" xref="S2.SS3.p2.2.m2.2.3.2"><csymbol cd="ambiguous" id="S2.SS3.p2.2.m2.2.3.2.2.1.cmml" xref="S2.SS3.p2.2.m2.2.3.2">subscript</csymbol><apply id="S2.SS3.p2.2.m2.2.3.2.2.2.cmml" xref="S2.SS3.p2.2.m2.2.3.2.2.2"><ci id="S2.SS3.p2.2.m2.2.3.2.2.2.1.cmml" xref="S2.SS3.p2.2.m2.2.3.2.2.2.1">^</ci><ci id="S2.SS3.p2.2.m2.2.3.2.2.2.2.cmml" xref="S2.SS3.p2.2.m2.2.3.2.2.2.2">𝑦</ci></apply><ci id="S2.SS3.p2.2.m2.2.3.2.2.3.cmml" xref="S2.SS3.p2.2.m2.2.3.2.2.3">𝑖</ci></apply><apply id="S2.SS3.p2.2.m2.2.3.2.3.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3"><times id="S2.SS3.p2.2.m2.2.3.2.3.1.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3.1"></times><ci id="S2.SS3.p2.2.m2.2.3.2.3.2.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3.2">𝑡</ci><ci id="S2.SS3.p2.2.m2.2.3.2.3.3.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3.3">𝑒</ci><ci id="S2.SS3.p2.2.m2.2.3.2.3.4.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3.4">𝑥</ci><ci id="S2.SS3.p2.2.m2.2.3.2.3.5.cmml" xref="S2.SS3.p2.2.m2.2.3.2.3.5">𝑡</ci></apply></apply><interval closure="closed" id="S2.SS3.p2.2.m2.2.3.3.1.cmml" xref="S2.SS3.p2.2.m2.2.3.3.2"><cn id="S2.SS3.p2.2.m2.1.1.cmml" type="integer" xref="S2.SS3.p2.2.m2.1.1">0</cn><cn id="S2.SS3.p2.2.m2.2.2.cmml" type="integer" xref="S2.SS3.p2.2.m2.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.2c">\hat{y}_{i}^{text}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S2.SS3.p2.2.m2.2d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math> instead of discrete word tokens, we apply bidimensional softmax over the corresponding scores of the binary key answer words (<em class="ltx_emph ltx_font_italic" id="S2.SS3.p2.2.1">i.e.</em>, Yes &amp; No) from LLMs to accomplish the preference estimation during evaluation:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{y}_{i}^{text}=\frac{\exp(s_{i,\text{Yes}})}{\exp(s_{i,\text{Yes}})+\exp(s%
_{i,\text{No}})}\in(0,1)." class="ltx_Math" display="block" id="S2.E4.m1.15"><semantics id="S2.E4.m1.15a"><mrow id="S2.E4.m1.15.15.1" xref="S2.E4.m1.15.15.1.1.cmml"><mrow id="S2.E4.m1.15.15.1.1" xref="S2.E4.m1.15.15.1.1.cmml"><msubsup id="S2.E4.m1.15.15.1.1.2" xref="S2.E4.m1.15.15.1.1.2.cmml"><mover accent="true" id="S2.E4.m1.15.15.1.1.2.2.2" xref="S2.E4.m1.15.15.1.1.2.2.2.cmml"><mi id="S2.E4.m1.15.15.1.1.2.2.2.2" xref="S2.E4.m1.15.15.1.1.2.2.2.2.cmml">y</mi><mo id="S2.E4.m1.15.15.1.1.2.2.2.1" xref="S2.E4.m1.15.15.1.1.2.2.2.1.cmml">^</mo></mover><mi id="S2.E4.m1.15.15.1.1.2.2.3" xref="S2.E4.m1.15.15.1.1.2.2.3.cmml">i</mi><mrow id="S2.E4.m1.15.15.1.1.2.3" xref="S2.E4.m1.15.15.1.1.2.3.cmml"><mi id="S2.E4.m1.15.15.1.1.2.3.2" xref="S2.E4.m1.15.15.1.1.2.3.2.cmml">t</mi><mo id="S2.E4.m1.15.15.1.1.2.3.1" xref="S2.E4.m1.15.15.1.1.2.3.1.cmml">⁢</mo><mi id="S2.E4.m1.15.15.1.1.2.3.3" xref="S2.E4.m1.15.15.1.1.2.3.3.cmml">e</mi><mo id="S2.E4.m1.15.15.1.1.2.3.1a" xref="S2.E4.m1.15.15.1.1.2.3.1.cmml">⁢</mo><mi id="S2.E4.m1.15.15.1.1.2.3.4" xref="S2.E4.m1.15.15.1.1.2.3.4.cmml">x</mi><mo id="S2.E4.m1.15.15.1.1.2.3.1b" xref="S2.E4.m1.15.15.1.1.2.3.1.cmml">⁢</mo><mi id="S2.E4.m1.15.15.1.1.2.3.5" xref="S2.E4.m1.15.15.1.1.2.3.5.cmml">t</mi></mrow></msubsup><mo id="S2.E4.m1.15.15.1.1.3" xref="S2.E4.m1.15.15.1.1.3.cmml">=</mo><mfrac id="S2.E4.m1.12.12" xref="S2.E4.m1.12.12.cmml"><mrow id="S2.E4.m1.4.4.4.4" xref="S2.E4.m1.4.4.4.5.cmml"><mi id="S2.E4.m1.3.3.3.3" xref="S2.E4.m1.3.3.3.3.cmml">exp</mi><mo id="S2.E4.m1.4.4.4.4a" xref="S2.E4.m1.4.4.4.5.cmml">⁡</mo><mrow id="S2.E4.m1.4.4.4.4.1" xref="S2.E4.m1.4.4.4.5.cmml"><mo id="S2.E4.m1.4.4.4.4.1.2" stretchy="false" xref="S2.E4.m1.4.4.4.5.cmml">(</mo><msub id="S2.E4.m1.4.4.4.4.1.1" xref="S2.E4.m1.4.4.4.4.1.1.cmml"><mi id="S2.E4.m1.4.4.4.4.1.1.2" xref="S2.E4.m1.4.4.4.4.1.1.2.cmml">s</mi><mrow id="S2.E4.m1.2.2.2.2.2.4" xref="S2.E4.m1.2.2.2.2.2.3.cmml"><mi id="S2.E4.m1.1.1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.1.1.cmml">i</mi><mo id="S2.E4.m1.2.2.2.2.2.4.1" xref="S2.E4.m1.2.2.2.2.2.3.cmml">,</mo><mtext id="S2.E4.m1.2.2.2.2.2.2" xref="S2.E4.m1.2.2.2.2.2.2a.cmml">Yes</mtext></mrow></msub><mo id="S2.E4.m1.4.4.4.4.1.3" stretchy="false" xref="S2.E4.m1.4.4.4.5.cmml">)</mo></mrow></mrow><mrow id="S2.E4.m1.12.12.12" xref="S2.E4.m1.12.12.12.cmml"><mrow id="S2.E4.m1.11.11.11.7.1" xref="S2.E4.m1.11.11.11.7.2.cmml"><mi id="S2.E4.m1.9.9.9.5" xref="S2.E4.m1.9.9.9.5.cmml">exp</mi><mo id="S2.E4.m1.11.11.11.7.1a" xref="S2.E4.m1.11.11.11.7.2.cmml">⁡</mo><mrow id="S2.E4.m1.11.11.11.7.1.1" xref="S2.E4.m1.11.11.11.7.2.cmml"><mo id="S2.E4.m1.11.11.11.7.1.1.2" stretchy="false" xref="S2.E4.m1.11.11.11.7.2.cmml">(</mo><msub id="S2.E4.m1.11.11.11.7.1.1.1" xref="S2.E4.m1.11.11.11.7.1.1.1.cmml"><mi id="S2.E4.m1.11.11.11.7.1.1.1.2" xref="S2.E4.m1.11.11.11.7.1.1.1.2.cmml">s</mi><mrow id="S2.E4.m1.6.6.6.2.2.4" xref="S2.E4.m1.6.6.6.2.2.3.cmml"><mi id="S2.E4.m1.5.5.5.1.1.1" xref="S2.E4.m1.5.5.5.1.1.1.cmml">i</mi><mo id="S2.E4.m1.6.6.6.2.2.4.1" xref="S2.E4.m1.6.6.6.2.2.3.cmml">,</mo><mtext id="S2.E4.m1.6.6.6.2.2.2" xref="S2.E4.m1.6.6.6.2.2.2a.cmml">Yes</mtext></mrow></msub><mo id="S2.E4.m1.11.11.11.7.1.1.3" stretchy="false" xref="S2.E4.m1.11.11.11.7.2.cmml">)</mo></mrow></mrow><mo id="S2.E4.m1.12.12.12.9" xref="S2.E4.m1.12.12.12.9.cmml">+</mo><mrow id="S2.E4.m1.12.12.12.8.1" xref="S2.E4.m1.12.12.12.8.2.cmml"><mi id="S2.E4.m1.10.10.10.6" xref="S2.E4.m1.10.10.10.6.cmml">exp</mi><mo id="S2.E4.m1.12.12.12.8.1a" xref="S2.E4.m1.12.12.12.8.2.cmml">⁡</mo><mrow id="S2.E4.m1.12.12.12.8.1.1" xref="S2.E4.m1.12.12.12.8.2.cmml"><mo id="S2.E4.m1.12.12.12.8.1.1.2" stretchy="false" xref="S2.E4.m1.12.12.12.8.2.cmml">(</mo><msub id="S2.E4.m1.12.12.12.8.1.1.1" xref="S2.E4.m1.12.12.12.8.1.1.1.cmml"><mi id="S2.E4.m1.12.12.12.8.1.1.1.2" xref="S2.E4.m1.12.12.12.8.1.1.1.2.cmml">s</mi><mrow id="S2.E4.m1.8.8.8.4.2.4" xref="S2.E4.m1.8.8.8.4.2.3.cmml"><mi id="S2.E4.m1.7.7.7.3.1.1" xref="S2.E4.m1.7.7.7.3.1.1.cmml">i</mi><mo id="S2.E4.m1.8.8.8.4.2.4.1" xref="S2.E4.m1.8.8.8.4.2.3.cmml">,</mo><mtext id="S2.E4.m1.8.8.8.4.2.2" xref="S2.E4.m1.8.8.8.4.2.2a.cmml">No</mtext></mrow></msub><mo id="S2.E4.m1.12.12.12.8.1.1.3" stretchy="false" xref="S2.E4.m1.12.12.12.8.2.cmml">)</mo></mrow></mrow></mrow></mfrac><mo id="S2.E4.m1.15.15.1.1.4" xref="S2.E4.m1.15.15.1.1.4.cmml">∈</mo><mrow id="S2.E4.m1.15.15.1.1.5.2" xref="S2.E4.m1.15.15.1.1.5.1.cmml"><mo id="S2.E4.m1.15.15.1.1.5.2.1" stretchy="false" xref="S2.E4.m1.15.15.1.1.5.1.cmml">(</mo><mn id="S2.E4.m1.13.13" xref="S2.E4.m1.13.13.cmml">0</mn><mo id="S2.E4.m1.15.15.1.1.5.2.2" xref="S2.E4.m1.15.15.1.1.5.1.cmml">,</mo><mn id="S2.E4.m1.14.14" xref="S2.E4.m1.14.14.cmml">1</mn><mo id="S2.E4.m1.15.15.1.1.5.2.3" stretchy="false" xref="S2.E4.m1.15.15.1.1.5.1.cmml">)</mo></mrow></mrow><mo id="S2.E4.m1.15.15.1.2" lspace="0em" xref="S2.E4.m1.15.15.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E4.m1.15b"><apply id="S2.E4.m1.15.15.1.1.cmml" xref="S2.E4.m1.15.15.1"><and id="S2.E4.m1.15.15.1.1a.cmml" xref="S2.E4.m1.15.15.1"></and><apply id="S2.E4.m1.15.15.1.1b.cmml" xref="S2.E4.m1.15.15.1"><eq id="S2.E4.m1.15.15.1.1.3.cmml" xref="S2.E4.m1.15.15.1.1.3"></eq><apply id="S2.E4.m1.15.15.1.1.2.cmml" xref="S2.E4.m1.15.15.1.1.2"><csymbol cd="ambiguous" id="S2.E4.m1.15.15.1.1.2.1.cmml" xref="S2.E4.m1.15.15.1.1.2">superscript</csymbol><apply id="S2.E4.m1.15.15.1.1.2.2.cmml" xref="S2.E4.m1.15.15.1.1.2"><csymbol cd="ambiguous" id="S2.E4.m1.15.15.1.1.2.2.1.cmml" xref="S2.E4.m1.15.15.1.1.2">subscript</csymbol><apply id="S2.E4.m1.15.15.1.1.2.2.2.cmml" xref="S2.E4.m1.15.15.1.1.2.2.2"><ci id="S2.E4.m1.15.15.1.1.2.2.2.1.cmml" xref="S2.E4.m1.15.15.1.1.2.2.2.1">^</ci><ci id="S2.E4.m1.15.15.1.1.2.2.2.2.cmml" xref="S2.E4.m1.15.15.1.1.2.2.2.2">𝑦</ci></apply><ci id="S2.E4.m1.15.15.1.1.2.2.3.cmml" xref="S2.E4.m1.15.15.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E4.m1.15.15.1.1.2.3.cmml" xref="S2.E4.m1.15.15.1.1.2.3"><times id="S2.E4.m1.15.15.1.1.2.3.1.cmml" xref="S2.E4.m1.15.15.1.1.2.3.1"></times><ci id="S2.E4.m1.15.15.1.1.2.3.2.cmml" xref="S2.E4.m1.15.15.1.1.2.3.2">𝑡</ci><ci id="S2.E4.m1.15.15.1.1.2.3.3.cmml" xref="S2.E4.m1.15.15.1.1.2.3.3">𝑒</ci><ci id="S2.E4.m1.15.15.1.1.2.3.4.cmml" xref="S2.E4.m1.15.15.1.1.2.3.4">𝑥</ci><ci id="S2.E4.m1.15.15.1.1.2.3.5.cmml" xref="S2.E4.m1.15.15.1.1.2.3.5">𝑡</ci></apply></apply><apply id="S2.E4.m1.12.12.cmml" xref="S2.E4.m1.12.12"><divide id="S2.E4.m1.12.12.13.cmml" xref="S2.E4.m1.12.12"></divide><apply id="S2.E4.m1.4.4.4.5.cmml" xref="S2.E4.m1.4.4.4.4"><exp id="S2.E4.m1.3.3.3.3.cmml" xref="S2.E4.m1.3.3.3.3"></exp><apply id="S2.E4.m1.4.4.4.4.1.1.cmml" xref="S2.E4.m1.4.4.4.4.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.4.4.4.4.1.1.1.cmml" xref="S2.E4.m1.4.4.4.4.1.1">subscript</csymbol><ci id="S2.E4.m1.4.4.4.4.1.1.2.cmml" xref="S2.E4.m1.4.4.4.4.1.1.2">𝑠</ci><list id="S2.E4.m1.2.2.2.2.2.3.cmml" xref="S2.E4.m1.2.2.2.2.2.4"><ci id="S2.E4.m1.1.1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1.1.1">𝑖</ci><ci id="S2.E4.m1.2.2.2.2.2.2a.cmml" xref="S2.E4.m1.2.2.2.2.2.2"><mtext id="S2.E4.m1.2.2.2.2.2.2.cmml" mathsize="70%" xref="S2.E4.m1.2.2.2.2.2.2">Yes</mtext></ci></list></apply></apply><apply id="S2.E4.m1.12.12.12.cmml" xref="S2.E4.m1.12.12.12"><plus id="S2.E4.m1.12.12.12.9.cmml" xref="S2.E4.m1.12.12.12.9"></plus><apply id="S2.E4.m1.11.11.11.7.2.cmml" xref="S2.E4.m1.11.11.11.7.1"><exp id="S2.E4.m1.9.9.9.5.cmml" xref="S2.E4.m1.9.9.9.5"></exp><apply id="S2.E4.m1.11.11.11.7.1.1.1.cmml" xref="S2.E4.m1.11.11.11.7.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.11.11.11.7.1.1.1.1.cmml" xref="S2.E4.m1.11.11.11.7.1.1.1">subscript</csymbol><ci id="S2.E4.m1.11.11.11.7.1.1.1.2.cmml" xref="S2.E4.m1.11.11.11.7.1.1.1.2">𝑠</ci><list id="S2.E4.m1.6.6.6.2.2.3.cmml" xref="S2.E4.m1.6.6.6.2.2.4"><ci id="S2.E4.m1.5.5.5.1.1.1.cmml" xref="S2.E4.m1.5.5.5.1.1.1">𝑖</ci><ci id="S2.E4.m1.6.6.6.2.2.2a.cmml" xref="S2.E4.m1.6.6.6.2.2.2"><mtext id="S2.E4.m1.6.6.6.2.2.2.cmml" mathsize="70%" xref="S2.E4.m1.6.6.6.2.2.2">Yes</mtext></ci></list></apply></apply><apply id="S2.E4.m1.12.12.12.8.2.cmml" xref="S2.E4.m1.12.12.12.8.1"><exp id="S2.E4.m1.10.10.10.6.cmml" xref="S2.E4.m1.10.10.10.6"></exp><apply id="S2.E4.m1.12.12.12.8.1.1.1.cmml" xref="S2.E4.m1.12.12.12.8.1.1.1"><csymbol cd="ambiguous" id="S2.E4.m1.12.12.12.8.1.1.1.1.cmml" xref="S2.E4.m1.12.12.12.8.1.1.1">subscript</csymbol><ci id="S2.E4.m1.12.12.12.8.1.1.1.2.cmml" xref="S2.E4.m1.12.12.12.8.1.1.1.2">𝑠</ci><list id="S2.E4.m1.8.8.8.4.2.3.cmml" xref="S2.E4.m1.8.8.8.4.2.4"><ci id="S2.E4.m1.7.7.7.3.1.1.cmml" xref="S2.E4.m1.7.7.7.3.1.1">𝑖</ci><ci id="S2.E4.m1.8.8.8.4.2.2a.cmml" xref="S2.E4.m1.8.8.8.4.2.2"><mtext id="S2.E4.m1.8.8.8.4.2.2.cmml" mathsize="70%" xref="S2.E4.m1.8.8.8.4.2.2">No</mtext></ci></list></apply></apply></apply></apply></apply><apply id="S2.E4.m1.15.15.1.1c.cmml" xref="S2.E4.m1.15.15.1"><in id="S2.E4.m1.15.15.1.1.4.cmml" xref="S2.E4.m1.15.15.1.1.4"></in><share href="https://arxiv.org/html/2408.03533v2#S2.E4.m1.12.12.cmml" id="S2.E4.m1.15.15.1.1d.cmml" xref="S2.E4.m1.15.15.1"></share><interval closure="open" id="S2.E4.m1.15.15.1.1.5.1.cmml" xref="S2.E4.m1.15.15.1.1.5.2"><cn id="S2.E4.m1.13.13.cmml" type="integer" xref="S2.E4.m1.13.13">0</cn><cn id="S2.E4.m1.14.14.cmml" type="integer" xref="S2.E4.m1.14.14">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4.m1.15c">\hat{y}_{i}^{text}=\frac{\exp(s_{i,\text{Yes}})}{\exp(s_{i,\text{Yes}})+\exp(s%
_{i,\text{No}})}\in(0,1).</annotation><annotation encoding="application/x-llamapun" id="S2.E4.m1.15d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT = divide start_ARG roman_exp ( italic_s start_POSTSUBSCRIPT italic_i , Yes end_POSTSUBSCRIPT ) end_ARG start_ARG roman_exp ( italic_s start_POSTSUBSCRIPT italic_i , Yes end_POSTSUBSCRIPT ) + roman_exp ( italic_s start_POSTSUBSCRIPT italic_i , No end_POSTSUBSCRIPT ) end_ARG ∈ ( 0 , 1 ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsection" id="S2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4. </span>Low-Rank Adaptation of LLMs</h3>
<div class="ltx_para" id="S2.SS4.p1">
<p class="ltx_p" id="S2.SS4.p1.4">Low-rank adaptation (LoRA) <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib27" title="">2021</a>)</cite> serves as a popular parameter-efficient finetuning (PEFT) method to reduce the resource consumption of finetuning LLMs that possess massive parameters.
The basic idea of LoRA is to maintain two trainable lightweight matrices <math alttext="A" class="ltx_Math" display="inline" id="S2.SS4.p1.1.m1.1"><semantics id="S2.SS4.p1.1.m1.1a"><mi id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b"><ci id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">A</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.1.m1.1d">italic_A</annotation></semantics></math> and <math alttext="B" class="ltx_Math" display="inline" id="S2.SS4.p1.2.m2.1"><semantics id="S2.SS4.p1.2.m2.1a"><mi id="S2.SS4.p1.2.m2.1.1" xref="S2.SS4.p1.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m2.1b"><ci id="S2.SS4.p1.2.m2.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.2.m2.1c">B</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.2.m2.1d">italic_B</annotation></semantics></math> that are attached to a frozen pre-trained weight matrix <math alttext="W" class="ltx_Math" display="inline" id="S2.SS4.p1.3.m3.1"><semantics id="S2.SS4.p1.3.m3.1a"><mi id="S2.SS4.p1.3.m3.1.1" xref="S2.SS4.p1.3.m3.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.3.m3.1b"><ci id="S2.SS4.p1.3.m3.1.1.cmml" xref="S2.SS4.p1.3.m3.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.3.m3.1c">W</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.3.m3.1d">italic_W</annotation></semantics></math>.
Hence, the linear transformation <math alttext="Y=XW" class="ltx_Math" display="inline" id="S2.SS4.p1.4.m4.1"><semantics id="S2.SS4.p1.4.m4.1a"><mrow id="S2.SS4.p1.4.m4.1.1" xref="S2.SS4.p1.4.m4.1.1.cmml"><mi id="S2.SS4.p1.4.m4.1.1.2" xref="S2.SS4.p1.4.m4.1.1.2.cmml">Y</mi><mo id="S2.SS4.p1.4.m4.1.1.1" xref="S2.SS4.p1.4.m4.1.1.1.cmml">=</mo><mrow id="S2.SS4.p1.4.m4.1.1.3" xref="S2.SS4.p1.4.m4.1.1.3.cmml"><mi id="S2.SS4.p1.4.m4.1.1.3.2" xref="S2.SS4.p1.4.m4.1.1.3.2.cmml">X</mi><mo id="S2.SS4.p1.4.m4.1.1.3.1" xref="S2.SS4.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.4.m4.1.1.3.3" xref="S2.SS4.p1.4.m4.1.1.3.3.cmml">W</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.4.m4.1b"><apply id="S2.SS4.p1.4.m4.1.1.cmml" xref="S2.SS4.p1.4.m4.1.1"><eq id="S2.SS4.p1.4.m4.1.1.1.cmml" xref="S2.SS4.p1.4.m4.1.1.1"></eq><ci id="S2.SS4.p1.4.m4.1.1.2.cmml" xref="S2.SS4.p1.4.m4.1.1.2">𝑌</ci><apply id="S2.SS4.p1.4.m4.1.1.3.cmml" xref="S2.SS4.p1.4.m4.1.1.3"><times id="S2.SS4.p1.4.m4.1.1.3.1.cmml" xref="S2.SS4.p1.4.m4.1.1.3.1"></times><ci id="S2.SS4.p1.4.m4.1.1.3.2.cmml" xref="S2.SS4.p1.4.m4.1.1.3.2">𝑋</ci><ci id="S2.SS4.p1.4.m4.1.1.3.3.cmml" xref="S2.SS4.p1.4.m4.1.1.3.3">𝑊</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.4.m4.1c">Y=XW</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.4.m4.1d">italic_Y = italic_X italic_W</annotation></semantics></math> is reformulated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Y^{\prime}=XW+XAB^{T}=X(W+AB^{T})," class="ltx_Math" display="block" id="S2.E5.m1.1"><semantics id="S2.E5.m1.1a"><mrow id="S2.E5.m1.1.1.1" xref="S2.E5.m1.1.1.1.1.cmml"><mrow id="S2.E5.m1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.cmml"><msup id="S2.E5.m1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.1.1.1.1.3.2" xref="S2.E5.m1.1.1.1.1.3.2.cmml">Y</mi><mo id="S2.E5.m1.1.1.1.1.3.3" xref="S2.E5.m1.1.1.1.1.3.3.cmml">′</mo></msup><mo id="S2.E5.m1.1.1.1.1.4" xref="S2.E5.m1.1.1.1.1.4.cmml">=</mo><mrow id="S2.E5.m1.1.1.1.1.5" xref="S2.E5.m1.1.1.1.1.5.cmml"><mrow id="S2.E5.m1.1.1.1.1.5.2" xref="S2.E5.m1.1.1.1.1.5.2.cmml"><mi id="S2.E5.m1.1.1.1.1.5.2.2" xref="S2.E5.m1.1.1.1.1.5.2.2.cmml">X</mi><mo id="S2.E5.m1.1.1.1.1.5.2.1" xref="S2.E5.m1.1.1.1.1.5.2.1.cmml">⁢</mo><mi id="S2.E5.m1.1.1.1.1.5.2.3" xref="S2.E5.m1.1.1.1.1.5.2.3.cmml">W</mi></mrow><mo id="S2.E5.m1.1.1.1.1.5.1" xref="S2.E5.m1.1.1.1.1.5.1.cmml">+</mo><mrow id="S2.E5.m1.1.1.1.1.5.3" xref="S2.E5.m1.1.1.1.1.5.3.cmml"><mi id="S2.E5.m1.1.1.1.1.5.3.2" xref="S2.E5.m1.1.1.1.1.5.3.2.cmml">X</mi><mo id="S2.E5.m1.1.1.1.1.5.3.1" xref="S2.E5.m1.1.1.1.1.5.3.1.cmml">⁢</mo><mi id="S2.E5.m1.1.1.1.1.5.3.3" xref="S2.E5.m1.1.1.1.1.5.3.3.cmml">A</mi><mo id="S2.E5.m1.1.1.1.1.5.3.1a" xref="S2.E5.m1.1.1.1.1.5.3.1.cmml">⁢</mo><msup id="S2.E5.m1.1.1.1.1.5.3.4" xref="S2.E5.m1.1.1.1.1.5.3.4.cmml"><mi id="S2.E5.m1.1.1.1.1.5.3.4.2" xref="S2.E5.m1.1.1.1.1.5.3.4.2.cmml">B</mi><mi id="S2.E5.m1.1.1.1.1.5.3.4.3" xref="S2.E5.m1.1.1.1.1.5.3.4.3.cmml">T</mi></msup></mrow></mrow><mo id="S2.E5.m1.1.1.1.1.6" xref="S2.E5.m1.1.1.1.1.6.cmml">=</mo><mrow id="S2.E5.m1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.1.3.cmml">X</mi><mo id="S2.E5.m1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E5.m1.1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E5.m1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.1.1.1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.1.1.1.2.cmml">W</mi><mo id="S2.E5.m1.1.1.1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S2.E5.m1.1.1.1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.1.1.1.1.1.1.1.1.3.2" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.2.cmml">A</mi><mo id="S2.E5.m1.1.1.1.1.1.1.1.1.3.1" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><msup id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">B</mi><mi id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">T</mi></msup></mrow></mrow><mo id="S2.E5.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E5.m1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.1b"><apply id="S2.E5.m1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1"><and id="S2.E5.m1.1.1.1.1a.cmml" xref="S2.E5.m1.1.1.1"></and><apply id="S2.E5.m1.1.1.1.1b.cmml" xref="S2.E5.m1.1.1.1"><eq id="S2.E5.m1.1.1.1.1.4.cmml" xref="S2.E5.m1.1.1.1.1.4"></eq><apply id="S2.E5.m1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.1.1.1.1.3">superscript</csymbol><ci id="S2.E5.m1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.1.1.1.1.3.2">𝑌</ci><ci id="S2.E5.m1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.1.1.1.1.3.3">′</ci></apply><apply id="S2.E5.m1.1.1.1.1.5.cmml" xref="S2.E5.m1.1.1.1.1.5"><plus id="S2.E5.m1.1.1.1.1.5.1.cmml" xref="S2.E5.m1.1.1.1.1.5.1"></plus><apply id="S2.E5.m1.1.1.1.1.5.2.cmml" xref="S2.E5.m1.1.1.1.1.5.2"><times id="S2.E5.m1.1.1.1.1.5.2.1.cmml" xref="S2.E5.m1.1.1.1.1.5.2.1"></times><ci id="S2.E5.m1.1.1.1.1.5.2.2.cmml" xref="S2.E5.m1.1.1.1.1.5.2.2">𝑋</ci><ci id="S2.E5.m1.1.1.1.1.5.2.3.cmml" xref="S2.E5.m1.1.1.1.1.5.2.3">𝑊</ci></apply><apply id="S2.E5.m1.1.1.1.1.5.3.cmml" xref="S2.E5.m1.1.1.1.1.5.3"><times id="S2.E5.m1.1.1.1.1.5.3.1.cmml" xref="S2.E5.m1.1.1.1.1.5.3.1"></times><ci id="S2.E5.m1.1.1.1.1.5.3.2.cmml" xref="S2.E5.m1.1.1.1.1.5.3.2">𝑋</ci><ci id="S2.E5.m1.1.1.1.1.5.3.3.cmml" xref="S2.E5.m1.1.1.1.1.5.3.3">𝐴</ci><apply id="S2.E5.m1.1.1.1.1.5.3.4.cmml" xref="S2.E5.m1.1.1.1.1.5.3.4"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.5.3.4.1.cmml" xref="S2.E5.m1.1.1.1.1.5.3.4">superscript</csymbol><ci id="S2.E5.m1.1.1.1.1.5.3.4.2.cmml" xref="S2.E5.m1.1.1.1.1.5.3.4.2">𝐵</ci><ci id="S2.E5.m1.1.1.1.1.5.3.4.3.cmml" xref="S2.E5.m1.1.1.1.1.5.3.4.3">𝑇</ci></apply></apply></apply></apply><apply id="S2.E5.m1.1.1.1.1c.cmml" xref="S2.E5.m1.1.1.1"><eq id="S2.E5.m1.1.1.1.1.6.cmml" xref="S2.E5.m1.1.1.1.1.6"></eq><share href="https://arxiv.org/html/2408.03533v2#S2.E5.m1.1.1.1.1.5.cmml" id="S2.E5.m1.1.1.1.1d.cmml" xref="S2.E5.m1.1.1.1"></share><apply id="S2.E5.m1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1"><times id="S2.E5.m1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.2"></times><ci id="S2.E5.m1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.1.3">𝑋</ci><apply id="S2.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1"><plus id="S2.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.1"></plus><ci id="S2.E5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.2">𝑊</ci><apply id="S2.E5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3"><times id="S2.E5.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E5.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.2">𝐴</ci><apply id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3">superscript</csymbol><ci id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.2">𝐵</ci><ci id="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.1.1.3.3.3">𝑇</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.1c">Y^{\prime}=XW+XAB^{T}=X(W+AB^{T}),</annotation><annotation encoding="application/x-llamapun" id="S2.E5.m1.1d">italic_Y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = italic_X italic_W + italic_X italic_A italic_B start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT = italic_X ( italic_W + italic_A italic_B start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS4.p1.9">where <math alttext="X\in\mathbb{R}^{n\times d_{in}}" class="ltx_Math" display="inline" id="S2.SS4.p1.5.m1.1"><semantics id="S2.SS4.p1.5.m1.1a"><mrow id="S2.SS4.p1.5.m1.1.1" xref="S2.SS4.p1.5.m1.1.1.cmml"><mi id="S2.SS4.p1.5.m1.1.1.2" xref="S2.SS4.p1.5.m1.1.1.2.cmml">X</mi><mo id="S2.SS4.p1.5.m1.1.1.1" xref="S2.SS4.p1.5.m1.1.1.1.cmml">∈</mo><msup id="S2.SS4.p1.5.m1.1.1.3" xref="S2.SS4.p1.5.m1.1.1.3.cmml"><mi id="S2.SS4.p1.5.m1.1.1.3.2" xref="S2.SS4.p1.5.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS4.p1.5.m1.1.1.3.3" xref="S2.SS4.p1.5.m1.1.1.3.3.cmml"><mi id="S2.SS4.p1.5.m1.1.1.3.3.2" xref="S2.SS4.p1.5.m1.1.1.3.3.2.cmml">n</mi><mo id="S2.SS4.p1.5.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.SS4.p1.5.m1.1.1.3.3.1.cmml">×</mo><msub id="S2.SS4.p1.5.m1.1.1.3.3.3" xref="S2.SS4.p1.5.m1.1.1.3.3.3.cmml"><mi id="S2.SS4.p1.5.m1.1.1.3.3.3.2" xref="S2.SS4.p1.5.m1.1.1.3.3.3.2.cmml">d</mi><mrow id="S2.SS4.p1.5.m1.1.1.3.3.3.3" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.cmml"><mi id="S2.SS4.p1.5.m1.1.1.3.3.3.3.2" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.2.cmml">i</mi><mo id="S2.SS4.p1.5.m1.1.1.3.3.3.3.1" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.5.m1.1.1.3.3.3.3.3" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.3.cmml">n</mi></mrow></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.5.m1.1b"><apply id="S2.SS4.p1.5.m1.1.1.cmml" xref="S2.SS4.p1.5.m1.1.1"><in id="S2.SS4.p1.5.m1.1.1.1.cmml" xref="S2.SS4.p1.5.m1.1.1.1"></in><ci id="S2.SS4.p1.5.m1.1.1.2.cmml" xref="S2.SS4.p1.5.m1.1.1.2">𝑋</ci><apply id="S2.SS4.p1.5.m1.1.1.3.cmml" xref="S2.SS4.p1.5.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.5.m1.1.1.3.1.cmml" xref="S2.SS4.p1.5.m1.1.1.3">superscript</csymbol><ci id="S2.SS4.p1.5.m1.1.1.3.2.cmml" xref="S2.SS4.p1.5.m1.1.1.3.2">ℝ</ci><apply id="S2.SS4.p1.5.m1.1.1.3.3.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3"><times id="S2.SS4.p1.5.m1.1.1.3.3.1.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.1"></times><ci id="S2.SS4.p1.5.m1.1.1.3.3.2.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.2">𝑛</ci><apply id="S2.SS4.p1.5.m1.1.1.3.3.3.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.SS4.p1.5.m1.1.1.3.3.3.1.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3">subscript</csymbol><ci id="S2.SS4.p1.5.m1.1.1.3.3.3.2.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3.2">𝑑</ci><apply id="S2.SS4.p1.5.m1.1.1.3.3.3.3.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3"><times id="S2.SS4.p1.5.m1.1.1.3.3.3.3.1.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.1"></times><ci id="S2.SS4.p1.5.m1.1.1.3.3.3.3.2.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.2">𝑖</ci><ci id="S2.SS4.p1.5.m1.1.1.3.3.3.3.3.cmml" xref="S2.SS4.p1.5.m1.1.1.3.3.3.3.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.5.m1.1c">X\in\mathbb{R}^{n\times d_{in}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.5.m1.1d">italic_X ∈ blackboard_R start_POSTSUPERSCRIPT italic_n × italic_d start_POSTSUBSCRIPT italic_i italic_n end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>,  <math alttext="W\in\mathbb{R}^{d_{in}\times d_{out}}" class="ltx_Math" display="inline" id="S2.SS4.p1.6.m2.1"><semantics id="S2.SS4.p1.6.m2.1a"><mrow id="S2.SS4.p1.6.m2.1.1" xref="S2.SS4.p1.6.m2.1.1.cmml"><mi id="S2.SS4.p1.6.m2.1.1.2" xref="S2.SS4.p1.6.m2.1.1.2.cmml">W</mi><mo id="S2.SS4.p1.6.m2.1.1.1" xref="S2.SS4.p1.6.m2.1.1.1.cmml">∈</mo><msup id="S2.SS4.p1.6.m2.1.1.3" xref="S2.SS4.p1.6.m2.1.1.3.cmml"><mi id="S2.SS4.p1.6.m2.1.1.3.2" xref="S2.SS4.p1.6.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS4.p1.6.m2.1.1.3.3" xref="S2.SS4.p1.6.m2.1.1.3.3.cmml"><msub id="S2.SS4.p1.6.m2.1.1.3.3.2" xref="S2.SS4.p1.6.m2.1.1.3.3.2.cmml"><mi id="S2.SS4.p1.6.m2.1.1.3.3.2.2" xref="S2.SS4.p1.6.m2.1.1.3.3.2.2.cmml">d</mi><mrow id="S2.SS4.p1.6.m2.1.1.3.3.2.3" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.cmml"><mi id="S2.SS4.p1.6.m2.1.1.3.3.2.3.2" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.2.cmml">i</mi><mo id="S2.SS4.p1.6.m2.1.1.3.3.2.3.1" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.6.m2.1.1.3.3.2.3.3" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.3.cmml">n</mi></mrow></msub><mo id="S2.SS4.p1.6.m2.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.SS4.p1.6.m2.1.1.3.3.1.cmml">×</mo><msub id="S2.SS4.p1.6.m2.1.1.3.3.3" xref="S2.SS4.p1.6.m2.1.1.3.3.3.cmml"><mi id="S2.SS4.p1.6.m2.1.1.3.3.3.2" xref="S2.SS4.p1.6.m2.1.1.3.3.3.2.cmml">d</mi><mrow id="S2.SS4.p1.6.m2.1.1.3.3.3.3" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.cmml"><mi id="S2.SS4.p1.6.m2.1.1.3.3.3.3.2" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.2.cmml">o</mi><mo id="S2.SS4.p1.6.m2.1.1.3.3.3.3.1" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.6.m2.1.1.3.3.3.3.3" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.3.cmml">u</mi><mo id="S2.SS4.p1.6.m2.1.1.3.3.3.3.1a" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.6.m2.1.1.3.3.3.3.4" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.4.cmml">t</mi></mrow></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.6.m2.1b"><apply id="S2.SS4.p1.6.m2.1.1.cmml" xref="S2.SS4.p1.6.m2.1.1"><in id="S2.SS4.p1.6.m2.1.1.1.cmml" xref="S2.SS4.p1.6.m2.1.1.1"></in><ci id="S2.SS4.p1.6.m2.1.1.2.cmml" xref="S2.SS4.p1.6.m2.1.1.2">𝑊</ci><apply id="S2.SS4.p1.6.m2.1.1.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.6.m2.1.1.3.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3">superscript</csymbol><ci id="S2.SS4.p1.6.m2.1.1.3.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.2">ℝ</ci><apply id="S2.SS4.p1.6.m2.1.1.3.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3"><times id="S2.SS4.p1.6.m2.1.1.3.3.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.1"></times><apply id="S2.SS4.p1.6.m2.1.1.3.3.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.SS4.p1.6.m2.1.1.3.3.2.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2">subscript</csymbol><ci id="S2.SS4.p1.6.m2.1.1.3.3.2.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2.2">𝑑</ci><apply id="S2.SS4.p1.6.m2.1.1.3.3.2.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3"><times id="S2.SS4.p1.6.m2.1.1.3.3.2.3.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.1"></times><ci id="S2.SS4.p1.6.m2.1.1.3.3.2.3.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.2">𝑖</ci><ci id="S2.SS4.p1.6.m2.1.1.3.3.2.3.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.2.3.3">𝑛</ci></apply></apply><apply id="S2.SS4.p1.6.m2.1.1.3.3.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.SS4.p1.6.m2.1.1.3.3.3.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3">subscript</csymbol><ci id="S2.SS4.p1.6.m2.1.1.3.3.3.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.2">𝑑</ci><apply id="S2.SS4.p1.6.m2.1.1.3.3.3.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3"><times id="S2.SS4.p1.6.m2.1.1.3.3.3.3.1.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.1"></times><ci id="S2.SS4.p1.6.m2.1.1.3.3.3.3.2.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.2">𝑜</ci><ci id="S2.SS4.p1.6.m2.1.1.3.3.3.3.3.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.3">𝑢</ci><ci id="S2.SS4.p1.6.m2.1.1.3.3.3.3.4.cmml" xref="S2.SS4.p1.6.m2.1.1.3.3.3.3.4">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.6.m2.1c">W\in\mathbb{R}^{d_{in}\times d_{out}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.6.m2.1d">italic_W ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_i italic_n end_POSTSUBSCRIPT × italic_d start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>,  <math alttext="A\in\mathbb{R}^{d_{in}\times r}" class="ltx_Math" display="inline" id="S2.SS4.p1.7.m3.1"><semantics id="S2.SS4.p1.7.m3.1a"><mrow id="S2.SS4.p1.7.m3.1.1" xref="S2.SS4.p1.7.m3.1.1.cmml"><mi id="S2.SS4.p1.7.m3.1.1.2" xref="S2.SS4.p1.7.m3.1.1.2.cmml">A</mi><mo id="S2.SS4.p1.7.m3.1.1.1" xref="S2.SS4.p1.7.m3.1.1.1.cmml">∈</mo><msup id="S2.SS4.p1.7.m3.1.1.3" xref="S2.SS4.p1.7.m3.1.1.3.cmml"><mi id="S2.SS4.p1.7.m3.1.1.3.2" xref="S2.SS4.p1.7.m3.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS4.p1.7.m3.1.1.3.3" xref="S2.SS4.p1.7.m3.1.1.3.3.cmml"><msub id="S2.SS4.p1.7.m3.1.1.3.3.2" xref="S2.SS4.p1.7.m3.1.1.3.3.2.cmml"><mi id="S2.SS4.p1.7.m3.1.1.3.3.2.2" xref="S2.SS4.p1.7.m3.1.1.3.3.2.2.cmml">d</mi><mrow id="S2.SS4.p1.7.m3.1.1.3.3.2.3" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.cmml"><mi id="S2.SS4.p1.7.m3.1.1.3.3.2.3.2" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.2.cmml">i</mi><mo id="S2.SS4.p1.7.m3.1.1.3.3.2.3.1" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.7.m3.1.1.3.3.2.3.3" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.3.cmml">n</mi></mrow></msub><mo id="S2.SS4.p1.7.m3.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.SS4.p1.7.m3.1.1.3.3.1.cmml">×</mo><mi id="S2.SS4.p1.7.m3.1.1.3.3.3" xref="S2.SS4.p1.7.m3.1.1.3.3.3.cmml">r</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.7.m3.1b"><apply id="S2.SS4.p1.7.m3.1.1.cmml" xref="S2.SS4.p1.7.m3.1.1"><in id="S2.SS4.p1.7.m3.1.1.1.cmml" xref="S2.SS4.p1.7.m3.1.1.1"></in><ci id="S2.SS4.p1.7.m3.1.1.2.cmml" xref="S2.SS4.p1.7.m3.1.1.2">𝐴</ci><apply id="S2.SS4.p1.7.m3.1.1.3.cmml" xref="S2.SS4.p1.7.m3.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.7.m3.1.1.3.1.cmml" xref="S2.SS4.p1.7.m3.1.1.3">superscript</csymbol><ci id="S2.SS4.p1.7.m3.1.1.3.2.cmml" xref="S2.SS4.p1.7.m3.1.1.3.2">ℝ</ci><apply id="S2.SS4.p1.7.m3.1.1.3.3.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3"><times id="S2.SS4.p1.7.m3.1.1.3.3.1.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.1"></times><apply id="S2.SS4.p1.7.m3.1.1.3.3.2.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.SS4.p1.7.m3.1.1.3.3.2.1.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2">subscript</csymbol><ci id="S2.SS4.p1.7.m3.1.1.3.3.2.2.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2.2">𝑑</ci><apply id="S2.SS4.p1.7.m3.1.1.3.3.2.3.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3"><times id="S2.SS4.p1.7.m3.1.1.3.3.2.3.1.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.1"></times><ci id="S2.SS4.p1.7.m3.1.1.3.3.2.3.2.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.2">𝑖</ci><ci id="S2.SS4.p1.7.m3.1.1.3.3.2.3.3.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.2.3.3">𝑛</ci></apply></apply><ci id="S2.SS4.p1.7.m3.1.1.3.3.3.cmml" xref="S2.SS4.p1.7.m3.1.1.3.3.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.7.m3.1c">A\in\mathbb{R}^{d_{in}\times r}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.7.m3.1d">italic_A ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_i italic_n end_POSTSUBSCRIPT × italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>,  <math alttext="B\in\mathbb{R}^{d_{out}\times r}" class="ltx_Math" display="inline" id="S2.SS4.p1.8.m4.1"><semantics id="S2.SS4.p1.8.m4.1a"><mrow id="S2.SS4.p1.8.m4.1.1" xref="S2.SS4.p1.8.m4.1.1.cmml"><mi id="S2.SS4.p1.8.m4.1.1.2" xref="S2.SS4.p1.8.m4.1.1.2.cmml">B</mi><mo id="S2.SS4.p1.8.m4.1.1.1" xref="S2.SS4.p1.8.m4.1.1.1.cmml">∈</mo><msup id="S2.SS4.p1.8.m4.1.1.3" xref="S2.SS4.p1.8.m4.1.1.3.cmml"><mi id="S2.SS4.p1.8.m4.1.1.3.2" xref="S2.SS4.p1.8.m4.1.1.3.2.cmml">ℝ</mi><mrow id="S2.SS4.p1.8.m4.1.1.3.3" xref="S2.SS4.p1.8.m4.1.1.3.3.cmml"><msub id="S2.SS4.p1.8.m4.1.1.3.3.2" xref="S2.SS4.p1.8.m4.1.1.3.3.2.cmml"><mi id="S2.SS4.p1.8.m4.1.1.3.3.2.2" xref="S2.SS4.p1.8.m4.1.1.3.3.2.2.cmml">d</mi><mrow id="S2.SS4.p1.8.m4.1.1.3.3.2.3" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.cmml"><mi id="S2.SS4.p1.8.m4.1.1.3.3.2.3.2" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.2.cmml">o</mi><mo id="S2.SS4.p1.8.m4.1.1.3.3.2.3.1" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.8.m4.1.1.3.3.2.3.3" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.3.cmml">u</mi><mo id="S2.SS4.p1.8.m4.1.1.3.3.2.3.1a" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.8.m4.1.1.3.3.2.3.4" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.4.cmml">t</mi></mrow></msub><mo id="S2.SS4.p1.8.m4.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S2.SS4.p1.8.m4.1.1.3.3.1.cmml">×</mo><mi id="S2.SS4.p1.8.m4.1.1.3.3.3" xref="S2.SS4.p1.8.m4.1.1.3.3.3.cmml">r</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.8.m4.1b"><apply id="S2.SS4.p1.8.m4.1.1.cmml" xref="S2.SS4.p1.8.m4.1.1"><in id="S2.SS4.p1.8.m4.1.1.1.cmml" xref="S2.SS4.p1.8.m4.1.1.1"></in><ci id="S2.SS4.p1.8.m4.1.1.2.cmml" xref="S2.SS4.p1.8.m4.1.1.2">𝐵</ci><apply id="S2.SS4.p1.8.m4.1.1.3.cmml" xref="S2.SS4.p1.8.m4.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.8.m4.1.1.3.1.cmml" xref="S2.SS4.p1.8.m4.1.1.3">superscript</csymbol><ci id="S2.SS4.p1.8.m4.1.1.3.2.cmml" xref="S2.SS4.p1.8.m4.1.1.3.2">ℝ</ci><apply id="S2.SS4.p1.8.m4.1.1.3.3.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3"><times id="S2.SS4.p1.8.m4.1.1.3.3.1.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.1"></times><apply id="S2.SS4.p1.8.m4.1.1.3.3.2.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.SS4.p1.8.m4.1.1.3.3.2.1.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2">subscript</csymbol><ci id="S2.SS4.p1.8.m4.1.1.3.3.2.2.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.2">𝑑</ci><apply id="S2.SS4.p1.8.m4.1.1.3.3.2.3.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3"><times id="S2.SS4.p1.8.m4.1.1.3.3.2.3.1.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.1"></times><ci id="S2.SS4.p1.8.m4.1.1.3.3.2.3.2.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.2">𝑜</ci><ci id="S2.SS4.p1.8.m4.1.1.3.3.2.3.3.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.3">𝑢</ci><ci id="S2.SS4.p1.8.m4.1.1.3.3.2.3.4.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.2.3.4">𝑡</ci></apply></apply><ci id="S2.SS4.p1.8.m4.1.1.3.3.3.cmml" xref="S2.SS4.p1.8.m4.1.1.3.3.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.8.m4.1c">B\in\mathbb{R}^{d_{out}\times r}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.8.m4.1d">italic_B ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT × italic_r end_POSTSUPERSCRIPT</annotation></semantics></math>, and <math alttext="r\ll\min\{d_{in},d_{out}\}" class="ltx_Math" display="inline" id="S2.SS4.p1.9.m5.3"><semantics id="S2.SS4.p1.9.m5.3a"><mrow id="S2.SS4.p1.9.m5.3.3" xref="S2.SS4.p1.9.m5.3.3.cmml"><mi id="S2.SS4.p1.9.m5.3.3.4" xref="S2.SS4.p1.9.m5.3.3.4.cmml">r</mi><mo id="S2.SS4.p1.9.m5.3.3.3" xref="S2.SS4.p1.9.m5.3.3.3.cmml">≪</mo><mrow id="S2.SS4.p1.9.m5.3.3.2.2" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml"><mi id="S2.SS4.p1.9.m5.1.1" xref="S2.SS4.p1.9.m5.1.1.cmml">min</mi><mo id="S2.SS4.p1.9.m5.3.3.2.2a" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml">⁡</mo><mrow id="S2.SS4.p1.9.m5.3.3.2.2.2" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml"><mo id="S2.SS4.p1.9.m5.3.3.2.2.2.3" stretchy="false" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml">{</mo><msub id="S2.SS4.p1.9.m5.2.2.1.1.1.1" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.cmml"><mi id="S2.SS4.p1.9.m5.2.2.1.1.1.1.2" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.2.cmml">d</mi><mrow id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.cmml"><mi id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.2" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.2.cmml">i</mi><mo id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.1" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.3" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.3.cmml">n</mi></mrow></msub><mo id="S2.SS4.p1.9.m5.3.3.2.2.2.4" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml">,</mo><msub id="S2.SS4.p1.9.m5.3.3.2.2.2.2" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.cmml"><mi id="S2.SS4.p1.9.m5.3.3.2.2.2.2.2" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.2.cmml">d</mi><mrow id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.cmml"><mi id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.2" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.2.cmml">o</mi><mo id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.3" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.3.cmml">u</mi><mo id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1a" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.4" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.4.cmml">t</mi></mrow></msub><mo id="S2.SS4.p1.9.m5.3.3.2.2.2.5" stretchy="false" xref="S2.SS4.p1.9.m5.3.3.2.3.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.9.m5.3b"><apply id="S2.SS4.p1.9.m5.3.3.cmml" xref="S2.SS4.p1.9.m5.3.3"><csymbol cd="latexml" id="S2.SS4.p1.9.m5.3.3.3.cmml" xref="S2.SS4.p1.9.m5.3.3.3">much-less-than</csymbol><ci id="S2.SS4.p1.9.m5.3.3.4.cmml" xref="S2.SS4.p1.9.m5.3.3.4">𝑟</ci><apply id="S2.SS4.p1.9.m5.3.3.2.3.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2"><min id="S2.SS4.p1.9.m5.1.1.cmml" xref="S2.SS4.p1.9.m5.1.1"></min><apply id="S2.SS4.p1.9.m5.2.2.1.1.1.1.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.9.m5.2.2.1.1.1.1.1.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1">subscript</csymbol><ci id="S2.SS4.p1.9.m5.2.2.1.1.1.1.2.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.2">𝑑</ci><apply id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3"><times id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.1.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.1"></times><ci id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.2.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.2">𝑖</ci><ci id="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.3.cmml" xref="S2.SS4.p1.9.m5.2.2.1.1.1.1.3.3">𝑛</ci></apply></apply><apply id="S2.SS4.p1.9.m5.3.3.2.2.2.2.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.9.m5.3.3.2.2.2.2.1.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2">subscript</csymbol><ci id="S2.SS4.p1.9.m5.3.3.2.2.2.2.2.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.2">𝑑</ci><apply id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3"><times id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.1"></times><ci id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.2.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.2">𝑜</ci><ci id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.3.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.3">𝑢</ci><ci id="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.4.cmml" xref="S2.SS4.p1.9.m5.3.3.2.2.2.2.3.4">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.9.m5.3c">r\ll\min\{d_{in},d_{out}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.9.m5.3d">italic_r ≪ roman_min { italic_d start_POSTSUBSCRIPT italic_i italic_n end_POSTSUBSCRIPT , italic_d start_POSTSUBSCRIPT italic_o italic_u italic_t end_POSTSUBSCRIPT }</annotation></semantics></math>. Initially,</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="A\sim\mathcal{N}(0,\sigma^{2}),\;B=0," class="ltx_Math" display="block" id="S2.E6.m1.2"><semantics id="S2.E6.m1.2a"><mrow id="S2.E6.m1.2.2.1"><mrow id="S2.E6.m1.2.2.1.1.2" xref="S2.E6.m1.2.2.1.1.3.cmml"><mrow id="S2.E6.m1.2.2.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.1.1.1.1.3" xref="S2.E6.m1.2.2.1.1.1.1.3.cmml">A</mi><mo id="S2.E6.m1.2.2.1.1.1.1.2" xref="S2.E6.m1.2.2.1.1.1.1.2.cmml">∼</mo><mrow id="S2.E6.m1.2.2.1.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.2.2.1.1.1.1.1.3" xref="S2.E6.m1.2.2.1.1.1.1.1.3.cmml">𝒩</mi><mo id="S2.E6.m1.2.2.1.1.1.1.1.2" xref="S2.E6.m1.2.2.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E6.m1.2.2.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.1.2.cmml"><mo id="S2.E6.m1.2.2.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.2.2.1.1.1.1.1.1.2.cmml">(</mo><mn id="S2.E6.m1.1.1" xref="S2.E6.m1.1.1.cmml">0</mn><mo id="S2.E6.m1.2.2.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.1.1.1.1.1.1.2.cmml">,</mo><msup id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">σ</mi><mn id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">2</mn></msup><mo id="S2.E6.m1.2.2.1.1.1.1.1.1.1.4" stretchy="false" xref="S2.E6.m1.2.2.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E6.m1.2.2.1.1.2.3" rspace="0.447em" xref="S2.E6.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S2.E6.m1.2.2.1.1.2.2" xref="S2.E6.m1.2.2.1.1.2.2.cmml"><mi id="S2.E6.m1.2.2.1.1.2.2.2" xref="S2.E6.m1.2.2.1.1.2.2.2.cmml">B</mi><mo id="S2.E6.m1.2.2.1.1.2.2.1" xref="S2.E6.m1.2.2.1.1.2.2.1.cmml">=</mo><mn id="S2.E6.m1.2.2.1.1.2.2.3" xref="S2.E6.m1.2.2.1.1.2.2.3.cmml">0</mn></mrow></mrow><mo id="S2.E6.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.2b"><apply id="S2.E6.m1.2.2.1.1.3.cmml" xref="S2.E6.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.1.1.3a.cmml" xref="S2.E6.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S2.E6.m1.2.2.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.2.2.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.2">similar-to</csymbol><ci id="S2.E6.m1.2.2.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.1.1.1.1.3">𝐴</ci><apply id="S2.E6.m1.2.2.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1"><times id="S2.E6.m1.2.2.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.2"></times><ci id="S2.E6.m1.2.2.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.3">𝒩</ci><interval closure="open" id="S2.E6.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1"><cn id="S2.E6.m1.1.1.cmml" type="integer" xref="S2.E6.m1.1.1">0</cn><apply id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.2">𝜎</ci><cn id="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S2.E6.m1.2.2.1.1.1.1.1.1.1.1.3">2</cn></apply></interval></apply></apply><apply id="S2.E6.m1.2.2.1.1.2.2.cmml" xref="S2.E6.m1.2.2.1.1.2.2"><eq id="S2.E6.m1.2.2.1.1.2.2.1.cmml" xref="S2.E6.m1.2.2.1.1.2.2.1"></eq><ci id="S2.E6.m1.2.2.1.1.2.2.2.cmml" xref="S2.E6.m1.2.2.1.1.2.2.2">𝐵</ci><cn id="S2.E6.m1.2.2.1.1.2.2.3.cmml" type="integer" xref="S2.E6.m1.2.2.1.1.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.2c">A\sim\mathcal{N}(0,\sigma^{2}),\;B=0,</annotation><annotation encoding="application/x-llamapun" id="S2.E6.m1.2d">italic_A ∼ caligraphic_N ( 0 , italic_σ start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) , italic_B = 0 ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS4.p1.14">so as to ensure the initial output <math alttext="Y^{\prime}=XW+XAB^{T}" class="ltx_Math" display="inline" id="S2.SS4.p1.10.m1.1"><semantics id="S2.SS4.p1.10.m1.1a"><mrow id="S2.SS4.p1.10.m1.1.1" xref="S2.SS4.p1.10.m1.1.1.cmml"><msup id="S2.SS4.p1.10.m1.1.1.2" xref="S2.SS4.p1.10.m1.1.1.2.cmml"><mi id="S2.SS4.p1.10.m1.1.1.2.2" xref="S2.SS4.p1.10.m1.1.1.2.2.cmml">Y</mi><mo id="S2.SS4.p1.10.m1.1.1.2.3" xref="S2.SS4.p1.10.m1.1.1.2.3.cmml">′</mo></msup><mo id="S2.SS4.p1.10.m1.1.1.1" xref="S2.SS4.p1.10.m1.1.1.1.cmml">=</mo><mrow id="S2.SS4.p1.10.m1.1.1.3" xref="S2.SS4.p1.10.m1.1.1.3.cmml"><mrow id="S2.SS4.p1.10.m1.1.1.3.2" xref="S2.SS4.p1.10.m1.1.1.3.2.cmml"><mi id="S2.SS4.p1.10.m1.1.1.3.2.2" xref="S2.SS4.p1.10.m1.1.1.3.2.2.cmml">X</mi><mo id="S2.SS4.p1.10.m1.1.1.3.2.1" xref="S2.SS4.p1.10.m1.1.1.3.2.1.cmml">⁢</mo><mi id="S2.SS4.p1.10.m1.1.1.3.2.3" xref="S2.SS4.p1.10.m1.1.1.3.2.3.cmml">W</mi></mrow><mo id="S2.SS4.p1.10.m1.1.1.3.1" xref="S2.SS4.p1.10.m1.1.1.3.1.cmml">+</mo><mrow id="S2.SS4.p1.10.m1.1.1.3.3" xref="S2.SS4.p1.10.m1.1.1.3.3.cmml"><mi id="S2.SS4.p1.10.m1.1.1.3.3.2" xref="S2.SS4.p1.10.m1.1.1.3.3.2.cmml">X</mi><mo id="S2.SS4.p1.10.m1.1.1.3.3.1" xref="S2.SS4.p1.10.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.10.m1.1.1.3.3.3" xref="S2.SS4.p1.10.m1.1.1.3.3.3.cmml">A</mi><mo id="S2.SS4.p1.10.m1.1.1.3.3.1a" xref="S2.SS4.p1.10.m1.1.1.3.3.1.cmml">⁢</mo><msup id="S2.SS4.p1.10.m1.1.1.3.3.4" xref="S2.SS4.p1.10.m1.1.1.3.3.4.cmml"><mi id="S2.SS4.p1.10.m1.1.1.3.3.4.2" xref="S2.SS4.p1.10.m1.1.1.3.3.4.2.cmml">B</mi><mi id="S2.SS4.p1.10.m1.1.1.3.3.4.3" xref="S2.SS4.p1.10.m1.1.1.3.3.4.3.cmml">T</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.10.m1.1b"><apply id="S2.SS4.p1.10.m1.1.1.cmml" xref="S2.SS4.p1.10.m1.1.1"><eq id="S2.SS4.p1.10.m1.1.1.1.cmml" xref="S2.SS4.p1.10.m1.1.1.1"></eq><apply id="S2.SS4.p1.10.m1.1.1.2.cmml" xref="S2.SS4.p1.10.m1.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.p1.10.m1.1.1.2.1.cmml" xref="S2.SS4.p1.10.m1.1.1.2">superscript</csymbol><ci id="S2.SS4.p1.10.m1.1.1.2.2.cmml" xref="S2.SS4.p1.10.m1.1.1.2.2">𝑌</ci><ci id="S2.SS4.p1.10.m1.1.1.2.3.cmml" xref="S2.SS4.p1.10.m1.1.1.2.3">′</ci></apply><apply id="S2.SS4.p1.10.m1.1.1.3.cmml" xref="S2.SS4.p1.10.m1.1.1.3"><plus id="S2.SS4.p1.10.m1.1.1.3.1.cmml" xref="S2.SS4.p1.10.m1.1.1.3.1"></plus><apply id="S2.SS4.p1.10.m1.1.1.3.2.cmml" xref="S2.SS4.p1.10.m1.1.1.3.2"><times id="S2.SS4.p1.10.m1.1.1.3.2.1.cmml" xref="S2.SS4.p1.10.m1.1.1.3.2.1"></times><ci id="S2.SS4.p1.10.m1.1.1.3.2.2.cmml" xref="S2.SS4.p1.10.m1.1.1.3.2.2">𝑋</ci><ci id="S2.SS4.p1.10.m1.1.1.3.2.3.cmml" xref="S2.SS4.p1.10.m1.1.1.3.2.3">𝑊</ci></apply><apply id="S2.SS4.p1.10.m1.1.1.3.3.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3"><times id="S2.SS4.p1.10.m1.1.1.3.3.1.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.1"></times><ci id="S2.SS4.p1.10.m1.1.1.3.3.2.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.2">𝑋</ci><ci id="S2.SS4.p1.10.m1.1.1.3.3.3.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.3">𝐴</ci><apply id="S2.SS4.p1.10.m1.1.1.3.3.4.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.4"><csymbol cd="ambiguous" id="S2.SS4.p1.10.m1.1.1.3.3.4.1.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.4">superscript</csymbol><ci id="S2.SS4.p1.10.m1.1.1.3.3.4.2.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.4.2">𝐵</ci><ci id="S2.SS4.p1.10.m1.1.1.3.3.4.3.cmml" xref="S2.SS4.p1.10.m1.1.1.3.3.4.3">𝑇</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.10.m1.1c">Y^{\prime}=XW+XAB^{T}</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.10.m1.1d">italic_Y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = italic_X italic_W + italic_X italic_A italic_B start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT</annotation></semantics></math> equals to <math alttext="Y=XW" class="ltx_Math" display="inline" id="S2.SS4.p1.11.m2.1"><semantics id="S2.SS4.p1.11.m2.1a"><mrow id="S2.SS4.p1.11.m2.1.1" xref="S2.SS4.p1.11.m2.1.1.cmml"><mi id="S2.SS4.p1.11.m2.1.1.2" xref="S2.SS4.p1.11.m2.1.1.2.cmml">Y</mi><mo id="S2.SS4.p1.11.m2.1.1.1" xref="S2.SS4.p1.11.m2.1.1.1.cmml">=</mo><mrow id="S2.SS4.p1.11.m2.1.1.3" xref="S2.SS4.p1.11.m2.1.1.3.cmml"><mi id="S2.SS4.p1.11.m2.1.1.3.2" xref="S2.SS4.p1.11.m2.1.1.3.2.cmml">X</mi><mo id="S2.SS4.p1.11.m2.1.1.3.1" xref="S2.SS4.p1.11.m2.1.1.3.1.cmml">⁢</mo><mi id="S2.SS4.p1.11.m2.1.1.3.3" xref="S2.SS4.p1.11.m2.1.1.3.3.cmml">W</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.11.m2.1b"><apply id="S2.SS4.p1.11.m2.1.1.cmml" xref="S2.SS4.p1.11.m2.1.1"><eq id="S2.SS4.p1.11.m2.1.1.1.cmml" xref="S2.SS4.p1.11.m2.1.1.1"></eq><ci id="S2.SS4.p1.11.m2.1.1.2.cmml" xref="S2.SS4.p1.11.m2.1.1.2">𝑌</ci><apply id="S2.SS4.p1.11.m2.1.1.3.cmml" xref="S2.SS4.p1.11.m2.1.1.3"><times id="S2.SS4.p1.11.m2.1.1.3.1.cmml" xref="S2.SS4.p1.11.m2.1.1.3.1"></times><ci id="S2.SS4.p1.11.m2.1.1.3.2.cmml" xref="S2.SS4.p1.11.m2.1.1.3.2">𝑋</ci><ci id="S2.SS4.p1.11.m2.1.1.3.3.cmml" xref="S2.SS4.p1.11.m2.1.1.3.3">𝑊</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.11.m2.1c">Y=XW</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.11.m2.1d">italic_Y = italic_X italic_W</annotation></semantics></math>. During fine-tuning, <math alttext="W" class="ltx_Math" display="inline" id="S2.SS4.p1.12.m3.1"><semantics id="S2.SS4.p1.12.m3.1a"><mi id="S2.SS4.p1.12.m3.1.1" xref="S2.SS4.p1.12.m3.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.12.m3.1b"><ci id="S2.SS4.p1.12.m3.1.1.cmml" xref="S2.SS4.p1.12.m3.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.12.m3.1c">W</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.12.m3.1d">italic_W</annotation></semantics></math> is fixed while <math alttext="A" class="ltx_Math" display="inline" id="S2.SS4.p1.13.m4.1"><semantics id="S2.SS4.p1.13.m4.1a"><mi id="S2.SS4.p1.13.m4.1.1" xref="S2.SS4.p1.13.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.13.m4.1b"><ci id="S2.SS4.p1.13.m4.1.1.cmml" xref="S2.SS4.p1.13.m4.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.13.m4.1c">A</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.13.m4.1d">italic_A</annotation></semantics></math> and <math alttext="B" class="ltx_Math" display="inline" id="S2.SS4.p1.14.m5.1"><semantics id="S2.SS4.p1.14.m5.1a"><mi id="S2.SS4.p1.14.m5.1.1" xref="S2.SS4.p1.14.m5.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.14.m5.1b"><ci id="S2.SS4.p1.14.m5.1.1.cmml" xref="S2.SS4.p1.14.m5.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.14.m5.1c">B</annotation><annotation encoding="application/x-llamapun" id="S2.SS4.p1.14.m5.1d">italic_B</annotation></semantics></math> are updated by SGD-based optimization methods like Adam <cite class="ltx_cite ltx_citemacro_citep">(Kingma and Ba, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib34" title="">2014</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.SS4.p2">
<p class="ltx_p" id="S2.SS4.p2.1">When applying LoRA to LLM finetuning, we can selectively attach LoRA weights to target matrices of certain types inside the LLM. <em class="ltx_emph ltx_font_italic" id="S2.SS4.p2.1.1">e.g.</em>, the matrices of query, key, and value in the self-attention modules or the linear matrices in feed-forward networks (FFNs).</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Methodology</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we introduce our proposed RecLoRA (Personalized <span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.p1.1.1">Lo</span>w-<span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.p1.1.2">ra</span>nk Adaptation for <span class="ltx_text ltx_font_bold ltx_font_italic" id="S3.p1.1.3">Rec</span>ommendation) framework and its training process in detail.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="385" id="S3.F3.g1" src="x3.png" width="813"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>The model structure and learning strategy of our proposed RecLoRA framework. </figcaption>
</figure>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Overview of RecLoRA</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">We propose the RecLoRA framework to address three major limitations: (1) To construct personalized low-rank adaptation for LLMs in recommendation, we employ a parallel meta-LoRA mechanism incorporating personalized knowledge. (2) To alleviate the effectiveness and efficiency issues associated with behavior sequence extension, we design a Long-Short Modality Retriever. (3) To expand the receptive field of LLMs to the entire training space, we develop a Few2Many Magnifier Strategy. In this section, we provide a comprehensive explanation of our RecLoRA framework, including its network architecture and training process.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.7">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.F3" title="Figure 3 ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the overall framework of the RecLoRA model. As is shown in the figure, RecLoRA takes two input components: samples in ID modality <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msup id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.3.2.cmml">I</mi><mo id="S3.SS1.p2.1.m1.1.1.3.1" xref="S3.SS1.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.1.m1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝑥</ci><apply id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3"><times id="S3.SS1.p2.1.m1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.3.1"></times><ci id="S3.SS1.p2.1.m1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.3.2">𝐼</ci><ci id="S3.SS1.p2.1.m1.1.1.3.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> and samples in text modality <math alttext="x^{text}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msup id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p2.2.m2.1.1.3.1" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.2.m2.1.1.3.3" xref="S3.SS1.p2.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS1.p2.2.m2.1.1.3.1a" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.2.m2.1.1.3.4" xref="S3.SS1.p2.2.m2.1.1.3.4.cmml">x</mi><mo id="S3.SS1.p2.2.m2.1.1.3.1b" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.2.m2.1.1.3.5" xref="S3.SS1.p2.2.m2.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑥</ci><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><times id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3.1"></times><ci id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p2.2.m2.1.1.3.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS1.p2.2.m2.1.1.3.4.cmml" xref="S3.SS1.p2.2.m2.1.1.3.4">𝑥</ci><ci id="S3.SS1.p2.2.m2.1.1.3.5.cmml" xref="S3.SS1.p2.2.m2.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">x^{text}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>. Each modality <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_x</annotation></semantics></math> has a user profile, a candidate item, context features, and user history behaviors as formulated in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.E1" title="In 2.1. Problem Formulation ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>). So we start by transforming the recommendation dataset into these two modalities and then feed <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msup id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml"><mi id="S3.SS1.p2.4.m4.1.1.3.2" xref="S3.SS1.p2.4.m4.1.1.3.2.cmml">I</mi><mo id="S3.SS1.p2.4.m4.1.1.3.1" xref="S3.SS1.p2.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.4.m4.1.1.3.3" xref="S3.SS1.p2.4.m4.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">superscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑥</ci><apply id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3"><times id="S3.SS1.p2.4.m4.1.1.3.1.cmml" xref="S3.SS1.p2.4.m4.1.1.3.1"></times><ci id="S3.SS1.p2.4.m4.1.1.3.2.cmml" xref="S3.SS1.p2.4.m4.1.1.3.2">𝐼</ci><ci id="S3.SS1.p2.4.m4.1.1.3.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="x^{text}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><msup id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.1.1.3.2" xref="S3.SS1.p2.5.m5.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.3.3" xref="S3.SS1.p2.5.m5.1.1.3.3.cmml">e</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1a" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.3.4" xref="S3.SS1.p2.5.m5.1.1.3.4.cmml">x</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1b" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.3.5" xref="S3.SS1.p2.5.m5.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">superscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑥</ci><apply id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><times id="S3.SS1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.1.1.3.1"></times><ci id="S3.SS1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.1.1.3.2">𝑡</ci><ci id="S3.SS1.p2.5.m5.1.1.3.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3.3">𝑒</ci><ci id="S3.SS1.p2.5.m5.1.1.3.4.cmml" xref="S3.SS1.p2.5.m5.1.1.3.4">𝑥</ci><ci id="S3.SS1.p2.5.m5.1.1.3.5.cmml" xref="S3.SS1.p2.5.m5.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">x^{text}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> into CRM and LLM models respectively. During transformation, a Long-Short Modality Retriever retrieves long history for <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><msup id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml"><mi id="S3.SS1.p2.6.m6.1.1.3.2" xref="S3.SS1.p2.6.m6.1.1.3.2.cmml">I</mi><mo id="S3.SS1.p2.6.m6.1.1.3.1" xref="S3.SS1.p2.6.m6.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.6.m6.1.1.3.3" xref="S3.SS1.p2.6.m6.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">superscript</csymbol><ci id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2">𝑥</ci><apply id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3"><times id="S3.SS1.p2.6.m6.1.1.3.1.cmml" xref="S3.SS1.p2.6.m6.1.1.3.1"></times><ci id="S3.SS1.p2.6.m6.1.1.3.2.cmml" xref="S3.SS1.p2.6.m6.1.1.3.2">𝐼</ci><ci id="S3.SS1.p2.6.m6.1.1.3.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> and short history for <math alttext="x^{test}" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.1"><semantics id="S3.SS1.p2.7.m7.1a"><msup id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml"><mi id="S3.SS1.p2.7.m7.1.1.3.2" xref="S3.SS1.p2.7.m7.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p2.7.m7.1.1.3.1" xref="S3.SS1.p2.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.7.m7.1.1.3.3" xref="S3.SS1.p2.7.m7.1.1.3.3.cmml">e</mi><mo id="S3.SS1.p2.7.m7.1.1.3.1a" xref="S3.SS1.p2.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.7.m7.1.1.3.4" xref="S3.SS1.p2.7.m7.1.1.3.4.cmml">s</mi><mo id="S3.SS1.p2.7.m7.1.1.3.1b" xref="S3.SS1.p2.7.m7.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.7.m7.1.1.3.5" xref="S3.SS1.p2.7.m7.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">superscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝑥</ci><apply id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3"><times id="S3.SS1.p2.7.m7.1.1.3.1.cmml" xref="S3.SS1.p2.7.m7.1.1.3.1"></times><ci id="S3.SS1.p2.7.m7.1.1.3.2.cmml" xref="S3.SS1.p2.7.m7.1.1.3.2">𝑡</ci><ci id="S3.SS1.p2.7.m7.1.1.3.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3.3">𝑒</ci><ci id="S3.SS1.p2.7.m7.1.1.3.4.cmml" xref="S3.SS1.p2.7.m7.1.1.3.4">𝑠</ci><ci id="S3.SS1.p2.7.m7.1.1.3.5.cmml" xref="S3.SS1.p2.7.m7.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">x^{test}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_s italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E7">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E7X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="3"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle x^{ID}" class="ltx_Math" display="inline" id="S3.E7X.2.1.1.m1.1"><semantics id="S3.E7X.2.1.1.m1.1a"><msup id="S3.E7X.2.1.1.m1.1.1" xref="S3.E7X.2.1.1.m1.1.1.cmml"><mi id="S3.E7X.2.1.1.m1.1.1.2" xref="S3.E7X.2.1.1.m1.1.1.2.cmml">x</mi><mrow id="S3.E7X.2.1.1.m1.1.1.3" xref="S3.E7X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E7X.2.1.1.m1.1.1.3.2" xref="S3.E7X.2.1.1.m1.1.1.3.2.cmml">I</mi><mo id="S3.E7X.2.1.1.m1.1.1.3.1" xref="S3.E7X.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7X.2.1.1.m1.1.1.3.3" xref="S3.E7X.2.1.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.E7X.2.1.1.m1.1b"><apply id="S3.E7X.2.1.1.m1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E7X.2.1.1.m1.1.1.1.cmml" xref="S3.E7X.2.1.1.m1.1.1">superscript</csymbol><ci id="S3.E7X.2.1.1.m1.1.1.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.2">𝑥</ci><apply id="S3.E7X.2.1.1.m1.1.1.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.3"><times id="S3.E7X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E7X.2.1.1.m1.1.1.3.1"></times><ci id="S3.E7X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E7X.2.1.1.m1.1.1.3.2">𝐼</ci><ci id="S3.E7X.2.1.1.m1.1.1.3.3.cmml" xref="S3.E7X.2.1.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.2.1.1.m1.1c">\displaystyle x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.E7X.2.1.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=LSMR(u^{ID},v^{ID})," class="ltx_Math" display="inline" id="S3.E7X.3.2.2.m1.1"><semantics id="S3.E7X.3.2.2.m1.1a"><mrow id="S3.E7X.3.2.2.m1.1.1.1" xref="S3.E7X.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E7X.3.2.2.m1.1.1.1.1" xref="S3.E7X.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.4" xref="S3.E7X.3.2.2.m1.1.1.1.1.4.cmml"></mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E7X.3.2.2.m1.1.1.1.1.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.4" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.4.cmml">L</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.5" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.5.cmml">S</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.3a" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.6" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.6.cmml">M</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.3b" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.7" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.7.cmml">R</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.3c" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.3.cmml"><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.3.cmml">(</mo><msup id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml">u</mi><mrow id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msup><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.4" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.3.cmml">,</mo><msup id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml">v</mi><mrow id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.2.cmml">I</mi><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.1" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.3" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.3.cmml">D</mi></mrow></msup><mo id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E7X.3.2.2.m1.1.1.1.2" xref="S3.E7X.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7X.3.2.2.m1.1b"><apply id="S3.E7X.3.2.2.m1.1.1.1.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1"><eq id="S3.E7X.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.3"></eq><csymbol cd="latexml" id="S3.E7X.3.2.2.m1.1.1.1.1.4.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.4">absent</csymbol><apply id="S3.E7X.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2"><times id="S3.E7X.3.2.2.m1.1.1.1.1.2.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.3"></times><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.4.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.4">𝐿</ci><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.5.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.5">𝑆</ci><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.6.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.6">𝑀</ci><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.7.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.7">𝑅</ci><interval closure="open" id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2"><apply id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.2">𝑢</ci><apply id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3"><times id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply><apply id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.2">𝑣</ci><apply id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3"><times id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.1"></times><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.2">𝐼</ci><ci id="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E7X.3.2.2.m1.1.1.1.1.2.2.2.2.3.3">𝐷</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7X.3.2.2.m1.1c">\displaystyle=LSMR(u^{ID},v^{ID}),</annotation><annotation encoding="application/x-llamapun" id="S3.E7X.3.2.2.m1.1d">= italic_L italic_S italic_M italic_R ( italic_u start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E7Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle x^{text}" class="ltx_Math" display="inline" id="S3.E7Xa.2.1.1.m1.1"><semantics id="S3.E7Xa.2.1.1.m1.1a"><msup id="S3.E7Xa.2.1.1.m1.1.1" xref="S3.E7Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E7Xa.2.1.1.m1.1.1.2" xref="S3.E7Xa.2.1.1.m1.1.1.2.cmml">x</mi><mrow id="S3.E7Xa.2.1.1.m1.1.1.3" xref="S3.E7Xa.2.1.1.m1.1.1.3.cmml"><mi id="S3.E7Xa.2.1.1.m1.1.1.3.2" xref="S3.E7Xa.2.1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.E7Xa.2.1.1.m1.1.1.3.1" xref="S3.E7Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.2.1.1.m1.1.1.3.3" xref="S3.E7Xa.2.1.1.m1.1.1.3.3.cmml">e</mi><mo id="S3.E7Xa.2.1.1.m1.1.1.3.1a" xref="S3.E7Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.2.1.1.m1.1.1.3.4" xref="S3.E7Xa.2.1.1.m1.1.1.3.4.cmml">x</mi><mo id="S3.E7Xa.2.1.1.m1.1.1.3.1b" xref="S3.E7Xa.2.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.2.1.1.m1.1.1.3.5" xref="S3.E7Xa.2.1.1.m1.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.E7Xa.2.1.1.m1.1b"><apply id="S3.E7Xa.2.1.1.m1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E7Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1">superscript</csymbol><ci id="S3.E7Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.2">𝑥</ci><apply id="S3.E7Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3"><times id="S3.E7Xa.2.1.1.m1.1.1.3.1.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3.1"></times><ci id="S3.E7Xa.2.1.1.m1.1.1.3.2.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3.2">𝑡</ci><ci id="S3.E7Xa.2.1.1.m1.1.1.3.3.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3.3">𝑒</ci><ci id="S3.E7Xa.2.1.1.m1.1.1.3.4.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3.4">𝑥</ci><ci id="S3.E7Xa.2.1.1.m1.1.1.3.5.cmml" xref="S3.E7Xa.2.1.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xa.2.1.1.m1.1c">\displaystyle x^{text}</annotation><annotation encoding="application/x-llamapun" id="S3.E7Xa.2.1.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=LSMR(u^{text},v^{text})," class="ltx_Math" display="inline" id="S3.E7Xa.3.2.2.m1.1"><semantics id="S3.E7Xa.3.2.2.m1.1a"><mrow id="S3.E7Xa.3.2.2.m1.1.1.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E7Xa.3.2.2.m1.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.4" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.4.cmml"></mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E7Xa.3.2.2.m1.1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.4" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.4.cmml">L</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.5" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.5.cmml">S</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3a" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.6" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.6.cmml">M</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3b" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.7" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.7.cmml">R</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3c" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.3.cmml"><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.3" stretchy="false" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.3.cmml">(</mo><msup id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml">u</mi><mrow id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml">e</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1a" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.4" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.4.cmml">x</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1b" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.5" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.5.cmml">t</mi></mrow></msup><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.4" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.3.cmml">,</mo><msup id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml">v</mi><mrow id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.2.cmml">t</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.3" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.3.cmml">e</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1a" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.4" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.4.cmml">x</mi><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1b" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.5" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.5.cmml">t</mi></mrow></msup><mo id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.5" stretchy="false" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E7Xa.3.2.2.m1.1.1.1.2" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7Xa.3.2.2.m1.1b"><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1"><eq id="S3.E7Xa.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.3"></eq><csymbol cd="latexml" id="S3.E7Xa.3.2.2.m1.1.1.1.1.4.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.4">absent</csymbol><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2"><times id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.3"></times><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.4.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.4">𝐿</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.5.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.5">𝑆</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.6.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.6">𝑀</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.7.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.7">𝑅</ci><interval closure="open" id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2"><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2">𝑢</ci><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3"><times id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.3">𝑒</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.4">𝑥</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.5.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3.5">𝑡</ci></apply></apply><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.2">𝑣</ci><apply id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3"><times id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.1"></times><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.2">𝑡</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.3">𝑒</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.4.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.4">𝑥</ci><ci id="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.5.cmml" xref="S3.E7Xa.3.2.2.m1.1.1.1.1.2.2.2.2.3.5">𝑡</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xa.3.2.2.m1.1c">\displaystyle=LSMR(u^{text},v^{text}),</annotation><annotation encoding="application/x-llamapun" id="S3.E7Xa.3.2.2.m1.1d">= italic_L italic_S italic_M italic_R ( italic_u start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E7Xb">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle N^{ID}_{u_{i}}" class="ltx_Math" display="inline" id="S3.E7Xb.2.1.1.m1.1"><semantics id="S3.E7Xb.2.1.1.m1.1a"><msubsup id="S3.E7Xb.2.1.1.m1.1.1" xref="S3.E7Xb.2.1.1.m1.1.1.cmml"><mi id="S3.E7Xb.2.1.1.m1.1.1.2.2" xref="S3.E7Xb.2.1.1.m1.1.1.2.2.cmml">N</mi><msub id="S3.E7Xb.2.1.1.m1.1.1.3" xref="S3.E7Xb.2.1.1.m1.1.1.3.cmml"><mi id="S3.E7Xb.2.1.1.m1.1.1.3.2" xref="S3.E7Xb.2.1.1.m1.1.1.3.2.cmml">u</mi><mi id="S3.E7Xb.2.1.1.m1.1.1.3.3" xref="S3.E7Xb.2.1.1.m1.1.1.3.3.cmml">i</mi></msub><mrow id="S3.E7Xb.2.1.1.m1.1.1.2.3" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.cmml"><mi id="S3.E7Xb.2.1.1.m1.1.1.2.3.2" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.2.cmml">I</mi><mo id="S3.E7Xb.2.1.1.m1.1.1.2.3.1" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E7Xb.2.1.1.m1.1.1.2.3.3" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.E7Xb.2.1.1.m1.1b"><apply id="S3.E7Xb.2.1.1.m1.1.1.cmml" xref="S3.E7Xb.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E7Xb.2.1.1.m1.1.1.1.cmml" xref="S3.E7Xb.2.1.1.m1.1.1">subscript</csymbol><apply id="S3.E7Xb.2.1.1.m1.1.1.2.cmml" xref="S3.E7Xb.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E7Xb.2.1.1.m1.1.1.2.1.cmml" xref="S3.E7Xb.2.1.1.m1.1.1">superscript</csymbol><ci id="S3.E7Xb.2.1.1.m1.1.1.2.2.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.2.2">𝑁</ci><apply id="S3.E7Xb.2.1.1.m1.1.1.2.3.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.2.3"><times id="S3.E7Xb.2.1.1.m1.1.1.2.3.1.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.1"></times><ci id="S3.E7Xb.2.1.1.m1.1.1.2.3.2.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.2">𝐼</ci><ci id="S3.E7Xb.2.1.1.m1.1.1.2.3.3.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.2.3.3">𝐷</ci></apply></apply><apply id="S3.E7Xb.2.1.1.m1.1.1.3.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E7Xb.2.1.1.m1.1.1.3.1.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.3">subscript</csymbol><ci id="S3.E7Xb.2.1.1.m1.1.1.3.2.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.3.2">𝑢</ci><ci id="S3.E7Xb.2.1.1.m1.1.1.3.3.cmml" xref="S3.E7Xb.2.1.1.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xb.2.1.1.m1.1c">\displaystyle N^{ID}_{u_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.E7Xb.2.1.1.m1.1d">italic_N start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle&gt;N^{text}_{u_{i}}," class="ltx_Math" display="inline" id="S3.E7Xb.3.2.2.m1.1"><semantics id="S3.E7Xb.3.2.2.m1.1a"><mrow id="S3.E7Xb.3.2.2.m1.1.1.1" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E7Xb.3.2.2.m1.1.1.1.1" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.2" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.2.cmml"></mi><mo id="S3.E7Xb.3.2.2.m1.1.1.1.1.1" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.1.cmml">&gt;</mo><msubsup id="S3.E7Xb.3.2.2.m1.1.1.1.1.3" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.cmml"><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.2" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.2.cmml">N</mi><msub id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.2" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.2.cmml">u</mi><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.3" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.3.cmml">i</mi></msub><mrow id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.2" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.2.cmml">t</mi><mo id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.3" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.3.cmml">e</mi><mo id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1a" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.4" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.4.cmml">x</mi><mo id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1b" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.5" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.5.cmml">t</mi></mrow></msubsup></mrow><mo id="S3.E7Xb.3.2.2.m1.1.1.1.2" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7Xb.3.2.2.m1.1b"><apply id="S3.E7Xb.3.2.2.m1.1.1.1.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1"><gt id="S3.E7Xb.3.2.2.m1.1.1.1.1.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.1"></gt><csymbol cd="latexml" id="S3.E7Xb.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.2">absent</csymbol><apply id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3">subscript</csymbol><apply id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.2.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.2">𝑁</ci><apply id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3"><times id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.1"></times><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.2">𝑡</ci><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.3">𝑒</ci><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.4.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.4">𝑥</ci><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.5.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.2.3.5">𝑡</ci></apply></apply><apply id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.1.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.2.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.2">𝑢</ci><ci id="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S3.E7Xb.3.2.2.m1.1.1.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7Xb.3.2.2.m1.1c">\displaystyle&gt;N^{text}_{u_{i}},</annotation><annotation encoding="application/x-llamapun" id="S3.E7Xb.3.2.2.m1.1d">&gt; italic_N start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS1.p2.8">where <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p2.8.m1.1"><semantics id="S3.SS1.p2.8.m1.1a"><mi id="S3.SS1.p2.8.m1.1.1" xref="S3.SS1.p2.8.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m1.1b"><ci id="S3.SS1.p2.8.m1.1.1.cmml" xref="S3.SS1.p2.8.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.8.m1.1d">italic_N</annotation></semantics></math> is the sequence length and this module would be described in detail in section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS4" title="3.4. Long-Short Modality Retriever ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.4</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.3">Once fed with <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><msup id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mi id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">x</mi><mrow id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml"><mi id="S3.SS1.p3.1.m1.1.1.3.2" xref="S3.SS1.p3.1.m1.1.1.3.2.cmml">I</mi><mo id="S3.SS1.p3.1.m1.1.1.3.1" xref="S3.SS1.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p3.1.m1.1.1.3.3" xref="S3.SS1.p3.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">superscript</csymbol><ci id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">𝑥</ci><apply id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3"><times id="S3.SS1.p3.1.m1.1.1.3.1.cmml" xref="S3.SS1.p3.1.m1.1.1.3.1"></times><ci id="S3.SS1.p3.1.m1.1.1.3.2.cmml" xref="S3.SS1.p3.1.m1.1.1.3.2">𝐼</ci><ci id="S3.SS1.p3.1.m1.1.1.3.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="x^{text}" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><msup id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml">x</mi><mrow id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml"><mi id="S3.SS1.p3.2.m2.1.1.3.2" xref="S3.SS1.p3.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p3.2.m2.1.1.3.1" xref="S3.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p3.2.m2.1.1.3.3" xref="S3.SS1.p3.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS1.p3.2.m2.1.1.3.1a" xref="S3.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p3.2.m2.1.1.3.4" xref="S3.SS1.p3.2.m2.1.1.3.4.cmml">x</mi><mo id="S3.SS1.p3.2.m2.1.1.3.1b" xref="S3.SS1.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p3.2.m2.1.1.3.5" xref="S3.SS1.p3.2.m2.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2">𝑥</ci><apply id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3"><times id="S3.SS1.p3.2.m2.1.1.3.1.cmml" xref="S3.SS1.p3.2.m2.1.1.3.1"></times><ci id="S3.SS1.p3.2.m2.1.1.3.2.cmml" xref="S3.SS1.p3.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p3.2.m2.1.1.3.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS1.p3.2.m2.1.1.3.4.cmml" xref="S3.SS1.p3.2.m2.1.1.3.4">𝑥</ci><ci id="S3.SS1.p3.2.m2.1.1.3.5.cmml" xref="S3.SS1.p3.2.m2.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">x^{text}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>, RecLoRA begins its process. Our main predictor for labeling <math alttext="y" class="ltx_Math" display="inline" id="S3.SS1.p3.3.m3.1"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.3.m3.1d">italic_y</annotation></semantics></math> is the LLM</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E8">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E8X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle y" class="ltx_Math" display="inline" id="S3.E8X.2.1.1.m1.1"><semantics id="S3.E8X.2.1.1.m1.1a"><mi id="S3.E8X.2.1.1.m1.1.1" xref="S3.E8X.2.1.1.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.E8X.2.1.1.m1.1b"><ci id="S3.E8X.2.1.1.m1.1.1.cmml" xref="S3.E8X.2.1.1.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.2.1.1.m1.1c">\displaystyle y</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.2.1.1.m1.1d">italic_y</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=LLM(x^{text})." class="ltx_Math" display="inline" id="S3.E8X.3.2.2.m1.1"><semantics id="S3.E8X.3.2.2.m1.1a"><mrow id="S3.E8X.3.2.2.m1.1.1.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E8X.3.2.2.m1.1.1.1.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E8X.3.2.2.m1.1.1.1.1.3" xref="S3.E8X.3.2.2.m1.1.1.1.1.3.cmml"></mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.2" xref="S3.E8X.3.2.2.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E8X.3.2.2.m1.1.1.1.1.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.cmml"><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.3" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.3.cmml">L</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.2" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.4" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.4.cmml">L</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.2a" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.5" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.5.cmml">M</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.2b" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.2" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml">e</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1a" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.4" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.4.cmml">x</mi><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1b" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.5" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.5.cmml">t</mi></mrow></msup><mo id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E8X.3.2.2.m1.1.1.1.2" lspace="0em" xref="S3.E8X.3.2.2.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8X.3.2.2.m1.1b"><apply id="S3.E8X.3.2.2.m1.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.1.1.1"><eq id="S3.E8X.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.2"></eq><csymbol cd="latexml" id="S3.E8X.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.3">absent</csymbol><apply id="S3.E8X.3.2.2.m1.1.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1"><times id="S3.E8X.3.2.2.m1.1.1.1.1.1.2.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.2"></times><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.3.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.3">𝐿</ci><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.4.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.4">𝐿</ci><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.5.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.5">𝑀</ci><apply id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3"><times id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.3">𝑒</ci><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.4">𝑥</ci><ci id="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.5.cmml" xref="S3.E8X.3.2.2.m1.1.1.1.1.1.1.1.1.3.5">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8X.3.2.2.m1.1c">\displaystyle=LLM(x^{text}).</annotation><annotation encoding="application/x-llamapun" id="S3.E8X.3.2.2.m1.1d">= italic_L italic_L italic_M ( italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.5">Thus, we need to fine-tune the pre-trained LLM with the recommendation dataset. To achieve memory efficiency, we choose to use LoRA for parameter-efficient tuning of the LLM, as introduced in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS4" title="2.4. Low-Rank Adaptation of LLMs ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2.4</span></a>. However, instead of using traditional LoRA, we design a Personalized LoRA Module to incorporate user-personalized knowledge. This module can be expressed as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E9">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E9X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle h_{j+1}" class="ltx_Math" display="inline" id="S3.E9X.2.1.1.m1.1"><semantics id="S3.E9X.2.1.1.m1.1a"><msub id="S3.E9X.2.1.1.m1.1.1" xref="S3.E9X.2.1.1.m1.1.1.cmml"><mi id="S3.E9X.2.1.1.m1.1.1.2" xref="S3.E9X.2.1.1.m1.1.1.2.cmml">h</mi><mrow id="S3.E9X.2.1.1.m1.1.1.3" xref="S3.E9X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E9X.2.1.1.m1.1.1.3.2" xref="S3.E9X.2.1.1.m1.1.1.3.2.cmml">j</mi><mo id="S3.E9X.2.1.1.m1.1.1.3.1" xref="S3.E9X.2.1.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.E9X.2.1.1.m1.1.1.3.3" xref="S3.E9X.2.1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.E9X.2.1.1.m1.1b"><apply id="S3.E9X.2.1.1.m1.1.1.cmml" xref="S3.E9X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E9X.2.1.1.m1.1.1.1.cmml" xref="S3.E9X.2.1.1.m1.1.1">subscript</csymbol><ci id="S3.E9X.2.1.1.m1.1.1.2.cmml" xref="S3.E9X.2.1.1.m1.1.1.2">ℎ</ci><apply id="S3.E9X.2.1.1.m1.1.1.3.cmml" xref="S3.E9X.2.1.1.m1.1.1.3"><plus id="S3.E9X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E9X.2.1.1.m1.1.1.3.1"></plus><ci id="S3.E9X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E9X.2.1.1.m1.1.1.3.2">𝑗</ci><cn id="S3.E9X.2.1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.E9X.2.1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9X.2.1.1.m1.1c">\displaystyle h_{j+1}</annotation><annotation encoding="application/x-llamapun" id="S3.E9X.2.1.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=Layer_{j}(h_{j})+LoRA(h_{j})," class="ltx_Math" display="inline" id="S3.E9X.3.2.2.m1.1"><semantics id="S3.E9X.3.2.2.m1.1a"><mrow id="S3.E9X.3.2.2.m1.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E9X.3.2.2.m1.1.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.4" xref="S3.E9X.3.2.2.m1.1.1.1.1.4.cmml"></mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.3.cmml">=</mo><mrow id="S3.E9X.3.2.2.m1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.cmml"><mrow id="S3.E9X.3.2.2.m1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.3.cmml">L</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.4" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.4.cmml">a</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2a" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.5" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.5.cmml">y</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2b" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.6" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.6.cmml">e</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2c" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.2.cmml">r</mi><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.3.cmml">j</mi></msub><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2d" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.2.cmml">h</mi><mi id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.3.cmml">+</mo><mrow id="S3.E9X.3.2.2.m1.1.1.1.1.2.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.3.cmml">L</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.4" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.4.cmml">o</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2a" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.5" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.5.cmml">R</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2b" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2.cmml">⁢</mo><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.6" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.6.cmml">A</mi><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2c" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2.cmml">⁢</mo><mrow id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml"><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.2" stretchy="false" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml">(</mo><msub id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.2.cmml">h</mi><mi id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.3" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.3" stretchy="false" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E9X.3.2.2.m1.1.1.1.2" xref="S3.E9X.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9X.3.2.2.m1.1b"><apply id="S3.E9X.3.2.2.m1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1"><eq id="S3.E9X.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.3"></eq><csymbol cd="latexml" id="S3.E9X.3.2.2.m1.1.1.1.1.4.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.4">absent</csymbol><apply id="S3.E9X.3.2.2.m1.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2"><plus id="S3.E9X.3.2.2.m1.1.1.1.1.2.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.3"></plus><apply id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1"><times id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.2"></times><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.3">𝐿</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.4.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.4">𝑎</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.5.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.5">𝑦</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.6.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.6">𝑒</ci><apply id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7"><csymbol cd="ambiguous" id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7">subscript</csymbol><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.2">𝑟</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.7.3">𝑗</ci></apply><apply id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.2">ℎ</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.1.1.1.1.1.3">𝑗</ci></apply></apply><apply id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2"><times id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.2"></times><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.3">𝐿</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.4.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.4">𝑜</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.5.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.5">𝑅</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.6.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.6">𝐴</ci><apply id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1">subscript</csymbol><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.2">ℎ</ci><ci id="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S3.E9X.3.2.2.m1.1.1.1.1.2.2.1.1.1.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9X.3.2.2.m1.1c">\displaystyle=Layer_{j}(h_{j})+LoRA(h_{j}),</annotation><annotation encoding="application/x-llamapun" id="S3.E9X.3.2.2.m1.1d">= italic_L italic_a italic_y italic_e italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) + italic_L italic_o italic_R italic_A ( italic_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E9Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle h_{j+1}" class="ltx_Math" display="inline" id="S3.E9Xa.2.1.1.m1.1"><semantics id="S3.E9Xa.2.1.1.m1.1a"><msub id="S3.E9Xa.2.1.1.m1.1.1" xref="S3.E9Xa.2.1.1.m1.1.1.cmml"><mi id="S3.E9Xa.2.1.1.m1.1.1.2" xref="S3.E9Xa.2.1.1.m1.1.1.2.cmml">h</mi><mrow id="S3.E9Xa.2.1.1.m1.1.1.3" xref="S3.E9Xa.2.1.1.m1.1.1.3.cmml"><mi id="S3.E9Xa.2.1.1.m1.1.1.3.2" xref="S3.E9Xa.2.1.1.m1.1.1.3.2.cmml">j</mi><mo id="S3.E9Xa.2.1.1.m1.1.1.3.1" xref="S3.E9Xa.2.1.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.E9Xa.2.1.1.m1.1.1.3.3" xref="S3.E9Xa.2.1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.E9Xa.2.1.1.m1.1b"><apply id="S3.E9Xa.2.1.1.m1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E9Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E9Xa.2.1.1.m1.1.1">subscript</csymbol><ci id="S3.E9Xa.2.1.1.m1.1.1.2.cmml" xref="S3.E9Xa.2.1.1.m1.1.1.2">ℎ</ci><apply id="S3.E9Xa.2.1.1.m1.1.1.3.cmml" xref="S3.E9Xa.2.1.1.m1.1.1.3"><plus id="S3.E9Xa.2.1.1.m1.1.1.3.1.cmml" xref="S3.E9Xa.2.1.1.m1.1.1.3.1"></plus><ci id="S3.E9Xa.2.1.1.m1.1.1.3.2.cmml" xref="S3.E9Xa.2.1.1.m1.1.1.3.2">𝑗</ci><cn id="S3.E9Xa.2.1.1.m1.1.1.3.3.cmml" type="integer" xref="S3.E9Xa.2.1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9Xa.2.1.1.m1.1c">\displaystyle h_{j+1}</annotation><annotation encoding="application/x-llamapun" id="S3.E9Xa.2.1.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=Layer_{j}(h_{j})+PLoRA(h_{j},x^{ID})," class="ltx_Math" display="inline" id="S3.E9Xa.3.2.2.m1.1"><semantics id="S3.E9Xa.3.2.2.m1.1a"><mrow id="S3.E9Xa.3.2.2.m1.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.cmml"><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.5" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.5.cmml"></mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.4" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.cmml"><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml">L</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.4" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.4.cmml">a</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2a" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.5" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.5.cmml">y</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2b" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.6" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.6.cmml">e</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2c" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.2.cmml">r</mi><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.3.cmml">j</mi></msub><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2d" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.2.cmml">h</mi><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.4" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.4.cmml">+</mo><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.4" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.4.cmml">P</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.5" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.5.cmml">L</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3a" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.6" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.6.cmml">o</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3b" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.7" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.7.cmml">R</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3c" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.8" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.8.cmml">A</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3d" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml">⁢</mo><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.3.cmml"><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.3" stretchy="false" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.3.cmml">(</mo><msub id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.2.cmml">h</mi><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.4" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.3.cmml">,</mo><msup id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.2.cmml">x</mi><mrow id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.cmml"><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.2.cmml">I</mi><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.1" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.3" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.3.cmml">D</mi></mrow></msup><mo id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.5" stretchy="false" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E9Xa.3.2.2.m1.1.1.1.2" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9Xa.3.2.2.m1.1b"><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1"><eq id="S3.E9Xa.3.2.2.m1.1.1.1.1.4.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.4"></eq><csymbol cd="latexml" id="S3.E9Xa.3.2.2.m1.1.1.1.1.5.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.5">absent</csymbol><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3"><plus id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.4.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.4"></plus><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1"><times id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.2"></times><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.3">𝐿</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.4.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.4">𝑎</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.5.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.5">𝑦</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.6.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.6">𝑒</ci><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7"><csymbol cd="ambiguous" id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7">subscript</csymbol><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.2">𝑟</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.7.3">𝑗</ci></apply><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.2">ℎ</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.1.1.1.1.1.3">𝑗</ci></apply></apply><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3"><times id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.3"></times><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.4.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.4">𝑃</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.5.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.5">𝐿</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.6.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.6">𝑜</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.7.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.7">𝑅</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.8.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.8">𝐴</ci><interval closure="open" id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2"><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.2">ℎ</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.2.2.1.1.1.3">𝑗</ci></apply><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2">superscript</csymbol><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.2">𝑥</ci><apply id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3"><times id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.1.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.1"></times><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.2.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.2">𝐼</ci><ci id="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.3.cmml" xref="S3.E9Xa.3.2.2.m1.1.1.1.1.3.3.2.2.2.3.3">𝐷</ci></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9Xa.3.2.2.m1.1c">\displaystyle=Layer_{j}(h_{j})+PLoRA(h_{j},x^{ID}),</annotation><annotation encoding="application/x-llamapun" id="S3.E9Xa.3.2.2.m1.1d">= italic_L italic_a italic_y italic_e italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ( italic_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) + italic_P italic_L italic_o italic_R italic_A ( italic_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS1.p4.4">where <math alttext="Layer_{j}" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><mrow id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mi id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">L</mi><mo id="S3.SS1.p4.1.m1.1.1.1" xref="S3.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">a</mi><mo id="S3.SS1.p4.1.m1.1.1.1a" xref="S3.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p4.1.m1.1.1.4" xref="S3.SS1.p4.1.m1.1.1.4.cmml">y</mi><mo id="S3.SS1.p4.1.m1.1.1.1b" xref="S3.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p4.1.m1.1.1.5" xref="S3.SS1.p4.1.m1.1.1.5.cmml">e</mi><mo id="S3.SS1.p4.1.m1.1.1.1c" xref="S3.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><msub id="S3.SS1.p4.1.m1.1.1.6" xref="S3.SS1.p4.1.m1.1.1.6.cmml"><mi id="S3.SS1.p4.1.m1.1.1.6.2" xref="S3.SS1.p4.1.m1.1.1.6.2.cmml">r</mi><mi id="S3.SS1.p4.1.m1.1.1.6.3" xref="S3.SS1.p4.1.m1.1.1.6.3.cmml">j</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><times id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1.1"></times><ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">𝐿</ci><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝑎</ci><ci id="S3.SS1.p4.1.m1.1.1.4.cmml" xref="S3.SS1.p4.1.m1.1.1.4">𝑦</ci><ci id="S3.SS1.p4.1.m1.1.1.5.cmml" xref="S3.SS1.p4.1.m1.1.1.5">𝑒</ci><apply id="S3.SS1.p4.1.m1.1.1.6.cmml" xref="S3.SS1.p4.1.m1.1.1.6"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.6.1.cmml" xref="S3.SS1.p4.1.m1.1.1.6">subscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.6.2.cmml" xref="S3.SS1.p4.1.m1.1.1.6.2">𝑟</ci><ci id="S3.SS1.p4.1.m1.1.1.6.3.cmml" xref="S3.SS1.p4.1.m1.1.1.6.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">Layer_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">italic_L italic_a italic_y italic_e italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is the <math alttext="j_{th}" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><msub id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml"><mi id="S3.SS1.p4.2.m2.1.1.2" xref="S3.SS1.p4.2.m2.1.1.2.cmml">j</mi><mrow id="S3.SS1.p4.2.m2.1.1.3" xref="S3.SS1.p4.2.m2.1.1.3.cmml"><mi id="S3.SS1.p4.2.m2.1.1.3.2" xref="S3.SS1.p4.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p4.2.m2.1.1.3.1" xref="S3.SS1.p4.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p4.2.m2.1.1.3.3" xref="S3.SS1.p4.2.m2.1.1.3.3.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><apply id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p4.2.m2.1.1.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2">𝑗</ci><apply id="S3.SS1.p4.2.m2.1.1.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3"><times id="S3.SS1.p4.2.m2.1.1.3.1.cmml" xref="S3.SS1.p4.2.m2.1.1.3.1"></times><ci id="S3.SS1.p4.2.m2.1.1.3.2.cmml" xref="S3.SS1.p4.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS1.p4.2.m2.1.1.3.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">j_{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_j start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT</annotation></semantics></math> layer of LLM, and PLoRA is our module, which takes the hidden states from the <math alttext="j_{th}" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.1"><semantics id="S3.SS1.p4.3.m3.1a"><msub id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml"><mi id="S3.SS1.p4.3.m3.1.1.2" xref="S3.SS1.p4.3.m3.1.1.2.cmml">j</mi><mrow id="S3.SS1.p4.3.m3.1.1.3" xref="S3.SS1.p4.3.m3.1.1.3.cmml"><mi id="S3.SS1.p4.3.m3.1.1.3.2" xref="S3.SS1.p4.3.m3.1.1.3.2.cmml">t</mi><mo id="S3.SS1.p4.3.m3.1.1.3.1" xref="S3.SS1.p4.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p4.3.m3.1.1.3.3" xref="S3.SS1.p4.3.m3.1.1.3.3.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><apply id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p4.3.m3.1.1.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2">𝑗</ci><apply id="S3.SS1.p4.3.m3.1.1.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3"><times id="S3.SS1.p4.3.m3.1.1.3.1.cmml" xref="S3.SS1.p4.3.m3.1.1.3.1"></times><ci id="S3.SS1.p4.3.m3.1.1.3.2.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2">𝑡</ci><ci id="S3.SS1.p4.3.m3.1.1.3.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">j_{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.3.m3.1d">italic_j start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT</annotation></semantics></math> layer along with <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS1.p4.4.m4.1"><semantics id="S3.SS1.p4.4.m4.1a"><msup id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml"><mi id="S3.SS1.p4.4.m4.1.1.2" xref="S3.SS1.p4.4.m4.1.1.2.cmml">x</mi><mrow id="S3.SS1.p4.4.m4.1.1.3" xref="S3.SS1.p4.4.m4.1.1.3.cmml"><mi id="S3.SS1.p4.4.m4.1.1.3.2" xref="S3.SS1.p4.4.m4.1.1.3.2.cmml">I</mi><mo id="S3.SS1.p4.4.m4.1.1.3.1" xref="S3.SS1.p4.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p4.4.m4.1.1.3.3" xref="S3.SS1.p4.4.m4.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><apply id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.1.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">superscript</csymbol><ci id="S3.SS1.p4.4.m4.1.1.2.cmml" xref="S3.SS1.p4.4.m4.1.1.2">𝑥</ci><apply id="S3.SS1.p4.4.m4.1.1.3.cmml" xref="S3.SS1.p4.4.m4.1.1.3"><times id="S3.SS1.p4.4.m4.1.1.3.1.cmml" xref="S3.SS1.p4.4.m4.1.1.3.1"></times><ci id="S3.SS1.p4.4.m4.1.1.3.2.cmml" xref="S3.SS1.p4.4.m4.1.1.3.2">𝐼</ci><ci id="S3.SS1.p4.4.m4.1.1.3.3.cmml" xref="S3.SS1.p4.4.m4.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.4.m4.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> as inputs and outputs the personalized representation. The details of PLoRA will be provided in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS2" title="3.2. Personalized Low-Rank Adaption ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Personalized Low-Rank Adaption</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.2">Intuitively, the most straightforward way for personalized low-rank adaptation is to maintain independent LoRA weights <math alttext="(A_{u},B_{u})" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.2"><semantics id="S3.SS2.p1.1.m1.2a"><mrow id="S3.SS2.p1.1.m1.2.2.2" xref="S3.SS2.p1.1.m1.2.2.3.cmml"><mo id="S3.SS2.p1.1.m1.2.2.2.3" stretchy="false" xref="S3.SS2.p1.1.m1.2.2.3.cmml">(</mo><msub id="S3.SS2.p1.1.m1.1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.1.1.2.cmml">A</mi><mi id="S3.SS2.p1.1.m1.1.1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS2.p1.1.m1.2.2.2.4" xref="S3.SS2.p1.1.m1.2.2.3.cmml">,</mo><msub id="S3.SS2.p1.1.m1.2.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.2.cmml"><mi id="S3.SS2.p1.1.m1.2.2.2.2.2" xref="S3.SS2.p1.1.m1.2.2.2.2.2.cmml">B</mi><mi id="S3.SS2.p1.1.m1.2.2.2.2.3" xref="S3.SS2.p1.1.m1.2.2.2.2.3.cmml">u</mi></msub><mo id="S3.SS2.p1.1.m1.2.2.2.5" stretchy="false" xref="S3.SS2.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.2b"><interval closure="open" id="S3.SS2.p1.1.m1.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.2"><apply id="S3.SS2.p1.1.m1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.2">𝐴</ci><ci id="S3.SS2.p1.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.1.1.3">𝑢</ci></apply><apply id="S3.SS2.p1.1.m1.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.2.2.2.2.1.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p1.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.2">𝐵</ci><ci id="S3.SS2.p1.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.p1.1.m1.2.2.2.2.3">𝑢</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.2c">(A_{u},B_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.2d">( italic_A start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_B start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> for each user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_u</annotation></semantics></math> separately, <em class="ltx_emph ltx_font_italic" id="S3.SS2.p1.2.1">i.e.</em>,</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Y^{\prime}_{u}=XW+XA_{u}B_{u}^{T},\;\forall u\in\mathcal{U}." class="ltx_Math" display="block" id="S3.E10.m1.1"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.1.1"><mrow id="S3.E10.m1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.3.cmml"><mrow id="S3.E10.m1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.cmml"><msubsup id="S3.E10.m1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.2.2.2" xref="S3.E10.m1.1.1.1.1.1.1.2.2.2.cmml">Y</mi><mi id="S3.E10.m1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.1.1.2.3.cmml">u</mi><mo id="S3.E10.m1.1.1.1.1.1.1.2.2.3" xref="S3.E10.m1.1.1.1.1.1.1.2.2.3.cmml">′</mo></msubsup><mo id="S3.E10.m1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.3.cmml"><mrow id="S3.E10.m1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.2.2" xref="S3.E10.m1.1.1.1.1.1.1.3.2.2.cmml">X</mi><mo id="S3.E10.m1.1.1.1.1.1.1.3.2.1" xref="S3.E10.m1.1.1.1.1.1.1.3.2.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.3.2.3" xref="S3.E10.m1.1.1.1.1.1.1.3.2.3.cmml">W</mi></mrow><mo id="S3.E10.m1.1.1.1.1.1.1.3.1" xref="S3.E10.m1.1.1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.2" xref="S3.E10.m1.1.1.1.1.1.1.3.3.2.cmml">X</mi><mo id="S3.E10.m1.1.1.1.1.1.1.3.3.1" xref="S3.E10.m1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><msub id="S3.E10.m1.1.1.1.1.1.1.3.3.3" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.3.2" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3.2.cmml">A</mi><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.3.3" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="S3.E10.m1.1.1.1.1.1.1.3.3.1a" xref="S3.E10.m1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><msubsup id="S3.E10.m1.1.1.1.1.1.1.3.3.4" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.2" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.2.cmml">B</mi><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.3" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.3.cmml">u</mi><mi id="S3.E10.m1.1.1.1.1.1.1.3.3.4.3" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.3.cmml">T</mi></msubsup></mrow></mrow></mrow><mo id="S3.E10.m1.1.1.1.1.2.3" rspace="0.447em" xref="S3.E10.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E10.m1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.2.2.cmml"><mrow id="S3.E10.m1.1.1.1.1.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.cmml"><mo id="S3.E10.m1.1.1.1.1.2.2.2.1" rspace="0.167em" xref="S3.E10.m1.1.1.1.1.2.2.2.1.cmml">∀</mo><mi id="S3.E10.m1.1.1.1.1.2.2.2.2" xref="S3.E10.m1.1.1.1.1.2.2.2.2.cmml">u</mi></mrow><mo id="S3.E10.m1.1.1.1.1.2.2.1" xref="S3.E10.m1.1.1.1.1.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.2.2.3" xref="S3.E10.m1.1.1.1.1.2.2.3.cmml">𝒰</mi></mrow></mrow><mo id="S3.E10.m1.1.1.1.2" lspace="0em">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.3a.cmml" xref="S3.E10.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E10.m1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1"><eq id="S3.E10.m1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1"></eq><apply id="S3.E10.m1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E10.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2.2.2">𝑌</ci><ci id="S3.E10.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2.2.3">′</ci></apply><ci id="S3.E10.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.2.3">𝑢</ci></apply><apply id="S3.E10.m1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3"><plus id="S3.E10.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.1"></plus><apply id="S3.E10.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2"><times id="S3.E10.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.1"></times><ci id="S3.E10.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.2">𝑋</ci><ci id="S3.E10.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.2.3">𝑊</ci></apply><apply id="S3.E10.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3"><times id="S3.E10.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.2">𝑋</ci><apply id="S3.E10.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3.2">𝐴</ci><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.3.3">𝑢</ci></apply><apply id="S3.E10.m1.1.1.1.1.1.1.3.3.4.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.3.3.4.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4">superscript</csymbol><apply id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.2">𝐵</ci><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.2.3">𝑢</ci></apply><ci id="S3.E10.m1.1.1.1.1.1.1.3.3.4.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.3.3.4.3">𝑇</ci></apply></apply></apply></apply><apply id="S3.E10.m1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2"><in id="S3.E10.m1.1.1.1.1.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.1"></in><apply id="S3.E10.m1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2"><csymbol cd="latexml" id="S3.E10.m1.1.1.1.1.2.2.2.1.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.1">for-all</csymbol><ci id="S3.E10.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E10.m1.1.1.1.1.2.2.2.2">𝑢</ci></apply><ci id="S3.E10.m1.1.1.1.1.2.2.3.cmml" xref="S3.E10.m1.1.1.1.1.2.2.3">𝒰</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">Y^{\prime}_{u}=XW+XA_{u}B_{u}^{T},\;\forall u\in\mathcal{U}.</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.1d">italic_Y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = italic_X italic_W + italic_X italic_A start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_B start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT , ∀ italic_u ∈ caligraphic_U .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.3">However, this approach is non-scalable, as its model complexity grows linearly with the number of users, leading to a tremendous amount of memory consumption.
Moreover, it overlooks the overlap and commonality among behavior patterns of different users, which can lead to suboptimal performances.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.2">Hence, to balance user-specific individual preference and inter-user pattern commonalities, we propose a Personalized LoRA Module.
Specifically, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.F3" title="Figure 3 ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>, we maintain a set of meta-LoRA weights <math alttext="\{(A_{k},B_{k})\}_{k=1}^{N_{m}}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><msubsup id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mrow id="S3.SS2.p2.1.m1.1.1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.1.2.cmml"><mo id="S3.SS2.p2.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p2.1.m1.1.1.1.1.2.cmml">{</mo><mrow id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.3.cmml"><mo id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.3" stretchy="false" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.2.cmml">A</mi><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.4" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.2.cmml">B</mi><mi id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.3" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.5" stretchy="false" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS2.p2.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p2.1.m1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS2.p2.1.m1.1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.1.3.cmml"><mi id="S3.SS2.p2.1.m1.1.1.1.3.2" xref="S3.SS2.p2.1.m1.1.1.1.3.2.cmml">k</mi><mo id="S3.SS2.p2.1.m1.1.1.1.3.1" xref="S3.SS2.p2.1.m1.1.1.1.3.1.cmml">=</mo><mn id="S3.SS2.p2.1.m1.1.1.1.3.3" xref="S3.SS2.p2.1.m1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml"><mi id="S3.SS2.p2.1.m1.1.1.3.2" xref="S3.SS2.p2.1.m1.1.1.3.2.cmml">N</mi><mi id="S3.SS2.p2.1.m1.1.1.3.3" xref="S3.SS2.p2.1.m1.1.1.3.3.cmml">m</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1">superscript</csymbol><apply id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><set id="S3.SS2.p2.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1"><interval closure="open" id="S3.SS2.p2.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2"><apply id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.2">𝐴</ci><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.2">𝐵</ci><ci id="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.1.1.1.2.2.3">𝑘</ci></apply></interval></set><apply id="S3.SS2.p2.1.m1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.1.3"><eq id="S3.SS2.p2.1.m1.1.1.1.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1.3.1"></eq><ci id="S3.SS2.p2.1.m1.1.1.1.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.1.3.2">𝑘</ci><cn id="S3.SS2.p2.1.m1.1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p2.1.m1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.3.1.cmml" xref="S3.SS2.p2.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.3.2.cmml" xref="S3.SS2.p2.1.m1.1.1.3.2">𝑁</ci><ci id="S3.SS2.p2.1.m1.1.1.3.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\{(A_{k},B_{k})\}_{k=1}^{N_{m}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">{ ( italic_A start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_B start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, which are designed to capture the diverse user behavior patterns.
Each meta-LoRA weight <math alttext="(A_{k},B_{k})" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.2"><semantics id="S3.SS2.p2.2.m2.2a"><mrow id="S3.SS2.p2.2.m2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.3.cmml"><mo id="S3.SS2.p2.2.m2.2.2.2.3" stretchy="false" xref="S3.SS2.p2.2.m2.2.2.3.cmml">(</mo><msub id="S3.SS2.p2.2.m2.1.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.1.1.2" xref="S3.SS2.p2.2.m2.1.1.1.1.2.cmml">A</mi><mi id="S3.SS2.p2.2.m2.1.1.1.1.3" xref="S3.SS2.p2.2.m2.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS2.p2.2.m2.2.2.2.4" xref="S3.SS2.p2.2.m2.2.2.3.cmml">,</mo><msub id="S3.SS2.p2.2.m2.2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.2.2.cmml"><mi id="S3.SS2.p2.2.m2.2.2.2.2.2" xref="S3.SS2.p2.2.m2.2.2.2.2.2.cmml">B</mi><mi id="S3.SS2.p2.2.m2.2.2.2.2.3" xref="S3.SS2.p2.2.m2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS2.p2.2.m2.2.2.2.5" stretchy="false" xref="S3.SS2.p2.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.2b"><interval closure="open" id="S3.SS2.p2.2.m2.2.2.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2"><apply id="S3.SS2.p2.2.m2.1.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.2">𝐴</ci><ci id="S3.SS2.p2.2.m2.1.1.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS2.p2.2.m2.2.2.2.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.2.2.2.2.1.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p2.2.m2.2.2.2.2.2.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.2">𝐵</ci><ci id="S3.SS2.p2.2.m2.2.2.2.2.3.cmml" xref="S3.SS2.p2.2.m2.2.2.2.2.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.2c">(A_{k},B_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.2d">( italic_A start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_B start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> can be regarded as a latent subspace to boost the expressiveness and capacity.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.3">Then, we can obtain the personalized LoRA weights by combining them with a trainable gating network as</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="A_{p}B_{p}^{T}=\sum_{k=1}^{N_{m}}\alpha_{k}~{}A_{k}B_{k}^{T}," class="ltx_Math" display="block" id="S3.E11.m1.1"><semantics id="S3.E11.m1.1a"><mrow id="S3.E11.m1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml"><mrow id="S3.E11.m1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.cmml"><mrow id="S3.E11.m1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.2.cmml"><msub id="S3.E11.m1.1.1.1.1.2.2" xref="S3.E11.m1.1.1.1.1.2.2.cmml"><mi id="S3.E11.m1.1.1.1.1.2.2.2" xref="S3.E11.m1.1.1.1.1.2.2.2.cmml">A</mi><mi id="S3.E11.m1.1.1.1.1.2.2.3" xref="S3.E11.m1.1.1.1.1.2.2.3.cmml">p</mi></msub><mo id="S3.E11.m1.1.1.1.1.2.1" xref="S3.E11.m1.1.1.1.1.2.1.cmml">⁢</mo><msubsup id="S3.E11.m1.1.1.1.1.2.3" xref="S3.E11.m1.1.1.1.1.2.3.cmml"><mi id="S3.E11.m1.1.1.1.1.2.3.2.2" xref="S3.E11.m1.1.1.1.1.2.3.2.2.cmml">B</mi><mi id="S3.E11.m1.1.1.1.1.2.3.2.3" xref="S3.E11.m1.1.1.1.1.2.3.2.3.cmml">p</mi><mi id="S3.E11.m1.1.1.1.1.2.3.3" xref="S3.E11.m1.1.1.1.1.2.3.3.cmml">T</mi></msubsup></mrow><mo id="S3.E11.m1.1.1.1.1.1" rspace="0.111em" xref="S3.E11.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E11.m1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.3.cmml"><munderover id="S3.E11.m1.1.1.1.1.3.1" xref="S3.E11.m1.1.1.1.1.3.1.cmml"><mo id="S3.E11.m1.1.1.1.1.3.1.2.2" movablelimits="false" xref="S3.E11.m1.1.1.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E11.m1.1.1.1.1.3.1.2.3" xref="S3.E11.m1.1.1.1.1.3.1.2.3.cmml"><mi id="S3.E11.m1.1.1.1.1.3.1.2.3.2" xref="S3.E11.m1.1.1.1.1.3.1.2.3.2.cmml">k</mi><mo id="S3.E11.m1.1.1.1.1.3.1.2.3.1" xref="S3.E11.m1.1.1.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E11.m1.1.1.1.1.3.1.2.3.3" xref="S3.E11.m1.1.1.1.1.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E11.m1.1.1.1.1.3.1.3" xref="S3.E11.m1.1.1.1.1.3.1.3.cmml"><mi id="S3.E11.m1.1.1.1.1.3.1.3.2" xref="S3.E11.m1.1.1.1.1.3.1.3.2.cmml">N</mi><mi id="S3.E11.m1.1.1.1.1.3.1.3.3" xref="S3.E11.m1.1.1.1.1.3.1.3.3.cmml">m</mi></msub></munderover><mrow id="S3.E11.m1.1.1.1.1.3.2" xref="S3.E11.m1.1.1.1.1.3.2.cmml"><msub id="S3.E11.m1.1.1.1.1.3.2.2" xref="S3.E11.m1.1.1.1.1.3.2.2.cmml"><mi id="S3.E11.m1.1.1.1.1.3.2.2.2" xref="S3.E11.m1.1.1.1.1.3.2.2.2.cmml">α</mi><mi id="S3.E11.m1.1.1.1.1.3.2.2.3" xref="S3.E11.m1.1.1.1.1.3.2.2.3.cmml">k</mi></msub><mo id="S3.E11.m1.1.1.1.1.3.2.1" xref="S3.E11.m1.1.1.1.1.3.2.1.cmml">⁢</mo><msub id="S3.E11.m1.1.1.1.1.3.2.3" xref="S3.E11.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E11.m1.1.1.1.1.3.2.3.2" xref="S3.E11.m1.1.1.1.1.3.2.3.2.cmml">A</mi><mi id="S3.E11.m1.1.1.1.1.3.2.3.3" xref="S3.E11.m1.1.1.1.1.3.2.3.3.cmml">k</mi></msub><mo id="S3.E11.m1.1.1.1.1.3.2.1a" xref="S3.E11.m1.1.1.1.1.3.2.1.cmml">⁢</mo><msubsup id="S3.E11.m1.1.1.1.1.3.2.4" xref="S3.E11.m1.1.1.1.1.3.2.4.cmml"><mi id="S3.E11.m1.1.1.1.1.3.2.4.2.2" xref="S3.E11.m1.1.1.1.1.3.2.4.2.2.cmml">B</mi><mi id="S3.E11.m1.1.1.1.1.3.2.4.2.3" xref="S3.E11.m1.1.1.1.1.3.2.4.2.3.cmml">k</mi><mi id="S3.E11.m1.1.1.1.1.3.2.4.3" xref="S3.E11.m1.1.1.1.1.3.2.4.3.cmml">T</mi></msubsup></mrow></mrow></mrow><mo id="S3.E11.m1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.1b"><apply id="S3.E11.m1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1"><eq id="S3.E11.m1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1"></eq><apply id="S3.E11.m1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.2"><times id="S3.E11.m1.1.1.1.1.2.1.cmml" xref="S3.E11.m1.1.1.1.1.2.1"></times><apply id="S3.E11.m1.1.1.1.1.2.2.cmml" xref="S3.E11.m1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.2.2.1.cmml" xref="S3.E11.m1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.2.2.2.cmml" xref="S3.E11.m1.1.1.1.1.2.2.2">𝐴</ci><ci id="S3.E11.m1.1.1.1.1.2.2.3.cmml" xref="S3.E11.m1.1.1.1.1.2.2.3">𝑝</ci></apply><apply id="S3.E11.m1.1.1.1.1.2.3.cmml" xref="S3.E11.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.2.3.1.cmml" xref="S3.E11.m1.1.1.1.1.2.3">superscript</csymbol><apply id="S3.E11.m1.1.1.1.1.2.3.2.cmml" xref="S3.E11.m1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.2.3.2.1.cmml" xref="S3.E11.m1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.2.3.2.2.cmml" xref="S3.E11.m1.1.1.1.1.2.3.2.2">𝐵</ci><ci id="S3.E11.m1.1.1.1.1.2.3.2.3.cmml" xref="S3.E11.m1.1.1.1.1.2.3.2.3">𝑝</ci></apply><ci id="S3.E11.m1.1.1.1.1.2.3.3.cmml" xref="S3.E11.m1.1.1.1.1.2.3.3">𝑇</ci></apply></apply><apply id="S3.E11.m1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.3"><apply id="S3.E11.m1.1.1.1.1.3.1.cmml" xref="S3.E11.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.1.1.cmml" xref="S3.E11.m1.1.1.1.1.3.1">superscript</csymbol><apply id="S3.E11.m1.1.1.1.1.3.1.2.cmml" xref="S3.E11.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.1.2.1.cmml" xref="S3.E11.m1.1.1.1.1.3.1">subscript</csymbol><sum id="S3.E11.m1.1.1.1.1.3.1.2.2.cmml" xref="S3.E11.m1.1.1.1.1.3.1.2.2"></sum><apply id="S3.E11.m1.1.1.1.1.3.1.2.3.cmml" xref="S3.E11.m1.1.1.1.1.3.1.2.3"><eq id="S3.E11.m1.1.1.1.1.3.1.2.3.1.cmml" xref="S3.E11.m1.1.1.1.1.3.1.2.3.1"></eq><ci id="S3.E11.m1.1.1.1.1.3.1.2.3.2.cmml" xref="S3.E11.m1.1.1.1.1.3.1.2.3.2">𝑘</ci><cn id="S3.E11.m1.1.1.1.1.3.1.2.3.3.cmml" type="integer" xref="S3.E11.m1.1.1.1.1.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E11.m1.1.1.1.1.3.1.3.cmml" xref="S3.E11.m1.1.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.1.3.1.cmml" xref="S3.E11.m1.1.1.1.1.3.1.3">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.3.1.3.2.cmml" xref="S3.E11.m1.1.1.1.1.3.1.3.2">𝑁</ci><ci id="S3.E11.m1.1.1.1.1.3.1.3.3.cmml" xref="S3.E11.m1.1.1.1.1.3.1.3.3">𝑚</ci></apply></apply><apply id="S3.E11.m1.1.1.1.1.3.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2"><times id="S3.E11.m1.1.1.1.1.3.2.1.cmml" xref="S3.E11.m1.1.1.1.1.3.2.1"></times><apply id="S3.E11.m1.1.1.1.1.3.2.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.2.2.1.cmml" xref="S3.E11.m1.1.1.1.1.3.2.2">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.3.2.2.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2.2.2">𝛼</ci><ci id="S3.E11.m1.1.1.1.1.3.2.2.3.cmml" xref="S3.E11.m1.1.1.1.1.3.2.2.3">𝑘</ci></apply><apply id="S3.E11.m1.1.1.1.1.3.2.3.cmml" xref="S3.E11.m1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E11.m1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2.3.2">𝐴</ci><ci id="S3.E11.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E11.m1.1.1.1.1.3.2.3.3">𝑘</ci></apply><apply id="S3.E11.m1.1.1.1.1.3.2.4.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.2.4.1.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4">superscript</csymbol><apply id="S3.E11.m1.1.1.1.1.3.2.4.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.3.2.4.2.1.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.3.2.4.2.2.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4.2.2">𝐵</ci><ci id="S3.E11.m1.1.1.1.1.3.2.4.2.3.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4.2.3">𝑘</ci></apply><ci id="S3.E11.m1.1.1.1.1.3.2.4.3.cmml" xref="S3.E11.m1.1.1.1.1.3.2.4.3">𝑇</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.1c">A_{p}B_{p}^{T}=\sum_{k=1}^{N_{m}}\alpha_{k}~{}A_{k}B_{k}^{T},</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m1.1d">italic_A start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT italic_B start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT = ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_α start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT italic_A start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT italic_B start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.2">where <math alttext="A_{p},B_{p}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.2"><semantics id="S3.SS2.p3.1.m1.2a"><mrow id="S3.SS2.p3.1.m1.2.2.2" xref="S3.SS2.p3.1.m1.2.2.3.cmml"><msub id="S3.SS2.p3.1.m1.1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.1.1.2.cmml">A</mi><mi id="S3.SS2.p3.1.m1.1.1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.SS2.p3.1.m1.2.2.2.3" xref="S3.SS2.p3.1.m1.2.2.3.cmml">,</mo><msub id="S3.SS2.p3.1.m1.2.2.2.2" xref="S3.SS2.p3.1.m1.2.2.2.2.cmml"><mi id="S3.SS2.p3.1.m1.2.2.2.2.2" xref="S3.SS2.p3.1.m1.2.2.2.2.2.cmml">B</mi><mi id="S3.SS2.p3.1.m1.2.2.2.2.3" xref="S3.SS2.p3.1.m1.2.2.2.2.3.cmml">p</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.2b"><list id="S3.SS2.p3.1.m1.2.2.3.cmml" xref="S3.SS2.p3.1.m1.2.2.2"><apply id="S3.SS2.p3.1.m1.1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1.2">𝐴</ci><ci id="S3.SS2.p3.1.m1.1.1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.1.1.3">𝑝</ci></apply><apply id="S3.SS2.p3.1.m1.2.2.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.2.2.2.2.1.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2.2">𝐵</ci><ci id="S3.SS2.p3.1.m1.2.2.2.2.3.cmml" xref="S3.SS2.p3.1.m1.2.2.2.2.3">𝑝</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.2c">A_{p},B_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.2d">italic_A start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_B start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> are the final personalized LoRA matrices, and <math alttext="N_{m}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">N</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑁</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> is the number of meta-LoRA weights.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.3">In this equation, the <math alttext="k_{th}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">k</mi><mrow id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p4.1.m1.1.1.3.1" xref="S3.SS2.p4.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝑘</ci><apply id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3"><times id="S3.SS2.p4.1.m1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.1"></times><ci id="S3.SS2.p4.1.m1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2">𝑡</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">k_{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_k start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT</annotation></semantics></math> gating weight <math alttext="\alpha_{k}" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.1"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">α</mi><mi id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝛼</ci><ci id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">\alpha_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.1d">italic_α start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> represents the importance and relevance of the current user and the <math alttext="k_{th}" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m3.1"><semantics id="S3.SS2.p4.3.m3.1a"><msub id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml"><mi id="S3.SS2.p4.3.m3.1.1.2" xref="S3.SS2.p4.3.m3.1.1.2.cmml">k</mi><mrow id="S3.SS2.p4.3.m3.1.1.3" xref="S3.SS2.p4.3.m3.1.1.3.cmml"><mi id="S3.SS2.p4.3.m3.1.1.3.2" xref="S3.SS2.p4.3.m3.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p4.3.m3.1.1.3.1" xref="S3.SS2.p4.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p4.3.m3.1.1.3.3" xref="S3.SS2.p4.3.m3.1.1.3.3.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><apply id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.1.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.1.1.2.cmml" xref="S3.SS2.p4.3.m3.1.1.2">𝑘</ci><apply id="S3.SS2.p4.3.m3.1.1.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3"><times id="S3.SS2.p4.3.m3.1.1.3.1.cmml" xref="S3.SS2.p4.3.m3.1.1.3.1"></times><ci id="S3.SS2.p4.3.m3.1.1.3.2.cmml" xref="S3.SS2.p4.3.m3.1.1.3.2">𝑡</ci><ci id="S3.SS2.p4.3.m3.1.1.3.3.cmml" xref="S3.SS2.p4.3.m3.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">k_{th}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m3.1d">italic_k start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT</annotation></semantics></math> LoRA weight, acting as an indicator for personalization. Thus, to capture the complicated correlations and achieve personalized aggregation of the meta-LoRA weights, we introduce the conventional recommendation model (CRM) to provide personalized representations for the gating network. CRM takes inputs of discrete ID and generates hidden states as personalized representations.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(12)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R_{c}=CRM(x^{ID})," class="ltx_Math" display="block" id="S3.E12.m1.1"><semantics id="S3.E12.m1.1a"><mrow id="S3.E12.m1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><mrow id="S3.E12.m1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><msub id="S3.E12.m1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.1.1.1.1.3.2" xref="S3.E12.m1.1.1.1.1.3.2.cmml">R</mi><mi id="S3.E12.m1.1.1.1.1.3.3" xref="S3.E12.m1.1.1.1.1.3.3.cmml">c</mi></msub><mo id="S3.E12.m1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E12.m1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.3.cmml">C</mi><mo id="S3.E12.m1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E12.m1.1.1.1.1.1.4" xref="S3.E12.m1.1.1.1.1.1.4.cmml">R</mi><mo id="S3.E12.m1.1.1.1.1.1.2a" xref="S3.E12.m1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S3.E12.m1.1.1.1.1.1.5" xref="S3.E12.m1.1.1.1.1.1.5.cmml">M</mi><mo id="S3.E12.m1.1.1.1.1.1.2b" xref="S3.E12.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E12.m1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E12.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S3.E12.m1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E12.m1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S3.E12.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E12.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msup><mo id="S3.E12.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E12.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E12.m1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.1b"><apply id="S3.E12.m1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1"><eq id="S3.E12.m1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.2"></eq><apply id="S3.E12.m1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.2">𝑅</ci><ci id="S3.E12.m1.1.1.1.1.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.3">𝑐</ci></apply><apply id="S3.E12.m1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1"><times id="S3.E12.m1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.2"></times><ci id="S3.E12.m1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.3">𝐶</ci><ci id="S3.E12.m1.1.1.1.1.1.4.cmml" xref="S3.E12.m1.1.1.1.1.1.4">𝑅</ci><ci id="S3.E12.m1.1.1.1.1.1.5.cmml" xref="S3.E12.m1.1.1.1.1.1.5">𝑀</ci><apply id="S3.E12.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="S3.E12.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3"><times id="S3.E12.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S3.E12.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E12.m1.1.1.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.1c">R_{c}=CRM(x^{ID}),</annotation><annotation encoding="application/x-llamapun" id="S3.E12.m1.1d">italic_R start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT = italic_C italic_R italic_M ( italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p4.4">where <math alttext="R_{c}\in\mathbb{R}^{n\times d_{c}}" class="ltx_Math" display="inline" id="S3.SS2.p4.4.m1.1"><semantics id="S3.SS2.p4.4.m1.1a"><mrow id="S3.SS2.p4.4.m1.1.1" xref="S3.SS2.p4.4.m1.1.1.cmml"><msub id="S3.SS2.p4.4.m1.1.1.2" xref="S3.SS2.p4.4.m1.1.1.2.cmml"><mi id="S3.SS2.p4.4.m1.1.1.2.2" xref="S3.SS2.p4.4.m1.1.1.2.2.cmml">R</mi><mi id="S3.SS2.p4.4.m1.1.1.2.3" xref="S3.SS2.p4.4.m1.1.1.2.3.cmml">c</mi></msub><mo id="S3.SS2.p4.4.m1.1.1.1" xref="S3.SS2.p4.4.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p4.4.m1.1.1.3" xref="S3.SS2.p4.4.m1.1.1.3.cmml"><mi id="S3.SS2.p4.4.m1.1.1.3.2" xref="S3.SS2.p4.4.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p4.4.m1.1.1.3.3" xref="S3.SS2.p4.4.m1.1.1.3.3.cmml"><mi id="S3.SS2.p4.4.m1.1.1.3.3.2" xref="S3.SS2.p4.4.m1.1.1.3.3.2.cmml">n</mi><mo id="S3.SS2.p4.4.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p4.4.m1.1.1.3.3.1.cmml">×</mo><msub id="S3.SS2.p4.4.m1.1.1.3.3.3" xref="S3.SS2.p4.4.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p4.4.m1.1.1.3.3.3.2" xref="S3.SS2.p4.4.m1.1.1.3.3.3.2.cmml">d</mi><mi id="S3.SS2.p4.4.m1.1.1.3.3.3.3" xref="S3.SS2.p4.4.m1.1.1.3.3.3.3.cmml">c</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m1.1b"><apply id="S3.SS2.p4.4.m1.1.1.cmml" xref="S3.SS2.p4.4.m1.1.1"><in id="S3.SS2.p4.4.m1.1.1.1.cmml" xref="S3.SS2.p4.4.m1.1.1.1"></in><apply id="S3.SS2.p4.4.m1.1.1.2.cmml" xref="S3.SS2.p4.4.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m1.1.1.2.1.cmml" xref="S3.SS2.p4.4.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.4.m1.1.1.2.2.cmml" xref="S3.SS2.p4.4.m1.1.1.2.2">𝑅</ci><ci id="S3.SS2.p4.4.m1.1.1.2.3.cmml" xref="S3.SS2.p4.4.m1.1.1.2.3">𝑐</ci></apply><apply id="S3.SS2.p4.4.m1.1.1.3.cmml" xref="S3.SS2.p4.4.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m1.1.1.3.1.cmml" xref="S3.SS2.p4.4.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.4.m1.1.1.3.2.cmml" xref="S3.SS2.p4.4.m1.1.1.3.2">ℝ</ci><apply id="S3.SS2.p4.4.m1.1.1.3.3.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3"><times id="S3.SS2.p4.4.m1.1.1.3.3.1.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.1"></times><ci id="S3.SS2.p4.4.m1.1.1.3.3.2.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.2">𝑛</ci><apply id="S3.SS2.p4.4.m1.1.1.3.3.3.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p4.4.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.3.2">𝑑</ci><ci id="S3.SS2.p4.4.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p4.4.m1.1.1.3.3.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m1.1c">R_{c}\in\mathbb{R}^{n\times d_{c}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m1.1d">italic_R start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_n × italic_d start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> represents the CRM’s output. Specifically, we use a sequential behavior model, SIM<cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib58" title="">2020b</a>)</cite>, as user history provides the most ideal personalization, and SIM is a state-of-the-art model for sequential behaviors in recommendations.</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.7">After obtaining the representation, we adapt it to the gating weight to guide the meta-LoRA weights with personalized knowledge. We use a feed-forward network (FFN) with a ReLU activation and a LayerNorm as the adapter:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E13">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E13X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(13)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\beta" class="ltx_Math" display="inline" id="S3.E13X.2.1.1.m1.1"><semantics id="S3.E13X.2.1.1.m1.1a"><mi id="S3.E13X.2.1.1.m1.1.1" xref="S3.E13X.2.1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.E13X.2.1.1.m1.1b"><ci id="S3.E13X.2.1.1.m1.1.1.cmml" xref="S3.E13X.2.1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.E13X.2.1.1.m1.1c">\displaystyle\beta</annotation><annotation encoding="application/x-llamapun" id="S3.E13X.2.1.1.m1.1d">italic_β</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=W_{2}\times\text{ReLU}(\text{LN}(W_{1}R_{c}+b_{1})))+b_{2}," class="ltx_math_unparsed" display="inline" id="S3.E13X.3.2.2.m1.1"><semantics id="S3.E13X.3.2.2.m1.1a"><mrow id="S3.E13X.3.2.2.m1.1b"><mo id="S3.E13X.3.2.2.m1.1.1">=</mo><msub id="S3.E13X.3.2.2.m1.1.2"><mi id="S3.E13X.3.2.2.m1.1.2.2">W</mi><mn id="S3.E13X.3.2.2.m1.1.2.3">2</mn></msub><mo id="S3.E13X.3.2.2.m1.1.3" lspace="0.222em" rspace="0.222em">×</mo><mtext id="S3.E13X.3.2.2.m1.1.4">ReLU</mtext><mrow id="S3.E13X.3.2.2.m1.1.5"><mo id="S3.E13X.3.2.2.m1.1.5.1" stretchy="false">(</mo><mtext id="S3.E13X.3.2.2.m1.1.5.2">LN</mtext><mrow id="S3.E13X.3.2.2.m1.1.5.3"><mo id="S3.E13X.3.2.2.m1.1.5.3.1" stretchy="false">(</mo><msub id="S3.E13X.3.2.2.m1.1.5.3.2"><mi id="S3.E13X.3.2.2.m1.1.5.3.2.2">W</mi><mn id="S3.E13X.3.2.2.m1.1.5.3.2.3">1</mn></msub><msub id="S3.E13X.3.2.2.m1.1.5.3.3"><mi id="S3.E13X.3.2.2.m1.1.5.3.3.2">R</mi><mi id="S3.E13X.3.2.2.m1.1.5.3.3.3">c</mi></msub><mo id="S3.E13X.3.2.2.m1.1.5.3.4">+</mo><msub id="S3.E13X.3.2.2.m1.1.5.3.5"><mi id="S3.E13X.3.2.2.m1.1.5.3.5.2">b</mi><mn id="S3.E13X.3.2.2.m1.1.5.3.5.3">1</mn></msub><mo id="S3.E13X.3.2.2.m1.1.5.3.6" stretchy="false">)</mo></mrow><mo id="S3.E13X.3.2.2.m1.1.5.4" stretchy="false">)</mo></mrow><mo id="S3.E13X.3.2.2.m1.1.6" stretchy="false">)</mo><mo id="S3.E13X.3.2.2.m1.1.7">+</mo><mi id="S3.E13X.3.2.2.m1.1.8">b</mi><msub id="S3.E13X.3.2.2.m1.1.9"><mi id="S3.E13X.3.2.2.m1.1.9a"></mi><mn id="S3.E13X.3.2.2.m1.1.9.1">2</mn></msub><mo id="S3.E13X.3.2.2.m1.1.10">,</mo></mrow><annotation encoding="application/x-tex" id="S3.E13X.3.2.2.m1.1c">\displaystyle=W_{2}\times\text{ReLU}(\text{LN}(W_{1}R_{c}+b_{1})))+b_{2},</annotation><annotation encoding="application/x-llamapun" id="S3.E13X.3.2.2.m1.1d">= italic_W start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT × ReLU ( LN ( italic_W start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT italic_R start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT + italic_b start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ) ) + italic_b start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS2.p5.8">and a softmax function to generate gating weights:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E14">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E14X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(14)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\alpha_{j}" class="ltx_Math" display="inline" id="S3.E14X.2.1.1.m1.1"><semantics id="S3.E14X.2.1.1.m1.1a"><msub id="S3.E14X.2.1.1.m1.1.1" xref="S3.E14X.2.1.1.m1.1.1.cmml"><mi id="S3.E14X.2.1.1.m1.1.1.2" xref="S3.E14X.2.1.1.m1.1.1.2.cmml">α</mi><mi id="S3.E14X.2.1.1.m1.1.1.3" xref="S3.E14X.2.1.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.E14X.2.1.1.m1.1b"><apply id="S3.E14X.2.1.1.m1.1.1.cmml" xref="S3.E14X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.E14X.2.1.1.m1.1.1.1.cmml" xref="S3.E14X.2.1.1.m1.1.1">subscript</csymbol><ci id="S3.E14X.2.1.1.m1.1.1.2.cmml" xref="S3.E14X.2.1.1.m1.1.1.2">𝛼</ci><ci id="S3.E14X.2.1.1.m1.1.1.3.cmml" xref="S3.E14X.2.1.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14X.2.1.1.m1.1c">\displaystyle\alpha_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.E14X.2.1.1.m1.1d">italic_α start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{\exp(\frac{\beta_{j}}{tp})}{\sum_{j^{\prime}=1}^{N_{m}}%
\exp(\frac{\beta_{j^{\prime}}}{tp})}," class="ltx_Math" display="inline" id="S3.E14X.3.2.2.m1.5"><semantics id="S3.E14X.3.2.2.m1.5a"><mrow id="S3.E14X.3.2.2.m1.5.5.1" xref="S3.E14X.3.2.2.m1.5.5.1.1.cmml"><mrow id="S3.E14X.3.2.2.m1.5.5.1.1" xref="S3.E14X.3.2.2.m1.5.5.1.1.cmml"><mi id="S3.E14X.3.2.2.m1.5.5.1.1.2" xref="S3.E14X.3.2.2.m1.5.5.1.1.2.cmml"></mi><mo id="S3.E14X.3.2.2.m1.5.5.1.1.1" xref="S3.E14X.3.2.2.m1.5.5.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E14X.3.2.2.m1.4.4" xref="S3.E14X.3.2.2.m1.4.4.cmml"><mfrac id="S3.E14X.3.2.2.m1.4.4a" xref="S3.E14X.3.2.2.m1.4.4.cmml"><mrow id="S3.E14X.3.2.2.m1.2.2.2.4" xref="S3.E14X.3.2.2.m1.2.2.2.3.cmml"><mi id="S3.E14X.3.2.2.m1.1.1.1.1" xref="S3.E14X.3.2.2.m1.1.1.1.1.cmml">exp</mi><mo id="S3.E14X.3.2.2.m1.2.2.2.4a" xref="S3.E14X.3.2.2.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E14X.3.2.2.m1.2.2.2.4.1" xref="S3.E14X.3.2.2.m1.2.2.2.3.cmml"><mo id="S3.E14X.3.2.2.m1.2.2.2.4.1.1" stretchy="false" xref="S3.E14X.3.2.2.m1.2.2.2.3.cmml">(</mo><mfrac id="S3.E14X.3.2.2.m1.2.2.2.2" xref="S3.E14X.3.2.2.m1.2.2.2.2.cmml"><msub id="S3.E14X.3.2.2.m1.2.2.2.2.2" xref="S3.E14X.3.2.2.m1.2.2.2.2.2.cmml"><mi id="S3.E14X.3.2.2.m1.2.2.2.2.2.2" xref="S3.E14X.3.2.2.m1.2.2.2.2.2.2.cmml">β</mi><mi id="S3.E14X.3.2.2.m1.2.2.2.2.2.3" xref="S3.E14X.3.2.2.m1.2.2.2.2.2.3.cmml">j</mi></msub><mrow id="S3.E14X.3.2.2.m1.2.2.2.2.3" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.cmml"><mi id="S3.E14X.3.2.2.m1.2.2.2.2.3.2" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.2.cmml">t</mi><mo id="S3.E14X.3.2.2.m1.2.2.2.2.3.1" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E14X.3.2.2.m1.2.2.2.2.3.3" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.3.cmml">p</mi></mrow></mfrac><mo id="S3.E14X.3.2.2.m1.2.2.2.4.1.2" stretchy="false" xref="S3.E14X.3.2.2.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E14X.3.2.2.m1.4.4.4" xref="S3.E14X.3.2.2.m1.4.4.4.cmml"><msubsup id="S3.E14X.3.2.2.m1.4.4.4.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.cmml"><mo id="S3.E14X.3.2.2.m1.4.4.4.3.2.2" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.2.cmml">∑</mo><mrow id="S3.E14X.3.2.2.m1.4.4.4.3.2.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.cmml"><msup id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.cmml"><mi id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.2" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.2.cmml">j</mi><mo id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.3.cmml">′</mo></msup><mo id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.1" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.1.cmml">=</mo><mn id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.3.cmml">1</mn></mrow><msub id="S3.E14X.3.2.2.m1.4.4.4.3.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.3.cmml"><mi id="S3.E14X.3.2.2.m1.4.4.4.3.3.2" xref="S3.E14X.3.2.2.m1.4.4.4.3.3.2.cmml">N</mi><mi id="S3.E14X.3.2.2.m1.4.4.4.3.3.3" xref="S3.E14X.3.2.2.m1.4.4.4.3.3.3.cmml">m</mi></msub></msubsup><mrow id="S3.E14X.3.2.2.m1.4.4.4.4.2" xref="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml"><mi id="S3.E14X.3.2.2.m1.3.3.3.1" xref="S3.E14X.3.2.2.m1.3.3.3.1.cmml">exp</mi><mo id="S3.E14X.3.2.2.m1.4.4.4.4.2a" xref="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml">⁡</mo><mrow id="S3.E14X.3.2.2.m1.4.4.4.4.2.1" xref="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml"><mo id="S3.E14X.3.2.2.m1.4.4.4.4.2.1.1" stretchy="false" xref="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml">(</mo><mfrac id="S3.E14X.3.2.2.m1.4.4.4.2" xref="S3.E14X.3.2.2.m1.4.4.4.2.cmml"><msub id="S3.E14X.3.2.2.m1.4.4.4.2.2" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.cmml"><mi id="S3.E14X.3.2.2.m1.4.4.4.2.2.2" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.2.cmml">β</mi><msup id="S3.E14X.3.2.2.m1.4.4.4.2.2.3" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3.cmml"><mi id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.2" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3.2.cmml">j</mi><mo id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.3" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3.3.cmml">′</mo></msup></msub><mrow id="S3.E14X.3.2.2.m1.4.4.4.2.3" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.cmml"><mi id="S3.E14X.3.2.2.m1.4.4.4.2.3.2" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.2.cmml">t</mi><mo id="S3.E14X.3.2.2.m1.4.4.4.2.3.1" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.1.cmml">⁢</mo><mi id="S3.E14X.3.2.2.m1.4.4.4.2.3.3" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.3.cmml">p</mi></mrow></mfrac><mo id="S3.E14X.3.2.2.m1.4.4.4.4.2.1.2" stretchy="false" xref="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E14X.3.2.2.m1.5.5.1.2" xref="S3.E14X.3.2.2.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E14X.3.2.2.m1.5b"><apply id="S3.E14X.3.2.2.m1.5.5.1.1.cmml" xref="S3.E14X.3.2.2.m1.5.5.1"><eq id="S3.E14X.3.2.2.m1.5.5.1.1.1.cmml" xref="S3.E14X.3.2.2.m1.5.5.1.1.1"></eq><csymbol cd="latexml" id="S3.E14X.3.2.2.m1.5.5.1.1.2.cmml" xref="S3.E14X.3.2.2.m1.5.5.1.1.2">absent</csymbol><apply id="S3.E14X.3.2.2.m1.4.4.cmml" xref="S3.E14X.3.2.2.m1.4.4"><divide id="S3.E14X.3.2.2.m1.4.4.5.cmml" xref="S3.E14X.3.2.2.m1.4.4"></divide><apply id="S3.E14X.3.2.2.m1.2.2.2.3.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.4"><exp id="S3.E14X.3.2.2.m1.1.1.1.1.cmml" xref="S3.E14X.3.2.2.m1.1.1.1.1"></exp><apply id="S3.E14X.3.2.2.m1.2.2.2.2.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2"><divide id="S3.E14X.3.2.2.m1.2.2.2.2.1.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2"></divide><apply id="S3.E14X.3.2.2.m1.2.2.2.2.2.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.2.2.2.2.2.1.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.E14X.3.2.2.m1.2.2.2.2.2.2.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.2.2">𝛽</ci><ci id="S3.E14X.3.2.2.m1.2.2.2.2.2.3.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.2.3">𝑗</ci></apply><apply id="S3.E14X.3.2.2.m1.2.2.2.2.3.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.3"><times id="S3.E14X.3.2.2.m1.2.2.2.2.3.1.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.1"></times><ci id="S3.E14X.3.2.2.m1.2.2.2.2.3.2.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.2">𝑡</ci><ci id="S3.E14X.3.2.2.m1.2.2.2.2.3.3.cmml" xref="S3.E14X.3.2.2.m1.2.2.2.2.3.3">𝑝</ci></apply></apply></apply><apply id="S3.E14X.3.2.2.m1.4.4.4.cmml" xref="S3.E14X.3.2.2.m1.4.4.4"><apply id="S3.E14X.3.2.2.m1.4.4.4.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.3.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3">superscript</csymbol><apply id="S3.E14X.3.2.2.m1.4.4.4.3.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.3.2.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3">subscript</csymbol><sum id="S3.E14X.3.2.2.m1.4.4.4.3.2.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.2"></sum><apply id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3"><eq id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.1"></eq><apply id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2">superscript</csymbol><ci id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.2">𝑗</ci><ci id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.2.3">′</ci></apply><cn id="S3.E14X.3.2.2.m1.4.4.4.3.2.3.3.cmml" type="integer" xref="S3.E14X.3.2.2.m1.4.4.4.3.2.3.3">1</cn></apply></apply><apply id="S3.E14X.3.2.2.m1.4.4.4.3.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.3"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.3.3.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.3">subscript</csymbol><ci id="S3.E14X.3.2.2.m1.4.4.4.3.3.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.3.2">𝑁</ci><ci id="S3.E14X.3.2.2.m1.4.4.4.3.3.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.3.3.3">𝑚</ci></apply></apply><apply id="S3.E14X.3.2.2.m1.4.4.4.4.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.4.2"><exp id="S3.E14X.3.2.2.m1.3.3.3.1.cmml" xref="S3.E14X.3.2.2.m1.3.3.3.1"></exp><apply id="S3.E14X.3.2.2.m1.4.4.4.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2"><divide id="S3.E14X.3.2.2.m1.4.4.4.2.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2"></divide><apply id="S3.E14X.3.2.2.m1.4.4.4.2.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.2.2.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2">subscript</csymbol><ci id="S3.E14X.3.2.2.m1.4.4.4.2.2.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.2">𝛽</ci><apply id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3"><csymbol cd="ambiguous" id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3">superscript</csymbol><ci id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3.2">𝑗</ci><ci id="S3.E14X.3.2.2.m1.4.4.4.2.2.3.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.2.3.3">′</ci></apply></apply><apply id="S3.E14X.3.2.2.m1.4.4.4.2.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.3"><times id="S3.E14X.3.2.2.m1.4.4.4.2.3.1.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.1"></times><ci id="S3.E14X.3.2.2.m1.4.4.4.2.3.2.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.2">𝑡</ci><ci id="S3.E14X.3.2.2.m1.4.4.4.2.3.3.cmml" xref="S3.E14X.3.2.2.m1.4.4.4.2.3.3">𝑝</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14X.3.2.2.m1.5c">\displaystyle=\frac{\exp(\frac{\beta_{j}}{tp})}{\sum_{j^{\prime}=1}^{N_{m}}%
\exp(\frac{\beta_{j^{\prime}}}{tp})},</annotation><annotation encoding="application/x-llamapun" id="S3.E14X.3.2.2.m1.5d">= divide start_ARG roman_exp ( divide start_ARG italic_β start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG start_ARG italic_t italic_p end_ARG ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUPERSCRIPT roman_exp ( divide start_ARG italic_β start_POSTSUBSCRIPT italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT end_ARG start_ARG italic_t italic_p end_ARG ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS2.p5.6">where <math alttext="W_{1}\in\mathbb{R}^{d_{c}\times d_{h}}" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><mrow id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml"><msub id="S3.SS2.p5.1.m1.1.1.2" xref="S3.SS2.p5.1.m1.1.1.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.2.2" xref="S3.SS2.p5.1.m1.1.1.2.2.cmml">W</mi><mn id="S3.SS2.p5.1.m1.1.1.2.3" xref="S3.SS2.p5.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS2.p5.1.m1.1.1.1" xref="S3.SS2.p5.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.1.m1.1.1.3" xref="S3.SS2.p5.1.m1.1.1.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.2" xref="S3.SS2.p5.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p5.1.m1.1.1.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.cmml"><msub id="S3.SS2.p5.1.m1.1.1.3.3.2" xref="S3.SS2.p5.1.m1.1.1.3.3.2.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.3.2.2" xref="S3.SS2.p5.1.m1.1.1.3.3.2.2.cmml">d</mi><mi id="S3.SS2.p5.1.m1.1.1.3.3.2.3" xref="S3.SS2.p5.1.m1.1.1.3.3.2.3.cmml">c</mi></msub><mo id="S3.SS2.p5.1.m1.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p5.1.m1.1.1.3.3.1.cmml">×</mo><msub id="S3.SS2.p5.1.m1.1.1.3.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.cmml"><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.2" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2.cmml">d</mi><mi id="S3.SS2.p5.1.m1.1.1.3.3.3.3" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3.cmml">h</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><apply id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1"><in id="S3.SS2.p5.1.m1.1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1.1"></in><apply id="S3.SS2.p5.1.m1.1.1.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.2.2">𝑊</ci><cn id="S3.SS2.p5.1.m1.1.1.2.3.cmml" type="integer" xref="S3.SS2.p5.1.m1.1.1.2.3">1</cn></apply><apply id="S3.SS2.p5.1.m1.1.1.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.1.m1.1.1.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3"><times id="S3.SS2.p5.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.1"></times><apply id="S3.SS2.p5.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.3.2.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.3.2.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2.2">𝑑</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.2.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.2.3">𝑐</ci></apply><apply id="S3.SS2.p5.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.1.1.3.3.3.1.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.2.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.2">𝑑</ci><ci id="S3.SS2.p5.1.m1.1.1.3.3.3.3.cmml" xref="S3.SS2.p5.1.m1.1.1.3.3.3.3">ℎ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">W_{1}\in\mathbb{R}^{d_{c}\times d_{h}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">italic_W start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT × italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="W_{2}\in\mathbb{R}^{d_{h}\times d_{r}}" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m2.1"><semantics id="S3.SS2.p5.2.m2.1a"><mrow id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><msub id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2.2" xref="S3.SS2.p5.2.m2.1.1.2.2.cmml">W</mi><mn id="S3.SS2.p5.2.m2.1.1.2.3" xref="S3.SS2.p5.2.m2.1.1.2.3.cmml">2</mn></msub><mo id="S3.SS2.p5.2.m2.1.1.1" xref="S3.SS2.p5.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.2" xref="S3.SS2.p5.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p5.2.m2.1.1.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.cmml"><msub id="S3.SS2.p5.2.m2.1.1.3.3.2" xref="S3.SS2.p5.2.m2.1.1.3.3.2.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.3.2.2" xref="S3.SS2.p5.2.m2.1.1.3.3.2.2.cmml">d</mi><mi id="S3.SS2.p5.2.m2.1.1.3.3.2.3" xref="S3.SS2.p5.2.m2.1.1.3.3.2.3.cmml">h</mi></msub><mo id="S3.SS2.p5.2.m2.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p5.2.m2.1.1.3.3.1.cmml">×</mo><msub id="S3.SS2.p5.2.m2.1.1.3.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.3.3.2" xref="S3.SS2.p5.2.m2.1.1.3.3.3.2.cmml">d</mi><mi id="S3.SS2.p5.2.m2.1.1.3.3.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.3.3.cmml">r</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><in id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1.1"></in><apply id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2.2">𝑊</ci><cn id="S3.SS2.p5.2.m2.1.1.2.3.cmml" type="integer" xref="S3.SS2.p5.2.m2.1.1.2.3">2</cn></apply><apply id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.2.m2.1.1.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3"><times id="S3.SS2.p5.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.1"></times><apply id="S3.SS2.p5.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.3.3.2.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.2">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.3.3.2.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.2.2">𝑑</ci><ci id="S3.SS2.p5.2.m2.1.1.3.3.2.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.2.3">ℎ</ci></apply><apply id="S3.SS2.p5.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.3.3.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.3.3.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.3.2">𝑑</ci><ci id="S3.SS2.p5.2.m2.1.1.3.3.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3.3.3">𝑟</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">W_{2}\in\mathbb{R}^{d_{h}\times d_{r}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m2.1d">italic_W start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT × italic_d start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="b_{1}\in\mathbb{R}^{d_{h}}" class="ltx_Math" display="inline" id="S3.SS2.p5.3.m3.1"><semantics id="S3.SS2.p5.3.m3.1a"><mrow id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml"><msub id="S3.SS2.p5.3.m3.1.1.2" xref="S3.SS2.p5.3.m3.1.1.2.cmml"><mi id="S3.SS2.p5.3.m3.1.1.2.2" xref="S3.SS2.p5.3.m3.1.1.2.2.cmml">b</mi><mn id="S3.SS2.p5.3.m3.1.1.2.3" xref="S3.SS2.p5.3.m3.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS2.p5.3.m3.1.1.1" xref="S3.SS2.p5.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.3.m3.1.1.3" xref="S3.SS2.p5.3.m3.1.1.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.3.2" xref="S3.SS2.p5.3.m3.1.1.3.2.cmml">ℝ</mi><msub id="S3.SS2.p5.3.m3.1.1.3.3" xref="S3.SS2.p5.3.m3.1.1.3.3.cmml"><mi id="S3.SS2.p5.3.m3.1.1.3.3.2" xref="S3.SS2.p5.3.m3.1.1.3.3.2.cmml">d</mi><mi id="S3.SS2.p5.3.m3.1.1.3.3.3" xref="S3.SS2.p5.3.m3.1.1.3.3.3.cmml">h</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><apply id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1"><in id="S3.SS2.p5.3.m3.1.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1.1"></in><apply id="S3.SS2.p5.3.m3.1.1.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.2.1.cmml" xref="S3.SS2.p5.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.2.2.cmml" xref="S3.SS2.p5.3.m3.1.1.2.2">𝑏</ci><cn id="S3.SS2.p5.3.m3.1.1.2.3.cmml" type="integer" xref="S3.SS2.p5.3.m3.1.1.2.3">1</cn></apply><apply id="S3.SS2.p5.3.m3.1.1.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.3.m3.1.1.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m3.1.1.3.3.1.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p5.3.m3.1.1.3.3.2.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3.2">𝑑</ci><ci id="S3.SS2.p5.3.m3.1.1.3.3.3.cmml" xref="S3.SS2.p5.3.m3.1.1.3.3.3">ℎ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">b_{1}\in\mathbb{R}^{d_{h}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.3.m3.1d">italic_b start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_h end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="b_{2}\in\mathbb{R}^{d_{r}}" class="ltx_Math" display="inline" id="S3.SS2.p5.4.m4.1"><semantics id="S3.SS2.p5.4.m4.1a"><mrow id="S3.SS2.p5.4.m4.1.1" xref="S3.SS2.p5.4.m4.1.1.cmml"><msub id="S3.SS2.p5.4.m4.1.1.2" xref="S3.SS2.p5.4.m4.1.1.2.cmml"><mi id="S3.SS2.p5.4.m4.1.1.2.2" xref="S3.SS2.p5.4.m4.1.1.2.2.cmml">b</mi><mn id="S3.SS2.p5.4.m4.1.1.2.3" xref="S3.SS2.p5.4.m4.1.1.2.3.cmml">2</mn></msub><mo id="S3.SS2.p5.4.m4.1.1.1" xref="S3.SS2.p5.4.m4.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.4.m4.1.1.3" xref="S3.SS2.p5.4.m4.1.1.3.cmml"><mi id="S3.SS2.p5.4.m4.1.1.3.2" xref="S3.SS2.p5.4.m4.1.1.3.2.cmml">ℝ</mi><msub id="S3.SS2.p5.4.m4.1.1.3.3" xref="S3.SS2.p5.4.m4.1.1.3.3.cmml"><mi id="S3.SS2.p5.4.m4.1.1.3.3.2" xref="S3.SS2.p5.4.m4.1.1.3.3.2.cmml">d</mi><mi id="S3.SS2.p5.4.m4.1.1.3.3.3" xref="S3.SS2.p5.4.m4.1.1.3.3.3.cmml">r</mi></msub></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.1b"><apply id="S3.SS2.p5.4.m4.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1"><in id="S3.SS2.p5.4.m4.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1"></in><apply id="S3.SS2.p5.4.m4.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.2.1.cmml" xref="S3.SS2.p5.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.2.2.cmml" xref="S3.SS2.p5.4.m4.1.1.2.2">𝑏</ci><cn id="S3.SS2.p5.4.m4.1.1.2.3.cmml" type="integer" xref="S3.SS2.p5.4.m4.1.1.2.3">2</cn></apply><apply id="S3.SS2.p5.4.m4.1.1.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.3.1.cmml" xref="S3.SS2.p5.4.m4.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.3.2.cmml" xref="S3.SS2.p5.4.m4.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.4.m4.1.1.3.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.3.3.1.cmml" xref="S3.SS2.p5.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.3.3.2.cmml" xref="S3.SS2.p5.4.m4.1.1.3.3.2">𝑑</ci><ci id="S3.SS2.p5.4.m4.1.1.3.3.3.cmml" xref="S3.SS2.p5.4.m4.1.1.3.3.3">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.1c">b_{2}\in\mathbb{R}^{d_{r}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.4.m4.1d">italic_b start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, and <math alttext="\alpha\in\mathbb{R}^{n\times N_{m}}" class="ltx_Math" display="inline" id="S3.SS2.p5.5.m5.1"><semantics id="S3.SS2.p5.5.m5.1a"><mrow id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml"><mi id="S3.SS2.p5.5.m5.1.1.2" xref="S3.SS2.p5.5.m5.1.1.2.cmml">α</mi><mo id="S3.SS2.p5.5.m5.1.1.1" xref="S3.SS2.p5.5.m5.1.1.1.cmml">∈</mo><msup id="S3.SS2.p5.5.m5.1.1.3" xref="S3.SS2.p5.5.m5.1.1.3.cmml"><mi id="S3.SS2.p5.5.m5.1.1.3.2" xref="S3.SS2.p5.5.m5.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p5.5.m5.1.1.3.3" xref="S3.SS2.p5.5.m5.1.1.3.3.cmml"><mi id="S3.SS2.p5.5.m5.1.1.3.3.2" xref="S3.SS2.p5.5.m5.1.1.3.3.2.cmml">n</mi><mo id="S3.SS2.p5.5.m5.1.1.3.3.1" lspace="0.222em" rspace="0.222em" xref="S3.SS2.p5.5.m5.1.1.3.3.1.cmml">×</mo><msub id="S3.SS2.p5.5.m5.1.1.3.3.3" xref="S3.SS2.p5.5.m5.1.1.3.3.3.cmml"><mi id="S3.SS2.p5.5.m5.1.1.3.3.3.2" xref="S3.SS2.p5.5.m5.1.1.3.3.3.2.cmml">N</mi><mi id="S3.SS2.p5.5.m5.1.1.3.3.3.3" xref="S3.SS2.p5.5.m5.1.1.3.3.3.3.cmml">m</mi></msub></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><apply id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1"><in id="S3.SS2.p5.5.m5.1.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1.1"></in><ci id="S3.SS2.p5.5.m5.1.1.2.cmml" xref="S3.SS2.p5.5.m5.1.1.2">𝛼</ci><apply id="S3.SS2.p5.5.m5.1.1.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.5.m5.1.1.3.1.cmml" xref="S3.SS2.p5.5.m5.1.1.3">superscript</csymbol><ci id="S3.SS2.p5.5.m5.1.1.3.2.cmml" xref="S3.SS2.p5.5.m5.1.1.3.2">ℝ</ci><apply id="S3.SS2.p5.5.m5.1.1.3.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3"><times id="S3.SS2.p5.5.m5.1.1.3.3.1.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.1"></times><ci id="S3.SS2.p5.5.m5.1.1.3.3.2.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.2">𝑛</ci><apply id="S3.SS2.p5.5.m5.1.1.3.3.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.5.m5.1.1.3.3.3.1.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p5.5.m5.1.1.3.3.3.2.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.3.2">𝑁</ci><ci id="S3.SS2.p5.5.m5.1.1.3.3.3.3.cmml" xref="S3.SS2.p5.5.m5.1.1.3.3.3.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">\alpha\in\mathbb{R}^{n\times N_{m}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.5.m5.1d">italic_α ∈ blackboard_R start_POSTSUPERSCRIPT italic_n × italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> is the gating weight of Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.E11" title="In 3.2. Personalized Low-Rank Adaption ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>). <math alttext="tp" class="ltx_Math" display="inline" id="S3.SS2.p5.6.m6.1"><semantics id="S3.SS2.p5.6.m6.1a"><mrow id="S3.SS2.p5.6.m6.1.1" xref="S3.SS2.p5.6.m6.1.1.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2" xref="S3.SS2.p5.6.m6.1.1.2.cmml">t</mi><mo id="S3.SS2.p5.6.m6.1.1.1" xref="S3.SS2.p5.6.m6.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p5.6.m6.1.1.3" xref="S3.SS2.p5.6.m6.1.1.3.cmml">p</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m6.1b"><apply id="S3.SS2.p5.6.m6.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1"><times id="S3.SS2.p5.6.m6.1.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1.1"></times><ci id="S3.SS2.p5.6.m6.1.1.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2">𝑡</ci><ci id="S3.SS2.p5.6.m6.1.1.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m6.1c">tp</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.6.m6.1d">italic_t italic_p</annotation></semantics></math> is a temperature hyperparameter in the softmax function, making it smoother or sharper. Most importantly, softmax guarantees
the distribution of personalized LoRA weights matches each meta-LoRA weight.
</p>
</div>
<div class="ltx_para" id="S3.SS2.p6">
<p class="ltx_p" id="S3.SS2.p6.1">Finally, we obtain the personalized LoRA matrix by Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.E11" title="In 3.2. Personalized Low-Rank Adaption ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>) and use it as the traditional LoRA method does in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.E9" title="In 3.1. Overview of RecLoRA ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">9</span></a>). In this way, this module dynamically generates one unique LoRA module personally for each user, realizing LoRA parameters personalization.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Few2Many Magnifier Strategy</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">During LLM fine-tuning, the ideal scenario would be exposing the entire recommendation dataset to the LLM, as studies have shown that the more data an LLM is exposed to, the better its performance. However, constraints on time and efficiency make it impractical to expose large datasets on the input side. Therefore, a more efficient approach is to inject large data knowledge without significantly increasing time costs. To achieve this, we propose the Few2Many Magnifier Strategy.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">In the first stage, we train a conventional recommendation model using the full training dataset to obtain a well-trained model capable of providing sample-level personalized vector representations with high generalization based on the inputs <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><msup id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">x</mi><mrow id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.3.2" xref="S3.SS3.p2.1.m1.1.1.3.2.cmml">I</mi><mo id="S3.SS3.p2.1.m1.1.1.3.1" xref="S3.SS3.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.1.m1.1.1.3.3" xref="S3.SS3.p2.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">superscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">𝑥</ci><apply id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3"><times id="S3.SS3.p2.1.m1.1.1.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.3.1"></times><ci id="S3.SS3.p2.1.m1.1.1.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.3.2">𝐼</ci><ci id="S3.SS3.p2.1.m1.1.1.3.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> in ID modality
. This is achieved through a binary cross-entropy loss</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E15">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(15)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}^{ID}=\sum_{x_{i}^{ID}\in\mathcal{D}}[-y_{i}^{ID}\cdot\log(\sigma(%
\hat{y}_{i}^{ID}))-(1-y_{i}^{ID})\cdot\log(1-\sigma(\hat{y}_{i}^{ID}))]," class="ltx_Math" display="block" id="S3.E15.m1.3"><semantics id="S3.E15.m1.3a"><mrow id="S3.E15.m1.3.3.1" xref="S3.E15.m1.3.3.1.1.cmml"><mrow id="S3.E15.m1.3.3.1.1" xref="S3.E15.m1.3.3.1.1.cmml"><msup id="S3.E15.m1.3.3.1.1.3" xref="S3.E15.m1.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E15.m1.3.3.1.1.3.2" xref="S3.E15.m1.3.3.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E15.m1.3.3.1.1.3.3" xref="S3.E15.m1.3.3.1.1.3.3.cmml"><mi id="S3.E15.m1.3.3.1.1.3.3.2" xref="S3.E15.m1.3.3.1.1.3.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.3.3.1" xref="S3.E15.m1.3.3.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.3.3.3" xref="S3.E15.m1.3.3.1.1.3.3.3.cmml">D</mi></mrow></msup><mo id="S3.E15.m1.3.3.1.1.2" rspace="0.111em" xref="S3.E15.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E15.m1.3.3.1.1.1" xref="S3.E15.m1.3.3.1.1.1.cmml"><munder id="S3.E15.m1.3.3.1.1.1.2" xref="S3.E15.m1.3.3.1.1.1.2.cmml"><mo id="S3.E15.m1.3.3.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S3.E15.m1.3.3.1.1.1.2.2.cmml">∑</mo><mrow id="S3.E15.m1.3.3.1.1.1.2.3" xref="S3.E15.m1.3.3.1.1.1.2.3.cmml"><msubsup id="S3.E15.m1.3.3.1.1.1.2.3.2" xref="S3.E15.m1.3.3.1.1.1.2.3.2.cmml"><mi id="S3.E15.m1.3.3.1.1.1.2.3.2.2.2" xref="S3.E15.m1.3.3.1.1.1.2.3.2.2.2.cmml">x</mi><mi id="S3.E15.m1.3.3.1.1.1.2.3.2.2.3" xref="S3.E15.m1.3.3.1.1.1.2.3.2.2.3.cmml">i</mi><mrow id="S3.E15.m1.3.3.1.1.1.2.3.2.3" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.2.3.2.3.2" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.1.2.3.2.3.1" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.1.2.3.2.3.3" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.3.cmml">D</mi></mrow></msubsup><mo id="S3.E15.m1.3.3.1.1.1.2.3.1" xref="S3.E15.m1.3.3.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E15.m1.3.3.1.1.1.2.3.3" xref="S3.E15.m1.3.3.1.1.1.2.3.3.cmml">𝒟</mi></mrow></munder><mrow id="S3.E15.m1.3.3.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.2.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.cmml"><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1a" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.3.cmml">i</mi><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.3.cmml">D</mi></mrow></msubsup><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">⋅</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E15.m1.1.1" xref="S3.E15.m1.1.1.cmml">log</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1a" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">σ</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msubsup><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.4" xref="S3.E15.m1.3.3.1.1.1.1.1.1.4.cmml">−</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.cmml"><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.cmml"><mn id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.2.cmml">1</mn><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.1.cmml">−</mo><msubsup id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.3.cmml">i</mi><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.3.cmml">D</mi></mrow></msubsup></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.3" rspace="0.055em" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.3" rspace="0.222em" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.3.cmml">⋅</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml"><mi id="S3.E15.m1.2.2" xref="S3.E15.m1.2.2.cmml">log</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1a" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">⁡</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">(</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.cmml"><mn id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.3.cmml">1</mn><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.2.cmml">−</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.3.cmml">σ</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml">i</mi><mrow id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.2" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.2.cmml">I</mi><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.1" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.3" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.3.cmml">D</mi></mrow></msubsup><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E15.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E15.m1.3.3.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.E15.m1.3.3.1.2" xref="S3.E15.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E15.m1.3b"><apply id="S3.E15.m1.3.3.1.1.cmml" xref="S3.E15.m1.3.3.1"><eq id="S3.E15.m1.3.3.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.2"></eq><apply id="S3.E15.m1.3.3.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.3.1.cmml" xref="S3.E15.m1.3.3.1.1.3">superscript</csymbol><ci id="S3.E15.m1.3.3.1.1.3.2.cmml" xref="S3.E15.m1.3.3.1.1.3.2">ℒ</ci><apply id="S3.E15.m1.3.3.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.3.3"><times id="S3.E15.m1.3.3.1.1.3.3.1.cmml" xref="S3.E15.m1.3.3.1.1.3.3.1"></times><ci id="S3.E15.m1.3.3.1.1.3.3.2.cmml" xref="S3.E15.m1.3.3.1.1.3.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.3.3.3.cmml" xref="S3.E15.m1.3.3.1.1.3.3.3">𝐷</ci></apply></apply><apply id="S3.E15.m1.3.3.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1"><apply id="S3.E15.m1.3.3.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.2">subscript</csymbol><sum id="S3.E15.m1.3.3.1.1.1.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2.2"></sum><apply id="S3.E15.m1.3.3.1.1.1.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3"><in id="S3.E15.m1.3.3.1.1.1.2.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.1"></in><apply id="S3.E15.m1.3.3.1.1.1.2.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.2.3.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2">superscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.2.3.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.2.3.2.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2">subscript</csymbol><ci id="S3.E15.m1.3.3.1.1.1.2.3.2.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.2.2">𝑥</ci><ci id="S3.E15.m1.3.3.1.1.1.2.3.2.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.2.3">𝑖</ci></apply><apply id="S3.E15.m1.3.3.1.1.1.2.3.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3"><times id="S3.E15.m1.3.3.1.1.1.2.3.2.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.1"></times><ci id="S3.E15.m1.3.3.1.1.1.2.3.2.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.1.2.3.2.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.2.3.3">𝐷</ci></apply></apply><ci id="S3.E15.m1.3.3.1.1.1.2.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.2.3.3">𝒟</ci></apply></apply><apply id="S3.E15.m1.3.3.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S3.E15.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1"><minus id="S3.E15.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.4"></minus><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1"><minus id="S3.E15.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1"></minus><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1"><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.2">⋅</ci><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.2.3">𝑖</ci></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.3.3.3">𝐷</ci></apply></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1"><log id="S3.E15.m1.1.1.cmml" xref="S3.E15.m1.1.1"></log><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3">𝜎</ci><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2"><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">𝑦</ci></apply><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply></apply></apply></apply></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3"><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.3">⋅</ci><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1"><minus id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.1"></minus><cn id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.2.cmml" type="integer" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.2">1</cn><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3">superscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3">subscript</csymbol><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.2">𝑦</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.2.3">𝑖</ci></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.1"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.2.1.1.1.3.3.3">𝐷</ci></apply></apply></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1"><log id="S3.E15.m1.2.2.cmml" xref="S3.E15.m1.2.2"></log><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1"><minus id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.2"></minus><cn id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.3.cmml" type="integer" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.3">1</cn><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.2"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.3">𝜎</ci><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2"><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2">𝑦</ci></apply><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3"><times id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.2">𝐼</ci><ci id="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E15.m1.3.3.1.1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.3">𝐷</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E15.m1.3c">\mathcal{L}^{ID}=\sum_{x_{i}^{ID}\in\mathcal{D}}[-y_{i}^{ID}\cdot\log(\sigma(%
\hat{y}_{i}^{ID}))-(1-y_{i}^{ID})\cdot\log(1-\sigma(\hat{y}_{i}^{ID}))],</annotation><annotation encoding="application/x-llamapun" id="S3.E15.m1.3d">caligraphic_L start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT = ∑ start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ∈ caligraphic_D end_POSTSUBSCRIPT [ - italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ⋅ roman_log ( italic_σ ( over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ) - ( 1 - italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ⋅ roman_log ( 1 - italic_σ ( over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT ) ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p2.4">where <math alttext="\sigma" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m1.1"><semantics id="S3.SS3.p2.2.m1.1a"><mi id="S3.SS3.p2.2.m1.1.1" xref="S3.SS3.p2.2.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m1.1b"><ci id="S3.SS3.p2.2.m1.1.1.cmml" xref="S3.SS3.p2.2.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m1.1d">italic_σ</annotation></semantics></math> is the sigmoid function, <math alttext="y_{i}^{ID}" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m2.1"><semantics id="S3.SS3.p2.3.m2.1a"><msubsup id="S3.SS3.p2.3.m2.1.1" xref="S3.SS3.p2.3.m2.1.1.cmml"><mi id="S3.SS3.p2.3.m2.1.1.2.2" xref="S3.SS3.p2.3.m2.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.3.m2.1.1.2.3" xref="S3.SS3.p2.3.m2.1.1.2.3.cmml">i</mi><mrow id="S3.SS3.p2.3.m2.1.1.3" xref="S3.SS3.p2.3.m2.1.1.3.cmml"><mi id="S3.SS3.p2.3.m2.1.1.3.2" xref="S3.SS3.p2.3.m2.1.1.3.2.cmml">I</mi><mo id="S3.SS3.p2.3.m2.1.1.3.1" xref="S3.SS3.p2.3.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.3.m2.1.1.3.3" xref="S3.SS3.p2.3.m2.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m2.1b"><apply id="S3.SS3.p2.3.m2.1.1.cmml" xref="S3.SS3.p2.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m2.1.1.1.cmml" xref="S3.SS3.p2.3.m2.1.1">superscript</csymbol><apply id="S3.SS3.p2.3.m2.1.1.2.cmml" xref="S3.SS3.p2.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m2.1.1.2.1.cmml" xref="S3.SS3.p2.3.m2.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m2.1.1.2.2.cmml" xref="S3.SS3.p2.3.m2.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.3.m2.1.1.2.3.cmml" xref="S3.SS3.p2.3.m2.1.1.2.3">𝑖</ci></apply><apply id="S3.SS3.p2.3.m2.1.1.3.cmml" xref="S3.SS3.p2.3.m2.1.1.3"><times id="S3.SS3.p2.3.m2.1.1.3.1.cmml" xref="S3.SS3.p2.3.m2.1.1.3.1"></times><ci id="S3.SS3.p2.3.m2.1.1.3.2.cmml" xref="S3.SS3.p2.3.m2.1.1.3.2">𝐼</ci><ci id="S3.SS3.p2.3.m2.1.1.3.3.cmml" xref="S3.SS3.p2.3.m2.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m2.1c">y_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m2.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> is the true label and <math alttext="\hat{y}_{i}^{ID}" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m3.1"><semantics id="S3.SS3.p2.4.m3.1a"><msubsup id="S3.SS3.p2.4.m3.1.1" xref="S3.SS3.p2.4.m3.1.1.cmml"><mover accent="true" id="S3.SS3.p2.4.m3.1.1.2.2" xref="S3.SS3.p2.4.m3.1.1.2.2.cmml"><mi id="S3.SS3.p2.4.m3.1.1.2.2.2" xref="S3.SS3.p2.4.m3.1.1.2.2.2.cmml">y</mi><mo id="S3.SS3.p2.4.m3.1.1.2.2.1" xref="S3.SS3.p2.4.m3.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS3.p2.4.m3.1.1.2.3" xref="S3.SS3.p2.4.m3.1.1.2.3.cmml">i</mi><mrow id="S3.SS3.p2.4.m3.1.1.3" xref="S3.SS3.p2.4.m3.1.1.3.cmml"><mi id="S3.SS3.p2.4.m3.1.1.3.2" xref="S3.SS3.p2.4.m3.1.1.3.2.cmml">I</mi><mo id="S3.SS3.p2.4.m3.1.1.3.1" xref="S3.SS3.p2.4.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.p2.4.m3.1.1.3.3" xref="S3.SS3.p2.4.m3.1.1.3.3.cmml">D</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m3.1b"><apply id="S3.SS3.p2.4.m3.1.1.cmml" xref="S3.SS3.p2.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m3.1.1.1.cmml" xref="S3.SS3.p2.4.m3.1.1">superscript</csymbol><apply id="S3.SS3.p2.4.m3.1.1.2.cmml" xref="S3.SS3.p2.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m3.1.1.2.1.cmml" xref="S3.SS3.p2.4.m3.1.1">subscript</csymbol><apply id="S3.SS3.p2.4.m3.1.1.2.2.cmml" xref="S3.SS3.p2.4.m3.1.1.2.2"><ci id="S3.SS3.p2.4.m3.1.1.2.2.1.cmml" xref="S3.SS3.p2.4.m3.1.1.2.2.1">^</ci><ci id="S3.SS3.p2.4.m3.1.1.2.2.2.cmml" xref="S3.SS3.p2.4.m3.1.1.2.2.2">𝑦</ci></apply><ci id="S3.SS3.p2.4.m3.1.1.2.3.cmml" xref="S3.SS3.p2.4.m3.1.1.2.3">𝑖</ci></apply><apply id="S3.SS3.p2.4.m3.1.1.3.cmml" xref="S3.SS3.p2.4.m3.1.1.3"><times id="S3.SS3.p2.4.m3.1.1.3.1.cmml" xref="S3.SS3.p2.4.m3.1.1.3.1"></times><ci id="S3.SS3.p2.4.m3.1.1.3.2.cmml" xref="S3.SS3.p2.4.m3.1.1.3.2">𝐼</ci><ci id="S3.SS3.p2.4.m3.1.1.3.3.cmml" xref="S3.SS3.p2.4.m3.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m3.1c">\hat{y}_{i}^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m3.1d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> is
the prediction label calculated in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.E3" title="In 2.2. Conventional Recommendation Models ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>)
Now, the CRM has fit the full training space and has learned most of the knowledge contained in the whole dataset.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1">In the second stage, we downsample the large-scale training set to obtain a smaller training set for the efficient parameter tuning of RecLoRA, which includes large language models. During this process, the fully trained traditional recommendation model from the first stage provides personalized information, ensuring full spatial perspectives. This information is combined to form a personalized LoRA matrix with sufficient generalization, as detailedly described in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.SS2" title="3.2. Personalized Low-Rank Adaption ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3.2</span></a>.
Thus, even though the large language model sees only a small number of training samples during fine-tuning, it extends its receptive field to the full training space through the conventional recommendation models and personalized LoRA matrices. This greatly enhances the sample efficiency and recommendation performance of the large language model. It should be noted that during this process, only the personalized LoRA module is updated, while the traditional recommendation models and large language models remain fixed. The training loss used is the cross-entropy loss in traditional causal language modeling.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.3">During the inference stage, the large language model does not directly give a pointwise score <math alttext="\hat{y}^{text}\in\{0,1\}" class="ltx_Math" display="inline" id="S3.SS3.p4.1.m1.2"><semantics id="S3.SS3.p4.1.m1.2a"><mrow id="S3.SS3.p4.1.m1.2.3" xref="S3.SS3.p4.1.m1.2.3.cmml"><msup id="S3.SS3.p4.1.m1.2.3.2" xref="S3.SS3.p4.1.m1.2.3.2.cmml"><mover accent="true" id="S3.SS3.p4.1.m1.2.3.2.2" xref="S3.SS3.p4.1.m1.2.3.2.2.cmml"><mi id="S3.SS3.p4.1.m1.2.3.2.2.2" xref="S3.SS3.p4.1.m1.2.3.2.2.2.cmml">y</mi><mo id="S3.SS3.p4.1.m1.2.3.2.2.1" xref="S3.SS3.p4.1.m1.2.3.2.2.1.cmml">^</mo></mover><mrow id="S3.SS3.p4.1.m1.2.3.2.3" xref="S3.SS3.p4.1.m1.2.3.2.3.cmml"><mi id="S3.SS3.p4.1.m1.2.3.2.3.2" xref="S3.SS3.p4.1.m1.2.3.2.3.2.cmml">t</mi><mo id="S3.SS3.p4.1.m1.2.3.2.3.1" xref="S3.SS3.p4.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS3.p4.1.m1.2.3.2.3.3" xref="S3.SS3.p4.1.m1.2.3.2.3.3.cmml">e</mi><mo id="S3.SS3.p4.1.m1.2.3.2.3.1a" xref="S3.SS3.p4.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS3.p4.1.m1.2.3.2.3.4" xref="S3.SS3.p4.1.m1.2.3.2.3.4.cmml">x</mi><mo id="S3.SS3.p4.1.m1.2.3.2.3.1b" xref="S3.SS3.p4.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS3.p4.1.m1.2.3.2.3.5" xref="S3.SS3.p4.1.m1.2.3.2.3.5.cmml">t</mi></mrow></msup><mo id="S3.SS3.p4.1.m1.2.3.1" xref="S3.SS3.p4.1.m1.2.3.1.cmml">∈</mo><mrow id="S3.SS3.p4.1.m1.2.3.3.2" xref="S3.SS3.p4.1.m1.2.3.3.1.cmml"><mo id="S3.SS3.p4.1.m1.2.3.3.2.1" stretchy="false" xref="S3.SS3.p4.1.m1.2.3.3.1.cmml">{</mo><mn id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml">0</mn><mo id="S3.SS3.p4.1.m1.2.3.3.2.2" xref="S3.SS3.p4.1.m1.2.3.3.1.cmml">,</mo><mn id="S3.SS3.p4.1.m1.2.2" xref="S3.SS3.p4.1.m1.2.2.cmml">1</mn><mo id="S3.SS3.p4.1.m1.2.3.3.2.3" stretchy="false" xref="S3.SS3.p4.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.2b"><apply id="S3.SS3.p4.1.m1.2.3.cmml" xref="S3.SS3.p4.1.m1.2.3"><in id="S3.SS3.p4.1.m1.2.3.1.cmml" xref="S3.SS3.p4.1.m1.2.3.1"></in><apply id="S3.SS3.p4.1.m1.2.3.2.cmml" xref="S3.SS3.p4.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.1.m1.2.3.2.1.cmml" xref="S3.SS3.p4.1.m1.2.3.2">superscript</csymbol><apply id="S3.SS3.p4.1.m1.2.3.2.2.cmml" xref="S3.SS3.p4.1.m1.2.3.2.2"><ci id="S3.SS3.p4.1.m1.2.3.2.2.1.cmml" xref="S3.SS3.p4.1.m1.2.3.2.2.1">^</ci><ci id="S3.SS3.p4.1.m1.2.3.2.2.2.cmml" xref="S3.SS3.p4.1.m1.2.3.2.2.2">𝑦</ci></apply><apply id="S3.SS3.p4.1.m1.2.3.2.3.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3"><times id="S3.SS3.p4.1.m1.2.3.2.3.1.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3.1"></times><ci id="S3.SS3.p4.1.m1.2.3.2.3.2.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3.2">𝑡</ci><ci id="S3.SS3.p4.1.m1.2.3.2.3.3.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3.3">𝑒</ci><ci id="S3.SS3.p4.1.m1.2.3.2.3.4.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3.4">𝑥</ci><ci id="S3.SS3.p4.1.m1.2.3.2.3.5.cmml" xref="S3.SS3.p4.1.m1.2.3.2.3.5">𝑡</ci></apply></apply><set id="S3.SS3.p4.1.m1.2.3.3.1.cmml" xref="S3.SS3.p4.1.m1.2.3.3.2"><cn id="S3.SS3.p4.1.m1.1.1.cmml" type="integer" xref="S3.SS3.p4.1.m1.1.1">0</cn><cn id="S3.SS3.p4.1.m1.2.2.cmml" type="integer" xref="S3.SS3.p4.1.m1.2.2">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.2c">\hat{y}^{text}\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.1.m1.2d">over^ start_ARG italic_y end_ARG start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT ∈ { 0 , 1 }</annotation></semantics></math>. Therefore, we intercept the vocabulary scores, and then conduct a bidimensional softmax over the scores of binary key answer words. Specifically, the scores for “Yes”
and “No” are <math alttext="s_{y}" class="ltx_Math" display="inline" id="S3.SS3.p4.2.m2.1"><semantics id="S3.SS3.p4.2.m2.1a"><msub id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml">s</mi><mi id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">y</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2">𝑠</ci><ci id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">s_{y}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.2.m2.1d">italic_s start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="s_{n}" class="ltx_Math" display="inline" id="S3.SS3.p4.3.m3.1"><semantics id="S3.SS3.p4.3.m3.1a"><msub id="S3.SS3.p4.3.m3.1.1" xref="S3.SS3.p4.3.m3.1.1.cmml"><mi id="S3.SS3.p4.3.m3.1.1.2" xref="S3.SS3.p4.3.m3.1.1.2.cmml">s</mi><mi id="S3.SS3.p4.3.m3.1.1.3" xref="S3.SS3.p4.3.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m3.1b"><apply id="S3.SS3.p4.3.m3.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m3.1.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p4.3.m3.1.1.2.cmml" xref="S3.SS3.p4.3.m3.1.1.2">𝑠</ci><ci id="S3.SS3.p4.3.m3.1.1.3.cmml" xref="S3.SS3.p4.3.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.1c">s_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.3.m3.1d">italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math> respectively. Then, the pointwise scoring of LLMs can be written as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E16">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E16X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(16)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\hat{y}^{text}=\frac{\text{exp}(s_{y})}{\text{exp}(s_{y})+\text{%
exp}(s_{n})}." class="ltx_Math" display="inline" id="S3.E16X.2.1.1.m1.4"><semantics id="S3.E16X.2.1.1.m1.4a"><mrow id="S3.E16X.2.1.1.m1.4.4.1" xref="S3.E16X.2.1.1.m1.4.4.1.1.cmml"><mrow id="S3.E16X.2.1.1.m1.4.4.1.1" xref="S3.E16X.2.1.1.m1.4.4.1.1.cmml"><msup id="S3.E16X.2.1.1.m1.4.4.1.1.2" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.cmml"><mover accent="true" id="S3.E16X.2.1.1.m1.4.4.1.1.2.2" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2.cmml"><mi id="S3.E16X.2.1.1.m1.4.4.1.1.2.2.2" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2.2.cmml">y</mi><mo id="S3.E16X.2.1.1.m1.4.4.1.1.2.2.1" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.E16X.2.1.1.m1.4.4.1.1.2.3" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.cmml"><mi id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.2" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.2.cmml">t</mi><mo id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.3" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.3.cmml">e</mi><mo id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1a" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.4" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.4.cmml">x</mi><mo id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1b" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.5" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.5.cmml">t</mi></mrow></msup><mo id="S3.E16X.2.1.1.m1.4.4.1.1.1" xref="S3.E16X.2.1.1.m1.4.4.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E16X.2.1.1.m1.3.3" xref="S3.E16X.2.1.1.m1.3.3.cmml"><mfrac id="S3.E16X.2.1.1.m1.3.3a" xref="S3.E16X.2.1.1.m1.3.3.cmml"><mrow id="S3.E16X.2.1.1.m1.1.1.1" xref="S3.E16X.2.1.1.m1.1.1.1.cmml"><mtext id="S3.E16X.2.1.1.m1.1.1.1.3" xref="S3.E16X.2.1.1.m1.1.1.1.3a.cmml">exp</mtext><mo id="S3.E16X.2.1.1.m1.1.1.1.2" xref="S3.E16X.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E16X.2.1.1.m1.1.1.1.1.1" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.cmml"><mo id="S3.E16X.2.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E16X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.2" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.2.cmml">s</mi><mi id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.3.cmml">y</mi></msub><mo id="S3.E16X.2.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E16X.2.1.1.m1.3.3.3" xref="S3.E16X.2.1.1.m1.3.3.3.cmml"><mrow id="S3.E16X.2.1.1.m1.2.2.2.1" xref="S3.E16X.2.1.1.m1.2.2.2.1.cmml"><mtext id="S3.E16X.2.1.1.m1.2.2.2.1.3" xref="S3.E16X.2.1.1.m1.2.2.2.1.3a.cmml">exp</mtext><mo id="S3.E16X.2.1.1.m1.2.2.2.1.2" xref="S3.E16X.2.1.1.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E16X.2.1.1.m1.2.2.2.1.1.1" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.cmml">(</mo><msub id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.2" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.2.cmml">s</mi><mi id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.3" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.3.cmml">y</mi></msub><mo id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E16X.2.1.1.m1.3.3.3.3" xref="S3.E16X.2.1.1.m1.3.3.3.3.cmml">+</mo><mrow id="S3.E16X.2.1.1.m1.3.3.3.2" xref="S3.E16X.2.1.1.m1.3.3.3.2.cmml"><mtext id="S3.E16X.2.1.1.m1.3.3.3.2.3" xref="S3.E16X.2.1.1.m1.3.3.3.2.3a.cmml">exp</mtext><mo id="S3.E16X.2.1.1.m1.3.3.3.2.2" xref="S3.E16X.2.1.1.m1.3.3.3.2.2.cmml">⁢</mo><mrow id="S3.E16X.2.1.1.m1.3.3.3.2.1.1" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.cmml"><mo id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.2" stretchy="false" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.cmml">(</mo><msub id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.cmml"><mi id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.2" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.2.cmml">s</mi><mi id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.3" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.3.cmml">n</mi></msub><mo id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.3" stretchy="false" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E16X.2.1.1.m1.4.4.1.2" lspace="0em" xref="S3.E16X.2.1.1.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E16X.2.1.1.m1.4b"><apply id="S3.E16X.2.1.1.m1.4.4.1.1.cmml" xref="S3.E16X.2.1.1.m1.4.4.1"><eq id="S3.E16X.2.1.1.m1.4.4.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.1"></eq><apply id="S3.E16X.2.1.1.m1.4.4.1.1.2.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E16X.2.1.1.m1.4.4.1.1.2.1.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2">superscript</csymbol><apply id="S3.E16X.2.1.1.m1.4.4.1.1.2.2.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2"><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.2.1.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2.1">^</ci><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.2.2.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.2.2">𝑦</ci></apply><apply id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3"><times id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.1"></times><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.2.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.2">𝑡</ci><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.3.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.3">𝑒</ci><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.4.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.4">𝑥</ci><ci id="S3.E16X.2.1.1.m1.4.4.1.1.2.3.5.cmml" xref="S3.E16X.2.1.1.m1.4.4.1.1.2.3.5">𝑡</ci></apply></apply><apply id="S3.E16X.2.1.1.m1.3.3.cmml" xref="S3.E16X.2.1.1.m1.3.3"><divide id="S3.E16X.2.1.1.m1.3.3.4.cmml" xref="S3.E16X.2.1.1.m1.3.3"></divide><apply id="S3.E16X.2.1.1.m1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.1.1.1"><times id="S3.E16X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.2"></times><ci id="S3.E16X.2.1.1.m1.1.1.1.3a.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.3"><mtext id="S3.E16X.2.1.1.m1.1.1.1.3.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.3">exp</mtext></ci><apply id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.2">𝑠</ci><ci id="S3.E16X.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E16X.2.1.1.m1.1.1.1.1.1.1.3">𝑦</ci></apply></apply><apply id="S3.E16X.2.1.1.m1.3.3.3.cmml" xref="S3.E16X.2.1.1.m1.3.3.3"><plus id="S3.E16X.2.1.1.m1.3.3.3.3.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.3"></plus><apply id="S3.E16X.2.1.1.m1.2.2.2.1.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1"><times id="S3.E16X.2.1.1.m1.2.2.2.1.2.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.2"></times><ci id="S3.E16X.2.1.1.m1.2.2.2.1.3a.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.3"><mtext id="S3.E16X.2.1.1.m1.2.2.2.1.3.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.3">exp</mtext></ci><apply id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.2">𝑠</ci><ci id="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E16X.2.1.1.m1.2.2.2.1.1.1.1.3">𝑦</ci></apply></apply><apply id="S3.E16X.2.1.1.m1.3.3.3.2.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2"><times id="S3.E16X.2.1.1.m1.3.3.3.2.2.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.2"></times><ci id="S3.E16X.2.1.1.m1.3.3.3.2.3a.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.3"><mtext id="S3.E16X.2.1.1.m1.3.3.3.2.3.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.3">exp</mtext></ci><apply id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1"><csymbol cd="ambiguous" id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.1.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1">subscript</csymbol><ci id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.2.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.2">𝑠</ci><ci id="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.3.cmml" xref="S3.E16X.2.1.1.m1.3.3.3.2.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E16X.2.1.1.m1.4c">\displaystyle\hat{y}^{text}=\frac{\text{exp}(s_{y})}{\text{exp}(s_{y})+\text{%
exp}(s_{n})}.</annotation><annotation encoding="application/x-llamapun" id="S3.E16X.2.1.1.m1.4d">over^ start_ARG italic_y end_ARG start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT = divide start_ARG exp ( italic_s start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT ) end_ARG start_ARG exp ( italic_s start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT ) + exp ( italic_s start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS3.p4.4">This prediction will be used to calculate evaluation metrics.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Long-Short Modality Retriever</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Intuitively, ideal personalized data involves a lifelong behavior sequence. However, the time cost escalates significantly with extended behavior sequences. To address efficiency issues while improving the performance, we propose a Long-Short Modality Retriever.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.2">It has been widely demonstrated that retrieval is effective in extracting important information from long behavior sequences for the current sample prediction <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib60" title="">2020</a>; Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib58" title="">2020b</a>)</cite>. However, the history length remains a trade-off between effectiveness and efficiency. Therefore, we retrieve long histories for the input <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S3.SS4.p2.1.m1.1"><semantics id="S3.SS4.p2.1.m1.1a"><msup id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml"><mi id="S3.SS4.p2.1.m1.1.1.2" xref="S3.SS4.p2.1.m1.1.1.2.cmml">x</mi><mrow id="S3.SS4.p2.1.m1.1.1.3" xref="S3.SS4.p2.1.m1.1.1.3.cmml"><mi id="S3.SS4.p2.1.m1.1.1.3.2" xref="S3.SS4.p2.1.m1.1.1.3.2.cmml">I</mi><mo id="S3.SS4.p2.1.m1.1.1.3.1" xref="S3.SS4.p2.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p2.1.m1.1.1.3.3" xref="S3.SS4.p2.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><apply id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.1.m1.1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">superscript</csymbol><ci id="S3.SS4.p2.1.m1.1.1.2.cmml" xref="S3.SS4.p2.1.m1.1.1.2">𝑥</ci><apply id="S3.SS4.p2.1.m1.1.1.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3"><times id="S3.SS4.p2.1.m1.1.1.3.1.cmml" xref="S3.SS4.p2.1.m1.1.1.3.1"></times><ci id="S3.SS4.p2.1.m1.1.1.3.2.cmml" xref="S3.SS4.p2.1.m1.1.1.3.2">𝐼</ci><ci id="S3.SS4.p2.1.m1.1.1.3.3.cmml" xref="S3.SS4.p2.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math> in the CRM and short histories for the input <math alttext="x^{text}" class="ltx_Math" display="inline" id="S3.SS4.p2.2.m2.1"><semantics id="S3.SS4.p2.2.m2.1a"><msup id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2" xref="S3.SS4.p2.2.m2.1.1.2.cmml">x</mi><mrow id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3.cmml"><mi id="S3.SS4.p2.2.m2.1.1.3.2" xref="S3.SS4.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS4.p2.2.m2.1.1.3.1" xref="S3.SS4.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p2.2.m2.1.1.3.3" xref="S3.SS4.p2.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS4.p2.2.m2.1.1.3.1a" xref="S3.SS4.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p2.2.m2.1.1.3.4" xref="S3.SS4.p2.2.m2.1.1.3.4.cmml">x</mi><mo id="S3.SS4.p2.2.m2.1.1.3.1b" xref="S3.SS4.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS4.p2.2.m2.1.1.3.5" xref="S3.SS4.p2.2.m2.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2">𝑥</ci><apply id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3"><times id="S3.SS4.p2.2.m2.1.1.3.1.cmml" xref="S3.SS4.p2.2.m2.1.1.3.1"></times><ci id="S3.SS4.p2.2.m2.1.1.3.2.cmml" xref="S3.SS4.p2.2.m2.1.1.3.2">𝑡</ci><ci id="S3.SS4.p2.2.m2.1.1.3.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS4.p2.2.m2.1.1.3.4.cmml" xref="S3.SS4.p2.2.m2.1.1.3.4">𝑥</ci><ci id="S3.SS4.p2.2.m2.1.1.3.5.cmml" xref="S3.SS4.p2.2.m2.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">x^{text}</annotation><annotation encoding="application/x-llamapun" id="S3.SS4.p2.2.m2.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> in the LLM. The CRM, trained on longer histories, can provide more sequential information and personalized knowledge for the LLM through LoRA parameters. This approach hardly increases the time cost, achieving a fantastic balance between effectiveness and efficiency, as will be shown in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.SS5" title="4.5. Time Efficiency (RQ4) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4.5</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">The retrieval method can be diverse and flexible. For example, we retrieve behaviors using semantic behavior encoding. Specifically, we input each behavior into the LLM and obtain the hidden states from the last layer of the LLM as its representation. We then apply principal component analysis (PCA) for dimension reduction and denoising. Finally, we calculate cosine similarities to identify the top-k most relevant behaviors to the current item.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we conduct the experimental settings and results. Five research questions lead the following discussions, and our implementation code of RecLoRA is publicly available.<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://anonymous.4open.science/r/RecLoRA-955D/</span></span></span></p>
</div>
<div class="ltx_para" id="S4.p2">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.ix1.1.1.1">RQ1</span></span>
<div class="ltx_para" id="S4.I1.ix1.p1">
<p class="ltx_p" id="S4.I1.ix1.p1.1">Does RecLoRA outperform existing baselines?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.ix2.1.1.1">RQ2</span></span>
<div class="ltx_para" id="S4.I1.ix2.p1">
<p class="ltx_p" id="S4.I1.ix2.p1.1">What are the influences of different components in RecLoRA?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.ix3.1.1.1">RQ3</span></span>
<div class="ltx_para" id="S4.I1.ix3.p1">
<p class="ltx_p" id="S4.I1.ix3.p1.1">What is the influence of meta-LoRA number <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.I1.ix3.p1.1.m1.1"><semantics id="S4.I1.ix3.p1.1.m1.1a"><msub id="S4.I1.ix3.p1.1.m1.1.1" xref="S4.I1.ix3.p1.1.m1.1.1.cmml"><mi id="S4.I1.ix3.p1.1.m1.1.1.2" xref="S4.I1.ix3.p1.1.m1.1.1.2.cmml">N</mi><mi id="S4.I1.ix3.p1.1.m1.1.1.3" xref="S4.I1.ix3.p1.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.ix3.p1.1.m1.1b"><apply id="S4.I1.ix3.p1.1.m1.1.1.cmml" xref="S4.I1.ix3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I1.ix3.p1.1.m1.1.1.1.cmml" xref="S4.I1.ix3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I1.ix3.p1.1.m1.1.1.2.cmml" xref="S4.I1.ix3.p1.1.m1.1.1.2">𝑁</ci><ci id="S4.I1.ix3.p1.1.m1.1.1.3.cmml" xref="S4.I1.ix3.p1.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.ix3.p1.1.m1.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.ix3.p1.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> in Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S3.E11" title="In 3.2. Personalized Low-Rank Adaption ‣ 3. Methodology ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>)?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.ix4.1.1.1">RQ4</span></span>
<div class="ltx_para" id="S4.I1.ix4.p1">
<p class="ltx_p" id="S4.I1.ix4.p1.1">How do the performance and time cost increase when extending a longer behavior sequence?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.ix5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I1.ix5.1.1.1">RQ5</span></span>
<div class="ltx_para" id="S4.I1.ix5.p1">
<p class="ltx_p" id="S4.I1.ix5.p1.1">How does RecLoRA improve the sample efficiency for LLM?</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>The dataset statistics.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.1" style="width:195.1pt;height:40.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-77.2pt,15.9pt) scale(0.55821544958283,0.55821544958283) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T1.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Dataset</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">#Users</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">#Items</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">#Samples</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">#Fields</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">#Features</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.1.1.2.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MovieLens-25M</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">162,541</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">59,047</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">25,000,095</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.1.2.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">280,576</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.3.2">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.1.1.3.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MovieLens-1M</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">6,040</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">3,706</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">970,009</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">10</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.1.3.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">16,944</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.1.4.3">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.1.1.4.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">GoodReads</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">449,114</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">1,432,348</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">20,122,040</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">15</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.1.4.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5,787,895</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>The performance of different models in <em class="ltx_emph ltx_font_italic" id="S4.T2.13.1">ID-based</em> and <em class="ltx_emph ltx_font_italic" id="S4.T2.14.2">LM-based</em> settings.
The best result is given in bold, and the second-best value is underlined.
The symbol <math alttext="\ast" class="ltx_Math" display="inline" id="S4.T2.3.m1.1"><semantics id="S4.T2.3.m1.1b"><mo id="S4.T2.3.m1.1.1" xref="S4.T2.3.m1.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.m1.1c"><ci id="S4.T2.3.m1.1.1.cmml" xref="S4.T2.3.m1.1.1">∗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.m1.1d">\ast</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.m1.1e">∗</annotation></semantics></math> indicates a statistically significant improvement of RecLoRA over the best baseline with <math alttext="p" class="ltx_Math" display="inline" id="S4.T2.4.m2.1"><semantics id="S4.T2.4.m2.1b"><mi id="S4.T2.4.m2.1.1" xref="S4.T2.4.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T2.4.m2.1c"><ci id="S4.T2.4.m2.1.1.cmml" xref="S4.T2.4.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.m2.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.m2.1e">italic_p</annotation></semantics></math>-value ¡ 0.01.
</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T2.10" style="width:390.3pt;height:176.7pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-84.3pt,38.0pt) scale(0.698220414921203,0.698220414921203) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.10.6">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.10.6.7.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" colspan="2" id="S4.T2.10.6.7.1.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T2.10.6.7.1.1.1">Model</span></th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" colspan="3" id="S4.T2.10.6.7.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">MovieLens-25M</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" colspan="3" id="S4.T2.10.6.7.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">MovieLens-1M</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" colspan="3" id="S4.T2.10.6.7.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">GoodReads</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.8.2">
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.8.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Impr</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.8.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Impr</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.8.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Impr</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.9.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.10.6.9.3.1" rowspan="8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T2.10.6.9.3.1.1">ID-based</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.10.6.9.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">DeepFM</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8181</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4863</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.10.6.9.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.52%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7978</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5405</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.10.6.9.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.04%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7873</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5027</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.9.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.47%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.10.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.10.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">AutoInt</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8138</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4942</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.10.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.77%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7976</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5398</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.10.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.06%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7866</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5024</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.10.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.56%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.11.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.11.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">DCNv2</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8184</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4905</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.11.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.50%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7977</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5403</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.11.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.05%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7867</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5022</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.11.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.55%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.12.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.12.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">GRU4Rec</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8169</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4917</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.12.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.55%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7959</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5423</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.12.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.29%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7869</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5020</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.12.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.52%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.13.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.13.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Caser</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8167</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4917</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.13.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.39%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7952</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5425</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.13.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.37%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7872</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5023</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.13.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.49%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.14.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.14.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">SASRec</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8163</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4892</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.14.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.54%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7984</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5388</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.14.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.97%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7864</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5022</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.14.8.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.59%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.15.9">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.15.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">DIN</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8258</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4775</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.15.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.50%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7989</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5389</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.15.9.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.90%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7880</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4999</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.15.9.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.38%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.16.10">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.16.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">SIM</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8379</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4664</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.16.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.59%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7992</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5387</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.16.10.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.86%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.16.10.8.1">0.7896</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.16.10.9.1">0.4993</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.16.10.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.18%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.17.11">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.10.6.17.11.1" rowspan="4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T2.10.6.17.11.1.1">LM-based</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.10.6.17.11.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">CTR-BERT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8079</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5044</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.10.6.17.11.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.93%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7931</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5457</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.10.6.17.11.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.64%</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7176</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5576</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.10.6.17.11.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">11.32%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.18.12">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.18.12.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">TallRec</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8324</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4733</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.18.12.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.65%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7789</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5580</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.18.12.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.51%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7759</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5148</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.18.12.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">2.96%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.19.13">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T2.10.6.19.13.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">ReLLa</th>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.19.13.2.1">0.8409</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.19.13.3.1">0.4662</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.19.13.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.22%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.19.13.5.1">0.8005</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.10.6.19.13.6.1">0.5364</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.10.6.19.13.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.70%</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7833</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5065</td>
<td class="ltx_td ltx_align_center" id="S4.T2.10.6.19.13.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.99%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r" id="S4.T2.10.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.5.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.1">0.8462<sup class="ltx_sup" id="S4.T2.5.1.1.1.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.5.1.1.1.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.6.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.6.2.2.2.1">0.4552<sup class="ltx_sup" id="S4.T2.6.2.2.2.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.6.2.2.2.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r" id="S4.T2.10.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.7.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.7.3.3.3.1">0.8141<sup class="ltx_sup" id="S4.T2.7.3.3.3.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.7.3.3.3.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.8.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.4.4.4.1">0.5248<sup class="ltx_sup" id="S4.T2.8.4.4.4.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.8.4.4.4.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r" id="S4.T2.10.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.9.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.9.5.5.5.1">0.7989<sup class="ltx_sup" id="S4.T2.9.5.5.5.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.9.5.5.5.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.10.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.10.6.6.6.1">0.4916<sup class="ltx_sup" id="S4.T2.10.6.6.6.1.1"><span class="ltx_text ltx_font_medium" id="S4.T2.10.6.6.6.1.1.1">∗</span></sup></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b" id="S4.T2.10.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="184" id="S4.F4.g1" src="x4.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>The AUC performance of RecLoRA w.r.t. different meta-LoRA numbers <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.F4.3.m1.1"><semantics id="S4.F4.3.m1.1b"><msub id="S4.F4.3.m1.1.1" xref="S4.F4.3.m1.1.1.cmml"><mi id="S4.F4.3.m1.1.1.2" xref="S4.F4.3.m1.1.1.2.cmml">N</mi><mi id="S4.F4.3.m1.1.1.3" xref="S4.F4.3.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.F4.3.m1.1c"><apply id="S4.F4.3.m1.1.1.cmml" xref="S4.F4.3.m1.1.1"><csymbol cd="ambiguous" id="S4.F4.3.m1.1.1.1.cmml" xref="S4.F4.3.m1.1.1">subscript</csymbol><ci id="S4.F4.3.m1.1.1.2.cmml" xref="S4.F4.3.m1.1.1.2">𝑁</ci><ci id="S4.F4.3.m1.1.1.3.cmml" xref="S4.F4.3.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.m1.1d">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.3.m1.1e">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>. RecLoRA manages to have already performed very well starting from <math alttext="N_{m}=2" class="ltx_Math" display="inline" id="S4.F4.4.m2.1"><semantics id="S4.F4.4.m2.1b"><mrow id="S4.F4.4.m2.1.1" xref="S4.F4.4.m2.1.1.cmml"><msub id="S4.F4.4.m2.1.1.2" xref="S4.F4.4.m2.1.1.2.cmml"><mi id="S4.F4.4.m2.1.1.2.2" xref="S4.F4.4.m2.1.1.2.2.cmml">N</mi><mi id="S4.F4.4.m2.1.1.2.3" xref="S4.F4.4.m2.1.1.2.3.cmml">m</mi></msub><mo id="S4.F4.4.m2.1.1.1" xref="S4.F4.4.m2.1.1.1.cmml">=</mo><mn id="S4.F4.4.m2.1.1.3" xref="S4.F4.4.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.4.m2.1c"><apply id="S4.F4.4.m2.1.1.cmml" xref="S4.F4.4.m2.1.1"><eq id="S4.F4.4.m2.1.1.1.cmml" xref="S4.F4.4.m2.1.1.1"></eq><apply id="S4.F4.4.m2.1.1.2.cmml" xref="S4.F4.4.m2.1.1.2"><csymbol cd="ambiguous" id="S4.F4.4.m2.1.1.2.1.cmml" xref="S4.F4.4.m2.1.1.2">subscript</csymbol><ci id="S4.F4.4.m2.1.1.2.2.cmml" xref="S4.F4.4.m2.1.1.2.2">𝑁</ci><ci id="S4.F4.4.m2.1.1.2.3.cmml" xref="S4.F4.4.m2.1.1.2.3">𝑚</ci></apply><cn id="S4.F4.4.m2.1.1.3.cmml" type="integer" xref="S4.F4.4.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.4.m2.1d">N_{m}=2</annotation><annotation encoding="application/x-llamapun" id="S4.F4.4.m2.1e">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 2</annotation></semantics></math>.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experiment Setup</h3>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1. </span>Datasets</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.1">We conduct experiments on three real-world datasets (<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS1.p1.1.1">i.e.</em>, GoodReads<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://mengtingwan.github.io/data/goodreads.html" title="">https://mengtingwan.github.io/data/goodreads.html</a></span></span></span>, MovieLens-1M<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://grouplens.org/datasets/movielens/1m/" title="">https://grouplens.org/datasets/movielens/1m/</a></span></span></span> and MovieLens-25M<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://grouplens.org/datasets/movielens/25m/" title="">https://grouplens.org/datasets/movielens/25m/</a></span></span></span>).
We show the dataset statistics in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T1" title="Table 1 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a> and give detailed data preprocessing information in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A1" title="Appendix A Data Preprocessing ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">A</span></a> due to page limitations.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2. </span>Evaluation Metrics</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.1">To assess the effectiveness of our methods, we use AUC (Area Under the ROC Curve), Log Loss (binary cross-entropy loss), and Rel.Impr (Relative Improvement) as evaluation metrics. In the context of CTR prediction, even minor variations, such as a 0.001 increase in AUC or a 0.001 decrease in Log Loss, are considered significant improvements <cite class="ltx_cite ltx_citemacro_citep">(Lian et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib41" title="">2018</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib73" title="">2021b</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3. </span>Baseline Models</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">We have divided our baselines into two main categories:(1) <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS3.p1.1.1">traditional ID-based</em>, containing DeepFM <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib21" title="">2017b</a>)</cite>, AutoInt <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib65" title="">2019</a>)</cite>, and DCNv2 <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib73" title="">2021b</a>)</cite> as exemplars of feature interaction models and GRU4Rec <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib23" title="">2016</a>)</cite>, Caser <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib67" title="">2018</a>)</cite>, SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib31" title="">2018b</a>)</cite>, DIN <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib85" title="">2018</a>)</cite>, and SIM <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib58" title="">2020b</a>)</cite> as key representatives of user behavior models (2) <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS3.p1.1.2">LM-based</em>, containing CTR-BERT<cite class="ltx_cite ltx_citemacro_citep">(Muhamed et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib52" title="">2021a</a>)</cite>, TALLRec <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>)</cite>, and ReLLa <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite>. Detailed descriptions of these baselines are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A2" title="Appendix B Baseline Implementation ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.4. </span>Implementation Details</h4>
<div class="ltx_para" id="S4.SS1.SSS4.p1">
<p class="ltx_p" id="S4.SS1.SSS4.p1.1">We have provided our details, such as the base model, hyper-parameters, and prompts, in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A3" title="Appendix C Implementation Detals ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Overall Performance (RQ1)</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We evaluate the performance of RecLoRA in comparison to existing baseline models, with the results reported in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T2" title="Table 2 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>. It is important to note that most of the other recommendation baseline models are trained in full-shot settings with the entire training set, while only TallRec, ReLLa and RecLoRA are trained on few-shot training sets with 70,000 (¡10%) training samples in all three datasets. We set the length of the text and ID behavior sequences to 10 and 60, respectively, in all three datasets. <em class="ltx_emph ltx_font_italic" id="S4.SS2.p1.1.1">ReI.Impr</em> denotes the relative AUC improvement rate of RecLoRA against each baseline. Our observations from Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T2" title="Table 2 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a> are as follows.</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1">SIM achieves the best performance among all the ID-based baseline models. By applying user behavior retrieval, SIM effectively reduces the noise in user sequences, which is fundamentally beneficial for CTR predictions. Additionally, the traditional LM-based CTR model CTR-BERT performs worse than most ID-based traditional CTR models, consistent with the results reported in [40, 65]. It only incorporates the small language model BERT [2] for pure text-based recommendations, resulting in an inferior performance.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1">ReLLa generally achieves a performance comparable to the best ID-based baseline model, SIM. ReLLa incorporates retrieval-enhanced instruction tuning (ReiT) and utilizes only 10% of the training data. This observation demonstrates the effectiveness of both tuning LLM and retrieval in the input sequences.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1">RecLoRA outperforms the state-of-the-art baselines significantly with a <math alttext="p" class="ltx_Math" display="inline" id="S4.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i3.p1.1.m1.1a"><mi id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.1b"><ci id="S4.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.1.m1.1d">italic_p</annotation></semantics></math>-value ¡ 0.01 against the best baseline, validating the effectiveness of our proposed Personalized LoRA module. The better performance with only 10% of the training data for tuning LLM demonstrates that our RecLoRA model effectively captures user interests and achieves superior user personalization.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Ablation Study (RQ2)</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">In this section, we conduct ablation experiments to analyze the effectiveness of RecLoRA’s main components: the Personalized LoRA and the Long-Short Modality Retriever.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<ul class="ltx_itemize" id="S4.I3">
<li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i1.p1">
<p class="ltx_p" id="S4.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i1.p1.1.1">RecLoRA (Ours)</span>: This is the complete version of our proposed method.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i2.p1">
<p class="ltx_p" id="S4.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i2.p1.1.1">RecLoRA (w/o meta-LoRA)</span>: We remove the Personalized LoRA module and only maintain a LoRA module with a rank of 8.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i3.p1">
<p class="ltx_p" id="S4.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i3.p1.1.1">RecLoRA (w/o meta-LoRA same param)</span>: Since the personalized LoRA module has <math alttext="N_{m}=16" class="ltx_Math" display="inline" id="S4.I3.i3.p1.1.m1.1"><semantics id="S4.I3.i3.p1.1.m1.1a"><mrow id="S4.I3.i3.p1.1.m1.1.1" xref="S4.I3.i3.p1.1.m1.1.1.cmml"><msub id="S4.I3.i3.p1.1.m1.1.1.2" xref="S4.I3.i3.p1.1.m1.1.1.2.cmml"><mi id="S4.I3.i3.p1.1.m1.1.1.2.2" xref="S4.I3.i3.p1.1.m1.1.1.2.2.cmml">N</mi><mi id="S4.I3.i3.p1.1.m1.1.1.2.3" xref="S4.I3.i3.p1.1.m1.1.1.2.3.cmml">m</mi></msub><mo id="S4.I3.i3.p1.1.m1.1.1.1" xref="S4.I3.i3.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.I3.i3.p1.1.m1.1.1.3" xref="S4.I3.i3.p1.1.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I3.i3.p1.1.m1.1b"><apply id="S4.I3.i3.p1.1.m1.1.1.cmml" xref="S4.I3.i3.p1.1.m1.1.1"><eq id="S4.I3.i3.p1.1.m1.1.1.1.cmml" xref="S4.I3.i3.p1.1.m1.1.1.1"></eq><apply id="S4.I3.i3.p1.1.m1.1.1.2.cmml" xref="S4.I3.i3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.I3.i3.p1.1.m1.1.1.2.1.cmml" xref="S4.I3.i3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.I3.i3.p1.1.m1.1.1.2.2.cmml" xref="S4.I3.i3.p1.1.m1.1.1.2.2">𝑁</ci><ci id="S4.I3.i3.p1.1.m1.1.1.2.3.cmml" xref="S4.I3.i3.p1.1.m1.1.1.2.3">𝑚</ci></apply><cn id="S4.I3.i3.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I3.i3.p1.1.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i3.p1.1.m1.1c">N_{m}=16</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i3.p1.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 16</annotation></semantics></math> times more training parameters, we maintain the parameter count by replacing the meta-LoRA weights with a single LoRA weight, increasing the LoRA rank from 8 to 128.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i4.p1">
<p class="ltx_p" id="S4.I3.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i4.p1.1.1">RecLoRA (w/o long retriever)</span>: To evaluate the effect of retrieval history in <math alttext="x^{ID}" class="ltx_Math" display="inline" id="S4.I3.i4.p1.1.m1.1"><semantics id="S4.I3.i4.p1.1.m1.1a"><msup id="S4.I3.i4.p1.1.m1.1.1" xref="S4.I3.i4.p1.1.m1.1.1.cmml"><mi id="S4.I3.i4.p1.1.m1.1.1.2" xref="S4.I3.i4.p1.1.m1.1.1.2.cmml">x</mi><mrow id="S4.I3.i4.p1.1.m1.1.1.3" xref="S4.I3.i4.p1.1.m1.1.1.3.cmml"><mi id="S4.I3.i4.p1.1.m1.1.1.3.2" xref="S4.I3.i4.p1.1.m1.1.1.3.2.cmml">I</mi><mo id="S4.I3.i4.p1.1.m1.1.1.3.1" xref="S4.I3.i4.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.I3.i4.p1.1.m1.1.1.3.3" xref="S4.I3.i4.p1.1.m1.1.1.3.3.cmml">D</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.I3.i4.p1.1.m1.1b"><apply id="S4.I3.i4.p1.1.m1.1.1.cmml" xref="S4.I3.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I3.i4.p1.1.m1.1.1.1.cmml" xref="S4.I3.i4.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I3.i4.p1.1.m1.1.1.2.cmml" xref="S4.I3.i4.p1.1.m1.1.1.2">𝑥</ci><apply id="S4.I3.i4.p1.1.m1.1.1.3.cmml" xref="S4.I3.i4.p1.1.m1.1.1.3"><times id="S4.I3.i4.p1.1.m1.1.1.3.1.cmml" xref="S4.I3.i4.p1.1.m1.1.1.3.1"></times><ci id="S4.I3.i4.p1.1.m1.1.1.3.2.cmml" xref="S4.I3.i4.p1.1.m1.1.1.3.2">𝐼</ci><ci id="S4.I3.i4.p1.1.m1.1.1.3.3.cmml" xref="S4.I3.i4.p1.1.m1.1.1.3.3">𝐷</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i4.p1.1.m1.1c">x^{ID}</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i4.p1.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_I italic_D end_POSTSUPERSCRIPT</annotation></semantics></math>, we remove the long retriever module and only use the recent history.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i5.p1">
<p class="ltx_p" id="S4.I3.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i5.p1.1.1">RecLoRA (w/o short retriever)</span>: To evaluate the effect of retrieval history in <math alttext="x^{text}" class="ltx_Math" display="inline" id="S4.I3.i5.p1.1.m1.1"><semantics id="S4.I3.i5.p1.1.m1.1a"><msup id="S4.I3.i5.p1.1.m1.1.1" xref="S4.I3.i5.p1.1.m1.1.1.cmml"><mi id="S4.I3.i5.p1.1.m1.1.1.2" xref="S4.I3.i5.p1.1.m1.1.1.2.cmml">x</mi><mrow id="S4.I3.i5.p1.1.m1.1.1.3" xref="S4.I3.i5.p1.1.m1.1.1.3.cmml"><mi id="S4.I3.i5.p1.1.m1.1.1.3.2" xref="S4.I3.i5.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S4.I3.i5.p1.1.m1.1.1.3.1" xref="S4.I3.i5.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.I3.i5.p1.1.m1.1.1.3.3" xref="S4.I3.i5.p1.1.m1.1.1.3.3.cmml">e</mi><mo id="S4.I3.i5.p1.1.m1.1.1.3.1a" xref="S4.I3.i5.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.I3.i5.p1.1.m1.1.1.3.4" xref="S4.I3.i5.p1.1.m1.1.1.3.4.cmml">x</mi><mo id="S4.I3.i5.p1.1.m1.1.1.3.1b" xref="S4.I3.i5.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.I3.i5.p1.1.m1.1.1.3.5" xref="S4.I3.i5.p1.1.m1.1.1.3.5.cmml">t</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.I3.i5.p1.1.m1.1b"><apply id="S4.I3.i5.p1.1.m1.1.1.cmml" xref="S4.I3.i5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I3.i5.p1.1.m1.1.1.1.cmml" xref="S4.I3.i5.p1.1.m1.1.1">superscript</csymbol><ci id="S4.I3.i5.p1.1.m1.1.1.2.cmml" xref="S4.I3.i5.p1.1.m1.1.1.2">𝑥</ci><apply id="S4.I3.i5.p1.1.m1.1.1.3.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3"><times id="S4.I3.i5.p1.1.m1.1.1.3.1.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3.1"></times><ci id="S4.I3.i5.p1.1.m1.1.1.3.2.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3.2">𝑡</ci><ci id="S4.I3.i5.p1.1.m1.1.1.3.3.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3.3">𝑒</ci><ci id="S4.I3.i5.p1.1.m1.1.1.3.4.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3.4">𝑥</ci><ci id="S4.I3.i5.p1.1.m1.1.1.3.5.cmml" xref="S4.I3.i5.p1.1.m1.1.1.3.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I3.i5.p1.1.m1.1c">x^{text}</annotation><annotation encoding="application/x-llamapun" id="S4.I3.i5.p1.1.m1.1d">italic_x start_POSTSUPERSCRIPT italic_t italic_e italic_x italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>, we remove the short retriever module and only use the recent history.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i6.p1">
<p class="ltx_p" id="S4.I3.i6.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i6.p1.1.1">RecLoRA (w/o long-short retriever)</span>: To evaluate the overall effect of retrieval history, we remove both the long and short retrievers, using only the recent history.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">The results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T3" title="Table 3 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>. We observe that the performance of RecLoRA significantly decreases when the personalized LoRA module is removed. This finding confirms that the lack of user personalization knowledge in the LLM tuning process leads to suboptimal performance. Our proposed personalized LoRA module effectively addresses this issue and improves performance. Additionally, we observe from the third line that the improvement is not merely due to an increase in the parameter count by <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1"><semantics id="S4.SS3.p3.1.m1.1a"><msub id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mi id="S4.SS3.p3.1.m1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.2.cmml">N</mi><mi id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2">𝑁</ci><ci id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> times.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">Meanwhile, we observe that removing either the long or short retriever generally results in a performance drop. This highlights the importance of considering lifelong user sequences and demonstrates that inputs from different modalities both benefit from retrieving long sequences.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>The performance of different variants of RecLoRA. We remove different components of RecLoRA to evaluate the contribution of each part to the model. The best result is given in bold, and the second-best value is underlined..</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.1" style="width:433.6pt;height:101.3pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-93.6pt,21.7pt) scale(0.698353625795449,0.698353625795449) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T3.1.1.1.1.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.1.1.1.1.1.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S4.T3.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">ML-25M</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="3" id="S4.T3.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">ML-1M</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="3" id="S4.T3.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">GoodReads</th>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T3.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Decr</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T3.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Decr</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">Log Loss</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.2.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">Rel.Decr</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.1.1.3.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8462</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1.3.1">0.4552</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1.5.1">0.8141</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1.6.1">0.5248</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T3.1.1.3.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1.8.1">0.7989</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1.9.1">0.4916</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.1.3.1.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.4.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA (w/o meta-LoRA)</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8360</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4662</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-1.21%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7869</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5517</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.4.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-3.34%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7740</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5181</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.4.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-3.12%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.5.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA (w/o meta-LoRA same param)</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8370</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4759</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.5.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-1.09%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7820</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5548</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.5.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-3.94%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7735</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5125</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-3.17%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.6.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA (w/o long retriever)</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.4.2.1">0.8501</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4761</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+0.46%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.6.4.5.1">0.8026</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.6.4.6.1">0.5321</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-1.41%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.6744</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.6231</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-15.6%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.7.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA (w/o short retriever)</th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.7.5.2.1">0.8473</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.7.5.3.1">0.4606</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+0.13%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8001</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5359</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-1.71%</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.7.5.8.1">0.7971</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T3.1.1.7.5.9.1">0.4924</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.22%</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.8.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T3.1.1.8.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">RecLoRA (w/o long-short retriever)</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.8453</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4787</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.8.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.11%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7978</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5373</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T3.1.1.8.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-2.00%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.6882</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.6073</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.1.1.8.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-13.9%</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>The performance and time cost of ReLLa and RecLoRA in GoodReads w.r.t. different history length in text and ID inputs.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T4.1" style="width:208.1pt;height:65.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-96.9pt,30.4pt) scale(0.51782124266159,0.51782124266159) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T4.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" colspan="2" id="S4.T4.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Hist Length</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2" id="S4.T4.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">AUC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2" id="S4.T4.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Training</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S4.T4.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">Inference</th>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" id="S4.T4.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Text</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T4.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">ID</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Value</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T4.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">Improve</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">Time</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T4.1.1.2.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">Increase</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.1.1.2.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">Time</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.1.1.2.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">Increase</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.1.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S4.T4.1.1.3.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.1.1.3.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.3.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7776</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.1.1.3.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.3.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.4s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.1.1.3.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.3.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.6s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.3.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T4.1.1.4.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">30</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.1.4.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7828</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.4.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+0.6%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.34s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.4.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">+138.78%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.06s/sample</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.4.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">+76.67%</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.5.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T4.1.1.5.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">60</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.1.5.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T4.1.1.5.3.3.1">0.7833</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.5.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+0.73%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.41s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.5.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">+358.16%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.83s/sample</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.5.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">+205.55%</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.6.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T4.1.1.6.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.1.1.6.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">30</th>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.6.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.7822</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.6.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+0.59%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.6.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.42s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.1.1.6.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">+2.04%</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.6.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.63s/sample</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.1.6.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">+5.55%</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1.7.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S4.T4.1.1.7.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">10</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T4.1.1.7.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">60</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.7.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.1.1.7.5.3.1">0.7989</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.1.1.7.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">+2.73%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.7.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">1.45s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.1.1.7.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">+4.08%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.7.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.65s/sample</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.7.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">+8.33%</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_figure" id="S4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="184" id="S4.F5.g1" src="x5.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>The performance of RecLoRA w.r.t. different history length in ID inputs.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Hyperparameter Study (RQ3)</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In this section, we conduct hyperparameter experiments to analyze the influence of the meta-LoRA number <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><msub id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">N</mi><mi id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝑁</ci><ci id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> in the personalized LoRA module. The results are shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F4" title="Figure 4 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.3">As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F4" title="Figure 4 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>, the evaluation metric AUC generally increases with the hyperparameter <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><msub id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">N</mi><mi id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">𝑁</ci><ci id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>, reaching a maximum value at <math alttext="N_{m}=16" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><mrow id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><msub id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2.2" xref="S4.SS4.p2.2.m2.1.1.2.2.cmml">N</mi><mi id="S4.SS4.p2.2.m2.1.1.2.3" xref="S4.SS4.p2.2.m2.1.1.2.3.cmml">m</mi></msub><mo id="S4.SS4.p2.2.m2.1.1.1" xref="S4.SS4.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><eq id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1.1"></eq><apply id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.2.1.cmml" xref="S4.SS4.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2.2">𝑁</ci><ci id="S4.SS4.p2.2.m2.1.1.2.3.cmml" xref="S4.SS4.p2.2.m2.1.1.2.3">𝑚</ci></apply><cn id="S4.SS4.p2.2.m2.1.1.3.cmml" type="integer" xref="S4.SS4.p2.2.m2.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">N_{m}=16</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 16</annotation></semantics></math>. This experiment demonstrates that increasing the parameter count improves overall performance, as the hyperparameter <math alttext="N_{m}" class="ltx_Math" display="inline" id="S4.SS4.p2.3.m3.1"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">N</mi><mi id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝑁</ci><ci id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">N_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.3.m3.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> determines the number of meta-LoRA weights and the associated trainable parameters.</p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.3">Furthermore, when <math alttext="N_{m}=1" class="ltx_Math" display="inline" id="S4.SS4.p3.1.m1.1"><semantics id="S4.SS4.p3.1.m1.1a"><mrow id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml"><msub id="S4.SS4.p3.1.m1.1.1.2" xref="S4.SS4.p3.1.m1.1.1.2.cmml"><mi id="S4.SS4.p3.1.m1.1.1.2.2" xref="S4.SS4.p3.1.m1.1.1.2.2.cmml">N</mi><mi id="S4.SS4.p3.1.m1.1.1.2.3" xref="S4.SS4.p3.1.m1.1.1.2.3.cmml">m</mi></msub><mo id="S4.SS4.p3.1.m1.1.1.1" xref="S4.SS4.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p3.1.m1.1.1.3" xref="S4.SS4.p3.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><apply id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1"><eq id="S4.SS4.p3.1.m1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1.1"></eq><apply id="S4.SS4.p3.1.m1.1.1.2.cmml" xref="S4.SS4.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.1.1.2.1.cmml" xref="S4.SS4.p3.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS4.p3.1.m1.1.1.2.2.cmml" xref="S4.SS4.p3.1.m1.1.1.2.2">𝑁</ci><ci id="S4.SS4.p3.1.m1.1.1.2.3.cmml" xref="S4.SS4.p3.1.m1.1.1.2.3">𝑚</ci></apply><cn id="S4.SS4.p3.1.m1.1.1.3.cmml" type="integer" xref="S4.SS4.p3.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">N_{m}=1</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 1</annotation></semantics></math>, the personalized LoRA module collapses into a single LoRA module without CRM instruction, resulting in the worst performance. Notably, even starting from <math alttext="N_{m}=2" class="ltx_Math" display="inline" id="S4.SS4.p3.2.m2.1"><semantics id="S4.SS4.p3.2.m2.1a"><mrow id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml"><msub id="S4.SS4.p3.2.m2.1.1.2" xref="S4.SS4.p3.2.m2.1.1.2.cmml"><mi id="S4.SS4.p3.2.m2.1.1.2.2" xref="S4.SS4.p3.2.m2.1.1.2.2.cmml">N</mi><mi id="S4.SS4.p3.2.m2.1.1.2.3" xref="S4.SS4.p3.2.m2.1.1.2.3.cmml">m</mi></msub><mo id="S4.SS4.p3.2.m2.1.1.1" xref="S4.SS4.p3.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS4.p3.2.m2.1.1.3" xref="S4.SS4.p3.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><apply id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1"><eq id="S4.SS4.p3.2.m2.1.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1.1"></eq><apply id="S4.SS4.p3.2.m2.1.1.2.cmml" xref="S4.SS4.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.2.m2.1.1.2.1.cmml" xref="S4.SS4.p3.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.p3.2.m2.1.1.2.2.cmml" xref="S4.SS4.p3.2.m2.1.1.2.2">𝑁</ci><ci id="S4.SS4.p3.2.m2.1.1.2.3.cmml" xref="S4.SS4.p3.2.m2.1.1.2.3">𝑚</ci></apply><cn id="S4.SS4.p3.2.m2.1.1.3.cmml" type="integer" xref="S4.SS4.p3.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">N_{m}=2</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 2</annotation></semantics></math>, RecLoRA performs very well, even comparable to <math alttext="N_{m}=16" class="ltx_Math" display="inline" id="S4.SS4.p3.3.m3.1"><semantics id="S4.SS4.p3.3.m3.1a"><mrow id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml"><msub id="S4.SS4.p3.3.m3.1.1.2" xref="S4.SS4.p3.3.m3.1.1.2.cmml"><mi id="S4.SS4.p3.3.m3.1.1.2.2" xref="S4.SS4.p3.3.m3.1.1.2.2.cmml">N</mi><mi id="S4.SS4.p3.3.m3.1.1.2.3" xref="S4.SS4.p3.3.m3.1.1.2.3.cmml">m</mi></msub><mo id="S4.SS4.p3.3.m3.1.1.1" xref="S4.SS4.p3.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS4.p3.3.m3.1.1.3" xref="S4.SS4.p3.3.m3.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><apply id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1"><eq id="S4.SS4.p3.3.m3.1.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1.1"></eq><apply id="S4.SS4.p3.3.m3.1.1.2.cmml" xref="S4.SS4.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.1.1.2.1.cmml" xref="S4.SS4.p3.3.m3.1.1.2">subscript</csymbol><ci id="S4.SS4.p3.3.m3.1.1.2.2.cmml" xref="S4.SS4.p3.3.m3.1.1.2.2">𝑁</ci><ci id="S4.SS4.p3.3.m3.1.1.2.3.cmml" xref="S4.SS4.p3.3.m3.1.1.2.3">𝑚</ci></apply><cn id="S4.SS4.p3.3.m3.1.1.3.cmml" type="integer" xref="S4.SS4.p3.3.m3.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">N_{m}=16</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.3.m3.1d">italic_N start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT = 16</annotation></semantics></math> in GoodReads. This illustrates the effectiveness of personalized LoRA without significantly increasing the parameter count.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Time Efficiency (RQ4)</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">In this section, we conduct time efficiency experiments to analyze the balance of performance and time cost when increasing sequence lengths in the RecLoRA model. The results of GoodReads are shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F5" title="Figure 5 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T4" title="Table 4 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>. The results of the other two datasets are similar and omitted in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T4" title="Table 4 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a> due to page limits.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F5" title="Figure 5 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">5</span></a> displays the performance of RecLoRA as the ID sequence length increases. We observe that the performance improves significantly with longer ID sequences. Since CRM provides instructions for meta-LoRA weights aggregation in the personalized LoRA module, a better performance of CRM theoretically enhances RecLoRA’s performance, which is consistent with our experimental results.</p>
</div>
<div class="ltx_para" id="S4.SS5.p3">
<p class="ltx_p" id="S4.SS5.p3.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T4" title="Table 4 ‣ 4.3. Ablation Study (RQ2) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a> shows the performance and time cost of RecLoRA with different historical lengths in text and ID inputs. It reveals that while increasing text sequence lengths improves performance by +0.73%, it also leads to a substantial and unacceptable increase in training and inference time costs of +358.16% and +205.55%, respectively. In contrast, not only the performance is improved significantly by +2.73% when extending ID history lengths, but also the corresponding training and inference time only increase by +4.04% and +8.33%, respectively, which are negligible compared to the time increases associated with longer text sequences. These results highlight RecLoRA’s advantage in balancing effectiveness and efficiency.</p>
</div>
<figure class="ltx_figure" id="S4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="184" id="S4.F6.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>The AUC performance of ReLLa and RecLoRA models w.r.t different sample numbers used to tune LLM. RecLoRA obviously has a higher sample efficiency compared to ReLLa.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>Sample Efficiency (RQ5)</h3>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.1">In this few-shot setting, we want to explore how much data is necessary for LLMs to adapt to CTR distributions. So we investigate the sample efficiency by varying the number of samples used in training LLM, following previous works<cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite>. In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F6" title="Figure 6 ‣ 4.5. Time Efficiency (RQ4) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>, we report the AUC performance of ReLLa (a few-shot baseline) and RecLoRA with different sample sizes (ranging from 2,048 to 70,000). The text and ID behavior sequence lengths are set to 10 and 60, respectively.</p>
</div>
<div class="ltx_para" id="S4.SS6.p2">
<p class="ltx_p" id="S4.SS6.p2.1">As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.F6" title="Figure 6 ‣ 4.5. Time Efficiency (RQ4) ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>, both ReLLa and RecLoRA show performance enhancements as sample numbers gradually increase. However, with the same sample number, RecLoRA consistently outperforms ReLLa by a significant margin. Moreover, even with a small sample size (10,000), RecLoRA performs better than ReLLa with a relatively large sample size (70,000). This is due to RecLoRA’s Few2Many Strategy, which utilizes a fully pre-trained CRM for instruction, helping LLMs adapt to CTR distributions better with fewer samples.</p>
</div>
<div class="ltx_para" id="S4.SS6.p3">
<p class="ltx_p" id="S4.SS6.p3.1">With a limited number of training samples, RecLoRA demonstrates remarkable sample efficiency and considerable few-shot inference ability, benefiting from the mutual assistance of the open-world knowledge of LLMs and the collaborative signals of CRMs.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Related Works</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Large Language Model for Recommendation</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Previous work <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib43" title="">2023a</a>)</cite> has suggested that the employment of language models to recommender systems can generally be categorized based on the roles they play in the recommendation pipeline. <em class="ltx_emph ltx_font_italic" id="S5.SS1.p1.1.1">i.e.</em>, feature engineering <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib49" title="">2023a</a>; Borisov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib3" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib35" title="">2023d</a>; Mysore et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib54" title="">2023</a>; Carranza et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib6" title="">2023</a>; Christakopoulou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib12" title="">2023</a>)</cite>, feature encoder <cite class="ltx_cite ltx_citemacro_citep">(Muhamed et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib53" title="">2021b</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib25" title="">2022</a>; Yu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib75" title="">2021</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib70" title="">2022</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib24" title="">2023a</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib79" title="">2022</a>; Fu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib17" title="">2023</a>; Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib76" title="">2023</a>; Qiu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib63" title="">2021</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib37" title="">2023c</a>; He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib22" title="">2022</a>; Muhamed et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib53" title="">2021b</a>)</cite>, scoring/ranking function <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib47" title="">2022</a>; Kang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib32" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib80" title="">2021</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib40" title="">2023f</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib36" title="">2023e</a>; Zhang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib82" title="">2023</a>; Mao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib51" title="">2023</a>; Hua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib28" title="">2023a</a>; Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib19" title="">2023</a>; Hua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib29" title="">2023b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib77" title="">2023a</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib26" title="">2023b</a>; Chen, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib10" title="">2023</a>; Petrov and Macdonald, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib55" title="">2023</a>; Wang and Lim, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib71" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">In feature engineering, large language models (LLMs) process raw data (<em class="ltx_emph ltx_font_italic" id="S5.SS1.p2.1.1">e.g.</em>, user profiles and item descriptions) as input, and output open-world knowledge or potential new attributes for data augmentation with carefully designed prompts or templates.
For example, KAR <cite class="ltx_cite ltx_citemacro_citep">(Xi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib74" title="">2023</a>)</cite> utilizes the potential knowledge of user preferences and item attributes by requesting LLMs with factorization prompting techniques.
GENRE <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib49" title="">2023a</a>)</cite> employs LLMs to generate news summarization, synthetic pieces, and user profiles.
The obtained knowledge serves as augmented features and improves performances of recommenders in a model-agnostic manner.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">In feature encoders, LLMs are used as auxiliary textual encoders to both enrich the user/item representations with semantic information and enable cross-domain recommendation with the open-world natural language interface.
For instance, U-BERT <cite class="ltx_cite ltx_citemacro_citep">(Qiu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib63" title="">2021</a>)</cite> enhances user representation by encoding review texts into dense vectors via BERT. UniSRec <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib25" title="">2022</a>)</cite> and VQ-Rec <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib24" title="">2023a</a>)</cite> apply a fixed BERT as the encoder for item descriptive texts, to achieve unified cross-domain sequential recommendation.</p>
</div>
<div class="ltx_para" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.1">In scoring/ranking function, instead of doing assistant tasks for recommendation (<em class="ltx_emph ltx_font_italic" id="S5.SS1.p4.1.1">e.g.</em>, feature engineering or feature encoder), LLMs are adopted to do the scoring or ranking task, which is the core component of recommendation.
In this case, LLMs try to accomplish either the item scoring task <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib47" title="">2022</a>; Kang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib32" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib80" title="">2021</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib40" title="">2023f</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib36" title="">2023e</a>; Zhang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib82" title="">2023</a>; Mao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib51" title="">2023</a>; Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite>, or item generation task <cite class="ltx_cite ltx_citemacro_citep">(Hua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib28" title="">2023a</a>; Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib19" title="">2023</a>; Hua et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib29" title="">2023b</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib77" title="">2023a</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib26" title="">2023b</a>; Chen, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib10" title="">2023</a>; Petrov and Macdonald, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib55" title="">2023</a>; Wang and Lim, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib71" title="">2023</a>)</cite>.
Also, various works <cite class="ltx_cite ltx_citemacro_citep">(Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib18" title="">2022</a>; Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib13" title="">2022</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib78" title="">2023c</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib48" title="">2023b</a>; Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib66" title="">2023</a>; Dai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib14" title="">2023</a>)</cite> attempt to explore the multi-task capacity of LLMs, and instruct LLMs with various ways to solve the multiple tasks (<em class="ltx_emph ltx_font_italic" id="S5.SS1.p4.1.2">e.g.</em>, both scoring and generation) through a unified language interface.</p>
</div>
<div class="ltx_para" id="S5.SS1.p5">
<p class="ltx_p" id="S5.SS1.p5.1">In this paper, we focus on utilizing LLMs as scoring functions, using LoRA techniques to parameter-efficiently tune LLM to fit the CTR distribution. We design a personalized LoRA module, which aggregates LoRA weights guided by conventional recommendation models. To the best of our knowledge, we are the first to consider LoRA parameters personalization by introducing CRM instructions in the large language model for recommendation setting.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Long Sequence User Modeling</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">During recommendation task, Kim <cite class="ltx_cite ltx_citemacro_citep">(Kim and Chan, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib33" title="">2003</a>)</cite> argues that long-term sequence means general interest, which is back to one’s mind and important for personalization. Existing approaches for addressing long-term user sequence mainly focus on memory network and retrieval methods. Hierarchical Periodic Memory Network (HPMN) <cite class="ltx_cite ltx_citemacro_citep">(Ren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib64" title="">2019</a>)</cite> proposes a hierarchical and periodical updating mechanism for capturing multi-scale sequential user interests. The Memory Augmented Neural Network (MIMN) <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib56" title="">2019</a>)</cite> stores behaviors in a memory matrix at the user interest center and updates the memory for new users.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">Sequential Interest Modeling (SIM) <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib57" title="">2020a</a>)</cite> and User Behavior Retrieval for CTR (UBR4CTR) <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib60" title="">2020</a>)</cite> have introduced retrieval-enhanced history and two-stage frameworks to catch user patterns in the past, which are related to current targets. UBR4CTR employs BM25 as the relevance metric in its initial stage. In contrast, the original SIM has two variations with different designs. SIM Hard selects relevant items based on the same category as the target item, while SIM Soft utilizes the inner product of pre-trained item embeddings to determine relevance. Efficient Temporal Attention (ETA) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib9" title="">2021</a>)</cite> employs locality-sensitive hashing (LSH) to encode item embeddings and retrieve relevant items from long sequences via Hamming distance. Sequential Dynamic Interest Modeling (SDIM) <cite class="ltx_cite ltx_citemacro_citep">(Cao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib5" title="">2022</a>)</cite> samples behavior items that share the same hash signature as the target item through multiple rounds of hash collisions, and then linearly aggregates these sampled behavior items to capture user interests.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">Inspired by these works above, we propose a novel Long-Short Modality Retriever to address long sequence problems in LLM-based recommendation, showing both its effectiveness and efficiency.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this paper, we explore the application of large language models in recommendation systems.
We begin by addressing the current challenges related to personalization and long sequences.
To tackle these issues, we propose RecLoRA, a model designed for lifelong personalized low-rank adaptation. RecLoRA includes a Personalized LoRA module, which maintains distinct LoRAs for individual users.
Additionally, a Long-Short Modality Retriever extracts varying history lengths for different modalities, enhancing performance with negligible time increase.
We also employ a conventional recommendation model to extend the scope of LLMs to the full training space.
RecLoRA shows promising performance in offline experiments on three public datasets.
Further, ablation, hyperparameter, and efficiency studies demonstrate its strong balance between effectiveness and efficiency.
For future work, we plan to explore more advanced structures for personalization in LLMs and address the fairness issue, which is crucial for achieving complete personalization.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Tallrec: An effective and efficient tuning framework to align large language model with recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">arXiv preprint arXiv:2305.00447</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Borisov et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Vadim Borisov, Kathrin Seßler, Tobias Leemann, Martin Pawelczyk, and Gjergji Kasneci. 2022.

</span>
<span class="ltx_bibblock">Language models are realistic tabular data generators.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">arXiv preprint arXiv:2210.06280</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, et al<span class="ltx_text" id="bib.bib4.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.4.1">Advances in neural information processing systems</em> 33 (2020), 1877–1901.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cao et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yue Cao, Xiaojiang Zhou, Jiaqi Feng, Peihao Huang, Yao Xiao, Dayao Chen, and Sheng Chen. 2022.

</span>
<span class="ltx_bibblock">Sampling is all you need on modeling long-term user behaviors for CTR prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the 31st ACM International Conference on Information &amp; Knowledge Management</em>. 2974–2983.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carranza et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Aldo Gael Carranza, Rezsa Farahani, Natalia Ponomareva, Alex Kurakin, Matthew Jagielski, and Milad Nasr. 2023.

</span>
<span class="ltx_bibblock">Privacy-Preserving Recommender Systems with Synthetic Query Generation using Differentially Private Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:2305.05973</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chang et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jianxin Chang, Chenbin Zhang, Zhiyi Fu, Xiaoxue Zang, Lin Guan, Jing Lu, Yiqun Hui, Dewei Leng, Yanan Niu, Yang Song, et al<span class="ltx_text" id="bib.bib7.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">TWIN: TWo-stage Interest Network for Lifelong User Behavior Modeling in CTR Prediction at Kuaishou. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.4.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 3785–3794.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jin Chen, Zheng Liu, Xu Huang, Chenwang Wu, Qi Liu, Gangwei Jiang, Yuanhao Pu, Yuxuan Lei, Xiaolong Chen, Xingmei Wang, et al<span class="ltx_text" id="bib.bib8.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">When large language models meet personalization: Perspectives of challenges and opportunities.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.4.1">arXiv preprint arXiv:2307.16376</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Qiwei Chen, Changhua Pei, Shanshan Lv, Chao Li, Junfeng Ge, and Wenwu Ou. 2021.

</span>
<span class="ltx_bibblock">End-to-end user behavior retrieval in click-through rateprediction model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">arXiv preprint arXiv:2108.04468</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen (2023)</span>
<span class="ltx_bibblock">
Zheng Chen. 2023.

</span>
<span class="ltx_bibblock">PALR: Personalization Aware LLMs for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2305.07622</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wei-Lin Chiang, Zhuohan Li, Zi Lin, Ying Sheng, Zhanghao Wu, Hao Zhang, Lianmin Zheng, Siyuan Zhuang, Yonghao Zhuang, Joseph E. Gonzalez, Ion Stoica, and Eric P. Xing. 2023.

</span>
<span class="ltx_bibblock">Vicuna: An Open-Source Chatbot Impressing GPT-4 with 90%* ChatGPT Quality.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://lmsys.org/blog/2023-03-30-vicuna/" title="">https://lmsys.org/blog/2023-03-30-vicuna/</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christakopoulou et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Konstantina Christakopoulou, Alberto Lalama, Cj Adams, Iris Qu, Yifat Amir, Samer Chucri, Pierce Vollucci, Fabio Soldo, Dina Bseiso, Sarah Scodel, et al<span class="ltx_text" id="bib.bib12.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Large Language Models for User Interest Journeys.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.4.1">arXiv preprint arXiv:2305.15498</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Zeyu Cui, Jianxin Ma, Chang Zhou, Jingren Zhou, and Hongxia Yang. 2022.

</span>
<span class="ltx_bibblock">M6-rec: Generative pretrained language models are open-ended recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">arXiv preprint arXiv:2205.08084</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sunhao Dai, Ninglu Shao, Haiyuan Zhao, Weijie Yu, Zihua Si, Chen Xu, Zhongxiang Sun, Xiao Zhang, and Jun Xu. 2023.

</span>
<span class="ltx_bibblock">Uncovering ChatGPT’s Capabilities in Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">arXiv preprint arXiv:2305.02182</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dettmers et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Tim Dettmers, Artidoro Pagnoni, Ari Holtzman, and Luke Zettlemoyer. 2023.

</span>
<span class="ltx_bibblock">Qlora: Efficient finetuning of quantized llms.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">arXiv preprint arXiv:2305.14314</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2018.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language understanding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">arXiv preprint arXiv:1810.04805</em> (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fu et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Junchen Fu, Fajie Yuan, Yu Song, Zheng Yuan, Mingyue Cheng, Shenghui Cheng, Jiaqi Zhang, Jie Wang, and Yunzhu Pan. 2023.

</span>
<span class="ltx_bibblock">Exploring Adapter-based Transfer Learning for Recommender Systems: Empirical Studies and Practical Insights.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">arXiv preprint arXiv:2305.15036</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang Liu, Zuohui Fu, Yingqiang Ge, and Yongfeng Zhang. 2022.

</span>
<span class="ltx_bibblock">Recommendation as language processing (rlp): A unified pretrain, personalized prompt &amp; predict paradigm (p5). In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the 16th ACM Conference on Recommender Systems</em>. 299–315.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shijie Geng, Juntao Tan, Shuchang Liu, Zuohui Fu, and Yongfeng Zhang. 2023.

</span>
<span class="ltx_bibblock">VIP5: Towards Multimodal Foundation Models for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:2305.14302</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2017a)</span>
<span class="ltx_bibblock">
Huifeng Guo, Ruiming Tang, Yunming Ye, Zhenguo Li, and Xiuqiang He. 2017a.

</span>
<span class="ltx_bibblock">DeepFM: a factorization-machine based neural network for CTR prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">arXiv preprint arXiv:1703.04247</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2017b)</span>
<span class="ltx_bibblock">
Huifeng Guo, Ruiming Tang, Yunming Ye, Zhenguo Li, and Xiuqiang He. 2017b.

</span>
<span class="ltx_bibblock">DeepFM: a factorization-machine based neural network for CTR prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">Proceedings of the 26th International Joint Conference on Artificial Intelligence</em>. 1725–1731.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Junda He, Bowen Xu, Zhou Yang, DongGyun Han, Chengran Yang, and David Lo. 2022.

</span>
<span class="ltx_bibblock">PTM4Tag: sharpening tag recommendation of stack overflow posts with pre-trained models. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 30th IEEE/ACM International Conference on Program Comprehension</em>. 1–11.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Balázs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based recommendations with recurrent neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">ICLR</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Yupeng Hou, Zhankui He, Julian McAuley, and Wayne Xin Zhao. 2023a.

</span>
<span class="ltx_bibblock">Learning vector-quantized item representation for transferable sequential recommenders. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the ACM Web Conference 2023</em>. 1162–1171.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yupeng Hou, Shanlei Mu, Wayne Xin Zhao, Yaliang Li, Bolin Ding, and Ji-Rong Wen. 2022.

</span>
<span class="ltx_bibblock">Towards universal sequence representation learning for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">Proceedings of the 28th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 585–593.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Yupeng Hou, Junjie Zhang, Zihan Lin, Hongyu Lu, Ruobing Xie, Julian McAuley, and Wayne Xin Zhao. 2023b.

</span>
<span class="ltx_bibblock">Large language models are zero-shot rankers for recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">arXiv preprint arXiv:2305.08845</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, Lu Wang, and Weizhu Chen. 2021.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">arXiv preprint arXiv:2106.09685</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hua et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Wenyue Hua, Yingqiang Ge, Shuyuan Xu, Jianchao Ji, and Yongfeng Zhang. 2023a.

</span>
<span class="ltx_bibblock">UP5: Unbiased Foundation Model for Fairness-aware Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">arXiv preprint arXiv:2305.12090</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hua et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Wenyue Hua, Shuyuan Xu, Yingqiang Ge, and Yongfeng Zhang. 2023b.

</span>
<span class="ltx_bibblock">How to Index Item IDs for Recommendation Foundation Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">arXiv preprint arXiv:2305.06569</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018a)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018a.

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">2018 IEEE international conference on data mining (ICDM)</em>. IEEE, 197–206.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018b)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018b.

</span>
<span class="ltx_bibblock">Self-Attentive Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">ICDM</em> (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang, Jianmo Ni, Nikhil Mehta, Maheswaran Sathiamoorthy, Lichan Hong, Ed Chi, and Derek Zhiyuan Cheng. 2023.

</span>
<span class="ltx_bibblock">Do LLMs Understand User Preferences? Evaluating LLMs On User Rating Prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">arXiv preprint arXiv:2305.06474</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim and Chan (2003)</span>
<span class="ltx_bibblock">
Hyoung R Kim and Philip K Chan. 2003.

</span>
<span class="ltx_bibblock">Learning implicit user interest hierarchy for context in personalization. In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of the 8th international conference on Intelligent user interfaces</em>. 101–108.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba (2014)</span>
<span class="ltx_bibblock">
Diederik P Kingma and Jimmy Ba. 2014.

</span>
<span class="ltx_bibblock">Adam: A method for stochastic optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">arXiv preprint arXiv:1412.6980</em> (2014).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2023d)</span>
<span class="ltx_bibblock">
Chen Li, Yixiao Ge, Jiayong Mao, Dian Li, and Ying Shan. 2023d.

</span>
<span class="ltx_bibblock">TagGPT: Large Language Models are Zero-shot Multimodal Taggers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">arXiv preprint arXiv:2304.03022</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2023e)</span>
<span class="ltx_bibblock">
Jiacheng Li, Ming Wang, Jin Li, Jinmiao Fu, Xin Shen, Jingbo Shang, and Julian McAuley. 2023e.

</span>
<span class="ltx_bibblock">Text Is All You Need: Learning Language Representations for Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">arXiv preprint arXiv:2305.13731</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Ruyu Li, Wenhao Deng, Yu Cheng, Zheng Yuan, Jiaqi Zhang, and Fajie Yuan. 2023c.

</span>
<span class="ltx_bibblock">Exploring the Upper Limits of Text-Based Collaborative Filtering Using Large Language Models: Discoveries and Insights.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">arXiv preprint arXiv:2305.11700</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Xiangyang Li, Bo Chen, Lu Hou, and Ruiming Tang. 2023a.

</span>
<span class="ltx_bibblock">CTRL: Connect Tabular and Language Model for CTR Prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">arXiv preprint arXiv:2306.02841</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Xinhang Li, Chong Chen, Xiangyu Zhao, Yong Zhang, and Chunxiao Xing. 2023b.

</span>
<span class="ltx_bibblock">E4SRec: An Elegant Effective Efficient Extensible Solution of Large Language Models for Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">arXiv preprint arXiv:2312.02443</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2023f)</span>
<span class="ltx_bibblock">
Xinyi Li, Yongfeng Zhang, and Edward C Malthouse. 2023f.

</span>
<span class="ltx_bibblock">PBNR: Prompt-based News Recommender System.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">arXiv preprint arXiv:2304.07862</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jianxun Lian, Xiaohuan Zhou, Fuzheng Zhang, Zhongxia Chen, Xing Xie, and Guangzhong Sun. 2018.

</span>
<span class="ltx_bibblock">xdeepfm: Combining explicit and implicit feature interactions for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib41.3.1">KDD</em>. 1754–1763.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Jianghao Lin, Bo Chen, Hangyu Wang, Yunjia Xi, Yanru Qu, Xinyi Dai, Kangning Zhang, Ruiming Tang, Yong Yu, and Weinan Zhang. 2024a.

</span>
<span class="ltx_bibblock">ClickPrompt: CTR Models are Strong Prompt Generators for Adapting Language Models to CTR Prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">Proceedings of the ACM on Web Conference 2024</em> <em class="ltx_emph ltx_font_italic" id="bib.bib42.4.2">(WWW ’24)</em>. 3319–3330.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Jianghao Lin, Xinyi Dai, Yunjia Xi, Weiwen Liu, Bo Chen, Xiangyang Li, Chenxu Zhu, Huifeng Guo, Yong Yu, Ruiming Tang, and Weinan Zhang. 2023a.

</span>
<span class="ltx_bibblock">How can recommender systems benefit from large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.3.1">arXiv preprint arXiv:2306.05817</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Jianghao Lin, Yanru Qu, Wei Guo, Xinyi Dai, Ruiming Tang, Yong Yu, and Weinan Zhang. 2023b.

</span>
<span class="ltx_bibblock">MAP: A Model-agnostic Pretraining Framework for Click-through Rate Prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 1384–1395.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Jianghao Lin, Rong Shan, Chenxu Zhu, Kounianhua Du, Bo Chen, Shigang Quan, Ruiming Tang, Yong Yu, and Weinan Zhang. 2024b.

</span>
<span class="ltx_bibblock">ReLLa: Retrieval-enhanced Large Language Models for Lifelong Sequential Behavior Comprehension in Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib45.3.1">Proceedings of the ACM on Web Conference 2024</em> <em class="ltx_emph ltx_font_italic" id="bib.bib45.4.2">(WWW ’24)</em>. 3497–3508.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Chengkai Liu, Jianghao Lin, Jianling Wang, Hanzhou Liu, and James Caverlee. 2024.

</span>
<span class="ltx_bibblock">Mamba4rec: Towards efficient sequential recommendation with selective state space models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib46.3.1">arXiv preprint arXiv:2403.03900</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Guang Liu, Jie Yang, and Ledell Wu. 2022.

</span>
<span class="ltx_bibblock">PTab: Using the Pre-trained Language Model for Modeling Tabular Data.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.3.1">arXiv preprint arXiv:2209.08060</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Junling Liu, Chao Liu, Renjie Lv, Kang Zhou, and Yan Zhang. 2023b.

</span>
<span class="ltx_bibblock">Is chatgpt a good recommender? a preliminary study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib48.3.1">arXiv preprint arXiv:2304.10149</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib49.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Qijiong Liu, Nuo Chen, Tetsuya Sakai, and Xiao-Ming Wu. 2023a.

</span>
<span class="ltx_bibblock">A First Look at LLM-Powered Generative News Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.3.1">arXiv preprint arXiv:2305.06566</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Loshchilov and Hutter (2017)</span>
<span class="ltx_bibblock">
Ilya Loshchilov and Frank Hutter. 2017.

</span>
<span class="ltx_bibblock">Decoupled weight decay regularization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">arXiv preprint arXiv:1711.05101</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mao et al<span class="ltx_text" id="bib.bib51.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhiming Mao, Huimin Wang, Yiming Du, and Kam-fai Wong. 2023.

</span>
<span class="ltx_bibblock">UniTRec: A Unified Text-to-Text Transformer and Joint Contrastive Learning Framework for Text-based Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.3.1">arXiv preprint arXiv:2305.15756</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Muhamed et al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2021a)</span>
<span class="ltx_bibblock">
Aashiq Muhamed, Iman Keivanloo, Sujan Perera, James Mracek, Yi Xu, Qingjun Cui, Santosh Rajagopalan, Belinda Zeng, and Trishul Chilimbi. 2021a.

</span>
<span class="ltx_bibblock">CTR-BERT: Cost-effective knowledge distillation for billion-parameter teacher models. In <em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">NeurIPS Efficient Natural Language and Speech Processing Workshop</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Muhamed et al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2021b)</span>
<span class="ltx_bibblock">
Aashiq Muhamed, Iman Keivanloo, Sujan Perera, James Mracek, Yi Xu, Qingjun Cui, Santosh Rajagopalan, Belinda Zeng, and Trishul Chilimbi. 2021b.

</span>
<span class="ltx_bibblock">CTR-BERT: Cost-effective knowledge distillation for billion-parameter teacher models. In <em class="ltx_emph ltx_font_italic" id="bib.bib53.3.1">NeurIPS Efficient Natural Language and Speech Processing Workshop</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mysore et al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sheshera Mysore, Andrew McCallum, and Hamed Zamani. 2023.

</span>
<span class="ltx_bibblock">Large Language Model Augmented Narrative Driven Recommendations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">arXiv preprint arXiv:2306.02250</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Petrov and Macdonald (2023)</span>
<span class="ltx_bibblock">
Aleksandr V Petrov and Craig Macdonald. 2023.

</span>
<span class="ltx_bibblock">Generative Sequential Recommendation with GPTRec.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">arXiv preprint arXiv:2306.11114</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pi et al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Qi Pi, Weijie Bian, Guorui Zhou, Xiaoqiang Zhu, and Kun Gai. 2019.

</span>
<span class="ltx_bibblock">Practice on long sequential user behavior modeling for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">Proceedings of the 25th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>. 2671–2679.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pi et al<span class="ltx_text" id="bib.bib57.2.2.1">.</span> (2020a)</span>
<span class="ltx_bibblock">
Qi Pi, Guorui Zhou, Yujing Zhang, Zhe Wang, Lejian Ren, Ying Fan, Xiaoqiang Zhu, and Kun Gai. 2020a.

</span>
<span class="ltx_bibblock">Search-based user interest modeling with lifelong sequential behavior data for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib57.3.1">Proceedings of the 29th ACM International Conference on Information &amp; Knowledge Management</em>. 2685–2692.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pi et al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2020b)</span>
<span class="ltx_bibblock">
Qi Pi, Guorui Zhou, Yujing Zhang, Zhe Wang, Lejian Ren, Ying Fan, Xiaoqiang Zhu, and Kun Gai. 2020b.

</span>
<span class="ltx_bibblock">Search-based user interest modeling with lifelong sequential behavior data for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">Proceedings of the 29th ACM International Conference on Information &amp; Knowledge Management</em>. 2685–2692.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jiarui Qin, Weinan Zhang, Rong Su, Zhirong Liu, Weiwen Liu, Ruiming Tang, Xiuqiang He, and Yong Yu. 2021.

</span>
<span class="ltx_bibblock">Retrieval &amp; Interaction Machine for Tabular Data Prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib59.3.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em>. 1379–1389.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib60.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Jiarui Qin, Weinan Zhang, Xin Wu, Jiarui Jin, Yuchen Fang, and Yong Yu. 2020.

</span>
<span class="ltx_bibblock">User behavior retrieval for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib60.3.1">Proceedings of the 43rd International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 2347–2356.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib61.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jiarui Qin, Jiachen Zhu, Bo Chen, Zhirong Liu, Weiwen Liu, Ruiming Tang, Rui Zhang, Yong Yu, and Weinan Zhang. 2022.

</span>
<span class="ltx_bibblock">Rankflow: Joint optimization of multi-stage cascade ranking systems as flows. In <em class="ltx_emph ltx_font_italic" id="bib.bib61.3.1">Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 814–824.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al<span class="ltx_text" id="bib.bib62.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jiarui Qin, Jiachen Zhu, Yankai Liu, Junchao Gao, Jianjie Ying, Chaoxiong Liu, Ding Wang, Junlan Feng, Chao Deng, Xiaozheng Wang, et al<span class="ltx_text" id="bib.bib62.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Learning to distinguish multi-user coupling behaviors for tv recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib62.4.1">Proceedings of the Sixteenth ACM International Conference on Web Search and Data Mining</em>. 204–212.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiu et al<span class="ltx_text" id="bib.bib63.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Zhaopeng Qiu, Xian Wu, Jingyue Gao, and Wei Fan. 2021.

</span>
<span class="ltx_bibblock">U-BERT: Pre-training user representations for improved recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib63.3.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, Vol. 35. 4320–4327.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren et al<span class="ltx_text" id="bib.bib64.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Kan Ren, Jiarui Qin, Yuchen Fang, Weinan Zhang, Lei Zheng, Weijie Bian, Guorui Zhou, Jian Xu, Yong Yu, Xiaoqiang Zhu, et al<span class="ltx_text" id="bib.bib64.3.1">.</span> 2019.

</span>
<span class="ltx_bibblock">Lifelong sequential modeling with personalized memorization for user response prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib64.4.1">Proceedings of the 42nd International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 565–574.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al<span class="ltx_text" id="bib.bib65.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Weiping Song, Chence Shi, Zhiping Xiao, Zhijian Duan, Yewen Xu, Ming Zhang, and Jian Tang. 2019.

</span>
<span class="ltx_bibblock">Autoint: Automatic feature interaction learning via self-attentive neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib65.3.1">Proceedings of the 28th ACM International Conference on Information and Knowledge Management</em>. 1161–1170.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span class="ltx_text" id="bib.bib66.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Weiwei Sun, Lingyong Yan, Xinyu Ma, Pengjie Ren, Dawei Yin, and Zhaochun Ren. 2023.

</span>
<span class="ltx_bibblock">Is ChatGPT Good at Search? Investigating Large Language Models as Re-Ranking Agent.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib66.3.1">arXiv preprint arXiv:2304.09542</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang (2018)</span>
<span class="ltx_bibblock">
Jiaxi Tang and Ke Wang. 2018.

</span>
<span class="ltx_bibblock">Personalized top-n sequential recommendation via convolutional sequence embedding. In <em class="ltx_emph ltx_font_italic" id="bib.bib67.1.1">Proceedings of the eleventh ACM international conference on web search and data mining</em>. 565–573.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al<span class="ltx_text" id="bib.bib68.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric Hambro, Faisal Azhar, et al<span class="ltx_text" id="bib.bib68.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib68.4.1">arXiv preprint arXiv:2302.13971</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib69.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Hangyu Wang, Jianghao Lin, Xiangyang Li, Bo Chen, Chenxu Zhu, Ruiming Tang, Weinan Zhang, and Yong Yu. 2023.

</span>
<span class="ltx_bibblock">FLIP: Towards Fine-grained Alignment between ID-based Models and Pretrained Language Models for CTR Prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib69.3.1">arXiv e-prints</em> (2023), arXiv–2310.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib70.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Jie Wang, Fajie Yuan, Mingyue Cheng, Joemon M Jose, Chenyun Yu, Beibei Kong, Xiangnan He, Zhijin Wang, Bo Hu, and Zang Li. 2022.

</span>
<span class="ltx_bibblock">TransRec: Learning Transferable Recommendation from Mixture-of-Modality Feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib70.3.1">arXiv preprint arXiv:2206.06190</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang and Lim (2023)</span>
<span class="ltx_bibblock">
Lei Wang and Ee-Peng Lim. 2023.

</span>
<span class="ltx_bibblock">Zero-Shot Next-Item Recommendation using Large Pretrained Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib71.1.1">arXiv preprint arXiv:2304.03153</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib72">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib72.2.2.1">.</span> (2021a)</span>
<span class="ltx_bibblock">
Ruoxi Wang, Rakesh Shivanna, Derek Cheng, Sagar Jain, Dong Lin, Lichan Hong, and Ed Chi. 2021a.

</span>
<span class="ltx_bibblock">Dcn v2: Improved deep &amp; cross network and practical lessons for web-scale learning to rank systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib72.3.1">Proceedings of the web conference 2021</em>. 1785–1797.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib73">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib73.2.2.1">.</span> (2021b)</span>
<span class="ltx_bibblock">
Ruoxi Wang, Rakesh Shivanna, Derek Cheng, Sagar Jain, Dong Lin, Lichan Hong, and Ed Chi. 2021b.

</span>
<span class="ltx_bibblock">Dcn v2: Improved deep &amp; cross network and practical lessons for web-scale learning to rank systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib73.3.1">Proceedings of the Web Conference 2021</em>. 1785–1797.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib74">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xi et al<span class="ltx_text" id="bib.bib74.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yunjia Xi, Weiwen Liu, Jianghao Lin, Jieming Zhu, Bo Chen, Ruiming Tang, Weinan Zhang, Rui Zhang, and Yong Yu. 2023.

</span>
<span class="ltx_bibblock">Towards Open-World Recommendation with Knowledge Augmentation from Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib74.3.1">arXiv preprint arXiv:2306.10933</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib75">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al<span class="ltx_text" id="bib.bib75.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Yang Yu, Fangzhao Wu, Chuhan Wu, Jingwei Yi, and Qi Liu. 2021.

</span>
<span class="ltx_bibblock">Tiny-newsrec: Effective and efficient plm-based news recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib75.3.1">arXiv preprint arXiv:2112.00944</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib76">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al<span class="ltx_text" id="bib.bib76.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zheng Yuan, Fajie Yuan, Yu Song, Youhua Li, Junchen Fu, Fei Yang, Yunzhu Pan, and Yongxin Ni. 2023.

</span>
<span class="ltx_bibblock">Where to go next for recommender systems? id-vs. modality-based recommender models revisited.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib76.3.1">arXiv preprint arXiv:2303.13835</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib77">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib77.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Jizhi Zhang, Keqin Bao, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023a.

</span>
<span class="ltx_bibblock">Is chatgpt fair for recommendation? evaluating fairness in large language model recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib77.3.1">arXiv preprint arXiv:2305.07609</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib78">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib78.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Junjie Zhang, Ruobing Xie, Yupeng Hou, Wayne Xin Zhao, Leyu Lin, and Ji-Rong Wen. 2023c.

</span>
<span class="ltx_bibblock">Recommendation as instruction following: A large language model empowered recommendation approach.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib78.3.1">arXiv preprint arXiv:2305.07001</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib79">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib79.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Xinyang Zhang, Yury Malkov, Omar Florez, Serim Park, Brian McWilliams, Jiawei Han, and Ahmed El-Kishky. 2022.

</span>
<span class="ltx_bibblock">TwHIN-BERT: a socially-enriched pre-trained language model for multilingual Tweet representations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib79.3.1">arXiv preprint arXiv:2209.07562</em> (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib80">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib80.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Yuhui Zhang, Hao Ding, Zeren Shui, Yifei Ma, James Zou, Anoop Deoras, and Hao Wang. 2021.

</span>
<span class="ltx_bibblock">Language models as recommender systems: Evaluations and limitations.

</span>
<span class="ltx_bibblock">(2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib81">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib81.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Yang Zhang, Fuli Feng, Jizhi Zhang, Keqin Bao, Qifan Wang, and Xiangnan He. 2023b.

</span>
<span class="ltx_bibblock">CoLLM: Integrating Collaborative Embeddings into Large Language Models for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib81.3.1">arXiv preprint arXiv:2310.19488</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib82">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Wang (2023)</span>
<span class="ltx_bibblock">
Zizhuo Zhang and Bang Wang. 2023.

</span>
<span class="ltx_bibblock">Prompt learning for news recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib82.1.1">arXiv preprint arXiv:2304.05263</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib83">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib83.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wayne Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, et al<span class="ltx_text" id="bib.bib83.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib83.4.1">arXiv preprint arXiv:2303.18223</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib84">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al<span class="ltx_text" id="bib.bib84.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Bowen Zheng, Yupeng Hou, Hongyu Lu, Yu Chen, Wayne Xin Zhao, and Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Adapting Large Language Models by Integrating Collaborative Semantics for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib84.3.1">arXiv preprint arXiv:2311.09049</em> (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib85">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib85.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Guorui Zhou, Xiaoqiang Zhu, Chenru Song, Ying Fan, Han Zhu, Xiao Ma, Yanghui Yan, Junqi Jin, Han Li, and Kun Gai. 2018.

</span>
<span class="ltx_bibblock">Deep interest network for click-through rate prediction. In <em class="ltx_emph ltx_font_italic" id="bib.bib85.3.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 1059–1068.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Data Preprocessing</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">Our experiments are conducted on three real-world public datasets (<em class="ltx_emph ltx_font_italic" id="A1.p1.1.1">i.e.</em>, MovieLens-25M, MovieLens-1M, GoodReads), and the statistics of the processed datasets are show in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S4.T1" title="Table 1 ‣ 4. Experiments ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>. All these datasets are split into training, validing and testing sets with ratio of 8:1:1 according to the global timestamp <cite class="ltx_cite ltx_citemacro_citep">(Qin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib59" title="">2021</a>)</cite>.</p>
</div>
<div class="ltx_para" id="A1.p2">
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i1.p1.1.1">MovieLens-25M</span> has a scoring range from 0 to 5, with increments of 0.5. We label samples with ratings above 3.0 as positive, and the rest as negative.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i2.p1.1.1">MovieLens-1M</span> contains user-movie integer ratings ranging from 0 to 5. Samples with ratings of 4 and 5 are labeled as positive and the rest as negative.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A1.I1.i3.p1.1.1">GoodReads</span> is a book recommendation dataset from GoodReads website with ratings ranging from 1 to 5. We transform the ratings into binary labels with a threshold of 4.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A1.p3">
<p class="ltx_p" id="A1.p3.1">We apply 5-core filtering to ensure each user or item has at least five interaction records.</p>
</div>
<div class="ltx_para" id="A1.p4">
<p class="ltx_p" id="A1.p4.1">Under the few-shot setting with a particular number of training data, we uniformly sample <math alttext="N" class="ltx_Math" display="inline" id="A1.p4.1.m1.1"><semantics id="A1.p4.1.m1.1a"><mi id="A1.p4.1.m1.1.1" xref="A1.p4.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="A1.p4.1.m1.1b"><ci id="A1.p4.1.m1.1.1.cmml" xref="A1.p4.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p4.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="A1.p4.1.m1.1d">italic_N</annotation></semantics></math> data instances from the training set, which is then fixed during few-shot tuning.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Baseline Implementation</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">In this section, we describe the baseline models. Baseline models can broadly be divided into two main categories: (1) <em class="ltx_emph ltx_font_italic" id="A2.p1.1.1">traditional CTR models</em>, which primarily use one-hot encoded IDs as inputs, and (2) <em class="ltx_emph ltx_font_italic" id="A2.p1.1.2">LM-based models</em>, which integrate pre-trained language models to approach CTR prediction as either a text classification or a sequence-to-sequence problem.</p>
</div>
<div class="ltx_para" id="A2.p2">
<p class="ltx_p" id="A2.p2.1">Within traditional CTR models, we distinguish between (1) feature interaction models and (2) user behavior models. We have selected DeepFM <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib21" title="">2017b</a>)</cite>, AutoInt <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib65" title="">2019</a>)</cite>, and DCNv2 <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib73" title="">2021b</a>)</cite> as exemplars of feature interaction models, and GRU4Rec <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib23" title="">2016</a>)</cite>, Caser <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib67" title="">2018</a>)</cite>, SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib31" title="">2018b</a>)</cite>, DIN <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib85" title="">2018</a>)</cite>, and SIM <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib58" title="">2020b</a>)</cite> as key representatives of user behavior models. For the feature interaction models, we implement average pooling across users’ historical behaviors and treat the results as additional feature fields.</p>
</div>
<div class="ltx_para" id="A2.p3">
<p class="ltx_p" id="A2.p3.1">SIM is a classic sequential CTR model that employs user behavior retrieval techniques to enhance recommendation performance. We include it in our evaluation to ensure a comprehensive and fair comparison, maintaining consistency with the retrieval method used in RecLoRA.</p>
</div>
<div class="ltx_para" id="A2.p4">
<p class="ltx_p" id="A2.p4.1">For LM-based CTR models, we have chosen CTR-BERT <cite class="ltx_cite ltx_citemacro_citep">(Muhamed et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib52" title="">2021a</a>)</cite>, TALLRec <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>)</cite>, and ReLLa <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite> as baseline models to represent this category, and they are representatives of traditional language models and large language models respectively.</p>
</div>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1. </span>Traditional CTR Models</h3>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">We choose the embedding size from {32, 64} on three datasets. The dropout rate is selected from {0.0, 0.1, 0.2}. The activation function is fixed to ReLU. The learning rate is selected from <math alttext="1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}" class="ltx_Math" display="inline" id="A2.SS1.p1.1.m1.3"><semantics id="A2.SS1.p1.1.m1.3a"><mrow id="A2.SS1.p1.1.m1.3.3.3" xref="A2.SS1.p1.1.m1.3.3.4.cmml"><mrow id="A2.SS1.p1.1.m1.1.1.1.1" xref="A2.SS1.p1.1.m1.1.1.1.1.cmml"><mn id="A2.SS1.p1.1.m1.1.1.1.1.2" xref="A2.SS1.p1.1.m1.1.1.1.1.2.cmml">1</mn><mo id="A2.SS1.p1.1.m1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A2.SS1.p1.1.m1.1.1.1.1.1.cmml">×</mo><msup id="A2.SS1.p1.1.m1.1.1.1.1.3" xref="A2.SS1.p1.1.m1.1.1.1.1.3.cmml"><mn id="A2.SS1.p1.1.m1.1.1.1.1.3.2" xref="A2.SS1.p1.1.m1.1.1.1.1.3.2.cmml">10</mn><mrow id="A2.SS1.p1.1.m1.1.1.1.1.3.3" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3.cmml"><mo id="A2.SS1.p1.1.m1.1.1.1.1.3.3a" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3.cmml">−</mo><mn id="A2.SS1.p1.1.m1.1.1.1.1.3.3.2" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3.2.cmml">3</mn></mrow></msup></mrow><mo id="A2.SS1.p1.1.m1.3.3.3.4" xref="A2.SS1.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.SS1.p1.1.m1.2.2.2.2" xref="A2.SS1.p1.1.m1.2.2.2.2.cmml"><mn id="A2.SS1.p1.1.m1.2.2.2.2.2" xref="A2.SS1.p1.1.m1.2.2.2.2.2.cmml">5</mn><mo id="A2.SS1.p1.1.m1.2.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="A2.SS1.p1.1.m1.2.2.2.2.1.cmml">×</mo><msup id="A2.SS1.p1.1.m1.2.2.2.2.3" xref="A2.SS1.p1.1.m1.2.2.2.2.3.cmml"><mn id="A2.SS1.p1.1.m1.2.2.2.2.3.2" xref="A2.SS1.p1.1.m1.2.2.2.2.3.2.cmml">10</mn><mrow id="A2.SS1.p1.1.m1.2.2.2.2.3.3" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3.cmml"><mo id="A2.SS1.p1.1.m1.2.2.2.2.3.3a" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3.cmml">−</mo><mn id="A2.SS1.p1.1.m1.2.2.2.2.3.3.2" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A2.SS1.p1.1.m1.3.3.3.5" xref="A2.SS1.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.SS1.p1.1.m1.3.3.3.3" xref="A2.SS1.p1.1.m1.3.3.3.3.cmml"><mn id="A2.SS1.p1.1.m1.3.3.3.3.2" xref="A2.SS1.p1.1.m1.3.3.3.3.2.cmml">1</mn><mo id="A2.SS1.p1.1.m1.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="A2.SS1.p1.1.m1.3.3.3.3.1.cmml">×</mo><msup id="A2.SS1.p1.1.m1.3.3.3.3.3" xref="A2.SS1.p1.1.m1.3.3.3.3.3.cmml"><mn id="A2.SS1.p1.1.m1.3.3.3.3.3.2" xref="A2.SS1.p1.1.m1.3.3.3.3.3.2.cmml">10</mn><mrow id="A2.SS1.p1.1.m1.3.3.3.3.3.3" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3.cmml"><mo id="A2.SS1.p1.1.m1.3.3.3.3.3.3a" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3.cmml">−</mo><mn id="A2.SS1.p1.1.m1.3.3.3.3.3.3.2" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS1.p1.1.m1.3b"><list id="A2.SS1.p1.1.m1.3.3.4.cmml" xref="A2.SS1.p1.1.m1.3.3.3"><apply id="A2.SS1.p1.1.m1.1.1.1.1.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1"><times id="A2.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1.1"></times><cn id="A2.SS1.p1.1.m1.1.1.1.1.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.1.1.1.1.2">1</cn><apply id="A2.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.SS1.p1.1.m1.1.1.1.1.3.1.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1.3">superscript</csymbol><cn id="A2.SS1.p1.1.m1.1.1.1.1.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.1.1.1.1.3.2">10</cn><apply id="A2.SS1.p1.1.m1.1.1.1.1.3.3.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3"><minus id="A2.SS1.p1.1.m1.1.1.1.1.3.3.1.cmml" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3"></minus><cn id="A2.SS1.p1.1.m1.1.1.1.1.3.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.1.1.1.1.3.3.2">3</cn></apply></apply></apply><apply id="A2.SS1.p1.1.m1.2.2.2.2.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2"><times id="A2.SS1.p1.1.m1.2.2.2.2.1.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2.1"></times><cn id="A2.SS1.p1.1.m1.2.2.2.2.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.2.2.2.2.2">5</cn><apply id="A2.SS1.p1.1.m1.2.2.2.2.3.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="A2.SS1.p1.1.m1.2.2.2.2.3.1.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2.3">superscript</csymbol><cn id="A2.SS1.p1.1.m1.2.2.2.2.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.2.2.2.2.3.2">10</cn><apply id="A2.SS1.p1.1.m1.2.2.2.2.3.3.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3"><minus id="A2.SS1.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3"></minus><cn id="A2.SS1.p1.1.m1.2.2.2.2.3.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.2.2.2.2.3.3.2">4</cn></apply></apply></apply><apply id="A2.SS1.p1.1.m1.3.3.3.3.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3"><times id="A2.SS1.p1.1.m1.3.3.3.3.1.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3.1"></times><cn id="A2.SS1.p1.1.m1.3.3.3.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.3.3.3.3.2">1</cn><apply id="A2.SS1.p1.1.m1.3.3.3.3.3.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A2.SS1.p1.1.m1.3.3.3.3.3.1.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3.3">superscript</csymbol><cn id="A2.SS1.p1.1.m1.3.3.3.3.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.3.3.3.3.3.2">10</cn><apply id="A2.SS1.p1.1.m1.3.3.3.3.3.3.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3"><minus id="A2.SS1.p1.1.m1.3.3.3.3.3.3.1.cmml" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3"></minus><cn id="A2.SS1.p1.1.m1.3.3.3.3.3.3.2.cmml" type="integer" xref="A2.SS1.p1.1.m1.3.3.3.3.3.3.2">4</cn></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A2.SS1.p1.1.m1.3c">1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="A2.SS1.p1.1.m1.3d">1 × 10 start_POSTSUPERSCRIPT - 3 end_POSTSUPERSCRIPT , 5 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT , 1 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math> and AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov and Hutter, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib50" title="">2017</a>)</cite> optimizer is used. The batch size is selected from {64,128,256, 512,1024}. More model-specific hyperparameter settings are shown as follows:</p>
</div>
<div class="ltx_para" id="A2.SS1.p2">
<ul class="ltx_itemize" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i1.p1.1.1">DeepFM</span> <cite class="ltx_cite ltx_citemacro_citep">(Guo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib21" title="">2017b</a>)</cite>. We choose the size of DNN layer from {128, 256} and the number of DNN layers from {3, 6, 9, 12}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.1">AutoInt</span> <cite class="ltx_cite ltx_citemacro_citep">(Song et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib65" title="">2019</a>)</cite>. The attention layers is selected from {3, 6, 9, 12} and the attention size is selected from {64, 128, 256}. The number of attention heads are all set to 1.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i3.p1.1.1">DCNv2</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib73" title="">2021b</a>)</cite>. We choose the size of DNN layers from {128, 256} and the number of DNN layers and cross layers are from {3, 6, 9, 12}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i4.p1">
<p class="ltx_p" id="A2.I1.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i4.p1.1.1">GRU4Rec</span> <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib23" title="">2016</a>)</cite>. The number of GRU layers is selected from {1, 2, 3}. The GRU hidden size and DNN hidden size is selected from {64, 128, 256}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i5.p1">
<p class="ltx_p" id="A2.I1.i5.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i5.p1.1.1">Caser</span> <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib67" title="">2018</a>)</cite>. The number of vertical convolution kernels is selected from {2, 4, 8}. The number of horizontal convolution kernels is selected from {4, 8, 16}. The number of DNN layers is selected from {1,2,3}. The DNN hidden size is selected from {64, 128, 256}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i6.p1">
<p class="ltx_p" id="A2.I1.i6.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i6.p1.1.1">SASRec</span> <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib31" title="">2018b</a>)</cite>. The number of attention heads is selected from {1, 2, 4}. The number of attention layers is selected from {1, 2, 3}. The attention size is selected from {64, 128, 256}. The number of DNN layers is selected from {1,2,3}. The DNN hidden size is selected from {64, 128, 256}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i7.p1">
<p class="ltx_p" id="A2.I1.i7.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i7.p1.1.1">DIN</span> <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib85" title="">2018</a>)</cite>. The number of DIN attention layers and DNN layers are selected from {1, 2, 3}. The DNN hidden size is selected from {64, 128, 256}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i8" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I1.i8.p1">
<p class="ltx_p" id="A2.I1.i8.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i8.p1.1.1">SIM</span> <cite class="ltx_cite ltx_citemacro_citep">(Pi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib58" title="">2020b</a>)</cite>. The number of attention layers and DNN layers are selected from {1, 2, 3}. The DNN hidden size is selected from{64, 128, 256}.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2. </span>LM-based Models</h3>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.1">The structure of the pre-trained language models is kept unchanged. And AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov and Hutter, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib50" title="">2017</a>)</cite> optimizer is used for all the baselines. The detailed training settings are as follows:</p>
</div>
<div class="ltx_para" id="A2.SS2.p2">
<ul class="ltx_itemize" id="A2.I2">
<li class="ltx_item" id="A2.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i1.p1">
<p class="ltx_p" id="A2.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i1.p1.1.1">CTR-BERT</span> <cite class="ltx_cite ltx_citemacro_citep">(Muhamed et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib52" title="">2021a</a>)</cite>. We maintain a two-tower model structure based on the BERT <cite class="ltx_cite ltx_citemacro_citep">(Devlin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib16" title="">2018</a>)</cite> model to encode the user and item information respectively. The total number of tuning epochs is set to 10. The batch size is set to 1024. The learning rate is set to <math alttext="5\times 10^{-5}" class="ltx_Math" display="inline" id="A2.I2.i1.p1.1.m1.1"><semantics id="A2.I2.i1.p1.1.m1.1a"><mrow id="A2.I2.i1.p1.1.m1.1.1" xref="A2.I2.i1.p1.1.m1.1.1.cmml"><mn id="A2.I2.i1.p1.1.m1.1.1.2" xref="A2.I2.i1.p1.1.m1.1.1.2.cmml">5</mn><mo id="A2.I2.i1.p1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i1.p1.1.m1.1.1.1.cmml">×</mo><msup id="A2.I2.i1.p1.1.m1.1.1.3" xref="A2.I2.i1.p1.1.m1.1.1.3.cmml"><mn id="A2.I2.i1.p1.1.m1.1.1.3.2" xref="A2.I2.i1.p1.1.m1.1.1.3.2.cmml">10</mn><mrow id="A2.I2.i1.p1.1.m1.1.1.3.3" xref="A2.I2.i1.p1.1.m1.1.1.3.3.cmml"><mo id="A2.I2.i1.p1.1.m1.1.1.3.3a" xref="A2.I2.i1.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="A2.I2.i1.p1.1.m1.1.1.3.3.2" xref="A2.I2.i1.p1.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A2.I2.i1.p1.1.m1.1b"><apply id="A2.I2.i1.p1.1.m1.1.1.cmml" xref="A2.I2.i1.p1.1.m1.1.1"><times id="A2.I2.i1.p1.1.m1.1.1.1.cmml" xref="A2.I2.i1.p1.1.m1.1.1.1"></times><cn id="A2.I2.i1.p1.1.m1.1.1.2.cmml" type="integer" xref="A2.I2.i1.p1.1.m1.1.1.2">5</cn><apply id="A2.I2.i1.p1.1.m1.1.1.3.cmml" xref="A2.I2.i1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A2.I2.i1.p1.1.m1.1.1.3.1.cmml" xref="A2.I2.i1.p1.1.m1.1.1.3">superscript</csymbol><cn id="A2.I2.i1.p1.1.m1.1.1.3.2.cmml" type="integer" xref="A2.I2.i1.p1.1.m1.1.1.3.2">10</cn><apply id="A2.I2.i1.p1.1.m1.1.1.3.3.cmml" xref="A2.I2.i1.p1.1.m1.1.1.3.3"><minus id="A2.I2.i1.p1.1.m1.1.1.3.3.1.cmml" xref="A2.I2.i1.p1.1.m1.1.1.3.3"></minus><cn id="A2.I2.i1.p1.1.m1.1.1.3.3.2.cmml" type="integer" xref="A2.I2.i1.p1.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i1.p1.1.m1.1c">5\times 10^{-5}</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i1.p1.1.m1.1d">5 × 10 start_POSTSUPERSCRIPT - 5 end_POSTSUPERSCRIPT</annotation></semantics></math> with linear decay. The warmup ratio is 0.05.</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i2.p1">
<p class="ltx_p" id="A2.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i2.p1.1.1">TallRec</span> <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib2" title="">2023</a>)</cite> is a supervised fine-tuning framework with Llama as a backbone pretrained language model for recommendation task. For fair comparison, we generate the same history in text as ID-based baselines. The total number of tuning epochs is selected from {10,5}. The batch size is selected from {64,128,256}. The learning rate is selected from {<math alttext="1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}" class="ltx_Math" display="inline" id="A2.I2.i2.p1.1.m1.3"><semantics id="A2.I2.i2.p1.1.m1.3a"><mrow id="A2.I2.i2.p1.1.m1.3.3.3" xref="A2.I2.i2.p1.1.m1.3.3.4.cmml"><mrow id="A2.I2.i2.p1.1.m1.1.1.1.1" xref="A2.I2.i2.p1.1.m1.1.1.1.1.cmml"><mn id="A2.I2.i2.p1.1.m1.1.1.1.1.2" xref="A2.I2.i2.p1.1.m1.1.1.1.1.2.cmml">1</mn><mo id="A2.I2.i2.p1.1.m1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i2.p1.1.m1.1.1.1.1.1.cmml">×</mo><msup id="A2.I2.i2.p1.1.m1.1.1.1.1.3" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.cmml"><mn id="A2.I2.i2.p1.1.m1.1.1.1.1.3.2" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.2.cmml">10</mn><mrow id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.cmml"><mo id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3a" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.cmml">−</mo><mn id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.2" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.2.cmml">3</mn></mrow></msup></mrow><mo id="A2.I2.i2.p1.1.m1.3.3.3.4" xref="A2.I2.i2.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.I2.i2.p1.1.m1.2.2.2.2" xref="A2.I2.i2.p1.1.m1.2.2.2.2.cmml"><mn id="A2.I2.i2.p1.1.m1.2.2.2.2.2" xref="A2.I2.i2.p1.1.m1.2.2.2.2.2.cmml">5</mn><mo id="A2.I2.i2.p1.1.m1.2.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i2.p1.1.m1.2.2.2.2.1.cmml">×</mo><msup id="A2.I2.i2.p1.1.m1.2.2.2.2.3" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.cmml"><mn id="A2.I2.i2.p1.1.m1.2.2.2.2.3.2" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.2.cmml">10</mn><mrow id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.cmml"><mo id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3a" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.cmml">−</mo><mn id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.2" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A2.I2.i2.p1.1.m1.3.3.3.5" xref="A2.I2.i2.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.I2.i2.p1.1.m1.3.3.3.3" xref="A2.I2.i2.p1.1.m1.3.3.3.3.cmml"><mn id="A2.I2.i2.p1.1.m1.3.3.3.3.2" xref="A2.I2.i2.p1.1.m1.3.3.3.3.2.cmml">1</mn><mo id="A2.I2.i2.p1.1.m1.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i2.p1.1.m1.3.3.3.3.1.cmml">×</mo><msup id="A2.I2.i2.p1.1.m1.3.3.3.3.3" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.cmml"><mn id="A2.I2.i2.p1.1.m1.3.3.3.3.3.2" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.2.cmml">10</mn><mrow id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.cmml"><mo id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3a" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.cmml">−</mo><mn id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.2" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.I2.i2.p1.1.m1.3b"><list id="A2.I2.i2.p1.1.m1.3.3.4.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3"><apply id="A2.I2.i2.p1.1.m1.1.1.1.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1"><times id="A2.I2.i2.p1.1.m1.1.1.1.1.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1.1"></times><cn id="A2.I2.i2.p1.1.m1.1.1.1.1.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.1.1.1.1.2">1</cn><apply id="A2.I2.i2.p1.1.m1.1.1.1.1.3.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.I2.i2.p1.1.m1.1.1.1.1.3.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3">superscript</csymbol><cn id="A2.I2.i2.p1.1.m1.1.1.1.1.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.2">10</cn><apply id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3"><minus id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.1.cmml" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3"></minus><cn id="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.1.1.1.1.3.3.2">3</cn></apply></apply></apply><apply id="A2.I2.i2.p1.1.m1.2.2.2.2.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2"><times id="A2.I2.i2.p1.1.m1.2.2.2.2.1.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2.1"></times><cn id="A2.I2.i2.p1.1.m1.2.2.2.2.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.2.2.2.2.2">5</cn><apply id="A2.I2.i2.p1.1.m1.2.2.2.2.3.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="A2.I2.i2.p1.1.m1.2.2.2.2.3.1.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3">superscript</csymbol><cn id="A2.I2.i2.p1.1.m1.2.2.2.2.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.2">10</cn><apply id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3"><minus id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3"></minus><cn id="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.2.2.2.2.3.3.2">4</cn></apply></apply></apply><apply id="A2.I2.i2.p1.1.m1.3.3.3.3.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3"><times id="A2.I2.i2.p1.1.m1.3.3.3.3.1.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3.1"></times><cn id="A2.I2.i2.p1.1.m1.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.3.3.3.3.2">1</cn><apply id="A2.I2.i2.p1.1.m1.3.3.3.3.3.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A2.I2.i2.p1.1.m1.3.3.3.3.3.1.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3">superscript</csymbol><cn id="A2.I2.i2.p1.1.m1.3.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.2">10</cn><apply id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3"><minus id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.1.cmml" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3"></minus><cn id="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i2.p1.1.m1.3.3.3.3.3.3.2">4</cn></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i2.p1.1.m1.3c">1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i2.p1.1.m1.3d">1 × 10 start_POSTSUPERSCRIPT - 3 end_POSTSUPERSCRIPT , 5 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT , 1 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>}.</p>
</div>
</li>
<li class="ltx_item" id="A2.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A2.I2.i3.p1">
<p class="ltx_p" id="A2.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i3.p1.1.1">ReLLa</span> <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib45" title="">2024b</a>)</cite> uses user behavior retrieval and supervised fine-tuning with Llama as a backbone pretrained language model for recommendation task. For fair comparison, the retrieval methods in SIM, ReLLa and RecLoRA maintain the same. The total number of tuning epochs is selected from {10,5}. The batch size is selected from {64,128,256}. The learning rate is selected from {<math alttext="1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}" class="ltx_Math" display="inline" id="A2.I2.i3.p1.1.m1.3"><semantics id="A2.I2.i3.p1.1.m1.3a"><mrow id="A2.I2.i3.p1.1.m1.3.3.3" xref="A2.I2.i3.p1.1.m1.3.3.4.cmml"><mrow id="A2.I2.i3.p1.1.m1.1.1.1.1" xref="A2.I2.i3.p1.1.m1.1.1.1.1.cmml"><mn id="A2.I2.i3.p1.1.m1.1.1.1.1.2" xref="A2.I2.i3.p1.1.m1.1.1.1.1.2.cmml">1</mn><mo id="A2.I2.i3.p1.1.m1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i3.p1.1.m1.1.1.1.1.1.cmml">×</mo><msup id="A2.I2.i3.p1.1.m1.1.1.1.1.3" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.cmml"><mn id="A2.I2.i3.p1.1.m1.1.1.1.1.3.2" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.2.cmml">10</mn><mrow id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.cmml"><mo id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3a" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.cmml">−</mo><mn id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.2" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.2.cmml">3</mn></mrow></msup></mrow><mo id="A2.I2.i3.p1.1.m1.3.3.3.4" xref="A2.I2.i3.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.I2.i3.p1.1.m1.2.2.2.2" xref="A2.I2.i3.p1.1.m1.2.2.2.2.cmml"><mn id="A2.I2.i3.p1.1.m1.2.2.2.2.2" xref="A2.I2.i3.p1.1.m1.2.2.2.2.2.cmml">5</mn><mo id="A2.I2.i3.p1.1.m1.2.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i3.p1.1.m1.2.2.2.2.1.cmml">×</mo><msup id="A2.I2.i3.p1.1.m1.2.2.2.2.3" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.cmml"><mn id="A2.I2.i3.p1.1.m1.2.2.2.2.3.2" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.2.cmml">10</mn><mrow id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.cmml"><mo id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3a" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.cmml">−</mo><mn id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.2" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A2.I2.i3.p1.1.m1.3.3.3.5" xref="A2.I2.i3.p1.1.m1.3.3.4.cmml">,</mo><mrow id="A2.I2.i3.p1.1.m1.3.3.3.3" xref="A2.I2.i3.p1.1.m1.3.3.3.3.cmml"><mn id="A2.I2.i3.p1.1.m1.3.3.3.3.2" xref="A2.I2.i3.p1.1.m1.3.3.3.3.2.cmml">1</mn><mo id="A2.I2.i3.p1.1.m1.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="A2.I2.i3.p1.1.m1.3.3.3.3.1.cmml">×</mo><msup id="A2.I2.i3.p1.1.m1.3.3.3.3.3" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.cmml"><mn id="A2.I2.i3.p1.1.m1.3.3.3.3.3.2" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.2.cmml">10</mn><mrow id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.cmml"><mo id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3a" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.cmml">−</mo><mn id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.2" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.I2.i3.p1.1.m1.3b"><list id="A2.I2.i3.p1.1.m1.3.3.4.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3"><apply id="A2.I2.i3.p1.1.m1.1.1.1.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1"><times id="A2.I2.i3.p1.1.m1.1.1.1.1.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1.1"></times><cn id="A2.I2.i3.p1.1.m1.1.1.1.1.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.1.1.1.1.2">1</cn><apply id="A2.I2.i3.p1.1.m1.1.1.1.1.3.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.I2.i3.p1.1.m1.1.1.1.1.3.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3">superscript</csymbol><cn id="A2.I2.i3.p1.1.m1.1.1.1.1.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.2">10</cn><apply id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3"><minus id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3"></minus><cn id="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.1.1.1.1.3.3.2">3</cn></apply></apply></apply><apply id="A2.I2.i3.p1.1.m1.2.2.2.2.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2"><times id="A2.I2.i3.p1.1.m1.2.2.2.2.1.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2.1"></times><cn id="A2.I2.i3.p1.1.m1.2.2.2.2.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.2.2.2.2.2">5</cn><apply id="A2.I2.i3.p1.1.m1.2.2.2.2.3.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="A2.I2.i3.p1.1.m1.2.2.2.2.3.1.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3">superscript</csymbol><cn id="A2.I2.i3.p1.1.m1.2.2.2.2.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.2">10</cn><apply id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3"><minus id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3"></minus><cn id="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.2.2.2.2.3.3.2">4</cn></apply></apply></apply><apply id="A2.I2.i3.p1.1.m1.3.3.3.3.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3"><times id="A2.I2.i3.p1.1.m1.3.3.3.3.1.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3.1"></times><cn id="A2.I2.i3.p1.1.m1.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.3.3.3.3.2">1</cn><apply id="A2.I2.i3.p1.1.m1.3.3.3.3.3.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A2.I2.i3.p1.1.m1.3.3.3.3.3.1.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3">superscript</csymbol><cn id="A2.I2.i3.p1.1.m1.3.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.2">10</cn><apply id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3"><minus id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.1.cmml" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3"></minus><cn id="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.2.cmml" type="integer" xref="A2.I2.i3.p1.1.m1.3.3.3.3.3.3.2">4</cn></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i3.p1.1.m1.3c">1\times 10^{-3},5\times 10^{-4},1\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="A2.I2.i3.p1.1.m1.3d">1 × 10 start_POSTSUPERSCRIPT - 3 end_POSTSUPERSCRIPT , 5 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT , 1 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>}</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Implementation Detals</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">We selected Vicuna-7B <cite class="ltx_cite ltx_citemacro_citep">(Chiang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib11" title="">2023</a>)</cite>, provided by FastChat<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/lm-sys/FastChat" title="">https://github.com/lm-sys/FastChat</a></span></span></span>, as the foundational large language model (LLM) for our experiments. All computations were performed using V100 GPUs. To enhance training resource efficiency, we employed 8-bit quantization. The LoRA configuration was set with a rank of 8, an alpha value of 16, and dropout set to 0.0. LoRA update matrices were specifically applied to the query and value projection matrices within the attention blocks.</p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.2">For the instruction tuning process, our detailed configuration such as optimizer and hyperparameters are provided in we utilized the AdamW <cite class="ltx_cite ltx_citemacro_citep">(Loshchilov and Hutter, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib50" title="">2017</a>)</cite> optimizer, configuring it with zero weight decay. The training process was carried out with batch sizes chosen from <math alttext="\{64,128,256\}" class="ltx_Math" display="inline" id="A3.p2.1.m1.3"><semantics id="A3.p2.1.m1.3a"><mrow id="A3.p2.1.m1.3.4.2" xref="A3.p2.1.m1.3.4.1.cmml"><mo id="A3.p2.1.m1.3.4.2.1" stretchy="false" xref="A3.p2.1.m1.3.4.1.cmml">{</mo><mn id="A3.p2.1.m1.1.1" xref="A3.p2.1.m1.1.1.cmml">64</mn><mo id="A3.p2.1.m1.3.4.2.2" xref="A3.p2.1.m1.3.4.1.cmml">,</mo><mn id="A3.p2.1.m1.2.2" xref="A3.p2.1.m1.2.2.cmml">128</mn><mo id="A3.p2.1.m1.3.4.2.3" xref="A3.p2.1.m1.3.4.1.cmml">,</mo><mn id="A3.p2.1.m1.3.3" xref="A3.p2.1.m1.3.3.cmml">256</mn><mo id="A3.p2.1.m1.3.4.2.4" stretchy="false" xref="A3.p2.1.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.1.m1.3b"><set id="A3.p2.1.m1.3.4.1.cmml" xref="A3.p2.1.m1.3.4.2"><cn id="A3.p2.1.m1.1.1.cmml" type="integer" xref="A3.p2.1.m1.1.1">64</cn><cn id="A3.p2.1.m1.2.2.cmml" type="integer" xref="A3.p2.1.m1.2.2">128</cn><cn id="A3.p2.1.m1.3.3.cmml" type="integer" xref="A3.p2.1.m1.3.3">256</cn></set></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.1.m1.3c">\{64,128,256\}</annotation><annotation encoding="application/x-llamapun" id="A3.p2.1.m1.3d">{ 64 , 128 , 256 }</annotation></semantics></math> and initial learning rates selected from <math alttext="\{1\times 10^{-3},5\times 10^{-4},3\times 10^{-4},1\times 10^{-4}\}" class="ltx_Math" display="inline" id="A3.p2.2.m2.4"><semantics id="A3.p2.2.m2.4a"><mrow id="A3.p2.2.m2.4.4.4" xref="A3.p2.2.m2.4.4.5.cmml"><mo id="A3.p2.2.m2.4.4.4.5" stretchy="false" xref="A3.p2.2.m2.4.4.5.cmml">{</mo><mrow id="A3.p2.2.m2.1.1.1.1" xref="A3.p2.2.m2.1.1.1.1.cmml"><mn id="A3.p2.2.m2.1.1.1.1.2" xref="A3.p2.2.m2.1.1.1.1.2.cmml">1</mn><mo id="A3.p2.2.m2.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="A3.p2.2.m2.1.1.1.1.1.cmml">×</mo><msup id="A3.p2.2.m2.1.1.1.1.3" xref="A3.p2.2.m2.1.1.1.1.3.cmml"><mn id="A3.p2.2.m2.1.1.1.1.3.2" xref="A3.p2.2.m2.1.1.1.1.3.2.cmml">10</mn><mrow id="A3.p2.2.m2.1.1.1.1.3.3" xref="A3.p2.2.m2.1.1.1.1.3.3.cmml"><mo id="A3.p2.2.m2.1.1.1.1.3.3a" xref="A3.p2.2.m2.1.1.1.1.3.3.cmml">−</mo><mn id="A3.p2.2.m2.1.1.1.1.3.3.2" xref="A3.p2.2.m2.1.1.1.1.3.3.2.cmml">3</mn></mrow></msup></mrow><mo id="A3.p2.2.m2.4.4.4.6" xref="A3.p2.2.m2.4.4.5.cmml">,</mo><mrow id="A3.p2.2.m2.2.2.2.2" xref="A3.p2.2.m2.2.2.2.2.cmml"><mn id="A3.p2.2.m2.2.2.2.2.2" xref="A3.p2.2.m2.2.2.2.2.2.cmml">5</mn><mo id="A3.p2.2.m2.2.2.2.2.1" lspace="0.222em" rspace="0.222em" xref="A3.p2.2.m2.2.2.2.2.1.cmml">×</mo><msup id="A3.p2.2.m2.2.2.2.2.3" xref="A3.p2.2.m2.2.2.2.2.3.cmml"><mn id="A3.p2.2.m2.2.2.2.2.3.2" xref="A3.p2.2.m2.2.2.2.2.3.2.cmml">10</mn><mrow id="A3.p2.2.m2.2.2.2.2.3.3" xref="A3.p2.2.m2.2.2.2.2.3.3.cmml"><mo id="A3.p2.2.m2.2.2.2.2.3.3a" xref="A3.p2.2.m2.2.2.2.2.3.3.cmml">−</mo><mn id="A3.p2.2.m2.2.2.2.2.3.3.2" xref="A3.p2.2.m2.2.2.2.2.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A3.p2.2.m2.4.4.4.7" xref="A3.p2.2.m2.4.4.5.cmml">,</mo><mrow id="A3.p2.2.m2.3.3.3.3" xref="A3.p2.2.m2.3.3.3.3.cmml"><mn id="A3.p2.2.m2.3.3.3.3.2" xref="A3.p2.2.m2.3.3.3.3.2.cmml">3</mn><mo id="A3.p2.2.m2.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="A3.p2.2.m2.3.3.3.3.1.cmml">×</mo><msup id="A3.p2.2.m2.3.3.3.3.3" xref="A3.p2.2.m2.3.3.3.3.3.cmml"><mn id="A3.p2.2.m2.3.3.3.3.3.2" xref="A3.p2.2.m2.3.3.3.3.3.2.cmml">10</mn><mrow id="A3.p2.2.m2.3.3.3.3.3.3" xref="A3.p2.2.m2.3.3.3.3.3.3.cmml"><mo id="A3.p2.2.m2.3.3.3.3.3.3a" xref="A3.p2.2.m2.3.3.3.3.3.3.cmml">−</mo><mn id="A3.p2.2.m2.3.3.3.3.3.3.2" xref="A3.p2.2.m2.3.3.3.3.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A3.p2.2.m2.4.4.4.8" xref="A3.p2.2.m2.4.4.5.cmml">,</mo><mrow id="A3.p2.2.m2.4.4.4.4" xref="A3.p2.2.m2.4.4.4.4.cmml"><mn id="A3.p2.2.m2.4.4.4.4.2" xref="A3.p2.2.m2.4.4.4.4.2.cmml">1</mn><mo id="A3.p2.2.m2.4.4.4.4.1" lspace="0.222em" rspace="0.222em" xref="A3.p2.2.m2.4.4.4.4.1.cmml">×</mo><msup id="A3.p2.2.m2.4.4.4.4.3" xref="A3.p2.2.m2.4.4.4.4.3.cmml"><mn id="A3.p2.2.m2.4.4.4.4.3.2" xref="A3.p2.2.m2.4.4.4.4.3.2.cmml">10</mn><mrow id="A3.p2.2.m2.4.4.4.4.3.3" xref="A3.p2.2.m2.4.4.4.4.3.3.cmml"><mo id="A3.p2.2.m2.4.4.4.4.3.3a" xref="A3.p2.2.m2.4.4.4.4.3.3.cmml">−</mo><mn id="A3.p2.2.m2.4.4.4.4.3.3.2" xref="A3.p2.2.m2.4.4.4.4.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A3.p2.2.m2.4.4.4.9" stretchy="false" xref="A3.p2.2.m2.4.4.5.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.2.m2.4b"><set id="A3.p2.2.m2.4.4.5.cmml" xref="A3.p2.2.m2.4.4.4"><apply id="A3.p2.2.m2.1.1.1.1.cmml" xref="A3.p2.2.m2.1.1.1.1"><times id="A3.p2.2.m2.1.1.1.1.1.cmml" xref="A3.p2.2.m2.1.1.1.1.1"></times><cn id="A3.p2.2.m2.1.1.1.1.2.cmml" type="integer" xref="A3.p2.2.m2.1.1.1.1.2">1</cn><apply id="A3.p2.2.m2.1.1.1.1.3.cmml" xref="A3.p2.2.m2.1.1.1.1.3"><csymbol cd="ambiguous" id="A3.p2.2.m2.1.1.1.1.3.1.cmml" xref="A3.p2.2.m2.1.1.1.1.3">superscript</csymbol><cn id="A3.p2.2.m2.1.1.1.1.3.2.cmml" type="integer" xref="A3.p2.2.m2.1.1.1.1.3.2">10</cn><apply id="A3.p2.2.m2.1.1.1.1.3.3.cmml" xref="A3.p2.2.m2.1.1.1.1.3.3"><minus id="A3.p2.2.m2.1.1.1.1.3.3.1.cmml" xref="A3.p2.2.m2.1.1.1.1.3.3"></minus><cn id="A3.p2.2.m2.1.1.1.1.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.1.1.1.1.3.3.2">3</cn></apply></apply></apply><apply id="A3.p2.2.m2.2.2.2.2.cmml" xref="A3.p2.2.m2.2.2.2.2"><times id="A3.p2.2.m2.2.2.2.2.1.cmml" xref="A3.p2.2.m2.2.2.2.2.1"></times><cn id="A3.p2.2.m2.2.2.2.2.2.cmml" type="integer" xref="A3.p2.2.m2.2.2.2.2.2">5</cn><apply id="A3.p2.2.m2.2.2.2.2.3.cmml" xref="A3.p2.2.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="A3.p2.2.m2.2.2.2.2.3.1.cmml" xref="A3.p2.2.m2.2.2.2.2.3">superscript</csymbol><cn id="A3.p2.2.m2.2.2.2.2.3.2.cmml" type="integer" xref="A3.p2.2.m2.2.2.2.2.3.2">10</cn><apply id="A3.p2.2.m2.2.2.2.2.3.3.cmml" xref="A3.p2.2.m2.2.2.2.2.3.3"><minus id="A3.p2.2.m2.2.2.2.2.3.3.1.cmml" xref="A3.p2.2.m2.2.2.2.2.3.3"></minus><cn id="A3.p2.2.m2.2.2.2.2.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.2.2.2.2.3.3.2">4</cn></apply></apply></apply><apply id="A3.p2.2.m2.3.3.3.3.cmml" xref="A3.p2.2.m2.3.3.3.3"><times id="A3.p2.2.m2.3.3.3.3.1.cmml" xref="A3.p2.2.m2.3.3.3.3.1"></times><cn id="A3.p2.2.m2.3.3.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.3.3.3.3.2">3</cn><apply id="A3.p2.2.m2.3.3.3.3.3.cmml" xref="A3.p2.2.m2.3.3.3.3.3"><csymbol cd="ambiguous" id="A3.p2.2.m2.3.3.3.3.3.1.cmml" xref="A3.p2.2.m2.3.3.3.3.3">superscript</csymbol><cn id="A3.p2.2.m2.3.3.3.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.3.3.3.3.3.2">10</cn><apply id="A3.p2.2.m2.3.3.3.3.3.3.cmml" xref="A3.p2.2.m2.3.3.3.3.3.3"><minus id="A3.p2.2.m2.3.3.3.3.3.3.1.cmml" xref="A3.p2.2.m2.3.3.3.3.3.3"></minus><cn id="A3.p2.2.m2.3.3.3.3.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.3.3.3.3.3.3.2">4</cn></apply></apply></apply><apply id="A3.p2.2.m2.4.4.4.4.cmml" xref="A3.p2.2.m2.4.4.4.4"><times id="A3.p2.2.m2.4.4.4.4.1.cmml" xref="A3.p2.2.m2.4.4.4.4.1"></times><cn id="A3.p2.2.m2.4.4.4.4.2.cmml" type="integer" xref="A3.p2.2.m2.4.4.4.4.2">1</cn><apply id="A3.p2.2.m2.4.4.4.4.3.cmml" xref="A3.p2.2.m2.4.4.4.4.3"><csymbol cd="ambiguous" id="A3.p2.2.m2.4.4.4.4.3.1.cmml" xref="A3.p2.2.m2.4.4.4.4.3">superscript</csymbol><cn id="A3.p2.2.m2.4.4.4.4.3.2.cmml" type="integer" xref="A3.p2.2.m2.4.4.4.4.3.2">10</cn><apply id="A3.p2.2.m2.4.4.4.4.3.3.cmml" xref="A3.p2.2.m2.4.4.4.4.3.3"><minus id="A3.p2.2.m2.4.4.4.4.3.3.1.cmml" xref="A3.p2.2.m2.4.4.4.4.3.3"></minus><cn id="A3.p2.2.m2.4.4.4.4.3.3.2.cmml" type="integer" xref="A3.p2.2.m2.4.4.4.4.3.3.2">4</cn></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.2.m2.4c">\{1\times 10^{-3},5\times 10^{-4},3\times 10^{-4},1\times 10^{-4}\}</annotation><annotation encoding="application/x-llamapun" id="A3.p2.2.m2.4d">{ 1 × 10 start_POSTSUPERSCRIPT - 3 end_POSTSUPERSCRIPT , 5 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT , 3 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT , 1 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT }</annotation></semantics></math> using a linear scheduler. For dataset-specific training, the maximum number of epochs was set to 10 for the MovieLens-25M datasets and 5 for MovieLens-1M and GoodReads datasets. Detailed configurations of the baseline models are provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#A2" title="Appendix B Baseline Implementation ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a>. Additionally, the hard prompt templates for textual input-output pairs and item descriptions across all datasets are detailed in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.F2" title="Figure 2 ‣ 2.3. Large Language Models as Recommenders ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a></p>
</div>
<div class="ltx_para" id="A3.p3">
<p class="ltx_p" id="A3.p3.1">Furthermore, when formulating the hard prompt template for RecLoRA, we excluded all pure ID fields—namely, <span class="ltx_text ltx_font_italic" id="A3.p3.1.1">User ID</span>, <span class="ltx_text ltx_font_italic" id="A3.p3.1.2">Book ID</span> fields in GoodReads, <span class="ltx_text ltx_font_italic" id="A3.p3.1.3">User ID</span>, <span class="ltx_text ltx_font_italic" id="A3.p3.1.4">Movie ID</span>, and <span class="ltx_text ltx_font_italic" id="A3.p3.1.5">Zipcode</span> fields in the MovieLens-1M dataset, as well as
<span class="ltx_text ltx_font_italic" id="A3.p3.1.6">User ID</span> and <span class="ltx_text ltx_font_italic" id="A3.p3.1.7">Movie ID</span> fields in the MovieLens-25M dataset. This exclusion was based on findings that LLMs exhibit limited perceptual capabilities for pure ID texts <cite class="ltx_cite ltx_citemacro_citep">(Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#bib.bib43" title="">2023a</a>)</cite>. In contrast, other fields were utilized as user profile or item information in the prompts, as outlined in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.SS3" title="2.3. Large Language Models as Recommenders ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2.3</span></a> and Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.03533v2#S2.F2" title="Figure 2 ‣ 2.3. Large Language Models as Recommenders ‣ 2. Preliminary ‣ Lifelong Personalized Low-Rank Adaptation of Large Language Models for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>. Notably, for other CTR baseline models, we retained all feature fields and user behavior sequences as inputs, ensuring no features were discarded.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Sun Aug 11 09:08:50 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
