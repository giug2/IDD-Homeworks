<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2101.07995] FedNS: Improving Federated Learning for collaborative image classification on mobile clients</title><meta property="og:description" content="Federated Learning (FL) is a paradigm that aims to support loosely connected clients in learning a global model collaboratively with the help of a centralized server. The most popular FL algorithm is Federated Averagin…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedNS: Improving Federated Learning for collaborative image classification on mobile clients">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedNS: Improving Federated Learning for collaborative image classification on mobile clients">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2101.07995">

<!--Generated on Sat Mar  2 07:28:45 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">FedNS: Improving Federated Learning for collaborative image classification on mobile clients</h1>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated Learning (FL) is a paradigm that aims to support loosely connected clients in learning a global model collaboratively with the help of a centralized server. The most popular FL algorithm is Federated Averaging (FedAvg), which is based on taking weighted average of the client models, with the weights determined largely based on dataset sizes at the clients. In this paper, we propose a new approach, termed Federated Node Selection (FedNS), for the server’s global model aggregation in the FL setting. FedNS filters and re-weights the clients’ models at the node/kernel level, hence leading to a potentially better global model by fusing the best components of the clients. Using collaborative image classification as an example, we show with experiments from multiple datasets and networks that FedNS can consistently achieve improved performance over FedAvg. </p>
</div>
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Index Terms<span id="p1.1.1.1" class="ltx_text ltx_font_upright">— </span></span>
Federated learning, Model aggregation, Image classification</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Mobile devices with cameras have become ubiquitous and they potentially produce the amount of data necessary for training deep learning models that have seen increasing adoption in applications such as computer vision and robotics. In most real applications, it is not realistic to expect that a centralized server may train a global model by collecting data from all involved mobile clients, due to bandwidth constraint (e.g., too much traffic between the server and millions of clients) and/or privacy concerns (e.g., users may not be willing to share images from their devices). The <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">Federated Learning</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> was proposed and advocated as a good strategy to address these issues, which allows loosely connected clients to contribute to the learning of a global model collaboratively.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In a typical FL setup, training data are distributed over clients, each of which learns to update a global model using its local data. A server maintains and updates the server’s global model by aggregating copies of the local model from all the clients. A commonly used algorithm, named <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">Federated Averaging</span> (FedAvg) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, updates the global model by a weighted average of the client models, where the weights are proportional to the amount of data used by each involved client (in real implementations, not all clients are involved in every update).</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">While FedAvg delivered state-of-the-art results in some reports, it still has some limitations. First, its assumption about the data distributions across clients is often violated in real-world scenarios. Second, simple weighted average of client models may not be optimal, as analyzed in some recent work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. There are also other variants of FL, such as CMFL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> and FedMA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, where typically additional constraints or processing steps are introduced (e.g., more hyper-parameters and more computations at the clients), making the method less generally applicable compared with the simpler FedAvg.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this paper, we propose a new approach, termed Federated Node Selection (FedNS), for the server’s global model aggregation in the FL setting. The approach filters and re-weights the clients’ models at the node/kernel level on the server, hence leading to a potentially better global model by fusing the best components of the clients. We focus on a better way of module aggregation on the server while keeping the simplicity of the FL paradigm. Using collaborative image classification as a case study, we demonstrate the benefits of the proposed method from the following perspectives. First, the learning paradigm follows the FL framework without extra computation requirement for the clients or extra communication burden between the clients and the server. Second, our method can handle iid or non-iid distributions without pre-defined hyper-parameters. Third, our method allows the clients to have varying amount of data, making it closer to real-world scenarios (where mobile clients could see and process dynamically changing data everyday). Experiments with three different datasets and networks are used to assess the performance of the proposed method.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">The remainder of this paper is organized as follows. In Section <a href="#S2" title="2 Related work ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we review related work and discuss the disadvantages wherever applicable. In Section <a href="#S3" title="3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we first introduce common baselines and then present our method FedNS. We design and perform experiments in Section <a href="#S4" title="4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> for evaluation. And finally, we conclude with Section <a href="#S5" title="5 Conclusion and Future Work ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Since the initial paper by McMahan <span id="S2.p1.1.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, FL has received considerable attention and there have been numerous research papers on this regard, of which we can only briefly review some that are most relevant to our work. A couple of recent surveys <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> may provide an ample picture for an interested reader. One line of research has been on saving the communication between the clients and the server. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, a compressed structure was designed to reduce the communication cost. Horvath <span id="S2.p1.1.2" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> introduced another compression technique for lowering the training time. Alistarh <span id="S2.p1.1.3" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> proposed a family of compression schemes (QSGD), allowing a user to trade off between bandwidth and communication rounds (and hence modifying the basic FL framework). Federated Dropout <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> was proposed to allow the clients to train on only a subset of the global model, reducing parameters that need to be communicated to the server. In general, as the focus is on saving communication, such methods typically do not improve the learned global model, if they do not cause degradation.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">Another direction is on improving the effectiveness of FL. Wang <span id="S2.p2.1.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> proposed CMFL that picks a fraction of all communicated clients to update the global model. The main limitation is the need for searching optimal hyper-parameters (thresholds). Nishio <span id="S2.p2.1.2" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> tried to do client-level selective aggregation, based on the client’s computing capability. Zhao <span id="S2.p2.1.3" class="ltx_text ltx_font_italic">te al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> designed a strategy for improving accuracy when every client has only a single class of data. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, a method was proposed to filter the local data at client. But the filtering is based on pre-trained models. Yao <span id="S2.p2.1.4" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> proposed FedFusion, an approach that could improve the performance by fusing the two model features, although extra computation is needed for choosing the best fusion approach. FedMA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> constructs the global model in a layer-wise manner, which appears to cause significant burden on the clients.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">There are also some efforts on improving the FL for specific tasks/applications. For example, Huang <span id="S2.p3.1.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> designed a community-based FL algorithm that clusters distributed patient data into meaningful communities. Jennny <span id="S2.p3.1.2" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> designed an approach for reducing the cost of communication, focusing on enabling a large model to be learned on relatively small memory of the clients.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">While some of the aforementioned methods improve upon the more foundational FedAvg approach under peculiar settings, they often do not readily apply to more general FL settings, owing to the assumptions they introduced to constrain the problem. Our objective of this research is to design a method that focus on better model aggregation with minimal modification to the basic FL framework. For example, we relax the assumption about the knowledge of the data distribution. Hence our method has a better potential for wider applicability, especially for real-world applications.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Proposed Method</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we begin by introducing the baseline method of FL: Federated Averaging (FedAvg) in Section <a href="#S3.SS1" title="3.1 The FedAvg Baseline ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>. Then we present a straightforward extension in Section <a href="#S3.SS2" title="3.2 FedAvg+lastFC: A Simple Extension to FedAvg ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, termed FedAvg+lastFC, which attempts to do a better weighted averaging for the last FC layer under the non-iid condition. We propose our FedNS method in Section <a href="#S3.SS3" title="3.3 FedNS: the Proposed Method ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>, which is an improvement over FedAvg+lastFC in that better weighted averaging is done for all layers.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span><span id="S3.SS1.1.1" class="ltx_text ltx_font_bold">The FedAvg Baseline</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.4" class="ltx_p">FedAvg was first proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, where the problem was formulated as one of optimizing the following non-convex neural network objective function: </p>
<table id="S5.EGx1" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.1" class="ltx_Math" alttext="\displaystyle f(w)" display="inline"><semantics id="S3.E1.m1.1a"><mrow id="S3.E1.m1.1.2" xref="S3.E1.m1.1.2.cmml"><mi id="S3.E1.m1.1.2.2" xref="S3.E1.m1.1.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.1.2.1" xref="S3.E1.m1.1.2.1.cmml">​</mo><mrow id="S3.E1.m1.1.2.3.2" xref="S3.E1.m1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.1.2.3.2.1" xref="S3.E1.m1.1.2.cmml">(</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.1.2.3.2.2" xref="S3.E1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.1b"><apply id="S3.E1.m1.1.2.cmml" xref="S3.E1.m1.1.2"><times id="S3.E1.m1.1.2.1.cmml" xref="S3.E1.m1.1.2.1"></times><ci id="S3.E1.m1.1.2.2.cmml" xref="S3.E1.m1.1.2.2">𝑓</ci><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.1c">\displaystyle f(w)</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_eqn_cell"><math id="S3.E1.m2.3" class="ltx_Math" alttext="\displaystyle=\frac{1}{K}\sum_{k=1}^{K}\ell(x_{k},y_{k};w_{k})" display="inline"><semantics id="S3.E1.m2.3a"><mrow id="S3.E1.m2.3.3" xref="S3.E1.m2.3.3.cmml"><mi id="S3.E1.m2.3.3.5" xref="S3.E1.m2.3.3.5.cmml"></mi><mo id="S3.E1.m2.3.3.4" xref="S3.E1.m2.3.3.4.cmml">=</mo><mrow id="S3.E1.m2.3.3.3" xref="S3.E1.m2.3.3.3.cmml"><mstyle displaystyle="true" id="S3.E1.m2.3.3.3.5" xref="S3.E1.m2.3.3.3.5.cmml"><mfrac id="S3.E1.m2.3.3.3.5a" xref="S3.E1.m2.3.3.3.5.cmml"><mn id="S3.E1.m2.3.3.3.5.2" xref="S3.E1.m2.3.3.3.5.2.cmml">1</mn><mi id="S3.E1.m2.3.3.3.5.3" xref="S3.E1.m2.3.3.3.5.3.cmml">K</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.3.4" xref="S3.E1.m2.3.3.3.4.cmml">​</mo><mrow id="S3.E1.m2.3.3.3.3" xref="S3.E1.m2.3.3.3.3.cmml"><mstyle displaystyle="true" id="S3.E1.m2.3.3.3.3.4" xref="S3.E1.m2.3.3.3.3.4.cmml"><munderover id="S3.E1.m2.3.3.3.3.4a" xref="S3.E1.m2.3.3.3.3.4.cmml"><mo movablelimits="false" id="S3.E1.m2.3.3.3.3.4.2.2" xref="S3.E1.m2.3.3.3.3.4.2.2.cmml">∑</mo><mrow id="S3.E1.m2.3.3.3.3.4.2.3" xref="S3.E1.m2.3.3.3.3.4.2.3.cmml"><mi id="S3.E1.m2.3.3.3.3.4.2.3.2" xref="S3.E1.m2.3.3.3.3.4.2.3.2.cmml">k</mi><mo id="S3.E1.m2.3.3.3.3.4.2.3.1" xref="S3.E1.m2.3.3.3.3.4.2.3.1.cmml">=</mo><mn id="S3.E1.m2.3.3.3.3.4.2.3.3" xref="S3.E1.m2.3.3.3.3.4.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m2.3.3.3.3.4.3" xref="S3.E1.m2.3.3.3.3.4.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E1.m2.3.3.3.3.3" xref="S3.E1.m2.3.3.3.3.3.cmml"><mi mathvariant="normal" id="S3.E1.m2.3.3.3.3.3.5" xref="S3.E1.m2.3.3.3.3.3.5.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m2.3.3.3.3.3.4" xref="S3.E1.m2.3.3.3.3.3.4.cmml">​</mo><mrow id="S3.E1.m2.3.3.3.3.3.3.3" xref="S3.E1.m2.3.3.3.3.3.3.4.cmml"><mo stretchy="false" id="S3.E1.m2.3.3.3.3.3.3.3.4" xref="S3.E1.m2.3.3.3.3.3.3.4.cmml">(</mo><msub id="S3.E1.m2.1.1.1.1.1.1.1.1" xref="S3.E1.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m2.1.1.1.1.1.1.1.1.2" xref="S3.E1.m2.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E1.m2.1.1.1.1.1.1.1.1.3" xref="S3.E1.m2.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E1.m2.3.3.3.3.3.3.3.5" xref="S3.E1.m2.3.3.3.3.3.3.4.cmml">,</mo><msub id="S3.E1.m2.2.2.2.2.2.2.2.2" xref="S3.E1.m2.2.2.2.2.2.2.2.2.cmml"><mi id="S3.E1.m2.2.2.2.2.2.2.2.2.2" xref="S3.E1.m2.2.2.2.2.2.2.2.2.2.cmml">y</mi><mi id="S3.E1.m2.2.2.2.2.2.2.2.2.3" xref="S3.E1.m2.2.2.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.E1.m2.3.3.3.3.3.3.3.6" xref="S3.E1.m2.3.3.3.3.3.3.4.cmml">;</mo><msub id="S3.E1.m2.3.3.3.3.3.3.3.3" xref="S3.E1.m2.3.3.3.3.3.3.3.3.cmml"><mi id="S3.E1.m2.3.3.3.3.3.3.3.3.2" xref="S3.E1.m2.3.3.3.3.3.3.3.3.2.cmml">w</mi><mi id="S3.E1.m2.3.3.3.3.3.3.3.3.3" xref="S3.E1.m2.3.3.3.3.3.3.3.3.3.cmml">k</mi></msub><mo stretchy="false" id="S3.E1.m2.3.3.3.3.3.3.3.7" xref="S3.E1.m2.3.3.3.3.3.3.4.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m2.3b"><apply id="S3.E1.m2.3.3.cmml" xref="S3.E1.m2.3.3"><eq id="S3.E1.m2.3.3.4.cmml" xref="S3.E1.m2.3.3.4"></eq><csymbol cd="latexml" id="S3.E1.m2.3.3.5.cmml" xref="S3.E1.m2.3.3.5">absent</csymbol><apply id="S3.E1.m2.3.3.3.cmml" xref="S3.E1.m2.3.3.3"><times id="S3.E1.m2.3.3.3.4.cmml" xref="S3.E1.m2.3.3.3.4"></times><apply id="S3.E1.m2.3.3.3.5.cmml" xref="S3.E1.m2.3.3.3.5"><divide id="S3.E1.m2.3.3.3.5.1.cmml" xref="S3.E1.m2.3.3.3.5"></divide><cn type="integer" id="S3.E1.m2.3.3.3.5.2.cmml" xref="S3.E1.m2.3.3.3.5.2">1</cn><ci id="S3.E1.m2.3.3.3.5.3.cmml" xref="S3.E1.m2.3.3.3.5.3">𝐾</ci></apply><apply id="S3.E1.m2.3.3.3.3.cmml" xref="S3.E1.m2.3.3.3.3"><apply id="S3.E1.m2.3.3.3.3.4.cmml" xref="S3.E1.m2.3.3.3.3.4"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.3.3.4.1.cmml" xref="S3.E1.m2.3.3.3.3.4">superscript</csymbol><apply id="S3.E1.m2.3.3.3.3.4.2.cmml" xref="S3.E1.m2.3.3.3.3.4"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.3.3.4.2.1.cmml" xref="S3.E1.m2.3.3.3.3.4">subscript</csymbol><sum id="S3.E1.m2.3.3.3.3.4.2.2.cmml" xref="S3.E1.m2.3.3.3.3.4.2.2"></sum><apply id="S3.E1.m2.3.3.3.3.4.2.3.cmml" xref="S3.E1.m2.3.3.3.3.4.2.3"><eq id="S3.E1.m2.3.3.3.3.4.2.3.1.cmml" xref="S3.E1.m2.3.3.3.3.4.2.3.1"></eq><ci id="S3.E1.m2.3.3.3.3.4.2.3.2.cmml" xref="S3.E1.m2.3.3.3.3.4.2.3.2">𝑘</ci><cn type="integer" id="S3.E1.m2.3.3.3.3.4.2.3.3.cmml" xref="S3.E1.m2.3.3.3.3.4.2.3.3">1</cn></apply></apply><ci id="S3.E1.m2.3.3.3.3.4.3.cmml" xref="S3.E1.m2.3.3.3.3.4.3">𝐾</ci></apply><apply id="S3.E1.m2.3.3.3.3.3.cmml" xref="S3.E1.m2.3.3.3.3.3"><times id="S3.E1.m2.3.3.3.3.3.4.cmml" xref="S3.E1.m2.3.3.3.3.3.4"></times><ci id="S3.E1.m2.3.3.3.3.3.5.cmml" xref="S3.E1.m2.3.3.3.3.3.5">ℓ</ci><vector id="S3.E1.m2.3.3.3.3.3.3.4.cmml" xref="S3.E1.m2.3.3.3.3.3.3.3"><apply id="S3.E1.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m2.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E1.m2.2.2.2.2.2.2.2.2.cmml" xref="S3.E1.m2.2.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m2.2.2.2.2.2.2.2.2.1.cmml" xref="S3.E1.m2.2.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E1.m2.2.2.2.2.2.2.2.2.2.cmml" xref="S3.E1.m2.2.2.2.2.2.2.2.2.2">𝑦</ci><ci id="S3.E1.m2.2.2.2.2.2.2.2.2.3.cmml" xref="S3.E1.m2.2.2.2.2.2.2.2.2.3">𝑘</ci></apply><apply id="S3.E1.m2.3.3.3.3.3.3.3.3.cmml" xref="S3.E1.m2.3.3.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m2.3.3.3.3.3.3.3.3.1.cmml" xref="S3.E1.m2.3.3.3.3.3.3.3.3">subscript</csymbol><ci id="S3.E1.m2.3.3.3.3.3.3.3.3.2.cmml" xref="S3.E1.m2.3.3.3.3.3.3.3.3.2">𝑤</ci><ci id="S3.E1.m2.3.3.3.3.3.3.3.3.3.cmml" xref="S3.E1.m2.3.3.3.3.3.3.3.3.3">𝑘</ci></apply></vector></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m2.3c">\displaystyle=\frac{1}{K}\sum_{k=1}^{K}\ell(x_{k},y_{k};w_{k})</annotation></semantics></math></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.3" class="ltx_p">where <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">k</annotation></semantics></math> is the client index ranging from <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mn id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><cn type="integer" id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">1</annotation></semantics></math> to <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">K</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.10" class="ltx_p">The loss function <math id="S3.SS1.p2.1.m1.3" class="ltx_Math" alttext="\ell(x_{k},y_{k};w_{k})" display="inline"><semantics id="S3.SS1.p2.1.m1.3a"><mrow id="S3.SS1.p2.1.m1.3.3" xref="S3.SS1.p2.1.m1.3.3.cmml"><mi mathvariant="normal" id="S3.SS1.p2.1.m1.3.3.5" xref="S3.SS1.p2.1.m1.3.3.5.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.1.m1.3.3.4" xref="S3.SS1.p2.1.m1.3.3.4.cmml">​</mo><mrow id="S3.SS1.p2.1.m1.3.3.3.3" xref="S3.SS1.p2.1.m1.3.3.3.4.cmml"><mo stretchy="false" id="S3.SS1.p2.1.m1.3.3.3.3.4" xref="S3.SS1.p2.1.m1.3.3.3.4.cmml">(</mo><msub id="S3.SS1.p2.1.m1.1.1.1.1.1" xref="S3.SS1.p2.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.1.m1.1.1.1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS1.p2.1.m1.3.3.3.3.5" xref="S3.SS1.p2.1.m1.3.3.3.4.cmml">,</mo><msub id="S3.SS1.p2.1.m1.2.2.2.2.2" xref="S3.SS1.p2.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS1.p2.1.m1.2.2.2.2.2.2" xref="S3.SS1.p2.1.m1.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS1.p2.1.m1.2.2.2.2.2.3" xref="S3.SS1.p2.1.m1.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS1.p2.1.m1.3.3.3.3.6" xref="S3.SS1.p2.1.m1.3.3.3.4.cmml">;</mo><msub id="S3.SS1.p2.1.m1.3.3.3.3.3" xref="S3.SS1.p2.1.m1.3.3.3.3.3.cmml"><mi id="S3.SS1.p2.1.m1.3.3.3.3.3.2" xref="S3.SS1.p2.1.m1.3.3.3.3.3.2.cmml">w</mi><mi id="S3.SS1.p2.1.m1.3.3.3.3.3.3" xref="S3.SS1.p2.1.m1.3.3.3.3.3.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS1.p2.1.m1.3.3.3.3.7" xref="S3.SS1.p2.1.m1.3.3.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.3b"><apply id="S3.SS1.p2.1.m1.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3"><times id="S3.SS1.p2.1.m1.3.3.4.cmml" xref="S3.SS1.p2.1.m1.3.3.4"></times><ci id="S3.SS1.p2.1.m1.3.3.5.cmml" xref="S3.SS1.p2.1.m1.3.3.5">ℓ</ci><vector id="S3.SS1.p2.1.m1.3.3.3.4.cmml" xref="S3.SS1.p2.1.m1.3.3.3.3"><apply id="S3.SS1.p2.1.m1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p2.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS1.p2.1.m1.2.2.2.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS1.p2.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS1.p2.1.m1.2.2.2.2.2.2">𝑦</ci><ci id="S3.SS1.p2.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS1.p2.1.m1.2.2.2.2.2.3">𝑘</ci></apply><apply id="S3.SS1.p2.1.m1.3.3.3.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.3.3.3.3.3.1.cmml" xref="S3.SS1.p2.1.m1.3.3.3.3.3">subscript</csymbol><ci id="S3.SS1.p2.1.m1.3.3.3.3.3.2.cmml" xref="S3.SS1.p2.1.m1.3.3.3.3.3.2">𝑤</ci><ci id="S3.SS1.p2.1.m1.3.3.3.3.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3.3.3.3.3">𝑘</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.3c">\ell(x_{k},y_{k};w_{k})</annotation></semantics></math> is the <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">k</annotation></semantics></math>-th client’s loss, i.e., the loss of model <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="w_{k}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">w</mi><mi id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">𝑤</ci><ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">w_{k}</annotation></semantics></math> under data <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="x_{k}" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑥</ci><ci id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">x_{k}</annotation></semantics></math> with corresponding label <math id="S3.SS1.p2.5.m5.1" class="ltx_Math" alttext="y_{k}" display="inline"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">y</mi><mi id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑦</ci><ci id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">y_{k}</annotation></semantics></math>. In the first step of FedAvg, the server initializes a global model <math id="S3.SS1.p2.6.m6.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="S3.SS1.p2.6.m6.1a"><msub id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml">w</mi><mn id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2">𝑤</ci><cn type="integer" id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">w_{0}</annotation></semantics></math> and sends it to a fraction of communicated clients. Each communicated client <math id="S3.SS1.p2.7.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.7.m7.1a"><mi id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><ci id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">k</annotation></semantics></math> will train the model with its local data, i.e., calculating the local gradient <math id="S3.SS1.p2.8.m8.1" class="ltx_Math" alttext="g_{k}^{i}" display="inline"><semantics id="S3.SS1.p2.8.m8.1a"><msubsup id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml"><mi id="S3.SS1.p2.8.m8.1.1.2.2" xref="S3.SS1.p2.8.m8.1.1.2.2.cmml">g</mi><mi id="S3.SS1.p2.8.m8.1.1.2.3" xref="S3.SS1.p2.8.m8.1.1.2.3.cmml">k</mi><mi id="S3.SS1.p2.8.m8.1.1.3" xref="S3.SS1.p2.8.m8.1.1.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">superscript</csymbol><apply id="S3.SS1.p2.8.m8.1.1.2.cmml" xref="S3.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.2.1.cmml" xref="S3.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.2.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2.2">𝑔</ci><ci id="S3.SS1.p2.8.m8.1.1.2.3.cmml" xref="S3.SS1.p2.8.m8.1.1.2.3">𝑘</ci></apply><ci id="S3.SS1.p2.8.m8.1.1.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">g_{k}^{i}</annotation></semantics></math> and updating the local model after training certain <math id="S3.SS1.p2.9.m9.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS1.p2.9.m9.1a"><mi id="S3.SS1.p2.9.m9.1.1" xref="S3.SS1.p2.9.m9.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m9.1b"><ci id="S3.SS1.p2.9.m9.1.1.cmml" xref="S3.SS1.p2.9.m9.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m9.1c">E</annotation></semantics></math> epochs (assuming with the learning rate <math id="S3.SS1.p2.10.m10.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS1.p2.10.m10.1a"><mi id="S3.SS1.p2.10.m10.1.1" xref="S3.SS1.p2.10.m10.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m10.1b"><ci id="S3.SS1.p2.10.m10.1.1.cmml" xref="S3.SS1.p2.10.m10.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m10.1c">\eta</annotation></semantics></math>):</p>
<table id="S5.EGx2" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2.m1.4" class="ltx_Math" alttext="\displaystyle w_{k,t}^{i+1}=w_{k,t}^{i}-\eta g_{k}^{i}" display="inline"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.5" xref="S3.E2.m1.4.5.cmml"><msubsup id="S3.E2.m1.4.5.2" xref="S3.E2.m1.4.5.2.cmml"><mi id="S3.E2.m1.4.5.2.2.2" xref="S3.E2.m1.4.5.2.2.2.cmml">w</mi><mrow id="S3.E2.m1.2.2.2.4" xref="S3.E2.m1.2.2.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">k</mi><mo id="S3.E2.m1.2.2.2.4.1" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">t</mi></mrow><mrow id="S3.E2.m1.4.5.2.3" xref="S3.E2.m1.4.5.2.3.cmml"><mi id="S3.E2.m1.4.5.2.3.2" xref="S3.E2.m1.4.5.2.3.2.cmml">i</mi><mo id="S3.E2.m1.4.5.2.3.1" xref="S3.E2.m1.4.5.2.3.1.cmml">+</mo><mn id="S3.E2.m1.4.5.2.3.3" xref="S3.E2.m1.4.5.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S3.E2.m1.4.5.1" xref="S3.E2.m1.4.5.1.cmml">=</mo><mrow id="S3.E2.m1.4.5.3" xref="S3.E2.m1.4.5.3.cmml"><msubsup id="S3.E2.m1.4.5.3.2" xref="S3.E2.m1.4.5.3.2.cmml"><mi id="S3.E2.m1.4.5.3.2.2.2" xref="S3.E2.m1.4.5.3.2.2.2.cmml">w</mi><mrow id="S3.E2.m1.4.4.2.4" xref="S3.E2.m1.4.4.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml">k</mi><mo id="S3.E2.m1.4.4.2.4.1" xref="S3.E2.m1.4.4.2.3.cmml">,</mo><mi id="S3.E2.m1.4.4.2.2" xref="S3.E2.m1.4.4.2.2.cmml">t</mi></mrow><mi id="S3.E2.m1.4.5.3.2.3" xref="S3.E2.m1.4.5.3.2.3.cmml">i</mi></msubsup><mo id="S3.E2.m1.4.5.3.1" xref="S3.E2.m1.4.5.3.1.cmml">−</mo><mrow id="S3.E2.m1.4.5.3.3" xref="S3.E2.m1.4.5.3.3.cmml"><mi id="S3.E2.m1.4.5.3.3.2" xref="S3.E2.m1.4.5.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.5.3.3.1" xref="S3.E2.m1.4.5.3.3.1.cmml">​</mo><msubsup id="S3.E2.m1.4.5.3.3.3" xref="S3.E2.m1.4.5.3.3.3.cmml"><mi id="S3.E2.m1.4.5.3.3.3.2.2" xref="S3.E2.m1.4.5.3.3.3.2.2.cmml">g</mi><mi id="S3.E2.m1.4.5.3.3.3.2.3" xref="S3.E2.m1.4.5.3.3.3.2.3.cmml">k</mi><mi id="S3.E2.m1.4.5.3.3.3.3" xref="S3.E2.m1.4.5.3.3.3.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.5.cmml" xref="S3.E2.m1.4.5"><eq id="S3.E2.m1.4.5.1.cmml" xref="S3.E2.m1.4.5.1"></eq><apply id="S3.E2.m1.4.5.2.cmml" xref="S3.E2.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.2.1.cmml" xref="S3.E2.m1.4.5.2">superscript</csymbol><apply id="S3.E2.m1.4.5.2.2.cmml" xref="S3.E2.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.2.2.1.cmml" xref="S3.E2.m1.4.5.2">subscript</csymbol><ci id="S3.E2.m1.4.5.2.2.2.cmml" xref="S3.E2.m1.4.5.2.2.2">𝑤</ci><list id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.4"><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑘</ci><ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">𝑡</ci></list></apply><apply id="S3.E2.m1.4.5.2.3.cmml" xref="S3.E2.m1.4.5.2.3"><plus id="S3.E2.m1.4.5.2.3.1.cmml" xref="S3.E2.m1.4.5.2.3.1"></plus><ci id="S3.E2.m1.4.5.2.3.2.cmml" xref="S3.E2.m1.4.5.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.4.5.2.3.3.cmml" xref="S3.E2.m1.4.5.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.4.5.3.cmml" xref="S3.E2.m1.4.5.3"><minus id="S3.E2.m1.4.5.3.1.cmml" xref="S3.E2.m1.4.5.3.1"></minus><apply id="S3.E2.m1.4.5.3.2.cmml" xref="S3.E2.m1.4.5.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.3.2.1.cmml" xref="S3.E2.m1.4.5.3.2">superscript</csymbol><apply id="S3.E2.m1.4.5.3.2.2.cmml" xref="S3.E2.m1.4.5.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.3.2.2.1.cmml" xref="S3.E2.m1.4.5.3.2">subscript</csymbol><ci id="S3.E2.m1.4.5.3.2.2.2.cmml" xref="S3.E2.m1.4.5.3.2.2.2">𝑤</ci><list id="S3.E2.m1.4.4.2.3.cmml" xref="S3.E2.m1.4.4.2.4"><ci id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1.1">𝑘</ci><ci id="S3.E2.m1.4.4.2.2.cmml" xref="S3.E2.m1.4.4.2.2">𝑡</ci></list></apply><ci id="S3.E2.m1.4.5.3.2.3.cmml" xref="S3.E2.m1.4.5.3.2.3">𝑖</ci></apply><apply id="S3.E2.m1.4.5.3.3.cmml" xref="S3.E2.m1.4.5.3.3"><times id="S3.E2.m1.4.5.3.3.1.cmml" xref="S3.E2.m1.4.5.3.3.1"></times><ci id="S3.E2.m1.4.5.3.3.2.cmml" xref="S3.E2.m1.4.5.3.3.2">𝜂</ci><apply id="S3.E2.m1.4.5.3.3.3.cmml" xref="S3.E2.m1.4.5.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.3.3.3.1.cmml" xref="S3.E2.m1.4.5.3.3.3">superscript</csymbol><apply id="S3.E2.m1.4.5.3.3.3.2.cmml" xref="S3.E2.m1.4.5.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.3.3.3.2.1.cmml" xref="S3.E2.m1.4.5.3.3.3">subscript</csymbol><ci id="S3.E2.m1.4.5.3.3.3.2.2.cmml" xref="S3.E2.m1.4.5.3.3.3.2.2">𝑔</ci><ci id="S3.E2.m1.4.5.3.3.3.2.3.cmml" xref="S3.E2.m1.4.5.3.3.3.2.3">𝑘</ci></apply><ci id="S3.E2.m1.4.5.3.3.3.3.cmml" xref="S3.E2.m1.4.5.3.3.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">\displaystyle w_{k,t}^{i+1}=w_{k,t}^{i}-\eta g_{k}^{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.16" class="ltx_p">where <math id="S3.SS1.p2.11.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p2.11.m1.1a"><mi id="S3.SS1.p2.11.m1.1.1" xref="S3.SS1.p2.11.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m1.1b"><ci id="S3.SS1.p2.11.m1.1.1.cmml" xref="S3.SS1.p2.11.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m1.1c">t</annotation></semantics></math> indexes the communication rounds, ranging from <math id="S3.SS1.p2.12.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS1.p2.12.m2.1a"><mn id="S3.SS1.p2.12.m2.1.1" xref="S3.SS1.p2.12.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m2.1b"><cn type="integer" id="S3.SS1.p2.12.m2.1.1.cmml" xref="S3.SS1.p2.12.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m2.1c">1</annotation></semantics></math> to <math id="S3.SS1.p2.13.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p2.13.m3.1a"><mi id="S3.SS1.p2.13.m3.1.1" xref="S3.SS1.p2.13.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.13.m3.1b"><ci id="S3.SS1.p2.13.m3.1.1.cmml" xref="S3.SS1.p2.13.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.13.m3.1c">N</annotation></semantics></math>, and <math id="S3.SS1.p2.14.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p2.14.m4.1a"><mi id="S3.SS1.p2.14.m4.1.1" xref="S3.SS1.p2.14.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.14.m4.1b"><ci id="S3.SS1.p2.14.m4.1.1.cmml" xref="S3.SS1.p2.14.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.14.m4.1c">i</annotation></semantics></math> is the client’s local epoch range from <math id="S3.SS1.p2.15.m5.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS1.p2.15.m5.1a"><mn id="S3.SS1.p2.15.m5.1.1" xref="S3.SS1.p2.15.m5.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.15.m5.1b"><cn type="integer" id="S3.SS1.p2.15.m5.1.1.cmml" xref="S3.SS1.p2.15.m5.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.15.m5.1c">1</annotation></semantics></math> to <math id="S3.SS1.p2.16.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS1.p2.16.m6.1a"><mi id="S3.SS1.p2.16.m6.1.1" xref="S3.SS1.p2.16.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.16.m6.1b"><ci id="S3.SS1.p2.16.m6.1.1.cmml" xref="S3.SS1.p2.16.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.16.m6.1c">E</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.6" class="ltx_p">The initial model of the client is the weights received from the server. The clients will upload their updated local models back to the server. The server will then aggregate models from all clients using a weighted averaging scheme:</p>
<table id="S5.EGx3" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3.m1.4" class="ltx_Math" alttext="\displaystyle w_{s,t+1}=\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}" display="inline"><semantics id="S3.E3.m1.4a"><mrow id="S3.E3.m1.4.5" xref="S3.E3.m1.4.5.cmml"><msub id="S3.E3.m1.4.5.2" xref="S3.E3.m1.4.5.2.cmml"><mi id="S3.E3.m1.4.5.2.2" xref="S3.E3.m1.4.5.2.2.cmml">w</mi><mrow id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.3.cmml"><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">s</mi><mo id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.3.cmml">,</mo><mrow id="S3.E3.m1.2.2.2.2.1" xref="S3.E3.m1.2.2.2.2.1.cmml"><mi id="S3.E3.m1.2.2.2.2.1.2" xref="S3.E3.m1.2.2.2.2.1.2.cmml">t</mi><mo id="S3.E3.m1.2.2.2.2.1.1" xref="S3.E3.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S3.E3.m1.2.2.2.2.1.3" xref="S3.E3.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E3.m1.4.5.1" xref="S3.E3.m1.4.5.1.cmml">=</mo><mrow id="S3.E3.m1.4.5.3" xref="S3.E3.m1.4.5.3.cmml"><mstyle displaystyle="true" id="S3.E3.m1.4.5.3.1" xref="S3.E3.m1.4.5.3.1.cmml"><munderover id="S3.E3.m1.4.5.3.1a" xref="S3.E3.m1.4.5.3.1.cmml"><mo movablelimits="false" id="S3.E3.m1.4.5.3.1.2.2" xref="S3.E3.m1.4.5.3.1.2.2.cmml">∑</mo><mrow id="S3.E3.m1.4.5.3.1.2.3" xref="S3.E3.m1.4.5.3.1.2.3.cmml"><mi id="S3.E3.m1.4.5.3.1.2.3.2" xref="S3.E3.m1.4.5.3.1.2.3.2.cmml">k</mi><mo id="S3.E3.m1.4.5.3.1.2.3.1" xref="S3.E3.m1.4.5.3.1.2.3.1.cmml">=</mo><mn id="S3.E3.m1.4.5.3.1.2.3.3" xref="S3.E3.m1.4.5.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E3.m1.4.5.3.1.3" xref="S3.E3.m1.4.5.3.1.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E3.m1.4.5.3.2" xref="S3.E3.m1.4.5.3.2.cmml"><mstyle displaystyle="true" id="S3.E3.m1.4.5.3.2.2" xref="S3.E3.m1.4.5.3.2.2.cmml"><mfrac id="S3.E3.m1.4.5.3.2.2a" xref="S3.E3.m1.4.5.3.2.2.cmml"><msub id="S3.E3.m1.4.5.3.2.2.2" xref="S3.E3.m1.4.5.3.2.2.2.cmml"><mi id="S3.E3.m1.4.5.3.2.2.2.2" xref="S3.E3.m1.4.5.3.2.2.2.2.cmml">n</mi><mi id="S3.E3.m1.4.5.3.2.2.2.3" xref="S3.E3.m1.4.5.3.2.2.2.3.cmml">k</mi></msub><mi id="S3.E3.m1.4.5.3.2.2.3" xref="S3.E3.m1.4.5.3.2.2.3.cmml">n</mi></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E3.m1.4.5.3.2.1" xref="S3.E3.m1.4.5.3.2.1.cmml">​</mo><msub id="S3.E3.m1.4.5.3.2.3" xref="S3.E3.m1.4.5.3.2.3.cmml"><mi id="S3.E3.m1.4.5.3.2.3.2" xref="S3.E3.m1.4.5.3.2.3.2.cmml">w</mi><mrow id="S3.E3.m1.4.4.2.4" xref="S3.E3.m1.4.4.2.3.cmml"><mi id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml">k</mi><mo id="S3.E3.m1.4.4.2.4.1" xref="S3.E3.m1.4.4.2.3.cmml">,</mo><mi id="S3.E3.m1.4.4.2.2" xref="S3.E3.m1.4.4.2.2.cmml">t</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.4b"><apply id="S3.E3.m1.4.5.cmml" xref="S3.E3.m1.4.5"><eq id="S3.E3.m1.4.5.1.cmml" xref="S3.E3.m1.4.5.1"></eq><apply id="S3.E3.m1.4.5.2.cmml" xref="S3.E3.m1.4.5.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.5.2.1.cmml" xref="S3.E3.m1.4.5.2">subscript</csymbol><ci id="S3.E3.m1.4.5.2.2.cmml" xref="S3.E3.m1.4.5.2.2">𝑤</ci><list id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2"><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑠</ci><apply id="S3.E3.m1.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.1"><plus id="S3.E3.m1.2.2.2.2.1.1.cmml" xref="S3.E3.m1.2.2.2.2.1.1"></plus><ci id="S3.E3.m1.2.2.2.2.1.2.cmml" xref="S3.E3.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="S3.E3.m1.2.2.2.2.1.3.cmml" xref="S3.E3.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="S3.E3.m1.4.5.3.cmml" xref="S3.E3.m1.4.5.3"><apply id="S3.E3.m1.4.5.3.1.cmml" xref="S3.E3.m1.4.5.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.4.5.3.1.1.cmml" xref="S3.E3.m1.4.5.3.1">superscript</csymbol><apply id="S3.E3.m1.4.5.3.1.2.cmml" xref="S3.E3.m1.4.5.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.4.5.3.1.2.1.cmml" xref="S3.E3.m1.4.5.3.1">subscript</csymbol><sum id="S3.E3.m1.4.5.3.1.2.2.cmml" xref="S3.E3.m1.4.5.3.1.2.2"></sum><apply id="S3.E3.m1.4.5.3.1.2.3.cmml" xref="S3.E3.m1.4.5.3.1.2.3"><eq id="S3.E3.m1.4.5.3.1.2.3.1.cmml" xref="S3.E3.m1.4.5.3.1.2.3.1"></eq><ci id="S3.E3.m1.4.5.3.1.2.3.2.cmml" xref="S3.E3.m1.4.5.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E3.m1.4.5.3.1.2.3.3.cmml" xref="S3.E3.m1.4.5.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.4.5.3.1.3.cmml" xref="S3.E3.m1.4.5.3.1.3">𝐾</ci></apply><apply id="S3.E3.m1.4.5.3.2.cmml" xref="S3.E3.m1.4.5.3.2"><times id="S3.E3.m1.4.5.3.2.1.cmml" xref="S3.E3.m1.4.5.3.2.1"></times><apply id="S3.E3.m1.4.5.3.2.2.cmml" xref="S3.E3.m1.4.5.3.2.2"><divide id="S3.E3.m1.4.5.3.2.2.1.cmml" xref="S3.E3.m1.4.5.3.2.2"></divide><apply id="S3.E3.m1.4.5.3.2.2.2.cmml" xref="S3.E3.m1.4.5.3.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.5.3.2.2.2.1.cmml" xref="S3.E3.m1.4.5.3.2.2.2">subscript</csymbol><ci id="S3.E3.m1.4.5.3.2.2.2.2.cmml" xref="S3.E3.m1.4.5.3.2.2.2.2">𝑛</ci><ci id="S3.E3.m1.4.5.3.2.2.2.3.cmml" xref="S3.E3.m1.4.5.3.2.2.2.3">𝑘</ci></apply><ci id="S3.E3.m1.4.5.3.2.2.3.cmml" xref="S3.E3.m1.4.5.3.2.2.3">𝑛</ci></apply><apply id="S3.E3.m1.4.5.3.2.3.cmml" xref="S3.E3.m1.4.5.3.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.4.5.3.2.3.1.cmml" xref="S3.E3.m1.4.5.3.2.3">subscript</csymbol><ci id="S3.E3.m1.4.5.3.2.3.2.cmml" xref="S3.E3.m1.4.5.3.2.3.2">𝑤</ci><list id="S3.E3.m1.4.4.2.3.cmml" xref="S3.E3.m1.4.4.2.4"><ci id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1.1">𝑘</ci><ci id="S3.E3.m1.4.4.2.2.cmml" xref="S3.E3.m1.4.4.2.2">𝑡</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.4c">\displaystyle w_{s,t+1}=\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.5" class="ltx_p">where <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="w_{s}" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><msub id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mi id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">w</mi><mi id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">𝑤</ci><ci id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">w_{s}</annotation></semantics></math> is the weights of the global model on the server, <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><msub id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><mi id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml">n</mi><mi id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2">𝑛</ci><ci id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">n_{k}</annotation></semantics></math> is the total number of training samples on client <math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">k</annotation></semantics></math> and <math id="S3.SS1.p3.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p3.4.m4.1a"><mi id="S3.SS1.p3.4.m4.1.1" xref="S3.SS1.p3.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.1b"><ci id="S3.SS1.p3.4.m4.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.1c">n</annotation></semantics></math> is the sum of all samples from all communicated clients. It is worth noting that Eqn. <a href="#S3.E3" title="In 3.1 The FedAvg Baseline ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> will become simple averaging when all clients have the same amount of data. In the next communication round, the server will start from sending aggregated server model <math id="S3.SS1.p3.5.m5.2" class="ltx_Math" alttext="w_{s,t}" display="inline"><semantics id="S3.SS1.p3.5.m5.2a"><msub id="S3.SS1.p3.5.m5.2.3" xref="S3.SS1.p3.5.m5.2.3.cmml"><mi id="S3.SS1.p3.5.m5.2.3.2" xref="S3.SS1.p3.5.m5.2.3.2.cmml">w</mi><mrow id="S3.SS1.p3.5.m5.2.2.2.4" xref="S3.SS1.p3.5.m5.2.2.2.3.cmml"><mi id="S3.SS1.p3.5.m5.1.1.1.1" xref="S3.SS1.p3.5.m5.1.1.1.1.cmml">s</mi><mo id="S3.SS1.p3.5.m5.2.2.2.4.1" xref="S3.SS1.p3.5.m5.2.2.2.3.cmml">,</mo><mi id="S3.SS1.p3.5.m5.2.2.2.2" xref="S3.SS1.p3.5.m5.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.2b"><apply id="S3.SS1.p3.5.m5.2.3.cmml" xref="S3.SS1.p3.5.m5.2.3"><csymbol cd="ambiguous" id="S3.SS1.p3.5.m5.2.3.1.cmml" xref="S3.SS1.p3.5.m5.2.3">subscript</csymbol><ci id="S3.SS1.p3.5.m5.2.3.2.cmml" xref="S3.SS1.p3.5.m5.2.3.2">𝑤</ci><list id="S3.SS1.p3.5.m5.2.2.2.3.cmml" xref="S3.SS1.p3.5.m5.2.2.2.4"><ci id="S3.SS1.p3.5.m5.1.1.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1.1.1">𝑠</ci><ci id="S3.SS1.p3.5.m5.2.2.2.2.cmml" xref="S3.SS1.p3.5.m5.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.2c">w_{s,t}</annotation></semantics></math> to all the clients and repeat the previous steps until reach the target communication rounds. The complete pseudo-code for this baseline is given in Algorithm<a href="#alg1" title="Algorithm 1 ‣ 3.1 The FedAvg Baseline ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated Averaging (FedAvg)</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">  <span id="alg1.l1.1" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg1.l2" class="ltx_listingline">  initialize <math id="alg1.l2.m1.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="alg1.l2.m1.1a"><msub id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">w</mi><mn id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑤</ci><cn type="integer" id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">w_{0}</annotation></semantics></math> as <math id="alg1.l2.m2.2" class="ltx_Math" alttext="w_{s,1}" display="inline"><semantics id="alg1.l2.m2.2a"><msub id="alg1.l2.m2.2.3" xref="alg1.l2.m2.2.3.cmml"><mi id="alg1.l2.m2.2.3.2" xref="alg1.l2.m2.2.3.2.cmml">w</mi><mrow id="alg1.l2.m2.2.2.2.4" xref="alg1.l2.m2.2.2.2.3.cmml"><mi id="alg1.l2.m2.1.1.1.1" xref="alg1.l2.m2.1.1.1.1.cmml">s</mi><mo id="alg1.l2.m2.2.2.2.4.1" xref="alg1.l2.m2.2.2.2.3.cmml">,</mo><mn id="alg1.l2.m2.2.2.2.2" xref="alg1.l2.m2.2.2.2.2.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.2b"><apply id="alg1.l2.m2.2.3.cmml" xref="alg1.l2.m2.2.3"><csymbol cd="ambiguous" id="alg1.l2.m2.2.3.1.cmml" xref="alg1.l2.m2.2.3">subscript</csymbol><ci id="alg1.l2.m2.2.3.2.cmml" xref="alg1.l2.m2.2.3.2">𝑤</ci><list id="alg1.l2.m2.2.2.2.3.cmml" xref="alg1.l2.m2.2.2.2.4"><ci id="alg1.l2.m2.1.1.1.1.cmml" xref="alg1.l2.m2.1.1.1.1">𝑠</ci><cn type="integer" id="alg1.l2.m2.2.2.2.2.cmml" xref="alg1.l2.m2.2.2.2.2">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.2c">w_{s,1}</annotation></semantics></math>

</div>
<div id="alg1.l3" class="ltx_listingline">  <span id="alg1.l3.1" class="ltx_text ltx_font_bold">for</span> each communication round <math id="alg1.l3.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="alg1.l3.m1.1a"><mi id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">t</annotation></semantics></math> from <math id="alg1.l3.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg1.l3.m2.1a"><mn id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><cn type="integer" id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">1</annotation></semantics></math> to <math id="alg1.l3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l3.m3.1a"><mi id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b"><ci id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.1c">N</annotation></semantics></math> <span id="alg1.l3.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">     <math id="alg1.l4.m1.1" class="ltx_Math" alttext="S_{t}\leftarrow" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><msub id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">S</mi><mi id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">t</mi></msub><mo stretchy="false" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑆</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">S_{t}\leftarrow</annotation></semantics></math> (the fraction of communicated clients)

</div>
<div id="alg1.l5" class="ltx_listingline">     <span id="alg1.l5.1" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l5.m1.1" class="ltx_Math" alttext="k\in S_{t}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">k</mi><mo id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">∈</mo><msub id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"><mi id="alg1.l5.m1.1.1.3.2" xref="alg1.l5.m1.1.1.3.2.cmml">S</mi><mi id="alg1.l5.m1.1.1.3.3" xref="alg1.l5.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><in id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1"></in><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑘</ci><apply id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.3.1.cmml" xref="alg1.l5.m1.1.1.3">subscript</csymbol><ci id="alg1.l5.m1.1.1.3.2.cmml" xref="alg1.l5.m1.1.1.3.2">𝑆</ci><ci id="alg1.l5.m1.1.1.3.3.cmml" xref="alg1.l5.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">k\in S_{t}</annotation></semantics></math> <span id="alg1.l5.2" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg1.l5.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l6" class="ltx_listingline">        <math id="alg1.l6.m1.2" class="ltx_Math" alttext="w_{k,t}\leftarrow" display="inline"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.3" xref="alg1.l6.m1.2.3.cmml"><msub id="alg1.l6.m1.2.3.2" xref="alg1.l6.m1.2.3.2.cmml"><mi id="alg1.l6.m1.2.3.2.2" xref="alg1.l6.m1.2.3.2.2.cmml">w</mi><mrow id="alg1.l6.m1.2.2.2.4" xref="alg1.l6.m1.2.2.2.3.cmml"><mi id="alg1.l6.m1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.cmml">k</mi><mo id="alg1.l6.m1.2.2.2.4.1" xref="alg1.l6.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l6.m1.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.cmml">t</mi></mrow></msub><mo stretchy="false" id="alg1.l6.m1.2.3.1" xref="alg1.l6.m1.2.3.1.cmml">←</mo><mi id="alg1.l6.m1.2.3.3" xref="alg1.l6.m1.2.3.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.3.cmml" xref="alg1.l6.m1.2.3"><ci id="alg1.l6.m1.2.3.1.cmml" xref="alg1.l6.m1.2.3.1">←</ci><apply id="alg1.l6.m1.2.3.2.cmml" xref="alg1.l6.m1.2.3.2"><csymbol cd="ambiguous" id="alg1.l6.m1.2.3.2.1.cmml" xref="alg1.l6.m1.2.3.2">subscript</csymbol><ci id="alg1.l6.m1.2.3.2.2.cmml" xref="alg1.l6.m1.2.3.2.2">𝑤</ci><list id="alg1.l6.m1.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.4"><ci id="alg1.l6.m1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1">𝑘</ci><ci id="alg1.l6.m1.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2">𝑡</ci></list></apply><csymbol cd="latexml" id="alg1.l6.m1.2.3.3.cmml" xref="alg1.l6.m1.2.3.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">w_{k,t}\leftarrow</annotation></semantics></math> ClientUpdate(<math id="alg1.l6.m2.4" class="ltx_Math" alttext="k,w_{s,t}" display="inline"><semantics id="alg1.l6.m2.4a"><mrow id="alg1.l6.m2.4.4.1" xref="alg1.l6.m2.4.4.2.cmml"><mi id="alg1.l6.m2.3.3" xref="alg1.l6.m2.3.3.cmml">k</mi><mo id="alg1.l6.m2.4.4.1.2" xref="alg1.l6.m2.4.4.2.cmml">,</mo><msub id="alg1.l6.m2.4.4.1.1" xref="alg1.l6.m2.4.4.1.1.cmml"><mi id="alg1.l6.m2.4.4.1.1.2" xref="alg1.l6.m2.4.4.1.1.2.cmml">w</mi><mrow id="alg1.l6.m2.2.2.2.4" xref="alg1.l6.m2.2.2.2.3.cmml"><mi id="alg1.l6.m2.1.1.1.1" xref="alg1.l6.m2.1.1.1.1.cmml">s</mi><mo id="alg1.l6.m2.2.2.2.4.1" xref="alg1.l6.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l6.m2.2.2.2.2" xref="alg1.l6.m2.2.2.2.2.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.4b"><list id="alg1.l6.m2.4.4.2.cmml" xref="alg1.l6.m2.4.4.1"><ci id="alg1.l6.m2.3.3.cmml" xref="alg1.l6.m2.3.3">𝑘</ci><apply id="alg1.l6.m2.4.4.1.1.cmml" xref="alg1.l6.m2.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l6.m2.4.4.1.1.1.cmml" xref="alg1.l6.m2.4.4.1.1">subscript</csymbol><ci id="alg1.l6.m2.4.4.1.1.2.cmml" xref="alg1.l6.m2.4.4.1.1.2">𝑤</ci><list id="alg1.l6.m2.2.2.2.3.cmml" xref="alg1.l6.m2.2.2.2.4"><ci id="alg1.l6.m2.1.1.1.1.cmml" xref="alg1.l6.m2.1.1.1.1">𝑠</ci><ci id="alg1.l6.m2.2.2.2.2.cmml" xref="alg1.l6.m2.2.2.2.2">𝑡</ci></list></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.4c">k,w_{s,t}</annotation></semantics></math>) 

</div>
<div id="alg1.l7" class="ltx_listingline">     <span id="alg1.l7.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l7.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l8" class="ltx_listingline">     <span id="alg1.l8.1" class="ltx_text ltx_font_bold">Model Aggregation:</span>

</div>
<div id="alg1.l9" class="ltx_listingline">     <math id="alg1.l9.m1.4" class="ltx_Math" alttext="w_{s,t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}" display="inline"><semantics id="alg1.l9.m1.4a"><mrow id="alg1.l9.m1.4.5" xref="alg1.l9.m1.4.5.cmml"><msub id="alg1.l9.m1.4.5.2" xref="alg1.l9.m1.4.5.2.cmml"><mi id="alg1.l9.m1.4.5.2.2" xref="alg1.l9.m1.4.5.2.2.cmml">w</mi><mrow id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.3.cmml"><mi id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml">s</mi><mo id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l9.m1.2.2.2.2.1" xref="alg1.l9.m1.2.2.2.2.1.cmml"><mi id="alg1.l9.m1.2.2.2.2.1.2" xref="alg1.l9.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg1.l9.m1.2.2.2.2.1.1" xref="alg1.l9.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg1.l9.m1.2.2.2.2.1.3" xref="alg1.l9.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo rspace="0.111em" stretchy="false" id="alg1.l9.m1.4.5.1" xref="alg1.l9.m1.4.5.1.cmml">←</mo><mrow id="alg1.l9.m1.4.5.3" xref="alg1.l9.m1.4.5.3.cmml"><msubsup id="alg1.l9.m1.4.5.3.1" xref="alg1.l9.m1.4.5.3.1.cmml"><mo id="alg1.l9.m1.4.5.3.1.2.2" xref="alg1.l9.m1.4.5.3.1.2.2.cmml">∑</mo><mrow id="alg1.l9.m1.4.5.3.1.2.3" xref="alg1.l9.m1.4.5.3.1.2.3.cmml"><mi id="alg1.l9.m1.4.5.3.1.2.3.2" xref="alg1.l9.m1.4.5.3.1.2.3.2.cmml">k</mi><mo id="alg1.l9.m1.4.5.3.1.2.3.1" xref="alg1.l9.m1.4.5.3.1.2.3.1.cmml">=</mo><mn id="alg1.l9.m1.4.5.3.1.2.3.3" xref="alg1.l9.m1.4.5.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg1.l9.m1.4.5.3.1.3" xref="alg1.l9.m1.4.5.3.1.3.cmml">K</mi></msubsup><mrow id="alg1.l9.m1.4.5.3.2" xref="alg1.l9.m1.4.5.3.2.cmml"><mfrac id="alg1.l9.m1.4.5.3.2.2" xref="alg1.l9.m1.4.5.3.2.2.cmml"><msub id="alg1.l9.m1.4.5.3.2.2.2" xref="alg1.l9.m1.4.5.3.2.2.2.cmml"><mi id="alg1.l9.m1.4.5.3.2.2.2.2" xref="alg1.l9.m1.4.5.3.2.2.2.2.cmml">n</mi><mi id="alg1.l9.m1.4.5.3.2.2.2.3" xref="alg1.l9.m1.4.5.3.2.2.2.3.cmml">k</mi></msub><mi id="alg1.l9.m1.4.5.3.2.2.3" xref="alg1.l9.m1.4.5.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="alg1.l9.m1.4.5.3.2.1" xref="alg1.l9.m1.4.5.3.2.1.cmml">​</mo><msub id="alg1.l9.m1.4.5.3.2.3" xref="alg1.l9.m1.4.5.3.2.3.cmml"><mi id="alg1.l9.m1.4.5.3.2.3.2" xref="alg1.l9.m1.4.5.3.2.3.2.cmml">w</mi><mrow id="alg1.l9.m1.4.4.2.4" xref="alg1.l9.m1.4.4.2.3.cmml"><mi id="alg1.l9.m1.3.3.1.1" xref="alg1.l9.m1.3.3.1.1.cmml">k</mi><mo id="alg1.l9.m1.4.4.2.4.1" xref="alg1.l9.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l9.m1.4.4.2.2" xref="alg1.l9.m1.4.4.2.2.cmml">t</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.4b"><apply id="alg1.l9.m1.4.5.cmml" xref="alg1.l9.m1.4.5"><ci id="alg1.l9.m1.4.5.1.cmml" xref="alg1.l9.m1.4.5.1">←</ci><apply id="alg1.l9.m1.4.5.2.cmml" xref="alg1.l9.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l9.m1.4.5.2.1.cmml" xref="alg1.l9.m1.4.5.2">subscript</csymbol><ci id="alg1.l9.m1.4.5.2.2.cmml" xref="alg1.l9.m1.4.5.2.2">𝑤</ci><list id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2"><ci id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">𝑠</ci><apply id="alg1.l9.m1.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.1"><plus id="alg1.l9.m1.2.2.2.2.1.1.cmml" xref="alg1.l9.m1.2.2.2.2.1.1"></plus><ci id="alg1.l9.m1.2.2.2.2.1.2.cmml" xref="alg1.l9.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg1.l9.m1.2.2.2.2.1.3.cmml" xref="alg1.l9.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg1.l9.m1.4.5.3.cmml" xref="alg1.l9.m1.4.5.3"><apply id="alg1.l9.m1.4.5.3.1.cmml" xref="alg1.l9.m1.4.5.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.4.5.3.1.1.cmml" xref="alg1.l9.m1.4.5.3.1">superscript</csymbol><apply id="alg1.l9.m1.4.5.3.1.2.cmml" xref="alg1.l9.m1.4.5.3.1"><csymbol cd="ambiguous" id="alg1.l9.m1.4.5.3.1.2.1.cmml" xref="alg1.l9.m1.4.5.3.1">subscript</csymbol><sum id="alg1.l9.m1.4.5.3.1.2.2.cmml" xref="alg1.l9.m1.4.5.3.1.2.2"></sum><apply id="alg1.l9.m1.4.5.3.1.2.3.cmml" xref="alg1.l9.m1.4.5.3.1.2.3"><eq id="alg1.l9.m1.4.5.3.1.2.3.1.cmml" xref="alg1.l9.m1.4.5.3.1.2.3.1"></eq><ci id="alg1.l9.m1.4.5.3.1.2.3.2.cmml" xref="alg1.l9.m1.4.5.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg1.l9.m1.4.5.3.1.2.3.3.cmml" xref="alg1.l9.m1.4.5.3.1.2.3.3">1</cn></apply></apply><ci id="alg1.l9.m1.4.5.3.1.3.cmml" xref="alg1.l9.m1.4.5.3.1.3">𝐾</ci></apply><apply id="alg1.l9.m1.4.5.3.2.cmml" xref="alg1.l9.m1.4.5.3.2"><times id="alg1.l9.m1.4.5.3.2.1.cmml" xref="alg1.l9.m1.4.5.3.2.1"></times><apply id="alg1.l9.m1.4.5.3.2.2.cmml" xref="alg1.l9.m1.4.5.3.2.2"><divide id="alg1.l9.m1.4.5.3.2.2.1.cmml" xref="alg1.l9.m1.4.5.3.2.2"></divide><apply id="alg1.l9.m1.4.5.3.2.2.2.cmml" xref="alg1.l9.m1.4.5.3.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.4.5.3.2.2.2.1.cmml" xref="alg1.l9.m1.4.5.3.2.2.2">subscript</csymbol><ci id="alg1.l9.m1.4.5.3.2.2.2.2.cmml" xref="alg1.l9.m1.4.5.3.2.2.2.2">𝑛</ci><ci id="alg1.l9.m1.4.5.3.2.2.2.3.cmml" xref="alg1.l9.m1.4.5.3.2.2.2.3">𝑘</ci></apply><ci id="alg1.l9.m1.4.5.3.2.2.3.cmml" xref="alg1.l9.m1.4.5.3.2.2.3">𝑛</ci></apply><apply id="alg1.l9.m1.4.5.3.2.3.cmml" xref="alg1.l9.m1.4.5.3.2.3"><csymbol cd="ambiguous" id="alg1.l9.m1.4.5.3.2.3.1.cmml" xref="alg1.l9.m1.4.5.3.2.3">subscript</csymbol><ci id="alg1.l9.m1.4.5.3.2.3.2.cmml" xref="alg1.l9.m1.4.5.3.2.3.2">𝑤</ci><list id="alg1.l9.m1.4.4.2.3.cmml" xref="alg1.l9.m1.4.4.2.4"><ci id="alg1.l9.m1.3.3.1.1.cmml" xref="alg1.l9.m1.3.3.1.1">𝑘</ci><ci id="alg1.l9.m1.4.4.2.2.cmml" xref="alg1.l9.m1.4.4.2.2">𝑡</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.4c">w_{s,t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}</annotation></semantics></math>

</div>
<div id="alg1.l10" class="ltx_listingline">  <span id="alg1.l10.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l10.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l11" class="ltx_listingline">  
</div>
<div id="alg1.l12" class="ltx_listingline">  <span id="alg1.l12.1" class="ltx_text ltx_font_bold">ClientUpdate(<math id="alg1.l12.1.m1.4" class="ltx_Math" alttext="k,w_{k,t}" display="inline"><semantics id="alg1.l12.1.m1.4a"><mrow id="alg1.l12.1.m1.4.4.1" xref="alg1.l12.1.m1.4.4.2.cmml"><mi id="alg1.l12.1.m1.3.3" xref="alg1.l12.1.m1.3.3.cmml">k</mi><mo id="alg1.l12.1.m1.4.4.1.2" xref="alg1.l12.1.m1.4.4.2.cmml">,</mo><msub id="alg1.l12.1.m1.4.4.1.1" xref="alg1.l12.1.m1.4.4.1.1.cmml"><mi id="alg1.l12.1.m1.4.4.1.1.2" xref="alg1.l12.1.m1.4.4.1.1.2.cmml">w</mi><mrow id="alg1.l12.1.m1.2.2.2.4" xref="alg1.l12.1.m1.2.2.2.3.cmml"><mi id="alg1.l12.1.m1.1.1.1.1" xref="alg1.l12.1.m1.1.1.1.1.cmml">k</mi><mo id="alg1.l12.1.m1.2.2.2.4.1" xref="alg1.l12.1.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l12.1.m1.2.2.2.2" xref="alg1.l12.1.m1.2.2.2.2.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.1.m1.4b"><list id="alg1.l12.1.m1.4.4.2.cmml" xref="alg1.l12.1.m1.4.4.1"><ci id="alg1.l12.1.m1.3.3.cmml" xref="alg1.l12.1.m1.3.3">𝑘</ci><apply id="alg1.l12.1.m1.4.4.1.1.cmml" xref="alg1.l12.1.m1.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l12.1.m1.4.4.1.1.1.cmml" xref="alg1.l12.1.m1.4.4.1.1">subscript</csymbol><ci id="alg1.l12.1.m1.4.4.1.1.2.cmml" xref="alg1.l12.1.m1.4.4.1.1.2">𝑤</ci><list id="alg1.l12.1.m1.2.2.2.3.cmml" xref="alg1.l12.1.m1.2.2.2.4"><ci id="alg1.l12.1.m1.1.1.1.1.cmml" xref="alg1.l12.1.m1.1.1.1.1">𝑘</ci><ci id="alg1.l12.1.m1.2.2.2.2.cmml" xref="alg1.l12.1.m1.2.2.2.2">𝑡</ci></list></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.1.m1.4c">k,w_{k,t}</annotation></semantics></math>):</span>

</div>
<div id="alg1.l13" class="ltx_listingline">  <math id="alg1.l13.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow" display="inline"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2.cmml">ℬ</mi><mo stretchy="false" id="alg1.l13.m1.1.1.1" xref="alg1.l13.m1.1.1.1.cmml">←</mo><mi id="alg1.l13.m1.1.1.3" xref="alg1.l13.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><ci id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1">←</ci><ci id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2">ℬ</ci><csymbol cd="latexml" id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">\mathcal{B}\leftarrow</annotation></semantics></math> (split local data into batches of local batch size <math id="alg1.l13.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.l13.m2.1a"><mi id="alg1.l13.m2.1.1" xref="alg1.l13.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.l13.m2.1b"><ci id="alg1.l13.m2.1.1.cmml" xref="alg1.l13.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m2.1c">B</annotation></semantics></math>)

</div>
<div id="alg1.l14" class="ltx_listingline">  <span id="alg1.l14.1" class="ltx_text ltx_font_bold">for</span> each local epoch <math id="alg1.l14.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l14.m1.1a"><mi id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><ci id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">i</annotation></semantics></math> from <math id="alg1.l14.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg1.l14.m2.1a"><mn id="alg1.l14.m2.1.1" xref="alg1.l14.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg1.l14.m2.1b"><cn type="integer" id="alg1.l14.m2.1.1.cmml" xref="alg1.l14.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m2.1c">1</annotation></semantics></math> to <math id="alg1.l14.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.l14.m3.1a"><mi id="alg1.l14.m3.1.1" xref="alg1.l14.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.l14.m3.1b"><ci id="alg1.l14.m3.1.1.cmml" xref="alg1.l14.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m3.1c">E</annotation></semantics></math> <span id="alg1.l14.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l15" class="ltx_listingline">     <span id="alg1.l15.1" class="ltx_text ltx_font_bold">for</span> batch <math id="alg1.l15.m1.1" class="ltx_Math" alttext="b\in\mathcal{B}" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mi id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">b</mi><mo id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><in id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></in><ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">𝑏</ci><ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">b\in\mathcal{B}</annotation></semantics></math> <span id="alg1.l15.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l16" class="ltx_listingline">        <math id="alg1.l16.m1.4" class="ltx_Math" alttext="g_{k}^{i}=\triangledown(w_{k,t}^{i};b)" display="inline"><semantics id="alg1.l16.m1.4a"><mrow id="alg1.l16.m1.4.4" xref="alg1.l16.m1.4.4.cmml"><msubsup id="alg1.l16.m1.4.4.3" xref="alg1.l16.m1.4.4.3.cmml"><mi id="alg1.l16.m1.4.4.3.2.2" xref="alg1.l16.m1.4.4.3.2.2.cmml">g</mi><mi id="alg1.l16.m1.4.4.3.2.3" xref="alg1.l16.m1.4.4.3.2.3.cmml">k</mi><mi id="alg1.l16.m1.4.4.3.3" xref="alg1.l16.m1.4.4.3.3.cmml">i</mi></msubsup><mo id="alg1.l16.m1.4.4.2" xref="alg1.l16.m1.4.4.2.cmml">=</mo><mrow id="alg1.l16.m1.4.4.1" xref="alg1.l16.m1.4.4.1.cmml"><mi mathvariant="normal" id="alg1.l16.m1.4.4.1.3" xref="alg1.l16.m1.4.4.1.3.cmml">▽</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.4.4.1.2" xref="alg1.l16.m1.4.4.1.2.cmml">​</mo><mrow id="alg1.l16.m1.4.4.1.1.1" xref="alg1.l16.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="alg1.l16.m1.4.4.1.1.1.2" xref="alg1.l16.m1.4.4.1.1.2.cmml">(</mo><msubsup id="alg1.l16.m1.4.4.1.1.1.1" xref="alg1.l16.m1.4.4.1.1.1.1.cmml"><mi id="alg1.l16.m1.4.4.1.1.1.1.2.2" xref="alg1.l16.m1.4.4.1.1.1.1.2.2.cmml">w</mi><mrow id="alg1.l16.m1.2.2.2.4" xref="alg1.l16.m1.2.2.2.3.cmml"><mi id="alg1.l16.m1.1.1.1.1" xref="alg1.l16.m1.1.1.1.1.cmml">k</mi><mo id="alg1.l16.m1.2.2.2.4.1" xref="alg1.l16.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l16.m1.2.2.2.2" xref="alg1.l16.m1.2.2.2.2.cmml">t</mi></mrow><mi id="alg1.l16.m1.4.4.1.1.1.1.3" xref="alg1.l16.m1.4.4.1.1.1.1.3.cmml">i</mi></msubsup><mo id="alg1.l16.m1.4.4.1.1.1.3" xref="alg1.l16.m1.4.4.1.1.2.cmml">;</mo><mi id="alg1.l16.m1.3.3" xref="alg1.l16.m1.3.3.cmml">b</mi><mo stretchy="false" id="alg1.l16.m1.4.4.1.1.1.4" xref="alg1.l16.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.4b"><apply id="alg1.l16.m1.4.4.cmml" xref="alg1.l16.m1.4.4"><eq id="alg1.l16.m1.4.4.2.cmml" xref="alg1.l16.m1.4.4.2"></eq><apply id="alg1.l16.m1.4.4.3.cmml" xref="alg1.l16.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.l16.m1.4.4.3.1.cmml" xref="alg1.l16.m1.4.4.3">superscript</csymbol><apply id="alg1.l16.m1.4.4.3.2.cmml" xref="alg1.l16.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.l16.m1.4.4.3.2.1.cmml" xref="alg1.l16.m1.4.4.3">subscript</csymbol><ci id="alg1.l16.m1.4.4.3.2.2.cmml" xref="alg1.l16.m1.4.4.3.2.2">𝑔</ci><ci id="alg1.l16.m1.4.4.3.2.3.cmml" xref="alg1.l16.m1.4.4.3.2.3">𝑘</ci></apply><ci id="alg1.l16.m1.4.4.3.3.cmml" xref="alg1.l16.m1.4.4.3.3">𝑖</ci></apply><apply id="alg1.l16.m1.4.4.1.cmml" xref="alg1.l16.m1.4.4.1"><times id="alg1.l16.m1.4.4.1.2.cmml" xref="alg1.l16.m1.4.4.1.2"></times><ci id="alg1.l16.m1.4.4.1.3.cmml" xref="alg1.l16.m1.4.4.1.3">▽</ci><list id="alg1.l16.m1.4.4.1.1.2.cmml" xref="alg1.l16.m1.4.4.1.1.1"><apply id="alg1.l16.m1.4.4.1.1.1.1.cmml" xref="alg1.l16.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l16.m1.4.4.1.1.1.1">superscript</csymbol><apply id="alg1.l16.m1.4.4.1.1.1.1.2.cmml" xref="alg1.l16.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l16.m1.4.4.1.1.1.1.2.1.cmml" xref="alg1.l16.m1.4.4.1.1.1.1">subscript</csymbol><ci id="alg1.l16.m1.4.4.1.1.1.1.2.2.cmml" xref="alg1.l16.m1.4.4.1.1.1.1.2.2">𝑤</ci><list id="alg1.l16.m1.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.4"><ci id="alg1.l16.m1.1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1.1">𝑘</ci><ci id="alg1.l16.m1.2.2.2.2.cmml" xref="alg1.l16.m1.2.2.2.2">𝑡</ci></list></apply><ci id="alg1.l16.m1.4.4.1.1.1.1.3.cmml" xref="alg1.l16.m1.4.4.1.1.1.1.3">𝑖</ci></apply><ci id="alg1.l16.m1.3.3.cmml" xref="alg1.l16.m1.3.3">𝑏</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.4c">g_{k}^{i}=\triangledown(w_{k,t}^{i};b)</annotation></semantics></math>

</div>
<div id="alg1.l17" class="ltx_listingline">        <math id="alg1.l17.m1.4" class="ltx_Math" alttext="w_{k,t}^{i+1}\leftarrow w_{k,t}^{i}-\eta g_{k}^{i}" display="inline"><semantics id="alg1.l17.m1.4a"><mrow id="alg1.l17.m1.4.5" xref="alg1.l17.m1.4.5.cmml"><msubsup id="alg1.l17.m1.4.5.2" xref="alg1.l17.m1.4.5.2.cmml"><mi id="alg1.l17.m1.4.5.2.2.2" xref="alg1.l17.m1.4.5.2.2.2.cmml">w</mi><mrow id="alg1.l17.m1.2.2.2.4" xref="alg1.l17.m1.2.2.2.3.cmml"><mi id="alg1.l17.m1.1.1.1.1" xref="alg1.l17.m1.1.1.1.1.cmml">k</mi><mo id="alg1.l17.m1.2.2.2.4.1" xref="alg1.l17.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l17.m1.2.2.2.2" xref="alg1.l17.m1.2.2.2.2.cmml">t</mi></mrow><mrow id="alg1.l17.m1.4.5.2.3" xref="alg1.l17.m1.4.5.2.3.cmml"><mi id="alg1.l17.m1.4.5.2.3.2" xref="alg1.l17.m1.4.5.2.3.2.cmml">i</mi><mo id="alg1.l17.m1.4.5.2.3.1" xref="alg1.l17.m1.4.5.2.3.1.cmml">+</mo><mn id="alg1.l17.m1.4.5.2.3.3" xref="alg1.l17.m1.4.5.2.3.3.cmml">1</mn></mrow></msubsup><mo stretchy="false" id="alg1.l17.m1.4.5.1" xref="alg1.l17.m1.4.5.1.cmml">←</mo><mrow id="alg1.l17.m1.4.5.3" xref="alg1.l17.m1.4.5.3.cmml"><msubsup id="alg1.l17.m1.4.5.3.2" xref="alg1.l17.m1.4.5.3.2.cmml"><mi id="alg1.l17.m1.4.5.3.2.2.2" xref="alg1.l17.m1.4.5.3.2.2.2.cmml">w</mi><mrow id="alg1.l17.m1.4.4.2.4" xref="alg1.l17.m1.4.4.2.3.cmml"><mi id="alg1.l17.m1.3.3.1.1" xref="alg1.l17.m1.3.3.1.1.cmml">k</mi><mo id="alg1.l17.m1.4.4.2.4.1" xref="alg1.l17.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l17.m1.4.4.2.2" xref="alg1.l17.m1.4.4.2.2.cmml">t</mi></mrow><mi id="alg1.l17.m1.4.5.3.2.3" xref="alg1.l17.m1.4.5.3.2.3.cmml">i</mi></msubsup><mo id="alg1.l17.m1.4.5.3.1" xref="alg1.l17.m1.4.5.3.1.cmml">−</mo><mrow id="alg1.l17.m1.4.5.3.3" xref="alg1.l17.m1.4.5.3.3.cmml"><mi id="alg1.l17.m1.4.5.3.3.2" xref="alg1.l17.m1.4.5.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="alg1.l17.m1.4.5.3.3.1" xref="alg1.l17.m1.4.5.3.3.1.cmml">​</mo><msubsup id="alg1.l17.m1.4.5.3.3.3" xref="alg1.l17.m1.4.5.3.3.3.cmml"><mi id="alg1.l17.m1.4.5.3.3.3.2.2" xref="alg1.l17.m1.4.5.3.3.3.2.2.cmml">g</mi><mi id="alg1.l17.m1.4.5.3.3.3.2.3" xref="alg1.l17.m1.4.5.3.3.3.2.3.cmml">k</mi><mi id="alg1.l17.m1.4.5.3.3.3.3" xref="alg1.l17.m1.4.5.3.3.3.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.4b"><apply id="alg1.l17.m1.4.5.cmml" xref="alg1.l17.m1.4.5"><ci id="alg1.l17.m1.4.5.1.cmml" xref="alg1.l17.m1.4.5.1">←</ci><apply id="alg1.l17.m1.4.5.2.cmml" xref="alg1.l17.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.2.1.cmml" xref="alg1.l17.m1.4.5.2">superscript</csymbol><apply id="alg1.l17.m1.4.5.2.2.cmml" xref="alg1.l17.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.2.2.1.cmml" xref="alg1.l17.m1.4.5.2">subscript</csymbol><ci id="alg1.l17.m1.4.5.2.2.2.cmml" xref="alg1.l17.m1.4.5.2.2.2">𝑤</ci><list id="alg1.l17.m1.2.2.2.3.cmml" xref="alg1.l17.m1.2.2.2.4"><ci id="alg1.l17.m1.1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1.1">𝑘</ci><ci id="alg1.l17.m1.2.2.2.2.cmml" xref="alg1.l17.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg1.l17.m1.4.5.2.3.cmml" xref="alg1.l17.m1.4.5.2.3"><plus id="alg1.l17.m1.4.5.2.3.1.cmml" xref="alg1.l17.m1.4.5.2.3.1"></plus><ci id="alg1.l17.m1.4.5.2.3.2.cmml" xref="alg1.l17.m1.4.5.2.3.2">𝑖</ci><cn type="integer" id="alg1.l17.m1.4.5.2.3.3.cmml" xref="alg1.l17.m1.4.5.2.3.3">1</cn></apply></apply><apply id="alg1.l17.m1.4.5.3.cmml" xref="alg1.l17.m1.4.5.3"><minus id="alg1.l17.m1.4.5.3.1.cmml" xref="alg1.l17.m1.4.5.3.1"></minus><apply id="alg1.l17.m1.4.5.3.2.cmml" xref="alg1.l17.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.3.2.1.cmml" xref="alg1.l17.m1.4.5.3.2">superscript</csymbol><apply id="alg1.l17.m1.4.5.3.2.2.cmml" xref="alg1.l17.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.3.2.2.1.cmml" xref="alg1.l17.m1.4.5.3.2">subscript</csymbol><ci id="alg1.l17.m1.4.5.3.2.2.2.cmml" xref="alg1.l17.m1.4.5.3.2.2.2">𝑤</ci><list id="alg1.l17.m1.4.4.2.3.cmml" xref="alg1.l17.m1.4.4.2.4"><ci id="alg1.l17.m1.3.3.1.1.cmml" xref="alg1.l17.m1.3.3.1.1">𝑘</ci><ci id="alg1.l17.m1.4.4.2.2.cmml" xref="alg1.l17.m1.4.4.2.2">𝑡</ci></list></apply><ci id="alg1.l17.m1.4.5.3.2.3.cmml" xref="alg1.l17.m1.4.5.3.2.3">𝑖</ci></apply><apply id="alg1.l17.m1.4.5.3.3.cmml" xref="alg1.l17.m1.4.5.3.3"><times id="alg1.l17.m1.4.5.3.3.1.cmml" xref="alg1.l17.m1.4.5.3.3.1"></times><ci id="alg1.l17.m1.4.5.3.3.2.cmml" xref="alg1.l17.m1.4.5.3.3.2">𝜂</ci><apply id="alg1.l17.m1.4.5.3.3.3.cmml" xref="alg1.l17.m1.4.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.3.3.3.1.cmml" xref="alg1.l17.m1.4.5.3.3.3">superscript</csymbol><apply id="alg1.l17.m1.4.5.3.3.3.2.cmml" xref="alg1.l17.m1.4.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l17.m1.4.5.3.3.3.2.1.cmml" xref="alg1.l17.m1.4.5.3.3.3">subscript</csymbol><ci id="alg1.l17.m1.4.5.3.3.3.2.2.cmml" xref="alg1.l17.m1.4.5.3.3.3.2.2">𝑔</ci><ci id="alg1.l17.m1.4.5.3.3.3.2.3.cmml" xref="alg1.l17.m1.4.5.3.3.3.2.3">𝑘</ci></apply><ci id="alg1.l17.m1.4.5.3.3.3.3.cmml" xref="alg1.l17.m1.4.5.3.3.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.4c">w_{k,t}^{i+1}\leftarrow w_{k,t}^{i}-\eta g_{k}^{i}</annotation></semantics></math>

</div>
<div id="alg1.l18" class="ltx_listingline">     <span id="alg1.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l18.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l19" class="ltx_listingline">  <span id="alg1.l19.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l19.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l20" class="ltx_listingline">  return <math id="alg1.l20.m1.2" class="ltx_Math" alttext="w_{k,t}" display="inline"><semantics id="alg1.l20.m1.2a"><msub id="alg1.l20.m1.2.3" xref="alg1.l20.m1.2.3.cmml"><mi id="alg1.l20.m1.2.3.2" xref="alg1.l20.m1.2.3.2.cmml">w</mi><mrow id="alg1.l20.m1.2.2.2.4" xref="alg1.l20.m1.2.2.2.3.cmml"><mi id="alg1.l20.m1.1.1.1.1" xref="alg1.l20.m1.1.1.1.1.cmml">k</mi><mo id="alg1.l20.m1.2.2.2.4.1" xref="alg1.l20.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l20.m1.2.2.2.2" xref="alg1.l20.m1.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l20.m1.2b"><apply id="alg1.l20.m1.2.3.cmml" xref="alg1.l20.m1.2.3"><csymbol cd="ambiguous" id="alg1.l20.m1.2.3.1.cmml" xref="alg1.l20.m1.2.3">subscript</csymbol><ci id="alg1.l20.m1.2.3.2.cmml" xref="alg1.l20.m1.2.3.2">𝑤</ci><list id="alg1.l20.m1.2.2.2.3.cmml" xref="alg1.l20.m1.2.2.2.4"><ci id="alg1.l20.m1.1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1.1">𝑘</ci><ci id="alg1.l20.m1.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.m1.2c">w_{k,t}</annotation></semantics></math> to server

</div>
</div>
<br class="ltx_break ltx_break">
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span><span id="S3.SS2.1.1" class="ltx_text ltx_font_bold">FedAvg+lastFC: A Simple Extension to FedAvg</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.12" class="ltx_p">One may build a naive and straightforward extension to FedAvg for potential improvement, by using weights based on the number of samples for each class (instead of the number of samples) at each client when doing the weighted averaging for the last fully connected (FC) layer. That is, we define</p>
<table id="S5.EGx4" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.8" class="ltx_Math" alttext="\displaystyle w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}" display="inline"><semantics id="S3.E4.m1.8a"><mrow id="S3.E4.m1.8.9" xref="S3.E4.m1.8.9.cmml"><msubsup id="S3.E4.m1.8.9.2" xref="S3.E4.m1.8.9.2.cmml"><mi id="S3.E4.m1.8.9.2.2.2" xref="S3.E4.m1.8.9.2.2.2.cmml">w</mi><mrow id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">s</mi><mo id="S3.E4.m1.2.2.2.2.2" xref="S3.E4.m1.2.2.2.3.cmml">,</mo><mrow id="S3.E4.m1.2.2.2.2.1" xref="S3.E4.m1.2.2.2.2.1.cmml"><mi id="S3.E4.m1.2.2.2.2.1.2" xref="S3.E4.m1.2.2.2.2.1.2.cmml">t</mi><mo id="S3.E4.m1.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S3.E4.m1.2.2.2.2.1.3" xref="S3.E4.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="S3.E4.m1.4.4.2" xref="S3.E4.m1.4.4.2.cmml"><mi id="S3.E4.m1.4.4.2.4" xref="S3.E4.m1.4.4.2.4.cmml">l</mi><mo id="S3.E4.m1.4.4.2.3" xref="S3.E4.m1.4.4.2.3.cmml">=</mo><mrow id="S3.E4.m1.4.4.2.5.2" xref="S3.E4.m1.4.4.2.5.1.cmml"><mi id="S3.E4.m1.3.3.1.1" xref="S3.E4.m1.3.3.1.1.cmml">L</mi><mo id="S3.E4.m1.4.4.2.5.2.1" xref="S3.E4.m1.4.4.2.5.1.cmml">,</mo><mi id="S3.E4.m1.4.4.2.2" xref="S3.E4.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.E4.m1.8.9.1" xref="S3.E4.m1.8.9.1.cmml">=</mo><mrow id="S3.E4.m1.8.9.3" xref="S3.E4.m1.8.9.3.cmml"><mstyle displaystyle="true" id="S3.E4.m1.8.9.3.1" xref="S3.E4.m1.8.9.3.1.cmml"><munderover id="S3.E4.m1.8.9.3.1a" xref="S3.E4.m1.8.9.3.1.cmml"><mo movablelimits="false" id="S3.E4.m1.8.9.3.1.2.2" xref="S3.E4.m1.8.9.3.1.2.2.cmml">∑</mo><mrow id="S3.E4.m1.8.9.3.1.2.3" xref="S3.E4.m1.8.9.3.1.2.3.cmml"><mi id="S3.E4.m1.8.9.3.1.2.3.2" xref="S3.E4.m1.8.9.3.1.2.3.2.cmml">k</mi><mo id="S3.E4.m1.8.9.3.1.2.3.1" xref="S3.E4.m1.8.9.3.1.2.3.1.cmml">=</mo><mn id="S3.E4.m1.8.9.3.1.2.3.3" xref="S3.E4.m1.8.9.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.8.9.3.1.3" xref="S3.E4.m1.8.9.3.1.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E4.m1.8.9.3.2" xref="S3.E4.m1.8.9.3.2.cmml"><mstyle displaystyle="true" id="S3.E4.m1.8.9.3.2.2" xref="S3.E4.m1.8.9.3.2.2.cmml"><mfrac id="S3.E4.m1.8.9.3.2.2a" xref="S3.E4.m1.8.9.3.2.2.cmml"><msubsup id="S3.E4.m1.8.9.3.2.2.2" xref="S3.E4.m1.8.9.3.2.2.2.cmml"><mi id="S3.E4.m1.8.9.3.2.2.2.2.2" xref="S3.E4.m1.8.9.3.2.2.2.2.2.cmml">n</mi><mi id="S3.E4.m1.8.9.3.2.2.2.2.3" xref="S3.E4.m1.8.9.3.2.2.2.2.3.cmml">k</mi><mi id="S3.E4.m1.8.9.3.2.2.2.3" xref="S3.E4.m1.8.9.3.2.2.2.3.cmml">c</mi></msubsup><msup id="S3.E4.m1.8.9.3.2.2.3" xref="S3.E4.m1.8.9.3.2.2.3.cmml"><mi id="S3.E4.m1.8.9.3.2.2.3.2" xref="S3.E4.m1.8.9.3.2.2.3.2.cmml">n</mi><mi id="S3.E4.m1.8.9.3.2.2.3.3" xref="S3.E4.m1.8.9.3.2.2.3.3.cmml">c</mi></msup></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E4.m1.8.9.3.2.1" xref="S3.E4.m1.8.9.3.2.1.cmml">​</mo><msubsup id="S3.E4.m1.8.9.3.2.3" xref="S3.E4.m1.8.9.3.2.3.cmml"><mi id="S3.E4.m1.8.9.3.2.3.2.2" xref="S3.E4.m1.8.9.3.2.3.2.2.cmml">w</mi><mrow id="S3.E4.m1.6.6.2.4" xref="S3.E4.m1.6.6.2.3.cmml"><mi id="S3.E4.m1.5.5.1.1" xref="S3.E4.m1.5.5.1.1.cmml">k</mi><mo id="S3.E4.m1.6.6.2.4.1" xref="S3.E4.m1.6.6.2.3.cmml">,</mo><mi id="S3.E4.m1.6.6.2.2" xref="S3.E4.m1.6.6.2.2.cmml">t</mi></mrow><mrow id="S3.E4.m1.8.8.2" xref="S3.E4.m1.8.8.2.cmml"><mi id="S3.E4.m1.8.8.2.4" xref="S3.E4.m1.8.8.2.4.cmml">l</mi><mo id="S3.E4.m1.8.8.2.3" xref="S3.E4.m1.8.8.2.3.cmml">=</mo><mrow id="S3.E4.m1.8.8.2.5.2" xref="S3.E4.m1.8.8.2.5.1.cmml"><mi id="S3.E4.m1.7.7.1.1" xref="S3.E4.m1.7.7.1.1.cmml">L</mi><mo id="S3.E4.m1.8.8.2.5.2.1" xref="S3.E4.m1.8.8.2.5.1.cmml">,</mo><mi id="S3.E4.m1.8.8.2.2" xref="S3.E4.m1.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.8b"><apply id="S3.E4.m1.8.9.cmml" xref="S3.E4.m1.8.9"><eq id="S3.E4.m1.8.9.1.cmml" xref="S3.E4.m1.8.9.1"></eq><apply id="S3.E4.m1.8.9.2.cmml" xref="S3.E4.m1.8.9.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.2.1.cmml" xref="S3.E4.m1.8.9.2">superscript</csymbol><apply id="S3.E4.m1.8.9.2.2.cmml" xref="S3.E4.m1.8.9.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.2.2.1.cmml" xref="S3.E4.m1.8.9.2">subscript</csymbol><ci id="S3.E4.m1.8.9.2.2.2.cmml" xref="S3.E4.m1.8.9.2.2.2">𝑤</ci><list id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.2"><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑠</ci><apply id="S3.E4.m1.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.2.2.1"><plus id="S3.E4.m1.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1"></plus><ci id="S3.E4.m1.2.2.2.2.1.2.cmml" xref="S3.E4.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="S3.E4.m1.2.2.2.2.1.3.cmml" xref="S3.E4.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="S3.E4.m1.4.4.2.cmml" xref="S3.E4.m1.4.4.2"><eq id="S3.E4.m1.4.4.2.3.cmml" xref="S3.E4.m1.4.4.2.3"></eq><ci id="S3.E4.m1.4.4.2.4.cmml" xref="S3.E4.m1.4.4.2.4">𝑙</ci><list id="S3.E4.m1.4.4.2.5.1.cmml" xref="S3.E4.m1.4.4.2.5.2"><ci id="S3.E4.m1.3.3.1.1.cmml" xref="S3.E4.m1.3.3.1.1">𝐿</ci><ci id="S3.E4.m1.4.4.2.2.cmml" xref="S3.E4.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="S3.E4.m1.8.9.3.cmml" xref="S3.E4.m1.8.9.3"><apply id="S3.E4.m1.8.9.3.1.cmml" xref="S3.E4.m1.8.9.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.1.1.cmml" xref="S3.E4.m1.8.9.3.1">superscript</csymbol><apply id="S3.E4.m1.8.9.3.1.2.cmml" xref="S3.E4.m1.8.9.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.1.2.1.cmml" xref="S3.E4.m1.8.9.3.1">subscript</csymbol><sum id="S3.E4.m1.8.9.3.1.2.2.cmml" xref="S3.E4.m1.8.9.3.1.2.2"></sum><apply id="S3.E4.m1.8.9.3.1.2.3.cmml" xref="S3.E4.m1.8.9.3.1.2.3"><eq id="S3.E4.m1.8.9.3.1.2.3.1.cmml" xref="S3.E4.m1.8.9.3.1.2.3.1"></eq><ci id="S3.E4.m1.8.9.3.1.2.3.2.cmml" xref="S3.E4.m1.8.9.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E4.m1.8.9.3.1.2.3.3.cmml" xref="S3.E4.m1.8.9.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.8.9.3.1.3.cmml" xref="S3.E4.m1.8.9.3.1.3">𝐾</ci></apply><apply id="S3.E4.m1.8.9.3.2.cmml" xref="S3.E4.m1.8.9.3.2"><times id="S3.E4.m1.8.9.3.2.1.cmml" xref="S3.E4.m1.8.9.3.2.1"></times><apply id="S3.E4.m1.8.9.3.2.2.cmml" xref="S3.E4.m1.8.9.3.2.2"><divide id="S3.E4.m1.8.9.3.2.2.1.cmml" xref="S3.E4.m1.8.9.3.2.2"></divide><apply id="S3.E4.m1.8.9.3.2.2.2.cmml" xref="S3.E4.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.2.2.2.1.cmml" xref="S3.E4.m1.8.9.3.2.2.2">superscript</csymbol><apply id="S3.E4.m1.8.9.3.2.2.2.2.cmml" xref="S3.E4.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.2.2.2.2.1.cmml" xref="S3.E4.m1.8.9.3.2.2.2">subscript</csymbol><ci id="S3.E4.m1.8.9.3.2.2.2.2.2.cmml" xref="S3.E4.m1.8.9.3.2.2.2.2.2">𝑛</ci><ci id="S3.E4.m1.8.9.3.2.2.2.2.3.cmml" xref="S3.E4.m1.8.9.3.2.2.2.2.3">𝑘</ci></apply><ci id="S3.E4.m1.8.9.3.2.2.2.3.cmml" xref="S3.E4.m1.8.9.3.2.2.2.3">𝑐</ci></apply><apply id="S3.E4.m1.8.9.3.2.2.3.cmml" xref="S3.E4.m1.8.9.3.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.2.2.3.1.cmml" xref="S3.E4.m1.8.9.3.2.2.3">superscript</csymbol><ci id="S3.E4.m1.8.9.3.2.2.3.2.cmml" xref="S3.E4.m1.8.9.3.2.2.3.2">𝑛</ci><ci id="S3.E4.m1.8.9.3.2.2.3.3.cmml" xref="S3.E4.m1.8.9.3.2.2.3.3">𝑐</ci></apply></apply><apply id="S3.E4.m1.8.9.3.2.3.cmml" xref="S3.E4.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.2.3.1.cmml" xref="S3.E4.m1.8.9.3.2.3">superscript</csymbol><apply id="S3.E4.m1.8.9.3.2.3.2.cmml" xref="S3.E4.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.8.9.3.2.3.2.1.cmml" xref="S3.E4.m1.8.9.3.2.3">subscript</csymbol><ci id="S3.E4.m1.8.9.3.2.3.2.2.cmml" xref="S3.E4.m1.8.9.3.2.3.2.2">𝑤</ci><list id="S3.E4.m1.6.6.2.3.cmml" xref="S3.E4.m1.6.6.2.4"><ci id="S3.E4.m1.5.5.1.1.cmml" xref="S3.E4.m1.5.5.1.1">𝑘</ci><ci id="S3.E4.m1.6.6.2.2.cmml" xref="S3.E4.m1.6.6.2.2">𝑡</ci></list></apply><apply id="S3.E4.m1.8.8.2.cmml" xref="S3.E4.m1.8.8.2"><eq id="S3.E4.m1.8.8.2.3.cmml" xref="S3.E4.m1.8.8.2.3"></eq><ci id="S3.E4.m1.8.8.2.4.cmml" xref="S3.E4.m1.8.8.2.4">𝑙</ci><list id="S3.E4.m1.8.8.2.5.1.cmml" xref="S3.E4.m1.8.8.2.5.2"><ci id="S3.E4.m1.7.7.1.1.cmml" xref="S3.E4.m1.7.7.1.1">𝐿</ci><ci id="S3.E4.m1.8.8.2.2.cmml" xref="S3.E4.m1.8.8.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.8c">\displaystyle w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.11" class="ltx_p">where <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">l</annotation></semantics></math> is the index of layers in a model that has <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">L</annotation></semantics></math> layers, <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">c</annotation></semantics></math> is the index for the last FC layer’s hidden nodes, ranging from <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><mn id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><cn type="integer" id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">1</annotation></semantics></math> to <math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><mi id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">C</annotation></semantics></math>. And <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><mi id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><ci id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">C</annotation></semantics></math> is also equals to the total number of classes in image classification models. So <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="n_{k}^{c}" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><msubsup id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml"><mi id="S3.SS2.p1.7.m7.1.1.2.2" xref="S3.SS2.p1.7.m7.1.1.2.2.cmml">n</mi><mi id="S3.SS2.p1.7.m7.1.1.2.3" xref="S3.SS2.p1.7.m7.1.1.2.3.cmml">k</mi><mi id="S3.SS2.p1.7.m7.1.1.3" xref="S3.SS2.p1.7.m7.1.1.3.cmml">c</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><apply id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">superscript</csymbol><apply id="S3.SS2.p1.7.m7.1.1.2.cmml" xref="S3.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.1.1.2.1.cmml" xref="S3.SS2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p1.7.m7.1.1.2.2.cmml" xref="S3.SS2.p1.7.m7.1.1.2.2">𝑛</ci><ci id="S3.SS2.p1.7.m7.1.1.2.3.cmml" xref="S3.SS2.p1.7.m7.1.1.2.3">𝑘</ci></apply><ci id="S3.SS2.p1.7.m7.1.1.3.cmml" xref="S3.SS2.p1.7.m7.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">n_{k}^{c}</annotation></semantics></math> is client <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><mi id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><ci id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">k</annotation></semantics></math>’s number of samples in the class that corresponding to node <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><mi id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><ci id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">c</annotation></semantics></math> and <math id="S3.SS2.p1.10.m10.1" class="ltx_Math" alttext="n^{c}" display="inline"><semantics id="S3.SS2.p1.10.m10.1a"><msup id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml"><mi id="S3.SS2.p1.10.m10.1.1.2" xref="S3.SS2.p1.10.m10.1.1.2.cmml">n</mi><mi id="S3.SS2.p1.10.m10.1.1.3" xref="S3.SS2.p1.10.m10.1.1.3.cmml">c</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.1b"><apply id="S3.SS2.p1.10.m10.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1">superscript</csymbol><ci id="S3.SS2.p1.10.m10.1.1.2.cmml" xref="S3.SS2.p1.10.m10.1.1.2">𝑛</ci><ci id="S3.SS2.p1.10.m10.1.1.3.cmml" xref="S3.SS2.p1.10.m10.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.1c">n^{c}</annotation></semantics></math> is the total number of data in class <math id="S3.SS2.p1.11.m11.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS2.p1.11.m11.1a"><mi id="S3.SS2.p1.11.m11.1.1" xref="S3.SS2.p1.11.m11.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m11.1b"><ci id="S3.SS2.p1.11.m11.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m11.1c">c</annotation></semantics></math> within all communicated clients. This leads to Algorithm <a href="#alg2" title="Algorithm 2 ‣ 3.2 FedAvg+lastFC: A Simple Extension to FedAvg ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, where only the model aggregation pseudo-code is given to save space.</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Federated Averaging with weighted averaging last FC layer (FedAvg+lastFC)</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">  <span id="alg2.l1.1" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg2.l2" class="ltx_listingline">  ……

</div>
<div id="alg2.l3" class="ltx_listingline">  <span id="alg2.l3.1" class="ltx_text ltx_font_bold">Model Aggregation:</span>

</div>
<div id="alg2.l4" class="ltx_listingline">  <span id="alg2.l4.1" class="ltx_text ltx_font_bold">for</span> each layer <math id="alg2.l4.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg2.l4.m1.1a"><mi id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><ci id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">l</annotation></semantics></math> from <math id="alg2.l4.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg2.l4.m2.1a"><mn id="alg2.l4.m2.1.1" xref="alg2.l4.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg2.l4.m2.1b"><cn type="integer" id="alg2.l4.m2.1.1.cmml" xref="alg2.l4.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m2.1c">1</annotation></semantics></math> to <math id="alg2.l4.m3.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg2.l4.m3.1a"><mi id="alg2.l4.m3.1.1" xref="alg2.l4.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg2.l4.m3.1b"><ci id="alg2.l4.m3.1.1.cmml" xref="alg2.l4.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m3.1c">L</annotation></semantics></math> <span id="alg2.l4.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l5" class="ltx_listingline">     <span id="alg2.l5.1" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l5.m1.1" class="ltx_Math" alttext="l&lt;N" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mi id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">l</mi><mo id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">&lt;</mo><mi id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><lt id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1"></lt><ci id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">𝑙</ci><ci id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">l&lt;N</annotation></semantics></math> <span id="alg2.l5.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l6" class="ltx_listingline">        <math id="alg2.l6.m1.4" class="ltx_Math" alttext="w_{s,t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}" display="inline"><semantics id="alg2.l6.m1.4a"><mrow id="alg2.l6.m1.4.5" xref="alg2.l6.m1.4.5.cmml"><msub id="alg2.l6.m1.4.5.2" xref="alg2.l6.m1.4.5.2.cmml"><mi id="alg2.l6.m1.4.5.2.2" xref="alg2.l6.m1.4.5.2.2.cmml">w</mi><mrow id="alg2.l6.m1.2.2.2.2" xref="alg2.l6.m1.2.2.2.3.cmml"><mi id="alg2.l6.m1.1.1.1.1" xref="alg2.l6.m1.1.1.1.1.cmml">s</mi><mo id="alg2.l6.m1.2.2.2.2.2" xref="alg2.l6.m1.2.2.2.3.cmml">,</mo><mrow id="alg2.l6.m1.2.2.2.2.1" xref="alg2.l6.m1.2.2.2.2.1.cmml"><mi id="alg2.l6.m1.2.2.2.2.1.2" xref="alg2.l6.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg2.l6.m1.2.2.2.2.1.1" xref="alg2.l6.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg2.l6.m1.2.2.2.2.1.3" xref="alg2.l6.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msub><mo rspace="0.111em" stretchy="false" id="alg2.l6.m1.4.5.1" xref="alg2.l6.m1.4.5.1.cmml">←</mo><mrow id="alg2.l6.m1.4.5.3" xref="alg2.l6.m1.4.5.3.cmml"><msubsup id="alg2.l6.m1.4.5.3.1" xref="alg2.l6.m1.4.5.3.1.cmml"><mo id="alg2.l6.m1.4.5.3.1.2.2" xref="alg2.l6.m1.4.5.3.1.2.2.cmml">∑</mo><mrow id="alg2.l6.m1.4.5.3.1.2.3" xref="alg2.l6.m1.4.5.3.1.2.3.cmml"><mi id="alg2.l6.m1.4.5.3.1.2.3.2" xref="alg2.l6.m1.4.5.3.1.2.3.2.cmml">k</mi><mo id="alg2.l6.m1.4.5.3.1.2.3.1" xref="alg2.l6.m1.4.5.3.1.2.3.1.cmml">=</mo><mn id="alg2.l6.m1.4.5.3.1.2.3.3" xref="alg2.l6.m1.4.5.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg2.l6.m1.4.5.3.1.3" xref="alg2.l6.m1.4.5.3.1.3.cmml">K</mi></msubsup><mrow id="alg2.l6.m1.4.5.3.2" xref="alg2.l6.m1.4.5.3.2.cmml"><mfrac id="alg2.l6.m1.4.5.3.2.2" xref="alg2.l6.m1.4.5.3.2.2.cmml"><msub id="alg2.l6.m1.4.5.3.2.2.2" xref="alg2.l6.m1.4.5.3.2.2.2.cmml"><mi id="alg2.l6.m1.4.5.3.2.2.2.2" xref="alg2.l6.m1.4.5.3.2.2.2.2.cmml">n</mi><mi id="alg2.l6.m1.4.5.3.2.2.2.3" xref="alg2.l6.m1.4.5.3.2.2.2.3.cmml">k</mi></msub><mi id="alg2.l6.m1.4.5.3.2.2.3" xref="alg2.l6.m1.4.5.3.2.2.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="alg2.l6.m1.4.5.3.2.1" xref="alg2.l6.m1.4.5.3.2.1.cmml">​</mo><msub id="alg2.l6.m1.4.5.3.2.3" xref="alg2.l6.m1.4.5.3.2.3.cmml"><mi id="alg2.l6.m1.4.5.3.2.3.2" xref="alg2.l6.m1.4.5.3.2.3.2.cmml">w</mi><mrow id="alg2.l6.m1.4.4.2.4" xref="alg2.l6.m1.4.4.2.3.cmml"><mi id="alg2.l6.m1.3.3.1.1" xref="alg2.l6.m1.3.3.1.1.cmml">k</mi><mo id="alg2.l6.m1.4.4.2.4.1" xref="alg2.l6.m1.4.4.2.3.cmml">,</mo><mi id="alg2.l6.m1.4.4.2.2" xref="alg2.l6.m1.4.4.2.2.cmml">t</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.4b"><apply id="alg2.l6.m1.4.5.cmml" xref="alg2.l6.m1.4.5"><ci id="alg2.l6.m1.4.5.1.cmml" xref="alg2.l6.m1.4.5.1">←</ci><apply id="alg2.l6.m1.4.5.2.cmml" xref="alg2.l6.m1.4.5.2"><csymbol cd="ambiguous" id="alg2.l6.m1.4.5.2.1.cmml" xref="alg2.l6.m1.4.5.2">subscript</csymbol><ci id="alg2.l6.m1.4.5.2.2.cmml" xref="alg2.l6.m1.4.5.2.2">𝑤</ci><list id="alg2.l6.m1.2.2.2.3.cmml" xref="alg2.l6.m1.2.2.2.2"><ci id="alg2.l6.m1.1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1.1">𝑠</ci><apply id="alg2.l6.m1.2.2.2.2.1.cmml" xref="alg2.l6.m1.2.2.2.2.1"><plus id="alg2.l6.m1.2.2.2.2.1.1.cmml" xref="alg2.l6.m1.2.2.2.2.1.1"></plus><ci id="alg2.l6.m1.2.2.2.2.1.2.cmml" xref="alg2.l6.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg2.l6.m1.2.2.2.2.1.3.cmml" xref="alg2.l6.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg2.l6.m1.4.5.3.cmml" xref="alg2.l6.m1.4.5.3"><apply id="alg2.l6.m1.4.5.3.1.cmml" xref="alg2.l6.m1.4.5.3.1"><csymbol cd="ambiguous" id="alg2.l6.m1.4.5.3.1.1.cmml" xref="alg2.l6.m1.4.5.3.1">superscript</csymbol><apply id="alg2.l6.m1.4.5.3.1.2.cmml" xref="alg2.l6.m1.4.5.3.1"><csymbol cd="ambiguous" id="alg2.l6.m1.4.5.3.1.2.1.cmml" xref="alg2.l6.m1.4.5.3.1">subscript</csymbol><sum id="alg2.l6.m1.4.5.3.1.2.2.cmml" xref="alg2.l6.m1.4.5.3.1.2.2"></sum><apply id="alg2.l6.m1.4.5.3.1.2.3.cmml" xref="alg2.l6.m1.4.5.3.1.2.3"><eq id="alg2.l6.m1.4.5.3.1.2.3.1.cmml" xref="alg2.l6.m1.4.5.3.1.2.3.1"></eq><ci id="alg2.l6.m1.4.5.3.1.2.3.2.cmml" xref="alg2.l6.m1.4.5.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg2.l6.m1.4.5.3.1.2.3.3.cmml" xref="alg2.l6.m1.4.5.3.1.2.3.3">1</cn></apply></apply><ci id="alg2.l6.m1.4.5.3.1.3.cmml" xref="alg2.l6.m1.4.5.3.1.3">𝐾</ci></apply><apply id="alg2.l6.m1.4.5.3.2.cmml" xref="alg2.l6.m1.4.5.3.2"><times id="alg2.l6.m1.4.5.3.2.1.cmml" xref="alg2.l6.m1.4.5.3.2.1"></times><apply id="alg2.l6.m1.4.5.3.2.2.cmml" xref="alg2.l6.m1.4.5.3.2.2"><divide id="alg2.l6.m1.4.5.3.2.2.1.cmml" xref="alg2.l6.m1.4.5.3.2.2"></divide><apply id="alg2.l6.m1.4.5.3.2.2.2.cmml" xref="alg2.l6.m1.4.5.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l6.m1.4.5.3.2.2.2.1.cmml" xref="alg2.l6.m1.4.5.3.2.2.2">subscript</csymbol><ci id="alg2.l6.m1.4.5.3.2.2.2.2.cmml" xref="alg2.l6.m1.4.5.3.2.2.2.2">𝑛</ci><ci id="alg2.l6.m1.4.5.3.2.2.2.3.cmml" xref="alg2.l6.m1.4.5.3.2.2.2.3">𝑘</ci></apply><ci id="alg2.l6.m1.4.5.3.2.2.3.cmml" xref="alg2.l6.m1.4.5.3.2.2.3">𝑛</ci></apply><apply id="alg2.l6.m1.4.5.3.2.3.cmml" xref="alg2.l6.m1.4.5.3.2.3"><csymbol cd="ambiguous" id="alg2.l6.m1.4.5.3.2.3.1.cmml" xref="alg2.l6.m1.4.5.3.2.3">subscript</csymbol><ci id="alg2.l6.m1.4.5.3.2.3.2.cmml" xref="alg2.l6.m1.4.5.3.2.3.2">𝑤</ci><list id="alg2.l6.m1.4.4.2.3.cmml" xref="alg2.l6.m1.4.4.2.4"><ci id="alg2.l6.m1.3.3.1.1.cmml" xref="alg2.l6.m1.3.3.1.1">𝑘</ci><ci id="alg2.l6.m1.4.4.2.2.cmml" xref="alg2.l6.m1.4.4.2.2">𝑡</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.4c">w_{s,t+1}\leftarrow\sum_{k=1}^{K}\frac{n_{k}}{n}w_{k,t}</annotation></semantics></math>

</div>
<div id="alg2.l7" class="ltx_listingline">     <span id="alg2.l7.1" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg2.l8" class="ltx_listingline">        <span id="alg2.l8.1" class="ltx_text ltx_font_bold">for</span> each node <math id="alg2.l8.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg2.l8.m1.1a"><mi id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><ci id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">c</annotation></semantics></math> in the layer <math id="alg2.l8.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg2.l8.m2.1a"><mi id="alg2.l8.m2.1.1" xref="alg2.l8.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg2.l8.m2.1b"><ci id="alg2.l8.m2.1.1.cmml" xref="alg2.l8.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m2.1c">L</annotation></semantics></math> from <math id="alg2.l8.m3.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg2.l8.m3.1a"><mn id="alg2.l8.m3.1.1" xref="alg2.l8.m3.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg2.l8.m3.1b"><cn type="integer" id="alg2.l8.m3.1.1.cmml" xref="alg2.l8.m3.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m3.1c">1</annotation></semantics></math> to <math id="alg2.l8.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg2.l8.m4.1a"><mi id="alg2.l8.m4.1.1" xref="alg2.l8.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg2.l8.m4.1b"><ci id="alg2.l8.m4.1.1.cmml" xref="alg2.l8.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m4.1c">C</annotation></semantics></math> <span id="alg2.l8.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l9" class="ltx_listingline">           <math id="alg2.l9.m1.8" class="ltx_Math" alttext="w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}" display="inline"><semantics id="alg2.l9.m1.8a"><mrow id="alg2.l9.m1.8.9" xref="alg2.l9.m1.8.9.cmml"><msubsup id="alg2.l9.m1.8.9.2" xref="alg2.l9.m1.8.9.2.cmml"><mi id="alg2.l9.m1.8.9.2.2.2" xref="alg2.l9.m1.8.9.2.2.2.cmml">w</mi><mrow id="alg2.l9.m1.2.2.2.2" xref="alg2.l9.m1.2.2.2.3.cmml"><mi id="alg2.l9.m1.1.1.1.1" xref="alg2.l9.m1.1.1.1.1.cmml">s</mi><mo id="alg2.l9.m1.2.2.2.2.2" xref="alg2.l9.m1.2.2.2.3.cmml">,</mo><mrow id="alg2.l9.m1.2.2.2.2.1" xref="alg2.l9.m1.2.2.2.2.1.cmml"><mi id="alg2.l9.m1.2.2.2.2.1.2" xref="alg2.l9.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg2.l9.m1.2.2.2.2.1.1" xref="alg2.l9.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg2.l9.m1.2.2.2.2.1.3" xref="alg2.l9.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="alg2.l9.m1.4.4.2" xref="alg2.l9.m1.4.4.2.cmml"><mi id="alg2.l9.m1.4.4.2.4" xref="alg2.l9.m1.4.4.2.4.cmml">l</mi><mo id="alg2.l9.m1.4.4.2.3" xref="alg2.l9.m1.4.4.2.3.cmml">=</mo><mrow id="alg2.l9.m1.4.4.2.5.2" xref="alg2.l9.m1.4.4.2.5.1.cmml"><mi id="alg2.l9.m1.3.3.1.1" xref="alg2.l9.m1.3.3.1.1.cmml">L</mi><mo id="alg2.l9.m1.4.4.2.5.2.1" xref="alg2.l9.m1.4.4.2.5.1.cmml">,</mo><mi id="alg2.l9.m1.4.4.2.2" xref="alg2.l9.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo rspace="0.111em" id="alg2.l9.m1.8.9.1" xref="alg2.l9.m1.8.9.1.cmml">=</mo><mrow id="alg2.l9.m1.8.9.3" xref="alg2.l9.m1.8.9.3.cmml"><msubsup id="alg2.l9.m1.8.9.3.1" xref="alg2.l9.m1.8.9.3.1.cmml"><mo id="alg2.l9.m1.8.9.3.1.2.2" xref="alg2.l9.m1.8.9.3.1.2.2.cmml">∑</mo><mrow id="alg2.l9.m1.8.9.3.1.2.3" xref="alg2.l9.m1.8.9.3.1.2.3.cmml"><mi id="alg2.l9.m1.8.9.3.1.2.3.2" xref="alg2.l9.m1.8.9.3.1.2.3.2.cmml">k</mi><mo id="alg2.l9.m1.8.9.3.1.2.3.1" xref="alg2.l9.m1.8.9.3.1.2.3.1.cmml">=</mo><mn id="alg2.l9.m1.8.9.3.1.2.3.3" xref="alg2.l9.m1.8.9.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg2.l9.m1.8.9.3.1.3" xref="alg2.l9.m1.8.9.3.1.3.cmml">K</mi></msubsup><mrow id="alg2.l9.m1.8.9.3.2" xref="alg2.l9.m1.8.9.3.2.cmml"><mfrac id="alg2.l9.m1.8.9.3.2.2" xref="alg2.l9.m1.8.9.3.2.2.cmml"><msubsup id="alg2.l9.m1.8.9.3.2.2.2" xref="alg2.l9.m1.8.9.3.2.2.2.cmml"><mi id="alg2.l9.m1.8.9.3.2.2.2.2.2" xref="alg2.l9.m1.8.9.3.2.2.2.2.2.cmml">n</mi><mi id="alg2.l9.m1.8.9.3.2.2.2.2.3" xref="alg2.l9.m1.8.9.3.2.2.2.2.3.cmml">k</mi><mi id="alg2.l9.m1.8.9.3.2.2.2.3" xref="alg2.l9.m1.8.9.3.2.2.2.3.cmml">c</mi></msubsup><msup id="alg2.l9.m1.8.9.3.2.2.3" xref="alg2.l9.m1.8.9.3.2.2.3.cmml"><mi id="alg2.l9.m1.8.9.3.2.2.3.2" xref="alg2.l9.m1.8.9.3.2.2.3.2.cmml">n</mi><mi id="alg2.l9.m1.8.9.3.2.2.3.3" xref="alg2.l9.m1.8.9.3.2.2.3.3.cmml">c</mi></msup></mfrac><mo lspace="0em" rspace="0em" id="alg2.l9.m1.8.9.3.2.1" xref="alg2.l9.m1.8.9.3.2.1.cmml">​</mo><msubsup id="alg2.l9.m1.8.9.3.2.3" xref="alg2.l9.m1.8.9.3.2.3.cmml"><mi id="alg2.l9.m1.8.9.3.2.3.2.2" xref="alg2.l9.m1.8.9.3.2.3.2.2.cmml">w</mi><mrow id="alg2.l9.m1.6.6.2.4" xref="alg2.l9.m1.6.6.2.3.cmml"><mi id="alg2.l9.m1.5.5.1.1" xref="alg2.l9.m1.5.5.1.1.cmml">k</mi><mo id="alg2.l9.m1.6.6.2.4.1" xref="alg2.l9.m1.6.6.2.3.cmml">,</mo><mi id="alg2.l9.m1.6.6.2.2" xref="alg2.l9.m1.6.6.2.2.cmml">t</mi></mrow><mrow id="alg2.l9.m1.8.8.2" xref="alg2.l9.m1.8.8.2.cmml"><mi id="alg2.l9.m1.8.8.2.4" xref="alg2.l9.m1.8.8.2.4.cmml">l</mi><mo id="alg2.l9.m1.8.8.2.3" xref="alg2.l9.m1.8.8.2.3.cmml">=</mo><mrow id="alg2.l9.m1.8.8.2.5.2" xref="alg2.l9.m1.8.8.2.5.1.cmml"><mi id="alg2.l9.m1.7.7.1.1" xref="alg2.l9.m1.7.7.1.1.cmml">L</mi><mo id="alg2.l9.m1.8.8.2.5.2.1" xref="alg2.l9.m1.8.8.2.5.1.cmml">,</mo><mi id="alg2.l9.m1.8.8.2.2" xref="alg2.l9.m1.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.8b"><apply id="alg2.l9.m1.8.9.cmml" xref="alg2.l9.m1.8.9"><eq id="alg2.l9.m1.8.9.1.cmml" xref="alg2.l9.m1.8.9.1"></eq><apply id="alg2.l9.m1.8.9.2.cmml" xref="alg2.l9.m1.8.9.2"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.2.1.cmml" xref="alg2.l9.m1.8.9.2">superscript</csymbol><apply id="alg2.l9.m1.8.9.2.2.cmml" xref="alg2.l9.m1.8.9.2"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.2.2.1.cmml" xref="alg2.l9.m1.8.9.2">subscript</csymbol><ci id="alg2.l9.m1.8.9.2.2.2.cmml" xref="alg2.l9.m1.8.9.2.2.2">𝑤</ci><list id="alg2.l9.m1.2.2.2.3.cmml" xref="alg2.l9.m1.2.2.2.2"><ci id="alg2.l9.m1.1.1.1.1.cmml" xref="alg2.l9.m1.1.1.1.1">𝑠</ci><apply id="alg2.l9.m1.2.2.2.2.1.cmml" xref="alg2.l9.m1.2.2.2.2.1"><plus id="alg2.l9.m1.2.2.2.2.1.1.cmml" xref="alg2.l9.m1.2.2.2.2.1.1"></plus><ci id="alg2.l9.m1.2.2.2.2.1.2.cmml" xref="alg2.l9.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg2.l9.m1.2.2.2.2.1.3.cmml" xref="alg2.l9.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg2.l9.m1.4.4.2.cmml" xref="alg2.l9.m1.4.4.2"><eq id="alg2.l9.m1.4.4.2.3.cmml" xref="alg2.l9.m1.4.4.2.3"></eq><ci id="alg2.l9.m1.4.4.2.4.cmml" xref="alg2.l9.m1.4.4.2.4">𝑙</ci><list id="alg2.l9.m1.4.4.2.5.1.cmml" xref="alg2.l9.m1.4.4.2.5.2"><ci id="alg2.l9.m1.3.3.1.1.cmml" xref="alg2.l9.m1.3.3.1.1">𝐿</ci><ci id="alg2.l9.m1.4.4.2.2.cmml" xref="alg2.l9.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="alg2.l9.m1.8.9.3.cmml" xref="alg2.l9.m1.8.9.3"><apply id="alg2.l9.m1.8.9.3.1.cmml" xref="alg2.l9.m1.8.9.3.1"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.1.1.cmml" xref="alg2.l9.m1.8.9.3.1">superscript</csymbol><apply id="alg2.l9.m1.8.9.3.1.2.cmml" xref="alg2.l9.m1.8.9.3.1"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.1.2.1.cmml" xref="alg2.l9.m1.8.9.3.1">subscript</csymbol><sum id="alg2.l9.m1.8.9.3.1.2.2.cmml" xref="alg2.l9.m1.8.9.3.1.2.2"></sum><apply id="alg2.l9.m1.8.9.3.1.2.3.cmml" xref="alg2.l9.m1.8.9.3.1.2.3"><eq id="alg2.l9.m1.8.9.3.1.2.3.1.cmml" xref="alg2.l9.m1.8.9.3.1.2.3.1"></eq><ci id="alg2.l9.m1.8.9.3.1.2.3.2.cmml" xref="alg2.l9.m1.8.9.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg2.l9.m1.8.9.3.1.2.3.3.cmml" xref="alg2.l9.m1.8.9.3.1.2.3.3">1</cn></apply></apply><ci id="alg2.l9.m1.8.9.3.1.3.cmml" xref="alg2.l9.m1.8.9.3.1.3">𝐾</ci></apply><apply id="alg2.l9.m1.8.9.3.2.cmml" xref="alg2.l9.m1.8.9.3.2"><times id="alg2.l9.m1.8.9.3.2.1.cmml" xref="alg2.l9.m1.8.9.3.2.1"></times><apply id="alg2.l9.m1.8.9.3.2.2.cmml" xref="alg2.l9.m1.8.9.3.2.2"><divide id="alg2.l9.m1.8.9.3.2.2.1.cmml" xref="alg2.l9.m1.8.9.3.2.2"></divide><apply id="alg2.l9.m1.8.9.3.2.2.2.cmml" xref="alg2.l9.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.2.2.2.1.cmml" xref="alg2.l9.m1.8.9.3.2.2.2">superscript</csymbol><apply id="alg2.l9.m1.8.9.3.2.2.2.2.cmml" xref="alg2.l9.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.2.2.2.2.1.cmml" xref="alg2.l9.m1.8.9.3.2.2.2">subscript</csymbol><ci id="alg2.l9.m1.8.9.3.2.2.2.2.2.cmml" xref="alg2.l9.m1.8.9.3.2.2.2.2.2">𝑛</ci><ci id="alg2.l9.m1.8.9.3.2.2.2.2.3.cmml" xref="alg2.l9.m1.8.9.3.2.2.2.2.3">𝑘</ci></apply><ci id="alg2.l9.m1.8.9.3.2.2.2.3.cmml" xref="alg2.l9.m1.8.9.3.2.2.2.3">𝑐</ci></apply><apply id="alg2.l9.m1.8.9.3.2.2.3.cmml" xref="alg2.l9.m1.8.9.3.2.2.3"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.2.2.3.1.cmml" xref="alg2.l9.m1.8.9.3.2.2.3">superscript</csymbol><ci id="alg2.l9.m1.8.9.3.2.2.3.2.cmml" xref="alg2.l9.m1.8.9.3.2.2.3.2">𝑛</ci><ci id="alg2.l9.m1.8.9.3.2.2.3.3.cmml" xref="alg2.l9.m1.8.9.3.2.2.3.3">𝑐</ci></apply></apply><apply id="alg2.l9.m1.8.9.3.2.3.cmml" xref="alg2.l9.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.2.3.1.cmml" xref="alg2.l9.m1.8.9.3.2.3">superscript</csymbol><apply id="alg2.l9.m1.8.9.3.2.3.2.cmml" xref="alg2.l9.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="alg2.l9.m1.8.9.3.2.3.2.1.cmml" xref="alg2.l9.m1.8.9.3.2.3">subscript</csymbol><ci id="alg2.l9.m1.8.9.3.2.3.2.2.cmml" xref="alg2.l9.m1.8.9.3.2.3.2.2">𝑤</ci><list id="alg2.l9.m1.6.6.2.3.cmml" xref="alg2.l9.m1.6.6.2.4"><ci id="alg2.l9.m1.5.5.1.1.cmml" xref="alg2.l9.m1.5.5.1.1">𝑘</ci><ci id="alg2.l9.m1.6.6.2.2.cmml" xref="alg2.l9.m1.6.6.2.2">𝑡</ci></list></apply><apply id="alg2.l9.m1.8.8.2.cmml" xref="alg2.l9.m1.8.8.2"><eq id="alg2.l9.m1.8.8.2.3.cmml" xref="alg2.l9.m1.8.8.2.3"></eq><ci id="alg2.l9.m1.8.8.2.4.cmml" xref="alg2.l9.m1.8.8.2.4">𝑙</ci><list id="alg2.l9.m1.8.8.2.5.1.cmml" xref="alg2.l9.m1.8.8.2.5.2"><ci id="alg2.l9.m1.7.7.1.1.cmml" xref="alg2.l9.m1.7.7.1.1">𝐿</ci><ci id="alg2.l9.m1.8.8.2.2.cmml" xref="alg2.l9.m1.8.8.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.8c">w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}</annotation></semantics></math>

</div>
<div id="alg2.l10" class="ltx_listingline">        <span id="alg2.l10.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l10.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l11" class="ltx_listingline">     <span id="alg2.l11.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l11.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l12" class="ltx_listingline">  <span id="alg2.l12.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l12.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l13" class="ltx_listingline">  ……

</div>
</div>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>FedNS: the Proposed Method</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.15" class="ltx_p">While FedAvg+lastFC employs an intuitive way of weighted averaging for the last FC layer, the method cannot be easily extended to previous layers since they lack explicit correspondence to the number of classes. In the meantime, using only the number of samples at each client for weighted averaging is not necessarily optimal. Hence we propose to use the variance of the weight update to evaluate the contribution of a node/kernel to the client’s local model (for layers other than the last FC layer). During the aggregation stage, the server could easily calculate the differential weights for each node and calculate its variance (and derive from this weights for the clients) since it has the global model from the previous communication round. We term this approach Federated Node Selection (FedNS). It first calculates the following: </p>
<table id="S5.EGx5" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.13" class="ltx_Math" alttext="\displaystyle v_{k,t+1}^{l\neq L,c}=\text{variance}(w_{k,t+1}^{l\neq L,c}-w_{k,t}^{l\neq L,c})" display="inline"><semantics id="S3.E5.m1.13a"><mrow id="S3.E5.m1.13.13" xref="S3.E5.m1.13.13.cmml"><msubsup id="S3.E5.m1.13.13.3" xref="S3.E5.m1.13.13.3.cmml"><mi id="S3.E5.m1.13.13.3.2.2" xref="S3.E5.m1.13.13.3.2.2.cmml">v</mi><mrow id="S3.E5.m1.2.2.2.2" xref="S3.E5.m1.2.2.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">k</mi><mo id="S3.E5.m1.2.2.2.2.2" xref="S3.E5.m1.2.2.2.3.cmml">,</mo><mrow id="S3.E5.m1.2.2.2.2.1" xref="S3.E5.m1.2.2.2.2.1.cmml"><mi id="S3.E5.m1.2.2.2.2.1.2" xref="S3.E5.m1.2.2.2.2.1.2.cmml">t</mi><mo id="S3.E5.m1.2.2.2.2.1.1" xref="S3.E5.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S3.E5.m1.2.2.2.2.1.3" xref="S3.E5.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="S3.E5.m1.4.4.2" xref="S3.E5.m1.4.4.2.cmml"><mi id="S3.E5.m1.4.4.2.4" xref="S3.E5.m1.4.4.2.4.cmml">l</mi><mo id="S3.E5.m1.4.4.2.3" xref="S3.E5.m1.4.4.2.3.cmml">≠</mo><mrow id="S3.E5.m1.4.4.2.5.2" xref="S3.E5.m1.4.4.2.5.1.cmml"><mi id="S3.E5.m1.3.3.1.1" xref="S3.E5.m1.3.3.1.1.cmml">L</mi><mo id="S3.E5.m1.4.4.2.5.2.1" xref="S3.E5.m1.4.4.2.5.1.cmml">,</mo><mi id="S3.E5.m1.4.4.2.2" xref="S3.E5.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.E5.m1.13.13.2" xref="S3.E5.m1.13.13.2.cmml">=</mo><mrow id="S3.E5.m1.13.13.1" xref="S3.E5.m1.13.13.1.cmml"><mtext id="S3.E5.m1.13.13.1.3" xref="S3.E5.m1.13.13.1.3a.cmml">variance</mtext><mo lspace="0em" rspace="0em" id="S3.E5.m1.13.13.1.2" xref="S3.E5.m1.13.13.1.2.cmml">​</mo><mrow id="S3.E5.m1.13.13.1.1.1" xref="S3.E5.m1.13.13.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.13.13.1.1.1.2" xref="S3.E5.m1.13.13.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.13.13.1.1.1.1" xref="S3.E5.m1.13.13.1.1.1.1.cmml"><msubsup id="S3.E5.m1.13.13.1.1.1.1.2" xref="S3.E5.m1.13.13.1.1.1.1.2.cmml"><mi id="S3.E5.m1.13.13.1.1.1.1.2.2.2" xref="S3.E5.m1.13.13.1.1.1.1.2.2.2.cmml">w</mi><mrow id="S3.E5.m1.6.6.2.2" xref="S3.E5.m1.6.6.2.3.cmml"><mi id="S3.E5.m1.5.5.1.1" xref="S3.E5.m1.5.5.1.1.cmml">k</mi><mo id="S3.E5.m1.6.6.2.2.2" xref="S3.E5.m1.6.6.2.3.cmml">,</mo><mrow id="S3.E5.m1.6.6.2.2.1" xref="S3.E5.m1.6.6.2.2.1.cmml"><mi id="S3.E5.m1.6.6.2.2.1.2" xref="S3.E5.m1.6.6.2.2.1.2.cmml">t</mi><mo id="S3.E5.m1.6.6.2.2.1.1" xref="S3.E5.m1.6.6.2.2.1.1.cmml">+</mo><mn id="S3.E5.m1.6.6.2.2.1.3" xref="S3.E5.m1.6.6.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="S3.E5.m1.8.8.2" xref="S3.E5.m1.8.8.2.cmml"><mi id="S3.E5.m1.8.8.2.4" xref="S3.E5.m1.8.8.2.4.cmml">l</mi><mo id="S3.E5.m1.8.8.2.3" xref="S3.E5.m1.8.8.2.3.cmml">≠</mo><mrow id="S3.E5.m1.8.8.2.5.2" xref="S3.E5.m1.8.8.2.5.1.cmml"><mi id="S3.E5.m1.7.7.1.1" xref="S3.E5.m1.7.7.1.1.cmml">L</mi><mo id="S3.E5.m1.8.8.2.5.2.1" xref="S3.E5.m1.8.8.2.5.1.cmml">,</mo><mi id="S3.E5.m1.8.8.2.2" xref="S3.E5.m1.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.E5.m1.13.13.1.1.1.1.1" xref="S3.E5.m1.13.13.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E5.m1.13.13.1.1.1.1.3" xref="S3.E5.m1.13.13.1.1.1.1.3.cmml"><mi id="S3.E5.m1.13.13.1.1.1.1.3.2.2" xref="S3.E5.m1.13.13.1.1.1.1.3.2.2.cmml">w</mi><mrow id="S3.E5.m1.10.10.2.4" xref="S3.E5.m1.10.10.2.3.cmml"><mi id="S3.E5.m1.9.9.1.1" xref="S3.E5.m1.9.9.1.1.cmml">k</mi><mo id="S3.E5.m1.10.10.2.4.1" xref="S3.E5.m1.10.10.2.3.cmml">,</mo><mi id="S3.E5.m1.10.10.2.2" xref="S3.E5.m1.10.10.2.2.cmml">t</mi></mrow><mrow id="S3.E5.m1.12.12.2" xref="S3.E5.m1.12.12.2.cmml"><mi id="S3.E5.m1.12.12.2.4" xref="S3.E5.m1.12.12.2.4.cmml">l</mi><mo id="S3.E5.m1.12.12.2.3" xref="S3.E5.m1.12.12.2.3.cmml">≠</mo><mrow id="S3.E5.m1.12.12.2.5.2" xref="S3.E5.m1.12.12.2.5.1.cmml"><mi id="S3.E5.m1.11.11.1.1" xref="S3.E5.m1.11.11.1.1.cmml">L</mi><mo id="S3.E5.m1.12.12.2.5.2.1" xref="S3.E5.m1.12.12.2.5.1.cmml">,</mo><mi id="S3.E5.m1.12.12.2.2" xref="S3.E5.m1.12.12.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow><mo stretchy="false" id="S3.E5.m1.13.13.1.1.1.3" xref="S3.E5.m1.13.13.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.13b"><apply id="S3.E5.m1.13.13.cmml" xref="S3.E5.m1.13.13"><eq id="S3.E5.m1.13.13.2.cmml" xref="S3.E5.m1.13.13.2"></eq><apply id="S3.E5.m1.13.13.3.cmml" xref="S3.E5.m1.13.13.3"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.3.1.cmml" xref="S3.E5.m1.13.13.3">superscript</csymbol><apply id="S3.E5.m1.13.13.3.2.cmml" xref="S3.E5.m1.13.13.3"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.3.2.1.cmml" xref="S3.E5.m1.13.13.3">subscript</csymbol><ci id="S3.E5.m1.13.13.3.2.2.cmml" xref="S3.E5.m1.13.13.3.2.2">𝑣</ci><list id="S3.E5.m1.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2"><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑘</ci><apply id="S3.E5.m1.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.1"><plus id="S3.E5.m1.2.2.2.2.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1"></plus><ci id="S3.E5.m1.2.2.2.2.1.2.cmml" xref="S3.E5.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="S3.E5.m1.2.2.2.2.1.3.cmml" xref="S3.E5.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="S3.E5.m1.4.4.2.cmml" xref="S3.E5.m1.4.4.2"><neq id="S3.E5.m1.4.4.2.3.cmml" xref="S3.E5.m1.4.4.2.3"></neq><ci id="S3.E5.m1.4.4.2.4.cmml" xref="S3.E5.m1.4.4.2.4">𝑙</ci><list id="S3.E5.m1.4.4.2.5.1.cmml" xref="S3.E5.m1.4.4.2.5.2"><ci id="S3.E5.m1.3.3.1.1.cmml" xref="S3.E5.m1.3.3.1.1">𝐿</ci><ci id="S3.E5.m1.4.4.2.2.cmml" xref="S3.E5.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="S3.E5.m1.13.13.1.cmml" xref="S3.E5.m1.13.13.1"><times id="S3.E5.m1.13.13.1.2.cmml" xref="S3.E5.m1.13.13.1.2"></times><ci id="S3.E5.m1.13.13.1.3a.cmml" xref="S3.E5.m1.13.13.1.3"><mtext id="S3.E5.m1.13.13.1.3.cmml" xref="S3.E5.m1.13.13.1.3">variance</mtext></ci><apply id="S3.E5.m1.13.13.1.1.1.1.cmml" xref="S3.E5.m1.13.13.1.1.1"><minus id="S3.E5.m1.13.13.1.1.1.1.1.cmml" xref="S3.E5.m1.13.13.1.1.1.1.1"></minus><apply id="S3.E5.m1.13.13.1.1.1.1.2.cmml" xref="S3.E5.m1.13.13.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.1.1.1.1.2.1.cmml" xref="S3.E5.m1.13.13.1.1.1.1.2">superscript</csymbol><apply id="S3.E5.m1.13.13.1.1.1.1.2.2.cmml" xref="S3.E5.m1.13.13.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.13.13.1.1.1.1.2">subscript</csymbol><ci id="S3.E5.m1.13.13.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.13.13.1.1.1.1.2.2.2">𝑤</ci><list id="S3.E5.m1.6.6.2.3.cmml" xref="S3.E5.m1.6.6.2.2"><ci id="S3.E5.m1.5.5.1.1.cmml" xref="S3.E5.m1.5.5.1.1">𝑘</ci><apply id="S3.E5.m1.6.6.2.2.1.cmml" xref="S3.E5.m1.6.6.2.2.1"><plus id="S3.E5.m1.6.6.2.2.1.1.cmml" xref="S3.E5.m1.6.6.2.2.1.1"></plus><ci id="S3.E5.m1.6.6.2.2.1.2.cmml" xref="S3.E5.m1.6.6.2.2.1.2">𝑡</ci><cn type="integer" id="S3.E5.m1.6.6.2.2.1.3.cmml" xref="S3.E5.m1.6.6.2.2.1.3">1</cn></apply></list></apply><apply id="S3.E5.m1.8.8.2.cmml" xref="S3.E5.m1.8.8.2"><neq id="S3.E5.m1.8.8.2.3.cmml" xref="S3.E5.m1.8.8.2.3"></neq><ci id="S3.E5.m1.8.8.2.4.cmml" xref="S3.E5.m1.8.8.2.4">𝑙</ci><list id="S3.E5.m1.8.8.2.5.1.cmml" xref="S3.E5.m1.8.8.2.5.2"><ci id="S3.E5.m1.7.7.1.1.cmml" xref="S3.E5.m1.7.7.1.1">𝐿</ci><ci id="S3.E5.m1.8.8.2.2.cmml" xref="S3.E5.m1.8.8.2.2">𝑐</ci></list></apply></apply><apply id="S3.E5.m1.13.13.1.1.1.1.3.cmml" xref="S3.E5.m1.13.13.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.1.1.1.1.3.1.cmml" xref="S3.E5.m1.13.13.1.1.1.1.3">superscript</csymbol><apply id="S3.E5.m1.13.13.1.1.1.1.3.2.cmml" xref="S3.E5.m1.13.13.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.13.13.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.13.13.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.13.13.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.13.13.1.1.1.1.3.2.2">𝑤</ci><list id="S3.E5.m1.10.10.2.3.cmml" xref="S3.E5.m1.10.10.2.4"><ci id="S3.E5.m1.9.9.1.1.cmml" xref="S3.E5.m1.9.9.1.1">𝑘</ci><ci id="S3.E5.m1.10.10.2.2.cmml" xref="S3.E5.m1.10.10.2.2">𝑡</ci></list></apply><apply id="S3.E5.m1.12.12.2.cmml" xref="S3.E5.m1.12.12.2"><neq id="S3.E5.m1.12.12.2.3.cmml" xref="S3.E5.m1.12.12.2.3"></neq><ci id="S3.E5.m1.12.12.2.4.cmml" xref="S3.E5.m1.12.12.2.4">𝑙</ci><list id="S3.E5.m1.12.12.2.5.1.cmml" xref="S3.E5.m1.12.12.2.5.2"><ci id="S3.E5.m1.11.11.1.1.cmml" xref="S3.E5.m1.11.11.1.1">𝐿</ci><ci id="S3.E5.m1.12.12.2.2.cmml" xref="S3.E5.m1.12.12.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.13c">\displaystyle v_{k,t+1}^{l\neq L,c}=\text{variance}(w_{k,t+1}^{l\neq L,c}-w_{k,t}^{l\neq L,c})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.10" class="ltx_p">where <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">c</annotation></semantics></math> is the node index ranges from <math id="S3.SS3.p1.2.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S3.SS3.p1.2.m2.1a"><mn id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><cn type="integer" id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">1</annotation></semantics></math> to <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><mi id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><ci id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">C</annotation></semantics></math>. <math id="S3.SS3.p1.4.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS3.p1.4.m4.1a"><mi id="S3.SS3.p1.4.m4.1.1" xref="S3.SS3.p1.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.1b"><ci id="S3.SS3.p1.4.m4.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.1c">C</annotation></semantics></math> is the total node/kernel number for the layer <math id="S3.SS3.p1.5.m5.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS3.p1.5.m5.1a"><mi id="S3.SS3.p1.5.m5.1.1" xref="S3.SS3.p1.5.m5.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.5.m5.1b"><ci id="S3.SS3.p1.5.m5.1.1.cmml" xref="S3.SS3.p1.5.m5.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.5.m5.1c">l</annotation></semantics></math> in a model that has <math id="S3.SS3.p1.6.m6.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS3.p1.6.m6.1a"><mi id="S3.SS3.p1.6.m6.1.1" xref="S3.SS3.p1.6.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.6.m6.1b"><ci id="S3.SS3.p1.6.m6.1.1.cmml" xref="S3.SS3.p1.6.m6.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.6.m6.1c">L</annotation></semantics></math> layers. We calculate their mean (<math id="S3.SS3.p1.7.m7.2" class="ltx_Math" alttext="\mu_{t+1}^{l\neq L,c}" display="inline"><semantics id="S3.SS3.p1.7.m7.2a"><msubsup id="S3.SS3.p1.7.m7.2.3" xref="S3.SS3.p1.7.m7.2.3.cmml"><mi id="S3.SS3.p1.7.m7.2.3.2.2" xref="S3.SS3.p1.7.m7.2.3.2.2.cmml">μ</mi><mrow id="S3.SS3.p1.7.m7.2.3.2.3" xref="S3.SS3.p1.7.m7.2.3.2.3.cmml"><mi id="S3.SS3.p1.7.m7.2.3.2.3.2" xref="S3.SS3.p1.7.m7.2.3.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.7.m7.2.3.2.3.1" xref="S3.SS3.p1.7.m7.2.3.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.7.m7.2.3.2.3.3" xref="S3.SS3.p1.7.m7.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.7.m7.2.2.2" xref="S3.SS3.p1.7.m7.2.2.2.cmml"><mi id="S3.SS3.p1.7.m7.2.2.2.4" xref="S3.SS3.p1.7.m7.2.2.2.4.cmml">l</mi><mo id="S3.SS3.p1.7.m7.2.2.2.3" xref="S3.SS3.p1.7.m7.2.2.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.7.m7.2.2.2.5.2" xref="S3.SS3.p1.7.m7.2.2.2.5.1.cmml"><mi id="S3.SS3.p1.7.m7.1.1.1.1" xref="S3.SS3.p1.7.m7.1.1.1.1.cmml">L</mi><mo id="S3.SS3.p1.7.m7.2.2.2.5.2.1" xref="S3.SS3.p1.7.m7.2.2.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.7.m7.2.2.2.2" xref="S3.SS3.p1.7.m7.2.2.2.2.cmml">c</mi></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.7.m7.2b"><apply id="S3.SS3.p1.7.m7.2.3.cmml" xref="S3.SS3.p1.7.m7.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.2.3.1.cmml" xref="S3.SS3.p1.7.m7.2.3">superscript</csymbol><apply id="S3.SS3.p1.7.m7.2.3.2.cmml" xref="S3.SS3.p1.7.m7.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.7.m7.2.3.2.1.cmml" xref="S3.SS3.p1.7.m7.2.3">subscript</csymbol><ci id="S3.SS3.p1.7.m7.2.3.2.2.cmml" xref="S3.SS3.p1.7.m7.2.3.2.2">𝜇</ci><apply id="S3.SS3.p1.7.m7.2.3.2.3.cmml" xref="S3.SS3.p1.7.m7.2.3.2.3"><plus id="S3.SS3.p1.7.m7.2.3.2.3.1.cmml" xref="S3.SS3.p1.7.m7.2.3.2.3.1"></plus><ci id="S3.SS3.p1.7.m7.2.3.2.3.2.cmml" xref="S3.SS3.p1.7.m7.2.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.7.m7.2.3.2.3.3.cmml" xref="S3.SS3.p1.7.m7.2.3.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.7.m7.2.2.2.cmml" xref="S3.SS3.p1.7.m7.2.2.2"><neq id="S3.SS3.p1.7.m7.2.2.2.3.cmml" xref="S3.SS3.p1.7.m7.2.2.2.3"></neq><ci id="S3.SS3.p1.7.m7.2.2.2.4.cmml" xref="S3.SS3.p1.7.m7.2.2.2.4">𝑙</ci><list id="S3.SS3.p1.7.m7.2.2.2.5.1.cmml" xref="S3.SS3.p1.7.m7.2.2.2.5.2"><ci id="S3.SS3.p1.7.m7.1.1.1.1.cmml" xref="S3.SS3.p1.7.m7.1.1.1.1">𝐿</ci><ci id="S3.SS3.p1.7.m7.2.2.2.2.cmml" xref="S3.SS3.p1.7.m7.2.2.2.2">𝑐</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.7.m7.2c">\mu_{t+1}^{l\neq L,c}</annotation></semantics></math>) and sigma (<math id="S3.SS3.p1.8.m8.2" class="ltx_Math" alttext="\sigma_{t+1}^{l\neq L,c}" display="inline"><semantics id="S3.SS3.p1.8.m8.2a"><msubsup id="S3.SS3.p1.8.m8.2.3" xref="S3.SS3.p1.8.m8.2.3.cmml"><mi id="S3.SS3.p1.8.m8.2.3.2.2" xref="S3.SS3.p1.8.m8.2.3.2.2.cmml">σ</mi><mrow id="S3.SS3.p1.8.m8.2.3.2.3" xref="S3.SS3.p1.8.m8.2.3.2.3.cmml"><mi id="S3.SS3.p1.8.m8.2.3.2.3.2" xref="S3.SS3.p1.8.m8.2.3.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.8.m8.2.3.2.3.1" xref="S3.SS3.p1.8.m8.2.3.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.8.m8.2.3.2.3.3" xref="S3.SS3.p1.8.m8.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.8.m8.2.2.2" xref="S3.SS3.p1.8.m8.2.2.2.cmml"><mi id="S3.SS3.p1.8.m8.2.2.2.4" xref="S3.SS3.p1.8.m8.2.2.2.4.cmml">l</mi><mo id="S3.SS3.p1.8.m8.2.2.2.3" xref="S3.SS3.p1.8.m8.2.2.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.8.m8.2.2.2.5.2" xref="S3.SS3.p1.8.m8.2.2.2.5.1.cmml"><mi id="S3.SS3.p1.8.m8.1.1.1.1" xref="S3.SS3.p1.8.m8.1.1.1.1.cmml">L</mi><mo id="S3.SS3.p1.8.m8.2.2.2.5.2.1" xref="S3.SS3.p1.8.m8.2.2.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.8.m8.2.2.2.2" xref="S3.SS3.p1.8.m8.2.2.2.2.cmml">c</mi></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.8.m8.2b"><apply id="S3.SS3.p1.8.m8.2.3.cmml" xref="S3.SS3.p1.8.m8.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.8.m8.2.3.1.cmml" xref="S3.SS3.p1.8.m8.2.3">superscript</csymbol><apply id="S3.SS3.p1.8.m8.2.3.2.cmml" xref="S3.SS3.p1.8.m8.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.8.m8.2.3.2.1.cmml" xref="S3.SS3.p1.8.m8.2.3">subscript</csymbol><ci id="S3.SS3.p1.8.m8.2.3.2.2.cmml" xref="S3.SS3.p1.8.m8.2.3.2.2">𝜎</ci><apply id="S3.SS3.p1.8.m8.2.3.2.3.cmml" xref="S3.SS3.p1.8.m8.2.3.2.3"><plus id="S3.SS3.p1.8.m8.2.3.2.3.1.cmml" xref="S3.SS3.p1.8.m8.2.3.2.3.1"></plus><ci id="S3.SS3.p1.8.m8.2.3.2.3.2.cmml" xref="S3.SS3.p1.8.m8.2.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.8.m8.2.3.2.3.3.cmml" xref="S3.SS3.p1.8.m8.2.3.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.8.m8.2.2.2.cmml" xref="S3.SS3.p1.8.m8.2.2.2"><neq id="S3.SS3.p1.8.m8.2.2.2.3.cmml" xref="S3.SS3.p1.8.m8.2.2.2.3"></neq><ci id="S3.SS3.p1.8.m8.2.2.2.4.cmml" xref="S3.SS3.p1.8.m8.2.2.2.4">𝑙</ci><list id="S3.SS3.p1.8.m8.2.2.2.5.1.cmml" xref="S3.SS3.p1.8.m8.2.2.2.5.2"><ci id="S3.SS3.p1.8.m8.1.1.1.1.cmml" xref="S3.SS3.p1.8.m8.1.1.1.1">𝐿</ci><ci id="S3.SS3.p1.8.m8.2.2.2.2.cmml" xref="S3.SS3.p1.8.m8.2.2.2.2">𝑐</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.8.m8.2c">\sigma_{t+1}^{l\neq L,c}</annotation></semantics></math>) after getting all the variances. If the node’s variance is out of range <math id="S3.SS3.p1.9.m9.10" class="ltx_Math" alttext="[\mu_{t+1}^{l\neq L,c}-2\sigma_{t+1}^{l\neq L,c},\mu_{t+1}^{l\neq L,c}+2\sigma_{t+1}^{l\neq L,c}]" display="inline"><semantics id="S3.SS3.p1.9.m9.10a"><mrow id="S3.SS3.p1.9.m9.10.10.2" xref="S3.SS3.p1.9.m9.10.10.3.cmml"><mo stretchy="false" id="S3.SS3.p1.9.m9.10.10.2.3" xref="S3.SS3.p1.9.m9.10.10.3.cmml">[</mo><mrow id="S3.SS3.p1.9.m9.9.9.1.1" xref="S3.SS3.p1.9.m9.9.9.1.1.cmml"><msubsup id="S3.SS3.p1.9.m9.9.9.1.1.2" xref="S3.SS3.p1.9.m9.9.9.1.1.2.cmml"><mi id="S3.SS3.p1.9.m9.9.9.1.1.2.2.2" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.2.cmml">μ</mi><mrow id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.cmml"><mi id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.2" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.1" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.3" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.9.m9.2.2.2" xref="S3.SS3.p1.9.m9.2.2.2.cmml"><mi id="S3.SS3.p1.9.m9.2.2.2.4" xref="S3.SS3.p1.9.m9.2.2.2.4.cmml">l</mi><mo id="S3.SS3.p1.9.m9.2.2.2.3" xref="S3.SS3.p1.9.m9.2.2.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.9.m9.2.2.2.5.2" xref="S3.SS3.p1.9.m9.2.2.2.5.1.cmml"><mi id="S3.SS3.p1.9.m9.1.1.1.1" xref="S3.SS3.p1.9.m9.1.1.1.1.cmml">L</mi><mo id="S3.SS3.p1.9.m9.2.2.2.5.2.1" xref="S3.SS3.p1.9.m9.2.2.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.9.m9.2.2.2.2" xref="S3.SS3.p1.9.m9.2.2.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.SS3.p1.9.m9.9.9.1.1.1" xref="S3.SS3.p1.9.m9.9.9.1.1.1.cmml">−</mo><mrow id="S3.SS3.p1.9.m9.9.9.1.1.3" xref="S3.SS3.p1.9.m9.9.9.1.1.3.cmml"><mn id="S3.SS3.p1.9.m9.9.9.1.1.3.2" xref="S3.SS3.p1.9.m9.9.9.1.1.3.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.SS3.p1.9.m9.9.9.1.1.3.1" xref="S3.SS3.p1.9.m9.9.9.1.1.3.1.cmml">​</mo><msubsup id="S3.SS3.p1.9.m9.9.9.1.1.3.3" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.cmml"><mi id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.2" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.2.cmml">σ</mi><mrow id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.cmml"><mi id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.2" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.1" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.3" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.9.m9.4.4.2" xref="S3.SS3.p1.9.m9.4.4.2.cmml"><mi id="S3.SS3.p1.9.m9.4.4.2.4" xref="S3.SS3.p1.9.m9.4.4.2.4.cmml">l</mi><mo id="S3.SS3.p1.9.m9.4.4.2.3" xref="S3.SS3.p1.9.m9.4.4.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.9.m9.4.4.2.5.2" xref="S3.SS3.p1.9.m9.4.4.2.5.1.cmml"><mi id="S3.SS3.p1.9.m9.3.3.1.1" xref="S3.SS3.p1.9.m9.3.3.1.1.cmml">L</mi><mo id="S3.SS3.p1.9.m9.4.4.2.5.2.1" xref="S3.SS3.p1.9.m9.4.4.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.9.m9.4.4.2.2" xref="S3.SS3.p1.9.m9.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow><mo id="S3.SS3.p1.9.m9.10.10.2.4" xref="S3.SS3.p1.9.m9.10.10.3.cmml">,</mo><mrow id="S3.SS3.p1.9.m9.10.10.2.2" xref="S3.SS3.p1.9.m9.10.10.2.2.cmml"><msubsup id="S3.SS3.p1.9.m9.10.10.2.2.2" xref="S3.SS3.p1.9.m9.10.10.2.2.2.cmml"><mi id="S3.SS3.p1.9.m9.10.10.2.2.2.2.2" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.2.cmml">μ</mi><mrow id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.cmml"><mi id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.2" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.1" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.3" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.9.m9.6.6.2" xref="S3.SS3.p1.9.m9.6.6.2.cmml"><mi id="S3.SS3.p1.9.m9.6.6.2.4" xref="S3.SS3.p1.9.m9.6.6.2.4.cmml">l</mi><mo id="S3.SS3.p1.9.m9.6.6.2.3" xref="S3.SS3.p1.9.m9.6.6.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.9.m9.6.6.2.5.2" xref="S3.SS3.p1.9.m9.6.6.2.5.1.cmml"><mi id="S3.SS3.p1.9.m9.5.5.1.1" xref="S3.SS3.p1.9.m9.5.5.1.1.cmml">L</mi><mo id="S3.SS3.p1.9.m9.6.6.2.5.2.1" xref="S3.SS3.p1.9.m9.6.6.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.9.m9.6.6.2.2" xref="S3.SS3.p1.9.m9.6.6.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.SS3.p1.9.m9.10.10.2.2.1" xref="S3.SS3.p1.9.m9.10.10.2.2.1.cmml">+</mo><mrow id="S3.SS3.p1.9.m9.10.10.2.2.3" xref="S3.SS3.p1.9.m9.10.10.2.2.3.cmml"><mn id="S3.SS3.p1.9.m9.10.10.2.2.3.2" xref="S3.SS3.p1.9.m9.10.10.2.2.3.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S3.SS3.p1.9.m9.10.10.2.2.3.1" xref="S3.SS3.p1.9.m9.10.10.2.2.3.1.cmml">​</mo><msubsup id="S3.SS3.p1.9.m9.10.10.2.2.3.3" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.cmml"><mi id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.2" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.2.cmml">σ</mi><mrow id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.cmml"><mi id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.2" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.2.cmml">t</mi><mo id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.1" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.1.cmml">+</mo><mn id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.3" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.SS3.p1.9.m9.8.8.2" xref="S3.SS3.p1.9.m9.8.8.2.cmml"><mi id="S3.SS3.p1.9.m9.8.8.2.4" xref="S3.SS3.p1.9.m9.8.8.2.4.cmml">l</mi><mo id="S3.SS3.p1.9.m9.8.8.2.3" xref="S3.SS3.p1.9.m9.8.8.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.9.m9.8.8.2.5.2" xref="S3.SS3.p1.9.m9.8.8.2.5.1.cmml"><mi id="S3.SS3.p1.9.m9.7.7.1.1" xref="S3.SS3.p1.9.m9.7.7.1.1.cmml">L</mi><mo id="S3.SS3.p1.9.m9.8.8.2.5.2.1" xref="S3.SS3.p1.9.m9.8.8.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.9.m9.8.8.2.2" xref="S3.SS3.p1.9.m9.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow><mo stretchy="false" id="S3.SS3.p1.9.m9.10.10.2.5" xref="S3.SS3.p1.9.m9.10.10.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.9.m9.10b"><interval closure="closed" id="S3.SS3.p1.9.m9.10.10.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2"><apply id="S3.SS3.p1.9.m9.9.9.1.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1"><minus id="S3.SS3.p1.9.m9.9.9.1.1.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.1"></minus><apply id="S3.SS3.p1.9.m9.9.9.1.1.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.9.9.1.1.2.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2">superscript</csymbol><apply id="S3.SS3.p1.9.m9.9.9.1.1.2.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.9.9.1.1.2.2.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.9.m9.9.9.1.1.2.2.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.2">𝜇</ci><apply id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3"><plus id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.1"></plus><ci id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.9.m9.2.2.2.cmml" xref="S3.SS3.p1.9.m9.2.2.2"><neq id="S3.SS3.p1.9.m9.2.2.2.3.cmml" xref="S3.SS3.p1.9.m9.2.2.2.3"></neq><ci id="S3.SS3.p1.9.m9.2.2.2.4.cmml" xref="S3.SS3.p1.9.m9.2.2.2.4">𝑙</ci><list id="S3.SS3.p1.9.m9.2.2.2.5.1.cmml" xref="S3.SS3.p1.9.m9.2.2.2.5.2"><ci id="S3.SS3.p1.9.m9.1.1.1.1.cmml" xref="S3.SS3.p1.9.m9.1.1.1.1">𝐿</ci><ci id="S3.SS3.p1.9.m9.2.2.2.2.cmml" xref="S3.SS3.p1.9.m9.2.2.2.2">𝑐</ci></list></apply></apply><apply id="S3.SS3.p1.9.m9.9.9.1.1.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3"><times id="S3.SS3.p1.9.m9.9.9.1.1.3.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.1"></times><cn type="integer" id="S3.SS3.p1.9.m9.9.9.1.1.3.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.2">2</cn><apply id="S3.SS3.p1.9.m9.9.9.1.1.3.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.9.9.1.1.3.3.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3">superscript</csymbol><apply id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3">subscript</csymbol><ci id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.2">𝜎</ci><apply id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3"><plus id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.1.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.1"></plus><ci id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.2.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.3.cmml" xref="S3.SS3.p1.9.m9.9.9.1.1.3.3.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.9.m9.4.4.2.cmml" xref="S3.SS3.p1.9.m9.4.4.2"><neq id="S3.SS3.p1.9.m9.4.4.2.3.cmml" xref="S3.SS3.p1.9.m9.4.4.2.3"></neq><ci id="S3.SS3.p1.9.m9.4.4.2.4.cmml" xref="S3.SS3.p1.9.m9.4.4.2.4">𝑙</ci><list id="S3.SS3.p1.9.m9.4.4.2.5.1.cmml" xref="S3.SS3.p1.9.m9.4.4.2.5.2"><ci id="S3.SS3.p1.9.m9.3.3.1.1.cmml" xref="S3.SS3.p1.9.m9.3.3.1.1">𝐿</ci><ci id="S3.SS3.p1.9.m9.4.4.2.2.cmml" xref="S3.SS3.p1.9.m9.4.4.2.2">𝑐</ci></list></apply></apply></apply></apply><apply id="S3.SS3.p1.9.m9.10.10.2.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2"><plus id="S3.SS3.p1.9.m9.10.10.2.2.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.1"></plus><apply id="S3.SS3.p1.9.m9.10.10.2.2.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.10.10.2.2.2.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2">superscript</csymbol><apply id="S3.SS3.p1.9.m9.10.10.2.2.2.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.10.10.2.2.2.2.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.9.m9.10.10.2.2.2.2.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.2">𝜇</ci><apply id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3"><plus id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.1"></plus><ci id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.2.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.9.m9.6.6.2.cmml" xref="S3.SS3.p1.9.m9.6.6.2"><neq id="S3.SS3.p1.9.m9.6.6.2.3.cmml" xref="S3.SS3.p1.9.m9.6.6.2.3"></neq><ci id="S3.SS3.p1.9.m9.6.6.2.4.cmml" xref="S3.SS3.p1.9.m9.6.6.2.4">𝑙</ci><list id="S3.SS3.p1.9.m9.6.6.2.5.1.cmml" xref="S3.SS3.p1.9.m9.6.6.2.5.2"><ci id="S3.SS3.p1.9.m9.5.5.1.1.cmml" xref="S3.SS3.p1.9.m9.5.5.1.1">𝐿</ci><ci id="S3.SS3.p1.9.m9.6.6.2.2.cmml" xref="S3.SS3.p1.9.m9.6.6.2.2">𝑐</ci></list></apply></apply><apply id="S3.SS3.p1.9.m9.10.10.2.2.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3"><times id="S3.SS3.p1.9.m9.10.10.2.2.3.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.1"></times><cn type="integer" id="S3.SS3.p1.9.m9.10.10.2.2.3.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.2">2</cn><apply id="S3.SS3.p1.9.m9.10.10.2.2.3.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.10.10.2.2.3.3.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3">superscript</csymbol><apply id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3">subscript</csymbol><ci id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.2">𝜎</ci><apply id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3"><plus id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.1.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.1"></plus><ci id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.2.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.3.cmml" xref="S3.SS3.p1.9.m9.10.10.2.2.3.3.2.3.3">1</cn></apply></apply><apply id="S3.SS3.p1.9.m9.8.8.2.cmml" xref="S3.SS3.p1.9.m9.8.8.2"><neq id="S3.SS3.p1.9.m9.8.8.2.3.cmml" xref="S3.SS3.p1.9.m9.8.8.2.3"></neq><ci id="S3.SS3.p1.9.m9.8.8.2.4.cmml" xref="S3.SS3.p1.9.m9.8.8.2.4">𝑙</ci><list id="S3.SS3.p1.9.m9.8.8.2.5.1.cmml" xref="S3.SS3.p1.9.m9.8.8.2.5.2"><ci id="S3.SS3.p1.9.m9.7.7.1.1.cmml" xref="S3.SS3.p1.9.m9.7.7.1.1">𝐿</ci><ci id="S3.SS3.p1.9.m9.8.8.2.2.cmml" xref="S3.SS3.p1.9.m9.8.8.2.2">𝑐</ci></list></apply></apply></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.9.m9.10c">[\mu_{t+1}^{l\neq L,c}-2\sigma_{t+1}^{l\neq L,c},\mu_{t+1}^{l\neq L,c}+2\sigma_{t+1}^{l\neq L,c}]</annotation></semantics></math> (<math id="S3.SS3.p1.10.m10.1" class="ltx_Math" alttext="95\%" display="inline"><semantics id="S3.SS3.p1.10.m10.1a"><mrow id="S3.SS3.p1.10.m10.1.1" xref="S3.SS3.p1.10.m10.1.1.cmml"><mn id="S3.SS3.p1.10.m10.1.1.2" xref="S3.SS3.p1.10.m10.1.1.2.cmml">95</mn><mo id="S3.SS3.p1.10.m10.1.1.1" xref="S3.SS3.p1.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.10.m10.1b"><apply id="S3.SS3.p1.10.m10.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1"><csymbol cd="latexml" id="S3.SS3.p1.10.m10.1.1.1.cmml" xref="S3.SS3.p1.10.m10.1.1.1">percent</csymbol><cn type="integer" id="S3.SS3.p1.10.m10.1.1.2.cmml" xref="S3.SS3.p1.10.m10.1.1.2">95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.10.m10.1c">95\%</annotation></semantics></math> of confidence interval if the underlying distribution is normal), we will remove that node in the global model aggregation step. Then we re-normalize the remaining nodes’ variances and get the new weights. The server do a new weighted averaging for all layers other than the last FC layer at node/kernel level by the new weights in the following equation:</p>
<table id="S5.EGx6" class="ltx_equationgroup ltx_eqn_eqnarray ltx_eqn_table">

<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E6.m1.14" class="ltx_Math" alttext="\displaystyle w_{s,t+1}^{l\neq L,c}=\sum_{k=1}^{K}\frac{v_{k,t}^{l\neq L,c}}{v_{t}^{l\neq L,c}}w_{k,t}^{l\neq L,c}" display="inline"><semantics id="S3.E6.m1.14a"><mrow id="S3.E6.m1.14.15" xref="S3.E6.m1.14.15.cmml"><msubsup id="S3.E6.m1.14.15.2" xref="S3.E6.m1.14.15.2.cmml"><mi id="S3.E6.m1.14.15.2.2.2" xref="S3.E6.m1.14.15.2.2.2.cmml">w</mi><mrow id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">s</mi><mo id="S3.E6.m1.2.2.2.2.2" xref="S3.E6.m1.2.2.2.3.cmml">,</mo><mrow id="S3.E6.m1.2.2.2.2.1" xref="S3.E6.m1.2.2.2.2.1.cmml"><mi id="S3.E6.m1.2.2.2.2.1.2" xref="S3.E6.m1.2.2.2.2.1.2.cmml">t</mi><mo id="S3.E6.m1.2.2.2.2.1.1" xref="S3.E6.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S3.E6.m1.2.2.2.2.1.3" xref="S3.E6.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="S3.E6.m1.4.4.2" xref="S3.E6.m1.4.4.2.cmml"><mi id="S3.E6.m1.4.4.2.4" xref="S3.E6.m1.4.4.2.4.cmml">l</mi><mo id="S3.E6.m1.4.4.2.3" xref="S3.E6.m1.4.4.2.3.cmml">≠</mo><mrow id="S3.E6.m1.4.4.2.5.2" xref="S3.E6.m1.4.4.2.5.1.cmml"><mi id="S3.E6.m1.3.3.1.1" xref="S3.E6.m1.3.3.1.1.cmml">L</mi><mo id="S3.E6.m1.4.4.2.5.2.1" xref="S3.E6.m1.4.4.2.5.1.cmml">,</mo><mi id="S3.E6.m1.4.4.2.2" xref="S3.E6.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="S3.E6.m1.14.15.1" xref="S3.E6.m1.14.15.1.cmml">=</mo><mrow id="S3.E6.m1.14.15.3" xref="S3.E6.m1.14.15.3.cmml"><mstyle displaystyle="true" id="S3.E6.m1.14.15.3.1" xref="S3.E6.m1.14.15.3.1.cmml"><munderover id="S3.E6.m1.14.15.3.1a" xref="S3.E6.m1.14.15.3.1.cmml"><mo movablelimits="false" id="S3.E6.m1.14.15.3.1.2.2" xref="S3.E6.m1.14.15.3.1.2.2.cmml">∑</mo><mrow id="S3.E6.m1.14.15.3.1.2.3" xref="S3.E6.m1.14.15.3.1.2.3.cmml"><mi id="S3.E6.m1.14.15.3.1.2.3.2" xref="S3.E6.m1.14.15.3.1.2.3.2.cmml">k</mi><mo id="S3.E6.m1.14.15.3.1.2.3.1" xref="S3.E6.m1.14.15.3.1.2.3.1.cmml">=</mo><mn id="S3.E6.m1.14.15.3.1.2.3.3" xref="S3.E6.m1.14.15.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E6.m1.14.15.3.1.3" xref="S3.E6.m1.14.15.3.1.3.cmml">K</mi></munderover></mstyle><mrow id="S3.E6.m1.14.15.3.2" xref="S3.E6.m1.14.15.3.2.cmml"><mstyle displaystyle="true" id="S3.E6.m1.10.10" xref="S3.E6.m1.10.10.cmml"><mfrac id="S3.E6.m1.10.10a" xref="S3.E6.m1.10.10.cmml"><msubsup id="S3.E6.m1.8.8.4" xref="S3.E6.m1.8.8.4.cmml"><mi id="S3.E6.m1.8.8.4.6.2" xref="S3.E6.m1.8.8.4.6.2.cmml">v</mi><mrow id="S3.E6.m1.6.6.2.2.2.4" xref="S3.E6.m1.6.6.2.2.2.3.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.cmml">k</mi><mo id="S3.E6.m1.6.6.2.2.2.4.1" xref="S3.E6.m1.6.6.2.2.2.3.cmml">,</mo><mi id="S3.E6.m1.6.6.2.2.2.2" xref="S3.E6.m1.6.6.2.2.2.2.cmml">t</mi></mrow><mrow id="S3.E6.m1.8.8.4.4.2" xref="S3.E6.m1.8.8.4.4.2.cmml"><mi id="S3.E6.m1.8.8.4.4.2.4" xref="S3.E6.m1.8.8.4.4.2.4.cmml">l</mi><mo id="S3.E6.m1.8.8.4.4.2.3" xref="S3.E6.m1.8.8.4.4.2.3.cmml">≠</mo><mrow id="S3.E6.m1.8.8.4.4.2.5.2" xref="S3.E6.m1.8.8.4.4.2.5.1.cmml"><mi id="S3.E6.m1.7.7.3.3.1.1" xref="S3.E6.m1.7.7.3.3.1.1.cmml">L</mi><mo id="S3.E6.m1.8.8.4.4.2.5.2.1" xref="S3.E6.m1.8.8.4.4.2.5.1.cmml">,</mo><mi id="S3.E6.m1.8.8.4.4.2.2" xref="S3.E6.m1.8.8.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><msubsup id="S3.E6.m1.10.10.6" xref="S3.E6.m1.10.10.6.cmml"><mi id="S3.E6.m1.10.10.6.4.2" xref="S3.E6.m1.10.10.6.4.2.cmml">v</mi><mi id="S3.E6.m1.10.10.6.4.3" xref="S3.E6.m1.10.10.6.4.3.cmml">t</mi><mrow id="S3.E6.m1.10.10.6.2.2" xref="S3.E6.m1.10.10.6.2.2.cmml"><mi id="S3.E6.m1.10.10.6.2.2.4" xref="S3.E6.m1.10.10.6.2.2.4.cmml">l</mi><mo id="S3.E6.m1.10.10.6.2.2.3" xref="S3.E6.m1.10.10.6.2.2.3.cmml">≠</mo><mrow id="S3.E6.m1.10.10.6.2.2.5.2" xref="S3.E6.m1.10.10.6.2.2.5.1.cmml"><mi id="S3.E6.m1.9.9.5.1.1.1" xref="S3.E6.m1.9.9.5.1.1.1.cmml">L</mi><mo id="S3.E6.m1.10.10.6.2.2.5.2.1" xref="S3.E6.m1.10.10.6.2.2.5.1.cmml">,</mo><mi id="S3.E6.m1.10.10.6.2.2.2" xref="S3.E6.m1.10.10.6.2.2.2.cmml">c</mi></mrow></mrow></msubsup></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E6.m1.14.15.3.2.1" xref="S3.E6.m1.14.15.3.2.1.cmml">​</mo><msubsup id="S3.E6.m1.14.15.3.2.2" xref="S3.E6.m1.14.15.3.2.2.cmml"><mi id="S3.E6.m1.14.15.3.2.2.2.2" xref="S3.E6.m1.14.15.3.2.2.2.2.cmml">w</mi><mrow id="S3.E6.m1.12.12.2.4" xref="S3.E6.m1.12.12.2.3.cmml"><mi id="S3.E6.m1.11.11.1.1" xref="S3.E6.m1.11.11.1.1.cmml">k</mi><mo id="S3.E6.m1.12.12.2.4.1" xref="S3.E6.m1.12.12.2.3.cmml">,</mo><mi id="S3.E6.m1.12.12.2.2" xref="S3.E6.m1.12.12.2.2.cmml">t</mi></mrow><mrow id="S3.E6.m1.14.14.2" xref="S3.E6.m1.14.14.2.cmml"><mi id="S3.E6.m1.14.14.2.4" xref="S3.E6.m1.14.14.2.4.cmml">l</mi><mo id="S3.E6.m1.14.14.2.3" xref="S3.E6.m1.14.14.2.3.cmml">≠</mo><mrow id="S3.E6.m1.14.14.2.5.2" xref="S3.E6.m1.14.14.2.5.1.cmml"><mi id="S3.E6.m1.13.13.1.1" xref="S3.E6.m1.13.13.1.1.cmml">L</mi><mo id="S3.E6.m1.14.14.2.5.2.1" xref="S3.E6.m1.14.14.2.5.1.cmml">,</mo><mi id="S3.E6.m1.14.14.2.2" xref="S3.E6.m1.14.14.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.14b"><apply id="S3.E6.m1.14.15.cmml" xref="S3.E6.m1.14.15"><eq id="S3.E6.m1.14.15.1.cmml" xref="S3.E6.m1.14.15.1"></eq><apply id="S3.E6.m1.14.15.2.cmml" xref="S3.E6.m1.14.15.2"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.2.1.cmml" xref="S3.E6.m1.14.15.2">superscript</csymbol><apply id="S3.E6.m1.14.15.2.2.cmml" xref="S3.E6.m1.14.15.2"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.2.2.1.cmml" xref="S3.E6.m1.14.15.2">subscript</csymbol><ci id="S3.E6.m1.14.15.2.2.2.cmml" xref="S3.E6.m1.14.15.2.2.2">𝑤</ci><list id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2"><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑠</ci><apply id="S3.E6.m1.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1"><plus id="S3.E6.m1.2.2.2.2.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1"></plus><ci id="S3.E6.m1.2.2.2.2.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="S3.E6.m1.2.2.2.2.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="S3.E6.m1.4.4.2.cmml" xref="S3.E6.m1.4.4.2"><neq id="S3.E6.m1.4.4.2.3.cmml" xref="S3.E6.m1.4.4.2.3"></neq><ci id="S3.E6.m1.4.4.2.4.cmml" xref="S3.E6.m1.4.4.2.4">𝑙</ci><list id="S3.E6.m1.4.4.2.5.1.cmml" xref="S3.E6.m1.4.4.2.5.2"><ci id="S3.E6.m1.3.3.1.1.cmml" xref="S3.E6.m1.3.3.1.1">𝐿</ci><ci id="S3.E6.m1.4.4.2.2.cmml" xref="S3.E6.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="S3.E6.m1.14.15.3.cmml" xref="S3.E6.m1.14.15.3"><apply id="S3.E6.m1.14.15.3.1.cmml" xref="S3.E6.m1.14.15.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.3.1.1.cmml" xref="S3.E6.m1.14.15.3.1">superscript</csymbol><apply id="S3.E6.m1.14.15.3.1.2.cmml" xref="S3.E6.m1.14.15.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.3.1.2.1.cmml" xref="S3.E6.m1.14.15.3.1">subscript</csymbol><sum id="S3.E6.m1.14.15.3.1.2.2.cmml" xref="S3.E6.m1.14.15.3.1.2.2"></sum><apply id="S3.E6.m1.14.15.3.1.2.3.cmml" xref="S3.E6.m1.14.15.3.1.2.3"><eq id="S3.E6.m1.14.15.3.1.2.3.1.cmml" xref="S3.E6.m1.14.15.3.1.2.3.1"></eq><ci id="S3.E6.m1.14.15.3.1.2.3.2.cmml" xref="S3.E6.m1.14.15.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E6.m1.14.15.3.1.2.3.3.cmml" xref="S3.E6.m1.14.15.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E6.m1.14.15.3.1.3.cmml" xref="S3.E6.m1.14.15.3.1.3">𝐾</ci></apply><apply id="S3.E6.m1.14.15.3.2.cmml" xref="S3.E6.m1.14.15.3.2"><times id="S3.E6.m1.14.15.3.2.1.cmml" xref="S3.E6.m1.14.15.3.2.1"></times><apply id="S3.E6.m1.10.10.cmml" xref="S3.E6.m1.10.10"><divide id="S3.E6.m1.10.10.7.cmml" xref="S3.E6.m1.10.10"></divide><apply id="S3.E6.m1.8.8.4.cmml" xref="S3.E6.m1.8.8.4"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.4.5.cmml" xref="S3.E6.m1.8.8.4">superscript</csymbol><apply id="S3.E6.m1.8.8.4.6.cmml" xref="S3.E6.m1.8.8.4"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.4.6.1.cmml" xref="S3.E6.m1.8.8.4">subscript</csymbol><ci id="S3.E6.m1.8.8.4.6.2.cmml" xref="S3.E6.m1.8.8.4.6.2">𝑣</ci><list id="S3.E6.m1.6.6.2.2.2.3.cmml" xref="S3.E6.m1.6.6.2.2.2.4"><ci id="S3.E6.m1.5.5.1.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1">𝑘</ci><ci id="S3.E6.m1.6.6.2.2.2.2.cmml" xref="S3.E6.m1.6.6.2.2.2.2">𝑡</ci></list></apply><apply id="S3.E6.m1.8.8.4.4.2.cmml" xref="S3.E6.m1.8.8.4.4.2"><neq id="S3.E6.m1.8.8.4.4.2.3.cmml" xref="S3.E6.m1.8.8.4.4.2.3"></neq><ci id="S3.E6.m1.8.8.4.4.2.4.cmml" xref="S3.E6.m1.8.8.4.4.2.4">𝑙</ci><list id="S3.E6.m1.8.8.4.4.2.5.1.cmml" xref="S3.E6.m1.8.8.4.4.2.5.2"><ci id="S3.E6.m1.7.7.3.3.1.1.cmml" xref="S3.E6.m1.7.7.3.3.1.1">𝐿</ci><ci id="S3.E6.m1.8.8.4.4.2.2.cmml" xref="S3.E6.m1.8.8.4.4.2.2">𝑐</ci></list></apply></apply><apply id="S3.E6.m1.10.10.6.cmml" xref="S3.E6.m1.10.10.6"><csymbol cd="ambiguous" id="S3.E6.m1.10.10.6.3.cmml" xref="S3.E6.m1.10.10.6">superscript</csymbol><apply id="S3.E6.m1.10.10.6.4.cmml" xref="S3.E6.m1.10.10.6"><csymbol cd="ambiguous" id="S3.E6.m1.10.10.6.4.1.cmml" xref="S3.E6.m1.10.10.6">subscript</csymbol><ci id="S3.E6.m1.10.10.6.4.2.cmml" xref="S3.E6.m1.10.10.6.4.2">𝑣</ci><ci id="S3.E6.m1.10.10.6.4.3.cmml" xref="S3.E6.m1.10.10.6.4.3">𝑡</ci></apply><apply id="S3.E6.m1.10.10.6.2.2.cmml" xref="S3.E6.m1.10.10.6.2.2"><neq id="S3.E6.m1.10.10.6.2.2.3.cmml" xref="S3.E6.m1.10.10.6.2.2.3"></neq><ci id="S3.E6.m1.10.10.6.2.2.4.cmml" xref="S3.E6.m1.10.10.6.2.2.4">𝑙</ci><list id="S3.E6.m1.10.10.6.2.2.5.1.cmml" xref="S3.E6.m1.10.10.6.2.2.5.2"><ci id="S3.E6.m1.9.9.5.1.1.1.cmml" xref="S3.E6.m1.9.9.5.1.1.1">𝐿</ci><ci id="S3.E6.m1.10.10.6.2.2.2.cmml" xref="S3.E6.m1.10.10.6.2.2.2">𝑐</ci></list></apply></apply></apply><apply id="S3.E6.m1.14.15.3.2.2.cmml" xref="S3.E6.m1.14.15.3.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.3.2.2.1.cmml" xref="S3.E6.m1.14.15.3.2.2">superscript</csymbol><apply id="S3.E6.m1.14.15.3.2.2.2.cmml" xref="S3.E6.m1.14.15.3.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.14.15.3.2.2.2.1.cmml" xref="S3.E6.m1.14.15.3.2.2">subscript</csymbol><ci id="S3.E6.m1.14.15.3.2.2.2.2.cmml" xref="S3.E6.m1.14.15.3.2.2.2.2">𝑤</ci><list id="S3.E6.m1.12.12.2.3.cmml" xref="S3.E6.m1.12.12.2.4"><ci id="S3.E6.m1.11.11.1.1.cmml" xref="S3.E6.m1.11.11.1.1">𝑘</ci><ci id="S3.E6.m1.12.12.2.2.cmml" xref="S3.E6.m1.12.12.2.2">𝑡</ci></list></apply><apply id="S3.E6.m1.14.14.2.cmml" xref="S3.E6.m1.14.14.2"><neq id="S3.E6.m1.14.14.2.3.cmml" xref="S3.E6.m1.14.14.2.3"></neq><ci id="S3.E6.m1.14.14.2.4.cmml" xref="S3.E6.m1.14.14.2.4">𝑙</ci><list id="S3.E6.m1.14.14.2.5.1.cmml" xref="S3.E6.m1.14.14.2.5.2"><ci id="S3.E6.m1.13.13.1.1.cmml" xref="S3.E6.m1.13.13.1.1">𝐿</ci><ci id="S3.E6.m1.14.14.2.2.cmml" xref="S3.E6.m1.14.14.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.14c">\displaystyle w_{s,t+1}^{l\neq L,c}=\sum_{k=1}^{K}\frac{v_{k,t}^{l\neq L,c}}{v_{t}^{l\neq L,c}}w_{k,t}^{l\neq L,c}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p1.14" class="ltx_p">where <math id="S3.SS3.p1.11.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS3.p1.11.m1.1a"><mi id="S3.SS3.p1.11.m1.1.1" xref="S3.SS3.p1.11.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.11.m1.1b"><ci id="S3.SS3.p1.11.m1.1.1.cmml" xref="S3.SS3.p1.11.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.11.m1.1c">c</annotation></semantics></math> is the remaining node’s index, <math id="S3.SS3.p1.12.m2.4" class="ltx_Math" alttext="v_{k,t}^{l\neq L,c}" display="inline"><semantics id="S3.SS3.p1.12.m2.4a"><msubsup id="S3.SS3.p1.12.m2.4.5" xref="S3.SS3.p1.12.m2.4.5.cmml"><mi id="S3.SS3.p1.12.m2.4.5.2.2" xref="S3.SS3.p1.12.m2.4.5.2.2.cmml">v</mi><mrow id="S3.SS3.p1.12.m2.2.2.2.4" xref="S3.SS3.p1.12.m2.2.2.2.3.cmml"><mi id="S3.SS3.p1.12.m2.1.1.1.1" xref="S3.SS3.p1.12.m2.1.1.1.1.cmml">k</mi><mo id="S3.SS3.p1.12.m2.2.2.2.4.1" xref="S3.SS3.p1.12.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.12.m2.2.2.2.2" xref="S3.SS3.p1.12.m2.2.2.2.2.cmml">t</mi></mrow><mrow id="S3.SS3.p1.12.m2.4.4.2" xref="S3.SS3.p1.12.m2.4.4.2.cmml"><mi id="S3.SS3.p1.12.m2.4.4.2.4" xref="S3.SS3.p1.12.m2.4.4.2.4.cmml">l</mi><mo id="S3.SS3.p1.12.m2.4.4.2.3" xref="S3.SS3.p1.12.m2.4.4.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.12.m2.4.4.2.5.2" xref="S3.SS3.p1.12.m2.4.4.2.5.1.cmml"><mi id="S3.SS3.p1.12.m2.3.3.1.1" xref="S3.SS3.p1.12.m2.3.3.1.1.cmml">L</mi><mo id="S3.SS3.p1.12.m2.4.4.2.5.2.1" xref="S3.SS3.p1.12.m2.4.4.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.12.m2.4.4.2.2" xref="S3.SS3.p1.12.m2.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.12.m2.4b"><apply id="S3.SS3.p1.12.m2.4.5.cmml" xref="S3.SS3.p1.12.m2.4.5"><csymbol cd="ambiguous" id="S3.SS3.p1.12.m2.4.5.1.cmml" xref="S3.SS3.p1.12.m2.4.5">superscript</csymbol><apply id="S3.SS3.p1.12.m2.4.5.2.cmml" xref="S3.SS3.p1.12.m2.4.5"><csymbol cd="ambiguous" id="S3.SS3.p1.12.m2.4.5.2.1.cmml" xref="S3.SS3.p1.12.m2.4.5">subscript</csymbol><ci id="S3.SS3.p1.12.m2.4.5.2.2.cmml" xref="S3.SS3.p1.12.m2.4.5.2.2">𝑣</ci><list id="S3.SS3.p1.12.m2.2.2.2.3.cmml" xref="S3.SS3.p1.12.m2.2.2.2.4"><ci id="S3.SS3.p1.12.m2.1.1.1.1.cmml" xref="S3.SS3.p1.12.m2.1.1.1.1">𝑘</ci><ci id="S3.SS3.p1.12.m2.2.2.2.2.cmml" xref="S3.SS3.p1.12.m2.2.2.2.2">𝑡</ci></list></apply><apply id="S3.SS3.p1.12.m2.4.4.2.cmml" xref="S3.SS3.p1.12.m2.4.4.2"><neq id="S3.SS3.p1.12.m2.4.4.2.3.cmml" xref="S3.SS3.p1.12.m2.4.4.2.3"></neq><ci id="S3.SS3.p1.12.m2.4.4.2.4.cmml" xref="S3.SS3.p1.12.m2.4.4.2.4">𝑙</ci><list id="S3.SS3.p1.12.m2.4.4.2.5.1.cmml" xref="S3.SS3.p1.12.m2.4.4.2.5.2"><ci id="S3.SS3.p1.12.m2.3.3.1.1.cmml" xref="S3.SS3.p1.12.m2.3.3.1.1">𝐿</ci><ci id="S3.SS3.p1.12.m2.4.4.2.2.cmml" xref="S3.SS3.p1.12.m2.4.4.2.2">𝑐</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.12.m2.4c">v_{k,t}^{l\neq L,c}</annotation></semantics></math> is node <math id="S3.SS3.p1.13.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS3.p1.13.m3.1a"><mi id="S3.SS3.p1.13.m3.1.1" xref="S3.SS3.p1.13.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.13.m3.1b"><ci id="S3.SS3.p1.13.m3.1.1.cmml" xref="S3.SS3.p1.13.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.13.m3.1c">c</annotation></semantics></math>’s variance of differential weights. And <math id="S3.SS3.p1.14.m4.2" class="ltx_Math" alttext="v_{t}^{l\neq L,c}" display="inline"><semantics id="S3.SS3.p1.14.m4.2a"><msubsup id="S3.SS3.p1.14.m4.2.3" xref="S3.SS3.p1.14.m4.2.3.cmml"><mi id="S3.SS3.p1.14.m4.2.3.2.2" xref="S3.SS3.p1.14.m4.2.3.2.2.cmml">v</mi><mi id="S3.SS3.p1.14.m4.2.3.2.3" xref="S3.SS3.p1.14.m4.2.3.2.3.cmml">t</mi><mrow id="S3.SS3.p1.14.m4.2.2.2" xref="S3.SS3.p1.14.m4.2.2.2.cmml"><mi id="S3.SS3.p1.14.m4.2.2.2.4" xref="S3.SS3.p1.14.m4.2.2.2.4.cmml">l</mi><mo id="S3.SS3.p1.14.m4.2.2.2.3" xref="S3.SS3.p1.14.m4.2.2.2.3.cmml">≠</mo><mrow id="S3.SS3.p1.14.m4.2.2.2.5.2" xref="S3.SS3.p1.14.m4.2.2.2.5.1.cmml"><mi id="S3.SS3.p1.14.m4.1.1.1.1" xref="S3.SS3.p1.14.m4.1.1.1.1.cmml">L</mi><mo id="S3.SS3.p1.14.m4.2.2.2.5.2.1" xref="S3.SS3.p1.14.m4.2.2.2.5.1.cmml">,</mo><mi id="S3.SS3.p1.14.m4.2.2.2.2" xref="S3.SS3.p1.14.m4.2.2.2.2.cmml">c</mi></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.14.m4.2b"><apply id="S3.SS3.p1.14.m4.2.3.cmml" xref="S3.SS3.p1.14.m4.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m4.2.3.1.cmml" xref="S3.SS3.p1.14.m4.2.3">superscript</csymbol><apply id="S3.SS3.p1.14.m4.2.3.2.cmml" xref="S3.SS3.p1.14.m4.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.14.m4.2.3.2.1.cmml" xref="S3.SS3.p1.14.m4.2.3">subscript</csymbol><ci id="S3.SS3.p1.14.m4.2.3.2.2.cmml" xref="S3.SS3.p1.14.m4.2.3.2.2">𝑣</ci><ci id="S3.SS3.p1.14.m4.2.3.2.3.cmml" xref="S3.SS3.p1.14.m4.2.3.2.3">𝑡</ci></apply><apply id="S3.SS3.p1.14.m4.2.2.2.cmml" xref="S3.SS3.p1.14.m4.2.2.2"><neq id="S3.SS3.p1.14.m4.2.2.2.3.cmml" xref="S3.SS3.p1.14.m4.2.2.2.3"></neq><ci id="S3.SS3.p1.14.m4.2.2.2.4.cmml" xref="S3.SS3.p1.14.m4.2.2.2.4">𝑙</ci><list id="S3.SS3.p1.14.m4.2.2.2.5.1.cmml" xref="S3.SS3.p1.14.m4.2.2.2.5.2"><ci id="S3.SS3.p1.14.m4.1.1.1.1.cmml" xref="S3.SS3.p1.14.m4.1.1.1.1">𝐿</ci><ci id="S3.SS3.p1.14.m4.2.2.2.2.cmml" xref="S3.SS3.p1.14.m4.2.2.2.2">𝑐</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.14.m4.2c">v_{t}^{l\neq L,c}</annotation></semantics></math> is the sum of variances from all remaining nodes. This new weighted averaging method leads to Algorithm <a href="#alg3" title="Algorithm 3 ‣ 3.3 FedNS: the Proposed Method ‣ 3 Proposed Method ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, where only the model aggregation pseudo-code is given to save space.</p>
</div>
<figure id="alg3" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg3.2.1.1" class="ltx_text ltx_font_bold">Algorithm 3</span> </span> Federated Node Selection (FedNS)</figcaption>
<div id="alg3.3" class="ltx_listing ltx_listing">
<div id="alg3.l1" class="ltx_listingline">  <span id="alg3.l1.1" class="ltx_text ltx_font_bold">Server executes:</span>

</div>
<div id="alg3.l2" class="ltx_listingline">  ……

</div>
<div id="alg3.l3" class="ltx_listingline">  <span id="alg3.l3.1" class="ltx_text ltx_font_bold">Model Aggregation:</span>

</div>
<div id="alg3.l4" class="ltx_listingline">  <span id="alg3.l4.1" class="ltx_text ltx_font_bold">for</span> each layer <math id="alg3.l4.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg3.l4.m1.1a"><mi id="alg3.l4.m1.1.1" xref="alg3.l4.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg3.l4.m1.1b"><ci id="alg3.l4.m1.1.1.cmml" xref="alg3.l4.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l4.m1.1c">l</annotation></semantics></math> from <math id="alg3.l4.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg3.l4.m2.1a"><mn id="alg3.l4.m2.1.1" xref="alg3.l4.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg3.l4.m2.1b"><cn type="integer" id="alg3.l4.m2.1.1.cmml" xref="alg3.l4.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg3.l4.m2.1c">1</annotation></semantics></math> to <math id="alg3.l4.m3.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg3.l4.m3.1a"><mi id="alg3.l4.m3.1.1" xref="alg3.l4.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg3.l4.m3.1b"><ci id="alg3.l4.m3.1.1.cmml" xref="alg3.l4.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l4.m3.1c">L</annotation></semantics></math> <span id="alg3.l4.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg3.l5" class="ltx_listingline">     <span id="alg3.l5.1" class="ltx_text ltx_font_bold">if</span> <math id="alg3.l5.m1.1" class="ltx_Math" alttext="l&lt;L" display="inline"><semantics id="alg3.l5.m1.1a"><mrow id="alg3.l5.m1.1.1" xref="alg3.l5.m1.1.1.cmml"><mi id="alg3.l5.m1.1.1.2" xref="alg3.l5.m1.1.1.2.cmml">l</mi><mo id="alg3.l5.m1.1.1.1" xref="alg3.l5.m1.1.1.1.cmml">&lt;</mo><mi id="alg3.l5.m1.1.1.3" xref="alg3.l5.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="alg3.l5.m1.1b"><apply id="alg3.l5.m1.1.1.cmml" xref="alg3.l5.m1.1.1"><lt id="alg3.l5.m1.1.1.1.cmml" xref="alg3.l5.m1.1.1.1"></lt><ci id="alg3.l5.m1.1.1.2.cmml" xref="alg3.l5.m1.1.1.2">𝑙</ci><ci id="alg3.l5.m1.1.1.3.cmml" xref="alg3.l5.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l5.m1.1c">l&lt;L</annotation></semantics></math> <span id="alg3.l5.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg3.l6" class="ltx_listingline">        <span id="alg3.l6.1" class="ltx_text ltx_font_bold">for</span> each node <math id="alg3.l6.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg3.l6.m1.1a"><mi id="alg3.l6.m1.1.1" xref="alg3.l6.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg3.l6.m1.1b"><ci id="alg3.l6.m1.1.1.cmml" xref="alg3.l6.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m1.1c">c</annotation></semantics></math> in the layer <math id="alg3.l6.m2.1" class="ltx_Math" alttext="l" display="inline"><semantics id="alg3.l6.m2.1a"><mi id="alg3.l6.m2.1.1" xref="alg3.l6.m2.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg3.l6.m2.1b"><ci id="alg3.l6.m2.1.1.cmml" xref="alg3.l6.m2.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m2.1c">l</annotation></semantics></math> from <math id="alg3.l6.m3.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg3.l6.m3.1a"><mn id="alg3.l6.m3.1.1" xref="alg3.l6.m3.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg3.l6.m3.1b"><cn type="integer" id="alg3.l6.m3.1.1.cmml" xref="alg3.l6.m3.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m3.1c">1</annotation></semantics></math> to <math id="alg3.l6.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg3.l6.m4.1a"><mi id="alg3.l6.m4.1.1" xref="alg3.l6.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg3.l6.m4.1b"><ci id="alg3.l6.m4.1.1.cmml" xref="alg3.l6.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m4.1c">C</annotation></semantics></math> <span id="alg3.l6.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg3.l7" class="ltx_listingline">           <math id="alg3.l7.m1.13" class="ltx_Math" alttext="v_{k,t}^{l\neq L,c}=\text{variance}(w_{k,t}^{l\neq L,c}-w_{k,t-1}^{l\neq L,c})" display="inline"><semantics id="alg3.l7.m1.13a"><mrow id="alg3.l7.m1.13.13" xref="alg3.l7.m1.13.13.cmml"><msubsup id="alg3.l7.m1.13.13.3" xref="alg3.l7.m1.13.13.3.cmml"><mi id="alg3.l7.m1.13.13.3.2.2" xref="alg3.l7.m1.13.13.3.2.2.cmml">v</mi><mrow id="alg3.l7.m1.2.2.2.4" xref="alg3.l7.m1.2.2.2.3.cmml"><mi id="alg3.l7.m1.1.1.1.1" xref="alg3.l7.m1.1.1.1.1.cmml">k</mi><mo id="alg3.l7.m1.2.2.2.4.1" xref="alg3.l7.m1.2.2.2.3.cmml">,</mo><mi id="alg3.l7.m1.2.2.2.2" xref="alg3.l7.m1.2.2.2.2.cmml">t</mi></mrow><mrow id="alg3.l7.m1.4.4.2" xref="alg3.l7.m1.4.4.2.cmml"><mi id="alg3.l7.m1.4.4.2.4" xref="alg3.l7.m1.4.4.2.4.cmml">l</mi><mo id="alg3.l7.m1.4.4.2.3" xref="alg3.l7.m1.4.4.2.3.cmml">≠</mo><mrow id="alg3.l7.m1.4.4.2.5.2" xref="alg3.l7.m1.4.4.2.5.1.cmml"><mi id="alg3.l7.m1.3.3.1.1" xref="alg3.l7.m1.3.3.1.1.cmml">L</mi><mo id="alg3.l7.m1.4.4.2.5.2.1" xref="alg3.l7.m1.4.4.2.5.1.cmml">,</mo><mi id="alg3.l7.m1.4.4.2.2" xref="alg3.l7.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="alg3.l7.m1.13.13.2" xref="alg3.l7.m1.13.13.2.cmml">=</mo><mrow id="alg3.l7.m1.13.13.1" xref="alg3.l7.m1.13.13.1.cmml"><mtext id="alg3.l7.m1.13.13.1.3" xref="alg3.l7.m1.13.13.1.3a.cmml">variance</mtext><mo lspace="0em" rspace="0em" id="alg3.l7.m1.13.13.1.2" xref="alg3.l7.m1.13.13.1.2.cmml">​</mo><mrow id="alg3.l7.m1.13.13.1.1.1" xref="alg3.l7.m1.13.13.1.1.1.1.cmml"><mo stretchy="false" id="alg3.l7.m1.13.13.1.1.1.2" xref="alg3.l7.m1.13.13.1.1.1.1.cmml">(</mo><mrow id="alg3.l7.m1.13.13.1.1.1.1" xref="alg3.l7.m1.13.13.1.1.1.1.cmml"><msubsup id="alg3.l7.m1.13.13.1.1.1.1.2" xref="alg3.l7.m1.13.13.1.1.1.1.2.cmml"><mi id="alg3.l7.m1.13.13.1.1.1.1.2.2.2" xref="alg3.l7.m1.13.13.1.1.1.1.2.2.2.cmml">w</mi><mrow id="alg3.l7.m1.6.6.2.4" xref="alg3.l7.m1.6.6.2.3.cmml"><mi id="alg3.l7.m1.5.5.1.1" xref="alg3.l7.m1.5.5.1.1.cmml">k</mi><mo id="alg3.l7.m1.6.6.2.4.1" xref="alg3.l7.m1.6.6.2.3.cmml">,</mo><mi id="alg3.l7.m1.6.6.2.2" xref="alg3.l7.m1.6.6.2.2.cmml">t</mi></mrow><mrow id="alg3.l7.m1.8.8.2" xref="alg3.l7.m1.8.8.2.cmml"><mi id="alg3.l7.m1.8.8.2.4" xref="alg3.l7.m1.8.8.2.4.cmml">l</mi><mo id="alg3.l7.m1.8.8.2.3" xref="alg3.l7.m1.8.8.2.3.cmml">≠</mo><mrow id="alg3.l7.m1.8.8.2.5.2" xref="alg3.l7.m1.8.8.2.5.1.cmml"><mi id="alg3.l7.m1.7.7.1.1" xref="alg3.l7.m1.7.7.1.1.cmml">L</mi><mo id="alg3.l7.m1.8.8.2.5.2.1" xref="alg3.l7.m1.8.8.2.5.1.cmml">,</mo><mi id="alg3.l7.m1.8.8.2.2" xref="alg3.l7.m1.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup><mo id="alg3.l7.m1.13.13.1.1.1.1.1" xref="alg3.l7.m1.13.13.1.1.1.1.1.cmml">−</mo><msubsup id="alg3.l7.m1.13.13.1.1.1.1.3" xref="alg3.l7.m1.13.13.1.1.1.1.3.cmml"><mi id="alg3.l7.m1.13.13.1.1.1.1.3.2.2" xref="alg3.l7.m1.13.13.1.1.1.1.3.2.2.cmml">w</mi><mrow id="alg3.l7.m1.10.10.2.2" xref="alg3.l7.m1.10.10.2.3.cmml"><mi id="alg3.l7.m1.9.9.1.1" xref="alg3.l7.m1.9.9.1.1.cmml">k</mi><mo id="alg3.l7.m1.10.10.2.2.2" xref="alg3.l7.m1.10.10.2.3.cmml">,</mo><mrow id="alg3.l7.m1.10.10.2.2.1" xref="alg3.l7.m1.10.10.2.2.1.cmml"><mi id="alg3.l7.m1.10.10.2.2.1.2" xref="alg3.l7.m1.10.10.2.2.1.2.cmml">t</mi><mo id="alg3.l7.m1.10.10.2.2.1.1" xref="alg3.l7.m1.10.10.2.2.1.1.cmml">−</mo><mn id="alg3.l7.m1.10.10.2.2.1.3" xref="alg3.l7.m1.10.10.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="alg3.l7.m1.12.12.2" xref="alg3.l7.m1.12.12.2.cmml"><mi id="alg3.l7.m1.12.12.2.4" xref="alg3.l7.m1.12.12.2.4.cmml">l</mi><mo id="alg3.l7.m1.12.12.2.3" xref="alg3.l7.m1.12.12.2.3.cmml">≠</mo><mrow id="alg3.l7.m1.12.12.2.5.2" xref="alg3.l7.m1.12.12.2.5.1.cmml"><mi id="alg3.l7.m1.11.11.1.1" xref="alg3.l7.m1.11.11.1.1.cmml">L</mi><mo id="alg3.l7.m1.12.12.2.5.2.1" xref="alg3.l7.m1.12.12.2.5.1.cmml">,</mo><mi id="alg3.l7.m1.12.12.2.2" xref="alg3.l7.m1.12.12.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow><mo stretchy="false" id="alg3.l7.m1.13.13.1.1.1.3" xref="alg3.l7.m1.13.13.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l7.m1.13b"><apply id="alg3.l7.m1.13.13.cmml" xref="alg3.l7.m1.13.13"><eq id="alg3.l7.m1.13.13.2.cmml" xref="alg3.l7.m1.13.13.2"></eq><apply id="alg3.l7.m1.13.13.3.cmml" xref="alg3.l7.m1.13.13.3"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.3.1.cmml" xref="alg3.l7.m1.13.13.3">superscript</csymbol><apply id="alg3.l7.m1.13.13.3.2.cmml" xref="alg3.l7.m1.13.13.3"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.3.2.1.cmml" xref="alg3.l7.m1.13.13.3">subscript</csymbol><ci id="alg3.l7.m1.13.13.3.2.2.cmml" xref="alg3.l7.m1.13.13.3.2.2">𝑣</ci><list id="alg3.l7.m1.2.2.2.3.cmml" xref="alg3.l7.m1.2.2.2.4"><ci id="alg3.l7.m1.1.1.1.1.cmml" xref="alg3.l7.m1.1.1.1.1">𝑘</ci><ci id="alg3.l7.m1.2.2.2.2.cmml" xref="alg3.l7.m1.2.2.2.2">𝑡</ci></list></apply><apply id="alg3.l7.m1.4.4.2.cmml" xref="alg3.l7.m1.4.4.2"><neq id="alg3.l7.m1.4.4.2.3.cmml" xref="alg3.l7.m1.4.4.2.3"></neq><ci id="alg3.l7.m1.4.4.2.4.cmml" xref="alg3.l7.m1.4.4.2.4">𝑙</ci><list id="alg3.l7.m1.4.4.2.5.1.cmml" xref="alg3.l7.m1.4.4.2.5.2"><ci id="alg3.l7.m1.3.3.1.1.cmml" xref="alg3.l7.m1.3.3.1.1">𝐿</ci><ci id="alg3.l7.m1.4.4.2.2.cmml" xref="alg3.l7.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="alg3.l7.m1.13.13.1.cmml" xref="alg3.l7.m1.13.13.1"><times id="alg3.l7.m1.13.13.1.2.cmml" xref="alg3.l7.m1.13.13.1.2"></times><ci id="alg3.l7.m1.13.13.1.3a.cmml" xref="alg3.l7.m1.13.13.1.3"><mtext id="alg3.l7.m1.13.13.1.3.cmml" xref="alg3.l7.m1.13.13.1.3">variance</mtext></ci><apply id="alg3.l7.m1.13.13.1.1.1.1.cmml" xref="alg3.l7.m1.13.13.1.1.1"><minus id="alg3.l7.m1.13.13.1.1.1.1.1.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.1"></minus><apply id="alg3.l7.m1.13.13.1.1.1.1.2.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.2"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.1.1.1.1.2.1.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.2">superscript</csymbol><apply id="alg3.l7.m1.13.13.1.1.1.1.2.2.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.2"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.1.1.1.1.2.2.1.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.2">subscript</csymbol><ci id="alg3.l7.m1.13.13.1.1.1.1.2.2.2.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.2.2.2">𝑤</ci><list id="alg3.l7.m1.6.6.2.3.cmml" xref="alg3.l7.m1.6.6.2.4"><ci id="alg3.l7.m1.5.5.1.1.cmml" xref="alg3.l7.m1.5.5.1.1">𝑘</ci><ci id="alg3.l7.m1.6.6.2.2.cmml" xref="alg3.l7.m1.6.6.2.2">𝑡</ci></list></apply><apply id="alg3.l7.m1.8.8.2.cmml" xref="alg3.l7.m1.8.8.2"><neq id="alg3.l7.m1.8.8.2.3.cmml" xref="alg3.l7.m1.8.8.2.3"></neq><ci id="alg3.l7.m1.8.8.2.4.cmml" xref="alg3.l7.m1.8.8.2.4">𝑙</ci><list id="alg3.l7.m1.8.8.2.5.1.cmml" xref="alg3.l7.m1.8.8.2.5.2"><ci id="alg3.l7.m1.7.7.1.1.cmml" xref="alg3.l7.m1.7.7.1.1">𝐿</ci><ci id="alg3.l7.m1.8.8.2.2.cmml" xref="alg3.l7.m1.8.8.2.2">𝑐</ci></list></apply></apply><apply id="alg3.l7.m1.13.13.1.1.1.1.3.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.3"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.1.1.1.1.3.1.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.3">superscript</csymbol><apply id="alg3.l7.m1.13.13.1.1.1.1.3.2.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.3"><csymbol cd="ambiguous" id="alg3.l7.m1.13.13.1.1.1.1.3.2.1.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.3">subscript</csymbol><ci id="alg3.l7.m1.13.13.1.1.1.1.3.2.2.cmml" xref="alg3.l7.m1.13.13.1.1.1.1.3.2.2">𝑤</ci><list id="alg3.l7.m1.10.10.2.3.cmml" xref="alg3.l7.m1.10.10.2.2"><ci id="alg3.l7.m1.9.9.1.1.cmml" xref="alg3.l7.m1.9.9.1.1">𝑘</ci><apply id="alg3.l7.m1.10.10.2.2.1.cmml" xref="alg3.l7.m1.10.10.2.2.1"><minus id="alg3.l7.m1.10.10.2.2.1.1.cmml" xref="alg3.l7.m1.10.10.2.2.1.1"></minus><ci id="alg3.l7.m1.10.10.2.2.1.2.cmml" xref="alg3.l7.m1.10.10.2.2.1.2">𝑡</ci><cn type="integer" id="alg3.l7.m1.10.10.2.2.1.3.cmml" xref="alg3.l7.m1.10.10.2.2.1.3">1</cn></apply></list></apply><apply id="alg3.l7.m1.12.12.2.cmml" xref="alg3.l7.m1.12.12.2"><neq id="alg3.l7.m1.12.12.2.3.cmml" xref="alg3.l7.m1.12.12.2.3"></neq><ci id="alg3.l7.m1.12.12.2.4.cmml" xref="alg3.l7.m1.12.12.2.4">𝑙</ci><list id="alg3.l7.m1.12.12.2.5.1.cmml" xref="alg3.l7.m1.12.12.2.5.2"><ci id="alg3.l7.m1.11.11.1.1.cmml" xref="alg3.l7.m1.11.11.1.1">𝐿</ci><ci id="alg3.l7.m1.12.12.2.2.cmml" xref="alg3.l7.m1.12.12.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l7.m1.13c">v_{k,t}^{l\neq L,c}=\text{variance}(w_{k,t}^{l\neq L,c}-w_{k,t-1}^{l\neq L,c})</annotation></semantics></math>

</div>
<div id="alg3.l8" class="ltx_listingline">           <span id="alg3.l8.1" class="ltx_text">filter nodes and re-normalize remaining variances</span> 

</div>
<div id="alg3.l9" class="ltx_listingline">        <span id="alg3.l9.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l9.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l10" class="ltx_listingline">        <math id="alg3.l10.m1.12" class="ltx_Math" alttext="w_{s,t+1}^{l\neq L,c}=\sum_{k=1}^{K}\frac{v_{k,t}^{l\neq L,c}}{v^{c}}w_{k,t}^{l\neq L,c}" display="inline"><semantics id="alg3.l10.m1.12a"><mrow id="alg3.l10.m1.12.13" xref="alg3.l10.m1.12.13.cmml"><msubsup id="alg3.l10.m1.12.13.2" xref="alg3.l10.m1.12.13.2.cmml"><mi id="alg3.l10.m1.12.13.2.2.2" xref="alg3.l10.m1.12.13.2.2.2.cmml">w</mi><mrow id="alg3.l10.m1.2.2.2.2" xref="alg3.l10.m1.2.2.2.3.cmml"><mi id="alg3.l10.m1.1.1.1.1" xref="alg3.l10.m1.1.1.1.1.cmml">s</mi><mo id="alg3.l10.m1.2.2.2.2.2" xref="alg3.l10.m1.2.2.2.3.cmml">,</mo><mrow id="alg3.l10.m1.2.2.2.2.1" xref="alg3.l10.m1.2.2.2.2.1.cmml"><mi id="alg3.l10.m1.2.2.2.2.1.2" xref="alg3.l10.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg3.l10.m1.2.2.2.2.1.1" xref="alg3.l10.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg3.l10.m1.2.2.2.2.1.3" xref="alg3.l10.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="alg3.l10.m1.4.4.2" xref="alg3.l10.m1.4.4.2.cmml"><mi id="alg3.l10.m1.4.4.2.4" xref="alg3.l10.m1.4.4.2.4.cmml">l</mi><mo id="alg3.l10.m1.4.4.2.3" xref="alg3.l10.m1.4.4.2.3.cmml">≠</mo><mrow id="alg3.l10.m1.4.4.2.5.2" xref="alg3.l10.m1.4.4.2.5.1.cmml"><mi id="alg3.l10.m1.3.3.1.1" xref="alg3.l10.m1.3.3.1.1.cmml">L</mi><mo id="alg3.l10.m1.4.4.2.5.2.1" xref="alg3.l10.m1.4.4.2.5.1.cmml">,</mo><mi id="alg3.l10.m1.4.4.2.2" xref="alg3.l10.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo rspace="0.111em" id="alg3.l10.m1.12.13.1" xref="alg3.l10.m1.12.13.1.cmml">=</mo><mrow id="alg3.l10.m1.12.13.3" xref="alg3.l10.m1.12.13.3.cmml"><msubsup id="alg3.l10.m1.12.13.3.1" xref="alg3.l10.m1.12.13.3.1.cmml"><mo id="alg3.l10.m1.12.13.3.1.2.2" xref="alg3.l10.m1.12.13.3.1.2.2.cmml">∑</mo><mrow id="alg3.l10.m1.12.13.3.1.2.3" xref="alg3.l10.m1.12.13.3.1.2.3.cmml"><mi id="alg3.l10.m1.12.13.3.1.2.3.2" xref="alg3.l10.m1.12.13.3.1.2.3.2.cmml">k</mi><mo id="alg3.l10.m1.12.13.3.1.2.3.1" xref="alg3.l10.m1.12.13.3.1.2.3.1.cmml">=</mo><mn id="alg3.l10.m1.12.13.3.1.2.3.3" xref="alg3.l10.m1.12.13.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg3.l10.m1.12.13.3.1.3" xref="alg3.l10.m1.12.13.3.1.3.cmml">K</mi></msubsup><mrow id="alg3.l10.m1.12.13.3.2" xref="alg3.l10.m1.12.13.3.2.cmml"><mfrac id="alg3.l10.m1.8.8" xref="alg3.l10.m1.8.8.cmml"><msubsup id="alg3.l10.m1.8.8.4" xref="alg3.l10.m1.8.8.4.cmml"><mi id="alg3.l10.m1.8.8.4.6.2" xref="alg3.l10.m1.8.8.4.6.2.cmml">v</mi><mrow id="alg3.l10.m1.6.6.2.2.2.4" xref="alg3.l10.m1.6.6.2.2.2.3.cmml"><mi id="alg3.l10.m1.5.5.1.1.1.1" xref="alg3.l10.m1.5.5.1.1.1.1.cmml">k</mi><mo id="alg3.l10.m1.6.6.2.2.2.4.1" xref="alg3.l10.m1.6.6.2.2.2.3.cmml">,</mo><mi id="alg3.l10.m1.6.6.2.2.2.2" xref="alg3.l10.m1.6.6.2.2.2.2.cmml">t</mi></mrow><mrow id="alg3.l10.m1.8.8.4.4.2" xref="alg3.l10.m1.8.8.4.4.2.cmml"><mi id="alg3.l10.m1.8.8.4.4.2.4" xref="alg3.l10.m1.8.8.4.4.2.4.cmml">l</mi><mo id="alg3.l10.m1.8.8.4.4.2.3" xref="alg3.l10.m1.8.8.4.4.2.3.cmml">≠</mo><mrow id="alg3.l10.m1.8.8.4.4.2.5.2" xref="alg3.l10.m1.8.8.4.4.2.5.1.cmml"><mi id="alg3.l10.m1.7.7.3.3.1.1" xref="alg3.l10.m1.7.7.3.3.1.1.cmml">L</mi><mo id="alg3.l10.m1.8.8.4.4.2.5.2.1" xref="alg3.l10.m1.8.8.4.4.2.5.1.cmml">,</mo><mi id="alg3.l10.m1.8.8.4.4.2.2" xref="alg3.l10.m1.8.8.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><msup id="alg3.l10.m1.8.8.6" xref="alg3.l10.m1.8.8.6.cmml"><mi id="alg3.l10.m1.8.8.6.2" xref="alg3.l10.m1.8.8.6.2.cmml">v</mi><mi id="alg3.l10.m1.8.8.6.3" xref="alg3.l10.m1.8.8.6.3.cmml">c</mi></msup></mfrac><mo lspace="0em" rspace="0em" id="alg3.l10.m1.12.13.3.2.1" xref="alg3.l10.m1.12.13.3.2.1.cmml">​</mo><msubsup id="alg3.l10.m1.12.13.3.2.2" xref="alg3.l10.m1.12.13.3.2.2.cmml"><mi id="alg3.l10.m1.12.13.3.2.2.2.2" xref="alg3.l10.m1.12.13.3.2.2.2.2.cmml">w</mi><mrow id="alg3.l10.m1.10.10.2.4" xref="alg3.l10.m1.10.10.2.3.cmml"><mi id="alg3.l10.m1.9.9.1.1" xref="alg3.l10.m1.9.9.1.1.cmml">k</mi><mo id="alg3.l10.m1.10.10.2.4.1" xref="alg3.l10.m1.10.10.2.3.cmml">,</mo><mi id="alg3.l10.m1.10.10.2.2" xref="alg3.l10.m1.10.10.2.2.cmml">t</mi></mrow><mrow id="alg3.l10.m1.12.12.2" xref="alg3.l10.m1.12.12.2.cmml"><mi id="alg3.l10.m1.12.12.2.4" xref="alg3.l10.m1.12.12.2.4.cmml">l</mi><mo id="alg3.l10.m1.12.12.2.3" xref="alg3.l10.m1.12.12.2.3.cmml">≠</mo><mrow id="alg3.l10.m1.12.12.2.5.2" xref="alg3.l10.m1.12.12.2.5.1.cmml"><mi id="alg3.l10.m1.11.11.1.1" xref="alg3.l10.m1.11.11.1.1.cmml">L</mi><mo id="alg3.l10.m1.12.12.2.5.2.1" xref="alg3.l10.m1.12.12.2.5.1.cmml">,</mo><mi id="alg3.l10.m1.12.12.2.2" xref="alg3.l10.m1.12.12.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l10.m1.12b"><apply id="alg3.l10.m1.12.13.cmml" xref="alg3.l10.m1.12.13"><eq id="alg3.l10.m1.12.13.1.cmml" xref="alg3.l10.m1.12.13.1"></eq><apply id="alg3.l10.m1.12.13.2.cmml" xref="alg3.l10.m1.12.13.2"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.2.1.cmml" xref="alg3.l10.m1.12.13.2">superscript</csymbol><apply id="alg3.l10.m1.12.13.2.2.cmml" xref="alg3.l10.m1.12.13.2"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.2.2.1.cmml" xref="alg3.l10.m1.12.13.2">subscript</csymbol><ci id="alg3.l10.m1.12.13.2.2.2.cmml" xref="alg3.l10.m1.12.13.2.2.2">𝑤</ci><list id="alg3.l10.m1.2.2.2.3.cmml" xref="alg3.l10.m1.2.2.2.2"><ci id="alg3.l10.m1.1.1.1.1.cmml" xref="alg3.l10.m1.1.1.1.1">𝑠</ci><apply id="alg3.l10.m1.2.2.2.2.1.cmml" xref="alg3.l10.m1.2.2.2.2.1"><plus id="alg3.l10.m1.2.2.2.2.1.1.cmml" xref="alg3.l10.m1.2.2.2.2.1.1"></plus><ci id="alg3.l10.m1.2.2.2.2.1.2.cmml" xref="alg3.l10.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg3.l10.m1.2.2.2.2.1.3.cmml" xref="alg3.l10.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg3.l10.m1.4.4.2.cmml" xref="alg3.l10.m1.4.4.2"><neq id="alg3.l10.m1.4.4.2.3.cmml" xref="alg3.l10.m1.4.4.2.3"></neq><ci id="alg3.l10.m1.4.4.2.4.cmml" xref="alg3.l10.m1.4.4.2.4">𝑙</ci><list id="alg3.l10.m1.4.4.2.5.1.cmml" xref="alg3.l10.m1.4.4.2.5.2"><ci id="alg3.l10.m1.3.3.1.1.cmml" xref="alg3.l10.m1.3.3.1.1">𝐿</ci><ci id="alg3.l10.m1.4.4.2.2.cmml" xref="alg3.l10.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="alg3.l10.m1.12.13.3.cmml" xref="alg3.l10.m1.12.13.3"><apply id="alg3.l10.m1.12.13.3.1.cmml" xref="alg3.l10.m1.12.13.3.1"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.3.1.1.cmml" xref="alg3.l10.m1.12.13.3.1">superscript</csymbol><apply id="alg3.l10.m1.12.13.3.1.2.cmml" xref="alg3.l10.m1.12.13.3.1"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.3.1.2.1.cmml" xref="alg3.l10.m1.12.13.3.1">subscript</csymbol><sum id="alg3.l10.m1.12.13.3.1.2.2.cmml" xref="alg3.l10.m1.12.13.3.1.2.2"></sum><apply id="alg3.l10.m1.12.13.3.1.2.3.cmml" xref="alg3.l10.m1.12.13.3.1.2.3"><eq id="alg3.l10.m1.12.13.3.1.2.3.1.cmml" xref="alg3.l10.m1.12.13.3.1.2.3.1"></eq><ci id="alg3.l10.m1.12.13.3.1.2.3.2.cmml" xref="alg3.l10.m1.12.13.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg3.l10.m1.12.13.3.1.2.3.3.cmml" xref="alg3.l10.m1.12.13.3.1.2.3.3">1</cn></apply></apply><ci id="alg3.l10.m1.12.13.3.1.3.cmml" xref="alg3.l10.m1.12.13.3.1.3">𝐾</ci></apply><apply id="alg3.l10.m1.12.13.3.2.cmml" xref="alg3.l10.m1.12.13.3.2"><times id="alg3.l10.m1.12.13.3.2.1.cmml" xref="alg3.l10.m1.12.13.3.2.1"></times><apply id="alg3.l10.m1.8.8.cmml" xref="alg3.l10.m1.8.8"><divide id="alg3.l10.m1.8.8.5.cmml" xref="alg3.l10.m1.8.8"></divide><apply id="alg3.l10.m1.8.8.4.cmml" xref="alg3.l10.m1.8.8.4"><csymbol cd="ambiguous" id="alg3.l10.m1.8.8.4.5.cmml" xref="alg3.l10.m1.8.8.4">superscript</csymbol><apply id="alg3.l10.m1.8.8.4.6.cmml" xref="alg3.l10.m1.8.8.4"><csymbol cd="ambiguous" id="alg3.l10.m1.8.8.4.6.1.cmml" xref="alg3.l10.m1.8.8.4">subscript</csymbol><ci id="alg3.l10.m1.8.8.4.6.2.cmml" xref="alg3.l10.m1.8.8.4.6.2">𝑣</ci><list id="alg3.l10.m1.6.6.2.2.2.3.cmml" xref="alg3.l10.m1.6.6.2.2.2.4"><ci id="alg3.l10.m1.5.5.1.1.1.1.cmml" xref="alg3.l10.m1.5.5.1.1.1.1">𝑘</ci><ci id="alg3.l10.m1.6.6.2.2.2.2.cmml" xref="alg3.l10.m1.6.6.2.2.2.2">𝑡</ci></list></apply><apply id="alg3.l10.m1.8.8.4.4.2.cmml" xref="alg3.l10.m1.8.8.4.4.2"><neq id="alg3.l10.m1.8.8.4.4.2.3.cmml" xref="alg3.l10.m1.8.8.4.4.2.3"></neq><ci id="alg3.l10.m1.8.8.4.4.2.4.cmml" xref="alg3.l10.m1.8.8.4.4.2.4">𝑙</ci><list id="alg3.l10.m1.8.8.4.4.2.5.1.cmml" xref="alg3.l10.m1.8.8.4.4.2.5.2"><ci id="alg3.l10.m1.7.7.3.3.1.1.cmml" xref="alg3.l10.m1.7.7.3.3.1.1">𝐿</ci><ci id="alg3.l10.m1.8.8.4.4.2.2.cmml" xref="alg3.l10.m1.8.8.4.4.2.2">𝑐</ci></list></apply></apply><apply id="alg3.l10.m1.8.8.6.cmml" xref="alg3.l10.m1.8.8.6"><csymbol cd="ambiguous" id="alg3.l10.m1.8.8.6.1.cmml" xref="alg3.l10.m1.8.8.6">superscript</csymbol><ci id="alg3.l10.m1.8.8.6.2.cmml" xref="alg3.l10.m1.8.8.6.2">𝑣</ci><ci id="alg3.l10.m1.8.8.6.3.cmml" xref="alg3.l10.m1.8.8.6.3">𝑐</ci></apply></apply><apply id="alg3.l10.m1.12.13.3.2.2.cmml" xref="alg3.l10.m1.12.13.3.2.2"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.3.2.2.1.cmml" xref="alg3.l10.m1.12.13.3.2.2">superscript</csymbol><apply id="alg3.l10.m1.12.13.3.2.2.2.cmml" xref="alg3.l10.m1.12.13.3.2.2"><csymbol cd="ambiguous" id="alg3.l10.m1.12.13.3.2.2.2.1.cmml" xref="alg3.l10.m1.12.13.3.2.2">subscript</csymbol><ci id="alg3.l10.m1.12.13.3.2.2.2.2.cmml" xref="alg3.l10.m1.12.13.3.2.2.2.2">𝑤</ci><list id="alg3.l10.m1.10.10.2.3.cmml" xref="alg3.l10.m1.10.10.2.4"><ci id="alg3.l10.m1.9.9.1.1.cmml" xref="alg3.l10.m1.9.9.1.1">𝑘</ci><ci id="alg3.l10.m1.10.10.2.2.cmml" xref="alg3.l10.m1.10.10.2.2">𝑡</ci></list></apply><apply id="alg3.l10.m1.12.12.2.cmml" xref="alg3.l10.m1.12.12.2"><neq id="alg3.l10.m1.12.12.2.3.cmml" xref="alg3.l10.m1.12.12.2.3"></neq><ci id="alg3.l10.m1.12.12.2.4.cmml" xref="alg3.l10.m1.12.12.2.4">𝑙</ci><list id="alg3.l10.m1.12.12.2.5.1.cmml" xref="alg3.l10.m1.12.12.2.5.2"><ci id="alg3.l10.m1.11.11.1.1.cmml" xref="alg3.l10.m1.11.11.1.1">𝐿</ci><ci id="alg3.l10.m1.12.12.2.2.cmml" xref="alg3.l10.m1.12.12.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l10.m1.12c">w_{s,t+1}^{l\neq L,c}=\sum_{k=1}^{K}\frac{v_{k,t}^{l\neq L,c}}{v^{c}}w_{k,t}^{l\neq L,c}</annotation></semantics></math>

</div>
<div id="alg3.l11" class="ltx_listingline">     <span id="alg3.l11.1" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg3.l12" class="ltx_listingline">        <span id="alg3.l12.1" class="ltx_text ltx_font_bold">for</span> each node <math id="alg3.l12.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="alg3.l12.m1.1a"><mi id="alg3.l12.m1.1.1" xref="alg3.l12.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="alg3.l12.m1.1b"><ci id="alg3.l12.m1.1.1.cmml" xref="alg3.l12.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m1.1c">c</annotation></semantics></math> in the layer <math id="alg3.l12.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg3.l12.m2.1a"><mi id="alg3.l12.m2.1.1" xref="alg3.l12.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg3.l12.m2.1b"><ci id="alg3.l12.m2.1.1.cmml" xref="alg3.l12.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m2.1c">L</annotation></semantics></math> from <math id="alg3.l12.m3.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg3.l12.m3.1a"><mn id="alg3.l12.m3.1.1" xref="alg3.l12.m3.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg3.l12.m3.1b"><cn type="integer" id="alg3.l12.m3.1.1.cmml" xref="alg3.l12.m3.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m3.1c">1</annotation></semantics></math> to <math id="alg3.l12.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="alg3.l12.m4.1a"><mi id="alg3.l12.m4.1.1" xref="alg3.l12.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="alg3.l12.m4.1b"><ci id="alg3.l12.m4.1.1.cmml" xref="alg3.l12.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m4.1c">C</annotation></semantics></math> <span id="alg3.l12.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg3.l13" class="ltx_listingline">           <math id="alg3.l13.m1.8" class="ltx_Math" alttext="w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}" display="inline"><semantics id="alg3.l13.m1.8a"><mrow id="alg3.l13.m1.8.9" xref="alg3.l13.m1.8.9.cmml"><msubsup id="alg3.l13.m1.8.9.2" xref="alg3.l13.m1.8.9.2.cmml"><mi id="alg3.l13.m1.8.9.2.2.2" xref="alg3.l13.m1.8.9.2.2.2.cmml">w</mi><mrow id="alg3.l13.m1.2.2.2.2" xref="alg3.l13.m1.2.2.2.3.cmml"><mi id="alg3.l13.m1.1.1.1.1" xref="alg3.l13.m1.1.1.1.1.cmml">s</mi><mo id="alg3.l13.m1.2.2.2.2.2" xref="alg3.l13.m1.2.2.2.3.cmml">,</mo><mrow id="alg3.l13.m1.2.2.2.2.1" xref="alg3.l13.m1.2.2.2.2.1.cmml"><mi id="alg3.l13.m1.2.2.2.2.1.2" xref="alg3.l13.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg3.l13.m1.2.2.2.2.1.1" xref="alg3.l13.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg3.l13.m1.2.2.2.2.1.3" xref="alg3.l13.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow><mrow id="alg3.l13.m1.4.4.2" xref="alg3.l13.m1.4.4.2.cmml"><mi id="alg3.l13.m1.4.4.2.4" xref="alg3.l13.m1.4.4.2.4.cmml">l</mi><mo id="alg3.l13.m1.4.4.2.3" xref="alg3.l13.m1.4.4.2.3.cmml">=</mo><mrow id="alg3.l13.m1.4.4.2.5.2" xref="alg3.l13.m1.4.4.2.5.1.cmml"><mi id="alg3.l13.m1.3.3.1.1" xref="alg3.l13.m1.3.3.1.1.cmml">L</mi><mo id="alg3.l13.m1.4.4.2.5.2.1" xref="alg3.l13.m1.4.4.2.5.1.cmml">,</mo><mi id="alg3.l13.m1.4.4.2.2" xref="alg3.l13.m1.4.4.2.2.cmml">c</mi></mrow></mrow></msubsup><mo rspace="0.111em" id="alg3.l13.m1.8.9.1" xref="alg3.l13.m1.8.9.1.cmml">=</mo><mrow id="alg3.l13.m1.8.9.3" xref="alg3.l13.m1.8.9.3.cmml"><msubsup id="alg3.l13.m1.8.9.3.1" xref="alg3.l13.m1.8.9.3.1.cmml"><mo id="alg3.l13.m1.8.9.3.1.2.2" xref="alg3.l13.m1.8.9.3.1.2.2.cmml">∑</mo><mrow id="alg3.l13.m1.8.9.3.1.2.3" xref="alg3.l13.m1.8.9.3.1.2.3.cmml"><mi id="alg3.l13.m1.8.9.3.1.2.3.2" xref="alg3.l13.m1.8.9.3.1.2.3.2.cmml">k</mi><mo id="alg3.l13.m1.8.9.3.1.2.3.1" xref="alg3.l13.m1.8.9.3.1.2.3.1.cmml">=</mo><mn id="alg3.l13.m1.8.9.3.1.2.3.3" xref="alg3.l13.m1.8.9.3.1.2.3.3.cmml">1</mn></mrow><mi id="alg3.l13.m1.8.9.3.1.3" xref="alg3.l13.m1.8.9.3.1.3.cmml">K</mi></msubsup><mrow id="alg3.l13.m1.8.9.3.2" xref="alg3.l13.m1.8.9.3.2.cmml"><mfrac id="alg3.l13.m1.8.9.3.2.2" xref="alg3.l13.m1.8.9.3.2.2.cmml"><msubsup id="alg3.l13.m1.8.9.3.2.2.2" xref="alg3.l13.m1.8.9.3.2.2.2.cmml"><mi id="alg3.l13.m1.8.9.3.2.2.2.2.2" xref="alg3.l13.m1.8.9.3.2.2.2.2.2.cmml">n</mi><mi id="alg3.l13.m1.8.9.3.2.2.2.2.3" xref="alg3.l13.m1.8.9.3.2.2.2.2.3.cmml">k</mi><mi id="alg3.l13.m1.8.9.3.2.2.2.3" xref="alg3.l13.m1.8.9.3.2.2.2.3.cmml">c</mi></msubsup><msup id="alg3.l13.m1.8.9.3.2.2.3" xref="alg3.l13.m1.8.9.3.2.2.3.cmml"><mi id="alg3.l13.m1.8.9.3.2.2.3.2" xref="alg3.l13.m1.8.9.3.2.2.3.2.cmml">n</mi><mi id="alg3.l13.m1.8.9.3.2.2.3.3" xref="alg3.l13.m1.8.9.3.2.2.3.3.cmml">c</mi></msup></mfrac><mo lspace="0em" rspace="0em" id="alg3.l13.m1.8.9.3.2.1" xref="alg3.l13.m1.8.9.3.2.1.cmml">​</mo><msubsup id="alg3.l13.m1.8.9.3.2.3" xref="alg3.l13.m1.8.9.3.2.3.cmml"><mi id="alg3.l13.m1.8.9.3.2.3.2.2" xref="alg3.l13.m1.8.9.3.2.3.2.2.cmml">w</mi><mrow id="alg3.l13.m1.6.6.2.4" xref="alg3.l13.m1.6.6.2.3.cmml"><mi id="alg3.l13.m1.5.5.1.1" xref="alg3.l13.m1.5.5.1.1.cmml">k</mi><mo id="alg3.l13.m1.6.6.2.4.1" xref="alg3.l13.m1.6.6.2.3.cmml">,</mo><mi id="alg3.l13.m1.6.6.2.2" xref="alg3.l13.m1.6.6.2.2.cmml">t</mi></mrow><mrow id="alg3.l13.m1.8.8.2" xref="alg3.l13.m1.8.8.2.cmml"><mi id="alg3.l13.m1.8.8.2.4" xref="alg3.l13.m1.8.8.2.4.cmml">l</mi><mo id="alg3.l13.m1.8.8.2.3" xref="alg3.l13.m1.8.8.2.3.cmml">=</mo><mrow id="alg3.l13.m1.8.8.2.5.2" xref="alg3.l13.m1.8.8.2.5.1.cmml"><mi id="alg3.l13.m1.7.7.1.1" xref="alg3.l13.m1.7.7.1.1.cmml">L</mi><mo id="alg3.l13.m1.8.8.2.5.2.1" xref="alg3.l13.m1.8.8.2.5.1.cmml">,</mo><mi id="alg3.l13.m1.8.8.2.2" xref="alg3.l13.m1.8.8.2.2.cmml">c</mi></mrow></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l13.m1.8b"><apply id="alg3.l13.m1.8.9.cmml" xref="alg3.l13.m1.8.9"><eq id="alg3.l13.m1.8.9.1.cmml" xref="alg3.l13.m1.8.9.1"></eq><apply id="alg3.l13.m1.8.9.2.cmml" xref="alg3.l13.m1.8.9.2"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.2.1.cmml" xref="alg3.l13.m1.8.9.2">superscript</csymbol><apply id="alg3.l13.m1.8.9.2.2.cmml" xref="alg3.l13.m1.8.9.2"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.2.2.1.cmml" xref="alg3.l13.m1.8.9.2">subscript</csymbol><ci id="alg3.l13.m1.8.9.2.2.2.cmml" xref="alg3.l13.m1.8.9.2.2.2">𝑤</ci><list id="alg3.l13.m1.2.2.2.3.cmml" xref="alg3.l13.m1.2.2.2.2"><ci id="alg3.l13.m1.1.1.1.1.cmml" xref="alg3.l13.m1.1.1.1.1">𝑠</ci><apply id="alg3.l13.m1.2.2.2.2.1.cmml" xref="alg3.l13.m1.2.2.2.2.1"><plus id="alg3.l13.m1.2.2.2.2.1.1.cmml" xref="alg3.l13.m1.2.2.2.2.1.1"></plus><ci id="alg3.l13.m1.2.2.2.2.1.2.cmml" xref="alg3.l13.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg3.l13.m1.2.2.2.2.1.3.cmml" xref="alg3.l13.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg3.l13.m1.4.4.2.cmml" xref="alg3.l13.m1.4.4.2"><eq id="alg3.l13.m1.4.4.2.3.cmml" xref="alg3.l13.m1.4.4.2.3"></eq><ci id="alg3.l13.m1.4.4.2.4.cmml" xref="alg3.l13.m1.4.4.2.4">𝑙</ci><list id="alg3.l13.m1.4.4.2.5.1.cmml" xref="alg3.l13.m1.4.4.2.5.2"><ci id="alg3.l13.m1.3.3.1.1.cmml" xref="alg3.l13.m1.3.3.1.1">𝐿</ci><ci id="alg3.l13.m1.4.4.2.2.cmml" xref="alg3.l13.m1.4.4.2.2">𝑐</ci></list></apply></apply><apply id="alg3.l13.m1.8.9.3.cmml" xref="alg3.l13.m1.8.9.3"><apply id="alg3.l13.m1.8.9.3.1.cmml" xref="alg3.l13.m1.8.9.3.1"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.1.1.cmml" xref="alg3.l13.m1.8.9.3.1">superscript</csymbol><apply id="alg3.l13.m1.8.9.3.1.2.cmml" xref="alg3.l13.m1.8.9.3.1"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.1.2.1.cmml" xref="alg3.l13.m1.8.9.3.1">subscript</csymbol><sum id="alg3.l13.m1.8.9.3.1.2.2.cmml" xref="alg3.l13.m1.8.9.3.1.2.2"></sum><apply id="alg3.l13.m1.8.9.3.1.2.3.cmml" xref="alg3.l13.m1.8.9.3.1.2.3"><eq id="alg3.l13.m1.8.9.3.1.2.3.1.cmml" xref="alg3.l13.m1.8.9.3.1.2.3.1"></eq><ci id="alg3.l13.m1.8.9.3.1.2.3.2.cmml" xref="alg3.l13.m1.8.9.3.1.2.3.2">𝑘</ci><cn type="integer" id="alg3.l13.m1.8.9.3.1.2.3.3.cmml" xref="alg3.l13.m1.8.9.3.1.2.3.3">1</cn></apply></apply><ci id="alg3.l13.m1.8.9.3.1.3.cmml" xref="alg3.l13.m1.8.9.3.1.3">𝐾</ci></apply><apply id="alg3.l13.m1.8.9.3.2.cmml" xref="alg3.l13.m1.8.9.3.2"><times id="alg3.l13.m1.8.9.3.2.1.cmml" xref="alg3.l13.m1.8.9.3.2.1"></times><apply id="alg3.l13.m1.8.9.3.2.2.cmml" xref="alg3.l13.m1.8.9.3.2.2"><divide id="alg3.l13.m1.8.9.3.2.2.1.cmml" xref="alg3.l13.m1.8.9.3.2.2"></divide><apply id="alg3.l13.m1.8.9.3.2.2.2.cmml" xref="alg3.l13.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.2.2.2.1.cmml" xref="alg3.l13.m1.8.9.3.2.2.2">superscript</csymbol><apply id="alg3.l13.m1.8.9.3.2.2.2.2.cmml" xref="alg3.l13.m1.8.9.3.2.2.2"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.2.2.2.2.1.cmml" xref="alg3.l13.m1.8.9.3.2.2.2">subscript</csymbol><ci id="alg3.l13.m1.8.9.3.2.2.2.2.2.cmml" xref="alg3.l13.m1.8.9.3.2.2.2.2.2">𝑛</ci><ci id="alg3.l13.m1.8.9.3.2.2.2.2.3.cmml" xref="alg3.l13.m1.8.9.3.2.2.2.2.3">𝑘</ci></apply><ci id="alg3.l13.m1.8.9.3.2.2.2.3.cmml" xref="alg3.l13.m1.8.9.3.2.2.2.3">𝑐</ci></apply><apply id="alg3.l13.m1.8.9.3.2.2.3.cmml" xref="alg3.l13.m1.8.9.3.2.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.2.2.3.1.cmml" xref="alg3.l13.m1.8.9.3.2.2.3">superscript</csymbol><ci id="alg3.l13.m1.8.9.3.2.2.3.2.cmml" xref="alg3.l13.m1.8.9.3.2.2.3.2">𝑛</ci><ci id="alg3.l13.m1.8.9.3.2.2.3.3.cmml" xref="alg3.l13.m1.8.9.3.2.2.3.3">𝑐</ci></apply></apply><apply id="alg3.l13.m1.8.9.3.2.3.cmml" xref="alg3.l13.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.2.3.1.cmml" xref="alg3.l13.m1.8.9.3.2.3">superscript</csymbol><apply id="alg3.l13.m1.8.9.3.2.3.2.cmml" xref="alg3.l13.m1.8.9.3.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.8.9.3.2.3.2.1.cmml" xref="alg3.l13.m1.8.9.3.2.3">subscript</csymbol><ci id="alg3.l13.m1.8.9.3.2.3.2.2.cmml" xref="alg3.l13.m1.8.9.3.2.3.2.2">𝑤</ci><list id="alg3.l13.m1.6.6.2.3.cmml" xref="alg3.l13.m1.6.6.2.4"><ci id="alg3.l13.m1.5.5.1.1.cmml" xref="alg3.l13.m1.5.5.1.1">𝑘</ci><ci id="alg3.l13.m1.6.6.2.2.cmml" xref="alg3.l13.m1.6.6.2.2">𝑡</ci></list></apply><apply id="alg3.l13.m1.8.8.2.cmml" xref="alg3.l13.m1.8.8.2"><eq id="alg3.l13.m1.8.8.2.3.cmml" xref="alg3.l13.m1.8.8.2.3"></eq><ci id="alg3.l13.m1.8.8.2.4.cmml" xref="alg3.l13.m1.8.8.2.4">𝑙</ci><list id="alg3.l13.m1.8.8.2.5.1.cmml" xref="alg3.l13.m1.8.8.2.5.2"><ci id="alg3.l13.m1.7.7.1.1.cmml" xref="alg3.l13.m1.7.7.1.1">𝐿</ci><ci id="alg3.l13.m1.8.8.2.2.cmml" xref="alg3.l13.m1.8.8.2.2">𝑐</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l13.m1.8c">w_{s,t+1}^{l=L,c}=\sum_{k=1}^{K}\frac{n_{k}^{c}}{n^{c}}w_{k,t}^{l=L,c}</annotation></semantics></math>

</div>
<div id="alg3.l14" class="ltx_listingline">        <span id="alg3.l14.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l14.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l15" class="ltx_listingline">     <span id="alg3.l15.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l15.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg3.l16" class="ltx_listingline">  <span id="alg3.l16.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l16.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l17" class="ltx_listingline">  ……

</div>
</div>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we present the empirical study of FedNS and comprehensively evaluate it. We compare FedNS with FedAvg and FedAvg+lastFC in two aspects: one is the final global model’s performance and the other is every communication round’s performance. The first one shows the model’s performance after FL reaches the target communication rounds. And the second one shows which method is in a leading position during the FL process, which is also an important factor for real applications (e.g., whether a mobile client can still have good performance in a long process of incremental learning).</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.6" class="ltx_p">To do the case study of collaborative image classification on mobile clients, we select three image classification datasets. Different from aforementioned methods that used simple MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> dataset, we replace it with a more challenging dataset: FashionMNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. The other two datasets we select are CIFAR10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> and tinyImageNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. Both FashionMNIST and CIFAR10 have 10 classes. FashionMNIST has <math id="S4.SS1.p1.1.m1.2" class="ltx_Math" alttext="6,000" display="inline"><semantics id="S4.SS1.p1.1.m1.2a"><mrow id="S4.SS1.p1.1.m1.2.3.2" xref="S4.SS1.p1.1.m1.2.3.1.cmml"><mn id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">6</mn><mo id="S4.SS1.p1.1.m1.2.3.2.1" xref="S4.SS1.p1.1.m1.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.1.m1.2.2" xref="S4.SS1.p1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.2b"><list id="S4.SS1.p1.1.m1.2.3.1.cmml" xref="S4.SS1.p1.1.m1.2.3.2"><cn type="integer" id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">6</cn><cn type="integer" id="S4.SS1.p1.1.m1.2.2.cmml" xref="S4.SS1.p1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.2c">6,000</annotation></semantics></math> training and <math id="S4.SS1.p1.2.m2.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S4.SS1.p1.2.m2.2a"><mrow id="S4.SS1.p1.2.m2.2.3.2" xref="S4.SS1.p1.2.m2.2.3.1.cmml"><mn id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml">1</mn><mo id="S4.SS1.p1.2.m2.2.3.2.1" xref="S4.SS1.p1.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.2.m2.2.2" xref="S4.SS1.p1.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.2b"><list id="S4.SS1.p1.2.m2.2.3.1.cmml" xref="S4.SS1.p1.2.m2.2.3.2"><cn type="integer" id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">1</cn><cn type="integer" id="S4.SS1.p1.2.m2.2.2.cmml" xref="S4.SS1.p1.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.2c">1,000</annotation></semantics></math> testing images for each class. CIFAR10 has <math id="S4.SS1.p1.3.m3.2" class="ltx_Math" alttext="5,000" display="inline"><semantics id="S4.SS1.p1.3.m3.2a"><mrow id="S4.SS1.p1.3.m3.2.3.2" xref="S4.SS1.p1.3.m3.2.3.1.cmml"><mn id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml">5</mn><mo id="S4.SS1.p1.3.m3.2.3.2.1" xref="S4.SS1.p1.3.m3.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.3.m3.2.2" xref="S4.SS1.p1.3.m3.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.2b"><list id="S4.SS1.p1.3.m3.2.3.1.cmml" xref="S4.SS1.p1.3.m3.2.3.2"><cn type="integer" id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">5</cn><cn type="integer" id="S4.SS1.p1.3.m3.2.2.cmml" xref="S4.SS1.p1.3.m3.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.2c">5,000</annotation></semantics></math> training and <math id="S4.SS1.p1.4.m4.2" class="ltx_Math" alttext="1,000" display="inline"><semantics id="S4.SS1.p1.4.m4.2a"><mrow id="S4.SS1.p1.4.m4.2.3.2" xref="S4.SS1.p1.4.m4.2.3.1.cmml"><mn id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml">1</mn><mo id="S4.SS1.p1.4.m4.2.3.2.1" xref="S4.SS1.p1.4.m4.2.3.1.cmml">,</mo><mn id="S4.SS1.p1.4.m4.2.2" xref="S4.SS1.p1.4.m4.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.2b"><list id="S4.SS1.p1.4.m4.2.3.1.cmml" xref="S4.SS1.p1.4.m4.2.3.2"><cn type="integer" id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">1</cn><cn type="integer" id="S4.SS1.p1.4.m4.2.2.cmml" xref="S4.SS1.p1.4.m4.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.2c">1,000</annotation></semantics></math> testing images for each class. TinyImageNet is a selective subset of ImageNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> and consist of 200 classes’ images. It has <math id="S4.SS1.p1.5.m5.1" class="ltx_Math" alttext="500" display="inline"><semantics id="S4.SS1.p1.5.m5.1a"><mn id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml">500</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><cn type="integer" id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">500</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">500</annotation></semantics></math> training and <math id="S4.SS1.p1.6.m6.1" class="ltx_Math" alttext="50" display="inline"><semantics id="S4.SS1.p1.6.m6.1a"><mn id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.1b"><cn type="integer" id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.1c">50</annotation></semantics></math> testing images for each class.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Networks</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.4" class="ltx_p">We use CNN models of different complex levels for the datasets. For the FashionMNIST dataset, we use a simple CNN model that has 2 convolutional layers and 3 fully connected layers. The first <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="5\times 5" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">×</mo><mn id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><times id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1"></times><cn type="integer" id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">5</cn><cn type="integer" id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">5\times 5</annotation></semantics></math> convolutional layer has 32 channels. The second <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="5\times 5" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mn id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">×</mo><mn id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><times id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></times><cn type="integer" id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">5</cn><cn type="integer" id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">5\times 5</annotation></semantics></math> convolutional layer has 64 channels. Both of them are followed with <math id="S4.SS2.p1.3.m3.1" class="ltx_Math" alttext="2\times 2" display="inline"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mn id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS2.p1.3.m3.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.cmml">×</mo><mn id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><times id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1"></times><cn type="integer" id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2">2</cn><cn type="integer" id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">2\times 2</annotation></semantics></math> ReLU activation and <math id="S4.SS2.p1.4.m4.1" class="ltx_Math" alttext="2\times 2" display="inline"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mn id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">×</mo><mn id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><times id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></times><cn type="integer" id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">2</cn><cn type="integer" id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">2\times 2</annotation></semantics></math> max pooling. The 3 FC layers have 1024, 256 and 10 nodes respectively. All of them are followed by ReLU activation. For the CIFAR10 dataset, we use the AlexNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. For the tinyImageNet dataset, we use the ResNet18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Simulation Settings</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Unlike some existing works that employed a simplistic settings of each client having a fixed set of images throughout the entire training process, we allow each client to randomly choose a subset of images as local data in every communication round according to the iid or non-iid conditions. So the experiment setting is closer to real-world scenarios where mobile clients receive dynamically changing data. Specifically, for FashionMNIST, each client randomly chooses 5 images per class in the iid condition and 1-10 images per class in the non-iid condition; for CIFAR10, each client randomly chooses 50 images per class in the iid condition and 1-100 images per class in the non-iid condition; for tinyImageNet, each client randomly chooses 5 images per class in the iid condition and 1-10 images per class in the non-iid condition.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.7" class="ltx_p">For other algorithmic parameters, we follow the same settings in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. We fix the learning rate <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\eta</annotation></semantics></math> as <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="1e-2" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mrow id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mrow id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml"><mn id="S4.SS3.p2.2.m2.1.1.2.2" xref="S4.SS3.p2.2.m2.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.SS3.p2.2.m2.1.1.2.1" xref="S4.SS3.p2.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.SS3.p2.2.m2.1.1.2.3" xref="S4.SS3.p2.2.m2.1.1.2.3.cmml">e</mi></mrow><mo id="S4.SS3.p2.2.m2.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.cmml">−</mo><mn id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><minus id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1"></minus><apply id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2"><times id="S4.SS3.p2.2.m2.1.1.2.1.cmml" xref="S4.SS3.p2.2.m2.1.1.2.1"></times><cn type="integer" id="S4.SS3.p2.2.m2.1.1.2.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2.2">1</cn><ci id="S4.SS3.p2.2.m2.1.1.2.3.cmml" xref="S4.SS3.p2.2.m2.1.1.2.3">𝑒</ci></apply><cn type="integer" id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">1e-2</annotation></semantics></math>. And we set communication round (day) <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="N=50" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><mrow id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">N</mi><mo id="S4.SS3.p2.3.m3.1.1.1" xref="S4.SS3.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><eq id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1.1"></eq><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝑁</ci><cn type="integer" id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">N=50</annotation></semantics></math>, local epoch <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="E=5" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><mrow id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1.2" xref="S4.SS3.p2.4.m4.1.1.2.cmml">E</mi><mo id="S4.SS3.p2.4.m4.1.1.1" xref="S4.SS3.p2.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><eq id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1"></eq><ci id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.2">𝐸</ci><cn type="integer" id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">E=5</annotation></semantics></math>, local batch size <math id="S4.SS3.p2.5.m5.1" class="ltx_Math" alttext="B=10" display="inline"><semantics id="S4.SS3.p2.5.m5.1a"><mrow id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><mi id="S4.SS3.p2.5.m5.1.1.2" xref="S4.SS3.p2.5.m5.1.1.2.cmml">B</mi><mo id="S4.SS3.p2.5.m5.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.5.m5.1.1.3" xref="S4.SS3.p2.5.m5.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><eq id="S4.SS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1"></eq><ci id="S4.SS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2">𝐵</ci><cn type="integer" id="S4.SS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">B=10</annotation></semantics></math> and the communicated client number <math id="S4.SS3.p2.6.m6.1" class="ltx_Math" alttext="K=10" display="inline"><semantics id="S4.SS3.p2.6.m6.1a"><mrow id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml"><mi id="S4.SS3.p2.6.m6.1.1.2" xref="S4.SS3.p2.6.m6.1.1.2.cmml">K</mi><mo id="S4.SS3.p2.6.m6.1.1.1" xref="S4.SS3.p2.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.6.m6.1.1.3" xref="S4.SS3.p2.6.m6.1.1.3.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><apply id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1"><eq id="S4.SS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1.1"></eq><ci id="S4.SS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2">𝐾</ci><cn type="integer" id="S4.SS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.p2.6.m6.1.1.3">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">K=10</annotation></semantics></math>, which means server could randomly communicate with <math id="S4.SS3.p2.7.m7.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S4.SS3.p2.7.m7.1a"><mn id="S4.SS3.p2.7.m7.1.1" xref="S4.SS3.p2.7.m7.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m7.1b"><cn type="integer" id="S4.SS3.p2.7.m7.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">10</annotation></semantics></math> clients in every communication round.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Evaluation</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">For FashionMNIST and CIFAR10, we use accuracy, macro precision, macro recall and macro F-Score to evaluate the models. For tinyImageNet, we use top-1 accuracy and top-5 accuracy to evaluate the models. To visualize the performance difference in every communication round, we plot the differential performance numbers (against the FedAvg baseline). Because of the similar trend of accuracy and macro recall, we omit the macro recall numbers due to space limitation.</p>
</div>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Results</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">For each dataset and approach, we repeat the experiment ten times and report the averaged results. It is worth noting that FedAvg+lastFC and FedAvg are the same in the iid condition, and thus we only compare FedNS with FedAvg in this case. Figure <a href="#S4.F1" title="Figure 1 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and Table <a href="#S4.T1" title="Table 1 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> show the results of FashionMNIST with 5-layer CNN. Figure <a href="#S4.F2" title="Figure 2 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and Table <a href="#S4.T2" title="Table 2 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> show the results of CIFAR10 with AlexNet. Figure <a href="#S4.F3" title="Figure 3 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and Table <a href="#S4.T3" title="Table 3 ‣ 4.5 Results ‣ 4 Experiments ‣ FedNS: Improving Federated Learning for collaborative image classification on mobile clients" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> show the results of tinyImageNet with ResNet18. The tables show the final global model’s performance and figures show the progressive performance differences for the methods in each communication round. From the figures and tables, we observe that overall FedNS outperforms the other two methods, especially in the non-iid conditions.
Please refer to the supplemental materials for higher-resolution versions of the plots.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.2.1.1" class="ltx_text ltx_font_bold">Table 1</span>: </span>The final performance comparison in FashionMNIST dataset with 5-layer CNN in iid and no-idd conditions</figcaption>
<div id="S4.T1.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:244.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(74.9pt,-42.3pt) scale(1.52832347211323,1.52832347211323) ;">
<table id="S4.T1.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.3.1.1.1" class="ltx_tr">
<th id="S4.T1.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T1.3.1.1.1.1.1" class="ltx_text">
<span id="S4.T1.3.1.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T1.3.1.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T1.3.1.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">Fashion</span></span>
<span id="S4.T1.3.1.1.1.1.1.1.2" class="ltx_tr">
<span id="S4.T1.3.1.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">MNIST</span></span>
</span></span></th>
<th id="S4.T1.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">iid</th>
<th id="S4.T1.3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="3">non-iid</th>
</tr>
<tr id="S4.T1.3.1.2.2" class="ltx_tr">
<td id="S4.T1.3.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T1.3.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
<td id="S4.T1.3.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T1.3.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<table id="S4.T1.3.1.2.2.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.3.1.2.2.4.1.1" class="ltx_tr">
<td id="S4.T1.3.1.2.2.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">FedAvg</td>
</tr>
<tr id="S4.T1.3.1.2.2.4.1.2" class="ltx_tr">
<td id="S4.T1.3.1.2.2.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">+lastFC</td>
</tr>
</table>
</td>
<td id="S4.T1.3.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
</tr>
<tr id="S4.T1.3.1.3.3" class="ltx_tr">
<td id="S4.T1.3.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">accuracy</td>
<td id="S4.T1.3.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.53</td>
<td id="S4.T1.3.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.3.1.3.3.3.1" class="ltx_text ltx_font_bold">83.79</span></td>
<td id="S4.T1.3.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">82.96</td>
<td id="S4.T1.3.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.50</td>
<td id="S4.T1.3.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.3.1.3.3.6.1" class="ltx_text ltx_font_bold">83.56</span></td>
</tr>
<tr id="S4.T1.3.1.4.4" class="ltx_tr">
<td id="S4.T1.3.1.4.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T1.3.1.4.4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.3.1.4.4.1.1.1" class="ltx_tr">
<td id="S4.T1.3.1.4.4.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">macro</td>
</tr>
<tr id="S4.T1.3.1.4.4.1.1.2" class="ltx_tr">
<td id="S4.T1.3.1.4.4.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">precision</td>
</tr>
</table>
</td>
<td id="S4.T1.3.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.834</td>
<td id="S4.T1.3.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.3.1.4.4.3.1" class="ltx_text ltx_font_bold">0.838</span></td>
<td id="S4.T1.3.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.830</td>
<td id="S4.T1.3.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.837</td>
<td id="S4.T1.3.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.3.1.4.4.6.1" class="ltx_text ltx_font_bold">0.838</span></td>
</tr>
<tr id="S4.T1.3.1.5.5" class="ltx_tr">
<td id="S4.T1.3.1.5.5.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T1.3.1.5.5.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T1.3.1.5.5.1.1.1" class="ltx_tr">
<td id="S4.T1.3.1.5.5.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">macro</td>
</tr>
<tr id="S4.T1.3.1.5.5.1.1.2" class="ltx_tr">
<td id="S4.T1.3.1.5.5.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">F-Score</td>
</tr>
</table>
</td>
<td id="S4.T1.3.1.5.5.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.931</td>
<td id="S4.T1.3.1.5.5.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.3.1.5.5.3.1" class="ltx_text ltx_font_bold">0.936</span></td>
<td id="S4.T1.3.1.5.5.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.926</td>
<td id="S4.T1.3.1.5.5.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T1.3.1.5.5.5.1" class="ltx_text ltx_font_bold">0.933</span></td>
<td id="S4.T1.3.1.5.5.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.929</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.2.1.1" class="ltx_text ltx_font_bold">Table 2</span>: </span>The final performance comparison in CIFAR10 dataset with AlexNet in iid and non-iid condition</figcaption>
<div id="S4.T2.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:244.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(74.9pt,-42.3pt) scale(1.52832347211323,1.52832347211323) ;">
<table id="S4.T2.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T2.3.1.1.1" class="ltx_tr">
<th id="S4.T2.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T2.3.1.1.1.1.1" class="ltx_text">CIFAR10</span></th>
<th id="S4.T2.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">iid</th>
<th id="S4.T2.3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="3">non-iid</th>
</tr>
<tr id="S4.T2.3.1.2.2" class="ltx_tr">
<td id="S4.T2.3.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T2.3.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
<td id="S4.T2.3.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T2.3.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<table id="S4.T2.3.1.2.2.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.3.1.2.2.4.1.1" class="ltx_tr">
<td id="S4.T2.3.1.2.2.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">FedAvg</td>
</tr>
<tr id="S4.T2.3.1.2.2.4.1.2" class="ltx_tr">
<td id="S4.T2.3.1.2.2.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">+lastFC</td>
</tr>
</table>
</td>
<td id="S4.T2.3.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
</tr>
<tr id="S4.T2.3.1.3.3" class="ltx_tr">
<td id="S4.T2.3.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">accuracy</td>
<td id="S4.T2.3.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">66.09</td>
<td id="S4.T2.3.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.3.1.3.3.3.1" class="ltx_text ltx_font_bold">67.07</span></td>
<td id="S4.T2.3.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.86</td>
<td id="S4.T2.3.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.57</td>
<td id="S4.T2.3.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.3.1.3.3.6.1" class="ltx_text ltx_font_bold">67.55</span></td>
</tr>
<tr id="S4.T2.3.1.4.4" class="ltx_tr">
<td id="S4.T2.3.1.4.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T2.3.1.4.4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.3.1.4.4.1.1.1" class="ltx_tr">
<td id="S4.T2.3.1.4.4.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">macro</td>
</tr>
<tr id="S4.T2.3.1.4.4.1.1.2" class="ltx_tr">
<td id="S4.T2.3.1.4.4.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">precision</td>
</tr>
</table>
</td>
<td id="S4.T2.3.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.658</td>
<td id="S4.T2.3.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.3.1.4.4.3.1" class="ltx_text ltx_font_bold">0.668</span></td>
<td id="S4.T2.3.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.660</td>
<td id="S4.T2.3.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.658</td>
<td id="S4.T2.3.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.3.1.4.4.6.1" class="ltx_text ltx_font_bold">0.671</span></td>
</tr>
<tr id="S4.T2.3.1.5.5" class="ltx_tr">
<td id="S4.T2.3.1.5.5.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T2.3.1.5.5.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.3.1.5.5.1.1.1" class="ltx_tr">
<td id="S4.T2.3.1.5.5.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">macro</td>
</tr>
<tr id="S4.T2.3.1.5.5.1.1.2" class="ltx_tr">
<td id="S4.T2.3.1.5.5.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">F-Score</td>
</tr>
</table>
</td>
<td id="S4.T2.3.1.5.5.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.740</td>
<td id="S4.T2.3.1.5.5.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.3.1.5.5.3.1" class="ltx_text ltx_font_bold">0.745</span></td>
<td id="S4.T2.3.1.5.5.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.737</td>
<td id="S4.T2.3.1.5.5.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.737</td>
<td id="S4.T2.3.1.5.5.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.3.1.5.5.6.1" class="ltx_text ltx_font_bold">0.745</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.2.1.1" class="ltx_text ltx_font_bold">Table 3</span>: </span>The final performance comparison in tinyImageNet dataset with ResNet18 in iid and no-idd conditions</figcaption>
<div id="S4.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:214.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(73.0pt,-36.1pt) scale(1.50809538592986,1.50809538592986) ;">
<table id="S4.T3.3.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T3.3.1.1.1" class="ltx_tr">
<th id="S4.T3.3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S4.T3.3.1.1.1.1.1" class="ltx_text">
<span id="S4.T3.3.1.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S4.T3.3.1.1.1.1.1.1.1" class="ltx_tr">
<span id="S4.T3.3.1.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">tiny</span></span>
<span id="S4.T3.3.1.1.1.1.1.1.2" class="ltx_tr">
<span id="S4.T3.3.1.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">ImageNet</span></span>
</span></span></th>
<th id="S4.T3.3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">iid</th>
<th id="S4.T3.3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="3">non-iid</th>
</tr>
<tr id="S4.T3.3.1.2.2" class="ltx_tr">
<td id="S4.T3.3.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T3.3.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
<td id="S4.T3.3.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedAvg</td>
<td id="S4.T3.3.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<table id="S4.T3.3.1.2.2.4.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T3.3.1.2.2.4.1.1" class="ltx_tr">
<td id="S4.T3.3.1.2.2.4.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">FedAvg</td>
</tr>
<tr id="S4.T3.3.1.2.2.4.1.2" class="ltx_tr">
<td id="S4.T3.3.1.2.2.4.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">+lastFC</td>
</tr>
</table>
</td>
<td id="S4.T3.3.1.2.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FedNS</td>
</tr>
<tr id="S4.T3.3.1.3.3" class="ltx_tr">
<td id="S4.T3.3.1.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T3.3.1.3.3.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T3.3.1.3.3.1.1.1" class="ltx_tr">
<td id="S4.T3.3.1.3.3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">top-1</td>
</tr>
<tr id="S4.T3.3.1.3.3.1.1.2" class="ltx_tr">
<td id="S4.T3.3.1.3.3.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">accuracy</td>
</tr>
</table>
</td>
<td id="S4.T3.3.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18.99</td>
<td id="S4.T3.3.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.3.1.3.3.3.1" class="ltx_text ltx_font_bold">19.11</span></td>
<td id="S4.T3.3.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18.64</td>
<td id="S4.T3.3.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18.89</td>
<td id="S4.T3.3.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.3.1.3.3.6.1" class="ltx_text ltx_font_bold">18.91</span></td>
</tr>
<tr id="S4.T3.3.1.4.4" class="ltx_tr">
<td id="S4.T3.3.1.4.4.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<table id="S4.T3.3.1.4.4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T3.3.1.4.4.1.1.1" class="ltx_tr">
<td id="S4.T3.3.1.4.4.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">top-5</td>
</tr>
<tr id="S4.T3.3.1.4.4.1.1.2" class="ltx_tr">
<td id="S4.T3.3.1.4.4.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">accuracy</td>
</tr>
</table>
</td>
<td id="S4.T3.3.1.4.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">41.14</td>
<td id="S4.T3.3.1.4.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.3.1.4.4.3.1" class="ltx_text ltx_font_bold">41.39</span></td>
<td id="S4.T3.3.1.4.4.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">40.80</td>
<td id="S4.T3.3.1.4.4.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">40.86</td>
<td id="S4.T3.3.1.4.4.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T3.3.1.4.4.6.1" class="ltx_text ltx_font_bold">41.05</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.1.1" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.1.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x1.png" id="S4.F1.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.1.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.1.2.1" class="ltx_text">iid accuracy</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.2.1" class="ltx_p ltx_align_center"><span id="S4.F1.2.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x2.png" id="S4.F1.2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.2.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.2.2.1" class="ltx_text">non-iid accuracy</span></p>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.3" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.3.1" class="ltx_p ltx_align_center"><span id="S4.F1.3.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x3.png" id="S4.F1.3.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.3.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.3.2.1" class="ltx_text">iid macro precision</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.4" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.4.1" class="ltx_p ltx_align_center"><span id="S4.F1.4.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x4.png" id="S4.F1.4.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.4.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.4.2.1" class="ltx_text">non-iid macro precision</span></p>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.5" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.5.1" class="ltx_p ltx_align_center"><span id="S4.F1.5.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x5.png" id="S4.F1.5.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.5.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.5.2.1" class="ltx_text">iid macro F-Score</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F1.6" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F1.6.1" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.6.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x6.png" id="S4.F1.6.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F1.6.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F1.6.2.1" class="ltx_text">non-iid macro F-Score</span></p>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F1.8.1.1" class="ltx_text ltx_font_bold">Fig. 1</span>: </span>FashionMNIST iid and non-iid daily comparison</figcaption>
</figure>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.1.1" class="ltx_p ltx_align_center"><span id="S4.F2.1.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x7.png" id="S4.F2.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.1.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.1.2.1" class="ltx_text">iid accuracy</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.2.1" class="ltx_p ltx_align_center"><span id="S4.F2.2.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x8.png" id="S4.F2.2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.2.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.2.2.1" class="ltx_text">non-iid accuracy</span></p>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.3" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.3.1" class="ltx_p ltx_align_center"><span id="S4.F2.3.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x9.png" id="S4.F2.3.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.3.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.3.2.1" class="ltx_text">iid macro precision</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.4" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.4.1" class="ltx_p ltx_align_center"><span id="S4.F2.4.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x10.png" id="S4.F2.4.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.4.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.4.2.1" class="ltx_text">non-iid macro precision</span></p>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.5" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.5.1" class="ltx_p ltx_align_center"><span id="S4.F2.5.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x11.png" id="S4.F2.5.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.5.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.5.2.1" class="ltx_text">iid macro F-Score</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F2.6" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F2.6.1" class="ltx_p ltx_align_center"><span id="S4.F2.6.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x12.png" id="S4.F2.6.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F2.6.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F2.6.2.1" class="ltx_text">non-iid macro F-Score</span></p>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.8.1.1" class="ltx_text ltx_font_bold">Fig. 2</span>: </span>CIFAR10 iid and non-iid daily comparison</figcaption>
</figure>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F3.1.1" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F3.1.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x13.png" id="S4.F3.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F3.1.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F3.1.2.1" class="ltx_text">iid top-1 accuracy</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F3.2.1" class="ltx_p ltx_align_center"><span id="S4.F3.2.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x14.png" id="S4.F3.2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F3.2.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F3.2.2.1" class="ltx_text">non-iid top-1 accuracy</span></p>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.3" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F3.3.1" class="ltx_p ltx_align_center"><span id="S4.F3.3.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x15.png" id="S4.F3.3.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F3.3.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F3.3.2.1" class="ltx_text">iid top-5 accuracy</span></p>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.4" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_bottom" style="width:208.1pt;">
<p id="S4.F3.4.1" class="ltx_p ltx_align_center"><span id="S4.F3.4.1.1" class="ltx_text"><img src="/html/2101.07995/assets/x16.png" id="S4.F3.4.1.1.g1" class="ltx_graphics ltx_img_landscape" width="121" height="91" alt="Refer to caption"></span></p>
<p id="S4.F3.4.2" class="ltx_p ltx_align_center ltx_align_center"><span id="S4.F3.4.2.1" class="ltx_text">non-iid top-5 accuracy</span></p>
</div>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.6.1.1" class="ltx_text ltx_font_bold">Fig. 3</span>: </span>tinyImageNet iid and non-iid daily comparison</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion and Future Work</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We proposed FedNS as a new model aggregation method for FL. Without much modification to the FL framework, our method can be easily applied to applications like mobile image classification. Different from the traditional FL setting where each client has a fixed fraction of the data, our approach allows flexible and varying data availability, making it closer to the real-world scenario. Even under such challenging settings, experiments showed that FedNS improves upon the baselines, both during the process of learning and at the end of learning. One future direction may be to explore how to extend FedNS to handle extreme data distributions, such as when each client has distinct classes. In such cases, a more subtle question of comparing models learned from distinct classes needs to be addressed. </p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, et al.,

</span>
<span class="ltx_bibblock">“Communication-efficient learning of deep networks from
decentralized data,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Statistics</span>. PMLR, 2017, pp.
1273–1282.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Peng Xiao et al.,

</span>
<span class="ltx_bibblock">“Averaging is probably not the optimum way of aggregating parameters
in federated learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Entropy</span>, vol. 22, no. 3, pp. 314, 2020.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Luping Wang et al.,

</span>
<span class="ltx_bibblock">“Cmfl: Mitigating communication overhead for federated learning,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">2019 IEEE 39th International Conference on Distributed
Computing Systems (ICDCS)</span>. IEEE, 2019, pp. 954–964.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Hongyi Wang, Mikhail Yurochkin, Yuekai Sun, Dimitris Papailiopoulos, and
Yasaman Khazaeni,

</span>
<span class="ltx_bibblock">“Federated learning with matched averaging,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2020.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Peter Kairouz, Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi
Bennis, Arjun Bhagoji, Keith Bonawitz, et al.,

</span>
<span class="ltx_bibblock">“Advances and open problems in federated learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1912.04977</span>, 2019.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Li Li et al.,

</span>
<span class="ltx_bibblock">“A survey on federated learning,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">2020 IEEE 16th International Conference on Control &amp;
Automation (ICCA)</span>. IEEE, 2020, pp. 791–796.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Tian Li et al.,

</span>
<span class="ltx_bibblock">“Federated learning: Challenges, methods, and future directions,”

</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">IEEE Signal Processing Magazine</span>, vol. 37, no. 3, pp. 50–60,
2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Jakub Konečnỳ et al.,

</span>
<span class="ltx_bibblock">“Federated learning: Strategies for improving communication
efficiency,”

</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1610.05492</span>, 2016.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Samuel Horvath, Chen-Yu Ho, Ludovit Horvath, Atal Narayan Sahu, Marco Canini,
and Peter Richtarik,

</span>
<span class="ltx_bibblock">“Natural compression for distributed deep learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1905.10988</span>, 2019.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Dan Alistarh, Demjan Grubic, Jerry Li, et al.,

</span>
<span class="ltx_bibblock">“Qsgd: Communication-efficient sgd via gradient quantization and
encoding,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 2017, pp.
1709–1720.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Nader Bouacida, Jiahui Hou, Hui Zang, and Xin Liu,

</span>
<span class="ltx_bibblock">“Adaptive federated dropout: Improving communication efficiency and
generalization for federated learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2011.04050</span>, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Takayuki Nishio and Ryo Yonetani,

</span>
<span class="ltx_bibblock">“Client selection for federated learning with heterogeneous
resources in mobile edge,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">ICC 2019 IEEE International Conference on Communications
(ICC)</span>. IEEE, 2019, pp. 1–7.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Yue Zhao, Meng Li, et al.,

</span>
<span class="ltx_bibblock">“Federated learning with non-iid data,”

</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1806.00582</span>, 2018.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Tiffany Tuor, Shiqiang Wang, Bong Ko, et al.,

</span>
<span class="ltx_bibblock">“Overcoming noisy and irrelevant data in federated learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2001.08300</span>, 2020.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Xin Yao, Tianchi Huang, Chenglei Wu, et al.,

</span>
<span class="ltx_bibblock">“Towards faster and better federated learning: A feature fusion
approach,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">2019 IEEE International Conference on Image Processing
(ICIP)</span>. IEEE, 2019, pp. 175–179.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Li Huang, Andrew Shea, Huining Qian, et al.,

</span>
<span class="ltx_bibblock">“Patient clustering improves efficiency of federated machine
learning to predict mortality and hospital stay time using distributed
electronic medical records,”

</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">Journal of Biomedical Informatics</span>, vol. 99, pp. 103291, 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Jenny Hamer, Mehryar Mohri, and Ananda Suresh,

</span>
<span class="ltx_bibblock">“Fedboost: A communication-efficient algorithm for federated
learning,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>. PMLR, 2020,
pp. 3973–3983.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Yann LeCun, Léon Bottou, et al.,

</span>
<span class="ltx_bibblock">“Gradient-based learning applied to document recognition,”

</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE</span>, vol. 86, no. 11, pp. 2278–2324, 1998.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Han Xiao, Kashif Rasul, et al.,

</span>
<span class="ltx_bibblock">“Fashion-mnist: a novel image dataset for benchmarking machine
learning algorithms,”

</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1708.07747</span>, 2017.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Alex Krizhevsky et al.,

</span>
<span class="ltx_bibblock">“Learning multiple layers of features from tiny images,”

</span>
<span class="ltx_bibblock">Tech. Rep., Citeseer, 2009.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
“Tiny imagenet visual recognition challenge,”
<span id="bib.bib21.1.1" class="ltx_ERROR undefined">\url</span>https://tiny-imagenet.herokuapp.com/.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Jia Deng, Wei Dong, Richard Socher, Li-Jia Li, Kai Li, and Li Fei-Fei,

</span>
<span class="ltx_bibblock">“Imagenet: A large-scale hierarchical image database,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">2009 IEEE conference on computer vision and pattern
recognition</span>. Ieee, 2009, pp. 248–255.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Ilya Sutskever, and Geoffrey Hinton,

</span>
<span class="ltx_bibblock">“Imagenet classification with deep convolutional neural networks,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Advances in neural information processing systems</span>, 2012, pp.
1097–1105.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun,

</span>
<span class="ltx_bibblock">“Deep residual learning for image recognition,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE conference on computer vision and
pattern recognition</span>, 2016, pp. 770–778.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2101.07994" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2101.07995" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2101.07995">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2101.07995" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2101.07996" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar  2 07:28:45 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
