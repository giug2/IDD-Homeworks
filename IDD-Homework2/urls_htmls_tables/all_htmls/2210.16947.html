<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2210.16947] Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction</title><meta property="og:description" content="In this paper we present new attacks against federated learning when
used to train natural language text models. We illustrate the
effectiveness of the attacks against the next word prediction model
used in Google’s GB…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2210.16947">

<!--Generated on Tue Feb 27 02:30:48 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="federated learning,  privacy">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line" style="background-color:#FFFFFF;"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>Trinity College Dublin, The University of Dublin, College Green, Dublin 2, D02 PN40, Ireland
<br class="ltx_break"><span id="id1.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>{sulimanm,doug.leith}@tcd.ie</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mohamed Suliman
</span><span class="ltx_author_notes">Now at IBM Research Europe - Dublin.
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0001-8097-6297" title="ORCID identifier" class="ltx_ref">0000-0001-8097-6297</a></span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Douglas Leith
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0003-4056-4014" title="ORCID identifier" class="ltx_ref">0000-0003-4056-4014</a></span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">In this paper we present new attacks against federated learning when
used to train natural language text models. We illustrate the
effectiveness of the attacks against the next word prediction model
used in Google’s GBoard app, a widely used mobile keyboard app that
has been an early adopter of federated learning for production use.
We demonstrate that the words a user types on their mobile handset,
e.g. when sending text messages, can be recovered with high accuracy
under a wide range of conditions and that counter-measures such a use
of mini-batches and adding local noise are ineffective. We also show
that the word order (and so the actual sentences typed) can be
reconstructed with high fidelity. This raises obvious privacy
concerns, particularly since GBoard is in production use.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>federated learning, privacy
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) is a class of distributed algorithms for the
training of machine learning models such as neural networks. A
primary aim of FL when it was first introduced was to enhance user
privacy, namely by keeping sensitive data stored locally and avoiding
uploading it to a central server <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. The
basic idea is that users train a local version of the model with their
own data, and share only the resulting model parameters with a central
coordinating server. This server then combines the models of all the
participants, transmits the aggregate back to them, and this cycle
(i.e. a single FL ‘round’) repeats until the model is judged to have
converged.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">A notable real-world deployment of FL is within Google’s Gboard, a
widely used Android keyboard application that comes pre-installed on
many mobile handsets and which has <math id="S1.p2.1.m1.1" class="ltx_Math" alttext="&gt;5" display="inline"><semantics id="S1.p2.1.m1.1a"><mrow id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml"><mi id="S1.p2.1.m1.1.1.2" xref="S1.p2.1.m1.1.1.2.cmml"></mi><mo mathbackground="#FFFFFF" id="S1.p2.1.m1.1.1.1" xref="S1.p2.1.m1.1.1.1.cmml">&gt;</mo><mn mathbackground="#FFFFFF" id="S1.p2.1.m1.1.1.3" xref="S1.p2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S1.p2.1.m1.1b"><apply id="S1.p2.1.m1.1.1.cmml" xref="S1.p2.1.m1.1.1"><gt id="S1.p2.1.m1.1.1.1.cmml" xref="S1.p2.1.m1.1.1.1"></gt><csymbol cd="latexml" id="S1.p2.1.m1.1.1.2.cmml" xref="S1.p2.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S1.p2.1.m1.1.1.3.cmml" xref="S1.p2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.1.m1.1c">&gt;5</annotation></semantics></math> Billion
downloads <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Within GBoard, FL is used to train the
Next Word Prediction (NWP) model that provides the suggested next
words that appear above the keyboard while
typing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper we show that FL is not private for Next Word
Prediction. We present an attack that reconstructs the original
training data, i.e. the text typed by a user, from the FL parameter
updates with a high degree of fidelity. Both the FedSGD and
FederatedAveraging variants of FL are susceptible to this attack. In
fairness, Google have been aware of the possibility of information
leakage from FL updates since the earliest days of FL, e.g. see
footnote 1 in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. Our results
demonstrate that not only does information leakage indeed happen for
real-world models deployed in production and in widespread use, but
that the amount of information leaked is enough to allow the local
training data to be fully reconstructed.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">We also show that adding Gaussian noise to the transmitted updates,
which has been proposed to ensure local Differential Privacy (DP),
provides little defence unless the noise levels used are so large that
the utility of the model becomes substantially degraded. That is, DP
is not an effective countermeasure to our attack<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>DP aims to
protect the aggregate training data/model against query-based
attacks, whereas our attack targets the individual updates.
Nevertheless, we note that DP is sometimes suggested as a potential
defence against the type of attack carried out here.</span></span></span>. We also show
that use of mini-batches of up to 256 sentences provides little
protection. Other defences, such as Secure Aggregation (a form of
multi-party computation MPC), Homomorphic Encryption (HE), and Trusted
Execution Environments (TEEs), are currently either impractical or
require the client to trust that the server is
honest<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Google’s Secure Aggregation
approach <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> is a prominent example of an
approach requiring trust in the server, or more specifically in the
PKI infrastructure which in practice is operated by the same
organisation that runs the FL server since it involves
authentication/verification of clients. We note also that Secure
Aggregation is not currently deployed in the GBoard app despite
being proposed 6 years ago.</span></span></span> in which case use of FL is redundant.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Previous studies of reconstruction attacks against FL have mainly
focused on image reconstruction, rather than text as considered here.
Unfortunately, we find that the methods developed for image
reconstruction, which are based on used gradient descent to minimise
the distance between the observed model data and the model data
corresponding to a synthetic input, do not readily transfer over to
text data. This is perhaps unsurprising since the inherently discrete
nature of text makes the cost surface highly non-smooth and so
gradient-based optimisation is difficult to apply successfully. In
this paper we therefore propose new reconstruction approaches that are
specialised to text data.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">It is important to note that the transmission of user data to a remote
server is not inherently a breach of privacy. The risk of a privacy
breach is related to the nature of the data being sent, as well as
whether it’s owner can be readily identified. For example, sending
device models, version numbers, and locale/region information is not
an immediate concern but it seems clear that the sentences entered by
users, e.g. when typing messages, writing notes and emails, web
browsing and performing searches, may well be private. Indeed, it is
not only the sentences typed which can be sensitive but also the set
of words used (i.e. even without knowing the word ordering) since this
can be used for targeting surveillance via keyword blacklists
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">In addition, most Google telemetry is tagged with with an Android
ID. Via other data collected by Google Play Services the Android ID is
linked to (i) the handset hardware serial number, (ii) the SIM IMEI
(which uniquely identifies the SIM slot) and (iii) the user’s Google
account <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. When creating a Google
account users are encouraged to supply a phone number and for many
people this will be their own phone number. Use of Google services
such as buying a paid app on the Google Play store or using Google Pay
further links a person’s Google account to their credit card/bank
details. A user’s Google account, and so the Android ID, can
therefore commonly be expected to be linked to the person’s real
identity.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Preliminaries</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Federated Learning Client Update</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.4" class="ltx_p">Algorithm <a href="#algorithm1" title="In 2.1 Federated Learning Client Update ‣ 2 Preliminaries ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> gives the procedure followed by FL
participants to generate a model update. The number of local
epochs <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi mathbackground="#FFFFFF" id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">E</annotation></semantics></math>, mini-batch size <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mi mathbackground="#FFFFFF" id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">B</annotation></semantics></math>, and local client learning rate <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><mi mathbackground="#FFFFFF" id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">\eta</annotation></semantics></math>
can be changed depending on the FL application. When <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><mrow id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S2.SS1.p1.4.m4.1.1.1" xref="S2.SS1.p1.4.m4.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><eq id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1.1"></eq><ci id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2">𝐸</ci><cn type="integer" id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">E=1</annotation></semantics></math> and the
mini-batch size is equal the size of the training dataset, then it is
called FedSGD, and any other configuration corresponds to
FedAveraging, where multiple gradient descent steps occur on the
client.</p>
</div>
<figure id="algorithm1" class="ltx_float ltx_algorithm">
<div id="algorithm1.9" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm1.2.2" class="ltx_listingline">
<span id="algorithm1.2.2.1" class="ltx_text"><span id="algorithm1.2.2.1.1" class="ltx_text ltx_font_bold">Input:</span> </span><math id="algorithm1.1.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="algorithm1.1.1.m1.1a"><msub id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.1.1.m1.1.1.2" xref="algorithm1.1.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.1.1.m1.1.1.3" xref="algorithm1.1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><apply id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.1.1.m1.1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">subscript</csymbol><ci id="algorithm1.1.1.m1.1.1.2.cmml" xref="algorithm1.1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm1.1.1.m1.1.1.3.cmml" xref="algorithm1.1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\theta_{0}</annotation></semantics></math>: The parameters of the global model, training loss function <math id="algorithm1.2.2.m2.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="algorithm1.2.2.m2.1a"><mi mathbackground="#FFFFFF" mathvariant="normal" id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.1b"><ci id="algorithm1.2.2.m2.1.1.cmml" xref="algorithm1.2.2.m2.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.1c">\ell</annotation></semantics></math>.
</div>
<div id="algorithm1.3.3" class="ltx_listingline">
<span id="algorithm1.3.3.1" class="ltx_text"><span id="algorithm1.3.3.1.1" class="ltx_text ltx_font_bold">Output:</span> </span><math id="algorithm1.3.3.m1.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="algorithm1.3.3.m1.1a"><msub id="algorithm1.3.3.m1.1.1" xref="algorithm1.3.3.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.3.3.m1.1.1.2" xref="algorithm1.3.3.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.3.3.m1.1.1.3" xref="algorithm1.3.3.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m1.1b"><apply id="algorithm1.3.3.m1.1.1.cmml" xref="algorithm1.3.3.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.3.3.m1.1.1.1.cmml" xref="algorithm1.3.3.m1.1.1">subscript</csymbol><ci id="algorithm1.3.3.m1.1.1.2.cmml" xref="algorithm1.3.3.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm1.3.3.m1.1.1.3.cmml" xref="algorithm1.3.3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m1.1c">\theta_{1}</annotation></semantics></math>: The model parameters after training on the client’s data.
</div>
<div id="algorithm1.9.10" class="ltx_listingline">
<span id="algorithm1.9.10.1" class="ltx_text ltx_font_bold">Procedure</span> <em id="algorithm1.9.10.2" class="ltx_emph ltx_font_italic">clientUpdate</em> 
</div>
<div id="algorithm1.4.4" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.4.4.m1.1" class="ltx_Math" alttext="\theta_{1}\leftarrow\theta_{0}" display="inline"><semantics id="algorithm1.4.4.m1.1a"><mrow id="algorithm1.4.4.m1.1.1" xref="algorithm1.4.4.m1.1.1.cmml"><msub id="algorithm1.4.4.m1.1.1.2" xref="algorithm1.4.4.m1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.4.4.m1.1.1.2.2" xref="algorithm1.4.4.m1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.4.4.m1.1.1.2.3" xref="algorithm1.4.4.m1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.4.4.m1.1.1.1" xref="algorithm1.4.4.m1.1.1.1.cmml">←</mo><msub id="algorithm1.4.4.m1.1.1.3" xref="algorithm1.4.4.m1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.4.4.m1.1.1.3.2" xref="algorithm1.4.4.m1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.4.4.m1.1.1.3.3" xref="algorithm1.4.4.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m1.1b"><apply id="algorithm1.4.4.m1.1.1.cmml" xref="algorithm1.4.4.m1.1.1"><ci id="algorithm1.4.4.m1.1.1.1.cmml" xref="algorithm1.4.4.m1.1.1.1">←</ci><apply id="algorithm1.4.4.m1.1.1.2.cmml" xref="algorithm1.4.4.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm1.4.4.m1.1.1.2.1.cmml" xref="algorithm1.4.4.m1.1.1.2">subscript</csymbol><ci id="algorithm1.4.4.m1.1.1.2.2.cmml" xref="algorithm1.4.4.m1.1.1.2.2">𝜃</ci><cn type="integer" id="algorithm1.4.4.m1.1.1.2.3.cmml" xref="algorithm1.4.4.m1.1.1.2.3">1</cn></apply><apply id="algorithm1.4.4.m1.1.1.3.cmml" xref="algorithm1.4.4.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm1.4.4.m1.1.1.3.1.cmml" xref="algorithm1.4.4.m1.1.1.3">subscript</csymbol><ci id="algorithm1.4.4.m1.1.1.3.2.cmml" xref="algorithm1.4.4.m1.1.1.3.2">𝜃</ci><cn type="integer" id="algorithm1.4.4.m1.1.1.3.3.cmml" xref="algorithm1.4.4.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m1.1c">\theta_{1}\leftarrow\theta_{0}</annotation></semantics></math>;
</div>
<div id="algorithm1.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.5.5.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)" display="inline"><semantics id="algorithm1.5.5.m1.1a"><mrow id="algorithm1.5.5.m1.1.1" xref="algorithm1.5.5.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm1.5.5.m1.1.1.3" xref="algorithm1.5.5.m1.1.1.3.cmml">ℬ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.5.5.m1.1.1.2" xref="algorithm1.5.5.m1.1.1.2.cmml">←</mo><mrow id="algorithm1.5.5.m1.1.1.1.1" xref="algorithm1.5.5.m1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.5.5.m1.1.1.1.1.2" xref="algorithm1.5.5.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm1.5.5.m1.1.1.1.1.1" xref="algorithm1.5.5.m1.1.1.1.1.1.cmml"><mtext mathbackground="#FFFFFF" id="algorithm1.5.5.m1.1.1.1.1.1.2" xref="algorithm1.5.5.m1.1.1.1.1.1.2a.cmml">split dataset into batches of size </mtext><mo lspace="0em" rspace="0em" id="algorithm1.5.5.m1.1.1.1.1.1.1" xref="algorithm1.5.5.m1.1.1.1.1.1.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="algorithm1.5.5.m1.1.1.1.1.1.3" xref="algorithm1.5.5.m1.1.1.1.1.1.3.cmml">B</mi></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.5.5.m1.1.1.1.1.3" xref="algorithm1.5.5.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m1.1b"><apply id="algorithm1.5.5.m1.1.1.cmml" xref="algorithm1.5.5.m1.1.1"><ci id="algorithm1.5.5.m1.1.1.2.cmml" xref="algorithm1.5.5.m1.1.1.2">←</ci><ci id="algorithm1.5.5.m1.1.1.3.cmml" xref="algorithm1.5.5.m1.1.1.3">ℬ</ci><apply id="algorithm1.5.5.m1.1.1.1.1.1.cmml" xref="algorithm1.5.5.m1.1.1.1.1"><times id="algorithm1.5.5.m1.1.1.1.1.1.1.cmml" xref="algorithm1.5.5.m1.1.1.1.1.1.1"></times><ci id="algorithm1.5.5.m1.1.1.1.1.1.2a.cmml" xref="algorithm1.5.5.m1.1.1.1.1.1.2"><mtext mathbackground="#FFFFFF" id="algorithm1.5.5.m1.1.1.1.1.1.2.cmml" xref="algorithm1.5.5.m1.1.1.1.1.1.2">split dataset into batches of size </mtext></ci><ci id="algorithm1.5.5.m1.1.1.1.1.1.3.cmml" xref="algorithm1.5.5.m1.1.1.1.1.1.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m1.1c">\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)</annotation></semantics></math>;
</div>
<div id="algorithm1.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.6.6.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm1.6.6.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> local epoch <span id="algorithm1.6.6.m1.1.1.1.2" class="ltx_text ltx_font_italic">i</span> from 1 to <math id="algorithm1.6.6.m1.1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm1.6.6.m1.1.1.1.m1.1a"><mi mathbackground="#FFFFFF" id="algorithm1.6.6.m1.1.1.1.m1.1.1" xref="algorithm1.6.6.m1.1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.m1.1.1.1.m1.1b"><ci id="algorithm1.6.6.m1.1.1.1.m1.1.1.cmml" xref="algorithm1.6.6.m1.1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.m1.1.1.1.m1.1c">E</annotation></semantics></math> <span id="algorithm1.6.6.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm1.7.7" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
    <span id="algorithm1.7.7.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm1.7.7.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> batch <span id="algorithm1.7.7.m1.1.1.1.2" class="ltx_text ltx_font_italic">b</span> <math id="algorithm1.7.7.m1.1.1.1.m1.1" class="ltx_Math" alttext="\in\mathcal{B}" display="inline"><semantics id="algorithm1.7.7.m1.1.1.1.m1.1a"><mrow id="algorithm1.7.7.m1.1.1.1.m1.1.1" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.cmml"><mi id="algorithm1.7.7.m1.1.1.1.m1.1.1.2" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.2.cmml"></mi><mo mathbackground="#FFFFFF" id="algorithm1.7.7.m1.1.1.1.m1.1.1.1" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm1.7.7.m1.1.1.1.m1.1.1.3" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m1.1.1.1.m1.1b"><apply id="algorithm1.7.7.m1.1.1.1.m1.1.1.cmml" xref="algorithm1.7.7.m1.1.1.1.m1.1.1"><in id="algorithm1.7.7.m1.1.1.1.m1.1.1.1.cmml" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.1"></in><csymbol cd="latexml" id="algorithm1.7.7.m1.1.1.1.m1.1.1.2.cmml" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.2">absent</csymbol><ci id="algorithm1.7.7.m1.1.1.1.m1.1.1.3.cmml" xref="algorithm1.7.7.m1.1.1.1.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m1.1.1.1.m1.1c">\in\mathcal{B}</annotation></semantics></math> <span id="algorithm1.7.7.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm1.8.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm1.8.8.m1.2" class="ltx_Math" alttext="\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)" display="inline"><semantics id="algorithm1.8.8.m1.2a"><mrow id="algorithm1.8.8.m1.2.2" xref="algorithm1.8.8.m1.2.2.cmml"><msub id="algorithm1.8.8.m1.2.2.3" xref="algorithm1.8.8.m1.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.3.2" xref="algorithm1.8.8.m1.2.2.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.3.3" xref="algorithm1.8.8.m1.2.2.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.8.8.m1.2.2.2" xref="algorithm1.8.8.m1.2.2.2.cmml">←</mo><mrow id="algorithm1.8.8.m1.2.2.1" xref="algorithm1.8.8.m1.2.2.1.cmml"><msub id="algorithm1.8.8.m1.2.2.1.3" xref="algorithm1.8.8.m1.2.2.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.3.2" xref="algorithm1.8.8.m1.2.2.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.3.3" xref="algorithm1.8.8.m1.2.2.1.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.2" xref="algorithm1.8.8.m1.2.2.1.2.cmml">−</mo><mrow id="algorithm1.8.8.m1.2.2.1.1" xref="algorithm1.8.8.m1.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.1.3" xref="algorithm1.8.8.m1.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="algorithm1.8.8.m1.2.2.1.1.2" xref="algorithm1.8.8.m1.2.2.1.1.2.cmml">​</mo><mrow id="algorithm1.8.8.m1.2.2.1.1.4" xref="algorithm1.8.8.m1.2.2.1.1.4.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="algorithm1.8.8.m1.2.2.1.1.4.1" xref="algorithm1.8.8.m1.2.2.1.1.4.1.cmml">∇</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="algorithm1.8.8.m1.2.2.1.1.4.2" xref="algorithm1.8.8.m1.2.2.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="algorithm1.8.8.m1.2.2.1.1.2a" xref="algorithm1.8.8.m1.2.2.1.1.2.cmml">​</mo><mrow id="algorithm1.8.8.m1.2.2.1.1.1.1" xref="algorithm1.8.8.m1.2.2.1.1.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.8.8.m1.2.2.1.1.1.1.2" xref="algorithm1.8.8.m1.2.2.1.1.1.2.cmml">(</mo><msub id="algorithm1.8.8.m1.2.2.1.1.1.1.1" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.1.1.1.1.2" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.1.1.1.1.3" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm1.8.8.m1.2.2.1.1.1.1.3" xref="algorithm1.8.8.m1.2.2.1.1.1.2.cmml">;</mo><mi mathbackground="#FFFFFF" id="algorithm1.8.8.m1.1.1" xref="algorithm1.8.8.m1.1.1.cmml">b</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm1.8.8.m1.2.2.1.1.1.1.4" xref="algorithm1.8.8.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m1.2b"><apply id="algorithm1.8.8.m1.2.2.cmml" xref="algorithm1.8.8.m1.2.2"><ci id="algorithm1.8.8.m1.2.2.2.cmml" xref="algorithm1.8.8.m1.2.2.2">←</ci><apply id="algorithm1.8.8.m1.2.2.3.cmml" xref="algorithm1.8.8.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm1.8.8.m1.2.2.3.1.cmml" xref="algorithm1.8.8.m1.2.2.3">subscript</csymbol><ci id="algorithm1.8.8.m1.2.2.3.2.cmml" xref="algorithm1.8.8.m1.2.2.3.2">𝜃</ci><cn type="integer" id="algorithm1.8.8.m1.2.2.3.3.cmml" xref="algorithm1.8.8.m1.2.2.3.3">1</cn></apply><apply id="algorithm1.8.8.m1.2.2.1.cmml" xref="algorithm1.8.8.m1.2.2.1"><minus id="algorithm1.8.8.m1.2.2.1.2.cmml" xref="algorithm1.8.8.m1.2.2.1.2"></minus><apply id="algorithm1.8.8.m1.2.2.1.3.cmml" xref="algorithm1.8.8.m1.2.2.1.3"><csymbol cd="ambiguous" id="algorithm1.8.8.m1.2.2.1.3.1.cmml" xref="algorithm1.8.8.m1.2.2.1.3">subscript</csymbol><ci id="algorithm1.8.8.m1.2.2.1.3.2.cmml" xref="algorithm1.8.8.m1.2.2.1.3.2">𝜃</ci><cn type="integer" id="algorithm1.8.8.m1.2.2.1.3.3.cmml" xref="algorithm1.8.8.m1.2.2.1.3.3">1</cn></apply><apply id="algorithm1.8.8.m1.2.2.1.1.cmml" xref="algorithm1.8.8.m1.2.2.1.1"><times id="algorithm1.8.8.m1.2.2.1.1.2.cmml" xref="algorithm1.8.8.m1.2.2.1.1.2"></times><ci id="algorithm1.8.8.m1.2.2.1.1.3.cmml" xref="algorithm1.8.8.m1.2.2.1.1.3">𝜂</ci><apply id="algorithm1.8.8.m1.2.2.1.1.4.cmml" xref="algorithm1.8.8.m1.2.2.1.1.4"><ci id="algorithm1.8.8.m1.2.2.1.1.4.1.cmml" xref="algorithm1.8.8.m1.2.2.1.1.4.1">∇</ci><ci id="algorithm1.8.8.m1.2.2.1.1.4.2.cmml" xref="algorithm1.8.8.m1.2.2.1.1.4.2">ℓ</ci></apply><list id="algorithm1.8.8.m1.2.2.1.1.1.2.cmml" xref="algorithm1.8.8.m1.2.2.1.1.1.1"><apply id="algorithm1.8.8.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.8.8.m1.2.2.1.1.1.1.1.1.cmml" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="algorithm1.8.8.m1.2.2.1.1.1.1.1.2.cmml" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1.2">𝜃</ci><cn type="integer" id="algorithm1.8.8.m1.2.2.1.1.1.1.1.3.cmml" xref="algorithm1.8.8.m1.2.2.1.1.1.1.1.3">1</cn></apply><ci id="algorithm1.8.8.m1.1.1.cmml" xref="algorithm1.8.8.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m1.2c">\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)</annotation></semantics></math>;
</div>
<div id="algorithm1.9.9" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm1.9.9.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm1.9.9.m1.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="algorithm1.9.9.m1.1a"><msub id="algorithm1.9.9.m1.1.1" xref="algorithm1.9.9.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm1.9.9.m1.1.1.2" xref="algorithm1.9.9.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm1.9.9.m1.1.1.3" xref="algorithm1.9.9.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.m1.1b"><apply id="algorithm1.9.9.m1.1.1.cmml" xref="algorithm1.9.9.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.9.9.m1.1.1.1.cmml" xref="algorithm1.9.9.m1.1.1">subscript</csymbol><ci id="algorithm1.9.9.m1.1.1.2.cmml" xref="algorithm1.9.9.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm1.9.9.m1.1.1.3.cmml" xref="algorithm1.9.9.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.m1.1c">\theta_{1}</annotation></semantics></math>;
</div>
<div id="algorithm1.9.11" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm1.9.12" class="ltx_listingline"> 
</div>
<div id="algorithm1.9.13" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm1.11.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span>Federated Learning Client Update</figcaption>
</figure>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Threat Model</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.2" class="ltx_p">The threat model is that of a honest-but-curious adversary that has
access to (i) the FL model architecture, (ii) the current global FL model parameters <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><msub id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS2.p1.1.m1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S2.SS2.p1.1.m1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><apply id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S2.SS2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">\theta_{0}</annotation></semantics></math>, and (iii) the
FL model parameters, <math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><msub id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS2.p1.2.m2.1.1.2" xref="S2.SS2.p1.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S2.SS2.p1.2.m2.1.1.3" xref="S2.SS2.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><apply id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S2.SS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">\theta_{1}</annotation></semantics></math>, after updating locally using the training data of an individual user. The FL server has, for example, access to all of these and so this threat model captures the situation where there is an honest-but-curious FL server.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.3" class="ltx_p">We do not consider membership attacks against the global model, although knowledge of <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><msub id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">\theta_{0}</annotation></semantics></math> allows such attacks, since they have already received much attention in the literature. Instead we focus on local reconstruction attacks i.e. attacks that aim to reconstruct the local training data of a user from knowledge of <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><msub id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS2.p2.2.m2.1.1.2" xref="S2.SS2.p2.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S2.SS2.p2.2.m2.1.1.3" xref="S2.SS2.p2.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><apply id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.2.m2.1.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p2.2.m2.1.1.2.cmml" xref="S2.SS2.p2.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S2.SS2.p2.2.m2.1.1.3.cmml" xref="S2.SS2.p2.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">\theta_{0}</annotation></semantics></math> and <math id="S2.SS2.p2.3.m3.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S2.SS2.p2.3.m3.1a"><msub id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS2.p2.3.m3.1.1.2" xref="S2.SS2.p2.3.m3.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S2.SS2.p2.3.m3.1.1.3" xref="S2.SS2.p2.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><apply id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m3.1.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p2.3.m3.1.1.2.cmml" xref="S2.SS2.p2.3.m3.1.1.2">𝜃</ci><cn type="integer" id="S2.SS2.p2.3.m3.1.1.3.cmml" xref="S2.SS2.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">\theta_{1}</annotation></semantics></math>. In the GBoard Next Word Prediction task the local training data is the text typed by the user while using apps on their mobile handset e.g. while sending text messages.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>GBoard NWP Model</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Figure <a href="#S2.F1" title="Figure 1 ‣ 2.3 GBoard NWP Model ‣ 2 Preliminaries ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the LSTM recursive neural net (RNN) architecture used by by Gboard for NWP. This model was extracted from the app.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2210.16947/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="184" height="149" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.12.6.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S2.F1.10.5" class="ltx_text" style="font-size:90%;">Schematic of LSTM architecture. LSTM
layer takes as input dense vector <math id="S2.F1.6.1.m1.1" class="ltx_Math" alttext="x_{t}" display="inline"><semantics id="S2.F1.6.1.m1.1b"><msub id="S2.F1.6.1.m1.1.1" xref="S2.F1.6.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.F1.6.1.m1.1.1.2" xref="S2.F1.6.1.m1.1.1.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S2.F1.6.1.m1.1.1.3" xref="S2.F1.6.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F1.6.1.m1.1c"><apply id="S2.F1.6.1.m1.1.1.cmml" xref="S2.F1.6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.F1.6.1.m1.1.1.1.cmml" xref="S2.F1.6.1.m1.1.1">subscript</csymbol><ci id="S2.F1.6.1.m1.1.1.2.cmml" xref="S2.F1.6.1.m1.1.1.2">𝑥</ci><ci id="S2.F1.6.1.m1.1.1.3.cmml" xref="S2.F1.6.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.6.1.m1.1d">x_{t}</annotation></semantics></math> representing a typed word
and outputs a dense vector <math id="S2.F1.7.2.m2.1" class="ltx_Math" alttext="h_{t}" display="inline"><semantics id="S2.F1.7.2.m2.1b"><msub id="S2.F1.7.2.m2.1.1" xref="S2.F1.7.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.F1.7.2.m2.1.1.2" xref="S2.F1.7.2.m2.1.1.2.cmml">h</mi><mi mathbackground="#FFFFFF" id="S2.F1.7.2.m2.1.1.3" xref="S2.F1.7.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F1.7.2.m2.1c"><apply id="S2.F1.7.2.m2.1.1.cmml" xref="S2.F1.7.2.m2.1.1"><csymbol cd="ambiguous" id="S2.F1.7.2.m2.1.1.1.cmml" xref="S2.F1.7.2.m2.1.1">subscript</csymbol><ci id="S2.F1.7.2.m2.1.1.2.cmml" xref="S2.F1.7.2.m2.1.1.2">ℎ</ci><ci id="S2.F1.7.2.m2.1.1.3.cmml" xref="S2.F1.7.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.7.2.m2.1d">h_{t}</annotation></semantics></math>. This output is then mapped to
vector <math id="S2.F1.8.3.m3.1" class="ltx_Math" alttext="z_{t}" display="inline"><semantics id="S2.F1.8.3.m3.1b"><msub id="S2.F1.8.3.m3.1.1" xref="S2.F1.8.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.F1.8.3.m3.1.1.2" xref="S2.F1.8.3.m3.1.1.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S2.F1.8.3.m3.1.1.3" xref="S2.F1.8.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F1.8.3.m3.1c"><apply id="S2.F1.8.3.m3.1.1.cmml" xref="S2.F1.8.3.m3.1.1"><csymbol cd="ambiguous" id="S2.F1.8.3.m3.1.1.1.cmml" xref="S2.F1.8.3.m3.1.1">subscript</csymbol><ci id="S2.F1.8.3.m3.1.1.2.cmml" xref="S2.F1.8.3.m3.1.1.2">𝑧</ci><ci id="S2.F1.8.3.m3.1.1.3.cmml" xref="S2.F1.8.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.8.3.m3.1d">z_{t}</annotation></semantics></math> of size 9502 (the size of the dictionary) with the
value of each element being the raw logit for the corresponding
dictionary word. A softmax layer then normalises the raw <math id="S2.F1.9.4.m4.1" class="ltx_Math" alttext="z_{t}" display="inline"><semantics id="S2.F1.9.4.m4.1b"><msub id="S2.F1.9.4.m4.1.1" xref="S2.F1.9.4.m4.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.F1.9.4.m4.1.1.2" xref="S2.F1.9.4.m4.1.1.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S2.F1.9.4.m4.1.1.3" xref="S2.F1.9.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F1.9.4.m4.1c"><apply id="S2.F1.9.4.m4.1.1.cmml" xref="S2.F1.9.4.m4.1.1"><csymbol cd="ambiguous" id="S2.F1.9.4.m4.1.1.1.cmml" xref="S2.F1.9.4.m4.1.1">subscript</csymbol><ci id="S2.F1.9.4.m4.1.1.2.cmml" xref="S2.F1.9.4.m4.1.1.2">𝑧</ci><ci id="S2.F1.9.4.m4.1.1.3.cmml" xref="S2.F1.9.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.9.4.m4.1d">z_{t}</annotation></semantics></math>
values to give a vector <math id="S2.F1.10.5.m5.1" class="ltx_Math" alttext="\hat{y}_{t}" display="inline"><semantics id="S2.F1.10.5.m5.1b"><msub id="S2.F1.10.5.m5.1.1" xref="S2.F1.10.5.m5.1.1.cmml"><mover accent="true" id="S2.F1.10.5.m5.1.1.2" xref="S2.F1.10.5.m5.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S2.F1.10.5.m5.1.1.2.2" xref="S2.F1.10.5.m5.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S2.F1.10.5.m5.1.1.2.1" xref="S2.F1.10.5.m5.1.1.2.1.cmml">^</mo></mover><mi mathbackground="#FFFFFF" id="S2.F1.10.5.m5.1.1.3" xref="S2.F1.10.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.F1.10.5.m5.1c"><apply id="S2.F1.10.5.m5.1.1.cmml" xref="S2.F1.10.5.m5.1.1"><csymbol cd="ambiguous" id="S2.F1.10.5.m5.1.1.1.cmml" xref="S2.F1.10.5.m5.1.1">subscript</csymbol><apply id="S2.F1.10.5.m5.1.1.2.cmml" xref="S2.F1.10.5.m5.1.1.2"><ci id="S2.F1.10.5.m5.1.1.2.1.cmml" xref="S2.F1.10.5.m5.1.1.2.1">^</ci><ci id="S2.F1.10.5.m5.1.1.2.2.cmml" xref="S2.F1.10.5.m5.1.1.2.2">𝑦</ci></apply><ci id="S2.F1.10.5.m5.1.1.3.cmml" xref="S2.F1.10.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.10.5.m5.1d">\hat{y}_{t}</annotation></semantics></math> of probabilities.</span></figcaption>
</figure>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.16" class="ltx_p">The Gboard LSTM RNN is a word level language model, predicting the
probability of the next word given what the user has already typed
into the keyboard. Input words are first mapped to a dictionary entry,
which has a vocabulary of <math id="S2.SS3.p2.1.m1.1" class="ltx_Math" alttext="V=9502" display="inline"><semantics id="S2.SS3.p2.1.m1.1a"><mrow id="S2.SS3.p2.1.m1.1.1" xref="S2.SS3.p2.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.1.m1.1.1.2" xref="S2.SS3.p2.1.m1.1.1.2.cmml">V</mi><mo mathbackground="#FFFFFF" id="S2.SS3.p2.1.m1.1.1.1" xref="S2.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S2.SS3.p2.1.m1.1.1.3" xref="S2.SS3.p2.1.m1.1.1.3.cmml">9502</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.1b"><apply id="S2.SS3.p2.1.m1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1"><eq id="S2.SS3.p2.1.m1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1.1"></eq><ci id="S2.SS3.p2.1.m1.1.1.2.cmml" xref="S2.SS3.p2.1.m1.1.1.2">𝑉</ci><cn type="integer" id="S2.SS3.p2.1.m1.1.1.3.cmml" xref="S2.SS3.p2.1.m1.1.1.3">9502</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.1c">V=9502</annotation></semantics></math> words, with a special
<span id="S2.SS3.p2.16.1" class="ltx_text ltx_font_typewriter">&lt;UNK&gt;</span> entry used for words that are not in the dictionary,
and <span id="S2.SS3.p2.16.2" class="ltx_text ltx_font_typewriter">&lt;S&gt;</span> to indicate the start of a sentence. The index of
the dictionary entry is then mapped to a dense vector of size <math id="S2.SS3.p2.2.m2.1" class="ltx_Math" alttext="D=96" display="inline"><semantics id="S2.SS3.p2.2.m2.1a"><mrow id="S2.SS3.p2.2.m2.1.1" xref="S2.SS3.p2.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.2.m2.1.1.2" xref="S2.SS3.p2.2.m2.1.1.2.cmml">D</mi><mo mathbackground="#FFFFFF" id="S2.SS3.p2.2.m2.1.1.1" xref="S2.SS3.p2.2.m2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S2.SS3.p2.2.m2.1.1.3" xref="S2.SS3.p2.2.m2.1.1.3.cmml">96</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.1b"><apply id="S2.SS3.p2.2.m2.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1"><eq id="S2.SS3.p2.2.m2.1.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1.1"></eq><ci id="S2.SS3.p2.2.m2.1.1.2.cmml" xref="S2.SS3.p2.2.m2.1.1.2">𝐷</ci><cn type="integer" id="S2.SS3.p2.2.m2.1.1.3.cmml" xref="S2.SS3.p2.2.m2.1.1.3">96</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.1c">D=96</annotation></semantics></math>
using a lookup table (the dictionary entry is one-hot encoded and then
multiplied by a <math id="S2.SS3.p2.3.m3.1" class="ltx_Math" alttext="\mathbb{R}^{D\times V}" display="inline"><semantics id="S2.SS3.p2.3.m3.1a"><msup id="S2.SS3.p2.3.m3.1.1" xref="S2.SS3.p2.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.3.m3.1.1.2" xref="S2.SS3.p2.3.m3.1.1.2.cmml">ℝ</mi><mrow id="S2.SS3.p2.3.m3.1.1.3" xref="S2.SS3.p2.3.m3.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.3.m3.1.1.3.2" xref="S2.SS3.p2.3.m3.1.1.3.2.cmml">D</mi><mo lspace="0.222em" mathbackground="#FFFFFF" rspace="0.222em" id="S2.SS3.p2.3.m3.1.1.3.1" xref="S2.SS3.p2.3.m3.1.1.3.1.cmml">×</mo><mi mathbackground="#FFFFFF" id="S2.SS3.p2.3.m3.1.1.3.3" xref="S2.SS3.p2.3.m3.1.1.3.3.cmml">V</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.3.m3.1b"><apply id="S2.SS3.p2.3.m3.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.3.m3.1.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1">superscript</csymbol><ci id="S2.SS3.p2.3.m3.1.1.2.cmml" xref="S2.SS3.p2.3.m3.1.1.2">ℝ</ci><apply id="S2.SS3.p2.3.m3.1.1.3.cmml" xref="S2.SS3.p2.3.m3.1.1.3"><times id="S2.SS3.p2.3.m3.1.1.3.1.cmml" xref="S2.SS3.p2.3.m3.1.1.3.1"></times><ci id="S2.SS3.p2.3.m3.1.1.3.2.cmml" xref="S2.SS3.p2.3.m3.1.1.3.2">𝐷</ci><ci id="S2.SS3.p2.3.m3.1.1.3.3.cmml" xref="S2.SS3.p2.3.m3.1.1.3.3">𝑉</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.3.m3.1c">\mathbb{R}^{D\times V}</annotation></semantics></math> weighting matrix <math id="S2.SS3.p2.4.m4.1" class="ltx_Math" alttext="W^{T}" display="inline"><semantics id="S2.SS3.p2.4.m4.1a"><msup id="S2.SS3.p2.4.m4.1.1" xref="S2.SS3.p2.4.m4.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.4.m4.1.1.2" xref="S2.SS3.p2.4.m4.1.1.2.cmml">W</mi><mi mathbackground="#FFFFFF" id="S2.SS3.p2.4.m4.1.1.3" xref="S2.SS3.p2.4.m4.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.4.m4.1b"><apply id="S2.SS3.p2.4.m4.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.4.m4.1.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1">superscript</csymbol><ci id="S2.SS3.p2.4.m4.1.1.2.cmml" xref="S2.SS3.p2.4.m4.1.1.2">𝑊</ci><ci id="S2.SS3.p2.4.m4.1.1.3.cmml" xref="S2.SS3.p2.4.m4.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.4.m4.1c">W^{T}</annotation></semantics></math>)
and applied as input to an LSTM layer with 670 units i.e. the state
<math id="S2.SS3.p2.5.m5.1" class="ltx_Math" alttext="C_{t}" display="inline"><semantics id="S2.SS3.p2.5.m5.1a"><msub id="S2.SS3.p2.5.m5.1.1" xref="S2.SS3.p2.5.m5.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.5.m5.1.1.2" xref="S2.SS3.p2.5.m5.1.1.2.cmml">C</mi><mi mathbackground="#FFFFFF" id="S2.SS3.p2.5.m5.1.1.3" xref="S2.SS3.p2.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.5.m5.1b"><apply id="S2.SS3.p2.5.m5.1.1.cmml" xref="S2.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.5.m5.1.1.1.cmml" xref="S2.SS3.p2.5.m5.1.1">subscript</csymbol><ci id="S2.SS3.p2.5.m5.1.1.2.cmml" xref="S2.SS3.p2.5.m5.1.1.2">𝐶</ci><ci id="S2.SS3.p2.5.m5.1.1.3.cmml" xref="S2.SS3.p2.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.5.m5.1c">C_{t}</annotation></semantics></math> is a vector of size 670. The LSTM layer uses a CIFG
architecture without peephole connections, illustrated schematically
in Figure <a href="#S2.F1" title="Figure 1 ‣ 2.3 GBoard NWP Model ‣ 2 Preliminaries ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The LSTM state <math id="S2.SS3.p2.6.m6.1" class="ltx_Math" alttext="C_{t}" display="inline"><semantics id="S2.SS3.p2.6.m6.1a"><msub id="S2.SS3.p2.6.m6.1.1" xref="S2.SS3.p2.6.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.6.m6.1.1.2" xref="S2.SS3.p2.6.m6.1.1.2.cmml">C</mi><mi mathbackground="#FFFFFF" id="S2.SS3.p2.6.m6.1.1.3" xref="S2.SS3.p2.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.6.m6.1b"><apply id="S2.SS3.p2.6.m6.1.1.cmml" xref="S2.SS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.6.m6.1.1.1.cmml" xref="S2.SS3.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS3.p2.6.m6.1.1.2.cmml" xref="S2.SS3.p2.6.m6.1.1.2">𝐶</ci><ci id="S2.SS3.p2.6.m6.1.1.3.cmml" xref="S2.SS3.p2.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.6.m6.1c">C_{t}</annotation></semantics></math> is linearly
projected down to an output vector <math id="S2.SS3.p2.7.m7.1" class="ltx_Math" alttext="h_{t}" display="inline"><semantics id="S2.SS3.p2.7.m7.1a"><msub id="S2.SS3.p2.7.m7.1.1" xref="S2.SS3.p2.7.m7.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.7.m7.1.1.2" xref="S2.SS3.p2.7.m7.1.1.2.cmml">h</mi><mi mathbackground="#FFFFFF" id="S2.SS3.p2.7.m7.1.1.3" xref="S2.SS3.p2.7.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.7.m7.1b"><apply id="S2.SS3.p2.7.m7.1.1.cmml" xref="S2.SS3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m7.1.1.1.cmml" xref="S2.SS3.p2.7.m7.1.1">subscript</csymbol><ci id="S2.SS3.p2.7.m7.1.1.2.cmml" xref="S2.SS3.p2.7.m7.1.1.2">ℎ</ci><ci id="S2.SS3.p2.7.m7.1.1.3.cmml" xref="S2.SS3.p2.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.7.m7.1c">h_{t}</annotation></semantics></math> of size <math id="S2.SS3.p2.8.m8.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS3.p2.8.m8.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.8.m8.1.1" xref="S2.SS3.p2.8.m8.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.8.m8.1b"><ci id="S2.SS3.p2.8.m8.1.1.cmml" xref="S2.SS3.p2.8.m8.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.8.m8.1c">D</annotation></semantics></math>, which is
mapped to a raw logit vector <math id="S2.SS3.p2.9.m9.1" class="ltx_Math" alttext="z_{t}" display="inline"><semantics id="S2.SS3.p2.9.m9.1a"><msub id="S2.SS3.p2.9.m9.1.1" xref="S2.SS3.p2.9.m9.1.1.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.9.m9.1.1.2" xref="S2.SS3.p2.9.m9.1.1.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S2.SS3.p2.9.m9.1.1.3" xref="S2.SS3.p2.9.m9.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.9.m9.1b"><apply id="S2.SS3.p2.9.m9.1.1.cmml" xref="S2.SS3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.9.m9.1.1.1.cmml" xref="S2.SS3.p2.9.m9.1.1">subscript</csymbol><ci id="S2.SS3.p2.9.m9.1.1.2.cmml" xref="S2.SS3.p2.9.m9.1.1.2">𝑧</ci><ci id="S2.SS3.p2.9.m9.1.1.3.cmml" xref="S2.SS3.p2.9.m9.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.9.m9.1c">z_{t}</annotation></semantics></math> of size <math id="S2.SS3.p2.10.m10.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS3.p2.10.m10.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.10.m10.1.1" xref="S2.SS3.p2.10.m10.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.10.m10.1b"><ci id="S2.SS3.p2.10.m10.1.1.cmml" xref="S2.SS3.p2.10.m10.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.10.m10.1c">V</annotation></semantics></math> via a weighting
matrix <math id="S2.SS3.p2.11.m11.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S2.SS3.p2.11.m11.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.11.m11.1.1" xref="S2.SS3.p2.11.m11.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.11.m11.1b"><ci id="S2.SS3.p2.11.m11.1.1.cmml" xref="S2.SS3.p2.11.m11.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.11.m11.1c">W</annotation></semantics></math> and bias <math id="S2.SS3.p2.12.m12.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S2.SS3.p2.12.m12.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.12.m12.1.1" xref="S2.SS3.p2.12.m12.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.12.m12.1b"><ci id="S2.SS3.p2.12.m12.1.1.cmml" xref="S2.SS3.p2.12.m12.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.12.m12.1c">b</annotation></semantics></math>. This extra linear projection is not part
of the orthodox CIFG cell structure that was introduced in
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, and is included to accommodate the model’s tied input and
output embedding matrices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>. A softmax output
layer finally maps this to an <math id="S2.SS3.p2.13.m13.2" class="ltx_Math" alttext="[0,1]^{V}" display="inline"><semantics id="S2.SS3.p2.13.m13.2a"><msup id="S2.SS3.p2.13.m13.2.3" xref="S2.SS3.p2.13.m13.2.3.cmml"><mrow id="S2.SS3.p2.13.m13.2.3.2.2" xref="S2.SS3.p2.13.m13.2.3.2.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S2.SS3.p2.13.m13.2.3.2.2.1" xref="S2.SS3.p2.13.m13.2.3.2.1.cmml">[</mo><mn mathbackground="#FFFFFF" id="S2.SS3.p2.13.m13.1.1" xref="S2.SS3.p2.13.m13.1.1.cmml">0</mn><mo mathbackground="#FFFFFF" id="S2.SS3.p2.13.m13.2.3.2.2.2" xref="S2.SS3.p2.13.m13.2.3.2.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S2.SS3.p2.13.m13.2.2" xref="S2.SS3.p2.13.m13.2.2.cmml">1</mn><mo mathbackground="#FFFFFF" stretchy="false" id="S2.SS3.p2.13.m13.2.3.2.2.3" xref="S2.SS3.p2.13.m13.2.3.2.1.cmml">]</mo></mrow><mi mathbackground="#FFFFFF" id="S2.SS3.p2.13.m13.2.3.3" xref="S2.SS3.p2.13.m13.2.3.3.cmml">V</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.13.m13.2b"><apply id="S2.SS3.p2.13.m13.2.3.cmml" xref="S2.SS3.p2.13.m13.2.3"><csymbol cd="ambiguous" id="S2.SS3.p2.13.m13.2.3.1.cmml" xref="S2.SS3.p2.13.m13.2.3">superscript</csymbol><interval closure="closed" id="S2.SS3.p2.13.m13.2.3.2.1.cmml" xref="S2.SS3.p2.13.m13.2.3.2.2"><cn type="integer" id="S2.SS3.p2.13.m13.1.1.cmml" xref="S2.SS3.p2.13.m13.1.1">0</cn><cn type="integer" id="S2.SS3.p2.13.m13.2.2.cmml" xref="S2.SS3.p2.13.m13.2.2">1</cn></interval><ci id="S2.SS3.p2.13.m13.2.3.3.cmml" xref="S2.SS3.p2.13.m13.2.3.3">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.13.m13.2c">[0,1]^{V}</annotation></semantics></math> vector <math id="S2.SS3.p2.14.m14.1" class="ltx_Math" alttext="\hat{y}_{t}" display="inline"><semantics id="S2.SS3.p2.14.m14.1a"><msub id="S2.SS3.p2.14.m14.1.1" xref="S2.SS3.p2.14.m14.1.1.cmml"><mover accent="true" id="S2.SS3.p2.14.m14.1.1.2" xref="S2.SS3.p2.14.m14.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.14.m14.1.1.2.2" xref="S2.SS3.p2.14.m14.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S2.SS3.p2.14.m14.1.1.2.1" xref="S2.SS3.p2.14.m14.1.1.2.1.cmml">^</mo></mover><mi mathbackground="#FFFFFF" id="S2.SS3.p2.14.m14.1.1.3" xref="S2.SS3.p2.14.m14.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.14.m14.1b"><apply id="S2.SS3.p2.14.m14.1.1.cmml" xref="S2.SS3.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.14.m14.1.1.1.cmml" xref="S2.SS3.p2.14.m14.1.1">subscript</csymbol><apply id="S2.SS3.p2.14.m14.1.1.2.cmml" xref="S2.SS3.p2.14.m14.1.1.2"><ci id="S2.SS3.p2.14.m14.1.1.2.1.cmml" xref="S2.SS3.p2.14.m14.1.1.2.1">^</ci><ci id="S2.SS3.p2.14.m14.1.1.2.2.cmml" xref="S2.SS3.p2.14.m14.1.1.2.2">𝑦</ci></apply><ci id="S2.SS3.p2.14.m14.1.1.3.cmml" xref="S2.SS3.p2.14.m14.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.14.m14.1c">\hat{y}_{t}</annotation></semantics></math> of
probabilities, the <math id="S2.SS3.p2.15.m15.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS3.p2.15.m15.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.15.m15.1.1" xref="S2.SS3.p2.15.m15.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.15.m15.1b"><ci id="S2.SS3.p2.15.m15.1.1.cmml" xref="S2.SS3.p2.15.m15.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.15.m15.1c">i</annotation></semantics></math>’th element being the estimated probability
that the next word is the <math id="S2.SS3.p2.16.m16.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS3.p2.16.m16.1a"><mi mathbackground="#FFFFFF" id="S2.SS3.p2.16.m16.1.1" xref="S2.SS3.p2.16.m16.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.16.m16.1b"><ci id="S2.SS3.p2.16.m16.1.1.cmml" xref="S2.SS3.p2.16.m16.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.16.m16.1c">i</annotation></semantics></math>’th dictionary entry.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Reconstruction Attack</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Word Recovery</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">In next word prediction the input to the RNN is echoed in it’s output.
That is, the output of the RNN aims to match the sequence of words
typed by the user, albeit with a shift one word ahead. The sign of
the output loss gradient directly reveals information about the words
typed by the user, which can then be recovered easily by
inspection. This key observation, first made in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>,
is the basis of our word recovery attack.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.3" class="ltx_p">After the user has typed <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">t</annotation></semantics></math> words, the output of the LSTM model at
timestep <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">t</annotation></semantics></math> is the next word prediction vector <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\hat{y}_{t}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mover accent="true" id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.3.m3.1.1.2.2" xref="S3.SS1.p2.3.m3.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p2.3.m3.1.1.2.1" xref="S3.SS1.p2.3.m3.1.1.2.1.cmml">^</mo></mover><mi mathbackground="#FFFFFF" id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><apply id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2"><ci id="S3.SS1.p2.3.m3.1.1.2.1.cmml" xref="S3.SS1.p2.3.m3.1.1.2.1">^</ci><ci id="S3.SS1.p2.3.m3.1.1.2.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2.2">𝑦</ci></apply><ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\hat{y}_{t}</annotation></semantics></math>,</p>
<table id="S8.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.7" class="ltx_Math" alttext="\displaystyle\hat{y}_{t,i}=\frac{e^{z_{i}}}{\sum_{j=1}^{V}e^{z_{j}}},\ i=1,\dots,V" display="inline"><semantics id="S3.Ex1.m1.7a"><mrow id="S3.Ex1.m1.7.7.2" xref="S3.Ex1.m1.7.7.3.cmml"><mrow id="S3.Ex1.m1.6.6.1.1" xref="S3.Ex1.m1.6.6.1.1.cmml"><msub id="S3.Ex1.m1.6.6.1.1.2" xref="S3.Ex1.m1.6.6.1.1.2.cmml"><mover accent="true" id="S3.Ex1.m1.6.6.1.1.2.2" xref="S3.Ex1.m1.6.6.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.2.2.2" xref="S3.Ex1.m1.6.6.1.1.2.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.2.2.1" xref="S3.Ex1.m1.6.6.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.Ex1.m1.2.2.2.4" xref="S3.Ex1.m1.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.2.2.2.4.1" xref="S3.Ex1.m1.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.2.2.2.2" xref="S3.Ex1.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.1" xref="S3.Ex1.m1.6.6.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S3.Ex1.m1.6.6.1.1.3" xref="S3.Ex1.m1.6.6.1.1.3.cmml"><mfrac id="S3.Ex1.m1.6.6.1.1.3a" xref="S3.Ex1.m1.6.6.1.1.3.cmml"><msup id="S3.Ex1.m1.6.6.1.1.3.2" xref="S3.Ex1.m1.6.6.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.2.2" xref="S3.Ex1.m1.6.6.1.1.3.2.2.cmml">e</mi><msub id="S3.Ex1.m1.6.6.1.1.3.2.3" xref="S3.Ex1.m1.6.6.1.1.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.2.3.2" xref="S3.Ex1.m1.6.6.1.1.3.2.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.2.3.3" xref="S3.Ex1.m1.6.6.1.1.3.2.3.3.cmml">i</mi></msub></msup><mrow id="S3.Ex1.m1.6.6.1.1.3.3" xref="S3.Ex1.m1.6.6.1.1.3.3.cmml"><msubsup id="S3.Ex1.m1.6.6.1.1.3.3.1" xref="S3.Ex1.m1.6.6.1.1.3.3.1.cmml"><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.2" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.2" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.2.cmml">j</mi><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.1" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.3" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.1.3" xref="S3.Ex1.m1.6.6.1.1.3.3.1.3.cmml">V</mi></msubsup><msup id="S3.Ex1.m1.6.6.1.1.3.3.2" xref="S3.Ex1.m1.6.6.1.1.3.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.2.2" xref="S3.Ex1.m1.6.6.1.1.3.3.2.2.cmml">e</mi><msub id="S3.Ex1.m1.6.6.1.1.3.3.2.3" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.2.3.2" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.6.6.1.1.3.3.2.3.3" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3.3.cmml">j</mi></msub></msup></mrow></mfrac></mstyle></mrow><mo mathbackground="#FFFFFF" rspace="0.667em" id="S3.Ex1.m1.7.7.2.3" xref="S3.Ex1.m1.7.7.3a.cmml">,</mo><mrow id="S3.Ex1.m1.7.7.2.2" xref="S3.Ex1.m1.7.7.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.7.7.2.2.2" xref="S3.Ex1.m1.7.7.2.2.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.7.7.2.2.1" xref="S3.Ex1.m1.7.7.2.2.1.cmml">=</mo><mrow id="S3.Ex1.m1.7.7.2.2.3.2" xref="S3.Ex1.m1.7.7.2.2.3.1.cmml"><mn mathbackground="#FFFFFF" id="S3.Ex1.m1.3.3" xref="S3.Ex1.m1.3.3.cmml">1</mn><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.7.7.2.2.3.2.1" xref="S3.Ex1.m1.7.7.2.2.3.1.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex1.m1.4.4" xref="S3.Ex1.m1.4.4.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex1.m1.7.7.2.2.3.2.2" xref="S3.Ex1.m1.7.7.2.2.3.1.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex1.m1.5.5" xref="S3.Ex1.m1.5.5.cmml">V</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.7b"><apply id="S3.Ex1.m1.7.7.3.cmml" xref="S3.Ex1.m1.7.7.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.7.7.3a.cmml" xref="S3.Ex1.m1.7.7.2.3">formulae-sequence</csymbol><apply id="S3.Ex1.m1.6.6.1.1.cmml" xref="S3.Ex1.m1.6.6.1.1"><eq id="S3.Ex1.m1.6.6.1.1.1.cmml" xref="S3.Ex1.m1.6.6.1.1.1"></eq><apply id="S3.Ex1.m1.6.6.1.1.2.cmml" xref="S3.Ex1.m1.6.6.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.2.1.cmml" xref="S3.Ex1.m1.6.6.1.1.2">subscript</csymbol><apply id="S3.Ex1.m1.6.6.1.1.2.2.cmml" xref="S3.Ex1.m1.6.6.1.1.2.2"><ci id="S3.Ex1.m1.6.6.1.1.2.2.1.cmml" xref="S3.Ex1.m1.6.6.1.1.2.2.1">^</ci><ci id="S3.Ex1.m1.6.6.1.1.2.2.2.cmml" xref="S3.Ex1.m1.6.6.1.1.2.2.2">𝑦</ci></apply><list id="S3.Ex1.m1.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.2.4"><ci id="S3.Ex1.m1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1">𝑡</ci><ci id="S3.Ex1.m1.2.2.2.2.cmml" xref="S3.Ex1.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S3.Ex1.m1.6.6.1.1.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3"><divide id="S3.Ex1.m1.6.6.1.1.3.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3"></divide><apply id="S3.Ex1.m1.6.6.1.1.3.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.2.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2">superscript</csymbol><ci id="S3.Ex1.m1.6.6.1.1.3.2.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2.2">𝑒</ci><apply id="S3.Ex1.m1.6.6.1.1.3.2.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.2.3.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2.3">subscript</csymbol><ci id="S3.Ex1.m1.6.6.1.1.3.2.3.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2.3.2">𝑧</ci><ci id="S3.Ex1.m1.6.6.1.1.3.2.3.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.2.3.3">𝑖</ci></apply></apply><apply id="S3.Ex1.m1.6.6.1.1.3.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3"><apply id="S3.Ex1.m1.6.6.1.1.3.3.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.3.1.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1">superscript</csymbol><apply id="S3.Ex1.m1.6.6.1.1.3.3.1.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1">subscript</csymbol><sum id="S3.Ex1.m1.6.6.1.1.3.3.1.2.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.2"></sum><apply id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3"><eq id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.1"></eq><ci id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.2">𝑗</ci><cn type="integer" id="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex1.m1.6.6.1.1.3.3.1.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.1.3">𝑉</ci></apply><apply id="S3.Ex1.m1.6.6.1.1.3.3.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.3.2.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2">superscript</csymbol><ci id="S3.Ex1.m1.6.6.1.1.3.3.2.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2.2">𝑒</ci><apply id="S3.Ex1.m1.6.6.1.1.3.3.2.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.6.6.1.1.3.3.2.3.1.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3">subscript</csymbol><ci id="S3.Ex1.m1.6.6.1.1.3.3.2.3.2.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3.2">𝑧</ci><ci id="S3.Ex1.m1.6.6.1.1.3.3.2.3.3.cmml" xref="S3.Ex1.m1.6.6.1.1.3.3.2.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.Ex1.m1.7.7.2.2.cmml" xref="S3.Ex1.m1.7.7.2.2"><eq id="S3.Ex1.m1.7.7.2.2.1.cmml" xref="S3.Ex1.m1.7.7.2.2.1"></eq><ci id="S3.Ex1.m1.7.7.2.2.2.cmml" xref="S3.Ex1.m1.7.7.2.2.2">𝑖</ci><list id="S3.Ex1.m1.7.7.2.2.3.1.cmml" xref="S3.Ex1.m1.7.7.2.2.3.2"><cn type="integer" id="S3.Ex1.m1.3.3.cmml" xref="S3.Ex1.m1.3.3">1</cn><ci id="S3.Ex1.m1.4.4.cmml" xref="S3.Ex1.m1.4.4">…</ci><ci id="S3.Ex1.m1.5.5.cmml" xref="S3.Ex1.m1.5.5">𝑉</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.7c">\displaystyle\hat{y}_{t,i}=\frac{e^{z_{i}}}{\sum_{j=1}^{V}e^{z_{j}}},\ i=1,\dots,V</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.7" class="ltx_p">with raw logit vector <math id="S3.SS1.p2.4.m1.1" class="ltx_Math" alttext="z_{t}=Wh_{t}+b" display="inline"><semantics id="S3.SS1.p2.4.m1.1a"><mrow id="S3.SS1.p2.4.m1.1.1" xref="S3.SS1.p2.4.m1.1.1.cmml"><msub id="S3.SS1.p2.4.m1.1.1.2" xref="S3.SS1.p2.4.m1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.2.2" xref="S3.SS1.p2.4.m1.1.1.2.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.2.3" xref="S3.SS1.p2.4.m1.1.1.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.1" xref="S3.SS1.p2.4.m1.1.1.1.cmml">=</mo><mrow id="S3.SS1.p2.4.m1.1.1.3" xref="S3.SS1.p2.4.m1.1.1.3.cmml"><mrow id="S3.SS1.p2.4.m1.1.1.3.2" xref="S3.SS1.p2.4.m1.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.3.2.2" xref="S3.SS1.p2.4.m1.1.1.3.2.2.cmml">W</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.4.m1.1.1.3.2.1" xref="S3.SS1.p2.4.m1.1.1.3.2.1.cmml">​</mo><msub id="S3.SS1.p2.4.m1.1.1.3.2.3" xref="S3.SS1.p2.4.m1.1.1.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.3.2.3.2" xref="S3.SS1.p2.4.m1.1.1.3.2.3.2.cmml">h</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.3.2.3.3" xref="S3.SS1.p2.4.m1.1.1.3.2.3.3.cmml">t</mi></msub></mrow><mo mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.3.1" xref="S3.SS1.p2.4.m1.1.1.3.1.cmml">+</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.4.m1.1.1.3.3" xref="S3.SS1.p2.4.m1.1.1.3.3.cmml">b</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m1.1b"><apply id="S3.SS1.p2.4.m1.1.1.cmml" xref="S3.SS1.p2.4.m1.1.1"><eq id="S3.SS1.p2.4.m1.1.1.1.cmml" xref="S3.SS1.p2.4.m1.1.1.1"></eq><apply id="S3.SS1.p2.4.m1.1.1.2.cmml" xref="S3.SS1.p2.4.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m1.1.1.2.1.cmml" xref="S3.SS1.p2.4.m1.1.1.2">subscript</csymbol><ci id="S3.SS1.p2.4.m1.1.1.2.2.cmml" xref="S3.SS1.p2.4.m1.1.1.2.2">𝑧</ci><ci id="S3.SS1.p2.4.m1.1.1.2.3.cmml" xref="S3.SS1.p2.4.m1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS1.p2.4.m1.1.1.3.cmml" xref="S3.SS1.p2.4.m1.1.1.3"><plus id="S3.SS1.p2.4.m1.1.1.3.1.cmml" xref="S3.SS1.p2.4.m1.1.1.3.1"></plus><apply id="S3.SS1.p2.4.m1.1.1.3.2.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2"><times id="S3.SS1.p2.4.m1.1.1.3.2.1.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.1"></times><ci id="S3.SS1.p2.4.m1.1.1.3.2.2.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.2">𝑊</ci><apply id="S3.SS1.p2.4.m1.1.1.3.2.3.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m1.1.1.3.2.3.1.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.3">subscript</csymbol><ci id="S3.SS1.p2.4.m1.1.1.3.2.3.2.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.3.2">ℎ</ci><ci id="S3.SS1.p2.4.m1.1.1.3.2.3.3.cmml" xref="S3.SS1.p2.4.m1.1.1.3.2.3.3">𝑡</ci></apply></apply><ci id="S3.SS1.p2.4.m1.1.1.3.3.cmml" xref="S3.SS1.p2.4.m1.1.1.3.3">𝑏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m1.1c">z_{t}=Wh_{t}+b</annotation></semantics></math>, where <math id="S3.SS1.p2.5.m2.1" class="ltx_Math" alttext="h_{t}" display="inline"><semantics id="S3.SS1.p2.5.m2.1a"><msub id="S3.SS1.p2.5.m2.1.1" xref="S3.SS1.p2.5.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.5.m2.1.1.2" xref="S3.SS1.p2.5.m2.1.1.2.cmml">h</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.5.m2.1.1.3" xref="S3.SS1.p2.5.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m2.1b"><apply id="S3.SS1.p2.5.m2.1.1.cmml" xref="S3.SS1.p2.5.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m2.1.1.1.cmml" xref="S3.SS1.p2.5.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m2.1.1.2.cmml" xref="S3.SS1.p2.5.m2.1.1.2">ℎ</ci><ci id="S3.SS1.p2.5.m2.1.1.3.cmml" xref="S3.SS1.p2.5.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m2.1c">h_{t}</annotation></semantics></math> is
the output of the LSTM layer. The cross-entropy loss function for
text consisting of <math id="S3.SS1.p2.6.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.p2.6.m3.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.6.m3.1.1" xref="S3.SS1.p2.6.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m3.1b"><ci id="S3.SS1.p2.6.m3.1.1.cmml" xref="S3.SS1.p2.6.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m3.1c">T</annotation></semantics></math> words is <math id="S3.SS1.p2.7.m4.2" class="ltx_Math" alttext="J_{1:T}(\theta)=\sum_{t=1}^{T}J_{t}(\theta)" display="inline"><semantics id="S3.SS1.p2.7.m4.2a"><mrow id="S3.SS1.p2.7.m4.2.3" xref="S3.SS1.p2.7.m4.2.3.cmml"><mrow id="S3.SS1.p2.7.m4.2.3.2" xref="S3.SS1.p2.7.m4.2.3.2.cmml"><msub id="S3.SS1.p2.7.m4.2.3.2.2" xref="S3.SS1.p2.7.m4.2.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.2.2.2" xref="S3.SS1.p2.7.m4.2.3.2.2.2.cmml">J</mi><mrow id="S3.SS1.p2.7.m4.2.3.2.2.3" xref="S3.SS1.p2.7.m4.2.3.2.2.3.cmml"><mn mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.2.2.3.2" xref="S3.SS1.p2.7.m4.2.3.2.2.3.2.cmml">1</mn><mo lspace="0.278em" mathbackground="#FFFFFF" rspace="0.278em" id="S3.SS1.p2.7.m4.2.3.2.2.3.1" xref="S3.SS1.p2.7.m4.2.3.2.2.3.1.cmml">:</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.2.2.3.3" xref="S3.SS1.p2.7.m4.2.3.2.2.3.3.cmml">T</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.7.m4.2.3.2.1" xref="S3.SS1.p2.7.m4.2.3.2.1.cmml">​</mo><mrow id="S3.SS1.p2.7.m4.2.3.2.3.2" xref="S3.SS1.p2.7.m4.2.3.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS1.p2.7.m4.2.3.2.3.2.1" xref="S3.SS1.p2.7.m4.2.3.2.cmml">(</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.1.1" xref="S3.SS1.p2.7.m4.1.1.cmml">θ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS1.p2.7.m4.2.3.2.3.2.2" xref="S3.SS1.p2.7.m4.2.3.2.cmml">)</mo></mrow></mrow><mo mathbackground="#FFFFFF" rspace="0.111em" id="S3.SS1.p2.7.m4.2.3.1" xref="S3.SS1.p2.7.m4.2.3.1.cmml">=</mo><mrow id="S3.SS1.p2.7.m4.2.3.3" xref="S3.SS1.p2.7.m4.2.3.3.cmml"><msubsup id="S3.SS1.p2.7.m4.2.3.3.1" xref="S3.SS1.p2.7.m4.2.3.3.1.cmml"><mo mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.1.2.2" xref="S3.SS1.p2.7.m4.2.3.3.1.2.2.cmml">∑</mo><mrow id="S3.SS1.p2.7.m4.2.3.3.1.2.3" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.1.2.3.2" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.2.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.1.2.3.1" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.1.2.3.3" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.1.3" xref="S3.SS1.p2.7.m4.2.3.3.1.3.cmml">T</mi></msubsup><mrow id="S3.SS1.p2.7.m4.2.3.3.2" xref="S3.SS1.p2.7.m4.2.3.3.2.cmml"><msub id="S3.SS1.p2.7.m4.2.3.3.2.2" xref="S3.SS1.p2.7.m4.2.3.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.2.2.2" xref="S3.SS1.p2.7.m4.2.3.3.2.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.3.3.2.2.3" xref="S3.SS1.p2.7.m4.2.3.3.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.7.m4.2.3.3.2.1" xref="S3.SS1.p2.7.m4.2.3.3.2.1.cmml">​</mo><mrow id="S3.SS1.p2.7.m4.2.3.3.2.3.2" xref="S3.SS1.p2.7.m4.2.3.3.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS1.p2.7.m4.2.3.3.2.3.2.1" xref="S3.SS1.p2.7.m4.2.3.3.2.cmml">(</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.7.m4.2.2" xref="S3.SS1.p2.7.m4.2.2.cmml">θ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS1.p2.7.m4.2.3.3.2.3.2.2" xref="S3.SS1.p2.7.m4.2.3.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m4.2b"><apply id="S3.SS1.p2.7.m4.2.3.cmml" xref="S3.SS1.p2.7.m4.2.3"><eq id="S3.SS1.p2.7.m4.2.3.1.cmml" xref="S3.SS1.p2.7.m4.2.3.1"></eq><apply id="S3.SS1.p2.7.m4.2.3.2.cmml" xref="S3.SS1.p2.7.m4.2.3.2"><times id="S3.SS1.p2.7.m4.2.3.2.1.cmml" xref="S3.SS1.p2.7.m4.2.3.2.1"></times><apply id="S3.SS1.p2.7.m4.2.3.2.2.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m4.2.3.2.2.1.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2">subscript</csymbol><ci id="S3.SS1.p2.7.m4.2.3.2.2.2.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2.2">𝐽</ci><apply id="S3.SS1.p2.7.m4.2.3.2.2.3.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2.3"><ci id="S3.SS1.p2.7.m4.2.3.2.2.3.1.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2.3.1">:</ci><cn type="integer" id="S3.SS1.p2.7.m4.2.3.2.2.3.2.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2.3.2">1</cn><ci id="S3.SS1.p2.7.m4.2.3.2.2.3.3.cmml" xref="S3.SS1.p2.7.m4.2.3.2.2.3.3">𝑇</ci></apply></apply><ci id="S3.SS1.p2.7.m4.1.1.cmml" xref="S3.SS1.p2.7.m4.1.1">𝜃</ci></apply><apply id="S3.SS1.p2.7.m4.2.3.3.cmml" xref="S3.SS1.p2.7.m4.2.3.3"><apply id="S3.SS1.p2.7.m4.2.3.3.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m4.2.3.3.1.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1">superscript</csymbol><apply id="S3.SS1.p2.7.m4.2.3.3.1.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m4.2.3.3.1.2.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1">subscript</csymbol><sum id="S3.SS1.p2.7.m4.2.3.3.1.2.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.2.2"></sum><apply id="S3.SS1.p2.7.m4.2.3.3.1.2.3.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3"><eq id="S3.SS1.p2.7.m4.2.3.3.1.2.3.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.1"></eq><ci id="S3.SS1.p2.7.m4.2.3.3.1.2.3.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS1.p2.7.m4.2.3.3.1.2.3.3.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.SS1.p2.7.m4.2.3.3.1.3.cmml" xref="S3.SS1.p2.7.m4.2.3.3.1.3">𝑇</ci></apply><apply id="S3.SS1.p2.7.m4.2.3.3.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2"><times id="S3.SS1.p2.7.m4.2.3.3.2.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2.1"></times><apply id="S3.SS1.p2.7.m4.2.3.3.2.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m4.2.3.3.2.2.1.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p2.7.m4.2.3.3.2.2.2.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2.2.2">𝐽</ci><ci id="S3.SS1.p2.7.m4.2.3.3.2.2.3.cmml" xref="S3.SS1.p2.7.m4.2.3.3.2.2.3">𝑡</ci></apply><ci id="S3.SS1.p2.7.m4.2.2.cmml" xref="S3.SS1.p2.7.m4.2.2">𝜃</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m4.2c">J_{1:T}(\theta)=\sum_{t=1}^{T}J_{t}(\theta)</annotation></semantics></math> where</p>
<table id="S8.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex2.m1.4" class="ltx_Math" alttext="\displaystyle J_{t}(\theta)=-\log\frac{e^{z_{i^{*}}(\theta)}}{\sum_{j=1}^{V}e^{z_{j}(\theta)}}," display="inline"><semantics id="S3.Ex2.m1.4a"><mrow id="S3.Ex2.m1.4.4.1" xref="S3.Ex2.m1.4.4.1.1.cmml"><mrow id="S3.Ex2.m1.4.4.1.1" xref="S3.Ex2.m1.4.4.1.1.cmml"><mrow id="S3.Ex2.m1.4.4.1.1.2" xref="S3.Ex2.m1.4.4.1.1.2.cmml"><msub id="S3.Ex2.m1.4.4.1.1.2.2" xref="S3.Ex2.m1.4.4.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.4.4.1.1.2.2.2" xref="S3.Ex2.m1.4.4.1.1.2.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.4.4.1.1.2.2.3" xref="S3.Ex2.m1.4.4.1.1.2.2.3.cmml">t</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.4.4.1.1.2.1" xref="S3.Ex2.m1.4.4.1.1.2.1.cmml">​</mo><mrow id="S3.Ex2.m1.4.4.1.1.2.3.2" xref="S3.Ex2.m1.4.4.1.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.4.4.1.1.2.3.2.1" xref="S3.Ex2.m1.4.4.1.1.2.cmml">(</mo><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.3.3" xref="S3.Ex2.m1.3.3.cmml">θ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.4.4.1.1.2.3.2.2" xref="S3.Ex2.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo mathbackground="#FFFFFF" id="S3.Ex2.m1.4.4.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.cmml">=</mo><mrow id="S3.Ex2.m1.4.4.1.1.3" xref="S3.Ex2.m1.4.4.1.1.3.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="S3.Ex2.m1.4.4.1.1.3a" xref="S3.Ex2.m1.4.4.1.1.3.cmml">−</mo><mrow id="S3.Ex2.m1.4.4.1.1.3.2" xref="S3.Ex2.m1.4.4.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.4.4.1.1.3.2.1" xref="S3.Ex2.m1.4.4.1.1.3.2.1.cmml">log</mi><mo lspace="0.167em" id="S3.Ex2.m1.4.4.1.1.3.2a" xref="S3.Ex2.m1.4.4.1.1.3.2.cmml">⁡</mo><mstyle displaystyle="true" id="S3.Ex2.m1.2.2" xref="S3.Ex2.m1.2.2.cmml"><mfrac id="S3.Ex2.m1.2.2a" xref="S3.Ex2.m1.2.2.cmml"><msup id="S3.Ex2.m1.1.1.1" xref="S3.Ex2.m1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.3.cmml">e</mi><mrow id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><msub id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.1.1.1.1.1.3.2.cmml">z</mi><msup id="S3.Ex2.m1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.1.1.1.1.1.3.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.1.1.1.1.1.3.3.2" xref="S3.Ex2.m1.1.1.1.1.1.3.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex2.m1.1.1.1.1.1.3.3.3" xref="S3.Ex2.m1.1.1.1.1.1.3.3.3.cmml">∗</mo></msup></msub><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex2.m1.1.1.1.1.1.4.2" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.1.1.1.1.1.4.2.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml">(</mo><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.1.cmml">θ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.1.1.1.1.1.4.2.2" xref="S3.Ex2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msup><mrow id="S3.Ex2.m1.2.2.2" xref="S3.Ex2.m1.2.2.2.cmml"><msubsup id="S3.Ex2.m1.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2.cmml"><mo mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2.2.2.cmml">∑</mo><mrow id="S3.Ex2.m1.2.2.2.2.2.3" xref="S3.Ex2.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.2.2.3.2" xref="S3.Ex2.m1.2.2.2.2.2.3.2.cmml">j</mi><mo mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.2.2.3.1" xref="S3.Ex2.m1.2.2.2.2.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.2.2.3.3" xref="S3.Ex2.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.2.3" xref="S3.Ex2.m1.2.2.2.2.3.cmml">V</mi></msubsup><msup id="S3.Ex2.m1.2.2.2.3" xref="S3.Ex2.m1.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.3.2" xref="S3.Ex2.m1.2.2.2.3.2.cmml">e</mi><mrow id="S3.Ex2.m1.2.2.2.1.1" xref="S3.Ex2.m1.2.2.2.1.1.cmml"><msub id="S3.Ex2.m1.2.2.2.1.1.3" xref="S3.Ex2.m1.2.2.2.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.1.1.3.2" xref="S3.Ex2.m1.2.2.2.1.1.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.1.1.3.3" xref="S3.Ex2.m1.2.2.2.1.1.3.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.2.2.2.1.1.2" xref="S3.Ex2.m1.2.2.2.1.1.2.cmml">​</mo><mrow id="S3.Ex2.m1.2.2.2.1.1.4.2" xref="S3.Ex2.m1.2.2.2.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.2.2.2.1.1.4.2.1" xref="S3.Ex2.m1.2.2.2.1.1.cmml">(</mo><mi mathbackground="#FFFFFF" id="S3.Ex2.m1.2.2.2.1.1.1" xref="S3.Ex2.m1.2.2.2.1.1.1.cmml">θ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex2.m1.2.2.2.1.1.4.2.2" xref="S3.Ex2.m1.2.2.2.1.1.cmml">)</mo></mrow></mrow></msup></mrow></mfrac></mstyle></mrow></mrow></mrow><mo mathbackground="#FFFFFF" id="S3.Ex2.m1.4.4.1.2" xref="S3.Ex2.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.4b"><apply id="S3.Ex2.m1.4.4.1.1.cmml" xref="S3.Ex2.m1.4.4.1"><eq id="S3.Ex2.m1.4.4.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1"></eq><apply id="S3.Ex2.m1.4.4.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.2"><times id="S3.Ex2.m1.4.4.1.1.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.2.1"></times><apply id="S3.Ex2.m1.4.4.1.1.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.2.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.2.2">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.2.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.2.2.2">𝐽</ci><ci id="S3.Ex2.m1.4.4.1.1.2.2.3.cmml" xref="S3.Ex2.m1.4.4.1.1.2.2.3">𝑡</ci></apply><ci id="S3.Ex2.m1.3.3.cmml" xref="S3.Ex2.m1.3.3">𝜃</ci></apply><apply id="S3.Ex2.m1.4.4.1.1.3.cmml" xref="S3.Ex2.m1.4.4.1.1.3"><minus id="S3.Ex2.m1.4.4.1.1.3.1.cmml" xref="S3.Ex2.m1.4.4.1.1.3"></minus><apply id="S3.Ex2.m1.4.4.1.1.3.2.cmml" xref="S3.Ex2.m1.4.4.1.1.3.2"><log id="S3.Ex2.m1.4.4.1.1.3.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.3.2.1"></log><apply id="S3.Ex2.m1.2.2.cmml" xref="S3.Ex2.m1.2.2"><divide id="S3.Ex2.m1.2.2.3.cmml" xref="S3.Ex2.m1.2.2"></divide><apply id="S3.Ex2.m1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1">superscript</csymbol><ci id="S3.Ex2.m1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.3">𝑒</ci><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1"><times id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2"></times><apply id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.2">𝑧</ci><apply id="S3.Ex2.m1.1.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3">superscript</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3.2">𝑖</ci><times id="S3.Ex2.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3.3.3"></times></apply></apply><ci id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1.1">𝜃</ci></apply></apply><apply id="S3.Ex2.m1.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2"><apply id="S3.Ex2.m1.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.2.2.1.cmml" xref="S3.Ex2.m1.2.2.2.2">superscript</csymbol><apply id="S3.Ex2.m1.2.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.2.2.2.1.cmml" xref="S3.Ex2.m1.2.2.2.2">subscript</csymbol><sum id="S3.Ex2.m1.2.2.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2.2.2"></sum><apply id="S3.Ex2.m1.2.2.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.2.2.3"><eq id="S3.Ex2.m1.2.2.2.2.2.3.1.cmml" xref="S3.Ex2.m1.2.2.2.2.2.3.1"></eq><ci id="S3.Ex2.m1.2.2.2.2.2.3.2.cmml" xref="S3.Ex2.m1.2.2.2.2.2.3.2">𝑗</ci><cn type="integer" id="S3.Ex2.m1.2.2.2.2.2.3.3.cmml" xref="S3.Ex2.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S3.Ex2.m1.2.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.2.3">𝑉</ci></apply><apply id="S3.Ex2.m1.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.2.3.1.cmml" xref="S3.Ex2.m1.2.2.2.3">superscript</csymbol><ci id="S3.Ex2.m1.2.2.2.3.2.cmml" xref="S3.Ex2.m1.2.2.2.3.2">𝑒</ci><apply id="S3.Ex2.m1.2.2.2.1.1.cmml" xref="S3.Ex2.m1.2.2.2.1.1"><times id="S3.Ex2.m1.2.2.2.1.1.2.cmml" xref="S3.Ex2.m1.2.2.2.1.1.2"></times><apply id="S3.Ex2.m1.2.2.2.1.1.3.cmml" xref="S3.Ex2.m1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.2.1.1.3.1.cmml" xref="S3.Ex2.m1.2.2.2.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.2.2.2.1.1.3.2.cmml" xref="S3.Ex2.m1.2.2.2.1.1.3.2">𝑧</ci><ci id="S3.Ex2.m1.2.2.2.1.1.3.3.cmml" xref="S3.Ex2.m1.2.2.2.1.1.3.3">𝑗</ci></apply><ci id="S3.Ex2.m1.2.2.2.1.1.1.cmml" xref="S3.Ex2.m1.2.2.2.1.1.1">𝜃</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.4c">\displaystyle J_{t}(\theta)=-\log\frac{e^{z_{i^{*}}(\theta)}}{\sum_{j=1}^{V}e^{z_{j}(\theta)}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.13" class="ltx_p">and <math id="S3.SS1.p2.8.m1.1" class="ltx_Math" alttext="i^{*}_{t}" display="inline"><semantics id="S3.SS1.p2.8.m1.1a"><msubsup id="S3.SS1.p2.8.m1.1.1" xref="S3.SS1.p2.8.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.8.m1.1.1.2.2" xref="S3.SS1.p2.8.m1.1.1.2.2.cmml">i</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.8.m1.1.1.3" xref="S3.SS1.p2.8.m1.1.1.3.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p2.8.m1.1.1.2.3" xref="S3.SS1.p2.8.m1.1.1.2.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m1.1b"><apply id="S3.SS1.p2.8.m1.1.1.cmml" xref="S3.SS1.p2.8.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m1.1.1.1.cmml" xref="S3.SS1.p2.8.m1.1.1">subscript</csymbol><apply id="S3.SS1.p2.8.m1.1.1.2.cmml" xref="S3.SS1.p2.8.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m1.1.1.2.1.cmml" xref="S3.SS1.p2.8.m1.1.1">superscript</csymbol><ci id="S3.SS1.p2.8.m1.1.1.2.2.cmml" xref="S3.SS1.p2.8.m1.1.1.2.2">𝑖</ci><times id="S3.SS1.p2.8.m1.1.1.2.3.cmml" xref="S3.SS1.p2.8.m1.1.1.2.3"></times></apply><ci id="S3.SS1.p2.8.m1.1.1.3.cmml" xref="S3.SS1.p2.8.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m1.1c">i^{*}_{t}</annotation></semantics></math> is the dictionary index of the <math id="S3.SS1.p2.9.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.p2.9.m2.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.9.m2.1.1" xref="S3.SS1.p2.9.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m2.1b"><ci id="S3.SS1.p2.9.m2.1.1.cmml" xref="S3.SS1.p2.9.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m2.1c">t</annotation></semantics></math>’th
word entered by the user and <math id="S3.SS1.p2.10.m3.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS1.p2.10.m3.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.10.m3.1.1" xref="S3.SS1.p2.10.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m3.1b"><ci id="S3.SS1.p2.10.m3.1.1.cmml" xref="S3.SS1.p2.10.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m3.1c">\theta</annotation></semantics></math> is the vector of neural net
parameters (including the elements of <math id="S3.SS1.p2.11.m4.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS1.p2.11.m4.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.11.m4.1.1" xref="S3.SS1.p2.11.m4.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m4.1b"><ci id="S3.SS1.p2.11.m4.1.1.cmml" xref="S3.SS1.p2.11.m4.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m4.1c">W</annotation></semantics></math> and <math id="S3.SS1.p2.12.m5.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p2.12.m5.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.12.m5.1.1" xref="S3.SS1.p2.12.m5.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m5.1b"><ci id="S3.SS1.p2.12.m5.1.1.cmml" xref="S3.SS1.p2.12.m5.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m5.1c">b</annotation></semantics></math>).
Differentiating with respect to the output bias parameters <math id="S3.SS1.p2.13.m6.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p2.13.m6.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.13.m6.1.1" xref="S3.SS1.p2.13.m6.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.13.m6.1b"><ci id="S3.SS1.p2.13.m6.1.1.cmml" xref="S3.SS1.p2.13.m6.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.13.m6.1c">b</annotation></semantics></math> we
have that,</p>
<table id="S8.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex3.m1.4" class="ltx_Math" alttext="\displaystyle\frac{\partial J_{1:T}}{\partial b_{k}}=\sum_{t=1}^{T}\sum_{i=1}^{V}\frac{\partial J_{t}}{\partial z_{t,i}}\frac{\partial z_{t,i}}{\partial b_{k}}" display="inline"><semantics id="S3.Ex3.m1.4a"><mrow id="S3.Ex3.m1.4.5" xref="S3.Ex3.m1.4.5.cmml"><mstyle displaystyle="true" id="S3.Ex3.m1.4.5.2" xref="S3.Ex3.m1.4.5.2.cmml"><mfrac id="S3.Ex3.m1.4.5.2a" xref="S3.Ex3.m1.4.5.2.cmml"><mrow id="S3.Ex3.m1.4.5.2.2" xref="S3.Ex3.m1.4.5.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.4.5.2.2.1" xref="S3.Ex3.m1.4.5.2.2.1.cmml">∂</mo><msub id="S3.Ex3.m1.4.5.2.2.2" xref="S3.Ex3.m1.4.5.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.2.2.2.2" xref="S3.Ex3.m1.4.5.2.2.2.2.cmml">J</mi><mrow id="S3.Ex3.m1.4.5.2.2.2.3" xref="S3.Ex3.m1.4.5.2.2.2.3.cmml"><mn mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.2.2.2.3.2" xref="S3.Ex3.m1.4.5.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" mathbackground="#FFFFFF" rspace="0.278em" id="S3.Ex3.m1.4.5.2.2.2.3.1" xref="S3.Ex3.m1.4.5.2.2.2.3.1.cmml">:</mo><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.2.2.2.3.3" xref="S3.Ex3.m1.4.5.2.2.2.3.3.cmml">T</mi></mrow></msub></mrow><mrow id="S3.Ex3.m1.4.5.2.3" xref="S3.Ex3.m1.4.5.2.3.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.4.5.2.3.1" xref="S3.Ex3.m1.4.5.2.3.1.cmml">∂</mo><msub id="S3.Ex3.m1.4.5.2.3.2" xref="S3.Ex3.m1.4.5.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.2.3.2.2" xref="S3.Ex3.m1.4.5.2.3.2.2.cmml">b</mi><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.2.3.2.3" xref="S3.Ex3.m1.4.5.2.3.2.3.cmml">k</mi></msub></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.1" xref="S3.Ex3.m1.4.5.1.cmml">=</mo><mrow id="S3.Ex3.m1.4.5.3" xref="S3.Ex3.m1.4.5.3.cmml"><mstyle displaystyle="true" id="S3.Ex3.m1.4.5.3.1" xref="S3.Ex3.m1.4.5.3.1.cmml"><munderover id="S3.Ex3.m1.4.5.3.1a" xref="S3.Ex3.m1.4.5.3.1.cmml"><mo mathbackground="#FFFFFF" movablelimits="false" id="S3.Ex3.m1.4.5.3.1.2.2" xref="S3.Ex3.m1.4.5.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex3.m1.4.5.3.1.2.3" xref="S3.Ex3.m1.4.5.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.1.2.3.2" xref="S3.Ex3.m1.4.5.3.1.2.3.2.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.1.2.3.1" xref="S3.Ex3.m1.4.5.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.1.2.3.3" xref="S3.Ex3.m1.4.5.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.1.3" xref="S3.Ex3.m1.4.5.3.1.3.cmml">T</mi></munderover></mstyle><mrow id="S3.Ex3.m1.4.5.3.2" xref="S3.Ex3.m1.4.5.3.2.cmml"><mstyle displaystyle="true" id="S3.Ex3.m1.4.5.3.2.1" xref="S3.Ex3.m1.4.5.3.2.1.cmml"><munderover id="S3.Ex3.m1.4.5.3.2.1a" xref="S3.Ex3.m1.4.5.3.2.1.cmml"><mo mathbackground="#FFFFFF" movablelimits="false" id="S3.Ex3.m1.4.5.3.2.1.2.2" xref="S3.Ex3.m1.4.5.3.2.1.2.2.cmml">∑</mo><mrow id="S3.Ex3.m1.4.5.3.2.1.2.3" xref="S3.Ex3.m1.4.5.3.2.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.2.1.2.3.2" xref="S3.Ex3.m1.4.5.3.2.1.2.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.2.1.2.3.1" xref="S3.Ex3.m1.4.5.3.2.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.2.1.2.3.3" xref="S3.Ex3.m1.4.5.3.2.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.5.3.2.1.3" xref="S3.Ex3.m1.4.5.3.2.1.3.cmml">V</mi></munderover></mstyle><mrow id="S3.Ex3.m1.4.5.3.2.2" xref="S3.Ex3.m1.4.5.3.2.2.cmml"><mstyle displaystyle="true" id="S3.Ex3.m1.2.2" xref="S3.Ex3.m1.2.2.cmml"><mfrac id="S3.Ex3.m1.2.2a" xref="S3.Ex3.m1.2.2.cmml"><mrow id="S3.Ex3.m1.2.2.4" xref="S3.Ex3.m1.2.2.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.2.2.4.1" xref="S3.Ex3.m1.2.2.4.1.cmml">∂</mo><msub id="S3.Ex3.m1.2.2.4.2" xref="S3.Ex3.m1.2.2.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.2.2.4.2.2" xref="S3.Ex3.m1.2.2.4.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.2.2.4.2.3" xref="S3.Ex3.m1.2.2.4.2.3.cmml">t</mi></msub></mrow><mrow id="S3.Ex3.m1.2.2.2" xref="S3.Ex3.m1.2.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.2.2.2.3" xref="S3.Ex3.m1.2.2.2.3.cmml">∂</mo><msub id="S3.Ex3.m1.2.2.2.4" xref="S3.Ex3.m1.2.2.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.2.2.2.4.2" xref="S3.Ex3.m1.2.2.2.4.2.cmml">z</mi><mrow id="S3.Ex3.m1.2.2.2.2.2.4" xref="S3.Ex3.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.1.1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex3.m1.2.2.2.2.2.4.1" xref="S3.Ex3.m1.2.2.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.cmml">i</mi></mrow></msub></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.Ex3.m1.4.5.3.2.2.1" xref="S3.Ex3.m1.4.5.3.2.2.1.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex3.m1.4.4" xref="S3.Ex3.m1.4.4.cmml"><mfrac id="S3.Ex3.m1.4.4a" xref="S3.Ex3.m1.4.4.cmml"><mrow id="S3.Ex3.m1.4.4.2" xref="S3.Ex3.m1.4.4.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.4.4.2.3" xref="S3.Ex3.m1.4.4.2.3.cmml">∂</mo><msub id="S3.Ex3.m1.4.4.2.4" xref="S3.Ex3.m1.4.4.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.4.2.4.2" xref="S3.Ex3.m1.4.4.2.4.2.cmml">z</mi><mrow id="S3.Ex3.m1.4.4.2.2.2.4" xref="S3.Ex3.m1.4.4.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.3.3.1.1.1.1" xref="S3.Ex3.m1.3.3.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex3.m1.4.4.2.2.2.4.1" xref="S3.Ex3.m1.4.4.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.4.2.2.2.2" xref="S3.Ex3.m1.4.4.2.2.2.2.cmml">i</mi></mrow></msub></mrow><mrow id="S3.Ex3.m1.4.4.4" xref="S3.Ex3.m1.4.4.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex3.m1.4.4.4.1" xref="S3.Ex3.m1.4.4.4.1.cmml">∂</mo><msub id="S3.Ex3.m1.4.4.4.2" xref="S3.Ex3.m1.4.4.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.4.4.2.2" xref="S3.Ex3.m1.4.4.4.2.2.cmml">b</mi><mi mathbackground="#FFFFFF" id="S3.Ex3.m1.4.4.4.2.3" xref="S3.Ex3.m1.4.4.4.2.3.cmml">k</mi></msub></mrow></mfrac></mstyle></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.4b"><apply id="S3.Ex3.m1.4.5.cmml" xref="S3.Ex3.m1.4.5"><eq id="S3.Ex3.m1.4.5.1.cmml" xref="S3.Ex3.m1.4.5.1"></eq><apply id="S3.Ex3.m1.4.5.2.cmml" xref="S3.Ex3.m1.4.5.2"><divide id="S3.Ex3.m1.4.5.2.1.cmml" xref="S3.Ex3.m1.4.5.2"></divide><apply id="S3.Ex3.m1.4.5.2.2.cmml" xref="S3.Ex3.m1.4.5.2.2"><partialdiff id="S3.Ex3.m1.4.5.2.2.1.cmml" xref="S3.Ex3.m1.4.5.2.2.1"></partialdiff><apply id="S3.Ex3.m1.4.5.2.2.2.cmml" xref="S3.Ex3.m1.4.5.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.2.2.2.1.cmml" xref="S3.Ex3.m1.4.5.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.4.5.2.2.2.2.cmml" xref="S3.Ex3.m1.4.5.2.2.2.2">𝐽</ci><apply id="S3.Ex3.m1.4.5.2.2.2.3.cmml" xref="S3.Ex3.m1.4.5.2.2.2.3"><ci id="S3.Ex3.m1.4.5.2.2.2.3.1.cmml" xref="S3.Ex3.m1.4.5.2.2.2.3.1">:</ci><cn type="integer" id="S3.Ex3.m1.4.5.2.2.2.3.2.cmml" xref="S3.Ex3.m1.4.5.2.2.2.3.2">1</cn><ci id="S3.Ex3.m1.4.5.2.2.2.3.3.cmml" xref="S3.Ex3.m1.4.5.2.2.2.3.3">𝑇</ci></apply></apply></apply><apply id="S3.Ex3.m1.4.5.2.3.cmml" xref="S3.Ex3.m1.4.5.2.3"><partialdiff id="S3.Ex3.m1.4.5.2.3.1.cmml" xref="S3.Ex3.m1.4.5.2.3.1"></partialdiff><apply id="S3.Ex3.m1.4.5.2.3.2.cmml" xref="S3.Ex3.m1.4.5.2.3.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.2.3.2.1.cmml" xref="S3.Ex3.m1.4.5.2.3.2">subscript</csymbol><ci id="S3.Ex3.m1.4.5.2.3.2.2.cmml" xref="S3.Ex3.m1.4.5.2.3.2.2">𝑏</ci><ci id="S3.Ex3.m1.4.5.2.3.2.3.cmml" xref="S3.Ex3.m1.4.5.2.3.2.3">𝑘</ci></apply></apply></apply><apply id="S3.Ex3.m1.4.5.3.cmml" xref="S3.Ex3.m1.4.5.3"><apply id="S3.Ex3.m1.4.5.3.1.cmml" xref="S3.Ex3.m1.4.5.3.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.3.1.1.cmml" xref="S3.Ex3.m1.4.5.3.1">superscript</csymbol><apply id="S3.Ex3.m1.4.5.3.1.2.cmml" xref="S3.Ex3.m1.4.5.3.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.3.1.2.1.cmml" xref="S3.Ex3.m1.4.5.3.1">subscript</csymbol><sum id="S3.Ex3.m1.4.5.3.1.2.2.cmml" xref="S3.Ex3.m1.4.5.3.1.2.2"></sum><apply id="S3.Ex3.m1.4.5.3.1.2.3.cmml" xref="S3.Ex3.m1.4.5.3.1.2.3"><eq id="S3.Ex3.m1.4.5.3.1.2.3.1.cmml" xref="S3.Ex3.m1.4.5.3.1.2.3.1"></eq><ci id="S3.Ex3.m1.4.5.3.1.2.3.2.cmml" xref="S3.Ex3.m1.4.5.3.1.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex3.m1.4.5.3.1.2.3.3.cmml" xref="S3.Ex3.m1.4.5.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex3.m1.4.5.3.1.3.cmml" xref="S3.Ex3.m1.4.5.3.1.3">𝑇</ci></apply><apply id="S3.Ex3.m1.4.5.3.2.cmml" xref="S3.Ex3.m1.4.5.3.2"><apply id="S3.Ex3.m1.4.5.3.2.1.cmml" xref="S3.Ex3.m1.4.5.3.2.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.3.2.1.1.cmml" xref="S3.Ex3.m1.4.5.3.2.1">superscript</csymbol><apply id="S3.Ex3.m1.4.5.3.2.1.2.cmml" xref="S3.Ex3.m1.4.5.3.2.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.5.3.2.1.2.1.cmml" xref="S3.Ex3.m1.4.5.3.2.1">subscript</csymbol><sum id="S3.Ex3.m1.4.5.3.2.1.2.2.cmml" xref="S3.Ex3.m1.4.5.3.2.1.2.2"></sum><apply id="S3.Ex3.m1.4.5.3.2.1.2.3.cmml" xref="S3.Ex3.m1.4.5.3.2.1.2.3"><eq id="S3.Ex3.m1.4.5.3.2.1.2.3.1.cmml" xref="S3.Ex3.m1.4.5.3.2.1.2.3.1"></eq><ci id="S3.Ex3.m1.4.5.3.2.1.2.3.2.cmml" xref="S3.Ex3.m1.4.5.3.2.1.2.3.2">𝑖</ci><cn type="integer" id="S3.Ex3.m1.4.5.3.2.1.2.3.3.cmml" xref="S3.Ex3.m1.4.5.3.2.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex3.m1.4.5.3.2.1.3.cmml" xref="S3.Ex3.m1.4.5.3.2.1.3">𝑉</ci></apply><apply id="S3.Ex3.m1.4.5.3.2.2.cmml" xref="S3.Ex3.m1.4.5.3.2.2"><times id="S3.Ex3.m1.4.5.3.2.2.1.cmml" xref="S3.Ex3.m1.4.5.3.2.2.1"></times><apply id="S3.Ex3.m1.2.2.cmml" xref="S3.Ex3.m1.2.2"><divide id="S3.Ex3.m1.2.2.3.cmml" xref="S3.Ex3.m1.2.2"></divide><apply id="S3.Ex3.m1.2.2.4.cmml" xref="S3.Ex3.m1.2.2.4"><partialdiff id="S3.Ex3.m1.2.2.4.1.cmml" xref="S3.Ex3.m1.2.2.4.1"></partialdiff><apply id="S3.Ex3.m1.2.2.4.2.cmml" xref="S3.Ex3.m1.2.2.4.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.4.2.1.cmml" xref="S3.Ex3.m1.2.2.4.2">subscript</csymbol><ci id="S3.Ex3.m1.2.2.4.2.2.cmml" xref="S3.Ex3.m1.2.2.4.2.2">𝐽</ci><ci id="S3.Ex3.m1.2.2.4.2.3.cmml" xref="S3.Ex3.m1.2.2.4.2.3">𝑡</ci></apply></apply><apply id="S3.Ex3.m1.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2"><partialdiff id="S3.Ex3.m1.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.3"></partialdiff><apply id="S3.Ex3.m1.2.2.2.4.cmml" xref="S3.Ex3.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.4.1.cmml" xref="S3.Ex3.m1.2.2.2.4">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.4.2.cmml" xref="S3.Ex3.m1.2.2.2.4.2">𝑧</ci><list id="S3.Ex3.m1.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.4"><ci id="S3.Ex3.m1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1.1">𝑡</ci><ci id="S3.Ex3.m1.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2">𝑖</ci></list></apply></apply></apply><apply id="S3.Ex3.m1.4.4.cmml" xref="S3.Ex3.m1.4.4"><divide id="S3.Ex3.m1.4.4.3.cmml" xref="S3.Ex3.m1.4.4"></divide><apply id="S3.Ex3.m1.4.4.2.cmml" xref="S3.Ex3.m1.4.4.2"><partialdiff id="S3.Ex3.m1.4.4.2.3.cmml" xref="S3.Ex3.m1.4.4.2.3"></partialdiff><apply id="S3.Ex3.m1.4.4.2.4.cmml" xref="S3.Ex3.m1.4.4.2.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.2.4.1.cmml" xref="S3.Ex3.m1.4.4.2.4">subscript</csymbol><ci id="S3.Ex3.m1.4.4.2.4.2.cmml" xref="S3.Ex3.m1.4.4.2.4.2">𝑧</ci><list id="S3.Ex3.m1.4.4.2.2.2.3.cmml" xref="S3.Ex3.m1.4.4.2.2.2.4"><ci id="S3.Ex3.m1.3.3.1.1.1.1.cmml" xref="S3.Ex3.m1.3.3.1.1.1.1">𝑡</ci><ci id="S3.Ex3.m1.4.4.2.2.2.2.cmml" xref="S3.Ex3.m1.4.4.2.2.2.2">𝑖</ci></list></apply></apply><apply id="S3.Ex3.m1.4.4.4.cmml" xref="S3.Ex3.m1.4.4.4"><partialdiff id="S3.Ex3.m1.4.4.4.1.cmml" xref="S3.Ex3.m1.4.4.4.1"></partialdiff><apply id="S3.Ex3.m1.4.4.4.2.cmml" xref="S3.Ex3.m1.4.4.4.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.4.2.1.cmml" xref="S3.Ex3.m1.4.4.4.2">subscript</csymbol><ci id="S3.Ex3.m1.4.4.4.2.2.cmml" xref="S3.Ex3.m1.4.4.4.2.2">𝑏</ci><ci id="S3.Ex3.m1.4.4.4.2.3.cmml" xref="S3.Ex3.m1.4.4.4.2.3">𝑘</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.4c">\displaystyle\frac{\partial J_{1:T}}{\partial b_{k}}=\sum_{t=1}^{T}\sum_{i=1}^{V}\frac{\partial J_{t}}{\partial z_{t,i}}\frac{\partial z_{t,i}}{\partial b_{k}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.20" class="ltx_p">where</p>
<table id="S8.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex4.m1.3" class="ltx_Math" alttext="\displaystyle\frac{\partial J_{t}}{\partial z_{t,i_{t}^{*}}}=\frac{e^{z_{i^{*}}}}{\sum_{j=1}^{V}e^{z_{j}}}-1&lt;0," display="inline"><semantics id="S3.Ex4.m1.3a"><mrow id="S3.Ex4.m1.3.3.1" xref="S3.Ex4.m1.3.3.1.1.cmml"><mrow id="S3.Ex4.m1.3.3.1.1" xref="S3.Ex4.m1.3.3.1.1.cmml"><mstyle displaystyle="true" id="S3.Ex4.m1.2.2" xref="S3.Ex4.m1.2.2.cmml"><mfrac id="S3.Ex4.m1.2.2a" xref="S3.Ex4.m1.2.2.cmml"><mrow id="S3.Ex4.m1.2.2.4" xref="S3.Ex4.m1.2.2.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex4.m1.2.2.4.1" xref="S3.Ex4.m1.2.2.4.1.cmml">∂</mo><msub id="S3.Ex4.m1.2.2.4.2" xref="S3.Ex4.m1.2.2.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.4.2.2" xref="S3.Ex4.m1.2.2.4.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.4.2.3" xref="S3.Ex4.m1.2.2.4.2.3.cmml">t</mi></msub></mrow><mrow id="S3.Ex4.m1.2.2.2" xref="S3.Ex4.m1.2.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex4.m1.2.2.2.3" xref="S3.Ex4.m1.2.2.2.3.cmml">∂</mo><msub id="S3.Ex4.m1.2.2.2.4" xref="S3.Ex4.m1.2.2.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.2.4.2" xref="S3.Ex4.m1.2.2.2.4.2.cmml">z</mi><mrow id="S3.Ex4.m1.2.2.2.2.2.2" xref="S3.Ex4.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.1.1.1.1.1.1" xref="S3.Ex4.m1.1.1.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.2.2.2.2.2" xref="S3.Ex4.m1.2.2.2.2.2.3.cmml">,</mo><msubsup id="S3.Ex4.m1.2.2.2.2.2.2.1" xref="S3.Ex4.m1.2.2.2.2.2.2.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.2.2.2.2.1.2.2" xref="S3.Ex4.m1.2.2.2.2.2.2.1.2.2.cmml">i</mi><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.2.2.2.2.1.2.3" xref="S3.Ex4.m1.2.2.2.2.2.2.1.2.3.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.2.2.2.2.2.2.1.3" xref="S3.Ex4.m1.2.2.2.2.2.2.1.3.cmml">∗</mo></msubsup></mrow></msub></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.2" xref="S3.Ex4.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.Ex4.m1.3.3.1.1.3" xref="S3.Ex4.m1.3.3.1.1.3.cmml"><mstyle displaystyle="true" id="S3.Ex4.m1.3.3.1.1.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.cmml"><mfrac id="S3.Ex4.m1.3.3.1.1.3.2a" xref="S3.Ex4.m1.3.3.1.1.3.2.cmml"><msup id="S3.Ex4.m1.3.3.1.1.3.2.2" xref="S3.Ex4.m1.3.3.1.1.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.2.2" xref="S3.Ex4.m1.3.3.1.1.3.2.2.2.cmml">e</mi><msub id="S3.Ex4.m1.3.3.1.1.3.2.2.3" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.2.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.2.cmml">z</mi><msup id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.3" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.3.cmml">∗</mo></msup></msub></msup><mrow id="S3.Ex4.m1.3.3.1.1.3.2.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.cmml"><msubsup id="S3.Ex4.m1.3.3.1.1.3.2.3.1" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.cmml"><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.2" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.2.cmml">j</mi><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.1" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.3.cmml">V</mi></msubsup><msup id="S3.Ex4.m1.3.3.1.1.3.2.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.2.2" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.2.cmml">e</mi><msub id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.2" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.3" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.3.cmml">j</mi></msub></msup></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.1" xref="S3.Ex4.m1.3.3.1.1.3.1.cmml">−</mo><mn mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.3.3" xref="S3.Ex4.m1.3.3.1.1.3.3.cmml">1</mn></mrow><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.4" xref="S3.Ex4.m1.3.3.1.1.4.cmml">&lt;</mo><mn mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.1.5" xref="S3.Ex4.m1.3.3.1.1.5.cmml">0</mn></mrow><mo mathbackground="#FFFFFF" id="S3.Ex4.m1.3.3.1.2" xref="S3.Ex4.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.3b"><apply id="S3.Ex4.m1.3.3.1.1.cmml" xref="S3.Ex4.m1.3.3.1"><and id="S3.Ex4.m1.3.3.1.1a.cmml" xref="S3.Ex4.m1.3.3.1"></and><apply id="S3.Ex4.m1.3.3.1.1b.cmml" xref="S3.Ex4.m1.3.3.1"><eq id="S3.Ex4.m1.3.3.1.1.2.cmml" xref="S3.Ex4.m1.3.3.1.1.2"></eq><apply id="S3.Ex4.m1.2.2.cmml" xref="S3.Ex4.m1.2.2"><divide id="S3.Ex4.m1.2.2.3.cmml" xref="S3.Ex4.m1.2.2"></divide><apply id="S3.Ex4.m1.2.2.4.cmml" xref="S3.Ex4.m1.2.2.4"><partialdiff id="S3.Ex4.m1.2.2.4.1.cmml" xref="S3.Ex4.m1.2.2.4.1"></partialdiff><apply id="S3.Ex4.m1.2.2.4.2.cmml" xref="S3.Ex4.m1.2.2.4.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.2.2.4.2.1.cmml" xref="S3.Ex4.m1.2.2.4.2">subscript</csymbol><ci id="S3.Ex4.m1.2.2.4.2.2.cmml" xref="S3.Ex4.m1.2.2.4.2.2">𝐽</ci><ci id="S3.Ex4.m1.2.2.4.2.3.cmml" xref="S3.Ex4.m1.2.2.4.2.3">𝑡</ci></apply></apply><apply id="S3.Ex4.m1.2.2.2.cmml" xref="S3.Ex4.m1.2.2.2"><partialdiff id="S3.Ex4.m1.2.2.2.3.cmml" xref="S3.Ex4.m1.2.2.2.3"></partialdiff><apply id="S3.Ex4.m1.2.2.2.4.cmml" xref="S3.Ex4.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex4.m1.2.2.2.4.1.cmml" xref="S3.Ex4.m1.2.2.2.4">subscript</csymbol><ci id="S3.Ex4.m1.2.2.2.4.2.cmml" xref="S3.Ex4.m1.2.2.2.4.2">𝑧</ci><list id="S3.Ex4.m1.2.2.2.2.2.3.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2"><ci id="S3.Ex4.m1.1.1.1.1.1.1.cmml" xref="S3.Ex4.m1.1.1.1.1.1.1">𝑡</ci><apply id="S3.Ex4.m1.2.2.2.2.2.2.1.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.2.2.2.2.2.2.1.1.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1">superscript</csymbol><apply id="S3.Ex4.m1.2.2.2.2.2.2.1.2.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.2.2.2.2.2.2.1.2.1.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1">subscript</csymbol><ci id="S3.Ex4.m1.2.2.2.2.2.2.1.2.2.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1.2.2">𝑖</ci><ci id="S3.Ex4.m1.2.2.2.2.2.2.1.2.3.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1.2.3">𝑡</ci></apply><times id="S3.Ex4.m1.2.2.2.2.2.2.1.3.cmml" xref="S3.Ex4.m1.2.2.2.2.2.2.1.3"></times></apply></list></apply></apply></apply><apply id="S3.Ex4.m1.3.3.1.1.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3"><minus id="S3.Ex4.m1.3.3.1.1.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.1"></minus><apply id="S3.Ex4.m1.3.3.1.1.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2"><divide id="S3.Ex4.m1.3.3.1.1.3.2.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2"></divide><apply id="S3.Ex4.m1.3.3.1.1.3.2.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.2.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2">superscript</csymbol><ci id="S3.Ex4.m1.3.3.1.1.3.2.2.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.2">𝑒</ci><apply id="S3.Ex4.m1.3.3.1.1.3.2.2.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.2.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3">subscript</csymbol><ci id="S3.Ex4.m1.3.3.1.1.3.2.2.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.2">𝑧</ci><apply id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3">superscript</csymbol><ci id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.2">𝑖</ci><times id="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.2.3.3.3"></times></apply></apply></apply><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3"><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1">superscript</csymbol><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1">subscript</csymbol><sum id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.2"></sum><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3"><eq id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.1"></eq><ci id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.2">𝑗</ci><cn type="integer" id="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex4.m1.3.3.1.1.3.2.3.1.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.1.3">𝑉</ci></apply><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.3.2.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2">superscript</csymbol><ci id="S3.Ex4.m1.3.3.1.1.3.2.3.2.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.2">𝑒</ci><apply id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3"><csymbol cd="ambiguous" id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.1.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3">subscript</csymbol><ci id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.2.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.2">𝑧</ci><ci id="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.2.3.2.3.3">𝑗</ci></apply></apply></apply></apply><cn type="integer" id="S3.Ex4.m1.3.3.1.1.3.3.cmml" xref="S3.Ex4.m1.3.3.1.1.3.3">1</cn></apply></apply><apply id="S3.Ex4.m1.3.3.1.1c.cmml" xref="S3.Ex4.m1.3.3.1"><lt id="S3.Ex4.m1.3.3.1.1.4.cmml" xref="S3.Ex4.m1.3.3.1.1.4"></lt><share href="#S3.Ex4.m1.3.3.1.1.3.cmml" id="S3.Ex4.m1.3.3.1.1d.cmml" xref="S3.Ex4.m1.3.3.1"></share><cn type="integer" id="S3.Ex4.m1.3.3.1.1.5.cmml" xref="S3.Ex4.m1.3.3.1.1.5">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.3c">\displaystyle\frac{\partial J_{t}}{\partial z_{t,i_{t}^{*}}}=\frac{e^{z_{i^{*}}}}{\sum_{j=1}^{V}e^{z_{j}}}-1&lt;0,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex5.m1.4" class="ltx_Math" alttext="\displaystyle\quad\frac{\partial J_{t}}{\partial z_{t,i}}=\frac{e^{z_{i}}}{\sum_{j=1}^{V}e^{z_{j}}}&gt;0,\ i\neq i_{t}^{*}" display="inline"><semantics id="S3.Ex5.m1.4a"><mrow id="S3.Ex5.m1.4.4.2" xref="S3.Ex5.m1.4.4.3.cmml"><mrow id="S3.Ex5.m1.3.3.1.1" xref="S3.Ex5.m1.3.3.1.1.cmml"><mstyle displaystyle="true" id="S3.Ex5.m1.2.2" xref="S3.Ex5.m1.2.2.cmml"><mfrac id="S3.Ex5.m1.2.2a" xref="S3.Ex5.m1.2.2.cmml"><mrow id="S3.Ex5.m1.2.2.4" xref="S3.Ex5.m1.2.2.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex5.m1.2.2.4.1" xref="S3.Ex5.m1.2.2.4.1.cmml">∂</mo><msub id="S3.Ex5.m1.2.2.4.2" xref="S3.Ex5.m1.2.2.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.2.2.4.2.2" xref="S3.Ex5.m1.2.2.4.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.2.2.4.2.3" xref="S3.Ex5.m1.2.2.4.2.3.cmml">t</mi></msub></mrow><mrow id="S3.Ex5.m1.2.2.2" xref="S3.Ex5.m1.2.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex5.m1.2.2.2.3" xref="S3.Ex5.m1.2.2.2.3.cmml">∂</mo><msub id="S3.Ex5.m1.2.2.2.4" xref="S3.Ex5.m1.2.2.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.2.2.2.4.2" xref="S3.Ex5.m1.2.2.2.4.2.cmml">z</mi><mrow id="S3.Ex5.m1.2.2.2.2.2.4" xref="S3.Ex5.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.1.1.1.1.1.1" xref="S3.Ex5.m1.1.1.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.2.2.2.2.2.4.1" xref="S3.Ex5.m1.2.2.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.2.2.2.2.2.2" xref="S3.Ex5.m1.2.2.2.2.2.2.cmml">i</mi></mrow></msub></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.2" xref="S3.Ex5.m1.3.3.1.1.2.cmml">=</mo><mstyle displaystyle="true" id="S3.Ex5.m1.3.3.1.1.3" xref="S3.Ex5.m1.3.3.1.1.3.cmml"><mfrac id="S3.Ex5.m1.3.3.1.1.3a" xref="S3.Ex5.m1.3.3.1.1.3.cmml"><msup id="S3.Ex5.m1.3.3.1.1.3.2" xref="S3.Ex5.m1.3.3.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.2.2" xref="S3.Ex5.m1.3.3.1.1.3.2.2.cmml">e</mi><msub id="S3.Ex5.m1.3.3.1.1.3.2.3" xref="S3.Ex5.m1.3.3.1.1.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.2.3.2" xref="S3.Ex5.m1.3.3.1.1.3.2.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.2.3.3" xref="S3.Ex5.m1.3.3.1.1.3.2.3.3.cmml">i</mi></msub></msup><mrow id="S3.Ex5.m1.3.3.1.1.3.3" xref="S3.Ex5.m1.3.3.1.1.3.3.cmml"><msubsup id="S3.Ex5.m1.3.3.1.1.3.3.1" xref="S3.Ex5.m1.3.3.1.1.3.3.1.cmml"><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.2" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.2" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.2.cmml">j</mi><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.1" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.3" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.1.3" xref="S3.Ex5.m1.3.3.1.1.3.3.1.3.cmml">V</mi></msubsup><msup id="S3.Ex5.m1.3.3.1.1.3.3.2" xref="S3.Ex5.m1.3.3.1.1.3.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.2.2" xref="S3.Ex5.m1.3.3.1.1.3.3.2.2.cmml">e</mi><msub id="S3.Ex5.m1.3.3.1.1.3.3.2.3" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.2.3.2" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.3.3.2.3.3" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3.3.cmml">j</mi></msub></msup></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.4" xref="S3.Ex5.m1.3.3.1.1.4.cmml">&gt;</mo><mn mathbackground="#FFFFFF" id="S3.Ex5.m1.3.3.1.1.5" xref="S3.Ex5.m1.3.3.1.1.5.cmml">0</mn></mrow><mo mathbackground="#FFFFFF" rspace="0.667em" id="S3.Ex5.m1.4.4.2.3" xref="S3.Ex5.m1.4.4.3a.cmml">,</mo><mrow id="S3.Ex5.m1.4.4.2.2" xref="S3.Ex5.m1.4.4.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.4.4.2.2.2" xref="S3.Ex5.m1.4.4.2.2.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.4.4.2.2.1" xref="S3.Ex5.m1.4.4.2.2.1.cmml">≠</mo><msubsup id="S3.Ex5.m1.4.4.2.2.3" xref="S3.Ex5.m1.4.4.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.4.4.2.2.3.2.2" xref="S3.Ex5.m1.4.4.2.2.3.2.2.cmml">i</mi><mi mathbackground="#FFFFFF" id="S3.Ex5.m1.4.4.2.2.3.2.3" xref="S3.Ex5.m1.4.4.2.2.3.2.3.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex5.m1.4.4.2.2.3.3" xref="S3.Ex5.m1.4.4.2.2.3.3.cmml">∗</mo></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex5.m1.4b"><apply id="S3.Ex5.m1.4.4.3.cmml" xref="S3.Ex5.m1.4.4.2"><csymbol cd="ambiguous" id="S3.Ex5.m1.4.4.3a.cmml" xref="S3.Ex5.m1.4.4.2.3">formulae-sequence</csymbol><apply id="S3.Ex5.m1.3.3.1.1.cmml" xref="S3.Ex5.m1.3.3.1.1"><and id="S3.Ex5.m1.3.3.1.1a.cmml" xref="S3.Ex5.m1.3.3.1.1"></and><apply id="S3.Ex5.m1.3.3.1.1b.cmml" xref="S3.Ex5.m1.3.3.1.1"><eq id="S3.Ex5.m1.3.3.1.1.2.cmml" xref="S3.Ex5.m1.3.3.1.1.2"></eq><apply id="S3.Ex5.m1.2.2.cmml" xref="S3.Ex5.m1.2.2"><divide id="S3.Ex5.m1.2.2.3.cmml" xref="S3.Ex5.m1.2.2"></divide><apply id="S3.Ex5.m1.2.2.4.cmml" xref="S3.Ex5.m1.2.2.4"><partialdiff id="S3.Ex5.m1.2.2.4.1.cmml" xref="S3.Ex5.m1.2.2.4.1"></partialdiff><apply id="S3.Ex5.m1.2.2.4.2.cmml" xref="S3.Ex5.m1.2.2.4.2"><csymbol cd="ambiguous" id="S3.Ex5.m1.2.2.4.2.1.cmml" xref="S3.Ex5.m1.2.2.4.2">subscript</csymbol><ci id="S3.Ex5.m1.2.2.4.2.2.cmml" xref="S3.Ex5.m1.2.2.4.2.2">𝐽</ci><ci id="S3.Ex5.m1.2.2.4.2.3.cmml" xref="S3.Ex5.m1.2.2.4.2.3">𝑡</ci></apply></apply><apply id="S3.Ex5.m1.2.2.2.cmml" xref="S3.Ex5.m1.2.2.2"><partialdiff id="S3.Ex5.m1.2.2.2.3.cmml" xref="S3.Ex5.m1.2.2.2.3"></partialdiff><apply id="S3.Ex5.m1.2.2.2.4.cmml" xref="S3.Ex5.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex5.m1.2.2.2.4.1.cmml" xref="S3.Ex5.m1.2.2.2.4">subscript</csymbol><ci id="S3.Ex5.m1.2.2.2.4.2.cmml" xref="S3.Ex5.m1.2.2.2.4.2">𝑧</ci><list id="S3.Ex5.m1.2.2.2.2.2.3.cmml" xref="S3.Ex5.m1.2.2.2.2.2.4"><ci id="S3.Ex5.m1.1.1.1.1.1.1.cmml" xref="S3.Ex5.m1.1.1.1.1.1.1">𝑡</ci><ci id="S3.Ex5.m1.2.2.2.2.2.2.cmml" xref="S3.Ex5.m1.2.2.2.2.2.2">𝑖</ci></list></apply></apply></apply><apply id="S3.Ex5.m1.3.3.1.1.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3"><divide id="S3.Ex5.m1.3.3.1.1.3.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3"></divide><apply id="S3.Ex5.m1.3.3.1.1.3.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.2.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2">superscript</csymbol><ci id="S3.Ex5.m1.3.3.1.1.3.2.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2.2">𝑒</ci><apply id="S3.Ex5.m1.3.3.1.1.3.2.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.2.3.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2.3">subscript</csymbol><ci id="S3.Ex5.m1.3.3.1.1.3.2.3.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2.3.2">𝑧</ci><ci id="S3.Ex5.m1.3.3.1.1.3.2.3.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.2.3.3">𝑖</ci></apply></apply><apply id="S3.Ex5.m1.3.3.1.1.3.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3"><apply id="S3.Ex5.m1.3.3.1.1.3.3.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.3.1.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1">superscript</csymbol><apply id="S3.Ex5.m1.3.3.1.1.3.3.1.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1">subscript</csymbol><sum id="S3.Ex5.m1.3.3.1.1.3.3.1.2.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.2"></sum><apply id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3"><eq id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.1"></eq><ci id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.2">𝑗</ci><cn type="integer" id="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex5.m1.3.3.1.1.3.3.1.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.1.3">𝑉</ci></apply><apply id="S3.Ex5.m1.3.3.1.1.3.3.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.3.2.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2">superscript</csymbol><ci id="S3.Ex5.m1.3.3.1.1.3.3.2.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2.2">𝑒</ci><apply id="S3.Ex5.m1.3.3.1.1.3.3.2.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.Ex5.m1.3.3.1.1.3.3.2.3.1.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3">subscript</csymbol><ci id="S3.Ex5.m1.3.3.1.1.3.3.2.3.2.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3.2">𝑧</ci><ci id="S3.Ex5.m1.3.3.1.1.3.3.2.3.3.cmml" xref="S3.Ex5.m1.3.3.1.1.3.3.2.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.Ex5.m1.3.3.1.1c.cmml" xref="S3.Ex5.m1.3.3.1.1"><gt id="S3.Ex5.m1.3.3.1.1.4.cmml" xref="S3.Ex5.m1.3.3.1.1.4"></gt><share href="#S3.Ex5.m1.3.3.1.1.3.cmml" id="S3.Ex5.m1.3.3.1.1d.cmml" xref="S3.Ex5.m1.3.3.1.1"></share><cn type="integer" id="S3.Ex5.m1.3.3.1.1.5.cmml" xref="S3.Ex5.m1.3.3.1.1.5">0</cn></apply></apply><apply id="S3.Ex5.m1.4.4.2.2.cmml" xref="S3.Ex5.m1.4.4.2.2"><neq id="S3.Ex5.m1.4.4.2.2.1.cmml" xref="S3.Ex5.m1.4.4.2.2.1"></neq><ci id="S3.Ex5.m1.4.4.2.2.2.cmml" xref="S3.Ex5.m1.4.4.2.2.2">𝑖</ci><apply id="S3.Ex5.m1.4.4.2.2.3.cmml" xref="S3.Ex5.m1.4.4.2.2.3"><csymbol cd="ambiguous" id="S3.Ex5.m1.4.4.2.2.3.1.cmml" xref="S3.Ex5.m1.4.4.2.2.3">superscript</csymbol><apply id="S3.Ex5.m1.4.4.2.2.3.2.cmml" xref="S3.Ex5.m1.4.4.2.2.3"><csymbol cd="ambiguous" id="S3.Ex5.m1.4.4.2.2.3.2.1.cmml" xref="S3.Ex5.m1.4.4.2.2.3">subscript</csymbol><ci id="S3.Ex5.m1.4.4.2.2.3.2.2.cmml" xref="S3.Ex5.m1.4.4.2.2.3.2.2">𝑖</ci><ci id="S3.Ex5.m1.4.4.2.2.3.2.3.cmml" xref="S3.Ex5.m1.4.4.2.2.3.2.3">𝑡</ci></apply><times id="S3.Ex5.m1.4.4.2.2.3.3.cmml" xref="S3.Ex5.m1.4.4.2.2.3.3"></times></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex5.m1.4c">\displaystyle\quad\frac{\partial J_{t}}{\partial z_{t,i}}=\frac{e^{z_{i}}}{\sum_{j=1}^{V}e^{z_{j}}}&gt;0,\ i\neq i_{t}^{*}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.21" class="ltx_p">and</p>
<table id="S8.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex6.m1.6" class="ltx_Math" alttext="\displaystyle\frac{\partial z_{t,i}}{\partial b_{k}}=\begin{cases}1&amp;k=i\\
0&amp;\text{otherwise}\end{cases}" display="inline"><semantics id="S3.Ex6.m1.6a"><mrow id="S3.Ex6.m1.6.7" xref="S3.Ex6.m1.6.7.cmml"><mstyle displaystyle="true" id="S3.Ex6.m1.6.6" xref="S3.Ex6.m1.6.6.cmml"><mfrac id="S3.Ex6.m1.6.6a" xref="S3.Ex6.m1.6.6.cmml"><mrow id="S3.Ex6.m1.6.6.2" xref="S3.Ex6.m1.6.6.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex6.m1.6.6.2.3" xref="S3.Ex6.m1.6.6.2.3.cmml">∂</mo><msub id="S3.Ex6.m1.6.6.2.4" xref="S3.Ex6.m1.6.6.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.6.6.2.4.2" xref="S3.Ex6.m1.6.6.2.4.2.cmml">z</mi><mrow id="S3.Ex6.m1.6.6.2.2.2.4" xref="S3.Ex6.m1.6.6.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.5.5.1.1.1.1" xref="S3.Ex6.m1.5.5.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex6.m1.6.6.2.2.2.4.1" xref="S3.Ex6.m1.6.6.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.6.6.2.2.2.2" xref="S3.Ex6.m1.6.6.2.2.2.2.cmml">i</mi></mrow></msub></mrow><mrow id="S3.Ex6.m1.6.6.4" xref="S3.Ex6.m1.6.6.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex6.m1.6.6.4.1" xref="S3.Ex6.m1.6.6.4.1.cmml">∂</mo><msub id="S3.Ex6.m1.6.6.4.2" xref="S3.Ex6.m1.6.6.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.6.6.4.2.2" xref="S3.Ex6.m1.6.6.4.2.2.cmml">b</mi><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.6.6.4.2.3" xref="S3.Ex6.m1.6.6.4.2.3.cmml">k</mi></msub></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex6.m1.6.7.1" xref="S3.Ex6.m1.6.7.1.cmml">=</mo><mrow id="S3.Ex6.m1.4.4a" xref="S3.Ex6.m1.6.7.2.1.cmml"><mo mathbackground="#FFFFFF" id="S3.Ex6.m1.4.4a.5" xref="S3.Ex6.m1.6.7.2.1.1.cmml">{</mo><mtable columnspacing="5pt" rowspacing="0pt" id="S3.Ex6.m1.4.4.4a" xref="S3.Ex6.m1.6.7.2.1.cmml"><mtr id="S3.Ex6.m1.4.4.4aa" xref="S3.Ex6.m1.6.7.2.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.Ex6.m1.4.4.4ab" xref="S3.Ex6.m1.6.7.2.1.cmml"><mn mathbackground="#FFFFFF" id="S3.Ex6.m1.1.1.1.1.1.1" xref="S3.Ex6.m1.1.1.1.1.1.1.cmml">1</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.Ex6.m1.4.4.4ac" xref="S3.Ex6.m1.6.7.2.1.cmml"><mrow id="S3.Ex6.m1.2.2.2.2.2.1" xref="S3.Ex6.m1.2.2.2.2.2.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.2.2.2.2.2.1.2" xref="S3.Ex6.m1.2.2.2.2.2.1.2.cmml">k</mi><mo mathbackground="#FFFFFF" id="S3.Ex6.m1.2.2.2.2.2.1.1" xref="S3.Ex6.m1.2.2.2.2.2.1.1.cmml">=</mo><mi mathbackground="#FFFFFF" id="S3.Ex6.m1.2.2.2.2.2.1.3" xref="S3.Ex6.m1.2.2.2.2.2.1.3.cmml">i</mi></mrow></mtd></mtr><mtr id="S3.Ex6.m1.4.4.4ad" xref="S3.Ex6.m1.6.7.2.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S3.Ex6.m1.4.4.4ae" xref="S3.Ex6.m1.6.7.2.1.cmml"><mn mathbackground="#FFFFFF" id="S3.Ex6.m1.3.3.3.3.1.1" xref="S3.Ex6.m1.3.3.3.3.1.1.cmml">0</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.Ex6.m1.4.4.4af" xref="S3.Ex6.m1.6.7.2.1.cmml"><mtext mathbackground="#FFFFFF" id="S3.Ex6.m1.4.4.4.4.2.1" xref="S3.Ex6.m1.4.4.4.4.2.1a.cmml">otherwise</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex6.m1.6b"><apply id="S3.Ex6.m1.6.7.cmml" xref="S3.Ex6.m1.6.7"><eq id="S3.Ex6.m1.6.7.1.cmml" xref="S3.Ex6.m1.6.7.1"></eq><apply id="S3.Ex6.m1.6.6.cmml" xref="S3.Ex6.m1.6.6"><divide id="S3.Ex6.m1.6.6.3.cmml" xref="S3.Ex6.m1.6.6"></divide><apply id="S3.Ex6.m1.6.6.2.cmml" xref="S3.Ex6.m1.6.6.2"><partialdiff id="S3.Ex6.m1.6.6.2.3.cmml" xref="S3.Ex6.m1.6.6.2.3"></partialdiff><apply id="S3.Ex6.m1.6.6.2.4.cmml" xref="S3.Ex6.m1.6.6.2.4"><csymbol cd="ambiguous" id="S3.Ex6.m1.6.6.2.4.1.cmml" xref="S3.Ex6.m1.6.6.2.4">subscript</csymbol><ci id="S3.Ex6.m1.6.6.2.4.2.cmml" xref="S3.Ex6.m1.6.6.2.4.2">𝑧</ci><list id="S3.Ex6.m1.6.6.2.2.2.3.cmml" xref="S3.Ex6.m1.6.6.2.2.2.4"><ci id="S3.Ex6.m1.5.5.1.1.1.1.cmml" xref="S3.Ex6.m1.5.5.1.1.1.1">𝑡</ci><ci id="S3.Ex6.m1.6.6.2.2.2.2.cmml" xref="S3.Ex6.m1.6.6.2.2.2.2">𝑖</ci></list></apply></apply><apply id="S3.Ex6.m1.6.6.4.cmml" xref="S3.Ex6.m1.6.6.4"><partialdiff id="S3.Ex6.m1.6.6.4.1.cmml" xref="S3.Ex6.m1.6.6.4.1"></partialdiff><apply id="S3.Ex6.m1.6.6.4.2.cmml" xref="S3.Ex6.m1.6.6.4.2"><csymbol cd="ambiguous" id="S3.Ex6.m1.6.6.4.2.1.cmml" xref="S3.Ex6.m1.6.6.4.2">subscript</csymbol><ci id="S3.Ex6.m1.6.6.4.2.2.cmml" xref="S3.Ex6.m1.6.6.4.2.2">𝑏</ci><ci id="S3.Ex6.m1.6.6.4.2.3.cmml" xref="S3.Ex6.m1.6.6.4.2.3">𝑘</ci></apply></apply></apply><apply id="S3.Ex6.m1.6.7.2.1.cmml" xref="S3.Ex6.m1.4.4a"><csymbol cd="latexml" id="S3.Ex6.m1.6.7.2.1.1.cmml" xref="S3.Ex6.m1.4.4a.5">cases</csymbol><cn type="integer" id="S3.Ex6.m1.1.1.1.1.1.1.cmml" xref="S3.Ex6.m1.1.1.1.1.1.1">1</cn><apply id="S3.Ex6.m1.2.2.2.2.2.1.cmml" xref="S3.Ex6.m1.2.2.2.2.2.1"><eq id="S3.Ex6.m1.2.2.2.2.2.1.1.cmml" xref="S3.Ex6.m1.2.2.2.2.2.1.1"></eq><ci id="S3.Ex6.m1.2.2.2.2.2.1.2.cmml" xref="S3.Ex6.m1.2.2.2.2.2.1.2">𝑘</ci><ci id="S3.Ex6.m1.2.2.2.2.2.1.3.cmml" xref="S3.Ex6.m1.2.2.2.2.2.1.3">𝑖</ci></apply><cn type="integer" id="S3.Ex6.m1.3.3.3.3.1.1.cmml" xref="S3.Ex6.m1.3.3.3.3.1.1">0</cn><ci id="S3.Ex6.m1.4.4.4.4.2.1a.cmml" xref="S3.Ex6.m1.4.4.4.4.2.1"><mtext mathbackground="#FFFFFF" id="S3.Ex6.m1.4.4.4.4.2.1.cmml" xref="S3.Ex6.m1.4.4.4.4.2.1">otherwise</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex6.m1.6c">\displaystyle\frac{\partial z_{t,i}}{\partial b_{k}}=\begin{cases}1&amp;k=i\\
0&amp;\text{otherwise}\end{cases}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.22" class="ltx_p">That is,</p>
<table id="S8.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex7.m1.2" class="ltx_Math" alttext="\displaystyle\frac{\partial J_{1:T}}{\partial b_{k}}=\sum_{t=1}^{T}\frac{\partial J_{t}}{\partial z_{t,k}}" display="inline"><semantics id="S3.Ex7.m1.2a"><mrow id="S3.Ex7.m1.2.3" xref="S3.Ex7.m1.2.3.cmml"><mstyle displaystyle="true" id="S3.Ex7.m1.2.3.2" xref="S3.Ex7.m1.2.3.2.cmml"><mfrac id="S3.Ex7.m1.2.3.2a" xref="S3.Ex7.m1.2.3.2.cmml"><mrow id="S3.Ex7.m1.2.3.2.2" xref="S3.Ex7.m1.2.3.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex7.m1.2.3.2.2.1" xref="S3.Ex7.m1.2.3.2.2.1.cmml">∂</mo><msub id="S3.Ex7.m1.2.3.2.2.2" xref="S3.Ex7.m1.2.3.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.2.2.2.2" xref="S3.Ex7.m1.2.3.2.2.2.2.cmml">J</mi><mrow id="S3.Ex7.m1.2.3.2.2.2.3" xref="S3.Ex7.m1.2.3.2.2.2.3.cmml"><mn mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.2.2.2.3.2" xref="S3.Ex7.m1.2.3.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" mathbackground="#FFFFFF" rspace="0.278em" id="S3.Ex7.m1.2.3.2.2.2.3.1" xref="S3.Ex7.m1.2.3.2.2.2.3.1.cmml">:</mo><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.2.2.2.3.3" xref="S3.Ex7.m1.2.3.2.2.2.3.3.cmml">T</mi></mrow></msub></mrow><mrow id="S3.Ex7.m1.2.3.2.3" xref="S3.Ex7.m1.2.3.2.3.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex7.m1.2.3.2.3.1" xref="S3.Ex7.m1.2.3.2.3.1.cmml">∂</mo><msub id="S3.Ex7.m1.2.3.2.3.2" xref="S3.Ex7.m1.2.3.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.2.3.2.2" xref="S3.Ex7.m1.2.3.2.3.2.2.cmml">b</mi><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.2.3.2.3" xref="S3.Ex7.m1.2.3.2.3.2.3.cmml">k</mi></msub></mrow></mfrac></mstyle><mo mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.1" xref="S3.Ex7.m1.2.3.1.cmml">=</mo><mrow id="S3.Ex7.m1.2.3.3" xref="S3.Ex7.m1.2.3.3.cmml"><mstyle displaystyle="true" id="S3.Ex7.m1.2.3.3.1" xref="S3.Ex7.m1.2.3.3.1.cmml"><munderover id="S3.Ex7.m1.2.3.3.1a" xref="S3.Ex7.m1.2.3.3.1.cmml"><mo mathbackground="#FFFFFF" movablelimits="false" id="S3.Ex7.m1.2.3.3.1.2.2" xref="S3.Ex7.m1.2.3.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex7.m1.2.3.3.1.2.3" xref="S3.Ex7.m1.2.3.3.1.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.3.1.2.3.2" xref="S3.Ex7.m1.2.3.3.1.2.3.2.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.3.1.2.3.1" xref="S3.Ex7.m1.2.3.3.1.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.3.1.2.3.3" xref="S3.Ex7.m1.2.3.3.1.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.3.3.1.3" xref="S3.Ex7.m1.2.3.3.1.3.cmml">T</mi></munderover></mstyle><mstyle displaystyle="true" id="S3.Ex7.m1.2.2" xref="S3.Ex7.m1.2.2.cmml"><mfrac id="S3.Ex7.m1.2.2a" xref="S3.Ex7.m1.2.2.cmml"><mrow id="S3.Ex7.m1.2.2.4" xref="S3.Ex7.m1.2.2.4.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex7.m1.2.2.4.1" xref="S3.Ex7.m1.2.2.4.1.cmml">∂</mo><msub id="S3.Ex7.m1.2.2.4.2" xref="S3.Ex7.m1.2.2.4.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.2.4.2.2" xref="S3.Ex7.m1.2.2.4.2.2.cmml">J</mi><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.2.4.2.3" xref="S3.Ex7.m1.2.2.4.2.3.cmml">t</mi></msub></mrow><mrow id="S3.Ex7.m1.2.2.2" xref="S3.Ex7.m1.2.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.Ex7.m1.2.2.2.3" xref="S3.Ex7.m1.2.2.2.3.cmml">∂</mo><msub id="S3.Ex7.m1.2.2.2.4" xref="S3.Ex7.m1.2.2.2.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.2.2.4.2" xref="S3.Ex7.m1.2.2.2.4.2.cmml">z</mi><mrow id="S3.Ex7.m1.2.2.2.2.2.4" xref="S3.Ex7.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.1.1.1.1.1.1" xref="S3.Ex7.m1.1.1.1.1.1.1.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.Ex7.m1.2.2.2.2.2.4.1" xref="S3.Ex7.m1.2.2.2.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" id="S3.Ex7.m1.2.2.2.2.2.2" xref="S3.Ex7.m1.2.2.2.2.2.2.cmml">k</mi></mrow></msub></mrow></mfrac></mstyle></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex7.m1.2b"><apply id="S3.Ex7.m1.2.3.cmml" xref="S3.Ex7.m1.2.3"><eq id="S3.Ex7.m1.2.3.1.cmml" xref="S3.Ex7.m1.2.3.1"></eq><apply id="S3.Ex7.m1.2.3.2.cmml" xref="S3.Ex7.m1.2.3.2"><divide id="S3.Ex7.m1.2.3.2.1.cmml" xref="S3.Ex7.m1.2.3.2"></divide><apply id="S3.Ex7.m1.2.3.2.2.cmml" xref="S3.Ex7.m1.2.3.2.2"><partialdiff id="S3.Ex7.m1.2.3.2.2.1.cmml" xref="S3.Ex7.m1.2.3.2.2.1"></partialdiff><apply id="S3.Ex7.m1.2.3.2.2.2.cmml" xref="S3.Ex7.m1.2.3.2.2.2"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.3.2.2.2.1.cmml" xref="S3.Ex7.m1.2.3.2.2.2">subscript</csymbol><ci id="S3.Ex7.m1.2.3.2.2.2.2.cmml" xref="S3.Ex7.m1.2.3.2.2.2.2">𝐽</ci><apply id="S3.Ex7.m1.2.3.2.2.2.3.cmml" xref="S3.Ex7.m1.2.3.2.2.2.3"><ci id="S3.Ex7.m1.2.3.2.2.2.3.1.cmml" xref="S3.Ex7.m1.2.3.2.2.2.3.1">:</ci><cn type="integer" id="S3.Ex7.m1.2.3.2.2.2.3.2.cmml" xref="S3.Ex7.m1.2.3.2.2.2.3.2">1</cn><ci id="S3.Ex7.m1.2.3.2.2.2.3.3.cmml" xref="S3.Ex7.m1.2.3.2.2.2.3.3">𝑇</ci></apply></apply></apply><apply id="S3.Ex7.m1.2.3.2.3.cmml" xref="S3.Ex7.m1.2.3.2.3"><partialdiff id="S3.Ex7.m1.2.3.2.3.1.cmml" xref="S3.Ex7.m1.2.3.2.3.1"></partialdiff><apply id="S3.Ex7.m1.2.3.2.3.2.cmml" xref="S3.Ex7.m1.2.3.2.3.2"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.3.2.3.2.1.cmml" xref="S3.Ex7.m1.2.3.2.3.2">subscript</csymbol><ci id="S3.Ex7.m1.2.3.2.3.2.2.cmml" xref="S3.Ex7.m1.2.3.2.3.2.2">𝑏</ci><ci id="S3.Ex7.m1.2.3.2.3.2.3.cmml" xref="S3.Ex7.m1.2.3.2.3.2.3">𝑘</ci></apply></apply></apply><apply id="S3.Ex7.m1.2.3.3.cmml" xref="S3.Ex7.m1.2.3.3"><apply id="S3.Ex7.m1.2.3.3.1.cmml" xref="S3.Ex7.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.3.3.1.1.cmml" xref="S3.Ex7.m1.2.3.3.1">superscript</csymbol><apply id="S3.Ex7.m1.2.3.3.1.2.cmml" xref="S3.Ex7.m1.2.3.3.1"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.3.3.1.2.1.cmml" xref="S3.Ex7.m1.2.3.3.1">subscript</csymbol><sum id="S3.Ex7.m1.2.3.3.1.2.2.cmml" xref="S3.Ex7.m1.2.3.3.1.2.2"></sum><apply id="S3.Ex7.m1.2.3.3.1.2.3.cmml" xref="S3.Ex7.m1.2.3.3.1.2.3"><eq id="S3.Ex7.m1.2.3.3.1.2.3.1.cmml" xref="S3.Ex7.m1.2.3.3.1.2.3.1"></eq><ci id="S3.Ex7.m1.2.3.3.1.2.3.2.cmml" xref="S3.Ex7.m1.2.3.3.1.2.3.2">𝑡</ci><cn type="integer" id="S3.Ex7.m1.2.3.3.1.2.3.3.cmml" xref="S3.Ex7.m1.2.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex7.m1.2.3.3.1.3.cmml" xref="S3.Ex7.m1.2.3.3.1.3">𝑇</ci></apply><apply id="S3.Ex7.m1.2.2.cmml" xref="S3.Ex7.m1.2.2"><divide id="S3.Ex7.m1.2.2.3.cmml" xref="S3.Ex7.m1.2.2"></divide><apply id="S3.Ex7.m1.2.2.4.cmml" xref="S3.Ex7.m1.2.2.4"><partialdiff id="S3.Ex7.m1.2.2.4.1.cmml" xref="S3.Ex7.m1.2.2.4.1"></partialdiff><apply id="S3.Ex7.m1.2.2.4.2.cmml" xref="S3.Ex7.m1.2.2.4.2"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.2.4.2.1.cmml" xref="S3.Ex7.m1.2.2.4.2">subscript</csymbol><ci id="S3.Ex7.m1.2.2.4.2.2.cmml" xref="S3.Ex7.m1.2.2.4.2.2">𝐽</ci><ci id="S3.Ex7.m1.2.2.4.2.3.cmml" xref="S3.Ex7.m1.2.2.4.2.3">𝑡</ci></apply></apply><apply id="S3.Ex7.m1.2.2.2.cmml" xref="S3.Ex7.m1.2.2.2"><partialdiff id="S3.Ex7.m1.2.2.2.3.cmml" xref="S3.Ex7.m1.2.2.2.3"></partialdiff><apply id="S3.Ex7.m1.2.2.2.4.cmml" xref="S3.Ex7.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.Ex7.m1.2.2.2.4.1.cmml" xref="S3.Ex7.m1.2.2.2.4">subscript</csymbol><ci id="S3.Ex7.m1.2.2.2.4.2.cmml" xref="S3.Ex7.m1.2.2.2.4.2">𝑧</ci><list id="S3.Ex7.m1.2.2.2.2.2.3.cmml" xref="S3.Ex7.m1.2.2.2.2.2.4"><ci id="S3.Ex7.m1.1.1.1.1.1.1.cmml" xref="S3.Ex7.m1.1.1.1.1.1.1">𝑡</ci><ci id="S3.Ex7.m1.2.2.2.2.2.2.cmml" xref="S3.Ex7.m1.2.2.2.2.2.2">𝑘</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex7.m1.2c">\displaystyle\frac{\partial J_{1:T}}{\partial b_{k}}=\sum_{t=1}^{T}\frac{\partial J_{t}}{\partial z_{t,k}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.19" class="ltx_p">It follows that for words <math id="S3.SS1.p2.14.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.14.m1.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.14.m1.1.1" xref="S3.SS1.p2.14.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.14.m1.1b"><ci id="S3.SS1.p2.14.m1.1.1.cmml" xref="S3.SS1.p2.14.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.14.m1.1c">k</annotation></semantics></math> which do not appear in
the text <math id="S3.SS1.p2.15.m2.1" class="ltx_Math" alttext="\frac{\partial J_{1:T}}{\partial b_{k}}&gt;0" display="inline"><semantics id="S3.SS1.p2.15.m2.1a"><mrow id="S3.SS1.p2.15.m2.1.1" xref="S3.SS1.p2.15.m2.1.1.cmml"><mfrac id="S3.SS1.p2.15.m2.1.1.2" xref="S3.SS1.p2.15.m2.1.1.2.cmml"><mrow id="S3.SS1.p2.15.m2.1.1.2.2" xref="S3.SS1.p2.15.m2.1.1.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.SS1.p2.15.m2.1.1.2.2.1" xref="S3.SS1.p2.15.m2.1.1.2.2.1.cmml">∂</mo><msub id="S3.SS1.p2.15.m2.1.1.2.2.2" xref="S3.SS1.p2.15.m2.1.1.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.2.2.2.2" xref="S3.SS1.p2.15.m2.1.1.2.2.2.2.cmml">J</mi><mrow id="S3.SS1.p2.15.m2.1.1.2.2.2.3" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.cmml"><mn mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.2.2.2.3.2" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" mathbackground="#FFFFFF" rspace="0.278em" id="S3.SS1.p2.15.m2.1.1.2.2.2.3.1" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.1.cmml">:</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.2.2.2.3.3" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.3.cmml">T</mi></mrow></msub></mrow><mrow id="S3.SS1.p2.15.m2.1.1.2.3" xref="S3.SS1.p2.15.m2.1.1.2.3.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.SS1.p2.15.m2.1.1.2.3.1" xref="S3.SS1.p2.15.m2.1.1.2.3.1.cmml">∂</mo><msub id="S3.SS1.p2.15.m2.1.1.2.3.2" xref="S3.SS1.p2.15.m2.1.1.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.2.3.2.2" xref="S3.SS1.p2.15.m2.1.1.2.3.2.2.cmml">b</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.2.3.2.3" xref="S3.SS1.p2.15.m2.1.1.2.3.2.3.cmml">k</mi></msub></mrow></mfrac><mo mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.1" xref="S3.SS1.p2.15.m2.1.1.1.cmml">&gt;</mo><mn mathbackground="#FFFFFF" id="S3.SS1.p2.15.m2.1.1.3" xref="S3.SS1.p2.15.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.15.m2.1b"><apply id="S3.SS1.p2.15.m2.1.1.cmml" xref="S3.SS1.p2.15.m2.1.1"><gt id="S3.SS1.p2.15.m2.1.1.1.cmml" xref="S3.SS1.p2.15.m2.1.1.1"></gt><apply id="S3.SS1.p2.15.m2.1.1.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2"><divide id="S3.SS1.p2.15.m2.1.1.2.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2"></divide><apply id="S3.SS1.p2.15.m2.1.1.2.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2"><partialdiff id="S3.SS1.p2.15.m2.1.1.2.2.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.1"></partialdiff><apply id="S3.SS1.p2.15.m2.1.1.2.2.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.15.m2.1.1.2.2.2.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.15.m2.1.1.2.2.2.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2.2">𝐽</ci><apply id="S3.SS1.p2.15.m2.1.1.2.2.2.3.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3"><ci id="S3.SS1.p2.15.m2.1.1.2.2.2.3.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.1">:</ci><cn type="integer" id="S3.SS1.p2.15.m2.1.1.2.2.2.3.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.2">1</cn><ci id="S3.SS1.p2.15.m2.1.1.2.2.2.3.3.cmml" xref="S3.SS1.p2.15.m2.1.1.2.2.2.3.3">𝑇</ci></apply></apply></apply><apply id="S3.SS1.p2.15.m2.1.1.2.3.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3"><partialdiff id="S3.SS1.p2.15.m2.1.1.2.3.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3.1"></partialdiff><apply id="S3.SS1.p2.15.m2.1.1.2.3.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.15.m2.1.1.2.3.2.1.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3.2">subscript</csymbol><ci id="S3.SS1.p2.15.m2.1.1.2.3.2.2.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3.2.2">𝑏</ci><ci id="S3.SS1.p2.15.m2.1.1.2.3.2.3.cmml" xref="S3.SS1.p2.15.m2.1.1.2.3.2.3">𝑘</ci></apply></apply></apply><cn type="integer" id="S3.SS1.p2.15.m2.1.1.3.cmml" xref="S3.SS1.p2.15.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.15.m2.1c">\frac{\partial J_{1:T}}{\partial b_{k}}&gt;0</annotation></semantics></math>. Also,
assuming that the neural net has been trained to have reasonable
performance then <math id="S3.SS1.p2.16.m3.1" class="ltx_Math" alttext="e^{z_{k}}" display="inline"><semantics id="S3.SS1.p2.16.m3.1a"><msup id="S3.SS1.p2.16.m3.1.1" xref="S3.SS1.p2.16.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.16.m3.1.1.2" xref="S3.SS1.p2.16.m3.1.1.2.cmml">e</mi><msub id="S3.SS1.p2.16.m3.1.1.3" xref="S3.SS1.p2.16.m3.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.16.m3.1.1.3.2" xref="S3.SS1.p2.16.m3.1.1.3.2.cmml">z</mi><mi mathbackground="#FFFFFF" id="S3.SS1.p2.16.m3.1.1.3.3" xref="S3.SS1.p2.16.m3.1.1.3.3.cmml">k</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.16.m3.1b"><apply id="S3.SS1.p2.16.m3.1.1.cmml" xref="S3.SS1.p2.16.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.16.m3.1.1.1.cmml" xref="S3.SS1.p2.16.m3.1.1">superscript</csymbol><ci id="S3.SS1.p2.16.m3.1.1.2.cmml" xref="S3.SS1.p2.16.m3.1.1.2">𝑒</ci><apply id="S3.SS1.p2.16.m3.1.1.3.cmml" xref="S3.SS1.p2.16.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.16.m3.1.1.3.1.cmml" xref="S3.SS1.p2.16.m3.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.16.m3.1.1.3.2.cmml" xref="S3.SS1.p2.16.m3.1.1.3.2">𝑧</ci><ci id="S3.SS1.p2.16.m3.1.1.3.3.cmml" xref="S3.SS1.p2.16.m3.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.16.m3.1c">e^{z_{k}}</annotation></semantics></math> will tend to be small for words <math id="S3.SS1.p2.17.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p2.17.m4.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.17.m4.1.1" xref="S3.SS1.p2.17.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.17.m4.1b"><ci id="S3.SS1.p2.17.m4.1.1.cmml" xref="S3.SS1.p2.17.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.17.m4.1c">k</annotation></semantics></math>
that do not appear next and large for words which do. Therefore for
words <math id="S3.SS1.p2.18.m5.1" class="ltx_Math" alttext="i^{*}" display="inline"><semantics id="S3.SS1.p2.18.m5.1a"><msup id="S3.SS1.p2.18.m5.1.1" xref="S3.SS1.p2.18.m5.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.18.m5.1.1.2" xref="S3.SS1.p2.18.m5.1.1.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p2.18.m5.1.1.3" xref="S3.SS1.p2.18.m5.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.18.m5.1b"><apply id="S3.SS1.p2.18.m5.1.1.cmml" xref="S3.SS1.p2.18.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.18.m5.1.1.1.cmml" xref="S3.SS1.p2.18.m5.1.1">superscript</csymbol><ci id="S3.SS1.p2.18.m5.1.1.2.cmml" xref="S3.SS1.p2.18.m5.1.1.2">𝑖</ci><times id="S3.SS1.p2.18.m5.1.1.3.cmml" xref="S3.SS1.p2.18.m5.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.18.m5.1c">i^{*}</annotation></semantics></math> that appear in the text we expect that <math id="S3.SS1.p2.19.m6.1" class="ltx_Math" alttext="\frac{\partial J_{1:T}}{\partial b_{i^{*}}}&lt;0" display="inline"><semantics id="S3.SS1.p2.19.m6.1a"><mrow id="S3.SS1.p2.19.m6.1.1" xref="S3.SS1.p2.19.m6.1.1.cmml"><mfrac id="S3.SS1.p2.19.m6.1.1.2" xref="S3.SS1.p2.19.m6.1.1.2.cmml"><mrow id="S3.SS1.p2.19.m6.1.1.2.2" xref="S3.SS1.p2.19.m6.1.1.2.2.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.SS1.p2.19.m6.1.1.2.2.1" xref="S3.SS1.p2.19.m6.1.1.2.2.1.cmml">∂</mo><msub id="S3.SS1.p2.19.m6.1.1.2.2.2" xref="S3.SS1.p2.19.m6.1.1.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.2.2.2" xref="S3.SS1.p2.19.m6.1.1.2.2.2.2.cmml">J</mi><mrow id="S3.SS1.p2.19.m6.1.1.2.2.2.3" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.cmml"><mn mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.2.2.3.2" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.2.cmml">1</mn><mo lspace="0.278em" mathbackground="#FFFFFF" rspace="0.278em" id="S3.SS1.p2.19.m6.1.1.2.2.2.3.1" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.1.cmml">:</mo><mi mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.2.2.3.3" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.3.cmml">T</mi></mrow></msub></mrow><mrow id="S3.SS1.p2.19.m6.1.1.2.3" xref="S3.SS1.p2.19.m6.1.1.2.3.cmml"><mo mathbackground="#FFFFFF" rspace="0em" id="S3.SS1.p2.19.m6.1.1.2.3.1" xref="S3.SS1.p2.19.m6.1.1.2.3.1.cmml">∂</mo><msub id="S3.SS1.p2.19.m6.1.1.2.3.2" xref="S3.SS1.p2.19.m6.1.1.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.3.2.2" xref="S3.SS1.p2.19.m6.1.1.2.3.2.2.cmml">b</mi><msup id="S3.SS1.p2.19.m6.1.1.2.3.2.3" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.3.2.3.2" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.2.3.2.3.3" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3.3.cmml">∗</mo></msup></msub></mrow></mfrac><mo mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.1" xref="S3.SS1.p2.19.m6.1.1.1.cmml">&lt;</mo><mn mathbackground="#FFFFFF" id="S3.SS1.p2.19.m6.1.1.3" xref="S3.SS1.p2.19.m6.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.19.m6.1b"><apply id="S3.SS1.p2.19.m6.1.1.cmml" xref="S3.SS1.p2.19.m6.1.1"><lt id="S3.SS1.p2.19.m6.1.1.1.cmml" xref="S3.SS1.p2.19.m6.1.1.1"></lt><apply id="S3.SS1.p2.19.m6.1.1.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2"><divide id="S3.SS1.p2.19.m6.1.1.2.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2"></divide><apply id="S3.SS1.p2.19.m6.1.1.2.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2"><partialdiff id="S3.SS1.p2.19.m6.1.1.2.2.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.1"></partialdiff><apply id="S3.SS1.p2.19.m6.1.1.2.2.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.19.m6.1.1.2.2.2.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.19.m6.1.1.2.2.2.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2.2">𝐽</ci><apply id="S3.SS1.p2.19.m6.1.1.2.2.2.3.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3"><ci id="S3.SS1.p2.19.m6.1.1.2.2.2.3.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.1">:</ci><cn type="integer" id="S3.SS1.p2.19.m6.1.1.2.2.2.3.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.2">1</cn><ci id="S3.SS1.p2.19.m6.1.1.2.2.2.3.3.cmml" xref="S3.SS1.p2.19.m6.1.1.2.2.2.3.3">𝑇</ci></apply></apply></apply><apply id="S3.SS1.p2.19.m6.1.1.2.3.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3"><partialdiff id="S3.SS1.p2.19.m6.1.1.2.3.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.1"></partialdiff><apply id="S3.SS1.p2.19.m6.1.1.2.3.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.19.m6.1.1.2.3.2.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2">subscript</csymbol><ci id="S3.SS1.p2.19.m6.1.1.2.3.2.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2.2">𝑏</ci><apply id="S3.SS1.p2.19.m6.1.1.2.3.2.3.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.19.m6.1.1.2.3.2.3.1.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3">superscript</csymbol><ci id="S3.SS1.p2.19.m6.1.1.2.3.2.3.2.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3.2">𝑖</ci><times id="S3.SS1.p2.19.m6.1.1.2.3.2.3.3.cmml" xref="S3.SS1.p2.19.m6.1.1.2.3.2.3.3"></times></apply></apply></apply></apply><cn type="integer" id="S3.SS1.p2.19.m6.1.1.3.cmml" xref="S3.SS1.p2.19.m6.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.19.m6.1c">\frac{\partial J_{1:T}}{\partial b_{i^{*}}}&lt;0</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">The above analysis focuses mainly on the bias parameters of the final
fully connected layer, however similar methods can be applied to the
<math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mi mathbackground="#FFFFFF" id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">W</annotation></semantics></math> parameters. The key aspect here that lends to the ease of this
attack is that the outputs echo the inputs, unlike for example, the
task of object detection in images. In that case, the output is just
the object label.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.4" class="ltx_p">This observation is intuitive from a loss function minimisation
perspective. Typically the estimated probability <math id="S3.SS1.p4.1.m1.1" class="ltx_Math" alttext="\hat{y}_{i^{*}}" display="inline"><semantics id="S3.SS1.p4.1.m1.1a"><msub id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mover accent="true" id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.1.m1.1.1.2.2" xref="S3.SS1.p4.1.m1.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.1.m1.1.1.2.1" xref="S3.SS1.p4.1.m1.1.1.2.1.cmml">^</mo></mover><msup id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.1.m1.1.1.3.2" xref="S3.SS1.p4.1.m1.1.1.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.1.m1.1.1.3.3" xref="S3.SS1.p4.1.m1.1.1.3.3.cmml">∗</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">subscript</csymbol><apply id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2"><ci id="S3.SS1.p4.1.m1.1.1.2.1.cmml" xref="S3.SS1.p4.1.m1.1.1.2.1">^</ci><ci id="S3.SS1.p4.1.m1.1.1.2.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2.2">𝑦</ci></apply><apply id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.3.1.cmml" xref="S3.SS1.p4.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.3.2.cmml" xref="S3.SS1.p4.1.m1.1.1.3.2">𝑖</ci><times id="S3.SS1.p4.1.m1.1.1.3.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">\hat{y}_{i^{*}}</annotation></semantics></math> for
an input word will be less than 1. Increasing <math id="S3.SS1.p4.2.m2.1" class="ltx_Math" alttext="\hat{y}_{i^{*}}" display="inline"><semantics id="S3.SS1.p4.2.m2.1a"><msub id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml"><mover accent="true" id="S3.SS1.p4.2.m2.1.1.2" xref="S3.SS1.p4.2.m2.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.2.m2.1.1.2.2" xref="S3.SS1.p4.2.m2.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.2.m2.1.1.2.1" xref="S3.SS1.p4.2.m2.1.1.2.1.cmml">^</mo></mover><msup id="S3.SS1.p4.2.m2.1.1.3" xref="S3.SS1.p4.2.m2.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.2.m2.1.1.3.2" xref="S3.SS1.p4.2.m2.1.1.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.2.m2.1.1.3.3" xref="S3.SS1.p4.2.m2.1.1.3.3.cmml">∗</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><apply id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">subscript</csymbol><apply id="S3.SS1.p4.2.m2.1.1.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2"><ci id="S3.SS1.p4.2.m2.1.1.2.1.cmml" xref="S3.SS1.p4.2.m2.1.1.2.1">^</ci><ci id="S3.SS1.p4.2.m2.1.1.2.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2.2">𝑦</ci></apply><apply id="S3.SS1.p4.2.m2.1.1.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.1.1.3.1.cmml" xref="S3.SS1.p4.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS1.p4.2.m2.1.1.3.2.cmml" xref="S3.SS1.p4.2.m2.1.1.3.2">𝑖</ci><times id="S3.SS1.p4.2.m2.1.1.3.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3.3"></times></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">\hat{y}_{i^{*}}</annotation></semantics></math> will
therefore decrease the loss function i.e. the gradient is negative.
Conversely, the estimated probability <math id="S3.SS1.p4.3.m3.1" class="ltx_Math" alttext="\hat{y}_{i}" display="inline"><semantics id="S3.SS1.p4.3.m3.1a"><msub id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml"><mover accent="true" id="S3.SS1.p4.3.m3.1.1.2" xref="S3.SS1.p4.3.m3.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.3.m3.1.1.2.2" xref="S3.SS1.p4.3.m3.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.3.m3.1.1.2.1" xref="S3.SS1.p4.3.m3.1.1.2.1.cmml">^</mo></mover><mi mathbackground="#FFFFFF" id="S3.SS1.p4.3.m3.1.1.3" xref="S3.SS1.p4.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><apply id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">subscript</csymbol><apply id="S3.SS1.p4.3.m3.1.1.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2"><ci id="S3.SS1.p4.3.m3.1.1.2.1.cmml" xref="S3.SS1.p4.3.m3.1.1.2.1">^</ci><ci id="S3.SS1.p4.3.m3.1.1.2.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2.2">𝑦</ci></apply><ci id="S3.SS1.p4.3.m3.1.1.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">\hat{y}_{i}</annotation></semantics></math> for a word that
does not appear in the input will be small but greater than 0.
Decreasing <math id="S3.SS1.p4.4.m4.1" class="ltx_Math" alttext="\hat{y}_{i}" display="inline"><semantics id="S3.SS1.p4.4.m4.1a"><msub id="S3.SS1.p4.4.m4.1.1" xref="S3.SS1.p4.4.m4.1.1.cmml"><mover accent="true" id="S3.SS1.p4.4.m4.1.1.2" xref="S3.SS1.p4.4.m4.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p4.4.m4.1.1.2.2" xref="S3.SS1.p4.4.m4.1.1.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" id="S3.SS1.p4.4.m4.1.1.2.1" xref="S3.SS1.p4.4.m4.1.1.2.1.cmml">^</mo></mover><mi mathbackground="#FFFFFF" id="S3.SS1.p4.4.m4.1.1.3" xref="S3.SS1.p4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.4.m4.1b"><apply id="S3.SS1.p4.4.m4.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.4.m4.1.1.1.cmml" xref="S3.SS1.p4.4.m4.1.1">subscript</csymbol><apply id="S3.SS1.p4.4.m4.1.1.2.cmml" xref="S3.SS1.p4.4.m4.1.1.2"><ci id="S3.SS1.p4.4.m4.1.1.2.1.cmml" xref="S3.SS1.p4.4.m4.1.1.2.1">^</ci><ci id="S3.SS1.p4.4.m4.1.1.2.2.cmml" xref="S3.SS1.p4.4.m4.1.1.2.2">𝑦</ci></apply><ci id="S3.SS1.p4.4.m4.1.1.3.cmml" xref="S3.SS1.p4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.4.m4.1c">\hat{y}_{i}</annotation></semantics></math> will therefore decrease the loss function
i.e. the gradient is positive.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para">
<p id="S3.SS1.p5.3" class="ltx_p"><em id="S3.SS1.p5.3.1" class="ltx_emph ltx_font_italic">Example:</em> To execute this attack in practice, simply subtract
the final layer parameters of the current global model <math id="S3.SS1.p5.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S3.SS1.p5.1.m1.1a"><msub id="S3.SS1.p5.1.m1.1.1" xref="S3.SS1.p5.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p5.1.m1.1.1.2" xref="S3.SS1.p5.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS1.p5.1.m1.1.1.3" xref="S3.SS1.p5.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.1.m1.1b"><apply id="S3.SS1.p5.1.m1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p5.1.m1.1.1.2.cmml" xref="S3.SS1.p5.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S3.SS1.p5.1.m1.1.1.3.cmml" xref="S3.SS1.p5.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.1.m1.1c">\theta_{0}</annotation></semantics></math> from
those of the resulting model trained on the client’s local data,
<math id="S3.SS1.p5.2.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S3.SS1.p5.2.m2.1a"><msub id="S3.SS1.p5.2.m2.1.1" xref="S3.SS1.p5.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p5.2.m2.1.1.2" xref="S3.SS1.p5.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS1.p5.2.m2.1.1.3" xref="S3.SS1.p5.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.2.m2.1b"><apply id="S3.SS1.p5.2.m2.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.2.m2.1.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p5.2.m2.1.1.2.cmml" xref="S3.SS1.p5.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S3.SS1.p5.2.m2.1.1.3.cmml" xref="S3.SS1.p5.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.2.m2.1c">\theta_{1}</annotation></semantics></math>, as shown in Algorithm <a href="#algorithm2" title="In 3.1 Word Recovery ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The
indices of the negative values reveal the typed words. Suppose the
client’s local data consists of just the one sentence “learning
online is not so private”. We then train model <math id="S3.SS1.p5.3.m3.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S3.SS1.p5.3.m3.1a"><msub id="S3.SS1.p5.3.m3.1.1" xref="S3.SS1.p5.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS1.p5.3.m3.1.1.2" xref="S3.SS1.p5.3.m3.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS1.p5.3.m3.1.1.3" xref="S3.SS1.p5.3.m3.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.3.m3.1b"><apply id="S3.SS1.p5.3.m3.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.3.m3.1.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p5.3.m3.1.1.2.cmml" xref="S3.SS1.p5.3.m3.1.1.2">𝜃</ci><cn type="integer" id="S3.SS1.p5.3.m3.1.1.3.cmml" xref="S3.SS1.p5.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.3.m3.1c">\theta_{0}</annotation></semantics></math> on this
sentence for 1 epoch, with a mini-batch size of 1, and SGD learning
rate of 0.001 (FedSGD), and report the the values at the negative
indices in Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Word Recovery ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.2.2" class="ltx_tr">
<th id="S3.T1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t">word</th>
<th id="S3.T1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><math id="S3.T1.1.1.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.T1.1.1.1.m1.1a"><mi mathbackground="#FFFFFF" id="S3.T1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.m1.1c">i</annotation></semantics></math></th>
<th id="S3.T1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><math id="S3.T1.2.2.2.m1.1" class="ltx_Math" alttext="(\theta_{1}-\theta_{0})_{i}" display="inline"><semantics id="S3.T1.2.2.2.m1.1a"><msub id="S3.T1.2.2.2.m1.1.1" xref="S3.T1.2.2.2.m1.1.1.cmml"><mrow id="S3.T1.2.2.2.m1.1.1.1.1" xref="S3.T1.2.2.2.m1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.T1.2.2.2.m1.1.1.1.1.2" xref="S3.T1.2.2.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.T1.2.2.2.m1.1.1.1.1.1" xref="S3.T1.2.2.2.m1.1.1.1.1.1.cmml"><msub id="S3.T1.2.2.2.m1.1.1.1.1.1.2" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.1.1.1.2.2" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.1.1.1.2.3" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.1.1.1.1" xref="S3.T1.2.2.2.m1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.T1.2.2.2.m1.1.1.1.1.1.3" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.1.1.1.3.2" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.1.1.1.3.3" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3.3.cmml">0</mn></msub></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S3.T1.2.2.2.m1.1.1.1.1.3" xref="S3.T1.2.2.2.m1.1.1.1.1.1.cmml">)</mo></mrow><mi mathbackground="#FFFFFF" id="S3.T1.2.2.2.m1.1.1.3" xref="S3.T1.2.2.2.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.m1.1b"><apply id="S3.T1.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S3.T1.2.2.2.m1.1.1.2.cmml" xref="S3.T1.2.2.2.m1.1.1">subscript</csymbol><apply id="S3.T1.2.2.2.m1.1.1.1.1.1.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1"><minus id="S3.T1.2.2.2.m1.1.1.1.1.1.1.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.1"></minus><apply id="S3.T1.2.2.2.m1.1.1.1.1.1.2.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.T1.2.2.2.m1.1.1.1.1.1.2.1.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.T1.2.2.2.m1.1.1.1.1.1.2.2.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2.2">𝜃</ci><cn type="integer" id="S3.T1.2.2.2.m1.1.1.1.1.1.2.3.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.2.3">1</cn></apply><apply id="S3.T1.2.2.2.m1.1.1.1.1.1.3.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.T1.2.2.2.m1.1.1.1.1.1.3.1.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.T1.2.2.2.m1.1.1.1.1.1.3.2.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3.2">𝜃</ci><cn type="integer" id="S3.T1.2.2.2.m1.1.1.1.1.1.3.3.cmml" xref="S3.T1.2.2.2.m1.1.1.1.1.1.3.3">0</cn></apply></apply><ci id="S3.T1.2.2.2.m1.1.1.3.cmml" xref="S3.T1.2.2.2.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.m1.1c">(\theta_{1}-\theta_{0})_{i}</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.2.3.1" class="ltx_tr">
<td id="S3.T1.2.3.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">learning</td>
<td id="S3.T1.2.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7437</td>
<td id="S3.T1.2.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0009951561</td>
</tr>
<tr id="S3.T1.2.4.2" class="ltx_tr">
<td id="S3.T1.2.4.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">online</td>
<td id="S3.T1.2.4.2.2" class="ltx_td ltx_align_center ltx_border_r">4904</td>
<td id="S3.T1.2.4.2.3" class="ltx_td ltx_align_center ltx_border_r">-0.0009941629</td>
</tr>
<tr id="S3.T1.2.5.3" class="ltx_tr">
<td id="S3.T1.2.5.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">is</td>
<td id="S3.T1.2.5.3.2" class="ltx_td ltx_align_center ltx_border_r">209</td>
<td id="S3.T1.2.5.3.3" class="ltx_td ltx_align_center ltx_border_r">-0.000997875</td>
</tr>
<tr id="S3.T1.2.6.4" class="ltx_tr">
<td id="S3.T1.2.6.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">not</td>
<td id="S3.T1.2.6.4.2" class="ltx_td ltx_align_center ltx_border_r">1808</td>
<td id="S3.T1.2.6.4.3" class="ltx_td ltx_align_center ltx_border_r">-0.0009941144</td>
</tr>
<tr id="S3.T1.2.7.5" class="ltx_tr">
<td id="S3.T1.2.7.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">so</td>
<td id="S3.T1.2.7.5.2" class="ltx_td ltx_align_center ltx_border_r">26</td>
<td id="S3.T1.2.7.5.3" class="ltx_td ltx_align_center ltx_border_r">-0.0009965639</td>
</tr>
<tr id="S3.T1.2.8.6" class="ltx_tr">
<td id="S3.T1.2.8.6.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r">private</td>
<td id="S3.T1.2.8.6.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">6314</td>
<td id="S3.T1.2.8.6.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">-0.0009951561</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.6.2.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S3.T1.4.1" class="ltx_text" style="font-size:90%;">Values of the final layer parameter difference at the
indices of the typed words. Produced after training the model on
the sentence “learning online is not so private”,
<math id="S3.T1.4.1.m1.2" class="ltx_Math" alttext="E=1,B=1,\eta=0.001" display="inline"><semantics id="S3.T1.4.1.m1.2b"><mrow id="S3.T1.4.1.m1.2.2.2" xref="S3.T1.4.1.m1.2.2.3.cmml"><mrow id="S3.T1.4.1.m1.1.1.1.1" xref="S3.T1.4.1.m1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.T1.4.1.m1.1.1.1.1.2" xref="S3.T1.4.1.m1.1.1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S3.T1.4.1.m1.1.1.1.1.1" xref="S3.T1.4.1.m1.1.1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.T1.4.1.m1.1.1.1.1.3" xref="S3.T1.4.1.m1.1.1.1.1.3.cmml">1</mn></mrow><mo mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.3" xref="S3.T1.4.1.m1.2.2.3a.cmml">,</mo><mrow id="S3.T1.4.1.m1.2.2.2.2.2" xref="S3.T1.4.1.m1.2.2.2.2.3.cmml"><mrow id="S3.T1.4.1.m1.2.2.2.2.1.1" xref="S3.T1.4.1.m1.2.2.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.1.1.2" xref="S3.T1.4.1.m1.2.2.2.2.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.1.1.1" xref="S3.T1.4.1.m1.2.2.2.2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.1.1.3" xref="S3.T1.4.1.m1.2.2.2.2.1.1.3.cmml">1</mn></mrow><mo mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.2.3" xref="S3.T1.4.1.m1.2.2.2.2.3a.cmml">,</mo><mrow id="S3.T1.4.1.m1.2.2.2.2.2.2" xref="S3.T1.4.1.m1.2.2.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.2.2.2" xref="S3.T1.4.1.m1.2.2.2.2.2.2.2.cmml">η</mi><mo mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.2.2.1" xref="S3.T1.4.1.m1.2.2.2.2.2.2.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.T1.4.1.m1.2.2.2.2.2.2.3" xref="S3.T1.4.1.m1.2.2.2.2.2.2.3.cmml">0.001</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.4.1.m1.2c"><apply id="S3.T1.4.1.m1.2.2.3.cmml" xref="S3.T1.4.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.T1.4.1.m1.2.2.3a.cmml" xref="S3.T1.4.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.T1.4.1.m1.1.1.1.1.cmml" xref="S3.T1.4.1.m1.1.1.1.1"><eq id="S3.T1.4.1.m1.1.1.1.1.1.cmml" xref="S3.T1.4.1.m1.1.1.1.1.1"></eq><ci id="S3.T1.4.1.m1.1.1.1.1.2.cmml" xref="S3.T1.4.1.m1.1.1.1.1.2">𝐸</ci><cn type="integer" id="S3.T1.4.1.m1.1.1.1.1.3.cmml" xref="S3.T1.4.1.m1.1.1.1.1.3">1</cn></apply><apply id="S3.T1.4.1.m1.2.2.2.2.3.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.T1.4.1.m1.2.2.2.2.3a.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.T1.4.1.m1.2.2.2.2.1.1.cmml" xref="S3.T1.4.1.m1.2.2.2.2.1.1"><eq id="S3.T1.4.1.m1.2.2.2.2.1.1.1.cmml" xref="S3.T1.4.1.m1.2.2.2.2.1.1.1"></eq><ci id="S3.T1.4.1.m1.2.2.2.2.1.1.2.cmml" xref="S3.T1.4.1.m1.2.2.2.2.1.1.2">𝐵</ci><cn type="integer" id="S3.T1.4.1.m1.2.2.2.2.1.1.3.cmml" xref="S3.T1.4.1.m1.2.2.2.2.1.1.3">1</cn></apply><apply id="S3.T1.4.1.m1.2.2.2.2.2.2.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2.2"><eq id="S3.T1.4.1.m1.2.2.2.2.2.2.1.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2.2.1"></eq><ci id="S3.T1.4.1.m1.2.2.2.2.2.2.2.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2.2.2">𝜂</ci><cn type="float" id="S3.T1.4.1.m1.2.2.2.2.2.2.3.cmml" xref="S3.T1.4.1.m1.2.2.2.2.2.2.3">0.001</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.1.m1.2d">E=1,B=1,\eta=0.001</annotation></semantics></math>. These are the only indices where
negative values occur.</span></figcaption>
</figure>
<figure id="algorithm2" class="ltx_float ltx_algorithm">
<div id="algorithm2.6" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm2.2.2" class="ltx_listingline">
<span id="algorithm2.2.2.1" class="ltx_text"><span id="algorithm2.2.2.1.1" class="ltx_text ltx_font_bold">Input:</span> </span><math id="algorithm2.1.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="algorithm2.1.1.m1.1a"><msub id="algorithm2.1.1.m1.1.1" xref="algorithm2.1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.1.1.m1.1.1.2" xref="algorithm2.1.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm2.1.1.m1.1.1.3" xref="algorithm2.1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm2.1.1.m1.1b"><apply id="algorithm2.1.1.m1.1.1.cmml" xref="algorithm2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algorithm2.1.1.m1.1.1.1.cmml" xref="algorithm2.1.1.m1.1.1">subscript</csymbol><ci id="algorithm2.1.1.m1.1.1.2.cmml" xref="algorithm2.1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm2.1.1.m1.1.1.3.cmml" xref="algorithm2.1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.1.1.m1.1c">\theta_{0}</annotation></semantics></math>: The global model’s final layer parameters,
<math id="algorithm2.2.2.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="algorithm2.2.2.m2.1a"><msub id="algorithm2.2.2.m2.1.1" xref="algorithm2.2.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.2.2.m2.1.1.2" xref="algorithm2.2.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm2.2.2.m2.1.1.3" xref="algorithm2.2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm2.2.2.m2.1b"><apply id="algorithm2.2.2.m2.1.1.cmml" xref="algorithm2.2.2.m2.1.1"><csymbol cd="ambiguous" id="algorithm2.2.2.m2.1.1.1.cmml" xref="algorithm2.2.2.m2.1.1">subscript</csymbol><ci id="algorithm2.2.2.m2.1.1.2.cmml" xref="algorithm2.2.2.m2.1.1.2">𝜃</ci><cn type="integer" id="algorithm2.2.2.m2.1.1.3.cmml" xref="algorithm2.2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.2.2.m2.1c">\theta_{1}</annotation></semantics></math>: The final layer parameters of a model update
</div>
<div id="algorithm2.3.3" class="ltx_listingline">
<span id="algorithm2.3.3.1" class="ltx_text"><span id="algorithm2.3.3.1.1" class="ltx_text ltx_font_bold">Output:</span> </span>User typed tokens <math id="algorithm2.3.3.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2.3.3.m1.1a"><mi mathbackground="#FFFFFF" id="algorithm2.3.3.m1.1.1" xref="algorithm2.3.3.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2.3.3.m1.1b"><ci id="algorithm2.3.3.m1.1.1.cmml" xref="algorithm2.3.3.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.3.3.m1.1c">w</annotation></semantics></math>
</div>
<div id="algorithm2.6.7" class="ltx_listingline">
<span id="algorithm2.6.7.1" class="ltx_text ltx_font_bold">Procedure</span> <em id="algorithm2.6.7.2" class="ltx_emph ltx_font_italic">recoverWords</em> 
</div>
<div id="algorithm2.4.4" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm2.4.4.m1.1" class="ltx_Math" alttext="d\leftarrow\theta_{1}-\theta_{0}" display="inline"><semantics id="algorithm2.4.4.m1.1a"><mrow id="algorithm2.4.4.m1.1.1" xref="algorithm2.4.4.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.2" xref="algorithm2.4.4.m1.1.1.2.cmml">d</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm2.4.4.m1.1.1.1" xref="algorithm2.4.4.m1.1.1.1.cmml">←</mo><mrow id="algorithm2.4.4.m1.1.1.3" xref="algorithm2.4.4.m1.1.1.3.cmml"><msub id="algorithm2.4.4.m1.1.1.3.2" xref="algorithm2.4.4.m1.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.3.2.2" xref="algorithm2.4.4.m1.1.1.3.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.3.2.3" xref="algorithm2.4.4.m1.1.1.3.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.3.1" xref="algorithm2.4.4.m1.1.1.3.1.cmml">−</mo><msub id="algorithm2.4.4.m1.1.1.3.3" xref="algorithm2.4.4.m1.1.1.3.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.3.3.2" xref="algorithm2.4.4.m1.1.1.3.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm2.4.4.m1.1.1.3.3.3" xref="algorithm2.4.4.m1.1.1.3.3.3.cmml">0</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.4.4.m1.1b"><apply id="algorithm2.4.4.m1.1.1.cmml" xref="algorithm2.4.4.m1.1.1"><ci id="algorithm2.4.4.m1.1.1.1.cmml" xref="algorithm2.4.4.m1.1.1.1">←</ci><ci id="algorithm2.4.4.m1.1.1.2.cmml" xref="algorithm2.4.4.m1.1.1.2">𝑑</ci><apply id="algorithm2.4.4.m1.1.1.3.cmml" xref="algorithm2.4.4.m1.1.1.3"><minus id="algorithm2.4.4.m1.1.1.3.1.cmml" xref="algorithm2.4.4.m1.1.1.3.1"></minus><apply id="algorithm2.4.4.m1.1.1.3.2.cmml" xref="algorithm2.4.4.m1.1.1.3.2"><csymbol cd="ambiguous" id="algorithm2.4.4.m1.1.1.3.2.1.cmml" xref="algorithm2.4.4.m1.1.1.3.2">subscript</csymbol><ci id="algorithm2.4.4.m1.1.1.3.2.2.cmml" xref="algorithm2.4.4.m1.1.1.3.2.2">𝜃</ci><cn type="integer" id="algorithm2.4.4.m1.1.1.3.2.3.cmml" xref="algorithm2.4.4.m1.1.1.3.2.3">1</cn></apply><apply id="algorithm2.4.4.m1.1.1.3.3.cmml" xref="algorithm2.4.4.m1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm2.4.4.m1.1.1.3.3.1.cmml" xref="algorithm2.4.4.m1.1.1.3.3">subscript</csymbol><ci id="algorithm2.4.4.m1.1.1.3.3.2.cmml" xref="algorithm2.4.4.m1.1.1.3.3.2">𝜃</ci><cn type="integer" id="algorithm2.4.4.m1.1.1.3.3.3.cmml" xref="algorithm2.4.4.m1.1.1.3.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.4.4.m1.1c">d\leftarrow\theta_{1}-\theta_{0}</annotation></semantics></math>;
</div>
<div id="algorithm2.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>    <math id="algorithm2.5.5.m1.2" class="ltx_Math" alttext="w\leftarrow\{i\ |\ d_{i}&lt;0\}" display="inline"><semantics id="algorithm2.5.5.m1.2a"><mrow id="algorithm2.5.5.m1.2.2" xref="algorithm2.5.5.m1.2.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.5.5.m1.2.2.3" xref="algorithm2.5.5.m1.2.2.3.cmml">w</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm2.5.5.m1.2.2.2" xref="algorithm2.5.5.m1.2.2.2.cmml">←</mo><mrow id="algorithm2.5.5.m1.2.2.1.1" xref="algorithm2.5.5.m1.2.2.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm2.5.5.m1.2.2.1.1.2" xref="algorithm2.5.5.m1.2.2.1.2.1.cmml">{</mo><mi mathbackground="#FFFFFF" id="algorithm2.5.5.m1.1.1" xref="algorithm2.5.5.m1.1.1.cmml">i</mi><mo lspace="0.500em" mathbackground="#FFFFFF" rspace="0.500em" id="algorithm2.5.5.m1.2.2.1.1.3" xref="algorithm2.5.5.m1.2.2.1.2.1.cmml">|</mo><mrow id="algorithm2.5.5.m1.2.2.1.1.1" xref="algorithm2.5.5.m1.2.2.1.1.1.cmml"><msub id="algorithm2.5.5.m1.2.2.1.1.1.2" xref="algorithm2.5.5.m1.2.2.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm2.5.5.m1.2.2.1.1.1.2.2" xref="algorithm2.5.5.m1.2.2.1.1.1.2.2.cmml">d</mi><mi mathbackground="#FFFFFF" id="algorithm2.5.5.m1.2.2.1.1.1.2.3" xref="algorithm2.5.5.m1.2.2.1.1.1.2.3.cmml">i</mi></msub><mo mathbackground="#FFFFFF" id="algorithm2.5.5.m1.2.2.1.1.1.1" xref="algorithm2.5.5.m1.2.2.1.1.1.1.cmml">&lt;</mo><mn mathbackground="#FFFFFF" id="algorithm2.5.5.m1.2.2.1.1.1.3" xref="algorithm2.5.5.m1.2.2.1.1.1.3.cmml">0</mn></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm2.5.5.m1.2.2.1.1.4" xref="algorithm2.5.5.m1.2.2.1.2.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm2.5.5.m1.2b"><apply id="algorithm2.5.5.m1.2.2.cmml" xref="algorithm2.5.5.m1.2.2"><ci id="algorithm2.5.5.m1.2.2.2.cmml" xref="algorithm2.5.5.m1.2.2.2">←</ci><ci id="algorithm2.5.5.m1.2.2.3.cmml" xref="algorithm2.5.5.m1.2.2.3">𝑤</ci><apply id="algorithm2.5.5.m1.2.2.1.2.cmml" xref="algorithm2.5.5.m1.2.2.1.1"><csymbol cd="latexml" id="algorithm2.5.5.m1.2.2.1.2.1.cmml" xref="algorithm2.5.5.m1.2.2.1.1.2">conditional-set</csymbol><ci id="algorithm2.5.5.m1.1.1.cmml" xref="algorithm2.5.5.m1.1.1">𝑖</ci><apply id="algorithm2.5.5.m1.2.2.1.1.1.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1"><lt id="algorithm2.5.5.m1.2.2.1.1.1.1.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.1"></lt><apply id="algorithm2.5.5.m1.2.2.1.1.1.2.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="algorithm2.5.5.m1.2.2.1.1.1.2.1.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.2">subscript</csymbol><ci id="algorithm2.5.5.m1.2.2.1.1.1.2.2.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.2.2">𝑑</ci><ci id="algorithm2.5.5.m1.2.2.1.1.1.2.3.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.2.3">𝑖</ci></apply><cn type="integer" id="algorithm2.5.5.m1.2.2.1.1.1.3.cmml" xref="algorithm2.5.5.m1.2.2.1.1.1.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.5.5.m1.2c">w\leftarrow\{i\ |\ d_{i}&lt;0\}</annotation></semantics></math>;
</div>
<div id="algorithm2.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm2.6.6.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm2.6.6.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="algorithm2.6.6.m1.1a"><mi mathbackground="#FFFFFF" id="algorithm2.6.6.m1.1.1" xref="algorithm2.6.6.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="algorithm2.6.6.m1.1b"><ci id="algorithm2.6.6.m1.1.1.cmml" xref="algorithm2.6.6.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm2.6.6.m1.1c">w</annotation></semantics></math>;
</div>
<div id="algorithm2.6.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm2.6.9" class="ltx_listingline"> 
</div>
<div id="algorithm2.6.10" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm2.8.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span>Word Recovery</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Reconstructing Sentences</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">The attack described previously retrieves the words typed, but gives
no indication of the order in which they occurred. To reveal this
order, we ask the model<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>It is perhaps worth noting that we
studied a variety of reconstruction attacks, e.g., using Monte Carlo
Tree Search to perform a smart search over all words sequences, but
found the attack method described here to be simple, efficient and
highly effective</span></span></span>.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">The basic idea is that after running multiple rounds of gradient
descent on the local training data, the local model is “tuned” to
the local data in the sense that when it is presented with the first
words of a sentence from the local training data, the model’s next
word prediction will tend to match the training data and so we can
bootstrap reconstruction of the full training data text.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.12" class="ltx_p">In more detail, the <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">t</annotation></semantics></math>’th input word is represented by a vector
<math id="S3.SS2.p3.2.m2.2" class="ltx_Math" alttext="x_{t}\in{0,1}^{V}" display="inline"><semantics id="S3.SS2.p3.2.m2.2a"><mrow id="S3.SS2.p3.2.m2.2.2" xref="S3.SS2.p3.2.m2.2.2.cmml"><msub id="S3.SS2.p3.2.m2.2.2.3" xref="S3.SS2.p3.2.m2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.3.2" xref="S3.SS2.p3.2.m2.2.2.3.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.3.3" xref="S3.SS2.p3.2.m2.2.2.3.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.2" xref="S3.SS2.p3.2.m2.2.2.2.cmml">∈</mo><mrow id="S3.SS2.p3.2.m2.2.2.1.1" xref="S3.SS2.p3.2.m2.2.2.1.2.cmml"><mn mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">0</mn><mo mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.1.1.2" xref="S3.SS2.p3.2.m2.2.2.1.2.cmml">,</mo><msup id="S3.SS2.p3.2.m2.2.2.1.1.1" xref="S3.SS2.p3.2.m2.2.2.1.1.1.cmml"><mn mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.1.1.1.2" xref="S3.SS2.p3.2.m2.2.2.1.1.1.2.cmml">1</mn><mi mathbackground="#FFFFFF" id="S3.SS2.p3.2.m2.2.2.1.1.1.3" xref="S3.SS2.p3.2.m2.2.2.1.1.1.3.cmml">V</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.2b"><apply id="S3.SS2.p3.2.m2.2.2.cmml" xref="S3.SS2.p3.2.m2.2.2"><in id="S3.SS2.p3.2.m2.2.2.2.cmml" xref="S3.SS2.p3.2.m2.2.2.2"></in><apply id="S3.SS2.p3.2.m2.2.2.3.cmml" xref="S3.SS2.p3.2.m2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.2.2.3.1.cmml" xref="S3.SS2.p3.2.m2.2.2.3">subscript</csymbol><ci id="S3.SS2.p3.2.m2.2.2.3.2.cmml" xref="S3.SS2.p3.2.m2.2.2.3.2">𝑥</ci><ci id="S3.SS2.p3.2.m2.2.2.3.3.cmml" xref="S3.SS2.p3.2.m2.2.2.3.3">𝑡</ci></apply><list id="S3.SS2.p3.2.m2.2.2.1.2.cmml" xref="S3.SS2.p3.2.m2.2.2.1.1"><cn type="integer" id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">0</cn><apply id="S3.SS2.p3.2.m2.2.2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS2.p3.2.m2.2.2.1.1.1">superscript</csymbol><cn type="integer" id="S3.SS2.p3.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS2.p3.2.m2.2.2.1.1.1.2">1</cn><ci id="S3.SS2.p3.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS2.p3.2.m2.2.2.1.1.1.3">𝑉</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.2c">x_{t}\in{0,1}^{V}</annotation></semantics></math>, with all elements zero apart from the element
corresponding to the index of the word in the dictionary. The output
<math id="S3.SS2.p3.3.m3.2" class="ltx_Math" alttext="y_{t+1}\in[0,1]^{V}" display="inline"><semantics id="S3.SS2.p3.3.m3.2a"><mrow id="S3.SS2.p3.3.m3.2.3" xref="S3.SS2.p3.3.m3.2.3.cmml"><msub id="S3.SS2.p3.3.m3.2.3.2" xref="S3.SS2.p3.3.m3.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.2.2" xref="S3.SS2.p3.3.m3.2.3.2.2.cmml">y</mi><mrow id="S3.SS2.p3.3.m3.2.3.2.3" xref="S3.SS2.p3.3.m3.2.3.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.2.3.2" xref="S3.SS2.p3.3.m3.2.3.2.3.2.cmml">t</mi><mo mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.2.3.1" xref="S3.SS2.p3.3.m3.2.3.2.3.1.cmml">+</mo><mn mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.2.3.3" xref="S3.SS2.p3.3.m3.2.3.2.3.3.cmml">1</mn></mrow></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.1" xref="S3.SS2.p3.3.m3.2.3.1.cmml">∈</mo><msup id="S3.SS2.p3.3.m3.2.3.3" xref="S3.SS2.p3.3.m3.2.3.3.cmml"><mrow id="S3.SS2.p3.3.m3.2.3.3.2.2" xref="S3.SS2.p3.3.m3.2.3.3.2.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.3.m3.2.3.3.2.2.1" xref="S3.SS2.p3.3.m3.2.3.3.2.1.cmml">[</mo><mn mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">0</mn><mo mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.3.2.2.2" xref="S3.SS2.p3.3.m3.2.3.3.2.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.2" xref="S3.SS2.p3.3.m3.2.2.cmml">1</mn><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.3.m3.2.3.3.2.2.3" xref="S3.SS2.p3.3.m3.2.3.3.2.1.cmml">]</mo></mrow><mi mathbackground="#FFFFFF" id="S3.SS2.p3.3.m3.2.3.3.3" xref="S3.SS2.p3.3.m3.2.3.3.3.cmml">V</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.2b"><apply id="S3.SS2.p3.3.m3.2.3.cmml" xref="S3.SS2.p3.3.m3.2.3"><in id="S3.SS2.p3.3.m3.2.3.1.cmml" xref="S3.SS2.p3.3.m3.2.3.1"></in><apply id="S3.SS2.p3.3.m3.2.3.2.cmml" xref="S3.SS2.p3.3.m3.2.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.2.3.2.1.cmml" xref="S3.SS2.p3.3.m3.2.3.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.2.3.2.2.cmml" xref="S3.SS2.p3.3.m3.2.3.2.2">𝑦</ci><apply id="S3.SS2.p3.3.m3.2.3.2.3.cmml" xref="S3.SS2.p3.3.m3.2.3.2.3"><plus id="S3.SS2.p3.3.m3.2.3.2.3.1.cmml" xref="S3.SS2.p3.3.m3.2.3.2.3.1"></plus><ci id="S3.SS2.p3.3.m3.2.3.2.3.2.cmml" xref="S3.SS2.p3.3.m3.2.3.2.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p3.3.m3.2.3.2.3.3.cmml" xref="S3.SS2.p3.3.m3.2.3.2.3.3">1</cn></apply></apply><apply id="S3.SS2.p3.3.m3.2.3.3.cmml" xref="S3.SS2.p3.3.m3.2.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.2.3.3.1.cmml" xref="S3.SS2.p3.3.m3.2.3.3">superscript</csymbol><interval closure="closed" id="S3.SS2.p3.3.m3.2.3.3.2.1.cmml" xref="S3.SS2.p3.3.m3.2.3.3.2.2"><cn type="integer" id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">0</cn><cn type="integer" id="S3.SS2.p3.3.m3.2.2.cmml" xref="S3.SS2.p3.3.m3.2.2">1</cn></interval><ci id="S3.SS2.p3.3.m3.2.3.3.3.cmml" xref="S3.SS2.p3.3.m3.2.3.3.3">𝑉</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.2c">y_{t+1}\in[0,1]^{V}</annotation></semantics></math> from the model after seeing input words
<math id="S3.SS2.p3.4.m4.3" class="ltx_Math" alttext="x_{0},\dots,x_{t}" display="inline"><semantics id="S3.SS2.p3.4.m4.3a"><mrow id="S3.SS2.p3.4.m4.3.3.2" xref="S3.SS2.p3.4.m4.3.3.3.cmml"><msub id="S3.SS2.p3.4.m4.2.2.1.1" xref="S3.SS2.p3.4.m4.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.2.2.1.1.2" xref="S3.SS2.p3.4.m4.2.2.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.2.2.1.1.3" xref="S3.SS2.p3.4.m4.2.2.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.3.3.2.3" xref="S3.SS2.p3.4.m4.3.3.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.3.3.2.4" xref="S3.SS2.p3.4.m4.3.3.3.cmml">,</mo><msub id="S3.SS2.p3.4.m4.3.3.2.2" xref="S3.SS2.p3.4.m4.3.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.3.3.2.2.2" xref="S3.SS2.p3.4.m4.3.3.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.SS2.p3.4.m4.3.3.2.2.3" xref="S3.SS2.p3.4.m4.3.3.2.2.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.3b"><list id="S3.SS2.p3.4.m4.3.3.3.cmml" xref="S3.SS2.p3.4.m4.3.3.2"><apply id="S3.SS2.p3.4.m4.2.2.1.1.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.2.2.1.1.1.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p3.4.m4.2.2.1.1.2.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.4.m4.2.2.1.1.3.cmml" xref="S3.SS2.p3.4.m4.2.2.1.1.3">0</cn></apply><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">…</ci><apply id="S3.SS2.p3.4.m4.3.3.2.2.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.3.3.2.2.1.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p3.4.m4.3.3.2.2.2.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.2">𝑥</ci><ci id="S3.SS2.p3.4.m4.3.3.2.2.3.cmml" xref="S3.SS2.p3.4.m4.3.3.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.3c">x_{0},\dots,x_{t}</annotation></semantics></math> is a probability distribution over the dictionary. We
begin by selecting <math id="S3.SS2.p3.5.m5.1" class="ltx_Math" alttext="x_{0}" display="inline"><semantics id="S3.SS2.p3.5.m5.1a"><msub id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">x_{0}</annotation></semantics></math> equal to the start of sentence token
<span id="S3.SS2.p3.12.1" class="ltx_text ltx_font_typewriter">&lt;S&gt;</span> and <math id="S3.SS2.p3.6.m6.1" class="ltx_Math" alttext="x_{1}" display="inline"><semantics id="S3.SS2.p3.6.m6.1a"><msub id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.6.m6.1.1.2" xref="S3.SS2.p3.6.m6.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.6.m6.1.1.3" xref="S3.SS2.p3.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><apply id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p3.6.m6.1.1.2.cmml" xref="S3.SS2.p3.6.m6.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.6.m6.1.1.3.cmml" xref="S3.SS2.p3.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">x_{1}</annotation></semantics></math> equal to the first word from our set of
reconstructed words, then ask the model to generate
<math id="S3.SS2.p3.7.m7.1" class="ltx_Math" alttext="y_{2}=Pr(x_{2}|x_{0},x_{1};\theta_{1})" display="inline"><semantics id="S3.SS2.p3.7.m7.1a"><mrow id="S3.SS2.p3.7.m7.1.1" xref="S3.SS2.p3.7.m7.1.1.cmml"><msub id="S3.SS2.p3.7.m7.1.1.3" xref="S3.SS2.p3.7.m7.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.3.2" xref="S3.SS2.p3.7.m7.1.1.3.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.3.3" xref="S3.SS2.p3.7.m7.1.1.3.3.cmml">2</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.2" xref="S3.SS2.p3.7.m7.1.1.2.cmml">=</mo><mrow id="S3.SS2.p3.7.m7.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.3" xref="S3.SS2.p3.7.m7.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.7.m7.1.1.1.2" xref="S3.SS2.p3.7.m7.1.1.1.2.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.4" xref="S3.SS2.p3.7.m7.1.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.7.m7.1.1.1.2a" xref="S3.SS2.p3.7.m7.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p3.7.m7.1.1.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.7.m7.1.1.1.1.1.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p3.7.m7.1.1.1.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.3.cmml">2</mn></msub><mo fence="false" mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.4" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.4.cmml">|</mo><mrow id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.4.cmml"><msub id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.4" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.5" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.4.cmml">;</mo><msub id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.2" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub></mrow></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.7.m7.1.1.1.1.1.3" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.1b"><apply id="S3.SS2.p3.7.m7.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1"><eq id="S3.SS2.p3.7.m7.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.2"></eq><apply id="S3.SS2.p3.7.m7.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.3.1.cmml" xref="S3.SS2.p3.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.3.2.cmml" xref="S3.SS2.p3.7.m7.1.1.3.2">𝑦</ci><cn type="integer" id="S3.SS2.p3.7.m7.1.1.3.3.cmml" xref="S3.SS2.p3.7.m7.1.1.3.3">2</cn></apply><apply id="S3.SS2.p3.7.m7.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1"><times id="S3.SS2.p3.7.m7.1.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.2"></times><ci id="S3.SS2.p3.7.m7.1.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.3">𝑃</ci><ci id="S3.SS2.p3.7.m7.1.1.1.4.cmml" xref="S3.SS2.p3.7.m7.1.1.1.4">𝑟</ci><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.4.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.4">conditional</csymbol><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.5.3">2</cn></apply><list id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.4.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3"><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.2.2.2.3">1</cn></apply><apply id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.2">𝜃</ci><cn type="integer" id="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.SS2.p3.7.m7.1.1.1.1.1.1.3.3.3.3">1</cn></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.1c">y_{2}=Pr(x_{2}|x_{0},x_{1};\theta_{1})</annotation></semantics></math>. We set all elements of <math id="S3.SS2.p3.8.m8.1" class="ltx_Math" alttext="y_{2}" display="inline"><semantics id="S3.SS2.p3.8.m8.1a"><msub id="S3.SS2.p3.8.m8.1.1" xref="S3.SS2.p3.8.m8.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.8.m8.1.1.2" xref="S3.SS2.p3.8.m8.1.1.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.8.m8.1.1.3" xref="S3.SS2.p3.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m8.1b"><apply id="S3.SS2.p3.8.m8.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.1.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p3.8.m8.1.1.2.cmml" xref="S3.SS2.p3.8.m8.1.1.2">𝑦</ci><cn type="integer" id="S3.SS2.p3.8.m8.1.1.3.cmml" xref="S3.SS2.p3.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m8.1c">y_{2}</annotation></semantics></math>
that are not in the set of reconstructed words to zero, since we know
that these were not part of the local training data, re-normalise <math id="S3.SS2.p3.9.m9.1" class="ltx_Math" alttext="y_{2}" display="inline"><semantics id="S3.SS2.p3.9.m9.1a"><msub id="S3.SS2.p3.9.m9.1.1" xref="S3.SS2.p3.9.m9.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.9.m9.1.1.2" xref="S3.SS2.p3.9.m9.1.1.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.9.m9.1.1.3" xref="S3.SS2.p3.9.m9.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m9.1b"><apply id="S3.SS2.p3.9.m9.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m9.1.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p3.9.m9.1.1.2.cmml" xref="S3.SS2.p3.9.m9.1.1.2">𝑦</ci><cn type="integer" id="S3.SS2.p3.9.m9.1.1.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m9.1c">y_{2}</annotation></semantics></math>
so that its elements sum to one, and then select the most likely next
word as <math id="S3.SS2.p3.10.m10.1" class="ltx_Math" alttext="x_{2}" display="inline"><semantics id="S3.SS2.p3.10.m10.1a"><msub id="S3.SS2.p3.10.m10.1.1" xref="S3.SS2.p3.10.m10.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.10.m10.1.1.2" xref="S3.SS2.p3.10.m10.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.10.m10.1.1.3" xref="S3.SS2.p3.10.m10.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.10.m10.1b"><apply id="S3.SS2.p3.10.m10.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.1.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p3.10.m10.1.1.2.cmml" xref="S3.SS2.p3.10.m10.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.10.m10.1.1.3.cmml" xref="S3.SS2.p3.10.m10.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.10.m10.1c">x_{2}</annotation></semantics></math>. We now repeat this process for
<math id="S3.SS2.p3.11.m11.1" class="ltx_Math" alttext="y_{3}=Pr(x_{3}|x_{0},x_{1},x_{2};\theta_{1})" display="inline"><semantics id="S3.SS2.p3.11.m11.1a"><mrow id="S3.SS2.p3.11.m11.1.1" xref="S3.SS2.p3.11.m11.1.1.cmml"><msub id="S3.SS2.p3.11.m11.1.1.3" xref="S3.SS2.p3.11.m11.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.3.2" xref="S3.SS2.p3.11.m11.1.1.3.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.3.3" xref="S3.SS2.p3.11.m11.1.1.3.3.cmml">3</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.2" xref="S3.SS2.p3.11.m11.1.1.2.cmml">=</mo><mrow id="S3.SS2.p3.11.m11.1.1.1" xref="S3.SS2.p3.11.m11.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.3" xref="S3.SS2.p3.11.m11.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.11.m11.1.1.1.2" xref="S3.SS2.p3.11.m11.1.1.1.2.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.4" xref="S3.SS2.p3.11.m11.1.1.1.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.11.m11.1.1.1.2a" xref="S3.SS2.p3.11.m11.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p3.11.m11.1.1.1.1.1" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.11.m11.1.1.1.1.1.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p3.11.m11.1.1.1.1.1.1" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.cmml"><msub id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.3.cmml">3</mn></msub><mo fence="false" mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.5" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.5.cmml">|</mo><mrow id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.5.cmml"><msub id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.5" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.6" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.3.cmml">2</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.7" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.5.cmml">;</mo><msub id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.2" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.3.cmml">1</mn></msub></mrow></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S3.SS2.p3.11.m11.1.1.1.1.1.3" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.11.m11.1b"><apply id="S3.SS2.p3.11.m11.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1"><eq id="S3.SS2.p3.11.m11.1.1.2.cmml" xref="S3.SS2.p3.11.m11.1.1.2"></eq><apply id="S3.SS2.p3.11.m11.1.1.3.cmml" xref="S3.SS2.p3.11.m11.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.3.1.cmml" xref="S3.SS2.p3.11.m11.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.3.2.cmml" xref="S3.SS2.p3.11.m11.1.1.3.2">𝑦</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.3.3.cmml" xref="S3.SS2.p3.11.m11.1.1.3.3">3</cn></apply><apply id="S3.SS2.p3.11.m11.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1"><times id="S3.SS2.p3.11.m11.1.1.1.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.2"></times><ci id="S3.SS2.p3.11.m11.1.1.1.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.3">𝑃</ci><ci id="S3.SS2.p3.11.m11.1.1.1.4.cmml" xref="S3.SS2.p3.11.m11.1.1.1.4">𝑟</ci><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.5.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.5">conditional</csymbol><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.6.3">3</cn></apply><list id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.5.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4"><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.2.2.2.3">1</cn></apply><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.3.3.3.3">2</cn></apply><apply id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.1.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.2.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.2">𝜃</ci><cn type="integer" id="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.3.cmml" xref="S3.SS2.p3.11.m11.1.1.1.1.1.1.4.4.4.3">1</cn></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.11.m11.1c">y_{3}=Pr(x_{3}|x_{0},x_{1},x_{2};\theta_{1})</annotation></semantics></math>, and so on, until a complete
sentence has been generated. We then take the second word from our
set of reconstructed words as <math id="S3.SS2.p3.12.m12.1" class="ltx_Math" alttext="x_{1}" display="inline"><semantics id="S3.SS2.p3.12.m12.1a"><msub id="S3.SS2.p3.12.m12.1.1" xref="S3.SS2.p3.12.m12.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p3.12.m12.1.1.2" xref="S3.SS2.p3.12.m12.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p3.12.m12.1.1.3" xref="S3.SS2.p3.12.m12.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.12.m12.1b"><apply id="S3.SS2.p3.12.m12.1.1.cmml" xref="S3.SS2.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.12.m12.1.1.1.cmml" xref="S3.SS2.p3.12.m12.1.1">subscript</csymbol><ci id="S3.SS2.p3.12.m12.1.1.2.cmml" xref="S3.SS2.p3.12.m12.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p3.12.m12.1.1.3.cmml" xref="S3.SS2.p3.12.m12.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.12.m12.1c">x_{1}</annotation></semantics></math> and repeat to generate a second
sentence, and so on.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.2" class="ltx_p">This method generates as many sentences as there are extracted
words. This results in a lot more sentences than were originally in
the client’s training dataset. In order to filter out the unnecessary
sentences, we rank each generated sentence by its change in
perplexity, from the initial global model <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">\theta_{0}</annotation></semantics></math> to the new update
<math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><msub id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">\theta_{1}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">The Log-Perplexity of a sequence <math id="S3.SS2.p5.1.m1.3" class="ltx_Math" alttext="x_{0},...,x_{t}" display="inline"><semantics id="S3.SS2.p5.1.m1.3a"><mrow id="S3.SS2.p5.1.m1.3.3.2" xref="S3.SS2.p5.1.m1.3.3.3.cmml"><msub id="S3.SS2.p5.1.m1.2.2.1.1" xref="S3.SS2.p5.1.m1.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.2.2.1.1.2" xref="S3.SS2.p5.1.m1.2.2.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.2.2.1.1.3" xref="S3.SS2.p5.1.m1.2.2.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.3.3.2.3" xref="S3.SS2.p5.1.m1.3.3.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.3.3.2.4" xref="S3.SS2.p5.1.m1.3.3.3.cmml">,</mo><msub id="S3.SS2.p5.1.m1.3.3.2.2" xref="S3.SS2.p5.1.m1.3.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.3.3.2.2.2" xref="S3.SS2.p5.1.m1.3.3.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.SS2.p5.1.m1.3.3.2.2.3" xref="S3.SS2.p5.1.m1.3.3.2.2.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.3b"><list id="S3.SS2.p5.1.m1.3.3.3.cmml" xref="S3.SS2.p5.1.m1.3.3.2"><apply id="S3.SS2.p5.1.m1.2.2.1.1.cmml" xref="S3.SS2.p5.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.2.2.1.1.1.cmml" xref="S3.SS2.p5.1.m1.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p5.1.m1.2.2.1.1.2.cmml" xref="S3.SS2.p5.1.m1.2.2.1.1.2">𝑥</ci><cn type="integer" id="S3.SS2.p5.1.m1.2.2.1.1.3.cmml" xref="S3.SS2.p5.1.m1.2.2.1.1.3">0</cn></apply><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">…</ci><apply id="S3.SS2.p5.1.m1.3.3.2.2.cmml" xref="S3.SS2.p5.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.1.m1.3.3.2.2.1.cmml" xref="S3.SS2.p5.1.m1.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p5.1.m1.3.3.2.2.2.cmml" xref="S3.SS2.p5.1.m1.3.3.2.2.2">𝑥</ci><ci id="S3.SS2.p5.1.m1.3.3.2.2.3.cmml" xref="S3.SS2.p5.1.m1.3.3.2.2.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.3c">x_{0},...,x_{t}</annotation></semantics></math>, is defined as</p>
<table id="S3.Ex8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex8.m1.4" class="ltx_Math" alttext="PP_{\theta}(x_{0},...,x_{t})=\sum_{i=1}^{t}(-\log Pr(x_{i}|x_{0},...,x_{i-1};\theta))," display="block"><semantics id="S3.Ex8.m1.4a"><mrow id="S3.Ex8.m1.4.4.1" xref="S3.Ex8.m1.4.4.1.1.cmml"><mrow id="S3.Ex8.m1.4.4.1.1" xref="S3.Ex8.m1.4.4.1.1.cmml"><mrow id="S3.Ex8.m1.4.4.1.1.2" xref="S3.Ex8.m1.4.4.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.4" xref="S3.Ex8.m1.4.4.1.1.2.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex8.m1.4.4.1.1.2.3" xref="S3.Ex8.m1.4.4.1.1.2.3.cmml">​</mo><msub id="S3.Ex8.m1.4.4.1.1.2.5" xref="S3.Ex8.m1.4.4.1.1.2.5.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.5.2" xref="S3.Ex8.m1.4.4.1.1.2.5.2.cmml">P</mi><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.5.3" xref="S3.Ex8.m1.4.4.1.1.2.5.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.Ex8.m1.4.4.1.1.2.3a" xref="S3.Ex8.m1.4.4.1.1.2.3.cmml">​</mo><mrow id="S3.Ex8.m1.4.4.1.1.2.2.2" xref="S3.Ex8.m1.4.4.1.1.2.2.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.2.2.2.3" xref="S3.Ex8.m1.4.4.1.1.2.2.3.cmml">(</mo><msub id="S3.Ex8.m1.4.4.1.1.1.1.1.1" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.1.1.1.1.2" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.1.1.1.1.3" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.2.2.4" xref="S3.Ex8.m1.4.4.1.1.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex8.m1.1.1" xref="S3.Ex8.m1.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.2.2.5" xref="S3.Ex8.m1.4.4.1.1.2.2.3.cmml">,</mo><msub id="S3.Ex8.m1.4.4.1.1.2.2.2.2" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.2.2.2.2" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.2.2.2.2.3" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.2.2.2.6" xref="S3.Ex8.m1.4.4.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo mathbackground="#FFFFFF" rspace="0.111em" id="S3.Ex8.m1.4.4.1.1.4" xref="S3.Ex8.m1.4.4.1.1.4.cmml">=</mo><mrow id="S3.Ex8.m1.4.4.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.cmml"><munderover id="S3.Ex8.m1.4.4.1.1.3.2" xref="S3.Ex8.m1.4.4.1.1.3.2.cmml"><mo mathbackground="#FFFFFF" movablelimits="false" rspace="0em" id="S3.Ex8.m1.4.4.1.1.3.2.2.2" xref="S3.Ex8.m1.4.4.1.1.3.2.2.2.cmml">∑</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.2.2.3" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.2.2.3.2" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.2.2.3.1" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.2.2.3.3" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.2.3" xref="S3.Ex8.m1.4.4.1.1.3.2.3.cmml">t</mi></munderover><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.3.1.1.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml">(</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="S3.Ex8.m1.4.4.1.1.3.1.1.1a" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml">−</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.cmml"><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3a" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.cmml">⁡</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.3.cmml">r</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.2.cmml">​</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex8.m1.2.2" xref="S3.Ex8.m1.2.2.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.4" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mrow id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.2.cmml">i</mi><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.5" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.3.cmml">;</mo><mi mathbackground="#FFFFFF" id="S3.Ex8.m1.3.3" xref="S3.Ex8.m1.3.3.cmml">θ</mi></mrow></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex8.m1.4.4.1.1.3.1.1.3" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#FFFFFF" id="S3.Ex8.m1.4.4.1.2" xref="S3.Ex8.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex8.m1.4b"><apply id="S3.Ex8.m1.4.4.1.1.cmml" xref="S3.Ex8.m1.4.4.1"><eq id="S3.Ex8.m1.4.4.1.1.4.cmml" xref="S3.Ex8.m1.4.4.1.1.4"></eq><apply id="S3.Ex8.m1.4.4.1.1.2.cmml" xref="S3.Ex8.m1.4.4.1.1.2"><times id="S3.Ex8.m1.4.4.1.1.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.2.3"></times><ci id="S3.Ex8.m1.4.4.1.1.2.4.cmml" xref="S3.Ex8.m1.4.4.1.1.2.4">𝑃</ci><apply id="S3.Ex8.m1.4.4.1.1.2.5.cmml" xref="S3.Ex8.m1.4.4.1.1.2.5"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.2.5.1.cmml" xref="S3.Ex8.m1.4.4.1.1.2.5">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.2.5.2.cmml" xref="S3.Ex8.m1.4.4.1.1.2.5.2">𝑃</ci><ci id="S3.Ex8.m1.4.4.1.1.2.5.3.cmml" xref="S3.Ex8.m1.4.4.1.1.2.5.3">𝜃</ci></apply><vector id="S3.Ex8.m1.4.4.1.1.2.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.2.2.2"><apply id="S3.Ex8.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex8.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.Ex8.m1.4.4.1.1.1.1.1.1.3">0</cn></apply><ci id="S3.Ex8.m1.1.1.cmml" xref="S3.Ex8.m1.1.1">…</ci><apply id="S3.Ex8.m1.4.4.1.1.2.2.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.2.2.2.2.1.cmml" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.2.2.2.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2.2">𝑥</ci><ci id="S3.Ex8.m1.4.4.1.1.2.2.2.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.2.2.2.2.3">𝑡</ci></apply></vector></apply><apply id="S3.Ex8.m1.4.4.1.1.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3"><apply id="S3.Ex8.m1.4.4.1.1.3.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.3.2.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2">superscript</csymbol><apply id="S3.Ex8.m1.4.4.1.1.3.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.3.2.2.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2">subscript</csymbol><sum id="S3.Ex8.m1.4.4.1.1.3.2.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.2.2"></sum><apply id="S3.Ex8.m1.4.4.1.1.3.2.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3"><eq id="S3.Ex8.m1.4.4.1.1.3.2.2.3.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.1"></eq><ci id="S3.Ex8.m1.4.4.1.1.3.2.2.3.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.2">𝑖</ci><cn type="integer" id="S3.Ex8.m1.4.4.1.1.3.2.2.3.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S3.Ex8.m1.4.4.1.1.3.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.2.3">𝑡</ci></apply><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1"><minus id="S3.Ex8.m1.4.4.1.1.3.1.1.1.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1"></minus><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1"><times id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.2"></times><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3"><log id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.1"></log><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2"><times id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.1"></times><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.2">𝑃</ci><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.3.2.3">𝑟</ci></apply></apply><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.2">𝑥</ci><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2"><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.1.1.1.3">0</cn></apply><ci id="S3.Ex8.m1.2.2.cmml" xref="S3.Ex8.m1.2.2">…</ci><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.2">𝑥</ci><apply id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3"><minus id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.2">𝑖</ci><cn type="integer" id="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.Ex8.m1.4.4.1.1.3.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S3.Ex8.m1.3.3.cmml" xref="S3.Ex8.m1.3.3">𝜃</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex8.m1.4c">PP_{\theta}(x_{0},...,x_{t})=\sum_{i=1}^{t}(-\log Pr(x_{i}|x_{0},...,x_{i-1};\theta)),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS2.p5.4" class="ltx_p">and quantifies how ‘surprised’ the model is by the sequence. Those
sentences that report a high perplexity for <math id="S3.SS2.p5.2.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S3.SS2.p5.2.m1.1a"><msub id="S3.SS2.p5.2.m1.1.1" xref="S3.SS2.p5.2.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.2.m1.1.1.2" xref="S3.SS2.p5.2.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p5.2.m1.1.1.3" xref="S3.SS2.p5.2.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m1.1b"><apply id="S3.SS2.p5.2.m1.1.1.cmml" xref="S3.SS2.p5.2.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m1.1.1.1.cmml" xref="S3.SS2.p5.2.m1.1.1">subscript</csymbol><ci id="S3.SS2.p5.2.m1.1.1.2.cmml" xref="S3.SS2.p5.2.m1.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p5.2.m1.1.1.3.cmml" xref="S3.SS2.p5.2.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m1.1c">\theta_{0}</annotation></semantics></math> but a
comparatively lower one for <math id="S3.SS2.p5.3.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S3.SS2.p5.3.m2.1a"><msub id="S3.SS2.p5.3.m2.1.1" xref="S3.SS2.p5.3.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.3.m2.1.1.2" xref="S3.SS2.p5.3.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p5.3.m2.1.1.3" xref="S3.SS2.p5.3.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m2.1b"><apply id="S3.SS2.p5.3.m2.1.1.cmml" xref="S3.SS2.p5.3.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.3.m2.1.1.1.cmml" xref="S3.SS2.p5.3.m2.1.1">subscript</csymbol><ci id="S3.SS2.p5.3.m2.1.1.2.cmml" xref="S3.SS2.p5.3.m2.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p5.3.m2.1.1.3.cmml" xref="S3.SS2.p5.3.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m2.1c">\theta_{1}</annotation></semantics></math> reveal themselves as having
been part of the dataset used to train <math id="S3.SS2.p5.4.m3.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S3.SS2.p5.4.m3.1a"><msub id="S3.SS2.p5.4.m3.1.1" xref="S3.SS2.p5.4.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.4.m3.1.1.2" xref="S3.SS2.p5.4.m3.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.SS2.p5.4.m3.1.1.3" xref="S3.SS2.p5.4.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m3.1b"><apply id="S3.SS2.p5.4.m3.1.1.cmml" xref="S3.SS2.p5.4.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m3.1.1.1.cmml" xref="S3.SS2.p5.4.m3.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m3.1.1.2.cmml" xref="S3.SS2.p5.4.m3.1.1.2">𝜃</ci><cn type="integer" id="S3.SS2.p5.4.m3.1.1.3.cmml" xref="S3.SS2.p5.4.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m3.1c">\theta_{1}</annotation></semantics></math>. Each generated
sentence is scored by their percentage change in perplexity:</p>
<table id="S3.Ex9" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.Ex9.m1.11" class="ltx_Math" alttext="Score(x_{0},...,x_{t})=\frac{PP_{\theta_{0}}(x_{0},...,x_{t})-PP_{\theta_{1}}(x_{0},...,x_{t})}{PP_{\theta_{0}}(x_{0},...,x_{t})}." display="block"><semantics id="S3.Ex9.m1.11a"><mrow id="S3.Ex9.m1.11.11.1" xref="S3.Ex9.m1.11.11.1.1.cmml"><mrow id="S3.Ex9.m1.11.11.1.1" xref="S3.Ex9.m1.11.11.1.1.cmml"><mrow id="S3.Ex9.m1.11.11.1.1.2" xref="S3.Ex9.m1.11.11.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.4" xref="S3.Ex9.m1.11.11.1.1.2.4.cmml">S</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.11.11.1.1.2.3" xref="S3.Ex9.m1.11.11.1.1.2.3.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.5" xref="S3.Ex9.m1.11.11.1.1.2.5.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.11.11.1.1.2.3a" xref="S3.Ex9.m1.11.11.1.1.2.3.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.6" xref="S3.Ex9.m1.11.11.1.1.2.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.11.11.1.1.2.3b" xref="S3.Ex9.m1.11.11.1.1.2.3.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.7" xref="S3.Ex9.m1.11.11.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.11.11.1.1.2.3c" xref="S3.Ex9.m1.11.11.1.1.2.3.cmml">​</mo><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.8" xref="S3.Ex9.m1.11.11.1.1.2.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.11.11.1.1.2.3d" xref="S3.Ex9.m1.11.11.1.1.2.3.cmml">​</mo><mrow id="S3.Ex9.m1.11.11.1.1.2.2.2" xref="S3.Ex9.m1.11.11.1.1.2.2.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.11.11.1.1.2.2.2.3" xref="S3.Ex9.m1.11.11.1.1.2.2.3.cmml">(</mo><msub id="S3.Ex9.m1.11.11.1.1.1.1.1.1" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.1.1.1.1.2" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.1.1.1.1.3" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.2.2.4" xref="S3.Ex9.m1.11.11.1.1.2.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex9.m1.10.10" xref="S3.Ex9.m1.10.10.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.2.2.5" xref="S3.Ex9.m1.11.11.1.1.2.2.3.cmml">,</mo><msub id="S3.Ex9.m1.11.11.1.1.2.2.2.2" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.2.2.2.2" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.2.2.2.2.3" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.11.11.1.1.2.2.2.6" xref="S3.Ex9.m1.11.11.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.1.3" xref="S3.Ex9.m1.11.11.1.1.3.cmml">=</mo><mfrac id="S3.Ex9.m1.9.9" xref="S3.Ex9.m1.9.9.cmml"><mrow id="S3.Ex9.m1.6.6.6" xref="S3.Ex9.m1.6.6.6.cmml"><mrow id="S3.Ex9.m1.4.4.4.4" xref="S3.Ex9.m1.4.4.4.4.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.4" xref="S3.Ex9.m1.4.4.4.4.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.4.4.4.4.3" xref="S3.Ex9.m1.4.4.4.4.3.cmml">​</mo><msub id="S3.Ex9.m1.4.4.4.4.5" xref="S3.Ex9.m1.4.4.4.4.5.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.5.2" xref="S3.Ex9.m1.4.4.4.4.5.2.cmml">P</mi><msub id="S3.Ex9.m1.4.4.4.4.5.3" xref="S3.Ex9.m1.4.4.4.4.5.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.5.3.2" xref="S3.Ex9.m1.4.4.4.4.5.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.5.3.3" xref="S3.Ex9.m1.4.4.4.4.5.3.3.cmml">0</mn></msub></msub><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.4.4.4.4.3a" xref="S3.Ex9.m1.4.4.4.4.3.cmml">​</mo><mrow id="S3.Ex9.m1.4.4.4.4.2.2" xref="S3.Ex9.m1.4.4.4.4.2.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.4.4.4.4.2.2.3" xref="S3.Ex9.m1.4.4.4.4.2.3.cmml">(</mo><msub id="S3.Ex9.m1.3.3.3.3.1.1.1" xref="S3.Ex9.m1.3.3.3.3.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.3.3.3.3.1.1.1.2" xref="S3.Ex9.m1.3.3.3.3.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.3.3.3.3.1.1.1.3" xref="S3.Ex9.m1.3.3.3.3.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.2.2.4" xref="S3.Ex9.m1.4.4.4.4.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex9.m1.1.1.1.1" xref="S3.Ex9.m1.1.1.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.2.2.5" xref="S3.Ex9.m1.4.4.4.4.2.3.cmml">,</mo><msub id="S3.Ex9.m1.4.4.4.4.2.2.2" xref="S3.Ex9.m1.4.4.4.4.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.2.2.2.2" xref="S3.Ex9.m1.4.4.4.4.2.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.4.4.4.4.2.2.2.3" xref="S3.Ex9.m1.4.4.4.4.2.2.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.4.4.4.4.2.2.6" xref="S3.Ex9.m1.4.4.4.4.2.3.cmml">)</mo></mrow></mrow><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.7" xref="S3.Ex9.m1.6.6.6.7.cmml">−</mo><mrow id="S3.Ex9.m1.6.6.6.6" xref="S3.Ex9.m1.6.6.6.6.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.4" xref="S3.Ex9.m1.6.6.6.6.4.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.6.6.6.6.3" xref="S3.Ex9.m1.6.6.6.6.3.cmml">​</mo><msub id="S3.Ex9.m1.6.6.6.6.5" xref="S3.Ex9.m1.6.6.6.6.5.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.5.2" xref="S3.Ex9.m1.6.6.6.6.5.2.cmml">P</mi><msub id="S3.Ex9.m1.6.6.6.6.5.3" xref="S3.Ex9.m1.6.6.6.6.5.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.5.3.2" xref="S3.Ex9.m1.6.6.6.6.5.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.5.3.3" xref="S3.Ex9.m1.6.6.6.6.5.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.6.6.6.6.3a" xref="S3.Ex9.m1.6.6.6.6.3.cmml">​</mo><mrow id="S3.Ex9.m1.6.6.6.6.2.2" xref="S3.Ex9.m1.6.6.6.6.2.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.6.6.6.6.2.2.3" xref="S3.Ex9.m1.6.6.6.6.2.3.cmml">(</mo><msub id="S3.Ex9.m1.5.5.5.5.1.1.1" xref="S3.Ex9.m1.5.5.5.5.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.5.5.5.5.1.1.1.2" xref="S3.Ex9.m1.5.5.5.5.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.5.5.5.5.1.1.1.3" xref="S3.Ex9.m1.5.5.5.5.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.2.2.4" xref="S3.Ex9.m1.6.6.6.6.2.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex9.m1.2.2.2.2" xref="S3.Ex9.m1.2.2.2.2.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.2.2.5" xref="S3.Ex9.m1.6.6.6.6.2.3.cmml">,</mo><msub id="S3.Ex9.m1.6.6.6.6.2.2.2" xref="S3.Ex9.m1.6.6.6.6.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.2.2.2.2" xref="S3.Ex9.m1.6.6.6.6.2.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.6.6.6.6.2.2.2.3" xref="S3.Ex9.m1.6.6.6.6.2.2.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.6.6.6.6.2.2.6" xref="S3.Ex9.m1.6.6.6.6.2.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.Ex9.m1.9.9.9" xref="S3.Ex9.m1.9.9.9.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.5" xref="S3.Ex9.m1.9.9.9.5.cmml">P</mi><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.9.9.9.4" xref="S3.Ex9.m1.9.9.9.4.cmml">​</mo><msub id="S3.Ex9.m1.9.9.9.6" xref="S3.Ex9.m1.9.9.9.6.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.6.2" xref="S3.Ex9.m1.9.9.9.6.2.cmml">P</mi><msub id="S3.Ex9.m1.9.9.9.6.3" xref="S3.Ex9.m1.9.9.9.6.3.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.6.3.2" xref="S3.Ex9.m1.9.9.9.6.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.6.3.3" xref="S3.Ex9.m1.9.9.9.6.3.3.cmml">0</mn></msub></msub><mo lspace="0em" rspace="0em" id="S3.Ex9.m1.9.9.9.4a" xref="S3.Ex9.m1.9.9.9.4.cmml">​</mo><mrow id="S3.Ex9.m1.9.9.9.3.2" xref="S3.Ex9.m1.9.9.9.3.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.9.9.9.3.2.3" xref="S3.Ex9.m1.9.9.9.3.3.cmml">(</mo><msub id="S3.Ex9.m1.8.8.8.2.1.1" xref="S3.Ex9.m1.8.8.8.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.8.8.8.2.1.1.2" xref="S3.Ex9.m1.8.8.8.2.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S3.Ex9.m1.8.8.8.2.1.1.3" xref="S3.Ex9.m1.8.8.8.2.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.3.2.4" xref="S3.Ex9.m1.9.9.9.3.3.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S3.Ex9.m1.7.7.7.1" xref="S3.Ex9.m1.7.7.7.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.3.2.5" xref="S3.Ex9.m1.9.9.9.3.3.cmml">,</mo><msub id="S3.Ex9.m1.9.9.9.3.2.2" xref="S3.Ex9.m1.9.9.9.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.3.2.2.2" xref="S3.Ex9.m1.9.9.9.3.2.2.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S3.Ex9.m1.9.9.9.3.2.2.3" xref="S3.Ex9.m1.9.9.9.3.2.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S3.Ex9.m1.9.9.9.3.2.6" xref="S3.Ex9.m1.9.9.9.3.3.cmml">)</mo></mrow></mrow></mfrac></mrow><mo lspace="0em" mathbackground="#FFFFFF" id="S3.Ex9.m1.11.11.1.2" xref="S3.Ex9.m1.11.11.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex9.m1.11b"><apply id="S3.Ex9.m1.11.11.1.1.cmml" xref="S3.Ex9.m1.11.11.1"><eq id="S3.Ex9.m1.11.11.1.1.3.cmml" xref="S3.Ex9.m1.11.11.1.1.3"></eq><apply id="S3.Ex9.m1.11.11.1.1.2.cmml" xref="S3.Ex9.m1.11.11.1.1.2"><times id="S3.Ex9.m1.11.11.1.1.2.3.cmml" xref="S3.Ex9.m1.11.11.1.1.2.3"></times><ci id="S3.Ex9.m1.11.11.1.1.2.4.cmml" xref="S3.Ex9.m1.11.11.1.1.2.4">𝑆</ci><ci id="S3.Ex9.m1.11.11.1.1.2.5.cmml" xref="S3.Ex9.m1.11.11.1.1.2.5">𝑐</ci><ci id="S3.Ex9.m1.11.11.1.1.2.6.cmml" xref="S3.Ex9.m1.11.11.1.1.2.6">𝑜</ci><ci id="S3.Ex9.m1.11.11.1.1.2.7.cmml" xref="S3.Ex9.m1.11.11.1.1.2.7">𝑟</ci><ci id="S3.Ex9.m1.11.11.1.1.2.8.cmml" xref="S3.Ex9.m1.11.11.1.1.2.8">𝑒</ci><vector id="S3.Ex9.m1.11.11.1.1.2.2.3.cmml" xref="S3.Ex9.m1.11.11.1.1.2.2.2"><apply id="S3.Ex9.m1.11.11.1.1.1.1.1.1.cmml" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex9.m1.11.11.1.1.1.1.1.1.1.cmml" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex9.m1.11.11.1.1.1.1.1.1.2.cmml" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex9.m1.11.11.1.1.1.1.1.1.3.cmml" xref="S3.Ex9.m1.11.11.1.1.1.1.1.1.3">0</cn></apply><ci id="S3.Ex9.m1.10.10.cmml" xref="S3.Ex9.m1.10.10">…</ci><apply id="S3.Ex9.m1.11.11.1.1.2.2.2.2.cmml" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex9.m1.11.11.1.1.2.2.2.2.1.cmml" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex9.m1.11.11.1.1.2.2.2.2.2.cmml" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2.2">𝑥</ci><ci id="S3.Ex9.m1.11.11.1.1.2.2.2.2.3.cmml" xref="S3.Ex9.m1.11.11.1.1.2.2.2.2.3">𝑡</ci></apply></vector></apply><apply id="S3.Ex9.m1.9.9.cmml" xref="S3.Ex9.m1.9.9"><divide id="S3.Ex9.m1.9.9.10.cmml" xref="S3.Ex9.m1.9.9"></divide><apply id="S3.Ex9.m1.6.6.6.cmml" xref="S3.Ex9.m1.6.6.6"><minus id="S3.Ex9.m1.6.6.6.7.cmml" xref="S3.Ex9.m1.6.6.6.7"></minus><apply id="S3.Ex9.m1.4.4.4.4.cmml" xref="S3.Ex9.m1.4.4.4.4"><times id="S3.Ex9.m1.4.4.4.4.3.cmml" xref="S3.Ex9.m1.4.4.4.4.3"></times><ci id="S3.Ex9.m1.4.4.4.4.4.cmml" xref="S3.Ex9.m1.4.4.4.4.4">𝑃</ci><apply id="S3.Ex9.m1.4.4.4.4.5.cmml" xref="S3.Ex9.m1.4.4.4.4.5"><csymbol cd="ambiguous" id="S3.Ex9.m1.4.4.4.4.5.1.cmml" xref="S3.Ex9.m1.4.4.4.4.5">subscript</csymbol><ci id="S3.Ex9.m1.4.4.4.4.5.2.cmml" xref="S3.Ex9.m1.4.4.4.4.5.2">𝑃</ci><apply id="S3.Ex9.m1.4.4.4.4.5.3.cmml" xref="S3.Ex9.m1.4.4.4.4.5.3"><csymbol cd="ambiguous" id="S3.Ex9.m1.4.4.4.4.5.3.1.cmml" xref="S3.Ex9.m1.4.4.4.4.5.3">subscript</csymbol><ci id="S3.Ex9.m1.4.4.4.4.5.3.2.cmml" xref="S3.Ex9.m1.4.4.4.4.5.3.2">𝜃</ci><cn type="integer" id="S3.Ex9.m1.4.4.4.4.5.3.3.cmml" xref="S3.Ex9.m1.4.4.4.4.5.3.3">0</cn></apply></apply><vector id="S3.Ex9.m1.4.4.4.4.2.3.cmml" xref="S3.Ex9.m1.4.4.4.4.2.2"><apply id="S3.Ex9.m1.3.3.3.3.1.1.1.cmml" xref="S3.Ex9.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.Ex9.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.Ex9.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="S3.Ex9.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.Ex9.m1.3.3.3.3.1.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex9.m1.3.3.3.3.1.1.1.3.cmml" xref="S3.Ex9.m1.3.3.3.3.1.1.1.3">0</cn></apply><ci id="S3.Ex9.m1.1.1.1.1.cmml" xref="S3.Ex9.m1.1.1.1.1">…</ci><apply id="S3.Ex9.m1.4.4.4.4.2.2.2.cmml" xref="S3.Ex9.m1.4.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.Ex9.m1.4.4.4.4.2.2.2.1.cmml" xref="S3.Ex9.m1.4.4.4.4.2.2.2">subscript</csymbol><ci id="S3.Ex9.m1.4.4.4.4.2.2.2.2.cmml" xref="S3.Ex9.m1.4.4.4.4.2.2.2.2">𝑥</ci><ci id="S3.Ex9.m1.4.4.4.4.2.2.2.3.cmml" xref="S3.Ex9.m1.4.4.4.4.2.2.2.3">𝑡</ci></apply></vector></apply><apply id="S3.Ex9.m1.6.6.6.6.cmml" xref="S3.Ex9.m1.6.6.6.6"><times id="S3.Ex9.m1.6.6.6.6.3.cmml" xref="S3.Ex9.m1.6.6.6.6.3"></times><ci id="S3.Ex9.m1.6.6.6.6.4.cmml" xref="S3.Ex9.m1.6.6.6.6.4">𝑃</ci><apply id="S3.Ex9.m1.6.6.6.6.5.cmml" xref="S3.Ex9.m1.6.6.6.6.5"><csymbol cd="ambiguous" id="S3.Ex9.m1.6.6.6.6.5.1.cmml" xref="S3.Ex9.m1.6.6.6.6.5">subscript</csymbol><ci id="S3.Ex9.m1.6.6.6.6.5.2.cmml" xref="S3.Ex9.m1.6.6.6.6.5.2">𝑃</ci><apply id="S3.Ex9.m1.6.6.6.6.5.3.cmml" xref="S3.Ex9.m1.6.6.6.6.5.3"><csymbol cd="ambiguous" id="S3.Ex9.m1.6.6.6.6.5.3.1.cmml" xref="S3.Ex9.m1.6.6.6.6.5.3">subscript</csymbol><ci id="S3.Ex9.m1.6.6.6.6.5.3.2.cmml" xref="S3.Ex9.m1.6.6.6.6.5.3.2">𝜃</ci><cn type="integer" id="S3.Ex9.m1.6.6.6.6.5.3.3.cmml" xref="S3.Ex9.m1.6.6.6.6.5.3.3">1</cn></apply></apply><vector id="S3.Ex9.m1.6.6.6.6.2.3.cmml" xref="S3.Ex9.m1.6.6.6.6.2.2"><apply id="S3.Ex9.m1.5.5.5.5.1.1.1.cmml" xref="S3.Ex9.m1.5.5.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.Ex9.m1.5.5.5.5.1.1.1.1.cmml" xref="S3.Ex9.m1.5.5.5.5.1.1.1">subscript</csymbol><ci id="S3.Ex9.m1.5.5.5.5.1.1.1.2.cmml" xref="S3.Ex9.m1.5.5.5.5.1.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex9.m1.5.5.5.5.1.1.1.3.cmml" xref="S3.Ex9.m1.5.5.5.5.1.1.1.3">0</cn></apply><ci id="S3.Ex9.m1.2.2.2.2.cmml" xref="S3.Ex9.m1.2.2.2.2">…</ci><apply id="S3.Ex9.m1.6.6.6.6.2.2.2.cmml" xref="S3.Ex9.m1.6.6.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.Ex9.m1.6.6.6.6.2.2.2.1.cmml" xref="S3.Ex9.m1.6.6.6.6.2.2.2">subscript</csymbol><ci id="S3.Ex9.m1.6.6.6.6.2.2.2.2.cmml" xref="S3.Ex9.m1.6.6.6.6.2.2.2.2">𝑥</ci><ci id="S3.Ex9.m1.6.6.6.6.2.2.2.3.cmml" xref="S3.Ex9.m1.6.6.6.6.2.2.2.3">𝑡</ci></apply></vector></apply></apply><apply id="S3.Ex9.m1.9.9.9.cmml" xref="S3.Ex9.m1.9.9.9"><times id="S3.Ex9.m1.9.9.9.4.cmml" xref="S3.Ex9.m1.9.9.9.4"></times><ci id="S3.Ex9.m1.9.9.9.5.cmml" xref="S3.Ex9.m1.9.9.9.5">𝑃</ci><apply id="S3.Ex9.m1.9.9.9.6.cmml" xref="S3.Ex9.m1.9.9.9.6"><csymbol cd="ambiguous" id="S3.Ex9.m1.9.9.9.6.1.cmml" xref="S3.Ex9.m1.9.9.9.6">subscript</csymbol><ci id="S3.Ex9.m1.9.9.9.6.2.cmml" xref="S3.Ex9.m1.9.9.9.6.2">𝑃</ci><apply id="S3.Ex9.m1.9.9.9.6.3.cmml" xref="S3.Ex9.m1.9.9.9.6.3"><csymbol cd="ambiguous" id="S3.Ex9.m1.9.9.9.6.3.1.cmml" xref="S3.Ex9.m1.9.9.9.6.3">subscript</csymbol><ci id="S3.Ex9.m1.9.9.9.6.3.2.cmml" xref="S3.Ex9.m1.9.9.9.6.3.2">𝜃</ci><cn type="integer" id="S3.Ex9.m1.9.9.9.6.3.3.cmml" xref="S3.Ex9.m1.9.9.9.6.3.3">0</cn></apply></apply><vector id="S3.Ex9.m1.9.9.9.3.3.cmml" xref="S3.Ex9.m1.9.9.9.3.2"><apply id="S3.Ex9.m1.8.8.8.2.1.1.cmml" xref="S3.Ex9.m1.8.8.8.2.1.1"><csymbol cd="ambiguous" id="S3.Ex9.m1.8.8.8.2.1.1.1.cmml" xref="S3.Ex9.m1.8.8.8.2.1.1">subscript</csymbol><ci id="S3.Ex9.m1.8.8.8.2.1.1.2.cmml" xref="S3.Ex9.m1.8.8.8.2.1.1.2">𝑥</ci><cn type="integer" id="S3.Ex9.m1.8.8.8.2.1.1.3.cmml" xref="S3.Ex9.m1.8.8.8.2.1.1.3">0</cn></apply><ci id="S3.Ex9.m1.7.7.7.1.cmml" xref="S3.Ex9.m1.7.7.7.1">…</ci><apply id="S3.Ex9.m1.9.9.9.3.2.2.cmml" xref="S3.Ex9.m1.9.9.9.3.2.2"><csymbol cd="ambiguous" id="S3.Ex9.m1.9.9.9.3.2.2.1.cmml" xref="S3.Ex9.m1.9.9.9.3.2.2">subscript</csymbol><ci id="S3.Ex9.m1.9.9.9.3.2.2.2.cmml" xref="S3.Ex9.m1.9.9.9.3.2.2.2">𝑥</ci><ci id="S3.Ex9.m1.9.9.9.3.2.2.3.cmml" xref="S3.Ex9.m1.9.9.9.3.2.2.3">𝑡</ci></apply></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex9.m1.11c">Score(x_{0},...,x_{t})=\frac{PP_{\theta_{0}}(x_{0},...,x_{t})-PP_{\theta_{1}}(x_{0},...,x_{t})}{PP_{\theta_{0}}(x_{0},...,x_{t})}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S3.SS2.p5.5" class="ltx_p">By selecting the top-<math id="S3.SS2.p5.5.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p5.5.m1.1a"><mi mathbackground="#FFFFFF" id="S3.SS2.p5.5.m1.1.1" xref="S3.SS2.p5.5.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m1.1b"><ci id="S3.SS2.p5.5.m1.1.1.cmml" xref="S3.SS2.p5.5.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m1.1c">n</annotation></semantics></math> ranked sentences, we select those most likely
to have been present in the training dataset.</p>
</div>
<figure id="S3.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_epochs_varying_nk_bf_nonoise_font12.png" id="S3.F2.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_epochs_varying_nk_b32_nonoise_font12.png" id="S3.F2.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.8.4.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.6.3" class="ltx_text" style="font-size:90%;">Word recovery performance over time with full batch
and mini-batch training. The upper bound on the F1 score for the different
datasets is related to how many words in the training set are also
in the model dictionary. Figure <a href="#S3.F2.sf1" title="In Figure 2 ‣ 3.2 Reconstructing Sentences ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a> shows the F1
score over time with <math id="S3.F2.4.1.m1.1" class="ltx_Math" alttext="B=n_{k}" display="inline"><semantics id="S3.F2.4.1.m1.1b"><mrow id="S3.F2.4.1.m1.1.1" xref="S3.F2.4.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.F2.4.1.m1.1.1.2" xref="S3.F2.4.1.m1.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S3.F2.4.1.m1.1.1.1" xref="S3.F2.4.1.m1.1.1.1.cmml">=</mo><msub id="S3.F2.4.1.m1.1.1.3" xref="S3.F2.4.1.m1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S3.F2.4.1.m1.1.1.3.2" xref="S3.F2.4.1.m1.1.1.3.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S3.F2.4.1.m1.1.1.3.3" xref="S3.F2.4.1.m1.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.4.1.m1.1c"><apply id="S3.F2.4.1.m1.1.1.cmml" xref="S3.F2.4.1.m1.1.1"><eq id="S3.F2.4.1.m1.1.1.1.cmml" xref="S3.F2.4.1.m1.1.1.1"></eq><ci id="S3.F2.4.1.m1.1.1.2.cmml" xref="S3.F2.4.1.m1.1.1.2">𝐵</ci><apply id="S3.F2.4.1.m1.1.1.3.cmml" xref="S3.F2.4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.F2.4.1.m1.1.1.3.1.cmml" xref="S3.F2.4.1.m1.1.1.3">subscript</csymbol><ci id="S3.F2.4.1.m1.1.1.3.2.cmml" xref="S3.F2.4.1.m1.1.1.3.2">𝑛</ci><ci id="S3.F2.4.1.m1.1.1.3.3.cmml" xref="S3.F2.4.1.m1.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.4.1.m1.1d">B=n_{k}</annotation></semantics></math> full batch training. At epoch 1
(FedSGD), the F1 is high and stays constant as you train for
longer (FedAveraging). Using a mini-batch <math id="S3.F2.5.2.m2.1" class="ltx_Math" alttext="B=32" display="inline"><semantics id="S3.F2.5.2.m2.1b"><mrow id="S3.F2.5.2.m2.1.1" xref="S3.F2.5.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S3.F2.5.2.m2.1.1.2" xref="S3.F2.5.2.m2.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S3.F2.5.2.m2.1.1.1" xref="S3.F2.5.2.m2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.F2.5.2.m2.1.1.3" xref="S3.F2.5.2.m2.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.5.2.m2.1c"><apply id="S3.F2.5.2.m2.1.1.cmml" xref="S3.F2.5.2.m2.1.1"><eq id="S3.F2.5.2.m2.1.1.1.cmml" xref="S3.F2.5.2.m2.1.1.1"></eq><ci id="S3.F2.5.2.m2.1.1.2.cmml" xref="S3.F2.5.2.m2.1.1.2">𝐵</ci><cn type="integer" id="S3.F2.5.2.m2.1.1.3.cmml" xref="S3.F2.5.2.m2.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.5.2.m2.1d">B=32</annotation></semantics></math> (Figure
<a href="#S3.F2.sf2" title="In Figure 2 ‣ 3.2 Reconstructing Sentences ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>) has no effect on the attack (in the case where
<math id="S3.F2.6.3.m3.2" class="ltx_Math" alttext="n_{k}=16,B=16" display="inline"><semantics id="S3.F2.6.3.m3.2b"><mrow id="S3.F2.6.3.m3.2.2.2" xref="S3.F2.6.3.m3.2.2.3.cmml"><mrow id="S3.F2.6.3.m3.1.1.1.1" xref="S3.F2.6.3.m3.1.1.1.1.cmml"><msub id="S3.F2.6.3.m3.1.1.1.1.2" xref="S3.F2.6.3.m3.1.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S3.F2.6.3.m3.1.1.1.1.2.2" xref="S3.F2.6.3.m3.1.1.1.1.2.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S3.F2.6.3.m3.1.1.1.1.2.3" xref="S3.F2.6.3.m3.1.1.1.1.2.3.cmml">k</mi></msub><mo mathbackground="#FFFFFF" id="S3.F2.6.3.m3.1.1.1.1.1" xref="S3.F2.6.3.m3.1.1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.F2.6.3.m3.1.1.1.1.3" xref="S3.F2.6.3.m3.1.1.1.1.3.cmml">16</mn></mrow><mo mathbackground="#FFFFFF" id="S3.F2.6.3.m3.2.2.2.3" xref="S3.F2.6.3.m3.2.2.3a.cmml">,</mo><mrow id="S3.F2.6.3.m3.2.2.2.2" xref="S3.F2.6.3.m3.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S3.F2.6.3.m3.2.2.2.2.2" xref="S3.F2.6.3.m3.2.2.2.2.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S3.F2.6.3.m3.2.2.2.2.1" xref="S3.F2.6.3.m3.2.2.2.2.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S3.F2.6.3.m3.2.2.2.2.3" xref="S3.F2.6.3.m3.2.2.2.2.3.cmml">16</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.F2.6.3.m3.2c"><apply id="S3.F2.6.3.m3.2.2.3.cmml" xref="S3.F2.6.3.m3.2.2.2"><csymbol cd="ambiguous" id="S3.F2.6.3.m3.2.2.3a.cmml" xref="S3.F2.6.3.m3.2.2.2.3">formulae-sequence</csymbol><apply id="S3.F2.6.3.m3.1.1.1.1.cmml" xref="S3.F2.6.3.m3.1.1.1.1"><eq id="S3.F2.6.3.m3.1.1.1.1.1.cmml" xref="S3.F2.6.3.m3.1.1.1.1.1"></eq><apply id="S3.F2.6.3.m3.1.1.1.1.2.cmml" xref="S3.F2.6.3.m3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.F2.6.3.m3.1.1.1.1.2.1.cmml" xref="S3.F2.6.3.m3.1.1.1.1.2">subscript</csymbol><ci id="S3.F2.6.3.m3.1.1.1.1.2.2.cmml" xref="S3.F2.6.3.m3.1.1.1.1.2.2">𝑛</ci><ci id="S3.F2.6.3.m3.1.1.1.1.2.3.cmml" xref="S3.F2.6.3.m3.1.1.1.1.2.3">𝑘</ci></apply><cn type="integer" id="S3.F2.6.3.m3.1.1.1.1.3.cmml" xref="S3.F2.6.3.m3.1.1.1.1.3">16</cn></apply><apply id="S3.F2.6.3.m3.2.2.2.2.cmml" xref="S3.F2.6.3.m3.2.2.2.2"><eq id="S3.F2.6.3.m3.2.2.2.2.1.cmml" xref="S3.F2.6.3.m3.2.2.2.2.1"></eq><ci id="S3.F2.6.3.m3.2.2.2.2.2.cmml" xref="S3.F2.6.3.m3.2.2.2.2.2">𝐵</ci><cn type="integer" id="S3.F2.6.3.m3.2.2.2.2.3.cmml" xref="S3.F2.6.3.m3.2.2.2.2.3">16</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F2.6.3.m3.2d">n_{k}=16,B=16</annotation></semantics></math>).</span></figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Performance Of Attacks Against Vanilla Federated Learning</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.8" class="ltx_p">We make use of the LSTM RNN extracted from Gboard as the basis of our
experiments. The value of it’s extracted parameters are used as the
initial ’global’ model <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><msub id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">\theta_{0}</annotation></semantics></math>; the starting point of the updates
we generate. There are several variables that go into producing an
update: the number of sentences in the dataset, <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><msub id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑛</ci><ci id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">n_{k}</annotation></semantics></math>, the number of
epochs <math id="S4.SS1.p1.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS1.p1.3.m3.1a"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><ci id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">E</annotation></semantics></math>, the batch size <math id="S4.SS1.p1.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS1.p1.4.m4.1a"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><ci id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">B</annotation></semantics></math>, and the local learning rate
<math id="S4.SS1.p1.5.m5.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS1.p1.5.m5.1a"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><ci id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">\eta</annotation></semantics></math>. Note that when <math id="S4.SS1.p1.6.m6.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.SS1.p1.6.m6.1a"><mrow id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.6.m6.1.1.2" xref="S4.SS1.p1.6.m6.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S4.SS1.p1.6.m6.1.1.1" xref="S4.SS1.p1.6.m6.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S4.SS1.p1.6.m6.1.1.3" xref="S4.SS1.p1.6.m6.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.1b"><apply id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1"><eq id="S4.SS1.p1.6.m6.1.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1.1"></eq><ci id="S4.SS1.p1.6.m6.1.1.2.cmml" xref="S4.SS1.p1.6.m6.1.1.2">𝐸</ci><cn type="integer" id="S4.SS1.p1.6.m6.1.1.3.cmml" xref="S4.SS1.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.1c">E=1</annotation></semantics></math> and <math id="S4.SS1.p1.7.m7.1" class="ltx_Math" alttext="B=n_{k}" display="inline"><semantics id="S4.SS1.p1.7.m7.1a"><mrow id="S4.SS1.p1.7.m7.1.1" xref="S4.SS1.p1.7.m7.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.7.m7.1.1.2" xref="S4.SS1.p1.7.m7.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S4.SS1.p1.7.m7.1.1.1" xref="S4.SS1.p1.7.m7.1.1.1.cmml">=</mo><msub id="S4.SS1.p1.7.m7.1.1.3" xref="S4.SS1.p1.7.m7.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.7.m7.1.1.3.2" xref="S4.SS1.p1.7.m7.1.1.3.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S4.SS1.p1.7.m7.1.1.3.3" xref="S4.SS1.p1.7.m7.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.1b"><apply id="S4.SS1.p1.7.m7.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1"><eq id="S4.SS1.p1.7.m7.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1"></eq><ci id="S4.SS1.p1.7.m7.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.2">𝐵</ci><apply id="S4.SS1.p1.7.m7.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.3.1.cmml" xref="S4.SS1.p1.7.m7.1.1.3">subscript</csymbol><ci id="S4.SS1.p1.7.m7.1.1.3.2.cmml" xref="S4.SS1.p1.7.m7.1.1.3.2">𝑛</ci><ci id="S4.SS1.p1.7.m7.1.1.3.3.cmml" xref="S4.SS1.p1.7.m7.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.1c">B=n_{k}</annotation></semantics></math>, this corresponds to a
FedSGD update, and that any other configuration corresponds to a
FedAveraging update. Unless explicitly mentioned otherwise, we keep
the client learning rate <math id="S4.SS1.p1.8.m8.1" class="ltx_Math" alttext="\eta=0.001" display="inline"><semantics id="S4.SS1.p1.8.m8.1a"><mrow id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p1.8.m8.1.1.2" xref="S4.SS1.p1.8.m8.1.1.2.cmml">η</mi><mo mathbackground="#FFFFFF" id="S4.SS1.p1.8.m8.1.1.1" xref="S4.SS1.p1.8.m8.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S4.SS1.p1.8.m8.1.1.3" xref="S4.SS1.p1.8.m8.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><apply id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1"><eq id="S4.SS1.p1.8.m8.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1.1"></eq><ci id="S4.SS1.p1.8.m8.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1.2">𝜂</ci><cn type="float" id="S4.SS1.p1.8.m8.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">\eta=0.001</annotation></semantics></math> constant for all our
experiments. All sample datasets used consist of 4 word long
sentences, mirroring the average length of sentences that the Gboard
model was trained with <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.3" class="ltx_p">To evaluate the effectiveness of our attack, the sample datasets we
use are taken from a corpus of american english text messages
<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>, which includes short sentences similar to those
the Gboard LSTM extracted from the mobile application was trained
on. We perform our two attacks on datasets consisting of
<math id="S4.SS1.p2.1.m1.5" class="ltx_Math" alttext="n_{k}=16,32,64,128," display="inline"><semantics id="S4.SS1.p2.1.m1.5a"><mrow id="S4.SS1.p2.1.m1.5.5.1" xref="S4.SS1.p2.1.m1.5.5.1.1.cmml"><mrow id="S4.SS1.p2.1.m1.5.5.1.1" xref="S4.SS1.p2.1.m1.5.5.1.1.cmml"><msub id="S4.SS1.p2.1.m1.5.5.1.1.2" xref="S4.SS1.p2.1.m1.5.5.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.2.2" xref="S4.SS1.p2.1.m1.5.5.1.1.2.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.2.3" xref="S4.SS1.p2.1.m1.5.5.1.1.2.3.cmml">k</mi></msub><mo mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.1" xref="S4.SS1.p2.1.m1.5.5.1.1.1.cmml">=</mo><mrow id="S4.SS1.p2.1.m1.5.5.1.1.3.2" xref="S4.SS1.p2.1.m1.5.5.1.1.3.1.cmml"><mn mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">16</mn><mo mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.3.2.1" xref="S4.SS1.p2.1.m1.5.5.1.1.3.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.2.2" xref="S4.SS1.p2.1.m1.2.2.cmml">32</mn><mo mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.3.2.2" xref="S4.SS1.p2.1.m1.5.5.1.1.3.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.3.3" xref="S4.SS1.p2.1.m1.3.3.cmml">64</mn><mo mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.1.3.2.3" xref="S4.SS1.p2.1.m1.5.5.1.1.3.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.4.4" xref="S4.SS1.p2.1.m1.4.4.cmml">128</mn></mrow></mrow><mo mathbackground="#FFFFFF" id="S4.SS1.p2.1.m1.5.5.1.2" xref="S4.SS1.p2.1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.5b"><apply id="S4.SS1.p2.1.m1.5.5.1.1.cmml" xref="S4.SS1.p2.1.m1.5.5.1"><eq id="S4.SS1.p2.1.m1.5.5.1.1.1.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.1"></eq><apply id="S4.SS1.p2.1.m1.5.5.1.1.2.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.5.5.1.1.2.1.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.1.m1.5.5.1.1.2.2.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.2.2">𝑛</ci><ci id="S4.SS1.p2.1.m1.5.5.1.1.2.3.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.2.3">𝑘</ci></apply><list id="S4.SS1.p2.1.m1.5.5.1.1.3.1.cmml" xref="S4.SS1.p2.1.m1.5.5.1.1.3.2"><cn type="integer" id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">16</cn><cn type="integer" id="S4.SS1.p2.1.m1.2.2.cmml" xref="S4.SS1.p2.1.m1.2.2">32</cn><cn type="integer" id="S4.SS1.p2.1.m1.3.3.cmml" xref="S4.SS1.p2.1.m1.3.3">64</cn><cn type="integer" id="S4.SS1.p2.1.m1.4.4.cmml" xref="S4.SS1.p2.1.m1.4.4">128</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.5c">n_{k}=16,32,64,128,</annotation></semantics></math> and <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="256" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mn mathbackground="#FFFFFF" id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">256</mn><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><cn type="integer" id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">256</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">256</annotation></semantics></math> sentences. Converting a sentence
into a sequence of training samples and labels <math id="S4.SS1.p2.3.m3.2" class="ltx_Math" alttext="(\textbf{x},y)" display="inline"><semantics id="S4.SS1.p2.3.m3.2a"><mrow id="S4.SS1.p2.3.m3.2.3.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.1" xref="S4.SS1.p2.3.m3.2.3.1.cmml">(</mo><mtext class="ltx_mathvariant_bold" mathbackground="#FFFFFF" id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1a.cmml">x</mtext><mo mathbackground="#FFFFFF" id="S4.SS1.p2.3.m3.2.3.2.2" xref="S4.SS1.p2.3.m3.2.3.1.cmml">,</mo><mi mathbackground="#FFFFFF" id="S4.SS1.p2.3.m3.2.2" xref="S4.SS1.p2.3.m3.2.2.cmml">y</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS1.p2.3.m3.2.3.2.3" xref="S4.SS1.p2.3.m3.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.2b"><interval closure="open" id="S4.SS1.p2.3.m3.2.3.1.cmml" xref="S4.SS1.p2.3.m3.2.3.2"><ci id="S4.SS1.p2.3.m3.1.1a.cmml" xref="S4.SS1.p2.3.m3.1.1"><mtext class="ltx_mathvariant_bold" mathbackground="#FFFFFF" id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">x</mtext></ci><ci id="S4.SS1.p2.3.m3.2.2.cmml" xref="S4.SS1.p2.3.m3.2.2">𝑦</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.2c">(\textbf{x},y)</annotation></semantics></math> is done as follows:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.2" class="ltx_p">The start-of-sentence token <span id="S4.I1.i1.p1.2.1" class="ltx_text ltx_font_typewriter">&lt;S&gt;</span> is prepended to the
beginning of the sentence, and each word is then converted to it’s
corresponding word embedding. This gives a sequence
<math id="S4.I1.i1.p1.1.m1.4" class="ltx_Math" alttext="x_{0},x_{1},\dots,x_{T}" display="inline"><semantics id="S4.I1.i1.p1.1.m1.4a"><mrow id="S4.I1.i1.p1.1.m1.4.4.3" xref="S4.I1.i1.p1.1.m1.4.4.4.cmml"><msub id="S4.I1.i1.p1.1.m1.2.2.1.1" xref="S4.I1.i1.p1.1.m1.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.2.2.1.1.2" xref="S4.I1.i1.p1.1.m1.2.2.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.2.2.1.1.3" xref="S4.I1.i1.p1.1.m1.2.2.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.4.4.3.4" xref="S4.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.I1.i1.p1.1.m1.3.3.2.2" xref="S4.I1.i1.p1.1.m1.3.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.3.3.2.2.2" xref="S4.I1.i1.p1.1.m1.3.3.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.3.3.2.2.3" xref="S4.I1.i1.p1.1.m1.3.3.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.4.4.3.5" xref="S4.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.4.4.3.6" xref="S4.I1.i1.p1.1.m1.4.4.4.cmml">,</mo><msub id="S4.I1.i1.p1.1.m1.4.4.3.3" xref="S4.I1.i1.p1.1.m1.4.4.3.3.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.4.4.3.3.2" xref="S4.I1.i1.p1.1.m1.4.4.3.3.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S4.I1.i1.p1.1.m1.4.4.3.3.3" xref="S4.I1.i1.p1.1.m1.4.4.3.3.3.cmml">T</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.4b"><list id="S4.I1.i1.p1.1.m1.4.4.4.cmml" xref="S4.I1.i1.p1.1.m1.4.4.3"><apply id="S4.I1.i1.p1.1.m1.2.2.1.1.cmml" xref="S4.I1.i1.p1.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.2.2.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.2.2.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.2.2.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.2.2.1.1.2">𝑥</ci><cn type="integer" id="S4.I1.i1.p1.1.m1.2.2.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.2.2.1.1.3">0</cn></apply><apply id="S4.I1.i1.p1.1.m1.3.3.2.2.cmml" xref="S4.I1.i1.p1.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.3.3.2.2.1.cmml" xref="S4.I1.i1.p1.1.m1.3.3.2.2">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.3.3.2.2.2.cmml" xref="S4.I1.i1.p1.1.m1.3.3.2.2.2">𝑥</ci><cn type="integer" id="S4.I1.i1.p1.1.m1.3.3.2.2.3.cmml" xref="S4.I1.i1.p1.1.m1.3.3.2.2.3">1</cn></apply><ci id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1">…</ci><apply id="S4.I1.i1.p1.1.m1.4.4.3.3.cmml" xref="S4.I1.i1.p1.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.4.4.3.3.1.cmml" xref="S4.I1.i1.p1.1.m1.4.4.3.3">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.4.4.3.3.2.cmml" xref="S4.I1.i1.p1.1.m1.4.4.3.3.2">𝑥</ci><ci id="S4.I1.i1.p1.1.m1.4.4.3.3.3.cmml" xref="S4.I1.i1.p1.1.m1.4.4.3.3.3">𝑇</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.4c">x_{0},x_{1},\dots,x_{T}</annotation></semantics></math> of tokens where <math id="S4.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="x_{0}" display="inline"><semantics id="S4.I1.i1.p1.2.m2.1a"><msub id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i1.p1.2.m2.1.1.2" xref="S4.I1.i1.p1.2.m2.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.I1.i1.p1.2.m2.1.1.3" xref="S4.I1.i1.p1.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.1b"><apply id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.2.m2.1.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.2.m2.1.1.2.cmml" xref="S4.I1.i1.p1.2.m2.1.1.2">𝑥</ci><cn type="integer" id="S4.I1.i1.p1.2.m2.1.1.3.cmml" xref="S4.I1.i1.p1.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.1c">x_{0}</annotation></semantics></math> is the <span id="S4.I1.i1.p1.2.2" class="ltx_text ltx_font_typewriter">&lt;S&gt;</span> token.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.2" class="ltx_p">A sentence of length <math id="S4.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.I1.i2.p1.1.m1.1a"><mi mathbackground="#FFFFFF" id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><ci id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">T</annotation></semantics></math> becomes <math id="S4.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.I1.i2.p1.2.m2.1a"><mi mathbackground="#FFFFFF" id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><ci id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">T</annotation></semantics></math> training points</p>
</div>
<div id="S4.I1.i2.p2" class="ltx_para">
<table id="S4.Ex10" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex10.m1.5" class="ltx_Math" alttext="((x_{0},x_{1}),y_{2}),((x_{0},x_{1},x_{2}),y_{3}),\dots,((x_{0},x_{1},\dots,x_{T-1}),y_{T})" display="block"><semantics id="S4.Ex10.m1.5a"><mrow id="S4.Ex10.m1.5.5.3" xref="S4.Ex10.m1.5.5.4.cmml"><mrow id="S4.Ex10.m1.3.3.1.1.2" xref="S4.Ex10.m1.3.3.1.1.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.3.3.1.1.2.3" xref="S4.Ex10.m1.3.3.1.1.3.cmml">(</mo><mrow id="S4.Ex10.m1.3.3.1.1.1.1.2" xref="S4.Ex10.m1.3.3.1.1.1.1.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.3.3.1.1.1.1.2.3" xref="S4.Ex10.m1.3.3.1.1.1.1.3.cmml">(</mo><msub id="S4.Ex10.m1.3.3.1.1.1.1.1.1" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.1.1.1.1.2" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.1.1.1.1.3" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.1.1.2.4" xref="S4.Ex10.m1.3.3.1.1.1.1.3.cmml">,</mo><msub id="S4.Ex10.m1.3.3.1.1.1.1.2.2" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.1.1.2.2.2" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.1.1.2.2.3" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.3.3.1.1.1.1.2.5" xref="S4.Ex10.m1.3.3.1.1.1.1.3.cmml">)</mo></mrow><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.2.4" xref="S4.Ex10.m1.3.3.1.1.3.cmml">,</mo><msub id="S4.Ex10.m1.3.3.1.1.2.2" xref="S4.Ex10.m1.3.3.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.2.2.2" xref="S4.Ex10.m1.3.3.1.1.2.2.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.3.3.1.1.2.2.3" xref="S4.Ex10.m1.3.3.1.1.2.2.3.cmml">2</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.3.3.1.1.2.5" xref="S4.Ex10.m1.3.3.1.1.3.cmml">)</mo></mrow><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.4" xref="S4.Ex10.m1.5.5.4.cmml">,</mo><mrow id="S4.Ex10.m1.4.4.2.2.2" xref="S4.Ex10.m1.4.4.2.2.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.4.4.2.2.2.3" xref="S4.Ex10.m1.4.4.2.2.3.cmml">(</mo><mrow id="S4.Ex10.m1.4.4.2.2.1.1.3" xref="S4.Ex10.m1.4.4.2.2.1.1.4.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.4.4.2.2.1.1.3.4" xref="S4.Ex10.m1.4.4.2.2.1.1.4.cmml">(</mo><msub id="S4.Ex10.m1.4.4.2.2.1.1.1.1" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.1.1.2" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.1.1.3" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.3.5" xref="S4.Ex10.m1.4.4.2.2.1.1.4.cmml">,</mo><msub id="S4.Ex10.m1.4.4.2.2.1.1.2.2" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.2.2.2" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.2.2.3" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.3.6" xref="S4.Ex10.m1.4.4.2.2.1.1.4.cmml">,</mo><msub id="S4.Ex10.m1.4.4.2.2.1.1.3.3" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.3.3.2" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.1.1.3.3.3" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3.3.cmml">2</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.4.4.2.2.1.1.3.7" xref="S4.Ex10.m1.4.4.2.2.1.1.4.cmml">)</mo></mrow><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.2.4" xref="S4.Ex10.m1.4.4.2.2.3.cmml">,</mo><msub id="S4.Ex10.m1.4.4.2.2.2.2" xref="S4.Ex10.m1.4.4.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.2.2.2" xref="S4.Ex10.m1.4.4.2.2.2.2.2.cmml">y</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.4.4.2.2.2.2.3" xref="S4.Ex10.m1.4.4.2.2.2.2.3.cmml">3</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.4.4.2.2.2.5" xref="S4.Ex10.m1.4.4.2.2.3.cmml">)</mo></mrow><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.5" xref="S4.Ex10.m1.5.5.4.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S4.Ex10.m1.2.2" xref="S4.Ex10.m1.2.2.cmml">…</mi><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.6" xref="S4.Ex10.m1.5.5.4.cmml">,</mo><mrow id="S4.Ex10.m1.5.5.3.3.2" xref="S4.Ex10.m1.5.5.3.3.3.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.5.5.3.3.2.3" xref="S4.Ex10.m1.5.5.3.3.3.cmml">(</mo><mrow id="S4.Ex10.m1.5.5.3.3.1.1.3" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.5.5.3.3.1.1.3.4" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml">(</mo><msub id="S4.Ex10.m1.5.5.3.3.1.1.1.1" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.1.1.2" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.1.1.3" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.5" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml">,</mo><msub id="S4.Ex10.m1.5.5.3.3.1.1.2.2" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.2.2.2" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2.2.cmml">x</mi><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.2.2.3" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.6" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml">,</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S4.Ex10.m1.1.1" xref="S4.Ex10.m1.1.1.cmml">…</mi><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.7" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml">,</mo><msub id="S4.Ex10.m1.5.5.3.3.1.1.3.3" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.2" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.2.cmml">x</mi><mrow id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.2" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.2.cmml">T</mi><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.1" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.1.cmml">−</mo><mn mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.3" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.3.cmml">1</mn></mrow></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.5.5.3.3.1.1.3.8" xref="S4.Ex10.m1.5.5.3.3.1.1.4.cmml">)</mo></mrow><mo mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.2.4" xref="S4.Ex10.m1.5.5.3.3.3.cmml">,</mo><msub id="S4.Ex10.m1.5.5.3.3.2.2" xref="S4.Ex10.m1.5.5.3.3.2.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.2.2.2" xref="S4.Ex10.m1.5.5.3.3.2.2.2.cmml">y</mi><mi mathbackground="#FFFFFF" id="S4.Ex10.m1.5.5.3.3.2.2.3" xref="S4.Ex10.m1.5.5.3.3.2.2.3.cmml">T</mi></msub><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex10.m1.5.5.3.3.2.5" xref="S4.Ex10.m1.5.5.3.3.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex10.m1.5b"><list id="S4.Ex10.m1.5.5.4.cmml" xref="S4.Ex10.m1.5.5.3"><interval closure="open" id="S4.Ex10.m1.3.3.1.1.3.cmml" xref="S4.Ex10.m1.3.3.1.1.2"><interval closure="open" id="S4.Ex10.m1.3.3.1.1.1.1.3.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.2"><apply id="S4.Ex10.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex10.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S4.Ex10.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.1.1.3">0</cn></apply><apply id="S4.Ex10.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2">subscript</csymbol><ci id="S4.Ex10.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S4.Ex10.m1.3.3.1.1.1.1.2.2.3">1</cn></apply></interval><apply id="S4.Ex10.m1.3.3.1.1.2.2.cmml" xref="S4.Ex10.m1.3.3.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.3.3.1.1.2.2.1.cmml" xref="S4.Ex10.m1.3.3.1.1.2.2">subscript</csymbol><ci id="S4.Ex10.m1.3.3.1.1.2.2.2.cmml" xref="S4.Ex10.m1.3.3.1.1.2.2.2">𝑦</ci><cn type="integer" id="S4.Ex10.m1.3.3.1.1.2.2.3.cmml" xref="S4.Ex10.m1.3.3.1.1.2.2.3">2</cn></apply></interval><interval closure="open" id="S4.Ex10.m1.4.4.2.2.3.cmml" xref="S4.Ex10.m1.4.4.2.2.2"><vector id="S4.Ex10.m1.4.4.2.2.1.1.4.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.3"><apply id="S4.Ex10.m1.4.4.2.2.1.1.1.1.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex10.m1.4.4.2.2.1.1.1.1.1.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1">subscript</csymbol><ci id="S4.Ex10.m1.4.4.2.2.1.1.1.1.2.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.4.4.2.2.1.1.1.1.3.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.1.1.3">0</cn></apply><apply id="S4.Ex10.m1.4.4.2.2.1.1.2.2.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.4.4.2.2.1.1.2.2.1.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2">subscript</csymbol><ci id="S4.Ex10.m1.4.4.2.2.1.1.2.2.2.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.4.4.2.2.1.1.2.2.3.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.2.2.3">1</cn></apply><apply id="S4.Ex10.m1.4.4.2.2.1.1.3.3.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S4.Ex10.m1.4.4.2.2.1.1.3.3.1.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3">subscript</csymbol><ci id="S4.Ex10.m1.4.4.2.2.1.1.3.3.2.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.4.4.2.2.1.1.3.3.3.cmml" xref="S4.Ex10.m1.4.4.2.2.1.1.3.3.3">2</cn></apply></vector><apply id="S4.Ex10.m1.4.4.2.2.2.2.cmml" xref="S4.Ex10.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.4.4.2.2.2.2.1.cmml" xref="S4.Ex10.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S4.Ex10.m1.4.4.2.2.2.2.2.cmml" xref="S4.Ex10.m1.4.4.2.2.2.2.2">𝑦</ci><cn type="integer" id="S4.Ex10.m1.4.4.2.2.2.2.3.cmml" xref="S4.Ex10.m1.4.4.2.2.2.2.3">3</cn></apply></interval><ci id="S4.Ex10.m1.2.2.cmml" xref="S4.Ex10.m1.2.2">…</ci><interval closure="open" id="S4.Ex10.m1.5.5.3.3.3.cmml" xref="S4.Ex10.m1.5.5.3.3.2"><vector id="S4.Ex10.m1.5.5.3.3.1.1.4.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3"><apply id="S4.Ex10.m1.5.5.3.3.1.1.1.1.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S4.Ex10.m1.5.5.3.3.1.1.1.1.1.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1">subscript</csymbol><ci id="S4.Ex10.m1.5.5.3.3.1.1.1.1.2.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.5.5.3.3.1.1.1.1.3.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.1.1.3">0</cn></apply><apply id="S4.Ex10.m1.5.5.3.3.1.1.2.2.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.5.5.3.3.1.1.2.2.1.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2">subscript</csymbol><ci id="S4.Ex10.m1.5.5.3.3.1.1.2.2.2.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2.2">𝑥</ci><cn type="integer" id="S4.Ex10.m1.5.5.3.3.1.1.2.2.3.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.2.2.3">1</cn></apply><ci id="S4.Ex10.m1.1.1.cmml" xref="S4.Ex10.m1.1.1">…</ci><apply id="S4.Ex10.m1.5.5.3.3.1.1.3.3.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3"><csymbol cd="ambiguous" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.1.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3">subscript</csymbol><ci id="S4.Ex10.m1.5.5.3.3.1.1.3.3.2.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.2">𝑥</ci><apply id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3"><minus id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.1.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.1"></minus><ci id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.2.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.2">𝑇</ci><cn type="integer" id="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.3.cmml" xref="S4.Ex10.m1.5.5.3.3.1.1.3.3.3.3">1</cn></apply></apply></vector><apply id="S4.Ex10.m1.5.5.3.3.2.2.cmml" xref="S4.Ex10.m1.5.5.3.3.2.2"><csymbol cd="ambiguous" id="S4.Ex10.m1.5.5.3.3.2.2.1.cmml" xref="S4.Ex10.m1.5.5.3.3.2.2">subscript</csymbol><ci id="S4.Ex10.m1.5.5.3.3.2.2.2.cmml" xref="S4.Ex10.m1.5.5.3.3.2.2.2">𝑦</ci><ci id="S4.Ex10.m1.5.5.3.3.2.2.3.cmml" xref="S4.Ex10.m1.5.5.3.3.2.2.3">𝑇</ci></apply></interval></list></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex10.m1.5c">((x_{0},x_{1}),y_{2}),((x_{0},x_{1},x_{2}),y_{3}),\dots,((x_{0},x_{1},\dots,x_{T-1}),y_{T})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S4.I1.i2.p3" class="ltx_para">
<p id="S4.I1.i2.p3.2" class="ltx_p">where label <math id="S4.I1.i2.p3.1.m1.2" class="ltx_Math" alttext="y_{t}\in[0,1]^{V}" display="inline"><semantics id="S4.I1.i2.p3.1.m1.2a"><mrow id="S4.I1.i2.p3.1.m1.2.3" xref="S4.I1.i2.p3.1.m1.2.3.cmml"><msub id="S4.I1.i2.p3.1.m1.2.3.2" xref="S4.I1.i2.p3.1.m1.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.3.2.2" xref="S4.I1.i2.p3.1.m1.2.3.2.2.cmml">y</mi><mi mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.3.2.3" xref="S4.I1.i2.p3.1.m1.2.3.2.3.cmml">t</mi></msub><mo mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.3.1" xref="S4.I1.i2.p3.1.m1.2.3.1.cmml">∈</mo><msup id="S4.I1.i2.p3.1.m1.2.3.3" xref="S4.I1.i2.p3.1.m1.2.3.3.cmml"><mrow id="S4.I1.i2.p3.1.m1.2.3.3.2.2" xref="S4.I1.i2.p3.1.m1.2.3.3.2.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.I1.i2.p3.1.m1.2.3.3.2.2.1" xref="S4.I1.i2.p3.1.m1.2.3.3.2.1.cmml">[</mo><mn mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.1.1" xref="S4.I1.i2.p3.1.m1.1.1.cmml">0</mn><mo mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.3.3.2.2.2" xref="S4.I1.i2.p3.1.m1.2.3.3.2.1.cmml">,</mo><mn mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.2" xref="S4.I1.i2.p3.1.m1.2.2.cmml">1</mn><mo mathbackground="#FFFFFF" stretchy="false" id="S4.I1.i2.p3.1.m1.2.3.3.2.2.3" xref="S4.I1.i2.p3.1.m1.2.3.3.2.1.cmml">]</mo></mrow><mi mathbackground="#FFFFFF" id="S4.I1.i2.p3.1.m1.2.3.3.3" xref="S4.I1.i2.p3.1.m1.2.3.3.3.cmml">V</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p3.1.m1.2b"><apply id="S4.I1.i2.p3.1.m1.2.3.cmml" xref="S4.I1.i2.p3.1.m1.2.3"><in id="S4.I1.i2.p3.1.m1.2.3.1.cmml" xref="S4.I1.i2.p3.1.m1.2.3.1"></in><apply id="S4.I1.i2.p3.1.m1.2.3.2.cmml" xref="S4.I1.i2.p3.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.I1.i2.p3.1.m1.2.3.2.1.cmml" xref="S4.I1.i2.p3.1.m1.2.3.2">subscript</csymbol><ci id="S4.I1.i2.p3.1.m1.2.3.2.2.cmml" xref="S4.I1.i2.p3.1.m1.2.3.2.2">𝑦</ci><ci id="S4.I1.i2.p3.1.m1.2.3.2.3.cmml" xref="S4.I1.i2.p3.1.m1.2.3.2.3">𝑡</ci></apply><apply id="S4.I1.i2.p3.1.m1.2.3.3.cmml" xref="S4.I1.i2.p3.1.m1.2.3.3"><csymbol cd="ambiguous" id="S4.I1.i2.p3.1.m1.2.3.3.1.cmml" xref="S4.I1.i2.p3.1.m1.2.3.3">superscript</csymbol><interval closure="closed" id="S4.I1.i2.p3.1.m1.2.3.3.2.1.cmml" xref="S4.I1.i2.p3.1.m1.2.3.3.2.2"><cn type="integer" id="S4.I1.i2.p3.1.m1.1.1.cmml" xref="S4.I1.i2.p3.1.m1.1.1">0</cn><cn type="integer" id="S4.I1.i2.p3.1.m1.2.2.cmml" xref="S4.I1.i2.p3.1.m1.2.2">1</cn></interval><ci id="S4.I1.i2.p3.1.m1.2.3.3.3.cmml" xref="S4.I1.i2.p3.1.m1.2.3.3.3">𝑉</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p3.1.m1.2c">y_{t}\in[0,1]^{V}</annotation></semantics></math> is a probability distribution over the
dictionary entries, with all elements zero apart from the element
corresponding to the dictionary index of <math id="S4.I1.i2.p3.2.m2.1" class="ltx_Math" alttext="x_{t}" display="inline"><semantics id="S4.I1.i2.p3.2.m2.1a"><msub id="S4.I1.i2.p3.2.m2.1.1" xref="S4.I1.i2.p3.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.I1.i2.p3.2.m2.1.1.2" xref="S4.I1.i2.p3.2.m2.1.1.2.cmml">x</mi><mi mathbackground="#FFFFFF" id="S4.I1.i2.p3.2.m2.1.1.3" xref="S4.I1.i2.p3.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p3.2.m2.1b"><apply id="S4.I1.i2.p3.2.m2.1.1.cmml" xref="S4.I1.i2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p3.2.m2.1.1.1.cmml" xref="S4.I1.i2.p3.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i2.p3.2.m2.1.1.2.cmml" xref="S4.I1.i2.p3.2.m2.1.1.2">𝑥</ci><ci id="S4.I1.i2.p3.2.m2.1.1.3.cmml" xref="S4.I1.i2.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p3.2.m2.1c">x_{t}</annotation></semantics></math></p>
</div>
</li>
</ul>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.7" class="ltx_p">Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> we use categorical cross entropy
loss over the output and target labels. After creating the training
samples and labels from a dataset of <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><msub id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">𝑛</ci><ci id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">n_{k}</annotation></semantics></math> sentences, we train model
<math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><msub id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">\theta_{0}</annotation></semantics></math> on this training data for a specified number of epochs <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><ci id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">E</annotation></semantics></math>
with a mini-batch size of <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><ci id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">B</annotation></semantics></math>, according to Algorithm
<a href="#algorithm1" title="In 2.1 Federated Learning Client Update ‣ 2 Preliminaries ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> to produce the local update <math id="S4.SS1.p3.5.m5.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S4.SS1.p3.5.m5.1a"><msub id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.5.m5.1.1.2" xref="S4.SS1.p3.5.m5.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS1.p3.5.m5.1.1.3" xref="S4.SS1.p3.5.m5.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><apply id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.5.m5.1.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p3.5.m5.1.1.2.cmml" xref="S4.SS1.p3.5.m5.1.1.2">𝜃</ci><cn type="integer" id="S4.SS1.p3.5.m5.1.1.3.cmml" xref="S4.SS1.p3.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">\theta_{1}</annotation></semantics></math>. We then
subtract the final layer parameters of the two models to recover the
words, and iteratively sample <math id="S4.SS1.p3.6.m6.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S4.SS1.p3.6.m6.1a"><msub id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.6.m6.1.1.2" xref="S4.SS1.p3.6.m6.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS1.p3.6.m6.1.1.3" xref="S4.SS1.p3.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><apply id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.6.m6.1.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.p3.6.m6.1.1.2.cmml" xref="S4.SS1.p3.6.m6.1.1.2">𝜃</ci><cn type="integer" id="S4.SS1.p3.6.m6.1.1.3.cmml" xref="S4.SS1.p3.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">\theta_{1}</annotation></semantics></math> according to the methodology
described in Section <a href="#S3.SS2" title="3.2 Reconstructing Sentences ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a> to reconstruct the sentences, and
take the top-<math id="S4.SS1.p3.7.m7.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S4.SS1.p3.7.m7.1a"><msub id="S4.SS1.p3.7.m7.1.1" xref="S4.SS1.p3.7.m7.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS1.p3.7.m7.1.1.2" xref="S4.SS1.p3.7.m7.1.1.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S4.SS1.p3.7.m7.1.1.3" xref="S4.SS1.p3.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.1b"><apply id="S4.SS1.p3.7.m7.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.1.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p3.7.m7.1.1.2.cmml" xref="S4.SS1.p3.7.m7.1.1.2">𝑛</ci><ci id="S4.SS1.p3.7.m7.1.1.3.cmml" xref="S4.SS1.p3.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.1c">n_{k}</annotation></semantics></math> ranked sentences by their perplexity score.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Metrics</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">To evaluate performance, we use the F1 score which balances the
precision and recall of word recovery with our attack. We also use a
modified version of the Levenshtein ratio i.e. the normalised
Levenshtein distance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> (the minimum number
of word level edits needed to make one string match another) to
evaluate our sentence reconstruction attack. Ranging from 0 to 100,
the larger the Levenshtein ratio, the closer the match between our
reconstructed and the ground truth sentence.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Measurements</h3>

<section id="S4.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1 </span>Word Recovery Performance</h4>

<div id="S4.SS3.SSS1.p1" class="ltx_para">
<p id="S4.SS3.SSS1.p1.1" class="ltx_p">Figure <a href="#S3.F2" title="Figure 2 ‣ 3.2 Reconstructing Sentences ‣ 3 Reconstruction Attack ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the measured performance of our word
recovery attack for both the FedSGD and FedAveraging variants of FL
for mini-batch/full batch training and as the dataset size and
training time are varied. It can be seen that none of these variables
have much of an effect on the F1 score achieved by our attack, which
remains high across a wide range of conditions. Note that the maximum
value of the F1 score is not one for this data but instead a smaller
value related to how many of the words in the dataset are also present
in the model’s vocabulary. Some words, e.g. unique nouns, slang, etc,
do not exist in the model’s 9502 word dictionary, and our word
recovery attack can only extract the <span id="S4.SS3.SSS1.p1.1.1" class="ltx_text ltx_font_typewriter">&lt;UNK&gt;</span> token in their
place, limiting how many words we can actually recover.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_fedavg_e50_nonoise_font12.png" id="S4.F3.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf1.4.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><math id="S4.F3.sf1.2.m1.1" class="ltx_Math" alttext="E=50" display="inline"><semantics id="S4.F3.sf1.2.m1.1b"><mrow id="S4.F3.sf1.2.m1.1.1" xref="S4.F3.sf1.2.m1.1.1.cmml"><mi mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf1.2.m1.1.1.2" xref="S4.F3.sf1.2.m1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf1.2.m1.1.1.1" xref="S4.F3.sf1.2.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf1.2.m1.1.1.3" xref="S4.F3.sf1.2.m1.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.sf1.2.m1.1c"><apply id="S4.F3.sf1.2.m1.1.1.cmml" xref="S4.F3.sf1.2.m1.1.1"><eq id="S4.F3.sf1.2.m1.1.1.1.cmml" xref="S4.F3.sf1.2.m1.1.1.1"></eq><ci id="S4.F3.sf1.2.m1.1.1.2.cmml" xref="S4.F3.sf1.2.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.F3.sf1.2.m1.1.1.3.cmml" xref="S4.F3.sf1.2.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf1.2.m1.1d">E=50</annotation></semantics></math><span id="S4.F3.sf1.5.2" class="ltx_text" style="font-size:90%;"> epochs</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_fedavg_e100_nonoise_font12.png" id="S4.F3.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf2.4.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><math id="S4.F3.sf2.2.m1.1" class="ltx_Math" alttext="E=100" display="inline"><semantics id="S4.F3.sf2.2.m1.1b"><mrow id="S4.F3.sf2.2.m1.1.1" xref="S4.F3.sf2.2.m1.1.1.cmml"><mi mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf2.2.m1.1.1.2" xref="S4.F3.sf2.2.m1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf2.2.m1.1.1.1" xref="S4.F3.sf2.2.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf2.2.m1.1.1.3" xref="S4.F3.sf2.2.m1.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.sf2.2.m1.1c"><apply id="S4.F3.sf2.2.m1.1.1.cmml" xref="S4.F3.sf2.2.m1.1.1"><eq id="S4.F3.sf2.2.m1.1.1.1.cmml" xref="S4.F3.sf2.2.m1.1.1.1"></eq><ci id="S4.F3.sf2.2.m1.1.1.2.cmml" xref="S4.F3.sf2.2.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.F3.sf2.2.m1.1.1.3.cmml" xref="S4.F3.sf2.2.m1.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf2.2.m1.1d">E=100</annotation></semantics></math><span id="S4.F3.sf2.5.2" class="ltx_text" style="font-size:90%;"> epochs</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_e1000_nonoise_font12.png" id="S4.F3.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.sf3.4.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><math id="S4.F3.sf3.2.m1.1" class="ltx_Math" alttext="E=1000" display="inline"><semantics id="S4.F3.sf3.2.m1.1b"><mrow id="S4.F3.sf3.2.m1.1.1" xref="S4.F3.sf3.2.m1.1.1.cmml"><mi mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf3.2.m1.1.1.2" xref="S4.F3.sf3.2.m1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf3.2.m1.1.1.1" xref="S4.F3.sf3.2.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" mathsize="90%" id="S4.F3.sf3.2.m1.1.1.3" xref="S4.F3.sf3.2.m1.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F3.sf3.2.m1.1c"><apply id="S4.F3.sf3.2.m1.1.1.cmml" xref="S4.F3.sf3.2.m1.1.1"><eq id="S4.F3.sf3.2.m1.1.1.1.cmml" xref="S4.F3.sf3.2.m1.1.1.1"></eq><ci id="S4.F3.sf3.2.m1.1.1.2.cmml" xref="S4.F3.sf3.2.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.F3.sf3.2.m1.1.1.3.cmml" xref="S4.F3.sf3.2.m1.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf3.2.m1.1d">E=1000</annotation></semantics></math><span id="S4.F3.sf3.5.2" class="ltx_text" style="font-size:90%;"> epochs</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.4.2" class="ltx_text" style="font-size:90%;">Sentence reconstruction performance. Each point
corresponds to a different dataset colour coded by it’s size. The
y-axis gives the average Levenshtein ratio of the reconstructed
sentences. The x-axis is the F1 score between the tokens used in
the reconstructed sentences and the ground truth. The closer a
point is to the top-right corner, the closer the reconstruction is
to perfect.</span></figcaption>
</figure>
</section>
<section id="S4.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2 </span>Sentence Reconstruction Performance</h4>

<div id="S4.SS3.SSS2.p1" class="ltx_para">
<p id="S4.SS3.SSS2.p1.1" class="ltx_p">Figure <a href="#S4.F3" title="Figure 3 ‣ 4.3.1 Word Recovery Performance ‣ 4.3 Measurements ‣ 4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the measured performance of
our sentence reconstruction attack. Figures <a href="#S4.F3.sf1" title="In Figure 3 ‣ 4.3.1 Word Recovery Performance ‣ 4.3 Measurements ‣ 4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>,
<a href="#S4.F3.sf2" title="In Figure 3 ‣ 4.3.1 Word Recovery Performance ‣ 4.3 Measurements ‣ 4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(b)</span></a>, and <a href="#S4.F3.sf3" title="In Figure 3 ‣ 4.3.1 Word Recovery Performance ‣ 4.3 Measurements ‣ 4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(c)</span></a> show that as you train for
more epochs (50, 100, and 1000 respectively) the quality of the
reconstructed sentences improves. This is intuitive as the models
trained for longer are more overfit to the data, and so the iterative
sampling approach is more likely to return the correct next word given
a conditioning prefix.</p>
</div>
<div id="S4.SS3.SSS2.p2" class="ltx_para">
<p id="S4.SS3.SSS2.p2.5" class="ltx_p">However, longer training times are not necessary to accurately
reconstruct sentences. It can be seen from Figure
<a href="#S4.F4" title="Figure 4 ‣ 4.3.2 Sentence Reconstruction Performance ‣ 4.3 Measurements ‣ 4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(b) that even in the FedSGD setting, where
the number of epochs <math id="S4.SS3.SSS2.p2.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.SS3.SSS2.p2.1.m1.1a"><mrow id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.1.m1.1.1.2" xref="S4.SS3.SSS2.p2.1.m1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.1.m1.1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.1.m1.1.1.3" xref="S4.SS3.SSS2.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b"><apply id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1"><eq id="S4.SS3.SSS2.p2.1.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.1"></eq><ci id="S4.SS3.SSS2.p2.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.SS3.SSS2.p2.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">E=1</annotation></semantics></math>, we can sometimes still get high quality
sentence reconstructions by modifying the model parameters <math id="S4.SS3.SSS2.p2.2.m2.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S4.SS3.SSS2.p2.2.m2.1a"><msub id="S4.SS3.SSS2.p2.2.m2.1.1" xref="S4.SS3.SSS2.p2.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.2.m2.1.1.2" xref="S4.SS3.SSS2.p2.2.m2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.2.m2.1.1.3" xref="S4.SS3.SSS2.p2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.2.m2.1b"><apply id="S4.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.2.m2.1.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p2.2.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.2.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.2.m2.1c">\theta_{1}</annotation></semantics></math>
to be <math id="S4.SS3.SSS2.p2.3.m3.1" class="ltx_Math" alttext="\theta_{1}+s(\theta_{1}-\theta_{0})" display="inline"><semantics id="S4.SS3.SSS2.p2.3.m3.1a"><mrow id="S4.SS3.SSS2.p2.3.m3.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.cmml"><msub id="S4.SS3.SSS2.p2.3.m3.1.1.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.3.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.3.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.2.cmml">+</mo><mrow id="S4.SS3.SSS2.p2.3.m3.1.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.3.m3.1.1.1.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.2.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.cmml"><msub id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.1.cmml">−</mo><msub id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.2" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.3.cmml">0</mn></msub></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.3" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.3.m3.1b"><apply id="S4.SS3.SSS2.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1"><plus id="S4.SS3.SSS2.p2.3.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.2"></plus><apply id="S4.SS3.SSS2.p2.3.m3.1.1.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.3.m3.1.1.3.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS2.p2.3.m3.1.1.3.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.3.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.3.m3.1.1.3.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.3.3">1</cn></apply><apply id="S4.SS3.SSS2.p2.3.m3.1.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1"><times id="S4.SS3.SSS2.p2.3.m3.1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.2"></times><ci id="S4.SS3.SSS2.p2.3.m3.1.1.1.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.3">𝑠</ci><apply id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1"><minus id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.1"></minus><apply id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.2.3">1</cn></apply><apply id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1.1.1.1.1.3.3">0</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.3.m3.1c">\theta_{1}+s(\theta_{1}-\theta_{0})</annotation></semantics></math>, with <math id="S4.SS3.SSS2.p2.4.m4.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS3.SSS2.p2.4.m4.1a"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.4.m4.1.1" xref="S4.SS3.SSS2.p2.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.4.m4.1b"><ci id="S4.SS3.SSS2.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.4.m4.1c">s</annotation></semantics></math> being a scaling
factor. Since <math id="S4.SS3.SSS2.p2.5.m5.2" class="ltx_Math" alttext="\theta_{1}=\theta_{0}-\eta\nabla\ell(\theta_{0};b)" display="inline"><semantics id="S4.SS3.SSS2.p2.5.m5.2a"><mrow id="S4.SS3.SSS2.p2.5.m5.2.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.cmml"><msub id="S4.SS3.SSS2.p2.5.m5.2.2.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.3.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.3.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.2.cmml">=</mo><mrow id="S4.SS3.SSS2.p2.5.m5.2.2.1" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.cmml"><msub id="S4.SS3.SSS2.p2.5.m5.2.2.1.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.2.cmml">−</mo><mrow id="S4.SS3.SSS2.p2.5.m5.2.2.1.1" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.1" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.1.cmml">∇</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2a" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2.cmml">​</mo><mrow id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.2.cmml">(</mo><msub id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.2" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.3" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.2.cmml">;</mo><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.5.m5.1.1" xref="S4.SS3.SSS2.p2.5.m5.1.1.cmml">b</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.4" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.5.m5.2b"><apply id="S4.SS3.SSS2.p2.5.m5.2.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2"><eq id="S4.SS3.SSS2.p2.5.m5.2.2.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.2"></eq><apply id="S4.SS3.SSS2.p2.5.m5.2.2.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.5.m5.2.2.3.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.3">subscript</csymbol><ci id="S4.SS3.SSS2.p2.5.m5.2.2.3.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.3.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.5.m5.2.2.3.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.3.3">1</cn></apply><apply id="S4.SS3.SSS2.p2.5.m5.2.2.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1"><minus id="S4.SS3.SSS2.p2.5.m5.2.2.1.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.2"></minus><apply id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3">subscript</csymbol><ci id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.5.m5.2.2.1.3.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.3.3">0</cn></apply><apply id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1"><times id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.2"></times><ci id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.3">𝜂</ci><apply id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4"><ci id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.1">∇</ci><ci id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.4.2">ℓ</ci></apply><list id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1"><apply id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.2">𝜃</ci><cn type="integer" id="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p2.5.m5.2.2.1.1.1.1.1.3">0</cn></apply><ci id="S4.SS3.SSS2.p2.5.m5.1.1.cmml" xref="S4.SS3.SSS2.p2.5.m5.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.5.m5.2c">\theta_{1}=\theta_{0}-\eta\nabla\ell(\theta_{0};b)</annotation></semantics></math>
with FedSGD,</p>
<table id="S4.Ex11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex11.m1.4" class="ltx_Math" alttext="\theta_{1}+s(\theta_{1}-\theta_{0})=\theta_{0}-\eta(1+s)\nabla\ell(\theta_{0};b)" display="block"><semantics id="S4.Ex11.m1.4a"><mrow id="S4.Ex11.m1.4.4" xref="S4.Ex11.m1.4.4.cmml"><mrow id="S4.Ex11.m1.2.2.1" xref="S4.Ex11.m1.2.2.1.cmml"><msub id="S4.Ex11.m1.2.2.1.3" xref="S4.Ex11.m1.2.2.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.3.2" xref="S4.Ex11.m1.2.2.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.3.3" xref="S4.Ex11.m1.2.2.1.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.2" xref="S4.Ex11.m1.2.2.1.2.cmml">+</mo><mrow id="S4.Ex11.m1.2.2.1.1" xref="S4.Ex11.m1.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.3" xref="S4.Ex11.m1.2.2.1.1.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.Ex11.m1.2.2.1.1.2" xref="S4.Ex11.m1.2.2.1.1.2.cmml">​</mo><mrow id="S4.Ex11.m1.2.2.1.1.1.1" xref="S4.Ex11.m1.2.2.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.2.2.1.1.1.1.2" xref="S4.Ex11.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex11.m1.2.2.1.1.1.1.1" xref="S4.Ex11.m1.2.2.1.1.1.1.1.cmml"><msub id="S4.Ex11.m1.2.2.1.1.1.1.1.2" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.1.1.1.2.2" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.1.1.1.2.3" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.1.1.1.1" xref="S4.Ex11.m1.2.2.1.1.1.1.1.1.cmml">−</mo><msub id="S4.Ex11.m1.2.2.1.1.1.1.1.3" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.1.1.1.3.2" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.2.2.1.1.1.1.1.3.3" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3.3.cmml">0</mn></msub></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.2.2.1.1.1.1.3" xref="S4.Ex11.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.4" xref="S4.Ex11.m1.4.4.4.cmml">=</mo><mrow id="S4.Ex11.m1.4.4.3" xref="S4.Ex11.m1.4.4.3.cmml"><msub id="S4.Ex11.m1.4.4.3.4" xref="S4.Ex11.m1.4.4.3.4.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.4.2" xref="S4.Ex11.m1.4.4.3.4.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.4.3" xref="S4.Ex11.m1.4.4.3.4.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.3" xref="S4.Ex11.m1.4.4.3.3.cmml">−</mo><mrow id="S4.Ex11.m1.4.4.3.2" xref="S4.Ex11.m1.4.4.3.2.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.2.4" xref="S4.Ex11.m1.4.4.3.2.4.cmml">η</mi><mo lspace="0em" rspace="0em" id="S4.Ex11.m1.4.4.3.2.3" xref="S4.Ex11.m1.4.4.3.2.3.cmml">​</mo><mrow id="S4.Ex11.m1.3.3.2.1.1.1" xref="S4.Ex11.m1.3.3.2.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.3.3.2.1.1.1.2" xref="S4.Ex11.m1.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S4.Ex11.m1.3.3.2.1.1.1.1" xref="S4.Ex11.m1.3.3.2.1.1.1.1.cmml"><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.3.3.2.1.1.1.1.2" xref="S4.Ex11.m1.3.3.2.1.1.1.1.2.cmml">1</mn><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.3.3.2.1.1.1.1.1" xref="S4.Ex11.m1.3.3.2.1.1.1.1.1.cmml">+</mo><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.3.3.2.1.1.1.1.3" xref="S4.Ex11.m1.3.3.2.1.1.1.1.3.cmml">s</mi></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.3.3.2.1.1.1.3" xref="S4.Ex11.m1.3.3.2.1.1.1.1.cmml">)</mo></mrow><mo lspace="0.167em" rspace="0em" id="S4.Ex11.m1.4.4.3.2.3a" xref="S4.Ex11.m1.4.4.3.2.3.cmml">​</mo><mrow id="S4.Ex11.m1.4.4.3.2.5" xref="S4.Ex11.m1.4.4.3.2.5.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="S4.Ex11.m1.4.4.3.2.5.1" xref="S4.Ex11.m1.4.4.3.2.5.1.cmml">∇</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="S4.Ex11.m1.4.4.3.2.5.2" xref="S4.Ex11.m1.4.4.3.2.5.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S4.Ex11.m1.4.4.3.2.3b" xref="S4.Ex11.m1.4.4.3.2.3.cmml">​</mo><mrow id="S4.Ex11.m1.4.4.3.2.2.1" xref="S4.Ex11.m1.4.4.3.2.2.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.4.4.3.2.2.1.2" xref="S4.Ex11.m1.4.4.3.2.2.2.cmml">(</mo><msub id="S4.Ex11.m1.4.4.3.2.2.1.1" xref="S4.Ex11.m1.4.4.3.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.2.2.1.1.2" xref="S4.Ex11.m1.4.4.3.2.2.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.2.2.1.1.3" xref="S4.Ex11.m1.4.4.3.2.2.1.1.3.cmml">0</mn></msub><mo mathbackground="#FFFFFF" id="S4.Ex11.m1.4.4.3.2.2.1.3" xref="S4.Ex11.m1.4.4.3.2.2.2.cmml">;</mo><mi mathbackground="#FFFFFF" id="S4.Ex11.m1.1.1" xref="S4.Ex11.m1.1.1.cmml">b</mi><mo mathbackground="#FFFFFF" stretchy="false" id="S4.Ex11.m1.4.4.3.2.2.1.4" xref="S4.Ex11.m1.4.4.3.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex11.m1.4b"><apply id="S4.Ex11.m1.4.4.cmml" xref="S4.Ex11.m1.4.4"><eq id="S4.Ex11.m1.4.4.4.cmml" xref="S4.Ex11.m1.4.4.4"></eq><apply id="S4.Ex11.m1.2.2.1.cmml" xref="S4.Ex11.m1.2.2.1"><plus id="S4.Ex11.m1.2.2.1.2.cmml" xref="S4.Ex11.m1.2.2.1.2"></plus><apply id="S4.Ex11.m1.2.2.1.3.cmml" xref="S4.Ex11.m1.2.2.1.3"><csymbol cd="ambiguous" id="S4.Ex11.m1.2.2.1.3.1.cmml" xref="S4.Ex11.m1.2.2.1.3">subscript</csymbol><ci id="S4.Ex11.m1.2.2.1.3.2.cmml" xref="S4.Ex11.m1.2.2.1.3.2">𝜃</ci><cn type="integer" id="S4.Ex11.m1.2.2.1.3.3.cmml" xref="S4.Ex11.m1.2.2.1.3.3">1</cn></apply><apply id="S4.Ex11.m1.2.2.1.1.cmml" xref="S4.Ex11.m1.2.2.1.1"><times id="S4.Ex11.m1.2.2.1.1.2.cmml" xref="S4.Ex11.m1.2.2.1.1.2"></times><ci id="S4.Ex11.m1.2.2.1.1.3.cmml" xref="S4.Ex11.m1.2.2.1.1.3">𝑠</ci><apply id="S4.Ex11.m1.2.2.1.1.1.1.1.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1"><minus id="S4.Ex11.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.1"></minus><apply id="S4.Ex11.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex11.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex11.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2.2">𝜃</ci><cn type="integer" id="S4.Ex11.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.2.3">1</cn></apply><apply id="S4.Ex11.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex11.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex11.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3.2">𝜃</ci><cn type="integer" id="S4.Ex11.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S4.Ex11.m1.2.2.1.1.1.1.1.3.3">0</cn></apply></apply></apply></apply><apply id="S4.Ex11.m1.4.4.3.cmml" xref="S4.Ex11.m1.4.4.3"><minus id="S4.Ex11.m1.4.4.3.3.cmml" xref="S4.Ex11.m1.4.4.3.3"></minus><apply id="S4.Ex11.m1.4.4.3.4.cmml" xref="S4.Ex11.m1.4.4.3.4"><csymbol cd="ambiguous" id="S4.Ex11.m1.4.4.3.4.1.cmml" xref="S4.Ex11.m1.4.4.3.4">subscript</csymbol><ci id="S4.Ex11.m1.4.4.3.4.2.cmml" xref="S4.Ex11.m1.4.4.3.4.2">𝜃</ci><cn type="integer" id="S4.Ex11.m1.4.4.3.4.3.cmml" xref="S4.Ex11.m1.4.4.3.4.3">0</cn></apply><apply id="S4.Ex11.m1.4.4.3.2.cmml" xref="S4.Ex11.m1.4.4.3.2"><times id="S4.Ex11.m1.4.4.3.2.3.cmml" xref="S4.Ex11.m1.4.4.3.2.3"></times><ci id="S4.Ex11.m1.4.4.3.2.4.cmml" xref="S4.Ex11.m1.4.4.3.2.4">𝜂</ci><apply id="S4.Ex11.m1.3.3.2.1.1.1.1.cmml" xref="S4.Ex11.m1.3.3.2.1.1.1"><plus id="S4.Ex11.m1.3.3.2.1.1.1.1.1.cmml" xref="S4.Ex11.m1.3.3.2.1.1.1.1.1"></plus><cn type="integer" id="S4.Ex11.m1.3.3.2.1.1.1.1.2.cmml" xref="S4.Ex11.m1.3.3.2.1.1.1.1.2">1</cn><ci id="S4.Ex11.m1.3.3.2.1.1.1.1.3.cmml" xref="S4.Ex11.m1.3.3.2.1.1.1.1.3">𝑠</ci></apply><apply id="S4.Ex11.m1.4.4.3.2.5.cmml" xref="S4.Ex11.m1.4.4.3.2.5"><ci id="S4.Ex11.m1.4.4.3.2.5.1.cmml" xref="S4.Ex11.m1.4.4.3.2.5.1">∇</ci><ci id="S4.Ex11.m1.4.4.3.2.5.2.cmml" xref="S4.Ex11.m1.4.4.3.2.5.2">ℓ</ci></apply><list id="S4.Ex11.m1.4.4.3.2.2.2.cmml" xref="S4.Ex11.m1.4.4.3.2.2.1"><apply id="S4.Ex11.m1.4.4.3.2.2.1.1.cmml" xref="S4.Ex11.m1.4.4.3.2.2.1.1"><csymbol cd="ambiguous" id="S4.Ex11.m1.4.4.3.2.2.1.1.1.cmml" xref="S4.Ex11.m1.4.4.3.2.2.1.1">subscript</csymbol><ci id="S4.Ex11.m1.4.4.3.2.2.1.1.2.cmml" xref="S4.Ex11.m1.4.4.3.2.2.1.1.2">𝜃</ci><cn type="integer" id="S4.Ex11.m1.4.4.3.2.2.1.1.3.cmml" xref="S4.Ex11.m1.4.4.3.2.2.1.1.3">0</cn></apply><ci id="S4.Ex11.m1.1.1.cmml" xref="S4.Ex11.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex11.m1.4c">\theta_{1}+s(\theta_{1}-\theta_{0})=\theta_{0}-\eta(1+s)\nabla\ell(\theta_{0};b)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS3.SSS2.p2.6" class="ltx_p">from which it can be seen that scaling factor <math id="S4.SS3.SSS2.p2.6.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS3.SSS2.p2.6.m1.1a"><mi mathbackground="#FFFFFF" id="S4.SS3.SSS2.p2.6.m1.1.1" xref="S4.SS3.SSS2.p2.6.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.6.m1.1b"><ci id="S4.SS3.SSS2.p2.6.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.6.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.6.m1.1c">s</annotation></semantics></math>
effectively increases the gradient descent step size.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_fedsgd_nonoise_font12.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_fedsgd_nonoise_scaled100_font12.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.4.2" class="ltx_text" style="font-size:90%;">FedSGD sentence reconstruction performance without (a) and with (b) scaling.</span></figcaption>
</figure>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Existing Attacks And Their Defences</h2>

<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Image Data Reconstruction</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Information leakage from the gradients of neural networks used for
object detection in images appears to have been initially investigated
in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, which proposed the Deep Leakage from Gradients
(DLG) algorithm. An image is input to a neural net and the output is
a label specifying an object detected in the image. In DLG a
synthetic input is applied to the neural net and the gradients of the
model parameters are calculated. These gradients are then compared to
the observed model gradients sent to the FL server and gradient
descent is used to update the synthetic input so as to minimise the
difference between its model gradients and the observed model
gradients.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">This work was subsequently extended
by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>
to improve the stability and performance of the original DLG
algorithm, as well as the fidelity of the images it
generates. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, changes to the
optimisation terms allowed for successful data reconstruction at batch
sizes of up to 48 and 100 respectively. Analytical techniques of data
extraction <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> benefit from not
being as costly to compute as compared to optimization based
methods. Additionally, these analytical attacks extract the exact
ground truth data, as compared to DLG and others who often settle to
image reconstructions that include artefacts.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Text Data Reconstruction</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Most work on reconstruction attacks has focused on images and there
is relatively little work on text reconstruction. A single text
reconstruction example is presented in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, with no
performance results. Probably the closest work to the present paper
is <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> which applies a variant of DLG to text
reconstruction from gradients of transformer-based models (variants of
BERT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>). As already noted, DLG tends to
perform poorly with text data and the word recovery rate
achieved in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> is generally no more than 50%.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.2" class="ltx_p">In our attack context, DLG can recover words but at much smaller
scales than we have demonstrated, and takes longer to find these
words. There is also no guarantee that DLG can recover words and place
them in the correct order. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, it is noted that the
algorithm requires multiple restarts before successful
reconstruction. Additionally, DLG operates by matching the single
gradient of a batch of training data, therefore it only works in the
FedSGD setting, where <math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><mrow id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S5.SS2.p2.1.m1.1.1.2" xref="S5.SS2.p2.1.m1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S5.SS2.p2.1.m1.1.1.1" xref="S5.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S5.SS2.p2.1.m1.1.1.3" xref="S5.SS2.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><apply id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"><eq id="S5.SS2.p2.1.m1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1.1"></eq><ci id="S5.SS2.p2.1.m1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S5.SS2.p2.1.m1.1.1.3.cmml" xref="S5.SS2.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">E=1</annotation></semantics></math>. We show the results of DLG in Listing
<a href="#LST1" title="Listing 1 ‣ 5.2 Text Data Reconstruction ‣ 5 Existing Attacks And Their Defences ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> on gradients of <math id="S5.SS2.p2.2.m2.2" class="ltx_Math" alttext="B=1,\mbox{ and }2" display="inline"><semantics id="S5.SS2.p2.2.m2.2a"><mrow id="S5.SS2.p2.2.m2.2.2" xref="S5.SS2.p2.2.m2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.3" xref="S5.SS2.p2.2.m2.2.2.3.cmml">B</mi><mo mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.2" xref="S5.SS2.p2.2.m2.2.2.2.cmml">=</mo><mrow id="S5.SS2.p2.2.m2.2.2.1.1" xref="S5.SS2.p2.2.m2.2.2.1.2.cmml"><mn mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">1</mn><mo mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.1.1.2" xref="S5.SS2.p2.2.m2.2.2.1.2.cmml">,</mo><mrow id="S5.SS2.p2.2.m2.2.2.1.1.1" xref="S5.SS2.p2.2.m2.2.2.1.1.1.cmml"><mtext mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.1.1.1.2" xref="S5.SS2.p2.2.m2.2.2.1.1.1.2a.cmml"> and </mtext><mo lspace="0em" rspace="0em" id="S5.SS2.p2.2.m2.2.2.1.1.1.1" xref="S5.SS2.p2.2.m2.2.2.1.1.1.1.cmml">​</mo><mn mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.1.1.1.3" xref="S5.SS2.p2.2.m2.2.2.1.1.1.3.cmml">2</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.2b"><apply id="S5.SS2.p2.2.m2.2.2.cmml" xref="S5.SS2.p2.2.m2.2.2"><eq id="S5.SS2.p2.2.m2.2.2.2.cmml" xref="S5.SS2.p2.2.m2.2.2.2"></eq><ci id="S5.SS2.p2.2.m2.2.2.3.cmml" xref="S5.SS2.p2.2.m2.2.2.3">𝐵</ci><list id="S5.SS2.p2.2.m2.2.2.1.2.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1"><cn type="integer" id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">1</cn><apply id="S5.SS2.p2.2.m2.2.2.1.1.1.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1.1"><times id="S5.SS2.p2.2.m2.2.2.1.1.1.1.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1.1.1"></times><ci id="S5.SS2.p2.2.m2.2.2.1.1.1.2a.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1.1.2"><mtext mathbackground="#FFFFFF" id="S5.SS2.p2.2.m2.2.2.1.1.1.2.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1.1.2"> and </mtext></ci><cn type="integer" id="S5.SS2.p2.2.m2.2.2.1.1.1.3.cmml" xref="S5.SS2.p2.2.m2.2.2.1.1.1.3">2</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.2c">B=1,\mbox{ and }2</annotation></semantics></math> 4 word
sentences. In the first example, it took DLG 1000 iterations to
produce “<span id="S5.SS2.p2.2.1" class="ltx_text ltx_font_typewriter">&lt;S&gt; how are venue</span>”, and 1500 iterations to produce
“<span id="S5.SS2.p2.2.2" class="ltx_text ltx_font_typewriter">&lt;S&gt; how are sure cow</span>, <span id="S5.SS2.p2.2.3" class="ltx_text ltx_font_typewriter">&lt;S&gt; haha where are Tell
van</span>”. These reconstructions include some of the original words,
but recovery is not as precise as our attack, and takes orders of
magnitude longer to carry out.</p>
</div>
<figure id="LST1" class="ltx_float ltx_lstlisting">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float">Listing 1: </span>Original and reconstructed sentences by DLG</figcaption>
<div id="LST1.1" class="ltx_listing ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ICA8Uz4gaG93IGFyZSB5b3UKICA8Uz4gaG93IGFyZSB2ZW51ZQoKICA8Uz4gaG93IGFyZSB5b3UgZG9pbmcKICA8Uz4gaG93IGFyZSBzdXJlIGNvdwogIDxTPiB3aGVyZSBhcmUgeW91IGdvaW5nCiAgPFM+IGhhaGEgd2hlcmUgYXJlIFRlbGwgdmFu" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span id="lstnumberx1.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx1.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx1.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx1.4" class="ltx_text ltx_lst_identifier">how</span><span id="lstnumberx1.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx1.6" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx1.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx1.8" class="ltx_text ltx_lst_identifier">you</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
<span id="lstnumberx2.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx2.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx2.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.4" class="ltx_text ltx_lst_identifier">how</span><span id="lstnumberx2.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.6" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx2.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx2.8" class="ltx_text ltx_lst_identifier">venue</span>
</div>
<div id="lstnumberx3" class="ltx_listingline">
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span id="lstnumberx4.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx4.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx4.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx4.4" class="ltx_text ltx_lst_identifier">how</span><span id="lstnumberx4.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx4.6" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx4.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx4.8" class="ltx_text ltx_lst_identifier">you</span><span id="lstnumberx4.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx4.10" class="ltx_text ltx_lst_identifier">doing</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span id="lstnumberx5.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx5.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx5.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.4" class="ltx_text ltx_lst_identifier">how</span><span id="lstnumberx5.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.6" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx5.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.8" class="ltx_text ltx_lst_identifier">sure</span><span id="lstnumberx5.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx5.10" class="ltx_text ltx_lst_identifier">cow</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span id="lstnumberx6.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx6.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx6.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.4" class="ltx_text ltx_lst_identifier">where</span><span id="lstnumberx6.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.6" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx6.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.8" class="ltx_text ltx_lst_identifier">you</span><span id="lstnumberx6.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx6.10" class="ltx_text ltx_lst_identifier">going</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span id="lstnumberx7.1" class="ltx_text ltx_lst_space">  </span>&lt;<span id="lstnumberx7.2" class="ltx_text ltx_lst_identifier">S</span>&gt;<span id="lstnumberx7.3" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.4" class="ltx_text ltx_lst_identifier">haha</span><span id="lstnumberx7.5" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.6" class="ltx_text ltx_lst_identifier">where</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.8" class="ltx_text ltx_lst_identifier">are</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.10" class="ltx_text ltx_lst_identifier">Tell</span><span id="lstnumberx7.11" class="ltx_text ltx_lst_space"> </span><span id="lstnumberx7.12" class="ltx_text ltx_lst_identifier">van</span>
</div>
</div>
</figure>
<div id="S5.SS2.p3" class="ltx_para">
<p id="S5.SS2.p3.1" class="ltx_p">Work has also been carried out on membership attacks against text data
models such as GPT2 i.e. given a trained model the attack seeks to
infer one or more training data points. See for
example <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. But, as
already noted, such attacks are not the focus of the present paper.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Proposed Defences</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Several defences have been proposed to prevent data leakage in FL.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.1" class="ltx_p">Abadi et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> proposed Differentially Private
Stochastic Gradient Descent (DP-SGD), which clips stochastic gradient
decent updates and adds Gaussian noise at each iteration. This aims
to defend against membership attacks against neural networks, rather
than the reconstruction attacks that we consider here.
In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> it was appled to train a next word
prediction RNN motivated by mobile keyboard applications, again with a
focus on membership attacks. Recently, the same team at Google
proposed DP-FTRL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite> which avoids the sampling
step in DP-SGD.</p>
</div>
<div id="S5.SS3.p3" class="ltx_para">
<p id="S5.SS3.p3.1" class="ltx_p">Secure Aggregation is a multi-party protocol proposed in 2016
by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> as a defence against data leakage from
the data uploaded by clients to an FL server. In this setting the
central server only has access to the sum of, and not individual
updates. However, this approach still requires clients to trust that
the PKI infrastructure is honest since dishonest PKI infrastructure
allows the server to perform a sybil attack (see Section 6.2
in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>) to reveal the data sent by an
individual client. When both the FL server and the PKI infrastructure
are operated by Google then Secure Aggregation requires users to trust
Google servers to be honest, and so offers from an attack capability
point of view offers no security benefit. Recent work by Pasquini et
al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> has also shown that by distributing
different models to each client a dishonest server can recover
individual model updates. As a mitigation they propose adding local
noise to client updates to obtain a form of local differential
privacy. We note that despite the early deployment of FL in
production systems such as GBoard, to the best our knowledge, there
does not exist a real-world deployment of secure aggregation. This is
also true for homomorphically encrypted FL, and FL using Trusted
Execution Environments (TEEs).</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Performance Of Our Attacks Against Federated Learning with Local DP</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">Typically, when differential privacy is used with FL noise is added by the server to the aggregate update from multiple clients i.e. no noise is added to the update
before leaving a device. This corresponds to the situation considered in Section <a href="#S4" title="4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> . In this section we now evaluate how local differential privacy, that is, noise added either during local training (DPSGD) or to the final
model parameters <math id="S6.p1.1.m1.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S6.p1.1.m1.1a"><msub id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.p1.1.m1.1.1.2" xref="S6.p1.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S6.p1.1.m1.1.1.3" xref="S6.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b"><apply id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.p1.1.m1.1.1.1.cmml" xref="S6.p1.1.m1.1.1">subscript</csymbol><ci id="S6.p1.1.m1.1.1.2.cmml" xref="S6.p1.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S6.p1.1.m1.1.1.3.cmml" xref="S6.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">\theta_{1}</annotation></semantics></math>, before its transmission to the
coordinating FL server, affect the performance of both our word
recovery and sentence reconstruction attacks.</p>
</div>
<figure id="algorithm3" class="ltx_float ltx_algorithm">
<div id="algorithm3.6" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm3.6.7" class="ltx_listingline">
<span id="algorithm3.6.7.1" class="ltx_text ltx_font_bold">Procedure</span> <em id="algorithm3.6.7.2" class="ltx_emph ltx_font_italic">clientUpdateDPSGD</em> 
</div>
<div id="algorithm3.1.1" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm3.1.1.m1.1" class="ltx_Math" alttext="\theta_{1}\leftarrow\theta_{0}" display="inline"><semantics id="algorithm3.1.1.m1.1a"><mrow id="algorithm3.1.1.m1.1.1" xref="algorithm3.1.1.m1.1.1.cmml"><msub id="algorithm3.1.1.m1.1.1.2" xref="algorithm3.1.1.m1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.1.1.m1.1.1.2.2" xref="algorithm3.1.1.m1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.1.1.m1.1.1.2.3" xref="algorithm3.1.1.m1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.1.1.m1.1.1.1" xref="algorithm3.1.1.m1.1.1.1.cmml">←</mo><msub id="algorithm3.1.1.m1.1.1.3" xref="algorithm3.1.1.m1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.1.1.m1.1.1.3.2" xref="algorithm3.1.1.m1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.1.1.m1.1.1.3.3" xref="algorithm3.1.1.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm3.1.1.m1.1b"><apply id="algorithm3.1.1.m1.1.1.cmml" xref="algorithm3.1.1.m1.1.1"><ci id="algorithm3.1.1.m1.1.1.1.cmml" xref="algorithm3.1.1.m1.1.1.1">←</ci><apply id="algorithm3.1.1.m1.1.1.2.cmml" xref="algorithm3.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm3.1.1.m1.1.1.2.1.cmml" xref="algorithm3.1.1.m1.1.1.2">subscript</csymbol><ci id="algorithm3.1.1.m1.1.1.2.2.cmml" xref="algorithm3.1.1.m1.1.1.2.2">𝜃</ci><cn type="integer" id="algorithm3.1.1.m1.1.1.2.3.cmml" xref="algorithm3.1.1.m1.1.1.2.3">1</cn></apply><apply id="algorithm3.1.1.m1.1.1.3.cmml" xref="algorithm3.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm3.1.1.m1.1.1.3.1.cmml" xref="algorithm3.1.1.m1.1.1.3">subscript</csymbol><ci id="algorithm3.1.1.m1.1.1.3.2.cmml" xref="algorithm3.1.1.m1.1.1.3.2">𝜃</ci><cn type="integer" id="algorithm3.1.1.m1.1.1.3.3.cmml" xref="algorithm3.1.1.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.1.1.m1.1c">\theta_{1}\leftarrow\theta_{0}</annotation></semantics></math>;
</div>
<div id="algorithm3.2.2" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm3.2.2.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)" display="inline"><semantics id="algorithm3.2.2.m1.1a"><mrow id="algorithm3.2.2.m1.1.1" xref="algorithm3.2.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm3.2.2.m1.1.1.3" xref="algorithm3.2.2.m1.1.1.3.cmml">ℬ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.2.2.m1.1.1.2" xref="algorithm3.2.2.m1.1.1.2.cmml">←</mo><mrow id="algorithm3.2.2.m1.1.1.1.1" xref="algorithm3.2.2.m1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.2.2.m1.1.1.1.1.2" xref="algorithm3.2.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm3.2.2.m1.1.1.1.1.1" xref="algorithm3.2.2.m1.1.1.1.1.1.cmml"><mtext mathbackground="#FFFFFF" id="algorithm3.2.2.m1.1.1.1.1.1.2" xref="algorithm3.2.2.m1.1.1.1.1.1.2a.cmml">split dataset into batches of size </mtext><mo lspace="0em" rspace="0em" id="algorithm3.2.2.m1.1.1.1.1.1.1" xref="algorithm3.2.2.m1.1.1.1.1.1.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="algorithm3.2.2.m1.1.1.1.1.1.3" xref="algorithm3.2.2.m1.1.1.1.1.1.3.cmml">B</mi></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.2.2.m1.1.1.1.1.3" xref="algorithm3.2.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm3.2.2.m1.1b"><apply id="algorithm3.2.2.m1.1.1.cmml" xref="algorithm3.2.2.m1.1.1"><ci id="algorithm3.2.2.m1.1.1.2.cmml" xref="algorithm3.2.2.m1.1.1.2">←</ci><ci id="algorithm3.2.2.m1.1.1.3.cmml" xref="algorithm3.2.2.m1.1.1.3">ℬ</ci><apply id="algorithm3.2.2.m1.1.1.1.1.1.cmml" xref="algorithm3.2.2.m1.1.1.1.1"><times id="algorithm3.2.2.m1.1.1.1.1.1.1.cmml" xref="algorithm3.2.2.m1.1.1.1.1.1.1"></times><ci id="algorithm3.2.2.m1.1.1.1.1.1.2a.cmml" xref="algorithm3.2.2.m1.1.1.1.1.1.2"><mtext mathbackground="#FFFFFF" id="algorithm3.2.2.m1.1.1.1.1.1.2.cmml" xref="algorithm3.2.2.m1.1.1.1.1.1.2">split dataset into batches of size </mtext></ci><ci id="algorithm3.2.2.m1.1.1.1.1.1.3.cmml" xref="algorithm3.2.2.m1.1.1.1.1.1.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.2.2.m1.1c">\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)</annotation></semantics></math>;
</div>
<div id="algorithm3.3.3" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm3.3.3.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm3.3.3.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> local epoch <span id="algorithm3.3.3.m1.1.1.1.2" class="ltx_text ltx_font_italic">i</span> from 1 to <math id="algorithm3.3.3.m1.1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm3.3.3.m1.1.1.1.m1.1a"><mi mathbackground="#FFFFFF" id="algorithm3.3.3.m1.1.1.1.m1.1.1" xref="algorithm3.3.3.m1.1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm3.3.3.m1.1.1.1.m1.1b"><ci id="algorithm3.3.3.m1.1.1.1.m1.1.1.cmml" xref="algorithm3.3.3.m1.1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.3.3.m1.1.1.1.m1.1c">E</annotation></semantics></math> <span id="algorithm3.3.3.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm3.4.4" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
    <span id="algorithm3.4.4.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm3.4.4.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> batch <span id="algorithm3.4.4.m1.1.1.1.2" class="ltx_text ltx_font_italic">b</span> <math id="algorithm3.4.4.m1.1.1.1.m1.1" class="ltx_Math" alttext="\in\mathcal{B}" display="inline"><semantics id="algorithm3.4.4.m1.1.1.1.m1.1a"><mrow id="algorithm3.4.4.m1.1.1.1.m1.1.1" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.cmml"><mi id="algorithm3.4.4.m1.1.1.1.m1.1.1.2" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.2.cmml"></mi><mo mathbackground="#FFFFFF" id="algorithm3.4.4.m1.1.1.1.m1.1.1.1" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm3.4.4.m1.1.1.1.m1.1.1.3" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm3.4.4.m1.1.1.1.m1.1b"><apply id="algorithm3.4.4.m1.1.1.1.m1.1.1.cmml" xref="algorithm3.4.4.m1.1.1.1.m1.1.1"><in id="algorithm3.4.4.m1.1.1.1.m1.1.1.1.cmml" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.1"></in><csymbol cd="latexml" id="algorithm3.4.4.m1.1.1.1.m1.1.1.2.cmml" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.2">absent</csymbol><ci id="algorithm3.4.4.m1.1.1.1.m1.1.1.3.cmml" xref="algorithm3.4.4.m1.1.1.1.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.4.4.m1.1.1.1.m1.1c">\in\mathcal{B}</annotation></semantics></math> <span id="algorithm3.4.4.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm3.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm3.5.5.m1.4" class="ltx_Math" alttext="\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)+\eta\mathcal{N}(0,\sigma)" display="inline"><semantics id="algorithm3.5.5.m1.4a"><mrow id="algorithm3.5.5.m1.4.4" xref="algorithm3.5.5.m1.4.4.cmml"><msub id="algorithm3.5.5.m1.4.4.3" xref="algorithm3.5.5.m1.4.4.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.3.2" xref="algorithm3.5.5.m1.4.4.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.3.3" xref="algorithm3.5.5.m1.4.4.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.5.5.m1.4.4.2" xref="algorithm3.5.5.m1.4.4.2.cmml">←</mo><mrow id="algorithm3.5.5.m1.4.4.1" xref="algorithm3.5.5.m1.4.4.1.cmml"><mrow id="algorithm3.5.5.m1.4.4.1.1" xref="algorithm3.5.5.m1.4.4.1.1.cmml"><msub id="algorithm3.5.5.m1.4.4.1.1.3" xref="algorithm3.5.5.m1.4.4.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.3.2" xref="algorithm3.5.5.m1.4.4.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.3.3" xref="algorithm3.5.5.m1.4.4.1.1.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.2" xref="algorithm3.5.5.m1.4.4.1.1.2.cmml">−</mo><mrow id="algorithm3.5.5.m1.4.4.1.1.1" xref="algorithm3.5.5.m1.4.4.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.1.3" xref="algorithm3.5.5.m1.4.4.1.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="algorithm3.5.5.m1.4.4.1.1.1.2" xref="algorithm3.5.5.m1.4.4.1.1.1.2.cmml">​</mo><mrow id="algorithm3.5.5.m1.4.4.1.1.1.4" xref="algorithm3.5.5.m1.4.4.1.1.1.4.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="algorithm3.5.5.m1.4.4.1.1.1.4.1" xref="algorithm3.5.5.m1.4.4.1.1.1.4.1.cmml">∇</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="algorithm3.5.5.m1.4.4.1.1.1.4.2" xref="algorithm3.5.5.m1.4.4.1.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="algorithm3.5.5.m1.4.4.1.1.1.2a" xref="algorithm3.5.5.m1.4.4.1.1.1.2.cmml">​</mo><mrow id="algorithm3.5.5.m1.4.4.1.1.1.1.1" xref="algorithm3.5.5.m1.4.4.1.1.1.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.2" xref="algorithm3.5.5.m1.4.4.1.1.1.1.2.cmml">(</mo><msub id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.2" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.3" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.3" xref="algorithm3.5.5.m1.4.4.1.1.1.1.2.cmml">;</mo><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.1.1" xref="algorithm3.5.5.m1.1.1.cmml">b</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.4" xref="algorithm3.5.5.m1.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.2" xref="algorithm3.5.5.m1.4.4.1.2.cmml">+</mo><mrow id="algorithm3.5.5.m1.4.4.1.3" xref="algorithm3.5.5.m1.4.4.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.3.2" xref="algorithm3.5.5.m1.4.4.1.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="algorithm3.5.5.m1.4.4.1.3.1" xref="algorithm3.5.5.m1.4.4.1.3.1.cmml">​</mo><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.3.3" xref="algorithm3.5.5.m1.4.4.1.3.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="algorithm3.5.5.m1.4.4.1.3.1a" xref="algorithm3.5.5.m1.4.4.1.3.1.cmml">​</mo><mrow id="algorithm3.5.5.m1.4.4.1.3.4.2" xref="algorithm3.5.5.m1.4.4.1.3.4.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.5.5.m1.4.4.1.3.4.2.1" xref="algorithm3.5.5.m1.4.4.1.3.4.1.cmml">(</mo><mn mathbackground="#FFFFFF" id="algorithm3.5.5.m1.2.2" xref="algorithm3.5.5.m1.2.2.cmml">0</mn><mo mathbackground="#FFFFFF" id="algorithm3.5.5.m1.4.4.1.3.4.2.2" xref="algorithm3.5.5.m1.4.4.1.3.4.1.cmml">,</mo><mi mathbackground="#FFFFFF" id="algorithm3.5.5.m1.3.3" xref="algorithm3.5.5.m1.3.3.cmml">σ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm3.5.5.m1.4.4.1.3.4.2.3" xref="algorithm3.5.5.m1.4.4.1.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm3.5.5.m1.4b"><apply id="algorithm3.5.5.m1.4.4.cmml" xref="algorithm3.5.5.m1.4.4"><ci id="algorithm3.5.5.m1.4.4.2.cmml" xref="algorithm3.5.5.m1.4.4.2">←</ci><apply id="algorithm3.5.5.m1.4.4.3.cmml" xref="algorithm3.5.5.m1.4.4.3"><csymbol cd="ambiguous" id="algorithm3.5.5.m1.4.4.3.1.cmml" xref="algorithm3.5.5.m1.4.4.3">subscript</csymbol><ci id="algorithm3.5.5.m1.4.4.3.2.cmml" xref="algorithm3.5.5.m1.4.4.3.2">𝜃</ci><cn type="integer" id="algorithm3.5.5.m1.4.4.3.3.cmml" xref="algorithm3.5.5.m1.4.4.3.3">1</cn></apply><apply id="algorithm3.5.5.m1.4.4.1.cmml" xref="algorithm3.5.5.m1.4.4.1"><plus id="algorithm3.5.5.m1.4.4.1.2.cmml" xref="algorithm3.5.5.m1.4.4.1.2"></plus><apply id="algorithm3.5.5.m1.4.4.1.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1"><minus id="algorithm3.5.5.m1.4.4.1.1.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.2"></minus><apply id="algorithm3.5.5.m1.4.4.1.1.3.cmml" xref="algorithm3.5.5.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="algorithm3.5.5.m1.4.4.1.1.3.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1.3">subscript</csymbol><ci id="algorithm3.5.5.m1.4.4.1.1.3.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.3.2">𝜃</ci><cn type="integer" id="algorithm3.5.5.m1.4.4.1.1.3.3.cmml" xref="algorithm3.5.5.m1.4.4.1.1.3.3">1</cn></apply><apply id="algorithm3.5.5.m1.4.4.1.1.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1"><times id="algorithm3.5.5.m1.4.4.1.1.1.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.2"></times><ci id="algorithm3.5.5.m1.4.4.1.1.1.3.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.3">𝜂</ci><apply id="algorithm3.5.5.m1.4.4.1.1.1.4.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.4"><ci id="algorithm3.5.5.m1.4.4.1.1.1.4.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.4.1">∇</ci><ci id="algorithm3.5.5.m1.4.4.1.1.1.4.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.4.2">ℓ</ci></apply><list id="algorithm3.5.5.m1.4.4.1.1.1.1.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1"><apply id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.1.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.2.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.2">𝜃</ci><cn type="integer" id="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.3.cmml" xref="algorithm3.5.5.m1.4.4.1.1.1.1.1.1.3">1</cn></apply><ci id="algorithm3.5.5.m1.1.1.cmml" xref="algorithm3.5.5.m1.1.1">𝑏</ci></list></apply></apply><apply id="algorithm3.5.5.m1.4.4.1.3.cmml" xref="algorithm3.5.5.m1.4.4.1.3"><times id="algorithm3.5.5.m1.4.4.1.3.1.cmml" xref="algorithm3.5.5.m1.4.4.1.3.1"></times><ci id="algorithm3.5.5.m1.4.4.1.3.2.cmml" xref="algorithm3.5.5.m1.4.4.1.3.2">𝜂</ci><ci id="algorithm3.5.5.m1.4.4.1.3.3.cmml" xref="algorithm3.5.5.m1.4.4.1.3.3">𝒩</ci><interval closure="open" id="algorithm3.5.5.m1.4.4.1.3.4.1.cmml" xref="algorithm3.5.5.m1.4.4.1.3.4.2"><cn type="integer" id="algorithm3.5.5.m1.2.2.cmml" xref="algorithm3.5.5.m1.2.2">0</cn><ci id="algorithm3.5.5.m1.3.3.cmml" xref="algorithm3.5.5.m1.3.3">𝜎</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.5.5.m1.4c">\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)+\eta\mathcal{N}(0,\sigma)</annotation></semantics></math>;
</div>
<div id="algorithm3.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm3.6.6.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm3.6.6.m1.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="algorithm3.6.6.m1.1a"><msub id="algorithm3.6.6.m1.1.1" xref="algorithm3.6.6.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm3.6.6.m1.1.1.2" xref="algorithm3.6.6.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm3.6.6.m1.1.1.3" xref="algorithm3.6.6.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="algorithm3.6.6.m1.1b"><apply id="algorithm3.6.6.m1.1.1.cmml" xref="algorithm3.6.6.m1.1.1"><csymbol cd="ambiguous" id="algorithm3.6.6.m1.1.1.1.cmml" xref="algorithm3.6.6.m1.1.1">subscript</csymbol><ci id="algorithm3.6.6.m1.1.1.2.cmml" xref="algorithm3.6.6.m1.1.1.2">𝜃</ci><cn type="integer" id="algorithm3.6.6.m1.1.1.3.cmml" xref="algorithm3.6.6.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm3.6.6.m1.1c">\theta_{1}</annotation></semantics></math>;
</div>
<div id="algorithm3.6.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm3.6.9" class="ltx_listingline"> 
</div>
<div id="algorithm3.6.10" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm3.8.1.1" class="ltx_text ltx_font_bold">Algorithm 3</span> </span>Local DPSGD</figcaption>
</figure>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.3" class="ltx_p">Algorithm <a href="#algorithm3" title="In 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> outlines the procedure for DPSGD-like
local training, where Gaussian noise of mean <math id="S6.p2.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S6.p2.1.m1.1a"><mn mathbackground="#FFFFFF" id="S6.p2.1.m1.1.1" xref="S6.p2.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S6.p2.1.m1.1b"><cn type="integer" id="S6.p2.1.m1.1.1.cmml" xref="S6.p2.1.m1.1.1">0</cn></annotation-xml></semantics></math> and standard
deviation <math id="S6.p2.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S6.p2.2.m2.1a"><mi mathbackground="#FFFFFF" id="S6.p2.2.m2.1.1" xref="S6.p2.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.p2.2.m2.1b"><ci id="S6.p2.2.m2.1.1.cmml" xref="S6.p2.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.2.m2.1c">\sigma</annotation></semantics></math> is added along with each gradient update. Algorithm
<a href="#algorithm4" title="In 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> details the typical FL client update procedure
but adds Gaussian noise to the final model <math id="S6.p2.3.m3.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S6.p2.3.m3.1a"><msub id="S6.p2.3.m3.1.1" xref="S6.p2.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.p2.3.m3.1.1.2" xref="S6.p2.3.m3.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S6.p2.3.m3.1.1.3" xref="S6.p2.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S6.p2.3.m3.1b"><apply id="S6.p2.3.m3.1.1.cmml" xref="S6.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S6.p2.3.m3.1.1.1.cmml" xref="S6.p2.3.m3.1.1">subscript</csymbol><ci id="S6.p2.3.m3.1.1.2.cmml" xref="S6.p2.3.m3.1.1.2">𝜃</ci><cn type="integer" id="S6.p2.3.m3.1.1.3.cmml" xref="S6.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.3.m3.1c">\theta_{1}</annotation></semantics></math> before it is
returned to the server. In our experiments, everything else as
described in Section <a href="#S4" title="4 Performance Of Attacks Against Vanilla Federated Learning ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> is kept the same.</p>
</div>
<figure id="algorithm4" class="ltx_float ltx_algorithm">
<div id="algorithm4.6" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="algorithm4.6.7" class="ltx_listingline">
<span id="algorithm4.6.7.1" class="ltx_text ltx_font_bold">Procedure</span> <em id="algorithm4.6.7.2" class="ltx_emph ltx_font_italic">clientUpdateSingleNoise</em> 
</div>
<div id="algorithm4.1.1" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm4.1.1.m1.1" class="ltx_Math" alttext="\theta_{1}\leftarrow\theta_{0}" display="inline"><semantics id="algorithm4.1.1.m1.1a"><mrow id="algorithm4.1.1.m1.1.1" xref="algorithm4.1.1.m1.1.1.cmml"><msub id="algorithm4.1.1.m1.1.1.2" xref="algorithm4.1.1.m1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.1.1.m1.1.1.2.2" xref="algorithm4.1.1.m1.1.1.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.1.1.m1.1.1.2.3" xref="algorithm4.1.1.m1.1.1.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.1.1.m1.1.1.1" xref="algorithm4.1.1.m1.1.1.1.cmml">←</mo><msub id="algorithm4.1.1.m1.1.1.3" xref="algorithm4.1.1.m1.1.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.1.1.m1.1.1.3.2" xref="algorithm4.1.1.m1.1.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.1.1.m1.1.1.3.3" xref="algorithm4.1.1.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algorithm4.1.1.m1.1b"><apply id="algorithm4.1.1.m1.1.1.cmml" xref="algorithm4.1.1.m1.1.1"><ci id="algorithm4.1.1.m1.1.1.1.cmml" xref="algorithm4.1.1.m1.1.1.1">←</ci><apply id="algorithm4.1.1.m1.1.1.2.cmml" xref="algorithm4.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="algorithm4.1.1.m1.1.1.2.1.cmml" xref="algorithm4.1.1.m1.1.1.2">subscript</csymbol><ci id="algorithm4.1.1.m1.1.1.2.2.cmml" xref="algorithm4.1.1.m1.1.1.2.2">𝜃</ci><cn type="integer" id="algorithm4.1.1.m1.1.1.2.3.cmml" xref="algorithm4.1.1.m1.1.1.2.3">1</cn></apply><apply id="algorithm4.1.1.m1.1.1.3.cmml" xref="algorithm4.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="algorithm4.1.1.m1.1.1.3.1.cmml" xref="algorithm4.1.1.m1.1.1.3">subscript</csymbol><ci id="algorithm4.1.1.m1.1.1.3.2.cmml" xref="algorithm4.1.1.m1.1.1.3.2">𝜃</ci><cn type="integer" id="algorithm4.1.1.m1.1.1.3.3.cmml" xref="algorithm4.1.1.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.1.1.m1.1c">\theta_{1}\leftarrow\theta_{0}</annotation></semantics></math>;
</div>
<div id="algorithm4.2.2" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm4.2.2.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)" display="inline"><semantics id="algorithm4.2.2.m1.1a"><mrow id="algorithm4.2.2.m1.1.1" xref="algorithm4.2.2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm4.2.2.m1.1.1.3" xref="algorithm4.2.2.m1.1.1.3.cmml">ℬ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.2.2.m1.1.1.2" xref="algorithm4.2.2.m1.1.1.2.cmml">←</mo><mrow id="algorithm4.2.2.m1.1.1.1.1" xref="algorithm4.2.2.m1.1.1.1.1.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.2.2.m1.1.1.1.1.2" xref="algorithm4.2.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="algorithm4.2.2.m1.1.1.1.1.1" xref="algorithm4.2.2.m1.1.1.1.1.1.cmml"><mtext mathbackground="#FFFFFF" id="algorithm4.2.2.m1.1.1.1.1.1.2" xref="algorithm4.2.2.m1.1.1.1.1.1.2a.cmml">split dataset into batches of size </mtext><mo lspace="0em" rspace="0em" id="algorithm4.2.2.m1.1.1.1.1.1.1" xref="algorithm4.2.2.m1.1.1.1.1.1.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="algorithm4.2.2.m1.1.1.1.1.1.3" xref="algorithm4.2.2.m1.1.1.1.1.1.3.cmml">B</mi></mrow><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.2.2.m1.1.1.1.1.3" xref="algorithm4.2.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm4.2.2.m1.1b"><apply id="algorithm4.2.2.m1.1.1.cmml" xref="algorithm4.2.2.m1.1.1"><ci id="algorithm4.2.2.m1.1.1.2.cmml" xref="algorithm4.2.2.m1.1.1.2">←</ci><ci id="algorithm4.2.2.m1.1.1.3.cmml" xref="algorithm4.2.2.m1.1.1.3">ℬ</ci><apply id="algorithm4.2.2.m1.1.1.1.1.1.cmml" xref="algorithm4.2.2.m1.1.1.1.1"><times id="algorithm4.2.2.m1.1.1.1.1.1.1.cmml" xref="algorithm4.2.2.m1.1.1.1.1.1.1"></times><ci id="algorithm4.2.2.m1.1.1.1.1.1.2a.cmml" xref="algorithm4.2.2.m1.1.1.1.1.1.2"><mtext mathbackground="#FFFFFF" id="algorithm4.2.2.m1.1.1.1.1.1.2.cmml" xref="algorithm4.2.2.m1.1.1.1.1.1.2">split dataset into batches of size </mtext></ci><ci id="algorithm4.2.2.m1.1.1.1.1.1.3.cmml" xref="algorithm4.2.2.m1.1.1.1.1.1.3">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.2.2.m1.1c">\mathcal{B}\leftarrow(\mbox{split dataset into batches of size }B)</annotation></semantics></math>;
</div>
<div id="algorithm4.3.3" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm4.3.3.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm4.3.3.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> local epoch <span id="algorithm4.3.3.m1.1.1.1.2" class="ltx_text ltx_font_italic">i</span> from 1 to <math id="algorithm4.3.3.m1.1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="algorithm4.3.3.m1.1.1.1.m1.1a"><mi mathbackground="#FFFFFF" id="algorithm4.3.3.m1.1.1.1.m1.1.1" xref="algorithm4.3.3.m1.1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="algorithm4.3.3.m1.1.1.1.m1.1b"><ci id="algorithm4.3.3.m1.1.1.1.m1.1.1.cmml" xref="algorithm4.3.3.m1.1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.3.3.m1.1.1.1.m1.1c">E</annotation></semantics></math> <span id="algorithm4.3.3.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm4.4.4" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
    <span id="algorithm4.4.4.m1.1.1.1" class="ltx_text ltx_markedasmath"><span id="algorithm4.4.4.m1.1.1.1.1" class="ltx_text ltx_font_bold">for</span> batch <span id="algorithm4.4.4.m1.1.1.1.2" class="ltx_text ltx_font_italic">b</span> <math id="algorithm4.4.4.m1.1.1.1.m1.1" class="ltx_Math" alttext="\in\mathcal{B}" display="inline"><semantics id="algorithm4.4.4.m1.1.1.1.m1.1a"><mrow id="algorithm4.4.4.m1.1.1.1.m1.1.1" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.cmml"><mi id="algorithm4.4.4.m1.1.1.1.m1.1.1.2" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.2.cmml"></mi><mo mathbackground="#FFFFFF" id="algorithm4.4.4.m1.1.1.1.m1.1.1.1" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm4.4.4.m1.1.1.1.m1.1.1.3" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="algorithm4.4.4.m1.1.1.1.m1.1b"><apply id="algorithm4.4.4.m1.1.1.1.m1.1.1.cmml" xref="algorithm4.4.4.m1.1.1.1.m1.1.1"><in id="algorithm4.4.4.m1.1.1.1.m1.1.1.1.cmml" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.1"></in><csymbol cd="latexml" id="algorithm4.4.4.m1.1.1.1.m1.1.1.2.cmml" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.2">absent</csymbol><ci id="algorithm4.4.4.m1.1.1.1.m1.1.1.3.cmml" xref="algorithm4.4.4.m1.1.1.1.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.4.4.m1.1.1.1.m1.1c">\in\mathcal{B}</annotation></semantics></math> <span id="algorithm4.4.4.m1.1.1.1.3" class="ltx_text ltx_font_bold">do</span></span>;
</div>
<div id="algorithm4.5.5" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="algorithm4.5.5.m1.2" class="ltx_Math" alttext="\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)" display="inline"><semantics id="algorithm4.5.5.m1.2a"><mrow id="algorithm4.5.5.m1.2.2" xref="algorithm4.5.5.m1.2.2.cmml"><msub id="algorithm4.5.5.m1.2.2.3" xref="algorithm4.5.5.m1.2.2.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.3.2" xref="algorithm4.5.5.m1.2.2.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.3.3" xref="algorithm4.5.5.m1.2.2.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.5.5.m1.2.2.2" xref="algorithm4.5.5.m1.2.2.2.cmml">←</mo><mrow id="algorithm4.5.5.m1.2.2.1" xref="algorithm4.5.5.m1.2.2.1.cmml"><msub id="algorithm4.5.5.m1.2.2.1.3" xref="algorithm4.5.5.m1.2.2.1.3.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.3.2" xref="algorithm4.5.5.m1.2.2.1.3.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.3.3" xref="algorithm4.5.5.m1.2.2.1.3.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.2" xref="algorithm4.5.5.m1.2.2.1.2.cmml">−</mo><mrow id="algorithm4.5.5.m1.2.2.1.1" xref="algorithm4.5.5.m1.2.2.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.1.3" xref="algorithm4.5.5.m1.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="algorithm4.5.5.m1.2.2.1.1.2" xref="algorithm4.5.5.m1.2.2.1.1.2.cmml">​</mo><mrow id="algorithm4.5.5.m1.2.2.1.1.4" xref="algorithm4.5.5.m1.2.2.1.1.4.cmml"><mo mathbackground="#FFFFFF" rspace="0.167em" id="algorithm4.5.5.m1.2.2.1.1.4.1" xref="algorithm4.5.5.m1.2.2.1.1.4.1.cmml">∇</mo><mi mathbackground="#FFFFFF" mathvariant="normal" id="algorithm4.5.5.m1.2.2.1.1.4.2" xref="algorithm4.5.5.m1.2.2.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="algorithm4.5.5.m1.2.2.1.1.2a" xref="algorithm4.5.5.m1.2.2.1.1.2.cmml">​</mo><mrow id="algorithm4.5.5.m1.2.2.1.1.1.1" xref="algorithm4.5.5.m1.2.2.1.1.1.2.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.5.5.m1.2.2.1.1.1.1.2" xref="algorithm4.5.5.m1.2.2.1.1.1.2.cmml">(</mo><msub id="algorithm4.5.5.m1.2.2.1.1.1.1.1" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.1.1.1.1.2" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.1.1.1.1.3" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm4.5.5.m1.2.2.1.1.1.1.3" xref="algorithm4.5.5.m1.2.2.1.1.1.2.cmml">;</mo><mi mathbackground="#FFFFFF" id="algorithm4.5.5.m1.1.1" xref="algorithm4.5.5.m1.1.1.cmml">b</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.5.5.m1.2.2.1.1.1.1.4" xref="algorithm4.5.5.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm4.5.5.m1.2b"><apply id="algorithm4.5.5.m1.2.2.cmml" xref="algorithm4.5.5.m1.2.2"><ci id="algorithm4.5.5.m1.2.2.2.cmml" xref="algorithm4.5.5.m1.2.2.2">←</ci><apply id="algorithm4.5.5.m1.2.2.3.cmml" xref="algorithm4.5.5.m1.2.2.3"><csymbol cd="ambiguous" id="algorithm4.5.5.m1.2.2.3.1.cmml" xref="algorithm4.5.5.m1.2.2.3">subscript</csymbol><ci id="algorithm4.5.5.m1.2.2.3.2.cmml" xref="algorithm4.5.5.m1.2.2.3.2">𝜃</ci><cn type="integer" id="algorithm4.5.5.m1.2.2.3.3.cmml" xref="algorithm4.5.5.m1.2.2.3.3">1</cn></apply><apply id="algorithm4.5.5.m1.2.2.1.cmml" xref="algorithm4.5.5.m1.2.2.1"><minus id="algorithm4.5.5.m1.2.2.1.2.cmml" xref="algorithm4.5.5.m1.2.2.1.2"></minus><apply id="algorithm4.5.5.m1.2.2.1.3.cmml" xref="algorithm4.5.5.m1.2.2.1.3"><csymbol cd="ambiguous" id="algorithm4.5.5.m1.2.2.1.3.1.cmml" xref="algorithm4.5.5.m1.2.2.1.3">subscript</csymbol><ci id="algorithm4.5.5.m1.2.2.1.3.2.cmml" xref="algorithm4.5.5.m1.2.2.1.3.2">𝜃</ci><cn type="integer" id="algorithm4.5.5.m1.2.2.1.3.3.cmml" xref="algorithm4.5.5.m1.2.2.1.3.3">1</cn></apply><apply id="algorithm4.5.5.m1.2.2.1.1.cmml" xref="algorithm4.5.5.m1.2.2.1.1"><times id="algorithm4.5.5.m1.2.2.1.1.2.cmml" xref="algorithm4.5.5.m1.2.2.1.1.2"></times><ci id="algorithm4.5.5.m1.2.2.1.1.3.cmml" xref="algorithm4.5.5.m1.2.2.1.1.3">𝜂</ci><apply id="algorithm4.5.5.m1.2.2.1.1.4.cmml" xref="algorithm4.5.5.m1.2.2.1.1.4"><ci id="algorithm4.5.5.m1.2.2.1.1.4.1.cmml" xref="algorithm4.5.5.m1.2.2.1.1.4.1">∇</ci><ci id="algorithm4.5.5.m1.2.2.1.1.4.2.cmml" xref="algorithm4.5.5.m1.2.2.1.1.4.2">ℓ</ci></apply><list id="algorithm4.5.5.m1.2.2.1.1.1.2.cmml" xref="algorithm4.5.5.m1.2.2.1.1.1.1"><apply id="algorithm4.5.5.m1.2.2.1.1.1.1.1.cmml" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm4.5.5.m1.2.2.1.1.1.1.1.1.cmml" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="algorithm4.5.5.m1.2.2.1.1.1.1.1.2.cmml" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1.2">𝜃</ci><cn type="integer" id="algorithm4.5.5.m1.2.2.1.1.1.1.1.3.cmml" xref="algorithm4.5.5.m1.2.2.1.1.1.1.1.3">1</cn></apply><ci id="algorithm4.5.5.m1.1.1.cmml" xref="algorithm4.5.5.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.5.5.m1.2c">\ \ \ \ \theta_{1}\leftarrow\theta_{1}-\eta\nabla\ell(\theta_{1};b)</annotation></semantics></math>;
</div>
<div id="algorithm4.6.6" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="algorithm4.6.6.1" class="ltx_text ltx_font_bold">return</span> <math id="algorithm4.6.6.m1.2" class="ltx_Math" alttext="\theta_{1}+\mathcal{N}(0,\sigma)" display="inline"><semantics id="algorithm4.6.6.m1.2a"><mrow id="algorithm4.6.6.m1.2.3" xref="algorithm4.6.6.m1.2.3.cmml"><msub id="algorithm4.6.6.m1.2.3.2" xref="algorithm4.6.6.m1.2.3.2.cmml"><mi mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.3.2.2" xref="algorithm4.6.6.m1.2.3.2.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.3.2.3" xref="algorithm4.6.6.m1.2.3.2.3.cmml">1</mn></msub><mo mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.3.1" xref="algorithm4.6.6.m1.2.3.1.cmml">+</mo><mrow id="algorithm4.6.6.m1.2.3.3" xref="algorithm4.6.6.m1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.3.3.2" xref="algorithm4.6.6.m1.2.3.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="algorithm4.6.6.m1.2.3.3.1" xref="algorithm4.6.6.m1.2.3.3.1.cmml">​</mo><mrow id="algorithm4.6.6.m1.2.3.3.3.2" xref="algorithm4.6.6.m1.2.3.3.3.1.cmml"><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.6.6.m1.2.3.3.3.2.1" xref="algorithm4.6.6.m1.2.3.3.3.1.cmml">(</mo><mn mathbackground="#FFFFFF" id="algorithm4.6.6.m1.1.1" xref="algorithm4.6.6.m1.1.1.cmml">0</mn><mo mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.3.3.3.2.2" xref="algorithm4.6.6.m1.2.3.3.3.1.cmml">,</mo><mi mathbackground="#FFFFFF" id="algorithm4.6.6.m1.2.2" xref="algorithm4.6.6.m1.2.2.cmml">σ</mi><mo mathbackground="#FFFFFF" stretchy="false" id="algorithm4.6.6.m1.2.3.3.3.2.3" xref="algorithm4.6.6.m1.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm4.6.6.m1.2b"><apply id="algorithm4.6.6.m1.2.3.cmml" xref="algorithm4.6.6.m1.2.3"><plus id="algorithm4.6.6.m1.2.3.1.cmml" xref="algorithm4.6.6.m1.2.3.1"></plus><apply id="algorithm4.6.6.m1.2.3.2.cmml" xref="algorithm4.6.6.m1.2.3.2"><csymbol cd="ambiguous" id="algorithm4.6.6.m1.2.3.2.1.cmml" xref="algorithm4.6.6.m1.2.3.2">subscript</csymbol><ci id="algorithm4.6.6.m1.2.3.2.2.cmml" xref="algorithm4.6.6.m1.2.3.2.2">𝜃</ci><cn type="integer" id="algorithm4.6.6.m1.2.3.2.3.cmml" xref="algorithm4.6.6.m1.2.3.2.3">1</cn></apply><apply id="algorithm4.6.6.m1.2.3.3.cmml" xref="algorithm4.6.6.m1.2.3.3"><times id="algorithm4.6.6.m1.2.3.3.1.cmml" xref="algorithm4.6.6.m1.2.3.3.1"></times><ci id="algorithm4.6.6.m1.2.3.3.2.cmml" xref="algorithm4.6.6.m1.2.3.3.2">𝒩</ci><interval closure="open" id="algorithm4.6.6.m1.2.3.3.3.1.cmml" xref="algorithm4.6.6.m1.2.3.3.3.2"><cn type="integer" id="algorithm4.6.6.m1.1.1.cmml" xref="algorithm4.6.6.m1.1.1">0</cn><ci id="algorithm4.6.6.m1.2.2.cmml" xref="algorithm4.6.6.m1.2.2">𝜎</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm4.6.6.m1.2c">\theta_{1}+\mathcal{N}(0,\sigma)</annotation></semantics></math>;
</div>
<div id="algorithm4.6.8" class="ltx_listingline">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="algorithm4.6.9" class="ltx_listingline"> 
</div>
<div id="algorithm4.6.10" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="algorithm4.8.1.1" class="ltx_text ltx_font_bold">Algorithm 4</span> </span>Local Single Noise Addition</figcaption>
</figure>
<figure id="S6.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_fedavg_dpsgd_nocutoff_font12.png" id="S6.F5.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/mag_fedavg_dpsgd2.png" id="S6.F5.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F5.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_fedavg_dpsgd_cutoff_font12.png" id="S6.F5.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F5.3.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S6.F5.4.2" class="ltx_text" style="font-size:90%;">Word recovery behaviour when Gaussian noise is all to local FL updates: (a) vanilla word recovery performance, (b) disparity of
magnitudes between those words that were present in the dataset
and those ’noisily’ flipped negative, (c) word recovery performance when filtering is used.</span></figcaption>
</figure>
<figure id="S6.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_fedavg_singlenoise_cutoff.png" id="S6.F6.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_fedsgd_dpsgd_cutoff.png" id="S6.F6.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S6.F6.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_fedsgd_singlenoise_cutoff.png" id="S6.F6.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S6.F6.6.3.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S6.F6.4.2" class="ltx_text" style="font-size:90%;">Word recovery results for two local DP
methods. Figure <a href="#S6.F6.sf1" title="In Figure 6 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> shows how added noise
to the final model parameters affects the attack for different
training times. With DPSGD-like training, noise levels of up to
<math id="S6.F6.3.1.m1.1" class="ltx_Math" alttext="\sigma=0.1" display="inline"><semantics id="S6.F6.3.1.m1.1b"><mrow id="S6.F6.3.1.m1.1.1" xref="S6.F6.3.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.F6.3.1.m1.1.1.2" xref="S6.F6.3.1.m1.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.F6.3.1.m1.1.1.1" xref="S6.F6.3.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.F6.3.1.m1.1.1.3" xref="S6.F6.3.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F6.3.1.m1.1c"><apply id="S6.F6.3.1.m1.1.1.cmml" xref="S6.F6.3.1.m1.1.1"><eq id="S6.F6.3.1.m1.1.1.1.cmml" xref="S6.F6.3.1.m1.1.1.1"></eq><ci id="S6.F6.3.1.m1.1.1.2.cmml" xref="S6.F6.3.1.m1.1.1.2">𝜎</ci><cn type="float" id="S6.F6.3.1.m1.1.1.3.cmml" xref="S6.F6.3.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F6.3.1.m1.1d">\sigma=0.1</annotation></semantics></math> are manageable with our magnitude threshold trick,
resulting in F1 scores close to those had we not added any noise
at all. With FedSGD updates then for noise of up to <math id="S6.F6.4.2.m2.1" class="ltx_Math" alttext="\sigma=0.0001" display="inline"><semantics id="S6.F6.4.2.m2.1b"><mrow id="S6.F6.4.2.m2.1.1" xref="S6.F6.4.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.F6.4.2.m2.1.1.2" xref="S6.F6.4.2.m2.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.F6.4.2.m2.1.1.1" xref="S6.F6.4.2.m2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.F6.4.2.m2.1.1.3" xref="S6.F6.4.2.m2.1.1.3.cmml">0.0001</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.F6.4.2.m2.1c"><apply id="S6.F6.4.2.m2.1.1.cmml" xref="S6.F6.4.2.m2.1.1"><eq id="S6.F6.4.2.m2.1.1.1.cmml" xref="S6.F6.4.2.m2.1.1.1"></eq><ci id="S6.F6.4.2.m2.1.1.2.cmml" xref="S6.F6.4.2.m2.1.1.2">𝜎</ci><cn type="float" id="S6.F6.4.2.m2.1.1.3.cmml" xref="S6.F6.4.2.m2.1.1.3">0.0001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F6.4.2.m2.1d">\sigma=0.0001</annotation></semantics></math>
added to the final parameters, we can still recover words to a
high degree of precision and recall. </span></figcaption>
</figure>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Word Recovery Performance</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.6" class="ltx_p">Figure <a href="#S6.F5.sf1" title="In Figure 5 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(a)</span></a> shows the performance of our word recovery
attack against DPSGD-like local training for different levels of
<math id="S6.SS1.p1.1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S6.SS1.p1.1.m1.1a"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.1.m1.1.1" xref="S6.SS1.p1.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.1.m1.1b"><ci id="S6.SS1.p1.1.m1.1.1.cmml" xref="S6.SS1.p1.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.1.m1.1c">\sigma</annotation></semantics></math>. For noise levels of <math id="S6.SS1.p1.2.m2.1" class="ltx_Math" alttext="\sigma=0.001" display="inline"><semantics id="S6.SS1.p1.2.m2.1a"><mrow id="S6.SS1.p1.2.m2.1.1" xref="S6.SS1.p1.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.2.m2.1.1.2" xref="S6.SS1.p1.2.m2.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.SS1.p1.2.m2.1.1.1" xref="S6.SS1.p1.2.m2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p1.2.m2.1.1.3" xref="S6.SS1.p1.2.m2.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.2.m2.1b"><apply id="S6.SS1.p1.2.m2.1.1.cmml" xref="S6.SS1.p1.2.m2.1.1"><eq id="S6.SS1.p1.2.m2.1.1.1.cmml" xref="S6.SS1.p1.2.m2.1.1.1"></eq><ci id="S6.SS1.p1.2.m2.1.1.2.cmml" xref="S6.SS1.p1.2.m2.1.1.2">𝜎</ci><cn type="float" id="S6.SS1.p1.2.m2.1.1.3.cmml" xref="S6.SS1.p1.2.m2.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.2.m2.1c">\sigma=0.001</annotation></semantics></math> or greater, it can be
seen that the F1 score drops significantly. What is happening is that
the added noise introduces more negative values in the difference of
the final layer parameters and so results in our attack extracting
more words than actually occurred in the dataset, destroying its
precision. However, one can eliminate most of these “noisily” added
words by simple inspection. Figure <a href="#S6.F5.sf2" title="In Figure 5 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(b)</span></a> graphs the sorted
magnitudes of the negative values in the difference between the final
layer parameters of <math id="S6.SS1.p1.3.m3.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S6.SS1.p1.3.m3.1a"><msub id="S6.SS1.p1.3.m3.1.1" xref="S6.SS1.p1.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.3.m3.1.1.2" xref="S6.SS1.p1.3.m3.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S6.SS1.p1.3.m3.1.1.3" xref="S6.SS1.p1.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.3.m3.1b"><apply id="S6.SS1.p1.3.m3.1.1.cmml" xref="S6.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS1.p1.3.m3.1.1.1.cmml" xref="S6.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S6.SS1.p1.3.m3.1.1.2.cmml" xref="S6.SS1.p1.3.m3.1.1.2">𝜃</ci><cn type="integer" id="S6.SS1.p1.3.m3.1.1.3.cmml" xref="S6.SS1.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.3.m3.1c">\theta_{1}</annotation></semantics></math> and <math id="S6.SS1.p1.4.m4.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="S6.SS1.p1.4.m4.1a"><msub id="S6.SS1.p1.4.m4.1.1" xref="S6.SS1.p1.4.m4.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.4.m4.1.1.2" xref="S6.SS1.p1.4.m4.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S6.SS1.p1.4.m4.1.1.3" xref="S6.SS1.p1.4.m4.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.4.m4.1b"><apply id="S6.SS1.p1.4.m4.1.1.cmml" xref="S6.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS1.p1.4.m4.1.1.1.cmml" xref="S6.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S6.SS1.p1.4.m4.1.1.2.cmml" xref="S6.SS1.p1.4.m4.1.1.2">𝜃</ci><cn type="integer" id="S6.SS1.p1.4.m4.1.1.3.cmml" xref="S6.SS1.p1.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.4.m4.1c">\theta_{0}</annotation></semantics></math>, after DPSGD-like
training with <math id="S6.SS1.p1.5.m5.2" class="ltx_Math" alttext="B=32,n_{k}=256,\mbox{ and }\sigma=0.001" display="inline"><semantics id="S6.SS1.p1.5.m5.2a"><mrow id="S6.SS1.p1.5.m5.2.2.2" xref="S6.SS1.p1.5.m5.2.2.3.cmml"><mrow id="S6.SS1.p1.5.m5.1.1.1.1" xref="S6.SS1.p1.5.m5.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.1.1.1.1.2" xref="S6.SS1.p1.5.m5.1.1.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.1.1.1.1.1" xref="S6.SS1.p1.5.m5.1.1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.1.1.1.1.3" xref="S6.SS1.p1.5.m5.1.1.1.1.3.cmml">32</mn></mrow><mo mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.3" xref="S6.SS1.p1.5.m5.2.2.3a.cmml">,</mo><mrow id="S6.SS1.p1.5.m5.2.2.2.2.2" xref="S6.SS1.p1.5.m5.2.2.2.2.3.cmml"><mrow id="S6.SS1.p1.5.m5.2.2.2.2.1.1" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.cmml"><msub id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.2" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.3" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.3.cmml">k</mi></msub><mo mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.1" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.3" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.3.cmml">256</mn></mrow><mo mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.3" xref="S6.SS1.p1.5.m5.2.2.2.2.3a.cmml">,</mo><mrow id="S6.SS1.p1.5.m5.2.2.2.2.2.2" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.cmml"><mrow id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.cmml"><mtext mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2a.cmml"> and </mtext><mo lspace="0em" rspace="0em" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.1" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.3" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.3.cmml">σ</mi></mrow><mo mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.1" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.3" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.3.cmml">0.001</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.5.m5.2b"><apply id="S6.SS1.p1.5.m5.2.2.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.p1.5.m5.2.2.3a.cmml" xref="S6.SS1.p1.5.m5.2.2.2.3">formulae-sequence</csymbol><apply id="S6.SS1.p1.5.m5.1.1.1.1.cmml" xref="S6.SS1.p1.5.m5.1.1.1.1"><eq id="S6.SS1.p1.5.m5.1.1.1.1.1.cmml" xref="S6.SS1.p1.5.m5.1.1.1.1.1"></eq><ci id="S6.SS1.p1.5.m5.1.1.1.1.2.cmml" xref="S6.SS1.p1.5.m5.1.1.1.1.2">𝐵</ci><cn type="integer" id="S6.SS1.p1.5.m5.1.1.1.1.3.cmml" xref="S6.SS1.p1.5.m5.1.1.1.1.3">32</cn></apply><apply id="S6.SS1.p1.5.m5.2.2.2.2.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.p1.5.m5.2.2.2.2.3a.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S6.SS1.p1.5.m5.2.2.2.2.1.1.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1"><eq id="S6.SS1.p1.5.m5.2.2.2.2.1.1.1.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.1"></eq><apply id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.1.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2">subscript</csymbol><ci id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.2.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.2">𝑛</ci><ci id="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.2.3">𝑘</ci></apply><cn type="integer" id="S6.SS1.p1.5.m5.2.2.2.2.1.1.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.1.1.3">256</cn></apply><apply id="S6.SS1.p1.5.m5.2.2.2.2.2.2.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2"><eq id="S6.SS1.p1.5.m5.2.2.2.2.2.2.1.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.1"></eq><apply id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2"><times id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.1.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.1"></times><ci id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2a.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2"><mtext mathbackground="#FFFFFF" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.2"> and </mtext></ci><ci id="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.2.3">𝜎</ci></apply><cn type="float" id="S6.SS1.p1.5.m5.2.2.2.2.2.2.3.cmml" xref="S6.SS1.p1.5.m5.2.2.2.2.2.2.3">0.001</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.5.m5.2c">B=32,n_{k}=256,\mbox{ and }\sigma=0.001</annotation></semantics></math>. We can
see that the more epochs the model is trained for, the more words are
extracted via our attack. Of the around 600 words extracted after 1000
epochs of training, only about 300 of them were actually present in
the dataset. On this graph, those words with higher magnitudes
correspond to the ground truth words. It can be seen that we therefore
can simply cutoff any words extracted beyond a specified magnitude
threshold. This drastically improves the performance of the attack,
see Figure <a href="#S6.F5.sf3" title="In Figure 5 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(c)</span></a>. It can be seen that even for
<math id="S6.SS1.p1.6.m6.1" class="ltx_Math" alttext="\sigma=0.1" display="inline"><semantics id="S6.SS1.p1.6.m6.1a"><mrow id="S6.SS1.p1.6.m6.1.1" xref="S6.SS1.p1.6.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p1.6.m6.1.1.2" xref="S6.SS1.p1.6.m6.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.SS1.p1.6.m6.1.1.1" xref="S6.SS1.p1.6.m6.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p1.6.m6.1.1.3" xref="S6.SS1.p1.6.m6.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p1.6.m6.1b"><apply id="S6.SS1.p1.6.m6.1.1.cmml" xref="S6.SS1.p1.6.m6.1.1"><eq id="S6.SS1.p1.6.m6.1.1.1.cmml" xref="S6.SS1.p1.6.m6.1.1.1"></eq><ci id="S6.SS1.p1.6.m6.1.1.2.cmml" xref="S6.SS1.p1.6.m6.1.1.2">𝜎</ci><cn type="float" id="S6.SS1.p1.6.m6.1.1.3.cmml" xref="S6.SS1.p1.6.m6.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p1.6.m6.1c">\sigma=0.1</annotation></semantics></math>, we now get word recovery results close to those
obtained when we added no noise at all.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.3" class="ltx_p">Figure <a href="#S6.F6.sf1" title="In Figure 6 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> shows the performance of our word
recovery attack when noise is added to the local model parameters
<math id="S6.SS1.p2.1.m1.1" class="ltx_Math" alttext="\theta_{1}" display="inline"><semantics id="S6.SS1.p2.1.m1.1a"><msub id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p2.1.m1.1.1.2" xref="S6.SS1.p2.1.m1.1.1.2.cmml">θ</mi><mn mathbackground="#FFFFFF" id="S6.SS1.p2.1.m1.1.1.3" xref="S6.SS1.p2.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><apply id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.p2.1.m1.1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S6.SS1.p2.1.m1.1.1.2.cmml" xref="S6.SS1.p2.1.m1.1.1.2">𝜃</ci><cn type="integer" id="S6.SS1.p2.1.m1.1.1.3.cmml" xref="S6.SS1.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">\theta_{1}</annotation></semantics></math> in the FedAveraging setting, with
<math id="S6.SS1.p2.2.m2.2" class="ltx_Math" alttext="n_{k}=256,\mbox{ and }B=32" display="inline"><semantics id="S6.SS1.p2.2.m2.2a"><mrow id="S6.SS1.p2.2.m2.2.2.2" xref="S6.SS1.p2.2.m2.2.2.3.cmml"><mrow id="S6.SS1.p2.2.m2.1.1.1.1" xref="S6.SS1.p2.2.m2.1.1.1.1.cmml"><msub id="S6.SS1.p2.2.m2.1.1.1.1.2" xref="S6.SS1.p2.2.m2.1.1.1.1.2.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.1.1.1.1.2.2" xref="S6.SS1.p2.2.m2.1.1.1.1.2.2.cmml">n</mi><mi mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.1.1.1.1.2.3" xref="S6.SS1.p2.2.m2.1.1.1.1.2.3.cmml">k</mi></msub><mo mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.1.1.1.1.1" xref="S6.SS1.p2.2.m2.1.1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.1.1.1.1.3" xref="S6.SS1.p2.2.m2.1.1.1.1.3.cmml">256</mn></mrow><mo mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.3" xref="S6.SS1.p2.2.m2.2.2.3a.cmml">,</mo><mrow id="S6.SS1.p2.2.m2.2.2.2.2" xref="S6.SS1.p2.2.m2.2.2.2.2.cmml"><mrow id="S6.SS1.p2.2.m2.2.2.2.2.2" xref="S6.SS1.p2.2.m2.2.2.2.2.2.cmml"><mtext mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.2.2.2" xref="S6.SS1.p2.2.m2.2.2.2.2.2.2a.cmml"> and </mtext><mo lspace="0em" rspace="0em" id="S6.SS1.p2.2.m2.2.2.2.2.2.1" xref="S6.SS1.p2.2.m2.2.2.2.2.2.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.2.2.3" xref="S6.SS1.p2.2.m2.2.2.2.2.2.3.cmml">B</mi></mrow><mo mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.2.1" xref="S6.SS1.p2.2.m2.2.2.2.2.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.2.3" xref="S6.SS1.p2.2.m2.2.2.2.2.3.cmml">32</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.2.m2.2b"><apply id="S6.SS1.p2.2.m2.2.2.3.cmml" xref="S6.SS1.p2.2.m2.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.p2.2.m2.2.2.3a.cmml" xref="S6.SS1.p2.2.m2.2.2.2.3">formulae-sequence</csymbol><apply id="S6.SS1.p2.2.m2.1.1.1.1.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1"><eq id="S6.SS1.p2.2.m2.1.1.1.1.1.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.1"></eq><apply id="S6.SS1.p2.2.m2.1.1.1.1.2.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p2.2.m2.1.1.1.1.2.1.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.2">subscript</csymbol><ci id="S6.SS1.p2.2.m2.1.1.1.1.2.2.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.2.2">𝑛</ci><ci id="S6.SS1.p2.2.m2.1.1.1.1.2.3.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.2.3">𝑘</ci></apply><cn type="integer" id="S6.SS1.p2.2.m2.1.1.1.1.3.cmml" xref="S6.SS1.p2.2.m2.1.1.1.1.3">256</cn></apply><apply id="S6.SS1.p2.2.m2.2.2.2.2.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2"><eq id="S6.SS1.p2.2.m2.2.2.2.2.1.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.1"></eq><apply id="S6.SS1.p2.2.m2.2.2.2.2.2.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.2"><times id="S6.SS1.p2.2.m2.2.2.2.2.2.1.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.2.1"></times><ci id="S6.SS1.p2.2.m2.2.2.2.2.2.2a.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.2.2"><mtext mathbackground="#FFFFFF" id="S6.SS1.p2.2.m2.2.2.2.2.2.2.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.2.2"> and </mtext></ci><ci id="S6.SS1.p2.2.m2.2.2.2.2.2.3.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.2.3">𝐵</ci></apply><cn type="integer" id="S6.SS1.p2.2.m2.2.2.2.2.3.cmml" xref="S6.SS1.p2.2.m2.2.2.2.2.3">32</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.2.m2.2c">n_{k}=256,\mbox{ and }B=32</annotation></semantics></math>. When <math id="S6.SS1.p2.3.m3.1" class="ltx_Math" alttext="\sigma\geq 0.01" display="inline"><semantics id="S6.SS1.p2.3.m3.1a"><mrow id="S6.SS1.p2.3.m3.1.1" xref="S6.SS1.p2.3.m3.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS1.p2.3.m3.1.1.2" xref="S6.SS1.p2.3.m3.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.SS1.p2.3.m3.1.1.1" xref="S6.SS1.p2.3.m3.1.1.1.cmml">≥</mo><mn mathbackground="#FFFFFF" id="S6.SS1.p2.3.m3.1.1.3" xref="S6.SS1.p2.3.m3.1.1.3.cmml">0.01</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.3.m3.1b"><apply id="S6.SS1.p2.3.m3.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1"><geq id="S6.SS1.p2.3.m3.1.1.1.cmml" xref="S6.SS1.p2.3.m3.1.1.1"></geq><ci id="S6.SS1.p2.3.m3.1.1.2.cmml" xref="S6.SS1.p2.3.m3.1.1.2">𝜎</ci><cn type="float" id="S6.SS1.p2.3.m3.1.1.3.cmml" xref="S6.SS1.p2.3.m3.1.1.3">0.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.3.m3.1c">\sigma\geq 0.01</annotation></semantics></math>, it can be
seen that the performance drops drastically<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>Note that in
DPSGD the added noise is multiplied by the learning rate <math id="footnote4.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="footnote4.m1.1b"><mi mathbackground="#FFFFFF" id="footnote4.m1.1.1" xref="footnote4.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="footnote4.m1.1c"><ci id="footnote4.m1.1.1.cmml" xref="footnote4.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m1.1d">\eta</annotation></semantics></math>, and
so this factor needs to be taken into account when comparing the
<math id="footnote4.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="footnote4.m2.1b"><mi mathbackground="#FFFFFF" id="footnote4.m2.1.1" xref="footnote4.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="footnote4.m2.1c"><ci id="footnote4.m2.1.1.cmml" xref="footnote4.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m2.1d">\sigma</annotation></semantics></math> values used in DPSGD above and with single noise addition.
This means added noise with standard deviation <math id="footnote4.m3.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="footnote4.m3.1b"><mi mathbackground="#FFFFFF" id="footnote4.m3.1.1" xref="footnote4.m3.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="footnote4.m3.1c"><ci id="footnote4.m3.1.1.cmml" xref="footnote4.m3.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m3.1d">\sigma</annotation></semantics></math> for DPSGD
corresponds roughly to a standard deviation of
<math id="footnote4.m4.1" class="ltx_Math" alttext="\eta\sqrt{EB}\sigma" display="inline"><semantics id="footnote4.m4.1b"><mrow id="footnote4.m4.1.1" xref="footnote4.m4.1.1.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m4.1.1.2" xref="footnote4.m4.1.1.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="footnote4.m4.1.1.1" xref="footnote4.m4.1.1.1.cmml">​</mo><msqrt id="footnote4.m4.1.1.3" xref="footnote4.m4.1.1.3.cmml"><mrow id="footnote4.m4.1.1.3.2" xref="footnote4.m4.1.1.3.2.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m4.1.1.3.2.2" xref="footnote4.m4.1.1.3.2.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="footnote4.m4.1.1.3.2.1" xref="footnote4.m4.1.1.3.2.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="footnote4.m4.1.1.3.2.3" xref="footnote4.m4.1.1.3.2.3.cmml">B</mi></mrow></msqrt><mo lspace="0em" rspace="0em" id="footnote4.m4.1.1.1b" xref="footnote4.m4.1.1.1.cmml">​</mo><mi mathbackground="#FFFFFF" id="footnote4.m4.1.1.4" xref="footnote4.m4.1.1.4.cmml">σ</mi></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m4.1c"><apply id="footnote4.m4.1.1.cmml" xref="footnote4.m4.1.1"><times id="footnote4.m4.1.1.1.cmml" xref="footnote4.m4.1.1.1"></times><ci id="footnote4.m4.1.1.2.cmml" xref="footnote4.m4.1.1.2">𝜂</ci><apply id="footnote4.m4.1.1.3.cmml" xref="footnote4.m4.1.1.3"><root id="footnote4.m4.1.1.3a.cmml" xref="footnote4.m4.1.1.3"></root><apply id="footnote4.m4.1.1.3.2.cmml" xref="footnote4.m4.1.1.3.2"><times id="footnote4.m4.1.1.3.2.1.cmml" xref="footnote4.m4.1.1.3.2.1"></times><ci id="footnote4.m4.1.1.3.2.2.cmml" xref="footnote4.m4.1.1.3.2.2">𝐸</ci><ci id="footnote4.m4.1.1.3.2.3.cmml" xref="footnote4.m4.1.1.3.2.3">𝐵</ci></apply></apply><ci id="footnote4.m4.1.1.4.cmml" xref="footnote4.m4.1.1.4">𝜎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m4.1d">\eta\sqrt{EB}\sigma</annotation></semantics></math> with single noise addition. For
<math id="footnote4.m5.1" class="ltx_Math" alttext="\eta=0.001" display="inline"><semantics id="footnote4.m5.1b"><mrow id="footnote4.m5.1.1" xref="footnote4.m5.1.1.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m5.1.1.2" xref="footnote4.m5.1.1.2.cmml">η</mi><mo mathbackground="#FFFFFF" id="footnote4.m5.1.1.1" xref="footnote4.m5.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="footnote4.m5.1.1.3" xref="footnote4.m5.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m5.1c"><apply id="footnote4.m5.1.1.cmml" xref="footnote4.m5.1.1"><eq id="footnote4.m5.1.1.1.cmml" xref="footnote4.m5.1.1.1"></eq><ci id="footnote4.m5.1.1.2.cmml" xref="footnote4.m5.1.1.2">𝜂</ci><cn type="float" id="footnote4.m5.1.1.3.cmml" xref="footnote4.m5.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m5.1d">\eta=0.001</annotation></semantics></math>, <math id="footnote4.m6.1" class="ltx_Math" alttext="E=1000" display="inline"><semantics id="footnote4.m6.1b"><mrow id="footnote4.m6.1.1" xref="footnote4.m6.1.1.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m6.1.1.2" xref="footnote4.m6.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="footnote4.m6.1.1.1" xref="footnote4.m6.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="footnote4.m6.1.1.3" xref="footnote4.m6.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m6.1c"><apply id="footnote4.m6.1.1.cmml" xref="footnote4.m6.1.1"><eq id="footnote4.m6.1.1.1.cmml" xref="footnote4.m6.1.1.1"></eq><ci id="footnote4.m6.1.1.2.cmml" xref="footnote4.m6.1.1.2">𝐸</ci><cn type="integer" id="footnote4.m6.1.1.3.cmml" xref="footnote4.m6.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m6.1d">E=1000</annotation></semantics></math>, <math id="footnote4.m7.1" class="ltx_Math" alttext="B=32" display="inline"><semantics id="footnote4.m7.1b"><mrow id="footnote4.m7.1.1" xref="footnote4.m7.1.1.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m7.1.1.2" xref="footnote4.m7.1.1.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="footnote4.m7.1.1.1" xref="footnote4.m7.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="footnote4.m7.1.1.3" xref="footnote4.m7.1.1.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m7.1c"><apply id="footnote4.m7.1.1.cmml" xref="footnote4.m7.1.1"><eq id="footnote4.m7.1.1.1.cmml" xref="footnote4.m7.1.1.1"></eq><ci id="footnote4.m7.1.1.2.cmml" xref="footnote4.m7.1.1.2">𝐵</ci><cn type="integer" id="footnote4.m7.1.1.3.cmml" xref="footnote4.m7.1.1.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m7.1d">B=32</annotation></semantics></math>, <math id="footnote4.m8.1" class="ltx_Math" alttext="\sigma=0.1" display="inline"><semantics id="footnote4.m8.1b"><mrow id="footnote4.m8.1.1" xref="footnote4.m8.1.1.cmml"><mi mathbackground="#FFFFFF" id="footnote4.m8.1.1.2" xref="footnote4.m8.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="footnote4.m8.1.1.1" xref="footnote4.m8.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="footnote4.m8.1.1.3" xref="footnote4.m8.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m8.1c"><apply id="footnote4.m8.1.1.cmml" xref="footnote4.m8.1.1"><eq id="footnote4.m8.1.1.1.cmml" xref="footnote4.m8.1.1.1"></eq><ci id="footnote4.m8.1.1.2.cmml" xref="footnote4.m8.1.1.2">𝜎</ci><cn type="float" id="footnote4.m8.1.1.3.cmml" xref="footnote4.m8.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m8.1d">\sigma=0.1</annotation></semantics></math> the corresponding
single noise addition standard deviation is 0.018.</span></span></span>, even when we
use the magnitude threshold trick described previously. With FedSGD
(Figures <a href="#S6.F6.sf2" title="In Figure 6 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a> and <a href="#S6.F6.sf3" title="In Figure 6 ‣ 6 Performance Of Our Attacks Against Federated Learning with Local DP ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(c)</span></a>), we
see that with DPSGD-like training, these levels of noise are
manageable, but for single noise addition, there are only so many
words that are recoverable before being lost in the comparatively
large amounts of noise added.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">For comparison, in the FL literature on differential privacy, the
addition of Gaussian noise with standard deviation no more than around
0.001 (and often much less) is typically considered, and is only added
after the update has been transmitted to the coordinating FL server.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Sentence Reconstruction Performance</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.2" class="ltx_p">Figure <a href="#S8.F7" title="Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the measured sentence reconstruction performance
with both DPSGD-like training (Figures <a href="#S8.F7.sf1" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(a)</span></a> and
<a href="#S8.F7.sf2" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(b)</span></a>) and when noise is added to the final
parameters of the model (Figures <a href="#S8.F7.sf3" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(c)</span></a> and
<a href="#S8.F7.sf4" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(d)</span></a>). By removing the noisily added words and running our
sentence reconstruction attack, we get results close to those had we
not added any noise for up to <math id="S6.SS2.p1.1.m1.1" class="ltx_Math" alttext="\sigma=0.1" display="inline"><semantics id="S6.SS2.p1.1.m1.1a"><mrow id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS2.p1.1.m1.1.1.2" xref="S6.SS2.p1.1.m1.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.SS2.p1.1.m1.1.1.1" xref="S6.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS2.p1.1.m1.1.1.3" xref="S6.SS2.p1.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.1b"><apply id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1"><eq id="S6.SS2.p1.1.m1.1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1.1"></eq><ci id="S6.SS2.p1.1.m1.1.1.2.cmml" xref="S6.SS2.p1.1.m1.1.1.2">𝜎</ci><cn type="float" id="S6.SS2.p1.1.m1.1.1.3.cmml" xref="S6.SS2.p1.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.1c">\sigma=0.1</annotation></semantics></math>. For the single noise
addition method, as these levels of noise are not calibrated,
<math id="S6.SS2.p1.2.m2.1" class="ltx_Math" alttext="\sigma=0.1" display="inline"><semantics id="S6.SS2.p1.2.m2.1a"><mrow id="S6.SS2.p1.2.m2.1.1" xref="S6.SS2.p1.2.m2.1.1.cmml"><mi mathbackground="#FFFFFF" id="S6.SS2.p1.2.m2.1.1.2" xref="S6.SS2.p1.2.m2.1.1.2.cmml">σ</mi><mo mathbackground="#FFFFFF" id="S6.SS2.p1.2.m2.1.1.1" xref="S6.SS2.p1.2.m2.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S6.SS2.p1.2.m2.1.1.3" xref="S6.SS2.p1.2.m2.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.2.m2.1b"><apply id="S6.SS2.p1.2.m2.1.1.cmml" xref="S6.SS2.p1.2.m2.1.1"><eq id="S6.SS2.p1.2.m2.1.1.1.cmml" xref="S6.SS2.p1.2.m2.1.1.1"></eq><ci id="S6.SS2.p1.2.m2.1.1.2.cmml" xref="S6.SS2.p1.2.m2.1.1.2">𝜎</ci><cn type="float" id="S6.SS2.p1.2.m2.1.1.3.cmml" xref="S6.SS2.p1.2.m2.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.2.m2.1c">\sigma=0.1</annotation></semantics></math> is enough to destroy the quality of reconstructions,
however these levels of noise also destroy any model utility.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Additional Material</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">The code for all of the attacks here, the LSTM model and the datasets
used are all publicly available on github
<a target="_blank" href="https://github.com/namilus/nwp-fedlearning" title="" class="ltx_ref ltx_href ltx_font_typewriter">here</a>.</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Summary And Conclusions</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">In this paper we introduce two local reconstruction attacks against
federated learning when used to train natural language text models.
We find that previously proposed attacks (DLG and its variants)
targeting image data are ineffective for text data and so new methods
of attack tailored to text data are necessary. Our attacks are simple
to carry out, efficient, and highly effective. We illustrate their
effectiveness against the next word prediction model used in Google’s
GBoard app, a widely used mobile keyboard app (with <math id="S8.p1.1.m1.1" class="ltx_Math" alttext="&gt;5" display="inline"><semantics id="S8.p1.1.m1.1a"><mrow id="S8.p1.1.m1.1.1" xref="S8.p1.1.m1.1.1.cmml"><mi id="S8.p1.1.m1.1.1.2" xref="S8.p1.1.m1.1.1.2.cmml"></mi><mo mathbackground="#FFFFFF" id="S8.p1.1.m1.1.1.1" xref="S8.p1.1.m1.1.1.1.cmml">&gt;</mo><mn mathbackground="#FFFFFF" id="S8.p1.1.m1.1.1.3" xref="S8.p1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S8.p1.1.m1.1b"><apply id="S8.p1.1.m1.1.1.cmml" xref="S8.p1.1.m1.1.1"><gt id="S8.p1.1.m1.1.1.1.cmml" xref="S8.p1.1.m1.1.1.1"></gt><csymbol cd="latexml" id="S8.p1.1.m1.1.1.2.cmml" xref="S8.p1.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S8.p1.1.m1.1.1.3.cmml" xref="S8.p1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.p1.1.m1.1c">&gt;5</annotation></semantics></math> Billion
downloads) that has been an early adopter of federated learning for
production use. We demonstrate that the words a user types on their
mobile handset, e.g. when sending text messages, can be recovered with
high accuracy under a wide range of conditions and that
counter-measures such a use of mini-batches and adding local noise are
ineffective. We also show that the word order (and so the actual
sentences typed) can be reconstructed with high fidelity. This raises
obvious privacy concerns, particularly since GBoard is in production
use.</p>
</div>
<div id="S8.p2" class="ltx_para">
<p id="S8.p2.1" class="ltx_p">Secure multi-party computation methods such as Secure Aggregation and
also methods such as Homomorphic Encryption and Trusted Execution
Environments are potential defences that can improve privacy, but
these can be difficult to implement in practice. Secure Aggregation
requires users to trust that the server is honest, despite the fact
that FL aims to avoid the need for such trust. Homomorphic Encryption
implementations that are sufficiently efficient to allow large-scale
production use are currently lacking.</p>
</div>
<div id="S8.p3" class="ltx_para">
<p id="S8.p3.1" class="ltx_p">On a more positive note, the privacy situation may not be quite as bad
as it seems given these reconstruction attacks. Firstly, it is not
the raw sentences typed by a user that are reconstructed in our
attacks but rather the sentences after they have been mapped to tokens
in a text model dictionary. Words which are not in the dictionary are
mapped to a special <span id="S8.p3.1.1" class="ltx_text ltx_font_typewriter">&lt;UNK&gt;</span> token. This means that the
reconstructed text is effectively redacted, with words not in the
dictionary having been masked out. This suggests that a fruitful
direction for future privacy research on FL for natural language
models may well lie in taking a closer look at the specification of
the dictionary used. Secondly, we also note that changing from a
word-based text model to a character-based one would likely make our
attacks much harder to perform.</p>
</div>
<figure id="S8.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S8.F7.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_e100_dpsgd0_01.png" id="S8.F7.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S8.F7.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S8.F7.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_e100_dpsgd0_1.png" id="S8.F7.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S8.F7.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S8.F7.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_e100_singlenoise0_01.png" id="S8.F7.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S8.F7.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S8.F7.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2210.16947/assets/plots/f1_leven_e100_singlenoise0_1.png" id="S8.F7.sf4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="449" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S8.F7.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S8.F7.4.2.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="S8.F7.2.1" class="ltx_text" style="font-size:90%;">Sentence reconstruction performance with local DP for
FedAveraging. The top two Figures (<a href="#S8.F7.sf1" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(a)</span></a> and
<a href="#S8.F7.sf2" title="In Figure 7 ‣ 8 Summary And Conclusions ‣ Two Models are Better than One: Federated Learning Is Not Private For Google GBoard Next Word Prediction" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7(b)</span></a>) show the reconstruction performance for
different datasets colour coded by their size for DPSGD-like
training, with <math id="S8.F7.2.1.m1.2" class="ltx_Math" alttext="E=100,\ B=32" display="inline"><semantics id="S8.F7.2.1.m1.2b"><mrow id="S8.F7.2.1.m1.2.2.2" xref="S8.F7.2.1.m1.2.2.3.cmml"><mrow id="S8.F7.2.1.m1.1.1.1.1" xref="S8.F7.2.1.m1.1.1.1.1.cmml"><mi mathbackground="#FFFFFF" id="S8.F7.2.1.m1.1.1.1.1.2" xref="S8.F7.2.1.m1.1.1.1.1.2.cmml">E</mi><mo mathbackground="#FFFFFF" id="S8.F7.2.1.m1.1.1.1.1.1" xref="S8.F7.2.1.m1.1.1.1.1.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S8.F7.2.1.m1.1.1.1.1.3" xref="S8.F7.2.1.m1.1.1.1.1.3.cmml">100</mn></mrow><mo mathbackground="#FFFFFF" rspace="0.617em" id="S8.F7.2.1.m1.2.2.2.3" xref="S8.F7.2.1.m1.2.2.3a.cmml">,</mo><mrow id="S8.F7.2.1.m1.2.2.2.2" xref="S8.F7.2.1.m1.2.2.2.2.cmml"><mi mathbackground="#FFFFFF" id="S8.F7.2.1.m1.2.2.2.2.2" xref="S8.F7.2.1.m1.2.2.2.2.2.cmml">B</mi><mo mathbackground="#FFFFFF" id="S8.F7.2.1.m1.2.2.2.2.1" xref="S8.F7.2.1.m1.2.2.2.2.1.cmml">=</mo><mn mathbackground="#FFFFFF" id="S8.F7.2.1.m1.2.2.2.2.3" xref="S8.F7.2.1.m1.2.2.2.2.3.cmml">32</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S8.F7.2.1.m1.2c"><apply id="S8.F7.2.1.m1.2.2.3.cmml" xref="S8.F7.2.1.m1.2.2.2"><csymbol cd="ambiguous" id="S8.F7.2.1.m1.2.2.3a.cmml" xref="S8.F7.2.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S8.F7.2.1.m1.1.1.1.1.cmml" xref="S8.F7.2.1.m1.1.1.1.1"><eq id="S8.F7.2.1.m1.1.1.1.1.1.cmml" xref="S8.F7.2.1.m1.1.1.1.1.1"></eq><ci id="S8.F7.2.1.m1.1.1.1.1.2.cmml" xref="S8.F7.2.1.m1.1.1.1.1.2">𝐸</ci><cn type="integer" id="S8.F7.2.1.m1.1.1.1.1.3.cmml" xref="S8.F7.2.1.m1.1.1.1.1.3">100</cn></apply><apply id="S8.F7.2.1.m1.2.2.2.2.cmml" xref="S8.F7.2.1.m1.2.2.2.2"><eq id="S8.F7.2.1.m1.2.2.2.2.1.cmml" xref="S8.F7.2.1.m1.2.2.2.2.1"></eq><ci id="S8.F7.2.1.m1.2.2.2.2.2.cmml" xref="S8.F7.2.1.m1.2.2.2.2.2">𝐵</ci><cn type="integer" id="S8.F7.2.1.m1.2.2.2.2.3.cmml" xref="S8.F7.2.1.m1.2.2.2.2.3">32</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.F7.2.1.m1.2d">E=100,\ B=32</annotation></semantics></math>. Here we see no real effect in
our results compared to the noise-free case. The bottom two figures show the effect of single
noise addition on sentence reconstruction for the same setting. </span></figcaption>
</figure>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Gboard – the Google Keyboard.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://play.google.com/store/apps/details?id=com.google.android.inputmethod.latin" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://play.google.com/store/apps/details?id=com.google.android.inputmethod.latin</a>,
2022.

</span>
<span class="ltx_bibblock">Accessed: 2022-10-24.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Martin Abadi, Andy Chu, Ian Goodfellow, H Brendan McMahan, Ilya Mironov, Kunal
Talwar, and Li Zhang.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2016 ACM SIGSAC conference on computer and
communications security</span>, 2016.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
James Ball.

</span>
<span class="ltx_bibblock">NSA collects millions of text messages daily in ’untargeted’ global
sweep, 2014.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Franziska Boenisch, Adam Dziedzic, Roei Schuster, Ali Shahin Shamsabadi, Ilia
Shumailov, and Nicolas Papernot.

</span>
<span class="ltx_bibblock">When the curious abandon honesty: Federated learning is not private.

</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2112.02918</span>, 2021.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H Brendan
McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.

</span>
<span class="ltx_bibblock">Practical secure aggregation for federated learning on user-held
data.

</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1611.04482</span>, 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Nicholas Carlini, Chang Liu, Úlfar Erlingsson, Jernej Kos, and Dawn Song.

</span>
<span class="ltx_bibblock">The secret sharer: Evaluating and testing unintended memorization in
neural networks.

</span>
<span class="ltx_bibblock">In <span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">Proceedings of the 28th USENIX Conference on Security
Symposium</span>, SEC’19, page 267–284, USA, 2019. USENIX Association.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Nicholas Carlini, Florian Tramer, Eric Wallace, Matthew Jagielski, Ariel
Herbert-Voss, Katherine Lee, Adam Roberts, Tom Brown, Dawn Song, Ulfar
Erlingsson, et al.

</span>
<span class="ltx_bibblock">Extracting training data from large language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">30th USENIX Security Symposium (USENIX Security 21)</span>, pages
2633–2650, 2021.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Jieren Deng, Yijue Wang, Ji Li, Chao Shang, Hang Liu, Sanguthevar Rajasekaran,
and Caiwen Ding.

</span>
<span class="ltx_bibblock">Tag: Gradient attack on transformer-based language models.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2103.06819</span>, 2021.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Jonas Geiping, Hartmut Bauermeister, Hannah Dröge, and Michael Moeller.

</span>
<span class="ltx_bibblock">Inverting gradients - how easy is it to break privacy in federated
learning?

</span>
<span class="ltx_bibblock">In <span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 2020.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Klaus Greff, Rupesh K. Srivastava, Jan Koutnik, Bas R. Steunebrink, and Jurgen
Schmidhuber.

</span>
<span class="ltx_bibblock">Lstm: A search space odyssey.

</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</span>,
28(10):2222–2232, Oct 2017.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Andrew Hard, Kanishka Rao, Rajiv Mathews, Swaroop Ramaswamy, Françoise
Beaufays, Sean Augenstein, Hubert Eichner, Chloé Kiddon, and Daniel
Ramage.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1811.03604</span>, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Xiao Jin, Pin-Yu Chen, Chia-Yi Hsu, Chia-Mu Yu, and Tianyi Chen.

</span>
<span class="ltx_bibblock">Catastrophic data leakage in vertical federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 34, 2021.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Shuang Song, Om Thakkar, Abhradeep Thakurta,
and Zheng Xu.

</span>
<span class="ltx_bibblock">Practical and private (deep) learning without sampling or shuffling.

</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2103.00039</span>, 2021.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Douglas J. Leith.

</span>
<span class="ltx_bibblock">Mobile Handset Privacy: Measuring The Data iOS and Android Send to
Apple And Google.

</span>
<span class="ltx_bibblock">In <span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">Proc Securecomm</span>, 2021.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Douglas J. Leith and Stephen Farrell.

</span>
<span class="ltx_bibblock">Contact Tracing App Privacy: What Data Is Shared By Europe’s GAEN
Contact Tracing Apps.

</span>
<span class="ltx_bibblock">In <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">Proc IEEE INFOCOM</span>, 2021.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
A. Marzal and E. Vidal.

</span>
<span class="ltx_bibblock">Computation of normalized edit distance and applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">IEEE Transactions on Pattern Analysis and Machine Intelligence</span>,
15(9):926–932, 1993.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera
y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence And Statistics</span>, 2017.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
H. Brendan McMahan, Daniel Ramage, Kunal Talwar, and Li Zhang.

</span>
<span class="ltx_bibblock">Learning differentially private recurrent language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2018.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Daniel R. O’Day and Ricardo A. Calix.

</span>
<span class="ltx_bibblock">Text message corpus: Applying natural language processing to mobile
device forensics.

</span>
<span class="ltx_bibblock">In <span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">2013 IEEE International Conference on Multimedia and Expo
Workshops (ICMEW)</span>, 2013.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Xudong Pan, Mi Zhang, Yifan Yan, Jiaming Zhu, and Min Yang.

</span>
<span class="ltx_bibblock">Theory-oriented deep leakage from gradients via linear equation
solver.

</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2010.13356</span>, 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Dario Pasquini, Danilo Francati, and Giuseppe Ateniese.

</span>
<span class="ltx_bibblock">Eluding secure aggregation in federated learning via model
inconsistency.

</span>
<span class="ltx_bibblock"><span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2111.07380</span>, 2021.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Ofir Press and Lior Wolf.

</span>
<span class="ltx_bibblock">Using the output embedding to improve language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">Proceedings of the 15th Conference of the European Chapter
of the Association for Computational Linguistics: Volume 2, Short Papers</span>,
pages 157–163, Valencia, Spain, April 2017. Association for Computational
Linguistics.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Ł ukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 2017.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Yijue Wang, Jieren Deng, Dan Guo, Chenghong Wang, Xianrui Meng, Hang Liu,
Caiwen Ding, and Sanguthevar Rajasekaran.

</span>
<span class="ltx_bibblock">Sapag: A self-adaptive privacy attack from gradients.

</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2009.06228</span>, 2020.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Hongxu Yin, Arun Mallya, Arash Vahdat, Jose M Alvarez, Jan Kautz, and Pavlo
Molchanov.

</span>
<span class="ltx_bibblock">See through gradients: Image batch recovery via gradinversion.

</span>
<span class="ltx_bibblock">In <span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span>, pages 16337–16346, 2021.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Bo Zhao, Konda Reddy Mopuri, and Hakan Bilen.

</span>
<span class="ltx_bibblock">idlg: Improved deep leakage from gradients.

</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2001.02610</span>, 2020.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Junyi Zhu and Matthew Blaschko.

</span>
<span class="ltx_bibblock">R-gap: Recursive gradient attack on privacy.

</span>
<span class="ltx_bibblock"><span id="bib.bib27.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2010.07733</span>, 2020.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Ligeng Zhu, Zhijian Liu, , and Song Han.

</span>
<span class="ltx_bibblock">Deep leakage from gradients.

</span>
<span class="ltx_bibblock">In <span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">Annual Conference on Neural Information Processing Systems
(NeurIPS)</span>, 2019.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2210.16945" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2210.16947" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2210.16947">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2210.16947" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2210.16948" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 02:30:48 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
