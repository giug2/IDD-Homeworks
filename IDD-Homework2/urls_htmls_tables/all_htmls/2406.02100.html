<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2406.02100] Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data</title><meta property="og:description" content="Large Language Models (LLMs) have shown excellent performance in language understanding, text generation, code synthesis, and many other tasks, while they still struggle in complex multi-step reasoning problems, such a…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2406.02100">

<!--Generated on Fri Jul  5 18:36:21 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document">
<h1 class="ltx_title ltx_title_document">Exploring Mathematical Extrapolation of 
<br class="ltx_break">Large Language Models with Synthetic Data</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Haolong Li
<br class="ltx_break">Tongji Universiy
<br class="ltx_break"><span id="id3.3.id1" class="ltx_text ltx_font_typewriter">furlongli322@gmail.com</span>
&amp;Yu Ma 
<br class="ltx_break">Seed Foundation, ByteDance 
<br class="ltx_break"><span id="id4.4.id2" class="ltx_text ltx_font_typewriter">mayu.1231@bytedance.com</span>
&amp;Yinqi Zhang<sup id="id5.5.id3" class="ltx_sup">∗</sup> 
<br class="ltx_break">East China Normal University
<br class="ltx_break"><span id="id6.6.id4" class="ltx_text ltx_font_typewriter">zhang.inch@gmail.com
<br class="ltx_break"><span id="id6.6.id4.1" class="ltx_ERROR undefined">\AND</span></span>Chen Ye<sup id="id7.7.id5" class="ltx_sup">†</sup> 
<br class="ltx_break">ESSC Lab, Tongji Universiy
<br class="ltx_break"><span id="id8.8.id6" class="ltx_text ltx_font_typewriter">yechen@tongji.edu.cn
<br class="ltx_break"></span>&amp;Jie Chen 
<br class="ltx_break">Seed Foundation, ByteDance
<br class="ltx_break"><span id="id9.9.id7" class="ltx_text ltx_font_typewriter">chenjiexjtu@gmail.com</span>
</span><span class="ltx_author_notes">Work done during internship at ByteDance.Corresponding AuthorProject Leader</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id10.id1" class="ltx_p">Large Language Models (LLMs) have shown excellent performance in language understanding, text generation, code synthesis, and many other tasks, while they still struggle in complex multi-step reasoning problems, such as mathematical reasoning. In this paper, through a newly proposed arithmetical puzzle problem, we show that the model can perform well on multi-step reasoning tasks via fine-tuning on high-quality synthetic data. Experimental results with the open-llama-3B model on three different test datasets show that not only the model can reach a zero-shot pass@1 at 0.44 on the in-domain dataset, it also demonstrates certain generalization capabilities on the out-of-domain datasets. Specifically, this paper has designed two out-of-domain datasets in the form of extending the numerical range and the composing components of the arithmetical puzzle problem separately. The fine-tuned models have shown encouraging performance on these two far more difficult tasks with the zero-shot pass@1 at 0.33 and 0.35, respectively.</p>
</div>
<div id="p1" class="ltx_para ltx_noindent">
<div id="p1.2" class="ltx_block ltx_align_bottom">
<p id="p1.2.3" class="ltx_p"><span id="p1.2.3.1" class="ltx_text ltx_font_bold">Exploring Mathematical Extrapolation of 
<br class="ltx_break">Large Language Models with Synthetic Data</span></p>
<br class="ltx_break ltx_centering">
<p id="p1.1.1" class="ltx_p ltx_align_center" style="width:433.6pt;"><span id="p1.1.1.2" class="ltx_text ltx_inline-block" style="width:0.0pt;">
<span id="p1.1.1.2.1" class="ltx_tabular ltx_align_top">
<span id="p1.1.1.2.1.1" class="ltx_tr">
<span id="p1.1.1.2.1.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.2.1.1.1.1" class="ltx_text ltx_font_bold">Haolong Li<span id="p1.1.1.2.1.1.1.1.1" class="ltx_note ltx_role_thanks"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>Work done during internship at ByteDance.</span></span></span></span></span></span>
<span id="p1.1.1.2.1.2" class="ltx_tr">
<span id="p1.1.1.2.1.2.1" class="ltx_td ltx_align_center">Tongji Universiy</span></span>
<span id="p1.1.1.2.1.3" class="ltx_tr">
<span id="p1.1.1.2.1.3.1" class="ltx_td ltx_align_center"><span id="p1.1.1.2.1.3.1.1" class="ltx_text ltx_font_typewriter">furlongli322@gmail.com</span></span></span>
</span></span>                      <span id="p1.1.1.3" class="ltx_text ltx_inline-block" style="width:0.0pt;">
<span id="p1.1.1.3.1" class="ltx_tabular ltx_align_top">
<span id="p1.1.1.3.1.1" class="ltx_tr">
<span id="p1.1.1.3.1.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.3.1.1.1.1" class="ltx_text ltx_font_bold">Yu Ma</span></span></span>
<span id="p1.1.1.3.1.2" class="ltx_tr">
<span id="p1.1.1.3.1.2.1" class="ltx_td ltx_align_center">Seed Foundation, ByteDance</span></span>
<span id="p1.1.1.3.1.3" class="ltx_tr">
<span id="p1.1.1.3.1.3.1" class="ltx_td ltx_align_center"><span id="p1.1.1.3.1.3.1.1" class="ltx_text ltx_font_typewriter">mayu.1231@bytedance.com</span></span></span>
</span></span>                      <span id="p1.1.1.1" class="ltx_text ltx_inline-block" style="width:0.0pt;">
<span id="p1.1.1.1.1" class="ltx_tabular ltx_align_top">
<span id="p1.1.1.1.1.1" class="ltx_tr">
<span id="p1.1.1.1.1.1.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Yinqi Zhang<sup id="p1.1.1.1.1.1.1.1.1" class="ltx_sup"><span id="p1.1.1.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium">∗</span></sup></span></span></span>
<span id="p1.1.1.1.1.2" class="ltx_tr">
<span id="p1.1.1.1.1.2.1" class="ltx_td ltx_align_center">East China Normal University</span></span>
<span id="p1.1.1.1.1.3" class="ltx_tr">
<span id="p1.1.1.1.1.3.1" class="ltx_td ltx_align_center"><span id="p1.1.1.1.1.3.1.1" class="ltx_text ltx_font_typewriter">zhang.inch@gmail.com</span></span></span>
</span></span></p>
<br class="ltx_break ltx_centering">
<p id="p1.2.2" class="ltx_p ltx_align_center" style="width:433.6pt;"><span id="p1.2.2.1" class="ltx_text ltx_inline-block" style="width:0.0pt;">
<span id="p1.2.2.1.1" class="ltx_tabular ltx_align_top">
<span id="p1.2.2.1.1.1" class="ltx_tr">
<span id="p1.2.2.1.1.1.1" class="ltx_td ltx_align_center"><span id="p1.2.2.1.1.1.1.1" class="ltx_text ltx_font_bold">Chen Ye<sup id="p1.2.2.1.1.1.1.1.1" class="ltx_sup"><span id="p1.2.2.1.1.1.1.1.1.1" class="ltx_text ltx_font_medium">†</span></sup></span></span></span>
<span id="p1.2.2.1.1.2" class="ltx_tr">
<span id="p1.2.2.1.1.2.1" class="ltx_td ltx_align_center">ESSC Lab, Tongji Universiy</span></span>
<span id="p1.2.2.1.1.3" class="ltx_tr">
<span id="p1.2.2.1.1.3.1" class="ltx_td ltx_align_center"><span id="p1.2.2.1.1.3.1.1" class="ltx_text ltx_font_typewriter">yechen@tongji.edu.cn</span></span></span>
</span></span>                      <span id="p1.2.2.2" class="ltx_text ltx_inline-block" style="width:0.0pt;">
<span id="p1.2.2.2.1" class="ltx_tabular ltx_align_top">
<span id="p1.2.2.2.1.1" class="ltx_tr">
<span id="p1.2.2.2.1.1.1" class="ltx_td ltx_align_center"><span id="p1.2.2.2.1.1.1.1" class="ltx_text ltx_font_bold">Jie Chen<span id="p1.2.2.2.1.1.1.1.1" class="ltx_note ltx_role_thanks"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>Corresponding Author</span></span></span><span id="p1.2.2.2.1.1.1.1.2" class="ltx_note ltx_role_thanks"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>Project Leader</span></span></span></span></span></span>
<span id="p1.2.2.2.1.2" class="ltx_tr">
<span id="p1.2.2.2.1.2.1" class="ltx_td ltx_align_center">Seed Foundation, ByteDance</span></span>
<span id="p1.2.2.2.1.3" class="ltx_tr">
<span id="p1.2.2.2.1.3.1" class="ltx_td ltx_align_center"><span id="p1.2.2.2.1.3.1.1" class="ltx_text ltx_font_typewriter">chenjiexjtu@gmail.com</span></span></span>
</span></span></p>
<br class="ltx_break ltx_centering">
</div>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Large Language Models (LLMs), as zero-shot and multi-task learners, have shown extraordinary capabilities across a variety of natural language tasks <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a href="#bib.bib30" title="" class="ltx_ref">2017</a>; Schulman et al., <a href="#bib.bib24" title="" class="ltx_ref">2017</a>; Radford et al., <a href="#bib.bib22" title="" class="ltx_ref">2019</a>; Ziegler et al., <a href="#bib.bib37" title="" class="ltx_ref">2019</a>; Brown et al., <a href="#bib.bib4" title="" class="ltx_ref">2020</a>; Kojima et al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>; Park et al., <a href="#bib.bib21" title="" class="ltx_ref">2023</a>; Chowdhery et al., <a href="#bib.bib6" title="" class="ltx_ref">2023</a>; Rafailov et al., <a href="#bib.bib23" title="" class="ltx_ref">2024</a>)</cite>. However, even the most advanced LLMs face challenges when it comes to tackling complex multi-step reasoning problems, such as mathematical and scientific reasoning <cite class="ltx_cite ltx_citemacro_citep">(Koncel-Kedziorski et al., <a href="#bib.bib15" title="" class="ltx_ref">2016</a>; Cobbe et al., <a href="#bib.bib7" title="" class="ltx_ref">2021</a>; Hendrycks et al., <a href="#bib.bib11" title="" class="ltx_ref">2021</a>; Wei et al., <a href="#bib.bib32" title="" class="ltx_ref">2022</a>; Chen et al., <a href="#bib.bib5" title="" class="ltx_ref">2022</a>; Gao et al., <a href="#bib.bib8" title="" class="ltx_ref">2023</a>; Trinh et al., <a href="#bib.bib28" title="" class="ltx_ref">2024</a>)</cite>. This comes from three main reasons: firstly, mathematical reasoning often requires quantitative multiple steps of deduction, since a single logical error is enough to derail a much larger solution <cite class="ltx_cite ltx_citemacro_citep">(Lightman et al., <a href="#bib.bib18" title="" class="ltx_ref">2023</a>)</cite>. Secondly, the lack of high-quality data limits LLMs’ ability to generalize and excel in mathematical reasoning tasks. Lastly, LLMs encounter difficulty in extrapolation, as they struggle to apply reasoning skills when solving unseen mathematical problems.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Many prior research has explored along these challenges. GPT-4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al., <a href="#bib.bib1" title="" class="ltx_ref">2023</a>)</cite>, LLaMA <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a href="#bib.bib26" title="" class="ltx_ref">2023a</a>, <a href="#bib.bib27" title="" class="ltx_ref">b</a>)</cite>, Gemini <cite class="ltx_cite ltx_citemacro_citep">(Team et al., <a href="#bib.bib25" title="" class="ltx_ref">2023</a>)</cite>, Minerva <cite class="ltx_cite ltx_citemacro_citep">(Lewkowycz et al., <a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite>, Llemma <cite class="ltx_cite ltx_citemacro_citep">(Azerbayev et al., <a href="#bib.bib2" title="" class="ltx_ref">2023</a>)</cite>, Mistral <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite>, WizardMath <cite class="ltx_cite ltx_citemacro_citep">(Luo et al., <a href="#bib.bib20" title="" class="ltx_ref">2023</a>)</cite>, MAMMOTH <cite class="ltx_cite ltx_citemacro_citep">(Yue et al., <a href="#bib.bib35" title="" class="ltx_ref">2023</a>)</cite>, ToRA <cite class="ltx_cite ltx_citemacro_citep">(Gou et al., <a href="#bib.bib9" title="" class="ltx_ref">2023</a>)</cite> and Deepseek <cite class="ltx_cite ltx_citemacro_citep">(Bi et al., <a href="#bib.bib3" title="" class="ltx_ref">2024</a>; Guo et al., <a href="#bib.bib10" title="" class="ltx_ref">2024</a>; Lu et al., <a href="#bib.bib19" title="" class="ltx_ref">2024</a>)</cite> have emerged as dominant models in popular mathematical reasoning benchmarks such as GSM8K <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a href="#bib.bib7" title="" class="ltx_ref">2021</a>)</cite>, MATH <cite class="ltx_cite ltx_citemacro_citep">(Hendrycks et al., <a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite>, CMATH <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a href="#bib.bib33" title="" class="ltx_ref">2023</a>)</cite> and AGIEval <cite class="ltx_cite ltx_citemacro_citep">(Zhong et al., <a href="#bib.bib36" title="" class="ltx_ref">2023</a>)</cite>. Moreover, process supervision and verifiers <cite class="ltx_cite ltx_citemacro_citep">(Cobbe et al., <a href="#bib.bib7" title="" class="ltx_ref">2021</a>; Li et al., <a href="#bib.bib17" title="" class="ltx_ref">2023</a>; Uesato et al., <a href="#bib.bib29" title="" class="ltx_ref">2022</a>; Lightman et al., <a href="#bib.bib18" title="" class="ltx_ref">2023</a>; Yu et al., <a href="#bib.bib34" title="" class="ltx_ref">2023</a>)</cite> at the step level have also obtained widespread attention. However, mathematical extrapolation, particularly in terms of abstract forms, is often overlooked.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper, we address the aforementioned challenges by introducing a novel and challenging arithmetical puzzle problem and making an initial attempt to solve them. Specifically, we propose a puzzle that needs multi-step calculations to generate a correct solution. Meanwhile, a data synthesis pipeline is developed to automatically generate a vast amount of high-quality data for supervised fine-tuning (SFT). And a series of LLMs based on open-llama-3B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite> are fine-tuned on this synthetic dataset. Furthermore, to demonstrate the reasoning abilities in extrapolation, we have designed two out-of-domain benchmarks in the form of extending the numerical range and the composing components of the arithmetical puzzle problem. For the purpose of fair evaluation, we have restricted our models to greedy sampling in a zero-shot setting and provided a corresponding verifier. Our data scaling experiments demonstrate that as the amount of synthetic data grows, in-domain zero-shot pass@1 increases from 0.22 to 0.44, while the out-of-domain zero-shot pass@1 increases from 0.14/0.17 to 0.33/0.35.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Our major contributions can be concluded as: (1) We propose a novel arithmetical puzzle problem with corresponding data synthesis pipeline and out-of-domain benchmarks, to verify the multi-step reasoning and extrapolation capabilities of LLMs fine-tuned on synthetic data. (2) Experiments indicate that increasing the amount of high-quality synthetic data leads to performance enhancements across in-domain and out-of-domain datasets. (3) A comprehensive case study has been performed.</p>
</div>
<figure id="S1.T1" class="ltx_table">
<div id="S1.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:220.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(105.3pt,-53.6pt) scale(1.94448042455204,1.94448042455204) ;">
<table id="S1.T1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S1.T1.1.1.1" class="ltx_tr">
<td id="S1.T1.1.1.1.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t"><span id="S1.T1.1.1.1.1.1" class="ltx_text ltx_font_bold">Example of the Synthetic Data</span></td>
</tr>
<tr id="S1.T1.1.1.2" class="ltx_tr">
<td id="S1.T1.1.1.2.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span id="S1.T1.1.1.2.1.1" class="ltx_text"></span><span id="S1.T1.1.1.2.1.2" class="ltx_text">
<span id="S1.T1.1.1.2.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S1.T1.1.1.2.1.2.1.1" class="ltx_tr">
<span id="S1.T1.1.1.2.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S1.T1.1.1.2.1.2.1.1.1.1" class="ltx_text ltx_font_bold">—prompt—</span></span></span>
<span id="S1.T1.1.1.2.1.2.1.2" class="ltx_tr">
<span id="S1.T1.1.1.2.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">34, 18, 31, 41, 19, 55: -110</span></span>
<span id="S1.T1.1.1.2.1.2.1.3" class="ltx_tr">
<span id="S1.T1.1.1.2.1.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left"><span id="S1.T1.1.1.2.1.2.1.3.1.1" class="ltx_text ltx_font_bold">—response—</span></span></span>
<span id="S1.T1.1.1.2.1.2.1.4" class="ltx_tr">
<span id="S1.T1.1.1.2.1.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_left">31-34=-3, 19+41=60, 60/-3=-20, -20/18=-2,</span></span>
<span id="S1.T1.1.1.2.1.2.1.5" class="ltx_tr">
<span id="S1.T1.1.1.2.1.2.1.5.1" class="ltx_td ltx_nopad_r ltx_align_left">-2*55=-110</span></span>
</span></span><span id="S1.T1.1.1.2.1.3" class="ltx_text"></span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Example of our synthetic data.</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Problem Definition</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Arithmetical Puzzle Problem</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">Arithmetical puzzle problem denotes a mathematical puzzle involving arithmetic operations and requires logical reasoning and numerical manipulation to derive a solution. The 24 Puzzle and Arithmetic Grid Puzzle are well-known examples of arithmetical puzzle problems.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.6" class="ltx_p">In this paper, we propose a challenging arithmetical puzzle. Its objective is intricate yet precise: to deftly manipulate a set of given integers through a calculated sequence of arithmetic operations, to achieve a predetermined target integer. The problem strictly limits each integer to be used by one time exactly. For example, for the integers <math id="S2.SS1.p2.1.m1.5" class="ltx_Math" alttext="3,6,7,51,58" display="inline"><semantics id="S2.SS1.p2.1.m1.5a"><mrow id="S2.SS1.p2.1.m1.5.6.2" xref="S2.SS1.p2.1.m1.5.6.1.cmml"><mn id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">3</mn><mo id="S2.SS1.p2.1.m1.5.6.2.1" xref="S2.SS1.p2.1.m1.5.6.1.cmml">,</mo><mn id="S2.SS1.p2.1.m1.2.2" xref="S2.SS1.p2.1.m1.2.2.cmml">6</mn><mo id="S2.SS1.p2.1.m1.5.6.2.2" xref="S2.SS1.p2.1.m1.5.6.1.cmml">,</mo><mn id="S2.SS1.p2.1.m1.3.3" xref="S2.SS1.p2.1.m1.3.3.cmml">7</mn><mo id="S2.SS1.p2.1.m1.5.6.2.3" xref="S2.SS1.p2.1.m1.5.6.1.cmml">,</mo><mn id="S2.SS1.p2.1.m1.4.4" xref="S2.SS1.p2.1.m1.4.4.cmml">51</mn><mo id="S2.SS1.p2.1.m1.5.6.2.4" xref="S2.SS1.p2.1.m1.5.6.1.cmml">,</mo><mn id="S2.SS1.p2.1.m1.5.5" xref="S2.SS1.p2.1.m1.5.5.cmml">58</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.5b"><list id="S2.SS1.p2.1.m1.5.6.1.cmml" xref="S2.SS1.p2.1.m1.5.6.2"><cn type="integer" id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">3</cn><cn type="integer" id="S2.SS1.p2.1.m1.2.2.cmml" xref="S2.SS1.p2.1.m1.2.2">6</cn><cn type="integer" id="S2.SS1.p2.1.m1.3.3.cmml" xref="S2.SS1.p2.1.m1.3.3">7</cn><cn type="integer" id="S2.SS1.p2.1.m1.4.4.cmml" xref="S2.SS1.p2.1.m1.4.4">51</cn><cn type="integer" id="S2.SS1.p2.1.m1.5.5.cmml" xref="S2.SS1.p2.1.m1.5.5">58</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.5c">3,6,7,51,58</annotation></semantics></math> and the target integer <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><mn id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><cn type="integer" id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">4</annotation></semantics></math>, one possible solution is: <math id="S2.SS1.p2.3.m3.1" class="ltx_Math" alttext="58-51=7" display="inline"><semantics id="S2.SS1.p2.3.m3.1a"><mrow id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml"><mrow id="S2.SS1.p2.3.m3.1.1.2" xref="S2.SS1.p2.3.m3.1.1.2.cmml"><mn id="S2.SS1.p2.3.m3.1.1.2.2" xref="S2.SS1.p2.3.m3.1.1.2.2.cmml">58</mn><mo id="S2.SS1.p2.3.m3.1.1.2.1" xref="S2.SS1.p2.3.m3.1.1.2.1.cmml">−</mo><mn id="S2.SS1.p2.3.m3.1.1.2.3" xref="S2.SS1.p2.3.m3.1.1.2.3.cmml">51</mn></mrow><mo id="S2.SS1.p2.3.m3.1.1.1" xref="S2.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="S2.SS1.p2.3.m3.1.1.3" xref="S2.SS1.p2.3.m3.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b"><apply id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1"><eq id="S2.SS1.p2.3.m3.1.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1.1"></eq><apply id="S2.SS1.p2.3.m3.1.1.2.cmml" xref="S2.SS1.p2.3.m3.1.1.2"><minus id="S2.SS1.p2.3.m3.1.1.2.1.cmml" xref="S2.SS1.p2.3.m3.1.1.2.1"></minus><cn type="integer" id="S2.SS1.p2.3.m3.1.1.2.2.cmml" xref="S2.SS1.p2.3.m3.1.1.2.2">58</cn><cn type="integer" id="S2.SS1.p2.3.m3.1.1.2.3.cmml" xref="S2.SS1.p2.3.m3.1.1.2.3">51</cn></apply><cn type="integer" id="S2.SS1.p2.3.m3.1.1.3.cmml" xref="S2.SS1.p2.3.m3.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">58-51=7</annotation></semantics></math>, <math id="S2.SS1.p2.4.m4.1" class="ltx_Math" alttext="6-7=-1" display="inline"><semantics id="S2.SS1.p2.4.m4.1a"><mrow id="S2.SS1.p2.4.m4.1.1" xref="S2.SS1.p2.4.m4.1.1.cmml"><mrow id="S2.SS1.p2.4.m4.1.1.2" xref="S2.SS1.p2.4.m4.1.1.2.cmml"><mn id="S2.SS1.p2.4.m4.1.1.2.2" xref="S2.SS1.p2.4.m4.1.1.2.2.cmml">6</mn><mo id="S2.SS1.p2.4.m4.1.1.2.1" xref="S2.SS1.p2.4.m4.1.1.2.1.cmml">−</mo><mn id="S2.SS1.p2.4.m4.1.1.2.3" xref="S2.SS1.p2.4.m4.1.1.2.3.cmml">7</mn></mrow><mo id="S2.SS1.p2.4.m4.1.1.1" xref="S2.SS1.p2.4.m4.1.1.1.cmml">=</mo><mrow id="S2.SS1.p2.4.m4.1.1.3" xref="S2.SS1.p2.4.m4.1.1.3.cmml"><mo id="S2.SS1.p2.4.m4.1.1.3a" xref="S2.SS1.p2.4.m4.1.1.3.cmml">−</mo><mn id="S2.SS1.p2.4.m4.1.1.3.2" xref="S2.SS1.p2.4.m4.1.1.3.2.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.1b"><apply id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1"><eq id="S2.SS1.p2.4.m4.1.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1.1"></eq><apply id="S2.SS1.p2.4.m4.1.1.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2"><minus id="S2.SS1.p2.4.m4.1.1.2.1.cmml" xref="S2.SS1.p2.4.m4.1.1.2.1"></minus><cn type="integer" id="S2.SS1.p2.4.m4.1.1.2.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2.2">6</cn><cn type="integer" id="S2.SS1.p2.4.m4.1.1.2.3.cmml" xref="S2.SS1.p2.4.m4.1.1.2.3">7</cn></apply><apply id="S2.SS1.p2.4.m4.1.1.3.cmml" xref="S2.SS1.p2.4.m4.1.1.3"><minus id="S2.SS1.p2.4.m4.1.1.3.1.cmml" xref="S2.SS1.p2.4.m4.1.1.3"></minus><cn type="integer" id="S2.SS1.p2.4.m4.1.1.3.2.cmml" xref="S2.SS1.p2.4.m4.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.1c">6-7=-1</annotation></semantics></math>, <math id="S2.SS1.p2.5.m5.1" class="ltx_math_unparsed" alttext="3\times-1=-3" display="inline"><semantics id="S2.SS1.p2.5.m5.1a"><mrow id="S2.SS1.p2.5.m5.1b"><mn id="S2.SS1.p2.5.m5.1.1">3</mn><mo lspace="0.222em" rspace="0em" id="S2.SS1.p2.5.m5.1.2">×</mo><mo lspace="0em" id="S2.SS1.p2.5.m5.1.3">−</mo><mn id="S2.SS1.p2.5.m5.1.4">1</mn><mo rspace="0em" id="S2.SS1.p2.5.m5.1.5">=</mo><mo lspace="0em" id="S2.SS1.p2.5.m5.1.6">−</mo><mn id="S2.SS1.p2.5.m5.1.7">3</mn></mrow><annotation encoding="application/x-tex" id="S2.SS1.p2.5.m5.1c">3\times-1=-3</annotation></semantics></math>, <math id="S2.SS1.p2.6.m6.1" class="ltx_Math" alttext="-3+7=4" display="inline"><semantics id="S2.SS1.p2.6.m6.1a"><mrow id="S2.SS1.p2.6.m6.1.1" xref="S2.SS1.p2.6.m6.1.1.cmml"><mrow id="S2.SS1.p2.6.m6.1.1.2" xref="S2.SS1.p2.6.m6.1.1.2.cmml"><mrow id="S2.SS1.p2.6.m6.1.1.2.2" xref="S2.SS1.p2.6.m6.1.1.2.2.cmml"><mo id="S2.SS1.p2.6.m6.1.1.2.2a" xref="S2.SS1.p2.6.m6.1.1.2.2.cmml">−</mo><mn id="S2.SS1.p2.6.m6.1.1.2.2.2" xref="S2.SS1.p2.6.m6.1.1.2.2.2.cmml">3</mn></mrow><mo id="S2.SS1.p2.6.m6.1.1.2.1" xref="S2.SS1.p2.6.m6.1.1.2.1.cmml">+</mo><mn id="S2.SS1.p2.6.m6.1.1.2.3" xref="S2.SS1.p2.6.m6.1.1.2.3.cmml">7</mn></mrow><mo id="S2.SS1.p2.6.m6.1.1.1" xref="S2.SS1.p2.6.m6.1.1.1.cmml">=</mo><mn id="S2.SS1.p2.6.m6.1.1.3" xref="S2.SS1.p2.6.m6.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.6.m6.1b"><apply id="S2.SS1.p2.6.m6.1.1.cmml" xref="S2.SS1.p2.6.m6.1.1"><eq id="S2.SS1.p2.6.m6.1.1.1.cmml" xref="S2.SS1.p2.6.m6.1.1.1"></eq><apply id="S2.SS1.p2.6.m6.1.1.2.cmml" xref="S2.SS1.p2.6.m6.1.1.2"><plus id="S2.SS1.p2.6.m6.1.1.2.1.cmml" xref="S2.SS1.p2.6.m6.1.1.2.1"></plus><apply id="S2.SS1.p2.6.m6.1.1.2.2.cmml" xref="S2.SS1.p2.6.m6.1.1.2.2"><minus id="S2.SS1.p2.6.m6.1.1.2.2.1.cmml" xref="S2.SS1.p2.6.m6.1.1.2.2"></minus><cn type="integer" id="S2.SS1.p2.6.m6.1.1.2.2.2.cmml" xref="S2.SS1.p2.6.m6.1.1.2.2.2">3</cn></apply><cn type="integer" id="S2.SS1.p2.6.m6.1.1.2.3.cmml" xref="S2.SS1.p2.6.m6.1.1.2.3">7</cn></apply><cn type="integer" id="S2.SS1.p2.6.m6.1.1.3.cmml" xref="S2.SS1.p2.6.m6.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.6.m6.1c">-3+7=4</annotation></semantics></math>, as shown in Figure <a href="#A1.F5" title="Figure 5 ‣ A.4 Visualization of the Proposed Puzzle ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> in Appendix <a href="#A1.SS4" title="A.4 Visualization of the Proposed Puzzle ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.4</span></a>.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Data Synthesizing</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Given the arithmetical puzzle described above in Section <a href="#S2.SS1" title="2.1 Arithmetical Puzzle Problem ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.1</span></a>, we create a data synthesizing pipeline to efficiently generate the proposed dataset.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.8" class="ltx_p">Denote the set of candidate integers as <math id="S2.SS2.p2.1.m1.4" class="ltx_Math" alttext="X=\{X_{1},X_{2},\ldots,X_{N}\}" display="inline"><semantics id="S2.SS2.p2.1.m1.4a"><mrow id="S2.SS2.p2.1.m1.4.4" xref="S2.SS2.p2.1.m1.4.4.cmml"><mi id="S2.SS2.p2.1.m1.4.4.5" xref="S2.SS2.p2.1.m1.4.4.5.cmml">X</mi><mo id="S2.SS2.p2.1.m1.4.4.4" xref="S2.SS2.p2.1.m1.4.4.4.cmml">=</mo><mrow id="S2.SS2.p2.1.m1.4.4.3.3" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml"><mo stretchy="false" id="S2.SS2.p2.1.m1.4.4.3.3.4" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">{</mo><msub id="S2.SS2.p2.1.m1.2.2.1.1.1" xref="S2.SS2.p2.1.m1.2.2.1.1.1.cmml"><mi id="S2.SS2.p2.1.m1.2.2.1.1.1.2" xref="S2.SS2.p2.1.m1.2.2.1.1.1.2.cmml">X</mi><mn id="S2.SS2.p2.1.m1.2.2.1.1.1.3" xref="S2.SS2.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS2.p2.1.m1.4.4.3.3.5" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S2.SS2.p2.1.m1.3.3.2.2.2" xref="S2.SS2.p2.1.m1.3.3.2.2.2.cmml"><mi id="S2.SS2.p2.1.m1.3.3.2.2.2.2" xref="S2.SS2.p2.1.m1.3.3.2.2.2.2.cmml">X</mi><mn id="S2.SS2.p2.1.m1.3.3.2.2.2.3" xref="S2.SS2.p2.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.SS2.p2.1.m1.4.4.3.3.6" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml">…</mi><mo id="S2.SS2.p2.1.m1.4.4.3.3.7" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S2.SS2.p2.1.m1.4.4.3.3.3" xref="S2.SS2.p2.1.m1.4.4.3.3.3.cmml"><mi id="S2.SS2.p2.1.m1.4.4.3.3.3.2" xref="S2.SS2.p2.1.m1.4.4.3.3.3.2.cmml">X</mi><mi id="S2.SS2.p2.1.m1.4.4.3.3.3.3" xref="S2.SS2.p2.1.m1.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S2.SS2.p2.1.m1.4.4.3.3.8" xref="S2.SS2.p2.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.4b"><apply id="S2.SS2.p2.1.m1.4.4.cmml" xref="S2.SS2.p2.1.m1.4.4"><eq id="S2.SS2.p2.1.m1.4.4.4.cmml" xref="S2.SS2.p2.1.m1.4.4.4"></eq><ci id="S2.SS2.p2.1.m1.4.4.5.cmml" xref="S2.SS2.p2.1.m1.4.4.5">𝑋</ci><set id="S2.SS2.p2.1.m1.4.4.3.4.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3"><apply id="S2.SS2.p2.1.m1.2.2.1.1.1.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.SS2.p2.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1.2">𝑋</ci><cn type="integer" id="S2.SS2.p2.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS2.p2.1.m1.3.3.2.2.2.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.3.3.2.2.2.1.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S2.SS2.p2.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2.2">𝑋</ci><cn type="integer" id="S2.SS2.p2.1.m1.3.3.2.2.2.3.cmml" xref="S2.SS2.p2.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">…</ci><apply id="S2.SS2.p2.1.m1.4.4.3.3.3.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.4.4.3.3.3.1.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S2.SS2.p2.1.m1.4.4.3.3.3.2.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3.2">𝑋</ci><ci id="S2.SS2.p2.1.m1.4.4.3.3.3.3.cmml" xref="S2.SS2.p2.1.m1.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.4c">X=\{X_{1},X_{2},\ldots,X_{N}\}</annotation></semantics></math> and the target number as <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><mi id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><ci id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">T</annotation></semantics></math>, where <math id="S2.SS2.p2.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS2.p2.3.m3.1a"><mi id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><ci id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">N</annotation></semantics></math> is the total number of candidate integers in a puzzle sample. Each candidate integer <math id="S2.SS2.p2.4.m4.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S2.SS2.p2.4.m4.1a"><msub id="S2.SS2.p2.4.m4.1.1" xref="S2.SS2.p2.4.m4.1.1.cmml"><mi id="S2.SS2.p2.4.m4.1.1.2" xref="S2.SS2.p2.4.m4.1.1.2.cmml">X</mi><mi id="S2.SS2.p2.4.m4.1.1.3" xref="S2.SS2.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.1b"><apply id="S2.SS2.p2.4.m4.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.4.m4.1.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.p2.4.m4.1.1.2.cmml" xref="S2.SS2.p2.4.m4.1.1.2">𝑋</ci><ci id="S2.SS2.p2.4.m4.1.1.3.cmml" xref="S2.SS2.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.1c">X_{i}</annotation></semantics></math> is independently sampled from a uniform distribution <math id="S2.SS2.p2.5.m5.2" class="ltx_Math" alttext="X_{i}\sim\text{U}(1,V)" display="inline"><semantics id="S2.SS2.p2.5.m5.2a"><mrow id="S2.SS2.p2.5.m5.2.3" xref="S2.SS2.p2.5.m5.2.3.cmml"><msub id="S2.SS2.p2.5.m5.2.3.2" xref="S2.SS2.p2.5.m5.2.3.2.cmml"><mi id="S2.SS2.p2.5.m5.2.3.2.2" xref="S2.SS2.p2.5.m5.2.3.2.2.cmml">X</mi><mi id="S2.SS2.p2.5.m5.2.3.2.3" xref="S2.SS2.p2.5.m5.2.3.2.3.cmml">i</mi></msub><mo id="S2.SS2.p2.5.m5.2.3.1" xref="S2.SS2.p2.5.m5.2.3.1.cmml">∼</mo><mrow id="S2.SS2.p2.5.m5.2.3.3" xref="S2.SS2.p2.5.m5.2.3.3.cmml"><mtext id="S2.SS2.p2.5.m5.2.3.3.2" xref="S2.SS2.p2.5.m5.2.3.3.2a.cmml">U</mtext><mo lspace="0em" rspace="0em" id="S2.SS2.p2.5.m5.2.3.3.1" xref="S2.SS2.p2.5.m5.2.3.3.1.cmml">​</mo><mrow id="S2.SS2.p2.5.m5.2.3.3.3.2" xref="S2.SS2.p2.5.m5.2.3.3.3.1.cmml"><mo stretchy="false" id="S2.SS2.p2.5.m5.2.3.3.3.2.1" xref="S2.SS2.p2.5.m5.2.3.3.3.1.cmml">(</mo><mn id="S2.SS2.p2.5.m5.1.1" xref="S2.SS2.p2.5.m5.1.1.cmml">1</mn><mo id="S2.SS2.p2.5.m5.2.3.3.3.2.2" xref="S2.SS2.p2.5.m5.2.3.3.3.1.cmml">,</mo><mi id="S2.SS2.p2.5.m5.2.2" xref="S2.SS2.p2.5.m5.2.2.cmml">V</mi><mo stretchy="false" id="S2.SS2.p2.5.m5.2.3.3.3.2.3" xref="S2.SS2.p2.5.m5.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m5.2b"><apply id="S2.SS2.p2.5.m5.2.3.cmml" xref="S2.SS2.p2.5.m5.2.3"><csymbol cd="latexml" id="S2.SS2.p2.5.m5.2.3.1.cmml" xref="S2.SS2.p2.5.m5.2.3.1">similar-to</csymbol><apply id="S2.SS2.p2.5.m5.2.3.2.cmml" xref="S2.SS2.p2.5.m5.2.3.2"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.2.3.2.1.cmml" xref="S2.SS2.p2.5.m5.2.3.2">subscript</csymbol><ci id="S2.SS2.p2.5.m5.2.3.2.2.cmml" xref="S2.SS2.p2.5.m5.2.3.2.2">𝑋</ci><ci id="S2.SS2.p2.5.m5.2.3.2.3.cmml" xref="S2.SS2.p2.5.m5.2.3.2.3">𝑖</ci></apply><apply id="S2.SS2.p2.5.m5.2.3.3.cmml" xref="S2.SS2.p2.5.m5.2.3.3"><times id="S2.SS2.p2.5.m5.2.3.3.1.cmml" xref="S2.SS2.p2.5.m5.2.3.3.1"></times><ci id="S2.SS2.p2.5.m5.2.3.3.2a.cmml" xref="S2.SS2.p2.5.m5.2.3.3.2"><mtext id="S2.SS2.p2.5.m5.2.3.3.2.cmml" xref="S2.SS2.p2.5.m5.2.3.3.2">U</mtext></ci><interval closure="open" id="S2.SS2.p2.5.m5.2.3.3.3.1.cmml" xref="S2.SS2.p2.5.m5.2.3.3.3.2"><cn type="integer" id="S2.SS2.p2.5.m5.1.1.cmml" xref="S2.SS2.p2.5.m5.1.1">1</cn><ci id="S2.SS2.p2.5.m5.2.2.cmml" xref="S2.SS2.p2.5.m5.2.2">𝑉</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m5.2c">X_{i}\sim\text{U}(1,V)</annotation></semantics></math>, where <math id="S2.SS2.p2.6.m6.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS2.p2.6.m6.1a"><mi id="S2.SS2.p2.6.m6.1.1" xref="S2.SS2.p2.6.m6.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m6.1b"><ci id="S2.SS2.p2.6.m6.1.1.cmml" xref="S2.SS2.p2.6.m6.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m6.1c">V</annotation></semantics></math> is the upper bound of the sampled integers. To avoid data overlapping, we have strictly ensured that for each puzzle, the candidate integers are a set of distinct numbers. The arithmetic operators involved in this problem are <math id="S2.SS2.p2.7.m7.4" class="ltx_Math" alttext="ops=\{+,-,\times,\div\}" display="inline"><semantics id="S2.SS2.p2.7.m7.4a"><mrow id="S2.SS2.p2.7.m7.4.5" xref="S2.SS2.p2.7.m7.4.5.cmml"><mrow id="S2.SS2.p2.7.m7.4.5.2" xref="S2.SS2.p2.7.m7.4.5.2.cmml"><mi id="S2.SS2.p2.7.m7.4.5.2.2" xref="S2.SS2.p2.7.m7.4.5.2.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.4.5.2.1" xref="S2.SS2.p2.7.m7.4.5.2.1.cmml">​</mo><mi id="S2.SS2.p2.7.m7.4.5.2.3" xref="S2.SS2.p2.7.m7.4.5.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.4.5.2.1a" xref="S2.SS2.p2.7.m7.4.5.2.1.cmml">​</mo><mi id="S2.SS2.p2.7.m7.4.5.2.4" xref="S2.SS2.p2.7.m7.4.5.2.4.cmml">s</mi></mrow><mo id="S2.SS2.p2.7.m7.4.5.1" xref="S2.SS2.p2.7.m7.4.5.1.cmml">=</mo><mrow id="S2.SS2.p2.7.m7.4.5.3.2" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml"><mo stretchy="false" id="S2.SS2.p2.7.m7.4.5.3.2.1" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml">{</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.1.1" xref="S2.SS2.p2.7.m7.1.1.cmml">+</mo><mo rspace="0em" id="S2.SS2.p2.7.m7.4.5.3.2.2" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.2.2" xref="S2.SS2.p2.7.m7.2.2.cmml">−</mo><mo rspace="0em" id="S2.SS2.p2.7.m7.4.5.3.2.3" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.3.3" xref="S2.SS2.p2.7.m7.3.3.cmml">×</mo><mo rspace="0em" id="S2.SS2.p2.7.m7.4.5.3.2.4" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p2.7.m7.4.4" xref="S2.SS2.p2.7.m7.4.4.cmml">÷</mo><mo stretchy="false" id="S2.SS2.p2.7.m7.4.5.3.2.5" xref="S2.SS2.p2.7.m7.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m7.4b"><apply id="S2.SS2.p2.7.m7.4.5.cmml" xref="S2.SS2.p2.7.m7.4.5"><eq id="S2.SS2.p2.7.m7.4.5.1.cmml" xref="S2.SS2.p2.7.m7.4.5.1"></eq><apply id="S2.SS2.p2.7.m7.4.5.2.cmml" xref="S2.SS2.p2.7.m7.4.5.2"><times id="S2.SS2.p2.7.m7.4.5.2.1.cmml" xref="S2.SS2.p2.7.m7.4.5.2.1"></times><ci id="S2.SS2.p2.7.m7.4.5.2.2.cmml" xref="S2.SS2.p2.7.m7.4.5.2.2">𝑜</ci><ci id="S2.SS2.p2.7.m7.4.5.2.3.cmml" xref="S2.SS2.p2.7.m7.4.5.2.3">𝑝</ci><ci id="S2.SS2.p2.7.m7.4.5.2.4.cmml" xref="S2.SS2.p2.7.m7.4.5.2.4">𝑠</ci></apply><set id="S2.SS2.p2.7.m7.4.5.3.1.cmml" xref="S2.SS2.p2.7.m7.4.5.3.2"><plus id="S2.SS2.p2.7.m7.1.1.cmml" xref="S2.SS2.p2.7.m7.1.1"></plus><minus id="S2.SS2.p2.7.m7.2.2.cmml" xref="S2.SS2.p2.7.m7.2.2"></minus><times id="S2.SS2.p2.7.m7.3.3.cmml" xref="S2.SS2.p2.7.m7.3.3"></times><divide id="S2.SS2.p2.7.m7.4.4.cmml" xref="S2.SS2.p2.7.m7.4.4"></divide></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m7.4c">ops=\{+,-,\times,\div\}</annotation></semantics></math> and all operations are limited to integer operations. For example, when solving the puzzle with a division operator, the operation should be considered in integer division like <math id="S2.SS2.p2.8.m8.1" class="ltx_Math" alttext="14/3=4" display="inline"><semantics id="S2.SS2.p2.8.m8.1a"><mrow id="S2.SS2.p2.8.m8.1.1" xref="S2.SS2.p2.8.m8.1.1.cmml"><mrow id="S2.SS2.p2.8.m8.1.1.2" xref="S2.SS2.p2.8.m8.1.1.2.cmml"><mn id="S2.SS2.p2.8.m8.1.1.2.2" xref="S2.SS2.p2.8.m8.1.1.2.2.cmml">14</mn><mo id="S2.SS2.p2.8.m8.1.1.2.1" xref="S2.SS2.p2.8.m8.1.1.2.1.cmml">/</mo><mn id="S2.SS2.p2.8.m8.1.1.2.3" xref="S2.SS2.p2.8.m8.1.1.2.3.cmml">3</mn></mrow><mo id="S2.SS2.p2.8.m8.1.1.1" xref="S2.SS2.p2.8.m8.1.1.1.cmml">=</mo><mn id="S2.SS2.p2.8.m8.1.1.3" xref="S2.SS2.p2.8.m8.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.8.m8.1b"><apply id="S2.SS2.p2.8.m8.1.1.cmml" xref="S2.SS2.p2.8.m8.1.1"><eq id="S2.SS2.p2.8.m8.1.1.1.cmml" xref="S2.SS2.p2.8.m8.1.1.1"></eq><apply id="S2.SS2.p2.8.m8.1.1.2.cmml" xref="S2.SS2.p2.8.m8.1.1.2"><divide id="S2.SS2.p2.8.m8.1.1.2.1.cmml" xref="S2.SS2.p2.8.m8.1.1.2.1"></divide><cn type="integer" id="S2.SS2.p2.8.m8.1.1.2.2.cmml" xref="S2.SS2.p2.8.m8.1.1.2.2">14</cn><cn type="integer" id="S2.SS2.p2.8.m8.1.1.2.3.cmml" xref="S2.SS2.p2.8.m8.1.1.2.3">3</cn></apply><cn type="integer" id="S2.SS2.p2.8.m8.1.1.3.cmml" xref="S2.SS2.p2.8.m8.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.8.m8.1c">14/3=4</annotation></semantics></math>. The detailed steps of synthesizing data for this puzzle is described in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.2 Data Synthesizing ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">Besides, to construct the SFT dataset, the prompt is deliberately designed to excludes any natural language cues and instead focuses on purely symbolic language. See Table <a href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> for an example of the constructed prompt and response.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Data Synthesis Algorithm</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>  <math id="alg1.l1.m1.1" class="ltx_Math" alttext="S_{dataset}" display="inline"><semantics id="alg1.l1.m1.1a"><msub id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">S</mi><mrow id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"><mi id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.3" xref="alg1.l1.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1a" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.4" xref="alg1.l1.m1.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1b" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.5" xref="alg1.l1.m1.1.1.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1c" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.6" xref="alg1.l1.m1.1.1.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1d" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.7" xref="alg1.l1.m1.1.1.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1e" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.8" xref="alg1.l1.m1.1.1.3.8.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝑆</ci><apply id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"><times id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3.1"></times><ci id="alg1.l1.m1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.3.2">𝑑</ci><ci id="alg1.l1.m1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.3.3">𝑎</ci><ci id="alg1.l1.m1.1.1.3.4.cmml" xref="alg1.l1.m1.1.1.3.4">𝑡</ci><ci id="alg1.l1.m1.1.1.3.5.cmml" xref="alg1.l1.m1.1.1.3.5">𝑎</ci><ci id="alg1.l1.m1.1.1.3.6.cmml" xref="alg1.l1.m1.1.1.3.6">𝑠</ci><ci id="alg1.l1.m1.1.1.3.7.cmml" xref="alg1.l1.m1.1.1.3.7">𝑒</ci><ci id="alg1.l1.m1.1.1.3.8.cmml" xref="alg1.l1.m1.1.1.3.8">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">S_{dataset}</annotation></semantics></math> starts with an empty set

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">while</span> <math id="alg1.l2.m1.1" class="ltx_Math" alttext="size_{S_{dataset}}\leq size_{limit}" display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mrow id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml"><mi id="alg1.l2.m1.1.1.2.2" xref="alg1.l2.m1.1.1.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.1" xref="alg1.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.3" xref="alg1.l2.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.1a" xref="alg1.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.4" xref="alg1.l2.m1.1.1.2.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.1b" xref="alg1.l2.m1.1.1.2.1.cmml">​</mo><msub id="alg1.l2.m1.1.1.2.5" xref="alg1.l2.m1.1.1.2.5.cmml"><mi id="alg1.l2.m1.1.1.2.5.2" xref="alg1.l2.m1.1.1.2.5.2.cmml">e</mi><msub id="alg1.l2.m1.1.1.2.5.3" xref="alg1.l2.m1.1.1.2.5.3.cmml"><mi id="alg1.l2.m1.1.1.2.5.3.2" xref="alg1.l2.m1.1.1.2.5.3.2.cmml">S</mi><mrow id="alg1.l2.m1.1.1.2.5.3.3" xref="alg1.l2.m1.1.1.2.5.3.3.cmml"><mi id="alg1.l2.m1.1.1.2.5.3.3.2" xref="alg1.l2.m1.1.1.2.5.3.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.3" xref="alg1.l2.m1.1.1.2.5.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1a" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.4" xref="alg1.l2.m1.1.1.2.5.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1b" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.5" xref="alg1.l2.m1.1.1.2.5.3.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1c" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.6" xref="alg1.l2.m1.1.1.2.5.3.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1d" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.7" xref="alg1.l2.m1.1.1.2.5.3.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.2.5.3.3.1e" xref="alg1.l2.m1.1.1.2.5.3.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.2.5.3.3.8" xref="alg1.l2.m1.1.1.2.5.3.3.8.cmml">t</mi></mrow></msub></msub></mrow><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">≤</mo><mrow id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml"><mi id="alg1.l2.m1.1.1.3.2" xref="alg1.l2.m1.1.1.3.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.1" xref="alg1.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.3" xref="alg1.l2.m1.1.1.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.1a" xref="alg1.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.4" xref="alg1.l2.m1.1.1.3.4.cmml">z</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.1b" xref="alg1.l2.m1.1.1.3.1.cmml">​</mo><msub id="alg1.l2.m1.1.1.3.5" xref="alg1.l2.m1.1.1.3.5.cmml"><mi id="alg1.l2.m1.1.1.3.5.2" xref="alg1.l2.m1.1.1.3.5.2.cmml">e</mi><mrow id="alg1.l2.m1.1.1.3.5.3" xref="alg1.l2.m1.1.1.3.5.3.cmml"><mi id="alg1.l2.m1.1.1.3.5.3.2" xref="alg1.l2.m1.1.1.3.5.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.5.3.1" xref="alg1.l2.m1.1.1.3.5.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.5.3.3" xref="alg1.l2.m1.1.1.3.5.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.5.3.1a" xref="alg1.l2.m1.1.1.3.5.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.5.3.4" xref="alg1.l2.m1.1.1.3.5.3.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.5.3.1b" xref="alg1.l2.m1.1.1.3.5.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.5.3.5" xref="alg1.l2.m1.1.1.3.5.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l2.m1.1.1.3.5.3.1c" xref="alg1.l2.m1.1.1.3.5.3.1.cmml">​</mo><mi id="alg1.l2.m1.1.1.3.5.3.6" xref="alg1.l2.m1.1.1.3.5.3.6.cmml">t</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><leq id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"></leq><apply id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2"><times id="alg1.l2.m1.1.1.2.1.cmml" xref="alg1.l2.m1.1.1.2.1"></times><ci id="alg1.l2.m1.1.1.2.2.cmml" xref="alg1.l2.m1.1.1.2.2">𝑠</ci><ci id="alg1.l2.m1.1.1.2.3.cmml" xref="alg1.l2.m1.1.1.2.3">𝑖</ci><ci id="alg1.l2.m1.1.1.2.4.cmml" xref="alg1.l2.m1.1.1.2.4">𝑧</ci><apply id="alg1.l2.m1.1.1.2.5.cmml" xref="alg1.l2.m1.1.1.2.5"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.2.5.1.cmml" xref="alg1.l2.m1.1.1.2.5">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.5.2.cmml" xref="alg1.l2.m1.1.1.2.5.2">𝑒</ci><apply id="alg1.l2.m1.1.1.2.5.3.cmml" xref="alg1.l2.m1.1.1.2.5.3"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.2.5.3.1.cmml" xref="alg1.l2.m1.1.1.2.5.3">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.5.3.2.cmml" xref="alg1.l2.m1.1.1.2.5.3.2">𝑆</ci><apply id="alg1.l2.m1.1.1.2.5.3.3.cmml" xref="alg1.l2.m1.1.1.2.5.3.3"><times id="alg1.l2.m1.1.1.2.5.3.3.1.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.1"></times><ci id="alg1.l2.m1.1.1.2.5.3.3.2.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.2">𝑑</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.3.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.3">𝑎</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.4.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.4">𝑡</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.5.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.5">𝑎</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.6.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.6">𝑠</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.7.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.7">𝑒</ci><ci id="alg1.l2.m1.1.1.2.5.3.3.8.cmml" xref="alg1.l2.m1.1.1.2.5.3.3.8">𝑡</ci></apply></apply></apply></apply><apply id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3"><times id="alg1.l2.m1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.3.1"></times><ci id="alg1.l2.m1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.3.2">𝑠</ci><ci id="alg1.l2.m1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.3.3">𝑖</ci><ci id="alg1.l2.m1.1.1.3.4.cmml" xref="alg1.l2.m1.1.1.3.4">𝑧</ci><apply id="alg1.l2.m1.1.1.3.5.cmml" xref="alg1.l2.m1.1.1.3.5"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.3.5.1.cmml" xref="alg1.l2.m1.1.1.3.5">subscript</csymbol><ci id="alg1.l2.m1.1.1.3.5.2.cmml" xref="alg1.l2.m1.1.1.3.5.2">𝑒</ci><apply id="alg1.l2.m1.1.1.3.5.3.cmml" xref="alg1.l2.m1.1.1.3.5.3"><times id="alg1.l2.m1.1.1.3.5.3.1.cmml" xref="alg1.l2.m1.1.1.3.5.3.1"></times><ci id="alg1.l2.m1.1.1.3.5.3.2.cmml" xref="alg1.l2.m1.1.1.3.5.3.2">𝑙</ci><ci id="alg1.l2.m1.1.1.3.5.3.3.cmml" xref="alg1.l2.m1.1.1.3.5.3.3">𝑖</ci><ci id="alg1.l2.m1.1.1.3.5.3.4.cmml" xref="alg1.l2.m1.1.1.3.5.3.4">𝑚</ci><ci id="alg1.l2.m1.1.1.3.5.3.5.cmml" xref="alg1.l2.m1.1.1.3.5.3.5">𝑖</ci><ci id="alg1.l2.m1.1.1.3.5.3.6.cmml" xref="alg1.l2.m1.1.1.3.5.3.6">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">size_{S_{dataset}}\leq size_{limit}</annotation></semantics></math> <span id="alg1.l2.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     Sample <math id="alg1.l3.m1.4" class="ltx_Math" alttext="\{X_{i}\mid 1\leq i\leq N,X_{i}\sim\text{U}(1,V)\}" display="inline"><semantics id="alg1.l3.m1.4a"><mrow id="alg1.l3.m1.4.4.2" xref="alg1.l3.m1.4.4.3.cmml"><mo stretchy="false" id="alg1.l3.m1.4.4.2.3" xref="alg1.l3.m1.4.4.3.1.cmml">{</mo><msub id="alg1.l3.m1.3.3.1.1" xref="alg1.l3.m1.3.3.1.1.cmml"><mi id="alg1.l3.m1.3.3.1.1.2" xref="alg1.l3.m1.3.3.1.1.2.cmml">X</mi><mi id="alg1.l3.m1.3.3.1.1.3" xref="alg1.l3.m1.3.3.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="alg1.l3.m1.4.4.2.4" xref="alg1.l3.m1.4.4.3.1.cmml">∣</mo><mrow id="alg1.l3.m1.4.4.2.2.2" xref="alg1.l3.m1.4.4.2.2.3.cmml"><mrow id="alg1.l3.m1.4.4.2.2.1.1" xref="alg1.l3.m1.4.4.2.2.1.1.cmml"><mn id="alg1.l3.m1.4.4.2.2.1.1.2" xref="alg1.l3.m1.4.4.2.2.1.1.2.cmml">1</mn><mo id="alg1.l3.m1.4.4.2.2.1.1.3" xref="alg1.l3.m1.4.4.2.2.1.1.3.cmml">≤</mo><mi id="alg1.l3.m1.4.4.2.2.1.1.4" xref="alg1.l3.m1.4.4.2.2.1.1.4.cmml">i</mi><mo id="alg1.l3.m1.4.4.2.2.1.1.5" xref="alg1.l3.m1.4.4.2.2.1.1.5.cmml">≤</mo><mi id="alg1.l3.m1.4.4.2.2.1.1.6" xref="alg1.l3.m1.4.4.2.2.1.1.6.cmml">N</mi></mrow><mo id="alg1.l3.m1.4.4.2.2.2.3" xref="alg1.l3.m1.4.4.2.2.3a.cmml">,</mo><mrow id="alg1.l3.m1.4.4.2.2.2.2" xref="alg1.l3.m1.4.4.2.2.2.2.cmml"><msub id="alg1.l3.m1.4.4.2.2.2.2.2" xref="alg1.l3.m1.4.4.2.2.2.2.2.cmml"><mi id="alg1.l3.m1.4.4.2.2.2.2.2.2" xref="alg1.l3.m1.4.4.2.2.2.2.2.2.cmml">X</mi><mi id="alg1.l3.m1.4.4.2.2.2.2.2.3" xref="alg1.l3.m1.4.4.2.2.2.2.2.3.cmml">i</mi></msub><mo id="alg1.l3.m1.4.4.2.2.2.2.1" xref="alg1.l3.m1.4.4.2.2.2.2.1.cmml">∼</mo><mrow id="alg1.l3.m1.4.4.2.2.2.2.3" xref="alg1.l3.m1.4.4.2.2.2.2.3.cmml"><mtext id="alg1.l3.m1.4.4.2.2.2.2.3.2" xref="alg1.l3.m1.4.4.2.2.2.2.3.2a.cmml">U</mtext><mo lspace="0em" rspace="0em" id="alg1.l3.m1.4.4.2.2.2.2.3.1" xref="alg1.l3.m1.4.4.2.2.2.2.3.1.cmml">​</mo><mrow id="alg1.l3.m1.4.4.2.2.2.2.3.3.2" xref="alg1.l3.m1.4.4.2.2.2.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l3.m1.4.4.2.2.2.2.3.3.2.1" xref="alg1.l3.m1.4.4.2.2.2.2.3.3.1.cmml">(</mo><mn id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml">1</mn><mo id="alg1.l3.m1.4.4.2.2.2.2.3.3.2.2" xref="alg1.l3.m1.4.4.2.2.2.2.3.3.1.cmml">,</mo><mi id="alg1.l3.m1.2.2" xref="alg1.l3.m1.2.2.cmml">V</mi><mo stretchy="false" id="alg1.l3.m1.4.4.2.2.2.2.3.3.2.3" xref="alg1.l3.m1.4.4.2.2.2.2.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo stretchy="false" id="alg1.l3.m1.4.4.2.5" xref="alg1.l3.m1.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.4b"><apply id="alg1.l3.m1.4.4.3.cmml" xref="alg1.l3.m1.4.4.2"><csymbol cd="latexml" id="alg1.l3.m1.4.4.3.1.cmml" xref="alg1.l3.m1.4.4.2.3">conditional-set</csymbol><apply id="alg1.l3.m1.3.3.1.1.cmml" xref="alg1.l3.m1.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.3.3.1.1.1.cmml" xref="alg1.l3.m1.3.3.1.1">subscript</csymbol><ci id="alg1.l3.m1.3.3.1.1.2.cmml" xref="alg1.l3.m1.3.3.1.1.2">𝑋</ci><ci id="alg1.l3.m1.3.3.1.1.3.cmml" xref="alg1.l3.m1.3.3.1.1.3">𝑖</ci></apply><apply id="alg1.l3.m1.4.4.2.2.3.cmml" xref="alg1.l3.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.4.4.2.2.3a.cmml" xref="alg1.l3.m1.4.4.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l3.m1.4.4.2.2.1.1.cmml" xref="alg1.l3.m1.4.4.2.2.1.1"><and id="alg1.l3.m1.4.4.2.2.1.1a.cmml" xref="alg1.l3.m1.4.4.2.2.1.1"></and><apply id="alg1.l3.m1.4.4.2.2.1.1b.cmml" xref="alg1.l3.m1.4.4.2.2.1.1"><leq id="alg1.l3.m1.4.4.2.2.1.1.3.cmml" xref="alg1.l3.m1.4.4.2.2.1.1.3"></leq><cn type="integer" id="alg1.l3.m1.4.4.2.2.1.1.2.cmml" xref="alg1.l3.m1.4.4.2.2.1.1.2">1</cn><ci id="alg1.l3.m1.4.4.2.2.1.1.4.cmml" xref="alg1.l3.m1.4.4.2.2.1.1.4">𝑖</ci></apply><apply id="alg1.l3.m1.4.4.2.2.1.1c.cmml" xref="alg1.l3.m1.4.4.2.2.1.1"><leq id="alg1.l3.m1.4.4.2.2.1.1.5.cmml" xref="alg1.l3.m1.4.4.2.2.1.1.5"></leq><share href="#alg1.l3.m1.4.4.2.2.1.1.4.cmml" id="alg1.l3.m1.4.4.2.2.1.1d.cmml" xref="alg1.l3.m1.4.4.2.2.1.1"></share><ci id="alg1.l3.m1.4.4.2.2.1.1.6.cmml" xref="alg1.l3.m1.4.4.2.2.1.1.6">𝑁</ci></apply></apply><apply id="alg1.l3.m1.4.4.2.2.2.2.cmml" xref="alg1.l3.m1.4.4.2.2.2.2"><csymbol cd="latexml" id="alg1.l3.m1.4.4.2.2.2.2.1.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.1">similar-to</csymbol><apply id="alg1.l3.m1.4.4.2.2.2.2.2.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l3.m1.4.4.2.2.2.2.2.1.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.2">subscript</csymbol><ci id="alg1.l3.m1.4.4.2.2.2.2.2.2.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.2.2">𝑋</ci><ci id="alg1.l3.m1.4.4.2.2.2.2.2.3.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.2.3">𝑖</ci></apply><apply id="alg1.l3.m1.4.4.2.2.2.2.3.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.3"><times id="alg1.l3.m1.4.4.2.2.2.2.3.1.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.3.1"></times><ci id="alg1.l3.m1.4.4.2.2.2.2.3.2a.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.3.2"><mtext id="alg1.l3.m1.4.4.2.2.2.2.3.2.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.3.2">U</mtext></ci><interval closure="open" id="alg1.l3.m1.4.4.2.2.2.2.3.3.1.cmml" xref="alg1.l3.m1.4.4.2.2.2.2.3.3.2"><cn type="integer" id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">1</cn><ci id="alg1.l3.m1.2.2.cmml" xref="alg1.l3.m1.2.2">𝑉</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.4c">\{X_{i}\mid 1\leq i\leq N,X_{i}\sim\text{U}(1,V)\}</annotation></semantics></math>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>     <math id="alg1.l4.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg1.l4.m1.1a"><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">L</annotation></semantics></math> starts with an empty list

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     <math id="alg1.l5.m1.1" class="ltx_Math" alttext="S\leftarrow\{X_{i}\}" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml">S</mi><mo stretchy="false" id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">←</mo><mrow id="alg1.l5.m1.1.1.1.1" xref="alg1.l5.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l5.m1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.2.cmml">{</mo><msub id="alg1.l5.m1.1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.1.cmml"><mi id="alg1.l5.m1.1.1.1.1.1.2" xref="alg1.l5.m1.1.1.1.1.1.2.cmml">X</mi><mi id="alg1.l5.m1.1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l5.m1.1.1.1.1.3" xref="alg1.l5.m1.1.1.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">←</ci><ci id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">𝑆</ci><set id="alg1.l5.m1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.1"><apply id="alg1.l5.m1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.1.1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l5.m1.1.1.1.1.1.2.cmml" xref="alg1.l5.m1.1.1.1.1.1.2">𝑋</ci><ci id="alg1.l5.m1.1.1.1.1.1.3.cmml" xref="alg1.l5.m1.1.1.1.1.1.3">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">S\leftarrow\{X_{i}\}</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <span id="alg1.l6.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l6.m1.1" class="ltx_Math" alttext="i=1" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml">i</mi><mo id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">=</mo><mn id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><eq id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1"></eq><ci id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">𝑖</ci><cn type="integer" id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">i=1</annotation></semantics></math> to <math id="alg1.l6.m2.1" class="ltx_Math" alttext="N-1" display="inline"><semantics id="alg1.l6.m2.1a"><mrow id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml"><mi id="alg1.l6.m2.1.1.2" xref="alg1.l6.m2.1.1.2.cmml">N</mi><mo id="alg1.l6.m2.1.1.1" xref="alg1.l6.m2.1.1.1.cmml">−</mo><mn id="alg1.l6.m2.1.1.3" xref="alg1.l6.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><apply id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1"><minus id="alg1.l6.m2.1.1.1.cmml" xref="alg1.l6.m2.1.1.1"></minus><ci id="alg1.l6.m2.1.1.2.cmml" xref="alg1.l6.m2.1.1.2">𝑁</ci><cn type="integer" id="alg1.l6.m2.1.1.3.cmml" xref="alg1.l6.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">N-1</annotation></semantics></math> <span id="alg1.l6.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>        Randomly select <math id="alg1.l7.m1.2" class="ltx_Math" alttext="a_{i},b_{i}\in S" display="inline"><semantics id="alg1.l7.m1.2a"><mrow id="alg1.l7.m1.2.2" xref="alg1.l7.m1.2.2.cmml"><mrow id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.3.cmml"><msub id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.2.cmml">a</mi><mi id="alg1.l7.m1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg1.l7.m1.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.3.cmml">,</mo><msub id="alg1.l7.m1.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.cmml"><mi id="alg1.l7.m1.2.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.2.cmml">b</mi><mi id="alg1.l7.m1.2.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.2.2.3.cmml">i</mi></msub></mrow><mo id="alg1.l7.m1.2.2.3" xref="alg1.l7.m1.2.2.3.cmml">∈</mo><mi id="alg1.l7.m1.2.2.4" xref="alg1.l7.m1.2.2.4.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.2b"><apply id="alg1.l7.m1.2.2.cmml" xref="alg1.l7.m1.2.2"><in id="alg1.l7.m1.2.2.3.cmml" xref="alg1.l7.m1.2.2.3"></in><list id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2"><apply id="alg1.l7.m1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.2">𝑎</ci><ci id="alg1.l7.m1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.l7.m1.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.2.2.2.1.cmml" xref="alg1.l7.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.l7.m1.2.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2.2">𝑏</ci><ci id="alg1.l7.m1.2.2.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2.2.3">𝑖</ci></apply></list><ci id="alg1.l7.m1.2.2.4.cmml" xref="alg1.l7.m1.2.2.4">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.2c">a_{i},b_{i}\in S</annotation></semantics></math>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>        Randomly select <math id="alg1.l8.m1.4" class="ltx_Math" alttext="ops_{i}\in\{+,-,\times,\div\}" display="inline"><semantics id="alg1.l8.m1.4a"><mrow id="alg1.l8.m1.4.5" xref="alg1.l8.m1.4.5.cmml"><mrow id="alg1.l8.m1.4.5.2" xref="alg1.l8.m1.4.5.2.cmml"><mi id="alg1.l8.m1.4.5.2.2" xref="alg1.l8.m1.4.5.2.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.5.2.1" xref="alg1.l8.m1.4.5.2.1.cmml">​</mo><mi id="alg1.l8.m1.4.5.2.3" xref="alg1.l8.m1.4.5.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.5.2.1a" xref="alg1.l8.m1.4.5.2.1.cmml">​</mo><msub id="alg1.l8.m1.4.5.2.4" xref="alg1.l8.m1.4.5.2.4.cmml"><mi id="alg1.l8.m1.4.5.2.4.2" xref="alg1.l8.m1.4.5.2.4.2.cmml">s</mi><mi id="alg1.l8.m1.4.5.2.4.3" xref="alg1.l8.m1.4.5.2.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l8.m1.4.5.1" xref="alg1.l8.m1.4.5.1.cmml">∈</mo><mrow id="alg1.l8.m1.4.5.3.2" xref="alg1.l8.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg1.l8.m1.4.5.3.2.1" xref="alg1.l8.m1.4.5.3.1.cmml">{</mo><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">+</mo><mo rspace="0em" id="alg1.l8.m1.4.5.3.2.2" xref="alg1.l8.m1.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="alg1.l8.m1.2.2" xref="alg1.l8.m1.2.2.cmml">−</mo><mo rspace="0em" id="alg1.l8.m1.4.5.3.2.3" xref="alg1.l8.m1.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="alg1.l8.m1.3.3" xref="alg1.l8.m1.3.3.cmml">×</mo><mo rspace="0em" id="alg1.l8.m1.4.5.3.2.4" xref="alg1.l8.m1.4.5.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.4" xref="alg1.l8.m1.4.4.cmml">÷</mo><mo stretchy="false" id="alg1.l8.m1.4.5.3.2.5" xref="alg1.l8.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.4b"><apply id="alg1.l8.m1.4.5.cmml" xref="alg1.l8.m1.4.5"><in id="alg1.l8.m1.4.5.1.cmml" xref="alg1.l8.m1.4.5.1"></in><apply id="alg1.l8.m1.4.5.2.cmml" xref="alg1.l8.m1.4.5.2"><times id="alg1.l8.m1.4.5.2.1.cmml" xref="alg1.l8.m1.4.5.2.1"></times><ci id="alg1.l8.m1.4.5.2.2.cmml" xref="alg1.l8.m1.4.5.2.2">𝑜</ci><ci id="alg1.l8.m1.4.5.2.3.cmml" xref="alg1.l8.m1.4.5.2.3">𝑝</ci><apply id="alg1.l8.m1.4.5.2.4.cmml" xref="alg1.l8.m1.4.5.2.4"><csymbol cd="ambiguous" id="alg1.l8.m1.4.5.2.4.1.cmml" xref="alg1.l8.m1.4.5.2.4">subscript</csymbol><ci id="alg1.l8.m1.4.5.2.4.2.cmml" xref="alg1.l8.m1.4.5.2.4.2">𝑠</ci><ci id="alg1.l8.m1.4.5.2.4.3.cmml" xref="alg1.l8.m1.4.5.2.4.3">𝑖</ci></apply></apply><set id="alg1.l8.m1.4.5.3.1.cmml" xref="alg1.l8.m1.4.5.3.2"><plus id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"></plus><minus id="alg1.l8.m1.2.2.cmml" xref="alg1.l8.m1.2.2"></minus><times id="alg1.l8.m1.3.3.cmml" xref="alg1.l8.m1.3.3"></times><divide id="alg1.l8.m1.4.4.cmml" xref="alg1.l8.m1.4.4"></divide></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.4c">ops_{i}\in\{+,-,\times,\div\}</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>        <math id="alg1.l9.m1.3" class="ltx_Math" alttext="c_{i}\leftarrow a_{i}\quad ops_{i}\quad b_{i}" display="inline"><semantics id="alg1.l9.m1.3a"><mrow id="alg1.l9.m1.3.3" xref="alg1.l9.m1.3.3.cmml"><msub id="alg1.l9.m1.3.3.5" xref="alg1.l9.m1.3.3.5.cmml"><mi id="alg1.l9.m1.3.3.5.2" xref="alg1.l9.m1.3.3.5.2.cmml">c</mi><mi id="alg1.l9.m1.3.3.5.3" xref="alg1.l9.m1.3.3.5.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l9.m1.3.3.4" xref="alg1.l9.m1.3.3.4.cmml">←</mo><mrow id="alg1.l9.m1.3.3.3.3" xref="alg1.l9.m1.3.3.3.4.cmml"><msub id="alg1.l9.m1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.1.2.cmml">a</mi><mi id="alg1.l9.m1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.3.cmml">i</mi></msub><mspace width="1em" id="alg1.l9.m1.3.3.3.3.4" xref="alg1.l9.m1.3.3.3.4.cmml"></mspace><mrow id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.2.2.2.2.1" xref="alg1.l9.m1.2.2.2.2.2.1.cmml">​</mo><mi id="alg1.l9.m1.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.2.2.2.2.1a" xref="alg1.l9.m1.2.2.2.2.2.1.cmml">​</mo><msub id="alg1.l9.m1.2.2.2.2.2.4" xref="alg1.l9.m1.2.2.2.2.2.4.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.4.2" xref="alg1.l9.m1.2.2.2.2.2.4.2.cmml">s</mi><mi id="alg1.l9.m1.2.2.2.2.2.4.3" xref="alg1.l9.m1.2.2.2.2.2.4.3.cmml">i</mi></msub></mrow><mspace width="1em" id="alg1.l9.m1.3.3.3.3.5" xref="alg1.l9.m1.3.3.3.4.cmml"></mspace><msub id="alg1.l9.m1.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.cmml"><mi id="alg1.l9.m1.3.3.3.3.3.2" xref="alg1.l9.m1.3.3.3.3.3.2.cmml">b</mi><mi id="alg1.l9.m1.3.3.3.3.3.3" xref="alg1.l9.m1.3.3.3.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.3b"><apply id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3"><ci id="alg1.l9.m1.3.3.4.cmml" xref="alg1.l9.m1.3.3.4">←</ci><apply id="alg1.l9.m1.3.3.5.cmml" xref="alg1.l9.m1.3.3.5"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.5.1.cmml" xref="alg1.l9.m1.3.3.5">subscript</csymbol><ci id="alg1.l9.m1.3.3.5.2.cmml" xref="alg1.l9.m1.3.3.5.2">𝑐</ci><ci id="alg1.l9.m1.3.3.5.3.cmml" xref="alg1.l9.m1.3.3.5.3">𝑖</ci></apply><list id="alg1.l9.m1.3.3.3.4.cmml" xref="alg1.l9.m1.3.3.3.3"><apply id="alg1.l9.m1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.2">𝑎</ci><ci id="alg1.l9.m1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.l9.m1.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2"><times id="alg1.l9.m1.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.1"></times><ci id="alg1.l9.m1.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2">𝑜</ci><ci id="alg1.l9.m1.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.3">𝑝</ci><apply id="alg1.l9.m1.2.2.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.2.4.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.4.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.4.2">𝑠</ci><ci id="alg1.l9.m1.2.2.2.2.2.4.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.4.3">𝑖</ci></apply></apply><apply id="alg1.l9.m1.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.3.3.3.1.cmml" xref="alg1.l9.m1.3.3.3.3.3">subscript</csymbol><ci id="alg1.l9.m1.3.3.3.3.3.2.cmml" xref="alg1.l9.m1.3.3.3.3.3.2">𝑏</ci><ci id="alg1.l9.m1.3.3.3.3.3.3.cmml" xref="alg1.l9.m1.3.3.3.3.3.3">𝑖</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.3c">c_{i}\leftarrow a_{i}\quad ops_{i}\quad b_{i}</annotation></semantics></math>

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>        <math id="alg1.l10.m1.2" class="ltx_Math" alttext="S\leftarrow S-\{a_{i}\}-\{b_{i}\}" display="inline"><semantics id="alg1.l10.m1.2a"><mrow id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml"><mi id="alg1.l10.m1.2.2.4" xref="alg1.l10.m1.2.2.4.cmml">S</mi><mo stretchy="false" id="alg1.l10.m1.2.2.3" xref="alg1.l10.m1.2.2.3.cmml">←</mo><mrow id="alg1.l10.m1.2.2.2" xref="alg1.l10.m1.2.2.2.cmml"><mi id="alg1.l10.m1.2.2.2.4" xref="alg1.l10.m1.2.2.2.4.cmml">S</mi><mo id="alg1.l10.m1.2.2.2.3" xref="alg1.l10.m1.2.2.2.3.cmml">−</mo><mrow id="alg1.l10.m1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.2.cmml">{</mo><msub id="alg1.l10.m1.1.1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l10.m1.1.1.1.1.1.1.2" xref="alg1.l10.m1.1.1.1.1.1.1.2.cmml">a</mi><mi id="alg1.l10.m1.1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l10.m1.1.1.1.1.1.3" xref="alg1.l10.m1.1.1.1.1.2.cmml">}</mo></mrow><mo id="alg1.l10.m1.2.2.2.3a" xref="alg1.l10.m1.2.2.2.3.cmml">−</mo><mrow id="alg1.l10.m1.2.2.2.2.1" xref="alg1.l10.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="alg1.l10.m1.2.2.2.2.1.2" xref="alg1.l10.m1.2.2.2.2.2.cmml">{</mo><msub id="alg1.l10.m1.2.2.2.2.1.1" xref="alg1.l10.m1.2.2.2.2.1.1.cmml"><mi id="alg1.l10.m1.2.2.2.2.1.1.2" xref="alg1.l10.m1.2.2.2.2.1.1.2.cmml">b</mi><mi id="alg1.l10.m1.2.2.2.2.1.1.3" xref="alg1.l10.m1.2.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l10.m1.2.2.2.2.1.3" xref="alg1.l10.m1.2.2.2.2.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.2b"><apply id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2"><ci id="alg1.l10.m1.2.2.3.cmml" xref="alg1.l10.m1.2.2.3">←</ci><ci id="alg1.l10.m1.2.2.4.cmml" xref="alg1.l10.m1.2.2.4">𝑆</ci><apply id="alg1.l10.m1.2.2.2.cmml" xref="alg1.l10.m1.2.2.2"><minus id="alg1.l10.m1.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.3"></minus><ci id="alg1.l10.m1.2.2.2.4.cmml" xref="alg1.l10.m1.2.2.2.4">𝑆</ci><set id="alg1.l10.m1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1"><apply id="alg1.l10.m1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.2">𝑎</ci><ci id="alg1.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set><set id="alg1.l10.m1.2.2.2.2.2.cmml" xref="alg1.l10.m1.2.2.2.2.1"><apply id="alg1.l10.m1.2.2.2.2.1.1.cmml" xref="alg1.l10.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.2.2.1.1.1.cmml" xref="alg1.l10.m1.2.2.2.2.1.1">subscript</csymbol><ci id="alg1.l10.m1.2.2.2.2.1.1.2.cmml" xref="alg1.l10.m1.2.2.2.2.1.1.2">𝑏</ci><ci id="alg1.l10.m1.2.2.2.2.1.1.3.cmml" xref="alg1.l10.m1.2.2.2.2.1.1.3">𝑖</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.2c">S\leftarrow S-\{a_{i}\}-\{b_{i}\}</annotation></semantics></math>

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>        <math id="alg1.l11.m1.1" class="ltx_Math" alttext="S\leftarrow S\cup\{c_{i}\}" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><mi id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml">S</mi><mo stretchy="false" id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml">←</mo><mrow id="alg1.l11.m1.1.1.1" xref="alg1.l11.m1.1.1.1.cmml"><mi id="alg1.l11.m1.1.1.1.3" xref="alg1.l11.m1.1.1.1.3.cmml">S</mi><mo id="alg1.l11.m1.1.1.1.2" xref="alg1.l11.m1.1.1.1.2.cmml">∪</mo><mrow id="alg1.l11.m1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l11.m1.1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.1.2.cmml">{</mo><msub id="alg1.l11.m1.1.1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l11.m1.1.1.1.1.1.1.2" xref="alg1.l11.m1.1.1.1.1.1.1.2.cmml">c</mi><mi id="alg1.l11.m1.1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l11.m1.1.1.1.1.1.3" xref="alg1.l11.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><ci id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2">←</ci><ci id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3">𝑆</ci><apply id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1"><union id="alg1.l11.m1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.2"></union><ci id="alg1.l11.m1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.3">𝑆</ci><set id="alg1.l11.m1.1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1.1"><apply id="alg1.l11.m1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l11.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.2">𝑐</ci><ci id="alg1.l11.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l11.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">S\leftarrow S\cup\{c_{i}\}</annotation></semantics></math>

</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>        <math id="alg1.l12.m1.1" class="ltx_math_unparsed" alttext="L\leftarrow L+\{a_{i}.ops_{i}.b_{i},c_{i}\}" display="inline"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1b"><mi id="alg1.l12.m1.1.1">L</mi><mo stretchy="false" id="alg1.l12.m1.1.2">←</mo><mi id="alg1.l12.m1.1.3">L</mi><mo id="alg1.l12.m1.1.4">+</mo><mrow id="alg1.l12.m1.1.5"><mo stretchy="false" id="alg1.l12.m1.1.5.1">{</mo><msub id="alg1.l12.m1.1.5.2"><mi id="alg1.l12.m1.1.5.2.2">a</mi><mi id="alg1.l12.m1.1.5.2.3">i</mi></msub><mo lspace="0em" rspace="0.167em" id="alg1.l12.m1.1.5.3">.</mo><mi id="alg1.l12.m1.1.5.4">o</mi><mi id="alg1.l12.m1.1.5.5">p</mi><msub id="alg1.l12.m1.1.5.6"><mi id="alg1.l12.m1.1.5.6.2">s</mi><mi id="alg1.l12.m1.1.5.6.3">i</mi></msub><mo lspace="0em" rspace="0.167em" id="alg1.l12.m1.1.5.7">.</mo><msub id="alg1.l12.m1.1.5.8"><mi id="alg1.l12.m1.1.5.8.2">b</mi><mi id="alg1.l12.m1.1.5.8.3">i</mi></msub><mo id="alg1.l12.m1.1.5.9">,</mo><msub id="alg1.l12.m1.1.5.10"><mi id="alg1.l12.m1.1.5.10.2">c</mi><mi id="alg1.l12.m1.1.5.10.3">i</mi></msub><mo stretchy="false" id="alg1.l12.m1.1.5.11">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">L\leftarrow L+\{a_{i}.ops_{i}.b_{i},c_{i}\}</annotation></semantics></math>

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     <span id="alg1.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <math id="alg1.l14.m1.1" class="ltx_Math" alttext="T\leftarrow c_{N-1}" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">T</mi><mo stretchy="false" id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">←</mo><msub id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml"><mi id="alg1.l14.m1.1.1.3.2" xref="alg1.l14.m1.1.1.3.2.cmml">c</mi><mrow id="alg1.l14.m1.1.1.3.3" xref="alg1.l14.m1.1.1.3.3.cmml"><mi id="alg1.l14.m1.1.1.3.3.2" xref="alg1.l14.m1.1.1.3.3.2.cmml">N</mi><mo id="alg1.l14.m1.1.1.3.3.1" xref="alg1.l14.m1.1.1.3.3.1.cmml">−</mo><mn id="alg1.l14.m1.1.1.3.3.3" xref="alg1.l14.m1.1.1.3.3.3.cmml">1</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><ci id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1">←</ci><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">𝑇</ci><apply id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.3.1.cmml" xref="alg1.l14.m1.1.1.3">subscript</csymbol><ci id="alg1.l14.m1.1.1.3.2.cmml" xref="alg1.l14.m1.1.1.3.2">𝑐</ci><apply id="alg1.l14.m1.1.1.3.3.cmml" xref="alg1.l14.m1.1.1.3.3"><minus id="alg1.l14.m1.1.1.3.3.1.cmml" xref="alg1.l14.m1.1.1.3.3.1"></minus><ci id="alg1.l14.m1.1.1.3.3.2.cmml" xref="alg1.l14.m1.1.1.3.3.2">𝑁</ci><cn type="integer" id="alg1.l14.m1.1.1.3.3.3.cmml" xref="alg1.l14.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">T\leftarrow c_{N-1}</annotation></semantics></math>

</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>     <span id="alg1.l15.1" class="ltx_text ltx_font_bold">if</span> <math id="alg1.l15.m1.2" class="ltx_Math" alttext="\{L,T\}\notin S_{dataset}" display="inline"><semantics id="alg1.l15.m1.2a"><mrow id="alg1.l15.m1.2.3" xref="alg1.l15.m1.2.3.cmml"><mrow id="alg1.l15.m1.2.3.2.2" xref="alg1.l15.m1.2.3.2.1.cmml"><mo stretchy="false" id="alg1.l15.m1.2.3.2.2.1" xref="alg1.l15.m1.2.3.2.1.cmml">{</mo><mi id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml">L</mi><mo id="alg1.l15.m1.2.3.2.2.2" xref="alg1.l15.m1.2.3.2.1.cmml">,</mo><mi id="alg1.l15.m1.2.2" xref="alg1.l15.m1.2.2.cmml">T</mi><mo stretchy="false" id="alg1.l15.m1.2.3.2.2.3" xref="alg1.l15.m1.2.3.2.1.cmml">}</mo></mrow><mo id="alg1.l15.m1.2.3.1" xref="alg1.l15.m1.2.3.1.cmml">∉</mo><msub id="alg1.l15.m1.2.3.3" xref="alg1.l15.m1.2.3.3.cmml"><mi id="alg1.l15.m1.2.3.3.2" xref="alg1.l15.m1.2.3.3.2.cmml">S</mi><mrow id="alg1.l15.m1.2.3.3.3" xref="alg1.l15.m1.2.3.3.3.cmml"><mi id="alg1.l15.m1.2.3.3.3.2" xref="alg1.l15.m1.2.3.3.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.3" xref="alg1.l15.m1.2.3.3.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1a" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.4" xref="alg1.l15.m1.2.3.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1b" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.5" xref="alg1.l15.m1.2.3.3.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1c" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.6" xref="alg1.l15.m1.2.3.3.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1d" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.7" xref="alg1.l15.m1.2.3.3.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.2.3.3.3.1e" xref="alg1.l15.m1.2.3.3.3.1.cmml">​</mo><mi id="alg1.l15.m1.2.3.3.3.8" xref="alg1.l15.m1.2.3.3.3.8.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.2b"><apply id="alg1.l15.m1.2.3.cmml" xref="alg1.l15.m1.2.3"><notin id="alg1.l15.m1.2.3.1.cmml" xref="alg1.l15.m1.2.3.1"></notin><set id="alg1.l15.m1.2.3.2.1.cmml" xref="alg1.l15.m1.2.3.2.2"><ci id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1">𝐿</ci><ci id="alg1.l15.m1.2.2.cmml" xref="alg1.l15.m1.2.2">𝑇</ci></set><apply id="alg1.l15.m1.2.3.3.cmml" xref="alg1.l15.m1.2.3.3"><csymbol cd="ambiguous" id="alg1.l15.m1.2.3.3.1.cmml" xref="alg1.l15.m1.2.3.3">subscript</csymbol><ci id="alg1.l15.m1.2.3.3.2.cmml" xref="alg1.l15.m1.2.3.3.2">𝑆</ci><apply id="alg1.l15.m1.2.3.3.3.cmml" xref="alg1.l15.m1.2.3.3.3"><times id="alg1.l15.m1.2.3.3.3.1.cmml" xref="alg1.l15.m1.2.3.3.3.1"></times><ci id="alg1.l15.m1.2.3.3.3.2.cmml" xref="alg1.l15.m1.2.3.3.3.2">𝑑</ci><ci id="alg1.l15.m1.2.3.3.3.3.cmml" xref="alg1.l15.m1.2.3.3.3.3">𝑎</ci><ci id="alg1.l15.m1.2.3.3.3.4.cmml" xref="alg1.l15.m1.2.3.3.3.4">𝑡</ci><ci id="alg1.l15.m1.2.3.3.3.5.cmml" xref="alg1.l15.m1.2.3.3.3.5">𝑎</ci><ci id="alg1.l15.m1.2.3.3.3.6.cmml" xref="alg1.l15.m1.2.3.3.3.6">𝑠</ci><ci id="alg1.l15.m1.2.3.3.3.7.cmml" xref="alg1.l15.m1.2.3.3.3.7">𝑒</ci><ci id="alg1.l15.m1.2.3.3.3.8.cmml" xref="alg1.l15.m1.2.3.3.3.8">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.2c">\{L,T\}\notin S_{dataset}</annotation></semantics></math> <span id="alg1.l15.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span>        <math id="alg1.l16.m1.2" class="ltx_Math" alttext="S_{dataset}\leftarrow S_{dataset}\cup\{L,T\}" display="inline"><semantics id="alg1.l16.m1.2a"><mrow id="alg1.l16.m1.2.3" xref="alg1.l16.m1.2.3.cmml"><msub id="alg1.l16.m1.2.3.2" xref="alg1.l16.m1.2.3.2.cmml"><mi id="alg1.l16.m1.2.3.2.2" xref="alg1.l16.m1.2.3.2.2.cmml">S</mi><mrow id="alg1.l16.m1.2.3.2.3" xref="alg1.l16.m1.2.3.2.3.cmml"><mi id="alg1.l16.m1.2.3.2.3.2" xref="alg1.l16.m1.2.3.2.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.3" xref="alg1.l16.m1.2.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1a" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.4" xref="alg1.l16.m1.2.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1b" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.5" xref="alg1.l16.m1.2.3.2.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1c" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.6" xref="alg1.l16.m1.2.3.2.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1d" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.7" xref="alg1.l16.m1.2.3.2.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.2.3.1e" xref="alg1.l16.m1.2.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.2.3.8" xref="alg1.l16.m1.2.3.2.3.8.cmml">t</mi></mrow></msub><mo stretchy="false" id="alg1.l16.m1.2.3.1" xref="alg1.l16.m1.2.3.1.cmml">←</mo><mrow id="alg1.l16.m1.2.3.3" xref="alg1.l16.m1.2.3.3.cmml"><msub id="alg1.l16.m1.2.3.3.2" xref="alg1.l16.m1.2.3.3.2.cmml"><mi id="alg1.l16.m1.2.3.3.2.2" xref="alg1.l16.m1.2.3.3.2.2.cmml">S</mi><mrow id="alg1.l16.m1.2.3.3.2.3" xref="alg1.l16.m1.2.3.3.2.3.cmml"><mi id="alg1.l16.m1.2.3.3.2.3.2" xref="alg1.l16.m1.2.3.3.2.3.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.3" xref="alg1.l16.m1.2.3.3.2.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1a" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.4" xref="alg1.l16.m1.2.3.3.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1b" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.5" xref="alg1.l16.m1.2.3.3.2.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1c" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.6" xref="alg1.l16.m1.2.3.3.2.3.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1d" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.7" xref="alg1.l16.m1.2.3.3.2.3.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l16.m1.2.3.3.2.3.1e" xref="alg1.l16.m1.2.3.3.2.3.1.cmml">​</mo><mi id="alg1.l16.m1.2.3.3.2.3.8" xref="alg1.l16.m1.2.3.3.2.3.8.cmml">t</mi></mrow></msub><mo id="alg1.l16.m1.2.3.3.1" xref="alg1.l16.m1.2.3.3.1.cmml">∪</mo><mrow id="alg1.l16.m1.2.3.3.3.2" xref="alg1.l16.m1.2.3.3.3.1.cmml"><mo stretchy="false" id="alg1.l16.m1.2.3.3.3.2.1" xref="alg1.l16.m1.2.3.3.3.1.cmml">{</mo><mi id="alg1.l16.m1.1.1" xref="alg1.l16.m1.1.1.cmml">L</mi><mo id="alg1.l16.m1.2.3.3.3.2.2" xref="alg1.l16.m1.2.3.3.3.1.cmml">,</mo><mi id="alg1.l16.m1.2.2" xref="alg1.l16.m1.2.2.cmml">T</mi><mo stretchy="false" id="alg1.l16.m1.2.3.3.3.2.3" xref="alg1.l16.m1.2.3.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.2b"><apply id="alg1.l16.m1.2.3.cmml" xref="alg1.l16.m1.2.3"><ci id="alg1.l16.m1.2.3.1.cmml" xref="alg1.l16.m1.2.3.1">←</ci><apply id="alg1.l16.m1.2.3.2.cmml" xref="alg1.l16.m1.2.3.2"><csymbol cd="ambiguous" id="alg1.l16.m1.2.3.2.1.cmml" xref="alg1.l16.m1.2.3.2">subscript</csymbol><ci id="alg1.l16.m1.2.3.2.2.cmml" xref="alg1.l16.m1.2.3.2.2">𝑆</ci><apply id="alg1.l16.m1.2.3.2.3.cmml" xref="alg1.l16.m1.2.3.2.3"><times id="alg1.l16.m1.2.3.2.3.1.cmml" xref="alg1.l16.m1.2.3.2.3.1"></times><ci id="alg1.l16.m1.2.3.2.3.2.cmml" xref="alg1.l16.m1.2.3.2.3.2">𝑑</ci><ci id="alg1.l16.m1.2.3.2.3.3.cmml" xref="alg1.l16.m1.2.3.2.3.3">𝑎</ci><ci id="alg1.l16.m1.2.3.2.3.4.cmml" xref="alg1.l16.m1.2.3.2.3.4">𝑡</ci><ci id="alg1.l16.m1.2.3.2.3.5.cmml" xref="alg1.l16.m1.2.3.2.3.5">𝑎</ci><ci id="alg1.l16.m1.2.3.2.3.6.cmml" xref="alg1.l16.m1.2.3.2.3.6">𝑠</ci><ci id="alg1.l16.m1.2.3.2.3.7.cmml" xref="alg1.l16.m1.2.3.2.3.7">𝑒</ci><ci id="alg1.l16.m1.2.3.2.3.8.cmml" xref="alg1.l16.m1.2.3.2.3.8">𝑡</ci></apply></apply><apply id="alg1.l16.m1.2.3.3.cmml" xref="alg1.l16.m1.2.3.3"><union id="alg1.l16.m1.2.3.3.1.cmml" xref="alg1.l16.m1.2.3.3.1"></union><apply id="alg1.l16.m1.2.3.3.2.cmml" xref="alg1.l16.m1.2.3.3.2"><csymbol cd="ambiguous" id="alg1.l16.m1.2.3.3.2.1.cmml" xref="alg1.l16.m1.2.3.3.2">subscript</csymbol><ci id="alg1.l16.m1.2.3.3.2.2.cmml" xref="alg1.l16.m1.2.3.3.2.2">𝑆</ci><apply id="alg1.l16.m1.2.3.3.2.3.cmml" xref="alg1.l16.m1.2.3.3.2.3"><times id="alg1.l16.m1.2.3.3.2.3.1.cmml" xref="alg1.l16.m1.2.3.3.2.3.1"></times><ci id="alg1.l16.m1.2.3.3.2.3.2.cmml" xref="alg1.l16.m1.2.3.3.2.3.2">𝑑</ci><ci id="alg1.l16.m1.2.3.3.2.3.3.cmml" xref="alg1.l16.m1.2.3.3.2.3.3">𝑎</ci><ci id="alg1.l16.m1.2.3.3.2.3.4.cmml" xref="alg1.l16.m1.2.3.3.2.3.4">𝑡</ci><ci id="alg1.l16.m1.2.3.3.2.3.5.cmml" xref="alg1.l16.m1.2.3.3.2.3.5">𝑎</ci><ci id="alg1.l16.m1.2.3.3.2.3.6.cmml" xref="alg1.l16.m1.2.3.3.2.3.6">𝑠</ci><ci id="alg1.l16.m1.2.3.3.2.3.7.cmml" xref="alg1.l16.m1.2.3.3.2.3.7">𝑒</ci><ci id="alg1.l16.m1.2.3.3.2.3.8.cmml" xref="alg1.l16.m1.2.3.3.2.3.8">𝑡</ci></apply></apply><set id="alg1.l16.m1.2.3.3.3.1.cmml" xref="alg1.l16.m1.2.3.3.3.2"><ci id="alg1.l16.m1.1.1.cmml" xref="alg1.l16.m1.1.1">𝐿</ci><ci id="alg1.l16.m1.2.2.cmml" xref="alg1.l16.m1.2.2">𝑇</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.2c">S_{dataset}\leftarrow S_{dataset}\cup\{L,T\}</annotation></semantics></math>

</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span>     <span id="alg1.l17.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l17.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span>  <span id="alg1.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l18.2" class="ltx_text ltx_font_bold">while</span>
</div>
</div>
</figure>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Dataset</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.7" class="ltx_p">We split the dataset into training and in-distribution and out-of-distribution test dataset by controlling the total number of candidate integers <math id="S2.SS3.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p1.1.m1.1a"><mi id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">N</annotation></semantics></math> and the upper bound of the sampled integers <math id="S2.SS3.p1.2.m2.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS3.p1.2.m2.1a"><mi id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><ci id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">V</annotation></semantics></math>. We set <math id="S2.SS3.p1.3.m3.1" class="ltx_Math" alttext="V=60" display="inline"><semantics id="S2.SS3.p1.3.m3.1a"><mrow id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml"><mi id="S2.SS3.p1.3.m3.1.1.2" xref="S2.SS3.p1.3.m3.1.1.2.cmml">V</mi><mo id="S2.SS3.p1.3.m3.1.1.1" xref="S2.SS3.p1.3.m3.1.1.1.cmml">=</mo><mn id="S2.SS3.p1.3.m3.1.1.3" xref="S2.SS3.p1.3.m3.1.1.3.cmml">60</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><apply id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1"><eq id="S2.SS3.p1.3.m3.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1.1"></eq><ci id="S2.SS3.p1.3.m3.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2">𝑉</ci><cn type="integer" id="S2.SS3.p1.3.m3.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3">60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">V=60</annotation></semantics></math> for the training dataset, and sampled the candidate integers with <math id="S2.SS3.p1.4.m4.3" class="ltx_Math" alttext="N=5,6,7" display="inline"><semantics id="S2.SS3.p1.4.m4.3a"><mrow id="S2.SS3.p1.4.m4.3.4" xref="S2.SS3.p1.4.m4.3.4.cmml"><mi id="S2.SS3.p1.4.m4.3.4.2" xref="S2.SS3.p1.4.m4.3.4.2.cmml">N</mi><mo id="S2.SS3.p1.4.m4.3.4.1" xref="S2.SS3.p1.4.m4.3.4.1.cmml">=</mo><mrow id="S2.SS3.p1.4.m4.3.4.3.2" xref="S2.SS3.p1.4.m4.3.4.3.1.cmml"><mn id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml">5</mn><mo id="S2.SS3.p1.4.m4.3.4.3.2.1" xref="S2.SS3.p1.4.m4.3.4.3.1.cmml">,</mo><mn id="S2.SS3.p1.4.m4.2.2" xref="S2.SS3.p1.4.m4.2.2.cmml">6</mn><mo id="S2.SS3.p1.4.m4.3.4.3.2.2" xref="S2.SS3.p1.4.m4.3.4.3.1.cmml">,</mo><mn id="S2.SS3.p1.4.m4.3.3" xref="S2.SS3.p1.4.m4.3.3.cmml">7</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.3b"><apply id="S2.SS3.p1.4.m4.3.4.cmml" xref="S2.SS3.p1.4.m4.3.4"><eq id="S2.SS3.p1.4.m4.3.4.1.cmml" xref="S2.SS3.p1.4.m4.3.4.1"></eq><ci id="S2.SS3.p1.4.m4.3.4.2.cmml" xref="S2.SS3.p1.4.m4.3.4.2">𝑁</ci><list id="S2.SS3.p1.4.m4.3.4.3.1.cmml" xref="S2.SS3.p1.4.m4.3.4.3.2"><cn type="integer" id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1">5</cn><cn type="integer" id="S2.SS3.p1.4.m4.2.2.cmml" xref="S2.SS3.p1.4.m4.2.2">6</cn><cn type="integer" id="S2.SS3.p1.4.m4.3.3.cmml" xref="S2.SS3.p1.4.m4.3.3">7</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.3c">N=5,6,7</annotation></semantics></math>. Three training datasets with different sizes scaling from 1 million to 10 millions and 100 millions are generated. And another 7500 samples (2500 samples for each <math id="S2.SS3.p1.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p1.5.m5.1a"><mi id="S2.SS3.p1.5.m5.1.1" xref="S2.SS3.p1.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.5.m5.1b"><ci id="S2.SS3.p1.5.m5.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.5.m5.1c">N</annotation></semantics></math>) under the same setting are generated as the in-distribution test dataset. Figure. <a href="#S2.F1" title="Figure 1 ‣ 2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the distribution of <math id="S2.SS3.p1.6.m6.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p1.6.m6.1a"><mi id="S2.SS3.p1.6.m6.1.1" xref="S2.SS3.p1.6.m6.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.6.m6.1b"><ci id="S2.SS3.p1.6.m6.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.6.m6.1c">N</annotation></semantics></math> and <math id="S2.SS3.p1.7.m7.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.SS3.p1.7.m7.1a"><mi id="S2.SS3.p1.7.m7.1.1" xref="S2.SS3.p1.7.m7.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.7.m7.1b"><ci id="S2.SS3.p1.7.m7.1.1.cmml" xref="S2.SS3.p1.7.m7.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.7.m7.1c">X</annotation></semantics></math> in these three training datasets. And the corresponding distribution of the tokenized prompt and response length is shown in Figure. <a href="#S2.F2" title="Figure 2 ‣ 2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure id="S2.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F1.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/dn.png" id="S2.F1.1.g1" class="ltx_graphics ltx_img_square" width="562" height="509" alt="Refer to caption">
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F1.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/dx.png" id="S2.F1.2.g1" class="ltx_graphics ltx_img_square" width="562" height="509" alt="Refer to caption">
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Distributions of <math id="S2.F1.7.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.F1.7.m1.1b"><mi id="S2.F1.7.m1.1.1" xref="S2.F1.7.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.F1.7.m1.1c"><ci id="S2.F1.7.m1.1.1.cmml" xref="S2.F1.7.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.7.m1.1d">N</annotation></semantics></math> and <math id="S2.F1.8.m2.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.F1.8.m2.1b"><mi id="S2.F1.8.m2.1.1" xref="S2.F1.8.m2.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.F1.8.m2.1c"><ci id="S2.F1.8.m2.1.1.cmml" xref="S2.F1.8.m2.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.8.m2.1d">X</annotation></semantics></math> for different training set sizes (1M / 10M / 100M samples). <math id="S2.F1.9.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.F1.9.m3.1b"><mi id="S2.F1.9.m3.1.1" xref="S2.F1.9.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.F1.9.m3.1c"><ci id="S2.F1.9.m3.1.1.cmml" xref="S2.F1.9.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.9.m3.1d">N</annotation></semantics></math> denotes the total number of candidate integers of our puzzle, <math id="S2.F1.10.m4.4" class="ltx_Math" alttext="X=(X_{1},X_{2},\ldots,X_{N})" display="inline"><semantics id="S2.F1.10.m4.4b"><mrow id="S2.F1.10.m4.4.4" xref="S2.F1.10.m4.4.4.cmml"><mi id="S2.F1.10.m4.4.4.5" xref="S2.F1.10.m4.4.4.5.cmml">X</mi><mo id="S2.F1.10.m4.4.4.4" xref="S2.F1.10.m4.4.4.4.cmml">=</mo><mrow id="S2.F1.10.m4.4.4.3.3" xref="S2.F1.10.m4.4.4.3.4.cmml"><mo stretchy="false" id="S2.F1.10.m4.4.4.3.3.4" xref="S2.F1.10.m4.4.4.3.4.cmml">(</mo><msub id="S2.F1.10.m4.2.2.1.1.1" xref="S2.F1.10.m4.2.2.1.1.1.cmml"><mi id="S2.F1.10.m4.2.2.1.1.1.2" xref="S2.F1.10.m4.2.2.1.1.1.2.cmml">X</mi><mn id="S2.F1.10.m4.2.2.1.1.1.3" xref="S2.F1.10.m4.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.F1.10.m4.4.4.3.3.5" xref="S2.F1.10.m4.4.4.3.4.cmml">,</mo><msub id="S2.F1.10.m4.3.3.2.2.2" xref="S2.F1.10.m4.3.3.2.2.2.cmml"><mi id="S2.F1.10.m4.3.3.2.2.2.2" xref="S2.F1.10.m4.3.3.2.2.2.2.cmml">X</mi><mn id="S2.F1.10.m4.3.3.2.2.2.3" xref="S2.F1.10.m4.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.F1.10.m4.4.4.3.3.6" xref="S2.F1.10.m4.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.F1.10.m4.1.1" xref="S2.F1.10.m4.1.1.cmml">…</mi><mo id="S2.F1.10.m4.4.4.3.3.7" xref="S2.F1.10.m4.4.4.3.4.cmml">,</mo><msub id="S2.F1.10.m4.4.4.3.3.3" xref="S2.F1.10.m4.4.4.3.3.3.cmml"><mi id="S2.F1.10.m4.4.4.3.3.3.2" xref="S2.F1.10.m4.4.4.3.3.3.2.cmml">X</mi><mi id="S2.F1.10.m4.4.4.3.3.3.3" xref="S2.F1.10.m4.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S2.F1.10.m4.4.4.3.3.8" xref="S2.F1.10.m4.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.F1.10.m4.4c"><apply id="S2.F1.10.m4.4.4.cmml" xref="S2.F1.10.m4.4.4"><eq id="S2.F1.10.m4.4.4.4.cmml" xref="S2.F1.10.m4.4.4.4"></eq><ci id="S2.F1.10.m4.4.4.5.cmml" xref="S2.F1.10.m4.4.4.5">𝑋</ci><vector id="S2.F1.10.m4.4.4.3.4.cmml" xref="S2.F1.10.m4.4.4.3.3"><apply id="S2.F1.10.m4.2.2.1.1.1.cmml" xref="S2.F1.10.m4.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.F1.10.m4.2.2.1.1.1.1.cmml" xref="S2.F1.10.m4.2.2.1.1.1">subscript</csymbol><ci id="S2.F1.10.m4.2.2.1.1.1.2.cmml" xref="S2.F1.10.m4.2.2.1.1.1.2">𝑋</ci><cn type="integer" id="S2.F1.10.m4.2.2.1.1.1.3.cmml" xref="S2.F1.10.m4.2.2.1.1.1.3">1</cn></apply><apply id="S2.F1.10.m4.3.3.2.2.2.cmml" xref="S2.F1.10.m4.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.F1.10.m4.3.3.2.2.2.1.cmml" xref="S2.F1.10.m4.3.3.2.2.2">subscript</csymbol><ci id="S2.F1.10.m4.3.3.2.2.2.2.cmml" xref="S2.F1.10.m4.3.3.2.2.2.2">𝑋</ci><cn type="integer" id="S2.F1.10.m4.3.3.2.2.2.3.cmml" xref="S2.F1.10.m4.3.3.2.2.2.3">2</cn></apply><ci id="S2.F1.10.m4.1.1.cmml" xref="S2.F1.10.m4.1.1">…</ci><apply id="S2.F1.10.m4.4.4.3.3.3.cmml" xref="S2.F1.10.m4.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.F1.10.m4.4.4.3.3.3.1.cmml" xref="S2.F1.10.m4.4.4.3.3.3">subscript</csymbol><ci id="S2.F1.10.m4.4.4.3.3.3.2.cmml" xref="S2.F1.10.m4.4.4.3.3.3.2">𝑋</ci><ci id="S2.F1.10.m4.4.4.3.3.3.3.cmml" xref="S2.F1.10.m4.4.4.3.3.3.3">𝑁</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.10.m4.4d">X=(X_{1},X_{2},\ldots,X_{N})</annotation></semantics></math> denotes the candidate integers.</figcaption>
</figure>
<figure id="S2.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F2.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/DPL.png" id="S2.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="472" alt="Refer to caption">
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F2.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/DTL.png" id="S2.F2.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="459" alt="Refer to caption">
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Distributions of the tokenized prompt and response lengths for different training set sizes (1M / 10M / 100M samples).</figcaption>
</figure>
<figure id="S2.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F3.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/loss.png" id="S2.F3.1.g1" class="ltx_graphics ltx_img_square" width="562" height="487" alt="Refer to caption">
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S2.F3.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:208.1pt;">
<img src="/html/2406.02100/assets/zeroshot.png" id="S2.F3.2.g1" class="ltx_graphics ltx_img_square" width="562" height="482" alt="Refer to caption">
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The training loss and zero-shot pass@1 on ID dataset for different training set sizes (1M / 10M / 100M samples).</figcaption>
</figure>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">To further evaluate the model’s performance on extrapolation, we have also designed two benchmarks of out-of-distribution dataset:</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Verifier Algorithm</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>  <math id="alg2.l1.m1.2" class="ltx_Math" alttext="\{X_{i}\mid 1\leq i\leq N\}\leftarrow X_{prompt}" display="inline"><semantics id="alg2.l1.m1.2a"><mrow id="alg2.l1.m1.2.2" xref="alg2.l1.m1.2.2.cmml"><mrow id="alg2.l1.m1.2.2.2.2" xref="alg2.l1.m1.2.2.2.3.cmml"><mo stretchy="false" id="alg2.l1.m1.2.2.2.2.3" xref="alg2.l1.m1.2.2.2.3.1.cmml">{</mo><msub id="alg2.l1.m1.1.1.1.1.1" xref="alg2.l1.m1.1.1.1.1.1.cmml"><mi id="alg2.l1.m1.1.1.1.1.1.2" xref="alg2.l1.m1.1.1.1.1.1.2.cmml">X</mi><mi id="alg2.l1.m1.1.1.1.1.1.3" xref="alg2.l1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.2.2.4" xref="alg2.l1.m1.2.2.2.3.1.cmml">∣</mo><mrow id="alg2.l1.m1.2.2.2.2.2" xref="alg2.l1.m1.2.2.2.2.2.cmml"><mn id="alg2.l1.m1.2.2.2.2.2.2" xref="alg2.l1.m1.2.2.2.2.2.2.cmml">1</mn><mo id="alg2.l1.m1.2.2.2.2.2.3" xref="alg2.l1.m1.2.2.2.2.2.3.cmml">≤</mo><mi id="alg2.l1.m1.2.2.2.2.2.4" xref="alg2.l1.m1.2.2.2.2.2.4.cmml">i</mi><mo id="alg2.l1.m1.2.2.2.2.2.5" xref="alg2.l1.m1.2.2.2.2.2.5.cmml">≤</mo><mi id="alg2.l1.m1.2.2.2.2.2.6" xref="alg2.l1.m1.2.2.2.2.2.6.cmml">N</mi></mrow><mo stretchy="false" id="alg2.l1.m1.2.2.2.2.5" xref="alg2.l1.m1.2.2.2.3.1.cmml">}</mo></mrow><mo stretchy="false" id="alg2.l1.m1.2.2.3" xref="alg2.l1.m1.2.2.3.cmml">←</mo><msub id="alg2.l1.m1.2.2.4" xref="alg2.l1.m1.2.2.4.cmml"><mi id="alg2.l1.m1.2.2.4.2" xref="alg2.l1.m1.2.2.4.2.cmml">X</mi><mrow id="alg2.l1.m1.2.2.4.3" xref="alg2.l1.m1.2.2.4.3.cmml"><mi id="alg2.l1.m1.2.2.4.3.2" xref="alg2.l1.m1.2.2.4.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.4.3.1" xref="alg2.l1.m1.2.2.4.3.1.cmml">​</mo><mi id="alg2.l1.m1.2.2.4.3.3" xref="alg2.l1.m1.2.2.4.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.4.3.1a" xref="alg2.l1.m1.2.2.4.3.1.cmml">​</mo><mi id="alg2.l1.m1.2.2.4.3.4" xref="alg2.l1.m1.2.2.4.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.4.3.1b" xref="alg2.l1.m1.2.2.4.3.1.cmml">​</mo><mi id="alg2.l1.m1.2.2.4.3.5" xref="alg2.l1.m1.2.2.4.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.4.3.1c" xref="alg2.l1.m1.2.2.4.3.1.cmml">​</mo><mi id="alg2.l1.m1.2.2.4.3.6" xref="alg2.l1.m1.2.2.4.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.2.2.4.3.1d" xref="alg2.l1.m1.2.2.4.3.1.cmml">​</mo><mi id="alg2.l1.m1.2.2.4.3.7" xref="alg2.l1.m1.2.2.4.3.7.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.2b"><apply id="alg2.l1.m1.2.2.cmml" xref="alg2.l1.m1.2.2"><ci id="alg2.l1.m1.2.2.3.cmml" xref="alg2.l1.m1.2.2.3">←</ci><apply id="alg2.l1.m1.2.2.2.3.cmml" xref="alg2.l1.m1.2.2.2.2"><csymbol cd="latexml" id="alg2.l1.m1.2.2.2.3.1.cmml" xref="alg2.l1.m1.2.2.2.2.3">conditional-set</csymbol><apply id="alg2.l1.m1.1.1.1.1.1.cmml" xref="alg2.l1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l1.m1.1.1.1.1.1.1.cmml" xref="alg2.l1.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l1.m1.1.1.1.1.1.2.cmml" xref="alg2.l1.m1.1.1.1.1.1.2">𝑋</ci><ci id="alg2.l1.m1.1.1.1.1.1.3.cmml" xref="alg2.l1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg2.l1.m1.2.2.2.2.2.cmml" xref="alg2.l1.m1.2.2.2.2.2"><and id="alg2.l1.m1.2.2.2.2.2a.cmml" xref="alg2.l1.m1.2.2.2.2.2"></and><apply id="alg2.l1.m1.2.2.2.2.2b.cmml" xref="alg2.l1.m1.2.2.2.2.2"><leq id="alg2.l1.m1.2.2.2.2.2.3.cmml" xref="alg2.l1.m1.2.2.2.2.2.3"></leq><cn type="integer" id="alg2.l1.m1.2.2.2.2.2.2.cmml" xref="alg2.l1.m1.2.2.2.2.2.2">1</cn><ci id="alg2.l1.m1.2.2.2.2.2.4.cmml" xref="alg2.l1.m1.2.2.2.2.2.4">𝑖</ci></apply><apply id="alg2.l1.m1.2.2.2.2.2c.cmml" xref="alg2.l1.m1.2.2.2.2.2"><leq id="alg2.l1.m1.2.2.2.2.2.5.cmml" xref="alg2.l1.m1.2.2.2.2.2.5"></leq><share href="#alg2.l1.m1.2.2.2.2.2.4.cmml" id="alg2.l1.m1.2.2.2.2.2d.cmml" xref="alg2.l1.m1.2.2.2.2.2"></share><ci id="alg2.l1.m1.2.2.2.2.2.6.cmml" xref="alg2.l1.m1.2.2.2.2.2.6">𝑁</ci></apply></apply></apply><apply id="alg2.l1.m1.2.2.4.cmml" xref="alg2.l1.m1.2.2.4"><csymbol cd="ambiguous" id="alg2.l1.m1.2.2.4.1.cmml" xref="alg2.l1.m1.2.2.4">subscript</csymbol><ci id="alg2.l1.m1.2.2.4.2.cmml" xref="alg2.l1.m1.2.2.4.2">𝑋</ci><apply id="alg2.l1.m1.2.2.4.3.cmml" xref="alg2.l1.m1.2.2.4.3"><times id="alg2.l1.m1.2.2.4.3.1.cmml" xref="alg2.l1.m1.2.2.4.3.1"></times><ci id="alg2.l1.m1.2.2.4.3.2.cmml" xref="alg2.l1.m1.2.2.4.3.2">𝑝</ci><ci id="alg2.l1.m1.2.2.4.3.3.cmml" xref="alg2.l1.m1.2.2.4.3.3">𝑟</ci><ci id="alg2.l1.m1.2.2.4.3.4.cmml" xref="alg2.l1.m1.2.2.4.3.4">𝑜</ci><ci id="alg2.l1.m1.2.2.4.3.5.cmml" xref="alg2.l1.m1.2.2.4.3.5">𝑚</ci><ci id="alg2.l1.m1.2.2.4.3.6.cmml" xref="alg2.l1.m1.2.2.4.3.6">𝑝</ci><ci id="alg2.l1.m1.2.2.4.3.7.cmml" xref="alg2.l1.m1.2.2.4.3.7">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.2c">\{X_{i}\mid 1\leq i\leq N\}\leftarrow X_{prompt}</annotation></semantics></math>

</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <math id="alg2.l2.m1.1" class="ltx_Math" alttext="T\leftarrow T_{prompt}" display="inline"><semantics id="alg2.l2.m1.1a"><mrow id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml"><mi id="alg2.l2.m1.1.1.2" xref="alg2.l2.m1.1.1.2.cmml">T</mi><mo stretchy="false" id="alg2.l2.m1.1.1.1" xref="alg2.l2.m1.1.1.1.cmml">←</mo><msub id="alg2.l2.m1.1.1.3" xref="alg2.l2.m1.1.1.3.cmml"><mi id="alg2.l2.m1.1.1.3.2" xref="alg2.l2.m1.1.1.3.2.cmml">T</mi><mrow id="alg2.l2.m1.1.1.3.3" xref="alg2.l2.m1.1.1.3.3.cmml"><mi id="alg2.l2.m1.1.1.3.3.2" xref="alg2.l2.m1.1.1.3.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.3.1" xref="alg2.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3.3" xref="alg2.l2.m1.1.1.3.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.3.1a" xref="alg2.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3.4" xref="alg2.l2.m1.1.1.3.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.3.1b" xref="alg2.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3.5" xref="alg2.l2.m1.1.1.3.3.5.cmml">m</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.3.1c" xref="alg2.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3.6" xref="alg2.l2.m1.1.1.3.3.6.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.3.1d" xref="alg2.l2.m1.1.1.3.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3.7" xref="alg2.l2.m1.1.1.3.3.7.cmml">t</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><apply id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1"><ci id="alg2.l2.m1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1">←</ci><ci id="alg2.l2.m1.1.1.2.cmml" xref="alg2.l2.m1.1.1.2">𝑇</ci><apply id="alg2.l2.m1.1.1.3.cmml" xref="alg2.l2.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l2.m1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.3">subscript</csymbol><ci id="alg2.l2.m1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.3.2">𝑇</ci><apply id="alg2.l2.m1.1.1.3.3.cmml" xref="alg2.l2.m1.1.1.3.3"><times id="alg2.l2.m1.1.1.3.3.1.cmml" xref="alg2.l2.m1.1.1.3.3.1"></times><ci id="alg2.l2.m1.1.1.3.3.2.cmml" xref="alg2.l2.m1.1.1.3.3.2">𝑝</ci><ci id="alg2.l2.m1.1.1.3.3.3.cmml" xref="alg2.l2.m1.1.1.3.3.3">𝑟</ci><ci id="alg2.l2.m1.1.1.3.3.4.cmml" xref="alg2.l2.m1.1.1.3.3.4">𝑜</ci><ci id="alg2.l2.m1.1.1.3.3.5.cmml" xref="alg2.l2.m1.1.1.3.3.5">𝑚</ci><ci id="alg2.l2.m1.1.1.3.3.6.cmml" xref="alg2.l2.m1.1.1.3.3.6">𝑝</ci><ci id="alg2.l2.m1.1.1.3.3.7.cmml" xref="alg2.l2.m1.1.1.3.3.7">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">T\leftarrow T_{prompt}</annotation></semantics></math>

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>  <math id="alg2.l3.m1.1" class="ltx_Math" alttext="Eqs\leftarrow Solution_{generated}" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><mrow id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2.cmml"><mi id="alg2.l3.m1.1.1.2.2" xref="alg2.l3.m1.1.1.2.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.2.1" xref="alg2.l3.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.2.3" xref="alg2.l3.m1.1.1.2.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.2.1a" xref="alg2.l3.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.2.4" xref="alg2.l3.m1.1.1.2.4.cmml">s</mi></mrow><mo stretchy="false" id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">←</mo><mrow id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml"><mi id="alg2.l3.m1.1.1.3.2" xref="alg2.l3.m1.1.1.3.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.3" xref="alg2.l3.m1.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1a" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.4" xref="alg2.l3.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1b" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.5" xref="alg2.l3.m1.1.1.3.5.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1c" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.6" xref="alg2.l3.m1.1.1.3.6.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1d" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.7" xref="alg2.l3.m1.1.1.3.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1e" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.8" xref="alg2.l3.m1.1.1.3.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.1f" xref="alg2.l3.m1.1.1.3.1.cmml">​</mo><msub id="alg2.l3.m1.1.1.3.9" xref="alg2.l3.m1.1.1.3.9.cmml"><mi id="alg2.l3.m1.1.1.3.9.2" xref="alg2.l3.m1.1.1.3.9.2.cmml">n</mi><mrow id="alg2.l3.m1.1.1.3.9.3" xref="alg2.l3.m1.1.1.3.9.3.cmml"><mi id="alg2.l3.m1.1.1.3.9.3.2" xref="alg2.l3.m1.1.1.3.9.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.3" xref="alg2.l3.m1.1.1.3.9.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1a" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.4" xref="alg2.l3.m1.1.1.3.9.3.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1b" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.5" xref="alg2.l3.m1.1.1.3.9.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1c" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.6" xref="alg2.l3.m1.1.1.3.9.3.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1d" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.7" xref="alg2.l3.m1.1.1.3.9.3.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1e" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.8" xref="alg2.l3.m1.1.1.3.9.3.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1f" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.9" xref="alg2.l3.m1.1.1.3.9.3.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m1.1.1.3.9.3.1g" xref="alg2.l3.m1.1.1.3.9.3.1.cmml">​</mo><mi id="alg2.l3.m1.1.1.3.9.3.10" xref="alg2.l3.m1.1.1.3.9.3.10.cmml">d</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><ci id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1">←</ci><apply id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2"><times id="alg2.l3.m1.1.1.2.1.cmml" xref="alg2.l3.m1.1.1.2.1"></times><ci id="alg2.l3.m1.1.1.2.2.cmml" xref="alg2.l3.m1.1.1.2.2">𝐸</ci><ci id="alg2.l3.m1.1.1.2.3.cmml" xref="alg2.l3.m1.1.1.2.3">𝑞</ci><ci id="alg2.l3.m1.1.1.2.4.cmml" xref="alg2.l3.m1.1.1.2.4">𝑠</ci></apply><apply id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3"><times id="alg2.l3.m1.1.1.3.1.cmml" xref="alg2.l3.m1.1.1.3.1"></times><ci id="alg2.l3.m1.1.1.3.2.cmml" xref="alg2.l3.m1.1.1.3.2">𝑆</ci><ci id="alg2.l3.m1.1.1.3.3.cmml" xref="alg2.l3.m1.1.1.3.3">𝑜</ci><ci id="alg2.l3.m1.1.1.3.4.cmml" xref="alg2.l3.m1.1.1.3.4">𝑙</ci><ci id="alg2.l3.m1.1.1.3.5.cmml" xref="alg2.l3.m1.1.1.3.5">𝑢</ci><ci id="alg2.l3.m1.1.1.3.6.cmml" xref="alg2.l3.m1.1.1.3.6">𝑡</ci><ci id="alg2.l3.m1.1.1.3.7.cmml" xref="alg2.l3.m1.1.1.3.7">𝑖</ci><ci id="alg2.l3.m1.1.1.3.8.cmml" xref="alg2.l3.m1.1.1.3.8">𝑜</ci><apply id="alg2.l3.m1.1.1.3.9.cmml" xref="alg2.l3.m1.1.1.3.9"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.3.9.1.cmml" xref="alg2.l3.m1.1.1.3.9">subscript</csymbol><ci id="alg2.l3.m1.1.1.3.9.2.cmml" xref="alg2.l3.m1.1.1.3.9.2">𝑛</ci><apply id="alg2.l3.m1.1.1.3.9.3.cmml" xref="alg2.l3.m1.1.1.3.9.3"><times id="alg2.l3.m1.1.1.3.9.3.1.cmml" xref="alg2.l3.m1.1.1.3.9.3.1"></times><ci id="alg2.l3.m1.1.1.3.9.3.2.cmml" xref="alg2.l3.m1.1.1.3.9.3.2">𝑔</ci><ci id="alg2.l3.m1.1.1.3.9.3.3.cmml" xref="alg2.l3.m1.1.1.3.9.3.3">𝑒</ci><ci id="alg2.l3.m1.1.1.3.9.3.4.cmml" xref="alg2.l3.m1.1.1.3.9.3.4">𝑛</ci><ci id="alg2.l3.m1.1.1.3.9.3.5.cmml" xref="alg2.l3.m1.1.1.3.9.3.5">𝑒</ci><ci id="alg2.l3.m1.1.1.3.9.3.6.cmml" xref="alg2.l3.m1.1.1.3.9.3.6">𝑟</ci><ci id="alg2.l3.m1.1.1.3.9.3.7.cmml" xref="alg2.l3.m1.1.1.3.9.3.7">𝑎</ci><ci id="alg2.l3.m1.1.1.3.9.3.8.cmml" xref="alg2.l3.m1.1.1.3.9.3.8">𝑡</ci><ci id="alg2.l3.m1.1.1.3.9.3.9.cmml" xref="alg2.l3.m1.1.1.3.9.3.9">𝑒</ci><ci id="alg2.l3.m1.1.1.3.9.3.10.cmml" xref="alg2.l3.m1.1.1.3.9.3.10">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">Eqs\leftarrow Solution_{generated}</annotation></semantics></math>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>  <math id="alg2.l4.m1.1" class="ltx_Math" alttext="S\leftarrow\{X_{i}\}" display="inline"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mi id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml">S</mi><mo stretchy="false" id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">←</mo><mrow id="alg2.l4.m1.1.1.1.1" xref="alg2.l4.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l4.m1.1.1.1.1.2" xref="alg2.l4.m1.1.1.1.2.cmml">{</mo><msub id="alg2.l4.m1.1.1.1.1.1" xref="alg2.l4.m1.1.1.1.1.1.cmml"><mi id="alg2.l4.m1.1.1.1.1.1.2" xref="alg2.l4.m1.1.1.1.1.1.2.cmml">X</mi><mi id="alg2.l4.m1.1.1.1.1.1.3" xref="alg2.l4.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg2.l4.m1.1.1.1.1.3" xref="alg2.l4.m1.1.1.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">←</ci><ci id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">𝑆</ci><set id="alg2.l4.m1.1.1.1.2.cmml" xref="alg2.l4.m1.1.1.1.1"><apply id="alg2.l4.m1.1.1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l4.m1.1.1.1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l4.m1.1.1.1.1.1.2.cmml" xref="alg2.l4.m1.1.1.1.1.1.2">𝑋</ci><ci id="alg2.l4.m1.1.1.1.1.1.3.cmml" xref="alg2.l4.m1.1.1.1.1.1.3">𝑖</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">S\leftarrow\{X_{i}\}</annotation></semantics></math>

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>  <math id="alg2.l5.m1.1" class="ltx_Math" alttext="Flag_{verifier}\leftarrow False" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mrow id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml"><mi id="alg2.l5.m1.1.1.2.2" xref="alg2.l5.m1.1.1.2.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.1" xref="alg2.l5.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.3" xref="alg2.l5.m1.1.1.2.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.1a" xref="alg2.l5.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.4" xref="alg2.l5.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.1b" xref="alg2.l5.m1.1.1.2.1.cmml">​</mo><msub id="alg2.l5.m1.1.1.2.5" xref="alg2.l5.m1.1.1.2.5.cmml"><mi id="alg2.l5.m1.1.1.2.5.2" xref="alg2.l5.m1.1.1.2.5.2.cmml">g</mi><mrow id="alg2.l5.m1.1.1.2.5.3" xref="alg2.l5.m1.1.1.2.5.3.cmml"><mi id="alg2.l5.m1.1.1.2.5.3.2" xref="alg2.l5.m1.1.1.2.5.3.2.cmml">v</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.3" xref="alg2.l5.m1.1.1.2.5.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1a" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.4" xref="alg2.l5.m1.1.1.2.5.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1b" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.5" xref="alg2.l5.m1.1.1.2.5.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1c" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.6" xref="alg2.l5.m1.1.1.2.5.3.6.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1d" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.7" xref="alg2.l5.m1.1.1.2.5.3.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1e" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.8" xref="alg2.l5.m1.1.1.2.5.3.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.2.5.3.1f" xref="alg2.l5.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.2.5.3.9" xref="alg2.l5.m1.1.1.2.5.3.9.cmml">r</mi></mrow></msub></mrow><mo stretchy="false" id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">←</mo><mrow id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml"><mi id="alg2.l5.m1.1.1.3.2" xref="alg2.l5.m1.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.1" xref="alg2.l5.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.3" xref="alg2.l5.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.1a" xref="alg2.l5.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.4" xref="alg2.l5.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.1b" xref="alg2.l5.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.5" xref="alg2.l5.m1.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.1.3.1c" xref="alg2.l5.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l5.m1.1.1.3.6" xref="alg2.l5.m1.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><ci id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1">←</ci><apply id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2"><times id="alg2.l5.m1.1.1.2.1.cmml" xref="alg2.l5.m1.1.1.2.1"></times><ci id="alg2.l5.m1.1.1.2.2.cmml" xref="alg2.l5.m1.1.1.2.2">𝐹</ci><ci id="alg2.l5.m1.1.1.2.3.cmml" xref="alg2.l5.m1.1.1.2.3">𝑙</ci><ci id="alg2.l5.m1.1.1.2.4.cmml" xref="alg2.l5.m1.1.1.2.4">𝑎</ci><apply id="alg2.l5.m1.1.1.2.5.cmml" xref="alg2.l5.m1.1.1.2.5"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.2.5.1.cmml" xref="alg2.l5.m1.1.1.2.5">subscript</csymbol><ci id="alg2.l5.m1.1.1.2.5.2.cmml" xref="alg2.l5.m1.1.1.2.5.2">𝑔</ci><apply id="alg2.l5.m1.1.1.2.5.3.cmml" xref="alg2.l5.m1.1.1.2.5.3"><times id="alg2.l5.m1.1.1.2.5.3.1.cmml" xref="alg2.l5.m1.1.1.2.5.3.1"></times><ci id="alg2.l5.m1.1.1.2.5.3.2.cmml" xref="alg2.l5.m1.1.1.2.5.3.2">𝑣</ci><ci id="alg2.l5.m1.1.1.2.5.3.3.cmml" xref="alg2.l5.m1.1.1.2.5.3.3">𝑒</ci><ci id="alg2.l5.m1.1.1.2.5.3.4.cmml" xref="alg2.l5.m1.1.1.2.5.3.4">𝑟</ci><ci id="alg2.l5.m1.1.1.2.5.3.5.cmml" xref="alg2.l5.m1.1.1.2.5.3.5">𝑖</ci><ci id="alg2.l5.m1.1.1.2.5.3.6.cmml" xref="alg2.l5.m1.1.1.2.5.3.6">𝑓</ci><ci id="alg2.l5.m1.1.1.2.5.3.7.cmml" xref="alg2.l5.m1.1.1.2.5.3.7">𝑖</ci><ci id="alg2.l5.m1.1.1.2.5.3.8.cmml" xref="alg2.l5.m1.1.1.2.5.3.8">𝑒</ci><ci id="alg2.l5.m1.1.1.2.5.3.9.cmml" xref="alg2.l5.m1.1.1.2.5.3.9">𝑟</ci></apply></apply></apply><apply id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3"><times id="alg2.l5.m1.1.1.3.1.cmml" xref="alg2.l5.m1.1.1.3.1"></times><ci id="alg2.l5.m1.1.1.3.2.cmml" xref="alg2.l5.m1.1.1.3.2">𝐹</ci><ci id="alg2.l5.m1.1.1.3.3.cmml" xref="alg2.l5.m1.1.1.3.3">𝑎</ci><ci id="alg2.l5.m1.1.1.3.4.cmml" xref="alg2.l5.m1.1.1.3.4">𝑙</ci><ci id="alg2.l5.m1.1.1.3.5.cmml" xref="alg2.l5.m1.1.1.3.5">𝑠</ci><ci id="alg2.l5.m1.1.1.3.6.cmml" xref="alg2.l5.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">Flag_{verifier}\leftarrow False</annotation></semantics></math>

</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>  <span id="alg2.l6.1" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l6.m1.1" class="ltx_Math" alttext="eq_{i}\in Eqs" display="inline"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><mrow id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2.cmml"><mi id="alg2.l6.m1.1.1.2.2" xref="alg2.l6.m1.1.1.2.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.2.1" xref="alg2.l6.m1.1.1.2.1.cmml">​</mo><msub id="alg2.l6.m1.1.1.2.3" xref="alg2.l6.m1.1.1.2.3.cmml"><mi id="alg2.l6.m1.1.1.2.3.2" xref="alg2.l6.m1.1.1.2.3.2.cmml">q</mi><mi id="alg2.l6.m1.1.1.2.3.3" xref="alg2.l6.m1.1.1.2.3.3.cmml">i</mi></msub></mrow><mo id="alg2.l6.m1.1.1.1" xref="alg2.l6.m1.1.1.1.cmml">∈</mo><mrow id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml"><mi id="alg2.l6.m1.1.1.3.2" xref="alg2.l6.m1.1.1.3.2.cmml">E</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.3.1" xref="alg2.l6.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l6.m1.1.1.3.3" xref="alg2.l6.m1.1.1.3.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l6.m1.1.1.3.1a" xref="alg2.l6.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l6.m1.1.1.3.4" xref="alg2.l6.m1.1.1.3.4.cmml">s</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><in id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1.1"></in><apply id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2"><times id="alg2.l6.m1.1.1.2.1.cmml" xref="alg2.l6.m1.1.1.2.1"></times><ci id="alg2.l6.m1.1.1.2.2.cmml" xref="alg2.l6.m1.1.1.2.2">𝑒</ci><apply id="alg2.l6.m1.1.1.2.3.cmml" xref="alg2.l6.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg2.l6.m1.1.1.2.3.1.cmml" xref="alg2.l6.m1.1.1.2.3">subscript</csymbol><ci id="alg2.l6.m1.1.1.2.3.2.cmml" xref="alg2.l6.m1.1.1.2.3.2">𝑞</ci><ci id="alg2.l6.m1.1.1.2.3.3.cmml" xref="alg2.l6.m1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3"><times id="alg2.l6.m1.1.1.3.1.cmml" xref="alg2.l6.m1.1.1.3.1"></times><ci id="alg2.l6.m1.1.1.3.2.cmml" xref="alg2.l6.m1.1.1.3.2">𝐸</ci><ci id="alg2.l6.m1.1.1.3.3.cmml" xref="alg2.l6.m1.1.1.3.3">𝑞</ci><ci id="alg2.l6.m1.1.1.3.4.cmml" xref="alg2.l6.m1.1.1.3.4">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">eq_{i}\in Eqs</annotation></semantics></math> <span id="alg2.l6.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>     <span id="alg2.l7.1" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l7.m1.1" class="ltx_Math" alttext="eq_{i}" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml"><mi id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml">​</mo><msub id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml"><mi id="alg2.l7.m1.1.1.3.2" xref="alg2.l7.m1.1.1.3.2.cmml">q</mi><mi id="alg2.l7.m1.1.1.3.3" xref="alg2.l7.m1.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1"><times id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1"></times><ci id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2">𝑒</ci><apply id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.3">subscript</csymbol><ci id="alg2.l7.m1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.3.2">𝑞</ci><ci id="alg2.l7.m1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">eq_{i}</annotation></semantics></math> is a legel equation <span id="alg2.l7.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>        <math id="alg2.l8.m1.5" class="ltx_Math" alttext="a_{i},ops_{i},b_{i},c_{i}\leftarrow ParseEq(eq_{i})" display="inline"><semantics id="alg2.l8.m1.5a"><mrow id="alg2.l8.m1.5.5" xref="alg2.l8.m1.5.5.cmml"><mrow id="alg2.l8.m1.4.4.4.4" xref="alg2.l8.m1.4.4.4.5.cmml"><msub id="alg2.l8.m1.1.1.1.1.1" xref="alg2.l8.m1.1.1.1.1.1.cmml"><mi id="alg2.l8.m1.1.1.1.1.1.2" xref="alg2.l8.m1.1.1.1.1.1.2.cmml">a</mi><mi id="alg2.l8.m1.1.1.1.1.1.3" xref="alg2.l8.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg2.l8.m1.4.4.4.4.5" xref="alg2.l8.m1.4.4.4.5.cmml">,</mo><mrow id="alg2.l8.m1.2.2.2.2.2" xref="alg2.l8.m1.2.2.2.2.2.cmml"><mi id="alg2.l8.m1.2.2.2.2.2.2" xref="alg2.l8.m1.2.2.2.2.2.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.2.2.2.2.2.1" xref="alg2.l8.m1.2.2.2.2.2.1.cmml">​</mo><mi id="alg2.l8.m1.2.2.2.2.2.3" xref="alg2.l8.m1.2.2.2.2.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.2.2.2.2.2.1a" xref="alg2.l8.m1.2.2.2.2.2.1.cmml">​</mo><msub id="alg2.l8.m1.2.2.2.2.2.4" xref="alg2.l8.m1.2.2.2.2.2.4.cmml"><mi id="alg2.l8.m1.2.2.2.2.2.4.2" xref="alg2.l8.m1.2.2.2.2.2.4.2.cmml">s</mi><mi id="alg2.l8.m1.2.2.2.2.2.4.3" xref="alg2.l8.m1.2.2.2.2.2.4.3.cmml">i</mi></msub></mrow><mo id="alg2.l8.m1.4.4.4.4.6" xref="alg2.l8.m1.4.4.4.5.cmml">,</mo><msub id="alg2.l8.m1.3.3.3.3.3" xref="alg2.l8.m1.3.3.3.3.3.cmml"><mi id="alg2.l8.m1.3.3.3.3.3.2" xref="alg2.l8.m1.3.3.3.3.3.2.cmml">b</mi><mi id="alg2.l8.m1.3.3.3.3.3.3" xref="alg2.l8.m1.3.3.3.3.3.3.cmml">i</mi></msub><mo id="alg2.l8.m1.4.4.4.4.7" xref="alg2.l8.m1.4.4.4.5.cmml">,</mo><msub id="alg2.l8.m1.4.4.4.4.4" xref="alg2.l8.m1.4.4.4.4.4.cmml"><mi id="alg2.l8.m1.4.4.4.4.4.2" xref="alg2.l8.m1.4.4.4.4.4.2.cmml">c</mi><mi id="alg2.l8.m1.4.4.4.4.4.3" xref="alg2.l8.m1.4.4.4.4.4.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="alg2.l8.m1.5.5.6" xref="alg2.l8.m1.5.5.6.cmml">←</mo><mrow id="alg2.l8.m1.5.5.5" xref="alg2.l8.m1.5.5.5.cmml"><mi id="alg2.l8.m1.5.5.5.3" xref="alg2.l8.m1.5.5.5.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.4" xref="alg2.l8.m1.5.5.5.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2a" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.5" xref="alg2.l8.m1.5.5.5.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2b" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.6" xref="alg2.l8.m1.5.5.5.6.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2c" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.7" xref="alg2.l8.m1.5.5.5.7.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2d" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.8" xref="alg2.l8.m1.5.5.5.8.cmml">E</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2e" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mi id="alg2.l8.m1.5.5.5.9" xref="alg2.l8.m1.5.5.5.9.cmml">q</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.2f" xref="alg2.l8.m1.5.5.5.2.cmml">​</mo><mrow id="alg2.l8.m1.5.5.5.1.1" xref="alg2.l8.m1.5.5.5.1.1.1.cmml"><mo stretchy="false" id="alg2.l8.m1.5.5.5.1.1.2" xref="alg2.l8.m1.5.5.5.1.1.1.cmml">(</mo><mrow id="alg2.l8.m1.5.5.5.1.1.1" xref="alg2.l8.m1.5.5.5.1.1.1.cmml"><mi id="alg2.l8.m1.5.5.5.1.1.1.2" xref="alg2.l8.m1.5.5.5.1.1.1.2.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.5.5.5.1.1.1.1" xref="alg2.l8.m1.5.5.5.1.1.1.1.cmml">​</mo><msub id="alg2.l8.m1.5.5.5.1.1.1.3" xref="alg2.l8.m1.5.5.5.1.1.1.3.cmml"><mi id="alg2.l8.m1.5.5.5.1.1.1.3.2" xref="alg2.l8.m1.5.5.5.1.1.1.3.2.cmml">q</mi><mi id="alg2.l8.m1.5.5.5.1.1.1.3.3" xref="alg2.l8.m1.5.5.5.1.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="alg2.l8.m1.5.5.5.1.1.3" xref="alg2.l8.m1.5.5.5.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.5b"><apply id="alg2.l8.m1.5.5.cmml" xref="alg2.l8.m1.5.5"><ci id="alg2.l8.m1.5.5.6.cmml" xref="alg2.l8.m1.5.5.6">←</ci><list id="alg2.l8.m1.4.4.4.5.cmml" xref="alg2.l8.m1.4.4.4.4"><apply id="alg2.l8.m1.1.1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l8.m1.1.1.1.1.1.2.cmml" xref="alg2.l8.m1.1.1.1.1.1.2">𝑎</ci><ci id="alg2.l8.m1.1.1.1.1.1.3.cmml" xref="alg2.l8.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg2.l8.m1.2.2.2.2.2.cmml" xref="alg2.l8.m1.2.2.2.2.2"><times id="alg2.l8.m1.2.2.2.2.2.1.cmml" xref="alg2.l8.m1.2.2.2.2.2.1"></times><ci id="alg2.l8.m1.2.2.2.2.2.2.cmml" xref="alg2.l8.m1.2.2.2.2.2.2">𝑜</ci><ci id="alg2.l8.m1.2.2.2.2.2.3.cmml" xref="alg2.l8.m1.2.2.2.2.2.3">𝑝</ci><apply id="alg2.l8.m1.2.2.2.2.2.4.cmml" xref="alg2.l8.m1.2.2.2.2.2.4"><csymbol cd="ambiguous" id="alg2.l8.m1.2.2.2.2.2.4.1.cmml" xref="alg2.l8.m1.2.2.2.2.2.4">subscript</csymbol><ci id="alg2.l8.m1.2.2.2.2.2.4.2.cmml" xref="alg2.l8.m1.2.2.2.2.2.4.2">𝑠</ci><ci id="alg2.l8.m1.2.2.2.2.2.4.3.cmml" xref="alg2.l8.m1.2.2.2.2.2.4.3">𝑖</ci></apply></apply><apply id="alg2.l8.m1.3.3.3.3.3.cmml" xref="alg2.l8.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="alg2.l8.m1.3.3.3.3.3.1.cmml" xref="alg2.l8.m1.3.3.3.3.3">subscript</csymbol><ci id="alg2.l8.m1.3.3.3.3.3.2.cmml" xref="alg2.l8.m1.3.3.3.3.3.2">𝑏</ci><ci id="alg2.l8.m1.3.3.3.3.3.3.cmml" xref="alg2.l8.m1.3.3.3.3.3.3">𝑖</ci></apply><apply id="alg2.l8.m1.4.4.4.4.4.cmml" xref="alg2.l8.m1.4.4.4.4.4"><csymbol cd="ambiguous" id="alg2.l8.m1.4.4.4.4.4.1.cmml" xref="alg2.l8.m1.4.4.4.4.4">subscript</csymbol><ci id="alg2.l8.m1.4.4.4.4.4.2.cmml" xref="alg2.l8.m1.4.4.4.4.4.2">𝑐</ci><ci id="alg2.l8.m1.4.4.4.4.4.3.cmml" xref="alg2.l8.m1.4.4.4.4.4.3">𝑖</ci></apply></list><apply id="alg2.l8.m1.5.5.5.cmml" xref="alg2.l8.m1.5.5.5"><times id="alg2.l8.m1.5.5.5.2.cmml" xref="alg2.l8.m1.5.5.5.2"></times><ci id="alg2.l8.m1.5.5.5.3.cmml" xref="alg2.l8.m1.5.5.5.3">𝑃</ci><ci id="alg2.l8.m1.5.5.5.4.cmml" xref="alg2.l8.m1.5.5.5.4">𝑎</ci><ci id="alg2.l8.m1.5.5.5.5.cmml" xref="alg2.l8.m1.5.5.5.5">𝑟</ci><ci id="alg2.l8.m1.5.5.5.6.cmml" xref="alg2.l8.m1.5.5.5.6">𝑠</ci><ci id="alg2.l8.m1.5.5.5.7.cmml" xref="alg2.l8.m1.5.5.5.7">𝑒</ci><ci id="alg2.l8.m1.5.5.5.8.cmml" xref="alg2.l8.m1.5.5.5.8">𝐸</ci><ci id="alg2.l8.m1.5.5.5.9.cmml" xref="alg2.l8.m1.5.5.5.9">𝑞</ci><apply id="alg2.l8.m1.5.5.5.1.1.1.cmml" xref="alg2.l8.m1.5.5.5.1.1"><times id="alg2.l8.m1.5.5.5.1.1.1.1.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.1"></times><ci id="alg2.l8.m1.5.5.5.1.1.1.2.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.2">𝑒</ci><apply id="alg2.l8.m1.5.5.5.1.1.1.3.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l8.m1.5.5.5.1.1.1.3.1.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.3">subscript</csymbol><ci id="alg2.l8.m1.5.5.5.1.1.1.3.2.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.3.2">𝑞</ci><ci id="alg2.l8.m1.5.5.5.1.1.1.3.3.cmml" xref="alg2.l8.m1.5.5.5.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.5c">a_{i},ops_{i},b_{i},c_{i}\leftarrow ParseEq(eq_{i})</annotation></semantics></math>

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>        <span id="alg2.l9.1" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l9.m1.2" class="ltx_Math" alttext="a_{i},b_{i}\in S" display="inline"><semantics id="alg2.l9.m1.2a"><mrow id="alg2.l9.m1.2.2" xref="alg2.l9.m1.2.2.cmml"><mrow id="alg2.l9.m1.2.2.2.2" xref="alg2.l9.m1.2.2.2.3.cmml"><msub id="alg2.l9.m1.1.1.1.1.1" xref="alg2.l9.m1.1.1.1.1.1.cmml"><mi id="alg2.l9.m1.1.1.1.1.1.2" xref="alg2.l9.m1.1.1.1.1.1.2.cmml">a</mi><mi id="alg2.l9.m1.1.1.1.1.1.3" xref="alg2.l9.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg2.l9.m1.2.2.2.2.3" xref="alg2.l9.m1.2.2.2.3.cmml">,</mo><msub id="alg2.l9.m1.2.2.2.2.2" xref="alg2.l9.m1.2.2.2.2.2.cmml"><mi id="alg2.l9.m1.2.2.2.2.2.2" xref="alg2.l9.m1.2.2.2.2.2.2.cmml">b</mi><mi id="alg2.l9.m1.2.2.2.2.2.3" xref="alg2.l9.m1.2.2.2.2.2.3.cmml">i</mi></msub></mrow><mo id="alg2.l9.m1.2.2.3" xref="alg2.l9.m1.2.2.3.cmml">∈</mo><mi id="alg2.l9.m1.2.2.4" xref="alg2.l9.m1.2.2.4.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.2b"><apply id="alg2.l9.m1.2.2.cmml" xref="alg2.l9.m1.2.2"><in id="alg2.l9.m1.2.2.3.cmml" xref="alg2.l9.m1.2.2.3"></in><list id="alg2.l9.m1.2.2.2.3.cmml" xref="alg2.l9.m1.2.2.2.2"><apply id="alg2.l9.m1.1.1.1.1.1.cmml" xref="alg2.l9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l9.m1.1.1.1.1.1.1.cmml" xref="alg2.l9.m1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l9.m1.1.1.1.1.1.2.cmml" xref="alg2.l9.m1.1.1.1.1.1.2">𝑎</ci><ci id="alg2.l9.m1.1.1.1.1.1.3.cmml" xref="alg2.l9.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg2.l9.m1.2.2.2.2.2.cmml" xref="alg2.l9.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l9.m1.2.2.2.2.2.1.cmml" xref="alg2.l9.m1.2.2.2.2.2">subscript</csymbol><ci id="alg2.l9.m1.2.2.2.2.2.2.cmml" xref="alg2.l9.m1.2.2.2.2.2.2">𝑏</ci><ci id="alg2.l9.m1.2.2.2.2.2.3.cmml" xref="alg2.l9.m1.2.2.2.2.2.3">𝑖</ci></apply></list><ci id="alg2.l9.m1.2.2.4.cmml" xref="alg2.l9.m1.2.2.4">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.2c">a_{i},b_{i}\in S</annotation></semantics></math> <span id="alg2.l9.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>           <math id="alg2.l10.m1.2" class="ltx_Math" alttext="S\leftarrow S-\{a_{i}\}-\{b_{i}\}" display="inline"><semantics id="alg2.l10.m1.2a"><mrow id="alg2.l10.m1.2.2" xref="alg2.l10.m1.2.2.cmml"><mi id="alg2.l10.m1.2.2.4" xref="alg2.l10.m1.2.2.4.cmml">S</mi><mo stretchy="false" id="alg2.l10.m1.2.2.3" xref="alg2.l10.m1.2.2.3.cmml">←</mo><mrow id="alg2.l10.m1.2.2.2" xref="alg2.l10.m1.2.2.2.cmml"><mi id="alg2.l10.m1.2.2.2.4" xref="alg2.l10.m1.2.2.2.4.cmml">S</mi><mo id="alg2.l10.m1.2.2.2.3" xref="alg2.l10.m1.2.2.2.3.cmml">−</mo><mrow id="alg2.l10.m1.1.1.1.1.1" xref="alg2.l10.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l10.m1.1.1.1.1.1.2" xref="alg2.l10.m1.1.1.1.1.2.cmml">{</mo><msub id="alg2.l10.m1.1.1.1.1.1.1" xref="alg2.l10.m1.1.1.1.1.1.1.cmml"><mi id="alg2.l10.m1.1.1.1.1.1.1.2" xref="alg2.l10.m1.1.1.1.1.1.1.2.cmml">a</mi><mi id="alg2.l10.m1.1.1.1.1.1.1.3" xref="alg2.l10.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg2.l10.m1.1.1.1.1.1.3" xref="alg2.l10.m1.1.1.1.1.2.cmml">}</mo></mrow><mo id="alg2.l10.m1.2.2.2.3a" xref="alg2.l10.m1.2.2.2.3.cmml">−</mo><mrow id="alg2.l10.m1.2.2.2.2.1" xref="alg2.l10.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="alg2.l10.m1.2.2.2.2.1.2" xref="alg2.l10.m1.2.2.2.2.2.cmml">{</mo><msub id="alg2.l10.m1.2.2.2.2.1.1" xref="alg2.l10.m1.2.2.2.2.1.1.cmml"><mi id="alg2.l10.m1.2.2.2.2.1.1.2" xref="alg2.l10.m1.2.2.2.2.1.1.2.cmml">b</mi><mi id="alg2.l10.m1.2.2.2.2.1.1.3" xref="alg2.l10.m1.2.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg2.l10.m1.2.2.2.2.1.3" xref="alg2.l10.m1.2.2.2.2.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.2b"><apply id="alg2.l10.m1.2.2.cmml" xref="alg2.l10.m1.2.2"><ci id="alg2.l10.m1.2.2.3.cmml" xref="alg2.l10.m1.2.2.3">←</ci><ci id="alg2.l10.m1.2.2.4.cmml" xref="alg2.l10.m1.2.2.4">𝑆</ci><apply id="alg2.l10.m1.2.2.2.cmml" xref="alg2.l10.m1.2.2.2"><minus id="alg2.l10.m1.2.2.2.3.cmml" xref="alg2.l10.m1.2.2.2.3"></minus><ci id="alg2.l10.m1.2.2.2.4.cmml" xref="alg2.l10.m1.2.2.2.4">𝑆</ci><set id="alg2.l10.m1.1.1.1.1.2.cmml" xref="alg2.l10.m1.1.1.1.1.1"><apply id="alg2.l10.m1.1.1.1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l10.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l10.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.2">𝑎</ci><ci id="alg2.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l10.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set><set id="alg2.l10.m1.2.2.2.2.2.cmml" xref="alg2.l10.m1.2.2.2.2.1"><apply id="alg2.l10.m1.2.2.2.2.1.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.2.2.2.2.1.1.1.cmml" xref="alg2.l10.m1.2.2.2.2.1.1">subscript</csymbol><ci id="alg2.l10.m1.2.2.2.2.1.1.2.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.2">𝑏</ci><ci id="alg2.l10.m1.2.2.2.2.1.1.3.cmml" xref="alg2.l10.m1.2.2.2.2.1.1.3">𝑖</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.2c">S\leftarrow S-\{a_{i}\}-\{b_{i}\}</annotation></semantics></math>

</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>           <math id="alg2.l11.m1.1" class="ltx_Math" alttext="S\leftarrow S\cup\{c_{i}\}" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml"><mi id="alg2.l11.m1.1.1.3" xref="alg2.l11.m1.1.1.3.cmml">S</mi><mo stretchy="false" id="alg2.l11.m1.1.1.2" xref="alg2.l11.m1.1.1.2.cmml">←</mo><mrow id="alg2.l11.m1.1.1.1" xref="alg2.l11.m1.1.1.1.cmml"><mi id="alg2.l11.m1.1.1.1.3" xref="alg2.l11.m1.1.1.1.3.cmml">S</mi><mo id="alg2.l11.m1.1.1.1.2" xref="alg2.l11.m1.1.1.1.2.cmml">∪</mo><mrow id="alg2.l11.m1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.2.cmml">{</mo><msub id="alg2.l11.m1.1.1.1.1.1.1" xref="alg2.l11.m1.1.1.1.1.1.1.cmml"><mi id="alg2.l11.m1.1.1.1.1.1.1.2" xref="alg2.l11.m1.1.1.1.1.1.1.2.cmml">c</mi><mi id="alg2.l11.m1.1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg2.l11.m1.1.1.1.1.1.3" xref="alg2.l11.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1"><ci id="alg2.l11.m1.1.1.2.cmml" xref="alg2.l11.m1.1.1.2">←</ci><ci id="alg2.l11.m1.1.1.3.cmml" xref="alg2.l11.m1.1.1.3">𝑆</ci><apply id="alg2.l11.m1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1"><union id="alg2.l11.m1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.2"></union><ci id="alg2.l11.m1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.3">𝑆</ci><set id="alg2.l11.m1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1"><apply id="alg2.l11.m1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.1.1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.l11.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.2">𝑐</ci><ci id="alg2.l11.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l11.m1.1.1.1.1.1.1.3">𝑖</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">S\leftarrow S\cup\{c_{i}\}</annotation></semantics></math>

</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>        <span id="alg2.l12.1" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>           <math id="alg2.l13.m1.1" class="ltx_Math" alttext="break" display="inline"><semantics id="alg2.l13.m1.1a"><mrow id="alg2.l13.m1.1.1" xref="alg2.l13.m1.1.1.cmml"><mi id="alg2.l13.m1.1.1.2" xref="alg2.l13.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.1.1.1" xref="alg2.l13.m1.1.1.1.cmml">​</mo><mi id="alg2.l13.m1.1.1.3" xref="alg2.l13.m1.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.1.1.1a" xref="alg2.l13.m1.1.1.1.cmml">​</mo><mi id="alg2.l13.m1.1.1.4" xref="alg2.l13.m1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.1.1.1b" xref="alg2.l13.m1.1.1.1.cmml">​</mo><mi id="alg2.l13.m1.1.1.5" xref="alg2.l13.m1.1.1.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l13.m1.1.1.1c" xref="alg2.l13.m1.1.1.1.cmml">​</mo><mi id="alg2.l13.m1.1.1.6" xref="alg2.l13.m1.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l13.m1.1b"><apply id="alg2.l13.m1.1.1.cmml" xref="alg2.l13.m1.1.1"><times id="alg2.l13.m1.1.1.1.cmml" xref="alg2.l13.m1.1.1.1"></times><ci id="alg2.l13.m1.1.1.2.cmml" xref="alg2.l13.m1.1.1.2">𝑏</ci><ci id="alg2.l13.m1.1.1.3.cmml" xref="alg2.l13.m1.1.1.3">𝑟</ci><ci id="alg2.l13.m1.1.1.4.cmml" xref="alg2.l13.m1.1.1.4">𝑒</ci><ci id="alg2.l13.m1.1.1.5.cmml" xref="alg2.l13.m1.1.1.5">𝑎</ci><ci id="alg2.l13.m1.1.1.6.cmml" xref="alg2.l13.m1.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l13.m1.1c">break</annotation></semantics></math>

</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>        <span id="alg2.l14.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l14.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>     <span id="alg2.l15.1" class="ltx_text ltx_font_bold">else</span>


</div>
<div id="alg2.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span>        <math id="alg2.l16.m1.1" class="ltx_Math" alttext="break" display="inline"><semantics id="alg2.l16.m1.1a"><mrow id="alg2.l16.m1.1.1" xref="alg2.l16.m1.1.1.cmml"><mi id="alg2.l16.m1.1.1.2" xref="alg2.l16.m1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.1" xref="alg2.l16.m1.1.1.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.3" xref="alg2.l16.m1.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.1a" xref="alg2.l16.m1.1.1.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.4" xref="alg2.l16.m1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.1b" xref="alg2.l16.m1.1.1.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.5" xref="alg2.l16.m1.1.1.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l16.m1.1.1.1c" xref="alg2.l16.m1.1.1.1.cmml">​</mo><mi id="alg2.l16.m1.1.1.6" xref="alg2.l16.m1.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l16.m1.1b"><apply id="alg2.l16.m1.1.1.cmml" xref="alg2.l16.m1.1.1"><times id="alg2.l16.m1.1.1.1.cmml" xref="alg2.l16.m1.1.1.1"></times><ci id="alg2.l16.m1.1.1.2.cmml" xref="alg2.l16.m1.1.1.2">𝑏</ci><ci id="alg2.l16.m1.1.1.3.cmml" xref="alg2.l16.m1.1.1.3">𝑟</ci><ci id="alg2.l16.m1.1.1.4.cmml" xref="alg2.l16.m1.1.1.4">𝑒</ci><ci id="alg2.l16.m1.1.1.5.cmml" xref="alg2.l16.m1.1.1.5">𝑎</ci><ci id="alg2.l16.m1.1.1.6.cmml" xref="alg2.l16.m1.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l16.m1.1c">break</annotation></semantics></math>

</div>
<div id="alg2.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span>     <span id="alg2.l17.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l17.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span>  <span id="alg2.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l18.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19:</span>  <span id="alg2.l19.1" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l19.m1.1" class="ltx_Math" alttext="c_{N-1}=T" display="inline"><semantics id="alg2.l19.m1.1a"><mrow id="alg2.l19.m1.1.1" xref="alg2.l19.m1.1.1.cmml"><msub id="alg2.l19.m1.1.1.2" xref="alg2.l19.m1.1.1.2.cmml"><mi id="alg2.l19.m1.1.1.2.2" xref="alg2.l19.m1.1.1.2.2.cmml">c</mi><mrow id="alg2.l19.m1.1.1.2.3" xref="alg2.l19.m1.1.1.2.3.cmml"><mi id="alg2.l19.m1.1.1.2.3.2" xref="alg2.l19.m1.1.1.2.3.2.cmml">N</mi><mo id="alg2.l19.m1.1.1.2.3.1" xref="alg2.l19.m1.1.1.2.3.1.cmml">−</mo><mn id="alg2.l19.m1.1.1.2.3.3" xref="alg2.l19.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="alg2.l19.m1.1.1.1" xref="alg2.l19.m1.1.1.1.cmml">=</mo><mi id="alg2.l19.m1.1.1.3" xref="alg2.l19.m1.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l19.m1.1b"><apply id="alg2.l19.m1.1.1.cmml" xref="alg2.l19.m1.1.1"><eq id="alg2.l19.m1.1.1.1.cmml" xref="alg2.l19.m1.1.1.1"></eq><apply id="alg2.l19.m1.1.1.2.cmml" xref="alg2.l19.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l19.m1.1.1.2.1.cmml" xref="alg2.l19.m1.1.1.2">subscript</csymbol><ci id="alg2.l19.m1.1.1.2.2.cmml" xref="alg2.l19.m1.1.1.2.2">𝑐</ci><apply id="alg2.l19.m1.1.1.2.3.cmml" xref="alg2.l19.m1.1.1.2.3"><minus id="alg2.l19.m1.1.1.2.3.1.cmml" xref="alg2.l19.m1.1.1.2.3.1"></minus><ci id="alg2.l19.m1.1.1.2.3.2.cmml" xref="alg2.l19.m1.1.1.2.3.2">𝑁</ci><cn type="integer" id="alg2.l19.m1.1.1.2.3.3.cmml" xref="alg2.l19.m1.1.1.2.3.3">1</cn></apply></apply><ci id="alg2.l19.m1.1.1.3.cmml" xref="alg2.l19.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l19.m1.1c">c_{N-1}=T</annotation></semantics></math> <span id="alg2.l19.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20:</span>     <math id="alg2.l20.m1.1" class="ltx_Math" alttext="Flag_{verifier}\leftarrow True" display="inline"><semantics id="alg2.l20.m1.1a"><mrow id="alg2.l20.m1.1.1" xref="alg2.l20.m1.1.1.cmml"><mrow id="alg2.l20.m1.1.1.2" xref="alg2.l20.m1.1.1.2.cmml"><mi id="alg2.l20.m1.1.1.2.2" xref="alg2.l20.m1.1.1.2.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.1" xref="alg2.l20.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.3" xref="alg2.l20.m1.1.1.2.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.1a" xref="alg2.l20.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.4" xref="alg2.l20.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.1b" xref="alg2.l20.m1.1.1.2.1.cmml">​</mo><msub id="alg2.l20.m1.1.1.2.5" xref="alg2.l20.m1.1.1.2.5.cmml"><mi id="alg2.l20.m1.1.1.2.5.2" xref="alg2.l20.m1.1.1.2.5.2.cmml">g</mi><mrow id="alg2.l20.m1.1.1.2.5.3" xref="alg2.l20.m1.1.1.2.5.3.cmml"><mi id="alg2.l20.m1.1.1.2.5.3.2" xref="alg2.l20.m1.1.1.2.5.3.2.cmml">v</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.3" xref="alg2.l20.m1.1.1.2.5.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1a" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.4" xref="alg2.l20.m1.1.1.2.5.3.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1b" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.5" xref="alg2.l20.m1.1.1.2.5.3.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1c" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.6" xref="alg2.l20.m1.1.1.2.5.3.6.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1d" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.7" xref="alg2.l20.m1.1.1.2.5.3.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1e" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.8" xref="alg2.l20.m1.1.1.2.5.3.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.2.5.3.1f" xref="alg2.l20.m1.1.1.2.5.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.2.5.3.9" xref="alg2.l20.m1.1.1.2.5.3.9.cmml">r</mi></mrow></msub></mrow><mo stretchy="false" id="alg2.l20.m1.1.1.1" xref="alg2.l20.m1.1.1.1.cmml">←</mo><mrow id="alg2.l20.m1.1.1.3" xref="alg2.l20.m1.1.1.3.cmml"><mi id="alg2.l20.m1.1.1.3.2" xref="alg2.l20.m1.1.1.3.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.1" xref="alg2.l20.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.3" xref="alg2.l20.m1.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.1a" xref="alg2.l20.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.4" xref="alg2.l20.m1.1.1.3.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l20.m1.1.1.3.1b" xref="alg2.l20.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l20.m1.1.1.3.5" xref="alg2.l20.m1.1.1.3.5.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l20.m1.1b"><apply id="alg2.l20.m1.1.1.cmml" xref="alg2.l20.m1.1.1"><ci id="alg2.l20.m1.1.1.1.cmml" xref="alg2.l20.m1.1.1.1">←</ci><apply id="alg2.l20.m1.1.1.2.cmml" xref="alg2.l20.m1.1.1.2"><times id="alg2.l20.m1.1.1.2.1.cmml" xref="alg2.l20.m1.1.1.2.1"></times><ci id="alg2.l20.m1.1.1.2.2.cmml" xref="alg2.l20.m1.1.1.2.2">𝐹</ci><ci id="alg2.l20.m1.1.1.2.3.cmml" xref="alg2.l20.m1.1.1.2.3">𝑙</ci><ci id="alg2.l20.m1.1.1.2.4.cmml" xref="alg2.l20.m1.1.1.2.4">𝑎</ci><apply id="alg2.l20.m1.1.1.2.5.cmml" xref="alg2.l20.m1.1.1.2.5"><csymbol cd="ambiguous" id="alg2.l20.m1.1.1.2.5.1.cmml" xref="alg2.l20.m1.1.1.2.5">subscript</csymbol><ci id="alg2.l20.m1.1.1.2.5.2.cmml" xref="alg2.l20.m1.1.1.2.5.2">𝑔</ci><apply id="alg2.l20.m1.1.1.2.5.3.cmml" xref="alg2.l20.m1.1.1.2.5.3"><times id="alg2.l20.m1.1.1.2.5.3.1.cmml" xref="alg2.l20.m1.1.1.2.5.3.1"></times><ci id="alg2.l20.m1.1.1.2.5.3.2.cmml" xref="alg2.l20.m1.1.1.2.5.3.2">𝑣</ci><ci id="alg2.l20.m1.1.1.2.5.3.3.cmml" xref="alg2.l20.m1.1.1.2.5.3.3">𝑒</ci><ci id="alg2.l20.m1.1.1.2.5.3.4.cmml" xref="alg2.l20.m1.1.1.2.5.3.4">𝑟</ci><ci id="alg2.l20.m1.1.1.2.5.3.5.cmml" xref="alg2.l20.m1.1.1.2.5.3.5">𝑖</ci><ci id="alg2.l20.m1.1.1.2.5.3.6.cmml" xref="alg2.l20.m1.1.1.2.5.3.6">𝑓</ci><ci id="alg2.l20.m1.1.1.2.5.3.7.cmml" xref="alg2.l20.m1.1.1.2.5.3.7">𝑖</ci><ci id="alg2.l20.m1.1.1.2.5.3.8.cmml" xref="alg2.l20.m1.1.1.2.5.3.8">𝑒</ci><ci id="alg2.l20.m1.1.1.2.5.3.9.cmml" xref="alg2.l20.m1.1.1.2.5.3.9">𝑟</ci></apply></apply></apply><apply id="alg2.l20.m1.1.1.3.cmml" xref="alg2.l20.m1.1.1.3"><times id="alg2.l20.m1.1.1.3.1.cmml" xref="alg2.l20.m1.1.1.3.1"></times><ci id="alg2.l20.m1.1.1.3.2.cmml" xref="alg2.l20.m1.1.1.3.2">𝑇</ci><ci id="alg2.l20.m1.1.1.3.3.cmml" xref="alg2.l20.m1.1.1.3.3">𝑟</ci><ci id="alg2.l20.m1.1.1.3.4.cmml" xref="alg2.l20.m1.1.1.3.4">𝑢</ci><ci id="alg2.l20.m1.1.1.3.5.cmml" xref="alg2.l20.m1.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l20.m1.1c">Flag_{verifier}\leftarrow True</annotation></semantics></math>

</div>
<div id="alg2.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21:</span>  <span id="alg2.l21.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l21.2" class="ltx_text ltx_font_bold">if</span>
</div>
</div>
</figure>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.8" class="ltx_p"><span id="S2.SS3.p3.8.1" class="ltx_text ltx_font_bold">Numerical OOD test datasets</span>. The upper bound of the sampled integers <math id="S2.SS3.p3.1.m1.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS3.p3.1.m1.1a"><mi id="S2.SS3.p3.1.m1.1.1" xref="S2.SS3.p3.1.m1.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.1.m1.1b"><ci id="S2.SS3.p3.1.m1.1.1.cmml" xref="S2.SS3.p3.1.m1.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.1.m1.1c">V</annotation></semantics></math> is raised to 100 and 1000 separately to test the model’s generalization ability with unseen larger numbers. Specifically, 6000 samples are generated for each value of <math id="S2.SS3.p3.2.m2.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS3.p3.2.m2.1a"><mi id="S2.SS3.p3.2.m2.1.1" xref="S2.SS3.p3.2.m2.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.2.m2.1b"><ci id="S2.SS3.p3.2.m2.1.1.cmml" xref="S2.SS3.p3.2.m2.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.2.m2.1c">V</annotation></semantics></math> with 2000 samples for each <math id="S2.SS3.p3.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p3.3.m3.1a"><mi id="S2.SS3.p3.3.m3.1.1" xref="S2.SS3.p3.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.3.m3.1b"><ci id="S2.SS3.p3.3.m3.1.1.cmml" xref="S2.SS3.p3.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.3.m3.1c">N</annotation></semantics></math>. An additional filtering pipeline is applied to ensure that for each sample, there exists at least one integer <math id="S2.SS3.p3.4.m4.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S2.SS3.p3.4.m4.1a"><msub id="S2.SS3.p3.4.m4.1.1" xref="S2.SS3.p3.4.m4.1.1.cmml"><mi id="S2.SS3.p3.4.m4.1.1.2" xref="S2.SS3.p3.4.m4.1.1.2.cmml">X</mi><mi id="S2.SS3.p3.4.m4.1.1.3" xref="S2.SS3.p3.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.4.m4.1b"><apply id="S2.SS3.p3.4.m4.1.1.cmml" xref="S2.SS3.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS3.p3.4.m4.1.1.1.cmml" xref="S2.SS3.p3.4.m4.1.1">subscript</csymbol><ci id="S2.SS3.p3.4.m4.1.1.2.cmml" xref="S2.SS3.p3.4.m4.1.1.2">𝑋</ci><ci id="S2.SS3.p3.4.m4.1.1.3.cmml" xref="S2.SS3.p3.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.4.m4.1c">X_{i}</annotation></semantics></math> that satisfies <math id="S2.SS3.p3.5.m5.1" class="ltx_Math" alttext="60&lt;X_{i}&lt;100" display="inline"><semantics id="S2.SS3.p3.5.m5.1a"><mrow id="S2.SS3.p3.5.m5.1.1" xref="S2.SS3.p3.5.m5.1.1.cmml"><mn id="S2.SS3.p3.5.m5.1.1.2" xref="S2.SS3.p3.5.m5.1.1.2.cmml">60</mn><mo id="S2.SS3.p3.5.m5.1.1.3" xref="S2.SS3.p3.5.m5.1.1.3.cmml">&lt;</mo><msub id="S2.SS3.p3.5.m5.1.1.4" xref="S2.SS3.p3.5.m5.1.1.4.cmml"><mi id="S2.SS3.p3.5.m5.1.1.4.2" xref="S2.SS3.p3.5.m5.1.1.4.2.cmml">X</mi><mi id="S2.SS3.p3.5.m5.1.1.4.3" xref="S2.SS3.p3.5.m5.1.1.4.3.cmml">i</mi></msub><mo id="S2.SS3.p3.5.m5.1.1.5" xref="S2.SS3.p3.5.m5.1.1.5.cmml">&lt;</mo><mn id="S2.SS3.p3.5.m5.1.1.6" xref="S2.SS3.p3.5.m5.1.1.6.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.5.m5.1b"><apply id="S2.SS3.p3.5.m5.1.1.cmml" xref="S2.SS3.p3.5.m5.1.1"><and id="S2.SS3.p3.5.m5.1.1a.cmml" xref="S2.SS3.p3.5.m5.1.1"></and><apply id="S2.SS3.p3.5.m5.1.1b.cmml" xref="S2.SS3.p3.5.m5.1.1"><lt id="S2.SS3.p3.5.m5.1.1.3.cmml" xref="S2.SS3.p3.5.m5.1.1.3"></lt><cn type="integer" id="S2.SS3.p3.5.m5.1.1.2.cmml" xref="S2.SS3.p3.5.m5.1.1.2">60</cn><apply id="S2.SS3.p3.5.m5.1.1.4.cmml" xref="S2.SS3.p3.5.m5.1.1.4"><csymbol cd="ambiguous" id="S2.SS3.p3.5.m5.1.1.4.1.cmml" xref="S2.SS3.p3.5.m5.1.1.4">subscript</csymbol><ci id="S2.SS3.p3.5.m5.1.1.4.2.cmml" xref="S2.SS3.p3.5.m5.1.1.4.2">𝑋</ci><ci id="S2.SS3.p3.5.m5.1.1.4.3.cmml" xref="S2.SS3.p3.5.m5.1.1.4.3">𝑖</ci></apply></apply><apply id="S2.SS3.p3.5.m5.1.1c.cmml" xref="S2.SS3.p3.5.m5.1.1"><lt id="S2.SS3.p3.5.m5.1.1.5.cmml" xref="S2.SS3.p3.5.m5.1.1.5"></lt><share href="#S2.SS3.p3.5.m5.1.1.4.cmml" id="S2.SS3.p3.5.m5.1.1d.cmml" xref="S2.SS3.p3.5.m5.1.1"></share><cn type="integer" id="S2.SS3.p3.5.m5.1.1.6.cmml" xref="S2.SS3.p3.5.m5.1.1.6">100</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.5.m5.1c">60&lt;X_{i}&lt;100</annotation></semantics></math> for the dataset with <math id="S2.SS3.p3.6.m6.1" class="ltx_Math" alttext="V=100" display="inline"><semantics id="S2.SS3.p3.6.m6.1a"><mrow id="S2.SS3.p3.6.m6.1.1" xref="S2.SS3.p3.6.m6.1.1.cmml"><mi id="S2.SS3.p3.6.m6.1.1.2" xref="S2.SS3.p3.6.m6.1.1.2.cmml">V</mi><mo id="S2.SS3.p3.6.m6.1.1.1" xref="S2.SS3.p3.6.m6.1.1.1.cmml">=</mo><mn id="S2.SS3.p3.6.m6.1.1.3" xref="S2.SS3.p3.6.m6.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.6.m6.1b"><apply id="S2.SS3.p3.6.m6.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1"><eq id="S2.SS3.p3.6.m6.1.1.1.cmml" xref="S2.SS3.p3.6.m6.1.1.1"></eq><ci id="S2.SS3.p3.6.m6.1.1.2.cmml" xref="S2.SS3.p3.6.m6.1.1.2">𝑉</ci><cn type="integer" id="S2.SS3.p3.6.m6.1.1.3.cmml" xref="S2.SS3.p3.6.m6.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.6.m6.1c">V=100</annotation></semantics></math> and <math id="S2.SS3.p3.7.m7.1" class="ltx_Math" alttext="100&lt;X_{i}&lt;1000" display="inline"><semantics id="S2.SS3.p3.7.m7.1a"><mrow id="S2.SS3.p3.7.m7.1.1" xref="S2.SS3.p3.7.m7.1.1.cmml"><mn id="S2.SS3.p3.7.m7.1.1.2" xref="S2.SS3.p3.7.m7.1.1.2.cmml">100</mn><mo id="S2.SS3.p3.7.m7.1.1.3" xref="S2.SS3.p3.7.m7.1.1.3.cmml">&lt;</mo><msub id="S2.SS3.p3.7.m7.1.1.4" xref="S2.SS3.p3.7.m7.1.1.4.cmml"><mi id="S2.SS3.p3.7.m7.1.1.4.2" xref="S2.SS3.p3.7.m7.1.1.4.2.cmml">X</mi><mi id="S2.SS3.p3.7.m7.1.1.4.3" xref="S2.SS3.p3.7.m7.1.1.4.3.cmml">i</mi></msub><mo id="S2.SS3.p3.7.m7.1.1.5" xref="S2.SS3.p3.7.m7.1.1.5.cmml">&lt;</mo><mn id="S2.SS3.p3.7.m7.1.1.6" xref="S2.SS3.p3.7.m7.1.1.6.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.7.m7.1b"><apply id="S2.SS3.p3.7.m7.1.1.cmml" xref="S2.SS3.p3.7.m7.1.1"><and id="S2.SS3.p3.7.m7.1.1a.cmml" xref="S2.SS3.p3.7.m7.1.1"></and><apply id="S2.SS3.p3.7.m7.1.1b.cmml" xref="S2.SS3.p3.7.m7.1.1"><lt id="S2.SS3.p3.7.m7.1.1.3.cmml" xref="S2.SS3.p3.7.m7.1.1.3"></lt><cn type="integer" id="S2.SS3.p3.7.m7.1.1.2.cmml" xref="S2.SS3.p3.7.m7.1.1.2">100</cn><apply id="S2.SS3.p3.7.m7.1.1.4.cmml" xref="S2.SS3.p3.7.m7.1.1.4"><csymbol cd="ambiguous" id="S2.SS3.p3.7.m7.1.1.4.1.cmml" xref="S2.SS3.p3.7.m7.1.1.4">subscript</csymbol><ci id="S2.SS3.p3.7.m7.1.1.4.2.cmml" xref="S2.SS3.p3.7.m7.1.1.4.2">𝑋</ci><ci id="S2.SS3.p3.7.m7.1.1.4.3.cmml" xref="S2.SS3.p3.7.m7.1.1.4.3">𝑖</ci></apply></apply><apply id="S2.SS3.p3.7.m7.1.1c.cmml" xref="S2.SS3.p3.7.m7.1.1"><lt id="S2.SS3.p3.7.m7.1.1.5.cmml" xref="S2.SS3.p3.7.m7.1.1.5"></lt><share href="#S2.SS3.p3.7.m7.1.1.4.cmml" id="S2.SS3.p3.7.m7.1.1d.cmml" xref="S2.SS3.p3.7.m7.1.1"></share><cn type="integer" id="S2.SS3.p3.7.m7.1.1.6.cmml" xref="S2.SS3.p3.7.m7.1.1.6">1000</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.7.m7.1c">100&lt;X_{i}&lt;1000</annotation></semantics></math> for that with <math id="S2.SS3.p3.8.m8.1" class="ltx_Math" alttext="V=1000" display="inline"><semantics id="S2.SS3.p3.8.m8.1a"><mrow id="S2.SS3.p3.8.m8.1.1" xref="S2.SS3.p3.8.m8.1.1.cmml"><mi id="S2.SS3.p3.8.m8.1.1.2" xref="S2.SS3.p3.8.m8.1.1.2.cmml">V</mi><mo id="S2.SS3.p3.8.m8.1.1.1" xref="S2.SS3.p3.8.m8.1.1.1.cmml">=</mo><mn id="S2.SS3.p3.8.m8.1.1.3" xref="S2.SS3.p3.8.m8.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p3.8.m8.1b"><apply id="S2.SS3.p3.8.m8.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1"><eq id="S2.SS3.p3.8.m8.1.1.1.cmml" xref="S2.SS3.p3.8.m8.1.1.1"></eq><ci id="S2.SS3.p3.8.m8.1.1.2.cmml" xref="S2.SS3.p3.8.m8.1.1.2">𝑉</ci><cn type="integer" id="S2.SS3.p3.8.m8.1.1.3.cmml" xref="S2.SS3.p3.8.m8.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p3.8.m8.1c">V=1000</annotation></semantics></math>.</p>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<p id="S2.SS3.p4.4" class="ltx_p"><span id="S2.SS3.p4.4.1" class="ltx_text ltx_font_bold">Form OOD test dataset</span>. In mathematics, abstract forms often extend, such as expanding from a two-variable linear equation to one with three variables. For the proposed arithmetic puzzle, the extrapolation of abstract forms can be achieved by changing the number of candidate integers <math id="S2.SS3.p4.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p4.1.m1.1a"><mi id="S2.SS3.p4.1.m1.1.1" xref="S2.SS3.p4.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.1.m1.1b"><ci id="S2.SS3.p4.1.m1.1.1.cmml" xref="S2.SS3.p4.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.1.m1.1c">N</annotation></semantics></math>. Clearly, when <math id="S2.SS3.p4.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p4.2.m2.1a"><mi id="S2.SS3.p4.2.m2.1.1" xref="S2.SS3.p4.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.2.m2.1b"><ci id="S2.SS3.p4.2.m2.1.1.cmml" xref="S2.SS3.p4.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.2.m2.1c">N</annotation></semantics></math> increases, the exploration space leading to a feasible solution would expand exponentially, which results in an increased demand for precise reasoning steps. From another perspective, when the total number of the candidate integers changes, it actually requires the model’s ability to absorb and adapt to the puzzle’s abstract forms. Therefore, to test the model’s generalization capability from this point of view, we create another benchmark for OOD test dataset with 5000 samples generated with setting <math id="S2.SS3.p4.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p4.3.m3.1a"><mi id="S2.SS3.p4.3.m3.1.1" xref="S2.SS3.p4.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.3.m3.1b"><ci id="S2.SS3.p4.3.m3.1.1.cmml" xref="S2.SS3.p4.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.3.m3.1c">N</annotation></semantics></math> to 8. To control variables, all the candidate integers in this dataset are sampled with the same upper bound <math id="S2.SS3.p4.4.m4.1" class="ltx_Math" alttext="V=60" display="inline"><semantics id="S2.SS3.p4.4.m4.1a"><mrow id="S2.SS3.p4.4.m4.1.1" xref="S2.SS3.p4.4.m4.1.1.cmml"><mi id="S2.SS3.p4.4.m4.1.1.2" xref="S2.SS3.p4.4.m4.1.1.2.cmml">V</mi><mo id="S2.SS3.p4.4.m4.1.1.1" xref="S2.SS3.p4.4.m4.1.1.1.cmml">=</mo><mn id="S2.SS3.p4.4.m4.1.1.3" xref="S2.SS3.p4.4.m4.1.1.3.cmml">60</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.4.m4.1b"><apply id="S2.SS3.p4.4.m4.1.1.cmml" xref="S2.SS3.p4.4.m4.1.1"><eq id="S2.SS3.p4.4.m4.1.1.1.cmml" xref="S2.SS3.p4.4.m4.1.1.1"></eq><ci id="S2.SS3.p4.4.m4.1.1.2.cmml" xref="S2.SS3.p4.4.m4.1.1.2">𝑉</ci><cn type="integer" id="S2.SS3.p4.4.m4.1.1.3.cmml" xref="S2.SS3.p4.4.m4.1.1.3">60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.4.m4.1c">V=60</annotation></semantics></math> as the training dataset.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Model</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Framework</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">We adopt the llama architecture <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite> and employ low-rank adaptation (LoRA) tuning <cite class="ltx_cite ltx_citemacro_citep">(Hu et al., <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite> based on the implementation of TRL full stack library <cite class="ltx_cite ltx_citemacro_citep">(von Werra et al., <a href="#bib.bib31" title="" class="ltx_ref">2020</a>)</cite>.
LoRA achieves a remarkable reduction of 89% in our trainable parameters, from 3B to 0.3B.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Implementation Details</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">We train our model by fine-tuning open-llama-3B. We systematically apply left-padding to the query text and right-padding to the answer text to control the overall context length. All experiments are conducted with <math id="S3.SS2.p1.1.m1.1" class="ltx_math_unparsed" alttext="8\times" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1b"><mn id="S3.SS2.p1.1.m1.1.1">8</mn><mo lspace="0.222em" id="S3.SS2.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">8\times</annotation></semantics></math> NVIDIA A100-SXM4-80GB GPUs. The specific hyperparameter settings are listed in Table <a href="#A1.T3" title="Table 3 ‣ A.1 Hyperparameter Settings ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> in Appendix <a href="#A1.SS1" title="A.1 Hyperparameter Settings ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Evaluation</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">For the fine-tuned model, we use the greedy decoding strategy in a zero-shot setting to generate responses. To measure the model’s performance on the proposed puzzle, a corresponding verifier is designed to automatically evaluate the correctness of the responses. Specifically, a solution is deemed correct if it satisfies the following rules:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">No extra or illegal characters.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">There are only <math id="S4.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="N-1" display="inline"><semantics id="S4.I1.i2.p1.1.m1.1a"><mrow id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml">N</mi><mo id="S4.I1.i2.p1.1.m1.1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">−</mo><mn id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><minus id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.1"></minus><ci id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">N-1</annotation></semantics></math> equations and all the corresponding calculations are correct.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.6" class="ltx_p"><math id="S4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="F" display="inline"><semantics id="S4.I1.i3.p1.1.m1.1a"><mi id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml">F</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><ci id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">𝐹</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">F</annotation></semantics></math>(<math id="S4.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="X_{1}" display="inline"><semantics id="S4.I1.i3.p1.2.m2.1a"><msub id="S4.I1.i3.p1.2.m2.1.1" xref="S4.I1.i3.p1.2.m2.1.1.cmml"><mi id="S4.I1.i3.p1.2.m2.1.1.2" xref="S4.I1.i3.p1.2.m2.1.1.2.cmml">X</mi><mn id="S4.I1.i3.p1.2.m2.1.1.3" xref="S4.I1.i3.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.2.m2.1b"><apply id="S4.I1.i3.p1.2.m2.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.2.m2.1.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.2.m2.1.1.2.cmml" xref="S4.I1.i3.p1.2.m2.1.1.2">𝑋</ci><cn type="integer" id="S4.I1.i3.p1.2.m2.1.1.3.cmml" xref="S4.I1.i3.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.2.m2.1c">X_{1}</annotation></semantics></math>, …, <math id="S4.I1.i3.p1.3.m3.1" class="ltx_Math" alttext="X_{N}" display="inline"><semantics id="S4.I1.i3.p1.3.m3.1a"><msub id="S4.I1.i3.p1.3.m3.1.1" xref="S4.I1.i3.p1.3.m3.1.1.cmml"><mi id="S4.I1.i3.p1.3.m3.1.1.2" xref="S4.I1.i3.p1.3.m3.1.1.2.cmml">X</mi><mi id="S4.I1.i3.p1.3.m3.1.1.3" xref="S4.I1.i3.p1.3.m3.1.1.3.cmml">N</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.3.m3.1b"><apply id="S4.I1.i3.p1.3.m3.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.3.m3.1.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.3.m3.1.1.2.cmml" xref="S4.I1.i3.p1.3.m3.1.1.2">𝑋</ci><ci id="S4.I1.i3.p1.3.m3.1.1.3.cmml" xref="S4.I1.i3.p1.3.m3.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.3.m3.1c">X_{N}</annotation></semantics></math> <math id="S4.I1.i3.p1.4.m4.1" class="ltx_Math" alttext="\mid" display="inline"><semantics id="S4.I1.i3.p1.4.m4.1a"><mo id="S4.I1.i3.p1.4.m4.1.1" xref="S4.I1.i3.p1.4.m4.1.1.cmml">∣</mo><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.4.m4.1b"><ci id="S4.I1.i3.p1.4.m4.1.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1">∣</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.4.m4.1c">\mid</annotation></semantics></math> <math id="S4.I1.i3.p1.5.m5.1" class="ltx_Math" alttext="ops" display="inline"><semantics id="S4.I1.i3.p1.5.m5.1a"><mrow id="S4.I1.i3.p1.5.m5.1.1" xref="S4.I1.i3.p1.5.m5.1.1.cmml"><mi id="S4.I1.i3.p1.5.m5.1.1.2" xref="S4.I1.i3.p1.5.m5.1.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.I1.i3.p1.5.m5.1.1.1" xref="S4.I1.i3.p1.5.m5.1.1.1.cmml">​</mo><mi id="S4.I1.i3.p1.5.m5.1.1.3" xref="S4.I1.i3.p1.5.m5.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.I1.i3.p1.5.m5.1.1.1a" xref="S4.I1.i3.p1.5.m5.1.1.1.cmml">​</mo><mi id="S4.I1.i3.p1.5.m5.1.1.4" xref="S4.I1.i3.p1.5.m5.1.1.4.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.5.m5.1b"><apply id="S4.I1.i3.p1.5.m5.1.1.cmml" xref="S4.I1.i3.p1.5.m5.1.1"><times id="S4.I1.i3.p1.5.m5.1.1.1.cmml" xref="S4.I1.i3.p1.5.m5.1.1.1"></times><ci id="S4.I1.i3.p1.5.m5.1.1.2.cmml" xref="S4.I1.i3.p1.5.m5.1.1.2">𝑜</ci><ci id="S4.I1.i3.p1.5.m5.1.1.3.cmml" xref="S4.I1.i3.p1.5.m5.1.1.3">𝑝</ci><ci id="S4.I1.i3.p1.5.m5.1.1.4.cmml" xref="S4.I1.i3.p1.5.m5.1.1.4">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.5.m5.1c">ops</annotation></semantics></math>) = <math id="S4.I1.i3.p1.6.m6.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.I1.i3.p1.6.m6.1a"><mi id="S4.I1.i3.p1.6.m6.1.1" xref="S4.I1.i3.p1.6.m6.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.6.m6.1b"><ci id="S4.I1.i3.p1.6.m6.1.1.cmml" xref="S4.I1.i3.p1.6.m6.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.6.m6.1c">T</annotation></semantics></math>.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p">All <math id="S4.I1.i4.p1.1.m1.6" class="ltx_Math" alttext="\{X_{i}\mid i\in\{1,2,\ldots,N\}\}" display="inline"><semantics id="S4.I1.i4.p1.1.m1.6a"><mrow id="S4.I1.i4.p1.1.m1.6.6.2" xref="S4.I1.i4.p1.1.m1.6.6.3.cmml"><mo stretchy="false" id="S4.I1.i4.p1.1.m1.6.6.2.3" xref="S4.I1.i4.p1.1.m1.6.6.3.1.cmml">{</mo><msub id="S4.I1.i4.p1.1.m1.5.5.1.1" xref="S4.I1.i4.p1.1.m1.5.5.1.1.cmml"><mi id="S4.I1.i4.p1.1.m1.5.5.1.1.2" xref="S4.I1.i4.p1.1.m1.5.5.1.1.2.cmml">X</mi><mi id="S4.I1.i4.p1.1.m1.5.5.1.1.3" xref="S4.I1.i4.p1.1.m1.5.5.1.1.3.cmml">i</mi></msub><mo fence="true" lspace="0em" rspace="0em" id="S4.I1.i4.p1.1.m1.6.6.2.4" xref="S4.I1.i4.p1.1.m1.6.6.3.1.cmml">∣</mo><mrow id="S4.I1.i4.p1.1.m1.6.6.2.2" xref="S4.I1.i4.p1.1.m1.6.6.2.2.cmml"><mi id="S4.I1.i4.p1.1.m1.6.6.2.2.2" xref="S4.I1.i4.p1.1.m1.6.6.2.2.2.cmml">i</mi><mo id="S4.I1.i4.p1.1.m1.6.6.2.2.1" xref="S4.I1.i4.p1.1.m1.6.6.2.2.1.cmml">∈</mo><mrow id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml"><mo stretchy="false" id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2.1" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml">{</mo><mn id="S4.I1.i4.p1.1.m1.1.1" xref="S4.I1.i4.p1.1.m1.1.1.cmml">1</mn><mo id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2.2" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml">,</mo><mn id="S4.I1.i4.p1.1.m1.2.2" xref="S4.I1.i4.p1.1.m1.2.2.cmml">2</mn><mo id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2.3" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.I1.i4.p1.1.m1.3.3" xref="S4.I1.i4.p1.1.m1.3.3.cmml">…</mi><mo id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2.4" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml">,</mo><mi id="S4.I1.i4.p1.1.m1.4.4" xref="S4.I1.i4.p1.1.m1.4.4.cmml">N</mi><mo stretchy="false" id="S4.I1.i4.p1.1.m1.6.6.2.2.3.2.5" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml">}</mo></mrow></mrow><mo stretchy="false" id="S4.I1.i4.p1.1.m1.6.6.2.5" xref="S4.I1.i4.p1.1.m1.6.6.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.1.m1.6b"><apply id="S4.I1.i4.p1.1.m1.6.6.3.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2"><csymbol cd="latexml" id="S4.I1.i4.p1.1.m1.6.6.3.1.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2.3">conditional-set</csymbol><apply id="S4.I1.i4.p1.1.m1.5.5.1.1.cmml" xref="S4.I1.i4.p1.1.m1.5.5.1.1"><csymbol cd="ambiguous" id="S4.I1.i4.p1.1.m1.5.5.1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.5.5.1.1">subscript</csymbol><ci id="S4.I1.i4.p1.1.m1.5.5.1.1.2.cmml" xref="S4.I1.i4.p1.1.m1.5.5.1.1.2">𝑋</ci><ci id="S4.I1.i4.p1.1.m1.5.5.1.1.3.cmml" xref="S4.I1.i4.p1.1.m1.5.5.1.1.3">𝑖</ci></apply><apply id="S4.I1.i4.p1.1.m1.6.6.2.2.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2.2"><in id="S4.I1.i4.p1.1.m1.6.6.2.2.1.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2.2.1"></in><ci id="S4.I1.i4.p1.1.m1.6.6.2.2.2.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2.2.2">𝑖</ci><set id="S4.I1.i4.p1.1.m1.6.6.2.2.3.1.cmml" xref="S4.I1.i4.p1.1.m1.6.6.2.2.3.2"><cn type="integer" id="S4.I1.i4.p1.1.m1.1.1.cmml" xref="S4.I1.i4.p1.1.m1.1.1">1</cn><cn type="integer" id="S4.I1.i4.p1.1.m1.2.2.cmml" xref="S4.I1.i4.p1.1.m1.2.2">2</cn><ci id="S4.I1.i4.p1.1.m1.3.3.cmml" xref="S4.I1.i4.p1.1.m1.3.3">…</ci><ci id="S4.I1.i4.p1.1.m1.4.4.cmml" xref="S4.I1.i4.p1.1.m1.4.4">𝑁</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.1.m1.6c">\{X_{i}\mid i\in\{1,2,\ldots,N\}\}</annotation></semantics></math> and the intermediate calculation results are only used once.</p>
</div>
</li>
</ul>
<p id="S4.SS1.p1.2" class="ltx_p">The detailed steps of evaluating the solution for this puzzle is described in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">As mentioned in Section <a href="#S2.SS3" title="2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.3</span></a>, we have generated three training datasets with different sizes to explore the data scaling effects on the fine-tuned model. The pass@1 rate on different in-distribution and out-of-distribution test datasets are shown in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Results ‣ 4 Experiments ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. When the model is fine-tuned with 100M samples, it achieves the highest score with a zero-shot pass@1 of 0.44 in the in-distribution test dataset, and 0.33 and 0.35 in the two OOD datasets, respectively.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Furthermore, we have shown the training curves of the model fine-tuned on these three datasets in Figure <a href="#S2.F3" title="Figure 3 ‣ 2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. From Figure <a href="#S2.F3" title="Figure 3 ‣ 2.3 Dataset ‣ 2 Problem Definition ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, a faster decaying rate is clearly observed in the training loss when increasing the training data size, which is consistent with the rapid increase of the pass@1 rate evaluated on the in-distribution dataset. The same enhancement of the performance also occurs in the two OOD test datasets as shown in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Results ‣ 4 Experiments ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">Additionally, we have also conducted tests of this puzzle on the base model (open-llama-3B) and several other open-source and closed-source models with both few-shot and CoT prompting. The results and some of the generated cases are shown in Appendix <a href="#A1.SS2" title="A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.2</span></a>, demonstrating the necessity of fine-tuning with regard to solving such puzzle problems.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<div id="S4.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:202pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-54.7pt,25.4pt) scale(0.798602979011243,0.798602979011243) ;">
<table id="S4.T2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<td id="S4.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.1.1" class="ltx_text ltx_font_bold">Dataset</span></td>
<td id="S4.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.2.1" class="ltx_text ltx_font_bold">Range</span></td>
<td id="S4.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.3.1" class="ltx_text ltx_font_bold">Number of Integers</span></td>
<td id="S4.T2.1.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.4.1" class="ltx_text ltx_font_bold">Fine-tuned on 1M</span></td>
<td id="S4.T2.1.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.5.1" class="ltx_text ltx_font_bold">Fine-tuned on 10M</span></td>
<td id="S4.T2.1.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.1.6.1" class="ltx_text ltx_font_bold">Fine-tuned on 100M</span></td>
</tr>
<tr id="S4.T2.1.1.2" class="ltx_tr">
<td id="S4.T2.1.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.2.1.1" class="ltx_text">ID</span></td>
<td id="S4.T2.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.2.2.1" class="ltx_text">[1,60]</span></td>
<td id="S4.T2.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5</td>
<td id="S4.T2.1.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.224</td>
<td id="S4.T2.1.1.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.428</td>
<td id="S4.T2.1.1.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.2.6.1" class="ltx_text ltx_font_bold">0.471</span></td>
</tr>
<tr id="S4.T2.1.1.3" class="ltx_tr">
<td id="S4.T2.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r">6</td>
<td id="S4.T2.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r">0.208</td>
<td id="S4.T2.1.1.3.3" class="ltx_td ltx_align_center ltx_border_r">0.363</td>
<td id="S4.T2.1.1.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.3.4.1" class="ltx_text ltx_font_bold">0.432</span></td>
</tr>
<tr id="S4.T2.1.1.4" class="ltx_tr">
<td id="S4.T2.1.1.4.1" class="ltx_td ltx_align_center ltx_border_r">7</td>
<td id="S4.T2.1.1.4.2" class="ltx_td ltx_align_center ltx_border_r">0.205</td>
<td id="S4.T2.1.1.4.3" class="ltx_td ltx_align_center ltx_border_r">0.360</td>
<td id="S4.T2.1.1.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.4.4.1" class="ltx_text ltx_font_bold">0.425</span></td>
</tr>
<tr id="S4.T2.1.1.5" class="ltx_tr">
<td id="S4.T2.1.1.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Total ID</td>
<td id="S4.T2.1.1.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">[1,60]</td>
<td id="S4.T2.1.1.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5,6,7</td>
<td id="S4.T2.1.1.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.216</td>
<td id="S4.T2.1.1.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.383</td>
<td id="S4.T2.1.1.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.5.6.1" class="ltx_text ltx_font_bold">0.443</span></td>
</tr>
<tr id="S4.T2.1.1.6" class="ltx_tr">
<td id="S4.T2.1.1.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.6.1.1" class="ltx_text">Numerical OOD</span></td>
<td id="S4.T2.1.1.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.6.2.1" class="ltx_text">[1,100]</span></td>
<td id="S4.T2.1.1.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5</td>
<td id="S4.T2.1.1.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.163</td>
<td id="S4.T2.1.1.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.239</td>
<td id="S4.T2.1.1.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.6.6.1" class="ltx_text ltx_font_bold">0.364</span></td>
</tr>
<tr id="S4.T2.1.1.7" class="ltx_tr">
<td id="S4.T2.1.1.7.1" class="ltx_td ltx_align_center ltx_border_r">6</td>
<td id="S4.T2.1.1.7.2" class="ltx_td ltx_align_center ltx_border_r">0.137</td>
<td id="S4.T2.1.1.7.3" class="ltx_td ltx_align_center ltx_border_r">0.199</td>
<td id="S4.T2.1.1.7.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.7.4.1" class="ltx_text ltx_font_bold">0.331</span></td>
</tr>
<tr id="S4.T2.1.1.8" class="ltx_tr">
<td id="S4.T2.1.1.8.1" class="ltx_td ltx_align_center ltx_border_r">7</td>
<td id="S4.T2.1.1.8.2" class="ltx_td ltx_align_center ltx_border_r">0.126</td>
<td id="S4.T2.1.1.8.3" class="ltx_td ltx_align_center ltx_border_r">0.186</td>
<td id="S4.T2.1.1.8.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.8.4.1" class="ltx_text ltx_font_bold">0.315</span></td>
</tr>
<tr id="S4.T2.1.1.9" class="ltx_tr">
<td id="S4.T2.1.1.9.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Total Numerical OOD</td>
<td id="S4.T2.1.1.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">[1,100]</td>
<td id="S4.T2.1.1.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5,6,7</td>
<td id="S4.T2.1.1.9.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.141</td>
<td id="S4.T2.1.1.9.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.205</td>
<td id="S4.T2.1.1.9.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.9.6.1" class="ltx_text ltx_font_bold">0.326</span></td>
</tr>
<tr id="S4.T2.1.1.10" class="ltx_tr">
<td id="S4.T2.1.1.10.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.10.1.1" class="ltx_text">Numerical OOD</span></td>
<td id="S4.T2.1.1.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="3"><span id="S4.T2.1.1.10.2.1" class="ltx_text">[1,1000]</span></td>
<td id="S4.T2.1.1.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5</td>
<td id="S4.T2.1.1.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.131</td>
<td id="S4.T2.1.1.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.181</td>
<td id="S4.T2.1.1.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.10.6.1" class="ltx_text ltx_font_bold">0.229</span></td>
</tr>
<tr id="S4.T2.1.1.11" class="ltx_tr">
<td id="S4.T2.1.1.11.1" class="ltx_td ltx_align_center ltx_border_r">6</td>
<td id="S4.T2.1.1.11.2" class="ltx_td ltx_align_center ltx_border_r">0.030</td>
<td id="S4.T2.1.1.11.3" class="ltx_td ltx_align_center ltx_border_r">0.051</td>
<td id="S4.T2.1.1.11.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.11.4.1" class="ltx_text ltx_font_bold">0.063</span></td>
</tr>
<tr id="S4.T2.1.1.12" class="ltx_tr">
<td id="S4.T2.1.1.12.1" class="ltx_td ltx_align_center ltx_border_r">7</td>
<td id="S4.T2.1.1.12.2" class="ltx_td ltx_align_center ltx_border_r">0.111</td>
<td id="S4.T2.1.1.12.3" class="ltx_td ltx_align_center ltx_border_r">0.163</td>
<td id="S4.T2.1.1.12.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.1.1.12.4.1" class="ltx_text ltx_font_bold">0.220</span></td>
</tr>
<tr id="S4.T2.1.1.13" class="ltx_tr">
<td id="S4.T2.1.1.13.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Total Numerical OOD</td>
<td id="S4.T2.1.1.13.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">[1,1000]</td>
<td id="S4.T2.1.1.13.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5,6,7</td>
<td id="S4.T2.1.1.13.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.091</td>
<td id="S4.T2.1.1.13.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.132</td>
<td id="S4.T2.1.1.13.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.1.1.13.6.1" class="ltx_text ltx_font_bold">0.170</span></td>
</tr>
<tr id="S4.T2.1.1.14" class="ltx_tr">
<td id="S4.T2.1.1.14.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Form OOD</td>
<td id="S4.T2.1.1.14.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">[1,60]</td>
<td id="S4.T2.1.1.14.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">8</td>
<td id="S4.T2.1.1.14.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.169</td>
<td id="S4.T2.1.1.14.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.231</td>
<td id="S4.T2.1.1.14.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S4.T2.1.1.14.6.1" class="ltx_text ltx_font_bold">0.352</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Zero-shot pass@1 of the model fine-tuned with different training set sizes (1M / 10M / 100M samples) on ID, numerical OOD, and form OOD test datasets. The best results are <span id="S4.T2.3.1" class="ltx_text ltx_font_bold">highlighted</span>.</figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Case Studies</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We further demonstrate the different solutions provided by models trained with 1M / 10M / 100M training data on the form OOD test dataset for several challenging queries. As shown in Figure <a href="#A1.F4" title="Figure 4 ‣ A.3 Case Study ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> in Appendix <a href="#A1.SS3" title="A.3 Case Study ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.3</span></a>, the model trained on 1M samples is still limited to a fixed number of reasoning steps, whereas the models trained on 10M / 100M samples exhibit a higher-level understanding of the problem and perform an adequate number of reasoning steps. However, compared to the model trained on 100M samples, the model trained on 10M samples may still encounter computational or logical errors in the final step of reasoning.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Large language models (LLMs) are intrinsically zero-shot and multi-task learners. However, mathematical reasoning still poses challenges for LLMs, we propose that the reasons can be mainly categorized into three folds: (1) Requirement of multi-step derivation; (2) Lack of high quality data for fine-tuning; (3) Difficulty in extrapolation. In this paper, we design an arithmetical puzzle and make an early attempt to solve these challenges. We develop a 24-point puzzle-like problem which asks for multi-step calculations to arrive at the correct answer. A corresponding data synthesis pipeline is proposed to generate an arbitrary amount of high-quality data, on which a series of LLMs are fined-tuned. In order to verify the extrapolation capability of our models, we have designed two out-of-domain benchmarks and show that our model achieves competitive performance. Furthermore, a data scaling experiment is conducted and it is concluded that by increasing the amount of training data, both the training loss and in/out-of-domain performance of the fine-tuned model improve accordingly.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We appreciate Peng Sun for providing the initial SFT dataset, and Xintian Han for suggestions about the reward calculation and ablation study. We would also like to thank Liang Xiang and Xun Zhou for the helpful discussions across the project.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Limitations</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this study, we have explored the mathematical extrapolation of Large Language Models (LLMs) and discovered that, with high-quality synthetic data, LLMs demonstrates certain generalization capabilities in mathematical extrapolation. However, LLMs have not yet fully mastered this capability, and it remains uncertain if this ability can be extended to other complex mathematical tasks. In the future, our research will focus on investigating and enhancing this capability, aiming to empower LLMs to explore unsolved mathematical problems through leveraging our existing knowledge.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Ethics Statement</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this research, we adhere to strict ethical guidelines and principles. The study has been designed and implemented with respect for the rights, privacy, and well-being of all individuals involved. All of our data is synthesized using our proposed data synthesis algorithm, ensuring compliance with relevant regulations and standards. Our findings and conclusions are reported accurately and objectively, avoiding any misrepresentation or manipulation of data. The entire process and outcomes are free from intellectual property and ethical legal disputes.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al. (2023)</span>
<span class="ltx_bibblock">
Josh Achiam, Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya,
Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman,
Shyamal Anadkat, et al. 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2303.08774</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azerbayev et al. (2023)</span>
<span class="ltx_bibblock">
Zhangir Azerbayev, Hailey Schoelkopf, Keiran Paster, Marco Dos Santos, Stephen
McAleer, Albert Q Jiang, Jia Deng, Stella Biderman, and Sean Welleck. 2023.

</span>
<span class="ltx_bibblock">Llemma: An open language model for mathematics.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.10631</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bi et al. (2024)</span>
<span class="ltx_bibblock">
Xiao Bi, Deli Chen, Guanting Chen, Shanhuang Chen, Damai Dai, Chengqi Deng,
Honghui Ding, Kai Dong, Qiushi Du, Zhe Fu, et al. 2024.

</span>
<span class="ltx_bibblock">Deepseek llm: Scaling open-source language models with longtermism.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.02954</em>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Tom Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared D Kaplan, Prafulla
Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell,
et al. 2020.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>,
33:1877–1901.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2022)</span>
<span class="ltx_bibblock">
Wenhu Chen, Xueguang Ma, Xinyi Wang, and William W Cohen. 2022.

</span>
<span class="ltx_bibblock">Program of thoughts prompting: Disentangling computation from
reasoning for numerical reasoning tasks.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.12588</em>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhery et al. (2023)</span>
<span class="ltx_bibblock">
Aakanksha Chowdhery, Sharan Narang, Jacob Devlin, Maarten Bosma, Gaurav Mishra,
Adam Roberts, Paul Barham, Hyung Won Chung, Charles Sutton, Sebastian
Gehrmann, et al. 2023.

</span>
<span class="ltx_bibblock">Palm: Scaling language modeling with pathways.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Journal of Machine Learning Research</em>, 24(240):1–113.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cobbe et al. (2021)</span>
<span class="ltx_bibblock">
Karl Cobbe, Vineet Kosaraju, Mohammad Bavarian, Mark Chen, Heewoo Jun, Lukasz
Kaiser, Matthias Plappert, Jerry Tworek, Jacob Hilton, Reiichiro Nakano,
et al. 2021.

</span>
<span class="ltx_bibblock">Training verifiers to solve math word problems.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.14168</em>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Luyu Gao, Aman Madaan, Shuyan Zhou, Uri Alon, Pengfei Liu, Yiming Yang, Jamie
Callan, and Graham Neubig. 2023.

</span>
<span class="ltx_bibblock">Pal: Program-aided language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
10764–10799. PMLR.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gou et al. (2023)</span>
<span class="ltx_bibblock">
Zhibin Gou, Zhihong Shao, Yeyun Gong, Yujiu Yang, Minlie Huang, Nan Duan,
Weizhu Chen, et al. 2023.

</span>
<span class="ltx_bibblock">Tora: A tool-integrated reasoning agent for mathematical problem
solving.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2309.17452</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2024)</span>
<span class="ltx_bibblock">
Daya Guo, Qihao Zhu, Dejian Yang, Zhenda Xie, Kai Dong, Wentao Zhang, Guanting
Chen, Xiao Bi, Y Wu, YK Li, et al. 2024.

</span>
<span class="ltx_bibblock">Deepseek-coder: When the large language model meets programming–the
rise of code intelligence.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2401.14196</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendrycks et al. (2021)</span>
<span class="ltx_bibblock">
Dan Hendrycks, Collin Burns, Saurav Kadavath, Akul Arora, Steven Basart, Eric
Tang, Dawn Song, and Jacob Steinhardt. 2021.

</span>
<span class="ltx_bibblock">Measuring mathematical problem solving with the math dataset.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2103.03874</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. (2021)</span>
<span class="ltx_bibblock">
Edward J Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean
Wang, Lu Wang, and Weizhu Chen. 2021.

</span>
<span class="ltx_bibblock">Lora: Low-rank adaptation of large language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.09685</em>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Albert Q Jiang, Alexandre Sablayrolles, Arthur Mensch, Chris Bamford,
Devendra Singh Chaplot, Diego de las Casas, Florian Bressand, Gianna Lengyel,
Guillaume Lample, Lucile Saulnier, et al. 2023.

</span>
<span class="ltx_bibblock">Mistral 7b.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2310.06825</em>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al. (2022)</span>
<span class="ltx_bibblock">
Takeshi Kojima, Shixiang Shane Gu, Machel Reid, Yutaka Matsuo, and Yusuke
Iwasawa. 2022.

</span>
<span class="ltx_bibblock">Large language models are zero-shot reasoners.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>,
35:22199–22213.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koncel-Kedziorski et al. (2016)</span>
<span class="ltx_bibblock">
Rik Koncel-Kedziorski, Subhro Roy, Aida Amini, Nate Kushman, and Hannaneh
Hajishirzi. 2016.

</span>
<span class="ltx_bibblock">Mawps: A math word problem repository.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2016 conference of the north american
chapter of the association for computational linguistics: human language
technologies</em>, pages 1152–1157.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewkowycz et al. (2022)</span>
<span class="ltx_bibblock">
Aitor Lewkowycz, Anders Andreassen, David Dohan, Ethan Dyer, Henryk
Michalewski, Vinay Ramasesh, Ambrose Slone, Cem Anil, Imanol Schlag, Theo
Gutman-Solo, et al. 2022.

</span>
<span class="ltx_bibblock">Solving quantitative reasoning problems with language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
35:3843–3857.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Yifei Li, Zeqi Lin, Shizhuo Zhang, Qiang Fu, Bei Chen, Jian-Guang Lou, and
Weizhu Chen. 2023.

</span>
<span class="ltx_bibblock">Making large language models better reasoners with step-aware
verifier.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.02336</em>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lightman et al. (2023)</span>
<span class="ltx_bibblock">
Hunter Lightman, Vineet Kosaraju, Yura Burda, Harri Edwards, Bowen Baker, Teddy
Lee, Jan Leike, John Schulman, Ilya Sutskever, and Karl Cobbe. 2023.

</span>
<span class="ltx_bibblock">Let’s verify step by step.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.20050</em>.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lu et al. (2024)</span>
<span class="ltx_bibblock">
Haoyu Lu, Wen Liu, Bo Zhang, Bingxuan Wang, Kai Dong, Bo Liu, Jingxiang Sun,
Tongzheng Ren, Zhuoshu Li, Yaofeng Sun, et al. 2024.

</span>
<span class="ltx_bibblock">Deepseek-vl: towards real-world vision-language understanding.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2403.05525</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2023)</span>
<span class="ltx_bibblock">
Haipeng Luo, Qingfeng Sun, Can Xu, Pu Zhao, Jianguang Lou, Chongyang Tao, Xiubo
Geng, Qingwei Lin, Shifeng Chen, and Dongmei Zhang. 2023.

</span>
<span class="ltx_bibblock">Wizardmath: Empowering mathematical reasoning for large language
models via reinforced evol-instruct.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2308.09583</em>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Park et al. (2023)</span>
<span class="ltx_bibblock">
Joon Sung Park, Joseph O’Brien, Carrie Jun Cai, Meredith Ringel Morris, Percy
Liang, and Michael S Bernstein. 2023.

</span>
<span class="ltx_bibblock">Generative agents: Interactive simulacra of human behavior.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 36th Annual ACM Symposium on User
Interface Software and Technology</em>, pages 1–22.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2019)</span>
<span class="ltx_bibblock">
Alec Radford, Jeffrey Wu, Rewon Child, David Luan, Dario Amodei, Ilya
Sutskever, et al. 2019.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al. (2024)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D Manning, Stefano
Ermon, and Chelsea Finn. 2024.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a
reward model.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 36.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schulman et al. (2017)</span>
<span class="ltx_bibblock">
John Schulman, Filip Wolski, Prafulla Dhariwal, Alec Radford, and Oleg Klimov.
2017.

</span>
<span class="ltx_bibblock">Proximal policy optimization algorithms.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1707.06347</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2023)</span>
<span class="ltx_bibblock">
Gemini Team, Rohan Anil, Sebastian Borgeaud, Yonghui Wu, Jean-Baptiste Alayrac,
Jiahui Yu, Radu Soricut, Johan Schalkwyk, Andrew M Dai, Anja Hauth, et al.
2023.

</span>
<span class="ltx_bibblock">Gemini: a family of highly capable multimodal models.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2312.11805</em>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023a)</span>
<span class="ltx_bibblock">
Hugo Touvron, Thibaut Lavril, Gautier Izacard, Xavier Martinet, Marie-Anne
Lachaux, Timothée Lacroix, Baptiste Rozière, Naman Goyal, Eric
Hambro, Faisal Azhar, et al. 2023a.

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.13971</em>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al. (2023b)</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine
Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale,
et al. 2023b.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2307.09288</em>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Trinh et al. (2024)</span>
<span class="ltx_bibblock">
Trieu H Trinh, Yuhuai Wu, Quoc V Le, He He, and Thang Luong. 2024.

</span>
<span class="ltx_bibblock">Solving olympiad geometry without human demonstrations.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Nature</em>, 625(7995):476–482.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Uesato et al. (2022)</span>
<span class="ltx_bibblock">
Jonathan Uesato, Nate Kushman, Ramana Kumar, Francis Song, Noah Siegel, Lisa
Wang, Antonia Creswell, Geoffrey Irving, and Irina Higgins. 2022.

</span>
<span class="ltx_bibblock">Solving math word problems with process-and outcome-based feedback.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.14275</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin. 2017.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 30.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">von Werra et al. (2020)</span>
<span class="ltx_bibblock">
Leandro von Werra, Younes Belkada, Lewis Tunstall, Edward Beeching, Tristan
Thrush, Nathan Lambert, and Shengyi Huang. 2020.

</span>
<span class="ltx_bibblock">Trl: Transformer reinforcement learning.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/huggingface/trl" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/huggingface/trl</a>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, Fei Xia, Ed Chi, Quoc V
Le, Denny Zhou, et al. 2022.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language
models.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
35:24824–24837.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2023)</span>
<span class="ltx_bibblock">
Tianwen Wei, Jian Luan, Wei Liu, Shuang Dong, and Bin Wang. 2023.

</span>
<span class="ltx_bibblock">Cmath: can your language model pass chinese elementary school math
test?

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2306.16636</em>.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2023)</span>
<span class="ltx_bibblock">
Fei Yu, Anningzhe Gao, and Benyou Wang. 2023.

</span>
<span class="ltx_bibblock">Outcome-supervised verifiers for planning in mathematical reasoning.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2311.09724</em>.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yue et al. (2023)</span>
<span class="ltx_bibblock">
Xiang Yue, Xingwei Qu, Ge Zhang, Yao Fu, Wenhao Huang, Huan Sun, Yu Su, and
Wenhu Chen. 2023.

</span>
<span class="ltx_bibblock">Mammoth: Building math generalist models through hybrid instruction
tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2309.05653</em>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhong et al. (2023)</span>
<span class="ltx_bibblock">
Wanjun Zhong, Ruixiang Cui, Yiduo Guo, Yaobo Liang, Shuai Lu, Yanlin Wang, Amin
Saied, Weizhu Chen, and Nan Duan. 2023.

</span>
<span class="ltx_bibblock">Agieval: A human-centric benchmark for evaluating foundation models.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2304.06364</em>.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ziegler et al. (2019)</span>
<span class="ltx_bibblock">
Daniel M Ziegler, Nisan Stiennon, Jeffrey Wu, Tom B Brown, Alec Radford, Dario
Amodei, Paul Christiano, and Geoffrey Irving. 2019.

</span>
<span class="ltx_bibblock">Fine-tuning language models from human preferences.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.08593</em>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Hyperparameter Settings</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.10" class="ltx_p">In the SFT stage, we follow common fine-tuning hyperparameter settings for our model. We set learning rate to <math id="A1.SS1.p1.1.m1.1" class="ltx_Math" alttext="1e-4" display="inline"><semantics id="A1.SS1.p1.1.m1.1a"><mrow id="A1.SS1.p1.1.m1.1.1" xref="A1.SS1.p1.1.m1.1.1.cmml"><mrow id="A1.SS1.p1.1.m1.1.1.2" xref="A1.SS1.p1.1.m1.1.1.2.cmml"><mn id="A1.SS1.p1.1.m1.1.1.2.2" xref="A1.SS1.p1.1.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.SS1.p1.1.m1.1.1.2.1" xref="A1.SS1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="A1.SS1.p1.1.m1.1.1.2.3" xref="A1.SS1.p1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo id="A1.SS1.p1.1.m1.1.1.1" xref="A1.SS1.p1.1.m1.1.1.1.cmml">−</mo><mn id="A1.SS1.p1.1.m1.1.1.3" xref="A1.SS1.p1.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.1.m1.1b"><apply id="A1.SS1.p1.1.m1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1"><minus id="A1.SS1.p1.1.m1.1.1.1.cmml" xref="A1.SS1.p1.1.m1.1.1.1"></minus><apply id="A1.SS1.p1.1.m1.1.1.2.cmml" xref="A1.SS1.p1.1.m1.1.1.2"><times id="A1.SS1.p1.1.m1.1.1.2.1.cmml" xref="A1.SS1.p1.1.m1.1.1.2.1"></times><cn type="integer" id="A1.SS1.p1.1.m1.1.1.2.2.cmml" xref="A1.SS1.p1.1.m1.1.1.2.2">1</cn><ci id="A1.SS1.p1.1.m1.1.1.2.3.cmml" xref="A1.SS1.p1.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A1.SS1.p1.1.m1.1.1.3.cmml" xref="A1.SS1.p1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.1.m1.1c">1e-4</annotation></semantics></math> and adopt the cosine learning rate scheduler. We use low-rank adaptation (LoRA) tuning with a rank of <math id="A1.SS1.p1.2.m2.1" class="ltx_Math" alttext="5" display="inline"><semantics id="A1.SS1.p1.2.m2.1a"><mn id="A1.SS1.p1.2.m2.1.1" xref="A1.SS1.p1.2.m2.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.2.m2.1b"><cn type="integer" id="A1.SS1.p1.2.m2.1.1.cmml" xref="A1.SS1.p1.2.m2.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.2.m2.1c">5</annotation></semantics></math>, <math id="A1.SS1.p1.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A1.SS1.p1.3.m3.1a"><mi id="A1.SS1.p1.3.m3.1.1" xref="A1.SS1.p1.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.3.m3.1b"><ci id="A1.SS1.p1.3.m3.1.1.cmml" xref="A1.SS1.p1.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.3.m3.1c">\alpha</annotation></semantics></math> of <math id="A1.SS1.p1.4.m4.1" class="ltx_Math" alttext="32" display="inline"><semantics id="A1.SS1.p1.4.m4.1a"><mn id="A1.SS1.p1.4.m4.1.1" xref="A1.SS1.p1.4.m4.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.4.m4.1b"><cn type="integer" id="A1.SS1.p1.4.m4.1.1.cmml" xref="A1.SS1.p1.4.m4.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.4.m4.1c">32</annotation></semantics></math>, and dropout of <math id="A1.SS1.p1.5.m5.1" class="ltx_Math" alttext="0.05" display="inline"><semantics id="A1.SS1.p1.5.m5.1a"><mn id="A1.SS1.p1.5.m5.1.1" xref="A1.SS1.p1.5.m5.1.1.cmml">0.05</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.5.m5.1b"><cn type="float" id="A1.SS1.p1.5.m5.1.1.cmml" xref="A1.SS1.p1.5.m5.1.1">0.05</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.5.m5.1c">0.05</annotation></semantics></math>. And we employ Adamw optimizer with <math id="A1.SS1.p1.6.m6.1" class="ltx_Math" alttext="\beta 1=0.9" display="inline"><semantics id="A1.SS1.p1.6.m6.1a"><mrow id="A1.SS1.p1.6.m6.1.1" xref="A1.SS1.p1.6.m6.1.1.cmml"><mrow id="A1.SS1.p1.6.m6.1.1.2" xref="A1.SS1.p1.6.m6.1.1.2.cmml"><mi id="A1.SS1.p1.6.m6.1.1.2.2" xref="A1.SS1.p1.6.m6.1.1.2.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p1.6.m6.1.1.2.1" xref="A1.SS1.p1.6.m6.1.1.2.1.cmml">​</mo><mn id="A1.SS1.p1.6.m6.1.1.2.3" xref="A1.SS1.p1.6.m6.1.1.2.3.cmml">1</mn></mrow><mo id="A1.SS1.p1.6.m6.1.1.1" xref="A1.SS1.p1.6.m6.1.1.1.cmml">=</mo><mn id="A1.SS1.p1.6.m6.1.1.3" xref="A1.SS1.p1.6.m6.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.6.m6.1b"><apply id="A1.SS1.p1.6.m6.1.1.cmml" xref="A1.SS1.p1.6.m6.1.1"><eq id="A1.SS1.p1.6.m6.1.1.1.cmml" xref="A1.SS1.p1.6.m6.1.1.1"></eq><apply id="A1.SS1.p1.6.m6.1.1.2.cmml" xref="A1.SS1.p1.6.m6.1.1.2"><times id="A1.SS1.p1.6.m6.1.1.2.1.cmml" xref="A1.SS1.p1.6.m6.1.1.2.1"></times><ci id="A1.SS1.p1.6.m6.1.1.2.2.cmml" xref="A1.SS1.p1.6.m6.1.1.2.2">𝛽</ci><cn type="integer" id="A1.SS1.p1.6.m6.1.1.2.3.cmml" xref="A1.SS1.p1.6.m6.1.1.2.3">1</cn></apply><cn type="float" id="A1.SS1.p1.6.m6.1.1.3.cmml" xref="A1.SS1.p1.6.m6.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.6.m6.1c">\beta 1=0.9</annotation></semantics></math>, <math id="A1.SS1.p1.7.m7.1" class="ltx_Math" alttext="\beta 2=0.95" display="inline"><semantics id="A1.SS1.p1.7.m7.1a"><mrow id="A1.SS1.p1.7.m7.1.1" xref="A1.SS1.p1.7.m7.1.1.cmml"><mrow id="A1.SS1.p1.7.m7.1.1.2" xref="A1.SS1.p1.7.m7.1.1.2.cmml"><mi id="A1.SS1.p1.7.m7.1.1.2.2" xref="A1.SS1.p1.7.m7.1.1.2.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A1.SS1.p1.7.m7.1.1.2.1" xref="A1.SS1.p1.7.m7.1.1.2.1.cmml">​</mo><mn id="A1.SS1.p1.7.m7.1.1.2.3" xref="A1.SS1.p1.7.m7.1.1.2.3.cmml">2</mn></mrow><mo id="A1.SS1.p1.7.m7.1.1.1" xref="A1.SS1.p1.7.m7.1.1.1.cmml">=</mo><mn id="A1.SS1.p1.7.m7.1.1.3" xref="A1.SS1.p1.7.m7.1.1.3.cmml">0.95</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.7.m7.1b"><apply id="A1.SS1.p1.7.m7.1.1.cmml" xref="A1.SS1.p1.7.m7.1.1"><eq id="A1.SS1.p1.7.m7.1.1.1.cmml" xref="A1.SS1.p1.7.m7.1.1.1"></eq><apply id="A1.SS1.p1.7.m7.1.1.2.cmml" xref="A1.SS1.p1.7.m7.1.1.2"><times id="A1.SS1.p1.7.m7.1.1.2.1.cmml" xref="A1.SS1.p1.7.m7.1.1.2.1"></times><ci id="A1.SS1.p1.7.m7.1.1.2.2.cmml" xref="A1.SS1.p1.7.m7.1.1.2.2">𝛽</ci><cn type="integer" id="A1.SS1.p1.7.m7.1.1.2.3.cmml" xref="A1.SS1.p1.7.m7.1.1.2.3">2</cn></apply><cn type="float" id="A1.SS1.p1.7.m7.1.1.3.cmml" xref="A1.SS1.p1.7.m7.1.1.3">0.95</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.7.m7.1c">\beta 2=0.95</annotation></semantics></math> and <math id="A1.SS1.p1.8.m8.1" class="ltx_Math" alttext="\epsilon=1e-9" display="inline"><semantics id="A1.SS1.p1.8.m8.1a"><mrow id="A1.SS1.p1.8.m8.1.1" xref="A1.SS1.p1.8.m8.1.1.cmml"><mi id="A1.SS1.p1.8.m8.1.1.2" xref="A1.SS1.p1.8.m8.1.1.2.cmml">ϵ</mi><mo id="A1.SS1.p1.8.m8.1.1.1" xref="A1.SS1.p1.8.m8.1.1.1.cmml">=</mo><mrow id="A1.SS1.p1.8.m8.1.1.3" xref="A1.SS1.p1.8.m8.1.1.3.cmml"><mrow id="A1.SS1.p1.8.m8.1.1.3.2" xref="A1.SS1.p1.8.m8.1.1.3.2.cmml"><mn id="A1.SS1.p1.8.m8.1.1.3.2.2" xref="A1.SS1.p1.8.m8.1.1.3.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.SS1.p1.8.m8.1.1.3.2.1" xref="A1.SS1.p1.8.m8.1.1.3.2.1.cmml">​</mo><mi id="A1.SS1.p1.8.m8.1.1.3.2.3" xref="A1.SS1.p1.8.m8.1.1.3.2.3.cmml">e</mi></mrow><mo id="A1.SS1.p1.8.m8.1.1.3.1" xref="A1.SS1.p1.8.m8.1.1.3.1.cmml">−</mo><mn id="A1.SS1.p1.8.m8.1.1.3.3" xref="A1.SS1.p1.8.m8.1.1.3.3.cmml">9</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.8.m8.1b"><apply id="A1.SS1.p1.8.m8.1.1.cmml" xref="A1.SS1.p1.8.m8.1.1"><eq id="A1.SS1.p1.8.m8.1.1.1.cmml" xref="A1.SS1.p1.8.m8.1.1.1"></eq><ci id="A1.SS1.p1.8.m8.1.1.2.cmml" xref="A1.SS1.p1.8.m8.1.1.2">italic-ϵ</ci><apply id="A1.SS1.p1.8.m8.1.1.3.cmml" xref="A1.SS1.p1.8.m8.1.1.3"><minus id="A1.SS1.p1.8.m8.1.1.3.1.cmml" xref="A1.SS1.p1.8.m8.1.1.3.1"></minus><apply id="A1.SS1.p1.8.m8.1.1.3.2.cmml" xref="A1.SS1.p1.8.m8.1.1.3.2"><times id="A1.SS1.p1.8.m8.1.1.3.2.1.cmml" xref="A1.SS1.p1.8.m8.1.1.3.2.1"></times><cn type="integer" id="A1.SS1.p1.8.m8.1.1.3.2.2.cmml" xref="A1.SS1.p1.8.m8.1.1.3.2.2">1</cn><ci id="A1.SS1.p1.8.m8.1.1.3.2.3.cmml" xref="A1.SS1.p1.8.m8.1.1.3.2.3">𝑒</ci></apply><cn type="integer" id="A1.SS1.p1.8.m8.1.1.3.3.cmml" xref="A1.SS1.p1.8.m8.1.1.3.3">9</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.8.m8.1c">\epsilon=1e-9</annotation></semantics></math>. Eight NVIDIA A100-SXM4-80GB GPUs are used to train the model with a batch size of <math id="A1.SS1.p1.9.m9.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A1.SS1.p1.9.m9.1a"><mn id="A1.SS1.p1.9.m9.1.1" xref="A1.SS1.p1.9.m9.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.9.m9.1b"><cn type="integer" id="A1.SS1.p1.9.m9.1.1.cmml" xref="A1.SS1.p1.9.m9.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.9.m9.1c">50</annotation></semantics></math> and the maximum epoch set to <math id="A1.SS1.p1.10.m10.1" class="ltx_Math" alttext="5" display="inline"><semantics id="A1.SS1.p1.10.m10.1a"><mn id="A1.SS1.p1.10.m10.1.1" xref="A1.SS1.p1.10.m10.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.SS1.p1.10.m10.1b"><cn type="integer" id="A1.SS1.p1.10.m10.1.1.cmml" xref="A1.SS1.p1.10.m10.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p1.10.m10.1c">5</annotation></semantics></math>. Detailed settings are listed in Table <a href="#A1.T3" title="Table 3 ‣ A.1 Hyperparameter Settings ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure id="A1.T3" class="ltx_table">
<table id="A1.T3.20" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A1.T3.20.21" class="ltx_tr">
<td id="A1.T3.20.21.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T3.20.21.1.1" class="ltx_text ltx_font_bold">Hyperparameter</span></td>
<td id="A1.T3.20.21.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T3.20.21.2.1" class="ltx_text ltx_font_bold">Value</span></td>
<td id="A1.T3.20.21.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T3.20.21.3.1" class="ltx_text ltx_font_bold">Hyperparameter</span></td>
<td id="A1.T3.20.21.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T3.20.21.4.1" class="ltx_text ltx_font_bold">Value</span></td>
</tr>
<tr id="A1.T3.2.2" class="ltx_tr">
<td id="A1.T3.2.2.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Learning Rate</td>
<td id="A1.T3.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><math id="A1.T3.1.1.1.m1.1" class="ltx_Math" alttext="1e-4" display="inline"><semantics id="A1.T3.1.1.1.m1.1a"><mrow id="A1.T3.1.1.1.m1.1.1" xref="A1.T3.1.1.1.m1.1.1.cmml"><mrow id="A1.T3.1.1.1.m1.1.1.2" xref="A1.T3.1.1.1.m1.1.1.2.cmml"><mn id="A1.T3.1.1.1.m1.1.1.2.2" xref="A1.T3.1.1.1.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T3.1.1.1.m1.1.1.2.1" xref="A1.T3.1.1.1.m1.1.1.2.1.cmml">​</mo><mi id="A1.T3.1.1.1.m1.1.1.2.3" xref="A1.T3.1.1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo id="A1.T3.1.1.1.m1.1.1.1" xref="A1.T3.1.1.1.m1.1.1.1.cmml">−</mo><mn id="A1.T3.1.1.1.m1.1.1.3" xref="A1.T3.1.1.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.1.1.1.m1.1b"><apply id="A1.T3.1.1.1.m1.1.1.cmml" xref="A1.T3.1.1.1.m1.1.1"><minus id="A1.T3.1.1.1.m1.1.1.1.cmml" xref="A1.T3.1.1.1.m1.1.1.1"></minus><apply id="A1.T3.1.1.1.m1.1.1.2.cmml" xref="A1.T3.1.1.1.m1.1.1.2"><times id="A1.T3.1.1.1.m1.1.1.2.1.cmml" xref="A1.T3.1.1.1.m1.1.1.2.1"></times><cn type="integer" id="A1.T3.1.1.1.m1.1.1.2.2.cmml" xref="A1.T3.1.1.1.m1.1.1.2.2">1</cn><ci id="A1.T3.1.1.1.m1.1.1.2.3.cmml" xref="A1.T3.1.1.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A1.T3.1.1.1.m1.1.1.3.cmml" xref="A1.T3.1.1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.1.1.1.m1.1c">1e-4</annotation></semantics></math></td>
<td id="A1.T3.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Epochs</td>
<td id="A1.T3.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><math id="A1.T3.2.2.2.m1.1" class="ltx_Math" alttext="5" display="inline"><semantics id="A1.T3.2.2.2.m1.1a"><mn id="A1.T3.2.2.2.m1.1.1" xref="A1.T3.2.2.2.m1.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="A1.T3.2.2.2.m1.1b"><cn type="integer" id="A1.T3.2.2.2.m1.1.1.cmml" xref="A1.T3.2.2.2.m1.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.2.2.2.m1.1c">5</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.20.22" class="ltx_tr">
<td id="A1.T3.20.22.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Learning Rate Scheduler</td>
<td id="A1.T3.20.22.2" class="ltx_td ltx_align_center ltx_border_r">Cosine</td>
<td id="A1.T3.20.22.3" class="ltx_td ltx_align_center ltx_border_r">Optimizer</td>
<td id="A1.T3.20.22.4" class="ltx_td ltx_align_center ltx_border_r">Adamw</td>
</tr>
<tr id="A1.T3.5.5" class="ltx_tr">
<td id="A1.T3.5.5.4" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Warmup Step</td>
<td id="A1.T3.3.3.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.3.3.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A1.T3.3.3.1.m1.1a"><mn id="A1.T3.3.3.1.m1.1.1" xref="A1.T3.3.3.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A1.T3.3.3.1.m1.1b"><cn type="integer" id="A1.T3.3.3.1.m1.1.1.cmml" xref="A1.T3.3.3.1.m1.1.1">0</cn></annotation-xml></semantics></math></td>
<td id="A1.T3.4.4.2" class="ltx_td ltx_align_center ltx_border_r">Optimizer <math id="A1.T3.4.4.2.m1.1" class="ltx_Math" alttext="\beta 1" display="inline"><semantics id="A1.T3.4.4.2.m1.1a"><mrow id="A1.T3.4.4.2.m1.1.1" xref="A1.T3.4.4.2.m1.1.1.cmml"><mi id="A1.T3.4.4.2.m1.1.1.2" xref="A1.T3.4.4.2.m1.1.1.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A1.T3.4.4.2.m1.1.1.1" xref="A1.T3.4.4.2.m1.1.1.1.cmml">​</mo><mn id="A1.T3.4.4.2.m1.1.1.3" xref="A1.T3.4.4.2.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.4.4.2.m1.1b"><apply id="A1.T3.4.4.2.m1.1.1.cmml" xref="A1.T3.4.4.2.m1.1.1"><times id="A1.T3.4.4.2.m1.1.1.1.cmml" xref="A1.T3.4.4.2.m1.1.1.1"></times><ci id="A1.T3.4.4.2.m1.1.1.2.cmml" xref="A1.T3.4.4.2.m1.1.1.2">𝛽</ci><cn type="integer" id="A1.T3.4.4.2.m1.1.1.3.cmml" xref="A1.T3.4.4.2.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.4.4.2.m1.1c">\beta 1</annotation></semantics></math>
</td>
<td id="A1.T3.5.5.3" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.5.5.3.m1.1" class="ltx_Math" alttext="0.9" display="inline"><semantics id="A1.T3.5.5.3.m1.1a"><mn id="A1.T3.5.5.3.m1.1.1" xref="A1.T3.5.5.3.m1.1.1.cmml">0.9</mn><annotation-xml encoding="MathML-Content" id="A1.T3.5.5.3.m1.1b"><cn type="float" id="A1.T3.5.5.3.m1.1.1.cmml" xref="A1.T3.5.5.3.m1.1.1">0.9</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.5.5.3.m1.1c">0.9</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.8.8" class="ltx_tr">
<td id="A1.T3.8.8.4" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">GPU Nums</td>
<td id="A1.T3.6.6.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.6.6.1.m1.1" class="ltx_Math" alttext="8" display="inline"><semantics id="A1.T3.6.6.1.m1.1a"><mn id="A1.T3.6.6.1.m1.1.1" xref="A1.T3.6.6.1.m1.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="A1.T3.6.6.1.m1.1b"><cn type="integer" id="A1.T3.6.6.1.m1.1.1.cmml" xref="A1.T3.6.6.1.m1.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.6.6.1.m1.1c">8</annotation></semantics></math></td>
<td id="A1.T3.7.7.2" class="ltx_td ltx_align_center ltx_border_r">Optimizer <math id="A1.T3.7.7.2.m1.1" class="ltx_Math" alttext="\beta 2" display="inline"><semantics id="A1.T3.7.7.2.m1.1a"><mrow id="A1.T3.7.7.2.m1.1.1" xref="A1.T3.7.7.2.m1.1.1.cmml"><mi id="A1.T3.7.7.2.m1.1.1.2" xref="A1.T3.7.7.2.m1.1.1.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="A1.T3.7.7.2.m1.1.1.1" xref="A1.T3.7.7.2.m1.1.1.1.cmml">​</mo><mn id="A1.T3.7.7.2.m1.1.1.3" xref="A1.T3.7.7.2.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.7.7.2.m1.1b"><apply id="A1.T3.7.7.2.m1.1.1.cmml" xref="A1.T3.7.7.2.m1.1.1"><times id="A1.T3.7.7.2.m1.1.1.1.cmml" xref="A1.T3.7.7.2.m1.1.1.1"></times><ci id="A1.T3.7.7.2.m1.1.1.2.cmml" xref="A1.T3.7.7.2.m1.1.1.2">𝛽</ci><cn type="integer" id="A1.T3.7.7.2.m1.1.1.3.cmml" xref="A1.T3.7.7.2.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.7.7.2.m1.1c">\beta 2</annotation></semantics></math>
</td>
<td id="A1.T3.8.8.3" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.8.8.3.m1.1" class="ltx_Math" alttext="0.95" display="inline"><semantics id="A1.T3.8.8.3.m1.1a"><mn id="A1.T3.8.8.3.m1.1.1" xref="A1.T3.8.8.3.m1.1.1.cmml">0.95</mn><annotation-xml encoding="MathML-Content" id="A1.T3.8.8.3.m1.1b"><cn type="float" id="A1.T3.8.8.3.m1.1.1.cmml" xref="A1.T3.8.8.3.m1.1.1">0.95</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.8.8.3.m1.1c">0.95</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.11.11" class="ltx_tr">
<td id="A1.T3.11.11.4" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Batch Size Per GPU</td>
<td id="A1.T3.9.9.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.9.9.1.m1.1" class="ltx_Math" alttext="50" display="inline"><semantics id="A1.T3.9.9.1.m1.1a"><mn id="A1.T3.9.9.1.m1.1.1" xref="A1.T3.9.9.1.m1.1.1.cmml">50</mn><annotation-xml encoding="MathML-Content" id="A1.T3.9.9.1.m1.1b"><cn type="integer" id="A1.T3.9.9.1.m1.1.1.cmml" xref="A1.T3.9.9.1.m1.1.1">50</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.9.9.1.m1.1c">50</annotation></semantics></math></td>
<td id="A1.T3.10.10.2" class="ltx_td ltx_align_center ltx_border_r">Optimizer <math id="A1.T3.10.10.2.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="A1.T3.10.10.2.m1.1a"><mi id="A1.T3.10.10.2.m1.1.1" xref="A1.T3.10.10.2.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.T3.10.10.2.m1.1b"><ci id="A1.T3.10.10.2.m1.1.1.cmml" xref="A1.T3.10.10.2.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.10.10.2.m1.1c">\epsilon</annotation></semantics></math>
</td>
<td id="A1.T3.11.11.3" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.11.11.3.m1.1" class="ltx_Math" alttext="1e-9" display="inline"><semantics id="A1.T3.11.11.3.m1.1a"><mrow id="A1.T3.11.11.3.m1.1.1" xref="A1.T3.11.11.3.m1.1.1.cmml"><mrow id="A1.T3.11.11.3.m1.1.1.2" xref="A1.T3.11.11.3.m1.1.1.2.cmml"><mn id="A1.T3.11.11.3.m1.1.1.2.2" xref="A1.T3.11.11.3.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.T3.11.11.3.m1.1.1.2.1" xref="A1.T3.11.11.3.m1.1.1.2.1.cmml">​</mo><mi id="A1.T3.11.11.3.m1.1.1.2.3" xref="A1.T3.11.11.3.m1.1.1.2.3.cmml">e</mi></mrow><mo id="A1.T3.11.11.3.m1.1.1.1" xref="A1.T3.11.11.3.m1.1.1.1.cmml">−</mo><mn id="A1.T3.11.11.3.m1.1.1.3" xref="A1.T3.11.11.3.m1.1.1.3.cmml">9</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.11.11.3.m1.1b"><apply id="A1.T3.11.11.3.m1.1.1.cmml" xref="A1.T3.11.11.3.m1.1.1"><minus id="A1.T3.11.11.3.m1.1.1.1.cmml" xref="A1.T3.11.11.3.m1.1.1.1"></minus><apply id="A1.T3.11.11.3.m1.1.1.2.cmml" xref="A1.T3.11.11.3.m1.1.1.2"><times id="A1.T3.11.11.3.m1.1.1.2.1.cmml" xref="A1.T3.11.11.3.m1.1.1.2.1"></times><cn type="integer" id="A1.T3.11.11.3.m1.1.1.2.2.cmml" xref="A1.T3.11.11.3.m1.1.1.2.2">1</cn><ci id="A1.T3.11.11.3.m1.1.1.2.3.cmml" xref="A1.T3.11.11.3.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A1.T3.11.11.3.m1.1.1.3.cmml" xref="A1.T3.11.11.3.m1.1.1.3">9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.11.11.3.m1.1c">1e-9</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.12.12" class="ltx_tr">
<td id="A1.T3.12.12.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Max Query Length</td>
<td id="A1.T3.12.12.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.12.12.1.m1.1" class="ltx_Math" alttext="36" display="inline"><semantics id="A1.T3.12.12.1.m1.1a"><mn id="A1.T3.12.12.1.m1.1.1" xref="A1.T3.12.12.1.m1.1.1.cmml">36</mn><annotation-xml encoding="MathML-Content" id="A1.T3.12.12.1.m1.1b"><cn type="integer" id="A1.T3.12.12.1.m1.1.1.cmml" xref="A1.T3.12.12.1.m1.1.1">36</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.12.12.1.m1.1c">36</annotation></semantics></math></td>
<td id="A1.T3.12.12.3" class="ltx_td ltx_align_center ltx_border_r">Precision</td>
<td id="A1.T3.12.12.4" class="ltx_td ltx_align_center ltx_border_r">AMP</td>
</tr>
<tr id="A1.T3.14.14" class="ltx_tr">
<td id="A1.T3.14.14.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Max Answer Length</td>
<td id="A1.T3.13.13.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.13.13.1.m1.1" class="ltx_Math" alttext="130" display="inline"><semantics id="A1.T3.13.13.1.m1.1a"><mn id="A1.T3.13.13.1.m1.1.1" xref="A1.T3.13.13.1.m1.1.1.cmml">130</mn><annotation-xml encoding="MathML-Content" id="A1.T3.13.13.1.m1.1b"><cn type="integer" id="A1.T3.13.13.1.m1.1.1.cmml" xref="A1.T3.13.13.1.m1.1.1">130</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.13.13.1.m1.1c">130</annotation></semantics></math></td>
<td id="A1.T3.14.14.4" class="ltx_td ltx_align_center ltx_border_r">LoRA Rank</td>
<td id="A1.T3.14.14.2" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.14.14.2.m1.1" class="ltx_Math" alttext="8" display="inline"><semantics id="A1.T3.14.14.2.m1.1a"><mn id="A1.T3.14.14.2.m1.1.1" xref="A1.T3.14.14.2.m1.1.1.cmml">8</mn><annotation-xml encoding="MathML-Content" id="A1.T3.14.14.2.m1.1b"><cn type="integer" id="A1.T3.14.14.2.m1.1.1.cmml" xref="A1.T3.14.14.2.m1.1.1">8</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.14.14.2.m1.1c">8</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.17.17" class="ltx_tr">
<td id="A1.T3.17.17.4" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Max Generated Length</td>
<td id="A1.T3.15.15.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.15.15.1.m1.1" class="ltx_Math" alttext="167" display="inline"><semantics id="A1.T3.15.15.1.m1.1a"><mn id="A1.T3.15.15.1.m1.1.1" xref="A1.T3.15.15.1.m1.1.1.cmml">167</mn><annotation-xml encoding="MathML-Content" id="A1.T3.15.15.1.m1.1b"><cn type="integer" id="A1.T3.15.15.1.m1.1.1.cmml" xref="A1.T3.15.15.1.m1.1.1">167</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.15.15.1.m1.1c">167</annotation></semantics></math></td>
<td id="A1.T3.16.16.2" class="ltx_td ltx_align_center ltx_border_r">LoRA <math id="A1.T3.16.16.2.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A1.T3.16.16.2.m1.1a"><mi id="A1.T3.16.16.2.m1.1.1" xref="A1.T3.16.16.2.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A1.T3.16.16.2.m1.1b"><ci id="A1.T3.16.16.2.m1.1.1.cmml" xref="A1.T3.16.16.2.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.16.16.2.m1.1c">\alpha</annotation></semantics></math>
</td>
<td id="A1.T3.17.17.3" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.17.17.3.m1.1" class="ltx_Math" alttext="32" display="inline"><semantics id="A1.T3.17.17.3.m1.1a"><mn id="A1.T3.17.17.3.m1.1.1" xref="A1.T3.17.17.3.m1.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="A1.T3.17.17.3.m1.1b"><cn type="integer" id="A1.T3.17.17.3.m1.1.1.cmml" xref="A1.T3.17.17.3.m1.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.17.17.3.m1.1c">32</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.18.18" class="ltx_tr">
<td id="A1.T3.18.18.2" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Precision</td>
<td id="A1.T3.18.18.3" class="ltx_td ltx_align_center ltx_border_r">bfloat16</td>
<td id="A1.T3.18.18.4" class="ltx_td ltx_align_center ltx_border_r">LoRA Dropout</td>
<td id="A1.T3.18.18.1" class="ltx_td ltx_align_center ltx_border_r"><math id="A1.T3.18.18.1.m1.1" class="ltx_Math" alttext="0.05" display="inline"><semantics id="A1.T3.18.18.1.m1.1a"><mn id="A1.T3.18.18.1.m1.1.1" xref="A1.T3.18.18.1.m1.1.1.cmml">0.05</mn><annotation-xml encoding="MathML-Content" id="A1.T3.18.18.1.m1.1b"><cn type="float" id="A1.T3.18.18.1.m1.1.1.cmml" xref="A1.T3.18.18.1.m1.1.1">0.05</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.18.18.1.m1.1c">0.05</annotation></semantics></math></td>
</tr>
<tr id="A1.T3.20.20" class="ltx_tr">
<td id="A1.T3.20.20.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r">Vocabulary Size</td>
<td id="A1.T3.19.19.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><math id="A1.T3.19.19.1.m1.1" class="ltx_Math" alttext="32002" display="inline"><semantics id="A1.T3.19.19.1.m1.1a"><mn id="A1.T3.19.19.1.m1.1.1" xref="A1.T3.19.19.1.m1.1.1.cmml">32002</mn><annotation-xml encoding="MathML-Content" id="A1.T3.19.19.1.m1.1b"><cn type="integer" id="A1.T3.19.19.1.m1.1.1.cmml" xref="A1.T3.19.19.1.m1.1.1">32002</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.19.19.1.m1.1c">32002</annotation></semantics></math></td>
<td id="A1.T3.20.20.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">Seed</td>
<td id="A1.T3.20.20.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><math id="A1.T3.20.20.2.m1.1" class="ltx_Math" alttext="1234" display="inline"><semantics id="A1.T3.20.20.2.m1.1a"><mn id="A1.T3.20.20.2.m1.1.1" xref="A1.T3.20.20.2.m1.1.1.cmml">1234</mn><annotation-xml encoding="MathML-Content" id="A1.T3.20.20.2.m1.1b"><cn type="integer" id="A1.T3.20.20.2.m1.1.1.cmml" xref="A1.T3.20.20.2.m1.1.1">1234</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.20.20.2.m1.1c">1234</annotation></semantics></math></td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Hyperparameter Settings.</figcaption>
</figure>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Evaluation of the Base Model</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">We evaluate the base model (open-llama-3B) on the proposed arithmetical puzzle problem. As shown in Table <a href="#A1.T4" title="Table 4 ‣ A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Table <a href="#A1.T5" title="Table 5 ‣ A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, with either the few-shot prompting (2-Shot, 8-Shot) or Chain-of-Thought (CoT), the base model performs poorly on the puzzle. We propose this is due to the symbolic form of our prompt, the model needs to understand the underlying pattern in order to solve the arithmetical puzzle. Without fine-tuning on the synthetic data, the model may struggle to comprehend such type of prompt.</p>
</div>
<figure id="A1.T4" class="ltx_table">
<table id="A1.T4.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A1.T4.1.1" class="ltx_tr">
<td id="A1.T4.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T4.1.1.1.1" class="ltx_text ltx_font_bold">Approach</span></td>
<td id="A1.T4.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T4.1.1.2.1" class="ltx_text ltx_font_bold">ID</span></td>
<td id="A1.T4.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T4.1.1.3.1" class="ltx_text ltx_font_bold">OOD-N</span></td>
<td id="A1.T4.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T4.1.1.4.1" class="ltx_text ltx_font_bold">OOD-F</span></td>
<td id="A1.T4.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T4.1.1.5.1" class="ltx_text ltx_font_bold">OOD-1000</span></td>
</tr>
<tr id="A1.T4.1.2" class="ltx_tr">
<td id="A1.T4.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">2-Shot Prompting</td>
<td id="A1.T4.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="A1.T4.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="A1.T4.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="A1.T4.1.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
</tr>
<tr id="A1.T4.1.3" class="ltx_tr">
<td id="A1.T4.1.3.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">8-Shot Prompting</td>
<td id="A1.T4.1.3.2" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T4.1.3.3" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T4.1.3.4" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T4.1.3.5" class="ltx_td ltx_align_center ltx_border_r">0</td>
</tr>
<tr id="A1.T4.1.4" class="ltx_tr">
<td id="A1.T4.1.4.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r">Chain-of-Thought</td>
<td id="A1.T4.1.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
<td id="A1.T4.1.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
<td id="A1.T4.1.4.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
<td id="A1.T4.1.4.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Evaluation of the base model with few-shot and Chain-of-Thought prompting. As expected, the base model performs poorly across all the prompting techniques.</figcaption>
</figure>
<figure id="A1.T5" class="ltx_table">
<table id="A1.T5.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T5.1.1" class="ltx_tr">
<td id="A1.T5.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T5.1.1.1.1" class="ltx_text ltx_font_bold">Chain-of-Thought Prompting</span></td>
<td id="A1.T5.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T5.1.1.2.1" class="ltx_text ltx_font_bold">Generated Response of the Base Model</span></td>
</tr>
<tr id="A1.T5.1.2" class="ltx_tr">
<td id="A1.T5.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Let’s play an arithmetic puzzle game.</td>
<td id="A1.T5.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">The first thing to do is to find the number of ways to get 8.</td>
</tr>
<tr id="A1.T5.1.3" class="ltx_tr">
<td id="A1.T5.1.3.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">First, we are given a set of numbers:</td>
<td id="A1.T5.1.3.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get by adding 8 to 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.4" class="ltx_tr">
<td id="A1.T5.1.4.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">8, 37, 11, 26, 15. The objective is to</td>
<td id="A1.T5.1.4.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by subtracting 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.5" class="ltx_tr">
<td id="A1.T5.1.5.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">use operations like addition,</td>
<td id="A1.T5.1.5.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by multiplying 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.6" class="ltx_tr">
<td id="A1.T5.1.6.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">subtraction, multiplication, and</td>
<td id="A1.T5.1.6.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by dividing 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.7" class="ltx_tr">
<td id="A1.T5.1.7.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">division to obtain the number 8,</td>
<td id="A1.T5.1.7.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by adding 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.8" class="ltx_tr">
<td id="A1.T5.1.8.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">using each number exactly once.</td>
<td id="A1.T5.1.8.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by subtracting 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.9" class="ltx_tr">
<td id="A1.T5.1.9.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">Please provide the reasoning</td>
<td id="A1.T5.1.9.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by multiplying 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.10" class="ltx_tr">
<td id="A1.T5.1.10.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r">process step by step.</td>
<td id="A1.T5.1.10.2" class="ltx_td ltx_align_left ltx_border_r">There are 4 ways to get 8 by dividing 8 from 37, 11, 26, 15.</td>
</tr>
<tr id="A1.T5.1.11" class="ltx_tr">
<td id="A1.T5.1.11.1" class="ltx_td ltx_border_b ltx_border_l ltx_border_r"></td>
<td id="A1.T5.1.11.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">…</td>
</tr>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>An example of Chain-of-Thought prompting and the generated response of the base model.</figcaption>
</figure>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.1" class="ltx_p">We further test several open-source (Llama-2-7B <cite class="ltx_cite ltx_citemacro_citep">(Touvron et al., <a href="#bib.bib26" title="" class="ltx_ref">2023a</a>)</cite>, Deepseek-Coder-33B <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a href="#bib.bib10" title="" class="ltx_ref">2024</a>)</cite>) and closed-source models (GPT4 <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al., <a href="#bib.bib1" title="" class="ltx_ref">2023</a>)</cite>) with few-shot prompting. As shown in Table <a href="#A1.T6" title="Table 6 ‣ A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, these models also perform poorly on our benchmarks. In Table <a href="#A1.T7" title="Table 7 ‣ A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, we provide an example of the CoT prompting and the generated responses from these models.</p>
</div>
<figure id="A1.T6" class="ltx_table">
<table id="A1.T6.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="A1.T6.1.1" class="ltx_tr">
<td id="A1.T6.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T6.1.1.1.1" class="ltx_text ltx_font_bold">Model</span></td>
<td id="A1.T6.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T6.1.1.2.1" class="ltx_text ltx_font_bold">ID</span></td>
<td id="A1.T6.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T6.1.1.3.1" class="ltx_text ltx_font_bold">OOD-N</span></td>
<td id="A1.T6.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T6.1.1.4.1" class="ltx_text ltx_font_bold">OOD-F</span></td>
<td id="A1.T6.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T6.1.1.5.1" class="ltx_text ltx_font_bold">OOD-1000</span></td>
</tr>
<tr id="A1.T6.1.2" class="ltx_tr">
<td id="A1.T6.1.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">GPT4</td>
<td id="A1.T6.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.002</td>
<td id="A1.T6.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.001</td>
<td id="A1.T6.1.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="A1.T6.1.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.001</td>
</tr>
<tr id="A1.T6.1.3" class="ltx_tr">
<td id="A1.T6.1.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">Llama-2-7B</td>
<td id="A1.T6.1.3.2" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T6.1.3.3" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T6.1.3.4" class="ltx_td ltx_align_center ltx_border_r">0</td>
<td id="A1.T6.1.3.5" class="ltx_td ltx_align_center ltx_border_r">0</td>
</tr>
<tr id="A1.T6.1.4" class="ltx_tr">
<td id="A1.T6.1.4.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r">Deepseek-Coder-33B</td>
<td id="A1.T6.1.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0.001</td>
<td id="A1.T6.1.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
<td id="A1.T6.1.4.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0.001</td>
<td id="A1.T6.1.4.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">0</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Evaluation results of Llama-2-7B, Deepseek-Coder-33B, and GPT4 on our proposed benchmarks.</figcaption>
</figure>
<figure id="A1.T7" class="ltx_table">
<div id="A1.T7.1" class="ltx_inline-block ltx_transformed_outer" style="width:433.6pt;height:602.6pt;vertical-align:-0.8pt;"><span class="ltx_transformed_inner" style="transform:translate(-54.9pt,76.2pt) scale(0.797868347000288,0.797868347000288) ;">
<table id="A1.T7.1.1" class="ltx_tabular ltx_align_middle">
<tr id="A1.T7.1.1.1" class="ltx_tr">
<td id="A1.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T7.1.1.1.1.1" class="ltx_text ltx_font_bold">Few-Shot Prompting</span></td>
<td id="A1.T7.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T7.1.1.1.2.1" class="ltx_text ltx_font_bold">Model</span></td>
<td id="A1.T7.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T7.1.1.1.3.1" class="ltx_text ltx_font_bold">Response</span></td>
</tr>
<tr id="A1.T7.1.1.2" class="ltx_tr">
<td id="A1.T7.1.1.2.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="A1.T7.1.1.2.1.1" class="ltx_text"><span id="A1.T7.1.1.2.1.1.1" class="ltx_text"></span><span id="A1.T7.1.1.2.1.1.2" class="ltx_text">
<span id="A1.T7.1.1.2.1.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="A1.T7.1.1.2.1.1.2.1.1" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">A puzzle problem. The first</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.2" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">two lines are examples. Please</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.3" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">solve the third line:</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.4" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_left">36, 32, 57, 55, 11:30S11/36=0,</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.5" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.5.1" class="ltx_td ltx_nopad_r ltx_align_left">0+32=32, 55+32=87, 87-57=30</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.6" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.6.1" class="ltx_td ltx_nopad_r ltx_align_left">17, 6, 20, 48, 30:-40S17+48=65,</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.7" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.7.1" class="ltx_td ltx_nopad_r ltx_align_left">30/6=5, 20+5=25, 25-65=-40</span></span>
<span id="A1.T7.1.1.2.1.1.2.1.8" class="ltx_tr">
<span id="A1.T7.1.1.2.1.1.2.1.8.1" class="ltx_td ltx_nopad_r ltx_align_left">8, 37, 11, 26, 15:8S</span></span>
</span></span> <span id="A1.T7.1.1.2.1.1.3" class="ltx_text"></span></span></td>
<td id="A1.T7.1.1.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">GPT4</td>
<td id="A1.T7.1.1.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A1.T7.1.1.2.3.1" class="ltx_text"></span><span id="A1.T7.1.1.2.3.2" class="ltx_text">
<span id="A1.T7.1.1.2.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="A1.T7.1.1.2.3.2.1.1" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Sure, I’ll solve the third line of the puzzle using the pattern</span></span>
<span id="A1.T7.1.1.2.3.2.1.2" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">established in the first two lines:</span></span>
<span id="A1.T7.1.1.2.3.2.1.3" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">Firstly, divide the fifth number by the first number, which will</span></span>
<span id="A1.T7.1.1.2.3.2.1.4" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_left">yield an integer part:</span></span>
<span id="A1.T7.1.1.2.3.2.1.5" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.5.1" class="ltx_td ltx_nopad_r ltx_align_left">15 / 8 = 1 (ignore the decimal part)</span></span>
<span id="A1.T7.1.1.2.3.2.1.6" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.6.1" class="ltx_td ltx_nopad_r ltx_align_left">Next, add the result to the second number:</span></span>
<span id="A1.T7.1.1.2.3.2.1.7" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.7.1" class="ltx_td ltx_nopad_r ltx_align_left">1 + 37 = 38</span></span>
<span id="A1.T7.1.1.2.3.2.1.8" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.8.1" class="ltx_td ltx_nopad_r ltx_align_left">After that, add this result to the fourth number:</span></span>
<span id="A1.T7.1.1.2.3.2.1.9" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.9.1" class="ltx_td ltx_nopad_r ltx_align_left">38 + 26 = 64</span></span>
<span id="A1.T7.1.1.2.3.2.1.10" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.10.1" class="ltx_td ltx_nopad_r ltx_align_left">Final step, subtract the third number from this result:</span></span>
<span id="A1.T7.1.1.2.3.2.1.11" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.11.1" class="ltx_td ltx_nopad_r ltx_align_left">64 - 11 = 53</span></span>
<span id="A1.T7.1.1.2.3.2.1.12" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.12.1" class="ltx_td ltx_nopad_r ltx_align_left">However, the expected output provided is 8, but following the</span></span>
<span id="A1.T7.1.1.2.3.2.1.13" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.13.1" class="ltx_td ltx_nopad_r ltx_align_left">pattern above, the answer seems to be 53. It’s possible that there</span></span>
<span id="A1.T7.1.1.2.3.2.1.14" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.14.1" class="ltx_td ltx_nopad_r ltx_align_left">are some other rules or factors at play, or therecould be an error</span></span>
<span id="A1.T7.1.1.2.3.2.1.15" class="ltx_tr">
<span id="A1.T7.1.1.2.3.2.1.15.1" class="ltx_td ltx_nopad_r ltx_align_left">in the input or expected output.</span></span>
</span></span><span id="A1.T7.1.1.2.3.3" class="ltx_text"></span></td>
</tr>
<tr id="A1.T7.1.1.3" class="ltx_tr">
<td id="A1.T7.1.1.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Llama-2-7B</td>
<td id="A1.T7.1.1.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A1.T7.1.1.3.2.1" class="ltx_text"></span><span id="A1.T7.1.1.3.2.2" class="ltx_text">
<span id="A1.T7.1.1.3.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="A1.T7.1.1.3.2.2.1.1" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">Sure, I’d be happy to help you solve the third line of the puzzle!</span></span>
<span id="A1.T7.1.1.3.2.2.1.2" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">The equation is:8,37,11,26,15:8S</span></span>
<span id="A1.T7.1.1.3.2.2.1.3" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">To solve this equation, we can start by simplifying the fraction:</span></span>
<span id="A1.T7.1.1.3.2.2.1.4" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_left">8/8 = 1</span></span>
<span id="A1.T7.1.1.3.2.2.1.5" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.5.1" class="ltx_td ltx_nopad_r ltx_align_left">So, the solution to the equation is:</span></span>
<span id="A1.T7.1.1.3.2.2.1.6" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.6.1" class="ltx_td ltx_nopad_r ltx_align_left">11,26,15 = 52</span></span>
<span id="A1.T7.1.1.3.2.2.1.7" class="ltx_tr">
<span id="A1.T7.1.1.3.2.2.1.7.1" class="ltx_td ltx_nopad_r ltx_align_left">I hope this helps! Let me know if you have any other questions.</span></span>
</span></span><span id="A1.T7.1.1.3.2.3" class="ltx_text"></span></td>
</tr>
<tr id="A1.T7.1.1.4" class="ltx_tr">
<td id="A1.T7.1.1.4.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">
<span id="A1.T7.1.1.4.1.1" class="ltx_text"></span> <span id="A1.T7.1.1.4.1.2" class="ltx_text">
<span id="A1.T7.1.1.4.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="A1.T7.1.1.4.1.2.1.1" class="ltx_tr">
<span id="A1.T7.1.1.4.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">DeepSeek-</span></span>
<span id="A1.T7.1.1.4.1.2.1.2" class="ltx_tr">
<span id="A1.T7.1.1.4.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Coder-33B</span></span>
</span></span><span id="A1.T7.1.1.4.1.3" class="ltx_text"></span></td>
<td id="A1.T7.1.1.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">
<span id="A1.T7.1.1.4.2.1" class="ltx_text"></span><span id="A1.T7.1.1.4.2.2" class="ltx_text">
<span id="A1.T7.1.1.4.2.2.1" class="ltx_tabular ltx_align_middle">
<span id="A1.T7.1.1.4.2.2.1.1" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left">The third line of the puzzle problem is:</span></span>
<span id="A1.T7.1.1.4.2.2.1.2" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_left">17, 6, 20, 48, 30:-40S17+48=65, 30/6=5, 20+5=25, 25-65=-40</span></span>
<span id="A1.T7.1.1.4.2.2.1.3" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_left">The operations and numbers are:</span></span>
<span id="A1.T7.1.1.4.2.2.1.4" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_left">1. 17 + 48 = 65</span></span>
<span id="A1.T7.1.1.4.2.2.1.5" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.5.1" class="ltx_td ltx_nopad_r ltx_align_left">2. 30 / 6 = 5</span></span>
<span id="A1.T7.1.1.4.2.2.1.6" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.6.1" class="ltx_td ltx_nopad_r ltx_align_left">3. 20 + 5 = 25</span></span>
<span id="A1.T7.1.1.4.2.2.1.7" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.7.1" class="ltx_td ltx_nopad_r ltx_align_left">4. 25 - 65 = -40</span></span>
<span id="A1.T7.1.1.4.2.2.1.8" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.8.1" class="ltx_td ltx_nopad_r ltx_align_left">Let’s solve these operations:</span></span>
<span id="A1.T7.1.1.4.2.2.1.9" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.9.1" class="ltx_td ltx_nopad_r ltx_align_left">1. 17 + 48 = 65</span></span>
<span id="A1.T7.1.1.4.2.2.1.10" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.10.1" class="ltx_td ltx_nopad_r ltx_align_left">2. 30 / 6 = 5</span></span>
<span id="A1.T7.1.1.4.2.2.1.11" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.11.1" class="ltx_td ltx_nopad_r ltx_align_left">3. 20 + 5 = 25</span></span>
<span id="A1.T7.1.1.4.2.2.1.12" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.12.1" class="ltx_td ltx_nopad_r ltx_align_left">4. 25 - 65 = -40</span></span>
<span id="A1.T7.1.1.4.2.2.1.13" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.13.1" class="ltx_td ltx_nopad_r ltx_align_left">So, the solution to the third line is:</span></span>
<span id="A1.T7.1.1.4.2.2.1.14" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.14.1" class="ltx_td ltx_nopad_r ltx_align_left">17 + 48 = 65</span></span>
<span id="A1.T7.1.1.4.2.2.1.15" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.15.1" class="ltx_td ltx_nopad_r ltx_align_left">30 / 6 = 5</span></span>
<span id="A1.T7.1.1.4.2.2.1.16" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.16.1" class="ltx_td ltx_nopad_r ltx_align_left">20 + 5 = 25</span></span>
<span id="A1.T7.1.1.4.2.2.1.17" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.17.1" class="ltx_td ltx_nopad_r ltx_align_left">25 - 65 = -40</span></span>
<span id="A1.T7.1.1.4.2.2.1.18" class="ltx_tr">
<span id="A1.T7.1.1.4.2.2.1.18.1" class="ltx_td ltx_nopad_r ltx_align_left">This line of the puzzle problem is solved.</span></span>
</span></span><span id="A1.T7.1.1.4.2.3" class="ltx_text"></span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7: </span>An example of few-shot prompting and the generated responses of GPT4, Llama-2-7B, and Deepseek-Coder-33B. We provide the models with two examples before the puzzle. As shown, all of the models fail to solve the given problem. GPT4 seems to understand the requirement of the puzzle, while the other two fail.</figcaption>
</figure>
<div id="A1.SS2.p3" class="ltx_para">
<p id="A1.SS2.p3.1" class="ltx_p">As shown in Table <a href="#A1.T7" title="Table 7 ‣ A.2 Evaluation of the Base Model ‣ Appendix A Appendix ‣ Exploring Mathematical Extrapolation of Large Language Models with Synthetic Data" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, Llama-2-7B fails to understand the requirement of the puzzle and just outputs two meaningless equations. Deepseek-Coder-33B treats the second example in few-shot prompting as the puzzle, and repeats the same calculations three times. It seems that GPT4 has well understood the prompt and used all the candidate integers only once, the calculations within the generated response are all right, while the solution is wrong. Actually, such kind of problem is very challenging, as the model needs to infer the requirement of the puzzle from the provided examples and then figure out the correct solution.</p>
</div>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Case Study</h3>

<figure id="A1.F4" class="ltx_figure"><img src="/html/2406.02100/assets/x1.png" id="A1.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="447" height="533" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Cases from the form OOD test dataset. The correct steps are highlighted in green, while the incorrect steps in red. Generally speaking, performance of model fine-tuned with 1M training data is the worst.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A1.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Visualization of the Proposed Puzzle</h3>

<figure id="A1.F5" class="ltx_figure"><img src="/html/2406.02100/assets/x2.png" id="A1.F5.g1" class="ltx_graphics ltx_centering ltx_img_square" width="276" height="237" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Visualization of the proposed arithmetical puzzle. Given the candidate integers <math id="A1.F5.4.m1.5" class="ltx_Math" alttext="3,6,7,51,58" display="inline"><semantics id="A1.F5.4.m1.5b"><mrow id="A1.F5.4.m1.5.6.2" xref="A1.F5.4.m1.5.6.1.cmml"><mn id="A1.F5.4.m1.1.1" xref="A1.F5.4.m1.1.1.cmml">3</mn><mo id="A1.F5.4.m1.5.6.2.1" xref="A1.F5.4.m1.5.6.1.cmml">,</mo><mn id="A1.F5.4.m1.2.2" xref="A1.F5.4.m1.2.2.cmml">6</mn><mo id="A1.F5.4.m1.5.6.2.2" xref="A1.F5.4.m1.5.6.1.cmml">,</mo><mn id="A1.F5.4.m1.3.3" xref="A1.F5.4.m1.3.3.cmml">7</mn><mo id="A1.F5.4.m1.5.6.2.3" xref="A1.F5.4.m1.5.6.1.cmml">,</mo><mn id="A1.F5.4.m1.4.4" xref="A1.F5.4.m1.4.4.cmml">51</mn><mo id="A1.F5.4.m1.5.6.2.4" xref="A1.F5.4.m1.5.6.1.cmml">,</mo><mn id="A1.F5.4.m1.5.5" xref="A1.F5.4.m1.5.5.cmml">58</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.F5.4.m1.5c"><list id="A1.F5.4.m1.5.6.1.cmml" xref="A1.F5.4.m1.5.6.2"><cn type="integer" id="A1.F5.4.m1.1.1.cmml" xref="A1.F5.4.m1.1.1">3</cn><cn type="integer" id="A1.F5.4.m1.2.2.cmml" xref="A1.F5.4.m1.2.2">6</cn><cn type="integer" id="A1.F5.4.m1.3.3.cmml" xref="A1.F5.4.m1.3.3">7</cn><cn type="integer" id="A1.F5.4.m1.4.4.cmml" xref="A1.F5.4.m1.4.4">51</cn><cn type="integer" id="A1.F5.4.m1.5.5.cmml" xref="A1.F5.4.m1.5.5">58</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A1.F5.4.m1.5d">3,6,7,51,58</annotation></semantics></math> and the target integer <math id="A1.F5.5.m2.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A1.F5.5.m2.1b"><mn id="A1.F5.5.m2.1.1" xref="A1.F5.5.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A1.F5.5.m2.1c"><cn type="integer" id="A1.F5.5.m2.1.1.cmml" xref="A1.F5.5.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.F5.5.m2.1d">4</annotation></semantics></math>, the answer is <math id="A1.F5.6.m3.2" class="ltx_Math" alttext="58-51=7,6-7=-1,3\times(-1)=-3,-3+7=4" display="inline"><semantics id="A1.F5.6.m3.2b"><mrow id="A1.F5.6.m3.2.2.2" xref="A1.F5.6.m3.2.2.3.cmml"><mrow id="A1.F5.6.m3.1.1.1.1" xref="A1.F5.6.m3.1.1.1.1.cmml"><mrow id="A1.F5.6.m3.1.1.1.1.2" xref="A1.F5.6.m3.1.1.1.1.2.cmml"><mn id="A1.F5.6.m3.1.1.1.1.2.2" xref="A1.F5.6.m3.1.1.1.1.2.2.cmml">58</mn><mo id="A1.F5.6.m3.1.1.1.1.2.1" xref="A1.F5.6.m3.1.1.1.1.2.1.cmml">−</mo><mn id="A1.F5.6.m3.1.1.1.1.2.3" xref="A1.F5.6.m3.1.1.1.1.2.3.cmml">51</mn></mrow><mo id="A1.F5.6.m3.1.1.1.1.1" xref="A1.F5.6.m3.1.1.1.1.1.cmml">=</mo><mn id="A1.F5.6.m3.1.1.1.1.3" xref="A1.F5.6.m3.1.1.1.1.3.cmml">7</mn></mrow><mo id="A1.F5.6.m3.2.2.2.3" xref="A1.F5.6.m3.2.2.3a.cmml">,</mo><mrow id="A1.F5.6.m3.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.3.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.1.1" xref="A1.F5.6.m3.2.2.2.2.1.1.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.1.1.2" xref="A1.F5.6.m3.2.2.2.2.1.1.2.cmml"><mn id="A1.F5.6.m3.2.2.2.2.1.1.2.2" xref="A1.F5.6.m3.2.2.2.2.1.1.2.2.cmml">6</mn><mo id="A1.F5.6.m3.2.2.2.2.1.1.2.1" xref="A1.F5.6.m3.2.2.2.2.1.1.2.1.cmml">−</mo><mn id="A1.F5.6.m3.2.2.2.2.1.1.2.3" xref="A1.F5.6.m3.2.2.2.2.1.1.2.3.cmml">7</mn></mrow><mo id="A1.F5.6.m3.2.2.2.2.1.1.1" xref="A1.F5.6.m3.2.2.2.2.1.1.1.cmml">=</mo><mrow id="A1.F5.6.m3.2.2.2.2.1.1.3" xref="A1.F5.6.m3.2.2.2.2.1.1.3.cmml"><mo id="A1.F5.6.m3.2.2.2.2.1.1.3b" xref="A1.F5.6.m3.2.2.2.2.1.1.3.cmml">−</mo><mn id="A1.F5.6.m3.2.2.2.2.1.1.3.2" xref="A1.F5.6.m3.2.2.2.2.1.1.3.2.cmml">1</mn></mrow></mrow><mo id="A1.F5.6.m3.2.2.2.2.2.3" xref="A1.F5.6.m3.2.2.2.2.3a.cmml">,</mo><mrow id="A1.F5.6.m3.2.2.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.2.2.3.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.2.2.1.1" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.cmml"><mn id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.3" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.3.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.2" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.2.cmml">×</mo><mrow id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.2" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml"><mo id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1b" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml">−</mo><mn id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.2" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.2.cmml">1</mn></mrow><mo stretchy="false" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.3" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.F5.6.m3.2.2.2.2.2.2.1.1.2" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.2.cmml">=</mo><mrow id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.cmml"><mo id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3b" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.cmml">−</mo><mn id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.2" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.2.cmml">3</mn></mrow></mrow><mo id="A1.F5.6.m3.2.2.2.2.2.2.2.3" xref="A1.F5.6.m3.2.2.2.2.2.2.3a.cmml">,</mo><mrow id="A1.F5.6.m3.2.2.2.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.cmml"><mrow id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.cmml"><mo id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2b" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.cmml">−</mo><mn id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.2" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.2.cmml">3</mn></mrow><mo id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.1" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.1.cmml">+</mo><mn id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.3" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.3.cmml">7</mn></mrow><mo id="A1.F5.6.m3.2.2.2.2.2.2.2.2.1" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.1.cmml">=</mo><mn id="A1.F5.6.m3.2.2.2.2.2.2.2.2.3" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.3.cmml">4</mn></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.F5.6.m3.2c"><apply id="A1.F5.6.m3.2.2.3.cmml" xref="A1.F5.6.m3.2.2.2"><csymbol cd="ambiguous" id="A1.F5.6.m3.2.2.3a.cmml" xref="A1.F5.6.m3.2.2.2.3">formulae-sequence</csymbol><apply id="A1.F5.6.m3.1.1.1.1.cmml" xref="A1.F5.6.m3.1.1.1.1"><eq id="A1.F5.6.m3.1.1.1.1.1.cmml" xref="A1.F5.6.m3.1.1.1.1.1"></eq><apply id="A1.F5.6.m3.1.1.1.1.2.cmml" xref="A1.F5.6.m3.1.1.1.1.2"><minus id="A1.F5.6.m3.1.1.1.1.2.1.cmml" xref="A1.F5.6.m3.1.1.1.1.2.1"></minus><cn type="integer" id="A1.F5.6.m3.1.1.1.1.2.2.cmml" xref="A1.F5.6.m3.1.1.1.1.2.2">58</cn><cn type="integer" id="A1.F5.6.m3.1.1.1.1.2.3.cmml" xref="A1.F5.6.m3.1.1.1.1.2.3">51</cn></apply><cn type="integer" id="A1.F5.6.m3.1.1.1.1.3.cmml" xref="A1.F5.6.m3.1.1.1.1.3">7</cn></apply><apply id="A1.F5.6.m3.2.2.2.2.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.F5.6.m3.2.2.2.2.3a.cmml" xref="A1.F5.6.m3.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.F5.6.m3.2.2.2.2.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1"><eq id="A1.F5.6.m3.2.2.2.2.1.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.1"></eq><apply id="A1.F5.6.m3.2.2.2.2.1.1.2.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.2"><minus id="A1.F5.6.m3.2.2.2.2.1.1.2.1.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.2.1"></minus><cn type="integer" id="A1.F5.6.m3.2.2.2.2.1.1.2.2.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.2.2">6</cn><cn type="integer" id="A1.F5.6.m3.2.2.2.2.1.1.2.3.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.2.3">7</cn></apply><apply id="A1.F5.6.m3.2.2.2.2.1.1.3.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.3"><minus id="A1.F5.6.m3.2.2.2.2.1.1.3.1.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.3"></minus><cn type="integer" id="A1.F5.6.m3.2.2.2.2.1.1.3.2.cmml" xref="A1.F5.6.m3.2.2.2.2.1.1.3.2">1</cn></apply></apply><apply id="A1.F5.6.m3.2.2.2.2.2.2.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.F5.6.m3.2.2.2.2.2.2.3a.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.F5.6.m3.2.2.2.2.2.2.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1"><eq id="A1.F5.6.m3.2.2.2.2.2.2.1.1.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.2"></eq><apply id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1"><times id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.2"></times><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.3">3</cn><apply id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1"><minus id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1"></minus><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.1.1.1.1.2">1</cn></apply></apply><apply id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3"><minus id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3"></minus><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.1.1.3.2">3</cn></apply></apply><apply id="A1.F5.6.m3.2.2.2.2.2.2.2.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2"><eq id="A1.F5.6.m3.2.2.2.2.2.2.2.2.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.1"></eq><apply id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2"><plus id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.1"></plus><apply id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2"><minus id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.1.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2"></minus><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.2.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.2.2">3</cn></apply><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.2.3">7</cn></apply><cn type="integer" id="A1.F5.6.m3.2.2.2.2.2.2.2.2.3.cmml" xref="A1.F5.6.m3.2.2.2.2.2.2.2.2.3">4</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.F5.6.m3.2d">58-51=7,6-7=-1,3\times(-1)=-3,-3+7=4</annotation></semantics></math>.</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2406.02099" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2406.02100" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2406.02100">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2406.02100" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2406.02101" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Jul  5 18:36:21 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
