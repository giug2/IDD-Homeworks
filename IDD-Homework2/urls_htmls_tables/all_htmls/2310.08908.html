<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Human‑in‑the‑loop Machine Translation with Large Language Model</title>
<!--Generated on Fri Oct 13 07:11:06 2023 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="https://browse.arxiv.org/latexml/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="https://browse.arxiv.org/latexml/styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="https://browse.arxiv.org/latexml/addons.js"></script>
<script src="https://browse.arxiv.org/latexml/feedbackOverlay.js"></script>
</head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S1" title="1 Introduction ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S2" title="2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S2.SS1" title="2.1 Feedback Collection ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Feedback Collection</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S2.SS2" title="2.2 In-context refinement ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>In-context refinement</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S2.SS2.SSS0.Px1" title="Demonstration Retrieval ‣ 2.2 In-context refinement ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title">Demonstration Retrieval</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S2.SS2.SSS0.Px2" title="Two-stage Translation ‣ 2.2 In-context refinement ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title">Two-stage Translation</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S3" title="3 Experiments ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS1" title="3.1 Data and Evaluation ‣ 3 Experiments ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Data and Evaluation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS2" title="3.2 Settings ‣ 3 Experiments ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS3" title="3.3 Main Results ‣ 3 Experiments ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Main Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S4" title="4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS1" title="4.1 Effects of ICL Retrieval Methods ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Effects of ICL Retrieval Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS2" title="4.2 Domain Differences ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Domain Differences</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="#S4.SS3" title="4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Quantitative Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS3.SSS0.Px1" title="Part of Speech (POS) ‣ 4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title">Part of Speech (POS)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="#S4.SS3.SSS0.Px2" title="Sentence Length ‣ 4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title">Sentence Length</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS4" title="4.4 Case Study ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Case Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S5" title="5 Conclusions and Future Work ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusions and Future Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="#A1" title="Appendix A Appendix: Related Work ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Appendix: Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A1.SS1" title="A.1 ICL-based MT ‣ Appendix A Appendix: Related Work ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>ICL-based MT</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#A1.SS2" title="A.2 Human-in-the-Loop MT ‣ Appendix A Appendix: Related Work ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Human-in-the-Loop MT</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_font_bold ltx_title_document">Human‑in‑the‑loop Machine Translation with Large Language Model</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
<span class="ltx_ERROR undefined" id="id2.2.id1">\name</span><span class="ltx_text ltx_font_bold" id="id3.3.id2">Xinyi Yang<span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_medium" id="footnotex1.1.1.1">1</span></span></span></span></span></span> <span class="ltx_ERROR undefined" id="id4.4.id3">\addr</span>nlp2ct.xinyi@gmail.com
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="id5.5.id4">\name</span><span class="ltx_text ltx_font_bold" id="id6.6.id5">Runzhe Zhan</span> <span class="ltx_ERROR undefined" id="id7.7.id6">\addr</span>nlp2ct.runzhe@gmail.com 
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="id8.8.id7">\name</span><span class="ltx_text ltx_font_bold" id="id9.9.id8">Derek F. Wong</span> <span class="ltx_ERROR undefined" id="id10.10.id9">\addr</span>derekfw@um.edu.mo
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="id11.11.id10">\name</span><span class="ltx_text ltx_font_bold" id="id12.12.id11">Junchao Wu</span> <span class="ltx_ERROR undefined" id="id13.13.id12">\addr</span>nlp2ct.junchao@gmail.com
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="id14.14.id13">\name</span><span class="ltx_text ltx_font_bold" id="id15.15.id14">Lidia S. Chao</span> <span class="ltx_ERROR undefined" id="id16.16.id15">\addr</span>lidiasc@um.edu.mo
<br class="ltx_break"/><span class="ltx_ERROR undefined" id="id17.17.id16">\addr</span>
NLP<math alttext="{}^{2}" class="ltx_Math" display="inline" id="id1.1.m1.1"><semantics id="id1.1.m1.1a"><msup id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml"><mi id="id1.1.m1.1.1a" xref="id1.1.m1.1.1.cmml"></mi><mn id="id1.1.m1.1.1.1" xref="id1.1.m1.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><apply id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"><cn id="id1.1.m1.1.1.1.cmml" type="integer" xref="id1.1.m1.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id1.1.m1.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>CT Lab, Department of Computer and Information Science, University of Macau
</span><span class="ltx_author_notes"><span class="ltx_text ltx_font_bold" id="id18.18.id1">  Equal Contribution. Xinyi Yang contributes to the experiments, data curation, and analysis. Runzhe Zhan contributes to the methodology, code skeleton, and paper drafting.</span><span class="ltx_text ltx_font_bold" id="id19.19.id1">  Corresponding Author.</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id20.id1">The large language model (LLM) has garnered significant attention due to its in-context learning mechanisms and emergent capabilities. The research community has conducted several pilot studies to apply LLMs to machine translation tasks and evaluate their performance from diverse perspectives. However, previous research has primarily focused on the LLM itself and has not explored human intervention in the inference process of LLM. The characteristics of LLM, such as in-context learning and prompt engineering, closely mirror human cognitive abilities in language tasks, offering an intuitive solution for human-in-the-loop generation.
In this study, we propose a human-in-the-loop pipeline that guides LLMs to produce customized outputs with revision instructions.
The pipeline initiates by prompting the LLM to produce a draft translation, followed by the utilization of automatic retrieval or human feedback as supervision signals to enhance the LLM’s translation through in-context learning.
The human-machine interactions generated in this pipeline are also stored in an external database to expand the in-context retrieval database, enabling us to leverage human supervision in an offline setting.
We evaluate the proposed pipeline using the GPT-3.5-turbo API on five domain-specific benchmarks for German-English translation. The results demonstrate the effectiveness of the pipeline in tailoring in-domain translations and improving translation performance compared to direct translation instructions. Additionally, we discuss the experimental results from the following perspectives: 1) the effectiveness of different in-context retrieval methods; 2) the construction of a retrieval database under low-resource scenarios; 3) the observed differences across selected domains; 4) the quantitative analysis of sentence-level and word-level statistics; and 5) the qualitative analysis of representative translation cases.
The code and data are available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/NLP2CT/HIL-MT/" title="">https://github.com/NLP2CT/HIL-MT/</a>.</p>
</div>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1"><span class="ltx_text ltx_font_bold" id="p1.1.1">Keywords</span>: Machine Translation, Large Language Model, Human-in-the-loop, In-context Learning, Prompt Engineering, Natural Language Processing</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Large language models (LLMs) have exhibited remarkable proficiency in comprehending natural language prompts <cite class="ltx_cite ltx_citemacro_citep">(OpenAI,, <a class="ltx_ref" href="#bib.bib7" title="">2023</a>; Touvron et al.,, <a class="ltx_ref" href="#bib.bib13" title="">2023</a>)</cite>, enabling them to execute various controllable generation tasks based on human instructions. Furthermore, LLMs can acquire knowledge from limited demonstrations that are relevant to the input data and generate desired outputs through analogy. This paradigm, known as in-context learning (ICL) <cite class="ltx_cite ltx_citemacro_citep">(Dong et al.,, <a class="ltx_ref" href="#bib.bib3" title="">2023</a>)</cite>, represents a significant advancement in prompt engineering and offers insights into adapting LLMs to downstream tasks without the need for fine-tuning the models.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Machine translation (MT) serves as a representative sequence-to-sequence task that also requires tailoring models to produce domain-specific translations. Traditional approaches to building domain-specific MT models involve fine-tuning pre-trained models with domain data or utilizing domain adaptation techniques to transfer in-domain MT models to out-of-domain requirements. However, these methods are suited for accessible, medium-scale MT models, which may not be suitable for LLMs. Notably, certain LLMs available through application programming interfaces (API) lack accessible weight matrices. Furthermore, optimizing LLM parameters with domain data can be expensive under resource-limited scenarios. Consequently, current research on LLM-based MT predominantly focuses on ICL, including in-context selection methods <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al.,, <a class="ltx_ref" href="#bib.bib1" title="">2022</a>)</cite>, in-context prompt engineering <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al.,, <a class="ltx_ref" href="#bib.bib16" title="">2023</a>)</cite>, and the systematic evaluation of LLM-based MT <cite class="ltx_cite ltx_citemacro_citep">(Hendy et al.,, <a class="ltx_ref" href="#bib.bib4" title="">2023</a>; Jiao et al.,, <a class="ltx_ref" href="#bib.bib5" title="">2023</a>)</cite>. While these lines of research present empirical studies investigating ICL in the MT task, they still exhibit a dearth of exploration in customizing LLMs for domain-specific needs. Given the representative capabilities of LLMs, which rely on generating outputs based on provided instructions, it is intuitive to leverage LLMs to refine general MT outputs for different domains.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Nevertheless, there remain challenges and issues when utilizing ICL to adapt LLMs for domain-specific needs. Firstly, ICL demonstrations for MT typically comprise source input and target reference, lacking domain features. Secondly, the ICL retrieval database is usually constructed using separate labeled data, and the retrieved demonstrations fail to capture LLMs’ translation preferences. Last but not least, the adaptation of black-box LLMs does not benefit from parameter optimization, thereby limiting adaptation methods to modifying ICL inputs alone. In response to these challenges, we propose integrating LLM-specific translation feedback into ICL inputs, enabling the model to learn from both relevant input-output pairs and domain preferences.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Specifically, the proposed pipeline consists of two essential parts: feedback collection, and in-context refinement.
To collect LLM-specific feedback associated with domains, we first request the LLM to produce domain-specific translations and obtain feedback by comparing its translation with a reference translation. The feedback takes the form of a sequence of revision instructions, indicating the necessary edits to transform the LLM’s translation into the reference translation. Ideally, these revision instructions originate from human feedback sources. However, due to resource limitations, we simulate this process and generate synthetic human feedback in this study. Subsequently, these translation texts and feedback are stored together in the ICL retrieval database. For in-context refinement, when faced with new in-domain translation requests, the pipeline initially prompts the LLM to generate a draft translation. It then retrieves similar translation pairs and their revision histories as in-context demonstrations tied to the specific domain. Finally, the model refines the draft translation based on the retrieved domain-specific demonstrations. Any new human-machine interactions generated within this pipeline are incorporated to expand the in-context retrieval database. Overall, the primary concept revolves around enabling the LLM to revise its outputs by learning from relevant domain-specific revision feedback.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">We conduct experiments using the proposed pipeline in the German-English translation direction across five domains, utilizing the GPT-3.5 Turbo API as a testbed for the black-box LLM. The results demonstrate that the proposed pipeline enhances domain translation performance in selected domains, as indicated by four automated evaluation metrics. To further elucidate the effectiveness of our approach, we discuss the pipeline and results through an ablation study, quantitative analysis, and qualitative analysis.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2>
<figure class="ltx_figure" id="S2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="408" id="S2.F1.g1" src="x1.png" width="726"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of the proposed human-in-the-loop translation method in the context of the large language model.</figcaption>
</figure>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">We leave the discussion of related work in the Appendix <a class="ltx_ref" href="#A1" title="Appendix A Appendix: Related Work ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">A</span></a> due to page limitation. The overall pipeline is illustrated in Figure <a class="ltx_ref" href="#S2.F1" title="Figure 1 ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">1</span></a>.
The feedback retrieved from a data store aims to provide domain-specific revision demonstrations to LLM. Furthermore, it can also be jointly used with external human supervision in real-world applications.
In addition to the feedback that exists in the database, any newly produced feedback for current text will be also recorded into the database to be used as a candidate for ICL retrieval in the future.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Feedback Collection</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.6">To correct LLM’s bias in domain translation through the ICL paradigm, we must first construct an ICL retrieval database that reflects the gap between LLM’s translation preferences and domain preferences. To do this, we ask LLM to translate several domain texts first, and then use automated methods or human intervention to generate feedback on LLM’s translation.
To simulate the process of human feedback, we use an automated evaluation method based on edit distance theory to generate feedback for the translations.
Computing edit distance is a dynamic programming problem, where the cost matrix reflects what editing operations are needed to transform from the machine translation to the reference translation.
Specifically, bottom-up recursion yields the minimum cost of editing the translation, so we can generate human-like feedback by back-tracing the optimal alignment of the cost matrix and converting it to natural language.
There are three kinds of editing operations are considered in our case: deletion, insertion, and substitution. Given an LLM’s translation <math alttext="h" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.1"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">h</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">ℎ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">h</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.1d">italic_h</annotation></semantics></math> and reference translation <math alttext="r" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.1"><semantics id="S2.SS1.p1.2.m2.1a"><mi id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">r</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.1d">italic_r</annotation></semantics></math>, the cost matrix <math alttext="D(i,j)" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.2"><semantics id="S2.SS1.p1.3.m3.2a"><mrow id="S2.SS1.p1.3.m3.2.3" xref="S2.SS1.p1.3.m3.2.3.cmml"><mi id="S2.SS1.p1.3.m3.2.3.2" xref="S2.SS1.p1.3.m3.2.3.2.cmml">D</mi><mo id="S2.SS1.p1.3.m3.2.3.1" xref="S2.SS1.p1.3.m3.2.3.1.cmml">⁢</mo><mrow id="S2.SS1.p1.3.m3.2.3.3.2" xref="S2.SS1.p1.3.m3.2.3.3.1.cmml"><mo id="S2.SS1.p1.3.m3.2.3.3.2.1" stretchy="false" xref="S2.SS1.p1.3.m3.2.3.3.1.cmml">(</mo><mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">i</mi><mo id="S2.SS1.p1.3.m3.2.3.3.2.2" xref="S2.SS1.p1.3.m3.2.3.3.1.cmml">,</mo><mi id="S2.SS1.p1.3.m3.2.2" xref="S2.SS1.p1.3.m3.2.2.cmml">j</mi><mo id="S2.SS1.p1.3.m3.2.3.3.2.3" stretchy="false" xref="S2.SS1.p1.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.2b"><apply id="S2.SS1.p1.3.m3.2.3.cmml" xref="S2.SS1.p1.3.m3.2.3"><times id="S2.SS1.p1.3.m3.2.3.1.cmml" xref="S2.SS1.p1.3.m3.2.3.1"></times><ci id="S2.SS1.p1.3.m3.2.3.2.cmml" xref="S2.SS1.p1.3.m3.2.3.2">𝐷</ci><interval closure="open" id="S2.SS1.p1.3.m3.2.3.3.1.cmml" xref="S2.SS1.p1.3.m3.2.3.3.2"><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝑖</ci><ci id="S2.SS1.p1.3.m3.2.2.cmml" xref="S2.SS1.p1.3.m3.2.2">𝑗</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.2c">D(i,j)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.2d">italic_D ( italic_i , italic_j )</annotation></semantics></math> indicates the edit distance between <math alttext="h_{&lt;i}" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><msub id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml">h</mi><mrow id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml"><mi id="S2.SS1.p1.4.m4.1.1.3.2" xref="S2.SS1.p1.4.m4.1.1.3.2.cmml"></mi><mo id="S2.SS1.p1.4.m4.1.1.3.1" xref="S2.SS1.p1.4.m4.1.1.3.1.cmml">&lt;</mo><mi id="S2.SS1.p1.4.m4.1.1.3.3" xref="S2.SS1.p1.4.m4.1.1.3.3.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2">ℎ</ci><apply id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3"><lt id="S2.SS1.p1.4.m4.1.1.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.1"></lt><csymbol cd="latexml" id="S2.SS1.p1.4.m4.1.1.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2">absent</csymbol><ci id="S2.SS1.p1.4.m4.1.1.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">h_{&lt;i}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">italic_h start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="r_{&lt;j}" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.1"><semantics id="S2.SS1.p1.5.m5.1a"><msub id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2" xref="S2.SS1.p1.5.m5.1.1.2.cmml">r</mi><mrow id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml"><mi id="S2.SS1.p1.5.m5.1.1.3.2" xref="S2.SS1.p1.5.m5.1.1.3.2.cmml"></mi><mo id="S2.SS1.p1.5.m5.1.1.3.1" xref="S2.SS1.p1.5.m5.1.1.3.1.cmml">&lt;</mo><mi id="S2.SS1.p1.5.m5.1.1.3.3" xref="S2.SS1.p1.5.m5.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2">𝑟</ci><apply id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3"><lt id="S2.SS1.p1.5.m5.1.1.3.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.1"></lt><csymbol cd="latexml" id="S2.SS1.p1.5.m5.1.1.3.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2">absent</csymbol><ci id="S2.SS1.p1.5.m5.1.1.3.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">r_{&lt;j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.1d">italic_r start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
Let the cost of deletion, insertion, and substitution be 1, the cost matrix <math alttext="D(i,j)" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.2"><semantics id="S2.SS1.p1.6.m6.2a"><mrow id="S2.SS1.p1.6.m6.2.3" xref="S2.SS1.p1.6.m6.2.3.cmml"><mi id="S2.SS1.p1.6.m6.2.3.2" xref="S2.SS1.p1.6.m6.2.3.2.cmml">D</mi><mo id="S2.SS1.p1.6.m6.2.3.1" xref="S2.SS1.p1.6.m6.2.3.1.cmml">⁢</mo><mrow id="S2.SS1.p1.6.m6.2.3.3.2" xref="S2.SS1.p1.6.m6.2.3.3.1.cmml"><mo id="S2.SS1.p1.6.m6.2.3.3.2.1" stretchy="false" xref="S2.SS1.p1.6.m6.2.3.3.1.cmml">(</mo><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">i</mi><mo id="S2.SS1.p1.6.m6.2.3.3.2.2" xref="S2.SS1.p1.6.m6.2.3.3.1.cmml">,</mo><mi id="S2.SS1.p1.6.m6.2.2" xref="S2.SS1.p1.6.m6.2.2.cmml">j</mi><mo id="S2.SS1.p1.6.m6.2.3.3.2.3" stretchy="false" xref="S2.SS1.p1.6.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.2b"><apply id="S2.SS1.p1.6.m6.2.3.cmml" xref="S2.SS1.p1.6.m6.2.3"><times id="S2.SS1.p1.6.m6.2.3.1.cmml" xref="S2.SS1.p1.6.m6.2.3.1"></times><ci id="S2.SS1.p1.6.m6.2.3.2.cmml" xref="S2.SS1.p1.6.m6.2.3.2">𝐷</ci><interval closure="open" id="S2.SS1.p1.6.m6.2.3.3.1.cmml" xref="S2.SS1.p1.6.m6.2.3.3.2"><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝑖</ci><ci id="S2.SS1.p1.6.m6.2.2.cmml" xref="S2.SS1.p1.6.m6.2.2">𝑗</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.2c">D(i,j)</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.2d">italic_D ( italic_i , italic_j )</annotation></semantics></math> can be calculated as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S2.E1">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E1X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle D(i,0)" class="ltx_Math" display="inline" id="S2.E1X.2.1.1.m1.2"><semantics id="S2.E1X.2.1.1.m1.2a"><mrow id="S2.E1X.2.1.1.m1.2.3" xref="S2.E1X.2.1.1.m1.2.3.cmml"><mi id="S2.E1X.2.1.1.m1.2.3.2" xref="S2.E1X.2.1.1.m1.2.3.2.cmml">D</mi><mo id="S2.E1X.2.1.1.m1.2.3.1" xref="S2.E1X.2.1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S2.E1X.2.1.1.m1.2.3.3.2" xref="S2.E1X.2.1.1.m1.2.3.3.1.cmml"><mo id="S2.E1X.2.1.1.m1.2.3.3.2.1" stretchy="false" xref="S2.E1X.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S2.E1X.2.1.1.m1.1.1" xref="S2.E1X.2.1.1.m1.1.1.cmml">i</mi><mo id="S2.E1X.2.1.1.m1.2.3.3.2.2" xref="S2.E1X.2.1.1.m1.2.3.3.1.cmml">,</mo><mn id="S2.E1X.2.1.1.m1.2.2" xref="S2.E1X.2.1.1.m1.2.2.cmml">0</mn><mo id="S2.E1X.2.1.1.m1.2.3.3.2.3" stretchy="false" xref="S2.E1X.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1X.2.1.1.m1.2b"><apply id="S2.E1X.2.1.1.m1.2.3.cmml" xref="S2.E1X.2.1.1.m1.2.3"><times id="S2.E1X.2.1.1.m1.2.3.1.cmml" xref="S2.E1X.2.1.1.m1.2.3.1"></times><ci id="S2.E1X.2.1.1.m1.2.3.2.cmml" xref="S2.E1X.2.1.1.m1.2.3.2">𝐷</ci><interval closure="open" id="S2.E1X.2.1.1.m1.2.3.3.1.cmml" xref="S2.E1X.2.1.1.m1.2.3.3.2"><ci id="S2.E1X.2.1.1.m1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1">𝑖</ci><cn id="S2.E1X.2.1.1.m1.2.2.cmml" type="integer" xref="S2.E1X.2.1.1.m1.2.2">0</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.2.1.1.m1.2c">\displaystyle D(i,0)</annotation><annotation encoding="application/x-llamapun" id="S2.E1X.2.1.1.m1.2d">italic_D ( italic_i , 0 )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=i" class="ltx_Math" display="inline" id="S2.E1X.3.2.2.m1.1"><semantics id="S2.E1X.3.2.2.m1.1a"><mrow id="S2.E1X.3.2.2.m1.1.1" xref="S2.E1X.3.2.2.m1.1.1.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.2" xref="S2.E1X.3.2.2.m1.1.1.2.cmml"></mi><mo id="S2.E1X.3.2.2.m1.1.1.1" xref="S2.E1X.3.2.2.m1.1.1.1.cmml">=</mo><mi id="S2.E1X.3.2.2.m1.1.1.3" xref="S2.E1X.3.2.2.m1.1.1.3.cmml">i</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.E1X.3.2.2.m1.1b"><apply id="S2.E1X.3.2.2.m1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1"><eq id="S2.E1X.3.2.2.m1.1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1X.3.2.2.m1.1.1.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.2">absent</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.3.2.2.m1.1c">\displaystyle=i</annotation><annotation encoding="application/x-llamapun" id="S2.E1X.3.2.2.m1.1d">= italic_i</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="3"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E1Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle D(0,j)" class="ltx_Math" display="inline" id="S2.E1Xa.2.1.1.m1.2"><semantics id="S2.E1Xa.2.1.1.m1.2a"><mrow id="S2.E1Xa.2.1.1.m1.2.3" xref="S2.E1Xa.2.1.1.m1.2.3.cmml"><mi id="S2.E1Xa.2.1.1.m1.2.3.2" xref="S2.E1Xa.2.1.1.m1.2.3.2.cmml">D</mi><mo id="S2.E1Xa.2.1.1.m1.2.3.1" xref="S2.E1Xa.2.1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S2.E1Xa.2.1.1.m1.2.3.3.2" xref="S2.E1Xa.2.1.1.m1.2.3.3.1.cmml"><mo id="S2.E1Xa.2.1.1.m1.2.3.3.2.1" stretchy="false" xref="S2.E1Xa.2.1.1.m1.2.3.3.1.cmml">(</mo><mn id="S2.E1Xa.2.1.1.m1.1.1" xref="S2.E1Xa.2.1.1.m1.1.1.cmml">0</mn><mo id="S2.E1Xa.2.1.1.m1.2.3.3.2.2" xref="S2.E1Xa.2.1.1.m1.2.3.3.1.cmml">,</mo><mi id="S2.E1Xa.2.1.1.m1.2.2" xref="S2.E1Xa.2.1.1.m1.2.2.cmml">j</mi><mo id="S2.E1Xa.2.1.1.m1.2.3.3.2.3" stretchy="false" xref="S2.E1Xa.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xa.2.1.1.m1.2b"><apply id="S2.E1Xa.2.1.1.m1.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.2.3"><times id="S2.E1Xa.2.1.1.m1.2.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.2.3.1"></times><ci id="S2.E1Xa.2.1.1.m1.2.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.2.3.2">𝐷</ci><interval closure="open" id="S2.E1Xa.2.1.1.m1.2.3.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.2.3.3.2"><cn id="S2.E1Xa.2.1.1.m1.1.1.cmml" type="integer" xref="S2.E1Xa.2.1.1.m1.1.1">0</cn><ci id="S2.E1Xa.2.1.1.m1.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.2.2">𝑗</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xa.2.1.1.m1.2c">\displaystyle D(0,j)</annotation><annotation encoding="application/x-llamapun" id="S2.E1Xa.2.1.1.m1.2d">italic_D ( 0 , italic_j )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=j" class="ltx_Math" display="inline" id="S2.E1Xa.3.2.2.m1.1"><semantics id="S2.E1Xa.3.2.2.m1.1a"><mrow id="S2.E1Xa.3.2.2.m1.1.1" xref="S2.E1Xa.3.2.2.m1.1.1.cmml"><mi id="S2.E1Xa.3.2.2.m1.1.1.2" xref="S2.E1Xa.3.2.2.m1.1.1.2.cmml"></mi><mo id="S2.E1Xa.3.2.2.m1.1.1.1" xref="S2.E1Xa.3.2.2.m1.1.1.1.cmml">=</mo><mi id="S2.E1Xa.3.2.2.m1.1.1.3" xref="S2.E1Xa.3.2.2.m1.1.1.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xa.3.2.2.m1.1b"><apply id="S2.E1Xa.3.2.2.m1.1.1.cmml" xref="S2.E1Xa.3.2.2.m1.1.1"><eq id="S2.E1Xa.3.2.2.m1.1.1.1.cmml" xref="S2.E1Xa.3.2.2.m1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1Xa.3.2.2.m1.1.1.2.cmml" xref="S2.E1Xa.3.2.2.m1.1.1.2">absent</csymbol><ci id="S2.E1Xa.3.2.2.m1.1.1.3.cmml" xref="S2.E1Xa.3.2.2.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xa.3.2.2.m1.1c">\displaystyle=j</annotation><annotation encoding="application/x-llamapun" id="S2.E1Xa.3.2.2.m1.1d">= italic_j</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S2.E1Xb">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle D(i,j)" class="ltx_Math" display="inline" id="S2.E1Xb.2.1.1.m1.2"><semantics id="S2.E1Xb.2.1.1.m1.2a"><mrow id="S2.E1Xb.2.1.1.m1.2.3" xref="S2.E1Xb.2.1.1.m1.2.3.cmml"><mi id="S2.E1Xb.2.1.1.m1.2.3.2" xref="S2.E1Xb.2.1.1.m1.2.3.2.cmml">D</mi><mo id="S2.E1Xb.2.1.1.m1.2.3.1" xref="S2.E1Xb.2.1.1.m1.2.3.1.cmml">⁢</mo><mrow id="S2.E1Xb.2.1.1.m1.2.3.3.2" xref="S2.E1Xb.2.1.1.m1.2.3.3.1.cmml"><mo id="S2.E1Xb.2.1.1.m1.2.3.3.2.1" stretchy="false" xref="S2.E1Xb.2.1.1.m1.2.3.3.1.cmml">(</mo><mi id="S2.E1Xb.2.1.1.m1.1.1" xref="S2.E1Xb.2.1.1.m1.1.1.cmml">i</mi><mo id="S2.E1Xb.2.1.1.m1.2.3.3.2.2" xref="S2.E1Xb.2.1.1.m1.2.3.3.1.cmml">,</mo><mi id="S2.E1Xb.2.1.1.m1.2.2" xref="S2.E1Xb.2.1.1.m1.2.2.cmml">j</mi><mo id="S2.E1Xb.2.1.1.m1.2.3.3.2.3" stretchy="false" xref="S2.E1Xb.2.1.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xb.2.1.1.m1.2b"><apply id="S2.E1Xb.2.1.1.m1.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.2.3"><times id="S2.E1Xb.2.1.1.m1.2.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.2.3.1"></times><ci id="S2.E1Xb.2.1.1.m1.2.3.2.cmml" xref="S2.E1Xb.2.1.1.m1.2.3.2">𝐷</ci><interval closure="open" id="S2.E1Xb.2.1.1.m1.2.3.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.2.3.3.2"><ci id="S2.E1Xb.2.1.1.m1.1.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1">𝑖</ci><ci id="S2.E1Xb.2.1.1.m1.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.2.2">𝑗</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xb.2.1.1.m1.2c">\displaystyle D(i,j)</annotation><annotation encoding="application/x-llamapun" id="S2.E1Xb.2.1.1.m1.2d">italic_D ( italic_i , italic_j )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle={\begin{cases}D(i-1,j-1)&amp;{\text{if}}\;h_{i}=r_{j}\\
\min{\begin{cases}D(i-1,j)+1\\
D(i,j-1)+1\\
D(i-1,j-1)+1\end{cases}}&amp;{\text{if}}\;h_{i}\neq r_{j}\end{cases}}" class="ltx_Math" display="inline" id="S2.E1Xb.3.2.2.m1.1"><semantics id="S2.E1Xb.3.2.2.m1.1a"><mrow id="S2.E1Xb.3.2.2.m1.1.1" xref="S2.E1Xb.3.2.2.m1.1.1.cmml"><mi id="S2.E1Xb.3.2.2.m1.1.1.2" xref="S2.E1Xb.3.2.2.m1.1.1.2.cmml"></mi><mo id="S2.E1Xb.3.2.2.m1.1.1.1" xref="S2.E1Xb.3.2.2.m1.1.1.1.cmml">=</mo><mrow id="S2.E1.m1.6.6.6.6.6.6a" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mo id="S2.E1.m1.6.6.6.6.6.6a.7" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.1.cmml">{</mo><mtable columnspacing="5pt" id="S2.E1.m1.6.6.6.6.6.6.6a" rowspacing="0pt" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mtr id="S2.E1.m1.6.6.6.6.6.6.6aa" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.6.6.6.6.6.6.6ab" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mrow id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.cmml"><mi id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.4" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.4.cmml">D</mi><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.3" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.3.cmml">⁢</mo><mrow id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.3.cmml"><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.3" stretchy="false" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.3.cmml">(</mo><mrow id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.cmml"><mi id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.2" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.2.cmml">i</mi><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.1" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.1.cmml">−</mo><mn id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.3" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.4" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.3.cmml">,</mo><mrow id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.cmml"><mi id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.2" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.2.cmml">j</mi><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.1" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.1.cmml">−</mo><mn id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.3" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.3.cmml">1</mn></mrow><mo id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.5" stretchy="false" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.3.cmml">)</mo></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.6.6.6.6.6.6.6ac" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mrow id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.cmml"><mrow id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.cmml"><mtext id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2a.cmml">if</mtext><mo id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.1" lspace="0.280em" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.1.cmml">⁢</mo><msub id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.cmml"><mi id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.2" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.2.cmml">h</mi><mi id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.3" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.3.cmml">i</mi></msub></mrow><mo id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.1" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.1.cmml">=</mo><msub id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.cmml"><mi id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.2" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.2.cmml">r</mi><mi id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.3" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.3.cmml">j</mi></msub></mrow></mtd></mtr><mtr id="S2.E1.m1.6.6.6.6.6.6.6ad" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.6.6.6.6.6.6.6ae" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.cmml"><mi id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.4" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.4.cmml">min</mi><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mfa" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.cmml">⁡</mo><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a.4" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.1.cmml">{</mo><mtable columnspacing="5pt" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3a" rowspacing="0pt" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mtr id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3aa" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ab" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mrow id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.cmml"><mrow id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.cmml"><mi id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.3" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.3.cmml">D</mi><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.2" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.2.cmml">⁢</mo><mrow id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.2.cmml"><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.2" stretchy="false" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.2.cmml">(</mo><mrow id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.cmml"><mi id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.2.cmml">i</mi><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.1.cmml">−</mo><mn id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.2.cmml">,</mo><mi id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.1" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.1.cmml">j</mi><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.4" stretchy="false" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.3" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.3.cmml">+</mo><mn id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.4" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.4.cmml">1</mn></mrow></mtd><mtd id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ac" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.1.cmml"></mtd></mtr><mtr id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ad" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ae" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mrow id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.cmml"><mrow id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.3" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.3.cmml">D</mi><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.2" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.2.cmml">⁢</mo><mrow id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.2.cmml"><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.2" stretchy="false" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.2.cmml">(</mo><mi id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.1.cmml">i</mi><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.3" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.2.cmml">,</mo><mrow id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.2" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.2.cmml">j</mi><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.1" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.1.cmml">−</mo><mn id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.3" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.4" stretchy="false" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.3" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.3.cmml">+</mo><mn id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.4" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.4.cmml">1</mn></mrow></mtd><mtd id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3af" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.1.cmml"></mtd></mtr><mtr id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ag" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ah" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml"><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.cmml"><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.cmml"><mi id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.4" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.4.cmml">D</mi><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.3" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.3.cmml">⁢</mo><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.3.cmml"><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.3" stretchy="false" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.3.cmml">(</mo><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.cmml"><mi id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.2" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.2.cmml">i</mi><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.1" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.1.cmml">−</mo><mn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.3" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.4" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.3.cmml">,</mo><mrow id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.cmml"><mi id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.2" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.2.cmml">j</mi><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.1" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.1.cmml">−</mo><mn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.3" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.3.cmml">1</mn></mrow><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.5" stretchy="false" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.3" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.3.cmml">+</mo><mn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.4" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.4.cmml">1</mn></mrow></mtd><mtd id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3ai" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.1.cmml"></mtd></mtr></mtable></mrow></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.E1.m1.6.6.6.6.6.6.6af" xref="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml"><mrow id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.cmml"><mrow id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.cmml"><mtext id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2a.cmml">if</mtext><mo id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.1" lspace="0.280em" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.1.cmml">⁢</mo><msub id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.cmml"><mi id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.2" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.2.cmml">h</mi><mi id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.3" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.3.cmml">i</mi></msub></mrow><mo id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.1" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.1.cmml">≠</mo><msub id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.cmml"><mi id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.2" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.2.cmml">r</mi><mi id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.3" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.3.cmml">j</mi></msub></mrow></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xb.3.2.2.m1.1b"><apply id="S2.E1Xb.3.2.2.m1.1.1.cmml" xref="S2.E1Xb.3.2.2.m1.1.1"><eq id="S2.E1Xb.3.2.2.m1.1.1.1.cmml" xref="S2.E1Xb.3.2.2.m1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1Xb.3.2.2.m1.1.1.2.cmml" xref="S2.E1Xb.3.2.2.m1.1.1.2">absent</csymbol><apply id="S2.E1Xb.3.2.2.m1.1.1.3.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6a"><csymbol cd="latexml" id="S2.E1Xb.3.2.2.m1.1.1.3.1.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6a.7">cases</csymbol><apply id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf"><times id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.3.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.3"></times><ci id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.4.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.4">𝐷</ci><interval closure="open" id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.3.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2"><apply id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1"><minus id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.1.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.1"></minus><ci id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.2.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.2">𝑖</ci><cn id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.1.1.1.3">1</cn></apply><apply id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2"><minus id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.1.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.1"></minus><ci id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.2.cmml" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.2">𝑗</ci><cn id="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.3.cmml" type="integer" xref="S2.E1.m1.4.4.4.4.4.4.4.4.1.1.mf.2.2.2.3">1</cn></apply></interval></apply><apply id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf"><eq id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.1.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.1"></eq><apply id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2"><times id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.1.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.1"></times><ci id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2a.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2"><mtext id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.2">if</mtext></ci><apply id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.1.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3">subscript</csymbol><ci id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.2.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.2">ℎ</ci><ci id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.3.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.2.3.3">𝑖</ci></apply></apply><apply id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.1.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3">subscript</csymbol><ci id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.2.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.2">𝑟</ci><ci id="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.3.cmml" xref="S2.E1.m1.5.5.5.5.5.5.5.5.2.1.mf.3.3">𝑗</ci></apply></apply><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf"><min id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.4.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.4"></min><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a"><csymbol cd="latexml" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a.4">cases</csymbol><apply id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf"><plus id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.3"></plus><apply id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2"><times id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.2"></times><ci id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.3">𝐷</ci><interval closure="open" id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1"><apply id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1"><minus id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.1"></minus><ci id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.2">𝑖</ci><cn id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.2.1.1.1.3">1</cn></apply><ci id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.1">𝑗</ci></interval></apply><cn id="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.4.cmml" type="integer" xref="S2.E1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.mf.4">1</cn></apply><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.3a.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a"><mtext id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a.4">𝑜𝑡ℎ𝑒𝑟𝑤𝑖𝑠𝑒</mtext></ci><apply id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf"><plus id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.3"></plus><apply id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2"><times id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.2"></times><ci id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.3">𝐷</ci><interval closure="open" id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1"><ci id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.1">𝑖</ci><apply id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1"><minus id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.1"></minus><ci id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.2">𝑗</ci><cn id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.2.1.1.1.3">1</cn></apply></interval></apply><cn id="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.4.cmml" type="integer" xref="S2.E1.m1.2.2.2.2.2.2.2.2.2.2.2.2.2.1.1.mf.4">1</cn></apply><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.5a.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a"><mtext id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.5.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a.4">𝑜𝑡ℎ𝑒𝑟𝑤𝑖𝑠𝑒</mtext></ci><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf"><plus id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.3"></plus><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2"><times id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.3"></times><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.4.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.4">𝐷</ci><interval closure="open" id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.3.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2"><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1"><minus id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.1"></minus><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.2">𝑖</ci><cn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.3.cmml" type="integer" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.1.1.1.1.3">1</cn></apply><apply id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2"><minus id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.1.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.1"></minus><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.2.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.2">𝑗</ci><cn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.3.cmml" type="integer" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.2.2.2.2.3">1</cn></apply></interval></apply><cn id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.4.cmml" type="integer" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3.3.3.1.1.mf.4">1</cn></apply><ci id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.7a.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a"><mtext id="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.mf.5.1.7.cmml" xref="S2.E1.m1.3.3.3.3.3.3.3.3.3.3.3a.4">𝑜𝑡ℎ𝑒𝑟𝑤𝑖𝑠𝑒</mtext></ci></apply></apply><apply id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf"><neq id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.1"></neq><apply id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2"><times id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.1"></times><ci id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2a.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2"><mtext id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.2">if</mtext></ci><apply id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3">subscript</csymbol><ci id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.2.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.2">ℎ</ci><ci id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.3.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.2.3.3">𝑖</ci></apply></apply><apply id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.1.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3">subscript</csymbol><ci id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.2.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.2">𝑟</ci><ci id="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.3.cmml" xref="S2.E1.m1.6.6.6.6.6.6.6.6.4.1.mf.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xb.3.2.2.m1.1c">\displaystyle={\begin{cases}D(i-1,j-1)&amp;{\text{if}}\;h_{i}=r_{j}\\
\min{\begin{cases}D(i-1,j)+1\\
D(i,j-1)+1\\
D(i-1,j-1)+1\end{cases}}&amp;{\text{if}}\;h_{i}\neq r_{j}\end{cases}}</annotation><annotation encoding="application/x-llamapun" id="S2.E1Xb.3.2.2.m1.1d">= { start_ROW start_CELL italic_D ( italic_i - 1 , italic_j - 1 ) end_CELL start_CELL if italic_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_CELL end_ROW start_ROW start_CELL roman_min { start_ROW start_CELL italic_D ( italic_i - 1 , italic_j ) + 1 end_CELL start_CELL end_CELL end_ROW start_ROW start_CELL italic_D ( italic_i , italic_j - 1 ) + 1 end_CELL start_CELL end_CELL end_ROW start_ROW start_CELL italic_D ( italic_i - 1 , italic_j - 1 ) + 1 end_CELL start_CELL end_CELL end_ROW end_CELL start_CELL if italic_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ≠ italic_r start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">We can obtain an optimal path of minimum edit distance by back-tracing the cost matrix <math alttext="D" class="ltx_Math" display="inline" id="S2.SS1.p2.1.m1.1"><semantics id="S2.SS1.p2.1.m1.1a"><mi id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><ci id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p2.1.m1.1d">italic_D</annotation></semantics></math> and then convert this path to the natural language instruction as shown in Figure <a class="ltx_ref" href="#S2.F2" title="Figure 2 ‣ 2.1 Feedback Collection ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">2</span></a>.
Once the feedback of a specific test instance is produced, we combine it with the source text, LLM’s translation, and reference translation to form the new ICL demonstration instance. This enables LLM to learn from its deviations from in-domain reference translations and how to polish the draft translation.</p>
</div>
<figure class="ltx_figure" id="S2.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="206" id="S2.F2.g1" src="x2.png" width="726"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>An example of describing the optimal path of minimum edit distance.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>In-context refinement</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">We construct a database for ICL retrieval using the automatic feedback generation method mentioned in the previous section. In this section, we will describe how to retrieve and utilize these ICL demonstrations as well as feedback records for conducting a two-stage translation.</p>
</div>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Demonstration Retrieval</h4>
<div class="ltx_para" id="S2.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px1.p1.5">We retrieve the relevant ICL demonstrations by evaluating the relevance between test instances and examples stored in the database.
Specifically, we follow the previous exploratory work on ICL for MT and use two retrieval metrics: the BM25 score <cite class="ltx_cite ltx_citemacro_citep">(Robertson et al.,, <a class="ltx_ref" href="#bib.bib10" title="">1995</a>)</cite> and the BM25-rerank score <cite class="ltx_cite ltx_citemacro_citep">(Agrawal et al.,, <a class="ltx_ref" href="#bib.bib1" title="">2022</a>)</cite>.
BM25 is a common retrieval metric that evaluates the relevance between the query and the documents.
Here we consider each source sentence in the ICL database as a document and calculate the BM25 score.
BM25-Rerank, as a post-screening method for BM25, first selects the <math alttext="N" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.1.m1.1d">italic_N</annotation></semantics></math> samples with the highest BM25 scores and re-scores these samples based on the n-gram recall score <math alttext="R" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.2.m2.1d">italic_R</annotation></semantics></math> to select the top-<math alttext="K" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px1.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.3.m3.1d">italic_K</annotation></semantics></math> samples as ICL demonstrations.
Let the input in source language be <math alttext="s" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.4.m4.1"><semantics id="S2.SS2.SSS0.Px1.p1.4.m4.1a"><mi id="S2.SS2.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px1.p1.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.4.m4.1b"><ci id="S2.SS2.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.4.m4.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.4.m4.1c">s</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.4.m4.1d">italic_s</annotation></semantics></math>, and a demonstration candidate stored in the database be <math alttext="c" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.5.m5.1"><semantics id="S2.SS2.SSS0.Px1.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px1.p1.5.m5.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.5.m5.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.5.m5.1c">c</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.5.m5.1d">italic_c</annotation></semantics></math>, then the recall score can be calculated as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="R=\exp{\frac{1}{n}\sum_{i=1}^{n}\log\frac{\text{Count}(\text{$i$-gram}\in s%
\cap c)}{\text{Count}(\text{$i$-gram}\in s)}}" class="ltx_Math" display="block" id="S2.E2.m1.4"><semantics id="S2.E2.m1.4a"><mrow id="S2.E2.m1.4.5" xref="S2.E2.m1.4.5.cmml"><mi id="S2.E2.m1.4.5.2" xref="S2.E2.m1.4.5.2.cmml">R</mi><mo id="S2.E2.m1.4.5.1" xref="S2.E2.m1.4.5.1.cmml">=</mo><mrow id="S2.E2.m1.4.5.3" xref="S2.E2.m1.4.5.3.cmml"><mrow id="S2.E2.m1.4.5.3.2" xref="S2.E2.m1.4.5.3.2.cmml"><mi id="S2.E2.m1.4.5.3.2.1" xref="S2.E2.m1.4.5.3.2.1.cmml">exp</mi><mo id="S2.E2.m1.4.5.3.2a" lspace="0.167em" xref="S2.E2.m1.4.5.3.2.cmml">⁡</mo><mfrac id="S2.E2.m1.4.5.3.2.2" xref="S2.E2.m1.4.5.3.2.2.cmml"><mn id="S2.E2.m1.4.5.3.2.2.2" xref="S2.E2.m1.4.5.3.2.2.2.cmml">1</mn><mi id="S2.E2.m1.4.5.3.2.2.3" xref="S2.E2.m1.4.5.3.2.2.3.cmml">n</mi></mfrac></mrow><mo id="S2.E2.m1.4.5.3.1" xref="S2.E2.m1.4.5.3.1.cmml">⁢</mo><mrow id="S2.E2.m1.4.5.3.3" xref="S2.E2.m1.4.5.3.3.cmml"><munderover id="S2.E2.m1.4.5.3.3.1" xref="S2.E2.m1.4.5.3.3.1.cmml"><mo id="S2.E2.m1.4.5.3.3.1.2.2" movablelimits="false" xref="S2.E2.m1.4.5.3.3.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.4.5.3.3.1.2.3" xref="S2.E2.m1.4.5.3.3.1.2.3.cmml"><mi id="S2.E2.m1.4.5.3.3.1.2.3.2" xref="S2.E2.m1.4.5.3.3.1.2.3.2.cmml">i</mi><mo id="S2.E2.m1.4.5.3.3.1.2.3.1" xref="S2.E2.m1.4.5.3.3.1.2.3.1.cmml">=</mo><mn id="S2.E2.m1.4.5.3.3.1.2.3.3" xref="S2.E2.m1.4.5.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E2.m1.4.5.3.3.1.3" xref="S2.E2.m1.4.5.3.3.1.3.cmml">n</mi></munderover><mrow id="S2.E2.m1.4.5.3.3.2" xref="S2.E2.m1.4.5.3.3.2.cmml"><mi id="S2.E2.m1.4.5.3.3.2.1" xref="S2.E2.m1.4.5.3.3.2.1.cmml">log</mi><mo id="S2.E2.m1.4.5.3.3.2a" lspace="0.167em" xref="S2.E2.m1.4.5.3.3.2.cmml">⁡</mo><mfrac id="S2.E2.m1.4.4" xref="S2.E2.m1.4.4.cmml"><mrow id="S2.E2.m1.3.3.3" xref="S2.E2.m1.3.3.3.cmml"><mtext id="S2.E2.m1.3.3.3.4" xref="S2.E2.m1.3.3.3.4a.cmml">Count</mtext><mo id="S2.E2.m1.3.3.3.3" xref="S2.E2.m1.3.3.3.3.cmml">⁢</mo><mrow id="S2.E2.m1.3.3.3.2.1" xref="S2.E2.m1.3.3.3.2.1.1.cmml"><mo id="S2.E2.m1.3.3.3.2.1.2" stretchy="false" xref="S2.E2.m1.3.3.3.2.1.1.cmml">(</mo><mrow id="S2.E2.m1.3.3.3.2.1.1" xref="S2.E2.m1.3.3.3.2.1.1.cmml"><mrow id="S2.E2.m1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1b.cmml"><mi id="S2.E2.m1.1.1.1.1.1.m1.1.1" xref="S2.E2.m1.1.1.1.1.1.m1.1.1.cmml">i</mi><mtext id="S2.E2.m1.1.1.1.1.1a" xref="S2.E2.m1.1.1.1.1.1b.cmml">-gram</mtext></mrow><mo id="S2.E2.m1.3.3.3.2.1.1.1" xref="S2.E2.m1.3.3.3.2.1.1.1.cmml">∈</mo><mrow id="S2.E2.m1.3.3.3.2.1.1.2" xref="S2.E2.m1.3.3.3.2.1.1.2.cmml"><mi id="S2.E2.m1.3.3.3.2.1.1.2.2" xref="S2.E2.m1.3.3.3.2.1.1.2.2.cmml">s</mi><mo id="S2.E2.m1.3.3.3.2.1.1.2.1" xref="S2.E2.m1.3.3.3.2.1.1.2.1.cmml">∩</mo><mi id="S2.E2.m1.3.3.3.2.1.1.2.3" xref="S2.E2.m1.3.3.3.2.1.1.2.3.cmml">c</mi></mrow></mrow><mo id="S2.E2.m1.3.3.3.2.1.3" stretchy="false" xref="S2.E2.m1.3.3.3.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E2.m1.4.4.4" xref="S2.E2.m1.4.4.4.cmml"><mtext id="S2.E2.m1.4.4.4.4" xref="S2.E2.m1.4.4.4.4a.cmml">Count</mtext><mo id="S2.E2.m1.4.4.4.3" xref="S2.E2.m1.4.4.4.3.cmml">⁢</mo><mrow id="S2.E2.m1.4.4.4.2.1" xref="S2.E2.m1.4.4.4.2.1.1.cmml"><mo id="S2.E2.m1.4.4.4.2.1.2" stretchy="false" xref="S2.E2.m1.4.4.4.2.1.1.cmml">(</mo><mrow id="S2.E2.m1.4.4.4.2.1.1" xref="S2.E2.m1.4.4.4.2.1.1.cmml"><mrow id="S2.E2.m1.2.2.2.1.1" xref="S2.E2.m1.2.2.2.1.1b.cmml"><mi id="S2.E2.m1.2.2.2.1.1.m1.1.1" xref="S2.E2.m1.2.2.2.1.1.m1.1.1.cmml">i</mi><mtext id="S2.E2.m1.2.2.2.1.1a" xref="S2.E2.m1.2.2.2.1.1b.cmml">-gram</mtext></mrow><mo id="S2.E2.m1.4.4.4.2.1.1.1" xref="S2.E2.m1.4.4.4.2.1.1.1.cmml">∈</mo><mi id="S2.E2.m1.4.4.4.2.1.1.2" xref="S2.E2.m1.4.4.4.2.1.1.2.cmml">s</mi></mrow><mo id="S2.E2.m1.4.4.4.2.1.3" stretchy="false" xref="S2.E2.m1.4.4.4.2.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.4b"><apply id="S2.E2.m1.4.5.cmml" xref="S2.E2.m1.4.5"><eq id="S2.E2.m1.4.5.1.cmml" xref="S2.E2.m1.4.5.1"></eq><ci id="S2.E2.m1.4.5.2.cmml" xref="S2.E2.m1.4.5.2">𝑅</ci><apply id="S2.E2.m1.4.5.3.cmml" xref="S2.E2.m1.4.5.3"><times id="S2.E2.m1.4.5.3.1.cmml" xref="S2.E2.m1.4.5.3.1"></times><apply id="S2.E2.m1.4.5.3.2.cmml" xref="S2.E2.m1.4.5.3.2"><exp id="S2.E2.m1.4.5.3.2.1.cmml" xref="S2.E2.m1.4.5.3.2.1"></exp><apply id="S2.E2.m1.4.5.3.2.2.cmml" xref="S2.E2.m1.4.5.3.2.2"><divide id="S2.E2.m1.4.5.3.2.2.1.cmml" xref="S2.E2.m1.4.5.3.2.2"></divide><cn id="S2.E2.m1.4.5.3.2.2.2.cmml" type="integer" xref="S2.E2.m1.4.5.3.2.2.2">1</cn><ci id="S2.E2.m1.4.5.3.2.2.3.cmml" xref="S2.E2.m1.4.5.3.2.2.3">𝑛</ci></apply></apply><apply id="S2.E2.m1.4.5.3.3.cmml" xref="S2.E2.m1.4.5.3.3"><apply id="S2.E2.m1.4.5.3.3.1.cmml" xref="S2.E2.m1.4.5.3.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.5.3.3.1.1.cmml" xref="S2.E2.m1.4.5.3.3.1">superscript</csymbol><apply id="S2.E2.m1.4.5.3.3.1.2.cmml" xref="S2.E2.m1.4.5.3.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.4.5.3.3.1.2.1.cmml" xref="S2.E2.m1.4.5.3.3.1">subscript</csymbol><sum id="S2.E2.m1.4.5.3.3.1.2.2.cmml" xref="S2.E2.m1.4.5.3.3.1.2.2"></sum><apply id="S2.E2.m1.4.5.3.3.1.2.3.cmml" xref="S2.E2.m1.4.5.3.3.1.2.3"><eq id="S2.E2.m1.4.5.3.3.1.2.3.1.cmml" xref="S2.E2.m1.4.5.3.3.1.2.3.1"></eq><ci id="S2.E2.m1.4.5.3.3.1.2.3.2.cmml" xref="S2.E2.m1.4.5.3.3.1.2.3.2">𝑖</ci><cn id="S2.E2.m1.4.5.3.3.1.2.3.3.cmml" type="integer" xref="S2.E2.m1.4.5.3.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E2.m1.4.5.3.3.1.3.cmml" xref="S2.E2.m1.4.5.3.3.1.3">𝑛</ci></apply><apply id="S2.E2.m1.4.5.3.3.2.cmml" xref="S2.E2.m1.4.5.3.3.2"><log id="S2.E2.m1.4.5.3.3.2.1.cmml" xref="S2.E2.m1.4.5.3.3.2.1"></log><apply id="S2.E2.m1.4.4.cmml" xref="S2.E2.m1.4.4"><divide id="S2.E2.m1.4.4.5.cmml" xref="S2.E2.m1.4.4"></divide><apply id="S2.E2.m1.3.3.3.cmml" xref="S2.E2.m1.3.3.3"><times id="S2.E2.m1.3.3.3.3.cmml" xref="S2.E2.m1.3.3.3.3"></times><ci id="S2.E2.m1.3.3.3.4a.cmml" xref="S2.E2.m1.3.3.3.4"><mtext id="S2.E2.m1.3.3.3.4.cmml" xref="S2.E2.m1.3.3.3.4">Count</mtext></ci><apply id="S2.E2.m1.3.3.3.2.1.1.cmml" xref="S2.E2.m1.3.3.3.2.1"><in id="S2.E2.m1.3.3.3.2.1.1.1.cmml" xref="S2.E2.m1.3.3.3.2.1.1.1"></in><ci id="S2.E2.m1.1.1.1.1.1b.cmml" xref="S2.E2.m1.1.1.1.1.1"><mrow id="S2.E2.m1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1"><mi id="S2.E2.m1.1.1.1.1.1.m1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.m1.1.1">i</mi><mtext id="S2.E2.m1.1.1.1.1.1a.cmml" xref="S2.E2.m1.1.1.1.1.1">-gram</mtext></mrow></ci><apply id="S2.E2.m1.3.3.3.2.1.1.2.cmml" xref="S2.E2.m1.3.3.3.2.1.1.2"><intersect id="S2.E2.m1.3.3.3.2.1.1.2.1.cmml" xref="S2.E2.m1.3.3.3.2.1.1.2.1"></intersect><ci id="S2.E2.m1.3.3.3.2.1.1.2.2.cmml" xref="S2.E2.m1.3.3.3.2.1.1.2.2">𝑠</ci><ci id="S2.E2.m1.3.3.3.2.1.1.2.3.cmml" xref="S2.E2.m1.3.3.3.2.1.1.2.3">𝑐</ci></apply></apply></apply><apply id="S2.E2.m1.4.4.4.cmml" xref="S2.E2.m1.4.4.4"><times id="S2.E2.m1.4.4.4.3.cmml" xref="S2.E2.m1.4.4.4.3"></times><ci id="S2.E2.m1.4.4.4.4a.cmml" xref="S2.E2.m1.4.4.4.4"><mtext id="S2.E2.m1.4.4.4.4.cmml" xref="S2.E2.m1.4.4.4.4">Count</mtext></ci><apply id="S2.E2.m1.4.4.4.2.1.1.cmml" xref="S2.E2.m1.4.4.4.2.1"><in id="S2.E2.m1.4.4.4.2.1.1.1.cmml" xref="S2.E2.m1.4.4.4.2.1.1.1"></in><ci id="S2.E2.m1.2.2.2.1.1b.cmml" xref="S2.E2.m1.2.2.2.1.1"><mrow id="S2.E2.m1.2.2.2.1.1.cmml" xref="S2.E2.m1.2.2.2.1.1"><mi id="S2.E2.m1.2.2.2.1.1.m1.1.1.cmml" xref="S2.E2.m1.2.2.2.1.1.m1.1.1">i</mi><mtext id="S2.E2.m1.2.2.2.1.1a.cmml" xref="S2.E2.m1.2.2.2.1.1">-gram</mtext></mrow></ci><ci id="S2.E2.m1.4.4.4.2.1.1.2.cmml" xref="S2.E2.m1.4.4.4.2.1.1.2">𝑠</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.4c">R=\exp{\frac{1}{n}\sum_{i=1}^{n}\log\frac{\text{Count}(\text{$i$-gram}\in s%
\cap c)}{\text{Count}(\text{$i$-gram}\in s)}}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.4d">italic_R = roman_exp divide start_ARG 1 end_ARG start_ARG italic_n end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT roman_log divide start_ARG Count ( italic_i -gram ∈ italic_s ∩ italic_c ) end_ARG start_ARG Count ( italic_i -gram ∈ italic_s ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Two-stage Translation</h4>
<div class="ltx_para" id="S2.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px2.p1.1">As mentioned in the previous section, we first ask the LLM to generate a draft translation, and then polish the draft translation by providing the ICL demonstrations, resulting in a two-stage translation process.
In practice, we implement the two-stage translation through the multi-turn dialog feature of the GPT-3.5 API.
In addition, we empirically found that the LLM may incorrectly modify the draft translation after observing the ICL demonstrations.
We attribute this phenomenon to the fact that the scale limitation of the retrieval database, which may lead to the inclusion of some irrelevant samples.
Therefore, we asked the LLM further compare the polished translations with the draft translations at the second stage, and finally select the higher quality one.
It is worth noting that the LLM did not observe the reference translation of the test instance during the whole process but only compared the translation quality by means of self-reflection.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Data and Evaluation</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">We verify the effectiveness of the proposed pipeline on a multi-domain German-English translation benchmark <cite class="ltx_cite ltx_citemacro_citep">(Aharoni and Goldberg,, <a class="ltx_ref" href="#bib.bib2" title="">2020</a>)</cite>.
The test data keeps the same setting as the same benchmark, which involves five domains including IT, Koran, Law, Medical, and Subtitles.
We randomly sample 2,000 samples from the training set of each domain as the source of constructing the ICL retrieval database.
To complete this process, we use GPT-3.5 API to generate the translation and employ the edit-distance-based method mentioned in Section <a class="ltx_ref" href="#S2.SS1" title="2.1 Feedback Collection ‣ 2 Methodology ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">2.1</span></a> to produce human-like feedback.
We use several automated metrics to evaluate the translation quality, including BLEU <cite class="ltx_cite ltx_citemacro_citep">(Papineni et al.,, <a class="ltx_ref" href="#bib.bib8" title="">2002</a>)</cite>, TER <cite class="ltx_cite ltx_citemacro_citep">(Snover et al.,, <a class="ltx_ref" href="#bib.bib11" title="">2006</a>)</cite>, BERTScore <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al.,, <a class="ltx_ref" href="#bib.bib17" title="">2020</a>)</cite>, and COMET <cite class="ltx_cite ltx_citemacro_citep">(Rei et al.,, <a class="ltx_ref" href="#bib.bib9" title="">2020</a>)</cite>.
BLEU and TER are the traditional metrics that evaluate the text overlap whereas the others can evaluate the semantic overlap based on neural networks.
We also found that APIs sometimes produce hallucinations or refuse to translate some sentences. To make a fair comparison, we manually check the translation results and remove the invalid results, and only evaluate the performance of the sentences that are successfully translated by all the methods.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Settings</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.4">The experiments were conducted using GPT-3.5 API. The decoding temperature and the top_p parameters are set to <math alttext="1" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mn id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><cn id="S3.SS2.p1.1.m1.1.1.cmml" type="integer" xref="S3.SS2.p1.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">1</annotation></semantics></math> by default.
When evaluating the relevance of demonstrations, we first retrieve the top <math alttext="K" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><mi id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_K</annotation></semantics></math>=200 demonstrations with the highest BM25 scores and then select top-<math alttext="N" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m3.1"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m3.1d">italic_N</annotation></semantics></math> demonstrations with the highest <math alttext="4" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m4.1"><semantics id="S3.SS2.p1.4.m4.1a"><mn id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><cn id="S3.SS2.p1.4.m4.1.1.cmml" type="integer" xref="S3.SS2.p1.4.m4.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">4</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m4.1d">4</annotation></semantics></math>-gram re-rank scores as the finalized ICL demonstrations.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Main Results</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Table <a class="ltx_ref" href="#S3.T1" title="Table 1 ‣ 3.3 Main Results ‣ 3 Experiments ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">1</span></a> presents the automated evaluation results of the baseline methods. The experimental findings demonstrate that the proposed approach effectively enhances the performance of GPT-3.5-Turbo baseline. Importantly, we observe that the impact of the proposed HIL method varies across different domains, a topic that will be thoroughly examined in Section <a class="ltx_ref" href="#S4.SS2" title="4.2 Domain Differences ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">4.2</span></a>.
In addition, we were limited to varying the number of ICL demonstrations from 1 to 3 due to constraints on request tokens. Nonetheless, the results strongly indicate that providing more ICL demonstrations leads to improved performance.
Moreover, when evaluating the performance with neural metrics, the differences in scores are not substantial compared to the traditional metrics. We postulate that the process of refining the draft translation may not deviate significantly from the original semantic content but rather brings it closer to specific translation preferences in certain domains. These findings will be elucidated through a detailed case study in the subsequent section.</p>
</div>
<figure class="ltx_table" id="S3.T1">
<div class="ltx_inline-block ltx_transformed_outer" id="S3.T1.5" style="width:315.7pt;height:307.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-17.5pt,17.1pt) scale(0.9,0.9) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S3.T1.5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T1.5.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S3.T1.5.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S3.T1.5.1.1.1.2">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.1.1.2.1">IT</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S3.T1.5.1.1.1.3">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.1.1.3.1">Koran</span></th>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S3.T1.5.1.2.2.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.2">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.2.1">BLEU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.3">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.3.1">TER</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.4">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.4.1">BERT-F</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.5">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.5.1">COMET</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.6">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.6.1">BLEU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.7">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.7.1">TER</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.8">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.8.1">BERT-F</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S3.T1.5.1.2.2.9">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.2.2.9.1">COMET</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T1.5.1.3.1">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row ltx_border_t" id="S3.T1.5.1.3.1.1"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.3.1.1.1">GPT-3.5-Turbo</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.2">34.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.3">62.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.4">93.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.5">82.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.6">16.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.7"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.3.1.7.1">74.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.8">90.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.3.1.9">73.4</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.4.2">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.4.2.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.4.2.1.1">+1-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.2">29.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.3">77.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.4">92.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.5">81.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.6">15.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.7">80.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.8">90.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.4.2.9">72.8</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.5.3">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.5.3.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.5.3.1.1">+2-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.2">33.9</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.3">64.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.4">92.9</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.5">82.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.6">15.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.7">77.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.8">90.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.5.3.9">73.2</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.6.4">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.6.4.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.6.4.1.1">+3-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.2">32.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.3">68.8</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.4">93.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.5">82.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.6">16.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.7">76.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.8">90.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.6.4.9">73.6</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.7.5">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.7.5.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.7.5.1.1">+Compare HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.2"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.2.1">35.2</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.3"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.3.1">61.3</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.4"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.4.1">93.3</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.5"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.5.1">82.8</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.6"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.6.1">16.6</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.7">74.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.8"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.8.1">90.7</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.7.5.9"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.7.5.9.1">73.8</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.8.6">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S3.T1.5.1.8.6.1"></th>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="4" id="S3.T1.5.1.8.6.2">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.8.6.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="4" id="S3.T1.5.1.8.6.3">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.8.6.3.1">Medical</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.9.7">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row ltx_border_t" id="S3.T1.5.1.9.7.1"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.9.7.1.1">GPT-3.5-Turbo</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.2">37.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.3">54.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.4">93.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.5">83.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.6">40.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.7"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.9.7.7.1">59.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.8"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.9.7.8.1">93.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.9.7.9">83.4</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.10.8">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.10.8.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.10.8.1.1">+1-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.2">36.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.3">59.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.4">93.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.5">83.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.6">36.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.7">67.9</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.8">93.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.10.8.9">82.1</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.11.9">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.11.9.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.11.9.1.1">+2-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.2">37.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.3">56.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.4">93.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.5">83.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.6">39.2</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.7">63.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.8">93.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.11.9.9">83.0</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.12.10">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.12.10.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.12.10.1.1">+3-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.2">36.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.3">56.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.4">93.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.5">83.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.6">38.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.7">63.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.8">93.7</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.12.10.9">83.2</td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.13.11">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.13.11.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.13.11.1.1">+Compare HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.2"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.2.1">37.7</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.3"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.3.1">54.5</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.4"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.4.1">93.8</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.5"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.5.1">83.9</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.6"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.6.1">40.9</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.7">60.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.8"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.8.1">93.9</span></td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.13.11.9"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.13.11.9.1">83.6</span></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.14.12">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S3.T1.5.1.14.12.1"></th>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="4" id="S3.T1.5.1.14.12.2">
<span class="ltx_text ltx_font_bold" id="S3.T1.5.1.14.12.2.1">Subtitles</span></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.14.12.3"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.14.12.4"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.14.12.5"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.14.12.6"></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.15.13">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row ltx_border_t" id="S3.T1.5.1.15.13.1"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.15.13.1.1">GPT-3.5-Turbo</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.15.13.2">27.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.15.13.3">64.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.15.13.4">93.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S3.T1.5.1.15.13.5">80.0</td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.15.13.6"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.15.13.7"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.15.13.8"></td>
<td class="ltx_td ltx_border_t" id="S3.T1.5.1.15.13.9"></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.16.14">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.16.14.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.16.14.1.1">+1-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.16.14.2">26.3</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.16.14.3">69.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.16.14.4">92.5</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.16.14.5">78.8</td>
<td class="ltx_td" id="S3.T1.5.1.16.14.6"></td>
<td class="ltx_td" id="S3.T1.5.1.16.14.7"></td>
<td class="ltx_td" id="S3.T1.5.1.16.14.8"></td>
<td class="ltx_td" id="S3.T1.5.1.16.14.9"></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.17.15">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.17.15.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.17.15.1.1">+2-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.17.15.2">26.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.17.15.3">67.1</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.17.15.4">92.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.17.15.5">79.4</td>
<td class="ltx_td" id="S3.T1.5.1.17.15.6"></td>
<td class="ltx_td" id="S3.T1.5.1.17.15.7"></td>
<td class="ltx_td" id="S3.T1.5.1.17.15.8"></td>
<td class="ltx_td" id="S3.T1.5.1.17.15.9"></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.18.16">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row" id="S3.T1.5.1.18.16.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.18.16.1.1">+3-shot HIL</span></th>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.18.16.2">27.4</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.18.16.3">64.6</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.18.16.4">93.0</td>
<td class="ltx_td ltx_align_center" id="S3.T1.5.1.18.16.5">79.8</td>
<td class="ltx_td" id="S3.T1.5.1.18.16.6"></td>
<td class="ltx_td" id="S3.T1.5.1.18.16.7"></td>
<td class="ltx_td" id="S3.T1.5.1.18.16.8"></td>
<td class="ltx_td" id="S3.T1.5.1.18.16.9"></td>
</tr>
<tr class="ltx_tr" id="S3.T1.5.1.19.17">
<th class="ltx_td ltx_align_right ltx_th ltx_th_row ltx_border_bb" id="S3.T1.5.1.19.17.1"><span class="ltx_text ltx_font_italic" id="S3.T1.5.1.19.17.1.1">+Compare HIL</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.5.1.19.17.2"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.19.17.2.1">28.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.5.1.19.17.3"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.19.17.3.1">64.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.5.1.19.17.4"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.19.17.4.1">93.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S3.T1.5.1.19.17.5"><span class="ltx_text ltx_font_bold" id="S3.T1.5.1.19.17.5.1">80.1</span></td>
<td class="ltx_td ltx_border_bb" id="S3.T1.5.1.19.17.6"></td>
<td class="ltx_td ltx_border_bb" id="S3.T1.5.1.19.17.7"></td>
<td class="ltx_td ltx_border_bb" id="S3.T1.5.1.19.17.8"></td>
<td class="ltx_td ltx_border_bb" id="S3.T1.5.1.19.17.9"></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Automated evaluation results of different translation strategies. “<math alttext="K" class="ltx_Math" display="inline" id="S3.T1.3.m1.1"><semantics id="S3.T1.3.m1.1b"><mi id="S3.T1.3.m1.1.1" xref="S3.T1.3.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.T1.3.m1.1c"><ci id="S3.T1.3.m1.1.1.cmml" xref="S3.T1.3.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.3.m1.1d">K</annotation><annotation encoding="application/x-llamapun" id="S3.T1.3.m1.1e">italic_K</annotation></semantics></math>-shot HIL” indicates the proposed HIL method with <math alttext="K" class="ltx_Math" display="inline" id="S3.T1.4.m2.1"><semantics id="S3.T1.4.m2.1b"><mi id="S3.T1.4.m2.1.1" xref="S3.T1.4.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.T1.4.m2.1c"><ci id="S3.T1.4.m2.1.1.cmml" xref="S3.T1.4.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.m2.1d">K</annotation><annotation encoding="application/x-llamapun" id="S3.T1.4.m2.1e">italic_K</annotation></semantics></math> demonstrations used. “Compare HIL” indicates using the comparison strategy to finalize the two-stage translation.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Analysis</h2>
<figure class="ltx_table" id="S4.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.1" style="width:433.6pt;height:183.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(67.9pt,-28.7pt) scale(1.45591226446283,1.45591226446283) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.1.1.1.1.1" rowspan="2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1.1">Method</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">
<span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.2.1">BM25</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="4" id="S4.T2.1.1.1.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">
<span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.3.1">BM25 Re-Rank</span></th>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.1" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.1.1">BLEU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.2.1">TER</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.3.1">BERT-F</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.4.1">COMET</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.5.1">BLEU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.6.1">TER</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.7" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.7.1">BERT-F</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.2.2.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.2.2.8.1">COMET</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1.3.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" id="S4.T2.1.1.3.1.1" style="padding-left:3.0pt;padding-right:3.0pt;">IT</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.2" style="padding-left:3.0pt;padding-right:3.0pt;">34.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.3" style="padding-left:3.0pt;padding-right:3.0pt;">62.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.4" style="padding-left:3.0pt;padding-right:3.0pt;">93.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.5" style="padding-left:3.0pt;padding-right:3.0pt;">82.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.3.1.6.1">35.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.7" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.3.1.7.1">61.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.3.1.8.1">93.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.1.3.1.9" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.3.1.9.1">82.8</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.4.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T2.1.1.4.2.1" style="padding-left:3.0pt;padding-right:3.0pt;">Koran</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.2" style="padding-left:3.0pt;padding-right:3.0pt;">16.2</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.2.3.1">74.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.4" style="padding-left:3.0pt;padding-right:3.0pt;">90.7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.5" style="padding-left:3.0pt;padding-right:3.0pt;">73.7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.2.6.1">16.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.7" style="padding-left:3.0pt;padding-right:3.0pt;">74.6</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.8" style="padding-left:3.0pt;padding-right:3.0pt;">90.7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.4.2.9" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.4.2.9.1">73.8</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.5.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T2.1.1.5.3.1" style="padding-left:3.0pt;padding-right:3.0pt;">Law</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.5.3.2.1">38.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.5.3.3.1">54.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.4" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.5.3.4.1">93.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.5.3.5.1">84.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.6" style="padding-left:3.0pt;padding-right:3.0pt;">37.7</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.7" style="padding-left:3.0pt;padding-right:3.0pt;">54.5</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.8" style="padding-left:3.0pt;padding-right:3.0pt;">93.8</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.5.3.9" style="padding-left:3.0pt;padding-right:3.0pt;">83.9</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.6.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row" id="S4.T2.1.1.6.4.1" style="padding-left:3.0pt;padding-right:3.0pt;">Medical</th>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.2" style="padding-left:3.0pt;padding-right:3.0pt;">40.6</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.3" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.4.3.1">58.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.4" style="padding-left:3.0pt;padding-right:3.0pt;">94.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.4.5.1">83.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.6" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.6.4.6.1">40.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.7" style="padding-left:3.0pt;padding-right:3.0pt;">60.1</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.8" style="padding-left:3.0pt;padding-right:3.0pt;">94.0</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.1.6.4.9" style="padding-left:3.0pt;padding-right:3.0pt;">83.6</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.1.7.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" id="S4.T2.1.1.7.5.1" style="padding-left:3.0pt;padding-right:3.0pt;">Subtitles</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.2" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.5.2.1">28.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.3" style="padding-left:3.0pt;padding-right:3.0pt;">64.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.4" style="padding-left:3.0pt;padding-right:3.0pt;">93.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.5" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.5.5.1">80.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.6" style="padding-left:3.0pt;padding-right:3.0pt;">28.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.7" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.5.7.1">64.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.8" style="padding-left:3.0pt;padding-right:3.0pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.7.5.8.1">93.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.1.7.5.9" style="padding-left:3.0pt;padding-right:3.0pt;">80.1</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Automated evaluation results for <span class="ltx_text ltx_font_italic" id="S4.T2.3.1">3</span>-shot HIL with different ICL retrieval strategies.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Effects of ICL Retrieval Methods</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">To explore the potential impact of different demonstration retrieval methods on our proposed HIL translation workflow, we conducted experiments using two strategies: BM25 and BM25 Re-rank, in a 3-shot translation scenario. The comparative results are summarized in Table <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">2</span></a>.
Based on the automated metrics, both BM25 and BM25 Re-Rank methods exhibited strengths and weaknesses in various domains. Specifically, BM25 Re-Rank slightly outperformed BM25 in terms of the BLEU metric.
The advantage of BM25 Re-Rank was particularly evident in the IT domain, as it achieved higher scores than BM25 across all metrics. However, this conclusion was reversed in the Law domain.
The advantage of the BM25 Re-Rank strategy lies in its ability to filter out repetitive context with identical queries. Consequently, this approach selects more relevant examples related to the IT domain, leading to an improvement in the quality of the translation output within this domain.
The BM25 method for demonstration retrieval focuses on document frequency and keyword matching, making it more effective in ensuring proper usage of legal terminology.
This observation underscores the necessity of adopting different strategies for demonstration retrieval across different domains to ensure the selection of contextually relevant and domain-specific examples for the target sentences.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Domain Differences</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In general, the HIL approach exhibits superior performance compared to the GPT-3.5 API baseline across all five domains, with particularly notable advantages in the IT and Medical domains. However, the differences in performance are relatively smaller in Law and Subtitles domains. These variations can be attributed to the distinct sentence styles and structures prevalent in each domain.
Upon analyzing the translation results, it becomes evident that HIL excels in IT and Medical domains by effectively aligning terminology with the reference translations. For example, consider the phrase “Returns a character string” in the IT domain, HIL correctly recognizes the need to use the third-person singular form of the word “returns” and avoids translating “character string” simply as “string”. While these words may not be technical terms, their specific usage preferences in the IT domain are crucial, and such nuances cannot be captured by the GPT-3.5 API baseline.
Conversely, in domains such as Law and Subtitles, where HIL’s performance is comparatively lower, the sentences tend to adhere to specific legal clauses or follow a more colloquial and concise style. As GPT-3.5 is a multi-domain language model, it already possesses substantial knowledge related to these domains, leading to satisfactory draft translations in the initial output, thereby reducing the necessity for extensive corrections through demonstrations.
Furthermore, it is worth noting that the quality of the data within the demonstration pool may not be very high, as they were randomly sampled from the training set. This behavior could also have a negative impact on the final results.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Quantitative Analysis</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">We conducted quantitative analysis on the translation results with the help of <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.1.1">compare-mt<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_serif" id="footnote1.1.1.1">1</span></span><span class="ltx_text ltx_font_serif" id="footnote1.4">https://github.com/neulab/compare-mt</span></span></span></span></span> <cite class="ltx_cite ltx_citemacro_citep">(Neubig et al.,, <a class="ltx_ref" href="#bib.bib6" title="">2019</a>)</cite> toolkit.
</p>
</div>
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Part of Speech (POS)</h4>
<div class="ltx_para" id="S4.SS3.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS3.SSS0.Px1.p1.1">We applied Stanford’s POS tagging toolkit <cite class="ltx_cite ltx_citemacro_citep">(Toutanova et al.,, <a class="ltx_ref" href="#bib.bib12" title="">2003</a>)</cite> to label the target-side text and subsequently examined the translation outcomes of both the baselines and HIL method across different POS categories.
The results are presented in Figure <a class="ltx_ref" href="#S4.F3" title="Figure 3 ‣ Part of Speech (POS) ‣ 4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">3</span></a>.
Overall, HIL outperforms the baselines in all noun categories, including singular or mass nouns (NN), plural nouns (NNS), and singular proper nouns (NNP). Additionally, among the three verb types, HIL exhibited superior performance to the baseline in base form verbs (VB) and third person singular present verbs (VBZ), with the most noticeable advantage observed in base form verbs (VB).
Furthermore, the advantage of HIL is particularly evident in POS categories where the baseline exhibits lower translation accuracy.
These findings underscore the effectiveness of the HIL approach in handling various parts of speech and its ability to deliver improved translation outputs, especially in challenging linguistic contexts.</p>
</div>
<figure class="ltx_figure" id="S4.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F3.3">[
width=0.98height=5cm,
ybar,
bar width=0.3cm,
xlabel=POS Tagging,
ylabel=Accuracy,
ylabel style=yshift=-8pt,
xlabel style=yshift=-8pt,
symbolic x coords=CC,DT,IN,JJ,NN,NNP,NNS,PRP,RB,TO,VB,VBP,VBZ,other,
xtick=data,
xtick distance=1,
enlarge x limits=0.10,
legend style=at=(0.90,0.95),anchor=north, draw=none,
fill=none, font=,
legend cell align=left,
legend image code/.code=
<span class="ltx_ERROR undefined" id="S4.F3.3.1">\draw</span>[#1] (0cm,-0.1cm) rectangle (0.2cm,0.1cm); ,
]</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F3.5">[ybar, fill=set2-2, draw=none] coordinates 
(CC, 0.7613)
(DT, 0.7341)
(IN, 0.5913)
(JJ, 0.5053)
(NN, 0.4338)
(NNP, 0.4569)
(NNS, 0.4266)
(PRP, 0.6173)
(RB, 0.5292)
(TO, 0.6659)
(VB, 0.4100)
(VBP, 0.4465)
(VBZ, 0.4957)
(other, 0.4783)
;</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F3.7">[ybar, fill=set2-4, draw=none] coordinates 
(CC, 0.7482)
(DT, 0.7300)
(IN, 0.5882)
(JJ, 0.5033)
(NN, 0.4424)
(NNP, 0.4662)
(NNS, 0.4325)
(PRP, 0.6136)
(RB, 0.5260)
(TO, 0.6789)
(VB, 0.4199)
(VBP, 0.4430)
(VBZ, 0.4970)
(other, 0.4817)
;</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F3.9">Draft, HIL</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>The translation comparison in terms of different POS tags.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S4.SS3.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Sentence Length</h4>
<div class="ltx_para" id="S4.SS3.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS3.SSS0.Px2.p1.1">Figure <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ Sentence Length ‣ 4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">4</span></a> presents the translation performance of both the baseline and HIL models for sentences of varying lengths.
HIL exhibits a clear advantage over the baseline for sentences that are shorter than 10 words as well as those longer than 60 words.
Unfortunately, HIL performs less effectively for medium-length sentences compared to the baseline’s initial draft.
This observation indicates that there might be challenges specific to this sentence length range that warrant further investigation and potential refinement of the HIL approach.

<br class="ltx_break"/>In conclusion, our analysis of translation performance across different POS categories and sentence lengths reveals that HIL exhibits exceptional proficiency in translating both nouns and verbs, particularly excelling in extreme-short and extreme-long sentences.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" colspan="2" id="S4.T3.1.1.1.1">IT Domain</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.1.2.1.1">Source</th>
<td class="ltx_td ltx_align_justify ltx_border_t" id="S4.T3.1.2.1.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.2.1.2.1">Das <span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.2.1.1">Handbuch</span> zu <span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.2.1.2">&amp; ksnapshot</span>;</p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.3.2.1">Reference</th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.3.2.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.3.2.2.1">The <span class="ltx_text ltx_font_bold" id="S4.T3.1.3.2.2.1.1">&amp; ksnapshot;</span> <span class="ltx_text ltx_font_bold" id="S4.T3.1.3.2.2.1.2">Handbook</span></p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.4.3.1">Demonstrations</th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.4.3.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.4.3.2.1">1. &lt;input&gt;Das <span class="ltx_text ltx_font_bold" id="S4.T3.1.4.3.2.1.1">Handbuch zu &amp; kontact;</span> &lt;hypothesis&gt;The manual for &amp; kontact; &lt;reference&gt;&amp; kontact; Handbook &lt;revision&gt;“the” should be deleted. <span class="ltx_text ltx_framed_underline" id="S4.T3.1.4.3.2.1.2">“manual” should be deleted.</span> “for” should be deleted.”, <span class="ltx_text ltx_framed_underline" id="S4.T3.1.4.3.2.1.3">“handbook” should be inserted after “kontact;”</span></p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.5.4">
<th class="ltx_td ltx_th ltx_th_row" id="S4.T3.1.5.4.1"></th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.5.4.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.5.4.2.1">2. &lt;input&gt;Das <span class="ltx_text ltx_font_bold" id="S4.T3.1.5.4.2.1.1">Handbuch</span> zu &amp; kanagram; &lt;hypothesis&gt;The <span class="ltx_text ltx_font_bold" id="S4.T3.1.5.4.2.1.2">manual for &amp; kanagram;</span> &lt;reference&gt;&amp; kanagram; Handbook &lt;revision&gt;“the” should be deleted. <span class="ltx_text ltx_framed_underline" id="S4.T3.1.5.4.2.1.3">“manual” should be deleted.</span> “for” should be deleted. <span class="ltx_text ltx_framed_underline" id="S4.T3.1.5.4.2.1.4">“handbook” should be inserted after “kanagramt;”</span></p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.6.5">
<th class="ltx_td ltx_th ltx_th_row" id="S4.T3.1.6.5.1"></th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.6.5.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.6.5.2.1">3. …</p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.7.6.1">
<span class="ltx_ERROR undefined" id="S4.T3.1.7.6.1.1">\hdashline</span>
Draft</th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.7.6.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.7.6.2.1">The manual <span class="ltx_text ltx_font_bold" id="S4.T3.1.7.6.2.1.1">for &amp; ksnapshot;</span></p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S4.T3.1.8.7.1">ICL</th>
<td class="ltx_td ltx_align_justify" id="S4.T3.1.8.7.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.8.7.2.1">The manual <span class="ltx_text ltx_font_bold" id="S4.T3.1.8.7.2.1.1">for &amp;ksnapshot;</span></p>
</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.1.9.8.1">HIL</th>
<td class="ltx_td ltx_align_justify ltx_border_bb" id="S4.T3.1.9.8.2" style="width:284.5pt;">
<p class="ltx_p ltx_align_top" id="S4.T3.1.9.8.2.1">The <span class="ltx_text ltx_font_bold" id="S4.T3.1.9.8.2.1.1">&amp; ksnapshot; Handbook</span></p>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>An example result of three different translation strategies. “Draft” represents the preliminary translation results obtained at the initial turn in our HIL pipeline. “ICL” presents the translation results achieved using ordinary ICL demonstrations without revision feedback.</figcaption>
</figure>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F4.2">[
width=8cm,
xlabel=Sentence Length,
ylabel=BLEU Score,
xlabel style=yshift=-20pt,
legend pos=north west,
grid=both,
xtick=data,
xticklabels=
<math alttext="&lt;" class="ltx_Math" display="inline" id="S4.F4.1.m1.1"><semantics id="S4.F4.1.m1.1a"><mo id="S4.F4.1.m1.1.1" xref="S4.F4.1.m1.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S4.F4.1.m1.1b"><lt id="S4.F4.1.m1.1.1.cmml" xref="S4.F4.1.m1.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.1.m1.1c">&lt;</annotation><annotation encoding="application/x-llamapun" id="S4.F4.1.m1.1d">&lt;</annotation></semantics></math>10,
[10,20),
[20,30),
[30,40),
[40,50),
[50,60),
<math alttext="\geq" class="ltx_Math" display="inline" id="S4.F4.2.m2.1"><semantics id="S4.F4.2.m2.1a"><mo id="S4.F4.2.m2.1.1" xref="S4.F4.2.m2.1.1.cmml">≥</mo><annotation-xml encoding="MathML-Content" id="S4.F4.2.m2.1b"><geq id="S4.F4.2.m2.1.1.cmml" xref="S4.F4.2.m2.1.1"></geq></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.2.m2.1c">\geq</annotation><annotation encoding="application/x-llamapun" id="S4.F4.2.m2.1d">≥</annotation></semantics></math>60
,
xticklabel style=rotate=45, anchor=near xticklabel,
legend style=
draw=none,
fill=none,
font=,
cells=anchor=west,
at=(0.70,0.98),
anchor=north west,
row sep=2pt,

]
<span class="ltx_ERROR undefined" id="S4.F4.2.1">\addplot</span>table [x index=0, y index=1] 
length Draft Compare
10 19.8268 20.3854
20 30.0580 29.5361
30 25.0412 24.7130
40 25.3799 24.9586
50 20.8847 20.5423
60 27.9515 28.1203
70 23.9318 25.3867
;
<span class="ltx_ERROR undefined" id="S4.F4.2.2">\addlegendentry</span>Draft
</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell">
<p class="ltx_p ltx_align_center" id="S4.F4.6">table [x index=0, y index=2] 
length Draft Compare
10 19.8268 20.3854
20 30.0580 29.5361
30 25.0412 24.7130
40 25.3799 24.9586
50 20.8847 20.5423
60 27.9515 28.1203
70 23.9318 25.3867
;
<span class="ltx_ERROR undefined" id="S4.F4.6.1">\addlegendentry</span>HIL</p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The translation comparison across various sentence lengths.</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Case Study</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">Below, we present an illustrative example from the IT domain to showcase the advantages of HIL in terms of terminology translation. Additionally, we compare the proposed HIL method with the ordinary ICL method without revision feedback. The results are shown in Table <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ Sentence Length ‣ 4.3 Quantitative Analysis ‣ 4 Analysis ‣ Human‑in‑the‑loop Machine Translation with Large Language Model"><span class="ltx_text ltx_ref_tag">3</span></a>.
In the given example, while the German word “Handbuch” was translated as “manual” in both the draft and ICL translations, the reference and retrieved demonstration suggest that “Handbook” is a more accurate translation.
Regarding the terminology usage of the IT domain, “Handbook” precisely describes a professional document type, whereas “manual” might be more generic and provide less specific information.
Among the three translation methods, the HIL translation successfully captures this crucial information based on the provided demonstrations.
On the other hand, HIL also learns from revisions in the demonstration and opts to translate the original sentence as “The &amp;ksnapshot; Handbook”, aligning more accurately with the word order of the original text.
This demonstrates how HIL can effectively incorporate valuable revision feedback to produce more contextually appropriate and accurate translations.
</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusions and Future Work</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we present an empirical study focused on enhancing the translation capabilities of the LLM by integrating concrete feedback within the translation process. Our objective is to establish a human-in-the-loop machine translation pipeline, where human feedback plays a pivotal role. To simulate this concept, we utilize an automated feedback method, leveraging the GPT-3.5 API as our testbed, which yields effective results.
In the future, our plan is to collect human feedback to create a novel dataset and conduct experiments on the proposed pipeline using this dataset. This approach will enable us to further validate and implement our human-in-the-loop machine translation system in the context of LLM, enhancing its practical applicability and performance.</p>
</div>
</section>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Acknowledgement</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1">This work was supported in part by the Science and Technology Development Fund, Macau SAR (Grant Nos. FDCT/0070/2022/AMJ, FDCT/060/2022/AFJ), the Multi-year Research Grant from the University of Macau (Grant No. MYRG2020-00054-FST), and the Research Program of Guangdong Province (Grant No. 2220004002576). This work was performed in part at SICC which is supported by SKL-IOTSC, and HPCC supported by ICTO of the University of Macau.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agrawal et al.,  (2022)</span>
<span class="ltx_bibblock">
Agrawal, S., Zhou, C., Lewis, M., Zettlemoyer, L., and Ghazvininejad, M.
(2022).

</span>
<span class="ltx_bibblock">In-context examples selection for machine translation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">ArXiv preprint</span>, abs/2212.02437.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Aharoni and Goldberg,  (2020)</span>
<span class="ltx_bibblock">
Aharoni, R. and Goldberg, Y. (2020).

</span>
<span class="ltx_bibblock">Unsupervised domain clusters in pretrained language models.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">Proceedings of the 58th Annual Meeting of the Association for
Computational Linguistics</span>, pages 7747–7763. Association for Computational
Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dong et al.,  (2023)</span>
<span class="ltx_bibblock">
Dong, Q., Li, L., Dai, D., Zheng, C., Wu, Z., Chang, B., Sun, X., Xu, J., and
Sui, Z. (2023).

</span>
<span class="ltx_bibblock">A survey for in-context learning.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">ArXiv preprint</span>, abs/2301.00234.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hendy et al.,  (2023)</span>
<span class="ltx_bibblock">
Hendy, A., Abdelrehim, M. G., Sharaf, A., Raunak, V., Gabr, M., Matsushita, H.,
Kim, Y. J., Afify, M., and Awadalla, H. H. (2023).

</span>
<span class="ltx_bibblock">How good are gpt models at machine translation? a comprehensive
evaluation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">ArXiv preprint</span>, abs/2302.09210.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiao et al.,  (2023)</span>
<span class="ltx_bibblock">
Jiao, W., Wang, W., tse Huang, J., Wang, X., and Tu, Z. (2023).

</span>
<span class="ltx_bibblock">Is chatgpt a good translator? yes with gpt-4 as the engine.

</span>
<span class="ltx_bibblock">volume abs/2301.08745.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Neubig et al.,  (2019)</span>
<span class="ltx_bibblock">
Neubig, G., Dou, Z.-Y., Hu, J., Michel, P., Pruthi, D., and Wang, X. (2019).

</span>
<span class="ltx_bibblock">compare-mt: A tool for holistic comparison of language generation
systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 2019 Conference of the North American
Chapter of the Association for Computational Linguistics (Demonstrations)</span>,
pages 35–41. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI,  (2023)</span>
<span class="ltx_bibblock">
OpenAI (2023).

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">ArXiv preprint</span>, abs/2303.08774.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Papineni et al.,  (2002)</span>
<span class="ltx_bibblock">
Papineni, K., Roukos, S., Ward, T., and Zhu, W.-J. (2002).

</span>
<span class="ltx_bibblock">Bleu: a method for automatic evaluation of machine translation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">Proceedings of the 40th Annual Meeting of the Association for
Computational Linguistics</span>, pages 311–318. Association for Computational
Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rei et al.,  (2020)</span>
<span class="ltx_bibblock">
Rei, R., Stewart, C., Farinha, A. C., and Lavie, A. (2020).

</span>
<span class="ltx_bibblock">COMET: A neural framework for MT evaluation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">Proceedings of the 2020 Conference on Empirical Methods in
Natural Language Processing (EMNLP)</span>, pages 2685–2702. Association for
Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robertson et al.,  (1995)</span>
<span class="ltx_bibblock">
Robertson, S. E., Walker, S., Jones, S., Hancock-Beaulieu, M. M., Gatford, M.,
et al. (1995).

</span>
<span class="ltx_bibblock">Okapi at trec-3.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">Nist Special Publication Sp</span>, 109:109.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Snover et al.,  (2006)</span>
<span class="ltx_bibblock">
Snover, M., Dorr, B., Schwartz, R., Micciulla, L., and Makhoul, J. (2006).

</span>
<span class="ltx_bibblock">A study of translation edit rate with targeted human annotation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 7th Conference of the Association for
Machine Translation in the Americas: Technical Papers</span>, pages 223–231.
Association for Machine Translation in the Americas.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Toutanova et al.,  (2003)</span>
<span class="ltx_bibblock">
Toutanova, K., Klein, D., Manning, C. D., and Singer, Y. (2003).

</span>
<span class="ltx_bibblock">Feature-rich part-of-speech tagging with a cyclic dependency network.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 2003 Human Language Technology Conference
of the North American Chapter of the Association for Computational
Linguistics</span>, pages 252–259.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron et al.,  (2023)</span>
<span class="ltx_bibblock">
Touvron, H., Lavril, T., Izacard, G., Martinet, X., Lachaux, M.-A., Lacroix,
T., Rozière, B., Goyal, N., Hambro, E., Azhar, F., Rodriguez, A., Joulin,
A., Grave, E., and Lample, G. (2023).

</span>
<span class="ltx_bibblock">Llama: Open and efficient foundation language models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">ArXiv preprint</span>, abs/2302.13971.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al.,  (2022)</span>
<span class="ltx_bibblock">
Wang, D., Wei, H., Zhang, Z., Huang, S., Xie, J., and Chen, J. (2022).

</span>
<span class="ltx_bibblock">Non-parametric online learning from human feedback for neural machine
translation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">Thirty-Sixth AAAI Conference on Artificial Intelligence,
AAAI 2022, Thirty-Fourth Conference on Innovative Applications of
Artificial Intelligence, IAAI 2022, The Twelveth Symposium on Educational
Advances in Artificial Intelligence, EAAI 2022 Virtual Event, February 22 -
March 1, 2022</span>, pages 11431–11439. AAAI Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al.,  (2022)</span>
<span class="ltx_bibblock">
Wu, X., Xiao, L., Sun, Y., Zhang, J., Ma, T., and He, L. (2022).

</span>
<span class="ltx_bibblock">A survey of human-in-the-loop for machine learning.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">Future Generation Computer Systems</span>, 135:364–381.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al.,  (2023)</span>
<span class="ltx_bibblock">
Zhang, B., Haddow, B., and Birch, A. (2023).

</span>
<span class="ltx_bibblock">Prompting large language model for machine translation: A case study.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib16.1.1">ArXiv preprint</span>, abs/2301.07069.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al.,  (2020)</span>
<span class="ltx_bibblock">
Zhang, T., Kishore, V., Wu, F., Weinberger, K. Q., and Artzi, Y. (2020).

</span>
<span class="ltx_bibblock">Bertscore: Evaluating text generation with BERT.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib17.1.1">8th International Conference on Learning Representations,
ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</span>. OpenReview.net.

</span>
</li>
</ul>
</section>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix: Related Work</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>ICL-based MT</h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1"><cite class="ltx_cite ltx_citemacro_cite">Agrawal et al., (<a class="ltx_ref" href="#bib.bib1" title="">2022</a>)</cite> proposed an ICL example selection method for machine translation, aiming to explore the impact of ICL examples on translation output quality.
To address the issues in existing BM25 retrieval methods, the proposed approach re-ranks the top 100 candidate sentences selected by the BM25 score and introduces a re-ranking score, thereby maximizing the coverage of input words.
<cite class="ltx_cite ltx_citemacro_cite">Zhang et al., (<a class="ltx_ref" href="#bib.bib16" title="">2023</a>)</cite> aims to explore different prompts in the context of LLM-based machine translation. In comparison to previous related research, the main innovation of this study lies in exploring how to design prompts for LLMs to enhance their translation capabilities from three different perspectives. Specifically, the research investigates different prompting strategies, the utilization of unlabeled data, and the flexibility of transfer learning.
These research achievements demonstrate the significant value of ICL in improving the quality of machine translation systems.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Human-in-the-Loop MT</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">The concept of Human-in-the-Loop (HIL) <cite class="ltx_cite ltx_citemacro_citep">(Wu et al.,, <a class="ltx_ref" href="#bib.bib15" title="">2022</a>)</cite> aims to leverage user feedback for optimizing the model.
Building on this idea, <cite class="ltx_cite ltx_citemacro_cite">Wang et al., (<a class="ltx_ref" href="#bib.bib14" title="">2022</a>)</cite> proposes a novel non-parametric online learning method called kNN-over-kNN (KoK) that does not alter the model structure. KoK is a plug-and-play non-parametric approach that learns online based on human feedback, reducing the number of user interactions and improving machine translation model performance.
The online learning process of KoK involves three steps: decoding, correcting, and adapting. In the decoding phase, the MT system translates the source sentence, and the output is obtained by weighting the KoK method and kNN-MT. In the correcting phase, users provide corrections of the machine-translated text, resulting in the post-edited translation. Finally, in the adapting phase, post-edited and source sentences are jointly used to expand the data repositories of token-kNN and policy-kNN, thereby optimizing the model. Through these three steps, the KoK framework can promptly influence the kNN translation model’s decision-making.
It is worth noting that, as of now, the HIL method has not been applied to LLM translation. Our paper focuses on exploring the potential integration of HIL into LLM translation to further enhance its performance and capabilities.</p>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Oct 13 07:11:06 2023 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>

<div class="package-alerts" role="alert">
<button aria-label="Dismiss alert" onclick="closePopup()">
<span aria-hidden="true"><svg aria-hidden="true" focusable="false" height="30" role="presentation" viewbox="0 0 44 44" width="30">
<path d="M0.549989 4.44999L4.44999 0.549988L43.45 39.55L39.55 43.45L0.549989 4.44999Z"></path>
<path d="M39.55 0.549988L43.45 4.44999L4.44999 43.45L0.549988 39.55L39.55 0.549988Z"></path>
</svg></span>
</button>
<p>HTML conversions sometimes display errors due to content that did not convert correctly from the source. This paper uses the following packages that are not yet supported by the HTML conversion tool. Feedback on these issues are not necessary; they are known and are being worked on.</p>
<ul>
<li>failed: layout</li>
<li>failed: arydshln</li>
</ul>
<p>Authors: achieve the best HTML results from your LaTeX submissions by selecting from this list of <a href="https://corpora.mathweb.org/corpus/arxmliv/tex_to_html/info/loaded_file" target="_blank">supported packages</a>.</p>
</div>
<script>
            function closePopup() {
                document.querySelector('.package-alerts').style.display = 'none';
            }
        </script>
</body>
</html>
