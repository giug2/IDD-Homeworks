<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>NudgeRank: Digital Algorithmic Nudging for Personalized Health</title>
<!--Generated on Tue Jul 16 07:41:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Recommender System; Nudging; Personalization; Health; Physical Activity; Knowledge Graph; Neural Network; Behavior" lang="en" name="keywords"/>
<base href="/html/2407.20241v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S1" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S2" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>System Design</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1" title="In 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>NudgeRank System</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS1" title="In 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.1 </span>Data Collection: Nudge Library and Participant Data</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS2" title="In 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.2 </span>Knowledge Graph Neural Network Recommender System</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS3" title="In 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.3 </span>Constraints Filter</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS4" title="In 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.4 </span>Content Personalizer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS5" title="In 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1.5 </span>NudgeAPI</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2" title="In 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Design Considerations</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS1" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.1 </span>Personalization and Contextualization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS2" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.2 </span>Cold Start</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS3" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.3 </span>Business Rules and Constraints</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS4" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.4 </span>Performance and Resilience</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS5" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.5 </span>Operations and Automation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS2.SSS6" title="In 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2.6 </span>Security and Privacy</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.SS1" title="In 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Model Performance</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.SS2" title="In 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Impact of Nudging on Physical Activity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.SS3" title="In 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>System Scalability and Performance</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S5" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Discussion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1" title="In NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Appendix: Population Health and Nudge Efficacy Results</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.SS1" title="In Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Background</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.SS2" title="In Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Study Design</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.SS3" title="In Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Results</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">NudgeRank: Digital Algorithmic Nudging for Personalized Health</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jodi Chiam
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">CueZen, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Singapore</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">Singapore</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jodi.chiam@cuezen.com">jodi.chiam@cuezen.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Aloysius Lim
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">CueZen, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Singapore</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">Singapore</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:aloysius.lim@cuezen.com">aloysius.lim@cuezen.com</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ankur Teredesai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">CueZen, Inc.</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Seattle</span><span class="ltx_text ltx_affiliation_state" id="id9.3.id3">WA</span><span class="ltx_text ltx_affiliation_country" id="id10.4.id4">United States</span><span class="ltx_text ltx_affiliation_postcode" id="id11.5.id5">98402</span>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id12.6.id1">University of Washington</span><span class="ltx_text ltx_affiliation_city" id="id13.7.id2">Tacoma</span><span class="ltx_text ltx_affiliation_state" id="id14.8.id3">WA</span><span class="ltx_text ltx_affiliation_country" id="id15.9.id4">United States</span><span class="ltx_text ltx_affiliation_postcode" id="id16.10.id5">98402</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:ankurt@uw.edu">ankurt@uw.edu</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id17.id1">In this paper we describe NudgeRank™, an innovative digital algorithmic nudging system designed to foster positive health behaviors on a population-wide scale. Utilizing a novel combination of Graph Neural Networks augmented with an extensible Knowledge Graph, this Recommender System is operational in production, delivering personalized and context-aware nudges to over 1.1 million care recipients daily. This enterprise deployment marks one of the largest AI-driven health behavior change initiatives, accommodating diverse health conditions and wearable devices. Rigorous evaluation reveals statistically significant improvements in health outcomes, including a 6.17% increase in daily steps and 7.61% more exercise minutes. Moreover, user engagement and program enrollment surged, with a 13.1% open rate compared to baseline systems’ 4%. Demonstrating scalability and reliability, NudgeRank™ operates efficiently on commodity compute resources while maintaining automation and observability standards essential for production systems.</p>
</div>
<div class="ltx_keywords">Recommender System; Nudging; Personalization; Health; Physical Activity; Knowledge Graph; Neural Network; Behavior
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>rightsretained</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining; August 25–29, 2024; Barcelona, Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 30th ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD ’24), August 25–29, 2024, Barcelona, Spain</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3637528.3671562</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0490-1/24/08</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id8"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Applied computing Consumer health</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id9"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Neural networks</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id10"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Learning from implicit feedback</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recommender Systems (RecSys) are pivotal and have been deployed in production across various industries, including e-commerce <cite class="ltx_cite ltx_citemacro_citep">(Linden et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib16" title="">2003</a>)</cite>, streaming services <cite class="ltx_cite ltx_citemacro_citep">(Covington et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib8" title="">2016</a>)</cite>, music <cite class="ltx_cite ltx_citemacro_citep">(Anderson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib3" title="">2020</a>)</cite>, and social media <cite class="ltx_cite ltx_citemacro_citep">(Ying et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib31" title="">2018</a>)</cite>. They enable users to discover relevant items amidst overwhelming choices, enhancing engagement and satisfaction. This, in turn, drives growth for platforms and their user base.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">In healthcare, RecSys play a crucial role, aiding both clinicians and patients. For example, they support clinical decision-making with drug recommendations considering patient history of allergies and drug interactions <cite class="ltx_cite ltx_citemacro_citep">(Doulaverakis et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib9" title="">2014</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib5" title="">2011</a>)</cite>, facilitate finding suitable healthcare providers <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib33" title="">2021</a>)</cite>, and enable access to relevant health information <cite class="ltx_cite ltx_citemacro_citep">(Sanchez Bocanegra et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib25" title="">2017</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Despite these advancements, leveraging RecSys for <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">digital algorithmic nudging</span> to promote healthy lifestyles across a large population remains underexplored. With the ubiquity of health devices and wearables, the data collected—ranging from physical activity (steps, active exercise minutes) to vital signs (heart rate, oxygen saturation, blood glucose)—offers a comprehensive view of an individual’s health behavior and states. Such data is used, with consent, to motivate health tracking and behavior modification through <span class="ltx_text ltx_font_italic" id="S1.p3.1.2">nudges</span>, a concept rooted in behavioral economics about choices presented to guide individuals towards desired behaviors <cite class="ltx_cite ltx_citemacro_citep">(Thaler and Sunstein, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib26" title="">2009</a>)</cite>. Several wearable device manufacturers use rule based systems to generate nudges that aim to guide the consumer to focus on certain activities. In general health and wellness settings, such nudges can encourage users to exercise more, get enough sleep, quit smoking and reduce alcohol intake, and even help develop healthy eating habits. Similarly in clinical healthcare settings nudges can help increase patient engagement for improving outcomes such as medication adherence, increasing screening rates for early detection of cancers, and encouraging clinical-trial patients to stay on protocol. In general, some level of nudging is recognized as useful for most people, whether they are healthy, or if they have a noncommunicable disease (NCD) like diabetes or cardiovascular disease, where behavior modifications are critical for preventing disease progression and complications. At a population level, more individuals adopting healthy behaviors can reduce the incidence and burden of NCDs, which are responsible for 74% of deaths globally <cite class="ltx_cite ltx_citemacro_citep">(Riley and Cowan, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib23" title="">2022</a>; Organization, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib20" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Achieving such sustained behavior change at a large population scale presents two notable challenges from socioeconomic and technical perspectives.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">First, changing human behavior is hard. People are creatures of habit. To be effective, nudges need to be <span class="ltx_text ltx_font_italic" id="S1.p5.1.1">personalized</span> to the recipient and <span class="ltx_text ltx_font_italic" id="S1.p5.1.2">contextual</span> to their circumstances. Nudges also have to be perceived to be coming from a human expert, and must be relevant and useful. In contrast to traditional outreach methods like billboards and mass emails, a RecSys can provide a much more private and intimate user experience by sending nudges on a regular basis and saying the appropriate thing at the right time, which can ultimately contribute to sustained behavior change.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Second, implementing a RecSys for personalized health nudging at population scale requires the system to address numerous technical challenges. It has to be highly compliant to care protocols, while being scalable and performant to generate recommendations for millions of users in real-time, or hourly, or daily. It needs to be easily configurable to meet specific business and compliance requirements of each local region and a variety of health goals. Such a system also needs to be reliable to operate in a production setting without any major downtimes and failures given the clinical importance of the interactions. It must be fully automated to gather performance and health metrics continuously; and capable of addressing issues like new user and new health goal cold start in a health setting where traditional methods may not apply directly.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">In this paper we describe one such system we developed termed NudgeRank™: a RecSys for digital algorithmic nudging for health. It is currently deployed in collaboration with the Health Promotion Board of Singapore (HPB) to support health and wellness goals of the nation. NudgeRank™ has been running in production since July 2022, and scales to send digital personalized nudges to over 1.1 million active users of HPB’s Healthy 365 mobile app. Users sync their fitness trackers to the app and monitor progress in various health and wellness programs including physical activity like steps and moderate to vigorous physical activity (MVPA), and nudges are delivered via push notifications. We evaluated the effectiveness of algorithmic nudging in engaging users as well as efficacy of enabling changes in health behaviors, model performance, and overall system performance.</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">The main contributions of this work are:</p>
</div>
<div class="ltx_para" id="S1.p9">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We describe a novel Graph Neural Network (GNN) based digital algorithmic nudging recommendation system for personalized health, with deployment details and results that can be applied to a wide range of health use cases and behaviors.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We complemented the GNN with an extensible Knowledge Graph framework to capture rich information about care recipients’ states and behaviors coming from lifestyle and health data sources like wearables and health records, to contextualize and personalize the nudges for individuals.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We deployed the system to encourage awareness of improving physical activity levels in a large population (¿ 1 million users) in Singapore, and demonstrated its efficacy at health metrics such as improving step count and MVPA across the population.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We demonstrated that the deployed system meets stringent compliance criteria for nudges, and is able to handle the scalability and reliability requirements of the overall system to operate in production at population scale.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The landscape of health behavior nudging encompasses a spectrum of strategies, from basic environmental cues to sophisticated digital interventions. For decades, policy makers have encouraged approaches that have utilized methods such as strategic placement of milk and vegetables to promote nutritional needs of consumers <cite class="ltx_cite ltx_citemacro_citep">(Mistura et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib17" title="">2019</a>)</cite>, used socially targeted messages on shopping trolleys to increase vegetable purchases <cite class="ltx_cite ltx_citemacro_citep">(Huitink et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib13" title="">2020</a>)</cite>, and the alteration of trash bag colors to improve waste disposal practices <cite class="ltx_cite ltx_citemacro_citep">(Abdel Sater et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib2" title="">2023</a>)</cite> for example. Despite their merits, these methods lack personalization and context-awareness necessary for broader applicability.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">Advancements in consumer technology and Just-In-Time Adaptive Interventions (JITAIs) signify a shift towards leveraging mobile and sensor technologies for real-time data collection about users’ changing internal and contextual states, enabling timely and relevant nudges <cite class="ltx_cite ltx_citemacro_citep">(Nahum-Shani et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib18" title="">2018</a>)</cite>. These interventions span such a variety of health domains, including physical activity <cite class="ltx_cite ltx_citemacro_citep">(Consolvo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib7" title="">2008</a>)</cite>, alcohol cessation <cite class="ltx_cite ltx_citemacro_citep">(Gustafson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib11" title="">2014</a>)</cite>, smoking cessation <cite class="ltx_cite ltx_citemacro_citep">(Riley et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib24" title="">2008</a>)</cite>, and weight loss <cite class="ltx_cite ltx_citemacro_citep">(Patrick et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib21" title="">2009</a>)</cite> that it is impossible to cite all the relevant studies here and we point the reader to but few of the ones we found interesting. For example, Consolvo et al., used a personalized display to visualize the user’s progress towards daily physical activity goals, but did not send any messages<cite class="ltx_cite ltx_citemacro_citep">(Consolvo et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib7" title="">2008</a>)</cite>. Gustafson et al., addressed this and applied decision rules to send text messages: to send an alert if the user’s GPS location is in the proximity of a high-risk area for alcohol consumption <cite class="ltx_cite ltx_citemacro_citep">(Gustafson et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib11" title="">2014</a>)</cite>. Riley et al., send messages as users progress through different stages of their care plans <cite class="ltx_cite ltx_citemacro_citep">(Riley et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib24" title="">2008</a>)</cite>, and Patrick et al. incorporate a library of 1,500 decision rules to decide which message to send and when, based on user’s state <cite class="ltx_cite ltx_citemacro_citep">(Patrick et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib21" title="">2009</a>)</cite>. While these interventions are context-sensitive, their reliance on a universal set of decision rules limits their personalization capacity.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Application of Machine Learning (ML) has increasingly enabled personalization of health interventions to adjust to individual preferences. Notably, the HeartSteps app employs Reinforcement Learning to tailor the timing of nudges <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib15" title="">2020</a>)</cite>, while other studies utilize hierarchical clustering and binary classification to refine daily goal recommendations <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib14" title="">2018</a>)</cite> and employ LSTM models for exercise recommendations based on predicted heart rate profiles <cite class="ltx_cite ltx_citemacro_citep">(Ni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib19" title="">2019</a>)</cite>. These approaches were designed to offer study-specific personalization for a single goal and don’t report results across simultaenous multiple health outcomes, an important criteria necessary to address poly-chronic and multiple comorbidities that exist in any population which our deployed system addresses in an extensible way.</p>
</div>
<div class="ltx_para" id="S2.p4">
<p class="ltx_p" id="S2.p4.1">We demonstrate that an AI driven extensible RecSys can offer a versatile foundation for developing personalized nudge systems applicable across various health scenarios. We were motivated by other preliminary successes in targeted studies, such as smoking cessation efforts achieving significantly higher abstinence rates with personalized messaging <cite class="ltx_cite ltx_citemacro_citep">(Hors-Fraile et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib12" title="">2018</a>; Carrasco-Hernandez et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib4" title="">2020</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S2.p5">
<p class="ltx_p" id="S2.p5.1">Based on the demonstrated commercial success of RecSys in significant operational contexts across various industries, we posited that a newly devised RecSys tailored for healthcare could sufficiently meet the requirements to establish a population-scale nudging mechanism. Our inquiry is predicated on the notion that RecSys, particularly those enhanced with knowledge graphs, possess the capability to adeptly expand personalized health nudging initiatives. Knowledge graphs offer the flexibility to assimilate a wide array of health-related information, encompassing data from fitness tracker activities to various smart sensors and clinical records, without necessitating extensive feature engineering efforts. This approach not only enriches the contextual basis for personalization but also leverages semantic relationships for more nuanced recommendations. Examples of knowledge-enhanced RecSys include RippleNet <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib28" title="">2018</a>)</cite> and KGCN <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib29" title="">2019b</a>)</cite>, which utilize knowledge graphs for item recommendations, KGAT <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib30" title="">2019a</a>)</cite>, KNI <cite class="ltx_cite ltx_citemacro_citep">(Qu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib22" title="">2019</a>)</cite>, which integrate user-item interactions for a comprehensive understanding of user preferences, and IntentGC <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib32" title="">2019</a>)</cite> which captures knowledge about users.</p>
</div>
<div class="ltx_para" id="S2.p6">
<p class="ltx_p" id="S2.p6.1">To the best of our knowledge, this paper introduces the first GNN and Knowledge Graph augmented deployment of a RecSys for nudging for health that is capable of dynamically generating personalized nudges for millions of users. Our system design described in the next section demonstrates the practical application and effectiveness of this approach for real-world enterprise health setting.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>System Design</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">NudgeRank™ by design is agnostic to specific health scenarios. While we present the system design and evaluation of nudging for population health promotion, it is also being used in other use cases where it is important to sustain desired health behaviors, like chronic disease management and pre- or post-surgical care.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>NudgeRank System</h3>
<figure class="ltx_figure" id="S3.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="252" id="S3.F1.g1" src="extracted/5734210/Figure-NudgeRank_System.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>NudgeRank™ system that automatically generates personalized health nudges for millions of users daily, integrated with mobile app to deliver of nudges via push notifications and collect contextual and nudge engagement data.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F1.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F1.2">The diagram shows a schematic and main components of the NudgeRank™ system, including Nudge Library, Participant Data, Personal Candidate Nudge Generator, NudgeRank™ Knowledge Graph Constructor, NudgeRank GNN RecSys, Model Trainer, Constraints Filter, Content Personalizer, and NudgeAPI.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">The NudgeRank™ system is depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.F1" title="Figure 1 ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">1</span></a>, highlighting its primary components.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.1. </span>Data Collection: Nudge Library and Participant Data</h4>
<div class="ltx_para" id="S3.SS1.SSS1.p1">
<p class="ltx_p" id="S3.SS1.SSS1.p1.1">The system commences by aggregating essential data. The <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS1.p1.1.1">Nudge Library</span> enables care program manager to author nudge templates that can be personalized for end users. <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS1.p1.1.2">Participant data</span>, encompassing demographics, health behaviors, and more, are sourced via API from mobile apps or other databases, including electronic health records. This dataset is enriched by user-item interactions, capturing engagement with the nudges, including opening or rating them (e.g. thumbs up or down).</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.2. </span>Knowledge Graph Neural Network Recommender System</h4>
<div class="ltx_para" id="S3.SS1.SSS2.p1">
<p class="ltx_p" id="S3.SS1.SSS2.p1.1">Data preparation for the RecSys involves the <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p1.1.1">Personal Candidate Nudge Generator</span> generating a tailored list of candidate nudges for each user based on predefined targeting rules. For example, some nudges may only be targeted at users over 60 years old who have walked less than 5,000 steps in the previous week.</p>
</div>
<figure class="ltx_figure" id="S3.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="324" id="S3.F2.g1" src="extracted/5734210/Figure-NudgeRank_KG_Model.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>NudgeRank™ Knowledge Graph.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F2.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F2.2">The figure shows examples of entities and relations captured in the NudgeRank™ Knowledge Graph.</p>
</div>
</div>
</figure>
<figure class="ltx_figure" id="S3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="186" id="S3.F3.g1" src="extracted/5734210/Figure-NudgeRank_GNN.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>NudgeRank™ Knowledge Graph Neural Network.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S3.F3.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S3.F3.2">The architecture of the NudgeRank RecSys, including dynamic graph update, attentive convolution layers, and prediction layer.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS1.SSS2.p2">
<p class="ltx_p" id="S3.SS1.SSS2.p2.5">The <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.1">NudgeRank™ Knowledge Graph Constructor</span> forms a heterogeneous knowledge graph, capturing the complex interplay between users, nudges, and their attributes. This graph dynamically updates in response to new user data, ensuring recommendations reflect the current contextual state of each user. Users and nudges are represented as nodes in the graph, and directed edges capture the history of user’s past interactions with the nudges. In the example in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.F2" title="Figure 2 ‣ 3.1.2. Knowledge Graph Neural Network Recommender System ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">2</span></a>, user <math alttext="u_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p2.1.m1.1"><semantics id="S3.SS1.SSS2.p2.1.m1.1a"><msub id="S3.SS1.SSS2.p2.1.m1.1.1" xref="S3.SS1.SSS2.p2.1.m1.1.1.cmml"><mi id="S3.SS1.SSS2.p2.1.m1.1.1.2" xref="S3.SS1.SSS2.p2.1.m1.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p2.1.m1.1.1.3" xref="S3.SS1.SSS2.p2.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.1.m1.1b"><apply id="S3.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.1.m1.1.1.1.cmml" xref="S3.SS1.SSS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p2.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p2.1.m1.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p2.1.m1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.1.m1.1c">u_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p2.1.m1.1d">italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> opened nudge <math alttext="n_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p2.2.m2.1"><semantics id="S3.SS1.SSS2.p2.2.m2.1a"><msub id="S3.SS1.SSS2.p2.2.m2.1.1" xref="S3.SS1.SSS2.p2.2.m2.1.1.cmml"><mi id="S3.SS1.SSS2.p2.2.m2.1.1.2" xref="S3.SS1.SSS2.p2.2.m2.1.1.2.cmml">n</mi><mn id="S3.SS1.SSS2.p2.2.m2.1.1.3" xref="S3.SS1.SSS2.p2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.2.m2.1b"><apply id="S3.SS1.SSS2.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.2.m2.1.1.1.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p2.2.m2.1.1.2.cmml" xref="S3.SS1.SSS2.p2.2.m2.1.1.2">𝑛</ci><cn id="S3.SS1.SSS2.p2.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.2.m2.1c">n_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p2.2.m2.1d">italic_n start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and rated it ”useful”. Users’ attributes and behaviors are represented by binary <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.2">markers</span>, which are classified into <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.3">topics</span>. For example, user <math alttext="u_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p2.3.m3.1"><semantics id="S3.SS1.SSS2.p2.3.m3.1a"><msub id="S3.SS1.SSS2.p2.3.m3.1.1" xref="S3.SS1.SSS2.p2.3.m3.1.1.cmml"><mi id="S3.SS1.SSS2.p2.3.m3.1.1.2" xref="S3.SS1.SSS2.p2.3.m3.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p2.3.m3.1.1.3" xref="S3.SS1.SSS2.p2.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.3.m3.1b"><apply id="S3.SS1.SSS2.p2.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.3.m3.1.1.1.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p2.3.m3.1.1.2.cmml" xref="S3.SS1.SSS2.p2.3.m3.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p2.3.m3.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.3.m3.1c">u_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p2.3.m3.1d">italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> has the markers <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.4">”age: 30s”</span>, <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.5">”BMI: normal”</span> and <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.6">”steps: 2.5k”</span>. While the figure only illustrates a few markers, the actual graph contains over 130 markers, and can be easily extended with more data sources and adapted to more use cases, e.g. HbA1C or blood glucose markers for diabetes. The graph also captures knowledge about the nudges. For example, nudge <math alttext="n_{2}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p2.4.m4.1"><semantics id="S3.SS1.SSS2.p2.4.m4.1a"><msub id="S3.SS1.SSS2.p2.4.m4.1.1" xref="S3.SS1.SSS2.p2.4.m4.1.1.cmml"><mi id="S3.SS1.SSS2.p2.4.m4.1.1.2" xref="S3.SS1.SSS2.p2.4.m4.1.1.2.cmml">n</mi><mn id="S3.SS1.SSS2.p2.4.m4.1.1.3" xref="S3.SS1.SSS2.p2.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.4.m4.1b"><apply id="S3.SS1.SSS2.p2.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.4.m4.1.1.1.cmml" xref="S3.SS1.SSS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p2.4.m4.1.1.2.cmml" xref="S3.SS1.SSS2.p2.4.m4.1.1.2">𝑛</ci><cn id="S3.SS1.SSS2.p2.4.m4.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p2.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.4.m4.1c">n_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p2.4.m4.1d">italic_n start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> targets segment <math alttext="s_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p2.5.m5.1"><semantics id="S3.SS1.SSS2.p2.5.m5.1a"><msub id="S3.SS1.SSS2.p2.5.m5.1.1" xref="S3.SS1.SSS2.p2.5.m5.1.1.cmml"><mi id="S3.SS1.SSS2.p2.5.m5.1.1.2" xref="S3.SS1.SSS2.p2.5.m5.1.1.2.cmml">s</mi><mn id="S3.SS1.SSS2.p2.5.m5.1.1.3" xref="S3.SS1.SSS2.p2.5.m5.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p2.5.m5.1b"><apply id="S3.SS1.SSS2.p2.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p2.5.m5.1.1.1.cmml" xref="S3.SS1.SSS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p2.5.m5.1.1.2.cmml" xref="S3.SS1.SSS2.p2.5.m5.1.1.2">𝑠</ci><cn id="S3.SS1.SSS2.p2.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p2.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p2.5.m5.1c">s_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p2.5.m5.1d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p2.5.7">”Inactive Young Adults”</span>, and was written to encourage them to walk more steps.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p3">
<p class="ltx_p" id="S3.SS1.SSS2.p3.1">We extend prior efforts (<cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib28" title="">2018</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib29" title="">2019b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib30" title="">2019a</a>; Qu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib22" title="">2019</a>; Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib32" title="">2019</a>)</cite>) in two important ways for algorithmic digital nudging in health:</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p4">
<p class="ltx_p" id="S3.SS1.SSS2.p4.7">First, besides capturing knowledge about items, the knowledge graph also captures knowledge about users, such as their demographics, health behaviors and segments. Furthermore, it captures shared knowledge between users and items, in addition to their interaction histories. For example, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.F2" title="Figure 2 ‣ 3.1.2. Knowledge Graph Neural Network Recommender System ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">2</span></a>, users <math alttext="u_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.1.m1.1"><semantics id="S3.SS1.SSS2.p4.1.m1.1a"><msub id="S3.SS1.SSS2.p4.1.m1.1.1" xref="S3.SS1.SSS2.p4.1.m1.1.1.cmml"><mi id="S3.SS1.SSS2.p4.1.m1.1.1.2" xref="S3.SS1.SSS2.p4.1.m1.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p4.1.m1.1.1.3" xref="S3.SS1.SSS2.p4.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.1.m1.1b"><apply id="S3.SS1.SSS2.p4.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.1.m1.1.1.1.cmml" xref="S3.SS1.SSS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p4.1.m1.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p4.1.m1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.1.m1.1c">u_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.1.m1.1d">italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="u_{3}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.2.m2.1"><semantics id="S3.SS1.SSS2.p4.2.m2.1a"><msub id="S3.SS1.SSS2.p4.2.m2.1.1" xref="S3.SS1.SSS2.p4.2.m2.1.1.cmml"><mi id="S3.SS1.SSS2.p4.2.m2.1.1.2" xref="S3.SS1.SSS2.p4.2.m2.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p4.2.m2.1.1.3" xref="S3.SS1.SSS2.p4.2.m2.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.2.m2.1b"><apply id="S3.SS1.SSS2.p4.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.2.m2.1.1.1.cmml" xref="S3.SS1.SSS2.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.2.m2.1.1.2.cmml" xref="S3.SS1.SSS2.p4.2.m2.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p4.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.2.m2.1c">u_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.2.m2.1d">italic_u start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> are in segment <math alttext="s_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.3.m3.1"><semantics id="S3.SS1.SSS2.p4.3.m3.1a"><msub id="S3.SS1.SSS2.p4.3.m3.1.1" xref="S3.SS1.SSS2.p4.3.m3.1.1.cmml"><mi id="S3.SS1.SSS2.p4.3.m3.1.1.2" xref="S3.SS1.SSS2.p4.3.m3.1.1.2.cmml">s</mi><mn id="S3.SS1.SSS2.p4.3.m3.1.1.3" xref="S3.SS1.SSS2.p4.3.m3.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.3.m3.1b"><apply id="S3.SS1.SSS2.p4.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.3.m3.1.1.1.cmml" xref="S3.SS1.SSS2.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.3.m3.1.1.2.cmml" xref="S3.SS1.SSS2.p4.3.m3.1.1.2">𝑠</ci><cn id="S3.SS1.SSS2.p4.3.m3.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.3.m3.1c">s_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.3.m3.1d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> since they are both in their 20’s and 30’s, and have not been active in either steps or MVPA. Nudge <math alttext="n_{2}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.4.m4.1"><semantics id="S3.SS1.SSS2.p4.4.m4.1a"><msub id="S3.SS1.SSS2.p4.4.m4.1.1" xref="S3.SS1.SSS2.p4.4.m4.1.1.cmml"><mi id="S3.SS1.SSS2.p4.4.m4.1.1.2" xref="S3.SS1.SSS2.p4.4.m4.1.1.2.cmml">n</mi><mn id="S3.SS1.SSS2.p4.4.m4.1.1.3" xref="S3.SS1.SSS2.p4.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.4.m4.1b"><apply id="S3.SS1.SSS2.p4.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.4.m4.1.1.1.cmml" xref="S3.SS1.SSS2.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.4.m4.1.1.2.cmml" xref="S3.SS1.SSS2.p4.4.m4.1.1.2">𝑛</ci><cn id="S3.SS1.SSS2.p4.4.m4.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.4.m4.1c">n_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.4.m4.1d">italic_n start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> targets segment <math alttext="s_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.5.m5.1"><semantics id="S3.SS1.SSS2.p4.5.m5.1a"><msub id="S3.SS1.SSS2.p4.5.m5.1.1" xref="S3.SS1.SSS2.p4.5.m5.1.1.cmml"><mi id="S3.SS1.SSS2.p4.5.m5.1.1.2" xref="S3.SS1.SSS2.p4.5.m5.1.1.2.cmml">s</mi><mn id="S3.SS1.SSS2.p4.5.m5.1.1.3" xref="S3.SS1.SSS2.p4.5.m5.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.5.m5.1b"><apply id="S3.SS1.SSS2.p4.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.5.m5.1.1.1.cmml" xref="S3.SS1.SSS2.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.5.m5.1.1.2.cmml" xref="S3.SS1.SSS2.p4.5.m5.1.1.2">𝑠</ci><cn id="S3.SS1.SSS2.p4.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.5.m5.1c">s_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.5.m5.1d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and has a ”steps” goal, and would therefore be a candidate nudge to encourage <math alttext="u_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.6.m6.1"><semantics id="S3.SS1.SSS2.p4.6.m6.1a"><msub id="S3.SS1.SSS2.p4.6.m6.1.1" xref="S3.SS1.SSS2.p4.6.m6.1.1.cmml"><mi id="S3.SS1.SSS2.p4.6.m6.1.1.2" xref="S3.SS1.SSS2.p4.6.m6.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p4.6.m6.1.1.3" xref="S3.SS1.SSS2.p4.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.6.m6.1b"><apply id="S3.SS1.SSS2.p4.6.m6.1.1.cmml" xref="S3.SS1.SSS2.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.6.m6.1.1.1.cmml" xref="S3.SS1.SSS2.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.6.m6.1.1.2.cmml" xref="S3.SS1.SSS2.p4.6.m6.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p4.6.m6.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.6.m6.1c">u_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.6.m6.1d">italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="u_{3}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p4.7.m7.1"><semantics id="S3.SS1.SSS2.p4.7.m7.1a"><msub id="S3.SS1.SSS2.p4.7.m7.1.1" xref="S3.SS1.SSS2.p4.7.m7.1.1.cmml"><mi id="S3.SS1.SSS2.p4.7.m7.1.1.2" xref="S3.SS1.SSS2.p4.7.m7.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p4.7.m7.1.1.3" xref="S3.SS1.SSS2.p4.7.m7.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p4.7.m7.1b"><apply id="S3.SS1.SSS2.p4.7.m7.1.1.cmml" xref="S3.SS1.SSS2.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p4.7.m7.1.1.1.cmml" xref="S3.SS1.SSS2.p4.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p4.7.m7.1.1.2.cmml" xref="S3.SS1.SSS2.p4.7.m7.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p4.7.m7.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p4.7.m7.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p4.7.m7.1c">u_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p4.7.m7.1d">italic_u start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> to walk more steps. By capturing all the knowledge about users and nudges and the relationships between them, the knowledge graph provides a rich representation of the world for the RecSys to finely tailor nudges according to each user’s preferences and contextual states.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p5">
<p class="ltx_p" id="S3.SS1.SSS2.p5.1">Second, the graph is <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p5.1.1">dynamic</span> and updated frequently as new information about users are collected, to ensure that recommendations are always made in the context of the users’ current states and behaviors. For example, if a user had the marker <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p5.1.2">”steps: 2.5k”</span> one week ago, but the marker changed to <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS2.p5.1.3">”steps: 10k”</span> this week because the user walked more, the user’s graph connections are updated to reflect this new information, and new nudges are generated with the updated graph.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p6">
<p class="ltx_p" id="S3.SS1.SSS2.p6.1">Both the list of candidate nudges per user and the knowledge graph are fed to the RecSys, which ranks the candidate nudges for each user, based on higher-order relationships between users and items captured in the knowledge graph.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p7">
<p class="ltx_p" id="S3.SS1.SSS2.p7.21">Let <math alttext="\mathcal{U}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.1.m1.1"><semantics id="S3.SS1.SSS2.p7.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.1.m1.1.1" xref="S3.SS1.SSS2.p7.1.m1.1.1.cmml">𝒰</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.1.m1.1b"><ci id="S3.SS1.SSS2.p7.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p7.1.m1.1.1">𝒰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.1.m1.1c">\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.1.m1.1d">caligraphic_U</annotation></semantics></math> be the set of users, <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.2.m2.1"><semantics id="S3.SS1.SSS2.p7.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.2.m2.1.1" xref="S3.SS1.SSS2.p7.2.m2.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.2.m2.1b"><ci id="S3.SS1.SSS2.p7.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p7.2.m2.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.2.m2.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.2.m2.1d">caligraphic_I</annotation></semantics></math> be the set of items (nudges), <math alttext="\mathcal{E^{\prime}}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.3.m3.1"><semantics id="S3.SS1.SSS2.p7.3.m3.1a"><msup id="S3.SS1.SSS2.p7.3.m3.1.1" xref="S3.SS1.SSS2.p7.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.3.m3.1.1.2" xref="S3.SS1.SSS2.p7.3.m3.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS2.p7.3.m3.1.1.3" xref="S3.SS1.SSS2.p7.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.3.m3.1b"><apply id="S3.SS1.SSS2.p7.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.3.m3.1.1.1.cmml" xref="S3.SS1.SSS2.p7.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.SSS2.p7.3.m3.1.1.2.cmml" xref="S3.SS1.SSS2.p7.3.m3.1.1.2">ℰ</ci><ci id="S3.SS1.SSS2.p7.3.m3.1.1.3.cmml" xref="S3.SS1.SSS2.p7.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.3.m3.1c">\mathcal{E^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.3.m3.1d">caligraphic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> be the set of other entities, and <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.4.m4.1"><semantics id="S3.SS1.SSS2.p7.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.4.m4.1.1" xref="S3.SS1.SSS2.p7.4.m4.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.4.m4.1b"><ci id="S3.SS1.SSS2.p7.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p7.4.m4.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.4.m4.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.4.m4.1d">caligraphic_R</annotation></semantics></math> be the set of relation types. Then, the dynamic NudgeRank™ Knowledge Graph at time <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.5.m5.1"><semantics id="S3.SS1.SSS2.p7.5.m5.1a"><mi id="S3.SS1.SSS2.p7.5.m5.1.1" xref="S3.SS1.SSS2.p7.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.5.m5.1b"><ci id="S3.SS1.SSS2.p7.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p7.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.5.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.5.m5.1d">italic_t</annotation></semantics></math> is defined by <math alttext="\mathcal{G}_{t}=\{(a,r,b)|a,b\in\mathcal{E},r\in\mathcal{R}\}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.6.m6.7"><semantics id="S3.SS1.SSS2.p7.6.m6.7a"><mrow id="S3.SS1.SSS2.p7.6.m6.7.7" xref="S3.SS1.SSS2.p7.6.m6.7.7.cmml"><msub id="S3.SS1.SSS2.p7.6.m6.7.7.4" xref="S3.SS1.SSS2.p7.6.m6.7.7.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.6.m6.7.7.4.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.4.2.cmml">𝒢</mi><mi id="S3.SS1.SSS2.p7.6.m6.7.7.4.3" xref="S3.SS1.SSS2.p7.6.m6.7.7.4.3.cmml">t</mi></msub><mo id="S3.SS1.SSS2.p7.6.m6.7.7.3" xref="S3.SS1.SSS2.p7.6.m6.7.7.3.cmml">=</mo><mrow id="S3.SS1.SSS2.p7.6.m6.7.7.2.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.3.cmml"><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.3" stretchy="false" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.3.1.cmml">{</mo><mrow id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml"><mo id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2.1" stretchy="false" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml">(</mo><mi id="S3.SS1.SSS2.p7.6.m6.1.1" xref="S3.SS1.SSS2.p7.6.m6.1.1.cmml">a</mi><mo id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2.2" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml">,</mo><mi id="S3.SS1.SSS2.p7.6.m6.2.2" xref="S3.SS1.SSS2.p7.6.m6.2.2.cmml">r</mi><mo id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2.3" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml">,</mo><mi id="S3.SS1.SSS2.p7.6.m6.3.3" xref="S3.SS1.SSS2.p7.6.m6.3.3.cmml">b</mi><mo id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2.4" stretchy="false" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.4" lspace="0em" rspace="0em" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.3.1.cmml">|</mo><mrow id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.3.cmml"><mrow id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.cmml"><mrow id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.1.cmml"><mi id="S3.SS1.SSS2.p7.6.m6.4.4" xref="S3.SS1.SSS2.p7.6.m6.4.4.cmml">a</mi><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.2.1" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.1.cmml">,</mo><mi id="S3.SS1.SSS2.p7.6.m6.5.5" xref="S3.SS1.SSS2.p7.6.m6.5.5.cmml">b</mi></mrow><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.1" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.3" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.3.cmml">ℰ</mi></mrow><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.3" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.3a.cmml">,</mo><mrow id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.2" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.2.cmml">r</mi><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.1" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.3" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.3.cmml">ℛ</mi></mrow></mrow><mo id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.5" stretchy="false" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.6.m6.7b"><apply id="S3.SS1.SSS2.p7.6.m6.7.7.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7"><eq id="S3.SS1.SSS2.p7.6.m6.7.7.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.3"></eq><apply id="S3.SS1.SSS2.p7.6.m6.7.7.4.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.4"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.6.m6.7.7.4.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.4">subscript</csymbol><ci id="S3.SS1.SSS2.p7.6.m6.7.7.4.2.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.4.2">𝒢</ci><ci id="S3.SS1.SSS2.p7.6.m6.7.7.4.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.4.3">𝑡</ci></apply><apply id="S3.SS1.SSS2.p7.6.m6.7.7.2.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2"><csymbol cd="latexml" id="S3.SS1.SSS2.p7.6.m6.7.7.2.3.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.3">conditional-set</csymbol><vector id="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.6.6.1.1.1.2"><ci id="S3.SS1.SSS2.p7.6.m6.1.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.1.1">𝑎</ci><ci id="S3.SS1.SSS2.p7.6.m6.2.2.cmml" xref="S3.SS1.SSS2.p7.6.m6.2.2">𝑟</ci><ci id="S3.SS1.SSS2.p7.6.m6.3.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.3.3">𝑏</ci></vector><apply id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.3a.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1"><in id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.1"></in><list id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.2.2"><ci id="S3.SS1.SSS2.p7.6.m6.4.4.cmml" xref="S3.SS1.SSS2.p7.6.m6.4.4">𝑎</ci><ci id="S3.SS1.SSS2.p7.6.m6.5.5.cmml" xref="S3.SS1.SSS2.p7.6.m6.5.5">𝑏</ci></list><ci id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.1.1.3">ℰ</ci></apply><apply id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2"><in id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.1"></in><ci id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.2">𝑟</ci><ci id="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS2.p7.6.m6.7.7.2.2.2.2.2.3">ℛ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.6.m6.7c">\mathcal{G}_{t}=\{(a,r,b)|a,b\in\mathcal{E},r\in\mathcal{R}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.6.m6.7d">caligraphic_G start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { ( italic_a , italic_r , italic_b ) | italic_a , italic_b ∈ caligraphic_E , italic_r ∈ caligraphic_R }</annotation></semantics></math>, where <math alttext="\mathcal{E}=\mathcal{U}\cup\mathcal{I}\cup\mathcal{E}^{\prime}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.7.m7.1"><semantics id="S3.SS1.SSS2.p7.7.m7.1a"><mrow id="S3.SS1.SSS2.p7.7.m7.1.1" xref="S3.SS1.SSS2.p7.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.7.m7.1.1.2" xref="S3.SS1.SSS2.p7.7.m7.1.1.2.cmml">ℰ</mi><mo id="S3.SS1.SSS2.p7.7.m7.1.1.1" xref="S3.SS1.SSS2.p7.7.m7.1.1.1.cmml">=</mo><mrow id="S3.SS1.SSS2.p7.7.m7.1.1.3" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.7.m7.1.1.3.2" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.2.cmml">𝒰</mi><mo id="S3.SS1.SSS2.p7.7.m7.1.1.3.1" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.1.cmml">∪</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.7.m7.1.1.3.3" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.3.cmml">ℐ</mi><mo id="S3.SS1.SSS2.p7.7.m7.1.1.3.1a" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.1.cmml">∪</mo><msup id="S3.SS1.SSS2.p7.7.m7.1.1.3.4" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.2" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4.2.cmml">ℰ</mi><mo id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.3" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4.3.cmml">′</mo></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.7.m7.1b"><apply id="S3.SS1.SSS2.p7.7.m7.1.1.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1"><eq id="S3.SS1.SSS2.p7.7.m7.1.1.1.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.1"></eq><ci id="S3.SS1.SSS2.p7.7.m7.1.1.2.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.2">ℰ</ci><apply id="S3.SS1.SSS2.p7.7.m7.1.1.3.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3"><union id="S3.SS1.SSS2.p7.7.m7.1.1.3.1.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.1"></union><ci id="S3.SS1.SSS2.p7.7.m7.1.1.3.2.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.2">𝒰</ci><ci id="S3.SS1.SSS2.p7.7.m7.1.1.3.3.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.3">ℐ</ci><apply id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.1.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4">superscript</csymbol><ci id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.2.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4.2">ℰ</ci><ci id="S3.SS1.SSS2.p7.7.m7.1.1.3.4.3.cmml" xref="S3.SS1.SSS2.p7.7.m7.1.1.3.4.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.7.m7.1c">\mathcal{E}=\mathcal{U}\cup\mathcal{I}\cup\mathcal{E}^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.7.m7.1d">caligraphic_E = caligraphic_U ∪ caligraphic_I ∪ caligraphic_E start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math> and a triplet <math alttext="(a,r,b)" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.8.m8.3"><semantics id="S3.SS1.SSS2.p7.8.m8.3a"><mrow id="S3.SS1.SSS2.p7.8.m8.3.4.2" xref="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml"><mo id="S3.SS1.SSS2.p7.8.m8.3.4.2.1" stretchy="false" xref="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml">(</mo><mi id="S3.SS1.SSS2.p7.8.m8.1.1" xref="S3.SS1.SSS2.p7.8.m8.1.1.cmml">a</mi><mo id="S3.SS1.SSS2.p7.8.m8.3.4.2.2" xref="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml">,</mo><mi id="S3.SS1.SSS2.p7.8.m8.2.2" xref="S3.SS1.SSS2.p7.8.m8.2.2.cmml">r</mi><mo id="S3.SS1.SSS2.p7.8.m8.3.4.2.3" xref="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml">,</mo><mi id="S3.SS1.SSS2.p7.8.m8.3.3" xref="S3.SS1.SSS2.p7.8.m8.3.3.cmml">b</mi><mo id="S3.SS1.SSS2.p7.8.m8.3.4.2.4" stretchy="false" xref="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.8.m8.3b"><vector id="S3.SS1.SSS2.p7.8.m8.3.4.1.cmml" xref="S3.SS1.SSS2.p7.8.m8.3.4.2"><ci id="S3.SS1.SSS2.p7.8.m8.1.1.cmml" xref="S3.SS1.SSS2.p7.8.m8.1.1">𝑎</ci><ci id="S3.SS1.SSS2.p7.8.m8.2.2.cmml" xref="S3.SS1.SSS2.p7.8.m8.2.2">𝑟</ci><ci id="S3.SS1.SSS2.p7.8.m8.3.3.cmml" xref="S3.SS1.SSS2.p7.8.m8.3.3">𝑏</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.8.m8.3c">(a,r,b)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.8.m8.3d">( italic_a , italic_r , italic_b )</annotation></semantics></math> represents a relationship <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.9.m9.1"><semantics id="S3.SS1.SSS2.p7.9.m9.1a"><mi id="S3.SS1.SSS2.p7.9.m9.1.1" xref="S3.SS1.SSS2.p7.9.m9.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.9.m9.1b"><ci id="S3.SS1.SSS2.p7.9.m9.1.1.cmml" xref="S3.SS1.SSS2.p7.9.m9.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.9.m9.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.9.m9.1d">italic_r</annotation></semantics></math> from head node <math alttext="a" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.10.m10.1"><semantics id="S3.SS1.SSS2.p7.10.m10.1a"><mi id="S3.SS1.SSS2.p7.10.m10.1.1" xref="S3.SS1.SSS2.p7.10.m10.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.10.m10.1b"><ci id="S3.SS1.SSS2.p7.10.m10.1.1.cmml" xref="S3.SS1.SSS2.p7.10.m10.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.10.m10.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.10.m10.1d">italic_a</annotation></semantics></math> to tail node <math alttext="b" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.11.m11.1"><semantics id="S3.SS1.SSS2.p7.11.m11.1a"><mi id="S3.SS1.SSS2.p7.11.m11.1.1" xref="S3.SS1.SSS2.p7.11.m11.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.11.m11.1b"><ci id="S3.SS1.SSS2.p7.11.m11.1.1.cmml" xref="S3.SS1.SSS2.p7.11.m11.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.11.m11.1c">b</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.11.m11.1d">italic_b</annotation></semantics></math> that exists at time <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.12.m12.1"><semantics id="S3.SS1.SSS2.p7.12.m12.1a"><mi id="S3.SS1.SSS2.p7.12.m12.1.1" xref="S3.SS1.SSS2.p7.12.m12.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.12.m12.1b"><ci id="S3.SS1.SSS2.p7.12.m12.1.1.cmml" xref="S3.SS1.SSS2.p7.12.m12.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.12.m12.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.12.m12.1d">italic_t</annotation></semantics></math>. For example, the triplet <math alttext="(u_{1},in\_segment,s_{1})" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.13.m13.3"><semantics id="S3.SS1.SSS2.p7.13.m13.3a"><mrow id="S3.SS1.SSS2.p7.13.m13.3.3.3" xref="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml"><mo id="S3.SS1.SSS2.p7.13.m13.3.3.3.4" stretchy="false" xref="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml">(</mo><msub id="S3.SS1.SSS2.p7.13.m13.1.1.1.1" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1.cmml"><mi id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.2" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.3" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.SSS2.p7.13.m13.3.3.3.5" xref="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml">,</mo><mrow id="S3.SS1.SSS2.p7.13.m13.2.2.2.2" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.cmml"><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.2" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.2.cmml">i</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.3" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.3.cmml">n</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1a" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.4" mathvariant="normal" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.4.cmml">_</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1b" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.5" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.5.cmml">s</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1c" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.6" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.6.cmml">e</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1d" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.7" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.7.cmml">g</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1e" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.8" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.8.cmml">m</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1f" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.9" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.9.cmml">e</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1g" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.10" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.10.cmml">n</mi><mo id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1h" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.11" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.11.cmml">t</mi></mrow><mo id="S3.SS1.SSS2.p7.13.m13.3.3.3.6" xref="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml">,</mo><msub id="S3.SS1.SSS2.p7.13.m13.3.3.3.3" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3.cmml"><mi id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.2" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3.2.cmml">s</mi><mn id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.3" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3.3.cmml">1</mn></msub><mo id="S3.SS1.SSS2.p7.13.m13.3.3.3.7" stretchy="false" xref="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.13.m13.3b"><vector id="S3.SS1.SSS2.p7.13.m13.3.3.4.cmml" xref="S3.SS1.SSS2.p7.13.m13.3.3.3"><apply id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.cmml" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.1.cmml" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.2.cmml" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p7.13.m13.1.1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p7.13.m13.1.1.1.1.3">1</cn></apply><apply id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2"><times id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.1"></times><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.2.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.2">𝑖</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.3.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.3">𝑛</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.4.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.4">_</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.5.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.5">𝑠</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.6.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.6">𝑒</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.7.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.7">𝑔</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.8.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.8">𝑚</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.9.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.9">𝑒</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.10.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.10">𝑛</ci><ci id="S3.SS1.SSS2.p7.13.m13.2.2.2.2.11.cmml" xref="S3.SS1.SSS2.p7.13.m13.2.2.2.2.11">𝑡</ci></apply><apply id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.cmml" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.1.cmml" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.2.cmml" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3.2">𝑠</ci><cn id="S3.SS1.SSS2.p7.13.m13.3.3.3.3.3.cmml" type="integer" xref="S3.SS1.SSS2.p7.13.m13.3.3.3.3.3">1</cn></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.13.m13.3c">(u_{1},in\_segment,s_{1})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.13.m13.3d">( italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_i italic_n _ italic_s italic_e italic_g italic_m italic_e italic_n italic_t , italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math> is an edge in the graph indicating that user <math alttext="u_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.14.m14.1"><semantics id="S3.SS1.SSS2.p7.14.m14.1a"><msub id="S3.SS1.SSS2.p7.14.m14.1.1" xref="S3.SS1.SSS2.p7.14.m14.1.1.cmml"><mi id="S3.SS1.SSS2.p7.14.m14.1.1.2" xref="S3.SS1.SSS2.p7.14.m14.1.1.2.cmml">u</mi><mn id="S3.SS1.SSS2.p7.14.m14.1.1.3" xref="S3.SS1.SSS2.p7.14.m14.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.14.m14.1b"><apply id="S3.SS1.SSS2.p7.14.m14.1.1.cmml" xref="S3.SS1.SSS2.p7.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.14.m14.1.1.1.cmml" xref="S3.SS1.SSS2.p7.14.m14.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p7.14.m14.1.1.2.cmml" xref="S3.SS1.SSS2.p7.14.m14.1.1.2">𝑢</ci><cn id="S3.SS1.SSS2.p7.14.m14.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p7.14.m14.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.14.m14.1c">u_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.14.m14.1d">italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> is in segment <math alttext="s_{1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.15.m15.1"><semantics id="S3.SS1.SSS2.p7.15.m15.1a"><msub id="S3.SS1.SSS2.p7.15.m15.1.1" xref="S3.SS1.SSS2.p7.15.m15.1.1.cmml"><mi id="S3.SS1.SSS2.p7.15.m15.1.1.2" xref="S3.SS1.SSS2.p7.15.m15.1.1.2.cmml">s</mi><mn id="S3.SS1.SSS2.p7.15.m15.1.1.3" xref="S3.SS1.SSS2.p7.15.m15.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.15.m15.1b"><apply id="S3.SS1.SSS2.p7.15.m15.1.1.cmml" xref="S3.SS1.SSS2.p7.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.15.m15.1.1.1.cmml" xref="S3.SS1.SSS2.p7.15.m15.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p7.15.m15.1.1.2.cmml" xref="S3.SS1.SSS2.p7.15.m15.1.1.2">𝑠</ci><cn id="S3.SS1.SSS2.p7.15.m15.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p7.15.m15.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.15.m15.1c">s_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.15.m15.1d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>. Each node in <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.16.m16.1"><semantics id="S3.SS1.SSS2.p7.16.m16.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.16.m16.1.1" xref="S3.SS1.SSS2.p7.16.m16.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.16.m16.1b"><ci id="S3.SS1.SSS2.p7.16.m16.1.1.cmml" xref="S3.SS1.SSS2.p7.16.m16.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.16.m16.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.16.m16.1d">caligraphic_E</annotation></semantics></math> is represented by a <math alttext="d" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.17.m17.1"><semantics id="S3.SS1.SSS2.p7.17.m17.1a"><mi id="S3.SS1.SSS2.p7.17.m17.1.1" xref="S3.SS1.SSS2.p7.17.m17.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.17.m17.1b"><ci id="S3.SS1.SSS2.p7.17.m17.1.1.cmml" xref="S3.SS1.SSS2.p7.17.m17.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.17.m17.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.17.m17.1d">italic_d</annotation></semantics></math>-dimensional embedding vector <math alttext="\mathbf{e}\in\mathbb{R}^{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.18.m18.1"><semantics id="S3.SS1.SSS2.p7.18.m18.1a"><mrow id="S3.SS1.SSS2.p7.18.m18.1.1" xref="S3.SS1.SSS2.p7.18.m18.1.1.cmml"><mi id="S3.SS1.SSS2.p7.18.m18.1.1.2" xref="S3.SS1.SSS2.p7.18.m18.1.1.2.cmml">𝐞</mi><mo id="S3.SS1.SSS2.p7.18.m18.1.1.1" xref="S3.SS1.SSS2.p7.18.m18.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS2.p7.18.m18.1.1.3" xref="S3.SS1.SSS2.p7.18.m18.1.1.3.cmml"><mi id="S3.SS1.SSS2.p7.18.m18.1.1.3.2" xref="S3.SS1.SSS2.p7.18.m18.1.1.3.2.cmml">ℝ</mi><mi id="S3.SS1.SSS2.p7.18.m18.1.1.3.3" xref="S3.SS1.SSS2.p7.18.m18.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.18.m18.1b"><apply id="S3.SS1.SSS2.p7.18.m18.1.1.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1"><in id="S3.SS1.SSS2.p7.18.m18.1.1.1.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.1"></in><ci id="S3.SS1.SSS2.p7.18.m18.1.1.2.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.2">𝐞</ci><apply id="S3.SS1.SSS2.p7.18.m18.1.1.3.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.18.m18.1.1.3.1.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS2.p7.18.m18.1.1.3.2.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.3.2">ℝ</ci><ci id="S3.SS1.SSS2.p7.18.m18.1.1.3.3.cmml" xref="S3.SS1.SSS2.p7.18.m18.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.18.m18.1c">\mathbf{e}\in\mathbb{R}^{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.18.m18.1d">bold_e ∈ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT</annotation></semantics></math>, and each relation in <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.19.m19.1"><semantics id="S3.SS1.SSS2.p7.19.m19.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p7.19.m19.1.1" xref="S3.SS1.SSS2.p7.19.m19.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.19.m19.1b"><ci id="S3.SS1.SSS2.p7.19.m19.1.1.cmml" xref="S3.SS1.SSS2.p7.19.m19.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.19.m19.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.19.m19.1d">caligraphic_R</annotation></semantics></math> is represented by a <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.20.m20.1"><semantics id="S3.SS1.SSS2.p7.20.m20.1a"><mi id="S3.SS1.SSS2.p7.20.m20.1.1" xref="S3.SS1.SSS2.p7.20.m20.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.20.m20.1b"><ci id="S3.SS1.SSS2.p7.20.m20.1.1.cmml" xref="S3.SS1.SSS2.p7.20.m20.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.20.m20.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.20.m20.1d">italic_k</annotation></semantics></math>-dimensional embedding vector <math alttext="\mathbf{r}\in\mathbb{R}^{k}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p7.21.m21.1"><semantics id="S3.SS1.SSS2.p7.21.m21.1a"><mrow id="S3.SS1.SSS2.p7.21.m21.1.1" xref="S3.SS1.SSS2.p7.21.m21.1.1.cmml"><mi id="S3.SS1.SSS2.p7.21.m21.1.1.2" xref="S3.SS1.SSS2.p7.21.m21.1.1.2.cmml">𝐫</mi><mo id="S3.SS1.SSS2.p7.21.m21.1.1.1" xref="S3.SS1.SSS2.p7.21.m21.1.1.1.cmml">∈</mo><msup id="S3.SS1.SSS2.p7.21.m21.1.1.3" xref="S3.SS1.SSS2.p7.21.m21.1.1.3.cmml"><mi id="S3.SS1.SSS2.p7.21.m21.1.1.3.2" xref="S3.SS1.SSS2.p7.21.m21.1.1.3.2.cmml">ℝ</mi><mi id="S3.SS1.SSS2.p7.21.m21.1.1.3.3" xref="S3.SS1.SSS2.p7.21.m21.1.1.3.3.cmml">k</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p7.21.m21.1b"><apply id="S3.SS1.SSS2.p7.21.m21.1.1.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1"><in id="S3.SS1.SSS2.p7.21.m21.1.1.1.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.1"></in><ci id="S3.SS1.SSS2.p7.21.m21.1.1.2.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.2">𝐫</ci><apply id="S3.SS1.SSS2.p7.21.m21.1.1.3.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p7.21.m21.1.1.3.1.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS2.p7.21.m21.1.1.3.2.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.3.2">ℝ</ci><ci id="S3.SS1.SSS2.p7.21.m21.1.1.3.3.cmml" xref="S3.SS1.SSS2.p7.21.m21.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p7.21.m21.1c">\mathbf{r}\in\mathbb{R}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p7.21.m21.1d">bold_r ∈ blackboard_R start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p8">
<p class="ltx_p" id="S3.SS1.SSS2.p8.2">For initial training, all node and relation embeddings are initialized using Xavier initialization <cite class="ltx_cite ltx_citemacro_citep">(Glorot and Bengio, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib10" title="">2010</a>)</cite>. When the model is subsequently fine-tuned on new data, the node and relation embeddings of graph <math alttext="\mathcal{G}_{t+1}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p8.1.m1.1"><semantics id="S3.SS1.SSS2.p8.1.m1.1a"><msub id="S3.SS1.SSS2.p8.1.m1.1.1" xref="S3.SS1.SSS2.p8.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p8.1.m1.1.1.2" xref="S3.SS1.SSS2.p8.1.m1.1.1.2.cmml">𝒢</mi><mrow id="S3.SS1.SSS2.p8.1.m1.1.1.3" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.cmml"><mi id="S3.SS1.SSS2.p8.1.m1.1.1.3.2" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS1.SSS2.p8.1.m1.1.1.3.1" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.SS1.SSS2.p8.1.m1.1.1.3.3" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p8.1.m1.1b"><apply id="S3.SS1.SSS2.p8.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p8.1.m1.1.1.1.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p8.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1.2">𝒢</ci><apply id="S3.SS1.SSS2.p8.1.m1.1.1.3.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1.3"><plus id="S3.SS1.SSS2.p8.1.m1.1.1.3.1.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.1"></plus><ci id="S3.SS1.SSS2.p8.1.m1.1.1.3.2.cmml" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.2">𝑡</ci><cn id="S3.SS1.SSS2.p8.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS1.SSS2.p8.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p8.1.m1.1c">\mathcal{G}_{t+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p8.1.m1.1d">caligraphic_G start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT</annotation></semantics></math> are first initialized using the previously learned embeddings from graph <math alttext="\mathcal{G}_{t}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p8.2.m2.1"><semantics id="S3.SS1.SSS2.p8.2.m2.1a"><msub id="S3.SS1.SSS2.p8.2.m2.1.1" xref="S3.SS1.SSS2.p8.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p8.2.m2.1.1.2" xref="S3.SS1.SSS2.p8.2.m2.1.1.2.cmml">𝒢</mi><mi id="S3.SS1.SSS2.p8.2.m2.1.1.3" xref="S3.SS1.SSS2.p8.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p8.2.m2.1b"><apply id="S3.SS1.SSS2.p8.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p8.2.m2.1.1.1.cmml" xref="S3.SS1.SSS2.p8.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p8.2.m2.1.1.2.cmml" xref="S3.SS1.SSS2.p8.2.m2.1.1.2">𝒢</ci><ci id="S3.SS1.SSS2.p8.2.m2.1.1.3.cmml" xref="S3.SS1.SSS2.p8.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p8.2.m2.1c">\mathcal{G}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p8.2.m2.1d">caligraphic_G start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, except for any new nodes or relations where Xavier initialization was applied.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p9">
<p class="ltx_p" id="S3.SS1.SSS2.p9.6">The NudgeRank™ model (Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.F3" title="Figure 3 ‣ 3.1.2. Knowledge Graph Neural Network Recommender System ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3</span></a>) uses attentive graph convolution layers to aggregate node embeddings from neighboring nodes, so that the GNN can learn which neighbors are most important for passing information to personalize the nudges. The number of layers <math alttext="L" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.1.m1.1"><semantics id="S3.SS1.SSS2.p9.1.m1.1a"><mi id="S3.SS1.SSS2.p9.1.m1.1.1" xref="S3.SS1.SSS2.p9.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.1.m1.1b"><ci id="S3.SS1.SSS2.p9.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p9.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.1.m1.1d">italic_L</annotation></semantics></math> and the dimensions of each layer are hyperparameters that can be tuned. The embeddings for head node <math alttext="a" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.2.m2.1"><semantics id="S3.SS1.SSS2.p9.2.m2.1a"><mi id="S3.SS1.SSS2.p9.2.m2.1.1" xref="S3.SS1.SSS2.p9.2.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.2.m2.1b"><ci id="S3.SS1.SSS2.p9.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p9.2.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.2.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.2.m2.1d">italic_a</annotation></semantics></math> in layer <math alttext="l" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.3.m3.1"><semantics id="S3.SS1.SSS2.p9.3.m3.1a"><mi id="S3.SS1.SSS2.p9.3.m3.1.1" xref="S3.SS1.SSS2.p9.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.3.m3.1b"><ci id="S3.SS1.SSS2.p9.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p9.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.3.m3.1c">l</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.3.m3.1d">italic_l</annotation></semantics></math> are updated by the attention-weighted linear combination of its first order neighbors <math alttext="\mathcal{N}_{a}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.4.m4.1"><semantics id="S3.SS1.SSS2.p9.4.m4.1a"><msub id="S3.SS1.SSS2.p9.4.m4.1.1" xref="S3.SS1.SSS2.p9.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS2.p9.4.m4.1.1.2" xref="S3.SS1.SSS2.p9.4.m4.1.1.2.cmml">𝒩</mi><mi id="S3.SS1.SSS2.p9.4.m4.1.1.3" xref="S3.SS1.SSS2.p9.4.m4.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.4.m4.1b"><apply id="S3.SS1.SSS2.p9.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p9.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p9.4.m4.1.1.1.cmml" xref="S3.SS1.SSS2.p9.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p9.4.m4.1.1.2.cmml" xref="S3.SS1.SSS2.p9.4.m4.1.1.2">𝒩</ci><ci id="S3.SS1.SSS2.p9.4.m4.1.1.3.cmml" xref="S3.SS1.SSS2.p9.4.m4.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.4.m4.1c">\mathcal{N}_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.4.m4.1d">caligraphic_N start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> in layer <math alttext="l-1" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.5.m5.1"><semantics id="S3.SS1.SSS2.p9.5.m5.1a"><mrow id="S3.SS1.SSS2.p9.5.m5.1.1" xref="S3.SS1.SSS2.p9.5.m5.1.1.cmml"><mi id="S3.SS1.SSS2.p9.5.m5.1.1.2" xref="S3.SS1.SSS2.p9.5.m5.1.1.2.cmml">l</mi><mo id="S3.SS1.SSS2.p9.5.m5.1.1.1" xref="S3.SS1.SSS2.p9.5.m5.1.1.1.cmml">−</mo><mn id="S3.SS1.SSS2.p9.5.m5.1.1.3" xref="S3.SS1.SSS2.p9.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.5.m5.1b"><apply id="S3.SS1.SSS2.p9.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p9.5.m5.1.1"><minus id="S3.SS1.SSS2.p9.5.m5.1.1.1.cmml" xref="S3.SS1.SSS2.p9.5.m5.1.1.1"></minus><ci id="S3.SS1.SSS2.p9.5.m5.1.1.2.cmml" xref="S3.SS1.SSS2.p9.5.m5.1.1.2">𝑙</ci><cn id="S3.SS1.SSS2.p9.5.m5.1.1.3.cmml" type="integer" xref="S3.SS1.SSS2.p9.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.5.m5.1c">l-1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.5.m5.1d">italic_l - 1</annotation></semantics></math>, aggregated with its own embeddings via a differentiable function <math alttext="f" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p9.6.m6.1"><semantics id="S3.SS1.SSS2.p9.6.m6.1a"><mi id="S3.SS1.SSS2.p9.6.m6.1.1" xref="S3.SS1.SSS2.p9.6.m6.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p9.6.m6.1b"><ci id="S3.SS1.SSS2.p9.6.m6.1.1.cmml" xref="S3.SS1.SSS2.p9.6.m6.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p9.6.m6.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p9.6.m6.1d">italic_f</annotation></semantics></math>, e.g. addition or concatenation.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p10">
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{e}_{a}^{(l)}=f\left(\mathbf{e}_{a}^{(l-1)},\sum_{b\in\mathcal{N}_{a}}%
\alpha_{ab}\mathbf{e}_{b}^{(l-1)}\right)" class="ltx_Math" display="block" id="S3.E1.m1.5"><semantics id="S3.E1.m1.5a"><mrow id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml"><msubsup id="S3.E1.m1.5.5.4" xref="S3.E1.m1.5.5.4.cmml"><mi id="S3.E1.m1.5.5.4.2.2" xref="S3.E1.m1.5.5.4.2.2.cmml">𝐞</mi><mi id="S3.E1.m1.5.5.4.2.3" xref="S3.E1.m1.5.5.4.2.3.cmml">a</mi><mrow id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.5.5.4.cmml"><mo id="S3.E1.m1.1.1.1.3.1" stretchy="false" xref="S3.E1.m1.5.5.4.cmml">(</mo><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">l</mi><mo id="S3.E1.m1.1.1.1.3.2" stretchy="false" xref="S3.E1.m1.5.5.4.cmml">)</mo></mrow></msubsup><mo id="S3.E1.m1.5.5.3" xref="S3.E1.m1.5.5.3.cmml">=</mo><mrow id="S3.E1.m1.5.5.2" xref="S3.E1.m1.5.5.2.cmml"><mi id="S3.E1.m1.5.5.2.4" xref="S3.E1.m1.5.5.2.4.cmml">f</mi><mo id="S3.E1.m1.5.5.2.3" xref="S3.E1.m1.5.5.2.3.cmml">⁢</mo><mrow id="S3.E1.m1.5.5.2.2.2" xref="S3.E1.m1.5.5.2.2.3.cmml"><mo id="S3.E1.m1.5.5.2.2.2.3" xref="S3.E1.m1.5.5.2.2.3.cmml">(</mo><msubsup id="S3.E1.m1.4.4.1.1.1.1" xref="S3.E1.m1.4.4.1.1.1.1.cmml"><mi id="S3.E1.m1.4.4.1.1.1.1.2.2" xref="S3.E1.m1.4.4.1.1.1.1.2.2.cmml">𝐞</mi><mi id="S3.E1.m1.4.4.1.1.1.1.2.3" xref="S3.E1.m1.4.4.1.1.1.1.2.3.cmml">a</mi><mrow id="S3.E1.m1.2.2.1.1" xref="S3.E1.m1.2.2.1.1.1.cmml"><mo id="S3.E1.m1.2.2.1.1.2" stretchy="false" xref="S3.E1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.2.2.1.1.1" xref="S3.E1.m1.2.2.1.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.2.cmml">l</mi><mo id="S3.E1.m1.2.2.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.cmml">−</mo><mn id="S3.E1.m1.2.2.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S3.E1.m1.2.2.1.1.3" stretchy="false" xref="S3.E1.m1.2.2.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E1.m1.5.5.2.2.2.4" rspace="0em" xref="S3.E1.m1.5.5.2.2.3.cmml">,</mo><mrow id="S3.E1.m1.5.5.2.2.2.2" xref="S3.E1.m1.5.5.2.2.2.2.cmml"><munder id="S3.E1.m1.5.5.2.2.2.2.1" xref="S3.E1.m1.5.5.2.2.2.2.1.cmml"><mo id="S3.E1.m1.5.5.2.2.2.2.1.2" movablelimits="false" xref="S3.E1.m1.5.5.2.2.2.2.1.2.cmml">∑</mo><mrow id="S3.E1.m1.5.5.2.2.2.2.1.3" xref="S3.E1.m1.5.5.2.2.2.2.1.3.cmml"><mi id="S3.E1.m1.5.5.2.2.2.2.1.3.2" xref="S3.E1.m1.5.5.2.2.2.2.1.3.2.cmml">b</mi><mo id="S3.E1.m1.5.5.2.2.2.2.1.3.1" xref="S3.E1.m1.5.5.2.2.2.2.1.3.1.cmml">∈</mo><msub id="S3.E1.m1.5.5.2.2.2.2.1.3.3" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.2.2.2.2.1.3.3.2" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3.2.cmml">𝒩</mi><mi id="S3.E1.m1.5.5.2.2.2.2.1.3.3.3" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3.3.cmml">a</mi></msub></mrow></munder><mrow id="S3.E1.m1.5.5.2.2.2.2.2" xref="S3.E1.m1.5.5.2.2.2.2.2.cmml"><msub id="S3.E1.m1.5.5.2.2.2.2.2.2" xref="S3.E1.m1.5.5.2.2.2.2.2.2.cmml"><mi id="S3.E1.m1.5.5.2.2.2.2.2.2.2" xref="S3.E1.m1.5.5.2.2.2.2.2.2.2.cmml">α</mi><mrow id="S3.E1.m1.5.5.2.2.2.2.2.2.3" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.cmml"><mi id="S3.E1.m1.5.5.2.2.2.2.2.2.3.2" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.2.cmml">a</mi><mo id="S3.E1.m1.5.5.2.2.2.2.2.2.3.1" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.E1.m1.5.5.2.2.2.2.2.2.3.3" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.3.cmml">b</mi></mrow></msub><mo id="S3.E1.m1.5.5.2.2.2.2.2.1" xref="S3.E1.m1.5.5.2.2.2.2.2.1.cmml">⁢</mo><msubsup id="S3.E1.m1.5.5.2.2.2.2.2.3" xref="S3.E1.m1.5.5.2.2.2.2.2.3.cmml"><mi id="S3.E1.m1.5.5.2.2.2.2.2.3.2.2" xref="S3.E1.m1.5.5.2.2.2.2.2.3.2.2.cmml">𝐞</mi><mi id="S3.E1.m1.5.5.2.2.2.2.2.3.2.3" xref="S3.E1.m1.5.5.2.2.2.2.2.3.2.3.cmml">b</mi><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><mo id="S3.E1.m1.3.3.1.1.2" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.2.cmml">l</mi><mo id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.cmml">−</mo><mn id="S3.E1.m1.3.3.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.3.cmml">1</mn></mrow><mo id="S3.E1.m1.3.3.1.1.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.cmml">)</mo></mrow></msubsup></mrow></mrow><mo id="S3.E1.m1.5.5.2.2.2.5" xref="S3.E1.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.5b"><apply id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5"><eq id="S3.E1.m1.5.5.3.cmml" xref="S3.E1.m1.5.5.3"></eq><apply id="S3.E1.m1.5.5.4.cmml" xref="S3.E1.m1.5.5.4"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.4.1.cmml" xref="S3.E1.m1.5.5.4">superscript</csymbol><apply id="S3.E1.m1.5.5.4.2.cmml" xref="S3.E1.m1.5.5.4"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.4.2.1.cmml" xref="S3.E1.m1.5.5.4">subscript</csymbol><ci id="S3.E1.m1.5.5.4.2.2.cmml" xref="S3.E1.m1.5.5.4.2.2">𝐞</ci><ci id="S3.E1.m1.5.5.4.2.3.cmml" xref="S3.E1.m1.5.5.4.2.3">𝑎</ci></apply><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑙</ci></apply><apply id="S3.E1.m1.5.5.2.cmml" xref="S3.E1.m1.5.5.2"><times id="S3.E1.m1.5.5.2.3.cmml" xref="S3.E1.m1.5.5.2.3"></times><ci id="S3.E1.m1.5.5.2.4.cmml" xref="S3.E1.m1.5.5.2.4">𝑓</ci><interval closure="open" id="S3.E1.m1.5.5.2.2.3.cmml" xref="S3.E1.m1.5.5.2.2.2"><apply id="S3.E1.m1.4.4.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1">superscript</csymbol><apply id="S3.E1.m1.4.4.1.1.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.E1.m1.4.4.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.1.1.2.2.cmml" xref="S3.E1.m1.4.4.1.1.1.1.2.2">𝐞</ci><ci id="S3.E1.m1.4.4.1.1.1.1.2.3.cmml" xref="S3.E1.m1.4.4.1.1.1.1.2.3">𝑎</ci></apply><apply id="S3.E1.m1.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1"><minus id="S3.E1.m1.2.2.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1"></minus><ci id="S3.E1.m1.2.2.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.2">𝑙</ci><cn id="S3.E1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.E1.m1.2.2.1.1.1.3">1</cn></apply></apply><apply id="S3.E1.m1.5.5.2.2.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2"><apply id="S3.E1.m1.5.5.2.2.2.2.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.2.2.1.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1">subscript</csymbol><sum id="S3.E1.m1.5.5.2.2.2.2.1.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.2"></sum><apply id="S3.E1.m1.5.5.2.2.2.2.1.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3"><in id="S3.E1.m1.5.5.2.2.2.2.1.3.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.1"></in><ci id="S3.E1.m1.5.5.2.2.2.2.1.3.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.2">𝑏</ci><apply id="S3.E1.m1.5.5.2.2.2.2.1.3.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.2.2.1.3.3.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3">subscript</csymbol><ci id="S3.E1.m1.5.5.2.2.2.2.1.3.3.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3.2">𝒩</ci><ci id="S3.E1.m1.5.5.2.2.2.2.1.3.3.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.1.3.3.3">𝑎</ci></apply></apply></apply><apply id="S3.E1.m1.5.5.2.2.2.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2"><times id="S3.E1.m1.5.5.2.2.2.2.2.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.1"></times><apply id="S3.E1.m1.5.5.2.2.2.2.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.2.2.2.2.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E1.m1.5.5.2.2.2.2.2.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2.2">𝛼</ci><apply id="S3.E1.m1.5.5.2.2.2.2.2.2.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3"><times id="S3.E1.m1.5.5.2.2.2.2.2.2.3.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.1"></times><ci id="S3.E1.m1.5.5.2.2.2.2.2.2.3.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.2">𝑎</ci><ci id="S3.E1.m1.5.5.2.2.2.2.2.2.3.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.2.3.3">𝑏</ci></apply></apply><apply id="S3.E1.m1.5.5.2.2.2.2.2.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.2.2.2.3.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3">superscript</csymbol><apply id="S3.E1.m1.5.5.2.2.2.2.2.3.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.2.2.2.3.2.1.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E1.m1.5.5.2.2.2.2.2.3.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3.2.2">𝐞</ci><ci id="S3.E1.m1.5.5.2.2.2.2.2.3.2.3.cmml" xref="S3.E1.m1.5.5.2.2.2.2.2.3.2.3">𝑏</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1"><minus id="S3.E1.m1.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1"></minus><ci id="S3.E1.m1.3.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2">𝑙</ci><cn id="S3.E1.m1.3.3.1.1.1.3.cmml" type="integer" xref="S3.E1.m1.3.3.1.1.1.3">1</cn></apply></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.5c">\mathbf{e}_{a}^{(l)}=f\left(\mathbf{e}_{a}^{(l-1)},\sum_{b\in\mathcal{N}_{a}}%
\alpha_{ab}\mathbf{e}_{b}^{(l-1)}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.5d">bold_e start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l ) end_POSTSUPERSCRIPT = italic_f ( bold_e start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l - 1 ) end_POSTSUPERSCRIPT , ∑ start_POSTSUBSCRIPT italic_b ∈ caligraphic_N start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_α start_POSTSUBSCRIPT italic_a italic_b end_POSTSUBSCRIPT bold_e start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_l - 1 ) end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p11">
<p class="ltx_p" id="S3.SS1.SSS2.p11.9">We adopted Knowledge-Aware Attention <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib30" title="">2019a</a>)</cite>, where the relation-specific attention weights <math alttext="\alpha_{ab}^{r}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.1.m1.1"><semantics id="S3.SS1.SSS2.p11.1.m1.1a"><msubsup id="S3.SS1.SSS2.p11.1.m1.1.1" xref="S3.SS1.SSS2.p11.1.m1.1.1.cmml"><mi id="S3.SS1.SSS2.p11.1.m1.1.1.2.2" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.2.cmml">α</mi><mrow id="S3.SS1.SSS2.p11.1.m1.1.1.2.3" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.cmml"><mi id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.2" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.2.cmml">a</mi><mo id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.1" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.3" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.3.cmml">b</mi></mrow><mi id="S3.SS1.SSS2.p11.1.m1.1.1.3" xref="S3.SS1.SSS2.p11.1.m1.1.1.3.cmml">r</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.1.m1.1b"><apply id="S3.SS1.SSS2.p11.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p11.1.m1.1.1.1.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1">superscript</csymbol><apply id="S3.SS1.SSS2.p11.1.m1.1.1.2.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p11.1.m1.1.1.2.1.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p11.1.m1.1.1.2.2.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.2">𝛼</ci><apply id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3"><times id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.1.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.1"></times><ci id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.2.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.2">𝑎</ci><ci id="S3.SS1.SSS2.p11.1.m1.1.1.2.3.3.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.2.3.3">𝑏</ci></apply></apply><ci id="S3.SS1.SSS2.p11.1.m1.1.1.3.cmml" xref="S3.SS1.SSS2.p11.1.m1.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.1.m1.1c">\alpha_{ab}^{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.1.m1.1d">italic_α start_POSTSUBSCRIPT italic_a italic_b end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT</annotation></semantics></math> are defined in Equation <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.E2" title="In 3.1.2. Knowledge Graph Neural Network Recommender System ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">2</span></a>, with matrix <math alttext="\mathbf{W}_{r}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.2.m2.1"><semantics id="S3.SS1.SSS2.p11.2.m2.1a"><msub id="S3.SS1.SSS2.p11.2.m2.1.1" xref="S3.SS1.SSS2.p11.2.m2.1.1.cmml"><mi id="S3.SS1.SSS2.p11.2.m2.1.1.2" xref="S3.SS1.SSS2.p11.2.m2.1.1.2.cmml">𝐖</mi><mi id="S3.SS1.SSS2.p11.2.m2.1.1.3" xref="S3.SS1.SSS2.p11.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.2.m2.1b"><apply id="S3.SS1.SSS2.p11.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p11.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p11.2.m2.1.1.1.cmml" xref="S3.SS1.SSS2.p11.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p11.2.m2.1.1.2.cmml" xref="S3.SS1.SSS2.p11.2.m2.1.1.2">𝐖</ci><ci id="S3.SS1.SSS2.p11.2.m2.1.1.3.cmml" xref="S3.SS1.SSS2.p11.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.2.m2.1c">\mathbf{W}_{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.2.m2.1d">bold_W start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> projecting the node embeddings <math alttext="\mathbf{e}_{a}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.3.m3.1"><semantics id="S3.SS1.SSS2.p11.3.m3.1a"><msub id="S3.SS1.SSS2.p11.3.m3.1.1" xref="S3.SS1.SSS2.p11.3.m3.1.1.cmml"><mi id="S3.SS1.SSS2.p11.3.m3.1.1.2" xref="S3.SS1.SSS2.p11.3.m3.1.1.2.cmml">𝐞</mi><mi id="S3.SS1.SSS2.p11.3.m3.1.1.3" xref="S3.SS1.SSS2.p11.3.m3.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.3.m3.1b"><apply id="S3.SS1.SSS2.p11.3.m3.1.1.cmml" xref="S3.SS1.SSS2.p11.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p11.3.m3.1.1.1.cmml" xref="S3.SS1.SSS2.p11.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p11.3.m3.1.1.2.cmml" xref="S3.SS1.SSS2.p11.3.m3.1.1.2">𝐞</ci><ci id="S3.SS1.SSS2.p11.3.m3.1.1.3.cmml" xref="S3.SS1.SSS2.p11.3.m3.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.3.m3.1c">\mathbf{e}_{a}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.3.m3.1d">bold_e start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathbf{e}_{b}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.4.m4.1"><semantics id="S3.SS1.SSS2.p11.4.m4.1a"><msub id="S3.SS1.SSS2.p11.4.m4.1.1" xref="S3.SS1.SSS2.p11.4.m4.1.1.cmml"><mi id="S3.SS1.SSS2.p11.4.m4.1.1.2" xref="S3.SS1.SSS2.p11.4.m4.1.1.2.cmml">𝐞</mi><mi id="S3.SS1.SSS2.p11.4.m4.1.1.3" xref="S3.SS1.SSS2.p11.4.m4.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.4.m4.1b"><apply id="S3.SS1.SSS2.p11.4.m4.1.1.cmml" xref="S3.SS1.SSS2.p11.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS2.p11.4.m4.1.1.1.cmml" xref="S3.SS1.SSS2.p11.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS2.p11.4.m4.1.1.2.cmml" xref="S3.SS1.SSS2.p11.4.m4.1.1.2">𝐞</ci><ci id="S3.SS1.SSS2.p11.4.m4.1.1.3.cmml" xref="S3.SS1.SSS2.p11.4.m4.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.4.m4.1c">\mathbf{e}_{b}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.4.m4.1d">bold_e start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT</annotation></semantics></math> to the space of relation <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.5.m5.1"><semantics id="S3.SS1.SSS2.p11.5.m5.1a"><mi id="S3.SS1.SSS2.p11.5.m5.1.1" xref="S3.SS1.SSS2.p11.5.m5.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.5.m5.1b"><ci id="S3.SS1.SSS2.p11.5.m5.1.1.cmml" xref="S3.SS1.SSS2.p11.5.m5.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.5.m5.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.5.m5.1d">italic_r</annotation></semantics></math>. Thus, the attention weight for the relation <math alttext="(a,r,b)" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.6.m6.3"><semantics id="S3.SS1.SSS2.p11.6.m6.3a"><mrow id="S3.SS1.SSS2.p11.6.m6.3.4.2" xref="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml"><mo id="S3.SS1.SSS2.p11.6.m6.3.4.2.1" stretchy="false" xref="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml">(</mo><mi id="S3.SS1.SSS2.p11.6.m6.1.1" xref="S3.SS1.SSS2.p11.6.m6.1.1.cmml">a</mi><mo id="S3.SS1.SSS2.p11.6.m6.3.4.2.2" xref="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml">,</mo><mi id="S3.SS1.SSS2.p11.6.m6.2.2" xref="S3.SS1.SSS2.p11.6.m6.2.2.cmml">r</mi><mo id="S3.SS1.SSS2.p11.6.m6.3.4.2.3" xref="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml">,</mo><mi id="S3.SS1.SSS2.p11.6.m6.3.3" xref="S3.SS1.SSS2.p11.6.m6.3.3.cmml">b</mi><mo id="S3.SS1.SSS2.p11.6.m6.3.4.2.4" stretchy="false" xref="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.6.m6.3b"><vector id="S3.SS1.SSS2.p11.6.m6.3.4.1.cmml" xref="S3.SS1.SSS2.p11.6.m6.3.4.2"><ci id="S3.SS1.SSS2.p11.6.m6.1.1.cmml" xref="S3.SS1.SSS2.p11.6.m6.1.1">𝑎</ci><ci id="S3.SS1.SSS2.p11.6.m6.2.2.cmml" xref="S3.SS1.SSS2.p11.6.m6.2.2">𝑟</ci><ci id="S3.SS1.SSS2.p11.6.m6.3.3.cmml" xref="S3.SS1.SSS2.p11.6.m6.3.3">𝑏</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.6.m6.3c">(a,r,b)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.6.m6.3d">( italic_a , italic_r , italic_b )</annotation></semantics></math> is proportional to the similarity between <math alttext="\vec{a}+\vec{r}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.7.m7.1"><semantics id="S3.SS1.SSS2.p11.7.m7.1a"><mrow id="S3.SS1.SSS2.p11.7.m7.1.1" xref="S3.SS1.SSS2.p11.7.m7.1.1.cmml"><mover accent="true" id="S3.SS1.SSS2.p11.7.m7.1.1.2" xref="S3.SS1.SSS2.p11.7.m7.1.1.2.cmml"><mi id="S3.SS1.SSS2.p11.7.m7.1.1.2.2" xref="S3.SS1.SSS2.p11.7.m7.1.1.2.2.cmml">a</mi><mo id="S3.SS1.SSS2.p11.7.m7.1.1.2.1" stretchy="false" xref="S3.SS1.SSS2.p11.7.m7.1.1.2.1.cmml">→</mo></mover><mo id="S3.SS1.SSS2.p11.7.m7.1.1.1" xref="S3.SS1.SSS2.p11.7.m7.1.1.1.cmml">+</mo><mover accent="true" id="S3.SS1.SSS2.p11.7.m7.1.1.3" xref="S3.SS1.SSS2.p11.7.m7.1.1.3.cmml"><mi id="S3.SS1.SSS2.p11.7.m7.1.1.3.2" xref="S3.SS1.SSS2.p11.7.m7.1.1.3.2.cmml">r</mi><mo id="S3.SS1.SSS2.p11.7.m7.1.1.3.1" stretchy="false" xref="S3.SS1.SSS2.p11.7.m7.1.1.3.1.cmml">→</mo></mover></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.7.m7.1b"><apply id="S3.SS1.SSS2.p11.7.m7.1.1.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1"><plus id="S3.SS1.SSS2.p11.7.m7.1.1.1.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.1"></plus><apply id="S3.SS1.SSS2.p11.7.m7.1.1.2.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.2"><ci id="S3.SS1.SSS2.p11.7.m7.1.1.2.1.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.2.1">→</ci><ci id="S3.SS1.SSS2.p11.7.m7.1.1.2.2.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.2.2">𝑎</ci></apply><apply id="S3.SS1.SSS2.p11.7.m7.1.1.3.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.3"><ci id="S3.SS1.SSS2.p11.7.m7.1.1.3.1.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.3.1">→</ci><ci id="S3.SS1.SSS2.p11.7.m7.1.1.3.2.cmml" xref="S3.SS1.SSS2.p11.7.m7.1.1.3.2">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.7.m7.1c">\vec{a}+\vec{r}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.7.m7.1d">over→ start_ARG italic_a end_ARG + over→ start_ARG italic_r end_ARG</annotation></semantics></math> and <math alttext="\vec{b}" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.8.m8.1"><semantics id="S3.SS1.SSS2.p11.8.m8.1a"><mover accent="true" id="S3.SS1.SSS2.p11.8.m8.1.1" xref="S3.SS1.SSS2.p11.8.m8.1.1.cmml"><mi id="S3.SS1.SSS2.p11.8.m8.1.1.2" xref="S3.SS1.SSS2.p11.8.m8.1.1.2.cmml">b</mi><mo id="S3.SS1.SSS2.p11.8.m8.1.1.1" stretchy="false" xref="S3.SS1.SSS2.p11.8.m8.1.1.1.cmml">→</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.8.m8.1b"><apply id="S3.SS1.SSS2.p11.8.m8.1.1.cmml" xref="S3.SS1.SSS2.p11.8.m8.1.1"><ci id="S3.SS1.SSS2.p11.8.m8.1.1.1.cmml" xref="S3.SS1.SSS2.p11.8.m8.1.1.1">→</ci><ci id="S3.SS1.SSS2.p11.8.m8.1.1.2.cmml" xref="S3.SS1.SSS2.p11.8.m8.1.1.2">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.8.m8.1c">\vec{b}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.8.m8.1d">over→ start_ARG italic_b end_ARG</annotation></semantics></math> in the space of relation <math alttext="r" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p11.9.m9.1"><semantics id="S3.SS1.SSS2.p11.9.m9.1a"><mi id="S3.SS1.SSS2.p11.9.m9.1.1" xref="S3.SS1.SSS2.p11.9.m9.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p11.9.m9.1b"><ci id="S3.SS1.SSS2.p11.9.m9.1.1.cmml" xref="S3.SS1.SSS2.p11.9.m9.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p11.9.m9.1c">r</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p11.9.m9.1d">italic_r</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p12">
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\alpha_{ab}^{r}=\operatorname{softmax}_{b}((\mathbf{W}_{r}\mathbf{e}_{b})^{%
\top}\tanh(\mathbf{W}_{r}\mathbf{e}_{a}+\mathbf{e}_{r}))" class="ltx_Math" display="block" id="S3.E2.m1.3"><semantics id="S3.E2.m1.3a"><mrow id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml"><msubsup id="S3.E2.m1.3.3.4" xref="S3.E2.m1.3.3.4.cmml"><mi id="S3.E2.m1.3.3.4.2.2" xref="S3.E2.m1.3.3.4.2.2.cmml">α</mi><mrow id="S3.E2.m1.3.3.4.2.3" xref="S3.E2.m1.3.3.4.2.3.cmml"><mi id="S3.E2.m1.3.3.4.2.3.2" xref="S3.E2.m1.3.3.4.2.3.2.cmml">a</mi><mo id="S3.E2.m1.3.3.4.2.3.1" xref="S3.E2.m1.3.3.4.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.3.3.4.2.3.3" xref="S3.E2.m1.3.3.4.2.3.3.cmml">b</mi></mrow><mi id="S3.E2.m1.3.3.4.3" xref="S3.E2.m1.3.3.4.3.cmml">r</mi></msubsup><mo id="S3.E2.m1.3.3.3" xref="S3.E2.m1.3.3.3.cmml">=</mo><mrow id="S3.E2.m1.3.3.2.2" xref="S3.E2.m1.3.3.2.3.cmml"><msub id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.2.cmml">softmax</mi><mi id="S3.E2.m1.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.3.cmml">b</mi></msub><mo id="S3.E2.m1.3.3.2.2a" xref="S3.E2.m1.3.3.2.3.cmml">⁡</mo><mrow id="S3.E2.m1.3.3.2.2.2" xref="S3.E2.m1.3.3.2.3.cmml"><mo id="S3.E2.m1.3.3.2.2.2.2" stretchy="false" xref="S3.E2.m1.3.3.2.3.cmml">(</mo><mrow id="S3.E2.m1.3.3.2.2.2.1" xref="S3.E2.m1.3.3.2.2.2.1.cmml"><msup id="S3.E2.m1.3.3.2.2.2.1.1" xref="S3.E2.m1.3.3.2.2.2.1.1.cmml"><mrow id="S3.E2.m1.3.3.2.2.2.1.1.1.1" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.cmml"><mo id="S3.E2.m1.3.3.2.2.2.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.cmml"><msub id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.2" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.2.cmml">𝐖</mi><mi id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.3" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.3.cmml">r</mi></msub><mo id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.1" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.1.cmml">⁢</mo><msub id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.2" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.2.cmml">𝐞</mi><mi id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.3" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.3.cmml">b</mi></msub></mrow><mo id="S3.E2.m1.3.3.2.2.2.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E2.m1.3.3.2.2.2.1.1.3" xref="S3.E2.m1.3.3.2.2.2.1.1.3.cmml">⊤</mo></msup><mo id="S3.E2.m1.3.3.2.2.2.1.3" lspace="0.167em" xref="S3.E2.m1.3.3.2.2.2.1.3.cmml">⁢</mo><mrow id="S3.E2.m1.3.3.2.2.2.1.2.1" xref="S3.E2.m1.3.3.2.2.2.1.2.2.cmml"><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">tanh</mi><mo id="S3.E2.m1.3.3.2.2.2.1.2.1a" xref="S3.E2.m1.3.3.2.2.2.1.2.2.cmml">⁡</mo><mrow id="S3.E2.m1.3.3.2.2.2.1.2.1.1" xref="S3.E2.m1.3.3.2.2.2.1.2.2.cmml"><mo id="S3.E2.m1.3.3.2.2.2.1.2.1.1.2" stretchy="false" xref="S3.E2.m1.3.3.2.2.2.1.2.2.cmml">(</mo><mrow id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.cmml"><mrow id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.cmml"><msub id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.cmml"><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.2" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.2.cmml">𝐖</mi><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.3" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.3.cmml">r</mi></msub><mo id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.1" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.1.cmml">⁢</mo><msub id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.cmml"><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.2" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.2.cmml">𝐞</mi><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.3" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.3.cmml">a</mi></msub></mrow><mo id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.1" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.1.cmml">+</mo><msub id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.2" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.2.cmml">𝐞</mi><mi id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.3" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.3.cmml">r</mi></msub></mrow><mo id="S3.E2.m1.3.3.2.2.2.1.2.1.1.3" stretchy="false" xref="S3.E2.m1.3.3.2.2.2.1.2.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.3.3.2.2.2.3" stretchy="false" xref="S3.E2.m1.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.3b"><apply id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3"><eq id="S3.E2.m1.3.3.3.cmml" xref="S3.E2.m1.3.3.3"></eq><apply id="S3.E2.m1.3.3.4.cmml" xref="S3.E2.m1.3.3.4"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.4.1.cmml" xref="S3.E2.m1.3.3.4">superscript</csymbol><apply id="S3.E2.m1.3.3.4.2.cmml" xref="S3.E2.m1.3.3.4"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.4.2.1.cmml" xref="S3.E2.m1.3.3.4">subscript</csymbol><ci id="S3.E2.m1.3.3.4.2.2.cmml" xref="S3.E2.m1.3.3.4.2.2">𝛼</ci><apply id="S3.E2.m1.3.3.4.2.3.cmml" xref="S3.E2.m1.3.3.4.2.3"><times id="S3.E2.m1.3.3.4.2.3.1.cmml" xref="S3.E2.m1.3.3.4.2.3.1"></times><ci id="S3.E2.m1.3.3.4.2.3.2.cmml" xref="S3.E2.m1.3.3.4.2.3.2">𝑎</ci><ci id="S3.E2.m1.3.3.4.2.3.3.cmml" xref="S3.E2.m1.3.3.4.2.3.3">𝑏</ci></apply></apply><ci id="S3.E2.m1.3.3.4.3.cmml" xref="S3.E2.m1.3.3.4.3">𝑟</ci></apply><apply id="S3.E2.m1.3.3.2.3.cmml" xref="S3.E2.m1.3.3.2.2"><apply id="S3.E2.m1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.2">softmax</ci><ci id="S3.E2.m1.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.3">𝑏</ci></apply><apply id="S3.E2.m1.3.3.2.2.2.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1"><times id="S3.E2.m1.3.3.2.2.2.1.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.3"></times><apply id="S3.E2.m1.3.3.2.2.2.1.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.1.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1">superscript</csymbol><apply id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1"><times id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.1"></times><apply id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.2">𝐖</ci><ci id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.2.3">𝑟</ci></apply><apply id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.2">𝐞</ci><ci id="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.1.1.1.3.3">𝑏</ci></apply></apply><csymbol cd="latexml" id="S3.E2.m1.3.3.2.2.2.1.1.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.1.3">top</csymbol></apply><apply id="S3.E2.m1.3.3.2.2.2.1.2.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1"><tanh id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"></tanh><apply id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1"><plus id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.1"></plus><apply id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2"><times id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.1"></times><apply id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.2">𝐖</ci><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.2.3">𝑟</ci></apply><apply id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.2">𝐞</ci><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.2.3.3">𝑎</ci></apply></apply><apply id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.2">𝐞</ci><ci id="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.2.2.2.1.2.1.1.1.3.3">𝑟</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.3c">\alpha_{ab}^{r}=\operatorname{softmax}_{b}((\mathbf{W}_{r}\mathbf{e}_{b})^{%
\top}\tanh(\mathbf{W}_{r}\mathbf{e}_{a}+\mathbf{e}_{r}))</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.3d">italic_α start_POSTSUBSCRIPT italic_a italic_b end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_r end_POSTSUPERSCRIPT = roman_softmax start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT ( ( bold_W start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT bold_e start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT roman_tanh ( bold_W start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT bold_e start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT + bold_e start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p13">
<p class="ltx_p" id="S3.SS1.SSS2.p13.1">The NudgeRank™ framework is extensible to allow other attention mechanisms to be used, for example, the Graph Attention Layer <cite class="ltx_cite ltx_citemacro_citep">(Veličković et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib27" title="">2017</a>)</cite> (Equation <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.E3" title="In 3.1.2. Knowledge Graph Neural Network Recommender System ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3</span></a>), which includes self-attention and supports multiple attention heads. We left alternate attention mechanisms for future exploration.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p14">
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\alpha_{ab}=\operatorname{softmax}_{b}(\operatorname{LeakyReLU}(\mathbf{a}[%
\mathbf{We}_{a}\|\mathbf{We}_{b}]))" class="ltx_Math" display="block" id="S3.E3.m1.3"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml"><msub id="S3.E3.m1.3.3.4" xref="S3.E3.m1.3.3.4.cmml"><mi id="S3.E3.m1.3.3.4.2" xref="S3.E3.m1.3.3.4.2.cmml">α</mi><mrow id="S3.E3.m1.3.3.4.3" xref="S3.E3.m1.3.3.4.3.cmml"><mi id="S3.E3.m1.3.3.4.3.2" xref="S3.E3.m1.3.3.4.3.2.cmml">a</mi><mo id="S3.E3.m1.3.3.4.3.1" xref="S3.E3.m1.3.3.4.3.1.cmml">⁢</mo><mi id="S3.E3.m1.3.3.4.3.3" xref="S3.E3.m1.3.3.4.3.3.cmml">b</mi></mrow></msub><mo id="S3.E3.m1.3.3.3" xref="S3.E3.m1.3.3.3.cmml">=</mo><mrow id="S3.E3.m1.3.3.2.2" xref="S3.E3.m1.3.3.2.3.cmml"><msub id="S3.E3.m1.2.2.1.1.1" xref="S3.E3.m1.2.2.1.1.1.cmml"><mi id="S3.E3.m1.2.2.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.2.cmml">softmax</mi><mi id="S3.E3.m1.2.2.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.3.cmml">b</mi></msub><mo id="S3.E3.m1.3.3.2.2a" xref="S3.E3.m1.3.3.2.3.cmml">⁡</mo><mrow id="S3.E3.m1.3.3.2.2.2" xref="S3.E3.m1.3.3.2.3.cmml"><mo id="S3.E3.m1.3.3.2.2.2.2" stretchy="false" xref="S3.E3.m1.3.3.2.3.cmml">(</mo><mrow id="S3.E3.m1.3.3.2.2.2.1.1" xref="S3.E3.m1.3.3.2.2.2.1.2.cmml"><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">LeakyReLU</mi><mo id="S3.E3.m1.3.3.2.2.2.1.1a" xref="S3.E3.m1.3.3.2.2.2.1.2.cmml">⁡</mo><mrow id="S3.E3.m1.3.3.2.2.2.1.1.1" xref="S3.E3.m1.3.3.2.2.2.1.2.cmml"><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.2.2.2.1.2.cmml">(</mo><mrow id="S3.E3.m1.3.3.2.2.2.1.1.1.1" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.cmml"><mi id="S3.E3.m1.3.3.2.2.2.1.1.1.1.3" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.3.cmml">𝐚</mi><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.1.2" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.2.cmml"><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.cmml"><msub id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.2.cmml">𝐖𝐞</mi><mi id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.3.cmml">a</mi></msub><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.1.cmml">∥</mo><msub id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.2.cmml">𝐖𝐞</mi><mi id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.3.cmml">b</mi></msub></mrow><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.E3.m1.3.3.2.2.2.1.1.1.3" stretchy="false" xref="S3.E3.m1.3.3.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.3.3.2.2.2.3" stretchy="false" xref="S3.E3.m1.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3"><eq id="S3.E3.m1.3.3.3.cmml" xref="S3.E3.m1.3.3.3"></eq><apply id="S3.E3.m1.3.3.4.cmml" xref="S3.E3.m1.3.3.4"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.4.1.cmml" xref="S3.E3.m1.3.3.4">subscript</csymbol><ci id="S3.E3.m1.3.3.4.2.cmml" xref="S3.E3.m1.3.3.4.2">𝛼</ci><apply id="S3.E3.m1.3.3.4.3.cmml" xref="S3.E3.m1.3.3.4.3"><times id="S3.E3.m1.3.3.4.3.1.cmml" xref="S3.E3.m1.3.3.4.3.1"></times><ci id="S3.E3.m1.3.3.4.3.2.cmml" xref="S3.E3.m1.3.3.4.3.2">𝑎</ci><ci id="S3.E3.m1.3.3.4.3.3.cmml" xref="S3.E3.m1.3.3.4.3.3">𝑏</ci></apply></apply><apply id="S3.E3.m1.3.3.2.3.cmml" xref="S3.E3.m1.3.3.2.2"><apply id="S3.E3.m1.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.2">softmax</ci><ci id="S3.E3.m1.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.3">𝑏</ci></apply><apply id="S3.E3.m1.3.3.2.2.2.1.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1"><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">LeakyReLU</ci><apply id="S3.E3.m1.3.3.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1"><times id="S3.E3.m1.3.3.2.2.2.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.2"></times><ci id="S3.E3.m1.3.3.2.2.2.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.3">𝐚</ci><apply id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.2">𝐖𝐞</ci><ci id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.2.3">𝑎</ci></apply><apply id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.2">𝐖𝐞</ci><ci id="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.3.3.2.2.2.1.1.1.1.1.1.1.3.3">𝑏</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">\alpha_{ab}=\operatorname{softmax}_{b}(\operatorname{LeakyReLU}(\mathbf{a}[%
\mathbf{We}_{a}\|\mathbf{We}_{b}]))</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.3d">italic_α start_POSTSUBSCRIPT italic_a italic_b end_POSTSUBSCRIPT = roman_softmax start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT ( roman_LeakyReLU ( bold_a [ bold_We start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT ∥ bold_We start_POSTSUBSCRIPT italic_b end_POSTSUBSCRIPT ] ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p15">
<p class="ltx_p" id="S3.SS1.SSS2.p15.2">After node embeddings have propagated through the convolutional layers, the predicted rating for user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p15.1.m1.1"><semantics id="S3.SS1.SSS2.p15.1.m1.1a"><mi id="S3.SS1.SSS2.p15.1.m1.1.1" xref="S3.SS1.SSS2.p15.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p15.1.m1.1b"><ci id="S3.SS1.SSS2.p15.1.m1.1.1.cmml" xref="S3.SS1.SSS2.p15.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p15.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p15.1.m1.1d">italic_u</annotation></semantics></math> and item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS1.SSS2.p15.2.m2.1"><semantics id="S3.SS1.SSS2.p15.2.m2.1a"><mi id="S3.SS1.SSS2.p15.2.m2.1.1" xref="S3.SS1.SSS2.p15.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS2.p15.2.m2.1b"><ci id="S3.SS1.SSS2.p15.2.m2.1.1.cmml" xref="S3.SS1.SSS2.p15.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS2.p15.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS2.p15.2.m2.1d">italic_i</annotation></semantics></math> is computed as the dot product of the embedding vectors:</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS2.p16">
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{y}_{u,i}=\mathbf{e}_{u}^{\top}\mathbf{e}_{i}" class="ltx_Math" display="block" id="S3.E4.m1.2"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.3" xref="S3.E4.m1.2.3.cmml"><msub id="S3.E4.m1.2.3.2" xref="S3.E4.m1.2.3.2.cmml"><mover accent="true" id="S3.E4.m1.2.3.2.2" xref="S3.E4.m1.2.3.2.2.cmml"><mi id="S3.E4.m1.2.3.2.2.2" xref="S3.E4.m1.2.3.2.2.2.cmml">y</mi><mo id="S3.E4.m1.2.3.2.2.1" xref="S3.E4.m1.2.3.2.2.1.cmml">^</mo></mover><mrow id="S3.E4.m1.2.2.2.4" xref="S3.E4.m1.2.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">u</mi><mo id="S3.E4.m1.2.2.2.4.1" xref="S3.E4.m1.2.2.2.3.cmml">,</mo><mi id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S3.E4.m1.2.3.1" xref="S3.E4.m1.2.3.1.cmml">=</mo><mrow id="S3.E4.m1.2.3.3" xref="S3.E4.m1.2.3.3.cmml"><msubsup id="S3.E4.m1.2.3.3.2" xref="S3.E4.m1.2.3.3.2.cmml"><mi id="S3.E4.m1.2.3.3.2.2.2" xref="S3.E4.m1.2.3.3.2.2.2.cmml">𝐞</mi><mi id="S3.E4.m1.2.3.3.2.2.3" xref="S3.E4.m1.2.3.3.2.2.3.cmml">u</mi><mo id="S3.E4.m1.2.3.3.2.3" xref="S3.E4.m1.2.3.3.2.3.cmml">⊤</mo></msubsup><mo id="S3.E4.m1.2.3.3.1" xref="S3.E4.m1.2.3.3.1.cmml">⁢</mo><msub id="S3.E4.m1.2.3.3.3" xref="S3.E4.m1.2.3.3.3.cmml"><mi id="S3.E4.m1.2.3.3.3.2" xref="S3.E4.m1.2.3.3.3.2.cmml">𝐞</mi><mi id="S3.E4.m1.2.3.3.3.3" xref="S3.E4.m1.2.3.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.3.cmml" xref="S3.E4.m1.2.3"><eq id="S3.E4.m1.2.3.1.cmml" xref="S3.E4.m1.2.3.1"></eq><apply id="S3.E4.m1.2.3.2.cmml" xref="S3.E4.m1.2.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.3.2.1.cmml" xref="S3.E4.m1.2.3.2">subscript</csymbol><apply id="S3.E4.m1.2.3.2.2.cmml" xref="S3.E4.m1.2.3.2.2"><ci id="S3.E4.m1.2.3.2.2.1.cmml" xref="S3.E4.m1.2.3.2.2.1">^</ci><ci id="S3.E4.m1.2.3.2.2.2.cmml" xref="S3.E4.m1.2.3.2.2.2">𝑦</ci></apply><list id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.4"><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑢</ci><ci id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S3.E4.m1.2.3.3.cmml" xref="S3.E4.m1.2.3.3"><times id="S3.E4.m1.2.3.3.1.cmml" xref="S3.E4.m1.2.3.3.1"></times><apply id="S3.E4.m1.2.3.3.2.cmml" xref="S3.E4.m1.2.3.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.3.3.2.1.cmml" xref="S3.E4.m1.2.3.3.2">superscript</csymbol><apply id="S3.E4.m1.2.3.3.2.2.cmml" xref="S3.E4.m1.2.3.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.3.3.2.2.1.cmml" xref="S3.E4.m1.2.3.3.2">subscript</csymbol><ci id="S3.E4.m1.2.3.3.2.2.2.cmml" xref="S3.E4.m1.2.3.3.2.2.2">𝐞</ci><ci id="S3.E4.m1.2.3.3.2.2.3.cmml" xref="S3.E4.m1.2.3.3.2.2.3">𝑢</ci></apply><csymbol cd="latexml" id="S3.E4.m1.2.3.3.2.3.cmml" xref="S3.E4.m1.2.3.3.2.3">top</csymbol></apply><apply id="S3.E4.m1.2.3.3.3.cmml" xref="S3.E4.m1.2.3.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.3.3.3.1.cmml" xref="S3.E4.m1.2.3.3.3">subscript</csymbol><ci id="S3.E4.m1.2.3.3.3.2.cmml" xref="S3.E4.m1.2.3.3.3.2">𝐞</ci><ci id="S3.E4.m1.2.3.3.3.3.cmml" xref="S3.E4.m1.2.3.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">\hat{y}_{u,i}=\mathbf{e}_{u}^{\top}\mathbf{e}_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.2d">over^ start_ARG italic_y end_ARG start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = bold_e start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.3. </span>Constraints Filter</h4>
<div class="ltx_para" id="S3.SS1.SSS3.p1">
<p class="ltx_p" id="S3.SS1.SSS3.p1.1">After the RecSys has ranked the candidate nudges for each user, the <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS3.p1.1.1">Constraints Filter</span> applies customizable criteria to refine the nudge selection, aiming to optimize engagement while mitigating fatigue. For example, a nudge budget (maximum number of nudges per day) is applied to minimize nudge fatigue; nudges that were sent recently (e.g. last 7 days) are removed to increase the diversity of nudges in consecutive days; nudges that a user had rated ”not useful” are removed to reduce annoyance. All of these nudges are fully configurable according to the business needs of the health program.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.4. </span>Content Personalizer</h4>
<div class="ltx_para" id="S3.SS1.SSS4.p1">
<p class="ltx_p" id="S3.SS1.SSS4.p1.1">The <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS4.p1.1.1">Content Personalizer</span> processes the final list of selected nudges for each user, and renders any personalized fields in the nudge template. For example, the following nudge template <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS4.p1.1.2">”Great job walking </span>{{<span class="ltx_text ltx_font_italic" id="S3.SS1.SSS4.p1.1.3">avg_daily_steps</span>}}<span class="ltx_text ltx_font_italic" id="S3.SS1.SSS4.p1.1.4"> daily steps last week! You are getting pretty close to your goal of 10,000 steps per day!”</span> is rendered with the user’s actual data (e.g. <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS4.p1.1.5">”8,356 daily steps”</span>) to personalize the nudge for that user.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.1.5. </span>NudgeAPI</h4>
<div class="ltx_para" id="S3.SS1.SSS5.p1">
<p class="ltx_p" id="S3.SS1.SSS5.p1.1">Finally, the nudges are exposed via <span class="ltx_text ltx_font_italic" id="S3.SS1.SSS5.p1.1.1">NudgeAPI</span> to external delivery channels such as mobile apps or email delivery systems. Feedback data in the form of nudge engagement (sent, opened, ratings) are collected, along with health behavior and vitals from fitness trackers and other smart devices. As new data is ingested, they create a continuous feedback loop with updated contextual information for the next set of personalized nudges to be generated.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Design Considerations</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Deploying a RecSys at scale requires careful design to solve operational issues that can occur in a production system. This section describes the critical design considerations for NudgeRank™.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1. </span>Personalization and Contextualization</h4>
<div class="ltx_para" id="S3.SS2.SSS1.p1">
<p class="ltx_p" id="S3.SS2.SSS1.p1.1">The main job of a RecSys for health nudges is to deliver personalized nudges that are relevant and contextual to the user’s health state, goals and behaviors, so that the user remains engaged with the health program and adheres to the desired positive health behaviors. NudgeRank™ achieves a high level of personalization by considering <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p1.1.1">what</span> to say, <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p1.1.2">who</span> to send a nudge to, and <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p1.1.3">when</span> to send it.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS1.p2">
<p class="ltx_p" id="S3.SS2.SSS1.p2.1"><span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p2.1.1">What</span>: the Nudge Library allows a wide variety of nudges to be written, using different nudge techniques, choice of words, or tonalities. Since different users may find different nudges to be interesting, NudgeRank™ can learn the preferences of individual users and recommend other similar nudges. For example, some users may have a competitive personality and respond better to nudges that challenge them with social comparisons to peer groups, while others respond better to gentle reminders. Furthermore, nudges can be written as <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p2.1.2">templates</span> that allow the content to be personalized by injecting the user’s own contextual data into the message, as described in Section <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS4" title="3.1.4. Content Personalizer ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3.1.4</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS1.p3">
<p class="ltx_p" id="S3.SS2.SSS1.p3.1"><span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p3.1.1">Who</span>: The program manager can write nudges for different audiences by specifying the target <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p3.1.2">segments</span> for each nudge. For example, different nudges can be written for young adults who are sedentary vs. active. Segments can be defined by static user attributes like demographics, and dynamic attributes like health behaviors. A user’s segment memberships are dynamic and automatically updated, as their health states and behaviors change daily. As a result, the list of candidate nudges that the user may receive is also contextual and up-to-date. For example, suppose the user belongs to the ”Inactive Young Adult” segment on day 1, and gets a nudge reminding the user to exercise. On day 2, the user goes to the gym and moves to another segment called ”Active Young Adult”; the user receives a different nudge saying, ”Good job, keep it up!” Segments can be defined as broadly or precisely as required; for example, nudges can be written for all ”Young Adults”, or only ”Prediabetic Overweight Moderately Active Young Males”. As users perform different health behaviors or their health states change, dynamic segments ensure that the right nudges are selected for them.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS1.p4">
<p class="ltx_p" id="S3.SS2.SSS1.p4.1"><span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p4.1.1">When</span>: Underpinning the ability to send the right nudge at the right time is the <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p4.1.2">dynamic</span> knowledge graph that provides the latest state of the world for the RecSys model to generate nudges with. As new data is collected about users and how they have interacted with nudges, the knowledge graph’s nodes and edges are updated with the latest data. In this way, recommendations are <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS1.p4.1.3">timely</span> and relevant to each user’s current context and behaviors.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2. </span>Cold Start</h4>
<div class="ltx_para" id="S3.SS2.SSS2.p1">
<p class="ltx_p" id="S3.SS2.SSS2.p1.1">In NudgeRank™, the cold start problem can happen when (a) new nudges are added to the Nudge Library, or (b) new users enroll for the health program and they are added to the graph. We solve cold start in two main ways.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p2">
<p class="ltx_p" id="S3.SS2.SSS2.p2.1">First, new users and nudges are added to the knowledge graph, with any information that is known about them. Users have demographic or other data that is collected about them during enrollment. Nudges minimally have a target health goal, target segments, and other attributes. Using these basic information, graph connections can already be established for new users and nudges. Node embeddings representing new users and nudges are initialized using the Xavier initializer <cite class="ltx_cite ltx_citemacro_citep">(Glorot and Bengio, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib10" title="">2010</a>)</cite>, which effectively randomizes the new users and nudges without any learned preferences. By adding new users to the graph, the RecSys is able to recommend nudges that are relevant to the users, even in the absence of any behavior data or nudge interactions; for example, nudges that were opened by other users in the same demographic groups. As new users record their health behaviors and interact with nudges, the recommendations become more and more personalized to their individual contexts and preferences. Likewise, new nudges with no interaction history can already be recommended to users in the relevant target segments, and based on other graph connections.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS2.p3">
<p class="ltx_p" id="S3.SS2.SSS2.p3.3">Second, we introduced a mechanism to ensure <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS2.p3.3.1">diversity</span> of nudges. A configurable parameter <math alttext="p_{diversity}\in[0.0,1.0]" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.1.m1.2"><semantics id="S3.SS2.SSS2.p3.1.m1.2a"><mrow id="S3.SS2.SSS2.p3.1.m1.2.3" xref="S3.SS2.SSS2.p3.1.m1.2.3.cmml"><msub id="S3.SS2.SSS2.p3.1.m1.2.3.2" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.cmml"><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.2" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.2.cmml">p</mi><mrow id="S3.SS2.SSS2.p3.1.m1.2.3.2.3" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.cmml"><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.2" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.2.cmml">d</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.3" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.3.cmml">i</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1a" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.4" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.4.cmml">v</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1b" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.5" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.5.cmml">e</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1c" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.6" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.6.cmml">r</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1d" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.7" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.7.cmml">s</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1e" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.8" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.8.cmml">i</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1f" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.9" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.9.cmml">t</mi><mo id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1g" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.10" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.10.cmml">y</mi></mrow></msub><mo id="S3.SS2.SSS2.p3.1.m1.2.3.1" xref="S3.SS2.SSS2.p3.1.m1.2.3.1.cmml">∈</mo><mrow id="S3.SS2.SSS2.p3.1.m1.2.3.3.2" xref="S3.SS2.SSS2.p3.1.m1.2.3.3.1.cmml"><mo id="S3.SS2.SSS2.p3.1.m1.2.3.3.2.1" stretchy="false" xref="S3.SS2.SSS2.p3.1.m1.2.3.3.1.cmml">[</mo><mn id="S3.SS2.SSS2.p3.1.m1.1.1" xref="S3.SS2.SSS2.p3.1.m1.1.1.cmml">0.0</mn><mo id="S3.SS2.SSS2.p3.1.m1.2.3.3.2.2" xref="S3.SS2.SSS2.p3.1.m1.2.3.3.1.cmml">,</mo><mn id="S3.SS2.SSS2.p3.1.m1.2.2" xref="S3.SS2.SSS2.p3.1.m1.2.2.cmml">1.0</mn><mo id="S3.SS2.SSS2.p3.1.m1.2.3.3.2.3" stretchy="false" xref="S3.SS2.SSS2.p3.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.1.m1.2b"><apply id="S3.SS2.SSS2.p3.1.m1.2.3.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3"><in id="S3.SS2.SSS2.p3.1.m1.2.3.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.1"></in><apply id="S3.SS2.SSS2.p3.1.m1.2.3.2.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.1.m1.2.3.2.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2">subscript</csymbol><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.2.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.2">𝑝</ci><apply id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3"><times id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.1"></times><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.2.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.2">𝑑</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.3.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.3">𝑖</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.4.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.4">𝑣</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.5.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.5">𝑒</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.6.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.6">𝑟</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.7.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.7">𝑠</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.8.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.8">𝑖</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.9.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.9">𝑡</ci><ci id="S3.SS2.SSS2.p3.1.m1.2.3.2.3.10.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.2.3.10">𝑦</ci></apply></apply><interval closure="closed" id="S3.SS2.SSS2.p3.1.m1.2.3.3.1.cmml" xref="S3.SS2.SSS2.p3.1.m1.2.3.3.2"><cn id="S3.SS2.SSS2.p3.1.m1.1.1.cmml" type="float" xref="S3.SS2.SSS2.p3.1.m1.1.1">0.0</cn><cn id="S3.SS2.SSS2.p3.1.m1.2.2.cmml" type="float" xref="S3.SS2.SSS2.p3.1.m1.2.2">1.0</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.1.m1.2c">p_{diversity}\in[0.0,1.0]</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.1.m1.2d">italic_p start_POSTSUBSCRIPT italic_d italic_i italic_v italic_e italic_r italic_s italic_i italic_t italic_y end_POSTSUBSCRIPT ∈ [ 0.0 , 1.0 ]</annotation></semantics></math> controls the proportion of nudges that are randomly sampled without replacement from each user’s list of candidate nudges. For every nudge that is output by the Constraints Filter (Section <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS3" title="3.1.3. Constraints Filter ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3.1.3</span></a>), there is a probability of <math alttext="p_{diversity}" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.2.m2.1"><semantics id="S3.SS2.SSS2.p3.2.m2.1a"><msub id="S3.SS2.SSS2.p3.2.m2.1.1" xref="S3.SS2.SSS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.SSS2.p3.2.m2.1.1.2" xref="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml">p</mi><mrow id="S3.SS2.SSS2.p3.2.m2.1.1.3" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.2" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.2.cmml">d</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.3" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.3.cmml">i</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1a" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.4" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.4.cmml">v</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1b" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.5" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.5.cmml">e</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1c" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.6" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.6.cmml">r</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1d" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.7" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.7.cmml">s</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1e" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.8" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.8.cmml">i</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1f" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.9" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.9.cmml">t</mi><mo id="S3.SS2.SSS2.p3.2.m2.1.1.3.1g" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS2.p3.2.m2.1.1.3.10" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.10.cmml">y</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.2.m2.1b"><apply id="S3.SS2.SSS2.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.2">𝑝</ci><apply id="S3.SS2.SSS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3"><times id="S3.SS2.SSS2.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.1"></times><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.2">𝑑</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.3">𝑖</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.4">𝑣</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.5.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.5">𝑒</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.6.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.6">𝑟</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.7.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.7">𝑠</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.8.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.8">𝑖</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.9.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.9">𝑡</ci><ci id="S3.SS2.SSS2.p3.2.m2.1.1.3.10.cmml" xref="S3.SS2.SSS2.p3.2.m2.1.1.3.10">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.2.m2.1c">p_{diversity}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.2.m2.1d">italic_p start_POSTSUBSCRIPT italic_d italic_i italic_v italic_e italic_r italic_s italic_i italic_t italic_y end_POSTSUBSCRIPT</annotation></semantics></math> that the nudge is replaced by a uniformly sampled nudge from the user’s candidate nudge list. In doing so, some of the nudges actually sent to the user may have been below the top <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.SSS2.p3.3.m3.1"><semantics id="S3.SS2.SSS2.p3.3.m3.1a"><mi id="S3.SS2.SSS2.p3.3.m3.1.1" xref="S3.SS2.SSS2.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p3.3.m3.1b"><ci id="S3.SS2.SSS2.p3.3.m3.1.1.cmml" xref="S3.SS2.SSS2.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS2.p3.3.m3.1d">italic_k</annotation></semantics></math> ranked nudges. This allows a greater diversity of nudges to be sent, including new nudges which are typically not ranked high. Increasing diversity also allows for more user-nudge interaction data to be collected, allowing the RecSys to learn user preferences more broadly.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.3. </span>Business Rules and Constraints</h4>
<div class="ltx_para" id="S3.SS2.SSS3.p1">
<p class="ltx_p" id="S3.SS2.SSS3.p1.1">To ensure and maintain a positive user experience, critical business rules can be configured in the system, according to the specific needs of the health program. These are enforced by the Constraints Filter (Section <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S3.SS1.SSS3" title="3.1.3. Constraints Filter ‣ 3.1. NudgeRank System ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3.1.3</span></a>).</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS3.p2">
<p class="ltx_p" id="S3.SS2.SSS3.p2.2">A <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS3.p2.2.1">Negative Rating Filter</span> removes all nudges that the user has given a negative rating for (e.g. thumbs down) in the last <math alttext="d_{neg\_filter}\geq 0" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p2.1.m1.1"><semantics id="S3.SS2.SSS3.p2.1.m1.1a"><mrow id="S3.SS2.SSS3.p2.1.m1.1.1" xref="S3.SS2.SSS3.p2.1.m1.1.1.cmml"><msub id="S3.SS2.SSS3.p2.1.m1.1.1.2" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.cmml"><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.2" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.2.cmml">d</mi><mrow id="S3.SS2.SSS3.p2.1.m1.1.1.2.3" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.cmml"><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.2" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.2.cmml">n</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.3" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.3.cmml">e</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1a" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.4" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.4.cmml">g</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1b" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.5" mathvariant="normal" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.5.cmml">_</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1c" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.6" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.6.cmml">f</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1d" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.7" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.7.cmml">i</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1e" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.8" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.8.cmml">l</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1f" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.9" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.9.cmml">t</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1g" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.10" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.10.cmml">e</mi><mo id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1h" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.11" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.11.cmml">r</mi></mrow></msub><mo id="S3.SS2.SSS3.p2.1.m1.1.1.1" xref="S3.SS2.SSS3.p2.1.m1.1.1.1.cmml">≥</mo><mn id="S3.SS2.SSS3.p2.1.m1.1.1.3" xref="S3.SS2.SSS3.p2.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p2.1.m1.1b"><apply id="S3.SS2.SSS3.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1"><geq id="S3.SS2.SSS3.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.1"></geq><apply id="S3.SS2.SSS3.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p2.1.m1.1.1.2.1.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.2.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.2">𝑑</ci><apply id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3"><times id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.1"></times><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.2.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.2">𝑛</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.3.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.3">𝑒</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.4.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.4">𝑔</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.5.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.5">_</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.6.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.6">𝑓</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.7.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.7">𝑖</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.8.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.8">𝑙</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.9.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.9">𝑡</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.10.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.10">𝑒</ci><ci id="S3.SS2.SSS3.p2.1.m1.1.1.2.3.11.cmml" xref="S3.SS2.SSS3.p2.1.m1.1.1.2.3.11">𝑟</ci></apply></apply><cn id="S3.SS2.SSS3.p2.1.m1.1.1.3.cmml" type="integer" xref="S3.SS2.SSS3.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p2.1.m1.1c">d_{neg\_filter}\geq 0</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p2.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_n italic_e italic_g _ italic_f italic_i italic_l italic_t italic_e italic_r end_POSTSUBSCRIPT ≥ 0</annotation></semantics></math> days. This prevents such nudges from being recommended again, to maintain a positive user experience. The nudge can be sent again after <math alttext="d_{neg\_filter}" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p2.2.m2.1"><semantics id="S3.SS2.SSS3.p2.2.m2.1a"><msub id="S3.SS2.SSS3.p2.2.m2.1.1" xref="S3.SS2.SSS3.p2.2.m2.1.1.cmml"><mi id="S3.SS2.SSS3.p2.2.m2.1.1.2" xref="S3.SS2.SSS3.p2.2.m2.1.1.2.cmml">d</mi><mrow id="S3.SS2.SSS3.p2.2.m2.1.1.3" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.2" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.2.cmml">n</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.3" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1a" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.4" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.4.cmml">g</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1b" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.5" mathvariant="normal" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.5.cmml">_</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1c" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.6" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.6.cmml">f</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1d" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.7" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.7.cmml">i</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1e" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.8" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.8.cmml">l</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1f" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.9" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.9.cmml">t</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1g" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.10" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.10.cmml">e</mi><mo id="S3.SS2.SSS3.p2.2.m2.1.1.3.1h" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p2.2.m2.1.1.3.11" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.11.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p2.2.m2.1b"><apply id="S3.SS2.SSS3.p2.2.m2.1.1.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p2.2.m2.1.1.1.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS3.p2.2.m2.1.1.2.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.2">𝑑</ci><apply id="S3.SS2.SSS3.p2.2.m2.1.1.3.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3"><times id="S3.SS2.SSS3.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.1"></times><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.2">𝑛</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.4">𝑔</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.5.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.5">_</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.6.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.6">𝑓</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.7.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.7">𝑖</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.8.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.8">𝑙</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.9.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.9">𝑡</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.10.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.10">𝑒</ci><ci id="S3.SS2.SSS3.p2.2.m2.1.1.3.11.cmml" xref="S3.SS2.SSS3.p2.2.m2.1.1.3.11">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p2.2.m2.1c">d_{neg\_filter}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p2.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_n italic_e italic_g _ italic_f italic_i italic_l italic_t italic_e italic_r end_POSTSUBSCRIPT</annotation></semantics></math> days, in case the user’s preferences or context have changed.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS3.p3">
<p class="ltx_p" id="S3.SS2.SSS3.p3.3">Because nudges are delivered via push notifications, a <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS3.p3.3.1">Nudge Budget Filter</span> allows the number of daily nudges to be limited to a configurable parameter <math alttext="k_{daily}" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p3.1.m1.1"><semantics id="S3.SS2.SSS3.p3.1.m1.1a"><msub id="S3.SS2.SSS3.p3.1.m1.1.1" xref="S3.SS2.SSS3.p3.1.m1.1.1.cmml"><mi id="S3.SS2.SSS3.p3.1.m1.1.1.2" xref="S3.SS2.SSS3.p3.1.m1.1.1.2.cmml">k</mi><mrow id="S3.SS2.SSS3.p3.1.m1.1.1.3" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.cmml"><mi id="S3.SS2.SSS3.p3.1.m1.1.1.3.2" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.2.cmml">d</mi><mo id="S3.SS2.SSS3.p3.1.m1.1.1.3.1" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.1.m1.1.1.3.3" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.3.cmml">a</mi><mo id="S3.SS2.SSS3.p3.1.m1.1.1.3.1a" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.1.m1.1.1.3.4" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.4.cmml">i</mi><mo id="S3.SS2.SSS3.p3.1.m1.1.1.3.1b" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.1.m1.1.1.3.5" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.5.cmml">l</mi><mo id="S3.SS2.SSS3.p3.1.m1.1.1.3.1c" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.1.m1.1.1.3.6" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.6.cmml">y</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p3.1.m1.1b"><apply id="S3.SS2.SSS3.p3.1.m1.1.1.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p3.1.m1.1.1.1.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS3.p3.1.m1.1.1.2.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.2">𝑘</ci><apply id="S3.SS2.SSS3.p3.1.m1.1.1.3.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3"><times id="S3.SS2.SSS3.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.1"></times><ci id="S3.SS2.SSS3.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.2">𝑑</ci><ci id="S3.SS2.SSS3.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.3">𝑎</ci><ci id="S3.SS2.SSS3.p3.1.m1.1.1.3.4.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.4">𝑖</ci><ci id="S3.SS2.SSS3.p3.1.m1.1.1.3.5.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.5">𝑙</ci><ci id="S3.SS2.SSS3.p3.1.m1.1.1.3.6.cmml" xref="S3.SS2.SSS3.p3.1.m1.1.1.3.6">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p3.1.m1.1c">k_{daily}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p3.1.m1.1d">italic_k start_POSTSUBSCRIPT italic_d italic_a italic_i italic_l italic_y end_POSTSUBSCRIPT</annotation></semantics></math>, to reduce nudge fatigue and annoyance to users. If a user has <math alttext="k_{recommended}" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p3.2.m2.1"><semantics id="S3.SS2.SSS3.p3.2.m2.1a"><msub id="S3.SS2.SSS3.p3.2.m2.1.1" xref="S3.SS2.SSS3.p3.2.m2.1.1.cmml"><mi id="S3.SS2.SSS3.p3.2.m2.1.1.2" xref="S3.SS2.SSS3.p3.2.m2.1.1.2.cmml">k</mi><mrow id="S3.SS2.SSS3.p3.2.m2.1.1.3" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.2" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.2.cmml">r</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.3" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1a" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.4" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.4.cmml">c</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1b" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.5" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.5.cmml">o</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1c" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.6" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.6.cmml">m</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1d" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.7" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.7.cmml">m</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1e" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.8" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.8.cmml">e</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1f" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.9" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.9.cmml">n</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1g" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.10" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.10.cmml">d</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1h" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.11" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.11.cmml">e</mi><mo id="S3.SS2.SSS3.p3.2.m2.1.1.3.1i" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.2.m2.1.1.3.12" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.12.cmml">d</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p3.2.m2.1b"><apply id="S3.SS2.SSS3.p3.2.m2.1.1.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p3.2.m2.1.1.1.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS3.p3.2.m2.1.1.2.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.2">𝑘</ci><apply id="S3.SS2.SSS3.p3.2.m2.1.1.3.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3"><times id="S3.SS2.SSS3.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.1"></times><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.2">𝑟</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.4.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.4">𝑐</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.5.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.5">𝑜</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.6.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.6">𝑚</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.7.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.7">𝑚</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.8.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.8">𝑒</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.9.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.9">𝑛</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.10.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.10">𝑑</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.11.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.11">𝑒</ci><ci id="S3.SS2.SSS3.p3.2.m2.1.1.3.12.cmml" xref="S3.SS2.SSS3.p3.2.m2.1.1.3.12">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p3.2.m2.1c">k_{recommended}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p3.2.m2.1d">italic_k start_POSTSUBSCRIPT italic_r italic_e italic_c italic_o italic_m italic_m italic_e italic_n italic_d italic_e italic_d end_POSTSUBSCRIPT</annotation></semantics></math> recommended nudges after all other constraints have been applied, then the actual number of nudges sent is <math alttext="k_{final}=\min(k_{daily},k_{recommended})" class="ltx_Math" display="inline" id="S3.SS2.SSS3.p3.3.m3.3"><semantics id="S3.SS2.SSS3.p3.3.m3.3a"><mrow id="S3.SS2.SSS3.p3.3.m3.3.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.cmml"><msub id="S3.SS2.SSS3.p3.3.m3.3.3.4" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.2.cmml">k</mi><mrow id="S3.SS2.SSS3.p3.3.m3.3.3.4.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.2.cmml">f</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.3.cmml">i</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1a" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.4" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.4.cmml">n</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1b" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.5" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.5.cmml">a</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1c" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.6" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.6.cmml">l</mi></mrow></msub><mo id="S3.SS2.SSS3.p3.3.m3.3.3.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.3.cmml">=</mo><mrow id="S3.SS2.SSS3.p3.3.m3.3.3.2.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.1.1" xref="S3.SS2.SSS3.p3.3.m3.1.1.cmml">min</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2a" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml">⁡</mo><mrow id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml"><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.3" stretchy="false" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml">(</mo><msub id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.2" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.2.cmml">k</mi><mrow id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.2" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.2.cmml">d</mi><mo id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.3" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.3.cmml">a</mi><mo id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1a" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.4" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.4.cmml">i</mi><mo id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1b" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.5" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.5.cmml">l</mi><mo id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1c" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.6" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.6.cmml">y</mi></mrow></msub><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.4" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml">,</mo><msub id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.2.cmml">k</mi><mrow id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.cmml"><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.2" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.2.cmml">r</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.3" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.3.cmml">e</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1a" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.4" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.4.cmml">c</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1b" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.5" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.5.cmml">o</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1c" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.6" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.6.cmml">m</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1d" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.7" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.7.cmml">m</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1e" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.8" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.8.cmml">e</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1f" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.9" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.9.cmml">n</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1g" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.10" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.10.cmml">d</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1h" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.11" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.11.cmml">e</mi><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1i" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.12" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.12.cmml">d</mi></mrow></msub><mo id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.5" stretchy="false" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p3.3.m3.3b"><apply id="S3.SS2.SSS3.p3.3.m3.3.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3"><eq id="S3.SS2.SSS3.p3.3.m3.3.3.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.3"></eq><apply id="S3.SS2.SSS3.p3.3.m3.3.3.4.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p3.3.m3.3.3.4.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4">subscript</csymbol><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.2">𝑘</ci><apply id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3"><times id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.1"></times><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.2">𝑓</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.3">𝑖</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.4.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.4">𝑛</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.5.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.5">𝑎</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.4.3.6.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.4.3.6">𝑙</ci></apply></apply><apply id="S3.SS2.SSS3.p3.3.m3.3.3.2.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2"><min id="S3.SS2.SSS3.p3.3.m3.1.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.1.1"></min><apply id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1">subscript</csymbol><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.2">𝑘</ci><apply id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3"><times id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.1"></times><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.2">𝑑</ci><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.3">𝑎</ci><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.4.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.4">𝑖</ci><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.5.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.5">𝑙</ci><ci id="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.6.cmml" xref="S3.SS2.SSS3.p3.3.m3.2.2.1.1.1.1.3.6">𝑦</ci></apply></apply><apply id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2">subscript</csymbol><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.2">𝑘</ci><apply id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3"><times id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.1"></times><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.2.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.2">𝑟</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.3.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.3">𝑒</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.4.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.4">𝑐</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.5.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.5">𝑜</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.6.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.6">𝑚</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.7.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.7">𝑚</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.8.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.8">𝑒</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.9.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.9">𝑛</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.10.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.10">𝑑</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.11.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.11">𝑒</ci><ci id="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.12.cmml" xref="S3.SS2.SSS3.p3.3.m3.3.3.2.2.2.2.3.12">𝑑</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p3.3.m3.3c">k_{final}=\min(k_{daily},k_{recommended})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS3.p3.3.m3.3d">italic_k start_POSTSUBSCRIPT italic_f italic_i italic_n italic_a italic_l end_POSTSUBSCRIPT = roman_min ( italic_k start_POSTSUBSCRIPT italic_d italic_a italic_i italic_l italic_y end_POSTSUBSCRIPT , italic_k start_POSTSUBSCRIPT italic_r italic_e italic_c italic_o italic_m italic_m italic_e italic_n italic_d italic_e italic_d end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.4. </span>Performance and Resilience</h4>
<div class="ltx_para" id="S3.SS2.SSS4.p1">
<p class="ltx_p" id="S3.SS2.SSS4.p1.3">Generating nudges for a large population in production requires the NudgeRank™ system to be engineered with performance and resilience in mind. NudgeRank™ runs on Kubernetes, with critical pipelines running in parallel and distributed across the cluster. This allows the system to scale horizontally on commodity infrastructure, including virtual machines and storage from any cloud provider. Specifically, the batch scoring pipelines run in parallel by processing and generating different subsets of the population. As many instances of the pipeline as needed can be instantiated to handle the load of a large and growing population of users. Based on the number of Kubernetes nodes available and the desired overall execution time, the parameter <math alttext="b&gt;0" class="ltx_Math" display="inline" id="S3.SS2.SSS4.p1.1.m1.1"><semantics id="S3.SS2.SSS4.p1.1.m1.1a"><mrow id="S3.SS2.SSS4.p1.1.m1.1.1" xref="S3.SS2.SSS4.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS4.p1.1.m1.1.1.2" xref="S3.SS2.SSS4.p1.1.m1.1.1.2.cmml">b</mi><mo id="S3.SS2.SSS4.p1.1.m1.1.1.1" xref="S3.SS2.SSS4.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S3.SS2.SSS4.p1.1.m1.1.1.3" xref="S3.SS2.SSS4.p1.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS4.p1.1.m1.1b"><apply id="S3.SS2.SSS4.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS4.p1.1.m1.1.1"><gt id="S3.SS2.SSS4.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS4.p1.1.m1.1.1.1"></gt><ci id="S3.SS2.SSS4.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS4.p1.1.m1.1.1.2">𝑏</ci><cn id="S3.SS2.SSS4.p1.1.m1.1.1.3.cmml" type="integer" xref="S3.SS2.SSS4.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS4.p1.1.m1.1c">b&gt;0</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS4.p1.1.m1.1d">italic_b &gt; 0</annotation></semantics></math> determines how many parallel batches are processed. The <math alttext="n" class="ltx_Math" display="inline" id="S3.SS2.SSS4.p1.2.m2.1"><semantics id="S3.SS2.SSS4.p1.2.m2.1a"><mi id="S3.SS2.SSS4.p1.2.m2.1.1" xref="S3.SS2.SSS4.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS4.p1.2.m2.1b"><ci id="S3.SS2.SSS4.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS4.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS4.p1.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS4.p1.2.m2.1d">italic_n</annotation></semantics></math> users are divided into <math alttext="b" class="ltx_Math" display="inline" id="S3.SS2.SSS4.p1.3.m3.1"><semantics id="S3.SS2.SSS4.p1.3.m3.1a"><mi id="S3.SS2.SSS4.p1.3.m3.1.1" xref="S3.SS2.SSS4.p1.3.m3.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS4.p1.3.m3.1b"><ci id="S3.SS2.SSS4.p1.3.m3.1.1.cmml" xref="S3.SS2.SSS4.p1.3.m3.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS4.p1.3.m3.1c">b</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS4.p1.3.m3.1d">italic_b</annotation></semantics></math> equal batches, then the NudgeRank™ pipeline is run for each batch of users. The generated nudges for all users are then concatenated at the final step before publishing the nudges in NudgeAPI. This is illustrated in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#alg1" title="Algorithm 1 ‣ 3.2.4. Performance and Resilience ‣ 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS4.p2">
<p class="ltx_p" id="S3.SS2.SSS4.p2.1">A distributed system architecture running in the cloud introduces sources of potential failures in the system. For example, intermittent network issues when reading or writing data, or issues in the Kubernetes cluster may cause various parts of the pipeline to fail. To improve the resilience of the system, an automated retry mechanism was built into the parallel algorithm, to automatically recover from failures and increase the fault-tolerance of the system. If any failures occur within a batch resulting in an exception being raised, the processing for that batch is repeated. Because batches contain non-overlapping subsets of users, there is no conflict with other batches being processed. To minimize the time to recover from failures, only failed batches need to be re-executed, and the results of other successful batches are retained for the final output.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> Parallel NudgeRank™</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l0">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0.1.1.1" style="font-size:80%;">0:</span></span>  <math alttext="n&gt;0" class="ltx_Math" display="inline" id="alg1.l0.m1.1"><semantics id="alg1.l0.m1.1a"><mrow id="alg1.l0.m1.1.1" xref="alg1.l0.m1.1.1.cmml"><mi id="alg1.l0.m1.1.1.2" xref="alg1.l0.m1.1.1.2.cmml">n</mi><mo id="alg1.l0.m1.1.1.1" xref="alg1.l0.m1.1.1.1.cmml">&gt;</mo><mn id="alg1.l0.m1.1.1.3" xref="alg1.l0.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.1b"><apply id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1"><gt id="alg1.l0.m1.1.1.1.cmml" xref="alg1.l0.m1.1.1.1"></gt><ci id="alg1.l0.m1.1.1.2.cmml" xref="alg1.l0.m1.1.1.2">𝑛</ci><cn id="alg1.l0.m1.1.1.3.cmml" type="integer" xref="alg1.l0.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.1c">n&gt;0</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m1.1d">italic_n &gt; 0</annotation></semantics></math> and <math alttext="b\geq 1" class="ltx_Math" display="inline" id="alg1.l0.m2.1"><semantics id="alg1.l0.m2.1a"><mrow id="alg1.l0.m2.1.1" xref="alg1.l0.m2.1.1.cmml"><mi id="alg1.l0.m2.1.1.2" xref="alg1.l0.m2.1.1.2.cmml">b</mi><mo id="alg1.l0.m2.1.1.1" xref="alg1.l0.m2.1.1.1.cmml">≥</mo><mn id="alg1.l0.m2.1.1.3" xref="alg1.l0.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m2.1b"><apply id="alg1.l0.m2.1.1.cmml" xref="alg1.l0.m2.1.1"><geq id="alg1.l0.m2.1.1.1.cmml" xref="alg1.l0.m2.1.1.1"></geq><ci id="alg1.l0.m2.1.1.2.cmml" xref="alg1.l0.m2.1.1.2">𝑏</ci><cn id="alg1.l0.m2.1.1.3.cmml" type="integer" xref="alg1.l0.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m2.1c">b\geq 1</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m2.1d">italic_b ≥ 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l1">  <math alttext="nudges\leftarrow\{\}" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mrow id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml"><mi id="alg1.l1.m1.1.1.2.2" xref="alg1.l1.m1.1.1.2.2.cmml">n</mi><mo id="alg1.l1.m1.1.1.2.1" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.3" xref="alg1.l1.m1.1.1.2.3.cmml">u</mi><mo id="alg1.l1.m1.1.1.2.1a" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.4" xref="alg1.l1.m1.1.1.2.4.cmml">d</mi><mo id="alg1.l1.m1.1.1.2.1b" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.5" xref="alg1.l1.m1.1.1.2.5.cmml">g</mi><mo id="alg1.l1.m1.1.1.2.1c" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.6" xref="alg1.l1.m1.1.1.2.6.cmml">e</mi><mo id="alg1.l1.m1.1.1.2.1d" xref="alg1.l1.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.2.7" xref="alg1.l1.m1.1.1.2.7.cmml">s</mi></mrow><mo id="alg1.l1.m1.1.1.1" stretchy="false" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mrow id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.cmml"><mo id="alg1.l1.m1.1.1.3.2.1" stretchy="false" xref="alg1.l1.m1.1.1.3.1.cmml">{</mo><mo id="alg1.l1.m1.1.1.3.2.2" stretchy="false" xref="alg1.l1.m1.1.1.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><apply id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2"><times id="alg1.l1.m1.1.1.2.1.cmml" xref="alg1.l1.m1.1.1.2.1"></times><ci id="alg1.l1.m1.1.1.2.2.cmml" xref="alg1.l1.m1.1.1.2.2">𝑛</ci><ci id="alg1.l1.m1.1.1.2.3.cmml" xref="alg1.l1.m1.1.1.2.3">𝑢</ci><ci id="alg1.l1.m1.1.1.2.4.cmml" xref="alg1.l1.m1.1.1.2.4">𝑑</ci><ci id="alg1.l1.m1.1.1.2.5.cmml" xref="alg1.l1.m1.1.1.2.5">𝑔</ci><ci id="alg1.l1.m1.1.1.2.6.cmml" xref="alg1.l1.m1.1.1.2.6">𝑒</ci><ci id="alg1.l1.m1.1.1.2.7.cmml" xref="alg1.l1.m1.1.1.2.7">𝑠</ci></apply><list id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">nudges\leftarrow\{\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_n italic_u italic_d italic_g italic_e italic_s ← { }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l2">  <math alttext="n_{batch}\leftarrow\lceil\frac{n}{b}\rceil" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.2" xref="alg1.l2.m1.1.2.cmml"><msub id="alg1.l2.m1.1.2.2" xref="alg1.l2.m1.1.2.2.cmml"><mi id="alg1.l2.m1.1.2.2.2" xref="alg1.l2.m1.1.2.2.2.cmml">n</mi><mrow id="alg1.l2.m1.1.2.2.3" xref="alg1.l2.m1.1.2.2.3.cmml"><mi id="alg1.l2.m1.1.2.2.3.2" xref="alg1.l2.m1.1.2.2.3.2.cmml">b</mi><mo id="alg1.l2.m1.1.2.2.3.1" xref="alg1.l2.m1.1.2.2.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.2.2.3.3" xref="alg1.l2.m1.1.2.2.3.3.cmml">a</mi><mo id="alg1.l2.m1.1.2.2.3.1a" xref="alg1.l2.m1.1.2.2.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.2.2.3.4" xref="alg1.l2.m1.1.2.2.3.4.cmml">t</mi><mo id="alg1.l2.m1.1.2.2.3.1b" xref="alg1.l2.m1.1.2.2.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.2.2.3.5" xref="alg1.l2.m1.1.2.2.3.5.cmml">c</mi><mo id="alg1.l2.m1.1.2.2.3.1c" xref="alg1.l2.m1.1.2.2.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.2.2.3.6" xref="alg1.l2.m1.1.2.2.3.6.cmml">h</mi></mrow></msub><mo id="alg1.l2.m1.1.2.1" stretchy="false" xref="alg1.l2.m1.1.2.1.cmml">←</mo><mrow id="alg1.l2.m1.1.2.3.2" xref="alg1.l2.m1.1.2.3.1.cmml"><mo id="alg1.l2.m1.1.2.3.2.1" stretchy="false" xref="alg1.l2.m1.1.2.3.1.1.cmml">⌈</mo><mfrac id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">n</mi><mi id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">b</mi></mfrac><mo id="alg1.l2.m1.1.2.3.2.2" stretchy="false" xref="alg1.l2.m1.1.2.3.1.1.cmml">⌉</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.2.cmml" xref="alg1.l2.m1.1.2"><ci id="alg1.l2.m1.1.2.1.cmml" xref="alg1.l2.m1.1.2.1">←</ci><apply id="alg1.l2.m1.1.2.2.cmml" xref="alg1.l2.m1.1.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.2.2.1.cmml" xref="alg1.l2.m1.1.2.2">subscript</csymbol><ci id="alg1.l2.m1.1.2.2.2.cmml" xref="alg1.l2.m1.1.2.2.2">𝑛</ci><apply id="alg1.l2.m1.1.2.2.3.cmml" xref="alg1.l2.m1.1.2.2.3"><times id="alg1.l2.m1.1.2.2.3.1.cmml" xref="alg1.l2.m1.1.2.2.3.1"></times><ci id="alg1.l2.m1.1.2.2.3.2.cmml" xref="alg1.l2.m1.1.2.2.3.2">𝑏</ci><ci id="alg1.l2.m1.1.2.2.3.3.cmml" xref="alg1.l2.m1.1.2.2.3.3">𝑎</ci><ci id="alg1.l2.m1.1.2.2.3.4.cmml" xref="alg1.l2.m1.1.2.2.3.4">𝑡</ci><ci id="alg1.l2.m1.1.2.2.3.5.cmml" xref="alg1.l2.m1.1.2.2.3.5">𝑐</ci><ci id="alg1.l2.m1.1.2.2.3.6.cmml" xref="alg1.l2.m1.1.2.2.3.6">ℎ</ci></apply></apply><apply id="alg1.l2.m1.1.2.3.1.cmml" xref="alg1.l2.m1.1.2.3.2"><ceiling id="alg1.l2.m1.1.2.3.1.1.cmml" xref="alg1.l2.m1.1.2.3.2.1"></ceiling><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><divide id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1"></divide><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑛</ci><ci id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">𝑏</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">n_{batch}\leftarrow\lceil\frac{n}{b}\rceil</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_n start_POSTSUBSCRIPT italic_b italic_a italic_t italic_c italic_h end_POSTSUBSCRIPT ← ⌈ divide start_ARG italic_n end_ARG start_ARG italic_b end_ARG ⌉</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">  <math alttext="\mathcal{G}\leftarrow" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">𝒢</mi><mo id="alg1.l3.m1.1.1.1" stretchy="false" xref="alg1.l3.m1.1.1.1.cmml">←</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">←</ci><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝒢</ci><csymbol cd="latexml" id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">\mathcal{G}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">caligraphic_G ←</annotation></semantics></math> KGConstructor(<math alttext="nudge\_library" class="ltx_Math" display="inline" id="alg1.l3.m2.1"><semantics id="alg1.l3.m2.1a"><mrow id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml"><mi id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">n</mi><mo id="alg1.l3.m2.1.1.1" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml">u</mi><mo id="alg1.l3.m2.1.1.1a" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.4" xref="alg1.l3.m2.1.1.4.cmml">d</mi><mo id="alg1.l3.m2.1.1.1b" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.5" xref="alg1.l3.m2.1.1.5.cmml">g</mi><mo id="alg1.l3.m2.1.1.1c" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.6" xref="alg1.l3.m2.1.1.6.cmml">e</mi><mo id="alg1.l3.m2.1.1.1d" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.7" mathvariant="normal" xref="alg1.l3.m2.1.1.7.cmml">_</mi><mo id="alg1.l3.m2.1.1.1e" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.8" xref="alg1.l3.m2.1.1.8.cmml">l</mi><mo id="alg1.l3.m2.1.1.1f" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.9" xref="alg1.l3.m2.1.1.9.cmml">i</mi><mo id="alg1.l3.m2.1.1.1g" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.10" xref="alg1.l3.m2.1.1.10.cmml">b</mi><mo id="alg1.l3.m2.1.1.1h" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.11" xref="alg1.l3.m2.1.1.11.cmml">r</mi><mo id="alg1.l3.m2.1.1.1i" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.12" xref="alg1.l3.m2.1.1.12.cmml">a</mi><mo id="alg1.l3.m2.1.1.1j" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.13" xref="alg1.l3.m2.1.1.13.cmml">r</mi><mo id="alg1.l3.m2.1.1.1k" xref="alg1.l3.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m2.1.1.14" xref="alg1.l3.m2.1.1.14.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1"><times id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1.1"></times><ci id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2">𝑛</ci><ci id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3">𝑢</ci><ci id="alg1.l3.m2.1.1.4.cmml" xref="alg1.l3.m2.1.1.4">𝑑</ci><ci id="alg1.l3.m2.1.1.5.cmml" xref="alg1.l3.m2.1.1.5">𝑔</ci><ci id="alg1.l3.m2.1.1.6.cmml" xref="alg1.l3.m2.1.1.6">𝑒</ci><ci id="alg1.l3.m2.1.1.7.cmml" xref="alg1.l3.m2.1.1.7">_</ci><ci id="alg1.l3.m2.1.1.8.cmml" xref="alg1.l3.m2.1.1.8">𝑙</ci><ci id="alg1.l3.m2.1.1.9.cmml" xref="alg1.l3.m2.1.1.9">𝑖</ci><ci id="alg1.l3.m2.1.1.10.cmml" xref="alg1.l3.m2.1.1.10">𝑏</ci><ci id="alg1.l3.m2.1.1.11.cmml" xref="alg1.l3.m2.1.1.11">𝑟</ci><ci id="alg1.l3.m2.1.1.12.cmml" xref="alg1.l3.m2.1.1.12">𝑎</ci><ci id="alg1.l3.m2.1.1.13.cmml" xref="alg1.l3.m2.1.1.13">𝑟</ci><ci id="alg1.l3.m2.1.1.14.cmml" xref="alg1.l3.m2.1.1.14">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">nudge\_library</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.1d">italic_n italic_u italic_d italic_g italic_e _ italic_l italic_i italic_b italic_r italic_a italic_r italic_y</annotation></semantics></math>, <math alttext="participant\_data" class="ltx_Math" display="inline" id="alg1.l3.m3.1"><semantics id="alg1.l3.m3.1a"><mrow id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml"><mi id="alg1.l3.m3.1.1.2" xref="alg1.l3.m3.1.1.2.cmml">p</mi><mo id="alg1.l3.m3.1.1.1" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.3" xref="alg1.l3.m3.1.1.3.cmml">a</mi><mo id="alg1.l3.m3.1.1.1a" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.4" xref="alg1.l3.m3.1.1.4.cmml">r</mi><mo id="alg1.l3.m3.1.1.1b" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.5" xref="alg1.l3.m3.1.1.5.cmml">t</mi><mo id="alg1.l3.m3.1.1.1c" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.6" xref="alg1.l3.m3.1.1.6.cmml">i</mi><mo id="alg1.l3.m3.1.1.1d" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.7" xref="alg1.l3.m3.1.1.7.cmml">c</mi><mo id="alg1.l3.m3.1.1.1e" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.8" xref="alg1.l3.m3.1.1.8.cmml">i</mi><mo id="alg1.l3.m3.1.1.1f" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.9" xref="alg1.l3.m3.1.1.9.cmml">p</mi><mo id="alg1.l3.m3.1.1.1g" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.10" xref="alg1.l3.m3.1.1.10.cmml">a</mi><mo id="alg1.l3.m3.1.1.1h" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.11" xref="alg1.l3.m3.1.1.11.cmml">n</mi><mo id="alg1.l3.m3.1.1.1i" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.12" xref="alg1.l3.m3.1.1.12.cmml">t</mi><mo id="alg1.l3.m3.1.1.1j" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.13" mathvariant="normal" xref="alg1.l3.m3.1.1.13.cmml">_</mi><mo id="alg1.l3.m3.1.1.1k" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.14" xref="alg1.l3.m3.1.1.14.cmml">d</mi><mo id="alg1.l3.m3.1.1.1l" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.15" xref="alg1.l3.m3.1.1.15.cmml">a</mi><mo id="alg1.l3.m3.1.1.1m" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.16" xref="alg1.l3.m3.1.1.16.cmml">t</mi><mo id="alg1.l3.m3.1.1.1n" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.17" xref="alg1.l3.m3.1.1.17.cmml">a</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b"><apply id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1"><times id="alg1.l3.m3.1.1.1.cmml" xref="alg1.l3.m3.1.1.1"></times><ci id="alg1.l3.m3.1.1.2.cmml" xref="alg1.l3.m3.1.1.2">𝑝</ci><ci id="alg1.l3.m3.1.1.3.cmml" xref="alg1.l3.m3.1.1.3">𝑎</ci><ci id="alg1.l3.m3.1.1.4.cmml" xref="alg1.l3.m3.1.1.4">𝑟</ci><ci id="alg1.l3.m3.1.1.5.cmml" xref="alg1.l3.m3.1.1.5">𝑡</ci><ci id="alg1.l3.m3.1.1.6.cmml" xref="alg1.l3.m3.1.1.6">𝑖</ci><ci id="alg1.l3.m3.1.1.7.cmml" xref="alg1.l3.m3.1.1.7">𝑐</ci><ci id="alg1.l3.m3.1.1.8.cmml" xref="alg1.l3.m3.1.1.8">𝑖</ci><ci id="alg1.l3.m3.1.1.9.cmml" xref="alg1.l3.m3.1.1.9">𝑝</ci><ci id="alg1.l3.m3.1.1.10.cmml" xref="alg1.l3.m3.1.1.10">𝑎</ci><ci id="alg1.l3.m3.1.1.11.cmml" xref="alg1.l3.m3.1.1.11">𝑛</ci><ci id="alg1.l3.m3.1.1.12.cmml" xref="alg1.l3.m3.1.1.12">𝑡</ci><ci id="alg1.l3.m3.1.1.13.cmml" xref="alg1.l3.m3.1.1.13">_</ci><ci id="alg1.l3.m3.1.1.14.cmml" xref="alg1.l3.m3.1.1.14">𝑑</ci><ci id="alg1.l3.m3.1.1.15.cmml" xref="alg1.l3.m3.1.1.15">𝑎</ci><ci id="alg1.l3.m3.1.1.16.cmml" xref="alg1.l3.m3.1.1.16">𝑡</ci><ci id="alg1.l3.m3.1.1.17.cmml" xref="alg1.l3.m3.1.1.17">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.1c">participant\_data</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m3.1d">italic_p italic_a italic_r italic_t italic_i italic_c italic_i italic_p italic_a italic_n italic_t _ italic_d italic_a italic_t italic_a</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l4">  <span class="ltx_text ltx_font_bold" id="alg1.l4.1">for all</span> <math alttext="q,1\leq q\leq b" class="ltx_Math" display="inline" id="alg1.l4.m1.2"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.3" xref="alg1.l4.m1.2.3.cmml"><mrow id="alg1.l4.m1.2.3.2.2" xref="alg1.l4.m1.2.3.2.1.cmml"><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">q</mi><mo id="alg1.l4.m1.2.3.2.2.1" xref="alg1.l4.m1.2.3.2.1.cmml">,</mo><mn id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml">1</mn></mrow><mo id="alg1.l4.m1.2.3.3" xref="alg1.l4.m1.2.3.3.cmml">≤</mo><mi id="alg1.l4.m1.2.3.4" xref="alg1.l4.m1.2.3.4.cmml">q</mi><mo id="alg1.l4.m1.2.3.5" xref="alg1.l4.m1.2.3.5.cmml">≤</mo><mi id="alg1.l4.m1.2.3.6" xref="alg1.l4.m1.2.3.6.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.3.cmml" xref="alg1.l4.m1.2.3"><and id="alg1.l4.m1.2.3a.cmml" xref="alg1.l4.m1.2.3"></and><apply id="alg1.l4.m1.2.3b.cmml" xref="alg1.l4.m1.2.3"><leq id="alg1.l4.m1.2.3.3.cmml" xref="alg1.l4.m1.2.3.3"></leq><list id="alg1.l4.m1.2.3.2.1.cmml" xref="alg1.l4.m1.2.3.2.2"><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝑞</ci><cn id="alg1.l4.m1.2.2.cmml" type="integer" xref="alg1.l4.m1.2.2">1</cn></list><ci id="alg1.l4.m1.2.3.4.cmml" xref="alg1.l4.m1.2.3.4">𝑞</ci></apply><apply id="alg1.l4.m1.2.3c.cmml" xref="alg1.l4.m1.2.3"><leq id="alg1.l4.m1.2.3.5.cmml" xref="alg1.l4.m1.2.3.5"></leq><share href="https://arxiv.org/html/2407.20241v1#alg1.l4.m1.2.3.4.cmml" id="alg1.l4.m1.2.3d.cmml" xref="alg1.l4.m1.2.3"></share><ci id="alg1.l4.m1.2.3.6.cmml" xref="alg1.l4.m1.2.3.6">𝑏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">q,1\leq q\leq b</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.2d">italic_q , 1 ≤ italic_q ≤ italic_b</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l4.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l5">     /* Run all batches in parallel. If any batch fails, repeat it. */

</div>
<div class="ltx_listingline" id="alg1.l6">     <math alttext="batch\_users=\{u_{i}|(q-1)\cdot n_{batch}&lt;i\leq q\cdot n_{batch}\}" class="ltx_Math" display="inline" id="alg1.l6.m1.2"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><mrow id="alg1.l6.m1.2.2.4" xref="alg1.l6.m1.2.2.4.cmml"><mi id="alg1.l6.m1.2.2.4.2" xref="alg1.l6.m1.2.2.4.2.cmml">b</mi><mo id="alg1.l6.m1.2.2.4.1" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.3" xref="alg1.l6.m1.2.2.4.3.cmml">a</mi><mo id="alg1.l6.m1.2.2.4.1a" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.4" xref="alg1.l6.m1.2.2.4.4.cmml">t</mi><mo id="alg1.l6.m1.2.2.4.1b" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.5" xref="alg1.l6.m1.2.2.4.5.cmml">c</mi><mo id="alg1.l6.m1.2.2.4.1c" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.6" xref="alg1.l6.m1.2.2.4.6.cmml">h</mi><mo id="alg1.l6.m1.2.2.4.1d" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.7" mathvariant="normal" xref="alg1.l6.m1.2.2.4.7.cmml">_</mi><mo id="alg1.l6.m1.2.2.4.1e" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.8" xref="alg1.l6.m1.2.2.4.8.cmml">u</mi><mo id="alg1.l6.m1.2.2.4.1f" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.9" xref="alg1.l6.m1.2.2.4.9.cmml">s</mi><mo id="alg1.l6.m1.2.2.4.1g" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.10" xref="alg1.l6.m1.2.2.4.10.cmml">e</mi><mo id="alg1.l6.m1.2.2.4.1h" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.11" xref="alg1.l6.m1.2.2.4.11.cmml">r</mi><mo id="alg1.l6.m1.2.2.4.1i" xref="alg1.l6.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.4.12" xref="alg1.l6.m1.2.2.4.12.cmml">s</mi></mrow><mo id="alg1.l6.m1.2.2.3" xref="alg1.l6.m1.2.2.3.cmml">=</mo><mrow id="alg1.l6.m1.2.2.2.2" xref="alg1.l6.m1.2.2.2.3.cmml"><mo id="alg1.l6.m1.2.2.2.2.3" stretchy="false" xref="alg1.l6.m1.2.2.2.3.1.cmml">{</mo><msub id="alg1.l6.m1.1.1.1.1.1" xref="alg1.l6.m1.1.1.1.1.1.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.2" xref="alg1.l6.m1.1.1.1.1.1.2.cmml">u</mi><mi id="alg1.l6.m1.1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg1.l6.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="alg1.l6.m1.2.2.2.3.1.cmml">|</mo><mrow id="alg1.l6.m1.2.2.2.2.2" xref="alg1.l6.m1.2.2.2.2.2.cmml"><mrow id="alg1.l6.m1.2.2.2.2.2.1" xref="alg1.l6.m1.2.2.2.2.2.1.cmml"><mrow id="alg1.l6.m1.2.2.2.2.2.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.cmml"><mo id="alg1.l6.m1.2.2.2.2.2.1.1.1.2" stretchy="false" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.cmml">(</mo><mrow id="alg1.l6.m1.2.2.2.2.2.1.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.2" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.2.cmml">q</mi><mo id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.1" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.1.cmml">−</mo><mn id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.3" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.3.cmml">1</mn></mrow><mo id="alg1.l6.m1.2.2.2.2.2.1.1.1.3" rspace="0.055em" stretchy="false" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.cmml">)</mo></mrow><mo id="alg1.l6.m1.2.2.2.2.2.1.2" rspace="0.222em" xref="alg1.l6.m1.2.2.2.2.2.1.2.cmml">⋅</mo><msub id="alg1.l6.m1.2.2.2.2.2.1.3" xref="alg1.l6.m1.2.2.2.2.2.1.3.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.1.3.2" xref="alg1.l6.m1.2.2.2.2.2.1.3.2.cmml">n</mi><mrow id="alg1.l6.m1.2.2.2.2.2.1.3.3" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.1.3.3.2" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.2.cmml">b</mi><mo id="alg1.l6.m1.2.2.2.2.2.1.3.3.1" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.1.3.3.3" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.3.cmml">a</mi><mo id="alg1.l6.m1.2.2.2.2.2.1.3.3.1a" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.1.3.3.4" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.4.cmml">t</mi><mo id="alg1.l6.m1.2.2.2.2.2.1.3.3.1b" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.1.3.3.5" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.5.cmml">c</mi><mo id="alg1.l6.m1.2.2.2.2.2.1.3.3.1c" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.1.3.3.6" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.6.cmml">h</mi></mrow></msub></mrow><mo id="alg1.l6.m1.2.2.2.2.2.3" xref="alg1.l6.m1.2.2.2.2.2.3.cmml">&lt;</mo><mi id="alg1.l6.m1.2.2.2.2.2.4" xref="alg1.l6.m1.2.2.2.2.2.4.cmml">i</mi><mo id="alg1.l6.m1.2.2.2.2.2.5" xref="alg1.l6.m1.2.2.2.2.2.5.cmml">≤</mo><mrow id="alg1.l6.m1.2.2.2.2.2.6" xref="alg1.l6.m1.2.2.2.2.2.6.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.6.2" xref="alg1.l6.m1.2.2.2.2.2.6.2.cmml">q</mi><mo id="alg1.l6.m1.2.2.2.2.2.6.1" lspace="0.222em" rspace="0.222em" xref="alg1.l6.m1.2.2.2.2.2.6.1.cmml">⋅</mo><msub id="alg1.l6.m1.2.2.2.2.2.6.3" xref="alg1.l6.m1.2.2.2.2.2.6.3.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.6.3.2" xref="alg1.l6.m1.2.2.2.2.2.6.3.2.cmml">n</mi><mrow id="alg1.l6.m1.2.2.2.2.2.6.3.3" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.cmml"><mi id="alg1.l6.m1.2.2.2.2.2.6.3.3.2" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.2.cmml">b</mi><mo id="alg1.l6.m1.2.2.2.2.2.6.3.3.1" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.6.3.3.3" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.3.cmml">a</mi><mo id="alg1.l6.m1.2.2.2.2.2.6.3.3.1a" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.6.3.3.4" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.4.cmml">t</mi><mo id="alg1.l6.m1.2.2.2.2.2.6.3.3.1b" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.6.3.3.5" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.5.cmml">c</mi><mo id="alg1.l6.m1.2.2.2.2.2.6.3.3.1c" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.2.2.2.6.3.3.6" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.6.cmml">h</mi></mrow></msub></mrow></mrow><mo id="alg1.l6.m1.2.2.2.2.5" stretchy="false" xref="alg1.l6.m1.2.2.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><eq id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2.3"></eq><apply id="alg1.l6.m1.2.2.4.cmml" xref="alg1.l6.m1.2.2.4"><times id="alg1.l6.m1.2.2.4.1.cmml" xref="alg1.l6.m1.2.2.4.1"></times><ci id="alg1.l6.m1.2.2.4.2.cmml" xref="alg1.l6.m1.2.2.4.2">𝑏</ci><ci id="alg1.l6.m1.2.2.4.3.cmml" xref="alg1.l6.m1.2.2.4.3">𝑎</ci><ci id="alg1.l6.m1.2.2.4.4.cmml" xref="alg1.l6.m1.2.2.4.4">𝑡</ci><ci id="alg1.l6.m1.2.2.4.5.cmml" xref="alg1.l6.m1.2.2.4.5">𝑐</ci><ci id="alg1.l6.m1.2.2.4.6.cmml" xref="alg1.l6.m1.2.2.4.6">ℎ</ci><ci id="alg1.l6.m1.2.2.4.7.cmml" xref="alg1.l6.m1.2.2.4.7">_</ci><ci id="alg1.l6.m1.2.2.4.8.cmml" xref="alg1.l6.m1.2.2.4.8">𝑢</ci><ci id="alg1.l6.m1.2.2.4.9.cmml" xref="alg1.l6.m1.2.2.4.9">𝑠</ci><ci id="alg1.l6.m1.2.2.4.10.cmml" xref="alg1.l6.m1.2.2.4.10">𝑒</ci><ci id="alg1.l6.m1.2.2.4.11.cmml" xref="alg1.l6.m1.2.2.4.11">𝑟</ci><ci id="alg1.l6.m1.2.2.4.12.cmml" xref="alg1.l6.m1.2.2.4.12">𝑠</ci></apply><apply id="alg1.l6.m1.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2"><csymbol cd="latexml" id="alg1.l6.m1.2.2.2.3.1.cmml" xref="alg1.l6.m1.2.2.2.2.3">conditional-set</csymbol><apply id="alg1.l6.m1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.2">𝑢</ci><ci id="alg1.l6.m1.1.1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.l6.m1.2.2.2.2.2.cmml" xref="alg1.l6.m1.2.2.2.2.2"><and id="alg1.l6.m1.2.2.2.2.2a.cmml" xref="alg1.l6.m1.2.2.2.2.2"></and><apply id="alg1.l6.m1.2.2.2.2.2b.cmml" xref="alg1.l6.m1.2.2.2.2.2"><lt id="alg1.l6.m1.2.2.2.2.2.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.3"></lt><apply id="alg1.l6.m1.2.2.2.2.2.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.1"><ci id="alg1.l6.m1.2.2.2.2.2.1.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.2">⋅</ci><apply id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.1.1"><minus id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.1"></minus><ci id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.2">𝑞</ci><cn id="alg1.l6.m1.2.2.2.2.2.1.1.1.1.3.cmml" type="integer" xref="alg1.l6.m1.2.2.2.2.2.1.1.1.1.3">1</cn></apply><apply id="alg1.l6.m1.2.2.2.2.2.1.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.2.2.1.3.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3">subscript</csymbol><ci id="alg1.l6.m1.2.2.2.2.2.1.3.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.2">𝑛</ci><apply id="alg1.l6.m1.2.2.2.2.2.1.3.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3"><times id="alg1.l6.m1.2.2.2.2.2.1.3.3.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.1"></times><ci id="alg1.l6.m1.2.2.2.2.2.1.3.3.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.2">𝑏</ci><ci id="alg1.l6.m1.2.2.2.2.2.1.3.3.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.3">𝑎</ci><ci id="alg1.l6.m1.2.2.2.2.2.1.3.3.4.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.4">𝑡</ci><ci id="alg1.l6.m1.2.2.2.2.2.1.3.3.5.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.5">𝑐</ci><ci id="alg1.l6.m1.2.2.2.2.2.1.3.3.6.cmml" xref="alg1.l6.m1.2.2.2.2.2.1.3.3.6">ℎ</ci></apply></apply></apply><ci id="alg1.l6.m1.2.2.2.2.2.4.cmml" xref="alg1.l6.m1.2.2.2.2.2.4">𝑖</ci></apply><apply id="alg1.l6.m1.2.2.2.2.2c.cmml" xref="alg1.l6.m1.2.2.2.2.2"><leq id="alg1.l6.m1.2.2.2.2.2.5.cmml" xref="alg1.l6.m1.2.2.2.2.2.5"></leq><share href="https://arxiv.org/html/2407.20241v1#alg1.l6.m1.2.2.2.2.2.4.cmml" id="alg1.l6.m1.2.2.2.2.2d.cmml" xref="alg1.l6.m1.2.2.2.2.2"></share><apply id="alg1.l6.m1.2.2.2.2.2.6.cmml" xref="alg1.l6.m1.2.2.2.2.2.6"><ci id="alg1.l6.m1.2.2.2.2.2.6.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.1">⋅</ci><ci id="alg1.l6.m1.2.2.2.2.2.6.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.2">𝑞</ci><apply id="alg1.l6.m1.2.2.2.2.2.6.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.2.2.2.6.3.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3">subscript</csymbol><ci id="alg1.l6.m1.2.2.2.2.2.6.3.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.2">𝑛</ci><apply id="alg1.l6.m1.2.2.2.2.2.6.3.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3"><times id="alg1.l6.m1.2.2.2.2.2.6.3.3.1.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.1"></times><ci id="alg1.l6.m1.2.2.2.2.2.6.3.3.2.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.2">𝑏</ci><ci id="alg1.l6.m1.2.2.2.2.2.6.3.3.3.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.3">𝑎</ci><ci id="alg1.l6.m1.2.2.2.2.2.6.3.3.4.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.4">𝑡</ci><ci id="alg1.l6.m1.2.2.2.2.2.6.3.3.5.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.5">𝑐</ci><ci id="alg1.l6.m1.2.2.2.2.2.6.3.3.6.cmml" xref="alg1.l6.m1.2.2.2.2.2.6.3.3.6">ℎ</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">batch\_users=\{u_{i}|(q-1)\cdot n_{batch}&lt;i\leq q\cdot n_{batch}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.2d">italic_b italic_a italic_t italic_c italic_h _ italic_u italic_s italic_e italic_r italic_s = { italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | ( italic_q - 1 ) ⋅ italic_n start_POSTSUBSCRIPT italic_b italic_a italic_t italic_c italic_h end_POSTSUBSCRIPT &lt; italic_i ≤ italic_q ⋅ italic_n start_POSTSUBSCRIPT italic_b italic_a italic_t italic_c italic_h end_POSTSUBSCRIPT }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l7">     <math alttext="candidate\_nudges\leftarrow\{\}" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mrow id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.2.2" xref="alg1.l7.m1.1.1.2.2.cmml">c</mi><mo id="alg1.l7.m1.1.1.2.1" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">a</mi><mo id="alg1.l7.m1.1.1.2.1a" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.4" xref="alg1.l7.m1.1.1.2.4.cmml">n</mi><mo id="alg1.l7.m1.1.1.2.1b" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.5" xref="alg1.l7.m1.1.1.2.5.cmml">d</mi><mo id="alg1.l7.m1.1.1.2.1c" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.6" xref="alg1.l7.m1.1.1.2.6.cmml">i</mi><mo id="alg1.l7.m1.1.1.2.1d" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.7" xref="alg1.l7.m1.1.1.2.7.cmml">d</mi><mo id="alg1.l7.m1.1.1.2.1e" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.8" xref="alg1.l7.m1.1.1.2.8.cmml">a</mi><mo id="alg1.l7.m1.1.1.2.1f" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.9" xref="alg1.l7.m1.1.1.2.9.cmml">t</mi><mo id="alg1.l7.m1.1.1.2.1g" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.10" xref="alg1.l7.m1.1.1.2.10.cmml">e</mi><mo id="alg1.l7.m1.1.1.2.1h" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.11" mathvariant="normal" xref="alg1.l7.m1.1.1.2.11.cmml">_</mi><mo id="alg1.l7.m1.1.1.2.1i" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.12" xref="alg1.l7.m1.1.1.2.12.cmml">n</mi><mo id="alg1.l7.m1.1.1.2.1j" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.13" xref="alg1.l7.m1.1.1.2.13.cmml">u</mi><mo id="alg1.l7.m1.1.1.2.1k" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.14" xref="alg1.l7.m1.1.1.2.14.cmml">d</mi><mo id="alg1.l7.m1.1.1.2.1l" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.15" xref="alg1.l7.m1.1.1.2.15.cmml">g</mi><mo id="alg1.l7.m1.1.1.2.1m" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.16" xref="alg1.l7.m1.1.1.2.16.cmml">e</mi><mo id="alg1.l7.m1.1.1.2.1n" xref="alg1.l7.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.2.17" xref="alg1.l7.m1.1.1.2.17.cmml">s</mi></mrow><mo id="alg1.l7.m1.1.1.1" stretchy="false" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mrow id="alg1.l7.m1.1.1.3.2" xref="alg1.l7.m1.1.1.cmml"><mo id="alg1.l7.m1.1.1.3.2.1" stretchy="false" xref="alg1.l7.m1.1.1.3.1.cmml">{</mo><mo id="alg1.l7.m1.1.1.3.2.2" stretchy="false" xref="alg1.l7.m1.1.1.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2"><times id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.2.1"></times><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝑐</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑎</ci><ci id="alg1.l7.m1.1.1.2.4.cmml" xref="alg1.l7.m1.1.1.2.4">𝑛</ci><ci id="alg1.l7.m1.1.1.2.5.cmml" xref="alg1.l7.m1.1.1.2.5">𝑑</ci><ci id="alg1.l7.m1.1.1.2.6.cmml" xref="alg1.l7.m1.1.1.2.6">𝑖</ci><ci id="alg1.l7.m1.1.1.2.7.cmml" xref="alg1.l7.m1.1.1.2.7">𝑑</ci><ci id="alg1.l7.m1.1.1.2.8.cmml" xref="alg1.l7.m1.1.1.2.8">𝑎</ci><ci id="alg1.l7.m1.1.1.2.9.cmml" xref="alg1.l7.m1.1.1.2.9">𝑡</ci><ci id="alg1.l7.m1.1.1.2.10.cmml" xref="alg1.l7.m1.1.1.2.10">𝑒</ci><ci id="alg1.l7.m1.1.1.2.11.cmml" xref="alg1.l7.m1.1.1.2.11">_</ci><ci id="alg1.l7.m1.1.1.2.12.cmml" xref="alg1.l7.m1.1.1.2.12">𝑛</ci><ci id="alg1.l7.m1.1.1.2.13.cmml" xref="alg1.l7.m1.1.1.2.13">𝑢</ci><ci id="alg1.l7.m1.1.1.2.14.cmml" xref="alg1.l7.m1.1.1.2.14">𝑑</ci><ci id="alg1.l7.m1.1.1.2.15.cmml" xref="alg1.l7.m1.1.1.2.15">𝑔</ci><ci id="alg1.l7.m1.1.1.2.16.cmml" xref="alg1.l7.m1.1.1.2.16">𝑒</ci><ci id="alg1.l7.m1.1.1.2.17.cmml" xref="alg1.l7.m1.1.1.2.17">𝑠</ci></apply><list id="alg1.l7.m1.1.1.3.1.cmml" xref="alg1.l7.m1.1.1.3.2.1"></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">candidate\_nudges\leftarrow\{\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e _ italic_n italic_u italic_d italic_g italic_e italic_s ← { }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l8">     <span class="ltx_text ltx_font_bold" id="alg1.l8.1">for all</span> <math alttext="u\in batch\_users" class="ltx_Math" display="inline" id="alg1.l8.m1.1"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><mi id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml">u</mi><mo id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">∈</mo><mrow id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><mi id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2.cmml">b</mi><mo id="alg1.l8.m1.1.1.3.1" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml">a</mi><mo id="alg1.l8.m1.1.1.3.1a" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.4" xref="alg1.l8.m1.1.1.3.4.cmml">t</mi><mo id="alg1.l8.m1.1.1.3.1b" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.5" xref="alg1.l8.m1.1.1.3.5.cmml">c</mi><mo id="alg1.l8.m1.1.1.3.1c" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.6" xref="alg1.l8.m1.1.1.3.6.cmml">h</mi><mo id="alg1.l8.m1.1.1.3.1d" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.7" mathvariant="normal" xref="alg1.l8.m1.1.1.3.7.cmml">_</mi><mo id="alg1.l8.m1.1.1.3.1e" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.8" xref="alg1.l8.m1.1.1.3.8.cmml">u</mi><mo id="alg1.l8.m1.1.1.3.1f" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.9" xref="alg1.l8.m1.1.1.3.9.cmml">s</mi><mo id="alg1.l8.m1.1.1.3.1g" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.10" xref="alg1.l8.m1.1.1.3.10.cmml">e</mi><mo id="alg1.l8.m1.1.1.3.1h" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.11" xref="alg1.l8.m1.1.1.3.11.cmml">r</mi><mo id="alg1.l8.m1.1.1.3.1i" xref="alg1.l8.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.3.12" xref="alg1.l8.m1.1.1.3.12.cmml">s</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><in id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1"></in><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">𝑢</ci><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><times id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3.1"></times><ci id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2">𝑏</ci><ci id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3">𝑎</ci><ci id="alg1.l8.m1.1.1.3.4.cmml" xref="alg1.l8.m1.1.1.3.4">𝑡</ci><ci id="alg1.l8.m1.1.1.3.5.cmml" xref="alg1.l8.m1.1.1.3.5">𝑐</ci><ci id="alg1.l8.m1.1.1.3.6.cmml" xref="alg1.l8.m1.1.1.3.6">ℎ</ci><ci id="alg1.l8.m1.1.1.3.7.cmml" xref="alg1.l8.m1.1.1.3.7">_</ci><ci id="alg1.l8.m1.1.1.3.8.cmml" xref="alg1.l8.m1.1.1.3.8">𝑢</ci><ci id="alg1.l8.m1.1.1.3.9.cmml" xref="alg1.l8.m1.1.1.3.9">𝑠</ci><ci id="alg1.l8.m1.1.1.3.10.cmml" xref="alg1.l8.m1.1.1.3.10">𝑒</ci><ci id="alg1.l8.m1.1.1.3.11.cmml" xref="alg1.l8.m1.1.1.3.11">𝑟</ci><ci id="alg1.l8.m1.1.1.3.12.cmml" xref="alg1.l8.m1.1.1.3.12">𝑠</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">u\in batch\_users</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m1.1d">italic_u ∈ italic_b italic_a italic_t italic_c italic_h _ italic_u italic_s italic_e italic_r italic_s</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l8.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l9">        <math alttext="candidates\leftarrow" class="ltx_Math" display="inline" id="alg1.l9.m1.1"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><mrow id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml"><mi id="alg1.l9.m1.1.1.2.2" xref="alg1.l9.m1.1.1.2.2.cmml">c</mi><mo id="alg1.l9.m1.1.1.2.1" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.3" xref="alg1.l9.m1.1.1.2.3.cmml">a</mi><mo id="alg1.l9.m1.1.1.2.1a" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.4" xref="alg1.l9.m1.1.1.2.4.cmml">n</mi><mo id="alg1.l9.m1.1.1.2.1b" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.5" xref="alg1.l9.m1.1.1.2.5.cmml">d</mi><mo id="alg1.l9.m1.1.1.2.1c" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.6" xref="alg1.l9.m1.1.1.2.6.cmml">i</mi><mo id="alg1.l9.m1.1.1.2.1d" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.7" xref="alg1.l9.m1.1.1.2.7.cmml">d</mi><mo id="alg1.l9.m1.1.1.2.1e" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.8" xref="alg1.l9.m1.1.1.2.8.cmml">a</mi><mo id="alg1.l9.m1.1.1.2.1f" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.9" xref="alg1.l9.m1.1.1.2.9.cmml">t</mi><mo id="alg1.l9.m1.1.1.2.1g" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.10" xref="alg1.l9.m1.1.1.2.10.cmml">e</mi><mo id="alg1.l9.m1.1.1.2.1h" xref="alg1.l9.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.1.1.2.11" xref="alg1.l9.m1.1.1.2.11.cmml">s</mi></mrow><mo id="alg1.l9.m1.1.1.1" stretchy="false" xref="alg1.l9.m1.1.1.1.cmml">←</mo><mi id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><ci id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1">←</ci><apply id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2"><times id="alg1.l9.m1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.2.1"></times><ci id="alg1.l9.m1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.2.2">𝑐</ci><ci id="alg1.l9.m1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.2.3">𝑎</ci><ci id="alg1.l9.m1.1.1.2.4.cmml" xref="alg1.l9.m1.1.1.2.4">𝑛</ci><ci id="alg1.l9.m1.1.1.2.5.cmml" xref="alg1.l9.m1.1.1.2.5">𝑑</ci><ci id="alg1.l9.m1.1.1.2.6.cmml" xref="alg1.l9.m1.1.1.2.6">𝑖</ci><ci id="alg1.l9.m1.1.1.2.7.cmml" xref="alg1.l9.m1.1.1.2.7">𝑑</ci><ci id="alg1.l9.m1.1.1.2.8.cmml" xref="alg1.l9.m1.1.1.2.8">𝑎</ci><ci id="alg1.l9.m1.1.1.2.9.cmml" xref="alg1.l9.m1.1.1.2.9">𝑡</ci><ci id="alg1.l9.m1.1.1.2.10.cmml" xref="alg1.l9.m1.1.1.2.10">𝑒</ci><ci id="alg1.l9.m1.1.1.2.11.cmml" xref="alg1.l9.m1.1.1.2.11">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">candidates\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.1d">italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e italic_s ←</annotation></semantics></math> CandidateNudgeGenerator(<math alttext="u" class="ltx_Math" display="inline" id="alg1.l9.m2.1"><semantics id="alg1.l9.m2.1a"><mi id="alg1.l9.m2.1.1" xref="alg1.l9.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="alg1.l9.m2.1b"><ci id="alg1.l9.m2.1.1.cmml" xref="alg1.l9.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m2.1d">italic_u</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l10">        <math alttext="candidate\_nudges\leftarrow candidate\_nudges\cup\{(u,i)\forall i\in candidates\}" class="ltx_Math" display="inline" id="alg1.l10.m1.3"><semantics id="alg1.l10.m1.3a"><mrow id="alg1.l10.m1.3.3" xref="alg1.l10.m1.3.3.cmml"><mrow id="alg1.l10.m1.3.3.3" xref="alg1.l10.m1.3.3.3.cmml"><mi id="alg1.l10.m1.3.3.3.2" xref="alg1.l10.m1.3.3.3.2.cmml">c</mi><mo id="alg1.l10.m1.3.3.3.1" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.3" xref="alg1.l10.m1.3.3.3.3.cmml">a</mi><mo id="alg1.l10.m1.3.3.3.1a" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.4" xref="alg1.l10.m1.3.3.3.4.cmml">n</mi><mo id="alg1.l10.m1.3.3.3.1b" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.5" xref="alg1.l10.m1.3.3.3.5.cmml">d</mi><mo id="alg1.l10.m1.3.3.3.1c" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.6" xref="alg1.l10.m1.3.3.3.6.cmml">i</mi><mo id="alg1.l10.m1.3.3.3.1d" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.7" xref="alg1.l10.m1.3.3.3.7.cmml">d</mi><mo id="alg1.l10.m1.3.3.3.1e" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.8" xref="alg1.l10.m1.3.3.3.8.cmml">a</mi><mo id="alg1.l10.m1.3.3.3.1f" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.9" xref="alg1.l10.m1.3.3.3.9.cmml">t</mi><mo id="alg1.l10.m1.3.3.3.1g" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.10" xref="alg1.l10.m1.3.3.3.10.cmml">e</mi><mo id="alg1.l10.m1.3.3.3.1h" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.11" mathvariant="normal" xref="alg1.l10.m1.3.3.3.11.cmml">_</mi><mo id="alg1.l10.m1.3.3.3.1i" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.12" xref="alg1.l10.m1.3.3.3.12.cmml">n</mi><mo id="alg1.l10.m1.3.3.3.1j" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.13" xref="alg1.l10.m1.3.3.3.13.cmml">u</mi><mo id="alg1.l10.m1.3.3.3.1k" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.14" xref="alg1.l10.m1.3.3.3.14.cmml">d</mi><mo id="alg1.l10.m1.3.3.3.1l" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.15" xref="alg1.l10.m1.3.3.3.15.cmml">g</mi><mo id="alg1.l10.m1.3.3.3.1m" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.16" xref="alg1.l10.m1.3.3.3.16.cmml">e</mi><mo id="alg1.l10.m1.3.3.3.1n" xref="alg1.l10.m1.3.3.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.3.17" xref="alg1.l10.m1.3.3.3.17.cmml">s</mi></mrow><mo id="alg1.l10.m1.3.3.2" stretchy="false" xref="alg1.l10.m1.3.3.2.cmml">←</mo><mrow id="alg1.l10.m1.3.3.1" xref="alg1.l10.m1.3.3.1.cmml"><mrow id="alg1.l10.m1.3.3.1.3" xref="alg1.l10.m1.3.3.1.3.cmml"><mi id="alg1.l10.m1.3.3.1.3.2" xref="alg1.l10.m1.3.3.1.3.2.cmml">c</mi><mo id="alg1.l10.m1.3.3.1.3.1" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.3" xref="alg1.l10.m1.3.3.1.3.3.cmml">a</mi><mo id="alg1.l10.m1.3.3.1.3.1a" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.4" xref="alg1.l10.m1.3.3.1.3.4.cmml">n</mi><mo id="alg1.l10.m1.3.3.1.3.1b" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.5" xref="alg1.l10.m1.3.3.1.3.5.cmml">d</mi><mo id="alg1.l10.m1.3.3.1.3.1c" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.6" xref="alg1.l10.m1.3.3.1.3.6.cmml">i</mi><mo id="alg1.l10.m1.3.3.1.3.1d" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.7" xref="alg1.l10.m1.3.3.1.3.7.cmml">d</mi><mo id="alg1.l10.m1.3.3.1.3.1e" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.8" xref="alg1.l10.m1.3.3.1.3.8.cmml">a</mi><mo id="alg1.l10.m1.3.3.1.3.1f" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.9" xref="alg1.l10.m1.3.3.1.3.9.cmml">t</mi><mo id="alg1.l10.m1.3.3.1.3.1g" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.10" xref="alg1.l10.m1.3.3.1.3.10.cmml">e</mi><mo id="alg1.l10.m1.3.3.1.3.1h" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.11" mathvariant="normal" xref="alg1.l10.m1.3.3.1.3.11.cmml">_</mi><mo id="alg1.l10.m1.3.3.1.3.1i" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.12" xref="alg1.l10.m1.3.3.1.3.12.cmml">n</mi><mo id="alg1.l10.m1.3.3.1.3.1j" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.13" xref="alg1.l10.m1.3.3.1.3.13.cmml">u</mi><mo id="alg1.l10.m1.3.3.1.3.1k" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.14" xref="alg1.l10.m1.3.3.1.3.14.cmml">d</mi><mo id="alg1.l10.m1.3.3.1.3.1l" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.15" xref="alg1.l10.m1.3.3.1.3.15.cmml">g</mi><mo id="alg1.l10.m1.3.3.1.3.1m" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.16" xref="alg1.l10.m1.3.3.1.3.16.cmml">e</mi><mo id="alg1.l10.m1.3.3.1.3.1n" xref="alg1.l10.m1.3.3.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.3.17" xref="alg1.l10.m1.3.3.1.3.17.cmml">s</mi></mrow><mo id="alg1.l10.m1.3.3.1.2" xref="alg1.l10.m1.3.3.1.2.cmml">∪</mo><mrow id="alg1.l10.m1.3.3.1.1.1" xref="alg1.l10.m1.3.3.1.1.2.cmml"><mo id="alg1.l10.m1.3.3.1.1.1.2" stretchy="false" xref="alg1.l10.m1.3.3.1.1.2.cmml">{</mo><mrow id="alg1.l10.m1.3.3.1.1.1.1" xref="alg1.l10.m1.3.3.1.1.1.1.cmml"><mrow id="alg1.l10.m1.3.3.1.1.1.1.2" xref="alg1.l10.m1.3.3.1.1.1.1.2.cmml"><mrow id="alg1.l10.m1.3.3.1.1.1.1.2.2.2" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.1.cmml"><mo id="alg1.l10.m1.3.3.1.1.1.1.2.2.2.1" stretchy="false" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.1.cmml">(</mo><mi id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml">u</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.2.2.2.2" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.1.cmml">,</mo><mi id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml">i</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.2.2.2.3" stretchy="false" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.1.cmml">)</mo></mrow><mo id="alg1.l10.m1.3.3.1.1.1.1.2.1" lspace="0.167em" xref="alg1.l10.m1.3.3.1.1.1.1.2.1.cmml">⁢</mo><mrow id="alg1.l10.m1.3.3.1.1.1.1.2.3" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.cmml"><mo id="alg1.l10.m1.3.3.1.1.1.1.2.3.1" rspace="0.167em" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.1.cmml">∀</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.2.3.2" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.2.cmml">i</mi></mrow></mrow><mo id="alg1.l10.m1.3.3.1.1.1.1.1" xref="alg1.l10.m1.3.3.1.1.1.1.1.cmml">∈</mo><mrow id="alg1.l10.m1.3.3.1.1.1.1.3" xref="alg1.l10.m1.3.3.1.1.1.1.3.cmml"><mi id="alg1.l10.m1.3.3.1.1.1.1.3.2" xref="alg1.l10.m1.3.3.1.1.1.1.3.2.cmml">c</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.3" xref="alg1.l10.m1.3.3.1.1.1.1.3.3.cmml">a</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1a" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.4" xref="alg1.l10.m1.3.3.1.1.1.1.3.4.cmml">n</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1b" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.5" xref="alg1.l10.m1.3.3.1.1.1.1.3.5.cmml">d</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1c" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.6" xref="alg1.l10.m1.3.3.1.1.1.1.3.6.cmml">i</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1d" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.7" xref="alg1.l10.m1.3.3.1.1.1.1.3.7.cmml">d</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1e" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.8" xref="alg1.l10.m1.3.3.1.1.1.1.3.8.cmml">a</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1f" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.9" xref="alg1.l10.m1.3.3.1.1.1.1.3.9.cmml">t</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1g" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.10" xref="alg1.l10.m1.3.3.1.1.1.1.3.10.cmml">e</mi><mo id="alg1.l10.m1.3.3.1.1.1.1.3.1h" xref="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l10.m1.3.3.1.1.1.1.3.11" xref="alg1.l10.m1.3.3.1.1.1.1.3.11.cmml">s</mi></mrow></mrow><mo id="alg1.l10.m1.3.3.1.1.1.3" stretchy="false" xref="alg1.l10.m1.3.3.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.3b"><apply id="alg1.l10.m1.3.3.cmml" xref="alg1.l10.m1.3.3"><ci id="alg1.l10.m1.3.3.2.cmml" xref="alg1.l10.m1.3.3.2">←</ci><apply id="alg1.l10.m1.3.3.3.cmml" xref="alg1.l10.m1.3.3.3"><times id="alg1.l10.m1.3.3.3.1.cmml" xref="alg1.l10.m1.3.3.3.1"></times><ci id="alg1.l10.m1.3.3.3.2.cmml" xref="alg1.l10.m1.3.3.3.2">𝑐</ci><ci id="alg1.l10.m1.3.3.3.3.cmml" xref="alg1.l10.m1.3.3.3.3">𝑎</ci><ci id="alg1.l10.m1.3.3.3.4.cmml" xref="alg1.l10.m1.3.3.3.4">𝑛</ci><ci id="alg1.l10.m1.3.3.3.5.cmml" xref="alg1.l10.m1.3.3.3.5">𝑑</ci><ci id="alg1.l10.m1.3.3.3.6.cmml" xref="alg1.l10.m1.3.3.3.6">𝑖</ci><ci id="alg1.l10.m1.3.3.3.7.cmml" xref="alg1.l10.m1.3.3.3.7">𝑑</ci><ci id="alg1.l10.m1.3.3.3.8.cmml" xref="alg1.l10.m1.3.3.3.8">𝑎</ci><ci id="alg1.l10.m1.3.3.3.9.cmml" xref="alg1.l10.m1.3.3.3.9">𝑡</ci><ci id="alg1.l10.m1.3.3.3.10.cmml" xref="alg1.l10.m1.3.3.3.10">𝑒</ci><ci id="alg1.l10.m1.3.3.3.11.cmml" xref="alg1.l10.m1.3.3.3.11">_</ci><ci id="alg1.l10.m1.3.3.3.12.cmml" xref="alg1.l10.m1.3.3.3.12">𝑛</ci><ci id="alg1.l10.m1.3.3.3.13.cmml" xref="alg1.l10.m1.3.3.3.13">𝑢</ci><ci id="alg1.l10.m1.3.3.3.14.cmml" xref="alg1.l10.m1.3.3.3.14">𝑑</ci><ci id="alg1.l10.m1.3.3.3.15.cmml" xref="alg1.l10.m1.3.3.3.15">𝑔</ci><ci id="alg1.l10.m1.3.3.3.16.cmml" xref="alg1.l10.m1.3.3.3.16">𝑒</ci><ci id="alg1.l10.m1.3.3.3.17.cmml" xref="alg1.l10.m1.3.3.3.17">𝑠</ci></apply><apply id="alg1.l10.m1.3.3.1.cmml" xref="alg1.l10.m1.3.3.1"><union id="alg1.l10.m1.3.3.1.2.cmml" xref="alg1.l10.m1.3.3.1.2"></union><apply id="alg1.l10.m1.3.3.1.3.cmml" xref="alg1.l10.m1.3.3.1.3"><times id="alg1.l10.m1.3.3.1.3.1.cmml" xref="alg1.l10.m1.3.3.1.3.1"></times><ci id="alg1.l10.m1.3.3.1.3.2.cmml" xref="alg1.l10.m1.3.3.1.3.2">𝑐</ci><ci id="alg1.l10.m1.3.3.1.3.3.cmml" xref="alg1.l10.m1.3.3.1.3.3">𝑎</ci><ci id="alg1.l10.m1.3.3.1.3.4.cmml" xref="alg1.l10.m1.3.3.1.3.4">𝑛</ci><ci id="alg1.l10.m1.3.3.1.3.5.cmml" xref="alg1.l10.m1.3.3.1.3.5">𝑑</ci><ci id="alg1.l10.m1.3.3.1.3.6.cmml" xref="alg1.l10.m1.3.3.1.3.6">𝑖</ci><ci id="alg1.l10.m1.3.3.1.3.7.cmml" xref="alg1.l10.m1.3.3.1.3.7">𝑑</ci><ci id="alg1.l10.m1.3.3.1.3.8.cmml" xref="alg1.l10.m1.3.3.1.3.8">𝑎</ci><ci id="alg1.l10.m1.3.3.1.3.9.cmml" xref="alg1.l10.m1.3.3.1.3.9">𝑡</ci><ci id="alg1.l10.m1.3.3.1.3.10.cmml" xref="alg1.l10.m1.3.3.1.3.10">𝑒</ci><ci id="alg1.l10.m1.3.3.1.3.11.cmml" xref="alg1.l10.m1.3.3.1.3.11">_</ci><ci id="alg1.l10.m1.3.3.1.3.12.cmml" xref="alg1.l10.m1.3.3.1.3.12">𝑛</ci><ci id="alg1.l10.m1.3.3.1.3.13.cmml" xref="alg1.l10.m1.3.3.1.3.13">𝑢</ci><ci id="alg1.l10.m1.3.3.1.3.14.cmml" xref="alg1.l10.m1.3.3.1.3.14">𝑑</ci><ci id="alg1.l10.m1.3.3.1.3.15.cmml" xref="alg1.l10.m1.3.3.1.3.15">𝑔</ci><ci id="alg1.l10.m1.3.3.1.3.16.cmml" xref="alg1.l10.m1.3.3.1.3.16">𝑒</ci><ci id="alg1.l10.m1.3.3.1.3.17.cmml" xref="alg1.l10.m1.3.3.1.3.17">𝑠</ci></apply><set id="alg1.l10.m1.3.3.1.1.2.cmml" xref="alg1.l10.m1.3.3.1.1.1"><apply id="alg1.l10.m1.3.3.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1"><in id="alg1.l10.m1.3.3.1.1.1.1.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.1"></in><apply id="alg1.l10.m1.3.3.1.1.1.1.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2"><times id="alg1.l10.m1.3.3.1.1.1.1.2.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.1"></times><interval closure="open" id="alg1.l10.m1.3.3.1.1.1.1.2.2.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.2.2"><ci id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1">𝑢</ci><ci id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2">𝑖</ci></interval><apply id="alg1.l10.m1.3.3.1.1.1.1.2.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.3"><csymbol cd="latexml" id="alg1.l10.m1.3.3.1.1.1.1.2.3.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.1">for-all</csymbol><ci id="alg1.l10.m1.3.3.1.1.1.1.2.3.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.2.3.2">𝑖</ci></apply></apply><apply id="alg1.l10.m1.3.3.1.1.1.1.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3"><times id="alg1.l10.m1.3.3.1.1.1.1.3.1.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.1"></times><ci id="alg1.l10.m1.3.3.1.1.1.1.3.2.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.2">𝑐</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.3.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.3">𝑎</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.4.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.4">𝑛</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.5.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.5">𝑑</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.6.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.6">𝑖</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.7.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.7">𝑑</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.8.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.8">𝑎</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.9.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.9">𝑡</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.10.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.10">𝑒</ci><ci id="alg1.l10.m1.3.3.1.1.1.1.3.11.cmml" xref="alg1.l10.m1.3.3.1.1.1.1.3.11">𝑠</ci></apply></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.3c">candidate\_nudges\leftarrow candidate\_nudges\cup\{(u,i)\forall i\in candidates\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.3d">italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e _ italic_n italic_u italic_d italic_g italic_e italic_s ← italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e _ italic_n italic_u italic_d italic_g italic_e italic_s ∪ { ( italic_u , italic_i ) ∀ italic_i ∈ italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e italic_s }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l11">     <span class="ltx_text ltx_font_bold" id="alg1.l11.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l11.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l12">     <math alttext="ranked\_nudges\leftarrow" class="ltx_Math" display="inline" id="alg1.l12.m1.1"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mrow id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml"><mi id="alg1.l12.m1.1.1.2.2" xref="alg1.l12.m1.1.1.2.2.cmml">r</mi><mo id="alg1.l12.m1.1.1.2.1" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.3" xref="alg1.l12.m1.1.1.2.3.cmml">a</mi><mo id="alg1.l12.m1.1.1.2.1a" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.4" xref="alg1.l12.m1.1.1.2.4.cmml">n</mi><mo id="alg1.l12.m1.1.1.2.1b" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.5" xref="alg1.l12.m1.1.1.2.5.cmml">k</mi><mo id="alg1.l12.m1.1.1.2.1c" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.6" xref="alg1.l12.m1.1.1.2.6.cmml">e</mi><mo id="alg1.l12.m1.1.1.2.1d" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.7" xref="alg1.l12.m1.1.1.2.7.cmml">d</mi><mo id="alg1.l12.m1.1.1.2.1e" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.8" mathvariant="normal" xref="alg1.l12.m1.1.1.2.8.cmml">_</mi><mo id="alg1.l12.m1.1.1.2.1f" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.9" xref="alg1.l12.m1.1.1.2.9.cmml">n</mi><mo id="alg1.l12.m1.1.1.2.1g" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.10" xref="alg1.l12.m1.1.1.2.10.cmml">u</mi><mo id="alg1.l12.m1.1.1.2.1h" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.11" xref="alg1.l12.m1.1.1.2.11.cmml">d</mi><mo id="alg1.l12.m1.1.1.2.1i" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.12" xref="alg1.l12.m1.1.1.2.12.cmml">g</mi><mo id="alg1.l12.m1.1.1.2.1j" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.13" xref="alg1.l12.m1.1.1.2.13.cmml">e</mi><mo id="alg1.l12.m1.1.1.2.1k" xref="alg1.l12.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l12.m1.1.1.2.14" xref="alg1.l12.m1.1.1.2.14.cmml">s</mi></mrow><mo id="alg1.l12.m1.1.1.1" stretchy="false" xref="alg1.l12.m1.1.1.1.cmml">←</mo><mi id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><ci id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1">←</ci><apply id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2"><times id="alg1.l12.m1.1.1.2.1.cmml" xref="alg1.l12.m1.1.1.2.1"></times><ci id="alg1.l12.m1.1.1.2.2.cmml" xref="alg1.l12.m1.1.1.2.2">𝑟</ci><ci id="alg1.l12.m1.1.1.2.3.cmml" xref="alg1.l12.m1.1.1.2.3">𝑎</ci><ci id="alg1.l12.m1.1.1.2.4.cmml" xref="alg1.l12.m1.1.1.2.4">𝑛</ci><ci id="alg1.l12.m1.1.1.2.5.cmml" xref="alg1.l12.m1.1.1.2.5">𝑘</ci><ci id="alg1.l12.m1.1.1.2.6.cmml" xref="alg1.l12.m1.1.1.2.6">𝑒</ci><ci id="alg1.l12.m1.1.1.2.7.cmml" xref="alg1.l12.m1.1.1.2.7">𝑑</ci><ci id="alg1.l12.m1.1.1.2.8.cmml" xref="alg1.l12.m1.1.1.2.8">_</ci><ci id="alg1.l12.m1.1.1.2.9.cmml" xref="alg1.l12.m1.1.1.2.9">𝑛</ci><ci id="alg1.l12.m1.1.1.2.10.cmml" xref="alg1.l12.m1.1.1.2.10">𝑢</ci><ci id="alg1.l12.m1.1.1.2.11.cmml" xref="alg1.l12.m1.1.1.2.11">𝑑</ci><ci id="alg1.l12.m1.1.1.2.12.cmml" xref="alg1.l12.m1.1.1.2.12">𝑔</ci><ci id="alg1.l12.m1.1.1.2.13.cmml" xref="alg1.l12.m1.1.1.2.13">𝑒</ci><ci id="alg1.l12.m1.1.1.2.14.cmml" xref="alg1.l12.m1.1.1.2.14">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">ranked\_nudges\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.1d">italic_r italic_a italic_n italic_k italic_e italic_d _ italic_n italic_u italic_d italic_g italic_e italic_s ←</annotation></semantics></math> NudgeRankRecSys(<math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="alg1.l12.m2.1"><semantics id="alg1.l12.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l12.m2.1.1" xref="alg1.l12.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="alg1.l12.m2.1b"><ci id="alg1.l12.m2.1.1.cmml" xref="alg1.l12.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m2.1d">caligraphic_G</annotation></semantics></math>, <math alttext="candidate\_nudges" class="ltx_Math" display="inline" id="alg1.l12.m3.1"><semantics id="alg1.l12.m3.1a"><mrow id="alg1.l12.m3.1.1" xref="alg1.l12.m3.1.1.cmml"><mi id="alg1.l12.m3.1.1.2" xref="alg1.l12.m3.1.1.2.cmml">c</mi><mo id="alg1.l12.m3.1.1.1" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.3" xref="alg1.l12.m3.1.1.3.cmml">a</mi><mo id="alg1.l12.m3.1.1.1a" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.4" xref="alg1.l12.m3.1.1.4.cmml">n</mi><mo id="alg1.l12.m3.1.1.1b" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.5" xref="alg1.l12.m3.1.1.5.cmml">d</mi><mo id="alg1.l12.m3.1.1.1c" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.6" xref="alg1.l12.m3.1.1.6.cmml">i</mi><mo id="alg1.l12.m3.1.1.1d" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.7" xref="alg1.l12.m3.1.1.7.cmml">d</mi><mo id="alg1.l12.m3.1.1.1e" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.8" xref="alg1.l12.m3.1.1.8.cmml">a</mi><mo id="alg1.l12.m3.1.1.1f" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.9" xref="alg1.l12.m3.1.1.9.cmml">t</mi><mo id="alg1.l12.m3.1.1.1g" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.10" xref="alg1.l12.m3.1.1.10.cmml">e</mi><mo id="alg1.l12.m3.1.1.1h" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.11" mathvariant="normal" xref="alg1.l12.m3.1.1.11.cmml">_</mi><mo id="alg1.l12.m3.1.1.1i" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.12" xref="alg1.l12.m3.1.1.12.cmml">n</mi><mo id="alg1.l12.m3.1.1.1j" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.13" xref="alg1.l12.m3.1.1.13.cmml">u</mi><mo id="alg1.l12.m3.1.1.1k" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.14" xref="alg1.l12.m3.1.1.14.cmml">d</mi><mo id="alg1.l12.m3.1.1.1l" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.15" xref="alg1.l12.m3.1.1.15.cmml">g</mi><mo id="alg1.l12.m3.1.1.1m" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.16" xref="alg1.l12.m3.1.1.16.cmml">e</mi><mo id="alg1.l12.m3.1.1.1n" xref="alg1.l12.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l12.m3.1.1.17" xref="alg1.l12.m3.1.1.17.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m3.1b"><apply id="alg1.l12.m3.1.1.cmml" xref="alg1.l12.m3.1.1"><times id="alg1.l12.m3.1.1.1.cmml" xref="alg1.l12.m3.1.1.1"></times><ci id="alg1.l12.m3.1.1.2.cmml" xref="alg1.l12.m3.1.1.2">𝑐</ci><ci id="alg1.l12.m3.1.1.3.cmml" xref="alg1.l12.m3.1.1.3">𝑎</ci><ci id="alg1.l12.m3.1.1.4.cmml" xref="alg1.l12.m3.1.1.4">𝑛</ci><ci id="alg1.l12.m3.1.1.5.cmml" xref="alg1.l12.m3.1.1.5">𝑑</ci><ci id="alg1.l12.m3.1.1.6.cmml" xref="alg1.l12.m3.1.1.6">𝑖</ci><ci id="alg1.l12.m3.1.1.7.cmml" xref="alg1.l12.m3.1.1.7">𝑑</ci><ci id="alg1.l12.m3.1.1.8.cmml" xref="alg1.l12.m3.1.1.8">𝑎</ci><ci id="alg1.l12.m3.1.1.9.cmml" xref="alg1.l12.m3.1.1.9">𝑡</ci><ci id="alg1.l12.m3.1.1.10.cmml" xref="alg1.l12.m3.1.1.10">𝑒</ci><ci id="alg1.l12.m3.1.1.11.cmml" xref="alg1.l12.m3.1.1.11">_</ci><ci id="alg1.l12.m3.1.1.12.cmml" xref="alg1.l12.m3.1.1.12">𝑛</ci><ci id="alg1.l12.m3.1.1.13.cmml" xref="alg1.l12.m3.1.1.13">𝑢</ci><ci id="alg1.l12.m3.1.1.14.cmml" xref="alg1.l12.m3.1.1.14">𝑑</ci><ci id="alg1.l12.m3.1.1.15.cmml" xref="alg1.l12.m3.1.1.15">𝑔</ci><ci id="alg1.l12.m3.1.1.16.cmml" xref="alg1.l12.m3.1.1.16">𝑒</ci><ci id="alg1.l12.m3.1.1.17.cmml" xref="alg1.l12.m3.1.1.17">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m3.1c">candidate\_nudges</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m3.1d">italic_c italic_a italic_n italic_d italic_i italic_d italic_a italic_t italic_e _ italic_n italic_u italic_d italic_g italic_e italic_s</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l13">     <math alttext="filtered\_nudges\leftarrow" class="ltx_Math" display="inline" id="alg1.l13.m1.1"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml"><mrow id="alg1.l13.m1.1.1.2" xref="alg1.l13.m1.1.1.2.cmml"><mi id="alg1.l13.m1.1.1.2.2" xref="alg1.l13.m1.1.1.2.2.cmml">f</mi><mo id="alg1.l13.m1.1.1.2.1" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.3" xref="alg1.l13.m1.1.1.2.3.cmml">i</mi><mo id="alg1.l13.m1.1.1.2.1a" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.4" xref="alg1.l13.m1.1.1.2.4.cmml">l</mi><mo id="alg1.l13.m1.1.1.2.1b" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.5" xref="alg1.l13.m1.1.1.2.5.cmml">t</mi><mo id="alg1.l13.m1.1.1.2.1c" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.6" xref="alg1.l13.m1.1.1.2.6.cmml">e</mi><mo id="alg1.l13.m1.1.1.2.1d" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.7" xref="alg1.l13.m1.1.1.2.7.cmml">r</mi><mo id="alg1.l13.m1.1.1.2.1e" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.8" xref="alg1.l13.m1.1.1.2.8.cmml">e</mi><mo id="alg1.l13.m1.1.1.2.1f" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.9" xref="alg1.l13.m1.1.1.2.9.cmml">d</mi><mo id="alg1.l13.m1.1.1.2.1g" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.10" mathvariant="normal" xref="alg1.l13.m1.1.1.2.10.cmml">_</mi><mo id="alg1.l13.m1.1.1.2.1h" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.11" xref="alg1.l13.m1.1.1.2.11.cmml">n</mi><mo id="alg1.l13.m1.1.1.2.1i" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.12" xref="alg1.l13.m1.1.1.2.12.cmml">u</mi><mo id="alg1.l13.m1.1.1.2.1j" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.13" xref="alg1.l13.m1.1.1.2.13.cmml">d</mi><mo id="alg1.l13.m1.1.1.2.1k" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.14" xref="alg1.l13.m1.1.1.2.14.cmml">g</mi><mo id="alg1.l13.m1.1.1.2.1l" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.15" xref="alg1.l13.m1.1.1.2.15.cmml">e</mi><mo id="alg1.l13.m1.1.1.2.1m" xref="alg1.l13.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l13.m1.1.1.2.16" xref="alg1.l13.m1.1.1.2.16.cmml">s</mi></mrow><mo id="alg1.l13.m1.1.1.1" stretchy="false" xref="alg1.l13.m1.1.1.1.cmml">←</mo><mi id="alg1.l13.m1.1.1.3" xref="alg1.l13.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1"><ci id="alg1.l13.m1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1">←</ci><apply id="alg1.l13.m1.1.1.2.cmml" xref="alg1.l13.m1.1.1.2"><times id="alg1.l13.m1.1.1.2.1.cmml" xref="alg1.l13.m1.1.1.2.1"></times><ci id="alg1.l13.m1.1.1.2.2.cmml" xref="alg1.l13.m1.1.1.2.2">𝑓</ci><ci id="alg1.l13.m1.1.1.2.3.cmml" xref="alg1.l13.m1.1.1.2.3">𝑖</ci><ci id="alg1.l13.m1.1.1.2.4.cmml" xref="alg1.l13.m1.1.1.2.4">𝑙</ci><ci id="alg1.l13.m1.1.1.2.5.cmml" xref="alg1.l13.m1.1.1.2.5">𝑡</ci><ci id="alg1.l13.m1.1.1.2.6.cmml" xref="alg1.l13.m1.1.1.2.6">𝑒</ci><ci id="alg1.l13.m1.1.1.2.7.cmml" xref="alg1.l13.m1.1.1.2.7">𝑟</ci><ci id="alg1.l13.m1.1.1.2.8.cmml" xref="alg1.l13.m1.1.1.2.8">𝑒</ci><ci id="alg1.l13.m1.1.1.2.9.cmml" xref="alg1.l13.m1.1.1.2.9">𝑑</ci><ci id="alg1.l13.m1.1.1.2.10.cmml" xref="alg1.l13.m1.1.1.2.10">_</ci><ci id="alg1.l13.m1.1.1.2.11.cmml" xref="alg1.l13.m1.1.1.2.11">𝑛</ci><ci id="alg1.l13.m1.1.1.2.12.cmml" xref="alg1.l13.m1.1.1.2.12">𝑢</ci><ci id="alg1.l13.m1.1.1.2.13.cmml" xref="alg1.l13.m1.1.1.2.13">𝑑</ci><ci id="alg1.l13.m1.1.1.2.14.cmml" xref="alg1.l13.m1.1.1.2.14">𝑔</ci><ci id="alg1.l13.m1.1.1.2.15.cmml" xref="alg1.l13.m1.1.1.2.15">𝑒</ci><ci id="alg1.l13.m1.1.1.2.16.cmml" xref="alg1.l13.m1.1.1.2.16">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l13.m1.1.1.3.cmml" xref="alg1.l13.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">filtered\_nudges\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m1.1d">italic_f italic_i italic_l italic_t italic_e italic_r italic_e italic_d _ italic_n italic_u italic_d italic_g italic_e italic_s ←</annotation></semantics></math> ConstraintsFilter(<math alttext="ranked\_nudges" class="ltx_Math" display="inline" id="alg1.l13.m2.1"><semantics id="alg1.l13.m2.1a"><mrow id="alg1.l13.m2.1.1" xref="alg1.l13.m2.1.1.cmml"><mi id="alg1.l13.m2.1.1.2" xref="alg1.l13.m2.1.1.2.cmml">r</mi><mo id="alg1.l13.m2.1.1.1" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.3" xref="alg1.l13.m2.1.1.3.cmml">a</mi><mo id="alg1.l13.m2.1.1.1a" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.4" xref="alg1.l13.m2.1.1.4.cmml">n</mi><mo id="alg1.l13.m2.1.1.1b" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.5" xref="alg1.l13.m2.1.1.5.cmml">k</mi><mo id="alg1.l13.m2.1.1.1c" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.6" xref="alg1.l13.m2.1.1.6.cmml">e</mi><mo id="alg1.l13.m2.1.1.1d" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.7" xref="alg1.l13.m2.1.1.7.cmml">d</mi><mo id="alg1.l13.m2.1.1.1e" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.8" mathvariant="normal" xref="alg1.l13.m2.1.1.8.cmml">_</mi><mo id="alg1.l13.m2.1.1.1f" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.9" xref="alg1.l13.m2.1.1.9.cmml">n</mi><mo id="alg1.l13.m2.1.1.1g" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.10" xref="alg1.l13.m2.1.1.10.cmml">u</mi><mo id="alg1.l13.m2.1.1.1h" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.11" xref="alg1.l13.m2.1.1.11.cmml">d</mi><mo id="alg1.l13.m2.1.1.1i" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.12" xref="alg1.l13.m2.1.1.12.cmml">g</mi><mo id="alg1.l13.m2.1.1.1j" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.13" xref="alg1.l13.m2.1.1.13.cmml">e</mi><mo id="alg1.l13.m2.1.1.1k" xref="alg1.l13.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l13.m2.1.1.14" xref="alg1.l13.m2.1.1.14.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m2.1b"><apply id="alg1.l13.m2.1.1.cmml" xref="alg1.l13.m2.1.1"><times id="alg1.l13.m2.1.1.1.cmml" xref="alg1.l13.m2.1.1.1"></times><ci id="alg1.l13.m2.1.1.2.cmml" xref="alg1.l13.m2.1.1.2">𝑟</ci><ci id="alg1.l13.m2.1.1.3.cmml" xref="alg1.l13.m2.1.1.3">𝑎</ci><ci id="alg1.l13.m2.1.1.4.cmml" xref="alg1.l13.m2.1.1.4">𝑛</ci><ci id="alg1.l13.m2.1.1.5.cmml" xref="alg1.l13.m2.1.1.5">𝑘</ci><ci id="alg1.l13.m2.1.1.6.cmml" xref="alg1.l13.m2.1.1.6">𝑒</ci><ci id="alg1.l13.m2.1.1.7.cmml" xref="alg1.l13.m2.1.1.7">𝑑</ci><ci id="alg1.l13.m2.1.1.8.cmml" xref="alg1.l13.m2.1.1.8">_</ci><ci id="alg1.l13.m2.1.1.9.cmml" xref="alg1.l13.m2.1.1.9">𝑛</ci><ci id="alg1.l13.m2.1.1.10.cmml" xref="alg1.l13.m2.1.1.10">𝑢</ci><ci id="alg1.l13.m2.1.1.11.cmml" xref="alg1.l13.m2.1.1.11">𝑑</ci><ci id="alg1.l13.m2.1.1.12.cmml" xref="alg1.l13.m2.1.1.12">𝑔</ci><ci id="alg1.l13.m2.1.1.13.cmml" xref="alg1.l13.m2.1.1.13">𝑒</ci><ci id="alg1.l13.m2.1.1.14.cmml" xref="alg1.l13.m2.1.1.14">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m2.1c">ranked\_nudges</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m2.1d">italic_r italic_a italic_n italic_k italic_e italic_d _ italic_n italic_u italic_d italic_g italic_e italic_s</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l14">     <math alttext="personal\_nudges\leftarrow" class="ltx_Math" display="inline" id="alg1.l14.m1.1"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mrow id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml"><mi id="alg1.l14.m1.1.1.2.2" xref="alg1.l14.m1.1.1.2.2.cmml">p</mi><mo id="alg1.l14.m1.1.1.2.1" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.3" xref="alg1.l14.m1.1.1.2.3.cmml">e</mi><mo id="alg1.l14.m1.1.1.2.1a" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.4" xref="alg1.l14.m1.1.1.2.4.cmml">r</mi><mo id="alg1.l14.m1.1.1.2.1b" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.5" xref="alg1.l14.m1.1.1.2.5.cmml">s</mi><mo id="alg1.l14.m1.1.1.2.1c" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.6" xref="alg1.l14.m1.1.1.2.6.cmml">o</mi><mo id="alg1.l14.m1.1.1.2.1d" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.7" xref="alg1.l14.m1.1.1.2.7.cmml">n</mi><mo id="alg1.l14.m1.1.1.2.1e" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.8" xref="alg1.l14.m1.1.1.2.8.cmml">a</mi><mo id="alg1.l14.m1.1.1.2.1f" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.9" xref="alg1.l14.m1.1.1.2.9.cmml">l</mi><mo id="alg1.l14.m1.1.1.2.1g" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.10" mathvariant="normal" xref="alg1.l14.m1.1.1.2.10.cmml">_</mi><mo id="alg1.l14.m1.1.1.2.1h" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.11" xref="alg1.l14.m1.1.1.2.11.cmml">n</mi><mo id="alg1.l14.m1.1.1.2.1i" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.12" xref="alg1.l14.m1.1.1.2.12.cmml">u</mi><mo id="alg1.l14.m1.1.1.2.1j" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.13" xref="alg1.l14.m1.1.1.2.13.cmml">d</mi><mo id="alg1.l14.m1.1.1.2.1k" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.14" xref="alg1.l14.m1.1.1.2.14.cmml">g</mi><mo id="alg1.l14.m1.1.1.2.1l" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.15" xref="alg1.l14.m1.1.1.2.15.cmml">e</mi><mo id="alg1.l14.m1.1.1.2.1m" xref="alg1.l14.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l14.m1.1.1.2.16" xref="alg1.l14.m1.1.1.2.16.cmml">s</mi></mrow><mo id="alg1.l14.m1.1.1.1" stretchy="false" xref="alg1.l14.m1.1.1.1.cmml">←</mo><mi id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><ci id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1">←</ci><apply id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2"><times id="alg1.l14.m1.1.1.2.1.cmml" xref="alg1.l14.m1.1.1.2.1"></times><ci id="alg1.l14.m1.1.1.2.2.cmml" xref="alg1.l14.m1.1.1.2.2">𝑝</ci><ci id="alg1.l14.m1.1.1.2.3.cmml" xref="alg1.l14.m1.1.1.2.3">𝑒</ci><ci id="alg1.l14.m1.1.1.2.4.cmml" xref="alg1.l14.m1.1.1.2.4">𝑟</ci><ci id="alg1.l14.m1.1.1.2.5.cmml" xref="alg1.l14.m1.1.1.2.5">𝑠</ci><ci id="alg1.l14.m1.1.1.2.6.cmml" xref="alg1.l14.m1.1.1.2.6">𝑜</ci><ci id="alg1.l14.m1.1.1.2.7.cmml" xref="alg1.l14.m1.1.1.2.7">𝑛</ci><ci id="alg1.l14.m1.1.1.2.8.cmml" xref="alg1.l14.m1.1.1.2.8">𝑎</ci><ci id="alg1.l14.m1.1.1.2.9.cmml" xref="alg1.l14.m1.1.1.2.9">𝑙</ci><ci id="alg1.l14.m1.1.1.2.10.cmml" xref="alg1.l14.m1.1.1.2.10">_</ci><ci id="alg1.l14.m1.1.1.2.11.cmml" xref="alg1.l14.m1.1.1.2.11">𝑛</ci><ci id="alg1.l14.m1.1.1.2.12.cmml" xref="alg1.l14.m1.1.1.2.12">𝑢</ci><ci id="alg1.l14.m1.1.1.2.13.cmml" xref="alg1.l14.m1.1.1.2.13">𝑑</ci><ci id="alg1.l14.m1.1.1.2.14.cmml" xref="alg1.l14.m1.1.1.2.14">𝑔</ci><ci id="alg1.l14.m1.1.1.2.15.cmml" xref="alg1.l14.m1.1.1.2.15">𝑒</ci><ci id="alg1.l14.m1.1.1.2.16.cmml" xref="alg1.l14.m1.1.1.2.16">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">personal\_nudges\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m1.1d">italic_p italic_e italic_r italic_s italic_o italic_n italic_a italic_l _ italic_n italic_u italic_d italic_g italic_e italic_s ←</annotation></semantics></math> ContentPersonalizer(<math alttext="filtered\_nudges" class="ltx_Math" display="inline" id="alg1.l14.m2.1"><semantics id="alg1.l14.m2.1a"><mrow id="alg1.l14.m2.1.1" xref="alg1.l14.m2.1.1.cmml"><mi id="alg1.l14.m2.1.1.2" xref="alg1.l14.m2.1.1.2.cmml">f</mi><mo id="alg1.l14.m2.1.1.1" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.3" xref="alg1.l14.m2.1.1.3.cmml">i</mi><mo id="alg1.l14.m2.1.1.1a" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.4" xref="alg1.l14.m2.1.1.4.cmml">l</mi><mo id="alg1.l14.m2.1.1.1b" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.5" xref="alg1.l14.m2.1.1.5.cmml">t</mi><mo id="alg1.l14.m2.1.1.1c" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.6" xref="alg1.l14.m2.1.1.6.cmml">e</mi><mo id="alg1.l14.m2.1.1.1d" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.7" xref="alg1.l14.m2.1.1.7.cmml">r</mi><mo id="alg1.l14.m2.1.1.1e" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.8" xref="alg1.l14.m2.1.1.8.cmml">e</mi><mo id="alg1.l14.m2.1.1.1f" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.9" xref="alg1.l14.m2.1.1.9.cmml">d</mi><mo id="alg1.l14.m2.1.1.1g" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.10" mathvariant="normal" xref="alg1.l14.m2.1.1.10.cmml">_</mi><mo id="alg1.l14.m2.1.1.1h" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.11" xref="alg1.l14.m2.1.1.11.cmml">n</mi><mo id="alg1.l14.m2.1.1.1i" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.12" xref="alg1.l14.m2.1.1.12.cmml">u</mi><mo id="alg1.l14.m2.1.1.1j" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.13" xref="alg1.l14.m2.1.1.13.cmml">d</mi><mo id="alg1.l14.m2.1.1.1k" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.14" xref="alg1.l14.m2.1.1.14.cmml">g</mi><mo id="alg1.l14.m2.1.1.1l" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.15" xref="alg1.l14.m2.1.1.15.cmml">e</mi><mo id="alg1.l14.m2.1.1.1m" xref="alg1.l14.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l14.m2.1.1.16" xref="alg1.l14.m2.1.1.16.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m2.1b"><apply id="alg1.l14.m2.1.1.cmml" xref="alg1.l14.m2.1.1"><times id="alg1.l14.m2.1.1.1.cmml" xref="alg1.l14.m2.1.1.1"></times><ci id="alg1.l14.m2.1.1.2.cmml" xref="alg1.l14.m2.1.1.2">𝑓</ci><ci id="alg1.l14.m2.1.1.3.cmml" xref="alg1.l14.m2.1.1.3">𝑖</ci><ci id="alg1.l14.m2.1.1.4.cmml" xref="alg1.l14.m2.1.1.4">𝑙</ci><ci id="alg1.l14.m2.1.1.5.cmml" xref="alg1.l14.m2.1.1.5">𝑡</ci><ci id="alg1.l14.m2.1.1.6.cmml" xref="alg1.l14.m2.1.1.6">𝑒</ci><ci id="alg1.l14.m2.1.1.7.cmml" xref="alg1.l14.m2.1.1.7">𝑟</ci><ci id="alg1.l14.m2.1.1.8.cmml" xref="alg1.l14.m2.1.1.8">𝑒</ci><ci id="alg1.l14.m2.1.1.9.cmml" xref="alg1.l14.m2.1.1.9">𝑑</ci><ci id="alg1.l14.m2.1.1.10.cmml" xref="alg1.l14.m2.1.1.10">_</ci><ci id="alg1.l14.m2.1.1.11.cmml" xref="alg1.l14.m2.1.1.11">𝑛</ci><ci id="alg1.l14.m2.1.1.12.cmml" xref="alg1.l14.m2.1.1.12">𝑢</ci><ci id="alg1.l14.m2.1.1.13.cmml" xref="alg1.l14.m2.1.1.13">𝑑</ci><ci id="alg1.l14.m2.1.1.14.cmml" xref="alg1.l14.m2.1.1.14">𝑔</ci><ci id="alg1.l14.m2.1.1.15.cmml" xref="alg1.l14.m2.1.1.15">𝑒</ci><ci id="alg1.l14.m2.1.1.16.cmml" xref="alg1.l14.m2.1.1.16">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m2.1c">filtered\_nudges</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m2.1d">italic_f italic_i italic_l italic_t italic_e italic_r italic_e italic_d _ italic_n italic_u italic_d italic_g italic_e italic_s</annotation></semantics></math>)

</div>
<div class="ltx_listingline" id="alg1.l15">     <math alttext="nudges\leftarrow nudges\cup personal\_nudges" class="ltx_Math" display="inline" id="alg1.l15.m1.1"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mrow id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml"><mi id="alg1.l15.m1.1.1.2.2" xref="alg1.l15.m1.1.1.2.2.cmml">n</mi><mo id="alg1.l15.m1.1.1.2.1" xref="alg1.l15.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.2.3" xref="alg1.l15.m1.1.1.2.3.cmml">u</mi><mo id="alg1.l15.m1.1.1.2.1a" xref="alg1.l15.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.2.4" xref="alg1.l15.m1.1.1.2.4.cmml">d</mi><mo id="alg1.l15.m1.1.1.2.1b" xref="alg1.l15.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.2.5" xref="alg1.l15.m1.1.1.2.5.cmml">g</mi><mo id="alg1.l15.m1.1.1.2.1c" xref="alg1.l15.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.2.6" xref="alg1.l15.m1.1.1.2.6.cmml">e</mi><mo id="alg1.l15.m1.1.1.2.1d" xref="alg1.l15.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.2.7" xref="alg1.l15.m1.1.1.2.7.cmml">s</mi></mrow><mo id="alg1.l15.m1.1.1.1" stretchy="false" xref="alg1.l15.m1.1.1.1.cmml">←</mo><mrow id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml"><mrow id="alg1.l15.m1.1.1.3.2" xref="alg1.l15.m1.1.1.3.2.cmml"><mi id="alg1.l15.m1.1.1.3.2.2" xref="alg1.l15.m1.1.1.3.2.2.cmml">n</mi><mo id="alg1.l15.m1.1.1.3.2.1" xref="alg1.l15.m1.1.1.3.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.2.3" xref="alg1.l15.m1.1.1.3.2.3.cmml">u</mi><mo id="alg1.l15.m1.1.1.3.2.1a" xref="alg1.l15.m1.1.1.3.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.2.4" xref="alg1.l15.m1.1.1.3.2.4.cmml">d</mi><mo id="alg1.l15.m1.1.1.3.2.1b" xref="alg1.l15.m1.1.1.3.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.2.5" xref="alg1.l15.m1.1.1.3.2.5.cmml">g</mi><mo id="alg1.l15.m1.1.1.3.2.1c" xref="alg1.l15.m1.1.1.3.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.2.6" xref="alg1.l15.m1.1.1.3.2.6.cmml">e</mi><mo id="alg1.l15.m1.1.1.3.2.1d" xref="alg1.l15.m1.1.1.3.2.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.2.7" xref="alg1.l15.m1.1.1.3.2.7.cmml">s</mi></mrow><mo id="alg1.l15.m1.1.1.3.1" xref="alg1.l15.m1.1.1.3.1.cmml">∪</mo><mrow id="alg1.l15.m1.1.1.3.3" xref="alg1.l15.m1.1.1.3.3.cmml"><mi id="alg1.l15.m1.1.1.3.3.2" xref="alg1.l15.m1.1.1.3.3.2.cmml">p</mi><mo id="alg1.l15.m1.1.1.3.3.1" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.3" xref="alg1.l15.m1.1.1.3.3.3.cmml">e</mi><mo id="alg1.l15.m1.1.1.3.3.1a" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.4" xref="alg1.l15.m1.1.1.3.3.4.cmml">r</mi><mo id="alg1.l15.m1.1.1.3.3.1b" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.5" xref="alg1.l15.m1.1.1.3.3.5.cmml">s</mi><mo id="alg1.l15.m1.1.1.3.3.1c" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.6" xref="alg1.l15.m1.1.1.3.3.6.cmml">o</mi><mo id="alg1.l15.m1.1.1.3.3.1d" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.7" xref="alg1.l15.m1.1.1.3.3.7.cmml">n</mi><mo id="alg1.l15.m1.1.1.3.3.1e" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.8" xref="alg1.l15.m1.1.1.3.3.8.cmml">a</mi><mo id="alg1.l15.m1.1.1.3.3.1f" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.9" xref="alg1.l15.m1.1.1.3.3.9.cmml">l</mi><mo id="alg1.l15.m1.1.1.3.3.1g" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.10" mathvariant="normal" xref="alg1.l15.m1.1.1.3.3.10.cmml">_</mi><mo id="alg1.l15.m1.1.1.3.3.1h" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.11" xref="alg1.l15.m1.1.1.3.3.11.cmml">n</mi><mo id="alg1.l15.m1.1.1.3.3.1i" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.12" xref="alg1.l15.m1.1.1.3.3.12.cmml">u</mi><mo id="alg1.l15.m1.1.1.3.3.1j" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.13" xref="alg1.l15.m1.1.1.3.3.13.cmml">d</mi><mo id="alg1.l15.m1.1.1.3.3.1k" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.14" xref="alg1.l15.m1.1.1.3.3.14.cmml">g</mi><mo id="alg1.l15.m1.1.1.3.3.1l" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.15" xref="alg1.l15.m1.1.1.3.3.15.cmml">e</mi><mo id="alg1.l15.m1.1.1.3.3.1m" xref="alg1.l15.m1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l15.m1.1.1.3.3.16" xref="alg1.l15.m1.1.1.3.3.16.cmml">s</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><ci id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1">←</ci><apply id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2"><times id="alg1.l15.m1.1.1.2.1.cmml" xref="alg1.l15.m1.1.1.2.1"></times><ci id="alg1.l15.m1.1.1.2.2.cmml" xref="alg1.l15.m1.1.1.2.2">𝑛</ci><ci id="alg1.l15.m1.1.1.2.3.cmml" xref="alg1.l15.m1.1.1.2.3">𝑢</ci><ci id="alg1.l15.m1.1.1.2.4.cmml" xref="alg1.l15.m1.1.1.2.4">𝑑</ci><ci id="alg1.l15.m1.1.1.2.5.cmml" xref="alg1.l15.m1.1.1.2.5">𝑔</ci><ci id="alg1.l15.m1.1.1.2.6.cmml" xref="alg1.l15.m1.1.1.2.6">𝑒</ci><ci id="alg1.l15.m1.1.1.2.7.cmml" xref="alg1.l15.m1.1.1.2.7">𝑠</ci></apply><apply id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3"><union id="alg1.l15.m1.1.1.3.1.cmml" xref="alg1.l15.m1.1.1.3.1"></union><apply id="alg1.l15.m1.1.1.3.2.cmml" xref="alg1.l15.m1.1.1.3.2"><times id="alg1.l15.m1.1.1.3.2.1.cmml" xref="alg1.l15.m1.1.1.3.2.1"></times><ci id="alg1.l15.m1.1.1.3.2.2.cmml" xref="alg1.l15.m1.1.1.3.2.2">𝑛</ci><ci id="alg1.l15.m1.1.1.3.2.3.cmml" xref="alg1.l15.m1.1.1.3.2.3">𝑢</ci><ci id="alg1.l15.m1.1.1.3.2.4.cmml" xref="alg1.l15.m1.1.1.3.2.4">𝑑</ci><ci id="alg1.l15.m1.1.1.3.2.5.cmml" xref="alg1.l15.m1.1.1.3.2.5">𝑔</ci><ci id="alg1.l15.m1.1.1.3.2.6.cmml" xref="alg1.l15.m1.1.1.3.2.6">𝑒</ci><ci id="alg1.l15.m1.1.1.3.2.7.cmml" xref="alg1.l15.m1.1.1.3.2.7">𝑠</ci></apply><apply id="alg1.l15.m1.1.1.3.3.cmml" xref="alg1.l15.m1.1.1.3.3"><times id="alg1.l15.m1.1.1.3.3.1.cmml" xref="alg1.l15.m1.1.1.3.3.1"></times><ci id="alg1.l15.m1.1.1.3.3.2.cmml" xref="alg1.l15.m1.1.1.3.3.2">𝑝</ci><ci id="alg1.l15.m1.1.1.3.3.3.cmml" xref="alg1.l15.m1.1.1.3.3.3">𝑒</ci><ci id="alg1.l15.m1.1.1.3.3.4.cmml" xref="alg1.l15.m1.1.1.3.3.4">𝑟</ci><ci id="alg1.l15.m1.1.1.3.3.5.cmml" xref="alg1.l15.m1.1.1.3.3.5">𝑠</ci><ci id="alg1.l15.m1.1.1.3.3.6.cmml" xref="alg1.l15.m1.1.1.3.3.6">𝑜</ci><ci id="alg1.l15.m1.1.1.3.3.7.cmml" xref="alg1.l15.m1.1.1.3.3.7">𝑛</ci><ci id="alg1.l15.m1.1.1.3.3.8.cmml" xref="alg1.l15.m1.1.1.3.3.8">𝑎</ci><ci id="alg1.l15.m1.1.1.3.3.9.cmml" xref="alg1.l15.m1.1.1.3.3.9">𝑙</ci><ci id="alg1.l15.m1.1.1.3.3.10.cmml" xref="alg1.l15.m1.1.1.3.3.10">_</ci><ci id="alg1.l15.m1.1.1.3.3.11.cmml" xref="alg1.l15.m1.1.1.3.3.11">𝑛</ci><ci id="alg1.l15.m1.1.1.3.3.12.cmml" xref="alg1.l15.m1.1.1.3.3.12">𝑢</ci><ci id="alg1.l15.m1.1.1.3.3.13.cmml" xref="alg1.l15.m1.1.1.3.3.13">𝑑</ci><ci id="alg1.l15.m1.1.1.3.3.14.cmml" xref="alg1.l15.m1.1.1.3.3.14">𝑔</ci><ci id="alg1.l15.m1.1.1.3.3.15.cmml" xref="alg1.l15.m1.1.1.3.3.15">𝑒</ci><ci id="alg1.l15.m1.1.1.3.3.16.cmml" xref="alg1.l15.m1.1.1.3.3.16">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">nudges\leftarrow nudges\cup personal\_nudges</annotation><annotation encoding="application/x-llamapun" id="alg1.l15.m1.1d">italic_n italic_u italic_d italic_g italic_e italic_s ← italic_n italic_u italic_d italic_g italic_e italic_s ∪ italic_p italic_e italic_r italic_s italic_o italic_n italic_a italic_l _ italic_n italic_u italic_d italic_g italic_e italic_s</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l16">  <span class="ltx_text ltx_font_bold" id="alg1.l16.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l16.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l17">  <span class="ltx_text ltx_font_bold" id="alg1.l17.1">return</span>  <math alttext="nudges" class="ltx_Math" display="inline" id="alg1.l17.m1.1"><semantics id="alg1.l17.m1.1a"><mrow id="alg1.l17.m1.1.1" xref="alg1.l17.m1.1.1.cmml"><mi id="alg1.l17.m1.1.1.2" xref="alg1.l17.m1.1.1.2.cmml">n</mi><mo id="alg1.l17.m1.1.1.1" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.3" xref="alg1.l17.m1.1.1.3.cmml">u</mi><mo id="alg1.l17.m1.1.1.1a" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.4" xref="alg1.l17.m1.1.1.4.cmml">d</mi><mo id="alg1.l17.m1.1.1.1b" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.5" xref="alg1.l17.m1.1.1.5.cmml">g</mi><mo id="alg1.l17.m1.1.1.1c" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.6" xref="alg1.l17.m1.1.1.6.cmml">e</mi><mo id="alg1.l17.m1.1.1.1d" xref="alg1.l17.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l17.m1.1.1.7" xref="alg1.l17.m1.1.1.7.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1"><times id="alg1.l17.m1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1"></times><ci id="alg1.l17.m1.1.1.2.cmml" xref="alg1.l17.m1.1.1.2">𝑛</ci><ci id="alg1.l17.m1.1.1.3.cmml" xref="alg1.l17.m1.1.1.3">𝑢</ci><ci id="alg1.l17.m1.1.1.4.cmml" xref="alg1.l17.m1.1.1.4">𝑑</ci><ci id="alg1.l17.m1.1.1.5.cmml" xref="alg1.l17.m1.1.1.5">𝑔</ci><ci id="alg1.l17.m1.1.1.6.cmml" xref="alg1.l17.m1.1.1.6">𝑒</ci><ci id="alg1.l17.m1.1.1.7.cmml" xref="alg1.l17.m1.1.1.7">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">nudges</annotation><annotation encoding="application/x-llamapun" id="alg1.l17.m1.1d">italic_n italic_u italic_d italic_g italic_e italic_s</annotation></semantics></math>
</div>
</div>
</figure>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.5. </span>Operations and Automation</h4>
<div class="ltx_para" id="S3.SS2.SSS5.p1">
<p class="ltx_p" id="S3.SS2.SSS5.p1.1">To streamline production operations, the key pipelines in the system are fully automated. DevOps Engineers and Data Scientists can monitor the system and be alerted of any issues, in order to investigate and fix them quickly. The Model Trainer automatically fine-tunes the model daily as the graph gets updated with new data about user states and nudge interactions, to ensure that model learns about user preferences in a timely manner. This was especially critical in the cold start period when the system was first launched and users interacted with nudges for the first time. Batch scoring as described in the preceding section is also automated on a schedule, as data is ingested from the source systems. Finally, all pipelines capture system telemetry including graph attributes (e.g. number of nodes and edges, number of users, number of nudges), pipeline performance (e.g. execution time) and model performance during training and fine-tuning (e.g. recommendation metrics).</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS2.SSS6">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.6. </span>Security and Privacy</h4>
<div class="ltx_para" id="S3.SS2.SSS6.p1">
<p class="ltx_p" id="S3.SS2.SSS6.p1.1">Privacy and security of information is paramount when dealing with health data, especially in cases where the data comes from medical records. To ensure that the system complies with global data protection standards for health data, NudgeRank™ is designed to work without any Personal Identifiable Information (PII) such as names or addresses. All user IDs in the system are pseudonymous masked IDs, and the system does not require any PII to perform its functions.</p>
</div>
<div class="ltx_para" id="S3.SS2.SSS6.p2">
<p class="ltx_p" id="S3.SS2.SSS6.p2.1">Furthermore, the system is designed to be deployed in ”air gapped” environments with private networks and no public Internet access (including private networks in the cloud), to ensure that there is no risk of data egress. Data belonging to a healthcare provider or health program never leaves their environment; rather, NudgeRank™ is deployed in their environment with automated CI/CD for deployments, and remote monitoring of aggregated and anonymous system telemetry for daily operations.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Results</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">We evaluated NudgeRank™ in a large-scale deployment in Singapore, in collaboration with HPB. The system was launched in production in July 2022 as part of several beta tests involving selected users. In July 2023, the system was launched for all users, and has since been generating personalized nudges for over 1.1 million users daily. All users had previously given consent for their fitness data to be collected via the Healthy 365 mobile app, and for their data to be used to send personalized messages, nudges or notifications, and for evaluation of results.</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">The system was deployed in HPB’s Azure cloud environment, with all data required for model updates and generating recommendations remaining in the secure cloud environment. A 10-node Kubernetes cluster was used, with each node having 16 vCPUs and 128 GB RAM. Data was stored in Azure Data Lake Gen2, a cloud storage service supporting blobs in a hierarchical namespace.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.4">With input from business requirements, the system was configured with the following parameters (described above): <math alttext="b=8" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><mrow id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml"><mi id="S4.p3.1.m1.1.1.2" xref="S4.p3.1.m1.1.1.2.cmml">b</mi><mo id="S4.p3.1.m1.1.1.1" xref="S4.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.p3.1.m1.1.1.3" xref="S4.p3.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><apply id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1"><eq id="S4.p3.1.m1.1.1.1.cmml" xref="S4.p3.1.m1.1.1.1"></eq><ci id="S4.p3.1.m1.1.1.2.cmml" xref="S4.p3.1.m1.1.1.2">𝑏</ci><cn id="S4.p3.1.m1.1.1.3.cmml" type="integer" xref="S4.p3.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">b=8</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">italic_b = 8</annotation></semantics></math>, <math alttext="k_{daily}=1" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><mrow id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml"><msub id="S4.p3.2.m2.1.1.2" xref="S4.p3.2.m2.1.1.2.cmml"><mi id="S4.p3.2.m2.1.1.2.2" xref="S4.p3.2.m2.1.1.2.2.cmml">k</mi><mrow id="S4.p3.2.m2.1.1.2.3" xref="S4.p3.2.m2.1.1.2.3.cmml"><mi id="S4.p3.2.m2.1.1.2.3.2" xref="S4.p3.2.m2.1.1.2.3.2.cmml">d</mi><mo id="S4.p3.2.m2.1.1.2.3.1" xref="S4.p3.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.2.m2.1.1.2.3.3" xref="S4.p3.2.m2.1.1.2.3.3.cmml">a</mi><mo id="S4.p3.2.m2.1.1.2.3.1a" xref="S4.p3.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.2.m2.1.1.2.3.4" xref="S4.p3.2.m2.1.1.2.3.4.cmml">i</mi><mo id="S4.p3.2.m2.1.1.2.3.1b" xref="S4.p3.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.2.m2.1.1.2.3.5" xref="S4.p3.2.m2.1.1.2.3.5.cmml">l</mi><mo id="S4.p3.2.m2.1.1.2.3.1c" xref="S4.p3.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.2.m2.1.1.2.3.6" xref="S4.p3.2.m2.1.1.2.3.6.cmml">y</mi></mrow></msub><mo id="S4.p3.2.m2.1.1.1" xref="S4.p3.2.m2.1.1.1.cmml">=</mo><mn id="S4.p3.2.m2.1.1.3" xref="S4.p3.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><apply id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1"><eq id="S4.p3.2.m2.1.1.1.cmml" xref="S4.p3.2.m2.1.1.1"></eq><apply id="S4.p3.2.m2.1.1.2.cmml" xref="S4.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.p3.2.m2.1.1.2.1.cmml" xref="S4.p3.2.m2.1.1.2">subscript</csymbol><ci id="S4.p3.2.m2.1.1.2.2.cmml" xref="S4.p3.2.m2.1.1.2.2">𝑘</ci><apply id="S4.p3.2.m2.1.1.2.3.cmml" xref="S4.p3.2.m2.1.1.2.3"><times id="S4.p3.2.m2.1.1.2.3.1.cmml" xref="S4.p3.2.m2.1.1.2.3.1"></times><ci id="S4.p3.2.m2.1.1.2.3.2.cmml" xref="S4.p3.2.m2.1.1.2.3.2">𝑑</ci><ci id="S4.p3.2.m2.1.1.2.3.3.cmml" xref="S4.p3.2.m2.1.1.2.3.3">𝑎</ci><ci id="S4.p3.2.m2.1.1.2.3.4.cmml" xref="S4.p3.2.m2.1.1.2.3.4">𝑖</ci><ci id="S4.p3.2.m2.1.1.2.3.5.cmml" xref="S4.p3.2.m2.1.1.2.3.5">𝑙</ci><ci id="S4.p3.2.m2.1.1.2.3.6.cmml" xref="S4.p3.2.m2.1.1.2.3.6">𝑦</ci></apply></apply><cn id="S4.p3.2.m2.1.1.3.cmml" type="integer" xref="S4.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">k_{daily}=1</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">italic_k start_POSTSUBSCRIPT italic_d italic_a italic_i italic_l italic_y end_POSTSUBSCRIPT = 1</annotation></semantics></math>, <math alttext="p_{diversity}=0.3" class="ltx_Math" display="inline" id="S4.p3.3.m3.1"><semantics id="S4.p3.3.m3.1a"><mrow id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml"><msub id="S4.p3.3.m3.1.1.2" xref="S4.p3.3.m3.1.1.2.cmml"><mi id="S4.p3.3.m3.1.1.2.2" xref="S4.p3.3.m3.1.1.2.2.cmml">p</mi><mrow id="S4.p3.3.m3.1.1.2.3" xref="S4.p3.3.m3.1.1.2.3.cmml"><mi id="S4.p3.3.m3.1.1.2.3.2" xref="S4.p3.3.m3.1.1.2.3.2.cmml">d</mi><mo id="S4.p3.3.m3.1.1.2.3.1" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.3" xref="S4.p3.3.m3.1.1.2.3.3.cmml">i</mi><mo id="S4.p3.3.m3.1.1.2.3.1a" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.4" xref="S4.p3.3.m3.1.1.2.3.4.cmml">v</mi><mo id="S4.p3.3.m3.1.1.2.3.1b" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.5" xref="S4.p3.3.m3.1.1.2.3.5.cmml">e</mi><mo id="S4.p3.3.m3.1.1.2.3.1c" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.6" xref="S4.p3.3.m3.1.1.2.3.6.cmml">r</mi><mo id="S4.p3.3.m3.1.1.2.3.1d" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.7" xref="S4.p3.3.m3.1.1.2.3.7.cmml">s</mi><mo id="S4.p3.3.m3.1.1.2.3.1e" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.8" xref="S4.p3.3.m3.1.1.2.3.8.cmml">i</mi><mo id="S4.p3.3.m3.1.1.2.3.1f" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.9" xref="S4.p3.3.m3.1.1.2.3.9.cmml">t</mi><mo id="S4.p3.3.m3.1.1.2.3.1g" xref="S4.p3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.3.m3.1.1.2.3.10" xref="S4.p3.3.m3.1.1.2.3.10.cmml">y</mi></mrow></msub><mo id="S4.p3.3.m3.1.1.1" xref="S4.p3.3.m3.1.1.1.cmml">=</mo><mn id="S4.p3.3.m3.1.1.3" xref="S4.p3.3.m3.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.1b"><apply id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1"><eq id="S4.p3.3.m3.1.1.1.cmml" xref="S4.p3.3.m3.1.1.1"></eq><apply id="S4.p3.3.m3.1.1.2.cmml" xref="S4.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S4.p3.3.m3.1.1.2.1.cmml" xref="S4.p3.3.m3.1.1.2">subscript</csymbol><ci id="S4.p3.3.m3.1.1.2.2.cmml" xref="S4.p3.3.m3.1.1.2.2">𝑝</ci><apply id="S4.p3.3.m3.1.1.2.3.cmml" xref="S4.p3.3.m3.1.1.2.3"><times id="S4.p3.3.m3.1.1.2.3.1.cmml" xref="S4.p3.3.m3.1.1.2.3.1"></times><ci id="S4.p3.3.m3.1.1.2.3.2.cmml" xref="S4.p3.3.m3.1.1.2.3.2">𝑑</ci><ci id="S4.p3.3.m3.1.1.2.3.3.cmml" xref="S4.p3.3.m3.1.1.2.3.3">𝑖</ci><ci id="S4.p3.3.m3.1.1.2.3.4.cmml" xref="S4.p3.3.m3.1.1.2.3.4">𝑣</ci><ci id="S4.p3.3.m3.1.1.2.3.5.cmml" xref="S4.p3.3.m3.1.1.2.3.5">𝑒</ci><ci id="S4.p3.3.m3.1.1.2.3.6.cmml" xref="S4.p3.3.m3.1.1.2.3.6">𝑟</ci><ci id="S4.p3.3.m3.1.1.2.3.7.cmml" xref="S4.p3.3.m3.1.1.2.3.7">𝑠</ci><ci id="S4.p3.3.m3.1.1.2.3.8.cmml" xref="S4.p3.3.m3.1.1.2.3.8">𝑖</ci><ci id="S4.p3.3.m3.1.1.2.3.9.cmml" xref="S4.p3.3.m3.1.1.2.3.9">𝑡</ci><ci id="S4.p3.3.m3.1.1.2.3.10.cmml" xref="S4.p3.3.m3.1.1.2.3.10">𝑦</ci></apply></apply><cn id="S4.p3.3.m3.1.1.3.cmml" type="float" xref="S4.p3.3.m3.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.1c">p_{diversity}=0.3</annotation><annotation encoding="application/x-llamapun" id="S4.p3.3.m3.1d">italic_p start_POSTSUBSCRIPT italic_d italic_i italic_v italic_e italic_r italic_s italic_i italic_t italic_y end_POSTSUBSCRIPT = 0.3</annotation></semantics></math>, and <math alttext="d_{neg\_filter}=7" class="ltx_Math" display="inline" id="S4.p3.4.m4.1"><semantics id="S4.p3.4.m4.1a"><mrow id="S4.p3.4.m4.1.1" xref="S4.p3.4.m4.1.1.cmml"><msub id="S4.p3.4.m4.1.1.2" xref="S4.p3.4.m4.1.1.2.cmml"><mi id="S4.p3.4.m4.1.1.2.2" xref="S4.p3.4.m4.1.1.2.2.cmml">d</mi><mrow id="S4.p3.4.m4.1.1.2.3" xref="S4.p3.4.m4.1.1.2.3.cmml"><mi id="S4.p3.4.m4.1.1.2.3.2" xref="S4.p3.4.m4.1.1.2.3.2.cmml">n</mi><mo id="S4.p3.4.m4.1.1.2.3.1" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.3" xref="S4.p3.4.m4.1.1.2.3.3.cmml">e</mi><mo id="S4.p3.4.m4.1.1.2.3.1a" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.4" xref="S4.p3.4.m4.1.1.2.3.4.cmml">g</mi><mo id="S4.p3.4.m4.1.1.2.3.1b" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.5" mathvariant="normal" xref="S4.p3.4.m4.1.1.2.3.5.cmml">_</mi><mo id="S4.p3.4.m4.1.1.2.3.1c" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.6" xref="S4.p3.4.m4.1.1.2.3.6.cmml">f</mi><mo id="S4.p3.4.m4.1.1.2.3.1d" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.7" xref="S4.p3.4.m4.1.1.2.3.7.cmml">i</mi><mo id="S4.p3.4.m4.1.1.2.3.1e" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.8" xref="S4.p3.4.m4.1.1.2.3.8.cmml">l</mi><mo id="S4.p3.4.m4.1.1.2.3.1f" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.9" xref="S4.p3.4.m4.1.1.2.3.9.cmml">t</mi><mo id="S4.p3.4.m4.1.1.2.3.1g" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.10" xref="S4.p3.4.m4.1.1.2.3.10.cmml">e</mi><mo id="S4.p3.4.m4.1.1.2.3.1h" xref="S4.p3.4.m4.1.1.2.3.1.cmml">⁢</mo><mi id="S4.p3.4.m4.1.1.2.3.11" xref="S4.p3.4.m4.1.1.2.3.11.cmml">r</mi></mrow></msub><mo id="S4.p3.4.m4.1.1.1" xref="S4.p3.4.m4.1.1.1.cmml">=</mo><mn id="S4.p3.4.m4.1.1.3" xref="S4.p3.4.m4.1.1.3.cmml">7</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.4.m4.1b"><apply id="S4.p3.4.m4.1.1.cmml" xref="S4.p3.4.m4.1.1"><eq id="S4.p3.4.m4.1.1.1.cmml" xref="S4.p3.4.m4.1.1.1"></eq><apply id="S4.p3.4.m4.1.1.2.cmml" xref="S4.p3.4.m4.1.1.2"><csymbol cd="ambiguous" id="S4.p3.4.m4.1.1.2.1.cmml" xref="S4.p3.4.m4.1.1.2">subscript</csymbol><ci id="S4.p3.4.m4.1.1.2.2.cmml" xref="S4.p3.4.m4.1.1.2.2">𝑑</ci><apply id="S4.p3.4.m4.1.1.2.3.cmml" xref="S4.p3.4.m4.1.1.2.3"><times id="S4.p3.4.m4.1.1.2.3.1.cmml" xref="S4.p3.4.m4.1.1.2.3.1"></times><ci id="S4.p3.4.m4.1.1.2.3.2.cmml" xref="S4.p3.4.m4.1.1.2.3.2">𝑛</ci><ci id="S4.p3.4.m4.1.1.2.3.3.cmml" xref="S4.p3.4.m4.1.1.2.3.3">𝑒</ci><ci id="S4.p3.4.m4.1.1.2.3.4.cmml" xref="S4.p3.4.m4.1.1.2.3.4">𝑔</ci><ci id="S4.p3.4.m4.1.1.2.3.5.cmml" xref="S4.p3.4.m4.1.1.2.3.5">_</ci><ci id="S4.p3.4.m4.1.1.2.3.6.cmml" xref="S4.p3.4.m4.1.1.2.3.6">𝑓</ci><ci id="S4.p3.4.m4.1.1.2.3.7.cmml" xref="S4.p3.4.m4.1.1.2.3.7">𝑖</ci><ci id="S4.p3.4.m4.1.1.2.3.8.cmml" xref="S4.p3.4.m4.1.1.2.3.8">𝑙</ci><ci id="S4.p3.4.m4.1.1.2.3.9.cmml" xref="S4.p3.4.m4.1.1.2.3.9">𝑡</ci><ci id="S4.p3.4.m4.1.1.2.3.10.cmml" xref="S4.p3.4.m4.1.1.2.3.10">𝑒</ci><ci id="S4.p3.4.m4.1.1.2.3.11.cmml" xref="S4.p3.4.m4.1.1.2.3.11">𝑟</ci></apply></apply><cn id="S4.p3.4.m4.1.1.3.cmml" type="integer" xref="S4.p3.4.m4.1.1.3">7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.4.m4.1c">d_{neg\_filter}=7</annotation><annotation encoding="application/x-llamapun" id="S4.p3.4.m4.1d">italic_d start_POSTSUBSCRIPT italic_n italic_e italic_g _ italic_f italic_i italic_l italic_t italic_e italic_r end_POSTSUBSCRIPT = 7</annotation></semantics></math>.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Model Performance</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In the first limited beta phase, nudges were sent to about 100,000 randomly selected users for a period of 4 months, and the interaction data were collected to tune the hyperparameters of the model. The following hyperparameters were evaluated using a grid search: the dimension size of entity and relation embeddings, and the number of graph convolution layers and their respective embedding sizes of the hidden layers. For each combination of hyperparameters, the model was trained on the knowledge graph with 25% of user-nudge interactions randomly hidden, and tested on the knowledge graph including those 25% unseen interactions.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">We theorized that behavior change via nudging starts with simply interacting with the nudges by opening or rating them. The more nudges are opened, the more likely it is that users have read them, and therefore make a choice about their behaviors. Therefore, offline evaluation focused on the model’s ability to recommend top 3 daily nudges that users were most likely to interact with. <math alttext="Precision@3" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">P</mi><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">r</mi><mo id="S4.SS1.p2.1.m1.1.1.1a" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.4" xref="S4.SS1.p2.1.m1.1.1.4.cmml">e</mi><mo id="S4.SS1.p2.1.m1.1.1.1b" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.5" xref="S4.SS1.p2.1.m1.1.1.5.cmml">c</mi><mo id="S4.SS1.p2.1.m1.1.1.1c" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.6" xref="S4.SS1.p2.1.m1.1.1.6.cmml">i</mi><mo id="S4.SS1.p2.1.m1.1.1.1d" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.7" xref="S4.SS1.p2.1.m1.1.1.7.cmml">s</mi><mo id="S4.SS1.p2.1.m1.1.1.1e" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.8" xref="S4.SS1.p2.1.m1.1.1.8.cmml">i</mi><mo id="S4.SS1.p2.1.m1.1.1.1f" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.9" xref="S4.SS1.p2.1.m1.1.1.9.cmml">o</mi><mo id="S4.SS1.p2.1.m1.1.1.1g" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.10" xref="S4.SS1.p2.1.m1.1.1.10.cmml">n</mi><mo id="S4.SS1.p2.1.m1.1.1.1h" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p2.1.m1.1.1.11" mathvariant="normal" xref="S4.SS1.p2.1.m1.1.1.11.cmml">@</mi><mo id="S4.SS1.p2.1.m1.1.1.1i" xref="S4.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p2.1.m1.1.1.12" xref="S4.SS1.p2.1.m1.1.1.12.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><times id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></times><ci id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">𝑃</ci><ci id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">𝑟</ci><ci id="S4.SS1.p2.1.m1.1.1.4.cmml" xref="S4.SS1.p2.1.m1.1.1.4">𝑒</ci><ci id="S4.SS1.p2.1.m1.1.1.5.cmml" xref="S4.SS1.p2.1.m1.1.1.5">𝑐</ci><ci id="S4.SS1.p2.1.m1.1.1.6.cmml" xref="S4.SS1.p2.1.m1.1.1.6">𝑖</ci><ci id="S4.SS1.p2.1.m1.1.1.7.cmml" xref="S4.SS1.p2.1.m1.1.1.7">𝑠</ci><ci id="S4.SS1.p2.1.m1.1.1.8.cmml" xref="S4.SS1.p2.1.m1.1.1.8">𝑖</ci><ci id="S4.SS1.p2.1.m1.1.1.9.cmml" xref="S4.SS1.p2.1.m1.1.1.9">𝑜</ci><ci id="S4.SS1.p2.1.m1.1.1.10.cmml" xref="S4.SS1.p2.1.m1.1.1.10">𝑛</ci><ci id="S4.SS1.p2.1.m1.1.1.11.cmml" xref="S4.SS1.p2.1.m1.1.1.11">@</ci><cn id="S4.SS1.p2.1.m1.1.1.12.cmml" type="integer" xref="S4.SS1.p2.1.m1.1.1.12">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">Precision@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n @ 3</annotation></semantics></math> was chosen as the primary evaluation metric, since it represents the proportion of the 3 recommended nudges that lead to user interaction.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.2">Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.T1" title="Table 1 ‣ 4.1. Model Performance ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">1</span></a> shows the list of parameters tested, with the parameter combination that produced the best offline evaluation score of <math alttext="Precision@3=0.0652" class="ltx_Math" display="inline" id="S4.SS1.p3.1.m1.1"><semantics id="S4.SS1.p3.1.m1.1a"><mrow id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mrow id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml"><mi id="S4.SS1.p3.1.m1.1.1.2.2" xref="S4.SS1.p3.1.m1.1.1.2.2.cmml">P</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.3" xref="S4.SS1.p3.1.m1.1.1.2.3.cmml">r</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1a" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.4" xref="S4.SS1.p3.1.m1.1.1.2.4.cmml">e</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1b" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.5" xref="S4.SS1.p3.1.m1.1.1.2.5.cmml">c</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1c" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.6" xref="S4.SS1.p3.1.m1.1.1.2.6.cmml">i</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1d" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.7" xref="S4.SS1.p3.1.m1.1.1.2.7.cmml">s</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1e" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.8" xref="S4.SS1.p3.1.m1.1.1.2.8.cmml">i</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1f" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.9" xref="S4.SS1.p3.1.m1.1.1.2.9.cmml">o</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1g" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.10" xref="S4.SS1.p3.1.m1.1.1.2.10.cmml">n</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1h" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS1.p3.1.m1.1.1.2.11" mathvariant="normal" xref="S4.SS1.p3.1.m1.1.1.2.11.cmml">@</mi><mo id="S4.SS1.p3.1.m1.1.1.2.1i" xref="S4.SS1.p3.1.m1.1.1.2.1.cmml">⁢</mo><mn id="S4.SS1.p3.1.m1.1.1.2.12" xref="S4.SS1.p3.1.m1.1.1.2.12.cmml">3</mn></mrow><mo id="S4.SS1.p3.1.m1.1.1.1" xref="S4.SS1.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml">0.0652</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><eq id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1.1"></eq><apply id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2"><times id="S4.SS1.p3.1.m1.1.1.2.1.cmml" xref="S4.SS1.p3.1.m1.1.1.2.1"></times><ci id="S4.SS1.p3.1.m1.1.1.2.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2.2">𝑃</ci><ci id="S4.SS1.p3.1.m1.1.1.2.3.cmml" xref="S4.SS1.p3.1.m1.1.1.2.3">𝑟</ci><ci id="S4.SS1.p3.1.m1.1.1.2.4.cmml" xref="S4.SS1.p3.1.m1.1.1.2.4">𝑒</ci><ci id="S4.SS1.p3.1.m1.1.1.2.5.cmml" xref="S4.SS1.p3.1.m1.1.1.2.5">𝑐</ci><ci id="S4.SS1.p3.1.m1.1.1.2.6.cmml" xref="S4.SS1.p3.1.m1.1.1.2.6">𝑖</ci><ci id="S4.SS1.p3.1.m1.1.1.2.7.cmml" xref="S4.SS1.p3.1.m1.1.1.2.7">𝑠</ci><ci id="S4.SS1.p3.1.m1.1.1.2.8.cmml" xref="S4.SS1.p3.1.m1.1.1.2.8">𝑖</ci><ci id="S4.SS1.p3.1.m1.1.1.2.9.cmml" xref="S4.SS1.p3.1.m1.1.1.2.9">𝑜</ci><ci id="S4.SS1.p3.1.m1.1.1.2.10.cmml" xref="S4.SS1.p3.1.m1.1.1.2.10">𝑛</ci><ci id="S4.SS1.p3.1.m1.1.1.2.11.cmml" xref="S4.SS1.p3.1.m1.1.1.2.11">@</ci><cn id="S4.SS1.p3.1.m1.1.1.2.12.cmml" type="integer" xref="S4.SS1.p3.1.m1.1.1.2.12">3</cn></apply><cn id="S4.SS1.p3.1.m1.1.1.3.cmml" type="float" xref="S4.SS1.p3.1.m1.1.1.3">0.0652</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">Precision@3=0.0652</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.1.m1.1d">italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n @ 3 = 0.0652</annotation></semantics></math>. This parameter combination was set up in the system for subsequent nudge recommendations. Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.T2" title="Table 2 ‣ 4.1. Model Performance ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">2</span></a> compares this with the best-performing parameter combinations for 1-, 2- and 3-layer models. The 2-layer model achieved the highest <math alttext="Precision@3" class="ltx_Math" display="inline" id="S4.SS1.p3.2.m2.1"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">P</mi><mo id="S4.SS1.p3.2.m2.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">r</mi><mo id="S4.SS1.p3.2.m2.1.1.1a" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.4" xref="S4.SS1.p3.2.m2.1.1.4.cmml">e</mi><mo id="S4.SS1.p3.2.m2.1.1.1b" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.5" xref="S4.SS1.p3.2.m2.1.1.5.cmml">c</mi><mo id="S4.SS1.p3.2.m2.1.1.1c" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.6" xref="S4.SS1.p3.2.m2.1.1.6.cmml">i</mi><mo id="S4.SS1.p3.2.m2.1.1.1d" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.7" xref="S4.SS1.p3.2.m2.1.1.7.cmml">s</mi><mo id="S4.SS1.p3.2.m2.1.1.1e" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.8" xref="S4.SS1.p3.2.m2.1.1.8.cmml">i</mi><mo id="S4.SS1.p3.2.m2.1.1.1f" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.9" xref="S4.SS1.p3.2.m2.1.1.9.cmml">o</mi><mo id="S4.SS1.p3.2.m2.1.1.1g" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.10" xref="S4.SS1.p3.2.m2.1.1.10.cmml">n</mi><mo id="S4.SS1.p3.2.m2.1.1.1h" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p3.2.m2.1.1.11" mathvariant="normal" xref="S4.SS1.p3.2.m2.1.1.11.cmml">@</mi><mo id="S4.SS1.p3.2.m2.1.1.1i" xref="S4.SS1.p3.2.m2.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p3.2.m2.1.1.12" xref="S4.SS1.p3.2.m2.1.1.12.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><times id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1"></times><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">𝑃</ci><ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">𝑟</ci><ci id="S4.SS1.p3.2.m2.1.1.4.cmml" xref="S4.SS1.p3.2.m2.1.1.4">𝑒</ci><ci id="S4.SS1.p3.2.m2.1.1.5.cmml" xref="S4.SS1.p3.2.m2.1.1.5">𝑐</ci><ci id="S4.SS1.p3.2.m2.1.1.6.cmml" xref="S4.SS1.p3.2.m2.1.1.6">𝑖</ci><ci id="S4.SS1.p3.2.m2.1.1.7.cmml" xref="S4.SS1.p3.2.m2.1.1.7">𝑠</ci><ci id="S4.SS1.p3.2.m2.1.1.8.cmml" xref="S4.SS1.p3.2.m2.1.1.8">𝑖</ci><ci id="S4.SS1.p3.2.m2.1.1.9.cmml" xref="S4.SS1.p3.2.m2.1.1.9">𝑜</ci><ci id="S4.SS1.p3.2.m2.1.1.10.cmml" xref="S4.SS1.p3.2.m2.1.1.10">𝑛</ci><ci id="S4.SS1.p3.2.m2.1.1.11.cmml" xref="S4.SS1.p3.2.m2.1.1.11">@</ci><cn id="S4.SS1.p3.2.m2.1.1.12.cmml" type="integer" xref="S4.SS1.p3.2.m2.1.1.12">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">Precision@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.2.m2.1d">italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n @ 3</annotation></semantics></math>; notably, this is 0.0201 (45%) higher than the 1-layer model that serves as a baseline for comparison.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.5">After nudges were rolled out at full scale, we added more metrics (<math alttext="MeanAveragePrecision" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mrow id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.2.cmml">M</mi><mo id="S4.SS1.p4.1.m1.1.1.1" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.3.cmml">e</mi><mo id="S4.SS1.p4.1.m1.1.1.1a" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.4" xref="S4.SS1.p4.1.m1.1.1.4.cmml">a</mi><mo id="S4.SS1.p4.1.m1.1.1.1b" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.5" xref="S4.SS1.p4.1.m1.1.1.5.cmml">n</mi><mo id="S4.SS1.p4.1.m1.1.1.1c" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.6" xref="S4.SS1.p4.1.m1.1.1.6.cmml">A</mi><mo id="S4.SS1.p4.1.m1.1.1.1d" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.7" xref="S4.SS1.p4.1.m1.1.1.7.cmml">v</mi><mo id="S4.SS1.p4.1.m1.1.1.1e" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.8" xref="S4.SS1.p4.1.m1.1.1.8.cmml">e</mi><mo id="S4.SS1.p4.1.m1.1.1.1f" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.9" xref="S4.SS1.p4.1.m1.1.1.9.cmml">r</mi><mo id="S4.SS1.p4.1.m1.1.1.1g" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.10" xref="S4.SS1.p4.1.m1.1.1.10.cmml">a</mi><mo id="S4.SS1.p4.1.m1.1.1.1h" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.11" xref="S4.SS1.p4.1.m1.1.1.11.cmml">g</mi><mo id="S4.SS1.p4.1.m1.1.1.1i" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.12" xref="S4.SS1.p4.1.m1.1.1.12.cmml">e</mi><mo id="S4.SS1.p4.1.m1.1.1.1j" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.13" xref="S4.SS1.p4.1.m1.1.1.13.cmml">P</mi><mo id="S4.SS1.p4.1.m1.1.1.1k" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.14" xref="S4.SS1.p4.1.m1.1.1.14.cmml">r</mi><mo id="S4.SS1.p4.1.m1.1.1.1l" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.15" xref="S4.SS1.p4.1.m1.1.1.15.cmml">e</mi><mo id="S4.SS1.p4.1.m1.1.1.1m" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.16" xref="S4.SS1.p4.1.m1.1.1.16.cmml">c</mi><mo id="S4.SS1.p4.1.m1.1.1.1n" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.17" xref="S4.SS1.p4.1.m1.1.1.17.cmml">i</mi><mo id="S4.SS1.p4.1.m1.1.1.1o" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.18" xref="S4.SS1.p4.1.m1.1.1.18.cmml">s</mi><mo id="S4.SS1.p4.1.m1.1.1.1p" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.19" xref="S4.SS1.p4.1.m1.1.1.19.cmml">i</mi><mo id="S4.SS1.p4.1.m1.1.1.1q" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.20" xref="S4.SS1.p4.1.m1.1.1.20.cmml">o</mi><mo id="S4.SS1.p4.1.m1.1.1.1r" xref="S4.SS1.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.1.m1.1.1.21" xref="S4.SS1.p4.1.m1.1.1.21.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1"><times id="S4.SS1.p4.1.m1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1.1"></times><ci id="S4.SS1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.2">𝑀</ci><ci id="S4.SS1.p4.1.m1.1.1.3.cmml" xref="S4.SS1.p4.1.m1.1.1.3">𝑒</ci><ci id="S4.SS1.p4.1.m1.1.1.4.cmml" xref="S4.SS1.p4.1.m1.1.1.4">𝑎</ci><ci id="S4.SS1.p4.1.m1.1.1.5.cmml" xref="S4.SS1.p4.1.m1.1.1.5">𝑛</ci><ci id="S4.SS1.p4.1.m1.1.1.6.cmml" xref="S4.SS1.p4.1.m1.1.1.6">𝐴</ci><ci id="S4.SS1.p4.1.m1.1.1.7.cmml" xref="S4.SS1.p4.1.m1.1.1.7">𝑣</ci><ci id="S4.SS1.p4.1.m1.1.1.8.cmml" xref="S4.SS1.p4.1.m1.1.1.8">𝑒</ci><ci id="S4.SS1.p4.1.m1.1.1.9.cmml" xref="S4.SS1.p4.1.m1.1.1.9">𝑟</ci><ci id="S4.SS1.p4.1.m1.1.1.10.cmml" xref="S4.SS1.p4.1.m1.1.1.10">𝑎</ci><ci id="S4.SS1.p4.1.m1.1.1.11.cmml" xref="S4.SS1.p4.1.m1.1.1.11">𝑔</ci><ci id="S4.SS1.p4.1.m1.1.1.12.cmml" xref="S4.SS1.p4.1.m1.1.1.12">𝑒</ci><ci id="S4.SS1.p4.1.m1.1.1.13.cmml" xref="S4.SS1.p4.1.m1.1.1.13">𝑃</ci><ci id="S4.SS1.p4.1.m1.1.1.14.cmml" xref="S4.SS1.p4.1.m1.1.1.14">𝑟</ci><ci id="S4.SS1.p4.1.m1.1.1.15.cmml" xref="S4.SS1.p4.1.m1.1.1.15">𝑒</ci><ci id="S4.SS1.p4.1.m1.1.1.16.cmml" xref="S4.SS1.p4.1.m1.1.1.16">𝑐</ci><ci id="S4.SS1.p4.1.m1.1.1.17.cmml" xref="S4.SS1.p4.1.m1.1.1.17">𝑖</ci><ci id="S4.SS1.p4.1.m1.1.1.18.cmml" xref="S4.SS1.p4.1.m1.1.1.18">𝑠</ci><ci id="S4.SS1.p4.1.m1.1.1.19.cmml" xref="S4.SS1.p4.1.m1.1.1.19">𝑖</ci><ci id="S4.SS1.p4.1.m1.1.1.20.cmml" xref="S4.SS1.p4.1.m1.1.1.20">𝑜</ci><ci id="S4.SS1.p4.1.m1.1.1.21.cmml" xref="S4.SS1.p4.1.m1.1.1.21">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">MeanAveragePrecision</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_M italic_e italic_a italic_n italic_A italic_v italic_e italic_r italic_a italic_g italic_e italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n</annotation></semantics></math>, <math alttext="NDCG@3" class="ltx_Math" display="inline" id="S4.SS1.p4.2.m2.1"><semantics id="S4.SS1.p4.2.m2.1a"><mrow id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml"><mi id="S4.SS1.p4.2.m2.1.1.2" xref="S4.SS1.p4.2.m2.1.1.2.cmml">N</mi><mo id="S4.SS1.p4.2.m2.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.1.1.3" xref="S4.SS1.p4.2.m2.1.1.3.cmml">D</mi><mo id="S4.SS1.p4.2.m2.1.1.1a" xref="S4.SS1.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.1.1.4" xref="S4.SS1.p4.2.m2.1.1.4.cmml">C</mi><mo id="S4.SS1.p4.2.m2.1.1.1b" xref="S4.SS1.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.1.1.5" xref="S4.SS1.p4.2.m2.1.1.5.cmml">G</mi><mo id="S4.SS1.p4.2.m2.1.1.1c" xref="S4.SS1.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.1.1.6" mathvariant="normal" xref="S4.SS1.p4.2.m2.1.1.6.cmml">@</mi><mo id="S4.SS1.p4.2.m2.1.1.1d" xref="S4.SS1.p4.2.m2.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p4.2.m2.1.1.7" xref="S4.SS1.p4.2.m2.1.1.7.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><apply id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1"><times id="S4.SS1.p4.2.m2.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1"></times><ci id="S4.SS1.p4.2.m2.1.1.2.cmml" xref="S4.SS1.p4.2.m2.1.1.2">𝑁</ci><ci id="S4.SS1.p4.2.m2.1.1.3.cmml" xref="S4.SS1.p4.2.m2.1.1.3">𝐷</ci><ci id="S4.SS1.p4.2.m2.1.1.4.cmml" xref="S4.SS1.p4.2.m2.1.1.4">𝐶</ci><ci id="S4.SS1.p4.2.m2.1.1.5.cmml" xref="S4.SS1.p4.2.m2.1.1.5">𝐺</ci><ci id="S4.SS1.p4.2.m2.1.1.6.cmml" xref="S4.SS1.p4.2.m2.1.1.6">@</ci><cn id="S4.SS1.p4.2.m2.1.1.7.cmml" type="integer" xref="S4.SS1.p4.2.m2.1.1.7">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">NDCG@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.1d">italic_N italic_D italic_C italic_G @ 3</annotation></semantics></math> and <math alttext="Recall@3" class="ltx_Math" display="inline" id="S4.SS1.p4.3.m3.1"><semantics id="S4.SS1.p4.3.m3.1a"><mrow id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mi id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">R</mi><mo id="S4.SS1.p4.3.m3.1.1.1" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.3" xref="S4.SS1.p4.3.m3.1.1.3.cmml">e</mi><mo id="S4.SS1.p4.3.m3.1.1.1a" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.4" xref="S4.SS1.p4.3.m3.1.1.4.cmml">c</mi><mo id="S4.SS1.p4.3.m3.1.1.1b" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.5" xref="S4.SS1.p4.3.m3.1.1.5.cmml">a</mi><mo id="S4.SS1.p4.3.m3.1.1.1c" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.6" xref="S4.SS1.p4.3.m3.1.1.6.cmml">l</mi><mo id="S4.SS1.p4.3.m3.1.1.1d" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.7" xref="S4.SS1.p4.3.m3.1.1.7.cmml">l</mi><mo id="S4.SS1.p4.3.m3.1.1.1e" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.3.m3.1.1.8" mathvariant="normal" xref="S4.SS1.p4.3.m3.1.1.8.cmml">@</mi><mo id="S4.SS1.p4.3.m3.1.1.1f" xref="S4.SS1.p4.3.m3.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p4.3.m3.1.1.9" xref="S4.SS1.p4.3.m3.1.1.9.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><times id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1.1"></times><ci id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">𝑅</ci><ci id="S4.SS1.p4.3.m3.1.1.3.cmml" xref="S4.SS1.p4.3.m3.1.1.3">𝑒</ci><ci id="S4.SS1.p4.3.m3.1.1.4.cmml" xref="S4.SS1.p4.3.m3.1.1.4">𝑐</ci><ci id="S4.SS1.p4.3.m3.1.1.5.cmml" xref="S4.SS1.p4.3.m3.1.1.5">𝑎</ci><ci id="S4.SS1.p4.3.m3.1.1.6.cmml" xref="S4.SS1.p4.3.m3.1.1.6">𝑙</ci><ci id="S4.SS1.p4.3.m3.1.1.7.cmml" xref="S4.SS1.p4.3.m3.1.1.7">𝑙</ci><ci id="S4.SS1.p4.3.m3.1.1.8.cmml" xref="S4.SS1.p4.3.m3.1.1.8">@</ci><cn id="S4.SS1.p4.3.m3.1.1.9.cmml" type="integer" xref="S4.SS1.p4.3.m3.1.1.9">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">Recall@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.3.m3.1d">italic_R italic_e italic_c italic_a italic_l italic_l @ 3</annotation></semantics></math>), and continued to monitor the offline metrics during daily incremental model updates. The screenshot in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.F4" title="Figure 4 ‣ 4.1. Model Performance ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">4</span></a> was captured from the system’s monitoring dashboards, showing that model metrics experienced daily fluctuations within fairly tight ranges. The standard deviations of the metrics ranged from 0.00684 for <math alttext="Precision@3" class="ltx_Math" display="inline" id="S4.SS1.p4.4.m4.1"><semantics id="S4.SS1.p4.4.m4.1a"><mrow id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml"><mi id="S4.SS1.p4.4.m4.1.1.2" xref="S4.SS1.p4.4.m4.1.1.2.cmml">P</mi><mo id="S4.SS1.p4.4.m4.1.1.1" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.3" xref="S4.SS1.p4.4.m4.1.1.3.cmml">r</mi><mo id="S4.SS1.p4.4.m4.1.1.1a" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.4" xref="S4.SS1.p4.4.m4.1.1.4.cmml">e</mi><mo id="S4.SS1.p4.4.m4.1.1.1b" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.5" xref="S4.SS1.p4.4.m4.1.1.5.cmml">c</mi><mo id="S4.SS1.p4.4.m4.1.1.1c" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.6" xref="S4.SS1.p4.4.m4.1.1.6.cmml">i</mi><mo id="S4.SS1.p4.4.m4.1.1.1d" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.7" xref="S4.SS1.p4.4.m4.1.1.7.cmml">s</mi><mo id="S4.SS1.p4.4.m4.1.1.1e" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.8" xref="S4.SS1.p4.4.m4.1.1.8.cmml">i</mi><mo id="S4.SS1.p4.4.m4.1.1.1f" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.9" xref="S4.SS1.p4.4.m4.1.1.9.cmml">o</mi><mo id="S4.SS1.p4.4.m4.1.1.1g" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.10" xref="S4.SS1.p4.4.m4.1.1.10.cmml">n</mi><mo id="S4.SS1.p4.4.m4.1.1.1h" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.4.m4.1.1.11" mathvariant="normal" xref="S4.SS1.p4.4.m4.1.1.11.cmml">@</mi><mo id="S4.SS1.p4.4.m4.1.1.1i" xref="S4.SS1.p4.4.m4.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p4.4.m4.1.1.12" xref="S4.SS1.p4.4.m4.1.1.12.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><apply id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1"><times id="S4.SS1.p4.4.m4.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1.1"></times><ci id="S4.SS1.p4.4.m4.1.1.2.cmml" xref="S4.SS1.p4.4.m4.1.1.2">𝑃</ci><ci id="S4.SS1.p4.4.m4.1.1.3.cmml" xref="S4.SS1.p4.4.m4.1.1.3">𝑟</ci><ci id="S4.SS1.p4.4.m4.1.1.4.cmml" xref="S4.SS1.p4.4.m4.1.1.4">𝑒</ci><ci id="S4.SS1.p4.4.m4.1.1.5.cmml" xref="S4.SS1.p4.4.m4.1.1.5">𝑐</ci><ci id="S4.SS1.p4.4.m4.1.1.6.cmml" xref="S4.SS1.p4.4.m4.1.1.6">𝑖</ci><ci id="S4.SS1.p4.4.m4.1.1.7.cmml" xref="S4.SS1.p4.4.m4.1.1.7">𝑠</ci><ci id="S4.SS1.p4.4.m4.1.1.8.cmml" xref="S4.SS1.p4.4.m4.1.1.8">𝑖</ci><ci id="S4.SS1.p4.4.m4.1.1.9.cmml" xref="S4.SS1.p4.4.m4.1.1.9">𝑜</ci><ci id="S4.SS1.p4.4.m4.1.1.10.cmml" xref="S4.SS1.p4.4.m4.1.1.10">𝑛</ci><ci id="S4.SS1.p4.4.m4.1.1.11.cmml" xref="S4.SS1.p4.4.m4.1.1.11">@</ci><cn id="S4.SS1.p4.4.m4.1.1.12.cmml" type="integer" xref="S4.SS1.p4.4.m4.1.1.12">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">Precision@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.4.m4.1d">italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n @ 3</annotation></semantics></math> to 0.00996 for <math alttext="Recall@3" class="ltx_Math" display="inline" id="S4.SS1.p4.5.m5.1"><semantics id="S4.SS1.p4.5.m5.1a"><mrow id="S4.SS1.p4.5.m5.1.1" xref="S4.SS1.p4.5.m5.1.1.cmml"><mi id="S4.SS1.p4.5.m5.1.1.2" xref="S4.SS1.p4.5.m5.1.1.2.cmml">R</mi><mo id="S4.SS1.p4.5.m5.1.1.1" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.3" xref="S4.SS1.p4.5.m5.1.1.3.cmml">e</mi><mo id="S4.SS1.p4.5.m5.1.1.1a" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.4" xref="S4.SS1.p4.5.m5.1.1.4.cmml">c</mi><mo id="S4.SS1.p4.5.m5.1.1.1b" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.5" xref="S4.SS1.p4.5.m5.1.1.5.cmml">a</mi><mo id="S4.SS1.p4.5.m5.1.1.1c" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.6" xref="S4.SS1.p4.5.m5.1.1.6.cmml">l</mi><mo id="S4.SS1.p4.5.m5.1.1.1d" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.7" xref="S4.SS1.p4.5.m5.1.1.7.cmml">l</mi><mo id="S4.SS1.p4.5.m5.1.1.1e" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p4.5.m5.1.1.8" mathvariant="normal" xref="S4.SS1.p4.5.m5.1.1.8.cmml">@</mi><mo id="S4.SS1.p4.5.m5.1.1.1f" xref="S4.SS1.p4.5.m5.1.1.1.cmml">⁢</mo><mn id="S4.SS1.p4.5.m5.1.1.9" xref="S4.SS1.p4.5.m5.1.1.9.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.5.m5.1b"><apply id="S4.SS1.p4.5.m5.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1"><times id="S4.SS1.p4.5.m5.1.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1.1"></times><ci id="S4.SS1.p4.5.m5.1.1.2.cmml" xref="S4.SS1.p4.5.m5.1.1.2">𝑅</ci><ci id="S4.SS1.p4.5.m5.1.1.3.cmml" xref="S4.SS1.p4.5.m5.1.1.3">𝑒</ci><ci id="S4.SS1.p4.5.m5.1.1.4.cmml" xref="S4.SS1.p4.5.m5.1.1.4">𝑐</ci><ci id="S4.SS1.p4.5.m5.1.1.5.cmml" xref="S4.SS1.p4.5.m5.1.1.5">𝑎</ci><ci id="S4.SS1.p4.5.m5.1.1.6.cmml" xref="S4.SS1.p4.5.m5.1.1.6">𝑙</ci><ci id="S4.SS1.p4.5.m5.1.1.7.cmml" xref="S4.SS1.p4.5.m5.1.1.7">𝑙</ci><ci id="S4.SS1.p4.5.m5.1.1.8.cmml" xref="S4.SS1.p4.5.m5.1.1.8">@</ci><cn id="S4.SS1.p4.5.m5.1.1.9.cmml" type="integer" xref="S4.SS1.p4.5.m5.1.1.9">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.5.m5.1c">Recall@3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.5.m5.1d">italic_R italic_e italic_c italic_a italic_l italic_l @ 3</annotation></semantics></math> over the 4 month period from August 2023 to November 2023, indicating that model performance was fairly stable over time.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>Hyperparameters tested, and final best hyperparameters.</figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T1.1">
<tr class="ltx_tr" id="S4.T1.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.1">Hyperparameter</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.2">Search space</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.1.1.3">Selected Best Value</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1">Dimension of entity embeddings</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.2">16, 32, 64</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.3">32</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3">
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.1">Dimension of relation embeddings</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2">16, 32, 64</td>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.3">32</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.4.1">Convolution layers &amp; dimension of hidden layers</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.4.2">
<span class="ltx_text" id="S4.T1.1.4.2.1"></span> <span class="ltx_text" id="S4.T1.1.4.2.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T1.1.4.2.2.1">
<span class="ltx_tr" id="S4.T1.1.4.2.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.4.2.2.1.1.1">1 layer: [16], [32], [64]</span></span>
<span class="ltx_tr" id="S4.T1.1.4.2.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.4.2.2.1.2.1">2 layers: [32, 16], [64, 32]</span></span>
<span class="ltx_tr" id="S4.T1.1.4.2.2.1.3">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T1.1.4.2.2.1.3.1">3 layers: [64, 32, 16], [32, 16, 8]</span></span>
</span></span><span class="ltx_text" id="S4.T1.1.4.2.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.4.3">2 layers: [32, 16]</td>
</tr>
</table>
</figure>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>Optimal parameters and offline evaluation results of the best 1-, 2-, and 3-layer models.</figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T2.1">
<tr class="ltx_tr" id="S4.T2.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.1.1.2">No. of Layers</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.1.1.3">Dimension of entity embeddings</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.1.1.4">Dimension of relation embeddings</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.1.1.5">Dimension of hidden layers</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.1.1.1"><math alttext="Precision@3" class="ltx_Math" display="inline" id="S4.T2.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.m1.1a"><mrow id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml"><mi id="S4.T2.1.1.1.m1.1.1.2" xref="S4.T2.1.1.1.m1.1.1.2.cmml">P</mi><mo id="S4.T2.1.1.1.m1.1.1.1" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.3" xref="S4.T2.1.1.1.m1.1.1.3.cmml">r</mi><mo id="S4.T2.1.1.1.m1.1.1.1a" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.4" xref="S4.T2.1.1.1.m1.1.1.4.cmml">e</mi><mo id="S4.T2.1.1.1.m1.1.1.1b" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.5" xref="S4.T2.1.1.1.m1.1.1.5.cmml">c</mi><mo id="S4.T2.1.1.1.m1.1.1.1c" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.6" xref="S4.T2.1.1.1.m1.1.1.6.cmml">i</mi><mo id="S4.T2.1.1.1.m1.1.1.1d" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.7" xref="S4.T2.1.1.1.m1.1.1.7.cmml">s</mi><mo id="S4.T2.1.1.1.m1.1.1.1e" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.8" xref="S4.T2.1.1.1.m1.1.1.8.cmml">i</mi><mo id="S4.T2.1.1.1.m1.1.1.1f" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.9" xref="S4.T2.1.1.1.m1.1.1.9.cmml">o</mi><mo id="S4.T2.1.1.1.m1.1.1.1g" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.10" xref="S4.T2.1.1.1.m1.1.1.10.cmml">n</mi><mo id="S4.T2.1.1.1.m1.1.1.1h" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.m1.1.1.11" mathvariant="normal" xref="S4.T2.1.1.1.m1.1.1.11.cmml">@</mi><mo id="S4.T2.1.1.1.m1.1.1.1i" xref="S4.T2.1.1.1.m1.1.1.1.cmml">⁢</mo><mn id="S4.T2.1.1.1.m1.1.1.12" xref="S4.T2.1.1.1.m1.1.1.12.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"><times id="S4.T2.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1"></times><ci id="S4.T2.1.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2">𝑃</ci><ci id="S4.T2.1.1.1.m1.1.1.3.cmml" xref="S4.T2.1.1.1.m1.1.1.3">𝑟</ci><ci id="S4.T2.1.1.1.m1.1.1.4.cmml" xref="S4.T2.1.1.1.m1.1.1.4">𝑒</ci><ci id="S4.T2.1.1.1.m1.1.1.5.cmml" xref="S4.T2.1.1.1.m1.1.1.5">𝑐</ci><ci id="S4.T2.1.1.1.m1.1.1.6.cmml" xref="S4.T2.1.1.1.m1.1.1.6">𝑖</ci><ci id="S4.T2.1.1.1.m1.1.1.7.cmml" xref="S4.T2.1.1.1.m1.1.1.7">𝑠</ci><ci id="S4.T2.1.1.1.m1.1.1.8.cmml" xref="S4.T2.1.1.1.m1.1.1.8">𝑖</ci><ci id="S4.T2.1.1.1.m1.1.1.9.cmml" xref="S4.T2.1.1.1.m1.1.1.9">𝑜</ci><ci id="S4.T2.1.1.1.m1.1.1.10.cmml" xref="S4.T2.1.1.1.m1.1.1.10">𝑛</ci><ci id="S4.T2.1.1.1.m1.1.1.11.cmml" xref="S4.T2.1.1.1.m1.1.1.11">@</ci><cn id="S4.T2.1.1.1.m1.1.1.12.cmml" type="integer" xref="S4.T2.1.1.1.m1.1.1.12">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">Precision@3</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.m1.1d">italic_P italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n @ 3</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1">1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.2">64</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.3">64</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.4">[64]</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.5">0.0451</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.3">
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.1">2</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2">32</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.3">32</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.4">[32, 16]</td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.5"><span class="ltx_text ltx_font_bold" id="S4.T2.1.3.5.1">0.0652</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.4">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.1">3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.2">64</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3">64</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.4">[64, 32, 16]</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.5">0.0401</td>
</tr>
</table>
</figure>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="181" id="S4.F4.g1" src="extracted/5734210/Figure-daily-training-metrics.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Evaluation metrics from daily automated model updates, showing the minimum, maximum, mean and standard deviation of Mean Average Precision (map), Normalized Discounted Cumulative Gain @ 3 (ndcg@k), Precision @ 3 (p@k) and Recall @ 3 (r@k).</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F4.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F4.2">A screenshot from model metrics monitoring dashboard showing the daily changes in model metrics.</p>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Impact of Nudging on Physical Activity</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.2">Arguably the most important outcome to evaluate is whether NudgeRank™ is effective at improving health behaviors via nudging. We evaluated this over a 12-week period, where daily personalized nudges were sent to <math alttext="n=84,764" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.2"><semantics id="S4.SS2.p1.1.m1.2a"><mrow id="S4.SS2.p1.1.m1.2.3" xref="S4.SS2.p1.1.m1.2.3.cmml"><mi id="S4.SS2.p1.1.m1.2.3.2" xref="S4.SS2.p1.1.m1.2.3.2.cmml">n</mi><mo id="S4.SS2.p1.1.m1.2.3.1" xref="S4.SS2.p1.1.m1.2.3.1.cmml">=</mo><mrow id="S4.SS2.p1.1.m1.2.3.3.2" xref="S4.SS2.p1.1.m1.2.3.3.1.cmml"><mn id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">84</mn><mo id="S4.SS2.p1.1.m1.2.3.3.2.1" xref="S4.SS2.p1.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.SS2.p1.1.m1.2.2" xref="S4.SS2.p1.1.m1.2.2.cmml">764</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.2b"><apply id="S4.SS2.p1.1.m1.2.3.cmml" xref="S4.SS2.p1.1.m1.2.3"><eq id="S4.SS2.p1.1.m1.2.3.1.cmml" xref="S4.SS2.p1.1.m1.2.3.1"></eq><ci id="S4.SS2.p1.1.m1.2.3.2.cmml" xref="S4.SS2.p1.1.m1.2.3.2">𝑛</ci><list id="S4.SS2.p1.1.m1.2.3.3.1.cmml" xref="S4.SS2.p1.1.m1.2.3.3.2"><cn id="S4.SS2.p1.1.m1.1.1.cmml" type="integer" xref="S4.SS2.p1.1.m1.1.1">84</cn><cn id="S4.SS2.p1.1.m1.2.2.cmml" type="integer" xref="S4.SS2.p1.1.m1.2.2">764</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.2c">n=84,764</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.2d">italic_n = 84 , 764</annotation></semantics></math> randomly selected users of the Healthy 365 mobile app, to encourage them to do more physical activity including steps and MVPA. A matched control group of <math alttext="n=84,903" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.2"><semantics id="S4.SS2.p1.2.m2.2a"><mrow id="S4.SS2.p1.2.m2.2.3" xref="S4.SS2.p1.2.m2.2.3.cmml"><mi id="S4.SS2.p1.2.m2.2.3.2" xref="S4.SS2.p1.2.m2.2.3.2.cmml">n</mi><mo id="S4.SS2.p1.2.m2.2.3.1" xref="S4.SS2.p1.2.m2.2.3.1.cmml">=</mo><mrow id="S4.SS2.p1.2.m2.2.3.3.2" xref="S4.SS2.p1.2.m2.2.3.3.1.cmml"><mn id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">84</mn><mo id="S4.SS2.p1.2.m2.2.3.3.2.1" xref="S4.SS2.p1.2.m2.2.3.3.1.cmml">,</mo><mn id="S4.SS2.p1.2.m2.2.2" xref="S4.SS2.p1.2.m2.2.2.cmml">903</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.2b"><apply id="S4.SS2.p1.2.m2.2.3.cmml" xref="S4.SS2.p1.2.m2.2.3"><eq id="S4.SS2.p1.2.m2.2.3.1.cmml" xref="S4.SS2.p1.2.m2.2.3.1"></eq><ci id="S4.SS2.p1.2.m2.2.3.2.cmml" xref="S4.SS2.p1.2.m2.2.3.2">𝑛</ci><list id="S4.SS2.p1.2.m2.2.3.3.1.cmml" xref="S4.SS2.p1.2.m2.2.3.3.2"><cn id="S4.SS2.p1.2.m2.1.1.cmml" type="integer" xref="S4.SS2.p1.2.m2.1.1">84</cn><cn id="S4.SS2.p1.2.m2.2.2.cmml" type="integer" xref="S4.SS2.p1.2.m2.2.2">903</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.2c">n=84,903</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.2d">italic_n = 84 , 903</annotation></semantics></math> users with the same demographics (age and sex) and baseline behaviors (mean steps and MVPA before nudging) were also selected to compare the effect of nudging. Users in the control group did not get any personalized nudges.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">Over the 12-week period, users who received daily personalized nudges performed 6.17% more average daily steps and 7.61% more average weekly minutes of MVPA than users who did not receive any nudges. These results were statistically significant at <math alttext="\alpha=0.05" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">α</mi><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><eq id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1"></eq><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝛼</ci><cn id="S4.SS2.p2.1.m1.1.1.3.cmml" type="float" xref="S4.SS2.p2.1.m1.1.1.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\alpha=0.05</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">italic_α = 0.05</annotation></semantics></math> on one-tailed independent samples t-tests comparing both groups (Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.T3" title="Table 3 ‣ 4.2. Impact of Nudging on Physical Activity ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">3</span></a>). When the behaviors of the nudge and no nudge groups were measured on a weekly basis for each of the 12 weeks, they remained significantly different for all 12 weeks for steps, and 10 out of 12 weeks for MVPA, suggesting that behavior differences were sustained and persistent.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">Participants who opened more nudges were also found to have been more physically active. For example, participants who opened 0, 1, 2 and <math alttext="\geq" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mo id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">≥</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><geq id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"></geq></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">\geq</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">≥</annotation></semantics></math> 3 nudges during the 12 weeks walked a mean of 2,491, 3,213, 3,588 and 4,445 daily steps, respectively. This suggests a positive relationship between nudge engagement and behavior.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>Impact of nudging on physical activity. <math alttext="p" class="ltx_Math" display="inline" id="S4.T3.2.m1.1"><semantics id="S4.T3.2.m1.1b"><mi id="S4.T3.2.m1.1.1" xref="S4.T3.2.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T3.2.m1.1c"><ci id="S4.T3.2.m1.1.1.cmml" xref="S4.T3.2.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.m1.1e">italic_p</annotation></semantics></math>-values were computed on one-tailed independent samples t-tests.</figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T3.5">
<tr class="ltx_tr" id="S4.T3.3.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.3.1.2">Group</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.3.1.3">
<span class="ltx_text" id="S4.T3.3.1.3.1"></span> <span class="ltx_text" id="S4.T3.3.1.3.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T3.3.1.3.2.1">
<span class="ltx_tr" id="S4.T3.3.1.3.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.3.1.3.2.1.1.1">No Nudges</span></span>
<span class="ltx_tr" id="S4.T3.3.1.3.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.3.1.3.2.1.2.1">(Control)</span></span>
</span></span><span class="ltx_text" id="S4.T3.3.1.3.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.3.1.4">
<span class="ltx_text" id="S4.T3.3.1.4.1"></span> <span class="ltx_text" id="S4.T3.3.1.4.2">
<span class="ltx_tabular ltx_align_middle" id="S4.T3.3.1.4.2.1">
<span class="ltx_tr" id="S4.T3.3.1.4.2.1.1">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.3.1.4.2.1.1.1">Daily Nudges</span></span>
<span class="ltx_tr" id="S4.T3.3.1.4.2.1.2">
<span class="ltx_td ltx_nopad_r ltx_align_center" id="S4.T3.3.1.4.2.1.2.1">(Treatment)</span></span>
</span></span><span class="ltx_text" id="S4.T3.3.1.4.3"></span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.3.1.1"><math alttext="p" class="ltx_Math" display="inline" id="S4.T3.3.1.1.m1.1"><semantics id="S4.T3.3.1.1.m1.1a"><mi id="S4.T3.3.1.1.m1.1.1" xref="S4.T3.3.1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T3.3.1.1.m1.1b"><ci id="S4.T3.3.1.1.m1.1.1.cmml" xref="S4.T3.3.1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.1.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S4.T3.3.1.1.m1.1d">italic_p</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T3.4.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.2">Daily Steps</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.3">2,908.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.4">3,088.1 (+6.17%)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.4.2.1"><math alttext="3.09\times 10^{-4}" class="ltx_Math" display="inline" id="S4.T3.4.2.1.m1.1"><semantics id="S4.T3.4.2.1.m1.1a"><mrow id="S4.T3.4.2.1.m1.1.1" xref="S4.T3.4.2.1.m1.1.1.cmml"><mn id="S4.T3.4.2.1.m1.1.1.2" xref="S4.T3.4.2.1.m1.1.1.2.cmml">3.09</mn><mo id="S4.T3.4.2.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T3.4.2.1.m1.1.1.1.cmml">×</mo><msup id="S4.T3.4.2.1.m1.1.1.3" xref="S4.T3.4.2.1.m1.1.1.3.cmml"><mn id="S4.T3.4.2.1.m1.1.1.3.2" xref="S4.T3.4.2.1.m1.1.1.3.2.cmml">10</mn><mrow id="S4.T3.4.2.1.m1.1.1.3.3" xref="S4.T3.4.2.1.m1.1.1.3.3.cmml"><mo id="S4.T3.4.2.1.m1.1.1.3.3a" xref="S4.T3.4.2.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.T3.4.2.1.m1.1.1.3.3.2" xref="S4.T3.4.2.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.4.2.1.m1.1b"><apply id="S4.T3.4.2.1.m1.1.1.cmml" xref="S4.T3.4.2.1.m1.1.1"><times id="S4.T3.4.2.1.m1.1.1.1.cmml" xref="S4.T3.4.2.1.m1.1.1.1"></times><cn id="S4.T3.4.2.1.m1.1.1.2.cmml" type="float" xref="S4.T3.4.2.1.m1.1.1.2">3.09</cn><apply id="S4.T3.4.2.1.m1.1.1.3.cmml" xref="S4.T3.4.2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T3.4.2.1.m1.1.1.3.1.cmml" xref="S4.T3.4.2.1.m1.1.1.3">superscript</csymbol><cn id="S4.T3.4.2.1.m1.1.1.3.2.cmml" type="integer" xref="S4.T3.4.2.1.m1.1.1.3.2">10</cn><apply id="S4.T3.4.2.1.m1.1.1.3.3.cmml" xref="S4.T3.4.2.1.m1.1.1.3.3"><minus id="S4.T3.4.2.1.m1.1.1.3.3.1.cmml" xref="S4.T3.4.2.1.m1.1.1.3.3"></minus><cn id="S4.T3.4.2.1.m1.1.1.3.3.2.cmml" type="integer" xref="S4.T3.4.2.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.2.1.m1.1c">3.09\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.4.2.1.m1.1d">3.09 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.3">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.3.2">Weekly MVPA</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.3.3">47.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.3.4">50.6 (+7.61%)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.3.1"><math alttext="1.16\times 10^{-2}" class="ltx_Math" display="inline" id="S4.T3.5.3.1.m1.1"><semantics id="S4.T3.5.3.1.m1.1a"><mrow id="S4.T3.5.3.1.m1.1.1" xref="S4.T3.5.3.1.m1.1.1.cmml"><mn id="S4.T3.5.3.1.m1.1.1.2" xref="S4.T3.5.3.1.m1.1.1.2.cmml">1.16</mn><mo id="S4.T3.5.3.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T3.5.3.1.m1.1.1.1.cmml">×</mo><msup id="S4.T3.5.3.1.m1.1.1.3" xref="S4.T3.5.3.1.m1.1.1.3.cmml"><mn id="S4.T3.5.3.1.m1.1.1.3.2" xref="S4.T3.5.3.1.m1.1.1.3.2.cmml">10</mn><mrow id="S4.T3.5.3.1.m1.1.1.3.3" xref="S4.T3.5.3.1.m1.1.1.3.3.cmml"><mo id="S4.T3.5.3.1.m1.1.1.3.3a" xref="S4.T3.5.3.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.T3.5.3.1.m1.1.1.3.3.2" xref="S4.T3.5.3.1.m1.1.1.3.3.2.cmml">2</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.5.3.1.m1.1b"><apply id="S4.T3.5.3.1.m1.1.1.cmml" xref="S4.T3.5.3.1.m1.1.1"><times id="S4.T3.5.3.1.m1.1.1.1.cmml" xref="S4.T3.5.3.1.m1.1.1.1"></times><cn id="S4.T3.5.3.1.m1.1.1.2.cmml" type="float" xref="S4.T3.5.3.1.m1.1.1.2">1.16</cn><apply id="S4.T3.5.3.1.m1.1.1.3.cmml" xref="S4.T3.5.3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T3.5.3.1.m1.1.1.3.1.cmml" xref="S4.T3.5.3.1.m1.1.1.3">superscript</csymbol><cn id="S4.T3.5.3.1.m1.1.1.3.2.cmml" type="integer" xref="S4.T3.5.3.1.m1.1.1.3.2">10</cn><apply id="S4.T3.5.3.1.m1.1.1.3.3.cmml" xref="S4.T3.5.3.1.m1.1.1.3.3"><minus id="S4.T3.5.3.1.m1.1.1.3.3.1.cmml" xref="S4.T3.5.3.1.m1.1.1.3.3"></minus><cn id="S4.T3.5.3.1.m1.1.1.3.3.2.cmml" type="integer" xref="S4.T3.5.3.1.m1.1.1.3.3.2">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.3.1.m1.1c">1.16\times 10^{-2}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.5.3.1.m1.1d">1.16 × 10 start_POSTSUPERSCRIPT - 2 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">Furthermore, nudges were generally well received. A total of 1.12 million nudges sent during this period, comprising 660,000 nudges to encourage steps and 460,000 nudges for MVPA. 13.1% of all nudges were opened, out of which, 6 times more nudges were rated useful (11.7%) than not useful (1.9%) by users.</p>
</div>
<div class="ltx_para" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.1">Appendix reports more representative results from this study on the impact of nudges on physical activity; for full coverage, see <cite class="ltx_cite ltx_citemacro_citep">(Chiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib6" title="">2024</a>)</cite>.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>System Scalability and Performance</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">On a daily basis, the production system generates nudges for over 1 million users. The typical size of the knowledge graph (which has small daily fluctuations) is reported in Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.T4" title="Table 4 ‣ 4.3. System Scalability and Performance ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">4</span></a>. In order to ensure that nudges are generated in time to be sent each day, a performance test was conducted to evaluate how total execution time increases with the number of candidate nudges that need to be ranked. Synthetic data was created to generate a larger number of candidate user-nudge pairs than was available in the production system, ranging from 300 thousand to 19 billion candidate pairs. For each set of candidate nudges, the system was executed with 8 parallel batches, with each batch process running on a Kubernetes node with 16 vCPUs and 128GB RAM. The total end-to-end execution time of Parallel NudgeRank™ (Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#alg1" title="Algorithm 1 ‣ 3.2.4. Performance and Resilience ‣ 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">1</span></a>) was recorded.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">The results in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#S4.F5" title="Figure 5 ‣ 4.3. System Scalability and Performance ‣ 4. Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">5</span></a> show a strong correlation (<math alttext="R^{2}=0.9997" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1"><semantics id="S4.SS3.p2.1.m1.1a"><mrow id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><msup id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2.2" xref="S4.SS3.p2.1.m1.1.1.2.2.cmml">R</mi><mn id="S4.SS3.p2.1.m1.1.1.2.3" xref="S4.SS3.p2.1.m1.1.1.2.3.cmml">2</mn></msup><mo id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">0.9997</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><eq id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1"></eq><apply id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.2.1.cmml" xref="S4.SS3.p2.1.m1.1.1.2">superscript</csymbol><ci id="S4.SS3.p2.1.m1.1.1.2.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2">𝑅</ci><cn id="S4.SS3.p2.1.m1.1.1.2.3.cmml" type="integer" xref="S4.SS3.p2.1.m1.1.1.2.3">2</cn></apply><cn id="S4.SS3.p2.1.m1.1.1.3.cmml" type="float" xref="S4.SS3.p2.1.m1.1.1.3">0.9997</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">R^{2}=0.9997</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">italic_R start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT = 0.9997</annotation></semantics></math>) between the number of candidate user-nudge pairs and the total execution time of the system. Scoring 300 thousand candidate pairs on the tested infrastructure took 22 minutes. This grew linearly to 138 minutes to score 19 billion candidate pairs. The results indicate that the system is able to scale linearly to process increased demand of future workloads. Furthermore, the parallel design of the system makes it trivial to reduce the overall execution time, by adding more compute resources to the cluster.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">Daily model updates were also computationally efficient in the production system, with the Model Trainer taking between 90 and 150 minutes to update the model with the latest daily knowledge graph. The variation in time was mainly due to the different number of epochs required by the model to converge, as data inputs changed day to day. The short time required for model update allows it to be scheduled daily, during system off-peak hours.</p>
</div>
<div class="ltx_para" id="S4.SS3.p4">
<p class="ltx_p" id="S4.SS3.p4.1">At the time of writing, the system has been running daily for over 18 months, indicating the high level of reliability achieved in its design.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4. </span>Typical graph attributes in daily automatic model training.</figcaption>
<table class="ltx_tabular ltx_align_middle" id="S4.T4.1">
<tr class="ltx_tr" id="S4.T4.1.2">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.2.1">Attribute</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.2.2">Value</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.3">
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.1">Number of nodes</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.3.2">3.1 million</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.4">
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.1">Number of edges</td>
<td class="ltx_td ltx_align_center" id="S4.T4.1.4.2">5.7 million</td>
</tr>
<tr class="ltx_tr" id="S4.T4.1.1">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.2">Density</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.1.1.1"><math alttext="5.93\times 10^{-7}" class="ltx_Math" display="inline" id="S4.T4.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.m1.1a"><mrow id="S4.T4.1.1.1.m1.1.1" xref="S4.T4.1.1.1.m1.1.1.cmml"><mn id="S4.T4.1.1.1.m1.1.1.2" xref="S4.T4.1.1.1.m1.1.1.2.cmml">5.93</mn><mo id="S4.T4.1.1.1.m1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.T4.1.1.1.m1.1.1.1.cmml">×</mo><msup id="S4.T4.1.1.1.m1.1.1.3" xref="S4.T4.1.1.1.m1.1.1.3.cmml"><mn id="S4.T4.1.1.1.m1.1.1.3.2" xref="S4.T4.1.1.1.m1.1.1.3.2.cmml">10</mn><mrow id="S4.T4.1.1.1.m1.1.1.3.3" xref="S4.T4.1.1.1.m1.1.1.3.3.cmml"><mo id="S4.T4.1.1.1.m1.1.1.3.3a" xref="S4.T4.1.1.1.m1.1.1.3.3.cmml">−</mo><mn id="S4.T4.1.1.1.m1.1.1.3.3.2" xref="S4.T4.1.1.1.m1.1.1.3.3.2.cmml">7</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.m1.1b"><apply id="S4.T4.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.m1.1.1"><times id="S4.T4.1.1.1.m1.1.1.1.cmml" xref="S4.T4.1.1.1.m1.1.1.1"></times><cn id="S4.T4.1.1.1.m1.1.1.2.cmml" type="float" xref="S4.T4.1.1.1.m1.1.1.2">5.93</cn><apply id="S4.T4.1.1.1.m1.1.1.3.cmml" xref="S4.T4.1.1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.T4.1.1.1.m1.1.1.3.1.cmml" xref="S4.T4.1.1.1.m1.1.1.3">superscript</csymbol><cn id="S4.T4.1.1.1.m1.1.1.3.2.cmml" type="integer" xref="S4.T4.1.1.1.m1.1.1.3.2">10</cn><apply id="S4.T4.1.1.1.m1.1.1.3.3.cmml" xref="S4.T4.1.1.1.m1.1.1.3.3"><minus id="S4.T4.1.1.1.m1.1.1.3.3.1.cmml" xref="S4.T4.1.1.1.m1.1.1.3.3"></minus><cn id="S4.T4.1.1.1.m1.1.1.3.3.2.cmml" type="integer" xref="S4.T4.1.1.1.m1.1.1.3.3.2">7</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.m1.1c">5.93\times 10^{-7}</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.m1.1d">5.93 × 10 start_POSTSUPERSCRIPT - 7 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
</table>
</figure>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="429" id="S4.F5.g1" src="extracted/5734210/Figure-performance-scale.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Results of execution time versus volume of candidate user-nudge pairs to be scored.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F5.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F5.2">The results show that as the number of candidate pairs increases, the execution time increases linearly.</p>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Discussion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">We presented the design and implementation results of a production-scale RecSys for digital algorithmic nudging, and demonstrated the ability of the NudgeRank™ system to not only improve health behaviors, but also to do it at scale for a large population, and with a high level of performance and reliability. Although the system was first evaluated on physical activity (steps and MVPA), it is designed to be easily deployed for any other use cases where it is important to influence users’ health behaviors, for example, diabetes management, nutrition, sleep, smoking cessation, pre- / post-operative care, and many others.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">The system was launched to users in a progressive rollout, starting with fewer users and gradually increasing to the full user base over a period of 12 months. This allowed the system to be monitored and improved in iterations to address operational issues. For example, Parallel NudgeRank™ (Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#alg1" title="Algorithm 1 ‣ 3.2.4. Performance and Resilience ‣ 3.2. Design Considerations ‣ 3. System Design ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">1</span></a>) was developed in response to the increased load, as nudges were enabled for more users. The monitoring dashboards that recorded model performance and nudge engagement provided useful real-time insights into the system’s daily operations for observability and troubleshooting.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">A number of future improvements are under development. Reinforcement Learning can be used to provide goal-directed recommendations, where nudges are based not only on user preferences, but also consider the ”next best action” that a user should take towards stated health goals. The Knowledge Graph can be updated with more node and edge types, providing richer context for personalized recommendations. Large Language Models can be used to enrich the graph with semantic information, for example about nudge content, as well as add external knowledge about relevant health topics.</p>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.1">This work is just the first step in improving population-level health behaviors through personalization. As the future iterations of the system bring new capabilities and the system is deployed and evaluated on other health use cases and different populations, there is tremendous potential to effect sustained behavior change at scale, leading to meaningful improvements in population health outcomes.</p>
</div>
<div class="ltx_acknowledgements">
<h6 class="ltx_title ltx_title_acknowledgements">Acknowledgements.</h6>
The Health Promotion Board of Singapore provided the Healthy 365 mobile application and data on which the NudgeRank™ system was deployed and evaluated in this study.

</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abdel Sater et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Rita Abdel Sater, Mathilde Mus, Valentin Wyart, and Coralie Chevallier. 2023.

</span>
<span class="ltx_bibblock">A zero-cost attention-based approach to promote cleaner streets: A Signal Detection Theory approach in Parisian streets.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Plos one</em> 18, 4 (2023), e0284272.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anderson et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Ashton Anderson, Lucas Maystre, Ian Anderson, Rishabh Mehrotra, and Mounia Lalmas. 2020.

</span>
<span class="ltx_bibblock">Algorithmic effects on the diversity of consumption on spotify. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Proceedings of the web conference 2020</em>. 2155–2165.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carrasco-Hernandez et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Laura Carrasco-Hernandez, Francisco Jódar-Sánchez, Francisco Núñez-Benjumea, Jesús Moreno Conde, Marco Mesa González, Antón Civit-Balcells, Santiago Hors-Fraile, Carlos Luis Parra-Calderón, Panagiotis D Bamidis, Francisco Ortega-Ruiz, et al<span class="ltx_text" id="bib.bib4.3.1">.</span> 2020.

</span>
<span class="ltx_bibblock">A mobile health solution complementing psychopharmacology-supported smoking cessation: randomized controlled trial.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.4.1">JMIR mHealth and uHealth</em> 8, 4 (2020), e17530.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2011)</span>
<span class="ltx_bibblock">
Rung-Ching Chen, Jiun Yao Chiu, and Cho Tsan Batj. 2011.

</span>
<span class="ltx_bibblock">The recommendation of medicines based on multiple criteria decision making and domain ontology—An example of anti-diabetic medicines. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">2011 International Conference on Machine Learning and Cybernetics</em>, Vol. 1. IEEE, 27–32.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiam et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jodi Chiam, Aloysius Lim, Cheryl Nott, Nicholas Mark, Ankur Teredesai, and Sunil Shinde. 2024.

</span>
<span class="ltx_bibblock">Co-Pilot for Health: Personalized Algorithmic AI Nudging to Improve Health Outcomes.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2401.10816 [cs.HC]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Consolvo et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2008)</span>
<span class="ltx_bibblock">
Sunny Consolvo, David W McDonald, Tammy Toscos, Mike Y Chen, Jon Froehlich, Beverly Harrison, Predrag Klasnja, Anthony LaMarca, Louis LeGrand, Ryan Libby, et al<span class="ltx_text" id="bib.bib7.3.1">.</span> 2008.

</span>
<span class="ltx_bibblock">Activity sensing in the wild: a field trial of ubifit garden. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.4.1">Proceedings of the SIGCHI conference on human factors in computing systems</em>. 1797–1806.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Covington et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Paul Covington, Jay Adams, and Emre Sargin. 2016.

</span>
<span class="ltx_bibblock">Deep neural networks for youtube recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of the 10th ACM conference on recommender systems</em>. 191–198.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Doulaverakis et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
Charalampos Doulaverakis, George Nikolaidis, Athanasios Kleontas, and Ioannis Kompatsiaris. 2014.

</span>
<span class="ltx_bibblock">Panacea, a semantic-enabled drug recommendations discovery framework.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Journal of biomedical semantics</em> 5 (2014), 1–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Glorot and Bengio (2010)</span>
<span class="ltx_bibblock">
Xavier Glorot and Yoshua Bengio. 2010.

</span>
<span class="ltx_bibblock">Understanding the difficulty of training deep feedforward neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Proceedings of the thirteenth international conference on artificial intelligence and statistics</em>. JMLR Workshop and Conference Proceedings, 249–256.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gustafson et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
David H Gustafson, Fiona M McTavish, Ming-Yuan Chih, Amy K Atwood, Roberta A Johnson, Michael G Boyle, Michael S Levy, Hilary Driscoll, Steven M Chisholm, Lisa Dillenburg, et al<span class="ltx_text" id="bib.bib11.3.1">.</span> 2014.

</span>
<span class="ltx_bibblock">A smartphone application to support recovery from alcoholism: a randomized clinical trial.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.4.1">JAMA psychiatry</em> 71, 5 (2014), 566–572.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hors-Fraile et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Santiago Hors-Fraile, Francine Schneider, Luis Fernandez-Luque, Francisco Luna-Perejon, Anton Civit, Dimitris Spachos, Panagiotis Bamidis, and Hein de Vries. 2018.

</span>
<span class="ltx_bibblock">Tailoring motivational health messages for smoking cessation using an mHealth recommender system integrated with an electronic health record: a study protocol.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">BMC public health</em> 18, 1 (2018), 1–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huitink et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Marlijn Huitink, Maartje P Poelman, Emma van den Eynde, Jacob C Seidell, and S Coosje Dijkstra. 2020.

</span>
<span class="ltx_bibblock">Social norm nudges in shopping trolleys to promote vegetable purchases: A quasi-experimental study in a supermarket in a deprived urban area in the Netherlands.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Appetite</em> 151 (2020), 104655.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Zhiguo Li, Subhro Das, James Codella, Tian Hao, Kun Lin, Chandramouli Maduri, and Ching-Hua Chen. 2018.

</span>
<span class="ltx_bibblock">An adaptive, data-driven personalized advisor for increasing physical activity.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">IEEE journal of biomedical and health informatics</em> 23, 3 (2018), 999–1010.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liao et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Peng Liao, Kristjan Greenewald, Predrag Klasnja, and Susan Murphy. 2020.

</span>
<span class="ltx_bibblock">Personalized heartsteps: A reinforcement learning algorithm for optimizing physical activity.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.3.1">Proceedings of the ACM on Interactive, Mobile, Wearable and Ubiquitous Technologies</em> 4, 1 (2020), 1–22.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Linden et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2003)</span>
<span class="ltx_bibblock">
Greg Linden, Brent Smith, and Jeremy York. 2003.

</span>
<span class="ltx_bibblock">Amazon. com recommendations: Item-to-item collaborative filtering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">IEEE Internet computing</em> 7, 1 (2003), 76–80.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mistura et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Matheus Mistura, Nicole Fetterly, Ryan E Rhodes, Dona Tomlin, and Patti-Jean Naylor. 2019.

</span>
<span class="ltx_bibblock">Examining the efficacy of a ‘feasible’nudge intervention to increase the purchase of vegetables by first year university students (17–19 years of age) in British Columbia: a pilot study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Nutrients</em> 11, 8 (2019), 1786.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nahum-Shani et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Inbal Nahum-Shani, Shawna N Smith, Bonnie J Spring, Linda M Collins, Katie Witkiewitz, Ambuj Tewari, and Susan A Murphy. 2018.

</span>
<span class="ltx_bibblock">Just-in-time adaptive interventions (JITAIs) in mobile health: key components and design principles for ongoing health behavior support.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Annals of Behavioral Medicine</em> (2018), 1–17.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jianmo Ni, Larry Muhlstein, and Julian McAuley. 2019.

</span>
<span class="ltx_bibblock">Modeling heart rate and activity data for personalized fitness recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">The World Wide Web Conference</em>. 1343–1353.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Organization (2023)</span>
<span class="ltx_bibblock">
World Health Organization. 2023.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Fact sheet: Noncommunicable diseases</em>.

</span>
<span class="ltx_bibblock">
Retrieved January 9, 2024 from <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.who.int/news-room/fact-sheets/detail/noncommunicable-diseases" title="">https://www.who.int/news-room/fact-sheets/detail/noncommunicable-diseases</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Patrick et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Kevin Patrick, Fred Raab, Marc Adams, Lindsay Dillon, Marion Zabinski, Cheryl Rock, William Griswold, Gregory Norman, et al<span class="ltx_text" id="bib.bib21.3.1">.</span> 2009.

</span>
<span class="ltx_bibblock">A text message-based intervention for weight loss: randomized controlled trial.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.4.1">Journal of medical Internet research</em> 11, 1 (2009), e1100.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Yanru Qu, Ting Bai, Weinan Zhang, Jianyun Nie, and Jian Tang. 2019.

</span>
<span class="ltx_bibblock">An end-to-end neighborhood-based interaction model for knowledge-enhanced recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">Proceedings of the 1st international workshop on deep learning practice for high-dimensional sparse data</em>. 1–9.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Riley and Cowan (2022)</span>
<span class="ltx_bibblock">
Leanne Riley and Melanie Cowan. 2022.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Noncommunicable diseases progress monitor 2022</em>.

</span>
<span class="ltx_bibblock">Technical Report. World Health Organization.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Riley et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2008)</span>
<span class="ltx_bibblock">
William Riley, Jami Obermayer, and Jersino Jean-Mary. 2008.

</span>
<span class="ltx_bibblock">Internet and mobile phone text messaging intervention for college smokers.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Journal of American College Health</em> 57, 2 (2008), 245–248.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sanchez Bocanegra et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Carlos Luis Sanchez Bocanegra, Jose Luis Sevillano Ramos, Carlos Rizo, Anton Civit, and Luis Fernandez-Luque. 2017.

</span>
<span class="ltx_bibblock">HealthRecSys: A semantic content-based recommender system to complement health videos.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">BMC medical informatics and decision making</em> 17, 1 (2017), 1–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thaler and Sunstein (2009)</span>
<span class="ltx_bibblock">
Richard H. Thaler and Cass R. Sunstein. 2009.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Nudge: Improving decisions about health, wealth, and happiness</em>.

</span>
<span class="ltx_bibblock">Penguin Books.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Veličković et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Petar Veličković, Guillem Cucurull, Arantxa Casanova, Adriana Romero, Pietro Lio, and Yoshua Bengio. 2017.

</span>
<span class="ltx_bibblock">Graph attention networks.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">arXiv preprint arXiv:1710.10903</em> (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Hongwei Wang, Fuzheng Zhang, Jialin Wang, Miao Zhao, Wenjie Li, Xing Xie, and Minyi Guo. 2018.

</span>
<span class="ltx_bibblock">Ripplenet: Propagating user preferences on the knowledge graph for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Proceedings of the 27th ACM international conference on information and knowledge management</em>. 417–426.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2019b)</span>
<span class="ltx_bibblock">
Hongwei Wang, Miao Zhao, Xing Xie, Wenjie Li, and Minyi Guo. 2019b.

</span>
<span class="ltx_bibblock">Knowledge graph convolutional networks for recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">The world wide web conference</em>. 3307–3313.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2019a)</span>
<span class="ltx_bibblock">
Xiang Wang, Xiangnan He, Yixin Cao, Meng Liu, and Tat-Seng Chua. 2019a.

</span>
<span class="ltx_bibblock">Kgat: Knowledge graph attention network for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">Proceedings of the 25th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 950–958.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ying et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Rex Ying, Ruining He, Kaifeng Chen, Pong Eksombatchai, William L Hamilton, and Jure Leskovec. 2018.

</span>
<span class="ltx_bibblock">Graph convolutional neural networks for web-scale recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</em>. 974–983.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jun Zhao, Zhou Zhou, Ziyu Guan, Wei Zhao, Wei Ning, Guang Qiu, and Xiaofei He. 2019.

</span>
<span class="ltx_bibblock">Intentgc: a scalable graph convolution framework fusing heterogeneous information for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Proceedings of the 25th ACM SIGKDD International Conference on Knowledge Discovery &amp; Data Mining</em>. 2347–2357.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Di Zhu, Gang Zhao, and Xia Wang. 2021.

</span>
<span class="ltx_bibblock">Association of smoking and smoking cessation with overall and cause-specific mortality.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">American Journal of Preventive Medicine</em> 60, 4 (2021), 504–512.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix: Population Health and Nudge Efficacy Results</h2>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.1">This section provides representative results of the study on impact of nudging on physical activity, namely steps and Moderate to Vigorous Physical Activity (MVPA).</p>
</div>
<div class="ltx_para" id="A1.p2">
<p class="ltx_p" id="A1.p2.1">For complete coverage and details, please refer to <cite class="ltx_cite ltx_citemacro_citep">(Chiam et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#bib.bib6" title="">2024</a>)</cite>.</p>
</div>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1. </span>Background</h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">The Health Promotion Board of Singapore (HPB) operates the Healthy 365 mobile app, with over 700,000 active participants in the National Steps Challenge™ (NSC), HPB’s program to encourage physical activity in the Singapore population. Healthy 365 is also used by over 1.1 million participants in Eat Drink Shop Healthy (EDSH), its program to encourage better nutrition via healthy food purchases <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.hpb.gov.sg/docs/default-source/pdf/hpb-2022_2023-annual-report.pdf" title="">https://www.hpb.gov.sg/docs/default-source/pdf/hpb-2022_2023-annual-report.pdf</a></span></span></span>.</p>
</div>
<div class="ltx_para" id="A1.SS1.p2">
<p class="ltx_p" id="A1.SS1.p2.1">Traditionally, mass marketing efforts such as roadshows, broadcasts and social media were the main channels of engagement to encourage active participation in these programs. As part of a beta launch of NudgeRank™ integrated with Healthy 365, a study was conducted to evaluate the impact of digital algorithmic nudging on physical activity behavior such as steps and MVPA.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2. </span>Study Design</h3>
<figure class="ltx_table" id="A1.T5">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A1.T5.1">
<tr class="ltx_tr" id="A1.T5.1.1">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.1.1.1">
<span class="ltx_p" id="A1.T5.1.1.1.1.1">Group</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.1.2.1">
<span class="ltx_p" id="A1.T5.1.1.2.1.1">Group 1: Participants in physical activity program (NSC) only</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.1.3.1">
<span class="ltx_p" id="A1.T5.1.1.3.1.1">Group 2: Participants in both physical activity (NSC) and nutrition (EDSH) programs</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.2">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.2.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.2.1.1">
<span class="ltx_p" id="A1.T5.1.2.1.1.1">Group n</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.2.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.2.2.1">
<span class="ltx_p" id="A1.T5.1.2.2.1.1">14,901</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" colspan="2" id="A1.T5.1.2.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.2.3.1">
<span class="ltx_p" id="A1.T5.1.2.3.1.1">154,766</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.3">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.3.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.3.1.1">
<span class="ltx_p" id="A1.T5.1.3.1.1.1">Treatment</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.3.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.3.2.1">
<span class="ltx_p" id="A1.T5.1.3.2.1.1">No Nudges</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.3.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.3.3.1">
<span class="ltx_p" id="A1.T5.1.3.3.1.1">Nudges</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.3.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.3.4.1">
<span class="ltx_p" id="A1.T5.1.3.4.1.1">No Nudges</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.3.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.3.5.1">
<span class="ltx_p" id="A1.T5.1.3.5.1.1">Nudges</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.4">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.4.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.4.1.1">
<span class="ltx_p" id="A1.T5.1.4.1.1.1">n</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.4.2.1">
<span class="ltx_p" id="A1.T5.1.4.2.1.1">7,465</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.4.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.4.3.1">
<span class="ltx_p" id="A1.T5.1.4.3.1.1">7,436</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.4.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.4.4.1">
<span class="ltx_p" id="A1.T5.1.4.4.1.1">77,438</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.4.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.4.5.1">
<span class="ltx_p" id="A1.T5.1.4.5.1.1">77,328</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.5">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.5.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.5.1.1">
<span class="ltx_p" id="A1.T5.1.5.1.1.1">Mean age</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.5.2.1">
<span class="ltx_p" id="A1.T5.1.5.2.1.1">47.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.5.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.5.3.1">
<span class="ltx_p" id="A1.T5.1.5.3.1.1">47.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.5.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.5.4.1">
<span class="ltx_p" id="A1.T5.1.5.4.1.1">46.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.5.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.5.5.1">
<span class="ltx_p" id="A1.T5.1.5.5.1.1">46.0</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.6">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.6.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.6.1.1">
<span class="ltx_p" id="A1.T5.1.6.1.1.1">% Female</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.6.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.6.2.1">
<span class="ltx_p" id="A1.T5.1.6.2.1.1">48.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.6.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.6.3.1">
<span class="ltx_p" id="A1.T5.1.6.3.1.1">47.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.6.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.6.4.1">
<span class="ltx_p" id="A1.T5.1.6.4.1.1">62.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.6.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.6.5.1">
<span class="ltx_p" id="A1.T5.1.6.5.1.1">63.1</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.7">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.7.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.7.1.1">
<span class="ltx_p" id="A1.T5.1.7.1.1.1">% Male</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.7.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.7.2.1">
<span class="ltx_p" id="A1.T5.1.7.2.1.1">52.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.7.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.7.3.1">
<span class="ltx_p" id="A1.T5.1.7.3.1.1">52.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.7.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.7.4.1">
<span class="ltx_p" id="A1.T5.1.7.4.1.1">37.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.7.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.7.5.1">
<span class="ltx_p" id="A1.T5.1.7.5.1.1">36.9</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.8">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.8.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.8.1.1">
<span class="ltx_p" id="A1.T5.1.8.1.1.1">Mean Daily Steps (start of experiment)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.8.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.8.2.1">
<span class="ltx_p" id="A1.T5.1.8.2.1.1">3,138</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.8.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.8.3.1">
<span class="ltx_p" id="A1.T5.1.8.3.1.1">3,153</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.8.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.8.4.1">
<span class="ltx_p" id="A1.T5.1.8.4.1.1">4,154</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.8.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.8.5.1">
<span class="ltx_p" id="A1.T5.1.8.5.1.1">4,159</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.9">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.9.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.9.1.1">
<span class="ltx_p" id="A1.T5.1.9.1.1.1">Mean Weekly MVPA (start of experiment)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.9.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.9.2.1">
<span class="ltx_p" id="A1.T5.1.9.2.1.1">39.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.9.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.9.3.1">
<span class="ltx_p" id="A1.T5.1.9.3.1.1">40.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.9.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.9.4.1">
<span class="ltx_p" id="A1.T5.1.9.4.1.1">85.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.9.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.9.5.1">
<span class="ltx_p" id="A1.T5.1.9.5.1.1">86.8</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.10">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.10.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.10.1.1">
<span class="ltx_p" id="A1.T5.1.10.1.1.1">% iOS</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.10.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.10.2.1">
<span class="ltx_p" id="A1.T5.1.10.2.1.1">44.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.10.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.10.3.1">
<span class="ltx_p" id="A1.T5.1.10.3.1.1">44.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.10.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.10.4.1">
<span class="ltx_p" id="A1.T5.1.10.4.1.1">43.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.10.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.10.5.1">
<span class="ltx_p" id="A1.T5.1.10.5.1.1">43.2</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.11">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.11.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.11.1.1">
<span class="ltx_p" id="A1.T5.1.11.1.1.1">% Android</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.11.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.11.2.1">
<span class="ltx_p" id="A1.T5.1.11.2.1.1">55.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.11.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.11.3.1">
<span class="ltx_p" id="A1.T5.1.11.3.1.1">55.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.11.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.11.4.1">
<span class="ltx_p" id="A1.T5.1.11.4.1.1">56.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.11.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.11.5.1">
<span class="ltx_p" id="A1.T5.1.11.5.1.1">56.8</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.12">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.12.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.12.1.1">
<span class="ltx_p" id="A1.T5.1.12.1.1.1">% Apple Watch</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.12.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.12.2.1">
<span class="ltx_p" id="A1.T5.1.12.2.1.1">17.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.12.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.12.3.1">
<span class="ltx_p" id="A1.T5.1.12.3.1.1">16.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.12.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.12.4.1">
<span class="ltx_p" id="A1.T5.1.12.4.1.1">16.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.12.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.12.5.1">
<span class="ltx_p" id="A1.T5.1.12.5.1.1">16.5</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.13">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.13.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.13.1.1">
<span class="ltx_p" id="A1.T5.1.13.1.1.1">% Fitbit</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.13.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.13.2.1">
<span class="ltx_p" id="A1.T5.1.13.2.1.1">6.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.13.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.13.3.1">
<span class="ltx_p" id="A1.T5.1.13.3.1.1">6.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.13.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.13.4.1">
<span class="ltx_p" id="A1.T5.1.13.4.1.1">9.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.13.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.13.5.1">
<span class="ltx_p" id="A1.T5.1.13.5.1.1">9.9</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.14">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.14.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.14.1.1">
<span class="ltx_p" id="A1.T5.1.14.1.1.1">% Garmin</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.14.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.14.2.1">
<span class="ltx_p" id="A1.T5.1.14.2.1.1">8.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.14.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.14.3.1">
<span class="ltx_p" id="A1.T5.1.14.3.1.1">7.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.14.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.14.4.1">
<span class="ltx_p" id="A1.T5.1.14.4.1.1">6.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.14.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.14.5.1">
<span class="ltx_p" id="A1.T5.1.14.5.1.1">6.1</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.15">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.15.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.15.1.1">
<span class="ltx_p" id="A1.T5.1.15.1.1.1">% Samsung Watch</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.15.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.15.2.1">
<span class="ltx_p" id="A1.T5.1.15.2.1.1">7.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.15.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.15.3.1">
<span class="ltx_p" id="A1.T5.1.15.3.1.1">6.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.15.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.15.4.1">
<span class="ltx_p" id="A1.T5.1.15.4.1.1">9.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.15.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.15.5.1">
<span class="ltx_p" id="A1.T5.1.15.5.1.1">9.3</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.16">
<td class="ltx_td ltx_align_justify ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.16.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.16.1.1">
<span class="ltx_p" id="A1.T5.1.16.1.1.1">% HPB Tracker</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.16.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.16.2.1">
<span class="ltx_p" id="A1.T5.1.16.2.1.1">61.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.16.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.16.3.1">
<span class="ltx_p" id="A1.T5.1.16.3.1.1">63.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.16.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.16.4.1">
<span class="ltx_p" id="A1.T5.1.16.4.1.1">56.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_r ltx_border_t" id="A1.T5.1.16.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.16.5.1">
<span class="ltx_p" id="A1.T5.1.16.5.1.1">56.7</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T5.1.17">
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="A1.T5.1.17.1">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.17.1.1">
<span class="ltx_p" id="A1.T5.1.17.1.1.1">% Other Fitness Trackers</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" id="A1.T5.1.17.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.17.2.1">
<span class="ltx_p" id="A1.T5.1.17.2.1.1">0.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" id="A1.T5.1.17.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.17.3.1">
<span class="ltx_p" id="A1.T5.1.17.3.1.1">0.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" id="A1.T5.1.17.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.17.4.1">
<span class="ltx_p" id="A1.T5.1.17.4.1.1">1.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_border_b ltx_border_r ltx_border_t" id="A1.T5.1.17.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T5.1.17.5.1">
<span class="ltx_p" id="A1.T5.1.17.5.1.1">1.5</span>
</span>
</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5. </span>Participants in control and treatment groups, and their characteristics.</figcaption>
</figure>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">An A/B test was conducted to evaluate the impact of nudging over 12 weeks versus no nudging on subsequent steps and MVPA behavior. A total of 169,667 users were randomly selected from the existing pool of NSC participants, which comprised 14,901 participants who were only enrolled in NSC (Group 1), and 154,766 who were enrolled in both NSC and EDSH (Group 2). Because the underlying characteristics of these groups were different, they were analyzed as two separate groups to ensure fair comparison of results. Each group of participants were further split into two cohorts who of roughly equal size, and equally matched on key characteristics including demographics, baseline behaviors (before the start of nudging), mobile OS, and brand of fitness trackers. These cohorts were named ”Nudges” and ”No Nudges”. Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.T5" title="Table 5 ‣ A.2. Study Design ‣ Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">5</span></a> summarizes the number of participants and their characteristics in each group and cohort.</p>
</div>
<div class="ltx_para" id="A1.SS2.p2">
<p class="ltx_p" id="A1.SS2.p2.1">HPB subject matter experts authored a total of 96 nudges in the Nudge Library, comprising 31 nudges targeting steps as the behavior goal, and 65 targeting MVPA. During the 12-week study period, NudgeRank™ generated 1 nudge per day for participants in the ”Nudges” groups only, which were delivered via push notifications to Healthy 365 mobile app. Participants in the ”No Nudges” groups did not receive any nudges.</p>
</div>
<div class="ltx_para" id="A1.SS2.p3">
<p class="ltx_p" id="A1.SS2.p3.1">All participants continued to be exposed to the usual communications and mass marketing efforts conducted by the respective programs. Besides the experimental variable of nudges versus no nudges, there were no other differences in how they were treated.</p>
</div>
<div class="ltx_para" id="A1.SS2.p4">
<p class="ltx_p" id="A1.SS2.p4.1">The daily steps and MVPA behavior of participants were collected during the 12 week study via Healthy 365, to evaluate the impact of nudging on those behaviors. One-tailed independent samples <math alttext="t" class="ltx_Math" display="inline" id="A1.SS2.p4.1.m1.1"><semantics id="A1.SS2.p4.1.m1.1a"><mi id="A1.SS2.p4.1.m1.1.1" xref="A1.SS2.p4.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.p4.1.m1.1b"><ci id="A1.SS2.p4.1.m1.1.1.cmml" xref="A1.SS2.p4.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p4.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p4.1.m1.1d">italic_t</annotation></semantics></math>-tests were performed to evaluate the differences between the ”Nudges” and ”No Nudges” groups.</p>
</div>
<div class="ltx_para" id="A1.SS2.p5">
<p class="ltx_p" id="A1.SS2.p5.1">HPB approved the study design, and all participants had previously given consent for their fitness data to be collected, for their data to be used to send marketing collateral and personalized messages, nudges or notifications, and for evaluation of results.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3. </span>Results</h3>
<div class="ltx_para" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">During the 12-week period, a total of 1.12 million nudges were sent, achieving an open rate of 13.1% (147k nudges), which was significantly higher than existing baseline open rates of about 4%. Out of the nudges opened, 6 times more nudges were rated useful (11.7%) versus not useful (1.9%), suggesting that the nudges were very well received by participants.</p>
</div>
<div class="ltx_para" id="A1.SS3.p2">
<p class="ltx_p" id="A1.SS3.p2.3">The behavior data collected revealed a significant impact of digital nudging in increasing physical activity. Group 1 ”Nudges” participants performed 6.17% more daily steps (3,088 vs. 2,909 steps; <math alttext="p=3.09\times 10^{-4}" class="ltx_Math" display="inline" id="A1.SS3.p2.1.m1.1"><semantics id="A1.SS3.p2.1.m1.1a"><mrow id="A1.SS3.p2.1.m1.1.1" xref="A1.SS3.p2.1.m1.1.1.cmml"><mi id="A1.SS3.p2.1.m1.1.1.2" xref="A1.SS3.p2.1.m1.1.1.2.cmml">p</mi><mo id="A1.SS3.p2.1.m1.1.1.1" xref="A1.SS3.p2.1.m1.1.1.1.cmml">=</mo><mrow id="A1.SS3.p2.1.m1.1.1.3" xref="A1.SS3.p2.1.m1.1.1.3.cmml"><mn id="A1.SS3.p2.1.m1.1.1.3.2" xref="A1.SS3.p2.1.m1.1.1.3.2.cmml">3.09</mn><mo id="A1.SS3.p2.1.m1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="A1.SS3.p2.1.m1.1.1.3.1.cmml">×</mo><msup id="A1.SS3.p2.1.m1.1.1.3.3" xref="A1.SS3.p2.1.m1.1.1.3.3.cmml"><mn id="A1.SS3.p2.1.m1.1.1.3.3.2" xref="A1.SS3.p2.1.m1.1.1.3.3.2.cmml">10</mn><mrow id="A1.SS3.p2.1.m1.1.1.3.3.3" xref="A1.SS3.p2.1.m1.1.1.3.3.3.cmml"><mo id="A1.SS3.p2.1.m1.1.1.3.3.3a" xref="A1.SS3.p2.1.m1.1.1.3.3.3.cmml">−</mo><mn id="A1.SS3.p2.1.m1.1.1.3.3.3.2" xref="A1.SS3.p2.1.m1.1.1.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.1.m1.1b"><apply id="A1.SS3.p2.1.m1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1"><eq id="A1.SS3.p2.1.m1.1.1.1.cmml" xref="A1.SS3.p2.1.m1.1.1.1"></eq><ci id="A1.SS3.p2.1.m1.1.1.2.cmml" xref="A1.SS3.p2.1.m1.1.1.2">𝑝</ci><apply id="A1.SS3.p2.1.m1.1.1.3.cmml" xref="A1.SS3.p2.1.m1.1.1.3"><times id="A1.SS3.p2.1.m1.1.1.3.1.cmml" xref="A1.SS3.p2.1.m1.1.1.3.1"></times><cn id="A1.SS3.p2.1.m1.1.1.3.2.cmml" type="float" xref="A1.SS3.p2.1.m1.1.1.3.2">3.09</cn><apply id="A1.SS3.p2.1.m1.1.1.3.3.cmml" xref="A1.SS3.p2.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS3.p2.1.m1.1.1.3.3.1.cmml" xref="A1.SS3.p2.1.m1.1.1.3.3">superscript</csymbol><cn id="A1.SS3.p2.1.m1.1.1.3.3.2.cmml" type="integer" xref="A1.SS3.p2.1.m1.1.1.3.3.2">10</cn><apply id="A1.SS3.p2.1.m1.1.1.3.3.3.cmml" xref="A1.SS3.p2.1.m1.1.1.3.3.3"><minus id="A1.SS3.p2.1.m1.1.1.3.3.3.1.cmml" xref="A1.SS3.p2.1.m1.1.1.3.3.3"></minus><cn id="A1.SS3.p2.1.m1.1.1.3.3.3.2.cmml" type="integer" xref="A1.SS3.p2.1.m1.1.1.3.3.3.2">4</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.1.m1.1c">p=3.09\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p2.1.m1.1d">italic_p = 3.09 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math> and 7.61% more weekly minutes of MVPA (50.6 vs. 47.0 minutes; <math alttext="p=1.16\times 10^{-2})" class="ltx_math_unparsed" display="inline" id="A1.SS3.p2.2.m2.1"><semantics id="A1.SS3.p2.2.m2.1a"><mrow id="A1.SS3.p2.2.m2.1b"><mi id="A1.SS3.p2.2.m2.1.1">p</mi><mo id="A1.SS3.p2.2.m2.1.2">=</mo><mn id="A1.SS3.p2.2.m2.1.3">1.16</mn><mo id="A1.SS3.p2.2.m2.1.4" lspace="0.222em" rspace="0.222em">×</mo><msup id="A1.SS3.p2.2.m2.1.5"><mn id="A1.SS3.p2.2.m2.1.5.2">10</mn><mrow id="A1.SS3.p2.2.m2.1.5.3"><mo id="A1.SS3.p2.2.m2.1.5.3a">−</mo><mn id="A1.SS3.p2.2.m2.1.5.3.2">2</mn></mrow></msup><mo id="A1.SS3.p2.2.m2.1.6" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="A1.SS3.p2.2.m2.1c">p=1.16\times 10^{-2})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p2.2.m2.1d">italic_p = 1.16 × 10 start_POSTSUPERSCRIPT - 2 end_POSTSUPERSCRIPT )</annotation></semantics></math> than Group 1 ”No Nudges” participants. The results were statistically significant at <math alttext="\alpha=0.05" class="ltx_Math" display="inline" id="A1.SS3.p2.3.m3.1"><semantics id="A1.SS3.p2.3.m3.1a"><mrow id="A1.SS3.p2.3.m3.1.1" xref="A1.SS3.p2.3.m3.1.1.cmml"><mi id="A1.SS3.p2.3.m3.1.1.2" xref="A1.SS3.p2.3.m3.1.1.2.cmml">α</mi><mo id="A1.SS3.p2.3.m3.1.1.1" xref="A1.SS3.p2.3.m3.1.1.1.cmml">=</mo><mn id="A1.SS3.p2.3.m3.1.1.3" xref="A1.SS3.p2.3.m3.1.1.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p2.3.m3.1b"><apply id="A1.SS3.p2.3.m3.1.1.cmml" xref="A1.SS3.p2.3.m3.1.1"><eq id="A1.SS3.p2.3.m3.1.1.1.cmml" xref="A1.SS3.p2.3.m3.1.1.1"></eq><ci id="A1.SS3.p2.3.m3.1.1.2.cmml" xref="A1.SS3.p2.3.m3.1.1.2">𝛼</ci><cn id="A1.SS3.p2.3.m3.1.1.3.cmml" type="float" xref="A1.SS3.p2.3.m3.1.1.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p2.3.m3.1c">\alpha=0.05</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p2.3.m3.1d">italic_α = 0.05</annotation></semantics></math>, indicating that the nudges were effective in increasing both steps and MVPA behavior.</p>
</div>
<div class="ltx_para" id="A1.SS3.p3">
<p class="ltx_p" id="A1.SS3.p3.3">The effects on Group 2 participants, though smaller, were still statistically significant at <math alttext="\alpha=0.05" class="ltx_Math" display="inline" id="A1.SS3.p3.1.m1.1"><semantics id="A1.SS3.p3.1.m1.1a"><mrow id="A1.SS3.p3.1.m1.1.1" xref="A1.SS3.p3.1.m1.1.1.cmml"><mi id="A1.SS3.p3.1.m1.1.1.2" xref="A1.SS3.p3.1.m1.1.1.2.cmml">α</mi><mo id="A1.SS3.p3.1.m1.1.1.1" xref="A1.SS3.p3.1.m1.1.1.1.cmml">=</mo><mn id="A1.SS3.p3.1.m1.1.1.3" xref="A1.SS3.p3.1.m1.1.1.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p3.1.m1.1b"><apply id="A1.SS3.p3.1.m1.1.1.cmml" xref="A1.SS3.p3.1.m1.1.1"><eq id="A1.SS3.p3.1.m1.1.1.1.cmml" xref="A1.SS3.p3.1.m1.1.1.1"></eq><ci id="A1.SS3.p3.1.m1.1.1.2.cmml" xref="A1.SS3.p3.1.m1.1.1.2">𝛼</ci><cn id="A1.SS3.p3.1.m1.1.1.3.cmml" type="float" xref="A1.SS3.p3.1.m1.1.1.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p3.1.m1.1c">\alpha=0.05</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p3.1.m1.1d">italic_α = 0.05</annotation></semantics></math>. Group 2 ”Nudges” participants performed 1.89% more daily steps (3,900 vs. 3,827 steps; <math alttext="p=2.85\times 10^{-4}" class="ltx_Math" display="inline" id="A1.SS3.p3.2.m2.1"><semantics id="A1.SS3.p3.2.m2.1a"><mrow id="A1.SS3.p3.2.m2.1.1" xref="A1.SS3.p3.2.m2.1.1.cmml"><mi id="A1.SS3.p3.2.m2.1.1.2" xref="A1.SS3.p3.2.m2.1.1.2.cmml">p</mi><mo id="A1.SS3.p3.2.m2.1.1.1" xref="A1.SS3.p3.2.m2.1.1.1.cmml">=</mo><mrow id="A1.SS3.p3.2.m2.1.1.3" xref="A1.SS3.p3.2.m2.1.1.3.cmml"><mn id="A1.SS3.p3.2.m2.1.1.3.2" xref="A1.SS3.p3.2.m2.1.1.3.2.cmml">2.85</mn><mo id="A1.SS3.p3.2.m2.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="A1.SS3.p3.2.m2.1.1.3.1.cmml">×</mo><msup id="A1.SS3.p3.2.m2.1.1.3.3" xref="A1.SS3.p3.2.m2.1.1.3.3.cmml"><mn id="A1.SS3.p3.2.m2.1.1.3.3.2" xref="A1.SS3.p3.2.m2.1.1.3.3.2.cmml">10</mn><mrow id="A1.SS3.p3.2.m2.1.1.3.3.3" xref="A1.SS3.p3.2.m2.1.1.3.3.3.cmml"><mo id="A1.SS3.p3.2.m2.1.1.3.3.3a" xref="A1.SS3.p3.2.m2.1.1.3.3.3.cmml">−</mo><mn id="A1.SS3.p3.2.m2.1.1.3.3.3.2" xref="A1.SS3.p3.2.m2.1.1.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p3.2.m2.1b"><apply id="A1.SS3.p3.2.m2.1.1.cmml" xref="A1.SS3.p3.2.m2.1.1"><eq id="A1.SS3.p3.2.m2.1.1.1.cmml" xref="A1.SS3.p3.2.m2.1.1.1"></eq><ci id="A1.SS3.p3.2.m2.1.1.2.cmml" xref="A1.SS3.p3.2.m2.1.1.2">𝑝</ci><apply id="A1.SS3.p3.2.m2.1.1.3.cmml" xref="A1.SS3.p3.2.m2.1.1.3"><times id="A1.SS3.p3.2.m2.1.1.3.1.cmml" xref="A1.SS3.p3.2.m2.1.1.3.1"></times><cn id="A1.SS3.p3.2.m2.1.1.3.2.cmml" type="float" xref="A1.SS3.p3.2.m2.1.1.3.2">2.85</cn><apply id="A1.SS3.p3.2.m2.1.1.3.3.cmml" xref="A1.SS3.p3.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="A1.SS3.p3.2.m2.1.1.3.3.1.cmml" xref="A1.SS3.p3.2.m2.1.1.3.3">superscript</csymbol><cn id="A1.SS3.p3.2.m2.1.1.3.3.2.cmml" type="integer" xref="A1.SS3.p3.2.m2.1.1.3.3.2">10</cn><apply id="A1.SS3.p3.2.m2.1.1.3.3.3.cmml" xref="A1.SS3.p3.2.m2.1.1.3.3.3"><minus id="A1.SS3.p3.2.m2.1.1.3.3.3.1.cmml" xref="A1.SS3.p3.2.m2.1.1.3.3.3"></minus><cn id="A1.SS3.p3.2.m2.1.1.3.3.3.2.cmml" type="integer" xref="A1.SS3.p3.2.m2.1.1.3.3.3.2">4</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p3.2.m2.1c">p=2.85\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p3.2.m2.1d">italic_p = 2.85 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>) and 2.46% more weekly minutes of MVPA (88.4 vs. 86.2 minutes; <math alttext="p=2.02\times 10^{-2})" class="ltx_math_unparsed" display="inline" id="A1.SS3.p3.3.m3.1"><semantics id="A1.SS3.p3.3.m3.1a"><mrow id="A1.SS3.p3.3.m3.1b"><mi id="A1.SS3.p3.3.m3.1.1">p</mi><mo id="A1.SS3.p3.3.m3.1.2">=</mo><mn id="A1.SS3.p3.3.m3.1.3">2.02</mn><mo id="A1.SS3.p3.3.m3.1.4" lspace="0.222em" rspace="0.222em">×</mo><msup id="A1.SS3.p3.3.m3.1.5"><mn id="A1.SS3.p3.3.m3.1.5.2">10</mn><mrow id="A1.SS3.p3.3.m3.1.5.3"><mo id="A1.SS3.p3.3.m3.1.5.3a">−</mo><mn id="A1.SS3.p3.3.m3.1.5.3.2">2</mn></mrow></msup><mo id="A1.SS3.p3.3.m3.1.6" stretchy="false">)</mo></mrow><annotation encoding="application/x-tex" id="A1.SS3.p3.3.m3.1c">p=2.02\times 10^{-2})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p3.3.m3.1d">italic_p = 2.02 × 10 start_POSTSUPERSCRIPT - 2 end_POSTSUPERSCRIPT )</annotation></semantics></math> than Group 2 ”No Nudges” participants. We noted that Group 2 participants were already naturally more physically active than Group 1 participants (refer to their mean daily steps and MVPA at start of experiment, in Table <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.T5" title="Table 5 ‣ A.2. Study Design ‣ Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">5</span></a>), so perhaps the opportunity to drive behavior change of a similar magnitude was smaller.</p>
</div>
<figure class="ltx_figure" id="A1.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" height="578" id="A1.F6.g1" src="extracted/5734210/Figure-dose-response.png" width="598"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>Dose response relationship between number of nudges opened and physical activity (steps and MVPA).</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="A1.F6.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F6.2">Bar charts showing that the more nudges opened, the more steps and MVPA performed by participants in the A/B test.</p>
</div>
</div>
</figure>
<div class="ltx_para" id="A1.SS3.p4">
<p class="ltx_p" id="A1.SS3.p4.1">The results also revealed a dose response relationship between the number of nudges opened by ”Nudges” participants during the 12 weeks and physical activity (Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.20241v1#A1.F6" title="Figure 6 ‣ A.3. Results ‣ Appendix A Appendix: Population Health and Nudge Efficacy Results ‣ NudgeRank: Digital Algorithmic Nudging for Personalized Health"><span class="ltx_text ltx_ref_tag">6</span></a>). Participants who opened more nudges tended to walk more steps during the 12 weeks. For MVPA, this relationship was more apparent in Group 1 than in Group 2.</p>
</div>
<div class="ltx_para" id="A1.SS3.p5">
<p class="ltx_p" id="A1.SS3.p5.1">Overall, the results of this study provided strong evidence that algorithmic digital nudging can effect behavior change (physical activity in this case) across a large and diverse population. Nudging can be further extended to other types of health behaviors like nutrition, sleep and smoking cessation, with the potential to drive tremendous benefits in population health outcomes.</p>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue Jul 16 07:41:10 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
