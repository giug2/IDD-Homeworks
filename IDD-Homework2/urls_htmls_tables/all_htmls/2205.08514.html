<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2205.08514] Recovering Private Text in Federated Learning of Language Models</title><meta property="og:description" content="Federated learning allows distributed users to collaboratively train a model while keeping each user’s data private. Recently, a growing body of work has demonstrated that an eavesdropping attacker can effectively reco…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Recovering Private Text in Federated Learning of Language Models">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Recovering Private Text in Federated Learning of Language Models">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2205.08514">

<!--Generated on Mon Mar 11 16:12:54 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<span id="p1.1" class="ltx_ERROR undefined">\newfloatcommand</span>
<p id="p1.2" class="ltx_p">capbtabboxtable[][<span id="p1.2.1" class="ltx_ERROR undefined">\FBwidth</span>]
 














































 




<span id="p1.2.2" class="ltx_text" lang="en"></span></p>
</div>
<h1 class="ltx_title ltx_title_document">Recovering Private Text in Federated Learning of 
<br class="ltx_break">Language Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Samyak Gupta 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id2.2.id1" class="ltx_text ltx_font_typewriter">samyakg@cs.princeton.edu</span> 
<br class="ltx_break">&amp;Yangsibo Huang<sup id="id3.3.id2" class="ltx_sup">∗</sup> 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id4.4.id3" class="ltx_text ltx_font_typewriter">yangsibo@princeton.edu</span> 
<br class="ltx_break">&amp;Zexuan Zhong 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id5.5.id4" class="ltx_text ltx_font_typewriter">zzhong@cs.princeton.edu</span> 
<br class="ltx_break">&amp;Tianyu Gao 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id6.6.id5" class="ltx_text ltx_font_typewriter">tianyug@cs.princeton.edu</span> 
<br class="ltx_break">&amp;Kai Li 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id7.7.id6" class="ltx_text ltx_font_typewriter">li@cs.princeton.edu</span> 
<br class="ltx_break">&amp;Danqi Chen 
<br class="ltx_break">Princeton University
<br class="ltx_break"><span id="id8.8.id7" class="ltx_text ltx_font_typewriter">danqic@cs.princeton.edu</span> 
<br class="ltx_break">
</span><span class="ltx_author_notes">The first two authors contributed equally.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id9.id1" class="ltx_p"><span id="id9.id1.1" class="ltx_text" lang="en">Federated learning allows distributed users to collaboratively train a model while keeping each user’s data private. Recently, a growing body of work has demonstrated that an eavesdropping attacker can effectively recover image data from gradients transmitted during federated learning. However, little progress has been made in recovering text data. In this paper, we present a novel attack method FILM for federated learning of language models (LMs). For the first time, we show the feasibility of recovering text from <span id="id9.id1.1.1" class="ltx_text ltx_font_italic">large batch sizes</span> of up to 128 sentences. Unlike image-recovery methods that are optimized to match gradients, we take a distinct approach that first identifies a set of words from gradients and then directly reconstructs sentences based on beam search and a prior-based reordering strategy.
We conduct the FILM attack on several large-scale datasets and show that it can successfully reconstruct single sentences with high fidelity for large batch sizes and even multiple sentences if applied iteratively.
We evaluate three defense methods: gradient pruning, DPSGD, and a simple approach to freeze word embeddings that we propose. We show that both gradient pruning and DPSGD lead to a significant drop in utility. However, if we fine-tune a public pre-trained LM on private text without updating word embeddings, it can effectively defend the attack with minimal data utility loss. Together, we hope that our results can encourage the community to rethink the privacy concerns of LM training and its standard practices in the future.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Our code is publicly available at <a target="_blank" href="https://github.com/Princeton-SysML/FILM" title="" class="ltx_ref ltx_href">https://github.com/Princeton-SysML/FILM</a>.</span></span></span></span></p>
</div>
<section id="S1" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para ltx_minipage ltx_align_middle" style="width:182.1pt;">
<p id="S1.p1.1" class="ltx_p">Federated learning <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib37" title="" class="ltx_ref">2017</a>)</cite> is a method to allow multiple participants to collaboratively train a global model without exchanging their private data. At each step of training, a central server transmits model parameters to every participating client. Each client then computes a model update (i.e., gradients) using its local data and sends it to the server. Finally, the server aggregates all updates—typically by averaging them—and updates the model. Federated learning is actively being considered for privacy-sensitive applications such as virtual mobile keyboards and analysis of electronic health records in hospitals <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib30" title="" class="ltx_ref">2020a</a>)</cite>.</p>
</div>
<figure id="S1.F1" class="ltx_figure ltx_minipage ltx_align_middle" style="width:229.8pt;"><img src="/html/2205.08514/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_img_landscape" width="470" height="345" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span id="S1.F1.2.1" class="ltx_text" style="font-size:90%;">FILM allows an <span id="S1.F1.2.1.1" class="ltx_text ltx_font_italic">honest-but-curious</span> eavesdropper on the communication between the client and the server in federated learning to recover private text of the client.</span></figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">However, recent studies <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Geiping et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>); Pustozerova &amp; Mayer (<a href="#bib.bib42" title="" class="ltx_ref">2020</a>); Lyu et al. (<a href="#bib.bib35" title="" class="ltx_ref">2020</a>); Yin et al. (<a href="#bib.bib52" title="" class="ltx_ref">2021</a>); Zhu &amp; Blaschko (<a href="#bib.bib57" title="" class="ltx_ref">2021</a>); Huang et al. (<a href="#bib.bib24" title="" class="ltx_ref">2021</a>); Gupta et al. (<a href="#bib.bib17" title="" class="ltx_ref">2021</a>)</cite> show that an <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">honest-but-curious</span> eavesdropper in federated learning can recover private data of the client (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). However, success in recovering text data remains limited to unrealistically small batch sizes (see Sec. <a href="#S2" title="2 Related work ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> for more details).</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this work, we study federated learning of neural language models (LMs) and present a novel attack called FILM (<span id="S1.p3.1.1" class="ltx_text ltx_font_bold">F</span>ederated <span id="S1.p3.1.2" class="ltx_text ltx_font_bold">I</span>nversion Attack for <span id="S1.p3.1.3" class="ltx_text ltx_font_bold">L</span>anguage <span id="S1.p3.1.4" class="ltx_text ltx_font_bold">M</span>odels), which can recover private text data from information transmitted during training. For the first time, we demonstrate that an attacker can successfully recover sentences from <span id="S1.p3.1.5" class="ltx_text ltx_font_italic">large</span> training batches of up to 128 sentences, making it practical and alarming in real-world scenarios. We focus on language models for two reasons: (1) Transformer-based <cite class="ltx_cite ltx_citemacro_cite">Vaswani et al. (<a href="#bib.bib49" title="" class="ltx_ref">2017</a>)</cite> language models have become the backbone of modern NLP systems <cite class="ltx_cite ltx_citemacro_cite">Devlin et al. (<a href="#bib.bib12" title="" class="ltx_ref">2019</a>); Radford et al. (<a href="#bib.bib43" title="" class="ltx_ref">2018</a>, <a href="#bib.bib44" title="" class="ltx_ref">2019</a>); Brown et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>)</cite> and are quickly adapted to a number of privacy-sensitive domains <cite class="ltx_cite ltx_citemacro_cite">Alsentzer et al. (<a href="#bib.bib2" title="" class="ltx_ref">2019</a>); Huang et al. (<a href="#bib.bib21" title="" class="ltx_ref">2019</a>); Li et al. (<a href="#bib.bib32" title="" class="ltx_ref">2020b</a>); Liu &amp; Miller (<a href="#bib.bib34" title="" class="ltx_ref">2020</a>); Kraljevic et al. (<a href="#bib.bib29" title="" class="ltx_ref">2021</a>)</cite>; (2) We identify that training LMs is at a higher risk of information leakage by nature because the attacker can possibly leverage the memorization capability of LMs during federated learning.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Our FILM attack deviates from previous gradient-matching approaches for image data that directly optimize in high-dimensional, continuous space, which we find to be ineffective for discrete text inputs and highly sensitive to initializations (Sec. <a href="#S6" title="6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>). Instead, we first recover a set of words from the word embeddings’ gradients <cite class="ltx_cite ltx_citemacro_cite">Melis et al. (<a href="#bib.bib38" title="" class="ltx_ref">2019</a>)</cite>, and this step provides a set of words that appear in any sentences of the training batch without the frequency information<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We may still estimate the frequency of words based on the magnitude of gradients <cite class="ltx_cite ltx_citemacro_cite">Wainakh et al. (<a href="#bib.bib51" title="" class="ltx_ref">2021</a>); Fowl et al. (<a href="#bib.bib15" title="" class="ltx_ref">2022</a>)</cite>.
However, later we show that our attack can actually compensate for the lack of frequency information (Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>).</span></span></span>. We then develop a simple and effective strategy using beam search <cite class="ltx_cite ltx_citemacro_cite">Reddy et al. (<a href="#bib.bib45" title="" class="ltx_ref">1977</a>); Russell &amp; Norvig (<a href="#bib.bib46" title="" class="ltx_ref">2010</a>)</cite>, which attempts to reconstruct one sentence from the set of words. This step is crucial as it takes advantage of prior knowledge encoded in pre-trained language models and memorization of training data during federated training. We also further design a token-reordering approach that leverages both language prior and gradient information to refine the recovered sentence. Finally, we show that we can recover multiple sentences from the same training batch by iteratively applying the same procedure.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.2" class="ltx_p">We evaluate FILM on two language modeling datasets: WikiText-103 <cite class="ltx_cite ltx_citemacro_cite">Merity et al. (<a href="#bib.bib39" title="" class="ltx_ref">2017</a>)</cite> and Enron Email <cite class="ltx_cite ltx_citemacro_cite">Klimt &amp; Yang (<a href="#bib.bib28" title="" class="ltx_ref">2004</a>)</cite>, based on a GPT-2 model <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib44" title="" class="ltx_ref">2019</a>)</cite>, using either pre-trained or randomly-initialized weights. We analyze the attack performance with different batch sizes, the number of training data points, and the number of training epochs. Our experiments demonstrate high-fidelity recovery of a single sentence feasible, and recovery of significant portions of sentences for training batches of up to <math id="S1.p5.1.m1.1" class="ltx_Math" alttext="128" display="inline"><semantics id="S1.p5.1.m1.1a"><mn id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">128</mn><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.1b"><cn type="integer" id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">128</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.1c">128</annotation></semantics></math> sentences. Furthermore, we find that recovery of multiple sentences from the same batch (<math id="S1.p5.2.m2.1" class="ltx_Math" alttext="1/3" display="inline"><semantics id="S1.p5.2.m2.1a"><mrow id="S1.p5.2.m2.1.1" xref="S1.p5.2.m2.1.1.cmml"><mn id="S1.p5.2.m2.1.1.2" xref="S1.p5.2.m2.1.1.2.cmml">1</mn><mo id="S1.p5.2.m2.1.1.1" xref="S1.p5.2.m2.1.1.1.cmml">/</mo><mn id="S1.p5.2.m2.1.1.3" xref="S1.p5.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S1.p5.2.m2.1b"><apply id="S1.p5.2.m2.1.1.cmml" xref="S1.p5.2.m2.1.1"><divide id="S1.p5.2.m2.1.1.1.cmml" xref="S1.p5.2.m2.1.1.1"></divide><cn type="integer" id="S1.p5.2.m2.1.1.2.cmml" xref="S1.p5.2.m2.1.1.2">1</cn><cn type="integer" id="S1.p5.2.m2.1.1.3.cmml" xref="S1.p5.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.2.m2.1c">1/3</annotation></semantics></math> for a batch size of 16) is possible through repeated applications of FILM.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">For defense, we first evaluate two previously proposed defense methods, gradient pruning <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> and Differentially Private Stochastic Gradient Descent (DPSGD) <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite> against the proposed attack and find that both of them suffer substantial utility loss. We then propose a simple method to <span id="S1.p6.1.1" class="ltx_text ltx_font_italic">freeze</span> the word embeddings of the model during training to prevent the critical first stage of our attack and find that (1) if we train an LM from the scratch on the private text, it will cause more utility loss; (2) however, if we start from a public LM (e.g., pre-trained GPT-2), it can effectively defend the FILM attack with minimal drop in utility. Together, our work presents a strong attack on federated learning of LM training, and raises privacy concerns in current practices. We hope our new (and simple) proposal of <span id="S1.p6.1.2" class="ltx_text ltx_font_italic">freezing</span> word embeddings from a public LM encourages reconsideration of standard practices for training LMs on privacy-sensitive domains.</p>
</div>
</section>
<section id="S2" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Data recovery from gradients.</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">Gradients in federated learning have been shown to leak information of private data. Prior works reconstruct private training images from gradients by treating the reconstruction as an optimization problem <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Zhao et al. (<a href="#bib.bib56" title="" class="ltx_ref">2020</a>); Geiping et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>); Enthoven &amp; Al-Ars (<a href="#bib.bib14" title="" class="ltx_ref">2021</a>); Yin et al. (<a href="#bib.bib52" title="" class="ltx_ref">2021</a>); Zhu &amp; Blaschko (<a href="#bib.bib57" title="" class="ltx_ref">2021</a>); Jin et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>); Jeon et al. (<a href="#bib.bib25" title="" class="ltx_ref">2021</a>)</cite>. They iteratively manipulate reconstructed images to yield similar gradients as observed gradients computed on the private images, using regularization terms based on image priors such as total variation <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Geiping et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite> and batch normalization statistics <cite class="ltx_cite ltx_citemacro_cite">Yin et al. (<a href="#bib.bib52" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="S2.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p2.1" class="ltx_p">The first attempt to recover text from gradients is <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite>, which briefly presented leakage results in masked language modeling <cite class="ltx_cite ltx_citemacro_cite">Devlin et al. (<a href="#bib.bib12" title="" class="ltx_ref">2019</a>)</cite>. This attack matches target gradients with continuous representations and maps them back to words that are closest in the embedding matrix. <cite class="ltx_cite ltx_citemacro_citet">Deng et al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite> improve the method by adding a regularization term that prioritizes gradient matching in layers closer to the input data. Both approaches only work with a batch size of 1 (Sec. <a href="#S6" title="6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>). Recently, <cite class="ltx_cite ltx_citemacro_citet">Dimitrov et al. (<a href="#bib.bib13" title="" class="ltx_ref">2022</a>)</cite> propose a method to minimize the loss of gradient matching and the probability of prior text computed by an auxiliary language model and show the recovery of a batch of 4 sentences with binary classification tasks with a BERT model.
In addition,  <cite class="ltx_cite ltx_citemacro_citet">Boenisch et al. (<a href="#bib.bib5" title="" class="ltx_ref">2021</a>); Fowl et al. (<a href="#bib.bib15" title="" class="ltx_ref">2022</a>)</cite> recover text data in federated learning under a stronger threat model: the server is malicious and can manipulate the training model’s weights to enable easier text reconstruction.</p>
</div>
<div id="S2.SS0.SSS0.Px1.p3" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p3.1" class="ltx_p">Our work builds on the insight from <cite class="ltx_cite ltx_citemacro_citet">Melis et al. (<a href="#bib.bib38" title="" class="ltx_ref">2019</a>)</cite> that show the information leakage from the embedding layer by observing non-zero entries in the gradients of the word embedding matrix. Different from their attack which only infers a person or location from a shallow GRU model <cite class="ltx_cite ltx_citemacro_cite">Cho et al. (<a href="#bib.bib10" title="" class="ltx_ref">2014</a>)</cite>, we propose a much stronger attack that aims at recovering full sentences from larger language models. We include a high-level comparison of key differences between our approach and prior approaches in Table <a href="#A2.T6" title="Table 6 ‣ B.2 Comparison with Previous Attacks ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> in the appendix.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Memorization in language models.</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Our method is also inspired by the work related to memorization of training data in language models. Recent studies <cite class="ltx_cite ltx_citemacro_cite">Carlini et al. (<a href="#bib.bib8" title="" class="ltx_ref">2019</a>); Thakkar et al. (<a href="#bib.bib48" title="" class="ltx_ref">2021</a>); Song &amp; Raghunathan (<a href="#bib.bib47" title="" class="ltx_ref">2020</a>); Zanella-Béguelin et al. (<a href="#bib.bib54" title="" class="ltx_ref">2020</a>); Carlini et al. (<a href="#bib.bib9" title="" class="ltx_ref">2021</a>); Bender et al. (<a href="#bib.bib4" title="" class="ltx_ref">2021</a>)</cite> notice that large language models can memorize their training dataset and thus can be prompted to output specific sensitive information.
While these previously demonstrated memorization attacks try to recover <span id="S2.SS0.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_italic">a small subset of</span> sensitive text from a large training corpora, our attack aims at recovering sentences from <span id="S2.SS0.SSS0.Px2.p1.1.2" class="ltx_text ltx_font_italic">every</span> mini-batch in federated learning. We stress that our attack is significantly more powerful than the previous works studying memorization.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Defenses against gradient inversion attacks for text data.</h4>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">Cryptographic approaches such as encrypting gradients <cite class="ltx_cite ltx_citemacro_cite">Bonawitz et al. (<a href="#bib.bib6" title="" class="ltx_ref">2016</a>)</cite> or encrypting the data and model <cite class="ltx_cite ltx_citemacro_cite">Phong et al. (<a href="#bib.bib41" title="" class="ltx_ref">2018</a>)</cite> can guarantee secure training in a federated learning setting against gradient inversion attacks.
However, practical deployment of these approaches often slows down model training and requires special setup. A few efficient methods are proposed to defend gradient inversion attacks are for text data.
<cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> mention briefly adding differentially private noise to the gradients <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite>, or setting gradients of small magnitudes to zero (i.e., gradient pruning), but these defenses typically hurt the accuracy
of the trained models <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib31" title="" class="ltx_ref">2021</a>); Yu et al. (<a href="#bib.bib53" title="" class="ltx_ref">2021</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citet">Huang et al. (<a href="#bib.bib23" title="" class="ltx_ref">2020b</a>)</cite> propose InstaHide that
encodes each input training image to the neural network using a random pixel-wise mask and the MixUp data augmentation  <cite class="ltx_cite ltx_citemacro_cite">Zhang et al. (<a href="#bib.bib55" title="" class="ltx_ref">2018</a>)</cite>. The idea is later extended to language understanding tasks <cite class="ltx_cite ltx_citemacro_cite">Huang et al. (<a href="#bib.bib22" title="" class="ltx_ref">2020a</a>)</cite>: instead of ‘hiding’ the input word embeddings, they perform MixUp on <span id="S2.SS0.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_typewriter">[CLS]</span> tokens of BERT models.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Preliminaries</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we describe relevant background of language models, federated learning, as well as the threat model of our proposed attack method.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Language Modeling</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.3" class="ltx_p">Language modeling is a core task in natural language processing and has been used as a building block of state-of-the-art pipelines <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib43" title="" class="ltx_ref">2018</a>); Brown et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>)</cite>.
Given a sequence of <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">n</annotation></semantics></math> tokens <math id="S3.SS1.p1.2.m2.4" class="ltx_Math" alttext="\mathbf{x}=\{x_{1},x_{2},...,x_{n}\}" display="inline"><semantics id="S3.SS1.p1.2.m2.4a"><mrow id="S3.SS1.p1.2.m2.4.4" xref="S3.SS1.p1.2.m2.4.4.cmml"><mi id="S3.SS1.p1.2.m2.4.4.5" xref="S3.SS1.p1.2.m2.4.4.5.cmml">𝐱</mi><mo id="S3.SS1.p1.2.m2.4.4.4" xref="S3.SS1.p1.2.m2.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.4.4.3.3" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.4.4.3.3.4" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.2.m2.2.2.1.1.1" xref="S3.SS1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.2.m2.2.2.1.1.1.2" xref="S3.SS1.p1.2.m2.2.2.1.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.2.m2.2.2.1.1.1.3" xref="S3.SS1.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.4.4.3.3.5" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.3.3.2.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.2.m2.3.3.2.2.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.2.2.cmml">x</mi><mn id="S3.SS1.p1.2.m2.3.3.2.2.2.3" xref="S3.SS1.p1.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.2.m2.4.4.3.3.6" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p1.2.m2.4.4.3.3.7" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.4.4.3.3.3" xref="S3.SS1.p1.2.m2.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.2.m2.4.4.3.3.3.2" xref="S3.SS1.p1.2.m2.4.4.3.3.3.2.cmml">x</mi><mi id="S3.SS1.p1.2.m2.4.4.3.3.3.3" xref="S3.SS1.p1.2.m2.4.4.3.3.3.3.cmml">n</mi></msub><mo stretchy="false" id="S3.SS1.p1.2.m2.4.4.3.3.8" xref="S3.SS1.p1.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.4b"><apply id="S3.SS1.p1.2.m2.4.4.cmml" xref="S3.SS1.p1.2.m2.4.4"><eq id="S3.SS1.p1.2.m2.4.4.4.cmml" xref="S3.SS1.p1.2.m2.4.4.4"></eq><ci id="S3.SS1.p1.2.m2.4.4.5.cmml" xref="S3.SS1.p1.2.m2.4.4.5">𝐱</ci><set id="S3.SS1.p1.2.m2.4.4.3.4.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3"><apply id="S3.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.1.2">𝑥</ci><cn type="integer" id="S3.SS1.p1.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2.2">𝑥</ci><cn type="integer" id="S3.SS1.p1.2.m2.3.3.2.2.2.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">…</ci><apply id="S3.SS1.p1.2.m2.4.4.3.3.3.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.3.2">𝑥</ci><ci id="S3.SS1.p1.2.m2.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.2.m2.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.4c">\mathbf{x}=\{x_{1},x_{2},...,x_{n}\}</annotation></semantics></math>,
the language modeling task is to estimate the probability distribution of <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="\text{I\kern-1.49994ptP}(\mathbf{x})" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mrow id="S3.SS1.p1.3.m3.1.2" xref="S3.SS1.p1.3.m3.1.2.cmml"><mtext id="S3.SS1.p1.3.m3.1.2.2" xref="S3.SS1.p1.3.m3.1.2.2a.cmml">IP</mtext><mo lspace="0em" rspace="0em" id="S3.SS1.p1.3.m3.1.2.1" xref="S3.SS1.p1.3.m3.1.2.1.cmml">​</mo><mrow id="S3.SS1.p1.3.m3.1.2.3.2" xref="S3.SS1.p1.3.m3.1.2.cmml"><mo stretchy="false" id="S3.SS1.p1.3.m3.1.2.3.2.1" xref="S3.SS1.p1.3.m3.1.2.cmml">(</mo><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">𝐱</mi><mo stretchy="false" id="S3.SS1.p1.3.m3.1.2.3.2.2" xref="S3.SS1.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.2.cmml" xref="S3.SS1.p1.3.m3.1.2"><times id="S3.SS1.p1.3.m3.1.2.1.cmml" xref="S3.SS1.p1.3.m3.1.2.1"></times><ci id="S3.SS1.p1.3.m3.1.2.2a.cmml" xref="S3.SS1.p1.3.m3.1.2.2"><mtext id="S3.SS1.p1.3.m3.1.2.2.cmml" xref="S3.SS1.p1.3.m3.1.2.2">IP</mtext></ci><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\text{I\kern-1.49994ptP}(\mathbf{x})</annotation></semantics></math>:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.3" class="ltx_Math" alttext="\small\log\text{I\kern-1.34995ptP}_{\theta}(\mathbf{x})=\sum_{i=1}^{n}\log\text{I\kern-1.34995ptP}_{\theta}(x_{i}|x_{1},...,x_{i-1})." display="block"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1.3" xref="S3.E1.m1.3.3.1.1.3.cmml"><mrow id="S3.E1.m1.3.3.1.1.3.2" xref="S3.E1.m1.3.3.1.1.3.2.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.3.2.1" xref="S3.E1.m1.3.3.1.1.3.2.1.cmml">log</mi><mo lspace="0.167em" id="S3.E1.m1.3.3.1.1.3.2a" xref="S3.E1.m1.3.3.1.1.3.2.cmml">⁡</mo><msub id="S3.E1.m1.3.3.1.1.3.2.2" xref="S3.E1.m1.3.3.1.1.3.2.2.cmml"><mtext mathsize="90%" id="S3.E1.m1.3.3.1.1.3.2.2.2" xref="S3.E1.m1.3.3.1.1.3.2.2.2a.cmml">IP</mtext><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.3.2.2.3" xref="S3.E1.m1.3.3.1.1.3.2.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.3.3.1.1.3.1" xref="S3.E1.m1.3.3.1.1.3.1.cmml">​</mo><mrow id="S3.E1.m1.3.3.1.1.3.3.2" xref="S3.E1.m1.3.3.1.1.3.cmml"><mo maxsize="90%" minsize="90%" id="S3.E1.m1.3.3.1.1.3.3.2.1" xref="S3.E1.m1.3.3.1.1.3.cmml">(</mo><mi mathsize="90%" id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">𝐱</mi><mo maxsize="90%" minsize="90%" id="S3.E1.m1.3.3.1.1.3.3.2.2" xref="S3.E1.m1.3.3.1.1.3.cmml">)</mo></mrow></mrow><mo mathsize="90%" rspace="0.111em" id="S3.E1.m1.3.3.1.1.2" xref="S3.E1.m1.3.3.1.1.2.cmml">=</mo><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.1.cmml"><munderover id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" stretchy="true" id="S3.E1.m1.3.3.1.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.3.3.1.1.1.2.2.3" xref="S3.E1.m1.3.3.1.1.1.2.2.3.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.2.2.3.2" xref="S3.E1.m1.3.3.1.1.1.2.2.3.2.cmml">i</mi><mo mathsize="90%" id="S3.E1.m1.3.3.1.1.1.2.2.3.1" xref="S3.E1.m1.3.3.1.1.1.2.2.3.1.cmml">=</mo><mn mathsize="90%" id="S3.E1.m1.3.3.1.1.1.2.2.3.3" xref="S3.E1.m1.3.3.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.2.3" xref="S3.E1.m1.3.3.1.1.1.2.3.cmml">n</mi></munderover><mrow id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.3.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.3.1" xref="S3.E1.m1.3.3.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S3.E1.m1.3.3.1.1.1.1.3a" xref="S3.E1.m1.3.3.1.1.1.1.3.cmml">⁡</mo><msub id="S3.E1.m1.3.3.1.1.1.1.3.2" xref="S3.E1.m1.3.3.1.1.1.1.3.2.cmml"><mtext mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.3.2.2" xref="S3.E1.m1.3.3.1.1.1.1.3.2.2a.cmml">IP</mtext><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.3.2.3" xref="S3.E1.m1.3.3.1.1.1.1.3.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.3.3.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.cmml"><mo maxsize="90%" minsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.2.cmml">x</mi><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi mathsize="90%" mathvariant="normal" id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">…</mi><mo mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.4" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mrow id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.2.cmml">i</mi><mo mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo maxsize="90%" minsize="90%" id="S3.E1.m1.3.3.1.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" mathsize="90%" id="S3.E1.m1.3.3.1.2" xref="S3.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1"><eq id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.2"></eq><apply id="S3.E1.m1.3.3.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3"><times id="S3.E1.m1.3.3.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1"></times><apply id="S3.E1.m1.3.3.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2"><log id="S3.E1.m1.3.3.1.1.3.2.1.cmml" xref="S3.E1.m1.3.3.1.1.3.2.1"></log><apply id="S3.E1.m1.3.3.1.1.3.2.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.3.2.2.2a.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2.2"><mtext mathsize="90%" id="S3.E1.m1.3.3.1.1.3.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2.2">IP</mtext></ci><ci id="S3.E1.m1.3.3.1.1.3.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2.3">𝜃</ci></apply></apply><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝐱</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1"><apply id="S3.E1.m1.3.3.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.3.3.1.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.3.3.1.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2.2.2"></sum><apply id="S3.E1.m1.3.3.1.1.1.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.2.2.3"><eq id="S3.E1.m1.3.3.1.1.1.2.2.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.3.3.1.1.1.2.2.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E1.m1.3.3.1.1.1.2.2.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.3.3.1.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1"><times id="S3.E1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2"></times><apply id="S3.E1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3"><log id="S3.E1.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.1"></log><apply id="S3.E1.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.3.2.2a.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.2.2"><mtext mathsize="90%" id="S3.E1.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.2.2">IP</mtext></ci><ci id="S3.E1.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3.2.3">𝜃</ci></apply></apply><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.2">𝑥</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2"><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">…</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2">𝑥</ci><apply id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3"><minus id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\small\log\text{I\kern-1.34995ptP}_{\theta}(\mathbf{x})=\sum_{i=1}^{n}\log\text{I\kern-1.34995ptP}_{\theta}(x_{i}|x_{1},...,x_{i-1}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.10" class="ltx_p">Modern neural language models are parameterized by RNNs <cite class="ltx_cite ltx_citemacro_cite">Mikolov et al. (<a href="#bib.bib40" title="" class="ltx_ref">2010</a>)</cite> or Transformers <cite class="ltx_cite ltx_citemacro_cite">Vaswani et al. (<a href="#bib.bib49" title="" class="ltx_ref">2017</a>)</cite>, which consist of millions or billions of parameters (denoted <math id="S3.SS1.p1.4.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS1.p1.4.m1.1a"><mi id="S3.SS1.p1.4.m1.1.1" xref="S3.SS1.p1.4.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m1.1b"><ci id="S3.SS1.p1.4.m1.1.1.cmml" xref="S3.SS1.p1.4.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m1.1c">\theta</annotation></semantics></math>). A language model first maps <math id="S3.SS1.p1.5.m2.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="S3.SS1.p1.5.m2.1a"><mi id="S3.SS1.p1.5.m2.1.1" xref="S3.SS1.p1.5.m2.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m2.1b"><ci id="S3.SS1.p1.5.m2.1.1.cmml" xref="S3.SS1.p1.5.m2.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m2.1c">\mathbf{x}</annotation></semantics></math> to a sequence of vectors via a word embedding matrix <math id="S3.SS1.p1.6.m3.1" class="ltx_Math" alttext="\mathbf{W}\in\mathbb{R}^{|\mathcal{V}|\times d}" display="inline"><semantics id="S3.SS1.p1.6.m3.1a"><mrow id="S3.SS1.p1.6.m3.1.2" xref="S3.SS1.p1.6.m3.1.2.cmml"><mi id="S3.SS1.p1.6.m3.1.2.2" xref="S3.SS1.p1.6.m3.1.2.2.cmml">𝐖</mi><mo id="S3.SS1.p1.6.m3.1.2.1" xref="S3.SS1.p1.6.m3.1.2.1.cmml">∈</mo><msup id="S3.SS1.p1.6.m3.1.2.3" xref="S3.SS1.p1.6.m3.1.2.3.cmml"><mi id="S3.SS1.p1.6.m3.1.2.3.2" xref="S3.SS1.p1.6.m3.1.2.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p1.6.m3.1.1.1" xref="S3.SS1.p1.6.m3.1.1.1.cmml"><mrow id="S3.SS1.p1.6.m3.1.1.1.3.2" xref="S3.SS1.p1.6.m3.1.1.1.3.1.cmml"><mo stretchy="false" id="S3.SS1.p1.6.m3.1.1.1.3.2.1" xref="S3.SS1.p1.6.m3.1.1.1.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m3.1.1.1.1" xref="S3.SS1.p1.6.m3.1.1.1.1.cmml">𝒱</mi><mo rspace="0.055em" stretchy="false" id="S3.SS1.p1.6.m3.1.1.1.3.2.2" xref="S3.SS1.p1.6.m3.1.1.1.3.1.1.cmml">|</mo></mrow><mo rspace="0.222em" id="S3.SS1.p1.6.m3.1.1.1.2" xref="S3.SS1.p1.6.m3.1.1.1.2.cmml">×</mo><mi id="S3.SS1.p1.6.m3.1.1.1.4" xref="S3.SS1.p1.6.m3.1.1.1.4.cmml">d</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m3.1b"><apply id="S3.SS1.p1.6.m3.1.2.cmml" xref="S3.SS1.p1.6.m3.1.2"><in id="S3.SS1.p1.6.m3.1.2.1.cmml" xref="S3.SS1.p1.6.m3.1.2.1"></in><ci id="S3.SS1.p1.6.m3.1.2.2.cmml" xref="S3.SS1.p1.6.m3.1.2.2">𝐖</ci><apply id="S3.SS1.p1.6.m3.1.2.3.cmml" xref="S3.SS1.p1.6.m3.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m3.1.2.3.1.cmml" xref="S3.SS1.p1.6.m3.1.2.3">superscript</csymbol><ci id="S3.SS1.p1.6.m3.1.2.3.2.cmml" xref="S3.SS1.p1.6.m3.1.2.3.2">ℝ</ci><apply id="S3.SS1.p1.6.m3.1.1.1.cmml" xref="S3.SS1.p1.6.m3.1.1.1"><times id="S3.SS1.p1.6.m3.1.1.1.2.cmml" xref="S3.SS1.p1.6.m3.1.1.1.2"></times><apply id="S3.SS1.p1.6.m3.1.1.1.3.1.cmml" xref="S3.SS1.p1.6.m3.1.1.1.3.2"><abs id="S3.SS1.p1.6.m3.1.1.1.3.1.1.cmml" xref="S3.SS1.p1.6.m3.1.1.1.3.2.1"></abs><ci id="S3.SS1.p1.6.m3.1.1.1.1.cmml" xref="S3.SS1.p1.6.m3.1.1.1.1">𝒱</ci></apply><ci id="S3.SS1.p1.6.m3.1.1.1.4.cmml" xref="S3.SS1.p1.6.m3.1.1.1.4">𝑑</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m3.1c">\mathbf{W}\in\mathbb{R}^{|\mathcal{V}|\times d}</annotation></semantics></math>, where <math id="S3.SS1.p1.7.m4.1" class="ltx_Math" alttext="\mathcal{V}" display="inline"><semantics id="S3.SS1.p1.7.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.7.m4.1.1" xref="S3.SS1.p1.7.m4.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m4.1b"><ci id="S3.SS1.p1.7.m4.1.1.cmml" xref="S3.SS1.p1.7.m4.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m4.1c">\mathcal{V}</annotation></semantics></math> is the vocabulary and <math id="S3.SS1.p1.8.m5.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS1.p1.8.m5.1a"><mi id="S3.SS1.p1.8.m5.1.1" xref="S3.SS1.p1.8.m5.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m5.1b"><ci id="S3.SS1.p1.8.m5.1.1.cmml" xref="S3.SS1.p1.8.m5.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m5.1c">d</annotation></semantics></math> is the hidden dimension. After computing the hidden representation <math id="S3.SS1.p1.9.m6.1" class="ltx_Math" alttext="\mathbf{h}_{i}" display="inline"><semantics id="S3.SS1.p1.9.m6.1a"><msub id="S3.SS1.p1.9.m6.1.1" xref="S3.SS1.p1.9.m6.1.1.cmml"><mi id="S3.SS1.p1.9.m6.1.1.2" xref="S3.SS1.p1.9.m6.1.1.2.cmml">𝐡</mi><mi id="S3.SS1.p1.9.m6.1.1.3" xref="S3.SS1.p1.9.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m6.1b"><apply id="S3.SS1.p1.9.m6.1.1.cmml" xref="S3.SS1.p1.9.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m6.1.1.1.cmml" xref="S3.SS1.p1.9.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m6.1.1.2.cmml" xref="S3.SS1.p1.9.m6.1.1.2">𝐡</ci><ci id="S3.SS1.p1.9.m6.1.1.3.cmml" xref="S3.SS1.p1.9.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m6.1c">\mathbf{h}_{i}</annotation></semantics></math> conditioned on <math id="S3.SS1.p1.10.m7.3" class="ltx_Math" alttext="x_{1},\ldots,x_{i-1}" display="inline"><semantics id="S3.SS1.p1.10.m7.3a"><mrow id="S3.SS1.p1.10.m7.3.3.2" xref="S3.SS1.p1.10.m7.3.3.3.cmml"><msub id="S3.SS1.p1.10.m7.2.2.1.1" xref="S3.SS1.p1.10.m7.2.2.1.1.cmml"><mi id="S3.SS1.p1.10.m7.2.2.1.1.2" xref="S3.SS1.p1.10.m7.2.2.1.1.2.cmml">x</mi><mn id="S3.SS1.p1.10.m7.2.2.1.1.3" xref="S3.SS1.p1.10.m7.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.10.m7.3.3.2.3" xref="S3.SS1.p1.10.m7.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.10.m7.1.1" xref="S3.SS1.p1.10.m7.1.1.cmml">…</mi><mo id="S3.SS1.p1.10.m7.3.3.2.4" xref="S3.SS1.p1.10.m7.3.3.3.cmml">,</mo><msub id="S3.SS1.p1.10.m7.3.3.2.2" xref="S3.SS1.p1.10.m7.3.3.2.2.cmml"><mi id="S3.SS1.p1.10.m7.3.3.2.2.2" xref="S3.SS1.p1.10.m7.3.3.2.2.2.cmml">x</mi><mrow id="S3.SS1.p1.10.m7.3.3.2.2.3" xref="S3.SS1.p1.10.m7.3.3.2.2.3.cmml"><mi id="S3.SS1.p1.10.m7.3.3.2.2.3.2" xref="S3.SS1.p1.10.m7.3.3.2.2.3.2.cmml">i</mi><mo id="S3.SS1.p1.10.m7.3.3.2.2.3.1" xref="S3.SS1.p1.10.m7.3.3.2.2.3.1.cmml">−</mo><mn id="S3.SS1.p1.10.m7.3.3.2.2.3.3" xref="S3.SS1.p1.10.m7.3.3.2.2.3.3.cmml">1</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m7.3b"><list id="S3.SS1.p1.10.m7.3.3.3.cmml" xref="S3.SS1.p1.10.m7.3.3.2"><apply id="S3.SS1.p1.10.m7.2.2.1.1.cmml" xref="S3.SS1.p1.10.m7.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m7.2.2.1.1.1.cmml" xref="S3.SS1.p1.10.m7.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.10.m7.2.2.1.1.2.cmml" xref="S3.SS1.p1.10.m7.2.2.1.1.2">𝑥</ci><cn type="integer" id="S3.SS1.p1.10.m7.2.2.1.1.3.cmml" xref="S3.SS1.p1.10.m7.2.2.1.1.3">1</cn></apply><ci id="S3.SS1.p1.10.m7.1.1.cmml" xref="S3.SS1.p1.10.m7.1.1">…</ci><apply id="S3.SS1.p1.10.m7.3.3.2.2.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.10.m7.3.3.2.2.1.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.10.m7.3.3.2.2.2.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2.2">𝑥</ci><apply id="S3.SS1.p1.10.m7.3.3.2.2.3.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2.3"><minus id="S3.SS1.p1.10.m7.3.3.2.2.3.1.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2.3.1"></minus><ci id="S3.SS1.p1.10.m7.3.3.2.2.3.2.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p1.10.m7.3.3.2.2.3.3.cmml" xref="S3.SS1.p1.10.m7.3.3.2.2.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m7.3c">x_{1},\ldots,x_{i-1}</annotation></semantics></math>, the model predicts the probability of the next token as:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.6" class="ltx_Math" alttext="\small\text{I\kern-1.34995ptP}_{\theta}(x_{i}|x_{1},...,x_{i-1})=\frac{\exp(\mathbf{h}_{i}^{\top}\mathbf{W}_{x_{i}})}{\sum_{j\in\mathcal{V}}\exp(\mathbf{h}_{i}^{\top}\mathbf{W}_{j})}." display="block"><semantics id="S3.E2.m1.6a"><mrow id="S3.E2.m1.6.6.1" xref="S3.E2.m1.6.6.1.1.cmml"><mrow id="S3.E2.m1.6.6.1.1" xref="S3.E2.m1.6.6.1.1.cmml"><mrow id="S3.E2.m1.6.6.1.1.1" xref="S3.E2.m1.6.6.1.1.1.cmml"><msub id="S3.E2.m1.6.6.1.1.1.3" xref="S3.E2.m1.6.6.1.1.1.3.cmml"><mtext mathsize="90%" id="S3.E2.m1.6.6.1.1.1.3.2" xref="S3.E2.m1.6.6.1.1.1.3.2a.cmml">IP</mtext><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.3.3" xref="S3.E2.m1.6.6.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.6.6.1.1.1.2" xref="S3.E2.m1.6.6.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.6.6.1.1.1.1.1" xref="S3.E2.m1.6.6.1.1.1.1.1.1.cmml"><mo maxsize="90%" minsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.6.6.1.1.1.1.1.1" xref="S3.E2.m1.6.6.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.6.6.1.1.1.1.1.1.4" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4.cmml"><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.4.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4.2.cmml">x</mi><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.4.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4.3.cmml">i</mi></msub><mo fence="false" mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mn mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.3.cmml">,</mo><mi mathsize="90%" mathvariant="normal" id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml">…</mi><mo mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.4" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mrow id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml"><mi mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.2" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.2.cmml">i</mi><mo mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.1" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn mathsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo maxsize="90%" minsize="90%" id="S3.E2.m1.6.6.1.1.1.1.1.3" xref="S3.E2.m1.6.6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S3.E2.m1.6.6.1.1.2" xref="S3.E2.m1.6.6.1.1.2.cmml">=</mo><mfrac id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml"><mrow id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.3.cmml"><mi mathsize="90%" id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">exp</mi><mo id="S3.E2.m1.2.2.2.2a" xref="S3.E2.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E2.m1.2.2.2.2.1" xref="S3.E2.m1.2.2.2.3.cmml"><mo maxsize="90%" minsize="90%" id="S3.E2.m1.2.2.2.2.1.2" xref="S3.E2.m1.2.2.2.3.cmml">(</mo><mrow id="S3.E2.m1.2.2.2.2.1.1" xref="S3.E2.m1.2.2.2.2.1.1.cmml"><msubsup id="S3.E2.m1.2.2.2.2.1.1.2" xref="S3.E2.m1.2.2.2.2.1.1.2.cmml"><mi mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.2.2.2" xref="S3.E2.m1.2.2.2.2.1.1.2.2.2.cmml">𝐡</mi><mi mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.2.2.3" xref="S3.E2.m1.2.2.2.2.1.1.2.2.3.cmml">i</mi><mo mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.2.3" xref="S3.E2.m1.2.2.2.2.1.1.2.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.2.2.1.1.1" xref="S3.E2.m1.2.2.2.2.1.1.1.cmml">​</mo><msub id="S3.E2.m1.2.2.2.2.1.1.3" xref="S3.E2.m1.2.2.2.2.1.1.3.cmml"><mi mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.3.2" xref="S3.E2.m1.2.2.2.2.1.1.3.2.cmml">𝐖</mi><msub id="S3.E2.m1.2.2.2.2.1.1.3.3" xref="S3.E2.m1.2.2.2.2.1.1.3.3.cmml"><mi mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.3.3.2" xref="S3.E2.m1.2.2.2.2.1.1.3.3.2.cmml">x</mi><mi mathsize="90%" id="S3.E2.m1.2.2.2.2.1.1.3.3.3" xref="S3.E2.m1.2.2.2.2.1.1.3.3.3.cmml">i</mi></msub></msub></mrow><mo maxsize="90%" minsize="90%" id="S3.E2.m1.2.2.2.2.1.3" xref="S3.E2.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.4.4.4" xref="S3.E2.m1.4.4.4.cmml"><msub id="S3.E2.m1.4.4.4.3" xref="S3.E2.m1.4.4.4.3.cmml"><mo maxsize="90%" minsize="90%" stretchy="true" id="S3.E2.m1.4.4.4.3.2" xref="S3.E2.m1.4.4.4.3.2.cmml">∑</mo><mrow id="S3.E2.m1.4.4.4.3.3" xref="S3.E2.m1.4.4.4.3.3.cmml"><mi mathsize="90%" id="S3.E2.m1.4.4.4.3.3.2" xref="S3.E2.m1.4.4.4.3.3.2.cmml">j</mi><mo mathsize="90%" id="S3.E2.m1.4.4.4.3.3.1" xref="S3.E2.m1.4.4.4.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.E2.m1.4.4.4.3.3.3" xref="S3.E2.m1.4.4.4.3.3.3.cmml">𝒱</mi></mrow></msub><mrow id="S3.E2.m1.4.4.4.2.1" xref="S3.E2.m1.4.4.4.2.2.cmml"><mi mathsize="90%" id="S3.E2.m1.3.3.3.1" xref="S3.E2.m1.3.3.3.1.cmml">exp</mi><mo id="S3.E2.m1.4.4.4.2.1a" xref="S3.E2.m1.4.4.4.2.2.cmml">⁡</mo><mrow id="S3.E2.m1.4.4.4.2.1.1" xref="S3.E2.m1.4.4.4.2.2.cmml"><mo maxsize="90%" minsize="90%" id="S3.E2.m1.4.4.4.2.1.1.2" xref="S3.E2.m1.4.4.4.2.2.cmml">(</mo><mrow id="S3.E2.m1.4.4.4.2.1.1.1" xref="S3.E2.m1.4.4.4.2.1.1.1.cmml"><msubsup id="S3.E2.m1.4.4.4.2.1.1.1.2" xref="S3.E2.m1.4.4.4.2.1.1.1.2.cmml"><mi mathsize="90%" id="S3.E2.m1.4.4.4.2.1.1.1.2.2.2" xref="S3.E2.m1.4.4.4.2.1.1.1.2.2.2.cmml">𝐡</mi><mi mathsize="90%" id="S3.E2.m1.4.4.4.2.1.1.1.2.2.3" xref="S3.E2.m1.4.4.4.2.1.1.1.2.2.3.cmml">i</mi><mo mathsize="90%" id="S3.E2.m1.4.4.4.2.1.1.1.2.3" xref="S3.E2.m1.4.4.4.2.1.1.1.2.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.4.2.1.1.1.1" xref="S3.E2.m1.4.4.4.2.1.1.1.1.cmml">​</mo><msub id="S3.E2.m1.4.4.4.2.1.1.1.3" xref="S3.E2.m1.4.4.4.2.1.1.1.3.cmml"><mi mathsize="90%" id="S3.E2.m1.4.4.4.2.1.1.1.3.2" xref="S3.E2.m1.4.4.4.2.1.1.1.3.2.cmml">𝐖</mi><mi mathsize="90%" id="S3.E2.m1.4.4.4.2.1.1.1.3.3" xref="S3.E2.m1.4.4.4.2.1.1.1.3.3.cmml">j</mi></msub></mrow><mo maxsize="90%" minsize="90%" id="S3.E2.m1.4.4.4.2.1.1.3" xref="S3.E2.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><mo lspace="0em" mathsize="90%" id="S3.E2.m1.6.6.1.2" xref="S3.E2.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.6b"><apply id="S3.E2.m1.6.6.1.1.cmml" xref="S3.E2.m1.6.6.1"><eq id="S3.E2.m1.6.6.1.1.2.cmml" xref="S3.E2.m1.6.6.1.1.2"></eq><apply id="S3.E2.m1.6.6.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1"><times id="S3.E2.m1.6.6.1.1.1.2.cmml" xref="S3.E2.m1.6.6.1.1.1.2"></times><apply id="S3.E2.m1.6.6.1.1.1.3.cmml" xref="S3.E2.m1.6.6.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.1.3.1.cmml" xref="S3.E2.m1.6.6.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.1.3.2a.cmml" xref="S3.E2.m1.6.6.1.1.1.3.2"><mtext mathsize="90%" id="S3.E2.m1.6.6.1.1.1.3.2.cmml" xref="S3.E2.m1.6.6.1.1.1.3.2">IP</mtext></ci><ci id="S3.E2.m1.6.6.1.1.1.3.3.cmml" xref="S3.E2.m1.6.6.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E2.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.3">conditional</csymbol><apply id="S3.E2.m1.6.6.1.1.1.1.1.1.4.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.1.1.1.1.4.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.1.1.1.1.4.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4.2">𝑥</ci><ci id="S3.E2.m1.6.6.1.1.1.1.1.1.4.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.4.3">𝑖</ci></apply><list id="S3.E2.m1.6.6.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2"><apply id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2">𝑥</ci><cn type="integer" id="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5">…</ci><apply id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.2">𝑥</ci><apply id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3"><minus id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply></list></apply></apply><apply id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4"><divide id="S3.E2.m1.4.4.5.cmml" xref="S3.E2.m1.4.4"></divide><apply id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2"><exp id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1"></exp><apply id="S3.E2.m1.2.2.2.2.1.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1"><times id="S3.E2.m1.2.2.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1.1"></times><apply id="S3.E2.m1.2.2.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.1.1.2.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2">superscript</csymbol><apply id="S3.E2.m1.2.2.2.2.1.1.2.2.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.1.1.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.1.1.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2.2.2">𝐡</ci><ci id="S3.E2.m1.2.2.2.2.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2.2.3">𝑖</ci></apply><csymbol cd="latexml" id="S3.E2.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.E2.m1.2.2.2.2.1.1.2.3">top</csymbol></apply><apply id="S3.E2.m1.2.2.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.1.1.3.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.1.1.3.2.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3.2">𝐖</ci><apply id="S3.E2.m1.2.2.2.2.1.1.3.3.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.1.1.3.3.1.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3.3">subscript</csymbol><ci id="S3.E2.m1.2.2.2.2.1.1.3.3.2.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3.3.2">𝑥</ci><ci id="S3.E2.m1.2.2.2.2.1.1.3.3.3.cmml" xref="S3.E2.m1.2.2.2.2.1.1.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S3.E2.m1.4.4.4.cmml" xref="S3.E2.m1.4.4.4"><apply id="S3.E2.m1.4.4.4.3.cmml" xref="S3.E2.m1.4.4.4.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.3.1.cmml" xref="S3.E2.m1.4.4.4.3">subscript</csymbol><sum id="S3.E2.m1.4.4.4.3.2.cmml" xref="S3.E2.m1.4.4.4.3.2"></sum><apply id="S3.E2.m1.4.4.4.3.3.cmml" xref="S3.E2.m1.4.4.4.3.3"><in id="S3.E2.m1.4.4.4.3.3.1.cmml" xref="S3.E2.m1.4.4.4.3.3.1"></in><ci id="S3.E2.m1.4.4.4.3.3.2.cmml" xref="S3.E2.m1.4.4.4.3.3.2">𝑗</ci><ci id="S3.E2.m1.4.4.4.3.3.3.cmml" xref="S3.E2.m1.4.4.4.3.3.3">𝒱</ci></apply></apply><apply id="S3.E2.m1.4.4.4.2.2.cmml" xref="S3.E2.m1.4.4.4.2.1"><exp id="S3.E2.m1.3.3.3.1.cmml" xref="S3.E2.m1.3.3.3.1"></exp><apply id="S3.E2.m1.4.4.4.2.1.1.1.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1"><times id="S3.E2.m1.4.4.4.2.1.1.1.1.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.1"></times><apply id="S3.E2.m1.4.4.4.2.1.1.1.2.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.2.1.1.1.2.1.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.4.4.4.2.1.1.1.2.2.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.2.1.1.1.2.2.1.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.4.4.4.2.1.1.1.2.2.2.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2.2.2">𝐡</ci><ci id="S3.E2.m1.4.4.4.2.1.1.1.2.2.3.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2.2.3">𝑖</ci></apply><csymbol cd="latexml" id="S3.E2.m1.4.4.4.2.1.1.1.2.3.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.2.3">top</csymbol></apply><apply id="S3.E2.m1.4.4.4.2.1.1.1.3.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.4.2.1.1.1.3.1.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.4.4.4.2.1.1.1.3.2.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.3.2">𝐖</ci><ci id="S3.E2.m1.4.4.4.2.1.1.1.3.3.cmml" xref="S3.E2.m1.4.4.4.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.6c">\small\text{I\kern-1.34995ptP}_{\theta}(x_{i}|x_{1},...,x_{i-1})=\frac{\exp(\mathbf{h}_{i}^{\top}\mathbf{W}_{x_{i}})}{\sum_{j\in\mathcal{V}}\exp(\mathbf{h}_{i}^{\top}\mathbf{W}_{j})}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Federated Learning</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.15" class="ltx_p">Federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib37" title="" class="ltx_ref">2017</a>)</cite> is a communication protocol for training a shared machine learning model on decentralized data. An FL system usually involves <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">N</annotation></semantics></math> clients: <math id="S3.SS2.p1.2.m2.4" class="ltx_Math" alttext="c_{1},c_{2},\cdots,c_{N}" display="inline"><semantics id="S3.SS2.p1.2.m2.4a"><mrow id="S3.SS2.p1.2.m2.4.4.3" xref="S3.SS2.p1.2.m2.4.4.4.cmml"><msub id="S3.SS2.p1.2.m2.2.2.1.1" xref="S3.SS2.p1.2.m2.2.2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.2.2.1.1.2" xref="S3.SS2.p1.2.m2.2.2.1.1.2.cmml">c</mi><mn id="S3.SS2.p1.2.m2.2.2.1.1.3" xref="S3.SS2.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p1.2.m2.4.4.3.4" xref="S3.SS2.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.2.m2.3.3.2.2" xref="S3.SS2.p1.2.m2.3.3.2.2.cmml"><mi id="S3.SS2.p1.2.m2.3.3.2.2.2" xref="S3.SS2.p1.2.m2.3.3.2.2.2.cmml">c</mi><mn id="S3.SS2.p1.2.m2.3.3.2.2.3" xref="S3.SS2.p1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p1.2.m2.4.4.3.5" xref="S3.SS2.p1.2.m2.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml">⋯</mi><mo id="S3.SS2.p1.2.m2.4.4.3.6" xref="S3.SS2.p1.2.m2.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.2.m2.4.4.3.3" xref="S3.SS2.p1.2.m2.4.4.3.3.cmml"><mi id="S3.SS2.p1.2.m2.4.4.3.3.2" xref="S3.SS2.p1.2.m2.4.4.3.3.2.cmml">c</mi><mi id="S3.SS2.p1.2.m2.4.4.3.3.3" xref="S3.SS2.p1.2.m2.4.4.3.3.3.cmml">N</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.4b"><list id="S3.SS2.p1.2.m2.4.4.4.cmml" xref="S3.SS2.p1.2.m2.4.4.3"><apply id="S3.SS2.p1.2.m2.2.2.1.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.2.2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.2">𝑐</ci><cn type="integer" id="S3.SS2.p1.2.m2.2.2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p1.2.m2.3.3.2.2.cmml" xref="S3.SS2.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.3.3.2.2.1.cmml" xref="S3.SS2.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS2.p1.2.m2.3.3.2.2.2">𝑐</ci><cn type="integer" id="S3.SS2.p1.2.m2.3.3.2.2.3.cmml" xref="S3.SS2.p1.2.m2.3.3.2.2.3">2</cn></apply><ci id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">⋯</ci><apply id="S3.SS2.p1.2.m2.4.4.3.3.cmml" xref="S3.SS2.p1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.4.4.3.3.1.cmml" xref="S3.SS2.p1.2.m2.4.4.3.3">subscript</csymbol><ci id="S3.SS2.p1.2.m2.4.4.3.3.2.cmml" xref="S3.SS2.p1.2.m2.4.4.3.3.2">𝑐</ci><ci id="S3.SS2.p1.2.m2.4.4.3.3.3.cmml" xref="S3.SS2.p1.2.m2.4.4.3.3.3">𝑁</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.4c">c_{1},c_{2},\cdots,c_{N}</annotation></semantics></math> and a central server <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><mi id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><ci id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">s</annotation></semantics></math>, where the clients wish to collaboratively train a neural network <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="f_{\theta}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">f</mi><mi id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝑓</ci><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">f_{\theta}</annotation></semantics></math> with their private data <math id="S3.SS2.p1.5.m5.4" class="ltx_Math" alttext="\mathcal{D}_{1},\mathcal{D}_{2},\cdots,\mathcal{D}_{N}" display="inline"><semantics id="S3.SS2.p1.5.m5.4a"><mrow id="S3.SS2.p1.5.m5.4.4.3" xref="S3.SS2.p1.5.m5.4.4.4.cmml"><msub id="S3.SS2.p1.5.m5.2.2.1.1" xref="S3.SS2.p1.5.m5.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.2.2.1.1.2" xref="S3.SS2.p1.5.m5.2.2.1.1.2.cmml">𝒟</mi><mn id="S3.SS2.p1.5.m5.2.2.1.1.3" xref="S3.SS2.p1.5.m5.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p1.5.m5.4.4.3.4" xref="S3.SS2.p1.5.m5.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.5.m5.3.3.2.2" xref="S3.SS2.p1.5.m5.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.3.3.2.2.2" xref="S3.SS2.p1.5.m5.3.3.2.2.2.cmml">𝒟</mi><mn id="S3.SS2.p1.5.m5.3.3.2.2.3" xref="S3.SS2.p1.5.m5.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p1.5.m5.4.4.3.5" xref="S3.SS2.p1.5.m5.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml">⋯</mi><mo id="S3.SS2.p1.5.m5.4.4.3.6" xref="S3.SS2.p1.5.m5.4.4.4.cmml">,</mo><msub id="S3.SS2.p1.5.m5.4.4.3.3" xref="S3.SS2.p1.5.m5.4.4.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m5.4.4.3.3.2" xref="S3.SS2.p1.5.m5.4.4.3.3.2.cmml">𝒟</mi><mi id="S3.SS2.p1.5.m5.4.4.3.3.3" xref="S3.SS2.p1.5.m5.4.4.3.3.3.cmml">N</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.4b"><list id="S3.SS2.p1.5.m5.4.4.4.cmml" xref="S3.SS2.p1.5.m5.4.4.3"><apply id="S3.SS2.p1.5.m5.2.2.1.1.cmml" xref="S3.SS2.p1.5.m5.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.2.2.1.1.1.cmml" xref="S3.SS2.p1.5.m5.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p1.5.m5.2.2.1.1.2.cmml" xref="S3.SS2.p1.5.m5.2.2.1.1.2">𝒟</ci><cn type="integer" id="S3.SS2.p1.5.m5.2.2.1.1.3.cmml" xref="S3.SS2.p1.5.m5.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p1.5.m5.3.3.2.2.cmml" xref="S3.SS2.p1.5.m5.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.3.3.2.2.1.cmml" xref="S3.SS2.p1.5.m5.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p1.5.m5.3.3.2.2.2.cmml" xref="S3.SS2.p1.5.m5.3.3.2.2.2">𝒟</ci><cn type="integer" id="S3.SS2.p1.5.m5.3.3.2.2.3.cmml" xref="S3.SS2.p1.5.m5.3.3.2.2.3">2</cn></apply><ci id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">⋯</ci><apply id="S3.SS2.p1.5.m5.4.4.3.3.cmml" xref="S3.SS2.p1.5.m5.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.4.4.3.3.1.cmml" xref="S3.SS2.p1.5.m5.4.4.3.3">subscript</csymbol><ci id="S3.SS2.p1.5.m5.4.4.3.3.2.cmml" xref="S3.SS2.p1.5.m5.4.4.3.3.2">𝒟</ci><ci id="S3.SS2.p1.5.m5.4.4.3.3.3.cmml" xref="S3.SS2.p1.5.m5.4.4.3.3.3">𝑁</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.4c">\mathcal{D}_{1},\mathcal{D}_{2},\cdots,\mathcal{D}_{N}</annotation></semantics></math>, under the coordination of the server. The training process optimizes <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><mi id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><ci id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">\theta</annotation></semantics></math> (model parameters) using a loss function <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><ci id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">\mathcal{L}</annotation></semantics></math> and runs for <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><mi id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><ci id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">T</annotation></semantics></math> iterations. This work focuses on federated learning of language models, where clients can start from a randomly-initialized neural network, or a pre-trained public model <cite class="ltx_cite ltx_citemacro_cite">Hard et al. (<a href="#bib.bib18" title="" class="ltx_ref">2018</a>)</cite>. At each iteration <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="t\in[T]" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><mrow id="S3.SS2.p1.9.m9.1.2" xref="S3.SS2.p1.9.m9.1.2.cmml"><mi id="S3.SS2.p1.9.m9.1.2.2" xref="S3.SS2.p1.9.m9.1.2.2.cmml">t</mi><mo id="S3.SS2.p1.9.m9.1.2.1" xref="S3.SS2.p1.9.m9.1.2.1.cmml">∈</mo><mrow id="S3.SS2.p1.9.m9.1.2.3.2" xref="S3.SS2.p1.9.m9.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p1.9.m9.1.2.3.2.1" xref="S3.SS2.p1.9.m9.1.2.3.1.1.cmml">[</mo><mi id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml">T</mi><mo stretchy="false" id="S3.SS2.p1.9.m9.1.2.3.2.2" xref="S3.SS2.p1.9.m9.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><apply id="S3.SS2.p1.9.m9.1.2.cmml" xref="S3.SS2.p1.9.m9.1.2"><in id="S3.SS2.p1.9.m9.1.2.1.cmml" xref="S3.SS2.p1.9.m9.1.2.1"></in><ci id="S3.SS2.p1.9.m9.1.2.2.cmml" xref="S3.SS2.p1.9.m9.1.2.2">𝑡</ci><apply id="S3.SS2.p1.9.m9.1.2.3.1.cmml" xref="S3.SS2.p1.9.m9.1.2.3.2"><csymbol cd="latexml" id="S3.SS2.p1.9.m9.1.2.3.1.1.cmml" xref="S3.SS2.p1.9.m9.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">t\in[T]</annotation></semantics></math>, an individual client <math id="S3.SS2.p1.10.m10.3" class="ltx_Math" alttext="c_{i},i\in[N]" display="inline"><semantics id="S3.SS2.p1.10.m10.3a"><mrow id="S3.SS2.p1.10.m10.3.3" xref="S3.SS2.p1.10.m10.3.3.cmml"><mrow id="S3.SS2.p1.10.m10.3.3.1.1" xref="S3.SS2.p1.10.m10.3.3.1.2.cmml"><msub id="S3.SS2.p1.10.m10.3.3.1.1.1" xref="S3.SS2.p1.10.m10.3.3.1.1.1.cmml"><mi id="S3.SS2.p1.10.m10.3.3.1.1.1.2" xref="S3.SS2.p1.10.m10.3.3.1.1.1.2.cmml">c</mi><mi id="S3.SS2.p1.10.m10.3.3.1.1.1.3" xref="S3.SS2.p1.10.m10.3.3.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p1.10.m10.3.3.1.1.2" xref="S3.SS2.p1.10.m10.3.3.1.2.cmml">,</mo><mi id="S3.SS2.p1.10.m10.2.2" xref="S3.SS2.p1.10.m10.2.2.cmml">i</mi></mrow><mo id="S3.SS2.p1.10.m10.3.3.2" xref="S3.SS2.p1.10.m10.3.3.2.cmml">∈</mo><mrow id="S3.SS2.p1.10.m10.3.3.3.2" xref="S3.SS2.p1.10.m10.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p1.10.m10.3.3.3.2.1" xref="S3.SS2.p1.10.m10.3.3.3.1.1.cmml">[</mo><mi id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS2.p1.10.m10.3.3.3.2.2" xref="S3.SS2.p1.10.m10.3.3.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.3b"><apply id="S3.SS2.p1.10.m10.3.3.cmml" xref="S3.SS2.p1.10.m10.3.3"><in id="S3.SS2.p1.10.m10.3.3.2.cmml" xref="S3.SS2.p1.10.m10.3.3.2"></in><list id="S3.SS2.p1.10.m10.3.3.1.2.cmml" xref="S3.SS2.p1.10.m10.3.3.1.1"><apply id="S3.SS2.p1.10.m10.3.3.1.1.1.cmml" xref="S3.SS2.p1.10.m10.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.3.3.1.1.1.1.cmml" xref="S3.SS2.p1.10.m10.3.3.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.10.m10.3.3.1.1.1.2.cmml" xref="S3.SS2.p1.10.m10.3.3.1.1.1.2">𝑐</ci><ci id="S3.SS2.p1.10.m10.3.3.1.1.1.3.cmml" xref="S3.SS2.p1.10.m10.3.3.1.1.1.3">𝑖</ci></apply><ci id="S3.SS2.p1.10.m10.2.2.cmml" xref="S3.SS2.p1.10.m10.2.2">𝑖</ci></list><apply id="S3.SS2.p1.10.m10.3.3.3.1.cmml" xref="S3.SS2.p1.10.m10.3.3.3.2"><csymbol cd="latexml" id="S3.SS2.p1.10.m10.3.3.3.1.1.cmml" xref="S3.SS2.p1.10.m10.3.3.3.2.1">delimited-[]</csymbol><ci id="S3.SS2.p1.10.m10.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.3c">c_{i},i\in[N]</annotation></semantics></math> computes <math id="S3.SS2.p1.11.m11.1" class="ltx_Math" alttext="\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S3.SS2.p1.11.m11.1a"><mrow id="S3.SS2.p1.11.m11.1.1" xref="S3.SS2.p1.11.m11.1.1.cmml"><mrow id="S3.SS2.p1.11.m11.1.1.3" xref="S3.SS2.p1.11.m11.1.1.3.cmml"><msub id="S3.SS2.p1.11.m11.1.1.3.1" xref="S3.SS2.p1.11.m11.1.1.3.1.cmml"><mo id="S3.SS2.p1.11.m11.1.1.3.1.2" xref="S3.SS2.p1.11.m11.1.1.3.1.2.cmml">∇</mo><msup id="S3.SS2.p1.11.m11.1.1.3.1.3" xref="S3.SS2.p1.11.m11.1.1.3.1.3.cmml"><mi id="S3.SS2.p1.11.m11.1.1.3.1.3.2" xref="S3.SS2.p1.11.m11.1.1.3.1.3.2.cmml">θ</mi><mi id="S3.SS2.p1.11.m11.1.1.3.1.3.3" xref="S3.SS2.p1.11.m11.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S3.SS2.p1.11.m11.1.1.3.2" xref="S3.SS2.p1.11.m11.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.11.m11.1.1.3.2.2" xref="S3.SS2.p1.11.m11.1.1.3.2.2.cmml">ℒ</mi><msup id="S3.SS2.p1.11.m11.1.1.3.2.3" xref="S3.SS2.p1.11.m11.1.1.3.2.3.cmml"><mi id="S3.SS2.p1.11.m11.1.1.3.2.3.2" xref="S3.SS2.p1.11.m11.1.1.3.2.3.2.cmml">θ</mi><mi id="S3.SS2.p1.11.m11.1.1.3.2.3.3" xref="S3.SS2.p1.11.m11.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p1.11.m11.1.1.2" xref="S3.SS2.p1.11.m11.1.1.2.cmml">​</mo><mrow id="S3.SS2.p1.11.m11.1.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p1.11.m11.1.1.1.1.2" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p1.11.m11.1.1.1.1.1" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.11.m11.1.1.1.1.1.2" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S3.SS2.p1.11.m11.1.1.1.1.1.3" xref="S3.SS2.p1.11.m11.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p1.11.m11.1.1.1.1.3" xref="S3.SS2.p1.11.m11.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m11.1b"><apply id="S3.SS2.p1.11.m11.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1"><times id="S3.SS2.p1.11.m11.1.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.2"></times><apply id="S3.SS2.p1.11.m11.1.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3"><apply id="S3.SS2.p1.11.m11.1.1.3.1.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.3.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1">subscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.3.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1.2">∇</ci><apply id="S3.SS2.p1.11.m11.1.1.3.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.3.1.3.1.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1.3">superscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.3.1.3.2.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1.3.2">𝜃</ci><ci id="S3.SS2.p1.11.m11.1.1.3.1.3.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S3.SS2.p1.11.m11.1.1.3.2.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.3.2.1.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.3.2.2.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2.2">ℒ</ci><apply id="S3.SS2.p1.11.m11.1.1.3.2.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.3.2.3.1.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2.3">superscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.3.2.3.2.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2.3.2">𝜃</ci><ci id="S3.SS2.p1.11.m11.1.1.3.2.3.3.cmml" xref="S3.SS2.p1.11.m11.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.SS2.p1.11.m11.1.1.1.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m11.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.11.m11.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.2">ℬ</ci><ci id="S3.SS2.p1.11.m11.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.11.m11.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m11.1c">\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math>, the gradients of the current model parameters <math id="S3.SS2.p1.12.m12.1" class="ltx_Math" alttext="{\theta^{t}}" display="inline"><semantics id="S3.SS2.p1.12.m12.1a"><msup id="S3.SS2.p1.12.m12.1.1" xref="S3.SS2.p1.12.m12.1.1.cmml"><mi id="S3.SS2.p1.12.m12.1.1.2" xref="S3.SS2.p1.12.m12.1.1.2.cmml">θ</mi><mi id="S3.SS2.p1.12.m12.1.1.3" xref="S3.SS2.p1.12.m12.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.12.m12.1b"><apply id="S3.SS2.p1.12.m12.1.1.cmml" xref="S3.SS2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.12.m12.1.1.1.cmml" xref="S3.SS2.p1.12.m12.1.1">superscript</csymbol><ci id="S3.SS2.p1.12.m12.1.1.2.cmml" xref="S3.SS2.p1.12.m12.1.1.2">𝜃</ci><ci id="S3.SS2.p1.12.m12.1.1.3.cmml" xref="S3.SS2.p1.12.m12.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.12.m12.1c">{\theta^{t}}</annotation></semantics></math> on a randomly-sampled private data batch <math id="S3.SS2.p1.13.m13.1" class="ltx_Math" alttext="\mathcal{B}_{i}\subset\mathcal{D}_{i}" display="inline"><semantics id="S3.SS2.p1.13.m13.1a"><mrow id="S3.SS2.p1.13.m13.1.1" xref="S3.SS2.p1.13.m13.1.1.cmml"><msub id="S3.SS2.p1.13.m13.1.1.2" xref="S3.SS2.p1.13.m13.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.13.m13.1.1.2.2" xref="S3.SS2.p1.13.m13.1.1.2.2.cmml">ℬ</mi><mi id="S3.SS2.p1.13.m13.1.1.2.3" xref="S3.SS2.p1.13.m13.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p1.13.m13.1.1.1" xref="S3.SS2.p1.13.m13.1.1.1.cmml">⊂</mo><msub id="S3.SS2.p1.13.m13.1.1.3" xref="S3.SS2.p1.13.m13.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.13.m13.1.1.3.2" xref="S3.SS2.p1.13.m13.1.1.3.2.cmml">𝒟</mi><mi id="S3.SS2.p1.13.m13.1.1.3.3" xref="S3.SS2.p1.13.m13.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.13.m13.1b"><apply id="S3.SS2.p1.13.m13.1.1.cmml" xref="S3.SS2.p1.13.m13.1.1"><subset id="S3.SS2.p1.13.m13.1.1.1.cmml" xref="S3.SS2.p1.13.m13.1.1.1"></subset><apply id="S3.SS2.p1.13.m13.1.1.2.cmml" xref="S3.SS2.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p1.13.m13.1.1.2.1.cmml" xref="S3.SS2.p1.13.m13.1.1.2">subscript</csymbol><ci id="S3.SS2.p1.13.m13.1.1.2.2.cmml" xref="S3.SS2.p1.13.m13.1.1.2.2">ℬ</ci><ci id="S3.SS2.p1.13.m13.1.1.2.3.cmml" xref="S3.SS2.p1.13.m13.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.p1.13.m13.1.1.3.cmml" xref="S3.SS2.p1.13.m13.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p1.13.m13.1.1.3.1.cmml" xref="S3.SS2.p1.13.m13.1.1.3">subscript</csymbol><ci id="S3.SS2.p1.13.m13.1.1.3.2.cmml" xref="S3.SS2.p1.13.m13.1.1.3.2">𝒟</ci><ci id="S3.SS2.p1.13.m13.1.1.3.3.cmml" xref="S3.SS2.p1.13.m13.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.13.m13.1c">\mathcal{B}_{i}\subset\mathcal{D}_{i}</annotation></semantics></math>, <math id="S3.SS2.p1.14.m14.1" class="ltx_Math" alttext="|\mathcal{B}_{i}|=b" display="inline"><semantics id="S3.SS2.p1.14.m14.1a"><mrow id="S3.SS2.p1.14.m14.1.1" xref="S3.SS2.p1.14.m14.1.1.cmml"><mrow id="S3.SS2.p1.14.m14.1.1.1.1" xref="S3.SS2.p1.14.m14.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS2.p1.14.m14.1.1.1.1.2" xref="S3.SS2.p1.14.m14.1.1.1.2.1.cmml">|</mo><msub id="S3.SS2.p1.14.m14.1.1.1.1.1" xref="S3.SS2.p1.14.m14.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.14.m14.1.1.1.1.1.2" xref="S3.SS2.p1.14.m14.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S3.SS2.p1.14.m14.1.1.1.1.1.3" xref="S3.SS2.p1.14.m14.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p1.14.m14.1.1.1.1.3" xref="S3.SS2.p1.14.m14.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS2.p1.14.m14.1.1.2" xref="S3.SS2.p1.14.m14.1.1.2.cmml">=</mo><mi id="S3.SS2.p1.14.m14.1.1.3" xref="S3.SS2.p1.14.m14.1.1.3.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.14.m14.1b"><apply id="S3.SS2.p1.14.m14.1.1.cmml" xref="S3.SS2.p1.14.m14.1.1"><eq id="S3.SS2.p1.14.m14.1.1.2.cmml" xref="S3.SS2.p1.14.m14.1.1.2"></eq><apply id="S3.SS2.p1.14.m14.1.1.1.2.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1"><abs id="S3.SS2.p1.14.m14.1.1.1.2.1.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1.2"></abs><apply id="S3.SS2.p1.14.m14.1.1.1.1.1.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.14.m14.1.1.1.1.1.1.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p1.14.m14.1.1.1.1.1.2.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1.1.2">ℬ</ci><ci id="S3.SS2.p1.14.m14.1.1.1.1.1.3.cmml" xref="S3.SS2.p1.14.m14.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="S3.SS2.p1.14.m14.1.1.3.cmml" xref="S3.SS2.p1.14.m14.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.14.m14.1c">|\mathcal{B}_{i}|=b</annotation></semantics></math>, and shares the gradients with the server <math id="S3.SS2.p1.15.m15.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS2.p1.15.m15.1a"><mi id="S3.SS2.p1.15.m15.1.1" xref="S3.SS2.p1.15.m15.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.15.m15.1b"><ci id="S3.SS2.p1.15.m15.1.1.cmml" xref="S3.SS2.p1.15.m15.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.15.m15.1c">s</annotation></semantics></math>. The server then aggregates gradient updates from all clients and updates the model:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.1" class="ltx_Math" alttext="\small\theta^{t+1}={\theta^{t}-\eta\sum_{i=1}^{N}\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}\left(\mathcal{B}_{i}\right)},\vspace{-1mm}" display="block"><semantics id="S3.E3.m1.1a"><mrow id="S3.E3.m1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml"><msup id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.3.2.cmml">θ</mi><mrow id="S3.E3.m1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.3.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.3.3.2.cmml">t</mi><mo mathsize="90%" id="S3.E3.m1.1.1.1.1.3.3.1" xref="S3.E3.m1.1.1.1.1.3.3.1.cmml">+</mo><mn mathsize="90%" id="S3.E3.m1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.2.cmml">=</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><msup id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.3.2.cmml">θ</mi><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.3.3.cmml">t</mi></msup><mo mathsize="90%" id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">−</mo><mrow id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml"><munderover id="S3.E3.m1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" movablelimits="false" stretchy="true" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.1" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.2.3.cmml">N</mi></munderover><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml"><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.cmml"><mo mathsize="90%" rspace="0.167em" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.2.cmml">∇</mo><msup id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.2.cmml">θ</mi><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.2.cmml">ℒ</mi><msup id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.2.cmml">θ</mi><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ℬ</mi><mi mathsize="90%" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo mathsize="90%" id="S3.E3.m1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.1b"><apply id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1"><eq id="S3.E3.m1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.2"></eq><apply id="S3.E3.m1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.2">𝜃</ci><apply id="S3.E3.m1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3"><plus id="S3.E3.m1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.3.3.1"></plus><ci id="S3.E3.m1.1.1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.3.3.3.cmml" xref="S3.E3.m1.1.1.1.1.3.3.3">1</cn></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><minus id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2"></minus><apply id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.3.2">𝜃</ci><ci id="S3.E3.m1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2"></times><ci id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3">𝜂</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1"><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E3.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.2"></sum><apply id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3"><eq id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2.3">𝑁</ci></apply><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1"><times id="S3.E3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3"><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.2">∇</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.2">𝜃</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.2">ℒ</ci><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.2">𝜃</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.2">ℬ</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.1c">\small\theta^{t+1}={\theta^{t}-\eta\sum_{i=1}^{N}\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}\left(\mathcal{B}_{i}\right)},\vspace{-1mm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p1.17" class="ltx_p">where <math id="S3.SS2.p1.16.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS2.p1.16.m1.1a"><mi id="S3.SS2.p1.16.m1.1.1" xref="S3.SS2.p1.16.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.16.m1.1b"><ci id="S3.SS2.p1.16.m1.1.1.cmml" xref="S3.SS2.p1.16.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.16.m1.1c">\eta</annotation></semantics></math> is the learning rate.
Finally, the updated parameters <math id="S3.SS2.p1.17.m2.1" class="ltx_Math" alttext="\theta^{t+1}" display="inline"><semantics id="S3.SS2.p1.17.m2.1a"><msup id="S3.SS2.p1.17.m2.1.1" xref="S3.SS2.p1.17.m2.1.1.cmml"><mi id="S3.SS2.p1.17.m2.1.1.2" xref="S3.SS2.p1.17.m2.1.1.2.cmml">θ</mi><mrow id="S3.SS2.p1.17.m2.1.1.3" xref="S3.SS2.p1.17.m2.1.1.3.cmml"><mi id="S3.SS2.p1.17.m2.1.1.3.2" xref="S3.SS2.p1.17.m2.1.1.3.2.cmml">t</mi><mo id="S3.SS2.p1.17.m2.1.1.3.1" xref="S3.SS2.p1.17.m2.1.1.3.1.cmml">+</mo><mn id="S3.SS2.p1.17.m2.1.1.3.3" xref="S3.SS2.p1.17.m2.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.17.m2.1b"><apply id="S3.SS2.p1.17.m2.1.1.cmml" xref="S3.SS2.p1.17.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.17.m2.1.1.1.cmml" xref="S3.SS2.p1.17.m2.1.1">superscript</csymbol><ci id="S3.SS2.p1.17.m2.1.1.2.cmml" xref="S3.SS2.p1.17.m2.1.1.2">𝜃</ci><apply id="S3.SS2.p1.17.m2.1.1.3.cmml" xref="S3.SS2.p1.17.m2.1.1.3"><plus id="S3.SS2.p1.17.m2.1.1.3.1.cmml" xref="S3.SS2.p1.17.m2.1.1.3.1"></plus><ci id="S3.SS2.p1.17.m2.1.1.3.2.cmml" xref="S3.SS2.p1.17.m2.1.1.3.2">𝑡</ci><cn type="integer" id="S3.SS2.p1.17.m2.1.1.3.3.cmml" xref="S3.SS2.p1.17.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.17.m2.1c">\theta^{t+1}</annotation></semantics></math> are broadcast to individual clients.<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Note that Eq. <a href="#S3.E3" title="Equation 3 ‣ 3.2 Federated Learning ‣ 3 Preliminaries ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> uses SGD for an easier demonstration for an update step in federated learning. People usually use Adam <cite class="ltx_cite ltx_citemacro_cite">Kingma &amp; Ba (<a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite> in real-world training of neural language models.</span></span></span></p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Threat Model</h3>

<section id="S3.SS3.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adversary’s capabilities.</h4>

<div id="S3.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS3.SSS0.Px1.p1.9" class="ltx_p">We consider an honest-but-curious adversary who is eavesdropping on the communication between the central server <math id="S3.SS3.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS3.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS3.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.1.m1.1c">s</annotation></semantics></math> and an arbitrary client <math id="S3.SS3.SSS0.Px1.p1.2.m2.3" class="ltx_Math" alttext="c_{i},i\in[N]" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.2.m2.3a"><mrow id="S3.SS3.SSS0.Px1.p1.2.m2.3.3" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.cmml"><mrow id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.2.cmml"><msub id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.2.cmml">c</mi><mi id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.2.cmml">,</mo><mi id="S3.SS3.SSS0.Px1.p1.2.m2.2.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.2.2.cmml">i</mi></mrow><mo id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.2.cmml">∈</mo><mrow id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.2.1" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.1.1.cmml">[</mo><mi id="S3.SS3.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.2.2" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.2.m2.3b"><apply id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3"><in id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.2"></in><list id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1"><apply id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.2">𝑐</ci><ci id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.1.1.1.3">𝑖</ci></apply><ci id="S3.SS3.SSS0.Px1.p1.2.m2.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.2.2">𝑖</ci></list><apply id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.2"><csymbol cd="latexml" id="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.3.3.3.2.1">delimited-[]</csymbol><ci id="S3.SS3.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.2.m2.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.2.m2.3c">c_{i},i\in[N]</annotation></semantics></math> in the federated training of a language model parameterized by <math id="S3.SS3.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS3.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS3.SSS0.Px1.p1.3.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS3.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.3.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.3.m3.1c">\theta</annotation></semantics></math>, as described above. An adversary in this scenario has white-box access to 1) the gradients <math id="S3.SS3.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.4.m4.1a"><mrow id="S3.SS3.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.cmml"><mrow id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.cmml"><msub id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.cmml"><mo id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.2.cmml">∇</mo><msup id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.cmml"><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.2.cmml">θ</mi><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.2.cmml">ℒ</mi><msup id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.cmml"><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.2.cmml">θ</mi><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.2.cmml">​</mo><mrow id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml">(</mo><msub id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.2" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.3" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1"><times id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.2"></times><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3"><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.2">∇</ci><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3">superscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.2">𝜃</ci><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.2">ℒ</ci><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3">superscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.2">𝜃</ci><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.2">ℬ</ci><ci id="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.4.m4.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.4.m4.1c">\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math> sent by the client <math id="S3.SS3.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="c_{i}" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.5.m5.1a"><msub id="S3.SS3.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.cmml">c</mi><mi id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.2">𝑐</ci><ci id="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.5.m5.1c">c_{i}</annotation></semantics></math>, and 2) the model parameters <math id="S3.SS3.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="\theta^{t}" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.6.m6.1a"><msup id="S3.SS3.SSS0.Px1.p1.6.m6.1.1" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.cmml"><mi id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.cmml">θ</mi><mi id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.6.m6.1b"><apply id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1">superscript</csymbol><ci id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.2">𝜃</ci><ci id="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3.cmml" xref="S3.SS3.SSS0.Px1.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.6.m6.1c">\theta^{t}</annotation></semantics></math> (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), including the vocabulary <math id="S3.SS3.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{V}" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px1.p1.7.m7.1.1" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.7.m7.1b"><ci id="S3.SS3.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.7.m7.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.7.m7.1c">\mathcal{V}</annotation></semantics></math> and the embedding matrix <math id="S3.SS3.SSS0.Px1.p1.8.m8.1" class="ltx_Math" alttext="\mathbf{W}" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.8.m8.1a"><mi id="S3.SS3.SSS0.Px1.p1.8.m8.1.1" xref="S3.SS3.SSS0.Px1.p1.8.m8.1.1.cmml">𝐖</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.8.m8.1b"><ci id="S3.SS3.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.8.m8.1.1">𝐖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.8.m8.1c">\mathbf{W}</annotation></semantics></math>. Note that the adversary can inspect these information at <span id="S3.SS3.SSS0.Px1.p1.9.1" class="ltx_text ltx_font_italic">any</span> training iterations <math id="S3.SS3.SSS0.Px1.p1.9.m9.1" class="ltx_Math" alttext="t\in[T]" display="inline"><semantics id="S3.SS3.SSS0.Px1.p1.9.m9.1a"><mrow id="S3.SS3.SSS0.Px1.p1.9.m9.1.2" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.cmml"><mi id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.2" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.2.cmml">t</mi><mo id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.1" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.1.cmml">∈</mo><mrow id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.2" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.2.1" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.1.1.cmml">[</mo><mi id="S3.SS3.SSS0.Px1.p1.9.m9.1.1" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.1.cmml">T</mi><mo stretchy="false" id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.2.2" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px1.p1.9.m9.1b"><apply id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2"><in id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.1.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.1"></in><ci id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.2.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.2">𝑡</ci><apply id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.1.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.2"><csymbol cd="latexml" id="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS3.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S3.SS3.SSS0.Px1.p1.9.m9.1.1">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px1.p1.9.m9.1c">t\in[T]</annotation></semantics></math>.</p>
</div>
</section>
<section id="S3.SS3.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adversary’s objective.</h4>

<div id="S3.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS3.SSS0.Px2.p1.1" class="ltx_p">The adversary aims to recover <span id="S3.SS3.SSS0.Px2.p1.1.1" class="ltx_text ltx_font_italic">at least one</span> sentence from the private training data batch <math id="S3.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{B}_{i}" display="inline"><semantics id="S3.SS3.SSS0.Px2.p1.1.m1.1a"><msub id="S3.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml">ℬ</mi><mi id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.2">ℬ</ci><ci id="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS3.SSS0.Px2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS0.Px2.p1.1.m1.1c">\mathcal{B}_{i}</annotation></semantics></math> based on the information they observe, as recovering a single sentence is already sufficient to break the privacy guarantee of federated learning. Since each training batch consists of randomly selected sentences from the private training dataset, if the adversary could recover at least one sentence from each training batch during the whole training procedure, they would be able to recover a considerable fraction of the original training dataset. Additionally, the attacker may also apply the attack on a single batch multiple times to recover more sentences from the batch (Sec. <a href="#S4.SS5" title="4.5 Recovering Multiple Sentences ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.5</span></a>).
The strength of an attack will be measured by the similarity between the recovered sentence and its corresponding private sentence in the original batch.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Proposed Attack: FILM</h2>

<figure id="S4.F2" class="ltx_figure">
<p id="S4.F2.1" class="ltx_p ltx_align_center"><span id="S4.F2.1.1" class="ltx_text ltx_inline-block" style="width:433.6pt;">
<img src="/html/2205.08514/assets/x2.png" id="S4.F2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="470" height="116" alt="Refer to caption"></span></p>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>
Illustration of our pipeline for a batch size of 2.
We first recover a bag of words from the observed gradients, and then generate candidate sentences using beam search from the set of words, retaining top beams at every step according to a beam scoring function. Finally, we re-order phrases and words in the best candidate.</figcaption>
</figure>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Overview</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">In this section, we present a novel attack method FILM, which can construct sentences from <span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_italic">any</span> training batches (<math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="|\mathcal{B}_{i}|\leq 128" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mrow id="S4.SS1.p1.1.m1.1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p1.1.m1.1.1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.1.m1.1.1.1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS1.p1.1.m1.1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">≤</mo><mn id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">128</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><leq id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2"></leq><apply id="S4.SS1.p1.1.m1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1"><abs id="S4.SS1.p1.1.m1.1.1.1.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.2"></abs><apply id="S4.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.2">ℬ</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply><cn type="integer" id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">128</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">|\mathcal{B}_{i}|\leq 128</annotation></semantics></math>). Our method consists of three steps:</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">(1) Inspired by <cite class="ltx_cite ltx_citemacro_citet">Melis et al. (<a href="#bib.bib38" title="" class="ltx_ref">2019</a>)</cite>, we first recover a set of words that may appear in a private batch (<math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{B}_{i}" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><msub id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">ℬ</mi><mi id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">ℬ</ci><ci id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\mathcal{B}_{i}</annotation></semantics></math>) from gradients (Sec. <a href="#S4.SS2" title="4.2 Bag-of-Words Extraction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>). While their goal is to identify individual words from gradients, our approach is able to recover the order of words in a sentence.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.3" class="ltx_p">(2) We attempt searching for full sentences using beam search using the set of words, based on the probability distribution <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\text{I\kern-1.49994ptP}_{\theta^{t}}(x)" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mrow id="S4.SS1.p3.1.m1.1.2" xref="S4.SS1.p3.1.m1.1.2.cmml"><msub id="S4.SS1.p3.1.m1.1.2.2" xref="S4.SS1.p3.1.m1.1.2.2.cmml"><mtext id="S4.SS1.p3.1.m1.1.2.2.2" xref="S4.SS1.p3.1.m1.1.2.2.2a.cmml">IP</mtext><msup id="S4.SS1.p3.1.m1.1.2.2.3" xref="S4.SS1.p3.1.m1.1.2.2.3.cmml"><mi id="S4.SS1.p3.1.m1.1.2.2.3.2" xref="S4.SS1.p3.1.m1.1.2.2.3.2.cmml">θ</mi><mi id="S4.SS1.p3.1.m1.1.2.2.3.3" xref="S4.SS1.p3.1.m1.1.2.2.3.3.cmml">t</mi></msup></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p3.1.m1.1.2.1" xref="S4.SS1.p3.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS1.p3.1.m1.1.2.3.2" xref="S4.SS1.p3.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p3.1.m1.1.2.3.2.1" xref="S4.SS1.p3.1.m1.1.2.cmml">(</mo><mi id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S4.SS1.p3.1.m1.1.2.3.2.2" xref="S4.SS1.p3.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.2"><times id="S4.SS1.p3.1.m1.1.2.1.cmml" xref="S4.SS1.p3.1.m1.1.2.1"></times><apply id="S4.SS1.p3.1.m1.1.2.2.cmml" xref="S4.SS1.p3.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.2.2.1.cmml" xref="S4.SS1.p3.1.m1.1.2.2">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.2.2.2a.cmml" xref="S4.SS1.p3.1.m1.1.2.2.2"><mtext id="S4.SS1.p3.1.m1.1.2.2.2.cmml" xref="S4.SS1.p3.1.m1.1.2.2.2">IP</mtext></ci><apply id="S4.SS1.p3.1.m1.1.2.2.3.cmml" xref="S4.SS1.p3.1.m1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.2.2.3.1.cmml" xref="S4.SS1.p3.1.m1.1.2.2.3">superscript</csymbol><ci id="S4.SS1.p3.1.m1.1.2.2.3.2.cmml" xref="S4.SS1.p3.1.m1.1.2.2.3.2">𝜃</ci><ci id="S4.SS1.p3.1.m1.1.2.2.3.3.cmml" xref="S4.SS1.p3.1.m1.1.2.2.3.3">𝑡</ci></apply></apply><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\text{I\kern-1.49994ptP}_{\theta^{t}}(x)</annotation></semantics></math>, which leverages either the language prior from a pre-trained language model (<math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="t=0" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mrow id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">t</mi><mo id="S4.SS1.p3.2.m2.1.1.1" xref="S4.SS1.p3.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><eq id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1.1"></eq><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">𝑡</ci><cn type="integer" id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">t=0</annotation></semantics></math>), or the memorization capability of the LM during training (<math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="t&gt;0" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mrow id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mi id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2.cmml">t</mi><mo id="S4.SS1.p3.3.m3.1.1.1" xref="S4.SS1.p3.3.m3.1.1.1.cmml">&gt;</mo><mn id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><gt id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1.1"></gt><ci id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">𝑡</ci><cn type="integer" id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">t&gt;0</annotation></semantics></math>) (Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>).<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>Recall that the attacker can inspect the gradients at any step <math id="footnote4.m1.1" class="ltx_Math" alttext="t\in[T]" display="inline"><semantics id="footnote4.m1.1b"><mrow id="footnote4.m1.1.2" xref="footnote4.m1.1.2.cmml"><mi id="footnote4.m1.1.2.2" xref="footnote4.m1.1.2.2.cmml">t</mi><mo id="footnote4.m1.1.2.1" xref="footnote4.m1.1.2.1.cmml">∈</mo><mrow id="footnote4.m1.1.2.3.2" xref="footnote4.m1.1.2.3.1.cmml"><mo stretchy="false" id="footnote4.m1.1.2.3.2.1" xref="footnote4.m1.1.2.3.1.1.cmml">[</mo><mi id="footnote4.m1.1.1" xref="footnote4.m1.1.1.cmml">T</mi><mo stretchy="false" id="footnote4.m1.1.2.3.2.2" xref="footnote4.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote4.m1.1c"><apply id="footnote4.m1.1.2.cmml" xref="footnote4.m1.1.2"><in id="footnote4.m1.1.2.1.cmml" xref="footnote4.m1.1.2.1"></in><ci id="footnote4.m1.1.2.2.cmml" xref="footnote4.m1.1.2.2">𝑡</ci><apply id="footnote4.m1.1.2.3.1.cmml" xref="footnote4.m1.1.2.3.2"><csymbol cd="latexml" id="footnote4.m1.1.2.3.1.1.cmml" xref="footnote4.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="footnote4.m1.1.1.cmml" xref="footnote4.m1.1.1">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m1.1d">t\in[T]</annotation></semantics></math> during the <math id="footnote4.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="footnote4.m2.1b"><mi id="footnote4.m2.1.1" xref="footnote4.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="footnote4.m2.1c"><ci id="footnote4.m2.1.1.cmml" xref="footnote4.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m2.1d">T</annotation></semantics></math>-epoch training.
An attacker performing our attack at a larger <math id="footnote4.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="footnote4.m3.1b"><mi id="footnote4.m3.1.1" xref="footnote4.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="footnote4.m3.1c"><ci id="footnote4.m3.1.1.cmml" xref="footnote4.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m3.1d">t</annotation></semantics></math> may have much stronger results than for a smaller <math id="footnote4.m4.1" class="ltx_Math" alttext="t" display="inline"><semantics id="footnote4.m4.1b"><mi id="footnote4.m4.1.1" xref="footnote4.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="footnote4.m4.1c"><ci id="footnote4.m4.1.1.cmml" xref="footnote4.m4.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote4.m4.1d">t</annotation></semantics></math>, as we later show in Sec. <a href="#S7" title="7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</span></span></span></p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">(3) Finally, we design a prior-based scoring function and demonstrate that we can further improve the quality of recovered sentences by performing a simple and lightweight reordering step (Sec. <a href="#S4.SS4" title="4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>).</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p">We show that the above pipeline is capable of recovering single sentences from large training batches successfully. In Sec. <a href="#S4.SS5" title="4.5 Recovering Multiple Sentences ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.5</span></a>, we discuss that we can iterate the above procedure to recover multiple sentences from the same training batch, which makes our attack even stronger. In the following, we describe our attack method in detail. To better illustrate our attack’s functionality, we provide a simplified step-by-step example that recovers a batch of 2 simple sentences in Fig. <a href="#S4.F2" title="Figure 2 ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Bag-of-Words Extraction</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p"><span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Input:<span id="S4.SS2.p1.1.1.1" class="ltx_text ltx_font_medium"> <math id="S4.SS2.p1.1.1.1.m1.1" class="ltx_Math" alttext="\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S4.SS2.p1.1.1.1.m1.1a"><mrow id="S4.SS2.p1.1.1.1.m1.1.1" xref="S4.SS2.p1.1.1.1.m1.1.1.cmml"><mrow id="S4.SS2.p1.1.1.1.m1.1.1.3" xref="S4.SS2.p1.1.1.1.m1.1.1.3.cmml"><msub id="S4.SS2.p1.1.1.1.m1.1.1.3.1" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.cmml"><mo id="S4.SS2.p1.1.1.1.m1.1.1.3.1.2" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.2.cmml">∇</mo><msup id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.cmml"><mi id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.2" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.2.cmml">θ</mi><mi id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.3" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S4.SS2.p1.1.1.1.m1.1.1.3.2" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.1.1.1.m1.1.1.3.2.2" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.2.cmml">ℒ</mi><msup id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.cmml"><mi id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.2" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.2.cmml">θ</mi><mi id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.3" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p1.1.1.1.m1.1.1.2" xref="S4.SS2.p1.1.1.1.m1.1.1.2.cmml">​</mo><mrow id="S4.SS2.p1.1.1.1.m1.1.1.1.1" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p1.1.1.1.m1.1.1.1.1.2" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.2" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.3" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS2.p1.1.1.1.m1.1.1.1.1.3" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.1.1.m1.1b"><apply id="S4.SS2.p1.1.1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1"><times id="S4.SS2.p1.1.1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.2"></times><apply id="S4.SS2.p1.1.1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3"><apply id="S4.SS2.p1.1.1.1.m1.1.1.3.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.1.1.m1.1.1.3.1.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1">subscript</csymbol><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.1.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.2">∇</ci><apply id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3"><csymbol cd="ambiguous" id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3">superscript</csymbol><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.2">𝜃</ci><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S4.SS2.p1.1.1.1.m1.1.1.3.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS2.p1.1.1.1.m1.1.1.3.2.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2">subscript</csymbol><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.2.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.2">ℒ</ci><apply id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3">superscript</csymbol><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.2">𝜃</ci><ci id="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.2">ℬ</ci><ci id="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.1.1.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.1.1.m1.1c">\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math>, gradients of the language model on the private batch of sentences.</span></span></p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.6" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Output:<span id="S4.SS2.p2.1.1.1" class="ltx_text ltx_font_medium"> bag of words <math id="S4.SS2.p2.1.1.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS2.p2.1.1.1.m1.1a"><mi id="S4.SS2.p2.1.1.1.m1.1.1" xref="S4.SS2.p2.1.1.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.1.1.m1.1b"><ci id="S4.SS2.p2.1.1.1.m1.1.1.cmml" xref="S4.SS2.p2.1.1.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.1.1.m1.1c">B</annotation></semantics></math>: <span id="S4.SS2.p2.1.1.1.1" class="ltx_text ltx_font_typewriter">{‘‘Let", ‘‘The", ‘‘cat", ‘‘chases", ‘‘dogs", ‘‘lie", ‘‘mouse", ‘‘sleeping", ‘‘the", ‘‘."}</span>. </span></span>
Our first step is to extract a bag of words from <math id="S4.SS2.p2.2.m1.1" class="ltx_Math" alttext="\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S4.SS2.p2.2.m1.1a"><mrow id="S4.SS2.p2.2.m1.1.1" xref="S4.SS2.p2.2.m1.1.1.cmml"><mrow id="S4.SS2.p2.2.m1.1.1.3" xref="S4.SS2.p2.2.m1.1.1.3.cmml"><msub id="S4.SS2.p2.2.m1.1.1.3.1" xref="S4.SS2.p2.2.m1.1.1.3.1.cmml"><mo id="S4.SS2.p2.2.m1.1.1.3.1.2" xref="S4.SS2.p2.2.m1.1.1.3.1.2.cmml">∇</mo><msup id="S4.SS2.p2.2.m1.1.1.3.1.3" xref="S4.SS2.p2.2.m1.1.1.3.1.3.cmml"><mi id="S4.SS2.p2.2.m1.1.1.3.1.3.2" xref="S4.SS2.p2.2.m1.1.1.3.1.3.2.cmml">θ</mi><mi id="S4.SS2.p2.2.m1.1.1.3.1.3.3" xref="S4.SS2.p2.2.m1.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S4.SS2.p2.2.m1.1.1.3.2" xref="S4.SS2.p2.2.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.2.m1.1.1.3.2.2" xref="S4.SS2.p2.2.m1.1.1.3.2.2.cmml">ℒ</mi><msup id="S4.SS2.p2.2.m1.1.1.3.2.3" xref="S4.SS2.p2.2.m1.1.1.3.2.3.cmml"><mi id="S4.SS2.p2.2.m1.1.1.3.2.3.2" xref="S4.SS2.p2.2.m1.1.1.3.2.3.2.cmml">θ</mi><mi id="S4.SS2.p2.2.m1.1.1.3.2.3.3" xref="S4.SS2.p2.2.m1.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.2.m1.1.1.2" xref="S4.SS2.p2.2.m1.1.1.2.cmml">​</mo><mrow id="S4.SS2.p2.2.m1.1.1.1.1" xref="S4.SS2.p2.2.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p2.2.m1.1.1.1.1.2" xref="S4.SS2.p2.2.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.p2.2.m1.1.1.1.1.1" xref="S4.SS2.p2.2.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.2.m1.1.1.1.1.1.2" xref="S4.SS2.p2.2.m1.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S4.SS2.p2.2.m1.1.1.1.1.1.3" xref="S4.SS2.p2.2.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS2.p2.2.m1.1.1.1.1.3" xref="S4.SS2.p2.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m1.1b"><apply id="S4.SS2.p2.2.m1.1.1.cmml" xref="S4.SS2.p2.2.m1.1.1"><times id="S4.SS2.p2.2.m1.1.1.2.cmml" xref="S4.SS2.p2.2.m1.1.1.2"></times><apply id="S4.SS2.p2.2.m1.1.1.3.cmml" xref="S4.SS2.p2.2.m1.1.1.3"><apply id="S4.SS2.p2.2.m1.1.1.3.1.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m1.1.1.3.1.1.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1">subscript</csymbol><ci id="S4.SS2.p2.2.m1.1.1.3.1.2.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1.2">∇</ci><apply id="S4.SS2.p2.2.m1.1.1.3.1.3.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m1.1.1.3.1.3.1.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1.3">superscript</csymbol><ci id="S4.SS2.p2.2.m1.1.1.3.1.3.2.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1.3.2">𝜃</ci><ci id="S4.SS2.p2.2.m1.1.1.3.1.3.3.cmml" xref="S4.SS2.p2.2.m1.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S4.SS2.p2.2.m1.1.1.3.2.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m1.1.1.3.2.1.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2">subscript</csymbol><ci id="S4.SS2.p2.2.m1.1.1.3.2.2.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2.2">ℒ</ci><apply id="S4.SS2.p2.2.m1.1.1.3.2.3.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m1.1.1.3.2.3.1.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2.3">superscript</csymbol><ci id="S4.SS2.p2.2.m1.1.1.3.2.3.2.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2.3.2">𝜃</ci><ci id="S4.SS2.p2.2.m1.1.1.3.2.3.3.cmml" xref="S4.SS2.p2.2.m1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S4.SS2.p2.2.m1.1.1.1.1.1.cmml" xref="S4.SS2.p2.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.2.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p2.2.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.2.m1.1.1.1.1.1.2">ℬ</ci><ci id="S4.SS2.p2.2.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.2.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m1.1c">\nabla_{\theta^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math>, the gradients observed by an eavesdropper at the <math id="S4.SS2.p2.3.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS2.p2.3.m2.1a"><mi id="S4.SS2.p2.3.m2.1.1" xref="S4.SS2.p2.3.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m2.1b"><ci id="S4.SS2.p2.3.m2.1.1.cmml" xref="S4.SS2.p2.3.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m2.1c">t</annotation></semantics></math>-th iteration of training.
We follow the method outlined by <cite class="ltx_cite ltx_citemacro_citet">Melis et al. (<a href="#bib.bib38" title="" class="ltx_ref">2019</a>)</cite> and recover a set of words <math id="S4.SS2.p2.4.m3.4" class="ltx_Math" alttext="B=\{w_{1},w_{2},\dots,w_{m}\}" display="inline"><semantics id="S4.SS2.p2.4.m3.4a"><mrow id="S4.SS2.p2.4.m3.4.4" xref="S4.SS2.p2.4.m3.4.4.cmml"><mi id="S4.SS2.p2.4.m3.4.4.5" xref="S4.SS2.p2.4.m3.4.4.5.cmml">B</mi><mo id="S4.SS2.p2.4.m3.4.4.4" xref="S4.SS2.p2.4.m3.4.4.4.cmml">=</mo><mrow id="S4.SS2.p2.4.m3.4.4.3.3" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml"><mo stretchy="false" id="S4.SS2.p2.4.m3.4.4.3.3.4" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml">{</mo><msub id="S4.SS2.p2.4.m3.2.2.1.1.1" xref="S4.SS2.p2.4.m3.2.2.1.1.1.cmml"><mi id="S4.SS2.p2.4.m3.2.2.1.1.1.2" xref="S4.SS2.p2.4.m3.2.2.1.1.1.2.cmml">w</mi><mn id="S4.SS2.p2.4.m3.2.2.1.1.1.3" xref="S4.SS2.p2.4.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.p2.4.m3.4.4.3.3.5" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml">,</mo><msub id="S4.SS2.p2.4.m3.3.3.2.2.2" xref="S4.SS2.p2.4.m3.3.3.2.2.2.cmml"><mi id="S4.SS2.p2.4.m3.3.3.2.2.2.2" xref="S4.SS2.p2.4.m3.3.3.2.2.2.2.cmml">w</mi><mn id="S4.SS2.p2.4.m3.3.3.2.2.2.3" xref="S4.SS2.p2.4.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S4.SS2.p2.4.m3.4.4.3.3.6" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S4.SS2.p2.4.m3.1.1" xref="S4.SS2.p2.4.m3.1.1.cmml">…</mi><mo id="S4.SS2.p2.4.m3.4.4.3.3.7" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml">,</mo><msub id="S4.SS2.p2.4.m3.4.4.3.3.3" xref="S4.SS2.p2.4.m3.4.4.3.3.3.cmml"><mi id="S4.SS2.p2.4.m3.4.4.3.3.3.2" xref="S4.SS2.p2.4.m3.4.4.3.3.3.2.cmml">w</mi><mi id="S4.SS2.p2.4.m3.4.4.3.3.3.3" xref="S4.SS2.p2.4.m3.4.4.3.3.3.3.cmml">m</mi></msub><mo stretchy="false" id="S4.SS2.p2.4.m3.4.4.3.3.8" xref="S4.SS2.p2.4.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m3.4b"><apply id="S4.SS2.p2.4.m3.4.4.cmml" xref="S4.SS2.p2.4.m3.4.4"><eq id="S4.SS2.p2.4.m3.4.4.4.cmml" xref="S4.SS2.p2.4.m3.4.4.4"></eq><ci id="S4.SS2.p2.4.m3.4.4.5.cmml" xref="S4.SS2.p2.4.m3.4.4.5">𝐵</ci><set id="S4.SS2.p2.4.m3.4.4.3.4.cmml" xref="S4.SS2.p2.4.m3.4.4.3.3"><apply id="S4.SS2.p2.4.m3.2.2.1.1.1.cmml" xref="S4.SS2.p2.4.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m3.2.2.1.1.1.1.cmml" xref="S4.SS2.p2.4.m3.2.2.1.1.1">subscript</csymbol><ci id="S4.SS2.p2.4.m3.2.2.1.1.1.2.cmml" xref="S4.SS2.p2.4.m3.2.2.1.1.1.2">𝑤</ci><cn type="integer" id="S4.SS2.p2.4.m3.2.2.1.1.1.3.cmml" xref="S4.SS2.p2.4.m3.2.2.1.1.1.3">1</cn></apply><apply id="S4.SS2.p2.4.m3.3.3.2.2.2.cmml" xref="S4.SS2.p2.4.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m3.3.3.2.2.2.1.cmml" xref="S4.SS2.p2.4.m3.3.3.2.2.2">subscript</csymbol><ci id="S4.SS2.p2.4.m3.3.3.2.2.2.2.cmml" xref="S4.SS2.p2.4.m3.3.3.2.2.2.2">𝑤</ci><cn type="integer" id="S4.SS2.p2.4.m3.3.3.2.2.2.3.cmml" xref="S4.SS2.p2.4.m3.3.3.2.2.2.3">2</cn></apply><ci id="S4.SS2.p2.4.m3.1.1.cmml" xref="S4.SS2.p2.4.m3.1.1">…</ci><apply id="S4.SS2.p2.4.m3.4.4.3.3.3.cmml" xref="S4.SS2.p2.4.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m3.4.4.3.3.3.1.cmml" xref="S4.SS2.p2.4.m3.4.4.3.3.3">subscript</csymbol><ci id="S4.SS2.p2.4.m3.4.4.3.3.3.2.cmml" xref="S4.SS2.p2.4.m3.4.4.3.3.3.2">𝑤</ci><ci id="S4.SS2.p2.4.m3.4.4.3.3.3.3.cmml" xref="S4.SS2.p2.4.m3.4.4.3.3.3.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m3.4c">B=\{w_{1},w_{2},\dots,w_{m}\}</annotation></semantics></math> by considering the non-zero rows of the word embedding gradients <math id="S4.SS2.p2.5.m4.1" class="ltx_Math" alttext="\nabla_{\mathbf{W}^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S4.SS2.p2.5.m4.1a"><mrow id="S4.SS2.p2.5.m4.1.1" xref="S4.SS2.p2.5.m4.1.1.cmml"><mrow id="S4.SS2.p2.5.m4.1.1.3" xref="S4.SS2.p2.5.m4.1.1.3.cmml"><msub id="S4.SS2.p2.5.m4.1.1.3.1" xref="S4.SS2.p2.5.m4.1.1.3.1.cmml"><mo id="S4.SS2.p2.5.m4.1.1.3.1.2" xref="S4.SS2.p2.5.m4.1.1.3.1.2.cmml">∇</mo><msup id="S4.SS2.p2.5.m4.1.1.3.1.3" xref="S4.SS2.p2.5.m4.1.1.3.1.3.cmml"><mi id="S4.SS2.p2.5.m4.1.1.3.1.3.2" xref="S4.SS2.p2.5.m4.1.1.3.1.3.2.cmml">𝐖</mi><mi id="S4.SS2.p2.5.m4.1.1.3.1.3.3" xref="S4.SS2.p2.5.m4.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S4.SS2.p2.5.m4.1.1.3.2" xref="S4.SS2.p2.5.m4.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.5.m4.1.1.3.2.2" xref="S4.SS2.p2.5.m4.1.1.3.2.2.cmml">ℒ</mi><msup id="S4.SS2.p2.5.m4.1.1.3.2.3" xref="S4.SS2.p2.5.m4.1.1.3.2.3.cmml"><mi id="S4.SS2.p2.5.m4.1.1.3.2.3.2" xref="S4.SS2.p2.5.m4.1.1.3.2.3.2.cmml">θ</mi><mi id="S4.SS2.p2.5.m4.1.1.3.2.3.3" xref="S4.SS2.p2.5.m4.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.5.m4.1.1.2" xref="S4.SS2.p2.5.m4.1.1.2.cmml">​</mo><mrow id="S4.SS2.p2.5.m4.1.1.1.1" xref="S4.SS2.p2.5.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p2.5.m4.1.1.1.1.2" xref="S4.SS2.p2.5.m4.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.p2.5.m4.1.1.1.1.1" xref="S4.SS2.p2.5.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.5.m4.1.1.1.1.1.2" xref="S4.SS2.p2.5.m4.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S4.SS2.p2.5.m4.1.1.1.1.1.3" xref="S4.SS2.p2.5.m4.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS2.p2.5.m4.1.1.1.1.3" xref="S4.SS2.p2.5.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m4.1b"><apply id="S4.SS2.p2.5.m4.1.1.cmml" xref="S4.SS2.p2.5.m4.1.1"><times id="S4.SS2.p2.5.m4.1.1.2.cmml" xref="S4.SS2.p2.5.m4.1.1.2"></times><apply id="S4.SS2.p2.5.m4.1.1.3.cmml" xref="S4.SS2.p2.5.m4.1.1.3"><apply id="S4.SS2.p2.5.m4.1.1.3.1.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m4.1.1.3.1.1.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1">subscript</csymbol><ci id="S4.SS2.p2.5.m4.1.1.3.1.2.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1.2">∇</ci><apply id="S4.SS2.p2.5.m4.1.1.3.1.3.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m4.1.1.3.1.3.1.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1.3">superscript</csymbol><ci id="S4.SS2.p2.5.m4.1.1.3.1.3.2.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1.3.2">𝐖</ci><ci id="S4.SS2.p2.5.m4.1.1.3.1.3.3.cmml" xref="S4.SS2.p2.5.m4.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S4.SS2.p2.5.m4.1.1.3.2.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m4.1.1.3.2.1.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2">subscript</csymbol><ci id="S4.SS2.p2.5.m4.1.1.3.2.2.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2.2">ℒ</ci><apply id="S4.SS2.p2.5.m4.1.1.3.2.3.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m4.1.1.3.2.3.1.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2.3">superscript</csymbol><ci id="S4.SS2.p2.5.m4.1.1.3.2.3.2.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2.3.2">𝜃</ci><ci id="S4.SS2.p2.5.m4.1.1.3.2.3.3.cmml" xref="S4.SS2.p2.5.m4.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S4.SS2.p2.5.m4.1.1.1.1.1.cmml" xref="S4.SS2.p2.5.m4.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m4.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.5.m4.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p2.5.m4.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.5.m4.1.1.1.1.1.2">ℬ</ci><ci id="S4.SS2.p2.5.m4.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.5.m4.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m4.1c">\nabla_{\mathbf{W}^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math>. Additionally, we are also able to recover the maximum length of sentences in the batch by analyzing the non-zero rows of position embeddings gradients <math id="S4.SS2.p2.6.m5.1" class="ltx_Math" alttext="\nabla_{\mathbf{P}^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})" display="inline"><semantics id="S4.SS2.p2.6.m5.1a"><mrow id="S4.SS2.p2.6.m5.1.1" xref="S4.SS2.p2.6.m5.1.1.cmml"><mrow id="S4.SS2.p2.6.m5.1.1.3" xref="S4.SS2.p2.6.m5.1.1.3.cmml"><msub id="S4.SS2.p2.6.m5.1.1.3.1" xref="S4.SS2.p2.6.m5.1.1.3.1.cmml"><mo id="S4.SS2.p2.6.m5.1.1.3.1.2" xref="S4.SS2.p2.6.m5.1.1.3.1.2.cmml">∇</mo><msup id="S4.SS2.p2.6.m5.1.1.3.1.3" xref="S4.SS2.p2.6.m5.1.1.3.1.3.cmml"><mi id="S4.SS2.p2.6.m5.1.1.3.1.3.2" xref="S4.SS2.p2.6.m5.1.1.3.1.3.2.cmml">𝐏</mi><mi id="S4.SS2.p2.6.m5.1.1.3.1.3.3" xref="S4.SS2.p2.6.m5.1.1.3.1.3.3.cmml">t</mi></msup></msub><msub id="S4.SS2.p2.6.m5.1.1.3.2" xref="S4.SS2.p2.6.m5.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.6.m5.1.1.3.2.2" xref="S4.SS2.p2.6.m5.1.1.3.2.2.cmml">ℒ</mi><msup id="S4.SS2.p2.6.m5.1.1.3.2.3" xref="S4.SS2.p2.6.m5.1.1.3.2.3.cmml"><mi id="S4.SS2.p2.6.m5.1.1.3.2.3.2" xref="S4.SS2.p2.6.m5.1.1.3.2.3.2.cmml">θ</mi><mi id="S4.SS2.p2.6.m5.1.1.3.2.3.3" xref="S4.SS2.p2.6.m5.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.6.m5.1.1.2" xref="S4.SS2.p2.6.m5.1.1.2.cmml">​</mo><mrow id="S4.SS2.p2.6.m5.1.1.1.1" xref="S4.SS2.p2.6.m5.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p2.6.m5.1.1.1.1.2" xref="S4.SS2.p2.6.m5.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.p2.6.m5.1.1.1.1.1" xref="S4.SS2.p2.6.m5.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.6.m5.1.1.1.1.1.2" xref="S4.SS2.p2.6.m5.1.1.1.1.1.2.cmml">ℬ</mi><mi id="S4.SS2.p2.6.m5.1.1.1.1.1.3" xref="S4.SS2.p2.6.m5.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS2.p2.6.m5.1.1.1.1.3" xref="S4.SS2.p2.6.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m5.1b"><apply id="S4.SS2.p2.6.m5.1.1.cmml" xref="S4.SS2.p2.6.m5.1.1"><times id="S4.SS2.p2.6.m5.1.1.2.cmml" xref="S4.SS2.p2.6.m5.1.1.2"></times><apply id="S4.SS2.p2.6.m5.1.1.3.cmml" xref="S4.SS2.p2.6.m5.1.1.3"><apply id="S4.SS2.p2.6.m5.1.1.3.1.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m5.1.1.3.1.1.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1">subscript</csymbol><ci id="S4.SS2.p2.6.m5.1.1.3.1.2.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1.2">∇</ci><apply id="S4.SS2.p2.6.m5.1.1.3.1.3.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1.3"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m5.1.1.3.1.3.1.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1.3">superscript</csymbol><ci id="S4.SS2.p2.6.m5.1.1.3.1.3.2.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1.3.2">𝐏</ci><ci id="S4.SS2.p2.6.m5.1.1.3.1.3.3.cmml" xref="S4.SS2.p2.6.m5.1.1.3.1.3.3">𝑡</ci></apply></apply><apply id="S4.SS2.p2.6.m5.1.1.3.2.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m5.1.1.3.2.1.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2">subscript</csymbol><ci id="S4.SS2.p2.6.m5.1.1.3.2.2.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2.2">ℒ</ci><apply id="S4.SS2.p2.6.m5.1.1.3.2.3.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m5.1.1.3.2.3.1.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2.3">superscript</csymbol><ci id="S4.SS2.p2.6.m5.1.1.3.2.3.2.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2.3.2">𝜃</ci><ci id="S4.SS2.p2.6.m5.1.1.3.2.3.3.cmml" xref="S4.SS2.p2.6.m5.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="S4.SS2.p2.6.m5.1.1.1.1.1.cmml" xref="S4.SS2.p2.6.m5.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m5.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.6.m5.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p2.6.m5.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.6.m5.1.1.1.1.1.2">ℬ</ci><ci id="S4.SS2.p2.6.m5.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.6.m5.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m5.1c">\nabla_{\mathbf{P}^{t}}\mathcal{L}_{\theta^{t}}(\mathcal{B}_{i})</annotation></semantics></math>.<span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>We assume that sentences in one batch vary in length. A standard practice is to pad shorter sentences.</span></span></span> Note that this step only determines the set of words but not their <span id="S4.SS2.p2.6.2" class="ltx_text ltx_font_italic">frequency</span>. In practice, we find that augmenting our beam search with an n-gram penalty (Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>) can compensate for this lack of information.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Beam Search for Sentence Reconstruction</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p"><span id="S4.SS3.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Input:<span id="S4.SS3.p1.1.1.1" class="ltx_text ltx_font_medium"> <math id="S4.SS3.p1.1.1.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS3.p1.1.1.1.m1.1a"><mi id="S4.SS3.p1.1.1.1.m1.1.1" xref="S4.SS3.p1.1.1.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.1.1.m1.1b"><ci id="S4.SS3.p1.1.1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.1.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.1.1.m1.1c">B</annotation></semantics></math>, the bag of private words recovered by Sec. <a href="#S4.SS2" title="4.2 Bag-of-Words Extraction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>.</span></span></p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Output:<span id="S4.SS3.p2.1.1.1" class="ltx_text ltx_font_medium"> a recovered sentence from the batch, <span id="S4.SS3.p2.1.1.1.1" class="ltx_text ltx_font_typewriter">‘‘The mouse chases the cat."</span>.
</span></span></p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.4" class="ltx_p">The second stage of our attack is to recover <span id="S4.SS3.p3.4.1" class="ltx_text ltx_font_italic">one</span> sentence based on the extracted bag of words <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">B</annotation></semantics></math> and the learned probability distribution of text <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><mrow id="S4.SS3.p3.2.m2.1.2" xref="S4.SS3.p3.2.m2.1.2.cmml"><msub id="S4.SS3.p3.2.m2.1.2.2" xref="S4.SS3.p3.2.m2.1.2.2.cmml"><mtext id="S4.SS3.p3.2.m2.1.2.2.2" xref="S4.SS3.p3.2.m2.1.2.2.2a.cmml">IP</mtext><msup id="S4.SS3.p3.2.m2.1.2.2.3" xref="S4.SS3.p3.2.m2.1.2.2.3.cmml"><mi id="S4.SS3.p3.2.m2.1.2.2.3.2" xref="S4.SS3.p3.2.m2.1.2.2.3.2.cmml">θ</mi><mi id="S4.SS3.p3.2.m2.1.2.2.3.3" xref="S4.SS3.p3.2.m2.1.2.2.3.3.cmml">t</mi></msup></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p3.2.m2.1.2.1" xref="S4.SS3.p3.2.m2.1.2.1.cmml">​</mo><mrow id="S4.SS3.p3.2.m2.1.2.3.2" xref="S4.SS3.p3.2.m2.1.2.cmml"><mo stretchy="false" id="S4.SS3.p3.2.m2.1.2.3.2.1" xref="S4.SS3.p3.2.m2.1.2.cmml">(</mo><mi id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">𝐱</mi><mo stretchy="false" id="S4.SS3.p3.2.m2.1.2.3.2.2" xref="S4.SS3.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><apply id="S4.SS3.p3.2.m2.1.2.cmml" xref="S4.SS3.p3.2.m2.1.2"><times id="S4.SS3.p3.2.m2.1.2.1.cmml" xref="S4.SS3.p3.2.m2.1.2.1"></times><apply id="S4.SS3.p3.2.m2.1.2.2.cmml" xref="S4.SS3.p3.2.m2.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.2.2.1.cmml" xref="S4.SS3.p3.2.m2.1.2.2">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.2.2.2a.cmml" xref="S4.SS3.p3.2.m2.1.2.2.2"><mtext id="S4.SS3.p3.2.m2.1.2.2.2.cmml" xref="S4.SS3.p3.2.m2.1.2.2.2">IP</mtext></ci><apply id="S4.SS3.p3.2.m2.1.2.2.3.cmml" xref="S4.SS3.p3.2.m2.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.2.2.3.1.cmml" xref="S4.SS3.p3.2.m2.1.2.2.3">superscript</csymbol><ci id="S4.SS3.p3.2.m2.1.2.2.3.2.cmml" xref="S4.SS3.p3.2.m2.1.2.2.3.2">𝜃</ci><ci id="S4.SS3.p3.2.m2.1.2.2.3.3.cmml" xref="S4.SS3.p3.2.m2.1.2.2.3.3">𝑡</ci></apply></apply><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})</annotation></semantics></math> at training step <math id="S4.SS3.p3.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p3.3.m3.1a"><mi id="S4.SS3.p3.3.m3.1.1" xref="S4.SS3.p3.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m3.1b"><ci id="S4.SS3.p3.3.m3.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m3.1c">t</annotation></semantics></math>. Since it is intractable to generate text directly using <math id="S4.SS3.p3.4.m4.1" class="ltx_Math" alttext="\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})" display="inline"><semantics id="S4.SS3.p3.4.m4.1a"><mrow id="S4.SS3.p3.4.m4.1.2" xref="S4.SS3.p3.4.m4.1.2.cmml"><msub id="S4.SS3.p3.4.m4.1.2.2" xref="S4.SS3.p3.4.m4.1.2.2.cmml"><mtext id="S4.SS3.p3.4.m4.1.2.2.2" xref="S4.SS3.p3.4.m4.1.2.2.2a.cmml">IP</mtext><msup id="S4.SS3.p3.4.m4.1.2.2.3" xref="S4.SS3.p3.4.m4.1.2.2.3.cmml"><mi id="S4.SS3.p3.4.m4.1.2.2.3.2" xref="S4.SS3.p3.4.m4.1.2.2.3.2.cmml">θ</mi><mi id="S4.SS3.p3.4.m4.1.2.2.3.3" xref="S4.SS3.p3.4.m4.1.2.2.3.3.cmml">t</mi></msup></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p3.4.m4.1.2.1" xref="S4.SS3.p3.4.m4.1.2.1.cmml">​</mo><mrow id="S4.SS3.p3.4.m4.1.2.3.2" xref="S4.SS3.p3.4.m4.1.2.cmml"><mo stretchy="false" id="S4.SS3.p3.4.m4.1.2.3.2.1" xref="S4.SS3.p3.4.m4.1.2.cmml">(</mo><mi id="S4.SS3.p3.4.m4.1.1" xref="S4.SS3.p3.4.m4.1.1.cmml">𝐱</mi><mo stretchy="false" id="S4.SS3.p3.4.m4.1.2.3.2.2" xref="S4.SS3.p3.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.4.m4.1b"><apply id="S4.SS3.p3.4.m4.1.2.cmml" xref="S4.SS3.p3.4.m4.1.2"><times id="S4.SS3.p3.4.m4.1.2.1.cmml" xref="S4.SS3.p3.4.m4.1.2.1"></times><apply id="S4.SS3.p3.4.m4.1.2.2.cmml" xref="S4.SS3.p3.4.m4.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.p3.4.m4.1.2.2.1.cmml" xref="S4.SS3.p3.4.m4.1.2.2">subscript</csymbol><ci id="S4.SS3.p3.4.m4.1.2.2.2a.cmml" xref="S4.SS3.p3.4.m4.1.2.2.2"><mtext id="S4.SS3.p3.4.m4.1.2.2.2.cmml" xref="S4.SS3.p3.4.m4.1.2.2.2">IP</mtext></ci><apply id="S4.SS3.p3.4.m4.1.2.2.3.cmml" xref="S4.SS3.p3.4.m4.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.p3.4.m4.1.2.2.3.1.cmml" xref="S4.SS3.p3.4.m4.1.2.2.3">superscript</csymbol><ci id="S4.SS3.p3.4.m4.1.2.2.3.2.cmml" xref="S4.SS3.p3.4.m4.1.2.2.3.2">𝜃</ci><ci id="S4.SS3.p3.4.m4.1.2.2.3.3.cmml" xref="S4.SS3.p3.4.m4.1.2.2.3.3">𝑡</ci></apply></apply><ci id="S4.SS3.p3.4.m4.1.1.cmml" xref="S4.SS3.p3.4.m4.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.4.m4.1c">\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})</annotation></semantics></math>, we use the beam search <cite class="ltx_cite ltx_citemacro_cite">Reddy et al. (<a href="#bib.bib45" title="" class="ltx_ref">1977</a>); Russell &amp; Norvig (<a href="#bib.bib46" title="" class="ltx_ref">2010</a>)</cite>, which is a greedy auto-regressive algorithm to generate sequences in a step-by-step manner with a trained language model. We provide a detailed algorithm in Appendix <a href="#A1" title="Appendix A Beam Search Algorithm ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.6" class="ltx_p">To initiate the beam search, we first find a set of words that can be chosen as starting tokens of sentences. A straightforward method is to select words that begin with a capital letter from <math id="S4.SS3.p4.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS3.p4.1.m1.1a"><mi id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><ci id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">B</annotation></semantics></math>. For example, we would select <span id="S4.SS3.p4.6.2" class="ltx_text ltx_font_typewriter">‘‘Let"</span> and <span id="S4.SS3.p4.6.3" class="ltx_text ltx_font_typewriter">‘‘My"</span> as possible prompts for the illustrated batch. Then at each beam search step, we keep the top <math id="S4.SS3.p4.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p4.2.m2.1a"><mi id="S4.SS3.p4.2.m2.1.1" xref="S4.SS3.p4.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.2.m2.1b"><ci id="S4.SS3.p4.2.m2.1.1.cmml" xref="S4.SS3.p4.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.2.m2.1c">k</annotation></semantics></math> possible beam states, find the <math id="S4.SS3.p4.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p4.3.m3.1a"><mi id="S4.SS3.p4.3.m3.1.1" xref="S4.SS3.p4.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.3.m3.1b"><ci id="S4.SS3.p4.3.m3.1.1.cmml" xref="S4.SS3.p4.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.3.m3.1c">k</annotation></semantics></math> most likely next words to each beam by using the language model (see procedure <span id="S4.SS3.p4.4.1" class="ltx_text ltx_font_smallcaps">Top(<math id="S4.SS3.p4.4.1.m1.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="S4.SS3.p4.4.1.m1.1a"><mo id="S4.SS3.p4.4.1.m1.1.1" xref="S4.SS3.p4.4.1.m1.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.4.1.m1.1b"><ci id="S4.SS3.p4.4.1.m1.1.1.cmml" xref="S4.SS3.p4.4.1.m1.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.4.1.m1.1c">\cdot</annotation></semantics></math>)</span> in Appendix <a href="#A1" title="Appendix A Beam Search Algorithm ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>, Algorithm <a href="#alg1" title="Algorithm 1 ‣ Appendix A Beam Search Algorithm ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), and keeps the top <math id="S4.SS3.p4.5.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p4.5.m4.1a"><mi id="S4.SS3.p4.5.m4.1.1" xref="S4.SS3.p4.5.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.5.m4.1b"><ci id="S4.SS3.p4.5.m4.1.1.cmml" xref="S4.SS3.p4.5.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.5.m4.1c">k</annotation></semantics></math> new beam states. The beam tree continues until the generated sentence reaches a specified length (we use <math id="S4.SS3.p4.6.m5.1" class="ltx_Math" alttext="40" display="inline"><semantics id="S4.SS3.p4.6.m5.1a"><mn id="S4.SS3.p4.6.m5.1.1" xref="S4.SS3.p4.6.m5.1.1.cmml">40</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.6.m5.1b"><cn type="integer" id="S4.SS3.p4.6.m5.1.1.cmml" xref="S4.SS3.p4.6.m5.1.1">40</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.6.m5.1c">40</annotation></semantics></math> words), and outputs the text that has the overall highest probability (see Fig. <a href="#S4.F2" title="Figure 2 ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.4" class="ltx_p">As the bag of words <math id="S4.SS3.p5.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.SS3.p5.1.m1.1a"><mi id="S4.SS3.p5.1.m1.1.1" xref="S4.SS3.p5.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.1.m1.1b"><ci id="S4.SS3.p5.1.m1.1.1.cmml" xref="S4.SS3.p5.1.m1.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.1.m1.1c">B</annotation></semantics></math> does not contain information on the frequency of each word in the sentence, and beam search is prone to generating repetitive content <cite class="ltx_cite ltx_citemacro_cite">Holtzman et al. (<a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite>, we also include a penalty for repeated <math id="S4.SS3.p5.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p5.2.m2.1a"><mi id="S4.SS3.p5.2.m2.1.1" xref="S4.SS3.p5.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.2.m2.1b"><ci id="S4.SS3.p5.2.m2.1.1.cmml" xref="S4.SS3.p5.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.2.m2.1c">n</annotation></semantics></math>-grams <cite class="ltx_cite ltx_citemacro_cite">Vijayakumar et al. (<a href="#bib.bib50" title="" class="ltx_ref">2016</a>)</cite> in a sentence (see line <a href="#alg1" title="Algorithm 1 ‣ Appendix A Beam Search Algorithm ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> in procedure <span id="S4.SS3.p5.3.1" class="ltx_text ltx_font_smallcaps">Top(<math id="S4.SS3.p5.3.1.m1.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="S4.SS3.p5.3.1.m1.1a"><mo id="S4.SS3.p5.3.1.m1.1.1" xref="S4.SS3.p5.3.1.m1.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.3.1.m1.1b"><ci id="S4.SS3.p5.3.1.m1.1.1.cmml" xref="S4.SS3.p5.3.1.m1.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.3.1.m1.1c">\cdot</annotation></semantics></math>)</span>). Noticeably, we compare the performance of our attack with an oracle scenario where the attacker knows the frequency of each word in Fig. <a href="#S7.F5" title="Figure 5 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, and find that adding an n-gram penalty (<math id="S4.SS3.p5.4.m3.1" class="ltx_Math" alttext="n=2" display="inline"><semantics id="S4.SS3.p5.4.m3.1a"><mrow id="S4.SS3.p5.4.m3.1.1" xref="S4.SS3.p5.4.m3.1.1.cmml"><mi id="S4.SS3.p5.4.m3.1.1.2" xref="S4.SS3.p5.4.m3.1.1.2.cmml">n</mi><mo id="S4.SS3.p5.4.m3.1.1.1" xref="S4.SS3.p5.4.m3.1.1.1.cmml">=</mo><mn id="S4.SS3.p5.4.m3.1.1.3" xref="S4.SS3.p5.4.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.4.m3.1b"><apply id="S4.SS3.p5.4.m3.1.1.cmml" xref="S4.SS3.p5.4.m3.1.1"><eq id="S4.SS3.p5.4.m3.1.1.1.cmml" xref="S4.SS3.p5.4.m3.1.1.1"></eq><ci id="S4.SS3.p5.4.m3.1.1.2.cmml" xref="S4.SS3.p5.4.m3.1.1.2">𝑛</ci><cn type="integer" id="S4.SS3.p5.4.m3.1.1.3.cmml" xref="S4.SS3.p5.4.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.4.m3.1c">n=2</annotation></semantics></math>) can achieve performance comparable without frequency information.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Prior-Guided Token Reordering</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p"><span id="S4.SS4.p1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Input:<span id="S4.SS4.p1.1.1.1" class="ltx_text ltx_font_medium"> a recovered sentence from Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>, <span id="S4.SS4.p1.1.1.1.1" class="ltx_text ltx_font_typewriter">‘‘The mouse chases the cat."</span></span></span></p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p"><span id="S4.SS4.p2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Output:<span id="S4.SS4.p2.1.1.1" class="ltx_text ltx_font_medium"> a reordered sentence, <span id="S4.SS4.p2.1.1.1.1" class="ltx_text ltx_font_typewriter">‘‘The cat chases the mouse."</span>
</span></span></p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.3" class="ltx_p">By construction, beam search is a greedy method that generates sentences from left to right. Despite that it generally produces fluent sentences by maximizing <math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mrow id="S4.SS4.p3.1.m1.1.2" xref="S4.SS4.p3.1.m1.1.2.cmml"><msub id="S4.SS4.p3.1.m1.1.2.2" xref="S4.SS4.p3.1.m1.1.2.2.cmml"><mtext id="S4.SS4.p3.1.m1.1.2.2.2" xref="S4.SS4.p3.1.m1.1.2.2.2a.cmml">IP</mtext><msup id="S4.SS4.p3.1.m1.1.2.2.3" xref="S4.SS4.p3.1.m1.1.2.2.3.cmml"><mi id="S4.SS4.p3.1.m1.1.2.2.3.2" xref="S4.SS4.p3.1.m1.1.2.2.3.2.cmml">θ</mi><mi id="S4.SS4.p3.1.m1.1.2.2.3.3" xref="S4.SS4.p3.1.m1.1.2.2.3.3.cmml">t</mi></msup></msub><mo lspace="0em" rspace="0em" id="S4.SS4.p3.1.m1.1.2.1" xref="S4.SS4.p3.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS4.p3.1.m1.1.2.3.2" xref="S4.SS4.p3.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS4.p3.1.m1.1.2.3.2.1" xref="S4.SS4.p3.1.m1.1.2.cmml">(</mo><mi id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">𝐱</mi><mo stretchy="false" id="S4.SS4.p3.1.m1.1.2.3.2.2" xref="S4.SS4.p3.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><apply id="S4.SS4.p3.1.m1.1.2.cmml" xref="S4.SS4.p3.1.m1.1.2"><times id="S4.SS4.p3.1.m1.1.2.1.cmml" xref="S4.SS4.p3.1.m1.1.2.1"></times><apply id="S4.SS4.p3.1.m1.1.2.2.cmml" xref="S4.SS4.p3.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.1.2.2.1.cmml" xref="S4.SS4.p3.1.m1.1.2.2">subscript</csymbol><ci id="S4.SS4.p3.1.m1.1.2.2.2a.cmml" xref="S4.SS4.p3.1.m1.1.2.2.2"><mtext id="S4.SS4.p3.1.m1.1.2.2.2.cmml" xref="S4.SS4.p3.1.m1.1.2.2.2">IP</mtext></ci><apply id="S4.SS4.p3.1.m1.1.2.2.3.cmml" xref="S4.SS4.p3.1.m1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.1.2.2.3.1.cmml" xref="S4.SS4.p3.1.m1.1.2.2.3">superscript</csymbol><ci id="S4.SS4.p3.1.m1.1.2.2.3.2.cmml" xref="S4.SS4.p3.1.m1.1.2.2.3.2">𝜃</ci><ci id="S4.SS4.p3.1.m1.1.2.2.3.3.cmml" xref="S4.SS4.p3.1.m1.1.2.2.3.3">𝑡</ci></apply></apply><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\text{I\kern-1.49994ptP}_{\theta^{t}}(\mathbf{x})</annotation></semantics></math>, it does not leverage the <span id="S4.SS4.p3.3.1" class="ltx_text ltx_font_italic">gradients</span> information which is the main signal in previous image attack methods. We also notice that beam search may recover the general structure of the sentence, while failing to recover the order of specific phrases or words. Thus, the final stage of our attack is to reorder tokens in the extracted sentence from the previous step, with the objective to improve its quality measured by a prior-based scoring function. The scoring function leverages both the perplexity and the gradient norm.
Formally, given a sentence <math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><mi id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><ci id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">\mathbf{x}</annotation></semantics></math>, its prior score <math id="S4.SS4.p3.3.m3.1" class="ltx_Math" alttext="\mathcal{S}_{\theta}(\mathbf{x})" display="inline"><semantics id="S4.SS4.p3.3.m3.1a"><mrow id="S4.SS4.p3.3.m3.1.2" xref="S4.SS4.p3.3.m3.1.2.cmml"><msub id="S4.SS4.p3.3.m3.1.2.2" xref="S4.SS4.p3.3.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p3.3.m3.1.2.2.2" xref="S4.SS4.p3.3.m3.1.2.2.2.cmml">𝒮</mi><mi id="S4.SS4.p3.3.m3.1.2.2.3" xref="S4.SS4.p3.3.m3.1.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS4.p3.3.m3.1.2.1" xref="S4.SS4.p3.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS4.p3.3.m3.1.2.3.2" xref="S4.SS4.p3.3.m3.1.2.cmml"><mo stretchy="false" id="S4.SS4.p3.3.m3.1.2.3.2.1" xref="S4.SS4.p3.3.m3.1.2.cmml">(</mo><mi id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml">𝐱</mi><mo stretchy="false" id="S4.SS4.p3.3.m3.1.2.3.2.2" xref="S4.SS4.p3.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><apply id="S4.SS4.p3.3.m3.1.2.cmml" xref="S4.SS4.p3.3.m3.1.2"><times id="S4.SS4.p3.3.m3.1.2.1.cmml" xref="S4.SS4.p3.3.m3.1.2.1"></times><apply id="S4.SS4.p3.3.m3.1.2.2.cmml" xref="S4.SS4.p3.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.1.2.2.1.cmml" xref="S4.SS4.p3.3.m3.1.2.2">subscript</csymbol><ci id="S4.SS4.p3.3.m3.1.2.2.2.cmml" xref="S4.SS4.p3.3.m3.1.2.2.2">𝒮</ci><ci id="S4.SS4.p3.3.m3.1.2.2.3.cmml" xref="S4.SS4.p3.3.m3.1.2.2.3">𝜃</ci></apply><ci id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">\mathcal{S}_{\theta}(\mathbf{x})</annotation></semantics></math> is defined as:</p>
<table id="S4.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E4.m1.7" class="ltx_Math" alttext="{\small\mathcal{S}_{\theta}(\mathbf{x})=\underbrace{\exp\left\{-\frac{1}{n}\log\text{I\kern-1.34995ptP}_{\theta}(\mathbf{x})\right\}}_{\text{Perplexity}}+\beta\underbrace{\|\nabla_{\theta}\mathcal{L}_{\theta}(\mathbf{x})\|}_{\text{Gradient Norm}}},\vspace{1mm}" display="block"><semantics id="S4.E4.m1.7a"><mrow id="S4.E4.m1.7.7.1" xref="S4.E4.m1.7.7.1.1.cmml"><mrow id="S4.E4.m1.7.7.1.1" xref="S4.E4.m1.7.7.1.1.cmml"><mrow id="S4.E4.m1.7.7.1.1.2" xref="S4.E4.m1.7.7.1.1.2.cmml"><msub id="S4.E4.m1.7.7.1.1.2.2" xref="S4.E4.m1.7.7.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E4.m1.7.7.1.1.2.2.2" xref="S4.E4.m1.7.7.1.1.2.2.2.cmml">𝒮</mi><mi mathsize="90%" id="S4.E4.m1.7.7.1.1.2.2.3" xref="S4.E4.m1.7.7.1.1.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.E4.m1.7.7.1.1.2.1" xref="S4.E4.m1.7.7.1.1.2.1.cmml">​</mo><mrow id="S4.E4.m1.7.7.1.1.2.3.2" xref="S4.E4.m1.7.7.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.7.7.1.1.2.3.2.1" xref="S4.E4.m1.7.7.1.1.2.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.6.6" xref="S4.E4.m1.6.6.cmml">𝐱</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.7.7.1.1.2.3.2.2" xref="S4.E4.m1.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo mathsize="90%" id="S4.E4.m1.7.7.1.1.1" xref="S4.E4.m1.7.7.1.1.1.cmml">=</mo><mrow id="S4.E4.m1.7.7.1.1.3" xref="S4.E4.m1.7.7.1.1.3.cmml"><munder id="S4.E4.m1.7.7.1.1.3.2" xref="S4.E4.m1.7.7.1.1.3.2.cmml"><munder accentunder="true" id="S4.E4.m1.3.3" xref="S4.E4.m1.3.3.cmml"><mrow id="S4.E4.m1.3.3.3.3" xref="S4.E4.m1.3.3.3.4.cmml"><mi mathsize="90%" id="S4.E4.m1.2.2.2.2" xref="S4.E4.m1.2.2.2.2.cmml">exp</mi><mo id="S4.E4.m1.3.3.3.3a" xref="S4.E4.m1.3.3.3.4.cmml">⁡</mo><mrow id="S4.E4.m1.3.3.3.3.1" xref="S4.E4.m1.3.3.3.4.cmml"><mo id="S4.E4.m1.3.3.3.3.1.2" xref="S4.E4.m1.3.3.3.4.cmml">{</mo><mrow id="S4.E4.m1.3.3.3.3.1.1" xref="S4.E4.m1.3.3.3.3.1.1.cmml"><mo mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1a" xref="S4.E4.m1.3.3.3.3.1.1.cmml">−</mo><mrow id="S4.E4.m1.3.3.3.3.1.1.2" xref="S4.E4.m1.3.3.3.3.1.1.2.cmml"><mfrac id="S4.E4.m1.3.3.3.3.1.1.2.2" xref="S4.E4.m1.3.3.3.3.1.1.2.2.cmml"><mn mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.2.2" xref="S4.E4.m1.3.3.3.3.1.1.2.2.2.cmml">1</mn><mi mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.2.3" xref="S4.E4.m1.3.3.3.3.1.1.2.2.3.cmml">n</mi></mfrac><mo lspace="0.167em" rspace="0em" id="S4.E4.m1.3.3.3.3.1.1.2.1" xref="S4.E4.m1.3.3.3.3.1.1.2.1.cmml">​</mo><mrow id="S4.E4.m1.3.3.3.3.1.1.2.3" xref="S4.E4.m1.3.3.3.3.1.1.2.3.cmml"><mi mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.3.1" xref="S4.E4.m1.3.3.3.3.1.1.2.3.1.cmml">log</mi><mo lspace="0.167em" id="S4.E4.m1.3.3.3.3.1.1.2.3a" xref="S4.E4.m1.3.3.3.3.1.1.2.3.cmml">⁡</mo><msub id="S4.E4.m1.3.3.3.3.1.1.2.3.2" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.cmml"><mtext mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.3.2.2" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.2a.cmml">IP</mtext><mi mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.3.2.3" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E4.m1.3.3.3.3.1.1.2.1a" xref="S4.E4.m1.3.3.3.3.1.1.2.1.cmml">​</mo><mrow id="S4.E4.m1.3.3.3.3.1.1.2.4.2" xref="S4.E4.m1.3.3.3.3.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.4.2.1" xref="S4.E4.m1.3.3.3.3.1.1.2.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml">𝐱</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.4.2.2" xref="S4.E4.m1.3.3.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.3.3.3.3.1.3" xref="S4.E4.m1.3.3.3.4.cmml">}</mo></mrow></mrow><mo mathsize="90%" id="S4.E4.m1.3.3.4" xref="S4.E4.m1.3.3.4.cmml">⏟</mo></munder><mtext mathsize="90%" id="S4.E4.m1.7.7.1.1.3.2.2" xref="S4.E4.m1.7.7.1.1.3.2.2a.cmml">Perplexity</mtext></munder><mo mathsize="90%" id="S4.E4.m1.7.7.1.1.3.1" xref="S4.E4.m1.7.7.1.1.3.1.cmml">+</mo><mrow id="S4.E4.m1.7.7.1.1.3.3" xref="S4.E4.m1.7.7.1.1.3.3.cmml"><mi mathsize="90%" id="S4.E4.m1.7.7.1.1.3.3.2" xref="S4.E4.m1.7.7.1.1.3.3.2.cmml">β</mi><mo lspace="0em" rspace="0em" id="S4.E4.m1.7.7.1.1.3.3.1" xref="S4.E4.m1.7.7.1.1.3.3.1.cmml">​</mo><munder id="S4.E4.m1.7.7.1.1.3.3.3" xref="S4.E4.m1.7.7.1.1.3.3.3.cmml"><munder accentunder="true" id="S4.E4.m1.5.5" xref="S4.E4.m1.5.5.cmml"><mrow id="S4.E4.m1.5.5.2.2" xref="S4.E4.m1.5.5.2.3.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.5.5.2.2.2" xref="S4.E4.m1.5.5.2.3.1.cmml">‖</mo><mrow id="S4.E4.m1.5.5.2.2.1" xref="S4.E4.m1.5.5.2.2.1.cmml"><mrow id="S4.E4.m1.5.5.2.2.1.2" xref="S4.E4.m1.5.5.2.2.1.2.cmml"><msub id="S4.E4.m1.5.5.2.2.1.2.1" xref="S4.E4.m1.5.5.2.2.1.2.1.cmml"><mo mathsize="90%" rspace="0.167em" id="S4.E4.m1.5.5.2.2.1.2.1.2" xref="S4.E4.m1.5.5.2.2.1.2.1.2.cmml">∇</mo><mi mathsize="90%" id="S4.E4.m1.5.5.2.2.1.2.1.3" xref="S4.E4.m1.5.5.2.2.1.2.1.3.cmml">θ</mi></msub><msub id="S4.E4.m1.5.5.2.2.1.2.2" xref="S4.E4.m1.5.5.2.2.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="S4.E4.m1.5.5.2.2.1.2.2.2" xref="S4.E4.m1.5.5.2.2.1.2.2.2.cmml">ℒ</mi><mi mathsize="90%" id="S4.E4.m1.5.5.2.2.1.2.2.3" xref="S4.E4.m1.5.5.2.2.1.2.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E4.m1.5.5.2.2.1.1" xref="S4.E4.m1.5.5.2.2.1.1.cmml">​</mo><mrow id="S4.E4.m1.5.5.2.2.1.3.2" xref="S4.E4.m1.5.5.2.2.1.cmml"><mo maxsize="90%" minsize="90%" id="S4.E4.m1.5.5.2.2.1.3.2.1" xref="S4.E4.m1.5.5.2.2.1.cmml">(</mo><mi mathsize="90%" id="S4.E4.m1.4.4.1.1" xref="S4.E4.m1.4.4.1.1.cmml">𝐱</mi><mo maxsize="90%" minsize="90%" id="S4.E4.m1.5.5.2.2.1.3.2.2" xref="S4.E4.m1.5.5.2.2.1.cmml">)</mo></mrow></mrow><mo maxsize="90%" minsize="90%" id="S4.E4.m1.5.5.2.2.3" xref="S4.E4.m1.5.5.2.3.1.cmml">‖</mo></mrow><mo mathsize="90%" id="S4.E4.m1.5.5.3" xref="S4.E4.m1.5.5.3.cmml">⏟</mo></munder><mtext mathsize="90%" id="S4.E4.m1.7.7.1.1.3.3.3.2" xref="S4.E4.m1.7.7.1.1.3.3.3.2a.cmml">Gradient Norm</mtext></munder></mrow></mrow></mrow><mo id="S4.E4.m1.7.7.1.2" xref="S4.E4.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.7b"><apply id="S4.E4.m1.7.7.1.1.cmml" xref="S4.E4.m1.7.7.1"><eq id="S4.E4.m1.7.7.1.1.1.cmml" xref="S4.E4.m1.7.7.1.1.1"></eq><apply id="S4.E4.m1.7.7.1.1.2.cmml" xref="S4.E4.m1.7.7.1.1.2"><times id="S4.E4.m1.7.7.1.1.2.1.cmml" xref="S4.E4.m1.7.7.1.1.2.1"></times><apply id="S4.E4.m1.7.7.1.1.2.2.cmml" xref="S4.E4.m1.7.7.1.1.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.7.7.1.1.2.2.1.cmml" xref="S4.E4.m1.7.7.1.1.2.2">subscript</csymbol><ci id="S4.E4.m1.7.7.1.1.2.2.2.cmml" xref="S4.E4.m1.7.7.1.1.2.2.2">𝒮</ci><ci id="S4.E4.m1.7.7.1.1.2.2.3.cmml" xref="S4.E4.m1.7.7.1.1.2.2.3">𝜃</ci></apply><ci id="S4.E4.m1.6.6.cmml" xref="S4.E4.m1.6.6">𝐱</ci></apply><apply id="S4.E4.m1.7.7.1.1.3.cmml" xref="S4.E4.m1.7.7.1.1.3"><plus id="S4.E4.m1.7.7.1.1.3.1.cmml" xref="S4.E4.m1.7.7.1.1.3.1"></plus><apply id="S4.E4.m1.7.7.1.1.3.2.cmml" xref="S4.E4.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.7.7.1.1.3.2.1.cmml" xref="S4.E4.m1.7.7.1.1.3.2">subscript</csymbol><apply id="S4.E4.m1.3.3.cmml" xref="S4.E4.m1.3.3"><ci id="S4.E4.m1.3.3.4.cmml" xref="S4.E4.m1.3.3.4">⏟</ci><apply id="S4.E4.m1.3.3.3.4.cmml" xref="S4.E4.m1.3.3.3.3"><exp id="S4.E4.m1.2.2.2.2.cmml" xref="S4.E4.m1.2.2.2.2"></exp><apply id="S4.E4.m1.3.3.3.3.1.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1"><minus id="S4.E4.m1.3.3.3.3.1.1.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1"></minus><apply id="S4.E4.m1.3.3.3.3.1.1.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2"><times id="S4.E4.m1.3.3.3.3.1.1.2.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.1"></times><apply id="S4.E4.m1.3.3.3.3.1.1.2.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.2"><divide id="S4.E4.m1.3.3.3.3.1.1.2.2.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.2"></divide><cn type="integer" id="S4.E4.m1.3.3.3.3.1.1.2.2.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.2.2">1</cn><ci id="S4.E4.m1.3.3.3.3.1.1.2.2.3.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.2.3">𝑛</ci></apply><apply id="S4.E4.m1.3.3.3.3.1.1.2.3.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3"><log id="S4.E4.m1.3.3.3.3.1.1.2.3.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.1"></log><apply id="S4.E4.m1.3.3.3.3.1.1.2.3.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.3.3.1.1.2.3.2.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2">subscript</csymbol><ci id="S4.E4.m1.3.3.3.3.1.1.2.3.2.2a.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.2"><mtext mathsize="90%" id="S4.E4.m1.3.3.3.3.1.1.2.3.2.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.2">IP</mtext></ci><ci id="S4.E4.m1.3.3.3.3.1.1.2.3.2.3.cmml" xref="S4.E4.m1.3.3.3.3.1.1.2.3.2.3">𝜃</ci></apply></apply><ci id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1">𝐱</ci></apply></apply></apply></apply><ci id="S4.E4.m1.7.7.1.1.3.2.2a.cmml" xref="S4.E4.m1.7.7.1.1.3.2.2"><mtext mathsize="63%" id="S4.E4.m1.7.7.1.1.3.2.2.cmml" xref="S4.E4.m1.7.7.1.1.3.2.2">Perplexity</mtext></ci></apply><apply id="S4.E4.m1.7.7.1.1.3.3.cmml" xref="S4.E4.m1.7.7.1.1.3.3"><times id="S4.E4.m1.7.7.1.1.3.3.1.cmml" xref="S4.E4.m1.7.7.1.1.3.3.1"></times><ci id="S4.E4.m1.7.7.1.1.3.3.2.cmml" xref="S4.E4.m1.7.7.1.1.3.3.2">𝛽</ci><apply id="S4.E4.m1.7.7.1.1.3.3.3.cmml" xref="S4.E4.m1.7.7.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.7.7.1.1.3.3.3.1.cmml" xref="S4.E4.m1.7.7.1.1.3.3.3">subscript</csymbol><apply id="S4.E4.m1.5.5.cmml" xref="S4.E4.m1.5.5"><ci id="S4.E4.m1.5.5.3.cmml" xref="S4.E4.m1.5.5.3">⏟</ci><apply id="S4.E4.m1.5.5.2.3.cmml" xref="S4.E4.m1.5.5.2.2"><csymbol cd="latexml" id="S4.E4.m1.5.5.2.3.1.cmml" xref="S4.E4.m1.5.5.2.2.2">norm</csymbol><apply id="S4.E4.m1.5.5.2.2.1.cmml" xref="S4.E4.m1.5.5.2.2.1"><times id="S4.E4.m1.5.5.2.2.1.1.cmml" xref="S4.E4.m1.5.5.2.2.1.1"></times><apply id="S4.E4.m1.5.5.2.2.1.2.cmml" xref="S4.E4.m1.5.5.2.2.1.2"><apply id="S4.E4.m1.5.5.2.2.1.2.1.cmml" xref="S4.E4.m1.5.5.2.2.1.2.1"><csymbol cd="ambiguous" id="S4.E4.m1.5.5.2.2.1.2.1.1.cmml" xref="S4.E4.m1.5.5.2.2.1.2.1">subscript</csymbol><ci id="S4.E4.m1.5.5.2.2.1.2.1.2.cmml" xref="S4.E4.m1.5.5.2.2.1.2.1.2">∇</ci><ci id="S4.E4.m1.5.5.2.2.1.2.1.3.cmml" xref="S4.E4.m1.5.5.2.2.1.2.1.3">𝜃</ci></apply><apply id="S4.E4.m1.5.5.2.2.1.2.2.cmml" xref="S4.E4.m1.5.5.2.2.1.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.5.5.2.2.1.2.2.1.cmml" xref="S4.E4.m1.5.5.2.2.1.2.2">subscript</csymbol><ci id="S4.E4.m1.5.5.2.2.1.2.2.2.cmml" xref="S4.E4.m1.5.5.2.2.1.2.2.2">ℒ</ci><ci id="S4.E4.m1.5.5.2.2.1.2.2.3.cmml" xref="S4.E4.m1.5.5.2.2.1.2.2.3">𝜃</ci></apply></apply><ci id="S4.E4.m1.4.4.1.1.cmml" xref="S4.E4.m1.4.4.1.1">𝐱</ci></apply></apply></apply><ci id="S4.E4.m1.7.7.1.1.3.3.3.2a.cmml" xref="S4.E4.m1.7.7.1.1.3.3.3.2"><mtext mathsize="63%" id="S4.E4.m1.7.7.1.1.3.3.3.2.cmml" xref="S4.E4.m1.7.7.1.1.3.3.3.2">Gradient Norm</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.7c">{\small\mathcal{S}_{\theta}(\mathbf{x})=\underbrace{\exp\left\{-\frac{1}{n}\log\text{I\kern-1.34995ptP}_{\theta}(\mathbf{x})\right\}}_{\text{Perplexity}}+\beta\underbrace{\|\nabla_{\theta}\mathcal{L}_{\theta}(\mathbf{x})\|}_{\text{Gradient Norm}}},\vspace{1mm}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S4.SS4.p3.6" class="ltx_p">where <math id="S4.SS4.p3.4.m1.1" class="ltx_Math" alttext="\log\text{I\kern-1.49994ptP}_{\theta}(\mathbf{x})" display="inline"><semantics id="S4.SS4.p3.4.m1.1a"><mrow id="S4.SS4.p3.4.m1.1.2" xref="S4.SS4.p3.4.m1.1.2.cmml"><mrow id="S4.SS4.p3.4.m1.1.2.2" xref="S4.SS4.p3.4.m1.1.2.2.cmml"><mi id="S4.SS4.p3.4.m1.1.2.2.1" xref="S4.SS4.p3.4.m1.1.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S4.SS4.p3.4.m1.1.2.2a" xref="S4.SS4.p3.4.m1.1.2.2.cmml">⁡</mo><msub id="S4.SS4.p3.4.m1.1.2.2.2" xref="S4.SS4.p3.4.m1.1.2.2.2.cmml"><mtext id="S4.SS4.p3.4.m1.1.2.2.2.2" xref="S4.SS4.p3.4.m1.1.2.2.2.2a.cmml">IP</mtext><mi id="S4.SS4.p3.4.m1.1.2.2.2.3" xref="S4.SS4.p3.4.m1.1.2.2.2.3.cmml">θ</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.SS4.p3.4.m1.1.2.1" xref="S4.SS4.p3.4.m1.1.2.1.cmml">​</mo><mrow id="S4.SS4.p3.4.m1.1.2.3.2" xref="S4.SS4.p3.4.m1.1.2.cmml"><mo stretchy="false" id="S4.SS4.p3.4.m1.1.2.3.2.1" xref="S4.SS4.p3.4.m1.1.2.cmml">(</mo><mi id="S4.SS4.p3.4.m1.1.1" xref="S4.SS4.p3.4.m1.1.1.cmml">𝐱</mi><mo stretchy="false" id="S4.SS4.p3.4.m1.1.2.3.2.2" xref="S4.SS4.p3.4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.4.m1.1b"><apply id="S4.SS4.p3.4.m1.1.2.cmml" xref="S4.SS4.p3.4.m1.1.2"><times id="S4.SS4.p3.4.m1.1.2.1.cmml" xref="S4.SS4.p3.4.m1.1.2.1"></times><apply id="S4.SS4.p3.4.m1.1.2.2.cmml" xref="S4.SS4.p3.4.m1.1.2.2"><log id="S4.SS4.p3.4.m1.1.2.2.1.cmml" xref="S4.SS4.p3.4.m1.1.2.2.1"></log><apply id="S4.SS4.p3.4.m1.1.2.2.2.cmml" xref="S4.SS4.p3.4.m1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.4.m1.1.2.2.2.1.cmml" xref="S4.SS4.p3.4.m1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p3.4.m1.1.2.2.2.2a.cmml" xref="S4.SS4.p3.4.m1.1.2.2.2.2"><mtext id="S4.SS4.p3.4.m1.1.2.2.2.2.cmml" xref="S4.SS4.p3.4.m1.1.2.2.2.2">IP</mtext></ci><ci id="S4.SS4.p3.4.m1.1.2.2.2.3.cmml" xref="S4.SS4.p3.4.m1.1.2.2.2.3">𝜃</ci></apply></apply><ci id="S4.SS4.p3.4.m1.1.1.cmml" xref="S4.SS4.p3.4.m1.1.1">𝐱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.4.m1.1c">\log\text{I\kern-1.49994ptP}_{\theta}(\mathbf{x})</annotation></semantics></math> is the log-likelihood of the sentence (Eq. <a href="#S3.E1" title="Equation 1 ‣ 3.1 Language Modeling ‣ 3 Preliminaries ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) according to the model parameters <math id="S4.SS4.p3.5.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S4.SS4.p3.5.m2.1a"><mi id="S4.SS4.p3.5.m2.1.1" xref="S4.SS4.p3.5.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.5.m2.1b"><ci id="S4.SS4.p3.5.m2.1.1.cmml" xref="S4.SS4.p3.5.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.5.m2.1c">\theta</annotation></semantics></math>, and <math id="S4.SS4.p3.6.m3.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S4.SS4.p3.6.m3.1a"><mi id="S4.SS4.p3.6.m3.1.1" xref="S4.SS4.p3.6.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.6.m3.1b"><ci id="S4.SS4.p3.6.m3.1.1.cmml" xref="S4.SS4.p3.6.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.6.m3.1c">\beta</annotation></semantics></math> is a hyperparameter that controls the importance of gradient norm. Appendix <a href="#A2.SS8" title="B.8 Justification for the Scoring Function in the Reordering Stage ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.8</span></a> provides empirical analysis that supports the design of this scoring function. We conduct two additional steps to reorder both phrases and tokens:</p>
</div>
<section id="S4.SS4.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Phrase-wise reordering.</h4>

<div id="S4.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS4.SSS0.Px1.p1.3" class="ltx_p">We first preprocess the sentence <math id="S4.SS4.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="S4.SS4.SSS0.Px1.p1.1.m1.1a"><mi id="S4.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px1.p1.1.m1.1b"><ci id="S4.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.1.m1.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px1.p1.1.m1.1c">\mathbf{x}</annotation></semantics></math> by removing its redundant segments<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>We notice that the sentences we recover from the previous step may not naturally finish after the beam search generates a punctuation. To address this problem, we preprocess each recovered sentence <math id="footnote6.m1.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="footnote6.m1.1b"><mi id="footnote6.m1.1.1" xref="footnote6.m1.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="footnote6.m1.1c"><ci id="footnote6.m1.1.1.cmml" xref="footnote6.m1.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote6.m1.1d">\mathbf{x}</annotation></semantics></math> by removing segments after its first punctuation, as long as the resulting sentence <math id="footnote6.m2.1" class="ltx_Math" alttext="\mathbf{x^{\prime}}" display="inline"><semantics id="footnote6.m2.1b"><msup id="footnote6.m2.1.1" xref="footnote6.m2.1.1.cmml"><mi id="footnote6.m2.1.1.2" xref="footnote6.m2.1.1.2.cmml">𝐱</mi><mo id="footnote6.m2.1.1.3" xref="footnote6.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="footnote6.m2.1c"><apply id="footnote6.m2.1.1.cmml" xref="footnote6.m2.1.1"><csymbol cd="ambiguous" id="footnote6.m2.1.1.1.cmml" xref="footnote6.m2.1.1">superscript</csymbol><ci id="footnote6.m2.1.1.2.cmml" xref="footnote6.m2.1.1.2">𝐱</ci><ci id="footnote6.m2.1.1.3.cmml" xref="footnote6.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote6.m2.1d">\mathbf{x^{\prime}}</annotation></semantics></math> satisfies <math id="footnote6.m3.2" class="ltx_Math" alttext="\mathcal{S}_{\theta}(\mathbf{x^{\prime}})&lt;\mathcal{S}_{\theta}(\mathbf{x})" display="inline"><semantics id="footnote6.m3.2b"><mrow id="footnote6.m3.2.2" xref="footnote6.m3.2.2.cmml"><mrow id="footnote6.m3.2.2.1" xref="footnote6.m3.2.2.1.cmml"><msub id="footnote6.m3.2.2.1.3" xref="footnote6.m3.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="footnote6.m3.2.2.1.3.2" xref="footnote6.m3.2.2.1.3.2.cmml">𝒮</mi><mi id="footnote6.m3.2.2.1.3.3" xref="footnote6.m3.2.2.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="footnote6.m3.2.2.1.2" xref="footnote6.m3.2.2.1.2.cmml">​</mo><mrow id="footnote6.m3.2.2.1.1.1" xref="footnote6.m3.2.2.1.1.1.1.cmml"><mo stretchy="false" id="footnote6.m3.2.2.1.1.1.2" xref="footnote6.m3.2.2.1.1.1.1.cmml">(</mo><msup id="footnote6.m3.2.2.1.1.1.1" xref="footnote6.m3.2.2.1.1.1.1.cmml"><mi id="footnote6.m3.2.2.1.1.1.1.2" xref="footnote6.m3.2.2.1.1.1.1.2.cmml">𝐱</mi><mo id="footnote6.m3.2.2.1.1.1.1.3" xref="footnote6.m3.2.2.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="footnote6.m3.2.2.1.1.1.3" xref="footnote6.m3.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="footnote6.m3.2.2.2" xref="footnote6.m3.2.2.2.cmml">&lt;</mo><mrow id="footnote6.m3.2.2.3" xref="footnote6.m3.2.2.3.cmml"><msub id="footnote6.m3.2.2.3.2" xref="footnote6.m3.2.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="footnote6.m3.2.2.3.2.2" xref="footnote6.m3.2.2.3.2.2.cmml">𝒮</mi><mi id="footnote6.m3.2.2.3.2.3" xref="footnote6.m3.2.2.3.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="footnote6.m3.2.2.3.1" xref="footnote6.m3.2.2.3.1.cmml">​</mo><mrow id="footnote6.m3.2.2.3.3.2" xref="footnote6.m3.2.2.3.cmml"><mo stretchy="false" id="footnote6.m3.2.2.3.3.2.1" xref="footnote6.m3.2.2.3.cmml">(</mo><mi id="footnote6.m3.1.1" xref="footnote6.m3.1.1.cmml">𝐱</mi><mo stretchy="false" id="footnote6.m3.2.2.3.3.2.2" xref="footnote6.m3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote6.m3.2c"><apply id="footnote6.m3.2.2.cmml" xref="footnote6.m3.2.2"><lt id="footnote6.m3.2.2.2.cmml" xref="footnote6.m3.2.2.2"></lt><apply id="footnote6.m3.2.2.1.cmml" xref="footnote6.m3.2.2.1"><times id="footnote6.m3.2.2.1.2.cmml" xref="footnote6.m3.2.2.1.2"></times><apply id="footnote6.m3.2.2.1.3.cmml" xref="footnote6.m3.2.2.1.3"><csymbol cd="ambiguous" id="footnote6.m3.2.2.1.3.1.cmml" xref="footnote6.m3.2.2.1.3">subscript</csymbol><ci id="footnote6.m3.2.2.1.3.2.cmml" xref="footnote6.m3.2.2.1.3.2">𝒮</ci><ci id="footnote6.m3.2.2.1.3.3.cmml" xref="footnote6.m3.2.2.1.3.3">𝜃</ci></apply><apply id="footnote6.m3.2.2.1.1.1.1.cmml" xref="footnote6.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="footnote6.m3.2.2.1.1.1.1.1.cmml" xref="footnote6.m3.2.2.1.1.1">superscript</csymbol><ci id="footnote6.m3.2.2.1.1.1.1.2.cmml" xref="footnote6.m3.2.2.1.1.1.1.2">𝐱</ci><ci id="footnote6.m3.2.2.1.1.1.1.3.cmml" xref="footnote6.m3.2.2.1.1.1.1.3">′</ci></apply></apply><apply id="footnote6.m3.2.2.3.cmml" xref="footnote6.m3.2.2.3"><times id="footnote6.m3.2.2.3.1.cmml" xref="footnote6.m3.2.2.3.1"></times><apply id="footnote6.m3.2.2.3.2.cmml" xref="footnote6.m3.2.2.3.2"><csymbol cd="ambiguous" id="footnote6.m3.2.2.3.2.1.cmml" xref="footnote6.m3.2.2.3.2">subscript</csymbol><ci id="footnote6.m3.2.2.3.2.2.cmml" xref="footnote6.m3.2.2.3.2.2">𝒮</ci><ci id="footnote6.m3.2.2.3.2.3.cmml" xref="footnote6.m3.2.2.3.2.3">𝜃</ci></apply><ci id="footnote6.m3.1.1.cmml" xref="footnote6.m3.1.1">𝐱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote6.m3.2d">\mathcal{S}_{\theta}(\mathbf{x^{\prime}})&lt;\mathcal{S}_{\theta}(\mathbf{x})</annotation></semantics></math>.</span></span></span>. We then adjust the preprocessed sentence by reordering the phrases inside it. At each iteration, we generate multiple candidates by first cutting the sentence at <math id="S4.SS4.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="S4.SS4.SSS0.Px1.p1.2.m2.1a"><mi id="S4.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS4.SSS0.Px1.p1.2.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px1.p1.2.m2.1b"><ci id="S4.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.2.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px1.p1.2.m2.1c">p</annotation></semantics></math> positions using the strategy in <cite class="ltx_cite ltx_citemacro_citet">Malkin et al. (<a href="#bib.bib36" title="" class="ltx_ref">2021</a>)</cite>, and then permuting the phrases between the cuts to form a new sentence. We then select the best candidate measured by <math id="S4.SS4.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{S}_{\theta}(\cdot)" display="inline"><semantics id="S4.SS4.SSS0.Px1.p1.3.m3.1a"><mrow id="S4.SS4.SSS0.Px1.p1.3.m3.1.2" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.cmml"><msub id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.2" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.2.cmml">𝒮</mi><mi id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.3" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.1" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.1.cmml">​</mo><mrow id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.3.2" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.cmml"><mo stretchy="false" id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.3.2.1" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.1.cmml">⋅</mo><mo stretchy="false" id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.3.2.2" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px1.p1.3.m3.1b"><apply id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2"><times id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.1.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.1"></times><apply id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.1.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2">subscript</csymbol><ci id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.2.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.2">𝒮</ci><ci id="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.3.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.2.2.3">𝜃</ci></apply><ci id="S4.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S4.SS4.SSS0.Px1.p1.3.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px1.p1.3.m3.1c">\mathcal{S}_{\theta}(\cdot)</annotation></semantics></math>. This stage terminates after 200 steps.</p>
</div>
</section>
<section id="S4.SS4.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Token-wise reordering.</h4>

<div id="S4.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS4.SSS0.Px2.p1.1" class="ltx_p">We then reorder individual tokens. At each reordering step, we generate candidates using the following token-wise operations: 1) randomly swaps two tokens in the sentence, or 2) randomly deletes a token from the sentence, or 3) randomly inserts a token from the bag of words (recovered by Sec. <a href="#S4.SS2" title="4.2 Bag-of-Words Extraction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>) into the sentence. We then select the best candidate measured by <math id="S4.SS4.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{S}(\cdot)" display="inline"><semantics id="S4.SS4.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS4.SSS0.Px2.p1.1.m1.1.2" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.2" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.2.cmml">𝒮</mi><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.1" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.3.2" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.3.2.1" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S4.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.1.cmml">⋅</mo><mo stretchy="false" id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.3.2.2" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.cmml" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2"><times id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.1.cmml" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.1"></times><ci id="S4.SS4.SSS0.Px2.p1.1.m1.1.2.2.cmml" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.2.2">𝒮</ci><ci id="S4.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS4.SSS0.Px2.p1.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.SSS0.Px2.p1.1.m1.1c">\mathcal{S}(\cdot)</annotation></semantics></math> and move to the next iteration. This stage terminates after 200 steps.</p>
</div>
</section>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>Recovering Multiple Sentences</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">The previous steps only consider the recovery of a single sentence from a training batch. In this step, we describe an extension of our attack which is able to support recovery of multiple sentences from the same batch. We first perform beam search as described in Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>. We store the results and repeat the beam search again, except this time applying an additional <math id="S4.SS5.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS5.p1.1.m1.1a"><mi id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><ci id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">n</annotation></semantics></math>-gram penalty based on the results of the previous search. Over many repetitions of this procedure, we are able to build a set of candidate recoveries for the original batch. Finally, we use the reordering method described in Sec <a href="#S4.SS4" title="4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a> to improve each candidate.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Defending Against the FILM Attack</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We evaluate previously proposed defense methods, gradient pruning <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> and DPSGD <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite> and find that both are less effective in defending our attack (Sec. <a href="#S6.SS3" title="6.3 Evaluation of Defenses ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.3</span></a>).</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">To defend against the FILM attack, we propose a defense method which simply <span id="S5.p2.1.1" class="ltx_text ltx_font_italic">freezes the word embeddings</span> of the model during training. Our key insight is to focus on preventing the first step of the attack, i.e., the recovery of the bag-of-words from word embedding gradients. If the attack fails at this step, the later stages of the attack are no better than beam search over the entire vocabulary as with the prior attack <cite class="ltx_cite ltx_citemacro_cite">Carlini et al. (<a href="#bib.bib9" title="" class="ltx_ref">2021</a>)</cite>. Similarly, previously proposed gradient inversion attacks <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Fowl et al. (<a href="#bib.bib15" title="" class="ltx_ref">2022</a>)</cite> for smaller batch sizes also depend on this step. By freezing the word embeddings during training, it is able to completely prevent the recovery of bag-of-words. In other words, once we prevent the transmission of gradients of word embeddings during training, it is no longer possible to recover the bag-of-words.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p">We consider the settings for both 1) training an LM from the scratch; 2) continuing training from a public, pre-trained LM (e.g., GPT-2) on the private text, when freezing the word embeddings. As we later show in Sec. <a href="#S6.SS3" title="6.3 Evaluation of Defenses ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.3</span></a>, the first setting causes more utility loss (because the word embeddings are randomly initialized) while the latter setting provides the best privacy-utility trade-off. Since updating word embeddings is a common practice in training LMs, we suggest researchers and practitioners consider training from a public LM and freezing word embeddings in privacy-sensitive applications.</p>
</div>
</section>
<section id="S6" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiments</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Setup</h3>

<section id="S6.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Model and datasets.</h4>

<div id="S6.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S6.SS1.SSS0.Px1.p1.1" class="ltx_p">We evaluate the proposed attack with the GPT-2 base (117M parameters) model <cite class="ltx_cite ltx_citemacro_cite">Radford et al. (<a href="#bib.bib44" title="" class="ltx_ref">2019</a>)</cite> on two language modeling datasets, including WikiText-103 <cite class="ltx_cite ltx_citemacro_cite">Merity et al. (<a href="#bib.bib39" title="" class="ltx_ref">2017</a>)</cite> and the Enron Email dataset <cite class="ltx_cite ltx_citemacro_cite">Klimt &amp; Yang (<a href="#bib.bib28" title="" class="ltx_ref">2004</a>)</cite>. Both datasets are publicly available for research uses. We choose WikiText-103 because it is commonly used in language modeling research, and Enron Email because it consists of private email messages that contain abundant private information such as individuals’ names, addresses, and even passwords. Note that the GPT-2 model is not trained on any Wikipedia data, and very unlikely on the Enron Email data.</p>
</div>
<div id="S6.SS1.SSS0.Px1.p2" class="ltx_para">
<p id="S6.SS1.SSS0.Px1.p2.1" class="ltx_p">We evaluate our attack on a subset of WikiText-103 and Enron Email. After preprocessing (more details provided in Appendix <a href="#A2" title="Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>), we have 203,456 sentences from the WikiText-103 dataset and 31,797 sentences from the Enron Email dataset.</p>
</div>
</section>
<section id="S6.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Training and attack settings.</h4>

<div id="S6.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S6.SS1.SSS0.Px2.p1.2" class="ltx_p">Following previous studies <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>); Geiping et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>); Yin et al. (<a href="#bib.bib52" title="" class="ltx_ref">2021</a>); Huang et al. (<a href="#bib.bib24" title="" class="ltx_ref">2021</a>)</cite> for gradient inversion attacks, our evaluation considers a federated learning setting with a single server and a single client.<span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>This setting is often accepted as an adequate stand-in for federated learning as synchronous federated learning with <math id="footnote7.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="footnote7.m1.1b"><mi id="footnote7.m1.1.1" xref="footnote7.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="footnote7.m1.1c"><ci id="footnote7.m1.1.1.cmml" xref="footnote7.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote7.m1.1d">N</annotation></semantics></math> clients, each with <math id="footnote7.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="footnote7.m2.1b"><mi id="footnote7.m2.1.1" xref="footnote7.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="footnote7.m2.1c"><ci id="footnote7.m2.1.1.cmml" xref="footnote7.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote7.m2.1d">b</annotation></semantics></math> samples per batch, is (assuming I.I.D. data) functionally equivalent to training a model with a batch size of <math id="footnote7.m3.1" class="ltx_Math" alttext="N\times b" display="inline"><semantics id="footnote7.m3.1b"><mrow id="footnote7.m3.1.1" xref="footnote7.m3.1.1.cmml"><mi id="footnote7.m3.1.1.2" xref="footnote7.m3.1.1.2.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="footnote7.m3.1.1.1" xref="footnote7.m3.1.1.1.cmml">×</mo><mi id="footnote7.m3.1.1.3" xref="footnote7.m3.1.1.3.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="footnote7.m3.1c"><apply id="footnote7.m3.1.1.cmml" xref="footnote7.m3.1.1"><times id="footnote7.m3.1.1.1.cmml" xref="footnote7.m3.1.1.1"></times><ci id="footnote7.m3.1.1.2.cmml" xref="footnote7.m3.1.1.2">𝑁</ci><ci id="footnote7.m3.1.1.3.cmml" xref="footnote7.m3.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote7.m3.1d">N\times b</annotation></semantics></math>.</span></span></span> Unless otherwise noted, we train the model on these sentences for <math id="S6.SS1.SSS0.Px2.p1.1.m1.2" class="ltx_Math" alttext="90,000" display="inline"><semantics id="S6.SS1.SSS0.Px2.p1.1.m1.2a"><mrow id="S6.SS1.SSS0.Px2.p1.1.m1.2.3.2" xref="S6.SS1.SSS0.Px2.p1.1.m1.2.3.1.cmml"><mn id="S6.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S6.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">90</mn><mo id="S6.SS1.SSS0.Px2.p1.1.m1.2.3.2.1" xref="S6.SS1.SSS0.Px2.p1.1.m1.2.3.1.cmml">,</mo><mn id="S6.SS1.SSS0.Px2.p1.1.m1.2.2" xref="S6.SS1.SSS0.Px2.p1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS0.Px2.p1.1.m1.2b"><list id="S6.SS1.SSS0.Px2.p1.1.m1.2.3.1.cmml" xref="S6.SS1.SSS0.Px2.p1.1.m1.2.3.2"><cn type="integer" id="S6.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S6.SS1.SSS0.Px2.p1.1.m1.1.1">90</cn><cn type="integer" id="S6.SS1.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S6.SS1.SSS0.Px2.p1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS0.Px2.p1.1.m1.2c">90,000</annotation></semantics></math> iterations using an initial learning rate of <math id="S6.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="1\times 10^{-5}" display="inline"><semantics id="S6.SS1.SSS0.Px2.p1.2.m2.1a"><mrow id="S6.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mn id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.1" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml">×</mo><msup id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mn id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.2.cmml">10</mn><mrow id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml"><mo id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3a" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml">−</mo><mn id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1"><times id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.1"></times><cn type="integer" id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.2">1</cn><apply id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3">superscript</csymbol><cn type="integer" id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.2">10</cn><apply id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3"><minus id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.1.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3"></minus><cn type="integer" id="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2.cmml" xref="S6.SS1.SSS0.Px2.p1.2.m2.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS0.Px2.p1.2.m2.1c">1\times 10^{-5}</annotation></semantics></math>, with a linearly decayed learning rate scheduler. All models were trained using early stopping, i.e., models were trained until the loss of the model on the evaluation set increased. We note that the running time of our algorithm is quite fast, and we can recover a single sentence in under a minute using an Nvidia 2080TI GPU.</p>
</div>
</section>
<section id="S6.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Evaluation metrics.</h4>

<div id="S6.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S6.SS1.SSS0.Px3.p1.1" class="ltx_p">We use the following metrics to evaluate the attack performance: (a)
<span id="S6.SS1.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_bold">ROUGE</span> <cite class="ltx_cite ltx_citemacro_cite">Lin (<a href="#bib.bib33" title="" class="ltx_ref">2004</a>)</cite> is a set of metrics for evaluating summarization of texts as well as machine translation. We use ROUGE-1/2/L F-Scores to evaluate the similarity between the recovered and the original sentences, following <cite class="ltx_cite ltx_citemacro_cite">Deng et al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>); Dimitrov et al. (<a href="#bib.bib13" title="" class="ltx_ref">2022</a>)</cite>. More specifically, ROUGE-1/2 refer to the overlap of unigrams and bigrams between the recovered and the original text respectively. ROUGE-L measures the longest matching subsequence. For ablation studies we only show ROUGE-L as it is more representative of significant leakage than ROUGE-1 or ROUGE-2. (b) We also propose to use <span id="S6.SS1.SSS0.Px3.p1.1.2" class="ltx_text ltx_font_bold">named entity recovery ratio (NERR)</span> as the percentage of original named entities that can be perfectly recovered. Since named entities usually contain sensitive information (e.g., names, addresses, dates, or events), NERR measures how well the attacker recovers such information, ranging from a complete mismatch (NERR = 0) to a perfect recovery (NERR = 1).</p>
</div>
<figure id="S6.T1" class="ltx_table">
<table id="S6.T1.11" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S6.T1.11.12.1" class="ltx_tr">
<th id="S6.T1.11.12.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.11.12.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.12.1.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.11.12.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Attack &amp;</span></span>
</span>
</th>
<td id="S6.T1.11.12.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding:-0.35pt 2.0pt;" rowspan="2">
<span id="S6.T1.11.12.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.12.1.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.11.12.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original Sentence</span></span>
</span>
</td>
<td id="S6.T1.11.12.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding:-0.35pt 2.0pt;" rowspan="2">
<span id="S6.T1.11.12.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.12.1.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.11.12.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Best Recovered Sentence</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.1.1" class="ltx_tr">
<th id="S6.T1.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.1.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.1.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Batch Size <math id="S6.T1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S6.T1.1.1.1.1.1.1.m1.1a"><mi id="S6.T1.1.1.1.1.1.1.m1.1.1" xref="S6.T1.1.1.1.1.1.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S6.T1.1.1.1.1.1.1.m1.1b"><ci id="S6.T1.1.1.1.1.1.1.m1.1.1.cmml" xref="S6.T1.1.1.1.1.1.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.1.1.1.1.1.1.m1.1c">b</annotation></semantics></math></span></span>
</span>
</th>
</tr>
<tr id="S6.T1.11.13.2" class="ltx_tr">
<th id="S6.T1.11.13.2.1" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" style="padding:-0.35pt 2.0pt;" colspan="3"><span id="S6.T1.11.13.2.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">WikiText-103</span></th>
</tr>
<tr id="S6.T1.2.2" class="ltx_tr">
<th id="S6.T1.2.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.2.2.1.1.1" class="ltx_p" style="width:51.2pt;"><cite class="ltx_cite ltx_citemacro_citet">Zhu et al. <span id="S6.T1.2.2.1.1.1.1.1.1.1" class="ltx_text" style="font-size:50%;">(</span><a href="#bib.bib58" title="" class="ltx_ref">2019</a><span id="S6.T1.2.2.1.1.1.2.2.2.1" class="ltx_text" style="font-size:50%;">)</span></cite><span id="S6.T1.2.2.1.1.1.3" class="ltx_text" style="font-size:50%;">, </span><math id="S6.T1.2.2.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.2.2.1.1.1.m1.1a"><mrow id="S6.T1.2.2.1.1.1.m1.1.1" xref="S6.T1.2.2.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.2.2.1.1.1.m1.1.1.2" xref="S6.T1.2.2.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.2.2.1.1.1.m1.1.1.1" xref="S6.T1.2.2.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.2.2.1.1.1.m1.1.1.3" xref="S6.T1.2.2.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.2.2.1.1.1.m1.1b"><apply id="S6.T1.2.2.1.1.1.m1.1.1.cmml" xref="S6.T1.2.2.1.1.1.m1.1.1"><eq id="S6.T1.2.2.1.1.1.m1.1.1.1.cmml" xref="S6.T1.2.2.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.2.2.1.1.1.m1.1.1.2.cmml" xref="S6.T1.2.2.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.2.2.1.1.1.m1.1.1.3.cmml" xref="S6.T1.2.2.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.2.2.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.2.2.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">As Elizabeth Hoiem explains, "The most English of all Englishmen, then, is both king and slave, in many ways indistinguishable from Stephen Black.</span></span>
</span>
</td>
<td id="S6.T1.2.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.2.2.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">thelesshovahrued theAsWords reporting the Youngerselagebalance, mathemat mathemat mathemat reper arrangpmwikiIndia Bowen perspectoulos subur, maximal</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.3.3" class="ltx_tr">
<th id="S6.T1.3.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.3.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.3.3.1.1.1" class="ltx_p" style="width:51.2pt;"><cite class="ltx_cite ltx_citemacro_citet">Deng et al. <span id="S6.T1.3.3.1.1.1.1.1.1.1" class="ltx_text" style="font-size:50%;">(</span><a href="#bib.bib11" title="" class="ltx_ref">2021</a><span id="S6.T1.3.3.1.1.1.2.2.2.1" class="ltx_text" style="font-size:50%;">)</span></cite><span id="S6.T1.3.3.1.1.1.3" class="ltx_text" style="font-size:50%;">, </span><math id="S6.T1.3.3.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.3.3.1.1.1.m1.1a"><mrow id="S6.T1.3.3.1.1.1.m1.1.1" xref="S6.T1.3.3.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.3.3.1.1.1.m1.1.1.2" xref="S6.T1.3.3.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.3.3.1.1.1.m1.1.1.1" xref="S6.T1.3.3.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.3.3.1.1.1.m1.1.1.3" xref="S6.T1.3.3.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.3.3.1.1.1.m1.1b"><apply id="S6.T1.3.3.1.1.1.m1.1.1.cmml" xref="S6.T1.3.3.1.1.1.m1.1.1"><eq id="S6.T1.3.3.1.1.1.m1.1.1.1.cmml" xref="S6.T1.3.3.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.3.3.1.1.1.m1.1.1.2.cmml" xref="S6.T1.3.3.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.3.3.1.1.1.m1.1.1.3.cmml" xref="S6.T1.3.3.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.3.3.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.3.3.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.3.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Both teams recorded seven penalties, but Michigan recorded more penalty yards.</span></span>
</span>
</td>
<td id="S6.T1.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.3.3.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.3.3.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">Both</span><span id="S6.T1.3.3.3.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:50%;"> <span id="S6.T1.3.3.3.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">recorded</span> <span id="S6.T1.3.3.3.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">teams</span> <span id="S6.T1.3.3.3.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">seven</span> <span id="S6.T1.3.3.3.1.1.2.4" class="ltx_text" style="background-color:#B6D7A8;">but Michigan</span> to recorded penalties 40 <span id="S6.T1.3.3.3.1.1.2.5" class="ltx_text" style="background-color:#B6D7A8;">more penalty</span> outstanding</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.4.4" class="ltx_tr">
<th id="S6.T1.4.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.4.4.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.4.4.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.4.4.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.4.4.1.1.1.m1.1a"><mrow id="S6.T1.4.4.1.1.1.m1.1.1" xref="S6.T1.4.4.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.4.4.1.1.1.m1.1.1.2" xref="S6.T1.4.4.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.4.4.1.1.1.m1.1.1.1" xref="S6.T1.4.4.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.4.4.1.1.1.m1.1.1.3" xref="S6.T1.4.4.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.4.4.1.1.1.m1.1b"><apply id="S6.T1.4.4.1.1.1.m1.1.1.cmml" xref="S6.T1.4.4.1.1.1.m1.1.1"><eq id="S6.T1.4.4.1.1.1.m1.1.1.1.cmml" xref="S6.T1.4.4.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.4.4.1.1.1.m1.1.1.2.cmml" xref="S6.T1.4.4.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.4.4.1.1.1.m1.1.1.3.cmml" xref="S6.T1.4.4.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.4.4.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.4.4.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.4.4.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">The short@-@tail stingray forages for food both during the day and at night.</span></span>
</span>
</td>
<td id="S6.T1.4.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.4.4.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.4.4.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">The short@-@tail stingray forages for food both during the day and at night.</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.5.5" class="ltx_tr">
<th id="S6.T1.5.5.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.5.5.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.5.5.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.5.5.1.1.1.m1.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="S6.T1.5.5.1.1.1.m1.1a"><mrow id="S6.T1.5.5.1.1.1.m1.1.1" xref="S6.T1.5.5.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.5.5.1.1.1.m1.1.1.2" xref="S6.T1.5.5.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.5.5.1.1.1.m1.1.1.1" xref="S6.T1.5.5.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.5.5.1.1.1.m1.1.1.3" xref="S6.T1.5.5.1.1.1.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.5.5.1.1.1.m1.1b"><apply id="S6.T1.5.5.1.1.1.m1.1.1.cmml" xref="S6.T1.5.5.1.1.1.m1.1.1"><eq id="S6.T1.5.5.1.1.1.m1.1.1.1.cmml" xref="S6.T1.5.5.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.5.5.1.1.1.m1.1.1.2.cmml" xref="S6.T1.5.5.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.5.5.1.1.1.m1.1.1.3.cmml" xref="S6.T1.5.5.1.1.1.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.5.5.1.1.1.m1.1c">b=16</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.5.5.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.5.5.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">A tropical wave organized into a distinct area of disturbed weather just south of the Mexican port of Manzanillo, Colima, on August 22 and gradually moved to the northwest.</span></span>
</span>
</td>
<td id="S6.T1.5.5.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.5.5.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.5.5.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Early <span id="S6.T1.5.5.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">on</span> September <span id="S6.T1.5.5.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">22</span>, an <span id="S6.T1.5.5.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">area of disturbed weather</span> <span id="S6.T1.5.5.3.1.1.1.4" class="ltx_text" style="background-color:#B6D7A8;">organized into</span> <span id="S6.T1.5.5.3.1.1.1.5" class="ltx_text" style="background-color:#B6D7A8;">a tropical wave</span>, which <span id="S6.T1.5.5.3.1.1.1.6" class="ltx_text" style="background-color:#B6D7A8;">moved to the northwest</span> <span id="S6.T1.5.5.3.1.1.1.7" class="ltx_text" style="background-color:#B6D7A8;">of</span> <span id="S6.T1.5.5.3.1.1.1.8" class="ltx_text" style="background-color:#B6D7A8;">the</span> <span id="S6.T1.5.5.3.1.1.1.9" class="ltx_text" style="background-color:#B6D7A8;">area</span>, and then <span id="S6.T1.5.5.3.1.1.1.10" class="ltx_text" style="background-color:#B6D7A8;">moved</span> <span id="S6.T1.5.5.3.1.1.1.11" class="ltx_text" style="background-color:#B6D7A8;">into</span> <span id="S6.T1.5.5.3.1.1.1.12" class="ltx_text" style="background-color:#B6D7A8;">the</span> north and south@-@to <span id="S6.T1.5.5.3.1.1.1.13" class="ltx_text" style="background-color:#B6D7A8;">the</span> northeast.</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.6.6" class="ltx_tr">
<th id="S6.T1.6.6.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.6.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.6.6.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.6.6.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.6.6.1.1.1.m1.1" class="ltx_Math" alttext="b=128" display="inline"><semantics id="S6.T1.6.6.1.1.1.m1.1a"><mrow id="S6.T1.6.6.1.1.1.m1.1.1" xref="S6.T1.6.6.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.6.6.1.1.1.m1.1.1.2" xref="S6.T1.6.6.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.6.6.1.1.1.m1.1.1.1" xref="S6.T1.6.6.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.6.6.1.1.1.m1.1.1.3" xref="S6.T1.6.6.1.1.1.m1.1.1.3.cmml">128</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.6.6.1.1.1.m1.1b"><apply id="S6.T1.6.6.1.1.1.m1.1.1.cmml" xref="S6.T1.6.6.1.1.1.m1.1.1"><eq id="S6.T1.6.6.1.1.1.m1.1.1.1.cmml" xref="S6.T1.6.6.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.6.6.1.1.1.m1.1.1.2.cmml" xref="S6.T1.6.6.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.6.6.1.1.1.m1.1.1.3.cmml" xref="S6.T1.6.6.1.1.1.m1.1.1.3">128</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.6.6.1.1.1.m1.1c">b=128</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.6.6.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.6.6.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.6.6.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">A remastered version of the game will be released on PlayStation 4, Xbox One and PC alongside Call of Duty: Infinite Warfare on November 4, 2016.</span></span>
</span>
</td>
<td id="S6.T1.6.6.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.6.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.6.6.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.6.6.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">At the time of writing, <span id="S6.T1.6.6.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">the game</span> has been <span id="S6.T1.6.6.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">released on PlayStation 4, Xbox One</span>, <span id="S6.T1.6.6.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">PlayStation 3</span>, <span id="S6.T1.6.6.3.1.1.1.4" class="ltx_text" style="background-color:#B6D7A8;">and PC</span>, with the <span id="S6.T1.6.6.3.1.1.1.5" class="ltx_text" style="background-color:#B6D7A8;">PC</span> version being <span id="S6.T1.6.6.3.1.1.1.6" class="ltx_text" style="background-color:#B6D7A8;">released</span> in North America <span id="S6.T1.6.6.3.1.1.1.7" class="ltx_text" style="background-color:#B6D7A8;">on November</span> 18th, 2014.</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.11.14.3" class="ltx_tr">
<th id="S6.T1.11.14.3.1" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" style="padding:-0.35pt 2.0pt;" colspan="3"><span id="S6.T1.11.14.3.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Enron Email</span></th>
</tr>
<tr id="S6.T1.7.7" class="ltx_tr">
<th id="S6.T1.7.7.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.7.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.7.7.1.1.1" class="ltx_p" style="width:51.2pt;"><cite class="ltx_cite ltx_citemacro_citet">Zhu et al. <span id="S6.T1.7.7.1.1.1.1.1.1.1" class="ltx_text" style="font-size:50%;">(</span><a href="#bib.bib58" title="" class="ltx_ref">2019</a><span id="S6.T1.7.7.1.1.1.2.2.2.1" class="ltx_text" style="font-size:50%;">)</span></cite><span id="S6.T1.7.7.1.1.1.3" class="ltx_text" style="font-size:50%;">, </span><math id="S6.T1.7.7.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.7.7.1.1.1.m1.1a"><mrow id="S6.T1.7.7.1.1.1.m1.1.1" xref="S6.T1.7.7.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.7.7.1.1.1.m1.1.1.2" xref="S6.T1.7.7.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.7.7.1.1.1.m1.1.1.1" xref="S6.T1.7.7.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.7.7.1.1.1.m1.1.1.3" xref="S6.T1.7.7.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.7.7.1.1.1.m1.1b"><apply id="S6.T1.7.7.1.1.1.m1.1.1.cmml" xref="S6.T1.7.7.1.1.1.m1.1.1"><eq id="S6.T1.7.7.1.1.1.m1.1.1.1.cmml" xref="S6.T1.7.7.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.7.7.1.1.1.m1.1.1.2.cmml" xref="S6.T1.7.7.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.7.7.1.1.1.m1.1.1.3.cmml" xref="S6.T1.7.7.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.7.7.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.7.7.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.7.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.7.7.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.7.7.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Don and rogers have decided for cost management purposes to leave it consolidated at this point.</span></span>
</span>
</td>
<td id="S6.T1.7.7.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.7.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.7.7.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.7.7.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">dj "... Free, expShopcriptynt)beccagressive Highlands andinos Andrea Rebell impacts</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.8.8" class="ltx_tr">
<th id="S6.T1.8.8.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.8.8.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.8.8.1.1.1" class="ltx_p" style="width:51.2pt;"><cite class="ltx_cite ltx_citemacro_citet">Deng et al. <span id="S6.T1.8.8.1.1.1.1.1.1.1" class="ltx_text" style="font-size:50%;">(</span><a href="#bib.bib11" title="" class="ltx_ref">2021</a><span id="S6.T1.8.8.1.1.1.2.2.2.1" class="ltx_text" style="font-size:50%;">)</span></cite><span id="S6.T1.8.8.1.1.1.3" class="ltx_text" style="font-size:50%;">, </span><math id="S6.T1.8.8.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.8.8.1.1.1.m1.1a"><mrow id="S6.T1.8.8.1.1.1.m1.1.1" xref="S6.T1.8.8.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.8.8.1.1.1.m1.1.1.2" xref="S6.T1.8.8.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.8.8.1.1.1.m1.1.1.1" xref="S6.T1.8.8.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.8.8.1.1.1.m1.1.1.3" xref="S6.T1.8.8.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.8.8.1.1.1.m1.1b"><apply id="S6.T1.8.8.1.1.1.m1.1.1.cmml" xref="S6.T1.8.8.1.1.1.m1.1.1"><eq id="S6.T1.8.8.1.1.1.m1.1.1.1.cmml" xref="S6.T1.8.8.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.8.8.1.1.1.m1.1.1.2.cmml" xref="S6.T1.8.8.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.8.8.1.1.1.m1.1.1.3.cmml" xref="S6.T1.8.8.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.8.8.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.8.8.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.8.8.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.8.8.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.8.8.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">We should not transfer any funds from tenaska iv to ena.</span></span>
</span>
</td>
<td id="S6.T1.8.8.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.8.8.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.8.8.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.8.8.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">We should</span><span id="S6.T1.8.8.3.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:50%;"> <span id="S6.T1.8.8.3.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">transfer any funds</span> not <span id="S6.T1.8.8.3.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">from tenaska iv to</span> iv en happens</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.9.9" class="ltx_tr">
<th id="S6.T1.9.9.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.9.9.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.9.9.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.9.9.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.9.9.1.1.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.T1.9.9.1.1.1.m1.1a"><mrow id="S6.T1.9.9.1.1.1.m1.1.1" xref="S6.T1.9.9.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.9.9.1.1.1.m1.1.1.2" xref="S6.T1.9.9.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.9.9.1.1.1.m1.1.1.1" xref="S6.T1.9.9.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.9.9.1.1.1.m1.1.1.3" xref="S6.T1.9.9.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.9.9.1.1.1.m1.1b"><apply id="S6.T1.9.9.1.1.1.m1.1.1.cmml" xref="S6.T1.9.9.1.1.1.m1.1.1"><eq id="S6.T1.9.9.1.1.1.m1.1.1.1.cmml" xref="S6.T1.9.9.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.9.9.1.1.1.m1.1.1.2.cmml" xref="S6.T1.9.9.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.9.9.1.1.1.m1.1.1.3.cmml" xref="S6.T1.9.9.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.9.9.1.1.1.m1.1c">b=1</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.9.9.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.9.9.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.9.9.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.9.9.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Volume mgmt is trying to clear up these issues.</span></span>
</span>
</td>
<td id="S6.T1.9.9.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.9.9.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.9.9.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.9.9.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">Volume mgmt is trying to clear up these issues.</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.10.10" class="ltx_tr">
<th id="S6.T1.10.10.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.10.10.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.10.10.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.10.10.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.10.10.1.1.1.m1.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="S6.T1.10.10.1.1.1.m1.1a"><mrow id="S6.T1.10.10.1.1.1.m1.1.1" xref="S6.T1.10.10.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.10.10.1.1.1.m1.1.1.2" xref="S6.T1.10.10.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.10.10.1.1.1.m1.1.1.1" xref="S6.T1.10.10.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.10.10.1.1.1.m1.1.1.3" xref="S6.T1.10.10.1.1.1.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.10.10.1.1.1.m1.1b"><apply id="S6.T1.10.10.1.1.1.m1.1.1.cmml" xref="S6.T1.10.10.1.1.1.m1.1.1"><eq id="S6.T1.10.10.1.1.1.m1.1.1.1.cmml" xref="S6.T1.10.10.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.10.10.1.1.1.m1.1.1.2.cmml" xref="S6.T1.10.10.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.10.10.1.1.1.m1.1.1.3.cmml" xref="S6.T1.10.10.1.1.1.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.10.10.1.1.1.m1.1c">b=16</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.10.10.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.10.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.10.10.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.10.10.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Yesterday, enron ousted chief financial officer andrew fastow amid a securities and exchange commission inquiry into partnerships he ran that cost the largest energy trader $35 million.</span></span>
</span>
</td>
<td id="S6.T1.10.10.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.10.10.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.10.10.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.10.10.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">Yesterday, enron ousted</span><span id="S6.T1.10.10.3.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:50%;"> its <span id="S6.T1.10.10.3.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">chief financial officer</span>, <span id="S6.T1.10.10.3.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">andrew fastow</span>, <span id="S6.T1.10.10.3.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">amid a securities and exchange commission inquiry into partnerships he ran that cost the</span> company <span id="S6.T1.10.10.3.1.1.2.4" class="ltx_text" style="background-color:#B6D7A8;">$35 million</span> in stock and other financial assets.</span></span>
</span>
</td>
</tr>
<tr id="S6.T1.11.11" class="ltx_tr">
<th id="S6.T1.11.11.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.11.11.1.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.11.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="S6.T1.11.11.1.1.1.1" class="ltx_text" style="font-size:50%;">FILM, </span><math id="S6.T1.11.11.1.1.1.m1.1" class="ltx_Math" alttext="b=128" display="inline"><semantics id="S6.T1.11.11.1.1.1.m1.1a"><mrow id="S6.T1.11.11.1.1.1.m1.1.1" xref="S6.T1.11.11.1.1.1.m1.1.1.cmml"><mi mathsize="50%" id="S6.T1.11.11.1.1.1.m1.1.1.2" xref="S6.T1.11.11.1.1.1.m1.1.1.2.cmml">b</mi><mo mathsize="50%" id="S6.T1.11.11.1.1.1.m1.1.1.1" xref="S6.T1.11.11.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="50%" id="S6.T1.11.11.1.1.1.m1.1.1.3" xref="S6.T1.11.11.1.1.1.m1.1.1.3.cmml">128</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.11.11.1.1.1.m1.1b"><apply id="S6.T1.11.11.1.1.1.m1.1.1.cmml" xref="S6.T1.11.11.1.1.1.m1.1.1"><eq id="S6.T1.11.11.1.1.1.m1.1.1.1.cmml" xref="S6.T1.11.11.1.1.1.m1.1.1.1"></eq><ci id="S6.T1.11.11.1.1.1.m1.1.1.2.cmml" xref="S6.T1.11.11.1.1.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T1.11.11.1.1.1.m1.1.1.3.cmml" xref="S6.T1.11.11.1.1.1.m1.1.1.3">128</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.11.11.1.1.1.m1.1c">b=128</annotation></semantics></math></span>
</span>
</th>
<td id="S6.T1.11.11.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.11.11.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.11.2.1.1" class="ltx_p" style="width:159.3pt;"><span id="S6.T1.11.11.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Yesterday, enron ousted chief financial officer andrew fastow amid a securities and exchange commission inquiry into partnerships he ran that cost the largest energy trader $35 million.</span></span>
</span>
</td>
<td id="S6.T1.11.11.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding:-0.35pt 2.0pt;">
<span id="S6.T1.11.11.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.11.11.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T1.11.11.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;background-color:#B6D7A8;">Yesterday, enron ousted chief financial officer andrew fastow amid a securities and exchange commission inquiry into partnerships he ran that</span><span id="S6.T1.11.11.3.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:50%;"> he said <span id="S6.T1.11.11.3.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">cost the</span> company more than $1 billion in stock and other assets.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:50%;"><span class="ltx_tag ltx_tag_table">Table 1: </span>Performance of <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite>’s and  <cite class="ltx_cite ltx_citemacro_citet">Deng et al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite>’s with batch size = 1 (more in Appendix <a href="#A2.SS3" title="B.3 More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021) ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.3</span></a>) and FILM (ours) with different batch sizes. We show the best recovered sentence among 20 tested batches for each batch size (see Fig. <a href="#S6.F3" title="Figure 3 ‣ Scaling to large training batches. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> for average results).
Text in <span id="S6.T1.24.1" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents successfully recovered phrases and words.</figcaption>
</figure>
</section>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Performance of Our Attack</h3>

<section id="S6.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Scaling to large training batches.</h4>

<div id="S6.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px1.p1.1" class="ltx_p">We first compare the performance with respect to different batch sizes. In this setting, we start from a pre-trained GPT-2 model and fine-tune it on both datasets respectively (WikiText-103 and Enron Email).
Fig. <a href="#S6.F3" title="Figure 3 ‣ Scaling to large training batches. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the performance of our attack using different batch sizes with the WikiText-103 dataset and the Enron Email dataset. We observe that for a batch size of 1, all four scores (ROUGE-1, ROUGE-2, ROUGE-L, NERR) are close to 1, indicating a near-perfect recovery. We observe that as the batch size increases, the quality of the recovery by ROUGE-1, ROUGE-2, and NERR start to decrease. We attribute this drop in performance to the bigger set of words in the same training batch, as well as the growing search space of possible word orderings. We also observe that the Enron Email dataset is more susceptible to attack.</p>
</div>
<figure id="S6.F3" class="ltx_figure"><img src="/html/2205.08514/assets/x3.png" id="S6.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="146" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Recovery performance for various batch sizes on WikiText-103 (a) and Enron Email (b). Solid lines indicate the average F-Scores of recoveries out of 20 tested mini-batches. The attack is overall weaker for larger batch sizes (see Table <a href="#A2.T10" title="Table 10 ‣ B.4 Quantitative Results for Different Batch Sizes ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> for quantitative results). Moreover, the attack is stronger for the Enron Email dataset.
</figcaption>
</figure>
<div id="S6.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S6.SS2.SSS0.Px1.p2.1" class="ltx_p">Table <a href="#S6.T1" title="Table 1 ‣ Evaluation metrics. ‣ 6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows that the approach of  <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> fails to recover the original sentence for batch size <math id="S6.SS2.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="S6.SS2.SSS0.Px1.p2.1.m1.1a"><mrow id="S6.SS2.SSS0.Px1.p2.1.m1.1.1" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.cmml"><mi id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.2" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.2.cmml">b</mi><mo id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.1" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.3" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px1.p2.1.m1.1b"><apply id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1"><eq id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.1"></eq><ci id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.SS2.SSS0.Px1.p2.1.m1.1.1.3.cmml" xref="S6.SS2.SSS0.Px1.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px1.p2.1.m1.1c">b=1</annotation></semantics></math>. We find that the gradient matching method in <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> is sensitive to initialization and it can perform better recovery when using a good initialization (see Appendix <a href="#A2.SS3" title="B.3 More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021) ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.3</span></a>).  <cite class="ltx_cite ltx_citemacro_citet">Deng et al. (<a href="#bib.bib11" title="" class="ltx_ref">2021</a>)</cite> improves over  <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> by prioritizing the matching of gradients of layers that are closer to the input. However, Fig. <a href="#S6.F3" title="Figure 3 ‣ Scaling to large training batches. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the NERR and ROUGE scores sharply degrade for larger batch sizes. On the contrary, our approach is able to recover a large portion of the original sentences on both datasets even when the batch size is 128. This demonstrates the superior effectiveness of leveraging the knowledge encoded in pre-trained language models and its memorization ability to recover sentences, compared to directly performing optimization in a high-dimensional continuous space.</p>
</div>
</section>
<section id="S6.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Attack performance at different training iterations.</h4>

<div id="S6.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px2.p1.5" class="ltx_p">We evaluate the attack performance of our approach on the models trained at different numbers of training iterations <math id="S6.SS2.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.1.m1.1a"><mi id="S6.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.1.m1.1b"><ci id="S6.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.1.m1.1c">t</annotation></semantics></math>, using the WikiText-103 dataset. Specifically, we vary the number of training iterations <math id="S6.SS2.SSS0.Px2.p1.2.m2.4" class="ltx_Math" alttext="t\in\{0,10000,\dots,90000\}" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.2.m2.4a"><mrow id="S6.SS2.SSS0.Px2.p1.2.m2.4.5" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.cmml"><mi id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.2.cmml">t</mi><mo id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.1.cmml">∈</mo><mrow id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml"><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml">{</mo><mn id="S6.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">0</mn><mo id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml">,</mo><mn id="S6.SS2.SSS0.Px2.p1.2.m2.2.2" xref="S6.SS2.SSS0.Px2.p1.2.m2.2.2.cmml">10000</mn><mo id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2.3" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S6.SS2.SSS0.Px2.p1.2.m2.3.3" xref="S6.SS2.SSS0.Px2.p1.2.m2.3.3.cmml">…</mi><mo id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2.4" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml">,</mo><mn id="S6.SS2.SSS0.Px2.p1.2.m2.4.4" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.4.cmml">90000</mn><mo stretchy="false" id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2.5" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.2.m2.4b"><apply id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5"><in id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.1"></in><ci id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.2">𝑡</ci><set id="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.5.3.2"><cn type="integer" id="S6.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.1.1">0</cn><cn type="integer" id="S6.SS2.SSS0.Px2.p1.2.m2.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.2.2">10000</cn><ci id="S6.SS2.SSS0.Px2.p1.2.m2.3.3.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.3.3">…</ci><cn type="integer" id="S6.SS2.SSS0.Px2.p1.2.m2.4.4.cmml" xref="S6.SS2.SSS0.Px2.p1.2.m2.4.4">90000</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.2.m2.4c">t\in\{0,10000,\dots,90000\}</annotation></semantics></math> and fix the batch size for training <math id="S6.SS2.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.3.m3.1a"><mrow id="S6.SS2.SSS0.Px2.p1.3.m3.1.1" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml">b</mi><mo id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.3.m3.1b"><apply id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1"><eq id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.1"></eq><ci id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.2">𝑏</ci><cn type="integer" id="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S6.SS2.SSS0.Px2.p1.3.m3.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.3.m3.1c">b=16</annotation></semantics></math> and dataset size <math id="S6.SS2.SSS0.Px2.p1.4.m4.2" class="ltx_Math" alttext="N=200,000" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.4.m4.2a"><mrow id="S6.SS2.SSS0.Px2.p1.4.m4.2.3" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.cmml"><mi id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.2" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.2.cmml">N</mi><mo id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.1" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.1.cmml">=</mo><mrow id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.2" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.1.cmml"><mn id="S6.SS2.SSS0.Px2.p1.4.m4.1.1" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml">200</mn><mo id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.2.1" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.1.cmml">,</mo><mn id="S6.SS2.SSS0.Px2.p1.4.m4.2.2" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.4.m4.2b"><apply id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3"><eq id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.1"></eq><ci id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.2.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.2">𝑁</ci><list id="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.3.3.2"><cn type="integer" id="S6.SS2.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.1.1">200</cn><cn type="integer" id="S6.SS2.SSS0.Px2.p1.4.m4.2.2.cmml" xref="S6.SS2.SSS0.Px2.p1.4.m4.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.4.m4.2c">N=200,000</annotation></semantics></math>. The batch size for attack is <math id="S6.SS2.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S6.SS2.SSS0.Px2.p1.5.m5.1a"><mn id="S6.SS2.SSS0.Px2.p1.5.m5.1.1" xref="S6.SS2.SSS0.Px2.p1.5.m5.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px2.p1.5.m5.1b"><cn type="integer" id="S6.SS2.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S6.SS2.SSS0.Px2.p1.5.m5.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px2.p1.5.m5.1c">1</annotation></semantics></math>.</p>
</div>
<div id="S6.SS2.SSS0.Px2.p2" class="ltx_para">
<p id="S6.SS2.SSS0.Px2.p2.1" class="ltx_p">Previous gradient matching attacks on image data suggests that well-trained models are harder to attack <cite class="ltx_cite ltx_citemacro_cite">Geiping et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020</a>)</cite> due to the shrinkage of gradient norm as training progresses.
However, as shown in Fig. <a href="#S6.F4" title="Figure 4 ‣ Pre-trained vs randomly-initialized models. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> (see qualitative examples in Table <a href="#A2.T11" title="Table 11 ‣ B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>), we find that well-trained models are more vulnerable to our approach because the model is able to memorize data during training.</p>
</div>
</section>
<section id="S6.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Pre-trained vs randomly-initialized models.</h4>

<div id="S6.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px3.p1.1" class="ltx_p">We additionally compare the attack performance for training that starts from a pre-trained model (GPT-2 in our case) and a randomly-initialized model (we use the same GPT-2 architecture but re-initialize all the weights randomly).
We find that starting from a pre-trained model is more susceptible to attack than training from scratch as shown in Fig. <a href="#S6.F4" title="Figure 4 ‣ Pre-trained vs randomly-initialized models. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. However, the gap in performance gradually decreases as the number of iterations increases.</p>
</div>
<div id="S6.SS2.SSS0.Px3.1" class="ltx_para ltx_minipage ltx_align_middle" style="width:255.8pt;">
<p id="S6.SS2.SSS0.Px3.1.1" class="ltx_p">As shown in Fig. <a href="#S6.F4" title="Figure 4 ‣ Pre-trained vs randomly-initialized models. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, a pre-trained model which has not been fine-tuned on client data can recover sentences with an average ROUGE-L score of 0.41, indicating that prior knowledge encoded in pre-trained models may help recover sentences. When the model is continued to train on Wikitext-103, the average score increases to 0.53, an almost 30% increase. Our results suggest that leveraging the memorization in the model yields a more powerful attack than only using the language prior encoded in the pre-trained model. We note that we would expect stronger attack performance (especially for smaller training epochs) when attacking larger-capacity models, as stronger models can memorize training instances easily.
We report more results for <math id="S6.SS2.SSS0.Px3.1.1.m1.1" class="ltx_Math" alttext="t=0" display="inline"><semantics id="S6.SS2.SSS0.Px3.1.1.m1.1a"><mrow id="S6.SS2.SSS0.Px3.1.1.m1.1.1" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.cmml"><mi id="S6.SS2.SSS0.Px3.1.1.m1.1.1.2" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.2.cmml">t</mi><mo id="S6.SS2.SSS0.Px3.1.1.m1.1.1.1" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS0.Px3.1.1.m1.1.1.3" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px3.1.1.m1.1b"><apply id="S6.SS2.SSS0.Px3.1.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1"><eq id="S6.SS2.SSS0.Px3.1.1.m1.1.1.1.cmml" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.1"></eq><ci id="S6.SS2.SSS0.Px3.1.1.m1.1.1.2.cmml" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.2">𝑡</ci><cn type="integer" id="S6.SS2.SSS0.Px3.1.1.m1.1.1.3.cmml" xref="S6.SS2.SSS0.Px3.1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px3.1.1.m1.1c">t=0</annotation></semantics></math> with different batch sizes in Table <a href="#A2.T12" title="Table 12 ‣ B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> in Appendix <a href="#A2.SS5" title="B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.5</span></a>.</p>
</div>
<figure id="S6.F4" class="ltx_figure ltx_minipage ltx_align_middle" style="width:169.1pt;"><img src="/html/2205.08514/assets/x4.png" id="S6.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="274" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Attack performance over training iterations <math id="S6.F4.3.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S6.F4.3.m1.1b"><mi id="S6.F4.3.m1.1.1" xref="S6.F4.3.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S6.F4.3.m1.1c"><ci id="S6.F4.3.m1.1.1.cmml" xref="S6.F4.3.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.3.m1.1d">t</annotation></semantics></math> for pre-trained or randomly-initialized model on WikiText-103 (batch size for the attack is <math id="S6.F4.4.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S6.F4.4.m2.1b"><mn id="S6.F4.4.m2.1.1" xref="S6.F4.4.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.F4.4.m2.1c"><cn type="integer" id="S6.F4.4.m2.1.1.cmml" xref="S6.F4.4.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.4.m2.1d">1</annotation></semantics></math>). Dashed lines indicate when an epoch was completed. See Appendix <a href="#A2.SS5" title="B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.5</span></a> for qualitative results.</figcaption>
</figure>
</section>
<section id="S6.SS2.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Recovering multiple sentences by iterative attack.</h4>

<div id="S6.SS2.SSS0.Px4.p1" class="ltx_para">
<p id="S6.SS2.SSS0.Px4.p1.1" class="ltx_p">We further investigate a variant of our attack in which we apply the beam search for multiple repetitions. Each repetition applies an <math id="S6.SS2.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S6.SS2.SSS0.Px4.p1.1.m1.1a"><mi id="S6.SS2.SSS0.Px4.p1.1.m1.1.1" xref="S6.SS2.SSS0.Px4.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS0.Px4.p1.1.m1.1b"><ci id="S6.SS2.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S6.SS2.SSS0.Px4.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS0.Px4.p1.1.m1.1c">n</annotation></semantics></math>-gram penalty based on the results of previous generations. We consider a sentence to have strong leakage if the longest recovered subsequence is &gt; 25% of the original sentence (i.e., ROUGE-L score &gt; 0.25).</p>
</div>
<figure id="S6.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:50%;"><span class="ltx_tag ltx_tag_table">Table 2: </span>Qualitative results for multi-sentence recovery for a batchsize of 16. The multi-sentence attack is able to recover significant portions of multiple sentences in a single batch. </figcaption>
<table id="S6.T2.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T2.3.1.1" class="ltx_tr">
<th id="S6.T2.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding:-0.35pt 5.0pt;"><span id="S6.T2.3.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Iter.</span></th>
<th id="S6.T2.3.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.1.1.2.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original Sentence</span></span>
</span>
</th>
<th id="S6.T2.3.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.1.1.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.1.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Recovered Sentence</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T2.3.2.1" class="ltx_tr">
<th id="S6.T2.3.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 5.0pt;"><span id="S6.T2.3.2.1.1.1" class="ltx_text" style="font-size:50%;">1st</span></th>
<td id="S6.T2.3.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.2.1.2.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.2.1.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">In 1988 it was made into a feature film Katinka, directed by Max von Sydow, starring Tammi Øst as Katinka.</span></span>
</span>
</td>
<td id="S6.T2.3.2.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.2.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.2.1.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.2.1.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">After the end of the year, <span id="S6.T2.3.2.1.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">the film was made into a feature film</span>, and it was <span id="S6.T2.3.2.1.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">directed by Max von Sydow</span> and published by Warner Bros.</span></span>
</span>
</td>
</tr>
<tr id="S6.T2.3.3.2" class="ltx_tr">
<th id="S6.T2.3.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.35pt 5.0pt;"><span id="S6.T2.3.3.2.1.1" class="ltx_text" style="font-size:50%;">2nd</span></th>
<td id="S6.T2.3.3.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.3.2.2.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.3.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">He was killed in a mysterious plane crash on 29 March 1959, while en route to Bangui.</span></span>
</span>
</td>
<td id="S6.T2.3.3.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.3.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.3.2.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.3.2.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">Fox, in an attempt to put an end to the fire, <span id="S6.T2.3.3.2.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">was killed in a</span> <span id="S6.T2.3.3.2.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">plane crash</span> <span id="S6.T2.3.3.2.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">while en route to</span> Guadalcanal, Puerto Rico, on April 6, 2015, while on a</span></span>
</span>
</td>
</tr>
<tr id="S6.T2.3.4.3" class="ltx_tr">
<th id="S6.T2.3.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding:-0.35pt 5.0pt;"><span id="S6.T2.3.4.3.1.1" class="ltx_text" style="font-size:50%;">10th</span></th>
<td id="S6.T2.3.4.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.4.3.2.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.4.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">The next year, Edwards published a significant treatise entitled Bibliographic Catalogue of the Described Transformation of North American Lepidoptera.</span></span>
</span>
</td>
<td id="S6.T2.3.4.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding:-0.35pt 5.0pt;">
<span id="S6.T2.3.4.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.3.4.3.3.1.1" class="ltx_p" style="width:176.4pt;"><span id="S6.T2.3.4.3.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:50%;">He had also <span id="S6.T2.3.4.3.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">published</span> <span id="S6.T2.3.4.3.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">a treatise</span> on it, published in 1959, <span id="S6.T2.3.4.3.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">entitled Bibliographic Catalogue of</span> I.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S6.SS2.SSS0.Px4.p2" class="ltx_para ltx_minipage ltx_align_middle" style="width:229.8pt;">
<p id="S6.SS2.SSS0.Px4.p2.1" class="ltx_p">Table <a href="#S6.T2" title="Table 2 ‣ Recovering multiple sentences by iterative attack. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows a qualitative example of this iterative process. Table <a href="#S6.T3" title="Table 3 ‣ Recovering multiple sentences by iterative attack. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows that for a batch size of 16, an attacker who performs 100 repetitions of beam search is able to recover roughly 34% of the original batch (roughly 5 sentences) with ROUGE-L score over 0.25 (recall). However, since 100 repetitions results in 100 different generated sentences, an attacker would still need a method that picks good recoveries out of them<span id="footnote8" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">8</span></span></span></span>. We estimate the difficulty of choosing good sentences by using the ratio of good sentences to total generated sentences (precision).</p>
</div>
<figure id="S6.T3" class="ltx_table ltx_minipage ltx_align_middle" style="width:190.8pt;">
<table id="S6.T3.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T3.12.13.1" class="ltx_tr">
<th id="S6.T3.12.13.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.12.13.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Iter.</span></th>
<th id="S6.T3.12.13.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.12.13.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Recall</span></th>
<th id="S6.T3.12.13.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.12.13.1.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Precision</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T3.2.2" class="ltx_tr">
<th id="S6.T3.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.2.2.3.1" class="ltx_text" style="font-size:90%;">1</span></th>
<td id="S6.T3.1.1.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.1.1.1.1" class="ltx_text" style="font-size:90%;">0.03 </span><math id="S6.T3.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.1.1.1.m1.1a"><mo mathsize="90%" id="S6.T3.1.1.1.m1.1.1" xref="S6.T3.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.1.1.1.m1.1b"><csymbol cd="latexml" id="S6.T3.1.1.1.m1.1.1.cmml" xref="S6.T3.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.1.1.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.1.1.1.2" class="ltx_text" style="font-size:90%;"> 0.03</span>
</td>
<td id="S6.T3.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.2.2.2.1" class="ltx_text" style="font-size:90%;">0.50 </span><math id="S6.T3.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.2.2.2.m1.1a"><mo mathsize="90%" id="S6.T3.2.2.2.m1.1.1" xref="S6.T3.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.2.2.2.m1.1b"><csymbol cd="latexml" id="S6.T3.2.2.2.m1.1.1.cmml" xref="S6.T3.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.2.2.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.2.2.2.2" class="ltx_text" style="font-size:90%;"> 0.51</span>
</td>
</tr>
<tr id="S6.T3.4.4" class="ltx_tr">
<th id="S6.T3.4.4.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.4.4.3.1" class="ltx_text" style="font-size:90%;">5</span></th>
<td id="S6.T3.3.3.1" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.3.3.1.1" class="ltx_text" style="font-size:90%;">0.13 </span><math id="S6.T3.3.3.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.3.3.1.m1.1a"><mo mathsize="90%" id="S6.T3.3.3.1.m1.1.1" xref="S6.T3.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.3.3.1.m1.1b"><csymbol cd="latexml" id="S6.T3.3.3.1.m1.1.1.cmml" xref="S6.T3.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.3.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.3.3.1.2" class="ltx_text" style="font-size:90%;"> 0.08</span>
</td>
<td id="S6.T3.4.4.2" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.4.4.2.1" class="ltx_text" style="font-size:90%;">0.36 </span><math id="S6.T3.4.4.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.4.4.2.m1.1a"><mo mathsize="90%" id="S6.T3.4.4.2.m1.1.1" xref="S6.T3.4.4.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.4.4.2.m1.1b"><csymbol cd="latexml" id="S6.T3.4.4.2.m1.1.1.cmml" xref="S6.T3.4.4.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.4.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.4.4.2.2" class="ltx_text" style="font-size:90%;"> 0.22</span>
</td>
</tr>
<tr id="S6.T3.6.6" class="ltx_tr">
<th id="S6.T3.6.6.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.6.6.3.1" class="ltx_text" style="font-size:90%;">10</span></th>
<td id="S6.T3.5.5.1" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.5.5.1.1" class="ltx_text" style="font-size:90%;">0.19 </span><math id="S6.T3.5.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.5.5.1.m1.1a"><mo mathsize="90%" id="S6.T3.5.5.1.m1.1.1" xref="S6.T3.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.5.5.1.m1.1b"><csymbol cd="latexml" id="S6.T3.5.5.1.m1.1.1.cmml" xref="S6.T3.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.5.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.5.5.1.2" class="ltx_text" style="font-size:90%;"> 0.11</span>
</td>
<td id="S6.T3.6.6.2" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.6.6.2.1" class="ltx_text" style="font-size:90%;">0.28 </span><math id="S6.T3.6.6.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.6.6.2.m1.1a"><mo mathsize="90%" id="S6.T3.6.6.2.m1.1.1" xref="S6.T3.6.6.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.6.6.2.m1.1b"><csymbol cd="latexml" id="S6.T3.6.6.2.m1.1.1.cmml" xref="S6.T3.6.6.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.6.6.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.6.6.2.2" class="ltx_text" style="font-size:90%;"> 0.16</span>
</td>
</tr>
<tr id="S6.T3.8.8" class="ltx_tr">
<th id="S6.T3.8.8.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.8.8.3.1" class="ltx_text" style="font-size:90%;">20</span></th>
<td id="S6.T3.7.7.1" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.7.7.1.1" class="ltx_text" style="font-size:90%;">0.25 </span><math id="S6.T3.7.7.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.7.7.1.m1.1a"><mo mathsize="90%" id="S6.T3.7.7.1.m1.1.1" xref="S6.T3.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.7.7.1.m1.1b"><csymbol cd="latexml" id="S6.T3.7.7.1.m1.1.1.cmml" xref="S6.T3.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.7.7.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.7.7.1.2" class="ltx_text" style="font-size:90%;"> 0.12</span>
</td>
<td id="S6.T3.8.8.2" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.8.8.2.1" class="ltx_text" style="font-size:90%;">0.21 </span><math id="S6.T3.8.8.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.8.8.2.m1.1a"><mo mathsize="90%" id="S6.T3.8.8.2.m1.1.1" xref="S6.T3.8.8.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.8.8.2.m1.1b"><csymbol cd="latexml" id="S6.T3.8.8.2.m1.1.1.cmml" xref="S6.T3.8.8.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.8.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.8.8.2.2" class="ltx_text" style="font-size:90%;"> 0.11</span>
</td>
</tr>
<tr id="S6.T3.10.10" class="ltx_tr">
<th id="S6.T3.10.10.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.10.10.3.1" class="ltx_text" style="font-size:90%;">50</span></th>
<td id="S6.T3.9.9.1" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.9.9.1.1" class="ltx_text" style="font-size:90%;">0.30 </span><math id="S6.T3.9.9.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.9.9.1.m1.1a"><mo mathsize="90%" id="S6.T3.9.9.1.m1.1.1" xref="S6.T3.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.9.9.1.m1.1b"><csymbol cd="latexml" id="S6.T3.9.9.1.m1.1.1.cmml" xref="S6.T3.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.9.9.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.9.9.1.2" class="ltx_text" style="font-size:90%;"> 0.11</span>
</td>
<td id="S6.T3.10.10.2" class="ltx_td ltx_align_center" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.10.10.2.1" class="ltx_text" style="font-size:90%;">0.12 </span><math id="S6.T3.10.10.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.10.10.2.m1.1a"><mo mathsize="90%" id="S6.T3.10.10.2.m1.1.1" xref="S6.T3.10.10.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.10.10.2.m1.1b"><csymbol cd="latexml" id="S6.T3.10.10.2.m1.1.1.cmml" xref="S6.T3.10.10.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.10.10.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.10.10.2.2" class="ltx_text" style="font-size:90%;"> 0.04</span>
</td>
</tr>
<tr id="S6.T3.12.12" class="ltx_tr">
<th id="S6.T3.12.12.3" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding:-0.65pt 12.0pt;"><span id="S6.T3.12.12.3.1" class="ltx_text" style="font-size:90%;">100</span></th>
<td id="S6.T3.11.11.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.11.11.1.1" class="ltx_text" style="font-size:90%;">0.34 </span><math id="S6.T3.11.11.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.11.11.1.m1.1a"><mo mathsize="90%" id="S6.T3.11.11.1.m1.1.1" xref="S6.T3.11.11.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.11.11.1.m1.1b"><csymbol cd="latexml" id="S6.T3.11.11.1.m1.1.1.cmml" xref="S6.T3.11.11.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.11.11.1.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.11.11.1.2" class="ltx_text" style="font-size:90%;"> 0.09</span>
</td>
<td id="S6.T3.12.12.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:-0.65pt 12.0pt;">
<span id="S6.T3.12.12.2.1" class="ltx_text" style="font-size:90%;">0.07 </span><math id="S6.T3.12.12.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S6.T3.12.12.2.m1.1a"><mo mathsize="90%" id="S6.T3.12.12.2.m1.1.1" xref="S6.T3.12.12.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S6.T3.12.12.2.m1.1b"><csymbol cd="latexml" id="S6.T3.12.12.2.m1.1.1.cmml" xref="S6.T3.12.12.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.12.12.2.m1.1c">\pm</annotation></semantics></math><span id="S6.T3.12.12.2.2" class="ltx_text" style="font-size:90%;"> 0.02</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 3: </span>Performance of recovering multiple sentences by applying our attack iteratively on WikiText-103 (<math id="S6.T3.14.m1.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="S6.T3.14.m1.1b"><mrow id="S6.T3.14.m1.1.1" xref="S6.T3.14.m1.1.1.cmml"><mi id="S6.T3.14.m1.1.1.2" xref="S6.T3.14.m1.1.1.2.cmml">b</mi><mo id="S6.T3.14.m1.1.1.1" xref="S6.T3.14.m1.1.1.1.cmml">=</mo><mn id="S6.T3.14.m1.1.1.3" xref="S6.T3.14.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.14.m1.1c"><apply id="S6.T3.14.m1.1.1.cmml" xref="S6.T3.14.m1.1.1"><eq id="S6.T3.14.m1.1.1.1.cmml" xref="S6.T3.14.m1.1.1.1"></eq><ci id="S6.T3.14.m1.1.1.2.cmml" xref="S6.T3.14.m1.1.1.2">𝑏</ci><cn type="integer" id="S6.T3.14.m1.1.1.3.cmml" xref="S6.T3.14.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.14.m1.1d">b=16</annotation></semantics></math>). Recall: % of original batch with ROUGE-L&gt;0.25), Precision: % of recovered sentences with ROUGE-L&gt;0.25.</figcaption>
</figure>
</section>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Evaluation of Defenses</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.2" class="ltx_p">We evaluate three
defense methods: gradient pruning <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> and Differentially Private
Stochastic Gradient Descent (DPSGD) <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite>, and our method of freezing embeddings. The evaluations use the WikiText-103 dataset and the GPT-2 model, with batch size = 16. Given <math id="S6.SS3.p1.1.m1.1" class="ltx_Math" alttext="S^{*}" display="inline"><semantics id="S6.SS3.p1.1.m1.1a"><msup id="S6.SS3.p1.1.m1.1.1" xref="S6.SS3.p1.1.m1.1.1.cmml"><mi id="S6.SS3.p1.1.m1.1.1.2" xref="S6.SS3.p1.1.m1.1.1.2.cmml">S</mi><mo id="S6.SS3.p1.1.m1.1.1.3" xref="S6.SS3.p1.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.1.m1.1b"><apply id="S6.SS3.p1.1.m1.1.1.cmml" xref="S6.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS3.p1.1.m1.1.1.1.cmml" xref="S6.SS3.p1.1.m1.1.1">superscript</csymbol><ci id="S6.SS3.p1.1.m1.1.1.2.cmml" xref="S6.SS3.p1.1.m1.1.1.2">𝑆</ci><times id="S6.SS3.p1.1.m1.1.1.3.cmml" xref="S6.SS3.p1.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.1.m1.1c">S^{*}</annotation></semantics></math>, the set of tokens recovered from the attack and <math id="S6.SS3.p1.2.m2.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S6.SS3.p1.2.m2.1a"><mi id="S6.SS3.p1.2.m2.1.1" xref="S6.SS3.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.2.m2.1b"><ci id="S6.SS3.p1.2.m2.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.2.m2.1c">S</annotation></semantics></math>, the original set of tokens in the private batch. Two metrics for performance of the attack are:</p>
<ol id="S6.I1" class="ltx_enumerate">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.1" class="ltx_p">Precision: <math id="S6.I1.i1.p1.1.m1.2" class="ltx_Math" alttext="|S^{*}\cap S|/|S^{*}|" display="inline"><semantics id="S6.I1.i1.p1.1.m1.2a"><mrow id="S6.I1.i1.p1.1.m1.2.2" xref="S6.I1.i1.p1.1.m1.2.2.cmml"><mrow id="S6.I1.i1.p1.1.m1.1.1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S6.I1.i1.p1.1.m1.1.1.1.1.2" xref="S6.I1.i1.p1.1.m1.1.1.1.2.1.cmml">|</mo><mrow id="S6.I1.i1.p1.1.m1.1.1.1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.cmml"><msup id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.cmml"><mi id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.2" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml">S</mi><mo id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.3" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml">∗</mo></msup><mo id="S6.I1.i1.p1.1.m1.1.1.1.1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.1.cmml">∩</mo><mi id="S6.I1.i1.p1.1.m1.1.1.1.1.1.3" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="S6.I1.i1.p1.1.m1.1.1.1.1.3" xref="S6.I1.i1.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S6.I1.i1.p1.1.m1.2.2.3" xref="S6.I1.i1.p1.1.m1.2.2.3.cmml">/</mo><mrow id="S6.I1.i1.p1.1.m1.2.2.2.1" xref="S6.I1.i1.p1.1.m1.2.2.2.2.cmml"><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.2.1.2" xref="S6.I1.i1.p1.1.m1.2.2.2.2.1.cmml">|</mo><msup id="S6.I1.i1.p1.1.m1.2.2.2.1.1" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.2.1.1.2" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1.2.cmml">S</mi><mo id="S6.I1.i1.p1.1.m1.2.2.2.1.1.3" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1.3.cmml">∗</mo></msup><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.2.1.3" xref="S6.I1.i1.p1.1.m1.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.1.m1.2b"><apply id="S6.I1.i1.p1.1.m1.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2"><divide id="S6.I1.i1.p1.1.m1.2.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3"></divide><apply id="S6.I1.i1.p1.1.m1.1.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1"><abs id="S6.I1.i1.p1.1.m1.1.1.1.2.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.2"></abs><apply id="S6.I1.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1"><intersect id="S6.I1.i1.p1.1.m1.1.1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.1"></intersect><apply id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2">superscript</csymbol><ci id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.2">𝑆</ci><times id="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.3.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.2.3"></times></apply><ci id="S6.I1.i1.p1.1.m1.1.1.1.1.1.3.cmml" xref="S6.I1.i1.p1.1.m1.1.1.1.1.1.3">𝑆</ci></apply></apply><apply id="S6.I1.i1.p1.1.m1.2.2.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1"><abs id="S6.I1.i1.p1.1.m1.2.2.2.2.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1.2"></abs><apply id="S6.I1.i1.p1.1.m1.2.2.2.1.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.2.2.2.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1">superscript</csymbol><ci id="S6.I1.i1.p1.1.m1.2.2.2.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1.2">𝑆</ci><times id="S6.I1.i1.p1.1.m1.2.2.2.1.1.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2.1.1.3"></times></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.1.m1.2c">|S^{*}\cap S|/|S^{*}|</annotation></semantics></math>, which is the fraction of original tokens in the recovered set.</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.1" class="ltx_p">Recall: <math id="S6.I1.i2.p1.1.m1.2" class="ltx_Math" alttext="|S^{*}\cap S|/|S|" display="inline"><semantics id="S6.I1.i2.p1.1.m1.2a"><mrow id="S6.I1.i2.p1.1.m1.2.2" xref="S6.I1.i2.p1.1.m1.2.2.cmml"><mrow id="S6.I1.i2.p1.1.m1.2.2.1.1" xref="S6.I1.i2.p1.1.m1.2.2.1.2.cmml"><mo stretchy="false" id="S6.I1.i2.p1.1.m1.2.2.1.1.2" xref="S6.I1.i2.p1.1.m1.2.2.1.2.1.cmml">|</mo><mrow id="S6.I1.i2.p1.1.m1.2.2.1.1.1" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.cmml"><msup id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.2" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.2.cmml">S</mi><mo id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.3" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.3.cmml">∗</mo></msup><mo id="S6.I1.i2.p1.1.m1.2.2.1.1.1.1" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.1.cmml">∩</mo><mi id="S6.I1.i2.p1.1.m1.2.2.1.1.1.3" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.3.cmml">S</mi></mrow><mo stretchy="false" id="S6.I1.i2.p1.1.m1.2.2.1.1.3" xref="S6.I1.i2.p1.1.m1.2.2.1.2.1.cmml">|</mo></mrow><mo id="S6.I1.i2.p1.1.m1.2.2.2" xref="S6.I1.i2.p1.1.m1.2.2.2.cmml">/</mo><mrow id="S6.I1.i2.p1.1.m1.2.2.3.2" xref="S6.I1.i2.p1.1.m1.2.2.3.1.cmml"><mo stretchy="false" id="S6.I1.i2.p1.1.m1.2.2.3.2.1" xref="S6.I1.i2.p1.1.m1.2.2.3.1.1.cmml">|</mo><mi id="S6.I1.i2.p1.1.m1.1.1" xref="S6.I1.i2.p1.1.m1.1.1.cmml">S</mi><mo stretchy="false" id="S6.I1.i2.p1.1.m1.2.2.3.2.2" xref="S6.I1.i2.p1.1.m1.2.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.1.m1.2b"><apply id="S6.I1.i2.p1.1.m1.2.2.cmml" xref="S6.I1.i2.p1.1.m1.2.2"><divide id="S6.I1.i2.p1.1.m1.2.2.2.cmml" xref="S6.I1.i2.p1.1.m1.2.2.2"></divide><apply id="S6.I1.i2.p1.1.m1.2.2.1.2.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1"><abs id="S6.I1.i2.p1.1.m1.2.2.1.2.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.2"></abs><apply id="S6.I1.i2.p1.1.m1.2.2.1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1"><intersect id="S6.I1.i2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.1"></intersect><apply id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2">superscript</csymbol><ci id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.2">𝑆</ci><times id="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.2.3"></times></apply><ci id="S6.I1.i2.p1.1.m1.2.2.1.1.1.3.cmml" xref="S6.I1.i2.p1.1.m1.2.2.1.1.1.3">𝑆</ci></apply></apply><apply id="S6.I1.i2.p1.1.m1.2.2.3.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.3.2"><abs id="S6.I1.i2.p1.1.m1.2.2.3.1.1.cmml" xref="S6.I1.i2.p1.1.m1.2.2.3.2.1"></abs><ci id="S6.I1.i2.p1.1.m1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.1.1">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.1.m1.2c">|S^{*}\cap S|/|S|</annotation></semantics></math>, which is the fraction of recovered original tokens in all original tokens.</p>
</div>
</li>
</ol>
<p id="S6.SS3.p1.3" class="ltx_p">We measure the impacts of defenses on model utility by computing the average perplexity of the model across the test set for each dataset.
For evaluating the defense of freezing word embeddings during training, precision and recall are both 0.</p>
</div>
<section id="S6.SS3.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Token reconstruction under gradient pruning <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite>.</h4>

<div id="S6.SS3.SSS0.Px1.p1" class="ltx_para">
<p id="S6.SS3.SSS0.Px1.p1.1" class="ltx_p">Gradient pruning zeros out the fraction of gradient entries with low magnitude. However, the embedding gradients of existing tokens in the batch are still non-zero unless the prune ratio p is extremely high. Thus, the attack strategy remains the same as the vanilla attack: we retrieve the tokens whose embedding gradients are non-zero. As shown in Table <a href="#S6.T4" title="Table 4 ‣ Token reconstruction under DPSGD Abadi et al. (2016). ‣ 6.3 Evaluation of Defenses ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.a, the attack always returns existing tokens in the private batch (i.e. precision is always 1). The recall decreases as the prune ratio increases, because some entries of word embedding gradients get completely zeroed out and thus the corresponding tokens cannot be retrieved by the attack. However, the attacker can still recover a considerable amount of tokens (i.e. &gt;90%) even with a prune ratio as high as 0.9999.</p>
</div>
</section>
<section id="S6.SS3.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Token reconstruction under DPSGD <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite>.</h4>

<div id="S6.SS3.SSS0.Px2.p1" class="ltx_para">
<p id="S6.SS3.SSS0.Px2.p1.4" class="ltx_p">The strategy to launch the attack under DPSGD is trickier, as the gradients become noisy and the previous heuristics of returning non-zero gradient entries no longer hold. We come up with a new attack strategy which involves using a threshold <math id="S6.SS3.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\tau=\sigma\sqrt{2\log d}" display="inline"><semantics id="S6.SS3.SSS0.Px2.p1.1.m1.1a"><mrow id="S6.SS3.SSS0.Px2.p1.1.m1.1.1" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.2" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml">τ</mi><mo id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.1" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mrow id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.1" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml">​</mo><msqrt id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml"><mrow id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml"><mn id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.2" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.2.cmml">2</mn><mo lspace="0.167em" rspace="0em" id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.1" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.1.cmml">​</mo><mrow id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.cmml"><mi id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.1" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.1.cmml">log</mi><mo lspace="0.167em" id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3a" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.cmml">⁡</mo><mi id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.2" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.2.cmml">d</mi></mrow></mrow></msqrt></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS0.Px2.p1.1.m1.1b"><apply id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1"><eq id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.1"></eq><ci id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.2">𝜏</ci><apply id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3"><times id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.1"></times><ci id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.2">𝜎</ci><apply id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3"><root id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3a.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3"></root><apply id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2"><times id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.1.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.1"></times><cn type="integer" id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.2.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.2">2</cn><apply id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3"><log id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.1.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.1"></log><ci id="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.2.cmml" xref="S6.SS3.SSS0.Px2.p1.1.m1.1.1.3.3.2.3.2">𝑑</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS0.Px2.p1.1.m1.1c">\tau=\sigma\sqrt{2\log d}</annotation></semantics></math> to discriminate noisy gradients with pure noise, where <math id="S6.SS3.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S6.SS3.SSS0.Px2.p1.2.m2.1a"><mi id="S6.SS3.SSS0.Px2.p1.2.m2.1.1" xref="S6.SS3.SSS0.Px2.p1.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS0.Px2.p1.2.m2.1b"><ci id="S6.SS3.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S6.SS3.SSS0.Px2.p1.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS0.Px2.p1.2.m2.1c">d</annotation></semantics></math> is the embedding dimension (i.e. 768) and <math id="S6.SS3.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S6.SS3.SSS0.Px2.p1.3.m3.1a"><mi id="S6.SS3.SSS0.Px2.p1.3.m3.1.1" xref="S6.SS3.SSS0.Px2.p1.3.m3.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS0.Px2.p1.3.m3.1b"><ci id="S6.SS3.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S6.SS3.SSS0.Px2.p1.3.m3.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS0.Px2.p1.3.m3.1c">\sigma</annotation></semantics></math> is the noise scale of DPSGD. For each token, we check the maximum magnitude of its embedding gradients: if the value is larger than <math id="S6.SS3.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S6.SS3.SSS0.Px2.p1.4.m4.1a"><mi id="S6.SS3.SSS0.Px2.p1.4.m4.1.1" xref="S6.SS3.SSS0.Px2.p1.4.m4.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S6.SS3.SSS0.Px2.p1.4.m4.1b"><ci id="S6.SS3.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S6.SS3.SSS0.Px2.p1.4.m4.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.SSS0.Px2.p1.4.m4.1c">\tau</annotation></semantics></math>, then the token may be included in the original batch with high probability. As shown in Table <a href="#S6.T4" title="Table 4 ‣ Token reconstruction under DPSGD Abadi et al. (2016). ‣ 6.3 Evaluation of Defenses ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.b, the attack performance drops when the epsilon of DPSGD decreases (at the cost of perplexity), because the relative scale between the noise magnitudes and the original gradient magnitude increases.</p>
</div>
<figure id="S6.T4" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F4.sf1" class="ltx_figure ltx_figure_panel">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure"><span id="S6.F4.sf1.6.1.1" class="ltx_text" style="font-size:89%;">(a)</span> </span><span id="S6.F4.sf1.7.2" class="ltx_text" style="font-size:89%;">Gradient pruning <cite class="ltx_cite ltx_citemacro_cite">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite></span></figcaption>
<table id="S6.F4.sf1.8" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.F4.sf1.8.1.1" class="ltx_tr">
<th id="S6.F4.sf1.8.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.1.1.1.1" class="ltx_text" style="font-size:90%;">Prune ratio</span></th>
<th id="S6.F4.sf1.8.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.1.1.2.1" class="ltx_text" style="font-size:90%;">Perplexity</span></th>
<th id="S6.F4.sf1.8.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.1.1.3.1" class="ltx_text" style="font-size:90%;">Precision</span></th>
<th id="S6.F4.sf1.8.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.1.1.4.1" class="ltx_text" style="font-size:90%;">Recall</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.F4.sf1.8.2.1" class="ltx_tr">
<th id="S6.F4.sf1.8.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.2.1.1.1" class="ltx_text" style="font-size:90%;">0</span></th>
<td id="S6.F4.sf1.8.2.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.2.1.2.1" class="ltx_text" style="font-size:90%;">11.46</span></td>
<td id="S6.F4.sf1.8.2.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.2.1.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf1.8.2.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.2.1.4.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
</tr>
<tr id="S6.F4.sf1.8.3.2" class="ltx_tr">
<th id="S6.F4.sf1.8.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.3.2.1.1" class="ltx_text" style="font-size:90%;">0.9</span></th>
<td id="S6.F4.sf1.8.3.2.2" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.3.2.2.1" class="ltx_text" style="font-size:90%;">11.57</span></td>
<td id="S6.F4.sf1.8.3.2.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.3.2.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf1.8.3.2.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.3.2.4.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
</tr>
<tr id="S6.F4.sf1.8.4.3" class="ltx_tr">
<th id="S6.F4.sf1.8.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.4.3.1.1" class="ltx_text" style="font-size:90%;">0.99</span></th>
<td id="S6.F4.sf1.8.4.3.2" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.4.3.2.1" class="ltx_text" style="font-size:90%;">12.77</span></td>
<td id="S6.F4.sf1.8.4.3.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.4.3.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf1.8.4.3.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.4.3.4.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
</tr>
<tr id="S6.F4.sf1.8.5.4" class="ltx_tr">
<th id="S6.F4.sf1.8.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.5.4.1.1" class="ltx_text" style="font-size:90%;">0.999</span></th>
<td id="S6.F4.sf1.8.5.4.2" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.5.4.2.1" class="ltx_text" style="font-size:90%;">15.34</span></td>
<td id="S6.F4.sf1.8.5.4.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.5.4.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf1.8.5.4.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.5.4.4.1" class="ltx_text" style="font-size:90%;">0.98</span></td>
</tr>
<tr id="S6.F4.sf1.8.6.5" class="ltx_tr">
<th id="S6.F4.sf1.8.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.6.5.1.1" class="ltx_text" style="font-size:90%;">0.9999</span></th>
<td id="S6.F4.sf1.8.6.5.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.6.5.2.1" class="ltx_text" style="font-size:90%;">19.21</span></td>
<td id="S6.F4.sf1.8.6.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.6.5.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf1.8.6.5.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf1.8.6.5.4.1" class="ltx_text" style="font-size:90%;">0.90</span></td>
</tr>
</tbody>
</table>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S6.F4.sf2" class="ltx_figure ltx_figure_panel">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure"><span id="S6.F4.sf2.7.1.1" class="ltx_text" style="font-size:89%;">(b)</span> </span><span id="S6.F4.sf2.8.2" class="ltx_text" style="font-size:89%;">DPSGD <cite class="ltx_cite ltx_citemacro_cite">Abadi et al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite></span></figcaption>
<table id="S6.F4.sf2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.F4.sf2.1.1" class="ltx_tr">
<th id="S6.F4.sf2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;">
<math id="S6.F4.sf2.1.1.1.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S6.F4.sf2.1.1.1.m1.1a"><mi mathsize="90%" id="S6.F4.sf2.1.1.1.m1.1.1" xref="S6.F4.sf2.1.1.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S6.F4.sf2.1.1.1.m1.1b"><ci id="S6.F4.sf2.1.1.1.m1.1.1.cmml" xref="S6.F4.sf2.1.1.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.sf2.1.1.1.m1.1c">\epsilon</annotation></semantics></math><span id="S6.F4.sf2.1.1.1.1" class="ltx_text" style="font-size:90%;"> of DPSGD</span>
</th>
<th id="S6.F4.sf2.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.1.2.1" class="ltx_text" style="font-size:90%;">Perplexity</span></th>
<th id="S6.F4.sf2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.1.3.1" class="ltx_text" style="font-size:90%;">Precision</span></th>
<th id="S6.F4.sf2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.1.4.1" class="ltx_text" style="font-size:90%;">Recall</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.F4.sf2.1.2.1" class="ltx_tr">
<th id="S6.F4.sf2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.2.1.1.1" class="ltx_text" style="font-size:90%;">1</span></th>
<th id="S6.F4.sf2.1.2.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.2.1.2.1" class="ltx_text" style="font-size:90%;">16.31</span></th>
<td id="S6.F4.sf2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.2.1.3.1" class="ltx_text" style="font-size:90%;">0.00</span></td>
<td id="S6.F4.sf2.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.2.1.4.1" class="ltx_text" style="font-size:90%;">0.00</span></td>
</tr>
<tr id="S6.F4.sf2.1.3.2" class="ltx_tr">
<th id="S6.F4.sf2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.3.2.1.1" class="ltx_text" style="font-size:90%;">5</span></th>
<th id="S6.F4.sf2.1.3.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.3.2.2.1" class="ltx_text" style="font-size:90%;">14.32</span></th>
<td id="S6.F4.sf2.1.3.2.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.3.2.3.1" class="ltx_text" style="font-size:90%;">0.29</span></td>
<td id="S6.F4.sf2.1.3.2.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.3.2.4.1" class="ltx_text" style="font-size:90%;">0.01</span></td>
</tr>
<tr id="S6.F4.sf2.1.4.3" class="ltx_tr">
<th id="S6.F4.sf2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.4.3.1.1" class="ltx_text" style="font-size:90%;">10</span></th>
<th id="S6.F4.sf2.1.4.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.4.3.2.1" class="ltx_text" style="font-size:90%;">12.86</span></th>
<td id="S6.F4.sf2.1.4.3.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.4.3.3.1" class="ltx_text" style="font-size:90%;">0.88</span></td>
<td id="S6.F4.sf2.1.4.3.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.4.3.4.1" class="ltx_text" style="font-size:90%;">0.17</span></td>
</tr>
<tr id="S6.F4.sf2.1.5.4" class="ltx_tr">
<th id="S6.F4.sf2.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.5.4.1.1" class="ltx_text" style="font-size:90%;">15</span></th>
<th id="S6.F4.sf2.1.5.4.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.5.4.2.1" class="ltx_text" style="font-size:90%;">11.98</span></th>
<td id="S6.F4.sf2.1.5.4.3" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.5.4.3.1" class="ltx_text" style="font-size:90%;">0.97</span></td>
<td id="S6.F4.sf2.1.5.4.4" class="ltx_td ltx_align_center" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.5.4.4.1" class="ltx_text" style="font-size:90%;">0.49</span></td>
</tr>
<tr id="S6.F4.sf2.1.6.5" class="ltx_tr">
<th id="S6.F4.sf2.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.6.5.1.1" class="ltx_text" style="font-size:90%;">inf.</span></th>
<th id="S6.F4.sf2.1.6.5.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.6.5.2.1" class="ltx_text" style="font-size:90%;">11.46</span></th>
<td id="S6.F4.sf2.1.6.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.6.5.3.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
<td id="S6.F4.sf2.1.6.5.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-top:-0.65pt;padding-bottom:-0.65pt;"><span id="S6.F4.sf2.1.6.5.4.1" class="ltx_text" style="font-size:90%;">1.00</span></td>
</tr>
</tbody>
</table>
</figure>
</div>
</div>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 4: </span>Precision and recall for the reconstruction of tokens under gradient pruning (a) and DPSGD (b). FILM can still recover a considerable amount of tokens (i.e. &gt;90%) even with a gradient prune ratio of 0.9999. For DPSGD, FILM fails to retrieve the majority of tokens (i.e., recall &lt; 0.5) when <math id="S6.T4.2.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S6.T4.2.m1.1b"><mi id="S6.T4.2.m1.1.1" xref="S6.T4.2.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S6.T4.2.m1.1c"><ci id="S6.T4.2.m1.1.1.cmml" xref="S6.T4.2.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T4.2.m1.1d">\epsilon</annotation></semantics></math> is smaller than 15.
</figcaption>
</figure>
</section>
<section id="S6.SS3.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Token reconstruction under freezing embeddings.</h4>

<div id="S6.SS3.SSS0.Px3.p1" class="ltx_para">
<p id="S6.SS3.SSS0.Px3.p1.1" class="ltx_p">Freezing embeddings stops the attacker’s access to the bag-of-words, and therefore results in <em id="S6.SS3.SSS0.Px3.p1.1.1" class="ltx_emph ltx_font_italic">precision and recall both being 0</em>. However, it is nots considered a standard practice in training language models, as it may lead to worse model utility.</p>
</div>
<div id="S6.SS3.SSS0.Px3.p2" class="ltx_para ltx_minipage ltx_align_middle" style="width:203.8pt;">
<p id="S6.SS3.SSS0.Px3.p2.1" class="ltx_p">We compare the perplexity of GPT-2 models (1) with frozen embeddings or unfrozen embeddings and (2) from scratch (i.e., from a randomly initialized model)
or from pre-trained (i.e., initialized by GPT-2 parameters)
in Table <a href="#S6.T5" title="Table 5 ‣ Token reconstruction under freezing embeddings. ‣ 6.3 Evaluation of Defenses ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. We find that freezing word embeddings in training from scratch results in a significant loss of model utility, but is negligible in the setting of using a pre-trained model.</p>
</div>
<figure id="S6.T5" class="ltx_table ltx_minipage ltx_align_middle" style="width:216.8pt;">
<table id="S6.T5.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S6.T5.1.1.1" class="ltx_tr">
<td id="S6.T5.1.1.1.1" class="ltx_td ltx_border_tt" style="padding:-0.65pt 2.0pt;"></td>
<th id="S6.T5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:-0.65pt 2.0pt;" colspan="2"><span id="S6.T5.1.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">From Scratch</span></th>
<th id="S6.T5.1.1.1.3" class="ltx_td ltx_th ltx_th_column ltx_border_tt" style="padding:-0.65pt 2.0pt;"></th>
<th id="S6.T5.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:-0.65pt 2.0pt;" colspan="2"><span id="S6.T5.1.1.1.4.1" class="ltx_text ltx_font_bold" style="font-size:90%;">From Pretrained</span></th>
</tr>
<tr id="S6.T5.1.2.2" class="ltx_tr">
<td id="S6.T5.1.2.2.1" class="ltx_td" style="padding:-0.65pt 2.0pt;"></td>
<td id="S6.T5.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.2.2.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Unfrozen</span></td>
<td id="S6.T5.1.2.2.3" class="ltx_td ltx_align_right ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.2.2.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Frozen</span></td>
<td id="S6.T5.1.2.2.4" class="ltx_td" style="padding:-0.65pt 2.0pt;"></td>
<td id="S6.T5.1.2.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.2.2.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Unfrozen</span></td>
<td id="S6.T5.1.2.2.6" class="ltx_td ltx_align_right ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.2.2.6.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Frozen</span></td>
</tr>
<tr id="S6.T5.1.3.3" class="ltx_tr">
<td id="S6.T5.1.3.3.1" class="ltx_td ltx_align_right ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.3.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Wikitext-103</span></td>
<td id="S6.T5.1.3.3.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.3.3.2.1" class="ltx_text" style="font-size:90%;">27.31</span></td>
<td id="S6.T5.1.3.3.3" class="ltx_td ltx_align_right ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.3.3.3.1" class="ltx_text" style="font-size:90%;">118.69</span></td>
<td id="S6.T5.1.3.3.4" class="ltx_td ltx_border_t" style="padding:-0.65pt 2.0pt;"></td>
<td id="S6.T5.1.3.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.3.3.5.1" class="ltx_text" style="font-size:90%;">11.40</span></td>
<td id="S6.T5.1.3.3.6" class="ltx_td ltx_align_right ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.3.3.6.1" class="ltx_text" style="font-size:90%;">11.48</span></td>
</tr>
<tr id="S6.T5.1.4.4" class="ltx_tr">
<td id="S6.T5.1.4.4.1" class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.4.4.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Enron Email</span></td>
<td id="S6.T5.1.4.4.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.4.4.2.1" class="ltx_text" style="font-size:90%;">15.16</span></td>
<td id="S6.T5.1.4.4.3" class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.4.4.3.1" class="ltx_text" style="font-size:90%;">69.17</span></td>
<td id="S6.T5.1.4.4.4" class="ltx_td ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"></td>
<td id="S6.T5.1.4.4.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.4.4.5.1" class="ltx_text" style="font-size:90%;">7.09</span></td>
<td id="S6.T5.1.4.4.6" class="ltx_td ltx_align_right ltx_border_bb ltx_border_t" style="padding:-0.65pt 2.0pt;"><span id="S6.T5.1.4.4.6.1" class="ltx_text" style="font-size:90%;">7.30</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 5: </span>Perplexity when embeddings are frozen or unfrozen. We observe a significant drop in perplexity when embeddings are frozen in training from scratch. </figcaption>
</figure>
</section>
</section>
</section>
<section id="S7" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Analysis</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">We finally discuss the impact of different parameters of our FILM attack in Fig. <a href="#S7.F5" title="Figure 5 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and Fig. <a href="#S7.F6" title="Figure 6 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. We also study the effect of different training parameters and present the results in Appendix <a href="#A2.SS7" title="B.7 Ablation Study for Training Configurations ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B.7</span></a>.</p>
</div>
<section id="S7.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Beam size.</h4>

<div id="S7.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S7.SS0.SSS0.Px1.p1.1" class="ltx_p">As discussed in Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>, beam size (denoted by <math id="S7.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S7.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S7.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S7.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S7.SS0.SSS0.Px1.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px1.p1.1.m1.1c">k</annotation></semantics></math>) is a hyper-parameter of beam search which controls the number of beams active at any time. As shown in Fig. <a href="#S7.F5" title="Figure 5 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> (left), the attack performance grows as the beam size is increased. This result aligns with our intuition using a larger beam size corresponds with consideration of more sentences during search. Considering that the computational resources required for the attack also increases with a larger beam size, we find that a beam size of around 32 achieves the best trade-off in terms of attack performance and efficiency.</p>
</div>
</section>
<section id="S7.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">N-gram penalty.</h4>

<div id="S7.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S7.SS0.SSS0.Px2.p1.3" class="ltx_p">The <math id="S7.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S7.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S7.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S7.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S7.SS0.SSS0.Px2.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p1.1.m1.1c">n</annotation></semantics></math>-gram penalty controls for what size of <math id="S7.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.SS0.SSS0.Px2.p1.2.m2.1a"><mi id="S7.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S7.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p1.2.m2.1b"><ci id="S7.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S7.SS0.SSS0.Px2.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p1.2.m2.1c">n</annotation></semantics></math>-gram the penalty is applied. In Fig. <a href="#S7.F5" title="Figure 5 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> (right), we observe that having no penalty performs significantly worse than applying a penalty on repeated 2-grams. We note that performance for <math id="S7.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="n=2" display="inline"><semantics id="S7.SS0.SSS0.Px2.p1.3.m3.1a"><mrow id="S7.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">n</mi><mo id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.1" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml">=</mo><mn id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1"><eq id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.1"></eq><ci id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.2">𝑛</ci><cn type="integer" id="S7.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S7.SS0.SSS0.Px2.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px2.p1.3.m3.1c">n=2</annotation></semantics></math> (i.e., penalizing repeated 2-grams) is the closest to the “oracle” case, where the frequency of each word is known from the bag of words.</p>
</div>
</section>
<section id="S7.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Gradient norm’s coefficient <math id="S7.SS0.SSS0.Px3.1.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S7.SS0.SSS0.Px3.1.m1.1b"><mi id="S7.SS0.SSS0.Px3.1.m1.1.1" xref="S7.SS0.SSS0.Px3.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.1.m1.1c"><ci id="S7.SS0.SSS0.Px3.1.m1.1.1.cmml" xref="S7.SS0.SSS0.Px3.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.1.m1.1d">\beta</annotation></semantics></math> in prior-based scoring.</h4>

<div id="S7.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S7.SS0.SSS0.Px3.p1.6" class="ltx_p">As discussed in Sec. <a href="#S4.SS4" title="4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>, the prior-based token recording for a sentence <math id="S7.SS0.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\mathbf{x}" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.1.m1.1a"><mi id="S7.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S7.SS0.SSS0.Px3.p1.1.m1.1.1.cmml">𝐱</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.1.m1.1b"><ci id="S7.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.1.m1.1.1">𝐱</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.1.m1.1c">\mathbf{x}</annotation></semantics></math> uses a scoring function <math id="S7.SS0.SSS0.Px3.p1.2.m2.3" class="ltx_Math" alttext="\mathcal{S}(\mathbf{x})=\text{Perplexity}(\mathbf{x})+\beta\cdot\text{Gradient Norm}(\mathbf{x})" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.2.m2.3a"><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.cmml"><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.2.cmml">𝒮</mi><mo lspace="0em" rspace="0em" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.1.cmml">​</mo><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.3.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml"><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.3.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml">(</mo><mi id="S7.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">𝐱</mi><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.3.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml">)</mo></mrow></mrow><mo id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.1.cmml">=</mo><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.cmml"><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.cmml"><mtext id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2a.cmml">Perplexity</mtext><mo lspace="0em" rspace="0em" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.1.cmml">​</mo><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.3.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.cmml"><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.3.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.cmml">(</mo><mi id="S7.SS0.SSS0.Px3.p1.2.m2.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.2.2.cmml">𝐱</mi><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.3.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.cmml">)</mo></mrow></mrow><mo id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml">+</mo><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.cmml"><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.cmml"><mi id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.2.cmml">β</mi><mo lspace="0.222em" rspace="0.222em" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.1.cmml">⋅</mo><mtext id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3a.cmml">Gradient Norm</mtext></mrow><mo lspace="0em" rspace="0em" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.1.cmml">​</mo><mrow id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.3.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.cmml"><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.3.2.1" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.cmml">(</mo><mi id="S7.SS0.SSS0.Px3.p1.2.m2.3.3" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.3.cmml">𝐱</mi><mo stretchy="false" id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.3.2.2" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.2.m2.3b"><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4"><eq id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.1"></eq><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2"><times id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.1"></times><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.2.2">𝒮</ci><ci id="S7.SS0.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.1.1">𝐱</ci></apply><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3"><plus id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.1"></plus><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2"><times id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.1"></times><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2a.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2"><mtext id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.2.2">Perplexity</mtext></ci><ci id="S7.SS0.SSS0.Px3.p1.2.m2.2.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.2.2">𝐱</ci></apply><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3"><times id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.1"></times><apply id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2"><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.1.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.1">⋅</ci><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.2.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.2">𝛽</ci><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3a.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3"><mtext id="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.4.3.3.2.3">Gradient Norm</mtext></ci></apply><ci id="S7.SS0.SSS0.Px3.p1.2.m2.3.3.cmml" xref="S7.SS0.SSS0.Px3.p1.2.m2.3.3">𝐱</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.2.m2.3c">\mathcal{S}(\mathbf{x})=\text{Perplexity}(\mathbf{x})+\beta\cdot\text{Gradient Norm}(\mathbf{x})</annotation></semantics></math>, where <math id="S7.SS0.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.3.m3.1a"><mi id="S7.SS0.SSS0.Px3.p1.3.m3.1.1" xref="S7.SS0.SSS0.Px3.p1.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.3.m3.1b"><ci id="S7.SS0.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.3.m3.1c">\beta</annotation></semantics></math> is a hyper-parameter that controls the importance of the gradient norm term. Our results (see Fig. <a href="#S7.F6" title="Figure 6 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (left)) show that the fine-tuning stage achieves a trade-off between fully perplexity-guided (i.e., <math id="S7.SS0.SSS0.Px3.p1.4.m4.1" class="ltx_Math" alttext="\beta=0" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.4.m4.1a"><mrow id="S7.SS0.SSS0.Px3.p1.4.m4.1.1" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.cmml"><mi id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.2" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.2.cmml">β</mi><mo id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.1" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.1.cmml">=</mo><mn id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.3" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.4.m4.1b"><apply id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1"><eq id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.1"></eq><ci id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.2">𝛽</ci><cn type="integer" id="S7.SS0.SSS0.Px3.p1.4.m4.1.1.3.cmml" xref="S7.SS0.SSS0.Px3.p1.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.4.m4.1c">\beta=0</annotation></semantics></math>) and almost fully gradient norm-guided (i.e., <math id="S7.SS0.SSS0.Px3.p1.5.m5.1" class="ltx_Math" alttext="\beta=50" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.5.m5.1a"><mrow id="S7.SS0.SSS0.Px3.p1.5.m5.1.1" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.cmml"><mi id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.2" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.2.cmml">β</mi><mo id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.1" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.1.cmml">=</mo><mn id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.3" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.5.m5.1b"><apply id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1"><eq id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.1"></eq><ci id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.2.cmml" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.2">𝛽</ci><cn type="integer" id="S7.SS0.SSS0.Px3.p1.5.m5.1.1.3.cmml" xref="S7.SS0.SSS0.Px3.p1.5.m5.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.5.m5.1c">\beta=50</annotation></semantics></math>), with <math id="S7.SS0.SSS0.Px3.p1.6.m6.1" class="ltx_Math" alttext="\beta=1" display="inline"><semantics id="S7.SS0.SSS0.Px3.p1.6.m6.1a"><mrow id="S7.SS0.SSS0.Px3.p1.6.m6.1.1" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.cmml"><mi id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.2" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.2.cmml">β</mi><mo id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.1" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.1.cmml">=</mo><mn id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.3" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS0.SSS0.Px3.p1.6.m6.1b"><apply id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1"><eq id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.1"></eq><ci id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.2.cmml" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.2">𝛽</ci><cn type="integer" id="S7.SS0.SSS0.Px3.p1.6.m6.1.1.3.cmml" xref="S7.SS0.SSS0.Px3.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS0.SSS0.Px3.p1.6.m6.1c">\beta=1</annotation></semantics></math> being the optimal. The trend is consistent across different batch sizes.</p>
</div>
<figure id="S7.F5" class="ltx_figure ltx_minipage ltx_align_middle" style="width:214.6pt;"><img src="/html/2205.08514/assets/x5.png" id="S7.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="161" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>
Effect of beam size and <math id="S7.F5.4.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.F5.4.m1.1b"><mi id="S7.F5.4.m1.1.1" xref="S7.F5.4.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S7.F5.4.m1.1c"><ci id="S7.F5.4.m1.1.1.cmml" xref="S7.F5.4.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.F5.4.m1.1d">n</annotation></semantics></math>-gram penalty. Recovery quality improves with larger beam sizes (left).
An <math id="S7.F5.5.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S7.F5.5.m2.1b"><mi id="S7.F5.5.m2.1.1" xref="S7.F5.5.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S7.F5.5.m2.1c"><ci id="S7.F5.5.m2.1.1.cmml" xref="S7.F5.5.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.F5.5.m2.1d">n</annotation></semantics></math>-gram penalty (<math id="S7.F5.6.m3.1" class="ltx_Math" alttext="n=2" display="inline"><semantics id="S7.F5.6.m3.1b"><mrow id="S7.F5.6.m3.1.1" xref="S7.F5.6.m3.1.1.cmml"><mi id="S7.F5.6.m3.1.1.2" xref="S7.F5.6.m3.1.1.2.cmml">n</mi><mo id="S7.F5.6.m3.1.1.1" xref="S7.F5.6.m3.1.1.1.cmml">=</mo><mn id="S7.F5.6.m3.1.1.3" xref="S7.F5.6.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.F5.6.m3.1c"><apply id="S7.F5.6.m3.1.1.cmml" xref="S7.F5.6.m3.1.1"><eq id="S7.F5.6.m3.1.1.1.cmml" xref="S7.F5.6.m3.1.1.1"></eq><ci id="S7.F5.6.m3.1.1.2.cmml" xref="S7.F5.6.m3.1.1.2">𝑛</ci><cn type="integer" id="S7.F5.6.m3.1.1.3.cmml" xref="S7.F5.6.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.F5.6.m3.1d">n=2</annotation></semantics></math>) performs the best (right).
</figcaption>
</figure>
<figure id="S7.F6" class="ltx_figure ltx_minipage ltx_align_middle" style="width:214.6pt;"><img src="/html/2205.08514/assets/x6.png" id="S7.F6.g1" class="ltx_graphics ltx_img_landscape" width="461" height="170" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Effect of gradient norm coefficient <math id="S7.F6.2.m1.1" class="ltx_Math" alttext="\beta" display="inline"><semantics id="S7.F6.2.m1.1b"><mi id="S7.F6.2.m1.1.1" xref="S7.F6.2.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S7.F6.2.m1.1c"><ci id="S7.F6.2.m1.1.1.cmml" xref="S7.F6.2.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.F6.2.m1.1d">\beta</annotation></semantics></math> in the sentence reordering stage (Sec. <a href="#S4.SS4" title="4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>) (left), and the improvement of ROUGE-L after fine-tuning (right).
</figcaption>
</figure>
<div id="S7.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S7.SS0.SSS0.Px3.p2.1" class="ltx_p">We also notice that the improvement in the token reordering stage is most significant for small batch sizes (see Fig. <a href="#S7.F6" title="Figure 6 ‣ Gradient norm’s coefficient 𝛽 in prior-based scoring. ‣ 7 Analysis ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> (right)). We hypothesize this is due to locality; the beam search result for smaller batch sizes is usually closer to its corresponding ground truth sentence than for larger batch sizes, which makes fine-grained reordering more powerful.</p>
</div>
</section>
</section>
<section id="S8" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Discussion and Future Work</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">This paper presents the first attack that can recover multiple sentences from gradients in the federated training of the language modeling task. Our method FILM works well with modern neural language models based on Transformers and large batch sizes (up to 128), raising serious privacy-leakage concerns for federated learning in real-world scenarios. The key insight of our study is that an adversary can gain substantial power to reconstruct sentences by taking advantage of the knowledge memorized by trained language models. We also propose a new defense which freezes the word embeddings during the federated training of language models. Our evaluation shows that it can effectively defend the FILM attack for the setting of
starting from a pretrained languages model, with little utility loss.</p>
</div>
<section id="S8.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Limitations.</h4>

<div id="S8.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S8.SS0.SSS0.Px1.p1.1" class="ltx_p">The results presented in this paper have several limitations. First, we have not evaluated whether our attack can generalize to other natural language processing tasks, such as text classification. Second, we have not tried our attack for batch sizes beyond 128 and our ablation study does not report results for batch sizes beyond 16. We additionally leave open the question of selecting good sentences in the multi-sentence recovery scenario (Sec. <a href="#S6.SS2.SSS0.Px4" title="Recovering multiple sentences by iterative attack. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.2</span></a>). Furthermore, the proposed defense of freezing embeddings during the pre-training of the language model can be detrimental to the model utility. Therefore, how to effectively defend the FILM attack for this setting remains open.</p>
</div>
</section>
<section id="S8.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Ethical considerations.</h4>

<div id="S8.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S8.SS0.SSS0.Px2.p1.1" class="ltx_p">While our intention is to raise the awareness of the privacy risks in the language modeling task in federated learning, from the attacker’s prospective, FILM is also likely a step towards even stronger attacks. Therefore, we hope that this work can also motivate a necessary redesign of defenses to provide meaningful privacy guarantees to clients for training language models in federated learning.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
<section id="bib" class="ltx_bibliography" lang="en">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abadi et al. (2016)</span>
<span class="ltx_bibblock">
Abadi, M., Chu, A., Goodfellow, I., McMahan, H. B., Mironov, I., Talwar, K.,
and Zhang, L.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">ACM SIGSAC Conference on Computer and Communications
Security (CCS)</em>, 2016.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alsentzer et al. (2019)</span>
<span class="ltx_bibblock">
Alsentzer, E., Murphy, J. R., Boag, W., Weng, W.-H., Jin, D., Naumann, T., and
McDermott, M.

</span>
<span class="ltx_bibblock">Publicly available clinical BERT embeddings.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1904.03323</em>, 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arpit et al. (2017)</span>
<span class="ltx_bibblock">
Arpit, D., Jastrzebski, S., Ballas, N., Krueger, D., Bengio, E., Kanwal, M. S.,
Maharaj, T., Fischer, A., Courville, A., Bengio, Y., et al.

</span>
<span class="ltx_bibblock">A closer look at memorization in deep networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, 2017.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bender et al. (2021)</span>
<span class="ltx_bibblock">
Bender, E. M., Gebru, T., McMillan-Major, A., and Shmitchell, S.

</span>
<span class="ltx_bibblock">On the Dangers of Stochastic Parrots: Can Language Models
Be Too Big?

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 ACM Conference on Fairness,
Accountability, and Transparency</em>, Virtual Event Canada, 2021. ACM.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Boenisch et al. (2021)</span>
<span class="ltx_bibblock">
Boenisch, F., Dziedzic, A., Schuster, R., Shamsabadi, A. S., Shumailov, I., and
Papernot, N.

</span>
<span class="ltx_bibblock">When the curious abandon honesty: Federated learning is not private.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2112.02918</em>, 2021.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et al. (2016)</span>
<span class="ltx_bibblock">
Bonawitz, K. A., Ivanov, V., Kreuter, B., Marcedone, A., McMahan, H. B., Patel,
S., Ramage, D., Segal, A., and Seth, K.

</span>
<span class="ltx_bibblock">Practical secure aggregation for federated learning on user-held
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">NIPS Workshop on Private Multi-Party Machine Learning</em>,
2016.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al. (2020)</span>
<span class="ltx_bibblock">
Brown, T. B., Mann, B., Ryder, N., Subbiah, M., Kaplan, J., Dhariwal, P.,
Neelakantan, A., Shyam, P., Sastry, G., Askell, A., et al.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, 2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carlini et al. (2019)</span>
<span class="ltx_bibblock">
Carlini, N., Liu, C., Erlingsson, Ú., Kos, J., and Song, D.

</span>
<span class="ltx_bibblock">The secret sharer: Evaluating and testing unintended memorization in
neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">28th USENIX Security Symposium (USENIX Security 19)</em>, 2019.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carlini et al. (2021)</span>
<span class="ltx_bibblock">
Carlini, N., Tramer, F., Wallace, E., Jagielski, M., Herbert-Voss, A., Lee, K.,
Roberts, A., Brown, T., Song, D., Erlingsson, U., et al.

</span>
<span class="ltx_bibblock">Extracting training data from large language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">30th USENIX Security Symposium (USENIX Security 21)</em>, 2021.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cho et al. (2014)</span>
<span class="ltx_bibblock">
Cho, K., van Merriënboer, B., Bahdanau, D., and Bengio, Y.

</span>
<span class="ltx_bibblock">On the properties of neural machine translation: Encoder–decoder
approaches.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Proceedings of SSST-8, Eighth Workshop on Syntax, Semantics
and Structure in Statistical Translation</em>, pp.  103–111, 2014.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2021)</span>
<span class="ltx_bibblock">
Deng, J., Wang, Y., Li, J., Wang, C., Shang, C., Liu, H., Rajasekaran, S., and
Ding, C.

</span>
<span class="ltx_bibblock">Tag: Gradient attack on transformer-based language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for Computational Linguistics:
EMNLP 2021</em>, pp.  3600–3610, 2021.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al. (2019)</span>
<span class="ltx_bibblock">
Devlin, J., Chang, M.-W., Lee, K., and Toutanova, K.

</span>
<span class="ltx_bibblock">BERT: Pre-training of deep bidirectional transformers for language
understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">North American Chapter of the Association for Computational
Linguistics (NAACL)</em>, 2019.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dimitrov et al. (2022)</span>
<span class="ltx_bibblock">
Dimitrov, D. I., Balunović, M., Jovanović, N., and Vechev, M.

</span>
<span class="ltx_bibblock">Lamp: Extracting text from gradients with language model priors.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2202.08827</em>, 2022.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Enthoven &amp; Al-Ars (2021)</span>
<span class="ltx_bibblock">
Enthoven, D. and Al-Ars, Z.

</span>
<span class="ltx_bibblock">Fidel: Reconstructing private training samples from weight updates in
federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2101.00159</em>, 2021.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fowl et al. (2022)</span>
<span class="ltx_bibblock">
Fowl, L., Geiping, J., Reich, S., Wen, Y., Czaja, W., Goldblum, M., and
Goldstein, T.

</span>
<span class="ltx_bibblock">Decepticons: Corrupted transformers breach privacy in federated
learning for language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2201.12675</em>, 2022.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geiping et al. (2020)</span>
<span class="ltx_bibblock">
Geiping, J., Bauermeister, H., Dröge, H., and Moeller, M.

</span>
<span class="ltx_bibblock">Inverting gradients–how easy is it to break privacy in federated
learning?

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, 2020.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gupta et al. (2021)</span>
<span class="ltx_bibblock">
Gupta, U., Stripelis, D., Lam, P. K., Thompson, P., Ambite, J. L., and
Ver Steeg, G.

</span>
<span class="ltx_bibblock">Membership inference attacks on deep regression models for
neuroimaging.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Medical Imaging with Deep Learning</em>, pp.  228–251. PMLR,
2021.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard et al. (2018)</span>
<span class="ltx_bibblock">
Hard, A., Rao, K., Mathews, R., Ramaswamy, S., Beaufays, F., Augenstein, S.,
Eichner, H., Kiddon, C., and Ramage, D.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1811.03604</em>, 2018.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Holtzman et al. (2020)</span>
<span class="ltx_bibblock">
Holtzman, A., Buys, J., Du, L., Forbes, M., and Choi, Y.

</span>
<span class="ltx_bibblock">The curious case of neural text degeneration.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Honnibal et al. (2020)</span>
<span class="ltx_bibblock">
Honnibal, M., Montani, I., Van Landeghem, S., and Boyd, A.

</span>
<span class="ltx_bibblock">spaCy: Industrial-strength Natural Language Processing in Python.

</span>
<span class="ltx_bibblock">2020.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.5281/zenodo.1212303</span>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2019)</span>
<span class="ltx_bibblock">
Huang, K., Altosaar, J., and Ranganath, R.

</span>
<span class="ltx_bibblock">ClinicalBERT: Modeling clinical notes and predicting hospital
readmission.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1904.05342</em>, 2019.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2020a)</span>
<span class="ltx_bibblock">
Huang, Y., Song, Z., Chen, D., Li, K., and Arora, S.

</span>
<span class="ltx_bibblock">TextHide: Tackling data privacy in language understanding tasks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Findings of EMNLP</em>, 2020a.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2020b)</span>
<span class="ltx_bibblock">
Huang, Y., Song, Z., Li, K., and Arora, S.

</span>
<span class="ltx_bibblock">InstaHide: Instance-hiding schemes for private distributed
learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>,
2020b.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2021)</span>
<span class="ltx_bibblock">
Huang, Y., Gupta, S., Song, Z., Li, K., and Arora, S.

</span>
<span class="ltx_bibblock">Evaluating gradient inversion attacks and defenses in federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems (NeurIPS)</em>,
34, 2021.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jeon et al. (2021)</span>
<span class="ltx_bibblock">
Jeon, J., Lee, K., Oh, S., Ok, J., et al.

</span>
<span class="ltx_bibblock">Gradient inversion with generative image prior.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, volume 34, 2021.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jin et al. (2021)</span>
<span class="ltx_bibblock">
Jin, X., Chen, P.-Y., Hsu, C.-Y., Yu, C.-M., and Chen, T.

</span>
<span class="ltx_bibblock">Catastrophic data leakage in vertical federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, volume 34, 2021.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma &amp; Ba (2015)</span>
<span class="ltx_bibblock">
Kingma, D. P. and Ba, J.

</span>
<span class="ltx_bibblock">Adam: A method for stochastic optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2015.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Klimt &amp; Yang (2004)</span>
<span class="ltx_bibblock">
Klimt, B. and Yang, Y.

</span>
<span class="ltx_bibblock">The enron corpus: A new dataset for email classification research.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">European Conference on Machine Learning</em>. Springer, 2004.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kraljevic et al. (2021)</span>
<span class="ltx_bibblock">
Kraljevic, Z., Shek, A., Bean, D., Bendayan, R., Teo, J., and Dobson, R.

</span>
<span class="ltx_bibblock">MedGPT: Medical concept prediction from clinical narratives.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2107.03134</em>, 2021.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">IEEE Signal Processing Magazine</em>, 37(3):50–60, 2020a.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Li, X., Tramer, F., Liang, P., and Hashimoto, T.

</span>
<span class="ltx_bibblock">Large language models can be strong differentially private learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.05679</em>, 2021.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Li, Y., Rao, S., Solares, J. R. A., Hassaine, A., Ramakrishnan, R., Canoy, D.,
Zhu, Y., Rahimi, K., and Salimi-Khorshidi, G.

</span>
<span class="ltx_bibblock">BEHRT: transformer for electronic health records.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Scientific reports</em>, 10(1):1–12,
2020b.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin (2004)</span>
<span class="ltx_bibblock">
Lin, C.-Y.

</span>
<span class="ltx_bibblock">ROUGE: A package for automatic evaluation of summaries.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Text Summarization Branches Out</em>, pp.  74–81, July 2004.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu &amp; Miller (2020)</span>
<span class="ltx_bibblock">
Liu, D. and Miller, T.

</span>
<span class="ltx_bibblock">Federated pretraining and fine tuning of BERT using clinical notes
from multiple silos.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.08562</em>, 2020.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lyu et al. (2020)</span>
<span class="ltx_bibblock">
Lyu, L., Yu, H., Ma, X., Sun, L., Zhao, J., Yang, Q., and Yu, P. S.

</span>
<span class="ltx_bibblock">Privacy and robustness in federated learning: Attacks and defenses.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2012.06337</em>, 2020.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Malkin et al. (2021)</span>
<span class="ltx_bibblock">
Malkin, N., Lanka, S., Goel, P., and Jojic, N.

</span>
<span class="ltx_bibblock">Studying word order through iterative shuffling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">Empirical Methods in Natural Language Processing (EMNLP)</em>,
pp.  10351–10366, 2021.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, H. B., Moore, E., Ramage, D., Hampson, S., et al.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics (AISTATS)</em>, pp. 1273–1282, 2017.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Melis et al. (2019)</span>
<span class="ltx_bibblock">
Melis, L., Song, C., De Cristofaro, E., and Shmatikov, V.

</span>
<span class="ltx_bibblock">Exploiting unintended feature leakage in collaborative learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">2019 IEEE Symposium on Security and Privacy (SP)</em>, pp. 691–706. IEEE, 2019.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Merity et al. (2017)</span>
<span class="ltx_bibblock">
Merity, S., Xiong, C., Bradbury, J., and Socher, R.

</span>
<span class="ltx_bibblock">Pointer sentinel mixture models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2017.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mikolov et al. (2010)</span>
<span class="ltx_bibblock">
Mikolov, T., Karafiát, M., Burget, L., Cernockỳ, J., and Khudanpur, S.

</span>
<span class="ltx_bibblock">Recurrent neural network based language model.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Annual Conference of the International Speech Communication
Association (INTERSPEECH)</em>, volume 2, pp.  1045–1048. Makuhari, 2010.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Phong et al. (2018)</span>
<span class="ltx_bibblock">
Phong, L. T., Aono, Y., Hayashi, T., Wang, L., and Moriai, S.

</span>
<span class="ltx_bibblock">Privacy-preserving deep learning via additively homomorphic
encryption.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Information Forensics and Security</em>, 2018.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pustozerova &amp; Mayer (2020)</span>
<span class="ltx_bibblock">
Pustozerova, A. and Mayer, R.

</span>
<span class="ltx_bibblock">Information leaks in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Network and Distributed System Security
Symposium</em>, volume 10, 2020.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2018)</span>
<span class="ltx_bibblock">
Radford, A., Narasimhan, K., Salimans, T., and Sutskever, I.

</span>
<span class="ltx_bibblock">Improving language understanding by generative pre-training.

</span>
<span class="ltx_bibblock">Technical report, OpenAI, 2018.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2019)</span>
<span class="ltx_bibblock">
Radford, A., Wu, J., Child, R., Luan, D., Amodei, D., Sutskever, I., et al.

</span>
<span class="ltx_bibblock">Language models are unsupervised multitask learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">OpenAI blog</em>, 1(8):9, 2019.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddy et al. (1977)</span>
<span class="ltx_bibblock">
Reddy, D. R. et al.

</span>
<span class="ltx_bibblock">Speech understanding systems: A summary of results of the five-year
research effort.

</span>
<span class="ltx_bibblock"><em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">Department of Computer Science. Camegie-Mell University,
Pittsburgh, PA</em>, 17:138, 1977.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Russell &amp; Norvig (2010)</span>
<span class="ltx_bibblock">
Russell, S. and Norvig, P.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence: A Modern Approach</em>.

</span>
<span class="ltx_bibblock">Prentice Hall, 3 edition, 2010.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song &amp; Raghunathan (2020)</span>
<span class="ltx_bibblock">
Song, C. and Raghunathan, A.

</span>
<span class="ltx_bibblock">Information leakage in embedding models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">ACM SIGSAC Conference on Computer and Communications
Security (CCS)</em>, 2020.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thakkar et al. (2021)</span>
<span class="ltx_bibblock">
Thakkar, O., Ramaswamy, S., Mathews, R., and Beaufays, F.

</span>
<span class="ltx_bibblock">Understanding unintended memorization in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Third Workshop on Privacy in Natural
Language Processing</em>, pp.  1–10, 2021.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N.,
Kaiser, Ł., and Polosukhin, I.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, 2017.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vijayakumar et al. (2016)</span>
<span class="ltx_bibblock">
Vijayakumar, A. K., Cogswell, M., Selvaraju, R. R., Sun, Q., Lee, S., Crandall,
D., and Batra, D.

</span>
<span class="ltx_bibblock">Diverse beam search: Decoding diverse solutions from neural sequence
models.

</span>
<span class="ltx_bibblock"><em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1610.02424</em>, 2016.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wainakh et al. (2021)</span>
<span class="ltx_bibblock">
Wainakh, A., Ventola, F., Müßig, T., Keim, J., Cordero, C. G., Zimmer,
E., Grube, T., Kersting, K., and Mühlhäuser, M.

</span>
<span class="ltx_bibblock">User label leakage from gradients in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2105.09369</em>, 2021.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin et al. (2021)</span>
<span class="ltx_bibblock">
Yin, H., Mallya, A., Vahdat, A., Alvarez, J. M., Kautz, J., and Molchanov, P.

</span>
<span class="ltx_bibblock">See through gradients: Image batch recovery via gradinversion.

</span>
<span class="ltx_bibblock">In <em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">Conference on Computer Vision and Pattern Recognition
(CVPR)</em>, 2021.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2021)</span>
<span class="ltx_bibblock">
Yu, D., Naik, S., Backurs, A., Gopi, S., Inan, H. A., Kamath, G., Kulkarni, J.,
Lee, Y. T., Manoel, A., Wutschitz, L., et al.

</span>
<span class="ltx_bibblock">Differentially private fine-tuning of language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.06500</em>, 2021.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zanella-Béguelin et al. (2020)</span>
<span class="ltx_bibblock">
Zanella-Béguelin, S., Wutschitz, L., Tople, S., Rühle, V., Paverd, A.,
Ohrimenko, O., Köpf, B., and Brockschmidt, M.

</span>
<span class="ltx_bibblock">Analyzing information leakage of updates to natural language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">ACM SIGSAC Conference on Computer and Communications
Security (CCS)</em>, 2020.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2018)</span>
<span class="ltx_bibblock">
Zhang, H., Cisse, M., Dauphin, Y. N., and Lopez-Paz, D.

</span>
<span class="ltx_bibblock">mixup: Beyond empirical risk minimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2018.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. (2020)</span>
<span class="ltx_bibblock">
Zhao, B., Mopuri, K. R., and Bilen, H.

</span>
<span class="ltx_bibblock">iDLG: Improved deep leakage from gradients.

</span>
<span class="ltx_bibblock"><em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2001.02610</em>, 2020.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu &amp; Blaschko (2021)</span>
<span class="ltx_bibblock">
Zhu, J. and Blaschko, M. B.

</span>
<span class="ltx_bibblock">R-gap: Recursive gradient attack on privacy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2021.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2019)</span>
<span class="ltx_bibblock">
Zhu, L., Liu, Z., and Han, S.

</span>
<span class="ltx_bibblock">Deep leakage from gradients.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems
(NeurIPS)</em>, 2019.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="Sx1" class="ltx_section" lang="en">
<h2 class="ltx_title ltx_title_section">Checklist</h2>

<div id="Sx1.p1" class="ltx_para">
<ol id="Sx1.I1" class="ltx_enumerate">
<li id="Sx1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="Sx1.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i1.p1.1" class="ltx_p">For all authors…</p>
<ol id="Sx1.I1.i1.I1" class="ltx_enumerate">
<li id="Sx1.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="Sx1.I1.i1.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i1.I1.i1.p1.1" class="ltx_p">Do the main claims made in the abstract and introduction accurately reflect the paper’s contributions and scope?
<span id="Sx1.I1.i1.I1.i1.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>.</p>
</div>
</li>
<li id="Sx1.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="Sx1.I1.i1.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i1.I1.i2.p1.1" class="ltx_p">Did you describe the limitations of your work?
<span id="Sx1.I1.i1.I1.i2.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S8" title="8 Discussion and Future Work ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
</li>
<li id="Sx1.I1.i1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="Sx1.I1.i1.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i1.I1.i3.p1.1" class="ltx_p">Did you discuss any potential negative societal impacts of your work?
<span id="Sx1.I1.i1.I1.i3.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S8" title="8 Discussion and Future Work ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.</p>
</div>
</li>
<li id="Sx1.I1.i1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span> 
<div id="Sx1.I1.i1.I1.i4.p1" class="ltx_para">
<p id="Sx1.I1.i1.I1.i4.p1.1" class="ltx_p">Have you read the ethics review guidelines and ensured that your paper conforms to them?
<span id="Sx1.I1.i1.I1.i4.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>.</p>
</div>
</li>
</ol>
</div>
</li>
<li id="Sx1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="Sx1.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i2.p1.1" class="ltx_p">If you are including theoretical results…</p>
<ol id="Sx1.I1.i2.I1" class="ltx_enumerate">
<li id="Sx1.I1.i2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="Sx1.I1.i2.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i2.I1.i1.p1.1" class="ltx_p">Did you state the full set of assumptions of all theoretical results?
<span id="Sx1.I1.i2.I1.i1.p1.1.1" class="ltx_text" style="color:#808080;">[N/A] </span></p>
</div>
</li>
<li id="Sx1.I1.i2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="Sx1.I1.i2.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i2.I1.i2.p1.1" class="ltx_p">Did you include complete proofs of all theoretical results?
<span id="Sx1.I1.i2.I1.i2.p1.1.1" class="ltx_text" style="color:#808080;">[N/A] </span></p>
</div>
</li>
</ol>
</div>
</li>
<li id="Sx1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="Sx1.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i3.p1.1" class="ltx_p">If you ran experiments…</p>
<ol id="Sx1.I1.i3.I1" class="ltx_enumerate">
<li id="Sx1.I1.i3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="Sx1.I1.i3.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i3.I1.i1.p1.1" class="ltx_p">Did you include the code, data, and instructions needed to reproduce the main experimental results (either in the supplemental material or as a URL)?
<span id="Sx1.I1.i3.I1.i1.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, please check the supplemental material.</p>
</div>
</li>
<li id="Sx1.I1.i3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="Sx1.I1.i3.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i3.I1.i2.p1.1" class="ltx_p">Did you specify all the training details (e.g., data splits, hyperparameters, how they were chosen)?
<span id="Sx1.I1.i3.I1.i2.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S6.SS1" title="6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a>.</p>
</div>
</li>
<li id="Sx1.I1.i3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="Sx1.I1.i3.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i3.I1.i3.p1.1" class="ltx_p">Did you report error bars (e.g., with respect to the random seed after running experiments multiple times)?
<span id="Sx1.I1.i3.I1.i3.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Fig <a href="#S6.F3" title="Figure 3 ‣ Scaling to large training batches. ‣ 6.2 Performance of Our Attack ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
</li>
<li id="Sx1.I1.i3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span> 
<div id="Sx1.I1.i3.I1.i4.p1" class="ltx_para">
<p id="Sx1.I1.i3.I1.i4.p1.1" class="ltx_p">Did you include the total amount of compute and the type of resources used (e.g., type of GPUs, internal cluster, or cloud provider)?
<span id="Sx1.I1.i3.I1.i4.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S6.SS1" title="6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a>.</p>
</div>
</li>
</ol>
</div>
</li>
<li id="Sx1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="Sx1.I1.i4.p1" class="ltx_para">
<p id="Sx1.I1.i4.p1.1" class="ltx_p">If you are using existing assets (e.g., code, data, models) or curating/releasing new assets…</p>
<ol id="Sx1.I1.i4.I1" class="ltx_enumerate">
<li id="Sx1.I1.i4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="Sx1.I1.i4.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i4.I1.i1.p1.1" class="ltx_p">If your work uses existing assets, did you cite the creators?
<span id="Sx1.I1.i4.I1.i1.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>.</p>
</div>
</li>
<li id="Sx1.I1.i4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="Sx1.I1.i4.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i4.I1.i2.p1.1" class="ltx_p">Did you mention the license of the assets?
<span id="Sx1.I1.i4.I1.i2.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S6.SS1" title="6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a> (unfortunately, there is no license information for the <a target="_blank" href="https://www.cs.cmu.edu/~enron/" title="" class="ltx_ref ltx_href">Enron Email dataset</a>).</p>
</div>
</li>
<li id="Sx1.I1.i4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="Sx1.I1.i4.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i4.I1.i3.p1.1" class="ltx_p">Did you include any new assets either in the supplemental material or as a URL?
<span id="Sx1.I1.i4.I1.i3.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, we include our code in the supplemental material.</p>
</div>
</li>
<li id="Sx1.I1.i4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span> 
<div id="Sx1.I1.i4.I1.i4.p1" class="ltx_para">
<p id="Sx1.I1.i4.I1.i4.p1.1" class="ltx_p">Did you discuss whether and how consent was obtained from people whose data you’re using/curating?
<span id="Sx1.I1.i4.I1.i4.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, see Sec. <a href="#S6.SS1" title="6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a>.</p>
</div>
</li>
<li id="Sx1.I1.i4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(e)</span> 
<div id="Sx1.I1.i4.I1.i5.p1" class="ltx_para">
<p id="Sx1.I1.i4.I1.i5.p1.1" class="ltx_p">Did you discuss whether the data you are using/curating contains personally identifiable information or offensive content?
<span id="Sx1.I1.i4.I1.i5.p1.1.1" class="ltx_text" style="color:#0000FF;">[Yes] </span>, we noted in Sec. <a href="#S6.SS1" title="6.1 Setup ‣ 6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a> that “the Enron Email dataset because it consists of private email messages that contain abundant private information such as individuals’ names, addresses, and even passwords".</p>
</div>
</li>
</ol>
</div>
</li>
<li id="Sx1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span> 
<div id="Sx1.I1.i5.p1" class="ltx_para">
<p id="Sx1.I1.i5.p1.1" class="ltx_p">If you used crowdsourcing or conducted research with human subjects…</p>
<ol id="Sx1.I1.i5.I1" class="ltx_enumerate">
<li id="Sx1.I1.i5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="Sx1.I1.i5.I1.i1.p1" class="ltx_para">
<p id="Sx1.I1.i5.I1.i1.p1.1" class="ltx_p">Did you include the full text of instructions given to participants and screenshots, if applicable?
<span id="Sx1.I1.i5.I1.i1.p1.1.1" class="ltx_text" style="color:#808080;">[N/A] </span>.</p>
</div>
</li>
<li id="Sx1.I1.i5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="Sx1.I1.i5.I1.i2.p1" class="ltx_para">
<p id="Sx1.I1.i5.I1.i2.p1.1" class="ltx_p">Did you describe any potential participant risks, with links to Institutional Review Board (IRB) approvals, if applicable?
<span id="Sx1.I1.i5.I1.i2.p1.1.1" class="ltx_text" style="color:#808080;">[N/A] </span>.</p>
</div>
</li>
<li id="Sx1.I1.i5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="Sx1.I1.i5.I1.i3.p1" class="ltx_para">
<p id="Sx1.I1.i5.I1.i3.p1.1" class="ltx_p">Did you include the estimated hourly wage paid to participants and the total amount spent on participant compensation?
<span id="Sx1.I1.i5.I1.i3.p1.1.1" class="ltx_text" style="color:#808080;">[N/A] </span>.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A1" class="ltx_appendix" lang="en">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Beam Search Algorithm</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">Algorithm <a href="#alg1" title="Algorithm 1 ‣ Appendix A Beam Search Algorithm ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> demonstrates the step-by-step operations of our beam search algorithm (see Sec. <a href="#S4.SS3" title="4.3 Beam Search for Sentence Reconstruction ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>).</p>
</div>
<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.27" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.27.28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.28.1.1.1" class="ltx_text" style="font-size:90%;">1</span></span>
<span id="alg1.27.28.2" class="ltx_text" style="font-size:90%;">


</span>
</div>
<div id="alg1.1.1" class="ltx_listingline">
<span id="alg1.1.1.1" class="ltx_text" style="font-size:90%;"><span id="alg1.1.1.1.1" class="ltx_text ltx_font_bold">Input:</span> </span><span id="alg1.1.1.2" class="ltx_text" style="font-size:90%;">Bag of words </span><math id="alg1.1.1.m1.3" class="ltx_Math" alttext="B=\{w_{1},\dots,w_{m}\}" display="inline"><semantics id="alg1.1.1.m1.3a"><mrow id="alg1.1.1.m1.3.3" xref="alg1.1.1.m1.3.3.cmml"><mi mathsize="90%" id="alg1.1.1.m1.3.3.4" xref="alg1.1.1.m1.3.3.4.cmml">B</mi><mo mathsize="90%" id="alg1.1.1.m1.3.3.3" xref="alg1.1.1.m1.3.3.3.cmml">=</mo><mrow id="alg1.1.1.m1.3.3.2.2" xref="alg1.1.1.m1.3.3.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.1.1.m1.3.3.2.2.3" xref="alg1.1.1.m1.3.3.2.3.cmml">{</mo><msub id="alg1.1.1.m1.2.2.1.1.1" xref="alg1.1.1.m1.2.2.1.1.1.cmml"><mi mathsize="90%" id="alg1.1.1.m1.2.2.1.1.1.2" xref="alg1.1.1.m1.2.2.1.1.1.2.cmml">w</mi><mn mathsize="90%" id="alg1.1.1.m1.2.2.1.1.1.3" xref="alg1.1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="alg1.1.1.m1.3.3.2.2.4" xref="alg1.1.1.m1.3.3.2.3.cmml">,</mo><mi mathsize="90%" mathvariant="normal" id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml">…</mi><mo mathsize="90%" id="alg1.1.1.m1.3.3.2.2.5" xref="alg1.1.1.m1.3.3.2.3.cmml">,</mo><msub id="alg1.1.1.m1.3.3.2.2.2" xref="alg1.1.1.m1.3.3.2.2.2.cmml"><mi mathsize="90%" id="alg1.1.1.m1.3.3.2.2.2.2" xref="alg1.1.1.m1.3.3.2.2.2.2.cmml">w</mi><mi mathsize="90%" id="alg1.1.1.m1.3.3.2.2.2.3" xref="alg1.1.1.m1.3.3.2.2.2.3.cmml">m</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.1.1.m1.3.3.2.2.6" xref="alg1.1.1.m1.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.3b"><apply id="alg1.1.1.m1.3.3.cmml" xref="alg1.1.1.m1.3.3"><eq id="alg1.1.1.m1.3.3.3.cmml" xref="alg1.1.1.m1.3.3.3"></eq><ci id="alg1.1.1.m1.3.3.4.cmml" xref="alg1.1.1.m1.3.3.4">𝐵</ci><set id="alg1.1.1.m1.3.3.2.3.cmml" xref="alg1.1.1.m1.3.3.2.2"><apply id="alg1.1.1.m1.2.2.1.1.1.cmml" xref="alg1.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.2.2.1.1.1.1.cmml" xref="alg1.1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.1.1.m1.2.2.1.1.1.2.cmml" xref="alg1.1.1.m1.2.2.1.1.1.2">𝑤</ci><cn type="integer" id="alg1.1.1.m1.2.2.1.1.1.3.cmml" xref="alg1.1.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1">…</ci><apply id="alg1.1.1.m1.3.3.2.2.2.cmml" xref="alg1.1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.1.1.m1.3.3.2.2.2.1.cmml" xref="alg1.1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="alg1.1.1.m1.3.3.2.2.2.2.cmml" xref="alg1.1.1.m1.3.3.2.2.2.2">𝑤</ci><ci id="alg1.1.1.m1.3.3.2.2.2.3.cmml" xref="alg1.1.1.m1.3.3.2.2.2.3">𝑚</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.3c">B=\{w_{1},\dots,w_{m}\}</annotation></semantics></math><span id="alg1.1.1.3" class="ltx_text" style="font-size:90%;">, </span>
</div>
<div id="alg1.3.3" class="ltx_listingline">
<span id="alg1.3.3.1" class="ltx_text" style="font-size:90%;">
A maximum sentence length </span><math id="alg1.2.2.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="alg1.2.2.m1.1a"><mi mathsize="90%" id="alg1.2.2.m1.1.1" xref="alg1.2.2.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="alg1.2.2.m1.1b"><ci id="alg1.2.2.m1.1.1.cmml" xref="alg1.2.2.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m1.1c">L</annotation></semantics></math><span id="alg1.3.3.2" class="ltx_text" style="font-size:90%;">, beam size </span><math id="alg1.3.3.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.3.3.m2.1a"><mi mathsize="90%" id="alg1.3.3.m2.1.1" xref="alg1.3.3.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.3.3.m2.1b"><ci id="alg1.3.3.m2.1.1.cmml" xref="alg1.3.3.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m2.1c">k</annotation></semantics></math><span id="alg1.3.3.3" class="ltx_text" style="font-size:90%;">, </span>
</div>
<div id="alg1.5.5" class="ltx_listingline">
<span id="alg1.5.5.1" class="ltx_text" style="font-size:90%;">
A set of </span><math id="alg1.4.4.m1.1" class="ltx_Math" alttext="z" display="inline"><semantics id="alg1.4.4.m1.1a"><mi mathsize="90%" id="alg1.4.4.m1.1.1" xref="alg1.4.4.m1.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="alg1.4.4.m1.1b"><ci id="alg1.4.4.m1.1.1.cmml" xref="alg1.4.4.m1.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m1.1c">z</annotation></semantics></math><span id="alg1.5.5.2" class="ltx_text" style="font-size:90%;"> possible prompts </span><math id="alg1.5.5.m2.3" class="ltx_Math" alttext="P=\{p_{1},\dots,p_{z}\}" display="inline"><semantics id="alg1.5.5.m2.3a"><mrow id="alg1.5.5.m2.3.3" xref="alg1.5.5.m2.3.3.cmml"><mi mathsize="90%" id="alg1.5.5.m2.3.3.4" xref="alg1.5.5.m2.3.3.4.cmml">P</mi><mo mathsize="90%" id="alg1.5.5.m2.3.3.3" xref="alg1.5.5.m2.3.3.3.cmml">=</mo><mrow id="alg1.5.5.m2.3.3.2.2" xref="alg1.5.5.m2.3.3.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.5.5.m2.3.3.2.2.3" xref="alg1.5.5.m2.3.3.2.3.cmml">{</mo><msub id="alg1.5.5.m2.2.2.1.1.1" xref="alg1.5.5.m2.2.2.1.1.1.cmml"><mi mathsize="90%" id="alg1.5.5.m2.2.2.1.1.1.2" xref="alg1.5.5.m2.2.2.1.1.1.2.cmml">p</mi><mn mathsize="90%" id="alg1.5.5.m2.2.2.1.1.1.3" xref="alg1.5.5.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="alg1.5.5.m2.3.3.2.2.4" xref="alg1.5.5.m2.3.3.2.3.cmml">,</mo><mi mathsize="90%" mathvariant="normal" id="alg1.5.5.m2.1.1" xref="alg1.5.5.m2.1.1.cmml">…</mi><mo mathsize="90%" id="alg1.5.5.m2.3.3.2.2.5" xref="alg1.5.5.m2.3.3.2.3.cmml">,</mo><msub id="alg1.5.5.m2.3.3.2.2.2" xref="alg1.5.5.m2.3.3.2.2.2.cmml"><mi mathsize="90%" id="alg1.5.5.m2.3.3.2.2.2.2" xref="alg1.5.5.m2.3.3.2.2.2.2.cmml">p</mi><mi mathsize="90%" id="alg1.5.5.m2.3.3.2.2.2.3" xref="alg1.5.5.m2.3.3.2.2.2.3.cmml">z</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.5.5.m2.3.3.2.2.6" xref="alg1.5.5.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.5.m2.3b"><apply id="alg1.5.5.m2.3.3.cmml" xref="alg1.5.5.m2.3.3"><eq id="alg1.5.5.m2.3.3.3.cmml" xref="alg1.5.5.m2.3.3.3"></eq><ci id="alg1.5.5.m2.3.3.4.cmml" xref="alg1.5.5.m2.3.3.4">𝑃</ci><set id="alg1.5.5.m2.3.3.2.3.cmml" xref="alg1.5.5.m2.3.3.2.2"><apply id="alg1.5.5.m2.2.2.1.1.1.cmml" xref="alg1.5.5.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.5.5.m2.2.2.1.1.1.1.cmml" xref="alg1.5.5.m2.2.2.1.1.1">subscript</csymbol><ci id="alg1.5.5.m2.2.2.1.1.1.2.cmml" xref="alg1.5.5.m2.2.2.1.1.1.2">𝑝</ci><cn type="integer" id="alg1.5.5.m2.2.2.1.1.1.3.cmml" xref="alg1.5.5.m2.2.2.1.1.1.3">1</cn></apply><ci id="alg1.5.5.m2.1.1.cmml" xref="alg1.5.5.m2.1.1">…</ci><apply id="alg1.5.5.m2.3.3.2.2.2.cmml" xref="alg1.5.5.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.5.5.m2.3.3.2.2.2.1.cmml" xref="alg1.5.5.m2.3.3.2.2.2">subscript</csymbol><ci id="alg1.5.5.m2.3.3.2.2.2.2.cmml" xref="alg1.5.5.m2.3.3.2.2.2.2">𝑝</ci><ci id="alg1.5.5.m2.3.3.2.2.2.3.cmml" xref="alg1.5.5.m2.3.3.2.2.2.3">𝑧</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m2.3c">P=\{p_{1},\dots,p_{z}\}</annotation></semantics></math><span id="alg1.5.5.3" class="ltx_text" style="font-size:90%;">, </span>
</div>
<div id="alg1.6.6" class="ltx_listingline">
<span id="alg1.6.6.1" class="ltx_text" style="font-size:90%;">
Distribution defined by the trained language model </span><math id="alg1.6.6.m1.1" class="ltx_Math" alttext="\text{I\kern-1.34995ptP}_{\theta^{t}}" display="inline"><semantics id="alg1.6.6.m1.1a"><msub id="alg1.6.6.m1.1.1" xref="alg1.6.6.m1.1.1.cmml"><mtext mathsize="90%" id="alg1.6.6.m1.1.1.2" xref="alg1.6.6.m1.1.1.2a.cmml">IP</mtext><msup id="alg1.6.6.m1.1.1.3" xref="alg1.6.6.m1.1.1.3.cmml"><mi mathsize="90%" id="alg1.6.6.m1.1.1.3.2" xref="alg1.6.6.m1.1.1.3.2.cmml">θ</mi><mi mathsize="90%" id="alg1.6.6.m1.1.1.3.3" xref="alg1.6.6.m1.1.1.3.3.cmml">t</mi></msup></msub><annotation-xml encoding="MathML-Content" id="alg1.6.6.m1.1b"><apply id="alg1.6.6.m1.1.1.cmml" xref="alg1.6.6.m1.1.1"><csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.1.cmml" xref="alg1.6.6.m1.1.1">subscript</csymbol><ci id="alg1.6.6.m1.1.1.2a.cmml" xref="alg1.6.6.m1.1.1.2"><mtext mathsize="90%" id="alg1.6.6.m1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.2">IP</mtext></ci><apply id="alg1.6.6.m1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.3.1.cmml" xref="alg1.6.6.m1.1.1.3">superscript</csymbol><ci id="alg1.6.6.m1.1.1.3.2.cmml" xref="alg1.6.6.m1.1.1.3.2">𝜃</ci><ci id="alg1.6.6.m1.1.1.3.3.cmml" xref="alg1.6.6.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m1.1c">\text{I\kern-1.34995ptP}_{\theta^{t}}</annotation></semantics></math><span id="alg1.6.6.2" class="ltx_text" style="font-size:90%;">, </span>
</div>
<div id="alg1.9.9" class="ltx_listingline">
<span id="alg1.9.9.1" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.7.7.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg1.7.7.m1.1a"><mi mathsize="90%" id="alg1.7.7.m1.1.1" xref="alg1.7.7.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg1.7.7.m1.1b"><ci id="alg1.7.7.m1.1.1.cmml" xref="alg1.7.7.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.m1.1c">n</annotation></semantics></math><span id="alg1.9.9.2" class="ltx_text" style="font-size:90%;">-gram count function </span><math id="alg1.8.8.m2.1" class="ltx_Math" alttext="R_{n}" display="inline"><semantics id="alg1.8.8.m2.1a"><msub id="alg1.8.8.m2.1.1" xref="alg1.8.8.m2.1.1.cmml"><mi mathsize="90%" id="alg1.8.8.m2.1.1.2" xref="alg1.8.8.m2.1.1.2.cmml">R</mi><mi mathsize="90%" id="alg1.8.8.m2.1.1.3" xref="alg1.8.8.m2.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.8.8.m2.1b"><apply id="alg1.8.8.m2.1.1.cmml" xref="alg1.8.8.m2.1.1"><csymbol cd="ambiguous" id="alg1.8.8.m2.1.1.1.cmml" xref="alg1.8.8.m2.1.1">subscript</csymbol><ci id="alg1.8.8.m2.1.1.2.cmml" xref="alg1.8.8.m2.1.1.2">𝑅</ci><ci id="alg1.8.8.m2.1.1.3.cmml" xref="alg1.8.8.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m2.1c">R_{n}</annotation></semantics></math><span id="alg1.9.9.3" class="ltx_text" style="font-size:90%;"> with associated penalty </span><math id="alg1.9.9.m3.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="alg1.9.9.m3.1a"><mi mathsize="90%" id="alg1.9.9.m3.1.1" xref="alg1.9.9.m3.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="alg1.9.9.m3.1b"><ci id="alg1.9.9.m3.1.1.cmml" xref="alg1.9.9.m3.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.m3.1c">\rho</annotation></semantics></math><span id="alg1.9.9.4" class="ltx_text" style="font-size:90%;">, </span>
</div>
<div id="alg1.27.29" class="ltx_listingline">
<span id="alg1.27.29.1" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.27.30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.30.1.1.1" class="ltx_text" style="font-size:90%;">2</span></span><span id="alg1.27.30.2" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.11.11" class="ltx_listingline">
<span id="alg1.11.11.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Output :</span><span id="alg1.11.11.2" class="ltx_text" style="font-size:90%;"> </span><math id="alg1.10.10.m1.1" class="ltx_Math" alttext="g*k" display="inline"><semantics id="alg1.10.10.m1.1a"><mrow id="alg1.10.10.m1.1.1" xref="alg1.10.10.m1.1.1.cmml"><mi mathsize="90%" id="alg1.10.10.m1.1.1.2" xref="alg1.10.10.m1.1.1.2.cmml">g</mi><mo lspace="0.222em" mathsize="90%" rspace="0.222em" id="alg1.10.10.m1.1.1.1" xref="alg1.10.10.m1.1.1.1.cmml">∗</mo><mi mathsize="90%" id="alg1.10.10.m1.1.1.3" xref="alg1.10.10.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.10.m1.1b"><apply id="alg1.10.10.m1.1.1.cmml" xref="alg1.10.10.m1.1.1"><times id="alg1.10.10.m1.1.1.1.cmml" xref="alg1.10.10.m1.1.1.1"></times><ci id="alg1.10.10.m1.1.1.2.cmml" xref="alg1.10.10.m1.1.1.2">𝑔</ci><ci id="alg1.10.10.m1.1.1.3.cmml" xref="alg1.10.10.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.m1.1c">g*k</annotation></semantics></math><span id="alg1.11.11.3" class="ltx_text" style="font-size:90%;"> sentences consisting of words in </span><math id="alg1.11.11.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg1.11.11.m2.1a"><mi mathsize="90%" id="alg1.11.11.m2.1.1" xref="alg1.11.11.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg1.11.11.m2.1b"><ci id="alg1.11.11.m2.1.1.cmml" xref="alg1.11.11.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.m2.1c">B</annotation></semantics></math>
</div>
<div id="alg1.27.31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.31.1.1.1" class="ltx_text" style="font-size:90%;">3</span></span><span id="alg1.27.31.2" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.13.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.13.13.2.1.1" class="ltx_text" style="font-size:90%;">4</span></span><span id="alg1.13.13.3" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.12.12.m1.1" class="ltx_Math" alttext="\pi^{1}\leftarrow P" display="inline"><semantics id="alg1.12.12.m1.1a"><mrow id="alg1.12.12.m1.1.1" xref="alg1.12.12.m1.1.1.cmml"><msup id="alg1.12.12.m1.1.1.2" xref="alg1.12.12.m1.1.1.2.cmml"><mi mathsize="90%" id="alg1.12.12.m1.1.1.2.2" xref="alg1.12.12.m1.1.1.2.2.cmml">π</mi><mn mathsize="90%" id="alg1.12.12.m1.1.1.2.3" xref="alg1.12.12.m1.1.1.2.3.cmml">1</mn></msup><mo mathsize="90%" stretchy="false" id="alg1.12.12.m1.1.1.1" xref="alg1.12.12.m1.1.1.1.cmml">←</mo><mi mathsize="90%" id="alg1.12.12.m1.1.1.3" xref="alg1.12.12.m1.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.12.12.m1.1b"><apply id="alg1.12.12.m1.1.1.cmml" xref="alg1.12.12.m1.1.1"><ci id="alg1.12.12.m1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1">←</ci><apply id="alg1.12.12.m1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.2.1.cmml" xref="alg1.12.12.m1.1.1.2">superscript</csymbol><ci id="alg1.12.12.m1.1.1.2.2.cmml" xref="alg1.12.12.m1.1.1.2.2">𝜋</ci><cn type="integer" id="alg1.12.12.m1.1.1.2.3.cmml" xref="alg1.12.12.m1.1.1.2.3">1</cn></apply><ci id="alg1.12.12.m1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.m1.1c">\pi^{1}\leftarrow P</annotation></semantics></math><span id="alg1.13.13.4" class="ltx_text" style="font-size:90%;">
</span><span id="alg1.13.13.5" class="ltx_text ltx_font_bold" style="font-size:90%;">for</span><span id="alg1.13.13.6" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.13.13.1" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.13.13.1.m1.1" class="ltx_Math" alttext="i\in[L]" display="inline"><semantics id="alg1.13.13.1.m1.1a"><mrow id="alg1.13.13.1.m1.1.2" xref="alg1.13.13.1.m1.1.2.cmml"><mi id="alg1.13.13.1.m1.1.2.2" xref="alg1.13.13.1.m1.1.2.2.cmml">i</mi><mo id="alg1.13.13.1.m1.1.2.1" xref="alg1.13.13.1.m1.1.2.1.cmml">∈</mo><mrow id="alg1.13.13.1.m1.1.2.3.2" xref="alg1.13.13.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg1.13.13.1.m1.1.2.3.2.1" xref="alg1.13.13.1.m1.1.2.3.1.1.cmml">[</mo><mi id="alg1.13.13.1.m1.1.1" xref="alg1.13.13.1.m1.1.1.cmml">L</mi><mo stretchy="false" id="alg1.13.13.1.m1.1.2.3.2.2" xref="alg1.13.13.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.13.1.m1.1b"><apply id="alg1.13.13.1.m1.1.2.cmml" xref="alg1.13.13.1.m1.1.2"><in id="alg1.13.13.1.m1.1.2.1.cmml" xref="alg1.13.13.1.m1.1.2.1"></in><ci id="alg1.13.13.1.m1.1.2.2.cmml" xref="alg1.13.13.1.m1.1.2.2">𝑖</ci><apply id="alg1.13.13.1.m1.1.2.3.1.cmml" xref="alg1.13.13.1.m1.1.2.3.2"><csymbol cd="latexml" id="alg1.13.13.1.m1.1.2.3.1.1.cmml" xref="alg1.13.13.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.13.13.1.m1.1.1.cmml" xref="alg1.13.13.1.m1.1.1">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.1.m1.1c">i\in[L]</annotation></semantics></math></em><span id="alg1.13.13.7" class="ltx_text" style="font-size:90%;"> </span><span id="alg1.13.13.8" class="ltx_text ltx_font_bold" style="font-size:90%;">do</span><span id="alg1.13.13.9" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.14.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.14.1.1.1" class="ltx_text" style="font-size:90%;">5</span></span><span id="alg1.14.14.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.14.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.14.14.4" class="ltx_text" style="font-size:90%;">

</span><math id="alg1.14.14.m1.1" class="ltx_Math" alttext="\pi^{i+1}\leftarrow\emptyset" display="inline"><semantics id="alg1.14.14.m1.1a"><mrow id="alg1.14.14.m1.1.1" xref="alg1.14.14.m1.1.1.cmml"><msup id="alg1.14.14.m1.1.1.2" xref="alg1.14.14.m1.1.1.2.cmml"><mi mathsize="90%" id="alg1.14.14.m1.1.1.2.2" xref="alg1.14.14.m1.1.1.2.2.cmml">π</mi><mrow id="alg1.14.14.m1.1.1.2.3" xref="alg1.14.14.m1.1.1.2.3.cmml"><mi mathsize="90%" id="alg1.14.14.m1.1.1.2.3.2" xref="alg1.14.14.m1.1.1.2.3.2.cmml">i</mi><mo mathsize="90%" id="alg1.14.14.m1.1.1.2.3.1" xref="alg1.14.14.m1.1.1.2.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.14.14.m1.1.1.2.3.3" xref="alg1.14.14.m1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" stretchy="false" id="alg1.14.14.m1.1.1.1" xref="alg1.14.14.m1.1.1.1.cmml">←</mo><mi mathsize="90%" mathvariant="normal" id="alg1.14.14.m1.1.1.3" xref="alg1.14.14.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.14.14.m1.1b"><apply id="alg1.14.14.m1.1.1.cmml" xref="alg1.14.14.m1.1.1"><ci id="alg1.14.14.m1.1.1.1.cmml" xref="alg1.14.14.m1.1.1.1">←</ci><apply id="alg1.14.14.m1.1.1.2.cmml" xref="alg1.14.14.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.2.1.cmml" xref="alg1.14.14.m1.1.1.2">superscript</csymbol><ci id="alg1.14.14.m1.1.1.2.2.cmml" xref="alg1.14.14.m1.1.1.2.2">𝜋</ci><apply id="alg1.14.14.m1.1.1.2.3.cmml" xref="alg1.14.14.m1.1.1.2.3"><plus id="alg1.14.14.m1.1.1.2.3.1.cmml" xref="alg1.14.14.m1.1.1.2.3.1"></plus><ci id="alg1.14.14.m1.1.1.2.3.2.cmml" xref="alg1.14.14.m1.1.1.2.3.2">𝑖</ci><cn type="integer" id="alg1.14.14.m1.1.1.2.3.3.cmml" xref="alg1.14.14.m1.1.1.2.3.3">1</cn></apply></apply><emptyset id="alg1.14.14.m1.1.1.3.cmml" xref="alg1.14.14.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m1.1c">\pi^{i+1}\leftarrow\emptyset</annotation></semantics></math><span id="alg1.14.14.5" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.16.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.16.16.3.1.1" class="ltx_text" style="font-size:90%;">6</span></span><span id="alg1.16.16.4" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.16.16.5" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.16.16.6" class="ltx_text" style="font-size:90%;">
</span><span id="alg1.16.16.7" class="ltx_text ltx_font_bold" style="font-size:90%;">foreach</span><span id="alg1.16.16.8" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.16.16.2" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.15.15.1.m1.2" class="ltx_Math" alttext="(beam,word)" display="inline"><semantics id="alg1.15.15.1.m1.2a"><mrow id="alg1.15.15.1.m1.2.2.2" xref="alg1.15.15.1.m1.2.2.3.cmml"><mo stretchy="false" id="alg1.15.15.1.m1.2.2.2.3" xref="alg1.15.15.1.m1.2.2.3.cmml">(</mo><mrow id="alg1.15.15.1.m1.1.1.1.1" xref="alg1.15.15.1.m1.1.1.1.1.cmml"><mi id="alg1.15.15.1.m1.1.1.1.1.2" xref="alg1.15.15.1.m1.1.1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.1.1.1.1.1" xref="alg1.15.15.1.m1.1.1.1.1.1.cmml">​</mo><mi id="alg1.15.15.1.m1.1.1.1.1.3" xref="alg1.15.15.1.m1.1.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.1.1.1.1.1a" xref="alg1.15.15.1.m1.1.1.1.1.1.cmml">​</mo><mi id="alg1.15.15.1.m1.1.1.1.1.4" xref="alg1.15.15.1.m1.1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.1.1.1.1.1b" xref="alg1.15.15.1.m1.1.1.1.1.1.cmml">​</mo><mi id="alg1.15.15.1.m1.1.1.1.1.5" xref="alg1.15.15.1.m1.1.1.1.1.5.cmml">m</mi></mrow><mo id="alg1.15.15.1.m1.2.2.2.4" xref="alg1.15.15.1.m1.2.2.3.cmml">,</mo><mrow id="alg1.15.15.1.m1.2.2.2.2" xref="alg1.15.15.1.m1.2.2.2.2.cmml"><mi id="alg1.15.15.1.m1.2.2.2.2.2" xref="alg1.15.15.1.m1.2.2.2.2.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.2.2.2.2.1" xref="alg1.15.15.1.m1.2.2.2.2.1.cmml">​</mo><mi id="alg1.15.15.1.m1.2.2.2.2.3" xref="alg1.15.15.1.m1.2.2.2.2.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.2.2.2.2.1a" xref="alg1.15.15.1.m1.2.2.2.2.1.cmml">​</mo><mi id="alg1.15.15.1.m1.2.2.2.2.4" xref="alg1.15.15.1.m1.2.2.2.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.15.15.1.m1.2.2.2.2.1b" xref="alg1.15.15.1.m1.2.2.2.2.1.cmml">​</mo><mi id="alg1.15.15.1.m1.2.2.2.2.5" xref="alg1.15.15.1.m1.2.2.2.2.5.cmml">d</mi></mrow><mo stretchy="false" id="alg1.15.15.1.m1.2.2.2.5" xref="alg1.15.15.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.15.15.1.m1.2b"><interval closure="open" id="alg1.15.15.1.m1.2.2.3.cmml" xref="alg1.15.15.1.m1.2.2.2"><apply id="alg1.15.15.1.m1.1.1.1.1.cmml" xref="alg1.15.15.1.m1.1.1.1.1"><times id="alg1.15.15.1.m1.1.1.1.1.1.cmml" xref="alg1.15.15.1.m1.1.1.1.1.1"></times><ci id="alg1.15.15.1.m1.1.1.1.1.2.cmml" xref="alg1.15.15.1.m1.1.1.1.1.2">𝑏</ci><ci id="alg1.15.15.1.m1.1.1.1.1.3.cmml" xref="alg1.15.15.1.m1.1.1.1.1.3">𝑒</ci><ci id="alg1.15.15.1.m1.1.1.1.1.4.cmml" xref="alg1.15.15.1.m1.1.1.1.1.4">𝑎</ci><ci id="alg1.15.15.1.m1.1.1.1.1.5.cmml" xref="alg1.15.15.1.m1.1.1.1.1.5">𝑚</ci></apply><apply id="alg1.15.15.1.m1.2.2.2.2.cmml" xref="alg1.15.15.1.m1.2.2.2.2"><times id="alg1.15.15.1.m1.2.2.2.2.1.cmml" xref="alg1.15.15.1.m1.2.2.2.2.1"></times><ci id="alg1.15.15.1.m1.2.2.2.2.2.cmml" xref="alg1.15.15.1.m1.2.2.2.2.2">𝑤</ci><ci id="alg1.15.15.1.m1.2.2.2.2.3.cmml" xref="alg1.15.15.1.m1.2.2.2.2.3">𝑜</ci><ci id="alg1.15.15.1.m1.2.2.2.2.4.cmml" xref="alg1.15.15.1.m1.2.2.2.2.4">𝑟</ci><ci id="alg1.15.15.1.m1.2.2.2.2.5.cmml" xref="alg1.15.15.1.m1.2.2.2.2.5">𝑑</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.1.m1.2c">(beam,word)</annotation></semantics></math> in <math id="alg1.16.16.2.m2.1" class="ltx_Math" alttext="\pi^{i}\times B" display="inline"><semantics id="alg1.16.16.2.m2.1a"><mrow id="alg1.16.16.2.m2.1.1" xref="alg1.16.16.2.m2.1.1.cmml"><msup id="alg1.16.16.2.m2.1.1.2" xref="alg1.16.16.2.m2.1.1.2.cmml"><mi id="alg1.16.16.2.m2.1.1.2.2" xref="alg1.16.16.2.m2.1.1.2.2.cmml">π</mi><mi id="alg1.16.16.2.m2.1.1.2.3" xref="alg1.16.16.2.m2.1.1.2.3.cmml">i</mi></msup><mo lspace="0.222em" rspace="0.222em" id="alg1.16.16.2.m2.1.1.1" xref="alg1.16.16.2.m2.1.1.1.cmml">×</mo><mi id="alg1.16.16.2.m2.1.1.3" xref="alg1.16.16.2.m2.1.1.3.cmml">B</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.16.16.2.m2.1b"><apply id="alg1.16.16.2.m2.1.1.cmml" xref="alg1.16.16.2.m2.1.1"><times id="alg1.16.16.2.m2.1.1.1.cmml" xref="alg1.16.16.2.m2.1.1.1"></times><apply id="alg1.16.16.2.m2.1.1.2.cmml" xref="alg1.16.16.2.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.16.16.2.m2.1.1.2.1.cmml" xref="alg1.16.16.2.m2.1.1.2">superscript</csymbol><ci id="alg1.16.16.2.m2.1.1.2.2.cmml" xref="alg1.16.16.2.m2.1.1.2.2">𝜋</ci><ci id="alg1.16.16.2.m2.1.1.2.3.cmml" xref="alg1.16.16.2.m2.1.1.2.3">𝑖</ci></apply><ci id="alg1.16.16.2.m2.1.1.3.cmml" xref="alg1.16.16.2.m2.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.2.m2.1c">\pi^{i}\times B</annotation></semantics></math></em><span id="alg1.16.16.9" class="ltx_text" style="font-size:90%;"> </span><span id="alg1.16.16.10" class="ltx_text ltx_font_bold" style="font-size:90%;">do</span><span id="alg1.16.16.11" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.17.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.17.17.1.1.1" class="ltx_text" style="font-size:90%;">7</span></span><span id="alg1.17.17.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.17.17.3" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.17.17.4" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.17.17.5" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.17.17.m1.1" class="ltx_Math" alttext="\pi^{i+1}\leftarrow\pi^{i+1}\cup\{\textsc{concat}(beam,word)\}" display="inline"><semantics id="alg1.17.17.m1.1a"><mrow id="alg1.17.17.m1.1.1" xref="alg1.17.17.m1.1.1.cmml"><msup id="alg1.17.17.m1.1.1.3" xref="alg1.17.17.m1.1.1.3.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.3.2" xref="alg1.17.17.m1.1.1.3.2.cmml">π</mi><mrow id="alg1.17.17.m1.1.1.3.3" xref="alg1.17.17.m1.1.1.3.3.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.3.3.2" xref="alg1.17.17.m1.1.1.3.3.2.cmml">i</mi><mo mathsize="90%" id="alg1.17.17.m1.1.1.3.3.1" xref="alg1.17.17.m1.1.1.3.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.17.17.m1.1.1.3.3.3" xref="alg1.17.17.m1.1.1.3.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" stretchy="false" id="alg1.17.17.m1.1.1.2" xref="alg1.17.17.m1.1.1.2.cmml">←</mo><mrow id="alg1.17.17.m1.1.1.1" xref="alg1.17.17.m1.1.1.1.cmml"><msup id="alg1.17.17.m1.1.1.1.3" xref="alg1.17.17.m1.1.1.1.3.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.3.2" xref="alg1.17.17.m1.1.1.1.3.2.cmml">π</mi><mrow id="alg1.17.17.m1.1.1.1.3.3" xref="alg1.17.17.m1.1.1.1.3.3.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.3.3.2" xref="alg1.17.17.m1.1.1.1.3.3.2.cmml">i</mi><mo mathsize="90%" id="alg1.17.17.m1.1.1.1.3.3.1" xref="alg1.17.17.m1.1.1.1.3.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.17.17.m1.1.1.1.3.3.3" xref="alg1.17.17.m1.1.1.1.3.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" id="alg1.17.17.m1.1.1.1.2" xref="alg1.17.17.m1.1.1.1.2.cmml">∪</mo><mrow id="alg1.17.17.m1.1.1.1.1.1" xref="alg1.17.17.m1.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="alg1.17.17.m1.1.1.1.1.1.2" xref="alg1.17.17.m1.1.1.1.1.2.cmml">{</mo><mrow id="alg1.17.17.m1.1.1.1.1.1.1" xref="alg1.17.17.m1.1.1.1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.4" xref="alg1.17.17.m1.1.1.1.1.1.1.4a.cmml">concat</mtext><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.3" xref="alg1.17.17.m1.1.1.1.1.1.1.3.cmml">​</mo><mrow id="alg1.17.17.m1.1.1.1.1.1.1.2.2" xref="alg1.17.17.m1.1.1.1.1.1.1.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.3" xref="alg1.17.17.m1.1.1.1.1.1.1.2.3.cmml">(</mo><mrow id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.2" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.3" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1a" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.4" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1b" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.5" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.5.cmml">m</mi></mrow><mo mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.4" xref="alg1.17.17.m1.1.1.1.1.1.1.2.3.cmml">,</mo><mrow id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.cmml"><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.2" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.3" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1a" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.4" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.4.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1b" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1.cmml">​</mo><mi mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.5" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.5.cmml">d</mi></mrow><mo maxsize="90%" minsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.2.2.5" xref="alg1.17.17.m1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo maxsize="90%" minsize="90%" id="alg1.17.17.m1.1.1.1.1.1.3" xref="alg1.17.17.m1.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.17.17.m1.1b"><apply id="alg1.17.17.m1.1.1.cmml" xref="alg1.17.17.m1.1.1"><ci id="alg1.17.17.m1.1.1.2.cmml" xref="alg1.17.17.m1.1.1.2">←</ci><apply id="alg1.17.17.m1.1.1.3.cmml" xref="alg1.17.17.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.17.17.m1.1.1.3.1.cmml" xref="alg1.17.17.m1.1.1.3">superscript</csymbol><ci id="alg1.17.17.m1.1.1.3.2.cmml" xref="alg1.17.17.m1.1.1.3.2">𝜋</ci><apply id="alg1.17.17.m1.1.1.3.3.cmml" xref="alg1.17.17.m1.1.1.3.3"><plus id="alg1.17.17.m1.1.1.3.3.1.cmml" xref="alg1.17.17.m1.1.1.3.3.1"></plus><ci id="alg1.17.17.m1.1.1.3.3.2.cmml" xref="alg1.17.17.m1.1.1.3.3.2">𝑖</ci><cn type="integer" id="alg1.17.17.m1.1.1.3.3.3.cmml" xref="alg1.17.17.m1.1.1.3.3.3">1</cn></apply></apply><apply id="alg1.17.17.m1.1.1.1.cmml" xref="alg1.17.17.m1.1.1.1"><union id="alg1.17.17.m1.1.1.1.2.cmml" xref="alg1.17.17.m1.1.1.1.2"></union><apply id="alg1.17.17.m1.1.1.1.3.cmml" xref="alg1.17.17.m1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.17.17.m1.1.1.1.3.1.cmml" xref="alg1.17.17.m1.1.1.1.3">superscript</csymbol><ci id="alg1.17.17.m1.1.1.1.3.2.cmml" xref="alg1.17.17.m1.1.1.1.3.2">𝜋</ci><apply id="alg1.17.17.m1.1.1.1.3.3.cmml" xref="alg1.17.17.m1.1.1.1.3.3"><plus id="alg1.17.17.m1.1.1.1.3.3.1.cmml" xref="alg1.17.17.m1.1.1.1.3.3.1"></plus><ci id="alg1.17.17.m1.1.1.1.3.3.2.cmml" xref="alg1.17.17.m1.1.1.1.3.3.2">𝑖</ci><cn type="integer" id="alg1.17.17.m1.1.1.1.3.3.3.cmml" xref="alg1.17.17.m1.1.1.1.3.3.3">1</cn></apply></apply><set id="alg1.17.17.m1.1.1.1.1.2.cmml" xref="alg1.17.17.m1.1.1.1.1.1"><apply id="alg1.17.17.m1.1.1.1.1.1.1.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1"><times id="alg1.17.17.m1.1.1.1.1.1.1.3.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.3"></times><ci id="alg1.17.17.m1.1.1.1.1.1.1.4a.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.4"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.17.17.m1.1.1.1.1.1.1.4.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.4">concat</mtext></ci><interval closure="open" id="alg1.17.17.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2"><apply id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1"><times id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.1"></times><ci id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.2">𝑏</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.3">𝑒</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.4.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.4">𝑎</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.5.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.1.1.1.5">𝑚</ci></apply><apply id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2"><times id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.1"></times><ci id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.2">𝑤</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.3">𝑜</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.4.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.4">𝑟</ci><ci id="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.5.cmml" xref="alg1.17.17.m1.1.1.1.1.1.1.2.2.2.5">𝑑</ci></apply></interval></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.m1.1c">\pi^{i+1}\leftarrow\pi^{i+1}\cup\{\textsc{concat}(beam,word)\}</annotation></semantics></math>
</div>
<div id="alg1.27.32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.32.1.1.1" class="ltx_text" style="font-size:90%;">8</span></span><span id="alg1.27.32.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.32.3" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.32.4" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.27.32.5" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.27.33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.33.1.1.1" class="ltx_text" style="font-size:90%;">9</span></span><span id="alg1.27.33.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.33.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.27.33.4" class="ltx_text" style="font-size:90%;"> end foreach</span>
</div>
<div id="alg1.18.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.18.18.1.1.1" class="ltx_text" style="font-size:90%;">10</span></span><span id="alg1.18.18.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.18.18.3" class="ltx_text" style="font-size:90%;">   </span><math id="alg1.18.18.m1.3" class="ltx_Math" alttext="\pi^{i+1}\leftarrow\textsc{Top}(\pi^{i+1},k,f_{\theta^{t}})" display="inline"><semantics id="alg1.18.18.m1.3a"><mrow id="alg1.18.18.m1.3.3" xref="alg1.18.18.m1.3.3.cmml"><msup id="alg1.18.18.m1.3.3.4" xref="alg1.18.18.m1.3.3.4.cmml"><mi mathsize="90%" id="alg1.18.18.m1.3.3.4.2" xref="alg1.18.18.m1.3.3.4.2.cmml">π</mi><mrow id="alg1.18.18.m1.3.3.4.3" xref="alg1.18.18.m1.3.3.4.3.cmml"><mi mathsize="90%" id="alg1.18.18.m1.3.3.4.3.2" xref="alg1.18.18.m1.3.3.4.3.2.cmml">i</mi><mo mathsize="90%" id="alg1.18.18.m1.3.3.4.3.1" xref="alg1.18.18.m1.3.3.4.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.18.18.m1.3.3.4.3.3" xref="alg1.18.18.m1.3.3.4.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" stretchy="false" id="alg1.18.18.m1.3.3.3" xref="alg1.18.18.m1.3.3.3.cmml">←</mo><mrow id="alg1.18.18.m1.3.3.2" xref="alg1.18.18.m1.3.3.2.cmml"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.18.18.m1.3.3.2.4" xref="alg1.18.18.m1.3.3.2.4a.cmml">Top</mtext><mo lspace="0em" rspace="0em" id="alg1.18.18.m1.3.3.2.3" xref="alg1.18.18.m1.3.3.2.3.cmml">​</mo><mrow id="alg1.18.18.m1.3.3.2.2.2" xref="alg1.18.18.m1.3.3.2.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.18.18.m1.3.3.2.2.2.3" xref="alg1.18.18.m1.3.3.2.2.3.cmml">(</mo><msup id="alg1.18.18.m1.2.2.1.1.1.1" xref="alg1.18.18.m1.2.2.1.1.1.1.cmml"><mi mathsize="90%" id="alg1.18.18.m1.2.2.1.1.1.1.2" xref="alg1.18.18.m1.2.2.1.1.1.1.2.cmml">π</mi><mrow id="alg1.18.18.m1.2.2.1.1.1.1.3" xref="alg1.18.18.m1.2.2.1.1.1.1.3.cmml"><mi mathsize="90%" id="alg1.18.18.m1.2.2.1.1.1.1.3.2" xref="alg1.18.18.m1.2.2.1.1.1.1.3.2.cmml">i</mi><mo mathsize="90%" id="alg1.18.18.m1.2.2.1.1.1.1.3.1" xref="alg1.18.18.m1.2.2.1.1.1.1.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.18.18.m1.2.2.1.1.1.1.3.3" xref="alg1.18.18.m1.2.2.1.1.1.1.3.3.cmml">1</mn></mrow></msup><mo mathsize="90%" id="alg1.18.18.m1.3.3.2.2.2.4" xref="alg1.18.18.m1.3.3.2.2.3.cmml">,</mo><mi mathsize="90%" id="alg1.18.18.m1.1.1" xref="alg1.18.18.m1.1.1.cmml">k</mi><mo mathsize="90%" id="alg1.18.18.m1.3.3.2.2.2.5" xref="alg1.18.18.m1.3.3.2.2.3.cmml">,</mo><msub id="alg1.18.18.m1.3.3.2.2.2.2" xref="alg1.18.18.m1.3.3.2.2.2.2.cmml"><mi mathsize="90%" id="alg1.18.18.m1.3.3.2.2.2.2.2" xref="alg1.18.18.m1.3.3.2.2.2.2.2.cmml">f</mi><msup id="alg1.18.18.m1.3.3.2.2.2.2.3" xref="alg1.18.18.m1.3.3.2.2.2.2.3.cmml"><mi mathsize="90%" id="alg1.18.18.m1.3.3.2.2.2.2.3.2" xref="alg1.18.18.m1.3.3.2.2.2.2.3.2.cmml">θ</mi><mi mathsize="90%" id="alg1.18.18.m1.3.3.2.2.2.2.3.3" xref="alg1.18.18.m1.3.3.2.2.2.2.3.3.cmml">t</mi></msup></msub><mo maxsize="90%" minsize="90%" id="alg1.18.18.m1.3.3.2.2.2.6" xref="alg1.18.18.m1.3.3.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.18.18.m1.3b"><apply id="alg1.18.18.m1.3.3.cmml" xref="alg1.18.18.m1.3.3"><ci id="alg1.18.18.m1.3.3.3.cmml" xref="alg1.18.18.m1.3.3.3">←</ci><apply id="alg1.18.18.m1.3.3.4.cmml" xref="alg1.18.18.m1.3.3.4"><csymbol cd="ambiguous" id="alg1.18.18.m1.3.3.4.1.cmml" xref="alg1.18.18.m1.3.3.4">superscript</csymbol><ci id="alg1.18.18.m1.3.3.4.2.cmml" xref="alg1.18.18.m1.3.3.4.2">𝜋</ci><apply id="alg1.18.18.m1.3.3.4.3.cmml" xref="alg1.18.18.m1.3.3.4.3"><plus id="alg1.18.18.m1.3.3.4.3.1.cmml" xref="alg1.18.18.m1.3.3.4.3.1"></plus><ci id="alg1.18.18.m1.3.3.4.3.2.cmml" xref="alg1.18.18.m1.3.3.4.3.2">𝑖</ci><cn type="integer" id="alg1.18.18.m1.3.3.4.3.3.cmml" xref="alg1.18.18.m1.3.3.4.3.3">1</cn></apply></apply><apply id="alg1.18.18.m1.3.3.2.cmml" xref="alg1.18.18.m1.3.3.2"><times id="alg1.18.18.m1.3.3.2.3.cmml" xref="alg1.18.18.m1.3.3.2.3"></times><ci id="alg1.18.18.m1.3.3.2.4a.cmml" xref="alg1.18.18.m1.3.3.2.4"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.18.18.m1.3.3.2.4.cmml" xref="alg1.18.18.m1.3.3.2.4">Top</mtext></ci><vector id="alg1.18.18.m1.3.3.2.2.3.cmml" xref="alg1.18.18.m1.3.3.2.2.2"><apply id="alg1.18.18.m1.2.2.1.1.1.1.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.18.18.m1.2.2.1.1.1.1.1.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1">superscript</csymbol><ci id="alg1.18.18.m1.2.2.1.1.1.1.2.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.2">𝜋</ci><apply id="alg1.18.18.m1.2.2.1.1.1.1.3.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.3"><plus id="alg1.18.18.m1.2.2.1.1.1.1.3.1.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.3.1"></plus><ci id="alg1.18.18.m1.2.2.1.1.1.1.3.2.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="alg1.18.18.m1.2.2.1.1.1.1.3.3.cmml" xref="alg1.18.18.m1.2.2.1.1.1.1.3.3">1</cn></apply></apply><ci id="alg1.18.18.m1.1.1.cmml" xref="alg1.18.18.m1.1.1">𝑘</ci><apply id="alg1.18.18.m1.3.3.2.2.2.2.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="alg1.18.18.m1.3.3.2.2.2.2.1.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2">subscript</csymbol><ci id="alg1.18.18.m1.3.3.2.2.2.2.2.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.2">𝑓</ci><apply id="alg1.18.18.m1.3.3.2.2.2.2.3.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.18.18.m1.3.3.2.2.2.2.3.1.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.3">superscript</csymbol><ci id="alg1.18.18.m1.3.3.2.2.2.2.3.2.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.3.2">𝜃</ci><ci id="alg1.18.18.m1.3.3.2.2.2.2.3.3.cmml" xref="alg1.18.18.m1.3.3.2.2.2.2.3.3">𝑡</ci></apply></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.18.m1.3c">\pi^{i+1}\leftarrow\textsc{Top}(\pi^{i+1},k,f_{\theta^{t}})</annotation></semantics></math>
</div>
<div id="alg1.27.34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.34.1.1.1" class="ltx_text" style="font-size:90%;">11</span></span><span id="alg1.27.34.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.34.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.27.34.4" class="ltx_text" style="font-size:90%;">

</span>
</div>
<div id="alg1.27.35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.35.1.1.1" class="ltx_text" style="font-size:90%;">12</span></span><span id="alg1.27.35.2" class="ltx_text" style="font-size:90%;"> end for</span>
</div>
<div id="alg1.19.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.19.19.2.1.1" class="ltx_text" style="font-size:90%;">13</span></span><span id="alg1.19.19.3" class="ltx_text ltx_font_bold" style="font-size:90%;">return</span><span id="alg1.19.19.4" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.19.19.1" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.19.19.1.m1.1" class="ltx_Math" alttext="\pi^{L}" display="inline"><semantics id="alg1.19.19.1.m1.1a"><msup id="alg1.19.19.1.m1.1.1" xref="alg1.19.19.1.m1.1.1.cmml"><mi id="alg1.19.19.1.m1.1.1.2" xref="alg1.19.19.1.m1.1.1.2.cmml">π</mi><mi id="alg1.19.19.1.m1.1.1.3" xref="alg1.19.19.1.m1.1.1.3.cmml">L</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.19.19.1.m1.1b"><apply id="alg1.19.19.1.m1.1.1.cmml" xref="alg1.19.19.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.19.19.1.m1.1.1.1.cmml" xref="alg1.19.19.1.m1.1.1">superscript</csymbol><ci id="alg1.19.19.1.m1.1.1.2.cmml" xref="alg1.19.19.1.m1.1.1.2">𝜋</ci><ci id="alg1.19.19.1.m1.1.1.3.cmml" xref="alg1.19.19.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.19.1.m1.1c">\pi^{L}</annotation></semantics></math></em><span id="alg1.19.19.5" class="ltx_text" style="font-size:90%;">;
</span>
</div>
<div id="alg1.23.23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.23.23.5.1.1" class="ltx_text" style="font-size:90%;">1</span></span><span id="alg1.23.23.6" class="ltx_text" style="font-size:90%;">



</span><span id="alg1.23.23.7" class="ltx_text ltx_font_bold" style="font-size:90%;">Procedure</span><span id="alg1.23.23.8" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.23.23.4" class="ltx_emph ltx_font_italic" style="font-size:90%;"><span id="alg1.23.23.4.4" class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps">Top</span><span id="alg1.23.23.4.3" class="ltx_text ltx_font_typewriter ltx_font_upright">(<em id="alg1.23.23.4.3.3" class="ltx_emph ltx_font_serif ltx_font_italic"><math id="alg1.21.21.2.1.1.m1.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="alg1.21.21.2.1.1.m1.1a"><mi id="alg1.21.21.2.1.1.m1.1.1" xref="alg1.21.21.2.1.1.m1.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="alg1.21.21.2.1.1.m1.1b"><ci id="alg1.21.21.2.1.1.m1.1.1.cmml" xref="alg1.21.21.2.1.1.m1.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.21.2.1.1.m1.1c">\pi</annotation></semantics></math>, <math id="alg1.22.22.3.2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.22.22.3.2.2.m2.1a"><mi id="alg1.22.22.3.2.2.m2.1.1" xref="alg1.22.22.3.2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.22.22.3.2.2.m2.1b"><ci id="alg1.22.22.3.2.2.m2.1.1.cmml" xref="alg1.22.22.3.2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.22.22.3.2.2.m2.1c">k</annotation></semantics></math>, <math id="alg1.23.23.4.3.3.m3.1" class="ltx_Math" alttext="\text{I\kern-1.34995ptP}_{\theta^{t}}" display="inline"><semantics id="alg1.23.23.4.3.3.m3.1a"><msub id="alg1.23.23.4.3.3.m3.1.1" xref="alg1.23.23.4.3.3.m3.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="alg1.23.23.4.3.3.m3.1.1.2" xref="alg1.23.23.4.3.3.m3.1.1.2a.cmml">IP</mtext><msup id="alg1.23.23.4.3.3.m3.1.1.3" xref="alg1.23.23.4.3.3.m3.1.1.3.cmml"><mi id="alg1.23.23.4.3.3.m3.1.1.3.2" xref="alg1.23.23.4.3.3.m3.1.1.3.2.cmml">θ</mi><mi id="alg1.23.23.4.3.3.m3.1.1.3.3" xref="alg1.23.23.4.3.3.m3.1.1.3.3.cmml">t</mi></msup></msub><annotation-xml encoding="MathML-Content" id="alg1.23.23.4.3.3.m3.1b"><apply id="alg1.23.23.4.3.3.m3.1.1.cmml" xref="alg1.23.23.4.3.3.m3.1.1"><csymbol cd="ambiguous" id="alg1.23.23.4.3.3.m3.1.1.1.cmml" xref="alg1.23.23.4.3.3.m3.1.1">subscript</csymbol><ci id="alg1.23.23.4.3.3.m3.1.1.2a.cmml" xref="alg1.23.23.4.3.3.m3.1.1.2"><mtext class="ltx_mathvariant_italic" id="alg1.23.23.4.3.3.m3.1.1.2.cmml" xref="alg1.23.23.4.3.3.m3.1.1.2">IP</mtext></ci><apply id="alg1.23.23.4.3.3.m3.1.1.3.cmml" xref="alg1.23.23.4.3.3.m3.1.1.3"><csymbol cd="ambiguous" id="alg1.23.23.4.3.3.m3.1.1.3.1.cmml" xref="alg1.23.23.4.3.3.m3.1.1.3">superscript</csymbol><ci id="alg1.23.23.4.3.3.m3.1.1.3.2.cmml" xref="alg1.23.23.4.3.3.m3.1.1.3.2">𝜃</ci><ci id="alg1.23.23.4.3.3.m3.1.1.3.3.cmml" xref="alg1.23.23.4.3.3.m3.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.23.23.4.3.3.m3.1c">\text{I\kern-1.34995ptP}_{\theta^{t}}</annotation></semantics></math></em>)</span></em><span id="alg1.23.23.9" class="ltx_text ltx_font_bold" style="font-size:90%;">:</span><span id="alg1.23.23.10" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.24.24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.24.24.1.1.1" class="ltx_text" style="font-size:90%;">2</span></span><span id="alg1.24.24.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.24.24.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.24.24.4" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.24.24.m1.1" class="ltx_Math" alttext="\textsc{scores}\leftarrow\emptyset" display="inline"><semantics id="alg1.24.24.m1.1a"><mrow id="alg1.24.24.m1.1.1" xref="alg1.24.24.m1.1.1.cmml"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.24.24.m1.1.1.2" xref="alg1.24.24.m1.1.1.2a.cmml">scores</mtext><mo mathsize="90%" stretchy="false" id="alg1.24.24.m1.1.1.1" xref="alg1.24.24.m1.1.1.1.cmml">←</mo><mi mathsize="90%" mathvariant="normal" id="alg1.24.24.m1.1.1.3" xref="alg1.24.24.m1.1.1.3.cmml">∅</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.24.24.m1.1b"><apply id="alg1.24.24.m1.1.1.cmml" xref="alg1.24.24.m1.1.1"><ci id="alg1.24.24.m1.1.1.1.cmml" xref="alg1.24.24.m1.1.1.1">←</ci><ci id="alg1.24.24.m1.1.1.2a.cmml" xref="alg1.24.24.m1.1.1.2"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.24.24.m1.1.1.2.cmml" xref="alg1.24.24.m1.1.1.2">scores</mtext></ci><emptyset id="alg1.24.24.m1.1.1.3.cmml" xref="alg1.24.24.m1.1.1.3"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.24.24.m1.1c">\textsc{scores}\leftarrow\emptyset</annotation></semantics></math>
</div>
<div id="alg1.25.25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.25.25.1.1.1" class="ltx_text" style="font-size:90%;">3</span></span><span id="alg1.25.25.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.25.25.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.25.25.4" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.25.25.m1.2" class="ltx_Math" alttext="\textsc{scores}\leftarrow\textsc{scores}\cup\log{\text{I\kern-1.34995ptP}_{\theta^{t}}(beam)}-\rho R_{n}(beam)" display="inline"><semantics id="alg1.25.25.m1.2a"><mrow id="alg1.25.25.m1.2.2" xref="alg1.25.25.m1.2.2.cmml"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.25.25.m1.2.2.4" xref="alg1.25.25.m1.2.2.4a.cmml">scores</mtext><mo mathsize="90%" stretchy="false" id="alg1.25.25.m1.2.2.3" xref="alg1.25.25.m1.2.2.3.cmml">←</mo><mrow id="alg1.25.25.m1.2.2.2" xref="alg1.25.25.m1.2.2.2.cmml"><mrow id="alg1.25.25.m1.1.1.1.1" xref="alg1.25.25.m1.1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.25.25.m1.1.1.1.1.3" xref="alg1.25.25.m1.1.1.1.1.3a.cmml">scores</mtext><mo mathsize="90%" id="alg1.25.25.m1.1.1.1.1.2" xref="alg1.25.25.m1.1.1.1.1.2.cmml">∪</mo><mrow id="alg1.25.25.m1.1.1.1.1.1" xref="alg1.25.25.m1.1.1.1.1.1.cmml"><mrow id="alg1.25.25.m1.1.1.1.1.1.3" xref="alg1.25.25.m1.1.1.1.1.1.3.cmml"><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.3.1" xref="alg1.25.25.m1.1.1.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="alg1.25.25.m1.1.1.1.1.1.3a" xref="alg1.25.25.m1.1.1.1.1.1.3.cmml">⁡</mo><msub id="alg1.25.25.m1.1.1.1.1.1.3.2" xref="alg1.25.25.m1.1.1.1.1.1.3.2.cmml"><mtext mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.3.2.2" xref="alg1.25.25.m1.1.1.1.1.1.3.2.2a.cmml">IP</mtext><msup id="alg1.25.25.m1.1.1.1.1.1.3.2.3" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3.cmml"><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.3.2.3.2" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3.2.cmml">θ</mi><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.3.2.3.3" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3.3.cmml">t</mi></msup></msub></mrow><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.1.1.1.1.1.2" xref="alg1.25.25.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="alg1.25.25.m1.1.1.1.1.1.1.1" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.cmml"><mo maxsize="90%" minsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.2" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.25.25.m1.1.1.1.1.1.1.1.1" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.cmml"><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.2" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.1" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.3" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.1a" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.4" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.1b" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.1.5" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.5.cmml">m</mi></mrow><mo maxsize="90%" minsize="90%" id="alg1.25.25.m1.1.1.1.1.1.1.1.3" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathsize="90%" id="alg1.25.25.m1.2.2.2.3" xref="alg1.25.25.m1.2.2.2.3.cmml">−</mo><mrow id="alg1.25.25.m1.2.2.2.2" xref="alg1.25.25.m1.2.2.2.2.cmml"><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.3" xref="alg1.25.25.m1.2.2.2.2.3.cmml">ρ</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.2.2.2.2.2" xref="alg1.25.25.m1.2.2.2.2.2.cmml">​</mo><msub id="alg1.25.25.m1.2.2.2.2.4" xref="alg1.25.25.m1.2.2.2.2.4.cmml"><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.4.2" xref="alg1.25.25.m1.2.2.2.2.4.2.cmml">R</mi><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.4.3" xref="alg1.25.25.m1.2.2.2.2.4.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.2.2.2.2.2a" xref="alg1.25.25.m1.2.2.2.2.2.cmml">​</mo><mrow id="alg1.25.25.m1.2.2.2.2.1.1" xref="alg1.25.25.m1.2.2.2.2.1.1.1.cmml"><mo maxsize="90%" minsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.2" xref="alg1.25.25.m1.2.2.2.2.1.1.1.cmml">(</mo><mrow id="alg1.25.25.m1.2.2.2.2.1.1.1" xref="alg1.25.25.m1.2.2.2.2.1.1.1.cmml"><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.1.2" xref="alg1.25.25.m1.2.2.2.2.1.1.1.2.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.2.2.2.2.1.1.1.1" xref="alg1.25.25.m1.2.2.2.2.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.1.3" xref="alg1.25.25.m1.2.2.2.2.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.2.2.2.2.1.1.1.1a" xref="alg1.25.25.m1.2.2.2.2.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.1.4" xref="alg1.25.25.m1.2.2.2.2.1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.25.25.m1.2.2.2.2.1.1.1.1b" xref="alg1.25.25.m1.2.2.2.2.1.1.1.1.cmml">​</mo><mi mathsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.1.5" xref="alg1.25.25.m1.2.2.2.2.1.1.1.5.cmml">m</mi></mrow><mo maxsize="90%" minsize="90%" id="alg1.25.25.m1.2.2.2.2.1.1.3" xref="alg1.25.25.m1.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.25.25.m1.2b"><apply id="alg1.25.25.m1.2.2.cmml" xref="alg1.25.25.m1.2.2"><ci id="alg1.25.25.m1.2.2.3.cmml" xref="alg1.25.25.m1.2.2.3">←</ci><ci id="alg1.25.25.m1.2.2.4a.cmml" xref="alg1.25.25.m1.2.2.4"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.25.25.m1.2.2.4.cmml" xref="alg1.25.25.m1.2.2.4">scores</mtext></ci><apply id="alg1.25.25.m1.2.2.2.cmml" xref="alg1.25.25.m1.2.2.2"><minus id="alg1.25.25.m1.2.2.2.3.cmml" xref="alg1.25.25.m1.2.2.2.3"></minus><apply id="alg1.25.25.m1.1.1.1.1.cmml" xref="alg1.25.25.m1.1.1.1.1"><union id="alg1.25.25.m1.1.1.1.1.2.cmml" xref="alg1.25.25.m1.1.1.1.1.2"></union><ci id="alg1.25.25.m1.1.1.1.1.3a.cmml" xref="alg1.25.25.m1.1.1.1.1.3"><mtext class="ltx_font_smallcaps" mathsize="90%" id="alg1.25.25.m1.1.1.1.1.3.cmml" xref="alg1.25.25.m1.1.1.1.1.3">scores</mtext></ci><apply id="alg1.25.25.m1.1.1.1.1.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1"><times id="alg1.25.25.m1.1.1.1.1.1.2.cmml" xref="alg1.25.25.m1.1.1.1.1.1.2"></times><apply id="alg1.25.25.m1.1.1.1.1.1.3.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3"><log id="alg1.25.25.m1.1.1.1.1.1.3.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.1"></log><apply id="alg1.25.25.m1.1.1.1.1.1.3.2.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.25.25.m1.1.1.1.1.1.3.2.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2">subscript</csymbol><ci id="alg1.25.25.m1.1.1.1.1.1.3.2.2a.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.2"><mtext mathsize="90%" id="alg1.25.25.m1.1.1.1.1.1.3.2.2.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.2">IP</mtext></ci><apply id="alg1.25.25.m1.1.1.1.1.1.3.2.3.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="alg1.25.25.m1.1.1.1.1.1.3.2.3.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3">superscript</csymbol><ci id="alg1.25.25.m1.1.1.1.1.1.3.2.3.2.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3.2">𝜃</ci><ci id="alg1.25.25.m1.1.1.1.1.1.3.2.3.3.cmml" xref="alg1.25.25.m1.1.1.1.1.1.3.2.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.25.25.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1"><times id="alg1.25.25.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.1"></times><ci id="alg1.25.25.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.2">𝑏</ci><ci id="alg1.25.25.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.3">𝑒</ci><ci id="alg1.25.25.m1.1.1.1.1.1.1.1.1.4.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.4">𝑎</ci><ci id="alg1.25.25.m1.1.1.1.1.1.1.1.1.5.cmml" xref="alg1.25.25.m1.1.1.1.1.1.1.1.1.5">𝑚</ci></apply></apply></apply><apply id="alg1.25.25.m1.2.2.2.2.cmml" xref="alg1.25.25.m1.2.2.2.2"><times id="alg1.25.25.m1.2.2.2.2.2.cmml" xref="alg1.25.25.m1.2.2.2.2.2"></times><ci id="alg1.25.25.m1.2.2.2.2.3.cmml" xref="alg1.25.25.m1.2.2.2.2.3">𝜌</ci><apply id="alg1.25.25.m1.2.2.2.2.4.cmml" xref="alg1.25.25.m1.2.2.2.2.4"><csymbol cd="ambiguous" id="alg1.25.25.m1.2.2.2.2.4.1.cmml" xref="alg1.25.25.m1.2.2.2.2.4">subscript</csymbol><ci id="alg1.25.25.m1.2.2.2.2.4.2.cmml" xref="alg1.25.25.m1.2.2.2.2.4.2">𝑅</ci><ci id="alg1.25.25.m1.2.2.2.2.4.3.cmml" xref="alg1.25.25.m1.2.2.2.2.4.3">𝑛</ci></apply><apply id="alg1.25.25.m1.2.2.2.2.1.1.1.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1"><times id="alg1.25.25.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1.1.1"></times><ci id="alg1.25.25.m1.2.2.2.2.1.1.1.2.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1.1.2">𝑏</ci><ci id="alg1.25.25.m1.2.2.2.2.1.1.1.3.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1.1.3">𝑒</ci><ci id="alg1.25.25.m1.2.2.2.2.1.1.1.4.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1.1.4">𝑎</ci><ci id="alg1.25.25.m1.2.2.2.2.1.1.1.5.cmml" xref="alg1.25.25.m1.2.2.2.2.1.1.1.5">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.25.25.m1.2c">\textsc{scores}\leftarrow\textsc{scores}\cup\log{\text{I\kern-1.34995ptP}_{\theta^{t}}(beam)}-\rho R_{n}(beam)</annotation></semantics></math>
</div>
<div id="alg1.27.27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.27.3.1.1" class="ltx_text" style="font-size:90%;">4</span></span><span id="alg1.27.27.4" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.27.5" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.27.27.6" class="ltx_text" style="font-size:90%;">

</span><span id="alg1.27.27.7" class="ltx_text ltx_font_bold" style="font-size:90%;">return</span><span id="alg1.27.27.8" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.27.27.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Top <math id="alg1.26.26.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.26.26.1.1.m1.1a"><mi id="alg1.26.26.1.1.m1.1.1" xref="alg1.26.26.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.26.26.1.1.m1.1b"><ci id="alg1.26.26.1.1.m1.1.1.cmml" xref="alg1.26.26.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.26.26.1.1.m1.1c">k</annotation></semantics></math> elements of <math id="alg1.27.27.2.2.m2.1" class="ltx_Math" alttext="\pi" display="inline"><semantics id="alg1.27.27.2.2.m2.1a"><mi id="alg1.27.27.2.2.m2.1.1" xref="alg1.27.27.2.2.m2.1.1.cmml">π</mi><annotation-xml encoding="MathML-Content" id="alg1.27.27.2.2.m2.1b"><ci id="alg1.27.27.2.2.m2.1.1.cmml" xref="alg1.27.27.2.2.m2.1.1">𝜋</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.27.27.2.2.m2.1c">\pi</annotation></semantics></math> ordered by <span id="alg1.27.27.2.3" class="ltx_text ltx_font_smallcaps">Scores</span></em>
</div>
<div id="alg1.27.36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.36.1.1.1" class="ltx_text" style="font-size:90%;">5</span></span><span id="alg1.27.36.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.27.36.3" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.27.36.4" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.27.37" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.27.37.1.1.1" class="ltx_text" style="font-size:90%;">6</span></span><span id="alg1.27.37.2" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.27.38" class="ltx_listingline">
</div>
</div>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_float"><span id="alg1.31.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span>Beam search to order words
</figcaption>
</figure>
</section>
<section id="A2" class="ltx_appendix" lang="en">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Experimental Details and More Results</h2>

<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Preprocessing details for WikiText-103 and Enron Email</h3>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">We consider recovering sentences in the current work. As WikiText-103 and Enron Email have longer context (i.e. paragraph), in our evaluation, we split them into sentences and only keep the sentences with 1) fewer than 40 tokens, 2) fewer than 5 unknown tokens, where unknown tokens are tokens not in the vocabulary of the GPT-2 model, 3) a perplexity smaller than 50 on the pretrained GPT-2 model, 4) at least 1 named entities<span id="footnote9" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span>We identify named entities by SpaCy <cite class="ltx_cite ltx_citemacro_cite">Honnibal et al. (<a href="#bib.bib20" title="" class="ltx_ref">2020</a>)</cite>.</span></span></span> of type: "PERSON", "ORG", "GPE", "LOC", "PRODUCT", "EVENT". We leave recovering longer paragraphs as future work.</p>
</div>
<div id="A2.SS1.p2" class="ltx_para">
<p id="A2.SS1.p2.1" class="ltx_p">We keep 2000 examples of each dataset as the evaluation set, and use the left for training.</p>
</div>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Comparison with Previous Attacks</h3>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.1" class="ltx_p">Table <a href="#A2.T6" title="Table 6 ‣ B.2 Comparison with Previous Attacks ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> presents a high-level
comparison of key differences between our FILM attack and previous attacks. Our FILM attack is unique as it does not rely on
end-to-end optimization, is demonstrated on large batch sizes, and is focused on the
autoregressive language modelling task.</p>
</div>
<figure id="A2.T6" class="ltx_table">
<table id="A2.T6.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T6.1.1" class="ltx_tr">
<th id="A2.T6.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="A2.T6.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.1.2.1.1" class="ltx_p" style="width:85.4pt;"><span id="A2.T6.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Name</span></span>
</span>
</th>
<th id="A2.T6.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt"><span id="A2.T6.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Technique</span></th>
<th id="A2.T6.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt"><math id="A2.T6.1.1.1.m1.2" class="ltx_Math" alttext="\mathbf{\max(b)}" display="inline"><semantics id="A2.T6.1.1.1.m1.2a"><mrow id="A2.T6.1.1.1.m1.2.3.2" xref="A2.T6.1.1.1.m1.2.3.1.cmml"><mi mathsize="70%" id="A2.T6.1.1.1.m1.1.1" xref="A2.T6.1.1.1.m1.1.1.cmml">max</mi><mo id="A2.T6.1.1.1.m1.2.3.2a" xref="A2.T6.1.1.1.m1.2.3.1.cmml">⁡</mo><mrow id="A2.T6.1.1.1.m1.2.3.2.1" xref="A2.T6.1.1.1.m1.2.3.1.cmml"><mo maxsize="70%" minsize="70%" id="A2.T6.1.1.1.m1.2.3.2.1.1" xref="A2.T6.1.1.1.m1.2.3.1.cmml">(</mo><mi mathsize="70%" id="A2.T6.1.1.1.m1.2.2" xref="A2.T6.1.1.1.m1.2.2.cmml">𝐛</mi><mo maxsize="70%" minsize="70%" id="A2.T6.1.1.1.m1.2.3.2.1.2" xref="A2.T6.1.1.1.m1.2.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.T6.1.1.1.m1.2b"><apply id="A2.T6.1.1.1.m1.2.3.1.cmml" xref="A2.T6.1.1.1.m1.2.3.2"><max id="A2.T6.1.1.1.m1.1.1.cmml" xref="A2.T6.1.1.1.m1.1.1"></max><ci id="A2.T6.1.1.1.m1.2.2.cmml" xref="A2.T6.1.1.1.m1.2.2">𝐛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.1.1.1.m1.2c">\mathbf{\max(b)}</annotation></semantics></math></th>
<th id="A2.T6.1.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="A2.T6.1.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.1.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A2.T6.1.1.4.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Model(s)</span></span>
</span>
</th>
<th id="A2.T6.1.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="A2.T6.1.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.1.5.1.1" class="ltx_p" style="width:122.3pt;"><span id="A2.T6.1.1.5.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Datasets (Sequence Length, Task)</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T6.3.3" class="ltx_tr">
<td id="A2.T6.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.3.3.3.1.1" class="ltx_p" style="width:85.4pt;"><span id="A2.T6.3.3.3.1.1.1" class="ltx_text" style="font-size:70%;">DLG </span><cite class="ltx_cite ltx_citemacro_citep"><span id="A2.T6.3.3.3.1.1.2.1" class="ltx_text" style="font-size:70%;">(</span>Zhu et al.<span id="A2.T6.3.3.3.1.1.3.2.1.1" class="ltx_text" style="font-size:70%;">, </span><a href="#bib.bib58" title="" class="ltx_ref">2019</a><span id="A2.T6.3.3.3.1.1.4.3" class="ltx_text" style="font-size:70%;">)</span></cite></span>
</span>
</td>
<td id="A2.T6.3.3.4" class="ltx_td ltx_align_left ltx_border_t"><span id="A2.T6.3.3.4.1" class="ltx_text" style="font-size:70%;">E2E</span></td>
<td id="A2.T6.2.2.1" class="ltx_td ltx_align_left ltx_border_t"><math id="A2.T6.2.2.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A2.T6.2.2.1.m1.1a"><mn mathsize="70%" id="A2.T6.2.2.1.m1.1.1" xref="A2.T6.2.2.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A2.T6.2.2.1.m1.1b"><cn type="integer" id="A2.T6.2.2.1.m1.1.1.cmml" xref="A2.T6.2.2.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.2.2.1.m1.1c">1</annotation></semantics></math></td>
<td id="A2.T6.3.3.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.3.3.5.1.1" class="ltx_p" style="width:56.9pt;"><span id="A2.T6.3.3.5.1.1.1" class="ltx_text" style="font-size:70%;">BERT</span></span>
</span>
</td>
<td id="A2.T6.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.3.3.2.1.1" class="ltx_p" style="width:122.3pt;"><span id="A2.T6.3.3.2.1.1.1" class="ltx_text" style="font-size:70%;">Masked Language Modeling (</span><math id="A2.T6.3.3.2.1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="A2.T6.3.3.2.1.1.m1.1a"><mo mathsize="70%" id="A2.T6.3.3.2.1.1.m1.1.1" xref="A2.T6.3.3.2.1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="A2.T6.3.3.2.1.1.m1.1b"><csymbol cd="latexml" id="A2.T6.3.3.2.1.1.m1.1.1.cmml" xref="A2.T6.3.3.2.1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.3.3.2.1.1.m1.1c">\sim</annotation></semantics></math><span id="A2.T6.3.3.2.1.1.2" class="ltx_text" style="font-size:70%;"> 30)</span></span>
</span>
</td>
</tr>
<tr id="A2.T6.4.4" class="ltx_tr">
<td id="A2.T6.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.4.4.2.1.1" class="ltx_p" style="width:85.4pt;"><span id="A2.T6.4.4.2.1.1.1" class="ltx_text" style="font-size:70%;">TAG </span><cite class="ltx_cite ltx_citemacro_citep"><span id="A2.T6.4.4.2.1.1.2.1" class="ltx_text" style="font-size:70%;">(</span>Deng et al.<span id="A2.T6.4.4.2.1.1.3.2.1.1" class="ltx_text" style="font-size:70%;">, </span><a href="#bib.bib11" title="" class="ltx_ref">2021</a><span id="A2.T6.4.4.2.1.1.4.3" class="ltx_text" style="font-size:70%;">)</span></cite></span>
</span>
</td>
<td id="A2.T6.4.4.3" class="ltx_td ltx_align_left ltx_border_t"><span id="A2.T6.4.4.3.1" class="ltx_text" style="font-size:70%;">E2E + Reg</span></td>
<td id="A2.T6.4.4.1" class="ltx_td ltx_align_left ltx_border_t"><math id="A2.T6.4.4.1.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="A2.T6.4.4.1.m1.1a"><mn mathsize="70%" id="A2.T6.4.4.1.m1.1.1" xref="A2.T6.4.4.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="A2.T6.4.4.1.m1.1b"><cn type="integer" id="A2.T6.4.4.1.m1.1.1.cmml" xref="A2.T6.4.4.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.4.4.1.m1.1c">1</annotation></semantics></math></td>
<td id="A2.T6.4.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.4.4.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A2.T6.4.4.4.1.1.1" class="ltx_text" style="font-size:70%;">TinyBERT, BERT, BERTLARGE</span></span>
</span>
</td>
<td id="A2.T6.4.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.4.4.5.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.4.4.5.1.1" class="ltx_p" style="width:122.3pt;"><span id="A2.T6.4.4.5.1.1.1" class="ltx_text" style="font-size:70%;">CoLA (5-15, Sentence Classification), SST-2 (10-30, Sentiment Analysis), RTE (50-100, Textual Entailment)</span></span>
</span>
</td>
</tr>
<tr id="A2.T6.5.5" class="ltx_tr">
<td id="A2.T6.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.5.5.2.1.1" class="ltx_p" style="width:85.4pt;"><span id="A2.T6.5.5.2.1.1.1" class="ltx_text" style="font-size:70%;">LAMP </span><cite class="ltx_cite ltx_citemacro_citep"><span id="A2.T6.5.5.2.1.1.2.1" class="ltx_text" style="font-size:70%;">(</span>Dimitrov et al.<span id="A2.T6.5.5.2.1.1.3.2.1.1" class="ltx_text" style="font-size:70%;">, </span><a href="#bib.bib13" title="" class="ltx_ref">2022</a><span id="A2.T6.5.5.2.1.1.4.3" class="ltx_text" style="font-size:70%;">)</span></cite></span>
</span>
</td>
<td id="A2.T6.5.5.3" class="ltx_td ltx_align_left ltx_border_t"><span id="A2.T6.5.5.3.1" class="ltx_text" style="font-size:70%;">E2E + Reg + DR</span></td>
<td id="A2.T6.5.5.1" class="ltx_td ltx_align_left ltx_border_t"><math id="A2.T6.5.5.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="A2.T6.5.5.1.m1.1a"><mn mathsize="70%" id="A2.T6.5.5.1.m1.1.1" xref="A2.T6.5.5.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A2.T6.5.5.1.m1.1b"><cn type="integer" id="A2.T6.5.5.1.m1.1.1.cmml" xref="A2.T6.5.5.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.5.5.1.m1.1c">4</annotation></semantics></math></td>
<td id="A2.T6.5.5.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.5.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.5.5.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A2.T6.5.5.4.1.1.1" class="ltx_text" style="font-size:70%;">TinyBERT, BERT, BERTLARGE</span></span>
</span>
</td>
<td id="A2.T6.5.5.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T6.5.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.5.5.5.1.1" class="ltx_p" style="width:122.3pt;"><span id="A2.T6.5.5.5.1.1.1" class="ltx_text" style="font-size:70%;">CoLA (5-9) SST-2 (3-13), Rotten Tomatoes (14-27, Sentiment Analysis)</span></span>
</span>
</td>
</tr>
<tr id="A2.T6.6.6" class="ltx_tr">
<td id="A2.T6.6.6.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="A2.T6.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.6.6.2.1.1" class="ltx_p" style="width:85.4pt;"><span id="A2.T6.6.6.2.1.1.1" class="ltx_text" style="font-size:70%;">FILM (Ours)</span></span>
</span>
</td>
<td id="A2.T6.6.6.3" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t"><span id="A2.T6.6.6.3.1" class="ltx_text" style="font-size:70%;">BoW + BS + DR</span></td>
<td id="A2.T6.6.6.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_t"><math id="A2.T6.6.6.1.m1.1" class="ltx_Math" alttext="128" display="inline"><semantics id="A2.T6.6.6.1.m1.1a"><mn mathsize="70%" id="A2.T6.6.6.1.m1.1.1" xref="A2.T6.6.6.1.m1.1.1.cmml">128</mn><annotation-xml encoding="MathML-Content" id="A2.T6.6.6.1.m1.1b"><cn type="integer" id="A2.T6.6.6.1.m1.1.1.cmml" xref="A2.T6.6.6.1.m1.1.1">128</cn></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.6.6.1.m1.1c">128</annotation></semantics></math></td>
<td id="A2.T6.6.6.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="A2.T6.6.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.6.6.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A2.T6.6.6.4.1.1.1" class="ltx_text" style="font-size:70%;">GPT-2</span></span>
</span>
</td>
<td id="A2.T6.6.6.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="A2.T6.6.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.6.6.5.1.1" class="ltx_p" style="width:122.3pt;"><span id="A2.T6.6.6.5.1.1.1" class="ltx_text" style="font-size:70%;">Wikitext-103,
Enron Email (15-40, Autoregressive Language Modeling)</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 6: </span>A high-level overview of the key differences between FILM and prior work on extracting information from gradients in federated language modelling. <math id="A2.T6.9.m1.2" class="ltx_Math" alttext="\mathbf{\max(b)}" display="inline"><semantics id="A2.T6.9.m1.2b"><mrow id="A2.T6.9.m1.2.3.2" xref="A2.T6.9.m1.2.3.1.cmml"><mi id="A2.T6.9.m1.1.1" xref="A2.T6.9.m1.1.1.cmml">max</mi><mo id="A2.T6.9.m1.2.3.2b" xref="A2.T6.9.m1.2.3.1.cmml">⁡</mo><mrow id="A2.T6.9.m1.2.3.2.1" xref="A2.T6.9.m1.2.3.1.cmml"><mo stretchy="false" id="A2.T6.9.m1.2.3.2.1.1" xref="A2.T6.9.m1.2.3.1.cmml">(</mo><mi id="A2.T6.9.m1.2.2" xref="A2.T6.9.m1.2.2.cmml">𝐛</mi><mo stretchy="false" id="A2.T6.9.m1.2.3.2.1.2" xref="A2.T6.9.m1.2.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.T6.9.m1.2c"><apply id="A2.T6.9.m1.2.3.1.cmml" xref="A2.T6.9.m1.2.3.2"><max id="A2.T6.9.m1.1.1.cmml" xref="A2.T6.9.m1.1.1"></max><ci id="A2.T6.9.m1.2.2.cmml" xref="A2.T6.9.m1.2.2">𝐛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.9.m1.2d">\mathbf{\max(b)}</annotation></semantics></math> is the maximum attack-able batch size. E2E means "End-to-End optimization", "Reg" means the inclusion of a regularization term, "DR" refers to a discrete token reordering step, and "BoW"refers to bag-of-words reordering. Our approach is unique as it does not rely on end-to-end optimization, is demonstrated on large batch sizes (i.e. larger <math id="A2.T6.10.m2.2" class="ltx_Math" alttext="\mathbf{\max(b)}" display="inline"><semantics id="A2.T6.10.m2.2b"><mrow id="A2.T6.10.m2.2.3.2" xref="A2.T6.10.m2.2.3.1.cmml"><mi id="A2.T6.10.m2.1.1" xref="A2.T6.10.m2.1.1.cmml">max</mi><mo id="A2.T6.10.m2.2.3.2b" xref="A2.T6.10.m2.2.3.1.cmml">⁡</mo><mrow id="A2.T6.10.m2.2.3.2.1" xref="A2.T6.10.m2.2.3.1.cmml"><mo stretchy="false" id="A2.T6.10.m2.2.3.2.1.1" xref="A2.T6.10.m2.2.3.1.cmml">(</mo><mi id="A2.T6.10.m2.2.2" xref="A2.T6.10.m2.2.2.cmml">𝐛</mi><mo stretchy="false" id="A2.T6.10.m2.2.3.2.1.2" xref="A2.T6.10.m2.2.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.T6.10.m2.2c"><apply id="A2.T6.10.m2.2.3.1.cmml" xref="A2.T6.10.m2.2.3.2"><max id="A2.T6.10.m2.1.1.cmml" xref="A2.T6.10.m2.1.1"></max><ci id="A2.T6.10.m2.2.2.cmml" xref="A2.T6.10.m2.2.2">𝐛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T6.10.m2.2d">\mathbf{\max(b)}</annotation></semantics></math>), and is focused on the autoregressive language modelling task.</figcaption>
</figure>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021)</h3>

<div id="A2.SS3.p1" class="ltx_para">
<p id="A2.SS3.p1.1" class="ltx_p">Table <a href="#A2.T7" title="Table 7 ‣ B.3 More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021) ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the attack results of <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> with different batch sizes. Their gradient-matching optimization fails to recover sentences with different batch sizes.
We also find that <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite> seem sensitive to the initialization. Table <a href="#A2.T8" title="Table 8 ‣ B.3 More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021) ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows the attacking results with different initialization. We find that only when the initialization is very close to the original sentence (i.e., one- or two-word different), the attack can recover sentences successfully. Table <a href="#A2.T9" title="Table 9 ‣ B.3 More Results of DLG (Zhu et al. 2019) and TAG (Deng et al. 2021) ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> compares metrics for reconstructions by previous methods and by ours</p>
</div>
<figure id="A2.T7" class="ltx_table">
<table id="A2.T7.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T7.1.1" class="ltx_tr">
<th id="A2.T7.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="A2.T7.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Batch Size <math id="A2.T7.1.1.1.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="A2.T7.1.1.1.1.m1.1a"><mi id="A2.T7.1.1.1.1.m1.1.1" xref="A2.T7.1.1.1.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="A2.T7.1.1.1.1.m1.1b"><ci id="A2.T7.1.1.1.1.m1.1.1.cmml" xref="A2.T7.1.1.1.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.1.1.1.1.m1.1c">b</annotation></semantics></math></span></th>
<th id="A2.T7.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.1.1.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original sentence</span></span>
</span>
</th>
<th id="A2.T7.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.1.1.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.1.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Best Reconstructed sentence</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T7.2.2" class="ltx_tr">
<th id="A2.T7.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T7.2.2.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="A2.T7.2.2.1.m1.1a"><mrow id="A2.T7.2.2.1.m1.1.1" xref="A2.T7.2.2.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T7.2.2.1.m1.1.1.2" xref="A2.T7.2.2.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T7.2.2.1.m1.1.1.1" xref="A2.T7.2.2.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T7.2.2.1.m1.1.1.3" xref="A2.T7.2.2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T7.2.2.1.m1.1b"><apply id="A2.T7.2.2.1.m1.1.1.cmml" xref="A2.T7.2.2.1.m1.1.1"><eq id="A2.T7.2.2.1.m1.1.1.1.cmml" xref="A2.T7.2.2.1.m1.1.1.1"></eq><ci id="A2.T7.2.2.1.m1.1.1.2.cmml" xref="A2.T7.2.2.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T7.2.2.1.m1.1.1.3.cmml" xref="A2.T7.2.2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.2.2.1.m1.1c">b=1</annotation></semantics></math></th>
<td id="A2.T7.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.2.2.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">As Elizabeth Hoiem explains, "The most English of all Englishmen, then, is both king and slave, in many ways indistinguishable from Stephen Black.</span></span>
</span>
</td>
<td id="A2.T7.2.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.2.2.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">thelesshovahrued theAsWords reporting the Youngerselagebalance, mathemat mathemat mathemat reper arrangpmwikiIndia Bowen perspectoulos subur, maximal</span></span>
</span>
</td>
</tr>
<tr id="A2.T7.3.3" class="ltx_tr">
<th id="A2.T7.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T7.3.3.1.m1.1" class="ltx_Math" alttext="b=2" display="inline"><semantics id="A2.T7.3.3.1.m1.1a"><mrow id="A2.T7.3.3.1.m1.1.1" xref="A2.T7.3.3.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T7.3.3.1.m1.1.1.2" xref="A2.T7.3.3.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T7.3.3.1.m1.1.1.1" xref="A2.T7.3.3.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T7.3.3.1.m1.1.1.3" xref="A2.T7.3.3.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T7.3.3.1.m1.1b"><apply id="A2.T7.3.3.1.m1.1.1.cmml" xref="A2.T7.3.3.1.m1.1.1"><eq id="A2.T7.3.3.1.m1.1.1.1.cmml" xref="A2.T7.3.3.1.m1.1.1.1"></eq><ci id="A2.T7.3.3.1.m1.1.1.2.cmml" xref="A2.T7.3.3.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T7.3.3.1.m1.1.1.3.cmml" xref="A2.T7.3.3.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.3.3.1.m1.1c">b=2</annotation></semantics></math></th>
<td id="A2.T7.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.3.3.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.3.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">As Elizabeth Hoiem explains, "The most English of all Englishmen, then, is both king and slave, in many ways indistinguishable from Stephen Black.</span></span>
</span>
</td>
<td id="A2.T7.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.3.3.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.3.3.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">addons, Rosesineries,-, princ,soDeliveryDate Aires gazed,.ropolitan glim eventscffff Americans hereditary vanishing traged defic mathematenegger levied mosquodan: antioxid mathematetheless Wh</span></span>
</span>
</td>
</tr>
<tr id="A2.T7.4.4" class="ltx_tr">
<th id="A2.T7.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T7.4.4.1.m1.1" class="ltx_Math" alttext="b=4" display="inline"><semantics id="A2.T7.4.4.1.m1.1a"><mrow id="A2.T7.4.4.1.m1.1.1" xref="A2.T7.4.4.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T7.4.4.1.m1.1.1.2" xref="A2.T7.4.4.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T7.4.4.1.m1.1.1.1" xref="A2.T7.4.4.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T7.4.4.1.m1.1.1.3" xref="A2.T7.4.4.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T7.4.4.1.m1.1b"><apply id="A2.T7.4.4.1.m1.1.1.cmml" xref="A2.T7.4.4.1.m1.1.1"><eq id="A2.T7.4.4.1.m1.1.1.1.cmml" xref="A2.T7.4.4.1.m1.1.1.1"></eq><ci id="A2.T7.4.4.1.m1.1.1.2.cmml" xref="A2.T7.4.4.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T7.4.4.1.m1.1.1.3.cmml" xref="A2.T7.4.4.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.4.4.1.m1.1c">b=4</annotation></semantics></math></th>
<td id="A2.T7.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.4.4.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.4.4.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The expressway progresses northward from the onramp, crossing over Waverly Avenue and passing the first guide sign for exit 2(NY 27), about 0@.</span></span>
</span>
</td>
<td id="A2.T7.4.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.4.4.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.4.4.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Thebridsptoms Rainbow. plotted the Gleaming,. scrutlocked and.. apex llularetheless Emailoen the explan challeng. treatedFormer pieces government</span></span>
</span>
</td>
</tr>
<tr id="A2.T7.5.5" class="ltx_tr">
<th id="A2.T7.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T7.5.5.1.m1.1" class="ltx_Math" alttext="b=8" display="inline"><semantics id="A2.T7.5.5.1.m1.1a"><mrow id="A2.T7.5.5.1.m1.1.1" xref="A2.T7.5.5.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T7.5.5.1.m1.1.1.2" xref="A2.T7.5.5.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T7.5.5.1.m1.1.1.1" xref="A2.T7.5.5.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T7.5.5.1.m1.1.1.3" xref="A2.T7.5.5.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T7.5.5.1.m1.1b"><apply id="A2.T7.5.5.1.m1.1.1.cmml" xref="A2.T7.5.5.1.m1.1.1"><eq id="A2.T7.5.5.1.m1.1.1.1.cmml" xref="A2.T7.5.5.1.m1.1.1.1"></eq><ci id="A2.T7.5.5.1.m1.1.1.2.cmml" xref="A2.T7.5.5.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T7.5.5.1.m1.1.1.3.cmml" xref="A2.T7.5.5.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T7.5.5.1.m1.1c">b=8</annotation></semantics></math></th>
<td id="A2.T7.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.5.5.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.5.5.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Hagen believes that despite the signifying that occurs in many of Angelou’s poems, the themes and topics are universal enough that all readers would understand and appreciate them.</span></span>
</span>
</td>
<td id="A2.T7.5.5.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T7.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T7.5.5.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T7.5.5.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">of,arning plaint sacrific Protestant the..Medical littleisha.isky,wallve ointed way skeletodor aestorydemocratic. enclaveiHUDThe repetitionTrivia useful</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 7: </span>Reconstruction performance of <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite>’s attack with different batch sizes. For each batch size, we show the best-case reconstructed sentence across 10 evaluated batches.</figcaption>
</figure>
<figure id="A2.T8" class="ltx_table">
<table id="A2.T8.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T8.1.1.1" class="ltx_tr">
<th id="A2.T8.1.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.1.1.1.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Initialization</span></span>
</span>
</th>
<th id="A2.T8.1.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.1.1.2.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Reconstructed sentence</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T8.1.2.1" class="ltx_tr">
<td id="A2.T8.1.2.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.2.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.2.1.1.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.2.1.1.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">He <span id="A2.T8.1.2.1.1.1.1.1.1" class="ltx_text" style="background-color:#FCE5CD;">at</span> ordered the construction of Fort Oswego at the mouth of the Oswego River.</span></span>
</span>
</td>
<td id="A2.T8.1.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.2.1.2.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.2.1.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">He consequently ordered the construction of Fort Oswego at the mouth of the Oswego River.</span></span>
</span>
</td>
</tr>
<tr id="A2.T8.1.3.2" class="ltx_tr">
<td id="A2.T8.1.3.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.3.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.3.2.1.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.3.2.1.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">He<span id="A2.T8.1.3.2.1.1.1.1.1" class="ltx_text" style="background-color:#FCE5CD;">fly</span> ordered the construction of Fort Os<span id="A2.T8.1.3.2.1.1.1.1.2" class="ltx_text" style="background-color:#FCE5CD;"> contributions</span>go at the <span id="A2.T8.1.3.2.1.1.1.1.3" class="ltx_text" style="background-color:#FCE5CD;">halls Oath</span> the Oswego River.</span></span>
</span>
</td>
<td id="A2.T8.1.3.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.3.2.2.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.3.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">He</span><span id="A2.T8.1.3.2.2.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;">hower <span id="A2.T8.1.3.2.2.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">consequently the construction of</span>interstitial ranchyr the mathemat Adinemort <span id="A2.T8.1.3.2.2.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">Fort Os</span> annot mathema</span></span>
</span>
</td>
</tr>
<tr id="A2.T8.1.4.3" class="ltx_tr">
<td id="A2.T8.1.4.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.4.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.4.3.1.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.4.3.1.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#FCE5CD;">itaire smash Full Mongo Highly C sphere Commodore intermediate report subjug WROf Anti Samueldet backward sec Kill manufacturer</span></span>
</span>
</td>
<td id="A2.T8.1.4.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">
<span id="A2.T8.1.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T8.1.4.3.2.1.1" class="ltx_p" style="width:193.5pt;"><span id="A2.T8.1.4.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">thelesstheless mathematMod Loaderastedperty perpendkefellerDragonMagazine horizont mathematoperative pediatricsoDeliveryDatesoDeliveryDate mathemat mathemat manufacturer</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 8: </span>Reconstruction performance of <cite class="ltx_cite ltx_citemacro_citet">Zhu et al. (<a href="#bib.bib58" title="" class="ltx_ref">2019</a>)</cite>’s attack with different initialization. The original sentence is <span id="A2.T8.11.1" class="ltx_text ltx_font_typewriter">‘‘He consequently ordered the construction of Fort Oswego at the mouth of the Oswego River.’’</span>. Text in <span id="A2.T8.12.2" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents the words that are recovered successfully.
</figcaption>
</figure>
<figure id="A2.T9" class="ltx_table">
<table id="A2.T9.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T9.1.1.1" class="ltx_tr">
<th id="A2.T9.1.1.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.1.1.2" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;" colspan="4"><span id="A2.T9.1.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">B=1</span></th>
<th id="A2.T9.1.1.1.4" class="ltx_td ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;" colspan="4"><span id="A2.T9.1.1.1.5.1" class="ltx_text ltx_font_bold" style="font-size:70%;">B=4</span></th>
<th id="A2.T9.1.1.1.6" class="ltx_td ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;" colspan="4"><span id="A2.T9.1.1.1.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">B=16</span></th>
<th id="A2.T9.1.1.1.8" class="ltx_td ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.1.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.6pt;padding-right:2.6pt;" colspan="4"><span id="A2.T9.1.1.1.9.1" class="ltx_text ltx_font_bold" style="font-size:70%;">B=32</span></th>
</tr>
<tr id="A2.T9.1.2.2" class="ltx_tr">
<th id="A2.T9.1.2.2.1" class="ltx_td ltx_th ltx_th_row" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.2.2.2" class="ltx_td ltx_th ltx_th_column ltx_th_row" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.2.2.3" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-1</span></th>
<th id="A2.T9.1.2.2.4" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.4.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-2</span></th>
<th id="A2.T9.1.2.2.5" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.5.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-L</span></th>
<th id="A2.T9.1.2.2.6" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.6.1" class="ltx_text ltx_font_bold" style="font-size:70%;">NERR</span></th>
<th id="A2.T9.1.2.2.7" class="ltx_td ltx_th ltx_th_column" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.2.2.8" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.8.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-1</span></th>
<th id="A2.T9.1.2.2.9" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.9.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-2</span></th>
<th id="A2.T9.1.2.2.10" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.10.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-L</span></th>
<th id="A2.T9.1.2.2.11" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.11.1" class="ltx_text ltx_font_bold" style="font-size:70%;">NERR</span></th>
<th id="A2.T9.1.2.2.12" class="ltx_td ltx_th ltx_th_column" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.2.2.13" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.13.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-1</span></th>
<th id="A2.T9.1.2.2.14" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.14.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-2</span></th>
<th id="A2.T9.1.2.2.15" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.15.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-L</span></th>
<th id="A2.T9.1.2.2.16" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.16.1" class="ltx_text ltx_font_bold" style="font-size:70%;">NERR</span></th>
<th id="A2.T9.1.2.2.17" class="ltx_td ltx_th ltx_th_column" style="padding-left:2.6pt;padding-right:2.6pt;"></th>
<th id="A2.T9.1.2.2.18" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.18.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-1</span></th>
<th id="A2.T9.1.2.2.19" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.19.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-2</span></th>
<th id="A2.T9.1.2.2.20" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.20.1" class="ltx_text ltx_font_bold" style="font-size:70%;">R-L</span></th>
<th id="A2.T9.1.2.2.21" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.2.2.21.1" class="ltx_text ltx_font_bold" style="font-size:70%;">NERR</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T9.1.3.1" class="ltx_tr">
<th id="A2.T9.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;" rowspan="3"><span id="A2.T9.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">WikiText-103</span></th>
<th id="A2.T9.1.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.2.1" class="ltx_text" style="font-size:70%;">DLG</span></th>
<td id="A2.T9.1.3.1.3" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.3.1" class="ltx_text" style="font-size:70%;">0.03</span></td>
<td id="A2.T9.1.3.1.4" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.4.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.3.1.5" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.5.1" class="ltx_text" style="font-size:70%;">0.03</span></td>
<td id="A2.T9.1.3.1.6" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.6.1" class="ltx_text" style="font-size:70%;">0.03</span></td>
<td id="A2.T9.1.3.1.7" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.3.1.8" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.8.1" class="ltx_text" style="font-size:70%;">0.05</span></td>
<td id="A2.T9.1.3.1.9" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.9.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.3.1.10" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.10.1" class="ltx_text" style="font-size:70%;">0.05</span></td>
<td id="A2.T9.1.3.1.11" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.11.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.3.1.12" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.3.1.13" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.13.1" class="ltx_text" style="font-size:70%;">0.06</span></td>
<td id="A2.T9.1.3.1.14" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.14.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.3.1.15" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.15.1" class="ltx_text" style="font-size:70%;">0.06</span></td>
<td id="A2.T9.1.3.1.16" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.16.1" class="ltx_text" style="font-size:70%;">0.05</span></td>
<td id="A2.T9.1.3.1.17" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.3.1.18" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.18.1" class="ltx_text" style="font-size:70%;">0.06</span></td>
<td id="A2.T9.1.3.1.19" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.19.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.3.1.20" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.20.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.3.1.21" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.3.1.21.1" class="ltx_text" style="font-size:70%;">0.05</span></td>
</tr>
<tr id="A2.T9.1.4.2" class="ltx_tr">
<th id="A2.T9.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.1.1" class="ltx_text" style="font-size:70%;">TAG</span></th>
<td id="A2.T9.1.4.2.2" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.2.1" class="ltx_text" style="font-size:70%;">0.39</span></td>
<td id="A2.T9.1.4.2.3" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.3.1" class="ltx_text" style="font-size:70%;">0.15</span></td>
<td id="A2.T9.1.4.2.4" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.4.1" class="ltx_text" style="font-size:70%;">0.33</span></td>
<td id="A2.T9.1.4.2.5" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.5.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.43</span></td>
<td id="A2.T9.1.4.2.6" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.4.2.7" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.7.1" class="ltx_text" style="font-size:70%;">0.13</span></td>
<td id="A2.T9.1.4.2.8" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.8.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.4.2.9" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.9.1" class="ltx_text" style="font-size:70%;">0.11</span></td>
<td id="A2.T9.1.4.2.10" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.10.1" class="ltx_text" style="font-size:70%;">0.18</span></td>
<td id="A2.T9.1.4.2.11" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.4.2.12" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.12.1" class="ltx_text" style="font-size:70%;">0.10</span></td>
<td id="A2.T9.1.4.2.13" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.13.1" class="ltx_text" style="font-size:70%;">0.01</span></td>
<td id="A2.T9.1.4.2.14" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.14.1" class="ltx_text" style="font-size:70%;">0.07</span></td>
<td id="A2.T9.1.4.2.15" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.15.1" class="ltx_text" style="font-size:70%;">0.15</span></td>
<td id="A2.T9.1.4.2.16" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.4.2.17" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.17.1" class="ltx_text" style="font-size:70%;">0.11</span></td>
<td id="A2.T9.1.4.2.18" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.18.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.4.2.19" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.19.1" class="ltx_text" style="font-size:70%;">0.08</span></td>
<td id="A2.T9.1.4.2.20" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.4.2.20.1" class="ltx_text" style="font-size:70%;">0.13</span></td>
</tr>
<tr id="A2.T9.1.5.3" class="ltx_tr">
<th id="A2.T9.1.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.1.1" class="ltx_text" style="font-size:70%;">FILM</span></th>
<td id="A2.T9.1.5.3.2" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.74</span></td>
<td id="A2.T9.1.5.3.3" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.44</span></td>
<td id="A2.T9.1.5.3.4" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.4.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.54</span></td>
<td id="A2.T9.1.5.3.5" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.5.1" class="ltx_text" style="font-size:70%;">0.25</span></td>
<td id="A2.T9.1.5.3.6" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.5.3.7" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.48</span></td>
<td id="A2.T9.1.5.3.8" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.8.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.23</span></td>
<td id="A2.T9.1.5.3.9" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.9.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.37</span></td>
<td id="A2.T9.1.5.3.10" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.10.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.26</span></td>
<td id="A2.T9.1.5.3.11" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.5.3.12" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.12.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.38</span></td>
<td id="A2.T9.1.5.3.13" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.13.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.16</span></td>
<td id="A2.T9.1.5.3.14" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.14.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.27</span></td>
<td id="A2.T9.1.5.3.15" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.15.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.25</span></td>
<td id="A2.T9.1.5.3.16" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.5.3.17" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.17.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.35</span></td>
<td id="A2.T9.1.5.3.18" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.18.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.13</span></td>
<td id="A2.T9.1.5.3.19" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.19.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.26</span></td>
<td id="A2.T9.1.5.3.20" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.5.3.20.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.24</span></td>
</tr>
<tr id="A2.T9.1.6.4" class="ltx_tr">
<th id="A2.T9.1.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;" rowspan="3"><span id="A2.T9.1.6.4.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Enron Email</span></th>
<th id="A2.T9.1.6.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.2.1" class="ltx_text" style="font-size:70%;">DLG</span></th>
<td id="A2.T9.1.6.4.3" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.3.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.4" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.4.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.6.4.5" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.5.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.6" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.6.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.7" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.6.4.8" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.8.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.9" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.9.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.6.4.10" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.10.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.11" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.11.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.12" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.6.4.13" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.13.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.14" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.14.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.6.4.15" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.15.1" class="ltx_text" style="font-size:70%;">0.03</span></td>
<td id="A2.T9.1.6.4.16" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.16.1" class="ltx_text" style="font-size:70%;">0.04</span></td>
<td id="A2.T9.1.6.4.17" class="ltx_td ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.6.4.18" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.18.1" class="ltx_text" style="font-size:70%;">0.09</span></td>
<td id="A2.T9.1.6.4.19" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.19.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.6.4.20" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.20.1" class="ltx_text" style="font-size:70%;">0.06</span></td>
<td id="A2.T9.1.6.4.21" class="ltx_td ltx_align_right ltx_border_t" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.6.4.21.1" class="ltx_text" style="font-size:70%;">0.07</span></td>
</tr>
<tr id="A2.T9.1.7.5" class="ltx_tr">
<th id="A2.T9.1.7.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.1.1" class="ltx_text" style="font-size:70%;">TAG</span></th>
<td id="A2.T9.1.7.5.2" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.2.1" class="ltx_text" style="font-size:70%;">0.46</span></td>
<td id="A2.T9.1.7.5.3" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.3.1" class="ltx_text" style="font-size:70%;">0.20</span></td>
<td id="A2.T9.1.7.5.4" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.4.1" class="ltx_text" style="font-size:70%;">0.39</span></td>
<td id="A2.T9.1.7.5.5" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.5.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.45</span></td>
<td id="A2.T9.1.7.5.6" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.7.5.7" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.7.1" class="ltx_text" style="font-size:70%;">0.17</span></td>
<td id="A2.T9.1.7.5.8" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.8.1" class="ltx_text" style="font-size:70%;">0.03</span></td>
<td id="A2.T9.1.7.5.9" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.9.1" class="ltx_text" style="font-size:70%;">0.16</span></td>
<td id="A2.T9.1.7.5.10" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.10.1" class="ltx_text" style="font-size:70%;">0.27</span></td>
<td id="A2.T9.1.7.5.11" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.7.5.12" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.12.1" class="ltx_text" style="font-size:70%;">0.10</span></td>
<td id="A2.T9.1.7.5.13" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.13.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.7.5.14" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.14.1" class="ltx_text" style="font-size:70%;">0.08</span></td>
<td id="A2.T9.1.7.5.15" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.15.1" class="ltx_text" style="font-size:70%;">0.13</span></td>
<td id="A2.T9.1.7.5.16" class="ltx_td" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.7.5.17" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.17.1" class="ltx_text" style="font-size:70%;">0.09</span></td>
<td id="A2.T9.1.7.5.18" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.18.1" class="ltx_text" style="font-size:70%;">0.00</span></td>
<td id="A2.T9.1.7.5.19" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.19.1" class="ltx_text" style="font-size:70%;">0.07</span></td>
<td id="A2.T9.1.7.5.20" class="ltx_td ltx_align_right" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.7.5.20.1" class="ltx_text" style="font-size:70%;">0.15</span></td>
</tr>
<tr id="A2.T9.1.8.6" class="ltx_tr">
<th id="A2.T9.1.8.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.1.1" class="ltx_text" style="font-size:70%;">FILM</span></th>
<td id="A2.T9.1.8.6.2" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.83</span></td>
<td id="A2.T9.1.8.6.3" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.57</span></td>
<td id="A2.T9.1.8.6.4" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.4.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.70</span></td>
<td id="A2.T9.1.8.6.5" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.5.1" class="ltx_text" style="font-size:70%;">0.35</span></td>
<td id="A2.T9.1.8.6.6" class="ltx_td ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.8.6.7" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.7.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.54</span></td>
<td id="A2.T9.1.8.6.8" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.8.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.32</span></td>
<td id="A2.T9.1.8.6.9" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.9.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.44</span></td>
<td id="A2.T9.1.8.6.10" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.10.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.66</span></td>
<td id="A2.T9.1.8.6.11" class="ltx_td ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.8.6.12" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.12.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.44</span></td>
<td id="A2.T9.1.8.6.13" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.13.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.24</span></td>
<td id="A2.T9.1.8.6.14" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.14.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.33</span></td>
<td id="A2.T9.1.8.6.15" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.15.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.69</span></td>
<td id="A2.T9.1.8.6.16" class="ltx_td ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"></td>
<td id="A2.T9.1.8.6.17" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.17.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.40</span></td>
<td id="A2.T9.1.8.6.18" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.18.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.22</span></td>
<td id="A2.T9.1.8.6.19" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.19.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.33</span></td>
<td id="A2.T9.1.8.6.20" class="ltx_td ltx_align_right ltx_border_bb" style="padding-left:2.6pt;padding-right:2.6pt;"><span id="A2.T9.1.8.6.20.1" class="ltx_text ltx_font_bold" style="font-size:70%;">0.61</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 9: </span>A comparison of text reconstructions from gradients for various datasets, prior methods, and batch sizes (denoted by B). R-1, R-2, and R-L, denote average ROUGE-1, ROUGE-2 and ROUGE-L scores, respectively. All data represents average values collected from 20 samples. Our method (FILM) is able to recover more data from sentences across all batchsizes and datasets than prior methods. We additionally note the significant gap in ROUGE-2 scores between FILM and prior methods, indicating significantly better recovery of ordering of words in sentences.</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Quantitative Results for Different Batch Sizes</h3>

<div id="A2.SS4.p1" class="ltx_para">
<p id="A2.SS4.p1.1" class="ltx_p">Table <a href="#A2.T10" title="Table 10 ‣ B.4 Quantitative Results for Different Batch Sizes ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> shows all four metrics for the attack results with different batch sizes; Fig. <a href="#A2.F7" title="Figure 7 ‣ B.4 Quantitative Results for Different Batch Sizes ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the performance of the best reconstructions for each metric and batchsize.</p>
</div>
<figure id="A2.T10" class="ltx_table">
<table id="A2.T10.32" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A2.T10.32.33.1" class="ltx_tr">
<th id="A2.T10.32.33.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.33.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Batch Size</span></th>
<td id="A2.T10.32.33.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.33.1.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">ROUGE-1</span></td>
<td id="A2.T10.32.33.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.33.1.3.1" class="ltx_text ltx_font_bold" style="font-size:90%;">ROUGE-2</span></td>
<td id="A2.T10.32.33.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.33.1.4.1" class="ltx_text ltx_font_bold" style="font-size:90%;">ROUGE-L</span></td>
<td id="A2.T10.32.33.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.33.1.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">NERR</span></td>
</tr>
<tr id="A2.T10.32.34.2" class="ltx_tr">
<th id="A2.T10.32.34.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;" colspan="5"><span id="A2.T10.32.34.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">WikiText-103</span></th>
</tr>
<tr id="A2.T10.4.4" class="ltx_tr">
<th id="A2.T10.4.4.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.4.4.5.1" class="ltx_text" style="font-size:90%;">1</span></th>
<td id="A2.T10.1.1.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.1.1.1.1" class="ltx_text" style="font-size:90%;">0.74 </span><math id="A2.T10.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.1.1.1.m1.1a"><mo mathsize="90%" id="A2.T10.1.1.1.m1.1.1" xref="A2.T10.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.1.1.1.m1.1b"><csymbol cd="latexml" id="A2.T10.1.1.1.m1.1.1.cmml" xref="A2.T10.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.1.1.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.1.1.1.2" class="ltx_text" style="font-size:90%;"> 0.12 (1.00)</span>
</td>
<td id="A2.T10.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.2.2.2.1" class="ltx_text" style="font-size:90%;">0.44 </span><math id="A2.T10.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.2.2.2.m1.1a"><mo mathsize="90%" id="A2.T10.2.2.2.m1.1.1" xref="A2.T10.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.2.2.2.m1.1b"><csymbol cd="latexml" id="A2.T10.2.2.2.m1.1.1.cmml" xref="A2.T10.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.2.2.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.2.2.2.2" class="ltx_text" style="font-size:90%;"> 0.19 (1.00)</span>
</td>
<td id="A2.T10.3.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.3.3.3.1" class="ltx_text" style="font-size:90%;">0.54 </span><math id="A2.T10.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.3.3.3.m1.1a"><mo mathsize="90%" id="A2.T10.3.3.3.m1.1.1" xref="A2.T10.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.3.3.3.m1.1b"><csymbol cd="latexml" id="A2.T10.3.3.3.m1.1.1.cmml" xref="A2.T10.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.3.3.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.3.3.3.2" class="ltx_text" style="font-size:90%;"> 0.14 (1.00)</span>
</td>
<td id="A2.T10.4.4.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.4.4.4.1" class="ltx_text" style="font-size:90%;">0.28 </span><math id="A2.T10.4.4.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.4.4.4.m1.1a"><mo mathsize="90%" id="A2.T10.4.4.4.m1.1.1" xref="A2.T10.4.4.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.4.4.4.m1.1b"><csymbol cd="latexml" id="A2.T10.4.4.4.m1.1.1.cmml" xref="A2.T10.4.4.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.4.4.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.4.4.4.2" class="ltx_text" style="font-size:90%;"> 0.35 (1.00)</span>
</td>
</tr>
<tr id="A2.T10.8.8" class="ltx_tr">
<th id="A2.T10.8.8.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.8.8.5.1" class="ltx_text" style="font-size:90%;">16</span></th>
<td id="A2.T10.5.5.1" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.5.5.1.1" class="ltx_text" style="font-size:90%;">0.38 </span><math id="A2.T10.5.5.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.5.5.1.m1.1a"><mo mathsize="90%" id="A2.T10.5.5.1.m1.1.1" xref="A2.T10.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.5.5.1.m1.1b"><csymbol cd="latexml" id="A2.T10.5.5.1.m1.1.1.cmml" xref="A2.T10.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.5.5.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.5.5.1.2" class="ltx_text" style="font-size:90%;"> 0.08 (0.61)</span>
</td>
<td id="A2.T10.6.6.2" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.6.6.2.1" class="ltx_text" style="font-size:90%;">0.16 </span><math id="A2.T10.6.6.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.6.6.2.m1.1a"><mo mathsize="90%" id="A2.T10.6.6.2.m1.1.1" xref="A2.T10.6.6.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.6.6.2.m1.1b"><csymbol cd="latexml" id="A2.T10.6.6.2.m1.1.1.cmml" xref="A2.T10.6.6.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.6.6.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.6.6.2.2" class="ltx_text" style="font-size:90%;"> 0.10 (0.44)</span>
</td>
<td id="A2.T10.7.7.3" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.7.7.3.1" class="ltx_text" style="font-size:90%;">0.27 </span><math id="A2.T10.7.7.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.7.7.3.m1.1a"><mo mathsize="90%" id="A2.T10.7.7.3.m1.1.1" xref="A2.T10.7.7.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.7.7.3.m1.1b"><csymbol cd="latexml" id="A2.T10.7.7.3.m1.1.1.cmml" xref="A2.T10.7.7.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.7.7.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.7.7.3.2" class="ltx_text" style="font-size:90%;"> 0.08 (0.47)</span>
</td>
<td id="A2.T10.8.8.4" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.8.8.4.1" class="ltx_text" style="font-size:90%;">0.26 </span><math id="A2.T10.8.8.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.8.8.4.m1.1a"><mo mathsize="90%" id="A2.T10.8.8.4.m1.1.1" xref="A2.T10.8.8.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.8.8.4.m1.1b"><csymbol cd="latexml" id="A2.T10.8.8.4.m1.1.1.cmml" xref="A2.T10.8.8.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.8.8.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.8.8.4.2" class="ltx_text" style="font-size:90%;"> 0.25 (1.00)</span>
</td>
</tr>
<tr id="A2.T10.12.12" class="ltx_tr">
<th id="A2.T10.12.12.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.12.12.5.1" class="ltx_text" style="font-size:90%;">64</span></th>
<td id="A2.T10.9.9.1" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.9.9.1.1" class="ltx_text" style="font-size:90%;">0.34 </span><math id="A2.T10.9.9.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.9.9.1.m1.1a"><mo mathsize="90%" id="A2.T10.9.9.1.m1.1.1" xref="A2.T10.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.9.9.1.m1.1b"><csymbol cd="latexml" id="A2.T10.9.9.1.m1.1.1.cmml" xref="A2.T10.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.9.9.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.9.9.1.2" class="ltx_text" style="font-size:90%;"> 0.06 (0.52)</span>
</td>
<td id="A2.T10.10.10.2" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.10.10.2.1" class="ltx_text" style="font-size:90%;">0.14 </span><math id="A2.T10.10.10.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.10.10.2.m1.1a"><mo mathsize="90%" id="A2.T10.10.10.2.m1.1.1" xref="A2.T10.10.10.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.10.10.2.m1.1b"><csymbol cd="latexml" id="A2.T10.10.10.2.m1.1.1.cmml" xref="A2.T10.10.10.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.10.10.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.10.10.2.2" class="ltx_text" style="font-size:90%;"> 0.06 (0.30)</span>
</td>
<td id="A2.T10.11.11.3" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.11.11.3.1" class="ltx_text" style="font-size:90%;">0.26 </span><math id="A2.T10.11.11.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.11.11.3.m1.1a"><mo mathsize="90%" id="A2.T10.11.11.3.m1.1.1" xref="A2.T10.11.11.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.11.11.3.m1.1b"><csymbol cd="latexml" id="A2.T10.11.11.3.m1.1.1.cmml" xref="A2.T10.11.11.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.11.11.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.11.11.3.2" class="ltx_text" style="font-size:90%;"> 0.05 (0.40)</span>
</td>
<td id="A2.T10.12.12.4" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.12.12.4.1" class="ltx_text" style="font-size:90%;">0.36 </span><math id="A2.T10.12.12.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.12.12.4.m1.1a"><mo mathsize="90%" id="A2.T10.12.12.4.m1.1.1" xref="A2.T10.12.12.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.12.12.4.m1.1b"><csymbol cd="latexml" id="A2.T10.12.12.4.m1.1.1.cmml" xref="A2.T10.12.12.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.12.12.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.12.12.4.2" class="ltx_text" style="font-size:90%;"> 0.19 (0.67)</span>
</td>
</tr>
<tr id="A2.T10.16.16" class="ltx_tr">
<th id="A2.T10.16.16.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.16.16.5.1" class="ltx_text" style="font-size:90%;">128</span></th>
<td id="A2.T10.13.13.1" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.13.13.1.1" class="ltx_text" style="font-size:90%;">0.37 </span><math id="A2.T10.13.13.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.13.13.1.m1.1a"><mo mathsize="90%" id="A2.T10.13.13.1.m1.1.1" xref="A2.T10.13.13.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.13.13.1.m1.1b"><csymbol cd="latexml" id="A2.T10.13.13.1.m1.1.1.cmml" xref="A2.T10.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.13.13.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.13.13.1.2" class="ltx_text" style="font-size:90%;"> 0.04 (0.50)</span>
</td>
<td id="A2.T10.14.14.2" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.14.14.2.1" class="ltx_text" style="font-size:90%;">0.14 </span><math id="A2.T10.14.14.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.14.14.2.m1.1a"><mo mathsize="90%" id="A2.T10.14.14.2.m1.1.1" xref="A2.T10.14.14.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.14.14.2.m1.1b"><csymbol cd="latexml" id="A2.T10.14.14.2.m1.1.1.cmml" xref="A2.T10.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.14.14.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.14.14.2.2" class="ltx_text" style="font-size:90%;"> 0.05 (0.24)</span>
</td>
<td id="A2.T10.15.15.3" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.15.15.3.1" class="ltx_text" style="font-size:90%;">0.29 </span><math id="A2.T10.15.15.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.15.15.3.m1.1a"><mo mathsize="90%" id="A2.T10.15.15.3.m1.1.1" xref="A2.T10.15.15.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.15.15.3.m1.1b"><csymbol cd="latexml" id="A2.T10.15.15.3.m1.1.1.cmml" xref="A2.T10.15.15.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.15.15.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.15.15.3.2" class="ltx_text" style="font-size:90%;"> 0.06 (0.50)</span>
</td>
<td id="A2.T10.16.16.4" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.16.16.4.1" class="ltx_text" style="font-size:90%;">0.28 </span><math id="A2.T10.16.16.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.16.16.4.m1.1a"><mo mathsize="90%" id="A2.T10.16.16.4.m1.1.1" xref="A2.T10.16.16.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.16.16.4.m1.1b"><csymbol cd="latexml" id="A2.T10.16.16.4.m1.1.1.cmml" xref="A2.T10.16.16.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.16.16.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.16.16.4.2" class="ltx_text" style="font-size:90%;"> 0.19 (0.50)</span>
</td>
</tr>
<tr id="A2.T10.32.35.3" class="ltx_tr">
<th id="A2.T10.32.35.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;" colspan="5"><span id="A2.T10.32.35.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Enron Email</span></th>
</tr>
<tr id="A2.T10.20.20" class="ltx_tr">
<th id="A2.T10.20.20.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.20.20.5.1" class="ltx_text" style="font-size:90%;">1</span></th>
<td id="A2.T10.17.17.1" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.17.17.1.1" class="ltx_text" style="font-size:90%;">0.73 </span><math id="A2.T10.17.17.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.17.17.1.m1.1a"><mo mathsize="90%" id="A2.T10.17.17.1.m1.1.1" xref="A2.T10.17.17.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.17.17.1.m1.1b"><csymbol cd="latexml" id="A2.T10.17.17.1.m1.1.1.cmml" xref="A2.T10.17.17.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.17.17.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.17.17.1.2" class="ltx_text" style="font-size:90%;"> 0.21 (1.00)</span>
</td>
<td id="A2.T10.18.18.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.18.18.2.1" class="ltx_text" style="font-size:90%;">0.45 </span><math id="A2.T10.18.18.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.18.18.2.m1.1a"><mo mathsize="90%" id="A2.T10.18.18.2.m1.1.1" xref="A2.T10.18.18.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.18.18.2.m1.1b"><csymbol cd="latexml" id="A2.T10.18.18.2.m1.1.1.cmml" xref="A2.T10.18.18.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.18.18.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.18.18.2.2" class="ltx_text" style="font-size:90%;"> 0.29 (1.00)</span>
</td>
<td id="A2.T10.19.19.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.19.19.3.1" class="ltx_text" style="font-size:90%;">0.61 </span><math id="A2.T10.19.19.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.19.19.3.m1.1a"><mo mathsize="90%" id="A2.T10.19.19.3.m1.1.1" xref="A2.T10.19.19.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.19.19.3.m1.1b"><csymbol cd="latexml" id="A2.T10.19.19.3.m1.1.1.cmml" xref="A2.T10.19.19.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.19.19.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.19.19.3.2" class="ltx_text" style="font-size:90%;"> 0.24 (1.00)</span>
</td>
<td id="A2.T10.20.20.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.20.20.4.1" class="ltx_text" style="font-size:90%;">0.34 </span><math id="A2.T10.20.20.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.20.20.4.m1.1a"><mo mathsize="90%" id="A2.T10.20.20.4.m1.1.1" xref="A2.T10.20.20.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.20.20.4.m1.1b"><csymbol cd="latexml" id="A2.T10.20.20.4.m1.1.1.cmml" xref="A2.T10.20.20.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.20.20.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.20.20.4.2" class="ltx_text" style="font-size:90%;"> 0.45 (1.00)</span>
</td>
</tr>
<tr id="A2.T10.24.24" class="ltx_tr">
<th id="A2.T10.24.24.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.24.24.5.1" class="ltx_text" style="font-size:90%;">16</span></th>
<td id="A2.T10.21.21.1" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.21.21.1.1" class="ltx_text" style="font-size:90%;">0.41 </span><math id="A2.T10.21.21.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.21.21.1.m1.1a"><mo mathsize="90%" id="A2.T10.21.21.1.m1.1.1" xref="A2.T10.21.21.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.21.21.1.m1.1b"><csymbol cd="latexml" id="A2.T10.21.21.1.m1.1.1.cmml" xref="A2.T10.21.21.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.21.21.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.21.21.1.2" class="ltx_text" style="font-size:90%;"> 0.09 (0.81)</span>
</td>
<td id="A2.T10.22.22.2" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.22.22.2.1" class="ltx_text" style="font-size:90%;">0.20 </span><math id="A2.T10.22.22.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.22.22.2.m1.1a"><mo mathsize="90%" id="A2.T10.22.22.2.m1.1.1" xref="A2.T10.22.22.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.22.22.2.m1.1b"><csymbol cd="latexml" id="A2.T10.22.22.2.m1.1.1.cmml" xref="A2.T10.22.22.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.22.22.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.22.22.2.2" class="ltx_text" style="font-size:90%;"> 0.12 (0.74)</span>
</td>
<td id="A2.T10.23.23.3" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.23.23.3.1" class="ltx_text" style="font-size:90%;">0.31 </span><math id="A2.T10.23.23.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.23.23.3.m1.1a"><mo mathsize="90%" id="A2.T10.23.23.3.m1.1.1" xref="A2.T10.23.23.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.23.23.3.m1.1b"><csymbol cd="latexml" id="A2.T10.23.23.3.m1.1.1.cmml" xref="A2.T10.23.23.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.23.23.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.23.23.3.2" class="ltx_text" style="font-size:90%;"> 0.10 (0.81)</span>
</td>
<td id="A2.T10.24.24.4" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.24.24.4.1" class="ltx_text" style="font-size:90%;">0.40 </span><math id="A2.T10.24.24.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.24.24.4.m1.1a"><mo mathsize="90%" id="A2.T10.24.24.4.m1.1.1" xref="A2.T10.24.24.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.24.24.4.m1.1b"><csymbol cd="latexml" id="A2.T10.24.24.4.m1.1.1.cmml" xref="A2.T10.24.24.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.24.24.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.24.24.4.2" class="ltx_text" style="font-size:90%;"> 0.31 (1.00)</span>
</td>
</tr>
<tr id="A2.T10.28.28" class="ltx_tr">
<th id="A2.T10.28.28.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.28.28.5.1" class="ltx_text" style="font-size:90%;">64</span></th>
<td id="A2.T10.25.25.1" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.25.25.1.1" class="ltx_text" style="font-size:90%;">0.37 </span><math id="A2.T10.25.25.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.25.25.1.m1.1a"><mo mathsize="90%" id="A2.T10.25.25.1.m1.1.1" xref="A2.T10.25.25.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.25.25.1.m1.1b"><csymbol cd="latexml" id="A2.T10.25.25.1.m1.1.1.cmml" xref="A2.T10.25.25.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.25.25.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.25.25.1.2" class="ltx_text" style="font-size:90%;"> 0.08 (0.74)</span>
</td>
<td id="A2.T10.26.26.2" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.26.26.2.1" class="ltx_text" style="font-size:90%;">0.18 </span><math id="A2.T10.26.26.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.26.26.2.m1.1a"><mo mathsize="90%" id="A2.T10.26.26.2.m1.1.1" xref="A2.T10.26.26.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.26.26.2.m1.1b"><csymbol cd="latexml" id="A2.T10.26.26.2.m1.1.1.cmml" xref="A2.T10.26.26.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.26.26.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.26.26.2.2" class="ltx_text" style="font-size:90%;"> 0.10 (0.70)</span>
</td>
<td id="A2.T10.27.27.3" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.27.27.3.1" class="ltx_text" style="font-size:90%;">0.29 </span><math id="A2.T10.27.27.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.27.27.3.m1.1a"><mo mathsize="90%" id="A2.T10.27.27.3.m1.1.1" xref="A2.T10.27.27.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.27.27.3.m1.1b"><csymbol cd="latexml" id="A2.T10.27.27.3.m1.1.1.cmml" xref="A2.T10.27.27.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.27.27.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.27.27.3.2" class="ltx_text" style="font-size:90%;"> 0.10 (0.74)</span>
</td>
<td id="A2.T10.28.28.4" class="ltx_td ltx_align_center" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.28.28.4.1" class="ltx_text" style="font-size:90%;">0.35 </span><math id="A2.T10.28.28.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.28.28.4.m1.1a"><mo mathsize="90%" id="A2.T10.28.28.4.m1.1.1" xref="A2.T10.28.28.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.28.28.4.m1.1b"><csymbol cd="latexml" id="A2.T10.28.28.4.m1.1.1.cmml" xref="A2.T10.28.28.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.28.28.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.28.28.4.2" class="ltx_text" style="font-size:90%;"> 0.26 (1.00)</span>
</td>
</tr>
<tr id="A2.T10.32.32" class="ltx_tr">
<th id="A2.T10.32.32.5" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-left:8.0pt;padding-right:8.0pt;"><span id="A2.T10.32.32.5.1" class="ltx_text" style="font-size:90%;">128</span></th>
<td id="A2.T10.29.29.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.29.29.1.1" class="ltx_text" style="font-size:90%;">0.37 </span><math id="A2.T10.29.29.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.29.29.1.m1.1a"><mo mathsize="90%" id="A2.T10.29.29.1.m1.1.1" xref="A2.T10.29.29.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.29.29.1.m1.1b"><csymbol cd="latexml" id="A2.T10.29.29.1.m1.1.1.cmml" xref="A2.T10.29.29.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.29.29.1.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.29.29.1.2" class="ltx_text" style="font-size:90%;"> 0.07 (0.72)</span>
</td>
<td id="A2.T10.30.30.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.30.30.2.1" class="ltx_text" style="font-size:90%;">0.19 </span><math id="A2.T10.30.30.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.30.30.2.m1.1a"><mo mathsize="90%" id="A2.T10.30.30.2.m1.1.1" xref="A2.T10.30.30.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.30.30.2.m1.1b"><csymbol cd="latexml" id="A2.T10.30.30.2.m1.1.1.cmml" xref="A2.T10.30.30.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.30.30.2.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.30.30.2.2" class="ltx_text" style="font-size:90%;"> 0.10 (0.68)</span>
</td>
<td id="A2.T10.31.31.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.31.31.3.1" class="ltx_text" style="font-size:90%;">0.29 </span><math id="A2.T10.31.31.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.31.31.3.m1.1a"><mo mathsize="90%" id="A2.T10.31.31.3.m1.1.1" xref="A2.T10.31.31.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.31.31.3.m1.1b"><csymbol cd="latexml" id="A2.T10.31.31.3.m1.1.1.cmml" xref="A2.T10.31.31.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.31.31.3.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.31.31.3.2" class="ltx_text" style="font-size:90%;"> 0.09 (0.72)</span>
</td>
<td id="A2.T10.32.32.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:8.0pt;padding-right:8.0pt;">
<span id="A2.T10.32.32.4.1" class="ltx_text" style="font-size:90%;">0.38 </span><math id="A2.T10.32.32.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A2.T10.32.32.4.m1.1a"><mo mathsize="90%" id="A2.T10.32.32.4.m1.1.1" xref="A2.T10.32.32.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A2.T10.32.32.4.m1.1b"><csymbol cd="latexml" id="A2.T10.32.32.4.m1.1.1.cmml" xref="A2.T10.32.32.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A2.T10.32.32.4.m1.1c">\pm</annotation></semantics></math><span id="A2.T10.32.32.4.2" class="ltx_text" style="font-size:90%;"> 0.31 (1.00)</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 10: </span>Reconstruction performance for various batch sizes on WikiText-103 and the Enron Email dataset. The table reports the average metric values of reconstructions out of 20 tested mini-batches with the standard deviation; the best results are shown in parenthesis. </figcaption>
</figure>
<figure id="A2.F7" class="ltx_figure"><img src="/html/2205.08514/assets/x7.png" id="A2.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="146" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Recovery performance of the best sentences for various batch sizes on WikiText-103 (a) and the Enron Email dataset (b). Solid lines indicate the average F-Scores of recoveries out of 20 tested mini-batches.
</figcaption>
</figure>
</section>
<section id="A2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.5 </span>More Results For Attacking the Pre-trained Model</h3>

<div id="A2.SS5.p1" class="ltx_para">
<p id="A2.SS5.p1.1" class="ltx_p">Table <a href="#A2.T11" title="Table 11 ‣ B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> presents attack results at different training iterations of a pretrained model. Similar to our finidngs in Sec. <a href="#S6" title="6 Experiments ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, FILM recovers better sentences when <math id="A2.SS5.p1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.SS5.p1.1.m1.1a"><mi id="A2.SS5.p1.1.m1.1.1" xref="A2.SS5.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.SS5.p1.1.m1.1b"><ci id="A2.SS5.p1.1.m1.1.1.cmml" xref="A2.SS5.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS5.p1.1.m1.1c">t</annotation></semantics></math> increases.</p>
</div>
<div id="A2.SS5.p2" class="ltx_para">
<p id="A2.SS5.p2.1" class="ltx_p">Table <a href="#A2.T12" title="Table 12 ‣ B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> provides more examples for running our attack on a pre-trained language model (i.e. without any training with private data) with different batch sizes. The attack is relatively weak in this scenario, showing that leveraging the memorization in the model give a much more powerful attack than only using the language prior encoded in the pre-trained model.</p>
</div>
<figure id="A2.T11" class="ltx_table">
<table id="A2.T11.5" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T11.5.6.1" class="ltx_tr">
<th id="A2.T11.5.6.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" colspan="2">
<span id="A2.T11.5.6.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.5.6.1.1.1.1" class="ltx_p" style="width:369.9pt;"><span id="A2.T11.5.6.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original</span><span id="A2.T11.5.6.1.1.1.1.2" class="ltx_text" style="font-size:70%;">: </span><span id="A2.T11.5.6.1.1.1.1.3" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The short@-@tail stingray forages for food both at night and during the day.</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T11.1.1" class="ltx_tr">
<td id="A2.T11.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T11.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.1.1.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T11.1.1.1.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T11.1.1.1.1.1.m1.1a"><mi mathsize="70%" id="A2.T11.1.1.1.1.1.m1.1.1" xref="A2.T11.1.1.1.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T11.1.1.1.1.1.m1.1b"><ci id="A2.T11.1.1.1.1.1.m1.1.1.cmml" xref="A2.T11.1.1.1.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.1.1.1.1.1.m1.1c">t</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T11.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T11.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.1.1.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T11.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">The recovered sentence</span></span>
</span>
</td>
</tr>
<tr id="A2.T11.2.2" class="ltx_tr">
<td id="A2.T11.2.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T11.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.2.2.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T11.2.2.1.1.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A2.T11.2.2.1.1.1.m1.1a"><mn mathsize="70%" id="A2.T11.2.2.1.1.1.m1.1.1" xref="A2.T11.2.2.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A2.T11.2.2.1.1.1.m1.1b"><cn type="integer" id="A2.T11.2.2.1.1.1.m1.1.1.cmml" xref="A2.T11.2.2.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></span>
</span>
</td>
<td id="A2.T11.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T11.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.2.2.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T11.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">The</span><span id="A2.T11.2.2.2.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;">, short for short-<span id="A2.T11.2.2.2.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">tail stingray</span> <span id="A2.T11.2.2.2.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">at night</span> <span id="A2.T11.2.2.2.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">during</span> night <span id="A2.T11.2.2.2.1.1.2.4" class="ltx_text" style="background-color:#B6D7A8;">day</span> during day at day night at</span></span>
</span>
</td>
</tr>
<tr id="A2.T11.3.3" class="ltx_tr">
<td id="A2.T11.3.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T11.3.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.3.3.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T11.3.3.1.1.1.m1.2" class="ltx_Math" alttext="10,000" display="inline"><semantics id="A2.T11.3.3.1.1.1.m1.2a"><mrow id="A2.T11.3.3.1.1.1.m1.2.3.2" xref="A2.T11.3.3.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T11.3.3.1.1.1.m1.1.1" xref="A2.T11.3.3.1.1.1.m1.1.1.cmml">10</mn><mo mathsize="70%" id="A2.T11.3.3.1.1.1.m1.2.3.2.1" xref="A2.T11.3.3.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T11.3.3.1.1.1.m1.2.2" xref="A2.T11.3.3.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.3.3.1.1.1.m1.2b"><list id="A2.T11.3.3.1.1.1.m1.2.3.1.cmml" xref="A2.T11.3.3.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T11.3.3.1.1.1.m1.1.1.cmml" xref="A2.T11.3.3.1.1.1.m1.1.1">10</cn><cn type="integer" id="A2.T11.3.3.1.1.1.m1.2.2.cmml" xref="A2.T11.3.3.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.3.3.1.1.1.m1.2c">10,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T11.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T11.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.3.3.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T11.3.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">The</span><span id="A2.T11.3.3.2.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;"> <span id="A2.T11.3.3.2.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">stingray forages for food</span> <span id="A2.T11.3.3.2.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">at night</span> <span id="A2.T11.3.3.2.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">both</span> at both <span id="A2.T11.3.3.2.1.1.2.4" class="ltx_text" style="background-color:#B6D7A8;">during</span> food food shortages at short food</span></span>
</span>
</td>
</tr>
<tr id="A2.T11.4.4" class="ltx_tr">
<td id="A2.T11.4.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T11.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.4.4.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T11.4.4.1.1.1.m1.2" class="ltx_Math" alttext="20,000" display="inline"><semantics id="A2.T11.4.4.1.1.1.m1.2a"><mrow id="A2.T11.4.4.1.1.1.m1.2.3.2" xref="A2.T11.4.4.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T11.4.4.1.1.1.m1.1.1" xref="A2.T11.4.4.1.1.1.m1.1.1.cmml">20</mn><mo mathsize="70%" id="A2.T11.4.4.1.1.1.m1.2.3.2.1" xref="A2.T11.4.4.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T11.4.4.1.1.1.m1.2.2" xref="A2.T11.4.4.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.4.4.1.1.1.m1.2b"><list id="A2.T11.4.4.1.1.1.m1.2.3.1.cmml" xref="A2.T11.4.4.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T11.4.4.1.1.1.m1.1.1.cmml" xref="A2.T11.4.4.1.1.1.m1.1.1">20</cn><cn type="integer" id="A2.T11.4.4.1.1.1.m1.2.2.cmml" xref="A2.T11.4.4.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.4.4.1.1.1.m1.2c">20,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T11.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T11.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.4.4.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T11.4.4.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">The short@-@tail stingray forages for food</span><span id="A2.T11.4.4.2.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;"> <span id="A2.T11.4.4.2.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">during the day</span> <span id="A2.T11.4.4.2.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">and</span> for the <span id="A2.T11.4.4.2.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">night.</span></span></span>
</span>
</td>
</tr>
<tr id="A2.T11.5.5" class="ltx_tr">
<td id="A2.T11.5.5.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r ltx_border_t">
<span id="A2.T11.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.5.5.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T11.5.5.1.1.1.m1.2" class="ltx_Math" alttext="40,000" display="inline"><semantics id="A2.T11.5.5.1.1.1.m1.2a"><mrow id="A2.T11.5.5.1.1.1.m1.2.3.2" xref="A2.T11.5.5.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T11.5.5.1.1.1.m1.1.1" xref="A2.T11.5.5.1.1.1.m1.1.1.cmml">40</mn><mo mathsize="70%" id="A2.T11.5.5.1.1.1.m1.2.3.2.1" xref="A2.T11.5.5.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T11.5.5.1.1.1.m1.2.2" xref="A2.T11.5.5.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.5.5.1.1.1.m1.2b"><list id="A2.T11.5.5.1.1.1.m1.2.3.1.cmml" xref="A2.T11.5.5.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T11.5.5.1.1.1.m1.1.1.cmml" xref="A2.T11.5.5.1.1.1.m1.1.1">40</cn><cn type="integer" id="A2.T11.5.5.1.1.1.m1.2.2.cmml" xref="A2.T11.5.5.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.5.5.1.1.1.m1.2c">40,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T11.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="A2.T11.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T11.5.5.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T11.5.5.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">The short@-@tail stingray forages for food both at night and during the day.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 11: </span>An illustration of the recovered sentence with different training iterations <math id="A2.T11.9.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T11.9.m1.1b"><mi id="A2.T11.9.m1.1.1" xref="A2.T11.9.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T11.9.m1.1c"><ci id="A2.T11.9.m1.1.1.cmml" xref="A2.T11.9.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.9.m1.1d">t</annotation></semantics></math> (batch size <math id="A2.T11.10.m2.1" class="ltx_Math" alttext="=1" display="inline"><semantics id="A2.T11.10.m2.1b"><mrow id="A2.T11.10.m2.1.1" xref="A2.T11.10.m2.1.1.cmml"><mi id="A2.T11.10.m2.1.1.2" xref="A2.T11.10.m2.1.1.2.cmml"></mi><mo id="A2.T11.10.m2.1.1.1" xref="A2.T11.10.m2.1.1.1.cmml">=</mo><mn id="A2.T11.10.m2.1.1.3" xref="A2.T11.10.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T11.10.m2.1c"><apply id="A2.T11.10.m2.1.1.cmml" xref="A2.T11.10.m2.1.1"><eq id="A2.T11.10.m2.1.1.1.cmml" xref="A2.T11.10.m2.1.1.1"></eq><csymbol cd="latexml" id="A2.T11.10.m2.1.1.2.cmml" xref="A2.T11.10.m2.1.1.2">absent</csymbol><cn type="integer" id="A2.T11.10.m2.1.1.3.cmml" xref="A2.T11.10.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.10.m2.1d">=1</annotation></semantics></math>) with a pretrained model.
Text in <span id="A2.T11.19.1" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents the phrases and words that are recovered successfully. Our attack recovers better sentences when <math id="A2.T11.11.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T11.11.m3.1b"><mi id="A2.T11.11.m3.1.1" xref="A2.T11.11.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T11.11.m3.1c"><ci id="A2.T11.11.m3.1.1.cmml" xref="A2.T11.11.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.11.m3.1d">t</annotation></semantics></math> increases.
</figcaption>
</figure>
<figure id="A2.T12" class="ltx_table">
<table id="A2.T12.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T12.1.1" class="ltx_tr">
<th id="A2.T12.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="A2.T12.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Batch Size <math id="A2.T12.1.1.1.1.m1.1" class="ltx_Math" alttext="b" display="inline"><semantics id="A2.T12.1.1.1.1.m1.1a"><mi id="A2.T12.1.1.1.1.m1.1.1" xref="A2.T12.1.1.1.1.m1.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="A2.T12.1.1.1.1.m1.1b"><ci id="A2.T12.1.1.1.1.m1.1.1.cmml" xref="A2.T12.1.1.1.1.m1.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.1.1.1.1.m1.1c">b</annotation></semantics></math></span></th>
<th id="A2.T12.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.1.1.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original sentence</span></span>
</span>
</th>
<th id="A2.T12.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.1.1.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.1.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Best Reconstructed sentence</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T12.2.2" class="ltx_tr">
<th id="A2.T12.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T12.2.2.1.m1.1" class="ltx_Math" alttext="b=1" display="inline"><semantics id="A2.T12.2.2.1.m1.1a"><mrow id="A2.T12.2.2.1.m1.1.1" xref="A2.T12.2.2.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T12.2.2.1.m1.1.1.2" xref="A2.T12.2.2.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T12.2.2.1.m1.1.1.1" xref="A2.T12.2.2.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T12.2.2.1.m1.1.1.3" xref="A2.T12.2.2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T12.2.2.1.m1.1b"><apply id="A2.T12.2.2.1.m1.1.1.cmml" xref="A2.T12.2.2.1.m1.1.1"><eq id="A2.T12.2.2.1.m1.1.1.1.cmml" xref="A2.T12.2.2.1.m1.1.1.1"></eq><ci id="A2.T12.2.2.1.m1.1.1.2.cmml" xref="A2.T12.2.2.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T12.2.2.1.m1.1.1.3.cmml" xref="A2.T12.2.2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.2.2.1.m1.1c">b=1</annotation></semantics></math></th>
<td id="A2.T12.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.2.2.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Though Chance only batted.154 in the 1907 World Series, the Cubs defeated the Tigers in four games.</span></span>
</span>
</td>
<td id="A2.T12.2.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.2.2.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Though <span id="A2.T12.2.2.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">in the</span> <span id="A2.T12.2.2.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">World Series</span>,<span id="A2.T12.2.2.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;"> the Cubs defeated the Tigers in four games.</span></span></span>
</span>
</td>
</tr>
<tr id="A2.T12.3.3" class="ltx_tr">
<th id="A2.T12.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T12.3.3.1.m1.1" class="ltx_Math" alttext="b=2" display="inline"><semantics id="A2.T12.3.3.1.m1.1a"><mrow id="A2.T12.3.3.1.m1.1.1" xref="A2.T12.3.3.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T12.3.3.1.m1.1.1.2" xref="A2.T12.3.3.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T12.3.3.1.m1.1.1.1" xref="A2.T12.3.3.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T12.3.3.1.m1.1.1.3" xref="A2.T12.3.3.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T12.3.3.1.m1.1b"><apply id="A2.T12.3.3.1.m1.1.1.cmml" xref="A2.T12.3.3.1.m1.1.1"><eq id="A2.T12.3.3.1.m1.1.1.1.cmml" xref="A2.T12.3.3.1.m1.1.1.1"></eq><ci id="A2.T12.3.3.1.m1.1.1.2.cmml" xref="A2.T12.3.3.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T12.3.3.1.m1.1.1.3.cmml" xref="A2.T12.3.3.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.3.3.1.m1.1c">b=2</annotation></semantics></math></th>
<td id="A2.T12.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.3.3.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.3.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">I thought if I did the animation well, it would be worth it, but you know what?</span></span>
</span>
</td>
<td id="A2.T12.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.3.3.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.3.3.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">I, <span id="A2.T12.3.3.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">you know</span>, I know what <span id="A2.T12.3.3.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">I did</span>, but <span id="A2.T12.3.3.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">I thought</span>, well, what would it be if you did it?</span></span>
</span>
</td>
</tr>
<tr id="A2.T12.4.4" class="ltx_tr">
<th id="A2.T12.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T12.4.4.1.m1.1" class="ltx_Math" alttext="b=4" display="inline"><semantics id="A2.T12.4.4.1.m1.1a"><mrow id="A2.T12.4.4.1.m1.1.1" xref="A2.T12.4.4.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T12.4.4.1.m1.1.1.2" xref="A2.T12.4.4.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T12.4.4.1.m1.1.1.1" xref="A2.T12.4.4.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T12.4.4.1.m1.1.1.3" xref="A2.T12.4.4.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T12.4.4.1.m1.1b"><apply id="A2.T12.4.4.1.m1.1.1.cmml" xref="A2.T12.4.4.1.m1.1.1"><eq id="A2.T12.4.4.1.m1.1.1.1.cmml" xref="A2.T12.4.4.1.m1.1.1.1"></eq><ci id="A2.T12.4.4.1.m1.1.1.2.cmml" xref="A2.T12.4.4.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T12.4.4.1.m1.1.1.3.cmml" xref="A2.T12.4.4.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.4.4.1.m1.1c">b=4</annotation></semantics></math></th>
<td id="A2.T12.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.4.4.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.4.4.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">In 1988 it was made into a feature film Katinka, directed by Max von Sydow, starring Tammi Øst as Katinka.</span></span>
</span>
</td>
<td id="A2.T12.4.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.4.4.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.4.4.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Since <span id="A2.T12.4.4.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">it was made into a</span> film starring <span id="A2.T12.4.4.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">Max von Sydow</span> as Tammi von T.</span></span>
</span>
</td>
</tr>
<tr id="A2.T12.5.5" class="ltx_tr">
<th id="A2.T12.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T12.5.5.1.m1.1" class="ltx_Math" alttext="b=8" display="inline"><semantics id="A2.T12.5.5.1.m1.1a"><mrow id="A2.T12.5.5.1.m1.1.1" xref="A2.T12.5.5.1.m1.1.1.cmml"><mi mathsize="70%" id="A2.T12.5.5.1.m1.1.1.2" xref="A2.T12.5.5.1.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="A2.T12.5.5.1.m1.1.1.1" xref="A2.T12.5.5.1.m1.1.1.1.cmml">=</mo><mn mathsize="70%" id="A2.T12.5.5.1.m1.1.1.3" xref="A2.T12.5.5.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T12.5.5.1.m1.1b"><apply id="A2.T12.5.5.1.m1.1.1.cmml" xref="A2.T12.5.5.1.m1.1.1"><eq id="A2.T12.5.5.1.m1.1.1.1.cmml" xref="A2.T12.5.5.1.m1.1.1.1"></eq><ci id="A2.T12.5.5.1.m1.1.1.2.cmml" xref="A2.T12.5.5.1.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T12.5.5.1.m1.1.1.3.cmml" xref="A2.T12.5.5.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.5.5.1.m1.1c">b=8</annotation></semantics></math></th>
<td id="A2.T12.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.5.5.2.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.5.5.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">I thought if I did the animation well, it would be worth it, but you know what?</span></span>
</span>
</td>
<td id="A2.T12.5.5.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T12.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T12.5.5.3.1.1" class="ltx_p" style="width:165.0pt;"><span id="A2.T12.5.5.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">By the time <span id="A2.T12.5.5.3.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">I did</span> it, <span id="A2.T12.5.5.3.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">I thought</span>, well, <span id="A2.T12.5.5.3.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">you know</span>, what’s the point of it?</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 12: </span>Reconstruction performance of our attack when <math id="A2.T12.7.m1.1" class="ltx_Math" alttext="t=0" display="inline"><semantics id="A2.T12.7.m1.1b"><mrow id="A2.T12.7.m1.1.1" xref="A2.T12.7.m1.1.1.cmml"><mi id="A2.T12.7.m1.1.1.2" xref="A2.T12.7.m1.1.1.2.cmml">t</mi><mo id="A2.T12.7.m1.1.1.1" xref="A2.T12.7.m1.1.1.1.cmml">=</mo><mn id="A2.T12.7.m1.1.1.3" xref="A2.T12.7.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T12.7.m1.1c"><apply id="A2.T12.7.m1.1.1.cmml" xref="A2.T12.7.m1.1.1"><eq id="A2.T12.7.m1.1.1.1.cmml" xref="A2.T12.7.m1.1.1.1"></eq><ci id="A2.T12.7.m1.1.1.2.cmml" xref="A2.T12.7.m1.1.1.2">𝑡</ci><cn type="integer" id="A2.T12.7.m1.1.1.3.cmml" xref="A2.T12.7.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.7.m1.1d">t=0</annotation></semantics></math> with different batch sizes. For each batch size, we show the best-case reconstructed sentence across 10 evaluated batches measured by the ROUGE score. Text in <span id="A2.T12.13.1" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents the words that are recovered successfully. </figcaption>
</figure>
</section>
<section id="A2.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.6 </span>Qualitative Results with Randomly Initialized Models</h3>

<div id="A2.SS6.p1" class="ltx_para">
<p id="A2.SS6.p1.1" class="ltx_p">Table <a href="#A2.T13" title="Table 13 ‣ B.6 Qualitative Results with Randomly Initialized Models ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a> presents attack results at different training iterations of a randomly initialized model. The overall attack quality is lower than the results with a pre-trained model.</p>
</div>
<figure id="A2.T13" class="ltx_table">
<table id="A2.T13.6" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T13.6.7.1" class="ltx_tr">
<th id="A2.T13.6.7.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" colspan="2">
<span id="A2.T13.6.7.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.6.7.1.1.1.1" class="ltx_p" style="width:369.9pt;"><span id="A2.T13.6.7.1.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original</span><span id="A2.T13.6.7.1.1.1.1.2" class="ltx_text" style="font-size:70%;">: </span><span id="A2.T13.6.7.1.1.1.1.3" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The short@-@tail stingray forages for food both at night and during the day.</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T13.1.1" class="ltx_tr">
<td id="A2.T13.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T13.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.1.1.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.1.1.1.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T13.1.1.1.1.1.m1.1a"><mi mathsize="70%" id="A2.T13.1.1.1.1.1.m1.1.1" xref="A2.T13.1.1.1.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T13.1.1.1.1.1.m1.1b"><ci id="A2.T13.1.1.1.1.1.m1.1.1.cmml" xref="A2.T13.1.1.1.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.1.1.1.1.1.m1.1c">t</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T13.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T13.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.1.1.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">The recovered sentence</span></span>
</span>
</td>
</tr>
<tr id="A2.T13.2.2" class="ltx_tr">
<td id="A2.T13.2.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T13.2.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.2.2.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.2.2.1.1.1.m1.1" class="ltx_Math" alttext="0" display="inline"><semantics id="A2.T13.2.2.1.1.1.m1.1a"><mn mathsize="70%" id="A2.T13.2.2.1.1.1.m1.1.1" xref="A2.T13.2.2.1.1.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="A2.T13.2.2.1.1.1.m1.1b"><cn type="integer" id="A2.T13.2.2.1.1.1.m1.1.1.cmml" xref="A2.T13.2.2.1.1.1.m1.1.1">0</cn></annotation-xml></semantics></math></span>
</span>
</td>
<td id="A2.T13.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T13.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.2.2.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.2.2.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The’ the the at at night night.</span></span>
</span>
</td>
</tr>
<tr id="A2.T13.3.3" class="ltx_tr">
<td id="A2.T13.3.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T13.3.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.3.3.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.3.3.1.1.1.m1.2" class="ltx_Math" alttext="10,000" display="inline"><semantics id="A2.T13.3.3.1.1.1.m1.2a"><mrow id="A2.T13.3.3.1.1.1.m1.2.3.2" xref="A2.T13.3.3.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T13.3.3.1.1.1.m1.1.1" xref="A2.T13.3.3.1.1.1.m1.1.1.cmml">10</mn><mo mathsize="70%" id="A2.T13.3.3.1.1.1.m1.2.3.2.1" xref="A2.T13.3.3.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T13.3.3.1.1.1.m1.2.2" xref="A2.T13.3.3.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T13.3.3.1.1.1.m1.2b"><list id="A2.T13.3.3.1.1.1.m1.2.3.1.cmml" xref="A2.T13.3.3.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T13.3.3.1.1.1.m1.1.1.cmml" xref="A2.T13.3.3.1.1.1.m1.1.1">10</cn><cn type="integer" id="A2.T13.3.3.1.1.1.m1.2.2.cmml" xref="A2.T13.3.3.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.3.3.1.1.1.m1.2c">10,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T13.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T13.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.3.3.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.3.3.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">The short@-@</span><span id="A2.T13.3.3.2.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;">ray for the day and at the night <span id="A2.T13.3.3.2.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">for both</span> the and the for@</span></span>
</span>
</td>
</tr>
<tr id="A2.T13.4.4" class="ltx_tr">
<td id="A2.T13.4.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T13.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.4.4.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.4.4.1.1.1.m1.2" class="ltx_Math" alttext="20,000" display="inline"><semantics id="A2.T13.4.4.1.1.1.m1.2a"><mrow id="A2.T13.4.4.1.1.1.m1.2.3.2" xref="A2.T13.4.4.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T13.4.4.1.1.1.m1.1.1" xref="A2.T13.4.4.1.1.1.m1.1.1.cmml">20</mn><mo mathsize="70%" id="A2.T13.4.4.1.1.1.m1.2.3.2.1" xref="A2.T13.4.4.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T13.4.4.1.1.1.m1.2.2" xref="A2.T13.4.4.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T13.4.4.1.1.1.m1.2b"><list id="A2.T13.4.4.1.1.1.m1.2.3.1.cmml" xref="A2.T13.4.4.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T13.4.4.1.1.1.m1.1.1.cmml" xref="A2.T13.4.4.1.1.1.m1.1.1">20</cn><cn type="integer" id="A2.T13.4.4.1.1.1.m1.2.2.cmml" xref="A2.T13.4.4.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.4.4.1.1.1.m1.2c">20,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T13.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T13.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.4.4.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.4.4.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The at@-@ray for the night at the and <span id="A2.T13.4.4.2.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">at night</span> <span id="A2.T13.4.4.2.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">the day</span> and the for@</span></span>
</span>
</td>
</tr>
<tr id="A2.T13.5.5" class="ltx_tr">
<td id="A2.T13.5.5.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="A2.T13.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.5.5.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.5.5.1.1.1.m1.2" class="ltx_Math" alttext="40,000" display="inline"><semantics id="A2.T13.5.5.1.1.1.m1.2a"><mrow id="A2.T13.5.5.1.1.1.m1.2.3.2" xref="A2.T13.5.5.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T13.5.5.1.1.1.m1.1.1" xref="A2.T13.5.5.1.1.1.m1.1.1.cmml">40</mn><mo mathsize="70%" id="A2.T13.5.5.1.1.1.m1.2.3.2.1" xref="A2.T13.5.5.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T13.5.5.1.1.1.m1.2.2" xref="A2.T13.5.5.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T13.5.5.1.1.1.m1.2b"><list id="A2.T13.5.5.1.1.1.m1.2.3.1.cmml" xref="A2.T13.5.5.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T13.5.5.1.1.1.m1.1.1.cmml" xref="A2.T13.5.5.1.1.1.m1.1.1">40</cn><cn type="integer" id="A2.T13.5.5.1.1.1.m1.2.2.cmml" xref="A2.T13.5.5.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.5.5.1.1.1.m1.2c">40,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T13.5.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="A2.T13.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.5.5.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.5.5.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The@-@ray for <span id="A2.T13.5.5.2.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">the day</span> during both.</span></span>
</span>
</td>
</tr>
<tr id="A2.T13.6.6" class="ltx_tr">
<td id="A2.T13.6.6.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r ltx_border_t">
<span id="A2.T13.6.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.6.6.1.1.1" class="ltx_p" style="width:28.5pt;"><math id="A2.T13.6.6.1.1.1.m1.2" class="ltx_Math" alttext="80,000" display="inline"><semantics id="A2.T13.6.6.1.1.1.m1.2a"><mrow id="A2.T13.6.6.1.1.1.m1.2.3.2" xref="A2.T13.6.6.1.1.1.m1.2.3.1.cmml"><mn mathsize="70%" id="A2.T13.6.6.1.1.1.m1.1.1" xref="A2.T13.6.6.1.1.1.m1.1.1.cmml">80</mn><mo mathsize="70%" id="A2.T13.6.6.1.1.1.m1.2.3.2.1" xref="A2.T13.6.6.1.1.1.m1.2.3.1.cmml">,</mo><mn mathsize="70%" id="A2.T13.6.6.1.1.1.m1.2.2" xref="A2.T13.6.6.1.1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T13.6.6.1.1.1.m1.2b"><list id="A2.T13.6.6.1.1.1.m1.2.3.1.cmml" xref="A2.T13.6.6.1.1.1.m1.2.3.2"><cn type="integer" id="A2.T13.6.6.1.1.1.m1.1.1.cmml" xref="A2.T13.6.6.1.1.1.m1.1.1">80</cn><cn type="integer" id="A2.T13.6.6.1.1.1.m1.2.2.cmml" xref="A2.T13.6.6.1.1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.6.6.1.1.1.m1.2c">80,000</annotation></semantics></math></span>
</span>
</td>
<td id="A2.T13.6.6.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="A2.T13.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T13.6.6.2.1.1" class="ltx_p" style="width:341.4pt;"><span id="A2.T13.6.6.2.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">The<span id="A2.T13.6.6.2.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">@-@tail stingray forages for food</span> for both for short foodages both both food.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 13: </span>An illustration of the recovered sentence with different training iterations <math id="A2.T13.10.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T13.10.m1.1b"><mi id="A2.T13.10.m1.1.1" xref="A2.T13.10.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T13.10.m1.1c"><ci id="A2.T13.10.m1.1.1.cmml" xref="A2.T13.10.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.10.m1.1d">t</annotation></semantics></math> (batch size <math id="A2.T13.11.m2.1" class="ltx_Math" alttext="=1" display="inline"><semantics id="A2.T13.11.m2.1b"><mrow id="A2.T13.11.m2.1.1" xref="A2.T13.11.m2.1.1.cmml"><mi id="A2.T13.11.m2.1.1.2" xref="A2.T13.11.m2.1.1.2.cmml"></mi><mo id="A2.T13.11.m2.1.1.1" xref="A2.T13.11.m2.1.1.1.cmml">=</mo><mn id="A2.T13.11.m2.1.1.3" xref="A2.T13.11.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T13.11.m2.1c"><apply id="A2.T13.11.m2.1.1.cmml" xref="A2.T13.11.m2.1.1"><eq id="A2.T13.11.m2.1.1.1.cmml" xref="A2.T13.11.m2.1.1.1"></eq><csymbol cd="latexml" id="A2.T13.11.m2.1.1.2.cmml" xref="A2.T13.11.m2.1.1.2">absent</csymbol><cn type="integer" id="A2.T13.11.m2.1.1.3.cmml" xref="A2.T13.11.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.11.m2.1d">=1</annotation></semantics></math>) with a randomly initialized model.
Text in <span id="A2.T13.21.1" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents the phrases and words that are recovered successfully. Our attack recovers better sentences when <math id="A2.T13.12.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="A2.T13.12.m3.1b"><mi id="A2.T13.12.m3.1.1" xref="A2.T13.12.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="A2.T13.12.m3.1c"><ci id="A2.T13.12.m3.1.1.cmml" xref="A2.T13.12.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.12.m3.1d">t</annotation></semantics></math> increases. However, the overall attack quality is lower than the results with a pre-trained model (see Table <a href="#A2.T11" title="Table 11 ‣ B.5 More Results For Attacking the Pre-trained Model ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>). </figcaption>
</figure>
</section>
<section id="A2.SS7" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.7 </span>Ablation Study for Training Configurations</h3>

<div id="A2.SS7.p1" class="ltx_para">
<p id="A2.SS7.p1.1" class="ltx_p">We also perform an ablation study on WikiText-103 to investigate how the attack scales with different training parameters, including the size of the training dataset and the initial learning rate.</p>
</div>
<div id="A2.SS7.1" class="ltx_sectional-block ltx_minipage">
<section id="A2.SS7.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Larger training set sizes are not harder to attack.</h4>

<div id="A2.SS7.SSS0.Px1.p1" class="ltx_para">
<p id="A2.SS7.SSS0.Px1.p1.2" class="ltx_p">It was believed that training with large training sets helps avoid over-fitting and generalizes better as it captures the inherent data distribution more effectively, while training with small datasets may result in the model memorizing the training set <cite class="ltx_cite ltx_citemacro_cite">Arpit et al. (<a href="#bib.bib3" title="" class="ltx_ref">2017</a>)</cite>—which in our case, may yield a better attack performance. However, our experiments suggest that larger training set sizes are <span id="A2.SS7.SSS0.Px1.p1.2.1" class="ltx_text ltx_font_italic">not</span> any more difficult to attack than smaller training sets. As shown in Fig. <a href="#A2.F8" title="Figure 8 ‣ B.7 Ablation Study for Training Configurations ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.a, the attack performance is quite similar across different evaluated training set sizes, from <math id="A2.SS7.SSS0.Px1.p1.1.m1.2" class="ltx_Math" alttext="5,000" display="inline"><semantics id="A2.SS7.SSS0.Px1.p1.1.m1.2a"><mrow id="A2.SS7.SSS0.Px1.p1.1.m1.2.3.2" xref="A2.SS7.SSS0.Px1.p1.1.m1.2.3.1.cmml"><mn id="A2.SS7.SSS0.Px1.p1.1.m1.1.1" xref="A2.SS7.SSS0.Px1.p1.1.m1.1.1.cmml">5</mn><mo id="A2.SS7.SSS0.Px1.p1.1.m1.2.3.2.1" xref="A2.SS7.SSS0.Px1.p1.1.m1.2.3.1.cmml">,</mo><mn id="A2.SS7.SSS0.Px1.p1.1.m1.2.2" xref="A2.SS7.SSS0.Px1.p1.1.m1.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS7.SSS0.Px1.p1.1.m1.2b"><list id="A2.SS7.SSS0.Px1.p1.1.m1.2.3.1.cmml" xref="A2.SS7.SSS0.Px1.p1.1.m1.2.3.2"><cn type="integer" id="A2.SS7.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A2.SS7.SSS0.Px1.p1.1.m1.1.1">5</cn><cn type="integer" id="A2.SS7.SSS0.Px1.p1.1.m1.2.2.cmml" xref="A2.SS7.SSS0.Px1.p1.1.m1.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.SS7.SSS0.Px1.p1.1.m1.2c">5,000</annotation></semantics></math> examples to <math id="A2.SS7.SSS0.Px1.p1.2.m2.2" class="ltx_Math" alttext="200,000" display="inline"><semantics id="A2.SS7.SSS0.Px1.p1.2.m2.2a"><mrow id="A2.SS7.SSS0.Px1.p1.2.m2.2.3.2" xref="A2.SS7.SSS0.Px1.p1.2.m2.2.3.1.cmml"><mn id="A2.SS7.SSS0.Px1.p1.2.m2.1.1" xref="A2.SS7.SSS0.Px1.p1.2.m2.1.1.cmml">200</mn><mo id="A2.SS7.SSS0.Px1.p1.2.m2.2.3.2.1" xref="A2.SS7.SSS0.Px1.p1.2.m2.2.3.1.cmml">,</mo><mn id="A2.SS7.SSS0.Px1.p1.2.m2.2.2" xref="A2.SS7.SSS0.Px1.p1.2.m2.2.2.cmml">000</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS7.SSS0.Px1.p1.2.m2.2b"><list id="A2.SS7.SSS0.Px1.p1.2.m2.2.3.1.cmml" xref="A2.SS7.SSS0.Px1.p1.2.m2.2.3.2"><cn type="integer" id="A2.SS7.SSS0.Px1.p1.2.m2.1.1.cmml" xref="A2.SS7.SSS0.Px1.p1.2.m2.1.1">200</cn><cn type="integer" id="A2.SS7.SSS0.Px1.p1.2.m2.2.2.cmml" xref="A2.SS7.SSS0.Px1.p1.2.m2.2.2">000</cn></list></annotation-xml><annotation encoding="application/x-tex" id="A2.SS7.SSS0.Px1.p1.2.m2.2c">200,000</annotation></semantics></math>.</p>
</div>
</section>
</div>
<figure id="A2.F8" class="ltx_figure ltx_minipage ltx_align_middle" style="width:225.5pt;"><img src="/html/2205.08514/assets/x8.png" id="A2.F8.g1" class="ltx_graphics ltx_img_landscape" width="461" height="173" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>
Performance of our attack under different training configurations for the WikiText-103 dataset, including the size of the training dataset (a) and the initial learning rate (b). We note that the recovery quality slightly improves with larger initial learning rates. Surprisingly, the recovery quality is flat across different dataset sizes. </figcaption>
</figure>
<section id="A2.SS7.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Larger initial learning rate is more vulnerable to attack.</h4>

<div id="A2.SS7.SSS0.Px2.p1" class="ltx_para">
<p id="A2.SS7.SSS0.Px2.p1.3" class="ltx_p">We also show how the attack performs with with different initial learning rates by varying the initial learning in <math id="A2.SS7.SSS0.Px2.p1.1.m1.4" class="ltx_Math" alttext="\{1\times 10^{-5},5\times 10^{-5},1\times 10^{-4},5\times 10^{-4}\}" display="inline"><semantics id="A2.SS7.SSS0.Px2.p1.1.m1.4a"><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml"><mo stretchy="false" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.5" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml">{</mo><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.1" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml">×</mo><msup id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.2.cmml">10</mn><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.cmml"><mo id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3a" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.cmml">−</mo><mn id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.6" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml">,</mo><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.1" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.1.cmml">×</mo><msup id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.2.cmml">10</mn><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.cmml"><mo id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3a" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.cmml">−</mo><mn id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.2.cmml">5</mn></mrow></msup></mrow><mo id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.7" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml">,</mo><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.1" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.1.cmml">×</mo><msup id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.2.cmml">10</mn><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.cmml"><mo id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3a" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.cmml">−</mo><mn id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.2.cmml">4</mn></mrow></msup></mrow><mo id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.8" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml">,</mo><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.1" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.1.cmml">×</mo><msup id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.cmml"><mn id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.2.cmml">10</mn><mrow id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.cmml"><mo id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3a" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.cmml">−</mo><mn id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.2" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.2.cmml">4</mn></mrow></msup></mrow><mo stretchy="false" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.9" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.SS7.SSS0.Px2.p1.1.m1.4b"><set id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.5.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4"><apply id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1"><times id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.1"></times><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.2">1</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3">superscript</csymbol><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.2">10</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3"><minus id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3"></minus><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.1.1.1.1.3.3.2">5</cn></apply></apply></apply><apply id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2"><times id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.1"></times><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.2">5</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3">superscript</csymbol><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.2">10</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3"><minus id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3"></minus><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.2.2.2.2.3.3.2">5</cn></apply></apply></apply><apply id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3"><times id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.1"></times><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.2">1</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3">superscript</csymbol><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.2">10</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3"><minus id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3"></minus><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.3.3.3.3.3.3.2">4</cn></apply></apply></apply><apply id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4"><times id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.1"></times><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.2">5</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3"><csymbol cd="ambiguous" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3">superscript</csymbol><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.2">10</cn><apply id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3"><minus id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3"></minus><cn type="integer" id="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.1.m1.4.4.4.4.3.3.2">4</cn></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A2.SS7.SSS0.Px2.p1.1.m1.4c">\{1\times 10^{-5},5\times 10^{-5},1\times 10^{-4},5\times 10^{-4}\}</annotation></semantics></math> while fixing the batch size <math id="A2.SS7.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="A2.SS7.SSS0.Px2.p1.2.m2.1a"><mrow id="A2.SS7.SSS0.Px2.p1.2.m2.1.1" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.2" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.2.cmml">b</mi><mo id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.1" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.3" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS7.SSS0.Px2.p1.2.m2.1b"><apply id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.cmml" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1"><eq id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.1"></eq><ci id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.2">𝑏</ci><cn type="integer" id="A2.SS7.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="A2.SS7.SSS0.Px2.p1.2.m2.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS7.SSS0.Px2.p1.2.m2.1c">b=16</annotation></semantics></math> and dataset size <math id="A2.SS7.SSS0.Px2.p1.3.m3.2" class="ltx_Math" alttext="N=200,000" display="inline"><semantics id="A2.SS7.SSS0.Px2.p1.3.m3.2a"><mrow id="A2.SS7.SSS0.Px2.p1.3.m3.2.3" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.cmml"><mi id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.2" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.2.cmml">N</mi><mo id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.1" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.1.cmml">=</mo><mrow id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.2" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.1.cmml"><mn id="A2.SS7.SSS0.Px2.p1.3.m3.1.1" xref="A2.SS7.SSS0.Px2.p1.3.m3.1.1.cmml">200</mn><mo id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.2.1" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.1.cmml">,</mo><mn id="A2.SS7.SSS0.Px2.p1.3.m3.2.2" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.2.cmml">000</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS7.SSS0.Px2.p1.3.m3.2b"><apply id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3"><eq id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.1"></eq><ci id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.2.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.2">𝑁</ci><list id="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.1.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.3.3.2"><cn type="integer" id="A2.SS7.SSS0.Px2.p1.3.m3.1.1.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.1.1">200</cn><cn type="integer" id="A2.SS7.SSS0.Px2.p1.3.m3.2.2.cmml" xref="A2.SS7.SSS0.Px2.p1.3.m3.2.2">000</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS7.SSS0.Px2.p1.3.m3.2c">N=200,000</annotation></semantics></math>. As we apply early stopping during training, none of the models we test were overfit. As shown in Fig. <a href="#A2.F8" title="Figure 8 ‣ B.7 Ablation Study for Training Configurations ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>.b, as the initial learning rate increases, our attack is able to achieve slightly higher ROUGE scores.</p>
</div>
<div id="A2.SS7.SSS0.Px2.p2" class="ltx_para">
<p id="A2.SS7.SSS0.Px2.p2.1" class="ltx_p">Table <a href="#A2.T14" title="Table 14 ‣ Larger initial learning rate is more vulnerable to attack. ‣ B.7 Ablation Study for Training Configurations ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> presents the attack results recovered under different initial learning rates. We find that as the initial learning rate increases, our attack is able to successfully reconstruct more components of the training sentence despite similar final training and testing perplexity.</p>
</div>
<figure id="A2.T14" class="ltx_table">
<table id="A2.T14.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T14.4.5.1" class="ltx_tr">
<th id="A2.T14.4.5.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;"><span id="A2.T14.4.5.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Initial LR</span></th>
<th id="A2.T14.4.5.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.5.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.5.1.2.1.1" class="ltx_p" style="width:34.1pt;"><span id="A2.T14.4.5.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Train/Test Perplexity</span></span>
</span>
</th>
<th id="A2.T14.4.5.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.5.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.5.1.3.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.4.5.1.3.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Original Sentence</span></span>
</span>
</th>
<th id="A2.T14.4.5.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.5.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.5.1.4.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.4.5.1.4.1.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Reconstructed Sentence</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T14.1.1" class="ltx_tr">
<th id="A2.T14.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T14.1.1.1.m1.1" class="ltx_Math" alttext="1e-5" display="inline"><semantics id="A2.T14.1.1.1.m1.1a"><mrow id="A2.T14.1.1.1.m1.1.1" xref="A2.T14.1.1.1.m1.1.1.cmml"><mrow id="A2.T14.1.1.1.m1.1.1.2" xref="A2.T14.1.1.1.m1.1.1.2.cmml"><mn mathsize="70%" id="A2.T14.1.1.1.m1.1.1.2.2" xref="A2.T14.1.1.1.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A2.T14.1.1.1.m1.1.1.2.1" xref="A2.T14.1.1.1.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="A2.T14.1.1.1.m1.1.1.2.3" xref="A2.T14.1.1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo mathsize="70%" id="A2.T14.1.1.1.m1.1.1.1" xref="A2.T14.1.1.1.m1.1.1.1.cmml">−</mo><mn mathsize="70%" id="A2.T14.1.1.1.m1.1.1.3" xref="A2.T14.1.1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T14.1.1.1.m1.1b"><apply id="A2.T14.1.1.1.m1.1.1.cmml" xref="A2.T14.1.1.1.m1.1.1"><minus id="A2.T14.1.1.1.m1.1.1.1.cmml" xref="A2.T14.1.1.1.m1.1.1.1"></minus><apply id="A2.T14.1.1.1.m1.1.1.2.cmml" xref="A2.T14.1.1.1.m1.1.1.2"><times id="A2.T14.1.1.1.m1.1.1.2.1.cmml" xref="A2.T14.1.1.1.m1.1.1.2.1"></times><cn type="integer" id="A2.T14.1.1.1.m1.1.1.2.2.cmml" xref="A2.T14.1.1.1.m1.1.1.2.2">1</cn><ci id="A2.T14.1.1.1.m1.1.1.2.3.cmml" xref="A2.T14.1.1.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A2.T14.1.1.1.m1.1.1.3.cmml" xref="A2.T14.1.1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.1.1.1.m1.1c">1e-5</annotation></semantics></math></th>
<th id="A2.T14.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.1.1.2.1.1" class="ltx_p" style="width:34.1pt;"><span id="A2.T14.1.1.2.1.1.1" class="ltx_text" style="font-size:70%;">7.60/11.11</span></span>
</span>
</th>
<td id="A2.T14.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.1.1.3.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.1.1.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">A tropical wave organized into a distinct area of disturbed weather just south of the Mexican port of Manzanillo, Colima, on August 22 and gradually moved to the northwest.</span></span>
</span>
</td>
<td id="A2.T14.1.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.1.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.1.1.4.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.1.1.4.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Early <span id="A2.T14.1.1.4.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">on</span> September <span id="A2.T14.1.1.4.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">22</span>, an <span id="A2.T14.1.1.4.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">area of disturbed weather</span> <span id="A2.T14.1.1.4.1.1.1.4" class="ltx_text" style="background-color:#B6D7A8;">organized into</span> <span id="A2.T14.1.1.4.1.1.1.5" class="ltx_text" style="background-color:#B6D7A8;">a tropical wave</span>, which <span id="A2.T14.1.1.4.1.1.1.6" class="ltx_text" style="background-color:#B6D7A8;">moved to the northwest</span> <span id="A2.T14.1.1.4.1.1.1.7" class="ltx_text" style="background-color:#B6D7A8;">of</span> <span id="A2.T14.1.1.4.1.1.1.8" class="ltx_text" style="background-color:#B6D7A8;">the</span> <span id="A2.T14.1.1.4.1.1.1.9" class="ltx_text" style="background-color:#B6D7A8;">area</span>, and then <span id="A2.T14.1.1.4.1.1.1.10" class="ltx_text" style="background-color:#B6D7A8;">moved</span> <span id="A2.T14.1.1.4.1.1.1.11" class="ltx_text" style="background-color:#B6D7A8;">into</span> <span id="A2.T14.1.1.4.1.1.1.12" class="ltx_text" style="background-color:#B6D7A8;">the</span> north and south@-@to <span id="A2.T14.1.1.4.1.1.1.13" class="ltx_text" style="background-color:#B6D7A8;">the</span> northeast.</span></span>
</span>
</td>
</tr>
<tr id="A2.T14.2.2" class="ltx_tr">
<th id="A2.T14.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T14.2.2.1.m1.1" class="ltx_Math" alttext="5e-5" display="inline"><semantics id="A2.T14.2.2.1.m1.1a"><mrow id="A2.T14.2.2.1.m1.1.1" xref="A2.T14.2.2.1.m1.1.1.cmml"><mrow id="A2.T14.2.2.1.m1.1.1.2" xref="A2.T14.2.2.1.m1.1.1.2.cmml"><mn mathsize="70%" id="A2.T14.2.2.1.m1.1.1.2.2" xref="A2.T14.2.2.1.m1.1.1.2.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="A2.T14.2.2.1.m1.1.1.2.1" xref="A2.T14.2.2.1.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="A2.T14.2.2.1.m1.1.1.2.3" xref="A2.T14.2.2.1.m1.1.1.2.3.cmml">e</mi></mrow><mo mathsize="70%" id="A2.T14.2.2.1.m1.1.1.1" xref="A2.T14.2.2.1.m1.1.1.1.cmml">−</mo><mn mathsize="70%" id="A2.T14.2.2.1.m1.1.1.3" xref="A2.T14.2.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T14.2.2.1.m1.1b"><apply id="A2.T14.2.2.1.m1.1.1.cmml" xref="A2.T14.2.2.1.m1.1.1"><minus id="A2.T14.2.2.1.m1.1.1.1.cmml" xref="A2.T14.2.2.1.m1.1.1.1"></minus><apply id="A2.T14.2.2.1.m1.1.1.2.cmml" xref="A2.T14.2.2.1.m1.1.1.2"><times id="A2.T14.2.2.1.m1.1.1.2.1.cmml" xref="A2.T14.2.2.1.m1.1.1.2.1"></times><cn type="integer" id="A2.T14.2.2.1.m1.1.1.2.2.cmml" xref="A2.T14.2.2.1.m1.1.1.2.2">5</cn><ci id="A2.T14.2.2.1.m1.1.1.2.3.cmml" xref="A2.T14.2.2.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A2.T14.2.2.1.m1.1.1.3.cmml" xref="A2.T14.2.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.2.2.1.m1.1c">5e-5</annotation></semantics></math></th>
<th id="A2.T14.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.2.2.2.1.1" class="ltx_p" style="width:34.1pt;"><span id="A2.T14.2.2.2.1.1.1" class="ltx_text" style="font-size:70%;">6.05/11.56</span></span>
</span>
</th>
<td id="A2.T14.2.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.2.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.2.2.3.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.2.2.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">A tropical wave organized into a distinct area of disturbed weather just south of the Mexican port of Manzanillo, Colima, on August 22 and gradually moved to the northwest.</span></span>
</span>
</td>
<td id="A2.T14.2.2.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.2.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.2.2.4.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.2.2.4.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Early <span id="A2.T14.2.2.4.1.1.1.1" class="ltx_text" style="background-color:#B6D7A8;">on</span> September 22, a <span id="A2.T14.2.2.4.1.1.1.2" class="ltx_text" style="background-color:#B6D7A8;">tropical wave</span> <span id="A2.T14.2.2.4.1.1.1.3" class="ltx_text" style="background-color:#B6D7A8;">moved</span> <span id="A2.T14.2.2.4.1.1.1.4" class="ltx_text" style="background-color:#B6D7A8;">into</span> the <span id="A2.T14.2.2.4.1.1.1.5" class="ltx_text" style="background-color:#B6D7A8;">area</span>, which <span id="A2.T14.2.2.4.1.1.1.6" class="ltx_text" style="background-color:#B6D7A8;">organized into an area of disturbed</span> <span id="A2.T14.2.2.4.1.1.1.7" class="ltx_text" style="background-color:#B6D7A8;">weather just south of the Mexican port of Manzanillo,</span> and <span id="A2.T14.2.2.4.1.1.1.8" class="ltx_text" style="background-color:#B6D7A8;">moved to the</span> <span id="A2.T14.2.2.4.1.1.1.9" class="ltx_text" style="background-color:#B6D7A8;">south</span>@-@</span></span>
</span>
</td>
</tr>
<tr id="A2.T14.3.3" class="ltx_tr">
<th id="A2.T14.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T14.3.3.1.m1.1" class="ltx_Math" alttext="1e-4" display="inline"><semantics id="A2.T14.3.3.1.m1.1a"><mrow id="A2.T14.3.3.1.m1.1.1" xref="A2.T14.3.3.1.m1.1.1.cmml"><mrow id="A2.T14.3.3.1.m1.1.1.2" xref="A2.T14.3.3.1.m1.1.1.2.cmml"><mn mathsize="70%" id="A2.T14.3.3.1.m1.1.1.2.2" xref="A2.T14.3.3.1.m1.1.1.2.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="A2.T14.3.3.1.m1.1.1.2.1" xref="A2.T14.3.3.1.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="A2.T14.3.3.1.m1.1.1.2.3" xref="A2.T14.3.3.1.m1.1.1.2.3.cmml">e</mi></mrow><mo mathsize="70%" id="A2.T14.3.3.1.m1.1.1.1" xref="A2.T14.3.3.1.m1.1.1.1.cmml">−</mo><mn mathsize="70%" id="A2.T14.3.3.1.m1.1.1.3" xref="A2.T14.3.3.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T14.3.3.1.m1.1b"><apply id="A2.T14.3.3.1.m1.1.1.cmml" xref="A2.T14.3.3.1.m1.1.1"><minus id="A2.T14.3.3.1.m1.1.1.1.cmml" xref="A2.T14.3.3.1.m1.1.1.1"></minus><apply id="A2.T14.3.3.1.m1.1.1.2.cmml" xref="A2.T14.3.3.1.m1.1.1.2"><times id="A2.T14.3.3.1.m1.1.1.2.1.cmml" xref="A2.T14.3.3.1.m1.1.1.2.1"></times><cn type="integer" id="A2.T14.3.3.1.m1.1.1.2.2.cmml" xref="A2.T14.3.3.1.m1.1.1.2.2">1</cn><ci id="A2.T14.3.3.1.m1.1.1.2.3.cmml" xref="A2.T14.3.3.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A2.T14.3.3.1.m1.1.1.3.cmml" xref="A2.T14.3.3.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.3.3.1.m1.1c">1e-4</annotation></semantics></math></th>
<th id="A2.T14.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.3.3.2.1.1" class="ltx_p" style="width:34.1pt;"><span id="A2.T14.3.3.2.1.1.1" class="ltx_text" style="font-size:70%;">6.03/12.21</span></span>
</span>
</th>
<td id="A2.T14.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.3.3.3.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.3.3.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">Kristina Lennox@-@Silva also represented Puerto Rico as a female swimmer in the 400 meters freestyle.</span></span>
</span>
</td>
<td id="A2.T14.3.3.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.3.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.3.3.4.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.3.3.4.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">Kristina Lennox@-@Silva also represented Puerto Rico as a female swimmer in the 400 meters freestyle</span><span id="A2.T14.3.3.4.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;"> at the 2015 Miss New Japan Pro Wrestling Tag Team Championship, and represented Japan at</span></span>
</span>
</td>
</tr>
<tr id="A2.T14.4.4" class="ltx_tr">
<th id="A2.T14.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;"><math id="A2.T14.4.4.1.m1.1" class="ltx_Math" alttext="5e-4" display="inline"><semantics id="A2.T14.4.4.1.m1.1a"><mrow id="A2.T14.4.4.1.m1.1.1" xref="A2.T14.4.4.1.m1.1.1.cmml"><mrow id="A2.T14.4.4.1.m1.1.1.2" xref="A2.T14.4.4.1.m1.1.1.2.cmml"><mn mathsize="70%" id="A2.T14.4.4.1.m1.1.1.2.2" xref="A2.T14.4.4.1.m1.1.1.2.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="A2.T14.4.4.1.m1.1.1.2.1" xref="A2.T14.4.4.1.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="A2.T14.4.4.1.m1.1.1.2.3" xref="A2.T14.4.4.1.m1.1.1.2.3.cmml">e</mi></mrow><mo mathsize="70%" id="A2.T14.4.4.1.m1.1.1.1" xref="A2.T14.4.4.1.m1.1.1.1.cmml">−</mo><mn mathsize="70%" id="A2.T14.4.4.1.m1.1.1.3" xref="A2.T14.4.4.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T14.4.4.1.m1.1b"><apply id="A2.T14.4.4.1.m1.1.1.cmml" xref="A2.T14.4.4.1.m1.1.1"><minus id="A2.T14.4.4.1.m1.1.1.1.cmml" xref="A2.T14.4.4.1.m1.1.1.1"></minus><apply id="A2.T14.4.4.1.m1.1.1.2.cmml" xref="A2.T14.4.4.1.m1.1.1.2"><times id="A2.T14.4.4.1.m1.1.1.2.1.cmml" xref="A2.T14.4.4.1.m1.1.1.2.1"></times><cn type="integer" id="A2.T14.4.4.1.m1.1.1.2.2.cmml" xref="A2.T14.4.4.1.m1.1.1.2.2">5</cn><ci id="A2.T14.4.4.1.m1.1.1.2.3.cmml" xref="A2.T14.4.4.1.m1.1.1.2.3">𝑒</ci></apply><cn type="integer" id="A2.T14.4.4.1.m1.1.1.3.cmml" xref="A2.T14.4.4.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.4.4.1.m1.1c">5e-4</annotation></semantics></math></th>
<th id="A2.T14.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.4.2.1.1" class="ltx_p" style="width:34.1pt;"><span id="A2.T14.4.4.2.1.1.1" class="ltx_text" style="font-size:70%;">6.87/10.95</span></span>
</span>
</th>
<td id="A2.T14.4.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.4.3.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.4.4.3.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;">I thought if I did the animation well, it would be worth it, but you know what?</span></span>
</span>
</td>
<td id="A2.T14.4.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t" style="padding-left:5.0pt;padding-right:5.0pt;">
<span id="A2.T14.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T14.4.4.4.1.1" class="ltx_p" style="width:148.0pt;"><span id="A2.T14.4.4.4.1.1.1" class="ltx_text ltx_font_typewriter" style="font-size:70%;background-color:#B6D7A8;">I thought</span><span id="A2.T14.4.4.4.1.1.2" class="ltx_text ltx_font_typewriter" style="font-size:70%;"> <span id="A2.T14.4.4.4.1.1.2.1" class="ltx_text" style="background-color:#B6D7A8;">it would be worth it</span> <span id="A2.T14.4.4.4.1.1.2.2" class="ltx_text" style="background-color:#B6D7A8;">if I</span> said I did it to you and <span id="A2.T14.4.4.4.1.1.2.3" class="ltx_text" style="background-color:#B6D7A8;">you know what</span> you did.</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table">Table 14: </span>An illustration of the reconstructed sentence with different initial learning rate (batch size <math id="A2.T14.6.m1.1" class="ltx_Math" alttext="b=16" display="inline"><semantics id="A2.T14.6.m1.1b"><mrow id="A2.T14.6.m1.1.1" xref="A2.T14.6.m1.1.1.cmml"><mi id="A2.T14.6.m1.1.1.2" xref="A2.T14.6.m1.1.1.2.cmml">b</mi><mo id="A2.T14.6.m1.1.1.1" xref="A2.T14.6.m1.1.1.1.cmml">=</mo><mn id="A2.T14.6.m1.1.1.3" xref="A2.T14.6.m1.1.1.3.cmml">16</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.T14.6.m1.1c"><apply id="A2.T14.6.m1.1.1.cmml" xref="A2.T14.6.m1.1.1"><eq id="A2.T14.6.m1.1.1.1.cmml" xref="A2.T14.6.m1.1.1.1"></eq><ci id="A2.T14.6.m1.1.1.2.cmml" xref="A2.T14.6.m1.1.1.2">𝑏</ci><cn type="integer" id="A2.T14.6.m1.1.1.3.cmml" xref="A2.T14.6.m1.1.1.3">16</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.6.m1.1d">b=16</annotation></semantics></math>); All models are trained using early stopping.
Text in <span id="A2.T14.12.1" class="ltx_text" style="background-color:#B6D7A8;">green</span> represents the phrases and words that are recovered successfully. Our attack seems to give better performance with a larger initial learning rate.
</figcaption>
</figure>
</section>
</section>
<section id="A2.SS8" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.8 </span>Justification for the Scoring Function in the Reordering Stage</h3>

<div id="A2.SS8.p1" class="ltx_para">
<p id="A2.SS8.p1.1" class="ltx_p">As discussed in Sec. <a href="#S4.SS4" title="4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>, our scoring function consists of a gradient norm term and a perplexity term (see Eq.<a href="#S4.E4" title="Equation 4 ‣ 4.4 Prior-Guided Token Reordering ‣ 4 Proposed Attack: FILM ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). This design is mainly motivated by the observation that sentences in the training corpus usually have
lower perplexity scores and lower gradient norms on the trained
language model, compared with their slightly altered versions.</p>
</div>
<div id="A2.SS8.p2" class="ltx_para">
<p id="A2.SS8.p2.1" class="ltx_p">To demonstrate this, we randomly pick the 5 following sentences from the training corpus:</p>
</div>
<div id="A2.SS8.p3" class="ltx_para">
<ul id="A2.I1" class="ltx_itemize">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.1" class="ltx_p"><span id="A2.I1.i1.p1.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">“Significant increases in sales worldwide were reported by Billboard in the month of his death."</span><span id="A2.I1.i1.p1.1.2" class="ltx_text" style="font-size:90%;">;</span></p>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i2.p1" class="ltx_para">
<p id="A2.I1.i2.p1.1" class="ltx_p"><span id="A2.I1.i2.p1.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">“The office has subsequently been held by one of the knights, though not necessarily the most senior."</span><span id="A2.I1.i2.p1.1.2" class="ltx_text" style="font-size:90%;">;</span></p>
</div>
</li>
<li id="A2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i3.p1" class="ltx_para">
<p id="A2.I1.i3.p1.1" class="ltx_p"><span id="A2.I1.i3.p1.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">“In 1999, several Russian sources reported that Laika had died when the cabin overheated on the fourth orbit."</span><span id="A2.I1.i3.p1.1.2" class="ltx_text" style="font-size:90%;">;</span></p>
</div>
</li>
<li id="A2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i4.p1" class="ltx_para">
<p id="A2.I1.i4.p1.1" class="ltx_p"><span id="A2.I1.i4.p1.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">“Officials advised 95@,@000 citizens along the New Jersey coastline, an area that rarely experiences hurricanes, to evacuate."</span><span id="A2.I1.i4.p1.1.2" class="ltx_text" style="font-size:90%;">;</span></p>
</div>
</li>
<li id="A2.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i5.p1" class="ltx_para">
<p id="A2.I1.i5.p1.1" class="ltx_p"><span id="A2.I1.i5.p1.1.1" class="ltx_text ltx_font_italic" style="font-size:90%;">“It later won a 2014 Apple Design Award and was named Apple’s best iPhone game of 2014."</span><span id="A2.I1.i5.p1.1.2" class="ltx_text" style="font-size:90%;">;</span></p>
</div>
</li>
</ul>
</div>
<div id="A2.SS8.p4" class="ltx_para">
<p id="A2.SS8.p4.1" class="ltx_p">For each original sentence, we generate its slightly altered versions which performs <span id="A2.SS8.p4.1.1" class="ltx_text ltx_font_italic">one</span> of the following three operations (we generate 10 sentences for each operation):</p>
<ul id="A2.I2" class="ltx_itemize">
<li id="A2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i1.p1" class="ltx_para">
<p id="A2.I2.i1.p1.1" class="ltx_p"><span id="A2.I2.i1.p1.1.1" class="ltx_text ltx_font_bold">Swap</span> two randomly selected tokens in the original sentence;</p>
</div>
</li>
<li id="A2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i2.p1" class="ltx_para">
<p id="A2.I2.i2.p1.1" class="ltx_p"><span id="A2.I2.i2.p1.1.1" class="ltx_text ltx_font_bold">Delete</span> a randomly selected token from the original sentence;</p>
</div>
</li>
<li id="A2.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i3.p1" class="ltx_para">
<p id="A2.I2.i3.p1.1" class="ltx_p"><span id="A2.I2.i3.p1.1.1" class="ltx_text ltx_font_bold">Insert</span> a token (randomly selected from the bag of tokens of the original sentence) into a random position of the original sentence.</p>
</div>
</li>
</ul>
</div>
<div id="A2.SS8.p5" class="ltx_para">
<p id="A2.SS8.p5.1" class="ltx_p">As shown in Fig. <a href="#A2.F9" title="Figure 9 ‣ B.8 Justification for the Scoring Function in the Reordering Stage ‣ Appendix B Experimental Details and More Results ‣ Recovering Private Text in Federated Learning of Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>, original sentences usually have lower gradient norm and perplexity score than their corresponding slightly altered versions.</p>
</div>
<figure id="A2.F9" class="ltx_figure"><img src="/html/2205.08514/assets/x9.png" id="A2.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="163" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Gradient norm (the first row) and perplexity (the second row) for 5 original sentences and their corresponding slightly altered sentences (by swapping, deletion or insertion) on the trained language model. Original sentences usually have lower gradient norm and perplexity.</figcaption>
</figure>
</section>
<section id="A2.SS9" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.9 </span>How much does the bag of words help?</h3>

<div id="A2.SS9.p1" class="ltx_para">
<p id="A2.SS9.p1.1" class="ltx_p">We briefly compare the performance of the attack in a scenario where beam search is performed with the bag of words (as in FILM), and without the bag of words (i.e. if an attacker only had the model, but not bag of words). Both settings were ran with the same prompts for all samples.</p>
</div>
<figure id="A2.F10" class="ltx_figure"><img src="" id="A2.F10.g1" class="ltx_graphics ltx_missing ltx_missing_image" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>
Performance of using beam search with and without a bag of words to recover memorized sentences from GPT-2 finetuned on WikiText-103.
We compare over different training iterations with a batchsize of 1 (left), and across different batch sizes at 90,000 iterations (middle). We also include the NERR score at 90,000 iterations (right). Overall we find that beam search is significantly stronger for small batchsizes if the attacker also has a bag of words. Moreover, using the bag of words allows attackers to reconstruct significantly more named entities even in larger batch sizes.</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2205.08513" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2205.08514" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2205.08514">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2205.08514" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2205.08515" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 16:12:54 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
