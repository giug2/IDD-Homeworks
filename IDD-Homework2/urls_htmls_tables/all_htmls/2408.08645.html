<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Extracting polygonal footprints in off-nadir images with Segment Anything Model</title>
<!--Generated on Fri Aug 16 10:15:36 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2408.08645v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S1" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S2" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S2.SS1" title="In 2 Related work ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Segment Anything Model and its Application</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S2.SS2" title="In 2 Related work ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Polygonal mapping of buildings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S2.SS3" title="In 2 Related work ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Offset-based footprint extraction</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS1" title="In 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Problem Statement</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS2" title="In 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Self Offset Attention (SOFA)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS3" title="In 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Network Structure</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS3.SSS1" title="In 3.3 Network Structure ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.1 </span>Extracting Polygonal Footprints</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS3.SSS2" title="In 3.3 Network Structure ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.2 </span>Proposal Network</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS3.SSS3" title="In 3.3 Network Structure ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3.3 </span>Network Setting</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS4" title="In 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.4 </span>RAG in BFE</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiment and Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.SS1" title="In 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.SS2" title="In 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.SS3" title="In 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Experimental Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.SS4" title="In 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Main Result</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.SS5" title="In 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>RAG in BFE</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Ablation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.SS1" title="In 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Ablation of SOFA block</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.SS2" title="In 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>RAG in BFE: Multi-information</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.SS3" title="In 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>RAG in BFE: Proposal Methods</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Discussion</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.SS1" title="In 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Why named "RAG in BFE"?</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.SS2" title="In 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Limitations of OBMv2</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.SS3" title="In 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.3 </span>The benefit of building task</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.SS4" title="In 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.4 </span>Why OBMv2 not always outperform other models?</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.SS5" title="In 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.5 </span>Future work</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S7" title="In Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_fleqn" lang="en">
<h1 class="ltx_title ltx_title_document">Extracting polygonal footprints in off-nadir images with Segment Anything Model</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kai Li
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jingbo Chen
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yupeng Deng
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yu Meng
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Diyou Liu
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junxian Ma
</span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Chenhao Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_address">Aerospace Information Research Institute, Chinese Academy of Sciences, Beijing 100101, China
</span>
<span class="ltx_contact ltx_role_address">School of Data Science, City University of Hong Kong, Hong Kong 999077, China
</span>
<span class="ltx_contact ltx_role_address">School of Electronic Electrical and Communication Engineering, University of Chinese Academy of Sciences, Beijing 100049, China
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1"><span class="ltx_text" id="id1.id1.1">Building Footprint Extraction (BFE) in off-nadir aerial images often relies on roof segmentation and roof-to-footprint offset prediction, then drugging roof to footprint via the offset.
However, the results from this multi-stage inference are not that applicable in data production, because of the low quality of masks given by prediction.
To solve this problem, we proposed OBMv2 in this paper, which supports both end-to-end and promptable polygonal footprint prediction.
Different from OBM, OBMv2 using a newly proposed Self Offset Attention (SOFA) to bridge the performance gap on bungalow and skyscraper, which realized a real end-to-end footprint polygon prediction without postprocessing. Additionally, to squeeze information from the same model, we were inspired by Retrieval-Augmented Generation (RAG) in Nature Language Processing and proposed "RAG in BFE" problem.
To verify the effectiveness of the proposed method, experiments were conducted on open datasets BONAI and OmniCity-view3.
A generalization test was also conducted on Huizhou test set.
The code will be available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/likaiucas/OBM" title="">https://github.com/likaiucas/OBM</a>.</span></p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>
<span class="ltx_text" id="id2.id1">
Building footprint extraction , building detection , Segment Anything Model (SAM) , Offset-Building Model (OBM)
, off-nadir aerial image , Nadaraya-Watson regression , look-ahead masking

</span>
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journal" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journal: </span>Elsevier</span></span></span>
<section class="ltx_section ltx_indent_first" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Building Footprint Extraction (BFE) problem has been studied over a decade, which is a fundamental task for 3D building reconstruction, building change detection and so on.
In the early stage, building related problems were often studied by using machine learning based methods <cite class="ltx_cite ltx_citemacro_citep">(Inglada, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib12" title="">2007</a>)</cite> or geometric features <cite class="ltx_cite ltx_citemacro_citep">(Lafarge et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib17" title="">2010</a>; Ortner et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib26" title="">2008</a>)</cite>.
These methods often limited by conditions like shallow features, demanding human measuring, poor generalization and so on.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">With the turn-up of Deep Convolutional Networks, offset-based methods became a popular solutions for BFE problems <cite class="ltx_cite ltx_citemacro_citep">(Christie et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib4" title="">2020</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib21" title="">2021</a>; Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib22" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">a</a>)</cite>,
and has become a promising and cost-effecient solution for solving BFE problem.
Offset-based methods can solve BFE problem in off-nadir images which can easily derived by a satelite camera with a shotting angle.
This data requirement, not angle demanding, brings lower data acquisition cost and larger data coverage compared to methods using LiDAR data <cite class="ltx_cite ltx_citemacro_citep">(Priestnall et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib27" title="">2000</a>; Khattak et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib14" title="">2013</a>; Kunwar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib16" title="">2021</a>; Lian et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib23" title="">2021</a>)</cite>.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="679" id="S1.F1.g1" src="x1.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>This figure illustrates how to search building footprints with limited information.
In (a), with roof segmentation and building segemntation, we find a path on the building map via which roof can find a place better fitting the footprint.
In (b), building footprint was derived by dragging roof via the offset.
In (c), dragging building segmentation via the offset and the union of both masks represents building footprint. If building segmentation moved in opposite direction, the union can represent the roof segmentation. </figcaption>
</figure>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">There are some limitation in current offset-based methods.
<cite class="ltx_cite ltx_citemacro_cite">Christie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib4" title="">2020</a>)</cite> proposed a method uses a U-Net decoder with a ResNet encoder to predict the image-level orientation and per-pixel height values.
Lastly, the orientation and pixel-level height values are multiplied to get the final flow offsets.
However, this method only focuses on single-task height estimation with demanding training prerequisites.
Aiming at solving this prerequisite, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib21" title="">2021</a>)</cite> proposed a multi-task learning model, namely MTBRNet, to facilitate the learning progress.
MTBRNet includes an image-wise offset angle prediction task and two pixel-wise offset field prediction tasks, as well as several semantic-related tasks.
In 2023, <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite> proposed an instance-level model, LOFT, which was designed based on Mask RCNN <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib11" title="">2017</a>)</cite>.
This model simplified the multi-task training labels.
LOFT leverages an offset Region of Interest (ROI) head to extract roof-to-footprint offsets for each instance building nominated by Region Proposal Network (RPN).
The final footprint masks were derived by drugging the predicted roofs to their footprints via the offsets.
However, the cost of annotating remote sensing images with offsets is still high, which cannot be trained with diverse labels.
In order to train model with offset-unknown samples, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib22" title="">2024b</a>)</cite> proposed a Multi-Level Supervised Building Reconstruction Network (MLS-BRN) based on LOFT.
MLS-BRN added four additional tasks compared with LOFT: (1) off-nadir angle prediction task; (2) offset angle prediction task; (3) footprint segmentation task; (4) real-world height prediction task.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">However, those RoI-based methods can hardly applied in real data production because of unstable RPN and Non-Maximum Suppression (NMS) algorithms <cite class="ltx_cite ltx_citemacro_citep">(Viola and Jones, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib34" title="">2001</a>)</cite>.
To solve this problem, OBM <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> was proposed, borrowing the structure of Segment Anything Model (SAM) <cite class="ltx_cite ltx_citemacro_citep">(Kirillov et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib15" title="">2023</a>)</cite>.
OBM was a promptable model and fully structured by Transformer, and the prompt-level offsets were predicted by Reference Offset Augmentation Module (ROAM), using a concept of offset queries.
During the prompt-level test, a common pattern of predicting offsets was newly discovered, a huge performance gap between predicting longer offsets and shorter offsets,
and Distance NMS algorithms were designed for solving this problem.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">At this point, the BFE problem seems to be solved, and the next step for us was improving the output mask quality,
simply like what has going on with SAM-HQ in general computer vision <cite class="ltx_cite ltx_citemacro_citep">(Ke et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib13" title="">2024</a>)</cite>.
Yet the effectiveness of this more intuitive experiments has not been accepted via our experiments. To make the output of the model more in line with the results of data production, which have clear vectorized boundaries and vertices,
we proposed OBMv2 in this paper.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">OBMv2 is a model supporting both modes of prompting and end-to-end.
To get building vertex map for each prompt, an additional segmentation task is included.
Within the training of this task, a new loss function, Dynamic Scope Binary Cross Entropy Loss (DS-BCE Loss), was proposed for vertex tasks.
This loss function can weaken the grid effect of output results.
The common pattern of predicting offset discovered by <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> is newly solved with a Self Offset Attention (SOFA) layer purposely designed for offsets.
SOFA was designed via Nadaraya-Watson Regression <cite class="ltx_cite ltx_citemacro_citep">(Nadaraya, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib25" title="">1964</a>; Watson, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib37" title="">1964</a>)</cite>.
With the help of SOFA, OBMv2 can directly predict footprint vertices without post-processing algorithms like DNMS and NMS.
This module can also be applied in both end-to-end and prompting model.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">On the other hand, a promptable model commonly has a problem on how to squeeze knowledge in the model with external knowledge,
like Retrieval-Augmented Generation (RAG) <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib7" title="">2023</a>; Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib18" title="">2020</a>)</cite> in Nature Language Processing.
In BFE problem, we designed BFE’s RAG in two aspects: how to get better prompts; and how to squeeze knowledge on final results.
The first aspect can be considered as getting auto prompts from Proposal Network.
To this end, inputting all human labelled prompts can consider as the most efficient but consuming methods for prompting compared with using Proposal Network.
In other words, human prompting was the ceiling of models can reach, and auto-prompting mode was attempts on how to approach the ceiling.
</p>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">For the second aspect, we are inspired by The Law of Geography <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib40" title="">2018</a>)</cite>: in spatial representation, the information contained is redundant.
In fact, BFE problem can be defined by each two of building segmentation, roof segmentation, offset prediction and facade segmentation, as shown in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div class="ltx_para" id="S1.p9">
<p class="ltx_p" id="S1.p9.1">In summary, the contributions of this paper are as follows:</p>
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\bullet" class="ltx_Math" display="inline" id="S1.I1.ix1.1.1.m1.1"><semantics id="S1.I1.ix1.1.1.m1.1b"><mo id="S1.I1.ix1.1.1.m1.1.1" xref="S1.I1.ix1.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix1.1.1.m1.1c"><ci id="S1.I1.ix1.1.1.m1.1.1.cmml" xref="S1.I1.ix1.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix1.1.1.m1.1d">\bullet</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix1.1.1.m1.1e">∙</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix1.p1">
<p class="ltx_p" id="S1.I1.ix1.p1.1">OBMv2 can extract polygonal building footprint in both prompting and automatic mode.
The process of extract footprint can be divided into vertex task and offset task.
We designed Dynamic Scope Binary Cross Entropy Loss (DS-BCE Loss) for vertex task.
Because of the vertex and offset, OBMv2 is the first model which can directly predict polygonal footprint results via vector operation.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\bullet" class="ltx_Math" display="inline" id="S1.I1.ix2.1.1.m1.1"><semantics id="S1.I1.ix2.1.1.m1.1b"><mo id="S1.I1.ix2.1.1.m1.1.1" xref="S1.I1.ix2.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix2.1.1.m1.1c"><ci id="S1.I1.ix2.1.1.m1.1.1.cmml" xref="S1.I1.ix2.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix2.1.1.m1.1d">\bullet</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix2.1.1.m1.1e">∙</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix2.p1">
<p class="ltx_p" id="S1.I1.ix2.p1.1">Self Offset Attention (SOFA) was proposed to improve offset prediction, which was applicable as a layer for other kinds of offset-based models, such as LOFT.
SOFA block is a learnable module designed based on understandable real-world features, which is a successful case of combining remote sensing experience with machine learning.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math alttext="\bullet" class="ltx_Math" display="inline" id="S1.I1.ix3.1.1.m1.1"><semantics id="S1.I1.ix3.1.1.m1.1b"><mo id="S1.I1.ix3.1.1.m1.1.1" xref="S1.I1.ix3.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix3.1.1.m1.1c"><ci id="S1.I1.ix3.1.1.m1.1.1.cmml" xref="S1.I1.ix3.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix3.1.1.m1.1d">\bullet</annotation><annotation encoding="application/x-llamapun" id="S1.I1.ix3.1.1.m1.1e">∙</annotation></semantics></math></span>
<div class="ltx_para" id="S1.I1.ix3.p1">
<p class="ltx_p" id="S1.I1.ix3.p1.1">We discussed the multiplicity of solutions for BFE problems via different building-related information and integrated with other roof related models.
Then, three methods for solving BEF problem were provided based on utilizing spatial correlation.
Based on these experiments, we found that building segmentation tasks combined with offset are sometimes more suitable for extracting footprints.
Finally, we discussed and concluded such problems as "RAG problem in BFE" to emphasize the meaning of explore promptable BFE models.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">OBMv2 is a multi-task network based on SAM <cite class="ltx_cite ltx_citemacro_citep">(Kirillov et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib15" title="">2023</a>)</cite>, involving prompt segmentation, polygon extraction and offset learning.
SOFA block is designed based on Nadaraya-Watson regression and attention mechanisim.
Then, this paper explores the multi solution of BFE, based on existing geometric relationships and geographical knowledge,
and interative methods to achieve better performance.
In following subsections, we will introduce other application of SAM, polygon building extration and building offset related works to demonstrate the novelty of OBMv2.</p>
</div>
<section class="ltx_subsection ltx_indent_first" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Segment Anything Model and its Application</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">SAM <cite class="ltx_cite ltx_citemacro_citep">(Kirillov et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib15" title="">2023</a>)</cite> is a foundation model for segmentation which supports segmentation with point, bounding boxes and segmantic prompts.
<cite class="ltx_cite ltx_citemacro_cite">Ravi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib29" title="">2024</a>)</cite> proposed SAM 2 for promptable image and video segmentation.
Compared with SAM, SAM 2 has faster inference speed and better accuracy on image and video tasks.
Point to Prompt (P2P) <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib10" title="">2024</a>)</cite> based on SAM can transform point supervision to fine visual prompt via a two-stage interable refinement process.
GaussianVTON <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib2" title="">2024b</a>)</cite> emploied a model based on SAM in post-editing view image after face refinement.
SAM-HQ <cite class="ltx_cite ltx_citemacro_citep">(Ke et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib13" title="">2024</a>)</cite> implemented deconvolution blocks to improve the quality of image embeddings of SAM.
OBM <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> proposed offset tokens and ROAM structure allows SAM to extract footprint masks.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">In this paper, OBMv2 combines the idea of SAM-HQ to provide high quality semantic prompts realized automatic extration.
Additionally, OBMv2 use a newly proposed vertex tokens to extract roof key points.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Polygonal mapping of buildings</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Polygonal mapping of buildings refers to extract vectorized building instances, which are accurate representations of building edges.
<cite class="ltx_cite ltx_citemacro_cite">Douglas and Peucker (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib6" title="">1973</a>)</cite> proposed Douglas-Peucker simplification serial techniques,
but those results of these algorithms are usually rough and cannot represent the high quality edge of buildings.
<cite class="ltx_cite ltx_citemacro_cite">Wei et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib38" title="">2019</a>)</cite> proposed refine strategies using empirical building shapes.
<cite class="ltx_cite ltx_citemacro_cite">Girard et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib8" title="">2021</a>)</cite> using Frame-Field to align the extracted fields with ground truth contours.
<cite class="ltx_cite ltx_citemacro_cite">Zorzi et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib41" title="">2021</a>)</cite> descibe all building polygons in a same image as an undirected graph, and then connecting detected vertices.
Hisup <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib39" title="">2023</a>)</cite> studied the issue of mask reversibility to solve polygonal mapping of buildings.
They use deep convolutional neural netwrks for vertex extraction and then connecting vertices by tracing the boundary pixels from the predicted building segmentations.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">In this paper, OBMv2 proposed vertex token to extract vertices, and connecting them with a similar strategy of Hisup.
Compared with aforementioned, OBMv2 is the first model which can extract polygonal building footprints in off-nadir images.
The footprint polygons will be derived via vector operation.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Offset-based footprint extraction</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">Extracting building footprints with offsets relies on the similarity between roofs and footprints.
<cite class="ltx_cite ltx_citemacro_cite">Christie et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib4" title="">2020</a>)</cite> proposed a method uses a U-Net decoder to give out image-level orientation and pixel-level height values.
Then, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib21" title="">2021</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib22" title="">2024b</a>)</cite> proposed multi-task learning for BFE problem, which allows models to train on dataset with different labels.
LOFT <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite> was proposed, which extracts building footprints in instances segmentation tasks.
In this model, a building footprint is represented by a roof mask and a roof-to-footprint offset.
OBM <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> is the first model which tokenized offset representation and extract building footprints with SAM.</p>
</div>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.1">In this paper, BFE problem was solved not only rely on offset tasks.
Prior knowledges were applied to explore the posibility of using multiple information.
<span class="ltx_text ltx_font_italic" id="S2.SS3.p2.1.1">e.g.</span> how to extract building footprints with building segmentation and offsets?
Or how to extract building footprints with building and roof segmentation?
Finally, OBMv2 was integrated with other models to realize automatic extraction,
and concluded former contexts as "RAG in BFE" to arise attention of researchers.</p>
</div>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">This section describes the methodology of this study.
We will first re-introduce the BFE problem in the first part.
Changes of OBMv2 compared with OBM will be clarified in one section.
Additionally, SOFA and MISS will be introduced in two seperate sections.</p>
</div>
<section class="ltx_subsection ltx_indent_first" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Problem Statement</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.9">In an off-nadir remote sensing image <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.9.1">I</span>, there are <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_N</annotation></semantics></math> buildings represented as <math alttext="\hat{B}=\{\hat{b_{1}},\hat{b_{2}},...,\hat{b_{N}}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.4"><semantics id="S3.SS1.p1.2.m2.4a"><mrow id="S3.SS1.p1.2.m2.4.5" xref="S3.SS1.p1.2.m2.4.5.cmml"><mover accent="true" id="S3.SS1.p1.2.m2.4.5.2" xref="S3.SS1.p1.2.m2.4.5.2.cmml"><mi id="S3.SS1.p1.2.m2.4.5.2.2" xref="S3.SS1.p1.2.m2.4.5.2.2.cmml">B</mi><mo id="S3.SS1.p1.2.m2.4.5.2.1" xref="S3.SS1.p1.2.m2.4.5.2.1.cmml">^</mo></mover><mo id="S3.SS1.p1.2.m2.4.5.1" xref="S3.SS1.p1.2.m2.4.5.1.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.4.5.3.2" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml"><mo id="S3.SS1.p1.2.m2.4.5.3.2.1" stretchy="false" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml">{</mo><mover accent="true" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><msub id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2.2" xref="S3.SS1.p1.2.m2.1.1.2.2.cmml">b</mi><mn id="S3.SS1.p1.2.m2.1.1.2.3" xref="S3.SS1.p1.2.m2.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">^</mo></mover><mo id="S3.SS1.p1.2.m2.4.5.3.2.2" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mover accent="true" id="S3.SS1.p1.2.m2.2.2" xref="S3.SS1.p1.2.m2.2.2.cmml"><msub id="S3.SS1.p1.2.m2.2.2.2" xref="S3.SS1.p1.2.m2.2.2.2.cmml"><mi id="S3.SS1.p1.2.m2.2.2.2.2" xref="S3.SS1.p1.2.m2.2.2.2.2.cmml">b</mi><mn id="S3.SS1.p1.2.m2.2.2.2.3" xref="S3.SS1.p1.2.m2.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.2.m2.2.2.1" xref="S3.SS1.p1.2.m2.2.2.1.cmml">^</mo></mover><mo id="S3.SS1.p1.2.m2.4.5.3.2.3" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mi id="S3.SS1.p1.2.m2.3.3" mathvariant="normal" xref="S3.SS1.p1.2.m2.3.3.cmml">…</mi><mo id="S3.SS1.p1.2.m2.4.5.3.2.4" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml">,</mo><mover accent="true" id="S3.SS1.p1.2.m2.4.4" xref="S3.SS1.p1.2.m2.4.4.cmml"><msub id="S3.SS1.p1.2.m2.4.4.2" xref="S3.SS1.p1.2.m2.4.4.2.cmml"><mi id="S3.SS1.p1.2.m2.4.4.2.2" xref="S3.SS1.p1.2.m2.4.4.2.2.cmml">b</mi><mi id="S3.SS1.p1.2.m2.4.4.2.3" xref="S3.SS1.p1.2.m2.4.4.2.3.cmml">N</mi></msub><mo id="S3.SS1.p1.2.m2.4.4.1" xref="S3.SS1.p1.2.m2.4.4.1.cmml">^</mo></mover><mo id="S3.SS1.p1.2.m2.4.5.3.2.5" stretchy="false" xref="S3.SS1.p1.2.m2.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.4b"><apply id="S3.SS1.p1.2.m2.4.5.cmml" xref="S3.SS1.p1.2.m2.4.5"><eq id="S3.SS1.p1.2.m2.4.5.1.cmml" xref="S3.SS1.p1.2.m2.4.5.1"></eq><apply id="S3.SS1.p1.2.m2.4.5.2.cmml" xref="S3.SS1.p1.2.m2.4.5.2"><ci id="S3.SS1.p1.2.m2.4.5.2.1.cmml" xref="S3.SS1.p1.2.m2.4.5.2.1">^</ci><ci id="S3.SS1.p1.2.m2.4.5.2.2.cmml" xref="S3.SS1.p1.2.m2.4.5.2.2">𝐵</ci></apply><set id="S3.SS1.p1.2.m2.4.5.3.1.cmml" xref="S3.SS1.p1.2.m2.4.5.3.2"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><ci id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1">^</ci><apply id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2.2">𝑏</ci><cn id="S3.SS1.p1.2.m2.1.1.2.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.1.1.2.3">1</cn></apply></apply><apply id="S3.SS1.p1.2.m2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2"><ci id="S3.SS1.p1.2.m2.2.2.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1">^</ci><apply id="S3.SS1.p1.2.m2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.2.1.cmml" xref="S3.SS1.p1.2.m2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2.2.2">𝑏</ci><cn id="S3.SS1.p1.2.m2.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.2.2.2.3">2</cn></apply></apply><ci id="S3.SS1.p1.2.m2.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3">…</ci><apply id="S3.SS1.p1.2.m2.4.4.cmml" xref="S3.SS1.p1.2.m2.4.4"><ci id="S3.SS1.p1.2.m2.4.4.1.cmml" xref="S3.SS1.p1.2.m2.4.4.1">^</ci><apply id="S3.SS1.p1.2.m2.4.4.2.cmml" xref="S3.SS1.p1.2.m2.4.4.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.4.4.2.1.cmml" xref="S3.SS1.p1.2.m2.4.4.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.4.4.2.2.cmml" xref="S3.SS1.p1.2.m2.4.4.2.2">𝑏</ci><ci id="S3.SS1.p1.2.m2.4.4.2.3.cmml" xref="S3.SS1.p1.2.m2.4.4.2.3">𝑁</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.4c">\hat{B}=\{\hat{b_{1}},\hat{b_{2}},...,\hat{b_{N}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.4d">over^ start_ARG italic_B end_ARG = { over^ start_ARG italic_b start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG , over^ start_ARG italic_b start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_ARG , … , over^ start_ARG italic_b start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT end_ARG }</annotation></semantics></math>.
BFE problem is to identify all the building footprints <math alttext="F=\{f_{1},f_{2},...,f_{N}\}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.4"><semantics id="S3.SS1.p1.3.m3.4a"><mrow id="S3.SS1.p1.3.m3.4.4" xref="S3.SS1.p1.3.m3.4.4.cmml"><mi id="S3.SS1.p1.3.m3.4.4.5" xref="S3.SS1.p1.3.m3.4.4.5.cmml">F</mi><mo id="S3.SS1.p1.3.m3.4.4.4" xref="S3.SS1.p1.3.m3.4.4.4.cmml">=</mo><mrow id="S3.SS1.p1.3.m3.4.4.3.3" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml"><mo id="S3.SS1.p1.3.m3.4.4.3.3.4" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">{</mo><msub id="S3.SS1.p1.3.m3.2.2.1.1.1" xref="S3.SS1.p1.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p1.3.m3.2.2.1.1.1.2" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml">f</mi><mn id="S3.SS1.p1.3.m3.2.2.1.1.1.3" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.5" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.3.3.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.3.3.2.2.2.2" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml">f</mi><mn id="S3.SS1.p1.3.m3.3.3.2.2.2.3" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.6" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><mi id="S3.SS1.p1.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p1.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p1.3.m3.4.4.3.3.7" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">,</mo><msub id="S3.SS1.p1.3.m3.4.4.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.cmml"><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.2" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml">f</mi><mi id="S3.SS1.p1.3.m3.4.4.3.3.3.3" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml">N</mi></msub><mo id="S3.SS1.p1.3.m3.4.4.3.3.8" stretchy="false" xref="S3.SS1.p1.3.m3.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.4b"><apply id="S3.SS1.p1.3.m3.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4"><eq id="S3.SS1.p1.3.m3.4.4.4.cmml" xref="S3.SS1.p1.3.m3.4.4.4"></eq><ci id="S3.SS1.p1.3.m3.4.4.5.cmml" xref="S3.SS1.p1.3.m3.4.4.5">𝐹</ci><set id="S3.SS1.p1.3.m3.4.4.3.4.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3"><apply id="S3.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.2.2.1.1.1.2">𝑓</ci><cn id="S3.SS1.p1.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.2.2.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.3.3.2.2.2.2">𝑓</ci><cn id="S3.SS1.p1.3.m3.3.3.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.3.3.2.2.2.3">2</cn></apply><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">…</ci><apply id="S3.SS1.p1.3.m3.4.4.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.4.4.3.3.3.1.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.2.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.2">𝑓</ci><ci id="S3.SS1.p1.3.m3.4.4.3.3.3.3.cmml" xref="S3.SS1.p1.3.m3.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.4c">F=\{f_{1},f_{2},...,f_{N}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.4d">italic_F = { italic_f start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_f start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT }</annotation></semantics></math>.
In OBM, each <math alttext="\hat{b_{i}}" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mover accent="true" id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><msub id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2.2" xref="S3.SS1.p1.4.m4.1.1.2.2.cmml">b</mi><mi id="S3.SS1.p1.4.m4.1.1.2.3" xref="S3.SS1.p1.4.m4.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.4.m4.1.1.1" xref="S3.SS1.p1.4.m4.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><ci id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1.1">^</ci><apply id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.2.1.cmml" xref="S3.SS1.p1.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2.2">𝑏</ci><ci id="S3.SS1.p1.4.m4.1.1.2.3.cmml" xref="S3.SS1.p1.4.m4.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\hat{b_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">over^ start_ARG italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math> will be represented by a corresponding prompt <math alttext="p_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">p</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">𝑝</ci><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="p_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">p</mi><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝑝</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> will interactively be inputed to the model with the image <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.9.2">I</span>.
Then, the model will label out roof segmentation <math alttext="r_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><msub id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml"><mi id="S3.SS1.p1.7.m7.1.1.2" xref="S3.SS1.p1.7.m7.1.1.2.cmml">r</mi><mi id="S3.SS1.p1.7.m7.1.1.3" xref="S3.SS1.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><apply id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.7.m7.1.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p1.7.m7.1.1.2.cmml" xref="S3.SS1.p1.7.m7.1.1.2">𝑟</ci><ci id="S3.SS1.p1.7.m7.1.1.3.cmml" xref="S3.SS1.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and roof-to-footprint offset <math alttext="o_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">o</mi><mi id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝑜</ci><ci id="S3.SS1.p1.8.m8.1.1.3.cmml" xref="S3.SS1.p1.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. The <math alttext="f_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><msub id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">f</mi><mi id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m9.1.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝑓</ci><ci id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">f_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> can be found via dragging the roof mask via offset in the evaluation stage.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.5">Different from OBM, <math alttext="p_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">p</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝑝</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in this paper can be empty and OBMv2 supports automatic prediction and can directly give out the footprint polygon.
OBMv2 newly adds a roof vertex segmentation task, to extract <math alttext="v_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">v</mi><mi id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑣</ci><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for <math alttext="\hat{b_{i}}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mover accent="true" id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><msub id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2.2" xref="S3.SS1.p2.3.m3.1.1.2.2.cmml">b</mi><mi id="S3.SS1.p2.3.m3.1.1.2.3" xref="S3.SS1.p2.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS1.p2.3.m3.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><ci id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1">^</ci><apply id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.2.1.cmml" xref="S3.SS1.p2.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2.2">𝑏</ci><ci id="S3.SS1.p2.3.m3.1.1.2.3.cmml" xref="S3.SS1.p2.3.m3.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\hat{b_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">over^ start_ARG italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>, and re-focus on building body’s segmentation <math alttext="b_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">b</mi><mi id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑏</ci><ci id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">b_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for MISS.
In OBMv2, <math alttext="p_{i}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">p</mi><mi id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2">𝑝</ci><ci id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> was particularly designed to use roof related prompts,
which is also different from OBM, as roof prompting in off-nadir will have less semantic overlapping.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">In summary, OBMv2 additionally focused on two prompt-level segmentation and a global semantic segmentation task for prompting:
(1) prompt-level roof vertex segmentation task; (2) prompt-level building segmentation; (3) roof semantic segmentation.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Self Offset Attention (SOFA)</h3>
<figure class="ltx_figure" id="S3.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="348" id="S3.F2.g1" src="x2.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>This figure illustrates main structures of OBMv2 amd SOFA.
In (a), OBMv2 newly added Proposal Networks which allow model automaticly extract buildings.
In prompt level, a roof vertex task was added, and the model can directly compute the location of roof vertex.
Footprint polygon is calculated directly on the coordinate.
SOFA structure is inserted into the original Reference Offset Augment Module (ROAM).
In (b), we provide detailed SOFA block.
Encoded offset once outputted from Feed Forward Networ (FFN) will feed to SOFA.
Then, adjusted encoded offsets will be passed to offset coders. </figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1"><cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> noticed an interesting phenomenon in experiments:
all applied model in prompt mode performed better in buildings with significant offset compared with lower buildings.
Based on this prior experience, DNMS and soft DNMS were designed by <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite>.
These algorithms worked as a postprocessing method to correct offsets.
So, they have to use OpenCV operators <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://github.com/opencv/opencv</span></span></span> to process the roofs and offsets to get the final footprint masks.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">In this paper, we proposed a trainable Self Offset Attention (SOFA) via Nadaraya-Watson Regression <cite class="ltx_cite ltx_citemacro_citep">(Nadaraya, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib25" title="">1964</a>; Watson, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib37" title="">1964</a>)</cite>
and Look-Ahead Masking <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib33" title="">2017</a>)</cite> in Nature Language Processing (NLP) for aforementioned phenomenon.
The diagram of SOFA was plotted in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.F2" title="Figure 2 ‣ 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a>
In machine learning, the nature of attention layer can be understood as a pooling layer.
The mission of SOFA is to accumulate offset knowledge in longer offsets.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.10">To introduce SOFA, we start with Nadaraya-Watson Kernal Regression.
Nadaraya-Watson Kernal Pooling can be expressed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="f(x)=\sum_{i=1}^{n}\frac{\mathcal{K}(x-x_{i})}{\sum_{j=1}^{n}\mathcal{K}(x-x_{%
j})}y_{i}\\
" class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.4" xref="S3.E1.m1.3.4.cmml"><mrow id="S3.E1.m1.3.4.2" xref="S3.E1.m1.3.4.2.cmml"><mi id="S3.E1.m1.3.4.2.2" xref="S3.E1.m1.3.4.2.2.cmml">f</mi><mo id="S3.E1.m1.3.4.2.1" xref="S3.E1.m1.3.4.2.1.cmml">⁢</mo><mrow id="S3.E1.m1.3.4.2.3.2" xref="S3.E1.m1.3.4.2.cmml"><mo id="S3.E1.m1.3.4.2.3.2.1" stretchy="false" xref="S3.E1.m1.3.4.2.cmml">(</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">x</mi><mo id="S3.E1.m1.3.4.2.3.2.2" stretchy="false" xref="S3.E1.m1.3.4.2.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.3.4.1" rspace="0.111em" xref="S3.E1.m1.3.4.1.cmml">=</mo><mrow id="S3.E1.m1.3.4.3" xref="S3.E1.m1.3.4.3.cmml"><munderover id="S3.E1.m1.3.4.3.1" xref="S3.E1.m1.3.4.3.1.cmml"><mo id="S3.E1.m1.3.4.3.1.2.2" movablelimits="false" xref="S3.E1.m1.3.4.3.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.3.4.3.1.2.3" xref="S3.E1.m1.3.4.3.1.2.3.cmml"><mi id="S3.E1.m1.3.4.3.1.2.3.2" xref="S3.E1.m1.3.4.3.1.2.3.2.cmml">i</mi><mo id="S3.E1.m1.3.4.3.1.2.3.1" xref="S3.E1.m1.3.4.3.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.3.4.3.1.2.3.3" xref="S3.E1.m1.3.4.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.3.4.3.1.3" xref="S3.E1.m1.3.4.3.1.3.cmml">n</mi></munderover><mrow id="S3.E1.m1.3.4.3.2" xref="S3.E1.m1.3.4.3.2.cmml"><mfrac id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml"><mrow id="S3.E1.m1.1.1.1" xref="S3.E1.m1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.1.1.1.3.cmml">𝒦</mi><mo id="S3.E1.m1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.1.2.cmml">x</mi><mo id="S3.E1.m1.1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E1.m1.1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E1.m1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.2.cmml"><msubsup id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml"><mo id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.2.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.2.3.cmml"><mi id="S3.E1.m1.2.2.2.2.2.3.2" xref="S3.E1.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="S3.E1.m1.2.2.2.2.2.3.1" xref="S3.E1.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.2.2.2.2.2.3.3" xref="S3.E1.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.2.2.2.2.3" xref="S3.E1.m1.2.2.2.2.3.cmml">n</mi></msubsup><mrow id="S3.E1.m1.2.2.2.1" xref="S3.E1.m1.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.2.1.3" xref="S3.E1.m1.2.2.2.1.3.cmml">𝒦</mi><mo id="S3.E1.m1.2.2.2.1.2" xref="S3.E1.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.2.2.2.1.1.1" xref="S3.E1.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E1.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E1.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.2.2.2.1.1.1.1" xref="S3.E1.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.2.1.1.1.1.2" xref="S3.E1.m1.2.2.2.1.1.1.1.2.cmml">x</mi><mo id="S3.E1.m1.2.2.2.1.1.1.1.1" xref="S3.E1.m1.2.2.2.1.1.1.1.1.cmml">−</mo><msub id="S3.E1.m1.2.2.2.1.1.1.1.3" xref="S3.E1.m1.2.2.2.1.1.1.1.3.cmml"><mi id="S3.E1.m1.2.2.2.1.1.1.1.3.2" xref="S3.E1.m1.2.2.2.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E1.m1.2.2.2.1.1.1.1.3.3" xref="S3.E1.m1.2.2.2.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S3.E1.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E1.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac><mo id="S3.E1.m1.3.4.3.2.1" xref="S3.E1.m1.3.4.3.2.1.cmml">⁢</mo><msub id="S3.E1.m1.3.4.3.2.2" xref="S3.E1.m1.3.4.3.2.2.cmml"><mi id="S3.E1.m1.3.4.3.2.2.2" xref="S3.E1.m1.3.4.3.2.2.2.cmml">y</mi><mi id="S3.E1.m1.3.4.3.2.2.3" xref="S3.E1.m1.3.4.3.2.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.4.cmml" xref="S3.E1.m1.3.4"><eq id="S3.E1.m1.3.4.1.cmml" xref="S3.E1.m1.3.4.1"></eq><apply id="S3.E1.m1.3.4.2.cmml" xref="S3.E1.m1.3.4.2"><times id="S3.E1.m1.3.4.2.1.cmml" xref="S3.E1.m1.3.4.2.1"></times><ci id="S3.E1.m1.3.4.2.2.cmml" xref="S3.E1.m1.3.4.2.2">𝑓</ci><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝑥</ci></apply><apply id="S3.E1.m1.3.4.3.cmml" xref="S3.E1.m1.3.4.3"><apply id="S3.E1.m1.3.4.3.1.cmml" xref="S3.E1.m1.3.4.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.4.3.1.1.cmml" xref="S3.E1.m1.3.4.3.1">superscript</csymbol><apply id="S3.E1.m1.3.4.3.1.2.cmml" xref="S3.E1.m1.3.4.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.4.3.1.2.1.cmml" xref="S3.E1.m1.3.4.3.1">subscript</csymbol><sum id="S3.E1.m1.3.4.3.1.2.2.cmml" xref="S3.E1.m1.3.4.3.1.2.2"></sum><apply id="S3.E1.m1.3.4.3.1.2.3.cmml" xref="S3.E1.m1.3.4.3.1.2.3"><eq id="S3.E1.m1.3.4.3.1.2.3.1.cmml" xref="S3.E1.m1.3.4.3.1.2.3.1"></eq><ci id="S3.E1.m1.3.4.3.1.2.3.2.cmml" xref="S3.E1.m1.3.4.3.1.2.3.2">𝑖</ci><cn id="S3.E1.m1.3.4.3.1.2.3.3.cmml" type="integer" xref="S3.E1.m1.3.4.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.3.4.3.1.3.cmml" xref="S3.E1.m1.3.4.3.1.3">𝑛</ci></apply><apply id="S3.E1.m1.3.4.3.2.cmml" xref="S3.E1.m1.3.4.3.2"><times id="S3.E1.m1.3.4.3.2.1.cmml" xref="S3.E1.m1.3.4.3.2.1"></times><apply id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2"><divide id="S3.E1.m1.2.2.3.cmml" xref="S3.E1.m1.2.2"></divide><apply id="S3.E1.m1.1.1.1.cmml" xref="S3.E1.m1.1.1.1"><times id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.2"></times><ci id="S3.E1.m1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.3">𝒦</ci><apply id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><minus id="S3.E1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.1"></minus><ci id="S3.E1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.2">𝑥</ci><apply id="S3.E1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3.2">𝑥</ci><ci id="S3.E1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E1.m1.2.2.2.cmml" xref="S3.E1.m1.2.2.2"><apply id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2">superscript</csymbol><apply id="S3.E1.m1.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.2">subscript</csymbol><sum id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2"></sum><apply id="S3.E1.m1.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.3"><eq id="S3.E1.m1.2.2.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.2.2.2.3.1"></eq><ci id="S3.E1.m1.2.2.2.2.2.3.2.cmml" xref="S3.E1.m1.2.2.2.2.2.3.2">𝑗</ci><cn id="S3.E1.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="S3.E1.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.3">𝑛</ci></apply><apply id="S3.E1.m1.2.2.2.1.cmml" xref="S3.E1.m1.2.2.2.1"><times id="S3.E1.m1.2.2.2.1.2.cmml" xref="S3.E1.m1.2.2.2.1.2"></times><ci id="S3.E1.m1.2.2.2.1.3.cmml" xref="S3.E1.m1.2.2.2.1.3">𝒦</ci><apply id="S3.E1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E1.m1.2.2.2.1.1.1"><minus id="S3.E1.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.1"></minus><ci id="S3.E1.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.2">𝑥</ci><apply id="S3.E1.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.1.1.1.1.3.1.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.2.1.1.1.1.3.2.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.3.2">𝑥</ci><ci id="S3.E1.m1.2.2.2.1.1.1.1.3.3.cmml" xref="S3.E1.m1.2.2.2.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.E1.m1.3.4.3.2.2.cmml" xref="S3.E1.m1.3.4.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.4.3.2.2.1.cmml" xref="S3.E1.m1.3.4.3.2.2">subscript</csymbol><ci id="S3.E1.m1.3.4.3.2.2.2.cmml" xref="S3.E1.m1.3.4.3.2.2.2">𝑦</ci><ci id="S3.E1.m1.3.4.3.2.2.3.cmml" xref="S3.E1.m1.3.4.3.2.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">f(x)=\sum_{i=1}^{n}\frac{\mathcal{K}(x-x_{i})}{\sum_{j=1}^{n}\mathcal{K}(x-x_{%
j})}y_{i}\\
</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">italic_f ( italic_x ) = ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG caligraphic_K ( italic_x - italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT caligraphic_K ( italic_x - italic_x start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) end_ARG italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p3.9">In Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.E1" title="In 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>, <math alttext="f" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><mi id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_f</annotation></semantics></math> represents the Nadaraya-Watson Kernal Regression. <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><ci id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">caligraphic_K</annotation></semantics></math> represents kernal used in regression.
If <math alttext="f" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><mi id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><ci id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_f</annotation></semantics></math> was described in Transformer, <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><mi id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_x</annotation></semantics></math> denotes the input <math alttext="query" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mrow id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml">q</mi><mo id="S3.SS2.p3.5.m5.1.1.1" xref="S3.SS2.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml">u</mi><mo id="S3.SS2.p3.5.m5.1.1.1a" xref="S3.SS2.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.4" xref="S3.SS2.p3.5.m5.1.1.4.cmml">e</mi><mo id="S3.SS2.p3.5.m5.1.1.1b" xref="S3.SS2.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.5" xref="S3.SS2.p3.5.m5.1.1.5.cmml">r</mi><mo id="S3.SS2.p3.5.m5.1.1.1c" xref="S3.SS2.p3.5.m5.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.5.m5.1.1.6" xref="S3.SS2.p3.5.m5.1.1.6.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><times id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1.1"></times><ci id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">𝑞</ci><ci id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3">𝑢</ci><ci id="S3.SS2.p3.5.m5.1.1.4.cmml" xref="S3.SS2.p3.5.m5.1.1.4">𝑒</ci><ci id="S3.SS2.p3.5.m5.1.1.5.cmml" xref="S3.SS2.p3.5.m5.1.1.5">𝑟</ci><ci id="S3.SS2.p3.5.m5.1.1.6.cmml" xref="S3.SS2.p3.5.m5.1.1.6">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">query</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_q italic_u italic_e italic_r italic_y</annotation></semantics></math>; <math alttext="\{x_{1},x_{2},...,x_{n}\}" class="ltx_Math" display="inline" id="S3.SS2.p3.6.m6.4"><semantics id="S3.SS2.p3.6.m6.4a"><mrow id="S3.SS2.p3.6.m6.4.4.3" xref="S3.SS2.p3.6.m6.4.4.4.cmml"><mo id="S3.SS2.p3.6.m6.4.4.3.4" stretchy="false" xref="S3.SS2.p3.6.m6.4.4.4.cmml">{</mo><msub id="S3.SS2.p3.6.m6.2.2.1.1" xref="S3.SS2.p3.6.m6.2.2.1.1.cmml"><mi id="S3.SS2.p3.6.m6.2.2.1.1.2" xref="S3.SS2.p3.6.m6.2.2.1.1.2.cmml">x</mi><mn id="S3.SS2.p3.6.m6.2.2.1.1.3" xref="S3.SS2.p3.6.m6.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p3.6.m6.4.4.3.5" xref="S3.SS2.p3.6.m6.4.4.4.cmml">,</mo><msub id="S3.SS2.p3.6.m6.3.3.2.2" xref="S3.SS2.p3.6.m6.3.3.2.2.cmml"><mi id="S3.SS2.p3.6.m6.3.3.2.2.2" xref="S3.SS2.p3.6.m6.3.3.2.2.2.cmml">x</mi><mn id="S3.SS2.p3.6.m6.3.3.2.2.3" xref="S3.SS2.p3.6.m6.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p3.6.m6.4.4.3.6" xref="S3.SS2.p3.6.m6.4.4.4.cmml">,</mo><mi id="S3.SS2.p3.6.m6.1.1" mathvariant="normal" xref="S3.SS2.p3.6.m6.1.1.cmml">…</mi><mo id="S3.SS2.p3.6.m6.4.4.3.7" xref="S3.SS2.p3.6.m6.4.4.4.cmml">,</mo><msub id="S3.SS2.p3.6.m6.4.4.3.3" xref="S3.SS2.p3.6.m6.4.4.3.3.cmml"><mi id="S3.SS2.p3.6.m6.4.4.3.3.2" xref="S3.SS2.p3.6.m6.4.4.3.3.2.cmml">x</mi><mi id="S3.SS2.p3.6.m6.4.4.3.3.3" xref="S3.SS2.p3.6.m6.4.4.3.3.3.cmml">n</mi></msub><mo id="S3.SS2.p3.6.m6.4.4.3.8" stretchy="false" xref="S3.SS2.p3.6.m6.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.4b"><set id="S3.SS2.p3.6.m6.4.4.4.cmml" xref="S3.SS2.p3.6.m6.4.4.3"><apply id="S3.SS2.p3.6.m6.2.2.1.1.cmml" xref="S3.SS2.p3.6.m6.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.2.2.1.1.1.cmml" xref="S3.SS2.p3.6.m6.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p3.6.m6.2.2.1.1.2.cmml" xref="S3.SS2.p3.6.m6.2.2.1.1.2">𝑥</ci><cn id="S3.SS2.p3.6.m6.2.2.1.1.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p3.6.m6.3.3.2.2.cmml" xref="S3.SS2.p3.6.m6.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.3.3.2.2.1.cmml" xref="S3.SS2.p3.6.m6.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p3.6.m6.3.3.2.2.2.cmml" xref="S3.SS2.p3.6.m6.3.3.2.2.2">𝑥</ci><cn id="S3.SS2.p3.6.m6.3.3.2.2.3.cmml" type="integer" xref="S3.SS2.p3.6.m6.3.3.2.2.3">2</cn></apply><ci id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">…</ci><apply id="S3.SS2.p3.6.m6.4.4.3.3.cmml" xref="S3.SS2.p3.6.m6.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.4.4.3.3.1.cmml" xref="S3.SS2.p3.6.m6.4.4.3.3">subscript</csymbol><ci id="S3.SS2.p3.6.m6.4.4.3.3.2.cmml" xref="S3.SS2.p3.6.m6.4.4.3.3.2">𝑥</ci><ci id="S3.SS2.p3.6.m6.4.4.3.3.3.cmml" xref="S3.SS2.p3.6.m6.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.4c">\{x_{1},x_{2},...,x_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.6.m6.4d">{ italic_x start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_x start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> denotes <math alttext="key" class="ltx_Math" display="inline" id="S3.SS2.p3.7.m7.1"><semantics id="S3.SS2.p3.7.m7.1a"><mrow id="S3.SS2.p3.7.m7.1.1" xref="S3.SS2.p3.7.m7.1.1.cmml"><mi id="S3.SS2.p3.7.m7.1.1.2" xref="S3.SS2.p3.7.m7.1.1.2.cmml">k</mi><mo id="S3.SS2.p3.7.m7.1.1.1" xref="S3.SS2.p3.7.m7.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.7.m7.1.1.3" xref="S3.SS2.p3.7.m7.1.1.3.cmml">e</mi><mo id="S3.SS2.p3.7.m7.1.1.1a" xref="S3.SS2.p3.7.m7.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.7.m7.1.1.4" xref="S3.SS2.p3.7.m7.1.1.4.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.1b"><apply id="S3.SS2.p3.7.m7.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1"><times id="S3.SS2.p3.7.m7.1.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1.1"></times><ci id="S3.SS2.p3.7.m7.1.1.2.cmml" xref="S3.SS2.p3.7.m7.1.1.2">𝑘</ci><ci id="S3.SS2.p3.7.m7.1.1.3.cmml" xref="S3.SS2.p3.7.m7.1.1.3">𝑒</ci><ci id="S3.SS2.p3.7.m7.1.1.4.cmml" xref="S3.SS2.p3.7.m7.1.1.4">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.1c">key</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.7.m7.1d">italic_k italic_e italic_y</annotation></semantics></math>; <math alttext="\{y_{1},y_{2},...,y_{n}\}" class="ltx_Math" display="inline" id="S3.SS2.p3.8.m8.4"><semantics id="S3.SS2.p3.8.m8.4a"><mrow id="S3.SS2.p3.8.m8.4.4.3" xref="S3.SS2.p3.8.m8.4.4.4.cmml"><mo id="S3.SS2.p3.8.m8.4.4.3.4" stretchy="false" xref="S3.SS2.p3.8.m8.4.4.4.cmml">{</mo><msub id="S3.SS2.p3.8.m8.2.2.1.1" xref="S3.SS2.p3.8.m8.2.2.1.1.cmml"><mi id="S3.SS2.p3.8.m8.2.2.1.1.2" xref="S3.SS2.p3.8.m8.2.2.1.1.2.cmml">y</mi><mn id="S3.SS2.p3.8.m8.2.2.1.1.3" xref="S3.SS2.p3.8.m8.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p3.8.m8.4.4.3.5" xref="S3.SS2.p3.8.m8.4.4.4.cmml">,</mo><msub id="S3.SS2.p3.8.m8.3.3.2.2" xref="S3.SS2.p3.8.m8.3.3.2.2.cmml"><mi id="S3.SS2.p3.8.m8.3.3.2.2.2" xref="S3.SS2.p3.8.m8.3.3.2.2.2.cmml">y</mi><mn id="S3.SS2.p3.8.m8.3.3.2.2.3" xref="S3.SS2.p3.8.m8.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p3.8.m8.4.4.3.6" xref="S3.SS2.p3.8.m8.4.4.4.cmml">,</mo><mi id="S3.SS2.p3.8.m8.1.1" mathvariant="normal" xref="S3.SS2.p3.8.m8.1.1.cmml">…</mi><mo id="S3.SS2.p3.8.m8.4.4.3.7" xref="S3.SS2.p3.8.m8.4.4.4.cmml">,</mo><msub id="S3.SS2.p3.8.m8.4.4.3.3" xref="S3.SS2.p3.8.m8.4.4.3.3.cmml"><mi id="S3.SS2.p3.8.m8.4.4.3.3.2" xref="S3.SS2.p3.8.m8.4.4.3.3.2.cmml">y</mi><mi id="S3.SS2.p3.8.m8.4.4.3.3.3" xref="S3.SS2.p3.8.m8.4.4.3.3.3.cmml">n</mi></msub><mo id="S3.SS2.p3.8.m8.4.4.3.8" stretchy="false" xref="S3.SS2.p3.8.m8.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m8.4b"><set id="S3.SS2.p3.8.m8.4.4.4.cmml" xref="S3.SS2.p3.8.m8.4.4.3"><apply id="S3.SS2.p3.8.m8.2.2.1.1.cmml" xref="S3.SS2.p3.8.m8.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.2.2.1.1.1.cmml" xref="S3.SS2.p3.8.m8.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p3.8.m8.2.2.1.1.2.cmml" xref="S3.SS2.p3.8.m8.2.2.1.1.2">𝑦</ci><cn id="S3.SS2.p3.8.m8.2.2.1.1.3.cmml" type="integer" xref="S3.SS2.p3.8.m8.2.2.1.1.3">1</cn></apply><apply id="S3.SS2.p3.8.m8.3.3.2.2.cmml" xref="S3.SS2.p3.8.m8.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.3.3.2.2.1.cmml" xref="S3.SS2.p3.8.m8.3.3.2.2">subscript</csymbol><ci id="S3.SS2.p3.8.m8.3.3.2.2.2.cmml" xref="S3.SS2.p3.8.m8.3.3.2.2.2">𝑦</ci><cn id="S3.SS2.p3.8.m8.3.3.2.2.3.cmml" type="integer" xref="S3.SS2.p3.8.m8.3.3.2.2.3">2</cn></apply><ci id="S3.SS2.p3.8.m8.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1">…</ci><apply id="S3.SS2.p3.8.m8.4.4.3.3.cmml" xref="S3.SS2.p3.8.m8.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.4.4.3.3.1.cmml" xref="S3.SS2.p3.8.m8.4.4.3.3">subscript</csymbol><ci id="S3.SS2.p3.8.m8.4.4.3.3.2.cmml" xref="S3.SS2.p3.8.m8.4.4.3.3.2">𝑦</ci><ci id="S3.SS2.p3.8.m8.4.4.3.3.3.cmml" xref="S3.SS2.p3.8.m8.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m8.4c">\{y_{1},y_{2},...,y_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.8.m8.4d">{ italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_y start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> denotes <math alttext="value" class="ltx_Math" display="inline" id="S3.SS2.p3.9.m9.1"><semantics id="S3.SS2.p3.9.m9.1a"><mrow id="S3.SS2.p3.9.m9.1.1" xref="S3.SS2.p3.9.m9.1.1.cmml"><mi id="S3.SS2.p3.9.m9.1.1.2" xref="S3.SS2.p3.9.m9.1.1.2.cmml">v</mi><mo id="S3.SS2.p3.9.m9.1.1.1" xref="S3.SS2.p3.9.m9.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.9.m9.1.1.3" xref="S3.SS2.p3.9.m9.1.1.3.cmml">a</mi><mo id="S3.SS2.p3.9.m9.1.1.1a" xref="S3.SS2.p3.9.m9.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.9.m9.1.1.4" xref="S3.SS2.p3.9.m9.1.1.4.cmml">l</mi><mo id="S3.SS2.p3.9.m9.1.1.1b" xref="S3.SS2.p3.9.m9.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.9.m9.1.1.5" xref="S3.SS2.p3.9.m9.1.1.5.cmml">u</mi><mo id="S3.SS2.p3.9.m9.1.1.1c" xref="S3.SS2.p3.9.m9.1.1.1.cmml">⁢</mo><mi id="S3.SS2.p3.9.m9.1.1.6" xref="S3.SS2.p3.9.m9.1.1.6.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m9.1b"><apply id="S3.SS2.p3.9.m9.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1"><times id="S3.SS2.p3.9.m9.1.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1.1"></times><ci id="S3.SS2.p3.9.m9.1.1.2.cmml" xref="S3.SS2.p3.9.m9.1.1.2">𝑣</ci><ci id="S3.SS2.p3.9.m9.1.1.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3">𝑎</ci><ci id="S3.SS2.p3.9.m9.1.1.4.cmml" xref="S3.SS2.p3.9.m9.1.1.4">𝑙</ci><ci id="S3.SS2.p3.9.m9.1.1.5.cmml" xref="S3.SS2.p3.9.m9.1.1.5">𝑢</ci><ci id="S3.SS2.p3.9.m9.1.1.6.cmml" xref="S3.SS2.p3.9.m9.1.1.6">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m9.1c">value</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.9.m9.1d">italic_v italic_a italic_l italic_u italic_e</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.6">In BFE problem, our prior knowledge tells us: longer offsets tend to have better direction. Therefore, Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.E1" title="In 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a> is translated as Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.E2" title="In 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\dot{\alpha}=f(\rho,\alpha)=\sum_{i=1}^{n}\frac{\mathcal{K}(\rho-\rho_{i})}{%
\sum_{j=1}^{n}\mathcal{K}(\rho-\rho_{j})}\alpha_{i}\\
" class="ltx_Math" display="block" id="S3.E2.m1.4"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.5" xref="S3.E2.m1.4.5.cmml"><mover accent="true" id="S3.E2.m1.4.5.2" xref="S3.E2.m1.4.5.2.cmml"><mi id="S3.E2.m1.4.5.2.2" xref="S3.E2.m1.4.5.2.2.cmml">α</mi><mo id="S3.E2.m1.4.5.2.1" xref="S3.E2.m1.4.5.2.1.cmml">˙</mo></mover><mo id="S3.E2.m1.4.5.3" xref="S3.E2.m1.4.5.3.cmml">=</mo><mrow id="S3.E2.m1.4.5.4" xref="S3.E2.m1.4.5.4.cmml"><mi id="S3.E2.m1.4.5.4.2" xref="S3.E2.m1.4.5.4.2.cmml">f</mi><mo id="S3.E2.m1.4.5.4.1" xref="S3.E2.m1.4.5.4.1.cmml">⁢</mo><mrow id="S3.E2.m1.4.5.4.3.2" xref="S3.E2.m1.4.5.4.3.1.cmml"><mo id="S3.E2.m1.4.5.4.3.2.1" stretchy="false" xref="S3.E2.m1.4.5.4.3.1.cmml">(</mo><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">ρ</mi><mo id="S3.E2.m1.4.5.4.3.2.2" xref="S3.E2.m1.4.5.4.3.1.cmml">,</mo><mi id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml">α</mi><mo id="S3.E2.m1.4.5.4.3.2.3" stretchy="false" xref="S3.E2.m1.4.5.4.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.5.5" rspace="0.111em" xref="S3.E2.m1.4.5.5.cmml">=</mo><mrow id="S3.E2.m1.4.5.6" xref="S3.E2.m1.4.5.6.cmml"><munderover id="S3.E2.m1.4.5.6.1" xref="S3.E2.m1.4.5.6.1.cmml"><mo id="S3.E2.m1.4.5.6.1.2.2" movablelimits="false" xref="S3.E2.m1.4.5.6.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.4.5.6.1.2.3" xref="S3.E2.m1.4.5.6.1.2.3.cmml"><mi id="S3.E2.m1.4.5.6.1.2.3.2" xref="S3.E2.m1.4.5.6.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.4.5.6.1.2.3.1" xref="S3.E2.m1.4.5.6.1.2.3.1.cmml">=</mo><mn id="S3.E2.m1.4.5.6.1.2.3.3" xref="S3.E2.m1.4.5.6.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.4.5.6.1.3" xref="S3.E2.m1.4.5.6.1.3.cmml">n</mi></munderover><mrow id="S3.E2.m1.4.5.6.2" xref="S3.E2.m1.4.5.6.2.cmml"><mfrac id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml"><mrow id="S3.E2.m1.1.1.1" xref="S3.E2.m1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.1.1.1.3.cmml">𝒦</mi><mo id="S3.E2.m1.1.1.1.2" xref="S3.E2.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E2.m1.1.1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E2.m1.1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E2.m1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E2.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml"><msubsup id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml"><mo id="S3.E2.m1.2.2.2.2.2.2" xref="S3.E2.m1.2.2.2.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.2.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.2.3.cmml"><mi id="S3.E2.m1.2.2.2.2.2.3.2" xref="S3.E2.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="S3.E2.m1.2.2.2.2.2.3.1" xref="S3.E2.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.2.2.2.2.2.3.3" xref="S3.E2.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.2.2.2.2.3" xref="S3.E2.m1.2.2.2.2.3.cmml">n</mi></msubsup><mrow id="S3.E2.m1.2.2.2.1" xref="S3.E2.m1.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.2.1.3" xref="S3.E2.m1.2.2.2.1.3.cmml">𝒦</mi><mo id="S3.E2.m1.2.2.2.1.2" xref="S3.E2.m1.2.2.2.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.2.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.2.1.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.2.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E2.m1.2.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.2.1.1.1.1.1.cmml">−</mo><msub id="S3.E2.m1.2.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.2.1.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.2.1.1.1.1.3.2" xref="S3.E2.m1.2.2.2.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E2.m1.2.2.2.1.1.1.1.3.3" xref="S3.E2.m1.2.2.2.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S3.E2.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac><mo id="S3.E2.m1.4.5.6.2.1" xref="S3.E2.m1.4.5.6.2.1.cmml">⁢</mo><msub id="S3.E2.m1.4.5.6.2.2" xref="S3.E2.m1.4.5.6.2.2.cmml"><mi id="S3.E2.m1.4.5.6.2.2.2" xref="S3.E2.m1.4.5.6.2.2.2.cmml">α</mi><mi id="S3.E2.m1.4.5.6.2.2.3" xref="S3.E2.m1.4.5.6.2.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.5.cmml" xref="S3.E2.m1.4.5"><and id="S3.E2.m1.4.5a.cmml" xref="S3.E2.m1.4.5"></and><apply id="S3.E2.m1.4.5b.cmml" xref="S3.E2.m1.4.5"><eq id="S3.E2.m1.4.5.3.cmml" xref="S3.E2.m1.4.5.3"></eq><apply id="S3.E2.m1.4.5.2.cmml" xref="S3.E2.m1.4.5.2"><ci id="S3.E2.m1.4.5.2.1.cmml" xref="S3.E2.m1.4.5.2.1">˙</ci><ci id="S3.E2.m1.4.5.2.2.cmml" xref="S3.E2.m1.4.5.2.2">𝛼</ci></apply><apply id="S3.E2.m1.4.5.4.cmml" xref="S3.E2.m1.4.5.4"><times id="S3.E2.m1.4.5.4.1.cmml" xref="S3.E2.m1.4.5.4.1"></times><ci id="S3.E2.m1.4.5.4.2.cmml" xref="S3.E2.m1.4.5.4.2">𝑓</ci><interval closure="open" id="S3.E2.m1.4.5.4.3.1.cmml" xref="S3.E2.m1.4.5.4.3.2"><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">𝜌</ci><ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">𝛼</ci></interval></apply></apply><apply id="S3.E2.m1.4.5c.cmml" xref="S3.E2.m1.4.5"><eq id="S3.E2.m1.4.5.5.cmml" xref="S3.E2.m1.4.5.5"></eq><share href="https://arxiv.org/html/2408.08645v1#S3.E2.m1.4.5.4.cmml" id="S3.E2.m1.4.5d.cmml" xref="S3.E2.m1.4.5"></share><apply id="S3.E2.m1.4.5.6.cmml" xref="S3.E2.m1.4.5.6"><apply id="S3.E2.m1.4.5.6.1.cmml" xref="S3.E2.m1.4.5.6.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.6.1.1.cmml" xref="S3.E2.m1.4.5.6.1">superscript</csymbol><apply id="S3.E2.m1.4.5.6.1.2.cmml" xref="S3.E2.m1.4.5.6.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.6.1.2.1.cmml" xref="S3.E2.m1.4.5.6.1">subscript</csymbol><sum id="S3.E2.m1.4.5.6.1.2.2.cmml" xref="S3.E2.m1.4.5.6.1.2.2"></sum><apply id="S3.E2.m1.4.5.6.1.2.3.cmml" xref="S3.E2.m1.4.5.6.1.2.3"><eq id="S3.E2.m1.4.5.6.1.2.3.1.cmml" xref="S3.E2.m1.4.5.6.1.2.3.1"></eq><ci id="S3.E2.m1.4.5.6.1.2.3.2.cmml" xref="S3.E2.m1.4.5.6.1.2.3.2">𝑖</ci><cn id="S3.E2.m1.4.5.6.1.2.3.3.cmml" type="integer" xref="S3.E2.m1.4.5.6.1.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.4.5.6.1.3.cmml" xref="S3.E2.m1.4.5.6.1.3">𝑛</ci></apply><apply id="S3.E2.m1.4.5.6.2.cmml" xref="S3.E2.m1.4.5.6.2"><times id="S3.E2.m1.4.5.6.2.1.cmml" xref="S3.E2.m1.4.5.6.2.1"></times><apply id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2"><divide id="S3.E2.m1.2.2.3.cmml" xref="S3.E2.m1.2.2"></divide><apply id="S3.E2.m1.1.1.1.cmml" xref="S3.E2.m1.1.1.1"><times id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.2"></times><ci id="S3.E2.m1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.3">𝒦</ci><apply id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><minus id="S3.E2.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.1"></minus><ci id="S3.E2.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.E2.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.E2.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"><apply id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2">superscript</csymbol><apply id="S3.E2.m1.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.2">subscript</csymbol><sum id="S3.E2.m1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2.2.2"></sum><apply id="S3.E2.m1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.2.3"><eq id="S3.E2.m1.2.2.2.2.2.3.1.cmml" xref="S3.E2.m1.2.2.2.2.2.3.1"></eq><ci id="S3.E2.m1.2.2.2.2.2.3.2.cmml" xref="S3.E2.m1.2.2.2.2.2.3.2">𝑗</ci><cn id="S3.E2.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="S3.E2.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.2.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.2.3">𝑛</ci></apply><apply id="S3.E2.m1.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.1"><times id="S3.E2.m1.2.2.2.1.2.cmml" xref="S3.E2.m1.2.2.2.1.2"></times><ci id="S3.E2.m1.2.2.2.1.3.cmml" xref="S3.E2.m1.2.2.2.1.3">𝒦</ci><apply id="S3.E2.m1.2.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1"><minus id="S3.E2.m1.2.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.1"></minus><ci id="S3.E2.m1.2.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.2">𝜌</ci><apply id="S3.E2.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.2.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.3.2">𝜌</ci><ci id="S3.E2.m1.2.2.2.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.2.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply><apply id="S3.E2.m1.4.5.6.2.2.cmml" xref="S3.E2.m1.4.5.6.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.5.6.2.2.1.cmml" xref="S3.E2.m1.4.5.6.2.2">subscript</csymbol><ci id="S3.E2.m1.4.5.6.2.2.2.cmml" xref="S3.E2.m1.4.5.6.2.2.2">𝛼</ci><ci id="S3.E2.m1.4.5.6.2.2.3.cmml" xref="S3.E2.m1.4.5.6.2.2.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">\dot{\alpha}=f(\rho,\alpha)=\sum_{i=1}^{n}\frac{\mathcal{K}(\rho-\rho_{i})}{%
\sum_{j=1}^{n}\mathcal{K}(\rho-\rho_{j})}\alpha_{i}\\
</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.4d">over˙ start_ARG italic_α end_ARG = italic_f ( italic_ρ , italic_α ) = ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG caligraphic_K ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT caligraphic_K ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) end_ARG italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p4.5">In Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.E2" title="In 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a>, offset queries <math alttext="\vec{O}=\{\vec{o_{1}},\vec{o_{2}},...,\vec{o_{n}}\}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.4"><semantics id="S3.SS2.p4.1.m1.4a"><mrow id="S3.SS2.p4.1.m1.4.5" xref="S3.SS2.p4.1.m1.4.5.cmml"><mover accent="true" id="S3.SS2.p4.1.m1.4.5.2" xref="S3.SS2.p4.1.m1.4.5.2.cmml"><mi id="S3.SS2.p4.1.m1.4.5.2.2" xref="S3.SS2.p4.1.m1.4.5.2.2.cmml">O</mi><mo id="S3.SS2.p4.1.m1.4.5.2.1" stretchy="false" xref="S3.SS2.p4.1.m1.4.5.2.1.cmml">→</mo></mover><mo id="S3.SS2.p4.1.m1.4.5.1" xref="S3.SS2.p4.1.m1.4.5.1.cmml">=</mo><mrow id="S3.SS2.p4.1.m1.4.5.3.2" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml"><mo id="S3.SS2.p4.1.m1.4.5.3.2.1" stretchy="false" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml">{</mo><mover accent="true" id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><msub id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2.2" xref="S3.SS2.p4.1.m1.1.1.2.2.cmml">o</mi><mn id="S3.SS2.p4.1.m1.1.1.2.3" xref="S3.SS2.p4.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="S3.SS2.p4.1.m1.1.1.1" stretchy="false" xref="S3.SS2.p4.1.m1.1.1.1.cmml">→</mo></mover><mo id="S3.SS2.p4.1.m1.4.5.3.2.2" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml">,</mo><mover accent="true" id="S3.SS2.p4.1.m1.2.2" xref="S3.SS2.p4.1.m1.2.2.cmml"><msub id="S3.SS2.p4.1.m1.2.2.2" xref="S3.SS2.p4.1.m1.2.2.2.cmml"><mi id="S3.SS2.p4.1.m1.2.2.2.2" xref="S3.SS2.p4.1.m1.2.2.2.2.cmml">o</mi><mn id="S3.SS2.p4.1.m1.2.2.2.3" xref="S3.SS2.p4.1.m1.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS2.p4.1.m1.2.2.1" stretchy="false" xref="S3.SS2.p4.1.m1.2.2.1.cmml">→</mo></mover><mo id="S3.SS2.p4.1.m1.4.5.3.2.3" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml">,</mo><mi id="S3.SS2.p4.1.m1.3.3" mathvariant="normal" xref="S3.SS2.p4.1.m1.3.3.cmml">…</mi><mo id="S3.SS2.p4.1.m1.4.5.3.2.4" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml">,</mo><mover accent="true" id="S3.SS2.p4.1.m1.4.4" xref="S3.SS2.p4.1.m1.4.4.cmml"><msub id="S3.SS2.p4.1.m1.4.4.2" xref="S3.SS2.p4.1.m1.4.4.2.cmml"><mi id="S3.SS2.p4.1.m1.4.4.2.2" xref="S3.SS2.p4.1.m1.4.4.2.2.cmml">o</mi><mi id="S3.SS2.p4.1.m1.4.4.2.3" xref="S3.SS2.p4.1.m1.4.4.2.3.cmml">n</mi></msub><mo id="S3.SS2.p4.1.m1.4.4.1" stretchy="false" xref="S3.SS2.p4.1.m1.4.4.1.cmml">→</mo></mover><mo id="S3.SS2.p4.1.m1.4.5.3.2.5" stretchy="false" xref="S3.SS2.p4.1.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.4b"><apply id="S3.SS2.p4.1.m1.4.5.cmml" xref="S3.SS2.p4.1.m1.4.5"><eq id="S3.SS2.p4.1.m1.4.5.1.cmml" xref="S3.SS2.p4.1.m1.4.5.1"></eq><apply id="S3.SS2.p4.1.m1.4.5.2.cmml" xref="S3.SS2.p4.1.m1.4.5.2"><ci id="S3.SS2.p4.1.m1.4.5.2.1.cmml" xref="S3.SS2.p4.1.m1.4.5.2.1">→</ci><ci id="S3.SS2.p4.1.m1.4.5.2.2.cmml" xref="S3.SS2.p4.1.m1.4.5.2.2">𝑂</ci></apply><set id="S3.SS2.p4.1.m1.4.5.3.1.cmml" xref="S3.SS2.p4.1.m1.4.5.3.2"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><ci id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1">→</ci><apply id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.2.1.cmml" xref="S3.SS2.p4.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2.2">𝑜</ci><cn id="S3.SS2.p4.1.m1.1.1.2.3.cmml" type="integer" xref="S3.SS2.p4.1.m1.1.1.2.3">1</cn></apply></apply><apply id="S3.SS2.p4.1.m1.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2"><ci id="S3.SS2.p4.1.m1.2.2.1.cmml" xref="S3.SS2.p4.1.m1.2.2.1">→</ci><apply id="S3.SS2.p4.1.m1.2.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.2.2.2.1.cmml" xref="S3.SS2.p4.1.m1.2.2.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.2.2.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2.2">𝑜</ci><cn id="S3.SS2.p4.1.m1.2.2.2.3.cmml" type="integer" xref="S3.SS2.p4.1.m1.2.2.2.3">2</cn></apply></apply><ci id="S3.SS2.p4.1.m1.3.3.cmml" xref="S3.SS2.p4.1.m1.3.3">…</ci><apply id="S3.SS2.p4.1.m1.4.4.cmml" xref="S3.SS2.p4.1.m1.4.4"><ci id="S3.SS2.p4.1.m1.4.4.1.cmml" xref="S3.SS2.p4.1.m1.4.4.1">→</ci><apply id="S3.SS2.p4.1.m1.4.4.2.cmml" xref="S3.SS2.p4.1.m1.4.4.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.4.4.2.1.cmml" xref="S3.SS2.p4.1.m1.4.4.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.4.4.2.2.cmml" xref="S3.SS2.p4.1.m1.4.4.2.2">𝑜</ci><ci id="S3.SS2.p4.1.m1.4.4.2.3.cmml" xref="S3.SS2.p4.1.m1.4.4.2.3">𝑛</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.4c">\vec{O}=\{\vec{o_{1}},\vec{o_{2}},...,\vec{o_{n}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.4d">over→ start_ARG italic_O end_ARG = { over→ start_ARG italic_o start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG , over→ start_ARG italic_o start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_ARG , … , over→ start_ARG italic_o start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_ARG }</annotation></semantics></math> was expressed as polar coordinate <math alttext="\vec{O}=\{(\rho_{1},\alpha_{1}),...,(\rho_{n},\alpha_{n})\}" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.3"><semantics id="S3.SS2.p4.2.m2.3a"><mrow id="S3.SS2.p4.2.m2.3.3" xref="S3.SS2.p4.2.m2.3.3.cmml"><mover accent="true" id="S3.SS2.p4.2.m2.3.3.4" xref="S3.SS2.p4.2.m2.3.3.4.cmml"><mi id="S3.SS2.p4.2.m2.3.3.4.2" xref="S3.SS2.p4.2.m2.3.3.4.2.cmml">O</mi><mo id="S3.SS2.p4.2.m2.3.3.4.1" stretchy="false" xref="S3.SS2.p4.2.m2.3.3.4.1.cmml">→</mo></mover><mo id="S3.SS2.p4.2.m2.3.3.3" xref="S3.SS2.p4.2.m2.3.3.3.cmml">=</mo><mrow id="S3.SS2.p4.2.m2.3.3.2.2" xref="S3.SS2.p4.2.m2.3.3.2.3.cmml"><mo id="S3.SS2.p4.2.m2.3.3.2.2.3" stretchy="false" xref="S3.SS2.p4.2.m2.3.3.2.3.cmml">{</mo><mrow id="S3.SS2.p4.2.m2.2.2.1.1.1.2" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml"><mo id="S3.SS2.p4.2.m2.2.2.1.1.1.2.3" stretchy="false" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml">(</mo><msub id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.2" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.2.cmml">ρ</mi><mn id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.3" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS2.p4.2.m2.2.2.1.1.1.2.4" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml">,</mo><msub id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.cmml"><mi id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.2" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.2.cmml">α</mi><mn id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.3" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.3.cmml">1</mn></msub><mo id="S3.SS2.p4.2.m2.2.2.1.1.1.2.5" stretchy="false" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS2.p4.2.m2.3.3.2.2.4" xref="S3.SS2.p4.2.m2.3.3.2.3.cmml">,</mo><mi id="S3.SS2.p4.2.m2.1.1" mathvariant="normal" xref="S3.SS2.p4.2.m2.1.1.cmml">…</mi><mo id="S3.SS2.p4.2.m2.3.3.2.2.5" xref="S3.SS2.p4.2.m2.3.3.2.3.cmml">,</mo><mrow id="S3.SS2.p4.2.m2.3.3.2.2.2.2" xref="S3.SS2.p4.2.m2.3.3.2.2.2.3.cmml"><mo id="S3.SS2.p4.2.m2.3.3.2.2.2.2.3" stretchy="false" xref="S3.SS2.p4.2.m2.3.3.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.cmml"><mi id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.2" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.2.cmml">ρ</mi><mi id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.3" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.3.cmml">n</mi></msub><mo id="S3.SS2.p4.2.m2.3.3.2.2.2.2.4" xref="S3.SS2.p4.2.m2.3.3.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.cmml"><mi id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.2" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.2.cmml">α</mi><mi id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.3" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS2.p4.2.m2.3.3.2.2.2.2.5" stretchy="false" xref="S3.SS2.p4.2.m2.3.3.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS2.p4.2.m2.3.3.2.2.6" stretchy="false" xref="S3.SS2.p4.2.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.3b"><apply id="S3.SS2.p4.2.m2.3.3.cmml" xref="S3.SS2.p4.2.m2.3.3"><eq id="S3.SS2.p4.2.m2.3.3.3.cmml" xref="S3.SS2.p4.2.m2.3.3.3"></eq><apply id="S3.SS2.p4.2.m2.3.3.4.cmml" xref="S3.SS2.p4.2.m2.3.3.4"><ci id="S3.SS2.p4.2.m2.3.3.4.1.cmml" xref="S3.SS2.p4.2.m2.3.3.4.1">→</ci><ci id="S3.SS2.p4.2.m2.3.3.4.2.cmml" xref="S3.SS2.p4.2.m2.3.3.4.2">𝑂</ci></apply><set id="S3.SS2.p4.2.m2.3.3.2.3.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2"><interval closure="open" id="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2"><apply id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.2">𝜌</ci><cn id="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.3.cmml" type="integer" xref="S3.SS2.p4.2.m2.2.2.1.1.1.1.1.3">1</cn></apply><apply id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.1.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.2.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.2">𝛼</ci><cn id="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.3.cmml" type="integer" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.2.3">1</cn></apply></interval><ci id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">…</ci><interval closure="open" id="S3.SS2.p4.2.m2.3.3.2.2.2.3.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2"><apply id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.2">𝜌</ci><ci id="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.1.1.3">𝑛</ci></apply><apply id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.1.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.2.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.2">𝛼</ci><ci id="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.3.cmml" xref="S3.SS2.p4.2.m2.3.3.2.2.2.2.2.3">𝑛</ci></apply></interval></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.3c">\vec{O}=\{(\rho_{1},\alpha_{1}),...,(\rho_{n},\alpha_{n})\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.3d">over→ start_ARG italic_O end_ARG = { ( italic_ρ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_α start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , … , ( italic_ρ start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_α start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ) }</annotation></semantics></math>.
<math alttext="\rho" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m3.1"><semantics id="S3.SS2.p4.3.m3.1a"><mi id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.1b"><ci id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m3.1d">italic_ρ</annotation></semantics></math> means length of the offset, and <math alttext="\alpha" class="ltx_Math" display="inline" id="S3.SS2.p4.4.m4.1"><semantics id="S3.SS2.p4.4.m4.1a"><mi id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><ci id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m4.1d">italic_α</annotation></semantics></math> represents angle of the offset. <math alttext="\dot{\alpha}" class="ltx_Math" display="inline" id="S3.SS2.p4.5.m5.1"><semantics id="S3.SS2.p4.5.m5.1a"><mover accent="true" id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml">α</mi><mo id="S3.SS2.p4.5.m5.1.1.1" xref="S3.SS2.p4.5.m5.1.1.1.cmml">˙</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><ci id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1.1">˙</ci><ci id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">\dot{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.5.m5.1d">over˙ start_ARG italic_α end_ARG</annotation></semantics></math> is the corrected offset angle.</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1">To facilitate computation, <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">caligraphic_K</annotation></semantics></math> is defined as Gaussian Kernal:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\mathcal{K}(u)=\frac{1}{\sqrt{2\pi}}e^{(-\frac{u^{2}}{2})}\\
" class="ltx_Math" display="block" id="S3.E3.m1.2"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.3" xref="S3.E3.m1.2.3.cmml"><mrow id="S3.E3.m1.2.3.2" xref="S3.E3.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.3.2.2" xref="S3.E3.m1.2.3.2.2.cmml">𝒦</mi><mo id="S3.E3.m1.2.3.2.1" xref="S3.E3.m1.2.3.2.1.cmml">⁢</mo><mrow id="S3.E3.m1.2.3.2.3.2" xref="S3.E3.m1.2.3.2.cmml"><mo id="S3.E3.m1.2.3.2.3.2.1" stretchy="false" xref="S3.E3.m1.2.3.2.cmml">(</mo><mi id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">u</mi><mo id="S3.E3.m1.2.3.2.3.2.2" stretchy="false" xref="S3.E3.m1.2.3.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.3.1" xref="S3.E3.m1.2.3.1.cmml">=</mo><mrow id="S3.E3.m1.2.3.3" xref="S3.E3.m1.2.3.3.cmml"><mfrac id="S3.E3.m1.2.3.3.2" xref="S3.E3.m1.2.3.3.2.cmml"><mn id="S3.E3.m1.2.3.3.2.2" xref="S3.E3.m1.2.3.3.2.2.cmml">1</mn><msqrt id="S3.E3.m1.2.3.3.2.3" xref="S3.E3.m1.2.3.3.2.3.cmml"><mrow id="S3.E3.m1.2.3.3.2.3.2" xref="S3.E3.m1.2.3.3.2.3.2.cmml"><mn id="S3.E3.m1.2.3.3.2.3.2.2" xref="S3.E3.m1.2.3.3.2.3.2.2.cmml">2</mn><mo id="S3.E3.m1.2.3.3.2.3.2.1" xref="S3.E3.m1.2.3.3.2.3.2.1.cmml">⁢</mo><mi id="S3.E3.m1.2.3.3.2.3.2.3" xref="S3.E3.m1.2.3.3.2.3.2.3.cmml">π</mi></mrow></msqrt></mfrac><mo id="S3.E3.m1.2.3.3.1" xref="S3.E3.m1.2.3.3.1.cmml">⁢</mo><msup id="S3.E3.m1.2.3.3.3" xref="S3.E3.m1.2.3.3.3.cmml"><mi id="S3.E3.m1.2.3.3.3.2" xref="S3.E3.m1.2.3.3.3.2.cmml">e</mi><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.2" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.1.1a" xref="S3.E3.m1.1.1.1.1.1.cmml">−</mo><mfrac id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml"><msup id="S3.E3.m1.1.1.1.1.1.2.2" xref="S3.E3.m1.1.1.1.1.1.2.2.cmml"><mi id="S3.E3.m1.1.1.1.1.1.2.2.2" xref="S3.E3.m1.1.1.1.1.1.2.2.2.cmml">u</mi><mn id="S3.E3.m1.1.1.1.1.1.2.2.3" xref="S3.E3.m1.1.1.1.1.1.2.2.3.cmml">2</mn></msup><mn id="S3.E3.m1.1.1.1.1.1.2.3" xref="S3.E3.m1.1.1.1.1.1.2.3.cmml">2</mn></mfrac></mrow><mo id="S3.E3.m1.1.1.1.1.3" stretchy="false" xref="S3.E3.m1.1.1.1.1.1.cmml">)</mo></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.3.cmml" xref="S3.E3.m1.2.3"><eq id="S3.E3.m1.2.3.1.cmml" xref="S3.E3.m1.2.3.1"></eq><apply id="S3.E3.m1.2.3.2.cmml" xref="S3.E3.m1.2.3.2"><times id="S3.E3.m1.2.3.2.1.cmml" xref="S3.E3.m1.2.3.2.1"></times><ci id="S3.E3.m1.2.3.2.2.cmml" xref="S3.E3.m1.2.3.2.2">𝒦</ci><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">𝑢</ci></apply><apply id="S3.E3.m1.2.3.3.cmml" xref="S3.E3.m1.2.3.3"><times id="S3.E3.m1.2.3.3.1.cmml" xref="S3.E3.m1.2.3.3.1"></times><apply id="S3.E3.m1.2.3.3.2.cmml" xref="S3.E3.m1.2.3.3.2"><divide id="S3.E3.m1.2.3.3.2.1.cmml" xref="S3.E3.m1.2.3.3.2"></divide><cn id="S3.E3.m1.2.3.3.2.2.cmml" type="integer" xref="S3.E3.m1.2.3.3.2.2">1</cn><apply id="S3.E3.m1.2.3.3.2.3.cmml" xref="S3.E3.m1.2.3.3.2.3"><root id="S3.E3.m1.2.3.3.2.3a.cmml" xref="S3.E3.m1.2.3.3.2.3"></root><apply id="S3.E3.m1.2.3.3.2.3.2.cmml" xref="S3.E3.m1.2.3.3.2.3.2"><times id="S3.E3.m1.2.3.3.2.3.2.1.cmml" xref="S3.E3.m1.2.3.3.2.3.2.1"></times><cn id="S3.E3.m1.2.3.3.2.3.2.2.cmml" type="integer" xref="S3.E3.m1.2.3.3.2.3.2.2">2</cn><ci id="S3.E3.m1.2.3.3.2.3.2.3.cmml" xref="S3.E3.m1.2.3.3.2.3.2.3">𝜋</ci></apply></apply></apply><apply id="S3.E3.m1.2.3.3.3.cmml" xref="S3.E3.m1.2.3.3.3"><csymbol cd="ambiguous" id="S3.E3.m1.2.3.3.3.1.cmml" xref="S3.E3.m1.2.3.3.3">superscript</csymbol><ci id="S3.E3.m1.2.3.3.3.2.cmml" xref="S3.E3.m1.2.3.3.3.2">𝑒</ci><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1"><minus id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1"></minus><apply id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2"><divide id="S3.E3.m1.1.1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.2"></divide><apply id="S3.E3.m1.1.1.1.1.1.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.2.2.1.cmml" xref="S3.E3.m1.1.1.1.1.1.2.2">superscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.2.2.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2.2.2">𝑢</ci><cn id="S3.E3.m1.1.1.1.1.1.2.2.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.2.2.3">2</cn></apply><cn id="S3.E3.m1.1.1.1.1.1.2.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.2.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">\mathcal{K}(u)=\frac{1}{\sqrt{2\pi}}e^{(-\frac{u^{2}}{2})}\\
</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.2d">caligraphic_K ( italic_u ) = divide start_ARG 1 end_ARG start_ARG square-root start_ARG 2 italic_π end_ARG end_ARG italic_e start_POSTSUPERSCRIPT ( - divide start_ARG italic_u start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG start_ARG 2 end_ARG ) end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p5.3">Consequently, Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.E2" title="In 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a> transformed as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="Sx1.EGx1">
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle f(\rho,\alpha)" class="ltx_Math" display="inline" id="S3.Ex1.m1.2"><semantics id="S3.Ex1.m1.2a"><mrow id="S3.Ex1.m1.2.3" xref="S3.Ex1.m1.2.3.cmml"><mi id="S3.Ex1.m1.2.3.2" xref="S3.Ex1.m1.2.3.2.cmml">f</mi><mo id="S3.Ex1.m1.2.3.1" xref="S3.Ex1.m1.2.3.1.cmml">⁢</mo><mrow id="S3.Ex1.m1.2.3.3.2" xref="S3.Ex1.m1.2.3.3.1.cmml"><mo id="S3.Ex1.m1.2.3.3.2.1" stretchy="false" xref="S3.Ex1.m1.2.3.3.1.cmml">(</mo><mi id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml">ρ</mi><mo id="S3.Ex1.m1.2.3.3.2.2" xref="S3.Ex1.m1.2.3.3.1.cmml">,</mo><mi id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml">α</mi><mo id="S3.Ex1.m1.2.3.3.2.3" stretchy="false" xref="S3.Ex1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.2b"><apply id="S3.Ex1.m1.2.3.cmml" xref="S3.Ex1.m1.2.3"><times id="S3.Ex1.m1.2.3.1.cmml" xref="S3.Ex1.m1.2.3.1"></times><ci id="S3.Ex1.m1.2.3.2.cmml" xref="S3.Ex1.m1.2.3.2">𝑓</ci><interval closure="open" id="S3.Ex1.m1.2.3.3.1.cmml" xref="S3.Ex1.m1.2.3.3.2"><ci id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1">𝜌</ci><ci id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2">𝛼</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.2c">\displaystyle f(\rho,\alpha)</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.2d">italic_f ( italic_ρ , italic_α )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{i=1}^{n}\frac{\frac{1}{\sqrt{2\pi}}\exp{\left(-\frac{(\rho%
-\rho_{i})^{2}}{2}\right)}}{\sum_{j=1}^{n}\frac{1}{\sqrt{2\pi}}\exp{\left(-%
\frac{(\rho-\rho_{j})^{2}}{2}\right)}}\alpha_{i}" class="ltx_Math" display="inline" id="S3.Ex1.m2.6"><semantics id="S3.Ex1.m2.6a"><mrow id="S3.Ex1.m2.6.7" xref="S3.Ex1.m2.6.7.cmml"><mi id="S3.Ex1.m2.6.7.2" xref="S3.Ex1.m2.6.7.2.cmml"></mi><mo id="S3.Ex1.m2.6.7.1" xref="S3.Ex1.m2.6.7.1.cmml">=</mo><mrow id="S3.Ex1.m2.6.7.3" xref="S3.Ex1.m2.6.7.3.cmml"><mstyle displaystyle="true" id="S3.Ex1.m2.6.7.3.1" xref="S3.Ex1.m2.6.7.3.1.cmml"><munderover id="S3.Ex1.m2.6.7.3.1a" xref="S3.Ex1.m2.6.7.3.1.cmml"><mo id="S3.Ex1.m2.6.7.3.1.2.2" movablelimits="false" xref="S3.Ex1.m2.6.7.3.1.2.2.cmml">∑</mo><mrow id="S3.Ex1.m2.6.7.3.1.2.3" xref="S3.Ex1.m2.6.7.3.1.2.3.cmml"><mi id="S3.Ex1.m2.6.7.3.1.2.3.2" xref="S3.Ex1.m2.6.7.3.1.2.3.2.cmml">i</mi><mo id="S3.Ex1.m2.6.7.3.1.2.3.1" xref="S3.Ex1.m2.6.7.3.1.2.3.1.cmml">=</mo><mn id="S3.Ex1.m2.6.7.3.1.2.3.3" xref="S3.Ex1.m2.6.7.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.Ex1.m2.6.7.3.1.3" xref="S3.Ex1.m2.6.7.3.1.3.cmml">n</mi></munderover></mstyle><mrow id="S3.Ex1.m2.6.7.3.2" xref="S3.Ex1.m2.6.7.3.2.cmml"><mstyle displaystyle="true" id="S3.Ex1.m2.6.6" xref="S3.Ex1.m2.6.6.cmml"><mfrac id="S3.Ex1.m2.6.6a" xref="S3.Ex1.m2.6.6.cmml"><mrow id="S3.Ex1.m2.3.3.3" xref="S3.Ex1.m2.3.3.3.cmml"><mfrac id="S3.Ex1.m2.3.3.3.5" xref="S3.Ex1.m2.3.3.3.5.cmml"><mn id="S3.Ex1.m2.3.3.3.5.2" xref="S3.Ex1.m2.3.3.3.5.2.cmml">1</mn><msqrt id="S3.Ex1.m2.3.3.3.5.3" xref="S3.Ex1.m2.3.3.3.5.3.cmml"><mrow id="S3.Ex1.m2.3.3.3.5.3.2" xref="S3.Ex1.m2.3.3.3.5.3.2.cmml"><mn id="S3.Ex1.m2.3.3.3.5.3.2.2" xref="S3.Ex1.m2.3.3.3.5.3.2.2.cmml">2</mn><mo id="S3.Ex1.m2.3.3.3.5.3.2.1" xref="S3.Ex1.m2.3.3.3.5.3.2.1.cmml">⁢</mo><mi id="S3.Ex1.m2.3.3.3.5.3.2.3" xref="S3.Ex1.m2.3.3.3.5.3.2.3.cmml">π</mi></mrow></msqrt></mfrac><mo id="S3.Ex1.m2.3.3.3.4" lspace="0.167em" xref="S3.Ex1.m2.3.3.3.4.cmml">⁢</mo><mrow id="S3.Ex1.m2.3.3.3.3.1" xref="S3.Ex1.m2.3.3.3.3.2.cmml"><mi id="S3.Ex1.m2.2.2.2.2" xref="S3.Ex1.m2.2.2.2.2.cmml">exp</mi><mo id="S3.Ex1.m2.3.3.3.3.1a" xref="S3.Ex1.m2.3.3.3.3.2.cmml">⁡</mo><mrow id="S3.Ex1.m2.3.3.3.3.1.1" xref="S3.Ex1.m2.3.3.3.3.2.cmml"><mo id="S3.Ex1.m2.3.3.3.3.1.1.2" xref="S3.Ex1.m2.3.3.3.3.2.cmml">(</mo><mrow id="S3.Ex1.m2.3.3.3.3.1.1.1" xref="S3.Ex1.m2.3.3.3.3.1.1.1.cmml"><mo id="S3.Ex1.m2.3.3.3.3.1.1.1a" xref="S3.Ex1.m2.3.3.3.3.1.1.1.cmml">−</mo><mfrac id="S3.Ex1.m2.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.cmml"><msup id="S3.Ex1.m2.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.cmml"><mrow id="S3.Ex1.m2.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex1.m2.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m2.1.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.Ex1.m2.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.Ex1.m2.1.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.1.3.cmml">2</mn></msup><mn id="S3.Ex1.m2.1.1.1.1.3" xref="S3.Ex1.m2.1.1.1.1.3.cmml">2</mn></mfrac></mrow><mo id="S3.Ex1.m2.3.3.3.3.1.1.3" xref="S3.Ex1.m2.3.3.3.3.2.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.Ex1.m2.6.6.6" xref="S3.Ex1.m2.6.6.6.cmml"><msubsup id="S3.Ex1.m2.6.6.6.4" xref="S3.Ex1.m2.6.6.6.4.cmml"><mo id="S3.Ex1.m2.6.6.6.4.2.2" xref="S3.Ex1.m2.6.6.6.4.2.2.cmml">∑</mo><mrow id="S3.Ex1.m2.6.6.6.4.2.3" xref="S3.Ex1.m2.6.6.6.4.2.3.cmml"><mi id="S3.Ex1.m2.6.6.6.4.2.3.2" xref="S3.Ex1.m2.6.6.6.4.2.3.2.cmml">j</mi><mo id="S3.Ex1.m2.6.6.6.4.2.3.1" xref="S3.Ex1.m2.6.6.6.4.2.3.1.cmml">=</mo><mn id="S3.Ex1.m2.6.6.6.4.2.3.3" xref="S3.Ex1.m2.6.6.6.4.2.3.3.cmml">1</mn></mrow><mi id="S3.Ex1.m2.6.6.6.4.3" xref="S3.Ex1.m2.6.6.6.4.3.cmml">n</mi></msubsup><mrow id="S3.Ex1.m2.6.6.6.3" xref="S3.Ex1.m2.6.6.6.3.cmml"><mfrac id="S3.Ex1.m2.6.6.6.3.3" xref="S3.Ex1.m2.6.6.6.3.3.cmml"><mn id="S3.Ex1.m2.6.6.6.3.3.2" xref="S3.Ex1.m2.6.6.6.3.3.2.cmml">1</mn><msqrt id="S3.Ex1.m2.6.6.6.3.3.3" xref="S3.Ex1.m2.6.6.6.3.3.3.cmml"><mrow id="S3.Ex1.m2.6.6.6.3.3.3.2" xref="S3.Ex1.m2.6.6.6.3.3.3.2.cmml"><mn id="S3.Ex1.m2.6.6.6.3.3.3.2.2" xref="S3.Ex1.m2.6.6.6.3.3.3.2.2.cmml">2</mn><mo id="S3.Ex1.m2.6.6.6.3.3.3.2.1" xref="S3.Ex1.m2.6.6.6.3.3.3.2.1.cmml">⁢</mo><mi id="S3.Ex1.m2.6.6.6.3.3.3.2.3" xref="S3.Ex1.m2.6.6.6.3.3.3.2.3.cmml">π</mi></mrow></msqrt></mfrac><mo id="S3.Ex1.m2.6.6.6.3.2" lspace="0.167em" xref="S3.Ex1.m2.6.6.6.3.2.cmml">⁢</mo><mrow id="S3.Ex1.m2.6.6.6.3.1.1" xref="S3.Ex1.m2.6.6.6.3.1.2.cmml"><mi id="S3.Ex1.m2.5.5.5.2" xref="S3.Ex1.m2.5.5.5.2.cmml">exp</mi><mo id="S3.Ex1.m2.6.6.6.3.1.1a" xref="S3.Ex1.m2.6.6.6.3.1.2.cmml">⁡</mo><mrow id="S3.Ex1.m2.6.6.6.3.1.1.1" xref="S3.Ex1.m2.6.6.6.3.1.2.cmml"><mo id="S3.Ex1.m2.6.6.6.3.1.1.1.2" xref="S3.Ex1.m2.6.6.6.3.1.2.cmml">(</mo><mrow id="S3.Ex1.m2.6.6.6.3.1.1.1.1" xref="S3.Ex1.m2.6.6.6.3.1.1.1.1.cmml"><mo id="S3.Ex1.m2.6.6.6.3.1.1.1.1a" xref="S3.Ex1.m2.6.6.6.3.1.1.1.1.cmml">−</mo><mfrac id="S3.Ex1.m2.4.4.4.1" xref="S3.Ex1.m2.4.4.4.1.cmml"><msup id="S3.Ex1.m2.4.4.4.1.1" xref="S3.Ex1.m2.4.4.4.1.1.cmml"><mrow id="S3.Ex1.m2.4.4.4.1.1.1.1" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.cmml"><mo id="S3.Ex1.m2.4.4.4.1.1.1.1.2" stretchy="false" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m2.4.4.4.1.1.1.1.1" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.cmml"><mi id="S3.Ex1.m2.4.4.4.1.1.1.1.1.2" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.Ex1.m2.4.4.4.1.1.1.1.1.1" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.1.cmml">−</mo><msub id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.cmml"><mi id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.2" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.3" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S3.Ex1.m2.4.4.4.1.1.1.1.3" stretchy="false" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.Ex1.m2.4.4.4.1.1.3" xref="S3.Ex1.m2.4.4.4.1.1.3.cmml">2</mn></msup><mn id="S3.Ex1.m2.4.4.4.1.3" xref="S3.Ex1.m2.4.4.4.1.3.cmml">2</mn></mfrac></mrow><mo id="S3.Ex1.m2.6.6.6.3.1.1.1.3" xref="S3.Ex1.m2.6.6.6.3.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mstyle><mo id="S3.Ex1.m2.6.7.3.2.1" xref="S3.Ex1.m2.6.7.3.2.1.cmml">⁢</mo><msub id="S3.Ex1.m2.6.7.3.2.2" xref="S3.Ex1.m2.6.7.3.2.2.cmml"><mi id="S3.Ex1.m2.6.7.3.2.2.2" xref="S3.Ex1.m2.6.7.3.2.2.2.cmml">α</mi><mi id="S3.Ex1.m2.6.7.3.2.2.3" xref="S3.Ex1.m2.6.7.3.2.2.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m2.6b"><apply id="S3.Ex1.m2.6.7.cmml" xref="S3.Ex1.m2.6.7"><eq id="S3.Ex1.m2.6.7.1.cmml" xref="S3.Ex1.m2.6.7.1"></eq><csymbol cd="latexml" id="S3.Ex1.m2.6.7.2.cmml" xref="S3.Ex1.m2.6.7.2">absent</csymbol><apply id="S3.Ex1.m2.6.7.3.cmml" xref="S3.Ex1.m2.6.7.3"><apply id="S3.Ex1.m2.6.7.3.1.cmml" xref="S3.Ex1.m2.6.7.3.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.6.7.3.1.1.cmml" xref="S3.Ex1.m2.6.7.3.1">superscript</csymbol><apply id="S3.Ex1.m2.6.7.3.1.2.cmml" xref="S3.Ex1.m2.6.7.3.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.6.7.3.1.2.1.cmml" xref="S3.Ex1.m2.6.7.3.1">subscript</csymbol><sum id="S3.Ex1.m2.6.7.3.1.2.2.cmml" xref="S3.Ex1.m2.6.7.3.1.2.2"></sum><apply id="S3.Ex1.m2.6.7.3.1.2.3.cmml" xref="S3.Ex1.m2.6.7.3.1.2.3"><eq id="S3.Ex1.m2.6.7.3.1.2.3.1.cmml" xref="S3.Ex1.m2.6.7.3.1.2.3.1"></eq><ci id="S3.Ex1.m2.6.7.3.1.2.3.2.cmml" xref="S3.Ex1.m2.6.7.3.1.2.3.2">𝑖</ci><cn id="S3.Ex1.m2.6.7.3.1.2.3.3.cmml" type="integer" xref="S3.Ex1.m2.6.7.3.1.2.3.3">1</cn></apply></apply><ci id="S3.Ex1.m2.6.7.3.1.3.cmml" xref="S3.Ex1.m2.6.7.3.1.3">𝑛</ci></apply><apply id="S3.Ex1.m2.6.7.3.2.cmml" xref="S3.Ex1.m2.6.7.3.2"><times id="S3.Ex1.m2.6.7.3.2.1.cmml" xref="S3.Ex1.m2.6.7.3.2.1"></times><apply id="S3.Ex1.m2.6.6.cmml" xref="S3.Ex1.m2.6.6"><divide id="S3.Ex1.m2.6.6.7.cmml" xref="S3.Ex1.m2.6.6"></divide><apply id="S3.Ex1.m2.3.3.3.cmml" xref="S3.Ex1.m2.3.3.3"><times id="S3.Ex1.m2.3.3.3.4.cmml" xref="S3.Ex1.m2.3.3.3.4"></times><apply id="S3.Ex1.m2.3.3.3.5.cmml" xref="S3.Ex1.m2.3.3.3.5"><divide id="S3.Ex1.m2.3.3.3.5.1.cmml" xref="S3.Ex1.m2.3.3.3.5"></divide><cn id="S3.Ex1.m2.3.3.3.5.2.cmml" type="integer" xref="S3.Ex1.m2.3.3.3.5.2">1</cn><apply id="S3.Ex1.m2.3.3.3.5.3.cmml" xref="S3.Ex1.m2.3.3.3.5.3"><root id="S3.Ex1.m2.3.3.3.5.3a.cmml" xref="S3.Ex1.m2.3.3.3.5.3"></root><apply id="S3.Ex1.m2.3.3.3.5.3.2.cmml" xref="S3.Ex1.m2.3.3.3.5.3.2"><times id="S3.Ex1.m2.3.3.3.5.3.2.1.cmml" xref="S3.Ex1.m2.3.3.3.5.3.2.1"></times><cn id="S3.Ex1.m2.3.3.3.5.3.2.2.cmml" type="integer" xref="S3.Ex1.m2.3.3.3.5.3.2.2">2</cn><ci id="S3.Ex1.m2.3.3.3.5.3.2.3.cmml" xref="S3.Ex1.m2.3.3.3.5.3.2.3">𝜋</ci></apply></apply></apply><apply id="S3.Ex1.m2.3.3.3.3.2.cmml" xref="S3.Ex1.m2.3.3.3.3.1"><exp id="S3.Ex1.m2.2.2.2.2.cmml" xref="S3.Ex1.m2.2.2.2.2"></exp><apply id="S3.Ex1.m2.3.3.3.3.1.1.1.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1"><minus id="S3.Ex1.m2.3.3.3.3.1.1.1.1.cmml" xref="S3.Ex1.m2.3.3.3.3.1.1.1"></minus><apply id="S3.Ex1.m2.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1"><divide id="S3.Ex1.m2.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1"></divide><apply id="S3.Ex1.m2.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1">superscript</csymbol><apply id="S3.Ex1.m2.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1"><minus id="S3.Ex1.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex1.m2.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><cn id="S3.Ex1.m2.1.1.1.1.1.3.cmml" type="integer" xref="S3.Ex1.m2.1.1.1.1.1.3">2</cn></apply><cn id="S3.Ex1.m2.1.1.1.1.3.cmml" type="integer" xref="S3.Ex1.m2.1.1.1.1.3">2</cn></apply></apply></apply></apply><apply id="S3.Ex1.m2.6.6.6.cmml" xref="S3.Ex1.m2.6.6.6"><apply id="S3.Ex1.m2.6.6.6.4.cmml" xref="S3.Ex1.m2.6.6.6.4"><csymbol cd="ambiguous" id="S3.Ex1.m2.6.6.6.4.1.cmml" xref="S3.Ex1.m2.6.6.6.4">superscript</csymbol><apply id="S3.Ex1.m2.6.6.6.4.2.cmml" xref="S3.Ex1.m2.6.6.6.4"><csymbol cd="ambiguous" id="S3.Ex1.m2.6.6.6.4.2.1.cmml" xref="S3.Ex1.m2.6.6.6.4">subscript</csymbol><sum id="S3.Ex1.m2.6.6.6.4.2.2.cmml" xref="S3.Ex1.m2.6.6.6.4.2.2"></sum><apply id="S3.Ex1.m2.6.6.6.4.2.3.cmml" xref="S3.Ex1.m2.6.6.6.4.2.3"><eq id="S3.Ex1.m2.6.6.6.4.2.3.1.cmml" xref="S3.Ex1.m2.6.6.6.4.2.3.1"></eq><ci id="S3.Ex1.m2.6.6.6.4.2.3.2.cmml" xref="S3.Ex1.m2.6.6.6.4.2.3.2">𝑗</ci><cn id="S3.Ex1.m2.6.6.6.4.2.3.3.cmml" type="integer" xref="S3.Ex1.m2.6.6.6.4.2.3.3">1</cn></apply></apply><ci id="S3.Ex1.m2.6.6.6.4.3.cmml" xref="S3.Ex1.m2.6.6.6.4.3">𝑛</ci></apply><apply id="S3.Ex1.m2.6.6.6.3.cmml" xref="S3.Ex1.m2.6.6.6.3"><times id="S3.Ex1.m2.6.6.6.3.2.cmml" xref="S3.Ex1.m2.6.6.6.3.2"></times><apply id="S3.Ex1.m2.6.6.6.3.3.cmml" xref="S3.Ex1.m2.6.6.6.3.3"><divide id="S3.Ex1.m2.6.6.6.3.3.1.cmml" xref="S3.Ex1.m2.6.6.6.3.3"></divide><cn id="S3.Ex1.m2.6.6.6.3.3.2.cmml" type="integer" xref="S3.Ex1.m2.6.6.6.3.3.2">1</cn><apply id="S3.Ex1.m2.6.6.6.3.3.3.cmml" xref="S3.Ex1.m2.6.6.6.3.3.3"><root id="S3.Ex1.m2.6.6.6.3.3.3a.cmml" xref="S3.Ex1.m2.6.6.6.3.3.3"></root><apply id="S3.Ex1.m2.6.6.6.3.3.3.2.cmml" xref="S3.Ex1.m2.6.6.6.3.3.3.2"><times id="S3.Ex1.m2.6.6.6.3.3.3.2.1.cmml" xref="S3.Ex1.m2.6.6.6.3.3.3.2.1"></times><cn id="S3.Ex1.m2.6.6.6.3.3.3.2.2.cmml" type="integer" xref="S3.Ex1.m2.6.6.6.3.3.3.2.2">2</cn><ci id="S3.Ex1.m2.6.6.6.3.3.3.2.3.cmml" xref="S3.Ex1.m2.6.6.6.3.3.3.2.3">𝜋</ci></apply></apply></apply><apply id="S3.Ex1.m2.6.6.6.3.1.2.cmml" xref="S3.Ex1.m2.6.6.6.3.1.1"><exp id="S3.Ex1.m2.5.5.5.2.cmml" xref="S3.Ex1.m2.5.5.5.2"></exp><apply id="S3.Ex1.m2.6.6.6.3.1.1.1.1.cmml" xref="S3.Ex1.m2.6.6.6.3.1.1.1.1"><minus id="S3.Ex1.m2.6.6.6.3.1.1.1.1.1.cmml" xref="S3.Ex1.m2.6.6.6.3.1.1.1.1"></minus><apply id="S3.Ex1.m2.4.4.4.1.cmml" xref="S3.Ex1.m2.4.4.4.1"><divide id="S3.Ex1.m2.4.4.4.1.2.cmml" xref="S3.Ex1.m2.4.4.4.1"></divide><apply id="S3.Ex1.m2.4.4.4.1.1.cmml" xref="S3.Ex1.m2.4.4.4.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.4.1.1.2.cmml" xref="S3.Ex1.m2.4.4.4.1.1">superscript</csymbol><apply id="S3.Ex1.m2.4.4.4.1.1.1.1.1.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1"><minus id="S3.Ex1.m2.4.4.4.1.1.1.1.1.1.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.1"></minus><ci id="S3.Ex1.m2.4.4.4.1.1.1.1.1.2.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.2">𝜌</ci><apply id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.1.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.2.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.3.cmml" xref="S3.Ex1.m2.4.4.4.1.1.1.1.1.3.3">𝑗</ci></apply></apply><cn id="S3.Ex1.m2.4.4.4.1.1.3.cmml" type="integer" xref="S3.Ex1.m2.4.4.4.1.1.3">2</cn></apply><cn id="S3.Ex1.m2.4.4.4.1.3.cmml" type="integer" xref="S3.Ex1.m2.4.4.4.1.3">2</cn></apply></apply></apply></apply></apply></apply><apply id="S3.Ex1.m2.6.7.3.2.2.cmml" xref="S3.Ex1.m2.6.7.3.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m2.6.7.3.2.2.1.cmml" xref="S3.Ex1.m2.6.7.3.2.2">subscript</csymbol><ci id="S3.Ex1.m2.6.7.3.2.2.2.cmml" xref="S3.Ex1.m2.6.7.3.2.2.2">𝛼</ci><ci id="S3.Ex1.m2.6.7.3.2.2.3.cmml" xref="S3.Ex1.m2.6.7.3.2.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m2.6c">\displaystyle=\sum_{i=1}^{n}\frac{\frac{1}{\sqrt{2\pi}}\exp{\left(-\frac{(\rho%
-\rho_{i})^{2}}{2}\right)}}{\sum_{j=1}^{n}\frac{1}{\sqrt{2\pi}}\exp{\left(-%
\frac{(\rho-\rho_{j})^{2}}{2}\right)}}\alpha_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m2.6d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG divide start_ARG 1 end_ARG start_ARG square-root start_ARG 2 italic_π end_ARG end_ARG roman_exp ( - divide start_ARG ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG start_ARG 2 end_ARG ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG 1 end_ARG start_ARG square-root start_ARG 2 italic_π end_ARG end_ARG roman_exp ( - divide start_ARG ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG start_ARG 2 end_ARG ) end_ARG italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}(\rho-\rho_{i})^%
{2}\right)\alpha_{i}" class="ltx_Math" display="inline" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mi id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml"></mi><mo id="S3.E4.m1.1.1.2" xref="S3.E4.m1.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E4.m1.1.1.1.2" xref="S3.E4.m1.1.1.1.2.cmml"><munderover id="S3.E4.m1.1.1.1.2a" xref="S3.E4.m1.1.1.1.2.cmml"><mo id="S3.E4.m1.1.1.1.2.2.2" movablelimits="false" xref="S3.E4.m1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E4.m1.1.1.1.2.2.3" xref="S3.E4.m1.1.1.1.2.2.3.cmml"><mi id="S3.E4.m1.1.1.1.2.2.3.2" xref="S3.E4.m1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E4.m1.1.1.1.2.2.3.1" xref="S3.E4.m1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E4.m1.1.1.1.2.2.3.3" xref="S3.E4.m1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mtext id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3a.cmml">softmax</mtext><mo id="S3.E4.m1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E4.m1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.1.1.1.1a" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E4.m1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E4.m1.1.1.1.1.1.1.1.1.3a" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E4.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E4.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msup id="S3.E4.m1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E4.m1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E4.m1.1.1.1.1.2a" xref="S3.E4.m1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E4.m1.1.1.1.1.4" xref="S3.E4.m1.1.1.1.1.4.cmml"><mi id="S3.E4.m1.1.1.1.1.4.2" xref="S3.E4.m1.1.1.1.1.4.2.cmml">α</mi><mi id="S3.E4.m1.1.1.1.1.4.3" xref="S3.E4.m1.1.1.1.1.4.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><eq id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1.2"></eq><csymbol cd="latexml" id="S3.E4.m1.1.1.3.cmml" xref="S3.E4.m1.1.1.3">absent</csymbol><apply id="S3.E4.m1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><apply id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.2">superscript</csymbol><apply id="S3.E4.m1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.2">subscript</csymbol><sum id="S3.E4.m1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.2.2.2"></sum><apply id="S3.E4.m1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.1.1.1.2.2.3"><eq id="S3.E4.m1.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.1.1.1.2.2.3.1"></eq><ci id="S3.E4.m1.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E4.m1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2"></times><ci id="S3.E4.m1.1.1.1.1.3a.cmml" xref="S3.E4.m1.1.1.1.1.3"><mtext id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3">softmax</mtext></ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1"><minus id="S3.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1"></minus><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3"><divide id="S3.E4.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3"></divide><cn id="S3.E4.m1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.2">1</cn><cn id="S3.E4.m1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><cn id="S3.E4.m1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E4.m1.1.1.1.1.1.1.1.1.1.3">2</cn></apply></apply></apply><apply id="S3.E4.m1.1.1.1.1.4.cmml" xref="S3.E4.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.4.1.cmml" xref="S3.E4.m1.1.1.1.1.4">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.4.2.cmml" xref="S3.E4.m1.1.1.1.1.4.2">𝛼</ci><ci id="S3.E4.m1.1.1.1.1.4.3.cmml" xref="S3.E4.m1.1.1.1.1.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}(\rho-\rho_{i})^%
{2}\right)\alpha_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT softmax ( - divide start_ARG 1 end_ARG start_ARG 2 end_ARG ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p5.2">To make the whole attention learnable, a trainable parameter <math alttext="w" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m1.1"><semantics id="S3.SS2.p5.2.m1.1a"><mi id="S3.SS2.p5.2.m1.1.1" xref="S3.SS2.p5.2.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m1.1b"><ci id="S3.SS2.p5.2.m1.1.1.cmml" xref="S3.SS2.p5.2.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m1.1c">w</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m1.1d">italic_w</annotation></semantics></math> was added to Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.Ex1" title="3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3.2</span></a>:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="Sx1.EGx2">
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\dot{\alpha}" class="ltx_Math" display="inline" id="S3.Ex2.m1.1"><semantics id="S3.Ex2.m1.1a"><mover accent="true" id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml"><mi id="S3.Ex2.m1.1.1.2" xref="S3.Ex2.m1.1.1.2.cmml">α</mi><mo id="S3.Ex2.m1.1.1.1" xref="S3.Ex2.m1.1.1.1.cmml">˙</mo></mover><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.1b"><apply id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1"><ci id="S3.Ex2.m1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1">˙</ci><ci id="S3.Ex2.m1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.2">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\displaystyle\dot{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.1d">over˙ start_ARG italic_α end_ARG</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=f(\rho,\alpha)" class="ltx_Math" display="inline" id="S3.Ex2.m2.2"><semantics id="S3.Ex2.m2.2a"><mrow id="S3.Ex2.m2.2.3" xref="S3.Ex2.m2.2.3.cmml"><mi id="S3.Ex2.m2.2.3.2" xref="S3.Ex2.m2.2.3.2.cmml"></mi><mo id="S3.Ex2.m2.2.3.1" xref="S3.Ex2.m2.2.3.1.cmml">=</mo><mrow id="S3.Ex2.m2.2.3.3" xref="S3.Ex2.m2.2.3.3.cmml"><mi id="S3.Ex2.m2.2.3.3.2" xref="S3.Ex2.m2.2.3.3.2.cmml">f</mi><mo id="S3.Ex2.m2.2.3.3.1" xref="S3.Ex2.m2.2.3.3.1.cmml">⁢</mo><mrow id="S3.Ex2.m2.2.3.3.3.2" xref="S3.Ex2.m2.2.3.3.3.1.cmml"><mo id="S3.Ex2.m2.2.3.3.3.2.1" stretchy="false" xref="S3.Ex2.m2.2.3.3.3.1.cmml">(</mo><mi id="S3.Ex2.m2.1.1" xref="S3.Ex2.m2.1.1.cmml">ρ</mi><mo id="S3.Ex2.m2.2.3.3.3.2.2" xref="S3.Ex2.m2.2.3.3.3.1.cmml">,</mo><mi id="S3.Ex2.m2.2.2" xref="S3.Ex2.m2.2.2.cmml">α</mi><mo id="S3.Ex2.m2.2.3.3.3.2.3" stretchy="false" xref="S3.Ex2.m2.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m2.2b"><apply id="S3.Ex2.m2.2.3.cmml" xref="S3.Ex2.m2.2.3"><eq id="S3.Ex2.m2.2.3.1.cmml" xref="S3.Ex2.m2.2.3.1"></eq><csymbol cd="latexml" id="S3.Ex2.m2.2.3.2.cmml" xref="S3.Ex2.m2.2.3.2">absent</csymbol><apply id="S3.Ex2.m2.2.3.3.cmml" xref="S3.Ex2.m2.2.3.3"><times id="S3.Ex2.m2.2.3.3.1.cmml" xref="S3.Ex2.m2.2.3.3.1"></times><ci id="S3.Ex2.m2.2.3.3.2.cmml" xref="S3.Ex2.m2.2.3.3.2">𝑓</ci><interval closure="open" id="S3.Ex2.m2.2.3.3.3.1.cmml" xref="S3.Ex2.m2.2.3.3.3.2"><ci id="S3.Ex2.m2.1.1.cmml" xref="S3.Ex2.m2.1.1">𝜌</ci><ci id="S3.Ex2.m2.2.2.cmml" xref="S3.Ex2.m2.2.2">𝛼</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m2.2c">\displaystyle=f(\rho,\alpha)</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m2.2d">= italic_f ( italic_ρ , italic_α )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}\left(w\times%
\left(\rho-\rho_{i}\right)\right)^{2}\right)\alpha_{i}" class="ltx_Math" display="inline" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml"><mi id="S3.E5.m1.1.1.3" xref="S3.E5.m1.1.1.3.cmml"></mi><mo id="S3.E5.m1.1.1.2" xref="S3.E5.m1.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.2.cmml"><munderover id="S3.E5.m1.1.1.1.2a" xref="S3.E5.m1.1.1.1.2.cmml"><mo id="S3.E5.m1.1.1.1.2.2.2" movablelimits="false" xref="S3.E5.m1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E5.m1.1.1.1.2.2.3" xref="S3.E5.m1.1.1.1.2.2.3.cmml"><mi id="S3.E5.m1.1.1.1.2.2.3.2" xref="S3.E5.m1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E5.m1.1.1.1.2.2.3.1" xref="S3.E5.m1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E5.m1.1.1.1.2.2.3.3" xref="S3.E5.m1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mtext id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3a.cmml">softmax</mtext><mo id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.1a" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E5.m1.1.1.1.1.1.1.1.1.3a" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E5.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E5.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msup id="S3.E5.m1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">w</mi><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">×</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E5.m1.1.1.1.1.2a" xref="S3.E5.m1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E5.m1.1.1.1.1.4" xref="S3.E5.m1.1.1.1.1.4.cmml"><mi id="S3.E5.m1.1.1.1.1.4.2" xref="S3.E5.m1.1.1.1.1.4.2.cmml">α</mi><mi id="S3.E5.m1.1.1.1.1.4.3" xref="S3.E5.m1.1.1.1.1.4.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1"><eq id="S3.E5.m1.1.1.2.cmml" xref="S3.E5.m1.1.1.2"></eq><csymbol cd="latexml" id="S3.E5.m1.1.1.3.cmml" xref="S3.E5.m1.1.1.3">absent</csymbol><apply id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><apply id="S3.E5.m1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.2">superscript</csymbol><apply id="S3.E5.m1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.2">subscript</csymbol><sum id="S3.E5.m1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.2.2.2"></sum><apply id="S3.E5.m1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.1.1.1.2.2.3"><eq id="S3.E5.m1.1.1.1.2.2.3.1.cmml" xref="S3.E5.m1.1.1.1.2.2.3.1"></eq><ci id="S3.E5.m1.1.1.1.2.2.3.2.cmml" xref="S3.E5.m1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E5.m1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E5.m1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E5.m1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.3a.cmml" xref="S3.E5.m1.1.1.1.1.3"><mtext id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3">softmax</mtext></ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><minus id="S3.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1"></minus><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3"><divide id="S3.E5.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3"></divide><cn id="S3.E5.m1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.2">1</cn><cn id="S3.E5.m1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑤</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><cn id="S3.E5.m1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E5.m1.1.1.1.1.1.1.1.1.1.3">2</cn></apply></apply></apply><apply id="S3.E5.m1.1.1.1.1.4.cmml" xref="S3.E5.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.4.1.cmml" xref="S3.E5.m1.1.1.1.1.4">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.4.2.cmml" xref="S3.E5.m1.1.1.1.1.4.2">𝛼</ci><ci id="S3.E5.m1.1.1.1.1.4.3.cmml" xref="S3.E5.m1.1.1.1.1.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}\left(w\times%
\left(\rho-\rho_{i}\right)\right)^{2}\right)\alpha_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT softmax ( - divide start_ARG 1 end_ARG start_ARG 2 end_ARG ( italic_w × ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p6">
<p class="ltx_p" id="S3.SS2.p6.2">In NLP, look-ahead masking was used to combining the fact that tokens at one stage should only make the current and past knowledges visible for the model.
Tokens in subsequent positions were masked via a huge negative number in <math alttext="\textrm{softmax}({\cdot})" class="ltx_Math" display="inline" id="S3.SS2.p6.1.m1.1"><semantics id="S3.SS2.p6.1.m1.1a"><mrow id="S3.SS2.p6.1.m1.1.2" xref="S3.SS2.p6.1.m1.1.2.cmml"><mtext id="S3.SS2.p6.1.m1.1.2.2" xref="S3.SS2.p6.1.m1.1.2.2a.cmml">softmax</mtext><mo id="S3.SS2.p6.1.m1.1.2.1" xref="S3.SS2.p6.1.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p6.1.m1.1.2.3.2" xref="S3.SS2.p6.1.m1.1.2.cmml"><mo id="S3.SS2.p6.1.m1.1.2.3.2.1" stretchy="false" xref="S3.SS2.p6.1.m1.1.2.cmml">(</mo><mo id="S3.SS2.p6.1.m1.1.1" lspace="0em" rspace="0em" xref="S3.SS2.p6.1.m1.1.1.cmml">⋅</mo><mo id="S3.SS2.p6.1.m1.1.2.3.2.2" stretchy="false" xref="S3.SS2.p6.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><apply id="S3.SS2.p6.1.m1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.2"><times id="S3.SS2.p6.1.m1.1.2.1.cmml" xref="S3.SS2.p6.1.m1.1.2.1"></times><ci id="S3.SS2.p6.1.m1.1.2.2a.cmml" xref="S3.SS2.p6.1.m1.1.2.2"><mtext id="S3.SS2.p6.1.m1.1.2.2.cmml" xref="S3.SS2.p6.1.m1.1.2.2">softmax</mtext></ci><ci id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">\textrm{softmax}({\cdot})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.1.m1.1d">softmax ( ⋅ )</annotation></semantics></math>.
In BFE problem, the longer offsets have better performance compared with shorter offsets.
Based on aforementioned ideas, we need to design a look-longer masking <math alttext="\mathcal{M}" class="ltx_Math" display="inline" id="S3.SS2.p6.2.m2.1"><semantics id="S3.SS2.p6.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><ci id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">\mathcal{M}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p6.2.m2.1d">caligraphic_M</annotation></semantics></math> for those shorter offsets.
Finally, angle-level SOFA can be expressed as:
</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="Sx1.EGx3">
<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\dot{\alpha}" class="ltx_Math" display="inline" id="S3.Ex3.m1.1"><semantics id="S3.Ex3.m1.1a"><mover accent="true" id="S3.Ex3.m1.1.1" xref="S3.Ex3.m1.1.1.cmml"><mi id="S3.Ex3.m1.1.1.2" xref="S3.Ex3.m1.1.1.2.cmml">α</mi><mo id="S3.Ex3.m1.1.1.1" xref="S3.Ex3.m1.1.1.1.cmml">˙</mo></mover><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.1b"><apply id="S3.Ex3.m1.1.1.cmml" xref="S3.Ex3.m1.1.1"><ci id="S3.Ex3.m1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1">˙</ci><ci id="S3.Ex3.m1.1.1.2.cmml" xref="S3.Ex3.m1.1.1.2">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.1c">\displaystyle\dot{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.1d">over˙ start_ARG italic_α end_ARG</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=SOFA_{a}(\rho,\alpha)" class="ltx_Math" display="inline" id="S3.Ex3.m2.2"><semantics id="S3.Ex3.m2.2a"><mrow id="S3.Ex3.m2.2.3" xref="S3.Ex3.m2.2.3.cmml"><mi id="S3.Ex3.m2.2.3.2" xref="S3.Ex3.m2.2.3.2.cmml"></mi><mo id="S3.Ex3.m2.2.3.1" xref="S3.Ex3.m2.2.3.1.cmml">=</mo><mrow id="S3.Ex3.m2.2.3.3" xref="S3.Ex3.m2.2.3.3.cmml"><mi id="S3.Ex3.m2.2.3.3.2" xref="S3.Ex3.m2.2.3.3.2.cmml">S</mi><mo id="S3.Ex3.m2.2.3.3.1" xref="S3.Ex3.m2.2.3.3.1.cmml">⁢</mo><mi id="S3.Ex3.m2.2.3.3.3" xref="S3.Ex3.m2.2.3.3.3.cmml">O</mi><mo id="S3.Ex3.m2.2.3.3.1a" xref="S3.Ex3.m2.2.3.3.1.cmml">⁢</mo><mi id="S3.Ex3.m2.2.3.3.4" xref="S3.Ex3.m2.2.3.3.4.cmml">F</mi><mo id="S3.Ex3.m2.2.3.3.1b" xref="S3.Ex3.m2.2.3.3.1.cmml">⁢</mo><msub id="S3.Ex3.m2.2.3.3.5" xref="S3.Ex3.m2.2.3.3.5.cmml"><mi id="S3.Ex3.m2.2.3.3.5.2" xref="S3.Ex3.m2.2.3.3.5.2.cmml">A</mi><mi id="S3.Ex3.m2.2.3.3.5.3" xref="S3.Ex3.m2.2.3.3.5.3.cmml">a</mi></msub><mo id="S3.Ex3.m2.2.3.3.1c" xref="S3.Ex3.m2.2.3.3.1.cmml">⁢</mo><mrow id="S3.Ex3.m2.2.3.3.6.2" xref="S3.Ex3.m2.2.3.3.6.1.cmml"><mo id="S3.Ex3.m2.2.3.3.6.2.1" stretchy="false" xref="S3.Ex3.m2.2.3.3.6.1.cmml">(</mo><mi id="S3.Ex3.m2.1.1" xref="S3.Ex3.m2.1.1.cmml">ρ</mi><mo id="S3.Ex3.m2.2.3.3.6.2.2" xref="S3.Ex3.m2.2.3.3.6.1.cmml">,</mo><mi id="S3.Ex3.m2.2.2" xref="S3.Ex3.m2.2.2.cmml">α</mi><mo id="S3.Ex3.m2.2.3.3.6.2.3" stretchy="false" xref="S3.Ex3.m2.2.3.3.6.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m2.2b"><apply id="S3.Ex3.m2.2.3.cmml" xref="S3.Ex3.m2.2.3"><eq id="S3.Ex3.m2.2.3.1.cmml" xref="S3.Ex3.m2.2.3.1"></eq><csymbol cd="latexml" id="S3.Ex3.m2.2.3.2.cmml" xref="S3.Ex3.m2.2.3.2">absent</csymbol><apply id="S3.Ex3.m2.2.3.3.cmml" xref="S3.Ex3.m2.2.3.3"><times id="S3.Ex3.m2.2.3.3.1.cmml" xref="S3.Ex3.m2.2.3.3.1"></times><ci id="S3.Ex3.m2.2.3.3.2.cmml" xref="S3.Ex3.m2.2.3.3.2">𝑆</ci><ci id="S3.Ex3.m2.2.3.3.3.cmml" xref="S3.Ex3.m2.2.3.3.3">𝑂</ci><ci id="S3.Ex3.m2.2.3.3.4.cmml" xref="S3.Ex3.m2.2.3.3.4">𝐹</ci><apply id="S3.Ex3.m2.2.3.3.5.cmml" xref="S3.Ex3.m2.2.3.3.5"><csymbol cd="ambiguous" id="S3.Ex3.m2.2.3.3.5.1.cmml" xref="S3.Ex3.m2.2.3.3.5">subscript</csymbol><ci id="S3.Ex3.m2.2.3.3.5.2.cmml" xref="S3.Ex3.m2.2.3.3.5.2">𝐴</ci><ci id="S3.Ex3.m2.2.3.3.5.3.cmml" xref="S3.Ex3.m2.2.3.3.5.3">𝑎</ci></apply><interval closure="open" id="S3.Ex3.m2.2.3.3.6.1.cmml" xref="S3.Ex3.m2.2.3.3.6.2"><ci id="S3.Ex3.m2.1.1.cmml" xref="S3.Ex3.m2.1.1">𝜌</ci><ci id="S3.Ex3.m2.2.2.cmml" xref="S3.Ex3.m2.2.2">𝛼</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m2.2c">\displaystyle=SOFA_{a}(\rho,\alpha)</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m2.2d">= italic_S italic_O italic_F italic_A start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT ( italic_ρ , italic_α )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}\left(w\times%
\mathcal{M}(\rho-\rho_{i})\right)^{2}\right)\alpha_{i}" class="ltx_Math" display="inline" id="S3.E6.m1.1"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml"><mi id="S3.E6.m1.1.1.3" xref="S3.E6.m1.1.1.3.cmml"></mi><mo id="S3.E6.m1.1.1.2" xref="S3.E6.m1.1.1.2.cmml">=</mo><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.2.cmml"><munderover id="S3.E6.m1.1.1.1.2a" xref="S3.E6.m1.1.1.1.2.cmml"><mo id="S3.E6.m1.1.1.1.2.2.2" movablelimits="false" xref="S3.E6.m1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E6.m1.1.1.1.2.2.3" xref="S3.E6.m1.1.1.1.2.2.3.cmml"><mi id="S3.E6.m1.1.1.1.2.2.3.2" xref="S3.E6.m1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E6.m1.1.1.1.2.2.3.1" xref="S3.E6.m1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E6.m1.1.1.1.2.2.3.3" xref="S3.E6.m1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E6.m1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mtext id="S3.E6.m1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3a.cmml">softmax</mtext><mo id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.1a" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E6.m1.1.1.1.1.1.1.1.1.3a" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msup id="S3.E6.m1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">w</mi><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">×</mo><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">ℳ</mi></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E6.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E6.m1.1.1.1.1.2a" xref="S3.E6.m1.1.1.1.1.2.cmml">⁢</mo><msub id="S3.E6.m1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.4.cmml"><mi id="S3.E6.m1.1.1.1.1.4.2" xref="S3.E6.m1.1.1.1.1.4.2.cmml">α</mi><mi id="S3.E6.m1.1.1.1.1.4.3" xref="S3.E6.m1.1.1.1.1.4.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1"><eq id="S3.E6.m1.1.1.2.cmml" xref="S3.E6.m1.1.1.2"></eq><csymbol cd="latexml" id="S3.E6.m1.1.1.3.cmml" xref="S3.E6.m1.1.1.3">absent</csymbol><apply id="S3.E6.m1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><apply id="S3.E6.m1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.2">superscript</csymbol><apply id="S3.E6.m1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.1.2">subscript</csymbol><sum id="S3.E6.m1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.1.2.2.2"></sum><apply id="S3.E6.m1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.2.2.3"><eq id="S3.E6.m1.1.1.1.2.2.3.1.cmml" xref="S3.E6.m1.1.1.1.2.2.3.1"></eq><ci id="S3.E6.m1.1.1.1.2.2.3.2.cmml" xref="S3.E6.m1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E6.m1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E6.m1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E6.m1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"></times><ci id="S3.E6.m1.1.1.1.1.3a.cmml" xref="S3.E6.m1.1.1.1.1.3"><mtext id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3">softmax</mtext></ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"><minus id="S3.E6.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3"><divide id="S3.E6.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3"></divide><cn id="S3.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.2">1</cn><cn id="S3.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑤</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">ℳ</ci></apply><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><cn id="S3.E6.m1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E6.m1.1.1.1.1.1.1.1.1.1.3">2</cn></apply></apply></apply><apply id="S3.E6.m1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.1.cmml" xref="S3.E6.m1.1.1.1.1.4">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.2.cmml" xref="S3.E6.m1.1.1.1.1.4.2">𝛼</ci><ci id="S3.E6.m1.1.1.1.1.4.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle=\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}\left(w\times%
\mathcal{M}(\rho-\rho_{i})\right)^{2}\right)\alpha_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.1d">= ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT softmax ( - divide start_ARG 1 end_ARG start_ARG 2 end_ARG ( italic_w × caligraphic_M ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p7">
<p class="ltx_p" id="S3.SS2.p7.1">Based on similar mathematical reasoning processes, vector-level SOFA can be written as:</p>
</div>
<div class="ltx_para" id="S3.SS2.p8">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="Sx1.EGx4">
<tbody id="S3.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\dot{\vec{o}}" class="ltx_Math" display="inline" id="S3.Ex4.m1.1"><semantics id="S3.Ex4.m1.1a"><mover accent="true" id="S3.Ex4.m1.1.1" xref="S3.Ex4.m1.1.1.cmml"><mover accent="true" id="S3.Ex4.m1.1.1.2" xref="S3.Ex4.m1.1.1.2.cmml"><mi id="S3.Ex4.m1.1.1.2.2" xref="S3.Ex4.m1.1.1.2.2.cmml">o</mi><mo id="S3.Ex4.m1.1.1.2.1" stretchy="false" xref="S3.Ex4.m1.1.1.2.1.cmml">→</mo></mover><mo id="S3.Ex4.m1.1.1.1" xref="S3.Ex4.m1.1.1.1.cmml">˙</mo></mover><annotation-xml encoding="MathML-Content" id="S3.Ex4.m1.1b"><apply id="S3.Ex4.m1.1.1.cmml" xref="S3.Ex4.m1.1.1"><ci id="S3.Ex4.m1.1.1.1.cmml" xref="S3.Ex4.m1.1.1.1">˙</ci><apply id="S3.Ex4.m1.1.1.2.cmml" xref="S3.Ex4.m1.1.1.2"><ci id="S3.Ex4.m1.1.1.2.1.cmml" xref="S3.Ex4.m1.1.1.2.1">→</ci><ci id="S3.Ex4.m1.1.1.2.2.cmml" xref="S3.Ex4.m1.1.1.2.2">𝑜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m1.1c">\displaystyle\dot{\vec{o}}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex4.m1.1d">over˙ start_ARG over→ start_ARG italic_o end_ARG end_ARG</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=SOFA_{v}(\rho,\vec{u_{i}})" class="ltx_Math" display="inline" id="S3.Ex4.m2.2"><semantics id="S3.Ex4.m2.2a"><mrow id="S3.Ex4.m2.2.3" xref="S3.Ex4.m2.2.3.cmml"><mi id="S3.Ex4.m2.2.3.2" xref="S3.Ex4.m2.2.3.2.cmml"></mi><mo id="S3.Ex4.m2.2.3.1" xref="S3.Ex4.m2.2.3.1.cmml">=</mo><mrow id="S3.Ex4.m2.2.3.3" xref="S3.Ex4.m2.2.3.3.cmml"><mi id="S3.Ex4.m2.2.3.3.2" xref="S3.Ex4.m2.2.3.3.2.cmml">S</mi><mo id="S3.Ex4.m2.2.3.3.1" xref="S3.Ex4.m2.2.3.3.1.cmml">⁢</mo><mi id="S3.Ex4.m2.2.3.3.3" xref="S3.Ex4.m2.2.3.3.3.cmml">O</mi><mo id="S3.Ex4.m2.2.3.3.1a" xref="S3.Ex4.m2.2.3.3.1.cmml">⁢</mo><mi id="S3.Ex4.m2.2.3.3.4" xref="S3.Ex4.m2.2.3.3.4.cmml">F</mi><mo id="S3.Ex4.m2.2.3.3.1b" xref="S3.Ex4.m2.2.3.3.1.cmml">⁢</mo><msub id="S3.Ex4.m2.2.3.3.5" xref="S3.Ex4.m2.2.3.3.5.cmml"><mi id="S3.Ex4.m2.2.3.3.5.2" xref="S3.Ex4.m2.2.3.3.5.2.cmml">A</mi><mi id="S3.Ex4.m2.2.3.3.5.3" xref="S3.Ex4.m2.2.3.3.5.3.cmml">v</mi></msub><mo id="S3.Ex4.m2.2.3.3.1c" xref="S3.Ex4.m2.2.3.3.1.cmml">⁢</mo><mrow id="S3.Ex4.m2.2.3.3.6.2" xref="S3.Ex4.m2.2.3.3.6.1.cmml"><mo id="S3.Ex4.m2.2.3.3.6.2.1" stretchy="false" xref="S3.Ex4.m2.2.3.3.6.1.cmml">(</mo><mi id="S3.Ex4.m2.1.1" xref="S3.Ex4.m2.1.1.cmml">ρ</mi><mo id="S3.Ex4.m2.2.3.3.6.2.2" xref="S3.Ex4.m2.2.3.3.6.1.cmml">,</mo><mover accent="true" id="S3.Ex4.m2.2.2" xref="S3.Ex4.m2.2.2.cmml"><msub id="S3.Ex4.m2.2.2.2" xref="S3.Ex4.m2.2.2.2.cmml"><mi id="S3.Ex4.m2.2.2.2.2" xref="S3.Ex4.m2.2.2.2.2.cmml">u</mi><mi id="S3.Ex4.m2.2.2.2.3" xref="S3.Ex4.m2.2.2.2.3.cmml">i</mi></msub><mo id="S3.Ex4.m2.2.2.1" stretchy="false" xref="S3.Ex4.m2.2.2.1.cmml">→</mo></mover><mo id="S3.Ex4.m2.2.3.3.6.2.3" stretchy="false" xref="S3.Ex4.m2.2.3.3.6.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex4.m2.2b"><apply id="S3.Ex4.m2.2.3.cmml" xref="S3.Ex4.m2.2.3"><eq id="S3.Ex4.m2.2.3.1.cmml" xref="S3.Ex4.m2.2.3.1"></eq><csymbol cd="latexml" id="S3.Ex4.m2.2.3.2.cmml" xref="S3.Ex4.m2.2.3.2">absent</csymbol><apply id="S3.Ex4.m2.2.3.3.cmml" xref="S3.Ex4.m2.2.3.3"><times id="S3.Ex4.m2.2.3.3.1.cmml" xref="S3.Ex4.m2.2.3.3.1"></times><ci id="S3.Ex4.m2.2.3.3.2.cmml" xref="S3.Ex4.m2.2.3.3.2">𝑆</ci><ci id="S3.Ex4.m2.2.3.3.3.cmml" xref="S3.Ex4.m2.2.3.3.3">𝑂</ci><ci id="S3.Ex4.m2.2.3.3.4.cmml" xref="S3.Ex4.m2.2.3.3.4">𝐹</ci><apply id="S3.Ex4.m2.2.3.3.5.cmml" xref="S3.Ex4.m2.2.3.3.5"><csymbol cd="ambiguous" id="S3.Ex4.m2.2.3.3.5.1.cmml" xref="S3.Ex4.m2.2.3.3.5">subscript</csymbol><ci id="S3.Ex4.m2.2.3.3.5.2.cmml" xref="S3.Ex4.m2.2.3.3.5.2">𝐴</ci><ci id="S3.Ex4.m2.2.3.3.5.3.cmml" xref="S3.Ex4.m2.2.3.3.5.3">𝑣</ci></apply><interval closure="open" id="S3.Ex4.m2.2.3.3.6.1.cmml" xref="S3.Ex4.m2.2.3.3.6.2"><ci id="S3.Ex4.m2.1.1.cmml" xref="S3.Ex4.m2.1.1">𝜌</ci><apply id="S3.Ex4.m2.2.2.cmml" xref="S3.Ex4.m2.2.2"><ci id="S3.Ex4.m2.2.2.1.cmml" xref="S3.Ex4.m2.2.2.1">→</ci><apply id="S3.Ex4.m2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex4.m2.2.2.2.1.cmml" xref="S3.Ex4.m2.2.2.2">subscript</csymbol><ci id="S3.Ex4.m2.2.2.2.2.cmml" xref="S3.Ex4.m2.2.2.2.2">𝑢</ci><ci id="S3.Ex4.m2.2.2.2.3.cmml" xref="S3.Ex4.m2.2.2.2.3">𝑖</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex4.m2.2c">\displaystyle=SOFA_{v}(\rho,\vec{u_{i}})</annotation><annotation encoding="application/x-llamapun" id="S3.Ex4.m2.2d">= italic_S italic_O italic_F italic_A start_POSTSUBSCRIPT italic_v end_POSTSUBSCRIPT ( italic_ρ , over→ start_ARG italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\rho\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}(w\times%
\mathcal{M}(\rho-\rho_{i}))^{2}\right)\vec{u_{i}}" class="ltx_Math" display="inline" id="S3.E7.m1.1"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml"><mi id="S3.E7.m1.1.1.3" xref="S3.E7.m1.1.1.3.cmml"></mi><mo id="S3.E7.m1.1.1.2" xref="S3.E7.m1.1.1.2.cmml">=</mo><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.3" xref="S3.E7.m1.1.1.1.3.cmml">ρ</mi><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.2.cmml"><munderover id="S3.E7.m1.1.1.1.1.2a" xref="S3.E7.m1.1.1.1.1.2.cmml"><mo id="S3.E7.m1.1.1.1.1.2.2.2" movablelimits="false" xref="S3.E7.m1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E7.m1.1.1.1.1.2.2.3" xref="S3.E7.m1.1.1.1.1.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.2.2.3.2" xref="S3.E7.m1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E7.m1.1.1.1.1.2.2.3.1" xref="S3.E7.m1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E7.m1.1.1.1.1.2.2.3.3" xref="S3.E7.m1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E7.m1.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.2.3.cmml">n</mi></munderover></mstyle><mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mtext id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.3a.cmml">softmax</mtext><mo id="S3.E7.m1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.1.1a" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3a" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">1</mn><mn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></mfrac></mstyle><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><msup id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">w</mi><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">×</mo><mi class="ltx_font_mathcaligraphic" id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">ℳ</mi></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">ρ</mi><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">ρ</mi><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E7.m1.1.1.1.1.1.2a" xref="S3.E7.m1.1.1.1.1.1.2.cmml">⁢</mo><mover accent="true" id="S3.E7.m1.1.1.1.1.1.4" xref="S3.E7.m1.1.1.1.1.1.4.cmml"><msub id="S3.E7.m1.1.1.1.1.1.4.2" xref="S3.E7.m1.1.1.1.1.1.4.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.4.2.2" xref="S3.E7.m1.1.1.1.1.1.4.2.2.cmml">u</mi><mi id="S3.E7.m1.1.1.1.1.1.4.2.3" xref="S3.E7.m1.1.1.1.1.1.4.2.3.cmml">i</mi></msub><mo id="S3.E7.m1.1.1.1.1.1.4.1" stretchy="false" xref="S3.E7.m1.1.1.1.1.1.4.1.cmml">→</mo></mover></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1"><eq id="S3.E7.m1.1.1.2.cmml" xref="S3.E7.m1.1.1.2"></eq><csymbol cd="latexml" id="S3.E7.m1.1.1.3.cmml" xref="S3.E7.m1.1.1.3">absent</csymbol><apply id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><times id="S3.E7.m1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.2"></times><ci id="S3.E7.m1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.3">𝜌</ci><apply id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1"><apply id="S3.E7.m1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.2">superscript</csymbol><apply id="S3.E7.m1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.2">subscript</csymbol><sum id="S3.E7.m1.1.1.1.1.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.2"></sum><apply id="S3.E7.m1.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.2.2.3"><eq id="S3.E7.m1.1.1.1.1.2.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.2.2.3.1"></eq><ci id="S3.E7.m1.1.1.1.1.2.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S3.E7.m1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S3.E7.m1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E7.m1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.2.3">𝑛</ci></apply><apply id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.2"></times><ci id="S3.E7.m1.1.1.1.1.1.3a.cmml" xref="S3.E7.m1.1.1.1.1.1.3"><mtext id="S3.E7.m1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3">softmax</mtext></ci><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1"><minus id="S3.E7.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1"></minus><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3"><divide id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3"></divide><cn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" type="integer" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.2">1</cn><cn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑤</ci><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">ℳ</ci></apply><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝜌</ci><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝜌</ci><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><cn id="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.1.3">2</cn></apply></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.4.cmml" xref="S3.E7.m1.1.1.1.1.1.4"><ci id="S3.E7.m1.1.1.1.1.1.4.1.cmml" xref="S3.E7.m1.1.1.1.1.1.4.1">→</ci><apply id="S3.E7.m1.1.1.1.1.1.4.2.cmml" xref="S3.E7.m1.1.1.1.1.1.4.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.4.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.4.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.4.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.4.2.2">𝑢</ci><ci id="S3.E7.m1.1.1.1.1.1.4.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.4.2.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\displaystyle=\rho\sum_{i=1}^{n}\textrm{softmax}\left(-\frac{1}{2}(w\times%
\mathcal{M}(\rho-\rho_{i}))^{2}\right)\vec{u_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.1d">= italic_ρ ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT softmax ( - divide start_ARG 1 end_ARG start_ARG 2 end_ARG ( italic_w × caligraphic_M ( italic_ρ - italic_ρ start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ) over→ start_ARG italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p8.2"><math alttext="\vec{u_{i}}" class="ltx_Math" display="inline" id="S3.SS2.p8.1.m1.1"><semantics id="S3.SS2.p8.1.m1.1a"><mover accent="true" id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml"><msub id="S3.SS2.p8.1.m1.1.1.2" xref="S3.SS2.p8.1.m1.1.1.2.cmml"><mi id="S3.SS2.p8.1.m1.1.1.2.2" xref="S3.SS2.p8.1.m1.1.1.2.2.cmml">u</mi><mi id="S3.SS2.p8.1.m1.1.1.2.3" xref="S3.SS2.p8.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p8.1.m1.1.1.1" stretchy="false" xref="S3.SS2.p8.1.m1.1.1.1.cmml">→</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><apply id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1"><ci id="S3.SS2.p8.1.m1.1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1.1">→</ci><apply id="S3.SS2.p8.1.m1.1.1.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p8.1.m1.1.1.2.1.cmml" xref="S3.SS2.p8.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p8.1.m1.1.1.2.2.cmml" xref="S3.SS2.p8.1.m1.1.1.2.2">𝑢</ci><ci id="S3.SS2.p8.1.m1.1.1.2.3.cmml" xref="S3.SS2.p8.1.m1.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">\vec{u_{i}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.1.m1.1d">over→ start_ARG italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math> is the unit offset. <math alttext="\dot{\vec{o}}" class="ltx_Math" display="inline" id="S3.SS2.p8.2.m2.1"><semantics id="S3.SS2.p8.2.m2.1a"><mover accent="true" id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml"><mover accent="true" id="S3.SS2.p8.2.m2.1.1.2" xref="S3.SS2.p8.2.m2.1.1.2.cmml"><mi id="S3.SS2.p8.2.m2.1.1.2.2" xref="S3.SS2.p8.2.m2.1.1.2.2.cmml">o</mi><mo id="S3.SS2.p8.2.m2.1.1.2.1" stretchy="false" xref="S3.SS2.p8.2.m2.1.1.2.1.cmml">→</mo></mover><mo id="S3.SS2.p8.2.m2.1.1.1" xref="S3.SS2.p8.2.m2.1.1.1.cmml">˙</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><apply id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1"><ci id="S3.SS2.p8.2.m2.1.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1.1">˙</ci><apply id="S3.SS2.p8.2.m2.1.1.2.cmml" xref="S3.SS2.p8.2.m2.1.1.2"><ci id="S3.SS2.p8.2.m2.1.1.2.1.cmml" xref="S3.SS2.p8.2.m2.1.1.2.1">→</ci><ci id="S3.SS2.p8.2.m2.1.1.2.2.cmml" xref="S3.SS2.p8.2.m2.1.1.2.2">𝑜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">\dot{\vec{o}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p8.2.m2.1d">over˙ start_ARG over→ start_ARG italic_o end_ARG end_ARG</annotation></semantics></math> is the output offset.</p>
</div>
<div class="ltx_para" id="S3.SS2.p9">
<p class="ltx_p" id="S3.SS2.p9.2">From Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.Ex3" title="3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3.2</span></a> and Eq.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.Ex4" title="3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3.2</span></a>, SOFA is a portable and plug-and-play block,
because (1) the learnable parameter <math alttext="w" class="ltx_Math" display="inline" id="S3.SS2.p9.1.m1.1"><semantics id="S3.SS2.p9.1.m1.1a"><mi id="S3.SS2.p9.1.m1.1.1" xref="S3.SS2.p9.1.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.1.m1.1b"><ci id="S3.SS2.p9.1.m1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.1.m1.1c">w</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p9.1.m1.1d">italic_w</annotation></semantics></math> was light;
(2) in one off-nadir image <span class="ltx_text ltx_font_italic" id="S3.SS2.p9.2.1">I</span>, the number of buildings <math alttext="N" class="ltx_Math" display="inline" id="S3.SS2.p9.2.m2.1"><semantics id="S3.SS2.p9.2.m2.1a"><mi id="S3.SS2.p9.2.m2.1.1" xref="S3.SS2.p9.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.2.m2.1b"><ci id="S3.SS2.p9.2.m2.1.1.cmml" xref="S3.SS2.p9.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.2.m2.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p9.2.m2.1d">italic_N</annotation></semantics></math> tend to be under 100, which makes the spatial operation of the matrix not consume much GPU memory.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Network Structure</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.F2" title="Figure 2 ‣ 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a> (a) illustrate the proposed architecture of Offset Building Model v2 (OBMv2).
OBMv2 has four new concepts compared with OBM.
Firstly, Self Offset Attention block is inserted between FFN and Offset Coder ROAM structure.
SOFA block provides a global awareness for each offset head and encoded offset to ensure shorter offsets can better minimize offset error.
Secondly, prompt-level vertex segmentation is added in the decoder part via a vertex token. These tasks will finally be integrated with HiSup <cite class="ltx_cite ltx_citemacro_citep">(Xu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib39" title="">2023</a>)</cite> to extract polygon.
Thirdly, OBMv2 can receive automatic prompt from other models via a Proposal Network.
Lastly, OBMv2 adopts roof-related information as prompting to reduce the adhesive relationship between buildings and achieve better differentiation of buildings.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">To facilitate understanding, network structure will be detailed into three aspects:
Extracting Polygonal Footprints, Proposal Network and Network Setting.</p>
</div>
<section class="ltx_subsubsection ltx_indent_first" id="S3.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.1 </span>Extracting Polygonal Footprints</h4>
<div class="ltx_para" id="S3.SS3.SSS1.p1">
<p class="ltx_p" id="S3.SS3.SSS1.p1.1">OBM is not capable of extracting polygonal footprints.
To insert this function, OBMv2 using a existing roof segmentation task and a vertex segmentation task.
The whole data flow was illustrated in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.F2" title="Figure 2 ‣ 3.2 Self Offset Attention (SOFA) ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a> (a).
To begin with, a new vertex token was initialized together with mask tokens and offset tokens for each prompt.
Then, these tokens will be inputted into a two-way-transformer with custom prompt token.
The output of the transformer will be divided into two streams.
In the mask prediction stream, vertex token will be concatenated with mask tokens;
after using FFN, those tokens will divide image embeddings into roof masks, building masks and vertex masks.
Using methods in HiSup, roof masks and vertex masks will finally get the simplified polygonal roofs.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSS1.p2">
<p class="ltx_p" id="S3.SS3.SSS1.p2.1">In another stream, offset tokens will be passed to FFNs of ROAM structure, and the outputs of them were encoded offsets.
Then, these encoded offsets will be passed into SOFA block to help them adjust themselves in a global view.
The output of SOFA will be decoded as the methods of OBM. The final polygonal footprints can be calculated directly using the polygonal roofs and offsets.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S3.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.2 </span>Proposal Network</h4>
<div class="ltx_para" id="S3.SS3.SSS2.p1">
<p class="ltx_p" id="S3.SS3.SSS2.p1.1">Promptable models commonly have a problem: how to activate and promote their functions.
This was widely studied especially in NLP <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib7" title="">2023</a>)</cite>.
As a result, proposal network was designed for automatic prompting OBMv2.
The network can be defined as an instance segmentation model, semantic segmentation model or object detection model.
OBMv2 provides a basic semantic segmentation head inspired by Segmenter <cite class="ltx_cite ltx_citemacro_citep">(Strudel et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib32" title="">2021</a>)</cite> and SAM-HQ <cite class="ltx_cite ltx_citemacro_citep">(Ke et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib13" title="">2024</a>)</cite>.
Image embeddings from image encoder will be passed to a segmenter mask transformer.
The outputted image embeddings will be upsampled <math alttext="4\times" class="ltx_math_unparsed" display="inline" id="S3.SS3.SSS2.p1.1.m1.1"><semantics id="S3.SS3.SSS2.p1.1.m1.1a"><mrow id="S3.SS3.SSS2.p1.1.m1.1b"><mn id="S3.SS3.SSS2.p1.1.m1.1.1">4</mn><mo id="S3.SS3.SSS2.p1.1.m1.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S3.SS3.SSS2.p1.1.m1.1c">4\times</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS2.p1.1.m1.1d">4 ×</annotation></semantics></math> as high quality embeddings.
The these embeddings will be used to regress roofs.
In this paper, more different proposal modes were applied to explore how to reach the maximum of OBMv2 in Sec.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.SS4" title="3.4 RAG in BFE ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3.4</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S3.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.3.3 </span>Network Setting</h4>
<div class="ltx_para" id="S3.SS3.SSS3.p1">
<p class="ltx_p" id="S3.SS3.SSS3.p1.4">The OBM’s losses were combined with two parts: prompt-level segmentation loss and offset losses in ROAM, which can be expressed as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\mathcal{L}_{OBM}=\mathcal{L}_{ROAM}+\mathcal{L}_{roof}+\mathcal{L}_{building}" class="ltx_Math" display="block" id="S3.E8.m1.1"><semantics id="S3.E8.m1.1a"><mrow id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml"><msub id="S3.E8.m1.1.1.2" xref="S3.E8.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.1.1.2.2" xref="S3.E8.m1.1.1.2.2.cmml">ℒ</mi><mrow id="S3.E8.m1.1.1.2.3" xref="S3.E8.m1.1.1.2.3.cmml"><mi id="S3.E8.m1.1.1.2.3.2" xref="S3.E8.m1.1.1.2.3.2.cmml">O</mi><mo id="S3.E8.m1.1.1.2.3.1" xref="S3.E8.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.2.3.3" xref="S3.E8.m1.1.1.2.3.3.cmml">B</mi><mo id="S3.E8.m1.1.1.2.3.1a" xref="S3.E8.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.2.3.4" xref="S3.E8.m1.1.1.2.3.4.cmml">M</mi></mrow></msub><mo id="S3.E8.m1.1.1.1" xref="S3.E8.m1.1.1.1.cmml">=</mo><mrow id="S3.E8.m1.1.1.3" xref="S3.E8.m1.1.1.3.cmml"><msub id="S3.E8.m1.1.1.3.2" xref="S3.E8.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.1.1.3.2.2" xref="S3.E8.m1.1.1.3.2.2.cmml">ℒ</mi><mrow id="S3.E8.m1.1.1.3.2.3" xref="S3.E8.m1.1.1.3.2.3.cmml"><mi id="S3.E8.m1.1.1.3.2.3.2" xref="S3.E8.m1.1.1.3.2.3.2.cmml">R</mi><mo id="S3.E8.m1.1.1.3.2.3.1" xref="S3.E8.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.2.3.3" xref="S3.E8.m1.1.1.3.2.3.3.cmml">O</mi><mo id="S3.E8.m1.1.1.3.2.3.1a" xref="S3.E8.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.2.3.4" xref="S3.E8.m1.1.1.3.2.3.4.cmml">A</mi><mo id="S3.E8.m1.1.1.3.2.3.1b" xref="S3.E8.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.2.3.5" xref="S3.E8.m1.1.1.3.2.3.5.cmml">M</mi></mrow></msub><mo id="S3.E8.m1.1.1.3.1" xref="S3.E8.m1.1.1.3.1.cmml">+</mo><msub id="S3.E8.m1.1.1.3.3" xref="S3.E8.m1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.1.1.3.3.2" xref="S3.E8.m1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S3.E8.m1.1.1.3.3.3" xref="S3.E8.m1.1.1.3.3.3.cmml"><mi id="S3.E8.m1.1.1.3.3.3.2" xref="S3.E8.m1.1.1.3.3.3.2.cmml">r</mi><mo id="S3.E8.m1.1.1.3.3.3.1" xref="S3.E8.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.3.3.3" xref="S3.E8.m1.1.1.3.3.3.3.cmml">o</mi><mo id="S3.E8.m1.1.1.3.3.3.1a" xref="S3.E8.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.3.3.4" xref="S3.E8.m1.1.1.3.3.3.4.cmml">o</mi><mo id="S3.E8.m1.1.1.3.3.3.1b" xref="S3.E8.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.3.3.5" xref="S3.E8.m1.1.1.3.3.3.5.cmml">f</mi></mrow></msub><mo id="S3.E8.m1.1.1.3.1a" xref="S3.E8.m1.1.1.3.1.cmml">+</mo><msub id="S3.E8.m1.1.1.3.4" xref="S3.E8.m1.1.1.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m1.1.1.3.4.2" xref="S3.E8.m1.1.1.3.4.2.cmml">ℒ</mi><mrow id="S3.E8.m1.1.1.3.4.3" xref="S3.E8.m1.1.1.3.4.3.cmml"><mi id="S3.E8.m1.1.1.3.4.3.2" xref="S3.E8.m1.1.1.3.4.3.2.cmml">b</mi><mo id="S3.E8.m1.1.1.3.4.3.1" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.3" xref="S3.E8.m1.1.1.3.4.3.3.cmml">u</mi><mo id="S3.E8.m1.1.1.3.4.3.1a" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.4" xref="S3.E8.m1.1.1.3.4.3.4.cmml">i</mi><mo id="S3.E8.m1.1.1.3.4.3.1b" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.5" xref="S3.E8.m1.1.1.3.4.3.5.cmml">l</mi><mo id="S3.E8.m1.1.1.3.4.3.1c" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.6" xref="S3.E8.m1.1.1.3.4.3.6.cmml">d</mi><mo id="S3.E8.m1.1.1.3.4.3.1d" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.7" xref="S3.E8.m1.1.1.3.4.3.7.cmml">i</mi><mo id="S3.E8.m1.1.1.3.4.3.1e" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.8" xref="S3.E8.m1.1.1.3.4.3.8.cmml">n</mi><mo id="S3.E8.m1.1.1.3.4.3.1f" xref="S3.E8.m1.1.1.3.4.3.1.cmml">⁢</mo><mi id="S3.E8.m1.1.1.3.4.3.9" xref="S3.E8.m1.1.1.3.4.3.9.cmml">g</mi></mrow></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1"><eq id="S3.E8.m1.1.1.1.cmml" xref="S3.E8.m1.1.1.1"></eq><apply id="S3.E8.m1.1.1.2.cmml" xref="S3.E8.m1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.2">subscript</csymbol><ci id="S3.E8.m1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.2.2">ℒ</ci><apply id="S3.E8.m1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.2.3"><times id="S3.E8.m1.1.1.2.3.1.cmml" xref="S3.E8.m1.1.1.2.3.1"></times><ci id="S3.E8.m1.1.1.2.3.2.cmml" xref="S3.E8.m1.1.1.2.3.2">𝑂</ci><ci id="S3.E8.m1.1.1.2.3.3.cmml" xref="S3.E8.m1.1.1.2.3.3">𝐵</ci><ci id="S3.E8.m1.1.1.2.3.4.cmml" xref="S3.E8.m1.1.1.2.3.4">𝑀</ci></apply></apply><apply id="S3.E8.m1.1.1.3.cmml" xref="S3.E8.m1.1.1.3"><plus id="S3.E8.m1.1.1.3.1.cmml" xref="S3.E8.m1.1.1.3.1"></plus><apply id="S3.E8.m1.1.1.3.2.cmml" xref="S3.E8.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.2.1.cmml" xref="S3.E8.m1.1.1.3.2">subscript</csymbol><ci id="S3.E8.m1.1.1.3.2.2.cmml" xref="S3.E8.m1.1.1.3.2.2">ℒ</ci><apply id="S3.E8.m1.1.1.3.2.3.cmml" xref="S3.E8.m1.1.1.3.2.3"><times id="S3.E8.m1.1.1.3.2.3.1.cmml" xref="S3.E8.m1.1.1.3.2.3.1"></times><ci id="S3.E8.m1.1.1.3.2.3.2.cmml" xref="S3.E8.m1.1.1.3.2.3.2">𝑅</ci><ci id="S3.E8.m1.1.1.3.2.3.3.cmml" xref="S3.E8.m1.1.1.3.2.3.3">𝑂</ci><ci id="S3.E8.m1.1.1.3.2.3.4.cmml" xref="S3.E8.m1.1.1.3.2.3.4">𝐴</ci><ci id="S3.E8.m1.1.1.3.2.3.5.cmml" xref="S3.E8.m1.1.1.3.2.3.5">𝑀</ci></apply></apply><apply id="S3.E8.m1.1.1.3.3.cmml" xref="S3.E8.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.3.1.cmml" xref="S3.E8.m1.1.1.3.3">subscript</csymbol><ci id="S3.E8.m1.1.1.3.3.2.cmml" xref="S3.E8.m1.1.1.3.3.2">ℒ</ci><apply id="S3.E8.m1.1.1.3.3.3.cmml" xref="S3.E8.m1.1.1.3.3.3"><times id="S3.E8.m1.1.1.3.3.3.1.cmml" xref="S3.E8.m1.1.1.3.3.3.1"></times><ci id="S3.E8.m1.1.1.3.3.3.2.cmml" xref="S3.E8.m1.1.1.3.3.3.2">𝑟</ci><ci id="S3.E8.m1.1.1.3.3.3.3.cmml" xref="S3.E8.m1.1.1.3.3.3.3">𝑜</ci><ci id="S3.E8.m1.1.1.3.3.3.4.cmml" xref="S3.E8.m1.1.1.3.3.3.4">𝑜</ci><ci id="S3.E8.m1.1.1.3.3.3.5.cmml" xref="S3.E8.m1.1.1.3.3.3.5">𝑓</ci></apply></apply><apply id="S3.E8.m1.1.1.3.4.cmml" xref="S3.E8.m1.1.1.3.4"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.3.4.1.cmml" xref="S3.E8.m1.1.1.3.4">subscript</csymbol><ci id="S3.E8.m1.1.1.3.4.2.cmml" xref="S3.E8.m1.1.1.3.4.2">ℒ</ci><apply id="S3.E8.m1.1.1.3.4.3.cmml" xref="S3.E8.m1.1.1.3.4.3"><times id="S3.E8.m1.1.1.3.4.3.1.cmml" xref="S3.E8.m1.1.1.3.4.3.1"></times><ci id="S3.E8.m1.1.1.3.4.3.2.cmml" xref="S3.E8.m1.1.1.3.4.3.2">𝑏</ci><ci id="S3.E8.m1.1.1.3.4.3.3.cmml" xref="S3.E8.m1.1.1.3.4.3.3">𝑢</ci><ci id="S3.E8.m1.1.1.3.4.3.4.cmml" xref="S3.E8.m1.1.1.3.4.3.4">𝑖</ci><ci id="S3.E8.m1.1.1.3.4.3.5.cmml" xref="S3.E8.m1.1.1.3.4.3.5">𝑙</ci><ci id="S3.E8.m1.1.1.3.4.3.6.cmml" xref="S3.E8.m1.1.1.3.4.3.6">𝑑</ci><ci id="S3.E8.m1.1.1.3.4.3.7.cmml" xref="S3.E8.m1.1.1.3.4.3.7">𝑖</ci><ci id="S3.E8.m1.1.1.3.4.3.8.cmml" xref="S3.E8.m1.1.1.3.4.3.8">𝑛</ci><ci id="S3.E8.m1.1.1.3.4.3.9.cmml" xref="S3.E8.m1.1.1.3.4.3.9">𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">\mathcal{L}_{OBM}=\mathcal{L}_{ROAM}+\mathcal{L}_{roof}+\mathcal{L}_{building}</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_O italic_B italic_M end_POSTSUBSCRIPT = caligraphic_L start_POSTSUBSCRIPT italic_R italic_O italic_A italic_M end_POSTSUBSCRIPT + caligraphic_L start_POSTSUBSCRIPT italic_r italic_o italic_o italic_f end_POSTSUBSCRIPT + caligraphic_L start_POSTSUBSCRIPT italic_b italic_u italic_i italic_l italic_d italic_i italic_n italic_g end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS3.p1.3">where <math alttext="\mathcal{L}_{ROAM}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p1.1.m1.1"><semantics id="S3.SS3.SSS3.p1.1.m1.1a"><msub id="S3.SS3.SSS3.p1.1.m1.1.1" xref="S3.SS3.SSS3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p1.1.m1.1.1.2" xref="S3.SS3.SSS3.p1.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS3.p1.1.m1.1.1.3" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS3.SSS3.p1.1.m1.1.1.3.2" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.2.cmml">R</mi><mo id="S3.SS3.SSS3.p1.1.m1.1.1.3.1" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.1.m1.1.1.3.3" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.3.cmml">O</mi><mo id="S3.SS3.SSS3.p1.1.m1.1.1.3.1a" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.1.m1.1.1.3.4" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.4.cmml">A</mi><mo id="S3.SS3.SSS3.p1.1.m1.1.1.3.1b" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.1.m1.1.1.3.5" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.5.cmml">M</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p1.1.m1.1b"><apply id="S3.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.2">ℒ</ci><apply id="S3.SS3.SSS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3"><times id="S3.SS3.SSS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.1"></times><ci id="S3.SS3.SSS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.2">𝑅</ci><ci id="S3.SS3.SSS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.3">𝑂</ci><ci id="S3.SS3.SSS3.p1.1.m1.1.1.3.4.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.4">𝐴</ci><ci id="S3.SS3.SSS3.p1.1.m1.1.1.3.5.cmml" xref="S3.SS3.SSS3.p1.1.m1.1.1.3.5">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p1.1.m1.1c">\mathcal{L}_{ROAM}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p1.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT italic_R italic_O italic_A italic_M end_POSTSUBSCRIPT</annotation></semantics></math> is the loss of ROAM, and SmoothL1 Loss <cite class="ltx_cite ltx_citemacro_cite">Girshick (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib9" title="">2015</a>)</cite> was applied for each offset head.
<math alttext="\mathcal{L}_{roof}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p1.2.m2.1"><semantics id="S3.SS3.SSS3.p1.2.m2.1a"><msub id="S3.SS3.SSS3.p1.2.m2.1.1" xref="S3.SS3.SSS3.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p1.2.m2.1.1.2" xref="S3.SS3.SSS3.p1.2.m2.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS3.p1.2.m2.1.1.3" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.cmml"><mi id="S3.SS3.SSS3.p1.2.m2.1.1.3.2" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.2.cmml">r</mi><mo id="S3.SS3.SSS3.p1.2.m2.1.1.3.1" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.2.m2.1.1.3.3" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.3.cmml">o</mi><mo id="S3.SS3.SSS3.p1.2.m2.1.1.3.1a" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.2.m2.1.1.3.4" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.4.cmml">o</mi><mo id="S3.SS3.SSS3.p1.2.m2.1.1.3.1b" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.2.m2.1.1.3.5" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.5.cmml">f</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p1.2.m2.1b"><apply id="S3.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.SSS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.2">ℒ</ci><apply id="S3.SS3.SSS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3"><times id="S3.SS3.SSS3.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.1"></times><ci id="S3.SS3.SSS3.p1.2.m2.1.1.3.2.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.2">𝑟</ci><ci id="S3.SS3.SSS3.p1.2.m2.1.1.3.3.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.3">𝑜</ci><ci id="S3.SS3.SSS3.p1.2.m2.1.1.3.4.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.4">𝑜</ci><ci id="S3.SS3.SSS3.p1.2.m2.1.1.3.5.cmml" xref="S3.SS3.SSS3.p1.2.m2.1.1.3.5">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p1.2.m2.1c">\mathcal{L}_{roof}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p1.2.m2.1d">caligraphic_L start_POSTSUBSCRIPT italic_r italic_o italic_o italic_f end_POSTSUBSCRIPT</annotation></semantics></math> is CrossEntropy Loss <cite class="ltx_cite ltx_citemacro_cite">Shannon (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib31" title="">1948</a>)</cite> of roof segmentation, and <math alttext="\mathcal{L}_{building}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p1.3.m3.1"><semantics id="S3.SS3.SSS3.p1.3.m3.1a"><msub id="S3.SS3.SSS3.p1.3.m3.1.1" xref="S3.SS3.SSS3.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.SSS3.p1.3.m3.1.1.2" xref="S3.SS3.SSS3.p1.3.m3.1.1.2.cmml">ℒ</mi><mrow id="S3.SS3.SSS3.p1.3.m3.1.1.3" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.cmml"><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.2" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.2.cmml">b</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.3" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.3.cmml">u</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1a" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.4" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.4.cmml">i</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1b" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.5" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.5.cmml">l</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1c" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.6" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.6.cmml">d</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1d" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.7" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.7.cmml">i</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1e" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.8" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.8.cmml">n</mi><mo id="S3.SS3.SSS3.p1.3.m3.1.1.3.1f" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S3.SS3.SSS3.p1.3.m3.1.1.3.9" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.9.cmml">g</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p1.3.m3.1b"><apply id="S3.SS3.SSS3.p1.3.m3.1.1.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p1.3.m3.1.1.1.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.SSS3.p1.3.m3.1.1.2.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.2">ℒ</ci><apply id="S3.SS3.SSS3.p1.3.m3.1.1.3.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3"><times id="S3.SS3.SSS3.p1.3.m3.1.1.3.1.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.1"></times><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.2.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.2">𝑏</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.3.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.3">𝑢</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.4.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.4">𝑖</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.5.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.5">𝑙</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.6.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.6">𝑑</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.7.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.7">𝑖</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.8.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.8">𝑛</ci><ci id="S3.SS3.SSS3.p1.3.m3.1.1.3.9.cmml" xref="S3.SS3.SSS3.p1.3.m3.1.1.3.9">𝑔</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p1.3.m3.1c">\mathcal{L}_{building}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p1.3.m3.1d">caligraphic_L start_POSTSUBSCRIPT italic_b italic_u italic_i italic_l italic_d italic_i italic_n italic_g end_POSTSUBSCRIPT</annotation></semantics></math> is CrossEntropy Loss of building segmentation.</p>
</div>
<div class="ltx_para" id="S3.SS3.SSS3.p2">
<p class="ltx_p" id="S3.SS3.SSS3.p2.9">For two new tasks, CrossEntropy Loss is applied for roof semantic segmentation. In prompt-level vertex segmentation, the model outputs a vertex map for each building.
Because vertex map containing the whole scope of inputted image, this means most of the pixels will be valued as a negative sample by 0.
Sparse positive keypoints will mislead the model to predict negative samples only.
While via experiments, if the model uses a fixed window size to crop the building area, it can lead to severe grid effects.
As a result, Dynamic Scope Binary Cross Entropy Loss (DS-BCE Loss) was designed for prompt-level vertex segmentation:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\mathcal{L}_{vetex}=\sum^{p\in Z+\Delta}{-y_{p}\log{y^{\prime}_{p}}-(1-y_{p})%
\log(1-y^{\prime}_{p})}" class="ltx_Math" display="block" id="S3.E9.m1.3"><semantics id="S3.E9.m1.3a"><mrow id="S3.E9.m1.3.3" xref="S3.E9.m1.3.3.cmml"><msub id="S3.E9.m1.3.3.4" xref="S3.E9.m1.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.3.3.4.2" xref="S3.E9.m1.3.3.4.2.cmml">ℒ</mi><mrow id="S3.E9.m1.3.3.4.3" xref="S3.E9.m1.3.3.4.3.cmml"><mi id="S3.E9.m1.3.3.4.3.2" xref="S3.E9.m1.3.3.4.3.2.cmml">v</mi><mo id="S3.E9.m1.3.3.4.3.1" xref="S3.E9.m1.3.3.4.3.1.cmml">⁢</mo><mi id="S3.E9.m1.3.3.4.3.3" xref="S3.E9.m1.3.3.4.3.3.cmml">e</mi><mo id="S3.E9.m1.3.3.4.3.1a" xref="S3.E9.m1.3.3.4.3.1.cmml">⁢</mo><mi id="S3.E9.m1.3.3.4.3.4" xref="S3.E9.m1.3.3.4.3.4.cmml">t</mi><mo id="S3.E9.m1.3.3.4.3.1b" xref="S3.E9.m1.3.3.4.3.1.cmml">⁢</mo><mi id="S3.E9.m1.3.3.4.3.5" xref="S3.E9.m1.3.3.4.3.5.cmml">e</mi><mo id="S3.E9.m1.3.3.4.3.1c" xref="S3.E9.m1.3.3.4.3.1.cmml">⁢</mo><mi id="S3.E9.m1.3.3.4.3.6" xref="S3.E9.m1.3.3.4.3.6.cmml">x</mi></mrow></msub><mo id="S3.E9.m1.3.3.3" rspace="0.111em" xref="S3.E9.m1.3.3.3.cmml">=</mo><mrow id="S3.E9.m1.3.3.2" xref="S3.E9.m1.3.3.2.cmml"><mover id="S3.E9.m1.3.3.2.4" xref="S3.E9.m1.3.3.2.4.cmml"><mo id="S3.E9.m1.3.3.2.4.2" movablelimits="false" rspace="0em" xref="S3.E9.m1.3.3.2.4.2.cmml">∑</mo><mrow id="S3.E9.m1.3.3.2.4.3" xref="S3.E9.m1.3.3.2.4.3.cmml"><mi id="S3.E9.m1.3.3.2.4.3.2" xref="S3.E9.m1.3.3.2.4.3.2.cmml">p</mi><mo id="S3.E9.m1.3.3.2.4.3.1" xref="S3.E9.m1.3.3.2.4.3.1.cmml">∈</mo><mrow id="S3.E9.m1.3.3.2.4.3.3" xref="S3.E9.m1.3.3.2.4.3.3.cmml"><mi id="S3.E9.m1.3.3.2.4.3.3.2" xref="S3.E9.m1.3.3.2.4.3.3.2.cmml">Z</mi><mo id="S3.E9.m1.3.3.2.4.3.3.1" xref="S3.E9.m1.3.3.2.4.3.3.1.cmml">+</mo><mi id="S3.E9.m1.3.3.2.4.3.3.3" mathvariant="normal" xref="S3.E9.m1.3.3.2.4.3.3.3.cmml">Δ</mi></mrow></mrow></mover><mo id="S3.E9.m1.3.3.2.3" lspace="0em" xref="S3.E9.m1.3.3.2.3.cmml">−</mo><mrow id="S3.E9.m1.3.3.2.5" xref="S3.E9.m1.3.3.2.5.cmml"><msub id="S3.E9.m1.3.3.2.5.2" xref="S3.E9.m1.3.3.2.5.2.cmml"><mi id="S3.E9.m1.3.3.2.5.2.2" xref="S3.E9.m1.3.3.2.5.2.2.cmml">y</mi><mi id="S3.E9.m1.3.3.2.5.2.3" xref="S3.E9.m1.3.3.2.5.2.3.cmml">p</mi></msub><mo id="S3.E9.m1.3.3.2.5.1" lspace="0.167em" xref="S3.E9.m1.3.3.2.5.1.cmml">⁢</mo><mrow id="S3.E9.m1.3.3.2.5.3" xref="S3.E9.m1.3.3.2.5.3.cmml"><mi id="S3.E9.m1.3.3.2.5.3.1" xref="S3.E9.m1.3.3.2.5.3.1.cmml">log</mi><mo id="S3.E9.m1.3.3.2.5.3a" lspace="0.167em" xref="S3.E9.m1.3.3.2.5.3.cmml">⁡</mo><msubsup id="S3.E9.m1.3.3.2.5.3.2" xref="S3.E9.m1.3.3.2.5.3.2.cmml"><mi id="S3.E9.m1.3.3.2.5.3.2.2.2" xref="S3.E9.m1.3.3.2.5.3.2.2.2.cmml">y</mi><mi id="S3.E9.m1.3.3.2.5.3.2.3" xref="S3.E9.m1.3.3.2.5.3.2.3.cmml">p</mi><mo id="S3.E9.m1.3.3.2.5.3.2.2.3" xref="S3.E9.m1.3.3.2.5.3.2.2.3.cmml">′</mo></msubsup></mrow></mrow><mo id="S3.E9.m1.3.3.2.3a" xref="S3.E9.m1.3.3.2.3.cmml">−</mo><mrow id="S3.E9.m1.3.3.2.2" xref="S3.E9.m1.3.3.2.2.cmml"><mrow id="S3.E9.m1.2.2.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.cmml"><mo id="S3.E9.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.2.2.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.cmml"><mn id="S3.E9.m1.2.2.1.1.1.1.1.2" xref="S3.E9.m1.2.2.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E9.m1.2.2.1.1.1.1.1.1" xref="S3.E9.m1.2.2.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E9.m1.2.2.1.1.1.1.1.3" xref="S3.E9.m1.2.2.1.1.1.1.1.3.cmml"><mi id="S3.E9.m1.2.2.1.1.1.1.1.3.2" xref="S3.E9.m1.2.2.1.1.1.1.1.3.2.cmml">y</mi><mi id="S3.E9.m1.2.2.1.1.1.1.1.3.3" xref="S3.E9.m1.2.2.1.1.1.1.1.3.3.cmml">p</mi></msub></mrow><mo id="S3.E9.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.E9.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow><mo id="S3.E9.m1.3.3.2.2.3" lspace="0.167em" xref="S3.E9.m1.3.3.2.2.3.cmml">⁢</mo><mrow id="S3.E9.m1.3.3.2.2.2.1" xref="S3.E9.m1.3.3.2.2.2.2.cmml"><mi id="S3.E9.m1.1.1" xref="S3.E9.m1.1.1.cmml">log</mi><mo id="S3.E9.m1.3.3.2.2.2.1a" xref="S3.E9.m1.3.3.2.2.2.2.cmml">⁡</mo><mrow id="S3.E9.m1.3.3.2.2.2.1.1" xref="S3.E9.m1.3.3.2.2.2.2.cmml"><mo id="S3.E9.m1.3.3.2.2.2.1.1.2" stretchy="false" xref="S3.E9.m1.3.3.2.2.2.2.cmml">(</mo><mrow id="S3.E9.m1.3.3.2.2.2.1.1.1" xref="S3.E9.m1.3.3.2.2.2.1.1.1.cmml"><mn id="S3.E9.m1.3.3.2.2.2.1.1.1.2" xref="S3.E9.m1.3.3.2.2.2.1.1.1.2.cmml">1</mn><mo id="S3.E9.m1.3.3.2.2.2.1.1.1.1" xref="S3.E9.m1.3.3.2.2.2.1.1.1.1.cmml">−</mo><msubsup id="S3.E9.m1.3.3.2.2.2.1.1.1.3" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.cmml"><mi id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.2" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E9.m1.3.3.2.2.2.1.1.1.3.3" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.3.cmml">p</mi><mo id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.3" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.3.cmml">′</mo></msubsup></mrow><mo id="S3.E9.m1.3.3.2.2.2.1.1.3" stretchy="false" xref="S3.E9.m1.3.3.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.3b"><apply id="S3.E9.m1.3.3.cmml" xref="S3.E9.m1.3.3"><eq id="S3.E9.m1.3.3.3.cmml" xref="S3.E9.m1.3.3.3"></eq><apply id="S3.E9.m1.3.3.4.cmml" xref="S3.E9.m1.3.3.4"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.4.1.cmml" xref="S3.E9.m1.3.3.4">subscript</csymbol><ci id="S3.E9.m1.3.3.4.2.cmml" xref="S3.E9.m1.3.3.4.2">ℒ</ci><apply id="S3.E9.m1.3.3.4.3.cmml" xref="S3.E9.m1.3.3.4.3"><times id="S3.E9.m1.3.3.4.3.1.cmml" xref="S3.E9.m1.3.3.4.3.1"></times><ci id="S3.E9.m1.3.3.4.3.2.cmml" xref="S3.E9.m1.3.3.4.3.2">𝑣</ci><ci id="S3.E9.m1.3.3.4.3.3.cmml" xref="S3.E9.m1.3.3.4.3.3">𝑒</ci><ci id="S3.E9.m1.3.3.4.3.4.cmml" xref="S3.E9.m1.3.3.4.3.4">𝑡</ci><ci id="S3.E9.m1.3.3.4.3.5.cmml" xref="S3.E9.m1.3.3.4.3.5">𝑒</ci><ci id="S3.E9.m1.3.3.4.3.6.cmml" xref="S3.E9.m1.3.3.4.3.6">𝑥</ci></apply></apply><apply id="S3.E9.m1.3.3.2.cmml" xref="S3.E9.m1.3.3.2"><minus id="S3.E9.m1.3.3.2.3.cmml" xref="S3.E9.m1.3.3.2.3"></minus><apply id="S3.E9.m1.3.3.2.4.cmml" xref="S3.E9.m1.3.3.2.4"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.4.1.cmml" xref="S3.E9.m1.3.3.2.4">superscript</csymbol><sum id="S3.E9.m1.3.3.2.4.2.cmml" xref="S3.E9.m1.3.3.2.4.2"></sum><apply id="S3.E9.m1.3.3.2.4.3.cmml" xref="S3.E9.m1.3.3.2.4.3"><in id="S3.E9.m1.3.3.2.4.3.1.cmml" xref="S3.E9.m1.3.3.2.4.3.1"></in><ci id="S3.E9.m1.3.3.2.4.3.2.cmml" xref="S3.E9.m1.3.3.2.4.3.2">𝑝</ci><apply id="S3.E9.m1.3.3.2.4.3.3.cmml" xref="S3.E9.m1.3.3.2.4.3.3"><plus id="S3.E9.m1.3.3.2.4.3.3.1.cmml" xref="S3.E9.m1.3.3.2.4.3.3.1"></plus><ci id="S3.E9.m1.3.3.2.4.3.3.2.cmml" xref="S3.E9.m1.3.3.2.4.3.3.2">𝑍</ci><ci id="S3.E9.m1.3.3.2.4.3.3.3.cmml" xref="S3.E9.m1.3.3.2.4.3.3.3">Δ</ci></apply></apply></apply><apply id="S3.E9.m1.3.3.2.5.cmml" xref="S3.E9.m1.3.3.2.5"><times id="S3.E9.m1.3.3.2.5.1.cmml" xref="S3.E9.m1.3.3.2.5.1"></times><apply id="S3.E9.m1.3.3.2.5.2.cmml" xref="S3.E9.m1.3.3.2.5.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.5.2.1.cmml" xref="S3.E9.m1.3.3.2.5.2">subscript</csymbol><ci id="S3.E9.m1.3.3.2.5.2.2.cmml" xref="S3.E9.m1.3.3.2.5.2.2">𝑦</ci><ci id="S3.E9.m1.3.3.2.5.2.3.cmml" xref="S3.E9.m1.3.3.2.5.2.3">𝑝</ci></apply><apply id="S3.E9.m1.3.3.2.5.3.cmml" xref="S3.E9.m1.3.3.2.5.3"><log id="S3.E9.m1.3.3.2.5.3.1.cmml" xref="S3.E9.m1.3.3.2.5.3.1"></log><apply id="S3.E9.m1.3.3.2.5.3.2.cmml" xref="S3.E9.m1.3.3.2.5.3.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.5.3.2.1.cmml" xref="S3.E9.m1.3.3.2.5.3.2">subscript</csymbol><apply id="S3.E9.m1.3.3.2.5.3.2.2.cmml" xref="S3.E9.m1.3.3.2.5.3.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.5.3.2.2.1.cmml" xref="S3.E9.m1.3.3.2.5.3.2">superscript</csymbol><ci id="S3.E9.m1.3.3.2.5.3.2.2.2.cmml" xref="S3.E9.m1.3.3.2.5.3.2.2.2">𝑦</ci><ci id="S3.E9.m1.3.3.2.5.3.2.2.3.cmml" xref="S3.E9.m1.3.3.2.5.3.2.2.3">′</ci></apply><ci id="S3.E9.m1.3.3.2.5.3.2.3.cmml" xref="S3.E9.m1.3.3.2.5.3.2.3">𝑝</ci></apply></apply></apply><apply id="S3.E9.m1.3.3.2.2.cmml" xref="S3.E9.m1.3.3.2.2"><times id="S3.E9.m1.3.3.2.2.3.cmml" xref="S3.E9.m1.3.3.2.2.3"></times><apply id="S3.E9.m1.2.2.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1"><minus id="S3.E9.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.1"></minus><cn id="S3.E9.m1.2.2.1.1.1.1.1.2.cmml" type="integer" xref="S3.E9.m1.2.2.1.1.1.1.1.2">1</cn><apply id="S3.E9.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E9.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.3.2">𝑦</ci><ci id="S3.E9.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E9.m1.2.2.1.1.1.1.1.3.3">𝑝</ci></apply></apply><apply id="S3.E9.m1.3.3.2.2.2.2.cmml" xref="S3.E9.m1.3.3.2.2.2.1"><log id="S3.E9.m1.1.1.cmml" xref="S3.E9.m1.1.1"></log><apply id="S3.E9.m1.3.3.2.2.2.1.1.1.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1"><minus id="S3.E9.m1.3.3.2.2.2.1.1.1.1.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.1"></minus><cn id="S3.E9.m1.3.3.2.2.2.1.1.1.2.cmml" type="integer" xref="S3.E9.m1.3.3.2.2.2.1.1.1.2">1</cn><apply id="S3.E9.m1.3.3.2.2.2.1.1.1.3.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.2.2.1.1.1.3.1.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3">subscript</csymbol><apply id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.1.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3">superscript</csymbol><ci id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.2.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.2">𝑦</ci><ci id="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.3.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.2.3">′</ci></apply><ci id="S3.E9.m1.3.3.2.2.2.1.1.1.3.3.cmml" xref="S3.E9.m1.3.3.2.2.2.1.1.1.3.3">𝑝</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.3c">\mathcal{L}_{vetex}=\sum^{p\in Z+\Delta}{-y_{p}\log{y^{\prime}_{p}}-(1-y_{p})%
\log(1-y^{\prime}_{p})}</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.3d">caligraphic_L start_POSTSUBSCRIPT italic_v italic_e italic_t italic_e italic_x end_POSTSUBSCRIPT = ∑ start_POSTSUPERSCRIPT italic_p ∈ italic_Z + roman_Δ end_POSTSUPERSCRIPT - italic_y start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT roman_log italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT - ( 1 - italic_y start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) roman_log ( 1 - italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS3.p2.5"><math alttext="y_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.1.m1.1"><semantics id="S3.SS3.SSS3.p2.1.m1.1a"><msub id="S3.SS3.SSS3.p2.1.m1.1.1" xref="S3.SS3.SSS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.SSS3.p2.1.m1.1.1.2" xref="S3.SS3.SSS3.p2.1.m1.1.1.2.cmml">y</mi><mi id="S3.SS3.SSS3.p2.1.m1.1.1.3" xref="S3.SS3.SSS3.p2.1.m1.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.1.m1.1b"><apply id="S3.SS3.SSS3.p2.1.m1.1.1.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.SSS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1.2">𝑦</ci><ci id="S3.SS3.SSS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.SSS3.p2.1.m1.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.1.m1.1c">y_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="y^{\prime}_{p}" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.2.m2.1"><semantics id="S3.SS3.SSS3.p2.2.m2.1a"><msubsup id="S3.SS3.SSS3.p2.2.m2.1.1" xref="S3.SS3.SSS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.SSS3.p2.2.m2.1.1.2.2" xref="S3.SS3.SSS3.p2.2.m2.1.1.2.2.cmml">y</mi><mi id="S3.SS3.SSS3.p2.2.m2.1.1.3" xref="S3.SS3.SSS3.p2.2.m2.1.1.3.cmml">p</mi><mo id="S3.SS3.SSS3.p2.2.m2.1.1.2.3" xref="S3.SS3.SSS3.p2.2.m2.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.2.m2.1b"><apply id="S3.SS3.SSS3.p2.2.m2.1.1.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1">subscript</csymbol><apply id="S3.SS3.SSS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.SSS3.p2.2.m2.1.1.2.1.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS3.SSS3.p2.2.m2.1.1.2.2.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1.2.2">𝑦</ci><ci id="S3.SS3.SSS3.p2.2.m2.1.1.2.3.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1.2.3">′</ci></apply><ci id="S3.SS3.SSS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.SSS3.p2.2.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.2.m2.1c">y^{\prime}_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.2.m2.1d">italic_y start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> are pixels on ground truth and prediction maps located at <math alttext="p" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.3.m3.1"><semantics id="S3.SS3.SSS3.p2.3.m3.1a"><mi id="S3.SS3.SSS3.p2.3.m3.1.1" xref="S3.SS3.SSS3.p2.3.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.3.m3.1b"><ci id="S3.SS3.SSS3.p2.3.m3.1.1.cmml" xref="S3.SS3.SSS3.p2.3.m3.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.3.m3.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.3.m3.1d">italic_p</annotation></semantics></math>.
<math alttext="Z" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.4.m4.1"><semantics id="S3.SS3.SSS3.p2.4.m4.1a"><mi id="S3.SS3.SSS3.p2.4.m4.1.1" xref="S3.SS3.SSS3.p2.4.m4.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.4.m4.1b"><ci id="S3.SS3.SSS3.p2.4.m4.1.1.cmml" xref="S3.SS3.SSS3.p2.4.m4.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.4.m4.1c">Z</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.4.m4.1d">italic_Z</annotation></semantics></math> is the original prompted area, and <math alttext="\Delta" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.5.m5.1"><semantics id="S3.SS3.SSS3.p2.5.m5.1a"><mi id="S3.SS3.SSS3.p2.5.m5.1.1" mathvariant="normal" xref="S3.SS3.SSS3.p2.5.m5.1.1.cmml">Δ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.5.m5.1b"><ci id="S3.SS3.SSS3.p2.5.m5.1.1.cmml" xref="S3.SS3.SSS3.p2.5.m5.1.1">Δ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.5.m5.1c">\Delta</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.5.m5.1d">roman_Δ</annotation></semantics></math> is a random small neighborhood of this area.
Finally, OBMv2 was trained as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math alttext="\mathcal{L}=\lambda\times(\mathcal{L}_{OBM}+\beta\mathcal{L}_{vertex})+\kappa%
\times\mathcal{L}_{seg}" class="ltx_Math" display="block" id="S3.E10.m1.1"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.1" xref="S3.E10.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.3" xref="S3.E10.m1.1.1.3.cmml">ℒ</mi><mo id="S3.E10.m1.1.1.2" xref="S3.E10.m1.1.1.2.cmml">=</mo><mrow id="S3.E10.m1.1.1.1" xref="S3.E10.m1.1.1.1.cmml"><mrow id="S3.E10.m1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.cmml"><mi id="S3.E10.m1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.3.cmml">λ</mi><mo id="S3.E10.m1.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E10.m1.1.1.1.1.2.cmml">×</mo><mrow id="S3.E10.m1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.E10.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E10.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.cmml"><msub id="S3.E10.m1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.1.1.1.2.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.2.3.2" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.2.cmml">O</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.2.3.1" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.2.3.3" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.3.cmml">B</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.2.3.1a" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.2.3.4" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.4.cmml">M</mi></mrow></msub><mo id="S3.E10.m1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.1" xref="S3.E10.m1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><msub id="S3.E10.m1.1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.1.1.1.3.3.2" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.2" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.2.cmml">v</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.3" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.3.cmml">e</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1a" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.4" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.4.cmml">r</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1b" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.5" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.5.cmml">t</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1c" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.6" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.6.cmml">e</mi><mo id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1d" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.7" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.7.cmml">x</mi></mrow></msub></mrow></mrow><mo id="S3.E10.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E10.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E10.m1.1.1.1.2" xref="S3.E10.m1.1.1.1.2.cmml">+</mo><mrow id="S3.E10.m1.1.1.1.3" xref="S3.E10.m1.1.1.1.3.cmml"><mi id="S3.E10.m1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.3.2.cmml">κ</mi><mo id="S3.E10.m1.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S3.E10.m1.1.1.1.3.1.cmml">×</mo><msub id="S3.E10.m1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.3.3.2" xref="S3.E10.m1.1.1.1.3.3.2.cmml">ℒ</mi><mrow id="S3.E10.m1.1.1.1.3.3.3" xref="S3.E10.m1.1.1.1.3.3.3.cmml"><mi id="S3.E10.m1.1.1.1.3.3.3.2" xref="S3.E10.m1.1.1.1.3.3.3.2.cmml">s</mi><mo id="S3.E10.m1.1.1.1.3.3.3.1" xref="S3.E10.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.3.3.3.3" xref="S3.E10.m1.1.1.1.3.3.3.3.cmml">e</mi><mo id="S3.E10.m1.1.1.1.3.3.3.1a" xref="S3.E10.m1.1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S3.E10.m1.1.1.1.3.3.3.4" xref="S3.E10.m1.1.1.1.3.3.3.4.cmml">g</mi></mrow></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.1.cmml" xref="S3.E10.m1.1.1"><eq id="S3.E10.m1.1.1.2.cmml" xref="S3.E10.m1.1.1.2"></eq><ci id="S3.E10.m1.1.1.3.cmml" xref="S3.E10.m1.1.1.3">ℒ</ci><apply id="S3.E10.m1.1.1.1.cmml" xref="S3.E10.m1.1.1.1"><plus id="S3.E10.m1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.2"></plus><apply id="S3.E10.m1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1"><times id="S3.E10.m1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.2"></times><ci id="S3.E10.m1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.3">𝜆</ci><apply id="S3.E10.m1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1"><plus id="S3.E10.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1"></plus><apply id="S3.E10.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3"><times id="S3.E10.m1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.1"></times><ci id="S3.E10.m1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.2">𝑂</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.3">𝐵</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.2.3.4.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.2.3.4">𝑀</ci></apply></apply><apply id="S3.E10.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3"><times id="S3.E10.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.2">𝛽</ci><apply id="S3.E10.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3"><times id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.1"></times><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.2">𝑣</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.3">𝑒</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.4.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.4">𝑟</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.5.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.5">𝑡</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.6.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.6">𝑒</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.7.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.3.3.3.7">𝑥</ci></apply></apply></apply></apply></apply><apply id="S3.E10.m1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.3"><times id="S3.E10.m1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.3.1"></times><ci id="S3.E10.m1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.3.2">𝜅</ci><apply id="S3.E10.m1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.3.3.1.cmml" xref="S3.E10.m1.1.1.1.3.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.3.3.2.cmml" xref="S3.E10.m1.1.1.1.3.3.2">ℒ</ci><apply id="S3.E10.m1.1.1.1.3.3.3.cmml" xref="S3.E10.m1.1.1.1.3.3.3"><times id="S3.E10.m1.1.1.1.3.3.3.1.cmml" xref="S3.E10.m1.1.1.1.3.3.3.1"></times><ci id="S3.E10.m1.1.1.1.3.3.3.2.cmml" xref="S3.E10.m1.1.1.1.3.3.3.2">𝑠</ci><ci id="S3.E10.m1.1.1.1.3.3.3.3.cmml" xref="S3.E10.m1.1.1.1.3.3.3.3">𝑒</ci><ci id="S3.E10.m1.1.1.1.3.3.3.4.cmml" xref="S3.E10.m1.1.1.1.3.3.3.4">𝑔</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">\mathcal{L}=\lambda\times(\mathcal{L}_{OBM}+\beta\mathcal{L}_{vertex})+\kappa%
\times\mathcal{L}_{seg}</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.1d">caligraphic_L = italic_λ × ( caligraphic_L start_POSTSUBSCRIPT italic_O italic_B italic_M end_POSTSUBSCRIPT + italic_β caligraphic_L start_POSTSUBSCRIPT italic_v italic_e italic_r italic_t italic_e italic_x end_POSTSUBSCRIPT ) + italic_κ × caligraphic_L start_POSTSUBSCRIPT italic_s italic_e italic_g end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.SSS3.p2.8"><math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.6.m1.1"><semantics id="S3.SS3.SSS3.p2.6.m1.1a"><mi id="S3.SS3.SSS3.p2.6.m1.1.1" xref="S3.SS3.SSS3.p2.6.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.6.m1.1b"><ci id="S3.SS3.SSS3.p2.6.m1.1.1.cmml" xref="S3.SS3.SSS3.p2.6.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.6.m1.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.6.m1.1d">italic_λ</annotation></semantics></math> and <math alttext="\kappa" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.7.m2.1"><semantics id="S3.SS3.SSS3.p2.7.m2.1a"><mi id="S3.SS3.SSS3.p2.7.m2.1.1" xref="S3.SS3.SSS3.p2.7.m2.1.1.cmml">κ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.7.m2.1b"><ci id="S3.SS3.SSS3.p2.7.m2.1.1.cmml" xref="S3.SS3.SSS3.p2.7.m2.1.1">𝜅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.7.m2.1c">\kappa</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.7.m2.1d">italic_κ</annotation></semantics></math> were parameters equal to 1 or 0, to control whether semantic head will be trained together.
<math alttext="\beta" class="ltx_Math" display="inline" id="S3.SS3.SSS3.p2.8.m3.1"><semantics id="S3.SS3.SSS3.p2.8.m3.1a"><mi id="S3.SS3.SSS3.p2.8.m3.1.1" xref="S3.SS3.SSS3.p2.8.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.SSS3.p2.8.m3.1b"><ci id="S3.SS3.SSS3.p2.8.m3.1.1.cmml" xref="S3.SS3.SSS3.p2.8.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.SSS3.p2.8.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.SSS3.p2.8.m3.1d">italic_β</annotation></semantics></math> is a scale factor to balance the loss of vertex task and other tasks.</p>
</div>
</section>
</section>
<section class="ltx_subsection ltx_indent_first" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>RAG in BFE</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">Retrieval-Augmented Generation in NLP is a technique improving model performance with external knowledge bases <cite class="ltx_cite ltx_citemacro_citep">(Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib7" title="">2023</a>)</cite>.
In BFE problem, the external knowledge can be divided into two aspects: the method of prompting and extracting footprints with multi-source results.
In terms of prompting method, besides segmentation prompting, OBMv2 allows different types of prompting, including instance segmentation, object detection, <span class="ltx_text ltx_font_italic" id="S3.SS4.p1.1.1">etc.</span>
In experiments, semantic segmentation head result, LOFT <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite> results and Hybrid Task Cascade (HTC) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib3" title="">2019</a>)</cite> instance segmentation were tested to providing prompts for OBMv2.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">Another applicable knowledge from Geography: the contained information of model results is overlapped between each other.
As shown in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>, there are three features, roofs, the body of buildings and building offsets, can be extracted easier than directly searching building footprints.
Extracting footprints with roof segmentation and offsets is intuitive, and this method was popularly adopted in aforementioned methods.
In (c), the extracting method is also explicit: move building mask along the roof-to-footprint offset, and the union between that and building mask is the footprints.
Similarly, if the building mask was moved in the opposite direction, the union would be roof mask.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">In (a), the situation was more complicated. The first step was to find a direction which can better represents the direction from roof to footprint.
In this direction, searching algorithm was applied to detect the location of footprints by valuing different length of movements.
Of course, we can also use the predicted global offset direction as this direction.
In Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#alg1" title="Algorithm 1 ‣ 3.4 RAG in BFE ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>, we introduced how to extract building footprint with only a roof and building segmentation.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> Footprint Searching</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l0">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0.1.1.1" style="font-size:80%;">0:</span></span>  Roof Segmentation: <math alttext="r_{i}" class="ltx_Math" display="inline" id="alg1.l0.m1.1"><semantics id="alg1.l0.m1.1a"><msub id="alg1.l0.m1.1.1" xref="alg1.l0.m1.1.1.cmml"><mi id="alg1.l0.m1.1.1.2" xref="alg1.l0.m1.1.1.2.cmml">r</mi><mi id="alg1.l0.m1.1.1.3" xref="alg1.l0.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.1b"><apply id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1"><csymbol cd="ambiguous" id="alg1.l0.m1.1.1.1.cmml" xref="alg1.l0.m1.1.1">subscript</csymbol><ci id="alg1.l0.m1.1.1.2.cmml" xref="alg1.l0.m1.1.1.2">𝑟</ci><ci id="alg1.l0.m1.1.1.3.cmml" xref="alg1.l0.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m1.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, Building Segmentation: <math alttext="b_{i}" class="ltx_Math" display="inline" id="alg1.l0.m2.1"><semantics id="alg1.l0.m2.1a"><msub id="alg1.l0.m2.1.1" xref="alg1.l0.m2.1.1.cmml"><mi id="alg1.l0.m2.1.1.2" xref="alg1.l0.m2.1.1.2.cmml">b</mi><mi id="alg1.l0.m2.1.1.3" xref="alg1.l0.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l0.m2.1b"><apply id="alg1.l0.m2.1.1.cmml" xref="alg1.l0.m2.1.1"><csymbol cd="ambiguous" id="alg1.l0.m2.1.1.1.cmml" xref="alg1.l0.m2.1.1">subscript</csymbol><ci id="alg1.l0.m2.1.1.2.cmml" xref="alg1.l0.m2.1.1.2">𝑏</ci><ci id="alg1.l0.m2.1.1.3.cmml" xref="alg1.l0.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m2.1c">b_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m2.1d">italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, Iteration: <math alttext="N" class="ltx_Math" display="inline" id="alg1.l0.m3.1"><semantics id="alg1.l0.m3.1a"><mi id="alg1.l0.m3.1.1" xref="alg1.l0.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m3.1b"><ci id="alg1.l0.m3.1.1.cmml" xref="alg1.l0.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m3.1d">italic_N</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l0a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0a.1.1.1" style="font-size:80%;">0:</span></span>  Related Footprint Segmentation: <math alttext="f_{i}" class="ltx_Math" display="inline" id="alg1.l0a.m1.1"><semantics id="alg1.l0a.m1.1a"><msub id="alg1.l0a.m1.1.1" xref="alg1.l0a.m1.1.1.cmml"><mi id="alg1.l0a.m1.1.1.2" xref="alg1.l0a.m1.1.1.2.cmml">f</mi><mi id="alg1.l0a.m1.1.1.3" xref="alg1.l0a.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l0a.m1.1b"><apply id="alg1.l0a.m1.1.1.cmml" xref="alg1.l0a.m1.1.1"><csymbol cd="ambiguous" id="alg1.l0a.m1.1.1.1.cmml" xref="alg1.l0a.m1.1.1">subscript</csymbol><ci id="alg1.l0a.m1.1.1.2.cmml" xref="alg1.l0a.m1.1.1.2">𝑓</ci><ci id="alg1.l0a.m1.1.1.3.cmml" xref="alg1.l0a.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0a.m1.1c">f_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0a.m1.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span>  Angle list: <math alttext="{\mathbf{\alpha}}\leftarrow" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">α</mi><mo id="alg1.l1.m1.1.1.1" stretchy="false" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mi id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝛼</ci><csymbol cd="latexml" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">{\mathbf{\alpha}}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_α ←</annotation></semantics></math> <math alttext="[0^{\circ},360^{\circ}]" class="ltx_Math" display="inline" id="alg1.l1.m2.2"><semantics id="alg1.l1.m2.2a"><mrow id="alg1.l1.m2.2.2.2" xref="alg1.l1.m2.2.2.3.cmml"><mo id="alg1.l1.m2.2.2.2.3" stretchy="false" xref="alg1.l1.m2.2.2.3.cmml">[</mo><msup id="alg1.l1.m2.1.1.1.1" xref="alg1.l1.m2.1.1.1.1.cmml"><mn id="alg1.l1.m2.1.1.1.1.2" xref="alg1.l1.m2.1.1.1.1.2.cmml">0</mn><mo id="alg1.l1.m2.1.1.1.1.3" xref="alg1.l1.m2.1.1.1.1.3.cmml">∘</mo></msup><mo id="alg1.l1.m2.2.2.2.4" xref="alg1.l1.m2.2.2.3.cmml">,</mo><msup id="alg1.l1.m2.2.2.2.2" xref="alg1.l1.m2.2.2.2.2.cmml"><mn id="alg1.l1.m2.2.2.2.2.2" xref="alg1.l1.m2.2.2.2.2.2.cmml">360</mn><mo id="alg1.l1.m2.2.2.2.2.3" xref="alg1.l1.m2.2.2.2.2.3.cmml">∘</mo></msup><mo id="alg1.l1.m2.2.2.2.5" stretchy="false" xref="alg1.l1.m2.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.2b"><interval closure="closed" id="alg1.l1.m2.2.2.3.cmml" xref="alg1.l1.m2.2.2.2"><apply id="alg1.l1.m2.1.1.1.1.cmml" xref="alg1.l1.m2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.1.1.cmml" xref="alg1.l1.m2.1.1.1.1">superscript</csymbol><cn id="alg1.l1.m2.1.1.1.1.2.cmml" type="integer" xref="alg1.l1.m2.1.1.1.1.2">0</cn><compose id="alg1.l1.m2.1.1.1.1.3.cmml" xref="alg1.l1.m2.1.1.1.1.3"></compose></apply><apply id="alg1.l1.m2.2.2.2.2.cmml" xref="alg1.l1.m2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l1.m2.2.2.2.2.1.cmml" xref="alg1.l1.m2.2.2.2.2">superscript</csymbol><cn id="alg1.l1.m2.2.2.2.2.2.cmml" type="integer" xref="alg1.l1.m2.2.2.2.2.2">360</cn><compose id="alg1.l1.m2.2.2.2.2.3.cmml" xref="alg1.l1.m2.2.2.2.2.3"></compose></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.2c">[0^{\circ},360^{\circ}]</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.2d">[ 0 start_POSTSUPERSCRIPT ∘ end_POSTSUPERSCRIPT , 360 start_POSTSUPERSCRIPT ∘ end_POSTSUPERSCRIPT ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span>  Unit Length of Offset: <math alttext="\bar{l}" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mover accent="true" id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">l</mi><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">¯</mo></mover><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><ci id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">¯</ci><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\bar{l}</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">over¯ start_ARG italic_l end_ARG</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.1.1.1" style="font-size:80%;">3:</span></span>  Movements: <math alttext="V=\begin{vmatrix}1&amp;0&amp;-\bar{l}\cos{\alpha}\\
0&amp;1&amp;-\bar{l}\sin{\alpha}\\
0&amp;0&amp;1\\
\end{vmatrix}" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.2" xref="alg1.l3.m1.1.2.cmml"><mi id="alg1.l3.m1.1.2.2" xref="alg1.l3.m1.1.2.2.cmml">V</mi><mo id="alg1.l3.m1.1.2.1" xref="alg1.l3.m1.1.2.1.cmml">=</mo><mrow id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.2.cmml"><mo id="alg1.l3.m1.1.1.3.1" xref="alg1.l3.m1.1.1.2.1.cmml">|</mo><mtable columnspacing="5pt" id="alg1.l3.m1.1.1.1.1" rowspacing="0pt" xref="alg1.l3.m1.1.1.1.1.cmml"><mtr id="alg1.l3.m1.1.1.1.1a" xref="alg1.l3.m1.1.1.1.1.cmml"><mtd id="alg1.l3.m1.1.1.1.1b" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.1.cmml">1</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1c" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.1.2.1" xref="alg1.l3.m1.1.1.1.1.1.2.1.cmml">0</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1d" xref="alg1.l3.m1.1.1.1.1.cmml"><mrow id="alg1.l3.m1.1.1.1.1.1.3.1" xref="alg1.l3.m1.1.1.1.1.1.3.1.cmml"><mo id="alg1.l3.m1.1.1.1.1.1.3.1a" xref="alg1.l3.m1.1.1.1.1.1.3.1.cmml">−</mo><mrow id="alg1.l3.m1.1.1.1.1.1.3.1.2" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.cmml"><mover accent="true" id="alg1.l3.m1.1.1.1.1.1.3.1.2.2" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2.cmml"><mi id="alg1.l3.m1.1.1.1.1.1.3.1.2.2.2" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2.2.cmml">l</mi><mo id="alg1.l3.m1.1.1.1.1.1.3.1.2.2.1" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2.1.cmml">¯</mo></mover><mo id="alg1.l3.m1.1.1.1.1.1.3.1.2.1" lspace="0.167em" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.1.cmml">⁢</mo><mrow id="alg1.l3.m1.1.1.1.1.1.3.1.2.3" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.cmml"><mi id="alg1.l3.m1.1.1.1.1.1.3.1.2.3.1" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.1.cmml">cos</mi><mo id="alg1.l3.m1.1.1.1.1.1.3.1.2.3a" lspace="0.167em" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.cmml">⁡</mo><mi id="alg1.l3.m1.1.1.1.1.1.3.1.2.3.2" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.2.cmml">α</mi></mrow></mrow></mrow></mtd></mtr><mtr id="alg1.l3.m1.1.1.1.1e" xref="alg1.l3.m1.1.1.1.1.cmml"><mtd id="alg1.l3.m1.1.1.1.1f" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.2.1.1" xref="alg1.l3.m1.1.1.1.1.2.1.1.cmml">0</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1g" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.2.2.1" xref="alg1.l3.m1.1.1.1.1.2.2.1.cmml">1</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1h" xref="alg1.l3.m1.1.1.1.1.cmml"><mrow id="alg1.l3.m1.1.1.1.1.2.3.1" xref="alg1.l3.m1.1.1.1.1.2.3.1.cmml"><mo id="alg1.l3.m1.1.1.1.1.2.3.1a" xref="alg1.l3.m1.1.1.1.1.2.3.1.cmml">−</mo><mrow id="alg1.l3.m1.1.1.1.1.2.3.1.2" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.cmml"><mover accent="true" id="alg1.l3.m1.1.1.1.1.2.3.1.2.2" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2.cmml"><mi id="alg1.l3.m1.1.1.1.1.2.3.1.2.2.2" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2.2.cmml">l</mi><mo id="alg1.l3.m1.1.1.1.1.2.3.1.2.2.1" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2.1.cmml">¯</mo></mover><mo id="alg1.l3.m1.1.1.1.1.2.3.1.2.1" lspace="0.167em" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.1.cmml">⁢</mo><mrow id="alg1.l3.m1.1.1.1.1.2.3.1.2.3" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.cmml"><mi id="alg1.l3.m1.1.1.1.1.2.3.1.2.3.1" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.1.cmml">sin</mi><mo id="alg1.l3.m1.1.1.1.1.2.3.1.2.3a" lspace="0.167em" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.cmml">⁡</mo><mi id="alg1.l3.m1.1.1.1.1.2.3.1.2.3.2" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.2.cmml">α</mi></mrow></mrow></mrow></mtd></mtr><mtr id="alg1.l3.m1.1.1.1.1i" xref="alg1.l3.m1.1.1.1.1.cmml"><mtd id="alg1.l3.m1.1.1.1.1j" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.3.1.1" xref="alg1.l3.m1.1.1.1.1.3.1.1.cmml">0</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1k" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.3.2.1" xref="alg1.l3.m1.1.1.1.1.3.2.1.cmml">0</mn></mtd><mtd id="alg1.l3.m1.1.1.1.1l" xref="alg1.l3.m1.1.1.1.1.cmml"><mn id="alg1.l3.m1.1.1.1.1.3.3.1" xref="alg1.l3.m1.1.1.1.1.3.3.1.cmml">1</mn></mtd></mtr></mtable><mo id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.2.cmml" xref="alg1.l3.m1.1.2"><eq id="alg1.l3.m1.1.2.1.cmml" xref="alg1.l3.m1.1.2.1"></eq><ci id="alg1.l3.m1.1.2.2.cmml" xref="alg1.l3.m1.1.2.2">𝑉</ci><apply id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.3"><determinant id="alg1.l3.m1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.3.1"></determinant><apply id="alg1.l3.m1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.3"><csymbol cd="latexml" id="alg1.l3.m1.1.1.2.2.1.cmml" xref="alg1.l3.m1.1.1.3.1">matrix</csymbol><matrix id="alg1.l3.m1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1"><matrixrow id="alg1.l3.m1.1.1.1.1a.cmml" xref="alg1.l3.m1.1.1.1.1"><cn id="alg1.l3.m1.1.1.1.1.1.1.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.1.1.1">1</cn><cn id="alg1.l3.m1.1.1.1.1.1.2.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.1.2.1">0</cn><apply id="alg1.l3.m1.1.1.1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1"><minus id="alg1.l3.m1.1.1.1.1.1.3.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1"></minus><apply id="alg1.l3.m1.1.1.1.1.1.3.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2"><times id="alg1.l3.m1.1.1.1.1.1.3.1.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.1"></times><apply id="alg1.l3.m1.1.1.1.1.1.3.1.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2"><ci id="alg1.l3.m1.1.1.1.1.1.3.1.2.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2.1">¯</ci><ci id="alg1.l3.m1.1.1.1.1.1.3.1.2.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.2.2">𝑙</ci></apply><apply id="alg1.l3.m1.1.1.1.1.1.3.1.2.3.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3"><cos id="alg1.l3.m1.1.1.1.1.1.3.1.2.3.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.1"></cos><ci id="alg1.l3.m1.1.1.1.1.1.3.1.2.3.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.3.1.2.3.2">𝛼</ci></apply></apply></apply></matrixrow><matrixrow id="alg1.l3.m1.1.1.1.1b.cmml" xref="alg1.l3.m1.1.1.1.1"><cn id="alg1.l3.m1.1.1.1.1.2.1.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.2.1.1">0</cn><cn id="alg1.l3.m1.1.1.1.1.2.2.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.2.2.1">1</cn><apply id="alg1.l3.m1.1.1.1.1.2.3.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1"><minus id="alg1.l3.m1.1.1.1.1.2.3.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1"></minus><apply id="alg1.l3.m1.1.1.1.1.2.3.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2"><times id="alg1.l3.m1.1.1.1.1.2.3.1.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.1"></times><apply id="alg1.l3.m1.1.1.1.1.2.3.1.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2"><ci id="alg1.l3.m1.1.1.1.1.2.3.1.2.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2.1">¯</ci><ci id="alg1.l3.m1.1.1.1.1.2.3.1.2.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.2.2">𝑙</ci></apply><apply id="alg1.l3.m1.1.1.1.1.2.3.1.2.3.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3"><sin id="alg1.l3.m1.1.1.1.1.2.3.1.2.3.1.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.1"></sin><ci id="alg1.l3.m1.1.1.1.1.2.3.1.2.3.2.cmml" xref="alg1.l3.m1.1.1.1.1.2.3.1.2.3.2">𝛼</ci></apply></apply></apply></matrixrow><matrixrow id="alg1.l3.m1.1.1.1.1c.cmml" xref="alg1.l3.m1.1.1.1.1"><cn id="alg1.l3.m1.1.1.1.1.3.1.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.3.1.1">0</cn><cn id="alg1.l3.m1.1.1.1.1.3.2.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.3.2.1">0</cn><cn id="alg1.l3.m1.1.1.1.1.3.3.1.cmml" type="integer" xref="alg1.l3.m1.1.1.1.1.3.3.1">1</cn></matrixrow></matrix></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">V=\begin{vmatrix}1&amp;0&amp;-\bar{l}\cos{\alpha}\\
0&amp;1&amp;-\bar{l}\sin{\alpha}\\
0&amp;0&amp;1\\
\end{vmatrix}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_V = | start_ARG start_ROW start_CELL 1 end_CELL start_CELL 0 end_CELL start_CELL - over¯ start_ARG italic_l end_ARG roman_cos italic_α end_CELL end_ROW start_ROW start_CELL 0 end_CELL start_CELL 1 end_CELL start_CELL - over¯ start_ARG italic_l end_ARG roman_sin italic_α end_CELL end_ROW start_ROW start_CELL 0 end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL end_ROW end_ARG |</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span>  Moved Roofs: <math alttext="\dot{R}=\{\dot{R_{1}},\dot{R_{2}},...,\dot{R}_{360}\}=V\cdot r_{i}" class="ltx_Math" display="inline" id="alg1.l4.m1.4"><semantics id="alg1.l4.m1.4a"><mrow id="alg1.l4.m1.4.4" xref="alg1.l4.m1.4.4.cmml"><mover accent="true" id="alg1.l4.m1.4.4.3" xref="alg1.l4.m1.4.4.3.cmml"><mi id="alg1.l4.m1.4.4.3.2" xref="alg1.l4.m1.4.4.3.2.cmml">R</mi><mo id="alg1.l4.m1.4.4.3.1" xref="alg1.l4.m1.4.4.3.1.cmml">˙</mo></mover><mo id="alg1.l4.m1.4.4.4" xref="alg1.l4.m1.4.4.4.cmml">=</mo><mrow id="alg1.l4.m1.4.4.1.1" xref="alg1.l4.m1.4.4.1.2.cmml"><mo id="alg1.l4.m1.4.4.1.1.2" stretchy="false" xref="alg1.l4.m1.4.4.1.2.cmml">{</mo><mover accent="true" id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><msub id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">R</mi><mn id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">1</mn></msub><mo id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">˙</mo></mover><mo id="alg1.l4.m1.4.4.1.1.3" xref="alg1.l4.m1.4.4.1.2.cmml">,</mo><mover accent="true" id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml"><msub id="alg1.l4.m1.2.2.2" xref="alg1.l4.m1.2.2.2.cmml"><mi id="alg1.l4.m1.2.2.2.2" xref="alg1.l4.m1.2.2.2.2.cmml">R</mi><mn id="alg1.l4.m1.2.2.2.3" xref="alg1.l4.m1.2.2.2.3.cmml">2</mn></msub><mo id="alg1.l4.m1.2.2.1" xref="alg1.l4.m1.2.2.1.cmml">˙</mo></mover><mo id="alg1.l4.m1.4.4.1.1.4" xref="alg1.l4.m1.4.4.1.2.cmml">,</mo><mi id="alg1.l4.m1.3.3" mathvariant="normal" xref="alg1.l4.m1.3.3.cmml">…</mi><mo id="alg1.l4.m1.4.4.1.1.5" xref="alg1.l4.m1.4.4.1.2.cmml">,</mo><msub id="alg1.l4.m1.4.4.1.1.1" xref="alg1.l4.m1.4.4.1.1.1.cmml"><mover accent="true" id="alg1.l4.m1.4.4.1.1.1.2" xref="alg1.l4.m1.4.4.1.1.1.2.cmml"><mi id="alg1.l4.m1.4.4.1.1.1.2.2" xref="alg1.l4.m1.4.4.1.1.1.2.2.cmml">R</mi><mo id="alg1.l4.m1.4.4.1.1.1.2.1" xref="alg1.l4.m1.4.4.1.1.1.2.1.cmml">˙</mo></mover><mn id="alg1.l4.m1.4.4.1.1.1.3" xref="alg1.l4.m1.4.4.1.1.1.3.cmml">360</mn></msub><mo id="alg1.l4.m1.4.4.1.1.6" stretchy="false" xref="alg1.l4.m1.4.4.1.2.cmml">}</mo></mrow><mo id="alg1.l4.m1.4.4.5" xref="alg1.l4.m1.4.4.5.cmml">=</mo><mrow id="alg1.l4.m1.4.4.6" xref="alg1.l4.m1.4.4.6.cmml"><mi id="alg1.l4.m1.4.4.6.2" xref="alg1.l4.m1.4.4.6.2.cmml">V</mi><mo id="alg1.l4.m1.4.4.6.1" lspace="0.222em" rspace="0.222em" xref="alg1.l4.m1.4.4.6.1.cmml">⋅</mo><msub id="alg1.l4.m1.4.4.6.3" xref="alg1.l4.m1.4.4.6.3.cmml"><mi id="alg1.l4.m1.4.4.6.3.2" xref="alg1.l4.m1.4.4.6.3.2.cmml">r</mi><mi id="alg1.l4.m1.4.4.6.3.3" xref="alg1.l4.m1.4.4.6.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.4b"><apply id="alg1.l4.m1.4.4.cmml" xref="alg1.l4.m1.4.4"><and id="alg1.l4.m1.4.4a.cmml" xref="alg1.l4.m1.4.4"></and><apply id="alg1.l4.m1.4.4b.cmml" xref="alg1.l4.m1.4.4"><eq id="alg1.l4.m1.4.4.4.cmml" xref="alg1.l4.m1.4.4.4"></eq><apply id="alg1.l4.m1.4.4.3.cmml" xref="alg1.l4.m1.4.4.3"><ci id="alg1.l4.m1.4.4.3.1.cmml" xref="alg1.l4.m1.4.4.3.1">˙</ci><ci id="alg1.l4.m1.4.4.3.2.cmml" xref="alg1.l4.m1.4.4.3.2">𝑅</ci></apply><set id="alg1.l4.m1.4.4.1.2.cmml" xref="alg1.l4.m1.4.4.1.1"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">˙</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑅</ci><cn id="alg1.l4.m1.1.1.2.3.cmml" type="integer" xref="alg1.l4.m1.1.1.2.3">1</cn></apply></apply><apply id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2"><ci id="alg1.l4.m1.2.2.1.cmml" xref="alg1.l4.m1.2.2.1">˙</ci><apply id="alg1.l4.m1.2.2.2.cmml" xref="alg1.l4.m1.2.2.2"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.2.1.cmml" xref="alg1.l4.m1.2.2.2">subscript</csymbol><ci id="alg1.l4.m1.2.2.2.2.cmml" xref="alg1.l4.m1.2.2.2.2">𝑅</ci><cn id="alg1.l4.m1.2.2.2.3.cmml" type="integer" xref="alg1.l4.m1.2.2.2.3">2</cn></apply></apply><ci id="alg1.l4.m1.3.3.cmml" xref="alg1.l4.m1.3.3">…</ci><apply id="alg1.l4.m1.4.4.1.1.1.cmml" xref="alg1.l4.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.4.4.1.1.1.1.cmml" xref="alg1.l4.m1.4.4.1.1.1">subscript</csymbol><apply id="alg1.l4.m1.4.4.1.1.1.2.cmml" xref="alg1.l4.m1.4.4.1.1.1.2"><ci id="alg1.l4.m1.4.4.1.1.1.2.1.cmml" xref="alg1.l4.m1.4.4.1.1.1.2.1">˙</ci><ci id="alg1.l4.m1.4.4.1.1.1.2.2.cmml" xref="alg1.l4.m1.4.4.1.1.1.2.2">𝑅</ci></apply><cn id="alg1.l4.m1.4.4.1.1.1.3.cmml" type="integer" xref="alg1.l4.m1.4.4.1.1.1.3">360</cn></apply></set></apply><apply id="alg1.l4.m1.4.4c.cmml" xref="alg1.l4.m1.4.4"><eq id="alg1.l4.m1.4.4.5.cmml" xref="alg1.l4.m1.4.4.5"></eq><share href="https://arxiv.org/html/2408.08645v1#alg1.l4.m1.4.4.1.cmml" id="alg1.l4.m1.4.4d.cmml" xref="alg1.l4.m1.4.4"></share><apply id="alg1.l4.m1.4.4.6.cmml" xref="alg1.l4.m1.4.4.6"><ci id="alg1.l4.m1.4.4.6.1.cmml" xref="alg1.l4.m1.4.4.6.1">⋅</ci><ci id="alg1.l4.m1.4.4.6.2.cmml" xref="alg1.l4.m1.4.4.6.2">𝑉</ci><apply id="alg1.l4.m1.4.4.6.3.cmml" xref="alg1.l4.m1.4.4.6.3"><csymbol cd="ambiguous" id="alg1.l4.m1.4.4.6.3.1.cmml" xref="alg1.l4.m1.4.4.6.3">subscript</csymbol><ci id="alg1.l4.m1.4.4.6.3.2.cmml" xref="alg1.l4.m1.4.4.6.3.2">𝑟</ci><ci id="alg1.l4.m1.4.4.6.3.3.cmml" xref="alg1.l4.m1.4.4.6.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.4c">\dot{R}=\{\dot{R_{1}},\dot{R_{2}},...,\dot{R}_{360}\}=V\cdot r_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.4d">over˙ start_ARG italic_R end_ARG = { over˙ start_ARG italic_R start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG , over˙ start_ARG italic_R start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_ARG , … , over˙ start_ARG italic_R end_ARG start_POSTSUBSCRIPT 360 end_POSTSUBSCRIPT } = italic_V ⋅ italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">5:</span></span>  Best Angle Value: <math alttext="\theta=\underset{{j\in[0,360]}}{\arg\max}S_{j}=\frac{\dot{R}_{j}\bigcap b_{i}}%
{r_{i}}" class="ltx_Math" display="inline" id="alg1.l5.m1.2"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.3" xref="alg1.l5.m1.2.3.cmml"><mi id="alg1.l5.m1.2.3.2" xref="alg1.l5.m1.2.3.2.cmml">θ</mi><mo id="alg1.l5.m1.2.3.3" xref="alg1.l5.m1.2.3.3.cmml">=</mo><mrow id="alg1.l5.m1.2.3.4" xref="alg1.l5.m1.2.3.4.cmml"><munder accentunder="true" id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><mrow id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml"><mi id="alg1.l5.m1.2.2.3.1" xref="alg1.l5.m1.2.2.3.1.cmml">arg</mi><mo id="alg1.l5.m1.2.2.3a" lspace="0.167em" xref="alg1.l5.m1.2.2.3.cmml">⁡</mo><mi id="alg1.l5.m1.2.2.3.2" xref="alg1.l5.m1.2.2.3.2.cmml">max</mi></mrow><mrow id="alg1.l5.m1.2.2.2" xref="alg1.l5.m1.2.2.2.cmml"><mi id="alg1.l5.m1.2.2.2.4" xref="alg1.l5.m1.2.2.2.4.cmml">j</mi><mo id="alg1.l5.m1.2.2.2.3" xref="alg1.l5.m1.2.2.2.3.cmml">∈</mo><mrow id="alg1.l5.m1.2.2.2.5.2" xref="alg1.l5.m1.2.2.2.5.1.cmml"><mo id="alg1.l5.m1.2.2.2.5.2.1" stretchy="false" xref="alg1.l5.m1.2.2.2.5.1.cmml">[</mo><mn id="alg1.l5.m1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.cmml">0</mn><mo id="alg1.l5.m1.2.2.2.5.2.2" xref="alg1.l5.m1.2.2.2.5.1.cmml">,</mo><mn id="alg1.l5.m1.2.2.2.2" xref="alg1.l5.m1.2.2.2.2.cmml">360</mn><mo id="alg1.l5.m1.2.2.2.5.2.3" stretchy="false" xref="alg1.l5.m1.2.2.2.5.1.cmml">]</mo></mrow></mrow></munder><mo id="alg1.l5.m1.2.3.4.1" lspace="0.167em" xref="alg1.l5.m1.2.3.4.1.cmml">⁢</mo><msub id="alg1.l5.m1.2.3.4.2" xref="alg1.l5.m1.2.3.4.2.cmml"><mi id="alg1.l5.m1.2.3.4.2.2" xref="alg1.l5.m1.2.3.4.2.2.cmml">S</mi><mi id="alg1.l5.m1.2.3.4.2.3" xref="alg1.l5.m1.2.3.4.2.3.cmml">j</mi></msub></mrow><mo id="alg1.l5.m1.2.3.5" xref="alg1.l5.m1.2.3.5.cmml">=</mo><mfrac id="alg1.l5.m1.2.3.6" xref="alg1.l5.m1.2.3.6.cmml"><mrow id="alg1.l5.m1.2.3.6.2" xref="alg1.l5.m1.2.3.6.2.cmml"><msub id="alg1.l5.m1.2.3.6.2.2" xref="alg1.l5.m1.2.3.6.2.2.cmml"><mover accent="true" id="alg1.l5.m1.2.3.6.2.2.2" xref="alg1.l5.m1.2.3.6.2.2.2.cmml"><mi id="alg1.l5.m1.2.3.6.2.2.2.2" xref="alg1.l5.m1.2.3.6.2.2.2.2.cmml">R</mi><mo id="alg1.l5.m1.2.3.6.2.2.2.1" xref="alg1.l5.m1.2.3.6.2.2.2.1.cmml">˙</mo></mover><mi id="alg1.l5.m1.2.3.6.2.2.3" xref="alg1.l5.m1.2.3.6.2.2.3.cmml">j</mi></msub><mo id="alg1.l5.m1.2.3.6.2.1" xref="alg1.l5.m1.2.3.6.2.1.cmml">⁢</mo><mstyle id="alg1.l5.m1.2.3.6.2.3" scriptlevel="-1" xref="alg1.l5.m1.2.3.6.2.3.cmml"><mrow id="alg1.l5.m1.2.3.6.2.3a" xref="alg1.l5.m1.2.3.6.2.3.cmml"><mo id="alg1.l5.m1.2.3.6.2.3.1" xref="alg1.l5.m1.2.3.6.2.3.1.cmml">⋂</mo><msub id="alg1.l5.m1.2.3.6.2.3.2" xref="alg1.l5.m1.2.3.6.2.3.2.cmml"><mi id="alg1.l5.m1.2.3.6.2.3.2.2" xref="alg1.l5.m1.2.3.6.2.3.2.2.cmml">b</mi><mi id="alg1.l5.m1.2.3.6.2.3.2.3" mathsize="71%" xref="alg1.l5.m1.2.3.6.2.3.2.3.cmml">i</mi></msub></mrow></mstyle></mrow><msub id="alg1.l5.m1.2.3.6.3" xref="alg1.l5.m1.2.3.6.3.cmml"><mi id="alg1.l5.m1.2.3.6.3.2" xref="alg1.l5.m1.2.3.6.3.2.cmml">r</mi><mi id="alg1.l5.m1.2.3.6.3.3" xref="alg1.l5.m1.2.3.6.3.3.cmml">i</mi></msub></mfrac></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.3.cmml" xref="alg1.l5.m1.2.3"><and id="alg1.l5.m1.2.3a.cmml" xref="alg1.l5.m1.2.3"></and><apply id="alg1.l5.m1.2.3b.cmml" xref="alg1.l5.m1.2.3"><eq id="alg1.l5.m1.2.3.3.cmml" xref="alg1.l5.m1.2.3.3"></eq><ci id="alg1.l5.m1.2.3.2.cmml" xref="alg1.l5.m1.2.3.2">𝜃</ci><apply id="alg1.l5.m1.2.3.4.cmml" xref="alg1.l5.m1.2.3.4"><times id="alg1.l5.m1.2.3.4.1.cmml" xref="alg1.l5.m1.2.3.4.1"></times><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><apply id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2"><in id="alg1.l5.m1.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.3"></in><ci id="alg1.l5.m1.2.2.2.4.cmml" xref="alg1.l5.m1.2.2.2.4">𝑗</ci><interval closure="closed" id="alg1.l5.m1.2.2.2.5.1.cmml" xref="alg1.l5.m1.2.2.2.5.2"><cn id="alg1.l5.m1.1.1.1.1.cmml" type="integer" xref="alg1.l5.m1.1.1.1.1">0</cn><cn id="alg1.l5.m1.2.2.2.2.cmml" type="integer" xref="alg1.l5.m1.2.2.2.2">360</cn></interval></apply><apply id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3"><arg id="alg1.l5.m1.2.2.3.1.cmml" xref="alg1.l5.m1.2.2.3.1"></arg><max id="alg1.l5.m1.2.2.3.2.cmml" xref="alg1.l5.m1.2.2.3.2"></max></apply></apply><apply id="alg1.l5.m1.2.3.4.2.cmml" xref="alg1.l5.m1.2.3.4.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.3.4.2.1.cmml" xref="alg1.l5.m1.2.3.4.2">subscript</csymbol><ci id="alg1.l5.m1.2.3.4.2.2.cmml" xref="alg1.l5.m1.2.3.4.2.2">𝑆</ci><ci id="alg1.l5.m1.2.3.4.2.3.cmml" xref="alg1.l5.m1.2.3.4.2.3">𝑗</ci></apply></apply></apply><apply id="alg1.l5.m1.2.3c.cmml" xref="alg1.l5.m1.2.3"><eq id="alg1.l5.m1.2.3.5.cmml" xref="alg1.l5.m1.2.3.5"></eq><share href="https://arxiv.org/html/2408.08645v1#alg1.l5.m1.2.3.4.cmml" id="alg1.l5.m1.2.3d.cmml" xref="alg1.l5.m1.2.3"></share><apply id="alg1.l5.m1.2.3.6.cmml" xref="alg1.l5.m1.2.3.6"><divide id="alg1.l5.m1.2.3.6.1.cmml" xref="alg1.l5.m1.2.3.6"></divide><apply id="alg1.l5.m1.2.3.6.2.cmml" xref="alg1.l5.m1.2.3.6.2"><times id="alg1.l5.m1.2.3.6.2.1.cmml" xref="alg1.l5.m1.2.3.6.2.1"></times><apply id="alg1.l5.m1.2.3.6.2.2.cmml" xref="alg1.l5.m1.2.3.6.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.3.6.2.2.1.cmml" xref="alg1.l5.m1.2.3.6.2.2">subscript</csymbol><apply id="alg1.l5.m1.2.3.6.2.2.2.cmml" xref="alg1.l5.m1.2.3.6.2.2.2"><ci id="alg1.l5.m1.2.3.6.2.2.2.1.cmml" xref="alg1.l5.m1.2.3.6.2.2.2.1">˙</ci><ci id="alg1.l5.m1.2.3.6.2.2.2.2.cmml" xref="alg1.l5.m1.2.3.6.2.2.2.2">𝑅</ci></apply><ci id="alg1.l5.m1.2.3.6.2.2.3.cmml" xref="alg1.l5.m1.2.3.6.2.2.3">𝑗</ci></apply><apply id="alg1.l5.m1.2.3.6.2.3.cmml" xref="alg1.l5.m1.2.3.6.2.3"><intersect id="alg1.l5.m1.2.3.6.2.3.1.cmml" xref="alg1.l5.m1.2.3.6.2.3.1"></intersect><apply id="alg1.l5.m1.2.3.6.2.3.2.cmml" xref="alg1.l5.m1.2.3.6.2.3.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.3.6.2.3.2.1.cmml" xref="alg1.l5.m1.2.3.6.2.3.2">subscript</csymbol><ci id="alg1.l5.m1.2.3.6.2.3.2.2.cmml" xref="alg1.l5.m1.2.3.6.2.3.2.2">𝑏</ci><ci id="alg1.l5.m1.2.3.6.2.3.2.3.cmml" xref="alg1.l5.m1.2.3.6.2.3.2.3">𝑖</ci></apply></apply></apply><apply id="alg1.l5.m1.2.3.6.3.cmml" xref="alg1.l5.m1.2.3.6.3"><csymbol cd="ambiguous" id="alg1.l5.m1.2.3.6.3.1.cmml" xref="alg1.l5.m1.2.3.6.3">subscript</csymbol><ci id="alg1.l5.m1.2.3.6.3.2.cmml" xref="alg1.l5.m1.2.3.6.3.2">𝑟</ci><ci id="alg1.l5.m1.2.3.6.3.3.cmml" xref="alg1.l5.m1.2.3.6.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">\theta=\underset{{j\in[0,360]}}{\arg\max}S_{j}=\frac{\dot{R}_{j}\bigcap b_{i}}%
{r_{i}}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.2d">italic_θ = start_UNDERACCENT italic_j ∈ [ 0 , 360 ] end_UNDERACCENT start_ARG roman_arg roman_max end_ARG italic_S start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = divide start_ARG over˙ start_ARG italic_R end_ARG start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ⋂ italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.1.1.1" style="font-size:80%;">6:</span></span>  Best Length Value:
<br class="ltx_break"/><math alttext="l=\underset{l_{c}}{\arg\min}\left|\frac{\begin{vmatrix}1&amp;0&amp;-l_{c}\cos{\theta}%
\\
0&amp;1&amp;-l_{c}\sin{\theta}\\
0&amp;0&amp;1\\
\end{vmatrix}\cdot r_{i}\bigcap b_{i}}{r_{i}}-1\right|" class="ltx_Math" display="inline" id="alg1.l6.m1.2"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><mi id="alg1.l6.m1.2.2.3" xref="alg1.l6.m1.2.2.3.cmml">l</mi><mo id="alg1.l6.m1.2.2.2" xref="alg1.l6.m1.2.2.2.cmml">=</mo><mrow id="alg1.l6.m1.2.2.1" xref="alg1.l6.m1.2.2.1.cmml"><munder accentunder="true" id="alg1.l6.m1.2.2.1.3" xref="alg1.l6.m1.2.2.1.3.cmml"><mrow id="alg1.l6.m1.2.2.1.3.2" xref="alg1.l6.m1.2.2.1.3.2.cmml"><mi id="alg1.l6.m1.2.2.1.3.2.1" xref="alg1.l6.m1.2.2.1.3.2.1.cmml">arg</mi><mo id="alg1.l6.m1.2.2.1.3.2a" lspace="0.167em" xref="alg1.l6.m1.2.2.1.3.2.cmml">⁡</mo><mi id="alg1.l6.m1.2.2.1.3.2.2" xref="alg1.l6.m1.2.2.1.3.2.2.cmml">min</mi></mrow><msub id="alg1.l6.m1.2.2.1.3.1" xref="alg1.l6.m1.2.2.1.3.1.cmml"><mi id="alg1.l6.m1.2.2.1.3.1.2" xref="alg1.l6.m1.2.2.1.3.1.2.cmml">l</mi><mi id="alg1.l6.m1.2.2.1.3.1.3" xref="alg1.l6.m1.2.2.1.3.1.3.cmml">c</mi></msub></munder><mo id="alg1.l6.m1.2.2.1.2" xref="alg1.l6.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l6.m1.2.2.1.1.1" xref="alg1.l6.m1.2.2.1.1.2.cmml"><mo id="alg1.l6.m1.2.2.1.1.1.2" xref="alg1.l6.m1.2.2.1.1.2.1.cmml">|</mo><mrow id="alg1.l6.m1.2.2.1.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.1.cmml"><mfrac id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.1.3" xref="alg1.l6.m1.1.1.1.3.cmml"><mrow id="alg1.l6.m1.1.1.1.1.3" xref="alg1.l6.m1.1.1.1.1.2.cmml"><mo id="alg1.l6.m1.1.1.1.1.3.1" xref="alg1.l6.m1.1.1.1.1.2.1.cmml">|</mo><mtable columnspacing="5pt" id="alg1.l6.m1.1.1.1.1.1.1" rowspacing="0pt" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mtr id="alg1.l6.m1.1.1.1.1.1.1a" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mtd id="alg1.l6.m1.1.1.1.1.1.1b" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.1.1.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1.cmml">1</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1c" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.1.2.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.2.1.cmml">0</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1d" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.1.1.1.1.1.3.1" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.cmml"><mo id="alg1.l6.m1.1.1.1.1.1.1.1.3.1a" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mrow id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.cmml"><msub id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.2" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.2.cmml">l</mi><mi id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.3" mathsize="140%" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.3.cmml">c</mi></msub><mo id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.1" lspace="0.167em" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.1.cmml">⁢</mo><mrow id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.1.cmml">cos</mi><mo id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3a" lspace="0.167em" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.cmml">⁡</mo><mi id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.2" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.2.cmml">θ</mi></mrow></mrow></mrow></mtd></mtr><mtr id="alg1.l6.m1.1.1.1.1.1.1e" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mtd id="alg1.l6.m1.1.1.1.1.1.1f" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.2.1.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.1.1.cmml">0</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1g" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.2.2.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.1.cmml">1</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1h" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.1.1.1.1.2.3.1" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.cmml"><mo id="alg1.l6.m1.1.1.1.1.1.1.2.3.1a" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.cmml">−</mo><mrow id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.cmml"><msub id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.2" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.2.cmml">l</mi><mi id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.3" mathsize="140%" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.3.cmml">c</mi></msub><mo id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.1" lspace="0.167em" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.1.cmml">⁢</mo><mrow id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.cmml"><mi id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.1.cmml">sin</mi><mo id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3a" lspace="0.167em" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.cmml">⁡</mo><mi id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.2" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.2.cmml">θ</mi></mrow></mrow></mrow></mtd></mtr><mtr id="alg1.l6.m1.1.1.1.1.1.1i" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mtd id="alg1.l6.m1.1.1.1.1.1.1j" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.3.1.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.3.1.1.cmml">0</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1k" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.3.2.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.3.2.1.cmml">0</mn></mtd><mtd id="alg1.l6.m1.1.1.1.1.1.1l" xref="alg1.l6.m1.1.1.1.1.1.1.cmml"><mn id="alg1.l6.m1.1.1.1.1.1.1.3.3.1" mathsize="142%" xref="alg1.l6.m1.1.1.1.1.1.1.3.3.1.cmml">1</mn></mtd></mtr></mtable><mo id="alg1.l6.m1.1.1.1.1.3.2" rspace="0.055em" xref="alg1.l6.m1.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="alg1.l6.m1.1.1.1.3.1" rspace="0.222em" xref="alg1.l6.m1.1.1.1.3.1.cmml">⋅</mo><msub id="alg1.l6.m1.1.1.1.3.2" xref="alg1.l6.m1.1.1.1.3.2.cmml"><mi id="alg1.l6.m1.1.1.1.3.2.2" xref="alg1.l6.m1.1.1.1.3.2.2.cmml">r</mi><mi id="alg1.l6.m1.1.1.1.3.2.3" xref="alg1.l6.m1.1.1.1.3.2.3.cmml">i</mi></msub></mrow><mo id="alg1.l6.m1.1.1.1.2" xref="alg1.l6.m1.1.1.1.2.cmml">⁢</mo><mstyle id="alg1.l6.m1.1.1.1.4" scriptlevel="-1" xref="alg1.l6.m1.1.1.1.4.cmml"><mrow id="alg1.l6.m1.1.1.1.4a" xref="alg1.l6.m1.1.1.1.4.cmml"><mo id="alg1.l6.m1.1.1.1.4.1" xref="alg1.l6.m1.1.1.1.4.1.cmml">⋂</mo><msub id="alg1.l6.m1.1.1.1.4.2" xref="alg1.l6.m1.1.1.1.4.2.cmml"><mi id="alg1.l6.m1.1.1.1.4.2.2" xref="alg1.l6.m1.1.1.1.4.2.2.cmml">b</mi><mi id="alg1.l6.m1.1.1.1.4.2.3" mathsize="71%" xref="alg1.l6.m1.1.1.1.4.2.3.cmml">i</mi></msub></mrow></mstyle></mrow><msub id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"><mi id="alg1.l6.m1.1.1.3.2" xref="alg1.l6.m1.1.1.3.2.cmml">r</mi><mi id="alg1.l6.m1.1.1.3.3" xref="alg1.l6.m1.1.1.3.3.cmml">i</mi></msub></mfrac><mo id="alg1.l6.m1.2.2.1.1.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.1.1.cmml">−</mo><mn id="alg1.l6.m1.2.2.1.1.1.1.2" xref="alg1.l6.m1.2.2.1.1.1.1.2.cmml">1</mn></mrow><mo id="alg1.l6.m1.2.2.1.1.1.3" xref="alg1.l6.m1.2.2.1.1.2.1.cmml">|</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><eq id="alg1.l6.m1.2.2.2.cmml" xref="alg1.l6.m1.2.2.2"></eq><ci id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2.3">𝑙</ci><apply id="alg1.l6.m1.2.2.1.cmml" xref="alg1.l6.m1.2.2.1"><times id="alg1.l6.m1.2.2.1.2.cmml" xref="alg1.l6.m1.2.2.1.2"></times><apply id="alg1.l6.m1.2.2.1.3.cmml" xref="alg1.l6.m1.2.2.1.3"><apply id="alg1.l6.m1.2.2.1.3.1.cmml" xref="alg1.l6.m1.2.2.1.3.1"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.1.3.1.1.cmml" xref="alg1.l6.m1.2.2.1.3.1">subscript</csymbol><ci id="alg1.l6.m1.2.2.1.3.1.2.cmml" xref="alg1.l6.m1.2.2.1.3.1.2">𝑙</ci><ci id="alg1.l6.m1.2.2.1.3.1.3.cmml" xref="alg1.l6.m1.2.2.1.3.1.3">𝑐</ci></apply><apply id="alg1.l6.m1.2.2.1.3.2.cmml" xref="alg1.l6.m1.2.2.1.3.2"><arg id="alg1.l6.m1.2.2.1.3.2.1.cmml" xref="alg1.l6.m1.2.2.1.3.2.1"></arg><min id="alg1.l6.m1.2.2.1.3.2.2.cmml" xref="alg1.l6.m1.2.2.1.3.2.2"></min></apply></apply><apply id="alg1.l6.m1.2.2.1.1.2.cmml" xref="alg1.l6.m1.2.2.1.1.1"><abs id="alg1.l6.m1.2.2.1.1.2.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.2"></abs><apply id="alg1.l6.m1.2.2.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.1"><minus id="alg1.l6.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.1.1"></minus><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><divide id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1"></divide><apply id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1"><times id="alg1.l6.m1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.2"></times><apply id="alg1.l6.m1.1.1.1.3.cmml" xref="alg1.l6.m1.1.1.1.3"><ci id="alg1.l6.m1.1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.1.3.1">⋅</ci><apply id="alg1.l6.m1.1.1.1.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.3"><determinant id="alg1.l6.m1.1.1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.3.1"></determinant><apply id="alg1.l6.m1.1.1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.3"><csymbol cd="latexml" id="alg1.l6.m1.1.1.1.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.3.1">matrix</csymbol><matrix id="alg1.l6.m1.1.1.1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><matrixrow id="alg1.l6.m1.1.1.1.1.1.1a.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><cn id="alg1.l6.m1.1.1.1.1.1.1.1.1.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.1.1.1">1</cn><cn id="alg1.l6.m1.1.1.1.1.1.1.1.2.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.1.2.1">0</cn><apply id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1"><minus id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1"></minus><apply id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2"><times id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.1"></times><apply id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.2">𝑙</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.2.3">𝑐</ci></apply><apply id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3"><cos id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.1"></cos><ci id="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.1.3.1.2.3.2">𝜃</ci></apply></apply></apply></matrixrow><matrixrow id="alg1.l6.m1.1.1.1.1.1.1b.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><cn id="alg1.l6.m1.1.1.1.1.1.1.2.1.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.2.1.1">0</cn><cn id="alg1.l6.m1.1.1.1.1.1.1.2.2.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.2.2.1">1</cn><apply id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1"><minus id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1"></minus><apply id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2"><times id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.1"></times><apply id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.2">𝑙</ci><ci id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.2.3">𝑐</ci></apply><apply id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3"><sin id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.1.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.1"></sin><ci id="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.2.cmml" xref="alg1.l6.m1.1.1.1.1.1.1.2.3.1.2.3.2">𝜃</ci></apply></apply></apply></matrixrow><matrixrow id="alg1.l6.m1.1.1.1.1.1.1c.cmml" xref="alg1.l6.m1.1.1.1.1.1.1"><cn id="alg1.l6.m1.1.1.1.1.1.1.3.1.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.3.1.1">0</cn><cn id="alg1.l6.m1.1.1.1.1.1.1.3.2.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.3.2.1">0</cn><cn id="alg1.l6.m1.1.1.1.1.1.1.3.3.1.cmml" type="integer" xref="alg1.l6.m1.1.1.1.1.1.1.3.3.1">1</cn></matrixrow></matrix></apply></apply><apply id="alg1.l6.m1.1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.3.2.1.cmml" xref="alg1.l6.m1.1.1.1.3.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.3.2.2.cmml" xref="alg1.l6.m1.1.1.1.3.2.2">𝑟</ci><ci id="alg1.l6.m1.1.1.1.3.2.3.cmml" xref="alg1.l6.m1.1.1.1.3.2.3">𝑖</ci></apply></apply><apply id="alg1.l6.m1.1.1.1.4.cmml" xref="alg1.l6.m1.1.1.1.4"><intersect id="alg1.l6.m1.1.1.1.4.1.cmml" xref="alg1.l6.m1.1.1.1.4.1"></intersect><apply id="alg1.l6.m1.1.1.1.4.2.cmml" xref="alg1.l6.m1.1.1.1.4.2"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.4.2.1.cmml" xref="alg1.l6.m1.1.1.1.4.2">subscript</csymbol><ci id="alg1.l6.m1.1.1.1.4.2.2.cmml" xref="alg1.l6.m1.1.1.1.4.2.2">𝑏</ci><ci id="alg1.l6.m1.1.1.1.4.2.3.cmml" xref="alg1.l6.m1.1.1.1.4.2.3">𝑖</ci></apply></apply></apply><apply id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.3">subscript</csymbol><ci id="alg1.l6.m1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.3.2">𝑟</ci><ci id="alg1.l6.m1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.3.3">𝑖</ci></apply></apply><cn id="alg1.l6.m1.2.2.1.1.1.1.2.cmml" type="integer" xref="alg1.l6.m1.2.2.1.1.1.1.2">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">l=\underset{l_{c}}{\arg\min}\left|\frac{\begin{vmatrix}1&amp;0&amp;-l_{c}\cos{\theta}%
\\
0&amp;1&amp;-l_{c}\sin{\theta}\\
0&amp;0&amp;1\\
\end{vmatrix}\cdot r_{i}\bigcap b_{i}}{r_{i}}-1\right|</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.2d">italic_l = start_UNDERACCENT italic_l start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_UNDERACCENT start_ARG roman_arg roman_min end_ARG | divide start_ARG | start_ARG start_ROW start_CELL 1 end_CELL start_CELL 0 end_CELL start_CELL - italic_l start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT roman_cos italic_θ end_CELL end_ROW start_ROW start_CELL 0 end_CELL start_CELL 1 end_CELL start_CELL - italic_l start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT roman_sin italic_θ end_CELL end_ROW start_ROW start_CELL 0 end_CELL start_CELL 0 end_CELL start_CELL 1 end_CELL end_ROW end_ARG | ⋅ italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ⋂ italic_b start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG - 1 |</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span>  <math alttext="f_{i}\leftarrow" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><msub id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.2.2" xref="alg1.l7.m1.1.1.2.2.cmml">f</mi><mi id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">i</mi></msub><mo id="alg1.l7.m1.1.1.1" stretchy="false" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.2">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝑓</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑖</ci></apply><csymbol cd="latexml" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">f_{i}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ←</annotation></semantics></math> moving <math alttext="r_{i}" class="ltx_Math" display="inline" id="alg1.l7.m2.1"><semantics id="alg1.l7.m2.1a"><msub id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml"><mi id="alg1.l7.m2.1.1.2" xref="alg1.l7.m2.1.1.2.cmml">r</mi><mi id="alg1.l7.m2.1.1.3" xref="alg1.l7.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><apply id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1"><csymbol cd="ambiguous" id="alg1.l7.m2.1.1.1.cmml" xref="alg1.l7.m2.1.1">subscript</csymbol><ci id="alg1.l7.m2.1.1.2.cmml" xref="alg1.l7.m2.1.1.2">𝑟</ci><ci id="alg1.l7.m2.1.1.3.cmml" xref="alg1.l7.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">r_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m2.1d">italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> via <math alttext="\theta" class="ltx_Math" display="inline" id="alg1.l7.m3.1"><semantics id="alg1.l7.m3.1a"><mi id="alg1.l7.m3.1.1" xref="alg1.l7.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m3.1b"><ci id="alg1.l7.m3.1.1.cmml" xref="alg1.l7.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m3.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m3.1d">italic_θ</annotation></semantics></math> and <math alttext="l" class="ltx_Math" display="inline" id="alg1.l7.m4.1"><semantics id="alg1.l7.m4.1a"><mi id="alg1.l7.m4.1.1" xref="alg1.l7.m4.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="alg1.l7.m4.1b"><ci id="alg1.l7.m4.1.1.cmml" xref="alg1.l7.m4.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m4.1c">l</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m4.1d">italic_l</annotation></semantics></math>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS4.p4">
<p class="ltx_p" id="S3.SS4.p4.1">From line 1-5, a linear searching was applied to find a suitable moving angle for roof to footprint.
Then, on this angle, binary searching was applied to determine the length of this moving path.</p>
</div>
<div class="ltx_para" id="S3.SS4.p5">
<p class="ltx_p" id="S3.SS4.p5.1">When applying spatial information in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#alg1" title="Algorithm 1 ‣ 3.4 RAG in BFE ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a> to extract footprints,
the Best Length Value was defined as following critical condition in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.F3" title="Figure 3 ‣ 3.4 RAG in BFE ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="285" id="S3.F3.g1" src="x3.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>(a) describes the predicted roof and building for one building. (b) displays the critical condition of regressing building offset (c) abstracts the situation of (b).</figcaption>
</figure>
<div class="ltx_para" id="S3.SS4.p6">
<p class="ltx_p" id="S3.SS4.p6.1">Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S3.F3" title="Figure 3 ‣ 3.4 RAG in BFE ‣ 3 Methodology ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">3</span></a>(c) illustrates how to extract a more accurate offset.
Aforementioned binary search was applied twice for the <span class="ltx_text" id="S3.SS4.p6.1.1" style="color:#FFFF00;">yellow offset</span> and <span class="ltx_text" id="S3.SS4.p6.1.2" style="color:#FF0000;">red offset</span>.
As the length of <span class="ltx_text" id="S3.SS4.p6.1.3" style="color:#0000FF;">blue offset</span> equal to that of the <span class="ltx_text" id="S3.SS4.p6.1.4" style="color:#FFFF00;">yellow offset</span>.
The length of roof-to-building offset is equal to the <span class="ltx_text" id="S3.SS4.p6.1.5" style="color:#FF0000;">red offset</span> minor the <span class="ltx_text" id="S3.SS4.p6.1.6" style="color:#FFFF00;">yellow offset</span>.</p>
</div>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment and Analysis</h2>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Main results on BONAI <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_inline-block ltx_figure_panel ltx_transformed_outer" id="S4.T1.9" style="width:433.6pt;height:228.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,2.6pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.9.9">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t" id="S4.T1.6.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.6.6.6.9.1" style="font-size:90%;">Precision</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">EPE</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="VL" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.m1.1a"><mrow id="S4.T1.1.1.1.1.m1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.1.1.1.1.m1.1.1.2" xref="S4.T1.1.1.1.1.m1.1.1.2.cmml">V</mi><mo id="S4.T1.1.1.1.1.m1.1.1.1" xref="S4.T1.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.1.1.1.1.m1.1.1.3" xref="S4.T1.1.1.1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.m1.1b"><apply id="S4.T1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1"><times id="S4.T1.1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.1.1.1.1.m1.1.1.1"></times><ci id="S4.T1.1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.1.1.1.1.m1.1.1.2">𝑉</ci><ci id="S4.T1.1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.1.1.1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="LL" class="ltx_Math" display="inline" id="S4.T1.2.2.2.2.m1.1"><semantics id="S4.T1.2.2.2.2.m1.1a"><mrow id="S4.T1.2.2.2.2.m1.1.1" xref="S4.T1.2.2.2.2.m1.1.1.cmml"><mi id="S4.T1.2.2.2.2.m1.1.1.2" xref="S4.T1.2.2.2.2.m1.1.1.2.cmml">L</mi><mo id="S4.T1.2.2.2.2.m1.1.1.1" xref="S4.T1.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.2.2.2.2.m1.1.1.3" xref="S4.T1.2.2.2.2.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.2.2.2.2.m1.1b"><apply id="S4.T1.2.2.2.2.m1.1.1.cmml" xref="S4.T1.2.2.2.2.m1.1.1"><times id="S4.T1.2.2.2.2.m1.1.1.1.cmml" xref="S4.T1.2.2.2.2.m1.1.1.1"></times><ci id="S4.T1.2.2.2.2.m1.1.1.2.cmml" xref="S4.T1.2.2.2.2.m1.1.1.2">𝐿</ci><ci id="S4.T1.2.2.2.2.m1.1.1.3.cmml" xref="S4.T1.2.2.2.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.2.2.2.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.2.2.2.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.3.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="AL" class="ltx_Math" display="inline" id="S4.T1.3.3.3.3.m1.1"><semantics id="S4.T1.3.3.3.3.m1.1a"><mrow id="S4.T1.3.3.3.3.m1.1.1" xref="S4.T1.3.3.3.3.m1.1.1.cmml"><mi id="S4.T1.3.3.3.3.m1.1.1.2" xref="S4.T1.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S4.T1.3.3.3.3.m1.1.1.1" xref="S4.T1.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.3.3.3.3.m1.1.1.3" xref="S4.T1.3.3.3.3.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.3.3.m1.1b"><apply id="S4.T1.3.3.3.3.m1.1.1.cmml" xref="S4.T1.3.3.3.3.m1.1.1"><times id="S4.T1.3.3.3.3.m1.1.1.1.cmml" xref="S4.T1.3.3.3.3.m1.1.1.1"></times><ci id="S4.T1.3.3.3.3.m1.1.1.2.cmml" xref="S4.T1.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S4.T1.3.3.3.3.m1.1.1.3.cmml" xref="S4.T1.3.3.3.3.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.3.3.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.3.3.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.4.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="VL" class="ltx_Math" display="inline" id="S4.T1.4.4.4.4.m1.1"><semantics id="S4.T1.4.4.4.4.m1.1a"><mrow id="S4.T1.4.4.4.4.m1.1.1" xref="S4.T1.4.4.4.4.m1.1.1.cmml"><mi id="S4.T1.4.4.4.4.m1.1.1.2" xref="S4.T1.4.4.4.4.m1.1.1.2.cmml">V</mi><mo id="S4.T1.4.4.4.4.m1.1.1.1" xref="S4.T1.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.4.4.4.4.m1.1.1.3" xref="S4.T1.4.4.4.4.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.4.4.m1.1b"><apply id="S4.T1.4.4.4.4.m1.1.1.cmml" xref="S4.T1.4.4.4.4.m1.1.1"><times id="S4.T1.4.4.4.4.m1.1.1.1.cmml" xref="S4.T1.4.4.4.4.m1.1.1.1"></times><ci id="S4.T1.4.4.4.4.m1.1.1.2.cmml" xref="S4.T1.4.4.4.4.m1.1.1.2">𝑉</ci><ci id="S4.T1.4.4.4.4.m1.1.1.3.cmml" xref="S4.T1.4.4.4.4.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.4.4.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.4.4.4.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="LL" class="ltx_Math" display="inline" id="S4.T1.5.5.5.5.m1.1"><semantics id="S4.T1.5.5.5.5.m1.1a"><mrow id="S4.T1.5.5.5.5.m1.1.1" xref="S4.T1.5.5.5.5.m1.1.1.cmml"><mi id="S4.T1.5.5.5.5.m1.1.1.2" xref="S4.T1.5.5.5.5.m1.1.1.2.cmml">L</mi><mo id="S4.T1.5.5.5.5.m1.1.1.1" xref="S4.T1.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.5.5.5.5.m1.1.1.3" xref="S4.T1.5.5.5.5.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.5.5.5.5.m1.1b"><apply id="S4.T1.5.5.5.5.m1.1.1.cmml" xref="S4.T1.5.5.5.5.m1.1.1"><times id="S4.T1.5.5.5.5.m1.1.1.1.cmml" xref="S4.T1.5.5.5.5.m1.1.1.1"></times><ci id="S4.T1.5.5.5.5.m1.1.1.2.cmml" xref="S4.T1.5.5.5.5.m1.1.1.2">𝐿</ci><ci id="S4.T1.5.5.5.5.m1.1.1.3.cmml" xref="S4.T1.5.5.5.5.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.5.5.5.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.5.5.5.5.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="AL" class="ltx_Math" display="inline" id="S4.T1.6.6.6.6.m1.1"><semantics id="S4.T1.6.6.6.6.m1.1a"><mrow id="S4.T1.6.6.6.6.m1.1.1" xref="S4.T1.6.6.6.6.m1.1.1.cmml"><mi id="S4.T1.6.6.6.6.m1.1.1.2" xref="S4.T1.6.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S4.T1.6.6.6.6.m1.1.1.1" xref="S4.T1.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S4.T1.6.6.6.6.m1.1.1.3" xref="S4.T1.6.6.6.6.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.6.6.m1.1b"><apply id="S4.T1.6.6.6.6.m1.1.1.cmml" xref="S4.T1.6.6.6.6.m1.1.1"><times id="S4.T1.6.6.6.6.m1.1.1.1.cmml" xref="S4.T1.6.6.6.6.m1.1.1.1"></times><ci id="S4.T1.6.6.6.6.m1.1.1.2.cmml" xref="S4.T1.6.6.6.6.m1.1.1.2">𝐴</ci><ci id="S4.T1.6.6.6.6.m1.1.1.3.cmml" xref="S4.T1.6.6.6.6.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.6.6.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.6.6.6.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.12" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.6.6.6.12.1" style="font-size:90%;">R.IoU</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.6.6.6.13" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.6.6.6.13.1" style="font-size:90%;">R.BIoU</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.9.9.10.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.9.9.10.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">PANet</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.10.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.06</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.10.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.26</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.10.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.91</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.10.1.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.10.1.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.10.1.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.11.2">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.11.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">M RCNN</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.11.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">58.12</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.11.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.26</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.11.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.03</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.11.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.11.2.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.11.2.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.12.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.12.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MTBR-Net</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.12.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.60</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.12.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.34</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.12.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.87</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.69</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.12.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.12.3.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.12.3.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.13.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.13.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.13.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.42</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.13.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.43</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.13.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.41</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.85</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.13.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.13.4.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.13.4.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.7.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.7.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Cas.LOFT<sup class="ltx_sup" id="S4.T1.7.7.7.1.1">⋆</sup>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.58</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.67</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.52</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.79</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.7.7.7.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.14.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.14.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MLS-BRN</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.14.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.36</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.14.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.90</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.14.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.83</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.76</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.14.5.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.14.5.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.14.5.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.15.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.9.9.15.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.LOFT</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.15.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">72.98</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.15.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">85.74</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.15.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.01</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.4</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.15.6.7.1">12.6</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.18</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.51</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T1.9.9.15.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.32</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.15.6.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.15.6.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">37.8</td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.8.8">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.8.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.Cas.LOFT<sup class="ltx_sup" id="S4.T1.8.8.8.1.1">⋆</sup>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">76.05</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">87.20</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">67.82</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.8</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.5</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.17</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.97</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.48</td>
<td class="ltx_td ltx_align_right" id="S4.T1.8.8.8.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.31</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">68.3</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.8.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">40.4</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.16.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.16.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.16.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.03</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.16.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">82.57</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.16.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.97</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.16.7.6.1">15.3</span></td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.9</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.16.7.9.1">5.12</span></td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.10" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.16.7.10.1">4.05</span></td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.16.7.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.22</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.16.7.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">73.8</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.16.7.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.8</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.9">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T1.9.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM<sup class="ltx_sup" id="S4.T1.9.9.9.1.1"><span class="ltx_text ltx_font_italic" id="S4.T1.9.9.9.1.1.1">†</span></sup>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.65</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.41</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.21</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">17.0</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.7</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.38</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.35</td>
<td class="ltx_td ltx_align_right" id="S4.T1.9.9.9.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.22</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.12" style="padding-top:0.5pt;padding-bottom:0.5pt;">76.5</td>
<td class="ltx_td ltx_align_center" id="S4.T1.9.9.9.13" style="padding-top:0.5pt;padding-bottom:0.5pt;">47.9</td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.17.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T1.9.9.17.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.1.1" style="font-size:90%;">Ours(mask)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.17.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.74</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.17.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.85</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.9.9.17.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.91</td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.5" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.5.1">-</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.6" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.6.1">17.0</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.7" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.7.1">15.8</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.8" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.17.8.8.1">0.11</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.9" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.9.1">5.46</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.10" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.17.8.10.1">4.40</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.11" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.17.8.11.1">0.22</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.12" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.17.8.12.1">77.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_t" id="S4.T1.9.9.17.8.13" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.9.9.17.8.13.1">50.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.9.9.18.9">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r" id="S4.T1.9.9.18.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T1.9.9.18.9.1.1" style="font-size:90%;">Ours(poly.)</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.9.9.18.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">75.31</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.9.9.18.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.12</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S4.T1.9.9.18.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">73.13</td>
</tr>
</tbody>
</table>
</span></div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel" id="S4.T1.15"><span class="ltx_text" id="S4.T1.15.6" style="font-size:70%;">Note: <sup class="ltx_sup" id="S4.T1.15.6.1">⋆</sup> model is a model that we reproduce based on the author’s intention in paper <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>.
OBM<sup class="ltx_sup" id="S4.T1.15.6.2"><span class="ltx_text ltx_font_italic" id="S4.T1.15.6.2.1">†</span></sup> was retrained in roof prompting mode.
p. is short for <span class="ltx_text ltx_font_italic" id="S4.T1.15.6.3">prompt</span>. Additionally, R.IoU and R.BIoU represent Roof IoU and Roof Boundary IoU.
PANet <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib24" title="">2018</a>)</cite> is an instance segmentation model named Path Aggregation Network.
M RCNN represents Mask RCNN<cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib11" title="">2017</a>)</cite>.
MTBR-Net <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib21" title="">2021</a>)</cite> was published on ICCV2021. LOFT <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite> was published on TPAMI2023. MLS-BRN was published on CVPR2024.
EPE, m<math alttext="VL" class="ltx_Math" display="inline" id="S4.T1.12.3.m3.1"><semantics id="S4.T1.12.3.m3.1a"><mrow id="S4.T1.12.3.m3.1.1" xref="S4.T1.12.3.m3.1.1.cmml"><mi id="S4.T1.12.3.m3.1.1.2" xref="S4.T1.12.3.m3.1.1.2.cmml">V</mi><mo id="S4.T1.12.3.m3.1.1.1" xref="S4.T1.12.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.T1.12.3.m3.1.1.3" xref="S4.T1.12.3.m3.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.12.3.m3.1b"><apply id="S4.T1.12.3.m3.1.1.cmml" xref="S4.T1.12.3.m3.1.1"><times id="S4.T1.12.3.m3.1.1.1.cmml" xref="S4.T1.12.3.m3.1.1.1"></times><ci id="S4.T1.12.3.m3.1.1.2.cmml" xref="S4.T1.12.3.m3.1.1.2">𝑉</ci><ci id="S4.T1.12.3.m3.1.1.3.cmml" xref="S4.T1.12.3.m3.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.12.3.m3.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.12.3.m3.1d">italic_V italic_L</annotation></semantics></math>, m<math alttext="LL" class="ltx_Math" display="inline" id="S4.T1.13.4.m4.1"><semantics id="S4.T1.13.4.m4.1a"><mrow id="S4.T1.13.4.m4.1.1" xref="S4.T1.13.4.m4.1.1.cmml"><mi id="S4.T1.13.4.m4.1.1.2" xref="S4.T1.13.4.m4.1.1.2.cmml">L</mi><mo id="S4.T1.13.4.m4.1.1.1" xref="S4.T1.13.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.T1.13.4.m4.1.1.3" xref="S4.T1.13.4.m4.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.13.4.m4.1b"><apply id="S4.T1.13.4.m4.1.1.cmml" xref="S4.T1.13.4.m4.1.1"><times id="S4.T1.13.4.m4.1.1.1.cmml" xref="S4.T1.13.4.m4.1.1.1"></times><ci id="S4.T1.13.4.m4.1.1.2.cmml" xref="S4.T1.13.4.m4.1.1.2">𝐿</ci><ci id="S4.T1.13.4.m4.1.1.3.cmml" xref="S4.T1.13.4.m4.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.13.4.m4.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.13.4.m4.1d">italic_L italic_L</annotation></semantics></math>, a<math alttext="VL" class="ltx_Math" display="inline" id="S4.T1.14.5.m5.1"><semantics id="S4.T1.14.5.m5.1a"><mrow id="S4.T1.14.5.m5.1.1" xref="S4.T1.14.5.m5.1.1.cmml"><mi id="S4.T1.14.5.m5.1.1.2" xref="S4.T1.14.5.m5.1.1.2.cmml">V</mi><mo id="S4.T1.14.5.m5.1.1.1" xref="S4.T1.14.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.T1.14.5.m5.1.1.3" xref="S4.T1.14.5.m5.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.14.5.m5.1b"><apply id="S4.T1.14.5.m5.1.1.cmml" xref="S4.T1.14.5.m5.1.1"><times id="S4.T1.14.5.m5.1.1.1.cmml" xref="S4.T1.14.5.m5.1.1.1"></times><ci id="S4.T1.14.5.m5.1.1.2.cmml" xref="S4.T1.14.5.m5.1.1.2">𝑉</ci><ci id="S4.T1.14.5.m5.1.1.3.cmml" xref="S4.T1.14.5.m5.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.14.5.m5.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.14.5.m5.1d">italic_V italic_L</annotation></semantics></math> and a<math alttext="LL" class="ltx_Math" display="inline" id="S4.T1.15.6.m6.1"><semantics id="S4.T1.15.6.m6.1a"><mrow id="S4.T1.15.6.m6.1.1" xref="S4.T1.15.6.m6.1.1.cmml"><mi id="S4.T1.15.6.m6.1.1.2" xref="S4.T1.15.6.m6.1.1.2.cmml">L</mi><mo id="S4.T1.15.6.m6.1.1.1" xref="S4.T1.15.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.T1.15.6.m6.1.1.3" xref="S4.T1.15.6.m6.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.15.6.m6.1b"><apply id="S4.T1.15.6.m6.1.1.cmml" xref="S4.T1.15.6.m6.1.1"><times id="S4.T1.15.6.m6.1.1.1.cmml" xref="S4.T1.15.6.m6.1.1.1"></times><ci id="S4.T1.15.6.m6.1.1.2.cmml" xref="S4.T1.15.6.m6.1.1.2">𝐿</ci><ci id="S4.T1.15.6.m6.1.1.3.cmml" xref="S4.T1.15.6.m6.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.15.6.m6.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T1.15.6.m6.1d">italic_L italic_L</annotation></semantics></math> were in pixels. Precision, Recall, F1, R.IoU and R.BIoU were measured in percentage(%). </span></p>
</div>
</div>
</figure>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">This section describes the data used in this work, justified their choice, as well as specify their sources.
Then, main results of models are reported and analyzed.
Lastly, generalization test was conducted on Huizhou test set.</p>
</div>
<section class="ltx_subsection ltx_indent_first" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Dataset</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">In our experiments, three datasets were employed to make comparison:</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">(1)<span class="ltx_text ltx_font_bold" id="S4.SS1.p2.1.1">BONAI</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>: This dataset was launched with benchmark model LOFT.
There are 3,000 train images and 300 test images, and the height and width of images are 1024.
The annotations for buildings include roof segmentation, footprint segmentation, offset, and height.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1">(2)<span class="ltx_text ltx_font_bold" id="S4.SS1.p3.1.1">OmniCity-view3</span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib20" title="">2022</a>)</cite>: OmniCity-view3 provided 17,092 train-val images and 4,929 test images in height and width 512.
Footprint segmentation, building height, roof segmentation and roof-to-footprint offset were labelled for each building.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.1">(3)<span class="ltx_text ltx_font_bold" id="S4.SS1.p4.1.1">Huizhou test set</span> <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite>: This small dataset labelled images from a new city Huizhou, China.
All buildings were plotted point-to-point by human annotators.
The shape of images is same with BONAI, and there are over 7,000 buildings included with offsets, roof and footprint segmentations.</p>
</div>
<div class="ltx_para" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.1">On the other hand, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> also newly inserted building segmentation task for aforementioned datasets by using roof segmentations and offsets.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Metrics</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.7">In this paper, models will be reported for both prompting mode and everything mode.
Promptable models adopt metrics in OBM <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> and will provide <math alttext="mVL,mLL,mAL" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.3"><semantics id="S4.SS2.p1.1.m1.3a"><mrow id="S4.SS2.p1.1.m1.3.3.3" xref="S4.SS2.p1.1.m1.3.3.4.cmml"><mrow id="S4.SS2.p1.1.m1.1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.1.1.2.cmml">m</mi><mo id="S4.SS2.p1.1.m1.1.1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.1.1.3.cmml">V</mi><mo id="S4.SS2.p1.1.m1.1.1.1.1.1a" xref="S4.SS2.p1.1.m1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.1.1.4" xref="S4.SS2.p1.1.m1.1.1.1.1.4.cmml">L</mi></mrow><mo id="S4.SS2.p1.1.m1.3.3.3.4" xref="S4.SS2.p1.1.m1.3.3.4.cmml">,</mo><mrow id="S4.SS2.p1.1.m1.2.2.2.2" xref="S4.SS2.p1.1.m1.2.2.2.2.cmml"><mi id="S4.SS2.p1.1.m1.2.2.2.2.2" xref="S4.SS2.p1.1.m1.2.2.2.2.2.cmml">m</mi><mo id="S4.SS2.p1.1.m1.2.2.2.2.1" xref="S4.SS2.p1.1.m1.2.2.2.2.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.2.2.2.2.3" xref="S4.SS2.p1.1.m1.2.2.2.2.3.cmml">L</mi><mo id="S4.SS2.p1.1.m1.2.2.2.2.1a" xref="S4.SS2.p1.1.m1.2.2.2.2.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.2.2.2.2.4" xref="S4.SS2.p1.1.m1.2.2.2.2.4.cmml">L</mi></mrow><mo id="S4.SS2.p1.1.m1.3.3.3.5" xref="S4.SS2.p1.1.m1.3.3.4.cmml">,</mo><mrow id="S4.SS2.p1.1.m1.3.3.3.3" xref="S4.SS2.p1.1.m1.3.3.3.3.cmml"><mi id="S4.SS2.p1.1.m1.3.3.3.3.2" xref="S4.SS2.p1.1.m1.3.3.3.3.2.cmml">m</mi><mo id="S4.SS2.p1.1.m1.3.3.3.3.1" xref="S4.SS2.p1.1.m1.3.3.3.3.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.3.3.3.3.3" xref="S4.SS2.p1.1.m1.3.3.3.3.3.cmml">A</mi><mo id="S4.SS2.p1.1.m1.3.3.3.3.1a" xref="S4.SS2.p1.1.m1.3.3.3.3.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.3.3.3.3.4" xref="S4.SS2.p1.1.m1.3.3.3.3.4.cmml">L</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.3b"><list id="S4.SS2.p1.1.m1.3.3.4.cmml" xref="S4.SS2.p1.1.m1.3.3.3"><apply id="S4.SS2.p1.1.m1.1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1.1"><times id="S4.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1.1.1"></times><ci id="S4.SS2.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.1.1.2">𝑚</ci><ci id="S4.SS2.p1.1.m1.1.1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.1.1.3">𝑉</ci><ci id="S4.SS2.p1.1.m1.1.1.1.1.4.cmml" xref="S4.SS2.p1.1.m1.1.1.1.1.4">𝐿</ci></apply><apply id="S4.SS2.p1.1.m1.2.2.2.2.cmml" xref="S4.SS2.p1.1.m1.2.2.2.2"><times id="S4.SS2.p1.1.m1.2.2.2.2.1.cmml" xref="S4.SS2.p1.1.m1.2.2.2.2.1"></times><ci id="S4.SS2.p1.1.m1.2.2.2.2.2.cmml" xref="S4.SS2.p1.1.m1.2.2.2.2.2">𝑚</ci><ci id="S4.SS2.p1.1.m1.2.2.2.2.3.cmml" xref="S4.SS2.p1.1.m1.2.2.2.2.3">𝐿</ci><ci id="S4.SS2.p1.1.m1.2.2.2.2.4.cmml" xref="S4.SS2.p1.1.m1.2.2.2.2.4">𝐿</ci></apply><apply id="S4.SS2.p1.1.m1.3.3.3.3.cmml" xref="S4.SS2.p1.1.m1.3.3.3.3"><times id="S4.SS2.p1.1.m1.3.3.3.3.1.cmml" xref="S4.SS2.p1.1.m1.3.3.3.3.1"></times><ci id="S4.SS2.p1.1.m1.3.3.3.3.2.cmml" xref="S4.SS2.p1.1.m1.3.3.3.3.2">𝑚</ci><ci id="S4.SS2.p1.1.m1.3.3.3.3.3.cmml" xref="S4.SS2.p1.1.m1.3.3.3.3.3">𝐴</ci><ci id="S4.SS2.p1.1.m1.3.3.3.3.4.cmml" xref="S4.SS2.p1.1.m1.3.3.3.3.4">𝐿</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.3c">mVL,mLL,mAL</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.3d">italic_m italic_V italic_L , italic_m italic_L italic_L , italic_m italic_A italic_L</annotation></semantics></math>, <math alttext="aVL" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">a</mi><mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">V</mi><mo id="S4.SS2.p1.2.m2.1.1.1a" xref="S4.SS2.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.2.m2.1.1.4" xref="S4.SS2.p1.2.m2.1.1.4.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><times id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></times><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝑎</ci><ci id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">𝑉</ci><ci id="S4.SS2.p1.2.m2.1.1.4.cmml" xref="S4.SS2.p1.2.m2.1.1.4">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">aVL</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">italic_a italic_V italic_L</annotation></semantics></math>, <math alttext="aLL" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">a</mi><mo id="S4.SS2.p1.3.m3.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml">L</mi><mo id="S4.SS2.p1.3.m3.1.1.1a" xref="S4.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.3.m3.1.1.4" xref="S4.SS2.p1.3.m3.1.1.4.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><times id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1"></times><ci id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2">𝑎</ci><ci id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3">𝐿</ci><ci id="S4.SS2.p1.3.m3.1.1.4.cmml" xref="S4.SS2.p1.3.m3.1.1.4">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">aLL</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">italic_a italic_L italic_L</annotation></semantics></math> and <math alttext="aAL" class="ltx_Math" display="inline" id="S4.SS2.p1.4.m4.1"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">a</mi><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">A</mi><mo id="S4.SS2.p1.4.m4.1.1.1a" xref="S4.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.4.m4.1.1.4" xref="S4.SS2.p1.4.m4.1.1.4.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><times id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></times><ci id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">𝑎</ci><ci id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">𝐴</ci><ci id="S4.SS2.p1.4.m4.1.1.4.cmml" xref="S4.SS2.p1.4.m4.1.1.4">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">aAL</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.4.m4.1d">italic_a italic_A italic_L</annotation></semantics></math> to evaluate offset prediction;
and offset prediction in everything mode will be evaluated by a commonly used standard, End-point Error (EPE).
For both modes, <math alttext="precision" class="ltx_Math" display="inline" id="S4.SS2.p1.5.m5.1"><semantics id="S4.SS2.p1.5.m5.1a"><mrow id="S4.SS2.p1.5.m5.1.1" xref="S4.SS2.p1.5.m5.1.1.cmml"><mi id="S4.SS2.p1.5.m5.1.1.2" xref="S4.SS2.p1.5.m5.1.1.2.cmml">p</mi><mo id="S4.SS2.p1.5.m5.1.1.1" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.3" xref="S4.SS2.p1.5.m5.1.1.3.cmml">r</mi><mo id="S4.SS2.p1.5.m5.1.1.1a" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.4" xref="S4.SS2.p1.5.m5.1.1.4.cmml">e</mi><mo id="S4.SS2.p1.5.m5.1.1.1b" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.5" xref="S4.SS2.p1.5.m5.1.1.5.cmml">c</mi><mo id="S4.SS2.p1.5.m5.1.1.1c" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.6" xref="S4.SS2.p1.5.m5.1.1.6.cmml">i</mi><mo id="S4.SS2.p1.5.m5.1.1.1d" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.7" xref="S4.SS2.p1.5.m5.1.1.7.cmml">s</mi><mo id="S4.SS2.p1.5.m5.1.1.1e" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.8" xref="S4.SS2.p1.5.m5.1.1.8.cmml">i</mi><mo id="S4.SS2.p1.5.m5.1.1.1f" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.9" xref="S4.SS2.p1.5.m5.1.1.9.cmml">o</mi><mo id="S4.SS2.p1.5.m5.1.1.1g" xref="S4.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.5.m5.1.1.10" xref="S4.SS2.p1.5.m5.1.1.10.cmml">n</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m5.1b"><apply id="S4.SS2.p1.5.m5.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1"><times id="S4.SS2.p1.5.m5.1.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1.1"></times><ci id="S4.SS2.p1.5.m5.1.1.2.cmml" xref="S4.SS2.p1.5.m5.1.1.2">𝑝</ci><ci id="S4.SS2.p1.5.m5.1.1.3.cmml" xref="S4.SS2.p1.5.m5.1.1.3">𝑟</ci><ci id="S4.SS2.p1.5.m5.1.1.4.cmml" xref="S4.SS2.p1.5.m5.1.1.4">𝑒</ci><ci id="S4.SS2.p1.5.m5.1.1.5.cmml" xref="S4.SS2.p1.5.m5.1.1.5">𝑐</ci><ci id="S4.SS2.p1.5.m5.1.1.6.cmml" xref="S4.SS2.p1.5.m5.1.1.6">𝑖</ci><ci id="S4.SS2.p1.5.m5.1.1.7.cmml" xref="S4.SS2.p1.5.m5.1.1.7">𝑠</ci><ci id="S4.SS2.p1.5.m5.1.1.8.cmml" xref="S4.SS2.p1.5.m5.1.1.8">𝑖</ci><ci id="S4.SS2.p1.5.m5.1.1.9.cmml" xref="S4.SS2.p1.5.m5.1.1.9">𝑜</ci><ci id="S4.SS2.p1.5.m5.1.1.10.cmml" xref="S4.SS2.p1.5.m5.1.1.10">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m5.1c">precision</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.5.m5.1d">italic_p italic_r italic_e italic_c italic_i italic_s italic_i italic_o italic_n</annotation></semantics></math>, <math alttext="recall" class="ltx_Math" display="inline" id="S4.SS2.p1.6.m6.1"><semantics id="S4.SS2.p1.6.m6.1a"><mrow id="S4.SS2.p1.6.m6.1.1" xref="S4.SS2.p1.6.m6.1.1.cmml"><mi id="S4.SS2.p1.6.m6.1.1.2" xref="S4.SS2.p1.6.m6.1.1.2.cmml">r</mi><mo id="S4.SS2.p1.6.m6.1.1.1" xref="S4.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.6.m6.1.1.3" xref="S4.SS2.p1.6.m6.1.1.3.cmml">e</mi><mo id="S4.SS2.p1.6.m6.1.1.1a" xref="S4.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.6.m6.1.1.4" xref="S4.SS2.p1.6.m6.1.1.4.cmml">c</mi><mo id="S4.SS2.p1.6.m6.1.1.1b" xref="S4.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.6.m6.1.1.5" xref="S4.SS2.p1.6.m6.1.1.5.cmml">a</mi><mo id="S4.SS2.p1.6.m6.1.1.1c" xref="S4.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.6.m6.1.1.6" xref="S4.SS2.p1.6.m6.1.1.6.cmml">l</mi><mo id="S4.SS2.p1.6.m6.1.1.1d" xref="S4.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.6.m6.1.1.7" xref="S4.SS2.p1.6.m6.1.1.7.cmml">l</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.6.m6.1b"><apply id="S4.SS2.p1.6.m6.1.1.cmml" xref="S4.SS2.p1.6.m6.1.1"><times id="S4.SS2.p1.6.m6.1.1.1.cmml" xref="S4.SS2.p1.6.m6.1.1.1"></times><ci id="S4.SS2.p1.6.m6.1.1.2.cmml" xref="S4.SS2.p1.6.m6.1.1.2">𝑟</ci><ci id="S4.SS2.p1.6.m6.1.1.3.cmml" xref="S4.SS2.p1.6.m6.1.1.3">𝑒</ci><ci id="S4.SS2.p1.6.m6.1.1.4.cmml" xref="S4.SS2.p1.6.m6.1.1.4">𝑐</ci><ci id="S4.SS2.p1.6.m6.1.1.5.cmml" xref="S4.SS2.p1.6.m6.1.1.5">𝑎</ci><ci id="S4.SS2.p1.6.m6.1.1.6.cmml" xref="S4.SS2.p1.6.m6.1.1.6">𝑙</ci><ci id="S4.SS2.p1.6.m6.1.1.7.cmml" xref="S4.SS2.p1.6.m6.1.1.7">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.6.m6.1c">recall</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.6.m6.1d">italic_r italic_e italic_c italic_a italic_l italic_l</annotation></semantics></math> and <math alttext="f1score" class="ltx_Math" display="inline" id="S4.SS2.p1.7.m7.1"><semantics id="S4.SS2.p1.7.m7.1a"><mrow id="S4.SS2.p1.7.m7.1.1" xref="S4.SS2.p1.7.m7.1.1.cmml"><mi id="S4.SS2.p1.7.m7.1.1.2" xref="S4.SS2.p1.7.m7.1.1.2.cmml">f</mi><mo id="S4.SS2.p1.7.m7.1.1.1" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mn id="S4.SS2.p1.7.m7.1.1.3" xref="S4.SS2.p1.7.m7.1.1.3.cmml">1</mn><mo id="S4.SS2.p1.7.m7.1.1.1a" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.7.m7.1.1.4" xref="S4.SS2.p1.7.m7.1.1.4.cmml">s</mi><mo id="S4.SS2.p1.7.m7.1.1.1b" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.7.m7.1.1.5" xref="S4.SS2.p1.7.m7.1.1.5.cmml">c</mi><mo id="S4.SS2.p1.7.m7.1.1.1c" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.7.m7.1.1.6" xref="S4.SS2.p1.7.m7.1.1.6.cmml">o</mi><mo id="S4.SS2.p1.7.m7.1.1.1d" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.7.m7.1.1.7" xref="S4.SS2.p1.7.m7.1.1.7.cmml">r</mi><mo id="S4.SS2.p1.7.m7.1.1.1e" xref="S4.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S4.SS2.p1.7.m7.1.1.8" xref="S4.SS2.p1.7.m7.1.1.8.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.7.m7.1b"><apply id="S4.SS2.p1.7.m7.1.1.cmml" xref="S4.SS2.p1.7.m7.1.1"><times id="S4.SS2.p1.7.m7.1.1.1.cmml" xref="S4.SS2.p1.7.m7.1.1.1"></times><ci id="S4.SS2.p1.7.m7.1.1.2.cmml" xref="S4.SS2.p1.7.m7.1.1.2">𝑓</ci><cn id="S4.SS2.p1.7.m7.1.1.3.cmml" type="integer" xref="S4.SS2.p1.7.m7.1.1.3">1</cn><ci id="S4.SS2.p1.7.m7.1.1.4.cmml" xref="S4.SS2.p1.7.m7.1.1.4">𝑠</ci><ci id="S4.SS2.p1.7.m7.1.1.5.cmml" xref="S4.SS2.p1.7.m7.1.1.5">𝑐</ci><ci id="S4.SS2.p1.7.m7.1.1.6.cmml" xref="S4.SS2.p1.7.m7.1.1.6">𝑜</ci><ci id="S4.SS2.p1.7.m7.1.1.7.cmml" xref="S4.SS2.p1.7.m7.1.1.7">𝑟</ci><ci id="S4.SS2.p1.7.m7.1.1.8.cmml" xref="S4.SS2.p1.7.m7.1.1.8">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.7.m7.1c">f1score</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.7.m7.1d">italic_f 1 italic_s italic_c italic_o italic_r italic_e</annotation></semantics></math> are used to evaluate the final footprint prediction.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">One model can support both prompting and end-to-end.
In this paper, we provide a new view of valuing these model: different modes of a same model can be described as a "continuous entity".
Prompting mode with accurate bounding boxes for all buildings perform as the ceiling of performance,
while different auto-prompting methods and different combinations of obtained information can be seen as discrete samples for this "continuous entity".
In other words, studying RAG in Remote Sensing Areas like BFE problem can benefit researchers to approach the ceiling of models.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Experimental Settings</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.2">In the training process of our OBMv2 was trained in two stages.
All images will be reshaped in 1024<math alttext="\times" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><mo id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><times id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">×</annotation></semantics></math>1024 pixels.
Experiments were conducted on a server with 4 NVIDIA RTX 3090.
In the first stage, OBMv2 was trained in roof prompting mode. Then, proposal networks were trained solely.
In the whole training progress, we used stochastic gradient descent (SGD) <cite class="ltx_cite ltx_citemacro_citep">(Robbins and Monro, <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib30" title="">1951</a>)</cite> as the optimizer with batch size of 4 for 48 epochs,
and initial step learning rate of 0.0025, a momentum of 0.9, and a weight decay of <math alttext="10^{-4}" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><msup id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mn id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">10</mn><mrow id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml"><mo id="S4.SS3.p1.2.m2.1.1.3a" xref="S4.SS3.p1.2.m2.1.1.3.cmml">−</mo><mn id="S4.SS3.p1.2.m2.1.1.3.2" xref="S4.SS3.p1.2.m2.1.1.3.2.cmml">4</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">superscript</csymbol><cn id="S4.SS3.p1.2.m2.1.1.2.cmml" type="integer" xref="S4.SS3.p1.2.m2.1.1.2">10</cn><apply id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3"><minus id="S4.SS3.p1.2.m2.1.1.3.1.cmml" xref="S4.SS3.p1.2.m2.1.1.3"></minus><cn id="S4.SS3.p1.2.m2.1.1.3.2.cmml" type="integer" xref="S4.SS3.p1.2.m2.1.1.3.2">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math>.
The number of parameters in OBMv2 is 77.69 M.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Main Result</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In this section, we evaluate our method’s on BONAI and OmniCity-view3.
The main comparison will focus on LOFT <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>, Cascade LOFT and OBM between OBMv2, because these are models that available for extensive experiments.
In Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.T1" title="Table 1 ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>, the displayed results were separated into three parts.
The first part lists results from end-to-end models.
In the second part, all available promptable models were compared with our proposed model in part three.
From this table, we know that although OBMv2 can predict offset as accurate as that of OBM in terms of direction, it suffers from incorrect length prediction.
This contributes to a clear drop of footprint F1score (1.29 approximately), and a similar drop of Precision and Recall can be found in this table.
Roof mask quality was surprisingly improved compared with OBM despite the drop in footprint quality.
The comparison and more analysis was provided in discussion. For OBMv2, footprint F1score decreased by 3.43 during the progress of vectorizing masks.
This slight decline was commonly found in experiments because polygonal footprints commonly lost those complex edges for extracting simplified features.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1">To ensure SOFA block is appliable in all kinds of offset-based model, the results was listed in Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.T2" title="Table 2 ‣ 4.4 Main Result ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a>.
In this table, a same model in both prompting mode and roof prompting was written in the same line.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>SOFA block ablation studies on BONAI.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T2.8" style="width:433.6pt;height:158.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,1.8pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.8.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.6.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">model</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">EPE</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="VL" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.1.m1.1a"><mrow id="S4.T2.1.1.1.1.m1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.cmml"><mi id="S4.T2.1.1.1.1.m1.1.1.2" xref="S4.T2.1.1.1.1.m1.1.1.2.cmml">V</mi><mo id="S4.T2.1.1.1.1.m1.1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.1.1.1.1.m1.1.1.3" xref="S4.T2.1.1.1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1"><times id="S4.T2.1.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1"></times><ci id="S4.T2.1.1.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.1.1.2">𝑉</ci><ci id="S4.T2.1.1.1.1.m1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="LL" class="ltx_Math" display="inline" id="S4.T2.2.2.2.2.m1.1"><semantics id="S4.T2.2.2.2.2.m1.1a"><mrow id="S4.T2.2.2.2.2.m1.1.1" xref="S4.T2.2.2.2.2.m1.1.1.cmml"><mi id="S4.T2.2.2.2.2.m1.1.1.2" xref="S4.T2.2.2.2.2.m1.1.1.2.cmml">L</mi><mo id="S4.T2.2.2.2.2.m1.1.1.1" xref="S4.T2.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.2.2.2.2.m1.1.1.3" xref="S4.T2.2.2.2.2.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.2.m1.1b"><apply id="S4.T2.2.2.2.2.m1.1.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1"><times id="S4.T2.2.2.2.2.m1.1.1.1.cmml" xref="S4.T2.2.2.2.2.m1.1.1.1"></times><ci id="S4.T2.2.2.2.2.m1.1.1.2.cmml" xref="S4.T2.2.2.2.2.m1.1.1.2">𝐿</ci><ci id="S4.T2.2.2.2.2.m1.1.1.3.cmml" xref="S4.T2.2.2.2.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.2.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.2.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.3.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="AL" class="ltx_Math" display="inline" id="S4.T2.3.3.3.3.m1.1"><semantics id="S4.T2.3.3.3.3.m1.1a"><mrow id="S4.T2.3.3.3.3.m1.1.1" xref="S4.T2.3.3.3.3.m1.1.1.cmml"><mi id="S4.T2.3.3.3.3.m1.1.1.2" xref="S4.T2.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S4.T2.3.3.3.3.m1.1.1.1" xref="S4.T2.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.3.3.3.3.m1.1.1.3" xref="S4.T2.3.3.3.3.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.3.m1.1b"><apply id="S4.T2.3.3.3.3.m1.1.1.cmml" xref="S4.T2.3.3.3.3.m1.1.1"><times id="S4.T2.3.3.3.3.m1.1.1.1.cmml" xref="S4.T2.3.3.3.3.m1.1.1.1"></times><ci id="S4.T2.3.3.3.3.m1.1.1.2.cmml" xref="S4.T2.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S4.T2.3.3.3.3.m1.1.1.3.cmml" xref="S4.T2.3.3.3.3.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.3.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.3.3.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.4.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="VL" class="ltx_Math" display="inline" id="S4.T2.4.4.4.4.m1.1"><semantics id="S4.T2.4.4.4.4.m1.1a"><mrow id="S4.T2.4.4.4.4.m1.1.1" xref="S4.T2.4.4.4.4.m1.1.1.cmml"><mi id="S4.T2.4.4.4.4.m1.1.1.2" xref="S4.T2.4.4.4.4.m1.1.1.2.cmml">V</mi><mo id="S4.T2.4.4.4.4.m1.1.1.1" xref="S4.T2.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.4.4.4.4.m1.1.1.3" xref="S4.T2.4.4.4.4.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.4.m1.1b"><apply id="S4.T2.4.4.4.4.m1.1.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1"><times id="S4.T2.4.4.4.4.m1.1.1.1.cmml" xref="S4.T2.4.4.4.4.m1.1.1.1"></times><ci id="S4.T2.4.4.4.4.m1.1.1.2.cmml" xref="S4.T2.4.4.4.4.m1.1.1.2">𝑉</ci><ci id="S4.T2.4.4.4.4.m1.1.1.3.cmml" xref="S4.T2.4.4.4.4.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.4.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.4.4.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="LL" class="ltx_Math" display="inline" id="S4.T2.5.5.5.5.m1.1"><semantics id="S4.T2.5.5.5.5.m1.1a"><mrow id="S4.T2.5.5.5.5.m1.1.1" xref="S4.T2.5.5.5.5.m1.1.1.cmml"><mi id="S4.T2.5.5.5.5.m1.1.1.2" xref="S4.T2.5.5.5.5.m1.1.1.2.cmml">L</mi><mo id="S4.T2.5.5.5.5.m1.1.1.1" xref="S4.T2.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.5.5.5.5.m1.1.1.3" xref="S4.T2.5.5.5.5.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.5.5.m1.1b"><apply id="S4.T2.5.5.5.5.m1.1.1.cmml" xref="S4.T2.5.5.5.5.m1.1.1"><times id="S4.T2.5.5.5.5.m1.1.1.1.cmml" xref="S4.T2.5.5.5.5.m1.1.1.1"></times><ci id="S4.T2.5.5.5.5.m1.1.1.2.cmml" xref="S4.T2.5.5.5.5.m1.1.1.2">𝐿</ci><ci id="S4.T2.5.5.5.5.m1.1.1.3.cmml" xref="S4.T2.5.5.5.5.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.5.5.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.5.5.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T2.6.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="AL" class="ltx_Math" display="inline" id="S4.T2.6.6.6.6.m1.1"><semantics id="S4.T2.6.6.6.6.m1.1a"><mrow id="S4.T2.6.6.6.6.m1.1.1" xref="S4.T2.6.6.6.6.m1.1.1.cmml"><mi id="S4.T2.6.6.6.6.m1.1.1.2" xref="S4.T2.6.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S4.T2.6.6.6.6.m1.1.1.1" xref="S4.T2.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S4.T2.6.6.6.6.m1.1.1.3" xref="S4.T2.6.6.6.6.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.6.6.m1.1b"><apply id="S4.T2.6.6.6.6.m1.1.1.cmml" xref="S4.T2.6.6.6.6.m1.1.1"><times id="S4.T2.6.6.6.6.m1.1.1.1.cmml" xref="S4.T2.6.6.6.6.m1.1.1.1"></times><ci id="S4.T2.6.6.6.6.m1.1.1.2.cmml" xref="S4.T2.6.6.6.6.m1.1.1.2">𝐴</ci><ci id="S4.T2.6.6.6.6.m1.1.1.3.cmml" xref="S4.T2.6.6.6.6.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.6.6.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.6.6.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.8.8.9.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.8.8.9.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.85</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.4</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.6</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.18</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.51</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.9.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.32</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.10.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.8.8.10.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT+SOFA</th>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.2.1">4.52</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.3.1">14.6</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.4.1">12.6</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.5.1">0.13</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.6.1">5.62</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.7.1">4.49</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.10.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.10.2.8.1">0.22</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.11.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.8.8.11.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Cas.LOFT</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.79</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.8</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.5</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.17</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.97</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.48</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.11.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.31</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.12.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.8.8.12.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Cas.LOFT+SOFA</th>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.2.1">4.43</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.3.1">15.3</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.4.1">13.4</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.5.1">0.12</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.6.1">5.64</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.7.1">4.44</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.12.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.12.4.8.1">0.22</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.13.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.8.8.13.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.3</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">13.9</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.05</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.8.8.13.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.22</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.14.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T2.8.8.14.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM+SOFA</th>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.3.1">15.3</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.4.1">13.9</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.5.1">0.11</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.6.1">5.08</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.7.1">4.04</span></td>
<td class="ltx_td ltx_align_right" id="S4.T2.8.8.14.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.14.6.8.1">0.21</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.7.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T2.7.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM<sup class="ltx_sup" id="S4.T2.7.7.7.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.7.7.7.1.1.1">†</span></sup>
</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">17.0</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.7</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.38</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.35</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T2.7.7.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.22</td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T2.8.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM<sup class="ltx_sup" id="S4.T2.8.8.8.1.1"><span class="ltx_text ltx_font_italic" id="S4.T2.8.8.8.1.1.1">†</span></sup>+SOFA</th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.8</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">15.7</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.11</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.36</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.35</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T2.8.8.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.21</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1">SOFA block obviously brings gains for offset prediction. <span class="ltx_text ltx_font_italic" id="S4.SS4.p3.1.1">e.g.</span> SOFA reduced 0.33 and 0.36 pixels’ EPE for LOFT and Cascade LOFT. m<math alttext="VL" class="ltx_Math" display="inline" id="S4.SS4.p3.1.m1.1"><semantics id="S4.SS4.p3.1.m1.1a"><mrow id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml"><mi id="S4.SS4.p3.1.m1.1.1.2" xref="S4.SS4.p3.1.m1.1.1.2.cmml">V</mi><mo id="S4.SS4.p3.1.m1.1.1.1" xref="S4.SS4.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p3.1.m1.1.1.3" xref="S4.SS4.p3.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><apply id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1"><times id="S4.SS4.p3.1.m1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1.1"></times><ci id="S4.SS4.p3.1.m1.1.1.2.cmml" xref="S4.SS4.p3.1.m1.1.1.2">𝑉</ci><ci id="S4.SS4.p3.1.m1.1.1.3.cmml" xref="S4.SS4.p3.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.1.m1.1d">italic_V italic_L</annotation></semantics></math> reduced by 0.8 pixels for prompt LOFT.</p>
</div>
<div class="ltx_para" id="S4.SS4.p4">
<p class="ltx_p" id="S4.SS4.p4.1">Experiments on OmniCity-view3 further demonstrate the advance of our OBMv2. In this table, OBMv2 nearly outperformed all mentioned models.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Experimental results on OmniCity-view3.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T3.6" style="width:433.6pt;height:158.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,1.8pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.6.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.6.6.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">model</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.6.6.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.6.6.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">Precision</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.6.6.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.6.6.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">EPE</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="VL" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.1.m1.1a"><mrow id="S4.T3.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.cmml"><mi id="S4.T3.1.1.1.1.m1.1.1.2" xref="S4.T3.1.1.1.1.m1.1.1.2.cmml">V</mi><mo id="S4.T3.1.1.1.1.m1.1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.1.1.1.1.m1.1.1.3" xref="S4.T3.1.1.1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1"><times id="S4.T3.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1.1"></times><ci id="S4.T3.1.1.1.1.m1.1.1.2.cmml" xref="S4.T3.1.1.1.1.m1.1.1.2">𝑉</ci><ci id="S4.T3.1.1.1.1.m1.1.1.3.cmml" xref="S4.T3.1.1.1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.1.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="LL" class="ltx_Math" display="inline" id="S4.T3.2.2.2.2.m1.1"><semantics id="S4.T3.2.2.2.2.m1.1a"><mrow id="S4.T3.2.2.2.2.m1.1.1" xref="S4.T3.2.2.2.2.m1.1.1.cmml"><mi id="S4.T3.2.2.2.2.m1.1.1.2" xref="S4.T3.2.2.2.2.m1.1.1.2.cmml">L</mi><mo id="S4.T3.2.2.2.2.m1.1.1.1" xref="S4.T3.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.2.2.2.2.m1.1.1.3" xref="S4.T3.2.2.2.2.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.2.2.2.2.m1.1b"><apply id="S4.T3.2.2.2.2.m1.1.1.cmml" xref="S4.T3.2.2.2.2.m1.1.1"><times id="S4.T3.2.2.2.2.m1.1.1.1.cmml" xref="S4.T3.2.2.2.2.m1.1.1.1"></times><ci id="S4.T3.2.2.2.2.m1.1.1.2.cmml" xref="S4.T3.2.2.2.2.m1.1.1.2">𝐿</ci><ci id="S4.T3.2.2.2.2.m1.1.1.3.cmml" xref="S4.T3.2.2.2.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.2.2.2.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.2.2.2.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.3.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">m<math alttext="AL" class="ltx_Math" display="inline" id="S4.T3.3.3.3.3.m1.1"><semantics id="S4.T3.3.3.3.3.m1.1a"><mrow id="S4.T3.3.3.3.3.m1.1.1" xref="S4.T3.3.3.3.3.m1.1.1.cmml"><mi id="S4.T3.3.3.3.3.m1.1.1.2" xref="S4.T3.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S4.T3.3.3.3.3.m1.1.1.1" xref="S4.T3.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.3.3.3.3.m1.1.1.3" xref="S4.T3.3.3.3.3.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.3.3.3.3.m1.1b"><apply id="S4.T3.3.3.3.3.m1.1.1.cmml" xref="S4.T3.3.3.3.3.m1.1.1"><times id="S4.T3.3.3.3.3.m1.1.1.1.cmml" xref="S4.T3.3.3.3.3.m1.1.1.1"></times><ci id="S4.T3.3.3.3.3.m1.1.1.2.cmml" xref="S4.T3.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S4.T3.3.3.3.3.m1.1.1.3.cmml" xref="S4.T3.3.3.3.3.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.3.3.3.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.3.3.3.3.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.4.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="VL" class="ltx_Math" display="inline" id="S4.T3.4.4.4.4.m1.1"><semantics id="S4.T3.4.4.4.4.m1.1a"><mrow id="S4.T3.4.4.4.4.m1.1.1" xref="S4.T3.4.4.4.4.m1.1.1.cmml"><mi id="S4.T3.4.4.4.4.m1.1.1.2" xref="S4.T3.4.4.4.4.m1.1.1.2.cmml">V</mi><mo id="S4.T3.4.4.4.4.m1.1.1.1" xref="S4.T3.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.4.4.4.4.m1.1.1.3" xref="S4.T3.4.4.4.4.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.4.4.4.4.m1.1b"><apply id="S4.T3.4.4.4.4.m1.1.1.cmml" xref="S4.T3.4.4.4.4.m1.1.1"><times id="S4.T3.4.4.4.4.m1.1.1.1.cmml" xref="S4.T3.4.4.4.4.m1.1.1.1"></times><ci id="S4.T3.4.4.4.4.m1.1.1.2.cmml" xref="S4.T3.4.4.4.4.m1.1.1.2">𝑉</ci><ci id="S4.T3.4.4.4.4.m1.1.1.3.cmml" xref="S4.T3.4.4.4.4.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.4.4.4.4.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.4.4.4.4.m1.1d">italic_V italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.5.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="LL" class="ltx_Math" display="inline" id="S4.T3.5.5.5.5.m1.1"><semantics id="S4.T3.5.5.5.5.m1.1a"><mrow id="S4.T3.5.5.5.5.m1.1.1" xref="S4.T3.5.5.5.5.m1.1.1.cmml"><mi id="S4.T3.5.5.5.5.m1.1.1.2" xref="S4.T3.5.5.5.5.m1.1.1.2.cmml">L</mi><mo id="S4.T3.5.5.5.5.m1.1.1.1" xref="S4.T3.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.5.5.5.5.m1.1.1.3" xref="S4.T3.5.5.5.5.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.5.5.5.5.m1.1b"><apply id="S4.T3.5.5.5.5.m1.1.1.cmml" xref="S4.T3.5.5.5.5.m1.1.1"><times id="S4.T3.5.5.5.5.m1.1.1.1.cmml" xref="S4.T3.5.5.5.5.m1.1.1.1"></times><ci id="S4.T3.5.5.5.5.m1.1.1.2.cmml" xref="S4.T3.5.5.5.5.m1.1.1.2">𝐿</ci><ci id="S4.T3.5.5.5.5.m1.1.1.3.cmml" xref="S4.T3.5.5.5.5.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.5.5.5.5.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.5.5.5.5.m1.1d">italic_L italic_L</annotation></semantics></math>
</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S4.T3.6.6.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="AL" class="ltx_Math" display="inline" id="S4.T3.6.6.6.6.m1.1"><semantics id="S4.T3.6.6.6.6.m1.1a"><mrow id="S4.T3.6.6.6.6.m1.1.1" xref="S4.T3.6.6.6.6.m1.1.1.cmml"><mi id="S4.T3.6.6.6.6.m1.1.1.2" xref="S4.T3.6.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S4.T3.6.6.6.6.m1.1.1.1" xref="S4.T3.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S4.T3.6.6.6.6.m1.1.1.3" xref="S4.T3.6.6.6.6.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T3.6.6.6.6.m1.1b"><apply id="S4.T3.6.6.6.6.m1.1.1.cmml" xref="S4.T3.6.6.6.6.m1.1.1"><times id="S4.T3.6.6.6.6.m1.1.1.1.cmml" xref="S4.T3.6.6.6.6.m1.1.1.1"></times><ci id="S4.T3.6.6.6.6.m1.1.1.2.cmml" xref="S4.T3.6.6.6.6.m1.1.1.2">𝐴</ci><ci id="S4.T3.6.6.6.6.m1.1.1.3.cmml" xref="S4.T3.6.6.6.6.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.6.6.6.6.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T3.6.6.6.6.m1.1d">italic_A italic_L</annotation></semantics></math>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.6.6.7.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.6.6.7.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">M RCNN</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.75</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.74</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.76</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.7.1.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.8.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.6.6.8.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT</th>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">70.46</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">68.77</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">72.23</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.08</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.8.2.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.9.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.6.6.9.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MLS-BRN</th>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">72.25</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">69.57</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">75.14</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.38</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.9.3.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.10.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.6.6.10.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.LOFT</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">82.27</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.63</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">75.81</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">54.3</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.5</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.65</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.57</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.29</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.10.4.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.70</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.11.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.6.6.11.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.Cas.LOFT</th>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">83.75</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.11.5.3.1">91.62</span></td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.54</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">52.9</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">48.4</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.11.5.8.1">0.62</span></td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.25</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.12</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.11.5.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.69</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.12.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.6.6.12.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM</th>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">86.03</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.17</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">82.52</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.9</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">53.7</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.66</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.69</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.10" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.15</td>
<td class="ltx_td ltx_align_right" id="S4.T3.6.6.12.6.11" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.64</td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.13.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.6.6.13.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours(mask)</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.13.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.2.1">88.42</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.13.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.06</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T3.6.6.13.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.4.1">87.01</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.5" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.6.6.13.7.5.1">-</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.6" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.6.1">51.5</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.7" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.7.1">47.9</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.8" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T3.6.6.13.7.8.1">0.63</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.9" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.9.1">6.15</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.10" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.10.1">4.65</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T3.6.6.13.7.11" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.6.6.13.7.11.1">0.59</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.6.6.14.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T3.6.6.14.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours(poly.)</th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T3.6.6.14.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">87.61</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T3.6.6.14.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">90.76</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T3.6.6.14.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">84.93</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS4.p5">
<p class="ltx_p" id="S4.SS4.p5.1">Although vectorized footprint polygons still have lower F1score compared with its mask footprints, OBMv2 outperformed all mentioned models.
In OBMv2, polygonal results even have better Precision compared with mask results(+0.7).
Moreover, OBMv2 performed better than any other models in terms of offset prediction.
<span class="ltx_text ltx_font_italic" id="S4.SS4.p5.1.1">a<math alttext="VL" class="ltx_Math" display="inline" id="S4.SS4.p5.1.1.m1.1"><semantics id="S4.SS4.p5.1.1.m1.1a"><mrow id="S4.SS4.p5.1.1.m1.1.1" xref="S4.SS4.p5.1.1.m1.1.1.cmml"><mi id="S4.SS4.p5.1.1.m1.1.1.2" xref="S4.SS4.p5.1.1.m1.1.1.2.cmml">V</mi><mo id="S4.SS4.p5.1.1.m1.1.1.1" xref="S4.SS4.p5.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.1.1.m1.1.1.3" xref="S4.SS4.p5.1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.1.m1.1b"><apply id="S4.SS4.p5.1.1.m1.1.1.cmml" xref="S4.SS4.p5.1.1.m1.1.1"><times id="S4.SS4.p5.1.1.m1.1.1.1.cmml" xref="S4.SS4.p5.1.1.m1.1.1.1"></times><ci id="S4.SS4.p5.1.1.m1.1.1.2.cmml" xref="S4.SS4.p5.1.1.m1.1.1.2">𝑉</ci><ci id="S4.SS4.p5.1.1.m1.1.1.3.cmml" xref="S4.SS4.p5.1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p5.1.1.m1.1d">italic_V italic_L</annotation></semantics></math></span> of OBMv2 is 1.423 pixels lower than that of prompt LOFT, and 0.544 pixels lower than figure for OBM.
Comparing model performance we found: performance of OBMv2 on two distinct datasets was different.</p>
</div>
<div class="ltx_para" id="S4.SS4.p6">
<p class="ltx_p" id="S4.SS4.p6.1">In Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.F4" title="Figure 4 ‣ 4.4 Main Result ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">4</span></a>, visulized results in prompt mode were provided.
The first and second lines of illustrations were selected from BONAI<cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>.
The third and fouth lines were from OmniCity-view3<cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib20" title="">2022</a>)</cite>, and the last line was from Huizhou<cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite>.
Our model can provide polygonal results which was more editable compared with other models.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="646" id="S4.F4.g1" src="x4.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Main results extracted by prompting mode</figcaption>
</figure>
<div class="ltx_para" id="S4.SS4.p7">
<p class="ltx_p" id="S4.SS4.p7.1">Generalization test was conducted at Huizhou test set.
All models were pretrained on BONAI, and there were no extra trainings.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>Experimental results on Huizhou test set.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T4.4" style="width:433.6pt;height:123.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,1.4pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T4.4.4">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.3.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.3.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">model</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.3.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.3.3.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">Precision</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.3.3.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="VL" class="ltx_Math" display="inline" id="S4.T4.1.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.1.m1.1a"><mrow id="S4.T4.1.1.1.1.m1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.cmml"><mi id="S4.T4.1.1.1.1.m1.1.1.2" xref="S4.T4.1.1.1.1.m1.1.1.2.cmml">V</mi><mo id="S4.T4.1.1.1.1.m1.1.1.1" xref="S4.T4.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.T4.1.1.1.1.m1.1.1.3" xref="S4.T4.1.1.1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.1.m1.1b"><apply id="S4.T4.1.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1"><times id="S4.T4.1.1.1.1.m1.1.1.1.cmml" xref="S4.T4.1.1.1.1.m1.1.1.1"></times><ci id="S4.T4.1.1.1.1.m1.1.1.2.cmml" xref="S4.T4.1.1.1.1.m1.1.1.2">𝑉</ci><ci id="S4.T4.1.1.1.1.m1.1.1.3.cmml" xref="S4.T4.1.1.1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.1.m1.1d">italic_V italic_L</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="LL" class="ltx_Math" display="inline" id="S4.T4.2.2.2.2.m1.1"><semantics id="S4.T4.2.2.2.2.m1.1a"><mrow id="S4.T4.2.2.2.2.m1.1.1" xref="S4.T4.2.2.2.2.m1.1.1.cmml"><mi id="S4.T4.2.2.2.2.m1.1.1.2" xref="S4.T4.2.2.2.2.m1.1.1.2.cmml">L</mi><mo id="S4.T4.2.2.2.2.m1.1.1.1" xref="S4.T4.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.T4.2.2.2.2.m1.1.1.3" xref="S4.T4.2.2.2.2.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.2.m1.1b"><apply id="S4.T4.2.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1"><times id="S4.T4.2.2.2.2.m1.1.1.1.cmml" xref="S4.T4.2.2.2.2.m1.1.1.1"></times><ci id="S4.T4.2.2.2.2.m1.1.1.2.cmml" xref="S4.T4.2.2.2.2.m1.1.1.2">𝐿</ci><ci id="S4.T4.2.2.2.2.m1.1.1.3.cmml" xref="S4.T4.2.2.2.2.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.2.m1.1c">LL</annotation><annotation encoding="application/x-llamapun" id="S4.T4.2.2.2.2.m1.1d">italic_L italic_L</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.3.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">a<math alttext="AL" class="ltx_Math" display="inline" id="S4.T4.3.3.3.3.m1.1"><semantics id="S4.T4.3.3.3.3.m1.1a"><mrow id="S4.T4.3.3.3.3.m1.1.1" xref="S4.T4.3.3.3.3.m1.1.1.cmml"><mi id="S4.T4.3.3.3.3.m1.1.1.2" xref="S4.T4.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S4.T4.3.3.3.3.m1.1.1.1" xref="S4.T4.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S4.T4.3.3.3.3.m1.1.1.3" xref="S4.T4.3.3.3.3.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.3.3.3.3.m1.1b"><apply id="S4.T4.3.3.3.3.m1.1.1.cmml" xref="S4.T4.3.3.3.3.m1.1.1"><times id="S4.T4.3.3.3.3.m1.1.1.1.cmml" xref="S4.T4.3.3.3.3.m1.1.1.1"></times><ci id="S4.T4.3.3.3.3.m1.1.1.2.cmml" xref="S4.T4.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S4.T4.3.3.3.3.m1.1.1.3.cmml" xref="S4.T4.3.3.3.3.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.3.3.3.m1.1c">AL</annotation><annotation encoding="application/x-llamapun" id="S4.T4.3.3.3.3.m1.1d">italic_A italic_L</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.5.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.4.4.5.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.LOFT</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">72.56</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">83.02</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">65.33</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.935</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">6.449</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.5.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.752</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.6.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.4.6.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">p.Cas.LOFT</th>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">75.83</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">81.71</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">71.13</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.894</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.938</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.6.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.818</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.7.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.4.7.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM</th>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">81.53</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.80</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">84.80</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.898</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.351</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.7.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.169</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBM<sup class="ltx_sup" id="S4.T4.4.4.4.1.1"><span class="ltx_text ltx_font_italic" id="S4.T4.4.4.4.1.1.1">†</span></sup>
</th>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.30</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.04</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">81.85</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.985</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.412</td>
<td class="ltx_td ltx_align_right" id="S4.T4.4.4.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.198</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.8.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.4.4.8.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours(mask)</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.8.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">80.36</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.8.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.99</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T4.4.4.8.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">82.18</td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T4.4.4.8.4.5" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T4.4.4.8.4.5.1">4.959</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T4.4.4.8.4.6" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T4.4.4.8.4.6.1">4.636</span></td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T4.4.4.8.4.7" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S4.T4.4.4.8.4.7.1">0.144</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4.9.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T4.4.4.9.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours(poly.)</th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T4.4.4.9.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">75.35</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T4.4.4.9.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.04</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S4.T4.4.4.9.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">74.25</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS4.p8">
<p class="ltx_p" id="S4.SS4.p8.1">In predicting footprints, results of OBM and OBMv2 exhibit similar attributes with them on BONAI,
<span class="ltx_text ltx_font_italic" id="S4.SS4.p8.1.1">e.g.</span> the gap between f1scores of footprints predicted by OBMv2 on BONAI(75.31) and Huizhou Test(75.35) is 0.04.</p>
</div>
<div class="ltx_para" id="S4.SS4.p9">
<p class="ltx_p" id="S4.SS4.p9.1">In summary, OBMv2 can directly predict footprint polygons, and the performance of which showcased a certain generalization ability.
In some dataset, OBMv2 can even partially outperform aforementioned models with polygonal results.
The newly proposed SOFA structure can be widely applied in different models, and bring gains for offset prediction.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span>RAG in BFE</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">Retrieval-augmented Generation (RAG) in Large Language Model emerged as a promising solution by incorporating knowledge from external databases.
A similar question in BFE is how to use spatial, geosciences and prior knowledge in extracting building footprints.
RAG in BFE solved problems: how to realize automatic footprint extraction and how to use different information to extract footprints.
Prompting using human plotted prompts will motivate models to reach their ceiling performance.
In this part, footprints f1score was selected to measure mask ability; meanwhile, EPE and a<math alttext="VL" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1"><semantics id="S4.SS5.p1.1.m1.1a"><mrow id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml"><mi id="S4.SS5.p1.1.m1.1.1.2" xref="S4.SS5.p1.1.m1.1.1.2.cmml">V</mi><mo id="S4.SS5.p1.1.m1.1.1.1" xref="S4.SS5.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS5.p1.1.m1.1.1.3" xref="S4.SS5.p1.1.m1.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><apply id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1"><times id="S4.SS5.p1.1.m1.1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1.1"></times><ci id="S4.SS5.p1.1.m1.1.1.2.cmml" xref="S4.SS5.p1.1.m1.1.1.2">𝑉</ci><ci id="S4.SS5.p1.1.m1.1.1.3.cmml" xref="S4.SS5.p1.1.m1.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">VL</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.1.m1.1d">italic_V italic_L</annotation></semantics></math>, which are similar in definition, were used to measure offset ability.
Each model will be scattered on coordinates.
To facilitate comparison, BONAI was used due to its diverse open source methods and known experimental results.</p>
</div>
<figure class="ltx_figure" id="S4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="563" id="S4.F5.g1" src="x5.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Extracting footprints with multi-types of information.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.1">In Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.F5" title="Figure 5 ‣ 4.5 RAG in BFE ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">5</span></a>, BFE problem was solved by different information.
For promptable models, OBM and OBMv2, building segmentation with offsets can predict better building footprint(F1score +1.37 and + 0.23 respectively).
End-to-end ROI-based can also extract footprint with building segmentation and offsets, which provides similar performance with related models using roof and offset.
Additionally, extracting footprints with roof and building segmentation has been proved appliable, although offsets regressed in this version was inaccurate compared with models using roofs.
All models can provide better results than Mask RCNN.</p>
</div>
<div class="ltx_para" id="S4.SS5.p3">
<p class="ltx_p" id="S4.SS5.p3.1">The automatic extraction of building footprints commonly relies on proposal regions.
In Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.T5" title="Table 5 ‣ 4.5 RAG in BFE ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">5</span></a>, OBMv2 was tested with different region proposal functions.
Additionally, utilizing different sources of information to extract footprint print was also examined.</p>
</div>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>Auto extraction results on BONAI test set.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T5.1" style="width:433.6pt;height:176.9pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,2.0pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T5.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T5.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">model</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Precision</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">EPE</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T5.1.1.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">M RCNN</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.12</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">57.02</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.26</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT(r.o.)</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.42</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.43</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.41</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.85</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">LOFT(b.o.)</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.97</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.41</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.55</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.83</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Cas.LOFT(r.o.)</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">62.58</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">63.67</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.52</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.79</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.6.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Cas.LOFT(b.o.)</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.67</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.6.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.59</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.6.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.00</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.6.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.23</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.7.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">MLS-BRN</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.7.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.7.7.2.1">66.36</span></td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.7.7.3.1">65.90</span></td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.7.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.83</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.7.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.76</td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T5.1.1.8.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours+HTC(r.o.)</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.8.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.48</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.8.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.19</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">74.79</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S4.T5.1.1.8.8.5" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.8.8.5.1">4.59</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T5.1.1.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours+HTC(b.o.)</th>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.9.9.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.48</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.9.9.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.13</td>
<td class="ltx_td ltx_align_right" id="S4.T5.1.1.9.9.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.9.9.4.1">74.99</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.1.1.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t" id="S4.T5.1.1.10.10.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Ours+seg.</th>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T5.1.1.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.20</td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T5.1.1.10.10.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">64.66</td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T5.1.1.10.10.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">50.47</td>
<td class="ltx_td ltx_align_right ltx_border_b ltx_border_t" id="S4.T5.1.1.10.10.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS5.p4">
<p class="ltx_p" id="S4.SS5.p4.1">r., b., o. and d. represent roof mask, building mask, offset and offset direction.</p>
</div>
<div class="ltx_para" id="S4.SS5.p5">
<p class="ltx_p" id="S4.SS5.p5.1">With the help of HTC, OBMv2 can automatically extract building footprints,
and the Recall of this model is higher (+8.16) than former SOTA MLS-BRN.
By adjusting different prompting mode, OBMv2 can also reach a similar Precision of MLS-BRN (-1.24).</p>
</div>
<div class="ltx_para" id="S4.SS5.p6">
<p class="ltx_p" id="S4.SS5.p6.1">In Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.F6" title="Figure 6 ‣ 4.5 RAG in BFE ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">6</span></a>, footprints extracted by auto mode were compared with each other.
Our model using can still provide polygonal results compared with other models.</p>
</div>
<figure class="ltx_figure" id="S4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="764" id="S4.F6.g1" src="x6.png" width="748"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Main results extracted by prompting mode</figcaption>
</figure>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Ablation</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">This section will examine the proposed algorithms and blocks.
Apart from the SOFA block, aforementioned algorithms proposed for extracting footprints with different information also needs ablation.</p>
</div>
<section class="ltx_subsection ltx_indent_first" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Ablation of SOFA block</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Unlike other transformer blocks, SOFA block was developed not sensitive to the input length of embedded tokens.
Because of this feature, SOFA block can adapt to any offset based models.
SOFA block was trained in the last stage after all other blocks finished training.
In Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.T2" title="Table 2 ‣ 4.4 Main Result ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">2</span></a>, SOFA block was applied in all open-source models, and can reduce both prompt-level and instance-level offset error.
<span class="ltx_text ltx_font_italic" id="S5.SS1.p1.1.1">e.g.</span> EPE of LOFT on BONAI dataset declined by 0.33 pixels.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>RAG in BFE: Multi-information</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">To ensure the proposed algorithms can extract building footprints, ablation studies were conducted with ground truth labels.</p>
</div>
<figure class="ltx_table" id="S5.T6">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6: </span>Extract footprints with different ground truth labels on BONAI test set.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T6.1" style="width:433.6pt;height:89pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,1.0pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T6.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T6.1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.1.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Precision</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_t" id="S5.T6.1.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">aVL</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.1.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.1.1.2.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">b.+o.</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T6.1.1.2.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">98.22</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T6.1.1.2.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">98.60</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T6.1.1.2.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">97.88</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T6.1.1.2.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T6.1.1.3.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">r.+o.</th>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.3.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">98.55</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.3.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">99.30</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.3.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">97.84</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.3.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T6.1.1.4.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">b.+r.</th>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.4.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">87.87</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.4.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">88.67</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.4.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">87.11</td>
<td class="ltx_td ltx_align_right" id="S5.T6.1.1.4.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.83</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S5.T6.1.1.5.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">b.+r.+d.</th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T6.1.1.5.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">94.37</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T6.1.1.5.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">98.17</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T6.1.1.5.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">91.69</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T6.1.1.5.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.67</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1">r., b., o. and d. represent roof mask, building mask, offset and offset direction.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">From Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.T6" title="Table 6 ‣ 5.2 RAG in BFE: Multi-information ‣ 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">6</span></a>, our proposed algorithms can accurately extract building footprints via different information.
Although our algorithms can extract footprints merely with roof and building segmentations,
grid-based digital images always limited by image continuity.
The influence of this problem is more severe especially on the representations of buildings with short offsets,
<span class="ltx_text ltx_font_italic" id="S5.SS2.p3.1.1">e.g.</span> an offset with length 1 pixel, there are only 4 points nearby can represent its end point.
This ambiguity leads to poor perception of direction.
As a result, when offset direction was given, the <math alttext="aVL" class="ltx_Math" display="inline" id="S5.SS2.p3.1.m1.1"><semantics id="S5.SS2.p3.1.m1.1a"><mrow id="S5.SS2.p3.1.m1.1.1" xref="S5.SS2.p3.1.m1.1.1.cmml"><mi id="S5.SS2.p3.1.m1.1.1.2" xref="S5.SS2.p3.1.m1.1.1.2.cmml">a</mi><mo id="S5.SS2.p3.1.m1.1.1.1" xref="S5.SS2.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p3.1.m1.1.1.3" xref="S5.SS2.p3.1.m1.1.1.3.cmml">V</mi><mo id="S5.SS2.p3.1.m1.1.1.1a" xref="S5.SS2.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p3.1.m1.1.1.4" xref="S5.SS2.p3.1.m1.1.1.4.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p3.1.m1.1b"><apply id="S5.SS2.p3.1.m1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1"><times id="S5.SS2.p3.1.m1.1.1.1.cmml" xref="S5.SS2.p3.1.m1.1.1.1"></times><ci id="S5.SS2.p3.1.m1.1.1.2.cmml" xref="S5.SS2.p3.1.m1.1.1.2">𝑎</ci><ci id="S5.SS2.p3.1.m1.1.1.3.cmml" xref="S5.SS2.p3.1.m1.1.1.3">𝑉</ci><ci id="S5.SS2.p3.1.m1.1.1.4.cmml" xref="S5.SS2.p3.1.m1.1.1.4">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p3.1.m1.1c">aVL</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p3.1.m1.1d">italic_a italic_V italic_L</annotation></semantics></math> dropped by 5.16 pixels and F1score of footprints increased by 6.5%.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>RAG in BFE: Proposal Methods</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">OBMv2 can receive almost all kinds of models which can provide bounding boxes related to buildings.
Except an extra segmentation head on OBMv2,
OBMv2 was integrated with other models that can provide roof bounding boxes or segmentations.
These outputs perform as rough extraction results and OBMv2 will correct and refine them.</p>
</div>
<figure class="ltx_table" id="S5.T7">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7: </span>Extract footprints with other roof extraction models on BONAI test set.</figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S5.T7.5" style="width:433.6pt;height:141.8pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-5.0pt,1.6pt) scale(0.97745821830567,0.97745821830567) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T7.5.5">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T7.5.5.6.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.5.5.6.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Model</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.6.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">F1</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.6.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">Precision</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.6.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">Recall</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.6.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">EPE</td>
</tr>
<tr class="ltx_tr" id="S5.T7.5.5.7.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.5.5.7.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">OBMv2</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.7.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">78.74</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.7.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">79.85</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.7.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">77.91</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.7.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">-</td>
</tr>
<tr class="ltx_tr" id="S5.T7.5.5.8.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.5.5.8.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+eve</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.8.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.67</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.8.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">68.66</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.8.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.32</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.5.5.8.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.03</td>
</tr>
<tr class="ltx_tr" id="S5.T7.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+HTC<math alttext="\heartsuit" class="ltx_Math" display="inline" id="S5.T7.1.1.1.1.m1.1"><semantics id="S5.T7.1.1.1.1.m1.1a"><mi id="S5.T7.1.1.1.1.m1.1.1" mathvariant="normal" xref="S5.T7.1.1.1.1.m1.1.1.cmml">♡</mi><annotation-xml encoding="MathML-Content" id="S5.T7.1.1.1.1.m1.1b"><ci id="S5.T7.1.1.1.1.m1.1.1.cmml" xref="S5.T7.1.1.1.1.m1.1.1">♡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.1.1.1.1.m1.1c">\heartsuit</annotation><annotation encoding="application/x-llamapun" id="S5.T7.1.1.1.1.m1.1d">♡</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">61.48</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">55.19</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">74.80</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.59</td>
</tr>
<tr class="ltx_tr" id="S5.T7.2.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.2.2.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+HTC<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.T7.2.2.2.1.m1.1"><semantics id="S5.T7.2.2.2.1.m1.1a"><mi id="S5.T7.2.2.2.1.m1.1.1" mathvariant="normal" xref="S5.T7.2.2.2.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.T7.2.2.2.1.m1.1b"><ci id="S5.T7.2.2.2.1.m1.1.1.cmml" xref="S5.T7.2.2.2.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.2.2.2.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.T7.2.2.2.1.m1.1d">♠</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_right" id="S5.T7.2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">51.79</td>
<td class="ltx_td ltx_align_right" id="S5.T7.2.2.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">39.23</td>
<td class="ltx_td ltx_align_right" id="S5.T7.2.2.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">85.29</td>
<td class="ltx_td ltx_align_right" id="S5.T7.2.2.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.92</td>
</tr>
<tr class="ltx_tr" id="S5.T7.3.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S5.T7.3.3.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+HTC<math alttext="\clubsuit" class="ltx_Math" display="inline" id="S5.T7.3.3.3.1.m1.1"><semantics id="S5.T7.3.3.3.1.m1.1a"><mi id="S5.T7.3.3.3.1.m1.1.1" mathvariant="normal" xref="S5.T7.3.3.3.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="S5.T7.3.3.3.1.m1.1b"><ci id="S5.T7.3.3.3.1.m1.1.1.cmml" xref="S5.T7.3.3.3.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.3.3.3.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="S5.T7.3.3.3.1.m1.1d">♣</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_right" id="S5.T7.3.3.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">60.70</td>
<td class="ltx_td ltx_align_right" id="S5.T7.3.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">59.18</td>
<td class="ltx_td ltx_align_right" id="S5.T7.3.3.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">66.32</td>
<td class="ltx_td ltx_align_right" id="S5.T7.3.3.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.42</td>
</tr>
<tr class="ltx_tr" id="S5.T7.4.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T7.4.4.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+LOFT<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.T7.4.4.4.1.m1.1"><semantics id="S5.T7.4.4.4.1.m1.1a"><mi id="S5.T7.4.4.4.1.m1.1.1" mathvariant="normal" xref="S5.T7.4.4.4.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.T7.4.4.4.1.m1.1b"><ci id="S5.T7.4.4.4.1.m1.1.1.cmml" xref="S5.T7.4.4.4.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.4.4.4.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.T7.4.4.4.1.m1.1d">♠</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.4.4.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.24</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.4.4.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">44.01</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.4.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">84.33</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S5.T7.4.4.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.07</td>
</tr>
<tr class="ltx_tr" id="S5.T7.5.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S5.T7.5.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">+LOFT<math alttext="\clubsuit" class="ltx_Math" display="inline" id="S5.T7.5.5.5.1.m1.1"><semantics id="S5.T7.5.5.5.1.m1.1a"><mi id="S5.T7.5.5.5.1.m1.1.1" mathvariant="normal" xref="S5.T7.5.5.5.1.m1.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="S5.T7.5.5.5.1.m1.1b"><ci id="S5.T7.5.5.5.1.m1.1.1.cmml" xref="S5.T7.5.5.5.1.m1.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T7.5.5.5.1.m1.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="S5.T7.5.5.5.1.m1.1d">♣</annotation></semantics></math>
</th>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T7.5.5.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">60.26</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T7.5.5.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">56.32</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T7.5.5.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">68.48</td>
<td class="ltx_td ltx_align_right ltx_border_b" id="S5.T7.5.5.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">4.59</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.4">In Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.T7" title="Table 7 ‣ 5.3 RAG in BFE: Proposal Methods ‣ 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">7</span></a>, OBMv2 was integrated with its segmentation head, HTC and LOFT.
Specifically, HTC and LOFT are matched with different NMS strategies.
<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" mathvariant="normal" xref="S5.SS3.p2.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">♠</annotation></semantics></math> represents soft NMS algorithms with score threshold 0.05, IoU threshold 0.5, maximum 2000 instances per image.
<math alttext="\clubsuit" class="ltx_Math" display="inline" id="S5.SS3.p2.2.m2.1"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" mathvariant="normal" xref="S5.SS3.p2.2.m2.1.1.cmml">♣</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">♣</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">\clubsuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.2.m2.1d">♣</annotation></semantics></math> represents NMS algorithms with score threshold 0.1, IoU threshold 0.5, maximum 2000 instances per image.
<math alttext="\heartsuit" class="ltx_Math" display="inline" id="S5.SS3.p2.3.m3.1"><semantics id="S5.SS3.p2.3.m3.1a"><mi id="S5.SS3.p2.3.m3.1.1" mathvariant="normal" xref="S5.SS3.p2.3.m3.1.1.cmml">♡</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.1b"><ci id="S5.SS3.p2.3.m3.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1">♡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.1c">\heartsuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.3.m3.1d">♡</annotation></semantics></math> leverages results from <math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.SS3.p2.4.m4.1"><semantics id="S5.SS3.p2.4.m4.1a"><mi id="S5.SS3.p2.4.m4.1.1" mathvariant="normal" xref="S5.SS3.p2.4.m4.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m4.1b"><ci id="S5.SS3.p2.4.m4.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m4.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.4.m4.1d">♠</annotation></semantics></math>, but the same instance which was repeated predicted will be merged as one instance.</p>
</div>
<div class="ltx_para" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.5">Soft NMS algorithm gives almost all bounding boxes with very-low score threshold.
This means most output boxes will be selected as final outputs.
Consequently, they can provide results with high Recall, but OBMv2 was trained with annotations can cover the whole building or roof.
As a result, the Precision was not good.
<span class="ltx_text ltx_font_italic" id="S5.SS3.p3.5.1">e.g.</span> Precision of OBMv2 + HTC<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.SS3.p3.1.m1.1"><semantics id="S5.SS3.p3.1.m1.1a"><mi id="S5.SS3.p3.1.m1.1.1" mathvariant="normal" xref="S5.SS3.p3.1.m1.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><ci id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.1.m1.1d">♠</annotation></semantics></math> is lower than that of OBMv2 + HTC<math alttext="\heartsuit" class="ltx_Math" display="inline" id="S5.SS3.p3.2.m2.1"><semantics id="S5.SS3.p3.2.m2.1a"><mi id="S5.SS3.p3.2.m2.1.1" mathvariant="normal" xref="S5.SS3.p3.2.m2.1.1.cmml">♡</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.2.m2.1b"><ci id="S5.SS3.p3.2.m2.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1">♡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.2.m2.1c">\heartsuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.2.m2.1d">♡</annotation></semantics></math> by 15.96%,
although the Recall of OBMv2 + HTC<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.SS3.p3.3.m3.1"><semantics id="S5.SS3.p3.3.m3.1a"><mi id="S5.SS3.p3.3.m3.1.1" mathvariant="normal" xref="S5.SS3.p3.3.m3.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.3.m3.1b"><ci id="S5.SS3.p3.3.m3.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.3.m3.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.3.m3.1d">♠</annotation></semantics></math> is higher than that of OBMv2 + HTC<math alttext="\heartsuit" class="ltx_Math" display="inline" id="S5.SS3.p3.4.m4.1"><semantics id="S5.SS3.p3.4.m4.1a"><mi id="S5.SS3.p3.4.m4.1.1" mathvariant="normal" xref="S5.SS3.p3.4.m4.1.1.cmml">♡</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.4.m4.1b"><ci id="S5.SS3.p3.4.m4.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1">♡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.4.m4.1c">\heartsuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.4.m4.1d">♡</annotation></semantics></math> by 10.49%.
Finally, F1score of OBMv2 + HTC<math alttext="\spadesuit" class="ltx_Math" display="inline" id="S5.SS3.p3.5.m5.1"><semantics id="S5.SS3.p3.5.m5.1a"><mi id="S5.SS3.p3.5.m5.1.1" mathvariant="normal" xref="S5.SS3.p3.5.m5.1.1.cmml">♠</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.5.m5.1b"><ci id="S5.SS3.p3.5.m5.1.1.cmml" xref="S5.SS3.p3.5.m5.1.1">♠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.5.m5.1c">\spadesuit</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p3.5.m5.1d">♠</annotation></semantics></math> was adversely influenced which only reach 51.79%.</p>
</div>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Discussion</h2>
<section class="ltx_subsection ltx_indent_first" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Why named "RAG in BFE"?</h3>
<div class="ltx_para" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.1">Prompting methods play a key role of model performance.
<span class="ltx_text ltx_font_italic" id="S6.SS1.p1.1.1">e.g.</span> contrastive Language-Image Pre-training (CLIP) was trained on over 400 million pairs of images and text <cite class="ltx_cite ltx_citemacro_citep">(Radford et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib28" title="">2021</a>)</cite>.
When researchers conducting experiments on classifying ImageNet <cite class="ltx_cite ltx_citemacro_citep">(Deng et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib5" title="">2009</a>)</cite>.
Researchers found using a prompt template "A photo of a {<span class="ltx_text ltx_font_italic" id="S6.SS1.p1.1.2">label</span>}" can directly improve the accuracy by 1.3% compared with using a single category word "{<span class="ltx_text ltx_font_italic" id="S6.SS1.p1.1.3">label</span>}".
In the zone of video recognition, FineCLIPER <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib1" title="">2024a</a>)</cite> using re-generated video captions for facial acitivaties also improves the quality of model.
In BFE problem, <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib19" title="">2024a</a>)</cite> discovered slightly larger building prompts can extract better footprints compared with those fully fitting box prompts.</p>
</div>
<div class="ltx_para" id="S6.SS1.p2">
<p class="ltx_p" id="S6.SS1.p2.1">RAG in LLM was another key tool which can improve the final generated results<cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib18" title="">2020</a>)</cite>.
<span class="ltx_text ltx_font_italic" id="S6.SS1.p2.1.1">e.g.</span> Query2doc<cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib36" title="">2023b</a>)</cite> use pseudo-documents prompting and concatenates them with the original query to improve predicting quality.
Apart from the mentioned, RAG can also update knowledge and utilize external resources.</p>
</div>
<div class="ltx_para" id="S6.SS1.p3">
<p class="ltx_p" id="S6.SS1.p3.1">BFE problem solved by a promptable model like OBMv2 must also consider those similar problems.
Except Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.F5" title="Figure 5 ‣ 4.5 RAG in BFE ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">5</span></a> and Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.T7" title="Table 7 ‣ 5.3 RAG in BFE: Proposal Methods ‣ 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">7</span></a>,
there must be more interesting methods which help the model reaching and exceeding "the ceiling performance of using Ground Truth prompts".</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Limitations of OBMv2</h3>
<div class="ltx_para" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1">Limitations of OBMv2 mainly generated in two streams: the limited interactive visual zone and the training methods.
OBM2 was prompted by roof.
Roof prompts make the attention of OBMv2 excessively focused on the zone of "the building top".
Thus, multi-attentions are less likely noticed the features in other parts of a building, although two-way transformer helps OBMv2 reference features from other buildings.</p>
</div>
<div class="ltx_para" id="S6.SS2.p2">
<p class="ltx_p" id="S6.SS2.p2.1">On the other hand, OBMv2 was trained with noised ground truth boxes, and these boxes can cover all pixels of each roof.
However, bounding boxes which were received by OBMv2 tend to only cover a small pitch of one building, when integrating with other models, as shown in Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.F7" title="Figure 7 ‣ 6.2 Limitations of OBMv2 ‣ 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">7</span></a>.
For such box prompts, OBMv2 cannot predict accurate offsets.
Then, corresponding roofs were consequently moved to wrong places because of the uncertainty.
That is why in Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S5.T7" title="Table 7 ‣ 5.3 RAG in BFE: Proposal Methods ‣ 5 Ablation ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">7</span></a> soft NMS has high recall but low precision.</p>
</div>
<figure class="ltx_figure" id="S6.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="387" id="S6.F7.g1" src="x7.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Some mistake samples of roof extraction made by HTC and Ground Truth label</figcaption>
</figure>
</section>
<section class="ltx_subsection ltx_indent_first" id="S6.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>The benefit of building task</h3>
<div class="ltx_para" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1">Considering building related information was on of the contributions in this paper.
For OBM and OBMv2, using building segmentation and offset robustly improves the quality of extracted footprints.
To find an explanation for this, we carefully analyzed results of predicted roof and building segmentation.
We found that the edge of roof and building facade is not that obvious compared with the edge between the building and background in one remote sensing image.</p>
</div>
<figure class="ltx_figure" id="S6.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="353" id="S6.F8.g1" src="x8.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Some mistake samples of roof extraction</figcaption>
</figure>
<div class="ltx_para" id="S6.SS3.p2">
<p class="ltx_p" id="S6.SS3.p2.1">Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S6.F8" title="Figure 8 ‣ 6.3 The benefit of building task ‣ 6 Discussion ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">8</span></a> displayed some typical samples which predict false roofs because of the "edge problem".
Low roof quality but relatively correct offsets finally leads to a poor quality footprint.
Aforementioned situation can be improved by using building segmentation like Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>(c).</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S6.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Why OBMv2 not always outperform other models?</h3>
<div class="ltx_para" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.1">OBMv2 is not always better than other models.
<span class="ltx_text ltx_font_italic" id="S6.SS4.p1.1.1">e.g.</span> On BONAI <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite>, OBMv2 patially outperform OBM in Tab.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.T1" title="Table 1 ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">1</span></a>,
but experiments on OmniCity <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib20" title="">2022</a>)</cite> showcase the ability of OBMv2.
From Fig.<a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#S4.F4" title="Figure 4 ‣ 4.4 Main Result ‣ 4 Experiment and Analysis ‣ Extracting polygonal footprints in off-nadir images with Segment Anything Model"><span class="ltx_text ltx_ref_tag">4</span></a>, we speculate that this is likely due to the different pixel proportions occupied by buildings in the same image.
The image embeddings from ViT encoder is downsampled by <math alttext="16\times" class="ltx_math_unparsed" display="inline" id="S6.SS4.p1.1.m1.1"><semantics id="S6.SS4.p1.1.m1.1a"><mrow id="S6.SS4.p1.1.m1.1b"><mn id="S6.SS4.p1.1.m1.1.1">16</mn><mo id="S6.SS4.p1.1.m1.1.2" lspace="0.222em">×</mo></mrow><annotation encoding="application/x-tex" id="S6.SS4.p1.1.m1.1c">16\times</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.1.m1.1d">16 ×</annotation></semantics></math>.
This downsampling process will adversely influence the quality of embeddings, especially when objects in images only occupied a small number of pixels.
Unfortunately, this feature is very obvious on BONAI compared it on OmniCity.</p>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="S6.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.5 </span>Future work</h3>
<div class="ltx_para" id="S6.SS5.p1">
<p class="ltx_p" id="S6.SS5.p1.1">Although OBM and OBMv2 outperform other end-to-end models in prompt mode,
their automatic mode still cannot touch their ceiling performance.
The future exploration may focus on how to tap into the models potential like RAG in LLM.
On the other hand, except BONAI<cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib35" title="">2023a</a>)</cite> and OmniCity<cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.08645v1#bib.bib20" title="">2022</a>)</cite>, there are little valid data to fine-tune models.
However, many of current developed models need a vast of data to train or fine-tune.
As a result, we advocate more teams to democratize their data.</p>
</div>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">This paper provides a model which can extract polygonal building footprints automatically and interactively.
Because the footprint extraction is computed in vertex, this model realized end-to-end footprint extraction.
This model performs better on some datasets compared with other models.
For the common pattern of predicting roof-to-footprint offset, Self Offset Attention (SOFA) was designed to correct short offsets in our model.
Then, this paper discussed how to use multiple information to predict footprints, and how to better integrate with other models to extract building footprints automatically.
By making comparison with natural language processing, both topics were concluded as "RAG in BFE".
BFE problem can be solved in different views, using building segmentation and offset can cleverly avoid the problem of unclear edges between the roof and facade.</p>
</div>
</section>
<section class="ltx_section ltx_indentfirst" id="Sx1">
<h2 class="ltx_title ltx_title_section">References</h2>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024a)</span>
<span class="ltx_bibblock">
Chen, H., Huang, H., Dong, J., Zheng, M., Shao, D., 2024a. Finecliper: Multi-modal fine-grained clip for dynamic facial expression recognition with adapters. arXiv preprint arXiv:2407.02157.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024b)</span>
<span class="ltx_bibblock">
Chen, H., Huang, Y., Huang, H., Ge, X., Shao, D., 2024b. Gaussianvton: 3d human virtual try-on via multi-stage gaussian splatting editing with image prompting. arXiv preprint arXiv:2405.07472.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2019)</span>
<span class="ltx_bibblock">
Chen, K., Pang, J., Wang, J., Xiong, Y., Li, X., Sun, S., Feng, W., Liu, Z., Shi, J., Ouyang, W., Loy, C. C., Lin, D., 2019. Hybrid task cascade for instance segmentation. In: IEEE Conf. Comput. Vis. Pattern Recog.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christie et al. (2020)</span>
<span class="ltx_bibblock">
Christie, G., Abujder, R. R. R. M., Foster, K., Hagstrom, S., Hager, G. D., Brown, M. Z., 2020. Learning geocentric object pose in oblique monocular images. In: Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition. pp. 14512–14520.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2009)</span>
<span class="ltx_bibblock">
Deng, J., Dong, W., Socher, R., Li, L.-J., Li, K., Fei-Fei, L., 2009. Imagenet: A large-scale hierarchical image database. In: IEEE Conf. Comput. Vis. Pattern Recog. pp. 248–255.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Douglas and Peucker (1973)</span>
<span class="ltx_bibblock">
Douglas, D. H., Peucker, T. K., 1973. Algorithms for the reduction of the number of points required to represent a digitized line or its caricature. Cartographica: the international journal for geographic information and geovisualization 10 (2), 112–122.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2023)</span>
<span class="ltx_bibblock">
Gao, Y., Xiong, Y., Gao, X., Jia, K., Pan, J., Bi, Y., Dai, Y., Sun, J., Wang, H., 2023. Retrieval-augmented generation for large language models: A survey. arXiv preprint arXiv:2312.10997.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Girard et al. (2021)</span>
<span class="ltx_bibblock">
Girard, N., Smirnov, D., Solomon, J., Tarabalka, Y., 2021. Polygonal building extraction by frame field learning. In: 2021 IEEE/CVF Conference on Computer Vision and Pattern Recognition (CVPR). pp. 5887–5896.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Girshick (2015)</span>
<span class="ltx_bibblock">
Girshick, R., 2015. Fast r-cnn. In: Int. Conf. Comput. Vis. pp. 1440–1448.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2024)</span>
<span class="ltx_bibblock">
Guo, G., Shao, D., Zhu, C., Meng, S., Wang, X., Gao, S., 2024. P2p: Transforming from point supervision to explicit visual prompt for object detection and segmentation. IJCAI.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2017)</span>
<span class="ltx_bibblock">
He, K., Gkioxari, G., Dollár, P., Girshick, R., 2017. Mask R-CNN. In: Int. Conf. Comput. Vis. pp. 2980–2988.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Inglada (2007)</span>
<span class="ltx_bibblock">
Inglada, J., 2007. Automatic recognition of man-made objects in high resolution optical remote sensing images by SVM classification of geometric image features. ISPRS J. Photogramm. Remote Sens. 62 (3), 236–248.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ke et al. (2024)</span>
<span class="ltx_bibblock">
Ke, L., Ye, M., Danelljan, M., Tai, Y.-W., Tang, C.-K., Yu, F., et al., 2024. Segment anything in high quality. Adv. Neural Inform. Process. Syst. 36.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khattak et al. (2013)</span>
<span class="ltx_bibblock">
Khattak, S. R., Buckstein, D. S., Hogue, A., 2013. Reconstructing 3d buildings from lidar using level set methods. In: 2013 International Conference on Computer and Robot Vision. pp. 151–158.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirillov et al. (2023)</span>
<span class="ltx_bibblock">
Kirillov, A., Mintun, E., Ravi, N., Mao, H., Rolland, C., Gustafson, L., Xiao, T., Whitehead, S., Berg, A. C., Lo, W.-Y., et al., 2023. Segment anything. In: Int. Conf. Comput. Vis. pp. 4015–4026.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kunwar et al. (2021)</span>
<span class="ltx_bibblock">
Kunwar, S., Chen, H., Lin, M., Zhang, H., D’Angelo, P., Cerra, D., Azimi, S. M., Brown, M., Hager, G., Yokoya, N., Hänsch, R., Le Saux, B., 2021. Large-scale semantic 3-d reconstruction: Outcome of the 2019 ieee grss data fusion contest—part a. IEEE Journal of Selected Topics in Applied Earth Observations and Remote Sensing 14, 922–935.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lafarge et al. (2010)</span>
<span class="ltx_bibblock">
Lafarge, F., Descombes, X., Zerubia, J., Pierrot-Deseilligny, M., 2010. Structural approach for building reconstruction from a single DSM. IEEE Trans. Pattern Anal. Mach. Intell. 32 (1), 135–147.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Lewis, P., Perez, E., Piktus, A., Petroni, F., Karpukhin, V., Goyal, N., Küttler, H., Lewis, M., Yih, W.-t., Rocktäschel, T., Riedel, S., Kiela, D., 2020. Retrieval-augmented generation for knowledge-intensive nlp tasks. In: Larochelle, H., Ranzato, M., Hadsell, R., Balcan, M., Lin, H. (Eds.), Advances in Neural Information Processing Systems. Vol. 33. Curran Associates, Inc., pp. 9459–9474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024a)</span>
<span class="ltx_bibblock">
Li, K., Deng, Y., Kong, Y., Liu, D., Chen, J., Meng, Y., Ma, J., 2024a. Prompt-driven building footprint extraction in aerial images with offset-building model.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Li, W., Lai, Y., Xu, L., Xiangli, Y., Yu, J., He, C., Xia, G.-S., Lin, D., 2022. Omnicity: Omnipotent city understanding with multi-level and multi-view images. arXiv e-prints, arXiv–2208.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Li, W., Meng, L., Wang, J., He, C., Xia, G.-S., Lin, D., 2021. 3d building reconstruction from monocular remote sensing images. In: Int. Conf. Comput. Vis. pp. 12548–12557.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024b)</span>
<span class="ltx_bibblock">
Li, W., Yang, H., Hu, Z., Zheng, J., Xia, G.-S., He, C., 2024b. 3d building reconstruction from monocular remote sensing images with multi-level supervisions. arXiv preprint arXiv:2404.04823.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et al. (2021)</span>
<span class="ltx_bibblock">
Lian, Y., Feng, T., Zhou, J., Jia, M., Li, A., Wu, Z., Jiao, L., Brown, M., Hager, G., Yokoya, N., Hänsch, R., Saux, B. L., 2021. Large-scale semantic 3-d reconstruction: Outcome of the 2019 ieee grss data fusion contest—part b. IEEE J. Sel. Topics Appl. Earth Observations Remote Sens. 14, 1158–1170.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2018)</span>
<span class="ltx_bibblock">
Liu, S., Qi, L., Qin, H., Shi, J., Jia, J., June 2018. Path aggregation network for instance segmentation. In: IEEE Conf. Comput. Vis. Pattern Recog.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nadaraya (1964)</span>
<span class="ltx_bibblock">
Nadaraya, E. A., 1964. On estimating regression. Theory Probab. Its Appl. 9 (1), 141–142.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ortner et al. (2008)</span>
<span class="ltx_bibblock">
Ortner, M., Descombes, X., Zerubia, J., 2008. A Marked Point Process of Rectangles and Segments for Automatic Analysis of Digital Elevation Models. IEEE Trans. Pattern Anal. Mach. Intell. 30 (1), 105–119.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Priestnall et al. (2000)</span>
<span class="ltx_bibblock">
Priestnall, G., Jaafar, J., Duncan, A., 2000. Extracting urban features from lidar digital surface models. Computers, Environment and Urban Systems 24 (2), 65–78.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Radford et al. (2021)</span>
<span class="ltx_bibblock">
Radford, A., Kim, J. W., Hallacy, C., Ramesh, A., Goh, G., Agarwal, S., Sastry, G., Askell, A., Mishkin, P., Clark, J., Krueger, G., Sutskever, I., 18–24 Jul 2021. Learning transferable visual models from natural language supervision. In: Meila, M., Zhang, T. (Eds.), Int. Conf. Mach. Learn. Vol. 139 of Proc. of Mach. Learn. Res. PMLR, pp. 8748–8763.

<br class="ltx_break"/>URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.mlr.press/v139/radford21a.html" title="">https://proceedings.mlr.press/v139/radford21a.html</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ravi et al. (2024)</span>
<span class="ltx_bibblock">
Ravi, N., Gabeur, V., Hu, Y.-T., Hu, R., Ryali, C., Ma, T., Khedr, H., Rädle, R., Rolland, C., Gustafson, L., et al., 2024. Sam 2: Segment anything in images and videos. arXiv preprint arXiv:2408.00714.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Robbins and Monro (1951)</span>
<span class="ltx_bibblock">
Robbins, H., Monro, S., 1951. A stochastic approximation method. The annals of mathematical statistics, 400–407.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shannon (1948)</span>
<span class="ltx_bibblock">
Shannon, C. E., 1948. A mathematical theory of communication. Bell Syst. Tech. J. 27 (3), 379–423.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Strudel et al. (2021)</span>
<span class="ltx_bibblock">
Strudel, R., Garcia, R., Laptev, I., Schmid, C., October 2021. Segmenter: Transformer for semantic segmentation. In: Int. Conf. Comput. Vis. pp. 7262–7272.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. (2017)</span>
<span class="ltx_bibblock">
Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., Kaiser, L. u., Polosukhin, I., 2017. Attention is all you need. In: Guyon, I., Luxburg, U. V., Bengio, S., Wallach, H., Fergus, R., Vishwanathan, S., Garnett, R. (Eds.), Adv. Neural Inform. Process. Syst. Vol. 30. Curran Associates, Inc.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Viola and Jones (2001)</span>
<span class="ltx_bibblock">
Viola, P., Jones, M., 2001. Rapid object detection using a boosted cascade of simple features. In: IEEE Conf. Comput. Vis. Pattern Recog. Vol. 1. pp. I–I.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023a)</span>
<span class="ltx_bibblock">
Wang, J., Meng, L., Li, W., Yang, W., Yu, L., Xia, G.-S., 2023a. Learning to Extract Building Footprints From Off-Nadir Aerial Images. IEEE Trans. Pattern Anal. Mach. Intell. 45 (1), 1294–1301.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023b)</span>
<span class="ltx_bibblock">
Wang, L., Yang, N., Wei, F., 2023b. Query2doc: Query expansion with large language models. In: Conf. Empirical Methods Natural Lang. Process.

<br class="ltx_break"/>URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=QH4EMvwF8I" title="">https://openreview.net/forum?id=QH4EMvwF8I</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Watson (1964)</span>
<span class="ltx_bibblock">
Watson, G. S., 1964. Smooth regression analysis. Sankhyā: The Indian Journal of Statistics, Series A, 359–372.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2019)</span>
<span class="ltx_bibblock">
Wei, S., Ji, S., Lu, M., 2019. Toward automatic building footprint delineation from aerial images using cnn and regularization. IEEE Trans. Geosci. Remote Sens. 58 (3), 2178–2189.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2023)</span>
<span class="ltx_bibblock">
Xu, B., Xu, J., Xue, N., Xia, G.-S., 2023. Hisup: Accurate polygonal mapping of buildings in satellite imagery with hierarchical supervision. ISPRS J. Photogramm. Remote Sens. 198, 284–296.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. (2018)</span>
<span class="ltx_bibblock">
Zhu, A.-X., Lu, G., Liu, J., Qin, C.-Z., Zhou, C., 2018. Spatial prediction based on third law of geography. Annals of GIS 24 (4), 225–240.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zorzi et al. (2021)</span>
<span class="ltx_bibblock">
Zorzi, S., Bittner, K., Fraundorfer, F., 2021. Machine-learned regularization and polygonization of building segmentation masks. In: Int. Conf. Pattern Recog. IEEE, pp. 3098–3105.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug 16 10:15:36 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
