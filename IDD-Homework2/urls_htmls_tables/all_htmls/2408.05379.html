<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Temporal Analysis and Repair of Flaky Dockerfiles</title>
<!--Generated on Fri Aug  9 23:08:12 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="
Large Language Models,  Few-shot Learning,  Docker,  Flakiness,  Automated Program Repair
" lang="en" name="keywords"/>
<base href="/html/2408.05379v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S1" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">I </span><span class="ltx_text ltx_font_smallcaps">Introduction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S2" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">II </span><span class="ltx_text ltx_font_smallcaps">Motivation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">III </span><span class="ltx_text ltx_font_smallcaps">Characterization of Dockerfile Flakiness</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS1" title="In III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-A</span> </span><span class="ltx_text ltx_font_italic">Data Collection</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS2" title="In III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-B</span> </span><span class="ltx_text ltx_font_italic">Flakiness Extraction</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS3" title="In III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-C</span> </span><span class="ltx_text ltx_font_italic">Flakiness Categorization</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS4" title="In III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-D</span> </span><span class="ltx_text ltx_font_italic">RQ1: Prevalence of Dockerfile Flakiness</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS5" title="In III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">III-E</span> </span><span class="ltx_text ltx_font_italic">RQ2: Taxonomy of Dockerfile Flakiness</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IV </span><span class="ltx_text ltx_font_smallcaps">FlakiDock</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS1" title="In IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-A</span> </span><span class="ltx_text ltx_font_italic">Demonstration Dataset Creation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS2" title="In IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-B</span> </span><span class="ltx_text ltx_font_italic">Dockerfile Building</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS3" title="In IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-C</span> </span><span class="ltx_text ltx_font_italic">Static and Dynamic Similarity Retrieval Phase</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS4" title="In IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-D</span> </span><span class="ltx_text ltx_font_italic">Repair Generation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS5" title="In IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">IV-E</span> </span><span class="ltx_text ltx_font_italic">Repair Validation</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">V </span><span class="ltx_text ltx_font_smallcaps">Evaluation</span></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5.SS1" title="In V Evaluation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-A</span> </span><span class="ltx_text ltx_font_italic">Implementation</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5.SS2" title="In V Evaluation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-B</span> </span><span class="ltx_text ltx_font_italic">Experimental Setup</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5.SS3" title="In V Evaluation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-C</span> </span><span class="ltx_text ltx_font_italic">Baselines</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5.SS4" title="In V Evaluation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">V-D</span> </span><span class="ltx_text ltx_font_italic">Results</span></span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S6" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VI </span><span class="ltx_text ltx_font_smallcaps">Threats To Validity</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S7" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VII </span><span class="ltx_text ltx_font_smallcaps">Related Work</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S8" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">VIII </span><span class="ltx_text ltx_font_smallcaps">Conclusion</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S9" title="In Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">IX </span><span class="ltx_text ltx_font_smallcaps">Data Availability</span></span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Temporal Analysis and Repair of Flaky Dockerfiles</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Taha Shabani
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id1.1.id1">University of British Columbia
<br class="ltx_break"/></span>Vancouver, Canada 
<br class="ltx_break"/>taha.shabani@ece.ubc.ca

</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Noor Nashid


 <span class="ltx_text" id="id2.1.id1"></span><span class="ltx_text" id="id3.2.id2"></span> <span class="ltx_ERROR undefined" id="id4.3.id3">{@IEEEauthorhalign}</span>
Parsa Alian
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id5.4.id1">University of British Columbia
<br class="ltx_break"/></span>Vancouver, Canada 
<br class="ltx_break"/>nashid@ece.ubc.ca

</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id6.5.id1">University of British Columbia
<br class="ltx_break"/></span>Vancouver, Canada 
<br class="ltx_break"/>palian@ece.ubc.ca

</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ali Mesbah
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_font_italic" id="id7.1.id1">University of British Columbia
<br class="ltx_break"/></span>Vancouver, Canada 
<br class="ltx_break"/>amesbah@ece.ubc.ca

</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id8.id1">Dockerfile flakiness, characterized by inconsistent build behavior without Dockerfile or project source code changes, poses significant challenges in Continuous Integration and Delivery (CI/CD) pipelines. This issue can lead to unreliable deployments and increased debugging efforts, yet it remains underexplored in current research. We conduct a systematic analysis of Dockerfile flakiness, presenting a comprehensive taxonomy of common flakiness categories, including dependency-related errors and server connectivity issues. Furthermore, we introduce FlakiDock, a tool leveraging large language models and retrieval-augmented generation techniques with dynamic analysis and an iterative feedback loop to automatically repair flaky Dockerfiles. Our evaluation shows that FlakiDock achieves a 73.55% repair accuracy, outperforming existing tools such as PARFUM by 12,581% and GPT-4-based prompting by 94.63%. These results underscore the effectiveness of FlakiDock in addressing Dockerfile flakiness and improving build reliability.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Large Language Models, Few-shot Learning, Docker, Flakiness, Automated Program Repair

</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span class="ltx_text ltx_font_smallcaps" id="S1.1.1">Introduction</span>
</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Docker<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.docker.com" title="">https://www.docker.com</a></span></span></span> is a set of platform-as-a-service (PaaS) products that utilize OS-level virtualization to automate the building, deployment, and delivery of applications in environments known as containers. Docker images, created based on instructions specified in a Dockerfile, act as the blueprints for these containers. These images include all necessary components to execute an application, such as the code, runtime environment, libraries, and system tools. This approach allows developers to package their applications once and deploy them across various systems, streamlining the software deployment process. Dockerfiles play a pivotal role in the Continuous Integration and Continuous Delivery (CI/CD) pipeline, making it essential to ensure their reliability during the build stage to maintain software dependability.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Given the extensive reliance of Dockerfiles on various dependencies, packages, and configurations, ensuring their reliability becomes a critical concern. Existing academic <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib8" title="">8</a>]</cite> and industrial efforts mainly focus on identifying Dockerfile smell or bug patterns. Dockerfile smells refer to an indication of potential issues or violations of best practices within a Dockerfile. Static analysis studies such as <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>]</cite> offer a linter to detect smells inside Dockerfiles. While these tools pinpoint a variety of Dockerfile smells, they rely on a set of pre-defined rules, often not well-maintained <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>]</cite>, to detect issues. A more recent tool called <span class="ltx_text ltx_font_smallcaps" id="S1.p2.1.1">Parfum</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>]</cite> takes a step further and enriches Dockerfile AST by incorporating structural information from
the command lines to automatically detect and repair smells.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Despite the extensive investigations on Dockerfile smells, a notable gap exists in the current body of research: <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">flakiness</span> in Dockerfiles has not been comprehensively explored. The term flakiness has been widely used in research and industry to refer to tests with inconsistent results, alternating between passing and failing without any changes to the underlying code or environment. A <em class="ltx_emph ltx_font_italic" id="S1.p3.1.2">flaky test</em> can be considered as a bug in the test code, prone to generating unpredictable outcomes <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib11" title="">11</a>]</cite>. While flakiness is commonly used to illustrate non-deterministic behaviors in software testing, its scope can extend beyond this context. Similar to test flakiness <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib11" title="">11</a>]</cite>, we define <em class="ltx_emph ltx_font_italic" id="S1.p3.1.3">Dockerfile flakiness</em> as the unpredictable behavior of the Dockerfile build process, where builds may succeed or fail overtime under identical Dockerfile context.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Existing Dockerfile-related studies <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>]</cite> assume the reliability of the Dockerfiles and their build output over time, so that a build failure indicates the changes applied directly to the source Dockerfile. Flakiness in Dockerfiles can cause several problems during the build and deployment of the projects such as disrupting CI/CD cycles by impeding automatic builds which causes delays or wasting time and effort of developers working on pinpointing and rectifying the cause of Dockerfile build flakiness.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In this work, we examine the consistency and reliability of Dockerfile builds over time. In a longitudinal study, which spanned over a nine-month timeframe, we analyzed the build of 8,132 Dockerfiles and observed that 798 (9.81%) exhibits flakiness. Based on the observed instances of flakiness, we developed a taxonomy for characterizing Dockerfile flakiness. Our findings indicate that the most common types of flakiness are related to dependencies, web server connectivity, and security/authentication issues. Furthermore, we found that existing techniques, such as <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.1">Parfum</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>]</cite> an automated tool for repairing Dockerfile smells, can repair less than 1% of the occurrences of flakiness. To overcome the limitations of current tools, we propose a technique called <span class="ltx_text ltx_font_smallcaps" id="S1.p5.1.2">FlakiDock</span> to automatically repair Dockerfile flakiness.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In this work, we make the following contributions:</p>
</div>
<div class="ltx_para" id="S1.p7">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We conduct the first study to characterize Dockerfile flakiness. We develop the first taxonomy of Dockerfile flakiness by building Dockefiles and analyzing build outputs of 8,132 Dockerized projects.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We create a dataset called <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i2.p1.1.1">Flake4Dock</span> including 798 and 7,325 flaky and non-flaky Dockerfiles. Flaky Dockerfiles are accompanied by categorization and build errors. We also provide repair information for 100 flaky Dockerfiles, specifically designed to evaluate flakiness detection and repair tasks.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We present a technique called <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i3.p1.1.1">FlakiDock</span> that leverages both static and dynamic information from Dockerfiles to repair flakiness.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1">We perform an empirical evaluation of <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i4.p1.1.1">FlakiDock</span>, assessing its effectiveness with large language models (LLMs) such as <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i4.p1.1.2">GPT-4</span> and analyzing the contribution of its components. Additionally, we compare <span class="ltx_text ltx_font_smallcaps" id="S1.I1.i4.p1.1.3">FlakiDock</span> with existing automated Dockerfile repair tools.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">Our results show that <span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.1">FlakiDock</span> achieves a 73.55% repair accuracy in resolving Dockerfile flakiness, significantly surpassing existing tools such as <span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.2">Parfum</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>]</cite>, which only achieves a 0.58% success rate. <span class="ltx_text ltx_font_smallcaps" id="S1.p8.1.3">FlakiDock</span> effectively addresses complex flakiness issues by employing static and dynamic information, similarity retrieval techniques, as well as an iterative feedback loop for refinement.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span class="ltx_text ltx_font_smallcaps" id="S2.1.1">Motivation</span>
</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">Docker containerization aims to deliver a consistent and portable image build process. However, in practice, the Dockerfile build process often exhibits flakiness, posing a significant challenge to achieving these goals.
This inconsistency can lead to several problems, such as unreliable deployments, increased debugging efforts, and unwanted delayed software delivery. Flakiness refers to the unpredictable nature of build failures in Dockerfiles over time, where a previously error-free Dockerfile may suddenly fail to build without any changes to the file or the project source code. This issue introduces challenges in maintaining reliable and efficient workflows. Despite the significance of this problem, there is a lack of comprehensive studies specifically addressing Dockerfile flakiness, which underscores the need for further research in this area.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">As an illustrative example, Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST1" title="Listing 1 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a> represents a flaky Dockerfile, the corresponding build failure, and a subsequent repair based on the build error. According to the build output (lines 95 to 114), using a virtual environment is required to install <span class="ltx_text ltx_font_typewriter" id="S2.p2.1.1">pip</span> for the specified <span class="ltx_text ltx_font_typewriter" id="S2.p2.1.2">alpine</span> base image in Dockerfile (line 1) due to the adaptation of <span class="ltx_text ltx_font_typewriter" id="S2.p2.1.3">Python Enhancement Proposal (PEP) 668</span> <span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://peps.python.org/pep-0668/" title="">https://peps.python.org/pep-0668/</a></span></span></span>, which addresses Externally Managed Environments. This specification prevents package managers such as <span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4">pip</span> from modifying packages in the interpreter’s default environment, ensuring compatibility and reducing the risk of breaking the underlying operating system managed by external package managers. As a result of this adaptation, this Dockerfile fails to build, whereas previous builds prior to this adaptation were all successful. Thus, the solution here is to create and activate a virtual environment, as shown in the Dockerfile context (lines 11 and 12).</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">Existing Dockerfile static and dynamic analysis approaches assume the determinism of the Dockerfile behavior. Static analysis techniques <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>]</cite> consider Dockerfile context to provide a set of smell patterns coherent with Docker best practices <span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://docs.docker.com/build/building/best-practices/" title="">https://docs.docker.com/build/building/best-practices/</a></span></span></span>. The only Dynamic analysis approach <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, primarily focuses on the Dockerfile build output as an invariant to introduce and expand the error patterns. While adhering to best practices is essential to mitigate errors and vulnerabilities in Dockerfiles and in some cases to prevent potential failures from happening, we argue that this alone is insufficient to address flakiness. For example, existing tools such as HadoLint <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>]</cite> recommend pinning the exact version of the base image (e.g., rule: DL3006) or dependencies (e.g., rules: DL3007, DL3008, DL3013, DL3016, DL3018) to prevent errors caused by their internal changes. This practice can be applied to Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST1" title="Listing 1 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a> by using old or outdated <span class="ltx_text ltx_font_typewriter" id="S2.p3.1.1">alpine</span> images as a solution. However, it does not provide a viable solution for the problem; applying such rules without considering the static and dynamic nature of Dockerfiles can introduce other types of flakiness, such as outdatedness and compatibility issues in the future.</p>
</div>
<figure class="ltx_float ltx_lstlisting" id="LSTx1">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="LSTx1.2.1">Build Output</span></figcaption>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LSTx1.3" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Li4u">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx1">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx1.1" style="font-size:70%;">...</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.p4">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p4.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,PiBbNS81XSBSVU4gcGlwMyBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQ6CmVycm9yOiBleHRlcm5hbGx5LW1hbmFnZWQtZW52aXJvbm1lbnQ=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx2">
<span class="ltx_tag ltx_tag_listingline">87</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.1" style="font-size:70%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.2" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.3" style="font-size:70%;">[5/5]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx2.5" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.7" style="font-size:70%;color:#000000;">pip3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.8" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.9" style="font-size:70%;color:#000000;">install</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.10" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.11" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.12" style="font-size:70%;color:#000000;">r</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx2.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.14" style="font-size:70%;color:#000000;">requirements</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.15" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx2.16" style="font-size:70%;color:#000000;">txt</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx2.17" style="font-size:70%;">:</span>
</div>
<div class="ltx_listingline" id="lstnumberx3">
<span class="ltx_tag ltx_tag_listingline">88</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.1" style="font-size:70%;color:#000000;">error</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.2" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx3.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.4" style="font-size:70%;color:#000000;">externally</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.5" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.6" style="font-size:70%;color:#000000;">managed</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx3.7" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx3.8" style="font-size:70%;color:#000000;">environment</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p4.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,ICAgIElmIHRoZSBwYWNrYWdlIGluIHF1ZXN0aW9uIGlzIG5vdCBwYWNrYWdlZCBhbHJlYWR5IChhbmQKICAgIGhlbmNlIGluc3RhbGxhYmxlIHZpYSAiYXBrIGFkZCBweTMtc29tZXBhY2thZ2UiKSwgcGxlYXNlCiAgICBjb25zaWRlciBpbnN0YWxsaW5nIGl0IGluc2lkZSBhIHZpcnR1YWwgZW52aXJvbm1lbnQsIGUuZy46CiAgICAuLi4=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx4">
<span class="ltx_tag ltx_tag_listingline">95</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.1" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.2" style="font-size:70%;color:#000000;">If</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.4" style="font-size:70%;color:#000000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.6" style="font-size:70%;color:#000000;">package</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.7" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.8" style="font-size:70%;color:#000000;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.10" style="font-size:70%;color:#000000;">question</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.12" style="font-size:70%;color:#000000;">is</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.14" style="font-size:70%;color:#000000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.15" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.16" style="font-size:70%;color:#000000;">packaged</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.17" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.18" style="font-size:70%;color:#000000;">already</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx4.19" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx4.20" style="font-size:70%;">(</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx4.21" style="font-size:70%;color:#000000;">and</span>
</div>
<div class="ltx_listingline" id="lstnumberx5">
<span class="ltx_tag ltx_tag_listingline">96</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.1" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.2" style="font-size:70%;color:#000000;">hence</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.4" style="font-size:70%;color:#000000;">installable</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.6" style="font-size:70%;color:#000000;">via</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.7" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx5.8" style="font-size:70%;color:#800080;">"apk<span class="ltx_text ltx_lst_space" id="lstnumberx5.8.1"> </span>add<span class="ltx_text ltx_lst_space" id="lstnumberx5.8.2"> </span>py3-somepackage"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx5.9" style="font-size:70%;">),</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx5.10" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx5.11" style="font-size:70%;color:#000000;">please</span>
</div>
<div class="ltx_listingline" id="lstnumberx6">
<span class="ltx_tag ltx_tag_listingline">97</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.1" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.2" style="font-size:70%;color:#000000;">consider</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.4" style="font-size:70%;color:#000000;">installing</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.6" style="font-size:70%;color:#000000;">it</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.7" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.8" style="font-size:70%;color:#000000;">inside</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.10" style="font-size:70%;color:#000000;">a</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.12" style="font-size:70%;color:#000000;">virtual</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.14" style="font-size:70%;color:#000000;">environment</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.15" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx6.16" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.17" style="font-size:70%;color:#000000;">e</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.18" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx6.19" style="font-size:70%;color:#000000;">g</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx6.20" style="font-size:70%;">.:</span>
</div>
<div class="ltx_listingline" id="lstnumberx7">
<span class="ltx_tag ltx_tag_listingline">98</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx7.1" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx7.2" style="font-size:70%;">...</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p4.3" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,aGludDogU2VlIFBFUCA2NjggZm9yIHRoZSBkZXRhaWxlZCBzcGVjaWZpY2F0aW9uLg==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx8">
<span class="ltx_tag ltx_tag_listingline">114</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.1" style="font-size:70%;color:#000000;">hint</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.2" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.4" style="font-size:70%;color:#000000;">See</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.6" style="font-size:70%;color:#000000;">PEP</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.7" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.8" style="font-size:70%;">668</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.10" style="font-size:70%;color:#000000;">for</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.12" style="font-size:70%;color:#000000;">the</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.14" style="font-size:70%;color:#000000;">detailed</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx8.15" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx8.16" style="font-size:70%;color:#000000;">specification</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx8.17" style="font-size:70%;">.</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p4.4" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,RVJST1I6IHByb2Nlc3MgIi9iaW4vc2ggLWMgcGlwMyBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQiIGRpZCBub3QgY29tcGxldGUgc3VjY2Vzc2Z1bGx5OiBleGl0IGNvZGU6IDE=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx9">
<span class="ltx_tag ltx_tag_listingline">115</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.1" style="font-size:70%;color:#000000;">ERROR</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.2" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.4" style="font-size:70%;color:#000000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx9.6" style="font-size:70%;color:#800080;">"/bin/sh<span class="ltx_text ltx_lst_space" id="lstnumberx9.6.1"> </span>-c<span class="ltx_text ltx_lst_space" id="lstnumberx9.6.2"> </span>pip3<span class="ltx_text ltx_lst_space" id="lstnumberx9.6.3"> </span>install<span class="ltx_text ltx_lst_space" id="lstnumberx9.6.4"> </span>-r<span class="ltx_text ltx_lst_space" id="lstnumberx9.6.5"> </span>requirements.txt"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.7" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.8" style="font-size:70%;color:#000000;">did</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.10" style="font-size:70%;color:#000000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.12" style="font-size:70%;color:#000000;">complete</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.14" style="font-size:70%;color:#000000;">successfully</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.15" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.16" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.17" style="font-size:70%;color:#000000;">exit</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx9.19" style="font-size:70%;color:#000000;">code</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.20" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx9.21" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx9.22" style="font-size:70%;">1</span>
</div>
</div>
</div>
<figure class="ltx_float ltx_lstlisting" id="LSTx2">
<figcaption class="ltx_caption ltx_font_bold" style="font-size:90%;">Repaired Dockerfile</figcaption>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LSTx2.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,RlJPTSBhbHBpbmU6bGF0ZXN0">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx10">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx10.1" style="font-size:70%;color:#0066CC;">FROM</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx10.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.3" style="font-size:70%;color:#000000;">alpine</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx10.4" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx10.5" style="font-size:70%;color:#000000;">latest</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.p5">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p5.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,UlVOIGFwayBhZGQgLS11cGRhdGUgcHl0aG9uMyBweTMtcGlwIGdpdCB0Y3BkdW1wClJVTiBnaXQgY2xvbmUgaHR0cHM6Ly9naXRodWIuY29tLzY0OS9NZW1jcmFzaGVkLUREb1MtRXhwbG9pdC5naXQgTWVtY3Jhc2hlZApXT1JLRElSIE1lbWNyYXNoZWQKLi4u">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx11">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx11.1" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.3" style="font-size:70%;color:#000000;">apk</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.5" style="font-size:70%;color:#000000;">add</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.6" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.7" style="font-size:70%;">--</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.8" style="font-size:70%;color:#000000;">update</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.10" style="font-size:70%;color:#000000;">python3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.12" style="font-size:70%;color:#000000;">py3</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx11.13" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.14" style="font-size:70%;color:#000000;">pip</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.15" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.16" style="font-size:70%;color:#000000;">git</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx11.17" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx11.18" style="font-size:70%;color:#000000;">tcpdump</span>
</div>
<div class="ltx_listingline" id="lstnumberx12">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx12.1" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.3" style="font-size:70%;color:#000000;">git</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.5" style="font-size:70%;color:#000000;">clone</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.7" style="font-size:70%;color:#000000;">https</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.8" style="font-size:70%;">://</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.9" style="font-size:70%;color:#000000;">github</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.10" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.11" style="font-size:70%;color:#000000;">com</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.12" style="font-size:70%;">/649/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.13" style="font-size:70%;color:#000000;">Memcrashed</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.14" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.15" style="font-size:70%;color:#000000;">DDoS</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.16" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.17" style="font-size:70%;color:#000000;">Exploit</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx12.18" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.19" style="font-size:70%;color:#000000;">git</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx12.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx12.21" style="font-size:70%;color:#000000;">Memcrashed</span>
</div>
<div class="ltx_listingline" id="lstnumberx13">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx13.1" style="font-size:70%;color:#0066CC;">WORKDIR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx13.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx13.3" style="font-size:70%;color:#000000;">Memcrashed</span>
</div>
<div class="ltx_listingline" id="lstnumberx14">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx14.1" style="font-size:70%;">...</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p5.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,LSBSVU4gcGlwMyBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQKKyBSVU4gcHl0aG9uMyAtbSB2ZW52IHZlbnYKKyBSVU4gLiB2ZW52L2Jpbi9hY3RpdmF0ZSAmJiBwaXAgaW5zdGFsbCAtciByZXF1aXJlbWVudHMudHh0">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx15">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx15.1" style="font-size:70%;color:#8C8C8C;">- RUN<span class="ltx_text ltx_lst_space" id="lstnumberx15.1.1"> </span>pip3<span class="ltx_text ltx_lst_space" id="lstnumberx15.1.2"> </span>install<span class="ltx_text ltx_lst_space" id="lstnumberx15.1.3"> </span>-r<span class="ltx_text ltx_lst_space" id="lstnumberx15.1.4"> </span>requirements.txt</span>
</div>
<div class="ltx_listingline" id="lstnumberx16">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.1" style="font-size:70%;color:#8C8C8C;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.2" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.3" style="font-size:70%;color:#8C8C8C;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.4" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.5" style="font-size:70%;color:#8C8C8C;">python3</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.6" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.7" style="font-size:70%;color:#8C8C8C;">-m</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.8" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.9" style="font-size:70%;color:#8C8C8C;">venv</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx16.10" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx16.11" style="font-size:70%;color:#8C8C8C;">venv</span>
</div>
<div class="ltx_listingline" id="lstnumberx17">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.1" style="font-size:70%;color:#8C8C8C;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.2" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.3" style="font-size:70%;color:#8C8C8C;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.4" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.5" style="font-size:70%;color:#8C8C8C;">.</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.6" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.7" style="font-size:70%;color:#8C8C8C;">venv/bin/activate</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.8" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.9" style="font-size:70%;color:#8C8C8C;">&amp;&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.10" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.11" style="font-size:70%;color:#8C8C8C;">pip</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.12" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.13" style="font-size:70%;color:#8C8C8C;">install</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.14" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.15" style="font-size:70%;color:#8C8C8C;">-r</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx17.16" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx17.17" style="font-size:70%;color:#8C8C8C;">requirements.txt</span>
</div>
</div>
</div>
<figure class="ltx_float ltx_lstlisting" id="LST1">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LST1.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,RU5UUllQT0lOVCBbInB5dGhvbjMiLCAiTWVtY3Jhc2hlZC5weSJd">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx18">
<span class="ltx_tag ltx_tag_listingline">13</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx18.1" style="font-size:70%;color:#0066CC;">ENTRYPOINT</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.2" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.3" style="font-size:70%;">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx18.4" style="font-size:70%;color:#800080;">"python3"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.5" style="font-size:70%;">,</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx18.6" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx18.7" style="font-size:70%;color:#800080;">"Memcrashed.py"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx18.8" style="font-size:70%;">]</span>
</div>
</div>
<figcaption class="ltx_caption" style="background-color:#FAFAFA;"><span class="ltx_tag ltx_tag_float">Listing 1: </span>Base Image Internal Change</figcaption>
</figure>
<div class="ltx_para" id="S2.p6">
<p class="ltx_p" id="S2.p6.1">Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST2" title="Listing 2 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">2</span></a> demonstrates another flaky Dockerfile that clings to the version pinning rule for the base image. As depicted in the Dockerfile (line 1), although the base image version is explicitly mentioned, inconsistent behavior is plausible due to using a relatively old base image. This flakiness is evident inside the build output (line 132), where the expression <span class="ltx_text ltx_font_typewriter" id="S2.p6.1.1">pre_go17</span> is located. The error stems from the compatibility issue of a stale <span class="ltx_text ltx_font_typewriter" id="S2.p6.1.2">GOLANG</span> base image, i.e., older than 1.17, with existing dependencies utilized in the Dockerfile (line 8), failing the compilation and build of the project. Accordingly, a base image version upgrade is required (line 2). Furthermore, updated <span class="ltx_text ltx_font_typewriter" id="S2.p6.1.3">GOLANG</span> images require a different approach for handling executables (lines 3 and 4) due to the adoption of new techniques.</p>
</div>
<figure class="ltx_float ltx_lstlisting" id="LSTx3">
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_text ltx_font_bold" id="LSTx3.2.1">Build Output</span></figcaption>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LSTx3.3" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Li4u">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx19">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx19.1" style="font-size:70%;">...</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.p7">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p7.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,PiBbYnVpbGQtZW52IDQvNF0gUlVOIGNkIC9zcmMgJiYgZ28gYnVpbGQgLWxkZmxhZ3MgIi1saW5rbW9kZSBleHRlcm5hbCAtZXh0bGRmbGFncyAtc3RhdGljIiAtbyBwcm94eTo=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx20">
<span class="ltx_tag ltx_tag_listingline">130</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.1" style="font-size:70%;">&gt;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.2" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.3" style="font-size:70%;">[</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.4" style="font-size:70%;color:#000000;">build</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.5" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.6" style="font-size:70%;color:#000000;">env</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.7" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.8" style="font-size:70%;">4/4]</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx20.10" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.12" style="font-size:70%;color:#000000;">cd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.13" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.14" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.15" style="font-size:70%;color:#000000;">src</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.16" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.17" style="font-size:70%;">&amp;&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.19" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.21" style="font-size:70%;color:#000000;">build</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.22" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.23" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.24" style="font-size:70%;color:#000000;">ldflags</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.25" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx20.26" style="font-size:70%;color:#800080;">"-linkmode<span class="ltx_text ltx_lst_space" id="lstnumberx20.26.1"> </span>external<span class="ltx_text ltx_lst_space" id="lstnumberx20.26.2"> </span>-extldflags<span class="ltx_text ltx_lst_space" id="lstnumberx20.26.3"> </span>-static"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.27" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.28" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.29" style="font-size:70%;color:#000000;">o</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx20.30" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx20.31" style="font-size:70%;color:#000000;">proxy</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx20.32" style="font-size:70%;">:</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p7.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,L2dvL3NyYy9nb2xhbmcub3JnL3gvbmV0L2NvbnRleHQvcHJlX2dvMTcuZ286NDc6MjogYmFja2dyb3VuZCByZWRlY2xhcmVkIGluIHRoaXMgYmxvY2sKLi4u">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx21">
<span class="ltx_tag ltx_tag_listingline">132</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.1" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.2" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.3" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.4" style="font-size:70%;color:#000000;">src</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.5" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.6" style="font-size:70%;color:#000000;">golang</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.7" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.8" style="font-size:70%;color:#000000;">org</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.9" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.10" style="font-size:70%;color:#000000;">x</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.11" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.12" style="font-size:70%;color:#000000;">net</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.13" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.14" style="font-size:70%;color:#000000;">context</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.15" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.16" style="font-size:70%;color:#000000;">pre_go17</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.17" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.18" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx21.19" style="font-size:70%;">:47:2:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.20" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.21" style="font-size:70%;color:#000000;">background</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.22" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.23" style="font-size:70%;color:#000000;">redeclared</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.24" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.25" style="font-size:70%;color:#000000;">in</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.26" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.27" style="font-size:70%;color:#000000;">this</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx21.28" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx21.29" style="font-size:70%;color:#000000;">block</span>
</div>
<div class="ltx_listingline" id="lstnumberx22">
<span class="ltx_tag ltx_tag_listingline">133</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx22.1" style="font-size:70%;">...</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p7.3" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,RVJST1I6IHByb2Nlc3MgIi9iaW4vc2ggLWMgY2QgL3NyYyAmJiBnbyBidWlsZCAtbGRmbGFncyBcIi1saW5rbW9kZSBleHRlcm5hbCAtZXh0bGRmbGFncyAtc3RhdGljXCIgLW8gcHJveHkiIGRpZCBub3QgY29tcGxldGUgc3VjY2Vzc2Z1bGx5OiBleGl0IGNvZGU6IDI=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx23">
<span class="ltx_tag ltx_tag_listingline">153</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.1" style="font-size:70%;color:#000000;">ERROR</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.2" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.3" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.4" style="font-size:70%;color:#000000;">process</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.5" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx23.6" style="font-size:70%;color:#800080;">"/bin/sh<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.1"> </span>-c<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.2"> </span>cd<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.3"> </span>/src<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.4"> </span>&amp;&amp;<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.5"> </span>go<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.6"> </span>build<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.7"> </span>-ldflags<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.8"> </span>\"-linkmode<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.9"> </span>external<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.10"> </span>-extldflags<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.11"> </span>-static\"<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.12"> </span>-o<span class="ltx_text ltx_lst_space" id="lstnumberx23.6.13"> </span>proxy"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.7" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.8" style="font-size:70%;color:#000000;">did</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.10" style="font-size:70%;color:#000000;">not</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.12" style="font-size:70%;color:#000000;">complete</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.13" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.14" style="font-size:70%;color:#000000;">successfully</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.15" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.16" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.17" style="font-size:70%;color:#000000;">exit</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.18" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx23.19" style="font-size:70%;color:#000000;">code</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.20" style="font-size:70%;">:</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx23.21" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx23.22" style="font-size:70%;">2</span>
</div>
</div>
</div>
<figure class="ltx_float ltx_lstlisting" id="LSTx4">
<figcaption class="ltx_caption ltx_font_bold" style="font-size:90%;">Repaired Dockerfile</figcaption>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LSTx4.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,LSBGUk9NIGdvbGFuZzoxLjkuMSBBUyBidWlsZC1lbnYKKyBGUk9NIGdvbGFuZzoxLjIyIEFTIGJ1aWxkLWVudgorIFdPUktESVIgL3NyYworIFJVTiBnbyBtb2QgaW5pdCBteV9tb2R1bGU=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx24">
<span class="ltx_tag ltx_tag_listingline">1</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx24.1" style="font-size:70%;color:#8C8C8C;">- FROM<span class="ltx_text ltx_lst_space" id="lstnumberx24.1.1"> </span>golang:1.9.1<span class="ltx_text ltx_lst_space" id="lstnumberx24.1.2"> </span>AS<span class="ltx_text ltx_lst_space" id="lstnumberx24.1.3"> </span>build-env</span>
</div>
<div class="ltx_listingline" id="lstnumberx25">
<span class="ltx_tag ltx_tag_listingline">2</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.1" style="font-size:70%;color:#8C8C8C;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.2" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.3" style="font-size:70%;color:#8C8C8C;">FROM</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.4" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.5" style="font-size:70%;color:#8C8C8C;">golang:1.22</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.6" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.7" style="font-size:70%;color:#8C8C8C;">AS</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx25.8" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx25.9" style="font-size:70%;color:#8C8C8C;">build-env</span>
</div>
<div class="ltx_listingline" id="lstnumberx26">
<span class="ltx_tag ltx_tag_listingline">3</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.1" style="font-size:70%;color:#8C8C8C;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.2" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.3" style="font-size:70%;color:#8C8C8C;">WORKDIR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx26.4" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx26.5" style="font-size:70%;color:#8C8C8C;">/src</span>
</div>
<div class="ltx_listingline" id="lstnumberx27">
<span class="ltx_tag ltx_tag_listingline">4</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.1" style="font-size:70%;color:#8C8C8C;">+</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.2" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.3" style="font-size:70%;color:#8C8C8C;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.4" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.5" style="font-size:70%;color:#8C8C8C;">go</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.6" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.7" style="font-size:70%;color:#8C8C8C;">mod</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.8" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.9" style="font-size:70%;color:#8C8C8C;">init</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx27.10" style="font-size:70%;color:#8C8C8C;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx27.11" style="font-size:70%;color:#8C8C8C;">my_module</span>
</div>
</div>
</figure>
<div class="ltx_para" id="S2.p8">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p8.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,UlVOIGdvIGdldCAtZCAtdiBnaXRodWIuY29tL2FybW9uL2dvLXNvY2tzNQouLi4=">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx28">
<span class="ltx_tag ltx_tag_listingline">5</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx28.1" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.3" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.4" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.5" style="font-size:70%;color:#000000;">get</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.6" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.7" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.8" style="font-size:70%;color:#000000;">d</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.9" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.10" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.11" style="font-size:70%;color:#000000;">v</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx28.12" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.13" style="font-size:70%;color:#000000;">github</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.14" style="font-size:70%;">.</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.15" style="font-size:70%;color:#000000;">com</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.16" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.17" style="font-size:70%;color:#000000;">armon</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.18" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.19" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx28.20" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx28.21" style="font-size:70%;color:#000000;">socks5</span>
</div>
<div class="ltx_listingline" id="lstnumberx29">
<span class="ltx_tag ltx_tag_listingline">6</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx29.1" style="font-size:70%;">...</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p8.2" style="background-color:#FEFBC2;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,UlVOIGNkIC9zcmMgJiYgZ28gYnVpbGQgLWxkZmxhZ3MgIi1saW5rbW9kZSBleHRlcm5hbCAtZXh0bGRmbGFncyAtc3RhdGljIiAtbyBwcm94eQ==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx30">
<span class="ltx_tag ltx_tag_listingline">8</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx30.1" style="font-size:70%;color:#0066CC;">RUN</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.3" style="font-size:70%;color:#000000;">cd</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.5" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.6" style="font-size:70%;color:#000000;">src</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.7" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.8" style="font-size:70%;">&amp;&amp;</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.9" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.10" style="font-size:70%;color:#000000;">go</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.11" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.12" style="font-size:70%;color:#000000;">build</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.13" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.14" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.15" style="font-size:70%;color:#000000;">ldflags</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.16" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx30.17" style="font-size:70%;color:#800080;">"-linkmode<span class="ltx_text ltx_lst_space" id="lstnumberx30.17.1"> </span>external<span class="ltx_text ltx_lst_space" id="lstnumberx30.17.2"> </span>-extldflags<span class="ltx_text ltx_lst_space" id="lstnumberx30.17.3"> </span>-static"</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.18" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx30.19" style="font-size:70%;">-</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.20" style="font-size:70%;color:#000000;">o</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx30.21" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx30.22" style="font-size:70%;color:#000000;">proxy</span>
</div>
</div>
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="S2.p8.3" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,IyBmaW5hbCBzdGFnZQpGUk9NIHNjcmF0Y2gKV09SS0RJUiAvYXBwCi4uLg==">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx31">
<span class="ltx_tag ltx_tag_listingline">9</span><span class="ltx_text ltx_lst_comment ltx_font_typewriter" id="lstnumberx31.1" style="font-size:70%;color:#8C8C8C;">#<span class="ltx_text ltx_lst_space" id="lstnumberx31.1.1"> </span>final<span class="ltx_text ltx_lst_space" id="lstnumberx31.1.2"> </span>stage</span>
</div>
<div class="ltx_listingline" id="lstnumberx32">
<span class="ltx_tag ltx_tag_listingline">10</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx32.1" style="font-size:70%;color:#0066CC;">FROM</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx32.2" style="font-size:70%;"> </span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx32.3" style="font-size:70%;color:#000000;">scratch</span>
</div>
<div class="ltx_listingline" id="lstnumberx33">
<span class="ltx_tag ltx_tag_listingline">11</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx33.1" style="font-size:70%;color:#0066CC;">WORKDIR</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx33.2" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx33.3" style="font-size:70%;">/</span><span class="ltx_text ltx_lst_identifier ltx_font_typewriter" id="lstnumberx33.4" style="font-size:70%;color:#000000;">app</span>
</div>
<div class="ltx_listingline" id="lstnumberx34">
<span class="ltx_tag ltx_tag_listingline">12</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx34.1" style="font-size:70%;">...</span>
</div>
</div>
</div>
<figure class="ltx_float ltx_lstlisting" id="LST2">
<div class="ltx_listing ltx_lst_language_Dockerfile ltx_lst_numbers_left ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" id="LST2.1" style="background-color:#FAFAFA;border-color: #FAFAFA;">
<div class="ltx_listing_data"><a download="" href="data:text/plain;base64,Q01EIFsiLi9wcm94eSJd">⬇</a></div>
<div class="ltx_listingline" id="lstnumberx35">
<span class="ltx_tag ltx_tag_listingline">15</span><span class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" id="lstnumberx35.1" style="font-size:70%;color:#0066CC;">CMD</span><span class="ltx_text ltx_lst_space ltx_font_typewriter" id="lstnumberx35.2" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.3" style="font-size:70%;">[</span><span class="ltx_text ltx_lst_string ltx_font_typewriter" id="lstnumberx35.4" style="font-size:70%;color:#800080;">"./proxy"</span><span class="ltx_text ltx_font_typewriter" id="lstnumberx35.5" style="font-size:70%;">]</span>
</div>
</div>
<figcaption class="ltx_caption" style="background-color:#FAFAFA;"><span class="ltx_tag ltx_tag_float">Listing 2: </span>Compatibility Issues With Stale Base Image</figcaption>
</figure>
<div class="ltx_para" id="S2.p9">
<p class="ltx_p" id="S2.p9.1">Dockerfiles rely on various elements such as operating systems, packages, environments, commands, and project source code, which can result in different forms of flakiness. Examples in Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST1" title="Listing 1 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a> and Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST2" title="Listing 2 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">2</span></a> illustrate that understanding and resolving such flaky behavior requires analyzing both the static context (Dockerfile) and dynamic context (build output) along with its temporal changes. Currently, no existing study examines flakiness in Docker builds.
To characterize the extent and causes of Docker build flakiness, we first conduct a longitudinal study of 18,055 Dockerized repositories over a period of nine months (<a class="ltx_ref ltx_refmacro_autoref" href="https://arxiv.org/html/2408.05379v1#S3" title="III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">section III</span></a>). Second, we propose <span class="ltx_text ltx_font_smallcaps" id="S2.p9.1.1">FlakiDock</span> an automated approach for repairing Dockerfile flakiness utilizing both static and dynamic information (<a class="ltx_ref ltx_refmacro_autoref" href="https://arxiv.org/html/2408.05379v1#S4" title="IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">section IV</span></a>).</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">Characterization of Dockerfile Flakiness</span>
</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we delve into our empirical investigation of Dockerfile flakiness. We begin by detailing our data collection method and the setup for analyzing Dockerized projects for flaky behavior. Subsequently, we address two important research questions:</p>
</div>
<div class="ltx_para" id="S3.p2">
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1">RQ1</span>: How prevalent is flakiness in Dockerfiles?</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1">RQ2</span>: What are the categories of Dockerfile flakiness?</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.1">The entire analysis, including project checkouts and Dockerfile builds, is performed on an infrastructure consisting of 4 Intel(R) Xeon(R) CPU 2.50GHz machines with 62 GB RAM each.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS1.5.1.1">III-A</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS1.6.2">Data Collection</span>
</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">For our study, we started with the <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p1.1.1">Shipwright</span> dataset <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, which contains 20,526 Docker projects with ten or more stars from GitHub repositories. The dataset includes Docker projects created up to June 2020 and focuses exclusively on projects with a single Dockerfile located in the root directory. This approach aims to facilitate analysis and mitigate challenges associated with multiple Dockerfiles within a repository.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1">Initially, we attempted to clone the most up-to-date version of all the repositories from the <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p2.1.1">Shipwright</span> dataset. However, some repositories were no longer publicly accessible, had been removed from GitHub, or no longer contained the root Dockerfiles. Consequently, our final dataset comprised 18,055 repositories that met the criteria and were available for analysis.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.1">In our study, we analyze Dockerfiles along with their build outputs, which we generate by building the Dockerfiles within our infrastructure systems. Given that some Docker projects can be time-consuming to build, we set a 30-minute build timeout for each repository. This resulted in 93% of builds completing without a timeout. To ensure the reliability and efficiency of our large-scale Docker build system, we use the <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p3.1.1">docker build</span> command with the <span class="ltx_text ltx_font_typewriter" id="S3.SS1.p3.1.2">--no-cache</span> option to eliminate failures stemming from cached Docker data. Additionally, we develop a systematic Docker cleaning technique to prevent environmental and internal errors, ensuring a fresh Docker environment. To enhance time efficiency and prevent internal errors, we clean the Docker system after every four consecutive builds—a frequency determined through trial and error. The cleaning process involves removing all the cache, images, and any other peripheral leftover data during the builds alongside uninstalling and reinstalling Docker with a steady version to prevent working with a corrupted Docker system. This pipeline ensures the freshness of the Docker system throughout the builds. Using this approach, we stored 32 rounds of builds for the initial Docker projects, capturing Dockerfile build outputs in our infrastructure machines from April 2023 to December 2023.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS2.5.1.1">III-B</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS2.6.2">Flakiness Extraction</span>
</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">The detection of flakiness within test suites has been extensively explored in the prior work <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib13" title="">13</a>]</cite>. These efforts revolve around static and dynamic test code analysis, pattern recognition, rerunning tests multiple times, and checking code changes through times in repositories. Considering the complexity and variety of Dockerfile commands, external dependencies, and configurations, directly checking the Dockerfile context for flakiness detection would require an extensive endeavor. Furthermore, due to the dynamic nature of Dockerfiles, characterizing flakiness utilizing only the static analysis approaches would fail to address all aspects.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Filtering Phase.</span> To uncover flakiness, we initiated an <em class="ltx_emph ltx_font_italic" id="S3.SS2.p2.1.2">in-context</em> Docker build for all the Dockerized GitHub projects in our dataset, of which (8,132 (45.04%)) were built successfully, and (9,923 (54.96%)) failed during the build procedure. We consider only the successful ones as valid candidates for our flakiness analysis due to their initial stability. Over nine months, we rebuilt the candidate projects 32 times (3.5 times per month on average). The reason for conducting builds over an extended timeframe was two-fold. First, building Dockerfiles is a time-consuming operation. The average time to build a single Dockerfile in our dataset is around eight minutes. Despite distributing our candidates across four different machines with similar operating systems and configurations and employing multiprocessing on each machine to enhance build speed, some degree of delay was unavoidable. Second, we expected that such an extended timespan could allow us to observe and investigate more fluctuations in project stability thoroughly.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p3.1.1">Pre-Processsing Phase.</span>
The length of a Dockerfile build output varies based on the execution commands used, ranging from a few lines to tens of thousands, detailing the progress of each execution step. Therefore, diagnosing and extracting the important failure parts for further studies is essential. While extracting standard error logs can aid in understanding the root causes of issues, our extensive analysis revealed its inadequacy in capturing valuable insights in cases in which the error context is too long or the point of failure is far from the manifestation of error. To address such challenges, we implemented a rule-based pre-processing approach to extract error-related context from raw build outputs. In our method, we divide the build output into stages, each corresponding to an execution line in the Dockerfile. We examine each stage, capturing lines with error-related expressions alongside their adjacent lines with the same execution time to gather additional information about the captured errors.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS3.5.1.1">III-C</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS3.6.2">Flakiness Categorization</span>
</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">Providing a taxonomy of Dockerfile flakiness serves as a vital step toward unraveling inconsistencies and complexities that come with flak Dockerfiles, thereby aiding in the identification and mitigation of the challenges developers face in practice. To achieve this, first, we use similarity-checking to remove duplicates or identical errors within each Dockerfile’s build outputs. Afterward, we perform an extensive study on pre-processed build outputs, leveraging LLMs to interpret and summarize the results. Furthermore, we utilize manual analysis to correct issues stemming from LLM misunderstandings.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS3.p2.1.1">Clustering Phase.</span> During the rebuild period, we encountered 12,964 failing build outputs while building the candidate projects. To streamline our analysis and minimize redundancy within Dockerfile build outputs, we conduct a clustering process using sentence similarity assessment within each project. To identify unique build errors in a single project, we measure the cosine similarity between the build output embeddings, extracted from the sentence transformer: <span class="ltx_text ltx_font_typewriter" id="S3.SS3.p2.1.2">all-mpnet-base-v2</span> <span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://huggingface.co/sentence-transformers/all-mpnet-base-v2" title="">https://huggingface.co/sentence-transformers/all-mpnet-base-v2</a></span></span></span> which is trained over 1 billion sentences in different domains. Using the similarity scores, we cluster them into distinct groups. In our clustering approach, each new build output is evaluated for its similarity to existing clusters. Based on the average similarity with all current clusters, we decide whether to incorporate it into an existing cluster or create a new one. We apply this clustering method within individual projects rather than across all projects due to the intricate nature of Dockerfiles and their build outputs, which complicates the accurate clustering of errors when applied globally. To enhance accuracy, we use pre-processed build outputs for similarity comparison rather than raw outputs. This method resulted in an 87% reduction in failing build outputs, leaving 1,684 remaining, which in turn simplifies subsequent analysis steps.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S3.SS3.p3.1.1">Labeling Phase.</span> We employed <span class="ltx_text ltx_font_smallcaps" id="S3.SS3.p3.1.2">GPT-3.5</span> to extract error descriptions encountered during builds. Given the Dockerfile context alongside the corresponding build error, the model is prompted to extract a list of contributing factors to the error and an initial label indicating the category of error. We then used these build errors, alongside the information generated by the language model, to construct a taxonomy of Dockerfile build flakiness. Our objective was to create a comprehensive hierarchical classification that captures the diverse and dynamic behavior of Dockerfiles. To achieve this, a brainstorming session among authors was conducted to design a pipeline for analyzing context and refining the labels suggested by the language model. Two authors reviewed and resolved discrepancies in the labels generated by the model, based on the Dockerfiles and build errors. Any differences in interpretation were discussed among the authors to reach a consensus. This systematic analysis resulted in the generation of category hierarchies, requiring approximately 220 person-hours of effort.</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="311" id="S3.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S3.F1.3.2" style="font-size:90%;">Dockerfile Flakiness Taxonomy</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS4.5.1.1">III-D</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS4.6.2">RQ1: Prevalence of Dockerfile Flakiness</span>
</h3>
<div class="ltx_para" id="S3.SS4.p1">
<p class="ltx_p" id="S3.SS4.p1.1">While categorizing, we selectively omitted failures stemming from our infrastructure, Docker servers, and project source code issues to hone in on genuine instances of Dockerfile flakiness. Infrastructure failures accounted for 38 of the 1,684 builds, highlighting the effectiveness of our systematic Docker cleaning method in ensuring reliability. Issues stemming from Docker servers and project-specific errors accounted for 431 and 241 failures, respectively, and were also excluded from the flaky build outputs.</p>
</div>
<div class="ltx_para" id="S3.SS4.p2">
<p class="ltx_p" id="S3.SS4.p2.1">After filtering out these non-flaky failures, we were left with 974 build outputs originating from <span class="ltx_text ltx_font_bold" id="S3.SS4.p2.1.1">798 (9.81%)</span> Dockerfiles out of 8,132 candidate projects, as some Dockerfiles exhibited multiple distinct flaky behaviors throughout our longitudinal analysis. This number would likely be even higher in real-world scenarios, as our candidate Dockerfiles were sourced from high-quality projects.</p>
</div>
<div class="ltx_para" id="S3.SS4.p3">
<p class="ltx_p" id="S3.SS4.p3.1">This percentage is significant when compared to the prevalence of flaky tests in practice. According to an empirical analysis on Flaky tests <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib11" title="">11</a>]</cite>, 4.56% of all test failures across test executions at Google’s continuous integration (CI) system, named TAP, were reported to be due to flaky tests during a 15-month window. Another study by Microsoft <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib14" title="">14</a>]</cite> reported that 4.6% of individual test cases monitored over a month were flaky. Our finding of 9.81% flaky Dockerfiles aligns with the prevalence of flaky tests in other large-scale systems, highlighting the importance of investigating and developing tools to address Dockerfile flakiness.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S3.SS5.5.1.1">III-E</span> </span><span class="ltx_text ltx_font_italic" id="S3.SS5.6.2">RQ2: Taxonomy of Dockerfile Flakiness</span>
</h3>
<div class="ltx_para" id="S3.SS5.p1">
<p class="ltx_p" id="S3.SS5.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.F1" title="Figure 1 ‣ III-C Flakiness Categorization ‣ III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a> illustrates our hierarchically structured taxonomy of Dockerfile flakiness. The left side shows the main categories of flakiness, while the right side lists the associated subcategories. The numbers within each box indicate the frequency of occurrences. The rest of this section provides an overview of the primary categories of flakiness identified in our taxonomy. Detailed information, including examples for each category and sub-category, can be found in our replication package <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib15" title="">15</a>]</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p2">
<p class="ltx_p" id="S3.SS5.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p2.1.1">Dependency-Related Errors (DEP).</span> This is the most prevalent category, accounting for 61.29% of all errors. It encompasses 11 subcategories of errors that occur during the retrieval, installation, or post-installation operations of dependencies specified in Dockerfiles. These three steps of errors are shown in the first, second, and third rows of dependency-related error subcategories in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.F1" title="Figure 1 ‣ III-C Flakiness Categorization ‣ III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a>. We define a <span class="ltx_text ltx_font_italic" id="S3.SS5.p2.1.2">dependency</span> as a Base image or any external software package or library explicitly mentioned in the Dockerfile.</p>
</div>
<div class="ltx_para" id="S3.SS5.p3">
<p class="ltx_p" id="S3.SS5.p3.1"><span class="ltx_text ltx_font_italic" id="S3.SS5.p3.1.1">Availability and Retrieval Errors:</span> These errors happen when previously available dependencies are not found or cannot be accessed (e.g. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p3.1.2">Retrieval/Import Issues</span>), or decompressed due to <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p3.1.3">Extraction &amp; Invalid Format Issues</span>. As an example of <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p3.1.4">Base Image Availability Issues</span>, one of the Docker projects we studied, <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p3.1.5">Mistserver<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note"><span class="ltx_text ltx_font_serif" id="footnote5.1.1.1">5</span></span><a class="ltx_ref ltx_url" href="https://github.com/R0GGER/mistserver/blob/0fe477e4fb35755ad0852d46c91ed42e5b18e990/Dockerfile" title="">https://github.com/R0GGER/mistserver/blob/0fe477e4fb35755ad0852d46c91ed42e5b18e990/Dockerfile</a></span></span></span></span>, uses <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p3.1.6">FROM phusion/baseimage:master</span>, leading to a failure because this specific version of the image is currently unavailable.</p>
</div>
<div class="ltx_para" id="S3.SS5.p4">
<p class="ltx_p" id="S3.SS5.p4.1"><span class="ltx_text ltx_font_italic" id="S3.SS5.p4.1.1">Installation Errors:</span> During the installation phase, flaky errors can occur due to different reasons including <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p4.1.2">Versioning Issues</span> or <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p4.1.3">Compatibility Issues</span>, where specific dependencies with altered versions or configurations may conflict or be incompatible with one another, causing the build process to fail. These errors can also involve <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p4.1.4">Hash Mismatch Issues</span> and <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p4.1.5">Modification/Update Issues</span>, where changes in dependencies lead to inconsistencies. For instance, consider a scenario where package <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p4.1.6">p1</span> requires package <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p4.1.7">p2</span> with a version greater than or equal to <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p4.1.8">v2</span> to be installed properly, but the existing <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p4.1.9">p2</span> version is older than <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p4.1.10">v2</span>.</p>
</div>
<div class="ltx_para" id="S3.SS5.p5">
<p class="ltx_p" id="S3.SS5.p5.1"><span class="ltx_text ltx_font_italic" id="S3.SS5.p5.1.1">Post-Installation Errors:</span> After installation, flakiness can arise from the dependencies themselves, such as <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p5.1.2">Vulnerability Issues</span>, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p5.1.3">Compilation/Syntax Issues</span>, or <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p5.1.4">Runtime Issues</span>. Additionally, improper installations can lead to <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p5.1.5">Undefined Command Issues</span> in the Dockerfile, resulting in build failures. As an example, we have observed flakiness in a Dockerfile using <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p5.1.6">Symphony</span>—a PHP framework—which is known to have vulnerability issues within its CodeExtension filters <span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/symfony/symfony/security/advisories/GHSA-q847-2q57-wmr3" title="">https://github.com/symfony/symfony/security/advisories/GHSA-q847-2q57-wmr3</a></span></span></span>, and using those filters may cause flakiness.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p6">
<p class="ltx_p" id="S3.SS5.p6.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p6.1.1">Server Connectivity Errors (CON).</span>
This category is the second most prevalent among all the categories comprising 20.12% of the errors. These errors occur when there are issues while connecting to previously stable external servers. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p6.1.2">Server Access Issues</span> arise when the Dockerfile cannot reach the target server due to invalid URLs or server downtimes. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p6.1.3">Timeout Issues</span> occur when connections to servers take too long to establish or complete, often caused by overloaded servers or the massive size of transferred data. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p6.1.4">Internal Web Server Issues</span> refer to errors within the accessed server, typically denoted with <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p6.1.5">HTTP</span> status codes <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p6.1.6">500s</span>. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p6.1.7">DNS Configuration Issues</span> occur when the Dockerfile cannot resolve the server’s domain name, leading to failed connections.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p7">
<p class="ltx_p" id="S3.SS5.p7.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p7.1.1">Security and Authentication Errors (SEC).</span>
This category contains errors related to changes or deprecation of previous security protocols and authentication processes, making up 5.24% of the total errors. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p7.1.2">Access Control Issues</span> arise when the Dockerfile does not have the necessary permissions to access required internal resources caused by the base image’s internal changes. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p7.1.3">Authentication/Authorization Issues</span> manifest when there are problems verifying the identity of the user or service, which can result from incorrect or expired credentials or misconfigured authentication/authorization services. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p7.1.4">SSL/TLS Issues</span> encompass a range of problems related to the secure transmission of data, including protocol mismatches and outdated cryptographic algorithms. <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p7.1.5">GPG Key Issues</span> arise when there are problems with the cryptographic keys used to verify the integrity and authenticity of downloaded items, which can prevent the successful retrieval and installation of necessary dependencies. Lastly, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p7.1.6">Licence Issues</span> occur when the Dockerfile attempts to use software with new licensing restrictions.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p8">
<p class="ltx_p" id="S3.SS5.p8.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p8.1.1">Package Manager-Related Errors (PMG).</span>
Package manager-related errors constitute 5% of the flakiness instances and refer to the changes applied to the package manager configuration during the build process. The most common subcategory of this class is <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p8.1.2">Internal/Cache Issues</span> with 4.2% of total flakiness. These errors arise from inconsistency or unreliability in the package manager’s internal system during its installation or utilization, resulting in failed operations. As an example, the command: <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p8.1.3">RUN npm install --registry=r</span> where <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p8.1.4">r</span> is no longer a reliable registry for <span class="ltx_text ltx_font_typewriter" id="S3.SS5.p8.1.5">npm</span> would cause an internal issue within the package manager. Another subcategory is <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p8.1.6">permission-denied issues</span>, which occur when the Dockerfile does not have the necessary permissions to interact with the package manager to install or update packages. This sort of error can happen due to permission changes within the base images or other infrastructures within the Dockerfile. Lastly, <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p8.1.7">Undefined package Manager Issues</span> encompass errors caused by improper installation of package managers, resulting in a corrupted package manager within the system.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p9">
<p class="ltx_p" id="S3.SS5.p9.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p9.1.1">Environment Errors (ENV).</span>
<span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p9.1.2">Environment Management Issues</span> and <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p9.1.3">Environment Configuration Issues</span> fall into this category, representing 3.7% of the errors corresponding to interactions with virtual environments. These environment errors often arise from changes made to the base images or other underlying infrastructures specified in the Dockerfile. Such changes enforce developers to strictly adhere to the new rules to minimize vulnerabilities and enhance the system’s robustness. A detailed example of this type of error is illustrated in Listing <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#LST2" title="Listing 2 ‣ II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">2</span></a> where an externally managed environment is required to alleviate the risk of disrupting the OS package management system.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p10">
<p class="ltx_p" id="S3.SS5.p10.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p10.1.1">Filesystem-Related Errors (FS).</span>
This category, representing the smallest portion of our study on Dockerfile flakiness, accounts for less than 1% of the total failures. These errors include challenges in handling file system operations within Dockerfiles such as <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p10.1.2">COPY</span> and <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p10.1.3">ADD</span> command errors, and <span class="ltx_text ltx_font_smallcaps" id="S3.SS5.p10.1.4">I/O</span> issues generally stemming from the base image internal file system updates.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS5.p11">
<p class="ltx_p" id="S3.SS5.p11.1"><span class="ltx_text ltx_font_bold" id="S3.SS5.p11.1.1">Miscellaneous.</span> During our analysis of Flaky Dockerfiles and their build outputs, we categorized 3.9% of the instances of flakiness as Miscellaneous. This group includes builds with highly complex errors or those executed in silent mode without informative execution logs, making it challenging to pinpoint the issues and classify them.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span class="ltx_text ltx_font_smallcaps" id="S4.1.1">FlakiDock</span>
</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">As demonstrated in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3" title="III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">III</span></a>, Dockerfile flakiness presents various complex symptoms in the build output. Leveraging the ability of LLMs to solve programming tasks across different domains <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib17" title="">17</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib18" title="">18</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib20" title="">20</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib21" title="">21</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib22" title="">22</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib23" title="">23</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib26" title="">26</a>]</cite>, and the effectiveness of retrieval-augmented generation (RAG) techniques <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib28" title="">28</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib29" title="">29</a>]</cite>, we propose <span class="ltx_text ltx_font_smallcaps" id="S4.p1.1.1">FlakiDock</span>, an automated approach using LLMs to repair Dockerfile flakiness. Our insight is that by providing LLMs with demonstrations containing <em class="ltx_emph ltx_font_italic" id="S4.p1.1.2">static</em> (Dockerfile) and <em class="ltx_emph ltx_font_italic" id="S4.p1.1.3">dynamic</em> (build outputs) information, along with repair patches from similar examples, the model can resolve flakiness in new Dockerfiles. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.F2" title="Figure 2 ‣ IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">2</span></a> provides an overview of our approach.</p>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="366" id="S4.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.3.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S4.F2.4.2" style="font-size:90%;">An Overview of our proposed approach: <span class="ltx_text ltx_font_smallcaps" id="S4.F2.4.2.1">FlakiDock</span> </span></figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS1.5.1.1">IV-A</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS1.6.2">Demonstration Dataset Creation</span>
</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">We first need to create a demonstration dataset for our approach. To this end, we randomly sample 100 Dockerfiles from our dataset of 798 flaky Dockerfiles and manually provide repairs for them. To provide a robust demonstration of error categories in our repair dataset, we maintain a minimum of 30% coverage for categories that exhibit less than 5% distribution of Dockerfile flakiness, such as PMG, ENV, and FS categories. However, within each category, we randomly sample the Dockerfiles. If flakiness is not observed in a Dockerfile at the time of analysis, we randomly select another Dockerfile from our dataset for repair. We repair flaky Dockerfiles using static (Dockerfile), dynamic (build outputs), and extracted categorization information. If a repair solution is not apparent using this information, similar to <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.1.1">Shipwright</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, we perform a human inspection of the top five web pages from search engine results, based on querying the error keywords, to find potential solutions.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.1">Repairing Dockerfile flakiness is a complex and time-consuming task because it involves several intricate steps. First, one must understand the execution steps of the Dockerfile and the overall workings of the project. Then, the specific problem must be pinpointed, and finally, the suggested repair should be verified. We verified the suggested repairs using the <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p2.1.1">Docker build</span> command with the <span class="ltx_text ltx_font_typewriter" id="S4.SS1.p2.1.2" style="font-size:90%;">--no-cache</span> option. To confirm the reliability of the proposed repairs, we test them as many times as the longest consecutive failure streak observed in our build history. Additionally, if a Dockerfile has exhibited different types of flakiness throughout the flakiness extraction phase <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS2" title="III-B Flakiness Extraction ‣ III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-B</span></span></a>, we only consider the types of flakiness that can be observed during the repair step. Some instances of flakiness may be difficult to reproduce or may have been resolved due to external dependency updates.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.T1" title="TABLE I ‣ IV-A Demonstration Dataset Creation ‣ IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">I</span></a> shows the distribution of repairs per category. We spent approximately 115 person-hours generating 100 Dockerfile repairs. Notably, the low occurrence in the server connectivity category is due to the fact that most errors in this category are temporary server issues resolved by the time of analysis.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T1.2">
<tr class="ltx_tr" id="S4.T1.2.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T1.2.1.1" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.1.1">Category</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.2" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.2.1">DEP</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.3" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.3.1">CON</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.4" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.4.1">SEC</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.5" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.5.1">PMG</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.6" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.6.1">ENV</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.2.1.7" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.7.1">FS</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.2.1.8" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.1.8.1">Total</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.2">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.1" style="padding-top:1.5pt;padding-bottom:1.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.1.1">Repairs</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.2" style="padding-top:1.5pt;padding-bottom:1.5pt;">63</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.3" style="padding-top:1.5pt;padding-bottom:1.5pt;">6</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.4" style="padding-top:1.5pt;padding-bottom:1.5pt;">9</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.5" style="padding-top:1.5pt;padding-bottom:1.5pt;">8</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.6" style="padding-top:1.5pt;padding-bottom:1.5pt;">10</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.2.2.7" style="padding-top:1.5pt;padding-bottom:1.5pt;">4</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.2.2.8" style="padding-top:1.5pt;padding-bottom:1.5pt;">100</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.3.1.1" style="font-size:90%;">TABLE I</span>: </span><span class="ltx_text" id="S4.T1.4.2" style="font-size:90%;">Number of Repairs by Category</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.9">In our demonstration dataset, a Dockerfile is denoted with <math alttext="d" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><mi id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><ci id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_d</annotation></semantics></math>, and every record is defined as tuple <math alttext="(S_{d},D_{d},C_{d},R_{d},I_{d})" class="ltx_Math" display="inline" id="S4.SS1.p4.2.m2.5"><semantics id="S4.SS1.p4.2.m2.5a"><mrow id="S4.SS1.p4.2.m2.5.5.5" xref="S4.SS1.p4.2.m2.5.5.6.cmml"><mo id="S4.SS1.p4.2.m2.5.5.5.6" stretchy="false" xref="S4.SS1.p4.2.m2.5.5.6.cmml">(</mo><msub id="S4.SS1.p4.2.m2.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml"><mi id="S4.SS1.p4.2.m2.1.1.1.1.2" xref="S4.SS1.p4.2.m2.1.1.1.1.2.cmml">S</mi><mi id="S4.SS1.p4.2.m2.1.1.1.1.3" xref="S4.SS1.p4.2.m2.1.1.1.1.3.cmml">d</mi></msub><mo id="S4.SS1.p4.2.m2.5.5.5.7" xref="S4.SS1.p4.2.m2.5.5.6.cmml">,</mo><msub id="S4.SS1.p4.2.m2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.2.cmml"><mi id="S4.SS1.p4.2.m2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.2.2.cmml">D</mi><mi id="S4.SS1.p4.2.m2.2.2.2.2.3" xref="S4.SS1.p4.2.m2.2.2.2.2.3.cmml">d</mi></msub><mo id="S4.SS1.p4.2.m2.5.5.5.8" xref="S4.SS1.p4.2.m2.5.5.6.cmml">,</mo><msub id="S4.SS1.p4.2.m2.3.3.3.3" xref="S4.SS1.p4.2.m2.3.3.3.3.cmml"><mi id="S4.SS1.p4.2.m2.3.3.3.3.2" xref="S4.SS1.p4.2.m2.3.3.3.3.2.cmml">C</mi><mi id="S4.SS1.p4.2.m2.3.3.3.3.3" xref="S4.SS1.p4.2.m2.3.3.3.3.3.cmml">d</mi></msub><mo id="S4.SS1.p4.2.m2.5.5.5.9" xref="S4.SS1.p4.2.m2.5.5.6.cmml">,</mo><msub id="S4.SS1.p4.2.m2.4.4.4.4" xref="S4.SS1.p4.2.m2.4.4.4.4.cmml"><mi id="S4.SS1.p4.2.m2.4.4.4.4.2" xref="S4.SS1.p4.2.m2.4.4.4.4.2.cmml">R</mi><mi id="S4.SS1.p4.2.m2.4.4.4.4.3" xref="S4.SS1.p4.2.m2.4.4.4.4.3.cmml">d</mi></msub><mo id="S4.SS1.p4.2.m2.5.5.5.10" xref="S4.SS1.p4.2.m2.5.5.6.cmml">,</mo><msub id="S4.SS1.p4.2.m2.5.5.5.5" xref="S4.SS1.p4.2.m2.5.5.5.5.cmml"><mi id="S4.SS1.p4.2.m2.5.5.5.5.2" xref="S4.SS1.p4.2.m2.5.5.5.5.2.cmml">I</mi><mi id="S4.SS1.p4.2.m2.5.5.5.5.3" xref="S4.SS1.p4.2.m2.5.5.5.5.3.cmml">d</mi></msub><mo id="S4.SS1.p4.2.m2.5.5.5.11" stretchy="false" xref="S4.SS1.p4.2.m2.5.5.6.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.5b"><vector id="S4.SS1.p4.2.m2.5.5.6.cmml" xref="S4.SS1.p4.2.m2.5.5.5"><apply id="S4.SS1.p4.2.m2.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.1.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p4.2.m2.1.1.1.1.2.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.2">𝑆</ci><ci id="S4.SS1.p4.2.m2.1.1.1.1.3.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1.3">𝑑</ci></apply><apply id="S4.SS1.p4.2.m2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.2.2.2.2.1.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2">subscript</csymbol><ci id="S4.SS1.p4.2.m2.2.2.2.2.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.2">𝐷</ci><ci id="S4.SS1.p4.2.m2.2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.3">𝑑</ci></apply><apply id="S4.SS1.p4.2.m2.3.3.3.3.cmml" xref="S4.SS1.p4.2.m2.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.3.3.3.3.1.cmml" xref="S4.SS1.p4.2.m2.3.3.3.3">subscript</csymbol><ci id="S4.SS1.p4.2.m2.3.3.3.3.2.cmml" xref="S4.SS1.p4.2.m2.3.3.3.3.2">𝐶</ci><ci id="S4.SS1.p4.2.m2.3.3.3.3.3.cmml" xref="S4.SS1.p4.2.m2.3.3.3.3.3">𝑑</ci></apply><apply id="S4.SS1.p4.2.m2.4.4.4.4.cmml" xref="S4.SS1.p4.2.m2.4.4.4.4"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.4.4.4.4.1.cmml" xref="S4.SS1.p4.2.m2.4.4.4.4">subscript</csymbol><ci id="S4.SS1.p4.2.m2.4.4.4.4.2.cmml" xref="S4.SS1.p4.2.m2.4.4.4.4.2">𝑅</ci><ci id="S4.SS1.p4.2.m2.4.4.4.4.3.cmml" xref="S4.SS1.p4.2.m2.4.4.4.4.3">𝑑</ci></apply><apply id="S4.SS1.p4.2.m2.5.5.5.5.cmml" xref="S4.SS1.p4.2.m2.5.5.5.5"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.5.5.5.5.1.cmml" xref="S4.SS1.p4.2.m2.5.5.5.5">subscript</csymbol><ci id="S4.SS1.p4.2.m2.5.5.5.5.2.cmml" xref="S4.SS1.p4.2.m2.5.5.5.5.2">𝐼</ci><ci id="S4.SS1.p4.2.m2.5.5.5.5.3.cmml" xref="S4.SS1.p4.2.m2.5.5.5.5.3">𝑑</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.5c">(S_{d},D_{d},C_{d},R_{d},I_{d})</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.5d">( italic_S start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_C start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math> containing several elements of the Flaky Dockerfile. The <math alttext="S_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.3.m3.1"><semantics id="S4.SS1.p4.3.m3.1a"><msub id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mi id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">S</mi><mi id="S4.SS1.p4.3.m3.1.1.3" xref="S4.SS1.p4.3.m3.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">𝑆</ci><ci id="S4.SS1.p4.3.m3.1.1.3.cmml" xref="S4.SS1.p4.3.m3.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">S_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.3.m3.1d">italic_S start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> component contains the static information, i.e., Dockerfile context. The identifier <math alttext="D_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.4.m4.1"><semantics id="S4.SS1.p4.4.m4.1a"><msub id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml"><mi id="S4.SS1.p4.4.m4.1.1.2" xref="S4.SS1.p4.4.m4.1.1.2.cmml">D</mi><mi id="S4.SS1.p4.4.m4.1.1.3" xref="S4.SS1.p4.4.m4.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><apply id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.4.m4.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p4.4.m4.1.1.2.cmml" xref="S4.SS1.p4.4.m4.1.1.2">𝐷</ci><ci id="S4.SS1.p4.4.m4.1.1.3.cmml" xref="S4.SS1.p4.4.m4.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">D_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> indicates the pre-processed build output of the flaky Dockerfile, which is referred to as the dynamic information. <math alttext="C_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.5.m5.1"><semantics id="S4.SS1.p4.5.m5.1a"><msub id="S4.SS1.p4.5.m5.1.1" xref="S4.SS1.p4.5.m5.1.1.cmml"><mi id="S4.SS1.p4.5.m5.1.1.2" xref="S4.SS1.p4.5.m5.1.1.2.cmml">C</mi><mi id="S4.SS1.p4.5.m5.1.1.3" xref="S4.SS1.p4.5.m5.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.5.m5.1b"><apply id="S4.SS1.p4.5.m5.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.5.m5.1.1.1.cmml" xref="S4.SS1.p4.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p4.5.m5.1.1.2.cmml" xref="S4.SS1.p4.5.m5.1.1.2">𝐶</ci><ci id="S4.SS1.p4.5.m5.1.1.3.cmml" xref="S4.SS1.p4.5.m5.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.5.m5.1c">C_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.5.m5.1d">italic_C start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> defines the category label for the current Dockerfile based on the taxonomy illustrated in Fig <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.F1" title="Figure 1 ‣ III-C Flakiness Categorization ‣ III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a>. Elements <math alttext="R_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.6.m6.1"><semantics id="S4.SS1.p4.6.m6.1a"><msub id="S4.SS1.p4.6.m6.1.1" xref="S4.SS1.p4.6.m6.1.1.cmml"><mi id="S4.SS1.p4.6.m6.1.1.2" xref="S4.SS1.p4.6.m6.1.1.2.cmml">R</mi><mi id="S4.SS1.p4.6.m6.1.1.3" xref="S4.SS1.p4.6.m6.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.6.m6.1b"><apply id="S4.SS1.p4.6.m6.1.1.cmml" xref="S4.SS1.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.6.m6.1.1.1.cmml" xref="S4.SS1.p4.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.p4.6.m6.1.1.2.cmml" xref="S4.SS1.p4.6.m6.1.1.2">𝑅</ci><ci id="S4.SS1.p4.6.m6.1.1.3.cmml" xref="S4.SS1.p4.6.m6.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.6.m6.1c">R_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.6.m6.1d">italic_R start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="I_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.7.m7.1"><semantics id="S4.SS1.p4.7.m7.1a"><msub id="S4.SS1.p4.7.m7.1.1" xref="S4.SS1.p4.7.m7.1.1.cmml"><mi id="S4.SS1.p4.7.m7.1.1.2" xref="S4.SS1.p4.7.m7.1.1.2.cmml">I</mi><mi id="S4.SS1.p4.7.m7.1.1.3" xref="S4.SS1.p4.7.m7.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.7.m7.1b"><apply id="S4.SS1.p4.7.m7.1.1.cmml" xref="S4.SS1.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.7.m7.1.1.1.cmml" xref="S4.SS1.p4.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p4.7.m7.1.1.2.cmml" xref="S4.SS1.p4.7.m7.1.1.2">𝐼</ci><ci id="S4.SS1.p4.7.m7.1.1.3.cmml" xref="S4.SS1.p4.7.m7.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.7.m7.1c">I_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.7.m7.1d">italic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> denote the repair patch proposed for the Dockerfile and the number of iterations required for the repair to be tested to ensure its correctness, respectively. In case more than one repair is offered for a flaky Dockerfile, <math alttext="R_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.8.m8.1"><semantics id="S4.SS1.p4.8.m8.1a"><msub id="S4.SS1.p4.8.m8.1.1" xref="S4.SS1.p4.8.m8.1.1.cmml"><mi id="S4.SS1.p4.8.m8.1.1.2" xref="S4.SS1.p4.8.m8.1.1.2.cmml">R</mi><mi id="S4.SS1.p4.8.m8.1.1.3" xref="S4.SS1.p4.8.m8.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.8.m8.1b"><apply id="S4.SS1.p4.8.m8.1.1.cmml" xref="S4.SS1.p4.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.8.m8.1.1.1.cmml" xref="S4.SS1.p4.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p4.8.m8.1.1.2.cmml" xref="S4.SS1.p4.8.m8.1.1.2">𝑅</ci><ci id="S4.SS1.p4.8.m8.1.1.3.cmml" xref="S4.SS1.p4.8.m8.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.8.m8.1c">R_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.8.m8.1d">italic_R start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="I_{d}" class="ltx_Math" display="inline" id="S4.SS1.p4.9.m9.1"><semantics id="S4.SS1.p4.9.m9.1a"><msub id="S4.SS1.p4.9.m9.1.1" xref="S4.SS1.p4.9.m9.1.1.cmml"><mi id="S4.SS1.p4.9.m9.1.1.2" xref="S4.SS1.p4.9.m9.1.1.2.cmml">I</mi><mi id="S4.SS1.p4.9.m9.1.1.3" xref="S4.SS1.p4.9.m9.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.9.m9.1b"><apply id="S4.SS1.p4.9.m9.1.1.cmml" xref="S4.SS1.p4.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.9.m9.1.1.1.cmml" xref="S4.SS1.p4.9.m9.1.1">subscript</csymbol><ci id="S4.SS1.p4.9.m9.1.1.2.cmml" xref="S4.SS1.p4.9.m9.1.1.2">𝐼</ci><ci id="S4.SS1.p4.9.m9.1.1.3.cmml" xref="S4.SS1.p4.9.m9.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.9.m9.1c">I_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.9.m9.1d">italic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> form a list of values.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS2.5.1.1">IV-B</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS2.6.2">Dockerfile Building</span>
</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.3">The first step of <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.3.1">FlakiDock</span> is to build a given flaky Dockerfile to elicit the failing build output. The purpose of this building stage is two-fold. First, based on the build output extracted, we classify the Dockerfile as <span class="ltx_text ltx_font_italic" id="S4.SS2.p1.3.2">non-flaky</span> if no failure is detected over <math alttext="n" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">italic_n</annotation></semantics></math> iterations. Conversely, if a failure occurs, we identify it as flaky behavior and proceed to address it. <math alttext="n" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><mi id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><ci id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">italic_n</annotation></semantics></math> is determined based on our demonstration dataset, ensuring it is at least greater than or equal to 90% of <math alttext="I_{d}" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><msub id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">I</mi><mi id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2">𝐼</ci><ci id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">I_{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">italic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> in our dataset, which corresponds to a minimum of two iterations. This approach is designed to encompass most flaky behaviors while optimizing time efficiency.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS3.5.1.1">IV-C</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS3.6.2">Static and Dynamic Similarity Retrieval Phase</span>
</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">Few-shot learning has shown remarkable efficacy when applied to LLMs <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib30" title="">30</a>]</cite>. While randomly selected examples can enhance performance, recent studies <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib28" title="">28</a>]</cite> indicate that choosing examples based on their similarity to the input context can lead to even more significant improvements.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.11">In the domain of Dockerfiles, we argue that both static and dynamic information are required to resolve flakiness. To this end, upon completing the build phase, the captured information along with the original Dockerfile is used to retrieve similar examples from the flakiness demonstration dataset. Formally, the input given to the similarity retriever is a tuple <math alttext="(S_{q},D_{q})" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.2"><semantics id="S4.SS3.p2.1.m1.2a"><mrow id="S4.SS3.p2.1.m1.2.2.2" xref="S4.SS3.p2.1.m1.2.2.3.cmml"><mo id="S4.SS3.p2.1.m1.2.2.2.3" stretchy="false" xref="S4.SS3.p2.1.m1.2.2.3.cmml">(</mo><msub id="S4.SS3.p2.1.m1.1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.1.m1.1.1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.1.1.3.cmml">q</mi></msub><mo id="S4.SS3.p2.1.m1.2.2.2.4" xref="S4.SS3.p2.1.m1.2.2.3.cmml">,</mo><msub id="S4.SS3.p2.1.m1.2.2.2.2" xref="S4.SS3.p2.1.m1.2.2.2.2.cmml"><mi id="S4.SS3.p2.1.m1.2.2.2.2.2" xref="S4.SS3.p2.1.m1.2.2.2.2.2.cmml">D</mi><mi id="S4.SS3.p2.1.m1.2.2.2.2.3" xref="S4.SS3.p2.1.m1.2.2.2.2.3.cmml">q</mi></msub><mo id="S4.SS3.p2.1.m1.2.2.2.5" stretchy="false" xref="S4.SS3.p2.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.2b"><interval closure="open" id="S4.SS3.p2.1.m1.2.2.3.cmml" xref="S4.SS3.p2.1.m1.2.2.2"><apply id="S4.SS3.p2.1.m1.1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.1.m1.1.1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.2">𝑆</ci><ci id="S4.SS3.p2.1.m1.1.1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.1.1.3">𝑞</ci></apply><apply id="S4.SS3.p2.1.m1.2.2.2.2.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.2.2.2.2.1.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2">subscript</csymbol><ci id="S4.SS3.p2.1.m1.2.2.2.2.2.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.2">𝐷</ci><ci id="S4.SS3.p2.1.m1.2.2.2.2.3.cmml" xref="S4.SS3.p2.1.m1.2.2.2.2.3">𝑞</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.2c">(S_{q},D_{q})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.2d">( italic_S start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT )</annotation></semantics></math> where <math alttext="S_{q}" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1"><semantics id="S4.SS3.p2.2.m2.1a"><msub id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝑆</ci><ci id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">S_{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">italic_S start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="D_{q}" class="ltx_Math" display="inline" id="S4.SS3.p2.3.m3.1"><semantics id="S4.SS3.p2.3.m3.1a"><msub id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">D</mi><mi id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝐷</ci><ci id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">D_{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> represent the static (Dockerfile) and dynamic (build output) features respectively. Then, the retriever uses the pre-processing technique elaborated in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S3.SS2" title="III-B Flakiness Extraction ‣ III Characterization of Dockerfile Flakiness ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-B</span></span></a> to extract error-related features from the build output. The combination of <math alttext="S_{q}" class="ltx_Math" display="inline" id="S4.SS3.p2.4.m4.1"><semantics id="S4.SS3.p2.4.m4.1a"><msub id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1.2" xref="S4.SS3.p2.4.m4.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.2">𝑆</ci><ci id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">S_{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.4.m4.1d">italic_S start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="D_{q}" class="ltx_Math" display="inline" id="S4.SS3.p2.5.m5.1"><semantics id="S4.SS3.p2.5.m5.1a"><msub id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><mi id="S4.SS3.p2.5.m5.1.1.2" xref="S4.SS3.p2.5.m5.1.1.2.cmml">D</mi><mi id="S4.SS3.p2.5.m5.1.1.3" xref="S4.SS3.p2.5.m5.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2">𝐷</ci><ci id="S4.SS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">D_{q}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.5.m5.1d">italic_D start_POSTSUBSCRIPT italic_q end_POSTSUBSCRIPT</annotation></semantics></math> is the input query <math alttext="Q" class="ltx_Math" display="inline" id="S4.SS3.p2.6.m6.1"><semantics id="S4.SS3.p2.6.m6.1a"><mi id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><ci id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.6.m6.1d">italic_Q</annotation></semantics></math> to the demonstration dataset. Given that our input encompasses both code segments and natural language descriptions, we utilize embedding-based search via <span class="ltx_text ltx_font_typewriter" id="S4.SS3.p2.11.1">text-embedding-ada-002</span> embedding from OpenAI <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib31" title="">31</a>]</cite>. This model is pretrained on extensive datasets across various domains, can process up to 8,191 tokens, and outputs a vector of 1,536 dimensions. Using this transformer model, we compare <math alttext="Q" class="ltx_Math" display="inline" id="S4.SS3.p2.7.m7.1"><semantics id="S4.SS3.p2.7.m7.1a"><mi id="S4.SS3.p2.7.m7.1.1" xref="S4.SS3.p2.7.m7.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m7.1b"><ci id="S4.SS3.p2.7.m7.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">Q</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.7.m7.1d">italic_Q</annotation></semantics></math> with the records in our demonstration dataset (only <math alttext="S_{e}" class="ltx_Math" display="inline" id="S4.SS3.p2.8.m8.1"><semantics id="S4.SS3.p2.8.m8.1a"><msub id="S4.SS3.p2.8.m8.1.1" xref="S4.SS3.p2.8.m8.1.1.cmml"><mi id="S4.SS3.p2.8.m8.1.1.2" xref="S4.SS3.p2.8.m8.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.8.m8.1.1.3" xref="S4.SS3.p2.8.m8.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m8.1b"><apply id="S4.SS3.p2.8.m8.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.p2.8.m8.1.1.2.cmml" xref="S4.SS3.p2.8.m8.1.1.2">𝑆</ci><ci id="S4.SS3.p2.8.m8.1.1.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m8.1c">S_{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.8.m8.1d">italic_S start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="D_{e}" class="ltx_Math" display="inline" id="S4.SS3.p2.9.m9.1"><semantics id="S4.SS3.p2.9.m9.1a"><msub id="S4.SS3.p2.9.m9.1.1" xref="S4.SS3.p2.9.m9.1.1.cmml"><mi id="S4.SS3.p2.9.m9.1.1.2" xref="S4.SS3.p2.9.m9.1.1.2.cmml">D</mi><mi id="S4.SS3.p2.9.m9.1.1.3" xref="S4.SS3.p2.9.m9.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m9.1b"><apply id="S4.SS3.p2.9.m9.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.9.m9.1.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.p2.9.m9.1.1.2.cmml" xref="S4.SS3.p2.9.m9.1.1.2">𝐷</ci><ci id="S4.SS3.p2.9.m9.1.1.3.cmml" xref="S4.SS3.p2.9.m9.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m9.1c">D_{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.9.m9.1d">italic_D start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math>) by applying cosine similarity to retrieve the top-3 <math alttext="(S_{e},D_{e})" class="ltx_Math" display="inline" id="S4.SS3.p2.10.m10.2"><semantics id="S4.SS3.p2.10.m10.2a"><mrow id="S4.SS3.p2.10.m10.2.2.2" xref="S4.SS3.p2.10.m10.2.2.3.cmml"><mo id="S4.SS3.p2.10.m10.2.2.2.3" stretchy="false" xref="S4.SS3.p2.10.m10.2.2.3.cmml">(</mo><msub id="S4.SS3.p2.10.m10.1.1.1.1" xref="S4.SS3.p2.10.m10.1.1.1.1.cmml"><mi id="S4.SS3.p2.10.m10.1.1.1.1.2" xref="S4.SS3.p2.10.m10.1.1.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.10.m10.1.1.1.1.3" xref="S4.SS3.p2.10.m10.1.1.1.1.3.cmml">e</mi></msub><mo id="S4.SS3.p2.10.m10.2.2.2.4" xref="S4.SS3.p2.10.m10.2.2.3.cmml">,</mo><msub id="S4.SS3.p2.10.m10.2.2.2.2" xref="S4.SS3.p2.10.m10.2.2.2.2.cmml"><mi id="S4.SS3.p2.10.m10.2.2.2.2.2" xref="S4.SS3.p2.10.m10.2.2.2.2.2.cmml">D</mi><mi id="S4.SS3.p2.10.m10.2.2.2.2.3" xref="S4.SS3.p2.10.m10.2.2.2.2.3.cmml">e</mi></msub><mo id="S4.SS3.p2.10.m10.2.2.2.5" stretchy="false" xref="S4.SS3.p2.10.m10.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.10.m10.2b"><interval closure="open" id="S4.SS3.p2.10.m10.2.2.3.cmml" xref="S4.SS3.p2.10.m10.2.2.2"><apply id="S4.SS3.p2.10.m10.1.1.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.10.m10.1.1.1.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.10.m10.1.1.1.1.2.cmml" xref="S4.SS3.p2.10.m10.1.1.1.1.2">𝑆</ci><ci id="S4.SS3.p2.10.m10.1.1.1.1.3.cmml" xref="S4.SS3.p2.10.m10.1.1.1.1.3">𝑒</ci></apply><apply id="S4.SS3.p2.10.m10.2.2.2.2.cmml" xref="S4.SS3.p2.10.m10.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.p2.10.m10.2.2.2.2.1.cmml" xref="S4.SS3.p2.10.m10.2.2.2.2">subscript</csymbol><ci id="S4.SS3.p2.10.m10.2.2.2.2.2.cmml" xref="S4.SS3.p2.10.m10.2.2.2.2.2">𝐷</ci><ci id="S4.SS3.p2.10.m10.2.2.2.2.3.cmml" xref="S4.SS3.p2.10.m10.2.2.2.2.3">𝑒</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.10.m10.2c">(S_{e},D_{e})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.10.m10.2d">( italic_S start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT )</annotation></semantics></math> combinations that are closest in embedded space to the input query, along with the corresponding repair snippets <math alttext="R_{e}" class="ltx_Math" display="inline" id="S4.SS3.p2.11.m11.1"><semantics id="S4.SS3.p2.11.m11.1a"><msub id="S4.SS3.p2.11.m11.1.1" xref="S4.SS3.p2.11.m11.1.1.cmml"><mi id="S4.SS3.p2.11.m11.1.1.2" xref="S4.SS3.p2.11.m11.1.1.2.cmml">R</mi><mi id="S4.SS3.p2.11.m11.1.1.3" xref="S4.SS3.p2.11.m11.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.11.m11.1b"><apply id="S4.SS3.p2.11.m11.1.1.cmml" xref="S4.SS3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.11.m11.1.1.1.cmml" xref="S4.SS3.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS3.p2.11.m11.1.1.2.cmml" xref="S4.SS3.p2.11.m11.1.1.2">𝑅</ci><ci id="S4.SS3.p2.11.m11.1.1.3.cmml" xref="S4.SS3.p2.11.m11.1.1.3">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.11.m11.1c">R_{e}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.11.m11.1d">italic_R start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT</annotation></semantics></math> for those retrieved Dockerfiles.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS4.5.1.1">IV-D</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS4.6.2">Repair Generation</span>
</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.2">This step contains the prompt design for Dockerfile flakiness repair generation. As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.F2" title="Figure 2 ‣ IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">2</span></a>, the prompt comprises a natural language task description, the flaky Dockerfile along with its build output, and a Chain-of-Thoughts (CoT) explanation to guide the model through the repair process. The prompt is then augmented with demonstration examples retrieved from the similarity retriever. Each example <math alttext="e" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_e</annotation></semantics></math> consists of a triple: <math alttext="(S_{e},D_{e},R_{e})" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.3"><semantics id="S4.SS4.p1.2.m2.3a"><mrow id="S4.SS4.p1.2.m2.3.3.3" xref="S4.SS4.p1.2.m2.3.3.4.cmml"><mo id="S4.SS4.p1.2.m2.3.3.3.4" stretchy="false" xref="S4.SS4.p1.2.m2.3.3.4.cmml">(</mo><msub id="S4.SS4.p1.2.m2.1.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.2" xref="S4.SS4.p1.2.m2.1.1.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.2.m2.1.1.1.1.3" xref="S4.SS4.p1.2.m2.1.1.1.1.3.cmml">e</mi></msub><mo id="S4.SS4.p1.2.m2.3.3.3.5" xref="S4.SS4.p1.2.m2.3.3.4.cmml">,</mo><msub id="S4.SS4.p1.2.m2.2.2.2.2" xref="S4.SS4.p1.2.m2.2.2.2.2.cmml"><mi id="S4.SS4.p1.2.m2.2.2.2.2.2" xref="S4.SS4.p1.2.m2.2.2.2.2.2.cmml">D</mi><mi id="S4.SS4.p1.2.m2.2.2.2.2.3" xref="S4.SS4.p1.2.m2.2.2.2.2.3.cmml">e</mi></msub><mo id="S4.SS4.p1.2.m2.3.3.3.6" xref="S4.SS4.p1.2.m2.3.3.4.cmml">,</mo><msub id="S4.SS4.p1.2.m2.3.3.3.3" xref="S4.SS4.p1.2.m2.3.3.3.3.cmml"><mi id="S4.SS4.p1.2.m2.3.3.3.3.2" xref="S4.SS4.p1.2.m2.3.3.3.3.2.cmml">R</mi><mi id="S4.SS4.p1.2.m2.3.3.3.3.3" xref="S4.SS4.p1.2.m2.3.3.3.3.3.cmml">e</mi></msub><mo id="S4.SS4.p1.2.m2.3.3.3.7" stretchy="false" xref="S4.SS4.p1.2.m2.3.3.4.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.3b"><vector id="S4.SS4.p1.2.m2.3.3.4.cmml" xref="S4.SS4.p1.2.m2.3.3.3"><apply id="S4.SS4.p1.2.m2.1.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.2">𝑆</ci><ci id="S4.SS4.p1.2.m2.1.1.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.3">𝑒</ci></apply><apply id="S4.SS4.p1.2.m2.2.2.2.2.cmml" xref="S4.SS4.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.2.2.2.2.1.cmml" xref="S4.SS4.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.2.m2.2.2.2.2.2.cmml" xref="S4.SS4.p1.2.m2.2.2.2.2.2">𝐷</ci><ci id="S4.SS4.p1.2.m2.2.2.2.2.3.cmml" xref="S4.SS4.p1.2.m2.2.2.2.2.3">𝑒</ci></apply><apply id="S4.SS4.p1.2.m2.3.3.3.3.cmml" xref="S4.SS4.p1.2.m2.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.3.3.3.3.1.cmml" xref="S4.SS4.p1.2.m2.3.3.3.3">subscript</csymbol><ci id="S4.SS4.p1.2.m2.3.3.3.3.2.cmml" xref="S4.SS4.p1.2.m2.3.3.3.3.2">𝑅</ci><ci id="S4.SS4.p1.2.m2.3.3.3.3.3.cmml" xref="S4.SS4.p1.2.m2.3.3.3.3.3">𝑒</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.3c">(S_{e},D_{e},R_{e})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.3d">( italic_S start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT , italic_R start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT )</annotation></semantics></math> represents the Dockerfile, build output, and repair/repairs suggested for the flaky Dockerfile.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.3">If previous attempts have generated incorrect repairs for the current flaky Dockerfile, a feedback message is included in the prompt as false demonstrations to help the model avoid similar mistakes. It encompasses the history of proposed repairs, each recorded as a false repair: <math alttext="fr=(R_{fr},D_{fr})" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.2"><semantics id="S4.SS4.p2.1.m1.2a"><mrow id="S4.SS4.p2.1.m1.2.2" xref="S4.SS4.p2.1.m1.2.2.cmml"><mrow id="S4.SS4.p2.1.m1.2.2.4" xref="S4.SS4.p2.1.m1.2.2.4.cmml"><mi id="S4.SS4.p2.1.m1.2.2.4.2" xref="S4.SS4.p2.1.m1.2.2.4.2.cmml">f</mi><mo id="S4.SS4.p2.1.m1.2.2.4.1" xref="S4.SS4.p2.1.m1.2.2.4.1.cmml">⁢</mo><mi id="S4.SS4.p2.1.m1.2.2.4.3" xref="S4.SS4.p2.1.m1.2.2.4.3.cmml">r</mi></mrow><mo id="S4.SS4.p2.1.m1.2.2.3" xref="S4.SS4.p2.1.m1.2.2.3.cmml">=</mo><mrow id="S4.SS4.p2.1.m1.2.2.2.2" xref="S4.SS4.p2.1.m1.2.2.2.3.cmml"><mo id="S4.SS4.p2.1.m1.2.2.2.2.3" stretchy="false" xref="S4.SS4.p2.1.m1.2.2.2.3.cmml">(</mo><msub id="S4.SS4.p2.1.m1.1.1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.cmml">R</mi><mrow id="S4.SS4.p2.1.m1.1.1.1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.3.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.2.cmml">f</mi><mo id="S4.SS4.p2.1.m1.1.1.1.1.1.3.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.cmml">r</mi></mrow></msub><mo id="S4.SS4.p2.1.m1.2.2.2.2.4" xref="S4.SS4.p2.1.m1.2.2.2.3.cmml">,</mo><msub id="S4.SS4.p2.1.m1.2.2.2.2.2" xref="S4.SS4.p2.1.m1.2.2.2.2.2.cmml"><mi id="S4.SS4.p2.1.m1.2.2.2.2.2.2" xref="S4.SS4.p2.1.m1.2.2.2.2.2.2.cmml">D</mi><mrow id="S4.SS4.p2.1.m1.2.2.2.2.2.3" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.cmml"><mi id="S4.SS4.p2.1.m1.2.2.2.2.2.3.2" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.2.cmml">f</mi><mo id="S4.SS4.p2.1.m1.2.2.2.2.2.3.1" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S4.SS4.p2.1.m1.2.2.2.2.2.3.3" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.3.cmml">r</mi></mrow></msub><mo id="S4.SS4.p2.1.m1.2.2.2.2.5" stretchy="false" xref="S4.SS4.p2.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.2b"><apply id="S4.SS4.p2.1.m1.2.2.cmml" xref="S4.SS4.p2.1.m1.2.2"><eq id="S4.SS4.p2.1.m1.2.2.3.cmml" xref="S4.SS4.p2.1.m1.2.2.3"></eq><apply id="S4.SS4.p2.1.m1.2.2.4.cmml" xref="S4.SS4.p2.1.m1.2.2.4"><times id="S4.SS4.p2.1.m1.2.2.4.1.cmml" xref="S4.SS4.p2.1.m1.2.2.4.1"></times><ci id="S4.SS4.p2.1.m1.2.2.4.2.cmml" xref="S4.SS4.p2.1.m1.2.2.4.2">𝑓</ci><ci id="S4.SS4.p2.1.m1.2.2.4.3.cmml" xref="S4.SS4.p2.1.m1.2.2.4.3">𝑟</ci></apply><interval closure="open" id="S4.SS4.p2.1.m1.2.2.2.3.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2"><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2">𝑅</ci><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3"><times id="S4.SS4.p2.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.1"></times><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.2">𝑓</ci><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3">𝑟</ci></apply></apply><apply id="S4.SS4.p2.1.m1.2.2.2.2.2.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.2.2.2.2.2.1.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.SS4.p2.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2.2">𝐷</ci><apply id="S4.SS4.p2.1.m1.2.2.2.2.2.3.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3"><times id="S4.SS4.p2.1.m1.2.2.2.2.2.3.1.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.1"></times><ci id="S4.SS4.p2.1.m1.2.2.2.2.2.3.2.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.2">𝑓</ci><ci id="S4.SS4.p2.1.m1.2.2.2.2.2.3.3.cmml" xref="S4.SS4.p2.1.m1.2.2.2.2.2.3.3">𝑟</ci></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.2c">fr=(R_{fr},D_{fr})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.2d">italic_f italic_r = ( italic_R start_POSTSUBSCRIPT italic_f italic_r end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_f italic_r end_POSTSUBSCRIPT )</annotation></semantics></math>. Here, <math alttext="R_{fr}" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">R</mi><mrow id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml"><mi id="S4.SS4.p2.2.m2.1.1.3.2" xref="S4.SS4.p2.2.m2.1.1.3.2.cmml">f</mi><mo id="S4.SS4.p2.2.m2.1.1.3.1" xref="S4.SS4.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS4.p2.2.m2.1.1.3.3" xref="S4.SS4.p2.2.m2.1.1.3.3.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝑅</ci><apply id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3"><times id="S4.SS4.p2.2.m2.1.1.3.1.cmml" xref="S4.SS4.p2.2.m2.1.1.3.1"></times><ci id="S4.SS4.p2.2.m2.1.1.3.2.cmml" xref="S4.SS4.p2.2.m2.1.1.3.2">𝑓</ci><ci id="S4.SS4.p2.2.m2.1.1.3.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">R_{fr}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">italic_R start_POSTSUBSCRIPT italic_f italic_r end_POSTSUBSCRIPT</annotation></semantics></math> element denotes the false repaired Dockerfile, and <math alttext="D_{fr}" class="ltx_Math" display="inline" id="S4.SS4.p2.3.m3.1"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">D</mi><mrow id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml"><mi id="S4.SS4.p2.3.m3.1.1.3.2" xref="S4.SS4.p2.3.m3.1.1.3.2.cmml">f</mi><mo id="S4.SS4.p2.3.m3.1.1.3.1" xref="S4.SS4.p2.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S4.SS4.p2.3.m3.1.1.3.3" xref="S4.SS4.p2.3.m3.1.1.3.3.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝐷</ci><apply id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3"><times id="S4.SS4.p2.3.m3.1.1.3.1.cmml" xref="S4.SS4.p2.3.m3.1.1.3.1"></times><ci id="S4.SS4.p2.3.m3.1.1.3.2.cmml" xref="S4.SS4.p2.3.m3.1.1.3.2">𝑓</ci><ci id="S4.SS4.p2.3.m3.1.1.3.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">D_{fr}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_f italic_r end_POSTSUBSCRIPT</annotation></semantics></math> shows the pre-processed build output corresponding to the false repair.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S4.SS5.5.1.1">IV-E</span> </span><span class="ltx_text ltx_font_italic" id="S4.SS5.6.2">Repair Validation</span>
</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">The validation phase serves as a heuristic approach to determine whether the repair suggested by the LLM is effective. The structure of this stage is elaborated in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#alg1" title="Algorithm 1 ‣ IV-E Repair Validation ‣ IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">1</span></a>. In the beginning, The repaired Dockerfile is built <math alttext="n" class="ltx_Math" display="inline" id="S4.SS5.p1.1.m1.1"><semantics id="S4.SS5.p1.1.m1.1a"><mi id="S4.SS5.p1.1.m1.1.1" xref="S4.SS5.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p1.1.m1.1b"><ci id="S4.SS5.p1.1.m1.1.1.cmml" xref="S4.SS5.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p1.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p1.1.m1.1d">italic_n</annotation></semantics></math> times, and build outputs are captured, similar to the Dockerfile builder module described in <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S4.SS2" title="IV-B Dockerfile Building ‣ IV FlakiDock ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-B</span></span></a>. If all build outputs are successful, the validator confirms the repair’s correctness and finalizes it as a result. Otherwise, it identifies the most common error type observed from the feedback generated thus far. The feedback comparison relies on the similarity of build outputs, assessed using sentence transformation models.</p>
</div>
<div class="ltx_para" id="S4.SS5.p2">
<p class="ltx_p" id="S4.SS5.p2.2">Through a manual evaluation of our demonstration Dockerfiles, we found that after three incorrect repair attempts with the same error, LLMs tend to continue proposing flawed repairs due to hallucination or model deficiency in addressing that specific problem even with the augmented information provided. Therefore, we establish a threshold, denoted by <math alttext="T" class="ltx_Math" display="inline" id="S4.SS5.p2.1.m1.1"><semantics id="S4.SS5.p2.1.m1.1a"><mi id="S4.SS5.p2.1.m1.1.1" xref="S4.SS5.p2.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.1.m1.1b"><ci id="S4.SS5.p2.1.m1.1.1.cmml" xref="S4.SS5.p2.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.1.m1.1c">T</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p2.1.m1.1d">italic_T</annotation></semantics></math>, set at a constant value of 3, to determine the stopping point for repair generation. If a specific error type appears <math alttext="T" class="ltx_Math" display="inline" id="S4.SS5.p2.2.m2.1"><semantics id="S4.SS5.p2.2.m2.1a"><mi id="S4.SS5.p2.2.m2.1.1" xref="S4.SS5.p2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS5.p2.2.m2.1b"><ci id="S4.SS5.p2.2.m2.1.1.cmml" xref="S4.SS5.p2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.p2.2.m2.1c">T</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.p2.2.m2.1d">italic_T</annotation></semantics></math> times, we interpret it as an indication of the model’s hallucination or inability to resolve the issue, resulting in the output <span class="ltx_text ltx_font_typewriter" id="S4.SS5.p2.2.1" style="font-size:90%;">Unable to resolve!</span>. If no error occurs three or more times, new feedback—consisting of the false repair and its build output—is created, appended to the existing feedback list, and then incorporated into the LLM’s prompt to generate a new Dockerfile flakiness repair.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> Repair Validation</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_listing ltx_figure_panel ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_text ltx_font_bold" id="alg1.l1.1" style="font-size:70%;">Input:</span><span class="ltx_text" id="alg1.l1.2" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l2">
<math alttext="r_{d}\leftarrow" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><msub id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml"><mi id="alg1.l2.m1.1.1.2.2" mathsize="70%" xref="alg1.l2.m1.1.1.2.2.cmml">r</mi><mi id="alg1.l2.m1.1.1.2.3" mathsize="70%" xref="alg1.l2.m1.1.1.2.3.cmml">d</mi></msub><mo id="alg1.l2.m1.1.1.1" mathsize="70%" stretchy="false" xref="alg1.l2.m1.1.1.1.cmml">←</mo><mi id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><ci id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">←</ci><apply id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.2.1.cmml" xref="alg1.l2.m1.1.1.2">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.2.cmml" xref="alg1.l2.m1.1.1.2.2">𝑟</ci><ci id="alg1.l2.m1.1.1.2.3.cmml" xref="alg1.l2.m1.1.1.2.3">𝑑</ci></apply><csymbol cd="latexml" id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">r_{d}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_r start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ←</annotation></semantics></math><span class="ltx_text" id="alg1.l2.1" style="font-size:70%;"> Repaired Dockerfile,
</span>
</div>
<div class="ltx_listingline" id="alg1.l3">
<math alttext="f_{d}\leftarrow" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><msub id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml"><mi id="alg1.l3.m1.1.1.2.2" mathsize="70%" xref="alg1.l3.m1.1.1.2.2.cmml">f</mi><mi id="alg1.l3.m1.1.1.2.3" mathsize="70%" xref="alg1.l3.m1.1.1.2.3.cmml">d</mi></msub><mo id="alg1.l3.m1.1.1.1" mathsize="70%" stretchy="false" xref="alg1.l3.m1.1.1.1.cmml">←</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">←</ci><apply id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.2">subscript</csymbol><ci id="alg1.l3.m1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.2.2">𝑓</ci><ci id="alg1.l3.m1.1.1.2.3.cmml" xref="alg1.l3.m1.1.1.2.3">𝑑</ci></apply><csymbol cd="latexml" id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">f_{d}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_f start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ←</annotation></semantics></math><span class="ltx_text" id="alg1.l3.1" style="font-size:70%;"> Previous feedbacks
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<math alttext="it\leftarrow" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mrow id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi id="alg1.l4.m1.1.1.2.2" mathsize="70%" xref="alg1.l4.m1.1.1.2.2.cmml">i</mi><mo id="alg1.l4.m1.1.1.2.1" xref="alg1.l4.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l4.m1.1.1.2.3" mathsize="70%" xref="alg1.l4.m1.1.1.2.3.cmml">t</mi></mrow><mo id="alg1.l4.m1.1.1.1" mathsize="70%" stretchy="false" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><times id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2.1"></times><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑖</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">it\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_i italic_t ←</annotation></semantics></math><span class="ltx_text" id="alg1.l4.1" style="font-size:70%;"> n
</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<math alttext="T\leftarrow 3" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" mathsize="70%" xref="alg1.l5.m1.1.1.2.cmml">T</mi><mo id="alg1.l5.m1.1.1.1" mathsize="70%" stretchy="false" xref="alg1.l5.m1.1.1.1.cmml">←</mo><mn id="alg1.l5.m1.1.1.3" mathsize="70%" xref="alg1.l5.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">←</ci><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑇</ci><cn id="alg1.l5.m1.1.1.3.cmml" type="integer" xref="alg1.l5.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">T\leftarrow 3</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_T ← 3</annotation></semantics></math><span class="ltx_text" id="alg1.l5.2" style="font-size:70%;"> </span><span class="ltx_text" id="alg1.l5.1" style="font-size:70%;float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l5.1.m1.1"><semantics id="alg1.l5.1.m1.1a"><mo id="alg1.l5.1.m1.1.1" xref="alg1.l5.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l5.1.m1.1b"><ci id="alg1.l5.1.m1.1.1.cmml" xref="alg1.l5.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.1.m1.1d">▷</annotation></semantics></math> Threshold
</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_text ltx_font_bold" id="alg1.l6.1" style="font-size:70%;">Output:</span><span class="ltx_text" id="alg1.l6.2" style="font-size:70%;"> Repair / Feedback / ”Unable to Resolve!”
</span>
</div>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_listing ltx_figure_panel ltx_listing" id="alg1.4">
<div class="ltx_listingline" id="alg1.l1a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1a.1.1.1" style="font-size:80%;">1:</span></span><math alttext="buildOutput\leftarrow" class="ltx_Math" display="inline" id="alg1.l1a.m1.1"><semantics id="alg1.l1a.m1.1a"><mrow id="alg1.l1a.m1.1.1" xref="alg1.l1a.m1.1.1.cmml"><mrow id="alg1.l1a.m1.1.1.2" xref="alg1.l1a.m1.1.1.2.cmml"><mi id="alg1.l1a.m1.1.1.2.2" mathsize="70%" xref="alg1.l1a.m1.1.1.2.2.cmml">b</mi><mo id="alg1.l1a.m1.1.1.2.1" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.3" mathsize="70%" xref="alg1.l1a.m1.1.1.2.3.cmml">u</mi><mo id="alg1.l1a.m1.1.1.2.1a" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.4" mathsize="70%" xref="alg1.l1a.m1.1.1.2.4.cmml">i</mi><mo id="alg1.l1a.m1.1.1.2.1b" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.5" mathsize="70%" xref="alg1.l1a.m1.1.1.2.5.cmml">l</mi><mo id="alg1.l1a.m1.1.1.2.1c" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.6" mathsize="70%" xref="alg1.l1a.m1.1.1.2.6.cmml">d</mi><mo id="alg1.l1a.m1.1.1.2.1d" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.7" mathsize="70%" xref="alg1.l1a.m1.1.1.2.7.cmml">O</mi><mo id="alg1.l1a.m1.1.1.2.1e" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.8" mathsize="70%" xref="alg1.l1a.m1.1.1.2.8.cmml">u</mi><mo id="alg1.l1a.m1.1.1.2.1f" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.9" mathsize="70%" xref="alg1.l1a.m1.1.1.2.9.cmml">t</mi><mo id="alg1.l1a.m1.1.1.2.1g" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.10" mathsize="70%" xref="alg1.l1a.m1.1.1.2.10.cmml">p</mi><mo id="alg1.l1a.m1.1.1.2.1h" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.11" mathsize="70%" xref="alg1.l1a.m1.1.1.2.11.cmml">u</mi><mo id="alg1.l1a.m1.1.1.2.1i" xref="alg1.l1a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l1a.m1.1.1.2.12" mathsize="70%" xref="alg1.l1a.m1.1.1.2.12.cmml">t</mi></mrow><mo id="alg1.l1a.m1.1.1.1" mathsize="70%" stretchy="false" xref="alg1.l1a.m1.1.1.1.cmml">←</mo><mi id="alg1.l1a.m1.1.1.3" xref="alg1.l1a.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1a.m1.1b"><apply id="alg1.l1a.m1.1.1.cmml" xref="alg1.l1a.m1.1.1"><ci id="alg1.l1a.m1.1.1.1.cmml" xref="alg1.l1a.m1.1.1.1">←</ci><apply id="alg1.l1a.m1.1.1.2.cmml" xref="alg1.l1a.m1.1.1.2"><times id="alg1.l1a.m1.1.1.2.1.cmml" xref="alg1.l1a.m1.1.1.2.1"></times><ci id="alg1.l1a.m1.1.1.2.2.cmml" xref="alg1.l1a.m1.1.1.2.2">𝑏</ci><ci id="alg1.l1a.m1.1.1.2.3.cmml" xref="alg1.l1a.m1.1.1.2.3">𝑢</ci><ci id="alg1.l1a.m1.1.1.2.4.cmml" xref="alg1.l1a.m1.1.1.2.4">𝑖</ci><ci id="alg1.l1a.m1.1.1.2.5.cmml" xref="alg1.l1a.m1.1.1.2.5">𝑙</ci><ci id="alg1.l1a.m1.1.1.2.6.cmml" xref="alg1.l1a.m1.1.1.2.6">𝑑</ci><ci id="alg1.l1a.m1.1.1.2.7.cmml" xref="alg1.l1a.m1.1.1.2.7">𝑂</ci><ci id="alg1.l1a.m1.1.1.2.8.cmml" xref="alg1.l1a.m1.1.1.2.8">𝑢</ci><ci id="alg1.l1a.m1.1.1.2.9.cmml" xref="alg1.l1a.m1.1.1.2.9">𝑡</ci><ci id="alg1.l1a.m1.1.1.2.10.cmml" xref="alg1.l1a.m1.1.1.2.10">𝑝</ci><ci id="alg1.l1a.m1.1.1.2.11.cmml" xref="alg1.l1a.m1.1.1.2.11">𝑢</ci><ci id="alg1.l1a.m1.1.1.2.12.cmml" xref="alg1.l1a.m1.1.1.2.12">𝑡</ci></apply><csymbol cd="latexml" id="alg1.l1a.m1.1.1.3.cmml" xref="alg1.l1a.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1a.m1.1c">buildOutput\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg1.l1a.m1.1d">italic_b italic_u italic_i italic_l italic_d italic_O italic_u italic_t italic_p italic_u italic_t ←</annotation></semantics></math><span class="ltx_text" id="alg1.l1a.2" style="font-size:70%;"> getBuildResults(</span><math alttext="r_{d}" class="ltx_Math" display="inline" id="alg1.l1a.m2.1"><semantics id="alg1.l1a.m2.1a"><msub id="alg1.l1a.m2.1.1" xref="alg1.l1a.m2.1.1.cmml"><mi id="alg1.l1a.m2.1.1.2" mathsize="70%" xref="alg1.l1a.m2.1.1.2.cmml">r</mi><mi id="alg1.l1a.m2.1.1.3" mathsize="70%" xref="alg1.l1a.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1a.m2.1b"><apply id="alg1.l1a.m2.1.1.cmml" xref="alg1.l1a.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1a.m2.1.1.1.cmml" xref="alg1.l1a.m2.1.1">subscript</csymbol><ci id="alg1.l1a.m2.1.1.2.cmml" xref="alg1.l1a.m2.1.1.2">𝑟</ci><ci id="alg1.l1a.m2.1.1.3.cmml" xref="alg1.l1a.m2.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1a.m2.1c">r_{d}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1a.m2.1d">italic_r start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l1a.3" style="font-size:70%;">, </span><math alttext="it" class="ltx_Math" display="inline" id="alg1.l1a.m3.1"><semantics id="alg1.l1a.m3.1a"><mrow id="alg1.l1a.m3.1.1" xref="alg1.l1a.m3.1.1.cmml"><mi id="alg1.l1a.m3.1.1.2" mathsize="70%" xref="alg1.l1a.m3.1.1.2.cmml">i</mi><mo id="alg1.l1a.m3.1.1.1" xref="alg1.l1a.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l1a.m3.1.1.3" mathsize="70%" xref="alg1.l1a.m3.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1a.m3.1b"><apply id="alg1.l1a.m3.1.1.cmml" xref="alg1.l1a.m3.1.1"><times id="alg1.l1a.m3.1.1.1.cmml" xref="alg1.l1a.m3.1.1.1"></times><ci id="alg1.l1a.m3.1.1.2.cmml" xref="alg1.l1a.m3.1.1.2">𝑖</ci><ci id="alg1.l1a.m3.1.1.3.cmml" xref="alg1.l1a.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1a.m3.1c">it</annotation><annotation encoding="application/x-llamapun" id="alg1.l1a.m3.1d">italic_i italic_t</annotation></semantics></math><span class="ltx_text" id="alg1.l1a.4" style="font-size:70%;">)
</span>
</div>
<div class="ltx_listingline" id="alg1.l2a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2a.1.1.1" style="font-size:80%;">2:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l2a.2" style="font-size:70%;">if</span><span class="ltx_text" id="alg1.l2a.3" style="font-size:70%;"> allSuccessful(</span><math alttext="buildOutput" class="ltx_Math" display="inline" id="alg1.l2a.m1.1"><semantics id="alg1.l2a.m1.1a"><mrow id="alg1.l2a.m1.1.1" xref="alg1.l2a.m1.1.1.cmml"><mi id="alg1.l2a.m1.1.1.2" mathsize="70%" xref="alg1.l2a.m1.1.1.2.cmml">b</mi><mo id="alg1.l2a.m1.1.1.1" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.3" mathsize="70%" xref="alg1.l2a.m1.1.1.3.cmml">u</mi><mo id="alg1.l2a.m1.1.1.1a" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.4" mathsize="70%" xref="alg1.l2a.m1.1.1.4.cmml">i</mi><mo id="alg1.l2a.m1.1.1.1b" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.5" mathsize="70%" xref="alg1.l2a.m1.1.1.5.cmml">l</mi><mo id="alg1.l2a.m1.1.1.1c" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.6" mathsize="70%" xref="alg1.l2a.m1.1.1.6.cmml">d</mi><mo id="alg1.l2a.m1.1.1.1d" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.7" mathsize="70%" xref="alg1.l2a.m1.1.1.7.cmml">O</mi><mo id="alg1.l2a.m1.1.1.1e" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.8" mathsize="70%" xref="alg1.l2a.m1.1.1.8.cmml">u</mi><mo id="alg1.l2a.m1.1.1.1f" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.9" mathsize="70%" xref="alg1.l2a.m1.1.1.9.cmml">t</mi><mo id="alg1.l2a.m1.1.1.1g" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.10" mathsize="70%" xref="alg1.l2a.m1.1.1.10.cmml">p</mi><mo id="alg1.l2a.m1.1.1.1h" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.11" mathsize="70%" xref="alg1.l2a.m1.1.1.11.cmml">u</mi><mo id="alg1.l2a.m1.1.1.1i" xref="alg1.l2a.m1.1.1.1.cmml">⁢</mo><mi id="alg1.l2a.m1.1.1.12" mathsize="70%" xref="alg1.l2a.m1.1.1.12.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2a.m1.1b"><apply id="alg1.l2a.m1.1.1.cmml" xref="alg1.l2a.m1.1.1"><times id="alg1.l2a.m1.1.1.1.cmml" xref="alg1.l2a.m1.1.1.1"></times><ci id="alg1.l2a.m1.1.1.2.cmml" xref="alg1.l2a.m1.1.1.2">𝑏</ci><ci id="alg1.l2a.m1.1.1.3.cmml" xref="alg1.l2a.m1.1.1.3">𝑢</ci><ci id="alg1.l2a.m1.1.1.4.cmml" xref="alg1.l2a.m1.1.1.4">𝑖</ci><ci id="alg1.l2a.m1.1.1.5.cmml" xref="alg1.l2a.m1.1.1.5">𝑙</ci><ci id="alg1.l2a.m1.1.1.6.cmml" xref="alg1.l2a.m1.1.1.6">𝑑</ci><ci id="alg1.l2a.m1.1.1.7.cmml" xref="alg1.l2a.m1.1.1.7">𝑂</ci><ci id="alg1.l2a.m1.1.1.8.cmml" xref="alg1.l2a.m1.1.1.8">𝑢</ci><ci id="alg1.l2a.m1.1.1.9.cmml" xref="alg1.l2a.m1.1.1.9">𝑡</ci><ci id="alg1.l2a.m1.1.1.10.cmml" xref="alg1.l2a.m1.1.1.10">𝑝</ci><ci id="alg1.l2a.m1.1.1.11.cmml" xref="alg1.l2a.m1.1.1.11">𝑢</ci><ci id="alg1.l2a.m1.1.1.12.cmml" xref="alg1.l2a.m1.1.1.12">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2a.m1.1c">buildOutput</annotation><annotation encoding="application/x-llamapun" id="alg1.l2a.m1.1d">italic_b italic_u italic_i italic_l italic_d italic_O italic_u italic_t italic_p italic_u italic_t</annotation></semantics></math><span class="ltx_text" id="alg1.l2a.4" style="font-size:70%;">) </span><span class="ltx_text ltx_font_bold" id="alg1.l2a.5" style="font-size:70%;">then</span><span class="ltx_text" id="alg1.l2a.6" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l3a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3a.2.1.1" style="font-size:80%;">3:</span></span><span class="ltx_text" id="alg1.l3a.3" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l3a.4" style="font-size:70%;">Return:</span><span class="ltx_text" id="alg1.l3a.5" style="font-size:70%;"> </span><math alttext="r_{d}" class="ltx_Math" display="inline" id="alg1.l3a.m1.1"><semantics id="alg1.l3a.m1.1a"><msub id="alg1.l3a.m1.1.1" xref="alg1.l3a.m1.1.1.cmml"><mi id="alg1.l3a.m1.1.1.2" mathsize="70%" xref="alg1.l3a.m1.1.1.2.cmml">r</mi><mi id="alg1.l3a.m1.1.1.3" mathsize="70%" xref="alg1.l3a.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l3a.m1.1b"><apply id="alg1.l3a.m1.1.1.cmml" xref="alg1.l3a.m1.1.1"><csymbol cd="ambiguous" id="alg1.l3a.m1.1.1.1.cmml" xref="alg1.l3a.m1.1.1">subscript</csymbol><ci id="alg1.l3a.m1.1.1.2.cmml" xref="alg1.l3a.m1.1.1.2">𝑟</ci><ci id="alg1.l3a.m1.1.1.3.cmml" xref="alg1.l3a.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3a.m1.1c">r_{d}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3a.m1.1d">italic_r start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l3a.6" style="font-size:70%;"> </span><span class="ltx_text" id="alg1.l3a.1" style="font-size:70%;float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l3a.1.m1.1"><semantics id="alg1.l3a.1.m1.1a"><mo id="alg1.l3a.1.m1.1.1" xref="alg1.l3a.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l3a.1.m1.1b"><ci id="alg1.l3a.1.m1.1.1.cmml" xref="alg1.l3a.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3a.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l3a.1.m1.1d">▷</annotation></semantics></math> Repair
</span>
</div>
<div class="ltx_listingline" id="alg1.l4a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4a.1.1.1" style="font-size:80%;">4:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l4a.2" style="font-size:70%;">else</span>
</div>
<div class="ltx_listingline" id="alg1.l5a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5a.1.1.1" style="font-size:80%;">5:</span></span><span class="ltx_text" id="alg1.l5a.2" style="font-size:70%;">    </span><math alttext="failures\leftarrow countSimilarFailures(buildOutput,f_{d})" class="ltx_Math" display="inline" id="alg1.l5a.m1.2"><semantics id="alg1.l5a.m1.2a"><mrow id="alg1.l5a.m1.2.2" xref="alg1.l5a.m1.2.2.cmml"><mrow id="alg1.l5a.m1.2.2.4" xref="alg1.l5a.m1.2.2.4.cmml"><mi id="alg1.l5a.m1.2.2.4.2" mathsize="70%" xref="alg1.l5a.m1.2.2.4.2.cmml">f</mi><mo id="alg1.l5a.m1.2.2.4.1" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.3" mathsize="70%" xref="alg1.l5a.m1.2.2.4.3.cmml">a</mi><mo id="alg1.l5a.m1.2.2.4.1a" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.4" mathsize="70%" xref="alg1.l5a.m1.2.2.4.4.cmml">i</mi><mo id="alg1.l5a.m1.2.2.4.1b" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.5" mathsize="70%" xref="alg1.l5a.m1.2.2.4.5.cmml">l</mi><mo id="alg1.l5a.m1.2.2.4.1c" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.6" mathsize="70%" xref="alg1.l5a.m1.2.2.4.6.cmml">u</mi><mo id="alg1.l5a.m1.2.2.4.1d" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.7" mathsize="70%" xref="alg1.l5a.m1.2.2.4.7.cmml">r</mi><mo id="alg1.l5a.m1.2.2.4.1e" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.8" mathsize="70%" xref="alg1.l5a.m1.2.2.4.8.cmml">e</mi><mo id="alg1.l5a.m1.2.2.4.1f" xref="alg1.l5a.m1.2.2.4.1.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.4.9" mathsize="70%" xref="alg1.l5a.m1.2.2.4.9.cmml">s</mi></mrow><mo id="alg1.l5a.m1.2.2.3" mathsize="70%" stretchy="false" xref="alg1.l5a.m1.2.2.3.cmml">←</mo><mrow id="alg1.l5a.m1.2.2.2" xref="alg1.l5a.m1.2.2.2.cmml"><mi id="alg1.l5a.m1.2.2.2.4" mathsize="70%" xref="alg1.l5a.m1.2.2.2.4.cmml">c</mi><mo id="alg1.l5a.m1.2.2.2.3" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.5" mathsize="70%" xref="alg1.l5a.m1.2.2.2.5.cmml">o</mi><mo id="alg1.l5a.m1.2.2.2.3a" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.6" mathsize="70%" xref="alg1.l5a.m1.2.2.2.6.cmml">u</mi><mo id="alg1.l5a.m1.2.2.2.3b" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.7" mathsize="70%" xref="alg1.l5a.m1.2.2.2.7.cmml">n</mi><mo id="alg1.l5a.m1.2.2.2.3c" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.8" mathsize="70%" xref="alg1.l5a.m1.2.2.2.8.cmml">t</mi><mo id="alg1.l5a.m1.2.2.2.3d" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.9" mathsize="70%" xref="alg1.l5a.m1.2.2.2.9.cmml">S</mi><mo id="alg1.l5a.m1.2.2.2.3e" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.10" mathsize="70%" xref="alg1.l5a.m1.2.2.2.10.cmml">i</mi><mo id="alg1.l5a.m1.2.2.2.3f" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.11" mathsize="70%" xref="alg1.l5a.m1.2.2.2.11.cmml">m</mi><mo id="alg1.l5a.m1.2.2.2.3g" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.12" mathsize="70%" xref="alg1.l5a.m1.2.2.2.12.cmml">i</mi><mo id="alg1.l5a.m1.2.2.2.3h" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.13" mathsize="70%" xref="alg1.l5a.m1.2.2.2.13.cmml">l</mi><mo id="alg1.l5a.m1.2.2.2.3i" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.14" mathsize="70%" xref="alg1.l5a.m1.2.2.2.14.cmml">a</mi><mo id="alg1.l5a.m1.2.2.2.3j" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.15" mathsize="70%" xref="alg1.l5a.m1.2.2.2.15.cmml">r</mi><mo id="alg1.l5a.m1.2.2.2.3k" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.16" mathsize="70%" xref="alg1.l5a.m1.2.2.2.16.cmml">F</mi><mo id="alg1.l5a.m1.2.2.2.3l" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.17" mathsize="70%" xref="alg1.l5a.m1.2.2.2.17.cmml">a</mi><mo id="alg1.l5a.m1.2.2.2.3m" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.18" mathsize="70%" xref="alg1.l5a.m1.2.2.2.18.cmml">i</mi><mo id="alg1.l5a.m1.2.2.2.3n" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.19" mathsize="70%" xref="alg1.l5a.m1.2.2.2.19.cmml">l</mi><mo id="alg1.l5a.m1.2.2.2.3o" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.20" mathsize="70%" xref="alg1.l5a.m1.2.2.2.20.cmml">u</mi><mo id="alg1.l5a.m1.2.2.2.3p" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.21" mathsize="70%" xref="alg1.l5a.m1.2.2.2.21.cmml">r</mi><mo id="alg1.l5a.m1.2.2.2.3q" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.22" mathsize="70%" xref="alg1.l5a.m1.2.2.2.22.cmml">e</mi><mo id="alg1.l5a.m1.2.2.2.3r" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l5a.m1.2.2.2.23" mathsize="70%" xref="alg1.l5a.m1.2.2.2.23.cmml">s</mi><mo id="alg1.l5a.m1.2.2.2.3s" xref="alg1.l5a.m1.2.2.2.3.cmml">⁢</mo><mrow id="alg1.l5a.m1.2.2.2.2.2" xref="alg1.l5a.m1.2.2.2.2.3.cmml"><mo id="alg1.l5a.m1.2.2.2.2.2.3" maxsize="70%" minsize="70%" xref="alg1.l5a.m1.2.2.2.2.3.cmml">(</mo><mrow id="alg1.l5a.m1.1.1.1.1.1.1" xref="alg1.l5a.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l5a.m1.1.1.1.1.1.1.2" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.2.cmml">b</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.3" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.3.cmml">u</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1a" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.4" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.4.cmml">i</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1b" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.5" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.5.cmml">l</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1c" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.6" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.6.cmml">d</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1d" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.7" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.7.cmml">O</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1e" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.8" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.8.cmml">u</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1f" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.9" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.9.cmml">t</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1g" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.10" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.10.cmml">p</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1h" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.11" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.11.cmml">u</mi><mo id="alg1.l5a.m1.1.1.1.1.1.1.1i" xref="alg1.l5a.m1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l5a.m1.1.1.1.1.1.1.12" mathsize="70%" xref="alg1.l5a.m1.1.1.1.1.1.1.12.cmml">t</mi></mrow><mo id="alg1.l5a.m1.2.2.2.2.2.4" mathsize="70%" xref="alg1.l5a.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.l5a.m1.2.2.2.2.2.2" xref="alg1.l5a.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l5a.m1.2.2.2.2.2.2.2" mathsize="70%" xref="alg1.l5a.m1.2.2.2.2.2.2.2.cmml">f</mi><mi id="alg1.l5a.m1.2.2.2.2.2.2.3" mathsize="70%" xref="alg1.l5a.m1.2.2.2.2.2.2.3.cmml">d</mi></msub><mo id="alg1.l5a.m1.2.2.2.2.2.5" maxsize="70%" minsize="70%" xref="alg1.l5a.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5a.m1.2b"><apply id="alg1.l5a.m1.2.2.cmml" xref="alg1.l5a.m1.2.2"><ci id="alg1.l5a.m1.2.2.3.cmml" xref="alg1.l5a.m1.2.2.3">←</ci><apply id="alg1.l5a.m1.2.2.4.cmml" xref="alg1.l5a.m1.2.2.4"><times id="alg1.l5a.m1.2.2.4.1.cmml" xref="alg1.l5a.m1.2.2.4.1"></times><ci id="alg1.l5a.m1.2.2.4.2.cmml" xref="alg1.l5a.m1.2.2.4.2">𝑓</ci><ci id="alg1.l5a.m1.2.2.4.3.cmml" xref="alg1.l5a.m1.2.2.4.3">𝑎</ci><ci id="alg1.l5a.m1.2.2.4.4.cmml" xref="alg1.l5a.m1.2.2.4.4">𝑖</ci><ci id="alg1.l5a.m1.2.2.4.5.cmml" xref="alg1.l5a.m1.2.2.4.5">𝑙</ci><ci id="alg1.l5a.m1.2.2.4.6.cmml" xref="alg1.l5a.m1.2.2.4.6">𝑢</ci><ci id="alg1.l5a.m1.2.2.4.7.cmml" xref="alg1.l5a.m1.2.2.4.7">𝑟</ci><ci id="alg1.l5a.m1.2.2.4.8.cmml" xref="alg1.l5a.m1.2.2.4.8">𝑒</ci><ci id="alg1.l5a.m1.2.2.4.9.cmml" xref="alg1.l5a.m1.2.2.4.9">𝑠</ci></apply><apply id="alg1.l5a.m1.2.2.2.cmml" xref="alg1.l5a.m1.2.2.2"><times id="alg1.l5a.m1.2.2.2.3.cmml" xref="alg1.l5a.m1.2.2.2.3"></times><ci id="alg1.l5a.m1.2.2.2.4.cmml" xref="alg1.l5a.m1.2.2.2.4">𝑐</ci><ci id="alg1.l5a.m1.2.2.2.5.cmml" xref="alg1.l5a.m1.2.2.2.5">𝑜</ci><ci id="alg1.l5a.m1.2.2.2.6.cmml" xref="alg1.l5a.m1.2.2.2.6">𝑢</ci><ci id="alg1.l5a.m1.2.2.2.7.cmml" xref="alg1.l5a.m1.2.2.2.7">𝑛</ci><ci id="alg1.l5a.m1.2.2.2.8.cmml" xref="alg1.l5a.m1.2.2.2.8">𝑡</ci><ci id="alg1.l5a.m1.2.2.2.9.cmml" xref="alg1.l5a.m1.2.2.2.9">𝑆</ci><ci id="alg1.l5a.m1.2.2.2.10.cmml" xref="alg1.l5a.m1.2.2.2.10">𝑖</ci><ci id="alg1.l5a.m1.2.2.2.11.cmml" xref="alg1.l5a.m1.2.2.2.11">𝑚</ci><ci id="alg1.l5a.m1.2.2.2.12.cmml" xref="alg1.l5a.m1.2.2.2.12">𝑖</ci><ci id="alg1.l5a.m1.2.2.2.13.cmml" xref="alg1.l5a.m1.2.2.2.13">𝑙</ci><ci id="alg1.l5a.m1.2.2.2.14.cmml" xref="alg1.l5a.m1.2.2.2.14">𝑎</ci><ci id="alg1.l5a.m1.2.2.2.15.cmml" xref="alg1.l5a.m1.2.2.2.15">𝑟</ci><ci id="alg1.l5a.m1.2.2.2.16.cmml" xref="alg1.l5a.m1.2.2.2.16">𝐹</ci><ci id="alg1.l5a.m1.2.2.2.17.cmml" xref="alg1.l5a.m1.2.2.2.17">𝑎</ci><ci id="alg1.l5a.m1.2.2.2.18.cmml" xref="alg1.l5a.m1.2.2.2.18">𝑖</ci><ci id="alg1.l5a.m1.2.2.2.19.cmml" xref="alg1.l5a.m1.2.2.2.19">𝑙</ci><ci id="alg1.l5a.m1.2.2.2.20.cmml" xref="alg1.l5a.m1.2.2.2.20">𝑢</ci><ci id="alg1.l5a.m1.2.2.2.21.cmml" xref="alg1.l5a.m1.2.2.2.21">𝑟</ci><ci id="alg1.l5a.m1.2.2.2.22.cmml" xref="alg1.l5a.m1.2.2.2.22">𝑒</ci><ci id="alg1.l5a.m1.2.2.2.23.cmml" xref="alg1.l5a.m1.2.2.2.23">𝑠</ci><interval closure="open" id="alg1.l5a.m1.2.2.2.2.3.cmml" xref="alg1.l5a.m1.2.2.2.2.2"><apply id="alg1.l5a.m1.1.1.1.1.1.1.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1"><times id="alg1.l5a.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.1"></times><ci id="alg1.l5a.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.2">𝑏</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.3">𝑢</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.4.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.4">𝑖</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.5.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.5">𝑙</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.6.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.6">𝑑</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.7.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.7">𝑂</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.8.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.8">𝑢</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.9.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.9">𝑡</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.10.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.10">𝑝</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.11.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.11">𝑢</ci><ci id="alg1.l5a.m1.1.1.1.1.1.1.12.cmml" xref="alg1.l5a.m1.1.1.1.1.1.1.12">𝑡</ci></apply><apply id="alg1.l5a.m1.2.2.2.2.2.2.cmml" xref="alg1.l5a.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5a.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l5a.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l5a.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l5a.m1.2.2.2.2.2.2.2">𝑓</ci><ci id="alg1.l5a.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l5a.m1.2.2.2.2.2.2.3">𝑑</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5a.m1.2c">failures\leftarrow countSimilarFailures(buildOutput,f_{d})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5a.m1.2d">italic_f italic_a italic_i italic_l italic_u italic_r italic_e italic_s ← italic_c italic_o italic_u italic_n italic_t italic_S italic_i italic_m italic_i italic_l italic_a italic_r italic_F italic_a italic_i italic_l italic_u italic_r italic_e italic_s ( italic_b italic_u italic_i italic_l italic_d italic_O italic_u italic_t italic_p italic_u italic_t , italic_f start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="alg1.l5a.3" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l6a">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6a.1.1.1" style="font-size:80%;">6:</span></span><span class="ltx_text" id="alg1.l6a.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l6a.3" style="font-size:70%;">if</span><span class="ltx_text" id="alg1.l6a.4" style="font-size:70%;"> </span><math alttext="failures\geq T" class="ltx_Math" display="inline" id="alg1.l6a.m1.1"><semantics id="alg1.l6a.m1.1a"><mrow id="alg1.l6a.m1.1.1" xref="alg1.l6a.m1.1.1.cmml"><mrow id="alg1.l6a.m1.1.1.2" xref="alg1.l6a.m1.1.1.2.cmml"><mi id="alg1.l6a.m1.1.1.2.2" mathsize="70%" xref="alg1.l6a.m1.1.1.2.2.cmml">f</mi><mo id="alg1.l6a.m1.1.1.2.1" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.3" mathsize="70%" xref="alg1.l6a.m1.1.1.2.3.cmml">a</mi><mo id="alg1.l6a.m1.1.1.2.1a" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.4" mathsize="70%" xref="alg1.l6a.m1.1.1.2.4.cmml">i</mi><mo id="alg1.l6a.m1.1.1.2.1b" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.5" mathsize="70%" xref="alg1.l6a.m1.1.1.2.5.cmml">l</mi><mo id="alg1.l6a.m1.1.1.2.1c" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.6" mathsize="70%" xref="alg1.l6a.m1.1.1.2.6.cmml">u</mi><mo id="alg1.l6a.m1.1.1.2.1d" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.7" mathsize="70%" xref="alg1.l6a.m1.1.1.2.7.cmml">r</mi><mo id="alg1.l6a.m1.1.1.2.1e" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.8" mathsize="70%" xref="alg1.l6a.m1.1.1.2.8.cmml">e</mi><mo id="alg1.l6a.m1.1.1.2.1f" xref="alg1.l6a.m1.1.1.2.1.cmml">⁢</mo><mi id="alg1.l6a.m1.1.1.2.9" mathsize="70%" xref="alg1.l6a.m1.1.1.2.9.cmml">s</mi></mrow><mo id="alg1.l6a.m1.1.1.1" mathsize="70%" xref="alg1.l6a.m1.1.1.1.cmml">≥</mo><mi id="alg1.l6a.m1.1.1.3" mathsize="70%" xref="alg1.l6a.m1.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6a.m1.1b"><apply id="alg1.l6a.m1.1.1.cmml" xref="alg1.l6a.m1.1.1"><geq id="alg1.l6a.m1.1.1.1.cmml" xref="alg1.l6a.m1.1.1.1"></geq><apply id="alg1.l6a.m1.1.1.2.cmml" xref="alg1.l6a.m1.1.1.2"><times id="alg1.l6a.m1.1.1.2.1.cmml" xref="alg1.l6a.m1.1.1.2.1"></times><ci id="alg1.l6a.m1.1.1.2.2.cmml" xref="alg1.l6a.m1.1.1.2.2">𝑓</ci><ci id="alg1.l6a.m1.1.1.2.3.cmml" xref="alg1.l6a.m1.1.1.2.3">𝑎</ci><ci id="alg1.l6a.m1.1.1.2.4.cmml" xref="alg1.l6a.m1.1.1.2.4">𝑖</ci><ci id="alg1.l6a.m1.1.1.2.5.cmml" xref="alg1.l6a.m1.1.1.2.5">𝑙</ci><ci id="alg1.l6a.m1.1.1.2.6.cmml" xref="alg1.l6a.m1.1.1.2.6">𝑢</ci><ci id="alg1.l6a.m1.1.1.2.7.cmml" xref="alg1.l6a.m1.1.1.2.7">𝑟</ci><ci id="alg1.l6a.m1.1.1.2.8.cmml" xref="alg1.l6a.m1.1.1.2.8">𝑒</ci><ci id="alg1.l6a.m1.1.1.2.9.cmml" xref="alg1.l6a.m1.1.1.2.9">𝑠</ci></apply><ci id="alg1.l6a.m1.1.1.3.cmml" xref="alg1.l6a.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6a.m1.1c">failures\geq T</annotation><annotation encoding="application/x-llamapun" id="alg1.l6a.m1.1d">italic_f italic_a italic_i italic_l italic_u italic_r italic_e italic_s ≥ italic_T</annotation></semantics></math><span class="ltx_text" id="alg1.l6a.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l6a.6" style="font-size:70%;">then</span><span class="ltx_text" id="alg1.l6a.7" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span><span class="ltx_text" id="alg1.l7.2" style="font-size:70%;">       </span><span class="ltx_text ltx_font_bold" id="alg1.l7.3" style="font-size:70%;">Return:</span><span class="ltx_text" id="alg1.l7.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_typewriter" id="alg1.l7.5" style="font-size:70%;">"Unable to resolve!"</span><span class="ltx_text" id="alg1.l7.6" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span><span class="ltx_text" id="alg1.l8.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l8.3" style="font-size:70%;">else</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.1.1.1" style="font-size:80%;">9:</span></span><span class="ltx_text" id="alg1.l9.2" style="font-size:70%;">       </span><math alttext="f_{d}\leftarrow appendNewFeedback(r_{d},buildOutput)" class="ltx_Math" display="inline" id="alg1.l9.m1.2"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml"><msub id="alg1.l9.m1.2.2.4" xref="alg1.l9.m1.2.2.4.cmml"><mi id="alg1.l9.m1.2.2.4.2" mathsize="70%" xref="alg1.l9.m1.2.2.4.2.cmml">f</mi><mi id="alg1.l9.m1.2.2.4.3" mathsize="70%" xref="alg1.l9.m1.2.2.4.3.cmml">d</mi></msub><mo id="alg1.l9.m1.2.2.3" mathsize="70%" stretchy="false" xref="alg1.l9.m1.2.2.3.cmml">←</mo><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.4" mathsize="70%" xref="alg1.l9.m1.2.2.2.4.cmml">a</mi><mo id="alg1.l9.m1.2.2.2.3" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.5" mathsize="70%" xref="alg1.l9.m1.2.2.2.5.cmml">p</mi><mo id="alg1.l9.m1.2.2.2.3a" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.6" mathsize="70%" xref="alg1.l9.m1.2.2.2.6.cmml">p</mi><mo id="alg1.l9.m1.2.2.2.3b" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.7" mathsize="70%" xref="alg1.l9.m1.2.2.2.7.cmml">e</mi><mo id="alg1.l9.m1.2.2.2.3c" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.8" mathsize="70%" xref="alg1.l9.m1.2.2.2.8.cmml">n</mi><mo id="alg1.l9.m1.2.2.2.3d" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.9" mathsize="70%" xref="alg1.l9.m1.2.2.2.9.cmml">d</mi><mo id="alg1.l9.m1.2.2.2.3e" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.10" mathsize="70%" xref="alg1.l9.m1.2.2.2.10.cmml">N</mi><mo id="alg1.l9.m1.2.2.2.3f" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.11" mathsize="70%" xref="alg1.l9.m1.2.2.2.11.cmml">e</mi><mo id="alg1.l9.m1.2.2.2.3g" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.12" mathsize="70%" xref="alg1.l9.m1.2.2.2.12.cmml">w</mi><mo id="alg1.l9.m1.2.2.2.3h" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.13" mathsize="70%" xref="alg1.l9.m1.2.2.2.13.cmml">F</mi><mo id="alg1.l9.m1.2.2.2.3i" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.14" mathsize="70%" xref="alg1.l9.m1.2.2.2.14.cmml">e</mi><mo id="alg1.l9.m1.2.2.2.3j" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.15" mathsize="70%" xref="alg1.l9.m1.2.2.2.15.cmml">e</mi><mo id="alg1.l9.m1.2.2.2.3k" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.16" mathsize="70%" xref="alg1.l9.m1.2.2.2.16.cmml">d</mi><mo id="alg1.l9.m1.2.2.2.3l" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.17" mathsize="70%" xref="alg1.l9.m1.2.2.2.17.cmml">b</mi><mo id="alg1.l9.m1.2.2.2.3m" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.18" mathsize="70%" xref="alg1.l9.m1.2.2.2.18.cmml">a</mi><mo id="alg1.l9.m1.2.2.2.3n" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.19" mathsize="70%" xref="alg1.l9.m1.2.2.2.19.cmml">c</mi><mo id="alg1.l9.m1.2.2.2.3o" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.20" mathsize="70%" xref="alg1.l9.m1.2.2.2.20.cmml">k</mi><mo id="alg1.l9.m1.2.2.2.3p" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.3.cmml"><mo id="alg1.l9.m1.2.2.2.2.2.3" maxsize="70%" minsize="70%" xref="alg1.l9.m1.2.2.2.2.3.cmml">(</mo><msub id="alg1.l9.m1.1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2" mathsize="70%" xref="alg1.l9.m1.1.1.1.1.1.1.2.cmml">r</mi><mi id="alg1.l9.m1.1.1.1.1.1.1.3" mathsize="70%" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="alg1.l9.m1.2.2.2.2.2.4" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.3.cmml">,</mo><mrow id="alg1.l9.m1.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.2" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.2.cmml">b</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.3" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.3.cmml">u</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1a" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.4" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.4.cmml">i</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1b" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.5" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.5.cmml">l</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1c" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.6" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.6.cmml">d</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1d" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.7" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.7.cmml">O</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1e" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.8" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.8.cmml">u</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1f" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.9" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.9.cmml">t</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1g" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.10" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.10.cmml">p</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1h" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.11" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.11.cmml">u</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.1i" xref="alg1.l9.m1.2.2.2.2.2.2.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.2.2.2.2.12" mathsize="70%" xref="alg1.l9.m1.2.2.2.2.2.2.12.cmml">t</mi></mrow><mo id="alg1.l9.m1.2.2.2.2.2.5" maxsize="70%" minsize="70%" xref="alg1.l9.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2"><ci id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.3">←</ci><apply id="alg1.l9.m1.2.2.4.cmml" xref="alg1.l9.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.4.1.cmml" xref="alg1.l9.m1.2.2.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.4.2.cmml" xref="alg1.l9.m1.2.2.4.2">𝑓</ci><ci id="alg1.l9.m1.2.2.4.3.cmml" xref="alg1.l9.m1.2.2.4.3">𝑑</ci></apply><apply id="alg1.l9.m1.2.2.2.cmml" xref="alg1.l9.m1.2.2.2"><times id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.3"></times><ci id="alg1.l9.m1.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.4">𝑎</ci><ci id="alg1.l9.m1.2.2.2.5.cmml" xref="alg1.l9.m1.2.2.2.5">𝑝</ci><ci id="alg1.l9.m1.2.2.2.6.cmml" xref="alg1.l9.m1.2.2.2.6">𝑝</ci><ci id="alg1.l9.m1.2.2.2.7.cmml" xref="alg1.l9.m1.2.2.2.7">𝑒</ci><ci id="alg1.l9.m1.2.2.2.8.cmml" xref="alg1.l9.m1.2.2.2.8">𝑛</ci><ci id="alg1.l9.m1.2.2.2.9.cmml" xref="alg1.l9.m1.2.2.2.9">𝑑</ci><ci id="alg1.l9.m1.2.2.2.10.cmml" xref="alg1.l9.m1.2.2.2.10">𝑁</ci><ci id="alg1.l9.m1.2.2.2.11.cmml" xref="alg1.l9.m1.2.2.2.11">𝑒</ci><ci id="alg1.l9.m1.2.2.2.12.cmml" xref="alg1.l9.m1.2.2.2.12">𝑤</ci><ci id="alg1.l9.m1.2.2.2.13.cmml" xref="alg1.l9.m1.2.2.2.13">𝐹</ci><ci id="alg1.l9.m1.2.2.2.14.cmml" xref="alg1.l9.m1.2.2.2.14">𝑒</ci><ci id="alg1.l9.m1.2.2.2.15.cmml" xref="alg1.l9.m1.2.2.2.15">𝑒</ci><ci id="alg1.l9.m1.2.2.2.16.cmml" xref="alg1.l9.m1.2.2.2.16">𝑑</ci><ci id="alg1.l9.m1.2.2.2.17.cmml" xref="alg1.l9.m1.2.2.2.17">𝑏</ci><ci id="alg1.l9.m1.2.2.2.18.cmml" xref="alg1.l9.m1.2.2.2.18">𝑎</ci><ci id="alg1.l9.m1.2.2.2.19.cmml" xref="alg1.l9.m1.2.2.2.19">𝑐</ci><ci id="alg1.l9.m1.2.2.2.20.cmml" xref="alg1.l9.m1.2.2.2.20">𝑘</ci><interval closure="open" id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2"><apply id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2">𝑟</ci><ci id="alg1.l9.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.3">𝑑</ci></apply><apply id="alg1.l9.m1.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2"><times id="alg1.l9.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.1"></times><ci id="alg1.l9.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.2">𝑏</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3">𝑢</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.4">𝑖</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.5.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.5">𝑙</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.6.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.6">𝑑</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.7.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.7">𝑂</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.8.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.8">𝑢</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.9.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.9">𝑡</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.10.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.10">𝑝</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.11.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.11">𝑢</ci><ci id="alg1.l9.m1.2.2.2.2.2.2.12.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.12">𝑡</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">f_{d}\leftarrow appendNewFeedback(r_{d},buildOutput)</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.2d">italic_f start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ← italic_a italic_p italic_p italic_e italic_n italic_d italic_N italic_e italic_w italic_F italic_e italic_e italic_d italic_b italic_a italic_c italic_k ( italic_r start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_b italic_u italic_i italic_l italic_d italic_O italic_u italic_t italic_p italic_u italic_t )</annotation></semantics></math><span class="ltx_text" id="alg1.l9.3" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l10.2.1.1" style="font-size:80%;">10:</span></span><span class="ltx_text" id="alg1.l10.3" style="font-size:70%;">       </span><span class="ltx_text ltx_font_bold" id="alg1.l10.4" style="font-size:70%;">Return:</span><span class="ltx_text" id="alg1.l10.5" style="font-size:70%;"> </span><math alttext="f_{d}" class="ltx_Math" display="inline" id="alg1.l10.m1.1"><semantics id="alg1.l10.m1.1a"><msub id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" mathsize="70%" xref="alg1.l10.m1.1.1.2.cmml">f</mi><mi id="alg1.l10.m1.1.1.3" mathsize="70%" xref="alg1.l10.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝑓</ci><ci id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">f_{d}</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.1d">italic_f start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l10.6" style="font-size:70%;"> </span><span class="ltx_text" id="alg1.l10.1" style="font-size:70%;float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l10.1.m1.1"><semantics id="alg1.l10.1.m1.1a"><mo id="alg1.l10.1.m1.1.1" xref="alg1.l10.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l10.1.m1.1b"><ci id="alg1.l10.1.m1.1.1.cmml" xref="alg1.l10.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.1.m1.1d">▷</annotation></semantics></math> Feedback
</span>
</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">11:</span></span><span class="ltx_text" id="alg1.l11.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l11.3" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l11.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l11.5" style="font-size:70%;">if</span>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">12:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l12.2" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l12.3" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l12.4" style="font-size:70%;">if</span>
</div>
</div>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span class="ltx_text ltx_font_smallcaps" id="S5.1.1">Evaluation</span>
</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">To assess the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">FlakiDock</span> we address the following research question:</p>
</div>
<div class="ltx_para" id="S5.p2">
<ul class="ltx_itemize" id="S5.I1">
<li class="ltx_item" id="S5.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S5.I1.i1.p1">
<p class="ltx_p" id="S5.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.I1.i1.p1.1.1">RQ3</span>: How effective is <span class="ltx_text ltx_font_smallcaps" id="S5.I1.i1.p1.1.2">FlakiDock</span> and how does it compare to state-of-the-art
techniques?</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS1.5.1.1">V-A</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS1.6.2">Implementation</span>
</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S5.SS1.p1.1.1">FlakiDock</span> is developed in Python. For running our experiments, we use <span class="ltx_text ltx_font_smallcaps" id="S5.SS1.p1.1.2">GPT-4</span> model <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.3" style="font-size:90%;">gpt-4-0613</span> as our LLM. For all experiments, we set the temperature parameter to 0 to ensure deterministic and well-defined answers from the LLM. Chroma DB, which is an open-source embedding database<span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.trychroma.com/" title="">https://www.trychroma.com/</a></span></span></span>, serves our need for vector similarity search. For embedding generation, we use <span class="ltx_text ltx_font_typewriter" id="S5.SS1.p1.1.4">text-embedding-ada-002</span> from OpenAI <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib31" title="">31</a>]</cite>. The temporal analysis, including project checkouts and Dockerfile builds, is performed on an infrastructure consisting of 4 Intel(R) Xeon(R) CPU 2.50GHz machines with 62 GB RAM each. For repair, we use 8 AWS machines of type t2.2xlarge, each with 8 CPUs and 32 GB RAM.</p>
</div>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T2.4.1.1" style="font-size:129%;">TABLE II</span>: </span><span class="ltx_text" id="S5.T2.5.2" style="font-size:129%;">Results for Dockerfile Flakiness Repair</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T2.6">
<tr class="ltx_tr" id="S5.T2.6.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S5.T2.6.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.1.1" style="font-size:70%;">Tool and Strategy</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.2"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.2.1" style="font-size:70%;">DEP</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.3"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.3.1" style="font-size:70%;">CON</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.4"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.4.1" style="font-size:70%;">SEC</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.5"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.5.1" style="font-size:70%;">PMG</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.6"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.6.1" style="font-size:70%;">ENV</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T2.6.1.7"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.7.1" style="font-size:70%;">FS</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.6.1.8"><span class="ltx_text ltx_font_bold" id="S5.T2.6.1.8.1" style="font-size:70%;">Total</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.6.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.6.2.1"><span class="ltx_text ltx_font_smallcaps" id="S5.T2.6.2.1.1" style="font-size:70%;">Parfum</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.2"><span class="ltx_text" id="S5.T2.6.2.2.1" style="font-size:70%;">0/280 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.3"><span class="ltx_text" id="S5.T2.6.2.3.1" style="font-size:70%;">1/9 (11.11%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.4"><span class="ltx_text" id="S5.T2.6.2.4.1" style="font-size:70%;">0/16 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.5"><span class="ltx_text" id="S5.T2.6.2.5.1" style="font-size:70%;">1/16 (6.25%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.6"><span class="ltx_text" id="S5.T2.6.2.6.1" style="font-size:70%;">0/22 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.2.7"><span class="ltx_text" id="S5.T2.6.2.7.1" style="font-size:70%;">0/1 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.6.2.8"><span class="ltx_text" id="S5.T2.6.2.8.1" style="font-size:70%;">2/344 (0.58%)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.6.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.6.3.1">
<span class="ltx_text ltx_font_smallcaps" id="S5.T2.6.3.1.1" style="font-size:70%;">GPT-4</span><span class="ltx_text" id="S5.T2.6.3.1.2" style="font-size:70%;"> Dockerfile</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.2"><span class="ltx_text" id="S5.T2.6.3.2.1" style="font-size:70%;">13/280 (4.64%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.3"><span class="ltx_text" id="S5.T2.6.3.3.1" style="font-size:70%;">2/9 (22.22%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.4"><span class="ltx_text" id="S5.T2.6.3.4.1" style="font-size:70%;">1/16 (6.25%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.5"><span class="ltx_text" id="S5.T2.6.3.5.1" style="font-size:70%;">4/16 (25%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.6"><span class="ltx_text" id="S5.T2.6.3.6.1" style="font-size:70%;">1/22 (4.55%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.3.7"><span class="ltx_text" id="S5.T2.6.3.7.1" style="font-size:70%;">0/1 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.6.3.8"><span class="ltx_text" id="S5.T2.6.3.8.1" style="font-size:70%;">21/344 (6.10%)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.6.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.6.4.1">
<span class="ltx_text ltx_font_smallcaps" id="S5.T2.6.4.1.1" style="font-size:70%;">GPT-4</span><span class="ltx_text" id="S5.T2.6.4.1.2" style="font-size:70%;"> Dockerfile &amp; build output</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.2"><span class="ltx_text" id="S5.T2.6.4.2.1" style="font-size:70%;">105/280 (37.50%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.3"><span class="ltx_text ltx_font_bold" id="S5.T2.6.4.3.1" style="font-size:70%;">4/9 (44.44%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.4"><span class="ltx_text" id="S5.T2.6.4.4.1" style="font-size:70%;">2/16 (12.50%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.5"><span class="ltx_text" id="S5.T2.6.4.5.1" style="font-size:70%;">6/16 (37.50%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.6"><span class="ltx_text" id="S5.T2.6.4.6.1" style="font-size:70%;">13/22 (59.09%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.6.4.7"><span class="ltx_text" id="S5.T2.6.4.7.1" style="font-size:70%;">0/1 (0%)</span></td>
<td class="ltx_td ltx_align_center" id="S5.T2.6.4.8"><span class="ltx_text" id="S5.T2.6.4.8.1" style="font-size:70%;">130/344 (37.79%)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.6.5">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.6.5.1"><span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S5.T2.6.5.1.1" style="font-size:70%;">FlakiDock<span class="ltx_text ltx_font_upright" id="S5.T2.6.5.1.1.1"> (w/o feedback loop)</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.2"><span class="ltx_text" id="S5.T2.6.5.2.1" style="font-size:70%;">190/280 (67.86%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.3"><span class="ltx_text" id="S5.T2.6.5.3.1" style="font-size:70%;">2/9 (22.22%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.4"><span class="ltx_text" id="S5.T2.6.5.4.1" style="font-size:70%;">1/16 (6.25%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.5"><span class="ltx_text" id="S5.T2.6.5.5.1" style="font-size:70%;">6/16 (37.50%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.6"><span class="ltx_text ltx_font_bold" id="S5.T2.6.5.6.1" style="font-size:70%;">18/22 (81.82%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.5.7"><span class="ltx_text" id="S5.T2.6.5.7.1" style="font-size:70%;">0/1 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.6.5.8"><span class="ltx_text" id="S5.T2.6.5.8.1" style="font-size:70%;">217/344 (63.08%)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.6.6">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S5.T2.6.6.1"><span class="ltx_text ltx_font_bold ltx_font_smallcaps" id="S5.T2.6.6.1.1" style="font-size:70%;">FlakiDock<span class="ltx_text ltx_font_upright" id="S5.T2.6.6.1.1.1"> (w feedback loop)</span></span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.2"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.2.1" style="font-size:70%;">216/280 (77.14%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.3"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.3.1" style="font-size:70%;">4/9 (44.44%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.4"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.4.1" style="font-size:70%;">6/16 (37.50%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.5"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.5.1" style="font-size:70%;">9/16 (56.25%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.6"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.6.1" style="font-size:70%;">18/22 (81.82%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.6.6.7"><span class="ltx_text" id="S5.T2.6.6.7.1" style="font-size:70%;">0/1 (0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.6.6.8"><span class="ltx_text ltx_font_bold" id="S5.T2.6.6.8.1" style="font-size:70%;">253/344 (73.55%)</span></td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS2.5.1.1">V-B</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS2.6.2">Experimental Setup</span>
</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">We initially identified 798 Dockerfiles exhibiting flaky behavior. Out of these, 100 Dockerfiles were reserved for <em class="ltx_emph ltx_font_italic" id="S5.SS2.p1.1.1">repair demonstration</em> purposes. This left us with 698 Dockerfiles showing signs of flakiness during our nine-month longitudinal study. However, for the evaluation phase, we focused only on those Dockerfiles that continued to exhibit flakiness at the time of evaluation. Consequently, we evaluated FlakiDock on 344 Dockerfiles, as some causes of flakiness had been resolved over time.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS3.5.1.1">V-C</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS3.6.2">Baselines</span>
</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">We compare <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.p1.1.1">FlakiDock</span> with <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.p1.1.2">Parfum</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>]</cite> and LLM-only prompting to repair Dockerfile flakiness. We chose <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.p1.1.3">Parfum</span> as it is a recent work offering automated repairs for Dockerfile smells. In contrast, other techniques, such as <span class="ltx_text ltx_font_typewriter" id="S5.SS3.p1.1.4">Shipwright</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, Hadolint <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>]</cite>, and Binnacle <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>]</cite> focus on detecting error patterns or smells and require manual intervention for their operation. For <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.p1.1.5">GPT-4</span> Dockerfile Only, we invoke the <span class="ltx_text ltx_font_smallcaps" id="S5.SS3.p1.1.6">GPT-4</span> model to generate repairs based solely on the Dockerfile content. Following that, we include build output to provide more context for the LLM to generate repair.</p>
</div>
<div class="ltx_para" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1">We measure the effectiveness using the <span class="ltx_text ltx_font_italic" id="S5.SS3.p2.1.1">repair accuracy</span> metric, which represents the percentage of genuine repairs produced. A proposed Dockerfile is considered a genuine repair if its build is successful across <math alttext="n" class="ltx_Math" display="inline" id="S5.SS3.p2.1.m1.1"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p2.1.m1.1d">italic_n</annotation></semantics></math> builds.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text" id="S5.SS4.5.1.1">V-D</span> </span><span class="ltx_text ltx_font_italic" id="S5.SS4.6.2">Results</span>
</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S5.T2" title="TABLE II ‣ V-A Implementation ‣ V Evaluation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">II</span></a> shows <em class="ltx_emph ltx_font_italic" id="S5.SS4.p1.1.1">repair accuracy</em> for each method across various flakiness categories.
Overall, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p1.1.2">FlakiDock</span> (With Feedback Loop) achieves the highest success rate of 73.55%, underscoring the advantage of iterative refinement in enhancing repair accuracy.
<span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p1.1.3">Parfum</span> exhibits the lowest accuracy of 0.58%, indicating its limited ability to address complex errors. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p1.1.4">GPT-4</span> Dockerfile Only slightly improves this with a 6.10% success rate, while GPT-4 Dockerfile &amp; Build Output significantly increases effectiveness to 37.79%, highlighting the value of additional context from build outputs.</p>
</div>
<div class="ltx_para" id="S5.SS4.p2">
<p class="ltx_p" id="S5.SS4.p2.1">Next, we present the results per error category.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p3">
<p class="ltx_p" id="S5.SS4.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p3.1.1">Dependency-Related Errors (DEP).</span>
The repair accuracy for DEP errors with <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p3.1.2">Parfum</span> is 0% because it fails to handle the complex and dynamic nature of dependencies effectively. It relies on predefined rules that do not accommodate the diverse issues that arise from dependency changes, such as version mismatches and missing libraries. On the other hand, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p3.1.3">GPT-4</span> Dockerfile Only achieves a 4.64% accuracy. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p3.1.4">GPT-4</span> Dockerfile &amp; Build Output increases the success rate to 37.50%, demonstrating the value of incorporating build output information to provide context for the LLM to identify and resolve dependency issues more effectively. Without a feedback loop, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p3.1.5">FlakiDock</span> achieves a 67.86% repair accuracy, significantly outperforming the other methods by utilizing both static and dynamic information. With the inclusion of the feedback loop, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p3.1.6">FlakiDock</span> achieves the highest accuracy of 77.14%, highlighting the advantage of iterative refinement.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p4">
<p class="ltx_p" id="S5.SS4.p4.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p4.1.1">Server Connectivity Errors (CON).</span> <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.2">Parfum</span> manages a success rate of 11.11% for this error category. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.3">GPT-4</span> Dockerfile Only achieves a 22.22% success rate, providing moderate improvement over <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.4">Parfum</span> by utilizing LLMs to interpret server connectivity issues directly from the Dockerfile content. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.5">GPT-4</span> Dockerfile &amp; Build Output improves the success rate to 44.44%, as the inclusion of build output provides additional context, allowing the LLM to understand the specific nature of server connectivity errors more effectively. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.6">FlakiDock</span> without the feedback loop maintains the success rate at 22.22%, suggesting that the iterative feedback process is crucial for improving performance in this category. Finally, with the feedback loop, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p4.1.7">FlakiDock</span> achieves a 44.44% success rate, comparable to the best LLM-based method.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p5">
<p class="ltx_p" id="S5.SS4.p5.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p5.1.1">Security &amp; Authentication Errors (SEC).</span> <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p5.1.2">Parfum</span> is unable to repair any issues as shown by a 0% repair accuracy. This highlights its inability to tackle the complexity of security and authentication problems, which often require more nuanced approaches than static rules can provide. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p5.1.3">GPT-4</span> Dockerfile only achieves a 6.25% success rate, showing a slight improvement by applying general LLM capabilities to security-related fixes, although its effectiveness is still limited due to the lack of detailed context. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p5.1.4">GPT-4</span> Dockerfile &amp; Build Output sees a marginal increase in success to 12.50%, indicating some benefit from using additional build information to understand the security issues better. Furthermore, without a feedback loop, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p5.1.5">FlakiDock</span> remains at a 6.25% success rate, indicating that the iterative feedback process is essential for tackling these complex issues effectively. With the feedback loop incorporated, <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p5.1.6">FlakiDock</span> achieves the highest repair accuracy of 37.50%.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p6">
<p class="ltx_p" id="S5.SS4.p6.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p6.1.1">Package Manager-Related Errors (PMG).</span> <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p6.1.2">Parfum</span> achieves a success rate of 6.25%, indicating a limited capacity to handle these flakiness category. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p6.1.3">GPT-4</span> Dockerfile Only performs better, with a 25% success rate. This improvement is due to the LLM’s general knowledge of package management, which enables it to address some common package-related issues based on Dockerfile content. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p6.1.4">GPT-4</span> Dockerfile &amp; Build Output further improves the success rate to 37.50% by leveraging build output data to provide a clearer understanding of package manager-related problems. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p6.1.5">FlakiDock</span> without a feedback loop maintains this 37.50% success rate. However, when the feedback loop is incorporated, the highest accuracy achieved is 56.25</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p7">
<p class="ltx_p" id="S5.SS4.p7.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p7.1.1">Environment Errors (ENV).</span> <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p7.1.2">Parfum</span> fails to address any Environment Errors, resulting in a 0% success rate. We hypothesize that a static rule-based approach is inadequate for managing dynamic environmental issues, such as configuration changes and external environment dependencies. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p7.1.3">GPT-4</span> Dockerfile achieves a 4.55% success rate, reflecting a minimal ability to handle environmental factors due to its reliance solely on Dockerfile content without additional context. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p7.1.4">GPT-4</span> Dockerfile &amp; Build Output significantly improves the success rate to 59.09%, benefiting from the extra context provided by build output data, which helps the LLM understand and resolve environmental errors more effectively. <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p7.1.5">FlakiDock</span> achieves an 81.82% success rate even without a feedback loop, demonstrating its strong performance in addressing environmental errors. However, incorporating a feedback loop does not provide additional improvement.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.p8">
<p class="ltx_p" id="S5.SS4.p8.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.p8.1.1">Filesystem-Related Errors (FS).</span> For this flakiness category, all methods, including <span class="ltx_text ltx_font_smallcaps" id="S5.SS4.p8.1.2">FlakiDock</span>, fail to fix any flakiness. This consistent failure indicates that current techniques are inadequate in addressing the unique challenges posed by these errors.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span class="ltx_text ltx_font_smallcaps" id="S6.1.1">Threats To Validity</span>
</h2>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.1"><span class="ltx_text ltx_font_bold" id="S6.p1.1.1">Choice of Subjects.</span> The choice of Dockerfiles for our study can inherently introduce a bias, potentially influencing the results of our research. To address this, we employed a dataset from a prior study <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, encompassing 8132 Dockerfiles. However, the dataset includes Dockerfiles from repositories with ten or more stars, which one might find in popular GitHub repositories, addressing the generalizability of our findings to a broader range of Dockerfiles.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p2">
<p class="ltx_p" id="S6.p2.1"><span class="ltx_text ltx_font_bold" id="S6.p2.1.1">Duration of the Study.</span> The duration of our study could potentially influence our findings, especially with respect to detecting Dockerfile flakiness and temporal failures. To address this, we conducted our study over a nine-month period. This allowed us to observe the Dockerfiles over a significant period, during which updates and changes are likely to occur, potentially affecting their behavior. This extended period provided us with sufficient data to identify non-deterministic behaviors and temporal inconsistencies effectively.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p3">
<p class="ltx_p" id="S6.p3.1"><span class="ltx_text ltx_font_bold" id="S6.p3.1.1">Host Operating System.</span> The choice of operating system for Docker can affect the results. We used a stable version of Redhat 9 to ensure consistency, but this may limit the generalizability to other systems. Different Linux distributions, or versions, might show varying flakiness due to differences in package management and system libraries. Non-Linux hosts such as Windows or MacOS could exhibit different flakiness not captured in our study. By focusing on Redhat, we minimized environmental variability, isolating Dockerfile-specific flakiness. Future research could explore Dockerfile flakiness across diverse operating systems and versions.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.p4">
<p class="ltx_p" id="S6.p4.1"><span class="ltx_text ltx_font_bold" id="S6.p4.1.1">Repair Construction Bias.</span> As we generate the repair dataset, we might be biased in providing the repairs in a way that helps with other repairs. This bias could stem from the tendency to create repair patterns that are more easily generalizable, potentially overlooking unique or less common solutions. To alleviate this bias, we used repairs found from existing knowledge-sharing websites such as Stack Overflow, GitHub discussions, and the official Docker website.</p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span class="ltx_text ltx_font_smallcaps" id="S7.1.1">Related Work</span>
</h2>
<div class="ltx_para ltx_noindent" id="S7.p1">
<p class="ltx_p" id="S7.p1.1"><span class="ltx_text ltx_font_bold" id="S7.p1.1.1">Test Flakiness.</span> There is a wide array of techniques that have been proposed focusing on characterizing, detecting, and repairing flaky tests <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib32" title="">32</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib33" title="">33</a>]</cite>. Continuous integration research such as <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib34" title="">34</a>]</cite> has a strong overlap with test flakiness literature, evaluating the prevalence and impacts of test flakiness in systems that involve test executions. Flaky tests are also a concern in user interface testing <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib35" title="">35</a>]</cite>. We refer to a recent survey for a more comprehensive discussion on flaky tests <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib36" title="">36</a>]</cite>. In contrast, we are the first to examine flakiness from the perspective of Dockerfiles.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p2">
<p class="ltx_p" id="S7.p2.1"><span class="ltx_text ltx_font_bold" id="S7.p2.1.1">Studies on Dockerfiles.</span>
In Sections <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S1" title="I Introduction ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">I</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#S2" title="II Motivation ‣ Temporal Analysis and Repair of Flaky Dockerfiles"><span class="ltx_text ltx_ref_tag">II</span></a>, we presented the most recent works on Dockerfile analysis <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib8" title="">8</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>]</cite>. <span class="ltx_text ltx_font_smallcaps" id="S7.p2.1.2">FlakiDock</span> differentiates itself from existing Dockerfile smell detection tools <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib2" title="">2</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib7" title="">7</a>]</cite> and repair tools such as <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib4" title="">4</a>]</cite> by not only addressing static issues within Dockerfiles but also targeting the dynamic errors caused by the flakiness of Dockerfiles. Unlike existing tools that primarily rely on pre-defined static analysis or require manual interventions while analyzing dynamic information <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib6" title="">6</a>]</cite>, <span class="ltx_text ltx_font_smallcaps" id="S7.p2.1.3">FlakiDock</span> uses LLMs and retrieval-augmented techniques, automatically analyzing both static and dynamic information. Furthermore, <span class="ltx_text ltx_font_smallcaps" id="S7.p2.1.4">FlakiDock</span> employs a feedback loop to incorporate false repairs to alleviate LLM mistakes.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p3">
<p class="ltx_p" id="S7.p3.1"><span class="ltx_text ltx_font_bold" id="S7.p3.1.1">Learning-based Program Repair.</span> Learning-based program repair has been extensively studied in the literature <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib37" title="">37</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib38" title="">38</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib39" title="">39</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib40" title="">40</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib41" title="">41</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib42" title="">42</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib43" title="">43</a>]</cite>. Unlike these approaches, which involve training task-specific models, <span class="ltx_text ltx_font_smallcaps" id="S7.p3.1.2">FlakiDock</span> uses a general-purpose LLM without the need for model training.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p4">
<p class="ltx_p" id="S7.p4.1"><span class="ltx_text ltx_font_bold" id="S7.p4.1.1">LLM-based Program Repair.</span> There has been increasing focus on applying LLMs to program repair tasks. Early studies focused on using prompts and error messages to generate source code repair in a single interaction with the model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib44" title="">44</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib27" title="">27</a>]</cite>. More recent techniques involve iterative approaches, querying the LLM multiple times and refining repairs based on feedback from previous attempts to repair source code<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib45" title="">45</a>]</cite>. In contrast, in this work, we leverage both static and dynamic information from Dockerfiles to provide the LLM, enhancing its ability to repair flakiness more effectively. By integrating retrieval-augmented generation techniques, we further ensure that the LLM is equipped with relevant examples and contextual knowledge, leading to more accurate and reliable repairs.</p>
</div>
</section>
<section class="ltx_section" id="S8">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VIII </span><span class="ltx_text ltx_font_smallcaps" id="S8.1.1">Conclusion</span>
</h2>
<div class="ltx_para" id="S8.p1">
<p class="ltx_p" id="S8.p1.1">This paper presents the first comprehensive study on Dockerfile flakiness, revealing that 9.81% of Dockerfiles exhibit flaky behavior, which impacts the reliability of CI/CD pipelines. We introduce the first taxonomy of Dockerfile flakiness and propose <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.1">FlakiDock</span>, a novel tool that leverages large language models, retrieval-augmented generation, dynamic analysis, and an iterative feedback loop for automatic Dockerfile flakiness repair. Our evaluation shows that <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.2">FlakiDock</span> achieves a 73.55% repair accuracy, outperforming existing tools like <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.3">Parfum</span> by 12,581% and <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.4">GPT-4</span> based prompting by 94.63%. These results highlight the effectiveness of <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.5">FlakiDock</span> in addressing Dockerfile flakiness. As part of our future work, we plan to extend <span class="ltx_text ltx_font_smallcaps" id="S8.p1.1.6">FlakiDock</span> to handle even more intricate build scenarios.</p>
</div>
</section>
<section class="ltx_section" id="S9">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IX </span><span class="ltx_text ltx_font_smallcaps" id="S9.1.1">Data Availability</span>
</h2>
<div class="ltx_para" id="S9.p1">
<p class="ltx_p" id="S9.p1.1">We have made our dataset, model, comparison framework, and <span class="ltx_text ltx_font_smallcaps" id="S9.p1.1.1">FlakiDock</span>’s implementation available <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2408.05379v1#bib.bib15" title="">15</a>]</cite> for the reproducibility of results. We further provide instructions for replicating our experimental setup.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
G. Rosa, S. Scalabrino, G. Robles, and R. Oliveto, “Not all dockerfile smells
are the same: An empirical evaluation of hadolint writing practices by
experts,” in <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 21st International Conference on
Mining Software Repositories</em>, ser. MSR ’24.   Association for Computing Machinery, 2024, p. 231–241.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
J. Henkel, C. Bird, S. K. Lahiri, and T. Reps, “Learning from, understanding,
and supporting devops artifacts for docker,” in <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">42nd International
Conference on Software Engineering</em>, ser. ICSE ’20.   Association for Computing Machinery, 2020, p. 38–49.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Y. Zhou, W. Zhan, Z. Li, T. Han, T. Chen, and H. Gall, “Drive: Dockerfile rule
mining and violation detection,” <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">ACM Transactions on Software
Engineering and Methodology</em>, vol. 33, no. 2, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
T. Durieux, “Empirical study of the docker smells impact on the image size,”
in <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the IEEE/ACM 46th International Conference on
Software Engineering</em>, ser. ICSE ’24.   Association for Computing Machinery, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
G. Rosa, S. Scalabrino, and R. Oliveto, “Fixing dockerfile smells: An
empirical study,” <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2208.09097</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
J. Henkel, D. Silva, L. Teixeira, M. d’Amorim, and T. Reps, “Shipwright: A
human-in-the-loop system for dockerfile repair,” in <em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">43rd International
Conference on Software Engineering</em>, ser. ICSE ’21.   IEEE Press, 2021, p. 1148–1160.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Q.-C. Bui, M. Laukötter, and R. Scandariato, “Dockercleaner: Automatic repair
of security smells in dockerfiles,” in <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">2023 IEEE International
Conference on Software Maintenance and Evolution (ICSME)</em>, 2023, pp.
160–170.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
K. Eng and A. Hindle, “Revisiting dockerfiles in open source software over
time,” in <em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">2021 IEEE/ACM 18th International Conference on Mining
Software Repositories (MSR)</em>, 2021, pp. 449–459.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
“Haskell dockerfile linter,” <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/hadolint/hadolint" title="">https://github.com/hadolint/hadolint</a>,
2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
“Linter and validator for dockerfile,”
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/replicatedhq/dockerfilelint" title="">https://github.com/replicatedhq/dockerfilelint</a>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Q. Luo, F. Hariri, L. Eloussi, and D. Marinov, “An empirical analysis of flaky
tests,” in <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 22nd ACM SIGSOFT International Symposium
on Foundations of Software Engineering</em>, ser. FSE 2014.   Association for Computing Machinery, 2014, p. 643–653.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
R. Wang, Y. Chen, and W. Lam, “ipflakies: a framework for detecting and fixing
python order-dependent flaky tests,” in <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the ACM/IEEE
44th International Conference on Software Engineering: Companion
Proceedings</em>, ser. ICSE ’22.   Association for Computing Machinery, 2022, p. 120–124.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
A. Shi, W. Lam, R. Oei, T. Xie, and D. Marinov, “ifixflakies: a framework for
automatically fixing order-dependent flaky tests,” in <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of
the 2019 27th ACM Joint Meeting on European Software Engineering Conference
and Symposium on the Foundations of Software Engineering</em>, ser. ESEC/FSE
2019.   Association for Computing
Machinery, 2019, p. 545–555.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
W. Lam, P. Godefroid, S. Nath, A. Santhiar, and S. Thummalapenta, “Root
causing flaky tests in a large-scale industrial setting,” in
<em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 28th ACM SIGSOFT International Symposium on Software
Testing and Analysis</em>, ser. ISSTA 2019.   Association for Computing Machinery, 2019, p. 101–111.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
“Flakidock,” <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/flakidock/docker-flakiness-study" title="">https://github.com/flakidock/docker-flakiness-study</a>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
P. Denny, V. Kumar, and N. Giacaman, “Conversing with copilot: Exploring
prompt engineering for solving cs1 problems using natural language,” in
<em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">ACM Technical Symposium on Computer Science Education V. 1</em>.   ACM, 2023, p. 1136–1142.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
S. I. Ross, F. Martinez, S. Houde, M. Muller, and J. D. Weisz, “The
programmer’s assistant: Conversational interaction with a large language
model for software development,” in <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">International Conference on
Intelligent User Interfaces</em>.   ACM,
2023, p. 491–514.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Z. Xie, Y. Chen, C. Zhi, S. Deng, and J. Yin, “Chatunitest: a chatgpt-based
automated unit test generation tool,” <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv:2305.04764</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
H. Tian, W. Lu, T. O. Li, X. Tang, S.-C. Cheung, J. Klein, and T. F.
Bissyandé, “Is chatgpt the ultimate programming assistant–how far is
it?” <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv:2304.11938</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
C. S. Xia and L. Zhang, “Keep the conversation going: Fixing 162 out of 337
bugs for 0.42 each using chatgpt,” <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv:2304.00385</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
S. Lertbanjongam, B. Chinthanet, T. Ishio, R. G. Kula, P. Leelaprute,
B. Manaskasemsak, A. Rungsawang, and K. Matsumoto, “An empirical evaluation
of competitive programming ai: A case study of alphacode,”
<em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv:2208.08603</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
H. Pearce, B. Ahmad, B. Tan, B. Dolan-Gavitt, and R. Karri, “An empirical
cybersecurity evaluation of github copilot’s code contributions,”
<em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">arXiv e-prints</em>, pp. arXiv–2108, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
N. Nguyen and S. Nadi, “An empirical evaluation of GitHub Copilot’s code
suggestions,” in <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">19th ACM International Conference on Mining Software
Repositories (MSR)</em>, 2022, pp. 1–5.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
P. Vaithilingam, T. Zhang, and E. L. Glassman, “Expectation vs. experience:
Evaluating the usability of code generation tools powered by large language
models,” in <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">Extended Abstracts of the 2022 CHI Conference on Human
Factors in Computing Systems</em>.   ACM,
2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
A. M. Dakhel, V. Majdinasab, A. Nikanjam, F. Khomh, M. C. Desmarais, Z. Ming
<em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">et al.</em>, “Github copilot ai pair programmer: Asset or liability?”
<em class="ltx_emph ltx_font_italic" id="bib.bib25.2.2">arXiv:2206.15331</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
S. Imai, “Is github copilot a substitute for human pair-programming? an
empirical study,” in <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">44th International Conference on Software
Engineering (ICSE-Companion)</em>, 2022, pp. 319–321.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
N. Nashid, M. Sintaha, and A. Mesbah, “Retrieval-based prompt selection for
code-related few-shot learning,” in <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">2023 IEEE/ACM 45th International
Conference on Software Engineering (ICSE)</em>, 2023, pp. 2450–2462.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
T. Ahmed, K. S. Pai, P. Devanbu, and E. Barr, “Automatic semantic augmentation
of language model prompts (for code summarization),” in <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Proceedings of
the IEEE/ACM 46th International Conference on Software Engineering</em>, ser.
ICSE ’24.   Association for Computing
Machinery, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
N. Nashid, T. Shabani, P. Alian, and A. Mesbah, “Contextual api completion for
unseen repositories using llms,” <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">arXiv preprint arXiv:2405.04600</em>,
2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
P. Liu, W. Yuan, J. Fu, Z. Jiang, H. Hayashi, and G. Neubig, “Pre-train,
prompt, and predict: A systematic survey of prompting methods in natural
language processing,” <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">arXiv:2107.13586</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
A. Neelakantan, T. Xu, R. Puri, A. Radford, J. M. Han, J. Tworek, Q. Yuan,
N. Tezak, J. W. Kim, C. Hallacy <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">et al.</em>, “Text and code embeddings by
contrastive pre-training,” <em class="ltx_emph ltx_font_italic" id="bib.bib31.2.2">arXiv preprint arXiv:2201.10005</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Y. Chen, “Flakiness repair in the era of large language models,” in
<em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Proceedings of the 2024 IEEE/ACM 46th International Conference on
Software Engineering: Companion Proceedings</em>, ser. ICSE-Companion ’24.   Association for Computing Machinery, 2024,
p. 441–443.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
S. Fatima, H. Hemmati, and L. Briand, “Flakyfix: Using large language models
for predicting flaky test fix categories and test code repair,” 2024.
[Online]. Available: <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2307.00012" title="">https://arxiv.org/abs/2307.00012</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
T. Durieux, C. Le Goues, M. Hilton, and R. Abreu, “Empirical study of
restarted and flaky builds on travis ci,” in <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of the 17th
International Conference on Mining Software Repositories</em>, ser. MSR
’20.   Association for Computing
Machinery, 2020, p. 254–264.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
A. Romano, Z. Song, S. Grandhi, W. Yang, and W. Wang, “An empirical analysis
of ui-based flaky tests,” in <em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">2021 IEEE/ACM 43rd International
Conference on Software Engineering (ICSE)</em>.   IEEE, 2021, pp. 1585–1597.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
O. Parry, G. M. Kapfhammer, M. Hilton, and P. McMinn, “A survey of flaky
tests,” <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">ACM Transactions on Software Engineering and Methodology
(TOSEM)</em>, vol. 31, no. 1, pp. 1–74, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Z. Chen, S. J. Kommrusch, M. Tufano, L. Pouchet, D. Poshyvanyk, and
M. Monperrus, “Sequencer: Sequence-to-sequence learning for end-to-end
program repair,” <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">IEEE Transactions on Software Engineering</em>, pp. 1–1,
2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
M. Sintaha, N. Noor, and A. Mesbah, “Dual slicing-based context for learning
bug fixes,” <em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Transactions on Software Engineering and Methodology
(TOSEM)</em>, p. 27 pages, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
N. Nashid, M. Sintaha, and A. Mesbah, “Embedding context as code dependencies
for neural program repair,” in <em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">2023 IEEE Conference on Software
Testing, Verification and Validation (ICST)</em>.   IEEE, 2023, pp. 95–106.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
M. Namavar, N. Nashid, and A. Mesbah, “A controlled experiment of different
code representations for learning-based program repair,” <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Empirical
Software Engineering</em>, vol. 27, no. 7, p. 190, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
M. Yasunaga and P. Liang, “Graph-based, self-supervised program repair from
diagnostic feedback,” in <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">37th International Conference on Machine
Learning</em>.   JMLR.org, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
B. Tang, B. Li, L. Bo, X. Wu, S. Cao, and X. Sun, “Grasp: Graph-to-sequence
learning for automated program repair,” in <em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">2021 IEEE 21st
International Conference on Software Quality, Reliability and Security
(QRS)</em>.   IEEE, 2021, pp. 819–828.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Y. Ding, B. Ray, P. Devanbu, and V. J. Hellendoorn, “Patching as translation:
The data and the metaphor,” in <em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">35th International Conference on
Automated Software Engineering</em>.   ACM,
2020, p. 275–286.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
C. S. Xia, Y. Wei, and L. Zhang, “Automated program repair in the era of large
pre-trained language models,” in <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">2023 IEEE/ACM 45th International
Conference on Software Engineering (ICSE)</em>.   IEEE, 2023, pp. 1482–1494.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
C. S. Xia and L. Zhang, “Keep the conversation going: Fixing 162 out of 337
bugs for $0.42 each using chatgpt,” <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">arXiv preprint arXiv:2304.00385</em>,
2023.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug  9 23:08:12 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
