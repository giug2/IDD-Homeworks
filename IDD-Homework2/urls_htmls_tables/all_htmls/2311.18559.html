<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2311.18559] FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning</title><meta property="og:description" content="Personalized federated learning (pFL) enables collaborative training among multiple clients to enhance the capability of customized local models. In pFL, clients may have heterogeneous (also known as non-IID) data, whi…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2311.18559">

<!--Generated on Wed Feb 28 03:25:11 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">FediOS: Decoupling Orthogonal Subspaces for Personalization
<br class="ltx_break">in Feature-skew Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Lingzhi Gao<sup id="id7.7.id1" class="ltx_sup"><span id="id7.7.id1.1" class="ltx_text ltx_font_italic">1∗</span></sup>   Zexi Li<sup id="id8.8.id2" class="ltx_sup">1</sup>   Yang Lu<sup id="id9.9.id3" class="ltx_sup">2</sup>   Chao Wu<sup id="id10.10.id4" class="ltx_sup"><span id="id10.10.id4.1" class="ltx_text ltx_font_italic">1</span></sup>
<br class="ltx_break"><sup id="id11.11.id5" class="ltx_sup">1</sup>Zhejiang University  <sup id="id12.12.id6" class="ltx_sup">2</sup>Xiamen University 
<br class="ltx_break"><span id="id13.13.id7" class="ltx_text ltx_font_typewriter" style="font-size:90%;">{lingzhigao,zexi.li,chao.wu}@zju.edu.cn</span> <span id="id14.14.id8" class="ltx_text ltx_font_typewriter" style="font-size:90%;">luyang@xmu.edu.cn</span>
</span><span class="ltx_author_notes">Equal contributions.Corresponding author.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id15.id1" class="ltx_p">Personalized federated learning (pFL) enables collaborative training among multiple clients to enhance the capability of customized local models. In pFL, clients may have heterogeneous (also known as non-IID) data, which poses a key challenge in how to decouple the data knowledge into generic knowledge for global sharing and personalized knowledge for preserving local personalization. A typical way of pFL focuses on label distribution skew, and they adopt a decoupling scheme where the model is split into a common feature extractor and two prediction heads (generic and personalized).
However, such a decoupling scheme cannot solve the essential problem of feature skew heterogeneity,
because a common feature extractor cannot decouple the generic and personalized features.
Therefore, in this paper, we rethink the architecture decoupling design for feature-skew pFL and propose an effective pFL method called FediOS.
In FediOS, we reformulate the decoupling into two feature extractors (generic and personalized) and one shared prediction head. Orthogonal projections are used for clients to map the generic features into one common subspace and scatter the personalized features into different subspaces to achieve decoupling for them.
In addition, a shared prediction head is trained to balance the importance of generic and personalized features during inference. Extensive experiments on four vision datasets demonstrate our method reaches state-of-the-art pFL performances under feature skew heterogeneity.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<figure id="S1.F1" class="ltx_figure"><img src="/html/2311.18559/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="230" height="197" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.12.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.13.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Feature visualization of the proposed FediOS.<span id="S1.F1.13.2.1" class="ltx_text ltx_font_medium"> Three clients with the same class (small mammals) but different feature spaces (<span id="S1.F1.13.2.1.1" class="ltx_text" style="color:#CCCC33;">hamster</span>, <span id="S1.F1.13.2.1.2" class="ltx_text" style="color:#FFBFBF;">rabbits</span>, and <span id="S1.F1.13.2.1.3" class="ltx_text" style="color:#FF8000;">squirrels</span>). <span id="S1.F1.13.2.1.4" class="ltx_text ltx_font_italic">It is found that FediOS can effectively decouple generic and personalized features.</span> According to small mammals, FediOS extracts the common </span>generic features<span id="S1.F1.13.2.2" class="ltx_text ltx_font_medium"> on the faces (mouths/eyes) and fur (color/texture). For the </span>personalized features<span id="S1.F1.13.2.3" class="ltx_text ltx_font_medium">, they are decoupled as follows: <span id="S1.F1.13.2.3.1" class="ltx_text" style="color:#CCCC33;">hamster</span>–the small and pink feet; <span id="S1.F1.13.2.3.2" class="ltx_text" style="color:#FFBFBF;">rabbits</span>–the big ears; <span id="S1.F1.13.2.3.3" class="ltx_text" style="color:#FF8000;">squirrels</span>–the furry tail and the relatively long feet.</span></span></figcaption>
</figure>
<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>, <a href="#bib.bib25" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">25</span></a>, <a href="#bib.bib17" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">17</span></a>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">37</span></a>]</cite> is a distributed machine learning paradigm that enables collaborative training among multiple clients under the coordination of a central server. Unlike centralized learning, FL does not collect client data, therefore preserving data privacy and ownership <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">25</span></a>, <a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>]</cite>, also, it is communication-efficient <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>, <a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">4</span></a>]</cite>.</p>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2311.18559/assets/x2.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="214" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F2.7.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S1.F2.8.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Comparison of architecture decoupling designs.<span id="S1.F2.8.2.1" class="ltx_text ltx_font_medium"> </span>(a)<span id="S1.F2.8.2.2" class="ltx_text ltx_font_medium"> Vanilla FedAvg without decoupling. </span>(b)<span id="S1.F2.8.2.3" class="ltx_text ltx_font_medium"> Previous pFL methods decouple the prediction heads which may be ineffective under feature skew. </span>(c)<span id="S1.F2.8.2.4" class="ltx_text ltx_font_medium"> Our proposed FediOS decouples feature extractors through orthogonal subspaces. </span>(d)<span id="S1.F2.8.2.5" class="ltx_text ltx_font_medium"> Personalization performances under feature skew (Office-Caltech-10 with 4 clients). It is shown that prediction-head-decoupled methods have marginal improvements over FedAvg while our feature-extractor-decoupled FediOS have significant results.</span></span></figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In FL, personalized federated learning (pFL) aims to improve the capability of clients’ customized models through federated training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">19</span></a>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">37</span></a>, <a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite>. pFL addresses the concerns about why the clients need to join FL training (i.e., motivation) and what can they get from the FL training (i.e., incentive and credit). It has wide applications in computer vision, such as
image classification <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">33</span></a>, <a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>, image segmentation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">41</span></a>, <a href="#bib.bib9" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">9</span></a>]</cite>, and medical images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">5</span></a>, <a href="#bib.bib49" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">49</span></a>]</cite>.
However, data heterogeneity is a key challenge in pFL, because different clients may have diverse preferences and user behaviors and, as a result, generate data that are non-IID with each other <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">40</span></a>, <a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">21</span></a>]</cite>. For learning and optimization, data heterogeneity means that clients have diverse learning objectives that are <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">partially in common but partially inconsistent</span>. To realize better personalization, a fundamental research question is posted:</p>
</div>
<div id="S1.p3" class="ltx_para ltx_noindent">
<p id="S1.p3.1" class="ltx_p"><em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">How to decouple the data knowledge into generic knowledge for global sharing and personalized knowledge for preserving local personalization?</em></p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.5" class="ltx_p">To answer the question, we need to understand how data heterogeneity emerges in practice.
Mainly, there are two types of data heterogeneity: <span id="S1.p4.5.1" class="ltx_text ltx_font_bold">(a) label distribution skew</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">47</span></a>, <a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a>, <a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">21</span></a>]</cite> which is described as the heterogeneity of <math id="S1.p4.1.m1.1" class="ltx_Math" alttext="\mathcal{P}(y)" display="inline"><semantics id="S1.p4.1.m1.1a"><mrow id="S1.p4.1.m1.1.2" xref="S1.p4.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.p4.1.m1.1.2.2" xref="S1.p4.1.m1.1.2.2.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="S1.p4.1.m1.1.2.1" xref="S1.p4.1.m1.1.2.1.cmml">​</mo><mrow id="S1.p4.1.m1.1.2.3.2" xref="S1.p4.1.m1.1.2.cmml"><mo stretchy="false" id="S1.p4.1.m1.1.2.3.2.1" xref="S1.p4.1.m1.1.2.cmml">(</mo><mi id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml">y</mi><mo stretchy="false" id="S1.p4.1.m1.1.2.3.2.2" xref="S1.p4.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><apply id="S1.p4.1.m1.1.2.cmml" xref="S1.p4.1.m1.1.2"><times id="S1.p4.1.m1.1.2.1.cmml" xref="S1.p4.1.m1.1.2.1"></times><ci id="S1.p4.1.m1.1.2.2.cmml" xref="S1.p4.1.m1.1.2.2">𝒫</ci><ci id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">\mathcal{P}(y)</annotation></semantics></math> among clients and <span id="S1.p4.5.2" class="ltx_text ltx_font_bold">(b) feature skew</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>, <a href="#bib.bib15" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">15</span></a>, <a href="#bib.bib30" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">30</span></a>]</cite> which refers to the heterogeneity of <math id="S1.p4.2.m2.1" class="ltx_Math" alttext="\mathcal{P}(x)" display="inline"><semantics id="S1.p4.2.m2.1a"><mrow id="S1.p4.2.m2.1.2" xref="S1.p4.2.m2.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.p4.2.m2.1.2.2" xref="S1.p4.2.m2.1.2.2.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="S1.p4.2.m2.1.2.1" xref="S1.p4.2.m2.1.2.1.cmml">​</mo><mrow id="S1.p4.2.m2.1.2.3.2" xref="S1.p4.2.m2.1.2.cmml"><mo stretchy="false" id="S1.p4.2.m2.1.2.3.2.1" xref="S1.p4.2.m2.1.2.cmml">(</mo><mi id="S1.p4.2.m2.1.1" xref="S1.p4.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S1.p4.2.m2.1.2.3.2.2" xref="S1.p4.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.p4.2.m2.1b"><apply id="S1.p4.2.m2.1.2.cmml" xref="S1.p4.2.m2.1.2"><times id="S1.p4.2.m2.1.2.1.cmml" xref="S1.p4.2.m2.1.2.1"></times><ci id="S1.p4.2.m2.1.2.2.cmml" xref="S1.p4.2.m2.1.2.2">𝒫</ci><ci id="S1.p4.2.m2.1.1.cmml" xref="S1.p4.2.m2.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.2.m2.1c">\mathcal{P}(x)</annotation></semantics></math> or <math id="S1.p4.3.m3.1" class="ltx_Math" alttext="\mathcal{P}(x|y)" display="inline"><semantics id="S1.p4.3.m3.1a"><mrow id="S1.p4.3.m3.1.1" xref="S1.p4.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.p4.3.m3.1.1.3" xref="S1.p4.3.m3.1.1.3.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="S1.p4.3.m3.1.1.2" xref="S1.p4.3.m3.1.1.2.cmml">​</mo><mrow id="S1.p4.3.m3.1.1.1.1" xref="S1.p4.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S1.p4.3.m3.1.1.1.1.2" xref="S1.p4.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S1.p4.3.m3.1.1.1.1.1" xref="S1.p4.3.m3.1.1.1.1.1.cmml"><mi id="S1.p4.3.m3.1.1.1.1.1.2" xref="S1.p4.3.m3.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S1.p4.3.m3.1.1.1.1.1.1" xref="S1.p4.3.m3.1.1.1.1.1.1.cmml">|</mo><mi id="S1.p4.3.m3.1.1.1.1.1.3" xref="S1.p4.3.m3.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S1.p4.3.m3.1.1.1.1.3" xref="S1.p4.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.p4.3.m3.1b"><apply id="S1.p4.3.m3.1.1.cmml" xref="S1.p4.3.m3.1.1"><times id="S1.p4.3.m3.1.1.2.cmml" xref="S1.p4.3.m3.1.1.2"></times><ci id="S1.p4.3.m3.1.1.3.cmml" xref="S1.p4.3.m3.1.1.3">𝒫</ci><apply id="S1.p4.3.m3.1.1.1.1.1.cmml" xref="S1.p4.3.m3.1.1.1.1"><csymbol cd="latexml" id="S1.p4.3.m3.1.1.1.1.1.1.cmml" xref="S1.p4.3.m3.1.1.1.1.1.1">conditional</csymbol><ci id="S1.p4.3.m3.1.1.1.1.1.2.cmml" xref="S1.p4.3.m3.1.1.1.1.1.2">𝑥</ci><ci id="S1.p4.3.m3.1.1.1.1.1.3.cmml" xref="S1.p4.3.m3.1.1.1.1.1.3">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.3.m3.1c">\mathcal{P}(x|y)</annotation></semantics></math>, where <math id="S1.p4.4.m4.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S1.p4.4.m4.1a"><mi id="S1.p4.4.m4.1.1" xref="S1.p4.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S1.p4.4.m4.1b"><ci id="S1.p4.4.m4.1.1.cmml" xref="S1.p4.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.4.m4.1c">x</annotation></semantics></math> denotes the feature of data and <math id="S1.p4.5.m5.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S1.p4.5.m5.1a"><mi id="S1.p4.5.m5.1.1" xref="S1.p4.5.m5.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S1.p4.5.m5.1b"><ci id="S1.p4.5.m5.1.1.cmml" xref="S1.p4.5.m5.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.5.m5.1c">y</annotation></semantics></math> is the label <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Besides, in some less common cases such as clustered FL, heterogeneity of <math id="footnote1.m1.1" class="ltx_Math" alttext="\mathcal{P}(y|x)" display="inline"><semantics id="footnote1.m1.1b"><mrow id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="footnote1.m1.1.1.3" xref="footnote1.m1.1.1.3.cmml">𝒫</mi><mo lspace="0em" rspace="0em" id="footnote1.m1.1.1.2" xref="footnote1.m1.1.1.2.cmml">​</mo><mrow id="footnote1.m1.1.1.1.1" xref="footnote1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="footnote1.m1.1.1.1.1.2" xref="footnote1.m1.1.1.1.1.1.cmml">(</mo><mrow id="footnote1.m1.1.1.1.1.1" xref="footnote1.m1.1.1.1.1.1.cmml"><mi id="footnote1.m1.1.1.1.1.1.2" xref="footnote1.m1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="footnote1.m1.1.1.1.1.1.1" xref="footnote1.m1.1.1.1.1.1.1.cmml">|</mo><mi id="footnote1.m1.1.1.1.1.1.3" xref="footnote1.m1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="footnote1.m1.1.1.1.1.3" xref="footnote1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><times id="footnote1.m1.1.1.2.cmml" xref="footnote1.m1.1.1.2"></times><ci id="footnote1.m1.1.1.3.cmml" xref="footnote1.m1.1.1.3">𝒫</ci><apply id="footnote1.m1.1.1.1.1.1.cmml" xref="footnote1.m1.1.1.1.1"><csymbol cd="latexml" id="footnote1.m1.1.1.1.1.1.1.cmml" xref="footnote1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="footnote1.m1.1.1.1.1.1.2.cmml" xref="footnote1.m1.1.1.1.1.1.2">𝑦</ci><ci id="footnote1.m1.1.1.1.1.1.3.cmml" xref="footnote1.m1.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">\mathcal{P}(y|x)</annotation></semantics></math> is also considered <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">36</span></a>, <a href="#bib.bib11" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">11</span></a>, <a href="#bib.bib24" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">24</span></a>]</cite>.</span></span></span>. Label distribution skew and feature skew are both common in practice. Take the photo classification as an example, some phone users may like dogs more than cats, so they have more dog photos (label distribution skew); for dog lovers, according to the same label of “dog”, someone’s dog is a Shiba while another user has a Husky, and different breeds of dogs have different visual features (feature skew).</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Most previous works of pFL focus on label distribution skew <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>, <a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>, <a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a>]</cite>. To decouple the generic and personalized knowledge, they adopt a decoupling scheme where the model is split into a common feature extractor and two prediction heads (generic and personalized) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>, <a href="#bib.bib16" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">16</span></a>, <a href="#bib.bib44" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">44</span></a>]</cite> since the imbalance in labels will result in more drifts in the heads (e.g., for the classification task, the classifiers). The prediction-head-decoupled architecture is shown in Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (b). However, for feature skew heterogeneity, one common feature extractor cannot suit all clients with divergent feature spaces, and decoupling the heads cannot address the problem since the generic and personalized features are encoded by the feature extractors, not the heads.
In Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (d), it is revealed that the methods of decoupling the heads have marginal improvements over vanilla FedAvg under feature skew. Therefore, rethinking the architecture decoupling design in feature-skew pFL is urgently needed.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In this paper, we reckon <span id="S1.p6.1.1" class="ltx_text ltx_font_italic">instead of decoupling the heads, we need to decouple the feature extractors for feature-skew pFL</span>. But how to effectively and efficiently decouple the features? Inspired by the orthogonal projections in continual learning, we propose <span id="S1.p6.1.2" class="ltx_text ltx_font_bold">Fed</span>erated learning with decoupl<span id="S1.p6.1.3" class="ltx_text ltx_font_bold">i</span>ng <span id="S1.p6.1.4" class="ltx_text ltx_font_bold">O</span>rthogonal <span id="S1.p6.1.5" class="ltx_text ltx_font_bold">S</span>ubspaces (<span id="S1.p6.1.6" class="ltx_text ltx_font_bold">FediOS</span>). In FediOS, as illustrated in Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (c), orthogonal projections are used for clients to map the generic features into one common subspace and scatter the personalized features into different subspaces. All clients share identical generic projections, whereas their personalized projections are mutually orthogonal and also orthogonal to the generic projections. We also devise a loss to regularize and strengthen the orthogonality. In addition, a shared prediction head is trained to balance the importance of generic and personalized features during inference.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">By leveraging the orthogonal subspaces, our FediOS can effectively decouple generic and personalized features, and an intuitive example is presented in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. In the figure, for the class of small mammals, FediOS extracts common features as generic features such as faces (mouths/eyes) and fur (color/texture), meanwhile, it also decouples the diverse personalized features such as furry tails for squirrels and big ears for rabbits. Additionally, from Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (d), it is obvious that compared with previous decoupling schemes, FediOS can improve the personalization performances by a large margin under feature skew heterogeneity. We also note that the orthogonal projections in FediOS are set-and-fixed and learning-free, which is much more efficient than some feature disentanglement techniques that require training additional variational autoencoders (VAEs) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">31</span></a>, <a href="#bib.bib8" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">8</span></a>]</cite>.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">To sum up, our contributions are as follows.</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We rethink the architecture decoupling design in feature-skew pFL and propose to decouple feature extractors instead of classifiers.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We propose FediOS, which uses orthogonal projections to decouple generic and personalized features under the structure of dual feature extractors.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Extensive experiments on four vision datasets, Office-Caltech-10, DomainNet, Digits-Five, and CIFAR-100, validate that our FediOS reaches state-of-the-art personalization performances under feature skew. Interestingly, it can also improve the generalization by effective generic knowledge sharing through decoupling.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<div id="S2.p1" class="ltx_para ltx_noindent">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Federated Learning.</span>
Since FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>]</cite> is first proposed, many federated learning methods are then designed to tackle data heterogeneity among clients for better generalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">21</span></a>, <a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1</span></a>]</cite>, personalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">19</span></a>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">37</span></a>]</cite>, robustness <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">43</span></a>, <a href="#bib.bib42" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">42</span></a>, <a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a>]</cite>, fairness <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a>, <a href="#bib.bib46" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">46</span></a>]</cite>, and efficiency <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">12</span></a>, <a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">4</span></a>]</cite>. Besides personalization, the generalization of the global model is a key goal for FL training. It is deemed that better generalization of global models is the foundation of better personalization of local models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib27" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">27</span></a>]</cite>. To achieve better generalization, algorithms tackling data heterogeneity from the perspectives of server-side aggregation and client-side local updates are both needed. For server aggregation, ensemble distillation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">28</span></a>]</cite> and improved weighted aggregation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">26</span></a>, <a href="#bib.bib45" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">45</span></a>]</cite> are proposed; while for client updates, techniques like proximal descent <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">21</span></a>]</cite>, dynamic regularization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1</span></a>]</cite>, normalized gradients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">40</span></a>]</cite>, and classifier calibration <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">29</span></a>, <a href="#bib.bib27" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">27</span></a>]</cite> are tailored for resolving non-IID data, especially label distribution skew. For feature skew, a prototypical method based on prototype clustering is proposed to improve the generalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">15</span></a>]</cite>.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Personalized Federated Learning.</span>
Personalized federated learning aims to improve the customized capability of clients’ local models on the personalized local datasets <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">19</span></a>, <a href="#bib.bib37" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">37</span></a>]</cite>. Most of the previous works in pFL improve personalization under <span id="S2.p2.1.2" class="ltx_text ltx_font_bold">label distribution skew</span>: Architecture decoupling is first proposed in FedRep <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>]</cite> to boost personalization. In FedRep, the feature extractor and the prediction head are decoupled and the server only aggregates the feature extractors while keeping the heads to be local and personalized. Afterward, FedRoD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite> further strengthens the decoupling design, as presented in Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (b), it is proposed to have two prediction heads, one for generalization (G-Head) with balanced empirical loss and another one for personalization (P-Head) with vanilla loss. FedRoD aggregates the feature extractor and the G-Head and keeps the P-Head local. Following the prediction-head-decoupled scheme in Figure <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> (b), FedTHE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">16</span></a>]</cite> balances the prediction weights of two heads for test-time robust personalization, and FedCP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite> uses conditional policy to determine the proportion of global and local information within the two heads. Despite of its success in label skew, in this paper, we argue that the prediction-head-decoupled methods may not be effective enough under feature skew. Apart from decoupling, other methods are developed to improve personalization under label skew. FedBABU <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">33</span></a>]</cite> proposes to fix the parameters of the head during the training process and only needs to fine-tune it locally at the end. FedNH <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite> improves personalization through prototypes, that it uses the smoothing-averaged prototypes as the classification heads.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">For <span id="S2.p3.1.1" class="ltx_text ltx_font_bold">feature-skew personalization</span>, FedBN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite> keeps the Batch Normalization layers of each client model locally and uploads other parts of the model for aggregation to solve the impact of domain shift between clients.
pFedVEM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>]</cite> is a framework that estimates uncertainty and model deviation among clients to derive a confidence value. This value then regulates the classifier head’s weight during aggregation, facilitating the identification of common patterns and minimizing model discrepancies. In AlignFed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">50</span></a>]</cite>, the model on each client is separated into a personalized feature extractor and a
shared classifier and collaboration is conducted by sharing and aggregating feature prototypes. By aggregating heads instead of feature extractors, it is the first attempt to rethink the decoupling under feature skew. But AlignFed does not go further into the decoupling that it cannot effectively decouple generic and personalized features by using one personalized feature extractor.
It is notable that our method has a novel decoupling scheme compared with previous algorithms and it is shown to be effective and efficient in decoupling generic and personalized features.
</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Method</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Learning Objectives</h3>

<div id="S3.SS1.p1" class="ltx_para ltx_noindent">
<p id="S3.SS1.p1.4" class="ltx_p"><span id="S3.SS1.p1.4.1" class="ltx_text ltx_font_bold">Basic Settings.</span> We introduce a typical FL setting with <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">N</annotation></semantics></math> clients holding potentially feature-skew heterogeneous data partitions <math id="S3.SS1.p1.2.m2.3" class="ltx_Math" alttext="\mathcal{D}_{1},\dots,\mathcal{D}_{N}" display="inline"><semantics id="S3.SS1.p1.2.m2.3a"><mrow id="S3.SS1.p1.2.m2.3.3.2" xref="S3.SS1.p1.2.m2.3.3.3.cmml"><msub id="S3.SS1.p1.2.m2.2.2.1.1" xref="S3.SS1.p1.2.m2.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.2.2.1.1.2" xref="S3.SS1.p1.2.m2.2.2.1.1.2.cmml">𝒟</mi><mn id="S3.SS1.p1.2.m2.2.2.1.1.3" xref="S3.SS1.p1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.3.3.2.3" xref="S3.SS1.p1.2.m2.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p1.2.m2.3.3.2.4" xref="S3.SS1.p1.2.m2.3.3.3.cmml">,</mo><msub id="S3.SS1.p1.2.m2.3.3.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.3.3.2.2.2" xref="S3.SS1.p1.2.m2.3.3.2.2.2.cmml">𝒟</mi><mi id="S3.SS1.p1.2.m2.3.3.2.2.3" xref="S3.SS1.p1.2.m2.3.3.2.2.3.cmml">N</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.3b"><list id="S3.SS1.p1.2.m2.3.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2"><apply id="S3.SS1.p1.2.m2.2.2.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.2">𝒟</ci><cn type="integer" id="S3.SS1.p1.2.m2.2.2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.2.2.1.1.3">1</cn></apply><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">…</ci><apply id="S3.SS1.p1.2.m2.3.3.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.2.2.1.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.2">𝒟</ci><ci id="S3.SS1.p1.2.m2.3.3.2.2.3.cmml" xref="S3.SS1.p1.2.m2.3.3.2.2.3">𝑁</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.3c">\mathcal{D}_{1},\dots,\mathcal{D}_{N}</annotation></semantics></math>, respectively. For one data sample, we use <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">x</annotation></semantics></math> to notate the data features and <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">y</annotation></semantics></math> to denote the labels. The feature-skew heterogeneity among clients is defined as the following formulation:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.2" class="ltx_Math" alttext="\mathcal{P}_{i}(x|y)\neq\mathcal{P}_{j}(x|y),\forall i,j\in[N],i\neq j," display="block"><semantics id="S3.E1.m1.2a"><mrow id="S3.E1.m1.2.2.1"><mrow id="S3.E1.m1.2.2.1.1.2" xref="S3.E1.m1.2.2.1.1.3.cmml"><mrow id="S3.E1.m1.2.2.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.cmml"><mrow id="S3.E1.m1.2.2.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.1.cmml"><msub id="S3.E1.m1.2.2.1.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.1.1.1.1.1.3.2" xref="S3.E1.m1.2.2.1.1.1.1.1.3.2.cmml">𝒫</mi><mi id="S3.E1.m1.2.2.1.1.1.1.1.3.3" xref="S3.E1.m1.2.2.1.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.1.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S3.E1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.2.2.1.1.1.1.4" xref="S3.E1.m1.2.2.1.1.1.1.4.cmml">≠</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.3.2" xref="S3.E1.m1.2.2.1.1.1.1.3.3.cmml"><mrow id="S3.E1.m1.2.2.1.1.1.1.2.1.1" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.cmml"><msub id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.2" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.2.cmml">𝒫</mi><mi id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.3" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.3.cmml">j</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.2.cmml">​</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.1.cmml">|</mo><mi id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.2.2.1.1.1.1.3.2.3" xref="S3.E1.m1.2.2.1.1.1.1.3.3.cmml">,</mo><mrow id="S3.E1.m1.2.2.1.1.1.1.3.2.2" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2.cmml"><mo rspace="0.167em" id="S3.E1.m1.2.2.1.1.1.1.3.2.2.1" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2.1.cmml">∀</mo><mi id="S3.E1.m1.2.2.1.1.1.1.3.2.2.2" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2.2.cmml">i</mi></mrow></mrow></mrow><mo id="S3.E1.m1.2.2.1.1.2.3" xref="S3.E1.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.3.cmml"><mrow id="S3.E1.m1.2.2.1.1.2.2.1.1" xref="S3.E1.m1.2.2.1.1.2.2.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.2.2.1.1.2" xref="S3.E1.m1.2.2.1.1.2.2.1.1.2.cmml">j</mi><mo id="S3.E1.m1.2.2.1.1.2.2.1.1.1" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.cmml">∈</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.1.1.3.2" xref="S3.E1.m1.2.2.1.1.2.2.1.1.3.1.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.1.1.2.2.1.1.3.2.1" xref="S3.E1.m1.2.2.1.1.2.2.1.1.3.1.1.cmml">[</mo><mi id="S3.E1.m1.1.1" xref="S3.E1.m1.1.1.cmml">N</mi><mo stretchy="false" id="S3.E1.m1.2.2.1.1.2.2.1.1.3.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S3.E1.m1.2.2.1.1.2.2.2.3" xref="S3.E1.m1.2.2.1.1.2.2.3a.cmml">,</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.2.2.cmml"><mi id="S3.E1.m1.2.2.1.1.2.2.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.2.2.2.cmml">i</mi><mo id="S3.E1.m1.2.2.1.1.2.2.2.2.1" xref="S3.E1.m1.2.2.1.1.2.2.2.2.1.cmml">≠</mo><mi id="S3.E1.m1.2.2.1.1.2.2.2.2.3" xref="S3.E1.m1.2.2.1.1.2.2.2.2.3.cmml">j</mi></mrow></mrow></mrow><mo id="S3.E1.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.2b"><apply id="S3.E1.m1.2.2.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.3a.cmml" xref="S3.E1.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.2.2.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1"><neq id="S3.E1.m1.2.2.1.1.1.1.4.cmml" xref="S3.E1.m1.2.2.1.1.1.1.4"></neq><apply id="S3.E1.m1.2.2.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1"><times id="S3.E1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.2"></times><apply id="S3.E1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.3.2">𝒫</ci><ci id="S3.E1.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.1.1.1.1.3">𝑦</ci></apply></apply><list id="S3.E1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.2"><apply id="S3.E1.m1.2.2.1.1.1.1.2.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1"><times id="S3.E1.m1.2.2.1.1.1.1.2.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.2"></times><apply id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.2">𝒫</ci><ci id="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.3.3">𝑗</ci></apply><apply id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2.1.1.1.1.1.3">𝑦</ci></apply></apply><apply id="S3.E1.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2"><csymbol cd="latexml" id="S3.E1.m1.2.2.1.1.1.1.3.2.2.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2.1">for-all</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.3.2.2.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.2.2.2">𝑖</ci></apply></list></apply><apply id="S3.E1.m1.2.2.1.1.2.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.3a.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.2.2.1.1.2.2.1.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1"><in id="S3.E1.m1.2.2.1.1.2.2.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1"></in><ci id="S3.E1.m1.2.2.1.1.2.2.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.2">𝑗</ci><apply id="S3.E1.m1.2.2.1.1.2.2.1.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.3.2"><csymbol cd="latexml" id="S3.E1.m1.2.2.1.1.2.2.1.1.3.1.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.3.2.1">delimited-[]</csymbol><ci id="S3.E1.m1.1.1.cmml" xref="S3.E1.m1.1.1">𝑁</ci></apply></apply><apply id="S3.E1.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2.2"><neq id="S3.E1.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2.2.1"></neq><ci id="S3.E1.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2.2.2">𝑖</ci><ci id="S3.E1.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.2.2.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.2c">\mathcal{P}_{i}(x|y)\neq\mathcal{P}_{j}(x|y),\forall i,j\in[N],i\neq j,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p1.9" class="ltx_p">where <math id="S3.SS1.p1.5.m1.1" class="ltx_Math" alttext="\mathcal{P}_{i}(x|y)" display="inline"><semantics id="S3.SS1.p1.5.m1.1a"><mrow id="S3.SS1.p1.5.m1.1.1" xref="S3.SS1.p1.5.m1.1.1.cmml"><msub id="S3.SS1.p1.5.m1.1.1.3" xref="S3.SS1.p1.5.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m1.1.1.3.2" xref="S3.SS1.p1.5.m1.1.1.3.2.cmml">𝒫</mi><mi id="S3.SS1.p1.5.m1.1.1.3.3" xref="S3.SS1.p1.5.m1.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.5.m1.1.1.2" xref="S3.SS1.p1.5.m1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p1.5.m1.1.1.1.1" xref="S3.SS1.p1.5.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p1.5.m1.1.1.1.1.2" xref="S3.SS1.p1.5.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p1.5.m1.1.1.1.1.1" xref="S3.SS1.p1.5.m1.1.1.1.1.1.cmml"><mi id="S3.SS1.p1.5.m1.1.1.1.1.1.2" xref="S3.SS1.p1.5.m1.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S3.SS1.p1.5.m1.1.1.1.1.1.1" xref="S3.SS1.p1.5.m1.1.1.1.1.1.1.cmml">|</mo><mi id="S3.SS1.p1.5.m1.1.1.1.1.1.3" xref="S3.SS1.p1.5.m1.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S3.SS1.p1.5.m1.1.1.1.1.3" xref="S3.SS1.p1.5.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m1.1b"><apply id="S3.SS1.p1.5.m1.1.1.cmml" xref="S3.SS1.p1.5.m1.1.1"><times id="S3.SS1.p1.5.m1.1.1.2.cmml" xref="S3.SS1.p1.5.m1.1.1.2"></times><apply id="S3.SS1.p1.5.m1.1.1.3.cmml" xref="S3.SS1.p1.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m1.1.1.3.1.cmml" xref="S3.SS1.p1.5.m1.1.1.3">subscript</csymbol><ci id="S3.SS1.p1.5.m1.1.1.3.2.cmml" xref="S3.SS1.p1.5.m1.1.1.3.2">𝒫</ci><ci id="S3.SS1.p1.5.m1.1.1.3.3.cmml" xref="S3.SS1.p1.5.m1.1.1.3.3">𝑖</ci></apply><apply id="S3.SS1.p1.5.m1.1.1.1.1.1.cmml" xref="S3.SS1.p1.5.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.p1.5.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.5.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p1.5.m1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.5.m1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p1.5.m1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.5.m1.1.1.1.1.1.3">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m1.1c">\mathcal{P}_{i}(x|y)</annotation></semantics></math> is the conditional probability of <math id="S3.SS1.p1.6.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS1.p1.6.m2.1a"><mi id="S3.SS1.p1.6.m2.1.1" xref="S3.SS1.p1.6.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m2.1b"><ci id="S3.SS1.p1.6.m2.1.1.cmml" xref="S3.SS1.p1.6.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m2.1c">x</annotation></semantics></math> given <math id="S3.SS1.p1.7.m3.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.SS1.p1.7.m3.1a"><mi id="S3.SS1.p1.7.m3.1.1" xref="S3.SS1.p1.7.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m3.1b"><ci id="S3.SS1.p1.7.m3.1.1.cmml" xref="S3.SS1.p1.7.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m3.1c">y</annotation></semantics></math> for client <math id="S3.SS1.p1.8.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.8.m4.1a"><mi id="S3.SS1.p1.8.m4.1.1" xref="S3.SS1.p1.8.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m4.1b"><ci id="S3.SS1.p1.8.m4.1.1.cmml" xref="S3.SS1.p1.8.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m4.1c">i</annotation></semantics></math>. The whole training data is the sum of all local data as <math id="S3.SS1.p1.9.m5.1" class="ltx_Math" alttext="\mathcal{D}\triangleq\bigcup_{i}^{N}\mathcal{D}_{i}" display="inline"><semantics id="S3.SS1.p1.9.m5.1a"><mrow id="S3.SS1.p1.9.m5.1.1" xref="S3.SS1.p1.9.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m5.1.1.2" xref="S3.SS1.p1.9.m5.1.1.2.cmml">𝒟</mi><mo rspace="0.111em" id="S3.SS1.p1.9.m5.1.1.1" xref="S3.SS1.p1.9.m5.1.1.1.cmml">≜</mo><mrow id="S3.SS1.p1.9.m5.1.1.3" xref="S3.SS1.p1.9.m5.1.1.3.cmml"><msubsup id="S3.SS1.p1.9.m5.1.1.3.1" xref="S3.SS1.p1.9.m5.1.1.3.1.cmml"><mo id="S3.SS1.p1.9.m5.1.1.3.1.2.2" xref="S3.SS1.p1.9.m5.1.1.3.1.2.2.cmml">⋃</mo><mi id="S3.SS1.p1.9.m5.1.1.3.1.2.3" xref="S3.SS1.p1.9.m5.1.1.3.1.2.3.cmml">i</mi><mi id="S3.SS1.p1.9.m5.1.1.3.1.3" xref="S3.SS1.p1.9.m5.1.1.3.1.3.cmml">N</mi></msubsup><msub id="S3.SS1.p1.9.m5.1.1.3.2" xref="S3.SS1.p1.9.m5.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.9.m5.1.1.3.2.2" xref="S3.SS1.p1.9.m5.1.1.3.2.2.cmml">𝒟</mi><mi id="S3.SS1.p1.9.m5.1.1.3.2.3" xref="S3.SS1.p1.9.m5.1.1.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m5.1b"><apply id="S3.SS1.p1.9.m5.1.1.cmml" xref="S3.SS1.p1.9.m5.1.1"><ci id="S3.SS1.p1.9.m5.1.1.1.cmml" xref="S3.SS1.p1.9.m5.1.1.1">≜</ci><ci id="S3.SS1.p1.9.m5.1.1.2.cmml" xref="S3.SS1.p1.9.m5.1.1.2">𝒟</ci><apply id="S3.SS1.p1.9.m5.1.1.3.cmml" xref="S3.SS1.p1.9.m5.1.1.3"><apply id="S3.SS1.p1.9.m5.1.1.3.1.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m5.1.1.3.1.1.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1">superscript</csymbol><apply id="S3.SS1.p1.9.m5.1.1.3.1.2.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m5.1.1.3.1.2.1.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1">subscript</csymbol><union id="S3.SS1.p1.9.m5.1.1.3.1.2.2.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1.2.2"></union><ci id="S3.SS1.p1.9.m5.1.1.3.1.2.3.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p1.9.m5.1.1.3.1.3.cmml" xref="S3.SS1.p1.9.m5.1.1.3.1.3">𝑁</ci></apply><apply id="S3.SS1.p1.9.m5.1.1.3.2.cmml" xref="S3.SS1.p1.9.m5.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.p1.9.m5.1.1.3.2.1.cmml" xref="S3.SS1.p1.9.m5.1.1.3.2">subscript</csymbol><ci id="S3.SS1.p1.9.m5.1.1.3.2.2.cmml" xref="S3.SS1.p1.9.m5.1.1.3.2.2">𝒟</ci><ci id="S3.SS1.p1.9.m5.1.1.3.2.3.cmml" xref="S3.SS1.p1.9.m5.1.1.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m5.1c">\mathcal{D}\triangleq\bigcup_{i}^{N}\mathcal{D}_{i}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.4" class="ltx_p">The model architecture <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\Theta" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi mathvariant="normal" id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">Θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">Θ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\Theta</annotation></semantics></math> contains two parts, a feature extractor parameterized by <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">W</annotation></semantics></math> and a prediction head parameterized by <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">H</annotation></semantics></math>, i.e., <math id="S3.SS1.p2.4.m4.2" class="ltx_Math" alttext="\Theta=\{W,H\}" display="inline"><semantics id="S3.SS1.p2.4.m4.2a"><mrow id="S3.SS1.p2.4.m4.2.3" xref="S3.SS1.p2.4.m4.2.3.cmml"><mi mathvariant="normal" id="S3.SS1.p2.4.m4.2.3.2" xref="S3.SS1.p2.4.m4.2.3.2.cmml">Θ</mi><mo id="S3.SS1.p2.4.m4.2.3.1" xref="S3.SS1.p2.4.m4.2.3.1.cmml">=</mo><mrow id="S3.SS1.p2.4.m4.2.3.3.2" xref="S3.SS1.p2.4.m4.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.2.3.3.2.1" xref="S3.SS1.p2.4.m4.2.3.3.1.cmml">{</mo><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">W</mi><mo id="S3.SS1.p2.4.m4.2.3.3.2.2" xref="S3.SS1.p2.4.m4.2.3.3.1.cmml">,</mo><mi id="S3.SS1.p2.4.m4.2.2" xref="S3.SS1.p2.4.m4.2.2.cmml">H</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.2.3.3.2.3" xref="S3.SS1.p2.4.m4.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.2b"><apply id="S3.SS1.p2.4.m4.2.3.cmml" xref="S3.SS1.p2.4.m4.2.3"><eq id="S3.SS1.p2.4.m4.2.3.1.cmml" xref="S3.SS1.p2.4.m4.2.3.1"></eq><ci id="S3.SS1.p2.4.m4.2.3.2.cmml" xref="S3.SS1.p2.4.m4.2.3.2">Θ</ci><set id="S3.SS1.p2.4.m4.2.3.3.1.cmml" xref="S3.SS1.p2.4.m4.2.3.3.2"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑊</ci><ci id="S3.SS1.p2.4.m4.2.2.cmml" xref="S3.SS1.p2.4.m4.2.2">𝐻</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.2c">\Theta=\{W,H\}</annotation></semantics></math>. The clients collaboratively train the models with data locally kept under the coordination of a central server.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para ltx_noindent">
<p id="S3.SS1.p3.8" class="ltx_p"><span id="S3.SS1.p3.8.1" class="ltx_text ltx_font_bold">Generalization Objective.</span> The global objective is to collaboratively train a generalized global model, which can be represented as:</p>
<table id="A2.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E2.m1.5" class="ltx_Math" alttext="\displaystyle\min_{\Theta}\mathcal{L}(\Theta)=\sum_{i=1}^{N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}\mathcal{L}_{i}(\Theta)," display="inline"><semantics id="S3.E2.m1.5a"><mrow id="S3.E2.m1.5.5.1" xref="S3.E2.m1.5.5.1.1.cmml"><mrow id="S3.E2.m1.5.5.1.1" xref="S3.E2.m1.5.5.1.1.cmml"><mrow id="S3.E2.m1.5.5.1.1.2" xref="S3.E2.m1.5.5.1.1.2.cmml"><mrow id="S3.E2.m1.5.5.1.1.2.2" xref="S3.E2.m1.5.5.1.1.2.2.cmml"><munder id="S3.E2.m1.5.5.1.1.2.2.1" xref="S3.E2.m1.5.5.1.1.2.2.1.cmml"><mi id="S3.E2.m1.5.5.1.1.2.2.1.2" xref="S3.E2.m1.5.5.1.1.2.2.1.2.cmml">min</mi><mi mathvariant="normal" id="S3.E2.m1.5.5.1.1.2.2.1.3" xref="S3.E2.m1.5.5.1.1.2.2.1.3.cmml">Θ</mi></munder><mo lspace="0.167em" id="S3.E2.m1.5.5.1.1.2.2a" xref="S3.E2.m1.5.5.1.1.2.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.5.5.1.1.2.2.2" xref="S3.E2.m1.5.5.1.1.2.2.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E2.m1.5.5.1.1.2.1" xref="S3.E2.m1.5.5.1.1.2.1.cmml">​</mo><mrow id="S3.E2.m1.5.5.1.1.2.3.2" xref="S3.E2.m1.5.5.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.5.5.1.1.2.3.2.1" xref="S3.E2.m1.5.5.1.1.2.cmml">(</mo><mi mathvariant="normal" id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">Θ</mi><mo stretchy="false" id="S3.E2.m1.5.5.1.1.2.3.2.2" xref="S3.E2.m1.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.5.5.1.1.1" xref="S3.E2.m1.5.5.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.5.5.1.1.3" xref="S3.E2.m1.5.5.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E2.m1.5.5.1.1.3.1" xref="S3.E2.m1.5.5.1.1.3.1.cmml"><munderover id="S3.E2.m1.5.5.1.1.3.1a" xref="S3.E2.m1.5.5.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E2.m1.5.5.1.1.3.1.2.2" xref="S3.E2.m1.5.5.1.1.3.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.5.5.1.1.3.1.2.3" xref="S3.E2.m1.5.5.1.1.3.1.2.3.cmml"><mi id="S3.E2.m1.5.5.1.1.3.1.2.3.2" xref="S3.E2.m1.5.5.1.1.3.1.2.3.2.cmml">i</mi><mo id="S3.E2.m1.5.5.1.1.3.1.2.3.1" xref="S3.E2.m1.5.5.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E2.m1.5.5.1.1.3.1.2.3.3" xref="S3.E2.m1.5.5.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.5.5.1.1.3.1.3" xref="S3.E2.m1.5.5.1.1.3.1.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E2.m1.5.5.1.1.3.2" xref="S3.E2.m1.5.5.1.1.3.2.cmml"><mstyle displaystyle="true" id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml"><mfrac id="S3.E2.m1.2.2a" xref="S3.E2.m1.2.2.cmml"><mrow id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E2.m1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E2.m1.1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.1.1.1.1.1.2" xref="S3.E2.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E2.m1.1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E2.m1.1.1.1.1.3" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S3.E2.m1.2.2.2.3" xref="S3.E2.m1.2.2.2.2.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.2.3.1" xref="S3.E2.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.2.2.2.1" xref="S3.E2.m1.2.2.2.1.cmml">𝒟</mi><mo stretchy="false" id="S3.E2.m1.2.2.2.3.2" xref="S3.E2.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E2.m1.5.5.1.1.3.2.1" xref="S3.E2.m1.5.5.1.1.3.2.1.cmml">​</mo><msub id="S3.E2.m1.5.5.1.1.3.2.2" xref="S3.E2.m1.5.5.1.1.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.5.5.1.1.3.2.2.2" xref="S3.E2.m1.5.5.1.1.3.2.2.2.cmml">ℒ</mi><mi id="S3.E2.m1.5.5.1.1.3.2.2.3" xref="S3.E2.m1.5.5.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.5.5.1.1.3.2.1a" xref="S3.E2.m1.5.5.1.1.3.2.1.cmml">​</mo><mrow id="S3.E2.m1.5.5.1.1.3.2.3.2" xref="S3.E2.m1.5.5.1.1.3.2.cmml"><mo stretchy="false" id="S3.E2.m1.5.5.1.1.3.2.3.2.1" xref="S3.E2.m1.5.5.1.1.3.2.cmml">(</mo><mi mathvariant="normal" id="S3.E2.m1.4.4" xref="S3.E2.m1.4.4.cmml">Θ</mi><mo stretchy="false" id="S3.E2.m1.5.5.1.1.3.2.3.2.2" xref="S3.E2.m1.5.5.1.1.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.5.5.1.2" xref="S3.E2.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b"><apply id="S3.E2.m1.5.5.1.1.cmml" xref="S3.E2.m1.5.5.1"><eq id="S3.E2.m1.5.5.1.1.1.cmml" xref="S3.E2.m1.5.5.1.1.1"></eq><apply id="S3.E2.m1.5.5.1.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2"><times id="S3.E2.m1.5.5.1.1.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.1"></times><apply id="S3.E2.m1.5.5.1.1.2.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2"><apply id="S3.E2.m1.5.5.1.1.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.2.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.2.2.1.1.cmml" xref="S3.E2.m1.5.5.1.1.2.2.1">subscript</csymbol><min id="S3.E2.m1.5.5.1.1.2.2.1.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2.1.2"></min><ci id="S3.E2.m1.5.5.1.1.2.2.1.3.cmml" xref="S3.E2.m1.5.5.1.1.2.2.1.3">Θ</ci></apply><ci id="S3.E2.m1.5.5.1.1.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.2.2.2">ℒ</ci></apply><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">Θ</ci></apply><apply id="S3.E2.m1.5.5.1.1.3.cmml" xref="S3.E2.m1.5.5.1.1.3"><apply id="S3.E2.m1.5.5.1.1.3.1.cmml" xref="S3.E2.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.3.1.1.cmml" xref="S3.E2.m1.5.5.1.1.3.1">superscript</csymbol><apply id="S3.E2.m1.5.5.1.1.3.1.2.cmml" xref="S3.E2.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.3.1.2.1.cmml" xref="S3.E2.m1.5.5.1.1.3.1">subscript</csymbol><sum id="S3.E2.m1.5.5.1.1.3.1.2.2.cmml" xref="S3.E2.m1.5.5.1.1.3.1.2.2"></sum><apply id="S3.E2.m1.5.5.1.1.3.1.2.3.cmml" xref="S3.E2.m1.5.5.1.1.3.1.2.3"><eq id="S3.E2.m1.5.5.1.1.3.1.2.3.1.cmml" xref="S3.E2.m1.5.5.1.1.3.1.2.3.1"></eq><ci id="S3.E2.m1.5.5.1.1.3.1.2.3.2.cmml" xref="S3.E2.m1.5.5.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.5.5.1.1.3.1.2.3.3.cmml" xref="S3.E2.m1.5.5.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E2.m1.5.5.1.1.3.1.3.cmml" xref="S3.E2.m1.5.5.1.1.3.1.3">𝑁</ci></apply><apply id="S3.E2.m1.5.5.1.1.3.2.cmml" xref="S3.E2.m1.5.5.1.1.3.2"><times id="S3.E2.m1.5.5.1.1.3.2.1.cmml" xref="S3.E2.m1.5.5.1.1.3.2.1"></times><apply id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2"><divide id="S3.E2.m1.2.2.3.cmml" xref="S3.E2.m1.2.2"></divide><apply id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1"><abs id="S3.E2.m1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.1.2"></abs><apply id="S3.E2.m1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E2.m1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.3"><abs id="S3.E2.m1.2.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.3.1"></abs><ci id="S3.E2.m1.2.2.2.1.cmml" xref="S3.E2.m1.2.2.2.1">𝒟</ci></apply></apply><apply id="S3.E2.m1.5.5.1.1.3.2.2.cmml" xref="S3.E2.m1.5.5.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.1.1.3.2.2.1.cmml" xref="S3.E2.m1.5.5.1.1.3.2.2">subscript</csymbol><ci id="S3.E2.m1.5.5.1.1.3.2.2.2.cmml" xref="S3.E2.m1.5.5.1.1.3.2.2.2">ℒ</ci><ci id="S3.E2.m1.5.5.1.1.3.2.2.3.cmml" xref="S3.E2.m1.5.5.1.1.3.2.2.3">𝑖</ci></apply><ci id="S3.E2.m1.4.4.cmml" xref="S3.E2.m1.4.4">Θ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.5c">\displaystyle\min_{\Theta}\mathcal{L}(\Theta)=\sum_{i=1}^{N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}\mathcal{L}_{i}(\Theta),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.3" class="ltx_p">where <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="\lvert\mathcal{D}\rvert" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mrow id="S3.SS1.p3.1.m1.1.2.2" xref="S3.SS1.p3.1.m1.1.2.1.cmml"><mo stretchy="false" id="S3.SS1.p3.1.m1.1.2.2.1" xref="S3.SS1.p3.1.m1.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">𝒟</mi><mo stretchy="false" id="S3.SS1.p3.1.m1.1.2.2.2" xref="S3.SS1.p3.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.2.1.cmml" xref="S3.SS1.p3.1.m1.1.2.2"><abs id="S3.SS1.p3.1.m1.1.2.1.1.cmml" xref="S3.SS1.p3.1.m1.1.2.2.1"></abs><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝒟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">\lvert\mathcal{D}\rvert</annotation></semantics></math> is the number of data samples and <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="\mathcal{L}_{i}(\Theta)" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><mrow id="S3.SS1.p3.2.m2.1.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><msub id="S3.SS1.p3.2.m2.1.2.2" xref="S3.SS1.p3.2.m2.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.2.m2.1.2.2.2" xref="S3.SS1.p3.2.m2.1.2.2.2.cmml">ℒ</mi><mi id="S3.SS1.p3.2.m2.1.2.2.3" xref="S3.SS1.p3.2.m2.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.2.m2.1.2.1" xref="S3.SS1.p3.2.m2.1.2.1.cmml">​</mo><mrow id="S3.SS1.p3.2.m2.1.2.3.2" xref="S3.SS1.p3.2.m2.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.2.m2.1.2.3.2.1" xref="S3.SS1.p3.2.m2.1.2.cmml">(</mo><mi mathvariant="normal" id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">Θ</mi><mo stretchy="false" id="S3.SS1.p3.2.m2.1.2.3.2.2" xref="S3.SS1.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.2.cmml" xref="S3.SS1.p3.2.m2.1.2"><times id="S3.SS1.p3.2.m2.1.2.1.cmml" xref="S3.SS1.p3.2.m2.1.2.1"></times><apply id="S3.SS1.p3.2.m2.1.2.2.cmml" xref="S3.SS1.p3.2.m2.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.2.2.1.cmml" xref="S3.SS1.p3.2.m2.1.2.2">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.2.2.2.cmml" xref="S3.SS1.p3.2.m2.1.2.2.2">ℒ</ci><ci id="S3.SS1.p3.2.m2.1.2.2.3.cmml" xref="S3.SS1.p3.2.m2.1.2.2.3">𝑖</ci></apply><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">Θ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\mathcal{L}_{i}(\Theta)</annotation></semantics></math> denotes the empirical risk of client <math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">i</annotation></semantics></math> as following:</p>
<table id="A2.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E3.m1.5" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{i}(\Theta)=\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}\frac{1}{\lvert\mathcal{D}_{i}\rvert}l({y}_{k},f(x_{k};\Theta))," display="inline"><semantics id="S3.E3.m1.5a"><mrow id="S3.E3.m1.5.5.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1" xref="S3.E3.m1.5.5.1.1.cmml"><mrow id="S3.E3.m1.5.5.1.1.4" xref="S3.E3.m1.5.5.1.1.4.cmml"><msub id="S3.E3.m1.5.5.1.1.4.2" xref="S3.E3.m1.5.5.1.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.1.1.4.2.2" xref="S3.E3.m1.5.5.1.1.4.2.2.cmml">ℒ</mi><mi id="S3.E3.m1.5.5.1.1.4.2.3" xref="S3.E3.m1.5.5.1.1.4.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.4.1" xref="S3.E3.m1.5.5.1.1.4.1.cmml">​</mo><mrow id="S3.E3.m1.5.5.1.1.4.3.2" xref="S3.E3.m1.5.5.1.1.4.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.1.1.4.3.2.1" xref="S3.E3.m1.5.5.1.1.4.cmml">(</mo><mi mathvariant="normal" id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml">Θ</mi><mo stretchy="false" id="S3.E3.m1.5.5.1.1.4.3.2.2" xref="S3.E3.m1.5.5.1.1.4.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.5.5.1.1.3" xref="S3.E3.m1.5.5.1.1.3.cmml">=</mo><mrow id="S3.E3.m1.5.5.1.1.2" xref="S3.E3.m1.5.5.1.1.2.cmml"><mstyle displaystyle="true" id="S3.E3.m1.5.5.1.1.2.3" xref="S3.E3.m1.5.5.1.1.2.3.cmml"><munderover id="S3.E3.m1.5.5.1.1.2.3a" xref="S3.E3.m1.5.5.1.1.2.3.cmml"><mo movablelimits="false" id="S3.E3.m1.5.5.1.1.2.3.2.2" xref="S3.E3.m1.5.5.1.1.2.3.2.2.cmml">∑</mo><mrow id="S3.E3.m1.5.5.1.1.2.3.2.3" xref="S3.E3.m1.5.5.1.1.2.3.2.3.cmml"><mi id="S3.E3.m1.5.5.1.1.2.3.2.3.2" xref="S3.E3.m1.5.5.1.1.2.3.2.3.2.cmml">k</mi><mo id="S3.E3.m1.5.5.1.1.2.3.2.3.1" xref="S3.E3.m1.5.5.1.1.2.3.2.3.1.cmml">=</mo><mn id="S3.E3.m1.5.5.1.1.2.3.2.3.3" xref="S3.E3.m1.5.5.1.1.2.3.2.3.3.cmml">1</mn></mrow><mrow id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E3.m1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E3.m1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover></mstyle><mrow id="S3.E3.m1.5.5.1.1.2.2" xref="S3.E3.m1.5.5.1.1.2.2.cmml"><mstyle displaystyle="true" id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><mfrac id="S3.E3.m1.2.2a" xref="S3.E3.m1.2.2.cmml"><mn id="S3.E3.m1.2.2.3" xref="S3.E3.m1.2.2.3.cmml">1</mn><mrow id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.1.1.2" xref="S3.E3.m1.2.2.1.2.1.cmml">|</mo><msub id="S3.E3.m1.2.2.1.1.1" xref="S3.E3.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.1.1.1.2" xref="S3.E3.m1.2.2.1.1.1.2.cmml">𝒟</mi><mi id="S3.E3.m1.2.2.1.1.1.3" xref="S3.E3.m1.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.2.2.1.1.3" xref="S3.E3.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.2.2.3" xref="S3.E3.m1.5.5.1.1.2.2.3.cmml">​</mo><mi id="S3.E3.m1.5.5.1.1.2.2.4" xref="S3.E3.m1.5.5.1.1.2.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.2.2.3a" xref="S3.E3.m1.5.5.1.1.2.2.3.cmml">​</mo><mrow id="S3.E3.m1.5.5.1.1.2.2.2.2" xref="S3.E3.m1.5.5.1.1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.2.2.2.3" xref="S3.E3.m1.5.5.1.1.2.2.2.3.cmml">(</mo><msub id="S3.E3.m1.5.5.1.1.1.1.1.1.1" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml">y</mi><mi id="S3.E3.m1.5.5.1.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E3.m1.5.5.1.1.2.2.2.2.4" xref="S3.E3.m1.5.5.1.1.2.2.2.3.cmml">,</mo><mrow id="S3.E3.m1.5.5.1.1.2.2.2.2.2" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.cmml"><mi id="S3.E3.m1.5.5.1.1.2.2.2.2.2.3" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.1.1.2.2.2.2.2.2" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.2.cmml">​</mo><mrow id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.2" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.2.cmml">(</mo><msub id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.cmml"><mi id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.2" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.2.cmml">x</mi><mi id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.3" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.3.cmml">k</mi></msub><mo id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.3" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.2.cmml">;</mo><mi mathvariant="normal" id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml">Θ</mi><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.4" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.5.5.1.1.2.2.2.2.5" xref="S3.E3.m1.5.5.1.1.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E3.m1.5.5.1.2" xref="S3.E3.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.5b"><apply id="S3.E3.m1.5.5.1.1.cmml" xref="S3.E3.m1.5.5.1"><eq id="S3.E3.m1.5.5.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.3"></eq><apply id="S3.E3.m1.5.5.1.1.4.cmml" xref="S3.E3.m1.5.5.1.1.4"><times id="S3.E3.m1.5.5.1.1.4.1.cmml" xref="S3.E3.m1.5.5.1.1.4.1"></times><apply id="S3.E3.m1.5.5.1.1.4.2.cmml" xref="S3.E3.m1.5.5.1.1.4.2"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.4.2.1.cmml" xref="S3.E3.m1.5.5.1.1.4.2">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.4.2.2.cmml" xref="S3.E3.m1.5.5.1.1.4.2.2">ℒ</ci><ci id="S3.E3.m1.5.5.1.1.4.2.3.cmml" xref="S3.E3.m1.5.5.1.1.4.2.3">𝑖</ci></apply><ci id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3">Θ</ci></apply><apply id="S3.E3.m1.5.5.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2"><apply id="S3.E3.m1.5.5.1.1.2.3.cmml" xref="S3.E3.m1.5.5.1.1.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.3.1.cmml" xref="S3.E3.m1.5.5.1.1.2.3">superscript</csymbol><apply id="S3.E3.m1.5.5.1.1.2.3.2.cmml" xref="S3.E3.m1.5.5.1.1.2.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.3.2.1.cmml" xref="S3.E3.m1.5.5.1.1.2.3">subscript</csymbol><sum id="S3.E3.m1.5.5.1.1.2.3.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.3.2.2"></sum><apply id="S3.E3.m1.5.5.1.1.2.3.2.3.cmml" xref="S3.E3.m1.5.5.1.1.2.3.2.3"><eq id="S3.E3.m1.5.5.1.1.2.3.2.3.1.cmml" xref="S3.E3.m1.5.5.1.1.2.3.2.3.1"></eq><ci id="S3.E3.m1.5.5.1.1.2.3.2.3.2.cmml" xref="S3.E3.m1.5.5.1.1.2.3.2.3.2">𝑘</ci><cn type="integer" id="S3.E3.m1.5.5.1.1.2.3.2.3.3.cmml" xref="S3.E3.m1.5.5.1.1.2.3.2.3.3">1</cn></apply></apply><apply id="S3.E3.m1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1"><abs id="S3.E3.m1.1.1.1.2.1.cmml" xref="S3.E3.m1.1.1.1.1.2"></abs><apply id="S3.E3.m1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E3.m1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S3.E3.m1.5.5.1.1.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2"><times id="S3.E3.m1.5.5.1.1.2.2.3.cmml" xref="S3.E3.m1.5.5.1.1.2.2.3"></times><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><divide id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2"></divide><cn type="integer" id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2.3">1</cn><apply id="S3.E3.m1.2.2.1.2.cmml" xref="S3.E3.m1.2.2.1.1"><abs id="S3.E3.m1.2.2.1.2.1.cmml" xref="S3.E3.m1.2.2.1.1.2"></abs><apply id="S3.E3.m1.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E3.m1.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.1.1.1.2">𝒟</ci><ci id="S3.E3.m1.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.1.1.1.3">𝑖</ci></apply></apply></apply><ci id="S3.E3.m1.5.5.1.1.2.2.4.cmml" xref="S3.E3.m1.5.5.1.1.2.2.4">𝑙</ci><interval closure="open" id="S3.E3.m1.5.5.1.1.2.2.2.3.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2"><apply id="S3.E3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E3.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E3.m1.5.5.1.1.2.2.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2"><times id="S3.E3.m1.5.5.1.1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.2"></times><ci id="S3.E3.m1.5.5.1.1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.3">𝑓</ci><list id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1"><apply id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.2">𝑥</ci><ci id="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.5.5.1.1.2.2.2.2.2.1.1.1.3">𝑘</ci></apply><ci id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4">Θ</ci></list></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.5c">\displaystyle\mathcal{L}_{i}(\Theta)=\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}\frac{1}{\lvert\mathcal{D}_{i}\rvert}l({y}_{k},f(x_{k};\Theta)),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p3.7" class="ltx_p">where <math id="S3.SS1.p3.4.m1.2" class="ltx_Math" alttext="(x_{k},y_{k})\in\mathcal{D}_{i}" display="inline"><semantics id="S3.SS1.p3.4.m1.2a"><mrow id="S3.SS1.p3.4.m1.2.2" xref="S3.SS1.p3.4.m1.2.2.cmml"><mrow id="S3.SS1.p3.4.m1.2.2.2.2" xref="S3.SS1.p3.4.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p3.4.m1.2.2.2.2.3" xref="S3.SS1.p3.4.m1.2.2.2.3.cmml">(</mo><msub id="S3.SS1.p3.4.m1.1.1.1.1.1" xref="S3.SS1.p3.4.m1.1.1.1.1.1.cmml"><mi id="S3.SS1.p3.4.m1.1.1.1.1.1.2" xref="S3.SS1.p3.4.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.p3.4.m1.1.1.1.1.1.3" xref="S3.SS1.p3.4.m1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS1.p3.4.m1.2.2.2.2.4" xref="S3.SS1.p3.4.m1.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p3.4.m1.2.2.2.2.2" xref="S3.SS1.p3.4.m1.2.2.2.2.2.cmml"><mi id="S3.SS1.p3.4.m1.2.2.2.2.2.2" xref="S3.SS1.p3.4.m1.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS1.p3.4.m1.2.2.2.2.2.3" xref="S3.SS1.p3.4.m1.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS1.p3.4.m1.2.2.2.2.5" xref="S3.SS1.p3.4.m1.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS1.p3.4.m1.2.2.3" xref="S3.SS1.p3.4.m1.2.2.3.cmml">∈</mo><msub id="S3.SS1.p3.4.m1.2.2.4" xref="S3.SS1.p3.4.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.4.m1.2.2.4.2" xref="S3.SS1.p3.4.m1.2.2.4.2.cmml">𝒟</mi><mi id="S3.SS1.p3.4.m1.2.2.4.3" xref="S3.SS1.p3.4.m1.2.2.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m1.2b"><apply id="S3.SS1.p3.4.m1.2.2.cmml" xref="S3.SS1.p3.4.m1.2.2"><in id="S3.SS1.p3.4.m1.2.2.3.cmml" xref="S3.SS1.p3.4.m1.2.2.3"></in><interval closure="open" id="S3.SS1.p3.4.m1.2.2.2.3.cmml" xref="S3.SS1.p3.4.m1.2.2.2.2"><apply id="S3.SS1.p3.4.m1.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.4.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p3.4.m1.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.4.m1.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS1.p3.4.m1.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.4.m1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS1.p3.4.m1.2.2.2.2.2.cmml" xref="S3.SS1.p3.4.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m1.2.2.2.2.2.1.cmml" xref="S3.SS1.p3.4.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p3.4.m1.2.2.2.2.2.2.cmml" xref="S3.SS1.p3.4.m1.2.2.2.2.2.2">𝑦</ci><ci id="S3.SS1.p3.4.m1.2.2.2.2.2.3.cmml" xref="S3.SS1.p3.4.m1.2.2.2.2.2.3">𝑘</ci></apply></interval><apply id="S3.SS1.p3.4.m1.2.2.4.cmml" xref="S3.SS1.p3.4.m1.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m1.2.2.4.1.cmml" xref="S3.SS1.p3.4.m1.2.2.4">subscript</csymbol><ci id="S3.SS1.p3.4.m1.2.2.4.2.cmml" xref="S3.SS1.p3.4.m1.2.2.4.2">𝒟</ci><ci id="S3.SS1.p3.4.m1.2.2.4.3.cmml" xref="S3.SS1.p3.4.m1.2.2.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m1.2c">(x_{k},y_{k})\in\mathcal{D}_{i}</annotation></semantics></math> is the data of client <math id="S3.SS1.p3.5.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p3.5.m2.1a"><mi id="S3.SS1.p3.5.m2.1.1" xref="S3.SS1.p3.5.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m2.1b"><ci id="S3.SS1.p3.5.m2.1.1.cmml" xref="S3.SS1.p3.5.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m2.1c">i</annotation></semantics></math>, <math id="S3.SS1.p3.6.m3.2" class="ltx_Math" alttext="f(\cdot;\cdot)" display="inline"><semantics id="S3.SS1.p3.6.m3.2a"><mrow id="S3.SS1.p3.6.m3.2.3" xref="S3.SS1.p3.6.m3.2.3.cmml"><mi id="S3.SS1.p3.6.m3.2.3.2" xref="S3.SS1.p3.6.m3.2.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.6.m3.2.3.1" xref="S3.SS1.p3.6.m3.2.3.1.cmml">​</mo><mrow id="S3.SS1.p3.6.m3.2.3.3.2" xref="S3.SS1.p3.6.m3.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p3.6.m3.2.3.3.2.1" xref="S3.SS1.p3.6.m3.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.6.m3.1.1" xref="S3.SS1.p3.6.m3.1.1.cmml">⋅</mo><mo rspace="0em" id="S3.SS1.p3.6.m3.2.3.3.2.2" xref="S3.SS1.p3.6.m3.2.3.3.1.cmml">;</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.6.m3.2.2" xref="S3.SS1.p3.6.m3.2.2.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p3.6.m3.2.3.3.2.3" xref="S3.SS1.p3.6.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m3.2b"><apply id="S3.SS1.p3.6.m3.2.3.cmml" xref="S3.SS1.p3.6.m3.2.3"><times id="S3.SS1.p3.6.m3.2.3.1.cmml" xref="S3.SS1.p3.6.m3.2.3.1"></times><ci id="S3.SS1.p3.6.m3.2.3.2.cmml" xref="S3.SS1.p3.6.m3.2.3.2">𝑓</ci><list id="S3.SS1.p3.6.m3.2.3.3.1.cmml" xref="S3.SS1.p3.6.m3.2.3.3.2"><ci id="S3.SS1.p3.6.m3.1.1.cmml" xref="S3.SS1.p3.6.m3.1.1">⋅</ci><ci id="S3.SS1.p3.6.m3.2.2.cmml" xref="S3.SS1.p3.6.m3.2.2">⋅</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m3.2c">f(\cdot;\cdot)</annotation></semantics></math> is the model function that generates outputs given the parameters, and <math id="S3.SS1.p3.7.m4.2" class="ltx_Math" alttext="l(\cdot,\cdot)" display="inline"><semantics id="S3.SS1.p3.7.m4.2a"><mrow id="S3.SS1.p3.7.m4.2.3" xref="S3.SS1.p3.7.m4.2.3.cmml"><mi id="S3.SS1.p3.7.m4.2.3.2" xref="S3.SS1.p3.7.m4.2.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.7.m4.2.3.1" xref="S3.SS1.p3.7.m4.2.3.1.cmml">​</mo><mrow id="S3.SS1.p3.7.m4.2.3.3.2" xref="S3.SS1.p3.7.m4.2.3.3.1.cmml"><mo stretchy="false" id="S3.SS1.p3.7.m4.2.3.3.2.1" xref="S3.SS1.p3.7.m4.2.3.3.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.7.m4.1.1" xref="S3.SS1.p3.7.m4.1.1.cmml">⋅</mo><mo rspace="0em" id="S3.SS1.p3.7.m4.2.3.3.2.2" xref="S3.SS1.p3.7.m4.2.3.3.1.cmml">,</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p3.7.m4.2.2" xref="S3.SS1.p3.7.m4.2.2.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p3.7.m4.2.3.3.2.3" xref="S3.SS1.p3.7.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m4.2b"><apply id="S3.SS1.p3.7.m4.2.3.cmml" xref="S3.SS1.p3.7.m4.2.3"><times id="S3.SS1.p3.7.m4.2.3.1.cmml" xref="S3.SS1.p3.7.m4.2.3.1"></times><ci id="S3.SS1.p3.7.m4.2.3.2.cmml" xref="S3.SS1.p3.7.m4.2.3.2">𝑙</ci><interval closure="open" id="S3.SS1.p3.7.m4.2.3.3.1.cmml" xref="S3.SS1.p3.7.m4.2.3.3.2"><ci id="S3.SS1.p3.7.m4.1.1.cmml" xref="S3.SS1.p3.7.m4.1.1">⋅</ci><ci id="S3.SS1.p3.7.m4.2.2.cmml" xref="S3.SS1.p3.7.m4.2.2">⋅</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m4.2c">l(\cdot,\cdot)</annotation></semantics></math> is the loss function that measures the difference between the outputs of the model and the truth labels.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para ltx_noindent">
<p id="S3.SS1.p4.4" class="ltx_p"><span id="S3.SS1.p4.4.1" class="ltx_text ltx_font_bold">Personalization Objective.</span> In pFL, every client aims to have their own personalized models that can perform better personalization on their own datasets. The learning objective of pFL is:</p>
<table id="A2.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.7" class="ltx_Math" alttext="\displaystyle\min_{\{\Theta_{1},\dots,\Theta_{N}\}\in\mathbf{\Theta}}\mathcal{L}(\mathbf{\Theta})=\sum_{i=1}^{N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}\mathcal{L}_{i}(\Theta_{i})," display="inline"><semantics id="S3.E4.m1.7a"><mrow id="S3.E4.m1.7.7.1" xref="S3.E4.m1.7.7.1.1.cmml"><mrow id="S3.E4.m1.7.7.1.1" xref="S3.E4.m1.7.7.1.1.cmml"><mrow id="S3.E4.m1.7.7.1.1.3" xref="S3.E4.m1.7.7.1.1.3.cmml"><mrow id="S3.E4.m1.7.7.1.1.3.2" xref="S3.E4.m1.7.7.1.1.3.2.cmml"><munder id="S3.E4.m1.7.7.1.1.3.2.1" xref="S3.E4.m1.7.7.1.1.3.2.1.cmml"><mi id="S3.E4.m1.7.7.1.1.3.2.1.2" xref="S3.E4.m1.7.7.1.1.3.2.1.2.cmml">min</mi><mrow id="S3.E4.m1.3.3.3" xref="S3.E4.m1.3.3.3.cmml"><mrow id="S3.E4.m1.3.3.3.3.2" xref="S3.E4.m1.3.3.3.3.3.cmml"><mo stretchy="false" id="S3.E4.m1.3.3.3.3.2.3" xref="S3.E4.m1.3.3.3.3.3.cmml">{</mo><msub id="S3.E4.m1.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.1.1.cmml"><mi mathvariant="normal" id="S3.E4.m1.2.2.2.2.1.1.2" xref="S3.E4.m1.2.2.2.2.1.1.2.cmml">Θ</mi><mn id="S3.E4.m1.2.2.2.2.1.1.3" xref="S3.E4.m1.2.2.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.E4.m1.3.3.3.3.2.4" xref="S3.E4.m1.3.3.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">…</mi><mo id="S3.E4.m1.3.3.3.3.2.5" xref="S3.E4.m1.3.3.3.3.3.cmml">,</mo><msub id="S3.E4.m1.3.3.3.3.2.2" xref="S3.E4.m1.3.3.3.3.2.2.cmml"><mi mathvariant="normal" id="S3.E4.m1.3.3.3.3.2.2.2" xref="S3.E4.m1.3.3.3.3.2.2.2.cmml">Θ</mi><mi id="S3.E4.m1.3.3.3.3.2.2.3" xref="S3.E4.m1.3.3.3.3.2.2.3.cmml">N</mi></msub><mo stretchy="false" id="S3.E4.m1.3.3.3.3.2.6" xref="S3.E4.m1.3.3.3.3.3.cmml">}</mo></mrow><mo id="S3.E4.m1.3.3.3.4" xref="S3.E4.m1.3.3.3.4.cmml">∈</mo><mi id="S3.E4.m1.3.3.3.5" xref="S3.E4.m1.3.3.3.5.cmml">𝚯</mi></mrow></munder><mo lspace="0.167em" id="S3.E4.m1.7.7.1.1.3.2a" xref="S3.E4.m1.7.7.1.1.3.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.7.7.1.1.3.2.2" xref="S3.E4.m1.7.7.1.1.3.2.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E4.m1.7.7.1.1.3.1" xref="S3.E4.m1.7.7.1.1.3.1.cmml">​</mo><mrow id="S3.E4.m1.7.7.1.1.3.3.2" xref="S3.E4.m1.7.7.1.1.3.cmml"><mo stretchy="false" id="S3.E4.m1.7.7.1.1.3.3.2.1" xref="S3.E4.m1.7.7.1.1.3.cmml">(</mo><mi id="S3.E4.m1.6.6" xref="S3.E4.m1.6.6.cmml">𝚯</mi><mo stretchy="false" id="S3.E4.m1.7.7.1.1.3.3.2.2" xref="S3.E4.m1.7.7.1.1.3.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.7.7.1.1.2" xref="S3.E4.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.7.7.1.1.1" xref="S3.E4.m1.7.7.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E4.m1.7.7.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.2.cmml"><munderover id="S3.E4.m1.7.7.1.1.1.2a" xref="S3.E4.m1.7.7.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E4.m1.7.7.1.1.1.2.2.2" xref="S3.E4.m1.7.7.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E4.m1.7.7.1.1.1.2.2.3" xref="S3.E4.m1.7.7.1.1.1.2.2.3.cmml"><mi id="S3.E4.m1.7.7.1.1.1.2.2.3.2" xref="S3.E4.m1.7.7.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E4.m1.7.7.1.1.1.2.2.3.1" xref="S3.E4.m1.7.7.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E4.m1.7.7.1.1.1.2.2.3.3" xref="S3.E4.m1.7.7.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.7.7.1.1.1.2.3" xref="S3.E4.m1.7.7.1.1.1.2.3.cmml">N</mi></munderover></mstyle><mrow id="S3.E4.m1.7.7.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E4.m1.5.5" xref="S3.E4.m1.5.5.cmml"><mfrac id="S3.E4.m1.5.5a" xref="S3.E4.m1.5.5.cmml"><mrow id="S3.E4.m1.4.4.1.1" xref="S3.E4.m1.4.4.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.4.4.1.1.2" xref="S3.E4.m1.4.4.1.2.1.cmml">|</mo><msub id="S3.E4.m1.4.4.1.1.1" xref="S3.E4.m1.4.4.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.4.4.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.2.cmml">𝒟</mi><mi id="S3.E4.m1.4.4.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E4.m1.4.4.1.1.3" xref="S3.E4.m1.4.4.1.2.1.cmml">|</mo></mrow><mrow id="S3.E4.m1.5.5.2.3" xref="S3.E4.m1.5.5.2.2.cmml"><mo stretchy="false" id="S3.E4.m1.5.5.2.3.1" xref="S3.E4.m1.5.5.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.5.5.2.1" xref="S3.E4.m1.5.5.2.1.cmml">𝒟</mi><mo stretchy="false" id="S3.E4.m1.5.5.2.3.2" xref="S3.E4.m1.5.5.2.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E4.m1.7.7.1.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.1.2.cmml">​</mo><msub id="S3.E4.m1.7.7.1.1.1.1.3" xref="S3.E4.m1.7.7.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.7.7.1.1.1.1.3.2" xref="S3.E4.m1.7.7.1.1.1.1.3.2.cmml">ℒ</mi><mi id="S3.E4.m1.7.7.1.1.1.1.3.3" xref="S3.E4.m1.7.7.1.1.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.7.7.1.1.1.1.2a" xref="S3.E4.m1.7.7.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.7.7.1.1.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.7.7.1.1.1.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E4.m1.7.7.1.1.1.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="S3.E4.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.2.cmml">Θ</mi><mi id="S3.E4.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E4.m1.7.7.1.1.1.1.1.1.3" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.7.7.1.2" xref="S3.E4.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.7b"><apply id="S3.E4.m1.7.7.1.1.cmml" xref="S3.E4.m1.7.7.1"><eq id="S3.E4.m1.7.7.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.2"></eq><apply id="S3.E4.m1.7.7.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.3"><times id="S3.E4.m1.7.7.1.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.3.1"></times><apply id="S3.E4.m1.7.7.1.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2"><apply id="S3.E4.m1.7.7.1.1.3.2.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.3.2.1.1.cmml" xref="S3.E4.m1.7.7.1.1.3.2.1">subscript</csymbol><min id="S3.E4.m1.7.7.1.1.3.2.1.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.1.2"></min><apply id="S3.E4.m1.3.3.3.cmml" xref="S3.E4.m1.3.3.3"><in id="S3.E4.m1.3.3.3.4.cmml" xref="S3.E4.m1.3.3.3.4"></in><set id="S3.E4.m1.3.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3.2"><apply id="S3.E4.m1.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.2.2.1.1.2">Θ</ci><cn type="integer" id="S3.E4.m1.2.2.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.2.2.1.1.3">1</cn></apply><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">…</ci><apply id="S3.E4.m1.3.3.3.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.2.2">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.2.2.2">Θ</ci><ci id="S3.E4.m1.3.3.3.3.2.2.3.cmml" xref="S3.E4.m1.3.3.3.3.2.2.3">𝑁</ci></apply></set><ci id="S3.E4.m1.3.3.3.5.cmml" xref="S3.E4.m1.3.3.3.5">𝚯</ci></apply></apply><ci id="S3.E4.m1.7.7.1.1.3.2.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2.2">ℒ</ci></apply><ci id="S3.E4.m1.6.6.cmml" xref="S3.E4.m1.6.6">𝚯</ci></apply><apply id="S3.E4.m1.7.7.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1"><apply id="S3.E4.m1.7.7.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.2.1.cmml" xref="S3.E4.m1.7.7.1.1.1.2">superscript</csymbol><apply id="S3.E4.m1.7.7.1.1.1.2.2.cmml" xref="S3.E4.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.2.2.1.cmml" xref="S3.E4.m1.7.7.1.1.1.2">subscript</csymbol><sum id="S3.E4.m1.7.7.1.1.1.2.2.2.cmml" xref="S3.E4.m1.7.7.1.1.1.2.2.2"></sum><apply id="S3.E4.m1.7.7.1.1.1.2.2.3.cmml" xref="S3.E4.m1.7.7.1.1.1.2.2.3"><eq id="S3.E4.m1.7.7.1.1.1.2.2.3.1.cmml" xref="S3.E4.m1.7.7.1.1.1.2.2.3.1"></eq><ci id="S3.E4.m1.7.7.1.1.1.2.2.3.2.cmml" xref="S3.E4.m1.7.7.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E4.m1.7.7.1.1.1.2.2.3.3.cmml" xref="S3.E4.m1.7.7.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.7.7.1.1.1.2.3.cmml" xref="S3.E4.m1.7.7.1.1.1.2.3">𝑁</ci></apply><apply id="S3.E4.m1.7.7.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1"><times id="S3.E4.m1.7.7.1.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.2"></times><apply id="S3.E4.m1.5.5.cmml" xref="S3.E4.m1.5.5"><divide id="S3.E4.m1.5.5.3.cmml" xref="S3.E4.m1.5.5"></divide><apply id="S3.E4.m1.4.4.1.2.cmml" xref="S3.E4.m1.4.4.1.1"><abs id="S3.E4.m1.4.4.1.2.1.cmml" xref="S3.E4.m1.4.4.1.1.2"></abs><apply id="S3.E4.m1.4.4.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.1.2">𝒟</ci><ci id="S3.E4.m1.4.4.1.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.E4.m1.5.5.2.2.cmml" xref="S3.E4.m1.5.5.2.3"><abs id="S3.E4.m1.5.5.2.2.1.cmml" xref="S3.E4.m1.5.5.2.3.1"></abs><ci id="S3.E4.m1.5.5.2.1.cmml" xref="S3.E4.m1.5.5.2.1">𝒟</ci></apply></apply><apply id="S3.E4.m1.7.7.1.1.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.1.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.3.2">ℒ</ci><ci id="S3.E4.m1.7.7.1.1.1.1.3.3.cmml" xref="S3.E4.m1.7.7.1.1.1.1.3.3">𝑖</ci></apply><apply id="S3.E4.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.2">Θ</ci><ci id="S3.E4.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.7c">\displaystyle\min_{\{\Theta_{1},\dots,\Theta_{N}\}\in\mathbf{\Theta}}\mathcal{L}(\mathbf{\Theta})=\sum_{i=1}^{N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}\mathcal{L}_{i}(\Theta_{i}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p4.3" class="ltx_p">where <math id="S3.SS1.p4.1.m1.1" class="ltx_Math" alttext="\Theta_{i}" display="inline"><semantics id="S3.SS1.p4.1.m1.1a"><msub id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">Θ</mi><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">Θ</ci><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">\Theta_{i}</annotation></semantics></math> denotes the personalized model parameters for client <math id="S3.SS1.p4.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p4.2.m2.1a"><mi id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><ci id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">i</annotation></semantics></math>. Finally, we will get a set of personalized models <math id="S3.SS1.p4.3.m3.3" class="ltx_Math" alttext="\mathbf{\Theta}^{\star}=\{\Theta_{1}^{\star},\dots,\Theta_{N}^{\star}\}" display="inline"><semantics id="S3.SS1.p4.3.m3.3a"><mrow id="S3.SS1.p4.3.m3.3.3" xref="S3.SS1.p4.3.m3.3.3.cmml"><msup id="S3.SS1.p4.3.m3.3.3.4" xref="S3.SS1.p4.3.m3.3.3.4.cmml"><mi id="S3.SS1.p4.3.m3.3.3.4.2" xref="S3.SS1.p4.3.m3.3.3.4.2.cmml">𝚯</mi><mo id="S3.SS1.p4.3.m3.3.3.4.3" xref="S3.SS1.p4.3.m3.3.3.4.3.cmml">⋆</mo></msup><mo id="S3.SS1.p4.3.m3.3.3.3" xref="S3.SS1.p4.3.m3.3.3.3.cmml">=</mo><mrow id="S3.SS1.p4.3.m3.3.3.2.2" xref="S3.SS1.p4.3.m3.3.3.2.3.cmml"><mo stretchy="false" id="S3.SS1.p4.3.m3.3.3.2.2.3" xref="S3.SS1.p4.3.m3.3.3.2.3.cmml">{</mo><msubsup id="S3.SS1.p4.3.m3.2.2.1.1.1" xref="S3.SS1.p4.3.m3.2.2.1.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p4.3.m3.2.2.1.1.1.2.2" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.2.cmml">Θ</mi><mn id="S3.SS1.p4.3.m3.2.2.1.1.1.2.3" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.3.cmml">1</mn><mo id="S3.SS1.p4.3.m3.2.2.1.1.1.3" xref="S3.SS1.p4.3.m3.2.2.1.1.1.3.cmml">⋆</mo></msubsup><mo id="S3.SS1.p4.3.m3.3.3.2.2.4" xref="S3.SS1.p4.3.m3.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p4.3.m3.3.3.2.2.5" xref="S3.SS1.p4.3.m3.3.3.2.3.cmml">,</mo><msubsup id="S3.SS1.p4.3.m3.3.3.2.2.2" xref="S3.SS1.p4.3.m3.3.3.2.2.2.cmml"><mi mathvariant="normal" id="S3.SS1.p4.3.m3.3.3.2.2.2.2.2" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.2.cmml">Θ</mi><mi id="S3.SS1.p4.3.m3.3.3.2.2.2.2.3" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.3.cmml">N</mi><mo id="S3.SS1.p4.3.m3.3.3.2.2.2.3" xref="S3.SS1.p4.3.m3.3.3.2.2.2.3.cmml">⋆</mo></msubsup><mo stretchy="false" id="S3.SS1.p4.3.m3.3.3.2.2.6" xref="S3.SS1.p4.3.m3.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.3b"><apply id="S3.SS1.p4.3.m3.3.3.cmml" xref="S3.SS1.p4.3.m3.3.3"><eq id="S3.SS1.p4.3.m3.3.3.3.cmml" xref="S3.SS1.p4.3.m3.3.3.3"></eq><apply id="S3.SS1.p4.3.m3.3.3.4.cmml" xref="S3.SS1.p4.3.m3.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.3.3.4.1.cmml" xref="S3.SS1.p4.3.m3.3.3.4">superscript</csymbol><ci id="S3.SS1.p4.3.m3.3.3.4.2.cmml" xref="S3.SS1.p4.3.m3.3.3.4.2">𝚯</ci><ci id="S3.SS1.p4.3.m3.3.3.4.3.cmml" xref="S3.SS1.p4.3.m3.3.3.4.3">⋆</ci></apply><set id="S3.SS1.p4.3.m3.3.3.2.3.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2"><apply id="S3.SS1.p4.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1">superscript</csymbol><apply id="S3.SS1.p4.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p4.3.m3.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.2">Θ</ci><cn type="integer" id="S3.SS1.p4.3.m3.2.2.1.1.1.2.3.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1.2.3">1</cn></apply><ci id="S3.SS1.p4.3.m3.2.2.1.1.1.3.cmml" xref="S3.SS1.p4.3.m3.2.2.1.1.1.3">⋆</ci></apply><ci id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1">…</ci><apply id="S3.SS1.p4.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2">superscript</csymbol><apply id="S3.SS1.p4.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p4.3.m3.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.2">Θ</ci><ci id="S3.SS1.p4.3.m3.3.3.2.2.2.2.3.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2.2.3">𝑁</ci></apply><ci id="S3.SS1.p4.3.m3.3.3.2.2.2.3.cmml" xref="S3.SS1.p4.3.m3.3.3.2.2.2.3">⋆</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.3c">\mathbf{\Theta}^{\star}=\{\Theta_{1}^{\star},\dots,\Theta_{N}^{\star}\}</annotation></semantics></math> to better adapt to clients’ local data distributions.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para">
<p id="S3.SS1.p5.1" class="ltx_p">We note that the generalization and the personalization objectives are not conflicted. As discussed in the literature, great generalization is the foundation of great personalization performances <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib27" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">27</span></a>]</cite>. Also, in this paper, we discover how to decouple the generic/generalized representation knowledge from clients to enhance local personalization better under feature-skew heterogeneity.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Decoupling Orthogonal Feature Subspaces</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Instead of decoupling the heads, for feature-skew heterogeneity, we propose to decouple the feature extractor into two, one for generic feature extraction and another for personalized features. <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_italic">But how to realize such an effective decoupling?</span> A straightforward way is resorting to feature disentanglement techniques that are commonly used in feature debiasing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">31</span></a>, <a href="#bib.bib8" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">8</span></a>]</cite>. However, disentanglement techniques usually require training an additional VAE, which is computation-expensive at edge clients. Thus, to enable efficient and effective decoupling, we adopt the orthogonal subspace technique, which was previously used in continual learning for solving the catastrophic forgetting problem <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2</span></a>]</cite>. Compared with the VAE methods, the orthogonal subspace method<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2</span></a>]</cite> is set-and-fixed and learning-free, and it is highly effective in solving our problem.
We first give the definition of orthogonal subspace as follows.</p>
</div>
<div id="S3.Thmtheorem1" class="ltx_theorem ltx_theorem_definition">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="S3.Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Definition 3.1</span></span><span id="S3.Thmtheorem1.2.2" class="ltx_text ltx_font_bold"> </span>(Orthogonal Subspace)<span id="S3.Thmtheorem1.3.3" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="S3.Thmtheorem1.p1" class="ltx_para">
<p id="S3.Thmtheorem1.p1.5" class="ltx_p">The vector space <math id="S3.Thmtheorem1.p1.1.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S3.Thmtheorem1.p1.1.m1.1a"><mi id="S3.Thmtheorem1.p1.1.m1.1.1" xref="S3.Thmtheorem1.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.1.m1.1b"><ci id="S3.Thmtheorem1.p1.1.m1.1.1.cmml" xref="S3.Thmtheorem1.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.1.m1.1c">S</annotation></semantics></math> has two subspaces <math id="S3.Thmtheorem1.p1.2.m2.1" class="ltx_Math" alttext="S_{1}" display="inline"><semantics id="S3.Thmtheorem1.p1.2.m2.1a"><msub id="S3.Thmtheorem1.p1.2.m2.1.1" xref="S3.Thmtheorem1.p1.2.m2.1.1.cmml"><mi id="S3.Thmtheorem1.p1.2.m2.1.1.2" xref="S3.Thmtheorem1.p1.2.m2.1.1.2.cmml">S</mi><mn id="S3.Thmtheorem1.p1.2.m2.1.1.3" xref="S3.Thmtheorem1.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.2.m2.1b"><apply id="S3.Thmtheorem1.p1.2.m2.1.1.cmml" xref="S3.Thmtheorem1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.2.m2.1.1.1.cmml" xref="S3.Thmtheorem1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.Thmtheorem1.p1.2.m2.1.1.2.cmml" xref="S3.Thmtheorem1.p1.2.m2.1.1.2">𝑆</ci><cn type="integer" id="S3.Thmtheorem1.p1.2.m2.1.1.3.cmml" xref="S3.Thmtheorem1.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.2.m2.1c">S_{1}</annotation></semantics></math> and <math id="S3.Thmtheorem1.p1.3.m3.1" class="ltx_Math" alttext="S_{2}" display="inline"><semantics id="S3.Thmtheorem1.p1.3.m3.1a"><msub id="S3.Thmtheorem1.p1.3.m3.1.1" xref="S3.Thmtheorem1.p1.3.m3.1.1.cmml"><mi id="S3.Thmtheorem1.p1.3.m3.1.1.2" xref="S3.Thmtheorem1.p1.3.m3.1.1.2.cmml">S</mi><mn id="S3.Thmtheorem1.p1.3.m3.1.1.3" xref="S3.Thmtheorem1.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.3.m3.1b"><apply id="S3.Thmtheorem1.p1.3.m3.1.1.cmml" xref="S3.Thmtheorem1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.3.m3.1.1.1.cmml" xref="S3.Thmtheorem1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.Thmtheorem1.p1.3.m3.1.1.2.cmml" xref="S3.Thmtheorem1.p1.3.m3.1.1.2">𝑆</ci><cn type="integer" id="S3.Thmtheorem1.p1.3.m3.1.1.3.cmml" xref="S3.Thmtheorem1.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.3.m3.1c">S_{2}</annotation></semantics></math>. <math id="S3.Thmtheorem1.p1.4.m4.1" class="ltx_Math" alttext="S_{1}" display="inline"><semantics id="S3.Thmtheorem1.p1.4.m4.1a"><msub id="S3.Thmtheorem1.p1.4.m4.1.1" xref="S3.Thmtheorem1.p1.4.m4.1.1.cmml"><mi id="S3.Thmtheorem1.p1.4.m4.1.1.2" xref="S3.Thmtheorem1.p1.4.m4.1.1.2.cmml">S</mi><mn id="S3.Thmtheorem1.p1.4.m4.1.1.3" xref="S3.Thmtheorem1.p1.4.m4.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.4.m4.1b"><apply id="S3.Thmtheorem1.p1.4.m4.1.1.cmml" xref="S3.Thmtheorem1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.4.m4.1.1.1.cmml" xref="S3.Thmtheorem1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.Thmtheorem1.p1.4.m4.1.1.2.cmml" xref="S3.Thmtheorem1.p1.4.m4.1.1.2">𝑆</ci><cn type="integer" id="S3.Thmtheorem1.p1.4.m4.1.1.3.cmml" xref="S3.Thmtheorem1.p1.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.4.m4.1c">S_{1}</annotation></semantics></math> and <math id="S3.Thmtheorem1.p1.5.m5.1" class="ltx_Math" alttext="S_{2}" display="inline"><semantics id="S3.Thmtheorem1.p1.5.m5.1a"><msub id="S3.Thmtheorem1.p1.5.m5.1.1" xref="S3.Thmtheorem1.p1.5.m5.1.1.cmml"><mi id="S3.Thmtheorem1.p1.5.m5.1.1.2" xref="S3.Thmtheorem1.p1.5.m5.1.1.2.cmml">S</mi><mn id="S3.Thmtheorem1.p1.5.m5.1.1.3" xref="S3.Thmtheorem1.p1.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.Thmtheorem1.p1.5.m5.1b"><apply id="S3.Thmtheorem1.p1.5.m5.1.1.cmml" xref="S3.Thmtheorem1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.Thmtheorem1.p1.5.m5.1.1.1.cmml" xref="S3.Thmtheorem1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.Thmtheorem1.p1.5.m5.1.1.2.cmml" xref="S3.Thmtheorem1.p1.5.m5.1.1.2">𝑆</ci><cn type="integer" id="S3.Thmtheorem1.p1.5.m5.1.1.3.cmml" xref="S3.Thmtheorem1.p1.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmtheorem1.p1.5.m5.1c">S_{2}</annotation></semantics></math> are said to be orthogonal if any vectors in each subspace are pair-wisely orthogonal, written as:</p>
<table id="A2.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\displaystyle\mathbf{v_{1}}\cdot\mathbf{v_{2}}=0,\quad\forall\mathbf{v_{1}}\in S_{1},\mathbf{v_{2}}\in S_{2}." display="inline"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1"><mrow id="S3.E5.m1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.3.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.2.cmml"><msub id="S3.E5.m1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.1.1.2.2.2.cmml">𝐯</mi><mn id="S3.E5.m1.1.1.1.1.1.1.2.2.3" xref="S3.E5.m1.1.1.1.1.1.1.2.2.3.cmml">𝟏</mn></msub><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.1.1.1.1.1.1.2.1" xref="S3.E5.m1.1.1.1.1.1.1.2.1.cmml">⋅</mo><msub id="S3.E5.m1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.2.3.2" xref="S3.E5.m1.1.1.1.1.1.1.2.3.2.cmml">𝐯</mi><mn id="S3.E5.m1.1.1.1.1.1.1.2.3.3" xref="S3.E5.m1.1.1.1.1.1.1.2.3.3.cmml">𝟐</mn></msub></mrow><mo id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S3.E5.m1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo rspace="1.167em" id="S3.E5.m1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E5.m1.1.1.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.2.2.3.cmml"><mrow id="S3.E5.m1.1.1.1.1.2.2.1.1" xref="S3.E5.m1.1.1.1.1.2.2.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.2.2.1.1.2" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.cmml"><mo rspace="0.167em" id="S3.E5.m1.1.1.1.1.2.2.1.1.2.1" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.1.cmml">∀</mo><msub id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.2.cmml">𝐯</mi><mn id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.3" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.3.cmml">𝟏</mn></msub></mrow><mo id="S3.E5.m1.1.1.1.1.2.2.1.1.1" xref="S3.E5.m1.1.1.1.1.2.2.1.1.1.cmml">∈</mo><msub id="S3.E5.m1.1.1.1.1.2.2.1.1.3" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.2.2.1.1.3.2" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3.2.cmml">S</mi><mn id="S3.E5.m1.1.1.1.1.2.2.1.1.3.3" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3.3.cmml">1</mn></msub></mrow><mo id="S3.E5.m1.1.1.1.1.2.2.2.3" xref="S3.E5.m1.1.1.1.1.2.2.3a.cmml">,</mo><mrow id="S3.E5.m1.1.1.1.1.2.2.2.2" xref="S3.E5.m1.1.1.1.1.2.2.2.2.cmml"><msub id="S3.E5.m1.1.1.1.1.2.2.2.2.2" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.2.2.2.2.2.2" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2.2.cmml">𝐯</mi><mn id="S3.E5.m1.1.1.1.1.2.2.2.2.2.3" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2.3.cmml">𝟐</mn></msub><mo id="S3.E5.m1.1.1.1.1.2.2.2.2.1" xref="S3.E5.m1.1.1.1.1.2.2.2.2.1.cmml">∈</mo><msub id="S3.E5.m1.1.1.1.1.2.2.2.2.3" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.2.2.2.2.3.2" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3.2.cmml">S</mi><mn id="S3.E5.m1.1.1.1.1.2.2.2.2.3.3" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3.3.cmml">2</mn></msub></mrow></mrow></mrow><mo lspace="0em" id="S3.E5.m1.1.1.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3a.cmml" xref="S3.E5.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"></eq><apply id="S3.E5.m1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2"><ci id="S3.E5.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.1">⋅</ci><apply id="S3.E5.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.2.2">𝐯</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.2.3">1</cn></apply><apply id="S3.E5.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.3.2">𝐯</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.2.3.3">2</cn></apply></apply><cn type="integer" id="S3.E5.m1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.3">0</cn></apply><apply id="S3.E5.m1.1.1.1.1.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.2.3a.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E5.m1.1.1.1.1.2.2.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1"><in id="S3.E5.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.1"></in><apply id="S3.E5.m1.1.1.1.1.2.2.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2"><csymbol cd="latexml" id="S3.E5.m1.1.1.1.1.2.2.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.1">for-all</csymbol><apply id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.2">𝐯</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.2.2.3">1</cn></apply></apply><apply id="S3.E5.m1.1.1.1.1.2.2.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.2.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.2.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3.2">𝑆</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.2.2.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.1.1.3.3">1</cn></apply></apply><apply id="S3.E5.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2"><in id="S3.E5.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.1"></in><apply id="S3.E5.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2.2">𝐯</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.2.3">2</cn></apply><apply id="S3.E5.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3.2">𝑆</ci><cn type="integer" id="S3.E5.m1.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E5.m1.1.1.1.1.2.2.2.2.3.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle\mathbf{v_{1}}\cdot\mathbf{v_{2}}=0,\quad\forall\mathbf{v_{1}}\in S_{1},\mathbf{v_{2}}\in S_{2}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div id="S3.SS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.p2.1" class="ltx_p"><span id="S3.SS2.p2.1.1" class="ltx_text ltx_font_bold">Orthogonal projections facilitate orthogonal feature subspaces.</span>
In continual learning, orthogonal projections are used to enable the time-varying data to be learned into different subspaces of one model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2</span></a>]</cite>. Inspired by this, in our work, we use orthogonal projections to learn orthogonal feature representations of two different feature extractors, i.e., the generic and personalized.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">We use the projection matrices that satisfy the following orthogonal and normalized properties:</p>
<table id="A2.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E6.m1.1" class="ltx_Math" alttext="\displaystyle{P}_{i}^{\top}{P}_{i}=I;\&gt;{P}_{i}^{\top}{P}_{j}=0,i\neq j." display="inline"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1"><mrow id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.3.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.2.cmml"><msubsup id="S3.E6.m1.1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="S3.E6.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.3.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.1.1.2.1" xref="S3.E6.m1.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.1.1.2.3.2.cmml">P</mi><mi id="S3.E6.m1.1.1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.1.1.2.3.3.cmml">i</mi></msub></mrow><mo id="S3.E6.m1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.cmml">=</mo><mi id="S3.E6.m1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.3.cmml">I</mi></mrow><mo rspace="0.387em" id="S3.E6.m1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.3a.cmml">;</mo><mrow id="S3.E6.m1.1.1.1.1.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.3.cmml"><mrow id="S3.E6.m1.1.1.1.1.2.2.1.1" xref="S3.E6.m1.1.1.1.1.2.2.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.2.2.1.1.2" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.cmml"><msubsup id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.2.cmml">P</mi><mi id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.3.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.3.cmml">⊤</mo></msubsup><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.2.2.1.1.2.1" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.2.cmml">P</mi><mi id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.3.cmml">j</mi></msub></mrow><mo id="S3.E6.m1.1.1.1.1.2.2.1.1.1" xref="S3.E6.m1.1.1.1.1.2.2.1.1.1.cmml">=</mo><mn id="S3.E6.m1.1.1.1.1.2.2.1.1.3" xref="S3.E6.m1.1.1.1.1.2.2.1.1.3.cmml">0</mn></mrow><mo id="S3.E6.m1.1.1.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.3a.cmml">,</mo><mrow id="S3.E6.m1.1.1.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.2.2.2.cmml">i</mi><mo id="S3.E6.m1.1.1.1.1.2.2.2.2.1" xref="S3.E6.m1.1.1.1.1.2.2.2.2.1.cmml">≠</mo><mi id="S3.E6.m1.1.1.1.1.2.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.2.2.3.cmml">j</mi></mrow></mrow></mrow><mo lspace="0em" id="S3.E6.m1.1.1.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3a.cmml" xref="S3.E6.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1"></eq><apply id="S3.E6.m1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2"><times id="S3.E6.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.1"></times><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.E6.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.2">𝑃</ci><ci id="S3.E6.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.2.3">top</csymbol></apply><apply id="S3.E6.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3.2">𝑃</ci><ci id="S3.E6.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.2.3.3">𝑖</ci></apply></apply><ci id="S3.E6.m1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.3">𝐼</ci></apply><apply id="S3.E6.m1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.2.3a.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E6.m1.1.1.1.1.2.2.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1"><eq id="S3.E6.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.1"></eq><apply id="S3.E6.m1.1.1.1.1.2.2.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2"><times id="S3.E6.m1.1.1.1.1.2.2.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.1"></times><apply id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2">superscript</csymbol><apply id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.2">𝑃</ci><ci id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.2.3">𝑖</ci></apply><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.2.3">top</csymbol></apply><apply id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.2">𝑃</ci><ci id="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.2.3.3">𝑗</ci></apply></apply><cn type="integer" id="S3.E6.m1.1.1.1.1.2.2.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.1.1.3">0</cn></apply><apply id="S3.E6.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2"><neq id="S3.E6.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2.1"></neq><ci id="S3.E6.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2.2">𝑖</ci><ci id="S3.E6.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle{P}_{i}^{\top}{P}_{i}=I;\&gt;{P}_{i}^{\top}{P}_{j}=0,i\neq j.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.7" class="ltx_p">Given the raw data feature <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mi id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><ci id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">x</annotation></semantics></math>, we assume the feature extractor <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><mi id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><ci id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">W</annotation></semantics></math> produces the extracted feature as <math id="S3.SS2.p4.3.m3.2" class="ltx_Math" alttext="\phi_{W}=f(x;W)" display="inline"><semantics id="S3.SS2.p4.3.m3.2a"><mrow id="S3.SS2.p4.3.m3.2.3" xref="S3.SS2.p4.3.m3.2.3.cmml"><msub id="S3.SS2.p4.3.m3.2.3.2" xref="S3.SS2.p4.3.m3.2.3.2.cmml"><mi id="S3.SS2.p4.3.m3.2.3.2.2" xref="S3.SS2.p4.3.m3.2.3.2.2.cmml">ϕ</mi><mi id="S3.SS2.p4.3.m3.2.3.2.3" xref="S3.SS2.p4.3.m3.2.3.2.3.cmml">W</mi></msub><mo id="S3.SS2.p4.3.m3.2.3.1" xref="S3.SS2.p4.3.m3.2.3.1.cmml">=</mo><mrow id="S3.SS2.p4.3.m3.2.3.3" xref="S3.SS2.p4.3.m3.2.3.3.cmml"><mi id="S3.SS2.p4.3.m3.2.3.3.2" xref="S3.SS2.p4.3.m3.2.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.3.m3.2.3.3.1" xref="S3.SS2.p4.3.m3.2.3.3.1.cmml">​</mo><mrow id="S3.SS2.p4.3.m3.2.3.3.3.2" xref="S3.SS2.p4.3.m3.2.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS2.p4.3.m3.2.3.3.3.2.1" xref="S3.SS2.p4.3.m3.2.3.3.3.1.cmml">(</mo><mi id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml">x</mi><mo id="S3.SS2.p4.3.m3.2.3.3.3.2.2" xref="S3.SS2.p4.3.m3.2.3.3.3.1.cmml">;</mo><mi id="S3.SS2.p4.3.m3.2.2" xref="S3.SS2.p4.3.m3.2.2.cmml">W</mi><mo stretchy="false" id="S3.SS2.p4.3.m3.2.3.3.3.2.3" xref="S3.SS2.p4.3.m3.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.2b"><apply id="S3.SS2.p4.3.m3.2.3.cmml" xref="S3.SS2.p4.3.m3.2.3"><eq id="S3.SS2.p4.3.m3.2.3.1.cmml" xref="S3.SS2.p4.3.m3.2.3.1"></eq><apply id="S3.SS2.p4.3.m3.2.3.2.cmml" xref="S3.SS2.p4.3.m3.2.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.2.3.2.1.cmml" xref="S3.SS2.p4.3.m3.2.3.2">subscript</csymbol><ci id="S3.SS2.p4.3.m3.2.3.2.2.cmml" xref="S3.SS2.p4.3.m3.2.3.2.2">italic-ϕ</ci><ci id="S3.SS2.p4.3.m3.2.3.2.3.cmml" xref="S3.SS2.p4.3.m3.2.3.2.3">𝑊</ci></apply><apply id="S3.SS2.p4.3.m3.2.3.3.cmml" xref="S3.SS2.p4.3.m3.2.3.3"><times id="S3.SS2.p4.3.m3.2.3.3.1.cmml" xref="S3.SS2.p4.3.m3.2.3.3.1"></times><ci id="S3.SS2.p4.3.m3.2.3.3.2.cmml" xref="S3.SS2.p4.3.m3.2.3.3.2">𝑓</ci><list id="S3.SS2.p4.3.m3.2.3.3.3.1.cmml" xref="S3.SS2.p4.3.m3.2.3.3.3.2"><ci id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">𝑥</ci><ci id="S3.SS2.p4.3.m3.2.2.cmml" xref="S3.SS2.p4.3.m3.2.2">𝑊</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.2c">\phi_{W}=f(x;W)</annotation></semantics></math>.
After applying a projection matrix <math id="S3.SS2.p4.4.m4.1" class="ltx_Math" alttext="P_{i}" display="inline"><semantics id="S3.SS2.p4.4.m4.1a"><msub id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml"><mi id="S3.SS2.p4.4.m4.1.1.2" xref="S3.SS2.p4.4.m4.1.1.2.cmml">P</mi><mi id="S3.SS2.p4.4.m4.1.1.3" xref="S3.SS2.p4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><apply id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m4.1.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p4.4.m4.1.1.2.cmml" xref="S3.SS2.p4.4.m4.1.1.2">𝑃</ci><ci id="S3.SS2.p4.4.m4.1.1.3.cmml" xref="S3.SS2.p4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">P_{i}</annotation></semantics></math>, the extracted feature is <math id="S3.SS2.p4.5.m5.1" class="ltx_Math" alttext="\phi_{P_{i}}=P_{i}\phi_{W}" display="inline"><semantics id="S3.SS2.p4.5.m5.1a"><mrow id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml"><msub id="S3.SS2.p4.5.m5.1.1.2" xref="S3.SS2.p4.5.m5.1.1.2.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2.2" xref="S3.SS2.p4.5.m5.1.1.2.2.cmml">ϕ</mi><msub id="S3.SS2.p4.5.m5.1.1.2.3" xref="S3.SS2.p4.5.m5.1.1.2.3.cmml"><mi id="S3.SS2.p4.5.m5.1.1.2.3.2" xref="S3.SS2.p4.5.m5.1.1.2.3.2.cmml">P</mi><mi id="S3.SS2.p4.5.m5.1.1.2.3.3" xref="S3.SS2.p4.5.m5.1.1.2.3.3.cmml">i</mi></msub></msub><mo id="S3.SS2.p4.5.m5.1.1.1" xref="S3.SS2.p4.5.m5.1.1.1.cmml">=</mo><mrow id="S3.SS2.p4.5.m5.1.1.3" xref="S3.SS2.p4.5.m5.1.1.3.cmml"><msub id="S3.SS2.p4.5.m5.1.1.3.2" xref="S3.SS2.p4.5.m5.1.1.3.2.cmml"><mi id="S3.SS2.p4.5.m5.1.1.3.2.2" xref="S3.SS2.p4.5.m5.1.1.3.2.2.cmml">P</mi><mi id="S3.SS2.p4.5.m5.1.1.3.2.3" xref="S3.SS2.p4.5.m5.1.1.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p4.5.m5.1.1.3.1" xref="S3.SS2.p4.5.m5.1.1.3.1.cmml">​</mo><msub id="S3.SS2.p4.5.m5.1.1.3.3" xref="S3.SS2.p4.5.m5.1.1.3.3.cmml"><mi id="S3.SS2.p4.5.m5.1.1.3.3.2" xref="S3.SS2.p4.5.m5.1.1.3.3.2.cmml">ϕ</mi><mi id="S3.SS2.p4.5.m5.1.1.3.3.3" xref="S3.SS2.p4.5.m5.1.1.3.3.3.cmml">W</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><apply id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1"><eq id="S3.SS2.p4.5.m5.1.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1.1"></eq><apply id="S3.SS2.p4.5.m5.1.1.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.2.1.cmml" xref="S3.SS2.p4.5.m5.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.2.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2.2">italic-ϕ</ci><apply id="S3.SS2.p4.5.m5.1.1.2.3.cmml" xref="S3.SS2.p4.5.m5.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.2.3.1.cmml" xref="S3.SS2.p4.5.m5.1.1.2.3">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.2.3.2.cmml" xref="S3.SS2.p4.5.m5.1.1.2.3.2">𝑃</ci><ci id="S3.SS2.p4.5.m5.1.1.2.3.3.cmml" xref="S3.SS2.p4.5.m5.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS2.p4.5.m5.1.1.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3"><times id="S3.SS2.p4.5.m5.1.1.3.1.cmml" xref="S3.SS2.p4.5.m5.1.1.3.1"></times><apply id="S3.SS2.p4.5.m5.1.1.3.2.cmml" xref="S3.SS2.p4.5.m5.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.3.2.1.cmml" xref="S3.SS2.p4.5.m5.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.3.2.2.cmml" xref="S3.SS2.p4.5.m5.1.1.3.2.2">𝑃</ci><ci id="S3.SS2.p4.5.m5.1.1.3.2.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3.2.3">𝑖</ci></apply><apply id="S3.SS2.p4.5.m5.1.1.3.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p4.5.m5.1.1.3.3.1.cmml" xref="S3.SS2.p4.5.m5.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p4.5.m5.1.1.3.3.2.cmml" xref="S3.SS2.p4.5.m5.1.1.3.3.2">italic-ϕ</ci><ci id="S3.SS2.p4.5.m5.1.1.3.3.3.cmml" xref="S3.SS2.p4.5.m5.1.1.3.3.3">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">\phi_{P_{i}}=P_{i}\phi_{W}</annotation></semantics></math>. We will show that by applying orthogonal projections <math id="S3.SS2.p4.6.m6.1" class="ltx_Math" alttext="P_{i}" display="inline"><semantics id="S3.SS2.p4.6.m6.1a"><msub id="S3.SS2.p4.6.m6.1.1" xref="S3.SS2.p4.6.m6.1.1.cmml"><mi id="S3.SS2.p4.6.m6.1.1.2" xref="S3.SS2.p4.6.m6.1.1.2.cmml">P</mi><mi id="S3.SS2.p4.6.m6.1.1.3" xref="S3.SS2.p4.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m6.1b"><apply id="S3.SS2.p4.6.m6.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.6.m6.1.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p4.6.m6.1.1.2.cmml" xref="S3.SS2.p4.6.m6.1.1.2">𝑃</ci><ci id="S3.SS2.p4.6.m6.1.1.3.cmml" xref="S3.SS2.p4.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m6.1c">P_{i}</annotation></semantics></math> and <math id="S3.SS2.p4.7.m7.1" class="ltx_Math" alttext="P_{j}" display="inline"><semantics id="S3.SS2.p4.7.m7.1a"><msub id="S3.SS2.p4.7.m7.1.1" xref="S3.SS2.p4.7.m7.1.1.cmml"><mi id="S3.SS2.p4.7.m7.1.1.2" xref="S3.SS2.p4.7.m7.1.1.2.cmml">P</mi><mi id="S3.SS2.p4.7.m7.1.1.3" xref="S3.SS2.p4.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.7.m7.1b"><apply id="S3.SS2.p4.7.m7.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.7.m7.1.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p4.7.m7.1.1.2.cmml" xref="S3.SS2.p4.7.m7.1.1.2">𝑃</ci><ci id="S3.SS2.p4.7.m7.1.1.3.cmml" xref="S3.SS2.p4.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.7.m7.1c">P_{j}</annotation></semantics></math> that satisfy Equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Decoupling Orthogonal Feature Subspaces ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), we can have orthogonal gradient updates, as a result, obtaining the orthogonal model parameters and feature spaces.</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.12" class="ltx_p">Assuming that each feature extractor consists of <math id="S3.SS2.p5.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S3.SS2.p5.1.m1.1a"><mi id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">L</annotation></semantics></math> hidden layers, an input sample <math id="S3.SS2.p5.2.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS2.p5.2.m2.1a"><mi id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><ci id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">x</annotation></semantics></math> will be passed in each layer as follows: the <math id="S3.SS2.p5.3.m3.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS2.p5.3.m3.1a"><mi id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><ci id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">l</annotation></semantics></math>-th layer’s output is <math id="S3.SS2.p5.4.m4.2" class="ltx_Math" alttext="h_{l}=\sigma(h_{l-1};W_{l})" display="inline"><semantics id="S3.SS2.p5.4.m4.2a"><mrow id="S3.SS2.p5.4.m4.2.2" xref="S3.SS2.p5.4.m4.2.2.cmml"><msub id="S3.SS2.p5.4.m4.2.2.4" xref="S3.SS2.p5.4.m4.2.2.4.cmml"><mi id="S3.SS2.p5.4.m4.2.2.4.2" xref="S3.SS2.p5.4.m4.2.2.4.2.cmml">h</mi><mi id="S3.SS2.p5.4.m4.2.2.4.3" xref="S3.SS2.p5.4.m4.2.2.4.3.cmml">l</mi></msub><mo id="S3.SS2.p5.4.m4.2.2.3" xref="S3.SS2.p5.4.m4.2.2.3.cmml">=</mo><mrow id="S3.SS2.p5.4.m4.2.2.2" xref="S3.SS2.p5.4.m4.2.2.2.cmml"><mi id="S3.SS2.p5.4.m4.2.2.2.4" xref="S3.SS2.p5.4.m4.2.2.2.4.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.4.m4.2.2.2.3" xref="S3.SS2.p5.4.m4.2.2.2.3.cmml">​</mo><mrow id="S3.SS2.p5.4.m4.2.2.2.2.2" xref="S3.SS2.p5.4.m4.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p5.4.m4.2.2.2.2.2.3" xref="S3.SS2.p5.4.m4.2.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p5.4.m4.1.1.1.1.1.1" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p5.4.m4.1.1.1.1.1.1.2" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.2.cmml">h</mi><mrow id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.2" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.2.cmml">l</mi><mo id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.1" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.3" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.SS2.p5.4.m4.2.2.2.2.2.4" xref="S3.SS2.p5.4.m4.2.2.2.2.3.cmml">;</mo><msub id="S3.SS2.p5.4.m4.2.2.2.2.2.2" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2.cmml"><mi id="S3.SS2.p5.4.m4.2.2.2.2.2.2.2" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2.2.cmml">W</mi><mi id="S3.SS2.p5.4.m4.2.2.2.2.2.2.3" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2.3.cmml">l</mi></msub><mo stretchy="false" id="S3.SS2.p5.4.m4.2.2.2.2.2.5" xref="S3.SS2.p5.4.m4.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.4.m4.2b"><apply id="S3.SS2.p5.4.m4.2.2.cmml" xref="S3.SS2.p5.4.m4.2.2"><eq id="S3.SS2.p5.4.m4.2.2.3.cmml" xref="S3.SS2.p5.4.m4.2.2.3"></eq><apply id="S3.SS2.p5.4.m4.2.2.4.cmml" xref="S3.SS2.p5.4.m4.2.2.4"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.2.2.4.1.cmml" xref="S3.SS2.p5.4.m4.2.2.4">subscript</csymbol><ci id="S3.SS2.p5.4.m4.2.2.4.2.cmml" xref="S3.SS2.p5.4.m4.2.2.4.2">ℎ</ci><ci id="S3.SS2.p5.4.m4.2.2.4.3.cmml" xref="S3.SS2.p5.4.m4.2.2.4.3">𝑙</ci></apply><apply id="S3.SS2.p5.4.m4.2.2.2.cmml" xref="S3.SS2.p5.4.m4.2.2.2"><times id="S3.SS2.p5.4.m4.2.2.2.3.cmml" xref="S3.SS2.p5.4.m4.2.2.2.3"></times><ci id="S3.SS2.p5.4.m4.2.2.2.4.cmml" xref="S3.SS2.p5.4.m4.2.2.2.4">𝜎</ci><list id="S3.SS2.p5.4.m4.2.2.2.2.3.cmml" xref="S3.SS2.p5.4.m4.2.2.2.2.2"><apply id="S3.SS2.p5.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p5.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.2">ℎ</ci><apply id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3"><minus id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.1"></minus><ci id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.2">𝑙</ci><cn type="integer" id="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p5.4.m4.1.1.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.SS2.p5.4.m4.2.2.2.2.2.2.cmml" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p5.4.m4.2.2.2.2.2.2.1.cmml" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p5.4.m4.2.2.2.2.2.2.2.cmml" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2.2">𝑊</ci><ci id="S3.SS2.p5.4.m4.2.2.2.2.2.2.3.cmml" xref="S3.SS2.p5.4.m4.2.2.2.2.2.2.3">𝑙</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.4.m4.2c">h_{l}=\sigma(h_{l-1};W_{l})</annotation></semantics></math>, where <math id="S3.SS2.p5.5.m5.1" class="ltx_Math" alttext="\sigma(\cdot)" display="inline"><semantics id="S3.SS2.p5.5.m5.1a"><mrow id="S3.SS2.p5.5.m5.1.2" xref="S3.SS2.p5.5.m5.1.2.cmml"><mi id="S3.SS2.p5.5.m5.1.2.2" xref="S3.SS2.p5.5.m5.1.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p5.5.m5.1.2.1" xref="S3.SS2.p5.5.m5.1.2.1.cmml">​</mo><mrow id="S3.SS2.p5.5.m5.1.2.3.2" xref="S3.SS2.p5.5.m5.1.2.cmml"><mo stretchy="false" id="S3.SS2.p5.5.m5.1.2.3.2.1" xref="S3.SS2.p5.5.m5.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS2.p5.5.m5.1.1" xref="S3.SS2.p5.5.m5.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS2.p5.5.m5.1.2.3.2.2" xref="S3.SS2.p5.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.5.m5.1b"><apply id="S3.SS2.p5.5.m5.1.2.cmml" xref="S3.SS2.p5.5.m5.1.2"><times id="S3.SS2.p5.5.m5.1.2.1.cmml" xref="S3.SS2.p5.5.m5.1.2.1"></times><ci id="S3.SS2.p5.5.m5.1.2.2.cmml" xref="S3.SS2.p5.5.m5.1.2.2">𝜎</ci><ci id="S3.SS2.p5.5.m5.1.1.cmml" xref="S3.SS2.p5.5.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.5.m5.1c">\sigma(\cdot)</annotation></semantics></math> is an activation function, <math id="S3.SS2.p5.6.m6.1" class="ltx_Math" alttext="W_{l}" display="inline"><semantics id="S3.SS2.p5.6.m6.1a"><msub id="S3.SS2.p5.6.m6.1.1" xref="S3.SS2.p5.6.m6.1.1.cmml"><mi id="S3.SS2.p5.6.m6.1.1.2" xref="S3.SS2.p5.6.m6.1.1.2.cmml">W</mi><mi id="S3.SS2.p5.6.m6.1.1.3" xref="S3.SS2.p5.6.m6.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.6.m6.1b"><apply id="S3.SS2.p5.6.m6.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.6.m6.1.1.1.cmml" xref="S3.SS2.p5.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p5.6.m6.1.1.2.cmml" xref="S3.SS2.p5.6.m6.1.1.2">𝑊</ci><ci id="S3.SS2.p5.6.m6.1.1.3.cmml" xref="S3.SS2.p5.6.m6.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.6.m6.1c">W_{l}</annotation></semantics></math> is the parameter of the <math id="S3.SS2.p5.7.m7.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S3.SS2.p5.7.m7.1a"><mi id="S3.SS2.p5.7.m7.1.1" xref="S3.SS2.p5.7.m7.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.7.m7.1b"><ci id="S3.SS2.p5.7.m7.1.1.cmml" xref="S3.SS2.p5.7.m7.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.7.m7.1c">l</annotation></semantics></math>-th layer, <math id="S3.SS2.p5.8.m8.1" class="ltx_Math" alttext="h_{0}=x" display="inline"><semantics id="S3.SS2.p5.8.m8.1a"><mrow id="S3.SS2.p5.8.m8.1.1" xref="S3.SS2.p5.8.m8.1.1.cmml"><msub id="S3.SS2.p5.8.m8.1.1.2" xref="S3.SS2.p5.8.m8.1.1.2.cmml"><mi id="S3.SS2.p5.8.m8.1.1.2.2" xref="S3.SS2.p5.8.m8.1.1.2.2.cmml">h</mi><mn id="S3.SS2.p5.8.m8.1.1.2.3" xref="S3.SS2.p5.8.m8.1.1.2.3.cmml">0</mn></msub><mo id="S3.SS2.p5.8.m8.1.1.1" xref="S3.SS2.p5.8.m8.1.1.1.cmml">=</mo><mi id="S3.SS2.p5.8.m8.1.1.3" xref="S3.SS2.p5.8.m8.1.1.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.8.m8.1b"><apply id="S3.SS2.p5.8.m8.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1"><eq id="S3.SS2.p5.8.m8.1.1.1.cmml" xref="S3.SS2.p5.8.m8.1.1.1"></eq><apply id="S3.SS2.p5.8.m8.1.1.2.cmml" xref="S3.SS2.p5.8.m8.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.8.m8.1.1.2.1.cmml" xref="S3.SS2.p5.8.m8.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.8.m8.1.1.2.2.cmml" xref="S3.SS2.p5.8.m8.1.1.2.2">ℎ</ci><cn type="integer" id="S3.SS2.p5.8.m8.1.1.2.3.cmml" xref="S3.SS2.p5.8.m8.1.1.2.3">0</cn></apply><ci id="S3.SS2.p5.8.m8.1.1.3.cmml" xref="S3.SS2.p5.8.m8.1.1.3">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.8.m8.1c">h_{0}=x</annotation></semantics></math>, and <math id="S3.SS2.p5.9.m9.1" class="ltx_Math" alttext="h_{L}=\phi_{W}" display="inline"><semantics id="S3.SS2.p5.9.m9.1a"><mrow id="S3.SS2.p5.9.m9.1.1" xref="S3.SS2.p5.9.m9.1.1.cmml"><msub id="S3.SS2.p5.9.m9.1.1.2" xref="S3.SS2.p5.9.m9.1.1.2.cmml"><mi id="S3.SS2.p5.9.m9.1.1.2.2" xref="S3.SS2.p5.9.m9.1.1.2.2.cmml">h</mi><mi id="S3.SS2.p5.9.m9.1.1.2.3" xref="S3.SS2.p5.9.m9.1.1.2.3.cmml">L</mi></msub><mo id="S3.SS2.p5.9.m9.1.1.1" xref="S3.SS2.p5.9.m9.1.1.1.cmml">=</mo><msub id="S3.SS2.p5.9.m9.1.1.3" xref="S3.SS2.p5.9.m9.1.1.3.cmml"><mi id="S3.SS2.p5.9.m9.1.1.3.2" xref="S3.SS2.p5.9.m9.1.1.3.2.cmml">ϕ</mi><mi id="S3.SS2.p5.9.m9.1.1.3.3" xref="S3.SS2.p5.9.m9.1.1.3.3.cmml">W</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.9.m9.1b"><apply id="S3.SS2.p5.9.m9.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1"><eq id="S3.SS2.p5.9.m9.1.1.1.cmml" xref="S3.SS2.p5.9.m9.1.1.1"></eq><apply id="S3.SS2.p5.9.m9.1.1.2.cmml" xref="S3.SS2.p5.9.m9.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.9.m9.1.1.2.1.cmml" xref="S3.SS2.p5.9.m9.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.9.m9.1.1.2.2.cmml" xref="S3.SS2.p5.9.m9.1.1.2.2">ℎ</ci><ci id="S3.SS2.p5.9.m9.1.1.2.3.cmml" xref="S3.SS2.p5.9.m9.1.1.2.3">𝐿</ci></apply><apply id="S3.SS2.p5.9.m9.1.1.3.cmml" xref="S3.SS2.p5.9.m9.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p5.9.m9.1.1.3.1.cmml" xref="S3.SS2.p5.9.m9.1.1.3">subscript</csymbol><ci id="S3.SS2.p5.9.m9.1.1.3.2.cmml" xref="S3.SS2.p5.9.m9.1.1.3.2">italic-ϕ</ci><ci id="S3.SS2.p5.9.m9.1.1.3.3.cmml" xref="S3.SS2.p5.9.m9.1.1.3.3">𝑊</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.9.m9.1c">h_{L}=\phi_{W}</annotation></semantics></math>. Therefore, <math id="S3.SS2.p5.10.m10.1" class="ltx_Math" alttext="\phi_{P_{i}}=P_{i}h_{L}" display="inline"><semantics id="S3.SS2.p5.10.m10.1a"><mrow id="S3.SS2.p5.10.m10.1.1" xref="S3.SS2.p5.10.m10.1.1.cmml"><msub id="S3.SS2.p5.10.m10.1.1.2" xref="S3.SS2.p5.10.m10.1.1.2.cmml"><mi id="S3.SS2.p5.10.m10.1.1.2.2" xref="S3.SS2.p5.10.m10.1.1.2.2.cmml">ϕ</mi><msub id="S3.SS2.p5.10.m10.1.1.2.3" xref="S3.SS2.p5.10.m10.1.1.2.3.cmml"><mi id="S3.SS2.p5.10.m10.1.1.2.3.2" xref="S3.SS2.p5.10.m10.1.1.2.3.2.cmml">P</mi><mi id="S3.SS2.p5.10.m10.1.1.2.3.3" xref="S3.SS2.p5.10.m10.1.1.2.3.3.cmml">i</mi></msub></msub><mo id="S3.SS2.p5.10.m10.1.1.1" xref="S3.SS2.p5.10.m10.1.1.1.cmml">=</mo><mrow id="S3.SS2.p5.10.m10.1.1.3" xref="S3.SS2.p5.10.m10.1.1.3.cmml"><msub id="S3.SS2.p5.10.m10.1.1.3.2" xref="S3.SS2.p5.10.m10.1.1.3.2.cmml"><mi id="S3.SS2.p5.10.m10.1.1.3.2.2" xref="S3.SS2.p5.10.m10.1.1.3.2.2.cmml">P</mi><mi id="S3.SS2.p5.10.m10.1.1.3.2.3" xref="S3.SS2.p5.10.m10.1.1.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p5.10.m10.1.1.3.1" xref="S3.SS2.p5.10.m10.1.1.3.1.cmml">​</mo><msub id="S3.SS2.p5.10.m10.1.1.3.3" xref="S3.SS2.p5.10.m10.1.1.3.3.cmml"><mi id="S3.SS2.p5.10.m10.1.1.3.3.2" xref="S3.SS2.p5.10.m10.1.1.3.3.2.cmml">h</mi><mi id="S3.SS2.p5.10.m10.1.1.3.3.3" xref="S3.SS2.p5.10.m10.1.1.3.3.3.cmml">L</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.10.m10.1b"><apply id="S3.SS2.p5.10.m10.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1"><eq id="S3.SS2.p5.10.m10.1.1.1.cmml" xref="S3.SS2.p5.10.m10.1.1.1"></eq><apply id="S3.SS2.p5.10.m10.1.1.2.cmml" xref="S3.SS2.p5.10.m10.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.2.1.cmml" xref="S3.SS2.p5.10.m10.1.1.2">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.2.2.cmml" xref="S3.SS2.p5.10.m10.1.1.2.2">italic-ϕ</ci><apply id="S3.SS2.p5.10.m10.1.1.2.3.cmml" xref="S3.SS2.p5.10.m10.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.2.3.1.cmml" xref="S3.SS2.p5.10.m10.1.1.2.3">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.2.3.2.cmml" xref="S3.SS2.p5.10.m10.1.1.2.3.2">𝑃</ci><ci id="S3.SS2.p5.10.m10.1.1.2.3.3.cmml" xref="S3.SS2.p5.10.m10.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS2.p5.10.m10.1.1.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3"><times id="S3.SS2.p5.10.m10.1.1.3.1.cmml" xref="S3.SS2.p5.10.m10.1.1.3.1"></times><apply id="S3.SS2.p5.10.m10.1.1.3.2.cmml" xref="S3.SS2.p5.10.m10.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.3.2.1.cmml" xref="S3.SS2.p5.10.m10.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.3.2.2.cmml" xref="S3.SS2.p5.10.m10.1.1.3.2.2">𝑃</ci><ci id="S3.SS2.p5.10.m10.1.1.3.2.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3.2.3">𝑖</ci></apply><apply id="S3.SS2.p5.10.m10.1.1.3.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p5.10.m10.1.1.3.3.1.cmml" xref="S3.SS2.p5.10.m10.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p5.10.m10.1.1.3.3.2.cmml" xref="S3.SS2.p5.10.m10.1.1.3.3.2">ℎ</ci><ci id="S3.SS2.p5.10.m10.1.1.3.3.3.cmml" xref="S3.SS2.p5.10.m10.1.1.3.3.3">𝐿</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.10.m10.1c">\phi_{P_{i}}=P_{i}h_{L}</annotation></semantics></math>. In the training process, for any projection matrix <math id="S3.SS2.p5.11.m11.1" class="ltx_Math" alttext="P_{i}" display="inline"><semantics id="S3.SS2.p5.11.m11.1a"><msub id="S3.SS2.p5.11.m11.1.1" xref="S3.SS2.p5.11.m11.1.1.cmml"><mi id="S3.SS2.p5.11.m11.1.1.2" xref="S3.SS2.p5.11.m11.1.1.2.cmml">P</mi><mi id="S3.SS2.p5.11.m11.1.1.3" xref="S3.SS2.p5.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.11.m11.1b"><apply id="S3.SS2.p5.11.m11.1.1.cmml" xref="S3.SS2.p5.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.11.m11.1.1.1.cmml" xref="S3.SS2.p5.11.m11.1.1">subscript</csymbol><ci id="S3.SS2.p5.11.m11.1.1.2.cmml" xref="S3.SS2.p5.11.m11.1.1.2">𝑃</ci><ci id="S3.SS2.p5.11.m11.1.1.3.cmml" xref="S3.SS2.p5.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.11.m11.1c">P_{i}</annotation></semantics></math>, the gradient of any intermediate layer <math id="S3.SS2.p5.12.m12.1" class="ltx_Math" alttext="h_{l}" display="inline"><semantics id="S3.SS2.p5.12.m12.1a"><msub id="S3.SS2.p5.12.m12.1.1" xref="S3.SS2.p5.12.m12.1.1.cmml"><mi id="S3.SS2.p5.12.m12.1.1.2" xref="S3.SS2.p5.12.m12.1.1.2.cmml">h</mi><mi id="S3.SS2.p5.12.m12.1.1.3" xref="S3.SS2.p5.12.m12.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.12.m12.1b"><apply id="S3.SS2.p5.12.m12.1.1.cmml" xref="S3.SS2.p5.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.12.m12.1.1.1.cmml" xref="S3.SS2.p5.12.m12.1.1">subscript</csymbol><ci id="S3.SS2.p5.12.m12.1.1.2.cmml" xref="S3.SS2.p5.12.m12.1.1.2">ℎ</ci><ci id="S3.SS2.p5.12.m12.1.1.3.cmml" xref="S3.SS2.p5.12.m12.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.12.m12.1c">h_{l}</annotation></semantics></math> can be decomposed into:</p>
<table id="A2.EGx6" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex1.m1.2" class="ltx_Math" alttext="\displaystyle g_{l}^{P_{i}}=\frac{\partial l}{\partial h_{l}}=\left(\frac{\partial l}{\partial h_{L}}\right)\frac{\partial h_{L}}{\partial h_{l}}=\left(\frac{\partial\phi_{P_{i}}}{\partial h_{L}}\frac{\partial l}{\partial\phi_{P_{i}}}\right)\frac{\partial h_{L}}{\partial h_{l}}" display="inline"><semantics id="S3.Ex1.m1.2a"><mrow id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml"><msubsup id="S3.Ex1.m1.2.2.3" xref="S3.Ex1.m1.2.2.3.cmml"><mi id="S3.Ex1.m1.2.2.3.2.2" xref="S3.Ex1.m1.2.2.3.2.2.cmml">g</mi><mi id="S3.Ex1.m1.2.2.3.2.3" xref="S3.Ex1.m1.2.2.3.2.3.cmml">l</mi><msub id="S3.Ex1.m1.2.2.3.3" xref="S3.Ex1.m1.2.2.3.3.cmml"><mi id="S3.Ex1.m1.2.2.3.3.2" xref="S3.Ex1.m1.2.2.3.3.2.cmml">P</mi><mi id="S3.Ex1.m1.2.2.3.3.3" xref="S3.Ex1.m1.2.2.3.3.3.cmml">i</mi></msub></msubsup><mo id="S3.Ex1.m1.2.2.4" xref="S3.Ex1.m1.2.2.4.cmml">=</mo><mstyle displaystyle="true" id="S3.Ex1.m1.2.2.5" xref="S3.Ex1.m1.2.2.5.cmml"><mfrac id="S3.Ex1.m1.2.2.5a" xref="S3.Ex1.m1.2.2.5.cmml"><mrow id="S3.Ex1.m1.2.2.5.2" xref="S3.Ex1.m1.2.2.5.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.5.2.1" xref="S3.Ex1.m1.2.2.5.2.1.cmml">∂</mo><mi id="S3.Ex1.m1.2.2.5.2.2" xref="S3.Ex1.m1.2.2.5.2.2.cmml">l</mi></mrow><mrow id="S3.Ex1.m1.2.2.5.3" xref="S3.Ex1.m1.2.2.5.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.5.3.1" xref="S3.Ex1.m1.2.2.5.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.5.3.2" xref="S3.Ex1.m1.2.2.5.3.2.cmml"><mi id="S3.Ex1.m1.2.2.5.3.2.2" xref="S3.Ex1.m1.2.2.5.3.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.5.3.2.3" xref="S3.Ex1.m1.2.2.5.3.2.3.cmml">l</mi></msub></mrow></mfrac></mstyle><mo id="S3.Ex1.m1.2.2.6" xref="S3.Ex1.m1.2.2.6.cmml">=</mo><mrow id="S3.Ex1.m1.2.2.7" xref="S3.Ex1.m1.2.2.7.cmml"><mrow id="S3.Ex1.m1.2.2.7.2.2" xref="S3.Ex1.m1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.7.2.2.1" xref="S3.Ex1.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><mfrac id="S3.Ex1.m1.1.1a" xref="S3.Ex1.m1.1.1.cmml"><mrow id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.1.1.2.1" xref="S3.Ex1.m1.1.1.2.1.cmml">∂</mo><mi id="S3.Ex1.m1.1.1.2.2" xref="S3.Ex1.m1.1.1.2.2.cmml">l</mi></mrow><mrow id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.1.1.3.1" xref="S3.Ex1.m1.1.1.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.1.1.3.2" xref="S3.Ex1.m1.1.1.3.2.cmml"><mi id="S3.Ex1.m1.1.1.3.2.2" xref="S3.Ex1.m1.1.1.3.2.2.cmml">h</mi><mi id="S3.Ex1.m1.1.1.3.2.3" xref="S3.Ex1.m1.1.1.3.2.3.cmml">L</mi></msub></mrow></mfrac></mstyle><mo id="S3.Ex1.m1.2.2.7.2.2.2" xref="S3.Ex1.m1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.7.1" xref="S3.Ex1.m1.2.2.7.1.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex1.m1.2.2.7.3" xref="S3.Ex1.m1.2.2.7.3.cmml"><mfrac id="S3.Ex1.m1.2.2.7.3a" xref="S3.Ex1.m1.2.2.7.3.cmml"><mrow id="S3.Ex1.m1.2.2.7.3.2" xref="S3.Ex1.m1.2.2.7.3.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.7.3.2.1" xref="S3.Ex1.m1.2.2.7.3.2.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.7.3.2.2" xref="S3.Ex1.m1.2.2.7.3.2.2.cmml"><mi id="S3.Ex1.m1.2.2.7.3.2.2.2" xref="S3.Ex1.m1.2.2.7.3.2.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.7.3.2.2.3" xref="S3.Ex1.m1.2.2.7.3.2.2.3.cmml">L</mi></msub></mrow><mrow id="S3.Ex1.m1.2.2.7.3.3" xref="S3.Ex1.m1.2.2.7.3.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.7.3.3.1" xref="S3.Ex1.m1.2.2.7.3.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.7.3.3.2" xref="S3.Ex1.m1.2.2.7.3.3.2.cmml"><mi id="S3.Ex1.m1.2.2.7.3.3.2.2" xref="S3.Ex1.m1.2.2.7.3.3.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.7.3.3.2.3" xref="S3.Ex1.m1.2.2.7.3.3.2.3.cmml">l</mi></msub></mrow></mfrac></mstyle></mrow><mo id="S3.Ex1.m1.2.2.8" xref="S3.Ex1.m1.2.2.8.cmml">=</mo><mrow id="S3.Ex1.m1.2.2.1" xref="S3.Ex1.m1.2.2.1.cmml"><mrow id="S3.Ex1.m1.2.2.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml"><mo id="S3.Ex1.m1.2.2.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.Ex1.m1.2.2.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.Ex1.m1.2.2.1.1.1.1.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.cmml"><mfrac id="S3.Ex1.m1.2.2.1.1.1.1.2a" xref="S3.Ex1.m1.2.2.1.1.1.1.2.cmml"><mrow id="S3.Ex1.m1.2.2.1.1.1.1.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.2.2.1" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.2.cmml">ϕ</mi><msub id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.2.cmml">P</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.3.cmml">i</mi></msub></msub></mrow><mrow id="S3.Ex1.m1.2.2.1.1.1.1.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.2.3.1" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.3.cmml">L</mi></msub></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.1" xref="S3.Ex1.m1.2.2.1.1.1.1.1.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex1.m1.2.2.1.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.3.cmml"><mfrac id="S3.Ex1.m1.2.2.1.1.1.1.3a" xref="S3.Ex1.m1.2.2.1.1.1.1.3.cmml"><mrow id="S3.Ex1.m1.2.2.1.1.1.1.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.3.2.1" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2.1.cmml">∂</mo><mi id="S3.Ex1.m1.2.2.1.1.1.1.3.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2.2.cmml">l</mi></mrow><mrow id="S3.Ex1.m1.2.2.1.1.1.1.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.1.1.1.3.3.1" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.2" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.2.cmml">ϕ</mi><msub id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.cmml"><mi id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.2" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.2.cmml">P</mi><mi id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.3" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.3.cmml">i</mi></msub></msub></mrow></mfrac></mstyle></mrow><mo id="S3.Ex1.m1.2.2.1.1.1.3" xref="S3.Ex1.m1.2.2.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.Ex1.m1.2.2.1.2" xref="S3.Ex1.m1.2.2.1.2.cmml">​</mo><mstyle displaystyle="true" id="S3.Ex1.m1.2.2.1.3" xref="S3.Ex1.m1.2.2.1.3.cmml"><mfrac id="S3.Ex1.m1.2.2.1.3a" xref="S3.Ex1.m1.2.2.1.3.cmml"><mrow id="S3.Ex1.m1.2.2.1.3.2" xref="S3.Ex1.m1.2.2.1.3.2.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.3.2.1" xref="S3.Ex1.m1.2.2.1.3.2.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.1.3.2.2" xref="S3.Ex1.m1.2.2.1.3.2.2.cmml"><mi id="S3.Ex1.m1.2.2.1.3.2.2.2" xref="S3.Ex1.m1.2.2.1.3.2.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.1.3.2.2.3" xref="S3.Ex1.m1.2.2.1.3.2.2.3.cmml">L</mi></msub></mrow><mrow id="S3.Ex1.m1.2.2.1.3.3" xref="S3.Ex1.m1.2.2.1.3.3.cmml"><mo rspace="0em" id="S3.Ex1.m1.2.2.1.3.3.1" xref="S3.Ex1.m1.2.2.1.3.3.1.cmml">∂</mo><msub id="S3.Ex1.m1.2.2.1.3.3.2" xref="S3.Ex1.m1.2.2.1.3.3.2.cmml"><mi id="S3.Ex1.m1.2.2.1.3.3.2.2" xref="S3.Ex1.m1.2.2.1.3.3.2.2.cmml">h</mi><mi id="S3.Ex1.m1.2.2.1.3.3.2.3" xref="S3.Ex1.m1.2.2.1.3.3.2.3.cmml">l</mi></msub></mrow></mfrac></mstyle></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.2b"><apply id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2"><and id="S3.Ex1.m1.2.2a.cmml" xref="S3.Ex1.m1.2.2"></and><apply id="S3.Ex1.m1.2.2b.cmml" xref="S3.Ex1.m1.2.2"><eq id="S3.Ex1.m1.2.2.4.cmml" xref="S3.Ex1.m1.2.2.4"></eq><apply id="S3.Ex1.m1.2.2.3.cmml" xref="S3.Ex1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.3.1.cmml" xref="S3.Ex1.m1.2.2.3">superscript</csymbol><apply id="S3.Ex1.m1.2.2.3.2.cmml" xref="S3.Ex1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.3.2.1.cmml" xref="S3.Ex1.m1.2.2.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.3.2.2.cmml" xref="S3.Ex1.m1.2.2.3.2.2">𝑔</ci><ci id="S3.Ex1.m1.2.2.3.2.3.cmml" xref="S3.Ex1.m1.2.2.3.2.3">𝑙</ci></apply><apply id="S3.Ex1.m1.2.2.3.3.cmml" xref="S3.Ex1.m1.2.2.3.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.3.3.1.cmml" xref="S3.Ex1.m1.2.2.3.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.3.3.2.cmml" xref="S3.Ex1.m1.2.2.3.3.2">𝑃</ci><ci id="S3.Ex1.m1.2.2.3.3.3.cmml" xref="S3.Ex1.m1.2.2.3.3.3">𝑖</ci></apply></apply><apply id="S3.Ex1.m1.2.2.5.cmml" xref="S3.Ex1.m1.2.2.5"><divide id="S3.Ex1.m1.2.2.5.1.cmml" xref="S3.Ex1.m1.2.2.5"></divide><apply id="S3.Ex1.m1.2.2.5.2.cmml" xref="S3.Ex1.m1.2.2.5.2"><partialdiff id="S3.Ex1.m1.2.2.5.2.1.cmml" xref="S3.Ex1.m1.2.2.5.2.1"></partialdiff><ci id="S3.Ex1.m1.2.2.5.2.2.cmml" xref="S3.Ex1.m1.2.2.5.2.2">𝑙</ci></apply><apply id="S3.Ex1.m1.2.2.5.3.cmml" xref="S3.Ex1.m1.2.2.5.3"><partialdiff id="S3.Ex1.m1.2.2.5.3.1.cmml" xref="S3.Ex1.m1.2.2.5.3.1"></partialdiff><apply id="S3.Ex1.m1.2.2.5.3.2.cmml" xref="S3.Ex1.m1.2.2.5.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.5.3.2.1.cmml" xref="S3.Ex1.m1.2.2.5.3.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.5.3.2.2.cmml" xref="S3.Ex1.m1.2.2.5.3.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.5.3.2.3.cmml" xref="S3.Ex1.m1.2.2.5.3.2.3">𝑙</ci></apply></apply></apply></apply><apply id="S3.Ex1.m1.2.2c.cmml" xref="S3.Ex1.m1.2.2"><eq id="S3.Ex1.m1.2.2.6.cmml" xref="S3.Ex1.m1.2.2.6"></eq><share href="#S3.Ex1.m1.2.2.5.cmml" id="S3.Ex1.m1.2.2d.cmml" xref="S3.Ex1.m1.2.2"></share><apply id="S3.Ex1.m1.2.2.7.cmml" xref="S3.Ex1.m1.2.2.7"><times id="S3.Ex1.m1.2.2.7.1.cmml" xref="S3.Ex1.m1.2.2.7.1"></times><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.2.2.7.2.2"><divide id="S3.Ex1.m1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.7.2.2"></divide><apply id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2"><partialdiff id="S3.Ex1.m1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.2.1"></partialdiff><ci id="S3.Ex1.m1.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.2.2">𝑙</ci></apply><apply id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3"><partialdiff id="S3.Ex1.m1.1.1.3.1.cmml" xref="S3.Ex1.m1.1.1.3.1"></partialdiff><apply id="S3.Ex1.m1.1.1.3.2.cmml" xref="S3.Ex1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.3.2.1.cmml" xref="S3.Ex1.m1.1.1.3.2">subscript</csymbol><ci id="S3.Ex1.m1.1.1.3.2.2.cmml" xref="S3.Ex1.m1.1.1.3.2.2">ℎ</ci><ci id="S3.Ex1.m1.1.1.3.2.3.cmml" xref="S3.Ex1.m1.1.1.3.2.3">𝐿</ci></apply></apply></apply><apply id="S3.Ex1.m1.2.2.7.3.cmml" xref="S3.Ex1.m1.2.2.7.3"><divide id="S3.Ex1.m1.2.2.7.3.1.cmml" xref="S3.Ex1.m1.2.2.7.3"></divide><apply id="S3.Ex1.m1.2.2.7.3.2.cmml" xref="S3.Ex1.m1.2.2.7.3.2"><partialdiff id="S3.Ex1.m1.2.2.7.3.2.1.cmml" xref="S3.Ex1.m1.2.2.7.3.2.1"></partialdiff><apply id="S3.Ex1.m1.2.2.7.3.2.2.cmml" xref="S3.Ex1.m1.2.2.7.3.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.7.3.2.2.1.cmml" xref="S3.Ex1.m1.2.2.7.3.2.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.7.3.2.2.2.cmml" xref="S3.Ex1.m1.2.2.7.3.2.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.7.3.2.2.3.cmml" xref="S3.Ex1.m1.2.2.7.3.2.2.3">𝐿</ci></apply></apply><apply id="S3.Ex1.m1.2.2.7.3.3.cmml" xref="S3.Ex1.m1.2.2.7.3.3"><partialdiff id="S3.Ex1.m1.2.2.7.3.3.1.cmml" xref="S3.Ex1.m1.2.2.7.3.3.1"></partialdiff><apply id="S3.Ex1.m1.2.2.7.3.3.2.cmml" xref="S3.Ex1.m1.2.2.7.3.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.7.3.3.2.1.cmml" xref="S3.Ex1.m1.2.2.7.3.3.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.7.3.3.2.2.cmml" xref="S3.Ex1.m1.2.2.7.3.3.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.7.3.3.2.3.cmml" xref="S3.Ex1.m1.2.2.7.3.3.2.3">𝑙</ci></apply></apply></apply></apply></apply><apply id="S3.Ex1.m1.2.2e.cmml" xref="S3.Ex1.m1.2.2"><eq id="S3.Ex1.m1.2.2.8.cmml" xref="S3.Ex1.m1.2.2.8"></eq><share href="#S3.Ex1.m1.2.2.7.cmml" id="S3.Ex1.m1.2.2f.cmml" xref="S3.Ex1.m1.2.2"></share><apply id="S3.Ex1.m1.2.2.1.cmml" xref="S3.Ex1.m1.2.2.1"><times id="S3.Ex1.m1.2.2.1.2.cmml" xref="S3.Ex1.m1.2.2.1.2"></times><apply id="S3.Ex1.m1.2.2.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1"><times id="S3.Ex1.m1.2.2.1.1.1.1.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.1"></times><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2"><divide id="S3.Ex1.m1.2.2.1.1.1.1.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2"></divide><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2"><partialdiff id="S3.Ex1.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.1"></partialdiff><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.2">italic-ϕ</ci><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.2">𝑃</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.2.2.3.3">𝑖</ci></apply></apply></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3"><partialdiff id="S3.Ex1.m1.2.2.1.1.1.1.2.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.1"></partialdiff><apply id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.2.3.2.3">𝐿</ci></apply></apply></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3"><divide id="S3.Ex1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3"></divide><apply id="S3.Ex1.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2"><partialdiff id="S3.Ex1.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2.1"></partialdiff><ci id="S3.Ex1.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.2.2">𝑙</ci></apply><apply id="S3.Ex1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3"><partialdiff id="S3.Ex1.m1.2.2.1.1.1.1.3.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.1"></partialdiff><apply id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.2">italic-ϕ</ci><apply id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.1.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.2.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.2">𝑃</ci><ci id="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.3.cmml" xref="S3.Ex1.m1.2.2.1.1.1.1.3.3.2.3.3">𝑖</ci></apply></apply></apply></apply></apply><apply id="S3.Ex1.m1.2.2.1.3.cmml" xref="S3.Ex1.m1.2.2.1.3"><divide id="S3.Ex1.m1.2.2.1.3.1.cmml" xref="S3.Ex1.m1.2.2.1.3"></divide><apply id="S3.Ex1.m1.2.2.1.3.2.cmml" xref="S3.Ex1.m1.2.2.1.3.2"><partialdiff id="S3.Ex1.m1.2.2.1.3.2.1.cmml" xref="S3.Ex1.m1.2.2.1.3.2.1"></partialdiff><apply id="S3.Ex1.m1.2.2.1.3.2.2.cmml" xref="S3.Ex1.m1.2.2.1.3.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.3.2.2.1.cmml" xref="S3.Ex1.m1.2.2.1.3.2.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.3.2.2.2.cmml" xref="S3.Ex1.m1.2.2.1.3.2.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.1.3.2.2.3.cmml" xref="S3.Ex1.m1.2.2.1.3.2.2.3">𝐿</ci></apply></apply><apply id="S3.Ex1.m1.2.2.1.3.3.cmml" xref="S3.Ex1.m1.2.2.1.3.3"><partialdiff id="S3.Ex1.m1.2.2.1.3.3.1.cmml" xref="S3.Ex1.m1.2.2.1.3.3.1"></partialdiff><apply id="S3.Ex1.m1.2.2.1.3.3.2.cmml" xref="S3.Ex1.m1.2.2.1.3.3.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.1.3.3.2.1.cmml" xref="S3.Ex1.m1.2.2.1.3.3.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.1.3.3.2.2.cmml" xref="S3.Ex1.m1.2.2.1.3.3.2.2">ℎ</ci><ci id="S3.Ex1.m1.2.2.1.3.3.2.3.cmml" xref="S3.Ex1.m1.2.2.1.3.3.2.3">𝑙</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.2c">\displaystyle g_{l}^{P_{i}}=\frac{\partial l}{\partial h_{l}}=\left(\frac{\partial l}{\partial h_{L}}\right)\frac{\partial h_{L}}{\partial h_{l}}=\left(\frac{\partial\phi_{P_{i}}}{\partial h_{L}}\frac{\partial l}{\partial\phi_{P_{i}}}\right)\frac{\partial h_{L}}{\partial h_{l}}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E7.m1.1" class="ltx_Math" alttext="\displaystyle=\left(P_{i}\frac{\partial l}{\partial\phi_{P_{i}}}\right)\prod_{k=l}^{L-1}\frac{\partial h_{k+1}}{\partial h_{k}}=g_{L}^{P_{i}}\prod_{k=l}^{L-1}D_{k+1}W_{k+1}," display="inline"><semantics id="S3.E7.m1.1a"><mrow id="S3.E7.m1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml"><mi id="S3.E7.m1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.3.cmml"></mi><mo id="S3.E7.m1.1.1.1.1.4" xref="S3.E7.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E7.m1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E7.m1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E7.m1.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2.2.cmml">P</mi><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.cmml"><mfrac id="S3.E7.m1.1.1.1.1.1.1.1.1.3a" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.cmml"><mo rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.1.cmml">∂</mo><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.2.cmml">l</mi></mrow><mrow id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mo rspace="0em" id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.1" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.1.cmml">∂</mo><msub id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.2.cmml">ϕ</mi><msub id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.2" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml">P</mi><mi id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml">i</mi></msub></msub></mrow></mfrac></mstyle></mrow><mo id="S3.E7.m1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E7.m1.1.1.1.1.1.3" xref="S3.E7.m1.1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.1.3.1" xref="S3.E7.m1.1.1.1.1.1.3.1.cmml"><munderover id="S3.E7.m1.1.1.1.1.1.3.1a" xref="S3.E7.m1.1.1.1.1.1.3.1.cmml"><mo movablelimits="false" id="S3.E7.m1.1.1.1.1.1.3.1.2.2" xref="S3.E7.m1.1.1.1.1.1.3.1.2.2.cmml">∏</mo><mrow id="S3.E7.m1.1.1.1.1.1.3.1.2.3" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.3.1.2.3.2" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.2.cmml">k</mi><mo id="S3.E7.m1.1.1.1.1.1.3.1.2.3.1" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.1.cmml">=</mo><mi id="S3.E7.m1.1.1.1.1.1.3.1.2.3.3" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.3.cmml">l</mi></mrow><mrow id="S3.E7.m1.1.1.1.1.1.3.1.3" xref="S3.E7.m1.1.1.1.1.1.3.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.3.1.3.2" xref="S3.E7.m1.1.1.1.1.1.3.1.3.2.cmml">L</mi><mo id="S3.E7.m1.1.1.1.1.1.3.1.3.1" xref="S3.E7.m1.1.1.1.1.1.3.1.3.1.cmml">−</mo><mn id="S3.E7.m1.1.1.1.1.1.3.1.3.3" xref="S3.E7.m1.1.1.1.1.1.3.1.3.3.cmml">1</mn></mrow></munderover></mstyle><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.1.3.2" xref="S3.E7.m1.1.1.1.1.1.3.2.cmml"><mfrac id="S3.E7.m1.1.1.1.1.1.3.2a" xref="S3.E7.m1.1.1.1.1.1.3.2.cmml"><mrow id="S3.E7.m1.1.1.1.1.1.3.2.2" xref="S3.E7.m1.1.1.1.1.1.3.2.2.cmml"><mo rspace="0em" id="S3.E7.m1.1.1.1.1.1.3.2.2.1" xref="S3.E7.m1.1.1.1.1.1.3.2.2.1.cmml">∂</mo><msub id="S3.E7.m1.1.1.1.1.1.3.2.2.2" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.3.2.2.2.2" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.2.cmml">h</mi><mrow id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.2" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.2.cmml">k</mi><mo id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.1" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.3" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow><mrow id="S3.E7.m1.1.1.1.1.1.3.2.3" xref="S3.E7.m1.1.1.1.1.1.3.2.3.cmml"><mo rspace="0em" id="S3.E7.m1.1.1.1.1.1.3.2.3.1" xref="S3.E7.m1.1.1.1.1.1.3.2.3.1.cmml">∂</mo><msub id="S3.E7.m1.1.1.1.1.1.3.2.3.2" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2.cmml"><mi id="S3.E7.m1.1.1.1.1.1.3.2.3.2.2" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2.2.cmml">h</mi><mi id="S3.E7.m1.1.1.1.1.1.3.2.3.2.3" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2.3.cmml">k</mi></msub></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E7.m1.1.1.1.1.5" xref="S3.E7.m1.1.1.1.1.5.cmml">=</mo><mrow id="S3.E7.m1.1.1.1.1.6" xref="S3.E7.m1.1.1.1.1.6.cmml"><msubsup id="S3.E7.m1.1.1.1.1.6.2" xref="S3.E7.m1.1.1.1.1.6.2.cmml"><mi id="S3.E7.m1.1.1.1.1.6.2.2.2" xref="S3.E7.m1.1.1.1.1.6.2.2.2.cmml">g</mi><mi id="S3.E7.m1.1.1.1.1.6.2.2.3" xref="S3.E7.m1.1.1.1.1.6.2.2.3.cmml">L</mi><msub id="S3.E7.m1.1.1.1.1.6.2.3" xref="S3.E7.m1.1.1.1.1.6.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.2.3.2" xref="S3.E7.m1.1.1.1.1.6.2.3.2.cmml">P</mi><mi id="S3.E7.m1.1.1.1.1.6.2.3.3" xref="S3.E7.m1.1.1.1.1.6.2.3.3.cmml">i</mi></msub></msubsup><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.6.1" xref="S3.E7.m1.1.1.1.1.6.1.cmml">​</mo><mrow id="S3.E7.m1.1.1.1.1.6.3" xref="S3.E7.m1.1.1.1.1.6.3.cmml"><mstyle displaystyle="true" id="S3.E7.m1.1.1.1.1.6.3.1" xref="S3.E7.m1.1.1.1.1.6.3.1.cmml"><munderover id="S3.E7.m1.1.1.1.1.6.3.1a" xref="S3.E7.m1.1.1.1.1.6.3.1.cmml"><mo movablelimits="false" id="S3.E7.m1.1.1.1.1.6.3.1.2.2" xref="S3.E7.m1.1.1.1.1.6.3.1.2.2.cmml">∏</mo><mrow id="S3.E7.m1.1.1.1.1.6.3.1.2.3" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.1.2.3.2" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.2.cmml">k</mi><mo id="S3.E7.m1.1.1.1.1.6.3.1.2.3.1" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.1.cmml">=</mo><mi id="S3.E7.m1.1.1.1.1.6.3.1.2.3.3" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.3.cmml">l</mi></mrow><mrow id="S3.E7.m1.1.1.1.1.6.3.1.3" xref="S3.E7.m1.1.1.1.1.6.3.1.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.1.3.2" xref="S3.E7.m1.1.1.1.1.6.3.1.3.2.cmml">L</mi><mo id="S3.E7.m1.1.1.1.1.6.3.1.3.1" xref="S3.E7.m1.1.1.1.1.6.3.1.3.1.cmml">−</mo><mn id="S3.E7.m1.1.1.1.1.6.3.1.3.3" xref="S3.E7.m1.1.1.1.1.6.3.1.3.3.cmml">1</mn></mrow></munderover></mstyle><mrow id="S3.E7.m1.1.1.1.1.6.3.2" xref="S3.E7.m1.1.1.1.1.6.3.2.cmml"><msub id="S3.E7.m1.1.1.1.1.6.3.2.2" xref="S3.E7.m1.1.1.1.1.6.3.2.2.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.2.2.2" xref="S3.E7.m1.1.1.1.1.6.3.2.2.2.cmml">D</mi><mrow id="S3.E7.m1.1.1.1.1.6.3.2.2.3" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.2.2.3.2" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.2.cmml">k</mi><mo id="S3.E7.m1.1.1.1.1.6.3.2.2.3.1" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.6.3.2.2.3.3" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.3.cmml">1</mn></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.1.1.1.1.6.3.2.1" xref="S3.E7.m1.1.1.1.1.6.3.2.1.cmml">​</mo><msub id="S3.E7.m1.1.1.1.1.6.3.2.3" xref="S3.E7.m1.1.1.1.1.6.3.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.2.3.2" xref="S3.E7.m1.1.1.1.1.6.3.2.3.2.cmml">W</mi><mrow id="S3.E7.m1.1.1.1.1.6.3.2.3.3" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.cmml"><mi id="S3.E7.m1.1.1.1.1.6.3.2.3.3.2" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.2.cmml">k</mi><mo id="S3.E7.m1.1.1.1.1.6.3.2.3.3.1" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.1.cmml">+</mo><mn id="S3.E7.m1.1.1.1.1.6.3.2.3.3.3" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow></mrow></mrow><mo id="S3.E7.m1.1.1.1.2" xref="S3.E7.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1"><and id="S3.E7.m1.1.1.1.1a.cmml" xref="S3.E7.m1.1.1.1"></and><apply id="S3.E7.m1.1.1.1.1b.cmml" xref="S3.E7.m1.1.1.1"><eq id="S3.E7.m1.1.1.1.1.4.cmml" xref="S3.E7.m1.1.1.1.1.4"></eq><csymbol cd="latexml" id="S3.E7.m1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.3">absent</csymbol><apply id="S3.E7.m1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.2"></times><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1"><times id="S3.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.1"></times><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2.2">𝑃</ci><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3"><divide id="S3.E7.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3"></divide><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2"><partialdiff id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.1"></partialdiff><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.2.2">𝑙</ci></apply><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3"><partialdiff id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.1"></partialdiff><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.2">italic-ϕ</ci><apply id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.2">𝑃</ci><ci id="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.1.1.1.3.3.2.3.3">𝑖</ci></apply></apply></apply></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3"><apply id="S3.E7.m1.1.1.1.1.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.3.1.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1">superscript</csymbol><apply id="S3.E7.m1.1.1.1.1.1.3.1.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.3.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.E7.m1.1.1.1.1.1.3.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.2.2">product</csymbol><apply id="S3.E7.m1.1.1.1.1.1.3.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3"><eq id="S3.E7.m1.1.1.1.1.1.3.1.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.1"></eq><ci id="S3.E7.m1.1.1.1.1.1.3.1.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.2">𝑘</ci><ci id="S3.E7.m1.1.1.1.1.1.3.1.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.2.3.3">𝑙</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.3.1.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.3"><minus id="S3.E7.m1.1.1.1.1.1.3.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.3.1"></minus><ci id="S3.E7.m1.1.1.1.1.1.3.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.3.2">𝐿</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.3.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.1.3.3">1</cn></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2"><divide id="S3.E7.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2"></divide><apply id="S3.E7.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2"><partialdiff id="S3.E7.m1.1.1.1.1.1.3.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.1"></partialdiff><apply id="S3.E7.m1.1.1.1.1.1.3.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.3.2.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.3.2.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.2">ℎ</ci><apply id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3"><plus id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.1"></plus><ci id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.2">𝑘</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.2.2.3.3">1</cn></apply></apply></apply><apply id="S3.E7.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3"><partialdiff id="S3.E7.m1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3.1"></partialdiff><apply id="S3.E7.m1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.1.3.2.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.1.3.2.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2.2">ℎ</ci><ci id="S3.E7.m1.1.1.1.1.1.3.2.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.1.3.2.3.2.3">𝑘</ci></apply></apply></apply></apply></apply></apply><apply id="S3.E7.m1.1.1.1.1c.cmml" xref="S3.E7.m1.1.1.1"><eq id="S3.E7.m1.1.1.1.1.5.cmml" xref="S3.E7.m1.1.1.1.1.5"></eq><share href="#S3.E7.m1.1.1.1.1.1.cmml" id="S3.E7.m1.1.1.1.1d.cmml" xref="S3.E7.m1.1.1.1"></share><apply id="S3.E7.m1.1.1.1.1.6.cmml" xref="S3.E7.m1.1.1.1.1.6"><times id="S3.E7.m1.1.1.1.1.6.1.cmml" xref="S3.E7.m1.1.1.1.1.6.1"></times><apply id="S3.E7.m1.1.1.1.1.6.2.cmml" xref="S3.E7.m1.1.1.1.1.6.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.2.1.cmml" xref="S3.E7.m1.1.1.1.1.6.2">superscript</csymbol><apply id="S3.E7.m1.1.1.1.1.6.2.2.cmml" xref="S3.E7.m1.1.1.1.1.6.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.6.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.6.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.6.2.2.2">𝑔</ci><ci id="S3.E7.m1.1.1.1.1.6.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.6.2.2.3">𝐿</ci></apply><apply id="S3.E7.m1.1.1.1.1.6.2.3.cmml" xref="S3.E7.m1.1.1.1.1.6.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.2.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.6.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.2.3.2">𝑃</ci><ci id="S3.E7.m1.1.1.1.1.6.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.2.3.3">𝑖</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.6.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3"><apply id="S3.E7.m1.1.1.1.1.6.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.3.1.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1">superscript</csymbol><apply id="S3.E7.m1.1.1.1.1.6.3.1.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.3.1.2.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.E7.m1.1.1.1.1.6.3.1.2.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.2.2">product</csymbol><apply id="S3.E7.m1.1.1.1.1.6.3.1.2.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3"><eq id="S3.E7.m1.1.1.1.1.6.3.1.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.1"></eq><ci id="S3.E7.m1.1.1.1.1.6.3.1.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.2">𝑘</ci><ci id="S3.E7.m1.1.1.1.1.6.3.1.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.2.3.3">𝑙</ci></apply></apply><apply id="S3.E7.m1.1.1.1.1.6.3.1.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.3"><minus id="S3.E7.m1.1.1.1.1.6.3.1.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.3.1"></minus><ci id="S3.E7.m1.1.1.1.1.6.3.1.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.3.2">𝐿</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.6.3.1.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.1.3.3">1</cn></apply></apply><apply id="S3.E7.m1.1.1.1.1.6.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2"><times id="S3.E7.m1.1.1.1.1.6.3.2.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.1"></times><apply id="S3.E7.m1.1.1.1.1.6.3.2.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.3.2.2.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.6.3.2.2.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2.2">𝐷</ci><apply id="S3.E7.m1.1.1.1.1.6.3.2.2.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3"><plus id="S3.E7.m1.1.1.1.1.6.3.2.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.1"></plus><ci id="S3.E7.m1.1.1.1.1.6.3.2.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.2">𝑘</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.6.3.2.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.2.3.3">1</cn></apply></apply><apply id="S3.E7.m1.1.1.1.1.6.3.2.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.1.6.3.2.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3">subscript</csymbol><ci id="S3.E7.m1.1.1.1.1.6.3.2.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3.2">𝑊</ci><apply id="S3.E7.m1.1.1.1.1.6.3.2.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3"><plus id="S3.E7.m1.1.1.1.1.6.3.2.3.3.1.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.1"></plus><ci id="S3.E7.m1.1.1.1.1.6.3.2.3.3.2.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.2">𝑘</ci><cn type="integer" id="S3.E7.m1.1.1.1.1.6.3.2.3.3.3.cmml" xref="S3.E7.m1.1.1.1.1.6.3.2.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\displaystyle=\left(P_{i}\frac{\partial l}{\partial\phi_{P_{i}}}\right)\prod_{k=l}^{L-1}\frac{\partial h_{k+1}}{\partial h_{k}}=g_{L}^{P_{i}}\prod_{k=l}^{L-1}D_{k+1}W_{k+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.4" class="ltx_p">where <math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="D_{k+1}" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><msub id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml"><mi id="S3.SS2.p6.1.m1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.2.cmml">D</mi><mrow id="S3.SS2.p6.1.m1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.3.cmml"><mi id="S3.SS2.p6.1.m1.1.1.3.2" xref="S3.SS2.p6.1.m1.1.1.3.2.cmml">k</mi><mo id="S3.SS2.p6.1.m1.1.1.3.1" xref="S3.SS2.p6.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.SS2.p6.1.m1.1.1.3.3" xref="S3.SS2.p6.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><apply id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.2">𝐷</ci><apply id="S3.SS2.p6.1.m1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.3"><plus id="S3.SS2.p6.1.m1.1.1.3.1.cmml" xref="S3.SS2.p6.1.m1.1.1.3.1"></plus><ci id="S3.SS2.p6.1.m1.1.1.3.2.cmml" xref="S3.SS2.p6.1.m1.1.1.3.2">𝑘</ci><cn type="integer" id="S3.SS2.p6.1.m1.1.1.3.3.cmml" xref="S3.SS2.p6.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">D_{k+1}</annotation></semantics></math> is the Jacobian matrix and we assume it to be an identity. It can be seen that for any layer in the feature extractor, its gradient is associated with the last layer’s gradient <math id="S3.SS2.p6.2.m2.1" class="ltx_Math" alttext="g_{L}^{P_{i}}" display="inline"><semantics id="S3.SS2.p6.2.m2.1a"><msubsup id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml"><mi id="S3.SS2.p6.2.m2.1.1.2.2" xref="S3.SS2.p6.2.m2.1.1.2.2.cmml">g</mi><mi id="S3.SS2.p6.2.m2.1.1.2.3" xref="S3.SS2.p6.2.m2.1.1.2.3.cmml">L</mi><msub id="S3.SS2.p6.2.m2.1.1.3" xref="S3.SS2.p6.2.m2.1.1.3.cmml"><mi id="S3.SS2.p6.2.m2.1.1.3.2" xref="S3.SS2.p6.2.m2.1.1.3.2.cmml">P</mi><mi id="S3.SS2.p6.2.m2.1.1.3.3" xref="S3.SS2.p6.2.m2.1.1.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><apply id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.2.m2.1.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">superscript</csymbol><apply id="S3.SS2.p6.2.m2.1.1.2.cmml" xref="S3.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.2.m2.1.1.2.1.cmml" xref="S3.SS2.p6.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p6.2.m2.1.1.2.2.cmml" xref="S3.SS2.p6.2.m2.1.1.2.2">𝑔</ci><ci id="S3.SS2.p6.2.m2.1.1.2.3.cmml" xref="S3.SS2.p6.2.m2.1.1.2.3">𝐿</ci></apply><apply id="S3.SS2.p6.2.m2.1.1.3.cmml" xref="S3.SS2.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.2.m2.1.1.3.1.cmml" xref="S3.SS2.p6.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.2.m2.1.1.3.2.cmml" xref="S3.SS2.p6.2.m2.1.1.3.2">𝑃</ci><ci id="S3.SS2.p6.2.m2.1.1.3.3.cmml" xref="S3.SS2.p6.2.m2.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">g_{L}^{P_{i}}</annotation></semantics></math>; and for orthogonal projections <math id="S3.SS2.p6.3.m3.1" class="ltx_Math" alttext="P_{i}\perp P_{j}" display="inline"><semantics id="S3.SS2.p6.3.m3.1a"><mrow id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml"><msub id="S3.SS2.p6.3.m3.1.1.2" xref="S3.SS2.p6.3.m3.1.1.2.cmml"><mi id="S3.SS2.p6.3.m3.1.1.2.2" xref="S3.SS2.p6.3.m3.1.1.2.2.cmml">P</mi><mi id="S3.SS2.p6.3.m3.1.1.2.3" xref="S3.SS2.p6.3.m3.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p6.3.m3.1.1.1" xref="S3.SS2.p6.3.m3.1.1.1.cmml">⟂</mo><msub id="S3.SS2.p6.3.m3.1.1.3" xref="S3.SS2.p6.3.m3.1.1.3.cmml"><mi id="S3.SS2.p6.3.m3.1.1.3.2" xref="S3.SS2.p6.3.m3.1.1.3.2.cmml">P</mi><mi id="S3.SS2.p6.3.m3.1.1.3.3" xref="S3.SS2.p6.3.m3.1.1.3.3.cmml">j</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><apply id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1"><csymbol cd="latexml" id="S3.SS2.p6.3.m3.1.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1.1">perpendicular-to</csymbol><apply id="S3.SS2.p6.3.m3.1.1.2.cmml" xref="S3.SS2.p6.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.3.m3.1.1.2.1.cmml" xref="S3.SS2.p6.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.3.m3.1.1.2.2.cmml" xref="S3.SS2.p6.3.m3.1.1.2.2">𝑃</ci><ci id="S3.SS2.p6.3.m3.1.1.2.3.cmml" xref="S3.SS2.p6.3.m3.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.p6.3.m3.1.1.3.cmml" xref="S3.SS2.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.3.m3.1.1.3.1.cmml" xref="S3.SS2.p6.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.3.m3.1.1.3.2.cmml" xref="S3.SS2.p6.3.m3.1.1.3.2">𝑃</ci><ci id="S3.SS2.p6.3.m3.1.1.3.3.cmml" xref="S3.SS2.p6.3.m3.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">P_{i}\perp P_{j}</annotation></semantics></math>, the last layer’s gradients are orthogonal that <math id="S3.SS2.p6.4.m4.1" class="ltx_Math" alttext="g_{L}^{P_{i}}\perp g_{L}^{P_{j}}" display="inline"><semantics id="S3.SS2.p6.4.m4.1a"><mrow id="S3.SS2.p6.4.m4.1.1" xref="S3.SS2.p6.4.m4.1.1.cmml"><msubsup id="S3.SS2.p6.4.m4.1.1.2" xref="S3.SS2.p6.4.m4.1.1.2.cmml"><mi id="S3.SS2.p6.4.m4.1.1.2.2.2" xref="S3.SS2.p6.4.m4.1.1.2.2.2.cmml">g</mi><mi id="S3.SS2.p6.4.m4.1.1.2.2.3" xref="S3.SS2.p6.4.m4.1.1.2.2.3.cmml">L</mi><msub id="S3.SS2.p6.4.m4.1.1.2.3" xref="S3.SS2.p6.4.m4.1.1.2.3.cmml"><mi id="S3.SS2.p6.4.m4.1.1.2.3.2" xref="S3.SS2.p6.4.m4.1.1.2.3.2.cmml">P</mi><mi id="S3.SS2.p6.4.m4.1.1.2.3.3" xref="S3.SS2.p6.4.m4.1.1.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.SS2.p6.4.m4.1.1.1" xref="S3.SS2.p6.4.m4.1.1.1.cmml">⟂</mo><msubsup id="S3.SS2.p6.4.m4.1.1.3" xref="S3.SS2.p6.4.m4.1.1.3.cmml"><mi id="S3.SS2.p6.4.m4.1.1.3.2.2" xref="S3.SS2.p6.4.m4.1.1.3.2.2.cmml">g</mi><mi id="S3.SS2.p6.4.m4.1.1.3.2.3" xref="S3.SS2.p6.4.m4.1.1.3.2.3.cmml">L</mi><msub id="S3.SS2.p6.4.m4.1.1.3.3" xref="S3.SS2.p6.4.m4.1.1.3.3.cmml"><mi id="S3.SS2.p6.4.m4.1.1.3.3.2" xref="S3.SS2.p6.4.m4.1.1.3.3.2.cmml">P</mi><mi id="S3.SS2.p6.4.m4.1.1.3.3.3" xref="S3.SS2.p6.4.m4.1.1.3.3.3.cmml">j</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.4.m4.1b"><apply id="S3.SS2.p6.4.m4.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1"><csymbol cd="latexml" id="S3.SS2.p6.4.m4.1.1.1.cmml" xref="S3.SS2.p6.4.m4.1.1.1">perpendicular-to</csymbol><apply id="S3.SS2.p6.4.m4.1.1.2.cmml" xref="S3.SS2.p6.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.2.1.cmml" xref="S3.SS2.p6.4.m4.1.1.2">superscript</csymbol><apply id="S3.SS2.p6.4.m4.1.1.2.2.cmml" xref="S3.SS2.p6.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.2.2.1.cmml" xref="S3.SS2.p6.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p6.4.m4.1.1.2.2.2.cmml" xref="S3.SS2.p6.4.m4.1.1.2.2.2">𝑔</ci><ci id="S3.SS2.p6.4.m4.1.1.2.2.3.cmml" xref="S3.SS2.p6.4.m4.1.1.2.2.3">𝐿</ci></apply><apply id="S3.SS2.p6.4.m4.1.1.2.3.cmml" xref="S3.SS2.p6.4.m4.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.2.3.1.cmml" xref="S3.SS2.p6.4.m4.1.1.2.3">subscript</csymbol><ci id="S3.SS2.p6.4.m4.1.1.2.3.2.cmml" xref="S3.SS2.p6.4.m4.1.1.2.3.2">𝑃</ci><ci id="S3.SS2.p6.4.m4.1.1.2.3.3.cmml" xref="S3.SS2.p6.4.m4.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS2.p6.4.m4.1.1.3.cmml" xref="S3.SS2.p6.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.3.1.cmml" xref="S3.SS2.p6.4.m4.1.1.3">superscript</csymbol><apply id="S3.SS2.p6.4.m4.1.1.3.2.cmml" xref="S3.SS2.p6.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.3.2.1.cmml" xref="S3.SS2.p6.4.m4.1.1.3">subscript</csymbol><ci id="S3.SS2.p6.4.m4.1.1.3.2.2.cmml" xref="S3.SS2.p6.4.m4.1.1.3.2.2">𝑔</ci><ci id="S3.SS2.p6.4.m4.1.1.3.2.3.cmml" xref="S3.SS2.p6.4.m4.1.1.3.2.3">𝐿</ci></apply><apply id="S3.SS2.p6.4.m4.1.1.3.3.cmml" xref="S3.SS2.p6.4.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p6.4.m4.1.1.3.3.1.cmml" xref="S3.SS2.p6.4.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p6.4.m4.1.1.3.3.2.cmml" xref="S3.SS2.p6.4.m4.1.1.3.3.2">𝑃</ci><ci id="S3.SS2.p6.4.m4.1.1.3.3.3.cmml" xref="S3.SS2.p6.4.m4.1.1.3.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.4.m4.1c">g_{L}^{P_{i}}\perp g_{L}^{P_{j}}</annotation></semantics></math>. Due to the orthogonal gradient updates, we can have orthogonal model parameters and feature spaces.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.8" class="ltx_p">As shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2 Decoupling Orthogonal Feature Subspaces ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, for each client <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="i\in[N]" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mrow id="S3.SS2.p7.1.m1.1.2" xref="S3.SS2.p7.1.m1.1.2.cmml"><mi id="S3.SS2.p7.1.m1.1.2.2" xref="S3.SS2.p7.1.m1.1.2.2.cmml">i</mi><mo id="S3.SS2.p7.1.m1.1.2.1" xref="S3.SS2.p7.1.m1.1.2.1.cmml">∈</mo><mrow id="S3.SS2.p7.1.m1.1.2.3.2" xref="S3.SS2.p7.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p7.1.m1.1.2.3.2.1" xref="S3.SS2.p7.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS2.p7.1.m1.1.2.3.2.2" xref="S3.SS2.p7.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><apply id="S3.SS2.p7.1.m1.1.2.cmml" xref="S3.SS2.p7.1.m1.1.2"><in id="S3.SS2.p7.1.m1.1.2.1.cmml" xref="S3.SS2.p7.1.m1.1.2.1"></in><ci id="S3.SS2.p7.1.m1.1.2.2.cmml" xref="S3.SS2.p7.1.m1.1.2.2">𝑖</ci><apply id="S3.SS2.p7.1.m1.1.2.3.1.cmml" xref="S3.SS2.p7.1.m1.1.2.3.2"><csymbol cd="latexml" id="S3.SS2.p7.1.m1.1.2.3.1.1.cmml" xref="S3.SS2.p7.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">i\in[N]</annotation></semantics></math>, we have a generic feature extractor (parameterized by <math id="S3.SS2.p7.2.m2.1" class="ltx_Math" alttext="W^{g}_{i}" display="inline"><semantics id="S3.SS2.p7.2.m2.1a"><msubsup id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2.2" xref="S3.SS2.p7.2.m2.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p7.2.m2.1.1.3" xref="S3.SS2.p7.2.m2.1.1.3.cmml">i</mi><mi id="S3.SS2.p7.2.m2.1.1.2.3" xref="S3.SS2.p7.2.m2.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><apply id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.2.1.cmml" xref="S3.SS2.p7.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.2.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2.2">𝑊</ci><ci id="S3.SS2.p7.2.m2.1.1.2.3.cmml" xref="S3.SS2.p7.2.m2.1.1.2.3">𝑔</ci></apply><ci id="S3.SS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">W^{g}_{i}</annotation></semantics></math>), a personalized feature extractor (parameterized by <math id="S3.SS2.p7.3.m3.1" class="ltx_Math" alttext="W^{p}_{i}" display="inline"><semantics id="S3.SS2.p7.3.m3.1a"><msubsup id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml"><mi id="S3.SS2.p7.3.m3.1.1.2.2" xref="S3.SS2.p7.3.m3.1.1.2.2.cmml">W</mi><mi id="S3.SS2.p7.3.m3.1.1.3" xref="S3.SS2.p7.3.m3.1.1.3.cmml">i</mi><mi id="S3.SS2.p7.3.m3.1.1.2.3" xref="S3.SS2.p7.3.m3.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.1b"><apply id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1">subscript</csymbol><apply id="S3.SS2.p7.3.m3.1.1.2.cmml" xref="S3.SS2.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.3.m3.1.1.2.1.cmml" xref="S3.SS2.p7.3.m3.1.1">superscript</csymbol><ci id="S3.SS2.p7.3.m3.1.1.2.2.cmml" xref="S3.SS2.p7.3.m3.1.1.2.2">𝑊</ci><ci id="S3.SS2.p7.3.m3.1.1.2.3.cmml" xref="S3.SS2.p7.3.m3.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.p7.3.m3.1.1.3.cmml" xref="S3.SS2.p7.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.1c">W^{p}_{i}</annotation></semantics></math>) with the same structure, and one prediction head (parameterized by <math id="S3.SS2.p7.4.m4.1" class="ltx_Math" alttext="H_{i}" display="inline"><semantics id="S3.SS2.p7.4.m4.1a"><msub id="S3.SS2.p7.4.m4.1.1" xref="S3.SS2.p7.4.m4.1.1.cmml"><mi id="S3.SS2.p7.4.m4.1.1.2" xref="S3.SS2.p7.4.m4.1.1.2.cmml">H</mi><mi id="S3.SS2.p7.4.m4.1.1.3" xref="S3.SS2.p7.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.4.m4.1b"><apply id="S3.SS2.p7.4.m4.1.1.cmml" xref="S3.SS2.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.4.m4.1.1.1.cmml" xref="S3.SS2.p7.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p7.4.m4.1.1.2.cmml" xref="S3.SS2.p7.4.m4.1.1.2">𝐻</ci><ci id="S3.SS2.p7.4.m4.1.1.3.cmml" xref="S3.SS2.p7.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.4.m4.1c">H_{i}</annotation></semantics></math>). All clients have the same generic projection <math id="S3.SS2.p7.5.m5.1" class="ltx_Math" alttext="P^{g}" display="inline"><semantics id="S3.SS2.p7.5.m5.1a"><msup id="S3.SS2.p7.5.m5.1.1" xref="S3.SS2.p7.5.m5.1.1.cmml"><mi id="S3.SS2.p7.5.m5.1.1.2" xref="S3.SS2.p7.5.m5.1.1.2.cmml">P</mi><mi id="S3.SS2.p7.5.m5.1.1.3" xref="S3.SS2.p7.5.m5.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.5.m5.1b"><apply id="S3.SS2.p7.5.m5.1.1.cmml" xref="S3.SS2.p7.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.5.m5.1.1.1.cmml" xref="S3.SS2.p7.5.m5.1.1">superscript</csymbol><ci id="S3.SS2.p7.5.m5.1.1.2.cmml" xref="S3.SS2.p7.5.m5.1.1.2">𝑃</ci><ci id="S3.SS2.p7.5.m5.1.1.3.cmml" xref="S3.SS2.p7.5.m5.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.5.m5.1c">P^{g}</annotation></semantics></math> for the generic feature extractor and have distinct personalized projections <math id="S3.SS2.p7.6.m6.3" class="ltx_Math" alttext="P^{p}_{i},\ \forall i\in[N]" display="inline"><semantics id="S3.SS2.p7.6.m6.3a"><mrow id="S3.SS2.p7.6.m6.3.3" xref="S3.SS2.p7.6.m6.3.3.cmml"><mrow id="S3.SS2.p7.6.m6.3.3.2.2" xref="S3.SS2.p7.6.m6.3.3.2.3.cmml"><msubsup id="S3.SS2.p7.6.m6.2.2.1.1.1" xref="S3.SS2.p7.6.m6.2.2.1.1.1.cmml"><mi id="S3.SS2.p7.6.m6.2.2.1.1.1.2.2" xref="S3.SS2.p7.6.m6.2.2.1.1.1.2.2.cmml">P</mi><mi id="S3.SS2.p7.6.m6.2.2.1.1.1.3" xref="S3.SS2.p7.6.m6.2.2.1.1.1.3.cmml">i</mi><mi id="S3.SS2.p7.6.m6.2.2.1.1.1.2.3" xref="S3.SS2.p7.6.m6.2.2.1.1.1.2.3.cmml">p</mi></msubsup><mo rspace="0.667em" id="S3.SS2.p7.6.m6.3.3.2.2.3" xref="S3.SS2.p7.6.m6.3.3.2.3.cmml">,</mo><mrow id="S3.SS2.p7.6.m6.3.3.2.2.2" xref="S3.SS2.p7.6.m6.3.3.2.2.2.cmml"><mo rspace="0.167em" id="S3.SS2.p7.6.m6.3.3.2.2.2.1" xref="S3.SS2.p7.6.m6.3.3.2.2.2.1.cmml">∀</mo><mi id="S3.SS2.p7.6.m6.3.3.2.2.2.2" xref="S3.SS2.p7.6.m6.3.3.2.2.2.2.cmml">i</mi></mrow></mrow><mo id="S3.SS2.p7.6.m6.3.3.3" xref="S3.SS2.p7.6.m6.3.3.3.cmml">∈</mo><mrow id="S3.SS2.p7.6.m6.3.3.4.2" xref="S3.SS2.p7.6.m6.3.3.4.1.cmml"><mo stretchy="false" id="S3.SS2.p7.6.m6.3.3.4.2.1" xref="S3.SS2.p7.6.m6.3.3.4.1.1.cmml">[</mo><mi id="S3.SS2.p7.6.m6.1.1" xref="S3.SS2.p7.6.m6.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS2.p7.6.m6.3.3.4.2.2" xref="S3.SS2.p7.6.m6.3.3.4.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.6.m6.3b"><apply id="S3.SS2.p7.6.m6.3.3.cmml" xref="S3.SS2.p7.6.m6.3.3"><in id="S3.SS2.p7.6.m6.3.3.3.cmml" xref="S3.SS2.p7.6.m6.3.3.3"></in><list id="S3.SS2.p7.6.m6.3.3.2.3.cmml" xref="S3.SS2.p7.6.m6.3.3.2.2"><apply id="S3.SS2.p7.6.m6.2.2.1.1.1.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1">subscript</csymbol><apply id="S3.SS2.p7.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.6.m6.2.2.1.1.1.2.1.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1">superscript</csymbol><ci id="S3.SS2.p7.6.m6.2.2.1.1.1.2.2.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1.2.2">𝑃</ci><ci id="S3.SS2.p7.6.m6.2.2.1.1.1.2.3.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1.2.3">𝑝</ci></apply><ci id="S3.SS2.p7.6.m6.2.2.1.1.1.3.cmml" xref="S3.SS2.p7.6.m6.2.2.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p7.6.m6.3.3.2.2.2.cmml" xref="S3.SS2.p7.6.m6.3.3.2.2.2"><csymbol cd="latexml" id="S3.SS2.p7.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS2.p7.6.m6.3.3.2.2.2.1">for-all</csymbol><ci id="S3.SS2.p7.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS2.p7.6.m6.3.3.2.2.2.2">𝑖</ci></apply></list><apply id="S3.SS2.p7.6.m6.3.3.4.1.cmml" xref="S3.SS2.p7.6.m6.3.3.4.2"><csymbol cd="latexml" id="S3.SS2.p7.6.m6.3.3.4.1.1.cmml" xref="S3.SS2.p7.6.m6.3.3.4.2.1">delimited-[]</csymbol><ci id="S3.SS2.p7.6.m6.1.1.cmml" xref="S3.SS2.p7.6.m6.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.6.m6.3c">P^{p}_{i},\ \forall i\in[N]</annotation></semantics></math> for their personalized extractors. All the projections <math id="S3.SS2.p7.7.m7.4" class="ltx_Math" alttext="\mathbf{P}=\{P^{g},P^{p}_{1},\dots,P^{p}_{N}\}" display="inline"><semantics id="S3.SS2.p7.7.m7.4a"><mrow id="S3.SS2.p7.7.m7.4.4" xref="S3.SS2.p7.7.m7.4.4.cmml"><mi id="S3.SS2.p7.7.m7.4.4.5" xref="S3.SS2.p7.7.m7.4.4.5.cmml">𝐏</mi><mo id="S3.SS2.p7.7.m7.4.4.4" xref="S3.SS2.p7.7.m7.4.4.4.cmml">=</mo><mrow id="S3.SS2.p7.7.m7.4.4.3.3" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml"><mo stretchy="false" id="S3.SS2.p7.7.m7.4.4.3.3.4" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml">{</mo><msup id="S3.SS2.p7.7.m7.2.2.1.1.1" xref="S3.SS2.p7.7.m7.2.2.1.1.1.cmml"><mi id="S3.SS2.p7.7.m7.2.2.1.1.1.2" xref="S3.SS2.p7.7.m7.2.2.1.1.1.2.cmml">P</mi><mi id="S3.SS2.p7.7.m7.2.2.1.1.1.3" xref="S3.SS2.p7.7.m7.2.2.1.1.1.3.cmml">g</mi></msup><mo id="S3.SS2.p7.7.m7.4.4.3.3.5" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml">,</mo><msubsup id="S3.SS2.p7.7.m7.3.3.2.2.2" xref="S3.SS2.p7.7.m7.3.3.2.2.2.cmml"><mi id="S3.SS2.p7.7.m7.3.3.2.2.2.2.2" xref="S3.SS2.p7.7.m7.3.3.2.2.2.2.2.cmml">P</mi><mn id="S3.SS2.p7.7.m7.3.3.2.2.2.3" xref="S3.SS2.p7.7.m7.3.3.2.2.2.3.cmml">1</mn><mi id="S3.SS2.p7.7.m7.3.3.2.2.2.2.3" xref="S3.SS2.p7.7.m7.3.3.2.2.2.2.3.cmml">p</mi></msubsup><mo id="S3.SS2.p7.7.m7.4.4.3.3.6" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS2.p7.7.m7.1.1" xref="S3.SS2.p7.7.m7.1.1.cmml">…</mi><mo id="S3.SS2.p7.7.m7.4.4.3.3.7" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml">,</mo><msubsup id="S3.SS2.p7.7.m7.4.4.3.3.3" xref="S3.SS2.p7.7.m7.4.4.3.3.3.cmml"><mi id="S3.SS2.p7.7.m7.4.4.3.3.3.2.2" xref="S3.SS2.p7.7.m7.4.4.3.3.3.2.2.cmml">P</mi><mi id="S3.SS2.p7.7.m7.4.4.3.3.3.3" xref="S3.SS2.p7.7.m7.4.4.3.3.3.3.cmml">N</mi><mi id="S3.SS2.p7.7.m7.4.4.3.3.3.2.3" xref="S3.SS2.p7.7.m7.4.4.3.3.3.2.3.cmml">p</mi></msubsup><mo stretchy="false" id="S3.SS2.p7.7.m7.4.4.3.3.8" xref="S3.SS2.p7.7.m7.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.7.m7.4b"><apply id="S3.SS2.p7.7.m7.4.4.cmml" xref="S3.SS2.p7.7.m7.4.4"><eq id="S3.SS2.p7.7.m7.4.4.4.cmml" xref="S3.SS2.p7.7.m7.4.4.4"></eq><ci id="S3.SS2.p7.7.m7.4.4.5.cmml" xref="S3.SS2.p7.7.m7.4.4.5">𝐏</ci><set id="S3.SS2.p7.7.m7.4.4.3.4.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3"><apply id="S3.SS2.p7.7.m7.2.2.1.1.1.cmml" xref="S3.SS2.p7.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.7.m7.2.2.1.1.1.1.cmml" xref="S3.SS2.p7.7.m7.2.2.1.1.1">superscript</csymbol><ci id="S3.SS2.p7.7.m7.2.2.1.1.1.2.cmml" xref="S3.SS2.p7.7.m7.2.2.1.1.1.2">𝑃</ci><ci id="S3.SS2.p7.7.m7.2.2.1.1.1.3.cmml" xref="S3.SS2.p7.7.m7.2.2.1.1.1.3">𝑔</ci></apply><apply id="S3.SS2.p7.7.m7.3.3.2.2.2.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p7.7.m7.3.3.2.2.2.1.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2">subscript</csymbol><apply id="S3.SS2.p7.7.m7.3.3.2.2.2.2.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p7.7.m7.3.3.2.2.2.2.1.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2">superscript</csymbol><ci id="S3.SS2.p7.7.m7.3.3.2.2.2.2.2.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2.2.2">𝑃</ci><ci id="S3.SS2.p7.7.m7.3.3.2.2.2.2.3.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2.2.3">𝑝</ci></apply><cn type="integer" id="S3.SS2.p7.7.m7.3.3.2.2.2.3.cmml" xref="S3.SS2.p7.7.m7.3.3.2.2.2.3">1</cn></apply><ci id="S3.SS2.p7.7.m7.1.1.cmml" xref="S3.SS2.p7.7.m7.1.1">…</ci><apply id="S3.SS2.p7.7.m7.4.4.3.3.3.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p7.7.m7.4.4.3.3.3.1.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3">subscript</csymbol><apply id="S3.SS2.p7.7.m7.4.4.3.3.3.2.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.SS2.p7.7.m7.4.4.3.3.3.2.1.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3">superscript</csymbol><ci id="S3.SS2.p7.7.m7.4.4.3.3.3.2.2.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3.2.2">𝑃</ci><ci id="S3.SS2.p7.7.m7.4.4.3.3.3.2.3.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3.2.3">𝑝</ci></apply><ci id="S3.SS2.p7.7.m7.4.4.3.3.3.3.cmml" xref="S3.SS2.p7.7.m7.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.7.m7.4c">\mathbf{P}=\{P^{g},P^{p}_{1},\dots,P^{p}_{N}\}</annotation></semantics></math>, including one generic and <math id="S3.SS2.p7.8.m8.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS2.p7.8.m8.1a"><mi id="S3.SS2.p7.8.m8.1.1" xref="S3.SS2.p7.8.m8.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.8.m8.1b"><ci id="S3.SS2.p7.8.m8.1.1.cmml" xref="S3.SS2.p7.8.m8.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.8.m8.1c">N</annotation></semantics></math> personalized, are synthesized at initialization and fixed during training, and they satisfy the orthogonal and normalized properties in Equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Decoupling Orthogonal Feature Subspaces ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) pair-wisely. This ensures that all the generic feature extractors are learned in a common subspace and all the personalized extractors are orthogonal with each other and are also orthogonal with the generic extractor.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2311.18559/assets/x3.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="253" height="130" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Training and inference illustrations of FediOS.</span></figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Training Stage</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.4" class="ltx_p">For each client <math id="S3.SS3.p1.1.m1.3" class="ltx_Math" alttext="i,\ \forall i\in[N]" display="inline"><semantics id="S3.SS3.p1.1.m1.3a"><mrow id="S3.SS3.p1.1.m1.3.3" xref="S3.SS3.p1.1.m1.3.3.cmml"><mrow id="S3.SS3.p1.1.m1.3.3.1.1" xref="S3.SS3.p1.1.m1.3.3.1.2.cmml"><mi id="S3.SS3.p1.1.m1.2.2" xref="S3.SS3.p1.1.m1.2.2.cmml">i</mi><mo rspace="0.667em" id="S3.SS3.p1.1.m1.3.3.1.1.2" xref="S3.SS3.p1.1.m1.3.3.1.2.cmml">,</mo><mrow id="S3.SS3.p1.1.m1.3.3.1.1.1" xref="S3.SS3.p1.1.m1.3.3.1.1.1.cmml"><mo rspace="0.167em" id="S3.SS3.p1.1.m1.3.3.1.1.1.1" xref="S3.SS3.p1.1.m1.3.3.1.1.1.1.cmml">∀</mo><mi id="S3.SS3.p1.1.m1.3.3.1.1.1.2" xref="S3.SS3.p1.1.m1.3.3.1.1.1.2.cmml">i</mi></mrow></mrow><mo id="S3.SS3.p1.1.m1.3.3.2" xref="S3.SS3.p1.1.m1.3.3.2.cmml">∈</mo><mrow id="S3.SS3.p1.1.m1.3.3.3.2" xref="S3.SS3.p1.1.m1.3.3.3.1.cmml"><mo stretchy="false" id="S3.SS3.p1.1.m1.3.3.3.2.1" xref="S3.SS3.p1.1.m1.3.3.3.1.1.cmml">[</mo><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">N</mi><mo stretchy="false" id="S3.SS3.p1.1.m1.3.3.3.2.2" xref="S3.SS3.p1.1.m1.3.3.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.3b"><apply id="S3.SS3.p1.1.m1.3.3.cmml" xref="S3.SS3.p1.1.m1.3.3"><in id="S3.SS3.p1.1.m1.3.3.2.cmml" xref="S3.SS3.p1.1.m1.3.3.2"></in><list id="S3.SS3.p1.1.m1.3.3.1.2.cmml" xref="S3.SS3.p1.1.m1.3.3.1.1"><ci id="S3.SS3.p1.1.m1.2.2.cmml" xref="S3.SS3.p1.1.m1.2.2">𝑖</ci><apply id="S3.SS3.p1.1.m1.3.3.1.1.1.cmml" xref="S3.SS3.p1.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.3.3.1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.3.3.1.1.1.1">for-all</csymbol><ci id="S3.SS3.p1.1.m1.3.3.1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.3.3.1.1.1.2">𝑖</ci></apply></list><apply id="S3.SS3.p1.1.m1.3.3.3.1.cmml" xref="S3.SS3.p1.1.m1.3.3.3.2"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.3.3.3.1.1.cmml" xref="S3.SS3.p1.1.m1.3.3.3.2.1">delimited-[]</csymbol><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.3c">i,\ \forall i\in[N]</annotation></semantics></math>, given a data sample <math id="S3.SS3.p1.2.m2.2" class="ltx_Math" alttext="(x_{k},y_{k})\in\mathcal{D}_{i}" display="inline"><semantics id="S3.SS3.p1.2.m2.2a"><mrow id="S3.SS3.p1.2.m2.2.2" xref="S3.SS3.p1.2.m2.2.2.cmml"><mrow id="S3.SS3.p1.2.m2.2.2.2.2" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS3.p1.2.m2.2.2.2.2.3" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml">(</mo><msub id="S3.SS3.p1.2.m2.1.1.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.1.1.cmml"><mi id="S3.SS3.p1.2.m2.1.1.1.1.1.2" xref="S3.SS3.p1.2.m2.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS3.p1.2.m2.1.1.1.1.1.3" xref="S3.SS3.p1.2.m2.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.SS3.p1.2.m2.2.2.2.2.4" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml">,</mo><msub id="S3.SS3.p1.2.m2.2.2.2.2.2" xref="S3.SS3.p1.2.m2.2.2.2.2.2.cmml"><mi id="S3.SS3.p1.2.m2.2.2.2.2.2.2" xref="S3.SS3.p1.2.m2.2.2.2.2.2.2.cmml">y</mi><mi id="S3.SS3.p1.2.m2.2.2.2.2.2.3" xref="S3.SS3.p1.2.m2.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="S3.SS3.p1.2.m2.2.2.2.2.5" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml">)</mo></mrow><mo id="S3.SS3.p1.2.m2.2.2.3" xref="S3.SS3.p1.2.m2.2.2.3.cmml">∈</mo><msub id="S3.SS3.p1.2.m2.2.2.4" xref="S3.SS3.p1.2.m2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p1.2.m2.2.2.4.2" xref="S3.SS3.p1.2.m2.2.2.4.2.cmml">𝒟</mi><mi id="S3.SS3.p1.2.m2.2.2.4.3" xref="S3.SS3.p1.2.m2.2.2.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.2b"><apply id="S3.SS3.p1.2.m2.2.2.cmml" xref="S3.SS3.p1.2.m2.2.2"><in id="S3.SS3.p1.2.m2.2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.2.3"></in><interval closure="open" id="S3.SS3.p1.2.m2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2"><apply id="S3.SS3.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1.1.2">𝑥</ci><ci id="S3.SS3.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.SS3.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS3.p1.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2.2.2">𝑦</ci><ci id="S3.SS3.p1.2.m2.2.2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2.2.3">𝑘</ci></apply></interval><apply id="S3.SS3.p1.2.m2.2.2.4.cmml" xref="S3.SS3.p1.2.m2.2.2.4"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.2.2.4.1.cmml" xref="S3.SS3.p1.2.m2.2.2.4">subscript</csymbol><ci id="S3.SS3.p1.2.m2.2.2.4.2.cmml" xref="S3.SS3.p1.2.m2.2.2.4.2">𝒟</ci><ci id="S3.SS3.p1.2.m2.2.2.4.3.cmml" xref="S3.SS3.p1.2.m2.2.2.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.2c">(x_{k},y_{k})\in\mathcal{D}_{i}</annotation></semantics></math>, the generic feature <math id="S3.SS3.p1.3.m3.2" class="ltx_Math" alttext="\phi_{i,k}^{g}" display="inline"><semantics id="S3.SS3.p1.3.m3.2a"><msubsup id="S3.SS3.p1.3.m3.2.3" xref="S3.SS3.p1.3.m3.2.3.cmml"><mi id="S3.SS3.p1.3.m3.2.3.2.2" xref="S3.SS3.p1.3.m3.2.3.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p1.3.m3.2.2.2.4" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml"><mi id="S3.SS3.p1.3.m3.1.1.1.1" xref="S3.SS3.p1.3.m3.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p1.3.m3.2.2.2.4.1" xref="S3.SS3.p1.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.3.m3.2.2.2.2" xref="S3.SS3.p1.3.m3.2.2.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p1.3.m3.2.3.3" xref="S3.SS3.p1.3.m3.2.3.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.2b"><apply id="S3.SS3.p1.3.m3.2.3.cmml" xref="S3.SS3.p1.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.2.3.1.cmml" xref="S3.SS3.p1.3.m3.2.3">superscript</csymbol><apply id="S3.SS3.p1.3.m3.2.3.2.cmml" xref="S3.SS3.p1.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.3.m3.2.3.2.1.cmml" xref="S3.SS3.p1.3.m3.2.3">subscript</csymbol><ci id="S3.SS3.p1.3.m3.2.3.2.2.cmml" xref="S3.SS3.p1.3.m3.2.3.2.2">italic-ϕ</ci><list id="S3.SS3.p1.3.m3.2.2.2.3.cmml" xref="S3.SS3.p1.3.m3.2.2.2.4"><ci id="S3.SS3.p1.3.m3.1.1.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1.1.1">𝑖</ci><ci id="S3.SS3.p1.3.m3.2.2.2.2.cmml" xref="S3.SS3.p1.3.m3.2.2.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p1.3.m3.2.3.3.cmml" xref="S3.SS3.p1.3.m3.2.3.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.2c">\phi_{i,k}^{g}</annotation></semantics></math> and the personalized feature <math id="S3.SS3.p1.4.m4.2" class="ltx_Math" alttext="\phi_{i,k}^{p}" display="inline"><semantics id="S3.SS3.p1.4.m4.2a"><msubsup id="S3.SS3.p1.4.m4.2.3" xref="S3.SS3.p1.4.m4.2.3.cmml"><mi id="S3.SS3.p1.4.m4.2.3.2.2" xref="S3.SS3.p1.4.m4.2.3.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p1.4.m4.2.2.2.4" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml"><mi id="S3.SS3.p1.4.m4.1.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p1.4.m4.2.2.2.4.1" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.4.m4.2.2.2.2" xref="S3.SS3.p1.4.m4.2.2.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p1.4.m4.2.3.3" xref="S3.SS3.p1.4.m4.2.3.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.2b"><apply id="S3.SS3.p1.4.m4.2.3.cmml" xref="S3.SS3.p1.4.m4.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.3.1.cmml" xref="S3.SS3.p1.4.m4.2.3">superscript</csymbol><apply id="S3.SS3.p1.4.m4.2.3.2.cmml" xref="S3.SS3.p1.4.m4.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.3.2.1.cmml" xref="S3.SS3.p1.4.m4.2.3">subscript</csymbol><ci id="S3.SS3.p1.4.m4.2.3.2.2.cmml" xref="S3.SS3.p1.4.m4.2.3.2.2">italic-ϕ</ci><list id="S3.SS3.p1.4.m4.2.2.2.3.cmml" xref="S3.SS3.p1.4.m4.2.2.2.4"><ci id="S3.SS3.p1.4.m4.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1">𝑖</ci><ci id="S3.SS3.p1.4.m4.2.2.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p1.4.m4.2.3.3.cmml" xref="S3.SS3.p1.4.m4.2.3.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.2c">\phi_{i,k}^{p}</annotation></semantics></math> are given by:</p>
<table id="A2.EGx7" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8.m1.5" class="ltx_Math" alttext="\displaystyle\phi_{i,k}^{g}=P^{g}f({x}_{k};W^{g}_{i}),\&gt;\phi_{i,k}^{p}=P^{p}_{i}f({x}_{k};W^{p}_{i})." display="inline"><semantics id="S3.E8.m1.5a"><mrow id="S3.E8.m1.5.5.1"><mrow id="S3.E8.m1.5.5.1.1.2" xref="S3.E8.m1.5.5.1.1.3.cmml"><mrow id="S3.E8.m1.5.5.1.1.1.1" xref="S3.E8.m1.5.5.1.1.1.1.cmml"><msubsup id="S3.E8.m1.5.5.1.1.1.1.4" xref="S3.E8.m1.5.5.1.1.1.1.4.cmml"><mi id="S3.E8.m1.5.5.1.1.1.1.4.2.2" xref="S3.E8.m1.5.5.1.1.1.1.4.2.2.cmml">ϕ</mi><mrow id="S3.E8.m1.2.2.2.4" xref="S3.E8.m1.2.2.2.3.cmml"><mi id="S3.E8.m1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.cmml">i</mi><mo id="S3.E8.m1.2.2.2.4.1" xref="S3.E8.m1.2.2.2.3.cmml">,</mo><mi id="S3.E8.m1.2.2.2.2" xref="S3.E8.m1.2.2.2.2.cmml">k</mi></mrow><mi id="S3.E8.m1.5.5.1.1.1.1.4.3" xref="S3.E8.m1.5.5.1.1.1.1.4.3.cmml">g</mi></msubsup><mo id="S3.E8.m1.5.5.1.1.1.1.3" xref="S3.E8.m1.5.5.1.1.1.1.3.cmml">=</mo><mrow id="S3.E8.m1.5.5.1.1.1.1.2" xref="S3.E8.m1.5.5.1.1.1.1.2.cmml"><msup id="S3.E8.m1.5.5.1.1.1.1.2.4" xref="S3.E8.m1.5.5.1.1.1.1.2.4.cmml"><mi id="S3.E8.m1.5.5.1.1.1.1.2.4.2" xref="S3.E8.m1.5.5.1.1.1.1.2.4.2.cmml">P</mi><mi id="S3.E8.m1.5.5.1.1.1.1.2.4.3" xref="S3.E8.m1.5.5.1.1.1.1.2.4.3.cmml">g</mi></msup><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.1.1.1.1.2.3" xref="S3.E8.m1.5.5.1.1.1.1.2.3.cmml">​</mo><mi id="S3.E8.m1.5.5.1.1.1.1.2.5" xref="S3.E8.m1.5.5.1.1.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.1.1.1.1.2.3a" xref="S3.E8.m1.5.5.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E8.m1.5.5.1.1.1.1.2.2.2" xref="S3.E8.m1.5.5.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E8.m1.5.5.1.1.1.1.2.2.2.3" xref="S3.E8.m1.5.5.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E8.m1.5.5.1.1.1.1.2.2.2.4" xref="S3.E8.m1.5.5.1.1.1.1.2.2.3.cmml">;</mo><msubsup id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.2" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.2.cmml">W</mi><mi id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.3" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.3" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.3.cmml">g</mi></msubsup><mo stretchy="false" id="S3.E8.m1.5.5.1.1.1.1.2.2.2.5" xref="S3.E8.m1.5.5.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.387em" id="S3.E8.m1.5.5.1.1.2.3" xref="S3.E8.m1.5.5.1.1.3a.cmml">,</mo><mrow id="S3.E8.m1.5.5.1.1.2.2" xref="S3.E8.m1.5.5.1.1.2.2.cmml"><msubsup id="S3.E8.m1.5.5.1.1.2.2.4" xref="S3.E8.m1.5.5.1.1.2.2.4.cmml"><mi id="S3.E8.m1.5.5.1.1.2.2.4.2.2" xref="S3.E8.m1.5.5.1.1.2.2.4.2.2.cmml">ϕ</mi><mrow id="S3.E8.m1.4.4.2.4" xref="S3.E8.m1.4.4.2.3.cmml"><mi id="S3.E8.m1.3.3.1.1" xref="S3.E8.m1.3.3.1.1.cmml">i</mi><mo id="S3.E8.m1.4.4.2.4.1" xref="S3.E8.m1.4.4.2.3.cmml">,</mo><mi id="S3.E8.m1.4.4.2.2" xref="S3.E8.m1.4.4.2.2.cmml">k</mi></mrow><mi id="S3.E8.m1.5.5.1.1.2.2.4.3" xref="S3.E8.m1.5.5.1.1.2.2.4.3.cmml">p</mi></msubsup><mo id="S3.E8.m1.5.5.1.1.2.2.3" xref="S3.E8.m1.5.5.1.1.2.2.3.cmml">=</mo><mrow id="S3.E8.m1.5.5.1.1.2.2.2" xref="S3.E8.m1.5.5.1.1.2.2.2.cmml"><msubsup id="S3.E8.m1.5.5.1.1.2.2.2.4" xref="S3.E8.m1.5.5.1.1.2.2.2.4.cmml"><mi id="S3.E8.m1.5.5.1.1.2.2.2.4.2.2" xref="S3.E8.m1.5.5.1.1.2.2.2.4.2.2.cmml">P</mi><mi id="S3.E8.m1.5.5.1.1.2.2.2.4.3" xref="S3.E8.m1.5.5.1.1.2.2.2.4.3.cmml">i</mi><mi id="S3.E8.m1.5.5.1.1.2.2.2.4.2.3" xref="S3.E8.m1.5.5.1.1.2.2.2.4.2.3.cmml">p</mi></msubsup><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.1.1.2.2.2.3" xref="S3.E8.m1.5.5.1.1.2.2.2.3.cmml">​</mo><mi id="S3.E8.m1.5.5.1.1.2.2.2.5" xref="S3.E8.m1.5.5.1.1.2.2.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E8.m1.5.5.1.1.2.2.2.3a" xref="S3.E8.m1.5.5.1.1.2.2.2.3.cmml">​</mo><mrow id="S3.E8.m1.5.5.1.1.2.2.2.2.2" xref="S3.E8.m1.5.5.1.1.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E8.m1.5.5.1.1.2.2.2.2.2.3" xref="S3.E8.m1.5.5.1.1.2.2.2.2.3.cmml">(</mo><msub id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.cmml"><mi id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.2" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.2.cmml">x</mi><mi id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.3" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E8.m1.5.5.1.1.2.2.2.2.2.4" xref="S3.E8.m1.5.5.1.1.2.2.2.2.3.cmml">;</mo><msubsup id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.cmml"><mi id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.2" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.2.cmml">W</mi><mi id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.3" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.3.cmml">i</mi><mi id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.3" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.3.cmml">p</mi></msubsup><mo stretchy="false" id="S3.E8.m1.5.5.1.1.2.2.2.2.2.5" xref="S3.E8.m1.5.5.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E8.m1.5.5.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.5b"><apply id="S3.E8.m1.5.5.1.1.3.cmml" xref="S3.E8.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.3a.cmml" xref="S3.E8.m1.5.5.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E8.m1.5.5.1.1.1.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1"><eq id="S3.E8.m1.5.5.1.1.1.1.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.3"></eq><apply id="S3.E8.m1.5.5.1.1.1.1.4.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.4.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4">superscript</csymbol><apply id="S3.E8.m1.5.5.1.1.1.1.4.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.4.2.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4">subscript</csymbol><ci id="S3.E8.m1.5.5.1.1.1.1.4.2.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4.2.2">italic-ϕ</ci><list id="S3.E8.m1.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.4"><ci id="S3.E8.m1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1">𝑖</ci><ci id="S3.E8.m1.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2">𝑘</ci></list></apply><ci id="S3.E8.m1.5.5.1.1.1.1.4.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.4.3">𝑔</ci></apply><apply id="S3.E8.m1.5.5.1.1.1.1.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2"><times id="S3.E8.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.3"></times><apply id="S3.E8.m1.5.5.1.1.1.1.2.4.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.2.4.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.4">superscript</csymbol><ci id="S3.E8.m1.5.5.1.1.1.1.2.4.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.4.2">𝑃</ci><ci id="S3.E8.m1.5.5.1.1.1.1.2.4.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.4.3">𝑔</ci></apply><ci id="S3.E8.m1.5.5.1.1.1.1.2.5.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.5">𝑓</ci><list id="S3.E8.m1.5.5.1.1.1.1.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2"><apply id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.2">𝑊</ci><ci id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.2.3">𝑔</ci></apply><ci id="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.1.1.2.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E8.m1.5.5.1.1.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2"><eq id="S3.E8.m1.5.5.1.1.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.3"></eq><apply id="S3.E8.m1.5.5.1.1.2.2.4.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.4.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4">superscript</csymbol><apply id="S3.E8.m1.5.5.1.1.2.2.4.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.4.2.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4">subscript</csymbol><ci id="S3.E8.m1.5.5.1.1.2.2.4.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4.2.2">italic-ϕ</ci><list id="S3.E8.m1.4.4.2.3.cmml" xref="S3.E8.m1.4.4.2.4"><ci id="S3.E8.m1.3.3.1.1.cmml" xref="S3.E8.m1.3.3.1.1">𝑖</ci><ci id="S3.E8.m1.4.4.2.2.cmml" xref="S3.E8.m1.4.4.2.2">𝑘</ci></list></apply><ci id="S3.E8.m1.5.5.1.1.2.2.4.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.4.3">𝑝</ci></apply><apply id="S3.E8.m1.5.5.1.1.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2"><times id="S3.E8.m1.5.5.1.1.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.3"></times><apply id="S3.E8.m1.5.5.1.1.2.2.2.4.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.2.4.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4">subscript</csymbol><apply id="S3.E8.m1.5.5.1.1.2.2.2.4.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.2.4.2.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4">superscript</csymbol><ci id="S3.E8.m1.5.5.1.1.2.2.2.4.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4.2.2">𝑃</ci><ci id="S3.E8.m1.5.5.1.1.2.2.2.4.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4.2.3">𝑝</ci></apply><ci id="S3.E8.m1.5.5.1.1.2.2.2.4.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.4.3">𝑖</ci></apply><ci id="S3.E8.m1.5.5.1.1.2.2.2.5.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.5">𝑓</ci><list id="S3.E8.m1.5.5.1.1.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2"><apply id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.2">𝑥</ci><ci id="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2">subscript</csymbol><apply id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2">superscript</csymbol><ci id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.2">𝑊</ci><ci id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.2.3">𝑝</ci></apply><ci id="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E8.m1.5.5.1.1.2.2.2.2.2.2.3">𝑖</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.5c">\displaystyle\phi_{i,k}^{g}=P^{g}f({x}_{k};W^{g}_{i}),\&gt;\phi_{i,k}^{p}=P^{p}_{i}f({x}_{k};W^{p}_{i}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">We also have an fused feature representation <math id="S3.SS3.p2.1.m1.2" class="ltx_Math" alttext="\phi_{i,k}^{f}" display="inline"><semantics id="S3.SS3.p2.1.m1.2a"><msubsup id="S3.SS3.p2.1.m1.2.3" xref="S3.SS3.p2.1.m1.2.3.cmml"><mi id="S3.SS3.p2.1.m1.2.3.2.2" xref="S3.SS3.p2.1.m1.2.3.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p2.1.m1.2.2.2.4" xref="S3.SS3.p2.1.m1.2.2.2.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p2.1.m1.2.2.2.4.1" xref="S3.SS3.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.1.m1.2.2.2.2" xref="S3.SS3.p2.1.m1.2.2.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p2.1.m1.2.3.3" xref="S3.SS3.p2.1.m1.2.3.3.cmml">f</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.2b"><apply id="S3.SS3.p2.1.m1.2.3.cmml" xref="S3.SS3.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.2.3.1.cmml" xref="S3.SS3.p2.1.m1.2.3">superscript</csymbol><apply id="S3.SS3.p2.1.m1.2.3.2.cmml" xref="S3.SS3.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.2.3.2.1.cmml" xref="S3.SS3.p2.1.m1.2.3">subscript</csymbol><ci id="S3.SS3.p2.1.m1.2.3.2.2.cmml" xref="S3.SS3.p2.1.m1.2.3.2.2">italic-ϕ</ci><list id="S3.SS3.p2.1.m1.2.2.2.3.cmml" xref="S3.SS3.p2.1.m1.2.2.2.4"><ci id="S3.SS3.p2.1.m1.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1">𝑖</ci><ci id="S3.SS3.p2.1.m1.2.2.2.2.cmml" xref="S3.SS3.p2.1.m1.2.2.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p2.1.m1.2.3.3.cmml" xref="S3.SS3.p2.1.m1.2.3.3">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.2c">\phi_{i,k}^{f}</annotation></semantics></math>:</p>
<table id="A2.EGx8" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E9.m1.7" class="ltx_Math" alttext="\displaystyle\phi_{i,k}^{f}=\alpha\phi_{i,k}^{g}+(1-\alpha)\phi_{i,k}^{p}," display="inline"><semantics id="S3.E9.m1.7a"><mrow id="S3.E9.m1.7.7.1" xref="S3.E9.m1.7.7.1.1.cmml"><mrow id="S3.E9.m1.7.7.1.1" xref="S3.E9.m1.7.7.1.1.cmml"><msubsup id="S3.E9.m1.7.7.1.1.3" xref="S3.E9.m1.7.7.1.1.3.cmml"><mi id="S3.E9.m1.7.7.1.1.3.2.2" xref="S3.E9.m1.7.7.1.1.3.2.2.cmml">ϕ</mi><mrow id="S3.E9.m1.2.2.2.4" xref="S3.E9.m1.2.2.2.3.cmml"><mi id="S3.E9.m1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.cmml">i</mi><mo id="S3.E9.m1.2.2.2.4.1" xref="S3.E9.m1.2.2.2.3.cmml">,</mo><mi id="S3.E9.m1.2.2.2.2" xref="S3.E9.m1.2.2.2.2.cmml">k</mi></mrow><mi id="S3.E9.m1.7.7.1.1.3.3" xref="S3.E9.m1.7.7.1.1.3.3.cmml">f</mi></msubsup><mo id="S3.E9.m1.7.7.1.1.2" xref="S3.E9.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E9.m1.7.7.1.1.1" xref="S3.E9.m1.7.7.1.1.1.cmml"><mrow id="S3.E9.m1.7.7.1.1.1.3" xref="S3.E9.m1.7.7.1.1.1.3.cmml"><mi id="S3.E9.m1.7.7.1.1.1.3.2" xref="S3.E9.m1.7.7.1.1.1.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="S3.E9.m1.7.7.1.1.1.3.1" xref="S3.E9.m1.7.7.1.1.1.3.1.cmml">​</mo><msubsup id="S3.E9.m1.7.7.1.1.1.3.3" xref="S3.E9.m1.7.7.1.1.1.3.3.cmml"><mi id="S3.E9.m1.7.7.1.1.1.3.3.2.2" xref="S3.E9.m1.7.7.1.1.1.3.3.2.2.cmml">ϕ</mi><mrow id="S3.E9.m1.4.4.2.4" xref="S3.E9.m1.4.4.2.3.cmml"><mi id="S3.E9.m1.3.3.1.1" xref="S3.E9.m1.3.3.1.1.cmml">i</mi><mo id="S3.E9.m1.4.4.2.4.1" xref="S3.E9.m1.4.4.2.3.cmml">,</mo><mi id="S3.E9.m1.4.4.2.2" xref="S3.E9.m1.4.4.2.2.cmml">k</mi></mrow><mi id="S3.E9.m1.7.7.1.1.1.3.3.3" xref="S3.E9.m1.7.7.1.1.1.3.3.3.cmml">g</mi></msubsup></mrow><mo id="S3.E9.m1.7.7.1.1.1.2" xref="S3.E9.m1.7.7.1.1.1.2.cmml">+</mo><mrow id="S3.E9.m1.7.7.1.1.1.1" xref="S3.E9.m1.7.7.1.1.1.1.cmml"><mrow id="S3.E9.m1.7.7.1.1.1.1.1.1" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E9.m1.7.7.1.1.1.1.1.1.2" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.7.7.1.1.1.1.1.1.1" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.cmml"><mn id="S3.E9.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E9.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="S3.E9.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="S3.E9.m1.7.7.1.1.1.1.1.1.3" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E9.m1.7.7.1.1.1.1.2" xref="S3.E9.m1.7.7.1.1.1.1.2.cmml">​</mo><msubsup id="S3.E9.m1.7.7.1.1.1.1.3" xref="S3.E9.m1.7.7.1.1.1.1.3.cmml"><mi id="S3.E9.m1.7.7.1.1.1.1.3.2.2" xref="S3.E9.m1.7.7.1.1.1.1.3.2.2.cmml">ϕ</mi><mrow id="S3.E9.m1.6.6.2.4" xref="S3.E9.m1.6.6.2.3.cmml"><mi id="S3.E9.m1.5.5.1.1" xref="S3.E9.m1.5.5.1.1.cmml">i</mi><mo id="S3.E9.m1.6.6.2.4.1" xref="S3.E9.m1.6.6.2.3.cmml">,</mo><mi id="S3.E9.m1.6.6.2.2" xref="S3.E9.m1.6.6.2.2.cmml">k</mi></mrow><mi id="S3.E9.m1.7.7.1.1.1.1.3.3" xref="S3.E9.m1.7.7.1.1.1.1.3.3.cmml">p</mi></msubsup></mrow></mrow></mrow><mo id="S3.E9.m1.7.7.1.2" xref="S3.E9.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.7b"><apply id="S3.E9.m1.7.7.1.1.cmml" xref="S3.E9.m1.7.7.1"><eq id="S3.E9.m1.7.7.1.1.2.cmml" xref="S3.E9.m1.7.7.1.1.2"></eq><apply id="S3.E9.m1.7.7.1.1.3.cmml" xref="S3.E9.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.1.cmml" xref="S3.E9.m1.7.7.1.1.3">superscript</csymbol><apply id="S3.E9.m1.7.7.1.1.3.2.cmml" xref="S3.E9.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.3.2.1.cmml" xref="S3.E9.m1.7.7.1.1.3">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.3.2.2.cmml" xref="S3.E9.m1.7.7.1.1.3.2.2">italic-ϕ</ci><list id="S3.E9.m1.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.4"><ci id="S3.E9.m1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1">𝑖</ci><ci id="S3.E9.m1.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2">𝑘</ci></list></apply><ci id="S3.E9.m1.7.7.1.1.3.3.cmml" xref="S3.E9.m1.7.7.1.1.3.3">𝑓</ci></apply><apply id="S3.E9.m1.7.7.1.1.1.cmml" xref="S3.E9.m1.7.7.1.1.1"><plus id="S3.E9.m1.7.7.1.1.1.2.cmml" xref="S3.E9.m1.7.7.1.1.1.2"></plus><apply id="S3.E9.m1.7.7.1.1.1.3.cmml" xref="S3.E9.m1.7.7.1.1.1.3"><times id="S3.E9.m1.7.7.1.1.1.3.1.cmml" xref="S3.E9.m1.7.7.1.1.1.3.1"></times><ci id="S3.E9.m1.7.7.1.1.1.3.2.cmml" xref="S3.E9.m1.7.7.1.1.1.3.2">𝛼</ci><apply id="S3.E9.m1.7.7.1.1.1.3.3.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.1.3.3.1.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3">superscript</csymbol><apply id="S3.E9.m1.7.7.1.1.1.3.3.2.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.1.3.3.2.1.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.1.3.3.2.2.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3.2.2">italic-ϕ</ci><list id="S3.E9.m1.4.4.2.3.cmml" xref="S3.E9.m1.4.4.2.4"><ci id="S3.E9.m1.3.3.1.1.cmml" xref="S3.E9.m1.3.3.1.1">𝑖</ci><ci id="S3.E9.m1.4.4.2.2.cmml" xref="S3.E9.m1.4.4.2.2">𝑘</ci></list></apply><ci id="S3.E9.m1.7.7.1.1.1.3.3.3.cmml" xref="S3.E9.m1.7.7.1.1.1.3.3.3">𝑔</ci></apply></apply><apply id="S3.E9.m1.7.7.1.1.1.1.cmml" xref="S3.E9.m1.7.7.1.1.1.1"><times id="S3.E9.m1.7.7.1.1.1.1.2.cmml" xref="S3.E9.m1.7.7.1.1.1.1.2"></times><apply id="S3.E9.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.7.7.1.1.1.1.1.1"><minus id="S3.E9.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E9.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.2">1</cn><ci id="S3.E9.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.7.7.1.1.1.1.1.1.1.3">𝛼</ci></apply><apply id="S3.E9.m1.7.7.1.1.1.1.3.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.1.1.3.1.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3">superscript</csymbol><apply id="S3.E9.m1.7.7.1.1.1.1.3.2.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.7.7.1.1.1.1.3.2.1.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S3.E9.m1.7.7.1.1.1.1.3.2.2.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3.2.2">italic-ϕ</ci><list id="S3.E9.m1.6.6.2.3.cmml" xref="S3.E9.m1.6.6.2.4"><ci id="S3.E9.m1.5.5.1.1.cmml" xref="S3.E9.m1.5.5.1.1">𝑖</ci><ci id="S3.E9.m1.6.6.2.2.cmml" xref="S3.E9.m1.6.6.2.2">𝑘</ci></list></apply><ci id="S3.E9.m1.7.7.1.1.1.1.3.3.cmml" xref="S3.E9.m1.7.7.1.1.1.1.3.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.7c">\displaystyle\phi_{i,k}^{f}=\alpha\phi_{i,k}^{g}+(1-\alpha)\phi_{i,k}^{p},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.4" class="ltx_p">where <math id="S3.SS3.p2.2.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS3.p2.2.m1.1a"><mi id="S3.SS3.p2.2.m1.1.1" xref="S3.SS3.p2.2.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m1.1b"><ci id="S3.SS3.p2.2.m1.1.1.cmml" xref="S3.SS3.p2.2.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m1.1c">\alpha</annotation></semantics></math> is the hyperparameter controlling the proportion of the generic feature. Generally, <math id="S3.SS3.p2.3.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS3.p2.3.m2.1a"><mi id="S3.SS3.p2.3.m2.1.1" xref="S3.SS3.p2.3.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m2.1b"><ci id="S3.SS3.p2.3.m2.1.1.cmml" xref="S3.SS3.p2.3.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m2.1c">\alpha</annotation></semantics></math> is set around 0.5 to have a balance between the generic and personalized features. Interestingly, we will show in the experimental part (Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2 Main Results ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), that different datasets may have slightly different optimal <math id="S3.SS3.p2.4.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS3.p2.4.m3.1a"><mi id="S3.SS3.p2.4.m3.1.1" xref="S3.SS3.p2.4.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m3.1b"><ci id="S3.SS3.p2.4.m3.1.1.cmml" xref="S3.SS3.p2.4.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m3.1c">\alpha</annotation></semantics></math>, indicating the intrinsic generic-or-personalized feature structures of the datasets.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para ltx_noindent">
<p id="S3.SS3.p3.2" class="ltx_p"><span id="S3.SS3.p3.2.1" class="ltx_text ltx_font_bold">The Cross-Entropy Loss.</span>
During the training process, we employ the cross-entropy loss function to optimize the model parameters. By using one common prediction head <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="{H}_{i}" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><msub id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml"><mi id="S3.SS3.p3.1.m1.1.1.2" xref="S3.SS3.p3.1.m1.1.1.2.cmml">H</mi><mi id="S3.SS3.p3.1.m1.1.1.3" xref="S3.SS3.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><apply id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.1.m1.1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS3.p3.1.m1.1.1.2.cmml" xref="S3.SS3.p3.1.m1.1.1.2">𝐻</ci><ci id="S3.SS3.p3.1.m1.1.1.3.cmml" xref="S3.SS3.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">{H}_{i}</annotation></semantics></math>, we compute the cross-entropy loss for the three features <math id="S3.SS3.p3.2.m2.9" class="ltx_Math" alttext="\phi_{i,k}^{f},\phi_{i,k}^{g},\phi_{i,k}^{p}" display="inline"><semantics id="S3.SS3.p3.2.m2.9a"><mrow id="S3.SS3.p3.2.m2.9.9.3" xref="S3.SS3.p3.2.m2.9.9.4.cmml"><msubsup id="S3.SS3.p3.2.m2.7.7.1.1" xref="S3.SS3.p3.2.m2.7.7.1.1.cmml"><mi id="S3.SS3.p3.2.m2.7.7.1.1.2.2" xref="S3.SS3.p3.2.m2.7.7.1.1.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p3.2.m2.2.2.2.4" xref="S3.SS3.p3.2.m2.2.2.2.3.cmml"><mi id="S3.SS3.p3.2.m2.1.1.1.1" xref="S3.SS3.p3.2.m2.1.1.1.1.cmml">i</mi><mo id="S3.SS3.p3.2.m2.2.2.2.4.1" xref="S3.SS3.p3.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p3.2.m2.2.2.2.2" xref="S3.SS3.p3.2.m2.2.2.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p3.2.m2.7.7.1.1.3" xref="S3.SS3.p3.2.m2.7.7.1.1.3.cmml">f</mi></msubsup><mo id="S3.SS3.p3.2.m2.9.9.3.4" xref="S3.SS3.p3.2.m2.9.9.4.cmml">,</mo><msubsup id="S3.SS3.p3.2.m2.8.8.2.2" xref="S3.SS3.p3.2.m2.8.8.2.2.cmml"><mi id="S3.SS3.p3.2.m2.8.8.2.2.2.2" xref="S3.SS3.p3.2.m2.8.8.2.2.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p3.2.m2.4.4.2.4" xref="S3.SS3.p3.2.m2.4.4.2.3.cmml"><mi id="S3.SS3.p3.2.m2.3.3.1.1" xref="S3.SS3.p3.2.m2.3.3.1.1.cmml">i</mi><mo id="S3.SS3.p3.2.m2.4.4.2.4.1" xref="S3.SS3.p3.2.m2.4.4.2.3.cmml">,</mo><mi id="S3.SS3.p3.2.m2.4.4.2.2" xref="S3.SS3.p3.2.m2.4.4.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p3.2.m2.8.8.2.2.3" xref="S3.SS3.p3.2.m2.8.8.2.2.3.cmml">g</mi></msubsup><mo id="S3.SS3.p3.2.m2.9.9.3.5" xref="S3.SS3.p3.2.m2.9.9.4.cmml">,</mo><msubsup id="S3.SS3.p3.2.m2.9.9.3.3" xref="S3.SS3.p3.2.m2.9.9.3.3.cmml"><mi id="S3.SS3.p3.2.m2.9.9.3.3.2.2" xref="S3.SS3.p3.2.m2.9.9.3.3.2.2.cmml">ϕ</mi><mrow id="S3.SS3.p3.2.m2.6.6.2.4" xref="S3.SS3.p3.2.m2.6.6.2.3.cmml"><mi id="S3.SS3.p3.2.m2.5.5.1.1" xref="S3.SS3.p3.2.m2.5.5.1.1.cmml">i</mi><mo id="S3.SS3.p3.2.m2.6.6.2.4.1" xref="S3.SS3.p3.2.m2.6.6.2.3.cmml">,</mo><mi id="S3.SS3.p3.2.m2.6.6.2.2" xref="S3.SS3.p3.2.m2.6.6.2.2.cmml">k</mi></mrow><mi id="S3.SS3.p3.2.m2.9.9.3.3.3" xref="S3.SS3.p3.2.m2.9.9.3.3.3.cmml">p</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.9b"><list id="S3.SS3.p3.2.m2.9.9.4.cmml" xref="S3.SS3.p3.2.m2.9.9.3"><apply id="S3.SS3.p3.2.m2.7.7.1.1.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.7.7.1.1.1.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1">superscript</csymbol><apply id="S3.SS3.p3.2.m2.7.7.1.1.2.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.7.7.1.1.2.1.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1">subscript</csymbol><ci id="S3.SS3.p3.2.m2.7.7.1.1.2.2.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1.2.2">italic-ϕ</ci><list id="S3.SS3.p3.2.m2.2.2.2.3.cmml" xref="S3.SS3.p3.2.m2.2.2.2.4"><ci id="S3.SS3.p3.2.m2.1.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1.1.1">𝑖</ci><ci id="S3.SS3.p3.2.m2.2.2.2.2.cmml" xref="S3.SS3.p3.2.m2.2.2.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p3.2.m2.7.7.1.1.3.cmml" xref="S3.SS3.p3.2.m2.7.7.1.1.3">𝑓</ci></apply><apply id="S3.SS3.p3.2.m2.8.8.2.2.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.8.8.2.2.1.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2">superscript</csymbol><apply id="S3.SS3.p3.2.m2.8.8.2.2.2.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.8.8.2.2.2.1.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2">subscript</csymbol><ci id="S3.SS3.p3.2.m2.8.8.2.2.2.2.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2.2.2">italic-ϕ</ci><list id="S3.SS3.p3.2.m2.4.4.2.3.cmml" xref="S3.SS3.p3.2.m2.4.4.2.4"><ci id="S3.SS3.p3.2.m2.3.3.1.1.cmml" xref="S3.SS3.p3.2.m2.3.3.1.1">𝑖</ci><ci id="S3.SS3.p3.2.m2.4.4.2.2.cmml" xref="S3.SS3.p3.2.m2.4.4.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p3.2.m2.8.8.2.2.3.cmml" xref="S3.SS3.p3.2.m2.8.8.2.2.3">𝑔</ci></apply><apply id="S3.SS3.p3.2.m2.9.9.3.3.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.9.9.3.3.1.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3">superscript</csymbol><apply id="S3.SS3.p3.2.m2.9.9.3.3.2.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.9.9.3.3.2.1.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3">subscript</csymbol><ci id="S3.SS3.p3.2.m2.9.9.3.3.2.2.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3.2.2">italic-ϕ</ci><list id="S3.SS3.p3.2.m2.6.6.2.3.cmml" xref="S3.SS3.p3.2.m2.6.6.2.4"><ci id="S3.SS3.p3.2.m2.5.5.1.1.cmml" xref="S3.SS3.p3.2.m2.5.5.1.1">𝑖</ci><ci id="S3.SS3.p3.2.m2.6.6.2.2.cmml" xref="S3.SS3.p3.2.m2.6.6.2.2">𝑘</ci></list></apply><ci id="S3.SS3.p3.2.m2.9.9.3.3.3.cmml" xref="S3.SS3.p3.2.m2.9.9.3.3.3">𝑝</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.9c">\phi_{i,k}^{f},\phi_{i,k}^{g},\phi_{i,k}^{p}</annotation></semantics></math>, respectively.</p>
<table id="A2.EGx9" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.Ex2.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{ce}=" display="inline"><semantics id="S3.Ex2.m1.1a"><mrow id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml"><msub id="S3.Ex2.m1.1.1.2" xref="S3.Ex2.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.1.1.2.2" xref="S3.Ex2.m1.1.1.2.2.cmml">ℒ</mi><mrow id="S3.Ex2.m1.1.1.2.3" xref="S3.Ex2.m1.1.1.2.3.cmml"><mi id="S3.Ex2.m1.1.1.2.3.2" xref="S3.Ex2.m1.1.1.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m1.1.1.2.3.1" xref="S3.Ex2.m1.1.1.2.3.1.cmml">​</mo><mi id="S3.Ex2.m1.1.1.2.3.3" xref="S3.Ex2.m1.1.1.2.3.3.cmml">e</mi></mrow></msub><mo id="S3.Ex2.m1.1.1.1" xref="S3.Ex2.m1.1.1.1.cmml">=</mo><mi id="S3.Ex2.m1.1.1.3" xref="S3.Ex2.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.1b"><apply id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1"><eq id="S3.Ex2.m1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1"></eq><apply id="S3.Ex2.m1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.1.1.2.2.cmml" xref="S3.Ex2.m1.1.1.2.2">ℒ</ci><apply id="S3.Ex2.m1.1.1.2.3.cmml" xref="S3.Ex2.m1.1.1.2.3"><times id="S3.Ex2.m1.1.1.2.3.1.cmml" xref="S3.Ex2.m1.1.1.2.3.1"></times><ci id="S3.Ex2.m1.1.1.2.3.2.cmml" xref="S3.Ex2.m1.1.1.2.3.2">𝑐</ci><ci id="S3.Ex2.m1.1.1.2.3.3.cmml" xref="S3.Ex2.m1.1.1.2.3.3">𝑒</ci></apply></apply><csymbol cd="latexml" id="S3.Ex2.m1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\displaystyle\mathcal{L}_{ce}=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.Ex2.m2.6" class="ltx_math_unparsed" alttext="\displaystyle-\frac{1}{\lvert\mathcal{D}_{i}\rvert}\bigg{(}\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{f}};{H}_{i}))}_{\text{fused features}}+" display="inline"><semantics id="S3.Ex2.m2.6a"><mrow id="S3.Ex2.m2.6b"><mo id="S3.Ex2.m2.6.7">−</mo><mstyle displaystyle="true" id="S3.Ex2.m2.1.1"><mfrac id="S3.Ex2.m2.1.1a"><mn id="S3.Ex2.m2.1.1.3">1</mn><mrow id="S3.Ex2.m2.1.1.1.1"><mo stretchy="false" id="S3.Ex2.m2.1.1.1.1.2">|</mo><msub id="S3.Ex2.m2.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.1.1.1.1.1.2">𝒟</mi><mi id="S3.Ex2.m2.1.1.1.1.1.3">i</mi></msub><mo stretchy="false" id="S3.Ex2.m2.1.1.1.1.3">|</mo></mrow></mfrac></mstyle><mrow id="S3.Ex2.m2.6.8"><mo maxsize="210%" minsize="210%" id="S3.Ex2.m2.6.8.1">(</mo><munder id="S3.Ex2.m2.6.8.2"><munder accentunder="true" id="S3.Ex2.m2.6.6"><mrow id="S3.Ex2.m2.6.6.5"><mstyle displaystyle="true" id="S3.Ex2.m2.6.6.5.6"><munderover id="S3.Ex2.m2.6.6.5.6a"><mo movablelimits="false" id="S3.Ex2.m2.6.6.5.6.2.2">∑</mo><mrow id="S3.Ex2.m2.6.6.5.6.2.3"><mi id="S3.Ex2.m2.6.6.5.6.2.3.2">k</mi><mo id="S3.Ex2.m2.6.6.5.6.2.3.1">=</mo><mn id="S3.Ex2.m2.6.6.5.6.2.3.3">1</mn></mrow><mrow id="S3.Ex2.m2.2.2.1.1.1.1"><mo stretchy="false" id="S3.Ex2.m2.2.2.1.1.1.1.2">|</mo><msub id="S3.Ex2.m2.2.2.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.2.2.1.1.1.1.1.2">𝒟</mi><mi id="S3.Ex2.m2.2.2.1.1.1.1.1.3">i</mi></msub><mo stretchy="false" id="S3.Ex2.m2.2.2.1.1.1.1.3">|</mo></mrow></munderover></mstyle><mrow id="S3.Ex2.m2.6.6.5.5"><msub id="S3.Ex2.m2.6.6.5.5.3"><mi id="S3.Ex2.m2.6.6.5.5.3.2">y</mi><mi id="S3.Ex2.m2.6.6.5.5.3.3">k</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.Ex2.m2.6.6.5.5.2">​</mo><mrow id="S3.Ex2.m2.6.6.5.5.1.1"><mi id="S3.Ex2.m2.5.5.4.4">log</mi><mo id="S3.Ex2.m2.6.6.5.5.1.1a">⁡</mo><mrow id="S3.Ex2.m2.6.6.5.5.1.1.1"><mo stretchy="false" id="S3.Ex2.m2.6.6.5.5.1.1.1.2">(</mo><mrow id="S3.Ex2.m2.6.6.5.5.1.1.1.1"><mi id="S3.Ex2.m2.6.6.5.5.1.1.1.1.4">f</mi><mo lspace="0em" rspace="0em" id="S3.Ex2.m2.6.6.5.5.1.1.1.1.3">​</mo><mrow id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2"><mo stretchy="false" id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.3">(</mo><msubsup id="S3.Ex2.m2.6.6.5.5.1.1.1.1.1.1.1"><mi id="S3.Ex2.m2.6.6.5.5.1.1.1.1.1.1.1.2.2">ϕ</mi><mrow id="S3.Ex2.m2.4.4.3.3.2.4"><mi id="S3.Ex2.m2.3.3.2.2.1.1">i</mi><mo id="S3.Ex2.m2.4.4.3.3.2.4.1">,</mo><mi id="S3.Ex2.m2.4.4.3.3.2.2">k</mi></mrow><mi id="S3.Ex2.m2.6.6.5.5.1.1.1.1.1.1.1.3">f</mi></msubsup><mo id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.4">;</mo><msub id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.2"><mi id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.2.2">H</mi><mi id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.2.3">i</mi></msub><mo stretchy="false" id="S3.Ex2.m2.6.6.5.5.1.1.1.1.2.2.5">)</mo></mrow></mrow><mo stretchy="false" id="S3.Ex2.m2.6.6.5.5.1.1.1.3">)</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex2.m2.6.6.6">⏟</mo></munder><mtext id="S3.Ex2.m2.6.8.2.2">fused features</mtext></munder><mo id="S3.Ex2.m2.6.8.3">+</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex2.m2.6c">\displaystyle-\frac{1}{\lvert\mathcal{D}_{i}\rvert}\bigg{(}\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{f}};{H}_{i}))}_{\text{fused features}}+</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S3.E10.m1.10" class="ltx_math_unparsed" alttext="\displaystyle\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{g}};{H}_{i}))}_{\text{{\color[rgb]{0,0.6,0}generic features}}}+\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{p}};{H}_{i}))}_{\text{{\color[rgb]{0,0.5,1}personalized features}}}\bigg{)}." display="inline"><semantics id="S3.E10.m1.10a"><mrow id="S3.E10.m1.10b"><munder id="S3.E10.m1.10.11"><munder accentunder="true" id="S3.E10.m1.5.5"><mrow id="S3.E10.m1.5.5.5"><mstyle displaystyle="true" id="S3.E10.m1.5.5.5.6"><munderover id="S3.E10.m1.5.5.5.6a"><mo movablelimits="false" id="S3.E10.m1.5.5.5.6.2.2">∑</mo><mrow id="S3.E10.m1.5.5.5.6.2.3"><mi id="S3.E10.m1.5.5.5.6.2.3.2">k</mi><mo id="S3.E10.m1.5.5.5.6.2.3.1">=</mo><mn id="S3.E10.m1.5.5.5.6.2.3.3">1</mn></mrow><mrow id="S3.E10.m1.1.1.1.1.1.1"><mo stretchy="false" id="S3.E10.m1.1.1.1.1.1.1.2">|</mo><msub id="S3.E10.m1.1.1.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.1.1.1.1.1.1.2">𝒟</mi><mi id="S3.E10.m1.1.1.1.1.1.1.1.3">i</mi></msub><mo stretchy="false" id="S3.E10.m1.1.1.1.1.1.1.3">|</mo></mrow></munderover></mstyle><mrow id="S3.E10.m1.5.5.5.5"><msub id="S3.E10.m1.5.5.5.5.3"><mi id="S3.E10.m1.5.5.5.5.3.2">y</mi><mi id="S3.E10.m1.5.5.5.5.3.3">k</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E10.m1.5.5.5.5.2">​</mo><mrow id="S3.E10.m1.5.5.5.5.1.1"><mi id="S3.E10.m1.4.4.4.4">log</mi><mo id="S3.E10.m1.5.5.5.5.1.1a">⁡</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1"><mo stretchy="false" id="S3.E10.m1.5.5.5.5.1.1.1.2">(</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1.1"><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.4">f</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.5.5.5.5.1.1.1.1.3">​</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2"><mo stretchy="false" id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.3">(</mo><msubsup id="S3.E10.m1.5.5.5.5.1.1.1.1.1.1.1"><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.1.1.1.2.2">ϕ</mi><mrow id="S3.E10.m1.3.3.3.3.2.4"><mi id="S3.E10.m1.2.2.2.2.1.1">i</mi><mo id="S3.E10.m1.3.3.3.3.2.4.1">,</mo><mi id="S3.E10.m1.3.3.3.3.2.2">k</mi></mrow><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.1.1.1.3">g</mi></msubsup><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.4">;</mo><msub id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.2"><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.2.2">H</mi><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.2.3">i</mi></msub><mo stretchy="false" id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.5">)</mo></mrow></mrow><mo stretchy="false" id="S3.E10.m1.5.5.5.5.1.1.1.3">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E10.m1.5.5.6">⏟</mo></munder><mtext mathcolor="#009900" id="S3.E10.m1.10.11.2">generic features</mtext></munder><mo id="S3.E10.m1.10.12">+</mo><munder id="S3.E10.m1.10.13"><munder accentunder="true" id="S3.E10.m1.10.10"><mrow id="S3.E10.m1.10.10.5"><mstyle displaystyle="true" id="S3.E10.m1.10.10.5.6"><munderover id="S3.E10.m1.10.10.5.6a"><mo movablelimits="false" id="S3.E10.m1.10.10.5.6.2.2">∑</mo><mrow id="S3.E10.m1.10.10.5.6.2.3"><mi id="S3.E10.m1.10.10.5.6.2.3.2">k</mi><mo id="S3.E10.m1.10.10.5.6.2.3.1">=</mo><mn id="S3.E10.m1.10.10.5.6.2.3.3">1</mn></mrow><mrow id="S3.E10.m1.6.6.1.1.1.1"><mo stretchy="false" id="S3.E10.m1.6.6.1.1.1.1.2">|</mo><msub id="S3.E10.m1.6.6.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.6.6.1.1.1.1.1.2">𝒟</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.3">i</mi></msub><mo stretchy="false" id="S3.E10.m1.6.6.1.1.1.1.3">|</mo></mrow></munderover></mstyle><mrow id="S3.E10.m1.10.10.5.5"><msub id="S3.E10.m1.10.10.5.5.3"><mi id="S3.E10.m1.10.10.5.5.3.2">y</mi><mi id="S3.E10.m1.10.10.5.5.3.3">k</mi></msub><mo lspace="0.167em" rspace="0em" id="S3.E10.m1.10.10.5.5.2">​</mo><mrow id="S3.E10.m1.10.10.5.5.1.1"><mi id="S3.E10.m1.9.9.4.4">log</mi><mo id="S3.E10.m1.10.10.5.5.1.1a">⁡</mo><mrow id="S3.E10.m1.10.10.5.5.1.1.1"><mo stretchy="false" id="S3.E10.m1.10.10.5.5.1.1.1.2">(</mo><mrow id="S3.E10.m1.10.10.5.5.1.1.1.1"><mi id="S3.E10.m1.10.10.5.5.1.1.1.1.4">f</mi><mo lspace="0em" rspace="0em" id="S3.E10.m1.10.10.5.5.1.1.1.1.3">​</mo><mrow id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2"><mo stretchy="false" id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.3">(</mo><msubsup id="S3.E10.m1.10.10.5.5.1.1.1.1.1.1.1"><mi id="S3.E10.m1.10.10.5.5.1.1.1.1.1.1.1.2.2">ϕ</mi><mrow id="S3.E10.m1.8.8.3.3.2.4"><mi id="S3.E10.m1.7.7.2.2.1.1">i</mi><mo id="S3.E10.m1.8.8.3.3.2.4.1">,</mo><mi id="S3.E10.m1.8.8.3.3.2.2">k</mi></mrow><mi id="S3.E10.m1.10.10.5.5.1.1.1.1.1.1.1.3">p</mi></msubsup><mo id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.4">;</mo><msub id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.2"><mi id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.2.2">H</mi><mi id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.2.3">i</mi></msub><mo stretchy="false" id="S3.E10.m1.10.10.5.5.1.1.1.1.2.2.5">)</mo></mrow></mrow><mo stretchy="false" id="S3.E10.m1.10.10.5.5.1.1.1.3">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E10.m1.10.10.6">⏟</mo></munder><mtext mathcolor="#0080FF" id="S3.E10.m1.10.13.2">personalized features</mtext></munder><mo maxsize="210%" minsize="210%" id="S3.E10.m1.10.14">)</mo><mo lspace="0em" id="S3.E10.m1.10.15">.</mo></mrow><annotation encoding="application/x-tex" id="S3.E10.m1.10c">\displaystyle\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{g}};{H}_{i}))}_{\text{{\color[rgb]{0,0.6,0}generic features}}}+\underbrace{\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{y}_{k}\log(f({\phi_{i,k}^{p}};{H}_{i}))}_{\text{{\color[rgb]{0,0.5,1}personalized features}}}\bigg{)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p3.3" class="ltx_p">In this way, the prediction head is learned to balance the tradeoff between the generic and the personalized features, and the two feature extractors are both trained to effectively contribute to the personalization task.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para ltx_noindent">
<p id="S3.SS3.p4.1" class="ltx_p"><span id="S3.SS3.p4.1.1" class="ltx_text ltx_font_bold">The Orthogonality Regularization Loss.</span>
Additionally, we utilize the absolute value of the inner product between generic and personalized features as a loss function to strengthen the orthogonality between these two features:</p>
<table id="A2.EGx10" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E11.m1.7" class="ltx_Math" alttext="\displaystyle\mathcal{L}_{re}=\frac{1}{\lvert\mathcal{D}_{i}\rvert}\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{\lvert\phi_{i,k}^{g}\cdot\phi_{i,k}^{p}\rvert}." display="inline"><semantics id="S3.E11.m1.7a"><mrow id="S3.E11.m1.7.7.1" xref="S3.E11.m1.7.7.1.1.cmml"><mrow id="S3.E11.m1.7.7.1.1" xref="S3.E11.m1.7.7.1.1.cmml"><msub id="S3.E11.m1.7.7.1.1.3" xref="S3.E11.m1.7.7.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.7.7.1.1.3.2" xref="S3.E11.m1.7.7.1.1.3.2.cmml">ℒ</mi><mrow id="S3.E11.m1.7.7.1.1.3.3" xref="S3.E11.m1.7.7.1.1.3.3.cmml"><mi id="S3.E11.m1.7.7.1.1.3.3.2" xref="S3.E11.m1.7.7.1.1.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E11.m1.7.7.1.1.3.3.1" xref="S3.E11.m1.7.7.1.1.3.3.1.cmml">​</mo><mi id="S3.E11.m1.7.7.1.1.3.3.3" xref="S3.E11.m1.7.7.1.1.3.3.3.cmml">e</mi></mrow></msub><mo id="S3.E11.m1.7.7.1.1.2" xref="S3.E11.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E11.m1.7.7.1.1.1" xref="S3.E11.m1.7.7.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E11.m1.1.1" xref="S3.E11.m1.1.1.cmml"><mfrac id="S3.E11.m1.1.1a" xref="S3.E11.m1.1.1.cmml"><mn id="S3.E11.m1.1.1.3" xref="S3.E11.m1.1.1.3.cmml">1</mn><mrow id="S3.E11.m1.1.1.1.1" xref="S3.E11.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E11.m1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E11.m1.1.1.1.1.1" xref="S3.E11.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.1.1.1.1.2" xref="S3.E11.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S3.E11.m1.1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E11.m1.1.1.1.1.3" xref="S3.E11.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E11.m1.7.7.1.1.1.2" xref="S3.E11.m1.7.7.1.1.1.2.cmml">​</mo><mrow id="S3.E11.m1.7.7.1.1.1.1" xref="S3.E11.m1.7.7.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E11.m1.7.7.1.1.1.1.2" xref="S3.E11.m1.7.7.1.1.1.1.2.cmml"><munderover id="S3.E11.m1.7.7.1.1.1.1.2a" xref="S3.E11.m1.7.7.1.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E11.m1.7.7.1.1.1.1.2.2.2" xref="S3.E11.m1.7.7.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E11.m1.7.7.1.1.1.1.2.2.3" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.cmml"><mi id="S3.E11.m1.7.7.1.1.1.1.2.2.3.2" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.2.cmml">k</mi><mo id="S3.E11.m1.7.7.1.1.1.1.2.2.3.1" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E11.m1.7.7.1.1.1.1.2.2.3.3" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S3.E11.m1.2.2.1.1" xref="S3.E11.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.E11.m1.2.2.1.1.2" xref="S3.E11.m1.2.2.1.2.1.cmml">|</mo><msub id="S3.E11.m1.2.2.1.1.1" xref="S3.E11.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.2.2.1.1.1.2" xref="S3.E11.m1.2.2.1.1.1.2.cmml">𝒟</mi><mi id="S3.E11.m1.2.2.1.1.1.3" xref="S3.E11.m1.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E11.m1.2.2.1.1.3" xref="S3.E11.m1.2.2.1.2.1.cmml">|</mo></mrow></munderover></mstyle><mrow id="S3.E11.m1.7.7.1.1.1.1.1.1" xref="S3.E11.m1.7.7.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E11.m1.7.7.1.1.1.1.1.1.2" xref="S3.E11.m1.7.7.1.1.1.1.1.2.1.cmml">|</mo><mrow id="S3.E11.m1.7.7.1.1.1.1.1.1.1" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.2" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml">ϕ</mi><mrow id="S3.E11.m1.4.4.2.4" xref="S3.E11.m1.4.4.2.3.cmml"><mi id="S3.E11.m1.3.3.1.1" xref="S3.E11.m1.3.3.1.1.cmml">i</mi><mo id="S3.E11.m1.4.4.2.4.1" xref="S3.E11.m1.4.4.2.3.cmml">,</mo><mi id="S3.E11.m1.4.4.2.2" xref="S3.E11.m1.4.4.2.2.cmml">k</mi></mrow><mi id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.3" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.3.cmml">g</mi></msubsup><mo lspace="0.222em" rspace="0.222em" id="S3.E11.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.1.cmml">⋅</mo><msubsup id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.2" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml">ϕ</mi><mrow id="S3.E11.m1.6.6.2.4" xref="S3.E11.m1.6.6.2.3.cmml"><mi id="S3.E11.m1.5.5.1.1" xref="S3.E11.m1.5.5.1.1.cmml">i</mi><mo id="S3.E11.m1.6.6.2.4.1" xref="S3.E11.m1.6.6.2.3.cmml">,</mo><mi id="S3.E11.m1.6.6.2.2" xref="S3.E11.m1.6.6.2.2.cmml">k</mi></mrow><mi id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.3" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.3.cmml">p</mi></msubsup></mrow><mo stretchy="false" id="S3.E11.m1.7.7.1.1.1.1.1.1.3" xref="S3.E11.m1.7.7.1.1.1.1.1.2.1.cmml">|</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E11.m1.7.7.1.2" xref="S3.E11.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.7b"><apply id="S3.E11.m1.7.7.1.1.cmml" xref="S3.E11.m1.7.7.1"><eq id="S3.E11.m1.7.7.1.1.2.cmml" xref="S3.E11.m1.7.7.1.1.2"></eq><apply id="S3.E11.m1.7.7.1.1.3.cmml" xref="S3.E11.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.3.1.cmml" xref="S3.E11.m1.7.7.1.1.3">subscript</csymbol><ci id="S3.E11.m1.7.7.1.1.3.2.cmml" xref="S3.E11.m1.7.7.1.1.3.2">ℒ</ci><apply id="S3.E11.m1.7.7.1.1.3.3.cmml" xref="S3.E11.m1.7.7.1.1.3.3"><times id="S3.E11.m1.7.7.1.1.3.3.1.cmml" xref="S3.E11.m1.7.7.1.1.3.3.1"></times><ci id="S3.E11.m1.7.7.1.1.3.3.2.cmml" xref="S3.E11.m1.7.7.1.1.3.3.2">𝑟</ci><ci id="S3.E11.m1.7.7.1.1.3.3.3.cmml" xref="S3.E11.m1.7.7.1.1.3.3.3">𝑒</ci></apply></apply><apply id="S3.E11.m1.7.7.1.1.1.cmml" xref="S3.E11.m1.7.7.1.1.1"><times id="S3.E11.m1.7.7.1.1.1.2.cmml" xref="S3.E11.m1.7.7.1.1.1.2"></times><apply id="S3.E11.m1.1.1.cmml" xref="S3.E11.m1.1.1"><divide id="S3.E11.m1.1.1.2.cmml" xref="S3.E11.m1.1.1"></divide><cn type="integer" id="S3.E11.m1.1.1.3.cmml" xref="S3.E11.m1.1.1.3">1</cn><apply id="S3.E11.m1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1"><abs id="S3.E11.m1.1.1.1.2.1.cmml" xref="S3.E11.m1.1.1.1.1.2"></abs><apply id="S3.E11.m1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.1.1.1.1.1.2">𝒟</ci><ci id="S3.E11.m1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S3.E11.m1.7.7.1.1.1.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1"><apply id="S3.E11.m1.7.7.1.1.1.1.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2">superscript</csymbol><apply id="S3.E11.m1.7.7.1.1.1.1.2.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.2.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2">subscript</csymbol><sum id="S3.E11.m1.7.7.1.1.1.1.2.2.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2.2.2"></sum><apply id="S3.E11.m1.7.7.1.1.1.1.2.2.3.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3"><eq id="S3.E11.m1.7.7.1.1.1.1.2.2.3.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.1"></eq><ci id="S3.E11.m1.7.7.1.1.1.1.2.2.3.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.2">𝑘</ci><cn type="integer" id="S3.E11.m1.7.7.1.1.1.1.2.2.3.3.cmml" xref="S3.E11.m1.7.7.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E11.m1.2.2.1.2.cmml" xref="S3.E11.m1.2.2.1.1"><abs id="S3.E11.m1.2.2.1.2.1.cmml" xref="S3.E11.m1.2.2.1.1.2"></abs><apply id="S3.E11.m1.2.2.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m1.2.2.1.1.1.1.cmml" xref="S3.E11.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.E11.m1.2.2.1.1.1.2.cmml" xref="S3.E11.m1.2.2.1.1.1.2">𝒟</ci><ci id="S3.E11.m1.2.2.1.1.1.3.cmml" xref="S3.E11.m1.2.2.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S3.E11.m1.7.7.1.1.1.1.1.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1"><abs id="S3.E11.m1.7.7.1.1.1.1.1.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.2"></abs><apply id="S3.E11.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1"><ci id="S3.E11.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.1">⋅</ci><apply id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.2.2">italic-ϕ</ci><list id="S3.E11.m1.4.4.2.3.cmml" xref="S3.E11.m1.4.4.2.4"><ci id="S3.E11.m1.3.3.1.1.cmml" xref="S3.E11.m1.3.3.1.1">𝑖</ci><ci id="S3.E11.m1.4.4.2.2.cmml" xref="S3.E11.m1.4.4.2.2">𝑘</ci></list></apply><ci id="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.2.3">𝑔</ci></apply><apply id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.2.2">italic-ϕ</ci><list id="S3.E11.m1.6.6.2.3.cmml" xref="S3.E11.m1.6.6.2.4"><ci id="S3.E11.m1.5.5.1.1.cmml" xref="S3.E11.m1.5.5.1.1">𝑖</ci><ci id="S3.E11.m1.6.6.2.2.cmml" xref="S3.E11.m1.6.6.2.2">𝑘</ci></list></apply><ci id="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E11.m1.7.7.1.1.1.1.1.1.1.3.3">𝑝</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.7c">\displaystyle\mathcal{L}_{re}=\frac{1}{\lvert\mathcal{D}_{i}\rvert}\sum_{k=1}^{\lvert\mathcal{D}_{i}\rvert}{\lvert\phi_{i,k}^{g}\cdot\phi_{i,k}^{p}\rvert}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p5" class="ltx_para">
<p id="S3.SS3.p5.3" class="ltx_p">Finally, the overall loss function is:</p>
<table id="A2.EGx11" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E12.m1.1" class="ltx_Math" alttext="\displaystyle\mathcal{L}=\mathcal{L}_{ce}+\lambda\mathcal{L}_{re}," display="inline"><semantics id="S3.E12.m1.1a"><mrow id="S3.E12.m1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><mrow id="S3.E12.m1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.2.cmml">ℒ</mi><mo id="S3.E12.m1.1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.1.cmml">=</mo><mrow id="S3.E12.m1.1.1.1.1.3" xref="S3.E12.m1.1.1.1.1.3.cmml"><msub id="S3.E12.m1.1.1.1.1.3.2" xref="S3.E12.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.1.1.1.1.3.2.2" xref="S3.E12.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mrow id="S3.E12.m1.1.1.1.1.3.2.3" xref="S3.E12.m1.1.1.1.1.3.2.3.cmml"><mi id="S3.E12.m1.1.1.1.1.3.2.3.2" xref="S3.E12.m1.1.1.1.1.3.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.3.2.3.1" xref="S3.E12.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.E12.m1.1.1.1.1.3.2.3.3" xref="S3.E12.m1.1.1.1.1.3.2.3.3.cmml">e</mi></mrow></msub><mo id="S3.E12.m1.1.1.1.1.3.1" xref="S3.E12.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S3.E12.m1.1.1.1.1.3.3" xref="S3.E12.m1.1.1.1.1.3.3.cmml"><mi id="S3.E12.m1.1.1.1.1.3.3.2" xref="S3.E12.m1.1.1.1.1.3.3.2.cmml">λ</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.3.3.1" xref="S3.E12.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S3.E12.m1.1.1.1.1.3.3.3" xref="S3.E12.m1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.1.1.1.1.3.3.3.2" xref="S3.E12.m1.1.1.1.1.3.3.3.2.cmml">ℒ</mi><mrow id="S3.E12.m1.1.1.1.1.3.3.3.3" xref="S3.E12.m1.1.1.1.1.3.3.3.3.cmml"><mi id="S3.E12.m1.1.1.1.1.3.3.3.3.2" xref="S3.E12.m1.1.1.1.1.3.3.3.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.E12.m1.1.1.1.1.3.3.3.3.1" xref="S3.E12.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S3.E12.m1.1.1.1.1.3.3.3.3.3" xref="S3.E12.m1.1.1.1.1.3.3.3.3.3.cmml">e</mi></mrow></msub></mrow></mrow></mrow><mo id="S3.E12.m1.1.1.1.2" xref="S3.E12.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.1b"><apply id="S3.E12.m1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1"><eq id="S3.E12.m1.1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1.1"></eq><ci id="S3.E12.m1.1.1.1.1.2.cmml" xref="S3.E12.m1.1.1.1.1.2">ℒ</ci><apply id="S3.E12.m1.1.1.1.1.3.cmml" xref="S3.E12.m1.1.1.1.1.3"><plus id="S3.E12.m1.1.1.1.1.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3.1"></plus><apply id="S3.E12.m1.1.1.1.1.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.3.2.1.cmml" xref="S3.E12.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.3.2.2.cmml" xref="S3.E12.m1.1.1.1.1.3.2.2">ℒ</ci><apply id="S3.E12.m1.1.1.1.1.3.2.3.cmml" xref="S3.E12.m1.1.1.1.1.3.2.3"><times id="S3.E12.m1.1.1.1.1.3.2.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3.2.3.1"></times><ci id="S3.E12.m1.1.1.1.1.3.2.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.2.3.2">𝑐</ci><ci id="S3.E12.m1.1.1.1.1.3.2.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.2.3.3">𝑒</ci></apply></apply><apply id="S3.E12.m1.1.1.1.1.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.3"><times id="S3.E12.m1.1.1.1.1.3.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3.3.1"></times><ci id="S3.E12.m1.1.1.1.1.3.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.3.2">𝜆</ci><apply id="S3.E12.m1.1.1.1.1.3.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E12.m1.1.1.1.1.3.3.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E12.m1.1.1.1.1.3.3.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3.2">ℒ</ci><apply id="S3.E12.m1.1.1.1.1.3.3.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3.3"><times id="S3.E12.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3.3.1"></times><ci id="S3.E12.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3.3.2">𝑟</ci><ci id="S3.E12.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S3.E12.m1.1.1.1.1.3.3.3.3.3">𝑒</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.1c">\displaystyle\mathcal{L}=\mathcal{L}_{ce}+\lambda\mathcal{L}_{re},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p5.2" class="ltx_p">where <math id="S3.SS3.p5.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS3.p5.1.m1.1a"><mi id="S3.SS3.p5.1.m1.1.1" xref="S3.SS3.p5.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.1.m1.1b"><ci id="S3.SS3.p5.1.m1.1.1.cmml" xref="S3.SS3.p5.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.1.m1.1c">\lambda</annotation></semantics></math> is the hyper-parameter to control the strength of the regularization loss. The clients conduct Equation (<a href="#S3.E12" title="Equation 12 ‣ 3.3 Training Stage ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a>) for <math id="S3.SS3.p5.2.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S3.SS3.p5.2.m2.1a"><mi id="S3.SS3.p5.2.m2.1.1" xref="S3.SS3.p5.2.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p5.2.m2.1b"><ci id="S3.SS3.p5.2.m2.1.1.cmml" xref="S3.SS3.p5.2.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p5.2.m2.1c">E</annotation></semantics></math> epochs and communicate with the server.</p>
</div>
<div id="S3.SS3.p6" class="ltx_para ltx_noindent">
<p id="S3.SS3.p6.4" class="ltx_p"><span id="S3.SS3.p6.4.1" class="ltx_text ltx_font_bold">Server-side Aggregation.</span>
After the client <math id="S3.SS3.p6.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.p6.1.m1.1a"><mi id="S3.SS3.p6.1.m1.1.1" xref="S3.SS3.p6.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.1.m1.1b"><ci id="S3.SS3.p6.1.m1.1.1.cmml" xref="S3.SS3.p6.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.1.m1.1c">i</annotation></semantics></math> completes local training, the generic feature extractor <math id="S3.SS3.p6.2.m2.1" class="ltx_Math" alttext="W^{g}_{i}" display="inline"><semantics id="S3.SS3.p6.2.m2.1a"><msubsup id="S3.SS3.p6.2.m2.1.1" xref="S3.SS3.p6.2.m2.1.1.cmml"><mi id="S3.SS3.p6.2.m2.1.1.2.2" xref="S3.SS3.p6.2.m2.1.1.2.2.cmml">W</mi><mi id="S3.SS3.p6.2.m2.1.1.3" xref="S3.SS3.p6.2.m2.1.1.3.cmml">i</mi><mi id="S3.SS3.p6.2.m2.1.1.2.3" xref="S3.SS3.p6.2.m2.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.2.m2.1b"><apply id="S3.SS3.p6.2.m2.1.1.cmml" xref="S3.SS3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.2.m2.1.1.1.cmml" xref="S3.SS3.p6.2.m2.1.1">subscript</csymbol><apply id="S3.SS3.p6.2.m2.1.1.2.cmml" xref="S3.SS3.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.2.m2.1.1.2.1.cmml" xref="S3.SS3.p6.2.m2.1.1">superscript</csymbol><ci id="S3.SS3.p6.2.m2.1.1.2.2.cmml" xref="S3.SS3.p6.2.m2.1.1.2.2">𝑊</ci><ci id="S3.SS3.p6.2.m2.1.1.2.3.cmml" xref="S3.SS3.p6.2.m2.1.1.2.3">𝑔</ci></apply><ci id="S3.SS3.p6.2.m2.1.1.3.cmml" xref="S3.SS3.p6.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.2.m2.1c">W^{g}_{i}</annotation></semantics></math> and the prediction head <math id="S3.SS3.p6.3.m3.1" class="ltx_Math" alttext="H_{i}" display="inline"><semantics id="S3.SS3.p6.3.m3.1a"><msub id="S3.SS3.p6.3.m3.1.1" xref="S3.SS3.p6.3.m3.1.1.cmml"><mi id="S3.SS3.p6.3.m3.1.1.2" xref="S3.SS3.p6.3.m3.1.1.2.cmml">H</mi><mi id="S3.SS3.p6.3.m3.1.1.3" xref="S3.SS3.p6.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.3.m3.1b"><apply id="S3.SS3.p6.3.m3.1.1.cmml" xref="S3.SS3.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p6.3.m3.1.1.1.cmml" xref="S3.SS3.p6.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p6.3.m3.1.1.2.cmml" xref="S3.SS3.p6.3.m3.1.1.2">𝐻</ci><ci id="S3.SS3.p6.3.m3.1.1.3.cmml" xref="S3.SS3.p6.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.3.m3.1c">H_{i}</annotation></semantics></math> will be uploaded to the server and aggregated by FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>]</cite>. The overall number of communication and local training rounds is <math id="S3.SS3.p6.4.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS3.p6.4.m4.1a"><mi id="S3.SS3.p6.4.m4.1.1" xref="S3.SS3.p6.4.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p6.4.m4.1b"><ci id="S3.SS3.p6.4.m4.1.1.cmml" xref="S3.SS3.p6.4.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p6.4.m4.1c">T</annotation></semantics></math>.
The training procedure is shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2 Decoupling Orthogonal Feature Subspaces ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and Algorithm 1 in the appendix.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4 </span>Inference Stage</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">During the personalization inference stage on the client side, we only use the fused features defined in Equation (<a href="#S3.E9" title="Equation 9 ‣ 3.3 Training Stage ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>), and the learned prediction head can implicitly balance the tradeoff between the generic and personalized features. The inference workflow is also illustrated in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2 Decoupling Orthogonal Feature Subspaces ‣ 3 Method ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. To validate the global model on the server, we use only the aggregated generic feature extractor, the generic projection, and the aggregated prediction head.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiment</h2>

<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.18.2.1" class="ltx_text" style="font-size:113%;">Table 1</span>: </span><span id="S4.T1.2.1" class="ltx_text ltx_font_bold" style="font-size:113%;">Results in terms of personalization accuracy (%) of local models on four datasets under different numbers of clients (<math id="S4.T1.2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.T1.2.1.m1.1b"><mi id="S4.T1.2.1.m1.1.1" xref="S4.T1.2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.T1.2.1.m1.1c"><ci id="S4.T1.2.1.m1.1.1.cmml" xref="S4.T1.2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.1.m1.1d">N</annotation></semantics></math>).<span id="S4.T1.2.1.1" class="ltx_text ltx_font_medium"> The best methods in each setting are highlighted in </span>bold<span id="S4.T1.2.1.2" class="ltx_text ltx_font_medium"> fonts.</span></span></figcaption>
<table id="S4.T1.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.12.11.1" class="ltx_tr">
<th id="S4.T1.12.11.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T1.12.11.1.1.1" class="ltx_text" style="font-size:80%;">Dataset</span></th>
<td id="S4.T1.12.11.1.2" class="ltx_td ltx_align_center ltx_border_tt" colspan="2"><span id="S4.T1.12.11.1.2.1" class="ltx_text" style="font-size:80%;">Office-Caltech-10</span></td>
<td id="S4.T1.12.11.1.3" class="ltx_td ltx_align_center ltx_border_tt" colspan="2"><span id="S4.T1.12.11.1.3.1" class="ltx_text" style="font-size:80%;">DomainNet</span></td>
<td id="S4.T1.12.11.1.4" class="ltx_td ltx_align_center ltx_border_tt" colspan="2"><span id="S4.T1.12.11.1.4.1" class="ltx_text" style="font-size:80%;">Digits-Five</span></td>
<td id="S4.T1.12.11.1.5" class="ltx_td ltx_align_center ltx_border_tt" colspan="2"><span id="S4.T1.12.11.1.5.1" class="ltx_text" style="font-size:80%;">CIFAR-100</span></td>
</tr>
<tr id="S4.T1.3.1" class="ltx_tr">
<th id="S4.T1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.3.1.1.1" class="ltx_text" style="font-size:80%;">Number of Clients (</span><math id="S4.T1.3.1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.T1.3.1.1.m1.1a"><mi mathsize="80%" id="S4.T1.3.1.1.m1.1.1" xref="S4.T1.3.1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.1.m1.1b"><ci id="S4.T1.3.1.1.m1.1.1.cmml" xref="S4.T1.3.1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.1.m1.1c">N</annotation></semantics></math><span id="S4.T1.3.1.1.2" class="ltx_text" style="font-size:80%;">)</span>
</th>
<td id="S4.T1.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.2.1" class="ltx_text" style="font-size:80%;">4</span></td>
<td id="S4.T1.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.3.1" class="ltx_text" style="font-size:80%;">12</span></td>
<td id="S4.T1.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.4.1" class="ltx_text" style="font-size:80%;">6</span></td>
<td id="S4.T1.3.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.5.1" class="ltx_text" style="font-size:80%;">12</span></td>
<td id="S4.T1.3.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.6.1" class="ltx_text" style="font-size:80%;">5</span></td>
<td id="S4.T1.3.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.7.1" class="ltx_text" style="font-size:80%;">10</span></td>
<td id="S4.T1.3.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.8.1" class="ltx_text" style="font-size:80%;">5</span></td>
<td id="S4.T1.3.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.3.1.9.1" class="ltx_text" style="font-size:80%;">10</span></td>
</tr>
<tr id="S4.T1.12.12.2" class="ltx_tr">
<th id="S4.T1.12.12.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T1.12.12.2.1.1" class="ltx_text" style="font-size:80%;">Local</span></th>
<td id="S4.T1.12.12.2.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.12.12.2.2.1" class="ltx_text" style="font-size:80%;">70.67±1.56</span></td>
<td id="S4.T1.12.12.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.12.12.2.3.1" class="ltx_text" style="font-size:80%;">46.71±1.31</span></td>
<td id="S4.T1.12.12.2.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.12.12.2.4.1" class="ltx_text" style="font-size:80%;">38.34±1.69</span></td>
<td id="S4.T1.12.12.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.12.12.2.5.1" class="ltx_text" style="font-size:80%;">30.45±0.82</span></td>
<td id="S4.T1.12.12.2.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.12.12.2.6.1" class="ltx_text" style="font-size:80%;">85.41±0.57</span></td>
<td id="S4.T1.12.12.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.12.12.2.7.1" class="ltx_text" style="font-size:80%;">79.17±0.24</span></td>
<td id="S4.T1.12.12.2.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.12.12.2.8.1" class="ltx_text" style="font-size:80%;">62.06±0.74</span></td>
<td id="S4.T1.12.12.2.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.12.12.2.9.1" class="ltx_text" style="font-size:80%;">49.20±4.71</span></td>
</tr>
<tr id="S4.T1.4.2" class="ltx_tr">
<th id="S4.T1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.4.2.1.1" class="ltx_text" style="font-size:80%;">FedAvg</span><sub id="S4.T1.4.2.1.2" class="ltx_sub"><span id="S4.T1.4.2.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2017</span></sub><span id="S4.T1.4.2.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.4.2.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a><span id="S4.T1.4.2.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.4.2.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.4.2.2.1" class="ltx_text" style="font-size:80%;">69.34±2.86</span></td>
<td id="S4.T1.4.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.2.3.1" class="ltx_text" style="font-size:80%;">55.47±1.54</span></td>
<td id="S4.T1.4.2.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.4.2.4.1" class="ltx_text" style="font-size:80%;">36.40±3.35</span></td>
<td id="S4.T1.4.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.2.5.1" class="ltx_text" style="font-size:80%;">29.50±1.22</span></td>
<td id="S4.T1.4.2.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.4.2.6.1" class="ltx_text" style="font-size:80%;">86.78±0.74</span></td>
<td id="S4.T1.4.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.4.2.7.1" class="ltx_text" style="font-size:80%;">86.46±0.72</span></td>
<td id="S4.T1.4.2.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.4.2.8.1" class="ltx_text" style="font-size:80%;">54.87±1.58</span></td>
<td id="S4.T1.4.2.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.4.2.9.1" class="ltx_text" style="font-size:80%;">52.81±0.13</span></td>
</tr>
<tr id="S4.T1.5.3" class="ltx_tr">
<th id="S4.T1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.5.3.1.1" class="ltx_text" style="font-size:80%;">FedDyn</span><sub id="S4.T1.5.3.1.2" class="ltx_sub"><span id="S4.T1.5.3.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2021</span></sub><span id="S4.T1.5.3.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.5.3.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1</span></a><span id="S4.T1.5.3.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.5.3.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.3.2.1" class="ltx_text" style="font-size:80%;">69.57±1.96</span></td>
<td id="S4.T1.5.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.5.3.3.1" class="ltx_text" style="font-size:80%;">56.03±0.25</span></td>
<td id="S4.T1.5.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.3.4.1" class="ltx_text" style="font-size:80%;">39.47±3.23</span></td>
<td id="S4.T1.5.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.5.3.5.1" class="ltx_text" style="font-size:80%;">26.98±2.39</span></td>
<td id="S4.T1.5.3.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.3.6.1" class="ltx_text" style="font-size:80%;">84.80±0.14</span></td>
<td id="S4.T1.5.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.5.3.7.1" class="ltx_text" style="font-size:80%;">84.97±0.35</span></td>
<td id="S4.T1.5.3.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.3.8.1" class="ltx_text" style="font-size:80%;">45.45±0.41</span></td>
<td id="S4.T1.5.3.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.5.3.9.1" class="ltx_text" style="font-size:80%;">43.07±1.76</span></td>
</tr>
<tr id="S4.T1.6.4" class="ltx_tr">
<th id="S4.T1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T1.6.4.1.1" class="ltx_text" style="font-size:80%;">MOON</span><sub id="S4.T1.6.4.1.2" class="ltx_sub"><span id="S4.T1.6.4.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2021</span></sub><span id="S4.T1.6.4.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.6.4.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib20" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">20</span></a><span id="S4.T1.6.4.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.6.4.2" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.2.1" class="ltx_text" style="font-size:80%;">63.15±6.56</span></td>
<td id="S4.T1.6.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.4.3.1" class="ltx_text" style="font-size:80%;">52.74±5.60</span></td>
<td id="S4.T1.6.4.4" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.4.1" class="ltx_text" style="font-size:80%;">35.02±2.89</span></td>
<td id="S4.T1.6.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.4.5.1" class="ltx_text" style="font-size:80%;">27.45±0.64</span></td>
<td id="S4.T1.6.4.6" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.6.1" class="ltx_text" style="font-size:80%;">84.16±0.11</span></td>
<td id="S4.T1.6.4.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.6.4.7.1" class="ltx_text" style="font-size:80%;">78.92±0.97</span></td>
<td id="S4.T1.6.4.8" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.8.1" class="ltx_text" style="font-size:80%;">52.40±0.37</span></td>
<td id="S4.T1.6.4.9" class="ltx_td ltx_align_center"><span id="S4.T1.6.4.9.1" class="ltx_text" style="font-size:80%;">50.20±0.41</span></td>
</tr>
<tr id="S4.T1.7.5" class="ltx_tr">
<th id="S4.T1.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.7.5.1.1" class="ltx_text" style="font-size:80%;">Ditto</span><sub id="S4.T1.7.5.1.2" class="ltx_sub"><span id="S4.T1.7.5.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2021</span></sub><span id="S4.T1.7.5.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.7.5.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a><span id="S4.T1.7.5.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.7.5.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.7.5.2.1" class="ltx_text" style="font-size:80%;">72.04±0.40</span></td>
<td id="S4.T1.7.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.7.5.3.1" class="ltx_text" style="font-size:80%;">53.63±0.59</span></td>
<td id="S4.T1.7.5.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.7.5.4.1" class="ltx_text" style="font-size:80%;">43.13±0.89</span></td>
<td id="S4.T1.7.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.7.5.5.1" class="ltx_text" style="font-size:80%;">33.83±0.50</span></td>
<td id="S4.T1.7.5.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.7.5.6.1" class="ltx_text" style="font-size:80%;">81.77±0.38</span></td>
<td id="S4.T1.7.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.7.5.7.1" class="ltx_text" style="font-size:80%;">72.98±0.16</span></td>
<td id="S4.T1.7.5.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.7.5.8.1" class="ltx_text" style="font-size:80%;">58.25±0.61</span></td>
<td id="S4.T1.7.5.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.7.5.9.1" class="ltx_text" style="font-size:80%;">45.88±4.27</span></td>
</tr>
<tr id="S4.T1.8.6" class="ltx_tr">
<th id="S4.T1.8.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T1.8.6.1.1" class="ltx_text" style="font-size:80%;">FedProto</span><sub id="S4.T1.8.6.1.2" class="ltx_sub"><span id="S4.T1.8.6.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2022</span></sub><span id="S4.T1.8.6.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.8.6.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib39" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">39</span></a><span id="S4.T1.8.6.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.8.6.2" class="ltx_td ltx_align_center"><span id="S4.T1.8.6.2.1" class="ltx_text" style="font-size:80%;">70.32±1.53</span></td>
<td id="S4.T1.8.6.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.8.6.3.1" class="ltx_text" style="font-size:80%;">49.25±1.07</span></td>
<td id="S4.T1.8.6.4" class="ltx_td ltx_align_center"><span id="S4.T1.8.6.4.1" class="ltx_text" style="font-size:80%;">40.17±1.23</span></td>
<td id="S4.T1.8.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.8.6.5.1" class="ltx_text" style="font-size:80%;">31.04±0.65</span></td>
<td id="S4.T1.8.6.6" class="ltx_td ltx_align_center"><span id="S4.T1.8.6.6.1" class="ltx_text" style="font-size:80%;">87.23±0.28</span></td>
<td id="S4.T1.8.6.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.8.6.7.1" class="ltx_text" style="font-size:80%;">82.41±0.05</span></td>
<td id="S4.T1.8.6.8" class="ltx_td ltx_align_center"><span id="S4.T1.8.6.8.1" class="ltx_text" style="font-size:80%;">60.27±0.40</span></td>
<td id="S4.T1.8.6.9" class="ltx_td ltx_align_center"><span id="S4.T1.8.6.9.1" class="ltx_text" style="font-size:80%;">50.01±3.85</span></td>
</tr>
<tr id="S4.T1.9.7" class="ltx_tr">
<th id="S4.T1.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.9.7.1.1" class="ltx_text" style="font-size:80%;">FedRoD</span><sub id="S4.T1.9.7.1.2" class="ltx_sub"><span id="S4.T1.9.7.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2022</span></sub><span id="S4.T1.9.7.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.9.7.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a><span id="S4.T1.9.7.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.9.7.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.9.7.2.1" class="ltx_text" style="font-size:80%;">71.94±0.99</span></td>
<td id="S4.T1.9.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.9.7.3.1" class="ltx_text" style="font-size:80%;">57.45±2.04</span></td>
<td id="S4.T1.9.7.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.9.7.4.1" class="ltx_text" style="font-size:80%;">40.50±3.06</span></td>
<td id="S4.T1.9.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.9.7.5.1" class="ltx_text" style="font-size:80%;">32.40±3.19</span></td>
<td id="S4.T1.9.7.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.9.7.6.1" class="ltx_text" style="font-size:80%;">86.39±0.23</span></td>
<td id="S4.T1.9.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.9.7.7.1" class="ltx_text" style="font-size:80%;">86.72±0.12</span></td>
<td id="S4.T1.9.7.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.9.7.8.1" class="ltx_text" style="font-size:80%;">58.87±0.76</span></td>
<td id="S4.T1.9.7.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.9.7.9.1" class="ltx_text" style="font-size:80%;">56.27±0.82</span></td>
</tr>
<tr id="S4.T1.10.8" class="ltx_tr">
<th id="S4.T1.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T1.10.8.1.1" class="ltx_text" style="font-size:80%;">FedCP</span><sub id="S4.T1.10.8.1.2" class="ltx_sub"><span id="S4.T1.10.8.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2023</span></sub><span id="S4.T1.10.8.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.10.8.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a><span id="S4.T1.10.8.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.10.8.2" class="ltx_td ltx_align_center"><span id="S4.T1.10.8.2.1" class="ltx_text" style="font-size:80%;">70.07±0.77</span></td>
<td id="S4.T1.10.8.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.10.8.3.1" class="ltx_text" style="font-size:80%;">52.16±0.78</span></td>
<td id="S4.T1.10.8.4" class="ltx_td ltx_align_center"><span id="S4.T1.10.8.4.1" class="ltx_text" style="font-size:80%;">41.36±1.19</span></td>
<td id="S4.T1.10.8.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.10.8.5.1" class="ltx_text" style="font-size:80%;">29.51±1.38</span></td>
<td id="S4.T1.10.8.6" class="ltx_td ltx_align_center"><span id="S4.T1.10.8.6.1" class="ltx_text" style="font-size:80%;">87.28±0.09</span></td>
<td id="S4.T1.10.8.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.10.8.7.1" class="ltx_text" style="font-size:80%;">86.48±0.09</span></td>
<td id="S4.T1.10.8.8" class="ltx_td ltx_align_center"><span id="S4.T1.10.8.8.1" class="ltx_text" style="font-size:80%;">54.21±0.46</span></td>
<td id="S4.T1.10.8.9" class="ltx_td ltx_align_center"><span id="S4.T1.10.8.9.1" class="ltx_text" style="font-size:80%;">53.96±0.72</span></td>
</tr>
<tr id="S4.T1.11.9" class="ltx_tr">
<th id="S4.T1.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T1.11.9.1.1" class="ltx_text" style="font-size:80%;">FedBN</span><sub id="S4.T1.11.9.1.2" class="ltx_sub"><span id="S4.T1.11.9.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2021</span></sub><span id="S4.T1.11.9.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.11.9.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a><span id="S4.T1.11.9.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.11.9.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.11.9.2.1" class="ltx_text" style="font-size:80%;">71.75±1.31</span></td>
<td id="S4.T1.11.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.11.9.3.1" class="ltx_text" style="font-size:80%;">59.70±0.22</span></td>
<td id="S4.T1.11.9.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.11.9.4.1" class="ltx_text" style="font-size:80%;">41.64±3.41</span></td>
<td id="S4.T1.11.9.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.11.9.5.1" class="ltx_text" style="font-size:80%;">36.79±1.02</span></td>
<td id="S4.T1.11.9.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.11.9.6.1" class="ltx_text" style="font-size:80%;">87.17±0.54</span></td>
<td id="S4.T1.11.9.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.11.9.7.1" class="ltx_text" style="font-size:80%;">86.82±0.57</span></td>
<td id="S4.T1.11.9.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.11.9.8.1" class="ltx_text" style="font-size:80%;">54.87±0.58</span></td>
<td id="S4.T1.11.9.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.11.9.9.1" class="ltx_text" style="font-size:80%;">52.81±0.13</span></td>
</tr>
<tr id="S4.T1.12.10" class="ltx_tr">
<th id="S4.T1.12.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T1.12.10.1.1" class="ltx_text" style="font-size:80%;">pFedVEM</span><sub id="S4.T1.12.10.1.2" class="ltx_sub"><span id="S4.T1.12.10.1.2.1" class="ltx_text ltx_font_italic" style="font-size:80%;">2023</span></sub><span id="S4.T1.12.10.1.3" class="ltx_text" style="font-size:80%;"> </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.12.10.1.4.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a><span id="S4.T1.12.10.1.5.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T1.12.10.2" class="ltx_td ltx_align_center"><span id="S4.T1.12.10.2.1" class="ltx_text" style="font-size:80%;">70.32±2.58</span></td>
<td id="S4.T1.12.10.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.12.10.3.1" class="ltx_text" style="font-size:80%;">58.86±2.47</span></td>
<td id="S4.T1.12.10.4" class="ltx_td ltx_align_center"><span id="S4.T1.12.10.4.1" class="ltx_text" style="font-size:80%;">39.85±2.50</span></td>
<td id="S4.T1.12.10.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.12.10.5.1" class="ltx_text" style="font-size:80%;">27.56±1.19</span></td>
<td id="S4.T1.12.10.6" class="ltx_td ltx_align_center"><span id="S4.T1.12.10.6.1" class="ltx_text" style="font-size:80%;">81.28±1.05</span></td>
<td id="S4.T1.12.10.7" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.12.10.7.1" class="ltx_text" style="font-size:80%;">80.11±0.71</span></td>
<td id="S4.T1.12.10.8" class="ltx_td ltx_align_center"><span id="S4.T1.12.10.8.1" class="ltx_text" style="font-size:80%;">55.08±0.50</span></td>
<td id="S4.T1.12.10.9" class="ltx_td ltx_align_center"><span id="S4.T1.12.10.9.1" class="ltx_text" style="font-size:80%;">51.15±1.69</span></td>
</tr>
<tr id="S4.T1.12.13.3" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T1.12.13.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T1.12.13.3.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">Our FediOS</span></th>
<td id="S4.T1.12.13.3.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T1.12.13.3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">75.98±1.16</span></td>
<td id="S4.T1.12.13.3.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T1.12.13.3.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">60.60±0.80</span></td>
<td id="S4.T1.12.13.3.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T1.12.13.3.4.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">45.90±0.37</span></td>
<td id="S4.T1.12.13.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T1.12.13.3.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">37.32±0.43</span></td>
<td id="S4.T1.12.13.3.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T1.12.13.3.6.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">88.65±0.49</span></td>
<td id="S4.T1.12.13.3.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T1.12.13.3.7.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">86.94±0.10</span></td>
<td id="S4.T1.12.13.3.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T1.12.13.3.8.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">64.99±0.72</span></td>
<td id="S4.T1.12.13.3.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T1.12.13.3.9.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">58.00±2.17</span></td>
</tr>
</tbody>
</table>
</figure>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Settings</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Datasets and Models.</span> Following previous works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>, <a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>, <a href="#bib.bib50" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">50</span></a>, <a href="#bib.bib30" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">30</span></a>]</cite>, we use four vision datasets to simulate feature-skew heterogeneity in FL: Office-Caltech-10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">10</span></a>]</cite>, DomainNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">34</span></a>]</cite>, Digits-Five <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">34</span></a>]</cite>, and CIFAR-100 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">18</span></a>]</cite>. <span id="S4.SS1.p1.1.2" class="ltx_text ltx_font_bold ltx_font_italic">(1) Feature skew with domain shifts.</span> Office-Caltech-10 (4 domains), DomainNet (6 domains), and Digits-Five (5 domains) are the datasets that contain domain shifts. By using these datasets in FL, clients have heterogeneous datasets with feature-skew domain shifts <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">50</span></a>, <a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite>.
<span id="S4.SS1.p1.1.3" class="ltx_text ltx_font_bold ltx_font_italic">(2) Natural feature skew with different subclasses.</span> CIFAR-100 contains 20 superclasses and each superclass contains 5 subclasses. It is found that within each superclass, images from different subclasses have natural feature skew, where common feature patterns and distinct/personalized features may both exist. Following previous work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>]</cite>, we use the superclasses as the prediction labels and craft natural feature skew by assigning different subclasses to clients. For the models, if not mentioned otherwise, we use ResNet18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">13</span></a>]</cite> for Office-Caltech-10 and DomainNet, a six-layer CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite> for Digits-Five, and a four-layer CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite> for CIFAR-100. Due to space limits, for more data and model details, please refer to the appendix.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para ltx_noindent">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Compared Methods.</span> We use 5 sets of 9 FL algorithms as baselines that are strong or are most relevant to our method.
<span id="S4.SS1.p2.1.2" class="ltx_text ltx_font_bold ltx_font_italic">(1) Vanilla FedAvg.</span>
FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a>]</cite> is the first FL algorithm but is also shown to be a strong baseline in pFL scenarios <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>.
<span id="S4.SS1.p2.1.3" class="ltx_text ltx_font_bold ltx_font_italic">(2) Generalized FL methods.</span>
Generalization is the foundation of personalization, therefore, we compare the state-of-the-art FL methods targeting generalization and see how they perform under feature-skew personalization. It includes FedDyn <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1</span></a>]</cite>, FL with dynamic regularization; MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">20</span></a>]</cite>, FL with model contrastive learning.
<span id="S4.SS1.p2.1.4" class="ltx_text ltx_font_bold ltx_font_italic">(3) General pFL methods.</span>
We compare two common and strong pFL methods, which are Ditto <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a>]</cite>, personalization by using global models to regularize local model training; FedProto <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">39</span></a>]</cite>, personalization by using prototypes to extract information from a class-based perspective.
<span id="S4.SS1.p2.1.5" class="ltx_text ltx_font_bold ltx_font_italic">(4) Prediction-head-decoupled pFL methods.</span>
We compare the pFL methods decoupling the prediction heads, which are shown to be state-of-the-art in label distribution skew <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite>. FedRoD <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>, pFL method using balanced and personalized losses respectively in two heads. FedCP <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite>, separating feature information via conditional policy in two heads.
<span id="S4.SS1.p2.1.6" class="ltx_text ltx_font_bold ltx_font_italic">(5) pFL methods tailored for feature skew.</span>
We also validate previous feature-skew pFL methods.
FedBN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite>, personalization by retaining the Batch Normalization layer. pFedVEM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>]</cite>, the state-of-the-art feature-skew pFL method with adjusting aggregation via variational expectation maximization.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.7" class="ltx_p"><span id="S4.SS1.p3.7.1" class="ltx_text ltx_font_bold">Client Settings.</span>
We set the number of clients <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mi id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">N</annotation></semantics></math> to be a multiple of the number of domains or superclasses, and each client only has one domain/superclass’s data. Specifically, <math id="S4.SS1.p3.2.m2.2" class="ltx_Math" alttext="N\in\{4,12\}" display="inline"><semantics id="S4.SS1.p3.2.m2.2a"><mrow id="S4.SS1.p3.2.m2.2.3" xref="S4.SS1.p3.2.m2.2.3.cmml"><mi id="S4.SS1.p3.2.m2.2.3.2" xref="S4.SS1.p3.2.m2.2.3.2.cmml">N</mi><mo id="S4.SS1.p3.2.m2.2.3.1" xref="S4.SS1.p3.2.m2.2.3.1.cmml">∈</mo><mrow id="S4.SS1.p3.2.m2.2.3.3.2" xref="S4.SS1.p3.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p3.2.m2.2.3.3.2.1" xref="S4.SS1.p3.2.m2.2.3.3.1.cmml">{</mo><mn id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml">4</mn><mo id="S4.SS1.p3.2.m2.2.3.3.2.2" xref="S4.SS1.p3.2.m2.2.3.3.1.cmml">,</mo><mn id="S4.SS1.p3.2.m2.2.2" xref="S4.SS1.p3.2.m2.2.2.cmml">12</mn><mo stretchy="false" id="S4.SS1.p3.2.m2.2.3.3.2.3" xref="S4.SS1.p3.2.m2.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.2b"><apply id="S4.SS1.p3.2.m2.2.3.cmml" xref="S4.SS1.p3.2.m2.2.3"><in id="S4.SS1.p3.2.m2.2.3.1.cmml" xref="S4.SS1.p3.2.m2.2.3.1"></in><ci id="S4.SS1.p3.2.m2.2.3.2.cmml" xref="S4.SS1.p3.2.m2.2.3.2">𝑁</ci><set id="S4.SS1.p3.2.m2.2.3.3.1.cmml" xref="S4.SS1.p3.2.m2.2.3.3.2"><cn type="integer" id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">4</cn><cn type="integer" id="S4.SS1.p3.2.m2.2.2.cmml" xref="S4.SS1.p3.2.m2.2.2">12</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.2c">N\in\{4,12\}</annotation></semantics></math> for Office-Caltech-10, <math id="S4.SS1.p3.3.m3.2" class="ltx_Math" alttext="N\in\{6,12\}" display="inline"><semantics id="S4.SS1.p3.3.m3.2a"><mrow id="S4.SS1.p3.3.m3.2.3" xref="S4.SS1.p3.3.m3.2.3.cmml"><mi id="S4.SS1.p3.3.m3.2.3.2" xref="S4.SS1.p3.3.m3.2.3.2.cmml">N</mi><mo id="S4.SS1.p3.3.m3.2.3.1" xref="S4.SS1.p3.3.m3.2.3.1.cmml">∈</mo><mrow id="S4.SS1.p3.3.m3.2.3.3.2" xref="S4.SS1.p3.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p3.3.m3.2.3.3.2.1" xref="S4.SS1.p3.3.m3.2.3.3.1.cmml">{</mo><mn id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml">6</mn><mo id="S4.SS1.p3.3.m3.2.3.3.2.2" xref="S4.SS1.p3.3.m3.2.3.3.1.cmml">,</mo><mn id="S4.SS1.p3.3.m3.2.2" xref="S4.SS1.p3.3.m3.2.2.cmml">12</mn><mo stretchy="false" id="S4.SS1.p3.3.m3.2.3.3.2.3" xref="S4.SS1.p3.3.m3.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.2b"><apply id="S4.SS1.p3.3.m3.2.3.cmml" xref="S4.SS1.p3.3.m3.2.3"><in id="S4.SS1.p3.3.m3.2.3.1.cmml" xref="S4.SS1.p3.3.m3.2.3.1"></in><ci id="S4.SS1.p3.3.m3.2.3.2.cmml" xref="S4.SS1.p3.3.m3.2.3.2">𝑁</ci><set id="S4.SS1.p3.3.m3.2.3.3.1.cmml" xref="S4.SS1.p3.3.m3.2.3.3.2"><cn type="integer" id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">6</cn><cn type="integer" id="S4.SS1.p3.3.m3.2.2.cmml" xref="S4.SS1.p3.3.m3.2.2">12</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.2c">N\in\{6,12\}</annotation></semantics></math> for DomainNet, <math id="S4.SS1.p3.4.m4.2" class="ltx_Math" alttext="N\in\{5,10\}" display="inline"><semantics id="S4.SS1.p3.4.m4.2a"><mrow id="S4.SS1.p3.4.m4.2.3" xref="S4.SS1.p3.4.m4.2.3.cmml"><mi id="S4.SS1.p3.4.m4.2.3.2" xref="S4.SS1.p3.4.m4.2.3.2.cmml">N</mi><mo id="S4.SS1.p3.4.m4.2.3.1" xref="S4.SS1.p3.4.m4.2.3.1.cmml">∈</mo><mrow id="S4.SS1.p3.4.m4.2.3.3.2" xref="S4.SS1.p3.4.m4.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p3.4.m4.2.3.3.2.1" xref="S4.SS1.p3.4.m4.2.3.3.1.cmml">{</mo><mn id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml">5</mn><mo id="S4.SS1.p3.4.m4.2.3.3.2.2" xref="S4.SS1.p3.4.m4.2.3.3.1.cmml">,</mo><mn id="S4.SS1.p3.4.m4.2.2" xref="S4.SS1.p3.4.m4.2.2.cmml">10</mn><mo stretchy="false" id="S4.SS1.p3.4.m4.2.3.3.2.3" xref="S4.SS1.p3.4.m4.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.2b"><apply id="S4.SS1.p3.4.m4.2.3.cmml" xref="S4.SS1.p3.4.m4.2.3"><in id="S4.SS1.p3.4.m4.2.3.1.cmml" xref="S4.SS1.p3.4.m4.2.3.1"></in><ci id="S4.SS1.p3.4.m4.2.3.2.cmml" xref="S4.SS1.p3.4.m4.2.3.2">𝑁</ci><set id="S4.SS1.p3.4.m4.2.3.3.1.cmml" xref="S4.SS1.p3.4.m4.2.3.3.2"><cn type="integer" id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">5</cn><cn type="integer" id="S4.SS1.p3.4.m4.2.2.cmml" xref="S4.SS1.p3.4.m4.2.2">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.2c">N\in\{5,10\}</annotation></semantics></math> for Digits-Five, and <math id="S4.SS1.p3.5.m5.2" class="ltx_Math" alttext="N\in\{5,10\}" display="inline"><semantics id="S4.SS1.p3.5.m5.2a"><mrow id="S4.SS1.p3.5.m5.2.3" xref="S4.SS1.p3.5.m5.2.3.cmml"><mi id="S4.SS1.p3.5.m5.2.3.2" xref="S4.SS1.p3.5.m5.2.3.2.cmml">N</mi><mo id="S4.SS1.p3.5.m5.2.3.1" xref="S4.SS1.p3.5.m5.2.3.1.cmml">∈</mo><mrow id="S4.SS1.p3.5.m5.2.3.3.2" xref="S4.SS1.p3.5.m5.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p3.5.m5.2.3.3.2.1" xref="S4.SS1.p3.5.m5.2.3.3.1.cmml">{</mo><mn id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">5</mn><mo id="S4.SS1.p3.5.m5.2.3.3.2.2" xref="S4.SS1.p3.5.m5.2.3.3.1.cmml">,</mo><mn id="S4.SS1.p3.5.m5.2.2" xref="S4.SS1.p3.5.m5.2.2.cmml">10</mn><mo stretchy="false" id="S4.SS1.p3.5.m5.2.3.3.2.3" xref="S4.SS1.p3.5.m5.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.2b"><apply id="S4.SS1.p3.5.m5.2.3.cmml" xref="S4.SS1.p3.5.m5.2.3"><in id="S4.SS1.p3.5.m5.2.3.1.cmml" xref="S4.SS1.p3.5.m5.2.3.1"></in><ci id="S4.SS1.p3.5.m5.2.3.2.cmml" xref="S4.SS1.p3.5.m5.2.3.2">𝑁</ci><set id="S4.SS1.p3.5.m5.2.3.3.1.cmml" xref="S4.SS1.p3.5.m5.2.3.3.2"><cn type="integer" id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">5</cn><cn type="integer" id="S4.SS1.p3.5.m5.2.2.cmml" xref="S4.SS1.p3.5.m5.2.2">10</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.2c">N\in\{5,10\}</annotation></semantics></math> for CIFAR-100. In each round, we test the local models after training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite> on clients’ local test datasets and take the average accuracy of clients as the personalization performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>, <a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite>. We record the personalized performance in each round and take the average of the last 5 rounds as the result. The settings of <math id="S4.SS1.p3.6.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS1.p3.6.m6.1a"><mi id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><ci id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">E</annotation></semantics></math> and <math id="S4.SS1.p3.7.m7.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.SS1.p3.7.m7.1a"><mi id="S4.SS1.p3.7.m7.1.1" xref="S4.SS1.p3.7.m7.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.1b"><ci id="S4.SS1.p3.7.m7.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.1c">T</annotation></semantics></math> are in the appendix.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para ltx_noindent">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">Implementation.</span> In all experiments, we conduct experiments under three different seeds and present the mean accuracy and the standard deviation.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x4.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="357" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.4.2.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F4.sf1.2.1" class="ltx_text" style="font-size:90%;">Office-Caltech-10 with <math id="S4.F4.sf1.2.1.m1.1" class="ltx_Math" alttext="N=4" display="inline"><semantics id="S4.F4.sf1.2.1.m1.1b"><mrow id="S4.F4.sf1.2.1.m1.1.1" xref="S4.F4.sf1.2.1.m1.1.1.cmml"><mi id="S4.F4.sf1.2.1.m1.1.1.2" xref="S4.F4.sf1.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F4.sf1.2.1.m1.1.1.1" xref="S4.F4.sf1.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F4.sf1.2.1.m1.1.1.3" xref="S4.F4.sf1.2.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.sf1.2.1.m1.1c"><apply id="S4.F4.sf1.2.1.m1.1.1.cmml" xref="S4.F4.sf1.2.1.m1.1.1"><eq id="S4.F4.sf1.2.1.m1.1.1.1.cmml" xref="S4.F4.sf1.2.1.m1.1.1.1"></eq><ci id="S4.F4.sf1.2.1.m1.1.1.2.cmml" xref="S4.F4.sf1.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F4.sf1.2.1.m1.1.1.3.cmml" xref="S4.F4.sf1.2.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf1.2.1.m1.1d">N=4</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x5.png" id="S4.F4.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="356" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F4.sf2.2.1" class="ltx_text" style="font-size:90%;">DomainNet with <math id="S4.F4.sf2.2.1.m1.1" class="ltx_Math" alttext="N=6" display="inline"><semantics id="S4.F4.sf2.2.1.m1.1b"><mrow id="S4.F4.sf2.2.1.m1.1.1" xref="S4.F4.sf2.2.1.m1.1.1.cmml"><mi id="S4.F4.sf2.2.1.m1.1.1.2" xref="S4.F4.sf2.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F4.sf2.2.1.m1.1.1.1" xref="S4.F4.sf2.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F4.sf2.2.1.m1.1.1.3" xref="S4.F4.sf2.2.1.m1.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.sf2.2.1.m1.1c"><apply id="S4.F4.sf2.2.1.m1.1.1.cmml" xref="S4.F4.sf2.2.1.m1.1.1"><eq id="S4.F4.sf2.2.1.m1.1.1.1.cmml" xref="S4.F4.sf2.2.1.m1.1.1.1"></eq><ci id="S4.F4.sf2.2.1.m1.1.1.2.cmml" xref="S4.F4.sf2.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F4.sf2.2.1.m1.1.1.3.cmml" xref="S4.F4.sf2.2.1.m1.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf2.2.1.m1.1d">N=6</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x6.png" id="S4.F4.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="357" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf3.4.2.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S4.F4.sf3.2.1" class="ltx_text" style="font-size:90%;">Digits-Five with <math id="S4.F4.sf3.2.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.F4.sf3.2.1.m1.1b"><mrow id="S4.F4.sf3.2.1.m1.1.1" xref="S4.F4.sf3.2.1.m1.1.1.cmml"><mi id="S4.F4.sf3.2.1.m1.1.1.2" xref="S4.F4.sf3.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F4.sf3.2.1.m1.1.1.1" xref="S4.F4.sf3.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F4.sf3.2.1.m1.1.1.3" xref="S4.F4.sf3.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.sf3.2.1.m1.1c"><apply id="S4.F4.sf3.2.1.m1.1.1.cmml" xref="S4.F4.sf3.2.1.m1.1.1"><eq id="S4.F4.sf3.2.1.m1.1.1.1.cmml" xref="S4.F4.sf3.2.1.m1.1.1.1"></eq><ci id="S4.F4.sf3.2.1.m1.1.1.2.cmml" xref="S4.F4.sf3.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F4.sf3.2.1.m1.1.1.3.cmml" xref="S4.F4.sf3.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf3.2.1.m1.1d">N=5</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F4.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x7.png" id="S4.F4.sf4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="357" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf4.4.2.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S4.F4.sf4.2.1" class="ltx_text" style="font-size:90%;">CIFAR-100 with <math id="S4.F4.sf4.2.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.F4.sf4.2.1.m1.1b"><mrow id="S4.F4.sf4.2.1.m1.1.1" xref="S4.F4.sf4.2.1.m1.1.1.cmml"><mi id="S4.F4.sf4.2.1.m1.1.1.2" xref="S4.F4.sf4.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F4.sf4.2.1.m1.1.1.1" xref="S4.F4.sf4.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F4.sf4.2.1.m1.1.1.3" xref="S4.F4.sf4.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F4.sf4.2.1.m1.1c"><apply id="S4.F4.sf4.2.1.m1.1.1.cmml" xref="S4.F4.sf4.2.1.m1.1.1"><eq id="S4.F4.sf4.2.1.m1.1.1.1.cmml" xref="S4.F4.sf4.2.1.m1.1.1.1"></eq><ci id="S4.F4.sf4.2.1.m1.1.1.2.cmml" xref="S4.F4.sf4.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F4.sf4.2.1.m1.1.1.3.cmml" xref="S4.F4.sf4.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.sf4.2.1.m1.1d">N=5</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Personalization test accuracy curves of the methods under various datasets.<span id="S4.F4.4.2.1" class="ltx_text ltx_font_medium">
</span></span></figcaption>
</figure>
<figure id="S4.T3" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T3.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:206.0pt;">
<figcaption class="ltx_caption ltx_centering" style="font-size:50%;"><span class="ltx_tag ltx_tag_figure"><span id="S4.T3.fig1.3.1.1" class="ltx_text" style="font-size:180%;">Table 2</span>: </span><span id="S4.T3.fig1.4.2" class="ltx_text ltx_font_bold" style="font-size:180%;">Results in terms of generalization accuracy (%) of global models.</span></figcaption>
<div id="S4.T3.fig1.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:268.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(100.3pt,-62.0pt) scale(1.86158447830183,1.86158447830183) ;">
<table id="S4.T3.fig1.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.fig1.5.1.1.1" class="ltx_tr">
<th id="S4.T3.fig1.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S4.T3.fig1.5.1.1.1.1.1" class="ltx_text" style="font-size:50%;">Dataset</span></th>
<th id="S4.T3.fig1.5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T3.fig1.5.1.1.1.2.1" class="ltx_text" style="font-size:50%;">Digits-Five</span></th>
<th id="S4.T3.fig1.5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T3.fig1.5.1.1.1.3.1" class="ltx_text" style="font-size:50%;">CIFAR-100</span></th>
</tr>
<tr id="S4.T3.fig1.5.1.2.2" class="ltx_tr">
<th id="S4.T3.fig1.5.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t"><span id="S4.T3.fig1.5.1.2.2.1.1" class="ltx_text" style="font-size:50%;">Number of Clients</span></th>
<th id="S4.T3.fig1.5.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.2.2.2.1" class="ltx_text" style="font-size:50%;">5</span></th>
<th id="S4.T3.fig1.5.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.2.2.3.1" class="ltx_text" style="font-size:50%;">10</span></th>
<th id="S4.T3.fig1.5.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.2.2.4.1" class="ltx_text" style="font-size:50%;">5</span></th>
<th id="S4.T3.fig1.5.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T3.fig1.5.1.2.2.5.1" class="ltx_text" style="font-size:50%;">10</span></th>
</tr>
<tr id="S4.T3.fig1.5.1.3.3" class="ltx_tr">
<th id="S4.T3.fig1.5.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t">
<span id="S4.T3.fig1.5.1.3.3.1.1" class="ltx_text" style="font-size:50%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig1.5.1.3.3.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a><span id="S4.T3.fig1.5.1.3.3.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<th id="S4.T3.fig1.5.1.3.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.3.3.2.1" class="ltx_text" style="font-size:50%;">83.89±0.51</span></th>
<th id="S4.T3.fig1.5.1.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.3.3.3.1" class="ltx_text" style="font-size:50%;">83.45±0.29</span></th>
<th id="S4.T3.fig1.5.1.3.3.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.3.3.4.1" class="ltx_text" style="font-size:50%;">49.00±0.20</span></th>
<th id="S4.T3.fig1.5.1.3.3.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T3.fig1.5.1.3.3.5.1" class="ltx_text" style="font-size:50%;">48.38±0.74</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.fig1.5.1.4.1" class="ltx_tr">
<th id="S4.T3.fig1.5.1.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">
<span id="S4.T3.fig1.5.1.4.1.1.1" class="ltx_text" style="font-size:50%;">Ditto </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig1.5.1.4.1.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib22" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">22</span></a><span id="S4.T3.fig1.5.1.4.1.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig1.5.1.4.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.4.1.2.1" class="ltx_text" style="font-size:50%;">84.15±0.27</span></td>
<td id="S4.T3.fig1.5.1.4.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.4.1.3.1" class="ltx_text" style="font-size:50%;">83.45±0.18</span></td>
<td id="S4.T3.fig1.5.1.4.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.4.1.4.1" class="ltx_text" style="font-size:50%;">48.42±0.06</span></td>
<td id="S4.T3.fig1.5.1.4.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.fig1.5.1.4.1.5.1" class="ltx_text" style="font-size:50%;">48.65±0.73</span></td>
</tr>
<tr id="S4.T3.fig1.5.1.5.2" class="ltx_tr">
<th id="S4.T3.fig1.5.1.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<span id="S4.T3.fig1.5.1.5.2.1.1" class="ltx_text" style="font-size:50%;">FedRoD </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig1.5.1.5.2.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a><span id="S4.T3.fig1.5.1.5.2.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig1.5.1.5.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.5.2.2.1" class="ltx_text" style="font-size:50%;">83.80±0.10</span></td>
<td id="S4.T3.fig1.5.1.5.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.5.2.3.1" class="ltx_text" style="font-size:50%;">83.41±0.18</span></td>
<td id="S4.T3.fig1.5.1.5.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.5.2.4.1" class="ltx_text" style="font-size:50%;">48.55±0.52</span></td>
<td id="S4.T3.fig1.5.1.5.2.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig1.5.1.5.2.5.1" class="ltx_text" style="font-size:50%;">48.44±0.43</span></td>
</tr>
<tr id="S4.T3.fig1.5.1.6.3" class="ltx_tr">
<th id="S4.T3.fig1.5.1.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<span id="S4.T3.fig1.5.1.6.3.1.1" class="ltx_text" style="font-size:50%;">FedCP </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig1.5.1.6.3.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a><span id="S4.T3.fig1.5.1.6.3.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig1.5.1.6.3.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.6.3.2.1" class="ltx_text" style="font-size:50%;">83.87±0.13</span></td>
<td id="S4.T3.fig1.5.1.6.3.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.6.3.3.1" class="ltx_text" style="font-size:50%;">82.86±0.27</span></td>
<td id="S4.T3.fig1.5.1.6.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.6.3.4.1" class="ltx_text" style="font-size:50%;">41.63±0.52</span></td>
<td id="S4.T3.fig1.5.1.6.3.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig1.5.1.6.3.5.1" class="ltx_text" style="font-size:50%;">42.79±0.31</span></td>
</tr>
<tr id="S4.T3.fig1.5.1.7.4" class="ltx_tr">
<th id="S4.T3.fig1.5.1.7.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<span id="S4.T3.fig1.5.1.7.4.1.1" class="ltx_text" style="font-size:50%;">pFedVEM </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig1.5.1.7.4.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a><span id="S4.T3.fig1.5.1.7.4.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig1.5.1.7.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.7.4.2.1" class="ltx_text" style="font-size:50%;">77.94±1.02</span></td>
<td id="S4.T3.fig1.5.1.7.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.7.4.3.1" class="ltx_text" style="font-size:50%;">78.52±0.34</span></td>
<td id="S4.T3.fig1.5.1.7.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig1.5.1.7.4.4.1" class="ltx_text" style="font-size:50%;">42.73±0.66</span></td>
<td id="S4.T3.fig1.5.1.7.4.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig1.5.1.7.4.5.1" class="ltx_text" style="font-size:50%;">44.16±0.46</span></td>
</tr>
<tr id="S4.T3.fig1.5.1.8.5" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T3.fig1.5.1.8.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t"><span id="S4.T3.fig1.5.1.8.5.1.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">Our FediOS</span></th>
<td id="S4.T3.fig1.5.1.8.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.8.5.2.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">84.47±0.19</span></td>
<td id="S4.T3.fig1.5.1.8.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.8.5.3.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">83.85±0.25</span></td>
<td id="S4.T3.fig1.5.1.8.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig1.5.1.8.5.4.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">49.05±0.24</span></td>
<td id="S4.T3.fig1.5.1.8.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.fig1.5.1.8.5.5.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">48.83±0.30</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T3.fig2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:221.1pt;">
<figcaption class="ltx_caption ltx_centering" style="font-size:50%;"><span class="ltx_tag ltx_tag_figure"><span id="S4.T3.fig2.3.1.1" class="ltx_text" style="font-size:180%;">Table 3</span>: </span><span id="S4.T3.fig2.4.2" class="ltx_text ltx_font_bold" style="font-size:180%;">Results (%) under various numbers of clients with partial client sampling.<span id="S4.T3.fig2.4.2.1" class="ltx_text ltx_font_medium"> The dataset is CIFAR-100.</span></span></figcaption>
<div id="S4.T3.fig2.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:234.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(100.3pt,-54.3pt) scale(1.86158447830183,1.86158447830183) ;">
<table id="S4.T3.fig2.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.fig2.5.1.1.1" class="ltx_tr">
<th id="S4.T3.fig2.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T3.fig2.5.1.1.1.1.1" class="ltx_text" style="font-size:50%;">Number of Clients</span></th>
<th id="S4.T3.fig2.5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T3.fig2.5.1.1.1.2.1" class="ltx_text" style="font-size:50%;">15</span></th>
<th id="S4.T3.fig2.5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2"><span id="S4.T3.fig2.5.1.1.1.3.1" class="ltx_text" style="font-size:50%;">20</span></th>
</tr>
<tr id="S4.T3.fig2.5.1.2.2" class="ltx_tr">
<th id="S4.T3.fig2.5.1.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.2.2.1.1" class="ltx_text" style="font-size:50%;">Methods/Sampling rate</span></th>
<th id="S4.T3.fig2.5.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.2.2.2.1" class="ltx_text" style="font-size:50%;">0.6</span></th>
<th id="S4.T3.fig2.5.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.2.2.3.1" class="ltx_text" style="font-size:50%;">1.0</span></th>
<th id="S4.T3.fig2.5.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.2.2.4.1" class="ltx_text" style="font-size:50%;">0.6</span></th>
<th id="S4.T3.fig2.5.1.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T3.fig2.5.1.2.2.5.1" class="ltx_text" style="font-size:50%;">1.0</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.fig2.5.1.3.1" class="ltx_tr">
<th id="S4.T3.fig2.5.1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T3.fig2.5.1.3.1.1.1" class="ltx_text" style="font-size:50%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig2.5.1.3.1.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a><span id="S4.T3.fig2.5.1.3.1.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig2.5.1.3.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.3.1.2.1" class="ltx_text" style="font-size:50%;">52.18±0.51</span></td>
<td id="S4.T3.fig2.5.1.3.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.3.1.3.1" class="ltx_text" style="font-size:50%;">51.75±0.61</span></td>
<td id="S4.T3.fig2.5.1.3.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.3.1.4.1" class="ltx_text" style="font-size:50%;">45.40±1.53</span></td>
<td id="S4.T3.fig2.5.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.fig2.5.1.3.1.5.1" class="ltx_text" style="font-size:50%;">46.80±1.00</span></td>
</tr>
<tr id="S4.T3.fig2.5.1.4.2" class="ltx_tr">
<th id="S4.T3.fig2.5.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T3.fig2.5.1.4.2.1.1" class="ltx_text" style="font-size:50%;">FedCP </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig2.5.1.4.2.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a><span id="S4.T3.fig2.5.1.4.2.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig2.5.1.4.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.4.2.2.1" class="ltx_text" style="font-size:50%;">54.22±0.17</span></td>
<td id="S4.T3.fig2.5.1.4.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.4.2.3.1" class="ltx_text" style="font-size:50%;">53.14±0.37</span></td>
<td id="S4.T3.fig2.5.1.4.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.4.2.4.1" class="ltx_text" style="font-size:50%;">47.54±2.84</span></td>
<td id="S4.T3.fig2.5.1.4.2.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig2.5.1.4.2.5.1" class="ltx_text" style="font-size:50%;">47.60±1.99</span></td>
</tr>
<tr id="S4.T3.fig2.5.1.5.3" class="ltx_tr">
<th id="S4.T3.fig2.5.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T3.fig2.5.1.5.3.1.1" class="ltx_text" style="font-size:50%;">FedRoD </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig2.5.1.5.3.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a><span id="S4.T3.fig2.5.1.5.3.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig2.5.1.5.3.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.5.3.2.1" class="ltx_text" style="font-size:50%;">54.51±0.06</span></td>
<td id="S4.T3.fig2.5.1.5.3.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.5.3.3.1" class="ltx_text" style="font-size:50%;">54.82±0.65</span></td>
<td id="S4.T3.fig2.5.1.5.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.5.3.4.1" class="ltx_text" style="font-size:50%;">49.89±0.87</span></td>
<td id="S4.T3.fig2.5.1.5.3.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig2.5.1.5.3.5.1" class="ltx_text" style="font-size:50%;">49.40±1.50</span></td>
</tr>
<tr id="S4.T3.fig2.5.1.6.4" class="ltx_tr">
<th id="S4.T3.fig2.5.1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T3.fig2.5.1.6.4.1.1" class="ltx_text" style="font-size:50%;">pFedVEM </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.fig2.5.1.6.4.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a><span id="S4.T3.fig2.5.1.6.4.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.fig2.5.1.6.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.6.4.2.1" class="ltx_text" style="font-size:50%;">49.32±0.74</span></td>
<td id="S4.T3.fig2.5.1.6.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.6.4.3.1" class="ltx_text" style="font-size:50%;">49.80±0.04</span></td>
<td id="S4.T3.fig2.5.1.6.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.fig2.5.1.6.4.4.1" class="ltx_text" style="font-size:50%;">48.64±1.21</span></td>
<td id="S4.T3.fig2.5.1.6.4.5" class="ltx_td ltx_align_center"><span id="S4.T3.fig2.5.1.6.4.5.1" class="ltx_text" style="font-size:50%;">48.45±0.82</span></td>
</tr>
<tr id="S4.T3.fig2.5.1.7.5" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T3.fig2.5.1.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.7.5.1.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">Our FediOS</span></th>
<td id="S4.T3.fig2.5.1.7.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.7.5.2.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">54.93±0.31</span></td>
<td id="S4.T3.fig2.5.1.7.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.7.5.3.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">55.59±0.37</span></td>
<td id="S4.T3.fig2.5.1.7.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T3.fig2.5.1.7.5.4.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">51.51±2.10</span></td>
<td id="S4.T3.fig2.5.1.7.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T3.fig2.5.1.7.5.5.1" class="ltx_text ltx_font_bold" style="font-size:50%;background-color:#E6E6E6;">50.95±2.41</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</div>
</div>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Results</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p"><span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold">Results under various vision datasets.</span> Table <a href="#S4.T1" title="Table 1 ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the personalization performance of different methods under various datasets. We can find that our method achieves state-of-the-art performances in all settings. Meanwhile, we visualize the training curves of the model in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 Experimental Settings ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. We can find that our method can achieve higher accuracy and converge more smoothly and quickly.
As the number of clients increases, the local data for each client will decrease. In this case, we find that for traditional pFL methods, like FedProto and Ditto, which keep personalized models local, their performances will be significantly affected. For prediction-head-decoupled methods like FedRoD and FedCP, they usually can get better results than FedAvg, but the gains are marginal. This is because, in feature-skew heterogeneity, knowledge mainly comes from the feature extractors, and the dual classifier heads cannot achieve effective knowledge decoupling. While our FediOS uses a dual-feature-extractor decoupling, and in most cases, it reaches state-of-the-art results. The effectiveness of FediOS’s feature decoupling is visualized in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, where generic features are extracted and generic knowledge is shared.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para ltx_noindent">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">Results regarding generalization.</span>
Although our method is designed to improve personalization, interestingly, we find that by effectively decoupling and sharing the generic knowledge, the generalization of the global models can also be improved for FediOS. We test the global models after aggregation on a test dataset with all domains/subclasses to indicate the generalization. In Table <a href="#S4.T3" title="Table 3 ‣ 4.1 Experimental Settings ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we show the generalization accuracies of different methods. It is found that our FediOS can still achieve a leading performance among the pFL baselines.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.p3.2" class="ltx_p"><span id="S4.SS2.p3.1.1" class="ltx_text ltx_font_bold">Results under different <math id="S4.SS2.p3.1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS2.p3.1.1.m1.1a"><mi id="S4.SS2.p3.1.1.m1.1.1" xref="S4.SS2.p3.1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.1.m1.1b"><ci id="S4.SS2.p3.1.1.m1.1.1.cmml" xref="S4.SS2.p3.1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.1.m1.1c">N</annotation></semantics></math> with partial client sampling.</span>
Scalability is an essential issue for FL methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">21</span></a>]</cite>, and when the number of clients <math id="S4.SS2.p3.2.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS2.p3.2.m1.1a"><mi id="S4.SS2.p3.2.m1.1.1" xref="S4.SS2.p3.2.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m1.1b"><ci id="S4.SS2.p3.2.m1.1.1.cmml" xref="S4.SS2.p3.2.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m1.1c">N</annotation></semantics></math> increases, due to the communication budget, it is needed to implement partial client sampling instead of full participation.
In CIFAR-100, we increase the number of clients and experiment with different client sampling rates. In each round of communication, we randomly select a set of clients for model aggregation according to the sampling rate and then send the aggregated model to all clients. In Table <a href="#S4.T3" title="Table 3 ‣ 4.1 Experimental Settings ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we can find that our method still performs well among various baselines.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para ltx_noindent">
<p id="S4.SS2.p4.5" class="ltx_p"><span id="S4.SS2.p4.1.1" class="ltx_text ltx_font_bold">Results under different local epochs <math id="S4.SS2.p4.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS2.p4.1.1.m1.1a"><mi id="S4.SS2.p4.1.1.m1.1.1" xref="S4.SS2.p4.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.1.m1.1b"><ci id="S4.SS2.p4.1.1.m1.1.1.cmml" xref="S4.SS2.p4.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.1.m1.1c">E</annotation></semantics></math>.</span> Larger number of local epochs <math id="S4.SS2.p4.2.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS2.p4.2.m1.1a"><mi id="S4.SS2.p4.2.m1.1.1" xref="S4.SS2.p4.2.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m1.1b"><ci id="S4.SS2.p4.2.m1.1.1.cmml" xref="S4.SS2.p4.2.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m1.1c">E</annotation></semantics></math> results in fewer required communication round <math id="S4.SS2.p4.3.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S4.SS2.p4.3.m2.1a"><mi id="S4.SS2.p4.3.m2.1.1" xref="S4.SS2.p4.3.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m2.1b"><ci id="S4.SS2.p4.3.m2.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m2.1c">T</annotation></semantics></math>, achieving more communication-efficient FL training. We conduct experiments with larger <math id="S4.SS2.p4.4.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS2.p4.4.m3.1a"><mi id="S4.SS2.p4.4.m3.1.1" xref="S4.SS2.p4.4.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.4.m3.1b"><ci id="S4.SS2.p4.4.m3.1.1.cmml" xref="S4.SS2.p4.4.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.4.m3.1c">E</annotation></semantics></math>. In Table <a href="#S4.T4" title="Table 4 ‣ 4.2 Main Results ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we find that as <math id="S4.SS2.p4.5.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS2.p4.5.m4.1a"><mi id="S4.SS2.p4.5.m4.1.1" xref="S4.SS2.p4.5.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.5.m4.1b"><ci id="S4.SS2.p4.5.m4.1.1.cmml" xref="S4.SS2.p4.5.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.5.m4.1c">E</annotation></semantics></math> increases, the accuracies of most methods decrease, but our FediOS also maintains the best results.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.10.3.1" class="ltx_text" style="font-size:113%;">Table 4</span>: </span><span id="S4.T4.4.2" class="ltx_text ltx_font_bold" style="font-size:113%;">Results (%) under different local epochs (<math id="S4.T4.3.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.T4.3.1.m1.1b"><mi id="S4.T4.3.1.m1.1.1" xref="S4.T4.3.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.T4.3.1.m1.1c"><ci id="S4.T4.3.1.m1.1.1.cmml" xref="S4.T4.3.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.1.m1.1d">E</annotation></semantics></math>).<span id="S4.T4.4.2.1" class="ltx_text ltx_font_medium"> The dataset is Digits-Five with <math id="S4.T4.4.2.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.T4.4.2.1.m1.1b"><mrow id="S4.T4.4.2.1.m1.1.1" xref="S4.T4.4.2.1.m1.1.1.cmml"><mi id="S4.T4.4.2.1.m1.1.1.2" xref="S4.T4.4.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.T4.4.2.1.m1.1.1.1" xref="S4.T4.4.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.T4.4.2.1.m1.1.1.3" xref="S4.T4.4.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T4.4.2.1.m1.1c"><apply id="S4.T4.4.2.1.m1.1.1.cmml" xref="S4.T4.4.2.1.m1.1.1"><eq id="S4.T4.4.2.1.m1.1.1.1.cmml" xref="S4.T4.4.2.1.m1.1.1.1"></eq><ci id="S4.T4.4.2.1.m1.1.1.2.cmml" xref="S4.T4.4.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.T4.4.2.1.m1.1.1.3.cmml" xref="S4.T4.4.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.2.1.m1.1d">N=5</annotation></semantics></math>.</span></span></figcaption>
<div id="S4.T4.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:238.5pt;height:79.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-43.2pt,14.4pt) scale(0.734010725373977,0.734010725373977) ;">
<table id="S4.T4.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.5.1.1" class="ltx_tr">
<th id="S4.T4.5.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt">
<span id="S4.T4.5.1.1.1.1" class="ltx_text" style="font-size:80%;">Methods/</span><math id="S4.T4.5.1.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.T4.5.1.1.1.m1.1a"><mi mathsize="80%" id="S4.T4.5.1.1.1.m1.1.1" xref="S4.T4.5.1.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.T4.5.1.1.1.m1.1b"><ci id="S4.T4.5.1.1.1.m1.1.1.cmml" xref="S4.T4.5.1.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.1.1.1.m1.1c">E</annotation></semantics></math>
</th>
<th id="S4.T4.5.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T4.5.1.1.2.1" class="ltx_text" style="font-size:80%;">2</span></th>
<th id="S4.T4.5.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T4.5.1.1.3.1" class="ltx_text" style="font-size:80%;">3</span></th>
<th id="S4.T4.5.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T4.5.1.1.4.1" class="ltx_text" style="font-size:80%;">5</span></th>
<th id="S4.T4.5.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.5.1.1.5.1" class="ltx_text" style="font-size:80%;">10</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.5.1.2.1" class="ltx_tr">
<th id="S4.T4.5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T4.5.1.2.1.1.1" class="ltx_text" style="font-size:80%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.5.1.2.1.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib32" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">32</span></a><span id="S4.T4.5.1.2.1.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T4.5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.5.1.2.1.2.1" class="ltx_text" style="font-size:80%;">86.55±0.13</span></td>
<td id="S4.T4.5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.5.1.2.1.3.1" class="ltx_text" style="font-size:80%;">86.62±0.51</span></td>
<td id="S4.T4.5.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.5.1.2.1.4.1" class="ltx_text" style="font-size:80%;">86.49±0.23</span></td>
<td id="S4.T4.5.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.5.1.2.1.5.1" class="ltx_text" style="font-size:80%;">86.41±0.19</span></td>
</tr>
<tr id="S4.T4.5.1.3.2" class="ltx_tr">
<th id="S4.T4.5.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T4.5.1.3.2.1.1" class="ltx_text" style="font-size:80%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.5.1.3.2.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a><span id="S4.T4.5.1.3.2.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T4.5.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.3.2.2.1" class="ltx_text" style="font-size:80%;">86.27±0.15</span></td>
<td id="S4.T4.5.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.3.2.3.1" class="ltx_text" style="font-size:80%;">86.83±0.29</span></td>
<td id="S4.T4.5.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.3.2.4.1" class="ltx_text" style="font-size:80%;">86.47±0.19</span></td>
<td id="S4.T4.5.1.3.2.5" class="ltx_td ltx_align_center"><span id="S4.T4.5.1.3.2.5.1" class="ltx_text" style="font-size:80%;">86.34±0.35</span></td>
</tr>
<tr id="S4.T4.5.1.4.3" class="ltx_tr">
<th id="S4.T4.5.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T4.5.1.4.3.1.1" class="ltx_text" style="font-size:80%;">FedCP </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.5.1.4.3.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a><span id="S4.T4.5.1.4.3.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T4.5.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.4.3.2.1" class="ltx_text" style="font-size:80%;">86.96±0.41</span></td>
<td id="S4.T4.5.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.4.3.3.1" class="ltx_text" style="font-size:80%;">86.77±0.17</span></td>
<td id="S4.T4.5.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.4.3.4.1" class="ltx_text" style="font-size:80%;">86.65±0.24</span></td>
<td id="S4.T4.5.1.4.3.5" class="ltx_td ltx_align_center"><span id="S4.T4.5.1.4.3.5.1" class="ltx_text" style="font-size:80%;">86.59±0.31</span></td>
</tr>
<tr id="S4.T4.5.1.5.4" class="ltx_tr">
<th id="S4.T4.5.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T4.5.1.5.4.1.1" class="ltx_text" style="font-size:80%;">FedRoD </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.5.1.5.4.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a><span id="S4.T4.5.1.5.4.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T4.5.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.5.4.2.1" class="ltx_text" style="font-size:80%;">86.52±0.48</span></td>
<td id="S4.T4.5.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.5.4.3.1" class="ltx_text" style="font-size:80%;">86.22±0.16</span></td>
<td id="S4.T4.5.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.5.1.5.4.4.1" class="ltx_text" style="font-size:80%;">86.40±0.25</span></td>
<td id="S4.T4.5.1.5.4.5" class="ltx_td ltx_align_center"><span id="S4.T4.5.1.5.4.5.1" class="ltx_text" style="font-size:80%;">86.14±0.34</span></td>
</tr>
<tr id="S4.T4.5.1.6.5" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T4.5.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T4.5.1.6.5.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">Our FediOS</span></th>
<td id="S4.T4.5.1.6.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T4.5.1.6.5.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">88.29±0.16</span></td>
<td id="S4.T4.5.1.6.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T4.5.1.6.5.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">88.40±0.05</span></td>
<td id="S4.T4.5.1.6.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T4.5.1.6.5.4.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">87.69±0.18</span></td>
<td id="S4.T4.5.1.6.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T4.5.1.6.5.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">87.39±0.45</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S4.SS2.p5" class="ltx_para ltx_noindent">
<p id="S4.SS2.p5.1" class="ltx_p"><span id="S4.SS2.p5.1.1" class="ltx_text ltx_font_bold">Results regarding more model architectures.</span> We verify the effectiveness of our FediOS by using more model architectures, i.e., ResNet18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">13</span></a>]</cite>, EfficientNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">38</span></a>]</cite>, MobileNetV2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">35</span></a>]</cite>, and DenseNet121 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">14</span></a>]</cite>. Compared with the previously used four-layer CNN model, these neural networks have more complex structures and contain more parameters. As Table <a href="#S4.T6" title="Table 6 ‣ 4.4 Ablation Study ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> indicates, our FediOS can improve personalization in various neural network architectures, which verifies the rationale of our decoupling scheme and the effectiveness of the orthogonal projections. At the same time, we find that as the complexity of the network structure increases, the advantage of FedRoD and FedBN diminishes as it has closer results with FedAvg, whereas our method still has notable performance gains.</p>
</div>
<figure id="S4.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x8.png" id="S4.F5.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="403" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf1.4.2.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F5.sf1.2.1" class="ltx_text" style="font-size:90%;">CIFAR-100 with <math id="S4.F5.sf1.2.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.F5.sf1.2.1.m1.1b"><mrow id="S4.F5.sf1.2.1.m1.1.1" xref="S4.F5.sf1.2.1.m1.1.1.cmml"><mi id="S4.F5.sf1.2.1.m1.1.1.2" xref="S4.F5.sf1.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F5.sf1.2.1.m1.1.1.1" xref="S4.F5.sf1.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F5.sf1.2.1.m1.1.1.3" xref="S4.F5.sf1.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.sf1.2.1.m1.1c"><apply id="S4.F5.sf1.2.1.m1.1.1.cmml" xref="S4.F5.sf1.2.1.m1.1.1"><eq id="S4.F5.sf1.2.1.m1.1.1.1.cmml" xref="S4.F5.sf1.2.1.m1.1.1.1"></eq><ci id="S4.F5.sf1.2.1.m1.1.1.2.cmml" xref="S4.F5.sf1.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F5.sf1.2.1.m1.1.1.3.cmml" xref="S4.F5.sf1.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf1.2.1.m1.1d">N=5</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x9.png" id="S4.F5.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="403" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf2.4.2.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F5.sf2.2.1" class="ltx_text" style="font-size:90%;">Digits-Five with <math id="S4.F5.sf2.2.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.F5.sf2.2.1.m1.1b"><mrow id="S4.F5.sf2.2.1.m1.1.1" xref="S4.F5.sf2.2.1.m1.1.1.cmml"><mi id="S4.F5.sf2.2.1.m1.1.1.2" xref="S4.F5.sf2.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.F5.sf2.2.1.m1.1.1.1" xref="S4.F5.sf2.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.F5.sf2.2.1.m1.1.1.3" xref="S4.F5.sf2.2.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.sf2.2.1.m1.1c"><apply id="S4.F5.sf2.2.1.m1.1.1.cmml" xref="S4.F5.sf2.2.1.m1.1.1"><eq id="S4.F5.sf2.2.1.m1.1.1.1.cmml" xref="S4.F5.sf2.2.1.m1.1.1.1"></eq><ci id="S4.F5.sf2.2.1.m1.1.1.2.cmml" xref="S4.F5.sf2.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.F5.sf2.2.1.m1.1.1.3.cmml" xref="S4.F5.sf2.2.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.sf2.2.1.m1.1d">N=5</annotation></semantics></math>.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.4.2.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.2.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Results of FediOS under different <math id="S4.F5.2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.F5.2.1.m1.1b"><mi id="S4.F5.2.1.m1.1.1" xref="S4.F5.2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F5.2.1.m1.1c"><ci id="S4.F5.2.1.m1.1.1.cmml" xref="S4.F5.2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.2.1.m1.1d">\alpha</annotation></semantics></math>.<span id="S4.F5.2.1.1" class="ltx_text ltx_font_medium">
</span></span></figcaption>
</figure>
<figure id="S4.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T5.10.3.1" class="ltx_text" style="font-size:113%;">Table 5</span>: </span><span id="S4.T5.4.2" class="ltx_text ltx_font_bold" style="font-size:113%;">Results (%) of our FediOS using different <math id="S4.T5.3.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.T5.3.1.m1.1b"><mi id="S4.T5.3.1.m1.1.1" xref="S4.T5.3.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.T5.3.1.m1.1c"><ci id="S4.T5.3.1.m1.1.1.cmml" xref="S4.T5.3.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.1.m1.1d">\lambda</annotation></semantics></math>.<span id="S4.T5.4.2.1" class="ltx_text ltx_font_medium"> The dataset is Office-Caltech-10 with <math id="S4.T5.4.2.1.m1.1" class="ltx_Math" alttext="N=4" display="inline"><semantics id="S4.T5.4.2.1.m1.1b"><mrow id="S4.T5.4.2.1.m1.1.1" xref="S4.T5.4.2.1.m1.1.1.cmml"><mi id="S4.T5.4.2.1.m1.1.1.2" xref="S4.T5.4.2.1.m1.1.1.2.cmml">N</mi><mo id="S4.T5.4.2.1.m1.1.1.1" xref="S4.T5.4.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.T5.4.2.1.m1.1.1.3" xref="S4.T5.4.2.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T5.4.2.1.m1.1c"><apply id="S4.T5.4.2.1.m1.1.1.cmml" xref="S4.T5.4.2.1.m1.1.1"><eq id="S4.T5.4.2.1.m1.1.1.1.cmml" xref="S4.T5.4.2.1.m1.1.1.1"></eq><ci id="S4.T5.4.2.1.m1.1.1.2.cmml" xref="S4.T5.4.2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.T5.4.2.1.m1.1.1.3.cmml" xref="S4.T5.4.2.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.2.1.m1.1d">N=4</annotation></semantics></math>.</span></span></figcaption>
<div id="S4.T5.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:238.5pt;height:18.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-109.7pt,8.6pt) scale(0.520753308807666,0.520753308807666) ;">
<table id="S4.T5.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T5.5.1.1" class="ltx_tr">
<th id="S4.T5.5.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><math id="S4.T5.5.1.1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.T5.5.1.1.1.m1.1a"><mi mathsize="80%" id="S4.T5.5.1.1.1.m1.1.1" xref="S4.T5.5.1.1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.T5.5.1.1.1.m1.1b"><ci id="S4.T5.5.1.1.1.m1.1.1.cmml" xref="S4.T5.5.1.1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.5.1.1.1.m1.1c">\lambda</annotation></semantics></math></th>
<th id="S4.T5.5.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.5.1.1.2.1" class="ltx_text" style="font-size:80%;">0.1</span></th>
<th id="S4.T5.5.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.5.1.1.3.1" class="ltx_text" style="font-size:80%;">1.0</span></th>
<th id="S4.T5.5.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.5.1.1.4.1" class="ltx_text" style="font-size:80%;">10.0</span></th>
<th id="S4.T5.5.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T5.5.1.1.5.1" class="ltx_text" style="font-size:80%;">50.0</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T5.5.1.2.1" class="ltx_tr">
<th id="S4.T5.5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="S4.T5.5.1.2.1.1.1" class="ltx_text" style="font-size:80%;">Our FediOS</span></th>
<td id="S4.T5.5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T5.5.1.2.1.2.1" class="ltx_text" style="font-size:80%;">75.98±1.16</span></td>
<td id="S4.T5.5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T5.5.1.2.1.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;">76.07±0.75</span></td>
<td id="S4.T5.5.1.2.1.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T5.5.1.2.1.4.1" class="ltx_text" style="font-size:80%;">75.04±1.61</span></td>
<td id="S4.T5.5.1.2.1.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="S4.T5.5.1.2.1.5.1" class="ltx_text" style="font-size:80%;">71.87±0.99</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Sensitivity Analysis of Hyperparameters</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.2" class="ltx_p">Our FediOS introduces additional hyperparameters <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\lambda</annotation></semantics></math> and <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\alpha</annotation></semantics></math>, and we will present their sensitivity analyses.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.9" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Analysis of the hyperparameter <math id="S4.SS3.p2.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.1.1.m1.1a"><mi id="S4.SS3.p2.1.1.m1.1.1" xref="S4.SS3.p2.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.1.m1.1b"><ci id="S4.SS3.p2.1.1.m1.1.1.cmml" xref="S4.SS3.p2.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.1.m1.1c">\alpha</annotation></semantics></math>.</span> In FediOS, <math id="S4.SS3.p2.2.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.2.m1.1a"><mi id="S4.SS3.p2.2.m1.1.1" xref="S4.SS3.p2.2.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m1.1b"><ci id="S4.SS3.p2.2.m1.1.1.cmml" xref="S4.SS3.p2.2.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m1.1c">\alpha</annotation></semantics></math> controls the proportion of the generic feature when fusing features, and it also reveals the balance between the generic and personalized knowledge. In our implementation, we generally keep <math id="S4.SS3.p2.3.m2.1" class="ltx_Math" alttext="\alpha=0.5" display="inline"><semantics id="S4.SS3.p2.3.m2.1a"><mrow id="S4.SS3.p2.3.m2.1.1" xref="S4.SS3.p2.3.m2.1.1.cmml"><mi id="S4.SS3.p2.3.m2.1.1.2" xref="S4.SS3.p2.3.m2.1.1.2.cmml">α</mi><mo id="S4.SS3.p2.3.m2.1.1.1" xref="S4.SS3.p2.3.m2.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.3.m2.1.1.3" xref="S4.SS3.p2.3.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m2.1b"><apply id="S4.SS3.p2.3.m2.1.1.cmml" xref="S4.SS3.p2.3.m2.1.1"><eq id="S4.SS3.p2.3.m2.1.1.1.cmml" xref="S4.SS3.p2.3.m2.1.1.1"></eq><ci id="S4.SS3.p2.3.m2.1.1.2.cmml" xref="S4.SS3.p2.3.m2.1.1.2">𝛼</ci><cn type="float" id="S4.SS3.p2.3.m2.1.1.3.cmml" xref="S4.SS3.p2.3.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m2.1c">\alpha=0.5</annotation></semantics></math> to keep the uniform balance. While in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2 Main Results ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we make a sensitivity analysis of <math id="S4.SS3.p2.4.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.4.m3.1a"><mi id="S4.SS3.p2.4.m3.1.1" xref="S4.SS3.p2.4.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m3.1b"><ci id="S4.SS3.p2.4.m3.1.1.cmml" xref="S4.SS3.p2.4.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m3.1c">\alpha</annotation></semantics></math> to see the optimal values of <math id="S4.SS3.p2.5.m4.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.5.m4.1a"><mi id="S4.SS3.p2.5.m4.1.1" xref="S4.SS3.p2.5.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m4.1b"><ci id="S4.SS3.p2.5.m4.1.1.cmml" xref="S4.SS3.p2.5.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m4.1c">\alpha</annotation></semantics></math> under different datasets.
Generally, <math id="S4.SS3.p2.6.m5.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.6.m5.1a"><mi id="S4.SS3.p2.6.m5.1.1" xref="S4.SS3.p2.6.m5.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m5.1b"><ci id="S4.SS3.p2.6.m5.1.1.cmml" xref="S4.SS3.p2.6.m5.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m5.1c">\alpha</annotation></semantics></math> has a wide range of values to be superior to FedRoD, so FediOS is not sensitive to <math id="S4.SS3.p2.7.m6.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.7.m6.1a"><mi id="S4.SS3.p2.7.m6.1.1" xref="S4.SS3.p2.7.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m6.1b"><ci id="S4.SS3.p2.7.m6.1.1.cmml" xref="S4.SS3.p2.7.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m6.1c">\alpha</annotation></semantics></math>.
It has the optimal values around 0.5; for CIFAR-100, the optimal value is 0.5, and for Digits-Five, the value is 0.6. A higher optimal value of <math id="S4.SS3.p2.8.m7.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.8.m7.1a"><mi id="S4.SS3.p2.8.m7.1.1" xref="S4.SS3.p2.8.m7.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m7.1b"><ci id="S4.SS3.p2.8.m7.1.1.cmml" xref="S4.SS3.p2.8.m7.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m7.1c">\alpha</annotation></semantics></math> for Digits-Five means that it benefits more on the generic knowledge sharing. The visualization of case samples in each dataset is in the appendix. It is intuitively reasonable that digital numbers share more common and simpler patterns across domains compared with CIFAR-100, therefore, Digits-Five is prone to have higher weights of the generic feature. Intriguingly, it reveals that the intrinsic generic-or-personalized feature structures of the datasets can be explicitly explored by the optimal <math id="S4.SS3.p2.9.m8.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.9.m8.1a"><mi id="S4.SS3.p2.9.m8.1.1" xref="S4.SS3.p2.9.m8.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m8.1b"><ci id="S4.SS3.p2.9.m8.1.1.cmml" xref="S4.SS3.p2.9.m8.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m8.1c">\alpha</annotation></semantics></math> of FediOS.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para ltx_noindent">
<p id="S4.SS3.p3.9" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Analysis of the hyperparameter <math id="S4.SS3.p3.1.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.1.1.m1.1a"><mi id="S4.SS3.p3.1.1.m1.1.1" xref="S4.SS3.p3.1.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.1.m1.1b"><ci id="S4.SS3.p3.1.1.m1.1.1.cmml" xref="S4.SS3.p3.1.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.1.m1.1c">\lambda</annotation></semantics></math>.</span>
In FediOS, the hyperparameter <math id="S4.SS3.p3.2.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.2.m1.1a"><mi id="S4.SS3.p3.2.m1.1.1" xref="S4.SS3.p3.2.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m1.1b"><ci id="S4.SS3.p3.2.m1.1.1.cmml" xref="S4.SS3.p3.2.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m1.1c">\lambda</annotation></semantics></math> is for controlling the strength of the orthogonal regularization loss.
We set <math id="S4.SS3.p3.3.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.3.m2.1a"><mi id="S4.SS3.p3.3.m2.1.1" xref="S4.SS3.p3.3.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m2.1b"><ci id="S4.SS3.p3.3.m2.1.1.cmml" xref="S4.SS3.p3.3.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m2.1c">\lambda</annotation></semantics></math> to different values to explore its impact on the algorithm performance. The larger the value of <math id="S4.SS3.p3.4.m3.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.4.m3.1a"><mi id="S4.SS3.p3.4.m3.1.1" xref="S4.SS3.p3.4.m3.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.4.m3.1b"><ci id="S4.SS3.p3.4.m3.1.1.cmml" xref="S4.SS3.p3.4.m3.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.4.m3.1c">\lambda</annotation></semantics></math>, the more attention the model will pay to the orthogonality of generic features and personalized features. As Table <a href="#S4.T5" title="Table 5 ‣ 4.2 Main Results ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows, we observe an optimization-regularization tradeoff regarding different <math id="S4.SS3.p3.5.m4.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.5.m4.1a"><mi id="S4.SS3.p3.5.m4.1.1" xref="S4.SS3.p3.5.m4.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.5.m4.1b"><ci id="S4.SS3.p3.5.m4.1.1.cmml" xref="S4.SS3.p3.5.m4.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.5.m4.1c">\lambda</annotation></semantics></math>. When <math id="S4.SS3.p3.6.m5.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.6.m5.1a"><mi id="S4.SS3.p3.6.m5.1.1" xref="S4.SS3.p3.6.m5.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.6.m5.1b"><ci id="S4.SS3.p3.6.m5.1.1.cmml" xref="S4.SS3.p3.6.m5.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.6.m5.1c">\lambda</annotation></semantics></math> is small and appropriate, it can further strengthen the orthogonality of generic and personalized features, thus, improving personalization. However, if <math id="S4.SS3.p3.7.m6.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.7.m6.1a"><mi id="S4.SS3.p3.7.m6.1.1" xref="S4.SS3.p3.7.m6.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.7.m6.1b"><ci id="S4.SS3.p3.7.m6.1.1.cmml" xref="S4.SS3.p3.7.m6.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.7.m6.1c">\lambda</annotation></semantics></math> is too large, the orthogonality regularization will limit the optimization of learning effective representations, and it will even cause negative effects. We suggest to keep <math id="S4.SS3.p3.8.m7.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.8.m7.1a"><mi id="S4.SS3.p3.8.m7.1.1" xref="S4.SS3.p3.8.m7.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.8.m7.1b"><ci id="S4.SS3.p3.8.m7.1.1.cmml" xref="S4.SS3.p3.8.m7.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.8.m7.1c">\lambda</annotation></semantics></math> small and around 1 to have a mild and appropriate regularization. We also find that <math id="S4.SS3.p3.9.m8.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S4.SS3.p3.9.m8.1a"><mi id="S4.SS3.p3.9.m8.1.1" xref="S4.SS3.p3.9.m8.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.9.m8.1b"><ci id="S4.SS3.p3.9.m8.1.1.cmml" xref="S4.SS3.p3.9.m8.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.9.m8.1c">\lambda</annotation></semantics></math> is not sensitive if being kept small.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Ablation Study</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">We conduct the ablation study of FediOS’s modules in Table <a href="#S4.T7" title="Table 7 ‣ 4.4 Ablation Study ‣ 4 Experiment ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. It is found that each part of our approach plays an important role, and they work together to achieve better performance. Notably, we notice that orthogonal projection has the most vital impact on the improvement. If without orthogonal projections, the performance shows a huge drop-off, even lower than FedAvg in some cases. This suggests that only using two feature extractors cannot effectively decouple the knowledge, and the orthogonal projections are quite essential. We also find that when FediOS is only without the personalized feature extractor, the model still performs slightly better than FedAvg. It reveals that the projection matrix may map the model parameters into a subspace where the knowledge is more aligned, so it will surpass vanilla FedAvg. Moreover, <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{re}" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><msub id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml"><mi id="S4.SS4.p1.1.m1.1.1.3.2" xref="S4.SS4.p1.1.m1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p1.1.m1.1.1.3.1" xref="S4.SS4.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.SS4.p1.1.m1.1.1.3.3" xref="S4.SS4.p1.1.m1.1.1.3.3.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">ℒ</ci><apply id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3"><times id="S4.SS4.p1.1.m1.1.1.3.1.cmml" xref="S4.SS4.p1.1.m1.1.1.3.1"></times><ci id="S4.SS4.p1.1.m1.1.1.3.2.cmml" xref="S4.SS4.p1.1.m1.1.1.3.2">𝑟</ci><ci id="S4.SS4.p1.1.m1.1.1.3.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">\mathcal{L}_{re}</annotation></semantics></math> plays the role of strengthening the orthogonality of generic and personalized features, helping to achieve better results.</p>
</div>
<figure id="S4.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T6.8.2.1" class="ltx_text" style="font-size:113%;">Table 6</span>: </span><span id="S4.T6.2.1" class="ltx_text ltx_font_bold" style="font-size:113%;">Results (%) of our FediOS using different model architectures.<span id="S4.T6.2.1.1" class="ltx_text ltx_font_medium"> The dataset is CIFAR-100 with <math id="S4.T6.2.1.1.m1.1" class="ltx_Math" alttext="N=5" display="inline"><semantics id="S4.T6.2.1.1.m1.1b"><mrow id="S4.T6.2.1.1.m1.1.1" xref="S4.T6.2.1.1.m1.1.1.cmml"><mi id="S4.T6.2.1.1.m1.1.1.2" xref="S4.T6.2.1.1.m1.1.1.2.cmml">N</mi><mo id="S4.T6.2.1.1.m1.1.1.1" xref="S4.T6.2.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T6.2.1.1.m1.1.1.3" xref="S4.T6.2.1.1.m1.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T6.2.1.1.m1.1c"><apply id="S4.T6.2.1.1.m1.1.1.cmml" xref="S4.T6.2.1.1.m1.1.1"><eq id="S4.T6.2.1.1.m1.1.1.1.cmml" xref="S4.T6.2.1.1.m1.1.1.1"></eq><ci id="S4.T6.2.1.1.m1.1.1.2.cmml" xref="S4.T6.2.1.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.T6.2.1.1.m1.1.1.3.cmml" xref="S4.T6.2.1.1.m1.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T6.2.1.1.m1.1d">N=5</annotation></semantics></math>.</span></span></figcaption>
<div id="S4.T6.9" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:233.5pt;height:43pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-127.4pt,23.5pt) scale(0.478218275026896,0.478218275026896) ;">
<table id="S4.T6.9.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T6.9.1.1.1" class="ltx_tr">
<th id="S4.T6.9.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T6.9.1.1.1.1.1" class="ltx_text" style="font-size:80%;">Model</span></th>
<th id="S4.T6.9.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T6.9.1.1.1.2.1" class="ltx_text" style="font-size:80%;">FedAvg</span></th>
<th id="S4.T6.9.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T6.9.1.1.1.3.1" class="ltx_text" style="font-size:80%;">FedBN</span></th>
<th id="S4.T6.9.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T6.9.1.1.1.4.1" class="ltx_text" style="font-size:80%;">FedRoD</span></th>
<th id="S4.T6.9.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="background-color:#E6E6E6;"><span id="S4.T6.9.1.1.1.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">FediOS</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T6.9.1.2.1" class="ltx_tr">
<th id="S4.T6.9.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T6.9.1.2.1.1.1" class="ltx_text" style="font-size:80%;">ResNet18 </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T6.9.1.2.1.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">13</span></a><span id="S4.T6.9.1.2.1.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T6.9.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.9.1.2.1.2.1" class="ltx_text" style="font-size:80%;">64.59±0.37</span></td>
<td id="S4.T6.9.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T6.9.1.2.1.3.1" class="ltx_text" style="font-size:80%;">65.32±0.46</span></td>
<td id="S4.T6.9.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T6.9.1.2.1.4.1" class="ltx_text" style="font-size:80%;">65.28±0.23</span></td>
<td id="S4.T6.9.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t" style="background-color:#E6E6E6;"><span id="S4.T6.9.1.2.1.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">69.21±0.49</span></td>
</tr>
<tr id="S4.T6.9.1.3.2" class="ltx_tr">
<th id="S4.T6.9.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T6.9.1.3.2.1.1" class="ltx_text" style="font-size:80%;">EfficientNet </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T6.9.1.3.2.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib38" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">38</span></a><span id="S4.T6.9.1.3.2.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T6.9.1.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T6.9.1.3.2.2.1" class="ltx_text" style="font-size:80%;">68.45±0.71</span></td>
<td id="S4.T6.9.1.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T6.9.1.3.2.3.1" class="ltx_text" style="font-size:80%;">68.99±0.58</span></td>
<td id="S4.T6.9.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T6.9.1.3.2.4.1" class="ltx_text" style="font-size:80%;">69.28±0.58</span></td>
<td id="S4.T6.9.1.3.2.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S4.T6.9.1.3.2.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">73.70±0.75</span></td>
</tr>
<tr id="S4.T6.9.1.4.3" class="ltx_tr">
<th id="S4.T6.9.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T6.9.1.4.3.1.1" class="ltx_text" style="font-size:80%;">MobileNetV2 </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T6.9.1.4.3.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib35" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">35</span></a><span id="S4.T6.9.1.4.3.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T6.9.1.4.3.2" class="ltx_td ltx_align_center"><span id="S4.T6.9.1.4.3.2.1" class="ltx_text" style="font-size:80%;">73.88±0.47</span></td>
<td id="S4.T6.9.1.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T6.9.1.4.3.3.1" class="ltx_text" style="font-size:80%;">73.34±0.33</span></td>
<td id="S4.T6.9.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T6.9.1.4.3.4.1" class="ltx_text" style="font-size:80%;">73.89±0.38</span></td>
<td id="S4.T6.9.1.4.3.5" class="ltx_td ltx_align_center" style="background-color:#E6E6E6;"><span id="S4.T6.9.1.4.3.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">76.76±0.18</span></td>
</tr>
<tr id="S4.T6.9.1.5.4" class="ltx_tr">
<th id="S4.T6.9.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="S4.T6.9.1.5.4.1.1" class="ltx_text" style="font-size:80%;">DenseNet121 </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T6.9.1.5.4.1.2.1" class="ltx_text" style="font-size:80%;">[</span><a href="#bib.bib14" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">14</span></a><span id="S4.T6.9.1.5.4.1.3.2" class="ltx_text" style="font-size:80%;">]</span></cite>
</th>
<td id="S4.T6.9.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.9.1.5.4.2.1" class="ltx_text" style="font-size:80%;">83.79±0.37</span></td>
<td id="S4.T6.9.1.5.4.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T6.9.1.5.4.3.1" class="ltx_text" style="font-size:80%;">83.43±0.36</span></td>
<td id="S4.T6.9.1.5.4.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T6.9.1.5.4.4.1" class="ltx_text" style="font-size:80%;">83.75±0.92</span></td>
<td id="S4.T6.9.1.5.4.5" class="ltx_td ltx_align_center ltx_border_bb" style="background-color:#E6E6E6;"><span id="S4.T6.9.1.5.4.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">86.19±0.46</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="S4.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T7.12.3.1" class="ltx_text" style="font-size:113%;">Table 7</span>: </span><span id="S4.T7.4.2" class="ltx_text ltx_font_bold" style="font-size:113%;">Ablation study of FediOS in terms of personalization.<span id="S4.T7.4.2.2" class="ltx_text ltx_font_medium"> The datasets are Office-Caltech-10 with <math id="S4.T7.3.1.1.m1.1" class="ltx_Math" alttext="N=4" display="inline"><semantics id="S4.T7.3.1.1.m1.1b"><mrow id="S4.T7.3.1.1.m1.1.1" xref="S4.T7.3.1.1.m1.1.1.cmml"><mi id="S4.T7.3.1.1.m1.1.1.2" xref="S4.T7.3.1.1.m1.1.1.2.cmml">N</mi><mo id="S4.T7.3.1.1.m1.1.1.1" xref="S4.T7.3.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T7.3.1.1.m1.1.1.3" xref="S4.T7.3.1.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T7.3.1.1.m1.1c"><apply id="S4.T7.3.1.1.m1.1.1.cmml" xref="S4.T7.3.1.1.m1.1.1"><eq id="S4.T7.3.1.1.m1.1.1.1.cmml" xref="S4.T7.3.1.1.m1.1.1.1"></eq><ci id="S4.T7.3.1.1.m1.1.1.2.cmml" xref="S4.T7.3.1.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.T7.3.1.1.m1.1.1.3.cmml" xref="S4.T7.3.1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.3.1.1.m1.1d">N=4</annotation></semantics></math> and DomainNet with <math id="S4.T7.4.2.2.m2.1" class="ltx_Math" alttext="N=12" display="inline"><semantics id="S4.T7.4.2.2.m2.1b"><mrow id="S4.T7.4.2.2.m2.1.1" xref="S4.T7.4.2.2.m2.1.1.cmml"><mi id="S4.T7.4.2.2.m2.1.1.2" xref="S4.T7.4.2.2.m2.1.1.2.cmml">N</mi><mo id="S4.T7.4.2.2.m2.1.1.1" xref="S4.T7.4.2.2.m2.1.1.1.cmml">=</mo><mn id="S4.T7.4.2.2.m2.1.1.3" xref="S4.T7.4.2.2.m2.1.1.3.cmml">12</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T7.4.2.2.m2.1c"><apply id="S4.T7.4.2.2.m2.1.1.cmml" xref="S4.T7.4.2.2.m2.1.1"><eq id="S4.T7.4.2.2.m2.1.1.1.cmml" xref="S4.T7.4.2.2.m2.1.1.1"></eq><ci id="S4.T7.4.2.2.m2.1.1.2.cmml" xref="S4.T7.4.2.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S4.T7.4.2.2.m2.1.1.3.cmml" xref="S4.T7.4.2.2.m2.1.1.3">12</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.4.2.2.m2.1d">N=12</annotation></semantics></math>.</span></span></figcaption>
<div id="S4.T7.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:238.5pt;height:52.1pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-130.1pt,28.2pt) scale(0.478195480348302,0.478195480348302) ;">
<table id="S4.T7.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T7.5.1.2.1" class="ltx_tr">
<th id="S4.T7.5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.2.1.1.1" class="ltx_text" style="font-size:80%;">Dataset</span></th>
<th id="S4.T7.5.1.2.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.2.1.2.1" class="ltx_text" style="font-size:80%;">Office-Caltech-10</span></th>
<th id="S4.T7.5.1.2.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.2.1.3.1" class="ltx_text" style="font-size:80%;">DomainNet</span></th>
</tr>
<tr id="S4.T7.5.1.3.2" class="ltx_tr">
<th id="S4.T7.5.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.3.2.1.1" class="ltx_text" style="font-size:80%;">FedAvg</span></th>
<th id="S4.T7.5.1.3.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.3.2.2.1" class="ltx_text" style="font-size:80%;">69.34±2.86</span></th>
<th id="S4.T7.5.1.3.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.3.2.3.1" class="ltx_text" style="font-size:80%;">29.50±1.22</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T7.5.1.4.1" class="ltx_tr">
<th id="S4.T7.5.1.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.4.1.1.1" class="ltx_text" style="font-size:80%;">Ours w/o Orthogonal Projections</span></th>
<td id="S4.T7.5.1.4.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.4.1.2.1" class="ltx_text" style="font-size:80%;">71.77±0.90</span></td>
<td id="S4.T7.5.1.4.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.4.1.3.1" class="ltx_text" style="font-size:80%;">26.64±1.92</span></td>
</tr>
<tr id="S4.T7.5.1.5.2" class="ltx_tr">
<th id="S4.T7.5.1.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.5.2.1.1" class="ltx_text" style="font-size:80%;">Ours w/o Personalized Extractors</span></th>
<td id="S4.T7.5.1.5.2.2" class="ltx_td ltx_align_center" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.5.2.2.1" class="ltx_text" style="font-size:80%;">72.29±1.00</span></td>
<td id="S4.T7.5.1.5.2.3" class="ltx_td ltx_align_center" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.5.2.3.1" class="ltx_text" style="font-size:80%;">30.48±1.43</span></td>
</tr>
<tr id="S4.T7.5.1.1" class="ltx_tr">
<th id="S4.T7.5.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:11.6pt;padding-right:11.6pt;">
<span id="S4.T7.5.1.1.1.1" class="ltx_text" style="font-size:80%;">Ours w/o </span><math id="S4.T7.5.1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{re}" display="inline"><semantics id="S4.T7.5.1.1.1.m1.1a"><msub id="S4.T7.5.1.1.1.m1.1.1" xref="S4.T7.5.1.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="S4.T7.5.1.1.1.m1.1.1.2" xref="S4.T7.5.1.1.1.m1.1.1.2.cmml">ℒ</mi><mrow id="S4.T7.5.1.1.1.m1.1.1.3" xref="S4.T7.5.1.1.1.m1.1.1.3.cmml"><mi mathsize="80%" id="S4.T7.5.1.1.1.m1.1.1.3.2" xref="S4.T7.5.1.1.1.m1.1.1.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.T7.5.1.1.1.m1.1.1.3.1" xref="S4.T7.5.1.1.1.m1.1.1.3.1.cmml">​</mo><mi mathsize="80%" id="S4.T7.5.1.1.1.m1.1.1.3.3" xref="S4.T7.5.1.1.1.m1.1.1.3.3.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.T7.5.1.1.1.m1.1b"><apply id="S4.T7.5.1.1.1.m1.1.1.cmml" xref="S4.T7.5.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T7.5.1.1.1.m1.1.1.1.cmml" xref="S4.T7.5.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T7.5.1.1.1.m1.1.1.2.cmml" xref="S4.T7.5.1.1.1.m1.1.1.2">ℒ</ci><apply id="S4.T7.5.1.1.1.m1.1.1.3.cmml" xref="S4.T7.5.1.1.1.m1.1.1.3"><times id="S4.T7.5.1.1.1.m1.1.1.3.1.cmml" xref="S4.T7.5.1.1.1.m1.1.1.3.1"></times><ci id="S4.T7.5.1.1.1.m1.1.1.3.2.cmml" xref="S4.T7.5.1.1.1.m1.1.1.3.2">𝑟</ci><ci id="S4.T7.5.1.1.1.m1.1.1.3.3.cmml" xref="S4.T7.5.1.1.1.m1.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T7.5.1.1.1.m1.1c">\mathcal{L}_{re}</annotation></semantics></math>
</th>
<td id="S4.T7.5.1.1.2" class="ltx_td ltx_align_center" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.1.2.1" class="ltx_text" style="font-size:80%;">75.43±0.97</span></td>
<td id="S4.T7.5.1.1.3" class="ltx_td ltx_align_center" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.1.3.1" class="ltx_text" style="font-size:80%;">36.32±0.86</span></td>
</tr>
<tr id="S4.T7.5.1.6.3" class="ltx_tr" style="background-color:#E6E6E6;">
<th id="S4.T7.5.1.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.6.3.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">Ours</span></th>
<td id="S4.T7.5.1.6.3.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.6.3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">75.98±1.16</span></td>
<td id="S4.T7.5.1.6.3.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding-left:11.6pt;padding-right:11.6pt;"><span id="S4.T7.5.1.6.3.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;background-color:#E6E6E6;">37.32±0.43</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this paper, we rethink the architecture decoupling design in feature-skew personalized federated learning and propose FediOS.
Specifically, for each client, We set up a shared generic feature extractor and a local personalized feature extractor. FediOS uses orthogonal projections to map the generic features into one common subspace and scatter the personalized features into different subspaces to achieve feature decoupling. As validated by extensive experiments, our method achieves state-of-the-art feature-skew personalization results compared to strong baselines and can also improve generalization. Furthermore, we gained insights into the effectiveness and applicability of our approach.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib1.5.5.1" class="ltx_text" style="font-size:90%;">Acar et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib1.7.1" class="ltx_text" style="font-size:90%;">
Durmus Alp Emre Acar, Yue Zhao, Ramon Matas, Matthew Mattina, Paul Whatmough, and Venkatesh Saligrama.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.8.1" class="ltx_text" style="font-size:90%;">Federated learning based on dynamic regularization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib1.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib1.11.3" class="ltx_text" style="font-size:90%;">, 2020.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib2.5.5.1" class="ltx_text" style="font-size:90%;">Chaudhry et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib2.7.1" class="ltx_text" style="font-size:90%;">
Arslan Chaudhry, Naeemullah Khan, Puneet Dokania, and Philip Torr.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.8.1" class="ltx_text" style="font-size:90%;">Continual learning in low-rank orthogonal subspaces.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib2.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib2.10.2" class="ltx_text" style="font-size:90%;">, 33:9900–9911, 2020.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib3.4.4.1" class="ltx_text" style="font-size:90%;">Chen and Chao [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib3.6.1" class="ltx_text" style="font-size:90%;">
Hong-You Chen and Wei-Lun Chao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.7.1" class="ltx_text" style="font-size:90%;">On bridging generic and personalized federated learning for image classification.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib3.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib3.10.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib4.5.5.1" class="ltx_text" style="font-size:90%;">Chen et al. [2021a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib4.7.1" class="ltx_text" style="font-size:90%;">
Mingzhe Chen, Nir Shlezinger, H Vincent Poor, Yonina C Eldar, and Shuguang Cui.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.8.1" class="ltx_text" style="font-size:90%;">Communication-efficient federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib4.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the National Academy of Sciences</em><span id="bib.bib4.10.2" class="ltx_text" style="font-size:90%;">, 118(17):e2024789118, 2021a.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib5.5.5.1" class="ltx_text" style="font-size:90%;">Chen et al. [2021b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib5.7.1" class="ltx_text" style="font-size:90%;">
Zhen Chen, Meilu Zhu, Chen Yang, and Yixuan Yuan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.8.1" class="ltx_text" style="font-size:90%;">Personalized retrogress-resilient framework for real-world medical federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib5.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Medical Image Computing and Computer Assisted Intervention–MICCAI 2021: 24th International Conference, Strasbourg, France, September 27–October 1, 2021, Proceedings, Part III 24</em><span id="bib.bib5.11.3" class="ltx_text" style="font-size:90%;">, pages 347–356. Springer, 2021b.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib6.5.5.1" class="ltx_text" style="font-size:90%;">Collins et al. [2021]</span></span>
<span class="ltx_bibblock"><span id="bib.bib6.7.1" class="ltx_text" style="font-size:90%;">
Liam Collins, Hamed Hassani, Aryan Mokhtari, and Sanjay Shakkottai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.8.1" class="ltx_text" style="font-size:90%;">Exploiting shared representations for personalized federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib6.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International conference on machine learning</em><span id="bib.bib6.11.3" class="ltx_text" style="font-size:90%;">, pages 2089–2099. PMLR, 2021.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib7.5.5.1" class="ltx_text" style="font-size:90%;">Dai et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib7.7.1" class="ltx_text" style="font-size:90%;">
Yutong Dai, Zeyuan Chen, Junnan Li, Shelby Heinecke, Lichao Sun, and Ran Xu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.8.1" class="ltx_text" style="font-size:90%;">Tackling data heterogeneity in federated learning with class prototypes.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib7.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the AAAI Conference on Artificial Intelligence</em><span id="bib.bib7.11.3" class="ltx_text" style="font-size:90%;">, pages 7314–7322, 2023.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib8.5.5.1" class="ltx_text" style="font-size:90%;">Ding et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib8.7.1" class="ltx_text" style="font-size:90%;">
Zheng Ding, Yifan Xu, Weijian Xu, Gaurav Parmar, Yang Yang, Max Welling, and Zhuowen Tu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.8.1" class="ltx_text" style="font-size:90%;">Guided variational autoencoder for disentanglement learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib8.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em><span id="bib.bib8.11.3" class="ltx_text" style="font-size:90%;">, pages 7920–7929, 2020.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib9.5.5.1" class="ltx_text" style="font-size:90%;">Dong et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib9.7.1" class="ltx_text" style="font-size:90%;">
Jiahua Dong, Duzhen Zhang, Yang Cong, Wei Cong, Henghui Ding, and Dengxin Dai.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.8.1" class="ltx_text" style="font-size:90%;">Federated incremental semantic segmentation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib9.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em><span id="bib.bib9.11.3" class="ltx_text" style="font-size:90%;">, pages 3934–3943, 2023.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib10.5.5.1" class="ltx_text" style="font-size:90%;">Fernando et al. [2014]</span></span>
<span class="ltx_bibblock"><span id="bib.bib10.7.1" class="ltx_text" style="font-size:90%;">
Basura Fernando, Amaury Habrard, Marc Sebban, and Tinne Tuytelaars.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.8.1" class="ltx_text" style="font-size:90%;">Subspace alignment for domain adaptation.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib10.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1409.5241</em><span id="bib.bib10.10.2" class="ltx_text" style="font-size:90%;">, 2014.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib11.5.5.1" class="ltx_text" style="font-size:90%;">Ghosh et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib11.7.1" class="ltx_text" style="font-size:90%;">
Avishek Ghosh, Jichan Chung, Dong Yin, and Kannan Ramchandran.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.8.1" class="ltx_text" style="font-size:90%;">An efficient framework for clustered federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib11.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib11.10.2" class="ltx_text" style="font-size:90%;">, 33:19586–19597, 2020.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib12.5.5.1" class="ltx_text" style="font-size:90%;">Hamer et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib12.7.1" class="ltx_text" style="font-size:90%;">
Jenny Hamer, Mehryar Mohri, and Ananda Theertha Suresh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.8.1" class="ltx_text" style="font-size:90%;">Fedboost: A communication-efficient algorithm for federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib12.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</em><span id="bib.bib12.11.3" class="ltx_text" style="font-size:90%;">, pages 3973–3983. PMLR, 2020.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib13.5.5.1" class="ltx_text" style="font-size:90%;">He et al. [2016]</span></span>
<span class="ltx_bibblock"><span id="bib.bib13.7.1" class="ltx_text" style="font-size:90%;">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.8.1" class="ltx_text" style="font-size:90%;">Deep residual learning for image recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib13.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE conference on computer vision and pattern recognition</em><span id="bib.bib13.11.3" class="ltx_text" style="font-size:90%;">, pages 770–778, 2016.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib14.5.5.1" class="ltx_text" style="font-size:90%;">Huang et al. [2017]</span></span>
<span class="ltx_bibblock"><span id="bib.bib14.7.1" class="ltx_text" style="font-size:90%;">
Gao Huang, Zhuang Liu, Laurens van der Maaten, and Kilian Q. Weinberger.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.8.1" class="ltx_text" style="font-size:90%;">Densely connected convolutional networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib14.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition (CVPR)</em><span id="bib.bib14.11.3" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib15.5.5.1" class="ltx_text" style="font-size:90%;">Huang et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib15.7.1" class="ltx_text" style="font-size:90%;">
Wenke Huang, Mang Ye, Zekun Shi, He Li, and Bo Du.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.8.1" class="ltx_text" style="font-size:90%;">Rethinking federated learning with domain shift: A prototype view.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib15.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">CVPR</em><span id="bib.bib15.11.3" class="ltx_text" style="font-size:90%;">, 2023.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib16.4.4.1" class="ltx_text" style="font-size:90%;">Jiang and Lin [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib16.6.1" class="ltx_text" style="font-size:90%;">
Liangze Jiang and Tao Lin.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.7.1" class="ltx_text" style="font-size:90%;">Test-time robust personalization for federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib16.8.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2205.10920</em><span id="bib.bib16.9.2" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib17.5.5.1" class="ltx_text" style="font-size:90%;">Kairouz et al. [2021]</span></span>
<span class="ltx_bibblock"><span id="bib.bib17.7.1" class="ltx_text" style="font-size:90%;">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi Bennis, Arjun Nitin Bhagoji, Kallista Bonawitz, Zachary Charles, Graham Cormode, Rachel Cummings, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.8.1" class="ltx_text" style="font-size:90%;">Advances and open problems in federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib17.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Foundations and Trends® in Machine Learning</em><span id="bib.bib17.10.2" class="ltx_text" style="font-size:90%;">, 14(1–2):1–210, 2021.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib18.5.5.1" class="ltx_text" style="font-size:90%;">Krizhevsky et al. [2009]</span></span>
<span class="ltx_bibblock"><span id="bib.bib18.7.1" class="ltx_text" style="font-size:90%;">
Alex Krizhevsky, Geoffrey Hinton, et al.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.8.1" class="ltx_text" style="font-size:90%;">Learning multiple layers of features from tiny images.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.9.1" class="ltx_text" style="font-size:90%;">2009.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib19.5.5.1" class="ltx_text" style="font-size:90%;">Kulkarni et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib19.7.1" class="ltx_text" style="font-size:90%;">
Viraj Kulkarni, Milind Kulkarni, and Aniruddha Pant.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.8.1" class="ltx_text" style="font-size:90%;">Survey of personalization techniques for federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib19.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2020 Fourth World Conference on Smart Trends in Systems, Security and Sustainability (WorldS4)</em><span id="bib.bib19.11.3" class="ltx_text" style="font-size:90%;">, pages 794–797. IEEE, 2020.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib20.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2021a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib20.7.1" class="ltx_text" style="font-size:90%;">
Qinbin Li, Bingsheng He, and Dawn Song.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.8.1" class="ltx_text" style="font-size:90%;">Model-contrastive federated learning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib20.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF conference on computer vision and pattern recognition</em><span id="bib.bib20.11.3" class="ltx_text" style="font-size:90%;">, pages 10713–10722, 2021a.
</span>
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib21.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib21.7.1" class="ltx_text" style="font-size:90%;">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and Virginia Smith.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib21.8.1" class="ltx_text" style="font-size:90%;">Federated optimization in heterogeneous networks.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib21.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of Machine Learning and Systems</em><span id="bib.bib21.10.2" class="ltx_text" style="font-size:90%;">, 2:429–450, 2020.
</span>
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib22.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2021b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib22.7.1" class="ltx_text" style="font-size:90%;">
Tian Li, Shengyuan Hu, Ahmad Beirami, and Virginia Smith.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.8.1" class="ltx_text" style="font-size:90%;">Ditto: Fair and robust federated learning through personalization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib22.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib22.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</em><span id="bib.bib22.11.3" class="ltx_text" style="font-size:90%;">, pages 6357–6368. PMLR, 2021b.
</span>
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib23.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2021c]</span></span>
<span class="ltx_bibblock"><span id="bib.bib23.7.1" class="ltx_text" style="font-size:90%;">
Xiaoxiao Li, Meirui JIANG, Xiaofei Zhang, Michael Kamp, and Qi Dou.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.8.1" class="ltx_text" style="font-size:90%;">Fedbn: Federated learning on non-iid features via local batch normalization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib23.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib23.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib23.11.3" class="ltx_text" style="font-size:90%;">, 2021c.
</span>
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib24.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2022a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib24.7.1" class="ltx_text" style="font-size:90%;">
Zexi Li, Jiaxun Lu, Shuang Luo, Didi Zhu, Yunfeng Shao, Yinchuan Li, Zhimeng Zhang, Yongheng Wang, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib24.8.1" class="ltx_text" style="font-size:90%;">Towards effective clustered federated learning: A peer-to-peer framework with adaptive neighbor matching.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib24.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Transactions on Big Data</em><span id="bib.bib24.10.2" class="ltx_text" style="font-size:90%;">, 2022a.
</span>
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib25.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2022b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib25.7.1" class="ltx_text" style="font-size:90%;">
Zexi Li, Feng Mao, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib25.8.1" class="ltx_text" style="font-size:90%;">Can we share models if sharing data is not an option?
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib25.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Patterns</em><span id="bib.bib25.10.2" class="ltx_text" style="font-size:90%;">, 3(11):100603, 2022b.
</span>
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib26.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2023a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib26.7.1" class="ltx_text" style="font-size:90%;">
Zexi Li, Tao Lin, Xinyi Shang, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.8.1" class="ltx_text" style="font-size:90%;">Revisiting weighted aggregation in federated learning with neural networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib26.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib26.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 40th International Conference on Machine Learning</em><span id="bib.bib26.11.3" class="ltx_text" style="font-size:90%;">, pages 19767–19788. PMLR, 2023a.
</span>
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib27.5.5.1" class="ltx_text" style="font-size:90%;">Li et al. [2023b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib27.7.1" class="ltx_text" style="font-size:90%;">
Zexi Li, Xinyi Shang, Rui He, Tao Lin, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.8.1" class="ltx_text" style="font-size:90%;">No fear of classifier biases: Neural collapse inspired federated learning with synthetic and fixed classifier.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib27.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib27.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF International Conference on Computer Vision (ICCV)</em><span id="bib.bib27.11.3" class="ltx_text" style="font-size:90%;">, pages 5319–5329, 2023b.
</span>
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib28.5.5.1" class="ltx_text" style="font-size:90%;">Lin et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib28.7.1" class="ltx_text" style="font-size:90%;">
Tao Lin, Lingjing Kong, Sebastian U Stich, and Martin Jaggi.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib28.8.1" class="ltx_text" style="font-size:90%;">Ensemble distillation for robust model fusion in federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib28.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib28.10.2" class="ltx_text" style="font-size:90%;">, 33:2351–2363, 2020.
</span>
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib29.5.5.1" class="ltx_text" style="font-size:90%;">Luo et al. [2021]</span></span>
<span class="ltx_bibblock"><span id="bib.bib29.7.1" class="ltx_text" style="font-size:90%;">
Mi Luo, Fei Chen, Dapeng Hu, Yifan Zhang, Jian Liang, and Jiashi Feng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib29.8.1" class="ltx_text" style="font-size:90%;">No fear of heterogeneity: Classifier calibration for federated learning with non-iid data.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib29.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in Neural Information Processing Systems</em><span id="bib.bib29.10.2" class="ltx_text" style="font-size:90%;">, 34:5972–5984, 2021.
</span>
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib30.5.5.1" class="ltx_text" style="font-size:90%;">Luo et al. [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib30.7.1" class="ltx_text" style="font-size:90%;">
Zhengquan Luo, Yunlong Wang, Zilei Wang, Zhenan Sun, and Tieniu Tan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.8.1" class="ltx_text" style="font-size:90%;">Disentangled federated learning for tackling attributes skew via invariant aggregation and diversity transferring.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib30.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib30.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</em><span id="bib.bib30.11.3" class="ltx_text" style="font-size:90%;">, pages 14527–14541. PMLR, 2022.
</span>
</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib31.5.5.1" class="ltx_text" style="font-size:90%;">Mathieu et al. [2019]</span></span>
<span class="ltx_bibblock"><span id="bib.bib31.7.1" class="ltx_text" style="font-size:90%;">
Emile Mathieu, Tom Rainforth, Nana Siddharth, and Yee Whye Teh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.8.1" class="ltx_text" style="font-size:90%;">Disentangling disentanglement in variational autoencoders.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib31.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib31.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International conference on machine learning</em><span id="bib.bib31.11.3" class="ltx_text" style="font-size:90%;">, pages 4402–4412. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib32.5.5.1" class="ltx_text" style="font-size:90%;">McMahan et al. [2017]</span></span>
<span class="ltx_bibblock"><span id="bib.bib32.7.1" class="ltx_text" style="font-size:90%;">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.8.1" class="ltx_text" style="font-size:90%;">Communication-efficient learning of deep networks from decentralized data.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib32.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib32.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Artificial intelligence and statistics</em><span id="bib.bib32.11.3" class="ltx_text" style="font-size:90%;">, pages 1273–1282. PMLR, 2017.
</span>
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib33.5.5.1" class="ltx_text" style="font-size:90%;">Oh et al. [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib33.7.1" class="ltx_text" style="font-size:90%;">
Jaehoon Oh, SangMook Kim, and Se-Young Yun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.8.1" class="ltx_text" style="font-size:90%;">Fedbabu: Toward enhanced representation for federated image classification.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib33.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib33.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Learning Representations</em><span id="bib.bib33.11.3" class="ltx_text" style="font-size:90%;">, 2022.
</span>
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib34.5.5.1" class="ltx_text" style="font-size:90%;">Peng et al. [2019]</span></span>
<span class="ltx_bibblock"><span id="bib.bib34.7.1" class="ltx_text" style="font-size:90%;">
Xingchao Peng, Qinxun Bai, Xide Xia, Zijun Huang, Kate Saenko, and Bo Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.8.1" class="ltx_text" style="font-size:90%;">Moment matching for multi-source domain adaptation.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib34.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib34.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF international conference on computer vision</em><span id="bib.bib34.11.3" class="ltx_text" style="font-size:90%;">, pages 1406–1415, 2019.
</span>
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib35.5.5.1" class="ltx_text" style="font-size:90%;">Sandler et al. [2018]</span></span>
<span class="ltx_bibblock"><span id="bib.bib35.7.1" class="ltx_text" style="font-size:90%;">
Mark Sandler, Andrew Howard, Menglong Zhu, Andrey Zhmoginov, and Liang-Chieh Chen.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.8.1" class="ltx_text" style="font-size:90%;">Mobilenetv2: Inverted residuals and linear bottlenecks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib35.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib35.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE Conference on Computer Vision and Pattern Recognition (CVPR)</em><span id="bib.bib35.11.3" class="ltx_text" style="font-size:90%;">, 2018.
</span>
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib36.5.5.1" class="ltx_text" style="font-size:90%;">Sattler et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib36.7.1" class="ltx_text" style="font-size:90%;">
Felix Sattler, Klaus-Robert Müller, and Wojciech Samek.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib36.8.1" class="ltx_text" style="font-size:90%;">Clustered federated learning: Model-agnostic distributed multitask optimization under privacy constraints.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib36.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE transactions on neural networks and learning systems</em><span id="bib.bib36.10.2" class="ltx_text" style="font-size:90%;">, 32(8):3710–3722, 2020.
</span>
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib37.5.5.1" class="ltx_text" style="font-size:90%;">Tan et al. [2022a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib37.7.1" class="ltx_text" style="font-size:90%;">
Alysa Ziying Tan, Han Yu, Lizhen Cui, and Qiang Yang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib37.8.1" class="ltx_text" style="font-size:90%;">Towards personalized federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib37.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Transactions on Neural Networks and Learning Systems</em><span id="bib.bib37.10.2" class="ltx_text" style="font-size:90%;">, 2022a.
</span>
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib38.4.4.1" class="ltx_text" style="font-size:90%;">Tan and Le [2019]</span></span>
<span class="ltx_bibblock"><span id="bib.bib38.6.1" class="ltx_text" style="font-size:90%;">
Mingxing Tan and Quoc Le.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.7.1" class="ltx_text" style="font-size:90%;">Efficientnet: Rethinking model scaling for convolutional neural networks.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib38.8.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib38.9.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International conference on machine learning</em><span id="bib.bib38.10.3" class="ltx_text" style="font-size:90%;">, pages 6105–6114. PMLR, 2019.
</span>
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib39.5.5.1" class="ltx_text" style="font-size:90%;">Tan et al. [2022b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib39.7.1" class="ltx_text" style="font-size:90%;">
Yue Tan, Guodong Long, Lu Liu, Tianyi Zhou, Qinghua Lu, Jing Jiang, and Chengqi Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.8.1" class="ltx_text" style="font-size:90%;">Fedproto: Federated prototype learning across heterogeneous clients.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib39.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib39.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the AAAI Conference on Artificial Intelligence</em><span id="bib.bib39.11.3" class="ltx_text" style="font-size:90%;">, pages 8432–8440, 2022b.
</span>
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib40.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. [2020]</span></span>
<span class="ltx_bibblock"><span id="bib.bib40.7.1" class="ltx_text" style="font-size:90%;">
Jianyu Wang, Qinghua Liu, Hao Liang, Gauri Joshi, and H Vincent Poor.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib40.8.1" class="ltx_text" style="font-size:90%;">Tackling the objective inconsistency problem in heterogeneous federated optimization.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib40.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Advances in neural information processing systems</em><span id="bib.bib40.10.2" class="ltx_text" style="font-size:90%;">, 33:7611–7623, 2020.
</span>
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib41.5.5.1" class="ltx_text" style="font-size:90%;">Wang et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib41.7.1" class="ltx_text" style="font-size:90%;">
Jiacheng Wang, Yueming Jin, Danail Stoyanov, and Liansheng Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib41.8.1" class="ltx_text" style="font-size:90%;">Feddp: Dual personalization in federated medical image segmentation.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib41.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Transactions on Medical Imaging</em><span id="bib.bib41.10.2" class="ltx_text" style="font-size:90%;">, 2023.
</span>
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib42.5.5.1" class="ltx_text" style="font-size:90%;">Wu et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib42.7.1" class="ltx_text" style="font-size:90%;">
Chenrui Wu, Zexi Li, Fangxin Wang, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.8.1" class="ltx_text" style="font-size:90%;">Learning cautiously in federated learning with noisy and heterogeneous clients.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib42.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib42.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2023 IEEE International Conference on Multimedia and Expo (ICME)</em><span id="bib.bib42.11.3" class="ltx_text" style="font-size:90%;">, pages 660–665, Los Alamitos, CA, USA, 2023. IEEE Computer Society.
</span>
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib43.5.5.1" class="ltx_text" style="font-size:90%;">Xu et al. [2022a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib43.7.1" class="ltx_text" style="font-size:90%;">
Jingyi Xu, Zihan Chen, Tony QS Quek, and Kai Fong Ernest Chong.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.8.1" class="ltx_text" style="font-size:90%;">Fedcorr: Multi-stage federated learning for label noise correction.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib43.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib43.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em><span id="bib.bib43.11.3" class="ltx_text" style="font-size:90%;">, pages 10184–10193, 2022a.
</span>
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib44.5.5.1" class="ltx_text" style="font-size:90%;">Xu et al. [2022b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib44.7.1" class="ltx_text" style="font-size:90%;">
Jian Xu, Xinyi Tong, and Shao-Lun Huang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.8.1" class="ltx_text" style="font-size:90%;">Personalized federated learning with feature alignment and classifier collaboration.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib44.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib44.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">The Eleventh International Conference on Learning Representations</em><span id="bib.bib44.11.3" class="ltx_text" style="font-size:90%;">, 2022b.
</span>
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib45.5.5.1" class="ltx_text" style="font-size:90%;">Ye et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib45.7.1" class="ltx_text" style="font-size:90%;">
Rui Ye, Mingkai Xu, Jianyu Wang, Chenxin Xu, Siheng Chen, and Yanfeng Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.8.1" class="ltx_text" style="font-size:90%;">Feddisco: Federated learning with discrepancy-aware collaboration.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib45.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib45.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 40th International Conference on Machine Learning</em><span id="bib.bib45.11.3" class="ltx_text" style="font-size:90%;">, pages 39879–39902. PMLR, 2023.
</span>
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib46.5.5.1" class="ltx_text" style="font-size:90%;">Zhang et al. [2021]</span></span>
<span class="ltx_bibblock"><span id="bib.bib46.7.1" class="ltx_text" style="font-size:90%;">
Fengda Zhang, Kun Kuang, Yuxuan Liu, Long Chen, Chao Wu, Fei Wu, Jiaxun Lu, Yunfeng Shao, and Jun Xiao.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib46.8.1" class="ltx_text" style="font-size:90%;">Unified group fairness on federated learning.
</span>
</span>
<span class="ltx_bibblock"><em id="bib.bib46.9.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:2111.04986</em><span id="bib.bib46.10.2" class="ltx_text" style="font-size:90%;">, 2021.
</span>
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib47.5.5.1" class="ltx_text" style="font-size:90%;">Zhang et al. [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib47.7.1" class="ltx_text" style="font-size:90%;">
Jie Zhang, Zhiqi Li, Bo Li, Jianghe Xu, Shuang Wu, Shouhong Ding, and Chao Wu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.8.1" class="ltx_text" style="font-size:90%;">Federated learning with label distribution skew via logits calibration.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib47.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib47.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Machine Learning</em><span id="bib.bib47.11.3" class="ltx_text" style="font-size:90%;">, pages 26311–26329. PMLR, 2022.
</span>
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib48.5.5.1" class="ltx_text" style="font-size:90%;">Zhang et al. [2023a]</span></span>
<span class="ltx_bibblock"><span id="bib.bib48.7.1" class="ltx_text" style="font-size:90%;">
Jianqing Zhang, Yang Hua, Hao Wang, Tao Song, Zhengui Xue, Ruhui Ma, and Haibing Guan.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.8.1" class="ltx_text" style="font-size:90%;">Fedcp: Separating feature information for personalized federated learning via conditional policy.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib48.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib48.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em><span id="bib.bib48.11.3" class="ltx_text" style="font-size:90%;">, pages 3249–3261, 2023a.
</span>
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib49.5.5.1" class="ltx_text" style="font-size:90%;">Zhang et al. [2023b]</span></span>
<span class="ltx_bibblock"><span id="bib.bib49.7.1" class="ltx_text" style="font-size:90%;">
Ruipeng Zhang, Ziqing Fan, Qinwei Xu, Jiangchao Yao, Ya Zhang, and Yanfeng Wang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.8.1" class="ltx_text" style="font-size:90%;">Grace: A generalized and personalized federated learning method for medical imaging.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib49.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib49.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">International Conference on Medical Image Computing and Computer-Assisted Intervention</em><span id="bib.bib49.11.3" class="ltx_text" style="font-size:90%;">, pages 14–24. Springer, 2023b.
</span>
</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib50.5.5.1" class="ltx_text" style="font-size:90%;">Zhu et al. [2022]</span></span>
<span class="ltx_bibblock"><span id="bib.bib50.7.1" class="ltx_text" style="font-size:90%;">
Guogang Zhu, Xuefeng Liu, Shaojie Tang, and Jianwei Niu.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.8.1" class="ltx_text" style="font-size:90%;">Aligning before aggregating: Enabling cross-domain federated learning via consistent feature extraction.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib50.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib50.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">2022 IEEE 42nd International Conference on Distributed Computing Systems (ICDCS)</em><span id="bib.bib50.11.3" class="ltx_text" style="font-size:90%;">, pages 809–819. IEEE, 2022.
</span>
</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib51.5.5.1" class="ltx_text" style="font-size:90%;">Zhu et al. [2023]</span></span>
<span class="ltx_bibblock"><span id="bib.bib51.7.1" class="ltx_text" style="font-size:90%;">
Junyi Zhu, Xingchen Ma, and Matthew B Blaschko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.8.1" class="ltx_text" style="font-size:90%;">Confidence-aware personalized federated learning via variational expectation maximization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib51.9.1" class="ltx_text" style="font-size:90%;">In </span><em id="bib.bib51.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</em><span id="bib.bib51.11.3" class="ltx_text" style="font-size:90%;">, pages 24542–24551, 2023.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold" style="font-size:173%;">Appendix</span></p>
</div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Pseudo Code of FediOS</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.5" class="ltx_p">In Algorithm <a href="#alg1" title="Algorithm 1 ‣ Appendix A Pseudo Code of FediOS ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we show the detailed training stage of our approach. In the training process, each client <math id="A1.p1.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="A1.p1.1.m1.1a"><mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">i</annotation></semantics></math> will simultaneously train a global feature extractor <math id="A1.p1.2.m2.1" class="ltx_Math" alttext="W^{g}_{i}" display="inline"><semantics id="A1.p1.2.m2.1a"><msubsup id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml"><mi id="A1.p1.2.m2.1.1.2.2" xref="A1.p1.2.m2.1.1.2.2.cmml">W</mi><mi id="A1.p1.2.m2.1.1.3" xref="A1.p1.2.m2.1.1.3.cmml">i</mi><mi id="A1.p1.2.m2.1.1.2.3" xref="A1.p1.2.m2.1.1.2.3.cmml">g</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><apply id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.1.cmml" xref="A1.p1.2.m2.1.1">subscript</csymbol><apply id="A1.p1.2.m2.1.1.2.cmml" xref="A1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A1.p1.2.m2.1.1.2.1.cmml" xref="A1.p1.2.m2.1.1">superscript</csymbol><ci id="A1.p1.2.m2.1.1.2.2.cmml" xref="A1.p1.2.m2.1.1.2.2">𝑊</ci><ci id="A1.p1.2.m2.1.1.2.3.cmml" xref="A1.p1.2.m2.1.1.2.3">𝑔</ci></apply><ci id="A1.p1.2.m2.1.1.3.cmml" xref="A1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">W^{g}_{i}</annotation></semantics></math> and prediction head <math id="A1.p1.3.m3.1" class="ltx_Math" alttext="H_{i}" display="inline"><semantics id="A1.p1.3.m3.1a"><msub id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml"><mi id="A1.p1.3.m3.1.1.2" xref="A1.p1.3.m3.1.1.2.cmml">H</mi><mi id="A1.p1.3.m3.1.1.3" xref="A1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.1b"><apply id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.1.cmml" xref="A1.p1.3.m3.1.1">subscript</csymbol><ci id="A1.p1.3.m3.1.1.2.cmml" xref="A1.p1.3.m3.1.1.2">𝐻</ci><ci id="A1.p1.3.m3.1.1.3.cmml" xref="A1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">H_{i}</annotation></semantics></math> received from the server, as well as a personalized feature extractor <math id="A1.p1.4.m4.1" class="ltx_Math" alttext="W^{p}_{i}" display="inline"><semantics id="A1.p1.4.m4.1a"><msubsup id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml"><mi id="A1.p1.4.m4.1.1.2.2" xref="A1.p1.4.m4.1.1.2.2.cmml">W</mi><mi id="A1.p1.4.m4.1.1.3" xref="A1.p1.4.m4.1.1.3.cmml">i</mi><mi id="A1.p1.4.m4.1.1.2.3" xref="A1.p1.4.m4.1.1.2.3.cmml">p</mi></msubsup><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><apply id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A1.p1.4.m4.1.1.1.cmml" xref="A1.p1.4.m4.1.1">subscript</csymbol><apply id="A1.p1.4.m4.1.1.2.cmml" xref="A1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="A1.p1.4.m4.1.1.2.1.cmml" xref="A1.p1.4.m4.1.1">superscript</csymbol><ci id="A1.p1.4.m4.1.1.2.2.cmml" xref="A1.p1.4.m4.1.1.2.2">𝑊</ci><ci id="A1.p1.4.m4.1.1.2.3.cmml" xref="A1.p1.4.m4.1.1.2.3">𝑝</ci></apply><ci id="A1.p1.4.m4.1.1.3.cmml" xref="A1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m4.1c">W^{p}_{i}</annotation></semantics></math> that remains local, guided by the loss function <math id="A1.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="A1.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><ci id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">\mathcal{L}</annotation></semantics></math> in Equation (12) of the main paper.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.13.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> FediOS Training Stage</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.6" class="ltx_p ltx_figure_panel"><span id="alg1.6.1" class="ltx_text ltx_font_bold">Input</span>: <math id="alg1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.1.m1.1a"><mi id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><ci id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">N</annotation></semantics></math> clients with local data <math id="alg1.2.m2.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="alg1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><ci id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">\mathcal{D}</annotation></semantics></math>, communication round <math id="alg1.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.3.m3.1a"><mi id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.3.m3.1b"><ci id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.1c">T</annotation></semantics></math>, local epoch <math id="alg1.4.m4.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.4.m4.1a"><mi id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><ci id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">E</annotation></semantics></math>, local learning rate <math id="alg1.5.m5.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.5.m5.1a"><mi id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.5.m5.1b"><ci id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.1c">\eta</annotation></semantics></math>, projection layers <math id="alg1.6.m6.4" class="ltx_Math" alttext="\mathbf{P}=\{P^{g},P^{p}_{1},\dots,P^{p}_{N}\}" display="inline"><semantics id="alg1.6.m6.4a"><mrow id="alg1.6.m6.4.4" xref="alg1.6.m6.4.4.cmml"><mi id="alg1.6.m6.4.4.5" xref="alg1.6.m6.4.4.5.cmml">𝐏</mi><mo id="alg1.6.m6.4.4.4" xref="alg1.6.m6.4.4.4.cmml">=</mo><mrow id="alg1.6.m6.4.4.3.3" xref="alg1.6.m6.4.4.3.4.cmml"><mo stretchy="false" id="alg1.6.m6.4.4.3.3.4" xref="alg1.6.m6.4.4.3.4.cmml">{</mo><msup id="alg1.6.m6.2.2.1.1.1" xref="alg1.6.m6.2.2.1.1.1.cmml"><mi id="alg1.6.m6.2.2.1.1.1.2" xref="alg1.6.m6.2.2.1.1.1.2.cmml">P</mi><mi id="alg1.6.m6.2.2.1.1.1.3" xref="alg1.6.m6.2.2.1.1.1.3.cmml">g</mi></msup><mo id="alg1.6.m6.4.4.3.3.5" xref="alg1.6.m6.4.4.3.4.cmml">,</mo><msubsup id="alg1.6.m6.3.3.2.2.2" xref="alg1.6.m6.3.3.2.2.2.cmml"><mi id="alg1.6.m6.3.3.2.2.2.2.2" xref="alg1.6.m6.3.3.2.2.2.2.2.cmml">P</mi><mn id="alg1.6.m6.3.3.2.2.2.3" xref="alg1.6.m6.3.3.2.2.2.3.cmml">1</mn><mi id="alg1.6.m6.3.3.2.2.2.2.3" xref="alg1.6.m6.3.3.2.2.2.2.3.cmml">p</mi></msubsup><mo id="alg1.6.m6.4.4.3.3.6" xref="alg1.6.m6.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="alg1.6.m6.1.1" xref="alg1.6.m6.1.1.cmml">…</mi><mo id="alg1.6.m6.4.4.3.3.7" xref="alg1.6.m6.4.4.3.4.cmml">,</mo><msubsup id="alg1.6.m6.4.4.3.3.3" xref="alg1.6.m6.4.4.3.3.3.cmml"><mi id="alg1.6.m6.4.4.3.3.3.2.2" xref="alg1.6.m6.4.4.3.3.3.2.2.cmml">P</mi><mi id="alg1.6.m6.4.4.3.3.3.3" xref="alg1.6.m6.4.4.3.3.3.3.cmml">N</mi><mi id="alg1.6.m6.4.4.3.3.3.2.3" xref="alg1.6.m6.4.4.3.3.3.2.3.cmml">p</mi></msubsup><mo stretchy="false" id="alg1.6.m6.4.4.3.3.8" xref="alg1.6.m6.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.6.m6.4b"><apply id="alg1.6.m6.4.4.cmml" xref="alg1.6.m6.4.4"><eq id="alg1.6.m6.4.4.4.cmml" xref="alg1.6.m6.4.4.4"></eq><ci id="alg1.6.m6.4.4.5.cmml" xref="alg1.6.m6.4.4.5">𝐏</ci><set id="alg1.6.m6.4.4.3.4.cmml" xref="alg1.6.m6.4.4.3.3"><apply id="alg1.6.m6.2.2.1.1.1.cmml" xref="alg1.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.6.m6.2.2.1.1.1.1.cmml" xref="alg1.6.m6.2.2.1.1.1">superscript</csymbol><ci id="alg1.6.m6.2.2.1.1.1.2.cmml" xref="alg1.6.m6.2.2.1.1.1.2">𝑃</ci><ci id="alg1.6.m6.2.2.1.1.1.3.cmml" xref="alg1.6.m6.2.2.1.1.1.3">𝑔</ci></apply><apply id="alg1.6.m6.3.3.2.2.2.cmml" xref="alg1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.6.m6.3.3.2.2.2.1.cmml" xref="alg1.6.m6.3.3.2.2.2">subscript</csymbol><apply id="alg1.6.m6.3.3.2.2.2.2.cmml" xref="alg1.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.6.m6.3.3.2.2.2.2.1.cmml" xref="alg1.6.m6.3.3.2.2.2">superscript</csymbol><ci id="alg1.6.m6.3.3.2.2.2.2.2.cmml" xref="alg1.6.m6.3.3.2.2.2.2.2">𝑃</ci><ci id="alg1.6.m6.3.3.2.2.2.2.3.cmml" xref="alg1.6.m6.3.3.2.2.2.2.3">𝑝</ci></apply><cn type="integer" id="alg1.6.m6.3.3.2.2.2.3.cmml" xref="alg1.6.m6.3.3.2.2.2.3">1</cn></apply><ci id="alg1.6.m6.1.1.cmml" xref="alg1.6.m6.1.1">…</ci><apply id="alg1.6.m6.4.4.3.3.3.cmml" xref="alg1.6.m6.4.4.3.3.3"><csymbol cd="ambiguous" id="alg1.6.m6.4.4.3.3.3.1.cmml" xref="alg1.6.m6.4.4.3.3.3">subscript</csymbol><apply id="alg1.6.m6.4.4.3.3.3.2.cmml" xref="alg1.6.m6.4.4.3.3.3"><csymbol cd="ambiguous" id="alg1.6.m6.4.4.3.3.3.2.1.cmml" xref="alg1.6.m6.4.4.3.3.3">superscript</csymbol><ci id="alg1.6.m6.4.4.3.3.3.2.2.cmml" xref="alg1.6.m6.4.4.3.3.3.2.2">𝑃</ci><ci id="alg1.6.m6.4.4.3.3.3.2.3.cmml" xref="alg1.6.m6.4.4.3.3.3.2.3">𝑝</ci></apply><ci id="alg1.6.m6.4.4.3.3.3.3.cmml" xref="alg1.6.m6.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.m6.4c">\mathbf{P}=\{P^{g},P^{p}_{1},\dots,P^{p}_{N}\}</annotation></semantics></math>;</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.10" class="ltx_p ltx_figure_panel"><span id="alg1.10.1" class="ltx_text ltx_font_bold">Parameter</span>: initial generic feature extractor <math id="alg1.7.m1.1" class="ltx_Math" alttext="W^{g}" display="inline"><semantics id="alg1.7.m1.1a"><msup id="alg1.7.m1.1.1" xref="alg1.7.m1.1.1.cmml"><mi id="alg1.7.m1.1.1.2" xref="alg1.7.m1.1.1.2.cmml">W</mi><mi id="alg1.7.m1.1.1.3" xref="alg1.7.m1.1.1.3.cmml">g</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.7.m1.1b"><apply id="alg1.7.m1.1.1.cmml" xref="alg1.7.m1.1.1"><csymbol cd="ambiguous" id="alg1.7.m1.1.1.1.cmml" xref="alg1.7.m1.1.1">superscript</csymbol><ci id="alg1.7.m1.1.1.2.cmml" xref="alg1.7.m1.1.1.2">𝑊</ci><ci id="alg1.7.m1.1.1.3.cmml" xref="alg1.7.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m1.1c">W^{g}</annotation></semantics></math>, initial personalized feature extractor <math id="alg1.8.m2.1" class="ltx_Math" alttext="W^{p}" display="inline"><semantics id="alg1.8.m2.1a"><msup id="alg1.8.m2.1.1" xref="alg1.8.m2.1.1.cmml"><mi id="alg1.8.m2.1.1.2" xref="alg1.8.m2.1.1.2.cmml">W</mi><mi id="alg1.8.m2.1.1.3" xref="alg1.8.m2.1.1.3.cmml">p</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.8.m2.1b"><apply id="alg1.8.m2.1.1.cmml" xref="alg1.8.m2.1.1"><csymbol cd="ambiguous" id="alg1.8.m2.1.1.1.cmml" xref="alg1.8.m2.1.1">superscript</csymbol><ci id="alg1.8.m2.1.1.2.cmml" xref="alg1.8.m2.1.1.2">𝑊</ci><ci id="alg1.8.m2.1.1.3.cmml" xref="alg1.8.m2.1.1.3">𝑝</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m2.1c">W^{p}</annotation></semantics></math>, initial classifier head <math id="alg1.9.m3.1" class="ltx_Math" alttext="H" display="inline"><semantics id="alg1.9.m3.1a"><mi id="alg1.9.m3.1.1" xref="alg1.9.m3.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="alg1.9.m3.1b"><ci id="alg1.9.m3.1.1.cmml" xref="alg1.9.m3.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.m3.1c">H</annotation></semantics></math>, and hyperparameters <math id="alg1.10.m4.2" class="ltx_Math" alttext="\alpha,\lambda" display="inline"><semantics id="alg1.10.m4.2a"><mrow id="alg1.10.m4.2.3.2" xref="alg1.10.m4.2.3.1.cmml"><mi id="alg1.10.m4.1.1" xref="alg1.10.m4.1.1.cmml">α</mi><mo id="alg1.10.m4.2.3.2.1" xref="alg1.10.m4.2.3.1.cmml">,</mo><mi id="alg1.10.m4.2.2" xref="alg1.10.m4.2.2.cmml">λ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.10.m4.2b"><list id="alg1.10.m4.2.3.1.cmml" xref="alg1.10.m4.2.3.2"><ci id="alg1.10.m4.1.1.cmml" xref="alg1.10.m4.1.1">𝛼</ci><ci id="alg1.10.m4.2.2.cmml" xref="alg1.10.m4.2.2">𝜆</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.m4.2c">\alpha,\lambda</annotation></semantics></math>;</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.11" class="ltx_p ltx_figure_panel"><span id="alg1.11.1" class="ltx_text ltx_font_bold">Output</span>: a final generic feature extractor, <math id="alg1.11.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.11.m1.1a"><mi id="alg1.11.m1.1.1" xref="alg1.11.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.11.m1.1b"><ci id="alg1.11.m1.1.1.cmml" xref="alg1.11.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.m1.1c">N</annotation></semantics></math> final personalized feature extractors, and a final classifier head;</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.14" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  Server sends projection layers and initial models to client <math id="alg1.l1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">i</annotation></semantics></math>, <math id="alg1.l1.m2.1" class="ltx_Math" alttext="\forall i\in[N]" display="inline"><semantics id="alg1.l1.m2.1a"><mrow id="alg1.l1.m2.1.2" xref="alg1.l1.m2.1.2.cmml"><mrow id="alg1.l1.m2.1.2.2" xref="alg1.l1.m2.1.2.2.cmml"><mo rspace="0.167em" id="alg1.l1.m2.1.2.2.1" xref="alg1.l1.m2.1.2.2.1.cmml">∀</mo><mi id="alg1.l1.m2.1.2.2.2" xref="alg1.l1.m2.1.2.2.2.cmml">i</mi></mrow><mo id="alg1.l1.m2.1.2.1" xref="alg1.l1.m2.1.2.1.cmml">∈</mo><mrow id="alg1.l1.m2.1.2.3.2" xref="alg1.l1.m2.1.2.3.1.cmml"><mo stretchy="false" id="alg1.l1.m2.1.2.3.2.1" xref="alg1.l1.m2.1.2.3.1.1.cmml">[</mo><mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">N</mi><mo stretchy="false" id="alg1.l1.m2.1.2.3.2.2" xref="alg1.l1.m2.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.2.cmml" xref="alg1.l1.m2.1.2"><in id="alg1.l1.m2.1.2.1.cmml" xref="alg1.l1.m2.1.2.1"></in><apply id="alg1.l1.m2.1.2.2.cmml" xref="alg1.l1.m2.1.2.2"><csymbol cd="latexml" id="alg1.l1.m2.1.2.2.1.cmml" xref="alg1.l1.m2.1.2.2.1">for-all</csymbol><ci id="alg1.l1.m2.1.2.2.2.cmml" xref="alg1.l1.m2.1.2.2.2">𝑖</ci></apply><apply id="alg1.l1.m2.1.2.3.1.cmml" xref="alg1.l1.m2.1.2.3.2"><csymbol cd="latexml" id="alg1.l1.m2.1.2.3.1.1.cmml" xref="alg1.l1.m2.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\forall i\in[N]</annotation></semantics></math>.

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  <span id="alg1.l2.2" class="ltx_text ltx_font_bold">for</span> each round <math id="alg1.l2.m1.3" class="ltx_Math" alttext="t=1,\dots,T" display="inline"><semantics id="alg1.l2.m1.3a"><mrow id="alg1.l2.m1.3.4" xref="alg1.l2.m1.3.4.cmml"><mi id="alg1.l2.m1.3.4.2" xref="alg1.l2.m1.3.4.2.cmml">t</mi><mo id="alg1.l2.m1.3.4.1" xref="alg1.l2.m1.3.4.1.cmml">=</mo><mrow id="alg1.l2.m1.3.4.3.2" xref="alg1.l2.m1.3.4.3.1.cmml"><mn id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">1</mn><mo id="alg1.l2.m1.3.4.3.2.1" xref="alg1.l2.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml">…</mi><mo id="alg1.l2.m1.3.4.3.2.2" xref="alg1.l2.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l2.m1.3.3" xref="alg1.l2.m1.3.3.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.3b"><apply id="alg1.l2.m1.3.4.cmml" xref="alg1.l2.m1.3.4"><eq id="alg1.l2.m1.3.4.1.cmml" xref="alg1.l2.m1.3.4.1"></eq><ci id="alg1.l2.m1.3.4.2.cmml" xref="alg1.l2.m1.3.4.2">𝑡</ci><list id="alg1.l2.m1.3.4.3.1.cmml" xref="alg1.l2.m1.3.4.3.2"><cn type="integer" id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">1</cn><ci id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2">…</ci><ci id="alg1.l2.m1.3.3.cmml" xref="alg1.l2.m1.3.3">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.3c">t=1,\dots,T</annotation></semantics></math> <span id="alg1.l2.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="alg1.l3.2" class="ltx_text ltx_font_typewriter"># Client updates</span>

</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     <span id="alg1.l4.2" class="ltx_text ltx_font_bold">for</span> each client <math id="alg1.l4.m1.3" class="ltx_Math" alttext="i,i\in[N]" display="inline"><semantics id="alg1.l4.m1.3a"><mrow id="alg1.l4.m1.3.4" xref="alg1.l4.m1.3.4.cmml"><mrow id="alg1.l4.m1.3.4.2.2" xref="alg1.l4.m1.3.4.2.1.cmml"><mi id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml">i</mi><mo id="alg1.l4.m1.3.4.2.2.1" xref="alg1.l4.m1.3.4.2.1.cmml">,</mo><mi id="alg1.l4.m1.3.3" xref="alg1.l4.m1.3.3.cmml">i</mi></mrow><mo id="alg1.l4.m1.3.4.1" xref="alg1.l4.m1.3.4.1.cmml">∈</mo><mrow id="alg1.l4.m1.3.4.3.2" xref="alg1.l4.m1.3.4.3.1.cmml"><mo stretchy="false" id="alg1.l4.m1.3.4.3.2.1" xref="alg1.l4.m1.3.4.3.1.1.cmml">[</mo><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">N</mi><mo stretchy="false" id="alg1.l4.m1.3.4.3.2.2" xref="alg1.l4.m1.3.4.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.3b"><apply id="alg1.l4.m1.3.4.cmml" xref="alg1.l4.m1.3.4"><in id="alg1.l4.m1.3.4.1.cmml" xref="alg1.l4.m1.3.4.1"></in><list id="alg1.l4.m1.3.4.2.1.cmml" xref="alg1.l4.m1.3.4.2.2"><ci id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2">𝑖</ci><ci id="alg1.l4.m1.3.3.cmml" xref="alg1.l4.m1.3.3">𝑖</ci></list><apply id="alg1.l4.m1.3.4.3.1.cmml" xref="alg1.l4.m1.3.4.3.2"><csymbol cd="latexml" id="alg1.l4.m1.3.4.3.1.1.cmml" xref="alg1.l4.m1.3.4.3.2.1">delimited-[]</csymbol><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.3c">i,i\in[N]</annotation></semantics></math> <span id="alg1.l4.3" class="ltx_text ltx_font_bold">in parallel</span> <span id="alg1.l4.4" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>        set <math id="alg1.l5.m1.10" class="ltx_Math" alttext="W^{g,t}_{i}\leftarrow{W}^{g,t-1},W^{p,t}_{i}\leftarrow{W}^{p,t-1}_{i},H^{t}_{i}\leftarrow{H}^{t-1}" display="inline"><semantics id="alg1.l5.m1.10a"><mrow id="alg1.l5.m1.10.10.2" xref="alg1.l5.m1.10.10.3.cmml"><mrow id="alg1.l5.m1.9.9.1.1" xref="alg1.l5.m1.9.9.1.1.cmml"><msubsup id="alg1.l5.m1.9.9.1.1.2" xref="alg1.l5.m1.9.9.1.1.2.cmml"><mi id="alg1.l5.m1.9.9.1.1.2.2.2" xref="alg1.l5.m1.9.9.1.1.2.2.2.cmml">W</mi><mi id="alg1.l5.m1.9.9.1.1.2.3" xref="alg1.l5.m1.9.9.1.1.2.3.cmml">i</mi><mrow id="alg1.l5.m1.2.2.2.4" xref="alg1.l5.m1.2.2.2.3.cmml"><mi id="alg1.l5.m1.1.1.1.1" xref="alg1.l5.m1.1.1.1.1.cmml">g</mi><mo id="alg1.l5.m1.2.2.2.4.1" xref="alg1.l5.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l5.m1.2.2.2.2" xref="alg1.l5.m1.2.2.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="alg1.l5.m1.9.9.1.1.1" xref="alg1.l5.m1.9.9.1.1.1.cmml">←</mo><msup id="alg1.l5.m1.9.9.1.1.3" xref="alg1.l5.m1.9.9.1.1.3.cmml"><mi id="alg1.l5.m1.9.9.1.1.3.2" xref="alg1.l5.m1.9.9.1.1.3.2.cmml">W</mi><mrow id="alg1.l5.m1.4.4.2.2" xref="alg1.l5.m1.4.4.2.3.cmml"><mi id="alg1.l5.m1.3.3.1.1" xref="alg1.l5.m1.3.3.1.1.cmml">g</mi><mo id="alg1.l5.m1.4.4.2.2.2" xref="alg1.l5.m1.4.4.2.3.cmml">,</mo><mrow id="alg1.l5.m1.4.4.2.2.1" xref="alg1.l5.m1.4.4.2.2.1.cmml"><mi id="alg1.l5.m1.4.4.2.2.1.2" xref="alg1.l5.m1.4.4.2.2.1.2.cmml">t</mi><mo id="alg1.l5.m1.4.4.2.2.1.1" xref="alg1.l5.m1.4.4.2.2.1.1.cmml">−</mo><mn id="alg1.l5.m1.4.4.2.2.1.3" xref="alg1.l5.m1.4.4.2.2.1.3.cmml">1</mn></mrow></mrow></msup></mrow><mo id="alg1.l5.m1.10.10.2.3" xref="alg1.l5.m1.10.10.3a.cmml">,</mo><mrow id="alg1.l5.m1.10.10.2.2.2" xref="alg1.l5.m1.10.10.2.2.3.cmml"><mrow id="alg1.l5.m1.10.10.2.2.1.1" xref="alg1.l5.m1.10.10.2.2.1.1.cmml"><msubsup id="alg1.l5.m1.10.10.2.2.1.1.2" xref="alg1.l5.m1.10.10.2.2.1.1.2.cmml"><mi id="alg1.l5.m1.10.10.2.2.1.1.2.2.2" xref="alg1.l5.m1.10.10.2.2.1.1.2.2.2.cmml">W</mi><mi id="alg1.l5.m1.10.10.2.2.1.1.2.3" xref="alg1.l5.m1.10.10.2.2.1.1.2.3.cmml">i</mi><mrow id="alg1.l5.m1.6.6.2.4" xref="alg1.l5.m1.6.6.2.3.cmml"><mi id="alg1.l5.m1.5.5.1.1" xref="alg1.l5.m1.5.5.1.1.cmml">p</mi><mo id="alg1.l5.m1.6.6.2.4.1" xref="alg1.l5.m1.6.6.2.3.cmml">,</mo><mi id="alg1.l5.m1.6.6.2.2" xref="alg1.l5.m1.6.6.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="alg1.l5.m1.10.10.2.2.1.1.1" xref="alg1.l5.m1.10.10.2.2.1.1.1.cmml">←</mo><msubsup id="alg1.l5.m1.10.10.2.2.1.1.3" xref="alg1.l5.m1.10.10.2.2.1.1.3.cmml"><mi id="alg1.l5.m1.10.10.2.2.1.1.3.2.2" xref="alg1.l5.m1.10.10.2.2.1.1.3.2.2.cmml">W</mi><mi id="alg1.l5.m1.10.10.2.2.1.1.3.3" xref="alg1.l5.m1.10.10.2.2.1.1.3.3.cmml">i</mi><mrow id="alg1.l5.m1.8.8.2.2" xref="alg1.l5.m1.8.8.2.3.cmml"><mi id="alg1.l5.m1.7.7.1.1" xref="alg1.l5.m1.7.7.1.1.cmml">p</mi><mo id="alg1.l5.m1.8.8.2.2.2" xref="alg1.l5.m1.8.8.2.3.cmml">,</mo><mrow id="alg1.l5.m1.8.8.2.2.1" xref="alg1.l5.m1.8.8.2.2.1.cmml"><mi id="alg1.l5.m1.8.8.2.2.1.2" xref="alg1.l5.m1.8.8.2.2.1.2.cmml">t</mi><mo id="alg1.l5.m1.8.8.2.2.1.1" xref="alg1.l5.m1.8.8.2.2.1.1.cmml">−</mo><mn id="alg1.l5.m1.8.8.2.2.1.3" xref="alg1.l5.m1.8.8.2.2.1.3.cmml">1</mn></mrow></mrow></msubsup></mrow><mo id="alg1.l5.m1.10.10.2.2.2.3" xref="alg1.l5.m1.10.10.2.2.3a.cmml">,</mo><mrow id="alg1.l5.m1.10.10.2.2.2.2" xref="alg1.l5.m1.10.10.2.2.2.2.cmml"><msubsup id="alg1.l5.m1.10.10.2.2.2.2.2" xref="alg1.l5.m1.10.10.2.2.2.2.2.cmml"><mi id="alg1.l5.m1.10.10.2.2.2.2.2.2.2" xref="alg1.l5.m1.10.10.2.2.2.2.2.2.2.cmml">H</mi><mi id="alg1.l5.m1.10.10.2.2.2.2.2.3" xref="alg1.l5.m1.10.10.2.2.2.2.2.3.cmml">i</mi><mi id="alg1.l5.m1.10.10.2.2.2.2.2.2.3" xref="alg1.l5.m1.10.10.2.2.2.2.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.l5.m1.10.10.2.2.2.2.1" xref="alg1.l5.m1.10.10.2.2.2.2.1.cmml">←</mo><msup id="alg1.l5.m1.10.10.2.2.2.2.3" xref="alg1.l5.m1.10.10.2.2.2.2.3.cmml"><mi id="alg1.l5.m1.10.10.2.2.2.2.3.2" xref="alg1.l5.m1.10.10.2.2.2.2.3.2.cmml">H</mi><mrow id="alg1.l5.m1.10.10.2.2.2.2.3.3" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.cmml"><mi id="alg1.l5.m1.10.10.2.2.2.2.3.3.2" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.2.cmml">t</mi><mo id="alg1.l5.m1.10.10.2.2.2.2.3.3.1" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.1.cmml">−</mo><mn id="alg1.l5.m1.10.10.2.2.2.2.3.3.3" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.3.cmml">1</mn></mrow></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.10b"><apply id="alg1.l5.m1.10.10.3.cmml" xref="alg1.l5.m1.10.10.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.3a.cmml" xref="alg1.l5.m1.10.10.2.3">formulae-sequence</csymbol><apply id="alg1.l5.m1.9.9.1.1.cmml" xref="alg1.l5.m1.9.9.1.1"><ci id="alg1.l5.m1.9.9.1.1.1.cmml" xref="alg1.l5.m1.9.9.1.1.1">←</ci><apply id="alg1.l5.m1.9.9.1.1.2.cmml" xref="alg1.l5.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.9.9.1.1.2.1.cmml" xref="alg1.l5.m1.9.9.1.1.2">subscript</csymbol><apply id="alg1.l5.m1.9.9.1.1.2.2.cmml" xref="alg1.l5.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.9.9.1.1.2.2.1.cmml" xref="alg1.l5.m1.9.9.1.1.2">superscript</csymbol><ci id="alg1.l5.m1.9.9.1.1.2.2.2.cmml" xref="alg1.l5.m1.9.9.1.1.2.2.2">𝑊</ci><list id="alg1.l5.m1.2.2.2.3.cmml" xref="alg1.l5.m1.2.2.2.4"><ci id="alg1.l5.m1.1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1.1">𝑔</ci><ci id="alg1.l5.m1.2.2.2.2.cmml" xref="alg1.l5.m1.2.2.2.2">𝑡</ci></list></apply><ci id="alg1.l5.m1.9.9.1.1.2.3.cmml" xref="alg1.l5.m1.9.9.1.1.2.3">𝑖</ci></apply><apply id="alg1.l5.m1.9.9.1.1.3.cmml" xref="alg1.l5.m1.9.9.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.9.9.1.1.3.1.cmml" xref="alg1.l5.m1.9.9.1.1.3">superscript</csymbol><ci id="alg1.l5.m1.9.9.1.1.3.2.cmml" xref="alg1.l5.m1.9.9.1.1.3.2">𝑊</ci><list id="alg1.l5.m1.4.4.2.3.cmml" xref="alg1.l5.m1.4.4.2.2"><ci id="alg1.l5.m1.3.3.1.1.cmml" xref="alg1.l5.m1.3.3.1.1">𝑔</ci><apply id="alg1.l5.m1.4.4.2.2.1.cmml" xref="alg1.l5.m1.4.4.2.2.1"><minus id="alg1.l5.m1.4.4.2.2.1.1.cmml" xref="alg1.l5.m1.4.4.2.2.1.1"></minus><ci id="alg1.l5.m1.4.4.2.2.1.2.cmml" xref="alg1.l5.m1.4.4.2.2.1.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.4.4.2.2.1.3.cmml" xref="alg1.l5.m1.4.4.2.2.1.3">1</cn></apply></list></apply></apply><apply id="alg1.l5.m1.10.10.2.2.3.cmml" xref="alg1.l5.m1.10.10.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.3a.cmml" xref="alg1.l5.m1.10.10.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l5.m1.10.10.2.2.1.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1"><ci id="alg1.l5.m1.10.10.2.2.1.1.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.1">←</ci><apply id="alg1.l5.m1.10.10.2.2.1.1.2.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.1.1.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2">subscript</csymbol><apply id="alg1.l5.m1.10.10.2.2.1.1.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.1.1.2.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2">superscript</csymbol><ci id="alg1.l5.m1.10.10.2.2.1.1.2.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2.2.2">𝑊</ci><list id="alg1.l5.m1.6.6.2.3.cmml" xref="alg1.l5.m1.6.6.2.4"><ci id="alg1.l5.m1.5.5.1.1.cmml" xref="alg1.l5.m1.5.5.1.1">𝑝</ci><ci id="alg1.l5.m1.6.6.2.2.cmml" xref="alg1.l5.m1.6.6.2.2">𝑡</ci></list></apply><ci id="alg1.l5.m1.10.10.2.2.1.1.2.3.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.2.3">𝑖</ci></apply><apply id="alg1.l5.m1.10.10.2.2.1.1.3.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.1.1.3.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3">subscript</csymbol><apply id="alg1.l5.m1.10.10.2.2.1.1.3.2.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.1.1.3.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3">superscript</csymbol><ci id="alg1.l5.m1.10.10.2.2.1.1.3.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3.2.2">𝑊</ci><list id="alg1.l5.m1.8.8.2.3.cmml" xref="alg1.l5.m1.8.8.2.2"><ci id="alg1.l5.m1.7.7.1.1.cmml" xref="alg1.l5.m1.7.7.1.1">𝑝</ci><apply id="alg1.l5.m1.8.8.2.2.1.cmml" xref="alg1.l5.m1.8.8.2.2.1"><minus id="alg1.l5.m1.8.8.2.2.1.1.cmml" xref="alg1.l5.m1.8.8.2.2.1.1"></minus><ci id="alg1.l5.m1.8.8.2.2.1.2.cmml" xref="alg1.l5.m1.8.8.2.2.1.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.8.8.2.2.1.3.cmml" xref="alg1.l5.m1.8.8.2.2.1.3">1</cn></apply></list></apply><ci id="alg1.l5.m1.10.10.2.2.1.1.3.3.cmml" xref="alg1.l5.m1.10.10.2.2.1.1.3.3">𝑖</ci></apply></apply><apply id="alg1.l5.m1.10.10.2.2.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2"><ci id="alg1.l5.m1.10.10.2.2.2.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.1">←</ci><apply id="alg1.l5.m1.10.10.2.2.2.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.2.2.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2">subscript</csymbol><apply id="alg1.l5.m1.10.10.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.2.2.2.2.1.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2">superscript</csymbol><ci id="alg1.l5.m1.10.10.2.2.2.2.2.2.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2.2.2">𝐻</ci><ci id="alg1.l5.m1.10.10.2.2.2.2.2.2.3.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="alg1.l5.m1.10.10.2.2.2.2.2.3.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.2.3">𝑖</ci></apply><apply id="alg1.l5.m1.10.10.2.2.2.2.3.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l5.m1.10.10.2.2.2.2.3.1.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3">superscript</csymbol><ci id="alg1.l5.m1.10.10.2.2.2.2.3.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3.2">𝐻</ci><apply id="alg1.l5.m1.10.10.2.2.2.2.3.3.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3.3"><minus id="alg1.l5.m1.10.10.2.2.2.2.3.3.1.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.1"></minus><ci id="alg1.l5.m1.10.10.2.2.2.2.3.3.2.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.2">𝑡</ci><cn type="integer" id="alg1.l5.m1.10.10.2.2.2.2.3.3.3.cmml" xref="alg1.l5.m1.10.10.2.2.2.2.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.10c">W^{g,t}_{i}\leftarrow{W}^{g,t-1},W^{p,t}_{i}\leftarrow{W}^{p,t-1}_{i},H^{t}_{i}\leftarrow{H}^{t-1}</annotation></semantics></math>;

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>        <span id="alg1.l6.2" class="ltx_text ltx_font_bold">for</span> each epoch <math id="alg1.l6.m1.3" class="ltx_Math" alttext="e=1,\dots,E" display="inline"><semantics id="alg1.l6.m1.3a"><mrow id="alg1.l6.m1.3.4" xref="alg1.l6.m1.3.4.cmml"><mi id="alg1.l6.m1.3.4.2" xref="alg1.l6.m1.3.4.2.cmml">e</mi><mo id="alg1.l6.m1.3.4.1" xref="alg1.l6.m1.3.4.1.cmml">=</mo><mrow id="alg1.l6.m1.3.4.3.2" xref="alg1.l6.m1.3.4.3.1.cmml"><mn id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">1</mn><mo id="alg1.l6.m1.3.4.3.2.1" xref="alg1.l6.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml">…</mi><mo id="alg1.l6.m1.3.4.3.2.2" xref="alg1.l6.m1.3.4.3.1.cmml">,</mo><mi id="alg1.l6.m1.3.3" xref="alg1.l6.m1.3.3.cmml">E</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.3b"><apply id="alg1.l6.m1.3.4.cmml" xref="alg1.l6.m1.3.4"><eq id="alg1.l6.m1.3.4.1.cmml" xref="alg1.l6.m1.3.4.1"></eq><ci id="alg1.l6.m1.3.4.2.cmml" xref="alg1.l6.m1.3.4.2">𝑒</ci><list id="alg1.l6.m1.3.4.3.1.cmml" xref="alg1.l6.m1.3.4.3.2"><cn type="integer" id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">1</cn><ci id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2">…</ci><ci id="alg1.l6.m1.3.3.cmml" xref="alg1.l6.m1.3.3">𝐸</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.3c">e=1,\dots,E</annotation></semantics></math> <span id="alg1.l6.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>           <span id="alg1.l7.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l7.m1.2" class="ltx_Math" alttext="({x}_{k},{y}_{k})\in\mathcal{D}_{i}" display="inline"><semantics id="alg1.l7.m1.2a"><mrow id="alg1.l7.m1.2.2" xref="alg1.l7.m1.2.2.cmml"><mrow id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.3.cmml"><mo stretchy="false" id="alg1.l7.m1.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.3.cmml">(</mo><msub id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.2.cmml">x</mi><mi id="alg1.l7.m1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="alg1.l7.m1.2.2.2.2.4" xref="alg1.l7.m1.2.2.2.3.cmml">,</mo><msub id="alg1.l7.m1.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.cmml"><mi id="alg1.l7.m1.2.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.2.cmml">y</mi><mi id="alg1.l7.m1.2.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.2.2.3.cmml">k</mi></msub><mo stretchy="false" id="alg1.l7.m1.2.2.2.2.5" xref="alg1.l7.m1.2.2.2.3.cmml">)</mo></mrow><mo id="alg1.l7.m1.2.2.3" xref="alg1.l7.m1.2.2.3.cmml">∈</mo><msub id="alg1.l7.m1.2.2.4" xref="alg1.l7.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l7.m1.2.2.4.2" xref="alg1.l7.m1.2.2.4.2.cmml">𝒟</mi><mi id="alg1.l7.m1.2.2.4.3" xref="alg1.l7.m1.2.2.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.2b"><apply id="alg1.l7.m1.2.2.cmml" xref="alg1.l7.m1.2.2"><in id="alg1.l7.m1.2.2.3.cmml" xref="alg1.l7.m1.2.2.3"></in><interval closure="open" id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2"><apply id="alg1.l7.m1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.2">𝑥</ci><ci id="alg1.l7.m1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.3">𝑘</ci></apply><apply id="alg1.l7.m1.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.2.2.2.1.cmml" xref="alg1.l7.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.l7.m1.2.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2.2">𝑦</ci><ci id="alg1.l7.m1.2.2.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2.2.3">𝑘</ci></apply></interval><apply id="alg1.l7.m1.2.2.4.cmml" xref="alg1.l7.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.4.1.cmml" xref="alg1.l7.m1.2.2.4">subscript</csymbol><ci id="alg1.l7.m1.2.2.4.2.cmml" xref="alg1.l7.m1.2.2.4.2">𝒟</ci><ci id="alg1.l7.m1.2.2.4.3.cmml" xref="alg1.l7.m1.2.2.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.2c">({x}_{k},{y}_{k})\in\mathcal{D}_{i}</annotation></semantics></math> <span id="alg1.l7.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>              <math id="alg1.l8.m1.5" class="ltx_Math" alttext="{\phi_{i,k}^{g}\leftarrow({x}_{k};{W}^{g}_{i},{P}^{g})}" display="inline"><semantics id="alg1.l8.m1.5a"><mrow id="alg1.l8.m1.5.5" xref="alg1.l8.m1.5.5.cmml"><msubsup id="alg1.l8.m1.5.5.5" xref="alg1.l8.m1.5.5.5.cmml"><mi id="alg1.l8.m1.5.5.5.2.2" xref="alg1.l8.m1.5.5.5.2.2.cmml">ϕ</mi><mrow id="alg1.l8.m1.2.2.2.4" xref="alg1.l8.m1.2.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l8.m1.2.2.2.4.1" xref="alg1.l8.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l8.m1.2.2.2.2" xref="alg1.l8.m1.2.2.2.2.cmml">k</mi></mrow><mi id="alg1.l8.m1.5.5.5.3" xref="alg1.l8.m1.5.5.5.3.cmml">g</mi></msubsup><mo stretchy="false" id="alg1.l8.m1.5.5.4" xref="alg1.l8.m1.5.5.4.cmml">←</mo><mrow id="alg1.l8.m1.5.5.3.3" xref="alg1.l8.m1.5.5.3.4.cmml"><mo stretchy="false" id="alg1.l8.m1.5.5.3.3.4" xref="alg1.l8.m1.5.5.3.4.cmml">(</mo><msub id="alg1.l8.m1.3.3.1.1.1" xref="alg1.l8.m1.3.3.1.1.1.cmml"><mi id="alg1.l8.m1.3.3.1.1.1.2" xref="alg1.l8.m1.3.3.1.1.1.2.cmml">x</mi><mi id="alg1.l8.m1.3.3.1.1.1.3" xref="alg1.l8.m1.3.3.1.1.1.3.cmml">k</mi></msub><mo id="alg1.l8.m1.5.5.3.3.5" xref="alg1.l8.m1.5.5.3.4.cmml">;</mo><msubsup id="alg1.l8.m1.4.4.2.2.2" xref="alg1.l8.m1.4.4.2.2.2.cmml"><mi id="alg1.l8.m1.4.4.2.2.2.2.2" xref="alg1.l8.m1.4.4.2.2.2.2.2.cmml">W</mi><mi id="alg1.l8.m1.4.4.2.2.2.3" xref="alg1.l8.m1.4.4.2.2.2.3.cmml">i</mi><mi id="alg1.l8.m1.4.4.2.2.2.2.3" xref="alg1.l8.m1.4.4.2.2.2.2.3.cmml">g</mi></msubsup><mo id="alg1.l8.m1.5.5.3.3.6" xref="alg1.l8.m1.5.5.3.4.cmml">,</mo><msup id="alg1.l8.m1.5.5.3.3.3" xref="alg1.l8.m1.5.5.3.3.3.cmml"><mi id="alg1.l8.m1.5.5.3.3.3.2" xref="alg1.l8.m1.5.5.3.3.3.2.cmml">P</mi><mi id="alg1.l8.m1.5.5.3.3.3.3" xref="alg1.l8.m1.5.5.3.3.3.3.cmml">g</mi></msup><mo stretchy="false" id="alg1.l8.m1.5.5.3.3.7" xref="alg1.l8.m1.5.5.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.5b"><apply id="alg1.l8.m1.5.5.cmml" xref="alg1.l8.m1.5.5"><ci id="alg1.l8.m1.5.5.4.cmml" xref="alg1.l8.m1.5.5.4">←</ci><apply id="alg1.l8.m1.5.5.5.cmml" xref="alg1.l8.m1.5.5.5"><csymbol cd="ambiguous" id="alg1.l8.m1.5.5.5.1.cmml" xref="alg1.l8.m1.5.5.5">superscript</csymbol><apply id="alg1.l8.m1.5.5.5.2.cmml" xref="alg1.l8.m1.5.5.5"><csymbol cd="ambiguous" id="alg1.l8.m1.5.5.5.2.1.cmml" xref="alg1.l8.m1.5.5.5">subscript</csymbol><ci id="alg1.l8.m1.5.5.5.2.2.cmml" xref="alg1.l8.m1.5.5.5.2.2">italic-ϕ</ci><list id="alg1.l8.m1.2.2.2.3.cmml" xref="alg1.l8.m1.2.2.2.4"><ci id="alg1.l8.m1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1">𝑖</ci><ci id="alg1.l8.m1.2.2.2.2.cmml" xref="alg1.l8.m1.2.2.2.2">𝑘</ci></list></apply><ci id="alg1.l8.m1.5.5.5.3.cmml" xref="alg1.l8.m1.5.5.5.3">𝑔</ci></apply><list id="alg1.l8.m1.5.5.3.4.cmml" xref="alg1.l8.m1.5.5.3.3"><apply id="alg1.l8.m1.3.3.1.1.1.cmml" xref="alg1.l8.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.3.3.1.1.1.1.cmml" xref="alg1.l8.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l8.m1.3.3.1.1.1.2.cmml" xref="alg1.l8.m1.3.3.1.1.1.2">𝑥</ci><ci id="alg1.l8.m1.3.3.1.1.1.3.cmml" xref="alg1.l8.m1.3.3.1.1.1.3">𝑘</ci></apply><apply id="alg1.l8.m1.4.4.2.2.2.cmml" xref="alg1.l8.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.4.4.2.2.2.1.cmml" xref="alg1.l8.m1.4.4.2.2.2">subscript</csymbol><apply id="alg1.l8.m1.4.4.2.2.2.2.cmml" xref="alg1.l8.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.4.4.2.2.2.2.1.cmml" xref="alg1.l8.m1.4.4.2.2.2">superscript</csymbol><ci id="alg1.l8.m1.4.4.2.2.2.2.2.cmml" xref="alg1.l8.m1.4.4.2.2.2.2.2">𝑊</ci><ci id="alg1.l8.m1.4.4.2.2.2.2.3.cmml" xref="alg1.l8.m1.4.4.2.2.2.2.3">𝑔</ci></apply><ci id="alg1.l8.m1.4.4.2.2.2.3.cmml" xref="alg1.l8.m1.4.4.2.2.2.3">𝑖</ci></apply><apply id="alg1.l8.m1.5.5.3.3.3.cmml" xref="alg1.l8.m1.5.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l8.m1.5.5.3.3.3.1.cmml" xref="alg1.l8.m1.5.5.3.3.3">superscript</csymbol><ci id="alg1.l8.m1.5.5.3.3.3.2.cmml" xref="alg1.l8.m1.5.5.3.3.3.2">𝑃</ci><ci id="alg1.l8.m1.5.5.3.3.3.3.cmml" xref="alg1.l8.m1.5.5.3.3.3.3">𝑔</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.5c">{\phi_{i,k}^{g}\leftarrow({x}_{k};{W}^{g}_{i},{P}^{g})}</annotation></semantics></math> in Eq. (8),

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>              <math id="alg1.l9.m1.5" class="ltx_Math" alttext="{\phi_{i,k}^{p}\leftarrow({x}_{k};{W}^{p}_{i},{P}^{p}_{i})}" display="inline"><semantics id="alg1.l9.m1.5a"><mrow id="alg1.l9.m1.5.5" xref="alg1.l9.m1.5.5.cmml"><msubsup id="alg1.l9.m1.5.5.5" xref="alg1.l9.m1.5.5.5.cmml"><mi id="alg1.l9.m1.5.5.5.2.2" xref="alg1.l9.m1.5.5.5.2.2.cmml">ϕ</mi><mrow id="alg1.l9.m1.2.2.2.4" xref="alg1.l9.m1.2.2.2.3.cmml"><mi id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l9.m1.2.2.2.4.1" xref="alg1.l9.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml">k</mi></mrow><mi id="alg1.l9.m1.5.5.5.3" xref="alg1.l9.m1.5.5.5.3.cmml">p</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.5.5.4" xref="alg1.l9.m1.5.5.4.cmml">←</mo><mrow id="alg1.l9.m1.5.5.3.3" xref="alg1.l9.m1.5.5.3.4.cmml"><mo stretchy="false" id="alg1.l9.m1.5.5.3.3.4" xref="alg1.l9.m1.5.5.3.4.cmml">(</mo><msub id="alg1.l9.m1.3.3.1.1.1" xref="alg1.l9.m1.3.3.1.1.1.cmml"><mi id="alg1.l9.m1.3.3.1.1.1.2" xref="alg1.l9.m1.3.3.1.1.1.2.cmml">x</mi><mi id="alg1.l9.m1.3.3.1.1.1.3" xref="alg1.l9.m1.3.3.1.1.1.3.cmml">k</mi></msub><mo id="alg1.l9.m1.5.5.3.3.5" xref="alg1.l9.m1.5.5.3.4.cmml">;</mo><msubsup id="alg1.l9.m1.4.4.2.2.2" xref="alg1.l9.m1.4.4.2.2.2.cmml"><mi id="alg1.l9.m1.4.4.2.2.2.2.2" xref="alg1.l9.m1.4.4.2.2.2.2.2.cmml">W</mi><mi id="alg1.l9.m1.4.4.2.2.2.3" xref="alg1.l9.m1.4.4.2.2.2.3.cmml">i</mi><mi id="alg1.l9.m1.4.4.2.2.2.2.3" xref="alg1.l9.m1.4.4.2.2.2.2.3.cmml">p</mi></msubsup><mo id="alg1.l9.m1.5.5.3.3.6" xref="alg1.l9.m1.5.5.3.4.cmml">,</mo><msubsup id="alg1.l9.m1.5.5.3.3.3" xref="alg1.l9.m1.5.5.3.3.3.cmml"><mi id="alg1.l9.m1.5.5.3.3.3.2.2" xref="alg1.l9.m1.5.5.3.3.3.2.2.cmml">P</mi><mi id="alg1.l9.m1.5.5.3.3.3.3" xref="alg1.l9.m1.5.5.3.3.3.3.cmml">i</mi><mi id="alg1.l9.m1.5.5.3.3.3.2.3" xref="alg1.l9.m1.5.5.3.3.3.2.3.cmml">p</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.5.5.3.3.7" xref="alg1.l9.m1.5.5.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.5b"><apply id="alg1.l9.m1.5.5.cmml" xref="alg1.l9.m1.5.5"><ci id="alg1.l9.m1.5.5.4.cmml" xref="alg1.l9.m1.5.5.4">←</ci><apply id="alg1.l9.m1.5.5.5.cmml" xref="alg1.l9.m1.5.5.5"><csymbol cd="ambiguous" id="alg1.l9.m1.5.5.5.1.cmml" xref="alg1.l9.m1.5.5.5">superscript</csymbol><apply id="alg1.l9.m1.5.5.5.2.cmml" xref="alg1.l9.m1.5.5.5"><csymbol cd="ambiguous" id="alg1.l9.m1.5.5.5.2.1.cmml" xref="alg1.l9.m1.5.5.5">subscript</csymbol><ci id="alg1.l9.m1.5.5.5.2.2.cmml" xref="alg1.l9.m1.5.5.5.2.2">italic-ϕ</ci><list id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.4"><ci id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">𝑖</ci><ci id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2">𝑘</ci></list></apply><ci id="alg1.l9.m1.5.5.5.3.cmml" xref="alg1.l9.m1.5.5.5.3">𝑝</ci></apply><list id="alg1.l9.m1.5.5.3.4.cmml" xref="alg1.l9.m1.5.5.3.3"><apply id="alg1.l9.m1.3.3.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.3.3.1.1.1.1.cmml" xref="alg1.l9.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.3.3.1.1.1.2.cmml" xref="alg1.l9.m1.3.3.1.1.1.2">𝑥</ci><ci id="alg1.l9.m1.3.3.1.1.1.3.cmml" xref="alg1.l9.m1.3.3.1.1.1.3">𝑘</ci></apply><apply id="alg1.l9.m1.4.4.2.2.2.cmml" xref="alg1.l9.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.4.4.2.2.2.1.cmml" xref="alg1.l9.m1.4.4.2.2.2">subscript</csymbol><apply id="alg1.l9.m1.4.4.2.2.2.2.cmml" xref="alg1.l9.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.4.4.2.2.2.2.1.cmml" xref="alg1.l9.m1.4.4.2.2.2">superscript</csymbol><ci id="alg1.l9.m1.4.4.2.2.2.2.2.cmml" xref="alg1.l9.m1.4.4.2.2.2.2.2">𝑊</ci><ci id="alg1.l9.m1.4.4.2.2.2.2.3.cmml" xref="alg1.l9.m1.4.4.2.2.2.2.3">𝑝</ci></apply><ci id="alg1.l9.m1.4.4.2.2.2.3.cmml" xref="alg1.l9.m1.4.4.2.2.2.3">𝑖</ci></apply><apply id="alg1.l9.m1.5.5.3.3.3.cmml" xref="alg1.l9.m1.5.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.5.5.3.3.3.1.cmml" xref="alg1.l9.m1.5.5.3.3.3">subscript</csymbol><apply id="alg1.l9.m1.5.5.3.3.3.2.cmml" xref="alg1.l9.m1.5.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l9.m1.5.5.3.3.3.2.1.cmml" xref="alg1.l9.m1.5.5.3.3.3">superscript</csymbol><ci id="alg1.l9.m1.5.5.3.3.3.2.2.cmml" xref="alg1.l9.m1.5.5.3.3.3.2.2">𝑃</ci><ci id="alg1.l9.m1.5.5.3.3.3.2.3.cmml" xref="alg1.l9.m1.5.5.3.3.3.2.3">𝑝</ci></apply><ci id="alg1.l9.m1.5.5.3.3.3.3.cmml" xref="alg1.l9.m1.5.5.3.3.3.3">𝑖</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.5c">{\phi_{i,k}^{p}\leftarrow({x}_{k};{W}^{p}_{i},{P}^{p}_{i})}</annotation></semantics></math> in Eq. (8),

</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>              <math id="alg1.l10.m1.7" class="ltx_Math" alttext="{\phi^{f}_{i,k}\leftarrow\alpha\phi_{i,k}^{g}+(1-\alpha)\phi_{i,k}^{p}}" display="inline"><semantics id="alg1.l10.m1.7a"><mrow id="alg1.l10.m1.7.7" xref="alg1.l10.m1.7.7.cmml"><msubsup id="alg1.l10.m1.7.7.3" xref="alg1.l10.m1.7.7.3.cmml"><mi id="alg1.l10.m1.7.7.3.2.2" xref="alg1.l10.m1.7.7.3.2.2.cmml">ϕ</mi><mrow id="alg1.l10.m1.2.2.2.4" xref="alg1.l10.m1.2.2.2.3.cmml"><mi id="alg1.l10.m1.1.1.1.1" xref="alg1.l10.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l10.m1.2.2.2.4.1" xref="alg1.l10.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l10.m1.2.2.2.2" xref="alg1.l10.m1.2.2.2.2.cmml">k</mi></mrow><mi id="alg1.l10.m1.7.7.3.2.3" xref="alg1.l10.m1.7.7.3.2.3.cmml">f</mi></msubsup><mo stretchy="false" id="alg1.l10.m1.7.7.2" xref="alg1.l10.m1.7.7.2.cmml">←</mo><mrow id="alg1.l10.m1.7.7.1" xref="alg1.l10.m1.7.7.1.cmml"><mrow id="alg1.l10.m1.7.7.1.3" xref="alg1.l10.m1.7.7.1.3.cmml"><mi id="alg1.l10.m1.7.7.1.3.2" xref="alg1.l10.m1.7.7.1.3.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m1.7.7.1.3.1" xref="alg1.l10.m1.7.7.1.3.1.cmml">​</mo><msubsup id="alg1.l10.m1.7.7.1.3.3" xref="alg1.l10.m1.7.7.1.3.3.cmml"><mi id="alg1.l10.m1.7.7.1.3.3.2.2" xref="alg1.l10.m1.7.7.1.3.3.2.2.cmml">ϕ</mi><mrow id="alg1.l10.m1.4.4.2.4" xref="alg1.l10.m1.4.4.2.3.cmml"><mi id="alg1.l10.m1.3.3.1.1" xref="alg1.l10.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l10.m1.4.4.2.4.1" xref="alg1.l10.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l10.m1.4.4.2.2" xref="alg1.l10.m1.4.4.2.2.cmml">k</mi></mrow><mi id="alg1.l10.m1.7.7.1.3.3.3" xref="alg1.l10.m1.7.7.1.3.3.3.cmml">g</mi></msubsup></mrow><mo id="alg1.l10.m1.7.7.1.2" xref="alg1.l10.m1.7.7.1.2.cmml">+</mo><mrow id="alg1.l10.m1.7.7.1.1" xref="alg1.l10.m1.7.7.1.1.cmml"><mrow id="alg1.l10.m1.7.7.1.1.1.1" xref="alg1.l10.m1.7.7.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l10.m1.7.7.1.1.1.1.2" xref="alg1.l10.m1.7.7.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l10.m1.7.7.1.1.1.1.1" xref="alg1.l10.m1.7.7.1.1.1.1.1.cmml"><mn id="alg1.l10.m1.7.7.1.1.1.1.1.2" xref="alg1.l10.m1.7.7.1.1.1.1.1.2.cmml">1</mn><mo id="alg1.l10.m1.7.7.1.1.1.1.1.1" xref="alg1.l10.m1.7.7.1.1.1.1.1.1.cmml">−</mo><mi id="alg1.l10.m1.7.7.1.1.1.1.1.3" xref="alg1.l10.m1.7.7.1.1.1.1.1.3.cmml">α</mi></mrow><mo stretchy="false" id="alg1.l10.m1.7.7.1.1.1.1.3" xref="alg1.l10.m1.7.7.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.l10.m1.7.7.1.1.2" xref="alg1.l10.m1.7.7.1.1.2.cmml">​</mo><msubsup id="alg1.l10.m1.7.7.1.1.3" xref="alg1.l10.m1.7.7.1.1.3.cmml"><mi id="alg1.l10.m1.7.7.1.1.3.2.2" xref="alg1.l10.m1.7.7.1.1.3.2.2.cmml">ϕ</mi><mrow id="alg1.l10.m1.6.6.2.4" xref="alg1.l10.m1.6.6.2.3.cmml"><mi id="alg1.l10.m1.5.5.1.1" xref="alg1.l10.m1.5.5.1.1.cmml">i</mi><mo id="alg1.l10.m1.6.6.2.4.1" xref="alg1.l10.m1.6.6.2.3.cmml">,</mo><mi id="alg1.l10.m1.6.6.2.2" xref="alg1.l10.m1.6.6.2.2.cmml">k</mi></mrow><mi id="alg1.l10.m1.7.7.1.1.3.3" xref="alg1.l10.m1.7.7.1.1.3.3.cmml">p</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.7b"><apply id="alg1.l10.m1.7.7.cmml" xref="alg1.l10.m1.7.7"><ci id="alg1.l10.m1.7.7.2.cmml" xref="alg1.l10.m1.7.7.2">←</ci><apply id="alg1.l10.m1.7.7.3.cmml" xref="alg1.l10.m1.7.7.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.3.1.cmml" xref="alg1.l10.m1.7.7.3">subscript</csymbol><apply id="alg1.l10.m1.7.7.3.2.cmml" xref="alg1.l10.m1.7.7.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.3.2.1.cmml" xref="alg1.l10.m1.7.7.3">superscript</csymbol><ci id="alg1.l10.m1.7.7.3.2.2.cmml" xref="alg1.l10.m1.7.7.3.2.2">italic-ϕ</ci><ci id="alg1.l10.m1.7.7.3.2.3.cmml" xref="alg1.l10.m1.7.7.3.2.3">𝑓</ci></apply><list id="alg1.l10.m1.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.4"><ci id="alg1.l10.m1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1">𝑖</ci><ci id="alg1.l10.m1.2.2.2.2.cmml" xref="alg1.l10.m1.2.2.2.2">𝑘</ci></list></apply><apply id="alg1.l10.m1.7.7.1.cmml" xref="alg1.l10.m1.7.7.1"><plus id="alg1.l10.m1.7.7.1.2.cmml" xref="alg1.l10.m1.7.7.1.2"></plus><apply id="alg1.l10.m1.7.7.1.3.cmml" xref="alg1.l10.m1.7.7.1.3"><times id="alg1.l10.m1.7.7.1.3.1.cmml" xref="alg1.l10.m1.7.7.1.3.1"></times><ci id="alg1.l10.m1.7.7.1.3.2.cmml" xref="alg1.l10.m1.7.7.1.3.2">𝛼</ci><apply id="alg1.l10.m1.7.7.1.3.3.cmml" xref="alg1.l10.m1.7.7.1.3.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.1.3.3.1.cmml" xref="alg1.l10.m1.7.7.1.3.3">superscript</csymbol><apply id="alg1.l10.m1.7.7.1.3.3.2.cmml" xref="alg1.l10.m1.7.7.1.3.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.1.3.3.2.1.cmml" xref="alg1.l10.m1.7.7.1.3.3">subscript</csymbol><ci id="alg1.l10.m1.7.7.1.3.3.2.2.cmml" xref="alg1.l10.m1.7.7.1.3.3.2.2">italic-ϕ</ci><list id="alg1.l10.m1.4.4.2.3.cmml" xref="alg1.l10.m1.4.4.2.4"><ci id="alg1.l10.m1.3.3.1.1.cmml" xref="alg1.l10.m1.3.3.1.1">𝑖</ci><ci id="alg1.l10.m1.4.4.2.2.cmml" xref="alg1.l10.m1.4.4.2.2">𝑘</ci></list></apply><ci id="alg1.l10.m1.7.7.1.3.3.3.cmml" xref="alg1.l10.m1.7.7.1.3.3.3">𝑔</ci></apply></apply><apply id="alg1.l10.m1.7.7.1.1.cmml" xref="alg1.l10.m1.7.7.1.1"><times id="alg1.l10.m1.7.7.1.1.2.cmml" xref="alg1.l10.m1.7.7.1.1.2"></times><apply id="alg1.l10.m1.7.7.1.1.1.1.1.cmml" xref="alg1.l10.m1.7.7.1.1.1.1"><minus id="alg1.l10.m1.7.7.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.7.7.1.1.1.1.1.1"></minus><cn type="integer" id="alg1.l10.m1.7.7.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.7.7.1.1.1.1.1.2">1</cn><ci id="alg1.l10.m1.7.7.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.7.7.1.1.1.1.1.3">𝛼</ci></apply><apply id="alg1.l10.m1.7.7.1.1.3.cmml" xref="alg1.l10.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.1.1.3.1.cmml" xref="alg1.l10.m1.7.7.1.1.3">superscript</csymbol><apply id="alg1.l10.m1.7.7.1.1.3.2.cmml" xref="alg1.l10.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.7.7.1.1.3.2.1.cmml" xref="alg1.l10.m1.7.7.1.1.3">subscript</csymbol><ci id="alg1.l10.m1.7.7.1.1.3.2.2.cmml" xref="alg1.l10.m1.7.7.1.1.3.2.2">italic-ϕ</ci><list id="alg1.l10.m1.6.6.2.3.cmml" xref="alg1.l10.m1.6.6.2.4"><ci id="alg1.l10.m1.5.5.1.1.cmml" xref="alg1.l10.m1.5.5.1.1">𝑖</ci><ci id="alg1.l10.m1.6.6.2.2.cmml" xref="alg1.l10.m1.6.6.2.2">𝑘</ci></list></apply><ci id="alg1.l10.m1.7.7.1.1.3.3.cmml" xref="alg1.l10.m1.7.7.1.1.3.3">𝑝</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.7c">{\phi^{f}_{i,k}\leftarrow\alpha\phi_{i,k}^{g}+(1-\alpha)\phi_{i,k}^{p}}</annotation></semantics></math>;

</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>              Compute loss <math id="alg1.l11.m1.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="alg1.l11.m1.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><ci id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\mathcal{L}</annotation></semantics></math> by Eq. (12);

</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>              <math id="alg1.l12.m1.4" class="ltx_Math" alttext="{W}^{g,t}_{i}\leftarrow{W}^{g,t}_{i}-\eta\nabla\mathcal{L}" display="inline"><semantics id="alg1.l12.m1.4a"><mrow id="alg1.l12.m1.4.5" xref="alg1.l12.m1.4.5.cmml"><msubsup id="alg1.l12.m1.4.5.2" xref="alg1.l12.m1.4.5.2.cmml"><mi id="alg1.l12.m1.4.5.2.2.2" xref="alg1.l12.m1.4.5.2.2.2.cmml">W</mi><mi id="alg1.l12.m1.4.5.2.3" xref="alg1.l12.m1.4.5.2.3.cmml">i</mi><mrow id="alg1.l12.m1.2.2.2.4" xref="alg1.l12.m1.2.2.2.3.cmml"><mi id="alg1.l12.m1.1.1.1.1" xref="alg1.l12.m1.1.1.1.1.cmml">g</mi><mo id="alg1.l12.m1.2.2.2.4.1" xref="alg1.l12.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l12.m1.2.2.2.2" xref="alg1.l12.m1.2.2.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="alg1.l12.m1.4.5.1" xref="alg1.l12.m1.4.5.1.cmml">←</mo><mrow id="alg1.l12.m1.4.5.3" xref="alg1.l12.m1.4.5.3.cmml"><msubsup id="alg1.l12.m1.4.5.3.2" xref="alg1.l12.m1.4.5.3.2.cmml"><mi id="alg1.l12.m1.4.5.3.2.2.2" xref="alg1.l12.m1.4.5.3.2.2.2.cmml">W</mi><mi id="alg1.l12.m1.4.5.3.2.3" xref="alg1.l12.m1.4.5.3.2.3.cmml">i</mi><mrow id="alg1.l12.m1.4.4.2.4" xref="alg1.l12.m1.4.4.2.3.cmml"><mi id="alg1.l12.m1.3.3.1.1" xref="alg1.l12.m1.3.3.1.1.cmml">g</mi><mo id="alg1.l12.m1.4.4.2.4.1" xref="alg1.l12.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l12.m1.4.4.2.2" xref="alg1.l12.m1.4.4.2.2.cmml">t</mi></mrow></msubsup><mo id="alg1.l12.m1.4.5.3.1" xref="alg1.l12.m1.4.5.3.1.cmml">−</mo><mrow id="alg1.l12.m1.4.5.3.3" xref="alg1.l12.m1.4.5.3.3.cmml"><mi id="alg1.l12.m1.4.5.3.3.2" xref="alg1.l12.m1.4.5.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l12.m1.4.5.3.3.1" xref="alg1.l12.m1.4.5.3.3.1.cmml">​</mo><mrow id="alg1.l12.m1.4.5.3.3.3" xref="alg1.l12.m1.4.5.3.3.3.cmml"><mo rspace="0.167em" id="alg1.l12.m1.4.5.3.3.3.1" xref="alg1.l12.m1.4.5.3.3.3.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l12.m1.4.5.3.3.3.2" xref="alg1.l12.m1.4.5.3.3.3.2.cmml">ℒ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.4b"><apply id="alg1.l12.m1.4.5.cmml" xref="alg1.l12.m1.4.5"><ci id="alg1.l12.m1.4.5.1.cmml" xref="alg1.l12.m1.4.5.1">←</ci><apply id="alg1.l12.m1.4.5.2.cmml" xref="alg1.l12.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l12.m1.4.5.2.1.cmml" xref="alg1.l12.m1.4.5.2">subscript</csymbol><apply id="alg1.l12.m1.4.5.2.2.cmml" xref="alg1.l12.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l12.m1.4.5.2.2.1.cmml" xref="alg1.l12.m1.4.5.2">superscript</csymbol><ci id="alg1.l12.m1.4.5.2.2.2.cmml" xref="alg1.l12.m1.4.5.2.2.2">𝑊</ci><list id="alg1.l12.m1.2.2.2.3.cmml" xref="alg1.l12.m1.2.2.2.4"><ci id="alg1.l12.m1.1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1.1">𝑔</ci><ci id="alg1.l12.m1.2.2.2.2.cmml" xref="alg1.l12.m1.2.2.2.2">𝑡</ci></list></apply><ci id="alg1.l12.m1.4.5.2.3.cmml" xref="alg1.l12.m1.4.5.2.3">𝑖</ci></apply><apply id="alg1.l12.m1.4.5.3.cmml" xref="alg1.l12.m1.4.5.3"><minus id="alg1.l12.m1.4.5.3.1.cmml" xref="alg1.l12.m1.4.5.3.1"></minus><apply id="alg1.l12.m1.4.5.3.2.cmml" xref="alg1.l12.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l12.m1.4.5.3.2.1.cmml" xref="alg1.l12.m1.4.5.3.2">subscript</csymbol><apply id="alg1.l12.m1.4.5.3.2.2.cmml" xref="alg1.l12.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l12.m1.4.5.3.2.2.1.cmml" xref="alg1.l12.m1.4.5.3.2">superscript</csymbol><ci id="alg1.l12.m1.4.5.3.2.2.2.cmml" xref="alg1.l12.m1.4.5.3.2.2.2">𝑊</ci><list id="alg1.l12.m1.4.4.2.3.cmml" xref="alg1.l12.m1.4.4.2.4"><ci id="alg1.l12.m1.3.3.1.1.cmml" xref="alg1.l12.m1.3.3.1.1">𝑔</ci><ci id="alg1.l12.m1.4.4.2.2.cmml" xref="alg1.l12.m1.4.4.2.2">𝑡</ci></list></apply><ci id="alg1.l12.m1.4.5.3.2.3.cmml" xref="alg1.l12.m1.4.5.3.2.3">𝑖</ci></apply><apply id="alg1.l12.m1.4.5.3.3.cmml" xref="alg1.l12.m1.4.5.3.3"><times id="alg1.l12.m1.4.5.3.3.1.cmml" xref="alg1.l12.m1.4.5.3.3.1"></times><ci id="alg1.l12.m1.4.5.3.3.2.cmml" xref="alg1.l12.m1.4.5.3.3.2">𝜂</ci><apply id="alg1.l12.m1.4.5.3.3.3.cmml" xref="alg1.l12.m1.4.5.3.3.3"><ci id="alg1.l12.m1.4.5.3.3.3.1.cmml" xref="alg1.l12.m1.4.5.3.3.3.1">∇</ci><ci id="alg1.l12.m1.4.5.3.3.3.2.cmml" xref="alg1.l12.m1.4.5.3.3.3.2">ℒ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.4c">{W}^{g,t}_{i}\leftarrow{W}^{g,t}_{i}-\eta\nabla\mathcal{L}</annotation></semantics></math>;

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>              <math id="alg1.l13.m1.4" class="ltx_Math" alttext="{W}^{p,t}_{i}\leftarrow{W}^{p,t}_{i}-\eta\nabla\mathcal{L}" display="inline"><semantics id="alg1.l13.m1.4a"><mrow id="alg1.l13.m1.4.5" xref="alg1.l13.m1.4.5.cmml"><msubsup id="alg1.l13.m1.4.5.2" xref="alg1.l13.m1.4.5.2.cmml"><mi id="alg1.l13.m1.4.5.2.2.2" xref="alg1.l13.m1.4.5.2.2.2.cmml">W</mi><mi id="alg1.l13.m1.4.5.2.3" xref="alg1.l13.m1.4.5.2.3.cmml">i</mi><mrow id="alg1.l13.m1.2.2.2.4" xref="alg1.l13.m1.2.2.2.3.cmml"><mi id="alg1.l13.m1.1.1.1.1" xref="alg1.l13.m1.1.1.1.1.cmml">p</mi><mo id="alg1.l13.m1.2.2.2.4.1" xref="alg1.l13.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l13.m1.2.2.2.2" xref="alg1.l13.m1.2.2.2.2.cmml">t</mi></mrow></msubsup><mo stretchy="false" id="alg1.l13.m1.4.5.1" xref="alg1.l13.m1.4.5.1.cmml">←</mo><mrow id="alg1.l13.m1.4.5.3" xref="alg1.l13.m1.4.5.3.cmml"><msubsup id="alg1.l13.m1.4.5.3.2" xref="alg1.l13.m1.4.5.3.2.cmml"><mi id="alg1.l13.m1.4.5.3.2.2.2" xref="alg1.l13.m1.4.5.3.2.2.2.cmml">W</mi><mi id="alg1.l13.m1.4.5.3.2.3" xref="alg1.l13.m1.4.5.3.2.3.cmml">i</mi><mrow id="alg1.l13.m1.4.4.2.4" xref="alg1.l13.m1.4.4.2.3.cmml"><mi id="alg1.l13.m1.3.3.1.1" xref="alg1.l13.m1.3.3.1.1.cmml">p</mi><mo id="alg1.l13.m1.4.4.2.4.1" xref="alg1.l13.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l13.m1.4.4.2.2" xref="alg1.l13.m1.4.4.2.2.cmml">t</mi></mrow></msubsup><mo id="alg1.l13.m1.4.5.3.1" xref="alg1.l13.m1.4.5.3.1.cmml">−</mo><mrow id="alg1.l13.m1.4.5.3.3" xref="alg1.l13.m1.4.5.3.3.cmml"><mi id="alg1.l13.m1.4.5.3.3.2" xref="alg1.l13.m1.4.5.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l13.m1.4.5.3.3.1" xref="alg1.l13.m1.4.5.3.3.1.cmml">​</mo><mrow id="alg1.l13.m1.4.5.3.3.3" xref="alg1.l13.m1.4.5.3.3.3.cmml"><mo rspace="0.167em" id="alg1.l13.m1.4.5.3.3.3.1" xref="alg1.l13.m1.4.5.3.3.3.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l13.m1.4.5.3.3.3.2" xref="alg1.l13.m1.4.5.3.3.3.2.cmml">ℒ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.4b"><apply id="alg1.l13.m1.4.5.cmml" xref="alg1.l13.m1.4.5"><ci id="alg1.l13.m1.4.5.1.cmml" xref="alg1.l13.m1.4.5.1">←</ci><apply id="alg1.l13.m1.4.5.2.cmml" xref="alg1.l13.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l13.m1.4.5.2.1.cmml" xref="alg1.l13.m1.4.5.2">subscript</csymbol><apply id="alg1.l13.m1.4.5.2.2.cmml" xref="alg1.l13.m1.4.5.2"><csymbol cd="ambiguous" id="alg1.l13.m1.4.5.2.2.1.cmml" xref="alg1.l13.m1.4.5.2">superscript</csymbol><ci id="alg1.l13.m1.4.5.2.2.2.cmml" xref="alg1.l13.m1.4.5.2.2.2">𝑊</ci><list id="alg1.l13.m1.2.2.2.3.cmml" xref="alg1.l13.m1.2.2.2.4"><ci id="alg1.l13.m1.1.1.1.1.cmml" xref="alg1.l13.m1.1.1.1.1">𝑝</ci><ci id="alg1.l13.m1.2.2.2.2.cmml" xref="alg1.l13.m1.2.2.2.2">𝑡</ci></list></apply><ci id="alg1.l13.m1.4.5.2.3.cmml" xref="alg1.l13.m1.4.5.2.3">𝑖</ci></apply><apply id="alg1.l13.m1.4.5.3.cmml" xref="alg1.l13.m1.4.5.3"><minus id="alg1.l13.m1.4.5.3.1.cmml" xref="alg1.l13.m1.4.5.3.1"></minus><apply id="alg1.l13.m1.4.5.3.2.cmml" xref="alg1.l13.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l13.m1.4.5.3.2.1.cmml" xref="alg1.l13.m1.4.5.3.2">subscript</csymbol><apply id="alg1.l13.m1.4.5.3.2.2.cmml" xref="alg1.l13.m1.4.5.3.2"><csymbol cd="ambiguous" id="alg1.l13.m1.4.5.3.2.2.1.cmml" xref="alg1.l13.m1.4.5.3.2">superscript</csymbol><ci id="alg1.l13.m1.4.5.3.2.2.2.cmml" xref="alg1.l13.m1.4.5.3.2.2.2">𝑊</ci><list id="alg1.l13.m1.4.4.2.3.cmml" xref="alg1.l13.m1.4.4.2.4"><ci id="alg1.l13.m1.3.3.1.1.cmml" xref="alg1.l13.m1.3.3.1.1">𝑝</ci><ci id="alg1.l13.m1.4.4.2.2.cmml" xref="alg1.l13.m1.4.4.2.2">𝑡</ci></list></apply><ci id="alg1.l13.m1.4.5.3.2.3.cmml" xref="alg1.l13.m1.4.5.3.2.3">𝑖</ci></apply><apply id="alg1.l13.m1.4.5.3.3.cmml" xref="alg1.l13.m1.4.5.3.3"><times id="alg1.l13.m1.4.5.3.3.1.cmml" xref="alg1.l13.m1.4.5.3.3.1"></times><ci id="alg1.l13.m1.4.5.3.3.2.cmml" xref="alg1.l13.m1.4.5.3.3.2">𝜂</ci><apply id="alg1.l13.m1.4.5.3.3.3.cmml" xref="alg1.l13.m1.4.5.3.3.3"><ci id="alg1.l13.m1.4.5.3.3.3.1.cmml" xref="alg1.l13.m1.4.5.3.3.3.1">∇</ci><ci id="alg1.l13.m1.4.5.3.3.3.2.cmml" xref="alg1.l13.m1.4.5.3.3.3.2">ℒ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.4c">{W}^{p,t}_{i}\leftarrow{W}^{p,t}_{i}-\eta\nabla\mathcal{L}</annotation></semantics></math>;

</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>              <math id="alg1.l14.m1.1" class="ltx_Math" alttext="{H}^{t}_{i}\leftarrow{H}^{t}_{i}-\eta\nabla\mathcal{L}" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><msubsup id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml"><mi id="alg1.l14.m1.1.1.2.2.2" xref="alg1.l14.m1.1.1.2.2.2.cmml">H</mi><mi id="alg1.l14.m1.1.1.2.3" xref="alg1.l14.m1.1.1.2.3.cmml">i</mi><mi id="alg1.l14.m1.1.1.2.2.3" xref="alg1.l14.m1.1.1.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">←</mo><mrow id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml"><msubsup id="alg1.l14.m1.1.1.3.2" xref="alg1.l14.m1.1.1.3.2.cmml"><mi id="alg1.l14.m1.1.1.3.2.2.2" xref="alg1.l14.m1.1.1.3.2.2.2.cmml">H</mi><mi id="alg1.l14.m1.1.1.3.2.3" xref="alg1.l14.m1.1.1.3.2.3.cmml">i</mi><mi id="alg1.l14.m1.1.1.3.2.2.3" xref="alg1.l14.m1.1.1.3.2.2.3.cmml">t</mi></msubsup><mo id="alg1.l14.m1.1.1.3.1" xref="alg1.l14.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.l14.m1.1.1.3.3" xref="alg1.l14.m1.1.1.3.3.cmml"><mi id="alg1.l14.m1.1.1.3.3.2" xref="alg1.l14.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l14.m1.1.1.3.3.1" xref="alg1.l14.m1.1.1.3.3.1.cmml">​</mo><mrow id="alg1.l14.m1.1.1.3.3.3" xref="alg1.l14.m1.1.1.3.3.3.cmml"><mo rspace="0.167em" id="alg1.l14.m1.1.1.3.3.3.1" xref="alg1.l14.m1.1.1.3.3.3.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l14.m1.1.1.3.3.3.2" xref="alg1.l14.m1.1.1.3.3.3.2.cmml">ℒ</mi></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><ci id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1">←</ci><apply id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.2.1.cmml" xref="alg1.l14.m1.1.1.2">subscript</csymbol><apply id="alg1.l14.m1.1.1.2.2.cmml" xref="alg1.l14.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.2.2.1.cmml" xref="alg1.l14.m1.1.1.2">superscript</csymbol><ci id="alg1.l14.m1.1.1.2.2.2.cmml" xref="alg1.l14.m1.1.1.2.2.2">𝐻</ci><ci id="alg1.l14.m1.1.1.2.2.3.cmml" xref="alg1.l14.m1.1.1.2.2.3">𝑡</ci></apply><ci id="alg1.l14.m1.1.1.2.3.cmml" xref="alg1.l14.m1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3"><minus id="alg1.l14.m1.1.1.3.1.cmml" xref="alg1.l14.m1.1.1.3.1"></minus><apply id="alg1.l14.m1.1.1.3.2.cmml" xref="alg1.l14.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.3.2.1.cmml" xref="alg1.l14.m1.1.1.3.2">subscript</csymbol><apply id="alg1.l14.m1.1.1.3.2.2.cmml" xref="alg1.l14.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l14.m1.1.1.3.2.2.1.cmml" xref="alg1.l14.m1.1.1.3.2">superscript</csymbol><ci id="alg1.l14.m1.1.1.3.2.2.2.cmml" xref="alg1.l14.m1.1.1.3.2.2.2">𝐻</ci><ci id="alg1.l14.m1.1.1.3.2.2.3.cmml" xref="alg1.l14.m1.1.1.3.2.2.3">𝑡</ci></apply><ci id="alg1.l14.m1.1.1.3.2.3.cmml" xref="alg1.l14.m1.1.1.3.2.3">𝑖</ci></apply><apply id="alg1.l14.m1.1.1.3.3.cmml" xref="alg1.l14.m1.1.1.3.3"><times id="alg1.l14.m1.1.1.3.3.1.cmml" xref="alg1.l14.m1.1.1.3.3.1"></times><ci id="alg1.l14.m1.1.1.3.3.2.cmml" xref="alg1.l14.m1.1.1.3.3.2">𝜂</ci><apply id="alg1.l14.m1.1.1.3.3.3.cmml" xref="alg1.l14.m1.1.1.3.3.3"><ci id="alg1.l14.m1.1.1.3.3.3.1.cmml" xref="alg1.l14.m1.1.1.3.3.3.1">∇</ci><ci id="alg1.l14.m1.1.1.3.3.3.2.cmml" xref="alg1.l14.m1.1.1.3.3.3.2">ℒ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">{H}^{t}_{i}\leftarrow{H}^{t}_{i}-\eta\nabla\mathcal{L}</annotation></semantics></math>;

</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>           <span id="alg1.l15.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l15.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>        <span id="alg1.l16.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l16.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>     <span id="alg1.l17.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l17.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>     <span id="alg1.l18.2" class="ltx_text ltx_font_typewriter"># Server aggregation</span>

</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>     <math id="alg1.l19.m1.6" class="ltx_Math" alttext="{W}^{g,t+1}=\sum_{i\in N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}{W}^{g,t}_{i}" display="inline"><semantics id="alg1.l19.m1.6a"><mrow id="alg1.l19.m1.6.7" xref="alg1.l19.m1.6.7.cmml"><msup id="alg1.l19.m1.6.7.2" xref="alg1.l19.m1.6.7.2.cmml"><mi id="alg1.l19.m1.6.7.2.2" xref="alg1.l19.m1.6.7.2.2.cmml">W</mi><mrow id="alg1.l19.m1.2.2.2.2" xref="alg1.l19.m1.2.2.2.3.cmml"><mi id="alg1.l19.m1.1.1.1.1" xref="alg1.l19.m1.1.1.1.1.cmml">g</mi><mo id="alg1.l19.m1.2.2.2.2.2" xref="alg1.l19.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l19.m1.2.2.2.2.1" xref="alg1.l19.m1.2.2.2.2.1.cmml"><mi id="alg1.l19.m1.2.2.2.2.1.2" xref="alg1.l19.m1.2.2.2.2.1.2.cmml">t</mi><mo id="alg1.l19.m1.2.2.2.2.1.1" xref="alg1.l19.m1.2.2.2.2.1.1.cmml">+</mo><mn id="alg1.l19.m1.2.2.2.2.1.3" xref="alg1.l19.m1.2.2.2.2.1.3.cmml">1</mn></mrow></mrow></msup><mo rspace="0.111em" id="alg1.l19.m1.6.7.1" xref="alg1.l19.m1.6.7.1.cmml">=</mo><mrow id="alg1.l19.m1.6.7.3" xref="alg1.l19.m1.6.7.3.cmml"><msub id="alg1.l19.m1.6.7.3.1" xref="alg1.l19.m1.6.7.3.1.cmml"><mo id="alg1.l19.m1.6.7.3.1.2" xref="alg1.l19.m1.6.7.3.1.2.cmml">∑</mo><mrow id="alg1.l19.m1.6.7.3.1.3" xref="alg1.l19.m1.6.7.3.1.3.cmml"><mi id="alg1.l19.m1.6.7.3.1.3.2" xref="alg1.l19.m1.6.7.3.1.3.2.cmml">i</mi><mo id="alg1.l19.m1.6.7.3.1.3.1" xref="alg1.l19.m1.6.7.3.1.3.1.cmml">∈</mo><mi id="alg1.l19.m1.6.7.3.1.3.3" xref="alg1.l19.m1.6.7.3.1.3.3.cmml">N</mi></mrow></msub><mrow id="alg1.l19.m1.6.7.3.2" xref="alg1.l19.m1.6.7.3.2.cmml"><mfrac id="alg1.l19.m1.4.4" xref="alg1.l19.m1.4.4.cmml"><mrow id="alg1.l19.m1.3.3.1.1" xref="alg1.l19.m1.3.3.1.2.cmml"><mo stretchy="false" id="alg1.l19.m1.3.3.1.1.2" xref="alg1.l19.m1.3.3.1.2.1.cmml">|</mo><msub id="alg1.l19.m1.3.3.1.1.1" xref="alg1.l19.m1.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l19.m1.3.3.1.1.1.2" xref="alg1.l19.m1.3.3.1.1.1.2.cmml">𝒟</mi><mi id="alg1.l19.m1.3.3.1.1.1.3" xref="alg1.l19.m1.3.3.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l19.m1.3.3.1.1.3" xref="alg1.l19.m1.3.3.1.2.1.cmml">|</mo></mrow><mrow id="alg1.l19.m1.4.4.2.3" xref="alg1.l19.m1.4.4.2.2.cmml"><mo stretchy="false" id="alg1.l19.m1.4.4.2.3.1" xref="alg1.l19.m1.4.4.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l19.m1.4.4.2.1" xref="alg1.l19.m1.4.4.2.1.cmml">𝒟</mi><mo stretchy="false" id="alg1.l19.m1.4.4.2.3.2" xref="alg1.l19.m1.4.4.2.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="alg1.l19.m1.6.7.3.2.1" xref="alg1.l19.m1.6.7.3.2.1.cmml">​</mo><msubsup id="alg1.l19.m1.6.7.3.2.2" xref="alg1.l19.m1.6.7.3.2.2.cmml"><mi id="alg1.l19.m1.6.7.3.2.2.2.2" xref="alg1.l19.m1.6.7.3.2.2.2.2.cmml">W</mi><mi id="alg1.l19.m1.6.7.3.2.2.3" xref="alg1.l19.m1.6.7.3.2.2.3.cmml">i</mi><mrow id="alg1.l19.m1.6.6.2.4" xref="alg1.l19.m1.6.6.2.3.cmml"><mi id="alg1.l19.m1.5.5.1.1" xref="alg1.l19.m1.5.5.1.1.cmml">g</mi><mo id="alg1.l19.m1.6.6.2.4.1" xref="alg1.l19.m1.6.6.2.3.cmml">,</mo><mi id="alg1.l19.m1.6.6.2.2" xref="alg1.l19.m1.6.6.2.2.cmml">t</mi></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.6b"><apply id="alg1.l19.m1.6.7.cmml" xref="alg1.l19.m1.6.7"><eq id="alg1.l19.m1.6.7.1.cmml" xref="alg1.l19.m1.6.7.1"></eq><apply id="alg1.l19.m1.6.7.2.cmml" xref="alg1.l19.m1.6.7.2"><csymbol cd="ambiguous" id="alg1.l19.m1.6.7.2.1.cmml" xref="alg1.l19.m1.6.7.2">superscript</csymbol><ci id="alg1.l19.m1.6.7.2.2.cmml" xref="alg1.l19.m1.6.7.2.2">𝑊</ci><list id="alg1.l19.m1.2.2.2.3.cmml" xref="alg1.l19.m1.2.2.2.2"><ci id="alg1.l19.m1.1.1.1.1.cmml" xref="alg1.l19.m1.1.1.1.1">𝑔</ci><apply id="alg1.l19.m1.2.2.2.2.1.cmml" xref="alg1.l19.m1.2.2.2.2.1"><plus id="alg1.l19.m1.2.2.2.2.1.1.cmml" xref="alg1.l19.m1.2.2.2.2.1.1"></plus><ci id="alg1.l19.m1.2.2.2.2.1.2.cmml" xref="alg1.l19.m1.2.2.2.2.1.2">𝑡</ci><cn type="integer" id="alg1.l19.m1.2.2.2.2.1.3.cmml" xref="alg1.l19.m1.2.2.2.2.1.3">1</cn></apply></list></apply><apply id="alg1.l19.m1.6.7.3.cmml" xref="alg1.l19.m1.6.7.3"><apply id="alg1.l19.m1.6.7.3.1.cmml" xref="alg1.l19.m1.6.7.3.1"><csymbol cd="ambiguous" id="alg1.l19.m1.6.7.3.1.1.cmml" xref="alg1.l19.m1.6.7.3.1">subscript</csymbol><sum id="alg1.l19.m1.6.7.3.1.2.cmml" xref="alg1.l19.m1.6.7.3.1.2"></sum><apply id="alg1.l19.m1.6.7.3.1.3.cmml" xref="alg1.l19.m1.6.7.3.1.3"><in id="alg1.l19.m1.6.7.3.1.3.1.cmml" xref="alg1.l19.m1.6.7.3.1.3.1"></in><ci id="alg1.l19.m1.6.7.3.1.3.2.cmml" xref="alg1.l19.m1.6.7.3.1.3.2">𝑖</ci><ci id="alg1.l19.m1.6.7.3.1.3.3.cmml" xref="alg1.l19.m1.6.7.3.1.3.3">𝑁</ci></apply></apply><apply id="alg1.l19.m1.6.7.3.2.cmml" xref="alg1.l19.m1.6.7.3.2"><times id="alg1.l19.m1.6.7.3.2.1.cmml" xref="alg1.l19.m1.6.7.3.2.1"></times><apply id="alg1.l19.m1.4.4.cmml" xref="alg1.l19.m1.4.4"><divide id="alg1.l19.m1.4.4.3.cmml" xref="alg1.l19.m1.4.4"></divide><apply id="alg1.l19.m1.3.3.1.2.cmml" xref="alg1.l19.m1.3.3.1.1"><abs id="alg1.l19.m1.3.3.1.2.1.cmml" xref="alg1.l19.m1.3.3.1.1.2"></abs><apply id="alg1.l19.m1.3.3.1.1.1.cmml" xref="alg1.l19.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l19.m1.3.3.1.1.1.1.cmml" xref="alg1.l19.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l19.m1.3.3.1.1.1.2.cmml" xref="alg1.l19.m1.3.3.1.1.1.2">𝒟</ci><ci id="alg1.l19.m1.3.3.1.1.1.3.cmml" xref="alg1.l19.m1.3.3.1.1.1.3">𝑖</ci></apply></apply><apply id="alg1.l19.m1.4.4.2.2.cmml" xref="alg1.l19.m1.4.4.2.3"><abs id="alg1.l19.m1.4.4.2.2.1.cmml" xref="alg1.l19.m1.4.4.2.3.1"></abs><ci id="alg1.l19.m1.4.4.2.1.cmml" xref="alg1.l19.m1.4.4.2.1">𝒟</ci></apply></apply><apply id="alg1.l19.m1.6.7.3.2.2.cmml" xref="alg1.l19.m1.6.7.3.2.2"><csymbol cd="ambiguous" id="alg1.l19.m1.6.7.3.2.2.1.cmml" xref="alg1.l19.m1.6.7.3.2.2">subscript</csymbol><apply id="alg1.l19.m1.6.7.3.2.2.2.cmml" xref="alg1.l19.m1.6.7.3.2.2"><csymbol cd="ambiguous" id="alg1.l19.m1.6.7.3.2.2.2.1.cmml" xref="alg1.l19.m1.6.7.3.2.2">superscript</csymbol><ci id="alg1.l19.m1.6.7.3.2.2.2.2.cmml" xref="alg1.l19.m1.6.7.3.2.2.2.2">𝑊</ci><list id="alg1.l19.m1.6.6.2.3.cmml" xref="alg1.l19.m1.6.6.2.4"><ci id="alg1.l19.m1.5.5.1.1.cmml" xref="alg1.l19.m1.5.5.1.1">𝑔</ci><ci id="alg1.l19.m1.6.6.2.2.cmml" xref="alg1.l19.m1.6.6.2.2">𝑡</ci></list></apply><ci id="alg1.l19.m1.6.7.3.2.2.3.cmml" xref="alg1.l19.m1.6.7.3.2.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.6c">{W}^{g,t+1}=\sum_{i\in N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}{W}^{g,t}_{i}</annotation></semantics></math>;

</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span>     <math id="alg1.l20.m1.2" class="ltx_Math" alttext="{H}^{t+1}=\sum_{i\in N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}{H}_{i}^{t}" display="inline"><semantics id="alg1.l20.m1.2a"><mrow id="alg1.l20.m1.2.3" xref="alg1.l20.m1.2.3.cmml"><msup id="alg1.l20.m1.2.3.2" xref="alg1.l20.m1.2.3.2.cmml"><mi id="alg1.l20.m1.2.3.2.2" xref="alg1.l20.m1.2.3.2.2.cmml">H</mi><mrow id="alg1.l20.m1.2.3.2.3" xref="alg1.l20.m1.2.3.2.3.cmml"><mi id="alg1.l20.m1.2.3.2.3.2" xref="alg1.l20.m1.2.3.2.3.2.cmml">t</mi><mo id="alg1.l20.m1.2.3.2.3.1" xref="alg1.l20.m1.2.3.2.3.1.cmml">+</mo><mn id="alg1.l20.m1.2.3.2.3.3" xref="alg1.l20.m1.2.3.2.3.3.cmml">1</mn></mrow></msup><mo rspace="0.111em" id="alg1.l20.m1.2.3.1" xref="alg1.l20.m1.2.3.1.cmml">=</mo><mrow id="alg1.l20.m1.2.3.3" xref="alg1.l20.m1.2.3.3.cmml"><msub id="alg1.l20.m1.2.3.3.1" xref="alg1.l20.m1.2.3.3.1.cmml"><mo id="alg1.l20.m1.2.3.3.1.2" xref="alg1.l20.m1.2.3.3.1.2.cmml">∑</mo><mrow id="alg1.l20.m1.2.3.3.1.3" xref="alg1.l20.m1.2.3.3.1.3.cmml"><mi id="alg1.l20.m1.2.3.3.1.3.2" xref="alg1.l20.m1.2.3.3.1.3.2.cmml">i</mi><mo id="alg1.l20.m1.2.3.3.1.3.1" xref="alg1.l20.m1.2.3.3.1.3.1.cmml">∈</mo><mi id="alg1.l20.m1.2.3.3.1.3.3" xref="alg1.l20.m1.2.3.3.1.3.3.cmml">N</mi></mrow></msub><mrow id="alg1.l20.m1.2.3.3.2" xref="alg1.l20.m1.2.3.3.2.cmml"><mfrac id="alg1.l20.m1.2.2" xref="alg1.l20.m1.2.2.cmml"><mrow id="alg1.l20.m1.1.1.1.1" xref="alg1.l20.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l20.m1.1.1.1.1.2" xref="alg1.l20.m1.1.1.1.2.1.cmml">|</mo><msub id="alg1.l20.m1.1.1.1.1.1" xref="alg1.l20.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l20.m1.1.1.1.1.1.2" xref="alg1.l20.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="alg1.l20.m1.1.1.1.1.1.3" xref="alg1.l20.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg1.l20.m1.1.1.1.1.3" xref="alg1.l20.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="alg1.l20.m1.2.2.2.3" xref="alg1.l20.m1.2.2.2.2.cmml"><mo stretchy="false" id="alg1.l20.m1.2.2.2.3.1" xref="alg1.l20.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="alg1.l20.m1.2.2.2.1" xref="alg1.l20.m1.2.2.2.1.cmml">𝒟</mi><mo stretchy="false" id="alg1.l20.m1.2.2.2.3.2" xref="alg1.l20.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="alg1.l20.m1.2.3.3.2.1" xref="alg1.l20.m1.2.3.3.2.1.cmml">​</mo><msubsup id="alg1.l20.m1.2.3.3.2.2" xref="alg1.l20.m1.2.3.3.2.2.cmml"><mi id="alg1.l20.m1.2.3.3.2.2.2.2" xref="alg1.l20.m1.2.3.3.2.2.2.2.cmml">H</mi><mi id="alg1.l20.m1.2.3.3.2.2.2.3" xref="alg1.l20.m1.2.3.3.2.2.2.3.cmml">i</mi><mi id="alg1.l20.m1.2.3.3.2.2.3" xref="alg1.l20.m1.2.3.3.2.2.3.cmml">t</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l20.m1.2b"><apply id="alg1.l20.m1.2.3.cmml" xref="alg1.l20.m1.2.3"><eq id="alg1.l20.m1.2.3.1.cmml" xref="alg1.l20.m1.2.3.1"></eq><apply id="alg1.l20.m1.2.3.2.cmml" xref="alg1.l20.m1.2.3.2"><csymbol cd="ambiguous" id="alg1.l20.m1.2.3.2.1.cmml" xref="alg1.l20.m1.2.3.2">superscript</csymbol><ci id="alg1.l20.m1.2.3.2.2.cmml" xref="alg1.l20.m1.2.3.2.2">𝐻</ci><apply id="alg1.l20.m1.2.3.2.3.cmml" xref="alg1.l20.m1.2.3.2.3"><plus id="alg1.l20.m1.2.3.2.3.1.cmml" xref="alg1.l20.m1.2.3.2.3.1"></plus><ci id="alg1.l20.m1.2.3.2.3.2.cmml" xref="alg1.l20.m1.2.3.2.3.2">𝑡</ci><cn type="integer" id="alg1.l20.m1.2.3.2.3.3.cmml" xref="alg1.l20.m1.2.3.2.3.3">1</cn></apply></apply><apply id="alg1.l20.m1.2.3.3.cmml" xref="alg1.l20.m1.2.3.3"><apply id="alg1.l20.m1.2.3.3.1.cmml" xref="alg1.l20.m1.2.3.3.1"><csymbol cd="ambiguous" id="alg1.l20.m1.2.3.3.1.1.cmml" xref="alg1.l20.m1.2.3.3.1">subscript</csymbol><sum id="alg1.l20.m1.2.3.3.1.2.cmml" xref="alg1.l20.m1.2.3.3.1.2"></sum><apply id="alg1.l20.m1.2.3.3.1.3.cmml" xref="alg1.l20.m1.2.3.3.1.3"><in id="alg1.l20.m1.2.3.3.1.3.1.cmml" xref="alg1.l20.m1.2.3.3.1.3.1"></in><ci id="alg1.l20.m1.2.3.3.1.3.2.cmml" xref="alg1.l20.m1.2.3.3.1.3.2">𝑖</ci><ci id="alg1.l20.m1.2.3.3.1.3.3.cmml" xref="alg1.l20.m1.2.3.3.1.3.3">𝑁</ci></apply></apply><apply id="alg1.l20.m1.2.3.3.2.cmml" xref="alg1.l20.m1.2.3.3.2"><times id="alg1.l20.m1.2.3.3.2.1.cmml" xref="alg1.l20.m1.2.3.3.2.1"></times><apply id="alg1.l20.m1.2.2.cmml" xref="alg1.l20.m1.2.2"><divide id="alg1.l20.m1.2.2.3.cmml" xref="alg1.l20.m1.2.2"></divide><apply id="alg1.l20.m1.1.1.1.2.cmml" xref="alg1.l20.m1.1.1.1.1"><abs id="alg1.l20.m1.1.1.1.2.1.cmml" xref="alg1.l20.m1.1.1.1.1.2"></abs><apply id="alg1.l20.m1.1.1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l20.m1.1.1.1.1.1.1.cmml" xref="alg1.l20.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l20.m1.1.1.1.1.1.2.cmml" xref="alg1.l20.m1.1.1.1.1.1.2">𝒟</ci><ci id="alg1.l20.m1.1.1.1.1.1.3.cmml" xref="alg1.l20.m1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="alg1.l20.m1.2.2.2.2.cmml" xref="alg1.l20.m1.2.2.2.3"><abs id="alg1.l20.m1.2.2.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.3.1"></abs><ci id="alg1.l20.m1.2.2.2.1.cmml" xref="alg1.l20.m1.2.2.2.1">𝒟</ci></apply></apply><apply id="alg1.l20.m1.2.3.3.2.2.cmml" xref="alg1.l20.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l20.m1.2.3.3.2.2.1.cmml" xref="alg1.l20.m1.2.3.3.2.2">superscript</csymbol><apply id="alg1.l20.m1.2.3.3.2.2.2.cmml" xref="alg1.l20.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l20.m1.2.3.3.2.2.2.1.cmml" xref="alg1.l20.m1.2.3.3.2.2">subscript</csymbol><ci id="alg1.l20.m1.2.3.3.2.2.2.2.cmml" xref="alg1.l20.m1.2.3.3.2.2.2.2">𝐻</ci><ci id="alg1.l20.m1.2.3.3.2.2.2.3.cmml" xref="alg1.l20.m1.2.3.3.2.2.2.3">𝑖</ci></apply><ci id="alg1.l20.m1.2.3.3.2.2.3.cmml" xref="alg1.l20.m1.2.3.3.2.2.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.m1.2c">{H}^{t+1}=\sum_{i\in N}\frac{\lvert\mathcal{D}_{i}\rvert}{\lvert\mathcal{D}\rvert}{H}_{i}^{t}</annotation></semantics></math>;

</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span>  <span id="alg1.l21.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l21.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span>  <span id="alg1.l22.2" class="ltx_text ltx_font_bold">return</span> Obtain global model <math id="alg1.l22.m1.4" class="ltx_Math" alttext="W^{g,T},H^{T}" display="inline"><semantics id="alg1.l22.m1.4a"><mrow id="alg1.l22.m1.4.4.2" xref="alg1.l22.m1.4.4.3.cmml"><msup id="alg1.l22.m1.3.3.1.1" xref="alg1.l22.m1.3.3.1.1.cmml"><mi id="alg1.l22.m1.3.3.1.1.2" xref="alg1.l22.m1.3.3.1.1.2.cmml">W</mi><mrow id="alg1.l22.m1.2.2.2.4" xref="alg1.l22.m1.2.2.2.3.cmml"><mi id="alg1.l22.m1.1.1.1.1" xref="alg1.l22.m1.1.1.1.1.cmml">g</mi><mo id="alg1.l22.m1.2.2.2.4.1" xref="alg1.l22.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l22.m1.2.2.2.2" xref="alg1.l22.m1.2.2.2.2.cmml">T</mi></mrow></msup><mo id="alg1.l22.m1.4.4.2.3" xref="alg1.l22.m1.4.4.3.cmml">,</mo><msup id="alg1.l22.m1.4.4.2.2" xref="alg1.l22.m1.4.4.2.2.cmml"><mi id="alg1.l22.m1.4.4.2.2.2" xref="alg1.l22.m1.4.4.2.2.2.cmml">H</mi><mi id="alg1.l22.m1.4.4.2.2.3" xref="alg1.l22.m1.4.4.2.2.3.cmml">T</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.4b"><list id="alg1.l22.m1.4.4.3.cmml" xref="alg1.l22.m1.4.4.2"><apply id="alg1.l22.m1.3.3.1.1.cmml" xref="alg1.l22.m1.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l22.m1.3.3.1.1.1.cmml" xref="alg1.l22.m1.3.3.1.1">superscript</csymbol><ci id="alg1.l22.m1.3.3.1.1.2.cmml" xref="alg1.l22.m1.3.3.1.1.2">𝑊</ci><list id="alg1.l22.m1.2.2.2.3.cmml" xref="alg1.l22.m1.2.2.2.4"><ci id="alg1.l22.m1.1.1.1.1.cmml" xref="alg1.l22.m1.1.1.1.1">𝑔</ci><ci id="alg1.l22.m1.2.2.2.2.cmml" xref="alg1.l22.m1.2.2.2.2">𝑇</ci></list></apply><apply id="alg1.l22.m1.4.4.2.2.cmml" xref="alg1.l22.m1.4.4.2.2"><csymbol cd="ambiguous" id="alg1.l22.m1.4.4.2.2.1.cmml" xref="alg1.l22.m1.4.4.2.2">superscript</csymbol><ci id="alg1.l22.m1.4.4.2.2.2.cmml" xref="alg1.l22.m1.4.4.2.2.2">𝐻</ci><ci id="alg1.l22.m1.4.4.2.2.3.cmml" xref="alg1.l22.m1.4.4.2.2.3">𝑇</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.4c">W^{g,T},H^{T}</annotation></semantics></math> and personalized feature extractor <math id="alg1.l22.m2.2" class="ltx_Math" alttext="W^{p,T}_{i}" display="inline"><semantics id="alg1.l22.m2.2a"><msubsup id="alg1.l22.m2.2.3" xref="alg1.l22.m2.2.3.cmml"><mi id="alg1.l22.m2.2.3.2.2" xref="alg1.l22.m2.2.3.2.2.cmml">W</mi><mi id="alg1.l22.m2.2.3.3" xref="alg1.l22.m2.2.3.3.cmml">i</mi><mrow id="alg1.l22.m2.2.2.2.4" xref="alg1.l22.m2.2.2.2.3.cmml"><mi id="alg1.l22.m2.1.1.1.1" xref="alg1.l22.m2.1.1.1.1.cmml">p</mi><mo id="alg1.l22.m2.2.2.2.4.1" xref="alg1.l22.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l22.m2.2.2.2.2" xref="alg1.l22.m2.2.2.2.2.cmml">T</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l22.m2.2b"><apply id="alg1.l22.m2.2.3.cmml" xref="alg1.l22.m2.2.3"><csymbol cd="ambiguous" id="alg1.l22.m2.2.3.1.cmml" xref="alg1.l22.m2.2.3">subscript</csymbol><apply id="alg1.l22.m2.2.3.2.cmml" xref="alg1.l22.m2.2.3"><csymbol cd="ambiguous" id="alg1.l22.m2.2.3.2.1.cmml" xref="alg1.l22.m2.2.3">superscript</csymbol><ci id="alg1.l22.m2.2.3.2.2.cmml" xref="alg1.l22.m2.2.3.2.2">𝑊</ci><list id="alg1.l22.m2.2.2.2.3.cmml" xref="alg1.l22.m2.2.2.2.4"><ci id="alg1.l22.m2.1.1.1.1.cmml" xref="alg1.l22.m2.1.1.1.1">𝑝</ci><ci id="alg1.l22.m2.2.2.2.2.cmml" xref="alg1.l22.m2.2.2.2.2">𝑇</ci></list></apply><ci id="alg1.l22.m2.2.3.3.cmml" xref="alg1.l22.m2.2.3.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m2.2c">W^{p,T}_{i}</annotation></semantics></math> for client <math id="alg1.l22.m3.3" class="ltx_Math" alttext="i,\forall i\in[N]" display="inline"><semantics id="alg1.l22.m3.3a"><mrow id="alg1.l22.m3.3.3" xref="alg1.l22.m3.3.3.cmml"><mrow id="alg1.l22.m3.3.3.1.1" xref="alg1.l22.m3.3.3.1.2.cmml"><mi id="alg1.l22.m3.2.2" xref="alg1.l22.m3.2.2.cmml">i</mi><mo id="alg1.l22.m3.3.3.1.1.2" xref="alg1.l22.m3.3.3.1.2.cmml">,</mo><mrow id="alg1.l22.m3.3.3.1.1.1" xref="alg1.l22.m3.3.3.1.1.1.cmml"><mo rspace="0.167em" id="alg1.l22.m3.3.3.1.1.1.1" xref="alg1.l22.m3.3.3.1.1.1.1.cmml">∀</mo><mi id="alg1.l22.m3.3.3.1.1.1.2" xref="alg1.l22.m3.3.3.1.1.1.2.cmml">i</mi></mrow></mrow><mo id="alg1.l22.m3.3.3.2" xref="alg1.l22.m3.3.3.2.cmml">∈</mo><mrow id="alg1.l22.m3.3.3.3.2" xref="alg1.l22.m3.3.3.3.1.cmml"><mo stretchy="false" id="alg1.l22.m3.3.3.3.2.1" xref="alg1.l22.m3.3.3.3.1.1.cmml">[</mo><mi id="alg1.l22.m3.1.1" xref="alg1.l22.m3.1.1.cmml">N</mi><mo stretchy="false" id="alg1.l22.m3.3.3.3.2.2" xref="alg1.l22.m3.3.3.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m3.3b"><apply id="alg1.l22.m3.3.3.cmml" xref="alg1.l22.m3.3.3"><in id="alg1.l22.m3.3.3.2.cmml" xref="alg1.l22.m3.3.3.2"></in><list id="alg1.l22.m3.3.3.1.2.cmml" xref="alg1.l22.m3.3.3.1.1"><ci id="alg1.l22.m3.2.2.cmml" xref="alg1.l22.m3.2.2">𝑖</ci><apply id="alg1.l22.m3.3.3.1.1.1.cmml" xref="alg1.l22.m3.3.3.1.1.1"><csymbol cd="latexml" id="alg1.l22.m3.3.3.1.1.1.1.cmml" xref="alg1.l22.m3.3.3.1.1.1.1">for-all</csymbol><ci id="alg1.l22.m3.3.3.1.1.1.2.cmml" xref="alg1.l22.m3.3.3.1.1.1.2">𝑖</ci></apply></list><apply id="alg1.l22.m3.3.3.3.1.cmml" xref="alg1.l22.m3.3.3.3.2"><csymbol cd="latexml" id="alg1.l22.m3.3.3.3.1.1.cmml" xref="alg1.l22.m3.3.3.3.2.1">delimited-[]</csymbol><ci id="alg1.l22.m3.1.1.cmml" xref="alg1.l22.m3.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m3.3c">i,\forall i\in[N]</annotation></semantics></math>.

</div>
</div>
</div>
</div>
</figure>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Experimental Details</h2>

<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Datasets</h3>

<section id="A2.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Office-Caltech-10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">10</span></a>]</cite>.</h4>

<div id="A2.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="A2.SS1.SSS0.Px1.p1.1" class="ltx_p">Office-Caltech-10 has four data sources: the Amazon merchant website, the Caltech-101 dataset, a high-resolution DSLR camera, and a webcam. Each source represents a domain, and each domain has the same 10 classes for classification tasks.</p>
</div>
</section>
<section id="A2.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">DomainNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">34</span></a>]</cite>.</h4>

<div id="A2.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="A2.SS1.SSS0.Px2.p1.1" class="ltx_p">DomainNet is a dataset containing images from six domains. Each domain represents a style, namely Clipart, Infograph, Painting, Quickdraw, Real, and Sketch. The DomainNet contains 345 object categories, following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite>, we choose the top ten most common classes for our experiments.</p>
</div>
</section>
<section id="A2.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Digits-Five <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">34</span></a>]</cite>.</h4>

<div id="A2.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="A2.SS1.SSS0.Px3.p1.1" class="ltx_p">Digits-Five is a combination of five digits recognition datasets: MNIST, MNIST-M, Synthetic Digits, SVHN, and USPS. Each dataset represents a style and is divided into ten categories from digits 0 to 9.</p>
</div>
</section>
<section id="A2.SS1.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">CIFAR-100 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">18</span></a>]</cite>.</h4>

<div id="A2.SS1.SSS0.Px4.p1" class="ltx_para">
<p id="A2.SS1.SSS0.Px4.p1.1" class="ltx_p">Each image in CIFAR-100 has two labels: superclass and subclass. Each subclass can be included in a superclass. There are 500 training images and 100 testing images per subclass. CIFAR-100 has 20 superclasses and each superclass has 5 subclasses. The images from different subclasses within each superclass share some common features.
For example, for the superclass of flowers, there are five subclasses, namely, orchid, poppy, rose, sunflower, and tulip.</p>
</div>
</section>
<section id="A2.SS1.SSS0.Px5" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Visualization.</h4>

<div id="A2.SS1.SSS0.Px5.p1" class="ltx_para">
<p id="A2.SS1.SSS0.Px5.p1.1" class="ltx_p">To give a more intuitive demonstration of the feature-skew datasets, in Figure <a href="#A2.F6" title="Figure 6 ‣ B.3 Training Details ‣ Appendix B Experimental Details ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we visualize some cases of samples from each dataset.</p>
</div>
</section>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Model Architectures</h3>

<div id="A2.SS2.p1" class="ltx_para">
<p id="A2.SS2.p1.1" class="ltx_p">For Office-Caltech-10 and DomainNet, we use ResNet-18 and the implementation code refers to  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite>. For Digits-Five, we use a six-layer CNN that referred from  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite>. For CIFAR-100, we use a four-layer CNN that referred from  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite>. We show the details of the network structure in Table <a href="#A2.T8" title="Table 8 ‣ B.2 Model Architectures ‣ Appendix B Experimental Details ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> and Table <a href="#A2.T9" title="Table 9 ‣ B.2 Model Architectures ‣ Appendix B Experimental Details ‣ FediOS: Decoupling Orthogonal Subspaces for Personalization in Feature-skew Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a>. For the convolutional layer (Conv2D), the parameters we present are input and output dimension, kernel size, stride, and padding. For the max pooling layer (MaxPool2D), we present kernel and stride. For the Batch Normalization layer (BN), we present the channel dimension. For the fully connected layer (FC), we present the input and output dimensions. In the paper, we use the last fully connected layer of the network as the prediction head and the rest as the feature extractor.</p>
</div>
<figure id="A2.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="A2.T8.5.1.1" class="ltx_text" style="font-size:113%;">Table 8</span>: </span><span id="A2.T8.6.2" class="ltx_text ltx_font_bold" style="font-size:113%;">Model architectures of six-layer CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">23</span></a>]</cite> for Digit-Five.<span id="A2.T8.6.2.1" class="ltx_text ltx_font_medium"> </span></span></figcaption>
<div id="A2.T8.7" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:248.4pt;height:68.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-104.8pt,28.8pt) scale(0.542456208390537,0.542456208390537) ;">
<table id="A2.T8.7.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T8.7.1.1.1" class="ltx_tr">
<th id="A2.T8.7.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A2.T8.7.1.1.1.1.1" class="ltx_text" style="font-size:80%;">Layer</span></th>
<th id="A2.T8.7.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A2.T8.7.1.1.1.2.1" class="ltx_text" style="font-size:80%;">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T8.7.1.2.1" class="ltx_tr">
<th id="A2.T8.7.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T8.7.1.2.1.1.1" class="ltx_text" style="font-size:80%;">1</span></th>
<td id="A2.T8.7.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T8.7.1.2.1.2.1" class="ltx_text" style="font-size:80%;">Conv2D(3, 64, 5, 1, 2), BN(64), ReLU, MaxPool2D(2,2)</span></td>
</tr>
<tr id="A2.T8.7.1.3.2" class="ltx_tr">
<th id="A2.T8.7.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T8.7.1.3.2.1.1" class="ltx_text" style="font-size:80%;">2</span></th>
<td id="A2.T8.7.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T8.7.1.3.2.2.1" class="ltx_text" style="font-size:80%;">Conv2D(64, 64, 5, 1, 2), BN(64), ReLU, MaxPool2D(2,2)</span></td>
</tr>
<tr id="A2.T8.7.1.4.3" class="ltx_tr">
<th id="A2.T8.7.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T8.7.1.4.3.1.1" class="ltx_text" style="font-size:80%;">3</span></th>
<td id="A2.T8.7.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T8.7.1.4.3.2.1" class="ltx_text" style="font-size:80%;">Conv2D(64, 128, 5, 1, 2), BN(128), ReLU</span></td>
</tr>
<tr id="A2.T8.7.1.5.4" class="ltx_tr">
<th id="A2.T8.7.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T8.7.1.5.4.1.1" class="ltx_text" style="font-size:80%;">4</span></th>
<td id="A2.T8.7.1.5.4.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T8.7.1.5.4.2.1" class="ltx_text" style="font-size:80%;">FC(6272,2048), BN(2048), ReLU</span></td>
</tr>
<tr id="A2.T8.7.1.6.5" class="ltx_tr">
<th id="A2.T8.7.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T8.7.1.6.5.1.1" class="ltx_text" style="font-size:80%;">5</span></th>
<td id="A2.T8.7.1.6.5.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T8.7.1.6.5.2.1" class="ltx_text" style="font-size:80%;">FC(2048,512), BN(512), ReLU</span></td>
</tr>
<tr id="A2.T8.7.1.7.6" class="ltx_tr">
<th id="A2.T8.7.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="A2.T8.7.1.7.6.1.1" class="ltx_text" style="font-size:80%;">6 (Head)</span></th>
<td id="A2.T8.7.1.7.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="A2.T8.7.1.7.6.2.1" class="ltx_text" style="font-size:80%;">FC(512,10)</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A2.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table"><span id="A2.T9.5.1.1" class="ltx_text" style="font-size:113%;">Table 9</span>: </span><span id="A2.T9.6.2" class="ltx_text ltx_font_bold" style="font-size:113%;">Model architectures of four-layer CNN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">48</span></a>]</cite> for CIFAR-100.<span id="A2.T9.6.2.1" class="ltx_text ltx_font_medium"> </span></span></figcaption>
<div id="A2.T9.7" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:248.4pt;height:48.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-104.8pt,20.6pt) scale(0.542456208390537,0.542456208390537) ;">
<table id="A2.T9.7.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T9.7.1.1.1" class="ltx_tr">
<th id="A2.T9.7.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A2.T9.7.1.1.1.1.1" class="ltx_text" style="font-size:80%;">Layer</span></th>
<th id="A2.T9.7.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A2.T9.7.1.1.1.2.1" class="ltx_text" style="font-size:80%;">Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T9.7.1.2.1" class="ltx_tr">
<th id="A2.T9.7.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T9.7.1.2.1.1.1" class="ltx_text" style="font-size:80%;">1</span></th>
<td id="A2.T9.7.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T9.7.1.2.1.2.1" class="ltx_text" style="font-size:80%;">Conv2D(3, 32, 5, 0, 1), ReLU, MaxPool2D(2,2)</span></td>
</tr>
<tr id="A2.T9.7.1.3.2" class="ltx_tr">
<th id="A2.T9.7.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T9.7.1.3.2.1.1" class="ltx_text" style="font-size:80%;">2</span></th>
<td id="A2.T9.7.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T9.7.1.3.2.2.1" class="ltx_text" style="font-size:80%;">Conv2D(32, 64, 5, 1, 2), ReLU, MaxPool2D(2,2)</span></td>
</tr>
<tr id="A2.T9.7.1.4.3" class="ltx_tr">
<th id="A2.T9.7.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A2.T9.7.1.4.3.1.1" class="ltx_text" style="font-size:80%;">3</span></th>
<td id="A2.T9.7.1.4.3.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T9.7.1.4.3.2.1" class="ltx_text" style="font-size:80%;">FC(1600,512), ReLU</span></td>
</tr>
<tr id="A2.T9.7.1.5.4" class="ltx_tr">
<th id="A2.T9.7.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t"><span id="A2.T9.7.1.5.4.1.1" class="ltx_text" style="font-size:80%;">4 (Head)</span></th>
<td id="A2.T9.7.1.5.4.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t"><span id="A2.T9.7.1.5.4.2.1" class="ltx_text" style="font-size:80%;">FC(512,20)</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Training Details</h3>

<div id="A2.SS3.p1" class="ltx_para ltx_noindent">
<p id="A2.SS3.p1.3" class="ltx_p"><span id="A2.SS3.p1.3.1" class="ltx_text ltx_font_bold">Local learning rate and optimizer.</span> For ResNet-18, the local learning rate (LR) <math id="A2.SS3.p1.1.m1.1" class="ltx_Math" alttext="\eta=0.1" display="inline"><semantics id="A2.SS3.p1.1.m1.1a"><mrow id="A2.SS3.p1.1.m1.1.1" xref="A2.SS3.p1.1.m1.1.1.cmml"><mi id="A2.SS3.p1.1.m1.1.1.2" xref="A2.SS3.p1.1.m1.1.1.2.cmml">η</mi><mo id="A2.SS3.p1.1.m1.1.1.1" xref="A2.SS3.p1.1.m1.1.1.1.cmml">=</mo><mn id="A2.SS3.p1.1.m1.1.1.3" xref="A2.SS3.p1.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.1.m1.1b"><apply id="A2.SS3.p1.1.m1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1"><eq id="A2.SS3.p1.1.m1.1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1.1"></eq><ci id="A2.SS3.p1.1.m1.1.1.2.cmml" xref="A2.SS3.p1.1.m1.1.1.2">𝜂</ci><cn type="float" id="A2.SS3.p1.1.m1.1.1.3.cmml" xref="A2.SS3.p1.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.1.m1.1c">\eta=0.1</annotation></semantics></math>, and for six-layer CNN and four-layer CNN, <math id="A2.SS3.p1.2.m2.1" class="ltx_Math" alttext="\eta=0.01" display="inline"><semantics id="A2.SS3.p1.2.m2.1a"><mrow id="A2.SS3.p1.2.m2.1.1" xref="A2.SS3.p1.2.m2.1.1.cmml"><mi id="A2.SS3.p1.2.m2.1.1.2" xref="A2.SS3.p1.2.m2.1.1.2.cmml">η</mi><mo id="A2.SS3.p1.2.m2.1.1.1" xref="A2.SS3.p1.2.m2.1.1.1.cmml">=</mo><mn id="A2.SS3.p1.2.m2.1.1.3" xref="A2.SS3.p1.2.m2.1.1.3.cmml">0.01</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.2.m2.1b"><apply id="A2.SS3.p1.2.m2.1.1.cmml" xref="A2.SS3.p1.2.m2.1.1"><eq id="A2.SS3.p1.2.m2.1.1.1.cmml" xref="A2.SS3.p1.2.m2.1.1.1"></eq><ci id="A2.SS3.p1.2.m2.1.1.2.cmml" xref="A2.SS3.p1.2.m2.1.1.2">𝜂</ci><cn type="float" id="A2.SS3.p1.2.m2.1.1.3.cmml" xref="A2.SS3.p1.2.m2.1.1.3">0.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.2.m2.1c">\eta=0.01</annotation></semantics></math>. For Office-Caltech-10, Digits-Five, and CIFAR-100, we use SGD optimizer with momentum 0.9. For DomainNet, we use SGD optimizer with momentum 0.9 and weight decay <math id="A2.SS3.p1.3.m3.1" class="ltx_Math" alttext="1\times 10^{-4}" display="inline"><semantics id="A2.SS3.p1.3.m3.1a"><mrow id="A2.SS3.p1.3.m3.1.1" xref="A2.SS3.p1.3.m3.1.1.cmml"><mn id="A2.SS3.p1.3.m3.1.1.2" xref="A2.SS3.p1.3.m3.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="A2.SS3.p1.3.m3.1.1.1" xref="A2.SS3.p1.3.m3.1.1.1.cmml">×</mo><msup id="A2.SS3.p1.3.m3.1.1.3" xref="A2.SS3.p1.3.m3.1.1.3.cmml"><mn id="A2.SS3.p1.3.m3.1.1.3.2" xref="A2.SS3.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="A2.SS3.p1.3.m3.1.1.3.3" xref="A2.SS3.p1.3.m3.1.1.3.3.cmml"><mo id="A2.SS3.p1.3.m3.1.1.3.3a" xref="A2.SS3.p1.3.m3.1.1.3.3.cmml">−</mo><mn id="A2.SS3.p1.3.m3.1.1.3.3.2" xref="A2.SS3.p1.3.m3.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.3.m3.1b"><apply id="A2.SS3.p1.3.m3.1.1.cmml" xref="A2.SS3.p1.3.m3.1.1"><times id="A2.SS3.p1.3.m3.1.1.1.cmml" xref="A2.SS3.p1.3.m3.1.1.1"></times><cn type="integer" id="A2.SS3.p1.3.m3.1.1.2.cmml" xref="A2.SS3.p1.3.m3.1.1.2">1</cn><apply id="A2.SS3.p1.3.m3.1.1.3.cmml" xref="A2.SS3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A2.SS3.p1.3.m3.1.1.3.1.cmml" xref="A2.SS3.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="A2.SS3.p1.3.m3.1.1.3.2.cmml" xref="A2.SS3.p1.3.m3.1.1.3.2">10</cn><apply id="A2.SS3.p1.3.m3.1.1.3.3.cmml" xref="A2.SS3.p1.3.m3.1.1.3.3"><minus id="A2.SS3.p1.3.m3.1.1.3.3.1.cmml" xref="A2.SS3.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="A2.SS3.p1.3.m3.1.1.3.3.2.cmml" xref="A2.SS3.p1.3.m3.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.3.m3.1c">1\times 10^{-4}</annotation></semantics></math>.</p>
</div>
<div id="A2.SS3.p2" class="ltx_para ltx_noindent">
<p id="A2.SS3.p2.17" class="ltx_p"><span id="A2.SS3.p2.2.2" class="ltx_text ltx_font_bold">Local epochs <math id="A2.SS3.p2.1.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.1.1.m1.1a"><mi id="A2.SS3.p2.1.1.m1.1.1" xref="A2.SS3.p2.1.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.1.1.m1.1b"><ci id="A2.SS3.p2.1.1.m1.1.1.cmml" xref="A2.SS3.p2.1.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.1.1.m1.1c">E</annotation></semantics></math> and communication rounds <math id="A2.SS3.p2.2.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.2.2.m2.1a"><mi id="A2.SS3.p2.2.2.m2.1.1" xref="A2.SS3.p2.2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.2.2.m2.1b"><ci id="A2.SS3.p2.2.2.m2.1.1.cmml" xref="A2.SS3.p2.2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.2.2.m2.1c">T</annotation></semantics></math>.</span> If not mentioned otherwise, we use the following settings of <math id="A2.SS3.p2.3.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.3.m1.1a"><mi id="A2.SS3.p2.3.m1.1.1" xref="A2.SS3.p2.3.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.3.m1.1b"><ci id="A2.SS3.p2.3.m1.1.1.cmml" xref="A2.SS3.p2.3.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.3.m1.1c">E</annotation></semantics></math> and <math id="A2.SS3.p2.4.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.4.m2.1a"><mi id="A2.SS3.p2.4.m2.1.1" xref="A2.SS3.p2.4.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.4.m2.1b"><ci id="A2.SS3.p2.4.m2.1.1.cmml" xref="A2.SS3.p2.4.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.4.m2.1c">T</annotation></semantics></math>. For Office-Caltech-10, we set local epochs <math id="A2.SS3.p2.5.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.5.m3.1a"><mi id="A2.SS3.p2.5.m3.1.1" xref="A2.SS3.p2.5.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.5.m3.1b"><ci id="A2.SS3.p2.5.m3.1.1.cmml" xref="A2.SS3.p2.5.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.5.m3.1c">E</annotation></semantics></math> = 5, communication rounds <math id="A2.SS3.p2.6.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.6.m4.1a"><mi id="A2.SS3.p2.6.m4.1.1" xref="A2.SS3.p2.6.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.6.m4.1b"><ci id="A2.SS3.p2.6.m4.1.1.cmml" xref="A2.SS3.p2.6.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.6.m4.1c">T</annotation></semantics></math> = 120. For DomainNet with the number of clients <math id="A2.SS3.p2.7.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="A2.SS3.p2.7.m5.1a"><mi id="A2.SS3.p2.7.m5.1.1" xref="A2.SS3.p2.7.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.7.m5.1b"><ci id="A2.SS3.p2.7.m5.1.1.cmml" xref="A2.SS3.p2.7.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.7.m5.1c">N</annotation></semantics></math> = 6, we set local epochs <math id="A2.SS3.p2.8.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.8.m6.1a"><mi id="A2.SS3.p2.8.m6.1.1" xref="A2.SS3.p2.8.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.8.m6.1b"><ci id="A2.SS3.p2.8.m6.1.1.cmml" xref="A2.SS3.p2.8.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.8.m6.1c">E</annotation></semantics></math> = 5, communication rounds <math id="A2.SS3.p2.9.m7.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.9.m7.1a"><mi id="A2.SS3.p2.9.m7.1.1" xref="A2.SS3.p2.9.m7.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.9.m7.1b"><ci id="A2.SS3.p2.9.m7.1.1.cmml" xref="A2.SS3.p2.9.m7.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.9.m7.1c">T</annotation></semantics></math> = 200. For Digits-Five, we set local epochs <math id="A2.SS3.p2.10.m8.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.10.m8.1a"><mi id="A2.SS3.p2.10.m8.1.1" xref="A2.SS3.p2.10.m8.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.10.m8.1b"><ci id="A2.SS3.p2.10.m8.1.1.cmml" xref="A2.SS3.p2.10.m8.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.10.m8.1c">E</annotation></semantics></math> = 1, communication rounds <math id="A2.SS3.p2.11.m9.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.11.m9.1a"><mi id="A2.SS3.p2.11.m9.1.1" xref="A2.SS3.p2.11.m9.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.11.m9.1b"><ci id="A2.SS3.p2.11.m9.1.1.cmml" xref="A2.SS3.p2.11.m9.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.11.m9.1c">T</annotation></semantics></math> = 50. For CIFAR-100 with <math id="A2.SS3.p2.12.m10.3" class="ltx_Math" alttext="N\in\{5,10,15\}" display="inline"><semantics id="A2.SS3.p2.12.m10.3a"><mrow id="A2.SS3.p2.12.m10.3.4" xref="A2.SS3.p2.12.m10.3.4.cmml"><mi id="A2.SS3.p2.12.m10.3.4.2" xref="A2.SS3.p2.12.m10.3.4.2.cmml">N</mi><mo id="A2.SS3.p2.12.m10.3.4.1" xref="A2.SS3.p2.12.m10.3.4.1.cmml">∈</mo><mrow id="A2.SS3.p2.12.m10.3.4.3.2" xref="A2.SS3.p2.12.m10.3.4.3.1.cmml"><mo stretchy="false" id="A2.SS3.p2.12.m10.3.4.3.2.1" xref="A2.SS3.p2.12.m10.3.4.3.1.cmml">{</mo><mn id="A2.SS3.p2.12.m10.1.1" xref="A2.SS3.p2.12.m10.1.1.cmml">5</mn><mo id="A2.SS3.p2.12.m10.3.4.3.2.2" xref="A2.SS3.p2.12.m10.3.4.3.1.cmml">,</mo><mn id="A2.SS3.p2.12.m10.2.2" xref="A2.SS3.p2.12.m10.2.2.cmml">10</mn><mo id="A2.SS3.p2.12.m10.3.4.3.2.3" xref="A2.SS3.p2.12.m10.3.4.3.1.cmml">,</mo><mn id="A2.SS3.p2.12.m10.3.3" xref="A2.SS3.p2.12.m10.3.3.cmml">15</mn><mo stretchy="false" id="A2.SS3.p2.12.m10.3.4.3.2.4" xref="A2.SS3.p2.12.m10.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.12.m10.3b"><apply id="A2.SS3.p2.12.m10.3.4.cmml" xref="A2.SS3.p2.12.m10.3.4"><in id="A2.SS3.p2.12.m10.3.4.1.cmml" xref="A2.SS3.p2.12.m10.3.4.1"></in><ci id="A2.SS3.p2.12.m10.3.4.2.cmml" xref="A2.SS3.p2.12.m10.3.4.2">𝑁</ci><set id="A2.SS3.p2.12.m10.3.4.3.1.cmml" xref="A2.SS3.p2.12.m10.3.4.3.2"><cn type="integer" id="A2.SS3.p2.12.m10.1.1.cmml" xref="A2.SS3.p2.12.m10.1.1">5</cn><cn type="integer" id="A2.SS3.p2.12.m10.2.2.cmml" xref="A2.SS3.p2.12.m10.2.2">10</cn><cn type="integer" id="A2.SS3.p2.12.m10.3.3.cmml" xref="A2.SS3.p2.12.m10.3.3">15</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.12.m10.3c">N\in\{5,10,15\}</annotation></semantics></math>, we set local epochs <math id="A2.SS3.p2.13.m11.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.13.m11.1a"><mi id="A2.SS3.p2.13.m11.1.1" xref="A2.SS3.p2.13.m11.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.13.m11.1b"><ci id="A2.SS3.p2.13.m11.1.1.cmml" xref="A2.SS3.p2.13.m11.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.13.m11.1c">E</annotation></semantics></math> = 2, communication rounds <math id="A2.SS3.p2.14.m12.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.14.m12.1a"><mi id="A2.SS3.p2.14.m12.1.1" xref="A2.SS3.p2.14.m12.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.14.m12.1b"><ci id="A2.SS3.p2.14.m12.1.1.cmml" xref="A2.SS3.p2.14.m12.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.14.m12.1c">T</annotation></semantics></math> = 100. For CIFAR-100 with <math id="A2.SS3.p2.15.m13.1" class="ltx_Math" alttext="N" display="inline"><semantics id="A2.SS3.p2.15.m13.1a"><mi id="A2.SS3.p2.15.m13.1.1" xref="A2.SS3.p2.15.m13.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.15.m13.1b"><ci id="A2.SS3.p2.15.m13.1.1.cmml" xref="A2.SS3.p2.15.m13.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.15.m13.1c">N</annotation></semantics></math> = 20, we set local epochs <math id="A2.SS3.p2.16.m14.1" class="ltx_Math" alttext="E" display="inline"><semantics id="A2.SS3.p2.16.m14.1a"><mi id="A2.SS3.p2.16.m14.1.1" xref="A2.SS3.p2.16.m14.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.16.m14.1b"><ci id="A2.SS3.p2.16.m14.1.1.cmml" xref="A2.SS3.p2.16.m14.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.16.m14.1c">E</annotation></semantics></math> = 5, communication rounds <math id="A2.SS3.p2.17.m15.1" class="ltx_Math" alttext="T" display="inline"><semantics id="A2.SS3.p2.17.m15.1a"><mi id="A2.SS3.p2.17.m15.1.1" xref="A2.SS3.p2.17.m15.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p2.17.m15.1b"><ci id="A2.SS3.p2.17.m15.1.1.cmml" xref="A2.SS3.p2.17.m15.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p2.17.m15.1c">T</annotation></semantics></math> = 100.</p>
</div>
<div id="A2.SS3.p3" class="ltx_para ltx_noindent">
<p id="A2.SS3.p3.10" class="ltx_p"><span id="A2.SS3.p3.10.1" class="ltx_text ltx_font_bold">Hyperparameters.</span> For our FediOS, we set <math id="A2.SS3.p3.1.m1.1" class="ltx_Math" alttext="\lambda_{\text{FediOS}}=0.1" display="inline"><semantics id="A2.SS3.p3.1.m1.1a"><mrow id="A2.SS3.p3.1.m1.1.1" xref="A2.SS3.p3.1.m1.1.1.cmml"><msub id="A2.SS3.p3.1.m1.1.1.2" xref="A2.SS3.p3.1.m1.1.1.2.cmml"><mi id="A2.SS3.p3.1.m1.1.1.2.2" xref="A2.SS3.p3.1.m1.1.1.2.2.cmml">λ</mi><mtext id="A2.SS3.p3.1.m1.1.1.2.3" xref="A2.SS3.p3.1.m1.1.1.2.3a.cmml">FediOS</mtext></msub><mo id="A2.SS3.p3.1.m1.1.1.1" xref="A2.SS3.p3.1.m1.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.1.m1.1.1.3" xref="A2.SS3.p3.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.1.m1.1b"><apply id="A2.SS3.p3.1.m1.1.1.cmml" xref="A2.SS3.p3.1.m1.1.1"><eq id="A2.SS3.p3.1.m1.1.1.1.cmml" xref="A2.SS3.p3.1.m1.1.1.1"></eq><apply id="A2.SS3.p3.1.m1.1.1.2.cmml" xref="A2.SS3.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.1.m1.1.1.2.1.cmml" xref="A2.SS3.p3.1.m1.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.1.m1.1.1.2.2.cmml" xref="A2.SS3.p3.1.m1.1.1.2.2">𝜆</ci><ci id="A2.SS3.p3.1.m1.1.1.2.3a.cmml" xref="A2.SS3.p3.1.m1.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.1.m1.1.1.2.3.cmml" xref="A2.SS3.p3.1.m1.1.1.2.3">FediOS</mtext></ci></apply><cn type="float" id="A2.SS3.p3.1.m1.1.1.3.cmml" xref="A2.SS3.p3.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.1.m1.1c">\lambda_{\text{FediOS}}=0.1</annotation></semantics></math> in Office-Caltech-10, DomainNet and CIFAR-100, and <math id="A2.SS3.p3.2.m2.1" class="ltx_Math" alttext="\lambda_{\text{FediOS}}=0.0" display="inline"><semantics id="A2.SS3.p3.2.m2.1a"><mrow id="A2.SS3.p3.2.m2.1.1" xref="A2.SS3.p3.2.m2.1.1.cmml"><msub id="A2.SS3.p3.2.m2.1.1.2" xref="A2.SS3.p3.2.m2.1.1.2.cmml"><mi id="A2.SS3.p3.2.m2.1.1.2.2" xref="A2.SS3.p3.2.m2.1.1.2.2.cmml">λ</mi><mtext id="A2.SS3.p3.2.m2.1.1.2.3" xref="A2.SS3.p3.2.m2.1.1.2.3a.cmml">FediOS</mtext></msub><mo id="A2.SS3.p3.2.m2.1.1.1" xref="A2.SS3.p3.2.m2.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.2.m2.1.1.3" xref="A2.SS3.p3.2.m2.1.1.3.cmml">0.0</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.2.m2.1b"><apply id="A2.SS3.p3.2.m2.1.1.cmml" xref="A2.SS3.p3.2.m2.1.1"><eq id="A2.SS3.p3.2.m2.1.1.1.cmml" xref="A2.SS3.p3.2.m2.1.1.1"></eq><apply id="A2.SS3.p3.2.m2.1.1.2.cmml" xref="A2.SS3.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.2.m2.1.1.2.1.cmml" xref="A2.SS3.p3.2.m2.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.2.m2.1.1.2.2.cmml" xref="A2.SS3.p3.2.m2.1.1.2.2">𝜆</ci><ci id="A2.SS3.p3.2.m2.1.1.2.3a.cmml" xref="A2.SS3.p3.2.m2.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.2.m2.1.1.2.3.cmml" xref="A2.SS3.p3.2.m2.1.1.2.3">FediOS</mtext></ci></apply><cn type="float" id="A2.SS3.p3.2.m2.1.1.3.cmml" xref="A2.SS3.p3.2.m2.1.1.3">0.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.2.m2.1c">\lambda_{\text{FediOS}}=0.0</annotation></semantics></math> in Digits-Five. In this paper, we keep <math id="A2.SS3.p3.3.m3.1" class="ltx_Math" alttext="\alpha_{\text{FediOS}}=0.5" display="inline"><semantics id="A2.SS3.p3.3.m3.1a"><mrow id="A2.SS3.p3.3.m3.1.1" xref="A2.SS3.p3.3.m3.1.1.cmml"><msub id="A2.SS3.p3.3.m3.1.1.2" xref="A2.SS3.p3.3.m3.1.1.2.cmml"><mi id="A2.SS3.p3.3.m3.1.1.2.2" xref="A2.SS3.p3.3.m3.1.1.2.2.cmml">α</mi><mtext id="A2.SS3.p3.3.m3.1.1.2.3" xref="A2.SS3.p3.3.m3.1.1.2.3a.cmml">FediOS</mtext></msub><mo id="A2.SS3.p3.3.m3.1.1.1" xref="A2.SS3.p3.3.m3.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.3.m3.1.1.3" xref="A2.SS3.p3.3.m3.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.3.m3.1b"><apply id="A2.SS3.p3.3.m3.1.1.cmml" xref="A2.SS3.p3.3.m3.1.1"><eq id="A2.SS3.p3.3.m3.1.1.1.cmml" xref="A2.SS3.p3.3.m3.1.1.1"></eq><apply id="A2.SS3.p3.3.m3.1.1.2.cmml" xref="A2.SS3.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.3.m3.1.1.2.1.cmml" xref="A2.SS3.p3.3.m3.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.3.m3.1.1.2.2.cmml" xref="A2.SS3.p3.3.m3.1.1.2.2">𝛼</ci><ci id="A2.SS3.p3.3.m3.1.1.2.3a.cmml" xref="A2.SS3.p3.3.m3.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.3.m3.1.1.2.3.cmml" xref="A2.SS3.p3.3.m3.1.1.2.3">FediOS</mtext></ci></apply><cn type="float" id="A2.SS3.p3.3.m3.1.1.3.cmml" xref="A2.SS3.p3.3.m3.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.3.m3.1c">\alpha_{\text{FediOS}}=0.5</annotation></semantics></math> in all datasets and settings. We set <math id="A2.SS3.p3.4.m4.1" class="ltx_Math" alttext="\alpha_{\text{FedDyn}}=0.1" display="inline"><semantics id="A2.SS3.p3.4.m4.1a"><mrow id="A2.SS3.p3.4.m4.1.1" xref="A2.SS3.p3.4.m4.1.1.cmml"><msub id="A2.SS3.p3.4.m4.1.1.2" xref="A2.SS3.p3.4.m4.1.1.2.cmml"><mi id="A2.SS3.p3.4.m4.1.1.2.2" xref="A2.SS3.p3.4.m4.1.1.2.2.cmml">α</mi><mtext id="A2.SS3.p3.4.m4.1.1.2.3" xref="A2.SS3.p3.4.m4.1.1.2.3a.cmml">FedDyn</mtext></msub><mo id="A2.SS3.p3.4.m4.1.1.1" xref="A2.SS3.p3.4.m4.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.4.m4.1.1.3" xref="A2.SS3.p3.4.m4.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.4.m4.1b"><apply id="A2.SS3.p3.4.m4.1.1.cmml" xref="A2.SS3.p3.4.m4.1.1"><eq id="A2.SS3.p3.4.m4.1.1.1.cmml" xref="A2.SS3.p3.4.m4.1.1.1"></eq><apply id="A2.SS3.p3.4.m4.1.1.2.cmml" xref="A2.SS3.p3.4.m4.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.4.m4.1.1.2.1.cmml" xref="A2.SS3.p3.4.m4.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.4.m4.1.1.2.2.cmml" xref="A2.SS3.p3.4.m4.1.1.2.2">𝛼</ci><ci id="A2.SS3.p3.4.m4.1.1.2.3a.cmml" xref="A2.SS3.p3.4.m4.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.4.m4.1.1.2.3.cmml" xref="A2.SS3.p3.4.m4.1.1.2.3">FedDyn</mtext></ci></apply><cn type="float" id="A2.SS3.p3.4.m4.1.1.3.cmml" xref="A2.SS3.p3.4.m4.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.4.m4.1c">\alpha_{\text{FedDyn}}=0.1</annotation></semantics></math> for ResNet-18 and <math id="A2.SS3.p3.5.m5.1" class="ltx_Math" alttext="\alpha_{\text{FedDyn}}=0.01" display="inline"><semantics id="A2.SS3.p3.5.m5.1a"><mrow id="A2.SS3.p3.5.m5.1.1" xref="A2.SS3.p3.5.m5.1.1.cmml"><msub id="A2.SS3.p3.5.m5.1.1.2" xref="A2.SS3.p3.5.m5.1.1.2.cmml"><mi id="A2.SS3.p3.5.m5.1.1.2.2" xref="A2.SS3.p3.5.m5.1.1.2.2.cmml">α</mi><mtext id="A2.SS3.p3.5.m5.1.1.2.3" xref="A2.SS3.p3.5.m5.1.1.2.3a.cmml">FedDyn</mtext></msub><mo id="A2.SS3.p3.5.m5.1.1.1" xref="A2.SS3.p3.5.m5.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.5.m5.1.1.3" xref="A2.SS3.p3.5.m5.1.1.3.cmml">0.01</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.5.m5.1b"><apply id="A2.SS3.p3.5.m5.1.1.cmml" xref="A2.SS3.p3.5.m5.1.1"><eq id="A2.SS3.p3.5.m5.1.1.1.cmml" xref="A2.SS3.p3.5.m5.1.1.1"></eq><apply id="A2.SS3.p3.5.m5.1.1.2.cmml" xref="A2.SS3.p3.5.m5.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.5.m5.1.1.2.1.cmml" xref="A2.SS3.p3.5.m5.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.5.m5.1.1.2.2.cmml" xref="A2.SS3.p3.5.m5.1.1.2.2">𝛼</ci><ci id="A2.SS3.p3.5.m5.1.1.2.3a.cmml" xref="A2.SS3.p3.5.m5.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.5.m5.1.1.2.3.cmml" xref="A2.SS3.p3.5.m5.1.1.2.3">FedDyn</mtext></ci></apply><cn type="float" id="A2.SS3.p3.5.m5.1.1.3.cmml" xref="A2.SS3.p3.5.m5.1.1.3">0.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.5.m5.1c">\alpha_{\text{FedDyn}}=0.01</annotation></semantics></math> for six-layer CNN and four-layer CNN as suggested in their official implementations or papers. For MOON, we set <math id="A2.SS3.p3.6.m6.1" class="ltx_Math" alttext="\mu_{\text{MOON}}=1.0" display="inline"><semantics id="A2.SS3.p3.6.m6.1a"><mrow id="A2.SS3.p3.6.m6.1.1" xref="A2.SS3.p3.6.m6.1.1.cmml"><msub id="A2.SS3.p3.6.m6.1.1.2" xref="A2.SS3.p3.6.m6.1.1.2.cmml"><mi id="A2.SS3.p3.6.m6.1.1.2.2" xref="A2.SS3.p3.6.m6.1.1.2.2.cmml">μ</mi><mtext id="A2.SS3.p3.6.m6.1.1.2.3" xref="A2.SS3.p3.6.m6.1.1.2.3a.cmml">MOON</mtext></msub><mo id="A2.SS3.p3.6.m6.1.1.1" xref="A2.SS3.p3.6.m6.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.6.m6.1.1.3" xref="A2.SS3.p3.6.m6.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.6.m6.1b"><apply id="A2.SS3.p3.6.m6.1.1.cmml" xref="A2.SS3.p3.6.m6.1.1"><eq id="A2.SS3.p3.6.m6.1.1.1.cmml" xref="A2.SS3.p3.6.m6.1.1.1"></eq><apply id="A2.SS3.p3.6.m6.1.1.2.cmml" xref="A2.SS3.p3.6.m6.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.6.m6.1.1.2.1.cmml" xref="A2.SS3.p3.6.m6.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.6.m6.1.1.2.2.cmml" xref="A2.SS3.p3.6.m6.1.1.2.2">𝜇</ci><ci id="A2.SS3.p3.6.m6.1.1.2.3a.cmml" xref="A2.SS3.p3.6.m6.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.6.m6.1.1.2.3.cmml" xref="A2.SS3.p3.6.m6.1.1.2.3">MOON</mtext></ci></apply><cn type="float" id="A2.SS3.p3.6.m6.1.1.3.cmml" xref="A2.SS3.p3.6.m6.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.6.m6.1c">\mu_{\text{MOON}}=1.0</annotation></semantics></math> and <math id="A2.SS3.p3.7.m7.1" class="ltx_Math" alttext="\tau_{\text{MOON}}=0.5" display="inline"><semantics id="A2.SS3.p3.7.m7.1a"><mrow id="A2.SS3.p3.7.m7.1.1" xref="A2.SS3.p3.7.m7.1.1.cmml"><msub id="A2.SS3.p3.7.m7.1.1.2" xref="A2.SS3.p3.7.m7.1.1.2.cmml"><mi id="A2.SS3.p3.7.m7.1.1.2.2" xref="A2.SS3.p3.7.m7.1.1.2.2.cmml">τ</mi><mtext id="A2.SS3.p3.7.m7.1.1.2.3" xref="A2.SS3.p3.7.m7.1.1.2.3a.cmml">MOON</mtext></msub><mo id="A2.SS3.p3.7.m7.1.1.1" xref="A2.SS3.p3.7.m7.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.7.m7.1.1.3" xref="A2.SS3.p3.7.m7.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.7.m7.1b"><apply id="A2.SS3.p3.7.m7.1.1.cmml" xref="A2.SS3.p3.7.m7.1.1"><eq id="A2.SS3.p3.7.m7.1.1.1.cmml" xref="A2.SS3.p3.7.m7.1.1.1"></eq><apply id="A2.SS3.p3.7.m7.1.1.2.cmml" xref="A2.SS3.p3.7.m7.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.7.m7.1.1.2.1.cmml" xref="A2.SS3.p3.7.m7.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.7.m7.1.1.2.2.cmml" xref="A2.SS3.p3.7.m7.1.1.2.2">𝜏</ci><ci id="A2.SS3.p3.7.m7.1.1.2.3a.cmml" xref="A2.SS3.p3.7.m7.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.7.m7.1.1.2.3.cmml" xref="A2.SS3.p3.7.m7.1.1.2.3">MOON</mtext></ci></apply><cn type="float" id="A2.SS3.p3.7.m7.1.1.3.cmml" xref="A2.SS3.p3.7.m7.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.7.m7.1c">\tau_{\text{MOON}}=0.5</annotation></semantics></math>. For Ditto, the learning setting of the personalized model is the same as the one of the global model. For FedProto, we set <math id="A2.SS3.p3.8.m8.1" class="ltx_Math" alttext="\lambda_{\text{FedProto}}=1.0" display="inline"><semantics id="A2.SS3.p3.8.m8.1a"><mrow id="A2.SS3.p3.8.m8.1.1" xref="A2.SS3.p3.8.m8.1.1.cmml"><msub id="A2.SS3.p3.8.m8.1.1.2" xref="A2.SS3.p3.8.m8.1.1.2.cmml"><mi id="A2.SS3.p3.8.m8.1.1.2.2" xref="A2.SS3.p3.8.m8.1.1.2.2.cmml">λ</mi><mtext id="A2.SS3.p3.8.m8.1.1.2.3" xref="A2.SS3.p3.8.m8.1.1.2.3a.cmml">FedProto</mtext></msub><mo id="A2.SS3.p3.8.m8.1.1.1" xref="A2.SS3.p3.8.m8.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.8.m8.1.1.3" xref="A2.SS3.p3.8.m8.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.8.m8.1b"><apply id="A2.SS3.p3.8.m8.1.1.cmml" xref="A2.SS3.p3.8.m8.1.1"><eq id="A2.SS3.p3.8.m8.1.1.1.cmml" xref="A2.SS3.p3.8.m8.1.1.1"></eq><apply id="A2.SS3.p3.8.m8.1.1.2.cmml" xref="A2.SS3.p3.8.m8.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.8.m8.1.1.2.1.cmml" xref="A2.SS3.p3.8.m8.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.8.m8.1.1.2.2.cmml" xref="A2.SS3.p3.8.m8.1.1.2.2">𝜆</ci><ci id="A2.SS3.p3.8.m8.1.1.2.3a.cmml" xref="A2.SS3.p3.8.m8.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.8.m8.1.1.2.3.cmml" xref="A2.SS3.p3.8.m8.1.1.2.3">FedProto</mtext></ci></apply><cn type="float" id="A2.SS3.p3.8.m8.1.1.3.cmml" xref="A2.SS3.p3.8.m8.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.8.m8.1c">\lambda_{\text{FedProto}}=1.0</annotation></semantics></math> as suggested in the paper  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">39</span></a>]</cite>.
We set <math id="A2.SS3.p3.9.m9.1" class="ltx_Math" alttext="\lambda_{\text{FedCP}}=0.1" display="inline"><semantics id="A2.SS3.p3.9.m9.1a"><mrow id="A2.SS3.p3.9.m9.1.1" xref="A2.SS3.p3.9.m9.1.1.cmml"><msub id="A2.SS3.p3.9.m9.1.1.2" xref="A2.SS3.p3.9.m9.1.1.2.cmml"><mi id="A2.SS3.p3.9.m9.1.1.2.2" xref="A2.SS3.p3.9.m9.1.1.2.2.cmml">λ</mi><mtext id="A2.SS3.p3.9.m9.1.1.2.3" xref="A2.SS3.p3.9.m9.1.1.2.3a.cmml">FedCP</mtext></msub><mo id="A2.SS3.p3.9.m9.1.1.1" xref="A2.SS3.p3.9.m9.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.9.m9.1.1.3" xref="A2.SS3.p3.9.m9.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.9.m9.1b"><apply id="A2.SS3.p3.9.m9.1.1.cmml" xref="A2.SS3.p3.9.m9.1.1"><eq id="A2.SS3.p3.9.m9.1.1.1.cmml" xref="A2.SS3.p3.9.m9.1.1.1"></eq><apply id="A2.SS3.p3.9.m9.1.1.2.cmml" xref="A2.SS3.p3.9.m9.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.9.m9.1.1.2.1.cmml" xref="A2.SS3.p3.9.m9.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.9.m9.1.1.2.2.cmml" xref="A2.SS3.p3.9.m9.1.1.2.2">𝜆</ci><ci id="A2.SS3.p3.9.m9.1.1.2.3a.cmml" xref="A2.SS3.p3.9.m9.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.9.m9.1.1.2.3.cmml" xref="A2.SS3.p3.9.m9.1.1.2.3">FedCP</mtext></ci></apply><cn type="float" id="A2.SS3.p3.9.m9.1.1.3.cmml" xref="A2.SS3.p3.9.m9.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.9.m9.1c">\lambda_{\text{FedCP}}=0.1</annotation></semantics></math> for ResNet-18 and six-layer CNN, and <math id="A2.SS3.p3.10.m10.1" class="ltx_Math" alttext="\lambda_{\text{FedCP}}=5.0" display="inline"><semantics id="A2.SS3.p3.10.m10.1a"><mrow id="A2.SS3.p3.10.m10.1.1" xref="A2.SS3.p3.10.m10.1.1.cmml"><msub id="A2.SS3.p3.10.m10.1.1.2" xref="A2.SS3.p3.10.m10.1.1.2.cmml"><mi id="A2.SS3.p3.10.m10.1.1.2.2" xref="A2.SS3.p3.10.m10.1.1.2.2.cmml">λ</mi><mtext id="A2.SS3.p3.10.m10.1.1.2.3" xref="A2.SS3.p3.10.m10.1.1.2.3a.cmml">FedCP</mtext></msub><mo id="A2.SS3.p3.10.m10.1.1.1" xref="A2.SS3.p3.10.m10.1.1.1.cmml">=</mo><mn id="A2.SS3.p3.10.m10.1.1.3" xref="A2.SS3.p3.10.m10.1.1.3.cmml">5.0</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.SS3.p3.10.m10.1b"><apply id="A2.SS3.p3.10.m10.1.1.cmml" xref="A2.SS3.p3.10.m10.1.1"><eq id="A2.SS3.p3.10.m10.1.1.1.cmml" xref="A2.SS3.p3.10.m10.1.1.1"></eq><apply id="A2.SS3.p3.10.m10.1.1.2.cmml" xref="A2.SS3.p3.10.m10.1.1.2"><csymbol cd="ambiguous" id="A2.SS3.p3.10.m10.1.1.2.1.cmml" xref="A2.SS3.p3.10.m10.1.1.2">subscript</csymbol><ci id="A2.SS3.p3.10.m10.1.1.2.2.cmml" xref="A2.SS3.p3.10.m10.1.1.2.2">𝜆</ci><ci id="A2.SS3.p3.10.m10.1.1.2.3a.cmml" xref="A2.SS3.p3.10.m10.1.1.2.3"><mtext mathsize="70%" id="A2.SS3.p3.10.m10.1.1.2.3.cmml" xref="A2.SS3.p3.10.m10.1.1.2.3">FedCP</mtext></ci></apply><cn type="float" id="A2.SS3.p3.10.m10.1.1.3.cmml" xref="A2.SS3.p3.10.m10.1.1.3">5.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p3.10.m10.1c">\lambda_{\text{FedCP}}=5.0</annotation></semantics></math> for four-layer CNN.
For pFedVEM, we train the feature extractor and classifier head of the network with the same learning rate and number of training epochs, and MC sampling is fixed to 5 times as suggested in the paper <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">51</span></a>]</cite>.</p>
</div>
<figure id="A2.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x10.png" id="A2.F6.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="A2.F6.sf1.3.2" class="ltx_text" style="font-size:90%;">Office-Caltech-10.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x11.png" id="A2.F6.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="A2.F6.sf2.3.2" class="ltx_text" style="font-size:90%;">DomainNet.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F6.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x12.png" id="A2.F6.sf3.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="A2.F6.sf3.3.2" class="ltx_text" style="font-size:90%;">Digits-Five.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F6.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.18559/assets/x13.png" id="A2.F6.sf4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="461" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="A2.F6.sf4.3.2" class="ltx_text" style="font-size:90%;">CIFAR-100.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F6.3.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="A2.F6.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Demonstration of case samples from four datasets.<span id="A2.F6.4.2.1" class="ltx_text ltx_font_medium"> For each dataset, we selected five classes for illustration.
</span></span></figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2311.18558" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2311.18559" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2311.18559">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2311.18559" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2311.18560" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Feb 28 03:25:11 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
