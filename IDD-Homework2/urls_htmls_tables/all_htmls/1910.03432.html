<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1910.03432] Federated Learning of N-gram Language Models</title><meta property="og:description" content="We propose algorithms to train production-quality n-gram
language models using federated learning. Federated learning is a distributed
computation platform that can be used to train global models for portable
devices sâ€¦">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning of N-gram Language Models">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning of N-gram Language Models">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1910.03432">

<!--Generated on Sat Mar 16 10:08:53 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Learning of N-gram Language Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mingqing Chen, Ananda Theertha Suresh, Rajiv Mathews, Adeline Wong,
<br class="ltx_break"><span id="id1.1.id1" class="ltx_text ltx_font_bold">Cyril Allauzen, FranÃ§oise Beaufays, Michael Riley
<br class="ltx_break"></span>Google, Inc.
<br class="ltx_break"><span id="id2.2.id2" class="ltx_text ltx_font_typewriter">{mingqing,theertha,mathews,adelinew,allauzen,fsb,riley}</span> 
<br class="ltx_break"><span id="id3.3.id3" class="ltx_text ltx_font_typewriter">@google.com</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id4.id1" class="ltx_p">We propose algorithms to train production-quality n-gram
language models using federated learning. Federated learning is a distributed
computation platform that can be used to train global models for portable
devices such as smart phones. Federated learning is especially relevant for
applications handling privacy-sensitive data, such as virtual keyboards,
because training is performed without the usersâ€™ data ever leaving their
devices. While the principles of federated learning are fairly generic, its
methodology assumes that the underlying models are neural networks. However,
virtual keyboards are typically powered by n-gram language models for latency
reasons.</p>
<p id="id5.id2" class="ltx_p">We propose to train a recurrent neural network language model using
the decentralized <span id="id5.id2.1" class="ltx_text ltx_font_typewriter">FederatedAveraging</span> algorithm and to
approximate this federated model server-side with an n-gram model
that can be deployed to devices for fast inference. Our technical
contributions include ways of handling large vocabularies,
algorithms to correct capitalization errors in user data, and
efficient finite state transducer algorithms to convert word
language models to word-piece language models and vice versa. The
n-gram language models trained with federated learning are compared
to n-grams trained with traditional server-based algorithms using
A/B tests on tens of millions of users of a virtual keyboard.
Results are presented for two languages, American English and
Brazilian Portuguese. This work demonstrates that high-quality
n-gram language models can be trained directly on client mobile
devices without sensitive training data ever leaving the devices.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Virtual keyboard applications</h3>

<div id="S1.SS1.p1" class="ltx_para">
<p id="S1.SS1.p1.1" class="ltx_p">Virtual keyboards for mobile devices provide a host of functionalities from
decoding noisy spatial signals from tap and glide typing inputs to providing
auto-corrections, word completions, and next-word predictions. These features
must fit within tight RAM and CPU budgets, and operate under strict latency
constraints. A key press should result in visible feedback within about 20
millisecondsÂ <cite class="ltx_cite ltx_citemacro_citep">(Ouyang etÂ al., <a href="#bib.bib26" title="" class="ltx_ref">2017</a>; Alsharif etÂ al., <a href="#bib.bib4" title="" class="ltx_ref">2015</a>)</cite>. Weighted finite-state transducers
have been used successfully to decode keyboard spatial signals using a
combination of spatial and language
modelsÂ <cite class="ltx_cite ltx_citemacro_citep">(Ouyang etÂ al., <a href="#bib.bib26" title="" class="ltx_ref">2017</a>; Hellsten etÂ al., <a href="#bib.bib14" title="" class="ltx_ref">2017</a>)</cite>.
FigureÂ <a href="#S1.F1" title="Figure 1 â€£ 1.1 Virtual keyboard applications â€£ 1 Introduction â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>
shows the glide trails of two spatially-similar words. Because of the similarity
of the two trails, the decoder must rely on the language model to discriminate
between viable candidates.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/1910.03432/assets/glide.jpg" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="509" height="206" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Glide trails are shown for two spatially-similar words:
â€œVampireâ€ (in red) and â€œValueâ€ (in orange). Viable decoding candidates
are proposed based on context and language model scores.</figcaption>
</figure>
<div id="S1.SS1.p2" class="ltx_para">
<p id="S1.SS1.p2.3" class="ltx_p">For memory and latency reasons, especially on low-end devices, the language
models are typically based on n-grams and do not exceed ten megabytes. A
language model (LM) is a probabilistic model on words. Given previous words
<math id="S1.SS1.p2.1.m1.4" class="ltx_Math" alttext="x_{1},x_{2},\ldots,x_{m-1}" display="inline"><semantics id="S1.SS1.p2.1.m1.4a"><mrow id="S1.SS1.p2.1.m1.4.4.3" xref="S1.SS1.p2.1.m1.4.4.4.cmml"><msub id="S1.SS1.p2.1.m1.2.2.1.1" xref="S1.SS1.p2.1.m1.2.2.1.1.cmml"><mi id="S1.SS1.p2.1.m1.2.2.1.1.2" xref="S1.SS1.p2.1.m1.2.2.1.1.2.cmml">x</mi><mn id="S1.SS1.p2.1.m1.2.2.1.1.3" xref="S1.SS1.p2.1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="S1.SS1.p2.1.m1.4.4.3.4" xref="S1.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S1.SS1.p2.1.m1.3.3.2.2" xref="S1.SS1.p2.1.m1.3.3.2.2.cmml"><mi id="S1.SS1.p2.1.m1.3.3.2.2.2" xref="S1.SS1.p2.1.m1.3.3.2.2.2.cmml">x</mi><mn id="S1.SS1.p2.1.m1.3.3.2.2.3" xref="S1.SS1.p2.1.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="S1.SS1.p2.1.m1.4.4.3.5" xref="S1.SS1.p2.1.m1.4.4.4.cmml">,</mo><mi mathvariant="normal" id="S1.SS1.p2.1.m1.1.1" xref="S1.SS1.p2.1.m1.1.1.cmml">â€¦</mi><mo id="S1.SS1.p2.1.m1.4.4.3.6" xref="S1.SS1.p2.1.m1.4.4.4.cmml">,</mo><msub id="S1.SS1.p2.1.m1.4.4.3.3" xref="S1.SS1.p2.1.m1.4.4.3.3.cmml"><mi id="S1.SS1.p2.1.m1.4.4.3.3.2" xref="S1.SS1.p2.1.m1.4.4.3.3.2.cmml">x</mi><mrow id="S1.SS1.p2.1.m1.4.4.3.3.3" xref="S1.SS1.p2.1.m1.4.4.3.3.3.cmml"><mi id="S1.SS1.p2.1.m1.4.4.3.3.3.2" xref="S1.SS1.p2.1.m1.4.4.3.3.3.2.cmml">m</mi><mo id="S1.SS1.p2.1.m1.4.4.3.3.3.1" xref="S1.SS1.p2.1.m1.4.4.3.3.3.1.cmml">âˆ’</mo><mn id="S1.SS1.p2.1.m1.4.4.3.3.3.3" xref="S1.SS1.p2.1.m1.4.4.3.3.3.3.cmml">1</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.1.m1.4b"><list id="S1.SS1.p2.1.m1.4.4.4.cmml" xref="S1.SS1.p2.1.m1.4.4.3"><apply id="S1.SS1.p2.1.m1.2.2.1.1.cmml" xref="S1.SS1.p2.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="S1.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S1.SS1.p2.1.m1.2.2.1.1">subscript</csymbol><ci id="S1.SS1.p2.1.m1.2.2.1.1.2.cmml" xref="S1.SS1.p2.1.m1.2.2.1.1.2">ğ‘¥</ci><cn type="integer" id="S1.SS1.p2.1.m1.2.2.1.1.3.cmml" xref="S1.SS1.p2.1.m1.2.2.1.1.3">1</cn></apply><apply id="S1.SS1.p2.1.m1.3.3.2.2.cmml" xref="S1.SS1.p2.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S1.SS1.p2.1.m1.3.3.2.2.1.cmml" xref="S1.SS1.p2.1.m1.3.3.2.2">subscript</csymbol><ci id="S1.SS1.p2.1.m1.3.3.2.2.2.cmml" xref="S1.SS1.p2.1.m1.3.3.2.2.2">ğ‘¥</ci><cn type="integer" id="S1.SS1.p2.1.m1.3.3.2.2.3.cmml" xref="S1.SS1.p2.1.m1.3.3.2.2.3">2</cn></apply><ci id="S1.SS1.p2.1.m1.1.1.cmml" xref="S1.SS1.p2.1.m1.1.1">â€¦</ci><apply id="S1.SS1.p2.1.m1.4.4.3.3.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S1.SS1.p2.1.m1.4.4.3.3.1.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3">subscript</csymbol><ci id="S1.SS1.p2.1.m1.4.4.3.3.2.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3.2">ğ‘¥</ci><apply id="S1.SS1.p2.1.m1.4.4.3.3.3.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3.3"><minus id="S1.SS1.p2.1.m1.4.4.3.3.3.1.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3.3.1"></minus><ci id="S1.SS1.p2.1.m1.4.4.3.3.3.2.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3.3.2">ğ‘š</ci><cn type="integer" id="S1.SS1.p2.1.m1.4.4.3.3.3.3.cmml" xref="S1.SS1.p2.1.m1.4.4.3.3.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.1.m1.4c">x_{1},x_{2},\ldots,x_{m-1}</annotation></semantics></math>, an LM assigns a probability to the new words, i.e.
<math id="S1.SS1.p2.2.m2.2" class="ltx_Math" alttext="p(x_{m}|x_{m-1},\ldots,x_{1})" display="inline"><semantics id="S1.SS1.p2.2.m2.2a"><mrow id="S1.SS1.p2.2.m2.2.2" xref="S1.SS1.p2.2.m2.2.2.cmml"><mi id="S1.SS1.p2.2.m2.2.2.3" xref="S1.SS1.p2.2.m2.2.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S1.SS1.p2.2.m2.2.2.2" xref="S1.SS1.p2.2.m2.2.2.2.cmml">â€‹</mo><mrow id="S1.SS1.p2.2.m2.2.2.1.1" xref="S1.SS1.p2.2.m2.2.2.1.1.1.cmml"><mo stretchy="false" id="S1.SS1.p2.2.m2.2.2.1.1.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.cmml">(</mo><mrow id="S1.SS1.p2.2.m2.2.2.1.1.1" xref="S1.SS1.p2.2.m2.2.2.1.1.1.cmml"><msub id="S1.SS1.p2.2.m2.2.2.1.1.1.4" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4.cmml"><mi id="S1.SS1.p2.2.m2.2.2.1.1.1.4.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4.2.cmml">x</mi><mi id="S1.SS1.p2.2.m2.2.2.1.1.1.4.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4.3.cmml">m</mi></msub><mo fence="false" id="S1.SS1.p2.2.m2.2.2.1.1.1.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.3.cmml">|</mo><mrow id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.3.cmml"><msub id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.cmml"><mi id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.cmml"><mi id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.2.cmml">m</mi><mo id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.1" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.1.cmml">âˆ’</mo><mn id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.3.cmml">,</mo><mi mathvariant="normal" id="S1.SS1.p2.2.m2.1.1" xref="S1.SS1.p2.2.m2.1.1.cmml">â€¦</mi><mo id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.4" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.3.cmml">,</mo><msub id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.cmml"><mi id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.2" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.2.cmml">x</mi><mn id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.3.cmml">1</mn></msub></mrow></mrow><mo stretchy="false" id="S1.SS1.p2.2.m2.2.2.1.1.3" xref="S1.SS1.p2.2.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.2.m2.2b"><apply id="S1.SS1.p2.2.m2.2.2.cmml" xref="S1.SS1.p2.2.m2.2.2"><times id="S1.SS1.p2.2.m2.2.2.2.cmml" xref="S1.SS1.p2.2.m2.2.2.2"></times><ci id="S1.SS1.p2.2.m2.2.2.3.cmml" xref="S1.SS1.p2.2.m2.2.2.3">ğ‘</ci><apply id="S1.SS1.p2.2.m2.2.2.1.1.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1"><csymbol cd="latexml" id="S1.SS1.p2.2.m2.2.2.1.1.1.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.3">conditional</csymbol><apply id="S1.SS1.p2.2.m2.2.2.1.1.1.4.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S1.SS1.p2.2.m2.2.2.1.1.1.4.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4">subscript</csymbol><ci id="S1.SS1.p2.2.m2.2.2.1.1.1.4.2.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4.2">ğ‘¥</ci><ci id="S1.SS1.p2.2.m2.2.2.1.1.1.4.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.4.3">ğ‘š</ci></apply><list id="S1.SS1.p2.2.m2.2.2.1.1.1.2.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2"><apply id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.2.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3"><minus id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.1"></minus><ci id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.2">ğ‘š</ci><cn type="integer" id="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S1.SS1.p2.2.m2.1.1.cmml" xref="S1.SS1.p2.2.m2.1.1">â€¦</ci><apply id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.1.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.2.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.2">ğ‘¥</ci><cn type="integer" id="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.3.cmml" xref="S1.SS1.p2.2.m2.2.2.1.1.1.2.2.2.3">1</cn></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.2.m2.2c">p(x_{m}|x_{m-1},\ldots,x_{1})</annotation></semantics></math>. An n-gram LM is a Markovian distribution of
order <math id="S1.SS1.p2.3.m3.1" class="ltx_Math" alttext="n-1" display="inline"><semantics id="S1.SS1.p2.3.m3.1a"><mrow id="S1.SS1.p2.3.m3.1.1" xref="S1.SS1.p2.3.m3.1.1.cmml"><mi id="S1.SS1.p2.3.m3.1.1.2" xref="S1.SS1.p2.3.m3.1.1.2.cmml">n</mi><mo id="S1.SS1.p2.3.m3.1.1.1" xref="S1.SS1.p2.3.m3.1.1.1.cmml">âˆ’</mo><mn id="S1.SS1.p2.3.m3.1.1.3" xref="S1.SS1.p2.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.3.m3.1b"><apply id="S1.SS1.p2.3.m3.1.1.cmml" xref="S1.SS1.p2.3.m3.1.1"><minus id="S1.SS1.p2.3.m3.1.1.1.cmml" xref="S1.SS1.p2.3.m3.1.1.1"></minus><ci id="S1.SS1.p2.3.m3.1.1.2.cmml" xref="S1.SS1.p2.3.m3.1.1.2">ğ‘›</ci><cn type="integer" id="S1.SS1.p2.3.m3.1.1.3.cmml" xref="S1.SS1.p2.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.3.m3.1c">n-1</annotation></semantics></math>, defined by</p>
<table id="S1.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S1.Ex1.m1.3" class="ltx_Math" alttext="p(x_{m}|x_{m-1},\ldots,x_{1})=p(x_{m}|x_{m-1},\ldots,x_{m-n+1})," display="block"><semantics id="S1.Ex1.m1.3a"><mrow id="S1.Ex1.m1.3.3.1" xref="S1.Ex1.m1.3.3.1.1.cmml"><mrow id="S1.Ex1.m1.3.3.1.1" xref="S1.Ex1.m1.3.3.1.1.cmml"><mrow id="S1.Ex1.m1.3.3.1.1.1" xref="S1.Ex1.m1.3.3.1.1.1.cmml"><mi id="S1.Ex1.m1.3.3.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S1.Ex1.m1.3.3.1.1.1.2" xref="S1.Ex1.m1.3.3.1.1.1.2.cmml">â€‹</mo><mrow id="S1.Ex1.m1.3.3.1.1.1.1.1" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S1.Ex1.m1.3.3.1.1.1.1.1.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S1.Ex1.m1.3.3.1.1.1.1.1.1" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.cmml"><msub id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.cmml"><mi id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.2.cmml">x</mi><mi id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.3.cmml">m</mi></msub><mo fence="false" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.3.cmml"><msub id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml">m</mi><mo id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1.cmml">âˆ’</mo><mn id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><mi mathvariant="normal" id="S1.Ex1.m1.1.1" xref="S1.Ex1.m1.1.1.cmml">â€¦</mi><mo id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.4" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mn id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub></mrow></mrow><mo stretchy="false" id="S1.Ex1.m1.3.3.1.1.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S1.Ex1.m1.3.3.1.1.3" xref="S1.Ex1.m1.3.3.1.1.3.cmml">=</mo><mrow id="S1.Ex1.m1.3.3.1.1.2" xref="S1.Ex1.m1.3.3.1.1.2.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.3" xref="S1.Ex1.m1.3.3.1.1.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S1.Ex1.m1.3.3.1.1.2.2" xref="S1.Ex1.m1.3.3.1.1.2.2.cmml">â€‹</mo><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S1.Ex1.m1.3.3.1.1.2.1.1.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.cmml">(</mo><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.cmml"><msub id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.2.cmml">x</mi><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.3.cmml">m</mi></msub><mo fence="false" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.3.cmml">|</mo><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.3.cmml"><msub id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.2.cmml">m</mi><mo id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.1.cmml">âˆ’</mo><mn id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.3.cmml">,</mo><mi mathvariant="normal" id="S1.Ex1.m1.2.2" xref="S1.Ex1.m1.2.2.cmml">â€¦</mi><mo id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.4" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.3.cmml">,</mo><msub id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.2.cmml">x</mi><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.cmml"><mrow id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.cmml"><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.2" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.2.cmml">m</mi><mo id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.1.cmml">âˆ’</mo><mi id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.3.cmml">n</mi></mrow><mo id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.1" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.1.cmml">+</mo><mn id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo stretchy="false" id="S1.Ex1.m1.3.3.1.1.2.1.1.3" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S1.Ex1.m1.3.3.1.2" xref="S1.Ex1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.Ex1.m1.3b"><apply id="S1.Ex1.m1.3.3.1.1.cmml" xref="S1.Ex1.m1.3.3.1"><eq id="S1.Ex1.m1.3.3.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.3"></eq><apply id="S1.Ex1.m1.3.3.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1"><times id="S1.Ex1.m1.3.3.1.1.1.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.2"></times><ci id="S1.Ex1.m1.3.3.1.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.3">ğ‘</ci><apply id="S1.Ex1.m1.3.3.1.1.1.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.3">conditional</csymbol><apply id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.2">ğ‘¥</ci><ci id="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.4.3">ğ‘š</ci></apply><list id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2"><apply id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3"><minus id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.2">ğ‘š</ci><cn type="integer" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S1.Ex1.m1.1.1.cmml" xref="S1.Ex1.m1.1.1">â€¦</ci><apply id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.2">ğ‘¥</ci><cn type="integer" id="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.1.1.1.1.2.2.2.3">1</cn></apply></list></apply></apply><apply id="S1.Ex1.m1.3.3.1.1.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2"><times id="S1.Ex1.m1.3.3.1.1.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.2"></times><ci id="S1.Ex1.m1.3.3.1.1.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.3">ğ‘</ci><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1"><csymbol cd="latexml" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.3">conditional</csymbol><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.2">ğ‘¥</ci><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.4.3">ğ‘š</ci></apply><list id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2"><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3"><minus id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.1"></minus><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.2">ğ‘š</ci><cn type="integer" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S1.Ex1.m1.2.2.cmml" xref="S1.Ex1.m1.2.2">â€¦</ci><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2">subscript</csymbol><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.2">ğ‘¥</ci><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3"><plus id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.1"></plus><apply id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2"><minus id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.1.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.1"></minus><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.2.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.2">ğ‘š</ci><ci id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.2.3">ğ‘›</ci></apply><cn type="integer" id="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.3.cmml" xref="S1.Ex1.m1.3.3.1.1.2.1.1.1.2.2.2.3.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.Ex1.m1.3c">p(x_{m}|x_{m-1},\ldots,x_{1})=p(x_{m}|x_{m-1},\ldots,x_{m-n+1}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S1.SS1.p2.7" class="ltx_p">where <math id="S1.SS1.p2.4.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S1.SS1.p2.4.m1.1a"><mi id="S1.SS1.p2.4.m1.1.1" xref="S1.SS1.p2.4.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.4.m1.1b"><ci id="S1.SS1.p2.4.m1.1.1.cmml" xref="S1.SS1.p2.4.m1.1.1">ğ‘›</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.4.m1.1c">n</annotation></semantics></math> is the order of the n-gram. For computation and memory efficiency,
keyboard LMs typically have higher-order n-grams over a subset of the
vocabulary, e.g. the most frequent <math id="S1.SS1.p2.5.m2.1" class="ltx_Math" alttext="64" display="inline"><semantics id="S1.SS1.p2.5.m2.1a"><mn id="S1.SS1.p2.5.m2.1.1" xref="S1.SS1.p2.5.m2.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.5.m2.1b"><cn type="integer" id="S1.SS1.p2.5.m2.1.1.cmml" xref="S1.SS1.p2.5.m2.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.5.m2.1c">64</annotation></semantics></math>K words, and the rest of the vocabulary
only has unigrams. We consider n-gram LMs that do not exceed
<math id="S1.SS1.p2.6.m3.1" class="ltx_Math" alttext="1.5" display="inline"><semantics id="S1.SS1.p2.6.m3.1a"><mn id="S1.SS1.p2.6.m3.1.1" xref="S1.SS1.p2.6.m3.1.1.cmml">1.5</mn><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.6.m3.1b"><cn type="float" id="S1.SS1.p2.6.m3.1.1.cmml" xref="S1.SS1.p2.6.m3.1.1">1.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.6.m3.1c">1.5</annotation></semantics></math>M n-grams and include fewer than <math id="S1.SS1.p2.7.m4.1" class="ltx_Math" alttext="200" display="inline"><semantics id="S1.SS1.p2.7.m4.1a"><mn id="S1.SS1.p2.7.m4.1.1" xref="S1.SS1.p2.7.m4.1.1.cmml">200</mn><annotation-xml encoding="MathML-Content" id="S1.SS1.p2.7.m4.1b"><cn type="integer" id="S1.SS1.p2.7.m4.1.1.cmml" xref="S1.SS1.p2.7.m4.1.1">200</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.SS1.p2.7.m4.1c">200</annotation></semantics></math>K unigrams.</p>
</div>
<div id="S1.SS1.p3" class="ltx_para">
<p id="S1.SS1.p3.1" class="ltx_p">N-gram models are traditionally trained by applying a smoothing method to n-gram
counts from a training corpusÂ <cite class="ltx_cite ltx_citemacro_cite">Chen and Goodman (<a href="#bib.bib8" title="" class="ltx_ref">1999</a>)</cite>. The highest quality
n-gram models are trained over data that are well-matched to the desired
outputÂ <cite class="ltx_cite ltx_citemacro_cite">Moore and Lewis (<a href="#bib.bib25" title="" class="ltx_ref">2010</a>)</cite>. For virtual keyboards, training over
usersâ€™ typed text would lead to the best results. Of course, such data are very
personal and need to be handled with care.</p>
</div>
</section>
<section id="S1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.2 </span>Federated learning</h3>

<div id="S1.SS2.p1" class="ltx_para">
<p id="S1.SS2.p1.1" class="ltx_p">We propose to leverage <em id="S1.SS2.p1.1.1" class="ltx_emph ltx_font_italic">Federated Learning</em>
(FL)Â <cite class="ltx_cite ltx_citemacro_cite">KoneÄná»³ etÂ al. (<a href="#bib.bib17" title="" class="ltx_ref">2016</a>); KoneÄnÃ½ etÂ al. (<a href="#bib.bib18" title="" class="ltx_ref">2016</a>)</cite>, a technique where
machine learning models are trained in a decentralized manner on end-usersâ€™
devices, so that raw data never leaves these devices. Only
targeted and ephemeral parameter updates are aggregated on a
centralized server. FigureÂ <a href="#S1.F2" title="Figure 2 â€£ 1.2 Federated learning â€£ 1 Introduction â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> provides an illustration
of the process.</p>
</div>
<figure id="S1.F2" class="ltx_figure"><img src="/html/1910.03432/assets/fl_illustration.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="592" height="334" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>An illustration of the federated learning process from
<cite class="ltx_cite ltx_citemacro_citet">McMahan and Ramage (<a href="#bib.bib23" title="" class="ltx_ref">2017</a>)</cite>: (A) client devices compute SGD updates on
locally-stored data, (B) a server aggregates the client updates
to build a new global model, (C) the new model is sent back to
clients, and the process is repeated.</figcaption>
</figure>
<div id="S1.SS2.p2" class="ltx_para">
<p id="S1.SS2.p2.1" class="ltx_p">Federated learning for keyboard input was previously explored in
<cite class="ltx_cite ltx_citemacro_citet">Hard etÂ al. (<a href="#bib.bib13" title="" class="ltx_ref">2018</a>)</cite>, in which a federated recurrent neural network (RNN)
was trained for next-word prediction. However, latency constraints prevent the
direct use of an RNN for decoding. To overcome this problem, we propose to
derive an n-gram LM from a federated RNN LM model and use that n-gram LM for
decoding. Specifically, the approximation algorithm is based on <span id="S1.SS2.p2.1.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰, which
was recently proposed in <cite class="ltx_cite ltx_citemacro_citet">Suresh etÂ al. (<a href="#bib.bib30" title="" class="ltx_ref">2019a</a>, <a href="#bib.bib31" title="" class="ltx_ref">b</a>)</cite>. The proposed approach has
several advantages:</p>
</div>
<div id="S1.SS2.p3" class="ltx_para ltx_noindent">
<p id="S1.SS2.p3.1" class="ltx_p"><span id="S1.SS2.p3.1.1" class="ltx_text ltx_font_bold">Improved model quality:</span> Since the RNN LM is trained directly
on domain-matched user data, its predictions are more likely to match
actual user behavior. In addition, as shown in <cite class="ltx_cite ltx_citemacro_citet">Suresh etÂ al. (<a href="#bib.bib30" title="" class="ltx_ref">2019a</a>)</cite>,
an n-gram LM approximated from such an RNN LM is of higher quality than an n-gram
LM trained on user data directly.</p>
</div>
<div id="S1.SS2.p4" class="ltx_para ltx_noindent">
<p id="S1.SS2.p4.1" class="ltx_p"><span id="S1.SS2.p4.1.1" class="ltx_text ltx_font_bold">Minimum information transmission:</span> In FL, only the minimal
information necessary for model training (the model parameter deltas) is
transmitted to centralized servers. The model updates contain much less
information than the complete training data.</p>
</div>
<div id="S1.SS2.p5" class="ltx_para ltx_noindent">
<p id="S1.SS2.p5.1" class="ltx_p"><span id="S1.SS2.p5.1.1" class="ltx_text ltx_font_bold">Additional privacy-preserving techniques:</span>
FL can be further combined with privacy-preserving techniques such as secure
multi-party computationÂ <cite class="ltx_cite ltx_citemacro_cite">Bonawitz etÂ al. (<a href="#bib.bib7" title="" class="ltx_ref">2017</a>)</cite> and differential
privacyÂ <cite class="ltx_cite ltx_citemacro_cite">McMahan etÂ al. (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>); Agarwal etÂ al. (<a href="#bib.bib2" title="" class="ltx_ref">2018</a>); Abadi etÂ al. (<a href="#bib.bib1" title="" class="ltx_ref">2016</a>)</cite>. By the
post-processing theorem, if we train a single differentially private recurrent
model and use it to approximate n-gram models, all the distilled models will
also be differentially private with the same
parametersÂ <cite class="ltx_cite ltx_citemacro_cite">Dwork etÂ al. (<a href="#bib.bib11" title="" class="ltx_ref">2014</a>)</cite>.</p>
</div>
<div id="S1.SS2.p6" class="ltx_para">
<p id="S1.SS2.p6.1" class="ltx_p">For the above reasons, we have not proposed to learn n-gram models directly
using <span id="S1.SS2.p6.1.1" class="ltx_text ltx_font_typewriter">FederatedAveraging</span> of n-gram counts for all orders.</p>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Outline</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">The paper is organized along the lines of challenges associated with converting
RNN LMs to n-gram LMs for virtual keyboards: the feasibility of training neural
models with a large vocabulary, inconsistent capitalization in the training
data, and data sparsity in morphologically rich languages. We elaborate on each
of these challenges below.</p>
</div>
<div id="S2.p2" class="ltx_para ltx_noindent">
<p id="S2.p2.3" class="ltx_p"><span id="S2.p2.3.1" class="ltx_text ltx_font_bold">Large vocabulary:</span>
Keyboard n-gram models are typically based on a carefully hand-curated
vocabulary to eliminate misspellings, erroneous capitalizations, and other
artifacts. The vocabulary size often numbers in the hundreds of thousands.
However, training a neural model directly over the vocabulary is memory
intensive as the embedding and softmax layers require space
<math id="S2.p2.1.m1.1" class="ltx_Math" alttext="\left|\mathcal{V}\right|\times N_{e}" display="inline"><semantics id="S2.p2.1.m1.1a"><mrow id="S2.p2.1.m1.1.2" xref="S2.p2.1.m1.1.2.cmml"><mrow id="S2.p2.1.m1.1.2.2.2" xref="S2.p2.1.m1.1.2.2.1.cmml"><mo id="S2.p2.1.m1.1.2.2.2.1" xref="S2.p2.1.m1.1.2.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml">ğ’±</mi><mo rspace="0.055em" id="S2.p2.1.m1.1.2.2.2.2" xref="S2.p2.1.m1.1.2.2.1.1.cmml">|</mo></mrow><mo rspace="0.222em" id="S2.p2.1.m1.1.2.1" xref="S2.p2.1.m1.1.2.1.cmml">Ã—</mo><msub id="S2.p2.1.m1.1.2.3" xref="S2.p2.1.m1.1.2.3.cmml"><mi id="S2.p2.1.m1.1.2.3.2" xref="S2.p2.1.m1.1.2.3.2.cmml">N</mi><mi id="S2.p2.1.m1.1.2.3.3" xref="S2.p2.1.m1.1.2.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><apply id="S2.p2.1.m1.1.2.cmml" xref="S2.p2.1.m1.1.2"><times id="S2.p2.1.m1.1.2.1.cmml" xref="S2.p2.1.m1.1.2.1"></times><apply id="S2.p2.1.m1.1.2.2.1.cmml" xref="S2.p2.1.m1.1.2.2.2"><abs id="S2.p2.1.m1.1.2.2.1.1.cmml" xref="S2.p2.1.m1.1.2.2.2.1"></abs><ci id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1">ğ’±</ci></apply><apply id="S2.p2.1.m1.1.2.3.cmml" xref="S2.p2.1.m1.1.2.3"><csymbol cd="ambiguous" id="S2.p2.1.m1.1.2.3.1.cmml" xref="S2.p2.1.m1.1.2.3">subscript</csymbol><ci id="S2.p2.1.m1.1.2.3.2.cmml" xref="S2.p2.1.m1.1.2.3.2">ğ‘</ci><ci id="S2.p2.1.m1.1.2.3.3.cmml" xref="S2.p2.1.m1.1.2.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">\left|\mathcal{V}\right|\times N_{e}</annotation></semantics></math>, where <math id="S2.p2.2.m2.1" class="ltx_Math" alttext="\left|\mathcal{V}\right|" display="inline"><semantics id="S2.p2.2.m2.1a"><mrow id="S2.p2.2.m2.1.2.2" xref="S2.p2.2.m2.1.2.1.cmml"><mo id="S2.p2.2.m2.1.2.2.1" xref="S2.p2.2.m2.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">ğ’±</mi><mo id="S2.p2.2.m2.1.2.2.2" xref="S2.p2.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><apply id="S2.p2.2.m2.1.2.1.cmml" xref="S2.p2.2.m2.1.2.2"><abs id="S2.p2.2.m2.1.2.1.1.cmml" xref="S2.p2.2.m2.1.2.2.1"></abs><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">ğ’±</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">\left|\mathcal{V}\right|</annotation></semantics></math>
is the vocabulary size and <math id="S2.p2.3.m3.1" class="ltx_Math" alttext="N_{e}" display="inline"><semantics id="S2.p2.3.m3.1a"><msub id="S2.p2.3.m3.1.1" xref="S2.p2.3.m3.1.1.cmml"><mi id="S2.p2.3.m3.1.1.2" xref="S2.p2.3.m3.1.1.2.cmml">N</mi><mi id="S2.p2.3.m3.1.1.3" xref="S2.p2.3.m3.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p2.3.m3.1b"><apply id="S2.p2.3.m3.1.1.cmml" xref="S2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.p2.3.m3.1.1.1.cmml" xref="S2.p2.3.m3.1.1">subscript</csymbol><ci id="S2.p2.3.m3.1.1.2.cmml" xref="S2.p2.3.m3.1.1.2">ğ‘</ci><ci id="S2.p2.3.m3.1.1.3.cmml" xref="S2.p2.3.m3.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.3.m3.1c">N_{e}</annotation></semantics></math> is the embedding dimension.
We propose a way to handle large vocabularies for federated models in SectionÂ <a href="#S3" title="3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div id="S2.p3" class="ltx_para ltx_noindent">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">Incorrect capitalization:</span> In virtual keyboards, users often
type with incorrect casing (e.g. â€œShe lives in new yorkâ€ instead of
â€œShe lives in New Yorkâ€). It would be desirable to decode with the correct
capitalization even though the user-typed data may be incorrect. Before
the discussion of capitalization, the <span id="S2.p3.1.2" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰algorithm is reviewed in
SectionÂ <a href="#S4" title="4 Review of SampleApprox â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. We then modify <span id="S2.p3.1.3" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰to infer capitalization
in SectionÂ <a href="#S5" title="5 Capitalization â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<div id="S2.p4" class="ltx_para ltx_noindent">
<p id="S2.p4.1" class="ltx_p"><span id="S2.p4.1.1" class="ltx_text ltx_font_bold">Language morphology:</span>
Many words are composed of root words and various morpheme components, e.g.
â€œcrazyâ€, â€œcrazilyâ€, and â€œcrazinessâ€. These linguistic features are
prominent in morphologically rich languages such as Russian. The presence of a
large number of morphological variants increases the vocabulary size and data
sparsity ultimately making it more difficult to train neural models.
Algorithms to convert between word and word-piece models are discussed in
SectionÂ <a href="#S6" title="6 Morphologically rich languages â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p">Finally, we compare the performance of word and word-piece models and present
the results of A/B experiments on real users of a virtual keyboard in
SectionÂ <a href="#S7" title="7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Unigram distributions</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.2" class="ltx_p">Among the <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="200" display="inline"><semantics id="S3.p1.1.m1.1a"><mn id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">200</mn><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><cn type="integer" id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">200</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">200</annotation></semantics></math>K words in the vocabulary, our virtual keyboard models
only use the top <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="64" display="inline"><semantics id="S3.p1.2.m2.1a"><mn id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><cn type="integer" id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">64</annotation></semantics></math>K words in the higher-order n-grams. We train the neural
models only on these most frequent words and train a separate unigram model over
the entire vocabulary. We interpolate the two resulting models to obtain the
final model for decoding.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Collection</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.7" class="ltx_p">Unigrams are collected via a modified version of the <span id="S3.SS1.p1.7.1" class="ltx_text ltx_font_typewriter">FederatedAveraging</span>
algorithm. No models are sent to client devices. Instead of returning gradients
to the server, counting statistics are compiled on each device and returned. In
our experiments, we aggregate over groups of approximately 500 devices per
training round. We count a unigram distribution <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="U" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">ğ‘ˆ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">U</annotation></semantics></math> from a
whitelist vocabulary by <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="U=\sum_{i}w_{i}C_{i}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mrow id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">U</mi><mo rspace="0.111em" id="S3.SS1.p1.2.m2.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml"><msub id="S3.SS1.p1.2.m2.1.1.3.1" xref="S3.SS1.p1.2.m2.1.1.3.1.cmml"><mo id="S3.SS1.p1.2.m2.1.1.3.1.2" xref="S3.SS1.p1.2.m2.1.1.3.1.2.cmml">âˆ‘</mo><mi id="S3.SS1.p1.2.m2.1.1.3.1.3" xref="S3.SS1.p1.2.m2.1.1.3.1.3.cmml">i</mi></msub><mrow id="S3.SS1.p1.2.m2.1.1.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.cmml"><msub id="S3.SS1.p1.2.m2.1.1.3.2.2" xref="S3.SS1.p1.2.m2.1.1.3.2.2.cmml"><mi id="S3.SS1.p1.2.m2.1.1.3.2.2.2" xref="S3.SS1.p1.2.m2.1.1.3.2.2.2.cmml">w</mi><mi id="S3.SS1.p1.2.m2.1.1.3.2.2.3" xref="S3.SS1.p1.2.m2.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p1.2.m2.1.1.3.2.1" xref="S3.SS1.p1.2.m2.1.1.3.2.1.cmml">â€‹</mo><msub id="S3.SS1.p1.2.m2.1.1.3.2.3" xref="S3.SS1.p1.2.m2.1.1.3.2.3.cmml"><mi id="S3.SS1.p1.2.m2.1.1.3.2.3.2" xref="S3.SS1.p1.2.m2.1.1.3.2.3.2.cmml">C</mi><mi id="S3.SS1.p1.2.m2.1.1.3.2.3.3" xref="S3.SS1.p1.2.m2.1.1.3.2.3.3.cmml">i</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><eq id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1"></eq><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">ğ‘ˆ</ci><apply id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3"><apply id="S3.SS1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.1">subscript</csymbol><sum id="S3.SS1.p1.2.m2.1.1.3.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.1.2"></sum><ci id="S3.SS1.p1.2.m2.1.1.3.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.1.3">ğ‘–</ci></apply><apply id="S3.SS1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2"><times id="S3.SS1.p1.2.m2.1.1.3.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.1"></times><apply id="S3.SS1.p1.2.m2.1.1.3.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.2.2.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.3.2.2.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.2.2">ğ‘¤</ci><ci id="S3.SS1.p1.2.m2.1.1.3.2.2.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.2.3">ğ‘–</ci></apply><apply id="S3.SS1.p1.2.m2.1.1.3.2.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.3.2.3.1.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.3.2.3.2.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.3.2">ğ¶</ci><ci id="S3.SS1.p1.2.m2.1.1.3.2.3.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3.2.3.3">ğ‘–</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">U=\sum_{i}w_{i}C_{i}</annotation></semantics></math>, where <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">i</annotation></semantics></math> is the index over
devices, <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="C_{i}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">C</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">ğ¶</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">C_{i}</annotation></semantics></math> are the raw unigram counts collected from a single device <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">i</annotation></semantics></math>,
and <math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="w_{i}" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">w</mi><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">ğ‘¤</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">w_{i}</annotation></semantics></math> is a weight applied to device <math id="S3.SS1.p1.7.m7.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">i</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.5" class="ltx_p">To prevent users with large amounts of data from dominating the unigram
distribution, we apply a form of L1-clipping:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.4" class="ltx_Math" alttext="w_{i}=\frac{\lambda}{\max(\lambda,\sum C_{i})}," display="block"><semantics id="S3.E1.m1.4a"><mrow id="S3.E1.m1.4.4.1" xref="S3.E1.m1.4.4.1.1.cmml"><mrow id="S3.E1.m1.4.4.1.1" xref="S3.E1.m1.4.4.1.1.cmml"><msub id="S3.E1.m1.4.4.1.1.2" xref="S3.E1.m1.4.4.1.1.2.cmml"><mi id="S3.E1.m1.4.4.1.1.2.2" xref="S3.E1.m1.4.4.1.1.2.2.cmml">w</mi><mi id="S3.E1.m1.4.4.1.1.2.3" xref="S3.E1.m1.4.4.1.1.2.3.cmml">i</mi></msub><mo id="S3.E1.m1.4.4.1.1.1" xref="S3.E1.m1.4.4.1.1.1.cmml">=</mo><mfrac id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml"><mi id="S3.E1.m1.3.3.5" xref="S3.E1.m1.3.3.5.cmml">Î»</mi><mrow id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.4.cmml"><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">max</mi><mo id="S3.E1.m1.3.3.3.3a" xref="S3.E1.m1.3.3.3.4.cmml">â¡</mo><mrow id="S3.E1.m1.3.3.3.3.1" xref="S3.E1.m1.3.3.3.4.cmml"><mo stretchy="false" id="S3.E1.m1.3.3.3.3.1.2" xref="S3.E1.m1.3.3.3.4.cmml">(</mo><mi id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">Î»</mi><mo rspace="0em" id="S3.E1.m1.3.3.3.3.1.3" xref="S3.E1.m1.3.3.3.4.cmml">,</mo><mrow id="S3.E1.m1.3.3.3.3.1.1" xref="S3.E1.m1.3.3.3.3.1.1.cmml"><mo id="S3.E1.m1.3.3.3.3.1.1.1" xref="S3.E1.m1.3.3.3.3.1.1.1.cmml">âˆ‘</mo><msub id="S3.E1.m1.3.3.3.3.1.1.2" xref="S3.E1.m1.3.3.3.3.1.1.2.cmml"><mi id="S3.E1.m1.3.3.3.3.1.1.2.2" xref="S3.E1.m1.3.3.3.3.1.1.2.2.cmml">C</mi><mi id="S3.E1.m1.3.3.3.3.1.1.2.3" xref="S3.E1.m1.3.3.3.3.1.1.2.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.E1.m1.3.3.3.3.1.4" xref="S3.E1.m1.3.3.3.4.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S3.E1.m1.4.4.1.2" xref="S3.E1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.4b"><apply id="S3.E1.m1.4.4.1.1.cmml" xref="S3.E1.m1.4.4.1"><eq id="S3.E1.m1.4.4.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1"></eq><apply id="S3.E1.m1.4.4.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.4.4.1.1.2.1.cmml" xref="S3.E1.m1.4.4.1.1.2">subscript</csymbol><ci id="S3.E1.m1.4.4.1.1.2.2.cmml" xref="S3.E1.m1.4.4.1.1.2.2">ğ‘¤</ci><ci id="S3.E1.m1.4.4.1.1.2.3.cmml" xref="S3.E1.m1.4.4.1.1.2.3">ğ‘–</ci></apply><apply id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3"><divide id="S3.E1.m1.3.3.4.cmml" xref="S3.E1.m1.3.3"></divide><ci id="S3.E1.m1.3.3.5.cmml" xref="S3.E1.m1.3.3.5">ğœ†</ci><apply id="S3.E1.m1.3.3.3.4.cmml" xref="S3.E1.m1.3.3.3.3"><max id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1"></max><ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">ğœ†</ci><apply id="S3.E1.m1.3.3.3.3.1.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1"><sum id="S3.E1.m1.3.3.3.3.1.1.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1.1"></sum><apply id="S3.E1.m1.3.3.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.3.1.1.2.1.cmml" xref="S3.E1.m1.3.3.3.3.1.1.2">subscript</csymbol><ci id="S3.E1.m1.3.3.3.3.1.1.2.2.cmml" xref="S3.E1.m1.3.3.3.3.1.1.2.2">ğ¶</ci><ci id="S3.E1.m1.3.3.3.3.1.1.2.3.cmml" xref="S3.E1.m1.3.3.3.3.1.1.2.3">ğ‘–</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.4c">w_{i}=\frac{\lambda}{\max(\lambda,\sum C_{i})},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.4" class="ltx_p">where <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">Î»</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">ğœ†</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\lambda</annotation></semantics></math> is a threshold that caps each deviceâ€™s contribution. When
<math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="\lambda=1" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mrow id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">Î»</mi><mo id="S3.SS1.p2.2.m2.1.1.1" xref="S3.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><eq id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1.1"></eq><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">ğœ†</ci><cn type="integer" id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">\lambda=1</annotation></semantics></math>, L1-clipping is equivalent to equal weighting. The limit
<math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\lambda\to\infty" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><mrow id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">Î»</mi><mo stretchy="false" id="S3.SS1.p2.3.m3.1.1.1" xref="S3.SS1.p2.3.m3.1.1.1.cmml">â†’</mo><mi mathvariant="normal" id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">âˆ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><ci id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1.1">â†’</ci><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">ğœ†</ci><infinity id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\lambda\to\infty</annotation></semantics></math> is equivalent to collecting the true counts, since
<math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="w_{i}\to 1" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mrow id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><msub id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2.2" xref="S3.SS1.p2.4.m4.1.1.2.2.cmml">w</mi><mi id="S3.SS1.p2.4.m4.1.1.2.3" xref="S3.SS1.p2.4.m4.1.1.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS1.p2.4.m4.1.1.1" xref="S3.SS1.p2.4.m4.1.1.1.cmml">â†’</mo><mn id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><ci id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1.1">â†’</ci><apply id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2.2">ğ‘¤</ci><ci id="S3.SS1.p2.4.m4.1.1.2.3.cmml" xref="S3.SS1.p2.4.m4.1.1.2.3">ğ‘–</ci></apply><cn type="integer" id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">w_{i}\to 1</annotation></semantics></math>.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Convergence</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Convergence of the unigram distribution is measured using the unbiased
chi-squared statistic (for simplicity, referred to as the <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="Z" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">Z</annotation></semantics></math>-statistic) defined
in <cite class="ltx_cite ltx_citemacro_citet">Bhattacharya and Valiant (<a href="#bib.bib6" title="" class="ltx_ref">2015</a>)</cite>, the number of unique unigrams seen, and a
moving average of the number of rounds needed to observe new unigrams.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.4" class="ltx_p">FigureÂ <a href="#S3.F3" title="Figure 3 â€£ 3.2 Convergence â€£ 3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the overall distributional convergence
based on the <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="Z" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">Z</annotation></semantics></math>-statistic. At round <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">k</annotation></semantics></math>, unigram counts after <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="k/2" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">k</mi><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">/</mo><mn id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><divide id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></divide><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">ğ‘˜</ci><cn type="integer" id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">k/2</annotation></semantics></math> and <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><mi id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><ci id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">k</annotation></semantics></math>
rounds are compared.</p>
</div>
<figure id="S3.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1910.03432/assets/distro_convergence.png" id="S3.F3.1.g1" class="ltx_graphics ltx_img_landscape" width="275" height="211" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F3.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/1910.03432/assets/learning_tail_words.png" id="S3.F3.2.g1" class="ltx_graphics ltx_img_landscape" width="281" height="212" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Unigram distribution convergence. Note that by 3000 rounds, the unigram
distribution is stable, but the model is still learning new tail unigrams.</figcaption>
</figure>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.2" class="ltx_p">FigureÂ <a href="#S3.F3" title="Figure 3 â€£ 3.2 Convergence â€£ 3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> plots the number of whitelist vocabulary
words seen and a moving average of the number of rounds containing new unigrams.
New unigrams are determined by comparing a round <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mi id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><ci id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">k</annotation></semantics></math> with all rounds
through <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="k-1" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><mrow id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">k</mi><mo id="S3.SS2.p3.2.m2.1.1.1" xref="S3.SS2.p3.2.m2.1.1.1.cmml">âˆ’</mo><mn id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><minus id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1.1"></minus><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">ğ‘˜</ci><cn type="integer" id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">k-1</annotation></semantics></math> and noting if any new words are seen.
The shaded bands range from the LMâ€™s unigram capacity to the size of
the whitelist vocabulary.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Experiments</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Since the whitelist vocabulary is uncased, capitalization normalization is applied
based on an approach similar to SectionÂ <a href="#S5" title="5 Capitalization â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
We then replace
the unigram part of an n-gram model with this distribution to produce the
final LM.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.2" class="ltx_p">In A/B experiments, unigram models with different L1-clipping thresholds are
compared against a baseline unigram model gathered from centralized log data.
Results are presented in TableÂ <a href="#S3.T1" title="Table 1 â€£ 3.3 Experiments â€£ 3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Accuracy is
unchanged and OOV rate is improved at <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="\lambda=1" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mi id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">Î»</mi><mo id="S3.SS3.p2.1.m1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><eq id="S3.SS3.p2.1.m1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1"></eq><ci id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2">ğœ†</ci><cn type="integer" id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\lambda=1</annotation></semantics></math> and <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="\lambda=1K" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mrow id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">Î»</mi><mo id="S3.SS3.p2.2.m2.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.cmml">=</mo><mrow id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml"><mn id="S3.SS3.p2.2.m2.1.1.3.2" xref="S3.SS3.p2.2.m2.1.1.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.SS3.p2.2.m2.1.1.3.1" xref="S3.SS3.p2.2.m2.1.1.3.1.cmml">â€‹</mo><mi id="S3.SS3.p2.2.m2.1.1.3.3" xref="S3.SS3.p2.2.m2.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><eq id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1"></eq><ci id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2">ğœ†</ci><apply id="S3.SS3.p2.2.m2.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3"><times id="S3.SS3.p2.2.m2.1.1.3.1.cmml" xref="S3.SS3.p2.2.m2.1.1.3.1"></times><cn type="integer" id="S3.SS3.p2.2.m2.1.1.3.2.cmml" xref="S3.SS3.p2.2.m2.1.1.3.2">1</cn><ci id="S3.SS3.p2.2.m2.1.1.3.3.cmml" xref="S3.SS3.p2.2.m2.1.1.3.3">ğ¾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\lambda=1K</annotation></semantics></math>.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.9.10.1" class="ltx_tr">
<th id="S3.T1.9.10.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r">Model</th>
<th id="S3.T1.9.10.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">acc@1 [%]</th>
<th id="S3.T1.9.10.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column">OOV rate [%]</th>
</tr>
<tr id="S3.T1.9.11.2" class="ltx_tr">
<th id="S3.T1.9.11.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">baseline</th>
<th id="S3.T1.9.11.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">8.14</th>
<th id="S3.T1.9.11.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">18.08</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.3.3" class="ltx_tr">
<th id="S3.T1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><math id="S3.T1.1.1.1.m1.1" class="ltx_Math" alttext="\lambda=1" display="inline"><semantics id="S3.T1.1.1.1.m1.1a"><mrow id="S3.T1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.m1.1.1.cmml"><mi id="S3.T1.1.1.1.m1.1.1.2" xref="S3.T1.1.1.1.m1.1.1.2.cmml">Î»</mi><mo id="S3.T1.1.1.1.m1.1.1.1" xref="S3.T1.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S3.T1.1.1.1.m1.1.1.3" xref="S3.T1.1.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.m1.1b"><apply id="S3.T1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1"><eq id="S3.T1.1.1.1.m1.1.1.1.cmml" xref="S3.T1.1.1.1.m1.1.1.1"></eq><ci id="S3.T1.1.1.1.m1.1.1.2.cmml" xref="S3.T1.1.1.1.m1.1.1.2">ğœ†</ci><cn type="integer" id="S3.T1.1.1.1.m1.1.1.3.cmml" xref="S3.T1.1.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.m1.1c">\lambda=1</annotation></semantics></math></th>
<td id="S3.T1.2.2.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T1.2.2.2.m1.1" class="ltx_Math" alttext="+0.19\pm 0.21" display="inline"><semantics id="S3.T1.2.2.2.m1.1a"><mrow id="S3.T1.2.2.2.m1.1.1" xref="S3.T1.2.2.2.m1.1.1.cmml"><mrow id="S3.T1.2.2.2.m1.1.1.2" xref="S3.T1.2.2.2.m1.1.1.2.cmml"><mo id="S3.T1.2.2.2.m1.1.1.2a" xref="S3.T1.2.2.2.m1.1.1.2.cmml">+</mo><mn id="S3.T1.2.2.2.m1.1.1.2.2" xref="S3.T1.2.2.2.m1.1.1.2.2.cmml">0.19</mn></mrow><mo id="S3.T1.2.2.2.m1.1.1.1" xref="S3.T1.2.2.2.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.2.2.2.m1.1.1.3" xref="S3.T1.2.2.2.m1.1.1.3.cmml">0.21</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.m1.1b"><apply id="S3.T1.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.m1.1.1"><csymbol cd="latexml" id="S3.T1.2.2.2.m1.1.1.1.cmml" xref="S3.T1.2.2.2.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.2.2.2.m1.1.1.2.cmml" xref="S3.T1.2.2.2.m1.1.1.2"><plus id="S3.T1.2.2.2.m1.1.1.2.1.cmml" xref="S3.T1.2.2.2.m1.1.1.2"></plus><cn type="float" id="S3.T1.2.2.2.m1.1.1.2.2.cmml" xref="S3.T1.2.2.2.m1.1.1.2.2">0.19</cn></apply><cn type="float" id="S3.T1.2.2.2.m1.1.1.3.cmml" xref="S3.T1.2.2.2.m1.1.1.3">0.21</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.m1.1c">+0.19\pm 0.21</annotation></semantics></math></td>
<td id="S3.T1.3.3.3" class="ltx_td ltx_align_center ltx_border_t"><math id="S3.T1.3.3.3.m1.1" class="ltx_Math" alttext="-1.33\pm 0.75" display="inline"><semantics id="S3.T1.3.3.3.m1.1a"><mrow id="S3.T1.3.3.3.m1.1.1" xref="S3.T1.3.3.3.m1.1.1.cmml"><mrow id="S3.T1.3.3.3.m1.1.1.2" xref="S3.T1.3.3.3.m1.1.1.2.cmml"><mo id="S3.T1.3.3.3.m1.1.1.2a" xref="S3.T1.3.3.3.m1.1.1.2.cmml">âˆ’</mo><mn id="S3.T1.3.3.3.m1.1.1.2.2" xref="S3.T1.3.3.3.m1.1.1.2.2.cmml">1.33</mn></mrow><mo id="S3.T1.3.3.3.m1.1.1.1" xref="S3.T1.3.3.3.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.3.3.3.m1.1.1.3" xref="S3.T1.3.3.3.m1.1.1.3.cmml">0.75</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.3.3.3.m1.1b"><apply id="S3.T1.3.3.3.m1.1.1.cmml" xref="S3.T1.3.3.3.m1.1.1"><csymbol cd="latexml" id="S3.T1.3.3.3.m1.1.1.1.cmml" xref="S3.T1.3.3.3.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.3.3.3.m1.1.1.2.cmml" xref="S3.T1.3.3.3.m1.1.1.2"><minus id="S3.T1.3.3.3.m1.1.1.2.1.cmml" xref="S3.T1.3.3.3.m1.1.1.2"></minus><cn type="float" id="S3.T1.3.3.3.m1.1.1.2.2.cmml" xref="S3.T1.3.3.3.m1.1.1.2.2">1.33</cn></apply><cn type="float" id="S3.T1.3.3.3.m1.1.1.3.cmml" xref="S3.T1.3.3.3.m1.1.1.3">0.75</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.3.3.3.m1.1c">-1.33\pm 0.75</annotation></semantics></math></td>
</tr>
<tr id="S3.T1.6.6" class="ltx_tr">
<th id="S3.T1.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S3.T1.4.4.1.m1.1" class="ltx_Math" alttext="\lambda=1K" display="inline"><semantics id="S3.T1.4.4.1.m1.1a"><mrow id="S3.T1.4.4.1.m1.1.1" xref="S3.T1.4.4.1.m1.1.1.cmml"><mi id="S3.T1.4.4.1.m1.1.1.2" xref="S3.T1.4.4.1.m1.1.1.2.cmml">Î»</mi><mo id="S3.T1.4.4.1.m1.1.1.1" xref="S3.T1.4.4.1.m1.1.1.1.cmml">=</mo><mrow id="S3.T1.4.4.1.m1.1.1.3" xref="S3.T1.4.4.1.m1.1.1.3.cmml"><mn id="S3.T1.4.4.1.m1.1.1.3.2" xref="S3.T1.4.4.1.m1.1.1.3.2.cmml">1</mn><mo lspace="0em" rspace="0em" id="S3.T1.4.4.1.m1.1.1.3.1" xref="S3.T1.4.4.1.m1.1.1.3.1.cmml">â€‹</mo><mi id="S3.T1.4.4.1.m1.1.1.3.3" xref="S3.T1.4.4.1.m1.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.4.4.1.m1.1b"><apply id="S3.T1.4.4.1.m1.1.1.cmml" xref="S3.T1.4.4.1.m1.1.1"><eq id="S3.T1.4.4.1.m1.1.1.1.cmml" xref="S3.T1.4.4.1.m1.1.1.1"></eq><ci id="S3.T1.4.4.1.m1.1.1.2.cmml" xref="S3.T1.4.4.1.m1.1.1.2">ğœ†</ci><apply id="S3.T1.4.4.1.m1.1.1.3.cmml" xref="S3.T1.4.4.1.m1.1.1.3"><times id="S3.T1.4.4.1.m1.1.1.3.1.cmml" xref="S3.T1.4.4.1.m1.1.1.3.1"></times><cn type="integer" id="S3.T1.4.4.1.m1.1.1.3.2.cmml" xref="S3.T1.4.4.1.m1.1.1.3.2">1</cn><ci id="S3.T1.4.4.1.m1.1.1.3.3.cmml" xref="S3.T1.4.4.1.m1.1.1.3.3">ğ¾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.4.1.m1.1c">\lambda=1K</annotation></semantics></math></th>
<td id="S3.T1.5.5.2" class="ltx_td ltx_align_center"><math id="S3.T1.5.5.2.m1.1" class="ltx_Math" alttext="+0.11\pm 0.24" display="inline"><semantics id="S3.T1.5.5.2.m1.1a"><mrow id="S3.T1.5.5.2.m1.1.1" xref="S3.T1.5.5.2.m1.1.1.cmml"><mrow id="S3.T1.5.5.2.m1.1.1.2" xref="S3.T1.5.5.2.m1.1.1.2.cmml"><mo id="S3.T1.5.5.2.m1.1.1.2a" xref="S3.T1.5.5.2.m1.1.1.2.cmml">+</mo><mn id="S3.T1.5.5.2.m1.1.1.2.2" xref="S3.T1.5.5.2.m1.1.1.2.2.cmml">0.11</mn></mrow><mo id="S3.T1.5.5.2.m1.1.1.1" xref="S3.T1.5.5.2.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.5.5.2.m1.1.1.3" xref="S3.T1.5.5.2.m1.1.1.3.cmml">0.24</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.5.5.2.m1.1b"><apply id="S3.T1.5.5.2.m1.1.1.cmml" xref="S3.T1.5.5.2.m1.1.1"><csymbol cd="latexml" id="S3.T1.5.5.2.m1.1.1.1.cmml" xref="S3.T1.5.5.2.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.5.5.2.m1.1.1.2.cmml" xref="S3.T1.5.5.2.m1.1.1.2"><plus id="S3.T1.5.5.2.m1.1.1.2.1.cmml" xref="S3.T1.5.5.2.m1.1.1.2"></plus><cn type="float" id="S3.T1.5.5.2.m1.1.1.2.2.cmml" xref="S3.T1.5.5.2.m1.1.1.2.2">0.11</cn></apply><cn type="float" id="S3.T1.5.5.2.m1.1.1.3.cmml" xref="S3.T1.5.5.2.m1.1.1.3">0.24</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.5.5.2.m1.1c">+0.11\pm 0.24</annotation></semantics></math></td>
<td id="S3.T1.6.6.3" class="ltx_td ltx_align_center"><math id="S3.T1.6.6.3.m1.1" class="ltx_Math" alttext="-1.06\pm 0.66" display="inline"><semantics id="S3.T1.6.6.3.m1.1a"><mrow id="S3.T1.6.6.3.m1.1.1" xref="S3.T1.6.6.3.m1.1.1.cmml"><mrow id="S3.T1.6.6.3.m1.1.1.2" xref="S3.T1.6.6.3.m1.1.1.2.cmml"><mo id="S3.T1.6.6.3.m1.1.1.2a" xref="S3.T1.6.6.3.m1.1.1.2.cmml">âˆ’</mo><mn id="S3.T1.6.6.3.m1.1.1.2.2" xref="S3.T1.6.6.3.m1.1.1.2.2.cmml">1.06</mn></mrow><mo id="S3.T1.6.6.3.m1.1.1.1" xref="S3.T1.6.6.3.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.6.6.3.m1.1.1.3" xref="S3.T1.6.6.3.m1.1.1.3.cmml">0.66</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.6.6.3.m1.1b"><apply id="S3.T1.6.6.3.m1.1.1.cmml" xref="S3.T1.6.6.3.m1.1.1"><csymbol cd="latexml" id="S3.T1.6.6.3.m1.1.1.1.cmml" xref="S3.T1.6.6.3.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.6.6.3.m1.1.1.2.cmml" xref="S3.T1.6.6.3.m1.1.1.2"><minus id="S3.T1.6.6.3.m1.1.1.2.1.cmml" xref="S3.T1.6.6.3.m1.1.1.2"></minus><cn type="float" id="S3.T1.6.6.3.m1.1.1.2.2.cmml" xref="S3.T1.6.6.3.m1.1.1.2.2">1.06</cn></apply><cn type="float" id="S3.T1.6.6.3.m1.1.1.3.cmml" xref="S3.T1.6.6.3.m1.1.1.3">0.66</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.6.6.3.m1.1c">-1.06\pm 0.66</annotation></semantics></math></td>
</tr>
<tr id="S3.T1.9.9" class="ltx_tr">
<th id="S3.T1.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S3.T1.7.7.1.m1.1" class="ltx_Math" alttext="\lambda=5K" display="inline"><semantics id="S3.T1.7.7.1.m1.1a"><mrow id="S3.T1.7.7.1.m1.1.1" xref="S3.T1.7.7.1.m1.1.1.cmml"><mi id="S3.T1.7.7.1.m1.1.1.2" xref="S3.T1.7.7.1.m1.1.1.2.cmml">Î»</mi><mo id="S3.T1.7.7.1.m1.1.1.1" xref="S3.T1.7.7.1.m1.1.1.1.cmml">=</mo><mrow id="S3.T1.7.7.1.m1.1.1.3" xref="S3.T1.7.7.1.m1.1.1.3.cmml"><mn id="S3.T1.7.7.1.m1.1.1.3.2" xref="S3.T1.7.7.1.m1.1.1.3.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="S3.T1.7.7.1.m1.1.1.3.1" xref="S3.T1.7.7.1.m1.1.1.3.1.cmml">â€‹</mo><mi id="S3.T1.7.7.1.m1.1.1.3.3" xref="S3.T1.7.7.1.m1.1.1.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.7.7.1.m1.1b"><apply id="S3.T1.7.7.1.m1.1.1.cmml" xref="S3.T1.7.7.1.m1.1.1"><eq id="S3.T1.7.7.1.m1.1.1.1.cmml" xref="S3.T1.7.7.1.m1.1.1.1"></eq><ci id="S3.T1.7.7.1.m1.1.1.2.cmml" xref="S3.T1.7.7.1.m1.1.1.2">ğœ†</ci><apply id="S3.T1.7.7.1.m1.1.1.3.cmml" xref="S3.T1.7.7.1.m1.1.1.3"><times id="S3.T1.7.7.1.m1.1.1.3.1.cmml" xref="S3.T1.7.7.1.m1.1.1.3.1"></times><cn type="integer" id="S3.T1.7.7.1.m1.1.1.3.2.cmml" xref="S3.T1.7.7.1.m1.1.1.3.2">5</cn><ci id="S3.T1.7.7.1.m1.1.1.3.3.cmml" xref="S3.T1.7.7.1.m1.1.1.3.3">ğ¾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.7.7.1.m1.1c">\lambda=5K</annotation></semantics></math></th>
<td id="S3.T1.8.8.2" class="ltx_td ltx_align_center"><math id="S3.T1.8.8.2.m1.1" class="ltx_Math" alttext="-0.08\pm 0.26" display="inline"><semantics id="S3.T1.8.8.2.m1.1a"><mrow id="S3.T1.8.8.2.m1.1.1" xref="S3.T1.8.8.2.m1.1.1.cmml"><mrow id="S3.T1.8.8.2.m1.1.1.2" xref="S3.T1.8.8.2.m1.1.1.2.cmml"><mo id="S3.T1.8.8.2.m1.1.1.2a" xref="S3.T1.8.8.2.m1.1.1.2.cmml">âˆ’</mo><mn id="S3.T1.8.8.2.m1.1.1.2.2" xref="S3.T1.8.8.2.m1.1.1.2.2.cmml">0.08</mn></mrow><mo id="S3.T1.8.8.2.m1.1.1.1" xref="S3.T1.8.8.2.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.8.8.2.m1.1.1.3" xref="S3.T1.8.8.2.m1.1.1.3.cmml">0.26</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.8.8.2.m1.1b"><apply id="S3.T1.8.8.2.m1.1.1.cmml" xref="S3.T1.8.8.2.m1.1.1"><csymbol cd="latexml" id="S3.T1.8.8.2.m1.1.1.1.cmml" xref="S3.T1.8.8.2.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.8.8.2.m1.1.1.2.cmml" xref="S3.T1.8.8.2.m1.1.1.2"><minus id="S3.T1.8.8.2.m1.1.1.2.1.cmml" xref="S3.T1.8.8.2.m1.1.1.2"></minus><cn type="float" id="S3.T1.8.8.2.m1.1.1.2.2.cmml" xref="S3.T1.8.8.2.m1.1.1.2.2">0.08</cn></apply><cn type="float" id="S3.T1.8.8.2.m1.1.1.3.cmml" xref="S3.T1.8.8.2.m1.1.1.3">0.26</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.8.8.2.m1.1c">-0.08\pm 0.26</annotation></semantics></math></td>
<td id="S3.T1.9.9.3" class="ltx_td ltx_align_center"><math id="S3.T1.9.9.3.m1.1" class="ltx_Math" alttext="-0.78\pm 0.93" display="inline"><semantics id="S3.T1.9.9.3.m1.1a"><mrow id="S3.T1.9.9.3.m1.1.1" xref="S3.T1.9.9.3.m1.1.1.cmml"><mrow id="S3.T1.9.9.3.m1.1.1.2" xref="S3.T1.9.9.3.m1.1.1.2.cmml"><mo id="S3.T1.9.9.3.m1.1.1.2a" xref="S3.T1.9.9.3.m1.1.1.2.cmml">âˆ’</mo><mn id="S3.T1.9.9.3.m1.1.1.2.2" xref="S3.T1.9.9.3.m1.1.1.2.2.cmml">0.78</mn></mrow><mo id="S3.T1.9.9.3.m1.1.1.1" xref="S3.T1.9.9.3.m1.1.1.1.cmml">Â±</mo><mn id="S3.T1.9.9.3.m1.1.1.3" xref="S3.T1.9.9.3.m1.1.1.3.cmml">0.93</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.T1.9.9.3.m1.1b"><apply id="S3.T1.9.9.3.m1.1.1.cmml" xref="S3.T1.9.9.3.m1.1.1"><csymbol cd="latexml" id="S3.T1.9.9.3.m1.1.1.1.cmml" xref="S3.T1.9.9.3.m1.1.1.1">plus-or-minus</csymbol><apply id="S3.T1.9.9.3.m1.1.1.2.cmml" xref="S3.T1.9.9.3.m1.1.1.2"><minus id="S3.T1.9.9.3.m1.1.1.2.1.cmml" xref="S3.T1.9.9.3.m1.1.1.2"></minus><cn type="float" id="S3.T1.9.9.3.m1.1.1.2.2.cmml" xref="S3.T1.9.9.3.m1.1.1.2.2">0.78</cn></apply><cn type="float" id="S3.T1.9.9.3.m1.1.1.3.cmml" xref="S3.T1.9.9.3.m1.1.1.3">0.93</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.9.9.3.m1.1c">-0.78\pm 0.93</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Relative change with L1-clipped unigrams on live traffic of en_US
users on the virtual keyboard. Quoted 95% confidence
intervals are derived using the jackknife method with user buckets.</figcaption>
</figure>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.1" class="ltx_p">Before we discuss methods to address inconsistent capitalization and data sparsity
in morphologically rich languages, we review <span id="S3.SS3.p3.1.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Review of <span id="S4.1.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.18" class="ltx_p"><span id="S4.p1.18.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰, proposed in <cite class="ltx_cite ltx_citemacro_citet">Suresh etÂ al. (<a href="#bib.bib30" title="" class="ltx_ref">2019a</a>, <a href="#bib.bib31" title="" class="ltx_ref">b</a>)</cite>, can be used to approximate a
RNN as a weighted finite automaton such as an n-gram model. A <span id="S4.p1.18.2" class="ltx_text ltx_font_italic">weighted finite automaton</span> (WFA) <math id="S4.p1.1.m1.5" class="ltx_Math" alttext="A=(\Sigma,Q,E,i,F)" display="inline"><semantics id="S4.p1.1.m1.5a"><mrow id="S4.p1.1.m1.5.6" xref="S4.p1.1.m1.5.6.cmml"><mi id="S4.p1.1.m1.5.6.2" xref="S4.p1.1.m1.5.6.2.cmml">A</mi><mo id="S4.p1.1.m1.5.6.1" xref="S4.p1.1.m1.5.6.1.cmml">=</mo><mrow id="S4.p1.1.m1.5.6.3.2" xref="S4.p1.1.m1.5.6.3.1.cmml"><mo stretchy="false" id="S4.p1.1.m1.5.6.3.2.1" xref="S4.p1.1.m1.5.6.3.1.cmml">(</mo><mi mathvariant="normal" id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml">Î£</mi><mo id="S4.p1.1.m1.5.6.3.2.2" xref="S4.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S4.p1.1.m1.2.2" xref="S4.p1.1.m1.2.2.cmml">Q</mi><mo id="S4.p1.1.m1.5.6.3.2.3" xref="S4.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S4.p1.1.m1.3.3" xref="S4.p1.1.m1.3.3.cmml">E</mi><mo id="S4.p1.1.m1.5.6.3.2.4" xref="S4.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S4.p1.1.m1.4.4" xref="S4.p1.1.m1.4.4.cmml">i</mi><mo id="S4.p1.1.m1.5.6.3.2.5" xref="S4.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S4.p1.1.m1.5.5" xref="S4.p1.1.m1.5.5.cmml">F</mi><mo stretchy="false" id="S4.p1.1.m1.5.6.3.2.6" xref="S4.p1.1.m1.5.6.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.5b"><apply id="S4.p1.1.m1.5.6.cmml" xref="S4.p1.1.m1.5.6"><eq id="S4.p1.1.m1.5.6.1.cmml" xref="S4.p1.1.m1.5.6.1"></eq><ci id="S4.p1.1.m1.5.6.2.cmml" xref="S4.p1.1.m1.5.6.2">ğ´</ci><vector id="S4.p1.1.m1.5.6.3.1.cmml" xref="S4.p1.1.m1.5.6.3.2"><ci id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1">Î£</ci><ci id="S4.p1.1.m1.2.2.cmml" xref="S4.p1.1.m1.2.2">ğ‘„</ci><ci id="S4.p1.1.m1.3.3.cmml" xref="S4.p1.1.m1.3.3">ğ¸</ci><ci id="S4.p1.1.m1.4.4.cmml" xref="S4.p1.1.m1.4.4">ğ‘–</ci><ci id="S4.p1.1.m1.5.5.cmml" xref="S4.p1.1.m1.5.5">ğ¹</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.5c">A=(\Sigma,Q,E,i,F)</annotation></semantics></math> over
<math id="S4.p1.2.m2.1" class="ltx_Math" alttext="\mathbb{R}_{+}" display="inline"><semantics id="S4.p1.2.m2.1a"><msub id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml"><mi id="S4.p1.2.m2.1.1.2" xref="S4.p1.2.m2.1.1.2.cmml">â„</mi><mo id="S4.p1.2.m2.1.1.3" xref="S4.p1.2.m2.1.1.3.cmml">+</mo></msub><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><apply id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p1.2.m2.1.1.1.cmml" xref="S4.p1.2.m2.1.1">subscript</csymbol><ci id="S4.p1.2.m2.1.1.2.cmml" xref="S4.p1.2.m2.1.1.2">â„</ci><plus id="S4.p1.2.m2.1.1.3.cmml" xref="S4.p1.2.m2.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">\mathbb{R}_{+}</annotation></semantics></math> (probabilities) is given by a finite alphabet <math id="S4.p1.3.m3.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S4.p1.3.m3.1a"><mi mathvariant="normal" id="S4.p1.3.m3.1.1" xref="S4.p1.3.m3.1.1.cmml">Î£</mi><annotation-xml encoding="MathML-Content" id="S4.p1.3.m3.1b"><ci id="S4.p1.3.m3.1.1.cmml" xref="S4.p1.3.m3.1.1">Î£</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.3.m3.1c">\Sigma</annotation></semantics></math>
(vocabulary words), a finite set of states <math id="S4.p1.4.m4.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S4.p1.4.m4.1a"><mi id="S4.p1.4.m4.1.1" xref="S4.p1.4.m4.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.p1.4.m4.1b"><ci id="S4.p1.4.m4.1.1.cmml" xref="S4.p1.4.m4.1.1">ğ‘„</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.4.m4.1c">Q</annotation></semantics></math> (n-gram contexts), an
initial state <math id="S4.p1.5.m5.1" class="ltx_Math" alttext="i\in Q" display="inline"><semantics id="S4.p1.5.m5.1a"><mrow id="S4.p1.5.m5.1.1" xref="S4.p1.5.m5.1.1.cmml"><mi id="S4.p1.5.m5.1.1.2" xref="S4.p1.5.m5.1.1.2.cmml">i</mi><mo id="S4.p1.5.m5.1.1.1" xref="S4.p1.5.m5.1.1.1.cmml">âˆˆ</mo><mi id="S4.p1.5.m5.1.1.3" xref="S4.p1.5.m5.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.5.m5.1b"><apply id="S4.p1.5.m5.1.1.cmml" xref="S4.p1.5.m5.1.1"><in id="S4.p1.5.m5.1.1.1.cmml" xref="S4.p1.5.m5.1.1.1"></in><ci id="S4.p1.5.m5.1.1.2.cmml" xref="S4.p1.5.m5.1.1.2">ğ‘–</ci><ci id="S4.p1.5.m5.1.1.3.cmml" xref="S4.p1.5.m5.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.5.m5.1c">i\in Q</annotation></semantics></math> (sentence start state), a set of final states
<math id="S4.p1.6.m6.1" class="ltx_Math" alttext="F\in Q" display="inline"><semantics id="S4.p1.6.m6.1a"><mrow id="S4.p1.6.m6.1.1" xref="S4.p1.6.m6.1.1.cmml"><mi id="S4.p1.6.m6.1.1.2" xref="S4.p1.6.m6.1.1.2.cmml">F</mi><mo id="S4.p1.6.m6.1.1.1" xref="S4.p1.6.m6.1.1.1.cmml">âˆˆ</mo><mi id="S4.p1.6.m6.1.1.3" xref="S4.p1.6.m6.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.6.m6.1b"><apply id="S4.p1.6.m6.1.1.cmml" xref="S4.p1.6.m6.1.1"><in id="S4.p1.6.m6.1.1.1.cmml" xref="S4.p1.6.m6.1.1.1"></in><ci id="S4.p1.6.m6.1.1.2.cmml" xref="S4.p1.6.m6.1.1.2">ğ¹</ci><ci id="S4.p1.6.m6.1.1.3.cmml" xref="S4.p1.6.m6.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.6.m6.1c">F\in Q</annotation></semantics></math> (sentence end states), and a set of labeled transitions <math id="S4.p1.7.m7.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.p1.7.m7.1a"><mi id="S4.p1.7.m7.1.1" xref="S4.p1.7.m7.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.p1.7.m7.1b"><ci id="S4.p1.7.m7.1.1.cmml" xref="S4.p1.7.m7.1.1">ğ¸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.7.m7.1c">E</annotation></semantics></math>
and associated weights that represent the conditional probability of
labels (from <math id="S4.p1.8.m8.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S4.p1.8.m8.1a"><mi mathvariant="normal" id="S4.p1.8.m8.1.1" xref="S4.p1.8.m8.1.1.cmml">Î£</mi><annotation-xml encoding="MathML-Content" id="S4.p1.8.m8.1b"><ci id="S4.p1.8.m8.1.1.cmml" xref="S4.p1.8.m8.1.1">Î£</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.8.m8.1c">\Sigma</annotation></semantics></math>) given the state (list of n-grams and their
probabilities). WFA models allow a special
<em id="S4.p1.18.3" class="ltx_emph ltx_font_italic">backoff</em> label <math id="S4.p1.9.m9.1" class="ltx_Math" alttext="\varphi" display="inline"><semantics id="S4.p1.9.m9.1a"><mi id="S4.p1.9.m9.1.1" xref="S4.p1.9.m9.1.1.cmml">Ï†</mi><annotation-xml encoding="MathML-Content" id="S4.p1.9.m9.1b"><ci id="S4.p1.9.m9.1.1.cmml" xref="S4.p1.9.m9.1.1">ğœ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.9.m9.1c">\varphi</annotation></semantics></math> for succinct representation as follows.
Let <math id="S4.p1.10.m10.1" class="ltx_Math" alttext="L[q]" display="inline"><semantics id="S4.p1.10.m10.1a"><mrow id="S4.p1.10.m10.1.2" xref="S4.p1.10.m10.1.2.cmml"><mi id="S4.p1.10.m10.1.2.2" xref="S4.p1.10.m10.1.2.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.p1.10.m10.1.2.1" xref="S4.p1.10.m10.1.2.1.cmml">â€‹</mo><mrow id="S4.p1.10.m10.1.2.3.2" xref="S4.p1.10.m10.1.2.3.1.cmml"><mo stretchy="false" id="S4.p1.10.m10.1.2.3.2.1" xref="S4.p1.10.m10.1.2.3.1.1.cmml">[</mo><mi id="S4.p1.10.m10.1.1" xref="S4.p1.10.m10.1.1.cmml">q</mi><mo stretchy="false" id="S4.p1.10.m10.1.2.3.2.2" xref="S4.p1.10.m10.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.10.m10.1b"><apply id="S4.p1.10.m10.1.2.cmml" xref="S4.p1.10.m10.1.2"><times id="S4.p1.10.m10.1.2.1.cmml" xref="S4.p1.10.m10.1.2.1"></times><ci id="S4.p1.10.m10.1.2.2.cmml" xref="S4.p1.10.m10.1.2.2">ğ¿</ci><apply id="S4.p1.10.m10.1.2.3.1.cmml" xref="S4.p1.10.m10.1.2.3.2"><csymbol cd="latexml" id="S4.p1.10.m10.1.2.3.1.1.cmml" xref="S4.p1.10.m10.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.p1.10.m10.1.1.cmml" xref="S4.p1.10.m10.1.1">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.10.m10.1c">L[q]</annotation></semantics></math> be the set of labels on transitions from state <math id="S4.p1.11.m11.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p1.11.m11.1a"><mi id="S4.p1.11.m11.1.1" xref="S4.p1.11.m11.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p1.11.m11.1b"><ci id="S4.p1.11.m11.1.1.cmml" xref="S4.p1.11.m11.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.11.m11.1c">q</annotation></semantics></math>. For <math id="S4.p1.12.m12.1" class="ltx_Math" alttext="x\in L[q]" display="inline"><semantics id="S4.p1.12.m12.1a"><mrow id="S4.p1.12.m12.1.2" xref="S4.p1.12.m12.1.2.cmml"><mi id="S4.p1.12.m12.1.2.2" xref="S4.p1.12.m12.1.2.2.cmml">x</mi><mo id="S4.p1.12.m12.1.2.1" xref="S4.p1.12.m12.1.2.1.cmml">âˆˆ</mo><mrow id="S4.p1.12.m12.1.2.3" xref="S4.p1.12.m12.1.2.3.cmml"><mi id="S4.p1.12.m12.1.2.3.2" xref="S4.p1.12.m12.1.2.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.p1.12.m12.1.2.3.1" xref="S4.p1.12.m12.1.2.3.1.cmml">â€‹</mo><mrow id="S4.p1.12.m12.1.2.3.3.2" xref="S4.p1.12.m12.1.2.3.3.1.cmml"><mo stretchy="false" id="S4.p1.12.m12.1.2.3.3.2.1" xref="S4.p1.12.m12.1.2.3.3.1.1.cmml">[</mo><mi id="S4.p1.12.m12.1.1" xref="S4.p1.12.m12.1.1.cmml">q</mi><mo stretchy="false" id="S4.p1.12.m12.1.2.3.3.2.2" xref="S4.p1.12.m12.1.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.12.m12.1b"><apply id="S4.p1.12.m12.1.2.cmml" xref="S4.p1.12.m12.1.2"><in id="S4.p1.12.m12.1.2.1.cmml" xref="S4.p1.12.m12.1.2.1"></in><ci id="S4.p1.12.m12.1.2.2.cmml" xref="S4.p1.12.m12.1.2.2">ğ‘¥</ci><apply id="S4.p1.12.m12.1.2.3.cmml" xref="S4.p1.12.m12.1.2.3"><times id="S4.p1.12.m12.1.2.3.1.cmml" xref="S4.p1.12.m12.1.2.3.1"></times><ci id="S4.p1.12.m12.1.2.3.2.cmml" xref="S4.p1.12.m12.1.2.3.2">ğ¿</ci><apply id="S4.p1.12.m12.1.2.3.3.1.cmml" xref="S4.p1.12.m12.1.2.3.3.2"><csymbol cd="latexml" id="S4.p1.12.m12.1.2.3.3.1.1.cmml" xref="S4.p1.12.m12.1.2.3.3.2.1">delimited-[]</csymbol><ci id="S4.p1.12.m12.1.1.cmml" xref="S4.p1.12.m12.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.12.m12.1c">x\in L[q]</annotation></semantics></math>,
let <math id="S4.p1.13.m13.1" class="ltx_Math" alttext="w_{q}[x]" display="inline"><semantics id="S4.p1.13.m13.1a"><mrow id="S4.p1.13.m13.1.2" xref="S4.p1.13.m13.1.2.cmml"><msub id="S4.p1.13.m13.1.2.2" xref="S4.p1.13.m13.1.2.2.cmml"><mi id="S4.p1.13.m13.1.2.2.2" xref="S4.p1.13.m13.1.2.2.2.cmml">w</mi><mi id="S4.p1.13.m13.1.2.2.3" xref="S4.p1.13.m13.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S4.p1.13.m13.1.2.1" xref="S4.p1.13.m13.1.2.1.cmml">â€‹</mo><mrow id="S4.p1.13.m13.1.2.3.2" xref="S4.p1.13.m13.1.2.3.1.cmml"><mo stretchy="false" id="S4.p1.13.m13.1.2.3.2.1" xref="S4.p1.13.m13.1.2.3.1.1.cmml">[</mo><mi id="S4.p1.13.m13.1.1" xref="S4.p1.13.m13.1.1.cmml">x</mi><mo stretchy="false" id="S4.p1.13.m13.1.2.3.2.2" xref="S4.p1.13.m13.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.13.m13.1b"><apply id="S4.p1.13.m13.1.2.cmml" xref="S4.p1.13.m13.1.2"><times id="S4.p1.13.m13.1.2.1.cmml" xref="S4.p1.13.m13.1.2.1"></times><apply id="S4.p1.13.m13.1.2.2.cmml" xref="S4.p1.13.m13.1.2.2"><csymbol cd="ambiguous" id="S4.p1.13.m13.1.2.2.1.cmml" xref="S4.p1.13.m13.1.2.2">subscript</csymbol><ci id="S4.p1.13.m13.1.2.2.2.cmml" xref="S4.p1.13.m13.1.2.2.2">ğ‘¤</ci><ci id="S4.p1.13.m13.1.2.2.3.cmml" xref="S4.p1.13.m13.1.2.2.3">ğ‘</ci></apply><apply id="S4.p1.13.m13.1.2.3.1.cmml" xref="S4.p1.13.m13.1.2.3.2"><csymbol cd="latexml" id="S4.p1.13.m13.1.2.3.1.1.cmml" xref="S4.p1.13.m13.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.p1.13.m13.1.1.cmml" xref="S4.p1.13.m13.1.1">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.13.m13.1c">w_{q}[x]</annotation></semantics></math>, be the weight of the transition of <math id="S4.p1.14.m14.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p1.14.m14.1a"><mi id="S4.p1.14.m14.1.1" xref="S4.p1.14.m14.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p1.14.m14.1b"><ci id="S4.p1.14.m14.1.1.cmml" xref="S4.p1.14.m14.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.14.m14.1c">x</annotation></semantics></math> at state <math id="S4.p1.15.m15.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p1.15.m15.1a"><mi id="S4.p1.15.m15.1.1" xref="S4.p1.15.m15.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p1.15.m15.1b"><ci id="S4.p1.15.m15.1.1.cmml" xref="S4.p1.15.m15.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.15.m15.1c">q</annotation></semantics></math> and <math id="S4.p1.16.m16.1" class="ltx_Math" alttext="d_{q}[x]" display="inline"><semantics id="S4.p1.16.m16.1a"><mrow id="S4.p1.16.m16.1.2" xref="S4.p1.16.m16.1.2.cmml"><msub id="S4.p1.16.m16.1.2.2" xref="S4.p1.16.m16.1.2.2.cmml"><mi id="S4.p1.16.m16.1.2.2.2" xref="S4.p1.16.m16.1.2.2.2.cmml">d</mi><mi id="S4.p1.16.m16.1.2.2.3" xref="S4.p1.16.m16.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S4.p1.16.m16.1.2.1" xref="S4.p1.16.m16.1.2.1.cmml">â€‹</mo><mrow id="S4.p1.16.m16.1.2.3.2" xref="S4.p1.16.m16.1.2.3.1.cmml"><mo stretchy="false" id="S4.p1.16.m16.1.2.3.2.1" xref="S4.p1.16.m16.1.2.3.1.1.cmml">[</mo><mi id="S4.p1.16.m16.1.1" xref="S4.p1.16.m16.1.1.cmml">x</mi><mo stretchy="false" id="S4.p1.16.m16.1.2.3.2.2" xref="S4.p1.16.m16.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.16.m16.1b"><apply id="S4.p1.16.m16.1.2.cmml" xref="S4.p1.16.m16.1.2"><times id="S4.p1.16.m16.1.2.1.cmml" xref="S4.p1.16.m16.1.2.1"></times><apply id="S4.p1.16.m16.1.2.2.cmml" xref="S4.p1.16.m16.1.2.2"><csymbol cd="ambiguous" id="S4.p1.16.m16.1.2.2.1.cmml" xref="S4.p1.16.m16.1.2.2">subscript</csymbol><ci id="S4.p1.16.m16.1.2.2.2.cmml" xref="S4.p1.16.m16.1.2.2.2">ğ‘‘</ci><ci id="S4.p1.16.m16.1.2.2.3.cmml" xref="S4.p1.16.m16.1.2.2.3">ğ‘</ci></apply><apply id="S4.p1.16.m16.1.2.3.1.cmml" xref="S4.p1.16.m16.1.2.3.2"><csymbol cd="latexml" id="S4.p1.16.m16.1.2.3.1.1.cmml" xref="S4.p1.16.m16.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.p1.16.m16.1.1.cmml" xref="S4.p1.16.m16.1.1">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.16.m16.1c">d_{q}[x]</annotation></semantics></math>
be the destination state. For a label <math id="S4.p1.17.m17.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p1.17.m17.1a"><mi id="S4.p1.17.m17.1.1" xref="S4.p1.17.m17.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p1.17.m17.1b"><ci id="S4.p1.17.m17.1.1.cmml" xref="S4.p1.17.m17.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.17.m17.1c">x</annotation></semantics></math> and a state <math id="S4.p1.18.m18.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p1.18.m18.1a"><mi id="S4.p1.18.m18.1.1" xref="S4.p1.18.m18.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p1.18.m18.1b"><ci id="S4.p1.18.m18.1.1.cmml" xref="S4.p1.18.m18.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.18.m18.1c">q</annotation></semantics></math>,</p>
</div>
<div id="S4.p2" class="ltx_para">
<table id="Sx1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.Ex2.m1.1" class="ltx_Math" alttext="\displaystyle p(x|q)" display="inline"><semantics id="S4.Ex2.m1.1a"><mrow id="S4.Ex2.m1.1.1" xref="S4.Ex2.m1.1.1.cmml"><mi id="S4.Ex2.m1.1.1.3" xref="S4.Ex2.m1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.Ex2.m1.1.1.2" xref="S4.Ex2.m1.1.1.2.cmml">â€‹</mo><mrow id="S4.Ex2.m1.1.1.1.1" xref="S4.Ex2.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex2.m1.1.1.1.1.2" xref="S4.Ex2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex2.m1.1.1.1.1.1" xref="S4.Ex2.m1.1.1.1.1.1.cmml"><mi id="S4.Ex2.m1.1.1.1.1.1.2" xref="S4.Ex2.m1.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S4.Ex2.m1.1.1.1.1.1.1" xref="S4.Ex2.m1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.Ex2.m1.1.1.1.1.1.3" xref="S4.Ex2.m1.1.1.1.1.1.3.cmml">q</mi></mrow><mo stretchy="false" id="S4.Ex2.m1.1.1.1.1.3" xref="S4.Ex2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex2.m1.1b"><apply id="S4.Ex2.m1.1.1.cmml" xref="S4.Ex2.m1.1.1"><times id="S4.Ex2.m1.1.1.2.cmml" xref="S4.Ex2.m1.1.1.2"></times><ci id="S4.Ex2.m1.1.1.3.cmml" xref="S4.Ex2.m1.1.1.3">ğ‘</ci><apply id="S4.Ex2.m1.1.1.1.1.1.cmml" xref="S4.Ex2.m1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex2.m1.1.1.1.1.1.1.cmml" xref="S4.Ex2.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex2.m1.1.1.1.1.1.2.cmml" xref="S4.Ex2.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S4.Ex2.m1.1.1.1.1.1.3.cmml" xref="S4.Ex2.m1.1.1.1.1.1.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m1.1c">\displaystyle p(x|q)</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.Ex2.m2.1" class="ltx_Math" alttext="\displaystyle=w_{q}[x]" display="inline"><semantics id="S4.Ex2.m2.1a"><mrow id="S4.Ex2.m2.1.2" xref="S4.Ex2.m2.1.2.cmml"><mi id="S4.Ex2.m2.1.2.2" xref="S4.Ex2.m2.1.2.2.cmml"></mi><mo id="S4.Ex2.m2.1.2.1" xref="S4.Ex2.m2.1.2.1.cmml">=</mo><mrow id="S4.Ex2.m2.1.2.3" xref="S4.Ex2.m2.1.2.3.cmml"><msub id="S4.Ex2.m2.1.2.3.2" xref="S4.Ex2.m2.1.2.3.2.cmml"><mi id="S4.Ex2.m2.1.2.3.2.2" xref="S4.Ex2.m2.1.2.3.2.2.cmml">w</mi><mi id="S4.Ex2.m2.1.2.3.2.3" xref="S4.Ex2.m2.1.2.3.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S4.Ex2.m2.1.2.3.1" xref="S4.Ex2.m2.1.2.3.1.cmml">â€‹</mo><mrow id="S4.Ex2.m2.1.2.3.3.2" xref="S4.Ex2.m2.1.2.3.3.1.cmml"><mo stretchy="false" id="S4.Ex2.m2.1.2.3.3.2.1" xref="S4.Ex2.m2.1.2.3.3.1.1.cmml">[</mo><mi id="S4.Ex2.m2.1.1" xref="S4.Ex2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S4.Ex2.m2.1.2.3.3.2.2" xref="S4.Ex2.m2.1.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex2.m2.1b"><apply id="S4.Ex2.m2.1.2.cmml" xref="S4.Ex2.m2.1.2"><eq id="S4.Ex2.m2.1.2.1.cmml" xref="S4.Ex2.m2.1.2.1"></eq><csymbol cd="latexml" id="S4.Ex2.m2.1.2.2.cmml" xref="S4.Ex2.m2.1.2.2">absent</csymbol><apply id="S4.Ex2.m2.1.2.3.cmml" xref="S4.Ex2.m2.1.2.3"><times id="S4.Ex2.m2.1.2.3.1.cmml" xref="S4.Ex2.m2.1.2.3.1"></times><apply id="S4.Ex2.m2.1.2.3.2.cmml" xref="S4.Ex2.m2.1.2.3.2"><csymbol cd="ambiguous" id="S4.Ex2.m2.1.2.3.2.1.cmml" xref="S4.Ex2.m2.1.2.3.2">subscript</csymbol><ci id="S4.Ex2.m2.1.2.3.2.2.cmml" xref="S4.Ex2.m2.1.2.3.2.2">ğ‘¤</ci><ci id="S4.Ex2.m2.1.2.3.2.3.cmml" xref="S4.Ex2.m2.1.2.3.2.3">ğ‘</ci></apply><apply id="S4.Ex2.m2.1.2.3.3.1.cmml" xref="S4.Ex2.m2.1.2.3.3.2"><csymbol cd="latexml" id="S4.Ex2.m2.1.2.3.3.1.1.cmml" xref="S4.Ex2.m2.1.2.3.3.2.1">delimited-[]</csymbol><ci id="S4.Ex2.m2.1.1.cmml" xref="S4.Ex2.m2.1.1">ğ‘¥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m2.1c">\displaystyle=w_{q}[x]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.Ex2.m3.2" class="ltx_Math" alttext="\displaystyle\text{ if }x\in L[q]," display="inline"><semantics id="S4.Ex2.m3.2a"><mrow id="S4.Ex2.m3.2.2.1" xref="S4.Ex2.m3.2.2.1.1.cmml"><mrow id="S4.Ex2.m3.2.2.1.1" xref="S4.Ex2.m3.2.2.1.1.cmml"><mrow id="S4.Ex2.m3.2.2.1.1.2" xref="S4.Ex2.m3.2.2.1.1.2.cmml"><mtext id="S4.Ex2.m3.2.2.1.1.2.2" xref="S4.Ex2.m3.2.2.1.1.2.2a.cmml">ifÂ </mtext><mo lspace="0em" rspace="0em" id="S4.Ex2.m3.2.2.1.1.2.1" xref="S4.Ex2.m3.2.2.1.1.2.1.cmml">â€‹</mo><mi id="S4.Ex2.m3.2.2.1.1.2.3" xref="S4.Ex2.m3.2.2.1.1.2.3.cmml">x</mi></mrow><mo id="S4.Ex2.m3.2.2.1.1.1" xref="S4.Ex2.m3.2.2.1.1.1.cmml">âˆˆ</mo><mrow id="S4.Ex2.m3.2.2.1.1.3" xref="S4.Ex2.m3.2.2.1.1.3.cmml"><mi id="S4.Ex2.m3.2.2.1.1.3.2" xref="S4.Ex2.m3.2.2.1.1.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.Ex2.m3.2.2.1.1.3.1" xref="S4.Ex2.m3.2.2.1.1.3.1.cmml">â€‹</mo><mrow id="S4.Ex2.m3.2.2.1.1.3.3.2" xref="S4.Ex2.m3.2.2.1.1.3.3.1.cmml"><mo stretchy="false" id="S4.Ex2.m3.2.2.1.1.3.3.2.1" xref="S4.Ex2.m3.2.2.1.1.3.3.1.1.cmml">[</mo><mi id="S4.Ex2.m3.1.1" xref="S4.Ex2.m3.1.1.cmml">q</mi><mo stretchy="false" id="S4.Ex2.m3.2.2.1.1.3.3.2.2" xref="S4.Ex2.m3.2.2.1.1.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo id="S4.Ex2.m3.2.2.1.2" xref="S4.Ex2.m3.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex2.m3.2b"><apply id="S4.Ex2.m3.2.2.1.1.cmml" xref="S4.Ex2.m3.2.2.1"><in id="S4.Ex2.m3.2.2.1.1.1.cmml" xref="S4.Ex2.m3.2.2.1.1.1"></in><apply id="S4.Ex2.m3.2.2.1.1.2.cmml" xref="S4.Ex2.m3.2.2.1.1.2"><times id="S4.Ex2.m3.2.2.1.1.2.1.cmml" xref="S4.Ex2.m3.2.2.1.1.2.1"></times><ci id="S4.Ex2.m3.2.2.1.1.2.2a.cmml" xref="S4.Ex2.m3.2.2.1.1.2.2"><mtext id="S4.Ex2.m3.2.2.1.1.2.2.cmml" xref="S4.Ex2.m3.2.2.1.1.2.2">ifÂ </mtext></ci><ci id="S4.Ex2.m3.2.2.1.1.2.3.cmml" xref="S4.Ex2.m3.2.2.1.1.2.3">ğ‘¥</ci></apply><apply id="S4.Ex2.m3.2.2.1.1.3.cmml" xref="S4.Ex2.m3.2.2.1.1.3"><times id="S4.Ex2.m3.2.2.1.1.3.1.cmml" xref="S4.Ex2.m3.2.2.1.1.3.1"></times><ci id="S4.Ex2.m3.2.2.1.1.3.2.cmml" xref="S4.Ex2.m3.2.2.1.1.3.2">ğ¿</ci><apply id="S4.Ex2.m3.2.2.1.1.3.3.1.cmml" xref="S4.Ex2.m3.2.2.1.1.3.3.2"><csymbol cd="latexml" id="S4.Ex2.m3.2.2.1.1.3.3.1.1.cmml" xref="S4.Ex2.m3.2.2.1.1.3.3.2.1">delimited-[]</csymbol><ci id="S4.Ex2.m3.1.1.cmml" xref="S4.Ex2.m3.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m3.2c">\displaystyle\text{ if }x\in L[q],</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.Ex3.m1.3" class="ltx_Math" alttext="\displaystyle=w_{q}[\varphi]\cdot p(x|d_{q}[\varphi])" display="inline"><semantics id="S4.Ex3.m1.3a"><mrow id="S4.Ex3.m1.3.3" xref="S4.Ex3.m1.3.3.cmml"><mi id="S4.Ex3.m1.3.3.3" xref="S4.Ex3.m1.3.3.3.cmml"></mi><mo id="S4.Ex3.m1.3.3.2" xref="S4.Ex3.m1.3.3.2.cmml">=</mo><mrow id="S4.Ex3.m1.3.3.1" xref="S4.Ex3.m1.3.3.1.cmml"><mrow id="S4.Ex3.m1.3.3.1.3" xref="S4.Ex3.m1.3.3.1.3.cmml"><mrow id="S4.Ex3.m1.3.3.1.3.2" xref="S4.Ex3.m1.3.3.1.3.2.cmml"><msub id="S4.Ex3.m1.3.3.1.3.2.2" xref="S4.Ex3.m1.3.3.1.3.2.2.cmml"><mi id="S4.Ex3.m1.3.3.1.3.2.2.2" xref="S4.Ex3.m1.3.3.1.3.2.2.2.cmml">w</mi><mi id="S4.Ex3.m1.3.3.1.3.2.2.3" xref="S4.Ex3.m1.3.3.1.3.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S4.Ex3.m1.3.3.1.3.2.1" xref="S4.Ex3.m1.3.3.1.3.2.1.cmml">â€‹</mo><mrow id="S4.Ex3.m1.3.3.1.3.2.3.2" xref="S4.Ex3.m1.3.3.1.3.2.3.1.cmml"><mo stretchy="false" id="S4.Ex3.m1.3.3.1.3.2.3.2.1" xref="S4.Ex3.m1.3.3.1.3.2.3.1.1.cmml">[</mo><mi id="S4.Ex3.m1.1.1" xref="S4.Ex3.m1.1.1.cmml">Ï†</mi><mo rspace="0.055em" stretchy="false" id="S4.Ex3.m1.3.3.1.3.2.3.2.2" xref="S4.Ex3.m1.3.3.1.3.2.3.1.1.cmml">]</mo></mrow></mrow><mo rspace="0.222em" id="S4.Ex3.m1.3.3.1.3.1" xref="S4.Ex3.m1.3.3.1.3.1.cmml">â‹…</mo><mi id="S4.Ex3.m1.3.3.1.3.3" xref="S4.Ex3.m1.3.3.1.3.3.cmml">p</mi></mrow><mo lspace="0em" rspace="0em" id="S4.Ex3.m1.3.3.1.2" xref="S4.Ex3.m1.3.3.1.2.cmml">â€‹</mo><mrow id="S4.Ex3.m1.3.3.1.1.1" xref="S4.Ex3.m1.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex3.m1.3.3.1.1.1.2" xref="S4.Ex3.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m1.3.3.1.1.1.1" xref="S4.Ex3.m1.3.3.1.1.1.1.cmml"><mi id="S4.Ex3.m1.3.3.1.1.1.1.2" xref="S4.Ex3.m1.3.3.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S4.Ex3.m1.3.3.1.1.1.1.1" xref="S4.Ex3.m1.3.3.1.1.1.1.1.cmml">|</mo><mrow id="S4.Ex3.m1.3.3.1.1.1.1.3" xref="S4.Ex3.m1.3.3.1.1.1.1.3.cmml"><msub id="S4.Ex3.m1.3.3.1.1.1.1.3.2" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2.cmml"><mi id="S4.Ex3.m1.3.3.1.1.1.1.3.2.2" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2.2.cmml">d</mi><mi id="S4.Ex3.m1.3.3.1.1.1.1.3.2.3" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S4.Ex3.m1.3.3.1.1.1.1.3.1" xref="S4.Ex3.m1.3.3.1.1.1.1.3.1.cmml">â€‹</mo><mrow id="S4.Ex3.m1.3.3.1.1.1.1.3.3.2" xref="S4.Ex3.m1.3.3.1.1.1.1.3.3.1.cmml"><mo stretchy="false" id="S4.Ex3.m1.3.3.1.1.1.1.3.3.2.1" xref="S4.Ex3.m1.3.3.1.1.1.1.3.3.1.1.cmml">[</mo><mi id="S4.Ex3.m1.2.2" xref="S4.Ex3.m1.2.2.cmml">Ï†</mi><mo stretchy="false" id="S4.Ex3.m1.3.3.1.1.1.1.3.3.2.2" xref="S4.Ex3.m1.3.3.1.1.1.1.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo stretchy="false" id="S4.Ex3.m1.3.3.1.1.1.3" xref="S4.Ex3.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.3b"><apply id="S4.Ex3.m1.3.3.cmml" xref="S4.Ex3.m1.3.3"><eq id="S4.Ex3.m1.3.3.2.cmml" xref="S4.Ex3.m1.3.3.2"></eq><csymbol cd="latexml" id="S4.Ex3.m1.3.3.3.cmml" xref="S4.Ex3.m1.3.3.3">absent</csymbol><apply id="S4.Ex3.m1.3.3.1.cmml" xref="S4.Ex3.m1.3.3.1"><times id="S4.Ex3.m1.3.3.1.2.cmml" xref="S4.Ex3.m1.3.3.1.2"></times><apply id="S4.Ex3.m1.3.3.1.3.cmml" xref="S4.Ex3.m1.3.3.1.3"><ci id="S4.Ex3.m1.3.3.1.3.1.cmml" xref="S4.Ex3.m1.3.3.1.3.1">â‹…</ci><apply id="S4.Ex3.m1.3.3.1.3.2.cmml" xref="S4.Ex3.m1.3.3.1.3.2"><times id="S4.Ex3.m1.3.3.1.3.2.1.cmml" xref="S4.Ex3.m1.3.3.1.3.2.1"></times><apply id="S4.Ex3.m1.3.3.1.3.2.2.cmml" xref="S4.Ex3.m1.3.3.1.3.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.3.3.1.3.2.2.1.cmml" xref="S4.Ex3.m1.3.3.1.3.2.2">subscript</csymbol><ci id="S4.Ex3.m1.3.3.1.3.2.2.2.cmml" xref="S4.Ex3.m1.3.3.1.3.2.2.2">ğ‘¤</ci><ci id="S4.Ex3.m1.3.3.1.3.2.2.3.cmml" xref="S4.Ex3.m1.3.3.1.3.2.2.3">ğ‘</ci></apply><apply id="S4.Ex3.m1.3.3.1.3.2.3.1.cmml" xref="S4.Ex3.m1.3.3.1.3.2.3.2"><csymbol cd="latexml" id="S4.Ex3.m1.3.3.1.3.2.3.1.1.cmml" xref="S4.Ex3.m1.3.3.1.3.2.3.2.1">delimited-[]</csymbol><ci id="S4.Ex3.m1.1.1.cmml" xref="S4.Ex3.m1.1.1">ğœ‘</ci></apply></apply><ci id="S4.Ex3.m1.3.3.1.3.3.cmml" xref="S4.Ex3.m1.3.3.1.3.3">ğ‘</ci></apply><apply id="S4.Ex3.m1.3.3.1.1.1.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.Ex3.m1.3.3.1.1.1.1.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex3.m1.3.3.1.1.1.1.2.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.2">ğ‘¥</ci><apply id="S4.Ex3.m1.3.3.1.1.1.1.3.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3"><times id="S4.Ex3.m1.3.3.1.1.1.1.3.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.1"></times><apply id="S4.Ex3.m1.3.3.1.1.1.1.3.2.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex3.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2">subscript</csymbol><ci id="S4.Ex3.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2.2">ğ‘‘</ci><ci id="S4.Ex3.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.2.3">ğ‘</ci></apply><apply id="S4.Ex3.m1.3.3.1.1.1.1.3.3.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.3.2"><csymbol cd="latexml" id="S4.Ex3.m1.3.3.1.1.1.1.3.3.1.1.cmml" xref="S4.Ex3.m1.3.3.1.1.1.1.3.3.2.1">delimited-[]</csymbol><ci id="S4.Ex3.m1.2.2.cmml" xref="S4.Ex3.m1.2.2">ğœ‘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m1.3c">\displaystyle=w_{q}[\varphi]\cdot p(x|d_{q}[\varphi])</annotation></semantics></math></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.Ex3.m2.1" class="ltx_Math" alttext="\displaystyle\text{ otherwise}." display="inline"><semantics id="S4.Ex3.m2.1a"><mrow id="S4.Ex3.m2.1.2.2" xref="S4.Ex3.m2.1.1a.cmml"><mtext id="S4.Ex3.m2.1.1" xref="S4.Ex3.m2.1.1.cmml">otherwise</mtext><mo lspace="0em" id="S4.Ex3.m2.1.2.2.1" xref="S4.Ex3.m2.1.1a.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m2.1b"><ci id="S4.Ex3.m2.1.1a.cmml" xref="S4.Ex3.m2.1.2.2"><mtext id="S4.Ex3.m2.1.1.cmml" xref="S4.Ex3.m2.1.1">otherwise</mtext></ci></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m2.1c">\displaystyle\text{ otherwise}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.p2.7" class="ltx_p">In other words, <math id="S4.p2.1.m1.1" class="ltx_Math" alttext="\varphi" display="inline"><semantics id="S4.p2.1.m1.1a"><mi id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">Ï†</mi><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><ci id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1">ğœ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">\varphi</annotation></semantics></math> is followed if <math id="S4.p2.2.m2.1" class="ltx_Math" alttext="x\notin L[q]" display="inline"><semantics id="S4.p2.2.m2.1a"><mrow id="S4.p2.2.m2.1.2" xref="S4.p2.2.m2.1.2.cmml"><mi id="S4.p2.2.m2.1.2.2" xref="S4.p2.2.m2.1.2.2.cmml">x</mi><mo id="S4.p2.2.m2.1.2.1" xref="S4.p2.2.m2.1.2.1.cmml">âˆ‰</mo><mrow id="S4.p2.2.m2.1.2.3" xref="S4.p2.2.m2.1.2.3.cmml"><mi id="S4.p2.2.m2.1.2.3.2" xref="S4.p2.2.m2.1.2.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.p2.2.m2.1.2.3.1" xref="S4.p2.2.m2.1.2.3.1.cmml">â€‹</mo><mrow id="S4.p2.2.m2.1.2.3.3.2" xref="S4.p2.2.m2.1.2.3.3.1.cmml"><mo stretchy="false" id="S4.p2.2.m2.1.2.3.3.2.1" xref="S4.p2.2.m2.1.2.3.3.1.1.cmml">[</mo><mi id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">q</mi><mo stretchy="false" id="S4.p2.2.m2.1.2.3.3.2.2" xref="S4.p2.2.m2.1.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><apply id="S4.p2.2.m2.1.2.cmml" xref="S4.p2.2.m2.1.2"><notin id="S4.p2.2.m2.1.2.1.cmml" xref="S4.p2.2.m2.1.2.1"></notin><ci id="S4.p2.2.m2.1.2.2.cmml" xref="S4.p2.2.m2.1.2.2">ğ‘¥</ci><apply id="S4.p2.2.m2.1.2.3.cmml" xref="S4.p2.2.m2.1.2.3"><times id="S4.p2.2.m2.1.2.3.1.cmml" xref="S4.p2.2.m2.1.2.3.1"></times><ci id="S4.p2.2.m2.1.2.3.2.cmml" xref="S4.p2.2.m2.1.2.3.2">ğ¿</ci><apply id="S4.p2.2.m2.1.2.3.3.1.cmml" xref="S4.p2.2.m2.1.2.3.3.2"><csymbol cd="latexml" id="S4.p2.2.m2.1.2.3.3.1.1.cmml" xref="S4.p2.2.m2.1.2.3.3.2.1">delimited-[]</csymbol><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">ğ‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">x\notin L[q]</annotation></semantics></math>.
The definition above is consistent with that of backoff n-gram
modelsÂ <cite class="ltx_cite ltx_citemacro_cite">Chen and Goodman (<a href="#bib.bib8" title="" class="ltx_ref">1999</a>)</cite>. Let <math id="S4.p2.3.m3.1" class="ltx_Math" alttext="B(q)" display="inline"><semantics id="S4.p2.3.m3.1a"><mrow id="S4.p2.3.m3.1.2" xref="S4.p2.3.m3.1.2.cmml"><mi id="S4.p2.3.m3.1.2.2" xref="S4.p2.3.m3.1.2.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S4.p2.3.m3.1.2.1" xref="S4.p2.3.m3.1.2.1.cmml">â€‹</mo><mrow id="S4.p2.3.m3.1.2.3.2" xref="S4.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S4.p2.3.m3.1.2.3.2.1" xref="S4.p2.3.m3.1.2.cmml">(</mo><mi id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml">q</mi><mo stretchy="false" id="S4.p2.3.m3.1.2.3.2.2" xref="S4.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.1b"><apply id="S4.p2.3.m3.1.2.cmml" xref="S4.p2.3.m3.1.2"><times id="S4.p2.3.m3.1.2.1.cmml" xref="S4.p2.3.m3.1.2.1"></times><ci id="S4.p2.3.m3.1.2.2.cmml" xref="S4.p2.3.m3.1.2.2">ğµ</ci><ci id="S4.p2.3.m3.1.1.cmml" xref="S4.p2.3.m3.1.1">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.1c">B(q)</annotation></semantics></math> denote the set of states from which
<math id="S4.p2.4.m4.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p2.4.m4.1a"><mi id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><ci id="S4.p2.4.m4.1.1.cmml" xref="S4.p2.4.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">q</annotation></semantics></math> can be reached by a path of backoff labels and let <math id="S4.p2.5.m5.1" class="ltx_Math" alttext="q[x]" display="inline"><semantics id="S4.p2.5.m5.1a"><mrow id="S4.p2.5.m5.1.2" xref="S4.p2.5.m5.1.2.cmml"><mi id="S4.p2.5.m5.1.2.2" xref="S4.p2.5.m5.1.2.2.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.p2.5.m5.1.2.1" xref="S4.p2.5.m5.1.2.1.cmml">â€‹</mo><mrow id="S4.p2.5.m5.1.2.3.2" xref="S4.p2.5.m5.1.2.3.1.cmml"><mo stretchy="false" id="S4.p2.5.m5.1.2.3.2.1" xref="S4.p2.5.m5.1.2.3.1.1.cmml">[</mo><mi id="S4.p2.5.m5.1.1" xref="S4.p2.5.m5.1.1.cmml">x</mi><mo stretchy="false" id="S4.p2.5.m5.1.2.3.2.2" xref="S4.p2.5.m5.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.5.m5.1b"><apply id="S4.p2.5.m5.1.2.cmml" xref="S4.p2.5.m5.1.2"><times id="S4.p2.5.m5.1.2.1.cmml" xref="S4.p2.5.m5.1.2.1"></times><ci id="S4.p2.5.m5.1.2.2.cmml" xref="S4.p2.5.m5.1.2.2">ğ‘</ci><apply id="S4.p2.5.m5.1.2.3.1.cmml" xref="S4.p2.5.m5.1.2.3.2"><csymbol cd="latexml" id="S4.p2.5.m5.1.2.3.1.1.cmml" xref="S4.p2.5.m5.1.2.3.2.1">delimited-[]</csymbol><ci id="S4.p2.5.m5.1.1.cmml" xref="S4.p2.5.m5.1.1">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.5.m5.1c">q[x]</annotation></semantics></math> be the first state
at which label <math id="S4.p2.6.m6.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p2.6.m6.1a"><mi id="S4.p2.6.m6.1.1" xref="S4.p2.6.m6.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p2.6.m6.1b"><ci id="S4.p2.6.m6.1.1.cmml" xref="S4.p2.6.m6.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.6.m6.1c">x</annotation></semantics></math> can be read by following a backoff path from <math id="S4.p2.7.m7.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p2.7.m7.1a"><mi id="S4.p2.7.m7.1.1" xref="S4.p2.7.m7.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p2.7.m7.1b"><ci id="S4.p2.7.m7.1.1.cmml" xref="S4.p2.7.m7.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.7.m7.1c">q</annotation></semantics></math>.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.12" class="ltx_p">Given an unweighted finite automaton <math id="S4.p3.1.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S4.p3.1.m1.1a"><mi id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><ci id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">A</annotation></semantics></math> and a neural model, <span id="S4.p3.12.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰finds the
probability model on <math id="S4.p3.2.m2.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S4.p3.2.m2.1a"><mi id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><ci id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">A</annotation></semantics></math> that minimizes the Kullback-Leibler (KL) divergence
between the neural model and the WFA. The algorithm has two steps: a counting
step and a KL minimization step. For the counting step, let
<math id="S4.p3.3.m3.7" class="ltx_Math" alttext="\bar{x}(1),\bar{x}(2),\ldots,\bar{x}(k)" display="inline"><semantics id="S4.p3.3.m3.7a"><mrow id="S4.p3.3.m3.7.7.3" xref="S4.p3.3.m3.7.7.4.cmml"><mrow id="S4.p3.3.m3.5.5.1.1" xref="S4.p3.3.m3.5.5.1.1.cmml"><mover accent="true" id="S4.p3.3.m3.5.5.1.1.2" xref="S4.p3.3.m3.5.5.1.1.2.cmml"><mi id="S4.p3.3.m3.5.5.1.1.2.2" xref="S4.p3.3.m3.5.5.1.1.2.2.cmml">x</mi><mo id="S4.p3.3.m3.5.5.1.1.2.1" xref="S4.p3.3.m3.5.5.1.1.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S4.p3.3.m3.5.5.1.1.1" xref="S4.p3.3.m3.5.5.1.1.1.cmml">â€‹</mo><mrow id="S4.p3.3.m3.5.5.1.1.3.2" xref="S4.p3.3.m3.5.5.1.1.cmml"><mo stretchy="false" id="S4.p3.3.m3.5.5.1.1.3.2.1" xref="S4.p3.3.m3.5.5.1.1.cmml">(</mo><mn id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml">1</mn><mo stretchy="false" id="S4.p3.3.m3.5.5.1.1.3.2.2" xref="S4.p3.3.m3.5.5.1.1.cmml">)</mo></mrow></mrow><mo id="S4.p3.3.m3.7.7.3.4" xref="S4.p3.3.m3.7.7.4.cmml">,</mo><mrow id="S4.p3.3.m3.6.6.2.2" xref="S4.p3.3.m3.6.6.2.2.cmml"><mover accent="true" id="S4.p3.3.m3.6.6.2.2.2" xref="S4.p3.3.m3.6.6.2.2.2.cmml"><mi id="S4.p3.3.m3.6.6.2.2.2.2" xref="S4.p3.3.m3.6.6.2.2.2.2.cmml">x</mi><mo id="S4.p3.3.m3.6.6.2.2.2.1" xref="S4.p3.3.m3.6.6.2.2.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S4.p3.3.m3.6.6.2.2.1" xref="S4.p3.3.m3.6.6.2.2.1.cmml">â€‹</mo><mrow id="S4.p3.3.m3.6.6.2.2.3.2" xref="S4.p3.3.m3.6.6.2.2.cmml"><mo stretchy="false" id="S4.p3.3.m3.6.6.2.2.3.2.1" xref="S4.p3.3.m3.6.6.2.2.cmml">(</mo><mn id="S4.p3.3.m3.2.2" xref="S4.p3.3.m3.2.2.cmml">2</mn><mo stretchy="false" id="S4.p3.3.m3.6.6.2.2.3.2.2" xref="S4.p3.3.m3.6.6.2.2.cmml">)</mo></mrow></mrow><mo id="S4.p3.3.m3.7.7.3.5" xref="S4.p3.3.m3.7.7.4.cmml">,</mo><mi mathvariant="normal" id="S4.p3.3.m3.4.4" xref="S4.p3.3.m3.4.4.cmml">â€¦</mi><mo id="S4.p3.3.m3.7.7.3.6" xref="S4.p3.3.m3.7.7.4.cmml">,</mo><mrow id="S4.p3.3.m3.7.7.3.3" xref="S4.p3.3.m3.7.7.3.3.cmml"><mover accent="true" id="S4.p3.3.m3.7.7.3.3.2" xref="S4.p3.3.m3.7.7.3.3.2.cmml"><mi id="S4.p3.3.m3.7.7.3.3.2.2" xref="S4.p3.3.m3.7.7.3.3.2.2.cmml">x</mi><mo id="S4.p3.3.m3.7.7.3.3.2.1" xref="S4.p3.3.m3.7.7.3.3.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S4.p3.3.m3.7.7.3.3.1" xref="S4.p3.3.m3.7.7.3.3.1.cmml">â€‹</mo><mrow id="S4.p3.3.m3.7.7.3.3.3.2" xref="S4.p3.3.m3.7.7.3.3.cmml"><mo stretchy="false" id="S4.p3.3.m3.7.7.3.3.3.2.1" xref="S4.p3.3.m3.7.7.3.3.cmml">(</mo><mi id="S4.p3.3.m3.3.3" xref="S4.p3.3.m3.3.3.cmml">k</mi><mo stretchy="false" id="S4.p3.3.m3.7.7.3.3.3.2.2" xref="S4.p3.3.m3.7.7.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.7b"><list id="S4.p3.3.m3.7.7.4.cmml" xref="S4.p3.3.m3.7.7.3"><apply id="S4.p3.3.m3.5.5.1.1.cmml" xref="S4.p3.3.m3.5.5.1.1"><times id="S4.p3.3.m3.5.5.1.1.1.cmml" xref="S4.p3.3.m3.5.5.1.1.1"></times><apply id="S4.p3.3.m3.5.5.1.1.2.cmml" xref="S4.p3.3.m3.5.5.1.1.2"><ci id="S4.p3.3.m3.5.5.1.1.2.1.cmml" xref="S4.p3.3.m3.5.5.1.1.2.1">Â¯</ci><ci id="S4.p3.3.m3.5.5.1.1.2.2.cmml" xref="S4.p3.3.m3.5.5.1.1.2.2">ğ‘¥</ci></apply><cn type="integer" id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1">1</cn></apply><apply id="S4.p3.3.m3.6.6.2.2.cmml" xref="S4.p3.3.m3.6.6.2.2"><times id="S4.p3.3.m3.6.6.2.2.1.cmml" xref="S4.p3.3.m3.6.6.2.2.1"></times><apply id="S4.p3.3.m3.6.6.2.2.2.cmml" xref="S4.p3.3.m3.6.6.2.2.2"><ci id="S4.p3.3.m3.6.6.2.2.2.1.cmml" xref="S4.p3.3.m3.6.6.2.2.2.1">Â¯</ci><ci id="S4.p3.3.m3.6.6.2.2.2.2.cmml" xref="S4.p3.3.m3.6.6.2.2.2.2">ğ‘¥</ci></apply><cn type="integer" id="S4.p3.3.m3.2.2.cmml" xref="S4.p3.3.m3.2.2">2</cn></apply><ci id="S4.p3.3.m3.4.4.cmml" xref="S4.p3.3.m3.4.4">â€¦</ci><apply id="S4.p3.3.m3.7.7.3.3.cmml" xref="S4.p3.3.m3.7.7.3.3"><times id="S4.p3.3.m3.7.7.3.3.1.cmml" xref="S4.p3.3.m3.7.7.3.3.1"></times><apply id="S4.p3.3.m3.7.7.3.3.2.cmml" xref="S4.p3.3.m3.7.7.3.3.2"><ci id="S4.p3.3.m3.7.7.3.3.2.1.cmml" xref="S4.p3.3.m3.7.7.3.3.2.1">Â¯</ci><ci id="S4.p3.3.m3.7.7.3.3.2.2.cmml" xref="S4.p3.3.m3.7.7.3.3.2.2">ğ‘¥</ci></apply><ci id="S4.p3.3.m3.3.3.cmml" xref="S4.p3.3.m3.3.3">ğ‘˜</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.7c">\bar{x}(1),\bar{x}(2),\ldots,\bar{x}(k)</annotation></semantics></math> be <math id="S4.p3.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.p3.4.m4.1a"><mi id="S4.p3.4.m4.1.1" xref="S4.p3.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p3.4.m4.1b"><ci id="S4.p3.4.m4.1.1.cmml" xref="S4.p3.4.m4.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.4.m4.1c">k</annotation></semantics></math> independent samples
from the neural model. For a sequence <math id="S4.p3.5.m5.1" class="ltx_Math" alttext="\bar{x}" display="inline"><semantics id="S4.p3.5.m5.1a"><mover accent="true" id="S4.p3.5.m5.1.1" xref="S4.p3.5.m5.1.1.cmml"><mi id="S4.p3.5.m5.1.1.2" xref="S4.p3.5.m5.1.1.2.cmml">x</mi><mo id="S4.p3.5.m5.1.1.1" xref="S4.p3.5.m5.1.1.1.cmml">Â¯</mo></mover><annotation-xml encoding="MathML-Content" id="S4.p3.5.m5.1b"><apply id="S4.p3.5.m5.1.1.cmml" xref="S4.p3.5.m5.1.1"><ci id="S4.p3.5.m5.1.1.1.cmml" xref="S4.p3.5.m5.1.1.1">Â¯</ci><ci id="S4.p3.5.m5.1.1.2.cmml" xref="S4.p3.5.m5.1.1.2">ğ‘¥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.5.m5.1c">\bar{x}</annotation></semantics></math>, let <math id="S4.p3.6.m6.1" class="ltx_Math" alttext="x_{i}" display="inline"><semantics id="S4.p3.6.m6.1a"><msub id="S4.p3.6.m6.1.1" xref="S4.p3.6.m6.1.1.cmml"><mi id="S4.p3.6.m6.1.1.2" xref="S4.p3.6.m6.1.1.2.cmml">x</mi><mi id="S4.p3.6.m6.1.1.3" xref="S4.p3.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p3.6.m6.1b"><apply id="S4.p3.6.m6.1.1.cmml" xref="S4.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S4.p3.6.m6.1.1.1.cmml" xref="S4.p3.6.m6.1.1">subscript</csymbol><ci id="S4.p3.6.m6.1.1.2.cmml" xref="S4.p3.6.m6.1.1.2">ğ‘¥</ci><ci id="S4.p3.6.m6.1.1.3.cmml" xref="S4.p3.6.m6.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.6.m6.1c">x_{i}</annotation></semantics></math> denote the
<math id="S4.p3.7.m7.1" class="ltx_Math" alttext="{i}^{\text{th}}" display="inline"><semantics id="S4.p3.7.m7.1a"><msup id="S4.p3.7.m7.1.1" xref="S4.p3.7.m7.1.1.cmml"><mi id="S4.p3.7.m7.1.1.2" xref="S4.p3.7.m7.1.1.2.cmml">i</mi><mtext id="S4.p3.7.m7.1.1.3" xref="S4.p3.7.m7.1.1.3a.cmml">th</mtext></msup><annotation-xml encoding="MathML-Content" id="S4.p3.7.m7.1b"><apply id="S4.p3.7.m7.1.1.cmml" xref="S4.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.p3.7.m7.1.1.1.cmml" xref="S4.p3.7.m7.1.1">superscript</csymbol><ci id="S4.p3.7.m7.1.1.2.cmml" xref="S4.p3.7.m7.1.1.2">ğ‘–</ci><ci id="S4.p3.7.m7.1.1.3a.cmml" xref="S4.p3.7.m7.1.1.3"><mtext mathsize="70%" id="S4.p3.7.m7.1.1.3.cmml" xref="S4.p3.7.m7.1.1.3">th</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.7.m7.1c">{i}^{\text{th}}</annotation></semantics></math> label and <math id="S4.p3.8.m8.4" class="ltx_Math" alttext="\bar{x}^{i}=x_{1},x_{2},\ldots,x_{i}" display="inline"><semantics id="S4.p3.8.m8.4a"><mrow id="S4.p3.8.m8.4.4" xref="S4.p3.8.m8.4.4.cmml"><msup id="S4.p3.8.m8.4.4.5" xref="S4.p3.8.m8.4.4.5.cmml"><mover accent="true" id="S4.p3.8.m8.4.4.5.2" xref="S4.p3.8.m8.4.4.5.2.cmml"><mi id="S4.p3.8.m8.4.4.5.2.2" xref="S4.p3.8.m8.4.4.5.2.2.cmml">x</mi><mo id="S4.p3.8.m8.4.4.5.2.1" xref="S4.p3.8.m8.4.4.5.2.1.cmml">Â¯</mo></mover><mi id="S4.p3.8.m8.4.4.5.3" xref="S4.p3.8.m8.4.4.5.3.cmml">i</mi></msup><mo id="S4.p3.8.m8.4.4.4" xref="S4.p3.8.m8.4.4.4.cmml">=</mo><mrow id="S4.p3.8.m8.4.4.3.3" xref="S4.p3.8.m8.4.4.3.4.cmml"><msub id="S4.p3.8.m8.2.2.1.1.1" xref="S4.p3.8.m8.2.2.1.1.1.cmml"><mi id="S4.p3.8.m8.2.2.1.1.1.2" xref="S4.p3.8.m8.2.2.1.1.1.2.cmml">x</mi><mn id="S4.p3.8.m8.2.2.1.1.1.3" xref="S4.p3.8.m8.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S4.p3.8.m8.4.4.3.3.4" xref="S4.p3.8.m8.4.4.3.4.cmml">,</mo><msub id="S4.p3.8.m8.3.3.2.2.2" xref="S4.p3.8.m8.3.3.2.2.2.cmml"><mi id="S4.p3.8.m8.3.3.2.2.2.2" xref="S4.p3.8.m8.3.3.2.2.2.2.cmml">x</mi><mn id="S4.p3.8.m8.3.3.2.2.2.3" xref="S4.p3.8.m8.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S4.p3.8.m8.4.4.3.3.5" xref="S4.p3.8.m8.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S4.p3.8.m8.1.1" xref="S4.p3.8.m8.1.1.cmml">â€¦</mi><mo id="S4.p3.8.m8.4.4.3.3.6" xref="S4.p3.8.m8.4.4.3.4.cmml">,</mo><msub id="S4.p3.8.m8.4.4.3.3.3" xref="S4.p3.8.m8.4.4.3.3.3.cmml"><mi id="S4.p3.8.m8.4.4.3.3.3.2" xref="S4.p3.8.m8.4.4.3.3.3.2.cmml">x</mi><mi id="S4.p3.8.m8.4.4.3.3.3.3" xref="S4.p3.8.m8.4.4.3.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.8.m8.4b"><apply id="S4.p3.8.m8.4.4.cmml" xref="S4.p3.8.m8.4.4"><eq id="S4.p3.8.m8.4.4.4.cmml" xref="S4.p3.8.m8.4.4.4"></eq><apply id="S4.p3.8.m8.4.4.5.cmml" xref="S4.p3.8.m8.4.4.5"><csymbol cd="ambiguous" id="S4.p3.8.m8.4.4.5.1.cmml" xref="S4.p3.8.m8.4.4.5">superscript</csymbol><apply id="S4.p3.8.m8.4.4.5.2.cmml" xref="S4.p3.8.m8.4.4.5.2"><ci id="S4.p3.8.m8.4.4.5.2.1.cmml" xref="S4.p3.8.m8.4.4.5.2.1">Â¯</ci><ci id="S4.p3.8.m8.4.4.5.2.2.cmml" xref="S4.p3.8.m8.4.4.5.2.2">ğ‘¥</ci></apply><ci id="S4.p3.8.m8.4.4.5.3.cmml" xref="S4.p3.8.m8.4.4.5.3">ğ‘–</ci></apply><list id="S4.p3.8.m8.4.4.3.4.cmml" xref="S4.p3.8.m8.4.4.3.3"><apply id="S4.p3.8.m8.2.2.1.1.1.cmml" xref="S4.p3.8.m8.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.p3.8.m8.2.2.1.1.1.1.cmml" xref="S4.p3.8.m8.2.2.1.1.1">subscript</csymbol><ci id="S4.p3.8.m8.2.2.1.1.1.2.cmml" xref="S4.p3.8.m8.2.2.1.1.1.2">ğ‘¥</ci><cn type="integer" id="S4.p3.8.m8.2.2.1.1.1.3.cmml" xref="S4.p3.8.m8.2.2.1.1.1.3">1</cn></apply><apply id="S4.p3.8.m8.3.3.2.2.2.cmml" xref="S4.p3.8.m8.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.p3.8.m8.3.3.2.2.2.1.cmml" xref="S4.p3.8.m8.3.3.2.2.2">subscript</csymbol><ci id="S4.p3.8.m8.3.3.2.2.2.2.cmml" xref="S4.p3.8.m8.3.3.2.2.2.2">ğ‘¥</ci><cn type="integer" id="S4.p3.8.m8.3.3.2.2.2.3.cmml" xref="S4.p3.8.m8.3.3.2.2.2.3">2</cn></apply><ci id="S4.p3.8.m8.1.1.cmml" xref="S4.p3.8.m8.1.1">â€¦</ci><apply id="S4.p3.8.m8.4.4.3.3.3.cmml" xref="S4.p3.8.m8.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.p3.8.m8.4.4.3.3.3.1.cmml" xref="S4.p3.8.m8.4.4.3.3.3">subscript</csymbol><ci id="S4.p3.8.m8.4.4.3.3.3.2.cmml" xref="S4.p3.8.m8.4.4.3.3.3.2">ğ‘¥</ci><ci id="S4.p3.8.m8.4.4.3.3.3.3.cmml" xref="S4.p3.8.m8.4.4.3.3.3.3">ğ‘–</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.8.m8.4c">\bar{x}^{i}=x_{1},x_{2},\ldots,x_{i}</annotation></semantics></math> denote the
first <math id="S4.p3.9.m9.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p3.9.m9.1a"><mi id="S4.p3.9.m9.1.1" xref="S4.p3.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p3.9.m9.1b"><ci id="S4.p3.9.m9.1.1.cmml" xref="S4.p3.9.m9.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.9.m9.1c">i</annotation></semantics></math> labels. For every <math id="S4.p3.10.m10.1" class="ltx_Math" alttext="q\in Q" display="inline"><semantics id="S4.p3.10.m10.1a"><mrow id="S4.p3.10.m10.1.1" xref="S4.p3.10.m10.1.1.cmml"><mi id="S4.p3.10.m10.1.1.2" xref="S4.p3.10.m10.1.1.2.cmml">q</mi><mo id="S4.p3.10.m10.1.1.1" xref="S4.p3.10.m10.1.1.1.cmml">âˆˆ</mo><mi id="S4.p3.10.m10.1.1.3" xref="S4.p3.10.m10.1.1.3.cmml">Q</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.10.m10.1b"><apply id="S4.p3.10.m10.1.1.cmml" xref="S4.p3.10.m10.1.1"><in id="S4.p3.10.m10.1.1.1.cmml" xref="S4.p3.10.m10.1.1.1"></in><ci id="S4.p3.10.m10.1.1.2.cmml" xref="S4.p3.10.m10.1.1.2">ğ‘</ci><ci id="S4.p3.10.m10.1.1.3.cmml" xref="S4.p3.10.m10.1.1.3">ğ‘„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.10.m10.1c">q\in Q</annotation></semantics></math> and <math id="S4.p3.11.m11.1" class="ltx_Math" alttext="x\in\Sigma" display="inline"><semantics id="S4.p3.11.m11.1a"><mrow id="S4.p3.11.m11.1.1" xref="S4.p3.11.m11.1.1.cmml"><mi id="S4.p3.11.m11.1.1.2" xref="S4.p3.11.m11.1.1.2.cmml">x</mi><mo id="S4.p3.11.m11.1.1.1" xref="S4.p3.11.m11.1.1.1.cmml">âˆˆ</mo><mi mathvariant="normal" id="S4.p3.11.m11.1.1.3" xref="S4.p3.11.m11.1.1.3.cmml">Î£</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.11.m11.1b"><apply id="S4.p3.11.m11.1.1.cmml" xref="S4.p3.11.m11.1.1"><in id="S4.p3.11.m11.1.1.1.cmml" xref="S4.p3.11.m11.1.1.1"></in><ci id="S4.p3.11.m11.1.1.2.cmml" xref="S4.p3.11.m11.1.1.2">ğ‘¥</ci><ci id="S4.p3.11.m11.1.1.3.cmml" xref="S4.p3.11.m11.1.1.3">Î£</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.11.m11.1c">x\in\Sigma</annotation></semantics></math>, the algorithm computes
<math id="S4.p3.12.m12.2" class="ltx_Math" alttext="C(x,q)" display="inline"><semantics id="S4.p3.12.m12.2a"><mrow id="S4.p3.12.m12.2.3" xref="S4.p3.12.m12.2.3.cmml"><mi id="S4.p3.12.m12.2.3.2" xref="S4.p3.12.m12.2.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S4.p3.12.m12.2.3.1" xref="S4.p3.12.m12.2.3.1.cmml">â€‹</mo><mrow id="S4.p3.12.m12.2.3.3.2" xref="S4.p3.12.m12.2.3.3.1.cmml"><mo stretchy="false" id="S4.p3.12.m12.2.3.3.2.1" xref="S4.p3.12.m12.2.3.3.1.cmml">(</mo><mi id="S4.p3.12.m12.1.1" xref="S4.p3.12.m12.1.1.cmml">x</mi><mo id="S4.p3.12.m12.2.3.3.2.2" xref="S4.p3.12.m12.2.3.3.1.cmml">,</mo><mi id="S4.p3.12.m12.2.2" xref="S4.p3.12.m12.2.2.cmml">q</mi><mo stretchy="false" id="S4.p3.12.m12.2.3.3.2.3" xref="S4.p3.12.m12.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.12.m12.2b"><apply id="S4.p3.12.m12.2.3.cmml" xref="S4.p3.12.m12.2.3"><times id="S4.p3.12.m12.2.3.1.cmml" xref="S4.p3.12.m12.2.3.1"></times><ci id="S4.p3.12.m12.2.3.2.cmml" xref="S4.p3.12.m12.2.3.2">ğ¶</ci><interval closure="open" id="S4.p3.12.m12.2.3.3.1.cmml" xref="S4.p3.12.m12.2.3.3.2"><ci id="S4.p3.12.m12.1.1.cmml" xref="S4.p3.12.m12.1.1">ğ‘¥</ci><ci id="S4.p3.12.m12.2.2.cmml" xref="S4.p3.12.m12.2.2">ğ‘</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.12.m12.2c">C(x,q)</annotation></semantics></math> given by</p>
<table id="S4.Ex4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex4.m1.7" class="ltx_Math" alttext="\sum_{q^{\prime}\in B(q)}\sum^{m}_{j=1}\sum_{i\geq 0}1_{q(\bar{x}^{i}(j))=q^{\prime},q=q^{\prime}[x]}\cdot p_{\text{nn}}(x|\bar{x}^{i}(j))." display="block"><semantics id="S4.Ex4.m1.7a"><mrow id="S4.Ex4.m1.7.7.1" xref="S4.Ex4.m1.7.7.1.1.cmml"><mrow id="S4.Ex4.m1.7.7.1.1" xref="S4.Ex4.m1.7.7.1.1.cmml"><munder id="S4.Ex4.m1.7.7.1.1.2" xref="S4.Ex4.m1.7.7.1.1.2.cmml"><mo movablelimits="false" id="S4.Ex4.m1.7.7.1.1.2.2" xref="S4.Ex4.m1.7.7.1.1.2.2.cmml">âˆ‘</mo><mrow id="S4.Ex4.m1.1.1.1" xref="S4.Ex4.m1.1.1.1.cmml"><msup id="S4.Ex4.m1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.3.cmml"><mi id="S4.Ex4.m1.1.1.1.3.2" xref="S4.Ex4.m1.1.1.1.3.2.cmml">q</mi><mo id="S4.Ex4.m1.1.1.1.3.3" xref="S4.Ex4.m1.1.1.1.3.3.cmml">â€²</mo></msup><mo id="S4.Ex4.m1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.2.cmml">âˆˆ</mo><mrow id="S4.Ex4.m1.1.1.1.4" xref="S4.Ex4.m1.1.1.1.4.cmml"><mi id="S4.Ex4.m1.1.1.1.4.2" xref="S4.Ex4.m1.1.1.1.4.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.1.1.1.4.1" xref="S4.Ex4.m1.1.1.1.4.1.cmml">â€‹</mo><mrow id="S4.Ex4.m1.1.1.1.4.3.2" xref="S4.Ex4.m1.1.1.1.4.cmml"><mo stretchy="false" id="S4.Ex4.m1.1.1.1.4.3.2.1" xref="S4.Ex4.m1.1.1.1.4.cmml">(</mo><mi id="S4.Ex4.m1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml">q</mi><mo stretchy="false" id="S4.Ex4.m1.1.1.1.4.3.2.2" xref="S4.Ex4.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.Ex4.m1.7.7.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.cmml"><munderover id="S4.Ex4.m1.7.7.1.1.1.2" xref="S4.Ex4.m1.7.7.1.1.1.2.cmml"><mo lspace="0.167em" movablelimits="false" rspace="0em" id="S4.Ex4.m1.7.7.1.1.1.2.2.2" xref="S4.Ex4.m1.7.7.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.2.3" xref="S4.Ex4.m1.7.7.1.1.1.2.3.cmml"><mi id="S4.Ex4.m1.7.7.1.1.1.2.3.2" xref="S4.Ex4.m1.7.7.1.1.1.2.3.2.cmml">j</mi><mo id="S4.Ex4.m1.7.7.1.1.1.2.3.1" xref="S4.Ex4.m1.7.7.1.1.1.2.3.1.cmml">=</mo><mn id="S4.Ex4.m1.7.7.1.1.1.2.3.3" xref="S4.Ex4.m1.7.7.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.Ex4.m1.7.7.1.1.1.2.2.3" xref="S4.Ex4.m1.7.7.1.1.1.2.2.3.cmml">m</mi></munderover><mrow id="S4.Ex4.m1.7.7.1.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.1.cmml"><munder id="S4.Ex4.m1.7.7.1.1.1.1.2" xref="S4.Ex4.m1.7.7.1.1.1.1.2.cmml"><mo movablelimits="false" id="S4.Ex4.m1.7.7.1.1.1.1.2.2" xref="S4.Ex4.m1.7.7.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.1.2.3" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.cmml"><mi id="S4.Ex4.m1.7.7.1.1.1.1.2.3.2" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.2.cmml">i</mi><mo id="S4.Ex4.m1.7.7.1.1.1.1.2.3.1" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.1.cmml">â‰¥</mo><mn id="S4.Ex4.m1.7.7.1.1.1.1.2.3.3" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.3.cmml">0</mn></mrow></munder><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.cmml"><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.cmml"><msub id="S4.Ex4.m1.7.7.1.1.1.1.1.3.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.cmml"><mn id="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.2.cmml">1</mn><mrow id="S4.Ex4.m1.5.5.4.4" xref="S4.Ex4.m1.5.5.4.5.cmml"><mrow id="S4.Ex4.m1.4.4.3.3.1" xref="S4.Ex4.m1.4.4.3.3.1.cmml"><mrow id="S4.Ex4.m1.4.4.3.3.1.1" xref="S4.Ex4.m1.4.4.3.3.1.1.cmml"><mi id="S4.Ex4.m1.4.4.3.3.1.1.3" xref="S4.Ex4.m1.4.4.3.3.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.4.4.3.3.1.1.2" xref="S4.Ex4.m1.4.4.3.3.1.1.2.cmml">â€‹</mo><mrow id="S4.Ex4.m1.4.4.3.3.1.1.1.1" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml"><msup id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.cmml"><mover accent="true" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.cmml"><mi id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.2.cmml">x</mi><mo id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.1" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.1.cmml">Â¯</mo></mover><mi id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.3" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.1" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.1.cmml">â€‹</mo><mrow id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.3.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.3.2.1" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml">(</mo><mi id="S4.Ex4.m1.2.2.1.1" xref="S4.Ex4.m1.2.2.1.1.cmml">j</mi><mo stretchy="false" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.3.2.2" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.3" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex4.m1.4.4.3.3.1.2" xref="S4.Ex4.m1.4.4.3.3.1.2.cmml">=</mo><msup id="S4.Ex4.m1.4.4.3.3.1.3" xref="S4.Ex4.m1.4.4.3.3.1.3.cmml"><mi id="S4.Ex4.m1.4.4.3.3.1.3.2" xref="S4.Ex4.m1.4.4.3.3.1.3.2.cmml">q</mi><mo id="S4.Ex4.m1.4.4.3.3.1.3.3" xref="S4.Ex4.m1.4.4.3.3.1.3.3.cmml">â€²</mo></msup></mrow><mo id="S4.Ex4.m1.5.5.4.4.3" xref="S4.Ex4.m1.5.5.4.5a.cmml">,</mo><mrow id="S4.Ex4.m1.5.5.4.4.2" xref="S4.Ex4.m1.5.5.4.4.2.cmml"><mi id="S4.Ex4.m1.5.5.4.4.2.2" xref="S4.Ex4.m1.5.5.4.4.2.2.cmml">q</mi><mo id="S4.Ex4.m1.5.5.4.4.2.1" xref="S4.Ex4.m1.5.5.4.4.2.1.cmml">=</mo><mrow id="S4.Ex4.m1.5.5.4.4.2.3" xref="S4.Ex4.m1.5.5.4.4.2.3.cmml"><msup id="S4.Ex4.m1.5.5.4.4.2.3.2" xref="S4.Ex4.m1.5.5.4.4.2.3.2.cmml"><mi id="S4.Ex4.m1.5.5.4.4.2.3.2.2" xref="S4.Ex4.m1.5.5.4.4.2.3.2.2.cmml">q</mi><mo id="S4.Ex4.m1.5.5.4.4.2.3.2.3" xref="S4.Ex4.m1.5.5.4.4.2.3.2.3.cmml">â€²</mo></msup><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.5.5.4.4.2.3.1" xref="S4.Ex4.m1.5.5.4.4.2.3.1.cmml">â€‹</mo><mrow id="S4.Ex4.m1.5.5.4.4.2.3.3.2" xref="S4.Ex4.m1.5.5.4.4.2.3.3.1.cmml"><mo stretchy="false" id="S4.Ex4.m1.5.5.4.4.2.3.3.2.1" xref="S4.Ex4.m1.5.5.4.4.2.3.3.1.1.cmml">[</mo><mi id="S4.Ex4.m1.3.3.2.2" xref="S4.Ex4.m1.3.3.2.2.cmml">x</mi><mo stretchy="false" id="S4.Ex4.m1.5.5.4.4.2.3.3.2.2" xref="S4.Ex4.m1.5.5.4.4.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S4.Ex4.m1.7.7.1.1.1.1.1.3.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.1.cmml">â‹…</mo><msub id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.cmml"><mi id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.2.cmml">p</mi><mtext id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3a.cmml">nn</mtext></msub></mrow><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.7.7.1.1.1.1.1.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.2.cmml">â€‹</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml"><mi id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo fence="false" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.cmml"><msup id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2.cmml">x</mi><mo id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.1.cmml">â€‹</mo><mrow id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.3.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.3.2.1" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.cmml">(</mo><mi id="S4.Ex4.m1.6.6" xref="S4.Ex4.m1.6.6.cmml">j</mi><mo stretchy="false" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.3.2.2" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.Ex4.m1.7.7.1.2" xref="S4.Ex4.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex4.m1.7b"><apply id="S4.Ex4.m1.7.7.1.1.cmml" xref="S4.Ex4.m1.7.7.1"><apply id="S4.Ex4.m1.7.7.1.1.2.cmml" xref="S4.Ex4.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.2">subscript</csymbol><sum id="S4.Ex4.m1.7.7.1.1.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.2.2"></sum><apply id="S4.Ex4.m1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1"><in id="S4.Ex4.m1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.2"></in><apply id="S4.Ex4.m1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.1.1.1.3">superscript</csymbol><ci id="S4.Ex4.m1.1.1.1.3.2.cmml" xref="S4.Ex4.m1.1.1.1.3.2">ğ‘</ci><ci id="S4.Ex4.m1.1.1.1.3.3.cmml" xref="S4.Ex4.m1.1.1.1.3.3">â€²</ci></apply><apply id="S4.Ex4.m1.1.1.1.4.cmml" xref="S4.Ex4.m1.1.1.1.4"><times id="S4.Ex4.m1.1.1.1.4.1.cmml" xref="S4.Ex4.m1.1.1.1.4.1"></times><ci id="S4.Ex4.m1.1.1.1.4.2.cmml" xref="S4.Ex4.m1.1.1.1.4.2">ğµ</ci><ci id="S4.Ex4.m1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1">ğ‘</ci></apply></apply></apply><apply id="S4.Ex4.m1.7.7.1.1.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1"><apply id="S4.Ex4.m1.7.7.1.1.1.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2">subscript</csymbol><apply id="S4.Ex4.m1.7.7.1.1.1.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.2.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2">superscript</csymbol><sum id="S4.Ex4.m1.7.7.1.1.1.2.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.2.2"></sum><ci id="S4.Ex4.m1.7.7.1.1.1.2.2.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.2.3">ğ‘š</ci></apply><apply id="S4.Ex4.m1.7.7.1.1.1.2.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.3"><eq id="S4.Ex4.m1.7.7.1.1.1.2.3.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.3.1"></eq><ci id="S4.Ex4.m1.7.7.1.1.1.2.3.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.3.2">ğ‘—</ci><cn type="integer" id="S4.Ex4.m1.7.7.1.1.1.2.3.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.Ex4.m1.7.7.1.1.1.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1"><apply id="S4.Ex4.m1.7.7.1.1.1.1.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2">subscript</csymbol><sum id="S4.Ex4.m1.7.7.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2.2"></sum><apply id="S4.Ex4.m1.7.7.1.1.1.1.2.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3"><geq id="S4.Ex4.m1.7.7.1.1.1.1.2.3.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.1"></geq><ci id="S4.Ex4.m1.7.7.1.1.1.1.2.3.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.2">ğ‘–</ci><cn type="integer" id="S4.Ex4.m1.7.7.1.1.1.1.2.3.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.2.3.3">0</cn></apply></apply><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1"><times id="S4.Ex4.m1.7.7.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.2"></times><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3"><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.1">â‹…</ci><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.2">subscript</csymbol><cn type="integer" id="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.2.2">1</cn><apply id="S4.Ex4.m1.5.5.4.5.cmml" xref="S4.Ex4.m1.5.5.4.4"><csymbol cd="ambiguous" id="S4.Ex4.m1.5.5.4.5a.cmml" xref="S4.Ex4.m1.5.5.4.4.3">formulae-sequence</csymbol><apply id="S4.Ex4.m1.4.4.3.3.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1"><eq id="S4.Ex4.m1.4.4.3.3.1.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.2"></eq><apply id="S4.Ex4.m1.4.4.3.3.1.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1"><times id="S4.Ex4.m1.4.4.3.3.1.1.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.2"></times><ci id="S4.Ex4.m1.4.4.3.3.1.1.3.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.3">ğ‘</ci><apply id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1"><times id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.1"></times><apply id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2">superscript</csymbol><apply id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2"><ci id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.1">Â¯</ci><ci id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.2.2">ğ‘¥</ci></apply><ci id="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.3.cmml" xref="S4.Ex4.m1.4.4.3.3.1.1.1.1.1.2.3">ğ‘–</ci></apply><ci id="S4.Ex4.m1.2.2.1.1.cmml" xref="S4.Ex4.m1.2.2.1.1">ğ‘—</ci></apply></apply><apply id="S4.Ex4.m1.4.4.3.3.1.3.cmml" xref="S4.Ex4.m1.4.4.3.3.1.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.4.4.3.3.1.3.1.cmml" xref="S4.Ex4.m1.4.4.3.3.1.3">superscript</csymbol><ci id="S4.Ex4.m1.4.4.3.3.1.3.2.cmml" xref="S4.Ex4.m1.4.4.3.3.1.3.2">ğ‘</ci><ci id="S4.Ex4.m1.4.4.3.3.1.3.3.cmml" xref="S4.Ex4.m1.4.4.3.3.1.3.3">â€²</ci></apply></apply><apply id="S4.Ex4.m1.5.5.4.4.2.cmml" xref="S4.Ex4.m1.5.5.4.4.2"><eq id="S4.Ex4.m1.5.5.4.4.2.1.cmml" xref="S4.Ex4.m1.5.5.4.4.2.1"></eq><ci id="S4.Ex4.m1.5.5.4.4.2.2.cmml" xref="S4.Ex4.m1.5.5.4.4.2.2">ğ‘</ci><apply id="S4.Ex4.m1.5.5.4.4.2.3.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3"><times id="S4.Ex4.m1.5.5.4.4.2.3.1.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.1"></times><apply id="S4.Ex4.m1.5.5.4.4.2.3.2.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.5.5.4.4.2.3.2.1.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.2">superscript</csymbol><ci id="S4.Ex4.m1.5.5.4.4.2.3.2.2.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.2.2">ğ‘</ci><ci id="S4.Ex4.m1.5.5.4.4.2.3.2.3.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.2.3">â€²</ci></apply><apply id="S4.Ex4.m1.5.5.4.4.2.3.3.1.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.3.2"><csymbol cd="latexml" id="S4.Ex4.m1.5.5.4.4.2.3.3.1.1.cmml" xref="S4.Ex4.m1.5.5.4.4.2.3.3.2.1">delimited-[]</csymbol><ci id="S4.Ex4.m1.3.3.2.2.cmml" xref="S4.Ex4.m1.3.3.2.2">ğ‘¥</ci></apply></apply></apply></apply></apply><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.2">ğ‘</ci><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3a.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3"><mtext mathsize="70%" id="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.3.3.3">nn</mtext></ci></apply></apply><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3"><times id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.1"></times><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2"><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1">Â¯</ci><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2">ğ‘¥</ci></apply><ci id="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.Ex4.m1.7.7.1.1.1.1.1.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S4.Ex4.m1.6.6.cmml" xref="S4.Ex4.m1.6.6">ğ‘—</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex4.m1.7c">\sum_{q^{\prime}\in B(q)}\sum^{m}_{j=1}\sum_{i\geq 0}1_{q(\bar{x}^{i}(j))=q^{\prime},q=q^{\prime}[x]}\cdot p_{\text{nn}}(x|\bar{x}^{i}(j)).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.p3.13" class="ltx_p">We illustrate this counting with an example. Suppose we are interested in the
count of the bi-gram New York. Given a bi-gram LM, <span id="S4.p3.13.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰generates <math id="S4.p3.13.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S4.p3.13.m1.1a"><mi id="S4.p3.13.m1.1.1" xref="S4.p3.13.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S4.p3.13.m1.1b"><ci id="S4.p3.13.m1.1.1.cmml" xref="S4.p3.13.m1.1.1">ğ‘š</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.13.m1.1c">m</annotation></semantics></math> sentences and computes</p>
<table id="S4.Ex5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.Ex5.m1.7" class="ltx_Math" alttext="C(\textrm{York},\textrm{New})=\sum_{j,i:x_{i}(j)=\textrm{New}}p_{\text{nn}}(\textrm{York}|\bar{x}^{i}(j))." display="block"><semantics id="S4.Ex5.m1.7a"><mrow id="S4.Ex5.m1.7.7.1" xref="S4.Ex5.m1.7.7.1.1.cmml"><mrow id="S4.Ex5.m1.7.7.1.1" xref="S4.Ex5.m1.7.7.1.1.cmml"><mrow id="S4.Ex5.m1.7.7.1.1.3" xref="S4.Ex5.m1.7.7.1.1.3.cmml"><mi id="S4.Ex5.m1.7.7.1.1.3.2" xref="S4.Ex5.m1.7.7.1.1.3.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.7.7.1.1.3.1" xref="S4.Ex5.m1.7.7.1.1.3.1.cmml">â€‹</mo><mrow id="S4.Ex5.m1.7.7.1.1.3.3.2" xref="S4.Ex5.m1.7.7.1.1.3.3.1.cmml"><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.3.3.2.1" xref="S4.Ex5.m1.7.7.1.1.3.3.1.cmml">(</mo><mtext id="S4.Ex5.m1.4.4" xref="S4.Ex5.m1.4.4a.cmml">York</mtext><mo id="S4.Ex5.m1.7.7.1.1.3.3.2.2" xref="S4.Ex5.m1.7.7.1.1.3.3.1.cmml">,</mo><mtext id="S4.Ex5.m1.5.5" xref="S4.Ex5.m1.5.5a.cmml">New</mtext><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.3.3.2.3" xref="S4.Ex5.m1.7.7.1.1.3.3.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S4.Ex5.m1.7.7.1.1.2" xref="S4.Ex5.m1.7.7.1.1.2.cmml">=</mo><mrow id="S4.Ex5.m1.7.7.1.1.1" xref="S4.Ex5.m1.7.7.1.1.1.cmml"><munder id="S4.Ex5.m1.7.7.1.1.1.2" xref="S4.Ex5.m1.7.7.1.1.1.2.cmml"><mo movablelimits="false" id="S4.Ex5.m1.7.7.1.1.1.2.2" xref="S4.Ex5.m1.7.7.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S4.Ex5.m1.3.3.3" xref="S4.Ex5.m1.3.3.3.cmml"><mrow id="S4.Ex5.m1.3.3.3.5.2" xref="S4.Ex5.m1.3.3.3.5.1.cmml"><mi id="S4.Ex5.m1.1.1.1.1" xref="S4.Ex5.m1.1.1.1.1.cmml">j</mi><mo id="S4.Ex5.m1.3.3.3.5.2.1" xref="S4.Ex5.m1.3.3.3.5.1.cmml">,</mo><mi id="S4.Ex5.m1.2.2.2.2" xref="S4.Ex5.m1.2.2.2.2.cmml">i</mi></mrow><mo lspace="0.278em" rspace="0.278em" id="S4.Ex5.m1.3.3.3.4" xref="S4.Ex5.m1.3.3.3.4.cmml">:</mo><mrow id="S4.Ex5.m1.3.3.3.6" xref="S4.Ex5.m1.3.3.3.6.cmml"><mrow id="S4.Ex5.m1.3.3.3.6.2" xref="S4.Ex5.m1.3.3.3.6.2.cmml"><msub id="S4.Ex5.m1.3.3.3.6.2.2" xref="S4.Ex5.m1.3.3.3.6.2.2.cmml"><mi id="S4.Ex5.m1.3.3.3.6.2.2.2" xref="S4.Ex5.m1.3.3.3.6.2.2.2.cmml">x</mi><mi id="S4.Ex5.m1.3.3.3.6.2.2.3" xref="S4.Ex5.m1.3.3.3.6.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.3.3.3.6.2.1" xref="S4.Ex5.m1.3.3.3.6.2.1.cmml">â€‹</mo><mrow id="S4.Ex5.m1.3.3.3.6.2.3.2" xref="S4.Ex5.m1.3.3.3.6.2.cmml"><mo stretchy="false" id="S4.Ex5.m1.3.3.3.6.2.3.2.1" xref="S4.Ex5.m1.3.3.3.6.2.cmml">(</mo><mi id="S4.Ex5.m1.3.3.3.3" xref="S4.Ex5.m1.3.3.3.3.cmml">j</mi><mo stretchy="false" id="S4.Ex5.m1.3.3.3.6.2.3.2.2" xref="S4.Ex5.m1.3.3.3.6.2.cmml">)</mo></mrow></mrow><mo id="S4.Ex5.m1.3.3.3.6.1" xref="S4.Ex5.m1.3.3.3.6.1.cmml">=</mo><mtext id="S4.Ex5.m1.3.3.3.6.3" xref="S4.Ex5.m1.3.3.3.6.3a.cmml">New</mtext></mrow></mrow></munder><mrow id="S4.Ex5.m1.7.7.1.1.1.1" xref="S4.Ex5.m1.7.7.1.1.1.1.cmml"><msub id="S4.Ex5.m1.7.7.1.1.1.1.3" xref="S4.Ex5.m1.7.7.1.1.1.1.3.cmml"><mi id="S4.Ex5.m1.7.7.1.1.1.1.3.2" xref="S4.Ex5.m1.7.7.1.1.1.1.3.2.cmml">p</mi><mtext id="S4.Ex5.m1.7.7.1.1.1.1.3.3" xref="S4.Ex5.m1.7.7.1.1.1.1.3.3a.cmml">nn</mtext></msub><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.7.7.1.1.1.1.2" xref="S4.Ex5.m1.7.7.1.1.1.1.2.cmml">â€‹</mo><mrow id="S4.Ex5.m1.7.7.1.1.1.1.1.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.cmml"><mtext id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2a.cmml">York</mtext><mo fence="false" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.cmml"><msup id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.2.cmml">x</mi><mo id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.3" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.1.cmml">â€‹</mo><mrow id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.3.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.3.2.1" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.cmml">(</mo><mi id="S4.Ex5.m1.6.6" xref="S4.Ex5.m1.6.6.cmml">j</mi><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.3.2.2" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.3" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.Ex5.m1.7.7.1.2" xref="S4.Ex5.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex5.m1.7b"><apply id="S4.Ex5.m1.7.7.1.1.cmml" xref="S4.Ex5.m1.7.7.1"><eq id="S4.Ex5.m1.7.7.1.1.2.cmml" xref="S4.Ex5.m1.7.7.1.1.2"></eq><apply id="S4.Ex5.m1.7.7.1.1.3.cmml" xref="S4.Ex5.m1.7.7.1.1.3"><times id="S4.Ex5.m1.7.7.1.1.3.1.cmml" xref="S4.Ex5.m1.7.7.1.1.3.1"></times><ci id="S4.Ex5.m1.7.7.1.1.3.2.cmml" xref="S4.Ex5.m1.7.7.1.1.3.2">ğ¶</ci><interval closure="open" id="S4.Ex5.m1.7.7.1.1.3.3.1.cmml" xref="S4.Ex5.m1.7.7.1.1.3.3.2"><ci id="S4.Ex5.m1.4.4a.cmml" xref="S4.Ex5.m1.4.4"><mtext id="S4.Ex5.m1.4.4.cmml" xref="S4.Ex5.m1.4.4">York</mtext></ci><ci id="S4.Ex5.m1.5.5a.cmml" xref="S4.Ex5.m1.5.5"><mtext id="S4.Ex5.m1.5.5.cmml" xref="S4.Ex5.m1.5.5">New</mtext></ci></interval></apply><apply id="S4.Ex5.m1.7.7.1.1.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1"><apply id="S4.Ex5.m1.7.7.1.1.1.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex5.m1.7.7.1.1.1.2.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.2">subscript</csymbol><sum id="S4.Ex5.m1.7.7.1.1.1.2.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.2.2"></sum><apply id="S4.Ex5.m1.3.3.3.cmml" xref="S4.Ex5.m1.3.3.3"><ci id="S4.Ex5.m1.3.3.3.4.cmml" xref="S4.Ex5.m1.3.3.3.4">:</ci><list id="S4.Ex5.m1.3.3.3.5.1.cmml" xref="S4.Ex5.m1.3.3.3.5.2"><ci id="S4.Ex5.m1.1.1.1.1.cmml" xref="S4.Ex5.m1.1.1.1.1">ğ‘—</ci><ci id="S4.Ex5.m1.2.2.2.2.cmml" xref="S4.Ex5.m1.2.2.2.2">ğ‘–</ci></list><apply id="S4.Ex5.m1.3.3.3.6.cmml" xref="S4.Ex5.m1.3.3.3.6"><eq id="S4.Ex5.m1.3.3.3.6.1.cmml" xref="S4.Ex5.m1.3.3.3.6.1"></eq><apply id="S4.Ex5.m1.3.3.3.6.2.cmml" xref="S4.Ex5.m1.3.3.3.6.2"><times id="S4.Ex5.m1.3.3.3.6.2.1.cmml" xref="S4.Ex5.m1.3.3.3.6.2.1"></times><apply id="S4.Ex5.m1.3.3.3.6.2.2.cmml" xref="S4.Ex5.m1.3.3.3.6.2.2"><csymbol cd="ambiguous" id="S4.Ex5.m1.3.3.3.6.2.2.1.cmml" xref="S4.Ex5.m1.3.3.3.6.2.2">subscript</csymbol><ci id="S4.Ex5.m1.3.3.3.6.2.2.2.cmml" xref="S4.Ex5.m1.3.3.3.6.2.2.2">ğ‘¥</ci><ci id="S4.Ex5.m1.3.3.3.6.2.2.3.cmml" xref="S4.Ex5.m1.3.3.3.6.2.2.3">ğ‘–</ci></apply><ci id="S4.Ex5.m1.3.3.3.3.cmml" xref="S4.Ex5.m1.3.3.3.3">ğ‘—</ci></apply><ci id="S4.Ex5.m1.3.3.3.6.3a.cmml" xref="S4.Ex5.m1.3.3.3.6.3"><mtext mathsize="70%" id="S4.Ex5.m1.3.3.3.6.3.cmml" xref="S4.Ex5.m1.3.3.3.6.3">New</mtext></ci></apply></apply></apply><apply id="S4.Ex5.m1.7.7.1.1.1.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1"><times id="S4.Ex5.m1.7.7.1.1.1.1.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.2"></times><apply id="S4.Ex5.m1.7.7.1.1.1.1.3.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex5.m1.7.7.1.1.1.1.3.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex5.m1.7.7.1.1.1.1.3.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.3.2">ğ‘</ci><ci id="S4.Ex5.m1.7.7.1.1.1.1.3.3a.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.3.3"><mtext mathsize="70%" id="S4.Ex5.m1.7.7.1.1.1.1.3.3.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.3.3">nn</mtext></ci></apply><apply id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2a.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2"><mtext id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.2">York</mtext></ci><apply id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3"><times id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.1"></times><apply id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2"><ci id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.1">Â¯</ci><ci id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.2.2">ğ‘¥</ci></apply><ci id="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.Ex5.m1.7.7.1.1.1.1.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S4.Ex5.m1.6.6.cmml" xref="S4.Ex5.m1.6.6">ğ‘—</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex5.m1.7c">C(\textrm{York},\textrm{New})=\sum_{j,i:x_{i}(j)=\textrm{New}}p_{\text{nn}}(\textrm{York}|\bar{x}^{i}(j)).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.p3.16" class="ltx_p">In other words, it finds all sentences that have the
word New, observes how frequently York appears
subsequently, and computes the conditional probability. After
counting, it uses a difference of convex (DC) programming based
algorithm to find the KL minimum solution. If <math id="S4.p3.14.m1.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S4.p3.14.m1.1a"><mi mathvariant="normal" id="S4.p3.14.m1.1.1" xref="S4.p3.14.m1.1.1.cmml">â„“</mi><annotation-xml encoding="MathML-Content" id="S4.p3.14.m1.1b"><ci id="S4.p3.14.m1.1.1.cmml" xref="S4.p3.14.m1.1.1">â„“</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.14.m1.1c">\ell</annotation></semantics></math> is the average
number of words per sentence, the computational complexity of counting
is <math id="S4.p3.15.m2.2" class="ltx_Math" alttext="\tilde{\mathcal{O}}(k\cdot\ell\cdot|\Sigma|)" display="inline"><semantics id="S4.p3.15.m2.2a"><mrow id="S4.p3.15.m2.2.2" xref="S4.p3.15.m2.2.2.cmml"><mover accent="true" id="S4.p3.15.m2.2.2.3" xref="S4.p3.15.m2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p3.15.m2.2.2.3.2" xref="S4.p3.15.m2.2.2.3.2.cmml">ğ’ª</mi><mo id="S4.p3.15.m2.2.2.3.1" xref="S4.p3.15.m2.2.2.3.1.cmml">~</mo></mover><mo lspace="0em" rspace="0em" id="S4.p3.15.m2.2.2.2" xref="S4.p3.15.m2.2.2.2.cmml">â€‹</mo><mrow id="S4.p3.15.m2.2.2.1.1" xref="S4.p3.15.m2.2.2.1.1.1.cmml"><mo stretchy="false" id="S4.p3.15.m2.2.2.1.1.2" xref="S4.p3.15.m2.2.2.1.1.1.cmml">(</mo><mrow id="S4.p3.15.m2.2.2.1.1.1" xref="S4.p3.15.m2.2.2.1.1.1.cmml"><mi id="S4.p3.15.m2.2.2.1.1.1.2" xref="S4.p3.15.m2.2.2.1.1.1.2.cmml">k</mi><mo lspace="0.222em" rspace="0.222em" id="S4.p3.15.m2.2.2.1.1.1.1" xref="S4.p3.15.m2.2.2.1.1.1.1.cmml">â‹…</mo><mi mathvariant="normal" id="S4.p3.15.m2.2.2.1.1.1.3" xref="S4.p3.15.m2.2.2.1.1.1.3.cmml">â„“</mi><mo lspace="0.222em" rspace="0.222em" id="S4.p3.15.m2.2.2.1.1.1.1a" xref="S4.p3.15.m2.2.2.1.1.1.1.cmml">â‹…</mo><mrow id="S4.p3.15.m2.2.2.1.1.1.4.2" xref="S4.p3.15.m2.2.2.1.1.1.4.1.cmml"><mo stretchy="false" id="S4.p3.15.m2.2.2.1.1.1.4.2.1" xref="S4.p3.15.m2.2.2.1.1.1.4.1.1.cmml">|</mo><mi mathvariant="normal" id="S4.p3.15.m2.1.1" xref="S4.p3.15.m2.1.1.cmml">Î£</mi><mo stretchy="false" id="S4.p3.15.m2.2.2.1.1.1.4.2.2" xref="S4.p3.15.m2.2.2.1.1.1.4.1.1.cmml">|</mo></mrow></mrow><mo stretchy="false" id="S4.p3.15.m2.2.2.1.1.3" xref="S4.p3.15.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.15.m2.2b"><apply id="S4.p3.15.m2.2.2.cmml" xref="S4.p3.15.m2.2.2"><times id="S4.p3.15.m2.2.2.2.cmml" xref="S4.p3.15.m2.2.2.2"></times><apply id="S4.p3.15.m2.2.2.3.cmml" xref="S4.p3.15.m2.2.2.3"><ci id="S4.p3.15.m2.2.2.3.1.cmml" xref="S4.p3.15.m2.2.2.3.1">~</ci><ci id="S4.p3.15.m2.2.2.3.2.cmml" xref="S4.p3.15.m2.2.2.3.2">ğ’ª</ci></apply><apply id="S4.p3.15.m2.2.2.1.1.1.cmml" xref="S4.p3.15.m2.2.2.1.1"><ci id="S4.p3.15.m2.2.2.1.1.1.1.cmml" xref="S4.p3.15.m2.2.2.1.1.1.1">â‹…</ci><ci id="S4.p3.15.m2.2.2.1.1.1.2.cmml" xref="S4.p3.15.m2.2.2.1.1.1.2">ğ‘˜</ci><ci id="S4.p3.15.m2.2.2.1.1.1.3.cmml" xref="S4.p3.15.m2.2.2.1.1.1.3">â„“</ci><apply id="S4.p3.15.m2.2.2.1.1.1.4.1.cmml" xref="S4.p3.15.m2.2.2.1.1.1.4.2"><abs id="S4.p3.15.m2.2.2.1.1.1.4.1.1.cmml" xref="S4.p3.15.m2.2.2.1.1.1.4.2.1"></abs><ci id="S4.p3.15.m2.1.1.cmml" xref="S4.p3.15.m2.1.1">Î£</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.15.m2.2c">\tilde{\mathcal{O}}(k\cdot\ell\cdot|\Sigma|)</annotation></semantics></math>Â <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><math id="footnote1.m1.1" class="ltx_Math" alttext="a_{n}=\tilde{\mathcal{O}}(b_{n})" display="inline"><semantics id="footnote1.m1.1b"><mrow id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml"><msub id="footnote1.m1.1.1.3" xref="footnote1.m1.1.1.3.cmml"><mi id="footnote1.m1.1.1.3.2" xref="footnote1.m1.1.1.3.2.cmml">a</mi><mi id="footnote1.m1.1.1.3.3" xref="footnote1.m1.1.1.3.3.cmml">n</mi></msub><mo id="footnote1.m1.1.1.2" xref="footnote1.m1.1.1.2.cmml">=</mo><mrow id="footnote1.m1.1.1.1" xref="footnote1.m1.1.1.1.cmml"><mover accent="true" id="footnote1.m1.1.1.1.3" xref="footnote1.m1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="footnote1.m1.1.1.1.3.2" xref="footnote1.m1.1.1.1.3.2.cmml">ğ’ª</mi><mo id="footnote1.m1.1.1.1.3.1" xref="footnote1.m1.1.1.1.3.1.cmml">~</mo></mover><mo lspace="0em" rspace="0em" id="footnote1.m1.1.1.1.2" xref="footnote1.m1.1.1.1.2.cmml">â€‹</mo><mrow id="footnote1.m1.1.1.1.1.1" xref="footnote1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="footnote1.m1.1.1.1.1.1.2" xref="footnote1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="footnote1.m1.1.1.1.1.1.1" xref="footnote1.m1.1.1.1.1.1.1.cmml"><mi id="footnote1.m1.1.1.1.1.1.1.2" xref="footnote1.m1.1.1.1.1.1.1.2.cmml">b</mi><mi id="footnote1.m1.1.1.1.1.1.1.3" xref="footnote1.m1.1.1.1.1.1.1.3.cmml">n</mi></msub><mo stretchy="false" id="footnote1.m1.1.1.1.1.1.3" xref="footnote1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><apply id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1"><eq id="footnote1.m1.1.1.2.cmml" xref="footnote1.m1.1.1.2"></eq><apply id="footnote1.m1.1.1.3.cmml" xref="footnote1.m1.1.1.3"><csymbol cd="ambiguous" id="footnote1.m1.1.1.3.1.cmml" xref="footnote1.m1.1.1.3">subscript</csymbol><ci id="footnote1.m1.1.1.3.2.cmml" xref="footnote1.m1.1.1.3.2">ğ‘</ci><ci id="footnote1.m1.1.1.3.3.cmml" xref="footnote1.m1.1.1.3.3">ğ‘›</ci></apply><apply id="footnote1.m1.1.1.1.cmml" xref="footnote1.m1.1.1.1"><times id="footnote1.m1.1.1.1.2.cmml" xref="footnote1.m1.1.1.1.2"></times><apply id="footnote1.m1.1.1.1.3.cmml" xref="footnote1.m1.1.1.1.3"><ci id="footnote1.m1.1.1.1.3.1.cmml" xref="footnote1.m1.1.1.1.3.1">~</ci><ci id="footnote1.m1.1.1.1.3.2.cmml" xref="footnote1.m1.1.1.1.3.2">ğ’ª</ci></apply><apply id="footnote1.m1.1.1.1.1.1.1.cmml" xref="footnote1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="footnote1.m1.1.1.1.1.1.1.1.cmml" xref="footnote1.m1.1.1.1.1.1">subscript</csymbol><ci id="footnote1.m1.1.1.1.1.1.1.2.cmml" xref="footnote1.m1.1.1.1.1.1.1.2">ğ‘</ci><ci id="footnote1.m1.1.1.1.1.1.1.3.cmml" xref="footnote1.m1.1.1.1.1.1.1.3">ğ‘›</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">a_{n}=\tilde{\mathcal{O}}(b_{n})</annotation></semantics></math>,
means <math id="footnote1.m2.4" class="ltx_Math" alttext="a_{n}\leq b_{n}\cdot\text{poly}\log(n),\forall n\geq n_{0}" display="inline"><semantics id="footnote1.m2.4b"><mrow id="footnote1.m2.4.4.2" xref="footnote1.m2.4.4.3.cmml"><mrow id="footnote1.m2.3.3.1.1" xref="footnote1.m2.3.3.1.1.cmml"><msub id="footnote1.m2.3.3.1.1.2" xref="footnote1.m2.3.3.1.1.2.cmml"><mi id="footnote1.m2.3.3.1.1.2.2" xref="footnote1.m2.3.3.1.1.2.2.cmml">a</mi><mi id="footnote1.m2.3.3.1.1.2.3" xref="footnote1.m2.3.3.1.1.2.3.cmml">n</mi></msub><mo id="footnote1.m2.3.3.1.1.1" xref="footnote1.m2.3.3.1.1.1.cmml">â‰¤</mo><mrow id="footnote1.m2.3.3.1.1.3" xref="footnote1.m2.3.3.1.1.3.cmml"><mrow id="footnote1.m2.3.3.1.1.3.2" xref="footnote1.m2.3.3.1.1.3.2.cmml"><msub id="footnote1.m2.3.3.1.1.3.2.2" xref="footnote1.m2.3.3.1.1.3.2.2.cmml"><mi id="footnote1.m2.3.3.1.1.3.2.2.2" xref="footnote1.m2.3.3.1.1.3.2.2.2.cmml">b</mi><mi id="footnote1.m2.3.3.1.1.3.2.2.3" xref="footnote1.m2.3.3.1.1.3.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="footnote1.m2.3.3.1.1.3.2.1" xref="footnote1.m2.3.3.1.1.3.2.1.cmml">â‹…</mo><mtext id="footnote1.m2.3.3.1.1.3.2.3" xref="footnote1.m2.3.3.1.1.3.2.3a.cmml">poly</mtext></mrow><mo lspace="0.167em" rspace="0em" id="footnote1.m2.3.3.1.1.3.1" xref="footnote1.m2.3.3.1.1.3.1.cmml">â€‹</mo><mrow id="footnote1.m2.3.3.1.1.3.3.2" xref="footnote1.m2.3.3.1.1.3.3.1.cmml"><mi id="footnote1.m2.1.1" xref="footnote1.m2.1.1.cmml">log</mi><mo id="footnote1.m2.3.3.1.1.3.3.2b" xref="footnote1.m2.3.3.1.1.3.3.1.cmml">â¡</mo><mrow id="footnote1.m2.3.3.1.1.3.3.2.1" xref="footnote1.m2.3.3.1.1.3.3.1.cmml"><mo stretchy="false" id="footnote1.m2.3.3.1.1.3.3.2.1.1" xref="footnote1.m2.3.3.1.1.3.3.1.cmml">(</mo><mi id="footnote1.m2.2.2" xref="footnote1.m2.2.2.cmml">n</mi><mo stretchy="false" id="footnote1.m2.3.3.1.1.3.3.2.1.2" xref="footnote1.m2.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="footnote1.m2.4.4.2.3" xref="footnote1.m2.4.4.3a.cmml">,</mo><mrow id="footnote1.m2.4.4.2.2" xref="footnote1.m2.4.4.2.2.cmml"><mrow id="footnote1.m2.4.4.2.2.2" xref="footnote1.m2.4.4.2.2.2.cmml"><mo rspace="0.167em" id="footnote1.m2.4.4.2.2.2.1" xref="footnote1.m2.4.4.2.2.2.1.cmml">âˆ€</mo><mi id="footnote1.m2.4.4.2.2.2.2" xref="footnote1.m2.4.4.2.2.2.2.cmml">n</mi></mrow><mo id="footnote1.m2.4.4.2.2.1" xref="footnote1.m2.4.4.2.2.1.cmml">â‰¥</mo><msub id="footnote1.m2.4.4.2.2.3" xref="footnote1.m2.4.4.2.2.3.cmml"><mi id="footnote1.m2.4.4.2.2.3.2" xref="footnote1.m2.4.4.2.2.3.2.cmml">n</mi><mn id="footnote1.m2.4.4.2.2.3.3" xref="footnote1.m2.4.4.2.2.3.3.cmml">0</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m2.4c"><apply id="footnote1.m2.4.4.3.cmml" xref="footnote1.m2.4.4.2"><csymbol cd="ambiguous" id="footnote1.m2.4.4.3a.cmml" xref="footnote1.m2.4.4.2.3">formulae-sequence</csymbol><apply id="footnote1.m2.3.3.1.1.cmml" xref="footnote1.m2.3.3.1.1"><leq id="footnote1.m2.3.3.1.1.1.cmml" xref="footnote1.m2.3.3.1.1.1"></leq><apply id="footnote1.m2.3.3.1.1.2.cmml" xref="footnote1.m2.3.3.1.1.2"><csymbol cd="ambiguous" id="footnote1.m2.3.3.1.1.2.1.cmml" xref="footnote1.m2.3.3.1.1.2">subscript</csymbol><ci id="footnote1.m2.3.3.1.1.2.2.cmml" xref="footnote1.m2.3.3.1.1.2.2">ğ‘</ci><ci id="footnote1.m2.3.3.1.1.2.3.cmml" xref="footnote1.m2.3.3.1.1.2.3">ğ‘›</ci></apply><apply id="footnote1.m2.3.3.1.1.3.cmml" xref="footnote1.m2.3.3.1.1.3"><times id="footnote1.m2.3.3.1.1.3.1.cmml" xref="footnote1.m2.3.3.1.1.3.1"></times><apply id="footnote1.m2.3.3.1.1.3.2.cmml" xref="footnote1.m2.3.3.1.1.3.2"><ci id="footnote1.m2.3.3.1.1.3.2.1.cmml" xref="footnote1.m2.3.3.1.1.3.2.1">â‹…</ci><apply id="footnote1.m2.3.3.1.1.3.2.2.cmml" xref="footnote1.m2.3.3.1.1.3.2.2"><csymbol cd="ambiguous" id="footnote1.m2.3.3.1.1.3.2.2.1.cmml" xref="footnote1.m2.3.3.1.1.3.2.2">subscript</csymbol><ci id="footnote1.m2.3.3.1.1.3.2.2.2.cmml" xref="footnote1.m2.3.3.1.1.3.2.2.2">ğ‘</ci><ci id="footnote1.m2.3.3.1.1.3.2.2.3.cmml" xref="footnote1.m2.3.3.1.1.3.2.2.3">ğ‘›</ci></apply><ci id="footnote1.m2.3.3.1.1.3.2.3a.cmml" xref="footnote1.m2.3.3.1.1.3.2.3"><mtext id="footnote1.m2.3.3.1.1.3.2.3.cmml" xref="footnote1.m2.3.3.1.1.3.2.3">poly</mtext></ci></apply><apply id="footnote1.m2.3.3.1.1.3.3.1.cmml" xref="footnote1.m2.3.3.1.1.3.3.2"><log id="footnote1.m2.1.1.cmml" xref="footnote1.m2.1.1"></log><ci id="footnote1.m2.2.2.cmml" xref="footnote1.m2.2.2">ğ‘›</ci></apply></apply></apply><apply id="footnote1.m2.4.4.2.2.cmml" xref="footnote1.m2.4.4.2.2"><geq id="footnote1.m2.4.4.2.2.1.cmml" xref="footnote1.m2.4.4.2.2.1"></geq><apply id="footnote1.m2.4.4.2.2.2.cmml" xref="footnote1.m2.4.4.2.2.2"><csymbol cd="latexml" id="footnote1.m2.4.4.2.2.2.1.cmml" xref="footnote1.m2.4.4.2.2.2.1">for-all</csymbol><ci id="footnote1.m2.4.4.2.2.2.2.cmml" xref="footnote1.m2.4.4.2.2.2.2">ğ‘›</ci></apply><apply id="footnote1.m2.4.4.2.2.3.cmml" xref="footnote1.m2.4.4.2.2.3"><csymbol cd="ambiguous" id="footnote1.m2.4.4.2.2.3.1.cmml" xref="footnote1.m2.4.4.2.2.3">subscript</csymbol><ci id="footnote1.m2.4.4.2.2.3.2.cmml" xref="footnote1.m2.4.4.2.2.3.2">ğ‘›</ci><cn type="integer" id="footnote1.m2.4.4.2.2.3.3.cmml" xref="footnote1.m2.4.4.2.2.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m2.4d">a_{n}\leq b_{n}\cdot\text{poly}\log(n),\forall n\geq n_{0}</annotation></semantics></math>.</span></span></span>
and the computational complexity of the KL minimization is <math id="S4.p3.16.m3.3" class="ltx_Math" alttext="\tilde{\mathcal{O}}(|E|+|Q|)" display="inline"><semantics id="S4.p3.16.m3.3a"><mrow id="S4.p3.16.m3.3.3" xref="S4.p3.16.m3.3.3.cmml"><mover accent="true" id="S4.p3.16.m3.3.3.3" xref="S4.p3.16.m3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p3.16.m3.3.3.3.2" xref="S4.p3.16.m3.3.3.3.2.cmml">ğ’ª</mi><mo id="S4.p3.16.m3.3.3.3.1" xref="S4.p3.16.m3.3.3.3.1.cmml">~</mo></mover><mo lspace="0em" rspace="0em" id="S4.p3.16.m3.3.3.2" xref="S4.p3.16.m3.3.3.2.cmml">â€‹</mo><mrow id="S4.p3.16.m3.3.3.1.1" xref="S4.p3.16.m3.3.3.1.1.1.cmml"><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.2" xref="S4.p3.16.m3.3.3.1.1.1.cmml">(</mo><mrow id="S4.p3.16.m3.3.3.1.1.1" xref="S4.p3.16.m3.3.3.1.1.1.cmml"><mrow id="S4.p3.16.m3.3.3.1.1.1.2.2" xref="S4.p3.16.m3.3.3.1.1.1.2.1.cmml"><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.1.2.2.1" xref="S4.p3.16.m3.3.3.1.1.1.2.1.1.cmml">|</mo><mi id="S4.p3.16.m3.1.1" xref="S4.p3.16.m3.1.1.cmml">E</mi><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.1.2.2.2" xref="S4.p3.16.m3.3.3.1.1.1.2.1.1.cmml">|</mo></mrow><mo id="S4.p3.16.m3.3.3.1.1.1.1" xref="S4.p3.16.m3.3.3.1.1.1.1.cmml">+</mo><mrow id="S4.p3.16.m3.3.3.1.1.1.3.2" xref="S4.p3.16.m3.3.3.1.1.1.3.1.cmml"><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.1.3.2.1" xref="S4.p3.16.m3.3.3.1.1.1.3.1.1.cmml">|</mo><mi id="S4.p3.16.m3.2.2" xref="S4.p3.16.m3.2.2.cmml">Q</mi><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.1.3.2.2" xref="S4.p3.16.m3.3.3.1.1.1.3.1.1.cmml">|</mo></mrow></mrow><mo stretchy="false" id="S4.p3.16.m3.3.3.1.1.3" xref="S4.p3.16.m3.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.16.m3.3b"><apply id="S4.p3.16.m3.3.3.cmml" xref="S4.p3.16.m3.3.3"><times id="S4.p3.16.m3.3.3.2.cmml" xref="S4.p3.16.m3.3.3.2"></times><apply id="S4.p3.16.m3.3.3.3.cmml" xref="S4.p3.16.m3.3.3.3"><ci id="S4.p3.16.m3.3.3.3.1.cmml" xref="S4.p3.16.m3.3.3.3.1">~</ci><ci id="S4.p3.16.m3.3.3.3.2.cmml" xref="S4.p3.16.m3.3.3.3.2">ğ’ª</ci></apply><apply id="S4.p3.16.m3.3.3.1.1.1.cmml" xref="S4.p3.16.m3.3.3.1.1"><plus id="S4.p3.16.m3.3.3.1.1.1.1.cmml" xref="S4.p3.16.m3.3.3.1.1.1.1"></plus><apply id="S4.p3.16.m3.3.3.1.1.1.2.1.cmml" xref="S4.p3.16.m3.3.3.1.1.1.2.2"><abs id="S4.p3.16.m3.3.3.1.1.1.2.1.1.cmml" xref="S4.p3.16.m3.3.3.1.1.1.2.2.1"></abs><ci id="S4.p3.16.m3.1.1.cmml" xref="S4.p3.16.m3.1.1">ğ¸</ci></apply><apply id="S4.p3.16.m3.3.3.1.1.1.3.1.cmml" xref="S4.p3.16.m3.3.3.1.1.1.3.2"><abs id="S4.p3.16.m3.3.3.1.1.1.3.1.1.cmml" xref="S4.p3.16.m3.3.3.1.1.1.3.2.1"></abs><ci id="S4.p3.16.m3.2.2.cmml" xref="S4.p3.16.m3.2.2">ğ‘„</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.16.m3.3c">\tilde{\mathcal{O}}(|E|+|Q|)</annotation></semantics></math> per iteration of DC programming.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Capitalization</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">As mentioned in SectionÂ <a href="#S2" title="2 Outline â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, users often type with incorrect
capitalization. One way of handling incorrect capitalization is to store an
on-device capitalization normalizer <cite class="ltx_cite ltx_citemacro_cite">Beaufays and Strope (<a href="#bib.bib5" title="" class="ltx_ref">2013</a>)</cite> to correctly
capitalize sentences before using them to train the neural model. However,
capitalization normalizers have large memory footprints and are not suitable for
on-device applications. To overcome this, the neural model is first trained on uncased
user data. <span id="S5.p1.1.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰is then modified to approximate cased n-gram models from
uncased neural models.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.9" class="ltx_p">As before, let <math id="S5.p2.1.m1.7" class="ltx_Math" alttext="\bar{x}(1),\bar{x}(2),\ldots,\bar{x}(k)" display="inline"><semantics id="S5.p2.1.m1.7a"><mrow id="S5.p2.1.m1.7.7.3" xref="S5.p2.1.m1.7.7.4.cmml"><mrow id="S5.p2.1.m1.5.5.1.1" xref="S5.p2.1.m1.5.5.1.1.cmml"><mover accent="true" id="S5.p2.1.m1.5.5.1.1.2" xref="S5.p2.1.m1.5.5.1.1.2.cmml"><mi id="S5.p2.1.m1.5.5.1.1.2.2" xref="S5.p2.1.m1.5.5.1.1.2.2.cmml">x</mi><mo id="S5.p2.1.m1.5.5.1.1.2.1" xref="S5.p2.1.m1.5.5.1.1.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.1.m1.5.5.1.1.1" xref="S5.p2.1.m1.5.5.1.1.1.cmml">â€‹</mo><mrow id="S5.p2.1.m1.5.5.1.1.3.2" xref="S5.p2.1.m1.5.5.1.1.cmml"><mo stretchy="false" id="S5.p2.1.m1.5.5.1.1.3.2.1" xref="S5.p2.1.m1.5.5.1.1.cmml">(</mo><mn id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml">1</mn><mo stretchy="false" id="S5.p2.1.m1.5.5.1.1.3.2.2" xref="S5.p2.1.m1.5.5.1.1.cmml">)</mo></mrow></mrow><mo id="S5.p2.1.m1.7.7.3.4" xref="S5.p2.1.m1.7.7.4.cmml">,</mo><mrow id="S5.p2.1.m1.6.6.2.2" xref="S5.p2.1.m1.6.6.2.2.cmml"><mover accent="true" id="S5.p2.1.m1.6.6.2.2.2" xref="S5.p2.1.m1.6.6.2.2.2.cmml"><mi id="S5.p2.1.m1.6.6.2.2.2.2" xref="S5.p2.1.m1.6.6.2.2.2.2.cmml">x</mi><mo id="S5.p2.1.m1.6.6.2.2.2.1" xref="S5.p2.1.m1.6.6.2.2.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.1.m1.6.6.2.2.1" xref="S5.p2.1.m1.6.6.2.2.1.cmml">â€‹</mo><mrow id="S5.p2.1.m1.6.6.2.2.3.2" xref="S5.p2.1.m1.6.6.2.2.cmml"><mo stretchy="false" id="S5.p2.1.m1.6.6.2.2.3.2.1" xref="S5.p2.1.m1.6.6.2.2.cmml">(</mo><mn id="S5.p2.1.m1.2.2" xref="S5.p2.1.m1.2.2.cmml">2</mn><mo stretchy="false" id="S5.p2.1.m1.6.6.2.2.3.2.2" xref="S5.p2.1.m1.6.6.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p2.1.m1.7.7.3.5" xref="S5.p2.1.m1.7.7.4.cmml">,</mo><mi mathvariant="normal" id="S5.p2.1.m1.4.4" xref="S5.p2.1.m1.4.4.cmml">â€¦</mi><mo id="S5.p2.1.m1.7.7.3.6" xref="S5.p2.1.m1.7.7.4.cmml">,</mo><mrow id="S5.p2.1.m1.7.7.3.3" xref="S5.p2.1.m1.7.7.3.3.cmml"><mover accent="true" id="S5.p2.1.m1.7.7.3.3.2" xref="S5.p2.1.m1.7.7.3.3.2.cmml"><mi id="S5.p2.1.m1.7.7.3.3.2.2" xref="S5.p2.1.m1.7.7.3.3.2.2.cmml">x</mi><mo id="S5.p2.1.m1.7.7.3.3.2.1" xref="S5.p2.1.m1.7.7.3.3.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.1.m1.7.7.3.3.1" xref="S5.p2.1.m1.7.7.3.3.1.cmml">â€‹</mo><mrow id="S5.p2.1.m1.7.7.3.3.3.2" xref="S5.p2.1.m1.7.7.3.3.cmml"><mo stretchy="false" id="S5.p2.1.m1.7.7.3.3.3.2.1" xref="S5.p2.1.m1.7.7.3.3.cmml">(</mo><mi id="S5.p2.1.m1.3.3" xref="S5.p2.1.m1.3.3.cmml">k</mi><mo stretchy="false" id="S5.p2.1.m1.7.7.3.3.3.2.2" xref="S5.p2.1.m1.7.7.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.7b"><list id="S5.p2.1.m1.7.7.4.cmml" xref="S5.p2.1.m1.7.7.3"><apply id="S5.p2.1.m1.5.5.1.1.cmml" xref="S5.p2.1.m1.5.5.1.1"><times id="S5.p2.1.m1.5.5.1.1.1.cmml" xref="S5.p2.1.m1.5.5.1.1.1"></times><apply id="S5.p2.1.m1.5.5.1.1.2.cmml" xref="S5.p2.1.m1.5.5.1.1.2"><ci id="S5.p2.1.m1.5.5.1.1.2.1.cmml" xref="S5.p2.1.m1.5.5.1.1.2.1">Â¯</ci><ci id="S5.p2.1.m1.5.5.1.1.2.2.cmml" xref="S5.p2.1.m1.5.5.1.1.2.2">ğ‘¥</ci></apply><cn type="integer" id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1">1</cn></apply><apply id="S5.p2.1.m1.6.6.2.2.cmml" xref="S5.p2.1.m1.6.6.2.2"><times id="S5.p2.1.m1.6.6.2.2.1.cmml" xref="S5.p2.1.m1.6.6.2.2.1"></times><apply id="S5.p2.1.m1.6.6.2.2.2.cmml" xref="S5.p2.1.m1.6.6.2.2.2"><ci id="S5.p2.1.m1.6.6.2.2.2.1.cmml" xref="S5.p2.1.m1.6.6.2.2.2.1">Â¯</ci><ci id="S5.p2.1.m1.6.6.2.2.2.2.cmml" xref="S5.p2.1.m1.6.6.2.2.2.2">ğ‘¥</ci></apply><cn type="integer" id="S5.p2.1.m1.2.2.cmml" xref="S5.p2.1.m1.2.2">2</cn></apply><ci id="S5.p2.1.m1.4.4.cmml" xref="S5.p2.1.m1.4.4">â€¦</ci><apply id="S5.p2.1.m1.7.7.3.3.cmml" xref="S5.p2.1.m1.7.7.3.3"><times id="S5.p2.1.m1.7.7.3.3.1.cmml" xref="S5.p2.1.m1.7.7.3.3.1"></times><apply id="S5.p2.1.m1.7.7.3.3.2.cmml" xref="S5.p2.1.m1.7.7.3.3.2"><ci id="S5.p2.1.m1.7.7.3.3.2.1.cmml" xref="S5.p2.1.m1.7.7.3.3.2.1">Â¯</ci><ci id="S5.p2.1.m1.7.7.3.3.2.2.cmml" xref="S5.p2.1.m1.7.7.3.3.2.2">ğ‘¥</ci></apply><ci id="S5.p2.1.m1.3.3.cmml" xref="S5.p2.1.m1.3.3">ğ‘˜</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.7c">\bar{x}(1),\bar{x}(2),\ldots,\bar{x}(k)</annotation></semantics></math> be <math id="S5.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.p2.2.m2.1a"><mi id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><ci id="S5.p2.2.m2.1.1.cmml" xref="S5.p2.2.m2.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">k</annotation></semantics></math> independent
(uncased) samples from the neural model. We capitalize them correctly at the
server usingÂ <cite class="ltx_cite ltx_citemacro_citet">Beaufays and Strope (<a href="#bib.bib5" title="" class="ltx_ref">2013</a>)</cite>. Let <math id="S5.p2.3.m3.6" class="ltx_Math" alttext="\bar{y}(1),\bar{y}(2),\ldots\bar{y}(k)" display="inline"><semantics id="S5.p2.3.m3.6a"><mrow id="S5.p2.3.m3.6.6.3" xref="S5.p2.3.m3.6.6.4.cmml"><mrow id="S5.p2.3.m3.4.4.1.1" xref="S5.p2.3.m3.4.4.1.1.cmml"><mover accent="true" id="S5.p2.3.m3.4.4.1.1.2" xref="S5.p2.3.m3.4.4.1.1.2.cmml"><mi id="S5.p2.3.m3.4.4.1.1.2.2" xref="S5.p2.3.m3.4.4.1.1.2.2.cmml">y</mi><mo id="S5.p2.3.m3.4.4.1.1.2.1" xref="S5.p2.3.m3.4.4.1.1.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.3.m3.4.4.1.1.1" xref="S5.p2.3.m3.4.4.1.1.1.cmml">â€‹</mo><mrow id="S5.p2.3.m3.4.4.1.1.3.2" xref="S5.p2.3.m3.4.4.1.1.cmml"><mo stretchy="false" id="S5.p2.3.m3.4.4.1.1.3.2.1" xref="S5.p2.3.m3.4.4.1.1.cmml">(</mo><mn id="S5.p2.3.m3.1.1" xref="S5.p2.3.m3.1.1.cmml">1</mn><mo stretchy="false" id="S5.p2.3.m3.4.4.1.1.3.2.2" xref="S5.p2.3.m3.4.4.1.1.cmml">)</mo></mrow></mrow><mo id="S5.p2.3.m3.6.6.3.4" xref="S5.p2.3.m3.6.6.4.cmml">,</mo><mrow id="S5.p2.3.m3.5.5.2.2" xref="S5.p2.3.m3.5.5.2.2.cmml"><mover accent="true" id="S5.p2.3.m3.5.5.2.2.2" xref="S5.p2.3.m3.5.5.2.2.2.cmml"><mi id="S5.p2.3.m3.5.5.2.2.2.2" xref="S5.p2.3.m3.5.5.2.2.2.2.cmml">y</mi><mo id="S5.p2.3.m3.5.5.2.2.2.1" xref="S5.p2.3.m3.5.5.2.2.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.3.m3.5.5.2.2.1" xref="S5.p2.3.m3.5.5.2.2.1.cmml">â€‹</mo><mrow id="S5.p2.3.m3.5.5.2.2.3.2" xref="S5.p2.3.m3.5.5.2.2.cmml"><mo stretchy="false" id="S5.p2.3.m3.5.5.2.2.3.2.1" xref="S5.p2.3.m3.5.5.2.2.cmml">(</mo><mn id="S5.p2.3.m3.2.2" xref="S5.p2.3.m3.2.2.cmml">2</mn><mo stretchy="false" id="S5.p2.3.m3.5.5.2.2.3.2.2" xref="S5.p2.3.m3.5.5.2.2.cmml">)</mo></mrow></mrow><mo id="S5.p2.3.m3.6.6.3.5" xref="S5.p2.3.m3.6.6.4.cmml">,</mo><mrow id="S5.p2.3.m3.6.6.3.3" xref="S5.p2.3.m3.6.6.3.3.cmml"><mi mathvariant="normal" id="S5.p2.3.m3.6.6.3.3.2" xref="S5.p2.3.m3.6.6.3.3.2.cmml">â€¦</mi><mo lspace="0em" rspace="0em" id="S5.p2.3.m3.6.6.3.3.1" xref="S5.p2.3.m3.6.6.3.3.1.cmml">â€‹</mo><mover accent="true" id="S5.p2.3.m3.6.6.3.3.3" xref="S5.p2.3.m3.6.6.3.3.3.cmml"><mi id="S5.p2.3.m3.6.6.3.3.3.2" xref="S5.p2.3.m3.6.6.3.3.3.2.cmml">y</mi><mo id="S5.p2.3.m3.6.6.3.3.3.1" xref="S5.p2.3.m3.6.6.3.3.3.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.3.m3.6.6.3.3.1a" xref="S5.p2.3.m3.6.6.3.3.1.cmml">â€‹</mo><mrow id="S5.p2.3.m3.6.6.3.3.4.2" xref="S5.p2.3.m3.6.6.3.3.cmml"><mo stretchy="false" id="S5.p2.3.m3.6.6.3.3.4.2.1" xref="S5.p2.3.m3.6.6.3.3.cmml">(</mo><mi id="S5.p2.3.m3.3.3" xref="S5.p2.3.m3.3.3.cmml">k</mi><mo stretchy="false" id="S5.p2.3.m3.6.6.3.3.4.2.2" xref="S5.p2.3.m3.6.6.3.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.3.m3.6b"><list id="S5.p2.3.m3.6.6.4.cmml" xref="S5.p2.3.m3.6.6.3"><apply id="S5.p2.3.m3.4.4.1.1.cmml" xref="S5.p2.3.m3.4.4.1.1"><times id="S5.p2.3.m3.4.4.1.1.1.cmml" xref="S5.p2.3.m3.4.4.1.1.1"></times><apply id="S5.p2.3.m3.4.4.1.1.2.cmml" xref="S5.p2.3.m3.4.4.1.1.2"><ci id="S5.p2.3.m3.4.4.1.1.2.1.cmml" xref="S5.p2.3.m3.4.4.1.1.2.1">Â¯</ci><ci id="S5.p2.3.m3.4.4.1.1.2.2.cmml" xref="S5.p2.3.m3.4.4.1.1.2.2">ğ‘¦</ci></apply><cn type="integer" id="S5.p2.3.m3.1.1.cmml" xref="S5.p2.3.m3.1.1">1</cn></apply><apply id="S5.p2.3.m3.5.5.2.2.cmml" xref="S5.p2.3.m3.5.5.2.2"><times id="S5.p2.3.m3.5.5.2.2.1.cmml" xref="S5.p2.3.m3.5.5.2.2.1"></times><apply id="S5.p2.3.m3.5.5.2.2.2.cmml" xref="S5.p2.3.m3.5.5.2.2.2"><ci id="S5.p2.3.m3.5.5.2.2.2.1.cmml" xref="S5.p2.3.m3.5.5.2.2.2.1">Â¯</ci><ci id="S5.p2.3.m3.5.5.2.2.2.2.cmml" xref="S5.p2.3.m3.5.5.2.2.2.2">ğ‘¦</ci></apply><cn type="integer" id="S5.p2.3.m3.2.2.cmml" xref="S5.p2.3.m3.2.2">2</cn></apply><apply id="S5.p2.3.m3.6.6.3.3.cmml" xref="S5.p2.3.m3.6.6.3.3"><times id="S5.p2.3.m3.6.6.3.3.1.cmml" xref="S5.p2.3.m3.6.6.3.3.1"></times><ci id="S5.p2.3.m3.6.6.3.3.2.cmml" xref="S5.p2.3.m3.6.6.3.3.2">â€¦</ci><apply id="S5.p2.3.m3.6.6.3.3.3.cmml" xref="S5.p2.3.m3.6.6.3.3.3"><ci id="S5.p2.3.m3.6.6.3.3.3.1.cmml" xref="S5.p2.3.m3.6.6.3.3.3.1">Â¯</ci><ci id="S5.p2.3.m3.6.6.3.3.3.2.cmml" xref="S5.p2.3.m3.6.6.3.3.3.2">ğ‘¦</ci></apply><ci id="S5.p2.3.m3.3.3.cmml" xref="S5.p2.3.m3.3.3">ğ‘˜</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.3.m3.6c">\bar{y}(1),\bar{y}(2),\ldots\bar{y}(k)</annotation></semantics></math> represent the corresponding <math id="S5.p2.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.p2.4.m4.1a"><mi id="S5.p2.4.m4.1.1" xref="S5.p2.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.p2.4.m4.1b"><ci id="S5.p2.4.m4.1.1.cmml" xref="S5.p2.4.m4.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.4.m4.1c">k</annotation></semantics></math> correctly capitalized samples. Let
<math id="S5.p2.5.m5.1" class="ltx_Math" alttext="p_{\text{cap}}" display="inline"><semantics id="S5.p2.5.m5.1a"><msub id="S5.p2.5.m5.1.1" xref="S5.p2.5.m5.1.1.cmml"><mi id="S5.p2.5.m5.1.1.2" xref="S5.p2.5.m5.1.1.2.cmml">p</mi><mtext id="S5.p2.5.m5.1.1.3" xref="S5.p2.5.m5.1.1.3a.cmml">cap</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.p2.5.m5.1b"><apply id="S5.p2.5.m5.1.1.cmml" xref="S5.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.p2.5.m5.1.1.1.cmml" xref="S5.p2.5.m5.1.1">subscript</csymbol><ci id="S5.p2.5.m5.1.1.2.cmml" xref="S5.p2.5.m5.1.1.2">ğ‘</ci><ci id="S5.p2.5.m5.1.1.3a.cmml" xref="S5.p2.5.m5.1.1.3"><mtext mathsize="70%" id="S5.p2.5.m5.1.1.3.cmml" xref="S5.p2.5.m5.1.1.3">cap</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.5.m5.1c">p_{\text{cap}}</annotation></semantics></math> be another probability model on non-user data that approximates
the ratio of uncased to cased probabilities given a context. Given a label <math id="S5.p2.6.m6.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S5.p2.6.m6.1a"><mi id="S5.p2.6.m6.1.1" xref="S5.p2.6.m6.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.p2.6.m6.1b"><ci id="S5.p2.6.m6.1.1.cmml" xref="S5.p2.6.m6.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.6.m6.1c">y</annotation></semantics></math>,
let <math id="S5.p2.7.m7.1" class="ltx_Math" alttext="u(y)" display="inline"><semantics id="S5.p2.7.m7.1a"><mrow id="S5.p2.7.m7.1.2" xref="S5.p2.7.m7.1.2.cmml"><mi id="S5.p2.7.m7.1.2.2" xref="S5.p2.7.m7.1.2.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.p2.7.m7.1.2.1" xref="S5.p2.7.m7.1.2.1.cmml">â€‹</mo><mrow id="S5.p2.7.m7.1.2.3.2" xref="S5.p2.7.m7.1.2.cmml"><mo stretchy="false" id="S5.p2.7.m7.1.2.3.2.1" xref="S5.p2.7.m7.1.2.cmml">(</mo><mi id="S5.p2.7.m7.1.1" xref="S5.p2.7.m7.1.1.cmml">y</mi><mo stretchy="false" id="S5.p2.7.m7.1.2.3.2.2" xref="S5.p2.7.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.7.m7.1b"><apply id="S5.p2.7.m7.1.2.cmml" xref="S5.p2.7.m7.1.2"><times id="S5.p2.7.m7.1.2.1.cmml" xref="S5.p2.7.m7.1.2.1"></times><ci id="S5.p2.7.m7.1.2.2.cmml" xref="S5.p2.7.m7.1.2.2">ğ‘¢</ci><ci id="S5.p2.7.m7.1.1.cmml" xref="S5.p2.7.m7.1.1">ğ‘¦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.7.m7.1c">u(y)</annotation></semantics></math> be the uncased symbol. For example, if <math id="S5.p2.8.m8.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S5.p2.8.m8.1a"><mi id="S5.p2.8.m8.1.1" xref="S5.p2.8.m8.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S5.p2.8.m8.1b"><ci id="S5.p2.8.m8.1.1.cmml" xref="S5.p2.8.m8.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.8.m8.1c">y</annotation></semantics></math> is York, then
<math id="S5.p2.9.m9.1" class="ltx_Math" alttext="u(y)" display="inline"><semantics id="S5.p2.9.m9.1a"><mrow id="S5.p2.9.m9.1.2" xref="S5.p2.9.m9.1.2.cmml"><mi id="S5.p2.9.m9.1.2.2" xref="S5.p2.9.m9.1.2.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.p2.9.m9.1.2.1" xref="S5.p2.9.m9.1.2.1.cmml">â€‹</mo><mrow id="S5.p2.9.m9.1.2.3.2" xref="S5.p2.9.m9.1.2.cmml"><mo stretchy="false" id="S5.p2.9.m9.1.2.3.2.1" xref="S5.p2.9.m9.1.2.cmml">(</mo><mi id="S5.p2.9.m9.1.1" xref="S5.p2.9.m9.1.1.cmml">y</mi><mo stretchy="false" id="S5.p2.9.m9.1.2.3.2.2" xref="S5.p2.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.9.m9.1b"><apply id="S5.p2.9.m9.1.2.cmml" xref="S5.p2.9.m9.1.2"><times id="S5.p2.9.m9.1.2.1.cmml" xref="S5.p2.9.m9.1.2.1"></times><ci id="S5.p2.9.m9.1.2.2.cmml" xref="S5.p2.9.m9.1.2.2">ğ‘¢</ci><ci id="S5.p2.9.m9.1.1.cmml" xref="S5.p2.9.m9.1.1">ğ‘¦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.9.m9.1c">u(y)</annotation></semantics></math> is york. With the above definitions, we modify the counting step
of <span id="S5.p2.9.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰as follows:</p>
<table id="S5.Ex6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S5.Ex6.m1.7" class="ltx_Math" alttext="\sum_{q^{\prime}\in B(q)}\sum^{m}_{j=1}\sum_{i\geq 0}1_{q(\bar{y}^{i}(j))=q^{\prime},q=q^{\prime}[y]}\cdot\tilde{p}(y|\bar{y}^{i}(j))," display="block"><semantics id="S5.Ex6.m1.7a"><mrow id="S5.Ex6.m1.7.7.1" xref="S5.Ex6.m1.7.7.1.1.cmml"><mrow id="S5.Ex6.m1.7.7.1.1" xref="S5.Ex6.m1.7.7.1.1.cmml"><munder id="S5.Ex6.m1.7.7.1.1.2" xref="S5.Ex6.m1.7.7.1.1.2.cmml"><mo movablelimits="false" id="S5.Ex6.m1.7.7.1.1.2.2" xref="S5.Ex6.m1.7.7.1.1.2.2.cmml">âˆ‘</mo><mrow id="S5.Ex6.m1.1.1.1" xref="S5.Ex6.m1.1.1.1.cmml"><msup id="S5.Ex6.m1.1.1.1.3" xref="S5.Ex6.m1.1.1.1.3.cmml"><mi id="S5.Ex6.m1.1.1.1.3.2" xref="S5.Ex6.m1.1.1.1.3.2.cmml">q</mi><mo id="S5.Ex6.m1.1.1.1.3.3" xref="S5.Ex6.m1.1.1.1.3.3.cmml">â€²</mo></msup><mo id="S5.Ex6.m1.1.1.1.2" xref="S5.Ex6.m1.1.1.1.2.cmml">âˆˆ</mo><mrow id="S5.Ex6.m1.1.1.1.4" xref="S5.Ex6.m1.1.1.1.4.cmml"><mi id="S5.Ex6.m1.1.1.1.4.2" xref="S5.Ex6.m1.1.1.1.4.2.cmml">B</mi><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.1.1.1.4.1" xref="S5.Ex6.m1.1.1.1.4.1.cmml">â€‹</mo><mrow id="S5.Ex6.m1.1.1.1.4.3.2" xref="S5.Ex6.m1.1.1.1.4.cmml"><mo stretchy="false" id="S5.Ex6.m1.1.1.1.4.3.2.1" xref="S5.Ex6.m1.1.1.1.4.cmml">(</mo><mi id="S5.Ex6.m1.1.1.1.1" xref="S5.Ex6.m1.1.1.1.1.cmml">q</mi><mo stretchy="false" id="S5.Ex6.m1.1.1.1.4.3.2.2" xref="S5.Ex6.m1.1.1.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S5.Ex6.m1.7.7.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.cmml"><munderover id="S5.Ex6.m1.7.7.1.1.1.2" xref="S5.Ex6.m1.7.7.1.1.1.2.cmml"><mo lspace="0.167em" movablelimits="false" rspace="0em" id="S5.Ex6.m1.7.7.1.1.1.2.2.2" xref="S5.Ex6.m1.7.7.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.2.3" xref="S5.Ex6.m1.7.7.1.1.1.2.3.cmml"><mi id="S5.Ex6.m1.7.7.1.1.1.2.3.2" xref="S5.Ex6.m1.7.7.1.1.1.2.3.2.cmml">j</mi><mo id="S5.Ex6.m1.7.7.1.1.1.2.3.1" xref="S5.Ex6.m1.7.7.1.1.1.2.3.1.cmml">=</mo><mn id="S5.Ex6.m1.7.7.1.1.1.2.3.3" xref="S5.Ex6.m1.7.7.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex6.m1.7.7.1.1.1.2.2.3" xref="S5.Ex6.m1.7.7.1.1.1.2.2.3.cmml">m</mi></munderover><mrow id="S5.Ex6.m1.7.7.1.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.1.cmml"><munder id="S5.Ex6.m1.7.7.1.1.1.1.2" xref="S5.Ex6.m1.7.7.1.1.1.1.2.cmml"><mo movablelimits="false" id="S5.Ex6.m1.7.7.1.1.1.1.2.2" xref="S5.Ex6.m1.7.7.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.1.2.3" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.cmml"><mi id="S5.Ex6.m1.7.7.1.1.1.1.2.3.2" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.2.cmml">i</mi><mo id="S5.Ex6.m1.7.7.1.1.1.1.2.3.1" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.1.cmml">â‰¥</mo><mn id="S5.Ex6.m1.7.7.1.1.1.1.2.3.3" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.3.cmml">0</mn></mrow></munder><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.cmml"><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1.3" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.cmml"><msub id="S5.Ex6.m1.7.7.1.1.1.1.1.3.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.cmml"><mn id="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.2.cmml">1</mn><mrow id="S5.Ex6.m1.5.5.4.4" xref="S5.Ex6.m1.5.5.4.5.cmml"><mrow id="S5.Ex6.m1.4.4.3.3.1" xref="S5.Ex6.m1.4.4.3.3.1.cmml"><mrow id="S5.Ex6.m1.4.4.3.3.1.1" xref="S5.Ex6.m1.4.4.3.3.1.1.cmml"><mi id="S5.Ex6.m1.4.4.3.3.1.1.3" xref="S5.Ex6.m1.4.4.3.3.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.4.4.3.3.1.1.2" xref="S5.Ex6.m1.4.4.3.3.1.1.2.cmml">â€‹</mo><mrow id="S5.Ex6.m1.4.4.3.3.1.1.1.1" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml"><msup id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.cmml"><mover accent="true" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.cmml"><mi id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.2.cmml">y</mi><mo id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.1" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.1.cmml">Â¯</mo></mover><mi id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.3" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.1" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.1.cmml">â€‹</mo><mrow id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.3.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.3.2.1" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml">(</mo><mi id="S5.Ex6.m1.2.2.1.1" xref="S5.Ex6.m1.2.2.1.1.cmml">j</mi><mo stretchy="false" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.3.2.2" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.3" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.Ex6.m1.4.4.3.3.1.2" xref="S5.Ex6.m1.4.4.3.3.1.2.cmml">=</mo><msup id="S5.Ex6.m1.4.4.3.3.1.3" xref="S5.Ex6.m1.4.4.3.3.1.3.cmml"><mi id="S5.Ex6.m1.4.4.3.3.1.3.2" xref="S5.Ex6.m1.4.4.3.3.1.3.2.cmml">q</mi><mo id="S5.Ex6.m1.4.4.3.3.1.3.3" xref="S5.Ex6.m1.4.4.3.3.1.3.3.cmml">â€²</mo></msup></mrow><mo id="S5.Ex6.m1.5.5.4.4.3" xref="S5.Ex6.m1.5.5.4.5a.cmml">,</mo><mrow id="S5.Ex6.m1.5.5.4.4.2" xref="S5.Ex6.m1.5.5.4.4.2.cmml"><mi id="S5.Ex6.m1.5.5.4.4.2.2" xref="S5.Ex6.m1.5.5.4.4.2.2.cmml">q</mi><mo id="S5.Ex6.m1.5.5.4.4.2.1" xref="S5.Ex6.m1.5.5.4.4.2.1.cmml">=</mo><mrow id="S5.Ex6.m1.5.5.4.4.2.3" xref="S5.Ex6.m1.5.5.4.4.2.3.cmml"><msup id="S5.Ex6.m1.5.5.4.4.2.3.2" xref="S5.Ex6.m1.5.5.4.4.2.3.2.cmml"><mi id="S5.Ex6.m1.5.5.4.4.2.3.2.2" xref="S5.Ex6.m1.5.5.4.4.2.3.2.2.cmml">q</mi><mo id="S5.Ex6.m1.5.5.4.4.2.3.2.3" xref="S5.Ex6.m1.5.5.4.4.2.3.2.3.cmml">â€²</mo></msup><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.5.5.4.4.2.3.1" xref="S5.Ex6.m1.5.5.4.4.2.3.1.cmml">â€‹</mo><mrow id="S5.Ex6.m1.5.5.4.4.2.3.3.2" xref="S5.Ex6.m1.5.5.4.4.2.3.3.1.cmml"><mo stretchy="false" id="S5.Ex6.m1.5.5.4.4.2.3.3.2.1" xref="S5.Ex6.m1.5.5.4.4.2.3.3.1.1.cmml">[</mo><mi id="S5.Ex6.m1.3.3.2.2" xref="S5.Ex6.m1.3.3.2.2.cmml">y</mi><mo stretchy="false" id="S5.Ex6.m1.5.5.4.4.2.3.3.2.2" xref="S5.Ex6.m1.5.5.4.4.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow></mrow></msub><mo lspace="0.222em" rspace="0.222em" id="S5.Ex6.m1.7.7.1.1.1.1.1.3.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.1.cmml">â‹…</mo><mover accent="true" id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.cmml"><mi id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.2.cmml">p</mi><mo id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.1.cmml">~</mo></mover></mrow><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.7.7.1.1.1.1.1.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.2.cmml">â€‹</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.cmml"><mi id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">|</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.cmml"><msup id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2.cmml">y</mi><mo id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.3" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.1.cmml">â€‹</mo><mrow id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.3.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.3.2.1" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.cmml">(</mo><mi id="S5.Ex6.m1.6.6" xref="S5.Ex6.m1.6.6.cmml">j</mi><mo stretchy="false" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.3.2.2" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.3" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S5.Ex6.m1.7.7.1.2" xref="S5.Ex6.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex6.m1.7b"><apply id="S5.Ex6.m1.7.7.1.1.cmml" xref="S5.Ex6.m1.7.7.1"><apply id="S5.Ex6.m1.7.7.1.1.2.cmml" xref="S5.Ex6.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.2">subscript</csymbol><sum id="S5.Ex6.m1.7.7.1.1.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.2.2"></sum><apply id="S5.Ex6.m1.1.1.1.cmml" xref="S5.Ex6.m1.1.1.1"><in id="S5.Ex6.m1.1.1.1.2.cmml" xref="S5.Ex6.m1.1.1.1.2"></in><apply id="S5.Ex6.m1.1.1.1.3.cmml" xref="S5.Ex6.m1.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex6.m1.1.1.1.3.1.cmml" xref="S5.Ex6.m1.1.1.1.3">superscript</csymbol><ci id="S5.Ex6.m1.1.1.1.3.2.cmml" xref="S5.Ex6.m1.1.1.1.3.2">ğ‘</ci><ci id="S5.Ex6.m1.1.1.1.3.3.cmml" xref="S5.Ex6.m1.1.1.1.3.3">â€²</ci></apply><apply id="S5.Ex6.m1.1.1.1.4.cmml" xref="S5.Ex6.m1.1.1.1.4"><times id="S5.Ex6.m1.1.1.1.4.1.cmml" xref="S5.Ex6.m1.1.1.1.4.1"></times><ci id="S5.Ex6.m1.1.1.1.4.2.cmml" xref="S5.Ex6.m1.1.1.1.4.2">ğµ</ci><ci id="S5.Ex6.m1.1.1.1.1.cmml" xref="S5.Ex6.m1.1.1.1.1">ğ‘</ci></apply></apply></apply><apply id="S5.Ex6.m1.7.7.1.1.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1"><apply id="S5.Ex6.m1.7.7.1.1.1.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.1.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2">subscript</csymbol><apply id="S5.Ex6.m1.7.7.1.1.1.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.1.2.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2">superscript</csymbol><sum id="S5.Ex6.m1.7.7.1.1.1.2.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.2.2"></sum><ci id="S5.Ex6.m1.7.7.1.1.1.2.2.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.2.3">ğ‘š</ci></apply><apply id="S5.Ex6.m1.7.7.1.1.1.2.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.3"><eq id="S5.Ex6.m1.7.7.1.1.1.2.3.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.3.1"></eq><ci id="S5.Ex6.m1.7.7.1.1.1.2.3.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.3.2">ğ‘—</ci><cn type="integer" id="S5.Ex6.m1.7.7.1.1.1.2.3.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.2.3.3">1</cn></apply></apply><apply id="S5.Ex6.m1.7.7.1.1.1.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1"><apply id="S5.Ex6.m1.7.7.1.1.1.1.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.1.1.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2">subscript</csymbol><sum id="S5.Ex6.m1.7.7.1.1.1.1.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2.2"></sum><apply id="S5.Ex6.m1.7.7.1.1.1.1.2.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3"><geq id="S5.Ex6.m1.7.7.1.1.1.1.2.3.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.1"></geq><ci id="S5.Ex6.m1.7.7.1.1.1.1.2.3.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.2">ğ‘–</ci><cn type="integer" id="S5.Ex6.m1.7.7.1.1.1.1.2.3.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.2.3.3">0</cn></apply></apply><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1"><times id="S5.Ex6.m1.7.7.1.1.1.1.1.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.2"></times><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3"><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.1">â‹…</ci><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.2">subscript</csymbol><cn type="integer" id="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.2.2">1</cn><apply id="S5.Ex6.m1.5.5.4.5.cmml" xref="S5.Ex6.m1.5.5.4.4"><csymbol cd="ambiguous" id="S5.Ex6.m1.5.5.4.5a.cmml" xref="S5.Ex6.m1.5.5.4.4.3">formulae-sequence</csymbol><apply id="S5.Ex6.m1.4.4.3.3.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1"><eq id="S5.Ex6.m1.4.4.3.3.1.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.2"></eq><apply id="S5.Ex6.m1.4.4.3.3.1.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1"><times id="S5.Ex6.m1.4.4.3.3.1.1.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.2"></times><ci id="S5.Ex6.m1.4.4.3.3.1.1.3.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.3">ğ‘</ci><apply id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1"><times id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.1"></times><apply id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2">superscript</csymbol><apply id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2"><ci id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.1">Â¯</ci><ci id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.2.2">ğ‘¦</ci></apply><ci id="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.3.cmml" xref="S5.Ex6.m1.4.4.3.3.1.1.1.1.1.2.3">ğ‘–</ci></apply><ci id="S5.Ex6.m1.2.2.1.1.cmml" xref="S5.Ex6.m1.2.2.1.1">ğ‘—</ci></apply></apply><apply id="S5.Ex6.m1.4.4.3.3.1.3.cmml" xref="S5.Ex6.m1.4.4.3.3.1.3"><csymbol cd="ambiguous" id="S5.Ex6.m1.4.4.3.3.1.3.1.cmml" xref="S5.Ex6.m1.4.4.3.3.1.3">superscript</csymbol><ci id="S5.Ex6.m1.4.4.3.3.1.3.2.cmml" xref="S5.Ex6.m1.4.4.3.3.1.3.2">ğ‘</ci><ci id="S5.Ex6.m1.4.4.3.3.1.3.3.cmml" xref="S5.Ex6.m1.4.4.3.3.1.3.3">â€²</ci></apply></apply><apply id="S5.Ex6.m1.5.5.4.4.2.cmml" xref="S5.Ex6.m1.5.5.4.4.2"><eq id="S5.Ex6.m1.5.5.4.4.2.1.cmml" xref="S5.Ex6.m1.5.5.4.4.2.1"></eq><ci id="S5.Ex6.m1.5.5.4.4.2.2.cmml" xref="S5.Ex6.m1.5.5.4.4.2.2">ğ‘</ci><apply id="S5.Ex6.m1.5.5.4.4.2.3.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3"><times id="S5.Ex6.m1.5.5.4.4.2.3.1.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.1"></times><apply id="S5.Ex6.m1.5.5.4.4.2.3.2.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.5.5.4.4.2.3.2.1.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.2">superscript</csymbol><ci id="S5.Ex6.m1.5.5.4.4.2.3.2.2.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.2.2">ğ‘</ci><ci id="S5.Ex6.m1.5.5.4.4.2.3.2.3.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.2.3">â€²</ci></apply><apply id="S5.Ex6.m1.5.5.4.4.2.3.3.1.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.3.2"><csymbol cd="latexml" id="S5.Ex6.m1.5.5.4.4.2.3.3.1.1.cmml" xref="S5.Ex6.m1.5.5.4.4.2.3.3.2.1">delimited-[]</csymbol><ci id="S5.Ex6.m1.3.3.2.2.cmml" xref="S5.Ex6.m1.3.3.2.2">ğ‘¦</ci></apply></apply></apply></apply></apply><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3"><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.1">~</ci><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.3.3.2">ğ‘</ci></apply></apply><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.2">ğ‘¦</ci><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3"><times id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.1"></times><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2"><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.1">Â¯</ci><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.2.2">ğ‘¦</ci></apply><ci id="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S5.Ex6.m1.7.7.1.1.1.1.1.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S5.Ex6.m1.6.6.cmml" xref="S5.Ex6.m1.6.6">ğ‘—</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex6.m1.7c">\sum_{q^{\prime}\in B(q)}\sum^{m}_{j=1}\sum_{i\geq 0}1_{q(\bar{y}^{i}(j))=q^{\prime},q=q^{\prime}[y]}\cdot\tilde{p}(y|\bar{y}^{i}(j)),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S5.p2.10" class="ltx_p">where <math id="S5.p2.10.m1.2" class="ltx_Math" alttext="\tilde{p}(y|\bar{y}^{i}(j))" display="inline"><semantics id="S5.p2.10.m1.2a"><mrow id="S5.p2.10.m1.2.2" xref="S5.p2.10.m1.2.2.cmml"><mover accent="true" id="S5.p2.10.m1.2.2.3" xref="S5.p2.10.m1.2.2.3.cmml"><mi id="S5.p2.10.m1.2.2.3.2" xref="S5.p2.10.m1.2.2.3.2.cmml">p</mi><mo id="S5.p2.10.m1.2.2.3.1" xref="S5.p2.10.m1.2.2.3.1.cmml">~</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.10.m1.2.2.2" xref="S5.p2.10.m1.2.2.2.cmml">â€‹</mo><mrow id="S5.p2.10.m1.2.2.1.1" xref="S5.p2.10.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="S5.p2.10.m1.2.2.1.1.2" xref="S5.p2.10.m1.2.2.1.1.1.cmml">(</mo><mrow id="S5.p2.10.m1.2.2.1.1.1" xref="S5.p2.10.m1.2.2.1.1.1.cmml"><mi id="S5.p2.10.m1.2.2.1.1.1.2" xref="S5.p2.10.m1.2.2.1.1.1.2.cmml">y</mi><mo fence="false" id="S5.p2.10.m1.2.2.1.1.1.1" xref="S5.p2.10.m1.2.2.1.1.1.1.cmml">|</mo><mrow id="S5.p2.10.m1.2.2.1.1.1.3" xref="S5.p2.10.m1.2.2.1.1.1.3.cmml"><msup id="S5.p2.10.m1.2.2.1.1.1.3.2" xref="S5.p2.10.m1.2.2.1.1.1.3.2.cmml"><mover accent="true" id="S5.p2.10.m1.2.2.1.1.1.3.2.2" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2.cmml"><mi id="S5.p2.10.m1.2.2.1.1.1.3.2.2.2" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2.2.cmml">y</mi><mo id="S5.p2.10.m1.2.2.1.1.1.3.2.2.1" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S5.p2.10.m1.2.2.1.1.1.3.2.3" xref="S5.p2.10.m1.2.2.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.p2.10.m1.2.2.1.1.1.3.1" xref="S5.p2.10.m1.2.2.1.1.1.3.1.cmml">â€‹</mo><mrow id="S5.p2.10.m1.2.2.1.1.1.3.3.2" xref="S5.p2.10.m1.2.2.1.1.1.3.cmml"><mo stretchy="false" id="S5.p2.10.m1.2.2.1.1.1.3.3.2.1" xref="S5.p2.10.m1.2.2.1.1.1.3.cmml">(</mo><mi id="S5.p2.10.m1.1.1" xref="S5.p2.10.m1.1.1.cmml">j</mi><mo stretchy="false" id="S5.p2.10.m1.2.2.1.1.1.3.3.2.2" xref="S5.p2.10.m1.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S5.p2.10.m1.2.2.1.1.3" xref="S5.p2.10.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.10.m1.2b"><apply id="S5.p2.10.m1.2.2.cmml" xref="S5.p2.10.m1.2.2"><times id="S5.p2.10.m1.2.2.2.cmml" xref="S5.p2.10.m1.2.2.2"></times><apply id="S5.p2.10.m1.2.2.3.cmml" xref="S5.p2.10.m1.2.2.3"><ci id="S5.p2.10.m1.2.2.3.1.cmml" xref="S5.p2.10.m1.2.2.3.1">~</ci><ci id="S5.p2.10.m1.2.2.3.2.cmml" xref="S5.p2.10.m1.2.2.3.2">ğ‘</ci></apply><apply id="S5.p2.10.m1.2.2.1.1.1.cmml" xref="S5.p2.10.m1.2.2.1.1"><csymbol cd="latexml" id="S5.p2.10.m1.2.2.1.1.1.1.cmml" xref="S5.p2.10.m1.2.2.1.1.1.1">conditional</csymbol><ci id="S5.p2.10.m1.2.2.1.1.1.2.cmml" xref="S5.p2.10.m1.2.2.1.1.1.2">ğ‘¦</ci><apply id="S5.p2.10.m1.2.2.1.1.1.3.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3"><times id="S5.p2.10.m1.2.2.1.1.1.3.1.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.1"></times><apply id="S5.p2.10.m1.2.2.1.1.1.3.2.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.p2.10.m1.2.2.1.1.1.3.2.1.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2">superscript</csymbol><apply id="S5.p2.10.m1.2.2.1.1.1.3.2.2.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2"><ci id="S5.p2.10.m1.2.2.1.1.1.3.2.2.1.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2.1">Â¯</ci><ci id="S5.p2.10.m1.2.2.1.1.1.3.2.2.2.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2.2.2">ğ‘¦</ci></apply><ci id="S5.p2.10.m1.2.2.1.1.1.3.2.3.cmml" xref="S5.p2.10.m1.2.2.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S5.p2.10.m1.1.1.cmml" xref="S5.p2.10.m1.1.1">ğ‘—</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.10.m1.2c">\tilde{p}(y|\bar{y}^{i}(j))</annotation></semantics></math> is given by</p>
<table id="S5.Ex7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S5.Ex7.m1.9" class="ltx_Math" alttext="p_{\text{nn}}(u(y)|u(\bar{y}^{i}(j)))\cdot\frac{p_{\text{cap}}(y|\bar{y}^{i}(j))}{\sum_{y^{\prime}:u(y^{\prime})=u(y)}p_{\text{cap}}(y^{\prime}|\bar{y}^{i}(j))}." display="block"><semantics id="S5.Ex7.m1.9a"><mrow id="S5.Ex7.m1.9.9.1" xref="S5.Ex7.m1.9.9.1.1.cmml"><mrow id="S5.Ex7.m1.9.9.1.1" xref="S5.Ex7.m1.9.9.1.1.cmml"><mrow id="S5.Ex7.m1.9.9.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.cmml"><msub id="S5.Ex7.m1.9.9.1.1.1.3" xref="S5.Ex7.m1.9.9.1.1.1.3.cmml"><mi id="S5.Ex7.m1.9.9.1.1.1.3.2" xref="S5.Ex7.m1.9.9.1.1.1.3.2.cmml">p</mi><mtext id="S5.Ex7.m1.9.9.1.1.1.3.3" xref="S5.Ex7.m1.9.9.1.1.1.3.3a.cmml">nn</mtext></msub><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.9.9.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.2.cmml">â€‹</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.cmml"><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.cmml"><mi id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.1.cmml">â€‹</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.3.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.3.2.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.cmml">(</mo><mi id="S5.Ex7.m1.7.7" xref="S5.Ex7.m1.7.7.cmml">y</mi><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.3.2.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.cmml">)</mo></mrow></mrow><mo fence="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.2.cmml">|</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.cmml"><mi id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.3" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.2.cmml">â€‹</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml"><msup id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mo id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">Â¯</mo></mover><mi id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.3" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.cmml">â€‹</mo><mrow id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2.1" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S5.Ex7.m1.8.8" xref="S5.Ex7.m1.8.8.cmml">j</mi><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.3" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo rspace="0.055em" stretchy="false" id="S5.Ex7.m1.9.9.1.1.1.1.1.3" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.222em" id="S5.Ex7.m1.9.9.1.1.2" xref="S5.Ex7.m1.9.9.1.1.2.cmml">â‹…</mo><mfrac id="S5.Ex7.m1.6.6" xref="S5.Ex7.m1.6.6.cmml"><mrow id="S5.Ex7.m1.2.2.2" xref="S5.Ex7.m1.2.2.2.cmml"><msub id="S5.Ex7.m1.2.2.2.4" xref="S5.Ex7.m1.2.2.2.4.cmml"><mi id="S5.Ex7.m1.2.2.2.4.2" xref="S5.Ex7.m1.2.2.2.4.2.cmml">p</mi><mtext id="S5.Ex7.m1.2.2.2.4.3" xref="S5.Ex7.m1.2.2.2.4.3a.cmml">cap</mtext></msub><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.2.2.2.3" xref="S5.Ex7.m1.2.2.2.3.cmml">â€‹</mo><mrow id="S5.Ex7.m1.2.2.2.2.1" xref="S5.Ex7.m1.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.2.2.2.2.1.2" xref="S5.Ex7.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S5.Ex7.m1.2.2.2.2.1.1" xref="S5.Ex7.m1.2.2.2.2.1.1.cmml"><mi id="S5.Ex7.m1.2.2.2.2.1.1.2" xref="S5.Ex7.m1.2.2.2.2.1.1.2.cmml">y</mi><mo fence="false" id="S5.Ex7.m1.2.2.2.2.1.1.1" xref="S5.Ex7.m1.2.2.2.2.1.1.1.cmml">|</mo><mrow id="S5.Ex7.m1.2.2.2.2.1.1.3" xref="S5.Ex7.m1.2.2.2.2.1.1.3.cmml"><msup id="S5.Ex7.m1.2.2.2.2.1.1.3.2" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.cmml"><mover accent="true" id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.cmml"><mi id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.2" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.2.cmml">y</mi><mo id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.1" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S5.Ex7.m1.2.2.2.2.1.1.3.2.3" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.2.2.2.2.1.1.3.1" xref="S5.Ex7.m1.2.2.2.2.1.1.3.1.cmml">â€‹</mo><mrow id="S5.Ex7.m1.2.2.2.2.1.1.3.3.2" xref="S5.Ex7.m1.2.2.2.2.1.1.3.cmml"><mo stretchy="false" id="S5.Ex7.m1.2.2.2.2.1.1.3.3.2.1" xref="S5.Ex7.m1.2.2.2.2.1.1.3.cmml">(</mo><mi id="S5.Ex7.m1.1.1.1.1" xref="S5.Ex7.m1.1.1.1.1.cmml">j</mi><mo stretchy="false" id="S5.Ex7.m1.2.2.2.2.1.1.3.3.2.2" xref="S5.Ex7.m1.2.2.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S5.Ex7.m1.2.2.2.2.1.3" xref="S5.Ex7.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S5.Ex7.m1.6.6.6" xref="S5.Ex7.m1.6.6.6.cmml"><msub id="S5.Ex7.m1.6.6.6.5" xref="S5.Ex7.m1.6.6.6.5.cmml"><mo id="S5.Ex7.m1.6.6.6.5.2" xref="S5.Ex7.m1.6.6.6.5.2.cmml">âˆ‘</mo><mrow id="S5.Ex7.m1.4.4.4.2.2" xref="S5.Ex7.m1.4.4.4.2.2.cmml"><msup id="S5.Ex7.m1.4.4.4.2.2.4" xref="S5.Ex7.m1.4.4.4.2.2.4.cmml"><mi id="S5.Ex7.m1.4.4.4.2.2.4.2" xref="S5.Ex7.m1.4.4.4.2.2.4.2.cmml">y</mi><mo id="S5.Ex7.m1.4.4.4.2.2.4.3" xref="S5.Ex7.m1.4.4.4.2.2.4.3.cmml">â€²</mo></msup><mo lspace="0.278em" rspace="0.278em" id="S5.Ex7.m1.4.4.4.2.2.3" xref="S5.Ex7.m1.4.4.4.2.2.3.cmml">:</mo><mrow id="S5.Ex7.m1.4.4.4.2.2.2" xref="S5.Ex7.m1.4.4.4.2.2.2.cmml"><mrow id="S5.Ex7.m1.4.4.4.2.2.2.1" xref="S5.Ex7.m1.4.4.4.2.2.2.1.cmml"><mi id="S5.Ex7.m1.4.4.4.2.2.2.1.3" xref="S5.Ex7.m1.4.4.4.2.2.2.1.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.4.4.4.2.2.2.1.2" xref="S5.Ex7.m1.4.4.4.2.2.2.1.2.cmml">â€‹</mo><mrow id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.2" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.cmml">(</mo><msup id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.cmml"><mi id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.2" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.2.cmml">y</mi><mo id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.3" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.3.cmml">â€²</mo></msup><mo stretchy="false" id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.3" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.Ex7.m1.4.4.4.2.2.2.2" xref="S5.Ex7.m1.4.4.4.2.2.2.2.cmml">=</mo><mrow id="S5.Ex7.m1.4.4.4.2.2.2.3" xref="S5.Ex7.m1.4.4.4.2.2.2.3.cmml"><mi id="S5.Ex7.m1.4.4.4.2.2.2.3.2" xref="S5.Ex7.m1.4.4.4.2.2.2.3.2.cmml">u</mi><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.4.4.4.2.2.2.3.1" xref="S5.Ex7.m1.4.4.4.2.2.2.3.1.cmml">â€‹</mo><mrow id="S5.Ex7.m1.4.4.4.2.2.2.3.3.2" xref="S5.Ex7.m1.4.4.4.2.2.2.3.cmml"><mo stretchy="false" id="S5.Ex7.m1.4.4.4.2.2.2.3.3.2.1" xref="S5.Ex7.m1.4.4.4.2.2.2.3.cmml">(</mo><mi id="S5.Ex7.m1.3.3.3.1.1.1" xref="S5.Ex7.m1.3.3.3.1.1.1.cmml">y</mi><mo stretchy="false" id="S5.Ex7.m1.4.4.4.2.2.2.3.3.2.2" xref="S5.Ex7.m1.4.4.4.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></msub><mrow id="S5.Ex7.m1.6.6.6.4" xref="S5.Ex7.m1.6.6.6.4.cmml"><msub id="S5.Ex7.m1.6.6.6.4.3" xref="S5.Ex7.m1.6.6.6.4.3.cmml"><mi id="S5.Ex7.m1.6.6.6.4.3.2" xref="S5.Ex7.m1.6.6.6.4.3.2.cmml">p</mi><mtext id="S5.Ex7.m1.6.6.6.4.3.3" xref="S5.Ex7.m1.6.6.6.4.3.3a.cmml">cap</mtext></msub><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.6.6.6.4.2" xref="S5.Ex7.m1.6.6.6.4.2.cmml">â€‹</mo><mrow id="S5.Ex7.m1.6.6.6.4.1.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.cmml"><mo stretchy="false" id="S5.Ex7.m1.6.6.6.4.1.1.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.cmml">(</mo><mrow id="S5.Ex7.m1.6.6.6.4.1.1.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.cmml"><msup id="S5.Ex7.m1.6.6.6.4.1.1.1.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2.cmml"><mi id="S5.Ex7.m1.6.6.6.4.1.1.1.2.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2.2.cmml">y</mi><mo id="S5.Ex7.m1.6.6.6.4.1.1.1.2.3" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2.3.cmml">â€²</mo></msup><mo fence="false" id="S5.Ex7.m1.6.6.6.4.1.1.1.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.1.cmml">|</mo><mrow id="S5.Ex7.m1.6.6.6.4.1.1.1.3" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.cmml"><msup id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.cmml"><mover accent="true" id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.cmml"><mi id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.2.cmml">y</mi><mo id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.3" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S5.Ex7.m1.6.6.6.4.1.1.1.3.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.1.cmml">â€‹</mo><mrow id="S5.Ex7.m1.6.6.6.4.1.1.1.3.3.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.cmml"><mo stretchy="false" id="S5.Ex7.m1.6.6.6.4.1.1.1.3.3.2.1" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.cmml">(</mo><mi id="S5.Ex7.m1.5.5.5.3" xref="S5.Ex7.m1.5.5.5.3.cmml">j</mi><mo stretchy="false" id="S5.Ex7.m1.6.6.6.4.1.1.1.3.3.2.2" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S5.Ex7.m1.6.6.6.4.1.1.3" xref="S5.Ex7.m1.6.6.6.4.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><mo lspace="0em" id="S5.Ex7.m1.9.9.1.2" xref="S5.Ex7.m1.9.9.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex7.m1.9b"><apply id="S5.Ex7.m1.9.9.1.1.cmml" xref="S5.Ex7.m1.9.9.1"><ci id="S5.Ex7.m1.9.9.1.1.2.cmml" xref="S5.Ex7.m1.9.9.1.1.2">â‹…</ci><apply id="S5.Ex7.m1.9.9.1.1.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1"><times id="S5.Ex7.m1.9.9.1.1.1.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.2"></times><apply id="S5.Ex7.m1.9.9.1.1.1.3.cmml" xref="S5.Ex7.m1.9.9.1.1.1.3"><csymbol cd="ambiguous" id="S5.Ex7.m1.9.9.1.1.1.3.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.3">subscript</csymbol><ci id="S5.Ex7.m1.9.9.1.1.1.3.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.3.2">ğ‘</ci><ci id="S5.Ex7.m1.9.9.1.1.1.3.3a.cmml" xref="S5.Ex7.m1.9.9.1.1.1.3.3"><mtext mathsize="70%" id="S5.Ex7.m1.9.9.1.1.1.3.3.cmml" xref="S5.Ex7.m1.9.9.1.1.1.3.3">nn</mtext></ci></apply><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1"><csymbol cd="latexml" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.2">conditional</csymbol><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3"><times id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.1"></times><ci id="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.3.2">ğ‘¢</ci><ci id="S5.Ex7.m1.7.7.cmml" xref="S5.Ex7.m1.7.7">ğ‘¦</ci></apply><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1"><times id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.2"></times><ci id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.3.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.3">ğ‘¢</ci><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1"><times id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.1"></times><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2"><ci id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.1">Â¯</ci><ci id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.2.2">ğ‘¦</ci></apply><ci id="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.Ex7.m1.9.9.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘–</ci></apply><ci id="S5.Ex7.m1.8.8.cmml" xref="S5.Ex7.m1.8.8">ğ‘—</ci></apply></apply></apply></apply><apply id="S5.Ex7.m1.6.6.cmml" xref="S5.Ex7.m1.6.6"><divide id="S5.Ex7.m1.6.6.7.cmml" xref="S5.Ex7.m1.6.6"></divide><apply id="S5.Ex7.m1.2.2.2.cmml" xref="S5.Ex7.m1.2.2.2"><times id="S5.Ex7.m1.2.2.2.3.cmml" xref="S5.Ex7.m1.2.2.2.3"></times><apply id="S5.Ex7.m1.2.2.2.4.cmml" xref="S5.Ex7.m1.2.2.2.4"><csymbol cd="ambiguous" id="S5.Ex7.m1.2.2.2.4.1.cmml" xref="S5.Ex7.m1.2.2.2.4">subscript</csymbol><ci id="S5.Ex7.m1.2.2.2.4.2.cmml" xref="S5.Ex7.m1.2.2.2.4.2">ğ‘</ci><ci id="S5.Ex7.m1.2.2.2.4.3a.cmml" xref="S5.Ex7.m1.2.2.2.4.3"><mtext mathsize="70%" id="S5.Ex7.m1.2.2.2.4.3.cmml" xref="S5.Ex7.m1.2.2.2.4.3">cap</mtext></ci></apply><apply id="S5.Ex7.m1.2.2.2.2.1.1.cmml" xref="S5.Ex7.m1.2.2.2.2.1"><csymbol cd="latexml" id="S5.Ex7.m1.2.2.2.2.1.1.1.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.1">conditional</csymbol><ci id="S5.Ex7.m1.2.2.2.2.1.1.2.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.2">ğ‘¦</ci><apply id="S5.Ex7.m1.2.2.2.2.1.1.3.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3"><times id="S5.Ex7.m1.2.2.2.2.1.1.3.1.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.1"></times><apply id="S5.Ex7.m1.2.2.2.2.1.1.3.2.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S5.Ex7.m1.2.2.2.2.1.1.3.2.1.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2">superscript</csymbol><apply id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2"><ci id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.1.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.1">Â¯</ci><ci id="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.2.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.2.2">ğ‘¦</ci></apply><ci id="S5.Ex7.m1.2.2.2.2.1.1.3.2.3.cmml" xref="S5.Ex7.m1.2.2.2.2.1.1.3.2.3">ğ‘–</ci></apply><ci id="S5.Ex7.m1.1.1.1.1.cmml" xref="S5.Ex7.m1.1.1.1.1">ğ‘—</ci></apply></apply></apply><apply id="S5.Ex7.m1.6.6.6.cmml" xref="S5.Ex7.m1.6.6.6"><apply id="S5.Ex7.m1.6.6.6.5.cmml" xref="S5.Ex7.m1.6.6.6.5"><csymbol cd="ambiguous" id="S5.Ex7.m1.6.6.6.5.1.cmml" xref="S5.Ex7.m1.6.6.6.5">subscript</csymbol><sum id="S5.Ex7.m1.6.6.6.5.2.cmml" xref="S5.Ex7.m1.6.6.6.5.2"></sum><apply id="S5.Ex7.m1.4.4.4.2.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2"><ci id="S5.Ex7.m1.4.4.4.2.2.3.cmml" xref="S5.Ex7.m1.4.4.4.2.2.3">:</ci><apply id="S5.Ex7.m1.4.4.4.2.2.4.cmml" xref="S5.Ex7.m1.4.4.4.2.2.4"><csymbol cd="ambiguous" id="S5.Ex7.m1.4.4.4.2.2.4.1.cmml" xref="S5.Ex7.m1.4.4.4.2.2.4">superscript</csymbol><ci id="S5.Ex7.m1.4.4.4.2.2.4.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.4.2">ğ‘¦</ci><ci id="S5.Ex7.m1.4.4.4.2.2.4.3.cmml" xref="S5.Ex7.m1.4.4.4.2.2.4.3">â€²</ci></apply><apply id="S5.Ex7.m1.4.4.4.2.2.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2"><eq id="S5.Ex7.m1.4.4.4.2.2.2.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.2"></eq><apply id="S5.Ex7.m1.4.4.4.2.2.2.1.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1"><times id="S5.Ex7.m1.4.4.4.2.2.2.1.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.2"></times><ci id="S5.Ex7.m1.4.4.4.2.2.2.1.3.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.3">ğ‘¢</ci><apply id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.1.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1">superscript</csymbol><ci id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.2">ğ‘¦</ci><ci id="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.3.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.1.1.1.1.3">â€²</ci></apply></apply><apply id="S5.Ex7.m1.4.4.4.2.2.2.3.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.3"><times id="S5.Ex7.m1.4.4.4.2.2.2.3.1.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.3.1"></times><ci id="S5.Ex7.m1.4.4.4.2.2.2.3.2.cmml" xref="S5.Ex7.m1.4.4.4.2.2.2.3.2">ğ‘¢</ci><ci id="S5.Ex7.m1.3.3.3.1.1.1.cmml" xref="S5.Ex7.m1.3.3.3.1.1.1">ğ‘¦</ci></apply></apply></apply></apply><apply id="S5.Ex7.m1.6.6.6.4.cmml" xref="S5.Ex7.m1.6.6.6.4"><times id="S5.Ex7.m1.6.6.6.4.2.cmml" xref="S5.Ex7.m1.6.6.6.4.2"></times><apply id="S5.Ex7.m1.6.6.6.4.3.cmml" xref="S5.Ex7.m1.6.6.6.4.3"><csymbol cd="ambiguous" id="S5.Ex7.m1.6.6.6.4.3.1.cmml" xref="S5.Ex7.m1.6.6.6.4.3">subscript</csymbol><ci id="S5.Ex7.m1.6.6.6.4.3.2.cmml" xref="S5.Ex7.m1.6.6.6.4.3.2">ğ‘</ci><ci id="S5.Ex7.m1.6.6.6.4.3.3a.cmml" xref="S5.Ex7.m1.6.6.6.4.3.3"><mtext mathsize="70%" id="S5.Ex7.m1.6.6.6.4.3.3.cmml" xref="S5.Ex7.m1.6.6.6.4.3.3">cap</mtext></ci></apply><apply id="S5.Ex7.m1.6.6.6.4.1.1.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1"><csymbol cd="latexml" id="S5.Ex7.m1.6.6.6.4.1.1.1.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.1">conditional</csymbol><apply id="S5.Ex7.m1.6.6.6.4.1.1.1.2.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex7.m1.6.6.6.4.1.1.1.2.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2">superscript</csymbol><ci id="S5.Ex7.m1.6.6.6.4.1.1.1.2.2.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2.2">ğ‘¦</ci><ci id="S5.Ex7.m1.6.6.6.4.1.1.1.2.3.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.2.3">â€²</ci></apply><apply id="S5.Ex7.m1.6.6.6.4.1.1.1.3.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3"><times id="S5.Ex7.m1.6.6.6.4.1.1.1.3.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.1"></times><apply id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2">superscript</csymbol><apply id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2"><ci id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.1.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.1">Â¯</ci><ci id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.2.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.2.2">ğ‘¦</ci></apply><ci id="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.3.cmml" xref="S5.Ex7.m1.6.6.6.4.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S5.Ex7.m1.5.5.5.3.cmml" xref="S5.Ex7.m1.5.5.5.3">ğ‘—</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex7.m1.9c">p_{\text{nn}}(u(y)|u(\bar{y}^{i}(j)))\cdot\frac{p_{\text{cap}}(y|\bar{y}^{i}(j))}{\sum_{y^{\prime}:u(y^{\prime})=u(y)}p_{\text{cap}}(y^{\prime}|\bar{y}^{i}(j))}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S5.p2.15" class="ltx_p">We refer to this modified algorithm as <span id="S5.p2.15.1" class="ltx_text ltx_font_typewriter">CapSampleApprox</span>â€‰. We note that
word-piece to word approximation incurs an additional computation cost
of <math id="S5.p2.11.m1.4" class="ltx_Math" alttext="\tilde{\mathcal{O}}((|E|+|Q|+|\Delta|)\ell)" display="inline"><semantics id="S5.p2.11.m1.4a"><mrow id="S5.p2.11.m1.4.4" xref="S5.p2.11.m1.4.4.cmml"><mover accent="true" id="S5.p2.11.m1.4.4.3" xref="S5.p2.11.m1.4.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.p2.11.m1.4.4.3.2" xref="S5.p2.11.m1.4.4.3.2.cmml">ğ’ª</mi><mo id="S5.p2.11.m1.4.4.3.1" xref="S5.p2.11.m1.4.4.3.1.cmml">~</mo></mover><mo lspace="0em" rspace="0em" id="S5.p2.11.m1.4.4.2" xref="S5.p2.11.m1.4.4.2.cmml">â€‹</mo><mrow id="S5.p2.11.m1.4.4.1.1" xref="S5.p2.11.m1.4.4.1.1.1.cmml"><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.2" xref="S5.p2.11.m1.4.4.1.1.1.cmml">(</mo><mrow id="S5.p2.11.m1.4.4.1.1.1" xref="S5.p2.11.m1.4.4.1.1.1.cmml"><mrow id="S5.p2.11.m1.4.4.1.1.1.1.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.p2.11.m1.4.4.1.1.1.1.1.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.cmml"><mrow id="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.1.cmml"><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.2.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.1.1.cmml">|</mo><mi id="S5.p2.11.m1.1.1" xref="S5.p2.11.m1.1.1.cmml">E</mi><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.2.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.1.1.cmml">|</mo></mrow><mo id="S5.p2.11.m1.4.4.1.1.1.1.1.1.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.2.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.1.1.cmml">|</mo><mi id="S5.p2.11.m1.2.2" xref="S5.p2.11.m1.2.2.cmml">Q</mi><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.2.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.1.1.cmml">|</mo></mrow><mo id="S5.p2.11.m1.4.4.1.1.1.1.1.1.1a" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.1.cmml"><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.2.1" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.1.1.cmml">|</mo><mi mathvariant="normal" id="S5.p2.11.m1.3.3" xref="S5.p2.11.m1.3.3.cmml">Î”</mi><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.2.2" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.1.1.cmml">|</mo></mrow></mrow><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.1.1.1.3" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S5.p2.11.m1.4.4.1.1.1.2" xref="S5.p2.11.m1.4.4.1.1.1.2.cmml">â€‹</mo><mi mathvariant="normal" id="S5.p2.11.m1.4.4.1.1.1.3" xref="S5.p2.11.m1.4.4.1.1.1.3.cmml">â„“</mi></mrow><mo stretchy="false" id="S5.p2.11.m1.4.4.1.1.3" xref="S5.p2.11.m1.4.4.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.11.m1.4b"><apply id="S5.p2.11.m1.4.4.cmml" xref="S5.p2.11.m1.4.4"><times id="S5.p2.11.m1.4.4.2.cmml" xref="S5.p2.11.m1.4.4.2"></times><apply id="S5.p2.11.m1.4.4.3.cmml" xref="S5.p2.11.m1.4.4.3"><ci id="S5.p2.11.m1.4.4.3.1.cmml" xref="S5.p2.11.m1.4.4.3.1">~</ci><ci id="S5.p2.11.m1.4.4.3.2.cmml" xref="S5.p2.11.m1.4.4.3.2">ğ’ª</ci></apply><apply id="S5.p2.11.m1.4.4.1.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1"><times id="S5.p2.11.m1.4.4.1.1.1.2.cmml" xref="S5.p2.11.m1.4.4.1.1.1.2"></times><apply id="S5.p2.11.m1.4.4.1.1.1.1.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1"><plus id="S5.p2.11.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.1"></plus><apply id="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.2"><abs id="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.2.2.1"></abs><ci id="S5.p2.11.m1.1.1.cmml" xref="S5.p2.11.m1.1.1">ğ¸</ci></apply><apply id="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.2"><abs id="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.3.2.1"></abs><ci id="S5.p2.11.m1.2.2.cmml" xref="S5.p2.11.m1.2.2">ğ‘„</ci></apply><apply id="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.2"><abs id="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.1.1.cmml" xref="S5.p2.11.m1.4.4.1.1.1.1.1.1.4.2.1"></abs><ci id="S5.p2.11.m1.3.3.cmml" xref="S5.p2.11.m1.3.3">Î”</ci></apply></apply><ci id="S5.p2.11.m1.4.4.1.1.1.3.cmml" xref="S5.p2.11.m1.4.4.1.1.1.3">â„“</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.11.m1.4c">\tilde{\mathcal{O}}((|E|+|Q|+|\Delta|)\ell)</annotation></semantics></math>, where <math id="S5.p2.12.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S5.p2.12.m2.1a"><mi mathvariant="normal" id="S5.p2.12.m2.1.1" xref="S5.p2.12.m2.1.1.cmml">Î”</mi><annotation-xml encoding="MathML-Content" id="S5.p2.12.m2.1b"><ci id="S5.p2.12.m2.1.1.cmml" xref="S5.p2.12.m2.1.1">Î”</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.12.m2.1c">\Delta</annotation></semantics></math> is the number of
words, <math id="S5.p2.13.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S5.p2.13.m3.1a"><mi id="S5.p2.13.m3.1.1" xref="S5.p2.13.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S5.p2.13.m3.1b"><ci id="S5.p2.13.m3.1.1.cmml" xref="S5.p2.13.m3.1.1">ğ¸</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.13.m3.1c">E</annotation></semantics></math> and <math id="S5.p2.14.m4.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.p2.14.m4.1a"><mi id="S5.p2.14.m4.1.1" xref="S5.p2.14.m4.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.p2.14.m4.1b"><ci id="S5.p2.14.m4.1.1.cmml" xref="S5.p2.14.m4.1.1">ğ‘„</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.14.m4.1c">Q</annotation></semantics></math> are the set of arcs and set of states in the word
n-gram model, and <math id="S5.p2.15.m5.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S5.p2.15.m5.1a"><mi mathvariant="normal" id="S5.p2.15.m5.1.1" xref="S5.p2.15.m5.1.1.cmml">â„“</mi><annotation-xml encoding="MathML-Content" id="S5.p2.15.m5.1b"><ci id="S5.p2.15.m5.1.1.cmml" xref="S5.p2.15.m5.1.1">â„“</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.15.m5.1c">\ell</annotation></semantics></math> is the maximum number of word-pieces per word.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Morphologically rich languages</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">To train neural models on morphologically rich languages, subword segments such
as byte-pair encodings or
word-piecesÂ <cite class="ltx_cite ltx_citemacro_cite">Shibata etÂ al. (<a href="#bib.bib29" title="" class="ltx_ref">1999</a>); Schuster and Nakajima (<a href="#bib.bib28" title="" class="ltx_ref">2012</a>); Kudo (<a href="#bib.bib20" title="" class="ltx_ref">2018</a>)</cite> are typically
used. This approach assigns conditional probabilities to subword segments,
conditioned on prior subword segments. It has proved successful
in the context of speech recognitionÂ <cite class="ltx_cite ltx_citemacro_cite">Chiu etÂ al. (<a href="#bib.bib9" title="" class="ltx_ref">2018</a>)</cite> and
machine translationÂ <cite class="ltx_cite ltx_citemacro_cite">Wu etÂ al. (<a href="#bib.bib33" title="" class="ltx_ref">2016</a>)</cite>. Following these successes, we propose
to train RNN LMs with word-pieces for morphologically rich languages.</p>
</div>
<figure id="S6.F4" class="ltx_figure">
<table id="S6.F4.3.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.F4.2.2.2" class="ltx_tr">
<th id="S6.F4.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-bottom:-21.52771pt;">
<div id="S6.F4.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:90.7pt;height:62.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-55.4pt,38.0pt) scale(0.45,0.45) ;"><img src="/html/1910.03432/assets/x1.png" id="S6.F4.1.1.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="215" height="147" alt="Refer to caption">
</span></div>
</th>
<th id="S6.F4.2.2.2.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column" style="padding-bottom:-21.52771pt;"><span id="S6.F4.2.2.2.2.1" class="ltx_text" style="position:relative; bottom:4.3pt;">
<span id="S6.F4.2.2.2.2.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:69.6pt;height:44.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-42.5pt,27.2pt) scale(0.45,0.45) ;"><img src="/html/1910.03432/assets/x2.png" id="S6.F4.2.2.2.2.1.1.g1" class="ltx_graphics ltx_img_landscape" width="165" height="106" alt="Refer to caption">
</span></span></span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.F4.3.3.4.1" class="ltx_tr">
<th id="S6.F4.3.3.4.1.1" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_row" style="padding-bottom:-8.61108pt;">(a)</th>
<td id="S6.F4.3.3.4.1.2" class="ltx_td ltx_nopad_l ltx_align_center" style="padding-bottom:-8.61108pt;">(b)</td>
</tr>
</tbody>
<tfoot class="ltx_tfoot">
<tr id="S6.F4.3.3.3" class="ltx_tr">
<th id="S6.F4.3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row" style="padding-bottom:-21.52771pt;" colspan="2">
<div id="S6.F4.3.3.3.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:136.9pt;height:66pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-83.7pt,40.3pt) scale(0.45,0.45) ;"><img src="/html/1910.03432/assets/x3.png" id="S6.F4.3.3.3.1.1.g1" class="ltx_graphics ltx_img_landscape" width="325" height="156" alt="Refer to caption">
</span></div>
</th>
</tr>
<tr id="S6.F4.3.3.5.1" class="ltx_tr">
<th id="S6.F4.3.3.5.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row" colspan="2">(c)</th>
</tr>
</tfoot>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>The (a) WFA <math id="S6.F4.9.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.F4.9.m1.1b"><mi id="S6.F4.9.m1.1.1" xref="S6.F4.9.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.F4.9.m1.1c"><ci id="S6.F4.9.m1.1.1.cmml" xref="S6.F4.9.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.9.m1.1d">A</annotation></semantics></math> and WFSTs (b) <math id="S6.F4.10.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S6.F4.10.m2.1b"><mi id="S6.F4.10.m2.1.1" xref="S6.F4.10.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S6.F4.10.m2.1c"><ci id="S6.F4.10.m2.1.1.cmml" xref="S6.F4.10.m2.1.1">ğ‘‡</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.10.m2.1d">T</annotation></semantics></math> and (c) <math id="S6.F4.11.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.F4.11.m3.1b"><mi id="S6.F4.11.m3.1.1" xref="S6.F4.11.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.F4.11.m3.1c"><ci id="S6.F4.11.m3.1.1.cmml" xref="S6.F4.11.m3.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.11.m3.1d">B</annotation></semantics></math> for
the word vocabulary <math id="S6.F4.12.m4.2" class="ltx_Math" alttext="\{ab,ac\}" display="inline"><semantics id="S6.F4.12.m4.2b"><mrow id="S6.F4.12.m4.2.2.2" xref="S6.F4.12.m4.2.2.3.cmml"><mo stretchy="false" id="S6.F4.12.m4.2.2.2.3" xref="S6.F4.12.m4.2.2.3.cmml">{</mo><mrow id="S6.F4.12.m4.1.1.1.1" xref="S6.F4.12.m4.1.1.1.1.cmml"><mi id="S6.F4.12.m4.1.1.1.1.2" xref="S6.F4.12.m4.1.1.1.1.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S6.F4.12.m4.1.1.1.1.1" xref="S6.F4.12.m4.1.1.1.1.1.cmml">â€‹</mo><mi id="S6.F4.12.m4.1.1.1.1.3" xref="S6.F4.12.m4.1.1.1.1.3.cmml">b</mi></mrow><mo id="S6.F4.12.m4.2.2.2.4" xref="S6.F4.12.m4.2.2.3.cmml">,</mo><mrow id="S6.F4.12.m4.2.2.2.2" xref="S6.F4.12.m4.2.2.2.2.cmml"><mi id="S6.F4.12.m4.2.2.2.2.2" xref="S6.F4.12.m4.2.2.2.2.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S6.F4.12.m4.2.2.2.2.1" xref="S6.F4.12.m4.2.2.2.2.1.cmml">â€‹</mo><mi id="S6.F4.12.m4.2.2.2.2.3" xref="S6.F4.12.m4.2.2.2.2.3.cmml">c</mi></mrow><mo stretchy="false" id="S6.F4.12.m4.2.2.2.5" xref="S6.F4.12.m4.2.2.3.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.F4.12.m4.2c"><set id="S6.F4.12.m4.2.2.3.cmml" xref="S6.F4.12.m4.2.2.2"><apply id="S6.F4.12.m4.1.1.1.1.cmml" xref="S6.F4.12.m4.1.1.1.1"><times id="S6.F4.12.m4.1.1.1.1.1.cmml" xref="S6.F4.12.m4.1.1.1.1.1"></times><ci id="S6.F4.12.m4.1.1.1.1.2.cmml" xref="S6.F4.12.m4.1.1.1.1.2">ğ‘</ci><ci id="S6.F4.12.m4.1.1.1.1.3.cmml" xref="S6.F4.12.m4.1.1.1.1.3">ğ‘</ci></apply><apply id="S6.F4.12.m4.2.2.2.2.cmml" xref="S6.F4.12.m4.2.2.2.2"><times id="S6.F4.12.m4.2.2.2.2.1.cmml" xref="S6.F4.12.m4.2.2.2.2.1"></times><ci id="S6.F4.12.m4.2.2.2.2.2.cmml" xref="S6.F4.12.m4.2.2.2.2.2">ğ‘</ci><ci id="S6.F4.12.m4.2.2.2.2.3.cmml" xref="S6.F4.12.m4.2.2.2.2.3">ğ‘</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.12.m4.2d">\{ab,ac\}</annotation></semantics></math> and word-piece vocabulary <math id="S6.F4.13.m5.3" class="ltx_Math" alttext="\{a,b,c\}" display="inline"><semantics id="S6.F4.13.m5.3b"><mrow id="S6.F4.13.m5.3.4.2" xref="S6.F4.13.m5.3.4.1.cmml"><mo stretchy="false" id="S6.F4.13.m5.3.4.2.1" xref="S6.F4.13.m5.3.4.1.cmml">{</mo><mi id="S6.F4.13.m5.1.1" xref="S6.F4.13.m5.1.1.cmml">a</mi><mo id="S6.F4.13.m5.3.4.2.2" xref="S6.F4.13.m5.3.4.1.cmml">,</mo><mi id="S6.F4.13.m5.2.2" xref="S6.F4.13.m5.2.2.cmml">b</mi><mo id="S6.F4.13.m5.3.4.2.3" xref="S6.F4.13.m5.3.4.1.cmml">,</mo><mi id="S6.F4.13.m5.3.3" xref="S6.F4.13.m5.3.3.cmml">c</mi><mo stretchy="false" id="S6.F4.13.m5.3.4.2.4" xref="S6.F4.13.m5.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.F4.13.m5.3c"><set id="S6.F4.13.m5.3.4.1.cmml" xref="S6.F4.13.m5.3.4.2"><ci id="S6.F4.13.m5.1.1.cmml" xref="S6.F4.13.m5.1.1">ğ‘</ci><ci id="S6.F4.13.m5.2.2.cmml" xref="S6.F4.13.m5.2.2">ğ‘</ci><ci id="S6.F4.13.m5.3.3.cmml" xref="S6.F4.13.m5.3.3">ğ‘</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.13.m5.3d">\{a,b,c\}</annotation></semantics></math>.
Initial states are represented by bold circles and final states by double
circles.</figcaption>
</figure>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.4" class="ltx_p">We apply the word-piece approach of <cite class="ltx_cite ltx_citemacro_citet">Kudo (<a href="#bib.bib20" title="" class="ltx_ref">2018</a>)</cite>, which computes a
word-piece unigram LM using a word-piece inventory <math id="S6.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{V_{P}}" display="inline"><semantics id="S6.p2.1.m1.1a"><msub id="S6.p2.1.m1.1.1" xref="S6.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p2.1.m1.1.1.2" xref="S6.p2.1.m1.1.1.2.cmml">ğ’±</mi><mi class="ltx_font_mathcaligraphic" id="S6.p2.1.m1.1.1.3" xref="S6.p2.1.m1.1.1.3.cmml">ğ’«</mi></msub><annotation-xml encoding="MathML-Content" id="S6.p2.1.m1.1b"><apply id="S6.p2.1.m1.1.1.cmml" xref="S6.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S6.p2.1.m1.1.1.1.cmml" xref="S6.p2.1.m1.1.1">subscript</csymbol><ci id="S6.p2.1.m1.1.1.2.cmml" xref="S6.p2.1.m1.1.1.2">ğ’±</ci><ci id="S6.p2.1.m1.1.1.3.cmml" xref="S6.p2.1.m1.1.1.3">ğ’«</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.1.m1.1c">\mathcal{V_{P}}</annotation></semantics></math>. Each
word-piece <math id="S6.p2.2.m2.1" class="ltx_Math" alttext="x_{i}\in\mathcal{V_{P}}" display="inline"><semantics id="S6.p2.2.m2.1a"><mrow id="S6.p2.2.m2.1.1" xref="S6.p2.2.m2.1.1.cmml"><msub id="S6.p2.2.m2.1.1.2" xref="S6.p2.2.m2.1.1.2.cmml"><mi id="S6.p2.2.m2.1.1.2.2" xref="S6.p2.2.m2.1.1.2.2.cmml">x</mi><mi id="S6.p2.2.m2.1.1.2.3" xref="S6.p2.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S6.p2.2.m2.1.1.1" xref="S6.p2.2.m2.1.1.1.cmml">âˆˆ</mo><msub id="S6.p2.2.m2.1.1.3" xref="S6.p2.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p2.2.m2.1.1.3.2" xref="S6.p2.2.m2.1.1.3.2.cmml">ğ’±</mi><mi class="ltx_font_mathcaligraphic" id="S6.p2.2.m2.1.1.3.3" xref="S6.p2.2.m2.1.1.3.3.cmml">ğ’«</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.p2.2.m2.1b"><apply id="S6.p2.2.m2.1.1.cmml" xref="S6.p2.2.m2.1.1"><in id="S6.p2.2.m2.1.1.1.cmml" xref="S6.p2.2.m2.1.1.1"></in><apply id="S6.p2.2.m2.1.1.2.cmml" xref="S6.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S6.p2.2.m2.1.1.2.1.cmml" xref="S6.p2.2.m2.1.1.2">subscript</csymbol><ci id="S6.p2.2.m2.1.1.2.2.cmml" xref="S6.p2.2.m2.1.1.2.2">ğ‘¥</ci><ci id="S6.p2.2.m2.1.1.2.3.cmml" xref="S6.p2.2.m2.1.1.2.3">ğ‘–</ci></apply><apply id="S6.p2.2.m2.1.1.3.cmml" xref="S6.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S6.p2.2.m2.1.1.3.1.cmml" xref="S6.p2.2.m2.1.1.3">subscript</csymbol><ci id="S6.p2.2.m2.1.1.3.2.cmml" xref="S6.p2.2.m2.1.1.3.2">ğ’±</ci><ci id="S6.p2.2.m2.1.1.3.3.cmml" xref="S6.p2.2.m2.1.1.3.3">ğ’«</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.2.m2.1c">x_{i}\in\mathcal{V_{P}}</annotation></semantics></math> is associated with a unigram probability
<math id="S6.p2.3.m3.1" class="ltx_Math" alttext="p(x_{i})" display="inline"><semantics id="S6.p2.3.m3.1a"><mrow id="S6.p2.3.m3.1.1" xref="S6.p2.3.m3.1.1.cmml"><mi id="S6.p2.3.m3.1.1.3" xref="S6.p2.3.m3.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S6.p2.3.m3.1.1.2" xref="S6.p2.3.m3.1.1.2.cmml">â€‹</mo><mrow id="S6.p2.3.m3.1.1.1.1" xref="S6.p2.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S6.p2.3.m3.1.1.1.1.2" xref="S6.p2.3.m3.1.1.1.1.1.cmml">(</mo><msub id="S6.p2.3.m3.1.1.1.1.1" xref="S6.p2.3.m3.1.1.1.1.1.cmml"><mi id="S6.p2.3.m3.1.1.1.1.1.2" xref="S6.p2.3.m3.1.1.1.1.1.2.cmml">x</mi><mi id="S6.p2.3.m3.1.1.1.1.1.3" xref="S6.p2.3.m3.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S6.p2.3.m3.1.1.1.1.3" xref="S6.p2.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p2.3.m3.1b"><apply id="S6.p2.3.m3.1.1.cmml" xref="S6.p2.3.m3.1.1"><times id="S6.p2.3.m3.1.1.2.cmml" xref="S6.p2.3.m3.1.1.2"></times><ci id="S6.p2.3.m3.1.1.3.cmml" xref="S6.p2.3.m3.1.1.3">ğ‘</ci><apply id="S6.p2.3.m3.1.1.1.1.1.cmml" xref="S6.p2.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S6.p2.3.m3.1.1.1.1.1.1.cmml" xref="S6.p2.3.m3.1.1.1.1">subscript</csymbol><ci id="S6.p2.3.m3.1.1.1.1.1.2.cmml" xref="S6.p2.3.m3.1.1.1.1.1.2">ğ‘¥</ci><ci id="S6.p2.3.m3.1.1.1.1.1.3.cmml" xref="S6.p2.3.m3.1.1.1.1.1.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.3.m3.1c">p(x_{i})</annotation></semantics></math>.
For a given word <math id="S6.p2.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S6.p2.4.m4.1a"><mi id="S6.p2.4.m4.1.1" xref="S6.p2.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S6.p2.4.m4.1b"><ci id="S6.p2.4.m4.1.1.cmml" xref="S6.p2.4.m4.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.4.m4.1c">y</annotation></semantics></math> and its possible segmentation candidates,
the word is encoded with the segmentation that assigns the highest probability.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.4" class="ltx_p">Throughout this paper we apply <math id="S6.p3.1.m1.1" class="ltx_Math" alttext="4" display="inline"><semantics id="S6.p3.1.m1.1a"><mn id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="S6.p3.1.m1.1b"><cn type="integer" id="S6.p3.1.m1.1.1.cmml" xref="S6.p3.1.m1.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.1.m1.1c">4</annotation></semantics></math>K, <math id="S6.p3.2.m2.1" class="ltx_Math" alttext="16" display="inline"><semantics id="S6.p3.2.m2.1a"><mn id="S6.p3.2.m2.1.1" xref="S6.p3.2.m2.1.1.cmml">16</mn><annotation-xml encoding="MathML-Content" id="S6.p3.2.m2.1b"><cn type="integer" id="S6.p3.2.m2.1.1.cmml" xref="S6.p3.2.m2.1.1">16</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.2.m2.1c">16</annotation></semantics></math>K, and <math id="S6.p3.3.m3.1" class="ltx_Math" alttext="30" display="inline"><semantics id="S6.p3.3.m3.1a"><mn id="S6.p3.3.m3.1.1" xref="S6.p3.3.m3.1.1.cmml">30</mn><annotation-xml encoding="MathML-Content" id="S6.p3.3.m3.1b"><cn type="integer" id="S6.p3.3.m3.1.1.cmml" xref="S6.p3.3.m3.1.1">30</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.3.m3.1c">30</annotation></semantics></math>K as the word-piece
inventory sizes. These values lie within a range that provides good
trade-off between the LSTM embedding size and the richness of the language
morphology. We apply <math id="S6.p3.4.m4.1" class="ltx_Math" alttext="100\%" display="inline"><semantics id="S6.p3.4.m4.1a"><mrow id="S6.p3.4.m4.1.1" xref="S6.p3.4.m4.1.1.cmml"><mn id="S6.p3.4.m4.1.1.2" xref="S6.p3.4.m4.1.1.2.cmml">100</mn><mo id="S6.p3.4.m4.1.1.1" xref="S6.p3.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.4.m4.1b"><apply id="S6.p3.4.m4.1.1.cmml" xref="S6.p3.4.m4.1.1"><csymbol cd="latexml" id="S6.p3.4.m4.1.1.1.cmml" xref="S6.p3.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S6.p3.4.m4.1.1.2.cmml" xref="S6.p3.4.m4.1.1.2">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.4.m4.1c">100\%</annotation></semantics></math> character coverage to include all the
symbols that appeared in the unigram distribution
(SectionÂ <a href="#S3" title="3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>), including the common English letters,
accented letters e.g. Ã©, Ã´, and digits. Accented letters are important for
languages like Portuguese. For fast decoding, the n-gram models still need to be
at the word-level, since word-piece n-gram models increase the depth of
the beam-search during decoding. We convert the word n-gram topology to an
equivalent word-piece WFA topology and use <span id="S6.p3.4.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰to approximate the neural
word-piece model on the word-piece WFA topology. We then convert the resulting
word-piece WFA LM to the equivalent n-gram LM. The remainder of this section
outlines efficient algorithms for converting between word and word-piece WFA
models.</p>
</div>
<div id="S6.p4" class="ltx_para">
<p id="S6.p4.1" class="ltx_p">A natural way to represent the transduction from word-piece sequences
to word sequences is with a finite-state transducer. Given the properties of our
word-piece representation, that transducer can be made sequential (i.e., input
deterministic).</p>
</div>
<div id="S6.p5" class="ltx_para">
<p id="S6.p5.6" class="ltx_p">A <span id="S6.p5.6.1" class="ltx_text ltx_font_italic">sequential weighted finite-state transducer</span> (WFST) is a deterministic
WFA where each transition has an output label in addition to its (input) label
and weight. We will denote by <math id="S6.p5.1.m1.1" class="ltx_Math" alttext="o_{q}[x]" display="inline"><semantics id="S6.p5.1.m1.1a"><mrow id="S6.p5.1.m1.1.2" xref="S6.p5.1.m1.1.2.cmml"><msub id="S6.p5.1.m1.1.2.2" xref="S6.p5.1.m1.1.2.2.cmml"><mi id="S6.p5.1.m1.1.2.2.2" xref="S6.p5.1.m1.1.2.2.2.cmml">o</mi><mi id="S6.p5.1.m1.1.2.2.3" xref="S6.p5.1.m1.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S6.p5.1.m1.1.2.1" xref="S6.p5.1.m1.1.2.1.cmml">â€‹</mo><mrow id="S6.p5.1.m1.1.2.3.2" xref="S6.p5.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="S6.p5.1.m1.1.2.3.2.1" xref="S6.p5.1.m1.1.2.3.1.1.cmml">[</mo><mi id="S6.p5.1.m1.1.1" xref="S6.p5.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S6.p5.1.m1.1.2.3.2.2" xref="S6.p5.1.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p5.1.m1.1b"><apply id="S6.p5.1.m1.1.2.cmml" xref="S6.p5.1.m1.1.2"><times id="S6.p5.1.m1.1.2.1.cmml" xref="S6.p5.1.m1.1.2.1"></times><apply id="S6.p5.1.m1.1.2.2.cmml" xref="S6.p5.1.m1.1.2.2"><csymbol cd="ambiguous" id="S6.p5.1.m1.1.2.2.1.cmml" xref="S6.p5.1.m1.1.2.2">subscript</csymbol><ci id="S6.p5.1.m1.1.2.2.2.cmml" xref="S6.p5.1.m1.1.2.2.2">ğ‘œ</ci><ci id="S6.p5.1.m1.1.2.2.3.cmml" xref="S6.p5.1.m1.1.2.2.3">ğ‘</ci></apply><apply id="S6.p5.1.m1.1.2.3.1.cmml" xref="S6.p5.1.m1.1.2.3.2"><csymbol cd="latexml" id="S6.p5.1.m1.1.2.3.1.1.cmml" xref="S6.p5.1.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S6.p5.1.m1.1.1.cmml" xref="S6.p5.1.m1.1.1">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.1.m1.1c">o_{q}[x]</annotation></semantics></math> the output label of the transition at
state <math id="S6.p5.2.m2.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S6.p5.2.m2.1a"><mi id="S6.p5.2.m2.1.1" xref="S6.p5.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S6.p5.2.m2.1b"><ci id="S6.p5.2.m2.1.1.cmml" xref="S6.p5.2.m2.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.2.m2.1c">q</annotation></semantics></math> with input label <math id="S6.p5.3.m3.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S6.p5.3.m3.1a"><mi id="S6.p5.3.m3.1.1" xref="S6.p5.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S6.p5.3.m3.1b"><ci id="S6.p5.3.m3.1.1.cmml" xref="S6.p5.3.m3.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.3.m3.1c">x</annotation></semantics></math>, <math id="S6.p5.4.m4.2" class="ltx_Math" alttext="o_{q}[x]\in\Delta\cup\{\epsilon\}" display="inline"><semantics id="S6.p5.4.m4.2a"><mrow id="S6.p5.4.m4.2.3" xref="S6.p5.4.m4.2.3.cmml"><mrow id="S6.p5.4.m4.2.3.2" xref="S6.p5.4.m4.2.3.2.cmml"><msub id="S6.p5.4.m4.2.3.2.2" xref="S6.p5.4.m4.2.3.2.2.cmml"><mi id="S6.p5.4.m4.2.3.2.2.2" xref="S6.p5.4.m4.2.3.2.2.2.cmml">o</mi><mi id="S6.p5.4.m4.2.3.2.2.3" xref="S6.p5.4.m4.2.3.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S6.p5.4.m4.2.3.2.1" xref="S6.p5.4.m4.2.3.2.1.cmml">â€‹</mo><mrow id="S6.p5.4.m4.2.3.2.3.2" xref="S6.p5.4.m4.2.3.2.3.1.cmml"><mo stretchy="false" id="S6.p5.4.m4.2.3.2.3.2.1" xref="S6.p5.4.m4.2.3.2.3.1.1.cmml">[</mo><mi id="S6.p5.4.m4.1.1" xref="S6.p5.4.m4.1.1.cmml">x</mi><mo stretchy="false" id="S6.p5.4.m4.2.3.2.3.2.2" xref="S6.p5.4.m4.2.3.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.p5.4.m4.2.3.1" xref="S6.p5.4.m4.2.3.1.cmml">âˆˆ</mo><mrow id="S6.p5.4.m4.2.3.3" xref="S6.p5.4.m4.2.3.3.cmml"><mi mathvariant="normal" id="S6.p5.4.m4.2.3.3.2" xref="S6.p5.4.m4.2.3.3.2.cmml">Î”</mi><mo id="S6.p5.4.m4.2.3.3.1" xref="S6.p5.4.m4.2.3.3.1.cmml">âˆª</mo><mrow id="S6.p5.4.m4.2.3.3.3.2" xref="S6.p5.4.m4.2.3.3.3.1.cmml"><mo stretchy="false" id="S6.p5.4.m4.2.3.3.3.2.1" xref="S6.p5.4.m4.2.3.3.3.1.cmml">{</mo><mi id="S6.p5.4.m4.2.2" xref="S6.p5.4.m4.2.2.cmml">Ïµ</mi><mo stretchy="false" id="S6.p5.4.m4.2.3.3.3.2.2" xref="S6.p5.4.m4.2.3.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p5.4.m4.2b"><apply id="S6.p5.4.m4.2.3.cmml" xref="S6.p5.4.m4.2.3"><in id="S6.p5.4.m4.2.3.1.cmml" xref="S6.p5.4.m4.2.3.1"></in><apply id="S6.p5.4.m4.2.3.2.cmml" xref="S6.p5.4.m4.2.3.2"><times id="S6.p5.4.m4.2.3.2.1.cmml" xref="S6.p5.4.m4.2.3.2.1"></times><apply id="S6.p5.4.m4.2.3.2.2.cmml" xref="S6.p5.4.m4.2.3.2.2"><csymbol cd="ambiguous" id="S6.p5.4.m4.2.3.2.2.1.cmml" xref="S6.p5.4.m4.2.3.2.2">subscript</csymbol><ci id="S6.p5.4.m4.2.3.2.2.2.cmml" xref="S6.p5.4.m4.2.3.2.2.2">ğ‘œ</ci><ci id="S6.p5.4.m4.2.3.2.2.3.cmml" xref="S6.p5.4.m4.2.3.2.2.3">ğ‘</ci></apply><apply id="S6.p5.4.m4.2.3.2.3.1.cmml" xref="S6.p5.4.m4.2.3.2.3.2"><csymbol cd="latexml" id="S6.p5.4.m4.2.3.2.3.1.1.cmml" xref="S6.p5.4.m4.2.3.2.3.2.1">delimited-[]</csymbol><ci id="S6.p5.4.m4.1.1.cmml" xref="S6.p5.4.m4.1.1">ğ‘¥</ci></apply></apply><apply id="S6.p5.4.m4.2.3.3.cmml" xref="S6.p5.4.m4.2.3.3"><union id="S6.p5.4.m4.2.3.3.1.cmml" xref="S6.p5.4.m4.2.3.3.1"></union><ci id="S6.p5.4.m4.2.3.3.2.cmml" xref="S6.p5.4.m4.2.3.3.2">Î”</ci><set id="S6.p5.4.m4.2.3.3.3.1.cmml" xref="S6.p5.4.m4.2.3.3.3.2"><ci id="S6.p5.4.m4.2.2.cmml" xref="S6.p5.4.m4.2.2">italic-Ïµ</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.4.m4.2c">o_{q}[x]\in\Delta\cup\{\epsilon\}</annotation></semantics></math>, where
<math id="S6.p5.5.m5.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S6.p5.5.m5.1a"><mi mathvariant="normal" id="S6.p5.5.m5.1.1" xref="S6.p5.5.m5.1.1.cmml">Î”</mi><annotation-xml encoding="MathML-Content" id="S6.p5.5.m5.1b"><ci id="S6.p5.5.m5.1.1.cmml" xref="S6.p5.5.m5.1.1">Î”</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.5.m5.1c">\Delta</annotation></semantics></math> denotes the output alphabet of the transducer and <math id="S6.p5.6.m6.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S6.p5.6.m6.1a"><mi id="S6.p5.6.m6.1.1" xref="S6.p5.6.m6.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S6.p5.6.m6.1b"><ci id="S6.p5.6.m6.1.1.cmml" xref="S6.p5.6.m6.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p5.6.m6.1c">\epsilon</annotation></semantics></math> the
empty string/sequence.</p>
</div>
<div id="S6.p6" class="ltx_para">
<p id="S6.p6.6" class="ltx_p">Let <math id="S6.p6.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S6.p6.1.m1.1a"><mi id="S6.p6.1.m1.1.1" xref="S6.p6.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S6.p6.1.m1.1b"><ci id="S6.p6.1.m1.1.1.cmml" xref="S6.p6.1.m1.1.1">ğ‘€</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.1.m1.1c">M</annotation></semantics></math> be the minimal sequential (unweighted) finite-state transducer (FST)
lexicon from word-piece sequences in <math id="S6.p6.2.m2.1" class="ltx_Math" alttext="\Sigma^{*}" display="inline"><semantics id="S6.p6.2.m2.1a"><msup id="S6.p6.2.m2.1.1" xref="S6.p6.2.m2.1.1.cmml"><mi mathvariant="normal" id="S6.p6.2.m2.1.1.2" xref="S6.p6.2.m2.1.1.2.cmml">Î£</mi><mo id="S6.p6.2.m2.1.1.3" xref="S6.p6.2.m2.1.1.3.cmml">âˆ—</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p6.2.m2.1b"><apply id="S6.p6.2.m2.1.1.cmml" xref="S6.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S6.p6.2.m2.1.1.1.cmml" xref="S6.p6.2.m2.1.1">superscript</csymbol><ci id="S6.p6.2.m2.1.1.2.cmml" xref="S6.p6.2.m2.1.1.2">Î£</ci><times id="S6.p6.2.m2.1.1.3.cmml" xref="S6.p6.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.2.m2.1c">\Sigma^{*}</annotation></semantics></math> to word sequences in <math id="S6.p6.3.m3.1" class="ltx_Math" alttext="\Delta^{*}" display="inline"><semantics id="S6.p6.3.m3.1a"><msup id="S6.p6.3.m3.1.1" xref="S6.p6.3.m3.1.1.cmml"><mi mathvariant="normal" id="S6.p6.3.m3.1.1.2" xref="S6.p6.3.m3.1.1.2.cmml">Î”</mi><mo id="S6.p6.3.m3.1.1.3" xref="S6.p6.3.m3.1.1.3.cmml">âˆ—</mo></msup><annotation-xml encoding="MathML-Content" id="S6.p6.3.m3.1b"><apply id="S6.p6.3.m3.1.1.cmml" xref="S6.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S6.p6.3.m3.1.1.1.cmml" xref="S6.p6.3.m3.1.1">superscript</csymbol><ci id="S6.p6.3.m3.1.1.2.cmml" xref="S6.p6.3.m3.1.1.2">Î”</ci><times id="S6.p6.3.m3.1.1.3.cmml" xref="S6.p6.3.m3.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.3.m3.1c">\Delta^{*}</annotation></semantics></math>,
where <math id="S6.p6.4.m4.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S6.p6.4.m4.1a"><mi mathvariant="normal" id="S6.p6.4.m4.1.1" xref="S6.p6.4.m4.1.1.cmml">Î£</mi><annotation-xml encoding="MathML-Content" id="S6.p6.4.m4.1b"><ci id="S6.p6.4.m4.1.1.cmml" xref="S6.p6.4.m4.1.1">Î£</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.4.m4.1c">\Sigma</annotation></semantics></math> denotes our word-piece inventory, <math id="S6.p6.5.m5.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S6.p6.5.m5.1a"><mi mathvariant="normal" id="S6.p6.5.m5.1.1" xref="S6.p6.5.m5.1.1.cmml">Î”</mi><annotation-xml encoding="MathML-Content" id="S6.p6.5.m5.1b"><ci id="S6.p6.5.m5.1.1.cmml" xref="S6.p6.5.m5.1.1">Î”</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.5.m5.1c">\Delta</annotation></semantics></math> denotes our
vocabulary, and <math id="S6.p6.6.m6.1" class="ltx_Math" alttext="*" display="inline"><semantics id="S6.p6.6.m6.1a"><mo id="S6.p6.6.m6.1.1" xref="S6.p6.6.m6.1.1.cmml">âˆ—</mo><annotation-xml encoding="MathML-Content" id="S6.p6.6.m6.1b"><times id="S6.p6.6.m6.1.1.cmml" xref="S6.p6.6.m6.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.6.m6.1c">*</annotation></semantics></math> is Kleene closure.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Approximating a Neural Model as an N-Gram with a Supplemental
Topology.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.3" class="ltx_listing ltx_figure_panel ltx_minipage ltx_align_top ltx_listing" style="width:223.1pt;">
<div id="algx1.l1" class="ltx_listingline">Train <math id="algx1.l1.m1.1" class="ltx_Math" alttext="R_{W}^{u}" display="inline"><semantics id="algx1.l1.m1.1a"><msubsup id="algx1.l1.m1.1.1" xref="algx1.l1.m1.1.1.cmml"><mi id="algx1.l1.m1.1.1.2.2" xref="algx1.l1.m1.1.1.2.2.cmml">R</mi><mi id="algx1.l1.m1.1.1.2.3" xref="algx1.l1.m1.1.1.2.3.cmml">W</mi><mi id="algx1.l1.m1.1.1.3" xref="algx1.l1.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx1.l1.m1.1b"><apply id="algx1.l1.m1.1.1.cmml" xref="algx1.l1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l1.m1.1.1.1.cmml" xref="algx1.l1.m1.1.1">superscript</csymbol><apply id="algx1.l1.m1.1.1.2.cmml" xref="algx1.l1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l1.m1.1.1.2.1.cmml" xref="algx1.l1.m1.1.1">subscript</csymbol><ci id="algx1.l1.m1.1.1.2.2.cmml" xref="algx1.l1.m1.1.1.2.2">ğ‘…</ci><ci id="algx1.l1.m1.1.1.2.3.cmml" xref="algx1.l1.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx1.l1.m1.1.1.3.cmml" xref="algx1.l1.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m1.1c">R_{W}^{u}</annotation></semantics></math>, <math id="algx1.l1.m2.1" class="ltx_Math" alttext="R_{P}^{u}" display="inline"><semantics id="algx1.l1.m2.1a"><msubsup id="algx1.l1.m2.1.1" xref="algx1.l1.m2.1.1.cmml"><mi id="algx1.l1.m2.1.1.2.2" xref="algx1.l1.m2.1.1.2.2.cmml">R</mi><mi id="algx1.l1.m2.1.1.2.3" xref="algx1.l1.m2.1.1.2.3.cmml">P</mi><mi id="algx1.l1.m2.1.1.3" xref="algx1.l1.m2.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx1.l1.m2.1b"><apply id="algx1.l1.m2.1.1.cmml" xref="algx1.l1.m2.1.1"><csymbol cd="ambiguous" id="algx1.l1.m2.1.1.1.cmml" xref="algx1.l1.m2.1.1">superscript</csymbol><apply id="algx1.l1.m2.1.1.2.cmml" xref="algx1.l1.m2.1.1"><csymbol cd="ambiguous" id="algx1.l1.m2.1.1.2.1.cmml" xref="algx1.l1.m2.1.1">subscript</csymbol><ci id="algx1.l1.m2.1.1.2.2.cmml" xref="algx1.l1.m2.1.1.2.2">ğ‘…</ci><ci id="algx1.l1.m2.1.1.2.3.cmml" xref="algx1.l1.m2.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx1.l1.m2.1.1.3.cmml" xref="algx1.l1.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m2.1c">R_{P}^{u}</annotation></semantics></math> with <span id="algx1.l1.1" class="ltx_text ltx_font_typewriter">FederatedAveraging<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note"><span id="footnote2.1.1.1" class="ltx_text ltx_font_serif">2</span></span><span id="footnote2.5" class="ltx_text ltx_font_serif">
</span><math id="footnote2.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="footnote2.m1.1b"><mi id="footnote2.m1.1.1" xref="footnote2.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="footnote2.m1.1c"><ci id="footnote2.m1.1.1.cmml" xref="footnote2.m1.1.1">ğ‘‡</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m1.1d">T</annotation></semantics></math><span id="footnote2.6" class="ltx_text ltx_font_serif"> denotes an unweighted topology and </span><math id="footnote2.m2.1" class="ltx_Math" alttext="A" display="inline"><semantics id="footnote2.m2.1b"><mi id="footnote2.m2.1.1" xref="footnote2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="footnote2.m2.1c"><ci id="footnote2.m2.1.1.cmml" xref="footnote2.m2.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m2.1d">A</annotation></semantics></math><span id="footnote2.7" class="ltx_text ltx_font_serif"> denotes the weighted n-gram model.
Superscript </span><math id="footnote2.m3.1" class="ltx_Math" alttext="u" display="inline"><semantics id="footnote2.m3.1b"><mi id="footnote2.m3.1.1" xref="footnote2.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="footnote2.m3.1c"><ci id="footnote2.m3.1.1.cmml" xref="footnote2.m3.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m3.1d">u</annotation></semantics></math><span id="footnote2.8" class="ltx_text ltx_font_serif"> represents uncased models.</span></span></span></span></span>

</div>
<div id="algx1.l2" class="ltx_listingline">Train <math id="algx1.l2.m1.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx1.l2.m1.1a"><msub id="algx1.l2.m1.1.1" xref="algx1.l2.m1.1.1.cmml"><mi id="algx1.l2.m1.1.1.2" xref="algx1.l2.m1.1.1.2.cmml">A</mi><mi id="algx1.l2.m1.1.1.3" xref="algx1.l2.m1.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.m1.1b"><apply id="algx1.l2.m1.1.1.cmml" xref="algx1.l2.m1.1.1"><csymbol cd="ambiguous" id="algx1.l2.m1.1.1.1.cmml" xref="algx1.l2.m1.1.1">subscript</csymbol><ci id="algx1.l2.m1.1.1.2.cmml" xref="algx1.l2.m1.1.1.2">ğ´</ci><ci id="algx1.l2.m1.1.1.3.cmml" xref="algx1.l2.m1.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m1.1c">A_{W}</annotation></semantics></math> from supplemental corpus <math id="algx1.l2.m2.1" class="ltx_Math" alttext="\mathbb{C}" display="inline"><semantics id="algx1.l2.m2.1a"><mi id="algx1.l2.m2.1.1" xref="algx1.l2.m2.1.1.cmml">â„‚</mi><annotation-xml encoding="MathML-Content" id="algx1.l2.m2.1b"><ci id="algx1.l2.m2.1.1.cmml" xref="algx1.l2.m2.1.1">â„‚</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m2.1c">\mathbb{C}</annotation></semantics></math>

</div>
<div id="algx1.l3" class="ltx_listingline">
<math id="algx1.l3.m1.1" class="ltx_Math" alttext="A_{W_{e}}" display="inline"><semantics id="algx1.l3.m1.1a"><msub id="algx1.l3.m1.1.1" xref="algx1.l3.m1.1.1.cmml"><mi id="algx1.l3.m1.1.1.2" xref="algx1.l3.m1.1.1.2.cmml">A</mi><msub id="algx1.l3.m1.1.1.3" xref="algx1.l3.m1.1.1.3.cmml"><mi id="algx1.l3.m1.1.1.3.2" xref="algx1.l3.m1.1.1.3.2.cmml">W</mi><mi id="algx1.l3.m1.1.1.3.3" xref="algx1.l3.m1.1.1.3.3.cmml">e</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l3.m1.1b"><apply id="algx1.l3.m1.1.1.cmml" xref="algx1.l3.m1.1.1"><csymbol cd="ambiguous" id="algx1.l3.m1.1.1.1.cmml" xref="algx1.l3.m1.1.1">subscript</csymbol><ci id="algx1.l3.m1.1.1.2.cmml" xref="algx1.l3.m1.1.1.2">ğ´</ci><apply id="algx1.l3.m1.1.1.3.cmml" xref="algx1.l3.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l3.m1.1.1.3.1.cmml" xref="algx1.l3.m1.1.1.3">subscript</csymbol><ci id="algx1.l3.m1.1.1.3.2.cmml" xref="algx1.l3.m1.1.1.3.2">ğ‘Š</ci><ci id="algx1.l3.m1.1.1.3.3.cmml" xref="algx1.l3.m1.1.1.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m1.1c">A_{W_{e}}</annotation></semantics></math>,<math id="algx1.l3.m2.1" class="ltx_Math" alttext="A_{W_{i}}" display="inline"><semantics id="algx1.l3.m2.1a"><msub id="algx1.l3.m2.1.1" xref="algx1.l3.m2.1.1.cmml"><mi id="algx1.l3.m2.1.1.2" xref="algx1.l3.m2.1.1.2.cmml">A</mi><msub id="algx1.l3.m2.1.1.3" xref="algx1.l3.m2.1.1.3.cmml"><mi id="algx1.l3.m2.1.1.3.2" xref="algx1.l3.m2.1.1.3.2.cmml">W</mi><mi id="algx1.l3.m2.1.1.3.3" xref="algx1.l3.m2.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l3.m2.1b"><apply id="algx1.l3.m2.1.1.cmml" xref="algx1.l3.m2.1.1"><csymbol cd="ambiguous" id="algx1.l3.m2.1.1.1.cmml" xref="algx1.l3.m2.1.1">subscript</csymbol><ci id="algx1.l3.m2.1.1.2.cmml" xref="algx1.l3.m2.1.1.2">ğ´</ci><apply id="algx1.l3.m2.1.1.3.cmml" xref="algx1.l3.m2.1.1.3"><csymbol cd="ambiguous" id="algx1.l3.m2.1.1.3.1.cmml" xref="algx1.l3.m2.1.1.3">subscript</csymbol><ci id="algx1.l3.m2.1.1.3.2.cmml" xref="algx1.l3.m2.1.1.3.2">ğ‘Š</ci><ci id="algx1.l3.m2.1.1.3.3.cmml" xref="algx1.l3.m2.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m2.1c">A_{W_{i}}</annotation></semantics></math>,<math id="algx1.l3.m3.1" class="ltx_Math" alttext="A_{W_{m}}" display="inline"><semantics id="algx1.l3.m3.1a"><msub id="algx1.l3.m3.1.1" xref="algx1.l3.m3.1.1.cmml"><mi id="algx1.l3.m3.1.1.2" xref="algx1.l3.m3.1.1.2.cmml">A</mi><msub id="algx1.l3.m3.1.1.3" xref="algx1.l3.m3.1.1.3.cmml"><mi id="algx1.l3.m3.1.1.3.2" xref="algx1.l3.m3.1.1.3.2.cmml">W</mi><mi id="algx1.l3.m3.1.1.3.3" xref="algx1.l3.m3.1.1.3.3.cmml">m</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l3.m3.1b"><apply id="algx1.l3.m3.1.1.cmml" xref="algx1.l3.m3.1.1"><csymbol cd="ambiguous" id="algx1.l3.m3.1.1.1.cmml" xref="algx1.l3.m3.1.1">subscript</csymbol><ci id="algx1.l3.m3.1.1.2.cmml" xref="algx1.l3.m3.1.1.2">ğ´</ci><apply id="algx1.l3.m3.1.1.3.cmml" xref="algx1.l3.m3.1.1.3"><csymbol cd="ambiguous" id="algx1.l3.m3.1.1.3.1.cmml" xref="algx1.l3.m3.1.1.3">subscript</csymbol><ci id="algx1.l3.m3.1.1.3.2.cmml" xref="algx1.l3.m3.1.1.3.2">ğ‘Š</ci><ci id="algx1.l3.m3.1.1.3.3.cmml" xref="algx1.l3.m3.1.1.3.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m3.1c">A_{W_{m}}</annotation></semantics></math>,<math id="algx1.l3.m4.1" class="ltx_Math" alttext="A_{W_{r}}" display="inline"><semantics id="algx1.l3.m4.1a"><msub id="algx1.l3.m4.1.1" xref="algx1.l3.m4.1.1.cmml"><mi id="algx1.l3.m4.1.1.2" xref="algx1.l3.m4.1.1.2.cmml">A</mi><msub id="algx1.l3.m4.1.1.3" xref="algx1.l3.m4.1.1.3.cmml"><mi id="algx1.l3.m4.1.1.3.2" xref="algx1.l3.m4.1.1.3.2.cmml">W</mi><mi id="algx1.l3.m4.1.1.3.3" xref="algx1.l3.m4.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l3.m4.1b"><apply id="algx1.l3.m4.1.1.cmml" xref="algx1.l3.m4.1.1"><csymbol cd="ambiguous" id="algx1.l3.m4.1.1.1.cmml" xref="algx1.l3.m4.1.1">subscript</csymbol><ci id="algx1.l3.m4.1.1.2.cmml" xref="algx1.l3.m4.1.1.2">ğ´</ci><apply id="algx1.l3.m4.1.1.3.cmml" xref="algx1.l3.m4.1.1.3"><csymbol cd="ambiguous" id="algx1.l3.m4.1.1.3.1.cmml" xref="algx1.l3.m4.1.1.3">subscript</csymbol><ci id="algx1.l3.m4.1.1.3.2.cmml" xref="algx1.l3.m4.1.1.3.2">ğ‘Š</ci><ci id="algx1.l3.m4.1.1.3.3.cmml" xref="algx1.l3.m4.1.1.3.3">ğ‘Ÿ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m4.1c">A_{W_{r}}</annotation></semantics></math> <math id="algx1.l3.m5.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l3.m5.1a"><mo stretchy="false" id="algx1.l3.m5.1.1" xref="algx1.l3.m5.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l3.m5.1b"><ci id="algx1.l3.m5.1.1.cmml" xref="algx1.l3.m5.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m5.1c">\leftarrow</annotation></semantics></math> <math id="algx1.l3.m6.1" class="ltx_math_unparsed" alttext="\text{Gen}(R_{W}^{u},A_{W},\o,\text{NN2WFA\,}_{\text{W}}" display="inline"><semantics id="algx1.l3.m6.1a"><mrow id="algx1.l3.m6.1b"><mtext id="algx1.l3.m6.1.2">Gen</mtext><mrow id="algx1.l3.m6.1.3"><mo stretchy="false" id="algx1.l3.m6.1.3.1">(</mo><msubsup id="algx1.l3.m6.1.3.2"><mi id="algx1.l3.m6.1.3.2.2.2">R</mi><mi id="algx1.l3.m6.1.3.2.2.3">W</mi><mi id="algx1.l3.m6.1.3.2.3">u</mi></msubsup><mo id="algx1.l3.m6.1.3.3">,</mo><msub id="algx1.l3.m6.1.3.4"><mi id="algx1.l3.m6.1.3.4.2">A</mi><mi id="algx1.l3.m6.1.3.4.3">W</mi></msub><mo id="algx1.l3.m6.1.3.5">,</mo><mi id="algx1.l3.m6.1.1">Ã¸</mi><mo id="algx1.l3.m6.1.3.6">,</mo><msub id="algx1.l3.m6.1.3.7"><mtext id="algx1.l3.m6.1.3.7.2">NN2WFAÂ </mtext><mtext id="algx1.l3.m6.1.3.7.3">W</mtext></msub></mrow></mrow><annotation encoding="application/x-tex" id="algx1.l3.m6.1c">\text{Gen}(R_{W}^{u},A_{W},\o,\text{NN2WFA\,}_{\text{W}}</annotation></semantics></math>)

</div>
<div id="algx1.l4" class="ltx_listingline">
<math id="algx1.l4.m1.1" class="ltx_Math" alttext="A_{P_{e}}" display="inline"><semantics id="algx1.l4.m1.1a"><msub id="algx1.l4.m1.1.1" xref="algx1.l4.m1.1.1.cmml"><mi id="algx1.l4.m1.1.1.2" xref="algx1.l4.m1.1.1.2.cmml">A</mi><msub id="algx1.l4.m1.1.1.3" xref="algx1.l4.m1.1.1.3.cmml"><mi id="algx1.l4.m1.1.1.3.2" xref="algx1.l4.m1.1.1.3.2.cmml">P</mi><mi id="algx1.l4.m1.1.1.3.3" xref="algx1.l4.m1.1.1.3.3.cmml">e</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m1.1b"><apply id="algx1.l4.m1.1.1.cmml" xref="algx1.l4.m1.1.1"><csymbol cd="ambiguous" id="algx1.l4.m1.1.1.1.cmml" xref="algx1.l4.m1.1.1">subscript</csymbol><ci id="algx1.l4.m1.1.1.2.cmml" xref="algx1.l4.m1.1.1.2">ğ´</ci><apply id="algx1.l4.m1.1.1.3.cmml" xref="algx1.l4.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l4.m1.1.1.3.1.cmml" xref="algx1.l4.m1.1.1.3">subscript</csymbol><ci id="algx1.l4.m1.1.1.3.2.cmml" xref="algx1.l4.m1.1.1.3.2">ğ‘ƒ</ci><ci id="algx1.l4.m1.1.1.3.3.cmml" xref="algx1.l4.m1.1.1.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m1.1c">A_{P_{e}}</annotation></semantics></math>,<math id="algx1.l4.m2.1" class="ltx_Math" alttext="A_{P_{i}}" display="inline"><semantics id="algx1.l4.m2.1a"><msub id="algx1.l4.m2.1.1" xref="algx1.l4.m2.1.1.cmml"><mi id="algx1.l4.m2.1.1.2" xref="algx1.l4.m2.1.1.2.cmml">A</mi><msub id="algx1.l4.m2.1.1.3" xref="algx1.l4.m2.1.1.3.cmml"><mi id="algx1.l4.m2.1.1.3.2" xref="algx1.l4.m2.1.1.3.2.cmml">P</mi><mi id="algx1.l4.m2.1.1.3.3" xref="algx1.l4.m2.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m2.1b"><apply id="algx1.l4.m2.1.1.cmml" xref="algx1.l4.m2.1.1"><csymbol cd="ambiguous" id="algx1.l4.m2.1.1.1.cmml" xref="algx1.l4.m2.1.1">subscript</csymbol><ci id="algx1.l4.m2.1.1.2.cmml" xref="algx1.l4.m2.1.1.2">ğ´</ci><apply id="algx1.l4.m2.1.1.3.cmml" xref="algx1.l4.m2.1.1.3"><csymbol cd="ambiguous" id="algx1.l4.m2.1.1.3.1.cmml" xref="algx1.l4.m2.1.1.3">subscript</csymbol><ci id="algx1.l4.m2.1.1.3.2.cmml" xref="algx1.l4.m2.1.1.3.2">ğ‘ƒ</ci><ci id="algx1.l4.m2.1.1.3.3.cmml" xref="algx1.l4.m2.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m2.1c">A_{P_{i}}</annotation></semantics></math>,<math id="algx1.l4.m3.1" class="ltx_Math" alttext="A_{P_{m}}" display="inline"><semantics id="algx1.l4.m3.1a"><msub id="algx1.l4.m3.1.1" xref="algx1.l4.m3.1.1.cmml"><mi id="algx1.l4.m3.1.1.2" xref="algx1.l4.m3.1.1.2.cmml">A</mi><msub id="algx1.l4.m3.1.1.3" xref="algx1.l4.m3.1.1.3.cmml"><mi id="algx1.l4.m3.1.1.3.2" xref="algx1.l4.m3.1.1.3.2.cmml">P</mi><mi id="algx1.l4.m3.1.1.3.3" xref="algx1.l4.m3.1.1.3.3.cmml">m</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m3.1b"><apply id="algx1.l4.m3.1.1.cmml" xref="algx1.l4.m3.1.1"><csymbol cd="ambiguous" id="algx1.l4.m3.1.1.1.cmml" xref="algx1.l4.m3.1.1">subscript</csymbol><ci id="algx1.l4.m3.1.1.2.cmml" xref="algx1.l4.m3.1.1.2">ğ´</ci><apply id="algx1.l4.m3.1.1.3.cmml" xref="algx1.l4.m3.1.1.3"><csymbol cd="ambiguous" id="algx1.l4.m3.1.1.3.1.cmml" xref="algx1.l4.m3.1.1.3">subscript</csymbol><ci id="algx1.l4.m3.1.1.3.2.cmml" xref="algx1.l4.m3.1.1.3.2">ğ‘ƒ</ci><ci id="algx1.l4.m3.1.1.3.3.cmml" xref="algx1.l4.m3.1.1.3.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m3.1c">A_{P_{m}}</annotation></semantics></math>,<math id="algx1.l4.m4.1" class="ltx_Math" alttext="A_{P_{r}}" display="inline"><semantics id="algx1.l4.m4.1a"><msub id="algx1.l4.m4.1.1" xref="algx1.l4.m4.1.1.cmml"><mi id="algx1.l4.m4.1.1.2" xref="algx1.l4.m4.1.1.2.cmml">A</mi><msub id="algx1.l4.m4.1.1.3" xref="algx1.l4.m4.1.1.3.cmml"><mi id="algx1.l4.m4.1.1.3.2" xref="algx1.l4.m4.1.1.3.2.cmml">P</mi><mi id="algx1.l4.m4.1.1.3.3" xref="algx1.l4.m4.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m4.1b"><apply id="algx1.l4.m4.1.1.cmml" xref="algx1.l4.m4.1.1"><csymbol cd="ambiguous" id="algx1.l4.m4.1.1.1.cmml" xref="algx1.l4.m4.1.1">subscript</csymbol><ci id="algx1.l4.m4.1.1.2.cmml" xref="algx1.l4.m4.1.1.2">ğ´</ci><apply id="algx1.l4.m4.1.1.3.cmml" xref="algx1.l4.m4.1.1.3"><csymbol cd="ambiguous" id="algx1.l4.m4.1.1.3.1.cmml" xref="algx1.l4.m4.1.1.3">subscript</csymbol><ci id="algx1.l4.m4.1.1.3.2.cmml" xref="algx1.l4.m4.1.1.3.2">ğ‘ƒ</ci><ci id="algx1.l4.m4.1.1.3.3.cmml" xref="algx1.l4.m4.1.1.3.3">ğ‘Ÿ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m4.1c">A_{P_{r}}</annotation></semantics></math> <math id="algx1.l4.m5.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l4.m5.1a"><mo stretchy="false" id="algx1.l4.m5.1.1" xref="algx1.l4.m5.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l4.m5.1b"><ci id="algx1.l4.m5.1.1.cmml" xref="algx1.l4.m5.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m5.1c">\leftarrow</annotation></semantics></math> <math id="algx1.l4.m6.1" class="ltx_math_unparsed" alttext="\text{Gen}(R_{P}^{u},A_{W},A_{W_{i}},\text{NN2WFA\,}_{\text{P}}" display="inline"><semantics id="algx1.l4.m6.1a"><mrow id="algx1.l4.m6.1b"><mtext id="algx1.l4.m6.1.1">Gen</mtext><mrow id="algx1.l4.m6.1.2"><mo stretchy="false" id="algx1.l4.m6.1.2.1">(</mo><msubsup id="algx1.l4.m6.1.2.2"><mi id="algx1.l4.m6.1.2.2.2.2">R</mi><mi id="algx1.l4.m6.1.2.2.2.3">P</mi><mi id="algx1.l4.m6.1.2.2.3">u</mi></msubsup><mo id="algx1.l4.m6.1.2.3">,</mo><msub id="algx1.l4.m6.1.2.4"><mi id="algx1.l4.m6.1.2.4.2">A</mi><mi id="algx1.l4.m6.1.2.4.3">W</mi></msub><mo id="algx1.l4.m6.1.2.5">,</mo><msub id="algx1.l4.m6.1.2.6"><mi id="algx1.l4.m6.1.2.6.2">A</mi><msub id="algx1.l4.m6.1.2.6.3"><mi id="algx1.l4.m6.1.2.6.3.2">W</mi><mi id="algx1.l4.m6.1.2.6.3.3">i</mi></msub></msub><mo id="algx1.l4.m6.1.2.7">,</mo><msub id="algx1.l4.m6.1.2.8"><mtext id="algx1.l4.m6.1.2.8.2">NN2WFAÂ </mtext><mtext id="algx1.l4.m6.1.2.8.3">P</mtext></msub></mrow></mrow><annotation encoding="application/x-tex" id="algx1.l4.m6.1c">\text{Gen}(R_{P}^{u},A_{W},A_{W_{i}},\text{NN2WFA\,}_{\text{P}}</annotation></semantics></math>)

</div>
<div id="algx1.l5" class="ltx_listingline">
</div>
<div id="algx1.l6" class="ltx_listingline">
<span id="algx1.l6.1" class="ltx_text ltx_font_bold">function</span>Â Gen(<math id="algx1.l6.m1.1" class="ltx_Math" alttext="R^{u}" display="inline"><semantics id="algx1.l6.m1.1a"><msup id="algx1.l6.m1.1.1" xref="algx1.l6.m1.1.1.cmml"><mi id="algx1.l6.m1.1.1.2" xref="algx1.l6.m1.1.1.2.cmml">R</mi><mi id="algx1.l6.m1.1.1.3" xref="algx1.l6.m1.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="algx1.l6.m1.1b"><apply id="algx1.l6.m1.1.1.cmml" xref="algx1.l6.m1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.1.cmml" xref="algx1.l6.m1.1.1">superscript</csymbol><ci id="algx1.l6.m1.1.1.2.cmml" xref="algx1.l6.m1.1.1.2">ğ‘…</ci><ci id="algx1.l6.m1.1.1.3.cmml" xref="algx1.l6.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m1.1c">R^{u}</annotation></semantics></math>, <math id="algx1.l6.m2.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx1.l6.m2.1a"><msub id="algx1.l6.m2.1.1" xref="algx1.l6.m2.1.1.cmml"><mi id="algx1.l6.m2.1.1.2" xref="algx1.l6.m2.1.1.2.cmml">A</mi><mi id="algx1.l6.m2.1.1.3" xref="algx1.l6.m2.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l6.m2.1b"><apply id="algx1.l6.m2.1.1.cmml" xref="algx1.l6.m2.1.1"><csymbol cd="ambiguous" id="algx1.l6.m2.1.1.1.cmml" xref="algx1.l6.m2.1.1">subscript</csymbol><ci id="algx1.l6.m2.1.1.2.cmml" xref="algx1.l6.m2.1.1.2">ğ´</ci><ci id="algx1.l6.m2.1.1.3.cmml" xref="algx1.l6.m2.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m2.1c">A_{W}</annotation></semantics></math>, <math id="algx1.l6.m3.1" class="ltx_Math" alttext="A_{W_{i}}" display="inline"><semantics id="algx1.l6.m3.1a"><msub id="algx1.l6.m3.1.1" xref="algx1.l6.m3.1.1.cmml"><mi id="algx1.l6.m3.1.1.2" xref="algx1.l6.m3.1.1.2.cmml">A</mi><msub id="algx1.l6.m3.1.1.3" xref="algx1.l6.m3.1.1.3.cmml"><mi id="algx1.l6.m3.1.1.3.2" xref="algx1.l6.m3.1.1.3.2.cmml">W</mi><mi id="algx1.l6.m3.1.1.3.3" xref="algx1.l6.m3.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l6.m3.1b"><apply id="algx1.l6.m3.1.1.cmml" xref="algx1.l6.m3.1.1"><csymbol cd="ambiguous" id="algx1.l6.m3.1.1.1.cmml" xref="algx1.l6.m3.1.1">subscript</csymbol><ci id="algx1.l6.m3.1.1.2.cmml" xref="algx1.l6.m3.1.1.2">ğ´</ci><apply id="algx1.l6.m3.1.1.3.cmml" xref="algx1.l6.m3.1.1.3"><csymbol cd="ambiguous" id="algx1.l6.m3.1.1.3.1.cmml" xref="algx1.l6.m3.1.1.3">subscript</csymbol><ci id="algx1.l6.m3.1.1.3.2.cmml" xref="algx1.l6.m3.1.1.3.2">ğ‘Š</ci><ci id="algx1.l6.m3.1.1.3.3.cmml" xref="algx1.l6.m3.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m3.1c">A_{W_{i}}</annotation></semantics></math>, function NN2WFAâ€‰)

</div>
<div id="algx1.l7" class="ltx_listingline">Â Â Â Â Â <math id="algx1.l7.m1.1" class="ltx_Math" alttext="A_{e}" display="inline"><semantics id="algx1.l7.m1.1a"><msub id="algx1.l7.m1.1.1" xref="algx1.l7.m1.1.1.cmml"><mi id="algx1.l7.m1.1.1.2" xref="algx1.l7.m1.1.1.2.cmml">A</mi><mi id="algx1.l7.m1.1.1.3" xref="algx1.l7.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l7.m1.1b"><apply id="algx1.l7.m1.1.1.cmml" xref="algx1.l7.m1.1.1"><csymbol cd="ambiguous" id="algx1.l7.m1.1.1.1.cmml" xref="algx1.l7.m1.1.1">subscript</csymbol><ci id="algx1.l7.m1.1.1.2.cmml" xref="algx1.l7.m1.1.1.2">ğ´</ci><ci id="algx1.l7.m1.1.1.3.cmml" xref="algx1.l7.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m1.1c">A_{e}</annotation></semantics></math> <math id="algx1.l7.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l7.m2.1a"><mo stretchy="false" id="algx1.l7.m2.1.1" xref="algx1.l7.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l7.m2.1b"><ci id="algx1.l7.m2.1.1.cmml" xref="algx1.l7.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m2.1c">\leftarrow</annotation></semantics></math> NN2WFAâ€‰(<math id="algx1.l7.m3.1" class="ltx_Math" alttext="R^{u}" display="inline"><semantics id="algx1.l7.m3.1a"><msup id="algx1.l7.m3.1.1" xref="algx1.l7.m3.1.1.cmml"><mi id="algx1.l7.m3.1.1.2" xref="algx1.l7.m3.1.1.2.cmml">R</mi><mi id="algx1.l7.m3.1.1.3" xref="algx1.l7.m3.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="algx1.l7.m3.1b"><apply id="algx1.l7.m3.1.1.cmml" xref="algx1.l7.m3.1.1"><csymbol cd="ambiguous" id="algx1.l7.m3.1.1.1.cmml" xref="algx1.l7.m3.1.1">superscript</csymbol><ci id="algx1.l7.m3.1.1.2.cmml" xref="algx1.l7.m3.1.1.2">ğ‘…</ci><ci id="algx1.l7.m3.1.1.3.cmml" xref="algx1.l7.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m3.1c">R^{u}</annotation></semantics></math>, <math id="algx1.l7.m4.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx1.l7.m4.1a"><msub id="algx1.l7.m4.1.1" xref="algx1.l7.m4.1.1.cmml"><mi id="algx1.l7.m4.1.1.2" xref="algx1.l7.m4.1.1.2.cmml">A</mi><mi id="algx1.l7.m4.1.1.3" xref="algx1.l7.m4.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l7.m4.1b"><apply id="algx1.l7.m4.1.1.cmml" xref="algx1.l7.m4.1.1"><csymbol cd="ambiguous" id="algx1.l7.m4.1.1.1.cmml" xref="algx1.l7.m4.1.1">subscript</csymbol><ci id="algx1.l7.m4.1.1.2.cmml" xref="algx1.l7.m4.1.1.2">ğ´</ci><ci id="algx1.l7.m4.1.1.3.cmml" xref="algx1.l7.m4.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m4.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx1.l8" class="ltx_listingline">Â Â Â Â Â <span id="algx1.l8.1" class="ltx_text ltx_font_bold">if</span>Â NN2WFAâ€‰==<math id="algx1.l8.m1.1" class="ltx_Math" alttext="\text{NN2WFA\,}_{\text{W}}" display="inline"><semantics id="algx1.l8.m1.1a"><msub id="algx1.l8.m1.1.1" xref="algx1.l8.m1.1.1.cmml"><mtext id="algx1.l8.m1.1.1.2" xref="algx1.l8.m1.1.1.2a.cmml">NN2WFAÂ </mtext><mtext id="algx1.l8.m1.1.1.3" xref="algx1.l8.m1.1.1.3a.cmml">W</mtext></msub><annotation-xml encoding="MathML-Content" id="algx1.l8.m1.1b"><apply id="algx1.l8.m1.1.1.cmml" xref="algx1.l8.m1.1.1"><csymbol cd="ambiguous" id="algx1.l8.m1.1.1.1.cmml" xref="algx1.l8.m1.1.1">subscript</csymbol><ci id="algx1.l8.m1.1.1.2a.cmml" xref="algx1.l8.m1.1.1.2"><mtext id="algx1.l8.m1.1.1.2.cmml" xref="algx1.l8.m1.1.1.2">NN2WFAÂ </mtext></ci><ci id="algx1.l8.m1.1.1.3a.cmml" xref="algx1.l8.m1.1.1.3"><mtext mathsize="70%" id="algx1.l8.m1.1.1.3.cmml" xref="algx1.l8.m1.1.1.3">W</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l8.m1.1c">\text{NN2WFA\,}_{\text{W}}</annotation></semantics></math>Â <span id="algx1.l8.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="algx1.l9" class="ltx_listingline">Â Â Â Â Â Â Â Â Â <math id="algx1.l9.m1.1" class="ltx_Math" alttext="A_{i}" display="inline"><semantics id="algx1.l9.m1.1a"><msub id="algx1.l9.m1.1.1" xref="algx1.l9.m1.1.1.cmml"><mi id="algx1.l9.m1.1.1.2" xref="algx1.l9.m1.1.1.2.cmml">A</mi><mi id="algx1.l9.m1.1.1.3" xref="algx1.l9.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l9.m1.1b"><apply id="algx1.l9.m1.1.1.cmml" xref="algx1.l9.m1.1.1"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.1.cmml" xref="algx1.l9.m1.1.1">subscript</csymbol><ci id="algx1.l9.m1.1.1.2.cmml" xref="algx1.l9.m1.1.1.2">ğ´</ci><ci id="algx1.l9.m1.1.1.3.cmml" xref="algx1.l9.m1.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m1.1c">A_{i}</annotation></semantics></math> <math id="algx1.l9.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l9.m2.1a"><mo stretchy="false" id="algx1.l9.m2.1.1" xref="algx1.l9.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l9.m2.1b"><ci id="algx1.l9.m2.1.1.cmml" xref="algx1.l9.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m2.1c">\leftarrow</annotation></semantics></math> NN2WFAâ€‰(<math id="algx1.l9.m3.1" class="ltx_Math" alttext="R^{u}" display="inline"><semantics id="algx1.l9.m3.1a"><msup id="algx1.l9.m3.1.1" xref="algx1.l9.m3.1.1.cmml"><mi id="algx1.l9.m3.1.1.2" xref="algx1.l9.m3.1.1.2.cmml">R</mi><mi id="algx1.l9.m3.1.1.3" xref="algx1.l9.m3.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="algx1.l9.m3.1b"><apply id="algx1.l9.m3.1.1.cmml" xref="algx1.l9.m3.1.1"><csymbol cd="ambiguous" id="algx1.l9.m3.1.1.1.cmml" xref="algx1.l9.m3.1.1">superscript</csymbol><ci id="algx1.l9.m3.1.1.2.cmml" xref="algx1.l9.m3.1.1.2">ğ‘…</ci><ci id="algx1.l9.m3.1.1.3.cmml" xref="algx1.l9.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m3.1c">R^{u}</annotation></semantics></math>, <math id="algx1.l9.m4.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx1.l9.m4.1a"><msub id="algx1.l9.m4.1.1" xref="algx1.l9.m4.1.1.cmml"><mi id="algx1.l9.m4.1.1.2" xref="algx1.l9.m4.1.1.2.cmml">A</mi><mi id="algx1.l9.m4.1.1.3" xref="algx1.l9.m4.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l9.m4.1b"><apply id="algx1.l9.m4.1.1.cmml" xref="algx1.l9.m4.1.1"><csymbol cd="ambiguous" id="algx1.l9.m4.1.1.1.cmml" xref="algx1.l9.m4.1.1">subscript</csymbol><ci id="algx1.l9.m4.1.1.2.cmml" xref="algx1.l9.m4.1.1.2">ğ´</ci><ci id="algx1.l9.m4.1.1.3.cmml" xref="algx1.l9.m4.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m4.1c">A_{W}</annotation></semantics></math>, self_infer=true)

</div>
<div id="algx1.l10" class="ltx_listingline">Â Â Â Â Â <span id="algx1.l10.1" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="algx1.l11" class="ltx_listingline">Â Â Â Â Â Â Â Â Â <math id="algx1.l11.m1.1" class="ltx_Math" alttext="A_{i}" display="inline"><semantics id="algx1.l11.m1.1a"><msub id="algx1.l11.m1.1.1" xref="algx1.l11.m1.1.1.cmml"><mi id="algx1.l11.m1.1.1.2" xref="algx1.l11.m1.1.1.2.cmml">A</mi><mi id="algx1.l11.m1.1.1.3" xref="algx1.l11.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l11.m1.1b"><apply id="algx1.l11.m1.1.1.cmml" xref="algx1.l11.m1.1.1"><csymbol cd="ambiguous" id="algx1.l11.m1.1.1.1.cmml" xref="algx1.l11.m1.1.1">subscript</csymbol><ci id="algx1.l11.m1.1.1.2.cmml" xref="algx1.l11.m1.1.1.2">ğ´</ci><ci id="algx1.l11.m1.1.1.3.cmml" xref="algx1.l11.m1.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l11.m1.1c">A_{i}</annotation></semantics></math> <math id="algx1.l11.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l11.m2.1a"><mo stretchy="false" id="algx1.l11.m2.1.1" xref="algx1.l11.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l11.m2.1b"><ci id="algx1.l11.m2.1.1.cmml" xref="algx1.l11.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l11.m2.1c">\leftarrow</annotation></semantics></math> NN2WFAâ€‰(<math id="algx1.l11.m3.1" class="ltx_Math" alttext="R^{u}" display="inline"><semantics id="algx1.l11.m3.1a"><msup id="algx1.l11.m3.1.1" xref="algx1.l11.m3.1.1.cmml"><mi id="algx1.l11.m3.1.1.2" xref="algx1.l11.m3.1.1.2.cmml">R</mi><mi id="algx1.l11.m3.1.1.3" xref="algx1.l11.m3.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="algx1.l11.m3.1b"><apply id="algx1.l11.m3.1.1.cmml" xref="algx1.l11.m3.1.1"><csymbol cd="ambiguous" id="algx1.l11.m3.1.1.1.cmml" xref="algx1.l11.m3.1.1">superscript</csymbol><ci id="algx1.l11.m3.1.1.2.cmml" xref="algx1.l11.m3.1.1.2">ğ‘…</ci><ci id="algx1.l11.m3.1.1.3.cmml" xref="algx1.l11.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l11.m3.1c">R^{u}</annotation></semantics></math>, <math id="algx1.l11.m4.1" class="ltx_Math" alttext="A_{W_{i}}" display="inline"><semantics id="algx1.l11.m4.1a"><msub id="algx1.l11.m4.1.1" xref="algx1.l11.m4.1.1.cmml"><mi id="algx1.l11.m4.1.1.2" xref="algx1.l11.m4.1.1.2.cmml">A</mi><msub id="algx1.l11.m4.1.1.3" xref="algx1.l11.m4.1.1.3.cmml"><mi id="algx1.l11.m4.1.1.3.2" xref="algx1.l11.m4.1.1.3.2.cmml">W</mi><mi id="algx1.l11.m4.1.1.3.3" xref="algx1.l11.m4.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="algx1.l11.m4.1b"><apply id="algx1.l11.m4.1.1.cmml" xref="algx1.l11.m4.1.1"><csymbol cd="ambiguous" id="algx1.l11.m4.1.1.1.cmml" xref="algx1.l11.m4.1.1">subscript</csymbol><ci id="algx1.l11.m4.1.1.2.cmml" xref="algx1.l11.m4.1.1.2">ğ´</ci><apply id="algx1.l11.m4.1.1.3.cmml" xref="algx1.l11.m4.1.1.3"><csymbol cd="ambiguous" id="algx1.l11.m4.1.1.3.1.cmml" xref="algx1.l11.m4.1.1.3">subscript</csymbol><ci id="algx1.l11.m4.1.1.3.2.cmml" xref="algx1.l11.m4.1.1.3.2">ğ‘Š</ci><ci id="algx1.l11.m4.1.1.3.3.cmml" xref="algx1.l11.m4.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l11.m4.1c">A_{W_{i}}</annotation></semantics></math>)

</div>
<div id="algx1.l12" class="ltx_listingline">Â Â Â Â Â <span id="algx1.l12.1" class="ltx_text ltx_font_bold">end</span>Â <span id="algx1.l12.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="algx1.l13" class="ltx_listingline">Â Â Â Â Â <math id="algx1.l13.m1.1" class="ltx_Math" alttext="A_{m}" display="inline"><semantics id="algx1.l13.m1.1a"><msub id="algx1.l13.m1.1.1" xref="algx1.l13.m1.1.1.cmml"><mi id="algx1.l13.m1.1.1.2" xref="algx1.l13.m1.1.1.2.cmml">A</mi><mi id="algx1.l13.m1.1.1.3" xref="algx1.l13.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l13.m1.1b"><apply id="algx1.l13.m1.1.1.cmml" xref="algx1.l13.m1.1.1"><csymbol cd="ambiguous" id="algx1.l13.m1.1.1.1.cmml" xref="algx1.l13.m1.1.1">subscript</csymbol><ci id="algx1.l13.m1.1.1.2.cmml" xref="algx1.l13.m1.1.1.2">ğ´</ci><ci id="algx1.l13.m1.1.1.3.cmml" xref="algx1.l13.m1.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m1.1c">A_{m}</annotation></semantics></math> <math id="algx1.l13.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx1.l13.m2.1a"><mo stretchy="false" id="algx1.l13.m2.1.1" xref="algx1.l13.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx1.l13.m2.1b"><ci id="algx1.l13.m2.1.1.cmml" xref="algx1.l13.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m2.1c">\leftarrow</annotation></semantics></math> Interpolate(<math id="algx1.l13.m3.1" class="ltx_Math" alttext="A_{e}" display="inline"><semantics id="algx1.l13.m3.1a"><msub id="algx1.l13.m3.1.1" xref="algx1.l13.m3.1.1.cmml"><mi id="algx1.l13.m3.1.1.2" xref="algx1.l13.m3.1.1.2.cmml">A</mi><mi id="algx1.l13.m3.1.1.3" xref="algx1.l13.m3.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l13.m3.1b"><apply id="algx1.l13.m3.1.1.cmml" xref="algx1.l13.m3.1.1"><csymbol cd="ambiguous" id="algx1.l13.m3.1.1.1.cmml" xref="algx1.l13.m3.1.1">subscript</csymbol><ci id="algx1.l13.m3.1.1.2.cmml" xref="algx1.l13.m3.1.1.2">ğ´</ci><ci id="algx1.l13.m3.1.1.3.cmml" xref="algx1.l13.m3.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m3.1c">A_{e}</annotation></semantics></math>, <math id="algx1.l13.m4.1" class="ltx_Math" alttext="A_{i}" display="inline"><semantics id="algx1.l13.m4.1a"><msub id="algx1.l13.m4.1.1" xref="algx1.l13.m4.1.1.cmml"><mi id="algx1.l13.m4.1.1.2" xref="algx1.l13.m4.1.1.2.cmml">A</mi><mi id="algx1.l13.m4.1.1.3" xref="algx1.l13.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l13.m4.1b"><apply id="algx1.l13.m4.1.1.cmml" xref="algx1.l13.m4.1.1"><csymbol cd="ambiguous" id="algx1.l13.m4.1.1.1.cmml" xref="algx1.l13.m4.1.1">subscript</csymbol><ci id="algx1.l13.m4.1.1.2.cmml" xref="algx1.l13.m4.1.1.2">ğ´</ci><ci id="algx1.l13.m4.1.1.3.cmml" xref="algx1.l13.m4.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m4.1c">A_{i}</annotation></semantics></math>)


</div>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.4" class="ltx_listing ltx_figure_panel ltx_minipage ltx_align_top ltx_listing" style="width:223.1pt;">
<div id="algx2.l14" class="ltx_listingline">Â Â Â Â Â <math id="algx2.l14.m1.1" class="ltx_Math" alttext="A_{r}" display="inline"><semantics id="algx2.l14.m1.1a"><msub id="algx2.l14.m1.1.1" xref="algx2.l14.m1.1.1.cmml"><mi id="algx2.l14.m1.1.1.2" xref="algx2.l14.m1.1.1.2.cmml">A</mi><mi id="algx2.l14.m1.1.1.3" xref="algx2.l14.m1.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l14.m1.1b"><apply id="algx2.l14.m1.1.1.cmml" xref="algx2.l14.m1.1.1"><csymbol cd="ambiguous" id="algx2.l14.m1.1.1.1.cmml" xref="algx2.l14.m1.1.1">subscript</csymbol><ci id="algx2.l14.m1.1.1.2.cmml" xref="algx2.l14.m1.1.1.2">ğ´</ci><ci id="algx2.l14.m1.1.1.3.cmml" xref="algx2.l14.m1.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l14.m1.1c">A_{r}</annotation></semantics></math> <math id="algx2.l14.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx2.l14.m2.1a"><mo stretchy="false" id="algx2.l14.m2.1.1" xref="algx2.l14.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx2.l14.m2.1b"><ci id="algx2.l14.m2.1.1.cmml" xref="algx2.l14.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l14.m2.1c">\leftarrow</annotation></semantics></math> NN2WFAâ€‰(<math id="algx2.l14.m3.1" class="ltx_Math" alttext="R^{u}" display="inline"><semantics id="algx2.l14.m3.1a"><msup id="algx2.l14.m3.1.1" xref="algx2.l14.m3.1.1.cmml"><mi id="algx2.l14.m3.1.1.2" xref="algx2.l14.m3.1.1.2.cmml">R</mi><mi id="algx2.l14.m3.1.1.3" xref="algx2.l14.m3.1.1.3.cmml">u</mi></msup><annotation-xml encoding="MathML-Content" id="algx2.l14.m3.1b"><apply id="algx2.l14.m3.1.1.cmml" xref="algx2.l14.m3.1.1"><csymbol cd="ambiguous" id="algx2.l14.m3.1.1.1.cmml" xref="algx2.l14.m3.1.1">superscript</csymbol><ci id="algx2.l14.m3.1.1.2.cmml" xref="algx2.l14.m3.1.1.2">ğ‘…</ci><ci id="algx2.l14.m3.1.1.3.cmml" xref="algx2.l14.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l14.m3.1c">R^{u}</annotation></semantics></math>, <math id="algx2.l14.m4.1" class="ltx_Math" alttext="A_{m}" display="inline"><semantics id="algx2.l14.m4.1a"><msub id="algx2.l14.m4.1.1" xref="algx2.l14.m4.1.1.cmml"><mi id="algx2.l14.m4.1.1.2" xref="algx2.l14.m4.1.1.2.cmml">A</mi><mi id="algx2.l14.m4.1.1.3" xref="algx2.l14.m4.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l14.m4.1b"><apply id="algx2.l14.m4.1.1.cmml" xref="algx2.l14.m4.1.1"><csymbol cd="ambiguous" id="algx2.l14.m4.1.1.1.cmml" xref="algx2.l14.m4.1.1">subscript</csymbol><ci id="algx2.l14.m4.1.1.2.cmml" xref="algx2.l14.m4.1.1.2">ğ´</ci><ci id="algx2.l14.m4.1.1.3.cmml" xref="algx2.l14.m4.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l14.m4.1c">A_{m}</annotation></semantics></math>)

</div>
<div id="algx2.l15" class="ltx_listingline">Â Â Â Â Â return <math id="algx2.l15.m1.1" class="ltx_Math" alttext="A_{e}" display="inline"><semantics id="algx2.l15.m1.1a"><msub id="algx2.l15.m1.1.1" xref="algx2.l15.m1.1.1.cmml"><mi id="algx2.l15.m1.1.1.2" xref="algx2.l15.m1.1.1.2.cmml">A</mi><mi id="algx2.l15.m1.1.1.3" xref="algx2.l15.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l15.m1.1b"><apply id="algx2.l15.m1.1.1.cmml" xref="algx2.l15.m1.1.1"><csymbol cd="ambiguous" id="algx2.l15.m1.1.1.1.cmml" xref="algx2.l15.m1.1.1">subscript</csymbol><ci id="algx2.l15.m1.1.1.2.cmml" xref="algx2.l15.m1.1.1.2">ğ´</ci><ci id="algx2.l15.m1.1.1.3.cmml" xref="algx2.l15.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l15.m1.1c">A_{e}</annotation></semantics></math>, <math id="algx2.l15.m2.1" class="ltx_Math" alttext="A_{i}" display="inline"><semantics id="algx2.l15.m2.1a"><msub id="algx2.l15.m2.1.1" xref="algx2.l15.m2.1.1.cmml"><mi id="algx2.l15.m2.1.1.2" xref="algx2.l15.m2.1.1.2.cmml">A</mi><mi id="algx2.l15.m2.1.1.3" xref="algx2.l15.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l15.m2.1b"><apply id="algx2.l15.m2.1.1.cmml" xref="algx2.l15.m2.1.1"><csymbol cd="ambiguous" id="algx2.l15.m2.1.1.1.cmml" xref="algx2.l15.m2.1.1">subscript</csymbol><ci id="algx2.l15.m2.1.1.2.cmml" xref="algx2.l15.m2.1.1.2">ğ´</ci><ci id="algx2.l15.m2.1.1.3.cmml" xref="algx2.l15.m2.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l15.m2.1c">A_{i}</annotation></semantics></math>, <math id="algx2.l15.m3.1" class="ltx_Math" alttext="A_{m}" display="inline"><semantics id="algx2.l15.m3.1a"><msub id="algx2.l15.m3.1.1" xref="algx2.l15.m3.1.1.cmml"><mi id="algx2.l15.m3.1.1.2" xref="algx2.l15.m3.1.1.2.cmml">A</mi><mi id="algx2.l15.m3.1.1.3" xref="algx2.l15.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l15.m3.1b"><apply id="algx2.l15.m3.1.1.cmml" xref="algx2.l15.m3.1.1"><csymbol cd="ambiguous" id="algx2.l15.m3.1.1.1.cmml" xref="algx2.l15.m3.1.1">subscript</csymbol><ci id="algx2.l15.m3.1.1.2.cmml" xref="algx2.l15.m3.1.1.2">ğ´</ci><ci id="algx2.l15.m3.1.1.3.cmml" xref="algx2.l15.m3.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l15.m3.1c">A_{m}</annotation></semantics></math>, <math id="algx2.l15.m4.1" class="ltx_Math" alttext="A_{r}" display="inline"><semantics id="algx2.l15.m4.1a"><msub id="algx2.l15.m4.1.1" xref="algx2.l15.m4.1.1.cmml"><mi id="algx2.l15.m4.1.1.2" xref="algx2.l15.m4.1.1.2.cmml">A</mi><mi id="algx2.l15.m4.1.1.3" xref="algx2.l15.m4.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l15.m4.1b"><apply id="algx2.l15.m4.1.1.cmml" xref="algx2.l15.m4.1.1"><csymbol cd="ambiguous" id="algx2.l15.m4.1.1.1.cmml" xref="algx2.l15.m4.1.1">subscript</csymbol><ci id="algx2.l15.m4.1.1.2.cmml" xref="algx2.l15.m4.1.1.2">ğ´</ci><ci id="algx2.l15.m4.1.1.3.cmml" xref="algx2.l15.m4.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l15.m4.1c">A_{r}</annotation></semantics></math>

</div>
<div id="algx2.l16" class="ltx_listingline">
<span id="algx2.l16.1" class="ltx_text ltx_font_bold">end</span>Â <span id="algx2.l16.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="algx2.l17" class="ltx_listingline">
<span id="algx2.l17.1" class="ltx_text ltx_font_bold">function</span>Â <math id="algx2.l17.m1.1" class="ltx_Math" alttext="\text{NN2WFA\,}_{\text{W}}" display="inline"><semantics id="algx2.l17.m1.1a"><msub id="algx2.l17.m1.1.1" xref="algx2.l17.m1.1.1.cmml"><mtext id="algx2.l17.m1.1.1.2" xref="algx2.l17.m1.1.1.2a.cmml">NN2WFAÂ </mtext><mtext id="algx2.l17.m1.1.1.3" xref="algx2.l17.m1.1.1.3a.cmml">W</mtext></msub><annotation-xml encoding="MathML-Content" id="algx2.l17.m1.1b"><apply id="algx2.l17.m1.1.1.cmml" xref="algx2.l17.m1.1.1"><csymbol cd="ambiguous" id="algx2.l17.m1.1.1.1.cmml" xref="algx2.l17.m1.1.1">subscript</csymbol><ci id="algx2.l17.m1.1.1.2a.cmml" xref="algx2.l17.m1.1.1.2"><mtext id="algx2.l17.m1.1.1.2.cmml" xref="algx2.l17.m1.1.1.2">NN2WFAÂ </mtext></ci><ci id="algx2.l17.m1.1.1.3a.cmml" xref="algx2.l17.m1.1.1.3"><mtext mathsize="70%" id="algx2.l17.m1.1.1.3.cmml" xref="algx2.l17.m1.1.1.3">W</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l17.m1.1c">\text{NN2WFA\,}_{\text{W}}</annotation></semantics></math>(<math id="algx2.l17.m2.1" class="ltx_Math" alttext="R_{W}^{u}" display="inline"><semantics id="algx2.l17.m2.1a"><msubsup id="algx2.l17.m2.1.1" xref="algx2.l17.m2.1.1.cmml"><mi id="algx2.l17.m2.1.1.2.2" xref="algx2.l17.m2.1.1.2.2.cmml">R</mi><mi id="algx2.l17.m2.1.1.2.3" xref="algx2.l17.m2.1.1.2.3.cmml">W</mi><mi id="algx2.l17.m2.1.1.3" xref="algx2.l17.m2.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l17.m2.1b"><apply id="algx2.l17.m2.1.1.cmml" xref="algx2.l17.m2.1.1"><csymbol cd="ambiguous" id="algx2.l17.m2.1.1.1.cmml" xref="algx2.l17.m2.1.1">superscript</csymbol><apply id="algx2.l17.m2.1.1.2.cmml" xref="algx2.l17.m2.1.1"><csymbol cd="ambiguous" id="algx2.l17.m2.1.1.2.1.cmml" xref="algx2.l17.m2.1.1">subscript</csymbol><ci id="algx2.l17.m2.1.1.2.2.cmml" xref="algx2.l17.m2.1.1.2.2">ğ‘…</ci><ci id="algx2.l17.m2.1.1.2.3.cmml" xref="algx2.l17.m2.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l17.m2.1.1.3.cmml" xref="algx2.l17.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l17.m2.1c">R_{W}^{u}</annotation></semantics></math>, <math id="algx2.l17.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l17.m3.1a"><msub id="algx2.l17.m3.1.1" xref="algx2.l17.m3.1.1.cmml"><mi id="algx2.l17.m3.1.1.2" xref="algx2.l17.m3.1.1.2.cmml">A</mi><mi id="algx2.l17.m3.1.1.3" xref="algx2.l17.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l17.m3.1b"><apply id="algx2.l17.m3.1.1.cmml" xref="algx2.l17.m3.1.1"><csymbol cd="ambiguous" id="algx2.l17.m3.1.1.1.cmml" xref="algx2.l17.m3.1.1">subscript</csymbol><ci id="algx2.l17.m3.1.1.2.cmml" xref="algx2.l17.m3.1.1.2">ğ´</ci><ci id="algx2.l17.m3.1.1.3.cmml" xref="algx2.l17.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l17.m3.1c">A_{W}</annotation></semantics></math>, self_infer=false)

</div>
<div id="algx2.l18" class="ltx_listingline">Â Â Â Â Â <span id="algx2.l18.1" class="ltx_text ltx_font_bold">if</span>Â self_inferÂ <span id="algx2.l18.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="algx2.l19" class="ltx_listingline">Â Â Â Â Â Â Â Â Â return <span id="algx2.l19.1" class="ltx_text ltx_font_typewriter">CapSampleApproxâ€‰</span>(<math id="algx2.l19.m1.1" class="ltx_Math" alttext="R_{W}^{u}" display="inline"><semantics id="algx2.l19.m1.1a"><msubsup id="algx2.l19.m1.1.1" xref="algx2.l19.m1.1.1.cmml"><mi id="algx2.l19.m1.1.1.2.2" xref="algx2.l19.m1.1.1.2.2.cmml">R</mi><mi id="algx2.l19.m1.1.1.2.3" xref="algx2.l19.m1.1.1.2.3.cmml">W</mi><mi id="algx2.l19.m1.1.1.3" xref="algx2.l19.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l19.m1.1b"><apply id="algx2.l19.m1.1.1.cmml" xref="algx2.l19.m1.1.1"><csymbol cd="ambiguous" id="algx2.l19.m1.1.1.1.cmml" xref="algx2.l19.m1.1.1">superscript</csymbol><apply id="algx2.l19.m1.1.1.2.cmml" xref="algx2.l19.m1.1.1"><csymbol cd="ambiguous" id="algx2.l19.m1.1.1.2.1.cmml" xref="algx2.l19.m1.1.1">subscript</csymbol><ci id="algx2.l19.m1.1.1.2.2.cmml" xref="algx2.l19.m1.1.1.2.2">ğ‘…</ci><ci id="algx2.l19.m1.1.1.2.3.cmml" xref="algx2.l19.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l19.m1.1.1.3.cmml" xref="algx2.l19.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l19.m1.1c">R_{W}^{u}</annotation></semantics></math>, <math id="algx2.l19.m2.1" class="ltx_Math" alttext="\o" display="inline"><semantics id="algx2.l19.m2.1a"><mi id="algx2.l19.m2.1.1" xref="algx2.l19.m2.1.1.cmml">Ã¸</mi><annotation-xml encoding="MathML-Content" id="algx2.l19.m2.1b"><ci id="algx2.l19.m2.1.1.cmml" xref="algx2.l19.m2.1.1">italic-Ã¸</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l19.m2.1c">\o</annotation></semantics></math>, <math id="algx2.l19.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l19.m3.1a"><msub id="algx2.l19.m3.1.1" xref="algx2.l19.m3.1.1.cmml"><mi id="algx2.l19.m3.1.1.2" xref="algx2.l19.m3.1.1.2.cmml">A</mi><mi id="algx2.l19.m3.1.1.3" xref="algx2.l19.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l19.m3.1b"><apply id="algx2.l19.m3.1.1.cmml" xref="algx2.l19.m3.1.1"><csymbol cd="ambiguous" id="algx2.l19.m3.1.1.1.cmml" xref="algx2.l19.m3.1.1">subscript</csymbol><ci id="algx2.l19.m3.1.1.2.cmml" xref="algx2.l19.m3.1.1.2">ğ´</ci><ci id="algx2.l19.m3.1.1.3.cmml" xref="algx2.l19.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l19.m3.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx2.l20" class="ltx_listingline">Â Â Â Â Â <span id="algx2.l20.1" class="ltx_text ltx_font_bold">else</span>
</div>
<div id="algx2.l21" class="ltx_listingline">Â Â Â Â Â Â Â Â Â return <span id="algx2.l21.1" class="ltx_text ltx_font_typewriter">CapSampleApproxâ€‰</span>(<math id="algx2.l21.m1.1" class="ltx_Math" alttext="R_{W}^{u}" display="inline"><semantics id="algx2.l21.m1.1a"><msubsup id="algx2.l21.m1.1.1" xref="algx2.l21.m1.1.1.cmml"><mi id="algx2.l21.m1.1.1.2.2" xref="algx2.l21.m1.1.1.2.2.cmml">R</mi><mi id="algx2.l21.m1.1.1.2.3" xref="algx2.l21.m1.1.1.2.3.cmml">W</mi><mi id="algx2.l21.m1.1.1.3" xref="algx2.l21.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l21.m1.1b"><apply id="algx2.l21.m1.1.1.cmml" xref="algx2.l21.m1.1.1"><csymbol cd="ambiguous" id="algx2.l21.m1.1.1.1.cmml" xref="algx2.l21.m1.1.1">superscript</csymbol><apply id="algx2.l21.m1.1.1.2.cmml" xref="algx2.l21.m1.1.1"><csymbol cd="ambiguous" id="algx2.l21.m1.1.1.2.1.cmml" xref="algx2.l21.m1.1.1">subscript</csymbol><ci id="algx2.l21.m1.1.1.2.2.cmml" xref="algx2.l21.m1.1.1.2.2">ğ‘…</ci><ci id="algx2.l21.m1.1.1.2.3.cmml" xref="algx2.l21.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l21.m1.1.1.3.cmml" xref="algx2.l21.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l21.m1.1c">R_{W}^{u}</annotation></semantics></math>, <math id="algx2.l21.m2.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l21.m2.1a"><msub id="algx2.l21.m2.1.1" xref="algx2.l21.m2.1.1.cmml"><mi id="algx2.l21.m2.1.1.2" xref="algx2.l21.m2.1.1.2.cmml">A</mi><mi id="algx2.l21.m2.1.1.3" xref="algx2.l21.m2.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l21.m2.1b"><apply id="algx2.l21.m2.1.1.cmml" xref="algx2.l21.m2.1.1"><csymbol cd="ambiguous" id="algx2.l21.m2.1.1.1.cmml" xref="algx2.l21.m2.1.1">subscript</csymbol><ci id="algx2.l21.m2.1.1.2.cmml" xref="algx2.l21.m2.1.1.2">ğ´</ci><ci id="algx2.l21.m2.1.1.3.cmml" xref="algx2.l21.m2.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l21.m2.1c">A_{W}</annotation></semantics></math>, <math id="algx2.l21.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l21.m3.1a"><msub id="algx2.l21.m3.1.1" xref="algx2.l21.m3.1.1.cmml"><mi id="algx2.l21.m3.1.1.2" xref="algx2.l21.m3.1.1.2.cmml">A</mi><mi id="algx2.l21.m3.1.1.3" xref="algx2.l21.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l21.m3.1b"><apply id="algx2.l21.m3.1.1.cmml" xref="algx2.l21.m3.1.1"><csymbol cd="ambiguous" id="algx2.l21.m3.1.1.1.cmml" xref="algx2.l21.m3.1.1">subscript</csymbol><ci id="algx2.l21.m3.1.1.2.cmml" xref="algx2.l21.m3.1.1.2">ğ´</ci><ci id="algx2.l21.m3.1.1.3.cmml" xref="algx2.l21.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l21.m3.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx2.l22" class="ltx_listingline">Â Â Â Â Â <span id="algx2.l22.1" class="ltx_text ltx_font_bold">end</span>Â <span id="algx2.l22.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="algx2.l23" class="ltx_listingline">
<span id="algx2.l23.1" class="ltx_text ltx_font_bold">end</span>Â <span id="algx2.l23.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="algx2.l24" class="ltx_listingline">
<span id="algx2.l24.1" class="ltx_text ltx_font_bold">function</span>Â <math id="algx2.l24.m1.1" class="ltx_Math" alttext="\text{NN2WFA\,}_{\text{P}}" display="inline"><semantics id="algx2.l24.m1.1a"><msub id="algx2.l24.m1.1.1" xref="algx2.l24.m1.1.1.cmml"><mtext id="algx2.l24.m1.1.1.2" xref="algx2.l24.m1.1.1.2a.cmml">NN2WFAÂ </mtext><mtext id="algx2.l24.m1.1.1.3" xref="algx2.l24.m1.1.1.3a.cmml">P</mtext></msub><annotation-xml encoding="MathML-Content" id="algx2.l24.m1.1b"><apply id="algx2.l24.m1.1.1.cmml" xref="algx2.l24.m1.1.1"><csymbol cd="ambiguous" id="algx2.l24.m1.1.1.1.cmml" xref="algx2.l24.m1.1.1">subscript</csymbol><ci id="algx2.l24.m1.1.1.2a.cmml" xref="algx2.l24.m1.1.1.2"><mtext id="algx2.l24.m1.1.1.2.cmml" xref="algx2.l24.m1.1.1.2">NN2WFAÂ </mtext></ci><ci id="algx2.l24.m1.1.1.3a.cmml" xref="algx2.l24.m1.1.1.3"><mtext mathsize="70%" id="algx2.l24.m1.1.1.3.cmml" xref="algx2.l24.m1.1.1.3">P</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l24.m1.1c">\text{NN2WFA\,}_{\text{P}}</annotation></semantics></math>(<math id="algx2.l24.m2.1" class="ltx_Math" alttext="R_{P}^{u}" display="inline"><semantics id="algx2.l24.m2.1a"><msubsup id="algx2.l24.m2.1.1" xref="algx2.l24.m2.1.1.cmml"><mi id="algx2.l24.m2.1.1.2.2" xref="algx2.l24.m2.1.1.2.2.cmml">R</mi><mi id="algx2.l24.m2.1.1.2.3" xref="algx2.l24.m2.1.1.2.3.cmml">P</mi><mi id="algx2.l24.m2.1.1.3" xref="algx2.l24.m2.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l24.m2.1b"><apply id="algx2.l24.m2.1.1.cmml" xref="algx2.l24.m2.1.1"><csymbol cd="ambiguous" id="algx2.l24.m2.1.1.1.cmml" xref="algx2.l24.m2.1.1">superscript</csymbol><apply id="algx2.l24.m2.1.1.2.cmml" xref="algx2.l24.m2.1.1"><csymbol cd="ambiguous" id="algx2.l24.m2.1.1.2.1.cmml" xref="algx2.l24.m2.1.1">subscript</csymbol><ci id="algx2.l24.m2.1.1.2.2.cmml" xref="algx2.l24.m2.1.1.2.2">ğ‘…</ci><ci id="algx2.l24.m2.1.1.2.3.cmml" xref="algx2.l24.m2.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l24.m2.1.1.3.cmml" xref="algx2.l24.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l24.m2.1c">R_{P}^{u}</annotation></semantics></math>, <math id="algx2.l24.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l24.m3.1a"><msub id="algx2.l24.m3.1.1" xref="algx2.l24.m3.1.1.cmml"><mi id="algx2.l24.m3.1.1.2" xref="algx2.l24.m3.1.1.2.cmml">A</mi><mi id="algx2.l24.m3.1.1.3" xref="algx2.l24.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l24.m3.1b"><apply id="algx2.l24.m3.1.1.cmml" xref="algx2.l24.m3.1.1"><csymbol cd="ambiguous" id="algx2.l24.m3.1.1.1.cmml" xref="algx2.l24.m3.1.1">subscript</csymbol><ci id="algx2.l24.m3.1.1.2.cmml" xref="algx2.l24.m3.1.1.2">ğ´</ci><ci id="algx2.l24.m3.1.1.3.cmml" xref="algx2.l24.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l24.m3.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx2.l25" class="ltx_listingline">Â Â Â Â Â <math id="algx2.l25.m1.1" class="ltx_Math" alttext="T_{W}^{u}" display="inline"><semantics id="algx2.l25.m1.1a"><msubsup id="algx2.l25.m1.1.1" xref="algx2.l25.m1.1.1.cmml"><mi id="algx2.l25.m1.1.1.2.2" xref="algx2.l25.m1.1.1.2.2.cmml">T</mi><mi id="algx2.l25.m1.1.1.2.3" xref="algx2.l25.m1.1.1.2.3.cmml">W</mi><mi id="algx2.l25.m1.1.1.3" xref="algx2.l25.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l25.m1.1b"><apply id="algx2.l25.m1.1.1.cmml" xref="algx2.l25.m1.1.1"><csymbol cd="ambiguous" id="algx2.l25.m1.1.1.1.cmml" xref="algx2.l25.m1.1.1">superscript</csymbol><apply id="algx2.l25.m1.1.1.2.cmml" xref="algx2.l25.m1.1.1"><csymbol cd="ambiguous" id="algx2.l25.m1.1.1.2.1.cmml" xref="algx2.l25.m1.1.1">subscript</csymbol><ci id="algx2.l25.m1.1.1.2.2.cmml" xref="algx2.l25.m1.1.1.2.2">ğ‘‡</ci><ci id="algx2.l25.m1.1.1.2.3.cmml" xref="algx2.l25.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l25.m1.1.1.3.cmml" xref="algx2.l25.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l25.m1.1c">T_{W}^{u}</annotation></semantics></math> <math id="algx2.l25.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx2.l25.m2.1a"><mo stretchy="false" id="algx2.l25.m2.1.1" xref="algx2.l25.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx2.l25.m2.1b"><ci id="algx2.l25.m2.1.1.cmml" xref="algx2.l25.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l25.m2.1c">\leftarrow</annotation></semantics></math> ConvertToLowercaseTopology(<math id="algx2.l25.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l25.m3.1a"><msub id="algx2.l25.m3.1.1" xref="algx2.l25.m3.1.1.cmml"><mi id="algx2.l25.m3.1.1.2" xref="algx2.l25.m3.1.1.2.cmml">A</mi><mi id="algx2.l25.m3.1.1.3" xref="algx2.l25.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l25.m3.1b"><apply id="algx2.l25.m3.1.1.cmml" xref="algx2.l25.m3.1.1"><csymbol cd="ambiguous" id="algx2.l25.m3.1.1.1.cmml" xref="algx2.l25.m3.1.1">subscript</csymbol><ci id="algx2.l25.m3.1.1.2.cmml" xref="algx2.l25.m3.1.1.2">ğ´</ci><ci id="algx2.l25.m3.1.1.3.cmml" xref="algx2.l25.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l25.m3.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx2.l26" class="ltx_listingline">Â Â Â Â Â <math id="algx2.l26.m1.1" class="ltx_Math" alttext="T_{P}^{u}" display="inline"><semantics id="algx2.l26.m1.1a"><msubsup id="algx2.l26.m1.1.1" xref="algx2.l26.m1.1.1.cmml"><mi id="algx2.l26.m1.1.1.2.2" xref="algx2.l26.m1.1.1.2.2.cmml">T</mi><mi id="algx2.l26.m1.1.1.2.3" xref="algx2.l26.m1.1.1.2.3.cmml">P</mi><mi id="algx2.l26.m1.1.1.3" xref="algx2.l26.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l26.m1.1b"><apply id="algx2.l26.m1.1.1.cmml" xref="algx2.l26.m1.1.1"><csymbol cd="ambiguous" id="algx2.l26.m1.1.1.1.cmml" xref="algx2.l26.m1.1.1">superscript</csymbol><apply id="algx2.l26.m1.1.1.2.cmml" xref="algx2.l26.m1.1.1"><csymbol cd="ambiguous" id="algx2.l26.m1.1.1.2.1.cmml" xref="algx2.l26.m1.1.1">subscript</csymbol><ci id="algx2.l26.m1.1.1.2.2.cmml" xref="algx2.l26.m1.1.1.2.2">ğ‘‡</ci><ci id="algx2.l26.m1.1.1.2.3.cmml" xref="algx2.l26.m1.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l26.m1.1.1.3.cmml" xref="algx2.l26.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l26.m1.1c">T_{P}^{u}</annotation></semantics></math> <math id="algx2.l26.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx2.l26.m2.1a"><mo stretchy="false" id="algx2.l26.m2.1.1" xref="algx2.l26.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx2.l26.m2.1b"><ci id="algx2.l26.m2.1.1.cmml" xref="algx2.l26.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l26.m2.1c">\leftarrow</annotation></semantics></math> ConvertToWordPieceTopology(<math id="algx2.l26.m3.1" class="ltx_Math" alttext="T_{W}^{u}" display="inline"><semantics id="algx2.l26.m3.1a"><msubsup id="algx2.l26.m3.1.1" xref="algx2.l26.m3.1.1.cmml"><mi id="algx2.l26.m3.1.1.2.2" xref="algx2.l26.m3.1.1.2.2.cmml">T</mi><mi id="algx2.l26.m3.1.1.2.3" xref="algx2.l26.m3.1.1.2.3.cmml">W</mi><mi id="algx2.l26.m3.1.1.3" xref="algx2.l26.m3.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l26.m3.1b"><apply id="algx2.l26.m3.1.1.cmml" xref="algx2.l26.m3.1.1"><csymbol cd="ambiguous" id="algx2.l26.m3.1.1.1.cmml" xref="algx2.l26.m3.1.1">superscript</csymbol><apply id="algx2.l26.m3.1.1.2.cmml" xref="algx2.l26.m3.1.1"><csymbol cd="ambiguous" id="algx2.l26.m3.1.1.2.1.cmml" xref="algx2.l26.m3.1.1">subscript</csymbol><ci id="algx2.l26.m3.1.1.2.2.cmml" xref="algx2.l26.m3.1.1.2.2">ğ‘‡</ci><ci id="algx2.l26.m3.1.1.2.3.cmml" xref="algx2.l26.m3.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l26.m3.1.1.3.cmml" xref="algx2.l26.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l26.m3.1c">T_{W}^{u}</annotation></semantics></math>)

</div>
<div id="algx2.l27" class="ltx_listingline">Â Â Â Â Â <math id="algx2.l27.m1.1" class="ltx_Math" alttext="A_{P}^{u}" display="inline"><semantics id="algx2.l27.m1.1a"><msubsup id="algx2.l27.m1.1.1" xref="algx2.l27.m1.1.1.cmml"><mi id="algx2.l27.m1.1.1.2.2" xref="algx2.l27.m1.1.1.2.2.cmml">A</mi><mi id="algx2.l27.m1.1.1.2.3" xref="algx2.l27.m1.1.1.2.3.cmml">P</mi><mi id="algx2.l27.m1.1.1.3" xref="algx2.l27.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l27.m1.1b"><apply id="algx2.l27.m1.1.1.cmml" xref="algx2.l27.m1.1.1"><csymbol cd="ambiguous" id="algx2.l27.m1.1.1.1.cmml" xref="algx2.l27.m1.1.1">superscript</csymbol><apply id="algx2.l27.m1.1.1.2.cmml" xref="algx2.l27.m1.1.1"><csymbol cd="ambiguous" id="algx2.l27.m1.1.1.2.1.cmml" xref="algx2.l27.m1.1.1">subscript</csymbol><ci id="algx2.l27.m1.1.1.2.2.cmml" xref="algx2.l27.m1.1.1.2.2">ğ´</ci><ci id="algx2.l27.m1.1.1.2.3.cmml" xref="algx2.l27.m1.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l27.m1.1.1.3.cmml" xref="algx2.l27.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l27.m1.1c">A_{P}^{u}</annotation></semantics></math> <math id="algx2.l27.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx2.l27.m2.1a"><mo stretchy="false" id="algx2.l27.m2.1.1" xref="algx2.l27.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx2.l27.m2.1b"><ci id="algx2.l27.m2.1.1.cmml" xref="algx2.l27.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l27.m2.1c">\leftarrow</annotation></semantics></math> <span id="algx2.l27.1" class="ltx_text ltx_font_typewriter">SampleApproxâ€‰</span>(<math id="algx2.l27.m3.1" class="ltx_Math" alttext="R_{P}^{u}" display="inline"><semantics id="algx2.l27.m3.1a"><msubsup id="algx2.l27.m3.1.1" xref="algx2.l27.m3.1.1.cmml"><mi id="algx2.l27.m3.1.1.2.2" xref="algx2.l27.m3.1.1.2.2.cmml">R</mi><mi id="algx2.l27.m3.1.1.2.3" xref="algx2.l27.m3.1.1.2.3.cmml">P</mi><mi id="algx2.l27.m3.1.1.3" xref="algx2.l27.m3.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l27.m3.1b"><apply id="algx2.l27.m3.1.1.cmml" xref="algx2.l27.m3.1.1"><csymbol cd="ambiguous" id="algx2.l27.m3.1.1.1.cmml" xref="algx2.l27.m3.1.1">superscript</csymbol><apply id="algx2.l27.m3.1.1.2.cmml" xref="algx2.l27.m3.1.1"><csymbol cd="ambiguous" id="algx2.l27.m3.1.1.2.1.cmml" xref="algx2.l27.m3.1.1">subscript</csymbol><ci id="algx2.l27.m3.1.1.2.2.cmml" xref="algx2.l27.m3.1.1.2.2">ğ‘…</ci><ci id="algx2.l27.m3.1.1.2.3.cmml" xref="algx2.l27.m3.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l27.m3.1.1.3.cmml" xref="algx2.l27.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l27.m3.1c">R_{P}^{u}</annotation></semantics></math>, <math id="algx2.l27.m4.1" class="ltx_Math" alttext="T_{P}^{u}" display="inline"><semantics id="algx2.l27.m4.1a"><msubsup id="algx2.l27.m4.1.1" xref="algx2.l27.m4.1.1.cmml"><mi id="algx2.l27.m4.1.1.2.2" xref="algx2.l27.m4.1.1.2.2.cmml">T</mi><mi id="algx2.l27.m4.1.1.2.3" xref="algx2.l27.m4.1.1.2.3.cmml">P</mi><mi id="algx2.l27.m4.1.1.3" xref="algx2.l27.m4.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l27.m4.1b"><apply id="algx2.l27.m4.1.1.cmml" xref="algx2.l27.m4.1.1"><csymbol cd="ambiguous" id="algx2.l27.m4.1.1.1.cmml" xref="algx2.l27.m4.1.1">superscript</csymbol><apply id="algx2.l27.m4.1.1.2.cmml" xref="algx2.l27.m4.1.1"><csymbol cd="ambiguous" id="algx2.l27.m4.1.1.2.1.cmml" xref="algx2.l27.m4.1.1">subscript</csymbol><ci id="algx2.l27.m4.1.1.2.2.cmml" xref="algx2.l27.m4.1.1.2.2">ğ‘‡</ci><ci id="algx2.l27.m4.1.1.2.3.cmml" xref="algx2.l27.m4.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l27.m4.1.1.3.cmml" xref="algx2.l27.m4.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l27.m4.1c">T_{P}^{u}</annotation></semantics></math>)

</div>
<div id="algx2.l28" class="ltx_listingline">Â Â Â Â Â <math id="algx2.l28.m1.1" class="ltx_Math" alttext="A_{W}^{u}" display="inline"><semantics id="algx2.l28.m1.1a"><msubsup id="algx2.l28.m1.1.1" xref="algx2.l28.m1.1.1.cmml"><mi id="algx2.l28.m1.1.1.2.2" xref="algx2.l28.m1.1.1.2.2.cmml">A</mi><mi id="algx2.l28.m1.1.1.2.3" xref="algx2.l28.m1.1.1.2.3.cmml">W</mi><mi id="algx2.l28.m1.1.1.3" xref="algx2.l28.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l28.m1.1b"><apply id="algx2.l28.m1.1.1.cmml" xref="algx2.l28.m1.1.1"><csymbol cd="ambiguous" id="algx2.l28.m1.1.1.1.cmml" xref="algx2.l28.m1.1.1">superscript</csymbol><apply id="algx2.l28.m1.1.1.2.cmml" xref="algx2.l28.m1.1.1"><csymbol cd="ambiguous" id="algx2.l28.m1.1.1.2.1.cmml" xref="algx2.l28.m1.1.1">subscript</csymbol><ci id="algx2.l28.m1.1.1.2.2.cmml" xref="algx2.l28.m1.1.1.2.2">ğ´</ci><ci id="algx2.l28.m1.1.1.2.3.cmml" xref="algx2.l28.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l28.m1.1.1.3.cmml" xref="algx2.l28.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l28.m1.1c">A_{W}^{u}</annotation></semantics></math> <math id="algx2.l28.m2.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="algx2.l28.m2.1a"><mo stretchy="false" id="algx2.l28.m2.1.1" xref="algx2.l28.m2.1.1.cmml">â†</mo><annotation-xml encoding="MathML-Content" id="algx2.l28.m2.1b"><ci id="algx2.l28.m2.1.1.cmml" xref="algx2.l28.m2.1.1">â†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l28.m2.1c">\leftarrow</annotation></semantics></math> ConvertToWordTopology(<math id="algx2.l28.m3.1" class="ltx_Math" alttext="A_{P}^{u}" display="inline"><semantics id="algx2.l28.m3.1a"><msubsup id="algx2.l28.m3.1.1" xref="algx2.l28.m3.1.1.cmml"><mi id="algx2.l28.m3.1.1.2.2" xref="algx2.l28.m3.1.1.2.2.cmml">A</mi><mi id="algx2.l28.m3.1.1.2.3" xref="algx2.l28.m3.1.1.2.3.cmml">P</mi><mi id="algx2.l28.m3.1.1.3" xref="algx2.l28.m3.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l28.m3.1b"><apply id="algx2.l28.m3.1.1.cmml" xref="algx2.l28.m3.1.1"><csymbol cd="ambiguous" id="algx2.l28.m3.1.1.1.cmml" xref="algx2.l28.m3.1.1">superscript</csymbol><apply id="algx2.l28.m3.1.1.2.cmml" xref="algx2.l28.m3.1.1"><csymbol cd="ambiguous" id="algx2.l28.m3.1.1.2.1.cmml" xref="algx2.l28.m3.1.1">subscript</csymbol><ci id="algx2.l28.m3.1.1.2.2.cmml" xref="algx2.l28.m3.1.1.2.2">ğ´</ci><ci id="algx2.l28.m3.1.1.2.3.cmml" xref="algx2.l28.m3.1.1.2.3">ğ‘ƒ</ci></apply><ci id="algx2.l28.m3.1.1.3.cmml" xref="algx2.l28.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l28.m3.1c">A_{P}^{u}</annotation></semantics></math>)

</div>
<div id="algx2.l29" class="ltx_listingline">Â Â Â Â Â return <span id="algx2.l29.1" class="ltx_text ltx_font_typewriter">CapSampleApproxâ€‰</span>(<math id="algx2.l29.m1.1" class="ltx_Math" alttext="A_{W}^{u}" display="inline"><semantics id="algx2.l29.m1.1a"><msubsup id="algx2.l29.m1.1.1" xref="algx2.l29.m1.1.1.cmml"><mi id="algx2.l29.m1.1.1.2.2" xref="algx2.l29.m1.1.1.2.2.cmml">A</mi><mi id="algx2.l29.m1.1.1.2.3" xref="algx2.l29.m1.1.1.2.3.cmml">W</mi><mi id="algx2.l29.m1.1.1.3" xref="algx2.l29.m1.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="algx2.l29.m1.1b"><apply id="algx2.l29.m1.1.1.cmml" xref="algx2.l29.m1.1.1"><csymbol cd="ambiguous" id="algx2.l29.m1.1.1.1.cmml" xref="algx2.l29.m1.1.1">superscript</csymbol><apply id="algx2.l29.m1.1.1.2.cmml" xref="algx2.l29.m1.1.1"><csymbol cd="ambiguous" id="algx2.l29.m1.1.1.2.1.cmml" xref="algx2.l29.m1.1.1">subscript</csymbol><ci id="algx2.l29.m1.1.1.2.2.cmml" xref="algx2.l29.m1.1.1.2.2">ğ´</ci><ci id="algx2.l29.m1.1.1.2.3.cmml" xref="algx2.l29.m1.1.1.2.3">ğ‘Š</ci></apply><ci id="algx2.l29.m1.1.1.3.cmml" xref="algx2.l29.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l29.m1.1c">A_{W}^{u}</annotation></semantics></math>, <math id="algx2.l29.m2.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l29.m2.1a"><msub id="algx2.l29.m2.1.1" xref="algx2.l29.m2.1.1.cmml"><mi id="algx2.l29.m2.1.1.2" xref="algx2.l29.m2.1.1.2.cmml">A</mi><mi id="algx2.l29.m2.1.1.3" xref="algx2.l29.m2.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l29.m2.1b"><apply id="algx2.l29.m2.1.1.cmml" xref="algx2.l29.m2.1.1"><csymbol cd="ambiguous" id="algx2.l29.m2.1.1.1.cmml" xref="algx2.l29.m2.1.1">subscript</csymbol><ci id="algx2.l29.m2.1.1.2.cmml" xref="algx2.l29.m2.1.1.2">ğ´</ci><ci id="algx2.l29.m2.1.1.3.cmml" xref="algx2.l29.m2.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l29.m2.1c">A_{W}</annotation></semantics></math>, <math id="algx2.l29.m3.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="algx2.l29.m3.1a"><msub id="algx2.l29.m3.1.1" xref="algx2.l29.m3.1.1.cmml"><mi id="algx2.l29.m3.1.1.2" xref="algx2.l29.m3.1.1.2.cmml">A</mi><mi id="algx2.l29.m3.1.1.3" xref="algx2.l29.m3.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l29.m3.1b"><apply id="algx2.l29.m3.1.1.cmml" xref="algx2.l29.m3.1.1"><csymbol cd="ambiguous" id="algx2.l29.m3.1.1.1.cmml" xref="algx2.l29.m3.1.1">subscript</csymbol><ci id="algx2.l29.m3.1.1.2.cmml" xref="algx2.l29.m3.1.1.2">ğ´</ci><ci id="algx2.l29.m3.1.1.3.cmml" xref="algx2.l29.m3.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l29.m3.1c">A_{W}</annotation></semantics></math>)

</div>
<div id="algx2.l30" class="ltx_listingline">
<span id="algx2.l30.1" class="ltx_text ltx_font_bold">end</span>Â <span id="algx2.l30.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</div>
</div>
</figure>
<div id="S6.p7" class="ltx_para">
<p id="S6.p7.4" class="ltx_p">A word-piece topology <math id="S6.p7.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p7.1.m1.1a"><mi id="S6.p7.1.m1.1.1" xref="S6.p7.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p7.1.m1.1b"><ci id="S6.p7.1.m1.1.1.cmml" xref="S6.p7.1.m1.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.1.m1.1c">B</annotation></semantics></math> equivalent to the word topology <math id="S6.p7.2.m2.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p7.2.m2.1a"><mi id="S6.p7.2.m2.1.1" xref="S6.p7.2.m2.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p7.2.m2.1b"><ci id="S6.p7.2.m2.1.1.cmml" xref="S6.p7.2.m2.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.2.m2.1c">A</annotation></semantics></math> can
be obtained by composing the word-piece-to-word transducer <math id="S6.p7.3.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S6.p7.3.m3.1a"><mi id="S6.p7.3.m3.1.1" xref="S6.p7.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S6.p7.3.m3.1b"><ci id="S6.p7.3.m3.1.1.cmml" xref="S6.p7.3.m3.1.1">ğ‘€</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.3.m3.1c">M</annotation></semantics></math> with <math id="S6.p7.4.m4.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p7.4.m4.1a"><mi id="S6.p7.4.m4.1.1" xref="S6.p7.4.m4.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p7.4.m4.1b"><ci id="S6.p7.4.m4.1.1.cmml" xref="S6.p7.4.m4.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.4.m4.1c">A</annotation></semantics></math>:</p>
<table id="S6.Ex8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S6.Ex8.m1.1" class="ltx_Math" alttext="B=M\circ A." display="block"><semantics id="S6.Ex8.m1.1a"><mrow id="S6.Ex8.m1.1.1.1" xref="S6.Ex8.m1.1.1.1.1.cmml"><mrow id="S6.Ex8.m1.1.1.1.1" xref="S6.Ex8.m1.1.1.1.1.cmml"><mi id="S6.Ex8.m1.1.1.1.1.2" xref="S6.Ex8.m1.1.1.1.1.2.cmml">B</mi><mo id="S6.Ex8.m1.1.1.1.1.1" xref="S6.Ex8.m1.1.1.1.1.1.cmml">=</mo><mrow id="S6.Ex8.m1.1.1.1.1.3" xref="S6.Ex8.m1.1.1.1.1.3.cmml"><mi id="S6.Ex8.m1.1.1.1.1.3.2" xref="S6.Ex8.m1.1.1.1.1.3.2.cmml">M</mi><mo lspace="0.222em" rspace="0.222em" id="S6.Ex8.m1.1.1.1.1.3.1" xref="S6.Ex8.m1.1.1.1.1.3.1.cmml">âˆ˜</mo><mi id="S6.Ex8.m1.1.1.1.1.3.3" xref="S6.Ex8.m1.1.1.1.1.3.3.cmml">A</mi></mrow></mrow><mo lspace="0em" id="S6.Ex8.m1.1.1.1.2" xref="S6.Ex8.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex8.m1.1b"><apply id="S6.Ex8.m1.1.1.1.1.cmml" xref="S6.Ex8.m1.1.1.1"><eq id="S6.Ex8.m1.1.1.1.1.1.cmml" xref="S6.Ex8.m1.1.1.1.1.1"></eq><ci id="S6.Ex8.m1.1.1.1.1.2.cmml" xref="S6.Ex8.m1.1.1.1.1.2">ğµ</ci><apply id="S6.Ex8.m1.1.1.1.1.3.cmml" xref="S6.Ex8.m1.1.1.1.1.3"><compose id="S6.Ex8.m1.1.1.1.1.3.1.cmml" xref="S6.Ex8.m1.1.1.1.1.3.1"></compose><ci id="S6.Ex8.m1.1.1.1.1.3.2.cmml" xref="S6.Ex8.m1.1.1.1.1.3.2">ğ‘€</ci><ci id="S6.Ex8.m1.1.1.1.1.3.3.cmml" xref="S6.Ex8.m1.1.1.1.1.3.3">ğ´</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex8.m1.1c">B=M\circ A.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S6.p7.7" class="ltx_p">Since <math id="S6.p7.5.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p7.5.m1.1a"><mi id="S6.p7.5.m1.1.1" xref="S6.p7.5.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p7.5.m1.1b"><ci id="S6.p7.5.m1.1.1.cmml" xref="S6.p7.5.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.5.m1.1c">A</annotation></semantics></math> has backoff transitions, the generic composition algorithm
ofÂ <cite class="ltx_cite ltx_citemacro_cite">Allauzen etÂ al. (<a href="#bib.bib3" title="" class="ltx_ref">2011</a>)</cite> is used with a custom composition filter that ensures the
result, <math id="S6.p7.6.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p7.6.m2.1a"><mi id="S6.p7.6.m2.1.1" xref="S6.p7.6.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p7.6.m2.1b"><ci id="S6.p7.6.m2.1.1.cmml" xref="S6.p7.6.m2.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.6.m2.1c">B</annotation></semantics></math>, is deterministic with a well-formed backoff structure, and hence is
suitable for the counting step of <span id="S6.p7.7.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰. We give an explicit description of
the construction of <math id="S6.p7.7.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p7.7.m3.1a"><mi id="S6.p7.7.m3.1.1" xref="S6.p7.7.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p7.7.m3.1b"><ci id="S6.p7.7.m3.1.1.cmml" xref="S6.p7.7.m3.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.7.m3.1c">B</annotation></semantics></math>, from which readers familiar withÂ <cite class="ltx_cite ltx_citemacro_citet">Allauzen etÂ al. (<a href="#bib.bib3" title="" class="ltx_ref">2011</a>)</cite> can
infer the form of the custom composition filter.</p>
</div>
<div id="S6.p8" class="ltx_para">
<p id="S6.p8.10" class="ltx_p">The states in <math id="S6.p8.1.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p8.1.m1.1a"><mi id="S6.p8.1.m1.1.1" xref="S6.p8.1.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p8.1.m1.1b"><ci id="S6.p8.1.m1.1.1.cmml" xref="S6.p8.1.m1.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.1.m1.1c">B</annotation></semantics></math> are pairs <math id="S6.p8.2.m2.2" class="ltx_Math" alttext="(q_{1},q_{2})" display="inline"><semantics id="S6.p8.2.m2.2a"><mrow id="S6.p8.2.m2.2.2.2" xref="S6.p8.2.m2.2.2.3.cmml"><mo stretchy="false" id="S6.p8.2.m2.2.2.2.3" xref="S6.p8.2.m2.2.2.3.cmml">(</mo><msub id="S6.p8.2.m2.1.1.1.1" xref="S6.p8.2.m2.1.1.1.1.cmml"><mi id="S6.p8.2.m2.1.1.1.1.2" xref="S6.p8.2.m2.1.1.1.1.2.cmml">q</mi><mn id="S6.p8.2.m2.1.1.1.1.3" xref="S6.p8.2.m2.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.p8.2.m2.2.2.2.4" xref="S6.p8.2.m2.2.2.3.cmml">,</mo><msub id="S6.p8.2.m2.2.2.2.2" xref="S6.p8.2.m2.2.2.2.2.cmml"><mi id="S6.p8.2.m2.2.2.2.2.2" xref="S6.p8.2.m2.2.2.2.2.2.cmml">q</mi><mn id="S6.p8.2.m2.2.2.2.2.3" xref="S6.p8.2.m2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.p8.2.m2.2.2.2.5" xref="S6.p8.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.2.m2.2b"><interval closure="open" id="S6.p8.2.m2.2.2.3.cmml" xref="S6.p8.2.m2.2.2.2"><apply id="S6.p8.2.m2.1.1.1.1.cmml" xref="S6.p8.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.2.m2.1.1.1.1.1.cmml" xref="S6.p8.2.m2.1.1.1.1">subscript</csymbol><ci id="S6.p8.2.m2.1.1.1.1.2.cmml" xref="S6.p8.2.m2.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.p8.2.m2.1.1.1.1.3.cmml" xref="S6.p8.2.m2.1.1.1.1.3">1</cn></apply><apply id="S6.p8.2.m2.2.2.2.2.cmml" xref="S6.p8.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S6.p8.2.m2.2.2.2.2.1.cmml" xref="S6.p8.2.m2.2.2.2.2">subscript</csymbol><ci id="S6.p8.2.m2.2.2.2.2.2.cmml" xref="S6.p8.2.m2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.p8.2.m2.2.2.2.2.3.cmml" xref="S6.p8.2.m2.2.2.2.2.3">2</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.2.m2.2c">(q_{1},q_{2})</annotation></semantics></math>, with <math id="S6.p8.3.m3.1" class="ltx_Math" alttext="q_{1}\in Q_{M}" display="inline"><semantics id="S6.p8.3.m3.1a"><mrow id="S6.p8.3.m3.1.1" xref="S6.p8.3.m3.1.1.cmml"><msub id="S6.p8.3.m3.1.1.2" xref="S6.p8.3.m3.1.1.2.cmml"><mi id="S6.p8.3.m3.1.1.2.2" xref="S6.p8.3.m3.1.1.2.2.cmml">q</mi><mn id="S6.p8.3.m3.1.1.2.3" xref="S6.p8.3.m3.1.1.2.3.cmml">1</mn></msub><mo id="S6.p8.3.m3.1.1.1" xref="S6.p8.3.m3.1.1.1.cmml">âˆˆ</mo><msub id="S6.p8.3.m3.1.1.3" xref="S6.p8.3.m3.1.1.3.cmml"><mi id="S6.p8.3.m3.1.1.3.2" xref="S6.p8.3.m3.1.1.3.2.cmml">Q</mi><mi id="S6.p8.3.m3.1.1.3.3" xref="S6.p8.3.m3.1.1.3.3.cmml">M</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.3.m3.1b"><apply id="S6.p8.3.m3.1.1.cmml" xref="S6.p8.3.m3.1.1"><in id="S6.p8.3.m3.1.1.1.cmml" xref="S6.p8.3.m3.1.1.1"></in><apply id="S6.p8.3.m3.1.1.2.cmml" xref="S6.p8.3.m3.1.1.2"><csymbol cd="ambiguous" id="S6.p8.3.m3.1.1.2.1.cmml" xref="S6.p8.3.m3.1.1.2">subscript</csymbol><ci id="S6.p8.3.m3.1.1.2.2.cmml" xref="S6.p8.3.m3.1.1.2.2">ğ‘</ci><cn type="integer" id="S6.p8.3.m3.1.1.2.3.cmml" xref="S6.p8.3.m3.1.1.2.3">1</cn></apply><apply id="S6.p8.3.m3.1.1.3.cmml" xref="S6.p8.3.m3.1.1.3"><csymbol cd="ambiguous" id="S6.p8.3.m3.1.1.3.1.cmml" xref="S6.p8.3.m3.1.1.3">subscript</csymbol><ci id="S6.p8.3.m3.1.1.3.2.cmml" xref="S6.p8.3.m3.1.1.3.2">ğ‘„</ci><ci id="S6.p8.3.m3.1.1.3.3.cmml" xref="S6.p8.3.m3.1.1.3.3">ğ‘€</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.3.m3.1c">q_{1}\in Q_{M}</annotation></semantics></math> and <math id="S6.p8.4.m4.1" class="ltx_Math" alttext="q_{2}" display="inline"><semantics id="S6.p8.4.m4.1a"><msub id="S6.p8.4.m4.1.1" xref="S6.p8.4.m4.1.1.cmml"><mi id="S6.p8.4.m4.1.1.2" xref="S6.p8.4.m4.1.1.2.cmml">q</mi><mn id="S6.p8.4.m4.1.1.3" xref="S6.p8.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S6.p8.4.m4.1b"><apply id="S6.p8.4.m4.1.1.cmml" xref="S6.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S6.p8.4.m4.1.1.1.cmml" xref="S6.p8.4.m4.1.1">subscript</csymbol><ci id="S6.p8.4.m4.1.1.2.cmml" xref="S6.p8.4.m4.1.1.2">ğ‘</ci><cn type="integer" id="S6.p8.4.m4.1.1.3.cmml" xref="S6.p8.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.4.m4.1c">q_{2}</annotation></semantics></math>
in <math id="S6.p8.5.m5.1" class="ltx_Math" alttext="Q_{A}" display="inline"><semantics id="S6.p8.5.m5.1a"><msub id="S6.p8.5.m5.1.1" xref="S6.p8.5.m5.1.1.cmml"><mi id="S6.p8.5.m5.1.1.2" xref="S6.p8.5.m5.1.1.2.cmml">Q</mi><mi id="S6.p8.5.m5.1.1.3" xref="S6.p8.5.m5.1.1.3.cmml">A</mi></msub><annotation-xml encoding="MathML-Content" id="S6.p8.5.m5.1b"><apply id="S6.p8.5.m5.1.1.cmml" xref="S6.p8.5.m5.1.1"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.1.cmml" xref="S6.p8.5.m5.1.1">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.cmml" xref="S6.p8.5.m5.1.1.2">ğ‘„</ci><ci id="S6.p8.5.m5.1.1.3.cmml" xref="S6.p8.5.m5.1.1.3">ğ´</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.5.m5.1c">Q_{A}</annotation></semantics></math>, initial state <math id="S6.p8.6.m6.2" class="ltx_Math" alttext="i_{B}=(i_{M},i_{A})" display="inline"><semantics id="S6.p8.6.m6.2a"><mrow id="S6.p8.6.m6.2.2" xref="S6.p8.6.m6.2.2.cmml"><msub id="S6.p8.6.m6.2.2.4" xref="S6.p8.6.m6.2.2.4.cmml"><mi id="S6.p8.6.m6.2.2.4.2" xref="S6.p8.6.m6.2.2.4.2.cmml">i</mi><mi id="S6.p8.6.m6.2.2.4.3" xref="S6.p8.6.m6.2.2.4.3.cmml">B</mi></msub><mo id="S6.p8.6.m6.2.2.3" xref="S6.p8.6.m6.2.2.3.cmml">=</mo><mrow id="S6.p8.6.m6.2.2.2.2" xref="S6.p8.6.m6.2.2.2.3.cmml"><mo stretchy="false" id="S6.p8.6.m6.2.2.2.2.3" xref="S6.p8.6.m6.2.2.2.3.cmml">(</mo><msub id="S6.p8.6.m6.1.1.1.1.1" xref="S6.p8.6.m6.1.1.1.1.1.cmml"><mi id="S6.p8.6.m6.1.1.1.1.1.2" xref="S6.p8.6.m6.1.1.1.1.1.2.cmml">i</mi><mi id="S6.p8.6.m6.1.1.1.1.1.3" xref="S6.p8.6.m6.1.1.1.1.1.3.cmml">M</mi></msub><mo id="S6.p8.6.m6.2.2.2.2.4" xref="S6.p8.6.m6.2.2.2.3.cmml">,</mo><msub id="S6.p8.6.m6.2.2.2.2.2" xref="S6.p8.6.m6.2.2.2.2.2.cmml"><mi id="S6.p8.6.m6.2.2.2.2.2.2" xref="S6.p8.6.m6.2.2.2.2.2.2.cmml">i</mi><mi id="S6.p8.6.m6.2.2.2.2.2.3" xref="S6.p8.6.m6.2.2.2.2.2.3.cmml">A</mi></msub><mo stretchy="false" id="S6.p8.6.m6.2.2.2.2.5" xref="S6.p8.6.m6.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.6.m6.2b"><apply id="S6.p8.6.m6.2.2.cmml" xref="S6.p8.6.m6.2.2"><eq id="S6.p8.6.m6.2.2.3.cmml" xref="S6.p8.6.m6.2.2.3"></eq><apply id="S6.p8.6.m6.2.2.4.cmml" xref="S6.p8.6.m6.2.2.4"><csymbol cd="ambiguous" id="S6.p8.6.m6.2.2.4.1.cmml" xref="S6.p8.6.m6.2.2.4">subscript</csymbol><ci id="S6.p8.6.m6.2.2.4.2.cmml" xref="S6.p8.6.m6.2.2.4.2">ğ‘–</ci><ci id="S6.p8.6.m6.2.2.4.3.cmml" xref="S6.p8.6.m6.2.2.4.3">ğµ</ci></apply><interval closure="open" id="S6.p8.6.m6.2.2.2.3.cmml" xref="S6.p8.6.m6.2.2.2.2"><apply id="S6.p8.6.m6.1.1.1.1.1.cmml" xref="S6.p8.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.6.m6.1.1.1.1.1.1.cmml" xref="S6.p8.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.6.m6.1.1.1.1.1.2.cmml" xref="S6.p8.6.m6.1.1.1.1.1.2">ğ‘–</ci><ci id="S6.p8.6.m6.1.1.1.1.1.3.cmml" xref="S6.p8.6.m6.1.1.1.1.1.3">ğ‘€</ci></apply><apply id="S6.p8.6.m6.2.2.2.2.2.cmml" xref="S6.p8.6.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.p8.6.m6.2.2.2.2.2.1.cmml" xref="S6.p8.6.m6.2.2.2.2.2">subscript</csymbol><ci id="S6.p8.6.m6.2.2.2.2.2.2.cmml" xref="S6.p8.6.m6.2.2.2.2.2.2">ğ‘–</ci><ci id="S6.p8.6.m6.2.2.2.2.2.3.cmml" xref="S6.p8.6.m6.2.2.2.2.2.3">ğ´</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.6.m6.2c">i_{B}=(i_{M},i_{A})</annotation></semantics></math>, and final state <math id="S6.p8.7.m7.2" class="ltx_Math" alttext="f_{B}=(f_{M},f_{A})" display="inline"><semantics id="S6.p8.7.m7.2a"><mrow id="S6.p8.7.m7.2.2" xref="S6.p8.7.m7.2.2.cmml"><msub id="S6.p8.7.m7.2.2.4" xref="S6.p8.7.m7.2.2.4.cmml"><mi id="S6.p8.7.m7.2.2.4.2" xref="S6.p8.7.m7.2.2.4.2.cmml">f</mi><mi id="S6.p8.7.m7.2.2.4.3" xref="S6.p8.7.m7.2.2.4.3.cmml">B</mi></msub><mo id="S6.p8.7.m7.2.2.3" xref="S6.p8.7.m7.2.2.3.cmml">=</mo><mrow id="S6.p8.7.m7.2.2.2.2" xref="S6.p8.7.m7.2.2.2.3.cmml"><mo stretchy="false" id="S6.p8.7.m7.2.2.2.2.3" xref="S6.p8.7.m7.2.2.2.3.cmml">(</mo><msub id="S6.p8.7.m7.1.1.1.1.1" xref="S6.p8.7.m7.1.1.1.1.1.cmml"><mi id="S6.p8.7.m7.1.1.1.1.1.2" xref="S6.p8.7.m7.1.1.1.1.1.2.cmml">f</mi><mi id="S6.p8.7.m7.1.1.1.1.1.3" xref="S6.p8.7.m7.1.1.1.1.1.3.cmml">M</mi></msub><mo id="S6.p8.7.m7.2.2.2.2.4" xref="S6.p8.7.m7.2.2.2.3.cmml">,</mo><msub id="S6.p8.7.m7.2.2.2.2.2" xref="S6.p8.7.m7.2.2.2.2.2.cmml"><mi id="S6.p8.7.m7.2.2.2.2.2.2" xref="S6.p8.7.m7.2.2.2.2.2.2.cmml">f</mi><mi id="S6.p8.7.m7.2.2.2.2.2.3" xref="S6.p8.7.m7.2.2.2.2.2.3.cmml">A</mi></msub><mo stretchy="false" id="S6.p8.7.m7.2.2.2.2.5" xref="S6.p8.7.m7.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.7.m7.2b"><apply id="S6.p8.7.m7.2.2.cmml" xref="S6.p8.7.m7.2.2"><eq id="S6.p8.7.m7.2.2.3.cmml" xref="S6.p8.7.m7.2.2.3"></eq><apply id="S6.p8.7.m7.2.2.4.cmml" xref="S6.p8.7.m7.2.2.4"><csymbol cd="ambiguous" id="S6.p8.7.m7.2.2.4.1.cmml" xref="S6.p8.7.m7.2.2.4">subscript</csymbol><ci id="S6.p8.7.m7.2.2.4.2.cmml" xref="S6.p8.7.m7.2.2.4.2">ğ‘“</ci><ci id="S6.p8.7.m7.2.2.4.3.cmml" xref="S6.p8.7.m7.2.2.4.3">ğµ</ci></apply><interval closure="open" id="S6.p8.7.m7.2.2.2.3.cmml" xref="S6.p8.7.m7.2.2.2.2"><apply id="S6.p8.7.m7.1.1.1.1.1.cmml" xref="S6.p8.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.7.m7.1.1.1.1.1.1.cmml" xref="S6.p8.7.m7.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.7.m7.1.1.1.1.1.2.cmml" xref="S6.p8.7.m7.1.1.1.1.1.2">ğ‘“</ci><ci id="S6.p8.7.m7.1.1.1.1.1.3.cmml" xref="S6.p8.7.m7.1.1.1.1.1.3">ğ‘€</ci></apply><apply id="S6.p8.7.m7.2.2.2.2.2.cmml" xref="S6.p8.7.m7.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.p8.7.m7.2.2.2.2.2.1.cmml" xref="S6.p8.7.m7.2.2.2.2.2">subscript</csymbol><ci id="S6.p8.7.m7.2.2.2.2.2.2.cmml" xref="S6.p8.7.m7.2.2.2.2.2.2">ğ‘“</ci><ci id="S6.p8.7.m7.2.2.2.2.2.3.cmml" xref="S6.p8.7.m7.2.2.2.2.2.3">ğ´</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.7.m7.2c">f_{B}=(f_{M},f_{A})</annotation></semantics></math>.
Given a state <math id="S6.p8.8.m8.2" class="ltx_Math" alttext="(q_{1},q_{2})\in Q_{B}" display="inline"><semantics id="S6.p8.8.m8.2a"><mrow id="S6.p8.8.m8.2.2" xref="S6.p8.8.m8.2.2.cmml"><mrow id="S6.p8.8.m8.2.2.2.2" xref="S6.p8.8.m8.2.2.2.3.cmml"><mo stretchy="false" id="S6.p8.8.m8.2.2.2.2.3" xref="S6.p8.8.m8.2.2.2.3.cmml">(</mo><msub id="S6.p8.8.m8.1.1.1.1.1" xref="S6.p8.8.m8.1.1.1.1.1.cmml"><mi id="S6.p8.8.m8.1.1.1.1.1.2" xref="S6.p8.8.m8.1.1.1.1.1.2.cmml">q</mi><mn id="S6.p8.8.m8.1.1.1.1.1.3" xref="S6.p8.8.m8.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.p8.8.m8.2.2.2.2.4" xref="S6.p8.8.m8.2.2.2.3.cmml">,</mo><msub id="S6.p8.8.m8.2.2.2.2.2" xref="S6.p8.8.m8.2.2.2.2.2.cmml"><mi id="S6.p8.8.m8.2.2.2.2.2.2" xref="S6.p8.8.m8.2.2.2.2.2.2.cmml">q</mi><mn id="S6.p8.8.m8.2.2.2.2.2.3" xref="S6.p8.8.m8.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.p8.8.m8.2.2.2.2.5" xref="S6.p8.8.m8.2.2.2.3.cmml">)</mo></mrow><mo id="S6.p8.8.m8.2.2.3" xref="S6.p8.8.m8.2.2.3.cmml">âˆˆ</mo><msub id="S6.p8.8.m8.2.2.4" xref="S6.p8.8.m8.2.2.4.cmml"><mi id="S6.p8.8.m8.2.2.4.2" xref="S6.p8.8.m8.2.2.4.2.cmml">Q</mi><mi id="S6.p8.8.m8.2.2.4.3" xref="S6.p8.8.m8.2.2.4.3.cmml">B</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.8.m8.2b"><apply id="S6.p8.8.m8.2.2.cmml" xref="S6.p8.8.m8.2.2"><in id="S6.p8.8.m8.2.2.3.cmml" xref="S6.p8.8.m8.2.2.3"></in><interval closure="open" id="S6.p8.8.m8.2.2.2.3.cmml" xref="S6.p8.8.m8.2.2.2.2"><apply id="S6.p8.8.m8.1.1.1.1.1.cmml" xref="S6.p8.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.8.m8.1.1.1.1.1.1.cmml" xref="S6.p8.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.8.m8.1.1.1.1.1.2.cmml" xref="S6.p8.8.m8.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.p8.8.m8.1.1.1.1.1.3.cmml" xref="S6.p8.8.m8.1.1.1.1.1.3">1</cn></apply><apply id="S6.p8.8.m8.2.2.2.2.2.cmml" xref="S6.p8.8.m8.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.p8.8.m8.2.2.2.2.2.1.cmml" xref="S6.p8.8.m8.2.2.2.2.2">subscript</csymbol><ci id="S6.p8.8.m8.2.2.2.2.2.2.cmml" xref="S6.p8.8.m8.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.p8.8.m8.2.2.2.2.2.3.cmml" xref="S6.p8.8.m8.2.2.2.2.2.3">2</cn></apply></interval><apply id="S6.p8.8.m8.2.2.4.cmml" xref="S6.p8.8.m8.2.2.4"><csymbol cd="ambiguous" id="S6.p8.8.m8.2.2.4.1.cmml" xref="S6.p8.8.m8.2.2.4">subscript</csymbol><ci id="S6.p8.8.m8.2.2.4.2.cmml" xref="S6.p8.8.m8.2.2.4.2">ğ‘„</ci><ci id="S6.p8.8.m8.2.2.4.3.cmml" xref="S6.p8.8.m8.2.2.4.3">ğµ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.8.m8.2c">(q_{1},q_{2})\in Q_{B}</annotation></semantics></math>, the outgoing transitions and their
destination states are defined as follows. If <math id="S6.p8.9.m9.1" class="ltx_Math" alttext="x\in L[q_{1}]" display="inline"><semantics id="S6.p8.9.m9.1a"><mrow id="S6.p8.9.m9.1.1" xref="S6.p8.9.m9.1.1.cmml"><mi id="S6.p8.9.m9.1.1.3" xref="S6.p8.9.m9.1.1.3.cmml">x</mi><mo id="S6.p8.9.m9.1.1.2" xref="S6.p8.9.m9.1.1.2.cmml">âˆˆ</mo><mrow id="S6.p8.9.m9.1.1.1" xref="S6.p8.9.m9.1.1.1.cmml"><mi id="S6.p8.9.m9.1.1.1.3" xref="S6.p8.9.m9.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S6.p8.9.m9.1.1.1.2" xref="S6.p8.9.m9.1.1.1.2.cmml">â€‹</mo><mrow id="S6.p8.9.m9.1.1.1.1.1" xref="S6.p8.9.m9.1.1.1.1.2.cmml"><mo stretchy="false" id="S6.p8.9.m9.1.1.1.1.1.2" xref="S6.p8.9.m9.1.1.1.1.2.1.cmml">[</mo><msub id="S6.p8.9.m9.1.1.1.1.1.1" xref="S6.p8.9.m9.1.1.1.1.1.1.cmml"><mi id="S6.p8.9.m9.1.1.1.1.1.1.2" xref="S6.p8.9.m9.1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.p8.9.m9.1.1.1.1.1.1.3" xref="S6.p8.9.m9.1.1.1.1.1.1.3.cmml">1</mn></msub><mo stretchy="false" id="S6.p8.9.m9.1.1.1.1.1.3" xref="S6.p8.9.m9.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.9.m9.1b"><apply id="S6.p8.9.m9.1.1.cmml" xref="S6.p8.9.m9.1.1"><in id="S6.p8.9.m9.1.1.2.cmml" xref="S6.p8.9.m9.1.1.2"></in><ci id="S6.p8.9.m9.1.1.3.cmml" xref="S6.p8.9.m9.1.1.3">ğ‘¥</ci><apply id="S6.p8.9.m9.1.1.1.cmml" xref="S6.p8.9.m9.1.1.1"><times id="S6.p8.9.m9.1.1.1.2.cmml" xref="S6.p8.9.m9.1.1.1.2"></times><ci id="S6.p8.9.m9.1.1.1.3.cmml" xref="S6.p8.9.m9.1.1.1.3">ğ¿</ci><apply id="S6.p8.9.m9.1.1.1.1.2.cmml" xref="S6.p8.9.m9.1.1.1.1.1"><csymbol cd="latexml" id="S6.p8.9.m9.1.1.1.1.2.1.cmml" xref="S6.p8.9.m9.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S6.p8.9.m9.1.1.1.1.1.1.cmml" xref="S6.p8.9.m9.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.9.m9.1.1.1.1.1.1.1.cmml" xref="S6.p8.9.m9.1.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.9.m9.1.1.1.1.1.1.2.cmml" xref="S6.p8.9.m9.1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.p8.9.m9.1.1.1.1.1.1.3.cmml" xref="S6.p8.9.m9.1.1.1.1.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.9.m9.1c">x\in L[q_{1}]</annotation></semantics></math>, then an
<math id="S6.p8.10.m10.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S6.p8.10.m10.1a"><mi id="S6.p8.10.m10.1.1" xref="S6.p8.10.m10.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S6.p8.10.m10.1b"><ci id="S6.p8.10.m10.1.1.cmml" xref="S6.p8.10.m10.1.1">ğ‘¥</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.10.m10.1c">x</annotation></semantics></math>-labeled transition is created if one of two conditions holds:</p>
<ol id="S6.I1" class="ltx_enumerate">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.1" class="ltx_p">if <math id="S6.I1.i1.p1.1.m1.2" class="ltx_Math" alttext="o_{q_{1}}[x]\in L[q_{2}]" display="inline"><semantics id="S6.I1.i1.p1.1.m1.2a"><mrow id="S6.I1.i1.p1.1.m1.2.2" xref="S6.I1.i1.p1.1.m1.2.2.cmml"><mrow id="S6.I1.i1.p1.1.m1.2.2.3" xref="S6.I1.i1.p1.1.m1.2.2.3.cmml"><msub id="S6.I1.i1.p1.1.m1.2.2.3.2" xref="S6.I1.i1.p1.1.m1.2.2.3.2.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.3.2.2" xref="S6.I1.i1.p1.1.m1.2.2.3.2.2.cmml">o</mi><msub id="S6.I1.i1.p1.1.m1.2.2.3.2.3" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.3.2.3.2" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3.2.cmml">q</mi><mn id="S6.I1.i1.p1.1.m1.2.2.3.2.3.3" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.I1.i1.p1.1.m1.2.2.3.1" xref="S6.I1.i1.p1.1.m1.2.2.3.1.cmml">â€‹</mo><mrow id="S6.I1.i1.p1.1.m1.2.2.3.3.2" xref="S6.I1.i1.p1.1.m1.2.2.3.3.1.cmml"><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.3.3.2.1" xref="S6.I1.i1.p1.1.m1.2.2.3.3.1.1.cmml">[</mo><mi id="S6.I1.i1.p1.1.m1.1.1" xref="S6.I1.i1.p1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.3.3.2.2" xref="S6.I1.i1.p1.1.m1.2.2.3.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.I1.i1.p1.1.m1.2.2.2" xref="S6.I1.i1.p1.1.m1.2.2.2.cmml">âˆˆ</mo><mrow id="S6.I1.i1.p1.1.m1.2.2.1" xref="S6.I1.i1.p1.1.m1.2.2.1.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.1.3" xref="S6.I1.i1.p1.1.m1.2.2.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S6.I1.i1.p1.1.m1.2.2.1.2" xref="S6.I1.i1.p1.1.m1.2.2.1.2.cmml">â€‹</mo><mrow id="S6.I1.i1.p1.1.m1.2.2.1.1.1" xref="S6.I1.i1.p1.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.1.1.1.2" xref="S6.I1.i1.p1.1.m1.2.2.1.1.2.1.cmml">[</mo><msub id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.cmml"><mi id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.2" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.2.cmml">q</mi><mn id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.3" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.3.cmml">2</mn></msub><mo stretchy="false" id="S6.I1.i1.p1.1.m1.2.2.1.1.1.3" xref="S6.I1.i1.p1.1.m1.2.2.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i1.p1.1.m1.2b"><apply id="S6.I1.i1.p1.1.m1.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2"><in id="S6.I1.i1.p1.1.m1.2.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.2"></in><apply id="S6.I1.i1.p1.1.m1.2.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3"><times id="S6.I1.i1.p1.1.m1.2.2.3.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.1"></times><apply id="S6.I1.i1.p1.1.m1.2.2.3.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.2.2.3.2.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.2.2.3.2.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2.2">ğ‘œ</ci><apply id="S6.I1.i1.p1.1.m1.2.2.3.2.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.2.2.3.2.3.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.2.2.3.2.3.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3.2">ğ‘</ci><cn type="integer" id="S6.I1.i1.p1.1.m1.2.2.3.2.3.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.2.3.3">1</cn></apply></apply><apply id="S6.I1.i1.p1.1.m1.2.2.3.3.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.3.2"><csymbol cd="latexml" id="S6.I1.i1.p1.1.m1.2.2.3.3.1.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.3.3.2.1">delimited-[]</csymbol><ci id="S6.I1.i1.p1.1.m1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.1.1">ğ‘¥</ci></apply></apply><apply id="S6.I1.i1.p1.1.m1.2.2.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1"><times id="S6.I1.i1.p1.1.m1.2.2.1.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.2"></times><ci id="S6.I1.i1.p1.1.m1.2.2.1.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.3">ğ¿</ci><apply id="S6.I1.i1.p1.1.m1.2.2.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1"><csymbol cd="latexml" id="S6.I1.i1.p1.1.m1.2.2.1.1.2.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.2">delimited-[]</csymbol><apply id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.1.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.2.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.3.cmml" xref="S6.I1.i1.p1.1.m1.2.2.1.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i1.p1.1.m1.2c">o_{q_{1}}[x]\in L[q_{2}]</annotation></semantics></math>, then</p>
<table id="Sx1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S6.Ex9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S6.Ex9.m1.3" class="ltx_Math" alttext="\displaystyle d_{(q_{1},q_{2})}[x]" display="inline"><semantics id="S6.Ex9.m1.3a"><mrow id="S6.Ex9.m1.3.4" xref="S6.Ex9.m1.3.4.cmml"><msub id="S6.Ex9.m1.3.4.2" xref="S6.Ex9.m1.3.4.2.cmml"><mi id="S6.Ex9.m1.3.4.2.2" xref="S6.Ex9.m1.3.4.2.2.cmml">d</mi><mrow id="S6.Ex9.m1.2.2.2.2" xref="S6.Ex9.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex9.m1.2.2.2.2.3" xref="S6.Ex9.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex9.m1.1.1.1.1.1" xref="S6.Ex9.m1.1.1.1.1.1.cmml"><mi id="S6.Ex9.m1.1.1.1.1.1.2" xref="S6.Ex9.m1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex9.m1.1.1.1.1.1.3" xref="S6.Ex9.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex9.m1.2.2.2.2.4" xref="S6.Ex9.m1.2.2.2.3.cmml">,</mo><msub id="S6.Ex9.m1.2.2.2.2.2" xref="S6.Ex9.m1.2.2.2.2.2.cmml"><mi id="S6.Ex9.m1.2.2.2.2.2.2" xref="S6.Ex9.m1.2.2.2.2.2.2.cmml">q</mi><mn id="S6.Ex9.m1.2.2.2.2.2.3" xref="S6.Ex9.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.Ex9.m1.2.2.2.2.5" xref="S6.Ex9.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex9.m1.3.4.1" xref="S6.Ex9.m1.3.4.1.cmml">â€‹</mo><mrow id="S6.Ex9.m1.3.4.3.2" xref="S6.Ex9.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.Ex9.m1.3.4.3.2.1" xref="S6.Ex9.m1.3.4.3.1.1.cmml">[</mo><mi id="S6.Ex9.m1.3.3" xref="S6.Ex9.m1.3.3.cmml">x</mi><mo stretchy="false" id="S6.Ex9.m1.3.4.3.2.2" xref="S6.Ex9.m1.3.4.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex9.m1.3b"><apply id="S6.Ex9.m1.3.4.cmml" xref="S6.Ex9.m1.3.4"><times id="S6.Ex9.m1.3.4.1.cmml" xref="S6.Ex9.m1.3.4.1"></times><apply id="S6.Ex9.m1.3.4.2.cmml" xref="S6.Ex9.m1.3.4.2"><csymbol cd="ambiguous" id="S6.Ex9.m1.3.4.2.1.cmml" xref="S6.Ex9.m1.3.4.2">subscript</csymbol><ci id="S6.Ex9.m1.3.4.2.2.cmml" xref="S6.Ex9.m1.3.4.2.2">ğ‘‘</ci><interval closure="open" id="S6.Ex9.m1.2.2.2.3.cmml" xref="S6.Ex9.m1.2.2.2.2"><apply id="S6.Ex9.m1.1.1.1.1.1.cmml" xref="S6.Ex9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex9.m1.1.1.1.1.1.1.cmml" xref="S6.Ex9.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex9.m1.1.1.1.1.1.2.cmml" xref="S6.Ex9.m1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex9.m1.1.1.1.1.1.3.cmml" xref="S6.Ex9.m1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex9.m1.2.2.2.2.2.cmml" xref="S6.Ex9.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex9.m1.2.2.2.2.2.1.cmml" xref="S6.Ex9.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex9.m1.2.2.2.2.2.2.cmml" xref="S6.Ex9.m1.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex9.m1.2.2.2.2.2.3.cmml" xref="S6.Ex9.m1.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S6.Ex9.m1.3.4.3.1.cmml" xref="S6.Ex9.m1.3.4.3.2"><csymbol cd="latexml" id="S6.Ex9.m1.3.4.3.1.1.cmml" xref="S6.Ex9.m1.3.4.3.2.1">delimited-[]</csymbol><ci id="S6.Ex9.m1.3.3.cmml" xref="S6.Ex9.m1.3.3">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex9.m1.3c">\displaystyle d_{(q_{1},q_{2})}[x]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S6.Ex9.m2.4" class="ltx_Math" alttext="\displaystyle=(d_{q_{1}}[x],d_{q_{2}}[o_{q_{1}}[x]])\text{ and }" display="inline"><semantics id="S6.Ex9.m2.4a"><mrow id="S6.Ex9.m2.4.4" xref="S6.Ex9.m2.4.4.cmml"><mi id="S6.Ex9.m2.4.4.4" xref="S6.Ex9.m2.4.4.4.cmml"></mi><mo id="S6.Ex9.m2.4.4.3" xref="S6.Ex9.m2.4.4.3.cmml">=</mo><mrow id="S6.Ex9.m2.4.4.2" xref="S6.Ex9.m2.4.4.2.cmml"><mrow id="S6.Ex9.m2.4.4.2.2.2" xref="S6.Ex9.m2.4.4.2.2.3.cmml"><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.3" xref="S6.Ex9.m2.4.4.2.2.3.cmml">(</mo><mrow id="S6.Ex9.m2.3.3.1.1.1.1" xref="S6.Ex9.m2.3.3.1.1.1.1.cmml"><msub id="S6.Ex9.m2.3.3.1.1.1.1.2" xref="S6.Ex9.m2.3.3.1.1.1.1.2.cmml"><mi id="S6.Ex9.m2.3.3.1.1.1.1.2.2" xref="S6.Ex9.m2.3.3.1.1.1.1.2.2.cmml">d</mi><msub id="S6.Ex9.m2.3.3.1.1.1.1.2.3" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3.cmml"><mi id="S6.Ex9.m2.3.3.1.1.1.1.2.3.2" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3.2.cmml">q</mi><mn id="S6.Ex9.m2.3.3.1.1.1.1.2.3.3" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex9.m2.3.3.1.1.1.1.1" xref="S6.Ex9.m2.3.3.1.1.1.1.1.cmml">â€‹</mo><mrow id="S6.Ex9.m2.3.3.1.1.1.1.3.2" xref="S6.Ex9.m2.3.3.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S6.Ex9.m2.3.3.1.1.1.1.3.2.1" xref="S6.Ex9.m2.3.3.1.1.1.1.3.1.1.cmml">[</mo><mi id="S6.Ex9.m2.1.1" xref="S6.Ex9.m2.1.1.cmml">x</mi><mo stretchy="false" id="S6.Ex9.m2.3.3.1.1.1.1.3.2.2" xref="S6.Ex9.m2.3.3.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.Ex9.m2.4.4.2.2.2.4" xref="S6.Ex9.m2.4.4.2.2.3.cmml">,</mo><mrow id="S6.Ex9.m2.4.4.2.2.2.2" xref="S6.Ex9.m2.4.4.2.2.2.2.cmml"><msub id="S6.Ex9.m2.4.4.2.2.2.2.3" xref="S6.Ex9.m2.4.4.2.2.2.2.3.cmml"><mi id="S6.Ex9.m2.4.4.2.2.2.2.3.2" xref="S6.Ex9.m2.4.4.2.2.2.2.3.2.cmml">d</mi><msub id="S6.Ex9.m2.4.4.2.2.2.2.3.3" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3.cmml"><mi id="S6.Ex9.m2.4.4.2.2.2.2.3.3.2" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3.2.cmml">q</mi><mn id="S6.Ex9.m2.4.4.2.2.2.2.3.3.3" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3.3.cmml">2</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex9.m2.4.4.2.2.2.2.2" xref="S6.Ex9.m2.4.4.2.2.2.2.2.cmml">â€‹</mo><mrow id="S6.Ex9.m2.4.4.2.2.2.2.1.1" xref="S6.Ex9.m2.4.4.2.2.2.2.1.2.cmml"><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.2.1.cmml">[</mo><mrow id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.cmml"><msub id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.cmml"><mi id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.2.cmml">o</mi><msub id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.cmml"><mi id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.2.cmml">q</mi><mn id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.3" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.1" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.1.cmml">â€‹</mo><mrow id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.1.cmml"><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.2.1" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml">[</mo><mi id="S6.Ex9.m2.2.2" xref="S6.Ex9.m2.2.2.cmml">x</mi><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.2.2" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.3" xref="S6.Ex9.m2.4.4.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.Ex9.m2.4.4.2.2.2.5" xref="S6.Ex9.m2.4.4.2.2.3.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S6.Ex9.m2.4.4.2.3" xref="S6.Ex9.m2.4.4.2.3.cmml">â€‹</mo><mtext id="S6.Ex9.m2.4.4.2.4" xref="S6.Ex9.m2.4.4.2.4a.cmml">Â and</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex9.m2.4b"><apply id="S6.Ex9.m2.4.4.cmml" xref="S6.Ex9.m2.4.4"><eq id="S6.Ex9.m2.4.4.3.cmml" xref="S6.Ex9.m2.4.4.3"></eq><csymbol cd="latexml" id="S6.Ex9.m2.4.4.4.cmml" xref="S6.Ex9.m2.4.4.4">absent</csymbol><apply id="S6.Ex9.m2.4.4.2.cmml" xref="S6.Ex9.m2.4.4.2"><times id="S6.Ex9.m2.4.4.2.3.cmml" xref="S6.Ex9.m2.4.4.2.3"></times><interval closure="open" id="S6.Ex9.m2.4.4.2.2.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2"><apply id="S6.Ex9.m2.3.3.1.1.1.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1"><times id="S6.Ex9.m2.3.3.1.1.1.1.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.1"></times><apply id="S6.Ex9.m2.3.3.1.1.1.1.2.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.Ex9.m2.3.3.1.1.1.1.2.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2">subscript</csymbol><ci id="S6.Ex9.m2.3.3.1.1.1.1.2.2.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2.2">ğ‘‘</ci><apply id="S6.Ex9.m2.3.3.1.1.1.1.2.3.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.Ex9.m2.3.3.1.1.1.1.2.3.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3">subscript</csymbol><ci id="S6.Ex9.m2.3.3.1.1.1.1.2.3.2.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex9.m2.3.3.1.1.1.1.2.3.3.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S6.Ex9.m2.3.3.1.1.1.1.3.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.3.2"><csymbol cd="latexml" id="S6.Ex9.m2.3.3.1.1.1.1.3.1.1.cmml" xref="S6.Ex9.m2.3.3.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S6.Ex9.m2.1.1.cmml" xref="S6.Ex9.m2.1.1">ğ‘¥</ci></apply></apply><apply id="S6.Ex9.m2.4.4.2.2.2.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2"><times id="S6.Ex9.m2.4.4.2.2.2.2.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.2"></times><apply id="S6.Ex9.m2.4.4.2.2.2.2.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S6.Ex9.m2.4.4.2.2.2.2.3.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3">subscript</csymbol><ci id="S6.Ex9.m2.4.4.2.2.2.2.3.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3.2">ğ‘‘</ci><apply id="S6.Ex9.m2.4.4.2.2.2.2.3.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S6.Ex9.m2.4.4.2.2.2.2.3.3.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3">subscript</csymbol><ci id="S6.Ex9.m2.4.4.2.2.2.2.3.3.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3.2">ğ‘</ci><cn type="integer" id="S6.Ex9.m2.4.4.2.2.2.2.3.3.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.3.3.3">2</cn></apply></apply><apply id="S6.Ex9.m2.4.4.2.2.2.2.1.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1"><csymbol cd="latexml" id="S6.Ex9.m2.4.4.2.2.2.2.1.2.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1"><times id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.1"></times><apply id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.2">ğ‘œ</ci><apply id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3">subscript</csymbol><ci id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.2.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.3.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.2.3.3">1</cn></apply></apply><apply id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.2"><csymbol cd="latexml" id="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml" xref="S6.Ex9.m2.4.4.2.2.2.2.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S6.Ex9.m2.2.2.cmml" xref="S6.Ex9.m2.2.2">ğ‘¥</ci></apply></apply></apply></apply></interval><ci id="S6.Ex9.m2.4.4.2.4a.cmml" xref="S6.Ex9.m2.4.4.2.4"><mtext id="S6.Ex9.m2.4.4.2.4.cmml" xref="S6.Ex9.m2.4.4.2.4">Â and</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex9.m2.4c">\displaystyle=(d_{q_{1}}[x],d_{q_{2}}[o_{q_{1}}[x]])\text{ and }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S6.Ex10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S6.Ex10.m1.3" class="ltx_Math" alttext="\displaystyle o_{(q_{1},q_{2})}[x]" display="inline"><semantics id="S6.Ex10.m1.3a"><mrow id="S6.Ex10.m1.3.4" xref="S6.Ex10.m1.3.4.cmml"><msub id="S6.Ex10.m1.3.4.2" xref="S6.Ex10.m1.3.4.2.cmml"><mi id="S6.Ex10.m1.3.4.2.2" xref="S6.Ex10.m1.3.4.2.2.cmml">o</mi><mrow id="S6.Ex10.m1.2.2.2.2" xref="S6.Ex10.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex10.m1.2.2.2.2.3" xref="S6.Ex10.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex10.m1.1.1.1.1.1" xref="S6.Ex10.m1.1.1.1.1.1.cmml"><mi id="S6.Ex10.m1.1.1.1.1.1.2" xref="S6.Ex10.m1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex10.m1.1.1.1.1.1.3" xref="S6.Ex10.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex10.m1.2.2.2.2.4" xref="S6.Ex10.m1.2.2.2.3.cmml">,</mo><msub id="S6.Ex10.m1.2.2.2.2.2" xref="S6.Ex10.m1.2.2.2.2.2.cmml"><mi id="S6.Ex10.m1.2.2.2.2.2.2" xref="S6.Ex10.m1.2.2.2.2.2.2.cmml">q</mi><mn id="S6.Ex10.m1.2.2.2.2.2.3" xref="S6.Ex10.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.Ex10.m1.2.2.2.2.5" xref="S6.Ex10.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex10.m1.3.4.1" xref="S6.Ex10.m1.3.4.1.cmml">â€‹</mo><mrow id="S6.Ex10.m1.3.4.3.2" xref="S6.Ex10.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.Ex10.m1.3.4.3.2.1" xref="S6.Ex10.m1.3.4.3.1.1.cmml">[</mo><mi id="S6.Ex10.m1.3.3" xref="S6.Ex10.m1.3.3.cmml">x</mi><mo stretchy="false" id="S6.Ex10.m1.3.4.3.2.2" xref="S6.Ex10.m1.3.4.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex10.m1.3b"><apply id="S6.Ex10.m1.3.4.cmml" xref="S6.Ex10.m1.3.4"><times id="S6.Ex10.m1.3.4.1.cmml" xref="S6.Ex10.m1.3.4.1"></times><apply id="S6.Ex10.m1.3.4.2.cmml" xref="S6.Ex10.m1.3.4.2"><csymbol cd="ambiguous" id="S6.Ex10.m1.3.4.2.1.cmml" xref="S6.Ex10.m1.3.4.2">subscript</csymbol><ci id="S6.Ex10.m1.3.4.2.2.cmml" xref="S6.Ex10.m1.3.4.2.2">ğ‘œ</ci><interval closure="open" id="S6.Ex10.m1.2.2.2.3.cmml" xref="S6.Ex10.m1.2.2.2.2"><apply id="S6.Ex10.m1.1.1.1.1.1.cmml" xref="S6.Ex10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex10.m1.1.1.1.1.1.1.cmml" xref="S6.Ex10.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex10.m1.1.1.1.1.1.2.cmml" xref="S6.Ex10.m1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex10.m1.1.1.1.1.1.3.cmml" xref="S6.Ex10.m1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex10.m1.2.2.2.2.2.cmml" xref="S6.Ex10.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex10.m1.2.2.2.2.2.1.cmml" xref="S6.Ex10.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex10.m1.2.2.2.2.2.2.cmml" xref="S6.Ex10.m1.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex10.m1.2.2.2.2.2.3.cmml" xref="S6.Ex10.m1.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S6.Ex10.m1.3.4.3.1.cmml" xref="S6.Ex10.m1.3.4.3.2"><csymbol cd="latexml" id="S6.Ex10.m1.3.4.3.1.1.cmml" xref="S6.Ex10.m1.3.4.3.2.1">delimited-[]</csymbol><ci id="S6.Ex10.m1.3.3.cmml" xref="S6.Ex10.m1.3.3">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex10.m1.3c">\displaystyle o_{(q_{1},q_{2})}[x]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S6.Ex10.m2.2" class="ltx_Math" alttext="\displaystyle=o_{q_{1}}[x];" display="inline"><semantics id="S6.Ex10.m2.2a"><mrow id="S6.Ex10.m2.2.2.1" xref="S6.Ex10.m2.2.2.1.1.cmml"><mrow id="S6.Ex10.m2.2.2.1.1" xref="S6.Ex10.m2.2.2.1.1.cmml"><mi id="S6.Ex10.m2.2.2.1.1.2" xref="S6.Ex10.m2.2.2.1.1.2.cmml"></mi><mo id="S6.Ex10.m2.2.2.1.1.1" xref="S6.Ex10.m2.2.2.1.1.1.cmml">=</mo><mrow id="S6.Ex10.m2.2.2.1.1.3" xref="S6.Ex10.m2.2.2.1.1.3.cmml"><msub id="S6.Ex10.m2.2.2.1.1.3.2" xref="S6.Ex10.m2.2.2.1.1.3.2.cmml"><mi id="S6.Ex10.m2.2.2.1.1.3.2.2" xref="S6.Ex10.m2.2.2.1.1.3.2.2.cmml">o</mi><msub id="S6.Ex10.m2.2.2.1.1.3.2.3" xref="S6.Ex10.m2.2.2.1.1.3.2.3.cmml"><mi id="S6.Ex10.m2.2.2.1.1.3.2.3.2" xref="S6.Ex10.m2.2.2.1.1.3.2.3.2.cmml">q</mi><mn id="S6.Ex10.m2.2.2.1.1.3.2.3.3" xref="S6.Ex10.m2.2.2.1.1.3.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex10.m2.2.2.1.1.3.1" xref="S6.Ex10.m2.2.2.1.1.3.1.cmml">â€‹</mo><mrow id="S6.Ex10.m2.2.2.1.1.3.3.2" xref="S6.Ex10.m2.2.2.1.1.3.3.1.cmml"><mo stretchy="false" id="S6.Ex10.m2.2.2.1.1.3.3.2.1" xref="S6.Ex10.m2.2.2.1.1.3.3.1.1.cmml">[</mo><mi id="S6.Ex10.m2.1.1" xref="S6.Ex10.m2.1.1.cmml">x</mi><mo stretchy="false" id="S6.Ex10.m2.2.2.1.1.3.3.2.2" xref="S6.Ex10.m2.2.2.1.1.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo id="S6.Ex10.m2.2.2.1.2" xref="S6.Ex10.m2.2.2.1.1.cmml">;</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex10.m2.2b"><apply id="S6.Ex10.m2.2.2.1.1.cmml" xref="S6.Ex10.m2.2.2.1"><eq id="S6.Ex10.m2.2.2.1.1.1.cmml" xref="S6.Ex10.m2.2.2.1.1.1"></eq><csymbol cd="latexml" id="S6.Ex10.m2.2.2.1.1.2.cmml" xref="S6.Ex10.m2.2.2.1.1.2">absent</csymbol><apply id="S6.Ex10.m2.2.2.1.1.3.cmml" xref="S6.Ex10.m2.2.2.1.1.3"><times id="S6.Ex10.m2.2.2.1.1.3.1.cmml" xref="S6.Ex10.m2.2.2.1.1.3.1"></times><apply id="S6.Ex10.m2.2.2.1.1.3.2.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S6.Ex10.m2.2.2.1.1.3.2.1.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2">subscript</csymbol><ci id="S6.Ex10.m2.2.2.1.1.3.2.2.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2.2">ğ‘œ</ci><apply id="S6.Ex10.m2.2.2.1.1.3.2.3.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2.3"><csymbol cd="ambiguous" id="S6.Ex10.m2.2.2.1.1.3.2.3.1.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2.3">subscript</csymbol><ci id="S6.Ex10.m2.2.2.1.1.3.2.3.2.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex10.m2.2.2.1.1.3.2.3.3.cmml" xref="S6.Ex10.m2.2.2.1.1.3.2.3.3">1</cn></apply></apply><apply id="S6.Ex10.m2.2.2.1.1.3.3.1.cmml" xref="S6.Ex10.m2.2.2.1.1.3.3.2"><csymbol cd="latexml" id="S6.Ex10.m2.2.2.1.1.3.3.1.1.cmml" xref="S6.Ex10.m2.2.2.1.1.3.3.2.1">delimited-[]</csymbol><ci id="S6.Ex10.m2.1.1.cmml" xref="S6.Ex10.m2.1.1">ğ‘¥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex10.m2.2c">\displaystyle=o_{q_{1}}[x];</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.2" class="ltx_p">if <math id="S6.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="o_{q_{1}}[x]=\epsilon" display="inline"><semantics id="S6.I1.i2.p1.1.m1.1a"><mrow id="S6.I1.i2.p1.1.m1.1.2" xref="S6.I1.i2.p1.1.m1.1.2.cmml"><mrow id="S6.I1.i2.p1.1.m1.1.2.2" xref="S6.I1.i2.p1.1.m1.1.2.2.cmml"><msub id="S6.I1.i2.p1.1.m1.1.2.2.2" xref="S6.I1.i2.p1.1.m1.1.2.2.2.cmml"><mi id="S6.I1.i2.p1.1.m1.1.2.2.2.2" xref="S6.I1.i2.p1.1.m1.1.2.2.2.2.cmml">o</mi><msub id="S6.I1.i2.p1.1.m1.1.2.2.2.3" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3.cmml"><mi id="S6.I1.i2.p1.1.m1.1.2.2.2.3.2" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3.2.cmml">q</mi><mn id="S6.I1.i2.p1.1.m1.1.2.2.2.3.3" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.I1.i2.p1.1.m1.1.2.2.1" xref="S6.I1.i2.p1.1.m1.1.2.2.1.cmml">â€‹</mo><mrow id="S6.I1.i2.p1.1.m1.1.2.2.3.2" xref="S6.I1.i2.p1.1.m1.1.2.2.3.1.cmml"><mo stretchy="false" id="S6.I1.i2.p1.1.m1.1.2.2.3.2.1" xref="S6.I1.i2.p1.1.m1.1.2.2.3.1.1.cmml">[</mo><mi id="S6.I1.i2.p1.1.m1.1.1" xref="S6.I1.i2.p1.1.m1.1.1.cmml">x</mi><mo stretchy="false" id="S6.I1.i2.p1.1.m1.1.2.2.3.2.2" xref="S6.I1.i2.p1.1.m1.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.I1.i2.p1.1.m1.1.2.1" xref="S6.I1.i2.p1.1.m1.1.2.1.cmml">=</mo><mi id="S6.I1.i2.p1.1.m1.1.2.3" xref="S6.I1.i2.p1.1.m1.1.2.3.cmml">Ïµ</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.1.m1.1b"><apply id="S6.I1.i2.p1.1.m1.1.2.cmml" xref="S6.I1.i2.p1.1.m1.1.2"><eq id="S6.I1.i2.p1.1.m1.1.2.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.1"></eq><apply id="S6.I1.i2.p1.1.m1.1.2.2.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2"><times id="S6.I1.i2.p1.1.m1.1.2.2.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.1"></times><apply id="S6.I1.i2.p1.1.m1.1.2.2.2.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2"><csymbol cd="ambiguous" id="S6.I1.i2.p1.1.m1.1.2.2.2.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2">subscript</csymbol><ci id="S6.I1.i2.p1.1.m1.1.2.2.2.2.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2.2">ğ‘œ</ci><apply id="S6.I1.i2.p1.1.m1.1.2.2.2.3.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3"><csymbol cd="ambiguous" id="S6.I1.i2.p1.1.m1.1.2.2.2.3.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3">subscript</csymbol><ci id="S6.I1.i2.p1.1.m1.1.2.2.2.3.2.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3.2">ğ‘</ci><cn type="integer" id="S6.I1.i2.p1.1.m1.1.2.2.2.3.3.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S6.I1.i2.p1.1.m1.1.2.2.3.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.3.2"><csymbol cd="latexml" id="S6.I1.i2.p1.1.m1.1.2.2.3.1.1.cmml" xref="S6.I1.i2.p1.1.m1.1.2.2.3.2.1">delimited-[]</csymbol><ci id="S6.I1.i2.p1.1.m1.1.1.cmml" xref="S6.I1.i2.p1.1.m1.1.1">ğ‘¥</ci></apply></apply><ci id="S6.I1.i2.p1.1.m1.1.2.3.cmml" xref="S6.I1.i2.p1.1.m1.1.2.3">italic-Ïµ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.1.m1.1c">o_{q_{1}}[x]=\epsilon</annotation></semantics></math> and <math id="S6.I1.i2.p1.2.m2.3" class="ltx_Math" alttext="R[d_{q_{1}}[x]]\cap L[q_{2}]\not=\emptyset" display="inline"><semantics id="S6.I1.i2.p1.2.m2.3a"><mrow id="S6.I1.i2.p1.2.m2.3.3" xref="S6.I1.i2.p1.2.m2.3.3.cmml"><mrow id="S6.I1.i2.p1.2.m2.3.3.2" xref="S6.I1.i2.p1.2.m2.3.3.2.cmml"><mrow id="S6.I1.i2.p1.2.m2.2.2.1.1" xref="S6.I1.i2.p1.2.m2.2.2.1.1.cmml"><mi id="S6.I1.i2.p1.2.m2.2.2.1.1.3" xref="S6.I1.i2.p1.2.m2.2.2.1.1.3.cmml">R</mi><mo lspace="0em" rspace="0em" id="S6.I1.i2.p1.2.m2.2.2.1.1.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.2.cmml">â€‹</mo><mrow id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml"><mo stretchy="false" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.2.1.cmml">[</mo><mrow id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.cmml"><msub id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.cmml"><mi id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.2.cmml">d</mi><msub id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.cmml"><mi id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.2.cmml">q</mi><mn id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.3" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.1" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.1.cmml">â€‹</mo><mrow id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.2.1" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.1.1.cmml">[</mo><mi id="S6.I1.i2.p1.2.m2.1.1" xref="S6.I1.i2.p1.2.m2.1.1.cmml">x</mi><mo stretchy="false" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.2.2" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.3" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S6.I1.i2.p1.2.m2.3.3.2.3" xref="S6.I1.i2.p1.2.m2.3.3.2.3.cmml">âˆ©</mo><mrow id="S6.I1.i2.p1.2.m2.3.3.2.2" xref="S6.I1.i2.p1.2.m2.3.3.2.2.cmml"><mi id="S6.I1.i2.p1.2.m2.3.3.2.2.3" xref="S6.I1.i2.p1.2.m2.3.3.2.2.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S6.I1.i2.p1.2.m2.3.3.2.2.2" xref="S6.I1.i2.p1.2.m2.3.3.2.2.2.cmml">â€‹</mo><mrow id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.2.cmml"><mo stretchy="false" id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.2" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.2.1.cmml">[</mo><msub id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.cmml"><mi id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.2" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.2.cmml">q</mi><mn id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.3" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.3.cmml">2</mn></msub><mo stretchy="false" id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.3" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S6.I1.i2.p1.2.m2.3.3.3" xref="S6.I1.i2.p1.2.m2.3.3.3.cmml">â‰ </mo><mi mathvariant="normal" id="S6.I1.i2.p1.2.m2.3.3.4" xref="S6.I1.i2.p1.2.m2.3.3.4.cmml">âˆ…</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.I1.i2.p1.2.m2.3b"><apply id="S6.I1.i2.p1.2.m2.3.3.cmml" xref="S6.I1.i2.p1.2.m2.3.3"><neq id="S6.I1.i2.p1.2.m2.3.3.3.cmml" xref="S6.I1.i2.p1.2.m2.3.3.3"></neq><apply id="S6.I1.i2.p1.2.m2.3.3.2.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2"><intersect id="S6.I1.i2.p1.2.m2.3.3.2.3.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.3"></intersect><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1"><times id="S6.I1.i2.p1.2.m2.2.2.1.1.2.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.2"></times><ci id="S6.I1.i2.p1.2.m2.2.2.1.1.3.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.3">ğ‘…</ci><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.1.2.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1"><csymbol cd="latexml" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.2.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.2">delimited-[]</csymbol><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1"><times id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.1"></times><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2">subscript</csymbol><ci id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.2.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.2">ğ‘‘</ci><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3">subscript</csymbol><ci id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.2.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.2">ğ‘</ci><cn type="integer" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.3.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.2"><csymbol cd="latexml" id="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.1.1.cmml" xref="S6.I1.i2.p1.2.m2.2.2.1.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S6.I1.i2.p1.2.m2.1.1.cmml" xref="S6.I1.i2.p1.2.m2.1.1">ğ‘¥</ci></apply></apply></apply></apply><apply id="S6.I1.i2.p1.2.m2.3.3.2.2.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2"><times id="S6.I1.i2.p1.2.m2.3.3.2.2.2.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.2"></times><ci id="S6.I1.i2.p1.2.m2.3.3.2.2.3.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.3">ğ¿</ci><apply id="S6.I1.i2.p1.2.m2.3.3.2.2.1.2.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1"><csymbol cd="latexml" id="S6.I1.i2.p1.2.m2.3.3.2.2.1.2.1.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.2">delimited-[]</csymbol><apply id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1"><csymbol cd="ambiguous" id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.1.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1">subscript</csymbol><ci id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.2.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.3.cmml" xref="S6.I1.i2.p1.2.m2.3.3.2.2.1.1.1.3">2</cn></apply></apply></apply></apply><emptyset id="S6.I1.i2.p1.2.m2.3.3.4.cmml" xref="S6.I1.i2.p1.2.m2.3.3.4"></emptyset></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.I1.i2.p1.2.m2.3c">R[d_{q_{1}}[x]]\cap L[q_{2}]\not=\emptyset</annotation></semantics></math>,
then</p>
<table id="Sx1.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S6.Ex11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S6.Ex11.m1.3" class="ltx_Math" alttext="\displaystyle d_{(q_{1},q_{2})}[x]" display="inline"><semantics id="S6.Ex11.m1.3a"><mrow id="S6.Ex11.m1.3.4" xref="S6.Ex11.m1.3.4.cmml"><msub id="S6.Ex11.m1.3.4.2" xref="S6.Ex11.m1.3.4.2.cmml"><mi id="S6.Ex11.m1.3.4.2.2" xref="S6.Ex11.m1.3.4.2.2.cmml">d</mi><mrow id="S6.Ex11.m1.2.2.2.2" xref="S6.Ex11.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex11.m1.2.2.2.2.3" xref="S6.Ex11.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex11.m1.1.1.1.1.1" xref="S6.Ex11.m1.1.1.1.1.1.cmml"><mi id="S6.Ex11.m1.1.1.1.1.1.2" xref="S6.Ex11.m1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex11.m1.1.1.1.1.1.3" xref="S6.Ex11.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex11.m1.2.2.2.2.4" xref="S6.Ex11.m1.2.2.2.3.cmml">,</mo><msub id="S6.Ex11.m1.2.2.2.2.2" xref="S6.Ex11.m1.2.2.2.2.2.cmml"><mi id="S6.Ex11.m1.2.2.2.2.2.2" xref="S6.Ex11.m1.2.2.2.2.2.2.cmml">q</mi><mn id="S6.Ex11.m1.2.2.2.2.2.3" xref="S6.Ex11.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.Ex11.m1.2.2.2.2.5" xref="S6.Ex11.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex11.m1.3.4.1" xref="S6.Ex11.m1.3.4.1.cmml">â€‹</mo><mrow id="S6.Ex11.m1.3.4.3.2" xref="S6.Ex11.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.Ex11.m1.3.4.3.2.1" xref="S6.Ex11.m1.3.4.3.1.1.cmml">[</mo><mi id="S6.Ex11.m1.3.3" xref="S6.Ex11.m1.3.3.cmml">x</mi><mo stretchy="false" id="S6.Ex11.m1.3.4.3.2.2" xref="S6.Ex11.m1.3.4.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex11.m1.3b"><apply id="S6.Ex11.m1.3.4.cmml" xref="S6.Ex11.m1.3.4"><times id="S6.Ex11.m1.3.4.1.cmml" xref="S6.Ex11.m1.3.4.1"></times><apply id="S6.Ex11.m1.3.4.2.cmml" xref="S6.Ex11.m1.3.4.2"><csymbol cd="ambiguous" id="S6.Ex11.m1.3.4.2.1.cmml" xref="S6.Ex11.m1.3.4.2">subscript</csymbol><ci id="S6.Ex11.m1.3.4.2.2.cmml" xref="S6.Ex11.m1.3.4.2.2">ğ‘‘</ci><interval closure="open" id="S6.Ex11.m1.2.2.2.3.cmml" xref="S6.Ex11.m1.2.2.2.2"><apply id="S6.Ex11.m1.1.1.1.1.1.cmml" xref="S6.Ex11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex11.m1.1.1.1.1.1.1.cmml" xref="S6.Ex11.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex11.m1.1.1.1.1.1.2.cmml" xref="S6.Ex11.m1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex11.m1.1.1.1.1.1.3.cmml" xref="S6.Ex11.m1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex11.m1.2.2.2.2.2.cmml" xref="S6.Ex11.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex11.m1.2.2.2.2.2.1.cmml" xref="S6.Ex11.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex11.m1.2.2.2.2.2.2.cmml" xref="S6.Ex11.m1.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex11.m1.2.2.2.2.2.3.cmml" xref="S6.Ex11.m1.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S6.Ex11.m1.3.4.3.1.cmml" xref="S6.Ex11.m1.3.4.3.2"><csymbol cd="latexml" id="S6.Ex11.m1.3.4.3.1.1.cmml" xref="S6.Ex11.m1.3.4.3.2.1">delimited-[]</csymbol><ci id="S6.Ex11.m1.3.3.cmml" xref="S6.Ex11.m1.3.3">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex11.m1.3c">\displaystyle d_{(q_{1},q_{2})}[x]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S6.Ex11.m2.4" class="ltx_Math" alttext="\displaystyle=(d_{q_{1}}[x],d_{q_{2}}[o_{q_{1}}[x]])\text{ and }" display="inline"><semantics id="S6.Ex11.m2.4a"><mrow id="S6.Ex11.m2.4.4" xref="S6.Ex11.m2.4.4.cmml"><mi id="S6.Ex11.m2.4.4.4" xref="S6.Ex11.m2.4.4.4.cmml"></mi><mo id="S6.Ex11.m2.4.4.3" xref="S6.Ex11.m2.4.4.3.cmml">=</mo><mrow id="S6.Ex11.m2.4.4.2" xref="S6.Ex11.m2.4.4.2.cmml"><mrow id="S6.Ex11.m2.4.4.2.2.2" xref="S6.Ex11.m2.4.4.2.2.3.cmml"><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.3" xref="S6.Ex11.m2.4.4.2.2.3.cmml">(</mo><mrow id="S6.Ex11.m2.3.3.1.1.1.1" xref="S6.Ex11.m2.3.3.1.1.1.1.cmml"><msub id="S6.Ex11.m2.3.3.1.1.1.1.2" xref="S6.Ex11.m2.3.3.1.1.1.1.2.cmml"><mi id="S6.Ex11.m2.3.3.1.1.1.1.2.2" xref="S6.Ex11.m2.3.3.1.1.1.1.2.2.cmml">d</mi><msub id="S6.Ex11.m2.3.3.1.1.1.1.2.3" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3.cmml"><mi id="S6.Ex11.m2.3.3.1.1.1.1.2.3.2" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3.2.cmml">q</mi><mn id="S6.Ex11.m2.3.3.1.1.1.1.2.3.3" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex11.m2.3.3.1.1.1.1.1" xref="S6.Ex11.m2.3.3.1.1.1.1.1.cmml">â€‹</mo><mrow id="S6.Ex11.m2.3.3.1.1.1.1.3.2" xref="S6.Ex11.m2.3.3.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S6.Ex11.m2.3.3.1.1.1.1.3.2.1" xref="S6.Ex11.m2.3.3.1.1.1.1.3.1.1.cmml">[</mo><mi id="S6.Ex11.m2.1.1" xref="S6.Ex11.m2.1.1.cmml">x</mi><mo stretchy="false" id="S6.Ex11.m2.3.3.1.1.1.1.3.2.2" xref="S6.Ex11.m2.3.3.1.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.Ex11.m2.4.4.2.2.2.4" xref="S6.Ex11.m2.4.4.2.2.3.cmml">,</mo><mrow id="S6.Ex11.m2.4.4.2.2.2.2" xref="S6.Ex11.m2.4.4.2.2.2.2.cmml"><msub id="S6.Ex11.m2.4.4.2.2.2.2.3" xref="S6.Ex11.m2.4.4.2.2.2.2.3.cmml"><mi id="S6.Ex11.m2.4.4.2.2.2.2.3.2" xref="S6.Ex11.m2.4.4.2.2.2.2.3.2.cmml">d</mi><msub id="S6.Ex11.m2.4.4.2.2.2.2.3.3" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3.cmml"><mi id="S6.Ex11.m2.4.4.2.2.2.2.3.3.2" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3.2.cmml">q</mi><mn id="S6.Ex11.m2.4.4.2.2.2.2.3.3.3" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3.3.cmml">2</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex11.m2.4.4.2.2.2.2.2" xref="S6.Ex11.m2.4.4.2.2.2.2.2.cmml">â€‹</mo><mrow id="S6.Ex11.m2.4.4.2.2.2.2.1.1" xref="S6.Ex11.m2.4.4.2.2.2.2.1.2.cmml"><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.2.1.cmml">[</mo><mrow id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.cmml"><msub id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.cmml"><mi id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.2.cmml">o</mi><msub id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.cmml"><mi id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.2.cmml">q</mi><mn id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.3" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.3.cmml">1</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.1" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.1.cmml">â€‹</mo><mrow id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.1.cmml"><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.2.1" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml">[</mo><mi id="S6.Ex11.m2.2.2" xref="S6.Ex11.m2.2.2.cmml">x</mi><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.2.2" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.3" xref="S6.Ex11.m2.4.4.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.Ex11.m2.4.4.2.2.2.5" xref="S6.Ex11.m2.4.4.2.2.3.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S6.Ex11.m2.4.4.2.3" xref="S6.Ex11.m2.4.4.2.3.cmml">â€‹</mo><mtext id="S6.Ex11.m2.4.4.2.4" xref="S6.Ex11.m2.4.4.2.4a.cmml">Â and</mtext></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex11.m2.4b"><apply id="S6.Ex11.m2.4.4.cmml" xref="S6.Ex11.m2.4.4"><eq id="S6.Ex11.m2.4.4.3.cmml" xref="S6.Ex11.m2.4.4.3"></eq><csymbol cd="latexml" id="S6.Ex11.m2.4.4.4.cmml" xref="S6.Ex11.m2.4.4.4">absent</csymbol><apply id="S6.Ex11.m2.4.4.2.cmml" xref="S6.Ex11.m2.4.4.2"><times id="S6.Ex11.m2.4.4.2.3.cmml" xref="S6.Ex11.m2.4.4.2.3"></times><interval closure="open" id="S6.Ex11.m2.4.4.2.2.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2"><apply id="S6.Ex11.m2.3.3.1.1.1.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1"><times id="S6.Ex11.m2.3.3.1.1.1.1.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.1"></times><apply id="S6.Ex11.m2.3.3.1.1.1.1.2.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.Ex11.m2.3.3.1.1.1.1.2.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2">subscript</csymbol><ci id="S6.Ex11.m2.3.3.1.1.1.1.2.2.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2.2">ğ‘‘</ci><apply id="S6.Ex11.m2.3.3.1.1.1.1.2.3.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.Ex11.m2.3.3.1.1.1.1.2.3.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3">subscript</csymbol><ci id="S6.Ex11.m2.3.3.1.1.1.1.2.3.2.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex11.m2.3.3.1.1.1.1.2.3.3.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S6.Ex11.m2.3.3.1.1.1.1.3.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.3.2"><csymbol cd="latexml" id="S6.Ex11.m2.3.3.1.1.1.1.3.1.1.cmml" xref="S6.Ex11.m2.3.3.1.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S6.Ex11.m2.1.1.cmml" xref="S6.Ex11.m2.1.1">ğ‘¥</ci></apply></apply><apply id="S6.Ex11.m2.4.4.2.2.2.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2"><times id="S6.Ex11.m2.4.4.2.2.2.2.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.2"></times><apply id="S6.Ex11.m2.4.4.2.2.2.2.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="S6.Ex11.m2.4.4.2.2.2.2.3.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3">subscript</csymbol><ci id="S6.Ex11.m2.4.4.2.2.2.2.3.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3.2">ğ‘‘</ci><apply id="S6.Ex11.m2.4.4.2.2.2.2.3.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S6.Ex11.m2.4.4.2.2.2.2.3.3.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3">subscript</csymbol><ci id="S6.Ex11.m2.4.4.2.2.2.2.3.3.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3.2">ğ‘</ci><cn type="integer" id="S6.Ex11.m2.4.4.2.2.2.2.3.3.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.3.3.3">2</cn></apply></apply><apply id="S6.Ex11.m2.4.4.2.2.2.2.1.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1"><csymbol cd="latexml" id="S6.Ex11.m2.4.4.2.2.2.2.1.2.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1"><times id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.1"></times><apply id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.2">ğ‘œ</ci><apply id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3">subscript</csymbol><ci id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.2.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.3.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.2.3.3">1</cn></apply></apply><apply id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.2"><csymbol cd="latexml" id="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.1.1.cmml" xref="S6.Ex11.m2.4.4.2.2.2.2.1.1.1.3.2.1">delimited-[]</csymbol><ci id="S6.Ex11.m2.2.2.cmml" xref="S6.Ex11.m2.2.2">ğ‘¥</ci></apply></apply></apply></apply></interval><ci id="S6.Ex11.m2.4.4.2.4a.cmml" xref="S6.Ex11.m2.4.4.2.4"><mtext id="S6.Ex11.m2.4.4.2.4.cmml" xref="S6.Ex11.m2.4.4.2.4">Â and</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex11.m2.4c">\displaystyle=(d_{q_{1}}[x],d_{q_{2}}[o_{q_{1}}[x]])\text{ and }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S6.Ex12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S6.Ex12.m1.3" class="ltx_Math" alttext="\displaystyle o_{(q_{1},q_{2})}[x]" display="inline"><semantics id="S6.Ex12.m1.3a"><mrow id="S6.Ex12.m1.3.4" xref="S6.Ex12.m1.3.4.cmml"><msub id="S6.Ex12.m1.3.4.2" xref="S6.Ex12.m1.3.4.2.cmml"><mi id="S6.Ex12.m1.3.4.2.2" xref="S6.Ex12.m1.3.4.2.2.cmml">o</mi><mrow id="S6.Ex12.m1.2.2.2.2" xref="S6.Ex12.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex12.m1.2.2.2.2.3" xref="S6.Ex12.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex12.m1.1.1.1.1.1" xref="S6.Ex12.m1.1.1.1.1.1.cmml"><mi id="S6.Ex12.m1.1.1.1.1.1.2" xref="S6.Ex12.m1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex12.m1.1.1.1.1.1.3" xref="S6.Ex12.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex12.m1.2.2.2.2.4" xref="S6.Ex12.m1.2.2.2.3.cmml">,</mo><msub id="S6.Ex12.m1.2.2.2.2.2" xref="S6.Ex12.m1.2.2.2.2.2.cmml"><mi id="S6.Ex12.m1.2.2.2.2.2.2" xref="S6.Ex12.m1.2.2.2.2.2.2.cmml">q</mi><mn id="S6.Ex12.m1.2.2.2.2.2.3" xref="S6.Ex12.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.Ex12.m1.2.2.2.2.5" xref="S6.Ex12.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex12.m1.3.4.1" xref="S6.Ex12.m1.3.4.1.cmml">â€‹</mo><mrow id="S6.Ex12.m1.3.4.3.2" xref="S6.Ex12.m1.3.4.3.1.cmml"><mo stretchy="false" id="S6.Ex12.m1.3.4.3.2.1" xref="S6.Ex12.m1.3.4.3.1.1.cmml">[</mo><mi id="S6.Ex12.m1.3.3" xref="S6.Ex12.m1.3.3.cmml">x</mi><mo stretchy="false" id="S6.Ex12.m1.3.4.3.2.2" xref="S6.Ex12.m1.3.4.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex12.m1.3b"><apply id="S6.Ex12.m1.3.4.cmml" xref="S6.Ex12.m1.3.4"><times id="S6.Ex12.m1.3.4.1.cmml" xref="S6.Ex12.m1.3.4.1"></times><apply id="S6.Ex12.m1.3.4.2.cmml" xref="S6.Ex12.m1.3.4.2"><csymbol cd="ambiguous" id="S6.Ex12.m1.3.4.2.1.cmml" xref="S6.Ex12.m1.3.4.2">subscript</csymbol><ci id="S6.Ex12.m1.3.4.2.2.cmml" xref="S6.Ex12.m1.3.4.2.2">ğ‘œ</ci><interval closure="open" id="S6.Ex12.m1.2.2.2.3.cmml" xref="S6.Ex12.m1.2.2.2.2"><apply id="S6.Ex12.m1.1.1.1.1.1.cmml" xref="S6.Ex12.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex12.m1.1.1.1.1.1.1.cmml" xref="S6.Ex12.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex12.m1.1.1.1.1.1.2.cmml" xref="S6.Ex12.m1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex12.m1.1.1.1.1.1.3.cmml" xref="S6.Ex12.m1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex12.m1.2.2.2.2.2.cmml" xref="S6.Ex12.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex12.m1.2.2.2.2.2.1.cmml" xref="S6.Ex12.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex12.m1.2.2.2.2.2.2.cmml" xref="S6.Ex12.m1.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex12.m1.2.2.2.2.2.3.cmml" xref="S6.Ex12.m1.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S6.Ex12.m1.3.4.3.1.cmml" xref="S6.Ex12.m1.3.4.3.2"><csymbol cd="latexml" id="S6.Ex12.m1.3.4.3.1.1.cmml" xref="S6.Ex12.m1.3.4.3.2.1">delimited-[]</csymbol><ci id="S6.Ex12.m1.3.3.cmml" xref="S6.Ex12.m1.3.3">ğ‘¥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex12.m1.3c">\displaystyle o_{(q_{1},q_{2})}[x]</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S6.Ex12.m2.1" class="ltx_Math" alttext="\displaystyle=\epsilon" display="inline"><semantics id="S6.Ex12.m2.1a"><mrow id="S6.Ex12.m2.1.1" xref="S6.Ex12.m2.1.1.cmml"><mi id="S6.Ex12.m2.1.1.2" xref="S6.Ex12.m2.1.1.2.cmml"></mi><mo id="S6.Ex12.m2.1.1.1" xref="S6.Ex12.m2.1.1.1.cmml">=</mo><mi id="S6.Ex12.m2.1.1.3" xref="S6.Ex12.m2.1.1.3.cmml">Ïµ</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex12.m2.1b"><apply id="S6.Ex12.m2.1.1.cmml" xref="S6.Ex12.m2.1.1"><eq id="S6.Ex12.m2.1.1.1.cmml" xref="S6.Ex12.m2.1.1.1"></eq><csymbol cd="latexml" id="S6.Ex12.m2.1.1.2.cmml" xref="S6.Ex12.m2.1.1.2">absent</csymbol><ci id="S6.Ex12.m2.1.1.3.cmml" xref="S6.Ex12.m2.1.1.3">italic-Ïµ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex12.m2.1c">\displaystyle=\epsilon</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
</ol>
<p id="S6.p8.15" class="ltx_p">where <math id="S6.p8.11.m1.1" class="ltx_Math" alttext="R[q]" display="inline"><semantics id="S6.p8.11.m1.1a"><mrow id="S6.p8.11.m1.1.2" xref="S6.p8.11.m1.1.2.cmml"><mi id="S6.p8.11.m1.1.2.2" xref="S6.p8.11.m1.1.2.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S6.p8.11.m1.1.2.1" xref="S6.p8.11.m1.1.2.1.cmml">â€‹</mo><mrow id="S6.p8.11.m1.1.2.3.2" xref="S6.p8.11.m1.1.2.3.1.cmml"><mo stretchy="false" id="S6.p8.11.m1.1.2.3.2.1" xref="S6.p8.11.m1.1.2.3.1.1.cmml">[</mo><mi id="S6.p8.11.m1.1.1" xref="S6.p8.11.m1.1.1.cmml">q</mi><mo stretchy="false" id="S6.p8.11.m1.1.2.3.2.2" xref="S6.p8.11.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.11.m1.1b"><apply id="S6.p8.11.m1.1.2.cmml" xref="S6.p8.11.m1.1.2"><times id="S6.p8.11.m1.1.2.1.cmml" xref="S6.p8.11.m1.1.2.1"></times><ci id="S6.p8.11.m1.1.2.2.cmml" xref="S6.p8.11.m1.1.2.2">ğ‘…</ci><apply id="S6.p8.11.m1.1.2.3.1.cmml" xref="S6.p8.11.m1.1.2.3.2"><csymbol cd="latexml" id="S6.p8.11.m1.1.2.3.1.1.cmml" xref="S6.p8.11.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="S6.p8.11.m1.1.1.cmml" xref="S6.p8.11.m1.1.1">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.11.m1.1c">R[q]</annotation></semantics></math> denotes the set of output non-<math id="S6.p8.12.m2.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S6.p8.12.m2.1a"><mi id="S6.p8.12.m2.1.1" xref="S6.p8.12.m2.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S6.p8.12.m2.1b"><ci id="S6.p8.12.m2.1.1.cmml" xref="S6.p8.12.m2.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.12.m2.1c">\epsilon</annotation></semantics></math> labels that can be emitted
after following an output-<math id="S6.p8.13.m3.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S6.p8.13.m3.1a"><mi id="S6.p8.13.m3.1.1" xref="S6.p8.13.m3.1.1.cmml">Ïµ</mi><annotation-xml encoding="MathML-Content" id="S6.p8.13.m3.1b"><ci id="S6.p8.13.m3.1.1.cmml" xref="S6.p8.13.m3.1.1">italic-Ïµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.13.m3.1c">\epsilon</annotation></semantics></math> path from <math id="S6.p8.14.m4.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S6.p8.14.m4.1a"><mi id="S6.p8.14.m4.1.1" xref="S6.p8.14.m4.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S6.p8.14.m4.1b"><ci id="S6.p8.14.m4.1.1.cmml" xref="S6.p8.14.m4.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.14.m4.1c">q</annotation></semantics></math>. Finally if
<math id="S6.p8.15.m5.1" class="ltx_Math" alttext="\varphi\in L[q_{1}]" display="inline"><semantics id="S6.p8.15.m5.1a"><mrow id="S6.p8.15.m5.1.1" xref="S6.p8.15.m5.1.1.cmml"><mi id="S6.p8.15.m5.1.1.3" xref="S6.p8.15.m5.1.1.3.cmml">Ï†</mi><mo id="S6.p8.15.m5.1.1.2" xref="S6.p8.15.m5.1.1.2.cmml">âˆˆ</mo><mrow id="S6.p8.15.m5.1.1.1" xref="S6.p8.15.m5.1.1.1.cmml"><mi id="S6.p8.15.m5.1.1.1.3" xref="S6.p8.15.m5.1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S6.p8.15.m5.1.1.1.2" xref="S6.p8.15.m5.1.1.1.2.cmml">â€‹</mo><mrow id="S6.p8.15.m5.1.1.1.1.1" xref="S6.p8.15.m5.1.1.1.1.2.cmml"><mo stretchy="false" id="S6.p8.15.m5.1.1.1.1.1.2" xref="S6.p8.15.m5.1.1.1.1.2.1.cmml">[</mo><msub id="S6.p8.15.m5.1.1.1.1.1.1" xref="S6.p8.15.m5.1.1.1.1.1.1.cmml"><mi id="S6.p8.15.m5.1.1.1.1.1.1.2" xref="S6.p8.15.m5.1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.p8.15.m5.1.1.1.1.1.1.3" xref="S6.p8.15.m5.1.1.1.1.1.1.3.cmml">1</mn></msub><mo stretchy="false" id="S6.p8.15.m5.1.1.1.1.1.3" xref="S6.p8.15.m5.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.15.m5.1b"><apply id="S6.p8.15.m5.1.1.cmml" xref="S6.p8.15.m5.1.1"><in id="S6.p8.15.m5.1.1.2.cmml" xref="S6.p8.15.m5.1.1.2"></in><ci id="S6.p8.15.m5.1.1.3.cmml" xref="S6.p8.15.m5.1.1.3">ğœ‘</ci><apply id="S6.p8.15.m5.1.1.1.cmml" xref="S6.p8.15.m5.1.1.1"><times id="S6.p8.15.m5.1.1.1.2.cmml" xref="S6.p8.15.m5.1.1.1.2"></times><ci id="S6.p8.15.m5.1.1.1.3.cmml" xref="S6.p8.15.m5.1.1.1.3">ğ¿</ci><apply id="S6.p8.15.m5.1.1.1.1.2.cmml" xref="S6.p8.15.m5.1.1.1.1.1"><csymbol cd="latexml" id="S6.p8.15.m5.1.1.1.1.2.1.cmml" xref="S6.p8.15.m5.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S6.p8.15.m5.1.1.1.1.1.1.cmml" xref="S6.p8.15.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.15.m5.1.1.1.1.1.1.1.cmml" xref="S6.p8.15.m5.1.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.15.m5.1.1.1.1.1.1.2.cmml" xref="S6.p8.15.m5.1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.p8.15.m5.1.1.1.1.1.1.3.cmml" xref="S6.p8.15.m5.1.1.1.1.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.15.m5.1c">\varphi\in L[q_{1}]</annotation></semantics></math>, a backoff transition is created:</p>
<table id="S6.Ex13" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S6.Ex13.m1.8" class="ltx_Math" alttext="d_{(q_{1},q_{2})}[\varphi]=(q_{1},d_{q_{2}}[\varphi])\text{ and }o_{q_{1},q_{2}}[\varphi]=\epsilon." display="block"><semantics id="S6.Ex13.m1.8a"><mrow id="S6.Ex13.m1.8.8.1" xref="S6.Ex13.m1.8.8.1.1.cmml"><mrow id="S6.Ex13.m1.8.8.1.1" xref="S6.Ex13.m1.8.8.1.1.cmml"><mrow id="S6.Ex13.m1.8.8.1.1.4" xref="S6.Ex13.m1.8.8.1.1.4.cmml"><msub id="S6.Ex13.m1.8.8.1.1.4.2" xref="S6.Ex13.m1.8.8.1.1.4.2.cmml"><mi id="S6.Ex13.m1.8.8.1.1.4.2.2" xref="S6.Ex13.m1.8.8.1.1.4.2.2.cmml">d</mi><mrow id="S6.Ex13.m1.2.2.2.2" xref="S6.Ex13.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex13.m1.2.2.2.2.3" xref="S6.Ex13.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex13.m1.1.1.1.1.1" xref="S6.Ex13.m1.1.1.1.1.1.cmml"><mi id="S6.Ex13.m1.1.1.1.1.1.2" xref="S6.Ex13.m1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex13.m1.1.1.1.1.1.3" xref="S6.Ex13.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex13.m1.2.2.2.2.4" xref="S6.Ex13.m1.2.2.2.3.cmml">,</mo><msub id="S6.Ex13.m1.2.2.2.2.2" xref="S6.Ex13.m1.2.2.2.2.2.cmml"><mi id="S6.Ex13.m1.2.2.2.2.2.2" xref="S6.Ex13.m1.2.2.2.2.2.2.cmml">q</mi><mn id="S6.Ex13.m1.2.2.2.2.2.3" xref="S6.Ex13.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S6.Ex13.m1.2.2.2.2.5" xref="S6.Ex13.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex13.m1.8.8.1.1.4.1" xref="S6.Ex13.m1.8.8.1.1.4.1.cmml">â€‹</mo><mrow id="S6.Ex13.m1.8.8.1.1.4.3.2" xref="S6.Ex13.m1.8.8.1.1.4.3.1.cmml"><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.4.3.2.1" xref="S6.Ex13.m1.8.8.1.1.4.3.1.1.cmml">[</mo><mi id="S6.Ex13.m1.5.5" xref="S6.Ex13.m1.5.5.cmml">Ï†</mi><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.4.3.2.2" xref="S6.Ex13.m1.8.8.1.1.4.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.Ex13.m1.8.8.1.1.5" xref="S6.Ex13.m1.8.8.1.1.5.cmml">=</mo><mrow id="S6.Ex13.m1.8.8.1.1.2" xref="S6.Ex13.m1.8.8.1.1.2.cmml"><mrow id="S6.Ex13.m1.8.8.1.1.2.2.2" xref="S6.Ex13.m1.8.8.1.1.2.2.3.cmml"><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.2.2.3" xref="S6.Ex13.m1.8.8.1.1.2.2.3.cmml">(</mo><msub id="S6.Ex13.m1.8.8.1.1.1.1.1.1" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1.cmml"><mi id="S6.Ex13.m1.8.8.1.1.1.1.1.1.2" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1.2.cmml">q</mi><mn id="S6.Ex13.m1.8.8.1.1.1.1.1.1.3" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex13.m1.8.8.1.1.2.2.2.4" xref="S6.Ex13.m1.8.8.1.1.2.2.3.cmml">,</mo><mrow id="S6.Ex13.m1.8.8.1.1.2.2.2.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.cmml"><msub id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.cmml"><mi id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.2.cmml">d</mi><msub id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.cmml"><mi id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.2.cmml">q</mi><mn id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.3" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.3.cmml">2</mn></msub></msub><mo lspace="0em" rspace="0em" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.1" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.1.cmml">â€‹</mo><mrow id="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.1.cmml"><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.2.1" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.1.1.cmml">[</mo><mi id="S6.Ex13.m1.6.6" xref="S6.Ex13.m1.6.6.cmml">Ï†</mi><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.2.2" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.2.2.5" xref="S6.Ex13.m1.8.8.1.1.2.2.3.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S6.Ex13.m1.8.8.1.1.2.3" xref="S6.Ex13.m1.8.8.1.1.2.3.cmml">â€‹</mo><mtext id="S6.Ex13.m1.8.8.1.1.2.4" xref="S6.Ex13.m1.8.8.1.1.2.4a.cmml">Â andÂ </mtext><mo lspace="0em" rspace="0em" id="S6.Ex13.m1.8.8.1.1.2.3a" xref="S6.Ex13.m1.8.8.1.1.2.3.cmml">â€‹</mo><msub id="S6.Ex13.m1.8.8.1.1.2.5" xref="S6.Ex13.m1.8.8.1.1.2.5.cmml"><mi id="S6.Ex13.m1.8.8.1.1.2.5.2" xref="S6.Ex13.m1.8.8.1.1.2.5.2.cmml">o</mi><mrow id="S6.Ex13.m1.4.4.2.2" xref="S6.Ex13.m1.4.4.2.3.cmml"><msub id="S6.Ex13.m1.3.3.1.1.1" xref="S6.Ex13.m1.3.3.1.1.1.cmml"><mi id="S6.Ex13.m1.3.3.1.1.1.2" xref="S6.Ex13.m1.3.3.1.1.1.2.cmml">q</mi><mn id="S6.Ex13.m1.3.3.1.1.1.3" xref="S6.Ex13.m1.3.3.1.1.1.3.cmml">1</mn></msub><mo id="S6.Ex13.m1.4.4.2.2.3" xref="S6.Ex13.m1.4.4.2.3.cmml">,</mo><msub id="S6.Ex13.m1.4.4.2.2.2" xref="S6.Ex13.m1.4.4.2.2.2.cmml"><mi id="S6.Ex13.m1.4.4.2.2.2.2" xref="S6.Ex13.m1.4.4.2.2.2.2.cmml">q</mi><mn id="S6.Ex13.m1.4.4.2.2.2.3" xref="S6.Ex13.m1.4.4.2.2.2.3.cmml">2</mn></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex13.m1.8.8.1.1.2.3b" xref="S6.Ex13.m1.8.8.1.1.2.3.cmml">â€‹</mo><mrow id="S6.Ex13.m1.8.8.1.1.2.6.2" xref="S6.Ex13.m1.8.8.1.1.2.6.1.cmml"><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.6.2.1" xref="S6.Ex13.m1.8.8.1.1.2.6.1.1.cmml">[</mo><mi id="S6.Ex13.m1.7.7" xref="S6.Ex13.m1.7.7.cmml">Ï†</mi><mo stretchy="false" id="S6.Ex13.m1.8.8.1.1.2.6.2.2" xref="S6.Ex13.m1.8.8.1.1.2.6.1.1.cmml">]</mo></mrow></mrow><mo id="S6.Ex13.m1.8.8.1.1.6" xref="S6.Ex13.m1.8.8.1.1.6.cmml">=</mo><mi id="S6.Ex13.m1.8.8.1.1.7" xref="S6.Ex13.m1.8.8.1.1.7.cmml">Ïµ</mi></mrow><mo lspace="0em" id="S6.Ex13.m1.8.8.1.2" xref="S6.Ex13.m1.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex13.m1.8b"><apply id="S6.Ex13.m1.8.8.1.1.cmml" xref="S6.Ex13.m1.8.8.1"><and id="S6.Ex13.m1.8.8.1.1a.cmml" xref="S6.Ex13.m1.8.8.1"></and><apply id="S6.Ex13.m1.8.8.1.1b.cmml" xref="S6.Ex13.m1.8.8.1"><eq id="S6.Ex13.m1.8.8.1.1.5.cmml" xref="S6.Ex13.m1.8.8.1.1.5"></eq><apply id="S6.Ex13.m1.8.8.1.1.4.cmml" xref="S6.Ex13.m1.8.8.1.1.4"><times id="S6.Ex13.m1.8.8.1.1.4.1.cmml" xref="S6.Ex13.m1.8.8.1.1.4.1"></times><apply id="S6.Ex13.m1.8.8.1.1.4.2.cmml" xref="S6.Ex13.m1.8.8.1.1.4.2"><csymbol cd="ambiguous" id="S6.Ex13.m1.8.8.1.1.4.2.1.cmml" xref="S6.Ex13.m1.8.8.1.1.4.2">subscript</csymbol><ci id="S6.Ex13.m1.8.8.1.1.4.2.2.cmml" xref="S6.Ex13.m1.8.8.1.1.4.2.2">ğ‘‘</ci><interval closure="open" id="S6.Ex13.m1.2.2.2.3.cmml" xref="S6.Ex13.m1.2.2.2.2"><apply id="S6.Ex13.m1.1.1.1.1.1.cmml" xref="S6.Ex13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex13.m1.1.1.1.1.1.1.cmml" xref="S6.Ex13.m1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex13.m1.1.1.1.1.1.2.cmml" xref="S6.Ex13.m1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.1.1.1.1.1.3.cmml" xref="S6.Ex13.m1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex13.m1.2.2.2.2.2.cmml" xref="S6.Ex13.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex13.m1.2.2.2.2.2.1.cmml" xref="S6.Ex13.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex13.m1.2.2.2.2.2.2.cmml" xref="S6.Ex13.m1.2.2.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.2.2.2.2.2.3.cmml" xref="S6.Ex13.m1.2.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S6.Ex13.m1.8.8.1.1.4.3.1.cmml" xref="S6.Ex13.m1.8.8.1.1.4.3.2"><csymbol cd="latexml" id="S6.Ex13.m1.8.8.1.1.4.3.1.1.cmml" xref="S6.Ex13.m1.8.8.1.1.4.3.2.1">delimited-[]</csymbol><ci id="S6.Ex13.m1.5.5.cmml" xref="S6.Ex13.m1.5.5">ğœ‘</ci></apply></apply><apply id="S6.Ex13.m1.8.8.1.1.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2"><times id="S6.Ex13.m1.8.8.1.1.2.3.cmml" xref="S6.Ex13.m1.8.8.1.1.2.3"></times><interval closure="open" id="S6.Ex13.m1.8.8.1.1.2.2.3.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2"><apply id="S6.Ex13.m1.8.8.1.1.1.1.1.1.cmml" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex13.m1.8.8.1.1.1.1.1.1.1.cmml" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1">subscript</csymbol><ci id="S6.Ex13.m1.8.8.1.1.1.1.1.1.2.cmml" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.8.8.1.1.1.1.1.1.3.cmml" xref="S6.Ex13.m1.8.8.1.1.1.1.1.1.3">1</cn></apply><apply id="S6.Ex13.m1.8.8.1.1.2.2.2.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2"><times id="S6.Ex13.m1.8.8.1.1.2.2.2.2.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.1"></times><apply id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2">subscript</csymbol><ci id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.2">ğ‘‘</ci><apply id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.3.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.2.3.3">2</cn></apply></apply><apply id="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.2"><csymbol cd="latexml" id="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.1.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.2.2.2.3.2.1">delimited-[]</csymbol><ci id="S6.Ex13.m1.6.6.cmml" xref="S6.Ex13.m1.6.6">ğœ‘</ci></apply></apply></interval><ci id="S6.Ex13.m1.8.8.1.1.2.4a.cmml" xref="S6.Ex13.m1.8.8.1.1.2.4"><mtext id="S6.Ex13.m1.8.8.1.1.2.4.cmml" xref="S6.Ex13.m1.8.8.1.1.2.4">Â andÂ </mtext></ci><apply id="S6.Ex13.m1.8.8.1.1.2.5.cmml" xref="S6.Ex13.m1.8.8.1.1.2.5"><csymbol cd="ambiguous" id="S6.Ex13.m1.8.8.1.1.2.5.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.5">subscript</csymbol><ci id="S6.Ex13.m1.8.8.1.1.2.5.2.cmml" xref="S6.Ex13.m1.8.8.1.1.2.5.2">ğ‘œ</ci><list id="S6.Ex13.m1.4.4.2.3.cmml" xref="S6.Ex13.m1.4.4.2.2"><apply id="S6.Ex13.m1.3.3.1.1.1.cmml" xref="S6.Ex13.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S6.Ex13.m1.3.3.1.1.1.1.cmml" xref="S6.Ex13.m1.3.3.1.1.1">subscript</csymbol><ci id="S6.Ex13.m1.3.3.1.1.1.2.cmml" xref="S6.Ex13.m1.3.3.1.1.1.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.3.3.1.1.1.3.cmml" xref="S6.Ex13.m1.3.3.1.1.1.3">1</cn></apply><apply id="S6.Ex13.m1.4.4.2.2.2.cmml" xref="S6.Ex13.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S6.Ex13.m1.4.4.2.2.2.1.cmml" xref="S6.Ex13.m1.4.4.2.2.2">subscript</csymbol><ci id="S6.Ex13.m1.4.4.2.2.2.2.cmml" xref="S6.Ex13.m1.4.4.2.2.2.2">ğ‘</ci><cn type="integer" id="S6.Ex13.m1.4.4.2.2.2.3.cmml" xref="S6.Ex13.m1.4.4.2.2.2.3">2</cn></apply></list></apply><apply id="S6.Ex13.m1.8.8.1.1.2.6.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.6.2"><csymbol cd="latexml" id="S6.Ex13.m1.8.8.1.1.2.6.1.1.cmml" xref="S6.Ex13.m1.8.8.1.1.2.6.2.1">delimited-[]</csymbol><ci id="S6.Ex13.m1.7.7.cmml" xref="S6.Ex13.m1.7.7">ğœ‘</ci></apply></apply></apply><apply id="S6.Ex13.m1.8.8.1.1c.cmml" xref="S6.Ex13.m1.8.8.1"><eq id="S6.Ex13.m1.8.8.1.1.6.cmml" xref="S6.Ex13.m1.8.8.1.1.6"></eq><share href="#S6.Ex13.m1.8.8.1.1.2.cmml" id="S6.Ex13.m1.8.8.1.1d.cmml" xref="S6.Ex13.m1.8.8.1"></share><ci id="S6.Ex13.m1.8.8.1.1.7.cmml" xref="S6.Ex13.m1.8.8.1.1.7">italic-Ïµ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex13.m1.8c">d_{(q_{1},q_{2})}[\varphi]=(q_{1},d_{q_{2}}[\varphi])\text{ and }o_{q_{1},q_{2}}[\varphi]=\epsilon.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S6.p8.27" class="ltx_p">The counting step of <span id="S6.p8.27.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰is applied to <math id="S6.p8.16.m1.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p8.16.m1.1a"><mi id="S6.p8.16.m1.1.1" xref="S6.p8.16.m1.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p8.16.m1.1b"><ci id="S6.p8.16.m1.1.1.cmml" xref="S6.p8.16.m1.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.16.m1.1c">B</annotation></semantics></math>, and transfers the
computed counts from <math id="S6.p8.17.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p8.17.m2.1a"><mi id="S6.p8.17.m2.1.1" xref="S6.p8.17.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p8.17.m2.1b"><ci id="S6.p8.17.m2.1.1.cmml" xref="S6.p8.17.m2.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.17.m2.1c">B</annotation></semantics></math> to <math id="S6.p8.18.m3.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p8.18.m3.1a"><mi id="S6.p8.18.m3.1.1" xref="S6.p8.18.m3.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p8.18.m3.1b"><ci id="S6.p8.18.m3.1.1.cmml" xref="S6.p8.18.m3.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.18.m3.1c">A</annotation></semantics></math> by relying on the following key
property of <math id="S6.p8.19.m4.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S6.p8.19.m4.1a"><mi id="S6.p8.19.m4.1.1" xref="S6.p8.19.m4.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S6.p8.19.m4.1b"><ci id="S6.p8.19.m4.1.1.cmml" xref="S6.p8.19.m4.1.1">ğ‘€</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.19.m4.1c">M</annotation></semantics></math>. For every word <math id="S6.p8.20.m5.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S6.p8.20.m5.1a"><mi id="S6.p8.20.m5.1.1" xref="S6.p8.20.m5.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S6.p8.20.m5.1b"><ci id="S6.p8.20.m5.1.1.cmml" xref="S6.p8.20.m5.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.20.m5.1c">y</annotation></semantics></math> in <math id="S6.p8.21.m6.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S6.p8.21.m6.1a"><mi mathvariant="normal" id="S6.p8.21.m6.1.1" xref="S6.p8.21.m6.1.1.cmml">Î”</mi><annotation-xml encoding="MathML-Content" id="S6.p8.21.m6.1b"><ci id="S6.p8.21.m6.1.1.cmml" xref="S6.p8.21.m6.1.1">Î”</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.21.m6.1c">\Delta</annotation></semantics></math>, there exists a unique
state <math id="S6.p8.22.m7.1" class="ltx_Math" alttext="q_{y}\in Q_{M}" display="inline"><semantics id="S6.p8.22.m7.1a"><mrow id="S6.p8.22.m7.1.1" xref="S6.p8.22.m7.1.1.cmml"><msub id="S6.p8.22.m7.1.1.2" xref="S6.p8.22.m7.1.1.2.cmml"><mi id="S6.p8.22.m7.1.1.2.2" xref="S6.p8.22.m7.1.1.2.2.cmml">q</mi><mi id="S6.p8.22.m7.1.1.2.3" xref="S6.p8.22.m7.1.1.2.3.cmml">y</mi></msub><mo id="S6.p8.22.m7.1.1.1" xref="S6.p8.22.m7.1.1.1.cmml">âˆˆ</mo><msub id="S6.p8.22.m7.1.1.3" xref="S6.p8.22.m7.1.1.3.cmml"><mi id="S6.p8.22.m7.1.1.3.2" xref="S6.p8.22.m7.1.1.3.2.cmml">Q</mi><mi id="S6.p8.22.m7.1.1.3.3" xref="S6.p8.22.m7.1.1.3.3.cmml">M</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.22.m7.1b"><apply id="S6.p8.22.m7.1.1.cmml" xref="S6.p8.22.m7.1.1"><in id="S6.p8.22.m7.1.1.1.cmml" xref="S6.p8.22.m7.1.1.1"></in><apply id="S6.p8.22.m7.1.1.2.cmml" xref="S6.p8.22.m7.1.1.2"><csymbol cd="ambiguous" id="S6.p8.22.m7.1.1.2.1.cmml" xref="S6.p8.22.m7.1.1.2">subscript</csymbol><ci id="S6.p8.22.m7.1.1.2.2.cmml" xref="S6.p8.22.m7.1.1.2.2">ğ‘</ci><ci id="S6.p8.22.m7.1.1.2.3.cmml" xref="S6.p8.22.m7.1.1.2.3">ğ‘¦</ci></apply><apply id="S6.p8.22.m7.1.1.3.cmml" xref="S6.p8.22.m7.1.1.3"><csymbol cd="ambiguous" id="S6.p8.22.m7.1.1.3.1.cmml" xref="S6.p8.22.m7.1.1.3">subscript</csymbol><ci id="S6.p8.22.m7.1.1.3.2.cmml" xref="S6.p8.22.m7.1.1.3.2">ğ‘„</ci><ci id="S6.p8.22.m7.1.1.3.3.cmml" xref="S6.p8.22.m7.1.1.3.3">ğ‘€</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.22.m7.1c">q_{y}\in Q_{M}</annotation></semantics></math> and unique word-piece <math id="S6.p8.23.m8.1" class="ltx_Math" alttext="x_{y}" display="inline"><semantics id="S6.p8.23.m8.1a"><msub id="S6.p8.23.m8.1.1" xref="S6.p8.23.m8.1.1.cmml"><mi id="S6.p8.23.m8.1.1.2" xref="S6.p8.23.m8.1.1.2.cmml">x</mi><mi id="S6.p8.23.m8.1.1.3" xref="S6.p8.23.m8.1.1.3.cmml">y</mi></msub><annotation-xml encoding="MathML-Content" id="S6.p8.23.m8.1b"><apply id="S6.p8.23.m8.1.1.cmml" xref="S6.p8.23.m8.1.1"><csymbol cd="ambiguous" id="S6.p8.23.m8.1.1.1.cmml" xref="S6.p8.23.m8.1.1">subscript</csymbol><ci id="S6.p8.23.m8.1.1.2.cmml" xref="S6.p8.23.m8.1.1.2">ğ‘¥</ci><ci id="S6.p8.23.m8.1.1.3.cmml" xref="S6.p8.23.m8.1.1.3">ğ‘¦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.23.m8.1c">x_{y}</annotation></semantics></math> in <math id="S6.p8.24.m9.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S6.p8.24.m9.1a"><mi mathvariant="normal" id="S6.p8.24.m9.1.1" xref="S6.p8.24.m9.1.1.cmml">Î£</mi><annotation-xml encoding="MathML-Content" id="S6.p8.24.m9.1b"><ci id="S6.p8.24.m9.1.1.cmml" xref="S6.p8.24.m9.1.1">Î£</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.24.m9.1c">\Sigma</annotation></semantics></math> such that
<math id="S6.p8.25.m10.1" class="ltx_Math" alttext="o_{q_{y}}[x_{y}]=y" display="inline"><semantics id="S6.p8.25.m10.1a"><mrow id="S6.p8.25.m10.1.1" xref="S6.p8.25.m10.1.1.cmml"><mrow id="S6.p8.25.m10.1.1.1" xref="S6.p8.25.m10.1.1.1.cmml"><msub id="S6.p8.25.m10.1.1.1.3" xref="S6.p8.25.m10.1.1.1.3.cmml"><mi id="S6.p8.25.m10.1.1.1.3.2" xref="S6.p8.25.m10.1.1.1.3.2.cmml">o</mi><msub id="S6.p8.25.m10.1.1.1.3.3" xref="S6.p8.25.m10.1.1.1.3.3.cmml"><mi id="S6.p8.25.m10.1.1.1.3.3.2" xref="S6.p8.25.m10.1.1.1.3.3.2.cmml">q</mi><mi id="S6.p8.25.m10.1.1.1.3.3.3" xref="S6.p8.25.m10.1.1.1.3.3.3.cmml">y</mi></msub></msub><mo lspace="0em" rspace="0em" id="S6.p8.25.m10.1.1.1.2" xref="S6.p8.25.m10.1.1.1.2.cmml">â€‹</mo><mrow id="S6.p8.25.m10.1.1.1.1.1" xref="S6.p8.25.m10.1.1.1.1.2.cmml"><mo stretchy="false" id="S6.p8.25.m10.1.1.1.1.1.2" xref="S6.p8.25.m10.1.1.1.1.2.1.cmml">[</mo><msub id="S6.p8.25.m10.1.1.1.1.1.1" xref="S6.p8.25.m10.1.1.1.1.1.1.cmml"><mi id="S6.p8.25.m10.1.1.1.1.1.1.2" xref="S6.p8.25.m10.1.1.1.1.1.1.2.cmml">x</mi><mi id="S6.p8.25.m10.1.1.1.1.1.1.3" xref="S6.p8.25.m10.1.1.1.1.1.1.3.cmml">y</mi></msub><mo stretchy="false" id="S6.p8.25.m10.1.1.1.1.1.3" xref="S6.p8.25.m10.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S6.p8.25.m10.1.1.2" xref="S6.p8.25.m10.1.1.2.cmml">=</mo><mi id="S6.p8.25.m10.1.1.3" xref="S6.p8.25.m10.1.1.3.cmml">y</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.25.m10.1b"><apply id="S6.p8.25.m10.1.1.cmml" xref="S6.p8.25.m10.1.1"><eq id="S6.p8.25.m10.1.1.2.cmml" xref="S6.p8.25.m10.1.1.2"></eq><apply id="S6.p8.25.m10.1.1.1.cmml" xref="S6.p8.25.m10.1.1.1"><times id="S6.p8.25.m10.1.1.1.2.cmml" xref="S6.p8.25.m10.1.1.1.2"></times><apply id="S6.p8.25.m10.1.1.1.3.cmml" xref="S6.p8.25.m10.1.1.1.3"><csymbol cd="ambiguous" id="S6.p8.25.m10.1.1.1.3.1.cmml" xref="S6.p8.25.m10.1.1.1.3">subscript</csymbol><ci id="S6.p8.25.m10.1.1.1.3.2.cmml" xref="S6.p8.25.m10.1.1.1.3.2">ğ‘œ</ci><apply id="S6.p8.25.m10.1.1.1.3.3.cmml" xref="S6.p8.25.m10.1.1.1.3.3"><csymbol cd="ambiguous" id="S6.p8.25.m10.1.1.1.3.3.1.cmml" xref="S6.p8.25.m10.1.1.1.3.3">subscript</csymbol><ci id="S6.p8.25.m10.1.1.1.3.3.2.cmml" xref="S6.p8.25.m10.1.1.1.3.3.2">ğ‘</ci><ci id="S6.p8.25.m10.1.1.1.3.3.3.cmml" xref="S6.p8.25.m10.1.1.1.3.3.3">ğ‘¦</ci></apply></apply><apply id="S6.p8.25.m10.1.1.1.1.2.cmml" xref="S6.p8.25.m10.1.1.1.1.1"><csymbol cd="latexml" id="S6.p8.25.m10.1.1.1.1.2.1.cmml" xref="S6.p8.25.m10.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S6.p8.25.m10.1.1.1.1.1.1.cmml" xref="S6.p8.25.m10.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.p8.25.m10.1.1.1.1.1.1.1.cmml" xref="S6.p8.25.m10.1.1.1.1.1.1">subscript</csymbol><ci id="S6.p8.25.m10.1.1.1.1.1.1.2.cmml" xref="S6.p8.25.m10.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S6.p8.25.m10.1.1.1.1.1.1.3.cmml" xref="S6.p8.25.m10.1.1.1.1.1.1.3">ğ‘¦</ci></apply></apply></apply><ci id="S6.p8.25.m10.1.1.3.cmml" xref="S6.p8.25.m10.1.1.3">ğ‘¦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.25.m10.1c">o_{q_{y}}[x_{y}]=y</annotation></semantics></math>. This allows us to transfer the counts from <math id="S6.p8.26.m11.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S6.p8.26.m11.1a"><mi id="S6.p8.26.m11.1.1" xref="S6.p8.26.m11.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S6.p8.26.m11.1b"><ci id="S6.p8.26.m11.1.1.cmml" xref="S6.p8.26.m11.1.1">ğµ</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.26.m11.1c">B</annotation></semantics></math> to <math id="S6.p8.27.m12.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p8.27.m12.1a"><mi id="S6.p8.27.m12.1.1" xref="S6.p8.27.m12.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p8.27.m12.1b"><ci id="S6.p8.27.m12.1.1.cmml" xref="S6.p8.27.m12.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.27.m12.1c">A</annotation></semantics></math> as
follows:</p>
<table id="S6.Ex14" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S6.Ex14.m1.4" class="ltx_Math" alttext="w_{q}[y]=w_{(q_{y},q)}[x_{y}]" display="block"><semantics id="S6.Ex14.m1.4a"><mrow id="S6.Ex14.m1.4.4" xref="S6.Ex14.m1.4.4.cmml"><mrow id="S6.Ex14.m1.4.4.3" xref="S6.Ex14.m1.4.4.3.cmml"><msub id="S6.Ex14.m1.4.4.3.2" xref="S6.Ex14.m1.4.4.3.2.cmml"><mi id="S6.Ex14.m1.4.4.3.2.2" xref="S6.Ex14.m1.4.4.3.2.2.cmml">w</mi><mi id="S6.Ex14.m1.4.4.3.2.3" xref="S6.Ex14.m1.4.4.3.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S6.Ex14.m1.4.4.3.1" xref="S6.Ex14.m1.4.4.3.1.cmml">â€‹</mo><mrow id="S6.Ex14.m1.4.4.3.3.2" xref="S6.Ex14.m1.4.4.3.3.1.cmml"><mo stretchy="false" id="S6.Ex14.m1.4.4.3.3.2.1" xref="S6.Ex14.m1.4.4.3.3.1.1.cmml">[</mo><mi id="S6.Ex14.m1.3.3" xref="S6.Ex14.m1.3.3.cmml">y</mi><mo stretchy="false" id="S6.Ex14.m1.4.4.3.3.2.2" xref="S6.Ex14.m1.4.4.3.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.Ex14.m1.4.4.2" xref="S6.Ex14.m1.4.4.2.cmml">=</mo><mrow id="S6.Ex14.m1.4.4.1" xref="S6.Ex14.m1.4.4.1.cmml"><msub id="S6.Ex14.m1.4.4.1.3" xref="S6.Ex14.m1.4.4.1.3.cmml"><mi id="S6.Ex14.m1.4.4.1.3.2" xref="S6.Ex14.m1.4.4.1.3.2.cmml">w</mi><mrow id="S6.Ex14.m1.2.2.2.2" xref="S6.Ex14.m1.2.2.2.3.cmml"><mo stretchy="false" id="S6.Ex14.m1.2.2.2.2.2" xref="S6.Ex14.m1.2.2.2.3.cmml">(</mo><msub id="S6.Ex14.m1.2.2.2.2.1" xref="S6.Ex14.m1.2.2.2.2.1.cmml"><mi id="S6.Ex14.m1.2.2.2.2.1.2" xref="S6.Ex14.m1.2.2.2.2.1.2.cmml">q</mi><mi id="S6.Ex14.m1.2.2.2.2.1.3" xref="S6.Ex14.m1.2.2.2.2.1.3.cmml">y</mi></msub><mo id="S6.Ex14.m1.2.2.2.2.3" xref="S6.Ex14.m1.2.2.2.3.cmml">,</mo><mi id="S6.Ex14.m1.1.1.1.1" xref="S6.Ex14.m1.1.1.1.1.cmml">q</mi><mo stretchy="false" id="S6.Ex14.m1.2.2.2.2.4" xref="S6.Ex14.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S6.Ex14.m1.4.4.1.2" xref="S6.Ex14.m1.4.4.1.2.cmml">â€‹</mo><mrow id="S6.Ex14.m1.4.4.1.1.1" xref="S6.Ex14.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S6.Ex14.m1.4.4.1.1.1.2" xref="S6.Ex14.m1.4.4.1.1.2.1.cmml">[</mo><msub id="S6.Ex14.m1.4.4.1.1.1.1" xref="S6.Ex14.m1.4.4.1.1.1.1.cmml"><mi id="S6.Ex14.m1.4.4.1.1.1.1.2" xref="S6.Ex14.m1.4.4.1.1.1.1.2.cmml">x</mi><mi id="S6.Ex14.m1.4.4.1.1.1.1.3" xref="S6.Ex14.m1.4.4.1.1.1.1.3.cmml">y</mi></msub><mo stretchy="false" id="S6.Ex14.m1.4.4.1.1.1.3" xref="S6.Ex14.m1.4.4.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.Ex14.m1.4b"><apply id="S6.Ex14.m1.4.4.cmml" xref="S6.Ex14.m1.4.4"><eq id="S6.Ex14.m1.4.4.2.cmml" xref="S6.Ex14.m1.4.4.2"></eq><apply id="S6.Ex14.m1.4.4.3.cmml" xref="S6.Ex14.m1.4.4.3"><times id="S6.Ex14.m1.4.4.3.1.cmml" xref="S6.Ex14.m1.4.4.3.1"></times><apply id="S6.Ex14.m1.4.4.3.2.cmml" xref="S6.Ex14.m1.4.4.3.2"><csymbol cd="ambiguous" id="S6.Ex14.m1.4.4.3.2.1.cmml" xref="S6.Ex14.m1.4.4.3.2">subscript</csymbol><ci id="S6.Ex14.m1.4.4.3.2.2.cmml" xref="S6.Ex14.m1.4.4.3.2.2">ğ‘¤</ci><ci id="S6.Ex14.m1.4.4.3.2.3.cmml" xref="S6.Ex14.m1.4.4.3.2.3">ğ‘</ci></apply><apply id="S6.Ex14.m1.4.4.3.3.1.cmml" xref="S6.Ex14.m1.4.4.3.3.2"><csymbol cd="latexml" id="S6.Ex14.m1.4.4.3.3.1.1.cmml" xref="S6.Ex14.m1.4.4.3.3.2.1">delimited-[]</csymbol><ci id="S6.Ex14.m1.3.3.cmml" xref="S6.Ex14.m1.3.3">ğ‘¦</ci></apply></apply><apply id="S6.Ex14.m1.4.4.1.cmml" xref="S6.Ex14.m1.4.4.1"><times id="S6.Ex14.m1.4.4.1.2.cmml" xref="S6.Ex14.m1.4.4.1.2"></times><apply id="S6.Ex14.m1.4.4.1.3.cmml" xref="S6.Ex14.m1.4.4.1.3"><csymbol cd="ambiguous" id="S6.Ex14.m1.4.4.1.3.1.cmml" xref="S6.Ex14.m1.4.4.1.3">subscript</csymbol><ci id="S6.Ex14.m1.4.4.1.3.2.cmml" xref="S6.Ex14.m1.4.4.1.3.2">ğ‘¤</ci><interval closure="open" id="S6.Ex14.m1.2.2.2.3.cmml" xref="S6.Ex14.m1.2.2.2.2"><apply id="S6.Ex14.m1.2.2.2.2.1.cmml" xref="S6.Ex14.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S6.Ex14.m1.2.2.2.2.1.1.cmml" xref="S6.Ex14.m1.2.2.2.2.1">subscript</csymbol><ci id="S6.Ex14.m1.2.2.2.2.1.2.cmml" xref="S6.Ex14.m1.2.2.2.2.1.2">ğ‘</ci><ci id="S6.Ex14.m1.2.2.2.2.1.3.cmml" xref="S6.Ex14.m1.2.2.2.2.1.3">ğ‘¦</ci></apply><ci id="S6.Ex14.m1.1.1.1.1.cmml" xref="S6.Ex14.m1.1.1.1.1">ğ‘</ci></interval></apply><apply id="S6.Ex14.m1.4.4.1.1.2.cmml" xref="S6.Ex14.m1.4.4.1.1.1"><csymbol cd="latexml" id="S6.Ex14.m1.4.4.1.1.2.1.cmml" xref="S6.Ex14.m1.4.4.1.1.1.2">delimited-[]</csymbol><apply id="S6.Ex14.m1.4.4.1.1.1.1.cmml" xref="S6.Ex14.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S6.Ex14.m1.4.4.1.1.1.1.1.cmml" xref="S6.Ex14.m1.4.4.1.1.1.1">subscript</csymbol><ci id="S6.Ex14.m1.4.4.1.1.1.1.2.cmml" xref="S6.Ex14.m1.4.4.1.1.1.1.2">ğ‘¥</ci><ci id="S6.Ex14.m1.4.4.1.1.1.1.3.cmml" xref="S6.Ex14.m1.4.4.1.1.1.1.3">ğ‘¦</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.Ex14.m1.4c">w_{q}[y]=w_{(q_{y},q)}[x_{y}]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S6.p8.28" class="ltx_p">The KL minimization step of <span id="S6.p8.28.1" class="ltx_text ltx_font_typewriter">SampleApprox</span>â€‰to <math id="S6.p8.28.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p8.28.m1.1a"><mi id="S6.p8.28.m1.1.1" xref="S6.p8.28.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p8.28.m1.1b"><ci id="S6.p8.28.m1.1.1.cmml" xref="S6.p8.28.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.28.m1.1c">A</annotation></semantics></math> is applied subsequently.</p>
</div>
<div id="S6.p9" class="ltx_para">
<p id="S6.p9.8" class="ltx_p">As an alternative, the unweighted word automaton <math id="S6.p9.1.m1.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S6.p9.1.m1.1a"><mi id="S6.p9.1.m1.1.1" xref="S6.p9.1.m1.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S6.p9.1.m1.1b"><ci id="S6.p9.1.m1.1.1.cmml" xref="S6.p9.1.m1.1.1">ğ´</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.1.m1.1c">A</annotation></semantics></math> could be used to perform the
counting step directly. Each sample <math id="S6.p9.2.m2.1" class="ltx_Math" alttext="\bar{x}(j)" display="inline"><semantics id="S6.p9.2.m2.1a"><mrow id="S6.p9.2.m2.1.2" xref="S6.p9.2.m2.1.2.cmml"><mover accent="true" id="S6.p9.2.m2.1.2.2" xref="S6.p9.2.m2.1.2.2.cmml"><mi id="S6.p9.2.m2.1.2.2.2" xref="S6.p9.2.m2.1.2.2.2.cmml">x</mi><mo id="S6.p9.2.m2.1.2.2.1" xref="S6.p9.2.m2.1.2.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S6.p9.2.m2.1.2.1" xref="S6.p9.2.m2.1.2.1.cmml">â€‹</mo><mrow id="S6.p9.2.m2.1.2.3.2" xref="S6.p9.2.m2.1.2.cmml"><mo stretchy="false" id="S6.p9.2.m2.1.2.3.2.1" xref="S6.p9.2.m2.1.2.cmml">(</mo><mi id="S6.p9.2.m2.1.1" xref="S6.p9.2.m2.1.1.cmml">j</mi><mo stretchy="false" id="S6.p9.2.m2.1.2.3.2.2" xref="S6.p9.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p9.2.m2.1b"><apply id="S6.p9.2.m2.1.2.cmml" xref="S6.p9.2.m2.1.2"><times id="S6.p9.2.m2.1.2.1.cmml" xref="S6.p9.2.m2.1.2.1"></times><apply id="S6.p9.2.m2.1.2.2.cmml" xref="S6.p9.2.m2.1.2.2"><ci id="S6.p9.2.m2.1.2.2.1.cmml" xref="S6.p9.2.m2.1.2.2.1">Â¯</ci><ci id="S6.p9.2.m2.1.2.2.2.cmml" xref="S6.p9.2.m2.1.2.2.2">ğ‘¥</ci></apply><ci id="S6.p9.2.m2.1.1.cmml" xref="S6.p9.2.m2.1.1">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.2.m2.1c">\bar{x}(j)</annotation></semantics></math> could be mapped to a
corresponding word sequence <math id="S6.p9.3.m3.1" class="ltx_Math" alttext="\bar{y}(j)" display="inline"><semantics id="S6.p9.3.m3.1a"><mrow id="S6.p9.3.m3.1.2" xref="S6.p9.3.m3.1.2.cmml"><mover accent="true" id="S6.p9.3.m3.1.2.2" xref="S6.p9.3.m3.1.2.2.cmml"><mi id="S6.p9.3.m3.1.2.2.2" xref="S6.p9.3.m3.1.2.2.2.cmml">y</mi><mo id="S6.p9.3.m3.1.2.2.1" xref="S6.p9.3.m3.1.2.2.1.cmml">Â¯</mo></mover><mo lspace="0em" rspace="0em" id="S6.p9.3.m3.1.2.1" xref="S6.p9.3.m3.1.2.1.cmml">â€‹</mo><mrow id="S6.p9.3.m3.1.2.3.2" xref="S6.p9.3.m3.1.2.cmml"><mo stretchy="false" id="S6.p9.3.m3.1.2.3.2.1" xref="S6.p9.3.m3.1.2.cmml">(</mo><mi id="S6.p9.3.m3.1.1" xref="S6.p9.3.m3.1.1.cmml">j</mi><mo stretchy="false" id="S6.p9.3.m3.1.2.3.2.2" xref="S6.p9.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p9.3.m3.1b"><apply id="S6.p9.3.m3.1.2.cmml" xref="S6.p9.3.m3.1.2"><times id="S6.p9.3.m3.1.2.1.cmml" xref="S6.p9.3.m3.1.2.1"></times><apply id="S6.p9.3.m3.1.2.2.cmml" xref="S6.p9.3.m3.1.2.2"><ci id="S6.p9.3.m3.1.2.2.1.cmml" xref="S6.p9.3.m3.1.2.2.1">Â¯</ci><ci id="S6.p9.3.m3.1.2.2.2.cmml" xref="S6.p9.3.m3.1.2.2.2">ğ‘¦</ci></apply><ci id="S6.p9.3.m3.1.1.cmml" xref="S6.p9.3.m3.1.1">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.3.m3.1c">\bar{y}(j)</annotation></semantics></math>, mapping out-of-vocabulary word-piece
sequences to an unknown token. However, the counting steps would have become
much more computationally expensive, since <math id="S6.p9.4.m4.2" class="ltx_Math" alttext="p_{\text{nn}}(y|\bar{y}^{i}(j))" display="inline"><semantics id="S6.p9.4.m4.2a"><mrow id="S6.p9.4.m4.2.2" xref="S6.p9.4.m4.2.2.cmml"><msub id="S6.p9.4.m4.2.2.3" xref="S6.p9.4.m4.2.2.3.cmml"><mi id="S6.p9.4.m4.2.2.3.2" xref="S6.p9.4.m4.2.2.3.2.cmml">p</mi><mtext id="S6.p9.4.m4.2.2.3.3" xref="S6.p9.4.m4.2.2.3.3a.cmml">nn</mtext></msub><mo lspace="0em" rspace="0em" id="S6.p9.4.m4.2.2.2" xref="S6.p9.4.m4.2.2.2.cmml">â€‹</mo><mrow id="S6.p9.4.m4.2.2.1.1" xref="S6.p9.4.m4.2.2.1.1.1.cmml"><mo stretchy="false" id="S6.p9.4.m4.2.2.1.1.2" xref="S6.p9.4.m4.2.2.1.1.1.cmml">(</mo><mrow id="S6.p9.4.m4.2.2.1.1.1" xref="S6.p9.4.m4.2.2.1.1.1.cmml"><mi id="S6.p9.4.m4.2.2.1.1.1.2" xref="S6.p9.4.m4.2.2.1.1.1.2.cmml">y</mi><mo fence="false" id="S6.p9.4.m4.2.2.1.1.1.1" xref="S6.p9.4.m4.2.2.1.1.1.1.cmml">|</mo><mrow id="S6.p9.4.m4.2.2.1.1.1.3" xref="S6.p9.4.m4.2.2.1.1.1.3.cmml"><msup id="S6.p9.4.m4.2.2.1.1.1.3.2" xref="S6.p9.4.m4.2.2.1.1.1.3.2.cmml"><mover accent="true" id="S6.p9.4.m4.2.2.1.1.1.3.2.2" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2.cmml"><mi id="S6.p9.4.m4.2.2.1.1.1.3.2.2.2" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2.2.cmml">y</mi><mo id="S6.p9.4.m4.2.2.1.1.1.3.2.2.1" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2.1.cmml">Â¯</mo></mover><mi id="S6.p9.4.m4.2.2.1.1.1.3.2.3" xref="S6.p9.4.m4.2.2.1.1.1.3.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S6.p9.4.m4.2.2.1.1.1.3.1" xref="S6.p9.4.m4.2.2.1.1.1.3.1.cmml">â€‹</mo><mrow id="S6.p9.4.m4.2.2.1.1.1.3.3.2" xref="S6.p9.4.m4.2.2.1.1.1.3.cmml"><mo stretchy="false" id="S6.p9.4.m4.2.2.1.1.1.3.3.2.1" xref="S6.p9.4.m4.2.2.1.1.1.3.cmml">(</mo><mi id="S6.p9.4.m4.1.1" xref="S6.p9.4.m4.1.1.cmml">j</mi><mo stretchy="false" id="S6.p9.4.m4.2.2.1.1.1.3.3.2.2" xref="S6.p9.4.m4.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S6.p9.4.m4.2.2.1.1.3" xref="S6.p9.4.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p9.4.m4.2b"><apply id="S6.p9.4.m4.2.2.cmml" xref="S6.p9.4.m4.2.2"><times id="S6.p9.4.m4.2.2.2.cmml" xref="S6.p9.4.m4.2.2.2"></times><apply id="S6.p9.4.m4.2.2.3.cmml" xref="S6.p9.4.m4.2.2.3"><csymbol cd="ambiguous" id="S6.p9.4.m4.2.2.3.1.cmml" xref="S6.p9.4.m4.2.2.3">subscript</csymbol><ci id="S6.p9.4.m4.2.2.3.2.cmml" xref="S6.p9.4.m4.2.2.3.2">ğ‘</ci><ci id="S6.p9.4.m4.2.2.3.3a.cmml" xref="S6.p9.4.m4.2.2.3.3"><mtext mathsize="70%" id="S6.p9.4.m4.2.2.3.3.cmml" xref="S6.p9.4.m4.2.2.3.3">nn</mtext></ci></apply><apply id="S6.p9.4.m4.2.2.1.1.1.cmml" xref="S6.p9.4.m4.2.2.1.1"><csymbol cd="latexml" id="S6.p9.4.m4.2.2.1.1.1.1.cmml" xref="S6.p9.4.m4.2.2.1.1.1.1">conditional</csymbol><ci id="S6.p9.4.m4.2.2.1.1.1.2.cmml" xref="S6.p9.4.m4.2.2.1.1.1.2">ğ‘¦</ci><apply id="S6.p9.4.m4.2.2.1.1.1.3.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3"><times id="S6.p9.4.m4.2.2.1.1.1.3.1.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.1"></times><apply id="S6.p9.4.m4.2.2.1.1.1.3.2.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S6.p9.4.m4.2.2.1.1.1.3.2.1.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2">superscript</csymbol><apply id="S6.p9.4.m4.2.2.1.1.1.3.2.2.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2"><ci id="S6.p9.4.m4.2.2.1.1.1.3.2.2.1.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2.1">Â¯</ci><ci id="S6.p9.4.m4.2.2.1.1.1.3.2.2.2.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2.2.2">ğ‘¦</ci></apply><ci id="S6.p9.4.m4.2.2.1.1.1.3.2.3.cmml" xref="S6.p9.4.m4.2.2.1.1.1.3.2.3">ğ‘–</ci></apply><ci id="S6.p9.4.m4.1.1.cmml" xref="S6.p9.4.m4.1.1">ğ‘—</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.4.m4.2c">p_{\text{nn}}(y|\bar{y}^{i}(j))</annotation></semantics></math> would
have to be evaluated for all <math id="S6.p9.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S6.p9.5.m5.1a"><mi id="S6.p9.5.m5.1.1" xref="S6.p9.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S6.p9.5.m5.1b"><ci id="S6.p9.5.m5.1.1.cmml" xref="S6.p9.5.m5.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.5.m5.1c">i</annotation></semantics></math>, <math id="S6.p9.6.m6.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S6.p9.6.m6.1a"><mi id="S6.p9.6.m6.1.1" xref="S6.p9.6.m6.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S6.p9.6.m6.1b"><ci id="S6.p9.6.m6.1.1.cmml" xref="S6.p9.6.m6.1.1">ğ‘—</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.6.m6.1c">j</annotation></semantics></math> and for all words <math id="S6.p9.7.m7.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S6.p9.7.m7.1a"><mi id="S6.p9.7.m7.1.1" xref="S6.p9.7.m7.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S6.p9.7.m7.1b"><ci id="S6.p9.7.m7.1.1.cmml" xref="S6.p9.7.m7.1.1">ğ‘¦</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.7.m7.1c">y</annotation></semantics></math> in the vocabulary,
where <math id="S6.p9.8.m8.1" class="ltx_Math" alttext="p_{\text{nn}}" display="inline"><semantics id="S6.p9.8.m8.1a"><msub id="S6.p9.8.m8.1.1" xref="S6.p9.8.m8.1.1.cmml"><mi id="S6.p9.8.m8.1.1.2" xref="S6.p9.8.m8.1.1.2.cmml">p</mi><mtext id="S6.p9.8.m8.1.1.3" xref="S6.p9.8.m8.1.1.3a.cmml">nn</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.p9.8.m8.1b"><apply id="S6.p9.8.m8.1.1.cmml" xref="S6.p9.8.m8.1.1"><csymbol cd="ambiguous" id="S6.p9.8.m8.1.1.1.cmml" xref="S6.p9.8.m8.1.1">subscript</csymbol><ci id="S6.p9.8.m8.1.1.2.cmml" xref="S6.p9.8.m8.1.1.2">ğ‘</ci><ci id="S6.p9.8.m8.1.1.3a.cmml" xref="S6.p9.8.m8.1.1.3"><mtext mathsize="70%" id="S6.p9.8.m8.1.1.3.cmml" xref="S6.p9.8.m8.1.1.3">nn</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p9.8.m8.1c">p_{\text{nn}}</annotation></semantics></math> is now a word-piece RNN.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Experiments</h2>

<section id="S7.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.1 </span>Neural language model</h3>

<div id="S7.SS1.p1" class="ltx_para">
<p id="S7.SS1.p1.1" class="ltx_p">LSTM modelsÂ <cite class="ltx_cite ltx_citemacro_cite">Hochreiter and Schmidhuber (<a href="#bib.bib15" title="" class="ltx_ref">1997</a>)</cite> have been successfully used in a variety
of sequence processing tasks. LSTM models usually have a large number of
parameters and are not suitable for on-device learning. In this work, we use
various techniques to reduce the memory footprint and to improve model performance.</p>
</div>
<div id="S7.SS1.p2" class="ltx_para">
<p id="S7.SS1.p2.2" class="ltx_p">We use a variant of LSTM with a Coupled Input and Forget Gate
(CIFG)Â <cite class="ltx_cite ltx_citemacro_cite">Greff etÂ al. (<a href="#bib.bib12" title="" class="ltx_ref">2017</a>)</cite> for the federated neural language model. CIFG
couples the forget and input decisions together, which reduces the number of
LSTM parameters by 25%. We also use group-LSTM (GLSTM)Â <cite class="ltx_cite ltx_citemacro_cite">Kuchaiev and Ginsburg (<a href="#bib.bib19" title="" class="ltx_ref">2017</a>)</cite> to reduce the
number of trainable variables of an LSTM matrix by the number of feature groups,
<math id="S7.SS1.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S7.SS1.p2.1.m1.1a"><mi id="S7.SS1.p2.1.m1.1.1" xref="S7.SS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.1.m1.1b"><ci id="S7.SS1.p2.1.m1.1.1.cmml" xref="S7.SS1.p2.1.m1.1.1">ğ‘˜</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.1.m1.1c">k</annotation></semantics></math>.
We set <math id="S7.SS1.p2.2.m2.1" class="ltx_Math" alttext="k=5" display="inline"><semantics id="S7.SS1.p2.2.m2.1a"><mrow id="S7.SS1.p2.2.m2.1.1" xref="S7.SS1.p2.2.m2.1.1.cmml"><mi id="S7.SS1.p2.2.m2.1.1.2" xref="S7.SS1.p2.2.m2.1.1.2.cmml">k</mi><mo id="S7.SS1.p2.2.m2.1.1.1" xref="S7.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S7.SS1.p2.2.m2.1.1.3" xref="S7.SS1.p2.2.m2.1.1.3.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p2.2.m2.1b"><apply id="S7.SS1.p2.2.m2.1.1.cmml" xref="S7.SS1.p2.2.m2.1.1"><eq id="S7.SS1.p2.2.m2.1.1.1.cmml" xref="S7.SS1.p2.2.m2.1.1.1"></eq><ci id="S7.SS1.p2.2.m2.1.1.2.cmml" xref="S7.SS1.p2.2.m2.1.1.2">ğ‘˜</ci><cn type="integer" id="S7.SS1.p2.2.m2.1.1.3.cmml" xref="S7.SS1.p2.2.m2.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p2.2.m2.1c">k=5</annotation></semantics></math> in experiments.</p>
</div>
<figure id="S7.T2" class="ltx_table">
<table id="S7.T2.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S7.T2.5.5" class="ltx_tr">
<th id="S7.T2.5.5.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r">Model</th>
<th id="S7.T2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><math id="S7.T2.1.1.1.m1.1" class="ltx_Math" alttext="N_{l}" display="inline"><semantics id="S7.T2.1.1.1.m1.1a"><msub id="S7.T2.1.1.1.m1.1.1" xref="S7.T2.1.1.1.m1.1.1.cmml"><mi id="S7.T2.1.1.1.m1.1.1.2" xref="S7.T2.1.1.1.m1.1.1.2.cmml">N</mi><mi id="S7.T2.1.1.1.m1.1.1.3" xref="S7.T2.1.1.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.1.1.1.m1.1b"><apply id="S7.T2.1.1.1.m1.1.1.cmml" xref="S7.T2.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.1.1.1.m1.1.1.1.cmml" xref="S7.T2.1.1.1.m1.1.1">subscript</csymbol><ci id="S7.T2.1.1.1.m1.1.1.2.cmml" xref="S7.T2.1.1.1.m1.1.1.2">ğ‘</ci><ci id="S7.T2.1.1.1.m1.1.1.3.cmml" xref="S7.T2.1.1.1.m1.1.1.3">ğ‘™</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.1.1.1.m1.1c">N_{l}</annotation></semantics></math></th>
<th id="S7.T2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><math id="S7.T2.2.2.2.m1.1" class="ltx_Math" alttext="N_{h}" display="inline"><semantics id="S7.T2.2.2.2.m1.1a"><msub id="S7.T2.2.2.2.m1.1.1" xref="S7.T2.2.2.2.m1.1.1.cmml"><mi id="S7.T2.2.2.2.m1.1.1.2" xref="S7.T2.2.2.2.m1.1.1.2.cmml">N</mi><mi id="S7.T2.2.2.2.m1.1.1.3" xref="S7.T2.2.2.2.m1.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.2.2.2.m1.1b"><apply id="S7.T2.2.2.2.m1.1.1.cmml" xref="S7.T2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.2.2.2.m1.1.1.1.cmml" xref="S7.T2.2.2.2.m1.1.1">subscript</csymbol><ci id="S7.T2.2.2.2.m1.1.1.2.cmml" xref="S7.T2.2.2.2.m1.1.1.2">ğ‘</ci><ci id="S7.T2.2.2.2.m1.1.1.3.cmml" xref="S7.T2.2.2.2.m1.1.1.3">â„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.2.2.2.m1.1c">N_{h}</annotation></semantics></math></th>
<th id="S7.T2.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><math id="S7.T2.3.3.3.m1.1" class="ltx_Math" alttext="N_{e}" display="inline"><semantics id="S7.T2.3.3.3.m1.1a"><msub id="S7.T2.3.3.3.m1.1.1" xref="S7.T2.3.3.3.m1.1.1.cmml"><mi id="S7.T2.3.3.3.m1.1.1.2" xref="S7.T2.3.3.3.m1.1.1.2.cmml">N</mi><mi id="S7.T2.3.3.3.m1.1.1.3" xref="S7.T2.3.3.3.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.3.3.3.m1.1b"><apply id="S7.T2.3.3.3.m1.1.1.cmml" xref="S7.T2.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.3.3.3.m1.1.1.1.cmml" xref="S7.T2.3.3.3.m1.1.1">subscript</csymbol><ci id="S7.T2.3.3.3.m1.1.1.2.cmml" xref="S7.T2.3.3.3.m1.1.1.2">ğ‘</ci><ci id="S7.T2.3.3.3.m1.1.1.3.cmml" xref="S7.T2.3.3.3.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.3.3.3.m1.1c">N_{e}</annotation></semantics></math></th>
<th id="S7.T2.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><math id="S7.T2.4.4.4.m1.1" class="ltx_Math" alttext="S_{e}" display="inline"><semantics id="S7.T2.4.4.4.m1.1a"><msub id="S7.T2.4.4.4.m1.1.1" xref="S7.T2.4.4.4.m1.1.1.cmml"><mi id="S7.T2.4.4.4.m1.1.1.2" xref="S7.T2.4.4.4.m1.1.1.2.cmml">S</mi><mi id="S7.T2.4.4.4.m1.1.1.3" xref="S7.T2.4.4.4.m1.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.4.4.4.m1.1b"><apply id="S7.T2.4.4.4.m1.1.1.cmml" xref="S7.T2.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.4.4.4.m1.1.1.1.cmml" xref="S7.T2.4.4.4.m1.1.1">subscript</csymbol><ci id="S7.T2.4.4.4.m1.1.1.2.cmml" xref="S7.T2.4.4.4.m1.1.1.2">ğ‘†</ci><ci id="S7.T2.4.4.4.m1.1.1.3.cmml" xref="S7.T2.4.4.4.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.4.4.4.m1.1c">S_{e}</annotation></semantics></math></th>
<th id="S7.T2.5.5.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><math id="S7.T2.5.5.5.m1.1" class="ltx_Math" alttext="S_{\text{total}}" display="inline"><semantics id="S7.T2.5.5.5.m1.1a"><msub id="S7.T2.5.5.5.m1.1.1" xref="S7.T2.5.5.5.m1.1.1.cmml"><mi id="S7.T2.5.5.5.m1.1.1.2" xref="S7.T2.5.5.5.m1.1.1.2.cmml">S</mi><mtext id="S7.T2.5.5.5.m1.1.1.3" xref="S7.T2.5.5.5.m1.1.1.3a.cmml">total</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.5.5.5.m1.1b"><apply id="S7.T2.5.5.5.m1.1.1.cmml" xref="S7.T2.5.5.5.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.5.5.5.m1.1.1.1.cmml" xref="S7.T2.5.5.5.m1.1.1">subscript</csymbol><ci id="S7.T2.5.5.5.m1.1.1.2.cmml" xref="S7.T2.5.5.5.m1.1.1.2">ğ‘†</ci><ci id="S7.T2.5.5.5.m1.1.1.3a.cmml" xref="S7.T2.5.5.5.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.5.5.5.m1.1.1.3.cmml" xref="S7.T2.5.5.5.m1.1.1.3">total</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.5.5.5.m1.1c">S_{\text{total}}</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S7.T2.6.6" class="ltx_tr">
<td id="S7.T2.6.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><math id="S7.T2.6.6.1.m1.1" class="ltx_Math" alttext="\text{W}_{\text{30K}}" display="inline"><semantics id="S7.T2.6.6.1.m1.1a"><msub id="S7.T2.6.6.1.m1.1.1" xref="S7.T2.6.6.1.m1.1.1.cmml"><mtext id="S7.T2.6.6.1.m1.1.1.2" xref="S7.T2.6.6.1.m1.1.1.2a.cmml">W</mtext><mtext id="S7.T2.6.6.1.m1.1.1.3" xref="S7.T2.6.6.1.m1.1.1.3a.cmml">30K</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.6.6.1.m1.1b"><apply id="S7.T2.6.6.1.m1.1.1.cmml" xref="S7.T2.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.6.6.1.m1.1.1.1.cmml" xref="S7.T2.6.6.1.m1.1.1">subscript</csymbol><ci id="S7.T2.6.6.1.m1.1.1.2a.cmml" xref="S7.T2.6.6.1.m1.1.1.2"><mtext id="S7.T2.6.6.1.m1.1.1.2.cmml" xref="S7.T2.6.6.1.m1.1.1.2">W</mtext></ci><ci id="S7.T2.6.6.1.m1.1.1.3a.cmml" xref="S7.T2.6.6.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.6.6.1.m1.1.1.3.cmml" xref="S7.T2.6.6.1.m1.1.1.3">30K</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.6.6.1.m1.1c">\text{W}_{\text{30K}}</annotation></semantics></math></td>
<td id="S7.T2.6.6.2" class="ltx_td ltx_align_center ltx_border_t">1</td>
<td id="S7.T2.6.6.3" class="ltx_td ltx_align_center ltx_border_t">670</td>
<td id="S7.T2.6.6.4" class="ltx_td ltx_align_center ltx_border_t">96</td>
<td id="S7.T2.6.6.5" class="ltx_td ltx_align_center ltx_border_t">2.91M</td>
<td id="S7.T2.6.6.6" class="ltx_td ltx_align_center ltx_border_t">3.40M</td>
</tr>
<tr id="S7.T2.7.7" class="ltx_tr">
<td id="S7.T2.7.7.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.7.7.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{4K-S}}" display="inline"><semantics id="S7.T2.7.7.1.m1.1a"><msub id="S7.T2.7.7.1.m1.1.1" xref="S7.T2.7.7.1.m1.1.1.cmml"><mtext id="S7.T2.7.7.1.m1.1.1.2" xref="S7.T2.7.7.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.7.7.1.m1.1.1.3" xref="S7.T2.7.7.1.m1.1.1.3a.cmml">4K-S</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.7.7.1.m1.1b"><apply id="S7.T2.7.7.1.m1.1.1.cmml" xref="S7.T2.7.7.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.7.7.1.m1.1.1.1.cmml" xref="S7.T2.7.7.1.m1.1.1">subscript</csymbol><ci id="S7.T2.7.7.1.m1.1.1.2a.cmml" xref="S7.T2.7.7.1.m1.1.1.2"><mtext id="S7.T2.7.7.1.m1.1.1.2.cmml" xref="S7.T2.7.7.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.7.7.1.m1.1.1.3a.cmml" xref="S7.T2.7.7.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.7.7.1.m1.1.1.3.cmml" xref="S7.T2.7.7.1.m1.1.1.3">4K-S</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.7.7.1.m1.1c">\text{P}_{\text{4K-S}}</annotation></semantics></math></td>
<td id="S7.T2.7.7.2" class="ltx_td ltx_align_center">1</td>
<td id="S7.T2.7.7.3" class="ltx_td ltx_align_center">670</td>
<td id="S7.T2.7.7.4" class="ltx_td ltx_align_center">96</td>
<td id="S7.T2.7.7.5" class="ltx_td ltx_align_center">0.38M</td>
<td id="S7.T2.7.7.6" class="ltx_td ltx_align_center">0.85M</td>
</tr>
<tr id="S7.T2.8.8" class="ltx_tr">
<td id="S7.T2.8.8.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.8.8.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{4K-L}}" display="inline"><semantics id="S7.T2.8.8.1.m1.1a"><msub id="S7.T2.8.8.1.m1.1.1" xref="S7.T2.8.8.1.m1.1.1.cmml"><mtext id="S7.T2.8.8.1.m1.1.1.2" xref="S7.T2.8.8.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.8.8.1.m1.1.1.3" xref="S7.T2.8.8.1.m1.1.1.3a.cmml">4K-L</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.8.8.1.m1.1b"><apply id="S7.T2.8.8.1.m1.1.1.cmml" xref="S7.T2.8.8.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.8.8.1.m1.1.1.1.cmml" xref="S7.T2.8.8.1.m1.1.1">subscript</csymbol><ci id="S7.T2.8.8.1.m1.1.1.2a.cmml" xref="S7.T2.8.8.1.m1.1.1.2"><mtext id="S7.T2.8.8.1.m1.1.1.2.cmml" xref="S7.T2.8.8.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.8.8.1.m1.1.1.3a.cmml" xref="S7.T2.8.8.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.8.8.1.m1.1.1.3.cmml" xref="S7.T2.8.8.1.m1.1.1.3">4K-L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.8.8.1.m1.1c">\text{P}_{\text{4K-L}}</annotation></semantics></math></td>
<td id="S7.T2.8.8.2" class="ltx_td ltx_align_center">2</td>
<td id="S7.T2.8.8.3" class="ltx_td ltx_align_center">1080</td>
<td id="S7.T2.8.8.4" class="ltx_td ltx_align_center">140</td>
<td id="S7.T2.8.8.5" class="ltx_td ltx_align_center">0.56M</td>
<td id="S7.T2.8.8.6" class="ltx_td ltx_align_center">2.70M</td>
</tr>
<tr id="S7.T2.9.9" class="ltx_tr">
<td id="S7.T2.9.9.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.9.9.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{4K-G}}" display="inline"><semantics id="S7.T2.9.9.1.m1.1a"><msub id="S7.T2.9.9.1.m1.1.1" xref="S7.T2.9.9.1.m1.1.1.cmml"><mtext id="S7.T2.9.9.1.m1.1.1.2" xref="S7.T2.9.9.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.9.9.1.m1.1.1.3" xref="S7.T2.9.9.1.m1.1.1.3a.cmml">4K-G</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.9.9.1.m1.1b"><apply id="S7.T2.9.9.1.m1.1.1.cmml" xref="S7.T2.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.9.9.1.m1.1.1.1.cmml" xref="S7.T2.9.9.1.m1.1.1">subscript</csymbol><ci id="S7.T2.9.9.1.m1.1.1.2a.cmml" xref="S7.T2.9.9.1.m1.1.1.2"><mtext id="S7.T2.9.9.1.m1.1.1.2.cmml" xref="S7.T2.9.9.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.9.9.1.m1.1.1.3a.cmml" xref="S7.T2.9.9.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.9.9.1.m1.1.1.3.cmml" xref="S7.T2.9.9.1.m1.1.1.3">4K-G</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.9.9.1.m1.1c">\text{P}_{\text{4K-G}}</annotation></semantics></math></td>
<td id="S7.T2.9.9.2" class="ltx_td ltx_align_center">2</td>
<td id="S7.T2.9.9.3" class="ltx_td ltx_align_center">1080</td>
<td id="S7.T2.9.9.4" class="ltx_td ltx_align_center">280</td>
<td id="S7.T2.9.9.5" class="ltx_td ltx_align_center">1.12M</td>
<td id="S7.T2.9.9.6" class="ltx_td ltx_align_center">2.71M</td>
</tr>
<tr id="S7.T2.10.10" class="ltx_tr">
<td id="S7.T2.10.10.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.10.10.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{16K-S}}" display="inline"><semantics id="S7.T2.10.10.1.m1.1a"><msub id="S7.T2.10.10.1.m1.1.1" xref="S7.T2.10.10.1.m1.1.1.cmml"><mtext id="S7.T2.10.10.1.m1.1.1.2" xref="S7.T2.10.10.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.10.10.1.m1.1.1.3" xref="S7.T2.10.10.1.m1.1.1.3a.cmml">16K-S</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.10.10.1.m1.1b"><apply id="S7.T2.10.10.1.m1.1.1.cmml" xref="S7.T2.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.10.10.1.m1.1.1.1.cmml" xref="S7.T2.10.10.1.m1.1.1">subscript</csymbol><ci id="S7.T2.10.10.1.m1.1.1.2a.cmml" xref="S7.T2.10.10.1.m1.1.1.2"><mtext id="S7.T2.10.10.1.m1.1.1.2.cmml" xref="S7.T2.10.10.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.10.10.1.m1.1.1.3a.cmml" xref="S7.T2.10.10.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.10.10.1.m1.1.1.3.cmml" xref="S7.T2.10.10.1.m1.1.1.3">16K-S</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.10.10.1.m1.1c">\text{P}_{\text{16K-S}}</annotation></semantics></math></td>
<td id="S7.T2.10.10.2" class="ltx_td ltx_align_center">1</td>
<td id="S7.T2.10.10.3" class="ltx_td ltx_align_center">670</td>
<td id="S7.T2.10.10.4" class="ltx_td ltx_align_center">96</td>
<td id="S7.T2.10.10.5" class="ltx_td ltx_align_center">1.54M</td>
<td id="S7.T2.10.10.6" class="ltx_td ltx_align_center">2.00M</td>
</tr>
<tr id="S7.T2.11.11" class="ltx_tr">
<td id="S7.T2.11.11.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.11.11.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{16K-L}}" display="inline"><semantics id="S7.T2.11.11.1.m1.1a"><msub id="S7.T2.11.11.1.m1.1.1" xref="S7.T2.11.11.1.m1.1.1.cmml"><mtext id="S7.T2.11.11.1.m1.1.1.2" xref="S7.T2.11.11.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.11.11.1.m1.1.1.3" xref="S7.T2.11.11.1.m1.1.1.3a.cmml">16K-L</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.11.11.1.m1.1b"><apply id="S7.T2.11.11.1.m1.1.1.cmml" xref="S7.T2.11.11.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.11.11.1.m1.1.1.1.cmml" xref="S7.T2.11.11.1.m1.1.1">subscript</csymbol><ci id="S7.T2.11.11.1.m1.1.1.2a.cmml" xref="S7.T2.11.11.1.m1.1.1.2"><mtext id="S7.T2.11.11.1.m1.1.1.2.cmml" xref="S7.T2.11.11.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.11.11.1.m1.1.1.3a.cmml" xref="S7.T2.11.11.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.11.11.1.m1.1.1.3.cmml" xref="S7.T2.11.11.1.m1.1.1.3">16K-L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.11.11.1.m1.1c">\text{P}_{\text{16K-L}}</annotation></semantics></math></td>
<td id="S7.T2.11.11.2" class="ltx_td ltx_align_center">1</td>
<td id="S7.T2.11.11.3" class="ltx_td ltx_align_center">670</td>
<td id="S7.T2.11.11.4" class="ltx_td ltx_align_center">160</td>
<td id="S7.T2.11.11.5" class="ltx_td ltx_align_center">2.56M</td>
<td id="S7.T2.11.11.6" class="ltx_td ltx_align_center">3.33M</td>
</tr>
<tr id="S7.T2.12.12" class="ltx_tr">
<td id="S7.T2.12.12.1" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T2.12.12.1.m1.1" class="ltx_Math" alttext="\text{P}_{\text{30K}}" display="inline"><semantics id="S7.T2.12.12.1.m1.1a"><msub id="S7.T2.12.12.1.m1.1.1" xref="S7.T2.12.12.1.m1.1.1.cmml"><mtext id="S7.T2.12.12.1.m1.1.1.2" xref="S7.T2.12.12.1.m1.1.1.2a.cmml">P</mtext><mtext id="S7.T2.12.12.1.m1.1.1.3" xref="S7.T2.12.12.1.m1.1.1.3a.cmml">30K</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.T2.12.12.1.m1.1b"><apply id="S7.T2.12.12.1.m1.1.1.cmml" xref="S7.T2.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.12.12.1.m1.1.1.1.cmml" xref="S7.T2.12.12.1.m1.1.1">subscript</csymbol><ci id="S7.T2.12.12.1.m1.1.1.2a.cmml" xref="S7.T2.12.12.1.m1.1.1.2"><mtext id="S7.T2.12.12.1.m1.1.1.2.cmml" xref="S7.T2.12.12.1.m1.1.1.2">P</mtext></ci><ci id="S7.T2.12.12.1.m1.1.1.3a.cmml" xref="S7.T2.12.12.1.m1.1.1.3"><mtext mathsize="70%" id="S7.T2.12.12.1.m1.1.1.3.cmml" xref="S7.T2.12.12.1.m1.1.1.3">30K</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.12.12.1.m1.1c">\text{P}_{\text{30K}}</annotation></semantics></math></td>
<td id="S7.T2.12.12.2" class="ltx_td ltx_align_center">1</td>
<td id="S7.T2.12.12.3" class="ltx_td ltx_align_center">670</td>
<td id="S7.T2.12.12.4" class="ltx_td ltx_align_center">96</td>
<td id="S7.T2.12.12.5" class="ltx_td ltx_align_center">2.91M</td>
<td id="S7.T2.12.12.6" class="ltx_td ltx_align_center">3.40M</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Parameters for neural language models. W and P refer to word and
word-piece models, respectively. <math id="S7.T2.18.m1.1" class="ltx_Math" alttext="N_{l}" display="inline"><semantics id="S7.T2.18.m1.1b"><msub id="S7.T2.18.m1.1.1" xref="S7.T2.18.m1.1.1.cmml"><mi id="S7.T2.18.m1.1.1.2" xref="S7.T2.18.m1.1.1.2.cmml">N</mi><mi id="S7.T2.18.m1.1.1.3" xref="S7.T2.18.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.18.m1.1c"><apply id="S7.T2.18.m1.1.1.cmml" xref="S7.T2.18.m1.1.1"><csymbol cd="ambiguous" id="S7.T2.18.m1.1.1.1.cmml" xref="S7.T2.18.m1.1.1">subscript</csymbol><ci id="S7.T2.18.m1.1.1.2.cmml" xref="S7.T2.18.m1.1.1.2">ğ‘</ci><ci id="S7.T2.18.m1.1.1.3.cmml" xref="S7.T2.18.m1.1.1.3">ğ‘™</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.18.m1.1d">N_{l}</annotation></semantics></math>, <math id="S7.T2.19.m2.1" class="ltx_Math" alttext="N_{h}" display="inline"><semantics id="S7.T2.19.m2.1b"><msub id="S7.T2.19.m2.1.1" xref="S7.T2.19.m2.1.1.cmml"><mi id="S7.T2.19.m2.1.1.2" xref="S7.T2.19.m2.1.1.2.cmml">N</mi><mi id="S7.T2.19.m2.1.1.3" xref="S7.T2.19.m2.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.19.m2.1c"><apply id="S7.T2.19.m2.1.1.cmml" xref="S7.T2.19.m2.1.1"><csymbol cd="ambiguous" id="S7.T2.19.m2.1.1.1.cmml" xref="S7.T2.19.m2.1.1">subscript</csymbol><ci id="S7.T2.19.m2.1.1.2.cmml" xref="S7.T2.19.m2.1.1.2">ğ‘</ci><ci id="S7.T2.19.m2.1.1.3.cmml" xref="S7.T2.19.m2.1.1.3">â„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.19.m2.1d">N_{h}</annotation></semantics></math>, <math id="S7.T2.20.m3.1" class="ltx_Math" alttext="N_{e}" display="inline"><semantics id="S7.T2.20.m3.1b"><msub id="S7.T2.20.m3.1.1" xref="S7.T2.20.m3.1.1.cmml"><mi id="S7.T2.20.m3.1.1.2" xref="S7.T2.20.m3.1.1.2.cmml">N</mi><mi id="S7.T2.20.m3.1.1.3" xref="S7.T2.20.m3.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.20.m3.1c"><apply id="S7.T2.20.m3.1.1.cmml" xref="S7.T2.20.m3.1.1"><csymbol cd="ambiguous" id="S7.T2.20.m3.1.1.1.cmml" xref="S7.T2.20.m3.1.1">subscript</csymbol><ci id="S7.T2.20.m3.1.1.2.cmml" xref="S7.T2.20.m3.1.1.2">ğ‘</ci><ci id="S7.T2.20.m3.1.1.3.cmml" xref="S7.T2.20.m3.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.20.m3.1d">N_{e}</annotation></semantics></math>, <math id="S7.T2.21.m4.1" class="ltx_Math" alttext="S_{e}" display="inline"><semantics id="S7.T2.21.m4.1b"><msub id="S7.T2.21.m4.1.1" xref="S7.T2.21.m4.1.1.cmml"><mi id="S7.T2.21.m4.1.1.2" xref="S7.T2.21.m4.1.1.2.cmml">S</mi><mi id="S7.T2.21.m4.1.1.3" xref="S7.T2.21.m4.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.T2.21.m4.1c"><apply id="S7.T2.21.m4.1.1.cmml" xref="S7.T2.21.m4.1.1"><csymbol cd="ambiguous" id="S7.T2.21.m4.1.1.1.cmml" xref="S7.T2.21.m4.1.1">subscript</csymbol><ci id="S7.T2.21.m4.1.1.2.cmml" xref="S7.T2.21.m4.1.1.2">ğ‘†</ci><ci id="S7.T2.21.m4.1.1.3.cmml" xref="S7.T2.21.m4.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.21.m4.1d">S_{e}</annotation></semantics></math> and
<math id="S7.T2.22.m5.1" class="ltx_Math" alttext="S_{total}" display="inline"><semantics id="S7.T2.22.m5.1b"><msub id="S7.T2.22.m5.1.1" xref="S7.T2.22.m5.1.1.cmml"><mi id="S7.T2.22.m5.1.1.2" xref="S7.T2.22.m5.1.1.2.cmml">S</mi><mrow id="S7.T2.22.m5.1.1.3" xref="S7.T2.22.m5.1.1.3.cmml"><mi id="S7.T2.22.m5.1.1.3.2" xref="S7.T2.22.m5.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S7.T2.22.m5.1.1.3.1" xref="S7.T2.22.m5.1.1.3.1.cmml">â€‹</mo><mi id="S7.T2.22.m5.1.1.3.3" xref="S7.T2.22.m5.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S7.T2.22.m5.1.1.3.1b" xref="S7.T2.22.m5.1.1.3.1.cmml">â€‹</mo><mi id="S7.T2.22.m5.1.1.3.4" xref="S7.T2.22.m5.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S7.T2.22.m5.1.1.3.1c" xref="S7.T2.22.m5.1.1.3.1.cmml">â€‹</mo><mi id="S7.T2.22.m5.1.1.3.5" xref="S7.T2.22.m5.1.1.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S7.T2.22.m5.1.1.3.1d" xref="S7.T2.22.m5.1.1.3.1.cmml">â€‹</mo><mi id="S7.T2.22.m5.1.1.3.6" xref="S7.T2.22.m5.1.1.3.6.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S7.T2.22.m5.1c"><apply id="S7.T2.22.m5.1.1.cmml" xref="S7.T2.22.m5.1.1"><csymbol cd="ambiguous" id="S7.T2.22.m5.1.1.1.cmml" xref="S7.T2.22.m5.1.1">subscript</csymbol><ci id="S7.T2.22.m5.1.1.2.cmml" xref="S7.T2.22.m5.1.1.2">ğ‘†</ci><apply id="S7.T2.22.m5.1.1.3.cmml" xref="S7.T2.22.m5.1.1.3"><times id="S7.T2.22.m5.1.1.3.1.cmml" xref="S7.T2.22.m5.1.1.3.1"></times><ci id="S7.T2.22.m5.1.1.3.2.cmml" xref="S7.T2.22.m5.1.1.3.2">ğ‘¡</ci><ci id="S7.T2.22.m5.1.1.3.3.cmml" xref="S7.T2.22.m5.1.1.3.3">ğ‘œ</ci><ci id="S7.T2.22.m5.1.1.3.4.cmml" xref="S7.T2.22.m5.1.1.3.4">ğ‘¡</ci><ci id="S7.T2.22.m5.1.1.3.5.cmml" xref="S7.T2.22.m5.1.1.3.5">ğ‘</ci><ci id="S7.T2.22.m5.1.1.3.6.cmml" xref="S7.T2.22.m5.1.1.3.6">ğ‘™</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T2.22.m5.1d">S_{total}</annotation></semantics></math> refer to the number of LSTM layers, the number of hidden
states in LSTM, the embedding dimension size, the number of parameters
in the embedding layer and in total, respectively. The suffixes â€œSâ€
and â€œLâ€ indicate small and large models. â€œGâ€ represents GLSTM. The
suffixes 4K, 16K and 30K represent the vocabulary sizes.
</figcaption>
</figure>
<div id="S7.SS1.p3" class="ltx_para">
<p id="S7.SS1.p3.7" class="ltx_p">TableÂ <a href="#S7.T2" title="Table 2 â€£ 7.1 Neural language model â€£ 7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> lists the parameter settings of
the word (W) and word-piece (P) models used in this study. Due to the
memory limitations of on-device training, all models use fewer than
<math id="S7.SS1.p3.1.m1.1" class="ltx_Math" alttext="3.5M" display="inline"><semantics id="S7.SS1.p3.1.m1.1a"><mrow id="S7.SS1.p3.1.m1.1.1" xref="S7.SS1.p3.1.m1.1.1.cmml"><mn id="S7.SS1.p3.1.m1.1.1.2" xref="S7.SS1.p3.1.m1.1.1.2.cmml">3.5</mn><mo lspace="0em" rspace="0em" id="S7.SS1.p3.1.m1.1.1.1" xref="S7.SS1.p3.1.m1.1.1.1.cmml">â€‹</mo><mi id="S7.SS1.p3.1.m1.1.1.3" xref="S7.SS1.p3.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.1.m1.1b"><apply id="S7.SS1.p3.1.m1.1.1.cmml" xref="S7.SS1.p3.1.m1.1.1"><times id="S7.SS1.p3.1.m1.1.1.1.cmml" xref="S7.SS1.p3.1.m1.1.1.1"></times><cn type="float" id="S7.SS1.p3.1.m1.1.1.2.cmml" xref="S7.SS1.p3.1.m1.1.1.2">3.5</cn><ci id="S7.SS1.p3.1.m1.1.1.3.cmml" xref="S7.SS1.p3.1.m1.1.1.3">ğ‘€</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.1.m1.1c">3.5M</annotation></semantics></math> parameters. For each vocabulary size, we first start with a
base architecture consisting of one LSTM layer, a <math id="S7.SS1.p3.2.m2.1" class="ltx_Math" alttext="96" display="inline"><semantics id="S7.SS1.p3.2.m2.1a"><mn id="S7.SS1.p3.2.m2.1.1" xref="S7.SS1.p3.2.m2.1.1.cmml">96</mn><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.2.m2.1b"><cn type="integer" id="S7.SS1.p3.2.m2.1.1.cmml" xref="S7.SS1.p3.2.m2.1.1">96</cn></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.2.m2.1c">96</annotation></semantics></math>-dimensional
embedding, and <math id="S7.SS1.p3.3.m3.1" class="ltx_Math" alttext="670" display="inline"><semantics id="S7.SS1.p3.3.m3.1a"><mn id="S7.SS1.p3.3.m3.1.1" xref="S7.SS1.p3.3.m3.1.1.cmml">670</mn><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.3.m3.1b"><cn type="integer" id="S7.SS1.p3.3.m3.1.1.cmml" xref="S7.SS1.p3.3.m3.1.1">670</cn></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.3.m3.1c">670</annotation></semantics></math> hidden state units. We then attempt to increase
the representational power of the LSTM cell by increasing the number
of hidden units and using multi-layer LSTM
cellsÂ <cite class="ltx_cite ltx_citemacro_cite">Sutskever etÂ al. (<a href="#bib.bib32" title="" class="ltx_ref">2014</a>)</cite>. Residual
LSTMÂ <cite class="ltx_cite ltx_citemacro_cite">Kim etÂ al. (<a href="#bib.bib16" title="" class="ltx_ref">2017</a>)</cite> and layer
normalizationÂ <cite class="ltx_cite ltx_citemacro_cite">LeiÂ Ba etÂ al. (<a href="#bib.bib21" title="" class="ltx_ref">2016</a>)</cite> are used throughout experiments, as
these techniques were observed to improve convergence. To avoid the
restriction that <math id="S7.SS1.p3.4.m4.1" class="ltx_Math" alttext="N_{h}=N_{e}" display="inline"><semantics id="S7.SS1.p3.4.m4.1a"><mrow id="S7.SS1.p3.4.m4.1.1" xref="S7.SS1.p3.4.m4.1.1.cmml"><msub id="S7.SS1.p3.4.m4.1.1.2" xref="S7.SS1.p3.4.m4.1.1.2.cmml"><mi id="S7.SS1.p3.4.m4.1.1.2.2" xref="S7.SS1.p3.4.m4.1.1.2.2.cmml">N</mi><mi id="S7.SS1.p3.4.m4.1.1.2.3" xref="S7.SS1.p3.4.m4.1.1.2.3.cmml">h</mi></msub><mo id="S7.SS1.p3.4.m4.1.1.1" xref="S7.SS1.p3.4.m4.1.1.1.cmml">=</mo><msub id="S7.SS1.p3.4.m4.1.1.3" xref="S7.SS1.p3.4.m4.1.1.3.cmml"><mi id="S7.SS1.p3.4.m4.1.1.3.2" xref="S7.SS1.p3.4.m4.1.1.3.2.cmml">N</mi><mi id="S7.SS1.p3.4.m4.1.1.3.3" xref="S7.SS1.p3.4.m4.1.1.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.4.m4.1b"><apply id="S7.SS1.p3.4.m4.1.1.cmml" xref="S7.SS1.p3.4.m4.1.1"><eq id="S7.SS1.p3.4.m4.1.1.1.cmml" xref="S7.SS1.p3.4.m4.1.1.1"></eq><apply id="S7.SS1.p3.4.m4.1.1.2.cmml" xref="S7.SS1.p3.4.m4.1.1.2"><csymbol cd="ambiguous" id="S7.SS1.p3.4.m4.1.1.2.1.cmml" xref="S7.SS1.p3.4.m4.1.1.2">subscript</csymbol><ci id="S7.SS1.p3.4.m4.1.1.2.2.cmml" xref="S7.SS1.p3.4.m4.1.1.2.2">ğ‘</ci><ci id="S7.SS1.p3.4.m4.1.1.2.3.cmml" xref="S7.SS1.p3.4.m4.1.1.2.3">â„</ci></apply><apply id="S7.SS1.p3.4.m4.1.1.3.cmml" xref="S7.SS1.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="S7.SS1.p3.4.m4.1.1.3.1.cmml" xref="S7.SS1.p3.4.m4.1.1.3">subscript</csymbol><ci id="S7.SS1.p3.4.m4.1.1.3.2.cmml" xref="S7.SS1.p3.4.m4.1.1.3.2">ğ‘</ci><ci id="S7.SS1.p3.4.m4.1.1.3.3.cmml" xref="S7.SS1.p3.4.m4.1.1.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.4.m4.1c">N_{h}=N_{e}</annotation></semantics></math> in the output, we apply a projection step
at the output gate of the LSTMÂ <cite class="ltx_cite ltx_citemacro_cite">Sak etÂ al. (<a href="#bib.bib27" title="" class="ltx_ref">2014</a>)</cite>. This step reduces
the dimension of the LSTM hidden state from <math id="S7.SS1.p3.5.m5.1" class="ltx_Math" alttext="N_{h}" display="inline"><semantics id="S7.SS1.p3.5.m5.1a"><msub id="S7.SS1.p3.5.m5.1.1" xref="S7.SS1.p3.5.m5.1.1.cmml"><mi id="S7.SS1.p3.5.m5.1.1.2" xref="S7.SS1.p3.5.m5.1.1.2.cmml">N</mi><mi id="S7.SS1.p3.5.m5.1.1.3" xref="S7.SS1.p3.5.m5.1.1.3.cmml">h</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.5.m5.1b"><apply id="S7.SS1.p3.5.m5.1.1.cmml" xref="S7.SS1.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S7.SS1.p3.5.m5.1.1.1.cmml" xref="S7.SS1.p3.5.m5.1.1">subscript</csymbol><ci id="S7.SS1.p3.5.m5.1.1.2.cmml" xref="S7.SS1.p3.5.m5.1.1.2">ğ‘</ci><ci id="S7.SS1.p3.5.m5.1.1.3.cmml" xref="S7.SS1.p3.5.m5.1.1.3">â„</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.5.m5.1c">N_{h}</annotation></semantics></math> to <math id="S7.SS1.p3.6.m6.1" class="ltx_Math" alttext="N_{e}" display="inline"><semantics id="S7.SS1.p3.6.m6.1a"><msub id="S7.SS1.p3.6.m6.1.1" xref="S7.SS1.p3.6.m6.1.1.cmml"><mi id="S7.SS1.p3.6.m6.1.1.2" xref="S7.SS1.p3.6.m6.1.1.2.cmml">N</mi><mi id="S7.SS1.p3.6.m6.1.1.3" xref="S7.SS1.p3.6.m6.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.6.m6.1b"><apply id="S7.SS1.p3.6.m6.1.1.cmml" xref="S7.SS1.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S7.SS1.p3.6.m6.1.1.1.cmml" xref="S7.SS1.p3.6.m6.1.1">subscript</csymbol><ci id="S7.SS1.p3.6.m6.1.1.2.cmml" xref="S7.SS1.p3.6.m6.1.1.2">ğ‘</ci><ci id="S7.SS1.p3.6.m6.1.1.3.cmml" xref="S7.SS1.p3.6.m6.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.6.m6.1c">N_{e}</annotation></semantics></math>. We also
share the embedding matrix between the input embedding and output
softmax layer, which reduces the memory requirement by <math id="S7.SS1.p3.7.m7.1" class="ltx_Math" alttext="\left|\mathcal{V}\right|\times N_{e}" display="inline"><semantics id="S7.SS1.p3.7.m7.1a"><mrow id="S7.SS1.p3.7.m7.1.2" xref="S7.SS1.p3.7.m7.1.2.cmml"><mrow id="S7.SS1.p3.7.m7.1.2.2.2" xref="S7.SS1.p3.7.m7.1.2.2.1.cmml"><mo id="S7.SS1.p3.7.m7.1.2.2.2.1" xref="S7.SS1.p3.7.m7.1.2.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S7.SS1.p3.7.m7.1.1" xref="S7.SS1.p3.7.m7.1.1.cmml">ğ’±</mi><mo rspace="0.055em" id="S7.SS1.p3.7.m7.1.2.2.2.2" xref="S7.SS1.p3.7.m7.1.2.2.1.1.cmml">|</mo></mrow><mo rspace="0.222em" id="S7.SS1.p3.7.m7.1.2.1" xref="S7.SS1.p3.7.m7.1.2.1.cmml">Ã—</mo><msub id="S7.SS1.p3.7.m7.1.2.3" xref="S7.SS1.p3.7.m7.1.2.3.cmml"><mi id="S7.SS1.p3.7.m7.1.2.3.2" xref="S7.SS1.p3.7.m7.1.2.3.2.cmml">N</mi><mi id="S7.SS1.p3.7.m7.1.2.3.3" xref="S7.SS1.p3.7.m7.1.2.3.3.cmml">e</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p3.7.m7.1b"><apply id="S7.SS1.p3.7.m7.1.2.cmml" xref="S7.SS1.p3.7.m7.1.2"><times id="S7.SS1.p3.7.m7.1.2.1.cmml" xref="S7.SS1.p3.7.m7.1.2.1"></times><apply id="S7.SS1.p3.7.m7.1.2.2.1.cmml" xref="S7.SS1.p3.7.m7.1.2.2.2"><abs id="S7.SS1.p3.7.m7.1.2.2.1.1.cmml" xref="S7.SS1.p3.7.m7.1.2.2.2.1"></abs><ci id="S7.SS1.p3.7.m7.1.1.cmml" xref="S7.SS1.p3.7.m7.1.1">ğ’±</ci></apply><apply id="S7.SS1.p3.7.m7.1.2.3.cmml" xref="S7.SS1.p3.7.m7.1.2.3"><csymbol cd="ambiguous" id="S7.SS1.p3.7.m7.1.2.3.1.cmml" xref="S7.SS1.p3.7.m7.1.2.3">subscript</csymbol><ci id="S7.SS1.p3.7.m7.1.2.3.2.cmml" xref="S7.SS1.p3.7.m7.1.2.3.2">ğ‘</ci><ci id="S7.SS1.p3.7.m7.1.2.3.3.cmml" xref="S7.SS1.p3.7.m7.1.2.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p3.7.m7.1c">\left|\mathcal{V}\right|\times N_{e}</annotation></semantics></math>. We note that other recurrent
neural models such as <em id="S7.SS1.p3.7.1" class="ltx_emph ltx_font_italic">gated recurrent
units</em>Â <cite class="ltx_cite ltx_citemacro_cite">Chung etÂ al. (<a href="#bib.bib10" title="" class="ltx_ref">2014</a>)</cite> can also be used instead of CIFG
LSTMs.</p>
</div>
<figure id="S7.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img src="/html/1910.03432/assets/sll_en_us.png" id="S7.F5.g1" class="ltx_graphics ltx_figure_panel ltx_img_landscape" width="289" height="195" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img src="/html/1910.03432/assets/sll_pt_br.png" id="S7.F5.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="289" height="195" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Sentence log likelihood excluding OOV token for en_US (left) and pt_BR (right).</figcaption>
</figure>
<div id="S7.SS1.p4" class="ltx_para">
<p id="S7.SS1.p4.1" class="ltx_p">The federated RNN LMs are trained on two language settings of
the virtual keyboard: American English (en_US) and Brazilian
Portuguese (pt_BR).
FollowingÂ <cite class="ltx_cite ltx_citemacro_citet">McMahan etÂ al. (<a href="#bib.bib22" title="" class="ltx_ref">2017</a>)</cite>, 500 reporting
clients are used to compute the gradient updates for each round. A
server-side learning rate of 1.0, a client-side learning rate of 0.5,
and Nesterov momentum of 0.9 are used. Both the word and word-piece models are
trained over the same time range and with the same hyperparameters.
Prior to federated training of the RNN LM, the word-piece
inventory is constructed
from the unigram distribution collected via the federated approach introduced in
SectionÂ <a href="#S3" title="3 Unigram distributions â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<div id="S7.SS1.p5" class="ltx_para">
<p id="S7.SS1.p5.6" class="ltx_p">A common evaluation metric for both word and word-piece models is
desirable during federated training. Such a metric can be used to
monitor the training status and select models to be used for the
<span id="S7.SS1.p5.6.1" class="ltx_text ltx_font_typewriter">CapSampleApprox</span>â€‰algorithm. Neither cross-entropy nor accuracy serves this
need due to the mismatch in vocabularies used. Word-level accuracy is
hard to compute for the word-piece model, since it requires hundreds
of inference calls to traverse all combinations of a word from the
word-piece vocabulary. In this study, we apply sentence log
likelihood (SLL) in the evaluation. Given a sentence <math id="S7.SS1.p5.1.m1.4" class="ltx_Math" alttext="\bar{x}^{m}=\{x_{1},x_{2},\ldots,x_{m}\}" display="inline"><semantics id="S7.SS1.p5.1.m1.4a"><mrow id="S7.SS1.p5.1.m1.4.4" xref="S7.SS1.p5.1.m1.4.4.cmml"><msup id="S7.SS1.p5.1.m1.4.4.5" xref="S7.SS1.p5.1.m1.4.4.5.cmml"><mover accent="true" id="S7.SS1.p5.1.m1.4.4.5.2" xref="S7.SS1.p5.1.m1.4.4.5.2.cmml"><mi id="S7.SS1.p5.1.m1.4.4.5.2.2" xref="S7.SS1.p5.1.m1.4.4.5.2.2.cmml">x</mi><mo id="S7.SS1.p5.1.m1.4.4.5.2.1" xref="S7.SS1.p5.1.m1.4.4.5.2.1.cmml">Â¯</mo></mover><mi id="S7.SS1.p5.1.m1.4.4.5.3" xref="S7.SS1.p5.1.m1.4.4.5.3.cmml">m</mi></msup><mo id="S7.SS1.p5.1.m1.4.4.4" xref="S7.SS1.p5.1.m1.4.4.4.cmml">=</mo><mrow id="S7.SS1.p5.1.m1.4.4.3.3" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml"><mo stretchy="false" id="S7.SS1.p5.1.m1.4.4.3.3.4" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml">{</mo><msub id="S7.SS1.p5.1.m1.2.2.1.1.1" xref="S7.SS1.p5.1.m1.2.2.1.1.1.cmml"><mi id="S7.SS1.p5.1.m1.2.2.1.1.1.2" xref="S7.SS1.p5.1.m1.2.2.1.1.1.2.cmml">x</mi><mn id="S7.SS1.p5.1.m1.2.2.1.1.1.3" xref="S7.SS1.p5.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S7.SS1.p5.1.m1.4.4.3.3.5" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml">,</mo><msub id="S7.SS1.p5.1.m1.3.3.2.2.2" xref="S7.SS1.p5.1.m1.3.3.2.2.2.cmml"><mi id="S7.SS1.p5.1.m1.3.3.2.2.2.2" xref="S7.SS1.p5.1.m1.3.3.2.2.2.2.cmml">x</mi><mn id="S7.SS1.p5.1.m1.3.3.2.2.2.3" xref="S7.SS1.p5.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S7.SS1.p5.1.m1.4.4.3.3.6" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S7.SS1.p5.1.m1.1.1" xref="S7.SS1.p5.1.m1.1.1.cmml">â€¦</mi><mo id="S7.SS1.p5.1.m1.4.4.3.3.7" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml">,</mo><msub id="S7.SS1.p5.1.m1.4.4.3.3.3" xref="S7.SS1.p5.1.m1.4.4.3.3.3.cmml"><mi id="S7.SS1.p5.1.m1.4.4.3.3.3.2" xref="S7.SS1.p5.1.m1.4.4.3.3.3.2.cmml">x</mi><mi id="S7.SS1.p5.1.m1.4.4.3.3.3.3" xref="S7.SS1.p5.1.m1.4.4.3.3.3.3.cmml">m</mi></msub><mo stretchy="false" id="S7.SS1.p5.1.m1.4.4.3.3.8" xref="S7.SS1.p5.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.1.m1.4b"><apply id="S7.SS1.p5.1.m1.4.4.cmml" xref="S7.SS1.p5.1.m1.4.4"><eq id="S7.SS1.p5.1.m1.4.4.4.cmml" xref="S7.SS1.p5.1.m1.4.4.4"></eq><apply id="S7.SS1.p5.1.m1.4.4.5.cmml" xref="S7.SS1.p5.1.m1.4.4.5"><csymbol cd="ambiguous" id="S7.SS1.p5.1.m1.4.4.5.1.cmml" xref="S7.SS1.p5.1.m1.4.4.5">superscript</csymbol><apply id="S7.SS1.p5.1.m1.4.4.5.2.cmml" xref="S7.SS1.p5.1.m1.4.4.5.2"><ci id="S7.SS1.p5.1.m1.4.4.5.2.1.cmml" xref="S7.SS1.p5.1.m1.4.4.5.2.1">Â¯</ci><ci id="S7.SS1.p5.1.m1.4.4.5.2.2.cmml" xref="S7.SS1.p5.1.m1.4.4.5.2.2">ğ‘¥</ci></apply><ci id="S7.SS1.p5.1.m1.4.4.5.3.cmml" xref="S7.SS1.p5.1.m1.4.4.5.3">ğ‘š</ci></apply><set id="S7.SS1.p5.1.m1.4.4.3.4.cmml" xref="S7.SS1.p5.1.m1.4.4.3.3"><apply id="S7.SS1.p5.1.m1.2.2.1.1.1.cmml" xref="S7.SS1.p5.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S7.SS1.p5.1.m1.2.2.1.1.1.1.cmml" xref="S7.SS1.p5.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S7.SS1.p5.1.m1.2.2.1.1.1.2.cmml" xref="S7.SS1.p5.1.m1.2.2.1.1.1.2">ğ‘¥</ci><cn type="integer" id="S7.SS1.p5.1.m1.2.2.1.1.1.3.cmml" xref="S7.SS1.p5.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S7.SS1.p5.1.m1.3.3.2.2.2.cmml" xref="S7.SS1.p5.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S7.SS1.p5.1.m1.3.3.2.2.2.1.cmml" xref="S7.SS1.p5.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S7.SS1.p5.1.m1.3.3.2.2.2.2.cmml" xref="S7.SS1.p5.1.m1.3.3.2.2.2.2">ğ‘¥</ci><cn type="integer" id="S7.SS1.p5.1.m1.3.3.2.2.2.3.cmml" xref="S7.SS1.p5.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S7.SS1.p5.1.m1.1.1.cmml" xref="S7.SS1.p5.1.m1.1.1">â€¦</ci><apply id="S7.SS1.p5.1.m1.4.4.3.3.3.cmml" xref="S7.SS1.p5.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S7.SS1.p5.1.m1.4.4.3.3.3.1.cmml" xref="S7.SS1.p5.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S7.SS1.p5.1.m1.4.4.3.3.3.2.cmml" xref="S7.SS1.p5.1.m1.4.4.3.3.3.2">ğ‘¥</ci><ci id="S7.SS1.p5.1.m1.4.4.3.3.3.3.cmml" xref="S7.SS1.p5.1.m1.4.4.3.3.3.3">ğ‘š</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.1.m1.4c">\bar{x}^{m}=\{x_{1},x_{2},\ldots,x_{m}\}</annotation></semantics></math> composed of <math id="S7.SS1.p5.2.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S7.SS1.p5.2.m2.1a"><mi id="S7.SS1.p5.2.m2.1.1" xref="S7.SS1.p5.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.2.m2.1b"><ci id="S7.SS1.p5.2.m2.1.1.cmml" xref="S7.SS1.p5.2.m2.1.1">ğ‘š</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.2.m2.1c">m</annotation></semantics></math> units (either words or
word-pieces), SLL is evaluated as
<math id="S7.SS1.p5.3.m3.2" class="ltx_Math" alttext="\sum_{i=1}^{m}\log(p_{nn}(x_{i}|\bar{x}^{i-1}))" display="inline"><semantics id="S7.SS1.p5.3.m3.2a"><mrow id="S7.SS1.p5.3.m3.2.2" xref="S7.SS1.p5.3.m3.2.2.cmml"><msubsup id="S7.SS1.p5.3.m3.2.2.2" xref="S7.SS1.p5.3.m3.2.2.2.cmml"><mo id="S7.SS1.p5.3.m3.2.2.2.2.2" xref="S7.SS1.p5.3.m3.2.2.2.2.2.cmml">âˆ‘</mo><mrow id="S7.SS1.p5.3.m3.2.2.2.2.3" xref="S7.SS1.p5.3.m3.2.2.2.2.3.cmml"><mi id="S7.SS1.p5.3.m3.2.2.2.2.3.2" xref="S7.SS1.p5.3.m3.2.2.2.2.3.2.cmml">i</mi><mo id="S7.SS1.p5.3.m3.2.2.2.2.3.1" xref="S7.SS1.p5.3.m3.2.2.2.2.3.1.cmml">=</mo><mn id="S7.SS1.p5.3.m3.2.2.2.2.3.3" xref="S7.SS1.p5.3.m3.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S7.SS1.p5.3.m3.2.2.2.3" xref="S7.SS1.p5.3.m3.2.2.2.3.cmml">m</mi></msubsup><mrow id="S7.SS1.p5.3.m3.2.2.1.1" xref="S7.SS1.p5.3.m3.2.2.1.2.cmml"><mi id="S7.SS1.p5.3.m3.1.1" xref="S7.SS1.p5.3.m3.1.1.cmml">log</mi><mo id="S7.SS1.p5.3.m3.2.2.1.1a" xref="S7.SS1.p5.3.m3.2.2.1.2.cmml">â¡</mo><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1" xref="S7.SS1.p5.3.m3.2.2.1.2.cmml"><mo stretchy="false" id="S7.SS1.p5.3.m3.2.2.1.1.1.2" xref="S7.SS1.p5.3.m3.2.2.1.2.cmml">(</mo><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.cmml"><msub id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.cmml"><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.2.cmml">p</mi><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.cmml"><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.1.cmml">â€‹</mo><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.3.cmml">n</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.2.cmml">â€‹</mo><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.cmml"><msub id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.cmml"><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.2.cmml">x</mi><mo id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.1.cmml">Â¯</mo></mover><mrow id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.cmml"><mi id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.2" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.1" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.1.cmml">âˆ’</mo><mn id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo stretchy="false" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.3" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S7.SS1.p5.3.m3.2.2.1.1.1.3" xref="S7.SS1.p5.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.3.m3.2b"><apply id="S7.SS1.p5.3.m3.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2"><apply id="S7.SS1.p5.3.m3.2.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2.2"><csymbol cd="ambiguous" id="S7.SS1.p5.3.m3.2.2.2.1.cmml" xref="S7.SS1.p5.3.m3.2.2.2">superscript</csymbol><apply id="S7.SS1.p5.3.m3.2.2.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2.2"><csymbol cd="ambiguous" id="S7.SS1.p5.3.m3.2.2.2.2.1.cmml" xref="S7.SS1.p5.3.m3.2.2.2">subscript</csymbol><sum id="S7.SS1.p5.3.m3.2.2.2.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2.2.2.2"></sum><apply id="S7.SS1.p5.3.m3.2.2.2.2.3.cmml" xref="S7.SS1.p5.3.m3.2.2.2.2.3"><eq id="S7.SS1.p5.3.m3.2.2.2.2.3.1.cmml" xref="S7.SS1.p5.3.m3.2.2.2.2.3.1"></eq><ci id="S7.SS1.p5.3.m3.2.2.2.2.3.2.cmml" xref="S7.SS1.p5.3.m3.2.2.2.2.3.2">ğ‘–</ci><cn type="integer" id="S7.SS1.p5.3.m3.2.2.2.2.3.3.cmml" xref="S7.SS1.p5.3.m3.2.2.2.2.3.3">1</cn></apply></apply><ci id="S7.SS1.p5.3.m3.2.2.2.3.cmml" xref="S7.SS1.p5.3.m3.2.2.2.3">ğ‘š</ci></apply><apply id="S7.SS1.p5.3.m3.2.2.1.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1"><log id="S7.SS1.p5.3.m3.1.1.cmml" xref="S7.SS1.p5.3.m3.1.1"></log><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1"><times id="S7.SS1.p5.3.m3.2.2.1.1.1.1.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.2"></times><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3">subscript</csymbol><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.2">ğ‘</ci><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3"><times id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.1"></times><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.2">ğ‘›</ci><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.3.3.3">ğ‘›</ci></apply></apply><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.2">ğ‘¥</ci><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.2.3">ğ‘–</ci></apply><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2"><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.1">Â¯</ci><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.2.2">ğ‘¥</ci></apply><apply id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3"><minus id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.1.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.2.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.2">ğ‘–</ci><cn type="integer" id="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.3.cmml" xref="S7.SS1.p5.3.m3.2.2.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.3.m3.2c">\sum_{i=1}^{m}\log(p_{nn}(x_{i}|\bar{x}^{i-1}))</annotation></semantics></math>. One issue that arises
is the handling of out-of-vocabulary (OOV) words. The OOV probability
of the word model is about <math id="S7.SS1.p5.4.m4.1" class="ltx_Math" alttext="8\%" display="inline"><semantics id="S7.SS1.p5.4.m4.1a"><mrow id="S7.SS1.p5.4.m4.1.1" xref="S7.SS1.p5.4.m4.1.1.cmml"><mn id="S7.SS1.p5.4.m4.1.1.2" xref="S7.SS1.p5.4.m4.1.1.2.cmml">8</mn><mo id="S7.SS1.p5.4.m4.1.1.1" xref="S7.SS1.p5.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.4.m4.1b"><apply id="S7.SS1.p5.4.m4.1.1.cmml" xref="S7.SS1.p5.4.m4.1.1"><csymbol cd="latexml" id="S7.SS1.p5.4.m4.1.1.1.cmml" xref="S7.SS1.p5.4.m4.1.1.1">percent</csymbol><cn type="integer" id="S7.SS1.p5.4.m4.1.1.2.cmml" xref="S7.SS1.p5.4.m4.1.1.2">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.4.m4.1c">8\%</annotation></semantics></math>. The comparable probability of an OOV
word (according to <math id="S7.SS1.p5.5.m5.1" class="ltx_Math" alttext="\mathcal{V}" display="inline"><semantics id="S7.SS1.p5.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S7.SS1.p5.5.m5.1.1" xref="S7.SS1.p5.5.m5.1.1.cmml">ğ’±</mi><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.5.m5.1b"><ci id="S7.SS1.p5.5.m5.1.1.cmml" xref="S7.SS1.p5.5.m5.1.1">ğ’±</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.5.m5.1c">\mathcal{V}</annotation></semantics></math>) for word-piece models is the product
of the corresponding word-piece conditional probabilities, which is
much smaller than <math id="S7.SS1.p5.6.m6.1" class="ltx_Math" alttext="8\%" display="inline"><semantics id="S7.SS1.p5.6.m6.1a"><mrow id="S7.SS1.p5.6.m6.1.1" xref="S7.SS1.p5.6.m6.1.1.cmml"><mn id="S7.SS1.p5.6.m6.1.1.2" xref="S7.SS1.p5.6.m6.1.1.2.cmml">8</mn><mo id="S7.SS1.p5.6.m6.1.1.1" xref="S7.SS1.p5.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.6.m6.1b"><apply id="S7.SS1.p5.6.m6.1.1.cmml" xref="S7.SS1.p5.6.m6.1.1"><csymbol cd="latexml" id="S7.SS1.p5.6.m6.1.1.1.cmml" xref="S7.SS1.p5.6.m6.1.1.1">percent</csymbol><cn type="integer" id="S7.SS1.p5.6.m6.1.1.2.cmml" xref="S7.SS1.p5.6.m6.1.1.2">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.6.m6.1c">8\%</annotation></semantics></math>. To mitigate this issue, we define SLL
excluding OOV as:</p>
<table id="S7.Ex15" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S7.Ex15.m1.2" class="ltx_Math" alttext="\text{SLL}^{e}=\sum^{m}_{i:x_{i}\neq\text{OOV}}\log(p_{nn}(x_{i}|\bar{x}^{i-1}))," display="block"><semantics id="S7.Ex15.m1.2a"><mrow id="S7.Ex15.m1.2.2.1" xref="S7.Ex15.m1.2.2.1.1.cmml"><mrow id="S7.Ex15.m1.2.2.1.1" xref="S7.Ex15.m1.2.2.1.1.cmml"><msup id="S7.Ex15.m1.2.2.1.1.3" xref="S7.Ex15.m1.2.2.1.1.3.cmml"><mtext id="S7.Ex15.m1.2.2.1.1.3.2" xref="S7.Ex15.m1.2.2.1.1.3.2a.cmml">SLL</mtext><mi id="S7.Ex15.m1.2.2.1.1.3.3" xref="S7.Ex15.m1.2.2.1.1.3.3.cmml">e</mi></msup><mo rspace="0.111em" id="S7.Ex15.m1.2.2.1.1.2" xref="S7.Ex15.m1.2.2.1.1.2.cmml">=</mo><mrow id="S7.Ex15.m1.2.2.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.cmml"><munderover id="S7.Ex15.m1.2.2.1.1.1.2" xref="S7.Ex15.m1.2.2.1.1.1.2.cmml"><mo movablelimits="false" id="S7.Ex15.m1.2.2.1.1.1.2.2.2" xref="S7.Ex15.m1.2.2.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.2.3" xref="S7.Ex15.m1.2.2.1.1.1.2.3.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.2.3.2" xref="S7.Ex15.m1.2.2.1.1.1.2.3.2.cmml">i</mi><mo lspace="0.278em" rspace="0.278em" id="S7.Ex15.m1.2.2.1.1.1.2.3.1" xref="S7.Ex15.m1.2.2.1.1.1.2.3.1.cmml">:</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.2.3.3" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.cmml"><msub id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.2" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.2.cmml">x</mi><mi id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.3" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.3.cmml">i</mi></msub><mo id="S7.Ex15.m1.2.2.1.1.1.2.3.3.1" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.1.cmml">â‰ </mo><mtext id="S7.Ex15.m1.2.2.1.1.1.2.3.3.3" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.3a.cmml">OOV</mtext></mrow></mrow><mi id="S7.Ex15.m1.2.2.1.1.1.2.2.3" xref="S7.Ex15.m1.2.2.1.1.1.2.2.3.cmml">m</mi></munderover><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.2.cmml"><mi id="S7.Ex15.m1.1.1" xref="S7.Ex15.m1.1.1.cmml">log</mi><mo id="S7.Ex15.m1.2.2.1.1.1.1.1a" xref="S7.Ex15.m1.2.2.1.1.1.1.2.cmml">â¡</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.2" xref="S7.Ex15.m1.2.2.1.1.1.1.2.cmml">(</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.cmml"><msub id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">p</mi><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.1.cmml">â€‹</mo><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.3.cmml">n</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.2.cmml">â€‹</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo fence="false" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">x</mi><mo id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml">Â¯</mo></mover><mrow id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">âˆ’</mo><mn id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo stretchy="false" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.3" xref="S7.Ex15.m1.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S7.Ex15.m1.2.2.1.2" xref="S7.Ex15.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.Ex15.m1.2b"><apply id="S7.Ex15.m1.2.2.1.1.cmml" xref="S7.Ex15.m1.2.2.1"><eq id="S7.Ex15.m1.2.2.1.1.2.cmml" xref="S7.Ex15.m1.2.2.1.1.2"></eq><apply id="S7.Ex15.m1.2.2.1.1.3.cmml" xref="S7.Ex15.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.3">superscript</csymbol><ci id="S7.Ex15.m1.2.2.1.1.3.2a.cmml" xref="S7.Ex15.m1.2.2.1.1.3.2"><mtext id="S7.Ex15.m1.2.2.1.1.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.3.2">SLL</mtext></ci><ci id="S7.Ex15.m1.2.2.1.1.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.3.3">ğ‘’</ci></apply><apply id="S7.Ex15.m1.2.2.1.1.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1"><apply id="S7.Ex15.m1.2.2.1.1.1.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.2.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2">subscript</csymbol><apply id="S7.Ex15.m1.2.2.1.1.1.2.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.2.2.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2">superscript</csymbol><sum id="S7.Ex15.m1.2.2.1.1.1.2.2.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.2.2"></sum><ci id="S7.Ex15.m1.2.2.1.1.1.2.2.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.2.3">ğ‘š</ci></apply><apply id="S7.Ex15.m1.2.2.1.1.1.2.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3"><ci id="S7.Ex15.m1.2.2.1.1.1.2.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.1">:</ci><ci id="S7.Ex15.m1.2.2.1.1.1.2.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.2">ğ‘–</ci><apply id="S7.Ex15.m1.2.2.1.1.1.2.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3"><neq id="S7.Ex15.m1.2.2.1.1.1.2.3.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.1"></neq><apply id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2">subscript</csymbol><ci id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.2">ğ‘¥</ci><ci id="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.2.3">ğ‘–</ci></apply><ci id="S7.Ex15.m1.2.2.1.1.1.2.3.3.3a.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.3"><mtext mathsize="70%" id="S7.Ex15.m1.2.2.1.1.1.2.3.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.2.3.3.3">OOV</mtext></ci></apply></apply></apply><apply id="S7.Ex15.m1.2.2.1.1.1.1.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1"><log id="S7.Ex15.m1.1.1.cmml" xref="S7.Ex15.m1.1.1"></log><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1"><times id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.2"></times><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.2">ğ‘</ci><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3"><times id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.1"></times><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.2">ğ‘›</ci><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.3.3.3">ğ‘›</ci></apply></apply><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘¥</ci><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘–</ci></apply><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2"><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.1">Â¯</ci><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.2.2">ğ‘¥</ci></apply><apply id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3"><minus id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.2">ğ‘–</ci><cn type="integer" id="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S7.Ex15.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.Ex15.m1.2c">\text{SLL}^{e}=\sum^{m}_{i:x_{i}\neq\text{OOV}}\log(p_{nn}(x_{i}|\bar{x}^{i-1})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S7.SS1.p5.7" class="ltx_p">where the OOV in the equation includes word-pieces that are components
of OOV words. In the following, <math id="S7.SS1.p5.7.m1.1" class="ltx_Math" alttext="\text{SLL}^{e}" display="inline"><semantics id="S7.SS1.p5.7.m1.1a"><msup id="S7.SS1.p5.7.m1.1.1" xref="S7.SS1.p5.7.m1.1.1.cmml"><mtext id="S7.SS1.p5.7.m1.1.1.2" xref="S7.SS1.p5.7.m1.1.1.2a.cmml">SLL</mtext><mi id="S7.SS1.p5.7.m1.1.1.3" xref="S7.SS1.p5.7.m1.1.1.3.cmml">e</mi></msup><annotation-xml encoding="MathML-Content" id="S7.SS1.p5.7.m1.1b"><apply id="S7.SS1.p5.7.m1.1.1.cmml" xref="S7.SS1.p5.7.m1.1.1"><csymbol cd="ambiguous" id="S7.SS1.p5.7.m1.1.1.1.cmml" xref="S7.SS1.p5.7.m1.1.1">superscript</csymbol><ci id="S7.SS1.p5.7.m1.1.1.2a.cmml" xref="S7.SS1.p5.7.m1.1.1.2"><mtext id="S7.SS1.p5.7.m1.1.1.2.cmml" xref="S7.SS1.p5.7.m1.1.1.2">SLL</mtext></ci><ci id="S7.SS1.p5.7.m1.1.1.3.cmml" xref="S7.SS1.p5.7.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS1.p5.7.m1.1c">\text{SLL}^{e}</annotation></semantics></math> is used as model
selection metric.</p>
</div>
</section>
<section id="S7.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.2 </span>Approximated n-gram model</h3>

<div id="S7.SS2.p1" class="ltx_para">
<p id="S7.SS2.p1.7" class="ltx_p">AlgorithmÂ <a href="#alg1" title="Algorithm 1 â€£ 6 Morphologically rich languages â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> illustrates the workflow we use to
generate different n-gram models for evaluation. Recall that <span id="S7.SS2.p1.7.1" class="ltx_text ltx_font_typewriter">CapSampleApprox</span>â€‰takes a RNN LM, an n-gram topology, and a reweighting FST for
capitalization normalization. The n-gram topology is empty under
self-inference mode. <cite class="ltx_cite ltx_citemacro_citet">Suresh etÂ al. (<a href="#bib.bib30" title="" class="ltx_ref">2019a</a>)</cite> showed that
inferring topology from the RNN LM does not perform as well as
using the true n-gram topology obtained from the training corpus. Hence, we
supplement the neural-inferred topology with the topology
obtained by a large external large corpus denoted by <math id="S7.SS2.p1.1.m1.1" class="ltx_Math" alttext="A_{W}" display="inline"><semantics id="S7.SS2.p1.1.m1.1a"><msub id="S7.SS2.p1.1.m1.1.1" xref="S7.SS2.p1.1.m1.1.1.cmml"><mi id="S7.SS2.p1.1.m1.1.1.2" xref="S7.SS2.p1.1.m1.1.1.2.cmml">A</mi><mi id="S7.SS2.p1.1.m1.1.1.3" xref="S7.SS2.p1.1.m1.1.1.3.cmml">W</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.1.m1.1b"><apply id="S7.SS2.p1.1.m1.1.1.cmml" xref="S7.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S7.SS2.p1.1.m1.1.1.1.cmml" xref="S7.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S7.SS2.p1.1.m1.1.1.2.cmml" xref="S7.SS2.p1.1.m1.1.1.2">ğ´</ci><ci id="S7.SS2.p1.1.m1.1.1.3.cmml" xref="S7.SS2.p1.1.m1.1.1.3">ğ‘Š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.1.m1.1c">A_{W}</annotation></semantics></math>.
We use
<span id="S7.SS2.p1.7.2" class="ltx_text ltx_font_typewriter">CapSampleApprox</span>â€‰on four topologies and compare the resulting models: an n-gram model
obtained from an external corpusâ€™s topology <math id="S7.SS2.p1.2.m2.1" class="ltx_Math" alttext="A_{e}" display="inline"><semantics id="S7.SS2.p1.2.m2.1a"><msub id="S7.SS2.p1.2.m2.1.1" xref="S7.SS2.p1.2.m2.1.1.cmml"><mi id="S7.SS2.p1.2.m2.1.1.2" xref="S7.SS2.p1.2.m2.1.1.2.cmml">A</mi><mi id="S7.SS2.p1.2.m2.1.1.3" xref="S7.SS2.p1.2.m2.1.1.3.cmml">e</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.2.m2.1b"><apply id="S7.SS2.p1.2.m2.1.1.cmml" xref="S7.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S7.SS2.p1.2.m2.1.1.1.cmml" xref="S7.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S7.SS2.p1.2.m2.1.1.2.cmml" xref="S7.SS2.p1.2.m2.1.1.2">ğ´</ci><ci id="S7.SS2.p1.2.m2.1.1.3.cmml" xref="S7.SS2.p1.2.m2.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.2.m2.1c">A_{e}</annotation></semantics></math>, an n-gram model obtained
from a neural inferred topology <math id="S7.SS2.p1.3.m3.1" class="ltx_Math" alttext="A_{i}" display="inline"><semantics id="S7.SS2.p1.3.m3.1a"><msub id="S7.SS2.p1.3.m3.1.1" xref="S7.SS2.p1.3.m3.1.1.cmml"><mi id="S7.SS2.p1.3.m3.1.1.2" xref="S7.SS2.p1.3.m3.1.1.2.cmml">A</mi><mi id="S7.SS2.p1.3.m3.1.1.3" xref="S7.SS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.3.m3.1b"><apply id="S7.SS2.p1.3.m3.1.1.cmml" xref="S7.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S7.SS2.p1.3.m3.1.1.1.cmml" xref="S7.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S7.SS2.p1.3.m3.1.1.2.cmml" xref="S7.SS2.p1.3.m3.1.1.2">ğ´</ci><ci id="S7.SS2.p1.3.m3.1.1.3.cmml" xref="S7.SS2.p1.3.m3.1.1.3">ğ‘–</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.3.m3.1c">A_{i}</annotation></semantics></math>, an n-gram model obtained by
interpolating (merging) the two models above <math id="S7.SS2.p1.4.m4.1" class="ltx_Math" alttext="A_{m}" display="inline"><semantics id="S7.SS2.p1.4.m4.1a"><msub id="S7.SS2.p1.4.m4.1.1" xref="S7.SS2.p1.4.m4.1.1.cmml"><mi id="S7.SS2.p1.4.m4.1.1.2" xref="S7.SS2.p1.4.m4.1.1.2.cmml">A</mi><mi id="S7.SS2.p1.4.m4.1.1.3" xref="S7.SS2.p1.4.m4.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.4.m4.1b"><apply id="S7.SS2.p1.4.m4.1.1.cmml" xref="S7.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S7.SS2.p1.4.m4.1.1.1.cmml" xref="S7.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S7.SS2.p1.4.m4.1.1.2.cmml" xref="S7.SS2.p1.4.m4.1.1.2">ğ´</ci><ci id="S7.SS2.p1.4.m4.1.1.3.cmml" xref="S7.SS2.p1.4.m4.1.1.3">ğ‘š</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.4.m4.1c">A_{m}</annotation></semantics></math>, and an n-gram model obtained
by approximating on the interpolated topology <math id="S7.SS2.p1.5.m5.1" class="ltx_Math" alttext="A_{r}" display="inline"><semantics id="S7.SS2.p1.5.m5.1a"><msub id="S7.SS2.p1.5.m5.1.1" xref="S7.SS2.p1.5.m5.1.1.cmml"><mi id="S7.SS2.p1.5.m5.1.1.2" xref="S7.SS2.p1.5.m5.1.1.2.cmml">A</mi><mi id="S7.SS2.p1.5.m5.1.1.3" xref="S7.SS2.p1.5.m5.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.5.m5.1b"><apply id="S7.SS2.p1.5.m5.1.1.cmml" xref="S7.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S7.SS2.p1.5.m5.1.1.1.cmml" xref="S7.SS2.p1.5.m5.1.1">subscript</csymbol><ci id="S7.SS2.p1.5.m5.1.1.2.cmml" xref="S7.SS2.p1.5.m5.1.1.2">ğ´</ci><ci id="S7.SS2.p1.5.m5.1.1.3.cmml" xref="S7.SS2.p1.5.m5.1.1.3">ğ‘Ÿ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.5.m5.1c">A_{r}</annotation></semantics></math>. We repeat this
experiment for both word and word-piece RNN LMs and use subscripts <math id="S7.SS2.p1.6.m6.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S7.SS2.p1.6.m6.1a"><mi id="S7.SS2.p1.6.m6.1.1" xref="S7.SS2.p1.6.m6.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.6.m6.1b"><ci id="S7.SS2.p1.6.m6.1.1.cmml" xref="S7.SS2.p1.6.m6.1.1">ğ‘Š</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.6.m6.1c">W</annotation></semantics></math>
and <math id="S7.SS2.p1.7.m7.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S7.SS2.p1.7.m7.1a"><mi id="S7.SS2.p1.7.m7.1.1" xref="S7.SS2.p1.7.m7.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S7.SS2.p1.7.m7.1b"><ci id="S7.SS2.p1.7.m7.1.1.cmml" xref="S7.SS2.p1.7.m7.1.1">ğ‘ƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S7.SS2.p1.7.m7.1c">P</annotation></semantics></math>, respectively.
We evaluate all eight produced n-gram models directly on the
traffic of a production virtual keyboard, where prediction accuracy is
evaluated over user-typed words.</p>
</div>
</section>
<section id="S7.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">7.3 </span>Results</h3>

<figure id="S7.T3" class="ltx_table">
<table id="S7.T3.14" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S7.T3.14.15.1" class="ltx_tr">
<th id="S7.T3.14.15.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r">Model</th>
<th id="S7.T3.14.15.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r">en_US</th>
<th id="S7.T3.14.15.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column">pt_BR</th>
</tr>
<tr id="S7.T3.2.2" class="ltx_tr">
<th id="S7.T3.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Baseline</th>
<th id="S7.T3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><math id="S7.T3.1.1.1.m1.1" class="ltx_Math" alttext="10.03\%" display="inline"><semantics id="S7.T3.1.1.1.m1.1a"><mrow id="S7.T3.1.1.1.m1.1.1" xref="S7.T3.1.1.1.m1.1.1.cmml"><mn id="S7.T3.1.1.1.m1.1.1.2" xref="S7.T3.1.1.1.m1.1.1.2.cmml">10.03</mn><mo id="S7.T3.1.1.1.m1.1.1.1" xref="S7.T3.1.1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.1.1.1.m1.1b"><apply id="S7.T3.1.1.1.m1.1.1.cmml" xref="S7.T3.1.1.1.m1.1.1"><csymbol cd="latexml" id="S7.T3.1.1.1.m1.1.1.1.cmml" xref="S7.T3.1.1.1.m1.1.1.1">percent</csymbol><cn type="float" id="S7.T3.1.1.1.m1.1.1.2.cmml" xref="S7.T3.1.1.1.m1.1.1.2">10.03</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.1.1.1.m1.1c">10.03\%</annotation></semantics></math></th>
<th id="S7.T3.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><math id="S7.T3.2.2.2.m1.1" class="ltx_Math" alttext="8.55\%" display="inline"><semantics id="S7.T3.2.2.2.m1.1a"><mrow id="S7.T3.2.2.2.m1.1.1" xref="S7.T3.2.2.2.m1.1.1.cmml"><mn id="S7.T3.2.2.2.m1.1.1.2" xref="S7.T3.2.2.2.m1.1.1.2.cmml">8.55</mn><mo id="S7.T3.2.2.2.m1.1.1.1" xref="S7.T3.2.2.2.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.2.2.2.m1.1b"><apply id="S7.T3.2.2.2.m1.1.1.cmml" xref="S7.T3.2.2.2.m1.1.1"><csymbol cd="latexml" id="S7.T3.2.2.2.m1.1.1.1.cmml" xref="S7.T3.2.2.2.m1.1.1.1">percent</csymbol><cn type="float" id="S7.T3.2.2.2.m1.1.1.2.cmml" xref="S7.T3.2.2.2.m1.1.1.2">8.55</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.2.2.2.m1.1c">8.55\%</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S7.T3.5.5" class="ltx_tr">
<th id="S7.T3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><math id="S7.T3.3.3.1.m1.1" class="ltx_Math" alttext="A_{W_{e}}" display="inline"><semantics id="S7.T3.3.3.1.m1.1a"><msub id="S7.T3.3.3.1.m1.1.1" xref="S7.T3.3.3.1.m1.1.1.cmml"><mi id="S7.T3.3.3.1.m1.1.1.2" xref="S7.T3.3.3.1.m1.1.1.2.cmml">A</mi><msub id="S7.T3.3.3.1.m1.1.1.3" xref="S7.T3.3.3.1.m1.1.1.3.cmml"><mi id="S7.T3.3.3.1.m1.1.1.3.2" xref="S7.T3.3.3.1.m1.1.1.3.2.cmml">W</mi><mi id="S7.T3.3.3.1.m1.1.1.3.3" xref="S7.T3.3.3.1.m1.1.1.3.3.cmml">e</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T3.3.3.1.m1.1b"><apply id="S7.T3.3.3.1.m1.1.1.cmml" xref="S7.T3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T3.3.3.1.m1.1.1.1.cmml" xref="S7.T3.3.3.1.m1.1.1">subscript</csymbol><ci id="S7.T3.3.3.1.m1.1.1.2.cmml" xref="S7.T3.3.3.1.m1.1.1.2">ğ´</ci><apply id="S7.T3.3.3.1.m1.1.1.3.cmml" xref="S7.T3.3.3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T3.3.3.1.m1.1.1.3.1.cmml" xref="S7.T3.3.3.1.m1.1.1.3">subscript</csymbol><ci id="S7.T3.3.3.1.m1.1.1.3.2.cmml" xref="S7.T3.3.3.1.m1.1.1.3.2">ğ‘Š</ci><ci id="S7.T3.3.3.1.m1.1.1.3.3.cmml" xref="S7.T3.3.3.1.m1.1.1.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.3.3.1.m1.1c">A_{W_{e}}</annotation></semantics></math></th>
<td id="S7.T3.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><math id="S7.T3.4.4.2.m1.1" class="ltx_Math" alttext="{10.52\pm 0.03\%}" display="inline"><semantics id="S7.T3.4.4.2.m1.1a"><mrow id="S7.T3.4.4.2.m1.1.1" xref="S7.T3.4.4.2.m1.1.1.cmml"><mn id="S7.T3.4.4.2.m1.1.1.2" xref="S7.T3.4.4.2.m1.1.1.2.cmml">10.52</mn><mo id="S7.T3.4.4.2.m1.1.1.1" xref="S7.T3.4.4.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.4.4.2.m1.1.1.3" xref="S7.T3.4.4.2.m1.1.1.3.cmml"><mn id="S7.T3.4.4.2.m1.1.1.3.2" xref="S7.T3.4.4.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T3.4.4.2.m1.1.1.3.1" xref="S7.T3.4.4.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.4.4.2.m1.1b"><apply id="S7.T3.4.4.2.m1.1.1.cmml" xref="S7.T3.4.4.2.m1.1.1"><csymbol cd="latexml" id="S7.T3.4.4.2.m1.1.1.1.cmml" xref="S7.T3.4.4.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.4.4.2.m1.1.1.2.cmml" xref="S7.T3.4.4.2.m1.1.1.2">10.52</cn><apply id="S7.T3.4.4.2.m1.1.1.3.cmml" xref="S7.T3.4.4.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.4.4.2.m1.1.1.3.1.cmml" xref="S7.T3.4.4.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.4.4.2.m1.1.1.3.2.cmml" xref="S7.T3.4.4.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.4.4.2.m1.1c">{10.52\pm 0.03\%}</annotation></semantics></math></td>
<td id="S7.T3.5.5.3" class="ltx_td ltx_align_center ltx_border_t"><math id="S7.T3.5.5.3.m1.1" class="ltx_Math" alttext="9.66\pm 0.02\%" display="inline"><semantics id="S7.T3.5.5.3.m1.1a"><mrow id="S7.T3.5.5.3.m1.1.1" xref="S7.T3.5.5.3.m1.1.1.cmml"><mn id="S7.T3.5.5.3.m1.1.1.2" xref="S7.T3.5.5.3.m1.1.1.2.cmml">9.66</mn><mo id="S7.T3.5.5.3.m1.1.1.1" xref="S7.T3.5.5.3.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.5.5.3.m1.1.1.3" xref="S7.T3.5.5.3.m1.1.1.3.cmml"><mn id="S7.T3.5.5.3.m1.1.1.3.2" xref="S7.T3.5.5.3.m1.1.1.3.2.cmml">0.02</mn><mo id="S7.T3.5.5.3.m1.1.1.3.1" xref="S7.T3.5.5.3.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.5.5.3.m1.1b"><apply id="S7.T3.5.5.3.m1.1.1.cmml" xref="S7.T3.5.5.3.m1.1.1"><csymbol cd="latexml" id="S7.T3.5.5.3.m1.1.1.1.cmml" xref="S7.T3.5.5.3.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.5.5.3.m1.1.1.2.cmml" xref="S7.T3.5.5.3.m1.1.1.2">9.66</cn><apply id="S7.T3.5.5.3.m1.1.1.3.cmml" xref="S7.T3.5.5.3.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.5.5.3.m1.1.1.3.1.cmml" xref="S7.T3.5.5.3.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.5.5.3.m1.1.1.3.2.cmml" xref="S7.T3.5.5.3.m1.1.1.3.2">0.02</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.5.5.3.m1.1c">9.66\pm 0.02\%</annotation></semantics></math></td>
</tr>
<tr id="S7.T3.8.8" class="ltx_tr">
<th id="S7.T3.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T3.6.6.1.m1.1" class="ltx_Math" alttext="A_{W_{i}}" display="inline"><semantics id="S7.T3.6.6.1.m1.1a"><msub id="S7.T3.6.6.1.m1.1.1" xref="S7.T3.6.6.1.m1.1.1.cmml"><mi id="S7.T3.6.6.1.m1.1.1.2" xref="S7.T3.6.6.1.m1.1.1.2.cmml">A</mi><msub id="S7.T3.6.6.1.m1.1.1.3" xref="S7.T3.6.6.1.m1.1.1.3.cmml"><mi id="S7.T3.6.6.1.m1.1.1.3.2" xref="S7.T3.6.6.1.m1.1.1.3.2.cmml">W</mi><mi id="S7.T3.6.6.1.m1.1.1.3.3" xref="S7.T3.6.6.1.m1.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T3.6.6.1.m1.1b"><apply id="S7.T3.6.6.1.m1.1.1.cmml" xref="S7.T3.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T3.6.6.1.m1.1.1.1.cmml" xref="S7.T3.6.6.1.m1.1.1">subscript</csymbol><ci id="S7.T3.6.6.1.m1.1.1.2.cmml" xref="S7.T3.6.6.1.m1.1.1.2">ğ´</ci><apply id="S7.T3.6.6.1.m1.1.1.3.cmml" xref="S7.T3.6.6.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T3.6.6.1.m1.1.1.3.1.cmml" xref="S7.T3.6.6.1.m1.1.1.3">subscript</csymbol><ci id="S7.T3.6.6.1.m1.1.1.3.2.cmml" xref="S7.T3.6.6.1.m1.1.1.3.2">ğ‘Š</ci><ci id="S7.T3.6.6.1.m1.1.1.3.3.cmml" xref="S7.T3.6.6.1.m1.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.6.6.1.m1.1c">A_{W_{i}}</annotation></semantics></math></th>
<td id="S7.T3.7.7.2" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T3.7.7.2.m1.1" class="ltx_Math" alttext="10.47\pm 0.02\%" display="inline"><semantics id="S7.T3.7.7.2.m1.1a"><mrow id="S7.T3.7.7.2.m1.1.1" xref="S7.T3.7.7.2.m1.1.1.cmml"><mn id="S7.T3.7.7.2.m1.1.1.2" xref="S7.T3.7.7.2.m1.1.1.2.cmml">10.47</mn><mo id="S7.T3.7.7.2.m1.1.1.1" xref="S7.T3.7.7.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.7.7.2.m1.1.1.3" xref="S7.T3.7.7.2.m1.1.1.3.cmml"><mn id="S7.T3.7.7.2.m1.1.1.3.2" xref="S7.T3.7.7.2.m1.1.1.3.2.cmml">0.02</mn><mo id="S7.T3.7.7.2.m1.1.1.3.1" xref="S7.T3.7.7.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.7.7.2.m1.1b"><apply id="S7.T3.7.7.2.m1.1.1.cmml" xref="S7.T3.7.7.2.m1.1.1"><csymbol cd="latexml" id="S7.T3.7.7.2.m1.1.1.1.cmml" xref="S7.T3.7.7.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.7.7.2.m1.1.1.2.cmml" xref="S7.T3.7.7.2.m1.1.1.2">10.47</cn><apply id="S7.T3.7.7.2.m1.1.1.3.cmml" xref="S7.T3.7.7.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.7.7.2.m1.1.1.3.1.cmml" xref="S7.T3.7.7.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.7.7.2.m1.1.1.3.2.cmml" xref="S7.T3.7.7.2.m1.1.1.3.2">0.02</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.7.7.2.m1.1c">10.47\pm 0.02\%</annotation></semantics></math></td>
<td id="S7.T3.8.8.3" class="ltx_td ltx_align_center"><math id="S7.T3.8.8.3.m1.1" class="ltx_Math" alttext="9.67\pm 0.02\%" display="inline"><semantics id="S7.T3.8.8.3.m1.1a"><mrow id="S7.T3.8.8.3.m1.1.1" xref="S7.T3.8.8.3.m1.1.1.cmml"><mn id="S7.T3.8.8.3.m1.1.1.2" xref="S7.T3.8.8.3.m1.1.1.2.cmml">9.67</mn><mo id="S7.T3.8.8.3.m1.1.1.1" xref="S7.T3.8.8.3.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.8.8.3.m1.1.1.3" xref="S7.T3.8.8.3.m1.1.1.3.cmml"><mn id="S7.T3.8.8.3.m1.1.1.3.2" xref="S7.T3.8.8.3.m1.1.1.3.2.cmml">0.02</mn><mo id="S7.T3.8.8.3.m1.1.1.3.1" xref="S7.T3.8.8.3.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.8.8.3.m1.1b"><apply id="S7.T3.8.8.3.m1.1.1.cmml" xref="S7.T3.8.8.3.m1.1.1"><csymbol cd="latexml" id="S7.T3.8.8.3.m1.1.1.1.cmml" xref="S7.T3.8.8.3.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.8.8.3.m1.1.1.2.cmml" xref="S7.T3.8.8.3.m1.1.1.2">9.67</cn><apply id="S7.T3.8.8.3.m1.1.1.3.cmml" xref="S7.T3.8.8.3.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.8.8.3.m1.1.1.3.1.cmml" xref="S7.T3.8.8.3.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.8.8.3.m1.1.1.3.2.cmml" xref="S7.T3.8.8.3.m1.1.1.3.2">0.02</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.8.8.3.m1.1c">9.67\pm 0.02\%</annotation></semantics></math></td>
</tr>
<tr id="S7.T3.11.11" class="ltx_tr">
<th id="S7.T3.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T3.9.9.1.m1.1" class="ltx_Math" alttext="A_{W_{m}}" display="inline"><semantics id="S7.T3.9.9.1.m1.1a"><msub id="S7.T3.9.9.1.m1.1.1" xref="S7.T3.9.9.1.m1.1.1.cmml"><mi id="S7.T3.9.9.1.m1.1.1.2" xref="S7.T3.9.9.1.m1.1.1.2.cmml">A</mi><msub id="S7.T3.9.9.1.m1.1.1.3" xref="S7.T3.9.9.1.m1.1.1.3.cmml"><mi id="S7.T3.9.9.1.m1.1.1.3.2" xref="S7.T3.9.9.1.m1.1.1.3.2.cmml">W</mi><mi id="S7.T3.9.9.1.m1.1.1.3.3" xref="S7.T3.9.9.1.m1.1.1.3.3.cmml">m</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T3.9.9.1.m1.1b"><apply id="S7.T3.9.9.1.m1.1.1.cmml" xref="S7.T3.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T3.9.9.1.m1.1.1.1.cmml" xref="S7.T3.9.9.1.m1.1.1">subscript</csymbol><ci id="S7.T3.9.9.1.m1.1.1.2.cmml" xref="S7.T3.9.9.1.m1.1.1.2">ğ´</ci><apply id="S7.T3.9.9.1.m1.1.1.3.cmml" xref="S7.T3.9.9.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T3.9.9.1.m1.1.1.3.1.cmml" xref="S7.T3.9.9.1.m1.1.1.3">subscript</csymbol><ci id="S7.T3.9.9.1.m1.1.1.3.2.cmml" xref="S7.T3.9.9.1.m1.1.1.3.2">ğ‘Š</ci><ci id="S7.T3.9.9.1.m1.1.1.3.3.cmml" xref="S7.T3.9.9.1.m1.1.1.3.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.9.9.1.m1.1c">A_{W_{m}}</annotation></semantics></math></th>
<td id="S7.T3.10.10.2" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T3.10.10.2.m1.1" class="ltx_Math" alttext="10.27\pm 0.03\%" display="inline"><semantics id="S7.T3.10.10.2.m1.1a"><mrow id="S7.T3.10.10.2.m1.1.1" xref="S7.T3.10.10.2.m1.1.1.cmml"><mn id="S7.T3.10.10.2.m1.1.1.2" xref="S7.T3.10.10.2.m1.1.1.2.cmml">10.27</mn><mo id="S7.T3.10.10.2.m1.1.1.1" xref="S7.T3.10.10.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.10.10.2.m1.1.1.3" xref="S7.T3.10.10.2.m1.1.1.3.cmml"><mn id="S7.T3.10.10.2.m1.1.1.3.2" xref="S7.T3.10.10.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T3.10.10.2.m1.1.1.3.1" xref="S7.T3.10.10.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.10.10.2.m1.1b"><apply id="S7.T3.10.10.2.m1.1.1.cmml" xref="S7.T3.10.10.2.m1.1.1"><csymbol cd="latexml" id="S7.T3.10.10.2.m1.1.1.1.cmml" xref="S7.T3.10.10.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.10.10.2.m1.1.1.2.cmml" xref="S7.T3.10.10.2.m1.1.1.2">10.27</cn><apply id="S7.T3.10.10.2.m1.1.1.3.cmml" xref="S7.T3.10.10.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.10.10.2.m1.1.1.3.1.cmml" xref="S7.T3.10.10.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.10.10.2.m1.1.1.3.2.cmml" xref="S7.T3.10.10.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.10.10.2.m1.1c">10.27\pm 0.03\%</annotation></semantics></math></td>
<td id="S7.T3.11.11.3" class="ltx_td ltx_align_center"><math id="S7.T3.11.11.3.m1.1" class="ltx_Math" alttext="{9.40\pm 0.02\%}" display="inline"><semantics id="S7.T3.11.11.3.m1.1a"><mrow id="S7.T3.11.11.3.m1.1.1" xref="S7.T3.11.11.3.m1.1.1.cmml"><mn id="S7.T3.11.11.3.m1.1.1.2" xref="S7.T3.11.11.3.m1.1.1.2.cmml">9.40</mn><mo id="S7.T3.11.11.3.m1.1.1.1" xref="S7.T3.11.11.3.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.11.11.3.m1.1.1.3" xref="S7.T3.11.11.3.m1.1.1.3.cmml"><mn id="S7.T3.11.11.3.m1.1.1.3.2" xref="S7.T3.11.11.3.m1.1.1.3.2.cmml">0.02</mn><mo id="S7.T3.11.11.3.m1.1.1.3.1" xref="S7.T3.11.11.3.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.11.11.3.m1.1b"><apply id="S7.T3.11.11.3.m1.1.1.cmml" xref="S7.T3.11.11.3.m1.1.1"><csymbol cd="latexml" id="S7.T3.11.11.3.m1.1.1.1.cmml" xref="S7.T3.11.11.3.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.11.11.3.m1.1.1.2.cmml" xref="S7.T3.11.11.3.m1.1.1.2">9.40</cn><apply id="S7.T3.11.11.3.m1.1.1.3.cmml" xref="S7.T3.11.11.3.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.11.11.3.m1.1.1.3.1.cmml" xref="S7.T3.11.11.3.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.11.11.3.m1.1.1.3.2.cmml" xref="S7.T3.11.11.3.m1.1.1.3.2">0.02</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.11.11.3.m1.1c">{9.40\pm 0.02\%}</annotation></semantics></math></td>
</tr>
<tr id="S7.T3.14.14" class="ltx_tr">
<th id="S7.T3.12.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T3.12.12.1.m1.1" class="ltx_Math" alttext="A_{W_{r}}" display="inline"><semantics id="S7.T3.12.12.1.m1.1a"><msub id="S7.T3.12.12.1.m1.1.1" xref="S7.T3.12.12.1.m1.1.1.cmml"><mi id="S7.T3.12.12.1.m1.1.1.2" xref="S7.T3.12.12.1.m1.1.1.2.cmml">A</mi><msub id="S7.T3.12.12.1.m1.1.1.3" xref="S7.T3.12.12.1.m1.1.1.3.cmml"><mi id="S7.T3.12.12.1.m1.1.1.3.2" xref="S7.T3.12.12.1.m1.1.1.3.2.cmml">W</mi><mi id="S7.T3.12.12.1.m1.1.1.3.3" xref="S7.T3.12.12.1.m1.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T3.12.12.1.m1.1b"><apply id="S7.T3.12.12.1.m1.1.1.cmml" xref="S7.T3.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T3.12.12.1.m1.1.1.1.cmml" xref="S7.T3.12.12.1.m1.1.1">subscript</csymbol><ci id="S7.T3.12.12.1.m1.1.1.2.cmml" xref="S7.T3.12.12.1.m1.1.1.2">ğ´</ci><apply id="S7.T3.12.12.1.m1.1.1.3.cmml" xref="S7.T3.12.12.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T3.12.12.1.m1.1.1.3.1.cmml" xref="S7.T3.12.12.1.m1.1.1.3">subscript</csymbol><ci id="S7.T3.12.12.1.m1.1.1.3.2.cmml" xref="S7.T3.12.12.1.m1.1.1.3.2">ğ‘Š</ci><ci id="S7.T3.12.12.1.m1.1.1.3.3.cmml" xref="S7.T3.12.12.1.m1.1.1.3.3">ğ‘Ÿ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.12.12.1.m1.1c">A_{W_{r}}</annotation></semantics></math></th>
<td id="S7.T3.13.13.2" class="ltx_td ltx_align_center ltx_border_r"><math id="S7.T3.13.13.2.m1.1" class="ltx_Math" alttext="10.49\pm 0.03\%" display="inline"><semantics id="S7.T3.13.13.2.m1.1a"><mrow id="S7.T3.13.13.2.m1.1.1" xref="S7.T3.13.13.2.m1.1.1.cmml"><mn id="S7.T3.13.13.2.m1.1.1.2" xref="S7.T3.13.13.2.m1.1.1.2.cmml">10.49</mn><mo id="S7.T3.13.13.2.m1.1.1.1" xref="S7.T3.13.13.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.13.13.2.m1.1.1.3" xref="S7.T3.13.13.2.m1.1.1.3.cmml"><mn id="S7.T3.13.13.2.m1.1.1.3.2" xref="S7.T3.13.13.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T3.13.13.2.m1.1.1.3.1" xref="S7.T3.13.13.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.13.13.2.m1.1b"><apply id="S7.T3.13.13.2.m1.1.1.cmml" xref="S7.T3.13.13.2.m1.1.1"><csymbol cd="latexml" id="S7.T3.13.13.2.m1.1.1.1.cmml" xref="S7.T3.13.13.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.13.13.2.m1.1.1.2.cmml" xref="S7.T3.13.13.2.m1.1.1.2">10.49</cn><apply id="S7.T3.13.13.2.m1.1.1.3.cmml" xref="S7.T3.13.13.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.13.13.2.m1.1.1.3.1.cmml" xref="S7.T3.13.13.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.13.13.2.m1.1.1.3.2.cmml" xref="S7.T3.13.13.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.13.13.2.m1.1c">10.49\pm 0.03\%</annotation></semantics></math></td>
<td id="S7.T3.14.14.3" class="ltx_td ltx_align_center"><math id="S7.T3.14.14.3.m1.1" class="ltx_Math" alttext="9.65\pm 0.02\%" display="inline"><semantics id="S7.T3.14.14.3.m1.1a"><mrow id="S7.T3.14.14.3.m1.1.1" xref="S7.T3.14.14.3.m1.1.1.cmml"><mn id="S7.T3.14.14.3.m1.1.1.2" xref="S7.T3.14.14.3.m1.1.1.2.cmml">9.65</mn><mo id="S7.T3.14.14.3.m1.1.1.1" xref="S7.T3.14.14.3.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T3.14.14.3.m1.1.1.3" xref="S7.T3.14.14.3.m1.1.1.3.cmml"><mn id="S7.T3.14.14.3.m1.1.1.3.2" xref="S7.T3.14.14.3.m1.1.1.3.2.cmml">0.02</mn><mo id="S7.T3.14.14.3.m1.1.1.3.1" xref="S7.T3.14.14.3.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T3.14.14.3.m1.1b"><apply id="S7.T3.14.14.3.m1.1.1.cmml" xref="S7.T3.14.14.3.m1.1.1"><csymbol cd="latexml" id="S7.T3.14.14.3.m1.1.1.1.cmml" xref="S7.T3.14.14.3.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T3.14.14.3.m1.1.1.2.cmml" xref="S7.T3.14.14.3.m1.1.1.2">9.65</cn><apply id="S7.T3.14.14.3.m1.1.1.3.cmml" xref="S7.T3.14.14.3.m1.1.1.3"><csymbol cd="latexml" id="S7.T3.14.14.3.m1.1.1.3.1.cmml" xref="S7.T3.14.14.3.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T3.14.14.3.m1.1.1.3.2.cmml" xref="S7.T3.14.14.3.m1.1.1.3.2">0.02</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T3.14.14.3.m1.1c">9.65\pm 0.02\%</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Result of top-1 prediction accuracy on the live traffic of the virtual
keyboard for en_US and pt_BR populations. Quoted 95% confidence
intervals for federated models are derived using the jackknife method.
</figcaption>
</figure>
<figure id="S7.T4" class="ltx_table">
<table id="S7.T4.9" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S7.T4.9.10.1" class="ltx_tr">
<th id="S7.T4.9.10.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r">Model</th>
<th id="S7.T4.9.10.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column">top-1</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S7.T4.1.1" class="ltx_tr">
<th id="S7.T4.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">Baseline</th>
<td id="S7.T4.1.1.1" class="ltx_td ltx_align_center ltx_border_t"><math id="S7.T4.1.1.1.m1.1" class="ltx_Math" alttext="10.03\%" display="inline"><semantics id="S7.T4.1.1.1.m1.1a"><mrow id="S7.T4.1.1.1.m1.1.1" xref="S7.T4.1.1.1.m1.1.1.cmml"><mn id="S7.T4.1.1.1.m1.1.1.2" xref="S7.T4.1.1.1.m1.1.1.2.cmml">10.03</mn><mo id="S7.T4.1.1.1.m1.1.1.1" xref="S7.T4.1.1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S7.T4.1.1.1.m1.1b"><apply id="S7.T4.1.1.1.m1.1.1.cmml" xref="S7.T4.1.1.1.m1.1.1"><csymbol cd="latexml" id="S7.T4.1.1.1.m1.1.1.1.cmml" xref="S7.T4.1.1.1.m1.1.1.1">percent</csymbol><cn type="float" id="S7.T4.1.1.1.m1.1.1.2.cmml" xref="S7.T4.1.1.1.m1.1.1.2">10.03</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.1.1.1.m1.1c">10.03\%</annotation></semantics></math></td>
</tr>
<tr id="S7.T4.3.3" class="ltx_tr">
<th id="S7.T4.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t"><math id="S7.T4.2.2.1.m1.1" class="ltx_Math" alttext="A_{P_{e}}" display="inline"><semantics id="S7.T4.2.2.1.m1.1a"><msub id="S7.T4.2.2.1.m1.1.1" xref="S7.T4.2.2.1.m1.1.1.cmml"><mi id="S7.T4.2.2.1.m1.1.1.2" xref="S7.T4.2.2.1.m1.1.1.2.cmml">A</mi><msub id="S7.T4.2.2.1.m1.1.1.3" xref="S7.T4.2.2.1.m1.1.1.3.cmml"><mi id="S7.T4.2.2.1.m1.1.1.3.2" xref="S7.T4.2.2.1.m1.1.1.3.2.cmml">P</mi><mi id="S7.T4.2.2.1.m1.1.1.3.3" xref="S7.T4.2.2.1.m1.1.1.3.3.cmml">e</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T4.2.2.1.m1.1b"><apply id="S7.T4.2.2.1.m1.1.1.cmml" xref="S7.T4.2.2.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T4.2.2.1.m1.1.1.1.cmml" xref="S7.T4.2.2.1.m1.1.1">subscript</csymbol><ci id="S7.T4.2.2.1.m1.1.1.2.cmml" xref="S7.T4.2.2.1.m1.1.1.2">ğ´</ci><apply id="S7.T4.2.2.1.m1.1.1.3.cmml" xref="S7.T4.2.2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T4.2.2.1.m1.1.1.3.1.cmml" xref="S7.T4.2.2.1.m1.1.1.3">subscript</csymbol><ci id="S7.T4.2.2.1.m1.1.1.3.2.cmml" xref="S7.T4.2.2.1.m1.1.1.3.2">ğ‘ƒ</ci><ci id="S7.T4.2.2.1.m1.1.1.3.3.cmml" xref="S7.T4.2.2.1.m1.1.1.3.3">ğ‘’</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.2.2.1.m1.1c">A_{P_{e}}</annotation></semantics></math></th>
<td id="S7.T4.3.3.2" class="ltx_td ltx_align_center ltx_border_t"><math id="S7.T4.3.3.2.m1.1" class="ltx_Math" alttext="{10.49\pm 0.03\%}" display="inline"><semantics id="S7.T4.3.3.2.m1.1a"><mrow id="S7.T4.3.3.2.m1.1.1" xref="S7.T4.3.3.2.m1.1.1.cmml"><mn id="S7.T4.3.3.2.m1.1.1.2" xref="S7.T4.3.3.2.m1.1.1.2.cmml">10.49</mn><mo id="S7.T4.3.3.2.m1.1.1.1" xref="S7.T4.3.3.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T4.3.3.2.m1.1.1.3" xref="S7.T4.3.3.2.m1.1.1.3.cmml"><mn id="S7.T4.3.3.2.m1.1.1.3.2" xref="S7.T4.3.3.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T4.3.3.2.m1.1.1.3.1" xref="S7.T4.3.3.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T4.3.3.2.m1.1b"><apply id="S7.T4.3.3.2.m1.1.1.cmml" xref="S7.T4.3.3.2.m1.1.1"><csymbol cd="latexml" id="S7.T4.3.3.2.m1.1.1.1.cmml" xref="S7.T4.3.3.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T4.3.3.2.m1.1.1.2.cmml" xref="S7.T4.3.3.2.m1.1.1.2">10.49</cn><apply id="S7.T4.3.3.2.m1.1.1.3.cmml" xref="S7.T4.3.3.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T4.3.3.2.m1.1.1.3.1.cmml" xref="S7.T4.3.3.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T4.3.3.2.m1.1.1.3.2.cmml" xref="S7.T4.3.3.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.3.3.2.m1.1c">{10.49\pm 0.03\%}</annotation></semantics></math></td>
</tr>
<tr id="S7.T4.5.5" class="ltx_tr">
<th id="S7.T4.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T4.4.4.1.m1.1" class="ltx_Math" alttext="A_{P_{i}}" display="inline"><semantics id="S7.T4.4.4.1.m1.1a"><msub id="S7.T4.4.4.1.m1.1.1" xref="S7.T4.4.4.1.m1.1.1.cmml"><mi id="S7.T4.4.4.1.m1.1.1.2" xref="S7.T4.4.4.1.m1.1.1.2.cmml">A</mi><msub id="S7.T4.4.4.1.m1.1.1.3" xref="S7.T4.4.4.1.m1.1.1.3.cmml"><mi id="S7.T4.4.4.1.m1.1.1.3.2" xref="S7.T4.4.4.1.m1.1.1.3.2.cmml">P</mi><mi id="S7.T4.4.4.1.m1.1.1.3.3" xref="S7.T4.4.4.1.m1.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T4.4.4.1.m1.1b"><apply id="S7.T4.4.4.1.m1.1.1.cmml" xref="S7.T4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T4.4.4.1.m1.1.1.1.cmml" xref="S7.T4.4.4.1.m1.1.1">subscript</csymbol><ci id="S7.T4.4.4.1.m1.1.1.2.cmml" xref="S7.T4.4.4.1.m1.1.1.2">ğ´</ci><apply id="S7.T4.4.4.1.m1.1.1.3.cmml" xref="S7.T4.4.4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T4.4.4.1.m1.1.1.3.1.cmml" xref="S7.T4.4.4.1.m1.1.1.3">subscript</csymbol><ci id="S7.T4.4.4.1.m1.1.1.3.2.cmml" xref="S7.T4.4.4.1.m1.1.1.3.2">ğ‘ƒ</ci><ci id="S7.T4.4.4.1.m1.1.1.3.3.cmml" xref="S7.T4.4.4.1.m1.1.1.3.3">ğ‘–</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.4.4.1.m1.1c">A_{P_{i}}</annotation></semantics></math></th>
<td id="S7.T4.5.5.2" class="ltx_td ltx_align_center"><math id="S7.T4.5.5.2.m1.1" class="ltx_Math" alttext="10.46\pm 0.03\%" display="inline"><semantics id="S7.T4.5.5.2.m1.1a"><mrow id="S7.T4.5.5.2.m1.1.1" xref="S7.T4.5.5.2.m1.1.1.cmml"><mn id="S7.T4.5.5.2.m1.1.1.2" xref="S7.T4.5.5.2.m1.1.1.2.cmml">10.46</mn><mo id="S7.T4.5.5.2.m1.1.1.1" xref="S7.T4.5.5.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T4.5.5.2.m1.1.1.3" xref="S7.T4.5.5.2.m1.1.1.3.cmml"><mn id="S7.T4.5.5.2.m1.1.1.3.2" xref="S7.T4.5.5.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T4.5.5.2.m1.1.1.3.1" xref="S7.T4.5.5.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T4.5.5.2.m1.1b"><apply id="S7.T4.5.5.2.m1.1.1.cmml" xref="S7.T4.5.5.2.m1.1.1"><csymbol cd="latexml" id="S7.T4.5.5.2.m1.1.1.1.cmml" xref="S7.T4.5.5.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T4.5.5.2.m1.1.1.2.cmml" xref="S7.T4.5.5.2.m1.1.1.2">10.46</cn><apply id="S7.T4.5.5.2.m1.1.1.3.cmml" xref="S7.T4.5.5.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T4.5.5.2.m1.1.1.3.1.cmml" xref="S7.T4.5.5.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T4.5.5.2.m1.1.1.3.2.cmml" xref="S7.T4.5.5.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.5.5.2.m1.1c">10.46\pm 0.03\%</annotation></semantics></math></td>
</tr>
<tr id="S7.T4.7.7" class="ltx_tr">
<th id="S7.T4.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T4.6.6.1.m1.1" class="ltx_Math" alttext="A_{P_{m}}" display="inline"><semantics id="S7.T4.6.6.1.m1.1a"><msub id="S7.T4.6.6.1.m1.1.1" xref="S7.T4.6.6.1.m1.1.1.cmml"><mi id="S7.T4.6.6.1.m1.1.1.2" xref="S7.T4.6.6.1.m1.1.1.2.cmml">A</mi><msub id="S7.T4.6.6.1.m1.1.1.3" xref="S7.T4.6.6.1.m1.1.1.3.cmml"><mi id="S7.T4.6.6.1.m1.1.1.3.2" xref="S7.T4.6.6.1.m1.1.1.3.2.cmml">P</mi><mi id="S7.T4.6.6.1.m1.1.1.3.3" xref="S7.T4.6.6.1.m1.1.1.3.3.cmml">m</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T4.6.6.1.m1.1b"><apply id="S7.T4.6.6.1.m1.1.1.cmml" xref="S7.T4.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T4.6.6.1.m1.1.1.1.cmml" xref="S7.T4.6.6.1.m1.1.1">subscript</csymbol><ci id="S7.T4.6.6.1.m1.1.1.2.cmml" xref="S7.T4.6.6.1.m1.1.1.2">ğ´</ci><apply id="S7.T4.6.6.1.m1.1.1.3.cmml" xref="S7.T4.6.6.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T4.6.6.1.m1.1.1.3.1.cmml" xref="S7.T4.6.6.1.m1.1.1.3">subscript</csymbol><ci id="S7.T4.6.6.1.m1.1.1.3.2.cmml" xref="S7.T4.6.6.1.m1.1.1.3.2">ğ‘ƒ</ci><ci id="S7.T4.6.6.1.m1.1.1.3.3.cmml" xref="S7.T4.6.6.1.m1.1.1.3.3">ğ‘š</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.6.6.1.m1.1c">A_{P_{m}}</annotation></semantics></math></th>
<td id="S7.T4.7.7.2" class="ltx_td ltx_align_center"><math id="S7.T4.7.7.2.m1.1" class="ltx_Math" alttext="10.48\pm 0.04\%" display="inline"><semantics id="S7.T4.7.7.2.m1.1a"><mrow id="S7.T4.7.7.2.m1.1.1" xref="S7.T4.7.7.2.m1.1.1.cmml"><mn id="S7.T4.7.7.2.m1.1.1.2" xref="S7.T4.7.7.2.m1.1.1.2.cmml">10.48</mn><mo id="S7.T4.7.7.2.m1.1.1.1" xref="S7.T4.7.7.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T4.7.7.2.m1.1.1.3" xref="S7.T4.7.7.2.m1.1.1.3.cmml"><mn id="S7.T4.7.7.2.m1.1.1.3.2" xref="S7.T4.7.7.2.m1.1.1.3.2.cmml">0.04</mn><mo id="S7.T4.7.7.2.m1.1.1.3.1" xref="S7.T4.7.7.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T4.7.7.2.m1.1b"><apply id="S7.T4.7.7.2.m1.1.1.cmml" xref="S7.T4.7.7.2.m1.1.1"><csymbol cd="latexml" id="S7.T4.7.7.2.m1.1.1.1.cmml" xref="S7.T4.7.7.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T4.7.7.2.m1.1.1.2.cmml" xref="S7.T4.7.7.2.m1.1.1.2">10.48</cn><apply id="S7.T4.7.7.2.m1.1.1.3.cmml" xref="S7.T4.7.7.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T4.7.7.2.m1.1.1.3.1.cmml" xref="S7.T4.7.7.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T4.7.7.2.m1.1.1.3.2.cmml" xref="S7.T4.7.7.2.m1.1.1.3.2">0.04</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.7.7.2.m1.1c">10.48\pm 0.04\%</annotation></semantics></math></td>
</tr>
<tr id="S7.T4.9.9" class="ltx_tr">
<th id="S7.T4.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><math id="S7.T4.8.8.1.m1.1" class="ltx_Math" alttext="A_{P_{r}}" display="inline"><semantics id="S7.T4.8.8.1.m1.1a"><msub id="S7.T4.8.8.1.m1.1.1" xref="S7.T4.8.8.1.m1.1.1.cmml"><mi id="S7.T4.8.8.1.m1.1.1.2" xref="S7.T4.8.8.1.m1.1.1.2.cmml">A</mi><msub id="S7.T4.8.8.1.m1.1.1.3" xref="S7.T4.8.8.1.m1.1.1.3.cmml"><mi id="S7.T4.8.8.1.m1.1.1.3.2" xref="S7.T4.8.8.1.m1.1.1.3.2.cmml">P</mi><mi id="S7.T4.8.8.1.m1.1.1.3.3" xref="S7.T4.8.8.1.m1.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.T4.8.8.1.m1.1b"><apply id="S7.T4.8.8.1.m1.1.1.cmml" xref="S7.T4.8.8.1.m1.1.1"><csymbol cd="ambiguous" id="S7.T4.8.8.1.m1.1.1.1.cmml" xref="S7.T4.8.8.1.m1.1.1">subscript</csymbol><ci id="S7.T4.8.8.1.m1.1.1.2.cmml" xref="S7.T4.8.8.1.m1.1.1.2">ğ´</ci><apply id="S7.T4.8.8.1.m1.1.1.3.cmml" xref="S7.T4.8.8.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.T4.8.8.1.m1.1.1.3.1.cmml" xref="S7.T4.8.8.1.m1.1.1.3">subscript</csymbol><ci id="S7.T4.8.8.1.m1.1.1.3.2.cmml" xref="S7.T4.8.8.1.m1.1.1.3.2">ğ‘ƒ</ci><ci id="S7.T4.8.8.1.m1.1.1.3.3.cmml" xref="S7.T4.8.8.1.m1.1.1.3.3">ğ‘Ÿ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.8.8.1.m1.1c">A_{P_{r}}</annotation></semantics></math></th>
<td id="S7.T4.9.9.2" class="ltx_td ltx_align_center"><math id="S7.T4.9.9.2.m1.1" class="ltx_Math" alttext="{10.53\pm 0.03\%}" display="inline"><semantics id="S7.T4.9.9.2.m1.1a"><mrow id="S7.T4.9.9.2.m1.1.1" xref="S7.T4.9.9.2.m1.1.1.cmml"><mn id="S7.T4.9.9.2.m1.1.1.2" xref="S7.T4.9.9.2.m1.1.1.2.cmml">10.53</mn><mo id="S7.T4.9.9.2.m1.1.1.1" xref="S7.T4.9.9.2.m1.1.1.1.cmml">Â±</mo><mrow id="S7.T4.9.9.2.m1.1.1.3" xref="S7.T4.9.9.2.m1.1.1.3.cmml"><mn id="S7.T4.9.9.2.m1.1.1.3.2" xref="S7.T4.9.9.2.m1.1.1.3.2.cmml">0.03</mn><mo id="S7.T4.9.9.2.m1.1.1.3.1" xref="S7.T4.9.9.2.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.T4.9.9.2.m1.1b"><apply id="S7.T4.9.9.2.m1.1.1.cmml" xref="S7.T4.9.9.2.m1.1.1"><csymbol cd="latexml" id="S7.T4.9.9.2.m1.1.1.1.cmml" xref="S7.T4.9.9.2.m1.1.1.1">plus-or-minus</csymbol><cn type="float" id="S7.T4.9.9.2.m1.1.1.2.cmml" xref="S7.T4.9.9.2.m1.1.1.2">10.53</cn><apply id="S7.T4.9.9.2.m1.1.1.3.cmml" xref="S7.T4.9.9.2.m1.1.1.3"><csymbol cd="latexml" id="S7.T4.9.9.2.m1.1.1.3.1.cmml" xref="S7.T4.9.9.2.m1.1.1.3.1">percent</csymbol><cn type="float" id="S7.T4.9.9.2.m1.1.1.3.2.cmml" xref="S7.T4.9.9.2.m1.1.1.3.2">0.03</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.T4.9.9.2.m1.1c">{10.53\pm 0.03\%}</annotation></semantics></math></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Result of top-1 prediction accuracy on the live traffic of the virtual
keyboard for en_US derived using word-piece models.</figcaption>
</figure>
<div id="S7.SS3.p1" class="ltx_para">
<p id="S7.SS3.p1.6" class="ltx_p">FigureÂ <a href="#S7.F5" title="Figure 5 â€£ 7.1 Neural language model â€£ 7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the <math id="S7.SS3.p1.1.m1.1" class="ltx_Math" alttext="\text{SLL}^{e}" display="inline"><semantics id="S7.SS3.p1.1.m1.1a"><msup id="S7.SS3.p1.1.m1.1.1" xref="S7.SS3.p1.1.m1.1.1.cmml"><mtext id="S7.SS3.p1.1.m1.1.1.2" xref="S7.SS3.p1.1.m1.1.1.2a.cmml">SLL</mtext><mi id="S7.SS3.p1.1.m1.1.1.3" xref="S7.SS3.p1.1.m1.1.1.3.cmml">e</mi></msup><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.1.m1.1b"><apply id="S7.SS3.p1.1.m1.1.1.cmml" xref="S7.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.1.m1.1.1.1.cmml" xref="S7.SS3.p1.1.m1.1.1">superscript</csymbol><ci id="S7.SS3.p1.1.m1.1.1.2a.cmml" xref="S7.SS3.p1.1.m1.1.1.2"><mtext id="S7.SS3.p1.1.m1.1.1.2.cmml" xref="S7.SS3.p1.1.m1.1.1.2">SLL</mtext></ci><ci id="S7.SS3.p1.1.m1.1.1.3.cmml" xref="S7.SS3.p1.1.m1.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.1.m1.1c">\text{SLL}^{e}</annotation></semantics></math> metric for all the
experiments listed in TableÂ <a href="#S7.T2" title="Table 2 â€£ 7.1 Neural language model â€£ 7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. In
general, larger models generate better results than smaller
baseline models. For the baseline architectures with same RNN
size, having a larger vocabulary leads to some gains. For the larger
architectures that have similar total numbers of parameters, 4K
word-piece models are shown to be superior to 16K and 30K. For 4K
word-piece models, GLSTM is in general on-par with its
<math id="S7.SS3.p1.2.m2.1" class="ltx_Math" alttext="\text{P}_{\text{4K-L}}" display="inline"><semantics id="S7.SS3.p1.2.m2.1a"><msub id="S7.SS3.p1.2.m2.1.1" xref="S7.SS3.p1.2.m2.1.1.cmml"><mtext id="S7.SS3.p1.2.m2.1.1.2" xref="S7.SS3.p1.2.m2.1.1.2a.cmml">P</mtext><mtext id="S7.SS3.p1.2.m2.1.1.3" xref="S7.SS3.p1.2.m2.1.1.3a.cmml">4K-L</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.2.m2.1b"><apply id="S7.SS3.p1.2.m2.1.1.cmml" xref="S7.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.2.m2.1.1.1.cmml" xref="S7.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S7.SS3.p1.2.m2.1.1.2a.cmml" xref="S7.SS3.p1.2.m2.1.1.2"><mtext id="S7.SS3.p1.2.m2.1.1.2.cmml" xref="S7.SS3.p1.2.m2.1.1.2">P</mtext></ci><ci id="S7.SS3.p1.2.m2.1.1.3a.cmml" xref="S7.SS3.p1.2.m2.1.1.3"><mtext mathsize="70%" id="S7.SS3.p1.2.m2.1.1.3.cmml" xref="S7.SS3.p1.2.m2.1.1.3">4K-L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.2.m2.1c">\text{P}_{\text{4K-L}}</annotation></semantics></math> counterpart. The word model is better than
all the word-piece models in both languages in <math id="S7.SS3.p1.3.m3.1" class="ltx_Math" alttext="\text{SLL}^{e}" display="inline"><semantics id="S7.SS3.p1.3.m3.1a"><msup id="S7.SS3.p1.3.m3.1.1" xref="S7.SS3.p1.3.m3.1.1.cmml"><mtext id="S7.SS3.p1.3.m3.1.1.2" xref="S7.SS3.p1.3.m3.1.1.2a.cmml">SLL</mtext><mi id="S7.SS3.p1.3.m3.1.1.3" xref="S7.SS3.p1.3.m3.1.1.3.cmml">e</mi></msup><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.3.m3.1b"><apply id="S7.SS3.p1.3.m3.1.1.cmml" xref="S7.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.3.m3.1.1.1.cmml" xref="S7.SS3.p1.3.m3.1.1">superscript</csymbol><ci id="S7.SS3.p1.3.m3.1.1.2a.cmml" xref="S7.SS3.p1.3.m3.1.1.2"><mtext id="S7.SS3.p1.3.m3.1.1.2.cmml" xref="S7.SS3.p1.3.m3.1.1.2">SLL</mtext></ci><ci id="S7.SS3.p1.3.m3.1.1.3.cmml" xref="S7.SS3.p1.3.m3.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.3.m3.1c">\text{SLL}^{e}</annotation></semantics></math>. We were surprised
by this result, and hypothesize that it is due to the <math id="S7.SS3.p1.4.m4.1" class="ltx_Math" alttext="\text{SLL}^{e}" display="inline"><semantics id="S7.SS3.p1.4.m4.1a"><msup id="S7.SS3.p1.4.m4.1.1" xref="S7.SS3.p1.4.m4.1.1.cmml"><mtext id="S7.SS3.p1.4.m4.1.1.2" xref="S7.SS3.p1.4.m4.1.1.2a.cmml">SLL</mtext><mi id="S7.SS3.p1.4.m4.1.1.3" xref="S7.SS3.p1.4.m4.1.1.3.cmml">e</mi></msup><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.4.m4.1b"><apply id="S7.SS3.p1.4.m4.1.1.cmml" xref="S7.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.4.m4.1.1.1.cmml" xref="S7.SS3.p1.4.m4.1.1">superscript</csymbol><ci id="S7.SS3.p1.4.m4.1.1.2a.cmml" xref="S7.SS3.p1.4.m4.1.1.2"><mtext id="S7.SS3.p1.4.m4.1.1.2.cmml" xref="S7.SS3.p1.4.m4.1.1.2">SLL</mtext></ci><ci id="S7.SS3.p1.4.m4.1.1.3.cmml" xref="S7.SS3.p1.4.m4.1.1.3">ğ‘’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.4.m4.1c">\text{SLL}^{e}</annotation></semantics></math> metric
discounting word-piece modelsâ€™ ability to model the semantics of OOV words. The
solid lines are the best models we pick for A/B experiment evaluation for the
virtual keyboard (<math id="S7.SS3.p1.5.m5.1" class="ltx_Math" alttext="\text{P}_{\text{4K-L}}" display="inline"><semantics id="S7.SS3.p1.5.m5.1a"><msub id="S7.SS3.p1.5.m5.1.1" xref="S7.SS3.p1.5.m5.1.1.cmml"><mtext id="S7.SS3.p1.5.m5.1.1.2" xref="S7.SS3.p1.5.m5.1.1.2a.cmml">P</mtext><mtext id="S7.SS3.p1.5.m5.1.1.3" xref="S7.SS3.p1.5.m5.1.1.3a.cmml">4K-L</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.5.m5.1b"><apply id="S7.SS3.p1.5.m5.1.1.cmml" xref="S7.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.5.m5.1.1.1.cmml" xref="S7.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S7.SS3.p1.5.m5.1.1.2a.cmml" xref="S7.SS3.p1.5.m5.1.1.2"><mtext id="S7.SS3.p1.5.m5.1.1.2.cmml" xref="S7.SS3.p1.5.m5.1.1.2">P</mtext></ci><ci id="S7.SS3.p1.5.m5.1.1.3a.cmml" xref="S7.SS3.p1.5.m5.1.1.3"><mtext mathsize="70%" id="S7.SS3.p1.5.m5.1.1.3.cmml" xref="S7.SS3.p1.5.m5.1.1.3">4K-L</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.5.m5.1c">\text{P}_{\text{4K-L}}</annotation></semantics></math> and <math id="S7.SS3.p1.6.m6.1" class="ltx_Math" alttext="\text{W}_{\text{30K}}" display="inline"><semantics id="S7.SS3.p1.6.m6.1a"><msub id="S7.SS3.p1.6.m6.1.1" xref="S7.SS3.p1.6.m6.1.1.cmml"><mtext id="S7.SS3.p1.6.m6.1.1.2" xref="S7.SS3.p1.6.m6.1.1.2a.cmml">W</mtext><mtext id="S7.SS3.p1.6.m6.1.1.3" xref="S7.SS3.p1.6.m6.1.1.3a.cmml">30K</mtext></msub><annotation-xml encoding="MathML-Content" id="S7.SS3.p1.6.m6.1b"><apply id="S7.SS3.p1.6.m6.1.1.cmml" xref="S7.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S7.SS3.p1.6.m6.1.1.1.cmml" xref="S7.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S7.SS3.p1.6.m6.1.1.2a.cmml" xref="S7.SS3.p1.6.m6.1.1.2"><mtext id="S7.SS3.p1.6.m6.1.1.2.cmml" xref="S7.SS3.p1.6.m6.1.1.2">W</mtext></ci><ci id="S7.SS3.p1.6.m6.1.1.3a.cmml" xref="S7.SS3.p1.6.m6.1.1.3"><mtext mathsize="70%" id="S7.SS3.p1.6.m6.1.1.3.cmml" xref="S7.SS3.p1.6.m6.1.1.3">30K</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p1.6.m6.1c">\text{W}_{\text{30K}}</annotation></semantics></math>).</p>
</div>
<div id="S7.SS3.p2" class="ltx_para">
<p id="S7.SS3.p2.1" class="ltx_p">TableÂ <a href="#S7.T3" title="Table 3 â€£ 7.3 Results â€£ 7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the A/B evaluation result on both en_US
and pt_BR populations. The baseline model is an n-gram model
trained directly from centralized logs. All of the federated trained models
perform better than the baseline model. We repeated the A/B evaluation with word-piece models on
en_US and the results are in TableÂ <a href="#S7.T4" title="Table 4 â€£ 7.3 Results â€£ 7 Experiments â€£ Federated Learning of N-gram Language Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
The performance of word-piece models is similar to that of word models.
Among the federated models for en_US, <math id="S7.SS3.p2.1.m1.1" class="ltx_Math" alttext="A_{P_{r}}" display="inline"><semantics id="S7.SS3.p2.1.m1.1a"><msub id="S7.SS3.p2.1.m1.1.1" xref="S7.SS3.p2.1.m1.1.1.cmml"><mi id="S7.SS3.p2.1.m1.1.1.2" xref="S7.SS3.p2.1.m1.1.1.2.cmml">A</mi><msub id="S7.SS3.p2.1.m1.1.1.3" xref="S7.SS3.p2.1.m1.1.1.3.cmml"><mi id="S7.SS3.p2.1.m1.1.1.3.2" xref="S7.SS3.p2.1.m1.1.1.3.2.cmml">P</mi><mi id="S7.SS3.p2.1.m1.1.1.3.3" xref="S7.SS3.p2.1.m1.1.1.3.3.cmml">r</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S7.SS3.p2.1.m1.1b"><apply id="S7.SS3.p2.1.m1.1.1.cmml" xref="S7.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S7.SS3.p2.1.m1.1.1.1.cmml" xref="S7.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S7.SS3.p2.1.m1.1.1.2.cmml" xref="S7.SS3.p2.1.m1.1.1.2">ğ´</ci><apply id="S7.SS3.p2.1.m1.1.1.3.cmml" xref="S7.SS3.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S7.SS3.p2.1.m1.1.1.3.1.cmml" xref="S7.SS3.p2.1.m1.1.1.3">subscript</csymbol><ci id="S7.SS3.p2.1.m1.1.1.3.2.cmml" xref="S7.SS3.p2.1.m1.1.1.3.2">ğ‘ƒ</ci><ci id="S7.SS3.p2.1.m1.1.1.3.3.cmml" xref="S7.SS3.p2.1.m1.1.1.3.3">ğ‘Ÿ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.SS3.p2.1.m1.1c">A_{P_{r}}</annotation></semantics></math> has the best result. This meets our expectation that the
supplemental corpus helps improve the performance of the topology inferred from
the RNN LM.</p>
</div>
</section>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Conclusion</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">We have proposed methods to train production-quality n-gram language models
using federated learning, which allows training models without user-typed text ever leaving devices.
The proposed methods are shown to perform better than traditional server-based algorithms in A/B experiments on real users of a virtual keyboard.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">The authors would like to thank colleagues in Google Research
for providing the federated learning framework and for
many helpful discussions.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abadi etÂ al. (2016)</span>
<span class="ltx_bibblock">
Martin Abadi, Andy Chu, Ian Goodfellow, HÂ Brendan McMahan, Ilya Mironov, Kunal
Talwar, and LiÂ Zhang. 2016.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2016 ACM SIGSAC Conference on Computer
and Communications Security</em>, pages 308â€“318. ACM.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agarwal etÂ al. (2018)</span>
<span class="ltx_bibblock">
Naman Agarwal, AnandaÂ Theertha Suresh, Felix Yu, Sanjiv Kumar, and Brendan
McMahan. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://papers.nips.cc/paper/7984-cpsgd-communication-efficient-and-differentially-private-distributed-sgd.pdf" title="" class="ltx_ref ltx_href">cpsgd: Communication-efficient and differentially-private distributed sgd</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Neural Information Processing Systems</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Allauzen etÂ al. (2011)</span>
<span class="ltx_bibblock">
Cyril Allauzen, Michael Riley, and Johan Schalkwyk. 2011.

</span>
<span class="ltx_bibblock">A filter-based algorithm for efficient composition of finite-state
transducers.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">International Journal of Foundations of Computer Science</em>,
22(8):1781â€“1795.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alsharif etÂ al. (2015)</span>
<span class="ltx_bibblock">
Ouais Alsharif, Tom Ouyang, FranÃ§oise Beaufays, Shumin Zhai, Thomas Breuel,
and Johan Schalkwyk. 2015.

</span>
<span class="ltx_bibblock">Long short term memory neural network for keyboard gesture decoding.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">2015 IEEE International Conference on Acoustics, Speech and
Signal Processing (ICASSP)</em>, pages 2076â€“2080.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beaufays and Strope (2013)</span>
<span class="ltx_bibblock">
FranÃ§oise Beaufays and Brian Strope. 2013.

</span>
<span class="ltx_bibblock">Language model capitalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">2013 IEEE International Conference on Acoustics, Speech and
Signal Processing</em>, pages 6749â€“6752. IEEE.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bhattacharya and Valiant (2015)</span>
<span class="ltx_bibblock">
Bhaswar Bhattacharya and Gregory Valiant. 2015.

</span>
<span class="ltx_bibblock">Testing closeness with unequal sized samples.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems 28</em>. NIPS.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz etÂ al. (2017)</span>
<span class="ltx_bibblock">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H.Â Brendan
McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1145/3133956.3133982" title="" class="ltx_ref ltx_href">Practical secure
aggregation for privacy-preserving machine learning</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2017 ACM SIGSAC Conference on Computer
and Communications Security</em>, CCS â€™17, pages 1175â€“1191, New York, NY, USA.
ACM.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and Goodman (1999)</span>
<span class="ltx_bibblock">
StanleyÂ F Chen and Joshua Goodman. 1999.

</span>
<span class="ltx_bibblock">An empirical study of smoothing techniques for language modeling.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Computer Speech &amp; Language</em>, 13(4):359â€“394.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiu etÂ al. (2018)</span>
<span class="ltx_bibblock">
Chung-Cheng Chiu, TaraÂ N Sainath, Yonghui Wu, Rohit Prabhavalkar, Patrick
Nguyen, Zhifeng Chen, Anjuli Kannan, RonÂ J Weiss, Kanishka Rao, Ekaterina
Gonina, etÂ al. 2018.

</span>
<span class="ltx_bibblock">State-of-the-art speech recognition with sequence-to-sequence models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">2018 IEEE International Conference on Acoustics, Speech and
Signal Processing (ICASSP)</em>, pages 4774â€“4778. IEEE.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chung etÂ al. (2014)</span>
<span class="ltx_bibblock">
Junyoung Chung, Caglar Gulcehre, KyungHyun Cho, and Yoshua Bengio. 2014.

</span>
<span class="ltx_bibblock">Empirical evaluation of gated recurrent neural networks on sequence
modeling.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1412.3555</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dwork etÂ al. (2014)</span>
<span class="ltx_bibblock">
Cynthia Dwork, Aaron Roth, etÂ al. 2014.

</span>
<span class="ltx_bibblock">The algorithmic foundations of differential privacy.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Foundations and TrendsÂ® in Theoretical Computer
Science</em>, 9(3â€“4):211â€“407.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Greff etÂ al. (2017)</span>
<span class="ltx_bibblock">
Klaus Greff, RupeshÂ K Srivastava, Jan KoutnÃ­k, BasÂ R Steunebrink, and
JÃ¼rgen Schmidhuber. 2017.

</span>
<span class="ltx_bibblock">Lstm: A search space odyssey.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">IEEE transactions on neural networks and learning systems</em>,
28(10):2222â€“2232.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard etÂ al. (2018)</span>
<span class="ltx_bibblock">
Andrew Hard, Kanishka Rao, Rajiv Mathews, FranÃ§oise Beaufays, Sean
Augenstein, Hubert Eichner, ChloÃ© Kiddon, and Daniel Ramage. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1811.03604" title="" class="ltx_ref ltx_href">Federated learning for
mobile keyboard prediction</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1811.03604.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hellsten etÂ al. (2017)</span>
<span class="ltx_bibblock">
Lars Hellsten, Brian Roark, Prasoon Goyal, Cyril Allauzen, Francoise Beaufays,
Tom Ouyang, Michael Riley, and David Rybach. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://aclweb.org/anthology/W17-4002" title="" class="ltx_ref ltx_href">Transliterated mobile
keyboard input via weighted finite-state transducers</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 13th International Conference on Finite
State Methods and Natural Language Processing (FSMNLP)</em>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hochreiter and Schmidhuber (1997)</span>
<span class="ltx_bibblock">
Sepp Hochreiter and JÃ¼rgen Schmidhuber. 1997.

</span>
<span class="ltx_bibblock">Long short-term memory.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Neural computation</em>, 9(8):1735â€“1780.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim etÂ al. (2017)</span>
<span class="ltx_bibblock">
Jaeyoung Kim, Mostafa El-Khamy, and Jungwon Lee. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.isca-speech.org/archive/Interspeech_2017/abstracts/0477.html" title="" class="ltx_ref ltx_href">Residual LSTM: design of a deep recurrent architecture for distant speech
recognition</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Interspeech 2017, 18th Annual Conference of the
International Speech Communication Association, Stockholm, Sweden, August
20-24, 2017</em>, pages 1591â€“1595.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">KoneÄná»³ etÂ al. (2016)</span>
<span class="ltx_bibblock">
Jakub KoneÄná»³, HÂ Brendan McMahan, Daniel Ramage, and Peter
RichtÃ¡rik. 2016.

</span>
<span class="ltx_bibblock">Federated optimization: Distributed machine learning for on-device
intelligence.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1610.02527</em>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">KoneÄnÃ½ etÂ al. (2016)</span>
<span class="ltx_bibblock">
Jakub KoneÄnÃ½, H.Â Brendan McMahan, FelixÂ X. Yu, Peter Richtarik,
AnandaÂ Theertha Suresh, and Dave Bacon. 2016.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://arxiv.org/abs/1610.05492" title="" class="ltx_ref ltx_href">Federated learning:
Strategies for improving communication efficiency</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">NIPS Workshop on Private Multi-Party Machine Learning</em>.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kuchaiev and Ginsburg (2017)</span>
<span class="ltx_bibblock">
Oleksii Kuchaiev and Boris Ginsburg. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=ByxWXyNFg" title="" class="ltx_ref ltx_href">Factorization
tricks for LSTM networks</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">5th International Conference on Learning Representations,
ICLR 2017, Toulon, France, April 24-26, 2017, Workshop Track Proceedings</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kudo (2018)</span>
<span class="ltx_bibblock">
Taku Kudo. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.info/papers/P18-1007/p18-1007" title="" class="ltx_ref ltx_href">Subword
regularization: Improving neural network translation models with multiple
subword candidates</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 56th Annual Meeting of the Association
for Computational Linguistics, ACL 2018, Melbourne, Australia, July 15-20,
2018, Volume 1: Long Papers</em>, pages 66â€“75.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LeiÂ Ba etÂ al. (2016)</span>
<span class="ltx_bibblock">
Jimmy LeiÂ Ba, JamieÂ Ryan Kiros, and GeoffreyÂ E Hinton. 2016.

</span>
<span class="ltx_bibblock">Layer normalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1607.06450</em>.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan etÂ al. (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and
BlaiseÂ AgÃ¼era yÂ Arcas. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://proceedings.mlr.press/v54/mcmahan17a.html" title="" class="ltx_ref ltx_href">Communication-efficient learning of deep networks from decentralized data</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 20th International Conference on
Artificial Intelligence and Statistics, AISTATS 2017, 20-22 April 2017,
Fort Lauderdale, FL, USA</em>, pages 1273â€“1282.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan and Ramage (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan and Daniel Ramage. 2017.

</span>
<span class="ltx_bibblock">Federated learning: Collaborative machine learning without
centralized training data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://ai.googleblog.com/2017/04/federated-learning-collaborative.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://ai.googleblog.com/2017/04/federated-learning-collaborative.html</a>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan etÂ al. (2018)</span>
<span class="ltx_bibblock">
Brendan McMahan, Daniel Ramage, Kunal Talwar, and LiÂ Zhang. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/pdf?id=BJ0hF1Z0b" title="" class="ltx_ref ltx_href">Learning
differentially private recurrent language models</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Moore and Lewis (2010)</span>
<span class="ltx_bibblock">
RobertÂ C. Moore and William Lewis. 2010.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://dl.acm.org/citation.cfm?id=1858842.1858883" title="" class="ltx_ref ltx_href">Intelligent selection of language model training data</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the ACL 2010 Conference Short Papers</em>,
ACLShort â€™10, pages 220â€“224, Stroudsburg, PA, USA. Association for
Computational Linguistics.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang etÂ al. (2017)</span>
<span class="ltx_bibblock">
Tom Ouyang, David Rybach, FranÃ§oise Beaufays, and Michael Riley. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1704.03987" title="" class="ltx_ref ltx_href">Mobile keyboard input
decoding with finite-state transducers</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1704.03987.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sak etÂ al. (2014)</span>
<span class="ltx_bibblock">
HaÅŸim Sak, Andrew Senior, and FranÃ§oise Beaufays. 2014.

</span>
<span class="ltx_bibblock">Long short-term memory recurrent neural network architectures for
large scale acoustic modeling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Fifteenth annual conference of the international speech
communication association</em>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schuster and Nakajima (2012)</span>
<span class="ltx_bibblock">
Mike Schuster and Kaisuke Nakajima. 2012.

</span>
<span class="ltx_bibblock">Japanese and korean voice search.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">2012 IEEE International Conference on Acoustics, Speech and
Signal Processing (ICASSP)</em>, pages 5149â€“5152. IEEE.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shibata etÂ al. (1999)</span>
<span class="ltx_bibblock">
Yusuxke Shibata, Takuya Kida, Shuichi Fukamachi, Masayuki Takeda, Ayumi
Shinohara, Takeshi Shinohara, and Setsuo Arikawa. 1999.

</span>
<span class="ltx_bibblock">Byte pair encoding: A text compression scheme that accelerates
pattern matching.

</span>
<span class="ltx_bibblock">Technical report, Technical Report DOI-TR-161, Department of
Informatics, Kyushu University.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Suresh etÂ al. (2019a)</span>
<span class="ltx_bibblock">
AnandaÂ Theertha Suresh, Michael Riley, Brian Roark, and Vlad Schogol.
2019a.

</span>
<span class="ltx_bibblock">Approximating probabilistic models as weighted finite automata.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1905.08701.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Suresh etÂ al. (2019b)</span>
<span class="ltx_bibblock">
AnandaÂ Theertha Suresh, Brian Roark, Michael Riley, and Vlad Schogol.
2019b.

</span>
<span class="ltx_bibblock">Distilling weighted finite automata from arbitrary probabilistic
models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 14th International Conference on Finite
State Methods and Natural Language Processing (FSMNLP 2019)</em>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sutskever etÂ al. (2014)</span>
<span class="ltx_bibblock">
Ilya Sutskever, Oriol Vinyals, and QuocÂ V Le. 2014.

</span>
<span class="ltx_bibblock">Sequence to sequence learning with neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, pages
3104â€“3112.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu etÂ al. (2016)</span>
<span class="ltx_bibblock">
Yonghui Wu, Mike Schuster, Zhifeng Chen, QuocÂ V Le, Mohammad Norouzi, Wolfgang
Macherey, Maxim Krikun, Yuan Cao, Qin Gao, Klaus Macherey, etÂ al. 2016.

</span>
<span class="ltx_bibblock">Googleâ€™s neural machine translation system: Bridging the gap between
human and machine translation.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1609.08144</em>.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1910.03431" class="ar5iv-nav-button ar5iv-nav-button-prev">â—„</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1910.03432" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1910.03432">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1910.03432" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1910.03433" class="ar5iv-nav-button ar5iv-nav-button-next">â–º</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar 16 10:08:53 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "Ã—";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
