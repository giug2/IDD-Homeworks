<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2109.15108] Federated Learning in ASR: Not as Easy as You Think</title><meta property="og:description" content="With the growing availability of smart devices and cloud services, personal speech assistance systems are increasingly used on a daily basis.
Most devices redirect the voice recordings to a central server, which uses t…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning in ASR: Not as Easy as You Think">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning in ASR: Not as Easy as You Think">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2109.15108">

<!--Generated on Sat Mar  2 03:08:33 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line" lang="en">
<h1 class="ltx_title ltx_title_document">Federated Learning in ASR: Not as Easy as You Think</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wentao Yu , Jan Freiwald <span id="footnotex1" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>, Sören Tewes, Fabien Huennemeyer, Dorothea Kolossa
</span><span class="ltx_author_notes">The authors contributed equally.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p"><span id="id1.id1.1" class="ltx_text">With the growing availability of smart devices and cloud services, personal speech assistance systems are increasingly used on a daily basis.
Most devices redirect the voice recordings to a central server, which uses them for upgrading the recognizer model.
This leads to major privacy concerns, since private data could be misused by the server or third parties.
Federated learning is a decentralized optimization strategy that has been proposed to address such concerns.
Utilizing this approach, private data is used for on-device training.
Afterwards, updated model parameters are sent to the server to improve the global model, which is redistributed to the clients.
In this work, we implement federated learning for speech recognition in a hybrid and an end-to-end model.
We discuss the outcomes of these systems, which both show great similarities and only small improvements, pointing to a need for a deeper understanding of federated learning for speech recognition.</span></p>
</div>
<div id="p1" class="ltx_para ltx_noindent">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold">Index Terms</span>: speech recognition, privacy, federated learning, end-to-end models, hybrid ASR</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">In order to obtain training data that is optimally matched to the typical use cases and application environments of automatic speech recognition (ASR) systems, data of the users is sent to a central server.
In many commercial applications, like Amazon’s Alexa, user speech recordings are decoded on a central server, where the service provider can incorporate the speech samples into their training and testing datasets.
This practice leads to massive datasets, spanning all kinds of different user characteristics and environments, which can be utilized to train highly optimized recognizer models.
</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In terms of privacy, this process also enables companies—or anyone, who may be able to access their data collections—to extract highly sensitive information about their users, such as identity, language, gender, personal conversation content and even emotional and health status. For example, in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, the speaker's age,
height and weight information are extracted from the audio signal.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><object type="image/svg+xml" data="/html/2109.15108/assets/parts/FL.svg" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="250" height="250"></object>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>In a federated learning setup, no user data is transmitted to the central server. Instead, the server rolls out a model to the users, which is then updated locally and sent back to the server. The server calculates an updated model and repeats the cycle.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">This leads directly into a dilemma: while big-data-driven AI shows exciting results in many different areas, centralized data processing leads to concerns about the security and the privacy of such systems and is not in line with the privacy-by-design principle stipulated in the European Union General Data Protection Regulation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. To counter this dilemma, the technique of federated learning (FL), as proposed by H. Brendan McMahan, et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, can be used.
The goal is to learn machine-learning models on data gathered on multiple private devices, while at the same time keeping all this re-training data private. For this purpose, federated learning proposes a decentralized optimization process. As shown in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, in this way, it ensures user privacy by training on any private data locally, on-device, instead of sending private data to central servers. Each of the clients that are involved in re-training then sends a retrained model to the central server, and the central server updates its global model based on these user models, while all the clients’ private data is kept on-device. In an optimal setup, the clients and the central server keep an appropriate communication frequency, maintaining a balance between communication cost and model performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In recent years, federated learning was applied successfully in many different tasks. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, federated learning is used in wake-word detection for a digital assistant. Federated learning was also applied in speech emotion detection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, federated learning is used for mobile keyboard prediction. Another example is in the medical area, where more and more data is available from hospitals, clinics, or patients, but strict privacy requirements limit its use. In this situation, federated learning promises a compromise that maintains privacy while allowing to improve the quality of healthcare through big-data-driven AI <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">There are a few prior works on federated learning for large-vocabulary ASR. For example, in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, federated learning is applied with an end-to-end (E2E) model on the French set of the Common Voice dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, an RNN-T architecture ASR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> is used on the LibriSpeech corpus, and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> applies FL to a hybrid ASR model. Additionally, in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> Dimitriadis et.al. introduce a federated learning setup for ASR based on an end-to-end system.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In this paper, we directly compare the federated learning performance of two widely used ASR model types, i.e. hybrid ASR based on the Pytorch-Kaldi system <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> and the E2E transformer/CTC model, trained via ESPnet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. We use the Librispeech corpus <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> for all experiments, which contains <math id="S1.p6.1.m1.1" class="ltx_Math" alttext="960\,\mathrm{h}" display="inline"><semantics id="S1.p6.1.m1.1a"><mrow id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml"><mn id="S1.p6.1.m1.1.1.2" xref="S1.p6.1.m1.1.1.2.cmml">960</mn><mo lspace="0.110em" rspace="0em" id="S1.p6.1.m1.1.1.1" xref="S1.p6.1.m1.1.1.1.cmml">​</mo><mi class="ltx_unit" mathvariant="normal" id="S1.p6.1.m1.1.1.3" xref="S1.p6.1.m1.1.1.3.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b"><apply id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1"><times id="S1.p6.1.m1.1.1.1.cmml" xref="S1.p6.1.m1.1.1.1"></times><cn type="integer" id="S1.p6.1.m1.1.1.2.cmml" xref="S1.p6.1.m1.1.1.2">960</cn><ci id="S1.p6.1.m1.1.1.3.cmml" xref="S1.p6.1.m1.1.1.3">h</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">960\,\mathrm{h}</annotation></semantics></math> of speech data from 2484 speakers. Specifically, we consider a use case, where every client node only possesses data of one speaker, although scenarios with multiple speakers per client are conceivable (e.g. cross-silo federated learning in <cite class="ltx_cite ltx_citemacro_citep">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>).</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">We compare the performance and the communication cost of a number of federated learning strategies with different client-server communication frequencies and different model update strategies, finding that despite their large differences in approach and implementation, hybrid and E2E models show similar behavior, which raises the important question of how to achieve effective, decentralized learning in sequence-labeling tasks in general and ASR, specifically. To allow for easy reproducibility, we are also releasing the script that generates this dataset, as well as our training and test recipes<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://github.com/rub-ksv/Federated-learning-ASR" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/rub-ksv/Federated-learning-ASR</a></span></span></span>.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">The paper is organized as follows: The idea of federated learning and the different update strategies are detailed in Section <a href="#S2" title="2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, followed by a brief introduction to the PyTorch-Kaldi and ESPnet models. Section <a href="#S3" title="3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> describes our reorganization of the Librispeech dataset, which allows us to evaluate FL strategies in a meaningful manner. We present the results in Section <a href="#S4" title="4 Results ‣ 3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and discuss the outcomes and the questions that they raise in Section <a href="#S5" title="5 Conclusions ‣ 4.2 End-to-end learning ‣ 4 Results ‣ 3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>System overview</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">In this section, we take a look at federated averaging in general. Our experiments rely on two ASR toolkits, PyTorch-Kaldi and ESPnet. Hence we give a short introduction to both frameworks and describe our training configurations for both.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Federated averaging</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.2" class="ltx_p">Federated averaging (<span id="S2.SS1.p1.2.1" class="ltx_text ltx_font_italic">FedAvg</span>) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> is a central algorithmic step in federated learning. As shown in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, a pretrained model <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="\mathbf{W}^{0}" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><msup id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.2.cmml">𝐖</mi><mn id="S2.SS1.p1.1.m1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><apply id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">superscript</csymbol><ci id="S2.SS1.p1.1.m1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.2">𝐖</ci><cn type="integer" id="S2.SS1.p1.1.m1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\mathbf{W}^{0}</annotation></semantics></math> initializes all clients at the beginning of the learning process.
This is followed by an iterative optimization loop, which contains two steps per round:
the first step is the local optimization, which is performed by each client.
Each client’s model is initialized by the previous global model <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="\mathbf{W}^{i-1}" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><msup id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><mi id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml">𝐖</mi><mrow id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml"><mi id="S2.SS1.p1.2.m2.1.1.3.2" xref="S2.SS1.p1.2.m2.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p1.2.m2.1.1.3.1" xref="S2.SS1.p1.2.m2.1.1.3.1.cmml">−</mo><mn id="S2.SS1.p1.2.m2.1.1.3.3" xref="S2.SS1.p1.2.m2.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">superscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2">𝐖</ci><apply id="S2.SS1.p1.2.m2.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3"><minus id="S2.SS1.p1.2.m2.1.1.3.1.cmml" xref="S2.SS1.p1.2.m2.1.1.3.1"></minus><ci id="S2.SS1.p1.2.m2.1.1.3.2.cmml" xref="S2.SS1.p1.2.m2.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS1.p1.2.m2.1.1.3.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">\mathbf{W}^{i-1}</annotation></semantics></math>. To obtain the new client-side local model, each client updates their model with their own private dataset, which is kept on-device.
The second step is the <span id="S2.SS1.p1.2.2" class="ltx_text ltx_font_italic">FedAvg</span> step, which is applied over all selected client models.
The averaged model is considered as the new global model in the next round.
In contrast to other works, averaging the accumulated gradient updates (e.g <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>), we directly average the model parameters at the end of each round, which leads to the same outcome with an easier implementation:</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<table id="S2.E1" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S2.E1X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S2.E1X.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle\mathbf{W}^{i}" display="inline"><semantics id="S2.E1X.2.1.1.m1.1a"><msup id="S2.E1X.2.1.1.m1.1.1" xref="S2.E1X.2.1.1.m1.1.1.cmml"><mi id="S2.E1X.2.1.1.m1.1.1.2" xref="S2.E1X.2.1.1.m1.1.1.2.cmml">𝐖</mi><mi id="S2.E1X.2.1.1.m1.1.1.3" xref="S2.E1X.2.1.1.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S2.E1X.2.1.1.m1.1b"><apply id="S2.E1X.2.1.1.m1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.E1X.2.1.1.m1.1.1.1.cmml" xref="S2.E1X.2.1.1.m1.1.1">superscript</csymbol><ci id="S2.E1X.2.1.1.m1.1.1.2.cmml" xref="S2.E1X.2.1.1.m1.1.1.2">𝐖</ci><ci id="S2.E1X.2.1.1.m1.1.1.3.cmml" xref="S2.E1X.2.1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.2.1.1.m1.1c">\displaystyle\mathbf{W}^{i}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E1X.3.2.2.m1.1" class="ltx_Math" alttext="\displaystyle=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i}_{n}" display="inline"><semantics id="S2.E1X.3.2.2.m1.1a"><mrow id="S2.E1X.3.2.2.m1.1.1" xref="S2.E1X.3.2.2.m1.1.1.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.2" xref="S2.E1X.3.2.2.m1.1.1.2.cmml"></mi><mo id="S2.E1X.3.2.2.m1.1.1.1" xref="S2.E1X.3.2.2.m1.1.1.1.cmml">=</mo><mrow id="S2.E1X.3.2.2.m1.1.1.3" xref="S2.E1X.3.2.2.m1.1.1.3.cmml"><mstyle displaystyle="true" id="S2.E1X.3.2.2.m1.1.1.3.1" xref="S2.E1X.3.2.2.m1.1.1.3.1.cmml"><munder id="S2.E1X.3.2.2.m1.1.1.3.1a" xref="S2.E1X.3.2.2.m1.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E1X.3.2.2.m1.1.1.3.1.2" xref="S2.E1X.3.2.2.m1.1.1.3.1.2.cmml">∑</mo><mi id="S2.E1X.3.2.2.m1.1.1.3.1.3" xref="S2.E1X.3.2.2.m1.1.1.3.1.3.cmml">n</mi></munder></mstyle><mrow id="S2.E1X.3.2.2.m1.1.1.3.2" xref="S2.E1X.3.2.2.m1.1.1.3.2.cmml"><msub id="S2.E1X.3.2.2.m1.1.1.3.2.2" xref="S2.E1X.3.2.2.m1.1.1.3.2.2.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.3.2.2.2" xref="S2.E1X.3.2.2.m1.1.1.3.2.2.2.cmml">α</mi><mi id="S2.E1X.3.2.2.m1.1.1.3.2.2.3" xref="S2.E1X.3.2.2.m1.1.1.3.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E1X.3.2.2.m1.1.1.3.2.1" xref="S2.E1X.3.2.2.m1.1.1.3.2.1.cmml">⋅</mo><msubsup id="S2.E1X.3.2.2.m1.1.1.3.2.3" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.cmml"><mi id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.2" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.2.2.cmml">𝐖</mi><mi id="S2.E1X.3.2.2.m1.1.1.3.2.3.3" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.3.cmml">n</mi><mi id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.3" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.2.3.cmml">i</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1X.3.2.2.m1.1b"><apply id="S2.E1X.3.2.2.m1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1"><eq id="S2.E1X.3.2.2.m1.1.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1X.3.2.2.m1.1.1.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.2">absent</csymbol><apply id="S2.E1X.3.2.2.m1.1.1.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3"><apply id="S2.E1X.3.2.2.m1.1.1.3.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.3.1.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.1">subscript</csymbol><sum id="S2.E1X.3.2.2.m1.1.1.3.1.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.1.2"></sum><ci id="S2.E1X.3.2.2.m1.1.1.3.1.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.1.3">𝑛</ci></apply><apply id="S2.E1X.3.2.2.m1.1.1.3.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2"><ci id="S2.E1X.3.2.2.m1.1.1.3.2.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.1">⋅</ci><apply id="S2.E1X.3.2.2.m1.1.1.3.2.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.3.2.2.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.2">subscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.3.2.2.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.2.2">𝛼</ci><ci id="S2.E1X.3.2.2.m1.1.1.3.2.2.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.2.3">𝑛</ci></apply><apply id="S2.E1X.3.2.2.m1.1.1.3.2.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.3.2.3.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3">subscript</csymbol><apply id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.1.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3">superscript</csymbol><ci id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.2.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.2.2">𝐖</ci><ci id="S2.E1X.3.2.2.m1.1.1.3.2.3.2.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.2.3">𝑖</ci></apply><ci id="S2.E1X.3.2.2.m1.1.1.3.2.3.3.cmml" xref="S2.E1X.3.2.2.m1.1.1.3.2.3.3">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1X.3.2.2.m1.1c">\displaystyle=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i}_{n}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="3" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
<tr id="S2.E1Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E1Xa.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i-1}+\sum_{n}\alpha_{n}\cdot\Delta\mathbf{W}^{i}_{n}" display="inline"><semantics id="S2.E1Xa.2.1.1.m1.1a"><mrow id="S2.E1Xa.2.1.1.m1.1.1" xref="S2.E1Xa.2.1.1.m1.1.1.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.2" xref="S2.E1Xa.2.1.1.m1.1.1.2.cmml"></mi><mo id="S2.E1Xa.2.1.1.m1.1.1.1" xref="S2.E1Xa.2.1.1.m1.1.1.1.cmml">=</mo><mrow id="S2.E1Xa.2.1.1.m1.1.1.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.cmml"><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.cmml"><mstyle displaystyle="true" id="S2.E1Xa.2.1.1.m1.1.1.3.2.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.cmml"><munder id="S2.E1Xa.2.1.1.m1.1.1.3.2.1a" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.cmml"><mo movablelimits="false" id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.2.cmml">∑</mo><mi id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.3.cmml">n</mi></munder></mstyle><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.cmml"><msub id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.2.cmml">α</mi><mi id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.1.cmml">⋅</mo><msup id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.2.cmml">𝐖</mi><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.2.cmml">i</mi><mo id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.1.cmml">−</mo><mn id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.3.cmml">1</mn></mrow></msup></mrow></mrow><mo id="S2.E1Xa.2.1.1.m1.1.1.3.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.1.cmml">+</mo><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.cmml"><mstyle displaystyle="true" id="S2.E1Xa.2.1.1.m1.1.1.3.3.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.cmml"><munder id="S2.E1Xa.2.1.1.m1.1.1.3.3.1a" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.cmml"><mo movablelimits="false" id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.2.cmml">∑</mo><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.3.cmml">n</mi></munder></mstyle><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.3.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.cmml"><mrow id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.cmml"><msub id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.2.cmml">α</mi><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.1.cmml">⋅</mo><mi mathvariant="normal" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.3.cmml">Δ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.1" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.1.cmml">​</mo><msubsup id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.cmml"><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.2" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.2.cmml">𝐖</mi><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.3.cmml">n</mi><mi id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.3" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.3.cmml">i</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xa.2.1.1.m1.1b"><apply id="S2.E1Xa.2.1.1.m1.1.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1"><eq id="S2.E1Xa.2.1.1.m1.1.1.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1Xa.2.1.1.m1.1.1.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.2">absent</csymbol><apply id="S2.E1Xa.2.1.1.m1.1.1.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3"><plus id="S2.E1Xa.2.1.1.m1.1.1.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.1"></plus><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2"><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1">subscript</csymbol><sum id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.2"></sum><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.1.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.1.3">𝑛</ci></apply><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2"><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.1">⋅</ci><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2">subscript</csymbol><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.2">𝛼</ci><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.2.3">𝑛</ci></apply><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3">superscript</csymbol><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.2">𝐖</ci><apply id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3"><minus id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.1"></minus><ci id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.2">𝑖</ci><cn type="integer" id="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.2.2.3.3.3">1</cn></apply></apply></apply></apply><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3"><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1">subscript</csymbol><sum id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.2"></sum><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.1.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.1.3">𝑛</ci></apply><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2"><times id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.1"></times><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2"><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.1">⋅</ci><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2">subscript</csymbol><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.2">𝛼</ci><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.2.3">𝑛</ci></apply><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.2.3">Δ</ci></apply><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3">subscript</csymbol><apply id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.1.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3">superscript</csymbol><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.2.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.2">𝐖</ci><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.2.3">𝑖</ci></apply><ci id="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.3.cmml" xref="S2.E1Xa.2.1.1.m1.1.1.3.3.2.3.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xa.2.1.1.m1.1c">\displaystyle=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i-1}+\sum_{n}\alpha_{n}\cdot\Delta\mathbf{W}^{i}_{n}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr id="S2.E1Xb" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S2.E1Xb.2.1.1.m1.1" class="ltx_Math" alttext="\displaystyle=\mathbf{W}^{i-1}+\sum_{n}\alpha_{n}\cdot\Delta\mathbf{W}^{i}_{n}," display="inline"><semantics id="S2.E1Xb.2.1.1.m1.1a"><mrow id="S2.E1Xb.2.1.1.m1.1.1.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.cmml"><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.cmml"><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.2.cmml"></mi><mo id="S2.E1Xb.2.1.1.m1.1.1.1.1.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.cmml"><msup id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.cmml"><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.2.cmml">𝐖</mi><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.2.cmml">i</mi><mo id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.1.cmml">−</mo><mn id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.3.cmml">1</mn></mrow></msup><mo id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.cmml"><mstyle displaystyle="true" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.cmml"><munder id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1a" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.cmml"><mo movablelimits="false" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.2.cmml">∑</mo><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.3.cmml">n</mi></munder></mstyle><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.cmml"><mrow id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.cmml"><msub id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.cmml"><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.2.cmml">α</mi><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.1.cmml">⋅</mo><mi mathvariant="normal" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.3.cmml">Δ</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.1" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.1.cmml">​</mo><msubsup id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.cmml"><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.2.cmml">𝐖</mi><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.3.cmml">n</mi><mi id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.3" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.3.cmml">i</mi></msubsup></mrow></mrow></mrow></mrow><mo id="S2.E1Xb.2.1.1.m1.1.1.1.2" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1Xb.2.1.1.m1.1b"><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1"><eq id="S2.E1Xb.2.1.1.m1.1.1.1.1.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S2.E1Xb.2.1.1.m1.1.1.1.1.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.2">absent</csymbol><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3"><plus id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.1"></plus><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2">superscript</csymbol><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.2">𝐖</ci><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3"><minus id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.1"></minus><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.2">𝑖</ci><cn type="integer" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.2.3.3">1</cn></apply></apply><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3"><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1">subscript</csymbol><sum id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.2"></sum><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.1.3">𝑛</ci></apply><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2"><times id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.1"></times><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2"><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.1">⋅</ci><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2">subscript</csymbol><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.2">𝛼</ci><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.2.3">𝑛</ci></apply><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.2.3">Δ</ci></apply><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3">subscript</csymbol><apply id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.1.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3">superscript</csymbol><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.2.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.2">𝐖</ci><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.2.3">𝑖</ci></apply><ci id="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.3.cmml" xref="S2.E1Xb.2.1.1.m1.1.1.1.1.3.3.2.3.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1Xb.2.1.1.m1.1c">\displaystyle=\mathbf{W}^{i-1}+\sum_{n}\alpha_{n}\cdot\Delta\mathbf{W}^{i}_{n},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p id="S2.SS1.p2.4" class="ltx_p">where <math id="S2.SS1.p2.1.m1.1" class="ltx_Math" alttext="\alpha_{n}" display="inline"><semantics id="S2.SS1.p2.1.m1.1a"><msub id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml"><mi id="S2.SS1.p2.1.m1.1.1.2" xref="S2.SS1.p2.1.m1.1.1.2.cmml">α</mi><mi id="S2.SS1.p2.1.m1.1.1.3" xref="S2.SS1.p2.1.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><apply id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.1.m1.1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p2.1.m1.1.1.2.cmml" xref="S2.SS1.p2.1.m1.1.1.2">𝛼</ci><ci id="S2.SS1.p2.1.m1.1.1.3.cmml" xref="S2.SS1.p2.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">\alpha_{n}</annotation></semantics></math> are the <span id="S2.SS1.p2.4.1" class="ltx_text ltx_font_italic">FedAvg</span> weights described in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and
<math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="\Delta\mathbf{W}^{i}_{n}" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><mrow id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml"><mi mathvariant="normal" id="S2.SS1.p2.2.m2.1.1.2" xref="S2.SS1.p2.2.m2.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p2.2.m2.1.1.1" xref="S2.SS1.p2.2.m2.1.1.1.cmml">​</mo><msubsup id="S2.SS1.p2.2.m2.1.1.3" xref="S2.SS1.p2.2.m2.1.1.3.cmml"><mi id="S2.SS1.p2.2.m2.1.1.3.2.2" xref="S2.SS1.p2.2.m2.1.1.3.2.2.cmml">𝐖</mi><mi id="S2.SS1.p2.2.m2.1.1.3.3" xref="S2.SS1.p2.2.m2.1.1.3.3.cmml">n</mi><mi id="S2.SS1.p2.2.m2.1.1.3.2.3" xref="S2.SS1.p2.2.m2.1.1.3.2.3.cmml">i</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><apply id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1"><times id="S2.SS1.p2.2.m2.1.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1.1"></times><ci id="S2.SS1.p2.2.m2.1.1.2.cmml" xref="S2.SS1.p2.2.m2.1.1.2">Δ</ci><apply id="S2.SS1.p2.2.m2.1.1.3.cmml" xref="S2.SS1.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m2.1.1.3.1.cmml" xref="S2.SS1.p2.2.m2.1.1.3">subscript</csymbol><apply id="S2.SS1.p2.2.m2.1.1.3.2.cmml" xref="S2.SS1.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m2.1.1.3.2.1.cmml" xref="S2.SS1.p2.2.m2.1.1.3">superscript</csymbol><ci id="S2.SS1.p2.2.m2.1.1.3.2.2.cmml" xref="S2.SS1.p2.2.m2.1.1.3.2.2">𝐖</ci><ci id="S2.SS1.p2.2.m2.1.1.3.2.3.cmml" xref="S2.SS1.p2.2.m2.1.1.3.2.3">𝑖</ci></apply><ci id="S2.SS1.p2.2.m2.1.1.3.3.cmml" xref="S2.SS1.p2.2.m2.1.1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">\Delta\mathbf{W}^{i}_{n}</annotation></semantics></math> is the model parameter update for client <math id="S2.SS1.p2.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS1.p2.3.m3.1a"><mi id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b"><ci id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">n</annotation></semantics></math> in the <math id="S2.SS1.p2.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS1.p2.4.m4.1a"><mi id="S2.SS1.p2.4.m4.1.1" xref="S2.SS1.p2.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.1b"><ci id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.1c">i</annotation></semantics></math>-th iteration.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.1" class="ltx_p">In Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, the federated learning round can be performed with different communication frequencies. We have identified the following levels for defining these:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.2" class="ltx_p"><span id="S2.I1.i1.p1.2.1" class="ltx_text ltx_font_bold">Batch-level (B)</span>: The communication is always performed after <math id="S2.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.I1.i1.p1.1.m1.1a"><mi id="S2.I1.i1.p1.1.m1.1.1" xref="S2.I1.i1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.1.m1.1b"><ci id="S2.I1.i1.p1.1.m1.1.1.cmml" xref="S2.I1.i1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.1.m1.1c">K</annotation></semantics></math> mini-batches. In every communication round, the selected client examines whether there are untrained utterances for this epoch. If the untrained utterances of the current speaker do not suffice for <math id="S2.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.I1.i1.p1.2.m2.1a"><mi id="S2.I1.i1.p1.2.m2.1.1" xref="S2.I1.i1.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i1.p1.2.m2.1b"><ci id="S2.I1.i1.p1.2.m2.1.1.cmml" xref="S2.I1.i1.p1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i1.p1.2.m2.1c">K</annotation></semantics></math> mini-batches, the batch size is reduced. The client stops sending a new model, when there is no more training data in the current epoch.
After an epoch is completed, a new round begins with the complete set of clients participating again.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><span id="S2.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Epoch-level (E)</span>: the update is performed with the selected clients’ models after every epoch.
In the ESPnet setup, we can select all client models for the <span id="S2.I1.i2.p1.1.2" class="ltx_text ltx_font_italic">FedAvg</span> update, or alternatively, we can randomly select <math id="S2.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.I1.i2.p1.1.m1.1a"><mi id="S2.I1.i2.p1.1.m1.1.1" xref="S2.I1.i2.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.I1.i2.p1.1.m1.1b"><ci id="S2.I1.i2.p1.1.m1.1.1.cmml" xref="S2.I1.i2.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I1.i2.p1.1.m1.1c">N</annotation></semantics></math> client models for updating. In PyTorch-Kaldi, we can also perform updates after a fixed fraction of an epoch.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><span id="S2.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Convergence-level (C)</span>: there is only one update, which is performed with the selected clients’ final models, after convergence.
</p>
</div>
</li>
</ul>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.1" class="ltx_p">The <span id="S2.SS1.p4.1.1" class="ltx_text ltx_font_italic">FedAvg</span> weights <math id="S2.SS1.p4.1.m1.1" class="ltx_Math" alttext="\alpha_{n}" display="inline"><semantics id="S2.SS1.p4.1.m1.1a"><msub id="S2.SS1.p4.1.m1.1.1" xref="S2.SS1.p4.1.m1.1.1.cmml"><mi id="S2.SS1.p4.1.m1.1.1.2" xref="S2.SS1.p4.1.m1.1.1.2.cmml">α</mi><mi id="S2.SS1.p4.1.m1.1.1.3" xref="S2.SS1.p4.1.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.1b"><apply id="S2.SS1.p4.1.m1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p4.1.m1.1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p4.1.m1.1.1.2.cmml" xref="S2.SS1.p4.1.m1.1.1.2">𝛼</ci><ci id="S2.SS1.p4.1.m1.1.1.3.cmml" xref="S2.SS1.p4.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.1c">\alpha_{n}</annotation></semantics></math> in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> can be defined as:</p>
<ul id="S2.I2" class="ltx_itemize">
<li id="S2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i1.p1" class="ltx_para">
<p id="S2.I2.i1.p1.2" class="ltx_p"><span id="S2.I2.i1.p1.2.1" class="ltx_text ltx_font_bold">Mean (M)</span>: <math id="S2.I2.i1.p1.1.m1.1" class="ltx_Math" alttext="\alpha_{n}=\frac{1}{N}" display="inline"><semantics id="S2.I2.i1.p1.1.m1.1a"><mrow id="S2.I2.i1.p1.1.m1.1.1" xref="S2.I2.i1.p1.1.m1.1.1.cmml"><msub id="S2.I2.i1.p1.1.m1.1.1.2" xref="S2.I2.i1.p1.1.m1.1.1.2.cmml"><mi id="S2.I2.i1.p1.1.m1.1.1.2.2" xref="S2.I2.i1.p1.1.m1.1.1.2.2.cmml">α</mi><mi id="S2.I2.i1.p1.1.m1.1.1.2.3" xref="S2.I2.i1.p1.1.m1.1.1.2.3.cmml">n</mi></msub><mo id="S2.I2.i1.p1.1.m1.1.1.1" xref="S2.I2.i1.p1.1.m1.1.1.1.cmml">=</mo><mfrac id="S2.I2.i1.p1.1.m1.1.1.3" xref="S2.I2.i1.p1.1.m1.1.1.3.cmml"><mn id="S2.I2.i1.p1.1.m1.1.1.3.2" xref="S2.I2.i1.p1.1.m1.1.1.3.2.cmml">1</mn><mi id="S2.I2.i1.p1.1.m1.1.1.3.3" xref="S2.I2.i1.p1.1.m1.1.1.3.3.cmml">N</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.I2.i1.p1.1.m1.1b"><apply id="S2.I2.i1.p1.1.m1.1.1.cmml" xref="S2.I2.i1.p1.1.m1.1.1"><eq id="S2.I2.i1.p1.1.m1.1.1.1.cmml" xref="S2.I2.i1.p1.1.m1.1.1.1"></eq><apply id="S2.I2.i1.p1.1.m1.1.1.2.cmml" xref="S2.I2.i1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.I2.i1.p1.1.m1.1.1.2.1.cmml" xref="S2.I2.i1.p1.1.m1.1.1.2">subscript</csymbol><ci id="S2.I2.i1.p1.1.m1.1.1.2.2.cmml" xref="S2.I2.i1.p1.1.m1.1.1.2.2">𝛼</ci><ci id="S2.I2.i1.p1.1.m1.1.1.2.3.cmml" xref="S2.I2.i1.p1.1.m1.1.1.2.3">𝑛</ci></apply><apply id="S2.I2.i1.p1.1.m1.1.1.3.cmml" xref="S2.I2.i1.p1.1.m1.1.1.3"><divide id="S2.I2.i1.p1.1.m1.1.1.3.1.cmml" xref="S2.I2.i1.p1.1.m1.1.1.3"></divide><cn type="integer" id="S2.I2.i1.p1.1.m1.1.1.3.2.cmml" xref="S2.I2.i1.p1.1.m1.1.1.3.2">1</cn><ci id="S2.I2.i1.p1.1.m1.1.1.3.3.cmml" xref="S2.I2.i1.p1.1.m1.1.1.3.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i1.p1.1.m1.1c">\alpha_{n}=\frac{1}{N}</annotation></semantics></math>, where <math id="S2.I2.i1.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.I2.i1.p1.2.m2.1a"><mi id="S2.I2.i1.p1.2.m2.1.1" xref="S2.I2.i1.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i1.p1.2.m2.1b"><ci id="S2.I2.i1.p1.2.m2.1.1.cmml" xref="S2.I2.i1.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i1.p1.2.m2.1c">N</annotation></semantics></math> is the number of the selected clients.</p>
</div>
</li>
<li id="S2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I2.i2.p1" class="ltx_para">
<p id="S2.I2.i2.p1.3" class="ltx_p"><span id="S2.I2.i2.p1.3.1" class="ltx_text ltx_font_bold">Weighted (W)</span>: <math id="S2.I2.i2.p1.1.m1.2" class="ltx_Math" alttext="\alpha_{n}=\frac{|\textbf{D}_{n}|}{\sum_{i}|\textbf{D}_{i}|}" display="inline"><semantics id="S2.I2.i2.p1.1.m1.2a"><mrow id="S2.I2.i2.p1.1.m1.2.3" xref="S2.I2.i2.p1.1.m1.2.3.cmml"><msub id="S2.I2.i2.p1.1.m1.2.3.2" xref="S2.I2.i2.p1.1.m1.2.3.2.cmml"><mi id="S2.I2.i2.p1.1.m1.2.3.2.2" xref="S2.I2.i2.p1.1.m1.2.3.2.2.cmml">α</mi><mi id="S2.I2.i2.p1.1.m1.2.3.2.3" xref="S2.I2.i2.p1.1.m1.2.3.2.3.cmml">n</mi></msub><mo id="S2.I2.i2.p1.1.m1.2.3.1" xref="S2.I2.i2.p1.1.m1.2.3.1.cmml">=</mo><mfrac id="S2.I2.i2.p1.1.m1.2.2" xref="S2.I2.i2.p1.1.m1.2.2.cmml"><mrow id="S2.I2.i2.p1.1.m1.1.1.1.1" xref="S2.I2.i2.p1.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S2.I2.i2.p1.1.m1.1.1.1.1.2" xref="S2.I2.i2.p1.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S2.I2.i2.p1.1.m1.1.1.1.1.1" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.I2.i2.p1.1.m1.1.1.1.1.1.2" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.2a.cmml">D</mtext><mi id="S2.I2.i2.p1.1.m1.1.1.1.1.1.3" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.3.cmml">n</mi></msub><mo stretchy="false" id="S2.I2.i2.p1.1.m1.1.1.1.1.3" xref="S2.I2.i2.p1.1.m1.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S2.I2.i2.p1.1.m1.2.2.2" xref="S2.I2.i2.p1.1.m1.2.2.2.cmml"><mstyle displaystyle="false" id="S2.I2.i2.p1.1.m1.2.2.2.2" xref="S2.I2.i2.p1.1.m1.2.2.2.2.cmml"><msub id="S2.I2.i2.p1.1.m1.2.2.2.2a" xref="S2.I2.i2.p1.1.m1.2.2.2.2.cmml"><mo id="S2.I2.i2.p1.1.m1.2.2.2.2.2" xref="S2.I2.i2.p1.1.m1.2.2.2.2.2.cmml">∑</mo><mi id="S2.I2.i2.p1.1.m1.2.2.2.2.3" xref="S2.I2.i2.p1.1.m1.2.2.2.2.3.cmml">i</mi></msub></mstyle><mrow id="S2.I2.i2.p1.1.m1.2.2.2.1.1" xref="S2.I2.i2.p1.1.m1.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.I2.i2.p1.1.m1.2.2.2.1.1.2" xref="S2.I2.i2.p1.1.m1.2.2.2.1.2.1.cmml">|</mo><msub id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2a.cmml">D</mtext><mi id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.3" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.I2.i2.p1.1.m1.2.2.2.1.1.3" xref="S2.I2.i2.p1.1.m1.2.2.2.1.2.1.cmml">|</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.I2.i2.p1.1.m1.2b"><apply id="S2.I2.i2.p1.1.m1.2.3.cmml" xref="S2.I2.i2.p1.1.m1.2.3"><eq id="S2.I2.i2.p1.1.m1.2.3.1.cmml" xref="S2.I2.i2.p1.1.m1.2.3.1"></eq><apply id="S2.I2.i2.p1.1.m1.2.3.2.cmml" xref="S2.I2.i2.p1.1.m1.2.3.2"><csymbol cd="ambiguous" id="S2.I2.i2.p1.1.m1.2.3.2.1.cmml" xref="S2.I2.i2.p1.1.m1.2.3.2">subscript</csymbol><ci id="S2.I2.i2.p1.1.m1.2.3.2.2.cmml" xref="S2.I2.i2.p1.1.m1.2.3.2.2">𝛼</ci><ci id="S2.I2.i2.p1.1.m1.2.3.2.3.cmml" xref="S2.I2.i2.p1.1.m1.2.3.2.3">𝑛</ci></apply><apply id="S2.I2.i2.p1.1.m1.2.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2"><divide id="S2.I2.i2.p1.1.m1.2.2.3.cmml" xref="S2.I2.i2.p1.1.m1.2.2"></divide><apply id="S2.I2.i2.p1.1.m1.1.1.1.2.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1"><abs id="S2.I2.i2.p1.1.m1.1.1.1.2.1.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.2"></abs><apply id="S2.I2.i2.p1.1.m1.1.1.1.1.1.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.I2.i2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.I2.i2.p1.1.m1.1.1.1.1.1.2a.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" mathsize="70%" id="S2.I2.i2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.2">D</mtext></ci><ci id="S2.I2.i2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S2.I2.i2.p1.1.m1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S2.I2.i2.p1.1.m1.2.2.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2"><apply id="S2.I2.i2.p1.1.m1.2.2.2.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.I2.i2.p1.1.m1.2.2.2.2.1.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.2">subscript</csymbol><sum id="S2.I2.i2.p1.1.m1.2.2.2.2.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.2.2"></sum><ci id="S2.I2.i2.p1.1.m1.2.2.2.2.3.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.2.3">𝑖</ci></apply><apply id="S2.I2.i2.p1.1.m1.2.2.2.1.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1"><abs id="S2.I2.i2.p1.1.m1.2.2.2.1.2.1.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.2"></abs><apply id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.1.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1">subscript</csymbol><ci id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2a.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2"><mtext class="ltx_mathvariant_bold" mathsize="70%" id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.2">D</mtext></ci><ci id="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.3.cmml" xref="S2.I2.i2.p1.1.m1.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i2.p1.1.m1.2c">\alpha_{n}=\frac{|\textbf{D}_{n}|}{\sum_{i}|\textbf{D}_{i}|}</annotation></semantics></math>, where <math id="S2.I2.i2.p1.2.m2.1" class="ltx_Math" alttext="|\textbf{D}_{n}|" display="inline"><semantics id="S2.I2.i2.p1.2.m2.1a"><mrow id="S2.I2.i2.p1.2.m2.1.1.1" xref="S2.I2.i2.p1.2.m2.1.1.2.cmml"><mo stretchy="false" id="S2.I2.i2.p1.2.m2.1.1.1.2" xref="S2.I2.i2.p1.2.m2.1.1.2.1.cmml">|</mo><msub id="S2.I2.i2.p1.2.m2.1.1.1.1" xref="S2.I2.i2.p1.2.m2.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.I2.i2.p1.2.m2.1.1.1.1.2" xref="S2.I2.i2.p1.2.m2.1.1.1.1.2a.cmml">D</mtext><mi id="S2.I2.i2.p1.2.m2.1.1.1.1.3" xref="S2.I2.i2.p1.2.m2.1.1.1.1.3.cmml">n</mi></msub><mo stretchy="false" id="S2.I2.i2.p1.2.m2.1.1.1.3" xref="S2.I2.i2.p1.2.m2.1.1.2.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.I2.i2.p1.2.m2.1b"><apply id="S2.I2.i2.p1.2.m2.1.1.2.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1"><abs id="S2.I2.i2.p1.2.m2.1.1.2.1.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.2"></abs><apply id="S2.I2.i2.p1.2.m2.1.1.1.1.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.I2.i2.p1.2.m2.1.1.1.1.1.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S2.I2.i2.p1.2.m2.1.1.1.1.2a.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S2.I2.i2.p1.2.m2.1.1.1.1.2.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.1.2">D</mtext></ci><ci id="S2.I2.i2.p1.2.m2.1.1.1.1.3.cmml" xref="S2.I2.i2.p1.2.m2.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i2.p1.2.m2.1c">|\textbf{D}_{n}|</annotation></semantics></math> is the number of utterances of the client-side dataset for client <math id="S2.I2.i2.p1.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.I2.i2.p1.3.m3.1a"><mi id="S2.I2.i2.p1.3.m3.1.1" xref="S2.I2.i2.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i2.p1.3.m3.1b"><ci id="S2.I2.i2.p1.3.m3.1.1.cmml" xref="S2.I2.i2.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i2.p1.3.m3.1c">n</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.14.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated averaging. There are <math id="alg1.7.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.7.m1.1b"><mi id="alg1.7.m1.1.1" xref="alg1.7.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.7.m1.1c"><ci id="alg1.7.m1.1.1.cmml" xref="alg1.7.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.m1.1d">N</annotation></semantics></math> clients. The initial dataset is <math id="alg1.8.m2.1" class="ltx_Math" alttext="\textbf{D}_{0}" display="inline"><semantics id="alg1.8.m2.1b"><msub id="alg1.8.m2.1.1" xref="alg1.8.m2.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.8.m2.1.1.2" xref="alg1.8.m2.1.1.2a.cmml">D</mtext><mn id="alg1.8.m2.1.1.3" xref="alg1.8.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.8.m2.1c"><apply id="alg1.8.m2.1.1.cmml" xref="alg1.8.m2.1.1"><csymbol cd="ambiguous" id="alg1.8.m2.1.1.1.cmml" xref="alg1.8.m2.1.1">subscript</csymbol><ci id="alg1.8.m2.1.1.2a.cmml" xref="alg1.8.m2.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.8.m2.1.1.2.cmml" xref="alg1.8.m2.1.1.2">D</mtext></ci><cn type="integer" id="alg1.8.m2.1.1.3.cmml" xref="alg1.8.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.m2.1d">\textbf{D}_{0}</annotation></semantics></math>. The federated learning training-set <math id="alg1.9.m3.1" class="ltx_Math" alttext="\textbf{T}^{i}_{n}" display="inline"><semantics id="alg1.9.m3.1b"><msubsup id="alg1.9.m3.1.1" xref="alg1.9.m3.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.9.m3.1.1.2.2" xref="alg1.9.m3.1.1.2.2a.cmml">T</mtext><mi id="alg1.9.m3.1.1.3" xref="alg1.9.m3.1.1.3.cmml">n</mi><mi id="alg1.9.m3.1.1.2.3" xref="alg1.9.m3.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.9.m3.1c"><apply id="alg1.9.m3.1.1.cmml" xref="alg1.9.m3.1.1"><csymbol cd="ambiguous" id="alg1.9.m3.1.1.1.cmml" xref="alg1.9.m3.1.1">subscript</csymbol><apply id="alg1.9.m3.1.1.2.cmml" xref="alg1.9.m3.1.1"><csymbol cd="ambiguous" id="alg1.9.m3.1.1.2.1.cmml" xref="alg1.9.m3.1.1">superscript</csymbol><ci id="alg1.9.m3.1.1.2.2a.cmml" xref="alg1.9.m3.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.9.m3.1.1.2.2.cmml" xref="alg1.9.m3.1.1.2.2">T</mtext></ci><ci id="alg1.9.m3.1.1.2.3.cmml" xref="alg1.9.m3.1.1.2.3">𝑖</ci></apply><ci id="alg1.9.m3.1.1.3.cmml" xref="alg1.9.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.m3.1d">\textbf{T}^{i}_{n}</annotation></semantics></math> for client <math id="alg1.10.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg1.10.m4.1b"><mi id="alg1.10.m4.1.1" xref="alg1.10.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg1.10.m4.1c"><ci id="alg1.10.m4.1.1.cmml" xref="alg1.10.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.m4.1d">n</annotation></semantics></math> in round <math id="alg1.11.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.11.m5.1b"><mi id="alg1.11.m5.1.1" xref="alg1.11.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.11.m5.1c"><ci id="alg1.11.m5.1.1.cmml" xref="alg1.11.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.m5.1d">i</annotation></semantics></math> is derived from the complete client-side training set <math id="alg1.12.m6.1" class="ltx_Math" alttext="\textbf{D}_{n}" display="inline"><semantics id="alg1.12.m6.1b"><msub id="alg1.12.m6.1.1" xref="alg1.12.m6.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.12.m6.1.1.2" xref="alg1.12.m6.1.1.2a.cmml">D</mtext><mi id="alg1.12.m6.1.1.3" xref="alg1.12.m6.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.12.m6.1c"><apply id="alg1.12.m6.1.1.cmml" xref="alg1.12.m6.1.1"><csymbol cd="ambiguous" id="alg1.12.m6.1.1.1.cmml" xref="alg1.12.m6.1.1">subscript</csymbol><ci id="alg1.12.m6.1.1.2a.cmml" xref="alg1.12.m6.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.12.m6.1.1.2.cmml" xref="alg1.12.m6.1.1.2">D</mtext></ci><ci id="alg1.12.m6.1.1.3.cmml" xref="alg1.12.m6.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.m6.1d">\textbf{D}_{n}</annotation></semantics></math>.</figcaption>
<div id="alg1.15" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <math id="alg1.l1.m1.1" class="ltx_Math" alttext="\mathbf{W}^{0}" display="inline"><semantics id="alg1.l1.m1.1a"><msup id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mi id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml">𝐖</mi><mn id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1">superscript</csymbol><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">𝐖</ci><cn type="integer" id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\mathbf{W}^{0}</annotation></semantics></math> = <span id="alg1.l1.2" class="ltx_text ltx_font_italic">train_initial_model</span>(<math id="alg1.l1.m2.1" class="ltx_Math" alttext="\textbf{D}_{0}" display="inline"><semantics id="alg1.l1.m2.1a"><msub id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2a.cmml">D</mtext><mn id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">subscript</csymbol><ci id="alg1.l1.m2.1.1.2a.cmml" xref="alg1.l1.m2.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">D</mtext></ci><cn type="integer" id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\textbf{D}_{0}</annotation></semantics></math>)

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>  <span id="alg1.l2.2" class="ltx_text ltx_font_bold">for</span> round <math id="alg1.l2.m1.4" class="ltx_Math" alttext="i\in[1,2,3,\cdots]" display="inline"><semantics id="alg1.l2.m1.4a"><mrow id="alg1.l2.m1.4.5" xref="alg1.l2.m1.4.5.cmml"><mi id="alg1.l2.m1.4.5.2" xref="alg1.l2.m1.4.5.2.cmml">i</mi><mo id="alg1.l2.m1.4.5.1" xref="alg1.l2.m1.4.5.1.cmml">∈</mo><mrow id="alg1.l2.m1.4.5.3.2" xref="alg1.l2.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg1.l2.m1.4.5.3.2.1" xref="alg1.l2.m1.4.5.3.1.cmml">[</mo><mn id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml">1</mn><mo id="alg1.l2.m1.4.5.3.2.2" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml">2</mn><mo id="alg1.l2.m1.4.5.3.2.3" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mn id="alg1.l2.m1.3.3" xref="alg1.l2.m1.3.3.cmml">3</mn><mo id="alg1.l2.m1.4.5.3.2.4" xref="alg1.l2.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.l2.m1.4.4" xref="alg1.l2.m1.4.4.cmml">⋯</mi><mo stretchy="false" id="alg1.l2.m1.4.5.3.2.5" xref="alg1.l2.m1.4.5.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.4b"><apply id="alg1.l2.m1.4.5.cmml" xref="alg1.l2.m1.4.5"><in id="alg1.l2.m1.4.5.1.cmml" xref="alg1.l2.m1.4.5.1"></in><ci id="alg1.l2.m1.4.5.2.cmml" xref="alg1.l2.m1.4.5.2">𝑖</ci><list id="alg1.l2.m1.4.5.3.1.cmml" xref="alg1.l2.m1.4.5.3.2"><cn type="integer" id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1">1</cn><cn type="integer" id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2">2</cn><cn type="integer" id="alg1.l2.m1.3.3.cmml" xref="alg1.l2.m1.3.3">3</cn><ci id="alg1.l2.m1.4.4.cmml" xref="alg1.l2.m1.4.4">⋯</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.4c">i\in[1,2,3,\cdots]</annotation></semantics></math>  <span id="alg1.l2.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="alg1.l3.2" class="ltx_text ltx_font_bold">for</span> client <math id="alg1.l3.m1.1" class="ltx_math_unparsed" alttext="n\in[1..N]" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1b"><mi id="alg1.l3.m1.1.1">n</mi><mo id="alg1.l3.m1.1.2">∈</mo><mrow id="alg1.l3.m1.1.3"><mo stretchy="false" id="alg1.l3.m1.1.3.1">[</mo><mn id="alg1.l3.m1.1.3.2">1</mn><mo lspace="0em" rspace="0.0835em" id="alg1.l3.m1.1.3.3">.</mo><mo lspace="0.0835em" rspace="0.167em" id="alg1.l3.m1.1.3.4">.</mo><mi id="alg1.l3.m1.1.3.5">N</mi><mo stretchy="false" id="alg1.l3.m1.1.3.6">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">n\in[1..N]</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>        <math id="alg1.l4.m1.1" class="ltx_Math" alttext="\mathbf{W}^{i}_{n}" display="inline"><semantics id="alg1.l4.m1.1a"><msubsup id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">𝐖</mi><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">n</mi><mi id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1">subscript</csymbol><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1">superscript</csymbol><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝐖</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑖</ci></apply><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">\mathbf{W}^{i}_{n}</annotation></semantics></math> = <math id="alg1.l4.m2.1" class="ltx_Math" alttext="\mathbf{W}^{i-1}" display="inline"><semantics id="alg1.l4.m2.1a"><msup id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">𝐖</mi><mrow id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml"><mi id="alg1.l4.m2.1.1.3.2" xref="alg1.l4.m2.1.1.3.2.cmml">i</mi><mo id="alg1.l4.m2.1.1.3.1" xref="alg1.l4.m2.1.1.3.1.cmml">−</mo><mn id="alg1.l4.m2.1.1.3.3" xref="alg1.l4.m2.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1">superscript</csymbol><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝐖</ci><apply id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3"><minus id="alg1.l4.m2.1.1.3.1.cmml" xref="alg1.l4.m2.1.1.3.1"></minus><ci id="alg1.l4.m2.1.1.3.2.cmml" xref="alg1.l4.m2.1.1.3.2">𝑖</ci><cn type="integer" id="alg1.l4.m2.1.1.3.3.cmml" xref="alg1.l4.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">\mathbf{W}^{i-1}</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>        <math id="alg1.l5.m1.2" class="ltx_Math" alttext="\textbf{T}^{i}_{n}=\textit{subset}(\textbf{D}_{n},i)" display="inline"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><msubsup id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l5.m1.2.2.3.2.2" xref="alg1.l5.m1.2.2.3.2.2a.cmml">T</mtext><mi id="alg1.l5.m1.2.2.3.3" xref="alg1.l5.m1.2.2.3.3.cmml">n</mi><mi id="alg1.l5.m1.2.2.3.2.3" xref="alg1.l5.m1.2.2.3.2.3.cmml">i</mi></msubsup><mo id="alg1.l5.m1.2.2.2" xref="alg1.l5.m1.2.2.2.cmml">=</mo><mrow id="alg1.l5.m1.2.2.1" xref="alg1.l5.m1.2.2.1.cmml"><mtext class="ltx_mathvariant_italic" id="alg1.l5.m1.2.2.1.3" xref="alg1.l5.m1.2.2.1.3a.cmml">subset</mtext><mo lspace="0em" rspace="0em" id="alg1.l5.m1.2.2.1.2" xref="alg1.l5.m1.2.2.1.2.cmml">​</mo><mrow id="alg1.l5.m1.2.2.1.1.1" xref="alg1.l5.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="alg1.l5.m1.2.2.1.1.1.2" xref="alg1.l5.m1.2.2.1.1.2.cmml">(</mo><msub id="alg1.l5.m1.2.2.1.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l5.m1.2.2.1.1.1.1.2" xref="alg1.l5.m1.2.2.1.1.1.1.2a.cmml">D</mtext><mi id="alg1.l5.m1.2.2.1.1.1.1.3" xref="alg1.l5.m1.2.2.1.1.1.1.3.cmml">n</mi></msub><mo id="alg1.l5.m1.2.2.1.1.1.3" xref="alg1.l5.m1.2.2.1.1.2.cmml">,</mo><mi id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">i</mi><mo stretchy="false" id="alg1.l5.m1.2.2.1.1.1.4" xref="alg1.l5.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><eq id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2"></eq><apply id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.3.1.cmml" xref="alg1.l5.m1.2.2.3">subscript</csymbol><apply id="alg1.l5.m1.2.2.3.2.cmml" xref="alg1.l5.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.3.2.1.cmml" xref="alg1.l5.m1.2.2.3">superscript</csymbol><ci id="alg1.l5.m1.2.2.3.2.2a.cmml" xref="alg1.l5.m1.2.2.3.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l5.m1.2.2.3.2.2.cmml" xref="alg1.l5.m1.2.2.3.2.2">T</mtext></ci><ci id="alg1.l5.m1.2.2.3.2.3.cmml" xref="alg1.l5.m1.2.2.3.2.3">𝑖</ci></apply><ci id="alg1.l5.m1.2.2.3.3.cmml" xref="alg1.l5.m1.2.2.3.3">𝑛</ci></apply><apply id="alg1.l5.m1.2.2.1.cmml" xref="alg1.l5.m1.2.2.1"><times id="alg1.l5.m1.2.2.1.2.cmml" xref="alg1.l5.m1.2.2.1.2"></times><ci id="alg1.l5.m1.2.2.1.3a.cmml" xref="alg1.l5.m1.2.2.1.3"><mtext class="ltx_mathvariant_italic" id="alg1.l5.m1.2.2.1.3.cmml" xref="alg1.l5.m1.2.2.1.3">subset</mtext></ci><interval closure="open" id="alg1.l5.m1.2.2.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1"><apply id="alg1.l5.m1.2.2.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.1.1.1.2a.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="alg1.l5.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2">D</mtext></ci><ci id="alg1.l5.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.3">𝑛</ci></apply><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">𝑖</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">\textbf{T}^{i}_{n}=\textit{subset}(\textbf{D}_{n},i)</annotation></semantics></math>

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>        <math id="alg1.l6.m1.1" class="ltx_Math" alttext="\mathbf{W}^{i}_{n}" display="inline"><semantics id="alg1.l6.m1.1a"><msubsup id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi id="alg1.l6.m1.1.1.2.2" xref="alg1.l6.m1.1.1.2.2.cmml">𝐖</mi><mi id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">n</mi><mi id="alg1.l6.m1.1.1.2.3" xref="alg1.l6.m1.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1">subscript</csymbol><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1">superscript</csymbol><ci id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2.2">𝐖</ci><ci id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3">𝑖</ci></apply><ci id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">\mathbf{W}^{i}_{n}</annotation></semantics></math> = <span id="alg1.l6.2" class="ltx_text ltx_font_italic">train_model</span>(<math id="alg1.l6.m2.1" class="ltx_Math" alttext="\textbf{T}^{i}_{n}" display="inline"><semantics id="alg1.l6.m2.1a"><msubsup id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="alg1.l6.m2.1.1.2.2" xref="alg1.l6.m2.1.1.2.2a.cmml">T</mtext><mi id="alg1.l6.m2.1.1.3" xref="alg1.l6.m2.1.1.3.cmml">n</mi><mi id="alg1.l6.m2.1.1.2.3" xref="alg1.l6.m2.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><apply id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1"><csymbol cd="ambiguous" id="alg1.l6.m2.1.1.1.cmml" xref="alg1.l6.m2.1.1">subscript</csymbol><apply id="alg1.l6.m2.1.1.2.cmml" xref="alg1.l6.m2.1.1"><csymbol cd="ambiguous" id="alg1.l6.m2.1.1.2.1.cmml" xref="alg1.l6.m2.1.1">superscript</csymbol><ci id="alg1.l6.m2.1.1.2.2a.cmml" xref="alg1.l6.m2.1.1.2.2"><mtext class="ltx_mathvariant_bold" id="alg1.l6.m2.1.1.2.2.cmml" xref="alg1.l6.m2.1.1.2.2">T</mtext></ci><ci id="alg1.l6.m2.1.1.2.3.cmml" xref="alg1.l6.m2.1.1.2.3">𝑖</ci></apply><ci id="alg1.l6.m2.1.1.3.cmml" xref="alg1.l6.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">\textbf{T}^{i}_{n}</annotation></semantics></math>, <math id="alg1.l6.m3.1" class="ltx_Math" alttext="\mathbf{W}^{i}_{n}" display="inline"><semantics id="alg1.l6.m3.1a"><msubsup id="alg1.l6.m3.1.1" xref="alg1.l6.m3.1.1.cmml"><mi id="alg1.l6.m3.1.1.2.2" xref="alg1.l6.m3.1.1.2.2.cmml">𝐖</mi><mi id="alg1.l6.m3.1.1.3" xref="alg1.l6.m3.1.1.3.cmml">n</mi><mi id="alg1.l6.m3.1.1.2.3" xref="alg1.l6.m3.1.1.2.3.cmml">i</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l6.m3.1b"><apply id="alg1.l6.m3.1.1.cmml" xref="alg1.l6.m3.1.1"><csymbol cd="ambiguous" id="alg1.l6.m3.1.1.1.cmml" xref="alg1.l6.m3.1.1">subscript</csymbol><apply id="alg1.l6.m3.1.1.2.cmml" xref="alg1.l6.m3.1.1"><csymbol cd="ambiguous" id="alg1.l6.m3.1.1.2.1.cmml" xref="alg1.l6.m3.1.1">superscript</csymbol><ci id="alg1.l6.m3.1.1.2.2.cmml" xref="alg1.l6.m3.1.1.2.2">𝐖</ci><ci id="alg1.l6.m3.1.1.2.3.cmml" xref="alg1.l6.m3.1.1.2.3">𝑖</ci></apply><ci id="alg1.l6.m3.1.1.3.cmml" xref="alg1.l6.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m3.1c">\mathbf{W}^{i}_{n}</annotation></semantics></math>)

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>     <span id="alg1.l7.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l7.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <math id="alg1.l8.m1.1" class="ltx_Math" alttext="\mathbf{W}^{i}=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i}_{n}\text{, where }\sum_{n}\alpha_{n}=1" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msup id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml"><mi id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml">𝐖</mi><mi id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">i</mi></msup><mo rspace="0.111em" id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml">=</mo><mrow id="alg1.l8.m1.1.1.4" xref="alg1.l8.m1.1.1.4.cmml"><msub id="alg1.l8.m1.1.1.4.1" xref="alg1.l8.m1.1.1.4.1.cmml"><mo id="alg1.l8.m1.1.1.4.1.2" xref="alg1.l8.m1.1.1.4.1.2.cmml">∑</mo><mi id="alg1.l8.m1.1.1.4.1.3" xref="alg1.l8.m1.1.1.4.1.3.cmml">n</mi></msub><mrow id="alg1.l8.m1.1.1.4.2" xref="alg1.l8.m1.1.1.4.2.cmml"><mrow id="alg1.l8.m1.1.1.4.2.2" xref="alg1.l8.m1.1.1.4.2.2.cmml"><msub id="alg1.l8.m1.1.1.4.2.2.2" xref="alg1.l8.m1.1.1.4.2.2.2.cmml"><mi id="alg1.l8.m1.1.1.4.2.2.2.2" xref="alg1.l8.m1.1.1.4.2.2.2.2.cmml">α</mi><mi id="alg1.l8.m1.1.1.4.2.2.2.3" xref="alg1.l8.m1.1.1.4.2.2.2.3.cmml">n</mi></msub><mo lspace="0.222em" rspace="0.222em" id="alg1.l8.m1.1.1.4.2.2.1" xref="alg1.l8.m1.1.1.4.2.2.1.cmml">⋅</mo><msubsup id="alg1.l8.m1.1.1.4.2.2.3" xref="alg1.l8.m1.1.1.4.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.4.2.2.3.2.2" xref="alg1.l8.m1.1.1.4.2.2.3.2.2.cmml">𝐖</mi><mi id="alg1.l8.m1.1.1.4.2.2.3.3" xref="alg1.l8.m1.1.1.4.2.2.3.3.cmml">n</mi><mi id="alg1.l8.m1.1.1.4.2.2.3.2.3" xref="alg1.l8.m1.1.1.4.2.2.3.2.3.cmml">i</mi></msubsup></mrow><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.4.2.1" xref="alg1.l8.m1.1.1.4.2.1.cmml">​</mo><mtext id="alg1.l8.m1.1.1.4.2.3" xref="alg1.l8.m1.1.1.4.2.3a.cmml">, where </mtext><mo lspace="0em" rspace="0em" id="alg1.l8.m1.1.1.4.2.1a" xref="alg1.l8.m1.1.1.4.2.1.cmml">​</mo><mrow id="alg1.l8.m1.1.1.4.2.4" xref="alg1.l8.m1.1.1.4.2.4.cmml"><msub id="alg1.l8.m1.1.1.4.2.4.1" xref="alg1.l8.m1.1.1.4.2.4.1.cmml"><mo id="alg1.l8.m1.1.1.4.2.4.1.2" xref="alg1.l8.m1.1.1.4.2.4.1.2.cmml">∑</mo><mi id="alg1.l8.m1.1.1.4.2.4.1.3" xref="alg1.l8.m1.1.1.4.2.4.1.3.cmml">n</mi></msub><msub id="alg1.l8.m1.1.1.4.2.4.2" xref="alg1.l8.m1.1.1.4.2.4.2.cmml"><mi id="alg1.l8.m1.1.1.4.2.4.2.2" xref="alg1.l8.m1.1.1.4.2.4.2.2.cmml">α</mi><mi id="alg1.l8.m1.1.1.4.2.4.2.3" xref="alg1.l8.m1.1.1.4.2.4.2.3.cmml">n</mi></msub></mrow></mrow></mrow><mo id="alg1.l8.m1.1.1.5" xref="alg1.l8.m1.1.1.5.cmml">=</mo><mn id="alg1.l8.m1.1.1.6" xref="alg1.l8.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><and id="alg1.l8.m1.1.1a.cmml" xref="alg1.l8.m1.1.1"></and><apply id="alg1.l8.m1.1.1b.cmml" xref="alg1.l8.m1.1.1"><eq id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"></eq><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1.2">superscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2">𝐖</ci><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l8.m1.1.1.4.cmml" xref="alg1.l8.m1.1.1.4"><apply id="alg1.l8.m1.1.1.4.1.cmml" xref="alg1.l8.m1.1.1.4.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.1.1.cmml" xref="alg1.l8.m1.1.1.4.1">subscript</csymbol><sum id="alg1.l8.m1.1.1.4.1.2.cmml" xref="alg1.l8.m1.1.1.4.1.2"></sum><ci id="alg1.l8.m1.1.1.4.1.3.cmml" xref="alg1.l8.m1.1.1.4.1.3">𝑛</ci></apply><apply id="alg1.l8.m1.1.1.4.2.cmml" xref="alg1.l8.m1.1.1.4.2"><times id="alg1.l8.m1.1.1.4.2.1.cmml" xref="alg1.l8.m1.1.1.4.2.1"></times><apply id="alg1.l8.m1.1.1.4.2.2.cmml" xref="alg1.l8.m1.1.1.4.2.2"><ci id="alg1.l8.m1.1.1.4.2.2.1.cmml" xref="alg1.l8.m1.1.1.4.2.2.1">⋅</ci><apply id="alg1.l8.m1.1.1.4.2.2.2.cmml" xref="alg1.l8.m1.1.1.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.2.2.2.1.cmml" xref="alg1.l8.m1.1.1.4.2.2.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.4.2.2.2.2.cmml" xref="alg1.l8.m1.1.1.4.2.2.2.2">𝛼</ci><ci id="alg1.l8.m1.1.1.4.2.2.2.3.cmml" xref="alg1.l8.m1.1.1.4.2.2.2.3">𝑛</ci></apply><apply id="alg1.l8.m1.1.1.4.2.2.3.cmml" xref="alg1.l8.m1.1.1.4.2.2.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.2.2.3.1.cmml" xref="alg1.l8.m1.1.1.4.2.2.3">subscript</csymbol><apply id="alg1.l8.m1.1.1.4.2.2.3.2.cmml" xref="alg1.l8.m1.1.1.4.2.2.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.2.2.3.2.1.cmml" xref="alg1.l8.m1.1.1.4.2.2.3">superscript</csymbol><ci id="alg1.l8.m1.1.1.4.2.2.3.2.2.cmml" xref="alg1.l8.m1.1.1.4.2.2.3.2.2">𝐖</ci><ci id="alg1.l8.m1.1.1.4.2.2.3.2.3.cmml" xref="alg1.l8.m1.1.1.4.2.2.3.2.3">𝑖</ci></apply><ci id="alg1.l8.m1.1.1.4.2.2.3.3.cmml" xref="alg1.l8.m1.1.1.4.2.2.3.3">𝑛</ci></apply></apply><ci id="alg1.l8.m1.1.1.4.2.3a.cmml" xref="alg1.l8.m1.1.1.4.2.3"><mtext id="alg1.l8.m1.1.1.4.2.3.cmml" xref="alg1.l8.m1.1.1.4.2.3">, where </mtext></ci><apply id="alg1.l8.m1.1.1.4.2.4.cmml" xref="alg1.l8.m1.1.1.4.2.4"><apply id="alg1.l8.m1.1.1.4.2.4.1.cmml" xref="alg1.l8.m1.1.1.4.2.4.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.2.4.1.1.cmml" xref="alg1.l8.m1.1.1.4.2.4.1">subscript</csymbol><sum id="alg1.l8.m1.1.1.4.2.4.1.2.cmml" xref="alg1.l8.m1.1.1.4.2.4.1.2"></sum><ci id="alg1.l8.m1.1.1.4.2.4.1.3.cmml" xref="alg1.l8.m1.1.1.4.2.4.1.3">𝑛</ci></apply><apply id="alg1.l8.m1.1.1.4.2.4.2.cmml" xref="alg1.l8.m1.1.1.4.2.4.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.4.2.4.2.1.cmml" xref="alg1.l8.m1.1.1.4.2.4.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.4.2.4.2.2.cmml" xref="alg1.l8.m1.1.1.4.2.4.2.2">𝛼</ci><ci id="alg1.l8.m1.1.1.4.2.4.2.3.cmml" xref="alg1.l8.m1.1.1.4.2.4.2.3">𝑛</ci></apply></apply></apply></apply></apply><apply id="alg1.l8.m1.1.1c.cmml" xref="alg1.l8.m1.1.1"><eq id="alg1.l8.m1.1.1.5.cmml" xref="alg1.l8.m1.1.1.5"></eq><share href="#alg1.l8.m1.1.1.4.cmml" id="alg1.l8.m1.1.1d.cmml" xref="alg1.l8.m1.1.1"></share><cn type="integer" id="alg1.l8.m1.1.1.6.cmml" xref="alg1.l8.m1.1.1.6">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\mathbf{W}^{i}=\sum_{n}\alpha_{n}\cdot\mathbf{W}^{i}_{n}\text{, where }\sum_{n}\alpha_{n}=1</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>  <span id="alg1.l9.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l9.3" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</figure>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>PyTorch-Kaldi</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">PyTorch-Kaldi<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> allows for high flexibility when using DNNs in training hybrid models for use with Kaldi. For this purpose, it provides a model configuration interface, as well as training recipes.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Our overall setup is divided into three parts, Kaldi training, PyTorch-Kaldi training, and <span id="S2.SS2.p2.1.1" class="ltx_text ltx_font_italic">FedAvg</span>.
First, the features of all relevant datasets are extracted, the corresponding GMM models are trained, and alignments are obtained in Kaldi <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, using MFCCs with first and second derivatives and cepstral mean and variance normalization on a per-speaker basis.
In the second part, we use PyTorch-Kaldi to train a hybrid DNN-WFST model with the PyTorch library. We use the standard MLP structure that is provided with many of the examples in PyTorch-Kaldi, a feed-forward network with a context size of 5 frames <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. This results in the initial model <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="\mathbf{W}^{0}" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><msup id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><mi id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml">𝐖</mi><mn id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">superscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2">𝐖</ci><cn type="integer" id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">\mathbf{W}^{0}</annotation></semantics></math>, which is only learned on the <span id="S2.SS2.p2.1.2" class="ltx_text ltx_font_typewriter">initial</span> dataset.
After the server-side training is thus completed, federated learning is performed as described in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Here, client-side trainings only re-train the DNN of the hybrid model, leaving the WFST unchanged.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">The initial model is trained for 24 epochs and distributed to all clients, followed by 12 federated learning epochs with different communication frequencies.
In order to use the standard training script for federated learning, we changed it to pause and save a checkpoint model after a specifiable number of data chunks; every clients’ training data is divided into <math id="S2.SS2.p3.1.m1.1" class="ltx_Math" alttext="n=8" display="inline"><semantics id="S2.SS2.p3.1.m1.1a"><mrow id="S2.SS2.p3.1.m1.1.1" xref="S2.SS2.p3.1.m1.1.1.cmml"><mi id="S2.SS2.p3.1.m1.1.1.2" xref="S2.SS2.p3.1.m1.1.1.2.cmml">n</mi><mo id="S2.SS2.p3.1.m1.1.1.1" xref="S2.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="S2.SS2.p3.1.m1.1.1.3" xref="S2.SS2.p3.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p3.1.m1.1b"><apply id="S2.SS2.p3.1.m1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1"><eq id="S2.SS2.p3.1.m1.1.1.1.cmml" xref="S2.SS2.p3.1.m1.1.1.1"></eq><ci id="S2.SS2.p3.1.m1.1.1.2.cmml" xref="S2.SS2.p3.1.m1.1.1.2">𝑛</ci><cn type="integer" id="S2.SS2.p3.1.m1.1.1.3.cmml" xref="S2.SS2.p3.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p3.1.m1.1c">n=8</annotation></semantics></math> chunks.
This allows us to train our network on each of our clients, then pause the training, average every updated model and redistribute the result to all clients. In this way, we can perform (potentially partial) epoch-level training, as described in Section <a href="#S2.SS1" title="2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.1</span></a>.</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<p id="S2.SS2.p4.1" class="ltx_p">The scripts are based on training recipes provided for Kaldi <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> and PyTorch-Kaldi <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>. We used, among others, the WSJ, Librispeeech and CommonVoice recipes as a guide for structuring and parameterizing the training and decoding of our models.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>ESPnet setup</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.5" class="ltx_p">The ESPnet end-to-end model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> uses a sequence-to-sequence (S2S) transformer model with connectionist temporal classification (CTC) optimization. As described in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>,
CTC learns to align features and transcription optimally, which leads to fast convergence.
The model is updated using a linear combination of CTC and S2S loss terms as the objective function</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.1" class="ltx_Math" alttext="L=\eta\cdot\textrm{log}\ p_{\text{CTC}}(\textbf{s}|\textbf{o})+(1-\eta)\textrm{log}\ p_{\text{S2S}}(\textbf{s}|\textbf{o})," display="block"><semantics id="S2.E2.m1.1a"><mrow id="S2.E2.m1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml"><mrow id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml"><mi id="S2.E2.m1.1.1.1.1.5" xref="S2.E2.m1.1.1.1.1.5.cmml">L</mi><mo id="S2.E2.m1.1.1.1.1.4" xref="S2.E2.m1.1.1.1.1.4.cmml">=</mo><mrow id="S2.E2.m1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.3.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.cmml"><mrow id="S2.E2.m1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.1.1.1.1.1.1.3.2.cmml">η</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E2.m1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.1.1.1.1.1.1.3.1.cmml">⋅</mo><mtext id="S2.E2.m1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.1.1.1.1.1.1.3.3a.cmml">log</mtext></mrow><mo lspace="0.500em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.2.cmml">​</mo><msub id="S2.E2.m1.1.1.1.1.1.1.4" xref="S2.E2.m1.1.1.1.1.1.1.4.cmml"><mi id="S2.E2.m1.1.1.1.1.1.1.4.2" xref="S2.E2.m1.1.1.1.1.1.1.4.2.cmml">p</mi><mtext id="S2.E2.m1.1.1.1.1.1.1.4.3" xref="S2.E2.m1.1.1.1.1.1.1.4.3a.cmml">CTC</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.1.1.2a" xref="S2.E2.m1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E2.m1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.2a.cmml">s</mtext><mo fence="false" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.3a.cmml">o</mtext></mrow><mo stretchy="false" id="S2.E2.m1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.1.1.1.1.3.4" xref="S2.E2.m1.1.1.1.1.3.4.cmml">+</mo><mrow id="S2.E2.m1.1.1.1.1.3.3" xref="S2.E2.m1.1.1.1.1.3.3.cmml"><mrow id="S2.E2.m1.1.1.1.1.2.2.1.1" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.2.2.1.1.2" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.1.1.1.1.2.2.1.1.1" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.cmml"><mn id="S2.E2.m1.1.1.1.1.2.2.1.1.1.2" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.2.cmml">1</mn><mo id="S2.E2.m1.1.1.1.1.2.2.1.1.1.1" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.1.cmml">−</mo><mi id="S2.E2.m1.1.1.1.1.2.2.1.1.1.3" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.3.cmml">η</mi></mrow><mo stretchy="false" id="S2.E2.m1.1.1.1.1.2.2.1.1.3" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.3.3.3" xref="S2.E2.m1.1.1.1.1.3.3.3.cmml">​</mo><mtext id="S2.E2.m1.1.1.1.1.3.3.4" xref="S2.E2.m1.1.1.1.1.3.3.4a.cmml">log</mtext><mo lspace="0.500em" rspace="0em" id="S2.E2.m1.1.1.1.1.3.3.3a" xref="S2.E2.m1.1.1.1.1.3.3.3.cmml">​</mo><msub id="S2.E2.m1.1.1.1.1.3.3.5" xref="S2.E2.m1.1.1.1.1.3.3.5.cmml"><mi id="S2.E2.m1.1.1.1.1.3.3.5.2" xref="S2.E2.m1.1.1.1.1.3.3.5.2.cmml">p</mi><mtext id="S2.E2.m1.1.1.1.1.3.3.5.3" xref="S2.E2.m1.1.1.1.1.3.3.5.3a.cmml">S2S</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.1.1.1.1.3.3.3b" xref="S2.E2.m1.1.1.1.1.3.3.3.cmml">​</mo><mrow id="S2.E2.m1.1.1.1.1.3.3.2.1" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.cmml"><mo stretchy="false" id="S2.E2.m1.1.1.1.1.3.3.2.1.2" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.cmml">(</mo><mrow id="S2.E2.m1.1.1.1.1.3.3.2.1.1" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.2" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.2a.cmml">s</mtext><mo fence="false" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.1" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.1.cmml">|</mo><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.3" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.3a.cmml">o</mtext></mrow><mo stretchy="false" id="S2.E2.m1.1.1.1.1.3.3.2.1.3" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.1.1.1.2" xref="S2.E2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.1b"><apply id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1"><eq id="S2.E2.m1.1.1.1.1.4.cmml" xref="S2.E2.m1.1.1.1.1.4"></eq><ci id="S2.E2.m1.1.1.1.1.5.cmml" xref="S2.E2.m1.1.1.1.1.5">𝐿</ci><apply id="S2.E2.m1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.3"><plus id="S2.E2.m1.1.1.1.1.3.4.cmml" xref="S2.E2.m1.1.1.1.1.3.4"></plus><apply id="S2.E2.m1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1"><times id="S2.E2.m1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.2"></times><apply id="S2.E2.m1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3"><ci id="S2.E2.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.1">⋅</ci><ci id="S2.E2.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.2">𝜂</ci><ci id="S2.E2.m1.1.1.1.1.1.1.3.3a.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3"><mtext id="S2.E2.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.3.3">log</mtext></ci></apply><apply id="S2.E2.m1.1.1.1.1.1.1.4.cmml" xref="S2.E2.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.1.1.4.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.4.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.4.2">𝑝</ci><ci id="S2.E2.m1.1.1.1.1.1.1.4.3a.cmml" xref="S2.E2.m1.1.1.1.1.1.1.4.3"><mtext mathsize="70%" id="S2.E2.m1.1.1.1.1.1.1.4.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.4.3">CTC</mtext></ci></apply><apply id="S2.E2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E2.m1.1.1.1.1.1.1.1.1.1.2a.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.2">s</mtext></ci><ci id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.3"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.1.1.1.1.1.3">o</mtext></ci></apply></apply><apply id="S2.E2.m1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.1.1.1.1.3.3"><times id="S2.E2.m1.1.1.1.1.3.3.3.cmml" xref="S2.E2.m1.1.1.1.1.3.3.3"></times><apply id="S2.E2.m1.1.1.1.1.2.2.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.2.2.1.1"><minus id="S2.E2.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.1"></minus><cn type="integer" id="S2.E2.m1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.2">1</cn><ci id="S2.E2.m1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.2.2.1.1.1.3">𝜂</ci></apply><ci id="S2.E2.m1.1.1.1.1.3.3.4a.cmml" xref="S2.E2.m1.1.1.1.1.3.3.4"><mtext id="S2.E2.m1.1.1.1.1.3.3.4.cmml" xref="S2.E2.m1.1.1.1.1.3.3.4">log</mtext></ci><apply id="S2.E2.m1.1.1.1.1.3.3.5.cmml" xref="S2.E2.m1.1.1.1.1.3.3.5"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.1.1.3.3.5.1.cmml" xref="S2.E2.m1.1.1.1.1.3.3.5">subscript</csymbol><ci id="S2.E2.m1.1.1.1.1.3.3.5.2.cmml" xref="S2.E2.m1.1.1.1.1.3.3.5.2">𝑝</ci><ci id="S2.E2.m1.1.1.1.1.3.3.5.3a.cmml" xref="S2.E2.m1.1.1.1.1.3.3.5.3"><mtext mathsize="70%" id="S2.E2.m1.1.1.1.1.3.3.5.3.cmml" xref="S2.E2.m1.1.1.1.1.3.3.5.3">S2S</mtext></ci></apply><apply id="S2.E2.m1.1.1.1.1.3.3.2.1.1.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1"><csymbol cd="latexml" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.1">conditional</csymbol><ci id="S2.E2.m1.1.1.1.1.3.3.2.1.1.2a.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.2"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.2.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.2">s</mtext></ci><ci id="S2.E2.m1.1.1.1.1.3.3.2.1.1.3a.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.3"><mtext class="ltx_mathvariant_bold" id="S2.E2.m1.1.1.1.1.3.3.2.1.1.3.cmml" xref="S2.E2.m1.1.1.1.1.3.3.2.1.1.3">o</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.1c">L=\eta\cdot\textrm{log}\ p_{\text{CTC}}(\textbf{s}|\textbf{o})+(1-\eta)\textrm{log}\ p_{\text{S2S}}(\textbf{s}|\textbf{o}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p1.3" class="ltx_p">with <span id="S2.SS3.p1.3.1" class="ltx_text ltx_markedasmath ltx_font_bold">s</span> as the states and the constant hyper-parameter <math id="S2.SS3.p1.2.m2.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S2.SS3.p1.2.m2.1a"><mi id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><ci id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">\eta</annotation></semantics></math>, which controls the strength of both terms. The
joint S2S-CTC model performs token-by-token decoding, until the end-of-sentence symbol (EOS).
In each step, the log-posteriors of the current token from the Transformer and CTC models are linearly combined with an RNN-language model <math id="S2.SS3.p1.3.m3.1" class="ltx_Math" alttext="p_{\text{LM}}(\textbf{s}_{t})" display="inline"><semantics id="S2.SS3.p1.3.m3.1a"><mrow id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml"><msub id="S2.SS3.p1.3.m3.1.1.3" xref="S2.SS3.p1.3.m3.1.1.3.cmml"><mi id="S2.SS3.p1.3.m3.1.1.3.2" xref="S2.SS3.p1.3.m3.1.1.3.2.cmml">p</mi><mtext id="S2.SS3.p1.3.m3.1.1.3.3" xref="S2.SS3.p1.3.m3.1.1.3.3a.cmml">LM</mtext></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p1.3.m3.1.1.2" xref="S2.SS3.p1.3.m3.1.1.2.cmml">​</mo><mrow id="S2.SS3.p1.3.m3.1.1.1.1" xref="S2.SS3.p1.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS3.p1.3.m3.1.1.1.1.2" xref="S2.SS3.p1.3.m3.1.1.1.1.1.cmml">(</mo><msub id="S2.SS3.p1.3.m3.1.1.1.1.1" xref="S2.SS3.p1.3.m3.1.1.1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S2.SS3.p1.3.m3.1.1.1.1.1.2" xref="S2.SS3.p1.3.m3.1.1.1.1.1.2a.cmml">s</mtext><mi id="S2.SS3.p1.3.m3.1.1.1.1.1.3" xref="S2.SS3.p1.3.m3.1.1.1.1.1.3.cmml">t</mi></msub><mo stretchy="false" id="S2.SS3.p1.3.m3.1.1.1.1.3" xref="S2.SS3.p1.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><apply id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1"><times id="S2.SS3.p1.3.m3.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2"></times><apply id="S2.SS3.p1.3.m3.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S2.SS3.p1.3.m3.1.1.3.1.cmml" xref="S2.SS3.p1.3.m3.1.1.3">subscript</csymbol><ci id="S2.SS3.p1.3.m3.1.1.3.2.cmml" xref="S2.SS3.p1.3.m3.1.1.3.2">𝑝</ci><ci id="S2.SS3.p1.3.m3.1.1.3.3a.cmml" xref="S2.SS3.p1.3.m3.1.1.3.3"><mtext mathsize="70%" id="S2.SS3.p1.3.m3.1.1.3.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3.3">LM</mtext></ci></apply><apply id="S2.SS3.p1.3.m3.1.1.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.3.m3.1.1.1.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.3.m3.1.1.1.1.1.2a.cmml" xref="S2.SS3.p1.3.m3.1.1.1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S2.SS3.p1.3.m3.1.1.1.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.1.1.1.2">s</mtext></ci><ci id="S2.SS3.p1.3.m3.1.1.1.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.1.1.1.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">p_{\text{LM}}(\textbf{s}_{t})</annotation></semantics></math></p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.51" class="ltx_Math" alttext="\textrm{log}\ p^{\ast}(\textbf{s}_{t}|\textbf{o})=\eta\ \textrm{log}\ p_{\text{CTC}}(\textbf{s}_{t}|\textbf{o})+(1-\eta)\ \textrm{log}\ p_{\text{S2S}}(\textbf{s}_{t}|\textbf{o})+\\
\theta\ \textrm{log}\ p_{\text{LM}}(\textbf{s}_{t})," display="block"><semantics id="S2.E3.m1.51a"><mtable displaystyle="true" rowspacing="0pt" id="S2.E3.m1.51.51.6"><mtr id="S2.E3.m1.51.51.6a"><mtd class="ltx_align_left" columnalign="left" id="S2.E3.m1.51.51.6b"><mrow id="S2.E3.m1.50.50.5.49.40.40"><mrow id="S2.E3.m1.47.47.2.46.37.37.37"><mtext id="S2.E3.m1.1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.1a.cmml">log</mtext><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.47.47.2.46.37.37.37.2" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><msup id="S2.E3.m1.47.47.2.46.37.37.37.3"><mi id="S2.E3.m1.2.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.2.2.cmml">p</mi><mo id="S2.E3.m1.3.3.3.3.3.3.1" xref="S2.E3.m1.3.3.3.3.3.3.1.cmml">∗</mo></msup><mo lspace="0em" rspace="0em" id="S2.E3.m1.47.47.2.46.37.37.37.2a" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mrow id="S2.E3.m1.47.47.2.46.37.37.37.1.1"><mo stretchy="false" id="S2.E3.m1.4.4.4.4.4.4" xref="S2.E3.m1.46.46.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.47.47.2.46.37.37.37.1.1.1"><msub id="S2.E3.m1.47.47.2.46.37.37.37.1.1.1.1"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.5.5.5.5.5.5" xref="S2.E3.m1.5.5.5.5.5.5a.cmml">s</mtext><mi id="S2.E3.m1.6.6.6.6.6.6.1" xref="S2.E3.m1.6.6.6.6.6.6.1.cmml">t</mi></msub><mo fence="false" id="S2.E3.m1.7.7.7.7.7.7" xref="S2.E3.m1.7.7.7.7.7.7.cmml">|</mo><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.8.8.8.8.8.8" xref="S2.E3.m1.8.8.8.8.8.8a.cmml">o</mtext></mrow><mo stretchy="false" id="S2.E3.m1.9.9.9.9.9.9" xref="S2.E3.m1.46.46.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.10.10.10.10.10.10" xref="S2.E3.m1.10.10.10.10.10.10.cmml">=</mo><mrow id="S2.E3.m1.50.50.5.49.40.40.40"><mrow id="S2.E3.m1.48.48.3.47.38.38.38.1"><mi id="S2.E3.m1.11.11.11.11.11.11" xref="S2.E3.m1.11.11.11.11.11.11.cmml">η</mi><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.48.48.3.47.38.38.38.1.2" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mtext id="S2.E3.m1.12.12.12.12.12.12" xref="S2.E3.m1.12.12.12.12.12.12a.cmml">log</mtext><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.48.48.3.47.38.38.38.1.2a" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><msub id="S2.E3.m1.48.48.3.47.38.38.38.1.3"><mi id="S2.E3.m1.13.13.13.13.13.13" xref="S2.E3.m1.13.13.13.13.13.13.cmml">p</mi><mtext id="S2.E3.m1.14.14.14.14.14.14.1" xref="S2.E3.m1.14.14.14.14.14.14.1a.cmml">CTC</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.48.48.3.47.38.38.38.1.2b" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mrow id="S2.E3.m1.48.48.3.47.38.38.38.1.1.1"><mo stretchy="false" id="S2.E3.m1.15.15.15.15.15.15" xref="S2.E3.m1.46.46.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.48.48.3.47.38.38.38.1.1.1.1"><msub id="S2.E3.m1.48.48.3.47.38.38.38.1.1.1.1.1"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.16.16.16.16.16.16" xref="S2.E3.m1.16.16.16.16.16.16a.cmml">s</mtext><mi id="S2.E3.m1.17.17.17.17.17.17.1" xref="S2.E3.m1.17.17.17.17.17.17.1.cmml">t</mi></msub><mo fence="false" id="S2.E3.m1.18.18.18.18.18.18" xref="S2.E3.m1.18.18.18.18.18.18.cmml">|</mo><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.19.19.19.19.19.19" xref="S2.E3.m1.19.19.19.19.19.19a.cmml">o</mtext></mrow><mo stretchy="false" id="S2.E3.m1.20.20.20.20.20.20" xref="S2.E3.m1.46.46.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.21.21.21.21.21.21" xref="S2.E3.m1.21.21.21.21.21.21.cmml">+</mo><mrow id="S2.E3.m1.50.50.5.49.40.40.40.3"><mrow id="S2.E3.m1.50.50.5.49.40.40.40.3.2"><mrow id="S2.E3.m1.49.49.4.48.39.39.39.2.1.1.1"><mo stretchy="false" id="S2.E3.m1.22.22.22.22.22.22" xref="S2.E3.m1.46.46.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.49.49.4.48.39.39.39.2.1.1.1.1"><mn id="S2.E3.m1.23.23.23.23.23.23" xref="S2.E3.m1.23.23.23.23.23.23.cmml">1</mn><mo id="S2.E3.m1.24.24.24.24.24.24" xref="S2.E3.m1.24.24.24.24.24.24.cmml">−</mo><mi id="S2.E3.m1.25.25.25.25.25.25" xref="S2.E3.m1.25.25.25.25.25.25.cmml">η</mi></mrow><mo stretchy="false" id="S2.E3.m1.26.26.26.26.26.26" xref="S2.E3.m1.46.46.1.1.1.cmml">)</mo></mrow><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.50.50.5.49.40.40.40.3.2.3" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mtext id="S2.E3.m1.27.27.27.27.27.27" xref="S2.E3.m1.27.27.27.27.27.27a.cmml">log</mtext><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.50.50.5.49.40.40.40.3.2.3a" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><msub id="S2.E3.m1.50.50.5.49.40.40.40.3.2.4"><mi id="S2.E3.m1.28.28.28.28.28.28" xref="S2.E3.m1.28.28.28.28.28.28.cmml">p</mi><mtext id="S2.E3.m1.29.29.29.29.29.29.1" xref="S2.E3.m1.29.29.29.29.29.29.1a.cmml">S2S</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.50.50.5.49.40.40.40.3.2.3b" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mrow id="S2.E3.m1.50.50.5.49.40.40.40.3.2.2.1"><mo stretchy="false" id="S2.E3.m1.30.30.30.30.30.30" xref="S2.E3.m1.46.46.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.50.50.5.49.40.40.40.3.2.2.1.1"><msub id="S2.E3.m1.50.50.5.49.40.40.40.3.2.2.1.1.1"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.31.31.31.31.31.31" xref="S2.E3.m1.31.31.31.31.31.31a.cmml">s</mtext><mi id="S2.E3.m1.32.32.32.32.32.32.1" xref="S2.E3.m1.32.32.32.32.32.32.1.cmml">t</mi></msub><mo fence="false" id="S2.E3.m1.33.33.33.33.33.33" xref="S2.E3.m1.33.33.33.33.33.33.cmml">|</mo><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.34.34.34.34.34.34" xref="S2.E3.m1.34.34.34.34.34.34a.cmml">o</mtext></mrow><mo stretchy="false" id="S2.E3.m1.35.35.35.35.35.35" xref="S2.E3.m1.46.46.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.36.36.36.36.36.36" xref="S2.E3.m1.46.46.1.1.1.cmml">+</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S2.E3.m1.51.51.6c"><mtd class="ltx_align_right" columnalign="right" id="S2.E3.m1.51.51.6d"><mrow id="S2.E3.m1.51.51.6.50.10.10.10"><mrow id="S2.E3.m1.51.51.6.50.10.10.10.1"><mi id="S2.E3.m1.37.37.37.1.1.1" xref="S2.E3.m1.37.37.37.1.1.1.cmml">θ</mi><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.51.51.6.50.10.10.10.1.2" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mtext id="S2.E3.m1.38.38.38.2.2.2" xref="S2.E3.m1.38.38.38.2.2.2a.cmml">log</mtext><mo lspace="0.500em" rspace="0em" id="S2.E3.m1.51.51.6.50.10.10.10.1.2a" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><msub id="S2.E3.m1.51.51.6.50.10.10.10.1.3"><mi id="S2.E3.m1.39.39.39.3.3.3" xref="S2.E3.m1.39.39.39.3.3.3.cmml">p</mi><mtext id="S2.E3.m1.40.40.40.4.4.4.1" xref="S2.E3.m1.40.40.40.4.4.4.1a.cmml">LM</mtext></msub><mo lspace="0em" rspace="0em" id="S2.E3.m1.51.51.6.50.10.10.10.1.2b" xref="S2.E3.m1.46.46.1.1.1.cmml">​</mo><mrow id="S2.E3.m1.51.51.6.50.10.10.10.1.1.1"><mo stretchy="false" id="S2.E3.m1.41.41.41.5.5.5" xref="S2.E3.m1.46.46.1.1.1.cmml">(</mo><msub id="S2.E3.m1.51.51.6.50.10.10.10.1.1.1.1"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.42.42.42.6.6.6" xref="S2.E3.m1.42.42.42.6.6.6a.cmml">s</mtext><mi id="S2.E3.m1.43.43.43.7.7.7.1" xref="S2.E3.m1.43.43.43.7.7.7.1.cmml">t</mi></msub><mo stretchy="false" id="S2.E3.m1.44.44.44.8.8.8" xref="S2.E3.m1.46.46.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.45.45.45.9.9.9" xref="S2.E3.m1.46.46.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S2.E3.m1.51b"><apply id="S2.E3.m1.46.46.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><eq id="S2.E3.m1.10.10.10.10.10.10.cmml" xref="S2.E3.m1.10.10.10.10.10.10"></eq><apply id="S2.E3.m1.46.46.1.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><times id="S2.E3.m1.46.46.1.1.1.1.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"></times><ci id="S2.E3.m1.1.1.1.1.1.1a.cmml" xref="S2.E3.m1.1.1.1.1.1.1"><mtext id="S2.E3.m1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1.1">log</mtext></ci><apply id="S2.E3.m1.46.46.1.1.1.1.4.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.1.4.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">superscript</csymbol><ci id="S2.E3.m1.2.2.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.2">𝑝</ci><ci id="S2.E3.m1.3.3.3.3.3.3.1.cmml" xref="S2.E3.m1.3.3.3.3.3.3.1">∗</ci></apply><apply id="S2.E3.m1.46.46.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="latexml" id="S2.E3.m1.7.7.7.7.7.7.cmml" xref="S2.E3.m1.7.7.7.7.7.7">conditional</csymbol><apply id="S2.E3.m1.46.46.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.5.5.5.5.5.5a.cmml" xref="S2.E3.m1.5.5.5.5.5.5"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.5.5.5.5.5.5.cmml" xref="S2.E3.m1.5.5.5.5.5.5">s</mtext></ci><ci id="S2.E3.m1.6.6.6.6.6.6.1.cmml" xref="S2.E3.m1.6.6.6.6.6.6.1">𝑡</ci></apply><ci id="S2.E3.m1.8.8.8.8.8.8a.cmml" xref="S2.E3.m1.8.8.8.8.8.8"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.8.8.8.8.8.8.cmml" xref="S2.E3.m1.8.8.8.8.8.8">o</mtext></ci></apply></apply><apply id="S2.E3.m1.46.46.1.1.1.5.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><plus id="S2.E3.m1.21.21.21.21.21.21.cmml" xref="S2.E3.m1.21.21.21.21.21.21"></plus><apply id="S2.E3.m1.46.46.1.1.1.2.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><times id="S2.E3.m1.46.46.1.1.1.2.1.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"></times><ci id="S2.E3.m1.11.11.11.11.11.11.cmml" xref="S2.E3.m1.11.11.11.11.11.11">𝜂</ci><ci id="S2.E3.m1.12.12.12.12.12.12a.cmml" xref="S2.E3.m1.12.12.12.12.12.12"><mtext id="S2.E3.m1.12.12.12.12.12.12.cmml" xref="S2.E3.m1.12.12.12.12.12.12">log</mtext></ci><apply id="S2.E3.m1.46.46.1.1.1.2.1.5.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.2.1.5.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.13.13.13.13.13.13.cmml" xref="S2.E3.m1.13.13.13.13.13.13">𝑝</ci><ci id="S2.E3.m1.14.14.14.14.14.14.1a.cmml" xref="S2.E3.m1.14.14.14.14.14.14.1"><mtext mathsize="70%" id="S2.E3.m1.14.14.14.14.14.14.1.cmml" xref="S2.E3.m1.14.14.14.14.14.14.1">CTC</mtext></ci></apply><apply id="S2.E3.m1.46.46.1.1.1.2.1.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="latexml" id="S2.E3.m1.18.18.18.18.18.18.cmml" xref="S2.E3.m1.18.18.18.18.18.18">conditional</csymbol><apply id="S2.E3.m1.46.46.1.1.1.2.1.1.1.1.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.2.1.1.1.1.2.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.16.16.16.16.16.16a.cmml" xref="S2.E3.m1.16.16.16.16.16.16"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.16.16.16.16.16.16.cmml" xref="S2.E3.m1.16.16.16.16.16.16">s</mtext></ci><ci id="S2.E3.m1.17.17.17.17.17.17.1.cmml" xref="S2.E3.m1.17.17.17.17.17.17.1">𝑡</ci></apply><ci id="S2.E3.m1.19.19.19.19.19.19a.cmml" xref="S2.E3.m1.19.19.19.19.19.19"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.19.19.19.19.19.19.cmml" xref="S2.E3.m1.19.19.19.19.19.19">o</mtext></ci></apply></apply><apply id="S2.E3.m1.46.46.1.1.1.4.3.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><times id="S2.E3.m1.46.46.1.1.1.4.3.3.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"></times><apply id="S2.E3.m1.46.46.1.1.1.3.2.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><minus id="S2.E3.m1.24.24.24.24.24.24.cmml" xref="S2.E3.m1.24.24.24.24.24.24"></minus><cn type="integer" id="S2.E3.m1.23.23.23.23.23.23.cmml" xref="S2.E3.m1.23.23.23.23.23.23">1</cn><ci id="S2.E3.m1.25.25.25.25.25.25.cmml" xref="S2.E3.m1.25.25.25.25.25.25">𝜂</ci></apply><ci id="S2.E3.m1.27.27.27.27.27.27a.cmml" xref="S2.E3.m1.27.27.27.27.27.27"><mtext id="S2.E3.m1.27.27.27.27.27.27.cmml" xref="S2.E3.m1.27.27.27.27.27.27">log</mtext></ci><apply id="S2.E3.m1.46.46.1.1.1.4.3.5.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.4.3.5.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.28.28.28.28.28.28.cmml" xref="S2.E3.m1.28.28.28.28.28.28">𝑝</ci><ci id="S2.E3.m1.29.29.29.29.29.29.1a.cmml" xref="S2.E3.m1.29.29.29.29.29.29.1"><mtext mathsize="70%" id="S2.E3.m1.29.29.29.29.29.29.1.cmml" xref="S2.E3.m1.29.29.29.29.29.29.1">S2S</mtext></ci></apply><apply id="S2.E3.m1.46.46.1.1.1.4.3.2.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="latexml" id="S2.E3.m1.33.33.33.33.33.33.cmml" xref="S2.E3.m1.33.33.33.33.33.33">conditional</csymbol><apply id="S2.E3.m1.46.46.1.1.1.4.3.2.1.1.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.4.3.2.1.1.2.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.31.31.31.31.31.31a.cmml" xref="S2.E3.m1.31.31.31.31.31.31"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.31.31.31.31.31.31.cmml" xref="S2.E3.m1.31.31.31.31.31.31">s</mtext></ci><ci id="S2.E3.m1.32.32.32.32.32.32.1.cmml" xref="S2.E3.m1.32.32.32.32.32.32.1">𝑡</ci></apply><ci id="S2.E3.m1.34.34.34.34.34.34a.cmml" xref="S2.E3.m1.34.34.34.34.34.34"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.34.34.34.34.34.34.cmml" xref="S2.E3.m1.34.34.34.34.34.34">o</mtext></ci></apply></apply><apply id="S2.E3.m1.46.46.1.1.1.5.4.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><times id="S2.E3.m1.46.46.1.1.1.5.4.2.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"></times><ci id="S2.E3.m1.37.37.37.1.1.1.cmml" xref="S2.E3.m1.37.37.37.1.1.1">𝜃</ci><ci id="S2.E3.m1.38.38.38.2.2.2a.cmml" xref="S2.E3.m1.38.38.38.2.2.2"><mtext id="S2.E3.m1.38.38.38.2.2.2.cmml" xref="S2.E3.m1.38.38.38.2.2.2">log</mtext></ci><apply id="S2.E3.m1.46.46.1.1.1.5.4.5.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.5.4.5.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.39.39.39.3.3.3.cmml" xref="S2.E3.m1.39.39.39.3.3.3">𝑝</ci><ci id="S2.E3.m1.40.40.40.4.4.4.1a.cmml" xref="S2.E3.m1.40.40.40.4.4.4.1"><mtext mathsize="70%" id="S2.E3.m1.40.40.40.4.4.4.1.cmml" xref="S2.E3.m1.40.40.40.4.4.4.1">LM</mtext></ci></apply><apply id="S2.E3.m1.46.46.1.1.1.5.4.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2"><csymbol cd="ambiguous" id="S2.E3.m1.46.46.1.1.1.5.4.1.1.1.1.cmml" xref="S2.E3.m1.47.47.2.46.37.37.37.2">subscript</csymbol><ci id="S2.E3.m1.42.42.42.6.6.6a.cmml" xref="S2.E3.m1.42.42.42.6.6.6"><mtext class="ltx_mathvariant_bold" id="S2.E3.m1.42.42.42.6.6.6.cmml" xref="S2.E3.m1.42.42.42.6.6.6">s</mtext></ci><ci id="S2.E3.m1.43.43.43.7.7.7.1.cmml" xref="S2.E3.m1.43.43.43.7.7.7.1">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.51c">\textrm{log}\ p^{\ast}(\textbf{s}_{t}|\textbf{o})=\eta\ \textrm{log}\ p_{\text{CTC}}(\textbf{s}_{t}|\textbf{o})+(1-\eta)\ \textrm{log}\ p_{\text{S2S}}(\textbf{s}_{t}|\textbf{o})+\\
\theta\ \textrm{log}\ p_{\text{LM}}(\textbf{s}_{t}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p1.4" class="ltx_p">where <math id="S2.SS3.p1.4.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S2.SS3.p1.4.m1.1a"><mi id="S2.SS3.p1.4.m1.1.1" xref="S2.SS3.p1.4.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m1.1b"><ci id="S2.SS3.p1.4.m1.1.1.cmml" xref="S2.SS3.p1.4.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m1.1c">\theta</annotation></semantics></math> controls the contribution of the language model and is set to 0.3.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.2" class="ltx_p">All models use 80 log-mel filterbank features together with pitch, delta pitch, and the probability of voicing. These 83-dimensional features are extracted using <math id="S2.SS3.p2.1.m1.3" class="ltx_Math" alttext="25\text{\,}\mathrm{ms}" display="inline"><semantics id="S2.SS3.p2.1.m1.3a"><mrow id="S2.SS3.p2.1.m1.3.3" xref="S2.SS3.p2.1.m1.3.3.cmml"><mn id="S2.SS3.p2.1.m1.1.1.1.1.1.1" xref="S2.SS3.p2.1.m1.1.1.1.1.1.1.cmml">25</mn><mtext id="S2.SS3.p2.1.m1.2.2.2.2.2.2" xref="S2.SS3.p2.1.m1.2.2.2.2.2.2.cmml"> </mtext><mi class="ltx_unit" id="S2.SS3.p2.1.m1.3.3.3.3.3.3" xref="S2.SS3.p2.1.m1.3.3.3.3.3.3.cmml">ms</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.3b"><apply id="S2.SS3.p2.1.m1.3.3.cmml" xref="S2.SS3.p2.1.m1.3.3"><csymbol cd="latexml" id="S2.SS3.p2.1.m1.2.2.2.2.2.2.cmml" xref="S2.SS3.p2.1.m1.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S2.SS3.p2.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1.1.1.1.1">25</cn><csymbol cd="latexml" id="S2.SS3.p2.1.m1.3.3.3.3.3.3.cmml" xref="S2.SS3.p2.1.m1.3.3.3.3.3.3">millisecond</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.3c">25\text{\,}\mathrm{ms}</annotation></semantics></math> frame size and <math id="S2.SS3.p2.2.m2.3" class="ltx_Math" alttext="10\text{\,}\mathrm{ms}" display="inline"><semantics id="S2.SS3.p2.2.m2.3a"><mrow id="S2.SS3.p2.2.m2.3.3" xref="S2.SS3.p2.2.m2.3.3.cmml"><mn id="S2.SS3.p2.2.m2.1.1.1.1.1.1" xref="S2.SS3.p2.2.m2.1.1.1.1.1.1.cmml">10</mn><mtext id="S2.SS3.p2.2.m2.2.2.2.2.2.2" xref="S2.SS3.p2.2.m2.2.2.2.2.2.2.cmml"> </mtext><mi class="ltx_unit" id="S2.SS3.p2.2.m2.3.3.3.3.3.3" xref="S2.SS3.p2.2.m2.3.3.3.3.3.3.cmml">ms</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.3b"><apply id="S2.SS3.p2.2.m2.3.3.cmml" xref="S2.SS3.p2.2.m2.3.3"><csymbol cd="latexml" id="S2.SS3.p2.2.m2.2.2.2.2.2.2.cmml" xref="S2.SS3.p2.2.m2.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S2.SS3.p2.2.m2.1.1.1.1.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1.1.1.1.1">10</cn><csymbol cd="latexml" id="S2.SS3.p2.2.m2.3.3.3.3.3.3.cmml" xref="S2.SS3.p2.2.m2.3.3.3.3.3.3">millisecond</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.3c">10\text{\,}\mathrm{ms}</annotation></semantics></math> frame shift.</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.1" class="ltx_p">For the language model, we use a 4-layer recurrent neural network, which predicts a character at a time and receives the previous character as the input. Each layer consists of 2048 units. The language model is trained on the complete LibriSpeech corpus for 20 epochs using SGD.</p>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<p id="S2.SS3.p4.4" class="ltx_p">The dataset is divided into a server-side dataset and user-side datasets (see Section <a href="#S3" title="3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). The <span id="S2.SS3.p4.4.1" class="ltx_text ltx_font_typewriter">initial</span> training set is used to train the initial model <math id="S2.SS3.p4.1.m1.1" class="ltx_Math" alttext="\mathbf{W}^{0}" display="inline"><semantics id="S2.SS3.p4.1.m1.1a"><msup id="S2.SS3.p4.1.m1.1.1" xref="S2.SS3.p4.1.m1.1.1.cmml"><mi id="S2.SS3.p4.1.m1.1.1.2" xref="S2.SS3.p4.1.m1.1.1.2.cmml">𝐖</mi><mn id="S2.SS3.p4.1.m1.1.1.3" xref="S2.SS3.p4.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.1.m1.1b"><apply id="S2.SS3.p4.1.m1.1.1.cmml" xref="S2.SS3.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p4.1.m1.1.1.1.cmml" xref="S2.SS3.p4.1.m1.1.1">superscript</csymbol><ci id="S2.SS3.p4.1.m1.1.1.2.cmml" xref="S2.SS3.p4.1.m1.1.1.2">𝐖</ci><cn type="integer" id="S2.SS3.p4.1.m1.1.1.3.cmml" xref="S2.SS3.p4.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.1.m1.1c">\mathbf{W}^{0}</annotation></semantics></math>. All ESPnet experiments are trained using NVIDIAs Volta-based DGX-1 multi GPU system. The initial model is trained on 3 Tesla V100 GPUs, each with <math id="S2.SS3.p4.2.m2.3" class="ltx_Math" alttext="32\text{\,}\mathrm{G}\mathrm{B}" display="inline"><semantics id="S2.SS3.p4.2.m2.3a"><mrow id="S2.SS3.p4.2.m2.3.3" xref="S2.SS3.p4.2.m2.3.3.cmml"><mn id="S2.SS3.p4.2.m2.1.1.1.1.1.1" xref="S2.SS3.p4.2.m2.1.1.1.1.1.1.cmml">32</mn><mtext id="S2.SS3.p4.2.m2.2.2.2.2.2.2" xref="S2.SS3.p4.2.m2.2.2.2.2.2.2.cmml"> </mtext><mi id="S2.SS3.p4.2.m2.3.3.3.3.3.3" xref="S2.SS3.p4.2.m2.3.3.3.3.3.3.cmml">GB</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.2.m2.3b"><apply id="S2.SS3.p4.2.m2.3.3.cmml" xref="S2.SS3.p4.2.m2.3.3"><csymbol cd="latexml" id="S2.SS3.p4.2.m2.2.2.2.2.2.2.cmml" xref="S2.SS3.p4.2.m2.2.2.2.2.2.2">times</csymbol><cn type="integer" id="S2.SS3.p4.2.m2.1.1.1.1.1.1.cmml" xref="S2.SS3.p4.2.m2.1.1.1.1.1.1">32</cn><ci id="S2.SS3.p4.2.m2.3.3.3.3.3.3.cmml" xref="S2.SS3.p4.2.m2.3.3.3.3.3.3">GB</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.2.m2.3c">32\text{\,}\mathrm{G}\mathrm{B}</annotation></semantics></math> memory, for 100 epochs at a batch size of 32. The upper bound reference model, trained on the <span id="S2.SS3.p4.4.2" class="ltx_text ltx_font_typewriter">complete</span> set, uses the same model configuration and hyperparameter settings. For the initial and the reference model, training takes two days, and four days, respectively. In the federated learning stage, the batch size is set to 8. The hyper-parameter <math id="S2.SS3.p4.3.m3.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S2.SS3.p4.3.m3.1a"><mi id="S2.SS3.p4.3.m3.1.1" xref="S2.SS3.p4.3.m3.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.3.m3.1b"><ci id="S2.SS3.p4.3.m3.1.1.cmml" xref="S2.SS3.p4.3.m3.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.3.m3.1c">\eta</annotation></semantics></math> is set to 0.3 during training and <math id="S2.SS3.p4.4.m4.1" class="ltx_Math" alttext="\eta=0.5" display="inline"><semantics id="S2.SS3.p4.4.m4.1a"><mrow id="S2.SS3.p4.4.m4.1.1" xref="S2.SS3.p4.4.m4.1.1.cmml"><mi id="S2.SS3.p4.4.m4.1.1.2" xref="S2.SS3.p4.4.m4.1.1.2.cmml">η</mi><mo id="S2.SS3.p4.4.m4.1.1.1" xref="S2.SS3.p4.4.m4.1.1.1.cmml">=</mo><mn id="S2.SS3.p4.4.m4.1.1.3" xref="S2.SS3.p4.4.m4.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p4.4.m4.1b"><apply id="S2.SS3.p4.4.m4.1.1.cmml" xref="S2.SS3.p4.4.m4.1.1"><eq id="S2.SS3.p4.4.m4.1.1.1.cmml" xref="S2.SS3.p4.4.m4.1.1.1"></eq><ci id="S2.SS3.p4.4.m4.1.1.2.cmml" xref="S2.SS3.p4.4.m4.1.1.2">𝜂</ci><cn type="float" id="S2.SS3.p4.4.m4.1.1.3.cmml" xref="S2.SS3.p4.4.m4.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p4.4.m4.1c">\eta=0.5</annotation></semantics></math> during decoding.</p>
</div>
<div id="S2.SS3.p5" class="ltx_para">
<p id="S2.SS3.p5.4" class="ltx_p">For C-level averaging, where each client trains their model to convergence, early stopping is used, and triggered if the evaluation accuracy does not improve over 10 epochs. Both M-averaging and W-averaging are applied in the C-level experiments.
As described in Section <a href="#S2.SS1" title="2.1 Federated averaging ‣ 2 System overview ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.1</span></a>, we either use all clients to update the model or randomly select <math id="S2.SS3.p5.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS3.p5.1.m1.1a"><mi id="S2.SS3.p5.1.m1.1.1" xref="S2.SS3.p5.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p5.1.m1.1b"><ci id="S2.SS3.p5.1.m1.1.1.cmml" xref="S2.SS3.p5.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p5.1.m1.1c">N</annotation></semantics></math> of them in each round.
To asses the impact of this choice, we repeat the E-level training with <math id="S2.SS3.p5.2.m2.1" class="ltx_Math" alttext="N=100" display="inline"><semantics id="S2.SS3.p5.2.m2.1a"><mrow id="S2.SS3.p5.2.m2.1.1" xref="S2.SS3.p5.2.m2.1.1.cmml"><mi id="S2.SS3.p5.2.m2.1.1.2" xref="S2.SS3.p5.2.m2.1.1.2.cmml">N</mi><mo id="S2.SS3.p5.2.m2.1.1.1" xref="S2.SS3.p5.2.m2.1.1.1.cmml">=</mo><mn id="S2.SS3.p5.2.m2.1.1.3" xref="S2.SS3.p5.2.m2.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p5.2.m2.1b"><apply id="S2.SS3.p5.2.m2.1.1.cmml" xref="S2.SS3.p5.2.m2.1.1"><eq id="S2.SS3.p5.2.m2.1.1.1.cmml" xref="S2.SS3.p5.2.m2.1.1.1"></eq><ci id="S2.SS3.p5.2.m2.1.1.2.cmml" xref="S2.SS3.p5.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S2.SS3.p5.2.m2.1.1.3.cmml" xref="S2.SS3.p5.2.m2.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p5.2.m2.1c">N=100</annotation></semantics></math>, <math id="S2.SS3.p5.3.m3.1" class="ltx_Math" alttext="N=350" display="inline"><semantics id="S2.SS3.p5.3.m3.1a"><mrow id="S2.SS3.p5.3.m3.1.1" xref="S2.SS3.p5.3.m3.1.1.cmml"><mi id="S2.SS3.p5.3.m3.1.1.2" xref="S2.SS3.p5.3.m3.1.1.2.cmml">N</mi><mo id="S2.SS3.p5.3.m3.1.1.1" xref="S2.SS3.p5.3.m3.1.1.1.cmml">=</mo><mn id="S2.SS3.p5.3.m3.1.1.3" xref="S2.SS3.p5.3.m3.1.1.3.cmml">350</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p5.3.m3.1b"><apply id="S2.SS3.p5.3.m3.1.1.cmml" xref="S2.SS3.p5.3.m3.1.1"><eq id="S2.SS3.p5.3.m3.1.1.1.cmml" xref="S2.SS3.p5.3.m3.1.1.1"></eq><ci id="S2.SS3.p5.3.m3.1.1.2.cmml" xref="S2.SS3.p5.3.m3.1.1.2">𝑁</ci><cn type="integer" id="S2.SS3.p5.3.m3.1.1.3.cmml" xref="S2.SS3.p5.3.m3.1.1.3">350</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p5.3.m3.1c">N=350</annotation></semantics></math> and <math id="S2.SS3.p5.4.m4.1" class="ltx_Math" alttext="N=all" display="inline"><semantics id="S2.SS3.p5.4.m4.1a"><mrow id="S2.SS3.p5.4.m4.1.1" xref="S2.SS3.p5.4.m4.1.1.cmml"><mi id="S2.SS3.p5.4.m4.1.1.2" xref="S2.SS3.p5.4.m4.1.1.2.cmml">N</mi><mo id="S2.SS3.p5.4.m4.1.1.1" xref="S2.SS3.p5.4.m4.1.1.1.cmml">=</mo><mrow id="S2.SS3.p5.4.m4.1.1.3" xref="S2.SS3.p5.4.m4.1.1.3.cmml"><mi id="S2.SS3.p5.4.m4.1.1.3.2" xref="S2.SS3.p5.4.m4.1.1.3.2.cmml">a</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p5.4.m4.1.1.3.1" xref="S2.SS3.p5.4.m4.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p5.4.m4.1.1.3.3" xref="S2.SS3.p5.4.m4.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p5.4.m4.1.1.3.1a" xref="S2.SS3.p5.4.m4.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p5.4.m4.1.1.3.4" xref="S2.SS3.p5.4.m4.1.1.3.4.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p5.4.m4.1b"><apply id="S2.SS3.p5.4.m4.1.1.cmml" xref="S2.SS3.p5.4.m4.1.1"><eq id="S2.SS3.p5.4.m4.1.1.1.cmml" xref="S2.SS3.p5.4.m4.1.1.1"></eq><ci id="S2.SS3.p5.4.m4.1.1.2.cmml" xref="S2.SS3.p5.4.m4.1.1.2">𝑁</ci><apply id="S2.SS3.p5.4.m4.1.1.3.cmml" xref="S2.SS3.p5.4.m4.1.1.3"><times id="S2.SS3.p5.4.m4.1.1.3.1.cmml" xref="S2.SS3.p5.4.m4.1.1.3.1"></times><ci id="S2.SS3.p5.4.m4.1.1.3.2.cmml" xref="S2.SS3.p5.4.m4.1.1.3.2">𝑎</ci><ci id="S2.SS3.p5.4.m4.1.1.3.3.cmml" xref="S2.SS3.p5.4.m4.1.1.3.3">𝑙</ci><ci id="S2.SS3.p5.4.m4.1.1.3.4.cmml" xref="S2.SS3.p5.4.m4.1.1.3.4">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p5.4.m4.1c">N=all</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Dataset</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">For this work, we reorganized the Librispeech<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> dataset, creating dedicated training, test and development sets to simulate a realistic federated learning environment.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Therefore, we created a server-side training set for our initial and alignment models (<span id="S3.p2.1.1" class="ltx_text ltx_font_typewriter">initial</span>). Additionally, we created user datasets, which contain training, development, and test sets for every client. All 1372 clients are disjoint from the initial training set and from each other.
Furthermore, the union of the <span id="S3.p2.1.2" class="ltx_text ltx_font_typewriter">federated</span> and <span id="S3.p2.1.3" class="ltx_text ltx_font_typewriter">initial</span> training sets is termed <span id="S3.p2.1.4" class="ltx_text ltx_font_typewriter">complete</span> and used to obtain an upper performance bound, corresponding to what would be seen if all data were located on a central server, i.e. with standard, non-privacy-preserving learning.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">For testing, we created three sets: <span id="S3.p3.1.1" class="ltx_text ltx_font_typewriter">unseen</span> is composed of previously unseen speakers, <span id="S3.p3.1.2" class="ltx_text ltx_font_typewriter">initial</span> contains speakers from the training set of the initial model, and <span id="S3.p3.1.3" class="ltx_text ltx_font_typewriter">federated</span> contains speakers from the federated training set, so it simulates clients that can profit from their data contribution.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">Statistics of this dataset partitioning are shown in Tab. <a href="#S3" title="3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure id="S3.tab1" class="ltx_table">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Dataset composition of all training and test sets. The proportion of male and female speakers is close to 50%.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<table id="S3.tab1.1" class="ltx_tabular ltx_figure_panel ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.tab1.1.1.1" class="ltx_tr">
<th id="S3.tab1.1.1.1.1" class="ltx_td ltx_align_right ltx_th ltx_th_row ltx_border_bb ltx_border_bb ltx_border_l ltx_border_tt">Dataset</th>
<td id="S3.tab1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_bb ltx_border_tt">Utterances</td>
<td id="S3.tab1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_bb ltx_border_tt">Duration [h]</td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S3.tab1.2" class="ltx_p ltx_figure_panel">&amp; 37768  134.5
Training <span id="S3.tab1.2.1" class="ltx_text ltx_font_typewriter">federated</span>  110570  367.8
<span id="S3.tab1.2.2" class="ltx_text ltx_font_typewriter">complete</span>  148338  502.3
<span id="S3.tab1.2.3" class="ltx_text ltx_font_typewriter">initial</span>  487  1.7
Test <span id="S3.tab1.2.4" class="ltx_text ltx_font_typewriter">federated</span>  682  2.3
<span id="S3.tab1.2.5" class="ltx_text ltx_font_typewriter">unseen</span>  476  1.1</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<section id="S4" class="ltx_section ltx_figure_panel">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Results</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Hybrid ASR</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.2" class="ltx_p">The results of the PyTorch-Kaldi experiments are summarized in Table <a href="#S4.SS1" title="4.1 Hybrid ASR ‣ 4 Results ‣ 3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>. As expected, the performance improves along the training phases, from the GMM-HMM alignment model via the initial model to the FL-models. In all cases, the upper bound reference model performs best. FL-training was performed at the E-level, where the number in parentheses shows the number of epochs after which communication takes place. We find that more frequent update rounds of <span id="S4.SS1.p1.2.1" class="ltx_text ltx_font_italic">FedAvg</span> slightly improve the overall results, with best performance observed for updates after every <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="1/2" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mn id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">1</mn><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">/</mo><mn id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><divide id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></divide><cn type="integer" id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">1</cn><cn type="integer" id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">1/2</annotation></semantics></math> or <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="1/4" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><mrow id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mn id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">1</mn><mo id="S4.SS1.p1.2.m2.1.1.1" xref="S4.SS1.p1.2.m2.1.1.1.cmml">/</mo><mn id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><divide id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1.1"></divide><cn type="integer" id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">1</cn><cn type="integer" id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">1/4</annotation></semantics></math> of an epoch. The highest improvement through FL-training is seen on the <span id="S4.SS1.p1.2.2" class="ltx_text ltx_font_typewriter">federated</span> test set, which contains utterances of the FL speakers. The recognition quality of the other test sets does not degrade after FL-training.</p>
</div>
<figure id="S4.SS1.tab1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>WER (%) of hybrid models trained conventionally and using E-level federated learning, with associated communication cost [GB]. The final two rows show the WERs of upper bound reference models trained on the <span id="S4.SS1.tab1.3.1" class="ltx_text ltx_font_typewriter">complete</span> set. Ref. 1 learns its decision tree on the <span id="S4.SS1.tab1.4.2" class="ltx_text ltx_font_typewriter">complete</span> set; Ref. 2 uses the decision tree of the initial model.</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text" style="font-size:90%;">&amp; <span id="S4.SS1.p2.1.1.1" class="ltx_text ltx_font_typewriter">federated</span>  <span id="S4.SS1.p2.1.1.2" class="ltx_text ltx_font_typewriter">initial</span>  cost[GB]
Aligner  32.76  33.22  26.96  - 
Initial  19.06  18.18  14.05 - 
E(2)-M  19.08  17.86  14.05  326
E(1)-M  19.01  17.79  14.05  651
E(1/2)-M  19.02  <span id="S4.SS1.p2.1.1.3" class="ltx_text ltx_font_bold">17.67</span>  <span id="S4.SS1.p2.1.1.4" class="ltx_text ltx_font_bold">13.90</span>  1302
E(1/4)-M  <span id="S4.SS1.p2.1.1.5" class="ltx_text ltx_font_bold">18.94</span>  17.71  13.94  2604
Ref. 1  17.77  15.78  13.24  -
Ref. 2  17.70  16.13  13.29  -




</span></p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>End-to-end learning</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Table <a href="#S4.SS2" title="4.2 End-to-end learning ‣ 4 Results ‣ 3 Dataset ‣ Federated Learning in ASR: Not as Easy as You Think" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a> shows the experimental results using the ESPnet toolkit. Analogously to the PyTorch-Kaldi experiments, the upper-bound reference model provides best performance. For C-level FL, both averaging methods are applied, but as there is no large difference between W- and M-averaging, we applied only W-averaging in the later experiments.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.2" class="ltx_p">The E-level experiments (E-100-W, E-350-W, and E-all-W) are trained on randomly selected <math id="S4.SS2.p2.1.m1.3" class="ltx_Math" alttext="N=[100,350,\text{all}]" display="inline"><semantics id="S4.SS2.p2.1.m1.3a"><mrow id="S4.SS2.p2.1.m1.3.4" xref="S4.SS2.p2.1.m1.3.4.cmml"><mi id="S4.SS2.p2.1.m1.3.4.2" xref="S4.SS2.p2.1.m1.3.4.2.cmml">N</mi><mo id="S4.SS2.p2.1.m1.3.4.1" xref="S4.SS2.p2.1.m1.3.4.1.cmml">=</mo><mrow id="S4.SS2.p2.1.m1.3.4.3.2" xref="S4.SS2.p2.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS2.p2.1.m1.3.4.3.2.1" xref="S4.SS2.p2.1.m1.3.4.3.1.cmml">[</mo><mn id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">100</mn><mo id="S4.SS2.p2.1.m1.3.4.3.2.2" xref="S4.SS2.p2.1.m1.3.4.3.1.cmml">,</mo><mn id="S4.SS2.p2.1.m1.2.2" xref="S4.SS2.p2.1.m1.2.2.cmml">350</mn><mo id="S4.SS2.p2.1.m1.3.4.3.2.3" xref="S4.SS2.p2.1.m1.3.4.3.1.cmml">,</mo><mtext id="S4.SS2.p2.1.m1.3.3" xref="S4.SS2.p2.1.m1.3.3a.cmml">all</mtext><mo stretchy="false" id="S4.SS2.p2.1.m1.3.4.3.2.4" xref="S4.SS2.p2.1.m1.3.4.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.3b"><apply id="S4.SS2.p2.1.m1.3.4.cmml" xref="S4.SS2.p2.1.m1.3.4"><eq id="S4.SS2.p2.1.m1.3.4.1.cmml" xref="S4.SS2.p2.1.m1.3.4.1"></eq><ci id="S4.SS2.p2.1.m1.3.4.2.cmml" xref="S4.SS2.p2.1.m1.3.4.2">𝑁</ci><list id="S4.SS2.p2.1.m1.3.4.3.1.cmml" xref="S4.SS2.p2.1.m1.3.4.3.2"><cn type="integer" id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">100</cn><cn type="integer" id="S4.SS2.p2.1.m1.2.2.cmml" xref="S4.SS2.p2.1.m1.2.2">350</cn><ci id="S4.SS2.p2.1.m1.3.3a.cmml" xref="S4.SS2.p2.1.m1.3.3"><mtext id="S4.SS2.p2.1.m1.3.3.cmml" xref="S4.SS2.p2.1.m1.3.3">all</mtext></ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.3c">N=[100,350,\text{all}]</annotation></semantics></math> speakers per round. As expected, we see that a larger number of clients <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">N</annotation></semantics></math> tends towards a better performance.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">We also tested the B-level strategy (<span id="S4.SS2.p3.1.1" class="ltx_text ltx_font_bold">B</span>), updating the model after every minibatch, which we hoped would give optimal performance, as it best approximates the situation in non-FL training. However, while the communication cost became higher as expected, there are slight performance improvements at best, which do not justify this extra effort.</p>
</div>
<figure id="S4.SS2.tab1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>WER (%) of end-to-end models trained on the <span id="S4.SS2.tab1.3.1" class="ltx_text ltx_font_typewriter">initial</span> set and subsequently applying FL. Last row: WER of a reference model trained on the <span id="S4.SS2.tab1.4.2" class="ltx_text ltx_font_typewriter">complete</span> set. C, E, B represent C-, E-, and B-level updates; M and W indicate M- and W-averaging.</figcaption>
</figure>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p"><span id="S4.SS2.p4.1.1" class="ltx_text" style="font-size:90%;">&amp;<span id="S4.SS2.p4.1.1.1" class="ltx_text ltx_font_typewriter">federated</span>  <span id="S4.SS2.p4.1.1.2" class="ltx_text ltx_font_typewriter">initial</span>  cost [GB]
Initial  8.98  6.94  4.23  - 
C-M 9.00 6.88 4.18 317 
C-W 9.01 6.88 4.15 317
E-100-W  8.91  6.89  4.17  925
E-350-W  8.87  6.91  <span id="S4.SS2.p4.1.1.3" class="ltx_text ltx_font_bold">4.14</span>  1618
E-all-W  <span id="S4.SS2.p4.1.1.4" class="ltx_text ltx_font_bold">8.81</span>  6.86  4.17  4758
B-W 8.93 <span id="S4.SS2.p4.1.1.5" class="ltx_text ltx_font_bold">6.81</span> 4.15  13319
Ref  6.08  3.37  3.07  -</span></p>
</div>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p">We also see that the C-level updates, most effective in terms of communication cost, can still improve the recognition accuracy compared to the pretrained model, but the improvement does not reach that of the E-level updates. E-level updates with <math id="S4.SS2.p5.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS2.p5.1.m1.1a"><mi id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><ci id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">N</annotation></semantics></math> randomly selected speakers may also be closest to a realistic scenario, as we would not wish to ask every client to participate in every one of the model updates.</p>
</div>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusions</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We have shown that federated learning can slightly improve the recognition rates in automatic speech recognition, both using hybrid and end-to-end models. We suspect that one reason for the disappointing performance is to be found at the heart of the federated averaging approach. During FL-training, federated averaging leads to smaller gradients and, hence, to slow improvements.
While it is possible that better performance may be attained by engaging more clients and allowing for more model updates, this comes at an excruciating communication cost. Therefore, we believe that it is necessary to focus on more effective collaborative learning strategies, e.g., based on suitable client selection criteria or on re-training only parts of the networks.
</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">Furthermore, McMahan et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> point to an inherent problem of the federated learning approach, when it is applied on non-Independent, Identically Distributed (non-IID) client data. Since on-device training data is naturally grouped by speaker, there are different statistical properties in every client, which may degrade the model performance. To counter this problem, a cross-silo training approach can be beneficial and will be subject of our future investigations. Federated Variational Noise (FVN) will also be investigated, which has shown its value in recovering FL-ASR performance despite non-IID client data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p">In addition to this global view, it is also interesting to look at the model architectures in detail:</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p">For hybrid models, federated learning imposes several difficulties and impracticalities. Due to the comparatively smaller size of the initial training data, decision tree learning results in a smaller output layer size of the FL-trained models in contrast to the full model. This also hints at a similar issue in the calculation of the language model, which we did not consider here, but which would also likely have a smaller size and larger perplexity if it is not updated—while simultaneously, any updates of the language model by nature lead to a leakage of private speech content.</p>
</div>
<div id="S5.p5" class="ltx_para">
<p id="S5.p5.1" class="ltx_p">We also found that fewer iteration steps between <span id="S5.p5.1.1" class="ltx_text ltx_font_italic">FedAvg</span> improve the quality of the model, but impose a heavy computational burden. Finally, the alignment model is not updated at the moment, and no realignments of client training data were performed after model averaging, which may also be a factor in the observed performance issues. This additionally raises the interesting question, in how far—explicit or implicit—alignment is an issue in federated learning for time-series modeling in general.</p>
</div>
<div id="S5.p6" class="ltx_para">
<p id="S5.p6.1" class="ltx_p">In contrast, the end-to-end-model suffers neither from an impacted decision-tree nor from a missing explicit re-alignment. We conducted many experiments to assess the influence of different parameters and hyper-parameters of federated training, finding that allowing more participants in each round of model averaging yields better performance, and that in trying to balance the performance and cost, epoch-level averaging appears most promising.</p>
</div>
<div id="S5.p7" class="ltx_para">
<p id="S5.p7.1" class="ltx_p">All in all, however, we see the outcomes of our experiment as a pointer to underlying issues of the idea of federated averaging, when it is applied to complex, highly variable time series data, as seen in large-vocabulary speech recognition. We are releasing our source code in the hope of setting a starting point for further investigations into the important, yet also challenging question of how to achieve a reasonable balance of performance and cost in privacy-preserving machine learning.</p>
</div>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section" style="font-size:90%;">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p"><span id="Sx1.p1.1.1" class="ltx_text" style="font-size:90%;">This work was funded by the PhD School “SecHuman - Security for Humans in Cyberspace” by the federal state of NRW, and by the German Federal Ministry of Education and Research (BMBF) within the “Innovations for Tomorrow’s Production, Services, and Work” Program (02L19C200), a project that is implemented by the Project Management Agency Karlsruhe (PTKA). The authors are responsible for the content of this publication.</span><span id="Sx1.p1.1.2" class="ltx_text"></span></p>
</div>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
S. Galgali, S. S. Priyanka, B. R. Shashank, and A. P. Patil, “Speaker
profiling by extracting paralinguistic parameters using mel frequency
cepstral coefficients,” in <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proc. International Conference on Applied
and Theoretical Computing and Communication Technology</em>, 2015, pp. 486–489.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
European Parliament and Council, “Regulation (EU) 2016/679 of the European
Parliament and of the Council of 27 April 2016 on the protection of natural
persons with regard to the processing of personal data and on the free
movement of such data, and repealing Directive 95/46/EC (General Data
Protection Regulation),” 2016.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
H. B. McMahan, E. Moore, D. Ramage, and B. Agüera y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics</em>.   PMLR, 2017, pp. 1273–1282.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
J. Konečnỳ, H. B. McMahan, D. Ramage, and P. Richtárik,
“Federated optimization: Distributed machine learning for on-device
intelligence,” <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">arXiv preprint 1610.02527</em>, 2016.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
J. Konečnỳ, H. B. McMahan, F. Yu, P. Richtárik, A. T. Suresh, and
D. Bacon, “Federated learning: Strategies for improving communication
efficiency,” <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint 1610.05492</em>, 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
P. Kairouz, H. B. McMahan, B. Avent, A. Bellet, M. Bennis, A. N. Bhagoji,
K. Bonawitz, Z. Charles, G. Cormode <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Advances and open
problems in federated learning,” <em id="bib.bib6.2.2" class="ltx_emph ltx_font_italic">Foundations and
Trends® in Machine Learning</em>, vol. 14, no. 1, 2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
J. Konečnỳ, H. B. McMahan, F. Yu, P. Richtárik, A. T. Suresh, and
D. Bacon, “Federated learning: Strategies for improving communication
efficiency,” <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1610.05492</em>, 2016.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
J. Hamer, M. Mohri, and A. T. Suresh, “Fedboost: A communication-efficient
algorithm for federated learning,” in <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">International Conference on
Machine Learning</em>.   PMLR, 2020, pp.
3973–3983.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
D. Leroy, A. Coucke, T. Lavril, T. Gisselbrecht, and J. Dureau, “Federated
learning for keyword spotting,” <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">arXiv 1810.05512</em>, 2019.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
A. Hard, K. Partridge, C. Nguyen, N. Subrahmanya, A. Shah, P. Zhu, I. L.
Moreno, and R. Mathews, “Training keyword spotting models on non-IID data
with federated learning,” <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv 2005.10406</em>, 2020.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
S. Latif, S. Khalifa, R. Rana, and R. Jurdak, “Poster abstract:
Federated learning for speech emotion recognition applications,” in
<em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Proc. IPSN</em>, 2020, pp. 341–342.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
A. Hard, K. Rao, R. Mathews, S. Ramaswamy, F. Beaufays, S. Augenstein,
H. Eichner, C. Kiddon, and D. Ramage, “Federated learning for mobile
keyboard prediction,” <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1811.03604</em>, 2018.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
J. Xu, B. S. Glicksberg, C. Su, P. Walker, J. Bian, and F. Wang, “Federated
learning for healthcare informatics,” <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Journal of Healthcare
Informatics Research</em>, vol. 5, no. 1, pp. 1–19, 2021.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Y. Gao, T. Parcollet, J. Fernandez-Marques, P. P. de Gusmao, D. J. Beutel, and
N. D. Lane, “End-to-end speech recognition from federated acoustic models,”
<em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2104.14297</em>, 2021.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
R. Ardila, M. Branson, K. Davis, M. Henretty, M. Kohler, J. Meyer, R. Morais,
L. Saunders, F. M. Tyers, and G. Weber, “Common voice: A
massively-multilingual speech corpus,” <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:1912.06670</em>, 2019.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
D. Guliani, F. Beaufays, and G. Motta, “Training speech recognition models
with federated learning: A quality/cost framework,” 2020.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Y. He, T. N. Sainath, R. Prabhavalkar, I. McGraw, R. Alvarez, D. Zhao,
D. Rybach, A. Kannan, Y. Wu, R. Pang, Q. Qiao Liang, D. Bhatia, Y. Shangguan,
B. Li, G. Pundak, K. C. Sim, T. Bagby, S.-Y. Chang, K. Rao, and
A. Gruenstein, “Streaming end-to-end speech recognition for mobile
devices,” in <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Proc. ICASSP</em>, 2019, pp. 6381–6385.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
X. Cui, S. Lu, and B. Kingsbury, “Federated acoustic modeling for automatic
speech recognition,” <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv 2102.04429</em>, 2021.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
D. Dimitriadis, K. Kumatani, R. Gmyr, Y. Gaur, and S. Eskimez, “A federated
approach in training acoustic models,” in <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Proc. Interspeech</em>, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
M. Ravanelli, T. Parcollet, and Y. Bengio, “The PyTorch-Kaldi Speech
Recognition Toolkit,” in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proc. ICASSP</em>, 2019.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
S. Watanabe, T. Hori, S. Karita, T. Hayashi, J. Nishitoba, Y. Unno, N. Enrique,
J. Heymann, M. Wiesner, N. Chen, A. Renduchintala, and T. Ochiai, “ESPnet:
End-to-End Speech Processing Toolkit,” in <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Proc.
Interspeech</em>, 2018, pp. 2207–2211.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
V. Panayotov, G. Chen, D. Povey, and S. Khudanpur, “Librispeech: An
ASR corpus based on public domain audio books,” in <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proc. ICASSP</em>,
2015, pp. 5206–5210.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
D. Povey, A. Ghoshal, G. Boulianne, L. Burget, O. Glembek, N. Goel,
M. Hannemann, P. Motlicek, Y. Qian, P. Schwarz, J. Silovsky, G. Stemmer, and
K. Vesely, “The Kaldi speech recognition toolkit,” in <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proc. ASRU</em>,
2011.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
A. Graves, S. Fernández, F. Gomez, and J. Schmidhuber, “Connectionist
temporal classification: labelling unsegmented sequence data with recurrent
neural networks,” in <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 23rd International Conference
on Machine learning</em>, 2006, pp. 369–376.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</section>
</section>
</div>
</div>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2109.15107" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2109.15108" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2109.15108">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2109.15108" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2109.15109" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar  2 03:08:33 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
