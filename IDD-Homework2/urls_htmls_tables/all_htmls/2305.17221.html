<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2305.17221] Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms</title><meta property="og:description" content="This paper studies a new task of federated learning (FL) for semantic parsing, where multiple clients collaboratively train one global model without sharing their semantic parsing data. By leveraging data from multiple…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2305.17221">

<!--Generated on Mon Feb 26 22:47:37 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Learning for Semantic Parsing:
<br class="ltx_break">Task Formulation, Evaluation Setup, New Algorithms</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Tianshu Zhang<sup id="id1.1.id1" class="ltx_sup">1</sup>, Changchang Liu<sup id="id2.2.id2" class="ltx_sup">2</sup>, Wei-Han Lee<sup id="id3.3.id3" class="ltx_sup">2</sup>, Yu Su<sup id="id4.4.id4" class="ltx_sup">1</sup>, Huan Sun<sup id="id5.5.id5" class="ltx_sup">1</sup> 
<br class="ltx_break"><sup id="id6.6.id6" class="ltx_sup">1</sup>The Ohio State University
<br class="ltx_break"><sup id="id7.7.id7" class="ltx_sup">2</sup>IBM Research

<br class="ltx_break"><sup id="id8.8.id8" class="ltx_sup"><span id="id8.8.id8.1" class="ltx_text ltx_font_typewriter">1</span></sup><span id="id9.9.id9" class="ltx_text ltx_font_typewriter">{zhang.11535, su.809, sun.397}@osu.edu</span> 
<br class="ltx_break"><sup id="id10.10.id10" class="ltx_sup"><span id="id10.10.id10.1" class="ltx_text ltx_font_typewriter">2</span></sup><span id="id11.11.id11" class="ltx_text ltx_font_typewriter">{changchang.liu33, wei-han.lee1}@ibm.com</span>
</span><span class="ltx_author_notes">  Work started during the internship at IBM T. J. Watson Research Center and continued at OSU.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id12.id1" class="ltx_p">This paper studies a new task of federated learning (FL) for semantic parsing, where multiple clients collaboratively train one global model without sharing their semantic parsing data. By leveraging data from multiple clients, the FL paradigm can be especially beneficial for clients that have little training data to develop a data-hungry neural semantic parser on their own. We propose an evaluation setup to study this task, where we re-purpose widely-used single-domain text-to-SQL datasets as clients to form a realistic heterogeneous FL setting and collaboratively train a global model. 
As standard FL algorithms suffer from the high client heterogeneity in our realistic setup,
we further propose a novel <span id="id12.id1.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">LO</span>ss <span id="id12.id1.2" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">R</span>eduction <span id="id12.id1.3" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">A</span>djusted <span id="id12.id1.4" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">R</span>e-weighting (<span id="id12.id1.5" class="ltx_text ltx_font_typewriter">Lorar</span>) mechanism to mitigate the performance degradation, which adjusts each client’s contribution to the global model update based on its training loss reduction during each round. Our intuition is that the larger the loss reduction, the further away the current global model is from the client’s local optimum, and the larger weight the client should get. By applying <span id="id12.id1.6" class="ltx_text ltx_font_typewriter">Lorar</span> to three widely adopted FL algorithms (FedAvg, FedOPT and FedProx), we observe that their performance can be improved substantially on average (4%-20% absolute gain under MacroAvg) and that clients with smaller datasets enjoy larger performance gains. In addition, the global model converges faster for almost all the clients.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Our code and data are publicly available at <a target="_blank" href="https://github.com/OSU-NLP-Group/FL4SemanticParsing" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/OSU-NLP-Group/FL4SemanticParsing</a></span></span></span></p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Semantic parsing aims to translate natural language utterances into formal meaning representations such as SQL queries and API calls and can be applied to build natural language interfaces that enable users to query data and invoke services without programming <cite class="ltx_cite ltx_citemacro_cite">Berant et al. (<a href="#bib.bib1" title="" class="ltx_ref">2013</a>); Thomason et al. (<a href="#bib.bib29" title="" class="ltx_ref">2015</a>); Su et al. (<a href="#bib.bib26" title="" class="ltx_ref">2017</a>); Campagna et al. (<a href="#bib.bib2" title="" class="ltx_ref">2017</a>)</cite>. Neural semantic parsers have achieved remarkable performance in recent years <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib30" title="" class="ltx_ref">2020a</a>); Rubin and Berant (<a href="#bib.bib22" title="" class="ltx_ref">2021</a>); Scholak et al. (<a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite>. However, they are data-hungry; bootstrapping a neural semantic parser by annotating data on a large scale can be very challenging for many institutions, as it requires the annotators to have intimate knowledge of formal programs. One natural thought is to leverage data from different institutions and train a unified model that can be used for all institutions. However, in practice, institutions such as hospitals, banks, and legal firms are prohibited from sharing their data with others, due to privacy concerns. Therefore, for institutions that only have very limited data, it is extremely hard to build their own neural semantic parsers.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">Konečnỳ et al. (<a href="#bib.bib10" title="" class="ltx_ref">2016</a>); McMahan et al. (<a href="#bib.bib17" title="" class="ltx_ref">2017</a>); Yang et al. (<a href="#bib.bib34" title="" class="ltx_ref">2018</a>)</cite> has turned out to be a popular training paradigm where multiple clients can collaboratively train a global model without exchanging their own data. In this paper, we study a new task of federated learning for semantic parsing. Through FL on the data scattered on different clients (e.g., institutions), we aim to obtain a global model that works well for all clients, especially those that have insufficient data to build their own neural models.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Towards that end, we propose an evaluation setup by re-purposing eight existing datasets that are widely adopted for text-to-SQL parsing, such as ATIS <cite class="ltx_cite ltx_citemacro_cite">Iyer et al. (<a href="#bib.bib8" title="" class="ltx_ref">2017</a>)</cite> and Yelp <cite class="ltx_cite ltx_citemacro_cite">Yaghmazadeh et al. (<a href="#bib.bib33" title="" class="ltx_ref">2017</a>)</cite>. These datasets demonstrate great heterogeneity, in terms of dataset sizes, language usage, database structures, and SQL complexity, as they were collected from the real life by different researchers, at different times, and for different purposes. Therefore, we use this collection to simulate a realistic scenario where eight clients with very different data participate in the FL paradigm to jointly train a neural semantic parser.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Heterogeneity, where the data distributions and dataset sizes on different clients are different, is recognized as one of the biggest challenges in FL <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib17" title="" class="ltx_ref">2017</a>); Reddi et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>); Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>, <a href="#bib.bib15" title="" class="ltx_ref">2021</a>); Shoham et al. (<a href="#bib.bib25" title="" class="ltx_ref">2019</a>); T Dinh et al. (<a href="#bib.bib27" title="" class="ltx_ref">2020</a>)</cite>. Existing work either uses synthetic data <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>)</cite> or splits a classification dataset based on Dirichlet distribution <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite> to simulate the non-IID federated learning setting, while we propose a more realistic setup to study this setting for semantic parsing. Pre-trained language models such as T5 <cite class="ltx_cite ltx_citemacro_cite">Raffel et al. (<a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite> have been shown as a powerful unified model for various semantic parsing tasks <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>); Rajkumar et al. (<a href="#bib.bib20" title="" class="ltx_ref">2022</a>)</cite>, which can be leveraged to save us the efforts for client-specific model designs. Specifically, we adopt T5-base as our backbone semantic parser in the FL paradigm, and conduct extensive experiments and analysis using three widely-adopted FL algorithms: FedAvg <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib17" title="" class="ltx_ref">2017</a>)</cite>, FedOPT <cite class="ltx_cite ltx_citemacro_cite">Reddi et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> and FedProx <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>)</cite>.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">As standard FL algorithms suffer from the high client heterogeneity in our realistic setup, we further propose a novel re-weighting mechanism for combining the gradient updates from each client during the global model update. The high-level idea is shown in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Our intuition is that, for each client, the reduction of training loss during each round can signalize how far the current global model is away from the local optimum. By giving larger weights to those clients that have larger training loss reduction, the global model update can accommodate those clients better, thus mitigating potential performance degradation caused by high heterogeneity. We formulate this intuition as a re-weighting factor to adjust how much each client should contribute to the global model update during each round. Our proposed mechanism can be applied to all the three FL algorithms and experiments show that it can substantially improve both their parsing performance and their convergence speed, despite being very simple.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2305.17221/assets/figures/motivating_example_v4.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="293" height="139" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Our proposed re-weighting mechanism <span id="S1.F1.6.1" class="ltx_text ltx_font_typewriter">Lorar</span> for the global model update in each round. The weight for each client (i.e., its contribution to the global model update) will be adjusted based on its loss reduction in each round. <math id="S1.F1.2.m1.1" class="ltx_Math" alttext="\Delta\mathcal{L}^{t}_{i}" display="inline"><semantics id="S1.F1.2.m1.1b"><mrow id="S1.F1.2.m1.1.1" xref="S1.F1.2.m1.1.1.cmml"><mi mathvariant="normal" id="S1.F1.2.m1.1.1.2" xref="S1.F1.2.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S1.F1.2.m1.1.1.1" xref="S1.F1.2.m1.1.1.1.cmml">​</mo><msubsup id="S1.F1.2.m1.1.1.3" xref="S1.F1.2.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S1.F1.2.m1.1.1.3.2.2" xref="S1.F1.2.m1.1.1.3.2.2.cmml">ℒ</mi><mi id="S1.F1.2.m1.1.1.3.3" xref="S1.F1.2.m1.1.1.3.3.cmml">i</mi><mi id="S1.F1.2.m1.1.1.3.2.3" xref="S1.F1.2.m1.1.1.3.2.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S1.F1.2.m1.1c"><apply id="S1.F1.2.m1.1.1.cmml" xref="S1.F1.2.m1.1.1"><times id="S1.F1.2.m1.1.1.1.cmml" xref="S1.F1.2.m1.1.1.1"></times><ci id="S1.F1.2.m1.1.1.2.cmml" xref="S1.F1.2.m1.1.1.2">Δ</ci><apply id="S1.F1.2.m1.1.1.3.cmml" xref="S1.F1.2.m1.1.1.3"><csymbol cd="ambiguous" id="S1.F1.2.m1.1.1.3.1.cmml" xref="S1.F1.2.m1.1.1.3">subscript</csymbol><apply id="S1.F1.2.m1.1.1.3.2.cmml" xref="S1.F1.2.m1.1.1.3"><csymbol cd="ambiguous" id="S1.F1.2.m1.1.1.3.2.1.cmml" xref="S1.F1.2.m1.1.1.3">superscript</csymbol><ci id="S1.F1.2.m1.1.1.3.2.2.cmml" xref="S1.F1.2.m1.1.1.3.2.2">ℒ</ci><ci id="S1.F1.2.m1.1.1.3.2.3.cmml" xref="S1.F1.2.m1.1.1.3.2.3">𝑡</ci></apply><ci id="S1.F1.2.m1.1.1.3.3.cmml" xref="S1.F1.2.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.2.m1.1d">\Delta\mathcal{L}^{t}_{i}</annotation></semantics></math> means the training loss reduction of the <span id="S1.F1.7.2" class="ltx_text ltx_font_italic">i-th</span> client in the <span id="S1.F1.8.3" class="ltx_text ltx_font_italic">t-th</span> round. </figcaption>
</figure>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In summary, our main contributions are:
</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.ix1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.ix1.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.ix1.1.1.m1.1b"><mo id="S1.I1.ix1.1.1.m1.1.1" xref="S1.I1.ix1.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix1.1.1.m1.1c"><ci id="S1.I1.ix1.1.1.m1.1.1.cmml" xref="S1.I1.ix1.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix1.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.ix1.p1" class="ltx_para">
<p id="S1.I1.ix1.p1.1" class="ltx_p">To the best of our knowledge, we are the first to study federated learning for semantic parsing, a promising paradigm for multiple institutions to collaboratively build natural language interfaces without data sharing, which is especially beneficial for institutions with little training data.</p>
</div>
</li>
<li id="S1.I1.ix2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.ix2.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.ix2.1.1.m1.1b"><mo id="S1.I1.ix2.1.1.m1.1.1" xref="S1.I1.ix2.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix2.1.1.m1.1c"><ci id="S1.I1.ix2.1.1.m1.1.1.cmml" xref="S1.I1.ix2.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix2.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.ix2.p1" class="ltx_para">
<p id="S1.I1.ix2.p1.1" class="ltx_p">We propose an evaluation setup to simulate a realistic heterogeneous FL setting where different participating institutions have very different data. We re-purpose eight single-domain text-to-SQL datasets as eight clients, which demonstrate high heterogeneity in terms of dataset sizes, language usage, database structures, and SQL complexity.</p>
</div>
</li>
<li id="S1.I1.ix3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><math id="S1.I1.ix3.1.1.m1.1" class="ltx_Math" alttext="\bullet" display="inline"><semantics id="S1.I1.ix3.1.1.m1.1b"><mo id="S1.I1.ix3.1.1.m1.1.1" xref="S1.I1.ix3.1.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S1.I1.ix3.1.1.m1.1c"><ci id="S1.I1.ix3.1.1.m1.1.1.cmml" xref="S1.I1.ix3.1.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.I1.ix3.1.1.m1.1d">\bullet</annotation></semantics></math></span> 
<div id="S1.I1.ix3.p1" class="ltx_para">
<p id="S1.I1.ix3.p1.1" class="ltx_p">We propose a novel re-weighting mechanism, which uses the training loss reduction of each client to adjust its contribution to the global model update during each round. Experiments show that our re-weighting mechanism can substantially improve the model performance of existing FL algorithms on average, and clients with smaller training data observe larger performance gains. We discuss the limitations of our work and encourage future work to further study this task.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Motivation and Task Formulation</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Semantic parsing aims to translate natural language utterances into formal meaning representations and has numerous applications in building natural language interfaces that enable users to query data and invoke services without programming. As many institutions often lack data to develop neural semantic parsers by themselves, we propose a federated learning paradigm, where clients (i.e., “institutions”) collaboratively train a global semantic parsing model without sharing their data.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">There are two realistic settings of FL: cross-silo setting and cross-device setting <cite class="ltx_cite ltx_citemacro_cite">Kairouz et al. (<a href="#bib.bib9" title="" class="ltx_ref">2021</a>); Lin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite>. For the cross-silo setting, clients are large institutions, such as hospitals and companies, and the number of clients is limited in this setting. In general, they have large computational resources and storage to train and store a large model, and large communication costs between the server and clients are tolerated. For the cross-device setting, clients are small devices such as mobile phones and Raspberry Pis, thus there may exist a huge number of clients. They have limited computational resources and storage and only small communication costs between the server and clients are affordable. Here our FL for semantic parsing can be regarded as a cross-silo setting, where each client is a relatively large institution that hopes to build a natural language interface based on its user utterances and underlying data. Studying FL for semantic parsing under a cross-device setting could be interesting future work.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Evaluation Setup</h2>

<figure id="S3.T1" class="ltx_table">
<div id="S3.T1.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:168pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-38.8pt,15.0pt) scale(0.848293466461018,0.848293466461018) ;">
<table id="S3.T1.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.2.2.3.1" class="ltx_tr">
<th id="S3.T1.2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S3.T1.2.2.3.1.1.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S3.T1.2.2.3.1.2.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S3.T1.2.2.3.1.3.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.3.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S3.T1.2.2.3.1.4.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.3.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S3.T1.2.2.3.1.5.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.3.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S3.T1.2.2.3.1.6.1" class="ltx_text">SQL</span></th>
<th id="S3.T1.2.2.3.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S3.T1.2.2.3.1.7.1" class="ltx_text">Questions</span></th>
<th id="S3.T1.2.2.3.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">Unique tables</th>
<th id="S3.T1.2.2.3.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2">
<span id="S3.T1.2.2.3.1.9.1" class="ltx_text ltx_font_typewriter">SELECT</span>s</th>
</tr>
<tr id="S3.T1.2.2.4.2" class="ltx_tr">
<th id="S3.T1.2.2.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.4.2.1.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.4.2.2.1" class="ltx_text">Domain</span></th>
<th id="S3.T1.2.2.4.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.4.2.3.1" class="ltx_text">Train</span></th>
<th id="S3.T1.2.2.4.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.4.2.4.1" class="ltx_text">Dev</span></th>
<th id="S3.T1.2.2.4.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.4.2.5.1" class="ltx_text">Test</span></th>
<th id="S3.T1.2.2.4.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.4.2.6.1" class="ltx_text">Pattern</span></th>
<th id="S3.T1.2.2.4.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.4.2.7.1" class="ltx_text">/ unique query</span></th>
<th id="S3.T1.2.2.4.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2">/ query</th>
<th id="S3.T1.2.2.4.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="2">/ query</th>
</tr>
<tr id="S3.T1.2.2.2" class="ltx_tr">
<th id="S3.T1.2.2.2.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.2.3.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.2.4.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.5.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.6.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r"><span id="S3.T1.2.2.2.7.1" class="ltx_text"></span></th>
<th id="S3.T1.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.8.1" class="ltx_text">count</span></th>
<th id="S3.T1.2.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.9.1" class="ltx_text">count</span></th>
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.1.1.1.1.1" class="ltx_text"><math id="S3.T1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.T1.1.1.1.1.1.m1.1a"><mi id="S3.T1.1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.1.m1.1c">\mu</annotation></semantics></math></span></th>
<th id="S3.T1.2.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.10.1" class="ltx_text">Max</span></th>
<th id="S3.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.2.1" class="ltx_text"><math id="S3.T1.2.2.2.2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.T1.2.2.2.2.1.m1.1a"><mi id="S3.T1.2.2.2.2.1.m1.1.1" xref="S3.T1.2.2.2.2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.1.m1.1b"><ci id="S3.T1.2.2.2.2.1.m1.1.1.cmml" xref="S3.T1.2.2.2.2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.1.m1.1c">\mu</annotation></semantics></math></span></th>
<th id="S3.T1.2.2.2.11" class="ltx_td ltx_align_center ltx_th ltx_th_column"><span id="S3.T1.2.2.2.11.1" class="ltx_text">Max</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.2.2.5.1" class="ltx_tr">
<td id="S3.T1.2.2.5.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Advising</td>
<td id="S3.T1.2.2.5.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Course Infomation</td>
<td id="S3.T1.2.2.5.1.3" class="ltx_td ltx_align_center ltx_border_t">2629</td>
<td id="S3.T1.2.2.5.1.4" class="ltx_td ltx_align_center ltx_border_t">229</td>
<td id="S3.T1.2.2.5.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">573</td>
<td id="S3.T1.2.2.5.1.6" class="ltx_td ltx_align_center ltx_border_t">174</td>
<td id="S3.T1.2.2.5.1.7" class="ltx_td ltx_align_center ltx_border_t">21.7</td>
<td id="S3.T1.2.2.5.1.8" class="ltx_td ltx_align_center ltx_border_t">3.0</td>
<td id="S3.T1.2.2.5.1.9" class="ltx_td ltx_align_center ltx_border_t">9</td>
<td id="S3.T1.2.2.5.1.10" class="ltx_td ltx_align_center ltx_border_t">1.23</td>
<td id="S3.T1.2.2.5.1.11" class="ltx_td ltx_align_center ltx_border_t">6</td>
</tr>
<tr id="S3.T1.2.2.6.2" class="ltx_tr">
<td id="S3.T1.2.2.6.2.1" class="ltx_td ltx_align_left ltx_border_r">ATIS</td>
<td id="S3.T1.2.2.6.2.2" class="ltx_td ltx_align_center ltx_border_r">Flight Booking</td>
<td id="S3.T1.2.2.6.2.3" class="ltx_td ltx_align_center">4347</td>
<td id="S3.T1.2.2.6.2.4" class="ltx_td ltx_align_center">486</td>
<td id="S3.T1.2.2.6.2.5" class="ltx_td ltx_align_center ltx_border_r">447</td>
<td id="S3.T1.2.2.6.2.6" class="ltx_td ltx_align_center">751</td>
<td id="S3.T1.2.2.6.2.7" class="ltx_td ltx_align_center">5.6</td>
<td id="S3.T1.2.2.6.2.8" class="ltx_td ltx_align_center">3.8</td>
<td id="S3.T1.2.2.6.2.9" class="ltx_td ltx_align_center">12</td>
<td id="S3.T1.2.2.6.2.10" class="ltx_td ltx_align_center">1.79</td>
<td id="S3.T1.2.2.6.2.11" class="ltx_td ltx_align_center">8</td>
</tr>
<tr id="S3.T1.2.2.7.3" class="ltx_tr">
<td id="S3.T1.2.2.7.3.1" class="ltx_td ltx_align_left ltx_border_r">GeoQuery</td>
<td id="S3.T1.2.2.7.3.2" class="ltx_td ltx_align_center ltx_border_r">US Geography</td>
<td id="S3.T1.2.2.7.3.3" class="ltx_td ltx_align_center">549</td>
<td id="S3.T1.2.2.7.3.4" class="ltx_td ltx_align_center">49</td>
<td id="S3.T1.2.2.7.3.5" class="ltx_td ltx_align_center ltx_border_r">279</td>
<td id="S3.T1.2.2.7.3.6" class="ltx_td ltx_align_center">98</td>
<td id="S3.T1.2.2.7.3.7" class="ltx_td ltx_align_center">3.6</td>
<td id="S3.T1.2.2.7.3.8" class="ltx_td ltx_align_center">1.1</td>
<td id="S3.T1.2.2.7.3.9" class="ltx_td ltx_align_center">4</td>
<td id="S3.T1.2.2.7.3.10" class="ltx_td ltx_align_center">1.77</td>
<td id="S3.T1.2.2.7.3.11" class="ltx_td ltx_align_center">8</td>
</tr>
<tr id="S3.T1.2.2.8.4" class="ltx_tr">
<td id="S3.T1.2.2.8.4.1" class="ltx_td ltx_align_left ltx_border_r">Restaurants</td>
<td id="S3.T1.2.2.8.4.2" class="ltx_td ltx_align_center ltx_border_r">Restaurants/Food</td>
<td id="S3.T1.2.2.8.4.3" class="ltx_td ltx_align_center">228</td>
<td id="S3.T1.2.2.8.4.4" class="ltx_td ltx_align_center">76</td>
<td id="S3.T1.2.2.8.4.5" class="ltx_td ltx_align_center ltx_border_r">74</td>
<td id="S3.T1.2.2.8.4.6" class="ltx_td ltx_align_center">17</td>
<td id="S3.T1.2.2.8.4.7" class="ltx_td ltx_align_center">16.4</td>
<td id="S3.T1.2.2.8.4.8" class="ltx_td ltx_align_center">2.3</td>
<td id="S3.T1.2.2.8.4.9" class="ltx_td ltx_align_center">4</td>
<td id="S3.T1.2.2.8.4.10" class="ltx_td ltx_align_center">1.17</td>
<td id="S3.T1.2.2.8.4.11" class="ltx_td ltx_align_center">2</td>
</tr>
<tr id="S3.T1.2.2.9.5" class="ltx_tr">
<td id="S3.T1.2.2.9.5.1" class="ltx_td ltx_align_left ltx_border_r">Scholar</td>
<td id="S3.T1.2.2.9.5.2" class="ltx_td ltx_align_center ltx_border_r">Academic Publication</td>
<td id="S3.T1.2.2.9.5.3" class="ltx_td ltx_align_center">499</td>
<td id="S3.T1.2.2.9.5.4" class="ltx_td ltx_align_center">100</td>
<td id="S3.T1.2.2.9.5.5" class="ltx_td ltx_align_center ltx_border_r">218</td>
<td id="S3.T1.2.2.9.5.6" class="ltx_td ltx_align_center">146</td>
<td id="S3.T1.2.2.9.5.7" class="ltx_td ltx_align_center">4.2</td>
<td id="S3.T1.2.2.9.5.8" class="ltx_td ltx_align_center">3.2</td>
<td id="S3.T1.2.2.9.5.9" class="ltx_td ltx_align_center">6</td>
<td id="S3.T1.2.2.9.5.10" class="ltx_td ltx_align_center">1.02</td>
<td id="S3.T1.2.2.9.5.11" class="ltx_td ltx_align_center">2</td>
</tr>
<tr id="S3.T1.2.2.10.6" class="ltx_tr">
<td id="S3.T1.2.2.10.6.1" class="ltx_td ltx_align_left ltx_border_r">Academic</td>
<td id="S3.T1.2.2.10.6.2" class="ltx_td ltx_align_center ltx_border_r">Microsoft Academic</td>
<td id="S3.T1.2.2.10.6.3" class="ltx_td ltx_align_center">120</td>
<td id="S3.T1.2.2.10.6.4" class="ltx_td ltx_align_center">38</td>
<td id="S3.T1.2.2.10.6.5" class="ltx_td ltx_align_center ltx_border_r">38</td>
<td id="S3.T1.2.2.10.6.6" class="ltx_td ltx_align_center">92</td>
<td id="S3.T1.2.2.10.6.7" class="ltx_td ltx_align_center">1.1</td>
<td id="S3.T1.2.2.10.6.8" class="ltx_td ltx_align_center">3</td>
<td id="S3.T1.2.2.10.6.9" class="ltx_td ltx_align_center">6</td>
<td id="S3.T1.2.2.10.6.10" class="ltx_td ltx_align_center">1.04</td>
<td id="S3.T1.2.2.10.6.11" class="ltx_td ltx_align_center">3</td>
</tr>
<tr id="S3.T1.2.2.11.7" class="ltx_tr">
<td id="S3.T1.2.2.11.7.1" class="ltx_td ltx_align_left ltx_border_r">IMDB</td>
<td id="S3.T1.2.2.11.7.2" class="ltx_td ltx_align_center ltx_border_r">Internet Movie</td>
<td id="S3.T1.2.2.11.7.3" class="ltx_td ltx_align_center">78</td>
<td id="S3.T1.2.2.11.7.4" class="ltx_td ltx_align_center">26</td>
<td id="S3.T1.2.2.11.7.5" class="ltx_td ltx_align_center ltx_border_r">26</td>
<td id="S3.T1.2.2.11.7.6" class="ltx_td ltx_align_center">52</td>
<td id="S3.T1.2.2.11.7.7" class="ltx_td ltx_align_center">1.5</td>
<td id="S3.T1.2.2.11.7.8" class="ltx_td ltx_align_center">1.9</td>
<td id="S3.T1.2.2.11.7.9" class="ltx_td ltx_align_center">5</td>
<td id="S3.T1.2.2.11.7.10" class="ltx_td ltx_align_center">1.01</td>
<td id="S3.T1.2.2.11.7.11" class="ltx_td ltx_align_center">2</td>
</tr>
<tr id="S3.T1.2.2.12.8" class="ltx_tr">
<td id="S3.T1.2.2.12.8.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r">Yelp</td>
<td id="S3.T1.2.2.12.8.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">Yelp Website</td>
<td id="S3.T1.2.2.12.8.3" class="ltx_td ltx_align_center ltx_border_bb">78</td>
<td id="S3.T1.2.2.12.8.4" class="ltx_td ltx_align_center ltx_border_bb">26</td>
<td id="S3.T1.2.2.12.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">24</td>
<td id="S3.T1.2.2.12.8.6" class="ltx_td ltx_align_center ltx_border_bb">89</td>
<td id="S3.T1.2.2.12.8.7" class="ltx_td ltx_align_center ltx_border_bb">1.2</td>
<td id="S3.T1.2.2.12.8.8" class="ltx_td ltx_align_center ltx_border_bb">2</td>
<td id="S3.T1.2.2.12.8.9" class="ltx_td ltx_align_center ltx_border_bb">4</td>
<td id="S3.T1.2.2.12.8.10" class="ltx_td ltx_align_center ltx_border_bb">1</td>
<td id="S3.T1.2.2.12.8.11" class="ltx_td ltx_align_center ltx_border_bb">1</td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>
Statistics for the heterogeneous text-to-SQL datasets. "<math id="S3.T1.4.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S3.T1.4.m1.1b"><mi id="S3.T1.4.m1.1.1" xref="S3.T1.4.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S3.T1.4.m1.1c"><ci id="S3.T1.4.m1.1.1.cmml" xref="S3.T1.4.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.4.m1.1d">\mu</annotation></semantics></math>": the average number under the measure. "Max": the max number under the measure.</figcaption>
</figure>
<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">As we are the first to study cross-silo FL for semantic parsing, there is no benchmark for this task. Thus we establish an evaluation setup by re-purposing eight single-domain text-to-SQL datasets <cite class="ltx_cite ltx_citemacro_cite">Finegan-Dollak et al. (<a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite> as eight “clients”, which demonstrate high heterogeneity in terms of dataset sizes, domains, language usage, database structures and SQL complexity. Table <a href="#S3.T1" title="Table 1 ‣ 3 Evaluation Setup ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows their statistics.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Given a natural language question and the database schema, text-to-SQL parsing aims to generate a SQL query. Here the question is a sequence of tokens and the database schema consists of multiple tables with each table containing multiple columns. Figure <a href="#A1.F7" title="Figure 7 ‣ A.3 Performance Variation under Varying Communication Rounds. ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> in Appendix shows an example of this task. We adopt T5-base as our backbone model, which has been shown as an effective unified model for various semantic parsing tasks <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite>. Similarly as in previous work <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite>, we concatenate the question tokens with the serialized relational table schemas (table names and column names) as the model input and output a sequence of SQL tokens.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">The heterogeneity of the eight clients is described in detail from the following perspectives.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p"><span id="S3.p4.1.1" class="ltx_text ltx_font_bold">Domain:</span> The clients are from diverse domains. Some clients such as Scholar and Academic are from closer domains than others.</p>
</div>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.1" class="ltx_p"><span id="S3.p5.1.1" class="ltx_text ltx_font_bold">Dataset Size:</span> The clients differ significantly in terms of dataset sizes. Here, we consider datasets with more than 1000 train examples as <em id="S3.p5.1.2" class="ltx_emph ltx_font_italic">large-sized</em> datasets, with 200<math id="S3.p5.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S3.p5.1.m1.1a"><mo id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><csymbol cd="latexml" id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">\sim</annotation></semantics></math>1000 as <em id="S3.p5.1.3" class="ltx_emph ltx_font_italic">medium-sized</em> datasets, and with less than 200 as <em id="S3.p5.1.4" class="ltx_emph ltx_font_italic">small-sized</em> datasets. In our setup, we have 2 large-sized clients (Advising and ATIS), 3 medium-sized clients (Geoquery, Restaurants and Scholar), and 3 small-sized clients (Academic, IMDB and Yelp).</p>
</div>
<div id="S3.p6" class="ltx_para">
<p id="S3.p6.1" class="ltx_p"><span id="S3.p6.1.1" class="ltx_text ltx_font_bold">Diversity:</span>
“SQL pattern count” shows the number of SQL patterns in the full dataset. The patterns are abstracted from the SQL queries with specific table names, column names and variables anonymized.  A larger value under this measure indicates greater diversity. In our benchmark, Advising, ATIS and Scholar have larger diversity than the other datasets.</p>
</div>
<div id="S3.p7" class="ltx_para">
<p id="S3.p7.1" class="ltx_p"><span id="S3.p7.1.1" class="ltx_text ltx_font_bold">Redundancy:</span> “Questions per unique SQL query” counts how many natural language questions can be translated into the same SQL query (where variables are anonymized). A larger value indicates higher redundancy in the dataset. Intuitively, the higher the redundancy, the more easily a model can make correct predictions. In our benchmark, the redundancy for Advising and Restaurants is higher than the other datasets.</p>
</div>
<div id="S3.p8" class="ltx_para">
<p id="S3.p8.1" class="ltx_p"><span id="S3.p8.1.1" class="ltx_text ltx_font_bold">Complexity:</span>
“Unique tables per SQL query” (where variables in the SQL query are anonymized) represents how many unique tables are mentioned in one query. “<span id="S3.p8.1.2" class="ltx_text ltx_font_typewriter">SELECT</span>s per query” counts how many <span id="S3.p8.1.3" class="ltx_text ltx_font_typewriter">SELECT</span> clauses are included in one query. The larger these two measures, the more complex the dataset is and the more difficult for a model to make predictions. In our benchmark, Advising and ATIS are more complex.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>FL for Semantic Parsing</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we first introduce the background of FL, more specifically, its training objective, training procedure and three widely adopted FL algorithms. Then we describe the motivating insights and details of our proposed mechanism.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Background</h3>

<div id="S4.SS1.p1" class="ltx_para ltx_noindent">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Training Objective.</span> Federated learning aims to optimize the following objective function:</p>
<table id="S4.E1" class="ltx_equationgroup ltx_eqn_table">
<tbody>
<tr id="S4.E1X" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E1X.2.1.1.m1.2" class="ltx_Math" alttext="\displaystyle\min\limits_{w}\mathcal{F}(w):=\sum\nolimits_{i=1}^{N}p_{i}\mathcal{L}_{i}(w)" display="inline"><semantics id="S4.E1X.2.1.1.m1.2a"><mrow id="S4.E1X.2.1.1.m1.2.3" xref="S4.E1X.2.1.1.m1.2.3.cmml"><mrow id="S4.E1X.2.1.1.m1.2.3.2" xref="S4.E1X.2.1.1.m1.2.3.2.cmml"><mrow id="S4.E1X.2.1.1.m1.2.3.2.2" xref="S4.E1X.2.1.1.m1.2.3.2.2.cmml"><munder id="S4.E1X.2.1.1.m1.2.3.2.2.1" xref="S4.E1X.2.1.1.m1.2.3.2.2.1.cmml"><mi id="S4.E1X.2.1.1.m1.2.3.2.2.1.2" xref="S4.E1X.2.1.1.m1.2.3.2.2.1.2.cmml">min</mi><mi id="S4.E1X.2.1.1.m1.2.3.2.2.1.3" xref="S4.E1X.2.1.1.m1.2.3.2.2.1.3.cmml">w</mi></munder><mo lspace="0.167em" id="S4.E1X.2.1.1.m1.2.3.2.2a" xref="S4.E1X.2.1.1.m1.2.3.2.2.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S4.E1X.2.1.1.m1.2.3.2.2.2" xref="S4.E1X.2.1.1.m1.2.3.2.2.2.cmml">ℱ</mi></mrow><mo lspace="0em" rspace="0em" id="S4.E1X.2.1.1.m1.2.3.2.1" xref="S4.E1X.2.1.1.m1.2.3.2.1.cmml">​</mo><mrow id="S4.E1X.2.1.1.m1.2.3.2.3.2" xref="S4.E1X.2.1.1.m1.2.3.2.cmml"><mo stretchy="false" id="S4.E1X.2.1.1.m1.2.3.2.3.2.1" xref="S4.E1X.2.1.1.m1.2.3.2.cmml">(</mo><mi id="S4.E1X.2.1.1.m1.1.1" xref="S4.E1X.2.1.1.m1.1.1.cmml">w</mi><mo rspace="0.278em" stretchy="false" id="S4.E1X.2.1.1.m1.2.3.2.3.2.2" xref="S4.E1X.2.1.1.m1.2.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S4.E1X.2.1.1.m1.2.3.1" xref="S4.E1X.2.1.1.m1.2.3.1.cmml">:=</mo><mrow id="S4.E1X.2.1.1.m1.2.3.3" xref="S4.E1X.2.1.1.m1.2.3.3.cmml"><mstyle displaystyle="true" id="S4.E1X.2.1.1.m1.2.3.3.1" xref="S4.E1X.2.1.1.m1.2.3.3.1.cmml"><msubsup id="S4.E1X.2.1.1.m1.2.3.3.1a" xref="S4.E1X.2.1.1.m1.2.3.3.1.cmml"><mo id="S4.E1X.2.1.1.m1.2.3.3.1.2.2" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.2.cmml">∑</mo><mrow id="S4.E1X.2.1.1.m1.2.3.3.1.2.3" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.cmml"><mi id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.2" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.2.cmml">i</mi><mo id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.1" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.1.cmml">=</mo><mn id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.3" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E1X.2.1.1.m1.2.3.3.1.3" xref="S4.E1X.2.1.1.m1.2.3.3.1.3.cmml">N</mi></msubsup></mstyle><mrow id="S4.E1X.2.1.1.m1.2.3.3.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.cmml"><msub id="S4.E1X.2.1.1.m1.2.3.3.2.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.2.cmml"><mi id="S4.E1X.2.1.1.m1.2.3.3.2.2.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.2.2.cmml">p</mi><mi id="S4.E1X.2.1.1.m1.2.3.3.2.2.3" xref="S4.E1X.2.1.1.m1.2.3.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E1X.2.1.1.m1.2.3.3.2.1" xref="S4.E1X.2.1.1.m1.2.3.3.2.1.cmml">​</mo><msub id="S4.E1X.2.1.1.m1.2.3.3.2.3" xref="S4.E1X.2.1.1.m1.2.3.3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1X.2.1.1.m1.2.3.3.2.3.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.3.2.cmml">ℒ</mi><mi id="S4.E1X.2.1.1.m1.2.3.3.2.3.3" xref="S4.E1X.2.1.1.m1.2.3.3.2.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E1X.2.1.1.m1.2.3.3.2.1a" xref="S4.E1X.2.1.1.m1.2.3.3.2.1.cmml">​</mo><mrow id="S4.E1X.2.1.1.m1.2.3.3.2.4.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.cmml"><mo stretchy="false" id="S4.E1X.2.1.1.m1.2.3.3.2.4.2.1" xref="S4.E1X.2.1.1.m1.2.3.3.2.cmml">(</mo><mi id="S4.E1X.2.1.1.m1.2.2" xref="S4.E1X.2.1.1.m1.2.2.cmml">w</mi><mo stretchy="false" id="S4.E1X.2.1.1.m1.2.3.3.2.4.2.2" xref="S4.E1X.2.1.1.m1.2.3.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E1X.2.1.1.m1.2b"><apply id="S4.E1X.2.1.1.m1.2.3.cmml" xref="S4.E1X.2.1.1.m1.2.3"><csymbol cd="latexml" id="S4.E1X.2.1.1.m1.2.3.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.1">assign</csymbol><apply id="S4.E1X.2.1.1.m1.2.3.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.2"><times id="S4.E1X.2.1.1.m1.2.3.2.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.1"></times><apply id="S4.E1X.2.1.1.m1.2.3.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2"><apply id="S4.E1X.2.1.1.m1.2.3.2.2.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2.1"><csymbol cd="ambiguous" id="S4.E1X.2.1.1.m1.2.3.2.2.1.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2.1">subscript</csymbol><min id="S4.E1X.2.1.1.m1.2.3.2.2.1.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2.1.2"></min><ci id="S4.E1X.2.1.1.m1.2.3.2.2.1.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2.1.3">𝑤</ci></apply><ci id="S4.E1X.2.1.1.m1.2.3.2.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.2.2.2">ℱ</ci></apply><ci id="S4.E1X.2.1.1.m1.1.1.cmml" xref="S4.E1X.2.1.1.m1.1.1">𝑤</ci></apply><apply id="S4.E1X.2.1.1.m1.2.3.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3"><apply id="S4.E1X.2.1.1.m1.2.3.3.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1"><csymbol cd="ambiguous" id="S4.E1X.2.1.1.m1.2.3.3.1.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1">superscript</csymbol><apply id="S4.E1X.2.1.1.m1.2.3.3.1.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1"><csymbol cd="ambiguous" id="S4.E1X.2.1.1.m1.2.3.3.1.2.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1">subscript</csymbol><sum id="S4.E1X.2.1.1.m1.2.3.3.1.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.2"></sum><apply id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3"><eq id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.1"></eq><ci id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.2">𝑖</ci><cn type="integer" id="S4.E1X.2.1.1.m1.2.3.3.1.2.3.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E1X.2.1.1.m1.2.3.3.1.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.1.3">𝑁</ci></apply><apply id="S4.E1X.2.1.1.m1.2.3.3.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2"><times id="S4.E1X.2.1.1.m1.2.3.3.2.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.1"></times><apply id="S4.E1X.2.1.1.m1.2.3.3.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.2"><csymbol cd="ambiguous" id="S4.E1X.2.1.1.m1.2.3.3.2.2.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.2">subscript</csymbol><ci id="S4.E1X.2.1.1.m1.2.3.3.2.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.2.2">𝑝</ci><ci id="S4.E1X.2.1.1.m1.2.3.3.2.2.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.2.3">𝑖</ci></apply><apply id="S4.E1X.2.1.1.m1.2.3.3.2.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.3"><csymbol cd="ambiguous" id="S4.E1X.2.1.1.m1.2.3.3.2.3.1.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.3">subscript</csymbol><ci id="S4.E1X.2.1.1.m1.2.3.3.2.3.2.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.3.2">ℒ</ci><ci id="S4.E1X.2.1.1.m1.2.3.3.2.3.3.cmml" xref="S4.E1X.2.1.1.m1.2.3.3.2.3.3">𝑖</ci></apply><ci id="S4.E1X.2.1.1.m1.2.2.cmml" xref="S4.E1X.2.1.1.m1.2.2">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1X.2.1.1.m1.2c">\displaystyle\min\limits_{w}\mathcal{F}(w):=\sum\nolimits_{i=1}^{N}p_{i}\mathcal{L}_{i}(w)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="2" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(1)</span></td>
</tr>
<tr id="S4.E1Xa" class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E1Xa.2.1.1.m1.4" class="ltx_Math" alttext="\displaystyle where\quad\mathcal{L}_{i}(w)=\mathbbm{E}_{b\sim\mathcal{D}_{i}}[f_{i}(w,b)]." display="inline"><semantics id="S4.E1Xa.2.1.1.m1.4a"><mrow id="S4.E1Xa.2.1.1.m1.4.4.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.cmml"><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.cmml"><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.3.cmml"><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.cmml"><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1.cmml">​</mo><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.3.cmml">h</mi><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1a" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1.cmml">​</mo><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.4" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1b" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1.cmml">​</mo><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.5" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1c" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1.cmml">​</mo><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.6" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.6.cmml">e</mi></mrow><mspace width="1em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.3.cmml"></mspace><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.cmml"><msub id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.2.cmml">ℒ</mi><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.1.cmml">​</mo><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.cmml"><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.3.2.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.cmml">(</mo><mi id="S4.E1Xa.2.1.1.m1.1.1" xref="S4.E1Xa.2.1.1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.3.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E1Xa.2.1.1.m1.4.4.1.1.4" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.4.cmml">=</mo><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.cmml"><msub id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.cmml"><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.2.cmml">𝔼</mi><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.cmml"><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.2.cmml">b</mi><mo id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.1.cmml">∼</mo><msub id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.2.cmml">𝒟</mi><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.3.cmml">i</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.2.cmml">​</mo><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.2.cmml"><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.2.1.cmml">[</mo><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.cmml"><msub id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.cmml"><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.2.cmml">f</mi><mi id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.1.cmml">​</mo><mrow id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.1.cmml"><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.2.1" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.1.cmml">(</mo><mi id="S4.E1Xa.2.1.1.m1.2.2" xref="S4.E1Xa.2.1.1.m1.2.2.cmml">w</mi><mo id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.2.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.1.cmml">,</mo><mi id="S4.E1Xa.2.1.1.m1.3.3" xref="S4.E1Xa.2.1.1.m1.3.3.cmml">b</mi><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.2.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.3" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E1Xa.2.1.1.m1.4.4.1.2" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E1Xa.2.1.1.m1.4b"><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1"><eq id="S4.E1Xa.2.1.1.m1.4.4.1.1.4.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.4"></eq><list id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2"><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1"><times id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.1"></times><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.2">𝑤</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.3">ℎ</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.4.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.4">𝑒</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.5.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.5">𝑟</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.6.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.1.1.1.6">𝑒</ci></apply><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2"><times id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.1"></times><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2">subscript</csymbol><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.2">ℒ</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.2.2.2.2.3">𝑖</ci></apply><ci id="S4.E1Xa.2.1.1.m1.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.1.1">𝑤</ci></apply></list><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3"><times id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.2"></times><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3"><csymbol cd="ambiguous" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3">subscript</csymbol><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.2">𝔼</ci><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3"><csymbol cd="latexml" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.1">similar-to</csymbol><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.2">𝑏</ci><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3">subscript</csymbol><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.2">𝒟</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.3.3.3.3">𝑖</ci></apply></apply></apply><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1"><csymbol cd="latexml" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.2.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.2">delimited-[]</csymbol><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1"><times id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.1"></times><apply id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2"><csymbol cd="ambiguous" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2">subscript</csymbol><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.2.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.2">𝑓</ci><ci id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.3.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.2.3">𝑖</ci></apply><interval closure="open" id="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.1.cmml" xref="S4.E1Xa.2.1.1.m1.4.4.1.1.3.1.1.1.3.2"><ci id="S4.E1Xa.2.1.1.m1.2.2.cmml" xref="S4.E1Xa.2.1.1.m1.2.2">𝑤</ci><ci id="S4.E1Xa.2.1.1.m1.3.3.cmml" xref="S4.E1Xa.2.1.1.m1.3.3">𝑏</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1Xa.2.1.1.m1.4c">\displaystyle where\quad\mathcal{L}_{i}(w)=\mathbbm{E}_{b\sim\mathcal{D}_{i}}[f_{i}(w,b)].</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.10" class="ltx_p">In Eqn. (<a href="#S4.E1" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{i}(w)" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.2" xref="S4.SS1.p2.1.m1.1.2.cmml"><msub id="S4.SS1.p2.1.m1.1.2.2" xref="S4.SS1.p2.1.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.1.m1.1.2.2.2" xref="S4.SS1.p2.1.m1.1.2.2.2.cmml">ℒ</mi><mi id="S4.SS1.p2.1.m1.1.2.2.3" xref="S4.SS1.p2.1.m1.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p2.1.m1.1.2.1" xref="S4.SS1.p2.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS1.p2.1.m1.1.2.3.2" xref="S4.SS1.p2.1.m1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p2.1.m1.1.2.3.2.1" xref="S4.SS1.p2.1.m1.1.2.cmml">(</mo><mi id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS1.p2.1.m1.1.2.3.2.2" xref="S4.SS1.p2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.2"><times id="S4.SS1.p2.1.m1.1.2.1.cmml" xref="S4.SS1.p2.1.m1.1.2.1"></times><apply id="S4.SS1.p2.1.m1.1.2.2.cmml" xref="S4.SS1.p2.1.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.2.2.1.cmml" xref="S4.SS1.p2.1.m1.1.2.2">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.2.2.2.cmml" xref="S4.SS1.p2.1.m1.1.2.2.2">ℒ</ci><ci id="S4.SS1.p2.1.m1.1.2.2.3.cmml" xref="S4.SS1.p2.1.m1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">\mathcal{L}_{i}(w)</annotation></semantics></math> denotes the local training objective function of the client <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mi id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><ci id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">i</annotation></semantics></math> and <math id="S4.SS1.p2.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.SS1.p2.3.m3.1a"><mi id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.1b"><ci id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.1c">N</annotation></semantics></math> denotes the number of clients. <math id="S4.SS1.p2.4.m4.1" class="ltx_Math" alttext="w\in\mathbbm{R}^{d}" display="inline"><semantics id="S4.SS1.p2.4.m4.1a"><mrow id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml"><mi id="S4.SS1.p2.4.m4.1.1.2" xref="S4.SS1.p2.4.m4.1.1.2.cmml">w</mi><mo id="S4.SS1.p2.4.m4.1.1.1" xref="S4.SS1.p2.4.m4.1.1.1.cmml">∈</mo><msup id="S4.SS1.p2.4.m4.1.1.3" xref="S4.SS1.p2.4.m4.1.1.3.cmml"><mi id="S4.SS1.p2.4.m4.1.1.3.2" xref="S4.SS1.p2.4.m4.1.1.3.2.cmml">ℝ</mi><mi id="S4.SS1.p2.4.m4.1.1.3.3" xref="S4.SS1.p2.4.m4.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.1b"><apply id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1"><in id="S4.SS1.p2.4.m4.1.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1.1"></in><ci id="S4.SS1.p2.4.m4.1.1.2.cmml" xref="S4.SS1.p2.4.m4.1.1.2">𝑤</ci><apply id="S4.SS1.p2.4.m4.1.1.3.cmml" xref="S4.SS1.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p2.4.m4.1.1.3.1.cmml" xref="S4.SS1.p2.4.m4.1.1.3">superscript</csymbol><ci id="S4.SS1.p2.4.m4.1.1.3.2.cmml" xref="S4.SS1.p2.4.m4.1.1.3.2">ℝ</ci><ci id="S4.SS1.p2.4.m4.1.1.3.3.cmml" xref="S4.SS1.p2.4.m4.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.1c">w\in\mathbbm{R}^{d}</annotation></semantics></math> represents the parameters of the global model. <math id="S4.SS1.p2.5.m5.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS1.p2.5.m5.1a"><mi id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.1b"><ci id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.1c">b</annotation></semantics></math> denotes each batch of data. The local training loss function <math id="S4.SS1.p2.6.m6.2" class="ltx_Math" alttext="f_{i}(w,b)" display="inline"><semantics id="S4.SS1.p2.6.m6.2a"><mrow id="S4.SS1.p2.6.m6.2.3" xref="S4.SS1.p2.6.m6.2.3.cmml"><msub id="S4.SS1.p2.6.m6.2.3.2" xref="S4.SS1.p2.6.m6.2.3.2.cmml"><mi id="S4.SS1.p2.6.m6.2.3.2.2" xref="S4.SS1.p2.6.m6.2.3.2.2.cmml">f</mi><mi id="S4.SS1.p2.6.m6.2.3.2.3" xref="S4.SS1.p2.6.m6.2.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p2.6.m6.2.3.1" xref="S4.SS1.p2.6.m6.2.3.1.cmml">​</mo><mrow id="S4.SS1.p2.6.m6.2.3.3.2" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.3.2.1" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">(</mo><mi id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml">w</mi><mo id="S4.SS1.p2.6.m6.2.3.3.2.2" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">,</mo><mi id="S4.SS1.p2.6.m6.2.2" xref="S4.SS1.p2.6.m6.2.2.cmml">b</mi><mo stretchy="false" id="S4.SS1.p2.6.m6.2.3.3.2.3" xref="S4.SS1.p2.6.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.2b"><apply id="S4.SS1.p2.6.m6.2.3.cmml" xref="S4.SS1.p2.6.m6.2.3"><times id="S4.SS1.p2.6.m6.2.3.1.cmml" xref="S4.SS1.p2.6.m6.2.3.1"></times><apply id="S4.SS1.p2.6.m6.2.3.2.cmml" xref="S4.SS1.p2.6.m6.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p2.6.m6.2.3.2.1.cmml" xref="S4.SS1.p2.6.m6.2.3.2">subscript</csymbol><ci id="S4.SS1.p2.6.m6.2.3.2.2.cmml" xref="S4.SS1.p2.6.m6.2.3.2.2">𝑓</ci><ci id="S4.SS1.p2.6.m6.2.3.2.3.cmml" xref="S4.SS1.p2.6.m6.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S4.SS1.p2.6.m6.2.3.3.1.cmml" xref="S4.SS1.p2.6.m6.2.3.3.2"><ci id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">𝑤</ci><ci id="S4.SS1.p2.6.m6.2.2.cmml" xref="S4.SS1.p2.6.m6.2.2">𝑏</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.2c">f_{i}(w,b)</annotation></semantics></math> is often the same across all the clients, while <math id="S4.SS1.p2.7.m7.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="S4.SS1.p2.7.m7.1a"><msub id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.7.m7.1.1.2" xref="S4.SS1.p2.7.m7.1.1.2.cmml">𝒟</mi><mi id="S4.SS1.p2.7.m7.1.1.3" xref="S4.SS1.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.1b"><apply id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.7.m7.1.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p2.7.m7.1.1.2.cmml" xref="S4.SS1.p2.7.m7.1.1.2">𝒟</ci><ci id="S4.SS1.p2.7.m7.1.1.3.cmml" xref="S4.SS1.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.1c">\mathcal{D}_{i}</annotation></semantics></math> denotes the distribution of the local client data, which is often different across the clients, capturing the heterogeneity. <math id="S4.SS1.p2.8.m8.1" class="ltx_Math" alttext="p_{i}" display="inline"><semantics id="S4.SS1.p2.8.m8.1a"><msub id="S4.SS1.p2.8.m8.1.1" xref="S4.SS1.p2.8.m8.1.1.cmml"><mi id="S4.SS1.p2.8.m8.1.1.2" xref="S4.SS1.p2.8.m8.1.1.2.cmml">p</mi><mi id="S4.SS1.p2.8.m8.1.1.3" xref="S4.SS1.p2.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.1b"><apply id="S4.SS1.p2.8.m8.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.1.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p2.8.m8.1.1.2.cmml" xref="S4.SS1.p2.8.m8.1.1.2">𝑝</ci><ci id="S4.SS1.p2.8.m8.1.1.3.cmml" xref="S4.SS1.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.1c">p_{i}</annotation></semantics></math> is defined as the training size proportion in Eqn. (<a href="#S4.E2" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), where <math id="S4.SS1.p2.9.m9.1" class="ltx_Math" alttext="\left|\mathcal{D}_{i}\right|" display="inline"><semantics id="S4.SS1.p2.9.m9.1a"><mrow id="S4.SS1.p2.9.m9.1.1.1" xref="S4.SS1.p2.9.m9.1.1.2.cmml"><mo id="S4.SS1.p2.9.m9.1.1.1.2" xref="S4.SS1.p2.9.m9.1.1.2.1.cmml">|</mo><msub id="S4.SS1.p2.9.m9.1.1.1.1" xref="S4.SS1.p2.9.m9.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.9.m9.1.1.1.1.2" xref="S4.SS1.p2.9.m9.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.SS1.p2.9.m9.1.1.1.1.3" xref="S4.SS1.p2.9.m9.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS1.p2.9.m9.1.1.1.3" xref="S4.SS1.p2.9.m9.1.1.2.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.9.m9.1b"><apply id="S4.SS1.p2.9.m9.1.1.2.cmml" xref="S4.SS1.p2.9.m9.1.1.1"><abs id="S4.SS1.p2.9.m9.1.1.2.1.cmml" xref="S4.SS1.p2.9.m9.1.1.1.2"></abs><apply id="S4.SS1.p2.9.m9.1.1.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.9.m9.1.1.1.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p2.9.m9.1.1.1.1.2.cmml" xref="S4.SS1.p2.9.m9.1.1.1.1.2">𝒟</ci><ci id="S4.SS1.p2.9.m9.1.1.1.1.3.cmml" xref="S4.SS1.p2.9.m9.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.9.m9.1c">\left|\mathcal{D}_{i}\right|</annotation></semantics></math> is the training size of client <math id="S4.SS1.p2.10.m10.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS1.p2.10.m10.1a"><mi id="S4.SS1.p2.10.m10.1.1" xref="S4.SS1.p2.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.10.m10.1b"><ci id="S4.SS1.p2.10.m10.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.10.m10.1c">i</annotation></semantics></math>.</p>
<table id="A1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E2.m1.2" class="ltx_Math" alttext="\displaystyle p_{i}=\left|\mathcal{D}_{i}\right|/\sum\nolimits_{i=1}^{N}\left|\mathcal{D}_{i}\right|" display="inline"><semantics id="S4.E2.m1.2a"><mrow id="S4.E2.m1.2.2" xref="S4.E2.m1.2.2.cmml"><msub id="S4.E2.m1.2.2.4" xref="S4.E2.m1.2.2.4.cmml"><mi id="S4.E2.m1.2.2.4.2" xref="S4.E2.m1.2.2.4.2.cmml">p</mi><mi id="S4.E2.m1.2.2.4.3" xref="S4.E2.m1.2.2.4.3.cmml">i</mi></msub><mo id="S4.E2.m1.2.2.3" xref="S4.E2.m1.2.2.3.cmml">=</mo><mrow id="S4.E2.m1.2.2.2" xref="S4.E2.m1.2.2.2.cmml"><mrow id="S4.E2.m1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.2.cmml"><mo id="S4.E2.m1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.2.1.cmml">|</mo><msub id="S4.E2.m1.1.1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.1.1.1.1.1.1.2" xref="S4.E2.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.E2.m1.1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E2.m1.1.1.1.1.1.3" xref="S4.E2.m1.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S4.E2.m1.2.2.2.3" xref="S4.E2.m1.2.2.2.3.cmml">/</mo><mrow id="S4.E2.m1.2.2.2.2" xref="S4.E2.m1.2.2.2.2.cmml"><mstyle displaystyle="true" id="S4.E2.m1.2.2.2.2.2" xref="S4.E2.m1.2.2.2.2.2.cmml"><msubsup id="S4.E2.m1.2.2.2.2.2a" xref="S4.E2.m1.2.2.2.2.2.cmml"><mo id="S4.E2.m1.2.2.2.2.2.2.2" xref="S4.E2.m1.2.2.2.2.2.2.2.cmml">∑</mo><mrow id="S4.E2.m1.2.2.2.2.2.2.3" xref="S4.E2.m1.2.2.2.2.2.2.3.cmml"><mi id="S4.E2.m1.2.2.2.2.2.2.3.2" xref="S4.E2.m1.2.2.2.2.2.2.3.2.cmml">i</mi><mo id="S4.E2.m1.2.2.2.2.2.2.3.1" xref="S4.E2.m1.2.2.2.2.2.2.3.1.cmml">=</mo><mn id="S4.E2.m1.2.2.2.2.2.2.3.3" xref="S4.E2.m1.2.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S4.E2.m1.2.2.2.2.2.3" xref="S4.E2.m1.2.2.2.2.2.3.cmml">N</mi></msubsup></mstyle><mrow id="S4.E2.m1.2.2.2.2.1.1" xref="S4.E2.m1.2.2.2.2.1.2.cmml"><mo id="S4.E2.m1.2.2.2.2.1.1.2" xref="S4.E2.m1.2.2.2.2.1.2.1.cmml">|</mo><msub id="S4.E2.m1.2.2.2.2.1.1.1" xref="S4.E2.m1.2.2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.2.2.2.2.1.1.1.2" xref="S4.E2.m1.2.2.2.2.1.1.1.2.cmml">𝒟</mi><mi id="S4.E2.m1.2.2.2.2.1.1.1.3" xref="S4.E2.m1.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E2.m1.2.2.2.2.1.1.3" xref="S4.E2.m1.2.2.2.2.1.2.1.cmml">|</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.2b"><apply id="S4.E2.m1.2.2.cmml" xref="S4.E2.m1.2.2"><eq id="S4.E2.m1.2.2.3.cmml" xref="S4.E2.m1.2.2.3"></eq><apply id="S4.E2.m1.2.2.4.cmml" xref="S4.E2.m1.2.2.4"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.4.1.cmml" xref="S4.E2.m1.2.2.4">subscript</csymbol><ci id="S4.E2.m1.2.2.4.2.cmml" xref="S4.E2.m1.2.2.4.2">𝑝</ci><ci id="S4.E2.m1.2.2.4.3.cmml" xref="S4.E2.m1.2.2.4.3">𝑖</ci></apply><apply id="S4.E2.m1.2.2.2.cmml" xref="S4.E2.m1.2.2.2"><divide id="S4.E2.m1.2.2.2.3.cmml" xref="S4.E2.m1.2.2.2.3"></divide><apply id="S4.E2.m1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1"><abs id="S4.E2.m1.1.1.1.1.2.1.cmml" xref="S4.E2.m1.1.1.1.1.1.2"></abs><apply id="S4.E2.m1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="S4.E2.m1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S4.E2.m1.2.2.2.2.cmml" xref="S4.E2.m1.2.2.2.2"><apply id="S4.E2.m1.2.2.2.2.2.cmml" xref="S4.E2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.2.1.cmml" xref="S4.E2.m1.2.2.2.2.2">superscript</csymbol><apply id="S4.E2.m1.2.2.2.2.2.2.cmml" xref="S4.E2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.2.2.1.cmml" xref="S4.E2.m1.2.2.2.2.2">subscript</csymbol><sum id="S4.E2.m1.2.2.2.2.2.2.2.cmml" xref="S4.E2.m1.2.2.2.2.2.2.2"></sum><apply id="S4.E2.m1.2.2.2.2.2.2.3.cmml" xref="S4.E2.m1.2.2.2.2.2.2.3"><eq id="S4.E2.m1.2.2.2.2.2.2.3.1.cmml" xref="S4.E2.m1.2.2.2.2.2.2.3.1"></eq><ci id="S4.E2.m1.2.2.2.2.2.2.3.2.cmml" xref="S4.E2.m1.2.2.2.2.2.2.3.2">𝑖</ci><cn type="integer" id="S4.E2.m1.2.2.2.2.2.2.3.3.cmml" xref="S4.E2.m1.2.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S4.E2.m1.2.2.2.2.2.3.cmml" xref="S4.E2.m1.2.2.2.2.2.3">𝑁</ci></apply><apply id="S4.E2.m1.2.2.2.2.1.2.cmml" xref="S4.E2.m1.2.2.2.2.1.1"><abs id="S4.E2.m1.2.2.2.2.1.2.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1.2"></abs><apply id="S4.E2.m1.2.2.2.2.1.1.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E2.m1.2.2.2.2.1.1.1.2.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1.2">𝒟</ci><ci id="S4.E2.m1.2.2.2.2.1.1.1.3.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.2c">\displaystyle p_{i}=\left|\mathcal{D}_{i}\right|/\sum\nolimits_{i=1}^{N}\left|\mathcal{D}_{i}\right|</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS1.p3" class="ltx_para ltx_noindent">
<p id="S4.SS1.p3.12" class="ltx_p"><span id="S4.SS1.p3.12.1" class="ltx_text ltx_font_bold">Training Procedure.</span> Federated learning is an iterative process shown in Figure <a href="#S4.F2" title="Figure 2 ‣ 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The server initializes the global model, followed by multiple communication rounds between the server and clients. In each <span id="S4.SS1.p3.12.2" class="ltx_text ltx_font_italic">communication round</span>, there are four steps between the server and clients. 1) In round <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mi id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">t</annotation></semantics></math>, the server sends the global model <math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><msup id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">w</mi><mi id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">superscript</csymbol><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">𝑤</ci><ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">w^{t}</annotation></semantics></math> to all the clients. 2) After clients receive the global model <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><msup id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mi id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2.cmml">w</mi><mi id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">superscript</csymbol><ci id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">𝑤</ci><ci id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">w^{t}</annotation></semantics></math> as  the initialization of the local model, they start to train it using their own data for multiple epochs and obtain the local model changes <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="\Delta w_{i}^{t}" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><mrow id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml"><mi mathvariant="normal" id="S4.SS1.p3.4.m4.1.1.2" xref="S4.SS1.p3.4.m4.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.4.m4.1.1.1" xref="S4.SS1.p3.4.m4.1.1.1.cmml">​</mo><msubsup id="S4.SS1.p3.4.m4.1.1.3" xref="S4.SS1.p3.4.m4.1.1.3.cmml"><mi id="S4.SS1.p3.4.m4.1.1.3.2.2" xref="S4.SS1.p3.4.m4.1.1.3.2.2.cmml">w</mi><mi id="S4.SS1.p3.4.m4.1.1.3.2.3" xref="S4.SS1.p3.4.m4.1.1.3.2.3.cmml">i</mi><mi id="S4.SS1.p3.4.m4.1.1.3.3" xref="S4.SS1.p3.4.m4.1.1.3.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><apply id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1"><times id="S4.SS1.p3.4.m4.1.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1.1"></times><ci id="S4.SS1.p3.4.m4.1.1.2.cmml" xref="S4.SS1.p3.4.m4.1.1.2">Δ</ci><apply id="S4.SS1.p3.4.m4.1.1.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.4.m4.1.1.3.1.cmml" xref="S4.SS1.p3.4.m4.1.1.3">superscript</csymbol><apply id="S4.SS1.p3.4.m4.1.1.3.2.cmml" xref="S4.SS1.p3.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.4.m4.1.1.3.2.1.cmml" xref="S4.SS1.p3.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS1.p3.4.m4.1.1.3.2.2.cmml" xref="S4.SS1.p3.4.m4.1.1.3.2.2">𝑤</ci><ci id="S4.SS1.p3.4.m4.1.1.3.2.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3.2.3">𝑖</ci></apply><ci id="S4.SS1.p3.4.m4.1.1.3.3.cmml" xref="S4.SS1.p3.4.m4.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">\Delta w_{i}^{t}</annotation></semantics></math> during the local training stage. 3) The clients send their local model changes to the server. 4) The server aggregates the local model changes <math id="S4.SS1.p3.5.m5.1" class="ltx_Math" alttext="\Delta w_{i}^{t}" display="inline"><semantics id="S4.SS1.p3.5.m5.1a"><mrow id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml"><mi mathvariant="normal" id="S4.SS1.p3.5.m5.1.1.2" xref="S4.SS1.p3.5.m5.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.5.m5.1.1.1" xref="S4.SS1.p3.5.m5.1.1.1.cmml">​</mo><msubsup id="S4.SS1.p3.5.m5.1.1.3" xref="S4.SS1.p3.5.m5.1.1.3.cmml"><mi id="S4.SS1.p3.5.m5.1.1.3.2.2" xref="S4.SS1.p3.5.m5.1.1.3.2.2.cmml">w</mi><mi id="S4.SS1.p3.5.m5.1.1.3.2.3" xref="S4.SS1.p3.5.m5.1.1.3.2.3.cmml">i</mi><mi id="S4.SS1.p3.5.m5.1.1.3.3" xref="S4.SS1.p3.5.m5.1.1.3.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><apply id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1"><times id="S4.SS1.p3.5.m5.1.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1.1"></times><ci id="S4.SS1.p3.5.m5.1.1.2.cmml" xref="S4.SS1.p3.5.m5.1.1.2">Δ</ci><apply id="S4.SS1.p3.5.m5.1.1.3.cmml" xref="S4.SS1.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.5.m5.1.1.3.1.cmml" xref="S4.SS1.p3.5.m5.1.1.3">superscript</csymbol><apply id="S4.SS1.p3.5.m5.1.1.3.2.cmml" xref="S4.SS1.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.5.m5.1.1.3.2.1.cmml" xref="S4.SS1.p3.5.m5.1.1.3">subscript</csymbol><ci id="S4.SS1.p3.5.m5.1.1.3.2.2.cmml" xref="S4.SS1.p3.5.m5.1.1.3.2.2">𝑤</ci><ci id="S4.SS1.p3.5.m5.1.1.3.2.3.cmml" xref="S4.SS1.p3.5.m5.1.1.3.2.3">𝑖</ci></apply><ci id="S4.SS1.p3.5.m5.1.1.3.3.cmml" xref="S4.SS1.p3.5.m5.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">\Delta w_{i}^{t}</annotation></semantics></math> collected from different clients as Eqn. (<a href="#S4.E3" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) shows, and then uses the <math id="S4.SS1.p3.6.m6.1" class="ltx_Math" alttext="t\text{-}th" display="inline"><semantics id="S4.SS1.p3.6.m6.1a"><mrow id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml"><mi id="S4.SS1.p3.6.m6.1.1.2" xref="S4.SS1.p3.6.m6.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.6.m6.1.1.1" xref="S4.SS1.p3.6.m6.1.1.1.cmml">​</mo><mtext id="S4.SS1.p3.6.m6.1.1.3" xref="S4.SS1.p3.6.m6.1.1.3a.cmml">-</mtext><mo lspace="0em" rspace="0em" id="S4.SS1.p3.6.m6.1.1.1a" xref="S4.SS1.p3.6.m6.1.1.1.cmml">​</mo><mi id="S4.SS1.p3.6.m6.1.1.4" xref="S4.SS1.p3.6.m6.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.6.m6.1.1.1b" xref="S4.SS1.p3.6.m6.1.1.1.cmml">​</mo><mi id="S4.SS1.p3.6.m6.1.1.5" xref="S4.SS1.p3.6.m6.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><apply id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1"><times id="S4.SS1.p3.6.m6.1.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1.1"></times><ci id="S4.SS1.p3.6.m6.1.1.2.cmml" xref="S4.SS1.p3.6.m6.1.1.2">𝑡</ci><ci id="S4.SS1.p3.6.m6.1.1.3a.cmml" xref="S4.SS1.p3.6.m6.1.1.3"><mtext id="S4.SS1.p3.6.m6.1.1.3.cmml" xref="S4.SS1.p3.6.m6.1.1.3">-</mtext></ci><ci id="S4.SS1.p3.6.m6.1.1.4.cmml" xref="S4.SS1.p3.6.m6.1.1.4">𝑡</ci><ci id="S4.SS1.p3.6.m6.1.1.5.cmml" xref="S4.SS1.p3.6.m6.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">t\text{-}th</annotation></semantics></math> round’s global model <math id="S4.SS1.p3.7.m7.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="S4.SS1.p3.7.m7.1a"><msup id="S4.SS1.p3.7.m7.1.1" xref="S4.SS1.p3.7.m7.1.1.cmml"><mi id="S4.SS1.p3.7.m7.1.1.2" xref="S4.SS1.p3.7.m7.1.1.2.cmml">w</mi><mi id="S4.SS1.p3.7.m7.1.1.3" xref="S4.SS1.p3.7.m7.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.1b"><apply id="S4.SS1.p3.7.m7.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.1.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1">superscript</csymbol><ci id="S4.SS1.p3.7.m7.1.1.2.cmml" xref="S4.SS1.p3.7.m7.1.1.2">𝑤</ci><ci id="S4.SS1.p3.7.m7.1.1.3.cmml" xref="S4.SS1.p3.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.1c">w^{t}</annotation></semantics></math> and the aggregated local model changes <math id="S4.SS1.p3.8.m8.1" class="ltx_Math" alttext="\Delta w^{t}" display="inline"><semantics id="S4.SS1.p3.8.m8.1a"><mrow id="S4.SS1.p3.8.m8.1.1" xref="S4.SS1.p3.8.m8.1.1.cmml"><mi mathvariant="normal" id="S4.SS1.p3.8.m8.1.1.2" xref="S4.SS1.p3.8.m8.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.8.m8.1.1.1" xref="S4.SS1.p3.8.m8.1.1.1.cmml">​</mo><msup id="S4.SS1.p3.8.m8.1.1.3" xref="S4.SS1.p3.8.m8.1.1.3.cmml"><mi id="S4.SS1.p3.8.m8.1.1.3.2" xref="S4.SS1.p3.8.m8.1.1.3.2.cmml">w</mi><mi id="S4.SS1.p3.8.m8.1.1.3.3" xref="S4.SS1.p3.8.m8.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.8.m8.1b"><apply id="S4.SS1.p3.8.m8.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1"><times id="S4.SS1.p3.8.m8.1.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1.1"></times><ci id="S4.SS1.p3.8.m8.1.1.2.cmml" xref="S4.SS1.p3.8.m8.1.1.2">Δ</ci><apply id="S4.SS1.p3.8.m8.1.1.3.cmml" xref="S4.SS1.p3.8.m8.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p3.8.m8.1.1.3.1.cmml" xref="S4.SS1.p3.8.m8.1.1.3">superscript</csymbol><ci id="S4.SS1.p3.8.m8.1.1.3.2.cmml" xref="S4.SS1.p3.8.m8.1.1.3.2">𝑤</ci><ci id="S4.SS1.p3.8.m8.1.1.3.3.cmml" xref="S4.SS1.p3.8.m8.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.8.m8.1c">\Delta w^{t}</annotation></semantics></math> to update the global model. As Eqn. (<a href="#S4.E4" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) shows, <math id="S4.SS1.p3.9.m9.1" class="ltx_Math" alttext="w^{t+1}" display="inline"><semantics id="S4.SS1.p3.9.m9.1a"><msup id="S4.SS1.p3.9.m9.1.1" xref="S4.SS1.p3.9.m9.1.1.cmml"><mi id="S4.SS1.p3.9.m9.1.1.2" xref="S4.SS1.p3.9.m9.1.1.2.cmml">w</mi><mrow id="S4.SS1.p3.9.m9.1.1.3" xref="S4.SS1.p3.9.m9.1.1.3.cmml"><mi id="S4.SS1.p3.9.m9.1.1.3.2" xref="S4.SS1.p3.9.m9.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p3.9.m9.1.1.3.1" xref="S4.SS1.p3.9.m9.1.1.3.1.cmml">+</mo><mn id="S4.SS1.p3.9.m9.1.1.3.3" xref="S4.SS1.p3.9.m9.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.9.m9.1b"><apply id="S4.SS1.p3.9.m9.1.1.cmml" xref="S4.SS1.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.9.m9.1.1.1.cmml" xref="S4.SS1.p3.9.m9.1.1">superscript</csymbol><ci id="S4.SS1.p3.9.m9.1.1.2.cmml" xref="S4.SS1.p3.9.m9.1.1.2">𝑤</ci><apply id="S4.SS1.p3.9.m9.1.1.3.cmml" xref="S4.SS1.p3.9.m9.1.1.3"><plus id="S4.SS1.p3.9.m9.1.1.3.1.cmml" xref="S4.SS1.p3.9.m9.1.1.3.1"></plus><ci id="S4.SS1.p3.9.m9.1.1.3.2.cmml" xref="S4.SS1.p3.9.m9.1.1.3.2">𝑡</ci><cn type="integer" id="S4.SS1.p3.9.m9.1.1.3.3.cmml" xref="S4.SS1.p3.9.m9.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.9.m9.1c">w^{t+1}</annotation></semantics></math> is the global model after the update. Here, <math id="S4.SS1.p3.10.m10.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS1.p3.10.m10.1a"><mi id="S4.SS1.p3.10.m10.1.1" xref="S4.SS1.p3.10.m10.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.10.m10.1b"><ci id="S4.SS1.p3.10.m10.1.1.cmml" xref="S4.SS1.p3.10.m10.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.10.m10.1c">\eta</annotation></semantics></math> denotes the server learning rate. The server will send the updated model <math id="S4.SS1.p3.11.m11.1" class="ltx_Math" alttext="w^{t+1}" display="inline"><semantics id="S4.SS1.p3.11.m11.1a"><msup id="S4.SS1.p3.11.m11.1.1" xref="S4.SS1.p3.11.m11.1.1.cmml"><mi id="S4.SS1.p3.11.m11.1.1.2" xref="S4.SS1.p3.11.m11.1.1.2.cmml">w</mi><mrow id="S4.SS1.p3.11.m11.1.1.3" xref="S4.SS1.p3.11.m11.1.1.3.cmml"><mi id="S4.SS1.p3.11.m11.1.1.3.2" xref="S4.SS1.p3.11.m11.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p3.11.m11.1.1.3.1" xref="S4.SS1.p3.11.m11.1.1.3.1.cmml">+</mo><mn id="S4.SS1.p3.11.m11.1.1.3.3" xref="S4.SS1.p3.11.m11.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.11.m11.1b"><apply id="S4.SS1.p3.11.m11.1.1.cmml" xref="S4.SS1.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.11.m11.1.1.1.cmml" xref="S4.SS1.p3.11.m11.1.1">superscript</csymbol><ci id="S4.SS1.p3.11.m11.1.1.2.cmml" xref="S4.SS1.p3.11.m11.1.1.2">𝑤</ci><apply id="S4.SS1.p3.11.m11.1.1.3.cmml" xref="S4.SS1.p3.11.m11.1.1.3"><plus id="S4.SS1.p3.11.m11.1.1.3.1.cmml" xref="S4.SS1.p3.11.m11.1.1.3.1"></plus><ci id="S4.SS1.p3.11.m11.1.1.3.2.cmml" xref="S4.SS1.p3.11.m11.1.1.3.2">𝑡</ci><cn type="integer" id="S4.SS1.p3.11.m11.1.1.3.3.cmml" xref="S4.SS1.p3.11.m11.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.11.m11.1c">w^{t+1}</annotation></semantics></math> to the clients, then the <math id="S4.SS1.p3.12.m12.1" class="ltx_Math" alttext="\text{(}t\text{+}1\text{)}\text{-}th" display="inline"><semantics id="S4.SS1.p3.12.m12.1a"><mrow id="S4.SS1.p3.12.m12.1.1" xref="S4.SS1.p3.12.m12.1.1.cmml"><mtext id="S4.SS1.p3.12.m12.1.1.2" xref="S4.SS1.p3.12.m12.1.1.2a.cmml">(</mtext><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mi id="S4.SS1.p3.12.m12.1.1.3" xref="S4.SS1.p3.12.m12.1.1.3.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1a" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mtext id="S4.SS1.p3.12.m12.1.1.4" xref="S4.SS1.p3.12.m12.1.1.4a.cmml">+</mtext><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1b" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mn id="S4.SS1.p3.12.m12.1.1.5" xref="S4.SS1.p3.12.m12.1.1.5.cmml">1</mn><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1c" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mrow id="S4.SS1.p3.12.m12.1.1.6" xref="S4.SS1.p3.12.m12.1.1.6c.cmml"><mtext id="S4.SS1.p3.12.m12.1.1.6a" xref="S4.SS1.p3.12.m12.1.1.6c.cmml">)</mtext><mtext id="S4.SS1.p3.12.m12.1.1.6b" xref="S4.SS1.p3.12.m12.1.1.6c.cmml">-</mtext></mrow><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1d" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mi id="S4.SS1.p3.12.m12.1.1.7" xref="S4.SS1.p3.12.m12.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p3.12.m12.1.1.1e" xref="S4.SS1.p3.12.m12.1.1.1.cmml">​</mo><mi id="S4.SS1.p3.12.m12.1.1.8" xref="S4.SS1.p3.12.m12.1.1.8.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.12.m12.1b"><apply id="S4.SS1.p3.12.m12.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1"><times id="S4.SS1.p3.12.m12.1.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1.1"></times><ci id="S4.SS1.p3.12.m12.1.1.2a.cmml" xref="S4.SS1.p3.12.m12.1.1.2"><mtext id="S4.SS1.p3.12.m12.1.1.2.cmml" xref="S4.SS1.p3.12.m12.1.1.2">(</mtext></ci><ci id="S4.SS1.p3.12.m12.1.1.3.cmml" xref="S4.SS1.p3.12.m12.1.1.3">𝑡</ci><ci id="S4.SS1.p3.12.m12.1.1.4a.cmml" xref="S4.SS1.p3.12.m12.1.1.4"><mtext id="S4.SS1.p3.12.m12.1.1.4.cmml" xref="S4.SS1.p3.12.m12.1.1.4">+</mtext></ci><cn type="integer" id="S4.SS1.p3.12.m12.1.1.5.cmml" xref="S4.SS1.p3.12.m12.1.1.5">1</cn><ci id="S4.SS1.p3.12.m12.1.1.6c.cmml" xref="S4.SS1.p3.12.m12.1.1.6"><mrow id="S4.SS1.p3.12.m12.1.1.6.cmml" xref="S4.SS1.p3.12.m12.1.1.6"><mtext id="S4.SS1.p3.12.m12.1.1.6a.cmml" xref="S4.SS1.p3.12.m12.1.1.6">)</mtext><mtext id="S4.SS1.p3.12.m12.1.1.6b.cmml" xref="S4.SS1.p3.12.m12.1.1.6">-</mtext></mrow></ci><ci id="S4.SS1.p3.12.m12.1.1.7.cmml" xref="S4.SS1.p3.12.m12.1.1.7">𝑡</ci><ci id="S4.SS1.p3.12.m12.1.1.8.cmml" xref="S4.SS1.p3.12.m12.1.1.8">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.12.m12.1c">\text{(}t\text{+}1\text{)}\text{-}th</annotation></semantics></math> round starts.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">The above procedure will repeat until the algorithm converges.</p>
<table id="A1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E3.m1.1" class="ltx_Math" alttext="\displaystyle\Delta w^{t}" display="inline"><semantics id="S4.E3.m1.1a"><mrow id="S4.E3.m1.1.1" xref="S4.E3.m1.1.1.cmml"><mi mathvariant="normal" id="S4.E3.m1.1.1.2" xref="S4.E3.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.1.1.1" xref="S4.E3.m1.1.1.1.cmml">​</mo><msup id="S4.E3.m1.1.1.3" xref="S4.E3.m1.1.1.3.cmml"><mi id="S4.E3.m1.1.1.3.2" xref="S4.E3.m1.1.1.3.2.cmml">w</mi><mi id="S4.E3.m1.1.1.3.3" xref="S4.E3.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.1b"><apply id="S4.E3.m1.1.1.cmml" xref="S4.E3.m1.1.1"><times id="S4.E3.m1.1.1.1.cmml" xref="S4.E3.m1.1.1.1"></times><ci id="S4.E3.m1.1.1.2.cmml" xref="S4.E3.m1.1.1.2">Δ</ci><apply id="S4.E3.m1.1.1.3.cmml" xref="S4.E3.m1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.3">superscript</csymbol><ci id="S4.E3.m1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.3.2">𝑤</ci><ci id="S4.E3.m1.1.1.3.3.cmml" xref="S4.E3.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.1c">\displaystyle\Delta w^{t}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.E3.m2.1" class="ltx_Math" alttext="\displaystyle=\sum\nolimits_{i=1}^{N}p_{i}\Delta w^{t}_{i}" display="inline"><semantics id="S4.E3.m2.1a"><mrow id="S4.E3.m2.1.1" xref="S4.E3.m2.1.1.cmml"><mi id="S4.E3.m2.1.1.2" xref="S4.E3.m2.1.1.2.cmml"></mi><mo id="S4.E3.m2.1.1.1" xref="S4.E3.m2.1.1.1.cmml">=</mo><mrow id="S4.E3.m2.1.1.3" xref="S4.E3.m2.1.1.3.cmml"><mstyle displaystyle="true" id="S4.E3.m2.1.1.3.1" xref="S4.E3.m2.1.1.3.1.cmml"><msubsup id="S4.E3.m2.1.1.3.1a" xref="S4.E3.m2.1.1.3.1.cmml"><mo id="S4.E3.m2.1.1.3.1.2.2" xref="S4.E3.m2.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.E3.m2.1.1.3.1.2.3" xref="S4.E3.m2.1.1.3.1.2.3.cmml"><mi id="S4.E3.m2.1.1.3.1.2.3.2" xref="S4.E3.m2.1.1.3.1.2.3.2.cmml">i</mi><mo id="S4.E3.m2.1.1.3.1.2.3.1" xref="S4.E3.m2.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.E3.m2.1.1.3.1.2.3.3" xref="S4.E3.m2.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E3.m2.1.1.3.1.3" xref="S4.E3.m2.1.1.3.1.3.cmml">N</mi></msubsup></mstyle><mrow id="S4.E3.m2.1.1.3.2" xref="S4.E3.m2.1.1.3.2.cmml"><msub id="S4.E3.m2.1.1.3.2.2" xref="S4.E3.m2.1.1.3.2.2.cmml"><mi id="S4.E3.m2.1.1.3.2.2.2" xref="S4.E3.m2.1.1.3.2.2.2.cmml">p</mi><mi id="S4.E3.m2.1.1.3.2.2.3" xref="S4.E3.m2.1.1.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E3.m2.1.1.3.2.1" xref="S4.E3.m2.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="S4.E3.m2.1.1.3.2.3" xref="S4.E3.m2.1.1.3.2.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.E3.m2.1.1.3.2.1a" xref="S4.E3.m2.1.1.3.2.1.cmml">​</mo><msubsup id="S4.E3.m2.1.1.3.2.4" xref="S4.E3.m2.1.1.3.2.4.cmml"><mi id="S4.E3.m2.1.1.3.2.4.2.2" xref="S4.E3.m2.1.1.3.2.4.2.2.cmml">w</mi><mi id="S4.E3.m2.1.1.3.2.4.3" xref="S4.E3.m2.1.1.3.2.4.3.cmml">i</mi><mi id="S4.E3.m2.1.1.3.2.4.2.3" xref="S4.E3.m2.1.1.3.2.4.2.3.cmml">t</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m2.1b"><apply id="S4.E3.m2.1.1.cmml" xref="S4.E3.m2.1.1"><eq id="S4.E3.m2.1.1.1.cmml" xref="S4.E3.m2.1.1.1"></eq><csymbol cd="latexml" id="S4.E3.m2.1.1.2.cmml" xref="S4.E3.m2.1.1.2">absent</csymbol><apply id="S4.E3.m2.1.1.3.cmml" xref="S4.E3.m2.1.1.3"><apply id="S4.E3.m2.1.1.3.1.cmml" xref="S4.E3.m2.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.1.1.cmml" xref="S4.E3.m2.1.1.3.1">superscript</csymbol><apply id="S4.E3.m2.1.1.3.1.2.cmml" xref="S4.E3.m2.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.1.2.1.cmml" xref="S4.E3.m2.1.1.3.1">subscript</csymbol><sum id="S4.E3.m2.1.1.3.1.2.2.cmml" xref="S4.E3.m2.1.1.3.1.2.2"></sum><apply id="S4.E3.m2.1.1.3.1.2.3.cmml" xref="S4.E3.m2.1.1.3.1.2.3"><eq id="S4.E3.m2.1.1.3.1.2.3.1.cmml" xref="S4.E3.m2.1.1.3.1.2.3.1"></eq><ci id="S4.E3.m2.1.1.3.1.2.3.2.cmml" xref="S4.E3.m2.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S4.E3.m2.1.1.3.1.2.3.3.cmml" xref="S4.E3.m2.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E3.m2.1.1.3.1.3.cmml" xref="S4.E3.m2.1.1.3.1.3">𝑁</ci></apply><apply id="S4.E3.m2.1.1.3.2.cmml" xref="S4.E3.m2.1.1.3.2"><times id="S4.E3.m2.1.1.3.2.1.cmml" xref="S4.E3.m2.1.1.3.2.1"></times><apply id="S4.E3.m2.1.1.3.2.2.cmml" xref="S4.E3.m2.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.2.2.1.cmml" xref="S4.E3.m2.1.1.3.2.2">subscript</csymbol><ci id="S4.E3.m2.1.1.3.2.2.2.cmml" xref="S4.E3.m2.1.1.3.2.2.2">𝑝</ci><ci id="S4.E3.m2.1.1.3.2.2.3.cmml" xref="S4.E3.m2.1.1.3.2.2.3">𝑖</ci></apply><ci id="S4.E3.m2.1.1.3.2.3.cmml" xref="S4.E3.m2.1.1.3.2.3">Δ</ci><apply id="S4.E3.m2.1.1.3.2.4.cmml" xref="S4.E3.m2.1.1.3.2.4"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.2.4.1.cmml" xref="S4.E3.m2.1.1.3.2.4">subscript</csymbol><apply id="S4.E3.m2.1.1.3.2.4.2.cmml" xref="S4.E3.m2.1.1.3.2.4"><csymbol cd="ambiguous" id="S4.E3.m2.1.1.3.2.4.2.1.cmml" xref="S4.E3.m2.1.1.3.2.4">superscript</csymbol><ci id="S4.E3.m2.1.1.3.2.4.2.2.cmml" xref="S4.E3.m2.1.1.3.2.4.2.2">𝑤</ci><ci id="S4.E3.m2.1.1.3.2.4.2.3.cmml" xref="S4.E3.m2.1.1.3.2.4.2.3">𝑡</ci></apply><ci id="S4.E3.m2.1.1.3.2.4.3.cmml" xref="S4.E3.m2.1.1.3.2.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m2.1c">\displaystyle=\sum\nolimits_{i=1}^{N}p_{i}\Delta w^{t}_{i}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
<tbody id="S4.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E4.m1.1" class="ltx_Math" alttext="\displaystyle w^{t+1}" display="inline"><semantics id="S4.E4.m1.1a"><msup id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml"><mi id="S4.E4.m1.1.1.2" xref="S4.E4.m1.1.1.2.cmml">w</mi><mrow id="S4.E4.m1.1.1.3" xref="S4.E4.m1.1.1.3.cmml"><mi id="S4.E4.m1.1.1.3.2" xref="S4.E4.m1.1.1.3.2.cmml">t</mi><mo id="S4.E4.m1.1.1.3.1" xref="S4.E4.m1.1.1.3.1.cmml">+</mo><mn id="S4.E4.m1.1.1.3.3" xref="S4.E4.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.E4.m1.1b"><apply id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.cmml" xref="S4.E4.m1.1.1">superscript</csymbol><ci id="S4.E4.m1.1.1.2.cmml" xref="S4.E4.m1.1.1.2">𝑤</ci><apply id="S4.E4.m1.1.1.3.cmml" xref="S4.E4.m1.1.1.3"><plus id="S4.E4.m1.1.1.3.1.cmml" xref="S4.E4.m1.1.1.3.1"></plus><ci id="S4.E4.m1.1.1.3.2.cmml" xref="S4.E4.m1.1.1.3.2">𝑡</ci><cn type="integer" id="S4.E4.m1.1.1.3.3.cmml" xref="S4.E4.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.1c">\displaystyle w^{t+1}</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math id="S4.E4.m2.1" class="ltx_Math" alttext="\displaystyle=w^{t}-\eta\Delta w^{t}" display="inline"><semantics id="S4.E4.m2.1a"><mrow id="S4.E4.m2.1.1" xref="S4.E4.m2.1.1.cmml"><mi id="S4.E4.m2.1.1.2" xref="S4.E4.m2.1.1.2.cmml"></mi><mo id="S4.E4.m2.1.1.1" xref="S4.E4.m2.1.1.1.cmml">=</mo><mrow id="S4.E4.m2.1.1.3" xref="S4.E4.m2.1.1.3.cmml"><msup id="S4.E4.m2.1.1.3.2" xref="S4.E4.m2.1.1.3.2.cmml"><mi id="S4.E4.m2.1.1.3.2.2" xref="S4.E4.m2.1.1.3.2.2.cmml">w</mi><mi id="S4.E4.m2.1.1.3.2.3" xref="S4.E4.m2.1.1.3.2.3.cmml">t</mi></msup><mo id="S4.E4.m2.1.1.3.1" xref="S4.E4.m2.1.1.3.1.cmml">−</mo><mrow id="S4.E4.m2.1.1.3.3" xref="S4.E4.m2.1.1.3.3.cmml"><mi id="S4.E4.m2.1.1.3.3.2" xref="S4.E4.m2.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S4.E4.m2.1.1.3.3.1" xref="S4.E4.m2.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.E4.m2.1.1.3.3.3" xref="S4.E4.m2.1.1.3.3.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.E4.m2.1.1.3.3.1a" xref="S4.E4.m2.1.1.3.3.1.cmml">​</mo><msup id="S4.E4.m2.1.1.3.3.4" xref="S4.E4.m2.1.1.3.3.4.cmml"><mi id="S4.E4.m2.1.1.3.3.4.2" xref="S4.E4.m2.1.1.3.3.4.2.cmml">w</mi><mi id="S4.E4.m2.1.1.3.3.4.3" xref="S4.E4.m2.1.1.3.3.4.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m2.1b"><apply id="S4.E4.m2.1.1.cmml" xref="S4.E4.m2.1.1"><eq id="S4.E4.m2.1.1.1.cmml" xref="S4.E4.m2.1.1.1"></eq><csymbol cd="latexml" id="S4.E4.m2.1.1.2.cmml" xref="S4.E4.m2.1.1.2">absent</csymbol><apply id="S4.E4.m2.1.1.3.cmml" xref="S4.E4.m2.1.1.3"><minus id="S4.E4.m2.1.1.3.1.cmml" xref="S4.E4.m2.1.1.3.1"></minus><apply id="S4.E4.m2.1.1.3.2.cmml" xref="S4.E4.m2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E4.m2.1.1.3.2.1.cmml" xref="S4.E4.m2.1.1.3.2">superscript</csymbol><ci id="S4.E4.m2.1.1.3.2.2.cmml" xref="S4.E4.m2.1.1.3.2.2">𝑤</ci><ci id="S4.E4.m2.1.1.3.2.3.cmml" xref="S4.E4.m2.1.1.3.2.3">𝑡</ci></apply><apply id="S4.E4.m2.1.1.3.3.cmml" xref="S4.E4.m2.1.1.3.3"><times id="S4.E4.m2.1.1.3.3.1.cmml" xref="S4.E4.m2.1.1.3.3.1"></times><ci id="S4.E4.m2.1.1.3.3.2.cmml" xref="S4.E4.m2.1.1.3.3.2">𝜂</ci><ci id="S4.E4.m2.1.1.3.3.3.cmml" xref="S4.E4.m2.1.1.3.3.3">Δ</ci><apply id="S4.E4.m2.1.1.3.3.4.cmml" xref="S4.E4.m2.1.1.3.3.4"><csymbol cd="ambiguous" id="S4.E4.m2.1.1.3.3.4.1.cmml" xref="S4.E4.m2.1.1.3.3.4">superscript</csymbol><ci id="S4.E4.m2.1.1.3.3.4.2.cmml" xref="S4.E4.m2.1.1.3.3.4.2">𝑤</ci><ci id="S4.E4.m2.1.1.3.3.4.3.cmml" xref="S4.E4.m2.1.1.3.3.4.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m2.1c">\displaystyle=w^{t}-\eta\Delta w^{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<figure id="S4.F2" class="ltx_figure"><img src="/html/2305.17221/assets/figures/FL2.png" id="S4.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="287" height="296" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>An overview of the FL procedure. </figcaption>
</figure>
<div id="S4.SS1.p5" class="ltx_para ltx_noindent">
<p id="S4.SS1.p5.1" class="ltx_p"><span id="S4.SS1.p5.1.1" class="ltx_text ltx_font_bold">FL Algorithms.</span> We explore three popular FL algorithms for our task:</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.1" class="ltx_p"><span id="S4.SS1.p6.1.1" class="ltx_text ltx_font_italic">Federated Averaging (FedAvg)</span> <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib17" title="" class="ltx_ref">2017</a>)</cite> uses stochastic gradient descent (SGD) as the local training optimizer to optimize the training procedure and uses the same learning rate and the same number of local training epochs for all the clients.</p>
</div>
<div id="S4.SS1.p7" class="ltx_para">
<p id="S4.SS1.p7.1" class="ltx_p"><span id="S4.SS1.p7.1.1" class="ltx_text ltx_font_italic">FedOPT</span> <cite class="ltx_cite ltx_citemacro_cite">Reddi et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> is a generalized version of FedAvg. The algorithm is parameterized by two gradient-based optimizers: CLIENTOPT and SERVEROPT. CLIENTOPT is used to update the local models on the client side, while SERVEROPT treats the negative of aggregated local changes "<math id="S4.SS1.p7.1.m1.1" class="ltx_Math" alttext="-\Delta w^{t}" display="inline"><semantics id="S4.SS1.p7.1.m1.1a"><mrow id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml"><mo id="S4.SS1.p7.1.m1.1.1a" xref="S4.SS1.p7.1.m1.1.1.cmml">−</mo><mrow id="S4.SS1.p7.1.m1.1.1.2" xref="S4.SS1.p7.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S4.SS1.p7.1.m1.1.1.2.2" xref="S4.SS1.p7.1.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p7.1.m1.1.1.2.1" xref="S4.SS1.p7.1.m1.1.1.2.1.cmml">​</mo><msup id="S4.SS1.p7.1.m1.1.1.2.3" xref="S4.SS1.p7.1.m1.1.1.2.3.cmml"><mi id="S4.SS1.p7.1.m1.1.1.2.3.2" xref="S4.SS1.p7.1.m1.1.1.2.3.2.cmml">w</mi><mi id="S4.SS1.p7.1.m1.1.1.2.3.3" xref="S4.SS1.p7.1.m1.1.1.2.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b"><apply id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1"><minus id="S4.SS1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1"></minus><apply id="S4.SS1.p7.1.m1.1.1.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2"><times id="S4.SS1.p7.1.m1.1.1.2.1.cmml" xref="S4.SS1.p7.1.m1.1.1.2.1"></times><ci id="S4.SS1.p7.1.m1.1.1.2.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2.2">Δ</ci><apply id="S4.SS1.p7.1.m1.1.1.2.3.cmml" xref="S4.SS1.p7.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS1.p7.1.m1.1.1.2.3.1.cmml" xref="S4.SS1.p7.1.m1.1.1.2.3">superscript</csymbol><ci id="S4.SS1.p7.1.m1.1.1.2.3.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2.3.2">𝑤</ci><ci id="S4.SS1.p7.1.m1.1.1.2.3.3.cmml" xref="S4.SS1.p7.1.m1.1.1.2.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">-\Delta w^{t}</annotation></semantics></math>" as a pseudo-gradient and applies it to the global model on the server side. FedOPT allows powerful adaptive optimizers on both server side and client side.</p>
</div>
<div id="S4.SS1.p8" class="ltx_para">
<p id="S4.SS1.p8.1" class="ltx_p"><span id="S4.SS1.p8.1.1" class="ltx_text ltx_font_italic">FedProx</span> <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>)</cite> tries to tackle the statistical heterogeneity issue by adding an L2 regularization term, which constrains the local model to be closer to the local model initialization (i.e., the global model) during each round for stable training.</p>
</div>
<div id="S4.SS1.p9" class="ltx_para">
<p id="S4.SS1.p9.4" class="ltx_p">To summarize, for the local training stage, both FedAvg and FedOPT optimize the local training objective <math id="S4.SS1.p9.1.m1.2" class="ltx_Math" alttext="f_{i}(w,b)" display="inline"><semantics id="S4.SS1.p9.1.m1.2a"><mrow id="S4.SS1.p9.1.m1.2.3" xref="S4.SS1.p9.1.m1.2.3.cmml"><msub id="S4.SS1.p9.1.m1.2.3.2" xref="S4.SS1.p9.1.m1.2.3.2.cmml"><mi id="S4.SS1.p9.1.m1.2.3.2.2" xref="S4.SS1.p9.1.m1.2.3.2.2.cmml">f</mi><mi id="S4.SS1.p9.1.m1.2.3.2.3" xref="S4.SS1.p9.1.m1.2.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS1.p9.1.m1.2.3.1" xref="S4.SS1.p9.1.m1.2.3.1.cmml">​</mo><mrow id="S4.SS1.p9.1.m1.2.3.3.2" xref="S4.SS1.p9.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS1.p9.1.m1.2.3.3.2.1" xref="S4.SS1.p9.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.SS1.p9.1.m1.1.1" xref="S4.SS1.p9.1.m1.1.1.cmml">w</mi><mo id="S4.SS1.p9.1.m1.2.3.3.2.2" xref="S4.SS1.p9.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.SS1.p9.1.m1.2.2" xref="S4.SS1.p9.1.m1.2.2.cmml">b</mi><mo stretchy="false" id="S4.SS1.p9.1.m1.2.3.3.2.3" xref="S4.SS1.p9.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p9.1.m1.2b"><apply id="S4.SS1.p9.1.m1.2.3.cmml" xref="S4.SS1.p9.1.m1.2.3"><times id="S4.SS1.p9.1.m1.2.3.1.cmml" xref="S4.SS1.p9.1.m1.2.3.1"></times><apply id="S4.SS1.p9.1.m1.2.3.2.cmml" xref="S4.SS1.p9.1.m1.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p9.1.m1.2.3.2.1.cmml" xref="S4.SS1.p9.1.m1.2.3.2">subscript</csymbol><ci id="S4.SS1.p9.1.m1.2.3.2.2.cmml" xref="S4.SS1.p9.1.m1.2.3.2.2">𝑓</ci><ci id="S4.SS1.p9.1.m1.2.3.2.3.cmml" xref="S4.SS1.p9.1.m1.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S4.SS1.p9.1.m1.2.3.3.1.cmml" xref="S4.SS1.p9.1.m1.2.3.3.2"><ci id="S4.SS1.p9.1.m1.1.1.cmml" xref="S4.SS1.p9.1.m1.1.1">𝑤</ci><ci id="S4.SS1.p9.1.m1.2.2.cmml" xref="S4.SS1.p9.1.m1.2.2">𝑏</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p9.1.m1.2c">f_{i}(w,b)</annotation></semantics></math>;
for FedProx, it optimizes Eqn. (<a href="#S4.E5" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), where <math id="S4.SS1.p9.2.m2.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S4.SS1.p9.2.m2.1a"><mi id="S4.SS1.p9.2.m2.1.1" xref="S4.SS1.p9.2.m2.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p9.2.m2.1b"><ci id="S4.SS1.p9.2.m2.1.1.cmml" xref="S4.SS1.p9.2.m2.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p9.2.m2.1c">\mu</annotation></semantics></math> is a hyperparameter and <math id="S4.SS1.p9.3.m3.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="S4.SS1.p9.3.m3.1a"><msup id="S4.SS1.p9.3.m3.1.1" xref="S4.SS1.p9.3.m3.1.1.cmml"><mi id="S4.SS1.p9.3.m3.1.1.2" xref="S4.SS1.p9.3.m3.1.1.2.cmml">w</mi><mi id="S4.SS1.p9.3.m3.1.1.3" xref="S4.SS1.p9.3.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p9.3.m3.1b"><apply id="S4.SS1.p9.3.m3.1.1.cmml" xref="S4.SS1.p9.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p9.3.m3.1.1.1.cmml" xref="S4.SS1.p9.3.m3.1.1">superscript</csymbol><ci id="S4.SS1.p9.3.m3.1.1.2.cmml" xref="S4.SS1.p9.3.m3.1.1.2">𝑤</ci><ci id="S4.SS1.p9.3.m3.1.1.3.cmml" xref="S4.SS1.p9.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p9.3.m3.1c">w^{t}</annotation></semantics></math> is the local model initialization (i.e., the global model) during the <math id="S4.SS1.p9.4.m4.1" class="ltx_Math" alttext="t\text{-}th" display="inline"><semantics id="S4.SS1.p9.4.m4.1a"><mrow id="S4.SS1.p9.4.m4.1.1" xref="S4.SS1.p9.4.m4.1.1.cmml"><mi id="S4.SS1.p9.4.m4.1.1.2" xref="S4.SS1.p9.4.m4.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p9.4.m4.1.1.1" xref="S4.SS1.p9.4.m4.1.1.1.cmml">​</mo><mtext id="S4.SS1.p9.4.m4.1.1.3" xref="S4.SS1.p9.4.m4.1.1.3a.cmml">-</mtext><mo lspace="0em" rspace="0em" id="S4.SS1.p9.4.m4.1.1.1a" xref="S4.SS1.p9.4.m4.1.1.1.cmml">​</mo><mi id="S4.SS1.p9.4.m4.1.1.4" xref="S4.SS1.p9.4.m4.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p9.4.m4.1.1.1b" xref="S4.SS1.p9.4.m4.1.1.1.cmml">​</mo><mi id="S4.SS1.p9.4.m4.1.1.5" xref="S4.SS1.p9.4.m4.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p9.4.m4.1b"><apply id="S4.SS1.p9.4.m4.1.1.cmml" xref="S4.SS1.p9.4.m4.1.1"><times id="S4.SS1.p9.4.m4.1.1.1.cmml" xref="S4.SS1.p9.4.m4.1.1.1"></times><ci id="S4.SS1.p9.4.m4.1.1.2.cmml" xref="S4.SS1.p9.4.m4.1.1.2">𝑡</ci><ci id="S4.SS1.p9.4.m4.1.1.3a.cmml" xref="S4.SS1.p9.4.m4.1.1.3"><mtext id="S4.SS1.p9.4.m4.1.1.3.cmml" xref="S4.SS1.p9.4.m4.1.1.3">-</mtext></ci><ci id="S4.SS1.p9.4.m4.1.1.4.cmml" xref="S4.SS1.p9.4.m4.1.1.4">𝑡</ci><ci id="S4.SS1.p9.4.m4.1.1.5.cmml" xref="S4.SS1.p9.4.m4.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p9.4.m4.1c">t\text{-}th</annotation></semantics></math> round.</p>
<table id="A1.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E5.m1.6" class="ltx_Math" alttext="\displaystyle\min\limits_{w}h_{i}(w,b,w^{t}):=f_{i}(w,b)+\frac{\mu}{2}\|w-w^{t}\|^{2}" display="inline"><semantics id="S4.E5.m1.6a"><mrow id="S4.E5.m1.6.6" xref="S4.E5.m1.6.6.cmml"><mrow id="S4.E5.m1.5.5.1" xref="S4.E5.m1.5.5.1.cmml"><mrow id="S4.E5.m1.5.5.1.3" xref="S4.E5.m1.5.5.1.3.cmml"><munder id="S4.E5.m1.5.5.1.3.1" xref="S4.E5.m1.5.5.1.3.1.cmml"><mi id="S4.E5.m1.5.5.1.3.1.2" xref="S4.E5.m1.5.5.1.3.1.2.cmml">min</mi><mi id="S4.E5.m1.5.5.1.3.1.3" xref="S4.E5.m1.5.5.1.3.1.3.cmml">w</mi></munder><mo lspace="0.167em" id="S4.E5.m1.5.5.1.3a" xref="S4.E5.m1.5.5.1.3.cmml">⁡</mo><msub id="S4.E5.m1.5.5.1.3.2" xref="S4.E5.m1.5.5.1.3.2.cmml"><mi id="S4.E5.m1.5.5.1.3.2.2" xref="S4.E5.m1.5.5.1.3.2.2.cmml">h</mi><mi id="S4.E5.m1.5.5.1.3.2.3" xref="S4.E5.m1.5.5.1.3.2.3.cmml">i</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S4.E5.m1.5.5.1.2" xref="S4.E5.m1.5.5.1.2.cmml">​</mo><mrow id="S4.E5.m1.5.5.1.1.1" xref="S4.E5.m1.5.5.1.1.2.cmml"><mo stretchy="false" id="S4.E5.m1.5.5.1.1.1.2" xref="S4.E5.m1.5.5.1.1.2.cmml">(</mo><mi id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml">w</mi><mo id="S4.E5.m1.5.5.1.1.1.3" xref="S4.E5.m1.5.5.1.1.2.cmml">,</mo><mi id="S4.E5.m1.2.2" xref="S4.E5.m1.2.2.cmml">b</mi><mo id="S4.E5.m1.5.5.1.1.1.4" xref="S4.E5.m1.5.5.1.1.2.cmml">,</mo><msup id="S4.E5.m1.5.5.1.1.1.1" xref="S4.E5.m1.5.5.1.1.1.1.cmml"><mi id="S4.E5.m1.5.5.1.1.1.1.2" xref="S4.E5.m1.5.5.1.1.1.1.2.cmml">w</mi><mi id="S4.E5.m1.5.5.1.1.1.1.3" xref="S4.E5.m1.5.5.1.1.1.1.3.cmml">t</mi></msup><mo rspace="0.278em" stretchy="false" id="S4.E5.m1.5.5.1.1.1.5" xref="S4.E5.m1.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="S4.E5.m1.6.6.3" xref="S4.E5.m1.6.6.3.cmml">:=</mo><mrow id="S4.E5.m1.6.6.2" xref="S4.E5.m1.6.6.2.cmml"><mrow id="S4.E5.m1.6.6.2.3" xref="S4.E5.m1.6.6.2.3.cmml"><msub id="S4.E5.m1.6.6.2.3.2" xref="S4.E5.m1.6.6.2.3.2.cmml"><mi id="S4.E5.m1.6.6.2.3.2.2" xref="S4.E5.m1.6.6.2.3.2.2.cmml">f</mi><mi id="S4.E5.m1.6.6.2.3.2.3" xref="S4.E5.m1.6.6.2.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E5.m1.6.6.2.3.1" xref="S4.E5.m1.6.6.2.3.1.cmml">​</mo><mrow id="S4.E5.m1.6.6.2.3.3.2" xref="S4.E5.m1.6.6.2.3.3.1.cmml"><mo stretchy="false" id="S4.E5.m1.6.6.2.3.3.2.1" xref="S4.E5.m1.6.6.2.3.3.1.cmml">(</mo><mi id="S4.E5.m1.3.3" xref="S4.E5.m1.3.3.cmml">w</mi><mo id="S4.E5.m1.6.6.2.3.3.2.2" xref="S4.E5.m1.6.6.2.3.3.1.cmml">,</mo><mi id="S4.E5.m1.4.4" xref="S4.E5.m1.4.4.cmml">b</mi><mo stretchy="false" id="S4.E5.m1.6.6.2.3.3.2.3" xref="S4.E5.m1.6.6.2.3.3.1.cmml">)</mo></mrow></mrow><mo id="S4.E5.m1.6.6.2.2" xref="S4.E5.m1.6.6.2.2.cmml">+</mo><mrow id="S4.E5.m1.6.6.2.1" xref="S4.E5.m1.6.6.2.1.cmml"><mstyle displaystyle="true" id="S4.E5.m1.6.6.2.1.3" xref="S4.E5.m1.6.6.2.1.3.cmml"><mfrac id="S4.E5.m1.6.6.2.1.3a" xref="S4.E5.m1.6.6.2.1.3.cmml"><mi id="S4.E5.m1.6.6.2.1.3.2" xref="S4.E5.m1.6.6.2.1.3.2.cmml">μ</mi><mn id="S4.E5.m1.6.6.2.1.3.3" xref="S4.E5.m1.6.6.2.1.3.3.cmml">2</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S4.E5.m1.6.6.2.1.2" xref="S4.E5.m1.6.6.2.1.2.cmml">​</mo><msup id="S4.E5.m1.6.6.2.1.1" xref="S4.E5.m1.6.6.2.1.1.cmml"><mrow id="S4.E5.m1.6.6.2.1.1.1.1" xref="S4.E5.m1.6.6.2.1.1.1.2.cmml"><mo stretchy="false" id="S4.E5.m1.6.6.2.1.1.1.1.2" xref="S4.E5.m1.6.6.2.1.1.1.2.1.cmml">‖</mo><mrow id="S4.E5.m1.6.6.2.1.1.1.1.1" xref="S4.E5.m1.6.6.2.1.1.1.1.1.cmml"><mi id="S4.E5.m1.6.6.2.1.1.1.1.1.2" xref="S4.E5.m1.6.6.2.1.1.1.1.1.2.cmml">w</mi><mo id="S4.E5.m1.6.6.2.1.1.1.1.1.1" xref="S4.E5.m1.6.6.2.1.1.1.1.1.1.cmml">−</mo><msup id="S4.E5.m1.6.6.2.1.1.1.1.1.3" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3.cmml"><mi id="S4.E5.m1.6.6.2.1.1.1.1.1.3.2" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3.2.cmml">w</mi><mi id="S4.E5.m1.6.6.2.1.1.1.1.1.3.3" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E5.m1.6.6.2.1.1.1.1.3" xref="S4.E5.m1.6.6.2.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S4.E5.m1.6.6.2.1.1.3" xref="S4.E5.m1.6.6.2.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.6b"><apply id="S4.E5.m1.6.6.cmml" xref="S4.E5.m1.6.6"><csymbol cd="latexml" id="S4.E5.m1.6.6.3.cmml" xref="S4.E5.m1.6.6.3">assign</csymbol><apply id="S4.E5.m1.5.5.1.cmml" xref="S4.E5.m1.5.5.1"><times id="S4.E5.m1.5.5.1.2.cmml" xref="S4.E5.m1.5.5.1.2"></times><apply id="S4.E5.m1.5.5.1.3.cmml" xref="S4.E5.m1.5.5.1.3"><apply id="S4.E5.m1.5.5.1.3.1.cmml" xref="S4.E5.m1.5.5.1.3.1"><csymbol cd="ambiguous" id="S4.E5.m1.5.5.1.3.1.1.cmml" xref="S4.E5.m1.5.5.1.3.1">subscript</csymbol><min id="S4.E5.m1.5.5.1.3.1.2.cmml" xref="S4.E5.m1.5.5.1.3.1.2"></min><ci id="S4.E5.m1.5.5.1.3.1.3.cmml" xref="S4.E5.m1.5.5.1.3.1.3">𝑤</ci></apply><apply id="S4.E5.m1.5.5.1.3.2.cmml" xref="S4.E5.m1.5.5.1.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.5.5.1.3.2.1.cmml" xref="S4.E5.m1.5.5.1.3.2">subscript</csymbol><ci id="S4.E5.m1.5.5.1.3.2.2.cmml" xref="S4.E5.m1.5.5.1.3.2.2">ℎ</ci><ci id="S4.E5.m1.5.5.1.3.2.3.cmml" xref="S4.E5.m1.5.5.1.3.2.3">𝑖</ci></apply></apply><vector id="S4.E5.m1.5.5.1.1.2.cmml" xref="S4.E5.m1.5.5.1.1.1"><ci id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1">𝑤</ci><ci id="S4.E5.m1.2.2.cmml" xref="S4.E5.m1.2.2">𝑏</ci><apply id="S4.E5.m1.5.5.1.1.1.1.cmml" xref="S4.E5.m1.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.5.5.1.1.1.1.1.cmml" xref="S4.E5.m1.5.5.1.1.1.1">superscript</csymbol><ci id="S4.E5.m1.5.5.1.1.1.1.2.cmml" xref="S4.E5.m1.5.5.1.1.1.1.2">𝑤</ci><ci id="S4.E5.m1.5.5.1.1.1.1.3.cmml" xref="S4.E5.m1.5.5.1.1.1.1.3">𝑡</ci></apply></vector></apply><apply id="S4.E5.m1.6.6.2.cmml" xref="S4.E5.m1.6.6.2"><plus id="S4.E5.m1.6.6.2.2.cmml" xref="S4.E5.m1.6.6.2.2"></plus><apply id="S4.E5.m1.6.6.2.3.cmml" xref="S4.E5.m1.6.6.2.3"><times id="S4.E5.m1.6.6.2.3.1.cmml" xref="S4.E5.m1.6.6.2.3.1"></times><apply id="S4.E5.m1.6.6.2.3.2.cmml" xref="S4.E5.m1.6.6.2.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.6.6.2.3.2.1.cmml" xref="S4.E5.m1.6.6.2.3.2">subscript</csymbol><ci id="S4.E5.m1.6.6.2.3.2.2.cmml" xref="S4.E5.m1.6.6.2.3.2.2">𝑓</ci><ci id="S4.E5.m1.6.6.2.3.2.3.cmml" xref="S4.E5.m1.6.6.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S4.E5.m1.6.6.2.3.3.1.cmml" xref="S4.E5.m1.6.6.2.3.3.2"><ci id="S4.E5.m1.3.3.cmml" xref="S4.E5.m1.3.3">𝑤</ci><ci id="S4.E5.m1.4.4.cmml" xref="S4.E5.m1.4.4">𝑏</ci></interval></apply><apply id="S4.E5.m1.6.6.2.1.cmml" xref="S4.E5.m1.6.6.2.1"><times id="S4.E5.m1.6.6.2.1.2.cmml" xref="S4.E5.m1.6.6.2.1.2"></times><apply id="S4.E5.m1.6.6.2.1.3.cmml" xref="S4.E5.m1.6.6.2.1.3"><divide id="S4.E5.m1.6.6.2.1.3.1.cmml" xref="S4.E5.m1.6.6.2.1.3"></divide><ci id="S4.E5.m1.6.6.2.1.3.2.cmml" xref="S4.E5.m1.6.6.2.1.3.2">𝜇</ci><cn type="integer" id="S4.E5.m1.6.6.2.1.3.3.cmml" xref="S4.E5.m1.6.6.2.1.3.3">2</cn></apply><apply id="S4.E5.m1.6.6.2.1.1.cmml" xref="S4.E5.m1.6.6.2.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.6.6.2.1.1.2.cmml" xref="S4.E5.m1.6.6.2.1.1">superscript</csymbol><apply id="S4.E5.m1.6.6.2.1.1.1.2.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1"><csymbol cd="latexml" id="S4.E5.m1.6.6.2.1.1.1.2.1.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.2">norm</csymbol><apply id="S4.E5.m1.6.6.2.1.1.1.1.1.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1"><minus id="S4.E5.m1.6.6.2.1.1.1.1.1.1.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.1"></minus><ci id="S4.E5.m1.6.6.2.1.1.1.1.1.2.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.2">𝑤</ci><apply id="S4.E5.m1.6.6.2.1.1.1.1.1.3.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E5.m1.6.6.2.1.1.1.1.1.3.1.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3">superscript</csymbol><ci id="S4.E5.m1.6.6.2.1.1.1.1.1.3.2.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3.2">𝑤</ci><ci id="S4.E5.m1.6.6.2.1.1.1.1.1.3.3.cmml" xref="S4.E5.m1.6.6.2.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><cn type="integer" id="S4.E5.m1.6.6.2.1.1.3.cmml" xref="S4.E5.m1.6.6.2.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.6c">\displaystyle\min\limits_{w}h_{i}(w,b,w^{t}):=f_{i}(w,b)+\frac{\mu}{2}\|w-w^{t}\|^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS1.p10" class="ltx_para">
<p id="S4.SS1.p10.1" class="ltx_p">For the cross-silo setting where all clients participate in training for each round, these three algorithms optimize Eqn. (<a href="#S4.E1" title="In 4.1 Background ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) during the FL process.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Our Proposed Re-weighting Mechanism</h3>

<div id="S4.SS2.p1" class="ltx_para ltx_noindent">
<p id="S4.SS2.p1.1" class="ltx_p"><span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold">Motivating Insights.</span> Heterogeneity, where the data distributions and dataset sizes on different clients are different, is recognized as one of the biggest challenges in FL, which usually leads to performance degradation for clients. Here, we uniquely observe the clients’ heterogeneity from the perspective of their training loss reduction. Take Restaurants and Yelp as two example clients. Figure <a href="#S4.F3" title="Figure 3 ‣ 4.2 Our Proposed Re-weighting Mechanism ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows their training loss variation w.r.t. "Step". Here the "Step" is the number of iteration steps for each client during training. Adjacent high and low points in the figure correspond to one communication round. When the curve goes down, it means the client is in the local training stage. When the curve goes up, it means the server has updated the global model based on the aggregated local model changes from all clients and each client starts a new round of local training with the updated global model as the local model initialization. Since for different clients, the dataset sizes and the local training epochs are different, for the same communication round, the "Step" for different clients is different.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">As we can see, after each round, the global model deviates from the optimization trajectory  of each client. Thus the reduction of the training loss can signalize how far the global model is away from the client’s local optimum. As <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="p_{i}" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><msub id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">p</mi><mi id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝑝</ci><ci id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">p_{i}</annotation></semantics></math> decides how much each client contributes to the global model update, we give larger weights to those clients who have larger training loss reduction to make the global model update accommodate them better, thus mitigating potential performance degradation caused by high heterogeneity.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_top" style="width:195.1pt;">
<img src="/html/2305.17221/assets/figures/restaurants_motivation_part2.png" id="S4.F3.1.g1" class="ltx_graphics ltx_img_square" width="145" height="123" alt="Refer to caption">
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="S4.F3.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_top" style="width:195.1pt;">
<img src="/html/2305.17221/assets/figures/yelp_motivation_part2.png" id="S4.F3.2.g1" class="ltx_graphics ltx_img_square" width="145" height="123" alt="Refer to caption">
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Training loss variation of two clients: Restaurants and Yelp. The reduction of training loss during each round can signalize how far the global model is away from the client’s local optimum. </figcaption>
</figure>
<div id="S4.SS2.p3" class="ltx_para ltx_noindent">
<p id="S4.SS2.p3.2" class="ltx_p"><span id="S4.SS2.p3.2.1" class="ltx_text ltx_font_bold">Proposed Mechanism.</span> Based on the above insights, we use the training loss reduction to adjust the weight of each client, so as to reschedule its contribution to the global model update. The final weight is formulated as Eqn. (<a href="#S4.E6" title="In 4.2 Our Proposed Re-weighting Mechanism ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), where <math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="\Delta\mathcal{L}_{i}^{t}" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><mrow id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi mathvariant="normal" id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p3.1.m1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.cmml">​</mo><msubsup id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.1.m1.1.1.3.2.2" xref="S4.SS2.p3.1.m1.1.1.3.2.2.cmml">ℒ</mi><mi id="S4.SS2.p3.1.m1.1.1.3.2.3" xref="S4.SS2.p3.1.m1.1.1.3.2.3.cmml">i</mi><mi id="S4.SS2.p3.1.m1.1.1.3.3" xref="S4.SS2.p3.1.m1.1.1.3.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><times id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1"></times><ci id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2">Δ</ci><apply id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.3.1.cmml" xref="S4.SS2.p3.1.m1.1.1.3">superscript</csymbol><apply id="S4.SS2.p3.1.m1.1.1.3.2.cmml" xref="S4.SS2.p3.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.3.2.1.cmml" xref="S4.SS2.p3.1.m1.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.3.2.2.cmml" xref="S4.SS2.p3.1.m1.1.1.3.2.2">ℒ</ci><ci id="S4.SS2.p3.1.m1.1.1.3.2.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3.2.3">𝑖</ci></apply><ci id="S4.SS2.p3.1.m1.1.1.3.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">\Delta\mathcal{L}_{i}^{t}</annotation></semantics></math> is the training loss reduction during the <math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="t\text{-}th" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><mrow id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml"><mi id="S4.SS2.p3.2.m2.1.1.2" xref="S4.SS2.p3.2.m2.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p3.2.m2.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.cmml">​</mo><mtext id="S4.SS2.p3.2.m2.1.1.3" xref="S4.SS2.p3.2.m2.1.1.3a.cmml">-</mtext><mo lspace="0em" rspace="0em" id="S4.SS2.p3.2.m2.1.1.1a" xref="S4.SS2.p3.2.m2.1.1.1.cmml">​</mo><mi id="S4.SS2.p3.2.m2.1.1.4" xref="S4.SS2.p3.2.m2.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.SS2.p3.2.m2.1.1.1b" xref="S4.SS2.p3.2.m2.1.1.1.cmml">​</mo><mi id="S4.SS2.p3.2.m2.1.1.5" xref="S4.SS2.p3.2.m2.1.1.5.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1"><times id="S4.SS2.p3.2.m2.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1"></times><ci id="S4.SS2.p3.2.m2.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.2">𝑡</ci><ci id="S4.SS2.p3.2.m2.1.1.3a.cmml" xref="S4.SS2.p3.2.m2.1.1.3"><mtext id="S4.SS2.p3.2.m2.1.1.3.cmml" xref="S4.SS2.p3.2.m2.1.1.3">-</mtext></ci><ci id="S4.SS2.p3.2.m2.1.1.4.cmml" xref="S4.SS2.p3.2.m2.1.1.4">𝑡</ci><ci id="S4.SS2.p3.2.m2.1.1.5.cmml" xref="S4.SS2.p3.2.m2.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">t\text{-}th</annotation></semantics></math> round.</p>
<table id="A1.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E6.m1.2" class="ltx_Math" alttext="\displaystyle p_{i}^{t}=\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}/\sum\nolimits_{i=1}^{N}\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}" display="inline"><semantics id="S4.E6.m1.2a"><mrow id="S4.E6.m1.2.2" xref="S4.E6.m1.2.2.cmml"><msubsup id="S4.E6.m1.2.2.4" xref="S4.E6.m1.2.2.4.cmml"><mi id="S4.E6.m1.2.2.4.2.2" xref="S4.E6.m1.2.2.4.2.2.cmml">p</mi><mi id="S4.E6.m1.2.2.4.2.3" xref="S4.E6.m1.2.2.4.2.3.cmml">i</mi><mi id="S4.E6.m1.2.2.4.3" xref="S4.E6.m1.2.2.4.3.cmml">t</mi></msubsup><mo id="S4.E6.m1.2.2.3" xref="S4.E6.m1.2.2.3.cmml">=</mo><mrow id="S4.E6.m1.2.2.2" xref="S4.E6.m1.2.2.2.cmml"><mrow id="S4.E6.m1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.cmml"><mrow id="S4.E6.m1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.2.cmml"><mo id="S4.E6.m1.1.1.1.1.1.1.2" xref="S4.E6.m1.1.1.1.1.1.2.1.cmml">|</mo><msub id="S4.E6.m1.1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.1.1.1.1.1.1.1.2" xref="S4.E6.m1.1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.E6.m1.1.1.1.1.1.1.1.3" xref="S4.E6.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E6.m1.1.1.1.1.1.1.3" xref="S4.E6.m1.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S4.E6.m1.1.1.1.1.2" xref="S4.E6.m1.1.1.1.1.2.cmml">​</mo><mi mathvariant="normal" id="S4.E6.m1.1.1.1.1.3" xref="S4.E6.m1.1.1.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.E6.m1.1.1.1.1.2a" xref="S4.E6.m1.1.1.1.1.2.cmml">​</mo><msubsup id="S4.E6.m1.1.1.1.1.4" xref="S4.E6.m1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.1.1.1.1.4.2.2" xref="S4.E6.m1.1.1.1.1.4.2.2.cmml">ℒ</mi><mi id="S4.E6.m1.1.1.1.1.4.2.3" xref="S4.E6.m1.1.1.1.1.4.2.3.cmml">i</mi><mi id="S4.E6.m1.1.1.1.1.4.3" xref="S4.E6.m1.1.1.1.1.4.3.cmml">t</mi></msubsup></mrow><mo id="S4.E6.m1.2.2.2.3" xref="S4.E6.m1.2.2.2.3.cmml">/</mo><mrow id="S4.E6.m1.2.2.2.2" xref="S4.E6.m1.2.2.2.2.cmml"><mstyle displaystyle="true" id="S4.E6.m1.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.cmml"><msubsup id="S4.E6.m1.2.2.2.2.2a" xref="S4.E6.m1.2.2.2.2.2.cmml"><mo id="S4.E6.m1.2.2.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.2.2.cmml">∑</mo><mrow id="S4.E6.m1.2.2.2.2.2.2.3" xref="S4.E6.m1.2.2.2.2.2.2.3.cmml"><mi id="S4.E6.m1.2.2.2.2.2.2.3.2" xref="S4.E6.m1.2.2.2.2.2.2.3.2.cmml">i</mi><mo id="S4.E6.m1.2.2.2.2.2.2.3.1" xref="S4.E6.m1.2.2.2.2.2.2.3.1.cmml">=</mo><mn id="S4.E6.m1.2.2.2.2.2.2.3.3" xref="S4.E6.m1.2.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S4.E6.m1.2.2.2.2.2.3" xref="S4.E6.m1.2.2.2.2.2.3.cmml">N</mi></msubsup></mstyle><mrow id="S4.E6.m1.2.2.2.2.1" xref="S4.E6.m1.2.2.2.2.1.cmml"><mrow id="S4.E6.m1.2.2.2.2.1.1.1" xref="S4.E6.m1.2.2.2.2.1.1.2.cmml"><mo id="S4.E6.m1.2.2.2.2.1.1.1.2" xref="S4.E6.m1.2.2.2.2.1.1.2.1.cmml">|</mo><msub id="S4.E6.m1.2.2.2.2.1.1.1.1" xref="S4.E6.m1.2.2.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.1.1.1.1.2" xref="S4.E6.m1.2.2.2.2.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.E6.m1.2.2.2.2.1.1.1.1.3" xref="S4.E6.m1.2.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E6.m1.2.2.2.2.1.1.1.3" xref="S4.E6.m1.2.2.2.2.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.2.2.1.2" xref="S4.E6.m1.2.2.2.2.1.2.cmml">​</mo><mi mathvariant="normal" id="S4.E6.m1.2.2.2.2.1.3" xref="S4.E6.m1.2.2.2.2.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.2.2.1.2a" xref="S4.E6.m1.2.2.2.2.1.2.cmml">​</mo><msubsup id="S4.E6.m1.2.2.2.2.1.4" xref="S4.E6.m1.2.2.2.2.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.1.4.2.2" xref="S4.E6.m1.2.2.2.2.1.4.2.2.cmml">ℒ</mi><mi id="S4.E6.m1.2.2.2.2.1.4.2.3" xref="S4.E6.m1.2.2.2.2.1.4.2.3.cmml">i</mi><mi id="S4.E6.m1.2.2.2.2.1.4.3" xref="S4.E6.m1.2.2.2.2.1.4.3.cmml">t</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.2b"><apply id="S4.E6.m1.2.2.cmml" xref="S4.E6.m1.2.2"><eq id="S4.E6.m1.2.2.3.cmml" xref="S4.E6.m1.2.2.3"></eq><apply id="S4.E6.m1.2.2.4.cmml" xref="S4.E6.m1.2.2.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.4.1.cmml" xref="S4.E6.m1.2.2.4">superscript</csymbol><apply id="S4.E6.m1.2.2.4.2.cmml" xref="S4.E6.m1.2.2.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.4.2.1.cmml" xref="S4.E6.m1.2.2.4">subscript</csymbol><ci id="S4.E6.m1.2.2.4.2.2.cmml" xref="S4.E6.m1.2.2.4.2.2">𝑝</ci><ci id="S4.E6.m1.2.2.4.2.3.cmml" xref="S4.E6.m1.2.2.4.2.3">𝑖</ci></apply><ci id="S4.E6.m1.2.2.4.3.cmml" xref="S4.E6.m1.2.2.4.3">𝑡</ci></apply><apply id="S4.E6.m1.2.2.2.cmml" xref="S4.E6.m1.2.2.2"><divide id="S4.E6.m1.2.2.2.3.cmml" xref="S4.E6.m1.2.2.2.3"></divide><apply id="S4.E6.m1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1"><times id="S4.E6.m1.1.1.1.1.2.cmml" xref="S4.E6.m1.1.1.1.1.2"></times><apply id="S4.E6.m1.1.1.1.1.1.2.cmml" xref="S4.E6.m1.1.1.1.1.1.1"><abs id="S4.E6.m1.1.1.1.1.1.2.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1.2"></abs><apply id="S4.E6.m1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E6.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E6.m1.1.1.1.1.1.1.1.2">𝒟</ci><ci id="S4.E6.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E6.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="S4.E6.m1.1.1.1.1.3.cmml" xref="S4.E6.m1.1.1.1.1.3">Δ</ci><apply id="S4.E6.m1.1.1.1.1.4.cmml" xref="S4.E6.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.1.1.1.1.4.1.cmml" xref="S4.E6.m1.1.1.1.1.4">superscript</csymbol><apply id="S4.E6.m1.1.1.1.1.4.2.cmml" xref="S4.E6.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.1.1.1.1.4.2.1.cmml" xref="S4.E6.m1.1.1.1.1.4">subscript</csymbol><ci id="S4.E6.m1.1.1.1.1.4.2.2.cmml" xref="S4.E6.m1.1.1.1.1.4.2.2">ℒ</ci><ci id="S4.E6.m1.1.1.1.1.4.2.3.cmml" xref="S4.E6.m1.1.1.1.1.4.2.3">𝑖</ci></apply><ci id="S4.E6.m1.1.1.1.1.4.3.cmml" xref="S4.E6.m1.1.1.1.1.4.3">𝑡</ci></apply></apply><apply id="S4.E6.m1.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2"><apply id="S4.E6.m1.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2">superscript</csymbol><apply id="S4.E6.m1.2.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2">subscript</csymbol><sum id="S4.E6.m1.2.2.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.2.2"></sum><apply id="S4.E6.m1.2.2.2.2.2.2.3.cmml" xref="S4.E6.m1.2.2.2.2.2.2.3"><eq id="S4.E6.m1.2.2.2.2.2.2.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.2.3.1"></eq><ci id="S4.E6.m1.2.2.2.2.2.2.3.2.cmml" xref="S4.E6.m1.2.2.2.2.2.2.3.2">𝑖</ci><cn type="integer" id="S4.E6.m1.2.2.2.2.2.2.3.3.cmml" xref="S4.E6.m1.2.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S4.E6.m1.2.2.2.2.2.3.cmml" xref="S4.E6.m1.2.2.2.2.2.3">𝑁</ci></apply><apply id="S4.E6.m1.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.2.2.1"><times id="S4.E6.m1.2.2.2.2.1.2.cmml" xref="S4.E6.m1.2.2.2.2.1.2"></times><apply id="S4.E6.m1.2.2.2.2.1.1.2.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1"><abs id="S4.E6.m1.2.2.2.2.1.1.2.1.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1.2"></abs><apply id="S4.E6.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1.1.2">𝒟</ci><ci id="S4.E6.m1.2.2.2.2.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.2.2.1.1.1.1.3">𝑖</ci></apply></apply><ci id="S4.E6.m1.2.2.2.2.1.3.cmml" xref="S4.E6.m1.2.2.2.2.1.3">Δ</ci><apply id="S4.E6.m1.2.2.2.2.1.4.cmml" xref="S4.E6.m1.2.2.2.2.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.1.4.1.cmml" xref="S4.E6.m1.2.2.2.2.1.4">superscript</csymbol><apply id="S4.E6.m1.2.2.2.2.1.4.2.cmml" xref="S4.E6.m1.2.2.2.2.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.1.4.2.1.cmml" xref="S4.E6.m1.2.2.2.2.1.4">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.1.4.2.2.cmml" xref="S4.E6.m1.2.2.2.2.1.4.2.2">ℒ</ci><ci id="S4.E6.m1.2.2.2.2.1.4.2.3.cmml" xref="S4.E6.m1.2.2.2.2.1.4.2.3">𝑖</ci></apply><ci id="S4.E6.m1.2.2.2.2.1.4.3.cmml" xref="S4.E6.m1.2.2.2.2.1.4.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.2c">\displaystyle p_{i}^{t}=\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}/\sum\nolimits_{i=1}^{N}\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">FedAvg, FedOPT, FedreProx with our proposed mechanism are summarized in Algorithm <a href="#alg1" title="In Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> in Appendix.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>

<div id="S5.p1" class="ltx_para ltx_noindent">
<p id="S5.p1.1" class="ltx_p"><span id="S5.p1.1.1" class="ltx_text ltx_font_bold">Datasets.</span> We re-purpose eight datasets: ATIS <cite class="ltx_cite ltx_citemacro_citep">(Iyer et al., <a href="#bib.bib8" title="" class="ltx_ref">2017</a>; Dahl et al., <a href="#bib.bib4" title="" class="ltx_ref">1994</a>)</cite>, GeoQuery <cite class="ltx_cite ltx_citemacro_citep">(Iyer et al., <a href="#bib.bib8" title="" class="ltx_ref">2017</a>; Zelle and Mooney, <a href="#bib.bib35" title="" class="ltx_ref">1996</a>)</cite>, Restaurants <cite class="ltx_cite ltx_citemacro_citep">(Tang and Mooney, <a href="#bib.bib28" title="" class="ltx_ref">2000</a>; Popescu et al., <a href="#bib.bib18" title="" class="ltx_ref">2003</a>; Giordani and Moschitti, <a href="#bib.bib6" title="" class="ltx_ref">2012</a>)</cite>, Scholar <cite class="ltx_cite ltx_citemacro_citep">(Iyer et al., <a href="#bib.bib8" title="" class="ltx_ref">2017</a>)</cite>, Academic <cite class="ltx_cite ltx_citemacro_citep">(Li and Jagadish, <a href="#bib.bib11" title="" class="ltx_ref">2014</a>)</cite>, Advising <cite class="ltx_cite ltx_citemacro_citep">(Finegan-Dollak et al., <a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite>, Yelp and IMDB <cite class="ltx_cite ltx_citemacro_citep">(Yaghmazadeh et al., <a href="#bib.bib33" title="" class="ltx_ref">2017</a>)</cite> as eight clients. These datasets have been standardized to the same SQL style by <cite class="ltx_cite ltx_citemacro_citet">Finegan-Dollak et al. (<a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite>. Their characteristics have been described in Section <a href="#S3" title="3 Evaluation Setup ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. We follow "question split" datasets preprocessed by <cite class="ltx_cite ltx_citemacro_citet">Finegan-Dollak et al. (<a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite> to split the train, dev and test data, which means we let the train, dev and test examples have different questions but the same SQL queries are allowed. For Advising, ATIS, GeoQuery and Scholar, we directly use the original question split as our split. For Restaurants, Academic, IMDB and Yelp, since the data sizes are relatively small, the original question split uses 10 splits for cross validation without specifying train, dev and test examples. Given FL is costly as we need multiple GPUs to finish one experiment, we fix the train, dev and test set by randomly selecting 6 splits as the train set, 2 splits as the dev set and 2 splits as the test set.</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_bold">Evaluation Metrics.</span>
1) Exact Match (EM): a prediction is deemed correct only if it is exactly the same as the ground truth (i.e., exact string match), which is widely used for text-to-SQL parsing <cite class="ltx_cite ltx_citemacro_cite">Finegan-Dollak et al. (<a href="#bib.bib5" title="" class="ltx_ref">2018</a>)</cite>. All the evaluations in our experiments consider the values generated in the SQL query. 2) MacroAvg: The arithmetic mean of EM across all clients, which treats each client equally. 3) MicroAvg: The total number of correct predictions on all the clients divided by the total test examples, which treats each test example equally.</p>
</div>
<div id="S5.p3" class="ltx_para ltx_noindent">
<p id="S5.p3.1" class="ltx_p"><span id="S5.p3.1.1" class="ltx_text ltx_font_bold">Learning Paradigm.</span> We compare three learning paradigms: finetuning, centralized and FL. 1) <span id="S5.p3.1.2" class="ltx_text ltx_font_italic">Finetuning</span>: we individually finetune our backbone model (T5-base) on the training data of each client. 2) <span id="S5.p3.1.3" class="ltx_text ltx_font_italic">Centralized</span>: we merge the training data of all the clients and finetune our backbone model on the merged training data to obtain one model. 3) <span id="S5.p3.1.4" class="ltx_text ltx_font_italic">FL</span>: we leverage eight clients and a server to learn a global model without sharing each client’s local data. By comparing individual finetuning and FL, we can show the benefit of FL for some clients, especially for small-sized clients. The centralized paradigm is less practical compared with the other two paradigms due to privacy considerations. However, it can serve as a useful reference to help validate how effective an FL algorithm is in fully exploiting heterogeneous data across multiple clients.</p>
</div>
<div id="S5.p4" class="ltx_para ltx_noindent">
<p id="S5.p4.1" class="ltx_p"><span id="S5.p4.1.1" class="ltx_text ltx_font_bold">Implementation Details.</span>
We implement the FL algorithms and T5-base model based on FedNLP <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite>, FedML <cite class="ltx_cite ltx_citemacro_cite">He et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>)</cite> and UnifiedSKG <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite>. We use Adafactor <cite class="ltx_cite ltx_citemacro_cite">Shazeer and Stern (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite> as the optimizer for finetuning and centralized paradigms, and as the client optimizer<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Note we use Adafactor as the local optimizer for FedAvg, so the FedAvg in our paper is slightly different from the original proposed FedAvg, which uses stochastic gradient descent(SGD) as the local optimizer.</span></span></span> for FL paradigm, since it has been shown as the best optimizer to optimize the T5 model. More details are in Appendix <a href="#A1.SS1" title="A.1 Implementation Details ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<div id="S5.p5" class="ltx_para">
<p id="S5.p5.1" class="ltx_p">For the computing resources, we use 1 NVIDIA A6000 48GB GPU for finetuning, with batch size 8. We use 2 NVIDIA A6000 48GB GPUs for centralized training, with batch size 8. We use 5 NVIDIA A6000 48GB GPUs for all federated learning experiments. Specifically, one GPU is used as the server and the other four GPUs are used as 8 clients, with each GPU accommodating 2 clients. The batch size for clients GeoQuery, Restaurants, Scholar, Academic, IMDB and Yelp is 4, and for clients Advising and ATIS is 8.</p>
</div>
<figure id="S5.T2" class="ltx_table">
<div id="S5.T2.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:120pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-75.9pt,21.0pt) scale(0.740666469296143,0.740666469296143) ;">
<table id="S5.T2.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T2.3.3.4.1" class="ltx_tr">
<th id="S5.T2.3.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S5.T2.3.3.4.1.1.1" class="ltx_text"></span></th>
<th id="S5.T2.3.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.2.1" class="ltx_text">Advising†</span></th>
<th id="S5.T2.3.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.3.1" class="ltx_text">ATIS†</span></th>
<th id="S5.T2.3.3.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.4.1" class="ltx_text">GeoQuery§</span></th>
<th id="S5.T2.3.3.4.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.5.1" class="ltx_text">Restaurants§</span></th>
<th id="S5.T2.3.3.4.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.6.1" class="ltx_text">Scholar§</span></th>
<th id="S5.T2.3.3.4.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.7.1" class="ltx_text">Academic*</span></th>
<th id="S5.T2.3.3.4.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.8.1" class="ltx_text">IMDB*</span></th>
<th id="S5.T2.3.3.4.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.9.1" class="ltx_text">Yelp*</span></th>
<th id="S5.T2.3.3.4.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.10.1" class="ltx_text">MacroAvg</span></th>
<th id="S5.T2.3.3.4.1.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S5.T2.3.3.4.1.11.1" class="ltx_text">MicroAvg</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T2.3.3.5.1" class="ltx_tr">
<th id="S5.T2.3.3.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Finetuning</th>
<td id="S5.T2.3.3.5.1.2" class="ltx_td ltx_align_center ltx_border_t">84.47</td>
<td id="S5.T2.3.3.5.1.3" class="ltx_td ltx_align_center ltx_border_t">53.91</td>
<td id="S5.T2.3.3.5.1.4" class="ltx_td ltx_align_center ltx_border_t">72.76</td>
<td id="S5.T2.3.3.5.1.5" class="ltx_td ltx_align_center ltx_border_t">98.65</td>
<td id="S5.T2.3.3.5.1.6" class="ltx_td ltx_align_center ltx_border_t">74.31</td>
<td id="S5.T2.3.3.5.1.7" class="ltx_td ltx_align_center ltx_border_t">57.89</td>
<td id="S5.T2.3.3.5.1.8" class="ltx_td ltx_align_center ltx_border_t">26.92</td>
<td id="S5.T2.3.3.5.1.9" class="ltx_td ltx_align_center ltx_border_t">33.33</td>
<td id="S5.T2.3.3.5.1.10" class="ltx_td ltx_align_center ltx_border_t">62.78</td>
<td id="S5.T2.3.3.5.1.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">71.47</td>
</tr>
<tr id="S5.T2.3.3.6.2" class="ltx_tr">
<th id="S5.T2.3.3.6.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Centralized</th>
<td id="S5.T2.3.3.6.2.2" class="ltx_td ltx_align_center">85.51</td>
<td id="S5.T2.3.3.6.2.3" class="ltx_td ltx_align_center">56.38</td>
<td id="S5.T2.3.3.6.2.4" class="ltx_td ltx_align_center">79.21</td>
<td id="S5.T2.3.3.6.2.5" class="ltx_td ltx_align_center">100</td>
<td id="S5.T2.3.3.6.2.6" class="ltx_td ltx_align_center">72.48</td>
<td id="S5.T2.3.3.6.2.7" class="ltx_td ltx_align_center">65.79</td>
<td id="S5.T2.3.3.6.2.8" class="ltx_td ltx_align_center">61.54</td>
<td id="S5.T2.3.3.6.2.9" class="ltx_td ltx_align_center">41.67</td>
<td id="S5.T2.3.3.6.2.10" class="ltx_td ltx_align_center">70.32</td>
<td id="S5.T2.3.3.6.2.11" class="ltx_td ltx_nopad_r ltx_align_center">74.21</td>
</tr>
<tr id="S5.T2.3.3.7.3" class="ltx_tr">
<th id="S5.T2.3.3.7.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">FedOPT</th>
<td id="S5.T2.3.3.7.3.2" class="ltx_td ltx_align_center ltx_border_t">79.76</td>
<td id="S5.T2.3.3.7.3.3" class="ltx_td ltx_align_center ltx_border_t">51.23</td>
<td id="S5.T2.3.3.7.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.7.3.4.1" class="ltx_text ltx_font_bold">77.42</span></td>
<td id="S5.T2.3.3.7.3.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.7.3.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S5.T2.3.3.7.3.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.7.3.6.1" class="ltx_text ltx_font_bold">66.51</span></td>
<td id="S5.T2.3.3.7.3.7" class="ltx_td ltx_align_center ltx_border_t">50</td>
<td id="S5.T2.3.3.7.3.8" class="ltx_td ltx_align_center ltx_border_t">34.62</td>
<td id="S5.T2.3.3.7.3.9" class="ltx_td ltx_align_center ltx_border_t">8.33</td>
<td id="S5.T2.3.3.7.3.10" class="ltx_td ltx_align_center ltx_border_t">58.32</td>
<td id="S5.T2.3.3.7.3.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">68.49</td>
</tr>
<tr id="S5.T2.1.1.1" class="ltx_tr">
<th id="S5.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">FedOPT<sub id="S5.T2.1.1.1.1.1" class="ltx_sub"><span id="S5.T2.1.1.1.1.1.1" class="ltx_text ltx_font_italic">lorar</span></sub>
</th>
<td id="S5.T2.1.1.1.2" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.2.1" class="ltx_text ltx_font_bold">80.98</span></td>
<td id="S5.T2.1.1.1.3" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.3.1" class="ltx_text ltx_font_bold">52.35</span></td>
<td id="S5.T2.1.1.1.4" class="ltx_td ltx_align_center">75.99</td>
<td id="S5.T2.1.1.1.5" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S5.T2.1.1.1.6" class="ltx_td ltx_align_center">64.68</td>
<td id="S5.T2.1.1.1.7" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.7.1" class="ltx_text ltx_font_bold">68.42</span></td>
<td id="S5.T2.1.1.1.8" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.8.1" class="ltx_text ltx_font_bold">38.46</span></td>
<td id="S5.T2.1.1.1.9" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.9.1" class="ltx_text ltx_font_bold">20.83</span></td>
<td id="S5.T2.1.1.1.10" class="ltx_td ltx_align_center"><span id="S5.T2.1.1.1.10.1" class="ltx_text ltx_font_bold">62.55</span></td>
<td id="S5.T2.1.1.1.11" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S5.T2.1.1.1.11.1" class="ltx_text ltx_font_bold">69.39</span></td>
</tr>
<tr id="S5.T2.3.3.8.4" class="ltx_tr">
<th id="S5.T2.3.3.8.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">FedAvg</th>
<td id="S5.T2.3.3.8.4.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.8.4.2.1" class="ltx_text ltx_font_bold">76.44</span></td>
<td id="S5.T2.3.3.8.4.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.8.4.3.1" class="ltx_text ltx_font_bold">50.11</span></td>
<td id="S5.T2.3.3.8.4.4" class="ltx_td ltx_align_center ltx_border_t">59.86</td>
<td id="S5.T2.3.3.8.4.5" class="ltx_td ltx_align_center ltx_border_t">72.97</td>
<td id="S5.T2.3.3.8.4.6" class="ltx_td ltx_align_center ltx_border_t">38.07</td>
<td id="S5.T2.3.3.8.4.7" class="ltx_td ltx_align_center ltx_border_t">2.63</td>
<td id="S5.T2.3.3.8.4.8" class="ltx_td ltx_align_center ltx_border_t">7.69</td>
<td id="S5.T2.3.3.8.4.9" class="ltx_td ltx_align_center ltx_border_t">12.5</td>
<td id="S5.T2.3.3.8.4.10" class="ltx_td ltx_align_center ltx_border_t">40.03</td>
<td id="S5.T2.3.3.8.4.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">57.89</td>
</tr>
<tr id="S5.T2.2.2.2" class="ltx_tr">
<th id="S5.T2.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">FedAvg<sub id="S5.T2.2.2.2.1.1" class="ltx_sub"><span id="S5.T2.2.2.2.1.1.1" class="ltx_text ltx_font_italic">lorar</span></sub>
</th>
<td id="S5.T2.2.2.2.2" class="ltx_td ltx_align_center">74.69</td>
<td id="S5.T2.2.2.2.3" class="ltx_td ltx_align_center">49.89</td>
<td id="S5.T2.2.2.2.4" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.4.1" class="ltx_text ltx_font_bold">68.82</span></td>
<td id="S5.T2.2.2.2.5" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S5.T2.2.2.2.6" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.6.1" class="ltx_text ltx_font_bold">52.29</span></td>
<td id="S5.T2.2.2.2.7" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.7.1" class="ltx_text ltx_font_bold">65.79</span></td>
<td id="S5.T2.2.2.2.8" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.8.1" class="ltx_text ltx_font_bold">46.15</span></td>
<td id="S5.T2.2.2.2.9" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.9.1" class="ltx_text ltx_font_bold">25</span></td>
<td id="S5.T2.2.2.2.10" class="ltx_td ltx_align_center"><span id="S5.T2.2.2.2.10.1" class="ltx_text ltx_font_bold">60.16</span></td>
<td id="S5.T2.2.2.2.11" class="ltx_td ltx_nopad_r ltx_align_center"><span id="S5.T2.2.2.2.11.1" class="ltx_text ltx_font_bold">63.91</span></td>
</tr>
<tr id="S5.T2.3.3.9.5" class="ltx_tr">
<th id="S5.T2.3.3.9.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">FedProx</th>
<td id="S5.T2.3.3.9.5.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.9.5.2.1" class="ltx_text ltx_font_bold">74.52</span></td>
<td id="S5.T2.3.3.9.5.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S5.T2.3.3.9.5.3.1" class="ltx_text ltx_font_bold">50.56</span></td>
<td id="S5.T2.3.3.9.5.4" class="ltx_td ltx_align_center ltx_border_t">65.95</td>
<td id="S5.T2.3.3.9.5.5" class="ltx_td ltx_align_center ltx_border_t">81.08</td>
<td id="S5.T2.3.3.9.5.6" class="ltx_td ltx_align_center ltx_border_t">38.53</td>
<td id="S5.T2.3.3.9.5.7" class="ltx_td ltx_align_center ltx_border_t">10.53</td>
<td id="S5.T2.3.3.9.5.8" class="ltx_td ltx_align_center ltx_border_t">3.85</td>
<td id="S5.T2.3.3.9.5.9" class="ltx_td ltx_align_center ltx_border_t">8.33</td>
<td id="S5.T2.3.3.9.5.10" class="ltx_td ltx_align_center ltx_border_t">41.67</td>
<td id="S5.T2.3.3.9.5.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">58.84</td>
</tr>
<tr id="S5.T2.3.3.3" class="ltx_tr">
<th id="S5.T2.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">FedProx<sub id="S5.T2.3.3.3.1.1" class="ltx_sub"><span id="S5.T2.3.3.3.1.1.1" class="ltx_text ltx_font_italic">lorar</span></sub>
</th>
<td id="S5.T2.3.3.3.2" class="ltx_td ltx_align_center ltx_border_bb">73.12</td>
<td id="S5.T2.3.3.3.3" class="ltx_td ltx_align_center ltx_border_bb">49.66</td>
<td id="S5.T2.3.3.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.4.1" class="ltx_text ltx_font_bold">67.38</span></td>
<td id="S5.T2.3.3.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S5.T2.3.3.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.6.1" class="ltx_text ltx_font_bold">48.17</span></td>
<td id="S5.T2.3.3.3.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.7.1" class="ltx_text ltx_font_bold">63.16</span></td>
<td id="S5.T2.3.3.3.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.8.1" class="ltx_text ltx_font_bold">46.15</span></td>
<td id="S5.T2.3.3.3.9" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.9.1" class="ltx_text ltx_font_bold">20.83</span></td>
<td id="S5.T2.3.3.3.10" class="ltx_td ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.10.1" class="ltx_text ltx_font_bold">58.39</span></td>
<td id="S5.T2.3.3.3.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb"><span id="S5.T2.3.3.3.11.1" class="ltx_text ltx_font_bold">62.42</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>
Main results for different learning paradigms and FL algorithms. "†": large-sized clients. "§": medium-sized clients. "*": small-sized clients.
</figcaption>
</figure>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Results and Analysis</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Main Results</h3>

<div id="S6.SS1.p1" class="ltx_para ltx_noindent">
<p id="S6.SS1.p1.1" class="ltx_p"><span id="S6.SS1.p1.1.1" class="ltx_text ltx_font_bold">Centralized vs. Finetuning.</span> As Table <a href="#S5.T2" title="Table 2 ‣ 5 Experiments ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows, compared with the individual finetuning setting, the model performance under the centralized setting has been improved on all the datasets except Scholar. <span id="S6.SS1.p1.1.2" class="ltx_text ltx_font_italic">This means merging all the data to train a model, which increases the size and diversity of training data, can improve the model’s generalization ability and lead to improvement for most datasets.</span> This observation also motivates us to leverage these datasets to study FL for semantic parsing, which is a more practical paradigm than the centralized one.</p>
</div>
<figure id="S6.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.1" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/advising.png" id="S6.F4.1.g1" class="ltx_graphics ltx_img_square" width="138" height="113" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.2" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/atis.png" id="S6.F4.2.g1" class="ltx_graphics ltx_img_square" width="138" height="116" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.3" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/geoquery.png" id="S6.F4.3.g1" class="ltx_graphics ltx_img_square" width="138" height="112" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.4" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/restaurants.png" id="S6.F4.4.g1" class="ltx_graphics ltx_img_square" width="138" height="118" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.5" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/scholar.png" id="S6.F4.5.g1" class="ltx_graphics ltx_img_square" width="138" height="112" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.6" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/academic.png" id="S6.F4.6.g1" class="ltx_graphics ltx_img_square" width="138" height="116" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.7" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/imdb.png" id="S6.F4.7.g1" class="ltx_graphics ltx_img_square" width="138" height="118" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S6.F4.8" class="ltx_figure ltx_figure_panel"><img src="/html/2305.17221/assets/figures/yelp.png" id="S6.F4.8.g1" class="ltx_graphics ltx_img_square" width="138" height="118" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Training loss variation on eight clients for FedOPT and FedOPT<math id="S6.F4.10.m1.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.F4.10.m1.1b"><msub id="S6.F4.10.m1.1.1" xref="S6.F4.10.m1.1.1.cmml"><mi id="S6.F4.10.m1.1.1b" xref="S6.F4.10.m1.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.F4.10.m1.1.1.1" xref="S6.F4.10.m1.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.F4.10.m1.1c"><apply id="S6.F4.10.m1.1.1.cmml" xref="S6.F4.10.m1.1.1"><ci id="S6.F4.10.m1.1.1.1a.cmml" xref="S6.F4.10.m1.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.F4.10.m1.1.1.1.cmml" xref="S6.F4.10.m1.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.F4.10.m1.1d">{}_{\texttt{lorar}}</annotation></semantics></math>. </figcaption>
</figure>
<div id="S6.SS1.p2" class="ltx_para ltx_noindent">
<p id="S6.SS1.p2.1" class="ltx_p"><span id="S6.SS1.p2.1.1" class="ltx_text ltx_font_bold">Effectiveness of <span id="S6.SS1.p2.1.1.1" class="ltx_text ltx_font_typewriter">Lorar</span> in FL.</span> Applying our proposed <span id="S6.SS1.p2.1.2" class="ltx_text ltx_font_typewriter">Lorar</span> mechanism can substantially improve the performance of all three FL algorithms overall. As Table <a href="#S5.T2" title="Table 2 ‣ 5 Experiments ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows, for FedOPT, our proposed FedOPT<math id="S6.SS1.p2.1.m1.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.SS1.p2.1.m1.1a"><msub id="S6.SS1.p2.1.m1.1.1" xref="S6.SS1.p2.1.m1.1.1.cmml"><mi id="S6.SS1.p2.1.m1.1.1a" xref="S6.SS1.p2.1.m1.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.SS1.p2.1.m1.1.1.1" xref="S6.SS1.p2.1.m1.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p2.1.m1.1b"><apply id="S6.SS1.p2.1.m1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1"><ci id="S6.SS1.p2.1.m1.1.1.1a.cmml" xref="S6.SS1.p2.1.m1.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.SS1.p2.1.m1.1.1.1.cmml" xref="S6.SS1.p2.1.m1.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p2.1.m1.1c">{}_{\texttt{lorar}}</annotation></semantics></math> performs substantially better or similarly on all clients, except for a slight drop on GeoQuery and Scholar. Moreover, on the three smaller datasets: Academic, IMDB and Yelp, <span id="S6.SS1.p2.1.3" class="ltx_text ltx_font_typewriter">Lorar</span> brings much larger performance gains. For FedAvg and FedProx, in addition to these three datasets, <span id="S6.SS1.p2.1.4" class="ltx_text ltx_font_typewriter">Lorar</span> also brings substantial improvements on two medium-sized clients: Restaurants and Scholar. These observations validate the effectiveness of our proposed mechanism under different FL algorithms and across different clients.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">We additionally analyze these three FL algorithms and their performance variation with and without using <span id="S6.SS1.p3.1.1" class="ltx_text ltx_font_typewriter">Lorar</span> under different communication rounds. More details are included in Appendix <a href="#A1.SS2" title="A.2 Comparison of FL Baselines. ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.2</span></a> and <a href="#A1.SS3" title="A.3 Performance Variation under Varying Communication Rounds. ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.3</span></a>.</p>
</div>
<div id="S6.SS1.p4" class="ltx_para ltx_noindent">
<p id="S6.SS1.p4.1" class="ltx_p"><span id="S6.SS1.p4.1.1" class="ltx_text ltx_font_bold">FL vs. Finetuning/Centralized.</span>
As Table <a href="#S5.T2" title="Table 2 ‣ 5 Experiments ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows, the original FedOPT outperforms finetuning on GeoQuery and IMDB, which shows that FL can boost the model performance for some clients. In addition, although there is still a gap between existing FL algorithms (FedOPT, FedAvg, and FedProx) and the centralized setting, by equipping them with our proposed <span id="S6.SS1.p4.1.2" class="ltx_text ltx_font_typewriter">Lorar</span>, we can reduce the gap by 4-20 points (i.e., absolute difference under MacroAvg). It is worth noting that institutions are often reluctant or prohibited to share their data in practice, especially for SQL data that may directly reveal private database content.
Therefore, the centralized paradigm is impractical.
Nonetheless, it can serve as a useful reference to help validate how effective an FL algorithm is in fully exploiting heterogeneous data across multiple clients.
The results show that our benchmark provides a challenging testbed for a realistic FL problem, and there is still a large room to further improve the FL algorithms.</p>
</div>
<figure id="S6.T3" class="ltx_table">
<div id="S6.T3.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:70.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-59.2pt,9.7pt) scale(0.785554435425631,0.785554435425631) ;">
<table id="S6.T3.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S6.T3.3.3.4.1" class="ltx_tr">
<th id="S6.T3.3.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt"><span id="S6.T3.3.3.4.1.1.1" class="ltx_text"></span></th>
<th id="S6.T3.3.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.2.1" class="ltx_text">Advising</span></th>
<th id="S6.T3.3.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.3.1" class="ltx_text">ATIS</span></th>
<th id="S6.T3.3.3.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.4.1" class="ltx_text">GeoQuery</span></th>
<th id="S6.T3.3.3.4.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.5.1" class="ltx_text">Restaurants</span></th>
<th id="S6.T3.3.3.4.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.6.1" class="ltx_text">Scholar</span></th>
<th id="S6.T3.3.3.4.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.7.1" class="ltx_text">Academic</span></th>
<th id="S6.T3.3.3.4.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.8.1" class="ltx_text">IMDB</span></th>
<th id="S6.T3.3.3.4.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.9.1" class="ltx_text">Yelp</span></th>
<th id="S6.T3.3.3.4.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.10.1" class="ltx_text">MacroAvg</span></th>
<th id="S6.T3.3.3.4.1.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S6.T3.3.3.4.1.11.1" class="ltx_text">MicroAvg</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S6.T3.3.3.5.1" class="ltx_tr">
<th id="S6.T3.3.3.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">FedOPT</th>
<td id="S6.T3.3.3.5.1.2" class="ltx_td ltx_align_center ltx_border_t">79.76</td>
<td id="S6.T3.3.3.5.1.3" class="ltx_td ltx_align_center ltx_border_t">51.23</td>
<td id="S6.T3.3.3.5.1.4" class="ltx_td ltx_align_center ltx_border_t">77.42</td>
<td id="S6.T3.3.3.5.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.3.3.5.1.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S6.T3.3.3.5.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S6.T3.3.3.5.1.6.1" class="ltx_text ltx_font_bold">66.51</span></td>
<td id="S6.T3.3.3.5.1.7" class="ltx_td ltx_align_center ltx_border_t">50</td>
<td id="S6.T3.3.3.5.1.8" class="ltx_td ltx_align_center ltx_border_t">34.62</td>
<td id="S6.T3.3.3.5.1.9" class="ltx_td ltx_align_center ltx_border_t">8.33</td>
<td id="S6.T3.3.3.5.1.10" class="ltx_td ltx_align_center ltx_border_t">58.32</td>
<td id="S6.T3.3.3.5.1.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t">68.49</td>
</tr>
<tr id="S6.T3.1.1.1" class="ltx_tr">
<th id="S6.T3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">FedOPT<sub id="S6.T3.1.1.1.1.1" class="ltx_sub"><span id="S6.T3.1.1.1.1.1.1" class="ltx_text ltx_font_italic">lr</span></sub>
</th>
<td id="S6.T3.1.1.1.2" class="ltx_td ltx_align_center">75.04</td>
<td id="S6.T3.1.1.1.3" class="ltx_td ltx_align_center"><span id="S6.T3.1.1.1.3.1" class="ltx_text ltx_font_bold">53.47</span></td>
<td id="S6.T3.1.1.1.4" class="ltx_td ltx_align_center">75.63</td>
<td id="S6.T3.1.1.1.5" class="ltx_td ltx_align_center"><span id="S6.T3.1.1.1.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S6.T3.1.1.1.6" class="ltx_td ltx_align_center">62.39</td>
<td id="S6.T3.1.1.1.7" class="ltx_td ltx_align_center">60.53</td>
<td id="S6.T3.1.1.1.8" class="ltx_td ltx_align_center">34.62</td>
<td id="S6.T3.1.1.1.9" class="ltx_td ltx_align_center"><span id="S6.T3.1.1.1.9.1" class="ltx_text ltx_font_bold">25</span></td>
<td id="S6.T3.1.1.1.10" class="ltx_td ltx_align_center">60.67</td>
<td id="S6.T3.1.1.1.11" class="ltx_td ltx_nopad_r ltx_align_center">67.12</td>
</tr>
<tr id="S6.T3.2.2.2" class="ltx_tr">
<th id="S6.T3.2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">FedOPT<sub id="S6.T3.2.2.2.1.1" class="ltx_sub"><span id="S6.T3.2.2.2.1.1.1" class="ltx_text ltx_font_italic">equal</span></sub>
</th>
<td id="S6.T3.2.2.2.2" class="ltx_td ltx_align_center">76.96</td>
<td id="S6.T3.2.2.2.3" class="ltx_td ltx_align_center">53.02</td>
<td id="S6.T3.2.2.2.4" class="ltx_td ltx_align_center"><span id="S6.T3.2.2.2.4.1" class="ltx_text ltx_font_bold">77.78</span></td>
<td id="S6.T3.2.2.2.5" class="ltx_td ltx_align_center"><span id="S6.T3.2.2.2.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S6.T3.2.2.2.6" class="ltx_td ltx_align_center">63.3</td>
<td id="S6.T3.2.2.2.7" class="ltx_td ltx_align_center">63.16</td>
<td id="S6.T3.2.2.2.8" class="ltx_td ltx_align_center">34.62</td>
<td id="S6.T3.2.2.2.9" class="ltx_td ltx_align_center">20.83</td>
<td id="S6.T3.2.2.2.10" class="ltx_td ltx_align_center">61.04</td>
<td id="S6.T3.2.2.2.11" class="ltx_td ltx_nopad_r ltx_align_center">68.13</td>
</tr>
<tr id="S6.T3.3.3.3" class="ltx_tr">
<th id="S6.T3.3.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">FedOPT<sub id="S6.T3.3.3.3.1.1" class="ltx_sub"><span id="S6.T3.3.3.3.1.1.1" class="ltx_text ltx_font_italic">lorar</span></sub>
</th>
<td id="S6.T3.3.3.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.2.1" class="ltx_text ltx_font_bold">80.98</span></td>
<td id="S6.T3.3.3.3.3" class="ltx_td ltx_align_center ltx_border_bb">52.35</td>
<td id="S6.T3.3.3.3.4" class="ltx_td ltx_align_center ltx_border_bb">75.99</td>
<td id="S6.T3.3.3.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.5.1" class="ltx_text ltx_font_bold">98.65</span></td>
<td id="S6.T3.3.3.3.6" class="ltx_td ltx_align_center ltx_border_bb">64.68</td>
<td id="S6.T3.3.3.3.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.7.1" class="ltx_text ltx_font_bold">68.42</span></td>
<td id="S6.T3.3.3.3.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.8.1" class="ltx_text ltx_font_bold">38.46</span></td>
<td id="S6.T3.3.3.3.9" class="ltx_td ltx_align_center ltx_border_bb">20.83</td>
<td id="S6.T3.3.3.3.10" class="ltx_td ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.10.1" class="ltx_text ltx_font_bold">62.55</span></td>
<td id="S6.T3.3.3.3.11" class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb"><span id="S6.T3.3.3.3.11.1" class="ltx_text ltx_font_bold">69.39</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>
Alternative weighting mechanisms for FedOPT on the test set of our proposed benchmark, where FedOPT only uses a client’s training set size (w/o loss reduction) as its weight, FedOPT<sub id="S6.T3.12.1" class="ltx_sub"><span id="S6.T3.12.1.1" class="ltx_text ltx_font_italic">lr</span></sub> only uses a client’s loss reduction during each round (w/o train set size) as its weight, FedOPT<math id="S6.T3.8.m2.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.T3.8.m2.1b"><msub id="S6.T3.8.m2.1.1" xref="S6.T3.8.m2.1.1.cmml"><mi id="S6.T3.8.m2.1.1b" xref="S6.T3.8.m2.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.T3.8.m2.1.1.1" xref="S6.T3.8.m2.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.8.m2.1c"><apply id="S6.T3.8.m2.1.1.cmml" xref="S6.T3.8.m2.1.1"><ci id="S6.T3.8.m2.1.1.1a.cmml" xref="S6.T3.8.m2.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.T3.8.m2.1.1.1.cmml" xref="S6.T3.8.m2.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.m2.1d">{}_{\texttt{lorar}}</annotation></semantics></math> considers both factors as its weight (Eqn. (<a href="#S4.E6" title="In 4.2 Our Proposed Re-weighting Mechanism ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>)) and FedOPT<sub id="S6.T3.13.2" class="ltx_sub"><span id="S6.T3.13.2.1" class="ltx_text ltx_font_italic">equal</span></sub> gives each client equal weight (w/o considering both factors).</figcaption>
</figure>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>Training Loss Analysis</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">To better understand how <span id="S6.SS2.p1.1.1" class="ltx_text ltx_font_typewriter">Lorar</span> affects the training process in FL, we show the training loss variation for FedOPT and FedOPT<math id="S6.SS2.p1.1.m1.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.SS2.p1.1.m1.1a"><msub id="S6.SS2.p1.1.m1.1.1" xref="S6.SS2.p1.1.m1.1.1.cmml"><mi id="S6.SS2.p1.1.m1.1.1a" xref="S6.SS2.p1.1.m1.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.SS2.p1.1.m1.1.1.1" xref="S6.SS2.p1.1.m1.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS2.p1.1.m1.1b"><apply id="S6.SS2.p1.1.m1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1"><ci id="S6.SS2.p1.1.m1.1.1.1a.cmml" xref="S6.SS2.p1.1.m1.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.SS2.p1.1.m1.1.1.1.cmml" xref="S6.SS2.p1.1.m1.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.p1.1.m1.1c">{}_{\texttt{lorar}}</annotation></semantics></math> in Figure <a href="#S6.F4" title="Figure 4 ‣ 6.1 Main Results ‣ 6 Results and Analysis ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. For FedOPT, we can see for larger datasets such as Advising and ATIS, the training converges much faster and the global model is closer to the client’s local optimum within very few rounds. While for smaller datasets such as Academic, IMDB and Yelp, the training loss oscillates widely, which means the global model converges slower for these clients (if at all).
After applying <span id="S6.SS2.p1.1.2" class="ltx_text ltx_font_typewriter">Lorar</span>, however, <span id="S6.SS2.p1.1.3" class="ltx_text ltx_font_italic">the training loss converges faster on almost all the clients</span>, which means the global model can get close to the client’s local optimum more quickly and easily.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span>Alternative Weighting Mechanisms</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.4" class="ltx_p">As FedOPT performs best among all three FL baselines, we use it to compare <span id="S6.SS3.p1.4.1" class="ltx_text ltx_font_typewriter">Lorar</span> with alternative weighting mechanisms. As Table <a href="#S6.T3" title="Table 3 ‣ 6.1 Main Results ‣ 6 Results and Analysis ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows, <span id="S6.SS3.p1.4.2" class="ltx_text ltx_font_typewriter">Lorar</span>, which considers both the training set size and the loss reduction
in the weight, can achieve the best results. Comparing FedOPT<sub id="S6.SS3.p1.4.3" class="ltx_sub"><span id="S6.SS3.p1.4.3.1" class="ltx_text ltx_font_italic">lr</span></sub> (i.e., FedOPT with only loss reduction considered in the weight) and FedOPT<math id="S6.SS3.p1.2.m2.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.SS3.p1.2.m2.1a"><msub id="S6.SS3.p1.2.m2.1.1" xref="S6.SS3.p1.2.m2.1.1.cmml"><mi id="S6.SS3.p1.2.m2.1.1a" xref="S6.SS3.p1.2.m2.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.SS3.p1.2.m2.1.1.1" xref="S6.SS3.p1.2.m2.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.2.m2.1b"><apply id="S6.SS3.p1.2.m2.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1"><ci id="S6.SS3.p1.2.m2.1.1.1a.cmml" xref="S6.SS3.p1.2.m2.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.SS3.p1.2.m2.1.1.1.cmml" xref="S6.SS3.p1.2.m2.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.2.m2.1c">{}_{\texttt{lorar}}</annotation></semantics></math>, we can see removing the training set size from the weight will lead to a large drop under MacroAvg and MicroAvg, which indicates that training set size is an important factor during the aggregation. This is intuitive since for those clients which have more training data, their local models tend to be more reliable and more generalizable. We also compare with FedOPT<sub id="S6.SS3.p1.4.4" class="ltx_sub"><span id="S6.SS3.p1.4.4.1" class="ltx_text ltx_font_italic">equal</span></sub> where all clients are given the same weight. We can see that our FedOPT<math id="S6.SS3.p1.4.m4.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="S6.SS3.p1.4.m4.1a"><msub id="S6.SS3.p1.4.m4.1.1" xref="S6.SS3.p1.4.m4.1.1.cmml"><mi id="S6.SS3.p1.4.m4.1.1a" xref="S6.SS3.p1.4.m4.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="S6.SS3.p1.4.m4.1.1.1" xref="S6.SS3.p1.4.m4.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.SS3.p1.4.m4.1b"><apply id="S6.SS3.p1.4.m4.1.1.cmml" xref="S6.SS3.p1.4.m4.1.1"><ci id="S6.SS3.p1.4.m4.1.1.1a.cmml" xref="S6.SS3.p1.4.m4.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="S6.SS3.p1.4.m4.1.1.1.cmml" xref="S6.SS3.p1.4.m4.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS3.p1.4.m4.1c">{}_{\texttt{lorar}}</annotation></semantics></math> yields superior performance. The conclusion can also be verified in Figure <a href="#A1.F6" title="Figure 6 ‣ A.3 Performance Variation under Varying Communication Rounds. ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> in Appendix, where we show their performance variation under different communication rounds.</p>
</div>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span>Impact from Dataset Heterogeneity</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.1" class="ltx_p">(1) The impact of diversity, redundancy and complexity: In Table <a href="#S5.T2" title="Table 2 ‣ 5 Experiments ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and <a href="#S6.T3" title="Table 3 ‣ 6.1 Main Results ‣ 6 Results and Analysis ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, for Restaurants, the results of finetuning, centralized training, and varying weighting mechanisms of FedOPT are pretty close and all very high (close to 100%), which shows it is a relatively easy dataset for any learning paradigm and weighting mechanism. Looking at Table <a href="#S3.T1" title="Table 1 ‣ 3 Evaluation Setup ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, Restaurants has the smallest “SQL pattern count” (i.e., lowest diversity), second largest “Questions per unique SQL query” (i.e., second highest redundancy), close to the smallest “Unique tables per query” and “SELECTs per query” (i.e., close to lowest complexity), which makes models easily learn from this dataset (Section <a href="#S3" title="3 Evaluation Setup ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). For other datasets, they have higher diversity, lower redundancy, or higher complexity, which makes models harder to make predictions and the performance is generally lower than Restaurants. (2) The impact of dataset size: Smaller datasets tend to have lower performance, as shown in Table <a href="#S5.T2" title="Table 2 ‣ 5 Experiments ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, which means they are harder to learn in general due to lack of data; however, they can benefit more from our proposed FL paradigm.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Related Work</h2>

<div id="S7.p1" class="ltx_para ltx_noindent">
<p id="S7.p1.1" class="ltx_p"><span id="S7.p1.1.1" class="ltx_text ltx_font_bold">Text-to-SQL.</span> Text-to-SQL problem which translates natural language questions to SQL queries has been studied for many years. There have been several single-database text-to-SQL datasets such as Geoquery <cite class="ltx_cite ltx_citemacro_citep">(Iyer et al., <a href="#bib.bib8" title="" class="ltx_ref">2017</a>)</cite> and ATIS <cite class="ltx_cite ltx_citemacro_citep">(Iyer et al., <a href="#bib.bib8" title="" class="ltx_ref">2017</a>)</cite>, which map from natural language questions to SQL queries on a single database. <cite class="ltx_cite ltx_citemacro_citep">Finegan-Dollak et al., <a href="#bib.bib5" title="" class="ltx_ref">2018</a></cite> curate eight datasets to unify their SQL format. These datasets cover a variety of domains and have different characteristics of the tables and SQL, which provide us a foundation to study the heterogeneous FL for the text-to-SQL problem.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">One line of work designs special models for the text-to-SQL task such as designing a relation-aware self-attention mechanism for the Transformer model to better encode the relation of the column mappings <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a href="#bib.bib30" title="" class="ltx_ref">2020a</a>)</cite> or adding constraints to the decoder <cite class="ltx_cite ltx_citemacro_citep">(Scholak et al., <a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite> to generate valid SQL queries, while another line of work tries to directly finetune a pre-trained language model such as T5 <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>); Raffel et al. (<a href="#bib.bib19" title="" class="ltx_ref">2020</a>); Rajkumar et al. (<a href="#bib.bib20" title="" class="ltx_ref">2022</a>)</cite>. As directly finetuning T5 has shown great performance and allows us to use a unified model architecture for all clients and the server, we choose T5-base as the backbone model in our work.</p>
</div>
<div id="S7.p3" class="ltx_para ltx_noindent">
<p id="S7.p3.1" class="ltx_p"><span id="S7.p3.1.1" class="ltx_text ltx_font_bold">Heterogeneity in Federated Learning.</span> Heterogeneity is one of the major challenges in federated learning. Existing work <cite class="ltx_cite ltx_citemacro_cite">McMahan et al. (<a href="#bib.bib17" title="" class="ltx_ref">2017</a>); Reddi et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>); Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>, <a href="#bib.bib15" title="" class="ltx_ref">2021</a>); Shoham et al. (<a href="#bib.bib25" title="" class="ltx_ref">2019</a>); T Dinh et al. (<a href="#bib.bib27" title="" class="ltx_ref">2020</a>); Li et al. (<a href="#bib.bib12" title="" class="ltx_ref">2022</a>)</cite> shows that heterogeneity can cause performance degradation. Several methods have been proposed to address this issue. For instance, FedOPT <cite class="ltx_cite ltx_citemacro_cite">Reddi et al. (<a href="#bib.bib21" title="" class="ltx_ref">2020</a>)</cite> uses powerful adaptive optimization methods for both the server and clients, while FedProx <cite class="ltx_cite ltx_citemacro_cite">Li et al. (<a href="#bib.bib13" title="" class="ltx_ref">2020a</a>)</cite> (and pFedMe <cite class="ltx_cite ltx_citemacro_cite">T Dinh et al. (<a href="#bib.bib27" title="" class="ltx_ref">2020</a>)</cite>) regularizes the local training procedure. However, based on our observations in Section <a href="#S6.SS1" title="6.1 Main Results ‣ 6 Results and Analysis ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a>, our mechanism significantly outperforms these methods. Other work that aims to address the heterogeneity issue in FL includes FedNova <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib31" title="" class="ltx_ref">2020b</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citep">Li et al., <a href="#bib.bib14" title="" class="ltx_ref">2020b</a></cite>. Specifically, FedNova <cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib31" title="" class="ltx_ref">2020b</a>)</cite> uses the local training update steps to normalize the server aggregation, and <cite class="ltx_cite ltx_citemacro_citep">Li et al., <a href="#bib.bib14" title="" class="ltx_ref">2020b</a></cite> proposes to optimize the power-scaled training objective. Compared to FedNova, we use a more direct indicator, training loss reduction, to adjust the weight for each client during aggregation. Different from <cite class="ltx_cite ltx_citemacro_citep">Li et al., <a href="#bib.bib14" title="" class="ltx_ref">2020b</a></cite>, our proposed simple yet effective mechanism does not require modification of the local client optimization step or additional tuning of any related hyperparameter.</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Conclusions</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">To the best of our knowledge, we are the first to study federated learning for semantic parsing. Specifically, we propose a realistic benchmark by re-purposing eight single-domain text-to-SQL datasets. Moreover, we propose a novel loss reduction adjusted re-weighting mechanism (<span id="S8.p1.1.1" class="ltx_text ltx_font_typewriter">Lorar</span>) that is applicable to widely adopted FL algorithms. By applying <span id="S8.p1.1.2" class="ltx_text ltx_font_typewriter">Lorar</span> to FedAvg, FedOPT and FedProx, we observe their performance can be improved substantially on average, and clients with smaller datasets enjoy larger performance gains.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Limitations</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">In this work, we address the heterogeneity challenge in the task of FL for semantic parsing, by leveraging the reduction of training loss signal. Our work is motivated from the FL training procedure perspective to adjust the contribution of each client during the global model aggregation stage, but how each client’s data contribute to the final global model is still unclear. As the data of different clients contain different information, what kind of information of each client is helpful and can be more directly linked and utilized to facilitate the FL training is worth more efforts in future work.</p>
</div>
<div id="Sx1.p2" class="ltx_para">
<p id="Sx1.p2.1" class="ltx_p">In addition, our proposed re-weighting mechanism is a universal technique for cross-silo FL. Thus generalizing our proposed re-weighting mechanism to a broader range of tasks beyond semantic parsing, and further studying under what kind of conditions, <span id="Sx1.p2.1.1" class="ltx_text ltx_font_typewriter">Lorar</span> can make a huge difference for FL
would be interesting future work to pursue.</p>
</div>
</section>
<section id="Sx2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx2.p1" class="ltx_para">
<p id="Sx2.p1.1" class="ltx_p">The authors would like to thank colleagues from
the OSU NLP group and all anonymous reviewers for their thoughtful comments.
This research was supported in part by NSF OAC 2112606, NSF IIS 1815674, NSF CAREER 1942980, and Ohio Supercomputer Center <cite class="ltx_cite ltx_citemacro_cite">Center (<a href="#bib.bib3" title="" class="ltx_ref">1987</a>)</cite>. The work done at IBM research was sponsored by the Combat Capabilities Development Command Army Research Laboratory and was accomplished under Cooperative Agreement Number W911NF-13-2-0045 (ARL Cyber Security CRA). The views and conclusions contained in this document are those of the authors and should not be interpreted as representing the official policies, either expressed or implied, of the Combat Capabilities Development Command Army Research Laboratory or the U.S. Government. The U.S. Government is authorized to reproduce and distribute reprints for Government purposes notwithstanding any copyright notation here on. We thank Chaoyang He for his help during reproducing FedNLP. We thank Wei-Lun (Harry) Chao for valuable discussion.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berant et al. (2013)</span>
<span class="ltx_bibblock">
Jonathan Berant, Andrew Chou, Roy Frostig, and Percy Liang. 2013.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/D13-1160" title="" class="ltx_ref ltx_href">Semantic parsing on
Freebase from question-answer pairs</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2013 Conference on Empirical Methods in
Natural Language Processing</em>, pages 1533–1544, Seattle, Washington, USA.
Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Campagna et al. (2017)</span>
<span class="ltx_bibblock">
Giovanni Campagna, Rakesh Ramesh, Silei Xu, Michael Fischer, and Monica S Lam.
2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1145/3038912.3052562" title="" class="ltx_ref ltx_href">Almond: The
architecture of an open, crowdsourced, privacy-preserving, programmable
virtual assistant</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 26th International Conference on World
Wide Web</em>, pages 341–350.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Center (1987)</span>
<span class="ltx_bibblock">
Ohio Supercomputer Center. 1987.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://osc.edu/ark:/19495/f5s1ph73" title="" class="ltx_ref ltx_href">Ohio supercomputer
center</a>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dahl et al. (1994)</span>
<span class="ltx_bibblock">
Deborah A Dahl, Madeleine Bates, Michael K Brown, William M Fisher, Kate
Hunicke-Smith, David S Pallett, Christine Pao, Alexander Rudnicky, and
Elizabeth Shriberg. 1994.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://dl.acm.org/citation.cfm?id=1075823" title="" class="ltx_ref ltx_href">Expanding the
scope of the atis task: The atis-3 corpus</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Human Language Technology: Proceedings of a Workshop held at
Plainsboro, New Jersey, March 8-11, 1994</em>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Finegan-Dollak et al. (2018)</span>
<span class="ltx_bibblock">
Catherine Finegan-Dollak, Jonathan K. Kummerfeld, Li Zhang, Karthik Ramanathan,
Sesh Sadasivam, Rui Zhang, and Dragomir Radev. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/P18-1033" title="" class="ltx_ref ltx_href">Improving text-to-SQL
evaluation methodology</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 56th Annual Meeting of the Association
for Computational Linguistics (Volume 1: Long Papers)</em>, pages 351–360,
Melbourne, Australia. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Giordani and Moschitti (2012)</span>
<span class="ltx_bibblock">
Alessandra Giordani and Alessandro Moschitti. 2012.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1007/978-3-642-45260-4_5" title="" class="ltx_ref ltx_href">Automatic
generation and reranking of sql-derived answers to nl questions</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Second International Conference on
Trustworthy Eternal Systems via Evolving Software, Data and Knowledge</em>, pages
59–76.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2020)</span>
<span class="ltx_bibblock">
Chaoyang He, Songze Li, Jinhyun So, Mi Zhang, Hongyi Wang, Xiaoyang Wang,
Praneeth Vepakomma, Abhishek Singh, Hang Qiu, Li Shen, Peilin Zhao, Yan Kang,
Yang Liu, Ramesh Raskar, Qiang Yang, Murali Annavaram, and Salman Avestimehr.
2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://arxiv.org/abs/2007.13518" title="" class="ltx_ref ltx_href">Fedml: A research library
and benchmark for federated machine learning</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2007.13518</em>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Iyer et al. (2017)</span>
<span class="ltx_bibblock">
Srinivasan Iyer, Ioannis Konstas, Alvin Cheung, Jayant Krishnamurthy, and Luke
Zettlemoyer. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.aclweb.org/anthology/P17-1089" title="" class="ltx_ref ltx_href">Learning a neural
semantic parser from user feedback</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">55th Annual Meeting of the Association for Computational
Linguistics</em>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2021)</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi
Bennis, Arjun Nitin Bhagoji, Kallista Bonawitz, Zachary Charles, Graham
Cormode, Rachel Cummings, et al. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1561/2200000083" title="" class="ltx_ref ltx_href">Advances and open
problems in federated learning</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Foundations and Trends® in Machine Learning</em>,
14(1–2):1–210.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Konečnỳ et al. (2016)</span>
<span class="ltx_bibblock">
Jakub Konečnỳ, H Brendan McMahan, Felix X Yu, Peter Richtárik,
Ananda Theertha Suresh, and Dave Bacon. 2016.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1610.05492" title="" class="ltx_ref ltx_href">Federated learning:
Strategies for improving communication efficiency</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1610.05492</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li and Jagadish (2014)</span>
<span class="ltx_bibblock">
Fei Li and H. V. Jagadish. 2014.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://dx.doi.org/10.14778/2735461.2735468" title="" class="ltx_ref ltx_href">Constructing an
interactive natural language interface for relational databases</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Proceedings of the VLDB Endowment</em>, 8(1):73–84.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Qinbin Li, Yiqun Diao, Quan Chen, and Bingsheng He. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1109/ICDE53745.2022.00077" title="" class="ltx_ref ltx_href">Federated
learning on non-iid data silos: An experimental study</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">2022 IEEE 38th International Conference on Data Engineering
(ICDE)</em>, pages 965–978. IEEE.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and
Virginia Smith. 2020a.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.mlsys.org/paper/2020/file/38af86134b65d0f10fe33d30dd76442e-Paper.pdf" title="" class="ltx_ref ltx_href">Federated optimization in heterogeneous networks</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning and Systems</em>, 2:429–450.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Tian Li, Maziar Sanjabi, Ahmad Beirami, and Virginia Smith. 2020b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=ByexElSYDr" title="" class="ltx_ref ltx_href">Fair resource
allocation in federated learning</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021)</span>
<span class="ltx_bibblock">
Xiaoxiao Li, Meirui Jiang, Xiaofei Zhang, Michael Kamp, and Qi Dou. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=6YEQUn0QICG" title="" class="ltx_ref ltx_href">Fedbn: Federated
learning on non-iid features via local batch normalization</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al. (2022)</span>
<span class="ltx_bibblock">
Bill Yuchen Lin, Chaoyang He, Zihang Ze, Hulin Wang, Yufen Hua, Christophe
Dupuy, Rahul Gupta, Mahdi Soltanolkotabi, Xiang Ren, and Salman Avestimehr.
2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2022.findings-naacl.13" title="" class="ltx_ref ltx_href">FedNLP: Benchmarking federated learning methods for natural language
processing tasks</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Findings of the Association for Computational Linguistics:
NAACL 2022</em>, pages 157–175, Seattle, United States. Association for
Computational Linguistics.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y
Arcas. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.mlr.press/v54/mcmahan17a.html" title="" class="ltx_ref ltx_href">Communication-Efficient Learning of Deep Networks from Decentralized
Data</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 20th International Conference on
Artificial Intelligence and Statistics</em>, volume 54 of <em id="bib.bib17.2.2" class="ltx_emph ltx_font_italic">Proceedings of
Machine Learning Research</em>, pages 1273–1282. PMLR.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Popescu et al. (2003)</span>
<span class="ltx_bibblock">
Ana-Maria Popescu, Oren Etzioni, and Henry Kautz. 2003.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://doi.acm.org/10.1145/604045.604070" title="" class="ltx_ref ltx_href">Towards a theory of
natural language interfaces to databases</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 8th international conference on
Intelligent user interfaces</em>, pages 149–157.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et al. (2020)</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael
Matena, Yanqi Zhou, Wei Li, Peter J Liu, et al. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://dl.acm.org/doi/abs/10.5555/3455716.3455856" title="" class="ltx_ref ltx_href">Exploring
the limits of transfer learning with a unified text-to-text transformer.</a>

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">J. Mach. Learn. Res.</em>, 21(140):1–67.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajkumar et al. (2022)</span>
<span class="ltx_bibblock">
Nitarshan Rajkumar, Raymond Li, and Dzmitry Bahdanau. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://arxiv.org/abs/2204.00498" title="" class="ltx_ref ltx_href">Evaluating the text-to-sql
capabilities of large language models</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.00498</em>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2020)</span>
<span class="ltx_bibblock">
Sashank Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush,
Jakub Konečnỳ, Sanjiv Kumar, and H Brendan McMahan. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://openreview.net/forum?id=LkFG3lB13U5" title="" class="ltx_ref ltx_href">Adaptive
federated optimization</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rubin and Berant (2021)</span>
<span class="ltx_bibblock">
Ohad Rubin and Jonathan Berant. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2021.naacl-main.29" title="" class="ltx_ref ltx_href">SmBoP:
Semi-autoregressive bottom-up semantic parsing</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 Conference of the North American
Chapter of the Association for Computational Linguistics: Human Language
Technologies</em>, pages 311–324, Online. Association for Computational
Linguistics.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Scholak et al. (2021)</span>
<span class="ltx_bibblock">
Torsten Scholak, Nathan Schucher, and Dzmitry Bahdanau. 2021.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2021.emnlp-main.779" title="" class="ltx_ref ltx_href">PICARD:
Parsing incrementally for constrained auto-regressive decoding from language
models</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2021 Conference on Empirical Methods in
Natural Language Processing</em>, pages 9895–9901. Association for Computational
Linguistics.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shazeer and Stern (2018)</span>
<span class="ltx_bibblock">
Noam Shazeer and Mitchell Stern. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.mlr.press/v80/shazeer18a.html" title="" class="ltx_ref ltx_href">Adafactor:
Adaptive learning rates with sublinear memory cost</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 35th International Conference on Machine
Learning</em>, volume 80 of <em id="bib.bib24.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>,
pages 4596–4604. PMLR.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shoham et al. (2019)</span>
<span class="ltx_bibblock">
Neta Shoham, Tomer Avidor, Aviv Keren, Nadav Israel, Daniel Benditkis, Liron
Mor-Yosef, and Itai Zeitak. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1910.07796" title="" class="ltx_ref ltx_href">Overcoming forgetting in
federated learning on non-iid data</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1910.07796.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2017)</span>
<span class="ltx_bibblock">
Yu Su, Ahmed Hassan Awadallah, Madian Khabsa, Patrick Pantel, Michael Gamon,
and Mark Encarnacion. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.1145/3132847.3133009" title="" class="ltx_ref ltx_href">Building natural
language interfaces to web apis</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2017 ACM on Conference on Information and
Knowledge Management</em>, pages 177–186.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">T Dinh et al. (2020)</span>
<span class="ltx_bibblock">
Canh T Dinh, Nguyen Tran, and Josh Nguyen. 2020.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.neurips.cc/paper/2020/hash/f4f1f13c8289ac1b1ee0ff176b56fc60-Abstract.html" title="" class="ltx_ref ltx_href">Personalized federated learning with moreau envelopes</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
33:21394–21405.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Mooney (2000)</span>
<span class="ltx_bibblock">
Lappoon R. Tang and Raymond J. Mooney. 2000.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://www.aclweb.org/anthology/W00-1317" title="" class="ltx_ref ltx_href">Automated
construction of database interfaces: Intergrating statistical and relational
learning for semantic parsing</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">2000 Joint SIGDAT Conference on Empirical Methods in Natural
Language Processing and Very Large Corpora</em>, pages 133–141.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Thomason et al. (2015)</span>
<span class="ltx_bibblock">
Jesse Thomason, Shiqi Zhang, Raymond J Mooney, and Peter Stone. 2015.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://dl.acm.org/doi/abs/10.5555/2832415.2832516" title="" class="ltx_ref ltx_href">Learning
to interpret natural language commands through human-robot dialog</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Twenty-Fourth International Joint Conference on Artificial
Intelligence</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2020a)</span>
<span class="ltx_bibblock">
Bailin Wang, Richard Shin, Xiaodong Liu, Oleksandr Polozov, and Matthew
Richardson. 2020a.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://doi.org/10.18653/v1/2020.acl-main.677" title="" class="ltx_ref ltx_href">RAT-SQL:
Relation-aware schema encoding and linking for text-to-SQL parsers</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 58th Annual Meeting of the Association
for Computational Linguistics</em>, pages 7567–7578, Online. Association for
Computational Linguistics.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2020b)</span>
<span class="ltx_bibblock">
Jianyu Wang, Qinghua Liu, Hao Liang, Gauri Joshi, and H Vincent Poor.
2020b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://proceedings.neurips.cc/paper/2020/hash/564127c03caab942e503ee6f810f54fd-Abstract.html" title="" class="ltx_ref ltx_href">Tackling the objective inconsistency problem in heterogeneous federated
optimization</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>,
33:7611–7623.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2022)</span>
<span class="ltx_bibblock">
Tianbao Xie, Chen Henry Wu, Peng Shi, Ruiqi Zhong, Torsten Scholak, Michihiro
Yasunaga, Chien-Sheng Wu, Ming Zhong, Pengcheng Yin, Sida I. Wang, Victor
Zhong, Bailin Wang, Chengzu Li, Connor Boyle, Ansong Ni, Ziyu Yao, Dragomir
Radev, Caiming Xiong, Lingpeng Kong, Rui Zhang, Noah A. Smith, Luke
Zettlemoyer, and Tao Yu. 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aclanthology.org/2022.emnlp-main.39" title="" class="ltx_ref ltx_href">UnifiedSKG:
Unifying and multi-tasking structured knowledge grounding with text-to-text
language models</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2022 Conference on Empirical Methods in
Natural Language Processing</em>, pages 602–631, Abu Dhabi, United Arab
Emirates. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yaghmazadeh et al. (2017)</span>
<span class="ltx_bibblock">
Navid Yaghmazadeh, Yuepeng Wang, Isil Dillig, and Thomas Dillig. 2017.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://doi.org/10.1145/3133887" title="" class="ltx_ref ltx_href">Sqlizer: query synthesis from
natural language</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Proceedings of the ACM on Programming Languages</em>,
1(OOPSLA):1–26.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Timothy Yang, Galen Andrew, Hubert Eichner, Haicheng Sun, Wei Li, Nicholas
Kong, Daniel Ramage, and Françoise Beaufays. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1812.02903" title="" class="ltx_ref ltx_href">Applied federated learning:
Improving google keyboard query suggestions</a>.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.02903</em>.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zelle and Mooney (1996)</span>
<span class="ltx_bibblock">
John M Zelle and Raymond J Mooney. 1996.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://dl.acm.org/doi/abs/10.5555/1864519.1864543" title="" class="ltx_ref ltx_href">Learning
to parse database queries using inductive logic programming</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Proceedings of the national conference on artificial
intelligence</em>, pages 1050–1055.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.31" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.5.5" class="ltx_listingline">
<span id="alg1.5.5.1" class="ltx_text"><span id="alg1.5.5.1.1" class="ltx_text ltx_font_bold">Input:</span> </span>local datasets <math id="alg1.1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="alg1.1.1.m1.1a"><msub id="alg1.1.1.m1.1.1" xref="alg1.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.1.1.m1.1.1.2" xref="alg1.1.1.m1.1.1.2.cmml">𝒟</mi><mi id="alg1.1.1.m1.1.1.3" xref="alg1.1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.1b"><apply id="alg1.1.1.m1.1.1.cmml" xref="alg1.1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.1.1.1.cmml" xref="alg1.1.1.m1.1.1">subscript</csymbol><ci id="alg1.1.1.m1.1.1.2.cmml" xref="alg1.1.1.m1.1.1.2">𝒟</ci><ci id="alg1.1.1.m1.1.1.3.cmml" xref="alg1.1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.1c">\mathcal{D}_{i}</annotation></semantics></math>, number of communication rounds <math id="alg1.2.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.2.2.m2.1a"><mi id="alg1.2.2.m2.1.1" xref="alg1.2.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.2.2.m2.1b"><ci id="alg1.2.2.m2.1.1.cmml" xref="alg1.2.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m2.1c">T</annotation></semantics></math>, number of local epochs <math id="alg1.3.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.3.3.m3.1a"><mi id="alg1.3.3.m3.1.1" xref="alg1.3.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.3.3.m3.1b"><ci id="alg1.3.3.m3.1.1.cmml" xref="alg1.3.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m3.1c">E</annotation></semantics></math>, server learning rate <math id="alg1.4.4.m4.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.4.4.m4.1a"><mi id="alg1.4.4.m4.1.1" xref="alg1.4.4.m4.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.4.4.m4.1b"><ci id="alg1.4.4.m4.1.1.cmml" xref="alg1.4.4.m4.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m4.1c">\eta</annotation></semantics></math>, client learning rate <math id="alg1.5.5.m5.1" class="ltx_Math" alttext="\eta_{i}" display="inline"><semantics id="alg1.5.5.m5.1a"><msub id="alg1.5.5.m5.1.1" xref="alg1.5.5.m5.1.1.cmml"><mi id="alg1.5.5.m5.1.1.2" xref="alg1.5.5.m5.1.1.2.cmml">η</mi><mi id="alg1.5.5.m5.1.1.3" xref="alg1.5.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.5.5.m5.1b"><apply id="alg1.5.5.m5.1.1.cmml" xref="alg1.5.5.m5.1.1"><csymbol cd="ambiguous" id="alg1.5.5.m5.1.1.1.cmml" xref="alg1.5.5.m5.1.1">subscript</csymbol><ci id="alg1.5.5.m5.1.1.2.cmml" xref="alg1.5.5.m5.1.1.2">𝜂</ci><ci id="alg1.5.5.m5.1.1.3.cmml" xref="alg1.5.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m5.1c">\eta_{i}</annotation></semantics></math>
</div>
<div id="alg1.6.6" class="ltx_listingline">
<span id="alg1.6.6.1" class="ltx_text"><span id="alg1.6.6.1.1" class="ltx_text ltx_font_bold">Output:</span> </span>the final global model <math id="alg1.6.6.m1.1" class="ltx_Math" alttext="w^{T}" display="inline"><semantics id="alg1.6.6.m1.1a"><msup id="alg1.6.6.m1.1.1" xref="alg1.6.6.m1.1.1.cmml"><mi id="alg1.6.6.m1.1.1.2" xref="alg1.6.6.m1.1.1.2.cmml">w</mi><mi id="alg1.6.6.m1.1.1.3" xref="alg1.6.6.m1.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.6.6.m1.1b"><apply id="alg1.6.6.m1.1.1.cmml" xref="alg1.6.6.m1.1.1"><csymbol cd="ambiguous" id="alg1.6.6.m1.1.1.1.cmml" xref="alg1.6.6.m1.1.1">superscript</csymbol><ci id="alg1.6.6.m1.1.1.2.cmml" xref="alg1.6.6.m1.1.1.2">𝑤</ci><ci id="alg1.6.6.m1.1.1.3.cmml" xref="alg1.6.6.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.m1.1c">w^{T}</annotation></semantics></math>
</div>
<div id="alg1.31.32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1</span>
<span id="alg1.31.32.1" class="ltx_text ltx_font_bold">Server executes:</span>
</div>
<div id="alg1.7.7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2</span>
<span id="alg1.7.7.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.7.7.1" class="ltx_emph ltx_font_italic"><math id="alg1.7.7.1.m1.5" class="ltx_Math" alttext="t\in 0,1,2,...,T" display="inline"><semantics id="alg1.7.7.1.m1.5a"><mrow id="alg1.7.7.1.m1.5.6" xref="alg1.7.7.1.m1.5.6.cmml"><mi id="alg1.7.7.1.m1.5.6.2" xref="alg1.7.7.1.m1.5.6.2.cmml">t</mi><mo id="alg1.7.7.1.m1.5.6.1" xref="alg1.7.7.1.m1.5.6.1.cmml">∈</mo><mrow id="alg1.7.7.1.m1.5.6.3.2" xref="alg1.7.7.1.m1.5.6.3.1.cmml"><mn id="alg1.7.7.1.m1.1.1" xref="alg1.7.7.1.m1.1.1.cmml">0</mn><mo id="alg1.7.7.1.m1.5.6.3.2.1" xref="alg1.7.7.1.m1.5.6.3.1.cmml">,</mo><mn id="alg1.7.7.1.m1.2.2" xref="alg1.7.7.1.m1.2.2.cmml">1</mn><mo id="alg1.7.7.1.m1.5.6.3.2.2" xref="alg1.7.7.1.m1.5.6.3.1.cmml">,</mo><mn id="alg1.7.7.1.m1.3.3" xref="alg1.7.7.1.m1.3.3.cmml">2</mn><mo id="alg1.7.7.1.m1.5.6.3.2.3" xref="alg1.7.7.1.m1.5.6.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.7.7.1.m1.4.4" xref="alg1.7.7.1.m1.4.4.cmml">…</mi><mo id="alg1.7.7.1.m1.5.6.3.2.4" xref="alg1.7.7.1.m1.5.6.3.1.cmml">,</mo><mi id="alg1.7.7.1.m1.5.5" xref="alg1.7.7.1.m1.5.5.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.1.m1.5b"><apply id="alg1.7.7.1.m1.5.6.cmml" xref="alg1.7.7.1.m1.5.6"><in id="alg1.7.7.1.m1.5.6.1.cmml" xref="alg1.7.7.1.m1.5.6.1"></in><ci id="alg1.7.7.1.m1.5.6.2.cmml" xref="alg1.7.7.1.m1.5.6.2">𝑡</ci><list id="alg1.7.7.1.m1.5.6.3.1.cmml" xref="alg1.7.7.1.m1.5.6.3.2"><cn type="integer" id="alg1.7.7.1.m1.1.1.cmml" xref="alg1.7.7.1.m1.1.1">0</cn><cn type="integer" id="alg1.7.7.1.m1.2.2.cmml" xref="alg1.7.7.1.m1.2.2">1</cn><cn type="integer" id="alg1.7.7.1.m1.3.3.cmml" xref="alg1.7.7.1.m1.3.3">2</cn><ci id="alg1.7.7.1.m1.4.4.cmml" xref="alg1.7.7.1.m1.4.4">…</ci><ci id="alg1.7.7.1.m1.5.5.cmml" xref="alg1.7.7.1.m1.5.5">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.1.m1.5c">t\in 0,1,2,...,T</annotation></semantics></math></em> <span id="alg1.7.7.3" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="alg1.8.8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
Sample a set of clients <math id="alg1.8.8.m1.1" class="ltx_Math" alttext="C_{t}" display="inline"><semantics id="alg1.8.8.m1.1a"><msub id="alg1.8.8.m1.1.1" xref="alg1.8.8.m1.1.1.cmml"><mi id="alg1.8.8.m1.1.1.2" xref="alg1.8.8.m1.1.1.2.cmml">C</mi><mi id="alg1.8.8.m1.1.1.3" xref="alg1.8.8.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.8.8.m1.1b"><apply id="alg1.8.8.m1.1.1.cmml" xref="alg1.8.8.m1.1.1"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.1.cmml" xref="alg1.8.8.m1.1.1">subscript</csymbol><ci id="alg1.8.8.m1.1.1.2.cmml" xref="alg1.8.8.m1.1.1.2">𝐶</ci><ci id="alg1.8.8.m1.1.1.3.cmml" xref="alg1.8.8.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m1.1c">C_{t}</annotation></semantics></math><span id="footnotex1" class="ltx_note ltx_role_footnotemark"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span>
</div>
<div id="alg1.9.9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.9.9.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.9.9.1" class="ltx_emph ltx_font_italic"><math id="alg1.9.9.1.m1.1" class="ltx_Math" alttext="i\in C_{t}" display="inline"><semantics id="alg1.9.9.1.m1.1a"><mrow id="alg1.9.9.1.m1.1.1" xref="alg1.9.9.1.m1.1.1.cmml"><mi id="alg1.9.9.1.m1.1.1.2" xref="alg1.9.9.1.m1.1.1.2.cmml">i</mi><mo id="alg1.9.9.1.m1.1.1.1" xref="alg1.9.9.1.m1.1.1.1.cmml">∈</mo><msub id="alg1.9.9.1.m1.1.1.3" xref="alg1.9.9.1.m1.1.1.3.cmml"><mi id="alg1.9.9.1.m1.1.1.3.2" xref="alg1.9.9.1.m1.1.1.3.2.cmml">C</mi><mi id="alg1.9.9.1.m1.1.1.3.3" xref="alg1.9.9.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.9.1.m1.1b"><apply id="alg1.9.9.1.m1.1.1.cmml" xref="alg1.9.9.1.m1.1.1"><in id="alg1.9.9.1.m1.1.1.1.cmml" xref="alg1.9.9.1.m1.1.1.1"></in><ci id="alg1.9.9.1.m1.1.1.2.cmml" xref="alg1.9.9.1.m1.1.1.2">𝑖</ci><apply id="alg1.9.9.1.m1.1.1.3.cmml" xref="alg1.9.9.1.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.9.9.1.m1.1.1.3.1.cmml" xref="alg1.9.9.1.m1.1.1.3">subscript</csymbol><ci id="alg1.9.9.1.m1.1.1.3.2.cmml" xref="alg1.9.9.1.m1.1.1.3.2">𝐶</ci><ci id="alg1.9.9.1.m1.1.1.3.3.cmml" xref="alg1.9.9.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.1.m1.1c">i\in C_{t}</annotation></semantics></math> <span id="alg1.9.9.1.1" class="ltx_text ltx_font_bold">in parallel</span></em> <span id="alg1.9.9.3" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="alg1.11.11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
Send the global model <math id="alg1.10.10.m1.1" class="ltx_Math" alttext="w^{t}" display="inline"><semantics id="alg1.10.10.m1.1a"><msup id="alg1.10.10.m1.1.1" xref="alg1.10.10.m1.1.1.cmml"><mi id="alg1.10.10.m1.1.1.2" xref="alg1.10.10.m1.1.1.2.cmml">w</mi><mi id="alg1.10.10.m1.1.1.3" xref="alg1.10.10.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.10.10.m1.1b"><apply id="alg1.10.10.m1.1.1.cmml" xref="alg1.10.10.m1.1.1"><csymbol cd="ambiguous" id="alg1.10.10.m1.1.1.1.cmml" xref="alg1.10.10.m1.1.1">superscript</csymbol><ci id="alg1.10.10.m1.1.1.2.cmml" xref="alg1.10.10.m1.1.1.2">𝑤</ci><ci id="alg1.10.10.m1.1.1.3.cmml" xref="alg1.10.10.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.m1.1c">w^{t}</annotation></semantics></math> to client <math id="alg1.11.11.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.11.11.m2.1a"><mi id="alg1.11.11.m2.1.1" xref="alg1.11.11.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.11.11.m2.1b"><ci id="alg1.11.11.m2.1.1.cmml" xref="alg1.11.11.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.m2.1c">i</annotation></semantics></math> 
</div>
<div id="alg1.15.15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.12.12.m1.1" class="ltx_Math" alttext="\Delta w_{i}^{t}" display="inline"><semantics id="alg1.12.12.m1.1a"><mrow id="alg1.12.12.m1.1.1" xref="alg1.12.12.m1.1.1.cmml"><mi mathvariant="normal" id="alg1.12.12.m1.1.1.2" xref="alg1.12.12.m1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.12.12.m1.1.1.1" xref="alg1.12.12.m1.1.1.1.cmml">​</mo><msubsup id="alg1.12.12.m1.1.1.3" xref="alg1.12.12.m1.1.1.3.cmml"><mi id="alg1.12.12.m1.1.1.3.2.2" xref="alg1.12.12.m1.1.1.3.2.2.cmml">w</mi><mi id="alg1.12.12.m1.1.1.3.2.3" xref="alg1.12.12.m1.1.1.3.2.3.cmml">i</mi><mi id="alg1.12.12.m1.1.1.3.3" xref="alg1.12.12.m1.1.1.3.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.12.12.m1.1b"><apply id="alg1.12.12.m1.1.1.cmml" xref="alg1.12.12.m1.1.1"><times id="alg1.12.12.m1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1"></times><ci id="alg1.12.12.m1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.2">Δ</ci><apply id="alg1.12.12.m1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.3.1.cmml" xref="alg1.12.12.m1.1.1.3">superscript</csymbol><apply id="alg1.12.12.m1.1.1.3.2.cmml" xref="alg1.12.12.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.3.2.1.cmml" xref="alg1.12.12.m1.1.1.3">subscript</csymbol><ci id="alg1.12.12.m1.1.1.3.2.2.cmml" xref="alg1.12.12.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.12.12.m1.1.1.3.2.3.cmml" xref="alg1.12.12.m1.1.1.3.2.3">𝑖</ci></apply><ci id="alg1.12.12.m1.1.1.3.3.cmml" xref="alg1.12.12.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.m1.1c">\Delta w_{i}^{t}</annotation></semantics></math>, <math id="alg1.13.13.m2.1" class="ltx_Math" alttext="\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}" display="inline"><semantics id="alg1.13.13.m2.1a"><mrow id="alg1.13.13.m2.1.1" xref="alg1.13.13.m2.1.1.cmml"><mrow id="alg1.13.13.m2.1.1.1.1" xref="alg1.13.13.m2.1.1.1.2.cmml"><mo id="alg1.13.13.m2.1.1.1.1.2" xref="alg1.13.13.m2.1.1.1.2.1.cmml">|</mo><msub id="alg1.13.13.m2.1.1.1.1.1" xref="alg1.13.13.m2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.13.13.m2.1.1.1.1.1.2" xref="alg1.13.13.m2.1.1.1.1.1.2.cmml">𝒟</mi><mi id="alg1.13.13.m2.1.1.1.1.1.3" xref="alg1.13.13.m2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg1.13.13.m2.1.1.1.1.3" xref="alg1.13.13.m2.1.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.13.13.m2.1.1.2" xref="alg1.13.13.m2.1.1.2.cmml">​</mo><mi mathvariant="normal" id="alg1.13.13.m2.1.1.3" xref="alg1.13.13.m2.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.13.13.m2.1.1.2a" xref="alg1.13.13.m2.1.1.2.cmml">​</mo><msubsup id="alg1.13.13.m2.1.1.4" xref="alg1.13.13.m2.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.13.13.m2.1.1.4.2.2" xref="alg1.13.13.m2.1.1.4.2.2.cmml">ℒ</mi><mi id="alg1.13.13.m2.1.1.4.2.3" xref="alg1.13.13.m2.1.1.4.2.3.cmml">i</mi><mi id="alg1.13.13.m2.1.1.4.3" xref="alg1.13.13.m2.1.1.4.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.13.m2.1b"><apply id="alg1.13.13.m2.1.1.cmml" xref="alg1.13.13.m2.1.1"><times id="alg1.13.13.m2.1.1.2.cmml" xref="alg1.13.13.m2.1.1.2"></times><apply id="alg1.13.13.m2.1.1.1.2.cmml" xref="alg1.13.13.m2.1.1.1.1"><abs id="alg1.13.13.m2.1.1.1.2.1.cmml" xref="alg1.13.13.m2.1.1.1.1.2"></abs><apply id="alg1.13.13.m2.1.1.1.1.1.cmml" xref="alg1.13.13.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.13.13.m2.1.1.1.1.1.1.cmml" xref="alg1.13.13.m2.1.1.1.1.1">subscript</csymbol><ci id="alg1.13.13.m2.1.1.1.1.1.2.cmml" xref="alg1.13.13.m2.1.1.1.1.1.2">𝒟</ci><ci id="alg1.13.13.m2.1.1.1.1.1.3.cmml" xref="alg1.13.13.m2.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="alg1.13.13.m2.1.1.3.cmml" xref="alg1.13.13.m2.1.1.3">Δ</ci><apply id="alg1.13.13.m2.1.1.4.cmml" xref="alg1.13.13.m2.1.1.4"><csymbol cd="ambiguous" id="alg1.13.13.m2.1.1.4.1.cmml" xref="alg1.13.13.m2.1.1.4">superscript</csymbol><apply id="alg1.13.13.m2.1.1.4.2.cmml" xref="alg1.13.13.m2.1.1.4"><csymbol cd="ambiguous" id="alg1.13.13.m2.1.1.4.2.1.cmml" xref="alg1.13.13.m2.1.1.4">subscript</csymbol><ci id="alg1.13.13.m2.1.1.4.2.2.cmml" xref="alg1.13.13.m2.1.1.4.2.2">ℒ</ci><ci id="alg1.13.13.m2.1.1.4.2.3.cmml" xref="alg1.13.13.m2.1.1.4.2.3">𝑖</ci></apply><ci id="alg1.13.13.m2.1.1.4.3.cmml" xref="alg1.13.13.m2.1.1.4.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m2.1c">\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}</annotation></semantics></math> <math id="alg1.14.14.m3.1" class="ltx_Math" alttext="\leftarrow" display="inline"><semantics id="alg1.14.14.m3.1a"><mo stretchy="false" id="alg1.14.14.m3.1.1" xref="alg1.14.14.m3.1.1.cmml">←</mo><annotation-xml encoding="MathML-Content" id="alg1.14.14.m3.1b"><ci id="alg1.14.14.m3.1.1.cmml" xref="alg1.14.14.m3.1.1">←</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m3.1c">\leftarrow</annotation></semantics></math><span id="alg1.15.15.1" class="ltx_text ltx_font_bold">LocalTraining<math id="alg1.15.15.1.m1.2" class="ltx_Math" alttext="(i,w^{t})" display="inline"><semantics id="alg1.15.15.1.m1.2a"><mrow id="alg1.15.15.1.m1.2.2.1" xref="alg1.15.15.1.m1.2.2.2.cmml"><mo stretchy="false" id="alg1.15.15.1.m1.2.2.1.2" xref="alg1.15.15.1.m1.2.2.2.cmml">(</mo><mi id="alg1.15.15.1.m1.1.1" xref="alg1.15.15.1.m1.1.1.cmml">i</mi><mo id="alg1.15.15.1.m1.2.2.1.3" xref="alg1.15.15.1.m1.2.2.2.cmml">,</mo><msup id="alg1.15.15.1.m1.2.2.1.1" xref="alg1.15.15.1.m1.2.2.1.1.cmml"><mi id="alg1.15.15.1.m1.2.2.1.1.2" xref="alg1.15.15.1.m1.2.2.1.1.2.cmml">w</mi><mi id="alg1.15.15.1.m1.2.2.1.1.3" xref="alg1.15.15.1.m1.2.2.1.1.3.cmml">t</mi></msup><mo stretchy="false" id="alg1.15.15.1.m1.2.2.1.4" xref="alg1.15.15.1.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.15.15.1.m1.2b"><interval closure="open" id="alg1.15.15.1.m1.2.2.2.cmml" xref="alg1.15.15.1.m1.2.2.1"><ci id="alg1.15.15.1.m1.1.1.cmml" xref="alg1.15.15.1.m1.1.1">𝑖</ci><apply id="alg1.15.15.1.m1.2.2.1.1.cmml" xref="alg1.15.15.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.15.15.1.m1.2.2.1.1.1.cmml" xref="alg1.15.15.1.m1.2.2.1.1">superscript</csymbol><ci id="alg1.15.15.1.m1.2.2.1.1.2.cmml" xref="alg1.15.15.1.m1.2.2.1.1.2">𝑤</ci><ci id="alg1.15.15.1.m1.2.2.1.1.3.cmml" xref="alg1.15.15.1.m1.2.2.1.1.3">𝑡</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.15.15.1.m1.2c">(i,w^{t})</annotation></semantics></math></span> 
</div>
<div id="alg1.31.33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   

</div>
<div id="alg1.16.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   <math id="alg1.16.16.m1.1" class="ltx_Math" alttext="\Delta w^{t}=\sum_{i\in C_{t}}p^{t}_{i}\Delta w_{i}^{t}" display="inline"><semantics id="alg1.16.16.m1.1a"><mrow id="alg1.16.16.m1.1.1" xref="alg1.16.16.m1.1.1.cmml"><mrow id="alg1.16.16.m1.1.1.2" xref="alg1.16.16.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.16.16.m1.1.1.2.2" xref="alg1.16.16.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.16.16.m1.1.1.2.1" xref="alg1.16.16.m1.1.1.2.1.cmml">​</mo><msup id="alg1.16.16.m1.1.1.2.3" xref="alg1.16.16.m1.1.1.2.3.cmml"><mi id="alg1.16.16.m1.1.1.2.3.2" xref="alg1.16.16.m1.1.1.2.3.2.cmml">w</mi><mi id="alg1.16.16.m1.1.1.2.3.3" xref="alg1.16.16.m1.1.1.2.3.3.cmml">t</mi></msup></mrow><mo rspace="0.111em" id="alg1.16.16.m1.1.1.1" xref="alg1.16.16.m1.1.1.1.cmml">=</mo><mrow id="alg1.16.16.m1.1.1.3" xref="alg1.16.16.m1.1.1.3.cmml"><msub id="alg1.16.16.m1.1.1.3.1" xref="alg1.16.16.m1.1.1.3.1.cmml"><mo id="alg1.16.16.m1.1.1.3.1.2" xref="alg1.16.16.m1.1.1.3.1.2.cmml">∑</mo><mrow id="alg1.16.16.m1.1.1.3.1.3" xref="alg1.16.16.m1.1.1.3.1.3.cmml"><mi id="alg1.16.16.m1.1.1.3.1.3.2" xref="alg1.16.16.m1.1.1.3.1.3.2.cmml">i</mi><mo id="alg1.16.16.m1.1.1.3.1.3.1" xref="alg1.16.16.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="alg1.16.16.m1.1.1.3.1.3.3" xref="alg1.16.16.m1.1.1.3.1.3.3.cmml"><mi id="alg1.16.16.m1.1.1.3.1.3.3.2" xref="alg1.16.16.m1.1.1.3.1.3.3.2.cmml">C</mi><mi id="alg1.16.16.m1.1.1.3.1.3.3.3" xref="alg1.16.16.m1.1.1.3.1.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="alg1.16.16.m1.1.1.3.2" xref="alg1.16.16.m1.1.1.3.2.cmml"><msubsup id="alg1.16.16.m1.1.1.3.2.2" xref="alg1.16.16.m1.1.1.3.2.2.cmml"><mi id="alg1.16.16.m1.1.1.3.2.2.2.2" xref="alg1.16.16.m1.1.1.3.2.2.2.2.cmml">p</mi><mi id="alg1.16.16.m1.1.1.3.2.2.3" xref="alg1.16.16.m1.1.1.3.2.2.3.cmml">i</mi><mi id="alg1.16.16.m1.1.1.3.2.2.2.3" xref="alg1.16.16.m1.1.1.3.2.2.2.3.cmml">t</mi></msubsup><mo lspace="0em" rspace="0em" id="alg1.16.16.m1.1.1.3.2.1" xref="alg1.16.16.m1.1.1.3.2.1.cmml">​</mo><mi mathvariant="normal" id="alg1.16.16.m1.1.1.3.2.3" xref="alg1.16.16.m1.1.1.3.2.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.16.16.m1.1.1.3.2.1a" xref="alg1.16.16.m1.1.1.3.2.1.cmml">​</mo><msubsup id="alg1.16.16.m1.1.1.3.2.4" xref="alg1.16.16.m1.1.1.3.2.4.cmml"><mi id="alg1.16.16.m1.1.1.3.2.4.2.2" xref="alg1.16.16.m1.1.1.3.2.4.2.2.cmml">w</mi><mi id="alg1.16.16.m1.1.1.3.2.4.2.3" xref="alg1.16.16.m1.1.1.3.2.4.2.3.cmml">i</mi><mi id="alg1.16.16.m1.1.1.3.2.4.3" xref="alg1.16.16.m1.1.1.3.2.4.3.cmml">t</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.16.16.m1.1b"><apply id="alg1.16.16.m1.1.1.cmml" xref="alg1.16.16.m1.1.1"><eq id="alg1.16.16.m1.1.1.1.cmml" xref="alg1.16.16.m1.1.1.1"></eq><apply id="alg1.16.16.m1.1.1.2.cmml" xref="alg1.16.16.m1.1.1.2"><times id="alg1.16.16.m1.1.1.2.1.cmml" xref="alg1.16.16.m1.1.1.2.1"></times><ci id="alg1.16.16.m1.1.1.2.2.cmml" xref="alg1.16.16.m1.1.1.2.2">Δ</ci><apply id="alg1.16.16.m1.1.1.2.3.cmml" xref="alg1.16.16.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.2.3.1.cmml" xref="alg1.16.16.m1.1.1.2.3">superscript</csymbol><ci id="alg1.16.16.m1.1.1.2.3.2.cmml" xref="alg1.16.16.m1.1.1.2.3.2">𝑤</ci><ci id="alg1.16.16.m1.1.1.2.3.3.cmml" xref="alg1.16.16.m1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="alg1.16.16.m1.1.1.3.cmml" xref="alg1.16.16.m1.1.1.3"><apply id="alg1.16.16.m1.1.1.3.1.cmml" xref="alg1.16.16.m1.1.1.3.1"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.1.1.cmml" xref="alg1.16.16.m1.1.1.3.1">subscript</csymbol><sum id="alg1.16.16.m1.1.1.3.1.2.cmml" xref="alg1.16.16.m1.1.1.3.1.2"></sum><apply id="alg1.16.16.m1.1.1.3.1.3.cmml" xref="alg1.16.16.m1.1.1.3.1.3"><in id="alg1.16.16.m1.1.1.3.1.3.1.cmml" xref="alg1.16.16.m1.1.1.3.1.3.1"></in><ci id="alg1.16.16.m1.1.1.3.1.3.2.cmml" xref="alg1.16.16.m1.1.1.3.1.3.2">𝑖</ci><apply id="alg1.16.16.m1.1.1.3.1.3.3.cmml" xref="alg1.16.16.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.1.3.3.1.cmml" xref="alg1.16.16.m1.1.1.3.1.3.3">subscript</csymbol><ci id="alg1.16.16.m1.1.1.3.1.3.3.2.cmml" xref="alg1.16.16.m1.1.1.3.1.3.3.2">𝐶</ci><ci id="alg1.16.16.m1.1.1.3.1.3.3.3.cmml" xref="alg1.16.16.m1.1.1.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.16.16.m1.1.1.3.2.cmml" xref="alg1.16.16.m1.1.1.3.2"><times id="alg1.16.16.m1.1.1.3.2.1.cmml" xref="alg1.16.16.m1.1.1.3.2.1"></times><apply id="alg1.16.16.m1.1.1.3.2.2.cmml" xref="alg1.16.16.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.2.2.1.cmml" xref="alg1.16.16.m1.1.1.3.2.2">subscript</csymbol><apply id="alg1.16.16.m1.1.1.3.2.2.2.cmml" xref="alg1.16.16.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.2.2.2.1.cmml" xref="alg1.16.16.m1.1.1.3.2.2">superscript</csymbol><ci id="alg1.16.16.m1.1.1.3.2.2.2.2.cmml" xref="alg1.16.16.m1.1.1.3.2.2.2.2">𝑝</ci><ci id="alg1.16.16.m1.1.1.3.2.2.2.3.cmml" xref="alg1.16.16.m1.1.1.3.2.2.2.3">𝑡</ci></apply><ci id="alg1.16.16.m1.1.1.3.2.2.3.cmml" xref="alg1.16.16.m1.1.1.3.2.2.3">𝑖</ci></apply><ci id="alg1.16.16.m1.1.1.3.2.3.cmml" xref="alg1.16.16.m1.1.1.3.2.3">Δ</ci><apply id="alg1.16.16.m1.1.1.3.2.4.cmml" xref="alg1.16.16.m1.1.1.3.2.4"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.2.4.1.cmml" xref="alg1.16.16.m1.1.1.3.2.4">superscript</csymbol><apply id="alg1.16.16.m1.1.1.3.2.4.2.cmml" xref="alg1.16.16.m1.1.1.3.2.4"><csymbol cd="ambiguous" id="alg1.16.16.m1.1.1.3.2.4.2.1.cmml" xref="alg1.16.16.m1.1.1.3.2.4">subscript</csymbol><ci id="alg1.16.16.m1.1.1.3.2.4.2.2.cmml" xref="alg1.16.16.m1.1.1.3.2.4.2.2">𝑤</ci><ci id="alg1.16.16.m1.1.1.3.2.4.2.3.cmml" xref="alg1.16.16.m1.1.1.3.2.4.2.3">𝑖</ci></apply><ci id="alg1.16.16.m1.1.1.3.2.4.3.cmml" xref="alg1.16.16.m1.1.1.3.2.4.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.16.16.m1.1c">\Delta w^{t}=\sum_{i\in C_{t}}p^{t}_{i}\Delta w_{i}^{t}</annotation></semantics></math>
</div>
<div id="alg1.17.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline" style="background-color:#CCCCFF;">9</span><span id="alg1.17.17.2" class="ltx_text" style="background-color:#CCCCFF;">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   </span>




<span id="alg1.17.17.1" class="ltx_inline-block" style="background-color:#CCCCFF;padding:2.15pt;">
<span id="alg1.17.17.1.1" class="ltx_p">For FedOPT/FedAvg/FedProx: <math id="alg1.17.17.1.1.m1.2" class="ltx_Math" alttext="p_{i}=\left|\mathcal{D}_{i}\right|/\sum_{i\in C_{t}}\left|\mathcal{D}_{i}\right|" display="inline"><semantics id="alg1.17.17.1.1.m1.2a"><mrow id="alg1.17.17.1.1.m1.2.2" xref="alg1.17.17.1.1.m1.2.2.cmml"><msub id="alg1.17.17.1.1.m1.2.2.4" xref="alg1.17.17.1.1.m1.2.2.4.cmml"><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.4.2" xref="alg1.17.17.1.1.m1.2.2.4.2.cmml">p</mi><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.4.3" xref="alg1.17.17.1.1.m1.2.2.4.3.cmml">i</mi></msub><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.3" xref="alg1.17.17.1.1.m1.2.2.3.cmml">=</mo><mrow id="alg1.17.17.1.1.m1.2.2.2" xref="alg1.17.17.1.1.m1.2.2.2.cmml"><mrow id="alg1.17.17.1.1.m1.1.1.1.1.1" xref="alg1.17.17.1.1.m1.1.1.1.1.2.cmml"><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.1.1.1.1.1.2" xref="alg1.17.17.1.1.m1.1.1.1.1.2.1.cmml">|</mo><msub id="alg1.17.17.1.1.m1.1.1.1.1.1.1" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.1.1.1.1.1.1.2" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.1.1.1.1.1.1.3" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.1.1.1.1.1.3" xref="alg1.17.17.1.1.m1.1.1.1.1.2.1.cmml">|</mo></mrow><mo mathbackground="#CCCCFF" rspace="0.055em" id="alg1.17.17.1.1.m1.2.2.2.3" xref="alg1.17.17.1.1.m1.2.2.2.3.cmml">/</mo><mrow id="alg1.17.17.1.1.m1.2.2.2.2" xref="alg1.17.17.1.1.m1.2.2.2.2.cmml"><msub id="alg1.17.17.1.1.m1.2.2.2.2.2" xref="alg1.17.17.1.1.m1.2.2.2.2.2.cmml"><mo mathbackground="#CCCCFF" rspace="0em" id="alg1.17.17.1.1.m1.2.2.2.2.2.2" xref="alg1.17.17.1.1.m1.2.2.2.2.2.2.cmml">∑</mo><mrow id="alg1.17.17.1.1.m1.2.2.2.2.2.3" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.2.3.2" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.2.cmml">i</mi><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.2.3.1" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.1.cmml">∈</mo><msub id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.cmml"><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.2" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.2.cmml">C</mi><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.3" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="alg1.17.17.1.1.m1.2.2.2.2.1.1" xref="alg1.17.17.1.1.m1.2.2.2.2.1.2.cmml"><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.1.1.2" xref="alg1.17.17.1.1.m1.2.2.2.2.1.2.1.cmml">|</mo><msub id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.2" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.2.cmml">𝒟</mi><mi mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.3" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo mathbackground="#CCCCFF" id="alg1.17.17.1.1.m1.2.2.2.2.1.1.3" xref="alg1.17.17.1.1.m1.2.2.2.2.1.2.1.cmml">|</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.17.17.1.1.m1.2b"><apply id="alg1.17.17.1.1.m1.2.2.cmml" xref="alg1.17.17.1.1.m1.2.2"><eq id="alg1.17.17.1.1.m1.2.2.3.cmml" xref="alg1.17.17.1.1.m1.2.2.3"></eq><apply id="alg1.17.17.1.1.m1.2.2.4.cmml" xref="alg1.17.17.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.17.17.1.1.m1.2.2.4.1.cmml" xref="alg1.17.17.1.1.m1.2.2.4">subscript</csymbol><ci id="alg1.17.17.1.1.m1.2.2.4.2.cmml" xref="alg1.17.17.1.1.m1.2.2.4.2">𝑝</ci><ci id="alg1.17.17.1.1.m1.2.2.4.3.cmml" xref="alg1.17.17.1.1.m1.2.2.4.3">𝑖</ci></apply><apply id="alg1.17.17.1.1.m1.2.2.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2"><divide id="alg1.17.17.1.1.m1.2.2.2.3.cmml" xref="alg1.17.17.1.1.m1.2.2.2.3"></divide><apply id="alg1.17.17.1.1.m1.1.1.1.1.2.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1"><abs id="alg1.17.17.1.1.m1.1.1.1.1.2.1.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1.2"></abs><apply id="alg1.17.17.1.1.m1.1.1.1.1.1.1.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.17.17.1.1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.17.17.1.1.m1.1.1.1.1.1.1.2.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1.2">𝒟</ci><ci id="alg1.17.17.1.1.m1.1.1.1.1.1.1.3.cmml" xref="alg1.17.17.1.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="alg1.17.17.1.1.m1.2.2.2.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2"><apply id="alg1.17.17.1.1.m1.2.2.2.2.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.17.17.1.1.m1.2.2.2.2.2.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2">subscript</csymbol><sum id="alg1.17.17.1.1.m1.2.2.2.2.2.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.2"></sum><apply id="alg1.17.17.1.1.m1.2.2.2.2.2.3.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3"><in id="alg1.17.17.1.1.m1.2.2.2.2.2.3.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.1"></in><ci id="alg1.17.17.1.1.m1.2.2.2.2.2.3.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.2">𝑖</ci><apply id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3">subscript</csymbol><ci id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.2">𝐶</ci><ci id="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.3.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.17.17.1.1.m1.2.2.2.2.1.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1"><abs id="alg1.17.17.1.1.m1.2.2.2.2.1.2.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.2"></abs><apply id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1">subscript</csymbol><ci id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.2.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.2">𝒟</ci><ci id="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.3.cmml" xref="alg1.17.17.1.1.m1.2.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.17.17.1.1.m1.2c">p_{i}=\left|\mathcal{D}_{i}\right|/\sum_{i\in C_{t}}\left|\mathcal{D}_{i}\right|</annotation></semantics></math> </span>
</span>
</div>
<div id="alg1.18.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline" style="background-color:#CCFFCC;">10</span><span id="alg1.18.18.2" class="ltx_text" style="background-color:#CCFFCC;">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   </span><span id="alg1.18.18.3" class="ltx_text" style="background-color:#CCCCFF;">


</span>
<span id="alg1.18.18.1" class="ltx_inline-block" style="background-color:#CCFFCC;padding:2.15pt;">
<span id="alg1.18.18.1.1" class="ltx_p">For ours (<span id="alg1.18.18.1.1.1" class="ltx_text ltx_font_typewriter">Lorar</span>):
<math id="alg1.18.18.1.1.m1.2" class="ltx_Math" alttext="p_{i}^{t}=\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}/\sum_{i\in C_{t}}\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}" display="inline"><semantics id="alg1.18.18.1.1.m1.2a"><mrow id="alg1.18.18.1.1.m1.2.2" xref="alg1.18.18.1.1.m1.2.2.cmml"><msubsup id="alg1.18.18.1.1.m1.2.2.4" xref="alg1.18.18.1.1.m1.2.2.4.cmml"><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.4.2.2" xref="alg1.18.18.1.1.m1.2.2.4.2.2.cmml">p</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.4.2.3" xref="alg1.18.18.1.1.m1.2.2.4.2.3.cmml">i</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.4.3" xref="alg1.18.18.1.1.m1.2.2.4.3.cmml">t</mi></msubsup><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.3" xref="alg1.18.18.1.1.m1.2.2.3.cmml">=</mo><mrow id="alg1.18.18.1.1.m1.2.2.2" xref="alg1.18.18.1.1.m1.2.2.2.cmml"><mrow id="alg1.18.18.1.1.m1.1.1.1.1" xref="alg1.18.18.1.1.m1.1.1.1.1.cmml"><mrow id="alg1.18.18.1.1.m1.1.1.1.1.1.1" xref="alg1.18.18.1.1.m1.1.1.1.1.1.2.cmml"><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.1.1.2" xref="alg1.18.18.1.1.m1.1.1.1.1.1.2.1.cmml">|</mo><msub id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.2" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.2.cmml">𝒟</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.3" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.1.1.3" xref="alg1.18.18.1.1.m1.1.1.1.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.18.18.1.1.m1.1.1.1.1.2" xref="alg1.18.18.1.1.m1.1.1.1.1.2.cmml">​</mo><mi mathbackground="#CCFFCC" mathvariant="normal" id="alg1.18.18.1.1.m1.1.1.1.1.3" xref="alg1.18.18.1.1.m1.1.1.1.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.18.18.1.1.m1.1.1.1.1.2a" xref="alg1.18.18.1.1.m1.1.1.1.1.2.cmml">​</mo><msubsup id="alg1.18.18.1.1.m1.1.1.1.1.4" xref="alg1.18.18.1.1.m1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.4.2.2" xref="alg1.18.18.1.1.m1.1.1.1.1.4.2.2.cmml">ℒ</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.4.2.3" xref="alg1.18.18.1.1.m1.1.1.1.1.4.2.3.cmml">i</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.1.1.1.1.4.3" xref="alg1.18.18.1.1.m1.1.1.1.1.4.3.cmml">t</mi></msubsup></mrow><mo mathbackground="#CCFFCC" rspace="0.055em" id="alg1.18.18.1.1.m1.2.2.2.3" xref="alg1.18.18.1.1.m1.2.2.2.3.cmml">/</mo><mrow id="alg1.18.18.1.1.m1.2.2.2.2" xref="alg1.18.18.1.1.m1.2.2.2.2.cmml"><msub id="alg1.18.18.1.1.m1.2.2.2.2.2" xref="alg1.18.18.1.1.m1.2.2.2.2.2.cmml"><mo mathbackground="#CCFFCC" rspace="0em" id="alg1.18.18.1.1.m1.2.2.2.2.2.2" xref="alg1.18.18.1.1.m1.2.2.2.2.2.2.cmml">∑</mo><mrow id="alg1.18.18.1.1.m1.2.2.2.2.2.3" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.cmml"><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.2.3.2" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.2.cmml">i</mi><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.2.3.1" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.1.cmml">∈</mo><msub id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.cmml"><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.2" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.2.cmml">C</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.3" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="alg1.18.18.1.1.m1.2.2.2.2.1" xref="alg1.18.18.1.1.m1.2.2.2.2.1.cmml"><mrow id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.2.cmml"><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.2" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.2.1.cmml">|</mo><msub id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.2" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.2.cmml">𝒟</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.3" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.3.cmml">i</mi></msub><mo mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.3" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.18.18.1.1.m1.2.2.2.2.1.2" xref="alg1.18.18.1.1.m1.2.2.2.2.1.2.cmml">​</mo><mi mathbackground="#CCFFCC" mathvariant="normal" id="alg1.18.18.1.1.m1.2.2.2.2.1.3" xref="alg1.18.18.1.1.m1.2.2.2.2.1.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.18.18.1.1.m1.2.2.2.2.1.2a" xref="alg1.18.18.1.1.m1.2.2.2.2.1.2.cmml">​</mo><msubsup id="alg1.18.18.1.1.m1.2.2.2.2.1.4" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.2" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.2.cmml">ℒ</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.3" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.3.cmml">i</mi><mi mathbackground="#CCFFCC" id="alg1.18.18.1.1.m1.2.2.2.2.1.4.3" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.3.cmml">t</mi></msubsup></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.18.18.1.1.m1.2b"><apply id="alg1.18.18.1.1.m1.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2"><eq id="alg1.18.18.1.1.m1.2.2.3.cmml" xref="alg1.18.18.1.1.m1.2.2.3"></eq><apply id="alg1.18.18.1.1.m1.2.2.4.cmml" xref="alg1.18.18.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.4.1.cmml" xref="alg1.18.18.1.1.m1.2.2.4">superscript</csymbol><apply id="alg1.18.18.1.1.m1.2.2.4.2.cmml" xref="alg1.18.18.1.1.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.4.2.1.cmml" xref="alg1.18.18.1.1.m1.2.2.4">subscript</csymbol><ci id="alg1.18.18.1.1.m1.2.2.4.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.4.2.2">𝑝</ci><ci id="alg1.18.18.1.1.m1.2.2.4.2.3.cmml" xref="alg1.18.18.1.1.m1.2.2.4.2.3">𝑖</ci></apply><ci id="alg1.18.18.1.1.m1.2.2.4.3.cmml" xref="alg1.18.18.1.1.m1.2.2.4.3">𝑡</ci></apply><apply id="alg1.18.18.1.1.m1.2.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2"><divide id="alg1.18.18.1.1.m1.2.2.2.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.3"></divide><apply id="alg1.18.18.1.1.m1.1.1.1.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1"><times id="alg1.18.18.1.1.m1.1.1.1.1.2.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.2"></times><apply id="alg1.18.18.1.1.m1.1.1.1.1.1.2.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1"><abs id="alg1.18.18.1.1.m1.1.1.1.1.1.2.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.2"></abs><apply id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.2.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.2">𝒟</ci><ci id="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.3.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><ci id="alg1.18.18.1.1.m1.1.1.1.1.3.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.3">Δ</ci><apply id="alg1.18.18.1.1.m1.1.1.1.1.4.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.1.1.1.1.4.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4">superscript</csymbol><apply id="alg1.18.18.1.1.m1.1.1.1.1.4.2.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.1.1.1.1.4.2.1.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4">subscript</csymbol><ci id="alg1.18.18.1.1.m1.1.1.1.1.4.2.2.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4.2.2">ℒ</ci><ci id="alg1.18.18.1.1.m1.1.1.1.1.4.2.3.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4.2.3">𝑖</ci></apply><ci id="alg1.18.18.1.1.m1.1.1.1.1.4.3.cmml" xref="alg1.18.18.1.1.m1.1.1.1.1.4.3">𝑡</ci></apply></apply><apply id="alg1.18.18.1.1.m1.2.2.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2"><apply id="alg1.18.18.1.1.m1.2.2.2.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.2.2.2.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2">subscript</csymbol><sum id="alg1.18.18.1.1.m1.2.2.2.2.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.2"></sum><apply id="alg1.18.18.1.1.m1.2.2.2.2.2.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3"><in id="alg1.18.18.1.1.m1.2.2.2.2.2.3.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.1"></in><ci id="alg1.18.18.1.1.m1.2.2.2.2.2.3.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.2">𝑖</ci><apply id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3">subscript</csymbol><ci id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.2">𝐶</ci><ci id="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="alg1.18.18.1.1.m1.2.2.2.2.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1"><times id="alg1.18.18.1.1.m1.2.2.2.2.1.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.2"></times><apply id="alg1.18.18.1.1.m1.2.2.2.2.1.1.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1"><abs id="alg1.18.18.1.1.m1.2.2.2.2.1.1.2.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.2"></abs><apply id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.2">𝒟</ci><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.1.1.1.3">𝑖</ci></apply></apply><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.3">Δ</ci><apply id="alg1.18.18.1.1.m1.2.2.2.2.1.4.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.2.2.1.4.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4">superscript</csymbol><apply id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4"><csymbol cd="ambiguous" id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.1.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4">subscript</csymbol><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.2.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.2">ℒ</ci><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.2.3">𝑖</ci></apply><ci id="alg1.18.18.1.1.m1.2.2.2.2.1.4.3.cmml" xref="alg1.18.18.1.1.m1.2.2.2.2.1.4.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.18.18.1.1.m1.2c">p_{i}^{t}=\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}/\sum_{i\in C_{t}}\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}</annotation></semantics></math> </span>
</span>
</div>
<div id="alg1.19.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11</span><span id="alg1.19.19.1" class="ltx_text" style="background-color:#CCFFCC;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.19.19.2" class="ltx_text" style="background-color:#CCFFCC;">   </span><span id="alg1.19.19.3" class="ltx_text" style="background-color:#CCFFCC;">

</span><math id="alg1.19.19.m1.1" class="ltx_Math" alttext="w^{t+1}\leftarrow w^{t}-\eta\Delta w^{t}" display="inline"><semantics id="alg1.19.19.m1.1a"><mrow id="alg1.19.19.m1.1.1" xref="alg1.19.19.m1.1.1.cmml"><msup id="alg1.19.19.m1.1.1.2" xref="alg1.19.19.m1.1.1.2.cmml"><mi id="alg1.19.19.m1.1.1.2.2" xref="alg1.19.19.m1.1.1.2.2.cmml">w</mi><mrow id="alg1.19.19.m1.1.1.2.3" xref="alg1.19.19.m1.1.1.2.3.cmml"><mi id="alg1.19.19.m1.1.1.2.3.2" xref="alg1.19.19.m1.1.1.2.3.2.cmml">t</mi><mo id="alg1.19.19.m1.1.1.2.3.1" xref="alg1.19.19.m1.1.1.2.3.1.cmml">+</mo><mn id="alg1.19.19.m1.1.1.2.3.3" xref="alg1.19.19.m1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="alg1.19.19.m1.1.1.1" xref="alg1.19.19.m1.1.1.1.cmml">←</mo><mrow id="alg1.19.19.m1.1.1.3" xref="alg1.19.19.m1.1.1.3.cmml"><msup id="alg1.19.19.m1.1.1.3.2" xref="alg1.19.19.m1.1.1.3.2.cmml"><mi id="alg1.19.19.m1.1.1.3.2.2" xref="alg1.19.19.m1.1.1.3.2.2.cmml">w</mi><mi id="alg1.19.19.m1.1.1.3.2.3" xref="alg1.19.19.m1.1.1.3.2.3.cmml">t</mi></msup><mo id="alg1.19.19.m1.1.1.3.1" xref="alg1.19.19.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.19.19.m1.1.1.3.3" xref="alg1.19.19.m1.1.1.3.3.cmml"><mi id="alg1.19.19.m1.1.1.3.3.2" xref="alg1.19.19.m1.1.1.3.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="alg1.19.19.m1.1.1.3.3.1" xref="alg1.19.19.m1.1.1.3.3.1.cmml">​</mo><mi mathvariant="normal" id="alg1.19.19.m1.1.1.3.3.3" xref="alg1.19.19.m1.1.1.3.3.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.19.19.m1.1.1.3.3.1a" xref="alg1.19.19.m1.1.1.3.3.1.cmml">​</mo><msup id="alg1.19.19.m1.1.1.3.3.4" xref="alg1.19.19.m1.1.1.3.3.4.cmml"><mi id="alg1.19.19.m1.1.1.3.3.4.2" xref="alg1.19.19.m1.1.1.3.3.4.2.cmml">w</mi><mi id="alg1.19.19.m1.1.1.3.3.4.3" xref="alg1.19.19.m1.1.1.3.3.4.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.19.19.m1.1b"><apply id="alg1.19.19.m1.1.1.cmml" xref="alg1.19.19.m1.1.1"><ci id="alg1.19.19.m1.1.1.1.cmml" xref="alg1.19.19.m1.1.1.1">←</ci><apply id="alg1.19.19.m1.1.1.2.cmml" xref="alg1.19.19.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.19.19.m1.1.1.2.1.cmml" xref="alg1.19.19.m1.1.1.2">superscript</csymbol><ci id="alg1.19.19.m1.1.1.2.2.cmml" xref="alg1.19.19.m1.1.1.2.2">𝑤</ci><apply id="alg1.19.19.m1.1.1.2.3.cmml" xref="alg1.19.19.m1.1.1.2.3"><plus id="alg1.19.19.m1.1.1.2.3.1.cmml" xref="alg1.19.19.m1.1.1.2.3.1"></plus><ci id="alg1.19.19.m1.1.1.2.3.2.cmml" xref="alg1.19.19.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.19.19.m1.1.1.2.3.3.cmml" xref="alg1.19.19.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.19.19.m1.1.1.3.cmml" xref="alg1.19.19.m1.1.1.3"><minus id="alg1.19.19.m1.1.1.3.1.cmml" xref="alg1.19.19.m1.1.1.3.1"></minus><apply id="alg1.19.19.m1.1.1.3.2.cmml" xref="alg1.19.19.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.19.19.m1.1.1.3.2.1.cmml" xref="alg1.19.19.m1.1.1.3.2">superscript</csymbol><ci id="alg1.19.19.m1.1.1.3.2.2.cmml" xref="alg1.19.19.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.19.19.m1.1.1.3.2.3.cmml" xref="alg1.19.19.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.19.19.m1.1.1.3.3.cmml" xref="alg1.19.19.m1.1.1.3.3"><times id="alg1.19.19.m1.1.1.3.3.1.cmml" xref="alg1.19.19.m1.1.1.3.3.1"></times><ci id="alg1.19.19.m1.1.1.3.3.2.cmml" xref="alg1.19.19.m1.1.1.3.3.2">𝜂</ci><ci id="alg1.19.19.m1.1.1.3.3.3.cmml" xref="alg1.19.19.m1.1.1.3.3.3">Δ</ci><apply id="alg1.19.19.m1.1.1.3.3.4.cmml" xref="alg1.19.19.m1.1.1.3.3.4"><csymbol cd="ambiguous" id="alg1.19.19.m1.1.1.3.3.4.1.cmml" xref="alg1.19.19.m1.1.1.3.3.4">superscript</csymbol><ci id="alg1.19.19.m1.1.1.3.3.4.2.cmml" xref="alg1.19.19.m1.1.1.3.3.4.2">𝑤</ci><ci id="alg1.19.19.m1.1.1.3.3.4.3.cmml" xref="alg1.19.19.m1.1.1.3.3.4.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.19.19.m1.1c">w^{t+1}\leftarrow w^{t}-\eta\Delta w^{t}</annotation></semantics></math><span id="alg1.19.19.4" class="ltx_text" style="background-color:#CCFFCC;">
</span>
</div>
<div id="alg1.20.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12</span>return <math id="alg1.20.20.m1.1" class="ltx_Math" alttext="w^{T}" display="inline"><semantics id="alg1.20.20.m1.1a"><msup id="alg1.20.20.m1.1.1" xref="alg1.20.20.m1.1.1.cmml"><mi id="alg1.20.20.m1.1.1.2" xref="alg1.20.20.m1.1.1.2.cmml">w</mi><mi id="alg1.20.20.m1.1.1.3" xref="alg1.20.20.m1.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="alg1.20.20.m1.1b"><apply id="alg1.20.20.m1.1.1.cmml" xref="alg1.20.20.m1.1.1"><csymbol cd="ambiguous" id="alg1.20.20.m1.1.1.1.cmml" xref="alg1.20.20.m1.1.1">superscript</csymbol><ci id="alg1.20.20.m1.1.1.2.cmml" xref="alg1.20.20.m1.1.1.2">𝑤</ci><ci id="alg1.20.20.m1.1.1.3.cmml" xref="alg1.20.20.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.20.20.m1.1c">w^{T}</annotation></semantics></math> 
</div>
<div id="alg1.31.34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13</span>
<span id="alg1.31.34.1" class="ltx_text ltx_font_bold">Client executes:</span> 
</div>
<div id="alg1.21.21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14</span>
FedAvg/FedOPT: <math id="alg1.21.21.m1.7" class="ltx_Math" alttext="\mathcal{L}(w;b)=\sum_{(x,y)\in b}f(w;x;y)" display="inline"><semantics id="alg1.21.21.m1.7a"><mrow id="alg1.21.21.m1.7.8" xref="alg1.21.21.m1.7.8.cmml"><mrow id="alg1.21.21.m1.7.8.2" xref="alg1.21.21.m1.7.8.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.21.21.m1.7.8.2.2" xref="alg1.21.21.m1.7.8.2.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="alg1.21.21.m1.7.8.2.1" xref="alg1.21.21.m1.7.8.2.1.cmml">​</mo><mrow id="alg1.21.21.m1.7.8.2.3.2" xref="alg1.21.21.m1.7.8.2.3.1.cmml"><mo stretchy="false" id="alg1.21.21.m1.7.8.2.3.2.1" xref="alg1.21.21.m1.7.8.2.3.1.cmml">(</mo><mi id="alg1.21.21.m1.3.3" xref="alg1.21.21.m1.3.3.cmml">w</mi><mo id="alg1.21.21.m1.7.8.2.3.2.2" xref="alg1.21.21.m1.7.8.2.3.1.cmml">;</mo><mi id="alg1.21.21.m1.4.4" xref="alg1.21.21.m1.4.4.cmml">b</mi><mo stretchy="false" id="alg1.21.21.m1.7.8.2.3.2.3" xref="alg1.21.21.m1.7.8.2.3.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="alg1.21.21.m1.7.8.1" xref="alg1.21.21.m1.7.8.1.cmml">=</mo><mrow id="alg1.21.21.m1.7.8.3" xref="alg1.21.21.m1.7.8.3.cmml"><msub id="alg1.21.21.m1.7.8.3.1" xref="alg1.21.21.m1.7.8.3.1.cmml"><mo id="alg1.21.21.m1.7.8.3.1.2" xref="alg1.21.21.m1.7.8.3.1.2.cmml">∑</mo><mrow id="alg1.21.21.m1.2.2.2" xref="alg1.21.21.m1.2.2.2.cmml"><mrow id="alg1.21.21.m1.2.2.2.4.2" xref="alg1.21.21.m1.2.2.2.4.1.cmml"><mo stretchy="false" id="alg1.21.21.m1.2.2.2.4.2.1" xref="alg1.21.21.m1.2.2.2.4.1.cmml">(</mo><mi id="alg1.21.21.m1.1.1.1.1" xref="alg1.21.21.m1.1.1.1.1.cmml">x</mi><mo id="alg1.21.21.m1.2.2.2.4.2.2" xref="alg1.21.21.m1.2.2.2.4.1.cmml">,</mo><mi id="alg1.21.21.m1.2.2.2.2" xref="alg1.21.21.m1.2.2.2.2.cmml">y</mi><mo stretchy="false" id="alg1.21.21.m1.2.2.2.4.2.3" xref="alg1.21.21.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="alg1.21.21.m1.2.2.2.3" xref="alg1.21.21.m1.2.2.2.3.cmml">∈</mo><mi id="alg1.21.21.m1.2.2.2.5" xref="alg1.21.21.m1.2.2.2.5.cmml">b</mi></mrow></msub><mrow id="alg1.21.21.m1.7.8.3.2" xref="alg1.21.21.m1.7.8.3.2.cmml"><mi id="alg1.21.21.m1.7.8.3.2.2" xref="alg1.21.21.m1.7.8.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.21.21.m1.7.8.3.2.1" xref="alg1.21.21.m1.7.8.3.2.1.cmml">​</mo><mrow id="alg1.21.21.m1.7.8.3.2.3.2" xref="alg1.21.21.m1.7.8.3.2.3.1.cmml"><mo stretchy="false" id="alg1.21.21.m1.7.8.3.2.3.2.1" xref="alg1.21.21.m1.7.8.3.2.3.1.cmml">(</mo><mi id="alg1.21.21.m1.5.5" xref="alg1.21.21.m1.5.5.cmml">w</mi><mo id="alg1.21.21.m1.7.8.3.2.3.2.2" xref="alg1.21.21.m1.7.8.3.2.3.1.cmml">;</mo><mi id="alg1.21.21.m1.6.6" xref="alg1.21.21.m1.6.6.cmml">x</mi><mo id="alg1.21.21.m1.7.8.3.2.3.2.3" xref="alg1.21.21.m1.7.8.3.2.3.1.cmml">;</mo><mi id="alg1.21.21.m1.7.7" xref="alg1.21.21.m1.7.7.cmml">y</mi><mo stretchy="false" id="alg1.21.21.m1.7.8.3.2.3.2.4" xref="alg1.21.21.m1.7.8.3.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.21.21.m1.7b"><apply id="alg1.21.21.m1.7.8.cmml" xref="alg1.21.21.m1.7.8"><eq id="alg1.21.21.m1.7.8.1.cmml" xref="alg1.21.21.m1.7.8.1"></eq><apply id="alg1.21.21.m1.7.8.2.cmml" xref="alg1.21.21.m1.7.8.2"><times id="alg1.21.21.m1.7.8.2.1.cmml" xref="alg1.21.21.m1.7.8.2.1"></times><ci id="alg1.21.21.m1.7.8.2.2.cmml" xref="alg1.21.21.m1.7.8.2.2">ℒ</ci><list id="alg1.21.21.m1.7.8.2.3.1.cmml" xref="alg1.21.21.m1.7.8.2.3.2"><ci id="alg1.21.21.m1.3.3.cmml" xref="alg1.21.21.m1.3.3">𝑤</ci><ci id="alg1.21.21.m1.4.4.cmml" xref="alg1.21.21.m1.4.4">𝑏</ci></list></apply><apply id="alg1.21.21.m1.7.8.3.cmml" xref="alg1.21.21.m1.7.8.3"><apply id="alg1.21.21.m1.7.8.3.1.cmml" xref="alg1.21.21.m1.7.8.3.1"><csymbol cd="ambiguous" id="alg1.21.21.m1.7.8.3.1.1.cmml" xref="alg1.21.21.m1.7.8.3.1">subscript</csymbol><sum id="alg1.21.21.m1.7.8.3.1.2.cmml" xref="alg1.21.21.m1.7.8.3.1.2"></sum><apply id="alg1.21.21.m1.2.2.2.cmml" xref="alg1.21.21.m1.2.2.2"><in id="alg1.21.21.m1.2.2.2.3.cmml" xref="alg1.21.21.m1.2.2.2.3"></in><interval closure="open" id="alg1.21.21.m1.2.2.2.4.1.cmml" xref="alg1.21.21.m1.2.2.2.4.2"><ci id="alg1.21.21.m1.1.1.1.1.cmml" xref="alg1.21.21.m1.1.1.1.1">𝑥</ci><ci id="alg1.21.21.m1.2.2.2.2.cmml" xref="alg1.21.21.m1.2.2.2.2">𝑦</ci></interval><ci id="alg1.21.21.m1.2.2.2.5.cmml" xref="alg1.21.21.m1.2.2.2.5">𝑏</ci></apply></apply><apply id="alg1.21.21.m1.7.8.3.2.cmml" xref="alg1.21.21.m1.7.8.3.2"><times id="alg1.21.21.m1.7.8.3.2.1.cmml" xref="alg1.21.21.m1.7.8.3.2.1"></times><ci id="alg1.21.21.m1.7.8.3.2.2.cmml" xref="alg1.21.21.m1.7.8.3.2.2">𝑓</ci><list id="alg1.21.21.m1.7.8.3.2.3.1.cmml" xref="alg1.21.21.m1.7.8.3.2.3.2"><ci id="alg1.21.21.m1.5.5.cmml" xref="alg1.21.21.m1.5.5">𝑤</ci><ci id="alg1.21.21.m1.6.6.cmml" xref="alg1.21.21.m1.6.6">𝑥</ci><ci id="alg1.21.21.m1.7.7.cmml" xref="alg1.21.21.m1.7.7">𝑦</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.21.21.m1.7c">\mathcal{L}(w;b)=\sum_{(x,y)\in b}f(w;x;y)</annotation></semantics></math> 
</div>
<div id="alg1.22.22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15</span>
FedProx: <math id="alg1.22.22.m1.8" class="ltx_Math" alttext="\mathcal{L}(w;b)=\sum_{(x,y)\in b}f(w;x;y)+\frac{\mu}{2}\|w-w^{t}\|^{2}" display="inline"><semantics id="alg1.22.22.m1.8a"><mrow id="alg1.22.22.m1.8.8" xref="alg1.22.22.m1.8.8.cmml"><mrow id="alg1.22.22.m1.8.8.3" xref="alg1.22.22.m1.8.8.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.22.22.m1.8.8.3.2" xref="alg1.22.22.m1.8.8.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="alg1.22.22.m1.8.8.3.1" xref="alg1.22.22.m1.8.8.3.1.cmml">​</mo><mrow id="alg1.22.22.m1.8.8.3.3.2" xref="alg1.22.22.m1.8.8.3.3.1.cmml"><mo stretchy="false" id="alg1.22.22.m1.8.8.3.3.2.1" xref="alg1.22.22.m1.8.8.3.3.1.cmml">(</mo><mi id="alg1.22.22.m1.3.3" xref="alg1.22.22.m1.3.3.cmml">w</mi><mo id="alg1.22.22.m1.8.8.3.3.2.2" xref="alg1.22.22.m1.8.8.3.3.1.cmml">;</mo><mi id="alg1.22.22.m1.4.4" xref="alg1.22.22.m1.4.4.cmml">b</mi><mo stretchy="false" id="alg1.22.22.m1.8.8.3.3.2.3" xref="alg1.22.22.m1.8.8.3.3.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="alg1.22.22.m1.8.8.2" xref="alg1.22.22.m1.8.8.2.cmml">=</mo><mrow id="alg1.22.22.m1.8.8.1" xref="alg1.22.22.m1.8.8.1.cmml"><mrow id="alg1.22.22.m1.8.8.1.3" xref="alg1.22.22.m1.8.8.1.3.cmml"><msub id="alg1.22.22.m1.8.8.1.3.1" xref="alg1.22.22.m1.8.8.1.3.1.cmml"><mo id="alg1.22.22.m1.8.8.1.3.1.2" xref="alg1.22.22.m1.8.8.1.3.1.2.cmml">∑</mo><mrow id="alg1.22.22.m1.2.2.2" xref="alg1.22.22.m1.2.2.2.cmml"><mrow id="alg1.22.22.m1.2.2.2.4.2" xref="alg1.22.22.m1.2.2.2.4.1.cmml"><mo stretchy="false" id="alg1.22.22.m1.2.2.2.4.2.1" xref="alg1.22.22.m1.2.2.2.4.1.cmml">(</mo><mi id="alg1.22.22.m1.1.1.1.1" xref="alg1.22.22.m1.1.1.1.1.cmml">x</mi><mo id="alg1.22.22.m1.2.2.2.4.2.2" xref="alg1.22.22.m1.2.2.2.4.1.cmml">,</mo><mi id="alg1.22.22.m1.2.2.2.2" xref="alg1.22.22.m1.2.2.2.2.cmml">y</mi><mo stretchy="false" id="alg1.22.22.m1.2.2.2.4.2.3" xref="alg1.22.22.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="alg1.22.22.m1.2.2.2.3" xref="alg1.22.22.m1.2.2.2.3.cmml">∈</mo><mi id="alg1.22.22.m1.2.2.2.5" xref="alg1.22.22.m1.2.2.2.5.cmml">b</mi></mrow></msub><mrow id="alg1.22.22.m1.8.8.1.3.2" xref="alg1.22.22.m1.8.8.1.3.2.cmml"><mi id="alg1.22.22.m1.8.8.1.3.2.2" xref="alg1.22.22.m1.8.8.1.3.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.22.22.m1.8.8.1.3.2.1" xref="alg1.22.22.m1.8.8.1.3.2.1.cmml">​</mo><mrow id="alg1.22.22.m1.8.8.1.3.2.3.2" xref="alg1.22.22.m1.8.8.1.3.2.3.1.cmml"><mo stretchy="false" id="alg1.22.22.m1.8.8.1.3.2.3.2.1" xref="alg1.22.22.m1.8.8.1.3.2.3.1.cmml">(</mo><mi id="alg1.22.22.m1.5.5" xref="alg1.22.22.m1.5.5.cmml">w</mi><mo id="alg1.22.22.m1.8.8.1.3.2.3.2.2" xref="alg1.22.22.m1.8.8.1.3.2.3.1.cmml">;</mo><mi id="alg1.22.22.m1.6.6" xref="alg1.22.22.m1.6.6.cmml">x</mi><mo id="alg1.22.22.m1.8.8.1.3.2.3.2.3" xref="alg1.22.22.m1.8.8.1.3.2.3.1.cmml">;</mo><mi id="alg1.22.22.m1.7.7" xref="alg1.22.22.m1.7.7.cmml">y</mi><mo stretchy="false" id="alg1.22.22.m1.8.8.1.3.2.3.2.4" xref="alg1.22.22.m1.8.8.1.3.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg1.22.22.m1.8.8.1.2" xref="alg1.22.22.m1.8.8.1.2.cmml">+</mo><mrow id="alg1.22.22.m1.8.8.1.1" xref="alg1.22.22.m1.8.8.1.1.cmml"><mfrac id="alg1.22.22.m1.8.8.1.1.3" xref="alg1.22.22.m1.8.8.1.1.3.cmml"><mi id="alg1.22.22.m1.8.8.1.1.3.2" xref="alg1.22.22.m1.8.8.1.1.3.2.cmml">μ</mi><mn id="alg1.22.22.m1.8.8.1.1.3.3" xref="alg1.22.22.m1.8.8.1.1.3.3.cmml">2</mn></mfrac><mo lspace="0em" rspace="0em" id="alg1.22.22.m1.8.8.1.1.2" xref="alg1.22.22.m1.8.8.1.1.2.cmml">​</mo><msup id="alg1.22.22.m1.8.8.1.1.1" xref="alg1.22.22.m1.8.8.1.1.1.cmml"><mrow id="alg1.22.22.m1.8.8.1.1.1.1.1" xref="alg1.22.22.m1.8.8.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.22.22.m1.8.8.1.1.1.1.1.2" xref="alg1.22.22.m1.8.8.1.1.1.1.2.1.cmml">‖</mo><mrow id="alg1.22.22.m1.8.8.1.1.1.1.1.1" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.cmml"><mi id="alg1.22.22.m1.8.8.1.1.1.1.1.1.2" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.2.cmml">w</mi><mo id="alg1.22.22.m1.8.8.1.1.1.1.1.1.1" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.1.cmml">−</mo><msup id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.cmml"><mi id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.2" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.2.cmml">w</mi><mi id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.3" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="alg1.22.22.m1.8.8.1.1.1.1.1.3" xref="alg1.22.22.m1.8.8.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="alg1.22.22.m1.8.8.1.1.1.3" xref="alg1.22.22.m1.8.8.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.22.22.m1.8b"><apply id="alg1.22.22.m1.8.8.cmml" xref="alg1.22.22.m1.8.8"><eq id="alg1.22.22.m1.8.8.2.cmml" xref="alg1.22.22.m1.8.8.2"></eq><apply id="alg1.22.22.m1.8.8.3.cmml" xref="alg1.22.22.m1.8.8.3"><times id="alg1.22.22.m1.8.8.3.1.cmml" xref="alg1.22.22.m1.8.8.3.1"></times><ci id="alg1.22.22.m1.8.8.3.2.cmml" xref="alg1.22.22.m1.8.8.3.2">ℒ</ci><list id="alg1.22.22.m1.8.8.3.3.1.cmml" xref="alg1.22.22.m1.8.8.3.3.2"><ci id="alg1.22.22.m1.3.3.cmml" xref="alg1.22.22.m1.3.3">𝑤</ci><ci id="alg1.22.22.m1.4.4.cmml" xref="alg1.22.22.m1.4.4">𝑏</ci></list></apply><apply id="alg1.22.22.m1.8.8.1.cmml" xref="alg1.22.22.m1.8.8.1"><plus id="alg1.22.22.m1.8.8.1.2.cmml" xref="alg1.22.22.m1.8.8.1.2"></plus><apply id="alg1.22.22.m1.8.8.1.3.cmml" xref="alg1.22.22.m1.8.8.1.3"><apply id="alg1.22.22.m1.8.8.1.3.1.cmml" xref="alg1.22.22.m1.8.8.1.3.1"><csymbol cd="ambiguous" id="alg1.22.22.m1.8.8.1.3.1.1.cmml" xref="alg1.22.22.m1.8.8.1.3.1">subscript</csymbol><sum id="alg1.22.22.m1.8.8.1.3.1.2.cmml" xref="alg1.22.22.m1.8.8.1.3.1.2"></sum><apply id="alg1.22.22.m1.2.2.2.cmml" xref="alg1.22.22.m1.2.2.2"><in id="alg1.22.22.m1.2.2.2.3.cmml" xref="alg1.22.22.m1.2.2.2.3"></in><interval closure="open" id="alg1.22.22.m1.2.2.2.4.1.cmml" xref="alg1.22.22.m1.2.2.2.4.2"><ci id="alg1.22.22.m1.1.1.1.1.cmml" xref="alg1.22.22.m1.1.1.1.1">𝑥</ci><ci id="alg1.22.22.m1.2.2.2.2.cmml" xref="alg1.22.22.m1.2.2.2.2">𝑦</ci></interval><ci id="alg1.22.22.m1.2.2.2.5.cmml" xref="alg1.22.22.m1.2.2.2.5">𝑏</ci></apply></apply><apply id="alg1.22.22.m1.8.8.1.3.2.cmml" xref="alg1.22.22.m1.8.8.1.3.2"><times id="alg1.22.22.m1.8.8.1.3.2.1.cmml" xref="alg1.22.22.m1.8.8.1.3.2.1"></times><ci id="alg1.22.22.m1.8.8.1.3.2.2.cmml" xref="alg1.22.22.m1.8.8.1.3.2.2">𝑓</ci><list id="alg1.22.22.m1.8.8.1.3.2.3.1.cmml" xref="alg1.22.22.m1.8.8.1.3.2.3.2"><ci id="alg1.22.22.m1.5.5.cmml" xref="alg1.22.22.m1.5.5">𝑤</ci><ci id="alg1.22.22.m1.6.6.cmml" xref="alg1.22.22.m1.6.6">𝑥</ci><ci id="alg1.22.22.m1.7.7.cmml" xref="alg1.22.22.m1.7.7">𝑦</ci></list></apply></apply><apply id="alg1.22.22.m1.8.8.1.1.cmml" xref="alg1.22.22.m1.8.8.1.1"><times id="alg1.22.22.m1.8.8.1.1.2.cmml" xref="alg1.22.22.m1.8.8.1.1.2"></times><apply id="alg1.22.22.m1.8.8.1.1.3.cmml" xref="alg1.22.22.m1.8.8.1.1.3"><divide id="alg1.22.22.m1.8.8.1.1.3.1.cmml" xref="alg1.22.22.m1.8.8.1.1.3"></divide><ci id="alg1.22.22.m1.8.8.1.1.3.2.cmml" xref="alg1.22.22.m1.8.8.1.1.3.2">𝜇</ci><cn type="integer" id="alg1.22.22.m1.8.8.1.1.3.3.cmml" xref="alg1.22.22.m1.8.8.1.1.3.3">2</cn></apply><apply id="alg1.22.22.m1.8.8.1.1.1.cmml" xref="alg1.22.22.m1.8.8.1.1.1"><csymbol cd="ambiguous" id="alg1.22.22.m1.8.8.1.1.1.2.cmml" xref="alg1.22.22.m1.8.8.1.1.1">superscript</csymbol><apply id="alg1.22.22.m1.8.8.1.1.1.1.2.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1"><csymbol cd="latexml" id="alg1.22.22.m1.8.8.1.1.1.1.2.1.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.2">norm</csymbol><apply id="alg1.22.22.m1.8.8.1.1.1.1.1.1.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1"><minus id="alg1.22.22.m1.8.8.1.1.1.1.1.1.1.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.1"></minus><ci id="alg1.22.22.m1.8.8.1.1.1.1.1.1.2.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.2">𝑤</ci><apply id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.1.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3">superscript</csymbol><ci id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.2.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.2">𝑤</ci><ci id="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.3.cmml" xref="alg1.22.22.m1.8.8.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><cn type="integer" id="alg1.22.22.m1.8.8.1.1.1.3.cmml" xref="alg1.22.22.m1.8.8.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.22.22.m1.8c">\mathcal{L}(w;b)=\sum_{(x,y)\in b}f(w;x;y)+\frac{\mu}{2}\|w-w^{t}\|^{2}</annotation></semantics></math> 
</div>
<div id="alg1.23.23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16</span>
<span id="alg1.23.23.1" class="ltx_text ltx_font_bold">LocalTraining(<math id="alg1.23.23.1.m1.2" class="ltx_Math" alttext="i,w^{t}" display="inline"><semantics id="alg1.23.23.1.m1.2a"><mrow id="alg1.23.23.1.m1.2.2.1" xref="alg1.23.23.1.m1.2.2.2.cmml"><mi id="alg1.23.23.1.m1.1.1" xref="alg1.23.23.1.m1.1.1.cmml">i</mi><mo id="alg1.23.23.1.m1.2.2.1.2" xref="alg1.23.23.1.m1.2.2.2.cmml">,</mo><msup id="alg1.23.23.1.m1.2.2.1.1" xref="alg1.23.23.1.m1.2.2.1.1.cmml"><mi id="alg1.23.23.1.m1.2.2.1.1.2" xref="alg1.23.23.1.m1.2.2.1.1.2.cmml">w</mi><mi id="alg1.23.23.1.m1.2.2.1.1.3" xref="alg1.23.23.1.m1.2.2.1.1.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.23.23.1.m1.2b"><list id="alg1.23.23.1.m1.2.2.2.cmml" xref="alg1.23.23.1.m1.2.2.1"><ci id="alg1.23.23.1.m1.1.1.cmml" xref="alg1.23.23.1.m1.1.1">𝑖</ci><apply id="alg1.23.23.1.m1.2.2.1.1.cmml" xref="alg1.23.23.1.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.23.23.1.m1.2.2.1.1.1.cmml" xref="alg1.23.23.1.m1.2.2.1.1">superscript</csymbol><ci id="alg1.23.23.1.m1.2.2.1.1.2.cmml" xref="alg1.23.23.1.m1.2.2.1.1.2">𝑤</ci><ci id="alg1.23.23.1.m1.2.2.1.1.3.cmml" xref="alg1.23.23.1.m1.2.2.1.1.3">𝑡</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.23.23.1.m1.2c">i,w^{t}</annotation></semantics></math>)</span> 
</div>
<div id="alg1.24.24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17</span>
<math id="alg1.24.24.m1.1" class="ltx_Math" alttext="w_{i}^{t}\leftarrow w^{t}" display="inline"><semantics id="alg1.24.24.m1.1a"><mrow id="alg1.24.24.m1.1.1" xref="alg1.24.24.m1.1.1.cmml"><msubsup id="alg1.24.24.m1.1.1.2" xref="alg1.24.24.m1.1.1.2.cmml"><mi id="alg1.24.24.m1.1.1.2.2.2" xref="alg1.24.24.m1.1.1.2.2.2.cmml">w</mi><mi id="alg1.24.24.m1.1.1.2.2.3" xref="alg1.24.24.m1.1.1.2.2.3.cmml">i</mi><mi id="alg1.24.24.m1.1.1.2.3" xref="alg1.24.24.m1.1.1.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.24.24.m1.1.1.1" xref="alg1.24.24.m1.1.1.1.cmml">←</mo><msup id="alg1.24.24.m1.1.1.3" xref="alg1.24.24.m1.1.1.3.cmml"><mi id="alg1.24.24.m1.1.1.3.2" xref="alg1.24.24.m1.1.1.3.2.cmml">w</mi><mi id="alg1.24.24.m1.1.1.3.3" xref="alg1.24.24.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.24.24.m1.1b"><apply id="alg1.24.24.m1.1.1.cmml" xref="alg1.24.24.m1.1.1"><ci id="alg1.24.24.m1.1.1.1.cmml" xref="alg1.24.24.m1.1.1.1">←</ci><apply id="alg1.24.24.m1.1.1.2.cmml" xref="alg1.24.24.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.24.24.m1.1.1.2.1.cmml" xref="alg1.24.24.m1.1.1.2">superscript</csymbol><apply id="alg1.24.24.m1.1.1.2.2.cmml" xref="alg1.24.24.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.24.24.m1.1.1.2.2.1.cmml" xref="alg1.24.24.m1.1.1.2">subscript</csymbol><ci id="alg1.24.24.m1.1.1.2.2.2.cmml" xref="alg1.24.24.m1.1.1.2.2.2">𝑤</ci><ci id="alg1.24.24.m1.1.1.2.2.3.cmml" xref="alg1.24.24.m1.1.1.2.2.3">𝑖</ci></apply><ci id="alg1.24.24.m1.1.1.2.3.cmml" xref="alg1.24.24.m1.1.1.2.3">𝑡</ci></apply><apply id="alg1.24.24.m1.1.1.3.cmml" xref="alg1.24.24.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.24.24.m1.1.1.3.1.cmml" xref="alg1.24.24.m1.1.1.3">superscript</csymbol><ci id="alg1.24.24.m1.1.1.3.2.cmml" xref="alg1.24.24.m1.1.1.3.2">𝑤</ci><ci id="alg1.24.24.m1.1.1.3.3.cmml" xref="alg1.24.24.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.24.24.m1.1c">w_{i}^{t}\leftarrow w^{t}</annotation></semantics></math> 
</div>
<div id="alg1.25.25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18</span>
<span id="alg1.25.25.2" class="ltx_text ltx_font_bold">for</span> <em id="alg1.25.25.1" class="ltx_emph ltx_font_italic">epoch <math id="alg1.25.25.1.m1.5" class="ltx_Math" alttext="k=0,1,2,...,E" display="inline"><semantics id="alg1.25.25.1.m1.5a"><mrow id="alg1.25.25.1.m1.5.6" xref="alg1.25.25.1.m1.5.6.cmml"><mi id="alg1.25.25.1.m1.5.6.2" xref="alg1.25.25.1.m1.5.6.2.cmml">k</mi><mo id="alg1.25.25.1.m1.5.6.1" xref="alg1.25.25.1.m1.5.6.1.cmml">=</mo><mrow id="alg1.25.25.1.m1.5.6.3.2" xref="alg1.25.25.1.m1.5.6.3.1.cmml"><mn id="alg1.25.25.1.m1.1.1" xref="alg1.25.25.1.m1.1.1.cmml">0</mn><mo id="alg1.25.25.1.m1.5.6.3.2.1" xref="alg1.25.25.1.m1.5.6.3.1.cmml">,</mo><mn id="alg1.25.25.1.m1.2.2" xref="alg1.25.25.1.m1.2.2.cmml">1</mn><mo id="alg1.25.25.1.m1.5.6.3.2.2" xref="alg1.25.25.1.m1.5.6.3.1.cmml">,</mo><mn id="alg1.25.25.1.m1.3.3" xref="alg1.25.25.1.m1.3.3.cmml">2</mn><mo id="alg1.25.25.1.m1.5.6.3.2.3" xref="alg1.25.25.1.m1.5.6.3.1.cmml">,</mo><mi mathvariant="normal" id="alg1.25.25.1.m1.4.4" xref="alg1.25.25.1.m1.4.4.cmml">…</mi><mo id="alg1.25.25.1.m1.5.6.3.2.4" xref="alg1.25.25.1.m1.5.6.3.1.cmml">,</mo><mi id="alg1.25.25.1.m1.5.5" xref="alg1.25.25.1.m1.5.5.cmml">E</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.25.25.1.m1.5b"><apply id="alg1.25.25.1.m1.5.6.cmml" xref="alg1.25.25.1.m1.5.6"><eq id="alg1.25.25.1.m1.5.6.1.cmml" xref="alg1.25.25.1.m1.5.6.1"></eq><ci id="alg1.25.25.1.m1.5.6.2.cmml" xref="alg1.25.25.1.m1.5.6.2">𝑘</ci><list id="alg1.25.25.1.m1.5.6.3.1.cmml" xref="alg1.25.25.1.m1.5.6.3.2"><cn type="integer" id="alg1.25.25.1.m1.1.1.cmml" xref="alg1.25.25.1.m1.1.1">0</cn><cn type="integer" id="alg1.25.25.1.m1.2.2.cmml" xref="alg1.25.25.1.m1.2.2">1</cn><cn type="integer" id="alg1.25.25.1.m1.3.3.cmml" xref="alg1.25.25.1.m1.3.3">2</cn><ci id="alg1.25.25.1.m1.4.4.cmml" xref="alg1.25.25.1.m1.4.4">…</ci><ci id="alg1.25.25.1.m1.5.5.cmml" xref="alg1.25.25.1.m1.5.5">𝐸</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.25.25.1.m1.5c">k=0,1,2,...,E</annotation></semantics></math></em> <span id="alg1.25.25.3" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="alg1.27.27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<span id="alg1.27.27.3" class="ltx_text ltx_font_bold">for</span> <em id="alg1.27.27.2" class="ltx_emph ltx_font_italic">each batch <math id="alg1.26.26.1.m1.2" class="ltx_Math" alttext="b=\{x,y\}" display="inline"><semantics id="alg1.26.26.1.m1.2a"><mrow id="alg1.26.26.1.m1.2.3" xref="alg1.26.26.1.m1.2.3.cmml"><mi id="alg1.26.26.1.m1.2.3.2" xref="alg1.26.26.1.m1.2.3.2.cmml">b</mi><mo id="alg1.26.26.1.m1.2.3.1" xref="alg1.26.26.1.m1.2.3.1.cmml">=</mo><mrow id="alg1.26.26.1.m1.2.3.3.2" xref="alg1.26.26.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="alg1.26.26.1.m1.2.3.3.2.1" xref="alg1.26.26.1.m1.2.3.3.1.cmml">{</mo><mi id="alg1.26.26.1.m1.1.1" xref="alg1.26.26.1.m1.1.1.cmml">x</mi><mo id="alg1.26.26.1.m1.2.3.3.2.2" xref="alg1.26.26.1.m1.2.3.3.1.cmml">,</mo><mi id="alg1.26.26.1.m1.2.2" xref="alg1.26.26.1.m1.2.2.cmml">y</mi><mo stretchy="false" id="alg1.26.26.1.m1.2.3.3.2.3" xref="alg1.26.26.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.26.26.1.m1.2b"><apply id="alg1.26.26.1.m1.2.3.cmml" xref="alg1.26.26.1.m1.2.3"><eq id="alg1.26.26.1.m1.2.3.1.cmml" xref="alg1.26.26.1.m1.2.3.1"></eq><ci id="alg1.26.26.1.m1.2.3.2.cmml" xref="alg1.26.26.1.m1.2.3.2">𝑏</ci><set id="alg1.26.26.1.m1.2.3.3.1.cmml" xref="alg1.26.26.1.m1.2.3.3.2"><ci id="alg1.26.26.1.m1.1.1.cmml" xref="alg1.26.26.1.m1.1.1">𝑥</ci><ci id="alg1.26.26.1.m1.2.2.cmml" xref="alg1.26.26.1.m1.2.2">𝑦</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.26.26.1.m1.2c">b=\{x,y\}</annotation></semantics></math> of <math id="alg1.27.27.2.m2.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="alg1.27.27.2.m2.1a"><msub id="alg1.27.27.2.m2.1.1" xref="alg1.27.27.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.27.27.2.m2.1.1.2" xref="alg1.27.27.2.m2.1.1.2.cmml">𝒟</mi><mi id="alg1.27.27.2.m2.1.1.3" xref="alg1.27.27.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.27.27.2.m2.1b"><apply id="alg1.27.27.2.m2.1.1.cmml" xref="alg1.27.27.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.27.27.2.m2.1.1.1.cmml" xref="alg1.27.27.2.m2.1.1">subscript</csymbol><ci id="alg1.27.27.2.m2.1.1.2.cmml" xref="alg1.27.27.2.m2.1.1.2">𝒟</ci><ci id="alg1.27.27.2.m2.1.1.3.cmml" xref="alg1.27.27.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.27.27.2.m2.1c">\mathcal{D}_{i}</annotation></semantics></math></em> <span id="alg1.27.27.4" class="ltx_text ltx_font_bold">do</span>
</div>
<div id="alg1.28.28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
<math id="alg1.28.28.m1.4" class="ltx_Math" alttext="w_{i}^{t}\leftarrow w_{i}^{t}-\eta_{i}\nabla\mathcal{L}_{i}^{t,k}(w_{i}^{t};b)" display="inline"><semantics id="alg1.28.28.m1.4a"><mrow id="alg1.28.28.m1.4.4" xref="alg1.28.28.m1.4.4.cmml"><msubsup id="alg1.28.28.m1.4.4.3" xref="alg1.28.28.m1.4.4.3.cmml"><mi id="alg1.28.28.m1.4.4.3.2.2" xref="alg1.28.28.m1.4.4.3.2.2.cmml">w</mi><mi id="alg1.28.28.m1.4.4.3.2.3" xref="alg1.28.28.m1.4.4.3.2.3.cmml">i</mi><mi id="alg1.28.28.m1.4.4.3.3" xref="alg1.28.28.m1.4.4.3.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.28.28.m1.4.4.2" xref="alg1.28.28.m1.4.4.2.cmml">←</mo><mrow id="alg1.28.28.m1.4.4.1" xref="alg1.28.28.m1.4.4.1.cmml"><msubsup id="alg1.28.28.m1.4.4.1.3" xref="alg1.28.28.m1.4.4.1.3.cmml"><mi id="alg1.28.28.m1.4.4.1.3.2.2" xref="alg1.28.28.m1.4.4.1.3.2.2.cmml">w</mi><mi id="alg1.28.28.m1.4.4.1.3.2.3" xref="alg1.28.28.m1.4.4.1.3.2.3.cmml">i</mi><mi id="alg1.28.28.m1.4.4.1.3.3" xref="alg1.28.28.m1.4.4.1.3.3.cmml">t</mi></msubsup><mo id="alg1.28.28.m1.4.4.1.2" xref="alg1.28.28.m1.4.4.1.2.cmml">−</mo><mrow id="alg1.28.28.m1.4.4.1.1" xref="alg1.28.28.m1.4.4.1.1.cmml"><msub id="alg1.28.28.m1.4.4.1.1.3" xref="alg1.28.28.m1.4.4.1.1.3.cmml"><mi id="alg1.28.28.m1.4.4.1.1.3.2" xref="alg1.28.28.m1.4.4.1.1.3.2.cmml">η</mi><mi id="alg1.28.28.m1.4.4.1.1.3.3" xref="alg1.28.28.m1.4.4.1.1.3.3.cmml">i</mi></msub><mo lspace="0.167em" rspace="0em" id="alg1.28.28.m1.4.4.1.1.2" xref="alg1.28.28.m1.4.4.1.1.2.cmml">​</mo><mrow id="alg1.28.28.m1.4.4.1.1.4" xref="alg1.28.28.m1.4.4.1.1.4.cmml"><mo rspace="0.167em" id="alg1.28.28.m1.4.4.1.1.4.1" xref="alg1.28.28.m1.4.4.1.1.4.1.cmml">∇</mo><msubsup id="alg1.28.28.m1.4.4.1.1.4.2" xref="alg1.28.28.m1.4.4.1.1.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.28.28.m1.4.4.1.1.4.2.2.2" xref="alg1.28.28.m1.4.4.1.1.4.2.2.2.cmml">ℒ</mi><mi id="alg1.28.28.m1.4.4.1.1.4.2.2.3" xref="alg1.28.28.m1.4.4.1.1.4.2.2.3.cmml">i</mi><mrow id="alg1.28.28.m1.2.2.2.4" xref="alg1.28.28.m1.2.2.2.3.cmml"><mi id="alg1.28.28.m1.1.1.1.1" xref="alg1.28.28.m1.1.1.1.1.cmml">t</mi><mo id="alg1.28.28.m1.2.2.2.4.1" xref="alg1.28.28.m1.2.2.2.3.cmml">,</mo><mi id="alg1.28.28.m1.2.2.2.2" xref="alg1.28.28.m1.2.2.2.2.cmml">k</mi></mrow></msubsup></mrow><mo lspace="0em" rspace="0em" id="alg1.28.28.m1.4.4.1.1.2a" xref="alg1.28.28.m1.4.4.1.1.2.cmml">​</mo><mrow id="alg1.28.28.m1.4.4.1.1.1.1" xref="alg1.28.28.m1.4.4.1.1.1.2.cmml"><mo stretchy="false" id="alg1.28.28.m1.4.4.1.1.1.1.2" xref="alg1.28.28.m1.4.4.1.1.1.2.cmml">(</mo><msubsup id="alg1.28.28.m1.4.4.1.1.1.1.1" xref="alg1.28.28.m1.4.4.1.1.1.1.1.cmml"><mi id="alg1.28.28.m1.4.4.1.1.1.1.1.2.2" xref="alg1.28.28.m1.4.4.1.1.1.1.1.2.2.cmml">w</mi><mi id="alg1.28.28.m1.4.4.1.1.1.1.1.2.3" xref="alg1.28.28.m1.4.4.1.1.1.1.1.2.3.cmml">i</mi><mi id="alg1.28.28.m1.4.4.1.1.1.1.1.3" xref="alg1.28.28.m1.4.4.1.1.1.1.1.3.cmml">t</mi></msubsup><mo id="alg1.28.28.m1.4.4.1.1.1.1.3" xref="alg1.28.28.m1.4.4.1.1.1.2.cmml">;</mo><mi id="alg1.28.28.m1.3.3" xref="alg1.28.28.m1.3.3.cmml">b</mi><mo stretchy="false" id="alg1.28.28.m1.4.4.1.1.1.1.4" xref="alg1.28.28.m1.4.4.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.28.28.m1.4b"><apply id="alg1.28.28.m1.4.4.cmml" xref="alg1.28.28.m1.4.4"><ci id="alg1.28.28.m1.4.4.2.cmml" xref="alg1.28.28.m1.4.4.2">←</ci><apply id="alg1.28.28.m1.4.4.3.cmml" xref="alg1.28.28.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.3.1.cmml" xref="alg1.28.28.m1.4.4.3">superscript</csymbol><apply id="alg1.28.28.m1.4.4.3.2.cmml" xref="alg1.28.28.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.3.2.1.cmml" xref="alg1.28.28.m1.4.4.3">subscript</csymbol><ci id="alg1.28.28.m1.4.4.3.2.2.cmml" xref="alg1.28.28.m1.4.4.3.2.2">𝑤</ci><ci id="alg1.28.28.m1.4.4.3.2.3.cmml" xref="alg1.28.28.m1.4.4.3.2.3">𝑖</ci></apply><ci id="alg1.28.28.m1.4.4.3.3.cmml" xref="alg1.28.28.m1.4.4.3.3">𝑡</ci></apply><apply id="alg1.28.28.m1.4.4.1.cmml" xref="alg1.28.28.m1.4.4.1"><minus id="alg1.28.28.m1.4.4.1.2.cmml" xref="alg1.28.28.m1.4.4.1.2"></minus><apply id="alg1.28.28.m1.4.4.1.3.cmml" xref="alg1.28.28.m1.4.4.1.3"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.3.1.cmml" xref="alg1.28.28.m1.4.4.1.3">superscript</csymbol><apply id="alg1.28.28.m1.4.4.1.3.2.cmml" xref="alg1.28.28.m1.4.4.1.3"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.3.2.1.cmml" xref="alg1.28.28.m1.4.4.1.3">subscript</csymbol><ci id="alg1.28.28.m1.4.4.1.3.2.2.cmml" xref="alg1.28.28.m1.4.4.1.3.2.2">𝑤</ci><ci id="alg1.28.28.m1.4.4.1.3.2.3.cmml" xref="alg1.28.28.m1.4.4.1.3.2.3">𝑖</ci></apply><ci id="alg1.28.28.m1.4.4.1.3.3.cmml" xref="alg1.28.28.m1.4.4.1.3.3">𝑡</ci></apply><apply id="alg1.28.28.m1.4.4.1.1.cmml" xref="alg1.28.28.m1.4.4.1.1"><times id="alg1.28.28.m1.4.4.1.1.2.cmml" xref="alg1.28.28.m1.4.4.1.1.2"></times><apply id="alg1.28.28.m1.4.4.1.1.3.cmml" xref="alg1.28.28.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.1.3.1.cmml" xref="alg1.28.28.m1.4.4.1.1.3">subscript</csymbol><ci id="alg1.28.28.m1.4.4.1.1.3.2.cmml" xref="alg1.28.28.m1.4.4.1.1.3.2">𝜂</ci><ci id="alg1.28.28.m1.4.4.1.1.3.3.cmml" xref="alg1.28.28.m1.4.4.1.1.3.3">𝑖</ci></apply><apply id="alg1.28.28.m1.4.4.1.1.4.cmml" xref="alg1.28.28.m1.4.4.1.1.4"><ci id="alg1.28.28.m1.4.4.1.1.4.1.cmml" xref="alg1.28.28.m1.4.4.1.1.4.1">∇</ci><apply id="alg1.28.28.m1.4.4.1.1.4.2.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.1.4.2.1.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2">superscript</csymbol><apply id="alg1.28.28.m1.4.4.1.1.4.2.2.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.1.4.2.2.1.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2">subscript</csymbol><ci id="alg1.28.28.m1.4.4.1.1.4.2.2.2.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2.2.2">ℒ</ci><ci id="alg1.28.28.m1.4.4.1.1.4.2.2.3.cmml" xref="alg1.28.28.m1.4.4.1.1.4.2.2.3">𝑖</ci></apply><list id="alg1.28.28.m1.2.2.2.3.cmml" xref="alg1.28.28.m1.2.2.2.4"><ci id="alg1.28.28.m1.1.1.1.1.cmml" xref="alg1.28.28.m1.1.1.1.1">𝑡</ci><ci id="alg1.28.28.m1.2.2.2.2.cmml" xref="alg1.28.28.m1.2.2.2.2">𝑘</ci></list></apply></apply><list id="alg1.28.28.m1.4.4.1.1.1.2.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1"><apply id="alg1.28.28.m1.4.4.1.1.1.1.1.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.1.1.1.1.1.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1">superscript</csymbol><apply id="alg1.28.28.m1.4.4.1.1.1.1.1.2.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.28.28.m1.4.4.1.1.1.1.1.2.1.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="alg1.28.28.m1.4.4.1.1.1.1.1.2.2.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1.2.2">𝑤</ci><ci id="alg1.28.28.m1.4.4.1.1.1.1.1.2.3.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="alg1.28.28.m1.4.4.1.1.1.1.1.3.cmml" xref="alg1.28.28.m1.4.4.1.1.1.1.1.3">𝑡</ci></apply><ci id="alg1.28.28.m1.3.3.cmml" xref="alg1.28.28.m1.3.3">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.28.28.m1.4c">w_{i}^{t}\leftarrow w_{i}^{t}-\eta_{i}\nabla\mathcal{L}_{i}^{t,k}(w_{i}^{t};b)</annotation></semantics></math>

</div>
<div id="alg1.31.35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21</span>  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   
</div>
<div id="alg1.29.29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22</span><math id="alg1.29.29.m1.1" class="ltx_Math" alttext="\Delta w_{i}^{t}\leftarrow w^{t}-w_{i}^{t}" display="inline"><semantics id="alg1.29.29.m1.1a"><mrow id="alg1.29.29.m1.1.1" xref="alg1.29.29.m1.1.1.cmml"><mrow id="alg1.29.29.m1.1.1.2" xref="alg1.29.29.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.29.29.m1.1.1.2.2" xref="alg1.29.29.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.29.29.m1.1.1.2.1" xref="alg1.29.29.m1.1.1.2.1.cmml">​</mo><msubsup id="alg1.29.29.m1.1.1.2.3" xref="alg1.29.29.m1.1.1.2.3.cmml"><mi id="alg1.29.29.m1.1.1.2.3.2.2" xref="alg1.29.29.m1.1.1.2.3.2.2.cmml">w</mi><mi id="alg1.29.29.m1.1.1.2.3.2.3" xref="alg1.29.29.m1.1.1.2.3.2.3.cmml">i</mi><mi id="alg1.29.29.m1.1.1.2.3.3" xref="alg1.29.29.m1.1.1.2.3.3.cmml">t</mi></msubsup></mrow><mo stretchy="false" id="alg1.29.29.m1.1.1.1" xref="alg1.29.29.m1.1.1.1.cmml">←</mo><mrow id="alg1.29.29.m1.1.1.3" xref="alg1.29.29.m1.1.1.3.cmml"><msup id="alg1.29.29.m1.1.1.3.2" xref="alg1.29.29.m1.1.1.3.2.cmml"><mi id="alg1.29.29.m1.1.1.3.2.2" xref="alg1.29.29.m1.1.1.3.2.2.cmml">w</mi><mi id="alg1.29.29.m1.1.1.3.2.3" xref="alg1.29.29.m1.1.1.3.2.3.cmml">t</mi></msup><mo id="alg1.29.29.m1.1.1.3.1" xref="alg1.29.29.m1.1.1.3.1.cmml">−</mo><msubsup id="alg1.29.29.m1.1.1.3.3" xref="alg1.29.29.m1.1.1.3.3.cmml"><mi id="alg1.29.29.m1.1.1.3.3.2.2" xref="alg1.29.29.m1.1.1.3.3.2.2.cmml">w</mi><mi id="alg1.29.29.m1.1.1.3.3.2.3" xref="alg1.29.29.m1.1.1.3.3.2.3.cmml">i</mi><mi id="alg1.29.29.m1.1.1.3.3.3" xref="alg1.29.29.m1.1.1.3.3.3.cmml">t</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.29.29.m1.1b"><apply id="alg1.29.29.m1.1.1.cmml" xref="alg1.29.29.m1.1.1"><ci id="alg1.29.29.m1.1.1.1.cmml" xref="alg1.29.29.m1.1.1.1">←</ci><apply id="alg1.29.29.m1.1.1.2.cmml" xref="alg1.29.29.m1.1.1.2"><times id="alg1.29.29.m1.1.1.2.1.cmml" xref="alg1.29.29.m1.1.1.2.1"></times><ci id="alg1.29.29.m1.1.1.2.2.cmml" xref="alg1.29.29.m1.1.1.2.2">Δ</ci><apply id="alg1.29.29.m1.1.1.2.3.cmml" xref="alg1.29.29.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.2.3.1.cmml" xref="alg1.29.29.m1.1.1.2.3">superscript</csymbol><apply id="alg1.29.29.m1.1.1.2.3.2.cmml" xref="alg1.29.29.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.2.3.2.1.cmml" xref="alg1.29.29.m1.1.1.2.3">subscript</csymbol><ci id="alg1.29.29.m1.1.1.2.3.2.2.cmml" xref="alg1.29.29.m1.1.1.2.3.2.2">𝑤</ci><ci id="alg1.29.29.m1.1.1.2.3.2.3.cmml" xref="alg1.29.29.m1.1.1.2.3.2.3">𝑖</ci></apply><ci id="alg1.29.29.m1.1.1.2.3.3.cmml" xref="alg1.29.29.m1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="alg1.29.29.m1.1.1.3.cmml" xref="alg1.29.29.m1.1.1.3"><minus id="alg1.29.29.m1.1.1.3.1.cmml" xref="alg1.29.29.m1.1.1.3.1"></minus><apply id="alg1.29.29.m1.1.1.3.2.cmml" xref="alg1.29.29.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.3.2.1.cmml" xref="alg1.29.29.m1.1.1.3.2">superscript</csymbol><ci id="alg1.29.29.m1.1.1.3.2.2.cmml" xref="alg1.29.29.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.29.29.m1.1.1.3.2.3.cmml" xref="alg1.29.29.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.29.29.m1.1.1.3.3.cmml" xref="alg1.29.29.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.3.3.1.cmml" xref="alg1.29.29.m1.1.1.3.3">superscript</csymbol><apply id="alg1.29.29.m1.1.1.3.3.2.cmml" xref="alg1.29.29.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.29.29.m1.1.1.3.3.2.1.cmml" xref="alg1.29.29.m1.1.1.3.3">subscript</csymbol><ci id="alg1.29.29.m1.1.1.3.3.2.2.cmml" xref="alg1.29.29.m1.1.1.3.3.2.2">𝑤</ci><ci id="alg1.29.29.m1.1.1.3.3.2.3.cmml" xref="alg1.29.29.m1.1.1.3.3.2.3">𝑖</ci></apply><ci id="alg1.29.29.m1.1.1.3.3.3.cmml" xref="alg1.29.29.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.29.29.m1.1c">\Delta w_{i}^{t}\leftarrow w^{t}-w_{i}^{t}</annotation></semantics></math> 
</div>
<div id="alg1.30.30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23</span>
<math id="alg1.30.30.m1.1" class="ltx_Math" alttext="\Delta\mathcal{L}_{i}^{t}\leftarrow\max\mathcal{L}_{i}^{t}-\min\mathcal{L}_{i}^{t}" display="inline"><semantics id="alg1.30.30.m1.1a"><mrow id="alg1.30.30.m1.1.1" xref="alg1.30.30.m1.1.1.cmml"><mrow id="alg1.30.30.m1.1.1.2" xref="alg1.30.30.m1.1.1.2.cmml"><mi mathvariant="normal" id="alg1.30.30.m1.1.1.2.2" xref="alg1.30.30.m1.1.1.2.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.30.30.m1.1.1.2.1" xref="alg1.30.30.m1.1.1.2.1.cmml">​</mo><msubsup id="alg1.30.30.m1.1.1.2.3" xref="alg1.30.30.m1.1.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.30.30.m1.1.1.2.3.2.2" xref="alg1.30.30.m1.1.1.2.3.2.2.cmml">ℒ</mi><mi id="alg1.30.30.m1.1.1.2.3.2.3" xref="alg1.30.30.m1.1.1.2.3.2.3.cmml">i</mi><mi id="alg1.30.30.m1.1.1.2.3.3" xref="alg1.30.30.m1.1.1.2.3.3.cmml">t</mi></msubsup></mrow><mo stretchy="false" id="alg1.30.30.m1.1.1.1" xref="alg1.30.30.m1.1.1.1.cmml">←</mo><mrow id="alg1.30.30.m1.1.1.3" xref="alg1.30.30.m1.1.1.3.cmml"><mrow id="alg1.30.30.m1.1.1.3.2" xref="alg1.30.30.m1.1.1.3.2.cmml"><mi id="alg1.30.30.m1.1.1.3.2.1" xref="alg1.30.30.m1.1.1.3.2.1.cmml">max</mi><mo lspace="0.167em" id="alg1.30.30.m1.1.1.3.2a" xref="alg1.30.30.m1.1.1.3.2.cmml">⁡</mo><msubsup id="alg1.30.30.m1.1.1.3.2.2" xref="alg1.30.30.m1.1.1.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.30.30.m1.1.1.3.2.2.2.2" xref="alg1.30.30.m1.1.1.3.2.2.2.2.cmml">ℒ</mi><mi id="alg1.30.30.m1.1.1.3.2.2.2.3" xref="alg1.30.30.m1.1.1.3.2.2.2.3.cmml">i</mi><mi id="alg1.30.30.m1.1.1.3.2.2.3" xref="alg1.30.30.m1.1.1.3.2.2.3.cmml">t</mi></msubsup></mrow><mo id="alg1.30.30.m1.1.1.3.1" xref="alg1.30.30.m1.1.1.3.1.cmml">−</mo><mrow id="alg1.30.30.m1.1.1.3.3" xref="alg1.30.30.m1.1.1.3.3.cmml"><mi id="alg1.30.30.m1.1.1.3.3.1" xref="alg1.30.30.m1.1.1.3.3.1.cmml">min</mi><mo lspace="0.167em" id="alg1.30.30.m1.1.1.3.3a" xref="alg1.30.30.m1.1.1.3.3.cmml">⁡</mo><msubsup id="alg1.30.30.m1.1.1.3.3.2" xref="alg1.30.30.m1.1.1.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.30.30.m1.1.1.3.3.2.2.2" xref="alg1.30.30.m1.1.1.3.3.2.2.2.cmml">ℒ</mi><mi id="alg1.30.30.m1.1.1.3.3.2.2.3" xref="alg1.30.30.m1.1.1.3.3.2.2.3.cmml">i</mi><mi id="alg1.30.30.m1.1.1.3.3.2.3" xref="alg1.30.30.m1.1.1.3.3.2.3.cmml">t</mi></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.30.30.m1.1b"><apply id="alg1.30.30.m1.1.1.cmml" xref="alg1.30.30.m1.1.1"><ci id="alg1.30.30.m1.1.1.1.cmml" xref="alg1.30.30.m1.1.1.1">←</ci><apply id="alg1.30.30.m1.1.1.2.cmml" xref="alg1.30.30.m1.1.1.2"><times id="alg1.30.30.m1.1.1.2.1.cmml" xref="alg1.30.30.m1.1.1.2.1"></times><ci id="alg1.30.30.m1.1.1.2.2.cmml" xref="alg1.30.30.m1.1.1.2.2">Δ</ci><apply id="alg1.30.30.m1.1.1.2.3.cmml" xref="alg1.30.30.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.2.3.1.cmml" xref="alg1.30.30.m1.1.1.2.3">superscript</csymbol><apply id="alg1.30.30.m1.1.1.2.3.2.cmml" xref="alg1.30.30.m1.1.1.2.3"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.2.3.2.1.cmml" xref="alg1.30.30.m1.1.1.2.3">subscript</csymbol><ci id="alg1.30.30.m1.1.1.2.3.2.2.cmml" xref="alg1.30.30.m1.1.1.2.3.2.2">ℒ</ci><ci id="alg1.30.30.m1.1.1.2.3.2.3.cmml" xref="alg1.30.30.m1.1.1.2.3.2.3">𝑖</ci></apply><ci id="alg1.30.30.m1.1.1.2.3.3.cmml" xref="alg1.30.30.m1.1.1.2.3.3">𝑡</ci></apply></apply><apply id="alg1.30.30.m1.1.1.3.cmml" xref="alg1.30.30.m1.1.1.3"><minus id="alg1.30.30.m1.1.1.3.1.cmml" xref="alg1.30.30.m1.1.1.3.1"></minus><apply id="alg1.30.30.m1.1.1.3.2.cmml" xref="alg1.30.30.m1.1.1.3.2"><max id="alg1.30.30.m1.1.1.3.2.1.cmml" xref="alg1.30.30.m1.1.1.3.2.1"></max><apply id="alg1.30.30.m1.1.1.3.2.2.cmml" xref="alg1.30.30.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.3.2.2.1.cmml" xref="alg1.30.30.m1.1.1.3.2.2">superscript</csymbol><apply id="alg1.30.30.m1.1.1.3.2.2.2.cmml" xref="alg1.30.30.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.3.2.2.2.1.cmml" xref="alg1.30.30.m1.1.1.3.2.2">subscript</csymbol><ci id="alg1.30.30.m1.1.1.3.2.2.2.2.cmml" xref="alg1.30.30.m1.1.1.3.2.2.2.2">ℒ</ci><ci id="alg1.30.30.m1.1.1.3.2.2.2.3.cmml" xref="alg1.30.30.m1.1.1.3.2.2.2.3">𝑖</ci></apply><ci id="alg1.30.30.m1.1.1.3.2.2.3.cmml" xref="alg1.30.30.m1.1.1.3.2.2.3">𝑡</ci></apply></apply><apply id="alg1.30.30.m1.1.1.3.3.cmml" xref="alg1.30.30.m1.1.1.3.3"><min id="alg1.30.30.m1.1.1.3.3.1.cmml" xref="alg1.30.30.m1.1.1.3.3.1"></min><apply id="alg1.30.30.m1.1.1.3.3.2.cmml" xref="alg1.30.30.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.3.3.2.1.cmml" xref="alg1.30.30.m1.1.1.3.3.2">superscript</csymbol><apply id="alg1.30.30.m1.1.1.3.3.2.2.cmml" xref="alg1.30.30.m1.1.1.3.3.2"><csymbol cd="ambiguous" id="alg1.30.30.m1.1.1.3.3.2.2.1.cmml" xref="alg1.30.30.m1.1.1.3.3.2">subscript</csymbol><ci id="alg1.30.30.m1.1.1.3.3.2.2.2.cmml" xref="alg1.30.30.m1.1.1.3.3.2.2.2">ℒ</ci><ci id="alg1.30.30.m1.1.1.3.3.2.2.3.cmml" xref="alg1.30.30.m1.1.1.3.3.2.2.3">𝑖</ci></apply><ci id="alg1.30.30.m1.1.1.3.3.2.3.cmml" xref="alg1.30.30.m1.1.1.3.3.2.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.30.30.m1.1c">\Delta\mathcal{L}_{i}^{t}\leftarrow\max\mathcal{L}_{i}^{t}-\min\mathcal{L}_{i}^{t}</annotation></semantics></math> 
</div>
<div id="alg1.31.31" class="ltx_listingline">
return <math id="alg1.31.31.m1.2" class="ltx_Math" alttext="\Delta w_{i}^{t},\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}" display="inline"><semantics id="alg1.31.31.m1.2a"><mrow id="alg1.31.31.m1.2.2.2" xref="alg1.31.31.m1.2.2.3.cmml"><mrow id="alg1.31.31.m1.1.1.1.1" xref="alg1.31.31.m1.1.1.1.1.cmml"><mi mathvariant="normal" id="alg1.31.31.m1.1.1.1.1.2" xref="alg1.31.31.m1.1.1.1.1.2.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.31.31.m1.1.1.1.1.1" xref="alg1.31.31.m1.1.1.1.1.1.cmml">​</mo><msubsup id="alg1.31.31.m1.1.1.1.1.3" xref="alg1.31.31.m1.1.1.1.1.3.cmml"><mi id="alg1.31.31.m1.1.1.1.1.3.2.2" xref="alg1.31.31.m1.1.1.1.1.3.2.2.cmml">w</mi><mi id="alg1.31.31.m1.1.1.1.1.3.2.3" xref="alg1.31.31.m1.1.1.1.1.3.2.3.cmml">i</mi><mi id="alg1.31.31.m1.1.1.1.1.3.3" xref="alg1.31.31.m1.1.1.1.1.3.3.cmml">t</mi></msubsup></mrow><mo id="alg1.31.31.m1.2.2.2.3" xref="alg1.31.31.m1.2.2.3.cmml">,</mo><mrow id="alg1.31.31.m1.2.2.2.2" xref="alg1.31.31.m1.2.2.2.2.cmml"><mrow id="alg1.31.31.m1.2.2.2.2.1.1" xref="alg1.31.31.m1.2.2.2.2.1.2.cmml"><mo id="alg1.31.31.m1.2.2.2.2.1.1.2" xref="alg1.31.31.m1.2.2.2.2.1.2.1.cmml">|</mo><msub id="alg1.31.31.m1.2.2.2.2.1.1.1" xref="alg1.31.31.m1.2.2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.31.31.m1.2.2.2.2.1.1.1.2" xref="alg1.31.31.m1.2.2.2.2.1.1.1.2.cmml">𝒟</mi><mi id="alg1.31.31.m1.2.2.2.2.1.1.1.3" xref="alg1.31.31.m1.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="alg1.31.31.m1.2.2.2.2.1.1.3" xref="alg1.31.31.m1.2.2.2.2.1.2.1.cmml">|</mo></mrow><mo lspace="0em" rspace="0em" id="alg1.31.31.m1.2.2.2.2.2" xref="alg1.31.31.m1.2.2.2.2.2.cmml">​</mo><mi mathvariant="normal" id="alg1.31.31.m1.2.2.2.2.3" xref="alg1.31.31.m1.2.2.2.2.3.cmml">Δ</mi><mo lspace="0em" rspace="0em" id="alg1.31.31.m1.2.2.2.2.2a" xref="alg1.31.31.m1.2.2.2.2.2.cmml">​</mo><msubsup id="alg1.31.31.m1.2.2.2.2.4" xref="alg1.31.31.m1.2.2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.31.31.m1.2.2.2.2.4.2.2" xref="alg1.31.31.m1.2.2.2.2.4.2.2.cmml">ℒ</mi><mi id="alg1.31.31.m1.2.2.2.2.4.2.3" xref="alg1.31.31.m1.2.2.2.2.4.2.3.cmml">i</mi><mi id="alg1.31.31.m1.2.2.2.2.4.3" xref="alg1.31.31.m1.2.2.2.2.4.3.cmml">t</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.31.31.m1.2b"><list id="alg1.31.31.m1.2.2.3.cmml" xref="alg1.31.31.m1.2.2.2"><apply id="alg1.31.31.m1.1.1.1.1.cmml" xref="alg1.31.31.m1.1.1.1.1"><times id="alg1.31.31.m1.1.1.1.1.1.cmml" xref="alg1.31.31.m1.1.1.1.1.1"></times><ci id="alg1.31.31.m1.1.1.1.1.2.cmml" xref="alg1.31.31.m1.1.1.1.1.2">Δ</ci><apply id="alg1.31.31.m1.1.1.1.1.3.cmml" xref="alg1.31.31.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.31.31.m1.1.1.1.1.3.1.cmml" xref="alg1.31.31.m1.1.1.1.1.3">superscript</csymbol><apply id="alg1.31.31.m1.1.1.1.1.3.2.cmml" xref="alg1.31.31.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.31.31.m1.1.1.1.1.3.2.1.cmml" xref="alg1.31.31.m1.1.1.1.1.3">subscript</csymbol><ci id="alg1.31.31.m1.1.1.1.1.3.2.2.cmml" xref="alg1.31.31.m1.1.1.1.1.3.2.2">𝑤</ci><ci id="alg1.31.31.m1.1.1.1.1.3.2.3.cmml" xref="alg1.31.31.m1.1.1.1.1.3.2.3">𝑖</ci></apply><ci id="alg1.31.31.m1.1.1.1.1.3.3.cmml" xref="alg1.31.31.m1.1.1.1.1.3.3">𝑡</ci></apply></apply><apply id="alg1.31.31.m1.2.2.2.2.cmml" xref="alg1.31.31.m1.2.2.2.2"><times id="alg1.31.31.m1.2.2.2.2.2.cmml" xref="alg1.31.31.m1.2.2.2.2.2"></times><apply id="alg1.31.31.m1.2.2.2.2.1.2.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1"><abs id="alg1.31.31.m1.2.2.2.2.1.2.1.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1.2"></abs><apply id="alg1.31.31.m1.2.2.2.2.1.1.1.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.31.31.m1.2.2.2.2.1.1.1.1.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1.1">subscript</csymbol><ci id="alg1.31.31.m1.2.2.2.2.1.1.1.2.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1.1.2">𝒟</ci><ci id="alg1.31.31.m1.2.2.2.2.1.1.1.3.cmml" xref="alg1.31.31.m1.2.2.2.2.1.1.1.3">𝑖</ci></apply></apply><ci id="alg1.31.31.m1.2.2.2.2.3.cmml" xref="alg1.31.31.m1.2.2.2.2.3">Δ</ci><apply id="alg1.31.31.m1.2.2.2.2.4.cmml" xref="alg1.31.31.m1.2.2.2.2.4"><csymbol cd="ambiguous" id="alg1.31.31.m1.2.2.2.2.4.1.cmml" xref="alg1.31.31.m1.2.2.2.2.4">superscript</csymbol><apply id="alg1.31.31.m1.2.2.2.2.4.2.cmml" xref="alg1.31.31.m1.2.2.2.2.4"><csymbol cd="ambiguous" id="alg1.31.31.m1.2.2.2.2.4.2.1.cmml" xref="alg1.31.31.m1.2.2.2.2.4">subscript</csymbol><ci id="alg1.31.31.m1.2.2.2.2.4.2.2.cmml" xref="alg1.31.31.m1.2.2.2.2.4.2.2">ℒ</ci><ci id="alg1.31.31.m1.2.2.2.2.4.2.3.cmml" xref="alg1.31.31.m1.2.2.2.2.4.2.3">𝑖</ci></apply><ci id="alg1.31.31.m1.2.2.2.2.4.3.cmml" xref="alg1.31.31.m1.2.2.2.2.4.3">𝑡</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.31.31.m1.2c">\Delta w_{i}^{t},\left|\mathcal{D}_{i}\right|\Delta\mathcal{L}_{i}^{t}</annotation></semantics></math> to the server

</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.33.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span></figcaption>
</figure><span id="footnotex2" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">➂</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">➂</sup><span class="ltx_note_type">footnotetext: </span>We use all clients in our experiments.</span></span></span>
<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Implementation Details</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">We use T5-base <cite class="ltx_cite ltx_citemacro_cite">Raffel et al. (<a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite> as the model for text-to-SQL task in all three learning paradigms (finetuning, centralized and FL), as it has been shown as an effective unified model for various semantic parsing tasks in UnifiedSKG <cite class="ltx_cite ltx_citemacro_cite">Xie et al. (<a href="#bib.bib32" title="" class="ltx_ref">2022</a>)</cite>. For all three FL algorithms, we implement them based on FedNLP <cite class="ltx_cite ltx_citemacro_cite">Lin et al. (<a href="#bib.bib16" title="" class="ltx_ref">2022</a>)</cite> and FedML <cite class="ltx_cite ltx_citemacro_cite">He et al. (<a href="#bib.bib7" title="" class="ltx_ref">2020</a>)</cite>. We use Adafactor <cite class="ltx_cite ltx_citemacro_cite">Shazeer and Stern (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite> as the optimizer for finetuning and centralized paradigms, and as the client optimizer<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">➃</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">➃</sup><span class="ltx_tag ltx_tag_note">➃</span>Note we use Adafactor as the local optimizer for FedAvg, so the FedAvg in our paper is slightly different from the original proposed FedAvg, which uses stochastic gradient descent(SGD) as the local optimizer.</span></span></span> for FL paradigm, since it has been shown as the best optimizer to optimize for the T5 model.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.1" class="ltx_p">For the FL paradigm, we tune hyperparameters for FedOPT, FedAvg and FedProx as follows. For FedOPT, we test all the combinations of the server learning rate from {0.001, 0.01 0.1, 0.5, 1} and {w/ 0.9, w/o} server momentum. We found 1 as the server learning rate and 0.9 as the server momentum is the best hyperparameter combination. For FedProx, we vary <math id="A1.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="A1.SS1.p2.1.m1.1a"><mi id="A1.SS1.p2.1.m1.1.1" xref="A1.SS1.p2.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.1b"><ci id="A1.SS1.p2.1.m1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.1c">\mu</annotation></semantics></math> from {0.0001, 0.001, 0.01, 0.1, 1} and use the dev set to choose the best model. We finally choose the best hyperparameter 0.0001 in our experiment. For all the federated learning paradigms, we set local training epochs as 6 for two large datasets: ATIS and Advising. We set the local training epoch as 12 for all the other six datasets. We let all the clients participate in each round and we train the entire process for 60 rounds (which lasts around 60 hours). And we test the global model performance on the merged dev set for every 5 communication rounds to choose the best model. We use the best global model to evaluate on all eight test sets to get the global model performance on each client.</p>
</div>
<div id="A1.SS1.p3" class="ltx_para">
<p id="A1.SS1.p3.1" class="ltx_p">For the finetuning paradigm, we finetune T5-base on each dataset for a maximum of 200 epochs. We use the dev set of each client to choose the best model and then evaluate the model on each test set.</p>
</div>
<div id="A1.SS1.p4" class="ltx_para">
<p id="A1.SS1.p4.1" class="ltx_p">For the centralized paradigm, we merge all eight training sets and then finetune T5-base for a maximum of 200 epochs on the merged dataset to get one centralized model. We merge all eight dev sets and use the merged dev set to choose the best model. Then we evaluate the centralized model on each test set.</p>
</div>
<div id="A1.SS1.p5" class="ltx_para">
<p id="A1.SS1.p5.1" class="ltx_p">For all finetuning, centralized and federated learning paradigms, we set the input length as 1024 and the output length as 512. We try learning rate in {1e-5, 1e-4, 1e-3}. We finally choose 1e-4 for the centralized paradigm, and 1e-4 for Advising, ATIS, Geoquery and Yelp in the finetuning paradigm and FL paradigm. We use 1e-3 for Restaurants, Scholar, Academic and IMDB in the finetuning paradigm and FL paradigm.</p>
</div>
<div id="A1.SS1.p6" class="ltx_para">
<p id="A1.SS1.p6.1" class="ltx_p">For the computing resources, we use 1 NVIDIA A6000 48GB GPU for finetuning, with batch size 8. We use 2 NVIDIA A6000 48GB GPUs for centralized training, with batch size 8. We use 5 NVIDIA A6000 48GB GPUs for all federated learning experiments. Specifically, one GPU is used as the server and the other four GPUs are used as 8 clients, with each GPU accommodating 2 clients. The batch size for clients GeoQuery, Restaurants, Scholar, Academic, IMDB and Yelp is 4, and for clients Advising and ATIS is 8.</p>
</div>
<figure id="A1.F5" class="ltx_figure"><img src="/html/2305.17221/assets/figures/FedOpt_FedAvg_FedProx2_high_resolution.png" id="A1.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="287" height="226" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Overall dev performance, also equivalent to the MicroAvg on eight clients’ dev sets. All the red curves show the original FL algorithms. All the blue curves show the algorithms after applying <span id="A1.F5.2.1" class="ltx_text ltx_font_typewriter">Lorar</span>. </figcaption>
</figure>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Comparison of FL Baselines.</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">We treat FedAvg, FedOPT and FedProx as our FL baselines. As Figure <a href="#A1.F5" title="Figure 5 ‣ A.1 Implementation Details ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows, among FedAvg, FedOPT and FedProx, FedOPT performs the best, achieving the closest performance to the centralized paradigm and the fastest convergence speed. FedAvg and FedProx have similar performances, and both of them have a large gap with FedOPT. This indicates that the server’s adaptive optimizer which only exists in FedOPT plays an important role to improve the performance.</p>
</div>
</section>
<section id="A1.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Performance Variation under Varying Communication Rounds.</h3>

<div id="A1.SS3.p1" class="ltx_para">
<p id="A1.SS3.p1.1" class="ltx_p">In Figure <a href="#A1.F5" title="Figure 5 ‣ A.1 Implementation Details ‣ Appendix A Appendix ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, comparing the performance of FL baselines with ours, FedOPT<math id="A1.SS3.p1.1.m1.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="A1.SS3.p1.1.m1.1a"><msub id="A1.SS3.p1.1.m1.1.1" xref="A1.SS3.p1.1.m1.1.1.cmml"><mi id="A1.SS3.p1.1.m1.1.1a" xref="A1.SS3.p1.1.m1.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="A1.SS3.p1.1.m1.1.1.1" xref="A1.SS3.p1.1.m1.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.1.m1.1b"><apply id="A1.SS3.p1.1.m1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1"><ci id="A1.SS3.p1.1.m1.1.1.1a.cmml" xref="A1.SS3.p1.1.m1.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="A1.SS3.p1.1.m1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.1.m1.1c">{}_{\texttt{lorar}}</annotation></semantics></math> performs slightly better than FedOPT. We hypothesize the small gap between FedOPT and the centralized paradigm limits the room for <span id="A1.SS3.p1.1.1" class="ltx_text ltx_font_typewriter">Lorar</span> to show a large gain over FedOPT. For FedAvg and FedProx, we can see that applying <span id="A1.SS3.p1.1.2" class="ltx_text ltx_font_typewriter">Lorar</span> performs significantly better, which demonstrates the effectiveness of leveraging the loss reduction to adjust the weights.</p>
</div>
<figure id="A1.F6" class="ltx_figure"><img src="/html/2305.17221/assets/figures/FedOpt_ablation_study_1.png" id="A1.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="299" height="220" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Alternative weighting mechanisms for FedOPT on the dev set of our proposed benchmark. Recall that FedOPT uses a client’s training set size (w/o loss reduction) as its weight, FedOPT<sub id="A1.F6.9.1" class="ltx_sub"><span id="A1.F6.9.1.1" class="ltx_text ltx_font_italic">lr</span></sub> refers to only using a client’s loss reduction during each round (w/o train set size) as its weight, while FedOPT<math id="A1.F6.5.m2.1" class="ltx_Math" alttext="{}_{\texttt{lorar}}" display="inline"><semantics id="A1.F6.5.m2.1b"><msub id="A1.F6.5.m2.1.1" xref="A1.F6.5.m2.1.1.cmml"><mi id="A1.F6.5.m2.1.1b" xref="A1.F6.5.m2.1.1.cmml"></mi><mtext class="ltx_mathvariant_monospace" id="A1.F6.5.m2.1.1.1" xref="A1.F6.5.m2.1.1.1a.cmml">lorar</mtext></msub><annotation-xml encoding="MathML-Content" id="A1.F6.5.m2.1c"><apply id="A1.F6.5.m2.1.1.cmml" xref="A1.F6.5.m2.1.1"><ci id="A1.F6.5.m2.1.1.1a.cmml" xref="A1.F6.5.m2.1.1.1"><mtext class="ltx_mathvariant_monospace" mathsize="70%" id="A1.F6.5.m2.1.1.1.cmml" xref="A1.F6.5.m2.1.1.1">lorar</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.F6.5.m2.1d">{}_{\texttt{lorar}}</annotation></semantics></math> considers both factors (Eqn. (<a href="#S4.E6" title="In 4.2 Our Proposed Re-weighting Mechanism ‣ 4 FL for Semantic Parsing ‣ Federated Learning for Semantic Parsing: Task Formulation, Evaluation Setup, New Algorithms" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>)). FedOPT<sub id="A1.F6.10.2" class="ltx_sub"><span id="A1.F6.10.2.1" class="ltx_text ltx_font_italic">equal</span></sub> means each client gets equal weight.</figcaption>
</figure>
<figure id="A1.F7" class="ltx_figure"><img src="/html/2305.17221/assets/figures/restaurant_db3.png" id="A1.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="278" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>An overview of the text-to-SQL task.</figcaption>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2305.17220" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2305.17221" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2305.17221">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2305.17221" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2305.17222" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Feb 26 22:47:37 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
