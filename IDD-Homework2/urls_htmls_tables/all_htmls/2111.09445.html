<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2111.09445] FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps</title><meta property="og:description" content="This article presents the design, implementation, and evaluation of FLSys, a mobile-cloud federated learning (FL) system, which can be a key component for an open ecosystem of FL models and apps. FLSys is designed to w…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2111.09445">

<!--Generated on Tue Feb 27 03:59:15 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
federated learning,  mobile sensing,  smart phones
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">

Xiaopeng Jiang 1
Han Hu 1
Thinh On1
Phung Lai1
Vijaya Datta Mayyuri 2
An Chen 2 

<br class="ltx_break">
Devu M. Shila3
Adriaan Larmuseau3
Ruoming Jin4
Cristian Borcea1
NhatHai Phan1


<br class="ltx_break">
New Jersey Institute of Technology1
Qualcomm Incorporated2
<br class="ltx_break">
Unknot.id3
Kent State University4
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"> Email:{xj8,hh255,to58,tl353,borcea,phan}@njit.edu, {vmayyuri,anc}@qualcomm.com
<br class="ltx_break">
</span>
<span class="ltx_contact ltx_role_affiliation">
{devums,adriaan}@unknot.id,
rjin1@kent.edu

</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id12.id1" class="ltx_p">This article presents the design, implementation, and evaluation of <span id="id12.id1.1" class="ltx_text ltx_font_bold">FLSys</span>, a mobile-cloud federated learning (FL) system, which can be a key component for an open ecosystem of FL models and apps. FLSys is designed to work on smart phones with mobile sensing data. It balances model performance with resource consumption, tolerates communication failures, and achieves scalability. In FLSys, different DL models with different FL aggregation methods can be trained and accessed concurrently by different apps. Furthermore, FLSys provides advanced privacy preserving mechanisms and a common API for third-party app developers to access FL models. FLSys adopts a modular design and is implemented in Android and AWS cloud. We co-designed FLSys with a human activity recognition (HAR) model. HAR sensing data was collected in the wild from 100+ college students during a 4-month period. We implemented HAR-Wild, a CNN model tailored to mobile devices, with a data augmentation mechanism to mitigate the problem of non-Independent and Identically Distributed data. A sentiment analysis model is also used to demonstrate that FLSys effectively supports concurrent models. This article reports our experience and lessons learned from conducting extensive experiments using simulations, Android/Linux emulations, and Android phones that demonstrate FLSys achieves good model utility and practical system performance.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
federated learning, mobile sensing, smart phones

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> has the potential to bring deep learning (DL) on mobile devices, while preserving user privacy during model training. FL balances model performance and user privacy through three design features. First, each device trains a local model on its raw data. Second, the gradients of the local models from multiple users are sent to a server for aggregation to compute a global model that is more accurate than individual local models. Third, the server shares the global model with all users. During this federated training, the raw data from individual users never leave their devices. A wide range of mobile apps, e.g., predicting or classifying health conditions based on mobile sensing data, can benefit from running DL models on smart phones using FL, which offers privacy-preserving global training that incentivizes user participation.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Despite progress on theoretical aspects and algorithm/model design for FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>, <a href="#bib.bib65" title="" class="ltx_ref">65</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite>, the lack of a publicly available FL system targeting mobile devices has precluded the widespread adoption of FL models on smart phones, even though such models can enable novel mobile apps that apply DL on mobile data (many times collected from sensors on the phones) in a privacy-preserving manner. Furthermore, this
has also limited our understanding of how real-world applications can benefit from FL.
Most of existing FL systems are either unavailable for the research and practice communities (e.g., Google <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, FedVision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>), under development <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, or do not support mobile devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. Well-developed open systems enabling on-device training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> do not provide support for third-party app development and do not consider the constraints of mobile devices.
Most of the existing FL studies are based on simulations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>, <a href="#bib.bib65" title="" class="ltx_ref">65</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite>, which may lead to an oversimplified view of the applicability of FL models in real-world. In the meantime, although demonstrated in several scenarios such as keyboard typing prediction <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>, FL lacks real-world applications, which can drive the design of FL systems. Indeed, real-world benchmarks for FL are pivotal to help shape the developments of FL systems <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this article, we take a unique application-system co-design approach to design, build, and evaluate an FL system. Our system design is informed by
a critical mobile app, which illustrates a large category of apps that use DL on mobile sensing data: human activity recognition (HAR) on smart phones, which is important for industry, public health, and research. Simply speaking, mobile apps using HAR can harness recognized human physical activities using data collected from phone sensors. HAR is a representative FL app on smart phones that needs privacy-sensitive mobile sensing data collected in the wild in order to work effectively. Most FL papers use simulations with data collected offline and/or in controlled environment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, which do not work well in real-world. Furthermore, they do not consider the inter-play between concurrent data collection, training, and inference on model utility and resource consumption on the phones. From an industry point of view, accurate HAR can help the smart phone manufacturers to intelligently allocate resources and extend battery life. Users’ behaviors, revealed by HAR data collected over long periods of time, may be privacy-sensitive, especially when location data is collected in addition to inertial measurement unit (IMU) data. Furthermore, collecting user data at a central server for training may violate recent privacy regulations (e.g., GDPR).
In general, the privacy-sensitive nature of mobile sensing data, which may also include photos and videos, makes HAR ideal for studying the design of FL systems.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In addition to HAR, we analyzed other real-life applications <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>, <a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> to inform the system design. A list of important questions emerges, and many of them are not addressed in existing FL system designs <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib63" title="" class="ltx_ref">63</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite> that largely ignore the constraints of mobile devices:
How can we balance FL model performance with resource constraints on the phones? How can we ensure the training conducted on phones is completed on time, despite limited resources, i.e., computation power and battery life?
How can the server achieve seamless scalability and accurate model aggregation in the presence of large and variable numbers of users who typically train different models and how can the system simultaneously cope with potential communication failures (e.g., connectivity lost on the phone)?
After a global model is shared with the phones, how can a third-party DL app utilize this model? How does the system support different types of advanced privacy preserving mechanisms?</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p"><span id="S1.p5.1.1" class="ltx_text ltx_font_bold">Key Contributions.</span>
<span id="S1.p5.1.2" class="ltx_text" style="color:#000000;">This is the first article to provide a comprehensive description of the design, implementation, and evaluation of an FL system for smart phones, <span id="S1.p5.1.2.1" class="ltx_text ltx_font_bold">FLSys</span>. The two main challenges for an FL system on phones are concurrent management of multiple FL activities under resource constraints and frequent disconnections due to networking and battery issues. These two challenges are not considered by any existing FL system. To solve them, we propose a novel system architecture that provides (1) a unified system to manage resources on the phone in the presence of multiple models, third-party apps using these models, and data collectors for these models; and (2) an asynchronous protocol to manage the FL process in the presence of disconnections. The FLSys components on smart phones manage training, inference, data collection/preprocessing, and privacy to balance model utility with resource consumption, while tolerating disconnections.</span></p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p"><span id="S1.p6.1.1" class="ltx_text" style="color:#000000;">Furthermore, the engineering of an effective and efficient FLSys prototype on Android and AWS and its evaluation with data collected in the wild is also a major novel contribution of this article. No such system is currently available to the research community. While implemented in Android and AWS, FLSys has a general system design and API that can be extended to other mobile OSs and cloud platforms.</span></p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p"><span id="S1.p7.1.1" class="ltx_text" style="color:#000000;">At a more specific level, there are four novel contributions in the system architecture that combine solutions in machine learning, fault-tolerance, software engineering, and cloud systems. First, FLSys balances model performance, privacy and resource consumption on-demand through data collection and training configurations, such as sampling rate, model structure, hyper-parameters, and differential privacy (DP) mechanisms. Second, FLSys uses an asynchronous protocol between the server and the phones to handle phone failures to participate in training due to resource constraints or disconnections, while maintaining good model performance. This protocol allows the devices to self-select for training when they have enough data and resources and allows the sever to operate correctly in the presence of communication failures with the phones. Third, FLSys enables an ecosystem of third-party apps and models, as well as the ability to use different aggregators, data collectors/preprocessors, and DP-based privacy mechanisms through its modular design. FLSys provides a common API for third-party apps to retrieve inference results from different DL models, while efficiently managing resource consumption and contention. FLSys also flexibly supports different types of DP mechanisms, both on the mobile devices and in the cloud to protect user privacy against an honest-but-curious server.
Fourth, in FLSys, different aggregation algorithms and training policies can be deployed selectively as modules in the cloud using function as a service (FaaS) support, which makes operating FL more cost-efficient. We also leverage FaaS and cloud storage solutions to engineer a scalable FL server.</span></p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p"><span id="S1.p8.1.1" class="ltx_text" style="color:#000000;">Another novel contribution of this article is the HAR model that we designed and built to test FLSys, which is tailored to work efficiently on resource-constrained phones with non independent and identically distributed (non-IID) data. For HAR experiments on FLSys, we collected data from 100+ college students in two areas during a 4-month period. The students used their own Android phones, and their daily-life activities were not constrained in any way by our experiment. Data collected on mobile devices are non-IID, which affects FL-trained models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>.
We have evaluated a variety of HAR models with both centralized and federated training, and designed <span id="S1.p8.1.1.1" class="ltx_text ltx_font_bold">HAR-Wild</span>, a Convolution Neural Network (CNN) model with a data augmentation mechanism to mitigate the non-IID problem. HAR-Wild was also designed to have a small memory footprint, which is appropriate for resource-constrained devices. To showcase the ability of FLSys to work with different FL models, we also built and evaluated a natural language sentiment analysis (SA) model on a dataset with 46,000+ tweets from 436 users.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note"><span id="footnote1.1.1.1" class="ltx_text" style="color:#000000;">1</span></span><span id="footnote1.4" class="ltx_text" style="color:#000000;">The dataset was downloaded and evaluated by the NJIT team.</span></span></span></span></span></p>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">We carried out a comprehensive evaluation of FLSys together with HAR-Wild and SA to quantify the model utility and the system feasibility in real life conditions. This article is the first in the literature to share an extensive FL evaluation on smart phones, using an end-to-end mobile-cloud FL system and mobile data collected in the wild.
We performed the evaluation under three training settings: 1) centralized training, 2) simulated FL with advanced privacy preserving mechanisms, and 3) Android FL. Centralized training provides an upper bound on model accuracy and is used to compare our HAR-Wild model with baseline approaches.
The results demonstrate that HAR-Wild outperforms the baseline models in terms of accuracy. Furthermore, the federated HAR-Wild performance using simulations (TensorFlow and DL4J <span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://deeplearning4j.org/</span></span></span>), Android emulations, and Android phone experiments is close to the upper bound performance achieved by the centralized model. The results on smart phones demonstrate that FLSys can perform communication and training tasks within the allocated time and resource limits, while the FL server is able to handle a variable number of users.
Finally, micro-benchmarks on Android phones show FLSys with HAR-Wild and SA are practical in terms of training and inference time, as well as memory and battery consumption.</p>
</div>
<div id="S1.p10" class="ltx_para">
<p id="S1.p10.1" class="ltx_p">The rest of the article is organized as follows. Section <a href="#S2" title="2 Related Work ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> discusses related work.
Section <a href="#S3" title="3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> explains the design of FLSys, while Section <a href="#S4" title="4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> describes its prototype implementation. Section <a href="#S5" title="5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> presents the HAR model and data. Section <a href="#S6" title="6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows the experimental results. The article concludes in Section <a href="#S7" title="7 Conclusions, Lessons Learned, and Future Work ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> with lessons learned and future work.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related Work</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">This section reviews related work for FL systems, heterogeneity issues in FL federated training, and HAR models.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span><span id="S2.SS1.1.1" class="ltx_text ltx_font_italic">Federated Learning Systems</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">FL can be categorized into Horizontal FL, Vertical FL, and Federated Transfer Learning (FTL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite>. In Horizontal FL, data are partitioned by device user Ids, such that users share the same feature space <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite>. In Vertical FL, different organizations have a large overlapping user space with different feature spaces. These organizations aim at jointly training a model to predict the same model outcomes, without sharing their data. In FTL, the datasets of these organizations differ in both the user space and the feature space.
In Vertical FL and FTL, different organizations need to align their common users and exchange intermediate results by applying encryption techniques <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. The server cannot just average the gradients, but it needs to minimize a joint loss. At inference stage, the organizations may have to send their individual intermediate results to the server to compute a final result. The systems of these two categories rely on cryptography and their interactions are more complex. Our FLSys focuses on Horizontal FL, with an option for extension to Vertical FL and FTL in the future. For simplicity, we will use FL to indicate Horizontal FL in the rest of our paper.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">Table <a href="#S2.T1" title="TABLE I ‣ 2.1 Federated Learning Systems ‣ 2 Related Work ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> shows the comparison between FLSys and other FL systems/frameworks across several features required for an efficient and effective FL system. FLSys is the only system that supports all these features, and it is also the only one that supports third-party apps and efficient mobile sensing data collection. Specifically, FLSys addresses unanswered questions on concurrent training of multiple models for different apps and APIs for third party app developers. Furthermore, unlike all the other systems, FLSys enables models that work with data collected from the phones’ sensors, which adds challenges related to efficient and effective data collection.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.1" class="ltx_p">Among the comparison systems, the FL work done at Google is the best known. However, despite work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> that describes the conceptual design of a scalable FL system for mobile devices, Google has not published the implementation and evaluation of an end-to-end FL system to address the features in Table <a href="#S2.T1" title="TABLE I ‣ 2.1 Federated Learning Systems ‣ 2 Related Work ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>. Recently, its TensorFlow Lite <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> framework started to support on-device training, but this framework does not attempt to provide any other type of system support required by FL.</p>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.1" class="ltx_p">Systems such as FATE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> and FedVision <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, introduce FL architectures based on web-services. They focus on either institutional collaboration or a target application, and they do not have any support for mobile devices. Similarly, Nvidia’s FLARE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite> is a domain-agnostic, open-source, and extensible SDK for FL, but it does not support mobile device training.
Among the systems supporting mobile devices, Syft <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> offers KotlinSyft for on-device training and provides an FL server, PyGrid, with a web-UI. However, Syft does not address scalability or provides advanced privacy preserving mechanism.
FedML  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> shares some goals with FLSys. However, this open source system is still under construction. In addition, FedML focuses more on software engineering aspects, rather than on system aspects such as efficient sensor data collection or scalability.
The closest FL system to ours is Flower <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, which provides a high-level FL programming library, employs TensorFlow Lite for on-device training, and evaluates scalablity with a number of embedded edge computing devices. However, this system does not focus on mobile devices and does not provide a solution to support third-party apps or mobile sensing data collection. The evaluation is conducted on embedded edge computing devices instead of real mobile devices. Last but not least, FLSys is the only system designed to provide modular deployment. The policies, algorithms, and functions are implemented at fine granularity. The system can be deployed as interchangeable modules with serverless cloud resources, instead of an always-on server. This makes it easy to both upgrade the system and achieve cost-efficiency when scaling up.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Comparison of different FL frameworks (* denotes planned feature) </figcaption>
<div id="S2.T1.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:212.5pt;height:75.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-122.5pt,43.4pt) scale(0.464399813370801,0.464399813370801) ;">
<table id="S2.T1.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S2.T1.1.1.1" class="ltx_tr">
<td id="S2.T1.1.1.1.1" class="ltx_td ltx_border_l ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">TF-Lite</td>
<td id="S2.T1.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Syft</td>
<td id="S2.T1.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">FLARE</td>
<td id="S2.T1.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">FATE</td>
<td id="S2.T1.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">FedML</td>
<td id="S2.T1.1.1.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Flower</td>
<td id="S2.T1.1.1.1.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">FLSys</td>
</tr>
<tr id="S2.T1.1.1.2" class="ltx_tr">
<td id="S2.T1.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">On-device training</td>
<td id="S2.T1.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.2.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.2.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">*</td>
<td id="S2.T1.1.1.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.2.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.3" class="ltx_tr">
<td id="S2.T1.1.1.3.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Scalability</td>
<td id="S2.T1.1.1.3.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.3.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.3.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.3.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.3.6" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.3.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.3.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.4" class="ltx_tr">
<td id="S2.T1.1.1.4.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Fault-tolerance</td>
<td id="S2.T1.1.1.4.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.4.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.4.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.4.6" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.4.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.4.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.5" class="ltx_tr">
<td id="S2.T1.1.1.5.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Client heterogeneity</td>
<td id="S2.T1.1.1.5.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.5.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.5.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.5.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.5.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.6" class="ltx_tr">
<td id="S2.T1.1.1.6.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Advanced privacy preserving</td>
<td id="S2.T1.1.1.6.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">*</td>
<td id="S2.T1.1.1.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.6.6" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.6.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.6.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.7" class="ltx_tr">
<td id="S2.T1.1.1.7.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Concurrent third-party app support</td>
<td id="S2.T1.1.1.7.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.6" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.7" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.7.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.8" class="ltx_tr">
<td id="S2.T1.1.1.8.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Efficient sensor data collection</td>
<td id="S2.T1.1.1.8.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.3" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.5" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.6" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.7" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.8.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">✓</td>
</tr>
<tr id="S2.T1.1.1.9" class="ltx_tr">
<td id="S2.T1.1.1.9.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Modular deployment</td>
<td id="S2.T1.1.1.9.2" class="ltx_td ltx_border_b ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.9.3" class="ltx_td ltx_border_b ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.9.4" class="ltx_td ltx_border_b ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.9.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">✓</td>
<td id="S2.T1.1.1.9.6" class="ltx_td ltx_border_b ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.9.7" class="ltx_td ltx_border_b ltx_border_r ltx_border_t"></td>
<td id="S2.T1.1.1.9.8" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">✓</td>
</tr>
</table>
</span></div>
</figure>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span><span id="S2.SS2.1.1" class="ltx_text ltx_font_italic">Coping with Heterogeneity in FL</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">A well-reported issue restricting the performance of FL models is the resource and data heterogeneity among users. Resource heterogeneity arises as the on-device training performs at devices with varying computational and communication capabilities. Data heterogeneity arises because either the numbers of training samples are different, or the classes and features are non-IID  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib65" title="" class="ltx_ref">65</a>]</cite>.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">To mitigate device heterogeneity, Chai et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> divides clients into tiers based on their training time, and updates the tiers on-the-fly based on the observed training time and accuracy. However, training time is determined by both data amount and computation power. In real world, the training time has to be reported by the clients, which may introduce an additional opening for malicious users. To address device heterogeneity, FLSys adapts asynchronous communication. The server provides support for flexible client selection policies, and allows clients to self-select based on their current resources.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">Different from centralized learning, the datasets among different users may follow different distributions in FL, due to imbalanced class distributions, different user behaviors, etc. As a result, DL models trained in FL algorithms usually suffer from inferior performance when compared with centralized models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.
To mitigate the data heterogeneity issue, Reddi et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite> propose three different adaptive algorithms as aggregators for the server to aggregate client updates.
There are studies  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>, <a href="#bib.bib65" title="" class="ltx_ref">65</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> beyond aggregation algorithms on the server to mitigate non-IID. In FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>, a regularization is introduced to mitigate the gradient distortion from each device. Sarkar et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> presented a cross-entropy loss to downweigh easy-to-classify examples and focus training on hard-to-classify examples. Verma et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite> propose to estimate the global objective function by averaging different objective functions given a common region of features among users, and keep different objective functions estimated from local users’ data in different regions of the feature space. In FedDC <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, the authors propose to add the penalized term, and a gradient correction term on the top of the local empirical loss term in the objective function, and each client corrects its local model parameters using the local drift variables. Data augmentation approaches have been proposed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib65" title="" class="ltx_ref">65</a>]</cite>, including a global data distribution based data augmentation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Thanks to the modular design, FLSys can add or swap its components to support new mechanisms in FL. Our HAR-Wild and SA models use a uniform data augmentation method to achieve the best model accuracy. We also implement and show the results of different aggregators in FLSys.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span><span id="S2.SS3.1.1" class="ltx_text ltx_font_italic">Human Activity Recognition</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Our HAR model focuses on sensing and classification of physical activities through smart phone sensors.
Recent works show that deep learning models are effective in HAR tasks. For example, Ignatov <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> proposed a CNN based model to classify activities with raw 3-axis accelerometer data and statistical features computed from the data. Several works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> proposed LSTM-based models and achieved similar performance.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">Most research on HAR models uses centralized learning on data collected in controlled lab environments with standardized devices and controlled activities, in which the participants only focus on collecting sensor data with a usually high and fixed sampling rate frequency, i.e., 50Hz or higher.
Although there are good publicly available HAR datasets, e.g., WISDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, UCI HAR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, and Opportunity <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, they are not representative for real-life situations. Different from existing works, this paper shows that HAR-Wild over FLSys performs well on data collected in the wild, which are subject to fluctuating sample rates (e.g., the sampling may be decreased temporarily to save battery power) and non-IID data distribution.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">FLSys Design</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">This section presents the design of FLSys. Specifically, it describes the system requirements derived from an application-system co-design, the novel FLSys architecture that addresses these requirements, along with the four operation phases of FLSys, namely data collection and processing, privacy protection, federated training, and inference at the phones.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span><span id="S3.SS1.1.1" class="ltx_text ltx_font_italic">System Requirements</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">Our aim is to design and build an FL system that addresses the questions mentioned in Section <a href="#S1" title="1 Introduction ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. We use the HAR model, detailed in Section <a href="#S5" title="5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, to illustrate an entire category of FL models based on mobile sensing data collected in the wild. We extract seven key requirements derived from this model and from other real-world FL applications, such as next word prediction, on-device search query suggestion <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>, on-device robotic navigation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>, on-device item ranking <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, object recognition <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, sentiment analysis, etc., and utilize them to guide our FLSys design: (<em id="S3.SS1.p1.1.1" class="ltx_emph ltx_font_italic">R1</em>) Effective data collection: The data collection on the phone must balance resource consumption (e.g., battery) with sampling rates required by different models; (<em id="S3.SS1.p1.1.2" class="ltx_emph ltx_font_italic">R2</em>) Support for advanced privacy preserving mechanisms: Even though FL is privacy-preserving by design, there are still potential privacy issues (e.g., learn user information from the gradients) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref">50</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. Therefore, the system must provide a plugin interface for advanced privacy protection mechanisms, such as local differential privacy; (<em id="S3.SS1.p1.1.3" class="ltx_emph ltx_font_italic">R3</em>) Tolerate phone unavailability during training: Since the phones may sometimes be disconnected from the network or choose not to communicate to save battery power, the interaction between the phones and the cloud must tolerate such unavailability during federated training; (<em id="S3.SS1.p1.1.4" class="ltx_emph ltx_font_italic">R4</em>) Scalability: The cloud-based FL server of our system must be able to scale to large numbers of users in terms of both computation and storage; (<em id="S3.SS1.p1.1.5" class="ltx_emph ltx_font_italic">R5</em>) Model flexibility: The system must support different DL models for different application scenarios and different aggregation functions in the cloud; (<em id="S3.SS1.p1.1.6" class="ltx_emph ltx_font_italic">R6</em>) Support for third-party apps: The system must provide programming support for third party apps to concurrently access different models on the phones, while efficiently managing resource consumption and contention; and (<em id="S3.SS1.p1.1.7" class="ltx_emph ltx_font_italic">R7</em>) Modularity: The system shall not be heavy to deploy, and its policies, algorithms, and functions shall be designed and implemented as interchangeable modules for simple, cost-effective deployment and scalability.</p>
</div>
<figure id="S3.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S3.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2111.09445/assets/image/sys-arch-final.png" id="S3.F1.sf1.g1" class="ltx_graphics ltx_img_landscape" width="497" height="279" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span><span id="S3.F1.sf1.2.1" class="ltx_text" style="font-size:70%;">FLSys Architecture</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S3.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2111.09445/assets/image/FLSysProtocol.png" id="S3.F1.sf2.g1" class="ltx_graphics ltx_img_landscape" width="574" height="345" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span><span id="S3.F1.sf2.2.1" class="ltx_text" style="font-size:70%;">Asynchronous Protocol with Phone Self-Selection and Multiple Models</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span><span id="S3.F1.2.1" class="ltx_text" style="font-size:80%;">FLSys Architecture and Asynchronous Protocol. Typical operations: ① Phone Manager of Client #1 registers with the Cloud Manager of Model 1, which grants registration based on training settings. ② Phone Manager of Client #1 fetches up-to-date global model from a designated storage, trains it with local data, and uploads local gradients to a designated storage. ③ Phone Manager of Client #2 tries to register, but is denied. ④ Phone Manager of Client #2 successfully registers at a later time, but the training misses the deadline, thus its gradients upload is denied. ⑤ Clients #1 and #2 try to register during server aggregation and are denied. ⑥ Each model’s Aggregator loads the gradient updates, aggregates them, and saves the aggregated model.</span></figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span><span id="S3.SS2.1.1" class="ltx_text ltx_font_italic">FLSys Overview</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">FLSys addresses requirements <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="R1-R7" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mrow id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mrow id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2.2" xref="S3.SS2.p1.1.m1.1.1.2.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.2.1" xref="S3.SS2.p1.1.m1.1.1.2.1.cmml">​</mo><mn id="S3.SS2.p1.1.m1.1.1.2.3" xref="S3.SS2.p1.1.m1.1.1.2.3.cmml">1</mn></mrow><mo id="S3.SS2.p1.1.m1.1.1.1" xref="S3.SS2.p1.1.m1.1.1.1.cmml">−</mo><mrow id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS2.p1.1.m1.1.1.3.2" xref="S3.SS2.p1.1.m1.1.1.3.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p1.1.m1.1.1.3.1" xref="S3.SS2.p1.1.m1.1.1.3.1.cmml">​</mo><mn id="S3.SS2.p1.1.m1.1.1.3.3" xref="S3.SS2.p1.1.m1.1.1.3.3.cmml">7</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><minus id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1.1"></minus><apply id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2"><times id="S3.SS2.p1.1.m1.1.1.2.1.cmml" xref="S3.SS2.p1.1.m1.1.1.2.1"></times><ci id="S3.SS2.p1.1.m1.1.1.2.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2.2">𝑅</ci><cn type="integer" id="S3.SS2.p1.1.m1.1.1.2.3.cmml" xref="S3.SS2.p1.1.m1.1.1.2.3">1</cn></apply><apply id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3"><times id="S3.SS2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS2.p1.1.m1.1.1.3.1"></times><ci id="S3.SS2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS2.p1.1.m1.1.1.3.2">𝑅</ci><cn type="integer" id="S3.SS2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3.3">7</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">R1-R7</annotation></semantics></math> synergistically in a novel system architecture. For some requirements, we propose novel solutions, as no current FL system addresses them, while for others we customize existing solutions for our needs in order to provide a complete design and implementation. Figure <a href="#S3.F1.sf1" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a> shows the system architecture, and Figure <a href="#S3.F1.sf2" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1b</span></a> shows the overall process of one training round. These figures emphasize five novel contributions made in FLSys, compared with existing FL systems: <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_bold">(1)</span> FLSys allows the phones to self-select for training when they have enough data and resources; <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_bold">(2)</span> FLSys has an asynchronous design (Figure <a href="#S3.F1.sf2" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1b</span></a>), in which the server in the cloud tolerates client failures/disconnections and allows clients to join training at any time. <span id="S3.SS2.p1.1.3" class="ltx_text ltx_font_bold">(3)</span> FLSys supports multiple DL models that can be used concurrently by multiple apps; each phone trains and uses only the models for which it has subscribed; <span id="S3.SS2.p1.1.4" class="ltx_text ltx_font_bold">(4)</span> FLSys acts as a “central hub” on the phone to manage the training, updating, and access control of FL models used by different apps; and <span id="S3.SS2.p1.1.5" class="ltx_text ltx_font_bold">(5)</span> FLSys allows apps/models to use different privacy mechanisms that trade model accuracy for privacy guarantees.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">These features balance model utility with mobile device constraints and privacy, and can help create an ecosystem of FL models and associated apps. FLSys allows different developers to build FL models/apps and provides a simple way for users to take advantage of these apps, as it offers a unifying system for the development and deployment of FL models and apps that use these models. FLSys acts as common middleware layer for all these apps and models. The users just need to download/install the apps, and FLSys will take care of downloading/installing the FL models used by the apps, will perform FL training as needed, and will run FL inference on behalf of the apps.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span><span id="S3.SS3.1.1" class="ltx_text ltx_font_italic">System Architecture</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">The architecture (Figure <a href="#S3.F1.sf1" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a>) has two main components: <em id="S3.SS3.p1.1.1" class="ltx_emph ltx_font_italic">(1)</em> <em id="S3.SS3.p1.1.2" class="ltx_emph ltx_font_italic">FL Phone Manager</em>, which coordinates the FL activities on the phone; and <em id="S3.SS3.p1.1.3" class="ltx_emph ltx_font_italic">(2)</em> <em id="S3.SS3.p1.1.4" class="ltx_emph ltx_font_italic">FL Cloud Manager</em>, which coordinates the FL activities in the cloud. These two components work together to support the four phases of the FL operation: data collection and preprocessing, privacy protection, model training and aggregation, and mobile apps using inference. In the following, we describe each phase and explain how the system architecture satisfies the seven system requirements.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p"><span id="S3.SS3.p2.1.1" class="ltx_text ltx_font_bold">Data Collection and Preprocessing.</span>
The FL Phone Manager controls the data collection using one or multiple <em id="S3.SS3.p2.1.2" class="ltx_emph ltx_font_italic">Data Collectors</em>. A basic Data Collector is tasked with collecting data from one sensor at a given sampling rate. Such basic Data Collectors could be embedded in more complex ones to collect different types of data at the same time. It is important to have one app that coordinates data collection because having multiple apps collecting overlapping sets of data multiple times is inefficient. Having the FL Phone Manager to coordinate the data collection also simplifies sensor access control.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.1" class="ltx_p">To satisfy requirement <em id="S3.SS3.p3.1.1" class="ltx_emph ltx_font_italic">R1</em>, FLSys supports on-demand configuration of sensor types, sampling rates, and the period to flush data from memory to storage. Each model informs the FL Phone Manager of the type of data and sampling rate it needs. In this way, the FL Phone Manager knows which Data Collectors to invoke and which sampling rates are needed.
The FL Phone Manager balances sensing accuracy (i.e., high sampling rate) with resource consumption.</p>
</div>
<div id="S3.SS3.p4" class="ltx_para">
<p id="S3.SS3.p4.1" class="ltx_p">To regulate and keep such balance aligned with the user experience, the FLSys has three features: (1) include several built-in sampling rate settings, with empirical values from our experience; and (2) collect key statistics of the data collection (e.g., CPU time consumed, battery life impact, etc.) and show them to the user, upon request; and (3) provide global level controls for the user to adjust the data collection behaviors, should the user feel that their experience is impacted by data collection.</p>
</div>
<div id="S3.SS3.p5" class="ltx_para">
<p id="S3.SS3.p5.1" class="ltx_p">The Data Collectors store the sensed data in the <em id="S3.SS3.p5.1.1" class="ltx_emph ltx_font_italic">Raw Data Storage</em> and inform the FL Phone Manager each time new data is added to the Raw Data Storage. For efficiency, the Data Collectors can buffer a certain amount of sensed data in memory before committing it to the storage. The FL Phone Manager can dynamically reconfigure the data flushing period that defines when the data is written to storage. Data Collectors set this data flushing period.
Some models may use the raw data directly, while others may require additional processing. The FL Phone Manager decides when to invoke the model-specific <em id="S3.SS3.p5.1.2" class="ltx_emph ltx_font_italic">Data Processors</em>, which will store the data in the <em id="S3.SS3.p5.1.3" class="ltx_emph ltx_font_italic">Processed Data Storage</em>. This is a matter of policy and can be done any time new data is available in the Raw Storage Data or at a regular interval. The only constraint is to have all the data preprocessed before a new local model training operation.</p>
</div>
<div id="S3.SS3.p6" class="ltx_para">
<p id="S3.SS3.p6.1" class="ltx_p">To deal with the problem of non-IID data distribution, described in Section <a href="#S2" title="2 Related Work ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the <em id="S3.SS3.p6.1.1" class="ltx_emph ltx_font_italic">Data Preprocessor</em> can augment the data collected locally on the device with data received from the cloud. The augmentation dataset is model-specific and mitigates the distortion the data classes by providing data samples for classes with not enough data. When the users join FLSys for a new model, their phones receive an augmentation dataset from the <em id="S3.SS3.p6.1.2" class="ltx_emph ltx_font_italic">FL Cloud Manager</em> for models that use data augmentation techniques.</p>
</div>
<div id="S3.SS3.p7" class="ltx_para">
<p id="S3.SS3.p7.1" class="ltx_p"><span id="S3.SS3.p7.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Privacy Threat Model and Protection<span id="S3.SS3.p7.1.1.1" class="ltx_text ltx_font_medium">. To satisfy requirement <em id="S3.SS3.p7.1.1.1.1" class="ltx_emph ltx_font_italic">R2</em>, the <em id="S3.SS3.p7.1.1.1.2" class="ltx_emph ltx_font_italic">Local Privacy Preserving Manager</em> delivers advanced privacy protection mechanisms on the phone component of FLSys. It is designed to work with different privacy mechanisms, which are available on a per-model basis.</span></span></p>
</div>
<div id="S3.SS3.p8" class="ltx_para">
<p id="S3.SS3.p8.1" class="ltx_p"><span id="S3.SS3.p8.1.1" class="ltx_text ltx_font_italic" style="color:#000000;">Threat Model.<span id="S3.SS3.p8.1.1.1" class="ltx_text ltx_font_upright"> In this paper, we focus on defending against privacy inference attacks from an honest-but-curious server, which can attempt to infer clients’ local training data. Note that the server knows the identity of the clients to coordinate the FL training. The server may try to extract the clients’ local data or infer membership information of specific clients’ training data samples by using training data extraction attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> and membership inference attacks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>, respectively, via observing the clients’ local gradients. Third-party apps on the phones, which may or may not use FLSys, may act maliciously by trying to access the model data or performing inference attacks, etc. There are many OS-based, programming language-based, and networking-based approaches that can prevent or alleviate these issues. All these solutions can be applied outside of FLSys.</span></span></p>
</div>
<div id="S3.SS3.p9" class="ltx_para">
<p id="S3.SS3.p9.1" class="ltx_p"><span id="S3.SS3.p9.1.1" class="ltx_text ltx_font_italic" style="color:#000000;">Defenses.<span id="S3.SS3.p9.1.1.1" class="ltx_text ltx_font_upright"> An effective way to protect clients’ local training data against an honest-but-curious server is to use local differential privacy (LDP) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, specifically to preserve <math id="S3.SS3.p9.1.1.1.m1.1" class="ltx_Math" alttext="\epsilon" display="inline"><semantics id="S3.SS3.p9.1.1.1.m1.1a"><mi mathcolor="#000000" id="S3.SS3.p9.1.1.1.m1.1.1" xref="S3.SS3.p9.1.1.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p9.1.1.1.m1.1b"><ci id="S3.SS3.p9.1.1.1.m1.1.1.cmml" xref="S3.SS3.p9.1.1.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p9.1.1.1.m1.1c">\epsilon</annotation></semantics></math>-LDP in FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>. LDP provides rigorous privacy protection, without computational overhead, compared with other techniques such as secure multi-party computation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> and homomorphic encryption <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite>. Meanwhile, anonymizers (shuffler <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>, faking source IP, VPN, Proxy, mixnets, etc. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>) could be compromised or could collude with the server to extract sensitive information from local gradients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. This introduces extra privacy risks for the clients’ local training data. In addition, it is challenging for dimension reduction-based privacy-preserving techniques to achieve good utility under rigorous privacy guarantees with complex models and tasks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>.</span></span></p>
</div>
<div id="S3.SS3.p10" class="ltx_para">
<p id="S3.SS3.p10.1" class="ltx_p"><span id="S3.SS3.p10.1.1" class="ltx_text" style="color:#000000;">Therefore, our system supports existing LDP-preserving approaches in FL, which are currently the most suitable solutions.
Existing LDP-preserving approaches in FL can be divided into two categories: <span id="S3.SS3.p10.1.1.1" class="ltx_text ltx_font_bold">(1)</span> Clients add noise to local gradients to protect the values of the local gradients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>; and <span id="S3.SS3.p10.1.1.2" class="ltx_text ltx_font_bold">(2)</span> Clients add noise to each training sample to protect the value of each training sample <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>, and then they use these perturbed samples to derive local gradients. For both approaches, the clients send the LDP-preserved local gradients to the server for model updates.
Our system further supports <em id="S3.SS3.p10.1.1.3" class="ltx_emph ltx_font_italic">User-level DP</em> (<em id="S3.SS3.p10.1.1.4" class="ltx_emph ltx_font_italic">User-DP</em>) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> to protect the membership information of clients against inference attacks.</span></p>
</div>
<div id="S3.SS3.p11" class="ltx_para">
<p id="S3.SS3.p11.1" class="ltx_p"><span id="S3.SS3.p11.1.1" class="ltx_text" style="color:#000000;">These supported mechanisms <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> use DP to provide different levels of privacy protection. Within a DP budget allocated to a given privacy mechanism, the global model converges without an undue cost of model utility. In <em id="S3.SS3.p11.1.1.1" class="ltx_emph ltx_font_italic">User-DP</em>, the aggregated gradients at the FL Cloud Manager are perturbed to protect clients’ participation (membership) information in training the global model (Definition 2, Appendix A).
In <em id="S3.SS3.p11.1.1.2" class="ltx_emph ltx_font_italic">LDP</em>, every training sample is perturbed under LDP ensuring that the legitimate value of the training sample is protected against being inferred by the server through observing local gradients (Definition 3, Appendix A). As these two mechanisms illustrate, the <em id="S3.SS3.p11.1.1.3" class="ltx_emph ltx_font_italic">Model Aggregator</em> in the cloud may (e.g., User-DP) or may not (e.g., LDP) apply privacy preserving mechanisms. Generally speaking, privacy mechanisms in FLSys are handled by the <em id="S3.SS3.p11.1.1.4" class="ltx_emph ltx_font_italic">Local Privacy Preserving Manager</em> on the phones, with potential collaboration from the <em id="S3.SS3.p11.1.1.5" class="ltx_emph ltx_font_italic">Model Aggregator</em> in the cloud.
</span></p>
</div>
<div id="S3.SS3.p12" class="ltx_para">
<p id="S3.SS3.p12.1" class="ltx_p"><span id="S3.SS3.p12.1.1" class="ltx_text ltx_font_bold">Federated Training.</span>
To satisfy requirement <em id="S3.SS3.p12.1.2" class="ltx_emph ltx_font_italic">R3</em>, we make two design decisions. First, FLSys allows the phones to self-select for training when they have enough data and resources. This is different from traditional FL architectures <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, where the server selects the phones to participate in training, which may not be available or may not have enough data or resources for training. Second, in FLSys, the communication between the phones and the cloud is asynchronous to cope with phone disconnections. The software at the cloud side is designed to tolerate missing messages from the phones. Overall, FLSys reduces communication overhead and increases client utility, at the expense of less control in the client sampling process, compared to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>.</p>
</div>
<div id="S3.SS3.p13" class="ltx_para">
<p id="S3.SS3.p13.1" class="ltx_p">In order to use a given model on the phone, the FL Phone Manager first registers the phone with the <em id="S3.SS3.p13.1.1" class="ltx_emph ltx_font_italic">FL Cloud Manager</em>. If the phone model and mobile OS are known to work with the model, the FL Cloud Manager registers the phone with the <em id="S3.SS3.p13.1.2" class="ltx_emph ltx_font_italic">New Model Notification Service</em>, which works as a Publish-Subscribe cloud service, and returns the subscription to the phone. This subscription allows the phone to receive asynchronous notifications when a new global model is available for download. The FL Phone Manager downloads the model at a time determined based on the model usage frequency and power settings.</p>
</div>
<div id="S3.SS3.p14" class="ltx_para">
<p id="S3.SS3.p14.1" class="ltx_p">The training for each model is done in rounds. The FL Cloud Manager decides the duration of a round, based on preferences associated with each model. For example, the server may start a new aggregation (i.e., by invoking the <em id="S3.SS3.p14.1.1" class="ltx_emph ltx_font_italic">Model Aggregator</em> for a certain model) when a given time interval has passed or when a certain number of local training updates have been received from the phones. The FL Phone Manager decides when to participate in training. This decision is done based on local policies that attempt to balance inference accuracy, the amount of input data for training, and the resources consumed during training. The intention to participate in training for a given model is conveyed by a message sent to the FL Cloud Manager. Based on the model preferences (e.g., amount of data, and the number of users in a training round), the server may decide to ask the phone to train for the model and to provide the FL Phone Manager with a URL to upload the results in the <em id="S3.SS3.p14.1.2" class="ltx_emph ltx_font_italic">Cloud Local Gradients Storage</em>. If there is a deadline for participation in the round, the FL Cloud Manager lets the FL Phone Manager know about it.</p>
</div>
<div id="S3.SS3.p15" class="ltx_para">
<p id="S3.SS3.p15.1" class="ltx_p">The FL Phone Manager invokes the <em id="S3.SS3.p15.1.1" class="ltx_emph ltx_font_italic">Model Trainer</em> for the given model and passes as parameter the location of the data in the Processed Data Storage. After the training is done, the Model Trainer stores the newly computed gradients in the <em id="S3.SS3.p15.1.2" class="ltx_emph ltx_font_italic">Phone Local Gradients Storage</em>. The FL Phone Manager decides when to upload these gradients to the Cloud Local Gradients Storage. The FL Cloud Manager will invoke the Model Aggregator for the model when the duration for the round expires or when enough updates have been uploaded. The Model Aggregator reads the updates from the Cloud Local Gradients Storage, computes the aggregated weights, and stores them in the <em id="S3.SS3.p15.1.3" class="ltx_emph ltx_font_italic">Cloud Global Model Weights Storage</em>. The intermediate training state is stored in the <em id="S3.SS3.p15.1.4" class="ltx_emph ltx_font_italic">Training State Storage</em> to provide lower I/O latency compared with the other types of cloud storage in our design. This is because FLSys needs frequent access to these data during training. Then, the Model Aggregator sends a notification via the New Model Notification Service to let the phones know that a new model version is available.</p>
</div>
<div id="S3.SS3.p16" class="ltx_para">
<p id="S3.SS3.p16.1" class="ltx_p">The cloud-side system satisfies requirement <em id="S3.SS3.p16.1.1" class="ltx_emph ltx_font_italic">R4</em>, as it can scale to large numbers of users due to its modular design that decouples computation, communication, storage, and notification services. The cloud elasticity features of each service allow different services to scale up or down according to the workload.</p>
</div>
<div id="S3.SS3.p17" class="ltx_para">
<p id="S3.SS3.p17.1" class="ltx_p">As we observe from the architecture, each model is managed individually by FLSys, and multiple models can co-exist both at the phones and the cloud. In the cloud, different models use independent cloud resources, which can be scaled independently. On the phone, independent model trainers and inference runners are responsible for different applications. The cloud contains all the models in the system, while each phone contains only the models for which it has subscribed. This modular design allows our system to satisfy requirement <em id="S3.SS3.p17.1.1" class="ltx_emph ltx_font_italic">R5</em>.</p>
</div>
<div id="S3.SS3.p18" class="ltx_para">
<p id="S3.SS3.p18.1" class="ltx_p"><span id="S3.SS3.p18.1.1" class="ltx_text ltx_font_bold">Mobile Apps Using Inference.</span>
We decouple mobile apps that need inference on the phones from the models that provide the inference. This allows an app to use multiple models, while the same model can be used by multiple apps. FLSys provides an API and a library that can be used by third-party app developers to perform inference using DL models on the phone. In this way, the system architecture satisfies requirement  <em id="S3.SS3.p18.1.2" class="ltx_emph ltx_font_italic">R6</em>. When an app needs inference from a model, it sends a request to the FL Phone Manager using one of the OS IPC mechanisms.
The FL Phone Manager then generates the input for the inference from the data stored in the Processed Data Storage or the Raw Data Storage, and then invokes the <em id="S3.SS3.p18.1.3" class="ltx_emph ltx_font_italic">Model Runner</em> with this input. The Model Runner sends the result to the App using IPC. When possible, the FL Phone Manager re-uses preprocessed data to reduce resource consumption or performs one inference for several applications that invoke the same model concurrently.</p>
</div>
<div id="S3.SS3.p19" class="ltx_para">
<p id="S3.SS3.p19.1" class="ltx_p"><span id="S3.SS3.p19.1.1" class="ltx_text ltx_font_bold">Model Concurrency.</span>
Given the design of FLSys, both the FL Phone Manager and the FL Cloud Manager are able to handle multiple models concurrently. However, the meanings of concurrency are slightly different for each side. FL Cloud Manager needs to handle the aggregation of all models that are registered with it. Also there is the need to communicate to a potentially large number of clients for each model at the same time. FLSys handles this concurrency through services provided by the underlying cloud platform, which support concurrency by design. FLSys just needs to orchestrate the invocation of these services.
The FL Phone Manager needs to handle concurrent training and inference. Our preliminary experiments on smart phones show parallel training of multiple models is very slow due to resource contention. It also affects the user experience on the phones. Therefore, we decided to train models sequentially. The FL Phone Manager can request to participate in training rounds for multiple models concurrently, but it locally decides a sequential order in which to train these models, based on parameters such as frequency of model usage by apps, the training round deadlines, and historical training latency for each model. Finally, the inference requests from the apps are executed as soon as they are received to maintain good user experience.</p>
</div>
<div id="S3.SS3.p20" class="ltx_para">
<p id="S3.SS3.p20.1" class="ltx_p"><span id="S3.SS3.p20.1.1" class="ltx_text ltx_font_bold">System Modularity.</span>
FLSys components are designed and implemented at fine granularity as interchangeable modules for different policies and algorithms to satisfy requirement <em id="S3.SS3.p20.1.2" class="ltx_emph ltx_font_italic">R7</em>. This design makes it easy to deploy different data collection modules, DP-based privacy preserving mechanisms, model trainers at the clients (with different optimizers or loss functions), and aggregation functions at the server.
Furthermore, new models can be added on-demand, based on the apps that need them. This modular design can be readily deployed in a serverless manner in the cloud, which leads to improved scalability (i.e., scale up only the components that are overloaded) and cost-efficiency (i.e., no need to run always-on servers).</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Prototype Implementation</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We implemented an end-to-end FLSys prototype in Android and AWS cloud, which have been chosen because they are the market leaders for mobile OSs and cloud platforms, respectively. However, the FLSys design is general and it can be implemented in other mobile OSs and cloud platforms. The prototype implements all of the components described in the system architecture (Figure <a href="#S3.F1.sf1" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a>). This section reviews the implementation technologies, the reasons for selecting them, and then focuses on the Android implementation and the AWS implementation of FLSys.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span><span id="S4.SS1.1.1" class="ltx_text ltx_font_italic">Implementation Technologies</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Deep Learning Framework.</span>
We chose Deep Learning for Java (DL4J) as the underlying framework for the on-device DL-related operations (i.e., training and model execution) because it was the only mature framework that supported model training on Android devices until very recently, when TensorFlow Lite <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> and KotlinSyft <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> became available for on-device training. While the Model Aggregator in the cloud could be implemented using other DL technologies, for consistency, we implement it in DL4J as well. The models are stored as zipped JSON and bin files in folders on the phone and in AWS S3 buckets in the cloud.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">On-device Communication.</span>
For IPC among Android apps/services, we use Android Bound Service and Android Intent. A bound service can efficiently serve another application component because it does not run in the background indefinitely.
Through IPC, the FL Phone Manager can provide third-party apps with an interface to request inference results without revealing the model or the data. Furthermore, it can communicate with the Data Collector.
</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Cloud Platform and Services.</span>
We opt to utilize the Function-as-a-service (FaaS) architecture for our cloud computation. The core cloud components of FLSys are implemented and deployed as AWS Lambda functions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. We decided to choose FaaS for our implementation for five reasons. First, it matches our asynchronous, event-based design, as Lambda functions are triggered by events. Second, it provides fine-grained scalability at the function level; therefore leading to less resource consumption in the cloud. Furthermore, computation and storage are scaled automatically and independently by the cloud platform. Third, unlike other cloud platforms, it does not require running virtual machines when no computation is necessary; this saves additional resources and reduces cost. Fourth, FaaS simplifies the development and deployment of our prototype because it does not require software installation, system configuration, etc. Fifth, different functions can be implemented in different programming languages making the implementation even more flexible.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p">Lambda functions are triggered in different ways in our prototype. We use the AWS API Gateway to define and deploy HTTP and REST APIs. For instance, we create a REST API to relay clients’ requests to participate in the FL training to the Lambda function that handles these requests. We also use the AWS EventBridge to define rules to trigger and filter events for Lambda functions.</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p">FLSys uses a number of cloud services for storage, authentication, and publish-subscribe communication. For model storage, validation datasets, and FL Cloud Manager configuration files, we use AWS S3, which offers a reliable and cost-effective solution for data accessed infrequently. More importantly, AWS S3 buckets can be accessed directly by phones, which simplifies the asynchronous communication in FLSys. To authenticate clients and allow them to upload and download models from the AWS S3, FLSys uses Identity Pool in AWS Cognito. To store data that is accessed frequently, such as training round states and model states, we use AWS DynamoDB, a reliable NoSQL database. AWS SNS is utilized in conjunction with the Google FCM to notify clients when newly trained models are ready. The use of a Google Cloud service in our AWS implementation was necessary in order to push notifications directly to apps on the phones when a new global model is ready in the cloud.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span><span id="S4.SS2.1.1" class="ltx_text ltx_font_italic">Phone Implementation</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The phone implementation (left-side of Figure <a href="#S3.F1.sf1" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a>) consists of three apps: a FL Phone Manager, a HAR Data Collector, and a Testing App used to test model inference.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">Data Collector.</span>

We implemented a HAR Data Collector app designed for long-term and battery efficient data collection. This Data Collector was implemented as an app that can be used independent of FLSys, but for better efficiency, the Data Collectors can be implemented as modules of the FL Phone Manager. To that end, sensor values are not collected at an enforced fixed high frequency, but are instead collected independently through Android listeners whose actual frequency is variable, determined by the underlying OS. This is appropriate for data collection in the wild. In our experience, this tends to be much friendlier to the performance and battery life of the user devices, lowering the risk that a user abandons FLSys prematurely due to concerns about how it is affecting their device resources. Furthermore, users are given the option to pause or stop data collection of all or a subset of sensors in case they have resource consumption or privacy concerns. For simplicity, the raw data and the processed data are stored as files.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p"><span id="S4.SS2.p3.1.1" class="ltx_text ltx_font_bold">FL Phone Manager.</span> 
The FL Phone Manager app decides to initiate an on-device training round based on evaluating a Ready To Config policy (RTCp). We implemented a simple policy to check if the phone is charging and is connected to the network before declaring its availability for training. If yes, it sends a Ready To Config message (RTCm) to the FL Cloud Manager. RTCm is implemented as an HTTP request with JSON payload and is sent to a REST API URL in AWS. The FL Cloud Manger either accepts or denies the phone’s participation in this training round, based on a simple Accept/Deny for Training policy (A/DFTp) that checks the phone model and client identity.
</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">The phone is accepted for a round of training when it receives an Accept For Training message (AFTm). AFTm contains the information of the AWS S3 locations from where to download the latest global model weights and where to upload the local gradients. The message also contains the deadline for this training round’s completion. The FL Phone Manager evaluates a Start To Train policy (STTp) based on the available device resources and the round’s deadline to determine whether to actually perform the on-device training for this round or not.</p>
</div>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p">The FL Phone Manager will create the corresponding Model Trainer if it decides to train. The Model Trainer is implemented with Android native <em id="S4.SS2.p5.1.1" class="ltx_emph ltx_font_italic">AsyncTask</em> class to ensure the trainer is not terminated by Android, even when the app is idle. <em id="S4.SS2.p5.1.2" class="ltx_emph ltx_font_italic">AsyncTask</em> also enables multiple trainers to train in the background. Once the training is complete, the Model Trainer uploads the local gradients to the corresponding AWS S3 location.</p>
</div>
<div id="S4.SS2.p6" class="ltx_para">
<p id="S4.SS2.p6.1" class="ltx_p">Model inference is implemented as a background service with Android Interface Definition Language (AIDL), and it gets inference requests from third-party apps. When such a request is received, the FL Phone Manager uses the current sensor data from the Data Collector as input for the model, runs the inference, and responds to the third-party apps with the inference results.</p>
</div>
<div id="S4.SS2.p7" class="ltx_para">
<p id="S4.SS2.p7.1" class="ltx_p"><span id="S4.SS2.p7.1.1" class="ltx_text ltx_font_bold">Testing App.</span>
We implemented a simple testing App to test model inference. The App uses <em id="S4.SS2.p7.1.2" class="ltx_emph ltx_font_italic">AidlConnection</em> to interface with the FL Phone Manager. Let us note that the App itself does not access any data or model.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span><span id="S4.SS3.1.1" class="ltx_text ltx_font_italic">Cloud Implementation</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">The cloud implementation (right-side of Figure <a href="#S3.F1.sf1" title="In Figure 1 ‣ 3.1 System Requirements ‣ 3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1a</span></a>) consists of two main components: FL Cloud Manager and Model Aggregator.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">FL Cloud Manager.</span>
The FL Cloud Manager is implemented as a series of Lambda Functions (FaaS service in AWS).
When starting a training round, it reads a configuration file and determines the deadline for the round (i.e., the time when the round must finish). During the period between the start time and the deadline, the FL Cloud Manager accepts or denies clients’ requests for training (RTCm). When the deadline is reached, the FL Cloud Manager executes the Model Aggregator according to the Start for Aggregation policy (SFAp). The current policy checks if enough clients have submitted their local gradients in the AWS S3 (a configurable parameter). Then, the Lambda function implementing the FL CLoud Manager schedules an event for itself to perform the next training round and terminate. The training process stops when the pre-defined number of rounds is achieved, or the desired performance (model accuracy) is achieved, if the model developers provided a validation dataset.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Model Aggregator.</span>
For implementation simplicity, the Model Aggregator uses the federated average technique <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>, with the assumption that each client contributes equally to the global model in each training round.
When it is invoked, it loads the uploaded local gradients, and aggregates their gradients to the global model of this round. Once the global model is updated, the Model Aggregator invokes AWS SNS to notify clients that they can download the newly aggregated model. Note that the Model Aggregator is called dynamically through reflection, such that different aggregation functions can be dynamically swapped.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span><span id="S4.SS4.1.1" class="ltx_text ltx_font_italic">Asynchronous Federate Averaging Implementation</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4.4 Asynchronous Federate Averaging Implementation ‣ 4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the pseudo-code of our asynchronous federated averaging process. The algorithm consist of three procedures, which execute asynchronously. “ClientLoop” (lines 1-12) runs at clients and executes a round of training (lines 7-12), if the phone self-selects for training and the cloud accepts it (lines 1-6). “ServerRTCmHandler” (lines 13-17) is a part of the FL Cloud Manager and decides whether a phone is accepted for training. “ServerLoop” (lines 18-40) also runs at the FL Cloud Manager. It performs the aggregation of local gradients and controls the progression of training. The clients participating in a training round must submit their local gradients before the deadline for the round expires. When the deadline comes, the procedure first evaluates the Start for Aggregation policy, which checks whether there are enough local gradient updates in order to preform aggregation. If yes, the aggregation is preformed (line 24-26); if not, this round is aborted, but the uploaded gradient updates will be carried to the next round. After aggregation, the procedure may check against pre-defined conditions to decide whether this aggregation outcome should be accepted or not (lines 27-30). Finally, the procedure checks if a new round should be started by evaluating the Start New Round policy. If a new round is to be started, a new deadline will be set (lines 33-36). Otherwise, the procedure terminates.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption" style="font-size:70%;"><span class="ltx_tag ltx_tag_float"><span id="alg1.4.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> AsyncFedAveraging </figcaption>
<div id="alg1.5" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg1.l1.2" class="ltx_text ltx_font_bold" style="font-size:70%;">procedure</span><span id="alg1.l1.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l1.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">ClientLoop</span><span id="alg1.l1.5" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg1.l2.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l2.3" class="ltx_text ltx_font_bold" style="font-size:70%;">while</span><span id="alg1.l2.4" class="ltx_text" style="font-size:70%;"> true </span><span id="alg1.l2.5" class="ltx_text ltx_font_bold" style="font-size:70%;">do</span><span id="alg1.l2.6" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg1.l3.2" class="ltx_text" style="font-size:70%;">       </span><math id="alg1.l3.m1.1" class="ltx_Math" alttext="readyToConfig\leftarrow" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mrow id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l3.m1.1.1.2.2" xref="alg1.l3.m1.1.1.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.3" xref="alg1.l3.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1a" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.4" xref="alg1.l3.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1b" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.5" xref="alg1.l3.m1.1.1.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1c" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.6" xref="alg1.l3.m1.1.1.2.6.cmml">y</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1d" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.7" xref="alg1.l3.m1.1.1.2.7.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1e" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.8" xref="alg1.l3.m1.1.1.2.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1f" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.9" xref="alg1.l3.m1.1.1.2.9.cmml">C</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1g" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.10" xref="alg1.l3.m1.1.1.2.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1h" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.11" xref="alg1.l3.m1.1.1.2.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1i" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.12" xref="alg1.l3.m1.1.1.2.12.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1j" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.13" xref="alg1.l3.m1.1.1.2.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.2.1k" xref="alg1.l3.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m1.1.1.2.14" xref="alg1.l3.m1.1.1.2.14.cmml">g</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">←</mo><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">←</ci><apply id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2"><times id="alg1.l3.m1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.2.1"></times><ci id="alg1.l3.m1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.2.2">𝑟</ci><ci id="alg1.l3.m1.1.1.2.3.cmml" xref="alg1.l3.m1.1.1.2.3">𝑒</ci><ci id="alg1.l3.m1.1.1.2.4.cmml" xref="alg1.l3.m1.1.1.2.4">𝑎</ci><ci id="alg1.l3.m1.1.1.2.5.cmml" xref="alg1.l3.m1.1.1.2.5">𝑑</ci><ci id="alg1.l3.m1.1.1.2.6.cmml" xref="alg1.l3.m1.1.1.2.6">𝑦</ci><ci id="alg1.l3.m1.1.1.2.7.cmml" xref="alg1.l3.m1.1.1.2.7">𝑇</ci><ci id="alg1.l3.m1.1.1.2.8.cmml" xref="alg1.l3.m1.1.1.2.8">𝑜</ci><ci id="alg1.l3.m1.1.1.2.9.cmml" xref="alg1.l3.m1.1.1.2.9">𝐶</ci><ci id="alg1.l3.m1.1.1.2.10.cmml" xref="alg1.l3.m1.1.1.2.10">𝑜</ci><ci id="alg1.l3.m1.1.1.2.11.cmml" xref="alg1.l3.m1.1.1.2.11">𝑛</ci><ci id="alg1.l3.m1.1.1.2.12.cmml" xref="alg1.l3.m1.1.1.2.12">𝑓</ci><ci id="alg1.l3.m1.1.1.2.13.cmml" xref="alg1.l3.m1.1.1.2.13">𝑖</ci><ci id="alg1.l3.m1.1.1.2.14.cmml" xref="alg1.l3.m1.1.1.2.14">𝑔</ci></apply><csymbol cd="latexml" id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">readyToConfig\leftarrow</annotation></semantics></math><span id="alg1.l3.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l3.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">evaluateReadyToConfigPolicy</span><span id="alg1.l3.5" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l3.m2.1" class="ltx_Math" alttext="powerState" display="inline"><semantics id="alg1.l3.m2.1a"><mrow id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml"><mi mathsize="70%" id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1a" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.4" xref="alg1.l3.m2.1.1.4.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1b" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.5" xref="alg1.l3.m2.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1c" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.6" xref="alg1.l3.m2.1.1.6.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1d" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.7" xref="alg1.l3.m2.1.1.7.cmml">S</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1e" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.8" xref="alg1.l3.m2.1.1.8.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1f" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.9" xref="alg1.l3.m2.1.1.9.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1g" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.10" xref="alg1.l3.m2.1.1.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m2.1.1.1h" xref="alg1.l3.m2.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m2.1.1.11" xref="alg1.l3.m2.1.1.11.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1"><times id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1.1"></times><ci id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2">𝑝</ci><ci id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3">𝑜</ci><ci id="alg1.l3.m2.1.1.4.cmml" xref="alg1.l3.m2.1.1.4">𝑤</ci><ci id="alg1.l3.m2.1.1.5.cmml" xref="alg1.l3.m2.1.1.5">𝑒</ci><ci id="alg1.l3.m2.1.1.6.cmml" xref="alg1.l3.m2.1.1.6">𝑟</ci><ci id="alg1.l3.m2.1.1.7.cmml" xref="alg1.l3.m2.1.1.7">𝑆</ci><ci id="alg1.l3.m2.1.1.8.cmml" xref="alg1.l3.m2.1.1.8">𝑡</ci><ci id="alg1.l3.m2.1.1.9.cmml" xref="alg1.l3.m2.1.1.9">𝑎</ci><ci id="alg1.l3.m2.1.1.10.cmml" xref="alg1.l3.m2.1.1.10">𝑡</ci><ci id="alg1.l3.m2.1.1.11.cmml" xref="alg1.l3.m2.1.1.11">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">powerState</annotation></semantics></math><span id="alg1.l3.6" class="ltx_text" style="font-size:70%;">, </span><math id="alg1.l3.m3.1" class="ltx_Math" alttext="wifiState" display="inline"><semantics id="alg1.l3.m3.1a"><mrow id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml"><mi mathsize="70%" id="alg1.l3.m3.1.1.2" xref="alg1.l3.m3.1.1.2.cmml">w</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.3" xref="alg1.l3.m3.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1a" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.4" xref="alg1.l3.m3.1.1.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1b" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.5" xref="alg1.l3.m3.1.1.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1c" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.6" xref="alg1.l3.m3.1.1.6.cmml">S</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1d" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.7" xref="alg1.l3.m3.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1e" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.8" xref="alg1.l3.m3.1.1.8.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1f" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.9" xref="alg1.l3.m3.1.1.9.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l3.m3.1.1.1g" xref="alg1.l3.m3.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l3.m3.1.1.10" xref="alg1.l3.m3.1.1.10.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b"><apply id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1"><times id="alg1.l3.m3.1.1.1.cmml" xref="alg1.l3.m3.1.1.1"></times><ci id="alg1.l3.m3.1.1.2.cmml" xref="alg1.l3.m3.1.1.2">𝑤</ci><ci id="alg1.l3.m3.1.1.3.cmml" xref="alg1.l3.m3.1.1.3">𝑖</ci><ci id="alg1.l3.m3.1.1.4.cmml" xref="alg1.l3.m3.1.1.4">𝑓</ci><ci id="alg1.l3.m3.1.1.5.cmml" xref="alg1.l3.m3.1.1.5">𝑖</ci><ci id="alg1.l3.m3.1.1.6.cmml" xref="alg1.l3.m3.1.1.6">𝑆</ci><ci id="alg1.l3.m3.1.1.7.cmml" xref="alg1.l3.m3.1.1.7">𝑡</ci><ci id="alg1.l3.m3.1.1.8.cmml" xref="alg1.l3.m3.1.1.8">𝑎</ci><ci id="alg1.l3.m3.1.1.9.cmml" xref="alg1.l3.m3.1.1.9">𝑡</ci><ci id="alg1.l3.m3.1.1.10.cmml" xref="alg1.l3.m3.1.1.10">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.1c">wifiState</annotation></semantics></math><span id="alg1.l3.7" class="ltx_text" style="font-size:70%;">,…)
</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg1.l4.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l4.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l4.4" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l4.m1.1" class="ltx_Math" alttext="readyToConfig" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1a" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.4" xref="alg1.l4.m1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1b" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.5" xref="alg1.l4.m1.1.1.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1c" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.6" xref="alg1.l4.m1.1.1.6.cmml">y</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1d" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.7" xref="alg1.l4.m1.1.1.7.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1e" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.8" xref="alg1.l4.m1.1.1.8.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1f" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.9" xref="alg1.l4.m1.1.1.9.cmml">C</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1g" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.10" xref="alg1.l4.m1.1.1.10.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1h" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.11" xref="alg1.l4.m1.1.1.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1i" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.12" xref="alg1.l4.m1.1.1.12.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1j" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.13" xref="alg1.l4.m1.1.1.13.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.1.1k" xref="alg1.l4.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l4.m1.1.1.14" xref="alg1.l4.m1.1.1.14.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><times id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"></times><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝑟</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑒</ci><ci id="alg1.l4.m1.1.1.4.cmml" xref="alg1.l4.m1.1.1.4">𝑎</ci><ci id="alg1.l4.m1.1.1.5.cmml" xref="alg1.l4.m1.1.1.5">𝑑</ci><ci id="alg1.l4.m1.1.1.6.cmml" xref="alg1.l4.m1.1.1.6">𝑦</ci><ci id="alg1.l4.m1.1.1.7.cmml" xref="alg1.l4.m1.1.1.7">𝑇</ci><ci id="alg1.l4.m1.1.1.8.cmml" xref="alg1.l4.m1.1.1.8">𝑜</ci><ci id="alg1.l4.m1.1.1.9.cmml" xref="alg1.l4.m1.1.1.9">𝐶</ci><ci id="alg1.l4.m1.1.1.10.cmml" xref="alg1.l4.m1.1.1.10">𝑜</ci><ci id="alg1.l4.m1.1.1.11.cmml" xref="alg1.l4.m1.1.1.11">𝑛</ci><ci id="alg1.l4.m1.1.1.12.cmml" xref="alg1.l4.m1.1.1.12">𝑓</ci><ci id="alg1.l4.m1.1.1.13.cmml" xref="alg1.l4.m1.1.1.13">𝑖</ci><ci id="alg1.l4.m1.1.1.14.cmml" xref="alg1.l4.m1.1.1.14">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">readyToConfig</annotation></semantics></math><span id="alg1.l4.5" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l4.6" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l4.7" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg1.l5.2" class="ltx_text" style="font-size:70%;">          </span><math id="alg1.l5.m1.1" class="ltx_Math" alttext="response\leftarrow" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mrow id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l5.m1.1.1.2.2" xref="alg1.l5.m1.1.1.2.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.3" xref="alg1.l5.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1a" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.4" xref="alg1.l5.m1.1.1.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1b" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.5" xref="alg1.l5.m1.1.1.2.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1c" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.6" xref="alg1.l5.m1.1.1.2.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1d" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.7" xref="alg1.l5.m1.1.1.2.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1e" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.8" xref="alg1.l5.m1.1.1.2.8.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l5.m1.1.1.2.1f" xref="alg1.l5.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l5.m1.1.1.2.9" xref="alg1.l5.m1.1.1.2.9.cmml">e</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">←</mo><mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">←</ci><apply id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2"><times id="alg1.l5.m1.1.1.2.1.cmml" xref="alg1.l5.m1.1.1.2.1"></times><ci id="alg1.l5.m1.1.1.2.2.cmml" xref="alg1.l5.m1.1.1.2.2">𝑟</ci><ci id="alg1.l5.m1.1.1.2.3.cmml" xref="alg1.l5.m1.1.1.2.3">𝑒</ci><ci id="alg1.l5.m1.1.1.2.4.cmml" xref="alg1.l5.m1.1.1.2.4">𝑠</ci><ci id="alg1.l5.m1.1.1.2.5.cmml" xref="alg1.l5.m1.1.1.2.5">𝑝</ci><ci id="alg1.l5.m1.1.1.2.6.cmml" xref="alg1.l5.m1.1.1.2.6">𝑜</ci><ci id="alg1.l5.m1.1.1.2.7.cmml" xref="alg1.l5.m1.1.1.2.7">𝑛</ci><ci id="alg1.l5.m1.1.1.2.8.cmml" xref="alg1.l5.m1.1.1.2.8">𝑠</ci><ci id="alg1.l5.m1.1.1.2.9.cmml" xref="alg1.l5.m1.1.1.2.9">𝑒</ci></apply><csymbol cd="latexml" id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">response\leftarrow</annotation></semantics></math><span id="alg1.l5.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l5.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">sendRTCm</span><span id="alg1.l5.5" class="ltx_text" style="font-size:70%;">( )
</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg1.l6.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l6.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l6.4" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l6.m1.1" class="ltx_Math" alttext="response" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1a" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.4" xref="alg1.l6.m1.1.1.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1b" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.5" xref="alg1.l6.m1.1.1.5.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1c" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.6" xref="alg1.l6.m1.1.1.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1d" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.7" xref="alg1.l6.m1.1.1.7.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1e" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.8" xref="alg1.l6.m1.1.1.8.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.1f" xref="alg1.l6.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l6.m1.1.1.9" xref="alg1.l6.m1.1.1.9.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><times id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1"></times><ci id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2">𝑟</ci><ci id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3">𝑒</ci><ci id="alg1.l6.m1.1.1.4.cmml" xref="alg1.l6.m1.1.1.4">𝑠</ci><ci id="alg1.l6.m1.1.1.5.cmml" xref="alg1.l6.m1.1.1.5">𝑝</ci><ci id="alg1.l6.m1.1.1.6.cmml" xref="alg1.l6.m1.1.1.6">𝑜</ci><ci id="alg1.l6.m1.1.1.7.cmml" xref="alg1.l6.m1.1.1.7">𝑛</ci><ci id="alg1.l6.m1.1.1.8.cmml" xref="alg1.l6.m1.1.1.8">𝑠</ci><ci id="alg1.l6.m1.1.1.9.cmml" xref="alg1.l6.m1.1.1.9">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">response</annotation></semantics></math><span id="alg1.l6.5" class="ltx_text" style="font-size:70%;"> == “AFT” </span><span id="alg1.l6.6" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l6.7" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg1.l7.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l7.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow" display="inline"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="70%" id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">ℬ</mi><mo mathsize="70%" stretchy="false" id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">←</mo><mi id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><ci id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1">←</ci><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">ℬ</ci><csymbol cd="latexml" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\mathcal{B}\leftarrow</annotation></semantics></math><span id="alg1.l7.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l7.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">sampling</span><span id="alg1.l7.5" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l7.m2.1" class="ltx_Math" alttext="\mathcal{D_{L}}" display="inline"><semantics id="alg1.l7.m2.1a"><msub id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="70%" id="alg1.l7.m2.1.1.2" xref="alg1.l7.m2.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="70%" id="alg1.l7.m2.1.1.3" xref="alg1.l7.m2.1.1.3.cmml">ℒ</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><apply id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1"><csymbol cd="ambiguous" id="alg1.l7.m2.1.1.1.cmml" xref="alg1.l7.m2.1.1">subscript</csymbol><ci id="alg1.l7.m2.1.1.2.cmml" xref="alg1.l7.m2.1.1.2">𝒟</ci><ci id="alg1.l7.m2.1.1.3.cmml" xref="alg1.l7.m2.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">\mathcal{D_{L}}</annotation></semantics></math><span id="alg1.l7.6" class="ltx_text" style="font-size:70%;">)
</span>
</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg1.l8.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l8.m1.1" class="ltx_Math" alttext="\theta_{l}\leftarrow\theta^{t}" display="inline"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msub id="alg1.l8.m1.1.1.2" xref="alg1.l8.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l8.m1.1.1.2.2" xref="alg1.l8.m1.1.1.2.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l8.m1.1.1.2.3" xref="alg1.l8.m1.1.1.2.3.cmml">l</mi></msub><mo mathsize="70%" stretchy="false" id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml">←</mo><msup id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><ci id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1">←</ci><apply id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.2.1.cmml" xref="alg1.l8.m1.1.1.2">subscript</csymbol><ci id="alg1.l8.m1.1.1.2.2.cmml" xref="alg1.l8.m1.1.1.2.2">𝜃</ci><ci id="alg1.l8.m1.1.1.2.3.cmml" xref="alg1.l8.m1.1.1.2.3">𝑙</ci></apply><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3">superscript</csymbol><ci id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2">𝜃</ci><ci id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\theta_{l}\leftarrow\theta^{t}</annotation></semantics></math><span id="alg1.l8.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg1.l9.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l9.3" class="ltx_text ltx_font_bold" style="font-size:70%;">for</span><span id="alg1.l9.4" class="ltx_text" style="font-size:70%;"> batch </span><math id="alg1.l9.m1.1" class="ltx_Math" alttext="b\in\mathcal{B}" display="inline"><semantics id="alg1.l9.m1.1a"><mrow id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l9.m1.1.1.2" xref="alg1.l9.m1.1.1.2.cmml">b</mi><mo mathsize="70%" id="alg1.l9.m1.1.1.1" xref="alg1.l9.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" mathsize="70%" id="alg1.l9.m1.1.1.3" xref="alg1.l9.m1.1.1.3.cmml">ℬ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.1b"><apply id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1"><in id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1"></in><ci id="alg1.l9.m1.1.1.2.cmml" xref="alg1.l9.m1.1.1.2">𝑏</ci><ci id="alg1.l9.m1.1.1.3.cmml" xref="alg1.l9.m1.1.1.3">ℬ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.1c">b\in\mathcal{B}</annotation></semantics></math><span id="alg1.l9.5" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l9.6" class="ltx_text ltx_font_bold" style="font-size:70%;">do</span><span id="alg1.l9.7" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg1.l10.2" class="ltx_text" style="font-size:70%;">                </span><math id="alg1.l10.m1.2" class="ltx_Math" alttext="\theta_{l}\leftarrow\theta_{l}-\eta\nabla\mathcal{L}(\theta_{l};b)" display="inline"><semantics id="alg1.l10.m1.2a"><mrow id="alg1.l10.m1.2.2" xref="alg1.l10.m1.2.2.cmml"><msub id="alg1.l10.m1.2.2.3" xref="alg1.l10.m1.2.2.3.cmml"><mi mathsize="70%" id="alg1.l10.m1.2.2.3.2" xref="alg1.l10.m1.2.2.3.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l10.m1.2.2.3.3" xref="alg1.l10.m1.2.2.3.3.cmml">l</mi></msub><mo mathsize="70%" stretchy="false" id="alg1.l10.m1.2.2.2" xref="alg1.l10.m1.2.2.2.cmml">←</mo><mrow id="alg1.l10.m1.2.2.1" xref="alg1.l10.m1.2.2.1.cmml"><msub id="alg1.l10.m1.2.2.1.3" xref="alg1.l10.m1.2.2.1.3.cmml"><mi mathsize="70%" id="alg1.l10.m1.2.2.1.3.2" xref="alg1.l10.m1.2.2.1.3.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l10.m1.2.2.1.3.3" xref="alg1.l10.m1.2.2.1.3.3.cmml">l</mi></msub><mo mathsize="70%" id="alg1.l10.m1.2.2.1.2" xref="alg1.l10.m1.2.2.1.2.cmml">−</mo><mrow id="alg1.l10.m1.2.2.1.1" xref="alg1.l10.m1.2.2.1.1.cmml"><mi mathsize="70%" id="alg1.l10.m1.2.2.1.1.3" xref="alg1.l10.m1.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg1.l10.m1.2.2.1.1.2" xref="alg1.l10.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.2.2.1.1.4" xref="alg1.l10.m1.2.2.1.1.4.cmml"><mo mathsize="70%" rspace="0.167em" id="alg1.l10.m1.2.2.1.1.4.1" xref="alg1.l10.m1.2.2.1.1.4.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" mathsize="70%" id="alg1.l10.m1.2.2.1.1.4.2" xref="alg1.l10.m1.2.2.1.1.4.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.l10.m1.2.2.1.1.2a" xref="alg1.l10.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg1.l10.m1.2.2.1.1.1.1" xref="alg1.l10.m1.2.2.1.1.1.2.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l10.m1.2.2.1.1.1.1.2" xref="alg1.l10.m1.2.2.1.1.1.2.cmml">(</mo><msub id="alg1.l10.m1.2.2.1.1.1.1.1" xref="alg1.l10.m1.2.2.1.1.1.1.1.cmml"><mi mathsize="70%" id="alg1.l10.m1.2.2.1.1.1.1.1.2" xref="alg1.l10.m1.2.2.1.1.1.1.1.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l10.m1.2.2.1.1.1.1.1.3" xref="alg1.l10.m1.2.2.1.1.1.1.1.3.cmml">l</mi></msub><mo mathsize="70%" id="alg1.l10.m1.2.2.1.1.1.1.3" xref="alg1.l10.m1.2.2.1.1.1.2.cmml">;</mo><mi mathsize="70%" id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml">b</mi><mo maxsize="70%" minsize="70%" id="alg1.l10.m1.2.2.1.1.1.1.4" xref="alg1.l10.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.2b"><apply id="alg1.l10.m1.2.2.cmml" xref="alg1.l10.m1.2.2"><ci id="alg1.l10.m1.2.2.2.cmml" xref="alg1.l10.m1.2.2.2">←</ci><apply id="alg1.l10.m1.2.2.3.cmml" xref="alg1.l10.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.3.1.cmml" xref="alg1.l10.m1.2.2.3">subscript</csymbol><ci id="alg1.l10.m1.2.2.3.2.cmml" xref="alg1.l10.m1.2.2.3.2">𝜃</ci><ci id="alg1.l10.m1.2.2.3.3.cmml" xref="alg1.l10.m1.2.2.3.3">𝑙</ci></apply><apply id="alg1.l10.m1.2.2.1.cmml" xref="alg1.l10.m1.2.2.1"><minus id="alg1.l10.m1.2.2.1.2.cmml" xref="alg1.l10.m1.2.2.1.2"></minus><apply id="alg1.l10.m1.2.2.1.3.cmml" xref="alg1.l10.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.1.3.1.cmml" xref="alg1.l10.m1.2.2.1.3">subscript</csymbol><ci id="alg1.l10.m1.2.2.1.3.2.cmml" xref="alg1.l10.m1.2.2.1.3.2">𝜃</ci><ci id="alg1.l10.m1.2.2.1.3.3.cmml" xref="alg1.l10.m1.2.2.1.3.3">𝑙</ci></apply><apply id="alg1.l10.m1.2.2.1.1.cmml" xref="alg1.l10.m1.2.2.1.1"><times id="alg1.l10.m1.2.2.1.1.2.cmml" xref="alg1.l10.m1.2.2.1.1.2"></times><ci id="alg1.l10.m1.2.2.1.1.3.cmml" xref="alg1.l10.m1.2.2.1.1.3">𝜂</ci><apply id="alg1.l10.m1.2.2.1.1.4.cmml" xref="alg1.l10.m1.2.2.1.1.4"><ci id="alg1.l10.m1.2.2.1.1.4.1.cmml" xref="alg1.l10.m1.2.2.1.1.4.1">∇</ci><ci id="alg1.l10.m1.2.2.1.1.4.2.cmml" xref="alg1.l10.m1.2.2.1.1.4.2">ℒ</ci></apply><list id="alg1.l10.m1.2.2.1.1.1.2.cmml" xref="alg1.l10.m1.2.2.1.1.1.1"><apply id="alg1.l10.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.2.2.1.1.1.1.1.1.cmml" xref="alg1.l10.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="alg1.l10.m1.2.2.1.1.1.1.1.2.cmml" xref="alg1.l10.m1.2.2.1.1.1.1.1.2">𝜃</ci><ci id="alg1.l10.m1.2.2.1.1.1.1.1.3.cmml" xref="alg1.l10.m1.2.2.1.1.1.1.1.3">𝑙</ci></apply><ci id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.2c">\theta_{l}\leftarrow\theta_{l}-\eta\nabla\mathcal{L}(\theta_{l};b)</annotation></semantics></math><span id="alg1.l10.3" class="ltx_text" style="font-size:70%;">
             </span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg1.l11.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l11.m1.1" class="ltx_Math" alttext="\Delta_{l}\leftarrow\theta_{l}-\theta^{t}" display="inline"><semantics id="alg1.l11.m1.1a"><mrow id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml"><msub id="alg1.l11.m1.1.1.2" xref="alg1.l11.m1.1.1.2.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l11.m1.1.1.2.2" xref="alg1.l11.m1.1.1.2.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l11.m1.1.1.2.3" xref="alg1.l11.m1.1.1.2.3.cmml">l</mi></msub><mo mathsize="70%" stretchy="false" id="alg1.l11.m1.1.1.1" xref="alg1.l11.m1.1.1.1.cmml">←</mo><mrow id="alg1.l11.m1.1.1.3" xref="alg1.l11.m1.1.1.3.cmml"><msub id="alg1.l11.m1.1.1.3.2" xref="alg1.l11.m1.1.1.3.2.cmml"><mi mathsize="70%" id="alg1.l11.m1.1.1.3.2.2" xref="alg1.l11.m1.1.1.3.2.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l11.m1.1.1.3.2.3" xref="alg1.l11.m1.1.1.3.2.3.cmml">l</mi></msub><mo mathsize="70%" id="alg1.l11.m1.1.1.3.1" xref="alg1.l11.m1.1.1.3.1.cmml">−</mo><msup id="alg1.l11.m1.1.1.3.3" xref="alg1.l11.m1.1.1.3.3.cmml"><mi mathsize="70%" id="alg1.l11.m1.1.1.3.3.2" xref="alg1.l11.m1.1.1.3.3.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l11.m1.1.1.3.3.3" xref="alg1.l11.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><apply id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1"><ci id="alg1.l11.m1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1">←</ci><apply id="alg1.l11.m1.1.1.2.cmml" xref="alg1.l11.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.2.1.cmml" xref="alg1.l11.m1.1.1.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.2.2.cmml" xref="alg1.l11.m1.1.1.2.2">Δ</ci><ci id="alg1.l11.m1.1.1.2.3.cmml" xref="alg1.l11.m1.1.1.2.3">𝑙</ci></apply><apply id="alg1.l11.m1.1.1.3.cmml" xref="alg1.l11.m1.1.1.3"><minus id="alg1.l11.m1.1.1.3.1.cmml" xref="alg1.l11.m1.1.1.3.1"></minus><apply id="alg1.l11.m1.1.1.3.2.cmml" xref="alg1.l11.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.2.1.cmml" xref="alg1.l11.m1.1.1.3.2">subscript</csymbol><ci id="alg1.l11.m1.1.1.3.2.2.cmml" xref="alg1.l11.m1.1.1.3.2.2">𝜃</ci><ci id="alg1.l11.m1.1.1.3.2.3.cmml" xref="alg1.l11.m1.1.1.3.2.3">𝑙</ci></apply><apply id="alg1.l11.m1.1.1.3.3.cmml" xref="alg1.l11.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.l11.m1.1.1.3.3.1.cmml" xref="alg1.l11.m1.1.1.3.3">superscript</csymbol><ci id="alg1.l11.m1.1.1.3.3.2.cmml" xref="alg1.l11.m1.1.1.3.3.2">𝜃</ci><ci id="alg1.l11.m1.1.1.3.3.3.cmml" xref="alg1.l11.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">\Delta_{l}\leftarrow\theta_{l}-\theta^{t}</annotation></semantics></math><span id="alg1.l11.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg1.l12.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l12.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">uploadClientGradients</span><span id="alg1.l12.4" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l12.m1.1" class="ltx_Math" alttext="\Delta_{l}" display="inline"><semantics id="alg1.l12.m1.1a"><msub id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1">subscript</csymbol><ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">Δ</ci><ci id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">\Delta_{l}</annotation></semantics></math><span id="alg1.l12.5" class="ltx_text" style="font-size:70%;">)
                     </span>
</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg1.l13.2" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span><span id="alg1.l14.2" class="ltx_text ltx_font_bold" style="font-size:70%;">procedure</span><span id="alg1.l14.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l14.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">ServerRTCmHandler</span><span id="alg1.l14.5" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l14.m1.1" class="ltx_Math" alttext="RTCm" display="inline"><semantics id="alg1.l14.m1.1a"><mrow id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l14.m1.1.1.2" xref="alg1.l14.m1.1.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.1" xref="alg1.l14.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l14.m1.1.1.3" xref="alg1.l14.m1.1.1.3.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.1a" xref="alg1.l14.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l14.m1.1.1.4" xref="alg1.l14.m1.1.1.4.cmml">C</mi><mo lspace="0em" rspace="0em" id="alg1.l14.m1.1.1.1b" xref="alg1.l14.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l14.m1.1.1.5" xref="alg1.l14.m1.1.1.5.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><apply id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1"><times id="alg1.l14.m1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1"></times><ci id="alg1.l14.m1.1.1.2.cmml" xref="alg1.l14.m1.1.1.2">𝑅</ci><ci id="alg1.l14.m1.1.1.3.cmml" xref="alg1.l14.m1.1.1.3">𝑇</ci><ci id="alg1.l14.m1.1.1.4.cmml" xref="alg1.l14.m1.1.1.4">𝐶</ci><ci id="alg1.l14.m1.1.1.5.cmml" xref="alg1.l14.m1.1.1.5">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">RTCm</annotation></semantics></math><span id="alg1.l14.6" class="ltx_text" style="font-size:70%;">)
</span>
</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span><span id="alg1.l15.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l15.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l15.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l15.5" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">evaluateAcceptForTrainingPolicy</span><span id="alg1.l15.6" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l15.m1.1" class="ltx_Math" alttext="RTCm" display="inline"><semantics id="alg1.l15.m1.1a"><mrow id="alg1.l15.m1.1.1" xref="alg1.l15.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l15.m1.1.1.2" xref="alg1.l15.m1.1.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.1.1.1" xref="alg1.l15.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l15.m1.1.1.3" xref="alg1.l15.m1.1.1.3.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.1.1.1a" xref="alg1.l15.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l15.m1.1.1.4" xref="alg1.l15.m1.1.1.4.cmml">C</mi><mo lspace="0em" rspace="0em" id="alg1.l15.m1.1.1.1b" xref="alg1.l15.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l15.m1.1.1.5" xref="alg1.l15.m1.1.1.5.cmml">m</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.m1.1b"><apply id="alg1.l15.m1.1.1.cmml" xref="alg1.l15.m1.1.1"><times id="alg1.l15.m1.1.1.1.cmml" xref="alg1.l15.m1.1.1.1"></times><ci id="alg1.l15.m1.1.1.2.cmml" xref="alg1.l15.m1.1.1.2">𝑅</ci><ci id="alg1.l15.m1.1.1.3.cmml" xref="alg1.l15.m1.1.1.3">𝑇</ci><ci id="alg1.l15.m1.1.1.4.cmml" xref="alg1.l15.m1.1.1.4">𝐶</ci><ci id="alg1.l15.m1.1.1.5.cmml" xref="alg1.l15.m1.1.1.5">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.m1.1c">RTCm</annotation></semantics></math><span id="alg1.l15.7" class="ltx_text" style="font-size:70%;">) </span><span id="alg1.l15.8" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l15.9" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span><span id="alg1.l16.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l16.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">returnResponse</span><span id="alg1.l16.4" class="ltx_text" style="font-size:70%;">(“AFT”)
</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span><span id="alg1.l17.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l17.3" class="ltx_text ltx_font_bold" style="font-size:70%;">else</span>
</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span><span id="alg1.l18.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l18.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">returnResponse</span><span id="alg1.l18.4" class="ltx_text" style="font-size:70%;">(“DFT”)
    </span>
</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span><span id="alg1.l19.2" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span><span id="alg1.l20.2" class="ltx_text ltx_font_bold" style="font-size:70%;">procedure</span><span id="alg1.l20.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l20.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">ServerLoop</span><span id="alg1.l20.5" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span><span id="alg1.l21.2" class="ltx_text" style="font-size:70%;">    </span><math id="alg1.l21.m1.1" class="ltx_Math" alttext="deadlineTriggered\leftarrow false" display="inline"><semantics id="alg1.l21.m1.1a"><mrow id="alg1.l21.m1.1.1" xref="alg1.l21.m1.1.1.cmml"><mrow id="alg1.l21.m1.1.1.2" xref="alg1.l21.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l21.m1.1.1.2.2" xref="alg1.l21.m1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.3" xref="alg1.l21.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1a" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.4" xref="alg1.l21.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1b" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.5" xref="alg1.l21.m1.1.1.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1c" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.6" xref="alg1.l21.m1.1.1.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1d" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.7" xref="alg1.l21.m1.1.1.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1e" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.8" xref="alg1.l21.m1.1.1.2.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1f" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.9" xref="alg1.l21.m1.1.1.2.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1g" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.10" xref="alg1.l21.m1.1.1.2.10.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1h" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.11" xref="alg1.l21.m1.1.1.2.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1i" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.12" xref="alg1.l21.m1.1.1.2.12.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1j" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.13" xref="alg1.l21.m1.1.1.2.13.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1k" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.14" xref="alg1.l21.m1.1.1.2.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1l" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.15" xref="alg1.l21.m1.1.1.2.15.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1m" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.16" xref="alg1.l21.m1.1.1.2.16.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1n" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.17" xref="alg1.l21.m1.1.1.2.17.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.2.1o" xref="alg1.l21.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.2.18" xref="alg1.l21.m1.1.1.2.18.cmml">d</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l21.m1.1.1.1" xref="alg1.l21.m1.1.1.1.cmml">←</mo><mrow id="alg1.l21.m1.1.1.3" xref="alg1.l21.m1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l21.m1.1.1.3.2" xref="alg1.l21.m1.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.3.1" xref="alg1.l21.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.3.3" xref="alg1.l21.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.3.1a" xref="alg1.l21.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.3.4" xref="alg1.l21.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.3.1b" xref="alg1.l21.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.3.5" xref="alg1.l21.m1.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l21.m1.1.1.3.1c" xref="alg1.l21.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l21.m1.1.1.3.6" xref="alg1.l21.m1.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l21.m1.1b"><apply id="alg1.l21.m1.1.1.cmml" xref="alg1.l21.m1.1.1"><ci id="alg1.l21.m1.1.1.1.cmml" xref="alg1.l21.m1.1.1.1">←</ci><apply id="alg1.l21.m1.1.1.2.cmml" xref="alg1.l21.m1.1.1.2"><times id="alg1.l21.m1.1.1.2.1.cmml" xref="alg1.l21.m1.1.1.2.1"></times><ci id="alg1.l21.m1.1.1.2.2.cmml" xref="alg1.l21.m1.1.1.2.2">𝑑</ci><ci id="alg1.l21.m1.1.1.2.3.cmml" xref="alg1.l21.m1.1.1.2.3">𝑒</ci><ci id="alg1.l21.m1.1.1.2.4.cmml" xref="alg1.l21.m1.1.1.2.4">𝑎</ci><ci id="alg1.l21.m1.1.1.2.5.cmml" xref="alg1.l21.m1.1.1.2.5">𝑑</ci><ci id="alg1.l21.m1.1.1.2.6.cmml" xref="alg1.l21.m1.1.1.2.6">𝑙</ci><ci id="alg1.l21.m1.1.1.2.7.cmml" xref="alg1.l21.m1.1.1.2.7">𝑖</ci><ci id="alg1.l21.m1.1.1.2.8.cmml" xref="alg1.l21.m1.1.1.2.8">𝑛</ci><ci id="alg1.l21.m1.1.1.2.9.cmml" xref="alg1.l21.m1.1.1.2.9">𝑒</ci><ci id="alg1.l21.m1.1.1.2.10.cmml" xref="alg1.l21.m1.1.1.2.10">𝑇</ci><ci id="alg1.l21.m1.1.1.2.11.cmml" xref="alg1.l21.m1.1.1.2.11">𝑟</ci><ci id="alg1.l21.m1.1.1.2.12.cmml" xref="alg1.l21.m1.1.1.2.12">𝑖</ci><ci id="alg1.l21.m1.1.1.2.13.cmml" xref="alg1.l21.m1.1.1.2.13">𝑔</ci><ci id="alg1.l21.m1.1.1.2.14.cmml" xref="alg1.l21.m1.1.1.2.14">𝑔</ci><ci id="alg1.l21.m1.1.1.2.15.cmml" xref="alg1.l21.m1.1.1.2.15">𝑒</ci><ci id="alg1.l21.m1.1.1.2.16.cmml" xref="alg1.l21.m1.1.1.2.16">𝑟</ci><ci id="alg1.l21.m1.1.1.2.17.cmml" xref="alg1.l21.m1.1.1.2.17">𝑒</ci><ci id="alg1.l21.m1.1.1.2.18.cmml" xref="alg1.l21.m1.1.1.2.18">𝑑</ci></apply><apply id="alg1.l21.m1.1.1.3.cmml" xref="alg1.l21.m1.1.1.3"><times id="alg1.l21.m1.1.1.3.1.cmml" xref="alg1.l21.m1.1.1.3.1"></times><ci id="alg1.l21.m1.1.1.3.2.cmml" xref="alg1.l21.m1.1.1.3.2">𝑓</ci><ci id="alg1.l21.m1.1.1.3.3.cmml" xref="alg1.l21.m1.1.1.3.3">𝑎</ci><ci id="alg1.l21.m1.1.1.3.4.cmml" xref="alg1.l21.m1.1.1.3.4">𝑙</ci><ci id="alg1.l21.m1.1.1.3.5.cmml" xref="alg1.l21.m1.1.1.3.5">𝑠</ci><ci id="alg1.l21.m1.1.1.3.6.cmml" xref="alg1.l21.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l21.m1.1c">deadlineTriggered\leftarrow false</annotation></semantics></math><span id="alg1.l21.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span><span id="alg1.l22.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l22.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">setupDeadline</span><span id="alg1.l22.4" class="ltx_text" style="font-size:70%;">( ) (</span><math id="alg1.l22.m1.1" class="ltx_Math" alttext="deadlineTriggered\leftarrow true" display="inline"><semantics id="alg1.l22.m1.1a"><mrow id="alg1.l22.m1.1.1" xref="alg1.l22.m1.1.1.cmml"><mrow id="alg1.l22.m1.1.1.2" xref="alg1.l22.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l22.m1.1.1.2.2" xref="alg1.l22.m1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.3" xref="alg1.l22.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1a" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.4" xref="alg1.l22.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1b" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.5" xref="alg1.l22.m1.1.1.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1c" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.6" xref="alg1.l22.m1.1.1.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1d" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.7" xref="alg1.l22.m1.1.1.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1e" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.8" xref="alg1.l22.m1.1.1.2.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1f" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.9" xref="alg1.l22.m1.1.1.2.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1g" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.10" xref="alg1.l22.m1.1.1.2.10.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1h" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.11" xref="alg1.l22.m1.1.1.2.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1i" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.12" xref="alg1.l22.m1.1.1.2.12.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1j" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.13" xref="alg1.l22.m1.1.1.2.13.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1k" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.14" xref="alg1.l22.m1.1.1.2.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1l" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.15" xref="alg1.l22.m1.1.1.2.15.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1m" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.16" xref="alg1.l22.m1.1.1.2.16.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1n" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.17" xref="alg1.l22.m1.1.1.2.17.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.2.1o" xref="alg1.l22.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.2.18" xref="alg1.l22.m1.1.1.2.18.cmml">d</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l22.m1.1.1.1" xref="alg1.l22.m1.1.1.1.cmml">←</mo><mrow id="alg1.l22.m1.1.1.3" xref="alg1.l22.m1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l22.m1.1.1.3.2" xref="alg1.l22.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.3.1" xref="alg1.l22.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.3.3" xref="alg1.l22.m1.1.1.3.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.3.1a" xref="alg1.l22.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.3.4" xref="alg1.l22.m1.1.1.3.4.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l22.m1.1.1.3.1b" xref="alg1.l22.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l22.m1.1.1.3.5" xref="alg1.l22.m1.1.1.3.5.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l22.m1.1b"><apply id="alg1.l22.m1.1.1.cmml" xref="alg1.l22.m1.1.1"><ci id="alg1.l22.m1.1.1.1.cmml" xref="alg1.l22.m1.1.1.1">←</ci><apply id="alg1.l22.m1.1.1.2.cmml" xref="alg1.l22.m1.1.1.2"><times id="alg1.l22.m1.1.1.2.1.cmml" xref="alg1.l22.m1.1.1.2.1"></times><ci id="alg1.l22.m1.1.1.2.2.cmml" xref="alg1.l22.m1.1.1.2.2">𝑑</ci><ci id="alg1.l22.m1.1.1.2.3.cmml" xref="alg1.l22.m1.1.1.2.3">𝑒</ci><ci id="alg1.l22.m1.1.1.2.4.cmml" xref="alg1.l22.m1.1.1.2.4">𝑎</ci><ci id="alg1.l22.m1.1.1.2.5.cmml" xref="alg1.l22.m1.1.1.2.5">𝑑</ci><ci id="alg1.l22.m1.1.1.2.6.cmml" xref="alg1.l22.m1.1.1.2.6">𝑙</ci><ci id="alg1.l22.m1.1.1.2.7.cmml" xref="alg1.l22.m1.1.1.2.7">𝑖</ci><ci id="alg1.l22.m1.1.1.2.8.cmml" xref="alg1.l22.m1.1.1.2.8">𝑛</ci><ci id="alg1.l22.m1.1.1.2.9.cmml" xref="alg1.l22.m1.1.1.2.9">𝑒</ci><ci id="alg1.l22.m1.1.1.2.10.cmml" xref="alg1.l22.m1.1.1.2.10">𝑇</ci><ci id="alg1.l22.m1.1.1.2.11.cmml" xref="alg1.l22.m1.1.1.2.11">𝑟</ci><ci id="alg1.l22.m1.1.1.2.12.cmml" xref="alg1.l22.m1.1.1.2.12">𝑖</ci><ci id="alg1.l22.m1.1.1.2.13.cmml" xref="alg1.l22.m1.1.1.2.13">𝑔</ci><ci id="alg1.l22.m1.1.1.2.14.cmml" xref="alg1.l22.m1.1.1.2.14">𝑔</ci><ci id="alg1.l22.m1.1.1.2.15.cmml" xref="alg1.l22.m1.1.1.2.15">𝑒</ci><ci id="alg1.l22.m1.1.1.2.16.cmml" xref="alg1.l22.m1.1.1.2.16">𝑟</ci><ci id="alg1.l22.m1.1.1.2.17.cmml" xref="alg1.l22.m1.1.1.2.17">𝑒</ci><ci id="alg1.l22.m1.1.1.2.18.cmml" xref="alg1.l22.m1.1.1.2.18">𝑑</ci></apply><apply id="alg1.l22.m1.1.1.3.cmml" xref="alg1.l22.m1.1.1.3"><times id="alg1.l22.m1.1.1.3.1.cmml" xref="alg1.l22.m1.1.1.3.1"></times><ci id="alg1.l22.m1.1.1.3.2.cmml" xref="alg1.l22.m1.1.1.3.2">𝑡</ci><ci id="alg1.l22.m1.1.1.3.3.cmml" xref="alg1.l22.m1.1.1.3.3">𝑟</ci><ci id="alg1.l22.m1.1.1.3.4.cmml" xref="alg1.l22.m1.1.1.3.4">𝑢</ci><ci id="alg1.l22.m1.1.1.3.5.cmml" xref="alg1.l22.m1.1.1.3.5">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l22.m1.1c">deadlineTriggered\leftarrow true</annotation></semantics></math><span id="alg1.l22.5" class="ltx_text" style="font-size:70%;"> when triggered)
</span>
</div>
<div id="alg1.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l23.1.1.1" class="ltx_text" style="font-size:80%;">23:</span></span><span id="alg1.l23.2" class="ltx_text" style="font-size:70%;">    </span><span id="alg1.l23.3" class="ltx_text ltx_font_bold" style="font-size:70%;">while</span><span id="alg1.l23.4" class="ltx_text" style="font-size:70%;"> true </span><span id="alg1.l23.5" class="ltx_text ltx_font_bold" style="font-size:70%;">do</span><span id="alg1.l23.6" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l24" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l24.1.1.1" class="ltx_text" style="font-size:80%;">24:</span></span><span id="alg1.l24.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l24.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l24.4" class="ltx_text" style="font-size:70%;"> </span><math id="alg1.l24.m1.1" class="ltx_Math" alttext="deadlineTriggered" display="inline"><semantics id="alg1.l24.m1.1a"><mrow id="alg1.l24.m1.1.1" xref="alg1.l24.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l24.m1.1.1.2" xref="alg1.l24.m1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.3" xref="alg1.l24.m1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1a" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.4" xref="alg1.l24.m1.1.1.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1b" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.5" xref="alg1.l24.m1.1.1.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1c" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.6" xref="alg1.l24.m1.1.1.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1d" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.7" xref="alg1.l24.m1.1.1.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1e" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.8" xref="alg1.l24.m1.1.1.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1f" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.9" xref="alg1.l24.m1.1.1.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1g" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.10" xref="alg1.l24.m1.1.1.10.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1h" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.11" xref="alg1.l24.m1.1.1.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1i" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.12" xref="alg1.l24.m1.1.1.12.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1j" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.13" xref="alg1.l24.m1.1.1.13.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1k" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.14" xref="alg1.l24.m1.1.1.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1l" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.15" xref="alg1.l24.m1.1.1.15.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1m" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.16" xref="alg1.l24.m1.1.1.16.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1n" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.17" xref="alg1.l24.m1.1.1.17.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l24.m1.1.1.1o" xref="alg1.l24.m1.1.1.1.cmml">​</mo><mi mathsize="70%" id="alg1.l24.m1.1.1.18" xref="alg1.l24.m1.1.1.18.cmml">d</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l24.m1.1b"><apply id="alg1.l24.m1.1.1.cmml" xref="alg1.l24.m1.1.1"><times id="alg1.l24.m1.1.1.1.cmml" xref="alg1.l24.m1.1.1.1"></times><ci id="alg1.l24.m1.1.1.2.cmml" xref="alg1.l24.m1.1.1.2">𝑑</ci><ci id="alg1.l24.m1.1.1.3.cmml" xref="alg1.l24.m1.1.1.3">𝑒</ci><ci id="alg1.l24.m1.1.1.4.cmml" xref="alg1.l24.m1.1.1.4">𝑎</ci><ci id="alg1.l24.m1.1.1.5.cmml" xref="alg1.l24.m1.1.1.5">𝑑</ci><ci id="alg1.l24.m1.1.1.6.cmml" xref="alg1.l24.m1.1.1.6">𝑙</ci><ci id="alg1.l24.m1.1.1.7.cmml" xref="alg1.l24.m1.1.1.7">𝑖</ci><ci id="alg1.l24.m1.1.1.8.cmml" xref="alg1.l24.m1.1.1.8">𝑛</ci><ci id="alg1.l24.m1.1.1.9.cmml" xref="alg1.l24.m1.1.1.9">𝑒</ci><ci id="alg1.l24.m1.1.1.10.cmml" xref="alg1.l24.m1.1.1.10">𝑇</ci><ci id="alg1.l24.m1.1.1.11.cmml" xref="alg1.l24.m1.1.1.11">𝑟</ci><ci id="alg1.l24.m1.1.1.12.cmml" xref="alg1.l24.m1.1.1.12">𝑖</ci><ci id="alg1.l24.m1.1.1.13.cmml" xref="alg1.l24.m1.1.1.13">𝑔</ci><ci id="alg1.l24.m1.1.1.14.cmml" xref="alg1.l24.m1.1.1.14">𝑔</ci><ci id="alg1.l24.m1.1.1.15.cmml" xref="alg1.l24.m1.1.1.15">𝑒</ci><ci id="alg1.l24.m1.1.1.16.cmml" xref="alg1.l24.m1.1.1.16">𝑟</ci><ci id="alg1.l24.m1.1.1.17.cmml" xref="alg1.l24.m1.1.1.17">𝑒</ci><ci id="alg1.l24.m1.1.1.18.cmml" xref="alg1.l24.m1.1.1.18">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l24.m1.1c">deadlineTriggered</annotation></semantics></math><span id="alg1.l24.5" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l24.6" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l24.7" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l25" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l25.1.1.1" class="ltx_text" style="font-size:80%;">25:</span></span><span id="alg1.l25.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l25.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l25.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l25.5" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">evaluateStartForAggregationPolicy</span><span id="alg1.l25.6" class="ltx_text" style="font-size:70%;">( ) </span><span id="alg1.l25.7" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l25.8" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l26" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l26.1.1.1" class="ltx_text" style="font-size:80%;">26:</span></span><span id="alg1.l26.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l26.m1.2" class="ltx_Math" alttext="\{\Delta_{1},...\Delta_{k}\}\leftarrow" display="inline"><semantics id="alg1.l26.m1.2a"><mrow id="alg1.l26.m1.2.2" xref="alg1.l26.m1.2.2.cmml"><mrow id="alg1.l26.m1.2.2.2.2" xref="alg1.l26.m1.2.2.2.3.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l26.m1.2.2.2.2.3" xref="alg1.l26.m1.2.2.2.3.cmml">{</mo><msub id="alg1.l26.m1.1.1.1.1.1" xref="alg1.l26.m1.1.1.1.1.1.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l26.m1.1.1.1.1.1.2" xref="alg1.l26.m1.1.1.1.1.1.2.cmml">Δ</mi><mn mathsize="70%" id="alg1.l26.m1.1.1.1.1.1.3" xref="alg1.l26.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="70%" id="alg1.l26.m1.2.2.2.2.4" xref="alg1.l26.m1.2.2.2.3.cmml">,</mo><mrow id="alg1.l26.m1.2.2.2.2.2" xref="alg1.l26.m1.2.2.2.2.2.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l26.m1.2.2.2.2.2.2" xref="alg1.l26.m1.2.2.2.2.2.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="alg1.l26.m1.2.2.2.2.2.1" xref="alg1.l26.m1.2.2.2.2.2.1.cmml">​</mo><msub id="alg1.l26.m1.2.2.2.2.2.3" xref="alg1.l26.m1.2.2.2.2.2.3.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l26.m1.2.2.2.2.2.3.2" xref="alg1.l26.m1.2.2.2.2.2.3.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l26.m1.2.2.2.2.2.3.3" xref="alg1.l26.m1.2.2.2.2.2.3.3.cmml">k</mi></msub></mrow><mo maxsize="70%" minsize="70%" id="alg1.l26.m1.2.2.2.2.5" xref="alg1.l26.m1.2.2.2.3.cmml">}</mo></mrow><mo mathsize="70%" stretchy="false" id="alg1.l26.m1.2.2.3" xref="alg1.l26.m1.2.2.3.cmml">←</mo><mi id="alg1.l26.m1.2.2.4" xref="alg1.l26.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l26.m1.2b"><apply id="alg1.l26.m1.2.2.cmml" xref="alg1.l26.m1.2.2"><ci id="alg1.l26.m1.2.2.3.cmml" xref="alg1.l26.m1.2.2.3">←</ci><set id="alg1.l26.m1.2.2.2.3.cmml" xref="alg1.l26.m1.2.2.2.2"><apply id="alg1.l26.m1.1.1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l26.m1.1.1.1.1.1.1.cmml" xref="alg1.l26.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l26.m1.1.1.1.1.1.2.cmml" xref="alg1.l26.m1.1.1.1.1.1.2">Δ</ci><cn type="integer" id="alg1.l26.m1.1.1.1.1.1.3.cmml" xref="alg1.l26.m1.1.1.1.1.1.3">1</cn></apply><apply id="alg1.l26.m1.2.2.2.2.2.cmml" xref="alg1.l26.m1.2.2.2.2.2"><times id="alg1.l26.m1.2.2.2.2.2.1.cmml" xref="alg1.l26.m1.2.2.2.2.2.1"></times><ci id="alg1.l26.m1.2.2.2.2.2.2.cmml" xref="alg1.l26.m1.2.2.2.2.2.2">…</ci><apply id="alg1.l26.m1.2.2.2.2.2.3.cmml" xref="alg1.l26.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="alg1.l26.m1.2.2.2.2.2.3.1.cmml" xref="alg1.l26.m1.2.2.2.2.2.3">subscript</csymbol><ci id="alg1.l26.m1.2.2.2.2.2.3.2.cmml" xref="alg1.l26.m1.2.2.2.2.2.3.2">Δ</ci><ci id="alg1.l26.m1.2.2.2.2.2.3.3.cmml" xref="alg1.l26.m1.2.2.2.2.2.3.3">𝑘</ci></apply></apply></set><csymbol cd="latexml" id="alg1.l26.m1.2.2.4.cmml" xref="alg1.l26.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l26.m1.2c">\{\Delta_{1},...\Delta_{k}\}\leftarrow</annotation></semantics></math><span id="alg1.l26.3" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l26.4" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">loadClientGradients</span><span id="alg1.l26.5" class="ltx_text" style="font-size:70%;">( )
</span>
</div>
<div id="alg1.l27" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l27.1.1.1" class="ltx_text" style="font-size:80%;">27:</span></span><span id="alg1.l27.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l27.m1.1" class="ltx_Math" alttext="\Delta^{t}=(\sum_{k}\Delta_{k})/k" display="inline"><semantics id="alg1.l27.m1.1a"><mrow id="alg1.l27.m1.1.1" xref="alg1.l27.m1.1.1.cmml"><msup id="alg1.l27.m1.1.1.3" xref="alg1.l27.m1.1.1.3.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l27.m1.1.1.3.2" xref="alg1.l27.m1.1.1.3.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l27.m1.1.1.3.3" xref="alg1.l27.m1.1.1.3.3.cmml">t</mi></msup><mo mathsize="70%" id="alg1.l27.m1.1.1.2" xref="alg1.l27.m1.1.1.2.cmml">=</mo><mrow id="alg1.l27.m1.1.1.1" xref="alg1.l27.m1.1.1.1.cmml"><mrow id="alg1.l27.m1.1.1.1.1.1" xref="alg1.l27.m1.1.1.1.1.1.1.cmml"><mo maxsize="70%" minsize="70%" id="alg1.l27.m1.1.1.1.1.1.2" xref="alg1.l27.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l27.m1.1.1.1.1.1.1" xref="alg1.l27.m1.1.1.1.1.1.1.cmml"><msub id="alg1.l27.m1.1.1.1.1.1.1.1" xref="alg1.l27.m1.1.1.1.1.1.1.1.cmml"><mo lspace="0em" maxsize="70%" minsize="70%" stretchy="true" id="alg1.l27.m1.1.1.1.1.1.1.1.2" xref="alg1.l27.m1.1.1.1.1.1.1.1.2.cmml">∑</mo><mi mathsize="70%" id="alg1.l27.m1.1.1.1.1.1.1.1.3" xref="alg1.l27.m1.1.1.1.1.1.1.1.3.cmml">k</mi></msub><msub id="alg1.l27.m1.1.1.1.1.1.1.2" xref="alg1.l27.m1.1.1.1.1.1.1.2.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l27.m1.1.1.1.1.1.1.2.2" xref="alg1.l27.m1.1.1.1.1.1.1.2.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l27.m1.1.1.1.1.1.1.2.3" xref="alg1.l27.m1.1.1.1.1.1.1.2.3.cmml">k</mi></msub></mrow><mo maxsize="70%" minsize="70%" id="alg1.l27.m1.1.1.1.1.1.3" xref="alg1.l27.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo maxsize="70%" minsize="70%" stretchy="true" symmetric="true" id="alg1.l27.m1.1.1.1.2" xref="alg1.l27.m1.1.1.1.2.cmml">/</mo><mi mathsize="70%" id="alg1.l27.m1.1.1.1.3" xref="alg1.l27.m1.1.1.1.3.cmml">k</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l27.m1.1b"><apply id="alg1.l27.m1.1.1.cmml" xref="alg1.l27.m1.1.1"><eq id="alg1.l27.m1.1.1.2.cmml" xref="alg1.l27.m1.1.1.2"></eq><apply id="alg1.l27.m1.1.1.3.cmml" xref="alg1.l27.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.3.1.cmml" xref="alg1.l27.m1.1.1.3">superscript</csymbol><ci id="alg1.l27.m1.1.1.3.2.cmml" xref="alg1.l27.m1.1.1.3.2">Δ</ci><ci id="alg1.l27.m1.1.1.3.3.cmml" xref="alg1.l27.m1.1.1.3.3">𝑡</ci></apply><apply id="alg1.l27.m1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1"><divide id="alg1.l27.m1.1.1.1.2.cmml" xref="alg1.l27.m1.1.1.1.2"></divide><apply id="alg1.l27.m1.1.1.1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1.1.1"><apply id="alg1.l27.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.1">subscript</csymbol><sum id="alg1.l27.m1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.1.2"></sum><ci id="alg1.l27.m1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="alg1.l27.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l27.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="alg1.l27.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.2">Δ</ci><ci id="alg1.l27.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l27.m1.1.1.1.1.1.1.2.3">𝑘</ci></apply></apply><ci id="alg1.l27.m1.1.1.1.3.cmml" xref="alg1.l27.m1.1.1.1.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l27.m1.1c">\Delta^{t}=(\sum_{k}\Delta_{k})/k</annotation></semantics></math><span id="alg1.l27.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l28" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l28.1.1.1" class="ltx_text" style="font-size:80%;">28:</span></span><span id="alg1.l28.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l28.m1.1" class="ltx_Math" alttext="\theta^{t+1}\leftarrow\theta^{t}+\gamma\Delta^{t}" display="inline"><semantics id="alg1.l28.m1.1a"><mrow id="alg1.l28.m1.1.1" xref="alg1.l28.m1.1.1.cmml"><msup id="alg1.l28.m1.1.1.2" xref="alg1.l28.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l28.m1.1.1.2.2" xref="alg1.l28.m1.1.1.2.2.cmml">θ</mi><mrow id="alg1.l28.m1.1.1.2.3" xref="alg1.l28.m1.1.1.2.3.cmml"><mi mathsize="70%" id="alg1.l28.m1.1.1.2.3.2" xref="alg1.l28.m1.1.1.2.3.2.cmml">t</mi><mo mathsize="70%" id="alg1.l28.m1.1.1.2.3.1" xref="alg1.l28.m1.1.1.2.3.1.cmml">+</mo><mn mathsize="70%" id="alg1.l28.m1.1.1.2.3.3" xref="alg1.l28.m1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo mathsize="70%" stretchy="false" id="alg1.l28.m1.1.1.1" xref="alg1.l28.m1.1.1.1.cmml">←</mo><mrow id="alg1.l28.m1.1.1.3" xref="alg1.l28.m1.1.1.3.cmml"><msup id="alg1.l28.m1.1.1.3.2" xref="alg1.l28.m1.1.1.3.2.cmml"><mi mathsize="70%" id="alg1.l28.m1.1.1.3.2.2" xref="alg1.l28.m1.1.1.3.2.2.cmml">θ</mi><mi mathsize="70%" id="alg1.l28.m1.1.1.3.2.3" xref="alg1.l28.m1.1.1.3.2.3.cmml">t</mi></msup><mo mathsize="70%" id="alg1.l28.m1.1.1.3.1" xref="alg1.l28.m1.1.1.3.1.cmml">+</mo><mrow id="alg1.l28.m1.1.1.3.3" xref="alg1.l28.m1.1.1.3.3.cmml"><mi mathsize="70%" id="alg1.l28.m1.1.1.3.3.2" xref="alg1.l28.m1.1.1.3.3.2.cmml">γ</mi><mo lspace="0em" rspace="0em" id="alg1.l28.m1.1.1.3.3.1" xref="alg1.l28.m1.1.1.3.3.1.cmml">​</mo><msup id="alg1.l28.m1.1.1.3.3.3" xref="alg1.l28.m1.1.1.3.3.3.cmml"><mi mathsize="70%" mathvariant="normal" id="alg1.l28.m1.1.1.3.3.3.2" xref="alg1.l28.m1.1.1.3.3.3.2.cmml">Δ</mi><mi mathsize="70%" id="alg1.l28.m1.1.1.3.3.3.3" xref="alg1.l28.m1.1.1.3.3.3.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l28.m1.1b"><apply id="alg1.l28.m1.1.1.cmml" xref="alg1.l28.m1.1.1"><ci id="alg1.l28.m1.1.1.1.cmml" xref="alg1.l28.m1.1.1.1">←</ci><apply id="alg1.l28.m1.1.1.2.cmml" xref="alg1.l28.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l28.m1.1.1.2.1.cmml" xref="alg1.l28.m1.1.1.2">superscript</csymbol><ci id="alg1.l28.m1.1.1.2.2.cmml" xref="alg1.l28.m1.1.1.2.2">𝜃</ci><apply id="alg1.l28.m1.1.1.2.3.cmml" xref="alg1.l28.m1.1.1.2.3"><plus id="alg1.l28.m1.1.1.2.3.1.cmml" xref="alg1.l28.m1.1.1.2.3.1"></plus><ci id="alg1.l28.m1.1.1.2.3.2.cmml" xref="alg1.l28.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.l28.m1.1.1.2.3.3.cmml" xref="alg1.l28.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.l28.m1.1.1.3.cmml" xref="alg1.l28.m1.1.1.3"><plus id="alg1.l28.m1.1.1.3.1.cmml" xref="alg1.l28.m1.1.1.3.1"></plus><apply id="alg1.l28.m1.1.1.3.2.cmml" xref="alg1.l28.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l28.m1.1.1.3.2.1.cmml" xref="alg1.l28.m1.1.1.3.2">superscript</csymbol><ci id="alg1.l28.m1.1.1.3.2.2.cmml" xref="alg1.l28.m1.1.1.3.2.2">𝜃</ci><ci id="alg1.l28.m1.1.1.3.2.3.cmml" xref="alg1.l28.m1.1.1.3.2.3">𝑡</ci></apply><apply id="alg1.l28.m1.1.1.3.3.cmml" xref="alg1.l28.m1.1.1.3.3"><times id="alg1.l28.m1.1.1.3.3.1.cmml" xref="alg1.l28.m1.1.1.3.3.1"></times><ci id="alg1.l28.m1.1.1.3.3.2.cmml" xref="alg1.l28.m1.1.1.3.3.2">𝛾</ci><apply id="alg1.l28.m1.1.1.3.3.3.cmml" xref="alg1.l28.m1.1.1.3.3.3"><csymbol cd="ambiguous" id="alg1.l28.m1.1.1.3.3.3.1.cmml" xref="alg1.l28.m1.1.1.3.3.3">superscript</csymbol><ci id="alg1.l28.m1.1.1.3.3.3.2.cmml" xref="alg1.l28.m1.1.1.3.3.3.2">Δ</ci><ci id="alg1.l28.m1.1.1.3.3.3.3.cmml" xref="alg1.l28.m1.1.1.3.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l28.m1.1c">\theta^{t+1}\leftarrow\theta^{t}+\gamma\Delta^{t}</annotation></semantics></math><span id="alg1.l28.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l29" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l29.1.1.1" class="ltx_text" style="font-size:80%;">29:</span></span><span id="alg1.l29.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l29.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l29.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l29.5" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">isRoundAcceptable</span><span id="alg1.l29.6" class="ltx_text" style="font-size:70%;">( ) </span><span id="alg1.l29.7" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l29.8" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l30" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l30.1.1.1" class="ltx_text" style="font-size:80%;">30:</span></span><span id="alg1.l30.2" class="ltx_text" style="font-size:70%;">                </span><span id="alg1.l30.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">acceptRound</span><span id="alg1.l30.4" class="ltx_text" style="font-size:70%;">(</span><math id="alg1.l30.m1.1" class="ltx_Math" alttext="\theta^{t+1}" display="inline"><semantics id="alg1.l30.m1.1a"><msup id="alg1.l30.m1.1.1" xref="alg1.l30.m1.1.1.cmml"><mi mathsize="70%" id="alg1.l30.m1.1.1.2" xref="alg1.l30.m1.1.1.2.cmml">θ</mi><mrow id="alg1.l30.m1.1.1.3" xref="alg1.l30.m1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l30.m1.1.1.3.2" xref="alg1.l30.m1.1.1.3.2.cmml">t</mi><mo mathsize="70%" id="alg1.l30.m1.1.1.3.1" xref="alg1.l30.m1.1.1.3.1.cmml">+</mo><mn mathsize="70%" id="alg1.l30.m1.1.1.3.3" xref="alg1.l30.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="alg1.l30.m1.1b"><apply id="alg1.l30.m1.1.1.cmml" xref="alg1.l30.m1.1.1"><csymbol cd="ambiguous" id="alg1.l30.m1.1.1.1.cmml" xref="alg1.l30.m1.1.1">superscript</csymbol><ci id="alg1.l30.m1.1.1.2.cmml" xref="alg1.l30.m1.1.1.2">𝜃</ci><apply id="alg1.l30.m1.1.1.3.cmml" xref="alg1.l30.m1.1.1.3"><plus id="alg1.l30.m1.1.1.3.1.cmml" xref="alg1.l30.m1.1.1.3.1"></plus><ci id="alg1.l30.m1.1.1.3.2.cmml" xref="alg1.l30.m1.1.1.3.2">𝑡</ci><cn type="integer" id="alg1.l30.m1.1.1.3.3.cmml" xref="alg1.l30.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l30.m1.1c">\theta^{t+1}</annotation></semantics></math><span id="alg1.l30.5" class="ltx_text" style="font-size:70%;">)
</span>
</div>
<div id="alg1.l31" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l31.1.1.1" class="ltx_text" style="font-size:80%;">31:</span></span><span id="alg1.l31.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l31.3" class="ltx_text ltx_font_bold" style="font-size:70%;">else</span>
</div>
<div id="alg1.l32" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l32.1.1.1" class="ltx_text" style="font-size:80%;">32:</span></span><span id="alg1.l32.2" class="ltx_text" style="font-size:70%;">                </span><span id="alg1.l32.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">abortRound</span><span id="alg1.l32.4" class="ltx_text" style="font-size:70%;">( )
             </span>
</div>
<div id="alg1.l33" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l33.1.1.1" class="ltx_text" style="font-size:80%;">33:</span></span><span id="alg1.l33.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l33.3" class="ltx_text ltx_font_bold" style="font-size:70%;">else</span>
</div>
<div id="alg1.l34" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l34.1.1.1" class="ltx_text" style="font-size:80%;">34:</span></span><span id="alg1.l34.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l34.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">abortRound</span><span id="alg1.l34.4" class="ltx_text" style="font-size:70%;">( )
          </span>
</div>
<div id="alg1.l35" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l35.1.1.1" class="ltx_text" style="font-size:80%;">35:</span></span><span id="alg1.l35.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l35.3" class="ltx_text ltx_font_bold" style="font-size:70%;">if</span><span id="alg1.l35.4" class="ltx_text" style="font-size:70%;"> </span><span id="alg1.l35.5" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">evaluateStartNewRoundPolicy</span><span id="alg1.l35.6" class="ltx_text" style="font-size:70%;">( ) </span><span id="alg1.l35.7" class="ltx_text ltx_font_bold" style="font-size:70%;">then</span><span id="alg1.l35.8" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l36" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l36.1.1.1" class="ltx_text" style="font-size:80%;">36:</span></span><span id="alg1.l36.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l36.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">startNewRound</span><span id="alg1.l36.4" class="ltx_text" style="font-size:70%;">( )
</span>
</div>
<div id="alg1.l37" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l37.1.1.1" class="ltx_text" style="font-size:80%;">37:</span></span><span id="alg1.l37.2" class="ltx_text" style="font-size:70%;">             </span><math id="alg1.l37.m1.1" class="ltx_Math" alttext="deadlineTriggered\leftarrow false" display="inline"><semantics id="alg1.l37.m1.1a"><mrow id="alg1.l37.m1.1.1" xref="alg1.l37.m1.1.1.cmml"><mrow id="alg1.l37.m1.1.1.2" xref="alg1.l37.m1.1.1.2.cmml"><mi mathsize="70%" id="alg1.l37.m1.1.1.2.2" xref="alg1.l37.m1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.3" xref="alg1.l37.m1.1.1.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1a" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.4" xref="alg1.l37.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1b" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.5" xref="alg1.l37.m1.1.1.2.5.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1c" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.6" xref="alg1.l37.m1.1.1.2.6.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1d" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.7" xref="alg1.l37.m1.1.1.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1e" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.8" xref="alg1.l37.m1.1.1.2.8.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1f" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.9" xref="alg1.l37.m1.1.1.2.9.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1g" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.10" xref="alg1.l37.m1.1.1.2.10.cmml">T</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1h" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.11" xref="alg1.l37.m1.1.1.2.11.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1i" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.12" xref="alg1.l37.m1.1.1.2.12.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1j" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.13" xref="alg1.l37.m1.1.1.2.13.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1k" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.14" xref="alg1.l37.m1.1.1.2.14.cmml">g</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1l" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.15" xref="alg1.l37.m1.1.1.2.15.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1m" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.16" xref="alg1.l37.m1.1.1.2.16.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1n" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.17" xref="alg1.l37.m1.1.1.2.17.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.2.1o" xref="alg1.l37.m1.1.1.2.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.2.18" xref="alg1.l37.m1.1.1.2.18.cmml">d</mi></mrow><mo mathsize="70%" stretchy="false" id="alg1.l37.m1.1.1.1" xref="alg1.l37.m1.1.1.1.cmml">←</mo><mrow id="alg1.l37.m1.1.1.3" xref="alg1.l37.m1.1.1.3.cmml"><mi mathsize="70%" id="alg1.l37.m1.1.1.3.2" xref="alg1.l37.m1.1.1.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.3.1" xref="alg1.l37.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.3.3" xref="alg1.l37.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.3.1a" xref="alg1.l37.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.3.4" xref="alg1.l37.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.3.1b" xref="alg1.l37.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.3.5" xref="alg1.l37.m1.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg1.l37.m1.1.1.3.1c" xref="alg1.l37.m1.1.1.3.1.cmml">​</mo><mi mathsize="70%" id="alg1.l37.m1.1.1.3.6" xref="alg1.l37.m1.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l37.m1.1b"><apply id="alg1.l37.m1.1.1.cmml" xref="alg1.l37.m1.1.1"><ci id="alg1.l37.m1.1.1.1.cmml" xref="alg1.l37.m1.1.1.1">←</ci><apply id="alg1.l37.m1.1.1.2.cmml" xref="alg1.l37.m1.1.1.2"><times id="alg1.l37.m1.1.1.2.1.cmml" xref="alg1.l37.m1.1.1.2.1"></times><ci id="alg1.l37.m1.1.1.2.2.cmml" xref="alg1.l37.m1.1.1.2.2">𝑑</ci><ci id="alg1.l37.m1.1.1.2.3.cmml" xref="alg1.l37.m1.1.1.2.3">𝑒</ci><ci id="alg1.l37.m1.1.1.2.4.cmml" xref="alg1.l37.m1.1.1.2.4">𝑎</ci><ci id="alg1.l37.m1.1.1.2.5.cmml" xref="alg1.l37.m1.1.1.2.5">𝑑</ci><ci id="alg1.l37.m1.1.1.2.6.cmml" xref="alg1.l37.m1.1.1.2.6">𝑙</ci><ci id="alg1.l37.m1.1.1.2.7.cmml" xref="alg1.l37.m1.1.1.2.7">𝑖</ci><ci id="alg1.l37.m1.1.1.2.8.cmml" xref="alg1.l37.m1.1.1.2.8">𝑛</ci><ci id="alg1.l37.m1.1.1.2.9.cmml" xref="alg1.l37.m1.1.1.2.9">𝑒</ci><ci id="alg1.l37.m1.1.1.2.10.cmml" xref="alg1.l37.m1.1.1.2.10">𝑇</ci><ci id="alg1.l37.m1.1.1.2.11.cmml" xref="alg1.l37.m1.1.1.2.11">𝑟</ci><ci id="alg1.l37.m1.1.1.2.12.cmml" xref="alg1.l37.m1.1.1.2.12">𝑖</ci><ci id="alg1.l37.m1.1.1.2.13.cmml" xref="alg1.l37.m1.1.1.2.13">𝑔</ci><ci id="alg1.l37.m1.1.1.2.14.cmml" xref="alg1.l37.m1.1.1.2.14">𝑔</ci><ci id="alg1.l37.m1.1.1.2.15.cmml" xref="alg1.l37.m1.1.1.2.15">𝑒</ci><ci id="alg1.l37.m1.1.1.2.16.cmml" xref="alg1.l37.m1.1.1.2.16">𝑟</ci><ci id="alg1.l37.m1.1.1.2.17.cmml" xref="alg1.l37.m1.1.1.2.17">𝑒</ci><ci id="alg1.l37.m1.1.1.2.18.cmml" xref="alg1.l37.m1.1.1.2.18">𝑑</ci></apply><apply id="alg1.l37.m1.1.1.3.cmml" xref="alg1.l37.m1.1.1.3"><times id="alg1.l37.m1.1.1.3.1.cmml" xref="alg1.l37.m1.1.1.3.1"></times><ci id="alg1.l37.m1.1.1.3.2.cmml" xref="alg1.l37.m1.1.1.3.2">𝑓</ci><ci id="alg1.l37.m1.1.1.3.3.cmml" xref="alg1.l37.m1.1.1.3.3">𝑎</ci><ci id="alg1.l37.m1.1.1.3.4.cmml" xref="alg1.l37.m1.1.1.3.4">𝑙</ci><ci id="alg1.l37.m1.1.1.3.5.cmml" xref="alg1.l37.m1.1.1.3.5">𝑠</ci><ci id="alg1.l37.m1.1.1.3.6.cmml" xref="alg1.l37.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l37.m1.1c">deadlineTriggered\leftarrow false</annotation></semantics></math><span id="alg1.l37.3" class="ltx_text" style="font-size:70%;">
</span>
</div>
<div id="alg1.l38" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l38.1.1.1" class="ltx_text" style="font-size:80%;">38:</span></span><span id="alg1.l38.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l38.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">setupDeadline</span><span id="alg1.l38.4" class="ltx_text" style="font-size:70%;">( )
</span>
</div>
<div id="alg1.l39" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l39.1.1.1" class="ltx_text" style="font-size:80%;">39:</span></span><span id="alg1.l39.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l39.3" class="ltx_text ltx_font_bold" style="font-size:70%;">else</span>
</div>
<div id="alg1.l40" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l40.1.1.1" class="ltx_text" style="font-size:80%;">40:</span></span><span id="alg1.l40.2" class="ltx_text" style="font-size:70%;">             </span><span id="alg1.l40.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">stopTraining</span><span id="alg1.l40.4" class="ltx_text" style="font-size:70%;">( )
          </span>
</div>
<div id="alg1.l41" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l41.1.1.1" class="ltx_text" style="font-size:80%;">41:</span></span><span id="alg1.l41.2" class="ltx_text" style="font-size:70%;">       </span><span id="alg1.l41.3" class="ltx_text ltx_font_bold" style="font-size:70%;">else</span>
</div>
<div id="alg1.l42" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l42.1.1.1" class="ltx_text" style="font-size:80%;">42:</span></span><span id="alg1.l42.2" class="ltx_text" style="font-size:70%;">          </span><span id="alg1.l42.3" class="ltx_text ltx_font_smallcaps" style="font-size:70%;">wait</span><span id="alg1.l42.4" class="ltx_text" style="font-size:70%;">( )
           </span>
</div>
</div>
</figure>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5 </span><span id="S4.SS5.1.1" class="ltx_text ltx_font_italic">FLSys Setup Workflow</span>
</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">By design, FLSys acts as a service provider that handles multiple FL models with minimum input from the users. The setup procedures for FLSys are divided into two stages. The first stage involves the FL Cloud Manager and the app developers, without user involvement. The second stage involves the FL Phone Manager and the mobile apps that use FL models, and it requires minimum user involvement. The FL Cloud Manager is deployed before the first stage, and the FL Phone Manager should be installed on the user’s device before the second stage. To illustrate these stages, let us briefly explain the setup workflow using the HAR app as an example.</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p id="S4.SS5.p2.1" class="ltx_p">In the first stage, the developers of the HAR app need to register the model with the FL Cloud Manager. The app developers need to provide the FL model to be trained and the training plan (e.g., training frequency, number of rounds, number of participants in a round, etc.) to register the app. The model can be developed by the app developers or by a third party. After registration, a unique key for the authentication between the app and the FL Phone Manager in the second stage will be provided.</p>
</div>
<div id="S4.SS5.p3" class="ltx_para">
<p id="S4.SS5.p3.1" class="ltx_p">The second stage is typically triggered during the installation process of the HAR app on the user’s device. The app will communicate with the FL Phone Manager and authenticate itself using the aforementioned unique key. Once the app is successfully authenticated, the FL Phone Manager will perform a series of operations and eventually become ready to serve the FL model for the app. These operations include: (1) Register the phone with the FL Cloud Manager; (2) Set up communication channels with the app; (3) If the model does not exist on the phone, download the model specified by the app and the training plan from the FL Cloud Manager; If the model already exists on the phone, establish the connection between the app and that model; and (4) Set up the local training schedule and notify the user.
After the second stage, the FL model that the HAR app needs is installed on the phone, ready for inference and training. The training plan can be adjusted by the developers through the FL Cloud Manager. User-experience related parameters can be adjusted by the user through the FL Phone Manager.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">HAR-Wild: Data, Model, and Training</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We co-designed FLSys with a HAR model, which was used to extract the main requirements for FLSys and, then, to demonstrate the efficiency and effectiveness of FLSys. To show that FLSys works with different concurrent models, we also implemented and evaluated a sentiment analysis (SA) model, as described in Section <a href="#S6" title="6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>. In this section, we describe the HAR dataset, our HAR-Wild model, and its training algorithm using data augmentation to deal with non-IID data in the wild.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span><span id="S5.SS1.1.1" class="ltx_text ltx_font_italic">Data Collection</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Although there are good HAR datasets publicly available, e.g., WISDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, UCI HAR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, they are not representative for real-life situations because they were collected in rigorously controlled environments on standardized devices and controlled activities, in which the participants only focused on collecting sensor data with a usually high and fixed sampling rate frequency, i.e., 50Hz or higher.
Thus, given our goal to test FLSys with data collected in the wild, we have used our Data Collector, described in Section <a href="#S4.SS2" title="4.2 Phone Implementation ‣ 4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>, to collect data from 116 users at two universities.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">The data collection was approved by the IRBs at both universities.
The students collected data for four months. Each user provided accelerometer data and labels of their activities on their personal Android phones. We provided labels in five categories for participants to choose form: “Walking,” “Sitting,” “In Car,” “Cycling,” and “Running”.
The phones were naturally heterogeneous, and the daily-life activities were not constrained by our experiments.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para">
<p id="S5.SS1.p3.1" class="ltx_p">Therefore, we collected a novel HAR dataset in the wild that is different from the existing datasets in the following three aspects: <span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_bold">(1)</span> The sensors’ sampling rates vary from time to time and from user to user, due to battery constrains, device heterogeneity, and usage differences; <span id="S5.SS1.p3.1.2" class="ltx_text ltx_font_bold">(2)</span> The same basic activity will generate different signals since different users will have different habits of carrying smart phones; <span id="S5.SS1.p3.1.3" class="ltx_text ltx_font_bold">(3)</span> Label distributions are not just biased, but vary significantly among users.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span><span id="S5.SS2.1.1" class="ltx_text ltx_font_italic">Data Preprocessing</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Our data processing consists of the following steps:
<span id="S5.SS2.p1.1.1" class="ltx_text ltx_font_bold">(1)</span> Any duplicated data points (e.g., data points that have the same timestamp) are merged by taking the average of their sensor values;
<span id="S5.SS2.p1.1.2" class="ltx_text ltx_font_bold">(2)</span> Using 300 milliseconds as the threshold, continuous data sessions are identified and separated by breaking up the data sequences at any gap that is larger than the threshold;
<span id="S5.SS2.p1.1.3" class="ltx_text ltx_font_bold">(3)</span> Data sessions that have unstable or unsuitable sampling rates are filtered out. We only keep the data sessions that have a stable sampling rate of 5Hz, 10Hz, 20Hz, or 50Hz;
<span id="S5.SS2.p1.1.4" class="ltx_text ltx_font_bold">(4)</span> Data sessions are also filtered with the following two criteria to ensure good quality: (a) The first 10 seconds and the last 10 seconds of each data session are trimmed, based on our observations of the user behavior and data. The first 10 seconds allow the users enough time to completely change from one activity to another, without affecting the label annotation. The last 10 seconds allow the users enough time to finish their activity and label annotation. Without giving the users enough time to begin and end their activities, the labeled data will be in noisy. As future work, an automatic solution in FLSys may be able to adapt dynamically such cut-off points for data across different models and types of data.
(b) Any data session longer than 30 minutes is trimmed down to 30 minutes, in order to mitigate the potential inaccurate labels due to users’ negligence (forgot to turn off labeling); and <span id="S5.SS2.p1.1.5" class="ltx_text ltx_font_bold">(5)</span> We sample data segments at the size of 100 data points with sliding windows. Different overlapping percentages were used for different classes and different sampling rates. The majority classes have 25% overlapping to reduce the number of data segments, while the minority classes have up to 90% overlapping to increase the available data segments. The same principle is applied to sessions with different sampling rates. We sample 15% of data for testing, while the rest are used for training. Details are shown in Section <a href="#S6" title="6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.6" class="ltx_p"><span id="S5.SS2.p2.6.1" class="ltx_text ltx_font_bold">Data Normalization.</span> In our models, the accelerometer data is normalized as <math id="S5.SS2.p2.1.m1.2" class="ltx_Math" alttext="x\in[-1,1]^{3}" display="inline"><semantics id="S5.SS2.p2.1.m1.2a"><mrow id="S5.SS2.p2.1.m1.2.2" xref="S5.SS2.p2.1.m1.2.2.cmml"><mi id="S5.SS2.p2.1.m1.2.2.3" xref="S5.SS2.p2.1.m1.2.2.3.cmml">x</mi><mo id="S5.SS2.p2.1.m1.2.2.2" xref="S5.SS2.p2.1.m1.2.2.2.cmml">∈</mo><msup id="S5.SS2.p2.1.m1.2.2.1" xref="S5.SS2.p2.1.m1.2.2.1.cmml"><mrow id="S5.SS2.p2.1.m1.2.2.1.1.1" xref="S5.SS2.p2.1.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="S5.SS2.p2.1.m1.2.2.1.1.1.2" xref="S5.SS2.p2.1.m1.2.2.1.1.2.cmml">[</mo><mrow id="S5.SS2.p2.1.m1.2.2.1.1.1.1" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1.cmml"><mo id="S5.SS2.p2.1.m1.2.2.1.1.1.1a" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1.cmml">−</mo><mn id="S5.SS2.p2.1.m1.2.2.1.1.1.1.2" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1.2.cmml">1</mn></mrow><mo id="S5.SS2.p2.1.m1.2.2.1.1.1.3" xref="S5.SS2.p2.1.m1.2.2.1.1.2.cmml">,</mo><mn id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">1</mn><mo stretchy="false" id="S5.SS2.p2.1.m1.2.2.1.1.1.4" xref="S5.SS2.p2.1.m1.2.2.1.1.2.cmml">]</mo></mrow><mn id="S5.SS2.p2.1.m1.2.2.1.3" xref="S5.SS2.p2.1.m1.2.2.1.3.cmml">3</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.2b"><apply id="S5.SS2.p2.1.m1.2.2.cmml" xref="S5.SS2.p2.1.m1.2.2"><in id="S5.SS2.p2.1.m1.2.2.2.cmml" xref="S5.SS2.p2.1.m1.2.2.2"></in><ci id="S5.SS2.p2.1.m1.2.2.3.cmml" xref="S5.SS2.p2.1.m1.2.2.3">𝑥</ci><apply id="S5.SS2.p2.1.m1.2.2.1.cmml" xref="S5.SS2.p2.1.m1.2.2.1"><csymbol cd="ambiguous" id="S5.SS2.p2.1.m1.2.2.1.2.cmml" xref="S5.SS2.p2.1.m1.2.2.1">superscript</csymbol><interval closure="closed" id="S5.SS2.p2.1.m1.2.2.1.1.2.cmml" xref="S5.SS2.p2.1.m1.2.2.1.1.1"><apply id="S5.SS2.p2.1.m1.2.2.1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1"><minus id="S5.SS2.p2.1.m1.2.2.1.1.1.1.1.cmml" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1"></minus><cn type="integer" id="S5.SS2.p2.1.m1.2.2.1.1.1.1.2.cmml" xref="S5.SS2.p2.1.m1.2.2.1.1.1.1.2">1</cn></apply><cn type="integer" id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">1</cn></interval><cn type="integer" id="S5.SS2.p2.1.m1.2.2.1.3.cmml" xref="S5.SS2.p2.1.m1.2.2.1.3">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.2c">x\in[-1,1]^{3}</annotation></semantics></math> to achieve better model utility.
We compute the mean and variance of each axis (i.e., <math id="S5.SS2.p2.2.m2.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S5.SS2.p2.2.m2.1a"><mi id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">X</annotation></semantics></math>, <math id="S5.SS2.p2.3.m3.1" class="ltx_Math" alttext="Y" display="inline"><semantics id="S5.SS2.p2.3.m3.1a"><mi id="S5.SS2.p2.3.m3.1.1" xref="S5.SS2.p2.3.m3.1.1.cmml">Y</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.3.m3.1b"><ci id="S5.SS2.p2.3.m3.1.1.cmml" xref="S5.SS2.p2.3.m3.1.1">𝑌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.3.m3.1c">Y</annotation></semantics></math>, and <math id="S5.SS2.p2.4.m4.1" class="ltx_Math" alttext="Z" display="inline"><semantics id="S5.SS2.p2.4.m4.1a"><mi id="S5.SS2.p2.4.m4.1.1" xref="S5.SS2.p2.4.m4.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.4.m4.1b"><ci id="S5.SS2.p2.4.m4.1.1.cmml" xref="S5.SS2.p2.4.m4.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.4.m4.1c">Z</annotation></semantics></math>) using only training data to avoid information leakage from the training phase to the testing phase. Then, both training and testing data are normalized with z-score, based on the mean and variance computed from training data.
Based on these results, we choose to clip the values in between <math id="S5.SS2.p2.5.m5.4" class="ltx_Math" alttext="[min,max]=[-2,2]" display="inline"><semantics id="S5.SS2.p2.5.m5.4a"><mrow id="S5.SS2.p2.5.m5.4.4" xref="S5.SS2.p2.5.m5.4.4.cmml"><mrow id="S5.SS2.p2.5.m5.3.3.2.2" xref="S5.SS2.p2.5.m5.3.3.2.3.cmml"><mo stretchy="false" id="S5.SS2.p2.5.m5.3.3.2.2.3" xref="S5.SS2.p2.5.m5.3.3.2.3.cmml">[</mo><mrow id="S5.SS2.p2.5.m5.2.2.1.1.1" xref="S5.SS2.p2.5.m5.2.2.1.1.1.cmml"><mi id="S5.SS2.p2.5.m5.2.2.1.1.1.2" xref="S5.SS2.p2.5.m5.2.2.1.1.1.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p2.5.m5.2.2.1.1.1.1" xref="S5.SS2.p2.5.m5.2.2.1.1.1.1.cmml">​</mo><mi id="S5.SS2.p2.5.m5.2.2.1.1.1.3" xref="S5.SS2.p2.5.m5.2.2.1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p2.5.m5.2.2.1.1.1.1a" xref="S5.SS2.p2.5.m5.2.2.1.1.1.1.cmml">​</mo><mi id="S5.SS2.p2.5.m5.2.2.1.1.1.4" xref="S5.SS2.p2.5.m5.2.2.1.1.1.4.cmml">n</mi></mrow><mo id="S5.SS2.p2.5.m5.3.3.2.2.4" xref="S5.SS2.p2.5.m5.3.3.2.3.cmml">,</mo><mrow id="S5.SS2.p2.5.m5.3.3.2.2.2" xref="S5.SS2.p2.5.m5.3.3.2.2.2.cmml"><mi id="S5.SS2.p2.5.m5.3.3.2.2.2.2" xref="S5.SS2.p2.5.m5.3.3.2.2.2.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p2.5.m5.3.3.2.2.2.1" xref="S5.SS2.p2.5.m5.3.3.2.2.2.1.cmml">​</mo><mi id="S5.SS2.p2.5.m5.3.3.2.2.2.3" xref="S5.SS2.p2.5.m5.3.3.2.2.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p2.5.m5.3.3.2.2.2.1a" xref="S5.SS2.p2.5.m5.3.3.2.2.2.1.cmml">​</mo><mi id="S5.SS2.p2.5.m5.3.3.2.2.2.4" xref="S5.SS2.p2.5.m5.3.3.2.2.2.4.cmml">x</mi></mrow><mo stretchy="false" id="S5.SS2.p2.5.m5.3.3.2.2.5" xref="S5.SS2.p2.5.m5.3.3.2.3.cmml">]</mo></mrow><mo id="S5.SS2.p2.5.m5.4.4.4" xref="S5.SS2.p2.5.m5.4.4.4.cmml">=</mo><mrow id="S5.SS2.p2.5.m5.4.4.3.1" xref="S5.SS2.p2.5.m5.4.4.3.2.cmml"><mo stretchy="false" id="S5.SS2.p2.5.m5.4.4.3.1.2" xref="S5.SS2.p2.5.m5.4.4.3.2.cmml">[</mo><mrow id="S5.SS2.p2.5.m5.4.4.3.1.1" xref="S5.SS2.p2.5.m5.4.4.3.1.1.cmml"><mo id="S5.SS2.p2.5.m5.4.4.3.1.1a" xref="S5.SS2.p2.5.m5.4.4.3.1.1.cmml">−</mo><mn id="S5.SS2.p2.5.m5.4.4.3.1.1.2" xref="S5.SS2.p2.5.m5.4.4.3.1.1.2.cmml">2</mn></mrow><mo id="S5.SS2.p2.5.m5.4.4.3.1.3" xref="S5.SS2.p2.5.m5.4.4.3.2.cmml">,</mo><mn id="S5.SS2.p2.5.m5.1.1" xref="S5.SS2.p2.5.m5.1.1.cmml">2</mn><mo stretchy="false" id="S5.SS2.p2.5.m5.4.4.3.1.4" xref="S5.SS2.p2.5.m5.4.4.3.2.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.5.m5.4b"><apply id="S5.SS2.p2.5.m5.4.4.cmml" xref="S5.SS2.p2.5.m5.4.4"><eq id="S5.SS2.p2.5.m5.4.4.4.cmml" xref="S5.SS2.p2.5.m5.4.4.4"></eq><interval closure="closed" id="S5.SS2.p2.5.m5.3.3.2.3.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2"><apply id="S5.SS2.p2.5.m5.2.2.1.1.1.cmml" xref="S5.SS2.p2.5.m5.2.2.1.1.1"><times id="S5.SS2.p2.5.m5.2.2.1.1.1.1.cmml" xref="S5.SS2.p2.5.m5.2.2.1.1.1.1"></times><ci id="S5.SS2.p2.5.m5.2.2.1.1.1.2.cmml" xref="S5.SS2.p2.5.m5.2.2.1.1.1.2">𝑚</ci><ci id="S5.SS2.p2.5.m5.2.2.1.1.1.3.cmml" xref="S5.SS2.p2.5.m5.2.2.1.1.1.3">𝑖</ci><ci id="S5.SS2.p2.5.m5.2.2.1.1.1.4.cmml" xref="S5.SS2.p2.5.m5.2.2.1.1.1.4">𝑛</ci></apply><apply id="S5.SS2.p2.5.m5.3.3.2.2.2.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2.2"><times id="S5.SS2.p2.5.m5.3.3.2.2.2.1.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2.2.1"></times><ci id="S5.SS2.p2.5.m5.3.3.2.2.2.2.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2.2.2">𝑚</ci><ci id="S5.SS2.p2.5.m5.3.3.2.2.2.3.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2.2.3">𝑎</ci><ci id="S5.SS2.p2.5.m5.3.3.2.2.2.4.cmml" xref="S5.SS2.p2.5.m5.3.3.2.2.2.4">𝑥</ci></apply></interval><interval closure="closed" id="S5.SS2.p2.5.m5.4.4.3.2.cmml" xref="S5.SS2.p2.5.m5.4.4.3.1"><apply id="S5.SS2.p2.5.m5.4.4.3.1.1.cmml" xref="S5.SS2.p2.5.m5.4.4.3.1.1"><minus id="S5.SS2.p2.5.m5.4.4.3.1.1.1.cmml" xref="S5.SS2.p2.5.m5.4.4.3.1.1"></minus><cn type="integer" id="S5.SS2.p2.5.m5.4.4.3.1.1.2.cmml" xref="S5.SS2.p2.5.m5.4.4.3.1.1.2">2</cn></apply><cn type="integer" id="S5.SS2.p2.5.m5.1.1.cmml" xref="S5.SS2.p2.5.m5.1.1">2</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.5.m5.4c">[min,max]=[-2,2]</annotation></semantics></math> for each axis, which covers at least 90% of possible data values.
Finally, all values are linearly scaled to <math id="S5.SS2.p2.6.m6.2" class="ltx_Math" alttext="[-1,1]" display="inline"><semantics id="S5.SS2.p2.6.m6.2a"><mrow id="S5.SS2.p2.6.m6.2.2.1" xref="S5.SS2.p2.6.m6.2.2.2.cmml"><mo stretchy="false" id="S5.SS2.p2.6.m6.2.2.1.2" xref="S5.SS2.p2.6.m6.2.2.2.cmml">[</mo><mrow id="S5.SS2.p2.6.m6.2.2.1.1" xref="S5.SS2.p2.6.m6.2.2.1.1.cmml"><mo id="S5.SS2.p2.6.m6.2.2.1.1a" xref="S5.SS2.p2.6.m6.2.2.1.1.cmml">−</mo><mn id="S5.SS2.p2.6.m6.2.2.1.1.2" xref="S5.SS2.p2.6.m6.2.2.1.1.2.cmml">1</mn></mrow><mo id="S5.SS2.p2.6.m6.2.2.1.3" xref="S5.SS2.p2.6.m6.2.2.2.cmml">,</mo><mn id="S5.SS2.p2.6.m6.1.1" xref="S5.SS2.p2.6.m6.1.1.cmml">1</mn><mo stretchy="false" id="S5.SS2.p2.6.m6.2.2.1.4" xref="S5.SS2.p2.6.m6.2.2.2.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.6.m6.2b"><interval closure="closed" id="S5.SS2.p2.6.m6.2.2.2.cmml" xref="S5.SS2.p2.6.m6.2.2.1"><apply id="S5.SS2.p2.6.m6.2.2.1.1.cmml" xref="S5.SS2.p2.6.m6.2.2.1.1"><minus id="S5.SS2.p2.6.m6.2.2.1.1.1.cmml" xref="S5.SS2.p2.6.m6.2.2.1.1"></minus><cn type="integer" id="S5.SS2.p2.6.m6.2.2.1.1.2.cmml" xref="S5.SS2.p2.6.m6.2.2.1.1.2">1</cn></apply><cn type="integer" id="S5.SS2.p2.6.m6.1.1.cmml" xref="S5.SS2.p2.6.m6.1.1">1</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.6.m6.2c">[-1,1]</annotation></semantics></math> to finish the normalization process:</p>
<table id="S5.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S5.E1.m1.1" class="ltx_Math" alttext="x=2\times[\frac{x-min}{max-min}-1/2]" display="block"><semantics id="S5.E1.m1.1a"><mrow id="S5.E1.m1.1.1" xref="S5.E1.m1.1.1.cmml"><mi id="S5.E1.m1.1.1.3" xref="S5.E1.m1.1.1.3.cmml">x</mi><mo id="S5.E1.m1.1.1.2" xref="S5.E1.m1.1.1.2.cmml">=</mo><mrow id="S5.E1.m1.1.1.1" xref="S5.E1.m1.1.1.1.cmml"><mn id="S5.E1.m1.1.1.1.3" xref="S5.E1.m1.1.1.1.3.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S5.E1.m1.1.1.1.2" xref="S5.E1.m1.1.1.1.2.cmml">×</mo><mrow id="S5.E1.m1.1.1.1.1.1" xref="S5.E1.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="S5.E1.m1.1.1.1.1.1.2" xref="S5.E1.m1.1.1.1.1.2.1.cmml">[</mo><mrow id="S5.E1.m1.1.1.1.1.1.1" xref="S5.E1.m1.1.1.1.1.1.1.cmml"><mfrac id="S5.E1.m1.1.1.1.1.1.1.2" xref="S5.E1.m1.1.1.1.1.1.1.2.cmml"><mrow id="S5.E1.m1.1.1.1.1.1.1.2.2" xref="S5.E1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S5.E1.m1.1.1.1.1.1.1.2.2.2" xref="S5.E1.m1.1.1.1.1.1.1.2.2.2.cmml">x</mi><mo id="S5.E1.m1.1.1.1.1.1.1.2.2.1" xref="S5.E1.m1.1.1.1.1.1.1.2.2.1.cmml">−</mo><mrow id="S5.E1.m1.1.1.1.1.1.1.2.2.3" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S5.E1.m1.1.1.1.1.1.1.2.2.3.2" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.2.3.1" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.2.3.3" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.2.3.1a" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.2.3.4" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.4.cmml">n</mi></mrow></mrow><mrow id="S5.E1.m1.1.1.1.1.1.1.2.3" xref="S5.E1.m1.1.1.1.1.1.1.2.3.cmml"><mrow id="S5.E1.m1.1.1.1.1.1.1.2.3.2" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.2.2" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.3.2.1" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.2.3" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.3.2.1a" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.2.4" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.4.cmml">x</mi></mrow><mo id="S5.E1.m1.1.1.1.1.1.1.2.3.1" xref="S5.E1.m1.1.1.1.1.1.1.2.3.1.cmml">−</mo><mrow id="S5.E1.m1.1.1.1.1.1.1.2.3.3" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.cmml"><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.3.2" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.2.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.3.3.1" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.3.3" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="S5.E1.m1.1.1.1.1.1.1.2.3.3.1a" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.1.cmml">​</mo><mi id="S5.E1.m1.1.1.1.1.1.1.2.3.3.4" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.4.cmml">n</mi></mrow></mrow></mfrac><mo id="S5.E1.m1.1.1.1.1.1.1.1" xref="S5.E1.m1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S5.E1.m1.1.1.1.1.1.1.3" xref="S5.E1.m1.1.1.1.1.1.1.3.cmml"><mn id="S5.E1.m1.1.1.1.1.1.1.3.2" xref="S5.E1.m1.1.1.1.1.1.1.3.2.cmml">1</mn><mo id="S5.E1.m1.1.1.1.1.1.1.3.1" xref="S5.E1.m1.1.1.1.1.1.1.3.1.cmml">/</mo><mn id="S5.E1.m1.1.1.1.1.1.1.3.3" xref="S5.E1.m1.1.1.1.1.1.1.3.3.cmml">2</mn></mrow></mrow><mo stretchy="false" id="S5.E1.m1.1.1.1.1.1.3" xref="S5.E1.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E1.m1.1b"><apply id="S5.E1.m1.1.1.cmml" xref="S5.E1.m1.1.1"><eq id="S5.E1.m1.1.1.2.cmml" xref="S5.E1.m1.1.1.2"></eq><ci id="S5.E1.m1.1.1.3.cmml" xref="S5.E1.m1.1.1.3">𝑥</ci><apply id="S5.E1.m1.1.1.1.cmml" xref="S5.E1.m1.1.1.1"><times id="S5.E1.m1.1.1.1.2.cmml" xref="S5.E1.m1.1.1.1.2"></times><cn type="integer" id="S5.E1.m1.1.1.1.3.cmml" xref="S5.E1.m1.1.1.1.3">2</cn><apply id="S5.E1.m1.1.1.1.1.2.cmml" xref="S5.E1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S5.E1.m1.1.1.1.1.2.1.cmml" xref="S5.E1.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S5.E1.m1.1.1.1.1.1.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1"><minus id="S5.E1.m1.1.1.1.1.1.1.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.1"></minus><apply id="S5.E1.m1.1.1.1.1.1.1.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2"><divide id="S5.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2"></divide><apply id="S5.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2"><minus id="S5.E1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.1"></minus><ci id="S5.E1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.2">𝑥</ci><apply id="S5.E1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3"><times id="S5.E1.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.1"></times><ci id="S5.E1.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.2">𝑚</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.3">𝑖</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.2.3.4.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.2.3.4">𝑛</ci></apply></apply><apply id="S5.E1.m1.1.1.1.1.1.1.2.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3"><minus id="S5.E1.m1.1.1.1.1.1.1.2.3.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.1"></minus><apply id="S5.E1.m1.1.1.1.1.1.1.2.3.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2"><times id="S5.E1.m1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.1"></times><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.2">𝑚</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.3">𝑎</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.2.4.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.2.4">𝑥</ci></apply><apply id="S5.E1.m1.1.1.1.1.1.1.2.3.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3"><times id="S5.E1.m1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.1"></times><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.2">𝑚</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.3">𝑖</ci><ci id="S5.E1.m1.1.1.1.1.1.1.2.3.3.4.cmml" xref="S5.E1.m1.1.1.1.1.1.1.2.3.3.4">𝑛</ci></apply></apply></apply><apply id="S5.E1.m1.1.1.1.1.1.1.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.3"><divide id="S5.E1.m1.1.1.1.1.1.1.3.1.cmml" xref="S5.E1.m1.1.1.1.1.1.1.3.1"></divide><cn type="integer" id="S5.E1.m1.1.1.1.1.1.1.3.2.cmml" xref="S5.E1.m1.1.1.1.1.1.1.3.2">1</cn><cn type="integer" id="S5.E1.m1.1.1.1.1.1.1.3.3.cmml" xref="S5.E1.m1.1.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E1.m1.1c">x=2\times[\frac{x-min}{max-min}-1/2]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<figure id="S5.F2" class="ltx_figure"><img src="/html/2111.09445/assets/image/figure_2_crop.png" id="S5.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="592" height="306" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>HAR-Wild Model Architecture</figcaption>
</figure>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span><span id="S5.SS3.1.1" class="ltx_text ltx_font_italic">Model Design</span>
</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">The design of our HAR-Wild model has two requirements: low computational complexity and small memory footprint. Satisfying these requirements ensures the model can work efficiently on resource-constrained phones. Figure <a href="#S5.F2" title="Figure 2 ‣ 5.2 Data Preprocessing ‣ 5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows our model architecture. For low computation complexity, HAR-Wild is based on CNN (instead of RNN, e.g., LSTM) and tailored to work well on mobile devices. In addition, instead of using data from multiple sensors, HAR-Wild can achieve comparable results with several baseline approaches by using only accelerometer data, which makes the training faster.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.1" class="ltx_p">The accelerometer data are processed into data segments of shape <math id="S5.SS3.p2.1.m1.2" class="ltx_Math" alttext="[3,100]" display="inline"><semantics id="S5.SS3.p2.1.m1.2a"><mrow id="S5.SS3.p2.1.m1.2.3.2" xref="S5.SS3.p2.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS3.p2.1.m1.2.3.2.1" xref="S5.SS3.p2.1.m1.2.3.1.cmml">[</mo><mn id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">3</mn><mo id="S5.SS3.p2.1.m1.2.3.2.2" xref="S5.SS3.p2.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS3.p2.1.m1.2.2" xref="S5.SS3.p2.1.m1.2.2.cmml">100</mn><mo stretchy="false" id="S5.SS3.p2.1.m1.2.3.2.3" xref="S5.SS3.p2.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.2b"><interval closure="closed" id="S5.SS3.p2.1.m1.2.3.1.cmml" xref="S5.SS3.p2.1.m1.2.3.2"><cn type="integer" id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">3</cn><cn type="integer" id="S5.SS3.p2.1.m1.2.2.cmml" xref="S5.SS3.p2.1.m1.2.2">100</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.2c">[3,100]</annotation></semantics></math>, indicating 100 data points of 3 axis: X, Y, and Z. We leverage the recipe of ResNet model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> into a small-size model, by using the processed accelerometer data as input of (1) a sequence of a 1D-CNN - a Batch Norm - a 1D-CNN - a Batch Norm - a Flatten layer, and (2) a sequence of a 1D-CNN - a Batch Norm - a Flatten layer. The two flatten layers are concatenated before feeding them into a sequence of a Drop Out layer - a Dense layer - and an Output layer. By doing so, HAR-Wild can memorize and transfer the low level latent features learned from the very first 1D-CNN, directly derived from the input data, to the output layer for better classification. We use Global Average Pooling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> given its small memory footprint, instead of the popular Local Max/Average Pooling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>. In addition to being appropriate for resource-constrained phones, a small-size model such as HAR-Wild is expected to perform better on data collected in the wild, since the data will likely have more distribution drift, increasing the chance of model overfitting on large-size models.</p>
</div>
<figure id="S5.F3" class="ltx_figure"><img src="/html/2111.09445/assets/image/Figure_non-iid.png" id="S5.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="509" height="275" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Number of Data Points of Each Class for Each User</figcaption>
</figure>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span><span id="S5.SS4.1.1" class="ltx_text ltx_font_italic">HAR-Wild Async Augmented Training</span>
</h3>

<div id="S5.SS4.p1" class="ltx_para">
<p id="S5.SS4.p1.1" class="ltx_p">The performance of FL models is negatively affected by non-IID data distribution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib65" title="" class="ltx_ref">65</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, and we observed this to be true for HAR-Wild as well. Figure <a href="#S5.F3" title="Figure 3 ‣ 5.3 Model Design ‣ 5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the distribution of the dataset we collected for HAR-Wild.
To address this problem, we leverage data augmentation training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> and tailor it to mitigate the distortion in computing gradients at client-side by balancing the client data with a small number of augmentation data samples without an undue computational cost.</p>
</div>
<div id="S5.SS4.p2" class="ltx_para">
<p id="S5.SS4.p2.5" class="ltx_p">The pseudo-code for HAR-Wild’s asynchronous augmented learning is shown in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 5.4 HAR-Wild Async Augmented Training ‣ 5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. This algorithm is integrated in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4.4 Asynchronous Federate Averaging Implementation ‣ 4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> by replacing lines 7-12 from Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4.4 Asynchronous Federate Averaging Implementation ‣ 4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> with the <span id="S5.SS4.p2.5.1" class="ltx_text ltx_font_smallcaps">AugmentedGradients</span> procedure in Algorithm <a href="#alg2" title="Algorithm 2 ‣ 5.4 HAR-Wild Async Augmented Training ‣ 5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Before the whole training process starts, the FL Cloud Manager executes the procedure <span id="S5.SS4.p2.5.2" class="ltx_text ltx_font_smallcaps">Init</span> (lines 1-3, Algorithm <a href="#alg2" title="Algorithm 2 ‣ 5.4 HAR-Wild Async Augmented Training ‣ 5 HAR-Wild: Data, Model, and Training ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), which first collects a small pool of random samples for each class that will be used for data augmentation (line 2). These data can be collected from a small number of volunteers or controlled users who share IID data with the FL Cloud Manager in FLSys. The augmentation data pool could also come from publicly available datasets. Then, the augmentation data pool <math id="S5.SS4.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S5.SS4.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.1.m1.1.1" xref="S5.SS4.p2.1.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.1.m1.1b"><ci id="S5.SS4.p2.1.m1.1.1.cmml" xref="S5.SS4.p2.1.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.1.m1.1c">\mathcal{A}</annotation></semantics></math> is delivered to each client (line 3).
In each training round, each client (i.e., phone) randomly samples the augmentation data (line 8). Then, the sampled augmentation data <math id="S5.SS4.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{D_{A}}" display="inline"><semantics id="S5.SS4.p2.2.m2.1a"><msub id="S5.SS4.p2.2.m2.1.1" xref="S5.SS4.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.2.m2.1.1.2" xref="S5.SS4.p2.2.m2.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.2.m2.1.1.3" xref="S5.SS4.p2.2.m2.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.2.m2.1b"><apply id="S5.SS4.p2.2.m2.1.1.cmml" xref="S5.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.2.m2.1.1.1.cmml" xref="S5.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.p2.2.m2.1.1.2.cmml" xref="S5.SS4.p2.2.m2.1.1.2">𝒟</ci><ci id="S5.SS4.p2.2.m2.1.1.3.cmml" xref="S5.SS4.p2.2.m2.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.2.m2.1c">\mathcal{D_{A}}</annotation></semantics></math> will be combined with the local data <math id="S5.SS4.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{D_{L}}" display="inline"><semantics id="S5.SS4.p2.3.m3.1a"><msub id="S5.SS4.p2.3.m3.1.1" xref="S5.SS4.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.3.m3.1.1.2" xref="S5.SS4.p2.3.m3.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.3.m3.1.1.3" xref="S5.SS4.p2.3.m3.1.1.3.cmml">ℒ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.3.m3.1b"><apply id="S5.SS4.p2.3.m3.1.1.cmml" xref="S5.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.3.m3.1.1.1.cmml" xref="S5.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS4.p2.3.m3.1.1.2.cmml" xref="S5.SS4.p2.3.m3.1.1.2">𝒟</ci><ci id="S5.SS4.p2.3.m3.1.1.3.cmml" xref="S5.SS4.p2.3.m3.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.3.m3.1c">\mathcal{D_{L}}</annotation></semantics></math> (line 10, <span id="S5.SS4.p2.5.3" class="ltx_text ltx_font_smallcaps">Concatenate</span>(<math id="S5.SS4.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{D_{A}}" display="inline"><semantics id="S5.SS4.p2.4.m4.1a"><msub id="S5.SS4.p2.4.m4.1.1" xref="S5.SS4.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.4.m4.1.1.2" xref="S5.SS4.p2.4.m4.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.4.m4.1.1.3" xref="S5.SS4.p2.4.m4.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.4.m4.1b"><apply id="S5.SS4.p2.4.m4.1.1.cmml" xref="S5.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.4.m4.1.1.1.cmml" xref="S5.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS4.p2.4.m4.1.1.2.cmml" xref="S5.SS4.p2.4.m4.1.1.2">𝒟</ci><ci id="S5.SS4.p2.4.m4.1.1.3.cmml" xref="S5.SS4.p2.4.m4.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.4.m4.1c">\mathcal{D_{A}}</annotation></semantics></math>, <math id="S5.SS4.p2.5.m5.1" class="ltx_Math" alttext="\mathcal{D_{L}}" display="inline"><semantics id="S5.SS4.p2.5.m5.1a"><msub id="S5.SS4.p2.5.m5.1.1" xref="S5.SS4.p2.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.5.m5.1.1.2" xref="S5.SS4.p2.5.m5.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" id="S5.SS4.p2.5.m5.1.1.3" xref="S5.SS4.p2.5.m5.1.1.3.cmml">ℒ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.p2.5.m5.1b"><apply id="S5.SS4.p2.5.m5.1.1.cmml" xref="S5.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS4.p2.5.m5.1.1.1.cmml" xref="S5.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS4.p2.5.m5.1.1.2.cmml" xref="S5.SS4.p2.5.m5.1.1.2">𝒟</ci><ci id="S5.SS4.p2.5.m5.1.1.3.cmml" xref="S5.SS4.p2.5.m5.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.p2.5.m5.1c">\mathcal{D_{L}}</annotation></semantics></math>)) to compute the local gradients (lines 11-13, <span id="S5.SS4.p2.5.4" class="ltx_text ltx_font_smallcaps">LocalTraining</span>). The local gradients are then sent to the cloud for the asynchronous average aggregation and model update (line 14).</p>
</div>
<div id="S5.SS4.p3" class="ltx_para">
<p id="S5.SS4.p3.1" class="ltx_p">In order to deliver the augmentation data to the clients (line 3), we consider two objectives: <span id="S5.SS4.p3.1.1" class="ltx_text ltx_font_bold">(i)</span> privacy protection, and <span id="S5.SS4.p3.1.2" class="ltx_text ltx_font_bold">(ii)</span> communication efficiency. One naive approach is to send data to augment the missing classes at the clients in each training round, since the local missing data can change over time. In this approach, the FL Cloud Manager needs to know which classes are missing for each client in each training round. This could increase the communication cost and significantly increase data privacy risk, since the cloud learns certain aspects of the user behavior based on the classes that miss data over time. To achieve both privacy protection and communication efficiency, the approach implemented in FLSys (Algorithm 2) first delivers the entire augmentation data to every client only once at the beginning of the training process. Then, the clients use only the data necessary to augment their missing data. The clients check the missing classes when they receive the data, and re-check every time they accumulate enough new data (the amount of new data is a model-specific configuration parameter).</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption" style="font-size:80%;"><span class="ltx_tag ltx_tag_float"><span id="alg2.4.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> HAR-Wild Asynchronous Augmented Learning </figcaption>
<div id="alg2.5" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span><span id="alg2.l1.2" class="ltx_text ltx_font_bold" style="font-size:80%;">procedure</span><span id="alg2.l1.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg2.l1.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">Init</span><span id="alg2.l1.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l1.m1.1" class="ltx_Math" alttext="clients" display="inline"><semantics id="alg2.l1.m1.1a"><mrow id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml"><mi mathsize="80%" id="alg2.l1.m1.1.1.2" xref="alg2.l1.m1.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.3" xref="alg2.l1.m1.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1a" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.4" xref="alg2.l1.m1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1b" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.5" xref="alg2.l1.m1.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1c" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.6" xref="alg2.l1.m1.1.1.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1d" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.7" xref="alg2.l1.m1.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.1e" xref="alg2.l1.m1.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l1.m1.1.1.8" xref="alg2.l1.m1.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><apply id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1"><times id="alg2.l1.m1.1.1.1.cmml" xref="alg2.l1.m1.1.1.1"></times><ci id="alg2.l1.m1.1.1.2.cmml" xref="alg2.l1.m1.1.1.2">𝑐</ci><ci id="alg2.l1.m1.1.1.3.cmml" xref="alg2.l1.m1.1.1.3">𝑙</ci><ci id="alg2.l1.m1.1.1.4.cmml" xref="alg2.l1.m1.1.1.4">𝑖</ci><ci id="alg2.l1.m1.1.1.5.cmml" xref="alg2.l1.m1.1.1.5">𝑒</ci><ci id="alg2.l1.m1.1.1.6.cmml" xref="alg2.l1.m1.1.1.6">𝑛</ci><ci id="alg2.l1.m1.1.1.7.cmml" xref="alg2.l1.m1.1.1.7">𝑡</ci><ci id="alg2.l1.m1.1.1.8.cmml" xref="alg2.l1.m1.1.1.8">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">clients</annotation></semantics></math><span id="alg2.l1.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span><span id="alg2.l2.2" class="ltx_text" style="font-size:80%;">    augmentation pool </span><math id="alg2.l2.m1.1" class="ltx_Math" alttext="\mathcal{A}\leftarrow" display="inline"><semantics id="alg2.l2.m1.1a"><mrow id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l2.m1.1.1.2" xref="alg2.l2.m1.1.1.2.cmml">𝒜</mi><mo mathsize="80%" stretchy="false" id="alg2.l2.m1.1.1.1" xref="alg2.l2.m1.1.1.1.cmml">←</mo><mi id="alg2.l2.m1.1.1.3" xref="alg2.l2.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><apply id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1"><ci id="alg2.l2.m1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1">←</ci><ci id="alg2.l2.m1.1.1.2.cmml" xref="alg2.l2.m1.1.1.2">𝒜</ci><csymbol cd="latexml" id="alg2.l2.m1.1.1.3.cmml" xref="alg2.l2.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">\mathcal{A}\leftarrow</annotation></semantics></math><span id="alg2.l2.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg2.l2.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">sampleAugmentData</span><span id="alg2.l2.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l2.m2.1" class="ltx_Math" alttext="clients" display="inline"><semantics id="alg2.l2.m2.1a"><mrow id="alg2.l2.m2.1.1" xref="alg2.l2.m2.1.1.cmml"><mi mathsize="80%" id="alg2.l2.m2.1.1.2" xref="alg2.l2.m2.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.3" xref="alg2.l2.m2.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1a" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.4" xref="alg2.l2.m2.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1b" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.5" xref="alg2.l2.m2.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1c" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.6" xref="alg2.l2.m2.1.1.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1d" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.7" xref="alg2.l2.m2.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m2.1.1.1e" xref="alg2.l2.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l2.m2.1.1.8" xref="alg2.l2.m2.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m2.1b"><apply id="alg2.l2.m2.1.1.cmml" xref="alg2.l2.m2.1.1"><times id="alg2.l2.m2.1.1.1.cmml" xref="alg2.l2.m2.1.1.1"></times><ci id="alg2.l2.m2.1.1.2.cmml" xref="alg2.l2.m2.1.1.2">𝑐</ci><ci id="alg2.l2.m2.1.1.3.cmml" xref="alg2.l2.m2.1.1.3">𝑙</ci><ci id="alg2.l2.m2.1.1.4.cmml" xref="alg2.l2.m2.1.1.4">𝑖</ci><ci id="alg2.l2.m2.1.1.5.cmml" xref="alg2.l2.m2.1.1.5">𝑒</ci><ci id="alg2.l2.m2.1.1.6.cmml" xref="alg2.l2.m2.1.1.6">𝑛</ci><ci id="alg2.l2.m2.1.1.7.cmml" xref="alg2.l2.m2.1.1.7">𝑡</ci><ci id="alg2.l2.m2.1.1.8.cmml" xref="alg2.l2.m2.1.1.8">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m2.1c">clients</annotation></semantics></math><span id="alg2.l2.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span><span id="alg2.l3.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg2.l3.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">deliverAugmentPool</span><span id="alg2.l3.4" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l3.m1.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="alg2.l3.m1.1a"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><ci id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">\mathcal{A}</annotation></semantics></math><span id="alg2.l3.5" class="ltx_text" style="font-size:80%;">, </span><math id="alg2.l3.m2.1" class="ltx_Math" alttext="clients" display="inline"><semantics id="alg2.l3.m2.1a"><mrow id="alg2.l3.m2.1.1" xref="alg2.l3.m2.1.1.cmml"><mi mathsize="80%" id="alg2.l3.m2.1.1.2" xref="alg2.l3.m2.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.3" xref="alg2.l3.m2.1.1.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1a" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.4" xref="alg2.l3.m2.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1b" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.5" xref="alg2.l3.m2.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1c" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.6" xref="alg2.l3.m2.1.1.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1d" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.7" xref="alg2.l3.m2.1.1.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l3.m2.1.1.1e" xref="alg2.l3.m2.1.1.1.cmml">​</mo><mi mathsize="80%" id="alg2.l3.m2.1.1.8" xref="alg2.l3.m2.1.1.8.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m2.1b"><apply id="alg2.l3.m2.1.1.cmml" xref="alg2.l3.m2.1.1"><times id="alg2.l3.m2.1.1.1.cmml" xref="alg2.l3.m2.1.1.1"></times><ci id="alg2.l3.m2.1.1.2.cmml" xref="alg2.l3.m2.1.1.2">𝑐</ci><ci id="alg2.l3.m2.1.1.3.cmml" xref="alg2.l3.m2.1.1.3">𝑙</ci><ci id="alg2.l3.m2.1.1.4.cmml" xref="alg2.l3.m2.1.1.4">𝑖</ci><ci id="alg2.l3.m2.1.1.5.cmml" xref="alg2.l3.m2.1.1.5">𝑒</ci><ci id="alg2.l3.m2.1.1.6.cmml" xref="alg2.l3.m2.1.1.6">𝑛</ci><ci id="alg2.l3.m2.1.1.7.cmml" xref="alg2.l3.m2.1.1.7">𝑡</ci><ci id="alg2.l3.m2.1.1.8.cmml" xref="alg2.l3.m2.1.1.8">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m2.1c">clients</annotation></semantics></math><span id="alg2.l3.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span><span id="alg2.l4.2" class="ltx_text ltx_font_bold" style="font-size:80%;">procedure</span><span id="alg2.l4.3" class="ltx_text" style="font-size:80%;"> </span><span id="alg2.l4.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">AugmentedGradients</span><span id="alg2.l4.5" class="ltx_text" style="font-size:80%;">(Round </span><math id="alg2.l4.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="alg2.l4.m1.1a"><mi mathsize="80%" id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><ci id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">t</annotation></semantics></math><span id="alg2.l4.6" class="ltx_text" style="font-size:80%;">, Client </span><math id="alg2.l4.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg2.l4.m2.1a"><mi mathsize="80%" id="alg2.l4.m2.1.1" xref="alg2.l4.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg2.l4.m2.1b"><ci id="alg2.l4.m2.1.1.cmml" xref="alg2.l4.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m2.1c">i</annotation></semantics></math><span id="alg2.l4.7" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span><span id="alg2.l5.2" class="ltx_text" style="font-size:80%;">    Augmentation data pool </span><math id="alg2.l5.m1.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="alg2.l5.m1.1a"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><ci id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">\mathcal{A}</annotation></semantics></math><span id="alg2.l5.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span><span id="alg2.l6.2" class="ltx_text" style="font-size:80%;">    Local data pool </span><math id="alg2.l6.m1.1" class="ltx_Math" alttext="\mathcal{L}_{i}" display="inline"><semantics id="alg2.l6.m1.1a"><msub id="alg2.l6.m1.1.1" xref="alg2.l6.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l6.m1.1.1.2" xref="alg2.l6.m1.1.1.2.cmml">ℒ</mi><mi mathsize="80%" id="alg2.l6.m1.1.1.3" xref="alg2.l6.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l6.m1.1b"><apply id="alg2.l6.m1.1.1.cmml" xref="alg2.l6.m1.1.1"><csymbol cd="ambiguous" id="alg2.l6.m1.1.1.1.cmml" xref="alg2.l6.m1.1.1">subscript</csymbol><ci id="alg2.l6.m1.1.1.2.cmml" xref="alg2.l6.m1.1.1.2">ℒ</ci><ci id="alg2.l6.m1.1.1.3.cmml" xref="alg2.l6.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">\mathcal{L}_{i}</annotation></semantics></math><span id="alg2.l6.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span><span id="alg2.l7.2" class="ltx_text" style="font-size:80%;">    </span><math id="alg2.l7.m1.1" class="ltx_Math" alttext="\theta_{l}\leftarrow\theta^{t}" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml"><msub id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml"><mi mathsize="80%" id="alg2.l7.m1.1.1.2.2" xref="alg2.l7.m1.1.1.2.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l7.m1.1.1.2.3" xref="alg2.l7.m1.1.1.2.3.cmml">l</mi></msub><mo mathsize="80%" stretchy="false" id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml">←</mo><msup id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml"><mi mathsize="80%" id="alg2.l7.m1.1.1.3.2" xref="alg2.l7.m1.1.1.3.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l7.m1.1.1.3.3" xref="alg2.l7.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1"><ci id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1">←</ci><apply id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.2.1.cmml" xref="alg2.l7.m1.1.1.2">subscript</csymbol><ci id="alg2.l7.m1.1.1.2.2.cmml" xref="alg2.l7.m1.1.1.2.2">𝜃</ci><ci id="alg2.l7.m1.1.1.2.3.cmml" xref="alg2.l7.m1.1.1.2.3">𝑙</ci></apply><apply id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l7.m1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.3">superscript</csymbol><ci id="alg2.l7.m1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.3.2">𝜃</ci><ci id="alg2.l7.m1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">\theta_{l}\leftarrow\theta^{t}</annotation></semantics></math><span id="alg2.l7.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span><span id="alg2.l8.2" class="ltx_text" style="font-size:80%;">    augmentation data </span><math id="alg2.l8.m1.1" class="ltx_Math" alttext="\mathcal{D_{A}}" display="inline"><semantics id="alg2.l8.m1.1a"><msub id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1">subscript</csymbol><ci id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2">𝒟</ci><ci id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">\mathcal{D_{A}}</annotation></semantics></math><span id="alg2.l8.3" class="ltx_text" style="font-size:80%;"> = </span><span id="alg2.l8.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">sampleAugmentData</span><span id="alg2.l8.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l8.m2.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="alg2.l8.m2.1a"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l8.m2.1.1" xref="alg2.l8.m2.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="alg2.l8.m2.1b"><ci id="alg2.l8.m2.1.1.cmml" xref="alg2.l8.m2.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m2.1c">\mathcal{A}</annotation></semantics></math><span id="alg2.l8.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span><span id="alg2.l9.2" class="ltx_text" style="font-size:80%;">    local data </span><math id="alg2.l9.m1.1" class="ltx_Math" alttext="\mathcal{D_{L}}" display="inline"><semantics id="alg2.l9.m1.1a"><msub id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l9.m1.1.1.2" xref="alg2.l9.m1.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l9.m1.1.1.3" xref="alg2.l9.m1.1.1.3.cmml">ℒ</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.1b"><apply id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1"><csymbol cd="ambiguous" id="alg2.l9.m1.1.1.1.cmml" xref="alg2.l9.m1.1.1">subscript</csymbol><ci id="alg2.l9.m1.1.1.2.cmml" xref="alg2.l9.m1.1.1.2">𝒟</ci><ci id="alg2.l9.m1.1.1.3.cmml" xref="alg2.l9.m1.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.1c">\mathcal{D_{L}}</annotation></semantics></math><span id="alg2.l9.3" class="ltx_text" style="font-size:80%;"> = </span><span id="alg2.l9.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">sampleData</span><span id="alg2.l9.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l9.m2.1" class="ltx_Math" alttext="\mathcal{L}_{i}" display="inline"><semantics id="alg2.l9.m2.1a"><msub id="alg2.l9.m2.1.1" xref="alg2.l9.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l9.m2.1.1.2" xref="alg2.l9.m2.1.1.2.cmml">ℒ</mi><mi mathsize="80%" id="alg2.l9.m2.1.1.3" xref="alg2.l9.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l9.m2.1b"><apply id="alg2.l9.m2.1.1.cmml" xref="alg2.l9.m2.1.1"><csymbol cd="ambiguous" id="alg2.l9.m2.1.1.1.cmml" xref="alg2.l9.m2.1.1">subscript</csymbol><ci id="alg2.l9.m2.1.1.2.cmml" xref="alg2.l9.m2.1.1.2">ℒ</ci><ci id="alg2.l9.m2.1.1.3.cmml" xref="alg2.l9.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m2.1c">\mathcal{L}_{i}</annotation></semantics></math><span id="alg2.l9.6" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span><span id="alg2.l10.2" class="ltx_text" style="font-size:80%;">    training data </span><math id="alg2.l10.m1.1" class="ltx_Math" alttext="\mathcal{D_{T}}" display="inline"><semantics id="alg2.l10.m1.1a"><msub id="alg2.l10.m1.1.1" xref="alg2.l10.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m1.1.1.2" xref="alg2.l10.m1.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m1.1.1.3" xref="alg2.l10.m1.1.1.3.cmml">𝒯</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l10.m1.1b"><apply id="alg2.l10.m1.1.1.cmml" xref="alg2.l10.m1.1.1"><csymbol cd="ambiguous" id="alg2.l10.m1.1.1.1.cmml" xref="alg2.l10.m1.1.1">subscript</csymbol><ci id="alg2.l10.m1.1.1.2.cmml" xref="alg2.l10.m1.1.1.2">𝒟</ci><ci id="alg2.l10.m1.1.1.3.cmml" xref="alg2.l10.m1.1.1.3">𝒯</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m1.1c">\mathcal{D_{T}}</annotation></semantics></math><span id="alg2.l10.3" class="ltx_text" style="font-size:80%;"> = </span><span id="alg2.l10.4" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">concatenate</span><span id="alg2.l10.5" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l10.m2.1" class="ltx_Math" alttext="\mathcal{D_{A}}" display="inline"><semantics id="alg2.l10.m2.1a"><msub id="alg2.l10.m2.1.1" xref="alg2.l10.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m2.1.1.2" xref="alg2.l10.m2.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m2.1.1.3" xref="alg2.l10.m2.1.1.3.cmml">𝒜</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l10.m2.1b"><apply id="alg2.l10.m2.1.1.cmml" xref="alg2.l10.m2.1.1"><csymbol cd="ambiguous" id="alg2.l10.m2.1.1.1.cmml" xref="alg2.l10.m2.1.1">subscript</csymbol><ci id="alg2.l10.m2.1.1.2.cmml" xref="alg2.l10.m2.1.1.2">𝒟</ci><ci id="alg2.l10.m2.1.1.3.cmml" xref="alg2.l10.m2.1.1.3">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m2.1c">\mathcal{D_{A}}</annotation></semantics></math><span id="alg2.l10.6" class="ltx_text" style="font-size:80%;">, </span><math id="alg2.l10.m3.1" class="ltx_Math" alttext="\mathcal{D_{L}}" display="inline"><semantics id="alg2.l10.m3.1a"><msub id="alg2.l10.m3.1.1" xref="alg2.l10.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m3.1.1.2" xref="alg2.l10.m3.1.1.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l10.m3.1.1.3" xref="alg2.l10.m3.1.1.3.cmml">ℒ</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l10.m3.1b"><apply id="alg2.l10.m3.1.1.cmml" xref="alg2.l10.m3.1.1"><csymbol cd="ambiguous" id="alg2.l10.m3.1.1.1.cmml" xref="alg2.l10.m3.1.1">subscript</csymbol><ci id="alg2.l10.m3.1.1.2.cmml" xref="alg2.l10.m3.1.1.2">𝒟</ci><ci id="alg2.l10.m3.1.1.3.cmml" xref="alg2.l10.m3.1.1.3">ℒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l10.m3.1c">\mathcal{D_{L}}</annotation></semantics></math><span id="alg2.l10.7" class="ltx_text" style="font-size:80%;">)
</span>
</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span><span id="alg2.l11.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg2.l11.3" class="ltx_text ltx_font_bold" style="font-size:80%;">for</span><span id="alg2.l11.4" class="ltx_text" style="font-size:80%;"> batch </span><math id="alg2.l11.m1.1" class="ltx_Math" alttext="b\in\mathcal{D_{T}}" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml"><mi mathsize="80%" id="alg2.l11.m1.1.1.2" xref="alg2.l11.m1.1.1.2.cmml">b</mi><mo mathsize="80%" id="alg2.l11.m1.1.1.1" xref="alg2.l11.m1.1.1.1.cmml">∈</mo><msub id="alg2.l11.m1.1.1.3" xref="alg2.l11.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l11.m1.1.1.3.2" xref="alg2.l11.m1.1.1.3.2.cmml">𝒟</mi><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l11.m1.1.1.3.3" xref="alg2.l11.m1.1.1.3.3.cmml">𝒯</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1"><in id="alg2.l11.m1.1.1.1.cmml" xref="alg2.l11.m1.1.1.1"></in><ci id="alg2.l11.m1.1.1.2.cmml" xref="alg2.l11.m1.1.1.2">𝑏</ci><apply id="alg2.l11.m1.1.1.3.cmml" xref="alg2.l11.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l11.m1.1.1.3.1.cmml" xref="alg2.l11.m1.1.1.3">subscript</csymbol><ci id="alg2.l11.m1.1.1.3.2.cmml" xref="alg2.l11.m1.1.1.3.2">𝒟</ci><ci id="alg2.l11.m1.1.1.3.3.cmml" xref="alg2.l11.m1.1.1.3.3">𝒯</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">b\in\mathcal{D_{T}}</annotation></semantics></math><span id="alg2.l11.5" class="ltx_text" style="font-size:80%;"> </span><span id="alg2.l11.6" class="ltx_text ltx_font_bold" style="font-size:80%;">do</span><span id="alg2.l11.7" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span><span id="alg2.l12.2" class="ltx_text" style="font-size:80%;">        </span><math id="alg2.l12.m1.2" class="ltx_Math" alttext="\theta_{l}\leftarrow\theta_{l}-\eta\nabla\mathcal{L}(\theta_{l};b)" display="inline"><semantics id="alg2.l12.m1.2a"><mrow id="alg2.l12.m1.2.2" xref="alg2.l12.m1.2.2.cmml"><msub id="alg2.l12.m1.2.2.3" xref="alg2.l12.m1.2.2.3.cmml"><mi mathsize="80%" id="alg2.l12.m1.2.2.3.2" xref="alg2.l12.m1.2.2.3.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l12.m1.2.2.3.3" xref="alg2.l12.m1.2.2.3.3.cmml">l</mi></msub><mo mathsize="80%" stretchy="false" id="alg2.l12.m1.2.2.2" xref="alg2.l12.m1.2.2.2.cmml">←</mo><mrow id="alg2.l12.m1.2.2.1" xref="alg2.l12.m1.2.2.1.cmml"><msub id="alg2.l12.m1.2.2.1.3" xref="alg2.l12.m1.2.2.1.3.cmml"><mi mathsize="80%" id="alg2.l12.m1.2.2.1.3.2" xref="alg2.l12.m1.2.2.1.3.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l12.m1.2.2.1.3.3" xref="alg2.l12.m1.2.2.1.3.3.cmml">l</mi></msub><mo mathsize="80%" id="alg2.l12.m1.2.2.1.2" xref="alg2.l12.m1.2.2.1.2.cmml">−</mo><mrow id="alg2.l12.m1.2.2.1.1" xref="alg2.l12.m1.2.2.1.1.cmml"><mi mathsize="80%" id="alg2.l12.m1.2.2.1.1.3" xref="alg2.l12.m1.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg2.l12.m1.2.2.1.1.2" xref="alg2.l12.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg2.l12.m1.2.2.1.1.4" xref="alg2.l12.m1.2.2.1.1.4.cmml"><mo mathsize="80%" rspace="0.167em" id="alg2.l12.m1.2.2.1.1.4.1" xref="alg2.l12.m1.2.2.1.1.4.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" mathsize="80%" id="alg2.l12.m1.2.2.1.1.4.2" xref="alg2.l12.m1.2.2.1.1.4.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="alg2.l12.m1.2.2.1.1.2a" xref="alg2.l12.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg2.l12.m1.2.2.1.1.1.1" xref="alg2.l12.m1.2.2.1.1.1.2.cmml"><mo maxsize="80%" minsize="80%" id="alg2.l12.m1.2.2.1.1.1.1.2" xref="alg2.l12.m1.2.2.1.1.1.2.cmml">(</mo><msub id="alg2.l12.m1.2.2.1.1.1.1.1" xref="alg2.l12.m1.2.2.1.1.1.1.1.cmml"><mi mathsize="80%" id="alg2.l12.m1.2.2.1.1.1.1.1.2" xref="alg2.l12.m1.2.2.1.1.1.1.1.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l12.m1.2.2.1.1.1.1.1.3" xref="alg2.l12.m1.2.2.1.1.1.1.1.3.cmml">l</mi></msub><mo mathsize="80%" id="alg2.l12.m1.2.2.1.1.1.1.3" xref="alg2.l12.m1.2.2.1.1.1.2.cmml">;</mo><mi mathsize="80%" id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml">b</mi><mo maxsize="80%" minsize="80%" id="alg2.l12.m1.2.2.1.1.1.1.4" xref="alg2.l12.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.2b"><apply id="alg2.l12.m1.2.2.cmml" xref="alg2.l12.m1.2.2"><ci id="alg2.l12.m1.2.2.2.cmml" xref="alg2.l12.m1.2.2.2">←</ci><apply id="alg2.l12.m1.2.2.3.cmml" xref="alg2.l12.m1.2.2.3"><csymbol cd="ambiguous" id="alg2.l12.m1.2.2.3.1.cmml" xref="alg2.l12.m1.2.2.3">subscript</csymbol><ci id="alg2.l12.m1.2.2.3.2.cmml" xref="alg2.l12.m1.2.2.3.2">𝜃</ci><ci id="alg2.l12.m1.2.2.3.3.cmml" xref="alg2.l12.m1.2.2.3.3">𝑙</ci></apply><apply id="alg2.l12.m1.2.2.1.cmml" xref="alg2.l12.m1.2.2.1"><minus id="alg2.l12.m1.2.2.1.2.cmml" xref="alg2.l12.m1.2.2.1.2"></minus><apply id="alg2.l12.m1.2.2.1.3.cmml" xref="alg2.l12.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg2.l12.m1.2.2.1.3.1.cmml" xref="alg2.l12.m1.2.2.1.3">subscript</csymbol><ci id="alg2.l12.m1.2.2.1.3.2.cmml" xref="alg2.l12.m1.2.2.1.3.2">𝜃</ci><ci id="alg2.l12.m1.2.2.1.3.3.cmml" xref="alg2.l12.m1.2.2.1.3.3">𝑙</ci></apply><apply id="alg2.l12.m1.2.2.1.1.cmml" xref="alg2.l12.m1.2.2.1.1"><times id="alg2.l12.m1.2.2.1.1.2.cmml" xref="alg2.l12.m1.2.2.1.1.2"></times><ci id="alg2.l12.m1.2.2.1.1.3.cmml" xref="alg2.l12.m1.2.2.1.1.3">𝜂</ci><apply id="alg2.l12.m1.2.2.1.1.4.cmml" xref="alg2.l12.m1.2.2.1.1.4"><ci id="alg2.l12.m1.2.2.1.1.4.1.cmml" xref="alg2.l12.m1.2.2.1.1.4.1">∇</ci><ci id="alg2.l12.m1.2.2.1.1.4.2.cmml" xref="alg2.l12.m1.2.2.1.1.4.2">ℒ</ci></apply><list id="alg2.l12.m1.2.2.1.1.1.2.cmml" xref="alg2.l12.m1.2.2.1.1.1.1"><apply id="alg2.l12.m1.2.2.1.1.1.1.1.cmml" xref="alg2.l12.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l12.m1.2.2.1.1.1.1.1.1.cmml" xref="alg2.l12.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="alg2.l12.m1.2.2.1.1.1.1.1.2.cmml" xref="alg2.l12.m1.2.2.1.1.1.1.1.2">𝜃</ci><ci id="alg2.l12.m1.2.2.1.1.1.1.1.3.cmml" xref="alg2.l12.m1.2.2.1.1.1.1.1.3">𝑙</ci></apply><ci id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.2c">\theta_{l}\leftarrow\theta_{l}-\eta\nabla\mathcal{L}(\theta_{l};b)</annotation></semantics></math><span id="alg2.l12.3" class="ltx_text" style="font-size:80%;">
    </span>
</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span><span id="alg2.l13.2" class="ltx_text" style="font-size:80%;">    </span><math id="alg2.l13.m1.1" class="ltx_Math" alttext="\Delta_{l}\leftarrow\theta_{l}-\theta^{t}" display="inline"><semantics id="alg2.l13.m1.1a"><mrow id="alg2.l13.m1.1.1" xref="alg2.l13.m1.1.1.cmml"><msub id="alg2.l13.m1.1.1.2" xref="alg2.l13.m1.1.1.2.cmml"><mi mathsize="80%" mathvariant="normal" id="alg2.l13.m1.1.1.2.2" xref="alg2.l13.m1.1.1.2.2.cmml">Δ</mi><mi mathsize="80%" id="alg2.l13.m1.1.1.2.3" xref="alg2.l13.m1.1.1.2.3.cmml">l</mi></msub><mo mathsize="80%" stretchy="false" id="alg2.l13.m1.1.1.1" xref="alg2.l13.m1.1.1.1.cmml">←</mo><mrow id="alg2.l13.m1.1.1.3" xref="alg2.l13.m1.1.1.3.cmml"><msub id="alg2.l13.m1.1.1.3.2" xref="alg2.l13.m1.1.1.3.2.cmml"><mi mathsize="80%" id="alg2.l13.m1.1.1.3.2.2" xref="alg2.l13.m1.1.1.3.2.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l13.m1.1.1.3.2.3" xref="alg2.l13.m1.1.1.3.2.3.cmml">l</mi></msub><mo mathsize="80%" id="alg2.l13.m1.1.1.3.1" xref="alg2.l13.m1.1.1.3.1.cmml">−</mo><msup id="alg2.l13.m1.1.1.3.3" xref="alg2.l13.m1.1.1.3.3.cmml"><mi mathsize="80%" id="alg2.l13.m1.1.1.3.3.2" xref="alg2.l13.m1.1.1.3.3.2.cmml">θ</mi><mi mathsize="80%" id="alg2.l13.m1.1.1.3.3.3" xref="alg2.l13.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l13.m1.1b"><apply id="alg2.l13.m1.1.1.cmml" xref="alg2.l13.m1.1.1"><ci id="alg2.l13.m1.1.1.1.cmml" xref="alg2.l13.m1.1.1.1">←</ci><apply id="alg2.l13.m1.1.1.2.cmml" xref="alg2.l13.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l13.m1.1.1.2.1.cmml" xref="alg2.l13.m1.1.1.2">subscript</csymbol><ci id="alg2.l13.m1.1.1.2.2.cmml" xref="alg2.l13.m1.1.1.2.2">Δ</ci><ci id="alg2.l13.m1.1.1.2.3.cmml" xref="alg2.l13.m1.1.1.2.3">𝑙</ci></apply><apply id="alg2.l13.m1.1.1.3.cmml" xref="alg2.l13.m1.1.1.3"><minus id="alg2.l13.m1.1.1.3.1.cmml" xref="alg2.l13.m1.1.1.3.1"></minus><apply id="alg2.l13.m1.1.1.3.2.cmml" xref="alg2.l13.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l13.m1.1.1.3.2.1.cmml" xref="alg2.l13.m1.1.1.3.2">subscript</csymbol><ci id="alg2.l13.m1.1.1.3.2.2.cmml" xref="alg2.l13.m1.1.1.3.2.2">𝜃</ci><ci id="alg2.l13.m1.1.1.3.2.3.cmml" xref="alg2.l13.m1.1.1.3.2.3">𝑙</ci></apply><apply id="alg2.l13.m1.1.1.3.3.cmml" xref="alg2.l13.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg2.l13.m1.1.1.3.3.1.cmml" xref="alg2.l13.m1.1.1.3.3">superscript</csymbol><ci id="alg2.l13.m1.1.1.3.3.2.cmml" xref="alg2.l13.m1.1.1.3.3.2">𝜃</ci><ci id="alg2.l13.m1.1.1.3.3.3.cmml" xref="alg2.l13.m1.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l13.m1.1c">\Delta_{l}\leftarrow\theta_{l}-\theta^{t}</annotation></semantics></math><span id="alg2.l13.3" class="ltx_text" style="font-size:80%;">
</span>
</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span><span id="alg2.l14.2" class="ltx_text" style="font-size:80%;">    </span><span id="alg2.l14.3" class="ltx_text ltx_font_smallcaps" style="font-size:80%;">uploadClientGradients</span><span id="alg2.l14.4" class="ltx_text" style="font-size:80%;">(</span><math id="alg2.l14.m1.1" class="ltx_Math" alttext="\Delta_{i}" display="inline"><semantics id="alg2.l14.m1.1a"><msub id="alg2.l14.m1.1.1" xref="alg2.l14.m1.1.1.cmml"><mi mathsize="80%" mathvariant="normal" id="alg2.l14.m1.1.1.2" xref="alg2.l14.m1.1.1.2.cmml">Δ</mi><mi mathsize="80%" id="alg2.l14.m1.1.1.3" xref="alg2.l14.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg2.l14.m1.1b"><apply id="alg2.l14.m1.1.1.cmml" xref="alg2.l14.m1.1.1"><csymbol cd="ambiguous" id="alg2.l14.m1.1.1.1.cmml" xref="alg2.l14.m1.1.1">subscript</csymbol><ci id="alg2.l14.m1.1.1.2.cmml" xref="alg2.l14.m1.1.1.2">Δ</ci><ci id="alg2.l14.m1.1.1.3.cmml" xref="alg2.l14.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l14.m1.1c">\Delta_{i}</annotation></semantics></math><span id="alg2.l14.5" class="ltx_text" style="font-size:80%;">)
</span>
</div>
</div>
</figure>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Evaluation</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">The evaluation has two main goals: <span id="S6.p1.1.1" class="ltx_text ltx_font_bold">(i)</span> Analyze the performance of the two FL models, HAR-Wild and sentiment analysis (SA) with different aggregators and DP mechanisms.
<span id="S6.p1.1.2" class="ltx_text ltx_font_bold">(ii)</span> Quantify the system performance of FLSys with HAR-Wild and SA on Android and AWS. In terms of system performance, we investigate energy efficiency and memory consumption on the phone, system tolerance to phones that do not upload local gradients, and FL aggregation scalability in the cloud. We also study the overall response time for third party apps that use FLSys on the phone. For model evaluation, we use Accuracy, Precision, Recall, and F1-score metrics. For system performance, we report execution time and memory consumption for both the phones and the cloud, and battery consumption on the phones.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">Most of the evaluation is done with HAR-Wild, which illustrates a typical FL model based on mobile sensing data. To demonstrate that FL works for different models, we also show results for the SA model. The rest of the section is organized as follows: Section <a href="#S6.SS1" title="6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.1</span></a> compares HAR-Wild against baseline models and evaluates the effect of data augmentation, different aggregators, and advanced privacy mechanisms on HAR-Wild’s performance. Section <a href="#S6.SS2" title="6.2 Sentiment Analysis (SA) Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.2</span></a> describes the sentiment analysis (SA) model, used to demonstrate FLSys’s support for different models, and shows its performance. Section <a href="#S6.SS3" title="6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.3</span></a> shows the HAR-Wild performance over the FLSys prototype, in terms of model accuracy, fault tolerance, and scalability. Since we did not have enough phones for larger-scale experiments, we show these results using Android/Linux emulators to replay each user’s data. Finally, Section <a href="#S6.SS4" title="6.4 FLSys Performance on Smart Phones ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.4</span></a> presents results for HAR-Wild and SA over FLSys on two types of Android phones.</p>
</div>
<figure id="S6.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Number of Samples in the Dataset for 51 Users</figcaption>
<div id="S6.T2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:173.4pt;height:35.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-62.1pt,12.6pt) scale(0.582682336687135,0.582682336687135) ;">
<table id="S6.T2.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T2.1.1.1" class="ltx_tr">
<td id="S6.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Type</td>
<td id="S6.T2.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T2.1.1.1.2.1" class="ltx_inline-block">
<span id="S6.T2.1.1.1.2.1.1" class="ltx_p">Class 0</span>
<span id="S6.T2.1.1.1.2.1.2" class="ltx_p">Walking</span>
</span>
</td>
<td id="S6.T2.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T2.1.1.1.3.1" class="ltx_inline-block">
<span id="S6.T2.1.1.1.3.1.1" class="ltx_p">Class 1</span>
<span id="S6.T2.1.1.1.3.1.2" class="ltx_p">Sitting</span>
</span>
</td>
<td id="S6.T2.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T2.1.1.1.4.1" class="ltx_inline-block">
<span id="S6.T2.1.1.1.4.1.1" class="ltx_p">Class 2</span>
<span id="S6.T2.1.1.1.4.1.2" class="ltx_p">In Car</span>
</span>
</td>
<td id="S6.T2.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T2.1.1.1.5.1" class="ltx_inline-block">
<span id="S6.T2.1.1.1.5.1.1" class="ltx_p">Class 3</span>
<span id="S6.T2.1.1.1.5.1.2" class="ltx_p">Cycling</span>
</span>
</td>
<td id="S6.T2.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T2.1.1.1.6.1" class="ltx_inline-block">
<span id="S6.T2.1.1.1.6.1.1" class="ltx_p">Class 4</span>
<span id="S6.T2.1.1.1.6.1.2" class="ltx_p">Running</span>
</span>
</td>
</tr>
<tr id="S6.T2.1.1.2" class="ltx_tr">
<td id="S6.T2.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Training</td>
<td id="S6.T2.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">48855</td>
<td id="S6.T2.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">51499</td>
<td id="S6.T2.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">49185</td>
<td id="S6.T2.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">14281</td>
<td id="S6.T2.1.1.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1920</td>
</tr>
<tr id="S6.T2.1.1.3" class="ltx_tr">
<td id="S6.T2.1.1.3.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Testing</td>
<td id="S6.T2.1.1.3.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">8514</td>
<td id="S6.T2.1.1.3.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">8828</td>
<td id="S6.T2.1.1.3.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">8595</td>
<td id="S6.T2.1.1.3.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">2514</td>
<td id="S6.T2.1.1.3.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">319</td>
</tr>
</table>
</span></div>
</figure>
<figure id="S6.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE III: </span>Model Settings of HAR-W and Baselines</figcaption>
<div id="S6.T3.8" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:216.8pt;height:162.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-132.4pt,99.5pt) scale(0.450149869797722,0.450149869797722) ;">
<table id="S6.T3.8.8" class="ltx_tabular ltx_align_middle">
<tr id="S6.T3.8.8.9" class="ltx_tr">
<td id="S6.T3.8.8.9.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Model</td>
<td id="S6.T3.8.8.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Optimizer</td>
<td id="S6.T3.8.8.9.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Other key parameters</td>
</tr>
<tr id="S6.T3.8.8.10" class="ltx_tr">
<td id="S6.T3.8.8.10.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.10.1.1" class="ltx_text"></span> <span id="S6.T3.8.8.10.1.2" class="ltx_text">
<span id="S6.T3.8.8.10.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.10.1.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.10.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">HAR-Wild</span></span>
<span id="S6.T3.8.8.10.1.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.10.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(centralized)</span></span>
</span></span><span id="S6.T3.8.8.10.1.3" class="ltx_text"></span></td>
<td id="S6.T3.8.8.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.8.8.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.10.3.1" class="ltx_text"></span> <span id="S6.T3.8.8.10.3.2" class="ltx_text">
<span id="S6.T3.8.8.10.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.10.3.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.10.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">LR=0.0005, dropout_rate=0.4, batch_size=1024</span></span>
<span id="S6.T3.8.8.10.3.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.10.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: Same as class distribution</span></span>
</span></span><span id="S6.T3.8.8.10.3.3" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.2.2.2" class="ltx_tr">
<td id="S6.T3.2.2.2.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.2.2.2.3.1" class="ltx_text"></span> <span id="S6.T3.2.2.2.3.2" class="ltx_text">
<span id="S6.T3.2.2.2.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.2.2.2.3.2.1.1" class="ltx_tr">
<span id="S6.T3.2.2.2.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">HAR-Wild</span></span>
<span id="S6.T3.2.2.2.3.2.1.2" class="ltx_tr">
<span id="S6.T3.2.2.2.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(sim-FL)</span></span>
</span></span><span id="S6.T3.2.2.2.3.3" class="ltx_text"></span></td>
<td id="S6.T3.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.2.2.2.2.3" class="ltx_text"></span> <span id="S6.T3.2.2.2.2.2" class="ltx_text">
<span id="S6.T3.2.2.2.2.2.2" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.2.2.2.2.2.2.3" class="ltx_tr">
<span id="S6.T3.2.2.2.2.2.2.3.1" class="ltx_td ltx_nopad_r ltx_align_center">client_LR=0.005, server_LR=1.0, dropout_rate=0.4, batch_size=128,</span></span>
<span id="S6.T3.2.2.2.2.2.2.2" class="ltx_tr">
<span id="S6.T3.2.2.2.2.2.2.2.2" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: <math id="S6.T3.1.1.1.1.1.1.1.1.m1.2" class="ltx_Math" alttext="[50,100]" display="inline"><semantics id="S6.T3.1.1.1.1.1.1.1.1.m1.2a"><mrow id="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.2" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.2.1" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">[</mo><mn id="S6.T3.1.1.1.1.1.1.1.1.m1.1.1" xref="S6.T3.1.1.1.1.1.1.1.1.m1.1.1.cmml">50</mn><mo id="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.2.2" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mn id="S6.T3.1.1.1.1.1.1.1.1.m1.2.2" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.2.cmml">100</mn><mo stretchy="false" id="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.2.3" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.1.1.1.1.1.1.1.1.m1.2b"><interval closure="closed" id="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.1.cmml" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.3.2"><cn type="integer" id="S6.T3.1.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S6.T3.1.1.1.1.1.1.1.1.m1.1.1">50</cn><cn type="integer" id="S6.T3.1.1.1.1.1.1.1.1.m1.2.2.cmml" xref="S6.T3.1.1.1.1.1.1.1.1.m1.2.2">100</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.1.1.1.1.1.1.1.1.m1.2c">[50,100]</annotation></semantics></math> samples per class, <math id="S6.T3.2.2.2.2.2.2.2.2.m2.2" class="ltx_Math" alttext="[15,30]" display="inline"><semantics id="S6.T3.2.2.2.2.2.2.2.2.m2.2a"><mrow id="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.2" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.1.cmml"><mo stretchy="false" id="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.2.1" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.1.cmml">[</mo><mn id="S6.T3.2.2.2.2.2.2.2.2.m2.1.1" xref="S6.T3.2.2.2.2.2.2.2.2.m2.1.1.cmml">15</mn><mo id="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.2.2" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.1.cmml">,</mo><mn id="S6.T3.2.2.2.2.2.2.2.2.m2.2.2" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.2.cmml">30</mn><mo stretchy="false" id="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.2.3" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.2.2.2.2.2.2.2.2.m2.2b"><interval closure="closed" id="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.1.cmml" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.3.2"><cn type="integer" id="S6.T3.2.2.2.2.2.2.2.2.m2.1.1.cmml" xref="S6.T3.2.2.2.2.2.2.2.2.m2.1.1">15</cn><cn type="integer" id="S6.T3.2.2.2.2.2.2.2.2.m2.2.2.cmml" xref="S6.T3.2.2.2.2.2.2.2.2.m2.2.2">30</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.2.2.2.2.2.2.2.2.m2.2c">[15,30]</annotation></semantics></math> augment samples per class</span></span>
</span></span><span id="S6.T3.2.2.2.2.4" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.4.4.4" class="ltx_tr">
<td id="S6.T3.4.4.4.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.4.4.4.3.1" class="ltx_text"></span> <span id="S6.T3.4.4.4.3.2" class="ltx_text">
<span id="S6.T3.4.4.4.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.4.4.4.3.2.1.1" class="ltx_tr">
<span id="S6.T3.4.4.4.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">HAR-Wild</span></span>
<span id="S6.T3.4.4.4.3.2.1.2" class="ltx_tr">
<span id="S6.T3.4.4.4.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(sim-FL with</span></span>
<span id="S6.T3.4.4.4.3.2.1.3" class="ltx_tr">
<span id="S6.T3.4.4.4.3.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_center">additional</span></span>
<span id="S6.T3.4.4.4.3.2.1.4" class="ltx_tr">
<span id="S6.T3.4.4.4.3.2.1.4.1" class="ltx_td ltx_nopad_r ltx_align_center">aggregators)</span></span>
</span></span><span id="S6.T3.4.4.4.3.3" class="ltx_text"></span></td>
<td id="S6.T3.4.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.4.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.4.4.4.2.3" class="ltx_text"></span> <span id="S6.T3.4.4.4.2.2" class="ltx_text">
<span id="S6.T3.4.4.4.2.2.2" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.4.4.4.2.2.2.3" class="ltx_tr">
<span id="S6.T3.4.4.4.2.2.2.3.1" class="ltx_td ltx_nopad_r ltx_align_center">client_LR=0.005, server_LR=1.0, dropout_rate=0.4, batch_size=128</span></span>
<span id="S6.T3.4.4.4.2.2.2.4" class="ltx_tr">
<span id="S6.T3.4.4.4.2.2.2.4.1" class="ltx_td ltx_nopad_r ltx_align_center">degree_of_adaptivity = 1, decay_parameters = 0.1, 0.9</span></span>
<span id="S6.T3.4.4.4.2.2.2.2" class="ltx_tr">
<span id="S6.T3.4.4.4.2.2.2.2.2" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: <math id="S6.T3.3.3.3.1.1.1.1.1.m1.2" class="ltx_Math" alttext="[50,100]" display="inline"><semantics id="S6.T3.3.3.3.1.1.1.1.1.m1.2a"><mrow id="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.2" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.2.1" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.1.cmml">[</mo><mn id="S6.T3.3.3.3.1.1.1.1.1.m1.1.1" xref="S6.T3.3.3.3.1.1.1.1.1.m1.1.1.cmml">50</mn><mo id="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.2.2" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mn id="S6.T3.3.3.3.1.1.1.1.1.m1.2.2" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.2.cmml">100</mn><mo stretchy="false" id="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.2.3" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.3.3.3.1.1.1.1.1.m1.2b"><interval closure="closed" id="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.1.cmml" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.3.2"><cn type="integer" id="S6.T3.3.3.3.1.1.1.1.1.m1.1.1.cmml" xref="S6.T3.3.3.3.1.1.1.1.1.m1.1.1">50</cn><cn type="integer" id="S6.T3.3.3.3.1.1.1.1.1.m1.2.2.cmml" xref="S6.T3.3.3.3.1.1.1.1.1.m1.2.2">100</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.3.3.1.1.1.1.1.m1.2c">[50,100]</annotation></semantics></math> samples per class,
<math id="S6.T3.4.4.4.2.2.2.2.2.m2.2" class="ltx_Math" alttext="[15,30]" display="inline"><semantics id="S6.T3.4.4.4.2.2.2.2.2.m2.2a"><mrow id="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.2" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.1.cmml"><mo stretchy="false" id="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.2.1" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.1.cmml">[</mo><mn id="S6.T3.4.4.4.2.2.2.2.2.m2.1.1" xref="S6.T3.4.4.4.2.2.2.2.2.m2.1.1.cmml">15</mn><mo id="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.2.2" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.1.cmml">,</mo><mn id="S6.T3.4.4.4.2.2.2.2.2.m2.2.2" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.2.cmml">30</mn><mo stretchy="false" id="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.2.3" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.4.4.4.2.2.2.2.2.m2.2b"><interval closure="closed" id="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.1.cmml" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.3.2"><cn type="integer" id="S6.T3.4.4.4.2.2.2.2.2.m2.1.1.cmml" xref="S6.T3.4.4.4.2.2.2.2.2.m2.1.1">15</cn><cn type="integer" id="S6.T3.4.4.4.2.2.2.2.2.m2.2.2.cmml" xref="S6.T3.4.4.4.2.2.2.2.2.m2.2.2">30</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.4.4.2.2.2.2.2.m2.2c">[15,30]</annotation></semantics></math> augment samples per class</span></span>
</span></span><span id="S6.T3.4.4.4.2.4" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.6.6.6" class="ltx_tr">
<td id="S6.T3.6.6.6.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.6.6.6.3.1" class="ltx_text"></span> <span id="S6.T3.6.6.6.3.2" class="ltx_text">
<span id="S6.T3.6.6.6.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.6.6.6.3.2.1.1" class="ltx_tr">
<span id="S6.T3.6.6.6.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">HAR-Wild</span></span>
<span id="S6.T3.6.6.6.3.2.1.2" class="ltx_tr">
<span id="S6.T3.6.6.6.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(sim-FL</span></span>
<span id="S6.T3.6.6.6.3.2.1.3" class="ltx_tr">
<span id="S6.T3.6.6.6.3.2.1.3.1" class="ltx_td ltx_nopad_r ltx_align_center">with DP)</span></span>
</span></span><span id="S6.T3.6.6.6.3.3" class="ltx_text"></span></td>
<td id="S6.T3.6.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.6.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.6.6.6.2.3" class="ltx_text"></span> <span id="S6.T3.6.6.6.2.2" class="ltx_text">
<span id="S6.T3.6.6.6.2.2.2" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.6.6.6.2.2.2.3" class="ltx_tr">
<span id="S6.T3.6.6.6.2.2.2.3.1" class="ltx_td ltx_nopad_r ltx_align_center">client_LR=0.005, server_LR=1.0, dropout_rate=0.4, batch_size=256</span></span>
<span id="S6.T3.6.6.6.2.2.2.2" class="ltx_tr">
<span id="S6.T3.6.6.6.2.2.2.2.2" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: <math id="S6.T3.5.5.5.1.1.1.1.1.m1.2" class="ltx_Math" alttext="[50,100]" display="inline"><semantics id="S6.T3.5.5.5.1.1.1.1.1.m1.2a"><mrow id="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.2" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.2.1" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.1.cmml">[</mo><mn id="S6.T3.5.5.5.1.1.1.1.1.m1.1.1" xref="S6.T3.5.5.5.1.1.1.1.1.m1.1.1.cmml">50</mn><mo id="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.2.2" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mn id="S6.T3.5.5.5.1.1.1.1.1.m1.2.2" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.2.cmml">100</mn><mo stretchy="false" id="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.2.3" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.5.5.5.1.1.1.1.1.m1.2b"><interval closure="closed" id="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.1.cmml" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.3.2"><cn type="integer" id="S6.T3.5.5.5.1.1.1.1.1.m1.1.1.cmml" xref="S6.T3.5.5.5.1.1.1.1.1.m1.1.1">50</cn><cn type="integer" id="S6.T3.5.5.5.1.1.1.1.1.m1.2.2.cmml" xref="S6.T3.5.5.5.1.1.1.1.1.m1.2.2">100</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.5.5.1.1.1.1.1.m1.2c">[50,100]</annotation></semantics></math> samples per class,
<math id="S6.T3.6.6.6.2.2.2.2.2.m2.2" class="ltx_Math" alttext="[15,30]" display="inline"><semantics id="S6.T3.6.6.6.2.2.2.2.2.m2.2a"><mrow id="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.2" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.1.cmml"><mo stretchy="false" id="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.2.1" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.1.cmml">[</mo><mn id="S6.T3.6.6.6.2.2.2.2.2.m2.1.1" xref="S6.T3.6.6.6.2.2.2.2.2.m2.1.1.cmml">15</mn><mo id="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.2.2" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.1.cmml">,</mo><mn id="S6.T3.6.6.6.2.2.2.2.2.m2.2.2" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.2.cmml">30</mn><mo stretchy="false" id="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.2.3" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.6.6.6.2.2.2.2.2.m2.2b"><interval closure="closed" id="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.1.cmml" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.3.2"><cn type="integer" id="S6.T3.6.6.6.2.2.2.2.2.m2.1.1.cmml" xref="S6.T3.6.6.6.2.2.2.2.2.m2.1.1">15</cn><cn type="integer" id="S6.T3.6.6.6.2.2.2.2.2.m2.2.2.cmml" xref="S6.T3.6.6.6.2.2.2.2.2.m2.2.2">30</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.6.6.6.2.2.2.2.2.m2.2c">[15,30]</annotation></semantics></math> augment samples per class</span></span>
</span></span><span id="S6.T3.6.6.6.2.4" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.8.8.8" class="ltx_tr">
<td id="S6.T3.8.8.8.3" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.8.3.1" class="ltx_text"></span> <span id="S6.T3.8.8.8.3.2" class="ltx_text">
<span id="S6.T3.8.8.8.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.8.3.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.8.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">HAR-Wild</span></span>
<span id="S6.T3.8.8.8.3.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.8.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(FLSys)</span></span>
</span></span><span id="S6.T3.8.8.8.3.3" class="ltx_text"></span></td>
<td id="S6.T3.8.8.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.8.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.8.2.3" class="ltx_text"></span> <span id="S6.T3.8.8.8.2.2" class="ltx_text">
<span id="S6.T3.8.8.8.2.2.2" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.8.2.2.2.3" class="ltx_tr">
<span id="S6.T3.8.8.8.2.2.2.3.1" class="ltx_td ltx_nopad_r ltx_align_center">client_LR=0.005, server_LR=1.0, dropout_rate=0.4, batch_size=64</span></span>
<span id="S6.T3.8.8.8.2.2.2.2" class="ltx_tr">
<span id="S6.T3.8.8.8.2.2.2.2.2" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: <math id="S6.T3.7.7.7.1.1.1.1.1.m1.2" class="ltx_Math" alttext="[50,100]" display="inline"><semantics id="S6.T3.7.7.7.1.1.1.1.1.m1.2a"><mrow id="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.2" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.2.1" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.1.cmml">[</mo><mn id="S6.T3.7.7.7.1.1.1.1.1.m1.1.1" xref="S6.T3.7.7.7.1.1.1.1.1.m1.1.1.cmml">50</mn><mo id="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.2.2" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.1.cmml">,</mo><mn id="S6.T3.7.7.7.1.1.1.1.1.m1.2.2" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.2.cmml">100</mn><mo stretchy="false" id="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.2.3" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.7.7.7.1.1.1.1.1.m1.2b"><interval closure="closed" id="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.1.cmml" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.3.2"><cn type="integer" id="S6.T3.7.7.7.1.1.1.1.1.m1.1.1.cmml" xref="S6.T3.7.7.7.1.1.1.1.1.m1.1.1">50</cn><cn type="integer" id="S6.T3.7.7.7.1.1.1.1.1.m1.2.2.cmml" xref="S6.T3.7.7.7.1.1.1.1.1.m1.2.2">100</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.7.7.7.1.1.1.1.1.m1.2c">[50,100]</annotation></semantics></math> samples per class,
<math id="S6.T3.8.8.8.2.2.2.2.2.m2.2" class="ltx_Math" alttext="[15,30]" display="inline"><semantics id="S6.T3.8.8.8.2.2.2.2.2.m2.2a"><mrow id="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.2" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.1.cmml"><mo stretchy="false" id="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.2.1" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.1.cmml">[</mo><mn id="S6.T3.8.8.8.2.2.2.2.2.m2.1.1" xref="S6.T3.8.8.8.2.2.2.2.2.m2.1.1.cmml">15</mn><mo id="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.2.2" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.1.cmml">,</mo><mn id="S6.T3.8.8.8.2.2.2.2.2.m2.2.2" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.2.cmml">30</mn><mo stretchy="false" id="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.2.3" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.T3.8.8.8.2.2.2.2.2.m2.2b"><interval closure="closed" id="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.1.cmml" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.3.2"><cn type="integer" id="S6.T3.8.8.8.2.2.2.2.2.m2.1.1.cmml" xref="S6.T3.8.8.8.2.2.2.2.2.m2.1.1">15</cn><cn type="integer" id="S6.T3.8.8.8.2.2.2.2.2.m2.2.2.cmml" xref="S6.T3.8.8.8.2.2.2.2.2.m2.2.2">30</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.8.8.2.2.2.2.2.m2.2c">[15,30]</annotation></semantics></math> augment samples per class</span></span>
</span></span><span id="S6.T3.8.8.8.2.4" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.8.8.11" class="ltx_tr">
<td id="S6.T3.8.8.11.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.11.1.1" class="ltx_text"></span> <span id="S6.T3.8.8.11.1.2" class="ltx_text">
<span id="S6.T3.8.8.11.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.11.1.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.11.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">CNN-Ig</span></span>
<span id="S6.T3.8.8.11.1.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.11.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(centralized)</span></span>
</span></span><span id="S6.T3.8.8.11.1.3" class="ltx_text"></span></td>
<td id="S6.T3.8.8.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.8.8.11.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.11.3.1" class="ltx_text"></span> <span id="S6.T3.8.8.11.3.2" class="ltx_text">
<span id="S6.T3.8.8.11.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.11.3.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.11.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">LR=0.0005, dropout_rate=0.05, batch_size=1024</span></span>
<span id="S6.T3.8.8.11.3.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.11.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: Same as class distribution</span></span>
</span></span><span id="S6.T3.8.8.11.3.3" class="ltx_text"></span></td>
</tr>
<tr id="S6.T3.8.8.12" class="ltx_tr">
<td id="S6.T3.8.8.12.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.12.1.1" class="ltx_text"></span> <span id="S6.T3.8.8.12.1.2" class="ltx_text">
<span id="S6.T3.8.8.12.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.12.1.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.12.1.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">BiLSTM</span></span>
<span id="S6.T3.8.8.12.1.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.12.1.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">(centralized)</span></span>
</span></span><span id="S6.T3.8.8.12.1.3" class="ltx_text"></span></td>
<td id="S6.T3.8.8.12.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Adam</td>
<td id="S6.T3.8.8.12.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">
<span id="S6.T3.8.8.12.3.1" class="ltx_text"></span> <span id="S6.T3.8.8.12.3.2" class="ltx_text">
<span id="S6.T3.8.8.12.3.2.1" class="ltx_tabular ltx_align_middle">
<span id="S6.T3.8.8.12.3.2.1.1" class="ltx_tr">
<span id="S6.T3.8.8.12.3.2.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center">LR=0.0005, dropout_rate=0.2, batch_size=1024</span></span>
<span id="S6.T3.8.8.12.3.2.1.2" class="ltx_tr">
<span id="S6.T3.8.8.12.3.2.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">Sampling: Same as class distribution</span></span>
</span></span><span id="S6.T3.8.8.12.3.3" class="ltx_text"></span></td>
</tr>
</table>
</span></div>
</figure>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span><span id="S6.SS1.1.1" class="ltx_text ltx_font_italic">HAR-Wild Model Evaluation</span>
</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">Table <a href="#S6.T2" title="TABLE II ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> shows the basic information of our collected dataset used for all HAR-Wild experiments. Some users have very limited numbers of labeled activities; thus, we select data from 51 users who labeled a reasonable amount of samples.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.1" class="ltx_p"><span id="S6.SS1.p2.1.1" class="ltx_text ltx_font_bold">Comparison with Baseline Approaches.</span>
We perform centralized evaluation to assess HAR-Wild’s utility compared to several baselines. Centralized training works as an upper bound performance for FL models. In addition, it allows us to fine-tune the model’s hyper parameters.
The evaluation includes three variants of HAR-Wild: <em id="S6.SS1.p2.1.2" class="ltx_emph ltx_font_italic">HAR-W-32</em>, <em id="S6.SS1.p2.1.3" class="ltx_emph ltx_font_italic">HAR-W-64</em>, and <em id="S6.SS1.p2.1.4" class="ltx_emph ltx_font_italic">HAR-W-128</em>, which have the numbers of convolution-channels set to 32, 64, and 128.
For comparison, we consider two baseline models: (1) <em id="S6.SS1.p2.1.5" class="ltx_emph ltx_font_italic">Bidirectional LSTM</em> with 3-axial accelerometer data as input. This is a typical model for time-series data, and we fine-tune it based on grid-search of hyperparameters; and (2) The CNN-based models proposed by Ignatov <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>, with(<em id="S6.SS1.p2.1.6" class="ltx_emph ltx_font_italic">CNN-Ig</em>) and without(<em id="S6.SS1.p2.1.7" class="ltx_emph ltx_font_italic">CNN-Ig_featureless</em>) additional features using the author’s recommended settings in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
For a fair comparison, we used TensorFlow implementations for all models.
Table <a href="#S6.T3" title="TABLE III ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> shows all the hyper-parameters and model configurations.</p>
</div>
<figure id="S6.F4" class="ltx_figure"><img src="/html/2111.09445/assets/x1.png" id="S6.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="456" height="244" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Centralized training evaluation</figcaption>
</figure>
<figure id="S6.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE IV: </span>HAR-Wild Using Centralized and FL Training vs. Baselines: Macro-Model Performance</figcaption>
<div id="S6.T4.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:195.1pt;height:134.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-58.7pt,40.6pt) scale(0.624241237297289,0.624241237297289) ;">
<table id="S6.T4.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T4.1.1.1" class="ltx_tr">
<td id="S6.T4.1.1.1.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Model</td>
<td id="S6.T4.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Accuracy</td>
<td id="S6.T4.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Precision</td>
<td id="S6.T4.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Recall</td>
<td id="S6.T4.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">F1-score</td>
</tr>
<tr id="S6.T4.1.1.2" class="ltx_tr">
<td id="S6.T4.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-32-centralized</td>
<td id="S6.T4.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8186</td>
<td id="S6.T4.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8486</td>
<td id="S6.T4.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8360</td>
<td id="S6.T4.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8409</td>
</tr>
<tr id="S6.T4.1.1.3" class="ltx_tr">
<td id="S6.T4.1.1.3.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-centralized</td>
<td id="S6.T4.1.1.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8249</td>
<td id="S6.T4.1.1.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8512</td>
<td id="S6.T4.1.1.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8354</td>
<td id="S6.T4.1.1.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8428</td>
</tr>
<tr id="S6.T4.1.1.4" class="ltx_tr">
<td id="S6.T4.1.1.4.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-128-centralized</td>
<td id="S6.T4.1.1.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8262</td>
<td id="S6.T4.1.1.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8529</td>
<td id="S6.T4.1.1.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8449</td>
<td id="S6.T4.1.1.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8484</td>
</tr>
<tr id="S6.T4.1.1.5" class="ltx_tr">
<td id="S6.T4.1.1.5.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">BiLSTM</td>
<td id="S6.T4.1.1.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7868</td>
<td id="S6.T4.1.1.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8074</td>
<td id="S6.T4.1.1.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7831</td>
<td id="S6.T4.1.1.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7941</td>
</tr>
<tr id="S6.T4.1.1.6" class="ltx_tr">
<td id="S6.T4.1.1.6.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">CNN-Ig</td>
<td id="S6.T4.1.1.6.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7639</td>
<td id="S6.T4.1.1.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7970</td>
<td id="S6.T4.1.1.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7715</td>
<td id="S6.T4.1.1.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7834</td>
</tr>
<tr id="S6.T4.1.1.7" class="ltx_tr">
<td id="S6.T4.1.1.7.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">CNN-Ig_featureless</td>
<td id="S6.T4.1.1.7.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7708</td>
<td id="S6.T4.1.1.7.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8004</td>
<td id="S6.T4.1.1.7.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7779</td>
<td id="S6.T4.1.1.7.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7878</td>
</tr>
<tr id="S6.T4.1.1.8" class="ltx_tr">
<td id="S6.T4.1.1.8.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-fed-stock</td>
<td id="S6.T4.1.1.8.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5368</td>
<td id="S6.T4.1.1.8.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3828</td>
<td id="S6.T4.1.1.8.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3569</td>
<td id="S6.T4.1.1.8.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3190</td>
</tr>
<tr id="S6.T4.1.1.9" class="ltx_tr">
<td id="S6.T4.1.1.9.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-fed-uniform</td>
<td id="S6.T4.1.1.9.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7181</td>
<td id="S6.T4.1.1.9.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7464</td>
<td id="S6.T4.1.1.9.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7419</td>
<td id="S6.T4.1.1.9.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7378</td>
</tr>
<tr id="S6.T4.1.1.10" class="ltx_tr">
<td id="S6.T4.1.1.10.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-fed-yogi</td>
<td id="S6.T4.1.1.10.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7107</td>
<td id="S6.T4.1.1.10.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6865</td>
<td id="S6.T4.1.1.10.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7731</td>
<td id="S6.T4.1.1.10.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7130</td>
</tr>
<tr id="S6.T4.1.1.11" class="ltx_tr">
<td id="S6.T4.1.1.11.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-fed-adam</td>
<td id="S6.T4.1.1.11.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7072</td>
<td id="S6.T4.1.1.11.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6829</td>
<td id="S6.T4.1.1.11.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7592</td>
<td id="S6.T4.1.1.11.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7058</td>
</tr>
<tr id="S6.T4.1.1.12" class="ltx_tr">
<td id="S6.T4.1.1.12.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">HAR-W-64-fed-adagrad</td>
<td id="S6.T4.1.1.12.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.6691</td>
<td id="S6.T4.1.1.12.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.6030</td>
<td id="S6.T4.1.1.12.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.7429</td>
<td id="S6.T4.1.1.12.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.6358</td>
</tr>
</table>
</span></div>
</figure>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">Figure <a href="#S6.F4" title="Figure 4 ‣ 6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows that HAR-Wild models outperform the baseline approaches.
While the experiments run for up to 10,000 epochs to determine the performance upper bound, we observe the accuracy achieves acceptable performance after 1,000 epochs.
On average, HAR-W-64 performs best and achieves 82.49% accuracy compared with 78.68%, 76.39%, and 77.08% of the BiLSTM, CNN-Ig and CNN-Ig-featureless.
The results in Table <a href="#S6.T4" title="TABLE IV ‣ 6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> demonstrate that our HAR-Wild models also achieve the best performance in all the other metrics.
Let us note that the absolute performance results may appear low when compared to HAR models run on data collected in controlled environment. This is because the data collected in the wild is noisier and non-IID.
Overall, HAR-W-64 (60,613 trainable weights) has the best trade-off among model accuracy, convergence speed, and model size, and we use it in all the following experiments for HAR-Wild.</p>
</div>
<div id="S6.SS1.p4" class="ltx_para">
<p id="S6.SS1.p4.1" class="ltx_p"><span id="S6.SS1.p4.1.1" class="ltx_text ltx_font_bold">Comparison of Different FL Versions of HAR-Wild.</span>
We also perform FL simulations to compare HAR-Wild’s performance across three dimensions: (1) with and without data augmentation (2) with different aggregators (3) with and without advanced privacy mechanisms. Since the simulations are in TensorFlow, we can also compare the FL results with the centralized training results. In the simulated FL, we replay the data collected in the wild for each user.</p>
</div>
<div id="S6.SS1.p5" class="ltx_para">
<p id="S6.SS1.p5.1" class="ltx_p">In the following, the basic FL HAR-Wild model without data augmentation and without privacy mechanisms is called <em id="S6.SS1.p5.1.1" class="ltx_emph ltx_font_italic">HAR-W-64-stock</em>. The model with data augmentation, but without privacy mechanisms, is called <em id="S6.SS1.p5.1.2" class="ltx_emph ltx_font_italic">HAR-W-64-uniform</em>. The augmentation data, consisting of 640 samples of each class, is fixed and shared with all clients.</p>
</div>
<div id="S6.SS1.p6" class="ltx_para">
<p id="S6.SS1.p6.1" class="ltx_p">The modular design of FLSys supports different FL aggregators. In addition to the standard FedAvg, we train the HAR-Wild model in FL with three aggregators designed to handle non-IID data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>: FedYogi, FedAdam and FedAdagrad. To evaluate privacy protection in HAR-Wild, we apply the two types of privacy-preserving mechanisms available in FLSys (described in Section <a href="#S3" title="3 FLSys Design ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and Appendix A): <em id="S6.SS1.p6.1.1" class="ltx_emph ltx_font_italic">User-level DP</em> (<em id="S6.SS1.p6.1.2" class="ltx_emph ltx_font_italic">User-DP</em>) and <em id="S6.SS1.p6.1.3" class="ltx_emph ltx_font_italic">Local DP</em> (<em id="S6.SS1.p6.1.4" class="ltx_emph ltx_font_italic">LDP</em>). We experiment with one User-DP mechanism proposed by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> and five LDP mechanisms: <span id="S6.SS1.p6.1.5" class="ltx_text ltx_font_italic">BitRand</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>, <span id="S6.SS1.p6.1.6" class="ltx_text ltx_font_italic">Duchi</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, <span id="S6.SS1.p6.1.7" class="ltx_text ltx_font_italic">Piecewise</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib61" title="" class="ltx_ref">61</a>]</cite>, <span id="S6.SS1.p6.1.8" class="ltx_text ltx_font_italic">Hybrid</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib61" title="" class="ltx_ref">61</a>]</cite>, <span id="S6.SS1.p6.1.9" class="ltx_text ltx_font_italic">Three-Outputs</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib64" title="" class="ltx_ref">64</a>]</cite>. All the hyperparameters are provided in Table <a href="#S6.T3" title="TABLE III ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>.</p>
</div>
<figure id="S6.F5" class="ltx_figure"><img src="/html/2111.09445/assets/image/federated_new.png" id="S6.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="315" height="155" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Comparison of FL HAR-Wild Versions, w/ and w/o Data Augmentation, and w/ and w/o Privacy Protection</figcaption>
</figure>
<figure id="S6.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE V: </span>Macro-model Performance for HAR-W-64-fed-uniform for Different Types of Privacy Protection Mechanisms and Different Parameters </figcaption>
<div id="S6.T5.15" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:199.5pt;height:162pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-77.5pt,63.0pt) scale(0.562673581907589,0.562673581907589) ;">
<table id="S6.T5.15.15" class="ltx_tabular ltx_align_middle">
<tr id="S6.T5.15.15.16" class="ltx_tr">
<td id="S6.T5.15.15.16.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">DP Mechanism</td>
<td id="S6.T5.15.15.16.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Privacy Budget</td>
<td id="S6.T5.15.15.16.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Accuracy</td>
<td id="S6.T5.15.15.16.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Precision</td>
<td id="S6.T5.15.15.16.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Recall</td>
<td id="S6.T5.15.15.16.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">F1-score</td>
</tr>
<tr id="S6.T5.1.1.1" class="ltx_tr">
<td id="S6.T5.1.1.1.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Non-DP</td>
<td id="S6.T5.1.1.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.1.1.1.1.m1.1" class="ltx_Math" alttext="\varepsilon\to\infty" display="inline"><semantics id="S6.T5.1.1.1.1.m1.1a"><mrow id="S6.T5.1.1.1.1.m1.1.1" xref="S6.T5.1.1.1.1.m1.1.1.cmml"><mi id="S6.T5.1.1.1.1.m1.1.1.2" xref="S6.T5.1.1.1.1.m1.1.1.2.cmml">ε</mi><mo stretchy="false" id="S6.T5.1.1.1.1.m1.1.1.1" xref="S6.T5.1.1.1.1.m1.1.1.1.cmml">→</mo><mi mathvariant="normal" id="S6.T5.1.1.1.1.m1.1.1.3" xref="S6.T5.1.1.1.1.m1.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.1.1.1.1.m1.1b"><apply id="S6.T5.1.1.1.1.m1.1.1.cmml" xref="S6.T5.1.1.1.1.m1.1.1"><ci id="S6.T5.1.1.1.1.m1.1.1.1.cmml" xref="S6.T5.1.1.1.1.m1.1.1.1">→</ci><ci id="S6.T5.1.1.1.1.m1.1.1.2.cmml" xref="S6.T5.1.1.1.1.m1.1.1.2">𝜀</ci><infinity id="S6.T5.1.1.1.1.m1.1.1.3.cmml" xref="S6.T5.1.1.1.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.1.1.1.1.m1.1c">\varepsilon\to\infty</annotation></semantics></math></td>
<td id="S6.T5.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7181</td>
<td id="S6.T5.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7464</td>
<td id="S6.T5.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7419</td>
<td id="S6.T5.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7378</td>
</tr>
<tr id="S6.T5.2.2.2" class="ltx_tr">
<td id="S6.T5.2.2.2.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">User-DP</td>
<td id="S6.T5.2.2.2.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.2.2.2.1.m1.1" class="ltx_Math" alttext="\varepsilon=2" display="inline"><semantics id="S6.T5.2.2.2.1.m1.1a"><mrow id="S6.T5.2.2.2.1.m1.1.1" xref="S6.T5.2.2.2.1.m1.1.1.cmml"><mi id="S6.T5.2.2.2.1.m1.1.1.2" xref="S6.T5.2.2.2.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.2.2.2.1.m1.1.1.1" xref="S6.T5.2.2.2.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.2.2.2.1.m1.1.1.3" xref="S6.T5.2.2.2.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.2.2.2.1.m1.1b"><apply id="S6.T5.2.2.2.1.m1.1.1.cmml" xref="S6.T5.2.2.2.1.m1.1.1"><eq id="S6.T5.2.2.2.1.m1.1.1.1.cmml" xref="S6.T5.2.2.2.1.m1.1.1.1"></eq><ci id="S6.T5.2.2.2.1.m1.1.1.2.cmml" xref="S6.T5.2.2.2.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.2.2.2.1.m1.1.1.3.cmml" xref="S6.T5.2.2.2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.2.2.2.1.m1.1c">\varepsilon=2</annotation></semantics></math></td>
<td id="S6.T5.2.2.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5399</td>
<td id="S6.T5.2.2.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5264</td>
<td id="S6.T5.2.2.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5797</td>
<td id="S6.T5.2.2.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5259</td>
</tr>
<tr id="S6.T5.3.3.3" class="ltx_tr">
<td id="S6.T5.3.3.3.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">User-DP</td>
<td id="S6.T5.3.3.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.3.3.3.1.m1.1" class="ltx_Math" alttext="\varepsilon=4" display="inline"><semantics id="S6.T5.3.3.3.1.m1.1a"><mrow id="S6.T5.3.3.3.1.m1.1.1" xref="S6.T5.3.3.3.1.m1.1.1.cmml"><mi id="S6.T5.3.3.3.1.m1.1.1.2" xref="S6.T5.3.3.3.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.3.3.3.1.m1.1.1.1" xref="S6.T5.3.3.3.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.3.3.3.1.m1.1.1.3" xref="S6.T5.3.3.3.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.3.3.3.1.m1.1b"><apply id="S6.T5.3.3.3.1.m1.1.1.cmml" xref="S6.T5.3.3.3.1.m1.1.1"><eq id="S6.T5.3.3.3.1.m1.1.1.1.cmml" xref="S6.T5.3.3.3.1.m1.1.1.1"></eq><ci id="S6.T5.3.3.3.1.m1.1.1.2.cmml" xref="S6.T5.3.3.3.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.3.3.3.1.m1.1.1.3.cmml" xref="S6.T5.3.3.3.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.3.3.3.1.m1.1c">\varepsilon=4</annotation></semantics></math></td>
<td id="S6.T5.3.3.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5973</td>
<td id="S6.T5.3.3.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5603</td>
<td id="S6.T5.3.3.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6297</td>
<td id="S6.T5.3.3.3.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5502</td>
</tr>
<tr id="S6.T5.4.4.4" class="ltx_tr">
<td id="S6.T5.4.4.4.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">User-DP</td>
<td id="S6.T5.4.4.4.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.4.4.4.1.m1.1" class="ltx_Math" alttext="\varepsilon=8" display="inline"><semantics id="S6.T5.4.4.4.1.m1.1a"><mrow id="S6.T5.4.4.4.1.m1.1.1" xref="S6.T5.4.4.4.1.m1.1.1.cmml"><mi id="S6.T5.4.4.4.1.m1.1.1.2" xref="S6.T5.4.4.4.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.4.4.4.1.m1.1.1.1" xref="S6.T5.4.4.4.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.4.4.4.1.m1.1.1.3" xref="S6.T5.4.4.4.1.m1.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.4.4.4.1.m1.1b"><apply id="S6.T5.4.4.4.1.m1.1.1.cmml" xref="S6.T5.4.4.4.1.m1.1.1"><eq id="S6.T5.4.4.4.1.m1.1.1.1.cmml" xref="S6.T5.4.4.4.1.m1.1.1.1"></eq><ci id="S6.T5.4.4.4.1.m1.1.1.2.cmml" xref="S6.T5.4.4.4.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.4.4.4.1.m1.1.1.3.cmml" xref="S6.T5.4.4.4.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.4.4.4.1.m1.1c">\varepsilon=8</annotation></semantics></math></td>
<td id="S6.T5.4.4.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6970</td>
<td id="S6.T5.4.4.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6333</td>
<td id="S6.T5.4.4.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7264</td>
<td id="S6.T5.4.4.4.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6523</td>
</tr>
<tr id="S6.T5.5.5.5" class="ltx_tr">
<td id="S6.T5.5.5.5.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">BitRand</td>
<td id="S6.T5.5.5.5.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.5.5.5.1.m1.1" class="ltx_Math" alttext="\varepsilon_{X}=\varepsilon_{Y}=2" display="inline"><semantics id="S6.T5.5.5.5.1.m1.1a"><mrow id="S6.T5.5.5.5.1.m1.1.1" xref="S6.T5.5.5.5.1.m1.1.1.cmml"><msub id="S6.T5.5.5.5.1.m1.1.1.2" xref="S6.T5.5.5.5.1.m1.1.1.2.cmml"><mi id="S6.T5.5.5.5.1.m1.1.1.2.2" xref="S6.T5.5.5.5.1.m1.1.1.2.2.cmml">ε</mi><mi id="S6.T5.5.5.5.1.m1.1.1.2.3" xref="S6.T5.5.5.5.1.m1.1.1.2.3.cmml">X</mi></msub><mo id="S6.T5.5.5.5.1.m1.1.1.3" xref="S6.T5.5.5.5.1.m1.1.1.3.cmml">=</mo><msub id="S6.T5.5.5.5.1.m1.1.1.4" xref="S6.T5.5.5.5.1.m1.1.1.4.cmml"><mi id="S6.T5.5.5.5.1.m1.1.1.4.2" xref="S6.T5.5.5.5.1.m1.1.1.4.2.cmml">ε</mi><mi id="S6.T5.5.5.5.1.m1.1.1.4.3" xref="S6.T5.5.5.5.1.m1.1.1.4.3.cmml">Y</mi></msub><mo id="S6.T5.5.5.5.1.m1.1.1.5" xref="S6.T5.5.5.5.1.m1.1.1.5.cmml">=</mo><mn id="S6.T5.5.5.5.1.m1.1.1.6" xref="S6.T5.5.5.5.1.m1.1.1.6.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.5.5.5.1.m1.1b"><apply id="S6.T5.5.5.5.1.m1.1.1.cmml" xref="S6.T5.5.5.5.1.m1.1.1"><and id="S6.T5.5.5.5.1.m1.1.1a.cmml" xref="S6.T5.5.5.5.1.m1.1.1"></and><apply id="S6.T5.5.5.5.1.m1.1.1b.cmml" xref="S6.T5.5.5.5.1.m1.1.1"><eq id="S6.T5.5.5.5.1.m1.1.1.3.cmml" xref="S6.T5.5.5.5.1.m1.1.1.3"></eq><apply id="S6.T5.5.5.5.1.m1.1.1.2.cmml" xref="S6.T5.5.5.5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S6.T5.5.5.5.1.m1.1.1.2.1.cmml" xref="S6.T5.5.5.5.1.m1.1.1.2">subscript</csymbol><ci id="S6.T5.5.5.5.1.m1.1.1.2.2.cmml" xref="S6.T5.5.5.5.1.m1.1.1.2.2">𝜀</ci><ci id="S6.T5.5.5.5.1.m1.1.1.2.3.cmml" xref="S6.T5.5.5.5.1.m1.1.1.2.3">𝑋</ci></apply><apply id="S6.T5.5.5.5.1.m1.1.1.4.cmml" xref="S6.T5.5.5.5.1.m1.1.1.4"><csymbol cd="ambiguous" id="S6.T5.5.5.5.1.m1.1.1.4.1.cmml" xref="S6.T5.5.5.5.1.m1.1.1.4">subscript</csymbol><ci id="S6.T5.5.5.5.1.m1.1.1.4.2.cmml" xref="S6.T5.5.5.5.1.m1.1.1.4.2">𝜀</ci><ci id="S6.T5.5.5.5.1.m1.1.1.4.3.cmml" xref="S6.T5.5.5.5.1.m1.1.1.4.3">𝑌</ci></apply></apply><apply id="S6.T5.5.5.5.1.m1.1.1c.cmml" xref="S6.T5.5.5.5.1.m1.1.1"><eq id="S6.T5.5.5.5.1.m1.1.1.5.cmml" xref="S6.T5.5.5.5.1.m1.1.1.5"></eq><share href="#S6.T5.5.5.5.1.m1.1.1.4.cmml" id="S6.T5.5.5.5.1.m1.1.1d.cmml" xref="S6.T5.5.5.5.1.m1.1.1"></share><cn type="integer" id="S6.T5.5.5.5.1.m1.1.1.6.cmml" xref="S6.T5.5.5.5.1.m1.1.1.6">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.5.5.5.1.m1.1c">\varepsilon_{X}=\varepsilon_{Y}=2</annotation></semantics></math></td>
<td id="S6.T5.5.5.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4251</td>
<td id="S6.T5.5.5.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3667</td>
<td id="S6.T5.5.5.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3715</td>
<td id="S6.T5.5.5.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3277</td>
</tr>
<tr id="S6.T5.6.6.6" class="ltx_tr">
<td id="S6.T5.6.6.6.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">BitRand</td>
<td id="S6.T5.6.6.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.6.6.6.1.m1.1" class="ltx_Math" alttext="\varepsilon_{X}=\varepsilon_{Y}=4" display="inline"><semantics id="S6.T5.6.6.6.1.m1.1a"><mrow id="S6.T5.6.6.6.1.m1.1.1" xref="S6.T5.6.6.6.1.m1.1.1.cmml"><msub id="S6.T5.6.6.6.1.m1.1.1.2" xref="S6.T5.6.6.6.1.m1.1.1.2.cmml"><mi id="S6.T5.6.6.6.1.m1.1.1.2.2" xref="S6.T5.6.6.6.1.m1.1.1.2.2.cmml">ε</mi><mi id="S6.T5.6.6.6.1.m1.1.1.2.3" xref="S6.T5.6.6.6.1.m1.1.1.2.3.cmml">X</mi></msub><mo id="S6.T5.6.6.6.1.m1.1.1.3" xref="S6.T5.6.6.6.1.m1.1.1.3.cmml">=</mo><msub id="S6.T5.6.6.6.1.m1.1.1.4" xref="S6.T5.6.6.6.1.m1.1.1.4.cmml"><mi id="S6.T5.6.6.6.1.m1.1.1.4.2" xref="S6.T5.6.6.6.1.m1.1.1.4.2.cmml">ε</mi><mi id="S6.T5.6.6.6.1.m1.1.1.4.3" xref="S6.T5.6.6.6.1.m1.1.1.4.3.cmml">Y</mi></msub><mo id="S6.T5.6.6.6.1.m1.1.1.5" xref="S6.T5.6.6.6.1.m1.1.1.5.cmml">=</mo><mn id="S6.T5.6.6.6.1.m1.1.1.6" xref="S6.T5.6.6.6.1.m1.1.1.6.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.6.6.6.1.m1.1b"><apply id="S6.T5.6.6.6.1.m1.1.1.cmml" xref="S6.T5.6.6.6.1.m1.1.1"><and id="S6.T5.6.6.6.1.m1.1.1a.cmml" xref="S6.T5.6.6.6.1.m1.1.1"></and><apply id="S6.T5.6.6.6.1.m1.1.1b.cmml" xref="S6.T5.6.6.6.1.m1.1.1"><eq id="S6.T5.6.6.6.1.m1.1.1.3.cmml" xref="S6.T5.6.6.6.1.m1.1.1.3"></eq><apply id="S6.T5.6.6.6.1.m1.1.1.2.cmml" xref="S6.T5.6.6.6.1.m1.1.1.2"><csymbol cd="ambiguous" id="S6.T5.6.6.6.1.m1.1.1.2.1.cmml" xref="S6.T5.6.6.6.1.m1.1.1.2">subscript</csymbol><ci id="S6.T5.6.6.6.1.m1.1.1.2.2.cmml" xref="S6.T5.6.6.6.1.m1.1.1.2.2">𝜀</ci><ci id="S6.T5.6.6.6.1.m1.1.1.2.3.cmml" xref="S6.T5.6.6.6.1.m1.1.1.2.3">𝑋</ci></apply><apply id="S6.T5.6.6.6.1.m1.1.1.4.cmml" xref="S6.T5.6.6.6.1.m1.1.1.4"><csymbol cd="ambiguous" id="S6.T5.6.6.6.1.m1.1.1.4.1.cmml" xref="S6.T5.6.6.6.1.m1.1.1.4">subscript</csymbol><ci id="S6.T5.6.6.6.1.m1.1.1.4.2.cmml" xref="S6.T5.6.6.6.1.m1.1.1.4.2">𝜀</ci><ci id="S6.T5.6.6.6.1.m1.1.1.4.3.cmml" xref="S6.T5.6.6.6.1.m1.1.1.4.3">𝑌</ci></apply></apply><apply id="S6.T5.6.6.6.1.m1.1.1c.cmml" xref="S6.T5.6.6.6.1.m1.1.1"><eq id="S6.T5.6.6.6.1.m1.1.1.5.cmml" xref="S6.T5.6.6.6.1.m1.1.1.5"></eq><share href="#S6.T5.6.6.6.1.m1.1.1.4.cmml" id="S6.T5.6.6.6.1.m1.1.1d.cmml" xref="S6.T5.6.6.6.1.m1.1.1"></share><cn type="integer" id="S6.T5.6.6.6.1.m1.1.1.6.cmml" xref="S6.T5.6.6.6.1.m1.1.1.6">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.6.6.6.1.m1.1c">\varepsilon_{X}=\varepsilon_{Y}=4</annotation></semantics></math></td>
<td id="S6.T5.6.6.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5193</td>
<td id="S6.T5.6.6.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4607</td>
<td id="S6.T5.6.6.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5110</td>
<td id="S6.T5.6.6.6.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4416</td>
</tr>
<tr id="S6.T5.7.7.7" class="ltx_tr">
<td id="S6.T5.7.7.7.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">BitRand</td>
<td id="S6.T5.7.7.7.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.7.7.7.1.m1.1" class="ltx_Math" alttext="\varepsilon_{X}=\varepsilon_{Y}=8" display="inline"><semantics id="S6.T5.7.7.7.1.m1.1a"><mrow id="S6.T5.7.7.7.1.m1.1.1" xref="S6.T5.7.7.7.1.m1.1.1.cmml"><msub id="S6.T5.7.7.7.1.m1.1.1.2" xref="S6.T5.7.7.7.1.m1.1.1.2.cmml"><mi id="S6.T5.7.7.7.1.m1.1.1.2.2" xref="S6.T5.7.7.7.1.m1.1.1.2.2.cmml">ε</mi><mi id="S6.T5.7.7.7.1.m1.1.1.2.3" xref="S6.T5.7.7.7.1.m1.1.1.2.3.cmml">X</mi></msub><mo id="S6.T5.7.7.7.1.m1.1.1.3" xref="S6.T5.7.7.7.1.m1.1.1.3.cmml">=</mo><msub id="S6.T5.7.7.7.1.m1.1.1.4" xref="S6.T5.7.7.7.1.m1.1.1.4.cmml"><mi id="S6.T5.7.7.7.1.m1.1.1.4.2" xref="S6.T5.7.7.7.1.m1.1.1.4.2.cmml">ε</mi><mi id="S6.T5.7.7.7.1.m1.1.1.4.3" xref="S6.T5.7.7.7.1.m1.1.1.4.3.cmml">Y</mi></msub><mo id="S6.T5.7.7.7.1.m1.1.1.5" xref="S6.T5.7.7.7.1.m1.1.1.5.cmml">=</mo><mn id="S6.T5.7.7.7.1.m1.1.1.6" xref="S6.T5.7.7.7.1.m1.1.1.6.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.7.7.7.1.m1.1b"><apply id="S6.T5.7.7.7.1.m1.1.1.cmml" xref="S6.T5.7.7.7.1.m1.1.1"><and id="S6.T5.7.7.7.1.m1.1.1a.cmml" xref="S6.T5.7.7.7.1.m1.1.1"></and><apply id="S6.T5.7.7.7.1.m1.1.1b.cmml" xref="S6.T5.7.7.7.1.m1.1.1"><eq id="S6.T5.7.7.7.1.m1.1.1.3.cmml" xref="S6.T5.7.7.7.1.m1.1.1.3"></eq><apply id="S6.T5.7.7.7.1.m1.1.1.2.cmml" xref="S6.T5.7.7.7.1.m1.1.1.2"><csymbol cd="ambiguous" id="S6.T5.7.7.7.1.m1.1.1.2.1.cmml" xref="S6.T5.7.7.7.1.m1.1.1.2">subscript</csymbol><ci id="S6.T5.7.7.7.1.m1.1.1.2.2.cmml" xref="S6.T5.7.7.7.1.m1.1.1.2.2">𝜀</ci><ci id="S6.T5.7.7.7.1.m1.1.1.2.3.cmml" xref="S6.T5.7.7.7.1.m1.1.1.2.3">𝑋</ci></apply><apply id="S6.T5.7.7.7.1.m1.1.1.4.cmml" xref="S6.T5.7.7.7.1.m1.1.1.4"><csymbol cd="ambiguous" id="S6.T5.7.7.7.1.m1.1.1.4.1.cmml" xref="S6.T5.7.7.7.1.m1.1.1.4">subscript</csymbol><ci id="S6.T5.7.7.7.1.m1.1.1.4.2.cmml" xref="S6.T5.7.7.7.1.m1.1.1.4.2">𝜀</ci><ci id="S6.T5.7.7.7.1.m1.1.1.4.3.cmml" xref="S6.T5.7.7.7.1.m1.1.1.4.3">𝑌</ci></apply></apply><apply id="S6.T5.7.7.7.1.m1.1.1c.cmml" xref="S6.T5.7.7.7.1.m1.1.1"><eq id="S6.T5.7.7.7.1.m1.1.1.5.cmml" xref="S6.T5.7.7.7.1.m1.1.1.5"></eq><share href="#S6.T5.7.7.7.1.m1.1.1.4.cmml" id="S6.T5.7.7.7.1.m1.1.1d.cmml" xref="S6.T5.7.7.7.1.m1.1.1"></share><cn type="integer" id="S6.T5.7.7.7.1.m1.1.1.6.cmml" xref="S6.T5.7.7.7.1.m1.1.1.6">8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.7.7.7.1.m1.1c">\varepsilon_{X}=\varepsilon_{Y}=8</annotation></semantics></math></td>
<td id="S6.T5.7.7.7.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6943</td>
<td id="S6.T5.7.7.7.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6885</td>
<td id="S6.T5.7.7.7.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7359</td>
<td id="S6.T5.7.7.7.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7031</td>
</tr>
<tr id="S6.T5.8.8.8" class="ltx_tr">
<td id="S6.T5.8.8.8.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Duchi</td>
<td id="S6.T5.8.8.8.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.8.8.8.1.m1.1" class="ltx_Math" alttext="\varepsilon=2" display="inline"><semantics id="S6.T5.8.8.8.1.m1.1a"><mrow id="S6.T5.8.8.8.1.m1.1.1" xref="S6.T5.8.8.8.1.m1.1.1.cmml"><mi id="S6.T5.8.8.8.1.m1.1.1.2" xref="S6.T5.8.8.8.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.8.8.8.1.m1.1.1.1" xref="S6.T5.8.8.8.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.8.8.8.1.m1.1.1.3" xref="S6.T5.8.8.8.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.8.8.8.1.m1.1b"><apply id="S6.T5.8.8.8.1.m1.1.1.cmml" xref="S6.T5.8.8.8.1.m1.1.1"><eq id="S6.T5.8.8.8.1.m1.1.1.1.cmml" xref="S6.T5.8.8.8.1.m1.1.1.1"></eq><ci id="S6.T5.8.8.8.1.m1.1.1.2.cmml" xref="S6.T5.8.8.8.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.8.8.8.1.m1.1.1.3.cmml" xref="S6.T5.8.8.8.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.8.8.8.1.m1.1c">\varepsilon=2</annotation></semantics></math></td>
<td id="S6.T5.8.8.8.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4846</td>
<td id="S6.T5.8.8.8.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4286</td>
<td id="S6.T5.8.8.8.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5233</td>
<td id="S6.T5.8.8.8.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4201</td>
</tr>
<tr id="S6.T5.9.9.9" class="ltx_tr">
<td id="S6.T5.9.9.9.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Duchi</td>
<td id="S6.T5.9.9.9.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.9.9.9.1.m1.1" class="ltx_Math" alttext="\varepsilon=4" display="inline"><semantics id="S6.T5.9.9.9.1.m1.1a"><mrow id="S6.T5.9.9.9.1.m1.1.1" xref="S6.T5.9.9.9.1.m1.1.1.cmml"><mi id="S6.T5.9.9.9.1.m1.1.1.2" xref="S6.T5.9.9.9.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.9.9.9.1.m1.1.1.1" xref="S6.T5.9.9.9.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.9.9.9.1.m1.1.1.3" xref="S6.T5.9.9.9.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.9.9.9.1.m1.1b"><apply id="S6.T5.9.9.9.1.m1.1.1.cmml" xref="S6.T5.9.9.9.1.m1.1.1"><eq id="S6.T5.9.9.9.1.m1.1.1.1.cmml" xref="S6.T5.9.9.9.1.m1.1.1.1"></eq><ci id="S6.T5.9.9.9.1.m1.1.1.2.cmml" xref="S6.T5.9.9.9.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.9.9.9.1.m1.1.1.3.cmml" xref="S6.T5.9.9.9.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.9.9.9.1.m1.1c">\varepsilon=4</annotation></semantics></math></td>
<td id="S6.T5.9.9.9.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5122</td>
<td id="S6.T5.9.9.9.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4307</td>
<td id="S6.T5.9.9.9.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4998</td>
<td id="S6.T5.9.9.9.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4360</td>
</tr>
<tr id="S6.T5.10.10.10" class="ltx_tr">
<td id="S6.T5.10.10.10.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Piecewise</td>
<td id="S6.T5.10.10.10.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.10.10.10.1.m1.1" class="ltx_Math" alttext="\varepsilon=2" display="inline"><semantics id="S6.T5.10.10.10.1.m1.1a"><mrow id="S6.T5.10.10.10.1.m1.1.1" xref="S6.T5.10.10.10.1.m1.1.1.cmml"><mi id="S6.T5.10.10.10.1.m1.1.1.2" xref="S6.T5.10.10.10.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.10.10.10.1.m1.1.1.1" xref="S6.T5.10.10.10.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.10.10.10.1.m1.1.1.3" xref="S6.T5.10.10.10.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.10.10.10.1.m1.1b"><apply id="S6.T5.10.10.10.1.m1.1.1.cmml" xref="S6.T5.10.10.10.1.m1.1.1"><eq id="S6.T5.10.10.10.1.m1.1.1.1.cmml" xref="S6.T5.10.10.10.1.m1.1.1.1"></eq><ci id="S6.T5.10.10.10.1.m1.1.1.2.cmml" xref="S6.T5.10.10.10.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.10.10.10.1.m1.1.1.3.cmml" xref="S6.T5.10.10.10.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.10.10.10.1.m1.1c">\varepsilon=2</annotation></semantics></math></td>
<td id="S6.T5.10.10.10.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4857</td>
<td id="S6.T5.10.10.10.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4086</td>
<td id="S6.T5.10.10.10.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4267</td>
<td id="S6.T5.10.10.10.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3944</td>
</tr>
<tr id="S6.T5.11.11.11" class="ltx_tr">
<td id="S6.T5.11.11.11.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Piecewise</td>
<td id="S6.T5.11.11.11.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.11.11.11.1.m1.1" class="ltx_Math" alttext="\varepsilon=4" display="inline"><semantics id="S6.T5.11.11.11.1.m1.1a"><mrow id="S6.T5.11.11.11.1.m1.1.1" xref="S6.T5.11.11.11.1.m1.1.1.cmml"><mi id="S6.T5.11.11.11.1.m1.1.1.2" xref="S6.T5.11.11.11.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.11.11.11.1.m1.1.1.1" xref="S6.T5.11.11.11.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.11.11.11.1.m1.1.1.3" xref="S6.T5.11.11.11.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.11.11.11.1.m1.1b"><apply id="S6.T5.11.11.11.1.m1.1.1.cmml" xref="S6.T5.11.11.11.1.m1.1.1"><eq id="S6.T5.11.11.11.1.m1.1.1.1.cmml" xref="S6.T5.11.11.11.1.m1.1.1.1"></eq><ci id="S6.T5.11.11.11.1.m1.1.1.2.cmml" xref="S6.T5.11.11.11.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.11.11.11.1.m1.1.1.3.cmml" xref="S6.T5.11.11.11.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.11.11.11.1.m1.1c">\varepsilon=4</annotation></semantics></math></td>
<td id="S6.T5.11.11.11.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5065</td>
<td id="S6.T5.11.11.11.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4245</td>
<td id="S6.T5.11.11.11.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4686</td>
<td id="S6.T5.11.11.11.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4222</td>
</tr>
<tr id="S6.T5.12.12.12" class="ltx_tr">
<td id="S6.T5.12.12.12.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Hybrid</td>
<td id="S6.T5.12.12.12.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.12.12.12.1.m1.1" class="ltx_Math" alttext="\varepsilon=2" display="inline"><semantics id="S6.T5.12.12.12.1.m1.1a"><mrow id="S6.T5.12.12.12.1.m1.1.1" xref="S6.T5.12.12.12.1.m1.1.1.cmml"><mi id="S6.T5.12.12.12.1.m1.1.1.2" xref="S6.T5.12.12.12.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.12.12.12.1.m1.1.1.1" xref="S6.T5.12.12.12.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.12.12.12.1.m1.1.1.3" xref="S6.T5.12.12.12.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.12.12.12.1.m1.1b"><apply id="S6.T5.12.12.12.1.m1.1.1.cmml" xref="S6.T5.12.12.12.1.m1.1.1"><eq id="S6.T5.12.12.12.1.m1.1.1.1.cmml" xref="S6.T5.12.12.12.1.m1.1.1.1"></eq><ci id="S6.T5.12.12.12.1.m1.1.1.2.cmml" xref="S6.T5.12.12.12.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.12.12.12.1.m1.1.1.3.cmml" xref="S6.T5.12.12.12.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.12.12.12.1.m1.1c">\varepsilon=2</annotation></semantics></math></td>
<td id="S6.T5.12.12.12.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4791</td>
<td id="S6.T5.12.12.12.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3961</td>
<td id="S6.T5.12.12.12.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3714</td>
<td id="S6.T5.12.12.12.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.3714</td>
</tr>
<tr id="S6.T5.13.13.13" class="ltx_tr">
<td id="S6.T5.13.13.13.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Hybrid</td>
<td id="S6.T5.13.13.13.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.13.13.13.1.m1.1" class="ltx_Math" alttext="\varepsilon=4" display="inline"><semantics id="S6.T5.13.13.13.1.m1.1a"><mrow id="S6.T5.13.13.13.1.m1.1.1" xref="S6.T5.13.13.13.1.m1.1.1.cmml"><mi id="S6.T5.13.13.13.1.m1.1.1.2" xref="S6.T5.13.13.13.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.13.13.13.1.m1.1.1.1" xref="S6.T5.13.13.13.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.13.13.13.1.m1.1.1.3" xref="S6.T5.13.13.13.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.13.13.13.1.m1.1b"><apply id="S6.T5.13.13.13.1.m1.1.1.cmml" xref="S6.T5.13.13.13.1.m1.1.1"><eq id="S6.T5.13.13.13.1.m1.1.1.1.cmml" xref="S6.T5.13.13.13.1.m1.1.1.1"></eq><ci id="S6.T5.13.13.13.1.m1.1.1.2.cmml" xref="S6.T5.13.13.13.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.13.13.13.1.m1.1.1.3.cmml" xref="S6.T5.13.13.13.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.13.13.13.1.m1.1c">\varepsilon=4</annotation></semantics></math></td>
<td id="S6.T5.13.13.13.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5353</td>
<td id="S6.T5.13.13.13.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4521</td>
<td id="S6.T5.13.13.13.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4508</td>
<td id="S6.T5.13.13.13.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.4431</td>
</tr>
<tr id="S6.T5.14.14.14" class="ltx_tr">
<td id="S6.T5.14.14.14.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Three-Outputs</td>
<td id="S6.T5.14.14.14.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><math id="S6.T5.14.14.14.1.m1.1" class="ltx_Math" alttext="\varepsilon=2" display="inline"><semantics id="S6.T5.14.14.14.1.m1.1a"><mrow id="S6.T5.14.14.14.1.m1.1.1" xref="S6.T5.14.14.14.1.m1.1.1.cmml"><mi id="S6.T5.14.14.14.1.m1.1.1.2" xref="S6.T5.14.14.14.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.14.14.14.1.m1.1.1.1" xref="S6.T5.14.14.14.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.14.14.14.1.m1.1.1.3" xref="S6.T5.14.14.14.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.14.14.14.1.m1.1b"><apply id="S6.T5.14.14.14.1.m1.1.1.cmml" xref="S6.T5.14.14.14.1.m1.1.1"><eq id="S6.T5.14.14.14.1.m1.1.1.1.cmml" xref="S6.T5.14.14.14.1.m1.1.1.1"></eq><ci id="S6.T5.14.14.14.1.m1.1.1.2.cmml" xref="S6.T5.14.14.14.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.14.14.14.1.m1.1.1.3.cmml" xref="S6.T5.14.14.14.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.14.14.14.1.m1.1c">\varepsilon=2</annotation></semantics></math></td>
<td id="S6.T5.14.14.14.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.2906</td>
<td id="S6.T5.14.14.14.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.2662</td>
<td id="S6.T5.14.14.14.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.2348</td>
<td id="S6.T5.14.14.14.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.0192</td>
</tr>
<tr id="S6.T5.15.15.15" class="ltx_tr">
<td id="S6.T5.15.15.15.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Three-Outputs</td>
<td id="S6.T5.15.15.15.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t"><math id="S6.T5.15.15.15.1.m1.1" class="ltx_Math" alttext="\varepsilon=4" display="inline"><semantics id="S6.T5.15.15.15.1.m1.1a"><mrow id="S6.T5.15.15.15.1.m1.1.1" xref="S6.T5.15.15.15.1.m1.1.1.cmml"><mi id="S6.T5.15.15.15.1.m1.1.1.2" xref="S6.T5.15.15.15.1.m1.1.1.2.cmml">ε</mi><mo id="S6.T5.15.15.15.1.m1.1.1.1" xref="S6.T5.15.15.15.1.m1.1.1.1.cmml">=</mo><mn id="S6.T5.15.15.15.1.m1.1.1.3" xref="S6.T5.15.15.15.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.T5.15.15.15.1.m1.1b"><apply id="S6.T5.15.15.15.1.m1.1.1.cmml" xref="S6.T5.15.15.15.1.m1.1.1"><eq id="S6.T5.15.15.15.1.m1.1.1.1.cmml" xref="S6.T5.15.15.15.1.m1.1.1.1"></eq><ci id="S6.T5.15.15.15.1.m1.1.1.2.cmml" xref="S6.T5.15.15.15.1.m1.1.1.2">𝜀</ci><cn type="integer" id="S6.T5.15.15.15.1.m1.1.1.3.cmml" xref="S6.T5.15.15.15.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T5.15.15.15.1.m1.1c">\varepsilon=4</annotation></semantics></math></td>
<td id="S6.T5.15.15.15.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.2946</td>
<td id="S6.T5.15.15.15.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.3288</td>
<td id="S6.T5.15.15.15.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.2424</td>
<td id="S6.T5.15.15.15.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.2386</td>
</tr>
</table>
</span></div>
</figure>
<div id="S6.SS1.p7" class="ltx_para">
<p id="S6.SS1.p7.1" class="ltx_p">Table <a href="#S6.T4" title="TABLE IV ‣ 6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> shows the results for different FL versions of HAR-Wild.
HAR-W-64-fed-uniform (FedAvg with data augmentation) achieves 71.8% accuracy, which is about 10% less than the accuracy of the centralized-trained HAR-Wild. This is the cost of privacy-protection provided by FL.</p>
</div>
<div id="S6.SS1.p8" class="ltx_para">
<p id="S6.SS1.p8.1" class="ltx_p">We tested FedYogi, FedAdam and FedAdagrad with and without data augmentation, and in both case they achieve comparable accuracy with FedAvg. Table <a href="#S6.T4" title="TABLE IV ‣ 6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> shows the results with data augmentation. Surprisingly, due to the noisy nature of HAR sensor data, the aggregators designed to handle non-IID data do not guarantee better performance than FedAvg. Therefore, the rest of the experiments will use FedAvg, which is the prevailing aggregator in FL.</p>
</div>
<div id="S6.SS1.p9" class="ltx_para">
<p id="S6.SS1.p9.6" class="ltx_p"><span id="S6.SS1.p9.6.6" class="ltx_text" style="color:#000000;">For privacy protection mechanisms, we train the HAR-W-64-fed-uniform model with the aforementioned DP mechanisms. Then, we evaluated the trade-offs between model utility and privacy budget for different versions of HAR-Wild with privacy mechanisms, as shown in Table 5.
As expected, the model utility decreases as privacy budget <math id="S6.SS1.p9.1.1.m1.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="S6.SS1.p9.1.1.m1.1a"><mi mathcolor="#000000" id="S6.SS1.p9.1.1.m1.1.1" xref="S6.SS1.p9.1.1.m1.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.1.1.m1.1b"><ci id="S6.SS1.p9.1.1.m1.1.1.cmml" xref="S6.SS1.p9.1.1.m1.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.1.1.m1.1c">\varepsilon</annotation></semantics></math> tightens. From this table, we select the best User-DP model (i.e., the one with <math id="S6.SS1.p9.2.2.m2.1" class="ltx_Math" alttext="\varepsilon=8" display="inline"><semantics id="S6.SS1.p9.2.2.m2.1a"><mrow id="S6.SS1.p9.2.2.m2.1.1" xref="S6.SS1.p9.2.2.m2.1.1.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.2.2.m2.1.1.2" xref="S6.SS1.p9.2.2.m2.1.1.2.cmml">ε</mi><mo mathcolor="#000000" id="S6.SS1.p9.2.2.m2.1.1.1" xref="S6.SS1.p9.2.2.m2.1.1.1.cmml">=</mo><mn mathcolor="#000000" id="S6.SS1.p9.2.2.m2.1.1.3" xref="S6.SS1.p9.2.2.m2.1.1.3.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.2.2.m2.1b"><apply id="S6.SS1.p9.2.2.m2.1.1.cmml" xref="S6.SS1.p9.2.2.m2.1.1"><eq id="S6.SS1.p9.2.2.m2.1.1.1.cmml" xref="S6.SS1.p9.2.2.m2.1.1.1"></eq><ci id="S6.SS1.p9.2.2.m2.1.1.2.cmml" xref="S6.SS1.p9.2.2.m2.1.1.2">𝜀</ci><cn type="integer" id="S6.SS1.p9.2.2.m2.1.1.3.cmml" xref="S6.SS1.p9.2.2.m2.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.2.2.m2.1c">\varepsilon=8</annotation></semantics></math>) and the best LDP model (i.e., BitRand with <math id="S6.SS1.p9.3.3.m3.1" class="ltx_Math" alttext="\varepsilon_{X}=\varepsilon_{Y}=8" display="inline"><semantics id="S6.SS1.p9.3.3.m3.1a"><mrow id="S6.SS1.p9.3.3.m3.1.1" xref="S6.SS1.p9.3.3.m3.1.1.cmml"><msub id="S6.SS1.p9.3.3.m3.1.1.2" xref="S6.SS1.p9.3.3.m3.1.1.2.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.2.2" xref="S6.SS1.p9.3.3.m3.1.1.2.2.cmml">ε</mi><mi mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.2.3" xref="S6.SS1.p9.3.3.m3.1.1.2.3.cmml">X</mi></msub><mo mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.3" xref="S6.SS1.p9.3.3.m3.1.1.3.cmml">=</mo><msub id="S6.SS1.p9.3.3.m3.1.1.4" xref="S6.SS1.p9.3.3.m3.1.1.4.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.4.2" xref="S6.SS1.p9.3.3.m3.1.1.4.2.cmml">ε</mi><mi mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.4.3" xref="S6.SS1.p9.3.3.m3.1.1.4.3.cmml">Y</mi></msub><mo mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.5" xref="S6.SS1.p9.3.3.m3.1.1.5.cmml">=</mo><mn mathcolor="#000000" id="S6.SS1.p9.3.3.m3.1.1.6" xref="S6.SS1.p9.3.3.m3.1.1.6.cmml">8</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.3.3.m3.1b"><apply id="S6.SS1.p9.3.3.m3.1.1.cmml" xref="S6.SS1.p9.3.3.m3.1.1"><and id="S6.SS1.p9.3.3.m3.1.1a.cmml" xref="S6.SS1.p9.3.3.m3.1.1"></and><apply id="S6.SS1.p9.3.3.m3.1.1b.cmml" xref="S6.SS1.p9.3.3.m3.1.1"><eq id="S6.SS1.p9.3.3.m3.1.1.3.cmml" xref="S6.SS1.p9.3.3.m3.1.1.3"></eq><apply id="S6.SS1.p9.3.3.m3.1.1.2.cmml" xref="S6.SS1.p9.3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p9.3.3.m3.1.1.2.1.cmml" xref="S6.SS1.p9.3.3.m3.1.1.2">subscript</csymbol><ci id="S6.SS1.p9.3.3.m3.1.1.2.2.cmml" xref="S6.SS1.p9.3.3.m3.1.1.2.2">𝜀</ci><ci id="S6.SS1.p9.3.3.m3.1.1.2.3.cmml" xref="S6.SS1.p9.3.3.m3.1.1.2.3">𝑋</ci></apply><apply id="S6.SS1.p9.3.3.m3.1.1.4.cmml" xref="S6.SS1.p9.3.3.m3.1.1.4"><csymbol cd="ambiguous" id="S6.SS1.p9.3.3.m3.1.1.4.1.cmml" xref="S6.SS1.p9.3.3.m3.1.1.4">subscript</csymbol><ci id="S6.SS1.p9.3.3.m3.1.1.4.2.cmml" xref="S6.SS1.p9.3.3.m3.1.1.4.2">𝜀</ci><ci id="S6.SS1.p9.3.3.m3.1.1.4.3.cmml" xref="S6.SS1.p9.3.3.m3.1.1.4.3">𝑌</ci></apply></apply><apply id="S6.SS1.p9.3.3.m3.1.1c.cmml" xref="S6.SS1.p9.3.3.m3.1.1"><eq id="S6.SS1.p9.3.3.m3.1.1.5.cmml" xref="S6.SS1.p9.3.3.m3.1.1.5"></eq><share href="#S6.SS1.p9.3.3.m3.1.1.4.cmml" id="S6.SS1.p9.3.3.m3.1.1d.cmml" xref="S6.SS1.p9.3.3.m3.1.1"></share><cn type="integer" id="S6.SS1.p9.3.3.m3.1.1.6.cmml" xref="S6.SS1.p9.3.3.m3.1.1.6">8</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.3.3.m3.1c">\varepsilon_{X}=\varepsilon_{Y}=8</annotation></semantics></math>) in terms of accuracy, and compare them with the models with and without augmentation in Figure 5.
The results show that HAR-Wild with User-DP achieves a model accuracy of 69.70%, which is just 2.11% lower than the model without privacy protection. HAR-Wild with LDP (BitRand) achieves an accuracy of 69.43%, which is just 2.38% lower than the noiseless model. Note that our defense successfully prevents the server to reconstruct recognizable sensor signals and infer its associated ground-truth labels. One of the reasons is that it is more challenging to infer whether a time series of sensor signals belongs to a particular client than other domain applications. When using a tighter privacy budget, e.g., <math id="S6.SS1.p9.4.4.m4.1" class="ltx_Math" alttext="\varepsilon_{X}=\varepsilon_{Y}=4" display="inline"><semantics id="S6.SS1.p9.4.4.m4.1a"><mrow id="S6.SS1.p9.4.4.m4.1.1" xref="S6.SS1.p9.4.4.m4.1.1.cmml"><msub id="S6.SS1.p9.4.4.m4.1.1.2" xref="S6.SS1.p9.4.4.m4.1.1.2.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.2.2" xref="S6.SS1.p9.4.4.m4.1.1.2.2.cmml">ε</mi><mi mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.2.3" xref="S6.SS1.p9.4.4.m4.1.1.2.3.cmml">X</mi></msub><mo mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.3" xref="S6.SS1.p9.4.4.m4.1.1.3.cmml">=</mo><msub id="S6.SS1.p9.4.4.m4.1.1.4" xref="S6.SS1.p9.4.4.m4.1.1.4.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.4.2" xref="S6.SS1.p9.4.4.m4.1.1.4.2.cmml">ε</mi><mi mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.4.3" xref="S6.SS1.p9.4.4.m4.1.1.4.3.cmml">Y</mi></msub><mo mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.5" xref="S6.SS1.p9.4.4.m4.1.1.5.cmml">=</mo><mn mathcolor="#000000" id="S6.SS1.p9.4.4.m4.1.1.6" xref="S6.SS1.p9.4.4.m4.1.1.6.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.4.4.m4.1b"><apply id="S6.SS1.p9.4.4.m4.1.1.cmml" xref="S6.SS1.p9.4.4.m4.1.1"><and id="S6.SS1.p9.4.4.m4.1.1a.cmml" xref="S6.SS1.p9.4.4.m4.1.1"></and><apply id="S6.SS1.p9.4.4.m4.1.1b.cmml" xref="S6.SS1.p9.4.4.m4.1.1"><eq id="S6.SS1.p9.4.4.m4.1.1.3.cmml" xref="S6.SS1.p9.4.4.m4.1.1.3"></eq><apply id="S6.SS1.p9.4.4.m4.1.1.2.cmml" xref="S6.SS1.p9.4.4.m4.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.p9.4.4.m4.1.1.2.1.cmml" xref="S6.SS1.p9.4.4.m4.1.1.2">subscript</csymbol><ci id="S6.SS1.p9.4.4.m4.1.1.2.2.cmml" xref="S6.SS1.p9.4.4.m4.1.1.2.2">𝜀</ci><ci id="S6.SS1.p9.4.4.m4.1.1.2.3.cmml" xref="S6.SS1.p9.4.4.m4.1.1.2.3">𝑋</ci></apply><apply id="S6.SS1.p9.4.4.m4.1.1.4.cmml" xref="S6.SS1.p9.4.4.m4.1.1.4"><csymbol cd="ambiguous" id="S6.SS1.p9.4.4.m4.1.1.4.1.cmml" xref="S6.SS1.p9.4.4.m4.1.1.4">subscript</csymbol><ci id="S6.SS1.p9.4.4.m4.1.1.4.2.cmml" xref="S6.SS1.p9.4.4.m4.1.1.4.2">𝜀</ci><ci id="S6.SS1.p9.4.4.m4.1.1.4.3.cmml" xref="S6.SS1.p9.4.4.m4.1.1.4.3">𝑌</ci></apply></apply><apply id="S6.SS1.p9.4.4.m4.1.1c.cmml" xref="S6.SS1.p9.4.4.m4.1.1"><eq id="S6.SS1.p9.4.4.m4.1.1.5.cmml" xref="S6.SS1.p9.4.4.m4.1.1.5"></eq><share href="#S6.SS1.p9.4.4.m4.1.1.4.cmml" id="S6.SS1.p9.4.4.m4.1.1d.cmml" xref="S6.SS1.p9.4.4.m4.1.1"></share><cn type="integer" id="S6.SS1.p9.4.4.m4.1.1.6.cmml" xref="S6.SS1.p9.4.4.m4.1.1.6">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.4.4.m4.1c">\varepsilon_{X}=\varepsilon_{Y}=4</annotation></semantics></math> or <math id="S6.SS1.p9.5.5.m5.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S6.SS1.p9.5.5.m5.1a"><mn mathcolor="#000000" id="S6.SS1.p9.5.5.m5.1.1" xref="S6.SS1.p9.5.5.m5.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.5.5.m5.1b"><cn type="integer" id="S6.SS1.p9.5.5.m5.1.1.cmml" xref="S6.SS1.p9.5.5.m5.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.5.5.m5.1c">2</annotation></semantics></math>, the gap between BitRand and Non-DP model becomes bigger. This is due to the fact that BitRand has not been designed for imbalanced data and cannot work well with significantly imbalanced data as our HAR dataset, especially when reducing the privacy budget <math id="S6.SS1.p9.6.6.m6.1" class="ltx_Math" alttext="\varepsilon_{Y}" display="inline"><semantics id="S6.SS1.p9.6.6.m6.1a"><msub id="S6.SS1.p9.6.6.m6.1.1" xref="S6.SS1.p9.6.6.m6.1.1.cmml"><mi mathcolor="#000000" id="S6.SS1.p9.6.6.m6.1.1.2" xref="S6.SS1.p9.6.6.m6.1.1.2.cmml">ε</mi><mi mathcolor="#000000" id="S6.SS1.p9.6.6.m6.1.1.3" xref="S6.SS1.p9.6.6.m6.1.1.3.cmml">Y</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.p9.6.6.m6.1b"><apply id="S6.SS1.p9.6.6.m6.1.1.cmml" xref="S6.SS1.p9.6.6.m6.1.1"><csymbol cd="ambiguous" id="S6.SS1.p9.6.6.m6.1.1.1.cmml" xref="S6.SS1.p9.6.6.m6.1.1">subscript</csymbol><ci id="S6.SS1.p9.6.6.m6.1.1.2.cmml" xref="S6.SS1.p9.6.6.m6.1.1.2">𝜀</ci><ci id="S6.SS1.p9.6.6.m6.1.1.3.cmml" xref="S6.SS1.p9.6.6.m6.1.1.3">𝑌</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.p9.6.6.m6.1c">\varepsilon_{Y}</annotation></semantics></math> for protecting the labels. Let us also emphasize that both privacy protection mechanisms offer rigorous privacy guarantees in FLSys without significant computational overhead.</span></p>
</div>
<div id="S6.SS1.p10" class="ltx_para">
<p id="S6.SS1.p10.1" class="ltx_p"><span id="S6.SS1.p10.1.1" class="ltx_text" style="color:#000000;">The different aggregators and privacy preserving mechanisms also showcase how the modularity of FLSys can be used to easily exchange different implementations of a module.
</span></p>
</div>
<figure id="S6.T6" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE VI: </span>SA Model Performance Per Class for Centralized and Federated Learning </figcaption>
<div id="S6.T6.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:195.1pt;height:55.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-60.4pt,17.2pt) scale(0.617708996208215,0.617708996208215) ;">
<table id="S6.T6.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T6.1.1.1" class="ltx_tr">
<td id="S6.T6.1.1.1.1" class="ltx_td ltx_border_l ltx_border_r ltx_border_t"></td>
<td id="S6.T6.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Class</td>
<td id="S6.T6.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Accuracy</td>
<td id="S6.T6.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Precision</td>
<td id="S6.T6.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Recall</td>
<td id="S6.T6.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">F1-score</td>
<td id="S6.T6.1.1.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Support</td>
</tr>
<tr id="S6.T6.1.1.2" class="ltx_tr">
<td id="S6.T6.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S6.T6.1.1.2.1.1" class="ltx_text">CL</span></td>
<td id="S6.T6.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">negative</td>
<td id="S6.T6.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="2"><span id="S6.T6.1.1.2.3.1" class="ltx_text">0.81</span></td>
<td id="S6.T6.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.75</td>
<td id="S6.T6.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.69</td>
<td id="S6.T6.1.1.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.72</td>
<td id="S6.T6.1.1.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3159</td>
</tr>
<tr id="S6.T6.1.1.3" class="ltx_tr">
<td id="S6.T6.1.1.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">positive</td>
<td id="S6.T6.1.1.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.84</td>
<td id="S6.T6.1.1.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.88</td>
<td id="S6.T6.1.1.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.86</td>
<td id="S6.T6.1.1.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">5746</td>
</tr>
<tr id="S6.T6.1.1.4" class="ltx_tr">
<td id="S6.T6.1.1.4.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S6.T6.1.1.4.1.1" class="ltx_text">FL</span></td>
<td id="S6.T6.1.1.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">negative</td>
<td id="S6.T6.1.1.4.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t" rowspan="2"><span id="S6.T6.1.1.4.3.1" class="ltx_text">0.79</span></td>
<td id="S6.T6.1.1.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.73</td>
<td id="S6.T6.1.1.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.64</td>
<td id="S6.T6.1.1.4.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.68</td>
<td id="S6.T6.1.1.4.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3159</td>
</tr>
<tr id="S6.T6.1.1.5" class="ltx_tr">
<td id="S6.T6.1.1.5.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">positive</td>
<td id="S6.T6.1.1.5.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.81</td>
<td id="S6.T6.1.1.5.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.87</td>
<td id="S6.T6.1.1.5.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.84</td>
<td id="S6.T6.1.1.5.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">5746</td>
</tr>
</table>
</span></div>
</figure>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span><span id="S6.SS2.1.1" class="ltx_text ltx_font_italic">Sentiment Analysis (SA) Model Evaluation</span>
</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">FLSys is designed and implemented to be flexible, in the sense that training and inference of multiple models can run concurrently. On the server, different applications use independent AWS resources. On the phone, independent model trainers and inference runners are responsible for different applications. This subsection showcases the training performance of the SA model, a text analysis model that interprets and classifies the emotions (positive or negative) from text data. For example, with the inferred emotions of mobile users’ private text data, a smart keyboard may automatically generate emoji to enrich the text before sending.</p>
</div>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.1" class="ltx_p">We build the SA model for tweet data.
We use the FL benchmark dataset Sentiment140 <span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>http://help.sentiment140.com/home</span></span></span>, which consists of 1,600,498 tweets from 660,120 users. We select the users with at least 70 tweets, and this sub-dataset contains 46,000+ samples from 436 users. Our SA model first extracts a feature vector of size 768 from each tweet with DistilBERT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>. Then, it applies two fully connected layers with ReLU and Softmax activation, respectively, to classify the feature vector into positive or negative. The number of hidden states of the first fully connected layer is set to 128 to balance the convergence speed and model size. In the FL version of the model, 5% of the users are used for data augmentation, and the rest of the users follow 4:1 train-test split.</p>
</div>
<div id="S6.SS2.p3" class="ltx_para">
<p id="S6.SS2.p3.1" class="ltx_p">While the reference implementation associated with this benchmark dataset reached 70% accuracy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> using 100 users with stacked LSTM in FL simulation, our SA model achieves superior performance, as shown in Table <a href="#S6.T6" title="TABLE VI ‣ 6.1 HAR-Wild Model Evaluation ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VI</span></a>. Centralized learning achieves 81% accuracy, while FL achieves 79% accuracy (an acceptable drop). The FL version of this SA model will be further evaluated while running over FLSys on Android phones in Section <a href="#S6.SS4" title="6.4 FLSys Performance on Smart Phones ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.4</span></a>.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.3 </span><span id="S6.SS3.1.1" class="ltx_text ltx_font_italic">HAR-Wild over FLSys Emulation Performance</span>
</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.1" class="ltx_p">To evaluate the performance of HAR-Wild over the FLSys prototype at scale, we use Android emulation because we did not have enough phones for these experiments. Furthermore, since Android emulation is slow and costly, we run several larger-scale experiments with the same DL4J algorithms and functions in Linux, which is much faster. We train the model in these experiments for only 1,000 rounds because the simulation results showed that the accuracy is acceptable starting with this number of rounds.</p>
</div>
<div id="S6.SS3.p2" class="ltx_para">
<p id="S6.SS3.p2.1" class="ltx_p">All the phone components of the prototype, except for Data Collector and Data Preprocessor, run in the emulators. The cloud part of the prototype runs in AWS. The Android emulators run on top of virtual machines (VMs) in Google Cloud, as AWS does not support nested virtualization. We run 10 VMs in Google Cloud, and each VM has 16 vCPUs and 60GB memory. On each instance, we run 4 Android v10 emulators from AVD manager in Android Studio. Each emulator is loaded with 3 users’ data files, and each file is sampled twice as different clients. In each round, each Android emulator participates in training on behalf of a few clients.
We set the deadline for the round in the FL Cloud Manager to 6 minutes.</p>
</div>
<figure id="S6.F6" class="ltx_figure"><img src="/html/2111.09445/assets/image/figure2-HAR-W-fed-sim-emu.png" id="S6.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="236" height="190" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>HAR-Wild over FLSys Using Android/Linux Emulation</figcaption>
</figure>
<figure id="S6.T7" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE VII: </span>Performance Per Class of HAR-Wild over FLSys Using Android Emulation</figcaption>
<div id="S6.T7.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:151.8pt;height:71pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-39.5pt,18.5pt) scale(0.657405851114491,0.657405851114491) ;">
<table id="S6.T7.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T7.1.1.1" class="ltx_tr">
<td id="S6.T7.1.1.1.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Class</td>
<td id="S6.T7.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Accuracy</td>
<td id="S6.T7.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Precision</td>
<td id="S6.T7.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Recall</td>
<td id="S6.T7.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">F1-score</td>
</tr>
<tr id="S6.T7.1.1.2" class="ltx_tr">
<td id="S6.T7.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">0</td>
<td id="S6.T7.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" rowspan="4"><span id="S6.T7.1.1.2.2.1" class="ltx_text">0.6907</span></td>
<td id="S6.T7.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7003</td>
<td id="S6.T7.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6628</td>
<td id="S6.T7.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6810</td>
</tr>
<tr id="S6.T7.1.1.3" class="ltx_tr">
<td id="S6.T7.1.1.3.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">1</td>
<td id="S6.T7.1.1.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5922</td>
<td id="S6.T7.1.1.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8655</td>
<td id="S6.T7.1.1.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7032</td>
</tr>
<tr id="S6.T7.1.1.4" class="ltx_tr">
<td id="S6.T7.1.1.4.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">2</td>
<td id="S6.T7.1.1.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8606</td>
<td id="S6.T7.1.1.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.5443</td>
<td id="S6.T7.1.1.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6668</td>
</tr>
<tr id="S6.T7.1.1.5" class="ltx_tr">
<td id="S6.T7.1.1.5.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">3</td>
<td id="S6.T7.1.1.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.8324</td>
<td id="S6.T7.1.1.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.6450</td>
<td id="S6.T7.1.1.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.7268</td>
</tr>
<tr id="S6.T7.1.1.6" class="ltx_tr">
<td id="S6.T7.1.1.6.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t">4</td>
<td id="S6.T7.1.1.6.2" class="ltx_td ltx_border_b ltx_border_r"></td>
<td id="S6.T7.1.1.6.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.6682</td>
<td id="S6.T7.1.1.6.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.9028</td>
<td id="S6.T7.1.1.6.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.7680</td>
</tr>
</table>
</span></div>
</figure>
<div id="S6.SS3.p3" class="ltx_para">
<p id="S6.SS3.p3.1" class="ltx_p"><span id="S6.SS3.p3.1.1" class="ltx_text ltx_font_bold">Accuracy.</span> Figure <a href="#S6.F6" title="Figure 6 ‣ 6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows that HAR-Wild with 64 clients emulation in both Android and Linux on FLSys achieve comparable accuracy with the simulated FL with TensorFlow, i.e., 69.07%, 68.50%, and 66.00%. Table <a href="#S6.T7" title="TABLE VII ‣ 6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VII</span></a> shows HAR-Wild’s performance per class using FLSys and Android emulation. Although our data collected in the wild are inevitably unbalanced (Table <a href="#S6.T2" title="TABLE II ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>), every class performs reasonably well with F1-scores between 66.7% and 76.8%. Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the results of HAR-Wild with higher number of clients (up to 960) using Linux emulations. The client data was over-sampled from the original 51 users.
HAR-Wild model achieves up to 69.17% accuracy, and more clients help the model converge quicker with better performance.</p>
</div>
<div id="S6.SS3.p4" class="ltx_para">
<p id="S6.SS3.p4.1" class="ltx_p"><span id="S6.SS3.p4.1.1" class="ltx_text ltx_font_bold">Fault Tolerance.</span>
In daily life, some clients may fail to upload a trained model to the FL Cloud Manager due to network or computation issues. This set of experiments verifies the fault tolerance of FLSys in terms of model performance as a given percentage of clients drop out randomly in each round. Figure <a href="#S6.F7" title="Figure 7 ‣ 6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the accuracy of HAR-Wild with up to 50% clients dropping out randomly from 480 clients in each round. With 1,000 rounds of training, the accuracy is reduced by at most 3.11%. This is a promising result showing that FLSys can tolerate reasonably large dropout rates during training.</p>
</div>
<div id="S6.SS3.p5" class="ltx_para">
<p id="S6.SS3.p5.1" class="ltx_p"><span id="S6.SS3.p5.1.1" class="ltx_text ltx_font_bold">Scalability.</span>
As discussed in Section <a href="#S4" title="4 Prototype Implementation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, computation and storage scale independently in the cloud for FLSys. This set of experiments verifies the scalability of FLSys across training rounds. The only FL function that may be computationally intensive in the cloud is the Model Aggregator. Figure <a href="#S6.F8" title="Figure 8 ‣ 6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows the Model Aggregator in AWS scales linearly with the number of participating clients. We also observe that the aggregation of 960 clients generally finishes in less than 4 minutes. By interpolating these results and given the current 15 minutes execution time limit of an AWS Lambda process <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, the FLSys prototype (with single-threaded aggregator) can handle up to 3,600 clients, which is a sufficient number of clients, per training round. This number can be multiplied substantially by implementing both thread-level and process-level parallelization to handle real-world traffic volume.</p>
</div>
<div id="S6.SS3.p6" class="ltx_para">
<p id="S6.SS3.p6.1" class="ltx_p">Overall, the results for accuracy, fault-tolerance, and scalability demonstrate that FLSys and HAR-Wild can work well in real-life, where they are deployed on Android phones and the AWS cloud.</p>
</div>
<figure id="S6.F7" class="ltx_figure"><img src="/html/2111.09445/assets/image/figure3-HAR-W-emu-scale-acc.png" id="S6.F7.g1" class="ltx_graphics ltx_centering ltx_img_square" width="229" height="189" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Linux Emulation of HAR-Wild over FLSys, while Varying Total Number of Users and Number of Users Dropping from Training</figcaption>
</figure>
<figure id="S6.F8" class="ltx_figure"><img src="/html/2111.09445/assets/image/N_models_duration_crop.png" id="S6.F8.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="449" height="277" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Aggregation time and participating clients</figcaption>
</figure>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.4 </span><span id="S6.SS4.1.1" class="ltx_text ltx_font_italic">FLSys Performance on Smart Phones</span>
</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.1" class="ltx_p">We benchmarked FLSys with HAR-Wild and SA on Android phones using a testing app to evaluate training and inference performance. We also assessed the resource consumption on the phones. We used three phones with different specs (Nexus 6P, Google Pixels 3 and 3a). The results demonstrate the on-device feasibility of FLSys, even for a low-end Nexus 6P phone, unveiled in 2015 and running Android 7. Since FLSys works well on such a low-end phone and people change their Android phones every 2-3 years on average <span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://www.statista.com/statistics/619788/average-smartphone-life/</span></span></span>, we expect FLSys to work well on most of today’s phones.</p>
</div>
<div id="S6.SS4.p2" class="ltx_para">
<p id="S6.SS4.p2.1" class="ltx_p"><span id="S6.SS4.p2.1.1" class="ltx_text ltx_font_bold">Training Performance.</span>
Table <a href="#S6.T8" title="TABLE VIII ‣ 6.4 FLSys Performance on Smart Phones ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">VIII</span></a> shows the training time and the resource consumption on the phones. The training time is recorded by training 650 samples for 5 epochs for HAR-Wild, and 100 samples for 5 epochs for SA, which are the optimum scenarios determined in Section <a href="#S6.SS3" title="6.3 HAR-Wild over FLSys Emulation Performance ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6.3</span></a>. Foreground training is done while leaving the screen on, and it uses the full single core capacity. It provides a lower bound for the training time. However, in reality, we expect training to be done in the background, either on battery or on charger.
As in practice, other apps or system processes working in background may interfere with training. We take 10 measurements for each benchmark, and report the mean and standard deviation.</p>
</div>
<figure id="S6.T8" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE VIII: </span>Training on Android Phones: Resource Consumption and Latency</figcaption>
<div id="S6.T8.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:216.8pt;height:77.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-144.5pt,51.9pt) scale(0.428677591571492,0.428677591571492) ;">
<table id="S6.T8.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T8.1.1.1" class="ltx_tr">
<td id="S6.T8.1.1.1.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Model</td>
<td id="S6.T8.1.1.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Phone</td>
<td id="S6.T8.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.3.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.3.1.1" class="ltx_p">Max</span>
<span id="S6.T8.1.1.1.3.1.2" class="ltx_p">RAM</span>
<span id="S6.T8.1.1.1.3.1.3" class="ltx_p">Usage</span>
<span id="S6.T8.1.1.1.3.1.4" class="ltx_p">(MB)</span>
</span>
</td>
<td id="S6.T8.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.4.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.4.1.1" class="ltx_p">Foreground</span>
<span id="S6.T8.1.1.1.4.1.2" class="ltx_p">Training</span>
<span id="S6.T8.1.1.1.4.1.3" class="ltx_p">Time</span>
<span id="S6.T8.1.1.1.4.1.4" class="ltx_p">Mean/SD</span>
<span id="S6.T8.1.1.1.4.1.5" class="ltx_p">(min)</span>
</span>
</td>
<td id="S6.T8.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.5.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.5.1.1" class="ltx_p">Background</span>
<span id="S6.T8.1.1.1.5.1.2" class="ltx_p">Training</span>
<span id="S6.T8.1.1.1.5.1.3" class="ltx_p">Time on</span>
<span id="S6.T8.1.1.1.5.1.4" class="ltx_p">Charger</span>
<span id="S6.T8.1.1.1.5.1.5" class="ltx_p">Mean/SD</span>
<span id="S6.T8.1.1.1.5.1.6" class="ltx_p">(min)</span>
</span>
</td>
<td id="S6.T8.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.6.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.6.1.1" class="ltx_p">Background</span>
<span id="S6.T8.1.1.1.6.1.2" class="ltx_p">Training</span>
<span id="S6.T8.1.1.1.6.1.3" class="ltx_p">Time on</span>
<span id="S6.T8.1.1.1.6.1.4" class="ltx_p">Battery</span>
<span id="S6.T8.1.1.1.6.1.5" class="ltx_p">Mean/SD</span>
<span id="S6.T8.1.1.1.6.1.6" class="ltx_p">(min)</span>
</span>
</td>
<td id="S6.T8.1.1.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.7.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.7.1.1" class="ltx_p">Battery</span>
<span id="S6.T8.1.1.1.7.1.2" class="ltx_p">Consumption</span>
<span id="S6.T8.1.1.1.7.1.3" class="ltx_p">per Round</span>
<span id="S6.T8.1.1.1.7.1.4" class="ltx_p">(mAh)</span>
</span>
</td>
<td id="S6.T8.1.1.1.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T8.1.1.1.8.1" class="ltx_inline-block">
<span id="S6.T8.1.1.1.8.1.1" class="ltx_p">Number</span>
<span id="S6.T8.1.1.1.8.1.2" class="ltx_p">of</span>
<span id="S6.T8.1.1.1.8.1.3" class="ltx_p">Training</span>
<span id="S6.T8.1.1.1.8.1.4" class="ltx_p">Rounds</span>
<span id="S6.T8.1.1.1.8.1.5" class="ltx_p">for Full</span>
<span id="S6.T8.1.1.1.8.1.6" class="ltx_p">Battery</span>
</span>
</td>
</tr>
<tr id="S6.T8.1.1.2" class="ltx_tr">
<td id="S6.T8.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S6.T8.1.1.2.1.1" class="ltx_text">HAR</span></td>
<td id="S6.T8.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Nexus 6P</td>
<td id="S6.T8.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">219</td>
<td id="S6.T8.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4.95/0.94</td>
<td id="S6.T8.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">39.10/26.10</td>
<td id="S6.T8.1.1.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">45.34/24.31</td>
<td id="S6.T8.1.1.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">35.10</td>
<td id="S6.T8.1.1.2.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">98</td>
</tr>
<tr id="S6.T8.1.1.3" class="ltx_tr">
<td id="S6.T8.1.1.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3a</td>
<td id="S6.T8.1.1.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">156</td>
<td id="S6.T8.1.1.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.23/0.01</td>
<td id="S6.T8.1.1.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3.94/0.04</td>
<td id="S6.T8.1.1.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">85.82/33.07</td>
<td id="S6.T8.1.1.3.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">9.72</td>
<td id="S6.T8.1.1.3.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">308</td>
</tr>
<tr id="S6.T8.1.1.4" class="ltx_tr">
<td id="S6.T8.1.1.4.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3</td>
<td id="S6.T8.1.1.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">165</td>
<td id="S6.T8.1.1.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.70/0.06</td>
<td id="S6.T8.1.1.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3.58/0.10</td>
<td id="S6.T8.1.1.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">79.96/36.82</td>
<td id="S6.T8.1.1.4.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3.79</td>
<td id="S6.T8.1.1.4.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">769</td>
</tr>
<tr id="S6.T8.1.1.5" class="ltx_tr">
<td id="S6.T8.1.1.5.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S6.T8.1.1.5.1.1" class="ltx_text">SA</span></td>
<td id="S6.T8.1.1.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Nexus 6P</td>
<td id="S6.T8.1.1.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">139</td>
<td id="S6.T8.1.1.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.62/0.08</td>
<td id="S6.T8.1.1.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">5.04/0.13</td>
<td id="S6.T8.1.1.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">29.79/17.13</td>
<td id="S6.T8.1.1.5.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">7.94</td>
<td id="S6.T8.1.1.5.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">435</td>
</tr>
<tr id="S6.T8.1.1.6" class="ltx_tr">
<td id="S6.T8.1.1.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3a</td>
<td id="S6.T8.1.1.6.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">128</td>
<td id="S6.T8.1.1.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.33/0.005</td>
<td id="S6.T8.1.1.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.84/0.006</td>
<td id="S6.T8.1.1.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">25.42/5.72</td>
<td id="S6.T8.1.1.6.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">2.02</td>
<td id="S6.T8.1.1.6.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1481</td>
</tr>
<tr id="S6.T8.1.1.7" class="ltx_tr">
<td id="S6.T8.1.1.7.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">Google Pixel 3</td>
<td id="S6.T8.1.1.7.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">136</td>
<td id="S6.T8.1.1.7.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.22/0.002</td>
<td id="S6.T8.1.1.7.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.76/0.02</td>
<td id="S6.T8.1.1.7.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">24.19/8.12</td>
<td id="S6.T8.1.1.7.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.76</td>
<td id="S6.T8.1.1.7.7" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">3846</td>
</tr>
</table>
</span></div>
</figure>
<figure id="S6.T9" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE IX: </span>Inference on Android Phones: Resource Consumption and Latency</figcaption>
<div id="S6.T9.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:216.8pt;height:72.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-162.3pt,53.9pt) scale(0.400417877046293,0.400417877046293) ;">
<table id="S6.T9.1.1" class="ltx_tabular ltx_align_middle">
<tr id="S6.T9.1.1.1" class="ltx_tr">
<td id="S6.T9.1.1.1.2" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t">Model</td>
<td id="S6.T9.1.1.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Phone</td>
<td id="S6.T9.1.1.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.4.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.4.1.1" class="ltx_p">Max</span>
<span id="S6.T9.1.1.1.4.1.2" class="ltx_p">RAM</span>
<span id="S6.T9.1.1.1.4.1.3" class="ltx_p">Usage</span>
<span id="S6.T9.1.1.1.4.1.4" class="ltx_p">(MB)</span>
</span>
</td>
<td id="S6.T9.1.1.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.5.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.5.1.1" class="ltx_p">Foreground</span>
<span id="S6.T9.1.1.1.5.1.2" class="ltx_p">Inference</span>
<span id="S6.T9.1.1.1.5.1.3" class="ltx_p">Time</span>
<span id="S6.T9.1.1.1.5.1.4" class="ltx_p">Mean/SD</span>
<span id="S6.T9.1.1.1.5.1.5" class="ltx_p">(millisecond)</span>
</span>
</td>
<td id="S6.T9.1.1.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.6.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.6.1.1" class="ltx_p">Background</span>
<span id="S6.T9.1.1.1.6.1.2" class="ltx_p">Inference</span>
<span id="S6.T9.1.1.1.6.1.3" class="ltx_p">Time on</span>
<span id="S6.T9.1.1.1.6.1.4" class="ltx_p">Charger</span>
<span id="S6.T9.1.1.1.6.1.5" class="ltx_p">Mean/SD</span>
<span id="S6.T9.1.1.1.6.1.6" class="ltx_p">(millisecond)</span>
</span>
</td>
<td id="S6.T9.1.1.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.7.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.7.1.1" class="ltx_p">Background</span>
<span id="S6.T9.1.1.1.7.1.2" class="ltx_p">Inference</span>
<span id="S6.T9.1.1.1.7.1.3" class="ltx_p">Time on</span>
<span id="S6.T9.1.1.1.7.1.4" class="ltx_p">Battery</span>
<span id="S6.T9.1.1.1.7.1.5" class="ltx_p">Mean/SD</span>
<span id="S6.T9.1.1.1.7.1.6" class="ltx_p">(millisecond)</span>
</span>
</td>
<td id="S6.T9.1.1.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.1.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.1.1.2" class="ltx_p">Battery</span>
<span id="S6.T9.1.1.1.1.1.3" class="ltx_p">Consumption</span>
<span id="S6.T9.1.1.1.1.1.4" class="ltx_p">per</span>
<span id="S6.T9.1.1.1.1.1.5" class="ltx_p">prediction</span>
<span id="S6.T9.1.1.1.1.1.1" class="ltx_p">(<math id="S6.T9.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\mu" display="inline"><semantics id="S6.T9.1.1.1.1.1.1.m1.1a"><mi id="S6.T9.1.1.1.1.1.1.m1.1.1" xref="S6.T9.1.1.1.1.1.1.m1.1.1.cmml">μ</mi><annotation-xml encoding="MathML-Content" id="S6.T9.1.1.1.1.1.1.m1.1b"><ci id="S6.T9.1.1.1.1.1.1.m1.1.1.cmml" xref="S6.T9.1.1.1.1.1.1.m1.1.1">𝜇</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T9.1.1.1.1.1.1.m1.1c">\mu</annotation></semantics></math>Ah)</span>
</span>
</td>
<td id="S6.T9.1.1.1.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">
<span id="S6.T9.1.1.1.8.1" class="ltx_inline-block">
<span id="S6.T9.1.1.1.8.1.1" class="ltx_p">Millions</span>
<span id="S6.T9.1.1.1.8.1.2" class="ltx_p">of</span>
<span id="S6.T9.1.1.1.8.1.3" class="ltx_p">inferences</span>
<span id="S6.T9.1.1.1.8.1.4" class="ltx_p">for</span>
<span id="S6.T9.1.1.1.8.1.5" class="ltx_p">Full</span>
<span id="S6.T9.1.1.1.8.1.6" class="ltx_p">Battery</span>
</span>
</td>
</tr>
<tr id="S6.T9.1.1.2" class="ltx_tr">
<td id="S6.T9.1.1.2.1" class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S6.T9.1.1.2.1.1" class="ltx_text">HAR</span></td>
<td id="S6.T9.1.1.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Nexus 6P</td>
<td id="S6.T9.1.1.2.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">161</td>
<td id="S6.T9.1.1.2.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">54.65/16.36</td>
<td id="S6.T9.1.1.2.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1963.04/1540.29</td>
<td id="S6.T9.1.1.2.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">7646.73/16349.49</td>
<td id="S6.T9.1.1.2.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4.49</td>
<td id="S6.T9.1.1.2.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.77</td>
</tr>
<tr id="S6.T9.1.1.3" class="ltx_tr">
<td id="S6.T9.1.1.3.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3a</td>
<td id="S6.T9.1.1.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">158</td>
<td id="S6.T9.1.1.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">38.48/10.07</td>
<td id="S6.T9.1.1.3.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">99.73/19.76</td>
<td id="S6.T9.1.1.3.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">100.11/19.69</td>
<td id="S6.T9.1.1.3.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4.12</td>
<td id="S6.T9.1.1.3.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">0.73</td>
</tr>
<tr id="S6.T9.1.1.4" class="ltx_tr">
<td id="S6.T9.1.1.4.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3</td>
<td id="S6.T9.1.1.4.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">177</td>
<td id="S6.T9.1.1.4.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">36.59/6.43</td>
<td id="S6.T9.1.1.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">99.60/33.69</td>
<td id="S6.T9.1.1.4.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">100.11/21.45</td>
<td id="S6.T9.1.1.4.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.94</td>
<td id="S6.T9.1.1.4.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.50</td>
</tr>
<tr id="S6.T9.1.1.5" class="ltx_tr">
<td id="S6.T9.1.1.5.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="S6.T9.1.1.5.1.1" class="ltx_text">SA</span></td>
<td id="S6.T9.1.1.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Nexus 6P</td>
<td id="S6.T9.1.1.5.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">114</td>
<td id="S6.T9.1.1.5.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">19.66/6.06</td>
<td id="S6.T9.1.1.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20.10/20.04</td>
<td id="S6.T9.1.1.5.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20.25/28.11</td>
<td id="S6.T9.1.1.5.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">3.35</td>
<td id="S6.T9.1.1.5.8" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.03</td>
</tr>
<tr id="S6.T9.1.1.6" class="ltx_tr">
<td id="S6.T9.1.1.6.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">Google Pixel 3a</td>
<td id="S6.T9.1.1.6.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">108</td>
<td id="S6.T9.1.1.6.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">11.90/3.71</td>
<td id="S6.T9.1.1.6.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20.65/4.45</td>
<td id="S6.T9.1.1.6.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">19.58/3.93</td>
<td id="S6.T9.1.1.6.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">2.3</td>
<td id="S6.T9.1.1.6.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1.30</td>
</tr>
<tr id="S6.T9.1.1.7" class="ltx_tr">
<td id="S6.T9.1.1.7.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">Google Pixel 3</td>
<td id="S6.T9.1.1.7.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">129</td>
<td id="S6.T9.1.1.7.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">10.11/2.88</td>
<td id="S6.T9.1.1.7.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">15.59/5.89</td>
<td id="S6.T9.1.1.7.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">17.42/5.69</td>
<td id="S6.T9.1.1.7.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">0.17</td>
<td id="S6.T9.1.1.7.7" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">17.63</td>
</tr>
</table>
</span></div>
</figure>
<div id="S6.SS4.p3" class="ltx_para">
<p id="S6.SS4.p3.1" class="ltx_p">Training for one round is fast on the phones. The foreground training time on the more powerful phone, Pixel 3, is just 0.7 min for HAR-Wild, and 0.22 min for SA. The background training time on charger, which is the expected situation for FL training, is good for any practical situation. The phones experience a higher training time compared with the foreground case (completed one training round in less than 4 minutes). The background training time on battery is notably longer, since Android attempts to balance computation with battery saving.</p>
</div>
<div id="S6.SS4.p4" class="ltx_para">
<p id="S6.SS4.p4.1" class="ltx_p">The results show training is also feasible in terms of resource consumption. The maximum RAM usage of the app is less than 165MB, and modern phones are equipped with sufficient RAM to handle it. While we did not perform experiments for battery consumption in the foreground (as this test was used just for a lower bound on computation time), we measured battery consumption for background training on battery. The phones could easily perform hundreds of rounds of training on a fully charged battery. It is worth noting that, typically, one round of training per day is enough, as the users need enough time to collect new data.</p>
</div>
<div id="S6.SS4.p5" class="ltx_para">
<p id="S6.SS4.p5.1" class="ltx_p"><span id="S6.SS4.p5.1.1" class="ltx_text ltx_font_bold">Inference Performance.</span>
The results in Table <a href="#S6.T9" title="TABLE IX ‣ 6.4 FLSys Performance on Smart Phones ‣ 6 Evaluation ‣ FLSys: Toward an Open Ecosystem for Federated Learning Mobile Apps" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IX</span></a> demonstrate that FLSys can be used efficiently by third-party apps.
The inference time is measured within the third party testing app. Let us note that the inference is performed locally by the FL Phone Manager, without any network communication. Thus, the measured time consists of the inference computation time and the inter-process communication time. We continuously perform predictions for 30 minutes and report the average values. The inference time for the three scenarios on the third-party app, foreground, background on charger, and background on battery, follows a similar trend as training. FLSys and HAR-Wild/SA have reasonable resource consumption, which make them effective in practice.</p>
</div>
<div id="S6.SS4.p6" class="ltx_para">
<p id="S6.SS4.p6.1" class="ltx_p">In addition to HAR and SA, many other applications may benefit from FLSys. For example, FL models are appropriate for privacy-sensitive image and video data collected on mobile devices. Existing research confirms that such models are feasible on resource-constrained mobile devices. For training, Mathur et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite> demonstrated that training a 2-layer DNN classifier on top of a pre-trained MobileNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> on Android clients for the Office-31 dataset takes about 30 minutes to converge. For inference, we tested the inference time of MobileNet on 224*224 images, and it takes about 120ms for a single CPU thread. These numbers are comparable with our results on HAR and confirm that such models could run over FLSys.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Conclusions, Lessons Learned, and Future Work</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">This paper presented our experience with designing, building, and evaluating FLSys, an end-to-end federated learning system. FLSys was designed based on requirements derived from real-life applications that learn from mobile user data collected in the wild, such as human activity recognition (HAR). Compared with existing FL systems, FLSys balances model utility with resource consumption on the phones, tolerates client failures/disconnections and allows clients to join training at any time, supports multiple DL models that can be used concurrently by multiple apps, provides support for advanced privacy protection mechanisms, and acts as a “central hub” on the phone to manage the training, updating, and access control of FL models used by different apps. We built a complete prototype of FLSys in Android and AWS, and used this prototype to demonstrate that FLSys is effective and efficient in practice in terms of model performance, privacy protection, resource usage, and latency. We believe FLSys can open the path toward creating an FL ecosystem of models and apps for privacy-preserving deep learning on mobile sensing data. In terms of actual deployment of FLSys in practice, we believe it can be offered as FL as a Service (FLaaS) by cloud providers.</p>
</div>
<div id="S7.p2" class="ltx_para">
<p id="S7.p2.1" class="ltx_p">Next, we report lessons learned and future work. The lessons learned are based on our experience with running FLSys on data collected in the wild from 50+ users over a 4-month period. Larger scales and longer periods are necessary for additional insights into system scalability and robustness, as well as model performance at scale.</p>
</div>
<div id="S7.p3" class="ltx_para">
<p id="S7.p3.1" class="ltx_p"><span id="S7.p3.1.1" class="ltx_text ltx_font_bold">Build mechanisms to cope with non-IID data.</span> Since our data collection happened during the Covid-19 pandemic, we expected to see somewhat similar data from users who mostly stayed indoors. However, the data was non-IID, strengthening the idea that data collected in the wild will almost always be non-IID. A future work in FLSys is to provide support for model and data-specific augmentation and other approaches to cope with non-IID data.</p>
</div>
<div id="S7.p4" class="ltx_para">
<p id="S7.p4.1" class="ltx_p"><span id="S7.p4.1.1" class="ltx_text ltx_font_bold">Beware the simulation pitfalls.</span> One common practice in FL simulations is to use the same instances/placeholders in memory for the different clients. Such simulations must carefully reset the instances for different clients to avoid any information leakage among clients, which can never happen in a real system. Our initial experiments showed unexpectedly different results between simulations and Android emulators with DL4J for the same settings. The first problem we discovered was that Batch Normalization (BN) is not supported in DL4J for specific data shapes. We implemented our own BN in DL4J, but the simulation results still did not match the experimental results. Finally, we realized that BN does not work well for FL (consistent with <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>), but it does work in the simulations due to shared instances among the simulated clients. Thus, the FL models used in the reported experiments do not use BN. The second problem we noticed was that the Adam optimizer worked well for simulation, but not for the Android emulator experiments. This was also caused by shared instances accessed by all clients in the simulation. This should not happen in practice given privacy leakage through the shared instances. The lesson learned was that simulation may show better results than experiments with real systems for FL. Since most of FL papers in the literature are based on simulations, their results may suffer from similar problems with the ones described here. We believe FLSys offers an opportunity to test such FL models in real-life conditions.</p>
</div>
<div id="S7.p5" class="ltx_para">
<p id="S7.p5.1" class="ltx_p"><span id="S7.p5.1.1" class="ltx_text ltx_font_bold">Balance mobile resources and model accuracy.</span> In the current FL literature, there are no results to show the FL models work well on mobile devices, while consuming a limited amount of resources on these devices (e.g., battery power, memory). A lesson that we understood early on is that FLSys will need to balance resource usage on mobiles with model accuracy. Therefore, FLSys used an asynchronous design in which policies on the mobile devices are evaluated to decide when it makes sense for the device to participate in training and consume resources. Our results show that good model accuracy can be achieved even when a significant number of mobile devices do not participate in training in order to save resources. Let us also note that real systems cannot expect to run the same number of rounds that we observe in simulations. For example, it is common to see 10,000 rounds in simulations. However, in real life, mobile devices may not train more than once a day due to both resource consumption and lack of enough new data. In such a situation, running 10,000 rounds will take over 27 years. Thus, models must be optimized for a realistic number of rounds.</p>
</div>
<div id="S7.p6" class="ltx_para">
<p id="S7.p6.1" class="ltx_p"><span id="S7.p6.1.1" class="ltx_text ltx_font_bold">Design for flexibility.</span> FLSys was designed for model flexibility on the phones from the beginning (i.e., allow apps to use multiple interchangeable models). However, we did not originally design for flexiblity in the cloud. At first, we used virtual machines in the cloud and durable cloud storage for all FL operations. However, when we analyzed scalability and performance issues, we realized that an FaaS solution and different types of storage are necessary. Therefore, we changed the design of the FLSys in the cloud to allow for different types of cloud platforms and storage options. Thus, FLSys can easily be ported to other cloud platforms beyond AWS.</p>
</div>
<div id="S7.p7" class="ltx_para">
<p id="S7.p7.1" class="ltx_p"><span id="S7.p7.1.1" class="ltx_text ltx_font_bold">Future Work.</span>
<span id="S7.p7.1.2" class="ltx_text" style="color:#000000;">FLSys provides a solid foundation to extend the privacy and security threat model and defense solutions. For example, the clients can be compromised to poison the federated training process by sending poisoning gradients to the server. To defend against such attacks, approaches such as robust aggregators, robust predictions, and certified guarantees for model classification can be integrated into the FLSys system. In fact, we can replace our current supported aggregators with robust aggregators in the FL Cloud Manager. In addition, robust predictions and certified guarantees can be integrated into the Model Runner in the FL Phone Manager.</span></p>
</div>
<div id="S7.p8" class="ltx_para">
<p id="S7.p8.1" class="ltx_p"><span id="S7.p8.1.1" class="ltx_text" style="color:#000000;">In addition to the work on security/privacy, we will add features to allow FLSys to support continuous data collection, which is what we expect to see in real-life scenarios. Finally, if FLSys is successful in creating an ecosystem of third-party apps and models, the long-term goal is to have it offered as an OS service, which improves efficiency and security.
</span></p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Amazon Web Services.

</span>
<span class="ltx_bibblock">Lambda quotas.

</span>
<span class="ltx_bibblock">https://docs.aws.amazon.com/lambda/latest/dg/
gettingstarted-limits.html, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Davide Anguita, Alessandro Ghio, Luca Oneto, Xavier Parra, and Jorge Luis
Reyes-Ortiz.

</span>
<span class="ltx_bibblock">A public domain dataset for human activity recognition using
smartphones.

</span>
<span class="ltx_bibblock">In <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Esann</span>, volume 3, page 3, 2013.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Daniel J. Beutel, Taner Topal, Akhil Mathur, Xinchi Qiu, Javier
Fernandez-Marques, Yan Gao, Lorenzo Sani, Kwing Hei Li, Titouan Parcollet,
Pedro Porto Buarque de Gusmão, and Nicholas D. Lane.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning research framework, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
K. Bonawitz, H. Eichner, W. Grieskamp, D. Huba, A. Ingerman, V. Ivanov,
C. Kiddon, J. Konečnỳ, S. Mazzocchi, H. B. McMahan, et al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1902.01046</span>, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H. Brendan
McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.

</span>
<span class="ltx_bibblock">Practical secure aggregation for privacy-preserving machine learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">Proceedings of the 2017 ACM SIGSAC Conference on Computer and
Communications Security</span>, CCS ’17, page 1175–1191, New York, NY, USA, 2017.
Association for Computing Machinery.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Sebastian Caldas, Sai Meher Karthik Duddu, Peter Wu, Tian Li, Jakub Konečný,
H. Brendan McMahan, Virginia Smith, and Ameet Talwalkar.

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings, 2019.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
N. Carlini, F. Tramer, E. Wallace, M. Jagielski, A. Herbert-Voss, K. Lee,
A. Roberts, T. Brown, D. Song, U. Erlingsson, et al.

</span>
<span class="ltx_bibblock">Extracting training data from large language models.

</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2012.07805</span>, 2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Zheng Chai, Ahsan Ali, Syed Zawad, Stacey Truex, Ali Anwar, Nathalie Baracaldo,
Yi Zhou, Heiko Ludwig, Feng Yan, and Yue Cheng.

</span>
<span class="ltx_bibblock">Tifl: A tier-based federated learning system.

</span>
<span class="ltx_bibblock">In <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">Proceedings of the 29th International Symposium on
High-Performance Parallel and Distributed Computing</span>, pages 125–136, 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Ricardo Chavarriaga, Hesam Sagha, Alberto Calatroni, Sundara Tejaswi Digumarti,
Gerhard Tröster, José del R Millán, and Daniel Roggen.

</span>
<span class="ltx_bibblock">The opportunity challenge: A benchmark database for on-body
sensor-based activity recognition.

</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">Pattern Recognition Letters</span>, 34(15):2033–2042, 2013.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Yuwen Chen, Kunhua Zhong, Ju Zhang, Qilong Sun, and Xueliang Zhao.

</span>
<span class="ltx_bibblock">Lstm networks for mobile human activity recognition.

</span>
<span class="ltx_bibblock">In <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">2016 International Conference on Artificial Intelligence:
Technologies and Applications</span>. Atlantis Press, 2016.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
M. Duan, D. Liu, X. Chen, R. Liu, Y. Tan, and L. Liang.

</span>
<span class="ltx_bibblock">Self-balancing federated learning with global imbalanced data in
mobile systems.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">IEEE Transactions on Parallel &amp; Distributed Systems</span>,
32(01):59–71, jan 2021.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
John C. Duchi, Michael I. Jordan, and Martin J. Wainwright.

</span>
<span class="ltx_bibblock">Local privacy and statistical minimax rates.

</span>
<span class="ltx_bibblock">In <span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">2013 IEEE 54th Annual Symposium on Foundations of Computer
Science</span>, pages 429–438, 2013.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Ú. Erlingsson, V. Feldman, I. Mironov, A. Raghunathan, K. Talwar, and
A. Thakurta.

</span>
<span class="ltx_bibblock">Amplification by shuffling: From local to central differential
privacy via anonymity.

</span>
<span class="ltx_bibblock">In <span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">Proceedings of the Thirtieth Annual ACM-SIAM Symposium on
Discrete Algorithms</span>, pages 2468–2479, 2019.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
FATE.

</span>
<span class="ltx_bibblock">An Industrial Grade Federated Learning Framework.

</span>
<span class="ltx_bibblock">https://fate.fedai.org/, 2021.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Z. Feng, H. Xiong, C. Song, S. Yang, B. Zhao, L. Wang, Z. Chen,
S. Yang, L. Liu, and J. Huan.

</span>
<span class="ltx_bibblock">Securegbm: Secure multi-party gradient boosting.

</span>
<span class="ltx_bibblock">In <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">2019 IEEE International Conference on Big Data (Big Data)</span>,
pages 1312–1321, 2019.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Liang Gao, Huazhu Fu, Li Li, Yingwen Chen, Ming Xu, and Cheng-Zhong Xu.

</span>
<span class="ltx_bibblock">Feddc: Federated learning with non-iid data via local drift
decoupling and correction.

</span>
<span class="ltx_bibblock">In <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision and
Pattern Recognition</span>, pages 10112–10121, 2022.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Ian Goodfellow, Yoshua Bengio, Aaron Courville, and Yoshua Bengio.

</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">Deep learning</span>, volume 1.

</span>
<span class="ltx_bibblock">MIT press Cambridge, 2016.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Chaoyang He, Songze Li, Jinhyun So, Xiao Zeng, Mi Zhang, Hongyi Wang, Xiaoyang
Wang, Praneeth Vepakomma, Abhishek Singh, Hang Qiu, Xinghua Zhu, Jianzong
Wang, Li Shen, Peilin Zhao, Yan Kang, Yang Liu, Ramesh Raskar, Qiang Yang,
Murali Annavaram, and Salman Avestimehr.

</span>
<span class="ltx_bibblock">Fedml: A research library and benchmark for federated machine
learning, 2020.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
K. He, X. Zhang, S. Ren, and J. Sun.

</span>
<span class="ltx_bibblock">Deep residual learning for image recognition.

</span>
<span class="ltx_bibblock">In <span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">IEEE conference on Computer Vision and Pattern Recognition</span>,
pages 770–778, 2016.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Zecheng He, Tianwei Zhang, and Ruby B. Lee.

</span>
<span class="ltx_bibblock">Model inversion attacks against collaborative inference.

</span>
<span class="ltx_bibblock">In <span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">Proceedings of the 35th Annual Computer Security Applications
Conference</span>, ACSAC ’19, page 148–162, New York, NY, USA, 2019. Association
for Computing Machinery.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Fabio Hernández, Luis F Suárez, Javier Villamizar, and Miguel Altuve.

</span>
<span class="ltx_bibblock">Human activity recognition on smartphones using a bidirectional lstm
network.

</span>
<span class="ltx_bibblock">In <span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">2019 XXII Symposium on Image, Signal Processing and
Artificial Vision (STSIVA)</span>, pages 1–5. IEEE, 2019.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Briland Hitaj, Giuseppe Ateniese, and Fernando Pérez-Cruz.

</span>
<span class="ltx_bibblock">Deep models under the GAN: information leakage from collaborative
deep learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1702.07464, 2017.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Andrew G Howard, Menglong Zhu, Bo Chen, Dmitry Kalenichenko, Weijun Wang,
Tobias Weyand, Marco Andreetto, and Hartwig Adam.

</span>
<span class="ltx_bibblock">Mobilenets: Efficient convolutional neural networks for mobile vision
applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1704.04861</span>, 2017.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Andrey Ignatov.

</span>
<span class="ltx_bibblock">Real-time human activity recognition from accelerometer data using
convolutional neural networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">Applied Soft Computing</span>, 62:915–922, 2018.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Eunjeong Jeong, Seungeun Oh, Hyesung Kim, Jihong Park, Mehdi Bennis, and
Seong-Lyun Kim.

</span>
<span class="ltx_bibblock">Communication-efficient on-device machine learning: Federated
distillation and augmentation under non-iid private data.

</span>
<span class="ltx_bibblock"><span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1811.11479</span>, 2018.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi
Bennis, Arjun Nitin Bhagoji, Keith Bonawitz, Zachary Charles, Graham Cormode,
Rachel Cummings, et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1912.04977, 2019.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Muah Kim, Onur Günlü, and Rafael F. Schaefer.

</span>
<span class="ltx_bibblock">Federated learning with local differential privacy: Trade-offs
between privacy, utility, and communication, 2021.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Jakub Konečný, H. Brendan McMahan, Daniel Ramage, and Peter Richtárik.

</span>
<span class="ltx_bibblock">Federated optimization: Distributed machine learning for on-device
intelligence, 2016.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Jennifer R Kwapisz, Gary M Weiss, and Samuel A Moore.

</span>
<span class="ltx_bibblock">Activity recognition using cell phone accelerometers.

</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text ltx_font_italic">ACM SigKDD Explorations Newsletter</span>, 12(2):74–82, 2011.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Ruixuan L., Yang C., Hong C., Ruoyang G., and Masatoshi Y.

</span>
<span class="ltx_bibblock">FLAME: differentially private federated learning in the shuffle
model.

</span>
<span class="ltx_bibblock"><span id="bib.bib30.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/2009.08063, 2020.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Phung Lai, Hai Phan, Li Xiong, Khang Phuc Tran, My Thai, Tong Sun, Franck
Dernoncourt, Jiuxiang Gu, Nikolaos Barmpalios, and Rajiv Jain.

</span>
<span class="ltx_bibblock">Bit-aware randomized response for local differential privacy in
federated learning, 2022.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Ameet Talwalkar, and Virginia Smith.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">IEEE Signal Processing Magazine</span>, 37(3):50–60, 2020.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Xiaoxiao Li, Meirui Jiang, Xiaofei Zhang, Michael Kamp, and Qi Dou.

</span>
<span class="ltx_bibblock">Fedbn: Federated learning on non-iid features via local batch
normalization.

</span>
<span class="ltx_bibblock"><span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2102.07623</span>, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Min Lin, Qiang Chen, and Shuicheng Yan.

</span>
<span class="ltx_bibblock">Network in network.

</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1312.4400</span>, 2013.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Boyi Liu, Lujia Wang, and Ming Liu.

</span>
<span class="ltx_bibblock">Lifelong federated reinforcement learning: a learning architecture
for navigation in cloud robotic systems.

</span>
<span class="ltx_bibblock"><span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">IEEE Robotics and Automation Letters</span>, 4(4):4555–4562, 2019.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
R. Liu, Y. Cao, M. Yoshikawa, and H. Chen.

</span>
<span class="ltx_bibblock">Fedsel: Federated sgd under local differential privacy with top-k
dimension selection.

</span>
<span class="ltx_bibblock">In <span id="bib.bib36.1.1" class="ltx_text ltx_font_italic">International Conference on Database Systems for Advanced
Applications</span>, pages 485–501, 2020.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Yang Liu, Anbu Huang, Yun Luo, He Huang, Youzhi Liu, Yuanyuan Chen, Lican Feng,
Tianjian Chen, Han Yu, and Qiang Yang.

</span>
<span class="ltx_bibblock">Fedvision: An online visual object detection platform powered by
federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib37.1.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI Conference on Artificial
Intelligence</span>, volume 34, pages 13172–13179, 2020.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Mi Luo, Fei Chen, Dapeng Hu, Yifan Zhang, Jian Liang, and Jiashi Feng.

</span>
<span class="ltx_bibblock">No fear of heterogeneity: Classifier calibration for federated
learning with non-iid data.

</span>
<span class="ltx_bibblock"><span id="bib.bib38.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>,
34:5972–5984, 2021.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
L. Lyu, Y. Li, X. He, and T. Xiao.

</span>
<span class="ltx_bibblock">Towards differentially private text representations.

</span>
<span class="ltx_bibblock">In <span id="bib.bib39.1.1" class="ltx_text ltx_font_italic">Proceedings of the 43rd International ACM SIGIR Conference on
Research and Development in Information Retrieval</span>, pages 1813–1816, 2020.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
M. Malekzadeh, B. Hasircioglu, N. Mital, K. Katarya, M. E. Ozfatura, and
D. Gündüz.

</span>
<span class="ltx_bibblock">Dopamine: Differentially private federated learning on medical data.

</span>
<span class="ltx_bibblock"><span id="bib.bib40.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2101.11693</span>, 2021.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Othmane Marfoq, Giovanni Neglia, Richard Vidal, and Laetitia Kameni.

</span>
<span class="ltx_bibblock">Personalized federated learning through local memorization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib41.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages
15070–15092. PMLR, 2022.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
Akhil Mathur, Daniel J Beutel, Pedro Porto Buarque de Gusmao, Javier
Fernandez-Marques, Taner Topal, Xinchi Qiu, Titouan Parcollet, Yan Gao, and
Nicholas D Lane.

</span>
<span class="ltx_bibblock">On-device federated learning with flower.

</span>
<span class="ltx_bibblock"><span id="bib.bib42.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2104.03042</span>, 2021.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib43.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Statistics</span>, pages 1273–1282,
2017.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
H. Brendan McMahan, Daniel Ramage, Kunal Talwar, and Li Zhang.

</span>
<span class="ltx_bibblock">Learning differentially private recurrent language models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib44.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2018.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
Vaikkunth Mugunthan, Anton Peraire-Bueno, and Lalana Kagal.

</span>
<span class="ltx_bibblock">Privacyfl: A simulator for privacy-preserving and secure federated
learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib45.1.1" class="ltx_text ltx_font_italic">Proceedings of the 29th ACM International Conference on
Information &amp; Knowledge Management</span>, pages 3085–3092, 2020.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
Abdulmajid Murad and Jae-Young Pyun.

</span>
<span class="ltx_bibblock">Deep recurrent neural networks for human activity recognition.

</span>
<span class="ltx_bibblock"><span id="bib.bib46.1.1" class="ltx_text ltx_font_italic">Sensors</span>, 17(11):2556, 2017.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
Milad Nasr, Reza Shokri, and Amir Houmansadr.

</span>
<span class="ltx_bibblock">Comprehensive privacy analysis of deep learning: Passive and active
white-box inference attacks against centralized and federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib47.1.1" class="ltx_text ltx_font_italic">2019 IEEE Symposium on Security and Privacy, SP 2019, San
Francisco, CA, USA, May 19-23, 2019</span>, pages 739–753. IEEE, 2019.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
Nvidia.

</span>
<span class="ltx_bibblock">FLARE.

</span>
<span class="ltx_bibblock">https://nvidia.github.io/NVFlare/index.html, 2021.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
OpenMined.

</span>
<span class="ltx_bibblock">PySyft.

</span>
<span class="ltx_bibblock">https://blog.openmined.org/tag/pysyft/, 2021.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock">
L. T. Phong, Y. Aono, T. Hayashi, L. Wang, and S. Moriai.

</span>
<span class="ltx_bibblock">Privacy-preserving deep learning via additively homomorphic
encryption.

</span>
<span class="ltx_bibblock"><span id="bib.bib50.1.1" class="ltx_text ltx_font_italic">IEEE Transactions on Information Forensics and Security</span>,
13(5):1333–1345, 2018.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock">
Sashank J. Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush,
Jakub Konečný, Sanjiv Kumar, and Hugh Brendan McMahan.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib51.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2021.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock">
Anit Kumar Sahu, Tian Li, Maziar Sanjabi, Manzil Zaheer, Ameet Talwalkar, and
Virginia Smith.

</span>
<span class="ltx_bibblock">On the convergence of federated optimization in heterogeneous
networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib52.1.1" class="ltx_text ltx_font_italic">CoRR</span>, abs/1812.06127, 2018.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[53]</span>
<span class="ltx_bibblock">
Victor Sanh, Lysandre Debut, Julien Chaumond, and Thomas Wolf.

</span>
<span class="ltx_bibblock">Distilbert, a distilled version of bert: smaller, faster, cheaper and
lighter.

</span>
<span class="ltx_bibblock"><span id="bib.bib53.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1910.01108</span>, 2019.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[54]</span>
<span class="ltx_bibblock">
Dipankar Sarkar, Ankur Narang, and Sumit Rai.

</span>
<span class="ltx_bibblock">Fed-focal loss for imbalanced data classification in federated
learning, 2020.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[55]</span>
<span class="ltx_bibblock">
L. Sun, J. Qian, and X. Chen.

</span>
<span class="ltx_bibblock">LDP-FL: Practical private aggregation in federated learning with
local differential privacy.

</span>
<span class="ltx_bibblock"><span id="bib.bib55.1.1" class="ltx_text ltx_font_italic">International Joint Conference on Artificial Intelligence</span>,
2021.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[56]</span>
<span class="ltx_bibblock">
TensorFlow.

</span>
<span class="ltx_bibblock">On-Device Training with TensorFlow Lite.

</span>
<span class="ltx_bibblock"><span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://www.tensorflow.org/lite/examples/on_device_training/overview</span>,
2021.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[57]</span>
<span class="ltx_bibblock">
Yuhang Tian, Rui Wang, Yanqi Qiao, Emmanouil Panaousis, and Kaitai Liang.

</span>
<span class="ltx_bibblock">Flvoogd: Robust and privacy preserving federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib57.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2207.00428</span>, 2022.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[58]</span>
<span class="ltx_bibblock">
D. Verma, G. White, and G. de Mel.

</span>
<span class="ltx_bibblock">Federated ai for the enterprise: A web services based implementation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib58.1.1" class="ltx_text ltx_font_italic">2019 IEEE International Conference on Web Services (ICWS)</span>,
pages 20–27, 2019.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[59]</span>
<span class="ltx_bibblock">
Dinesh C. Verma, Graham White, Simon Julier, Stepehen Pasteris, Supriyo
Chakraborty, and Greg Cirincione.

</span>
<span class="ltx_bibblock">Approaches to address the data skew problem in federated learning.

</span>
<span class="ltx_bibblock">In Tien Pham, editor, <span id="bib.bib59.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Machine
Learning for Multi-Domain Operations Applications</span>, volume 11006, pages 542
– 557. International Society for Optics and Photonics, SPIE, 2019.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[60]</span>
<span class="ltx_bibblock">
S. Wagh, X. He, A. Machanavajjhala, and P. Mittal.

</span>
<span class="ltx_bibblock">Dp-cryptography: marrying differential privacy and cryptography in
emerging applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib60.1.1" class="ltx_text ltx_font_italic">Communications of the ACM</span>, 64(2):84–93, 2021.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[61]</span>
<span class="ltx_bibblock">
Xiaokui Xiao, Yin Yang, Jun Zhao, Siu Hui, Hyejin Shin, Junbum Shin, and Ge Yu.

</span>
<span class="ltx_bibblock">Collecting and analyzing multidimensional data with local
differential privacy.

</span>
<span class="ltx_bibblock">04 2019.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[62]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, T. Chen, and Y. Tong.

</span>
<span class="ltx_bibblock">Federated machine learning: Concept and applications.

</span>
<span class="ltx_bibblock"><span id="bib.bib62.1.1" class="ltx_text ltx_font_italic">ACM Transactions on Intelligent Systems and Technology</span>,
10(2):1–19, 2019.

</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[63]</span>
<span class="ltx_bibblock">
Timothy Yang, Galen Andrew, Hubert Eichner, Haicheng Sun, Wei Li, Nicholas
Kong, Daniel Ramage, and Françoise Beaufays.

</span>
<span class="ltx_bibblock">Applied federated learning: Improving google keyboard query
suggestions.

</span>
<span class="ltx_bibblock"><span id="bib.bib63.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1812.02903</span>, 2018.

</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[64]</span>
<span class="ltx_bibblock">
Yang Zhao, Jun Zhao, Mengmeng Yang, Teng Wang, Ning Wang, Lingjuan Lyu, Dusit
Niyato, and Kwok-Yan Lam.

</span>
<span class="ltx_bibblock">Local differential privacy-based federated learning for internet of
things.

</span>
<span class="ltx_bibblock"><span id="bib.bib64.1.1" class="ltx_text ltx_font_italic">IEEE Internet of Things Journal</span>, 8(11):8836–8853, 2021.

</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[65]</span>
<span class="ltx_bibblock">
Yue Zhao, Meng Li, Liangzhen Lai, Naveen Suda, Damon Civin, and Vikas Chandra.

</span>
<span class="ltx_bibblock">Federated learning with non-iid data.

</span>
<span class="ltx_bibblock"><span id="bib.bib65.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1806.00582</span>, 2018.

</span>
</li>
</ul>
</section>
<figure id="id1" class="ltx_float biography">
<table id="id1.1" class="ltx_tabular">
<tr id="id1.1.1" class="ltx_tr">
<td id="id1.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/xj.jpg" id="id1.1.1.1.g1" class="ltx_graphics ltx_img_square" width="100" height="112" alt="[Uncaptioned image]"></td>
<td id="id1.1.1.2" class="ltx_td">
<span id="id1.1.1.2.1" class="ltx_inline-block">
<span id="id1.1.1.2.1.1" class="ltx_p"><span id="id1.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Xiaopeng Jiang</span>  is a PhD candidate in Computer Science at New Jersey Institute of Technology. His research interests
include deep learning systems and applications, mobile computing and sensing. Xiaopeng received an MS in Computer Science from NJIT in 2016.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id2" class="ltx_float biography">
<table id="id2.1" class="ltx_tabular">
<tr id="id2.1.1" class="ltx_tr">
<td id="id2.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/x2.jpg" id="id2.1.1.1.g1" class="ltx_graphics ltx_img_square" width="111" height="111" alt="[Uncaptioned image]"></td>
<td id="id2.1.1.2" class="ltx_td">
<span id="id2.1.1.2.1" class="ltx_inline-block">
<span id="id2.1.1.2.1.1" class="ltx_p"><span id="id2.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Han Hu</span>  received his Ph.D. degree in Information System from NJIT in December 2021. His research focuses on deep learning and federated learning for both industrial and social good applications. He has made publications in venues such as ICML, ICDM, IJCNN, SIGSPATIAL, ICHI, MedInfo, ICTAI and CSoNet.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id3" class="ltx_float biography">
<table id="id3.1" class="ltx_tabular">
<tr id="id3.1.1" class="ltx_tr">
<td id="id3.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/photo_Thinh.jpg" id="id3.1.1.1.g1" class="ltx_graphics ltx_img_square" width="98" height="100" alt="[Uncaptioned image]"></td>
<td id="id3.1.1.2" class="ltx_td">
<span id="id3.1.1.2.1" class="ltx_inline-block">
<span id="id3.1.1.2.1.1" class="ltx_p"><span id="id3.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Thinh On</span>  is a first-year PhD candidate in Information Systems at New Jersey Institute of Technology. His research mainly focuses on deep learning and federated learning with an emphasis on privacy and security. He is also interested in investigating fairness, robustness, and trustworthiness of deep learning and federated learning.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id4" class="ltx_float biography">
<table id="id4.1" class="ltx_tabular">
<tr id="id4.1.1" class="ltx_tr">
<td id="id4.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/photo_phung.jpeg" id="id4.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="94" height="125" alt="[Uncaptioned image]"></td>
<td id="id4.1.1.2" class="ltx_td">
<span id="id4.1.1.2.1" class="ltx_inline-block">
<span id="id4.1.1.2.1.1" class="ltx_p"><span id="id4.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Phung Lai</span>  is a Ph.D. candidate in Information Systems at NJIT. Her research focuses on trustworthiness in machine learning and deep learning, including privacy preservation, explainability, robustness, and fairness techniques, with manifold applications such as natural language modeling, computer vision, social network analysis, finance, and healthcare. Phung is a holder of several patents in privacy preservation in NLP.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id5" class="ltx_float biography">
<table id="id5.1" class="ltx_tabular">
<tr id="id5.1.1" class="ltx_tr">
<td id="id5.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/IMG_4350.jpg" id="id5.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="94" height="125" alt="[Uncaptioned image]"></td>
<td id="id5.1.1.2" class="ltx_td">
<span id="id5.1.1.2.1" class="ltx_inline-block">
<span id="id5.1.1.2.1.1" class="ltx_p"><span id="id5.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Vijaya Datta Mayyuri</span>  is a Principal Engineer at Qualcomm Incorporated. Vijaya has 15+ years of industry experience leading projects in various domains including 5G cellular connectivity, 4G/LTE, Wi-Fi, BLE , IOT, Medical Devices, and Machine Learning. Mr. Mayyuri received his master’s degree in Computer Science from The University of Texas at Dallas in 2006.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id6" class="ltx_float biography">
<table id="id6.1" class="ltx_tabular">
<tr id="id6.1.1" class="ltx_tr">
<td id="id6.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/an.png" id="id6.1.1.1.g1" class="ltx_graphics ltx_img_square" width="100" height="97" alt="[Uncaptioned image]"></td>
<td id="id6.1.1.2" class="ltx_td">
<span id="id6.1.1.2.1" class="ltx_inline-block">
<span id="id6.1.1.2.1.1" class="ltx_p"><span id="id6.1.1.2.1.1.1" class="ltx_text ltx_font_bold">An Chen</span>  is a Vice President of Engineering at Qualcomm Incorporated with years of experience in the wireless industry.  She has done research and product development in advanced wireless, machine learning, mobile health, and IoT.  An is a prolific inventor with over 400 utility patents worldwide.   
An received her Ph.D. degree in electrical engineering from the University of California, San Diego.  She is a member of Phi Beta Kappa and Tau Beta Pi.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id7" class="ltx_float biography">
<table id="id7.1" class="ltx_tabular">
<tr id="id7.1.1" class="ltx_tr">
<td id="id7.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/Devu1.jpg" id="id7.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="100" height="67" alt="[Uncaptioned image]"></td>
<td id="id7.1.1.2" class="ltx_td">
<span id="id7.1.1.2.1" class="ltx_inline-block">
<span id="id7.1.1.2.1.1" class="ltx_p"><span id="id7.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Devu M. Shila</span>  is the Founder and CEO of Unknot.id. She is a seasoned leader in building privacy-preserving mobile/wearable based human behavioral analytics products. She served as the Principal Investigator and product leader for advanced cyber security programs funded by DARPA, NSF, DoD, DHS S&amp;T, and DOE. Devu received her PhD in Computer Engineering from Illinois Institute of Technology in 2011.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id8" class="ltx_float biography">
<table id="id8.1" class="ltx_tabular">
<tr id="id8.1.1" class="ltx_tr">
<td id="id8.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/ad.jpeg" id="id8.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="86" height="125" alt="[Uncaptioned image]"></td>
<td id="id8.1.1.2" class="ltx_td">
<span id="id8.1.1.2.1" class="ltx_inline-block">
<span id="id8.1.1.2.1.1" class="ltx_p"><span id="id8.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Adriaan Larmuseau</span>  earned his Ph.D. in Computer Science from Uppsala University in 2016. His research has focused on the cyber security of compilers, machine learning for patch management and genomic privacy. He has authored 12 published US &amp; WIPO patents.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id9" class="ltx_float biography">
<table id="id9.1" class="ltx_tabular">
<tr id="id9.1.1" class="ltx_tr">
<td id="id9.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/jin.jpg" id="id9.1.1.1.g1" class="ltx_graphics ltx_img_portrait" width="84" height="125" alt="[Uncaptioned image]"></td>
<td id="id9.1.1.2" class="ltx_td">
<span id="id9.1.1.2.1" class="ltx_inline-block">
<span id="id9.1.1.2.1.1" class="ltx_p"><span id="id9.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Ruoming Jin</span>  is a full professor in the department of computer science at Kent State University. His research areas include artificial intelligence/deep learning, recommendation systems, big data, graph databases and health informatics. He has published over 150 research papers in these areas, most of them are in the top venues, such as KDD, ICDM, ICML, NIPS, SIGMOD, PVLDB etc. His research has been funded by NSF, NIH, SAMHSA, and industry partners. He is the recipient of the NSF CAREER award.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id10" class="ltx_float biography">
<table id="id10.1" class="ltx_tabular">
<tr id="id10.1.1" class="ltx_tr">
<td id="id10.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/photo1.png" id="id10.1.1.1.g1" class="ltx_graphics ltx_img_square" width="100" height="110" alt="[Uncaptioned image]"></td>
<td id="id10.1.1.2" class="ltx_td">
<span id="id10.1.1.2.1" class="ltx_inline-block">
<span id="id10.1.1.2.1.1" class="ltx_p"><span id="id10.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Cristian Borcea</span>  is a Professor in the Department of Computer Science at NJIT. He is also a Visiting Professor at the National Institute of
Informatics in Tokyo, Japan. His research interests include mobile computing and sensing, ad hoc and vehicular networks, distributed systems, and cloud computing. Borcea received his Ph.D. degree from Rutgers University. He is a member of the ACM and IEEE.</span>
</span>
</td>
</tr>
</table>
</figure>
<figure id="id11" class="ltx_float biography">
<table id="id11.1" class="ltx_tabular">
<tr id="id11.1.1" class="ltx_tr">
<td id="id11.1.1.1" class="ltx_td"><img src="/html/2111.09445/assets/image/hai.jpg" id="id11.1.1.1.g1" class="ltx_graphics ltx_img_square" width="100" height="121" alt="[Uncaptioned image]"></td>
<td id="id11.1.1.2" class="ltx_td">
<span id="id11.1.1.2.1" class="ltx_inline-block">
<span id="id11.1.1.2.1.1" class="ltx_p"><span id="id11.1.1.2.1.1.1" class="ltx_text ltx_font_bold">NhatHai Phan</span>  is an assistant professor in the Department of Data Science at NJIT. Hai’s main topics of interests are privacy and security, machine learning, health informatics, social network analysis, and spatio-temporal data mining. Hai received his Ph.D. in Computer Science from the University of Montpellier 2 in 2013. Dr. Phan has published over 50 publications, with many of them were published at leading venues such as ICML, ECML, AAAI, IJCAI, IEEE ICDM, etc. His research is generously funded by NSF, Adobe Research, Qualcomm Incorporated, etc.</span>
</span>
</td>
</tr>
</table>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2111.09444" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2111.09445" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2111.09445">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2111.09445" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2111.09446" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 03:59:15 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
