<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1810.05512] Federated Learning for Keyword spotting</title><meta property="og:description" content="We propose a practical approach based on federated learning to solve out-of-domain issues with continuously running embedded speech-based models such as wake word detectors. We conduct an extensive empirical study of t…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning for Keyword spotting">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning for Keyword spotting">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1810.05512">

<!--Generated on Sat Mar 16 08:06:47 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Learning for Keyword spotting</h1>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">We propose a practical approach based on federated learning to solve out-of-domain issues with continuously running embedded speech-based models such as wake word detectors. We conduct an extensive empirical study of the federated averaging algorithm for the “Hey Snips” wake word based on a crowdsourced dataset that mimics a federation of wake word users. We empirically demonstrate that using an adaptive averaging strategy inspired from Adam in place of standard weighted model averaging highly reduces the number of communication rounds required to reach our target performance. The associated upstream communication costs per user are estimated at 8 MB, which is a reasonable in the context of smart home voice assistants. Additionally, the dataset used for these experiments is being open sourced with the aim of fostering further transparent research in the application of federated learning to speech data.</p>
</div>
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p"><span id="p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Index Terms<span id="p1.1.1.1" class="ltx_text ltx_font_upright">— </span></span>
keyword spotting, wake word detection, federated learning</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Wake word detection is used to start an interaction with a voice assistant. A specific case of keyword spotting (KWS), it continuously listens to an audio stream to detect a predefined keyword or set of keywords. Well-known examples of wake words include Apple’s “Hey Siri” or Google’s “OK Google”. Once the wake word is detected, voice input is activated and processed by a spoken language understanding engine, powering the perception abilities of the voice assistant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Wake word detectors usually run on device in an always-on fashion, which brings two major difficulties. First, it should run with minimal memory footprint and computational cost. The resource constraints for our wake word detector are 200k parameters (based on the medium-sized model proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>), and 20 MFLOPS.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Secondly, the wake word detector should behave consistently in any usage setting, and show robustness to background noise. The audio signal is highly sensitive to recording proximity (close or far field), recording hardware, but also to the room configuration. Robustness also implies a strong speaker variability coverage. While the use of digital signal processing front-ends can help mitigate issues related to bad recording conditions, speaker variability remains a major challenge. High accuracy is all the more important since the model can be triggered at any time: it is therefore expected to capture most of the commands (high recall) while not triggering unintentionally (low false alarm rate).</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Today, wake word detectors are typically trained on datasets collected in real usage setting e.g. users homes in the case of voice assistants. Speech data being by nature very sensitive, centralized collection raises major privacy concerns. In this work, we investigate the use of federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> in the context of an embedded wake word detector. FL is a decentralized optimization procedure that enables to train a central model on the local data of many users without the need to ever upload this data to a central server. The training workload is moved towards the user’s devices which perform training steps on the local data. Local updates from users are then averaged by a parameter server in order to create a global model.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Most research around decentralized learning has historically been done in the context of a highly controlled cluster/data center setting, e.g. with a dataset evenly partitioned in an i.i.d fashion. The multi-core and multi-gpu distributed training setting has been specifically studied in the context of speech recognition in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>. Efforts on decentralized training with highly distributed, unbalanced and non-i.i.d data is relatively recent, as the foundations were laid down in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> with the introduction of the federated averaging (<span id="S2.p1.1.1" class="ltx_text ltx_font_italic">FedAvg</span>) algorithm and its application to a set of computer vision (MNIST, CIFAR-10) and language modeling tasks (applied to the Shakespeare and Google Plus posts datasets).
To our knowledge, the present work is the first experiment of its kind on user-specific speech data.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">The federated optimization problem in the context of convex objective functions has been studied in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. The authors proposed a stochastic variance-reduced gradient descent optimization procedure (<span id="S2.p2.1.1" class="ltx_text ltx_font_italic">SVRG</span>) with both local and global per-coordinate gradient scaling to improve convergence. Their global per-coordinate gradient averaging strategy relies on a sparsity measure of the given coordinate in users local datasets and is only applicable in the context of sparse linear-in-the-features models. The latter assumption does not hold in the context of neural networks for speech-based applications.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">Several improvements to the initial <span id="S2.p3.1.1" class="ltx_text ltx_font_italic">FedAvg</span> algorithm have been suggested with a focus on client selection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, budget-constrained optimization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> and upload cost reduction for clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. A dynamic model averaging strategy robust to concept drift based on a local model divergence criterion was recently introduced in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>. While these contributions present efficient strategies to reduce the communication costs inherent to federated optimization, the present work is as far as we know the first one introducing a dynamic per-coordinate gradient update in place of the global averaging step.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">The next section describes the federated optimization procedure, and how its global averaging can be substituted by an adaptative averaging rule inspired from Adam. It is followed by the experiments section, where both the open-sourced crowdsourced data and model used to train our wake word detector are introduced. Results come next, and a communication cost analysis is provided. Finally, the next steps towards training a wake word detector on user data that is really decentralized are described.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Federated optimization</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.8" class="ltx_p">We consider the standard supervised learning objective function <math id="S3.p1.1.m1.4" class="ltx_Math" alttext="f_{i}(w)=l(x_{i},y_{i},w)" display="inline"><semantics id="S3.p1.1.m1.4a"><mrow id="S3.p1.1.m1.4.4" xref="S3.p1.1.m1.4.4.cmml"><mrow id="S3.p1.1.m1.4.4.4" xref="S3.p1.1.m1.4.4.4.cmml"><msub id="S3.p1.1.m1.4.4.4.2" xref="S3.p1.1.m1.4.4.4.2.cmml"><mi id="S3.p1.1.m1.4.4.4.2.2" xref="S3.p1.1.m1.4.4.4.2.2.cmml">f</mi><mi id="S3.p1.1.m1.4.4.4.2.3" xref="S3.p1.1.m1.4.4.4.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.p1.1.m1.4.4.4.1" xref="S3.p1.1.m1.4.4.4.1.cmml">​</mo><mrow id="S3.p1.1.m1.4.4.4.3.2" xref="S3.p1.1.m1.4.4.4.cmml"><mo stretchy="false" id="S3.p1.1.m1.4.4.4.3.2.1" xref="S3.p1.1.m1.4.4.4.cmml">(</mo><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S3.p1.1.m1.4.4.4.3.2.2" xref="S3.p1.1.m1.4.4.4.cmml">)</mo></mrow></mrow><mo id="S3.p1.1.m1.4.4.3" xref="S3.p1.1.m1.4.4.3.cmml">=</mo><mrow id="S3.p1.1.m1.4.4.2" xref="S3.p1.1.m1.4.4.2.cmml"><mi id="S3.p1.1.m1.4.4.2.4" xref="S3.p1.1.m1.4.4.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p1.1.m1.4.4.2.3" xref="S3.p1.1.m1.4.4.2.3.cmml">​</mo><mrow id="S3.p1.1.m1.4.4.2.2.2" xref="S3.p1.1.m1.4.4.2.2.3.cmml"><mo stretchy="false" id="S3.p1.1.m1.4.4.2.2.2.3" xref="S3.p1.1.m1.4.4.2.2.3.cmml">(</mo><msub id="S3.p1.1.m1.3.3.1.1.1.1" xref="S3.p1.1.m1.3.3.1.1.1.1.cmml"><mi id="S3.p1.1.m1.3.3.1.1.1.1.2" xref="S3.p1.1.m1.3.3.1.1.1.1.2.cmml">x</mi><mi id="S3.p1.1.m1.3.3.1.1.1.1.3" xref="S3.p1.1.m1.3.3.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p1.1.m1.4.4.2.2.2.4" xref="S3.p1.1.m1.4.4.2.2.3.cmml">,</mo><msub id="S3.p1.1.m1.4.4.2.2.2.2" xref="S3.p1.1.m1.4.4.2.2.2.2.cmml"><mi id="S3.p1.1.m1.4.4.2.2.2.2.2" xref="S3.p1.1.m1.4.4.2.2.2.2.2.cmml">y</mi><mi id="S3.p1.1.m1.4.4.2.2.2.2.3" xref="S3.p1.1.m1.4.4.2.2.2.2.3.cmml">i</mi></msub><mo id="S3.p1.1.m1.4.4.2.2.2.5" xref="S3.p1.1.m1.4.4.2.2.3.cmml">,</mo><mi id="S3.p1.1.m1.2.2" xref="S3.p1.1.m1.2.2.cmml">w</mi><mo stretchy="false" id="S3.p1.1.m1.4.4.2.2.2.6" xref="S3.p1.1.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.4b"><apply id="S3.p1.1.m1.4.4.cmml" xref="S3.p1.1.m1.4.4"><eq id="S3.p1.1.m1.4.4.3.cmml" xref="S3.p1.1.m1.4.4.3"></eq><apply id="S3.p1.1.m1.4.4.4.cmml" xref="S3.p1.1.m1.4.4.4"><times id="S3.p1.1.m1.4.4.4.1.cmml" xref="S3.p1.1.m1.4.4.4.1"></times><apply id="S3.p1.1.m1.4.4.4.2.cmml" xref="S3.p1.1.m1.4.4.4.2"><csymbol cd="ambiguous" id="S3.p1.1.m1.4.4.4.2.1.cmml" xref="S3.p1.1.m1.4.4.4.2">subscript</csymbol><ci id="S3.p1.1.m1.4.4.4.2.2.cmml" xref="S3.p1.1.m1.4.4.4.2.2">𝑓</ci><ci id="S3.p1.1.m1.4.4.4.2.3.cmml" xref="S3.p1.1.m1.4.4.4.2.3">𝑖</ci></apply><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝑤</ci></apply><apply id="S3.p1.1.m1.4.4.2.cmml" xref="S3.p1.1.m1.4.4.2"><times id="S3.p1.1.m1.4.4.2.3.cmml" xref="S3.p1.1.m1.4.4.2.3"></times><ci id="S3.p1.1.m1.4.4.2.4.cmml" xref="S3.p1.1.m1.4.4.2.4">𝑙</ci><vector id="S3.p1.1.m1.4.4.2.2.3.cmml" xref="S3.p1.1.m1.4.4.2.2.2"><apply id="S3.p1.1.m1.3.3.1.1.1.1.cmml" xref="S3.p1.1.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.p1.1.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.p1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.p1.1.m1.3.3.1.1.1.1.2">𝑥</ci><ci id="S3.p1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.p1.1.m1.3.3.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p1.1.m1.4.4.2.2.2.2.cmml" xref="S3.p1.1.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.1.m1.4.4.2.2.2.2.1.cmml" xref="S3.p1.1.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S3.p1.1.m1.4.4.2.2.2.2.2.cmml" xref="S3.p1.1.m1.4.4.2.2.2.2.2">𝑦</ci><ci id="S3.p1.1.m1.4.4.2.2.2.2.3.cmml" xref="S3.p1.1.m1.4.4.2.2.2.2.3">𝑖</ci></apply><ci id="S3.p1.1.m1.2.2.cmml" xref="S3.p1.1.m1.2.2">𝑤</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.4c">f_{i}(w)=l(x_{i},y_{i},w)</annotation></semantics></math> that is the loss function for the prediction on example <math id="S3.p1.2.m2.2" class="ltx_Math" alttext="(x_{i},y_{i})" display="inline"><semantics id="S3.p1.2.m2.2a"><mrow id="S3.p1.2.m2.2.2.2" xref="S3.p1.2.m2.2.2.3.cmml"><mo stretchy="false" id="S3.p1.2.m2.2.2.2.3" xref="S3.p1.2.m2.2.2.3.cmml">(</mo><msub id="S3.p1.2.m2.1.1.1.1" xref="S3.p1.2.m2.1.1.1.1.cmml"><mi id="S3.p1.2.m2.1.1.1.1.2" xref="S3.p1.2.m2.1.1.1.1.2.cmml">x</mi><mi id="S3.p1.2.m2.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p1.2.m2.2.2.2.4" xref="S3.p1.2.m2.2.2.3.cmml">,</mo><msub id="S3.p1.2.m2.2.2.2.2" xref="S3.p1.2.m2.2.2.2.2.cmml"><mi id="S3.p1.2.m2.2.2.2.2.2" xref="S3.p1.2.m2.2.2.2.2.2.cmml">y</mi><mi id="S3.p1.2.m2.2.2.2.2.3" xref="S3.p1.2.m2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.p1.2.m2.2.2.2.5" xref="S3.p1.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.2b"><interval closure="open" id="S3.p1.2.m2.2.2.3.cmml" xref="S3.p1.2.m2.2.2.2"><apply id="S3.p1.2.m2.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1.1.2">𝑥</ci><ci id="S3.p1.2.m2.1.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p1.2.m2.2.2.2.2.cmml" xref="S3.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.2.m2.2.2.2.2.1.cmml" xref="S3.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="S3.p1.2.m2.2.2.2.2.2.cmml" xref="S3.p1.2.m2.2.2.2.2.2">𝑦</ci><ci id="S3.p1.2.m2.2.2.2.2.3.cmml" xref="S3.p1.2.m2.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.2c">(x_{i},y_{i})</annotation></semantics></math> when using a model described by a real-valued parameter vector <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="w" display="inline"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">w</annotation></semantics></math> of dimension <math id="S3.p1.4.m4.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.p1.4.m4.1a"><mi id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">d</annotation></semantics></math>. In a federated setting, we assume that the datapoints <math id="S3.p1.5.m5.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.p1.5.m5.1a"><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">i</annotation></semantics></math> are partitioned across <math id="S3.p1.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.p1.6.m6.1a"><mi id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><ci id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">K</annotation></semantics></math> users, each user being assigned their own partition <math id="S3.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{P}_{k}" display="inline"><semantics id="S3.p1.7.m7.1a"><msub id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.7.m7.1.1.2" xref="S3.p1.7.m7.1.1.2.cmml">𝒫</mi><mi id="S3.p1.7.m7.1.1.3" xref="S3.p1.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><apply id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.p1.7.m7.1.1.1.cmml" xref="S3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.p1.7.m7.1.1.2.cmml" xref="S3.p1.7.m7.1.1.2">𝒫</ci><ci id="S3.p1.7.m7.1.1.3.cmml" xref="S3.p1.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">\mathcal{P}_{k}</annotation></semantics></math>, <math id="S3.p1.8.m8.1" class="ltx_Math" alttext="|\mathcal{P}_{k}|=n_{k}" display="inline"><semantics id="S3.p1.8.m8.1a"><mrow id="S3.p1.8.m8.1.1" xref="S3.p1.8.m8.1.1.cmml"><mrow id="S3.p1.8.m8.1.1.1.1" xref="S3.p1.8.m8.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.8.m8.1.1.1.1.2" xref="S3.p1.8.m8.1.1.1.2.1.cmml">|</mo><msub id="S3.p1.8.m8.1.1.1.1.1" xref="S3.p1.8.m8.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.8.m8.1.1.1.1.1.2" xref="S3.p1.8.m8.1.1.1.1.1.2.cmml">𝒫</mi><mi id="S3.p1.8.m8.1.1.1.1.1.3" xref="S3.p1.8.m8.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="S3.p1.8.m8.1.1.1.1.3" xref="S3.p1.8.m8.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.p1.8.m8.1.1.2" xref="S3.p1.8.m8.1.1.2.cmml">=</mo><msub id="S3.p1.8.m8.1.1.3" xref="S3.p1.8.m8.1.1.3.cmml"><mi id="S3.p1.8.m8.1.1.3.2" xref="S3.p1.8.m8.1.1.3.2.cmml">n</mi><mi id="S3.p1.8.m8.1.1.3.3" xref="S3.p1.8.m8.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.8.m8.1b"><apply id="S3.p1.8.m8.1.1.cmml" xref="S3.p1.8.m8.1.1"><eq id="S3.p1.8.m8.1.1.2.cmml" xref="S3.p1.8.m8.1.1.2"></eq><apply id="S3.p1.8.m8.1.1.1.2.cmml" xref="S3.p1.8.m8.1.1.1.1"><abs id="S3.p1.8.m8.1.1.1.2.1.cmml" xref="S3.p1.8.m8.1.1.1.1.2"></abs><apply id="S3.p1.8.m8.1.1.1.1.1.cmml" xref="S3.p1.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m8.1.1.1.1.1.1.cmml" xref="S3.p1.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.8.m8.1.1.1.1.1.2.cmml" xref="S3.p1.8.m8.1.1.1.1.1.2">𝒫</ci><ci id="S3.p1.8.m8.1.1.1.1.1.3.cmml" xref="S3.p1.8.m8.1.1.1.1.1.3">𝑘</ci></apply></apply><apply id="S3.p1.8.m8.1.1.3.cmml" xref="S3.p1.8.m8.1.1.3"><csymbol cd="ambiguous" id="S3.p1.8.m8.1.1.3.1.cmml" xref="S3.p1.8.m8.1.1.3">subscript</csymbol><ci id="S3.p1.8.m8.1.1.3.2.cmml" xref="S3.p1.8.m8.1.1.3.2">𝑛</ci><ci id="S3.p1.8.m8.1.1.3.3.cmml" xref="S3.p1.8.m8.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m8.1c">|\mathcal{P}_{k}|=n_{k}</annotation></semantics></math>. The optimization objective is therefore the following:</p>
</div>
<div id="S3.p2" class="ltx_para">
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.10" class="ltx_Math" alttext="\begin{array}[]{c}\underset{w\in\mathbb{R}^{d}}{\mathrm{min}}f(w)\ \ \mathrm{where}\ \ f(w)\overset{\mathrm{def}}{=}\sum_{k=1}^{K}\frac{n_{k}}{n}\times F_{k}(w)\\
\\
\mathrm{with}\ \ F_{k}(w)=\frac{1}{n_{k}}\sum_{i=1}^{n_{k}}f_{i}(w)\end{array}" display="block"><semantics id="S3.E1.m1.10a"><mtable displaystyle="true" rowspacing="0pt" id="S3.E1.m1.10.10" xref="S3.E1.m1.10.10.cmml"><mtr id="S3.E1.m1.10.10a" xref="S3.E1.m1.10.10.cmml"><mtd id="S3.E1.m1.10.10b" xref="S3.E1.m1.10.10.cmml"><mrow id="S3.E1.m1.6.6.6.6.6.6" xref="S3.E1.m1.6.6.6.6.6.7.cmml"><mrow id="S3.E1.m1.5.5.5.5.5.5.1" xref="S3.E1.m1.5.5.5.5.5.5.1.cmml"><munder accentunder="true" id="S3.E1.m1.5.5.5.5.5.5.1.2" xref="S3.E1.m1.5.5.5.5.5.5.1.2.cmml"><mi id="S3.E1.m1.5.5.5.5.5.5.1.2.2" xref="S3.E1.m1.5.5.5.5.5.5.1.2.2.cmml">min</mi><mrow id="S3.E1.m1.5.5.5.5.5.5.1.2.1" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.cmml"><mi id="S3.E1.m1.5.5.5.5.5.5.1.2.1.2" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.2.cmml">w</mi><mo id="S3.E1.m1.5.5.5.5.5.5.1.2.1.1" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.1.cmml">∈</mo><msup id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.cmml"><mi id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.2" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.2.cmml">ℝ</mi><mi id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.3" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.3.cmml">d</mi></msup></mrow></munder><mo lspace="0em" rspace="0em" id="S3.E1.m1.5.5.5.5.5.5.1.1" xref="S3.E1.m1.5.5.5.5.5.5.1.1.cmml">​</mo><mi id="S3.E1.m1.5.5.5.5.5.5.1.3" xref="S3.E1.m1.5.5.5.5.5.5.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.5.5.5.5.5.5.1.1a" xref="S3.E1.m1.5.5.5.5.5.5.1.1.cmml">​</mo><mrow id="S3.E1.m1.5.5.5.5.5.5.1.4.2" xref="S3.E1.m1.5.5.5.5.5.5.1.cmml"><mo stretchy="false" id="S3.E1.m1.5.5.5.5.5.5.1.4.2.1" xref="S3.E1.m1.5.5.5.5.5.5.1.cmml">(</mo><mi id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.5.5.5.5.5.5.1.4.2.2" xref="S3.E1.m1.5.5.5.5.5.5.1.cmml">)</mo></mrow></mrow><mspace width="1em" id="S3.E1.m1.6.6.6.6.6.6.3" xref="S3.E1.m1.6.6.6.6.6.7.cmml"></mspace><mi id="S3.E1.m1.4.4.4.4.4.4" xref="S3.E1.m1.4.4.4.4.4.4.cmml">where</mi><mspace width="1em" id="S3.E1.m1.6.6.6.6.6.6.4" xref="S3.E1.m1.6.6.6.6.6.7.cmml"></mspace><mrow id="S3.E1.m1.6.6.6.6.6.6.2" xref="S3.E1.m1.6.6.6.6.6.6.2.cmml"><mi id="S3.E1.m1.6.6.6.6.6.6.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.6.6.6.2.1" xref="S3.E1.m1.6.6.6.6.6.6.2.1.cmml">​</mo><mrow id="S3.E1.m1.6.6.6.6.6.6.2.3.2" xref="S3.E1.m1.6.6.6.6.6.6.2.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.6.6.6.6.2.3.2.1" xref="S3.E1.m1.6.6.6.6.6.6.2.cmml">(</mo><mi id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.6.6.6.6.6.6.2.3.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.6.6.6.2.1a" xref="S3.E1.m1.6.6.6.6.6.6.2.1.cmml">​</mo><mover accent="true" id="S3.E1.m1.6.6.6.6.6.6.2.4" xref="S3.E1.m1.6.6.6.6.6.6.2.4.cmml"><mo id="S3.E1.m1.6.6.6.6.6.6.2.4.2" xref="S3.E1.m1.6.6.6.6.6.6.2.4.2.cmml">=</mo><mo id="S3.E1.m1.6.6.6.6.6.6.2.4.1" xref="S3.E1.m1.6.6.6.6.6.6.2.4.1.cmml">def</mo></mover><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.6.6.6.2.1b" xref="S3.E1.m1.6.6.6.6.6.6.2.1.cmml">​</mo><mrow id="S3.E1.m1.6.6.6.6.6.6.2.5" xref="S3.E1.m1.6.6.6.6.6.6.2.5.cmml"><mstyle displaystyle="false" id="S3.E1.m1.6.6.6.6.6.6.2.5.1" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.cmml"><msubsup id="S3.E1.m1.6.6.6.6.6.6.2.5.1a" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.cmml"><mo id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.cmml"><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.2.cmml">k</mi><mo id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.1" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.1.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.3.cmml">K</mi></msubsup></mstyle><mrow id="S3.E1.m1.6.6.6.6.6.6.2.5.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.cmml"><mrow id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.cmml"><mstyle displaystyle="false" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.cmml"><mfrac id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2a" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.cmml"><msub id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.cmml"><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.2.cmml">n</mi><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.3.cmml">k</mi></msub><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.3.cmml">n</mi></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.1" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.1.cmml">×</mo><msub id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.cmml"><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.2.cmml">F</mi><mi id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.3" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.3.cmml">k</mi></msub></mrow><mo lspace="0em" rspace="0em" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.1" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.1.cmml">​</mo><mrow id="S3.E1.m1.6.6.6.6.6.6.2.5.2.3.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.cmml"><mo stretchy="false" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.3.2.1" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.cmml">(</mo><mi id="S3.E1.m1.3.3.3.3.3.3" xref="S3.E1.m1.3.3.3.3.3.3.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.3.2.2" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mtd></mtr><mtr id="S3.E1.m1.10.10c" xref="S3.E1.m1.10.10.cmml"><mtd id="S3.E1.m1.10.10d" xref="S3.E1.m1.10.10.cmml"></mtd></mtr><mtr id="S3.E1.m1.10.10e" xref="S3.E1.m1.10.10.cmml"><mtd id="S3.E1.m1.10.10f" xref="S3.E1.m1.10.10.cmml"><mrow id="S3.E1.m1.10.10.10.4.4" xref="S3.E1.m1.10.10.10.4.4.cmml"><mrow id="S3.E1.m1.10.10.10.4.4.4.1" xref="S3.E1.m1.10.10.10.4.4.4.2.cmml"><mi id="S3.E1.m1.9.9.9.3.3.3" xref="S3.E1.m1.9.9.9.3.3.3.cmml">with</mi><mspace width="1em" id="S3.E1.m1.10.10.10.4.4.4.1.2" xref="S3.E1.m1.10.10.10.4.4.4.2.cmml"></mspace><mrow id="S3.E1.m1.10.10.10.4.4.4.1.1" xref="S3.E1.m1.10.10.10.4.4.4.1.1.cmml"><msub id="S3.E1.m1.10.10.10.4.4.4.1.1.2" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2.cmml"><mi id="S3.E1.m1.10.10.10.4.4.4.1.1.2.2" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2.2.cmml">F</mi><mi id="S3.E1.m1.10.10.10.4.4.4.1.1.2.3" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.10.4.4.4.1.1.1" xref="S3.E1.m1.10.10.10.4.4.4.1.1.1.cmml">​</mo><mrow id="S3.E1.m1.10.10.10.4.4.4.1.1.3.2" xref="S3.E1.m1.10.10.10.4.4.4.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.10.4.4.4.1.1.3.2.1" xref="S3.E1.m1.10.10.10.4.4.4.1.1.cmml">(</mo><mi id="S3.E1.m1.7.7.7.1.1.1" xref="S3.E1.m1.7.7.7.1.1.1.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.10.10.10.4.4.4.1.1.3.2.2" xref="S3.E1.m1.10.10.10.4.4.4.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.10.10.10.4.4.5" xref="S3.E1.m1.10.10.10.4.4.5.cmml">=</mo><mrow id="S3.E1.m1.10.10.10.4.4.6" xref="S3.E1.m1.10.10.10.4.4.6.cmml"><mstyle displaystyle="false" id="S3.E1.m1.10.10.10.4.4.6.2" xref="S3.E1.m1.10.10.10.4.4.6.2.cmml"><mfrac id="S3.E1.m1.10.10.10.4.4.6.2a" xref="S3.E1.m1.10.10.10.4.4.6.2.cmml"><mn id="S3.E1.m1.10.10.10.4.4.6.2.2" xref="S3.E1.m1.10.10.10.4.4.6.2.2.cmml">1</mn><msub id="S3.E1.m1.10.10.10.4.4.6.2.3" xref="S3.E1.m1.10.10.10.4.4.6.2.3.cmml"><mi id="S3.E1.m1.10.10.10.4.4.6.2.3.2" xref="S3.E1.m1.10.10.10.4.4.6.2.3.2.cmml">n</mi><mi id="S3.E1.m1.10.10.10.4.4.6.2.3.3" xref="S3.E1.m1.10.10.10.4.4.6.2.3.3.cmml">k</mi></msub></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.10.4.4.6.1" xref="S3.E1.m1.10.10.10.4.4.6.1.cmml">​</mo><mrow id="S3.E1.m1.10.10.10.4.4.6.3" xref="S3.E1.m1.10.10.10.4.4.6.3.cmml"><mstyle displaystyle="false" id="S3.E1.m1.10.10.10.4.4.6.3.1" xref="S3.E1.m1.10.10.10.4.4.6.3.1.cmml"><msubsup id="S3.E1.m1.10.10.10.4.4.6.3.1a" xref="S3.E1.m1.10.10.10.4.4.6.3.1.cmml"><mo id="S3.E1.m1.10.10.10.4.4.6.3.1.2.2" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.cmml"><mi id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.2" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.2.cmml">i</mi><mo id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.1" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.3" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.3.cmml">1</mn></mrow><msub id="S3.E1.m1.10.10.10.4.4.6.3.1.3" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3.cmml"><mi id="S3.E1.m1.10.10.10.4.4.6.3.1.3.2" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3.2.cmml">n</mi><mi id="S3.E1.m1.10.10.10.4.4.6.3.1.3.3" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3.3.cmml">k</mi></msub></msubsup></mstyle><mrow id="S3.E1.m1.10.10.10.4.4.6.3.2" xref="S3.E1.m1.10.10.10.4.4.6.3.2.cmml"><msub id="S3.E1.m1.10.10.10.4.4.6.3.2.2" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2.cmml"><mi id="S3.E1.m1.10.10.10.4.4.6.3.2.2.2" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2.2.cmml">f</mi><mi id="S3.E1.m1.10.10.10.4.4.6.3.2.2.3" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.10.4.4.6.3.2.1" xref="S3.E1.m1.10.10.10.4.4.6.3.2.1.cmml">​</mo><mrow id="S3.E1.m1.10.10.10.4.4.6.3.2.3.2" xref="S3.E1.m1.10.10.10.4.4.6.3.2.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.10.4.4.6.3.2.3.2.1" xref="S3.E1.m1.10.10.10.4.4.6.3.2.cmml">(</mo><mi id="S3.E1.m1.8.8.8.2.2.2" xref="S3.E1.m1.8.8.8.2.2.2.cmml">w</mi><mo stretchy="false" id="S3.E1.m1.10.10.10.4.4.6.3.2.3.2.2" xref="S3.E1.m1.10.10.10.4.4.6.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.E1.m1.10b"><matrix id="S3.E1.m1.10.10.cmml" xref="S3.E1.m1.10.10"><matrixrow id="S3.E1.m1.10.10a.cmml" xref="S3.E1.m1.10.10"><list id="S3.E1.m1.6.6.6.6.6.7.cmml" xref="S3.E1.m1.6.6.6.6.6.6"><apply id="S3.E1.m1.5.5.5.5.5.5.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1"><times id="S3.E1.m1.5.5.5.5.5.5.1.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.1"></times><apply id="S3.E1.m1.5.5.5.5.5.5.1.2.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2"><apply id="S3.E1.m1.5.5.5.5.5.5.1.2.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1"><in id="S3.E1.m1.5.5.5.5.5.5.1.2.1.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.1"></in><ci id="S3.E1.m1.5.5.5.5.5.5.1.2.1.2.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.2">𝑤</ci><apply id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.1.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3">superscript</csymbol><ci id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.2.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.2">ℝ</ci><ci id="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.3.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.1.3.3">𝑑</ci></apply></apply><ci id="S3.E1.m1.5.5.5.5.5.5.1.2.2.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.2.2">min</ci></apply><ci id="S3.E1.m1.5.5.5.5.5.5.1.3.cmml" xref="S3.E1.m1.5.5.5.5.5.5.1.3">𝑓</ci><ci id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">𝑤</ci></apply><ci id="S3.E1.m1.4.4.4.4.4.4.cmml" xref="S3.E1.m1.4.4.4.4.4.4">where</ci><apply id="S3.E1.m1.6.6.6.6.6.6.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2"><times id="S3.E1.m1.6.6.6.6.6.6.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.1"></times><ci id="S3.E1.m1.6.6.6.6.6.6.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.2">𝑓</ci><ci id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2">𝑤</ci><apply id="S3.E1.m1.6.6.6.6.6.6.2.4.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.4"><ci id="S3.E1.m1.6.6.6.6.6.6.2.4.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.4.1">def</ci><eq id="S3.E1.m1.6.6.6.6.6.6.2.4.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.4.2"></eq></apply><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5"><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.6.6.6.2.5.1.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1">superscript</csymbol><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1">subscript</csymbol><sum id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.2"></sum><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3"><eq id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.1"></eq><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.2">𝑘</ci><cn type="integer" id="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.1.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.1.3">𝐾</ci></apply><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2"><times id="S3.E1.m1.6.6.6.6.6.6.2.5.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.1"></times><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2"><times id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.1"></times><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2"><divide id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2"></divide><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2">subscript</csymbol><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.2">𝑛</ci><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.2.3">𝑘</ci></apply><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.2.3">𝑛</ci></apply><apply id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.1.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3">subscript</csymbol><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.2.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.2">𝐹</ci><ci id="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.3.cmml" xref="S3.E1.m1.6.6.6.6.6.6.2.5.2.2.3.3">𝑘</ci></apply></apply><ci id="S3.E1.m1.3.3.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3.3.3">𝑤</ci></apply></apply></apply></list></matrixrow><matrixrow id="S3.E1.m1.10.10b.cmml" xref="S3.E1.m1.10.10"><cerror id="S3.E1.m1.10.10c.cmml" xref="S3.E1.m1.10.10"><csymbol cd="ambiguous" id="S3.E1.m1.10.10d.cmml" xref="S3.E1.m1.10.10">missing-subexpression</csymbol></cerror></matrixrow><matrixrow id="S3.E1.m1.10.10e.cmml" xref="S3.E1.m1.10.10"><apply id="S3.E1.m1.10.10.10.4.4.cmml" xref="S3.E1.m1.10.10.10.4.4"><eq id="S3.E1.m1.10.10.10.4.4.5.cmml" xref="S3.E1.m1.10.10.10.4.4.5"></eq><list id="S3.E1.m1.10.10.10.4.4.4.2.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1"><ci id="S3.E1.m1.9.9.9.3.3.3.cmml" xref="S3.E1.m1.9.9.9.3.3.3">with</ci><apply id="S3.E1.m1.10.10.10.4.4.4.1.1.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1"><times id="S3.E1.m1.10.10.10.4.4.4.1.1.1.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1.1"></times><apply id="S3.E1.m1.10.10.10.4.4.4.1.1.2.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.4.1.1.2.1.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2">subscript</csymbol><ci id="S3.E1.m1.10.10.10.4.4.4.1.1.2.2.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2.2">𝐹</ci><ci id="S3.E1.m1.10.10.10.4.4.4.1.1.2.3.cmml" xref="S3.E1.m1.10.10.10.4.4.4.1.1.2.3">𝑘</ci></apply><ci id="S3.E1.m1.7.7.7.1.1.1.cmml" xref="S3.E1.m1.7.7.7.1.1.1">𝑤</ci></apply></list><apply id="S3.E1.m1.10.10.10.4.4.6.cmml" xref="S3.E1.m1.10.10.10.4.4.6"><times id="S3.E1.m1.10.10.10.4.4.6.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.1"></times><apply id="S3.E1.m1.10.10.10.4.4.6.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2"><divide id="S3.E1.m1.10.10.10.4.4.6.2.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2"></divide><cn type="integer" id="S3.E1.m1.10.10.10.4.4.6.2.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2.2">1</cn><apply id="S3.E1.m1.10.10.10.4.4.6.2.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.6.2.3.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2.3">subscript</csymbol><ci id="S3.E1.m1.10.10.10.4.4.6.2.3.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2.3.2">𝑛</ci><ci id="S3.E1.m1.10.10.10.4.4.6.2.3.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.2.3.3">𝑘</ci></apply></apply><apply id="S3.E1.m1.10.10.10.4.4.6.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3"><apply id="S3.E1.m1.10.10.10.4.4.6.3.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.6.3.1.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1">superscript</csymbol><apply id="S3.E1.m1.10.10.10.4.4.6.3.1.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.6.3.1.2.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1">subscript</csymbol><sum id="S3.E1.m1.10.10.10.4.4.6.3.1.2.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.2"></sum><apply id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3"><eq id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.1"></eq><ci id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.2.3.3">1</cn></apply></apply><apply id="S3.E1.m1.10.10.10.4.4.6.3.1.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.6.3.1.3.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3">subscript</csymbol><ci id="S3.E1.m1.10.10.10.4.4.6.3.1.3.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3.2">𝑛</ci><ci id="S3.E1.m1.10.10.10.4.4.6.3.1.3.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.1.3.3">𝑘</ci></apply></apply><apply id="S3.E1.m1.10.10.10.4.4.6.3.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2"><times id="S3.E1.m1.10.10.10.4.4.6.3.2.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2.1"></times><apply id="S3.E1.m1.10.10.10.4.4.6.3.2.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.10.4.4.6.3.2.2.1.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2">subscript</csymbol><ci id="S3.E1.m1.10.10.10.4.4.6.3.2.2.2.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2.2">𝑓</ci><ci id="S3.E1.m1.10.10.10.4.4.6.3.2.2.3.cmml" xref="S3.E1.m1.10.10.10.4.4.6.3.2.2.3">𝑖</ci></apply><ci id="S3.E1.m1.8.8.8.2.2.2.cmml" xref="S3.E1.m1.8.8.8.2.2.2">𝑤</ci></apply></apply></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.10c">\begin{array}[]{c}\underset{w\in\mathbb{R}^{d}}{\mathrm{min}}f(w)\ \ \mathrm{where}\ \ f(w)\overset{\mathrm{def}}{=}\sum_{k=1}^{K}\frac{n_{k}}{n}\times F_{k}(w)\\
\\
\mathrm{with}\ \ F_{k}(w)=\frac{1}{n_{k}}\sum_{i=1}^{n_{k}}f_{i}(w)\end{array}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.2" class="ltx_p">The <span id="S3.p3.2.1" class="ltx_text ltx_font_italic">FedAvg</span> algorithm introduced in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> aims at minimizing the objective function <a href="#S3.E1" title="In 3 Federated optimization ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> assuming a synchronous update scheme and a generic non-convex neural network loss function. The model is initialized with a given architecture on a central <span id="S3.p3.2.2" class="ltx_text ltx_font_italic">parameter server</span> with weights <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="w_{0}" display="inline"><semantics id="S3.p3.1.m1.1a"><msub id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml"><mi id="S3.p3.1.m1.1.1.2" xref="S3.p3.1.m1.1.1.2.cmml">w</mi><mn id="S3.p3.1.m1.1.1.3" xref="S3.p3.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><apply id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p3.1.m1.1.1.1.cmml" xref="S3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.p3.1.m1.1.1.2.cmml" xref="S3.p3.1.m1.1.1.2">𝑤</ci><cn type="integer" id="S3.p3.1.m1.1.1.3.cmml" xref="S3.p3.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">w_{0}</annotation></semantics></math>. Once initialized, the parameter server and the user’s devices interact synchronously with each other during <span id="S3.p3.2.3" class="ltx_text ltx_font_italic">communication rounds</span>. A communication round at time <math id="S3.p3.2.m2.1" class="ltx_math_unparsed" alttext="t\in[1,..,T]" display="inline"><semantics id="S3.p3.2.m2.1a"><mrow id="S3.p3.2.m2.1b"><mi id="S3.p3.2.m2.1.1">t</mi><mo id="S3.p3.2.m2.1.2">∈</mo><mrow id="S3.p3.2.m2.1.3"><mo stretchy="false" id="S3.p3.2.m2.1.3.1">[</mo><mn id="S3.p3.2.m2.1.3.2">1</mn><mo id="S3.p3.2.m2.1.3.3">,</mo><mo lspace="0em" rspace="0.0835em" id="S3.p3.2.m2.1.3.4">.</mo><mo lspace="0.0835em" rspace="0.167em" id="S3.p3.2.m2.1.3.5">.</mo><mo id="S3.p3.2.m2.1.3.6">,</mo><mi id="S3.p3.2.m2.1.3.7">T</mi><mo stretchy="false" id="S3.p3.2.m2.1.3.8">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">t\in[1,..,T]</annotation></semantics></math> is described below:</p>
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.3" class="ltx_p">The central model <math id="S3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="w_{t-1}" display="inline"><semantics id="S3.I1.i1.p1.1.m1.1a"><msub id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.2" xref="S3.I1.i1.p1.1.m1.1.1.2.cmml">w</mi><mrow id="S3.I1.i1.p1.1.m1.1.1.3" xref="S3.I1.i1.p1.1.m1.1.1.3.cmml"><mi id="S3.I1.i1.p1.1.m1.1.1.3.2" xref="S3.I1.i1.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.I1.i1.p1.1.m1.1.1.3.1" xref="S3.I1.i1.p1.1.m1.1.1.3.1.cmml">−</mo><mn id="S3.I1.i1.p1.1.m1.1.1.3.3" xref="S3.I1.i1.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.1b"><apply id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.1.1.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.2">𝑤</ci><apply id="S3.I1.i1.p1.1.m1.1.1.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3"><minus id="S3.I1.i1.p1.1.m1.1.1.3.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3.1"></minus><ci id="S3.I1.i1.p1.1.m1.1.1.3.2.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3.2">𝑡</ci><cn type="integer" id="S3.I1.i1.p1.1.m1.1.1.3.3.cmml" xref="S3.I1.i1.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.1c">w_{t-1}</annotation></semantics></math> is shared with a subset of users <math id="S3.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{S}_{t}" display="inline"><semantics id="S3.I1.i1.p1.2.m2.1a"><msub id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.2.m2.1.1.2" xref="S3.I1.i1.p1.2.m2.1.1.2.cmml">𝒮</mi><mi id="S3.I1.i1.p1.2.m2.1.1.3" xref="S3.I1.i1.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><apply id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i1.p1.2.m2.1.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.I1.i1.p1.2.m2.1.1.2.cmml" xref="S3.I1.i1.p1.2.m2.1.1.2">𝒮</ci><ci id="S3.I1.i1.p1.2.m2.1.1.3.cmml" xref="S3.I1.i1.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">\mathcal{S}_{t}</annotation></semantics></math> that are randomly selected from the pool of <span id="S3.I1.i1.p1.3.1" class="ltx_text ltx_font_italic">K</span> users given a participation ratio <span id="S3.I1.i1.p1.3.2" class="ltx_text ltx_markedasmath ltx_font_italic">C</span>.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.5" class="ltx_p">Each user <math id="S3.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="k\in\mathcal{S}_{t}" display="inline"><semantics id="S3.I1.i2.p1.1.m1.1a"><mrow id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">k</mi><mo id="S3.I1.i2.p1.1.m1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.cmml">∈</mo><msub id="S3.I1.i2.p1.1.m1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i2.p1.1.m1.1.1.3.2" xref="S3.I1.i2.p1.1.m1.1.1.3.2.cmml">𝒮</mi><mi id="S3.I1.i2.p1.1.m1.1.1.3.3" xref="S3.I1.i2.p1.1.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><apply id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1"><in id="S3.I1.i2.p1.1.m1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1"></in><ci id="S3.I1.i2.p1.1.m1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.2">𝑘</ci><apply id="S3.I1.i2.p1.1.m1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.I1.i2.p1.1.m1.1.1.3.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.I1.i2.p1.1.m1.1.1.3.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3.2">𝒮</ci><ci id="S3.I1.i2.p1.1.m1.1.1.3.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">k\in\mathcal{S}_{t}</annotation></semantics></math> performs one or several training steps on their local data based on the minimization of their local objective <math id="S3.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="F_{k}" display="inline"><semantics id="S3.I1.i2.p1.2.m2.1a"><msub id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml"><mi id="S3.I1.i2.p1.2.m2.1.1.2" xref="S3.I1.i2.p1.2.m2.1.1.2.cmml">F</mi><mi id="S3.I1.i2.p1.2.m2.1.1.3" xref="S3.I1.i2.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b"><apply id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.2.m2.1.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.2.m2.1.1.2.cmml" xref="S3.I1.i2.p1.2.m2.1.1.2">𝐹</ci><ci id="S3.I1.i2.p1.2.m2.1.1.3.cmml" xref="S3.I1.i2.p1.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">F_{k}</annotation></semantics></math> using mini-batch stochastic gradient descent (SGD) with a local learning rate <math id="S3.I1.i2.p1.3.m3.1" class="ltx_Math" alttext="\eta_{local}" display="inline"><semantics id="S3.I1.i2.p1.3.m3.1a"><msub id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.2" xref="S3.I1.i2.p1.3.m3.1.1.2.cmml">η</mi><mrow id="S3.I1.i2.p1.3.m3.1.1.3" xref="S3.I1.i2.p1.3.m3.1.1.3.cmml"><mi id="S3.I1.i2.p1.3.m3.1.1.3.2" xref="S3.I1.i2.p1.3.m3.1.1.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.3.1" xref="S3.I1.i2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.3.3" xref="S3.I1.i2.p1.3.m3.1.1.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.3.1a" xref="S3.I1.i2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.3.4" xref="S3.I1.i2.p1.3.m3.1.1.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.3.1b" xref="S3.I1.i2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.3.5" xref="S3.I1.i2.p1.3.m3.1.1.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.3.m3.1.1.3.1c" xref="S3.I1.i2.p1.3.m3.1.1.3.1.cmml">​</mo><mi id="S3.I1.i2.p1.3.m3.1.1.3.6" xref="S3.I1.i2.p1.3.m3.1.1.3.6.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.1b"><apply id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.3.m3.1.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.3.m3.1.1.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.2">𝜂</ci><apply id="S3.I1.i2.p1.3.m3.1.1.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3"><times id="S3.I1.i2.p1.3.m3.1.1.3.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.1"></times><ci id="S3.I1.i2.p1.3.m3.1.1.3.2.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.2">𝑙</ci><ci id="S3.I1.i2.p1.3.m3.1.1.3.3.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.3">𝑜</ci><ci id="S3.I1.i2.p1.3.m3.1.1.3.4.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.4">𝑐</ci><ci id="S3.I1.i2.p1.3.m3.1.1.3.5.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.5">𝑎</ci><ci id="S3.I1.i2.p1.3.m3.1.1.3.6.cmml" xref="S3.I1.i2.p1.3.m3.1.1.3.6">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.1c">\eta_{local}</annotation></semantics></math>. The number of steps performed locally is  
<br class="ltx_break"><math id="S3.I1.i2.p1.4.m4.3" class="ltx_Math" alttext="E\times max(ceil(\frac{n_{k}}{B}),1)" display="inline"><semantics id="S3.I1.i2.p1.4.m4.3a"><mrow id="S3.I1.i2.p1.4.m4.3.3" xref="S3.I1.i2.p1.4.m4.3.3.cmml"><mrow id="S3.I1.i2.p1.4.m4.3.3.3" xref="S3.I1.i2.p1.4.m4.3.3.3.cmml"><mi id="S3.I1.i2.p1.4.m4.3.3.3.2" xref="S3.I1.i2.p1.4.m4.3.3.3.2.cmml">E</mi><mo lspace="0.222em" rspace="0.222em" id="S3.I1.i2.p1.4.m4.3.3.3.1" xref="S3.I1.i2.p1.4.m4.3.3.3.1.cmml">×</mo><mi id="S3.I1.i2.p1.4.m4.3.3.3.3" xref="S3.I1.i2.p1.4.m4.3.3.3.3.cmml">m</mi></mrow><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.2" xref="S3.I1.i2.p1.4.m4.3.3.2.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.3.3.4" xref="S3.I1.i2.p1.4.m4.3.3.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.2a" xref="S3.I1.i2.p1.4.m4.3.3.2.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.3.3.5" xref="S3.I1.i2.p1.4.m4.3.3.5.cmml">x</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.2b" xref="S3.I1.i2.p1.4.m4.3.3.2.cmml">​</mo><mrow id="S3.I1.i2.p1.4.m4.3.3.1.1" xref="S3.I1.i2.p1.4.m4.3.3.1.2.cmml"><mo stretchy="false" id="S3.I1.i2.p1.4.m4.3.3.1.1.2" xref="S3.I1.i2.p1.4.m4.3.3.1.2.cmml">(</mo><mrow id="S3.I1.i2.p1.4.m4.3.3.1.1.1" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.cmml"><mi id="S3.I1.i2.p1.4.m4.3.3.1.1.1.2" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.1" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.3.3.1.1.1.3" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.1a" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.3.3.1.1.1.4" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.1b" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.1.cmml">​</mo><mi id="S3.I1.i2.p1.4.m4.3.3.1.1.1.5" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.5.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.1c" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.1.cmml">​</mo><mrow id="S3.I1.i2.p1.4.m4.3.3.1.1.1.6.2" xref="S3.I1.i2.p1.4.m4.1.1.cmml"><mo stretchy="false" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.6.2.1" xref="S3.I1.i2.p1.4.m4.1.1.cmml">(</mo><mfrac id="S3.I1.i2.p1.4.m4.1.1" xref="S3.I1.i2.p1.4.m4.1.1.cmml"><msub id="S3.I1.i2.p1.4.m4.1.1.2" xref="S3.I1.i2.p1.4.m4.1.1.2.cmml"><mi id="S3.I1.i2.p1.4.m4.1.1.2.2" xref="S3.I1.i2.p1.4.m4.1.1.2.2.cmml">n</mi><mi id="S3.I1.i2.p1.4.m4.1.1.2.3" xref="S3.I1.i2.p1.4.m4.1.1.2.3.cmml">k</mi></msub><mi id="S3.I1.i2.p1.4.m4.1.1.3" xref="S3.I1.i2.p1.4.m4.1.1.3.cmml">B</mi></mfrac><mo stretchy="false" id="S3.I1.i2.p1.4.m4.3.3.1.1.1.6.2.2" xref="S3.I1.i2.p1.4.m4.1.1.cmml">)</mo></mrow></mrow><mo id="S3.I1.i2.p1.4.m4.3.3.1.1.3" xref="S3.I1.i2.p1.4.m4.3.3.1.2.cmml">,</mo><mn id="S3.I1.i2.p1.4.m4.2.2" xref="S3.I1.i2.p1.4.m4.2.2.cmml">1</mn><mo stretchy="false" id="S3.I1.i2.p1.4.m4.3.3.1.1.4" xref="S3.I1.i2.p1.4.m4.3.3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.4.m4.3b"><apply id="S3.I1.i2.p1.4.m4.3.3.cmml" xref="S3.I1.i2.p1.4.m4.3.3"><times id="S3.I1.i2.p1.4.m4.3.3.2.cmml" xref="S3.I1.i2.p1.4.m4.3.3.2"></times><apply id="S3.I1.i2.p1.4.m4.3.3.3.cmml" xref="S3.I1.i2.p1.4.m4.3.3.3"><times id="S3.I1.i2.p1.4.m4.3.3.3.1.cmml" xref="S3.I1.i2.p1.4.m4.3.3.3.1"></times><ci id="S3.I1.i2.p1.4.m4.3.3.3.2.cmml" xref="S3.I1.i2.p1.4.m4.3.3.3.2">𝐸</ci><ci id="S3.I1.i2.p1.4.m4.3.3.3.3.cmml" xref="S3.I1.i2.p1.4.m4.3.3.3.3">𝑚</ci></apply><ci id="S3.I1.i2.p1.4.m4.3.3.4.cmml" xref="S3.I1.i2.p1.4.m4.3.3.4">𝑎</ci><ci id="S3.I1.i2.p1.4.m4.3.3.5.cmml" xref="S3.I1.i2.p1.4.m4.3.3.5">𝑥</ci><interval closure="open" id="S3.I1.i2.p1.4.m4.3.3.1.2.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1"><apply id="S3.I1.i2.p1.4.m4.3.3.1.1.1.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1"><times id="S3.I1.i2.p1.4.m4.3.3.1.1.1.1.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.1"></times><ci id="S3.I1.i2.p1.4.m4.3.3.1.1.1.2.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.2">𝑐</ci><ci id="S3.I1.i2.p1.4.m4.3.3.1.1.1.3.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.3">𝑒</ci><ci id="S3.I1.i2.p1.4.m4.3.3.1.1.1.4.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.4">𝑖</ci><ci id="S3.I1.i2.p1.4.m4.3.3.1.1.1.5.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.5">𝑙</ci><apply id="S3.I1.i2.p1.4.m4.1.1.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.6.2"><divide id="S3.I1.i2.p1.4.m4.1.1.1.cmml" xref="S3.I1.i2.p1.4.m4.3.3.1.1.1.6.2"></divide><apply id="S3.I1.i2.p1.4.m4.1.1.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.I1.i2.p1.4.m4.1.1.2.1.cmml" xref="S3.I1.i2.p1.4.m4.1.1.2">subscript</csymbol><ci id="S3.I1.i2.p1.4.m4.1.1.2.2.cmml" xref="S3.I1.i2.p1.4.m4.1.1.2.2">𝑛</ci><ci id="S3.I1.i2.p1.4.m4.1.1.2.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.2.3">𝑘</ci></apply><ci id="S3.I1.i2.p1.4.m4.1.1.3.cmml" xref="S3.I1.i2.p1.4.m4.1.1.3">𝐵</ci></apply></apply><cn type="integer" id="S3.I1.i2.p1.4.m4.2.2.cmml" xref="S3.I1.i2.p1.4.m4.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.4.m4.3c">E\times max(ceil(\frac{n_{k}}{B}),1)</annotation></semantics></math>, <math id="S3.I1.i2.p1.5.m5.1" class="ltx_Math" alttext="n_{k}" display="inline"><semantics id="S3.I1.i2.p1.5.m5.1a"><msub id="S3.I1.i2.p1.5.m5.1.1" xref="S3.I1.i2.p1.5.m5.1.1.cmml"><mi id="S3.I1.i2.p1.5.m5.1.1.2" xref="S3.I1.i2.p1.5.m5.1.1.2.cmml">n</mi><mi id="S3.I1.i2.p1.5.m5.1.1.3" xref="S3.I1.i2.p1.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.5.m5.1b"><apply id="S3.I1.i2.p1.5.m5.1.1.cmml" xref="S3.I1.i2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p1.5.m5.1.1.1.cmml" xref="S3.I1.i2.p1.5.m5.1.1">subscript</csymbol><ci id="S3.I1.i2.p1.5.m5.1.1.2.cmml" xref="S3.I1.i2.p1.5.m5.1.1.2">𝑛</ci><ci id="S3.I1.i2.p1.5.m5.1.1.3.cmml" xref="S3.I1.i2.p1.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.5.m5.1c">n_{k}</annotation></semantics></math> being the number of datapoints available locally, <span id="S3.I1.i2.p1.5.1" class="ltx_text ltx_font_italic">E</span> the number of local epochs and <span id="S3.I1.i2.p1.5.2" class="ltx_text ltx_font_italic">B</span> the local batch size.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.2" class="ltx_p">Users from <math id="S3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{S}_{t}" display="inline"><semantics id="S3.I1.i3.p1.1.m1.1a"><msub id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">𝒮</mi><mi id="S3.I1.i3.p1.1.m1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2">𝒮</ci><ci id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">\mathcal{S}_{t}</annotation></semantics></math> send back their model updates <math id="S3.I1.i3.p1.2.m2.4" class="ltx_Math" alttext="w_{t,k},k\in\mathcal{S}_{t}" display="inline"><semantics id="S3.I1.i3.p1.2.m2.4a"><mrow id="S3.I1.i3.p1.2.m2.4.4" xref="S3.I1.i3.p1.2.m2.4.4.cmml"><mrow id="S3.I1.i3.p1.2.m2.4.4.1.1" xref="S3.I1.i3.p1.2.m2.4.4.1.2.cmml"><msub id="S3.I1.i3.p1.2.m2.4.4.1.1.1" xref="S3.I1.i3.p1.2.m2.4.4.1.1.1.cmml"><mi id="S3.I1.i3.p1.2.m2.4.4.1.1.1.2" xref="S3.I1.i3.p1.2.m2.4.4.1.1.1.2.cmml">w</mi><mrow id="S3.I1.i3.p1.2.m2.2.2.2.4" xref="S3.I1.i3.p1.2.m2.2.2.2.3.cmml"><mi id="S3.I1.i3.p1.2.m2.1.1.1.1" xref="S3.I1.i3.p1.2.m2.1.1.1.1.cmml">t</mi><mo id="S3.I1.i3.p1.2.m2.2.2.2.4.1" xref="S3.I1.i3.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.I1.i3.p1.2.m2.2.2.2.2" xref="S3.I1.i3.p1.2.m2.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S3.I1.i3.p1.2.m2.4.4.1.1.2" xref="S3.I1.i3.p1.2.m2.4.4.1.2.cmml">,</mo><mi id="S3.I1.i3.p1.2.m2.3.3" xref="S3.I1.i3.p1.2.m2.3.3.cmml">k</mi></mrow><mo id="S3.I1.i3.p1.2.m2.4.4.2" xref="S3.I1.i3.p1.2.m2.4.4.2.cmml">∈</mo><msub id="S3.I1.i3.p1.2.m2.4.4.3" xref="S3.I1.i3.p1.2.m2.4.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i3.p1.2.m2.4.4.3.2" xref="S3.I1.i3.p1.2.m2.4.4.3.2.cmml">𝒮</mi><mi id="S3.I1.i3.p1.2.m2.4.4.3.3" xref="S3.I1.i3.p1.2.m2.4.4.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.2.m2.4b"><apply id="S3.I1.i3.p1.2.m2.4.4.cmml" xref="S3.I1.i3.p1.2.m2.4.4"><in id="S3.I1.i3.p1.2.m2.4.4.2.cmml" xref="S3.I1.i3.p1.2.m2.4.4.2"></in><list id="S3.I1.i3.p1.2.m2.4.4.1.2.cmml" xref="S3.I1.i3.p1.2.m2.4.4.1.1"><apply id="S3.I1.i3.p1.2.m2.4.4.1.1.1.cmml" xref="S3.I1.i3.p1.2.m2.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.2.m2.4.4.1.1.1.1.cmml" xref="S3.I1.i3.p1.2.m2.4.4.1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.2.m2.4.4.1.1.1.2.cmml" xref="S3.I1.i3.p1.2.m2.4.4.1.1.1.2">𝑤</ci><list id="S3.I1.i3.p1.2.m2.2.2.2.3.cmml" xref="S3.I1.i3.p1.2.m2.2.2.2.4"><ci id="S3.I1.i3.p1.2.m2.1.1.1.1.cmml" xref="S3.I1.i3.p1.2.m2.1.1.1.1">𝑡</ci><ci id="S3.I1.i3.p1.2.m2.2.2.2.2.cmml" xref="S3.I1.i3.p1.2.m2.2.2.2.2">𝑘</ci></list></apply><ci id="S3.I1.i3.p1.2.m2.3.3.cmml" xref="S3.I1.i3.p1.2.m2.3.3">𝑘</ci></list><apply id="S3.I1.i3.p1.2.m2.4.4.3.cmml" xref="S3.I1.i3.p1.2.m2.4.4.3"><csymbol cd="ambiguous" id="S3.I1.i3.p1.2.m2.4.4.3.1.cmml" xref="S3.I1.i3.p1.2.m2.4.4.3">subscript</csymbol><ci id="S3.I1.i3.p1.2.m2.4.4.3.2.cmml" xref="S3.I1.i3.p1.2.m2.4.4.3.2">𝒮</ci><ci id="S3.I1.i3.p1.2.m2.4.4.3.3.cmml" xref="S3.I1.i3.p1.2.m2.4.4.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.2.m2.4c">w_{t,k},k\in\mathcal{S}_{t}</annotation></semantics></math> to the parameter server once local training is finished.</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.4" class="ltx_p">The server computes an average model <math id="S3.I1.i4.p1.1.m1.1" class="ltx_Math" alttext="w_{t}" display="inline"><semantics id="S3.I1.i4.p1.1.m1.1a"><msub id="S3.I1.i4.p1.1.m1.1.1" xref="S3.I1.i4.p1.1.m1.1.1.cmml"><mi id="S3.I1.i4.p1.1.m1.1.1.2" xref="S3.I1.i4.p1.1.m1.1.1.2.cmml">w</mi><mi id="S3.I1.i4.p1.1.m1.1.1.3" xref="S3.I1.i4.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.1.m1.1b"><apply id="S3.I1.i4.p1.1.m1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.1.m1.1.1.1.cmml" xref="S3.I1.i4.p1.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i4.p1.1.m1.1.1.2.cmml" xref="S3.I1.i4.p1.1.m1.1.1.2">𝑤</ci><ci id="S3.I1.i4.p1.1.m1.1.1.3.cmml" xref="S3.I1.i4.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.1.m1.1c">w_{t}</annotation></semantics></math> based on the user’s individual updates <math id="S3.I1.i4.p1.2.m2.4" class="ltx_Math" alttext="w_{t,k},k\in\mathcal{S}_{t}" display="inline"><semantics id="S3.I1.i4.p1.2.m2.4a"><mrow id="S3.I1.i4.p1.2.m2.4.4" xref="S3.I1.i4.p1.2.m2.4.4.cmml"><mrow id="S3.I1.i4.p1.2.m2.4.4.1.1" xref="S3.I1.i4.p1.2.m2.4.4.1.2.cmml"><msub id="S3.I1.i4.p1.2.m2.4.4.1.1.1" xref="S3.I1.i4.p1.2.m2.4.4.1.1.1.cmml"><mi id="S3.I1.i4.p1.2.m2.4.4.1.1.1.2" xref="S3.I1.i4.p1.2.m2.4.4.1.1.1.2.cmml">w</mi><mrow id="S3.I1.i4.p1.2.m2.2.2.2.4" xref="S3.I1.i4.p1.2.m2.2.2.2.3.cmml"><mi id="S3.I1.i4.p1.2.m2.1.1.1.1" xref="S3.I1.i4.p1.2.m2.1.1.1.1.cmml">t</mi><mo id="S3.I1.i4.p1.2.m2.2.2.2.4.1" xref="S3.I1.i4.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.I1.i4.p1.2.m2.2.2.2.2" xref="S3.I1.i4.p1.2.m2.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S3.I1.i4.p1.2.m2.4.4.1.1.2" xref="S3.I1.i4.p1.2.m2.4.4.1.2.cmml">,</mo><mi id="S3.I1.i4.p1.2.m2.3.3" xref="S3.I1.i4.p1.2.m2.3.3.cmml">k</mi></mrow><mo id="S3.I1.i4.p1.2.m2.4.4.2" xref="S3.I1.i4.p1.2.m2.4.4.2.cmml">∈</mo><msub id="S3.I1.i4.p1.2.m2.4.4.3" xref="S3.I1.i4.p1.2.m2.4.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i4.p1.2.m2.4.4.3.2" xref="S3.I1.i4.p1.2.m2.4.4.3.2.cmml">𝒮</mi><mi id="S3.I1.i4.p1.2.m2.4.4.3.3" xref="S3.I1.i4.p1.2.m2.4.4.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.2.m2.4b"><apply id="S3.I1.i4.p1.2.m2.4.4.cmml" xref="S3.I1.i4.p1.2.m2.4.4"><in id="S3.I1.i4.p1.2.m2.4.4.2.cmml" xref="S3.I1.i4.p1.2.m2.4.4.2"></in><list id="S3.I1.i4.p1.2.m2.4.4.1.2.cmml" xref="S3.I1.i4.p1.2.m2.4.4.1.1"><apply id="S3.I1.i4.p1.2.m2.4.4.1.1.1.cmml" xref="S3.I1.i4.p1.2.m2.4.4.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.2.m2.4.4.1.1.1.1.cmml" xref="S3.I1.i4.p1.2.m2.4.4.1.1.1">subscript</csymbol><ci id="S3.I1.i4.p1.2.m2.4.4.1.1.1.2.cmml" xref="S3.I1.i4.p1.2.m2.4.4.1.1.1.2">𝑤</ci><list id="S3.I1.i4.p1.2.m2.2.2.2.3.cmml" xref="S3.I1.i4.p1.2.m2.2.2.2.4"><ci id="S3.I1.i4.p1.2.m2.1.1.1.1.cmml" xref="S3.I1.i4.p1.2.m2.1.1.1.1">𝑡</ci><ci id="S3.I1.i4.p1.2.m2.2.2.2.2.cmml" xref="S3.I1.i4.p1.2.m2.2.2.2.2">𝑘</ci></list></apply><ci id="S3.I1.i4.p1.2.m2.3.3.cmml" xref="S3.I1.i4.p1.2.m2.3.3">𝑘</ci></list><apply id="S3.I1.i4.p1.2.m2.4.4.3.cmml" xref="S3.I1.i4.p1.2.m2.4.4.3"><csymbol cd="ambiguous" id="S3.I1.i4.p1.2.m2.4.4.3.1.cmml" xref="S3.I1.i4.p1.2.m2.4.4.3">subscript</csymbol><ci id="S3.I1.i4.p1.2.m2.4.4.3.2.cmml" xref="S3.I1.i4.p1.2.m2.4.4.3.2">𝒮</ci><ci id="S3.I1.i4.p1.2.m2.4.4.3.3.cmml" xref="S3.I1.i4.p1.2.m2.4.4.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.2.m2.4c">w_{t,k},k\in\mathcal{S}_{t}</annotation></semantics></math>, each user’s update being weighted by <math id="S3.I1.i4.p1.3.m3.1" class="ltx_Math" alttext="\frac{n_{k}}{n_{r}}" display="inline"><semantics id="S3.I1.i4.p1.3.m3.1a"><mfrac id="S3.I1.i4.p1.3.m3.1.1" xref="S3.I1.i4.p1.3.m3.1.1.cmml"><msub id="S3.I1.i4.p1.3.m3.1.1.2" xref="S3.I1.i4.p1.3.m3.1.1.2.cmml"><mi id="S3.I1.i4.p1.3.m3.1.1.2.2" xref="S3.I1.i4.p1.3.m3.1.1.2.2.cmml">n</mi><mi id="S3.I1.i4.p1.3.m3.1.1.2.3" xref="S3.I1.i4.p1.3.m3.1.1.2.3.cmml">k</mi></msub><msub id="S3.I1.i4.p1.3.m3.1.1.3" xref="S3.I1.i4.p1.3.m3.1.1.3.cmml"><mi id="S3.I1.i4.p1.3.m3.1.1.3.2" xref="S3.I1.i4.p1.3.m3.1.1.3.2.cmml">n</mi><mi id="S3.I1.i4.p1.3.m3.1.1.3.3" xref="S3.I1.i4.p1.3.m3.1.1.3.3.cmml">r</mi></msub></mfrac><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.3.m3.1b"><apply id="S3.I1.i4.p1.3.m3.1.1.cmml" xref="S3.I1.i4.p1.3.m3.1.1"><divide id="S3.I1.i4.p1.3.m3.1.1.1.cmml" xref="S3.I1.i4.p1.3.m3.1.1"></divide><apply id="S3.I1.i4.p1.3.m3.1.1.2.cmml" xref="S3.I1.i4.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.I1.i4.p1.3.m3.1.1.2.1.cmml" xref="S3.I1.i4.p1.3.m3.1.1.2">subscript</csymbol><ci id="S3.I1.i4.p1.3.m3.1.1.2.2.cmml" xref="S3.I1.i4.p1.3.m3.1.1.2.2">𝑛</ci><ci id="S3.I1.i4.p1.3.m3.1.1.2.3.cmml" xref="S3.I1.i4.p1.3.m3.1.1.2.3">𝑘</ci></apply><apply id="S3.I1.i4.p1.3.m3.1.1.3.cmml" xref="S3.I1.i4.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.I1.i4.p1.3.m3.1.1.3.1.cmml" xref="S3.I1.i4.p1.3.m3.1.1.3">subscript</csymbol><ci id="S3.I1.i4.p1.3.m3.1.1.3.2.cmml" xref="S3.I1.i4.p1.3.m3.1.1.3.2">𝑛</ci><ci id="S3.I1.i4.p1.3.m3.1.1.3.3.cmml" xref="S3.I1.i4.p1.3.m3.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.3.m3.1c">\frac{n_{k}}{n_{r}}</annotation></semantics></math>, ‘”where”’ <math id="S3.I1.i4.p1.4.m4.1" class="ltx_Math" alttext="n_{r}=\sum_{k\in\mathcal{S}_{t}}n_{k}\approx C\times\sum_{k=1}^{K}n_{k}" display="inline"><semantics id="S3.I1.i4.p1.4.m4.1a"><mrow id="S3.I1.i4.p1.4.m4.1.1" xref="S3.I1.i4.p1.4.m4.1.1.cmml"><msub id="S3.I1.i4.p1.4.m4.1.1.2" xref="S3.I1.i4.p1.4.m4.1.1.2.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.2.2" xref="S3.I1.i4.p1.4.m4.1.1.2.2.cmml">n</mi><mi id="S3.I1.i4.p1.4.m4.1.1.2.3" xref="S3.I1.i4.p1.4.m4.1.1.2.3.cmml">r</mi></msub><mo rspace="0.111em" id="S3.I1.i4.p1.4.m4.1.1.3" xref="S3.I1.i4.p1.4.m4.1.1.3.cmml">=</mo><mrow id="S3.I1.i4.p1.4.m4.1.1.4" xref="S3.I1.i4.p1.4.m4.1.1.4.cmml"><msub id="S3.I1.i4.p1.4.m4.1.1.4.1" xref="S3.I1.i4.p1.4.m4.1.1.4.1.cmml"><mo id="S3.I1.i4.p1.4.m4.1.1.4.1.2" xref="S3.I1.i4.p1.4.m4.1.1.4.1.2.cmml">∑</mo><mrow id="S3.I1.i4.p1.4.m4.1.1.4.1.3" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.4.1.3.2" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.2.cmml">k</mi><mo id="S3.I1.i4.p1.4.m4.1.1.4.1.3.1" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.1.cmml">∈</mo><msub id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.2" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.2.cmml">𝒮</mi><mi id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.3" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.3.cmml">t</mi></msub></mrow></msub><msub id="S3.I1.i4.p1.4.m4.1.1.4.2" xref="S3.I1.i4.p1.4.m4.1.1.4.2.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.4.2.2" xref="S3.I1.i4.p1.4.m4.1.1.4.2.2.cmml">n</mi><mi id="S3.I1.i4.p1.4.m4.1.1.4.2.3" xref="S3.I1.i4.p1.4.m4.1.1.4.2.3.cmml">k</mi></msub></mrow><mo id="S3.I1.i4.p1.4.m4.1.1.5" xref="S3.I1.i4.p1.4.m4.1.1.5.cmml">≈</mo><mrow id="S3.I1.i4.p1.4.m4.1.1.6" xref="S3.I1.i4.p1.4.m4.1.1.6.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.6.2" xref="S3.I1.i4.p1.4.m4.1.1.6.2.cmml">C</mi><mo lspace="0.222em" rspace="0.055em" id="S3.I1.i4.p1.4.m4.1.1.6.1" xref="S3.I1.i4.p1.4.m4.1.1.6.1.cmml">×</mo><mrow id="S3.I1.i4.p1.4.m4.1.1.6.3" xref="S3.I1.i4.p1.4.m4.1.1.6.3.cmml"><msubsup id="S3.I1.i4.p1.4.m4.1.1.6.3.1" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.cmml"><mo id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.2" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.2.cmml">∑</mo><mrow id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.2" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.2.cmml">k</mi><mo id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.1" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.1.cmml">=</mo><mn id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.3" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.I1.i4.p1.4.m4.1.1.6.3.1.3" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.3.cmml">K</mi></msubsup><msub id="S3.I1.i4.p1.4.m4.1.1.6.3.2" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2.cmml"><mi id="S3.I1.i4.p1.4.m4.1.1.6.3.2.2" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2.2.cmml">n</mi><mi id="S3.I1.i4.p1.4.m4.1.1.6.3.2.3" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2.3.cmml">k</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i4.p1.4.m4.1b"><apply id="S3.I1.i4.p1.4.m4.1.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1"><and id="S3.I1.i4.p1.4.m4.1.1a.cmml" xref="S3.I1.i4.p1.4.m4.1.1"></and><apply id="S3.I1.i4.p1.4.m4.1.1b.cmml" xref="S3.I1.i4.p1.4.m4.1.1"><eq id="S3.I1.i4.p1.4.m4.1.1.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.3"></eq><apply id="S3.I1.i4.p1.4.m4.1.1.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.2.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.2">subscript</csymbol><ci id="S3.I1.i4.p1.4.m4.1.1.2.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.2.2">𝑛</ci><ci id="S3.I1.i4.p1.4.m4.1.1.2.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.2.3">𝑟</ci></apply><apply id="S3.I1.i4.p1.4.m4.1.1.4.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4"><apply id="S3.I1.i4.p1.4.m4.1.1.4.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.4.1.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1">subscript</csymbol><sum id="S3.I1.i4.p1.4.m4.1.1.4.1.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.2"></sum><apply id="S3.I1.i4.p1.4.m4.1.1.4.1.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3"><in id="S3.I1.i4.p1.4.m4.1.1.4.1.3.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.1"></in><ci id="S3.I1.i4.p1.4.m4.1.1.4.1.3.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.2">𝑘</ci><apply id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3">subscript</csymbol><ci id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.2">𝒮</ci><ci id="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.I1.i4.p1.4.m4.1.1.4.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.2"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.4.2.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.2">subscript</csymbol><ci id="S3.I1.i4.p1.4.m4.1.1.4.2.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.2.2">𝑛</ci><ci id="S3.I1.i4.p1.4.m4.1.1.4.2.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.4.2.3">𝑘</ci></apply></apply></apply><apply id="S3.I1.i4.p1.4.m4.1.1c.cmml" xref="S3.I1.i4.p1.4.m4.1.1"><approx id="S3.I1.i4.p1.4.m4.1.1.5.cmml" xref="S3.I1.i4.p1.4.m4.1.1.5"></approx><share href="#S3.I1.i4.p1.4.m4.1.1.4.cmml" id="S3.I1.i4.p1.4.m4.1.1d.cmml" xref="S3.I1.i4.p1.4.m4.1.1"></share><apply id="S3.I1.i4.p1.4.m4.1.1.6.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6"><times id="S3.I1.i4.p1.4.m4.1.1.6.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.1"></times><ci id="S3.I1.i4.p1.4.m4.1.1.6.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.2">𝐶</ci><apply id="S3.I1.i4.p1.4.m4.1.1.6.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3"><apply id="S3.I1.i4.p1.4.m4.1.1.6.3.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.6.3.1.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1">superscript</csymbol><apply id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1">subscript</csymbol><sum id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.2"></sum><apply id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3"><eq id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.1"></eq><ci id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.2">𝑘</ci><cn type="integer" id="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.2.3.3">1</cn></apply></apply><ci id="S3.I1.i4.p1.4.m4.1.1.6.3.1.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.1.3">𝐾</ci></apply><apply id="S3.I1.i4.p1.4.m4.1.1.6.3.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2"><csymbol cd="ambiguous" id="S3.I1.i4.p1.4.m4.1.1.6.3.2.1.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2">subscript</csymbol><ci id="S3.I1.i4.p1.4.m4.1.1.6.3.2.2.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2.2">𝑛</ci><ci id="S3.I1.i4.p1.4.m4.1.1.6.3.2.3.cmml" xref="S3.I1.i4.p1.4.m4.1.1.6.3.2.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i4.p1.4.m4.1c">n_{r}=\sum_{k\in\mathcal{S}_{t}}n_{k}\approx C\times\sum_{k=1}^{K}n_{k}</annotation></semantics></math>.</p>
</div>
</li>
</ol>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.2" class="ltx_p">When <math id="S3.p4.1.m1.1" class="ltx_Math" alttext="B=\infty" display="inline"><semantics id="S3.p4.1.m1.1a"><mrow id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml"><mi id="S3.p4.1.m1.1.1.2" xref="S3.p4.1.m1.1.1.2.cmml">B</mi><mo id="S3.p4.1.m1.1.1.1" xref="S3.p4.1.m1.1.1.1.cmml">=</mo><mi mathvariant="normal" id="S3.p4.1.m1.1.1.3" xref="S3.p4.1.m1.1.1.3.cmml">∞</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><apply id="S3.p4.1.m1.1.1.cmml" xref="S3.p4.1.m1.1.1"><eq id="S3.p4.1.m1.1.1.1.cmml" xref="S3.p4.1.m1.1.1.1"></eq><ci id="S3.p4.1.m1.1.1.2.cmml" xref="S3.p4.1.m1.1.1.2">𝐵</ci><infinity id="S3.p4.1.m1.1.1.3.cmml" xref="S3.p4.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">B=\infty</annotation></semantics></math> (i.e the batch size is equal to the local dataset size) and <math id="S3.p4.2.m2.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S3.p4.2.m2.1a"><mrow id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml"><mi id="S3.p4.2.m2.1.1.2" xref="S3.p4.2.m2.1.1.2.cmml">E</mi><mo id="S3.p4.2.m2.1.1.1" xref="S3.p4.2.m2.1.1.1.cmml">=</mo><mn id="S3.p4.2.m2.1.1.3" xref="S3.p4.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><apply id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1"><eq id="S3.p4.2.m2.1.1.1.cmml" xref="S3.p4.2.m2.1.1.1"></eq><ci id="S3.p4.2.m2.1.1.2.cmml" xref="S3.p4.2.m2.1.1.2">𝐸</ci><cn type="integer" id="S3.p4.2.m2.1.1.3.cmml" xref="S3.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">E=1</annotation></semantics></math>, then a single gradient update is performed on each user’s data. It is strictly equivalent to doing a single gradient computation on a batch including all of selected user data points. This specific case is called <span id="S3.p4.2.1" class="ltx_text ltx_font_italic">FedSGD</span>, e.g. stochastic gradient descent with each batch being the data of the federation of selected users at a given round. <span id="S3.p4.2.2" class="ltx_text ltx_font_italic">FedAvg</span> (Federated averaging) is the generic case when more than one update is performed locally for each user.</p>
</div>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.1" class="ltx_p">The global averaging step can be written as follows, using a global update rate <math id="S3.p5.1.m1.1" class="ltx_Math" alttext="\eta_{global}" display="inline"><semantics id="S3.p5.1.m1.1a"><msub id="S3.p5.1.m1.1.1" xref="S3.p5.1.m1.1.1.cmml"><mi id="S3.p5.1.m1.1.1.2" xref="S3.p5.1.m1.1.1.2.cmml">η</mi><mrow id="S3.p5.1.m1.1.1.3" xref="S3.p5.1.m1.1.1.3.cmml"><mi id="S3.p5.1.m1.1.1.3.2" xref="S3.p5.1.m1.1.1.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.p5.1.m1.1.1.3.1" xref="S3.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p5.1.m1.1.1.3.3" xref="S3.p5.1.m1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p5.1.m1.1.1.3.1a" xref="S3.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p5.1.m1.1.1.3.4" xref="S3.p5.1.m1.1.1.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p5.1.m1.1.1.3.1b" xref="S3.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p5.1.m1.1.1.3.5" xref="S3.p5.1.m1.1.1.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.p5.1.m1.1.1.3.1c" xref="S3.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p5.1.m1.1.1.3.6" xref="S3.p5.1.m1.1.1.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.p5.1.m1.1.1.3.1d" xref="S3.p5.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p5.1.m1.1.1.3.7" xref="S3.p5.1.m1.1.1.3.7.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p5.1.m1.1b"><apply id="S3.p5.1.m1.1.1.cmml" xref="S3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p5.1.m1.1.1.1.cmml" xref="S3.p5.1.m1.1.1">subscript</csymbol><ci id="S3.p5.1.m1.1.1.2.cmml" xref="S3.p5.1.m1.1.1.2">𝜂</ci><apply id="S3.p5.1.m1.1.1.3.cmml" xref="S3.p5.1.m1.1.1.3"><times id="S3.p5.1.m1.1.1.3.1.cmml" xref="S3.p5.1.m1.1.1.3.1"></times><ci id="S3.p5.1.m1.1.1.3.2.cmml" xref="S3.p5.1.m1.1.1.3.2">𝑔</ci><ci id="S3.p5.1.m1.1.1.3.3.cmml" xref="S3.p5.1.m1.1.1.3.3">𝑙</ci><ci id="S3.p5.1.m1.1.1.3.4.cmml" xref="S3.p5.1.m1.1.1.3.4">𝑜</ci><ci id="S3.p5.1.m1.1.1.3.5.cmml" xref="S3.p5.1.m1.1.1.3.5">𝑏</ci><ci id="S3.p5.1.m1.1.1.3.6.cmml" xref="S3.p5.1.m1.1.1.3.6">𝑎</ci><ci id="S3.p5.1.m1.1.1.3.7.cmml" xref="S3.p5.1.m1.1.1.3.7">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p5.1.m1.1c">\eta_{global}</annotation></semantics></math>.</p>
</div>
<div id="S3.p6" class="ltx_para">
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.3" class="ltx_Math" alttext="w_{t}\leftarrow w_{t-1}-\eta_{global}\sum_{k\in\mathcal{S}_{t}}\frac{n_{k}}{n}(w_{t-1}-w_{t,k})" display="block"><semantics id="S3.E2.m1.3a"><mrow id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml"><msub id="S3.E2.m1.3.3.3" xref="S3.E2.m1.3.3.3.cmml"><mi id="S3.E2.m1.3.3.3.2" xref="S3.E2.m1.3.3.3.2.cmml">w</mi><mi id="S3.E2.m1.3.3.3.3" xref="S3.E2.m1.3.3.3.3.cmml">t</mi></msub><mo stretchy="false" id="S3.E2.m1.3.3.2" xref="S3.E2.m1.3.3.2.cmml">←</mo><mrow id="S3.E2.m1.3.3.1" xref="S3.E2.m1.3.3.1.cmml"><msub id="S3.E2.m1.3.3.1.3" xref="S3.E2.m1.3.3.1.3.cmml"><mi id="S3.E2.m1.3.3.1.3.2" xref="S3.E2.m1.3.3.1.3.2.cmml">w</mi><mrow id="S3.E2.m1.3.3.1.3.3" xref="S3.E2.m1.3.3.1.3.3.cmml"><mi id="S3.E2.m1.3.3.1.3.3.2" xref="S3.E2.m1.3.3.1.3.3.2.cmml">t</mi><mo id="S3.E2.m1.3.3.1.3.3.1" xref="S3.E2.m1.3.3.1.3.3.1.cmml">−</mo><mn id="S3.E2.m1.3.3.1.3.3.3" xref="S3.E2.m1.3.3.1.3.3.3.cmml">1</mn></mrow></msub><mo id="S3.E2.m1.3.3.1.2" xref="S3.E2.m1.3.3.1.2.cmml">−</mo><mrow id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.3" xref="S3.E2.m1.3.3.1.1.3.cmml"><mi id="S3.E2.m1.3.3.1.1.3.2" xref="S3.E2.m1.3.3.1.1.3.2.cmml">η</mi><mrow id="S3.E2.m1.3.3.1.1.3.3" xref="S3.E2.m1.3.3.1.1.3.3.cmml"><mi id="S3.E2.m1.3.3.1.1.3.3.2" xref="S3.E2.m1.3.3.1.1.3.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.3.3.1" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.3.3.1.1.3.3.3" xref="S3.E2.m1.3.3.1.1.3.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.3.3.1a" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.3.3.1.1.3.3.4" xref="S3.E2.m1.3.3.1.1.3.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.3.3.1b" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.3.3.1.1.3.3.5" xref="S3.E2.m1.3.3.1.1.3.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.3.3.1c" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.3.3.1.1.3.3.6" xref="S3.E2.m1.3.3.1.1.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.3.3.1d" xref="S3.E2.m1.3.3.1.1.3.3.1.cmml">​</mo><mi id="S3.E2.m1.3.3.1.1.3.3.7" xref="S3.E2.m1.3.3.1.1.3.3.7.cmml">l</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.2" xref="S3.E2.m1.3.3.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.1.1.1" xref="S3.E2.m1.3.3.1.1.1.cmml"><munder id="S3.E2.m1.3.3.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E2.m1.3.3.1.1.1.2.2" xref="S3.E2.m1.3.3.1.1.1.2.2.cmml">∑</mo><mrow id="S3.E2.m1.3.3.1.1.1.2.3" xref="S3.E2.m1.3.3.1.1.1.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.2.3.2" xref="S3.E2.m1.3.3.1.1.1.2.3.2.cmml">k</mi><mo id="S3.E2.m1.3.3.1.1.1.2.3.1" xref="S3.E2.m1.3.3.1.1.1.2.3.1.cmml">∈</mo><msub id="S3.E2.m1.3.3.1.1.1.2.3.3" xref="S3.E2.m1.3.3.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.3.3.1.1.1.2.3.3.2" xref="S3.E2.m1.3.3.1.1.1.2.3.3.2.cmml">𝒮</mi><mi id="S3.E2.m1.3.3.1.1.1.2.3.3.3" xref="S3.E2.m1.3.3.1.1.1.2.3.3.3.cmml">t</mi></msub></mrow></munder><mrow id="S3.E2.m1.3.3.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.cmml"><mfrac id="S3.E2.m1.3.3.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.3.cmml"><msub id="S3.E2.m1.3.3.1.1.1.1.3.2" xref="S3.E2.m1.3.3.1.1.1.1.3.2.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.3.2.2" xref="S3.E2.m1.3.3.1.1.1.1.3.2.2.cmml">n</mi><mi id="S3.E2.m1.3.3.1.1.1.1.3.2.3" xref="S3.E2.m1.3.3.1.1.1.1.3.2.3.cmml">k</mi></msub><mi id="S3.E2.m1.3.3.1.1.1.1.3.3" xref="S3.E2.m1.3.3.1.1.1.1.3.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.E2.m1.3.3.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.3.3.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.3.3.1.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S3.E2.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">w</mi><mrow id="S3.E2.m1.2.2.2.4" xref="S3.E2.m1.2.2.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">t</mi><mo id="S3.E2.m1.2.2.2.4.1" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">k</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E2.m1.3.3.1.1.1.1.1.1.3" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.3b"><apply id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3"><ci id="S3.E2.m1.3.3.2.cmml" xref="S3.E2.m1.3.3.2">←</ci><apply id="S3.E2.m1.3.3.3.cmml" xref="S3.E2.m1.3.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.3.1.cmml" xref="S3.E2.m1.3.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.3.2.cmml" xref="S3.E2.m1.3.3.3.2">𝑤</ci><ci id="S3.E2.m1.3.3.3.3.cmml" xref="S3.E2.m1.3.3.3.3">𝑡</ci></apply><apply id="S3.E2.m1.3.3.1.cmml" xref="S3.E2.m1.3.3.1"><minus id="S3.E2.m1.3.3.1.2.cmml" xref="S3.E2.m1.3.3.1.2"></minus><apply id="S3.E2.m1.3.3.1.3.cmml" xref="S3.E2.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.3.1.cmml" xref="S3.E2.m1.3.3.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.3.2.cmml" xref="S3.E2.m1.3.3.1.3.2">𝑤</ci><apply id="S3.E2.m1.3.3.1.3.3.cmml" xref="S3.E2.m1.3.3.1.3.3"><minus id="S3.E2.m1.3.3.1.3.3.1.cmml" xref="S3.E2.m1.3.3.1.3.3.1"></minus><ci id="S3.E2.m1.3.3.1.3.3.2.cmml" xref="S3.E2.m1.3.3.1.3.3.2">𝑡</ci><cn type="integer" id="S3.E2.m1.3.3.1.3.3.3.cmml" xref="S3.E2.m1.3.3.1.3.3.3">1</cn></apply></apply><apply id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1.1"><times id="S3.E2.m1.3.3.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.2"></times><apply id="S3.E2.m1.3.3.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.2">𝜂</ci><apply id="S3.E2.m1.3.3.1.1.3.3.cmml" xref="S3.E2.m1.3.3.1.1.3.3"><times id="S3.E2.m1.3.3.1.1.3.3.1.cmml" xref="S3.E2.m1.3.3.1.1.3.3.1"></times><ci id="S3.E2.m1.3.3.1.1.3.3.2.cmml" xref="S3.E2.m1.3.3.1.1.3.3.2">𝑔</ci><ci id="S3.E2.m1.3.3.1.1.3.3.3.cmml" xref="S3.E2.m1.3.3.1.1.3.3.3">𝑙</ci><ci id="S3.E2.m1.3.3.1.1.3.3.4.cmml" xref="S3.E2.m1.3.3.1.1.3.3.4">𝑜</ci><ci id="S3.E2.m1.3.3.1.1.3.3.5.cmml" xref="S3.E2.m1.3.3.1.1.3.3.5">𝑏</ci><ci id="S3.E2.m1.3.3.1.1.3.3.6.cmml" xref="S3.E2.m1.3.3.1.1.3.3.6">𝑎</ci><ci id="S3.E2.m1.3.3.1.1.3.3.7.cmml" xref="S3.E2.m1.3.3.1.1.3.3.7">𝑙</ci></apply></apply><apply id="S3.E2.m1.3.3.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1"><apply id="S3.E2.m1.3.3.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.2">subscript</csymbol><sum id="S3.E2.m1.3.3.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.1.1.1.2.2"></sum><apply id="S3.E2.m1.3.3.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3"><in id="S3.E2.m1.3.3.1.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.1"></in><ci id="S3.E2.m1.3.3.1.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.2">𝑘</ci><apply id="S3.E2.m1.3.3.1.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.2.3.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.2.3.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.3.2">𝒮</ci><ci id="S3.E2.m1.3.3.1.1.1.2.3.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E2.m1.3.3.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1"><times id="S3.E2.m1.3.3.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.2"></times><apply id="S3.E2.m1.3.3.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3"><divide id="S3.E2.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3"></divide><apply id="S3.E2.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.2.2">𝑛</ci><ci id="S3.E2.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.2.3">𝑘</ci></apply><ci id="S3.E2.m1.3.3.1.1.1.1.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1"><minus id="S3.E2.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.1"></minus><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3"><minus id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.1"></minus><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.3.3.1.1.1.1.1.1.1.3.2">𝑤</ci><list id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.4"><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑡</ci><ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">𝑘</ci></list></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.3c">w_{t}\leftarrow w_{t-1}-\eta_{global}\sum_{k\in\mathcal{S}_{t}}\frac{n_{k}}{n}(w_{t-1}-w_{t,k})</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.p7" class="ltx_para">
<p id="S3.p7.6" class="ltx_p">Setting the global update rate <math id="S3.p7.1.m1.1" class="ltx_Math" alttext="\eta_{global}" display="inline"><semantics id="S3.p7.1.m1.1a"><msub id="S3.p7.1.m1.1.1" xref="S3.p7.1.m1.1.1.cmml"><mi id="S3.p7.1.m1.1.1.2" xref="S3.p7.1.m1.1.1.2.cmml">η</mi><mrow id="S3.p7.1.m1.1.1.3" xref="S3.p7.1.m1.1.1.3.cmml"><mi id="S3.p7.1.m1.1.1.3.2" xref="S3.p7.1.m1.1.1.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S3.p7.1.m1.1.1.3.1" xref="S3.p7.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p7.1.m1.1.1.3.3" xref="S3.p7.1.m1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S3.p7.1.m1.1.1.3.1a" xref="S3.p7.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p7.1.m1.1.1.3.4" xref="S3.p7.1.m1.1.1.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.p7.1.m1.1.1.3.1b" xref="S3.p7.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p7.1.m1.1.1.3.5" xref="S3.p7.1.m1.1.1.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S3.p7.1.m1.1.1.3.1c" xref="S3.p7.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p7.1.m1.1.1.3.6" xref="S3.p7.1.m1.1.1.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S3.p7.1.m1.1.1.3.1d" xref="S3.p7.1.m1.1.1.3.1.cmml">​</mo><mi id="S3.p7.1.m1.1.1.3.7" xref="S3.p7.1.m1.1.1.3.7.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p7.1.m1.1b"><apply id="S3.p7.1.m1.1.1.cmml" xref="S3.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p7.1.m1.1.1.1.cmml" xref="S3.p7.1.m1.1.1">subscript</csymbol><ci id="S3.p7.1.m1.1.1.2.cmml" xref="S3.p7.1.m1.1.1.2">𝜂</ci><apply id="S3.p7.1.m1.1.1.3.cmml" xref="S3.p7.1.m1.1.1.3"><times id="S3.p7.1.m1.1.1.3.1.cmml" xref="S3.p7.1.m1.1.1.3.1"></times><ci id="S3.p7.1.m1.1.1.3.2.cmml" xref="S3.p7.1.m1.1.1.3.2">𝑔</ci><ci id="S3.p7.1.m1.1.1.3.3.cmml" xref="S3.p7.1.m1.1.1.3.3">𝑙</ci><ci id="S3.p7.1.m1.1.1.3.4.cmml" xref="S3.p7.1.m1.1.1.3.4">𝑜</ci><ci id="S3.p7.1.m1.1.1.3.5.cmml" xref="S3.p7.1.m1.1.1.3.5">𝑏</ci><ci id="S3.p7.1.m1.1.1.3.6.cmml" xref="S3.p7.1.m1.1.1.3.6">𝑎</ci><ci id="S3.p7.1.m1.1.1.3.7.cmml" xref="S3.p7.1.m1.1.1.3.7">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.1.m1.1c">\eta_{global}</annotation></semantics></math> to 1 is equivalent to a weighted averaging case without moving average. Equation <a href="#S3.E2" title="In 3 Federated optimization ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> highlights the parallel between global averaging and a gradient update <math id="S3.p7.2.m2.3" class="ltx_Math" alttext="\mathcal{G}_{t}=\sum_{k\in\mathcal{S}_{t}}\frac{n_{k}}{n}(w_{t-1}-w_{t,k})" display="inline"><semantics id="S3.p7.2.m2.3a"><mrow id="S3.p7.2.m2.3.3" xref="S3.p7.2.m2.3.3.cmml"><msub id="S3.p7.2.m2.3.3.3" xref="S3.p7.2.m2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p7.2.m2.3.3.3.2" xref="S3.p7.2.m2.3.3.3.2.cmml">𝒢</mi><mi id="S3.p7.2.m2.3.3.3.3" xref="S3.p7.2.m2.3.3.3.3.cmml">t</mi></msub><mo rspace="0.111em" id="S3.p7.2.m2.3.3.2" xref="S3.p7.2.m2.3.3.2.cmml">=</mo><mrow id="S3.p7.2.m2.3.3.1" xref="S3.p7.2.m2.3.3.1.cmml"><msub id="S3.p7.2.m2.3.3.1.2" xref="S3.p7.2.m2.3.3.1.2.cmml"><mo id="S3.p7.2.m2.3.3.1.2.2" xref="S3.p7.2.m2.3.3.1.2.2.cmml">∑</mo><mrow id="S3.p7.2.m2.3.3.1.2.3" xref="S3.p7.2.m2.3.3.1.2.3.cmml"><mi id="S3.p7.2.m2.3.3.1.2.3.2" xref="S3.p7.2.m2.3.3.1.2.3.2.cmml">k</mi><mo id="S3.p7.2.m2.3.3.1.2.3.1" xref="S3.p7.2.m2.3.3.1.2.3.1.cmml">∈</mo><msub id="S3.p7.2.m2.3.3.1.2.3.3" xref="S3.p7.2.m2.3.3.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p7.2.m2.3.3.1.2.3.3.2" xref="S3.p7.2.m2.3.3.1.2.3.3.2.cmml">𝒮</mi><mi id="S3.p7.2.m2.3.3.1.2.3.3.3" xref="S3.p7.2.m2.3.3.1.2.3.3.3.cmml">t</mi></msub></mrow></msub><mrow id="S3.p7.2.m2.3.3.1.1" xref="S3.p7.2.m2.3.3.1.1.cmml"><mfrac id="S3.p7.2.m2.3.3.1.1.3" xref="S3.p7.2.m2.3.3.1.1.3.cmml"><msub id="S3.p7.2.m2.3.3.1.1.3.2" xref="S3.p7.2.m2.3.3.1.1.3.2.cmml"><mi id="S3.p7.2.m2.3.3.1.1.3.2.2" xref="S3.p7.2.m2.3.3.1.1.3.2.2.cmml">n</mi><mi id="S3.p7.2.m2.3.3.1.1.3.2.3" xref="S3.p7.2.m2.3.3.1.1.3.2.3.cmml">k</mi></msub><mi id="S3.p7.2.m2.3.3.1.1.3.3" xref="S3.p7.2.m2.3.3.1.1.3.3.cmml">n</mi></mfrac><mo lspace="0em" rspace="0em" id="S3.p7.2.m2.3.3.1.1.2" xref="S3.p7.2.m2.3.3.1.1.2.cmml">​</mo><mrow id="S3.p7.2.m2.3.3.1.1.1.1" xref="S3.p7.2.m2.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.p7.2.m2.3.3.1.1.1.1.2" xref="S3.p7.2.m2.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S3.p7.2.m2.3.3.1.1.1.1.1" xref="S3.p7.2.m2.3.3.1.1.1.1.1.cmml"><msub id="S3.p7.2.m2.3.3.1.1.1.1.1.2" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.cmml"><mi id="S3.p7.2.m2.3.3.1.1.1.1.1.2.2" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.2.cmml">w</mi><mrow id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.cmml"><mi id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.2" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.1" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.3" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="S3.p7.2.m2.3.3.1.1.1.1.1.1" xref="S3.p7.2.m2.3.3.1.1.1.1.1.1.cmml">−</mo><msub id="S3.p7.2.m2.3.3.1.1.1.1.1.3" xref="S3.p7.2.m2.3.3.1.1.1.1.1.3.cmml"><mi id="S3.p7.2.m2.3.3.1.1.1.1.1.3.2" xref="S3.p7.2.m2.3.3.1.1.1.1.1.3.2.cmml">w</mi><mrow id="S3.p7.2.m2.2.2.2.4" xref="S3.p7.2.m2.2.2.2.3.cmml"><mi id="S3.p7.2.m2.1.1.1.1" xref="S3.p7.2.m2.1.1.1.1.cmml">t</mi><mo id="S3.p7.2.m2.2.2.2.4.1" xref="S3.p7.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.p7.2.m2.2.2.2.2" xref="S3.p7.2.m2.2.2.2.2.cmml">k</mi></mrow></msub></mrow><mo stretchy="false" id="S3.p7.2.m2.3.3.1.1.1.1.3" xref="S3.p7.2.m2.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p7.2.m2.3b"><apply id="S3.p7.2.m2.3.3.cmml" xref="S3.p7.2.m2.3.3"><eq id="S3.p7.2.m2.3.3.2.cmml" xref="S3.p7.2.m2.3.3.2"></eq><apply id="S3.p7.2.m2.3.3.3.cmml" xref="S3.p7.2.m2.3.3.3"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.3.1.cmml" xref="S3.p7.2.m2.3.3.3">subscript</csymbol><ci id="S3.p7.2.m2.3.3.3.2.cmml" xref="S3.p7.2.m2.3.3.3.2">𝒢</ci><ci id="S3.p7.2.m2.3.3.3.3.cmml" xref="S3.p7.2.m2.3.3.3.3">𝑡</ci></apply><apply id="S3.p7.2.m2.3.3.1.cmml" xref="S3.p7.2.m2.3.3.1"><apply id="S3.p7.2.m2.3.3.1.2.cmml" xref="S3.p7.2.m2.3.3.1.2"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.1.2.1.cmml" xref="S3.p7.2.m2.3.3.1.2">subscript</csymbol><sum id="S3.p7.2.m2.3.3.1.2.2.cmml" xref="S3.p7.2.m2.3.3.1.2.2"></sum><apply id="S3.p7.2.m2.3.3.1.2.3.cmml" xref="S3.p7.2.m2.3.3.1.2.3"><in id="S3.p7.2.m2.3.3.1.2.3.1.cmml" xref="S3.p7.2.m2.3.3.1.2.3.1"></in><ci id="S3.p7.2.m2.3.3.1.2.3.2.cmml" xref="S3.p7.2.m2.3.3.1.2.3.2">𝑘</ci><apply id="S3.p7.2.m2.3.3.1.2.3.3.cmml" xref="S3.p7.2.m2.3.3.1.2.3.3"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.1.2.3.3.1.cmml" xref="S3.p7.2.m2.3.3.1.2.3.3">subscript</csymbol><ci id="S3.p7.2.m2.3.3.1.2.3.3.2.cmml" xref="S3.p7.2.m2.3.3.1.2.3.3.2">𝒮</ci><ci id="S3.p7.2.m2.3.3.1.2.3.3.3.cmml" xref="S3.p7.2.m2.3.3.1.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="S3.p7.2.m2.3.3.1.1.cmml" xref="S3.p7.2.m2.3.3.1.1"><times id="S3.p7.2.m2.3.3.1.1.2.cmml" xref="S3.p7.2.m2.3.3.1.1.2"></times><apply id="S3.p7.2.m2.3.3.1.1.3.cmml" xref="S3.p7.2.m2.3.3.1.1.3"><divide id="S3.p7.2.m2.3.3.1.1.3.1.cmml" xref="S3.p7.2.m2.3.3.1.1.3"></divide><apply id="S3.p7.2.m2.3.3.1.1.3.2.cmml" xref="S3.p7.2.m2.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.1.1.3.2.1.cmml" xref="S3.p7.2.m2.3.3.1.1.3.2">subscript</csymbol><ci id="S3.p7.2.m2.3.3.1.1.3.2.2.cmml" xref="S3.p7.2.m2.3.3.1.1.3.2.2">𝑛</ci><ci id="S3.p7.2.m2.3.3.1.1.3.2.3.cmml" xref="S3.p7.2.m2.3.3.1.1.3.2.3">𝑘</ci></apply><ci id="S3.p7.2.m2.3.3.1.1.3.3.cmml" xref="S3.p7.2.m2.3.3.1.1.3.3">𝑛</ci></apply><apply id="S3.p7.2.m2.3.3.1.1.1.1.1.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1"><minus id="S3.p7.2.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.1"></minus><apply id="S3.p7.2.m2.3.3.1.1.1.1.1.2.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.1.1.1.1.1.2.1.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2">subscript</csymbol><ci id="S3.p7.2.m2.3.3.1.1.1.1.1.2.2.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.2">𝑤</ci><apply id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3"><minus id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.1.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.1"></minus><ci id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.2.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.3.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.p7.2.m2.3.3.1.1.1.1.1.3.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p7.2.m2.3.3.1.1.1.1.1.3.1.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.3">subscript</csymbol><ci id="S3.p7.2.m2.3.3.1.1.1.1.1.3.2.cmml" xref="S3.p7.2.m2.3.3.1.1.1.1.1.3.2">𝑤</ci><list id="S3.p7.2.m2.2.2.2.3.cmml" xref="S3.p7.2.m2.2.2.2.4"><ci id="S3.p7.2.m2.1.1.1.1.cmml" xref="S3.p7.2.m2.1.1.1.1">𝑡</ci><ci id="S3.p7.2.m2.2.2.2.2.cmml" xref="S3.p7.2.m2.2.2.2.2">𝑘</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.2.m2.3c">\mathcal{G}_{t}=\sum_{k\in\mathcal{S}_{t}}\frac{n_{k}}{n}(w_{t-1}-w_{t,k})</annotation></semantics></math>. This parallel motivates the use of adaptive per-coordinate updates for <math id="S3.p7.3.m3.1" class="ltx_Math" alttext="\mathcal{G}_{t}" display="inline"><semantics id="S3.p7.3.m3.1a"><msub id="S3.p7.3.m3.1.1" xref="S3.p7.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p7.3.m3.1.1.2" xref="S3.p7.3.m3.1.1.2.cmml">𝒢</mi><mi id="S3.p7.3.m3.1.1.3" xref="S3.p7.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p7.3.m3.1b"><apply id="S3.p7.3.m3.1.1.cmml" xref="S3.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p7.3.m3.1.1.1.cmml" xref="S3.p7.3.m3.1.1">subscript</csymbol><ci id="S3.p7.3.m3.1.1.2.cmml" xref="S3.p7.3.m3.1.1.2">𝒢</ci><ci id="S3.p7.3.m3.1.1.3.cmml" xref="S3.p7.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.3.m3.1c">\mathcal{G}_{t}</annotation></semantics></math> that have proven successful for centralized deep neural networks optimization such as Adam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>. Moment-based averaging allows to smooth the averaged model by taking into account the previous rounds updates that were computed on different user subsets. We conjecture that the exponentially-decayed first and second order moments perform the same kind of regularization that occurs in the mini-batch gradient descent setting, where Adam has proven to be successful on a wide range of tasks with various neural-network based architectures. In this work, we set the exponential decay rates for the moment estimates to <math id="S3.p7.4.m4.1" class="ltx_Math" alttext="\beta_{1}=0.9" display="inline"><semantics id="S3.p7.4.m4.1a"><mrow id="S3.p7.4.m4.1.1" xref="S3.p7.4.m4.1.1.cmml"><msub id="S3.p7.4.m4.1.1.2" xref="S3.p7.4.m4.1.1.2.cmml"><mi id="S3.p7.4.m4.1.1.2.2" xref="S3.p7.4.m4.1.1.2.2.cmml">β</mi><mn id="S3.p7.4.m4.1.1.2.3" xref="S3.p7.4.m4.1.1.2.3.cmml">1</mn></msub><mo id="S3.p7.4.m4.1.1.1" xref="S3.p7.4.m4.1.1.1.cmml">=</mo><mn id="S3.p7.4.m4.1.1.3" xref="S3.p7.4.m4.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p7.4.m4.1b"><apply id="S3.p7.4.m4.1.1.cmml" xref="S3.p7.4.m4.1.1"><eq id="S3.p7.4.m4.1.1.1.cmml" xref="S3.p7.4.m4.1.1.1"></eq><apply id="S3.p7.4.m4.1.1.2.cmml" xref="S3.p7.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.p7.4.m4.1.1.2.1.cmml" xref="S3.p7.4.m4.1.1.2">subscript</csymbol><ci id="S3.p7.4.m4.1.1.2.2.cmml" xref="S3.p7.4.m4.1.1.2.2">𝛽</ci><cn type="integer" id="S3.p7.4.m4.1.1.2.3.cmml" xref="S3.p7.4.m4.1.1.2.3">1</cn></apply><cn type="float" id="S3.p7.4.m4.1.1.3.cmml" xref="S3.p7.4.m4.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.4.m4.1c">\beta_{1}=0.9</annotation></semantics></math> and <math id="S3.p7.5.m5.1" class="ltx_Math" alttext="\beta_{2}=0.999" display="inline"><semantics id="S3.p7.5.m5.1a"><mrow id="S3.p7.5.m5.1.1" xref="S3.p7.5.m5.1.1.cmml"><msub id="S3.p7.5.m5.1.1.2" xref="S3.p7.5.m5.1.1.2.cmml"><mi id="S3.p7.5.m5.1.1.2.2" xref="S3.p7.5.m5.1.1.2.2.cmml">β</mi><mn id="S3.p7.5.m5.1.1.2.3" xref="S3.p7.5.m5.1.1.2.3.cmml">2</mn></msub><mo id="S3.p7.5.m5.1.1.1" xref="S3.p7.5.m5.1.1.1.cmml">=</mo><mn id="S3.p7.5.m5.1.1.3" xref="S3.p7.5.m5.1.1.3.cmml">0.999</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p7.5.m5.1b"><apply id="S3.p7.5.m5.1.1.cmml" xref="S3.p7.5.m5.1.1"><eq id="S3.p7.5.m5.1.1.1.cmml" xref="S3.p7.5.m5.1.1.1"></eq><apply id="S3.p7.5.m5.1.1.2.cmml" xref="S3.p7.5.m5.1.1.2"><csymbol cd="ambiguous" id="S3.p7.5.m5.1.1.2.1.cmml" xref="S3.p7.5.m5.1.1.2">subscript</csymbol><ci id="S3.p7.5.m5.1.1.2.2.cmml" xref="S3.p7.5.m5.1.1.2.2">𝛽</ci><cn type="integer" id="S3.p7.5.m5.1.1.2.3.cmml" xref="S3.p7.5.m5.1.1.2.3">2</cn></apply><cn type="float" id="S3.p7.5.m5.1.1.3.cmml" xref="S3.p7.5.m5.1.1.3">0.999</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.5.m5.1c">\beta_{2}=0.999</annotation></semantics></math> and <math id="S3.p7.6.m6.1" class="ltx_Math" alttext="\epsilon=10^{-8}" display="inline"><semantics id="S3.p7.6.m6.1a"><mrow id="S3.p7.6.m6.1.1" xref="S3.p7.6.m6.1.1.cmml"><mi id="S3.p7.6.m6.1.1.2" xref="S3.p7.6.m6.1.1.2.cmml">ϵ</mi><mo id="S3.p7.6.m6.1.1.1" xref="S3.p7.6.m6.1.1.1.cmml">=</mo><msup id="S3.p7.6.m6.1.1.3" xref="S3.p7.6.m6.1.1.3.cmml"><mn id="S3.p7.6.m6.1.1.3.2" xref="S3.p7.6.m6.1.1.3.2.cmml">10</mn><mrow id="S3.p7.6.m6.1.1.3.3" xref="S3.p7.6.m6.1.1.3.3.cmml"><mo id="S3.p7.6.m6.1.1.3.3a" xref="S3.p7.6.m6.1.1.3.3.cmml">−</mo><mn id="S3.p7.6.m6.1.1.3.3.2" xref="S3.p7.6.m6.1.1.3.3.2.cmml">8</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p7.6.m6.1b"><apply id="S3.p7.6.m6.1.1.cmml" xref="S3.p7.6.m6.1.1"><eq id="S3.p7.6.m6.1.1.1.cmml" xref="S3.p7.6.m6.1.1.1"></eq><ci id="S3.p7.6.m6.1.1.2.cmml" xref="S3.p7.6.m6.1.1.2">italic-ϵ</ci><apply id="S3.p7.6.m6.1.1.3.cmml" xref="S3.p7.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.p7.6.m6.1.1.3.1.cmml" xref="S3.p7.6.m6.1.1.3">superscript</csymbol><cn type="integer" id="S3.p7.6.m6.1.1.3.2.cmml" xref="S3.p7.6.m6.1.1.3.2">10</cn><apply id="S3.p7.6.m6.1.1.3.3.cmml" xref="S3.p7.6.m6.1.1.3.3"><minus id="S3.p7.6.m6.1.1.3.3.1.cmml" xref="S3.p7.6.m6.1.1.3.3"></minus><cn type="integer" id="S3.p7.6.m6.1.1.3.3.2.cmml" xref="S3.p7.6.m6.1.1.3.3.2">8</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.6.m6.1c">\epsilon=10^{-8}</annotation></semantics></math> as initially suggested by the authors of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.</p>
</div>
<div id="S3.p8" class="ltx_para">
<p id="S3.p8.1" class="ltx_p">In the federated setting, model evaluation is also done in a distributed fashion on a set of users that are kept specifically for this purpose. Model metrics are averaged on the <span id="S3.p8.1.1" class="ltx_text ltx_font_italic">parameter server</span> with a similar weighting scheme as parameter averaging.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Dataset</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Unlike generic speech recognition tasks, there is no reference dataset for wake word detection. The reference dataset for multi-class keyword spotting is the speech command dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>, but the speech command task is generally preceded by a wake word detector and is focused on minimizing the confusion across classes, not robustness to false alarms. We constituted a crowdsourced dataset for the <span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_italic">Hey Snips</span> wake word. We are releasing publicly <span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">http://research.snips.ai/datasets/keyword-spotting</span></span></span></span> this dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> in the hope it can be useful to the keyword spotting community.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<table id="S4.T1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.2.1.1" class="ltx_tr">
<th id="S4.T1.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">Train set</th>
<th id="S4.T1.2.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">Dev set</th>
<th id="S4.T1.2.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t">Test set</th>
<th id="S4.T1.2.1.1.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t">Total</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.2.2.1" class="ltx_tr">
<td id="S4.T1.2.2.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">1,374 users</td>
<td id="S4.T1.2.2.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">200 users</td>
<td id="S4.T1.2.2.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">200 users</td>
<td id="S4.T1.2.2.1.4" class="ltx_td ltx_align_left ltx_border_t">1774 users</td>
</tr>
<tr id="S4.T1.2.3.2" class="ltx_tr">
<td id="S4.T1.2.3.2.1" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">53,991 utt.</td>
<td id="S4.T1.2.3.2.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">8,337 utt.</td>
<td id="S4.T1.2.3.2.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r">7,854 utt.</td>
<td id="S4.T1.2.3.2.4" class="ltx_td ltx_align_left ltx_border_b">69,582 utt.</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.5.1.1" class="ltx_text ltx_font_bold">Table 1</span>: </span>Dataset statistics for the <span id="S4.T1.6.2" class="ltx_text ltx_font_italic">Hey Snips</span> wake word - 18% of utterances are positive, with strong per user imbalance in the number of utterances <span id="S4.T1.7.3" class="ltx_text ltx_font_italic">(mean: 39, standard dev: 32)</span></figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">The data used here was collected from 1.8k contributors that recorded themselves on their device with their own microphone while saying several occurrences of the <span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_italic">Hey Snips</span> wake word along with negative short sentences from various text sources (e.g. subtitles).</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">This crowdsourcing-induced data distribution mimicks a real-world non-i.i.d, unbalanced and highly distributed setting, and a parallel is therefore drawn in the following work between a crowdsourcing contributor and a voice assistant user. The statistics about the dataset comforting this analogy are summarized in Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Dataset ‣ 4 Experiments ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The train, dev and test splits are built purposely using distinct users, 77% of users being used solely for training while the remaining are used for parameter tuning and final evaluation, measuring the generalization power of the model to new users.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Model</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Acoustic features are generated based on 40-dimensional mel-frequency cepstrum coefficients (MFCC) computed every 10ms over a window of 25ms. The input window consists in 32 stacked frames, symmetrically distributed in left and right contexts. The architecture is a CNN with 5 stacked dilated convolutional layers of increasing dilation rate, followed by two fully-connected layers and a softmax inspired from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. The total number of parameters is 190,852, initialized using Xavier initialization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. The model is trained using cross-entropy loss on frames prediction. The neural network has 4 output labels, assigned via a custom aligner specialized on the target utterance “Hey Snips”: “Hey”, “sni”, “ps”, and “filler” that accounts for all other cases (silence, noise and other words). A posterior handling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> generates a confidence score for every frame by combining the smoothed label posteriors. The model triggers if the confidence score reaches a certain threshold <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\tau</annotation></semantics></math>, defining the operating point that maximizes recall for a certain amount of False Alarms per Hour (FAH). We set the number of false alarms per hour to 5 as a stopping criterion on the dev set. The dev set is a “hard” dataset when it comes to false alarms since it belongs to the same domain as data used for training. The model recall is finally evaluated on the test set positive data, while false alarms are computed on both the test set negative data and various background negative audio sets. See section <a href="#S4.SS3" title="4.3 Results ‣ 4 Experiments ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a> for further details about evaluation.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Results</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We conduct an extensive empirical study of the federated averaging algorithm for the <span id="S4.SS3.p1.1.1" class="ltx_text ltx_font_italic">Hey Snips</span> wake word based on crowdsourced data from Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Dataset ‣ 4 Experiments ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Federated optimization results are compared with a <span id="S4.SS3.p1.1.2" class="ltx_text ltx_font_italic">standard setting</span> e.g. centralized mini-batch SGD with data from train set users being randomly shuffled. Our aim is to evaluate the number of communication rounds that are required in order to reach our stopping criterion on the dev set. For the purpose of this experiment early stopping is evaluated in a centralized fashion, and we assume that the dev set users agreed to share their data with the parameter server. In an actual product setting, early stopping estimation would be run locally on the devices of the dev users, they would download the latest version of the central model at the end of each round and evaluate the early stopping criterion based on prediction scores for their own utterances. These individual metrics would then be averaged by the parameter server to obtain the global model criterion estimation. Final evaluation on test users would be done in the same distributed fashion once training is finished.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Standard baseline</span>: Our baseline e.g. a standard centralized data setting with a single training server and the Adam optimizer reaches the early stopping target in 400 steps (<math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="\sim 2" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mrow id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml"></mi><mo id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">∼</mo><mn id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><csymbol cd="latexml" id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\sim 2</annotation></semantics></math> epochs) and is considered as our upper bound of performance. Adam provides a strong convergence speedup in comparison with standard SGD that remains under 87% after 28 epochs despite learning rate and gradient clipping tuning on the dev set.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">User parallelism</span>: The higher the ratio of users selected at each round <span id="S4.SS3.p3.1.2" class="ltx_text ltx_font_italic">C</span>, the more data is used for distributed local training, and the faster the convergence is expected, assuming that local training does not diverge too much. Figure <a href="#S4.F1" title="Figure 1 ‣ 4.3 Results ‣ 4 Experiments ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows the impact of <span id="S4.SS3.p3.1.3" class="ltx_text ltx_font_italic">C</span> on convergence: the gain of using half of users is limited with comparison with using 10%, specifically in the later stages of convergence. A fraction of 10% of users per round is also more realistic in a practical setup as selected users have to be online. With lower participation ratios (<math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="C=1\%" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mrow id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mi id="S4.SS3.p3.1.m1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.2.cmml">C</mi><mo id="S4.SS3.p3.1.m1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.cmml">=</mo><mrow id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml"><mn id="S4.SS3.p3.1.m1.1.1.3.2" xref="S4.SS3.p3.1.m1.1.1.3.2.cmml">1</mn><mo id="S4.SS3.p3.1.m1.1.1.3.1" xref="S4.SS3.p3.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><eq id="S4.SS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1"></eq><ci id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2">𝐶</ci><apply id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3"><csymbol cd="latexml" id="S4.SS3.p3.1.m1.1.1.3.1.cmml" xref="S4.SS3.p3.1.m1.1.1.3.1">percent</csymbol><cn type="integer" id="S4.SS3.p3.1.m1.1.1.3.2.cmml" xref="S4.SS3.p3.1.m1.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">C=1\%</annotation></semantics></math>), the gradients are much more sensitive and might require the use of learning rate smoothing strategy. <span id="S4.SS3.p3.1.4" class="ltx_text ltx_font_italic">C</span> is therefore set to 10%.</p>
</div>
<figure id="S4.F1" class="ltx_figure"><img src="/html/1810.05512/assets/images/recall_fl_amt_c_search.png" id="S4.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="334" height="257" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F1.6.1.1" class="ltx_text ltx_font_bold">Fig. 1</span>: </span>Effect of the share of users involved in each round <span id="S4.F1.7.2" class="ltx_text ltx_font_italic">C</span> on the dev set recall / 5 FAH, <span id="S4.F1.8.3" class="ltx_text ltx_font_italic">FedSGD</span>, Adam global averaging, <math id="S4.F1.2.m1.2" class="ltx_Math" alttext="\eta_{global}=0.001,\eta_{local}=0.01" display="inline"><semantics id="S4.F1.2.m1.2b"><mrow id="S4.F1.2.m1.2.2.2" xref="S4.F1.2.m1.2.2.3.cmml"><mrow id="S4.F1.2.m1.1.1.1.1" xref="S4.F1.2.m1.1.1.1.1.cmml"><msub id="S4.F1.2.m1.1.1.1.1.2" xref="S4.F1.2.m1.1.1.1.1.2.cmml"><mi id="S4.F1.2.m1.1.1.1.1.2.2" xref="S4.F1.2.m1.1.1.1.1.2.2.cmml">η</mi><mrow id="S4.F1.2.m1.1.1.1.1.2.3" xref="S4.F1.2.m1.1.1.1.1.2.3.cmml"><mi id="S4.F1.2.m1.1.1.1.1.2.3.2" xref="S4.F1.2.m1.1.1.1.1.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.1.1.1.1.2.3.1" xref="S4.F1.2.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.1.1.1.1.2.3.3" xref="S4.F1.2.m1.1.1.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.1.1.1.1.2.3.1b" xref="S4.F1.2.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.1.1.1.1.2.3.4" xref="S4.F1.2.m1.1.1.1.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.1.1.1.1.2.3.1c" xref="S4.F1.2.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.1.1.1.1.2.3.5" xref="S4.F1.2.m1.1.1.1.1.2.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.1.1.1.1.2.3.1d" xref="S4.F1.2.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.1.1.1.1.2.3.6" xref="S4.F1.2.m1.1.1.1.1.2.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.1.1.1.1.2.3.1e" xref="S4.F1.2.m1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.1.1.1.1.2.3.7" xref="S4.F1.2.m1.1.1.1.1.2.3.7.cmml">l</mi></mrow></msub><mo id="S4.F1.2.m1.1.1.1.1.1" xref="S4.F1.2.m1.1.1.1.1.1.cmml">=</mo><mn id="S4.F1.2.m1.1.1.1.1.3" xref="S4.F1.2.m1.1.1.1.1.3.cmml">0.001</mn></mrow><mo id="S4.F1.2.m1.2.2.2.3" xref="S4.F1.2.m1.2.2.3a.cmml">,</mo><mrow id="S4.F1.2.m1.2.2.2.2" xref="S4.F1.2.m1.2.2.2.2.cmml"><msub id="S4.F1.2.m1.2.2.2.2.2" xref="S4.F1.2.m1.2.2.2.2.2.cmml"><mi id="S4.F1.2.m1.2.2.2.2.2.2" xref="S4.F1.2.m1.2.2.2.2.2.2.cmml">η</mi><mrow id="S4.F1.2.m1.2.2.2.2.2.3" xref="S4.F1.2.m1.2.2.2.2.2.3.cmml"><mi id="S4.F1.2.m1.2.2.2.2.2.3.2" xref="S4.F1.2.m1.2.2.2.2.2.3.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.2.2.2.2.2.3.1" xref="S4.F1.2.m1.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.2.2.2.2.2.3.3" xref="S4.F1.2.m1.2.2.2.2.2.3.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.2.2.2.2.2.3.1b" xref="S4.F1.2.m1.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.2.2.2.2.2.3.4" xref="S4.F1.2.m1.2.2.2.2.2.3.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.2.2.2.2.2.3.1c" xref="S4.F1.2.m1.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.2.2.2.2.2.3.5" xref="S4.F1.2.m1.2.2.2.2.2.3.5.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.F1.2.m1.2.2.2.2.2.3.1d" xref="S4.F1.2.m1.2.2.2.2.2.3.1.cmml">​</mo><mi id="S4.F1.2.m1.2.2.2.2.2.3.6" xref="S4.F1.2.m1.2.2.2.2.2.3.6.cmml">l</mi></mrow></msub><mo id="S4.F1.2.m1.2.2.2.2.1" xref="S4.F1.2.m1.2.2.2.2.1.cmml">=</mo><mn id="S4.F1.2.m1.2.2.2.2.3" xref="S4.F1.2.m1.2.2.2.2.3.cmml">0.01</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F1.2.m1.2c"><apply id="S4.F1.2.m1.2.2.3.cmml" xref="S4.F1.2.m1.2.2.2"><csymbol cd="ambiguous" id="S4.F1.2.m1.2.2.3a.cmml" xref="S4.F1.2.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S4.F1.2.m1.1.1.1.1.cmml" xref="S4.F1.2.m1.1.1.1.1"><eq id="S4.F1.2.m1.1.1.1.1.1.cmml" xref="S4.F1.2.m1.1.1.1.1.1"></eq><apply id="S4.F1.2.m1.1.1.1.1.2.cmml" xref="S4.F1.2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.F1.2.m1.1.1.1.1.2.1.cmml" xref="S4.F1.2.m1.1.1.1.1.2">subscript</csymbol><ci id="S4.F1.2.m1.1.1.1.1.2.2.cmml" xref="S4.F1.2.m1.1.1.1.1.2.2">𝜂</ci><apply id="S4.F1.2.m1.1.1.1.1.2.3.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3"><times id="S4.F1.2.m1.1.1.1.1.2.3.1.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.1"></times><ci id="S4.F1.2.m1.1.1.1.1.2.3.2.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.2">𝑔</ci><ci id="S4.F1.2.m1.1.1.1.1.2.3.3.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.3">𝑙</ci><ci id="S4.F1.2.m1.1.1.1.1.2.3.4.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.4">𝑜</ci><ci id="S4.F1.2.m1.1.1.1.1.2.3.5.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.5">𝑏</ci><ci id="S4.F1.2.m1.1.1.1.1.2.3.6.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.6">𝑎</ci><ci id="S4.F1.2.m1.1.1.1.1.2.3.7.cmml" xref="S4.F1.2.m1.1.1.1.1.2.3.7">𝑙</ci></apply></apply><cn type="float" id="S4.F1.2.m1.1.1.1.1.3.cmml" xref="S4.F1.2.m1.1.1.1.1.3">0.001</cn></apply><apply id="S4.F1.2.m1.2.2.2.2.cmml" xref="S4.F1.2.m1.2.2.2.2"><eq id="S4.F1.2.m1.2.2.2.2.1.cmml" xref="S4.F1.2.m1.2.2.2.2.1"></eq><apply id="S4.F1.2.m1.2.2.2.2.2.cmml" xref="S4.F1.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.F1.2.m1.2.2.2.2.2.1.cmml" xref="S4.F1.2.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.F1.2.m1.2.2.2.2.2.2.cmml" xref="S4.F1.2.m1.2.2.2.2.2.2">𝜂</ci><apply id="S4.F1.2.m1.2.2.2.2.2.3.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3"><times id="S4.F1.2.m1.2.2.2.2.2.3.1.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.1"></times><ci id="S4.F1.2.m1.2.2.2.2.2.3.2.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.2">𝑙</ci><ci id="S4.F1.2.m1.2.2.2.2.2.3.3.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.3">𝑜</ci><ci id="S4.F1.2.m1.2.2.2.2.2.3.4.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.4">𝑐</ci><ci id="S4.F1.2.m1.2.2.2.2.2.3.5.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.5">𝑎</ci><ci id="S4.F1.2.m1.2.2.2.2.2.3.6.cmml" xref="S4.F1.2.m1.2.2.2.2.2.3.6">𝑙</ci></apply></apply><cn type="float" id="S4.F1.2.m1.2.2.2.2.3.cmml" xref="S4.F1.2.m1.2.2.2.2.3">0.01</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F1.2.m1.2d">\eta_{global}=0.001,\eta_{local}=0.01</annotation></semantics></math></figcaption>
</figure>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p"><span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">Global averaging</span>: Global adaptive learning rates based on Adam accelerates convergence when compared with standard averaging strategies with or without moving averages. Table <a href="#S4.T2" title="Table 2 ‣ 4.3 Results ‣ 4 Experiments ‣ Federated Learning for Keyword spotting" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> summarizes experimental results in the <span id="S4.SS3.p4.1.2" class="ltx_text ltx_font_italic">FedSGD</span> setting with optimized local learning rates. Applying standard global averaging yields poor performances even after 400 communication rounds when compared with adaptive per-parameter averaging.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<table id="S4.T2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.2.3.1" class="ltx_tr">
<th id="S4.T2.2.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Avg. Strategy</th>
<th id="S4.T2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">100 rounds</th>
<th id="S4.T2.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">400 rounds</th>
</tr>
<tr id="S4.T2.1.1" class="ltx_tr">
<th id="S4.T2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t"><math id="S4.T2.1.1.1.m1.1" class="ltx_Math" alttext="\eta_{global}=1.0" display="inline"><semantics id="S4.T2.1.1.1.m1.1a"><mrow id="S4.T2.1.1.1.m1.1.1" xref="S4.T2.1.1.1.m1.1.1.cmml"><msub id="S4.T2.1.1.1.m1.1.1.2" xref="S4.T2.1.1.1.m1.1.1.2.cmml"><mi id="S4.T2.1.1.1.m1.1.1.2.2" xref="S4.T2.1.1.1.m1.1.1.2.2.cmml">η</mi><mrow id="S4.T2.1.1.1.m1.1.1.2.3" xref="S4.T2.1.1.1.m1.1.1.2.3.cmml"><mi id="S4.T2.1.1.1.m1.1.1.2.3.2" xref="S4.T2.1.1.1.m1.1.1.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.T2.1.1.1.m1.1.1.2.3.1" xref="S4.T2.1.1.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.1.1.1.m1.1.1.2.3.3" xref="S4.T2.1.1.1.m1.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.T2.1.1.1.m1.1.1.2.3.1a" xref="S4.T2.1.1.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.1.1.1.m1.1.1.2.3.4" xref="S4.T2.1.1.1.m1.1.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.T2.1.1.1.m1.1.1.2.3.1b" xref="S4.T2.1.1.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.1.1.1.m1.1.1.2.3.5" xref="S4.T2.1.1.1.m1.1.1.2.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.T2.1.1.1.m1.1.1.2.3.1c" xref="S4.T2.1.1.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.1.1.1.m1.1.1.2.3.6" xref="S4.T2.1.1.1.m1.1.1.2.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.T2.1.1.1.m1.1.1.2.3.1d" xref="S4.T2.1.1.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.1.1.1.m1.1.1.2.3.7" xref="S4.T2.1.1.1.m1.1.1.2.3.7.cmml">l</mi></mrow></msub><mo id="S4.T2.1.1.1.m1.1.1.1" xref="S4.T2.1.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.1.1.1.m1.1.1.3" xref="S4.T2.1.1.1.m1.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.m1.1b"><apply id="S4.T2.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1"><eq id="S4.T2.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.m1.1.1.1"></eq><apply id="S4.T2.1.1.1.m1.1.1.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.m1.1.1.2.1.cmml" xref="S4.T2.1.1.1.m1.1.1.2">subscript</csymbol><ci id="S4.T2.1.1.1.m1.1.1.2.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2.2">𝜂</ci><apply id="S4.T2.1.1.1.m1.1.1.2.3.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3"><times id="S4.T2.1.1.1.m1.1.1.2.3.1.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.1"></times><ci id="S4.T2.1.1.1.m1.1.1.2.3.2.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.2">𝑔</ci><ci id="S4.T2.1.1.1.m1.1.1.2.3.3.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.3">𝑙</ci><ci id="S4.T2.1.1.1.m1.1.1.2.3.4.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.4">𝑜</ci><ci id="S4.T2.1.1.1.m1.1.1.2.3.5.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.5">𝑏</ci><ci id="S4.T2.1.1.1.m1.1.1.2.3.6.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.6">𝑎</ci><ci id="S4.T2.1.1.1.m1.1.1.2.3.7.cmml" xref="S4.T2.1.1.1.m1.1.1.2.3.7">𝑙</ci></apply></apply><cn type="float" id="S4.T2.1.1.1.m1.1.1.3.cmml" xref="S4.T2.1.1.1.m1.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.m1.1c">\eta_{global}=1.0</annotation></semantics></math></th>
<th id="S4.T2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">29.9%</th>
<th id="S4.T2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">67.3%</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.2.4.1" class="ltx_tr">
<th id="S4.T2.2.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Adam</th>
<td id="S4.T2.2.4.1.2" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S4.T2.2.4.1.3" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S4.T2.2.2" class="ltx_tr">
<th id="S4.T2.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><math id="S4.T2.2.2.1.m1.1" class="ltx_Math" alttext="\eta_{global}=0.001" display="inline"><semantics id="S4.T2.2.2.1.m1.1a"><mrow id="S4.T2.2.2.1.m1.1.1" xref="S4.T2.2.2.1.m1.1.1.cmml"><msub id="S4.T2.2.2.1.m1.1.1.2" xref="S4.T2.2.2.1.m1.1.1.2.cmml"><mi id="S4.T2.2.2.1.m1.1.1.2.2" xref="S4.T2.2.2.1.m1.1.1.2.2.cmml">η</mi><mrow id="S4.T2.2.2.1.m1.1.1.2.3" xref="S4.T2.2.2.1.m1.1.1.2.3.cmml"><mi id="S4.T2.2.2.1.m1.1.1.2.3.2" xref="S4.T2.2.2.1.m1.1.1.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.T2.2.2.1.m1.1.1.2.3.1" xref="S4.T2.2.2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.2.2.1.m1.1.1.2.3.3" xref="S4.T2.2.2.1.m1.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.T2.2.2.1.m1.1.1.2.3.1a" xref="S4.T2.2.2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.2.2.1.m1.1.1.2.3.4" xref="S4.T2.2.2.1.m1.1.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.T2.2.2.1.m1.1.1.2.3.1b" xref="S4.T2.2.2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.2.2.1.m1.1.1.2.3.5" xref="S4.T2.2.2.1.m1.1.1.2.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.T2.2.2.1.m1.1.1.2.3.1c" xref="S4.T2.2.2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.2.2.1.m1.1.1.2.3.6" xref="S4.T2.2.2.1.m1.1.1.2.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.T2.2.2.1.m1.1.1.2.3.1d" xref="S4.T2.2.2.1.m1.1.1.2.3.1.cmml">​</mo><mi id="S4.T2.2.2.1.m1.1.1.2.3.7" xref="S4.T2.2.2.1.m1.1.1.2.3.7.cmml">l</mi></mrow></msub><mo id="S4.T2.2.2.1.m1.1.1.1" xref="S4.T2.2.2.1.m1.1.1.1.cmml">=</mo><mn id="S4.T2.2.2.1.m1.1.1.3" xref="S4.T2.2.2.1.m1.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.1.m1.1b"><apply id="S4.T2.2.2.1.m1.1.1.cmml" xref="S4.T2.2.2.1.m1.1.1"><eq id="S4.T2.2.2.1.m1.1.1.1.cmml" xref="S4.T2.2.2.1.m1.1.1.1"></eq><apply id="S4.T2.2.2.1.m1.1.1.2.cmml" xref="S4.T2.2.2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.2.2.1.m1.1.1.2.1.cmml" xref="S4.T2.2.2.1.m1.1.1.2">subscript</csymbol><ci id="S4.T2.2.2.1.m1.1.1.2.2.cmml" xref="S4.T2.2.2.1.m1.1.1.2.2">𝜂</ci><apply id="S4.T2.2.2.1.m1.1.1.2.3.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3"><times id="S4.T2.2.2.1.m1.1.1.2.3.1.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.1"></times><ci id="S4.T2.2.2.1.m1.1.1.2.3.2.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.2">𝑔</ci><ci id="S4.T2.2.2.1.m1.1.1.2.3.3.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.3">𝑙</ci><ci id="S4.T2.2.2.1.m1.1.1.2.3.4.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.4">𝑜</ci><ci id="S4.T2.2.2.1.m1.1.1.2.3.5.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.5">𝑏</ci><ci id="S4.T2.2.2.1.m1.1.1.2.3.6.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.6">𝑎</ci><ci id="S4.T2.2.2.1.m1.1.1.2.3.7.cmml" xref="S4.T2.2.2.1.m1.1.1.2.3.7">𝑙</ci></apply></apply><cn type="float" id="S4.T2.2.2.1.m1.1.1.3.cmml" xref="S4.T2.2.2.1.m1.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.1.m1.1c">\eta_{global}=0.001</annotation></semantics></math></th>
<td id="S4.T2.2.2.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r">93.50%</td>
<td id="S4.T2.2.2.3" class="ltx_td ltx_align_center ltx_border_b">98.29%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.7.1.1" class="ltx_text ltx_font_bold">Table 2</span>: </span>
Dev set recall / 5 FAH for various averaging strategies - <span id="S4.T2.8.2" class="ltx_text ltx_font_italic">FedSGD</span>, <math id="S4.T2.4.m1.1" class="ltx_Math" alttext="\textit{C}=10\%" display="inline"><semantics id="S4.T2.4.m1.1b"><mrow id="S4.T2.4.m1.1.1" xref="S4.T2.4.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="S4.T2.4.m1.1.1.2" xref="S4.T2.4.m1.1.1.2a.cmml">C</mtext><mo id="S4.T2.4.m1.1.1.1" xref="S4.T2.4.m1.1.1.1.cmml">=</mo><mrow id="S4.T2.4.m1.1.1.3" xref="S4.T2.4.m1.1.1.3.cmml"><mn id="S4.T2.4.m1.1.1.3.2" xref="S4.T2.4.m1.1.1.3.2.cmml">10</mn><mo id="S4.T2.4.m1.1.1.3.1" xref="S4.T2.4.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.m1.1c"><apply id="S4.T2.4.m1.1.1.cmml" xref="S4.T2.4.m1.1.1"><eq id="S4.T2.4.m1.1.1.1.cmml" xref="S4.T2.4.m1.1.1.1"></eq><ci id="S4.T2.4.m1.1.1.2a.cmml" xref="S4.T2.4.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="S4.T2.4.m1.1.1.2.cmml" xref="S4.T2.4.m1.1.1.2">C</mtext></ci><apply id="S4.T2.4.m1.1.1.3.cmml" xref="S4.T2.4.m1.1.1.3"><csymbol cd="latexml" id="S4.T2.4.m1.1.1.3.1.cmml" xref="S4.T2.4.m1.1.1.3.1">percent</csymbol><cn type="integer" id="S4.T2.4.m1.1.1.3.2.cmml" xref="S4.T2.4.m1.1.1.3.2">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.m1.1d">\textit{C}=10\%</annotation></semantics></math>
</figcaption>
</figure>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.9" class="ltx_p"><span id="S4.SS3.p5.9.1" class="ltx_text ltx_font_bold">Local training</span>:
Our results show consistency across local training configurations, with limited improvements coming from increasing the load of local training. The number of communication rounds required to reach the stopping criterion on the dev set ranges between 63 and 112 communication rounds for <math id="S4.SS3.p5.1.m1.2" class="ltx_Math" alttext="\textit{E}\in[1,3]" display="inline"><semantics id="S4.SS3.p5.1.m1.2a"><mrow id="S4.SS3.p5.1.m1.2.3" xref="S4.SS3.p5.1.m1.2.3.cmml"><mtext class="ltx_mathvariant_italic" id="S4.SS3.p5.1.m1.2.3.2" xref="S4.SS3.p5.1.m1.2.3.2a.cmml">E</mtext><mo id="S4.SS3.p5.1.m1.2.3.1" xref="S4.SS3.p5.1.m1.2.3.1.cmml">∈</mo><mrow id="S4.SS3.p5.1.m1.2.3.3.2" xref="S4.SS3.p5.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.SS3.p5.1.m1.2.3.3.2.1" xref="S4.SS3.p5.1.m1.2.3.3.1.cmml">[</mo><mn id="S4.SS3.p5.1.m1.1.1" xref="S4.SS3.p5.1.m1.1.1.cmml">1</mn><mo id="S4.SS3.p5.1.m1.2.3.3.2.2" xref="S4.SS3.p5.1.m1.2.3.3.1.cmml">,</mo><mn id="S4.SS3.p5.1.m1.2.2" xref="S4.SS3.p5.1.m1.2.2.cmml">3</mn><mo stretchy="false" id="S4.SS3.p5.1.m1.2.3.3.2.3" xref="S4.SS3.p5.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.1.m1.2b"><apply id="S4.SS3.p5.1.m1.2.3.cmml" xref="S4.SS3.p5.1.m1.2.3"><in id="S4.SS3.p5.1.m1.2.3.1.cmml" xref="S4.SS3.p5.1.m1.2.3.1"></in><ci id="S4.SS3.p5.1.m1.2.3.2a.cmml" xref="S4.SS3.p5.1.m1.2.3.2"><mtext class="ltx_mathvariant_italic" id="S4.SS3.p5.1.m1.2.3.2.cmml" xref="S4.SS3.p5.1.m1.2.3.2">E</mtext></ci><interval closure="closed" id="S4.SS3.p5.1.m1.2.3.3.1.cmml" xref="S4.SS3.p5.1.m1.2.3.3.2"><cn type="integer" id="S4.SS3.p5.1.m1.1.1.cmml" xref="S4.SS3.p5.1.m1.1.1">1</cn><cn type="integer" id="S4.SS3.p5.1.m1.2.2.cmml" xref="S4.SS3.p5.1.m1.2.2">3</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.1.m1.2c">\textit{E}\in[1,3]</annotation></semantics></math> and <math id="S4.SS3.p5.2.m2.3" class="ltx_Math" alttext="\textit{B}\in[20,50,\infty]" display="inline"><semantics id="S4.SS3.p5.2.m2.3a"><mrow id="S4.SS3.p5.2.m2.3.4" xref="S4.SS3.p5.2.m2.3.4.cmml"><mtext class="ltx_mathvariant_italic" id="S4.SS3.p5.2.m2.3.4.2" xref="S4.SS3.p5.2.m2.3.4.2a.cmml">B</mtext><mo id="S4.SS3.p5.2.m2.3.4.1" xref="S4.SS3.p5.2.m2.3.4.1.cmml">∈</mo><mrow id="S4.SS3.p5.2.m2.3.4.3.2" xref="S4.SS3.p5.2.m2.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS3.p5.2.m2.3.4.3.2.1" xref="S4.SS3.p5.2.m2.3.4.3.1.cmml">[</mo><mn id="S4.SS3.p5.2.m2.1.1" xref="S4.SS3.p5.2.m2.1.1.cmml">20</mn><mo id="S4.SS3.p5.2.m2.3.4.3.2.2" xref="S4.SS3.p5.2.m2.3.4.3.1.cmml">,</mo><mn id="S4.SS3.p5.2.m2.2.2" xref="S4.SS3.p5.2.m2.2.2.cmml">50</mn><mo id="S4.SS3.p5.2.m2.3.4.3.2.3" xref="S4.SS3.p5.2.m2.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="S4.SS3.p5.2.m2.3.3" xref="S4.SS3.p5.2.m2.3.3.cmml">∞</mi><mo stretchy="false" id="S4.SS3.p5.2.m2.3.4.3.2.4" xref="S4.SS3.p5.2.m2.3.4.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.2.m2.3b"><apply id="S4.SS3.p5.2.m2.3.4.cmml" xref="S4.SS3.p5.2.m2.3.4"><in id="S4.SS3.p5.2.m2.3.4.1.cmml" xref="S4.SS3.p5.2.m2.3.4.1"></in><ci id="S4.SS3.p5.2.m2.3.4.2a.cmml" xref="S4.SS3.p5.2.m2.3.4.2"><mtext class="ltx_mathvariant_italic" id="S4.SS3.p5.2.m2.3.4.2.cmml" xref="S4.SS3.p5.2.m2.3.4.2">B</mtext></ci><list id="S4.SS3.p5.2.m2.3.4.3.1.cmml" xref="S4.SS3.p5.2.m2.3.4.3.2"><cn type="integer" id="S4.SS3.p5.2.m2.1.1.cmml" xref="S4.SS3.p5.2.m2.1.1">20</cn><cn type="integer" id="S4.SS3.p5.2.m2.2.2.cmml" xref="S4.SS3.p5.2.m2.2.2">50</cn><infinity id="S4.SS3.p5.2.m2.3.3.cmml" xref="S4.SS3.p5.2.m2.3.3"></infinity></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.2.m2.3c">\textit{B}\in[20,50,\infty]</annotation></semantics></math>, using <math id="S4.SS3.p5.3.m3.1" class="ltx_Math" alttext="C=10\%" display="inline"><semantics id="S4.SS3.p5.3.m3.1a"><mrow id="S4.SS3.p5.3.m3.1.1" xref="S4.SS3.p5.3.m3.1.1.cmml"><mi id="S4.SS3.p5.3.m3.1.1.2" xref="S4.SS3.p5.3.m3.1.1.2.cmml">C</mi><mo id="S4.SS3.p5.3.m3.1.1.1" xref="S4.SS3.p5.3.m3.1.1.1.cmml">=</mo><mrow id="S4.SS3.p5.3.m3.1.1.3" xref="S4.SS3.p5.3.m3.1.1.3.cmml"><mn id="S4.SS3.p5.3.m3.1.1.3.2" xref="S4.SS3.p5.3.m3.1.1.3.2.cmml">10</mn><mo id="S4.SS3.p5.3.m3.1.1.3.1" xref="S4.SS3.p5.3.m3.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.3.m3.1b"><apply id="S4.SS3.p5.3.m3.1.1.cmml" xref="S4.SS3.p5.3.m3.1.1"><eq id="S4.SS3.p5.3.m3.1.1.1.cmml" xref="S4.SS3.p5.3.m3.1.1.1"></eq><ci id="S4.SS3.p5.3.m3.1.1.2.cmml" xref="S4.SS3.p5.3.m3.1.1.2">𝐶</ci><apply id="S4.SS3.p5.3.m3.1.1.3.cmml" xref="S4.SS3.p5.3.m3.1.1.3"><csymbol cd="latexml" id="S4.SS3.p5.3.m3.1.1.3.1.cmml" xref="S4.SS3.p5.3.m3.1.1.3.1">percent</csymbol><cn type="integer" id="S4.SS3.p5.3.m3.1.1.3.2.cmml" xref="S4.SS3.p5.3.m3.1.1.3.2">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.3.m3.1c">C=10\%</annotation></semantics></math>, <span id="S4.SS3.p5.9.2" class="ltx_text ltx_font_italic">Adam</span> global averaging with <math id="S4.SS3.p5.4.m4.1" class="ltx_Math" alttext="\eta_{global}=0.001" display="inline"><semantics id="S4.SS3.p5.4.m4.1a"><mrow id="S4.SS3.p5.4.m4.1.1" xref="S4.SS3.p5.4.m4.1.1.cmml"><msub id="S4.SS3.p5.4.m4.1.1.2" xref="S4.SS3.p5.4.m4.1.1.2.cmml"><mi id="S4.SS3.p5.4.m4.1.1.2.2" xref="S4.SS3.p5.4.m4.1.1.2.2.cmml">η</mi><mrow id="S4.SS3.p5.4.m4.1.1.2.3" xref="S4.SS3.p5.4.m4.1.1.2.3.cmml"><mi id="S4.SS3.p5.4.m4.1.1.2.3.2" xref="S4.SS3.p5.4.m4.1.1.2.3.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p5.4.m4.1.1.2.3.1" xref="S4.SS3.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.p5.4.m4.1.1.2.3.3" xref="S4.SS3.p5.4.m4.1.1.2.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p5.4.m4.1.1.2.3.1a" xref="S4.SS3.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.p5.4.m4.1.1.2.3.4" xref="S4.SS3.p5.4.m4.1.1.2.3.4.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p5.4.m4.1.1.2.3.1b" xref="S4.SS3.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.p5.4.m4.1.1.2.3.5" xref="S4.SS3.p5.4.m4.1.1.2.3.5.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p5.4.m4.1.1.2.3.1c" xref="S4.SS3.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.p5.4.m4.1.1.2.3.6" xref="S4.SS3.p5.4.m4.1.1.2.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p5.4.m4.1.1.2.3.1d" xref="S4.SS3.p5.4.m4.1.1.2.3.1.cmml">​</mo><mi id="S4.SS3.p5.4.m4.1.1.2.3.7" xref="S4.SS3.p5.4.m4.1.1.2.3.7.cmml">l</mi></mrow></msub><mo id="S4.SS3.p5.4.m4.1.1.1" xref="S4.SS3.p5.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS3.p5.4.m4.1.1.3" xref="S4.SS3.p5.4.m4.1.1.3.cmml">0.001</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.4.m4.1b"><apply id="S4.SS3.p5.4.m4.1.1.cmml" xref="S4.SS3.p5.4.m4.1.1"><eq id="S4.SS3.p5.4.m4.1.1.1.cmml" xref="S4.SS3.p5.4.m4.1.1.1"></eq><apply id="S4.SS3.p5.4.m4.1.1.2.cmml" xref="S4.SS3.p5.4.m4.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p5.4.m4.1.1.2.1.cmml" xref="S4.SS3.p5.4.m4.1.1.2">subscript</csymbol><ci id="S4.SS3.p5.4.m4.1.1.2.2.cmml" xref="S4.SS3.p5.4.m4.1.1.2.2">𝜂</ci><apply id="S4.SS3.p5.4.m4.1.1.2.3.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3"><times id="S4.SS3.p5.4.m4.1.1.2.3.1.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.1"></times><ci id="S4.SS3.p5.4.m4.1.1.2.3.2.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.2">𝑔</ci><ci id="S4.SS3.p5.4.m4.1.1.2.3.3.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.3">𝑙</ci><ci id="S4.SS3.p5.4.m4.1.1.2.3.4.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.4">𝑜</ci><ci id="S4.SS3.p5.4.m4.1.1.2.3.5.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.5">𝑏</ci><ci id="S4.SS3.p5.4.m4.1.1.2.3.6.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.6">𝑎</ci><ci id="S4.SS3.p5.4.m4.1.1.2.3.7.cmml" xref="S4.SS3.p5.4.m4.1.1.2.3.7">𝑙</ci></apply></apply><cn type="float" id="S4.SS3.p5.4.m4.1.1.3.cmml" xref="S4.SS3.p5.4.m4.1.1.3">0.001</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.4.m4.1c">\eta_{global}=0.001</annotation></semantics></math>, and a local learning rate of 0.01. In our experiments, the best performances are obtained for <math id="S4.SS3.p5.5.m5.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.SS3.p5.5.m5.1a"><mrow id="S4.SS3.p5.5.m5.1.1" xref="S4.SS3.p5.5.m5.1.1.cmml"><mi id="S4.SS3.p5.5.m5.1.1.2" xref="S4.SS3.p5.5.m5.1.1.2.cmml">E</mi><mo id="S4.SS3.p5.5.m5.1.1.1" xref="S4.SS3.p5.5.m5.1.1.1.cmml">=</mo><mn id="S4.SS3.p5.5.m5.1.1.3" xref="S4.SS3.p5.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.5.m5.1b"><apply id="S4.SS3.p5.5.m5.1.1.cmml" xref="S4.SS3.p5.5.m5.1.1"><eq id="S4.SS3.p5.5.m5.1.1.1.cmml" xref="S4.SS3.p5.5.m5.1.1.1"></eq><ci id="S4.SS3.p5.5.m5.1.1.2.cmml" xref="S4.SS3.p5.5.m5.1.1.2">𝐸</ci><cn type="integer" id="S4.SS3.p5.5.m5.1.1.3.cmml" xref="S4.SS3.p5.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.5.m5.1c">E=1</annotation></semantics></math> and <math id="S4.SS3.p5.6.m6.1" class="ltx_Math" alttext="B=20" display="inline"><semantics id="S4.SS3.p5.6.m6.1a"><mrow id="S4.SS3.p5.6.m6.1.1" xref="S4.SS3.p5.6.m6.1.1.cmml"><mi id="S4.SS3.p5.6.m6.1.1.2" xref="S4.SS3.p5.6.m6.1.1.2.cmml">B</mi><mo id="S4.SS3.p5.6.m6.1.1.1" xref="S4.SS3.p5.6.m6.1.1.1.cmml">=</mo><mn id="S4.SS3.p5.6.m6.1.1.3" xref="S4.SS3.p5.6.m6.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.6.m6.1b"><apply id="S4.SS3.p5.6.m6.1.1.cmml" xref="S4.SS3.p5.6.m6.1.1"><eq id="S4.SS3.p5.6.m6.1.1.1.cmml" xref="S4.SS3.p5.6.m6.1.1.1"></eq><ci id="S4.SS3.p5.6.m6.1.1.2.cmml" xref="S4.SS3.p5.6.m6.1.1.2">𝐵</ci><cn type="integer" id="S4.SS3.p5.6.m6.1.1.3.cmml" xref="S4.SS3.p5.6.m6.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.6.m6.1c">B=20</annotation></semantics></math> for an average of 2.4 local updates per worker taking part in a round, yielding a 80% speedup with comparison to <span id="S4.SS3.p5.9.3" class="ltx_text ltx_font_italic">FedSGD</span>. The total number of training steps needed to reach the stopping criterion amounts to approximately <math id="S4.SS3.p5.7.m7.1" class="ltx_Math" alttext="3300" display="inline"><semantics id="S4.SS3.p5.7.m7.1a"><mn id="S4.SS3.p5.7.m7.1.1" xref="S4.SS3.p5.7.m7.1.1.cmml">3300</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.7.m7.1b"><cn type="integer" id="S4.SS3.p5.7.m7.1.1.cmml" xref="S4.SS3.p5.7.m7.1.1">3300</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.7.m7.1c">3300</annotation></semantics></math> for <math id="S4.SS3.p5.8.m8.1" class="ltx_Math" alttext="100" display="inline"><semantics id="S4.SS3.p5.8.m8.1a"><mn id="S4.SS3.p5.8.m8.1.1" xref="S4.SS3.p5.8.m8.1.1.cmml">100</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.8.m8.1b"><cn type="integer" id="S4.SS3.p5.8.m8.1.1.cmml" xref="S4.SS3.p5.8.m8.1.1">100</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.8.m8.1c">100</annotation></semantics></math> communication rounds e.g. <math id="S4.SS3.p5.9.m9.1" class="ltx_Math" alttext="8.25" display="inline"><semantics id="S4.SS3.p5.9.m9.1a"><mn id="S4.SS3.p5.9.m9.1.1" xref="S4.SS3.p5.9.m9.1.1.cmml">8.25</mn><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.9.m9.1b"><cn type="float" id="S4.SS3.p5.9.m9.1.1.cmml" xref="S4.SS3.p5.9.m9.1.1">8.25</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.9.m9.1c">8.25</annotation></semantics></math> times the number of steps required in the standard setting, with much smaller batches. Nevertheless we observed variability across experiments with regard to random weight initialization and early stage behaviour. Unlike some experiments presented in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, the speedup coming from increasing the amount of local training steps does not lead to order of magnitude improvements on convergence speed, while local learning rate and global averaging tuning proved to be crucial in our work. We conjecture that this difference is related to the input semantic variability across users. In the MNIST and CIFAR experiments from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite> the input semantics are the same across emulated users. In the wake word setting, each user has their own vocalization of the same wake word utterance with significant differences in pitch and accent than can lead to diverging lower stage representations that might perform poorly when averaged.</p>
</div>
<div id="S4.SS3.p6" class="ltx_para">
<p id="S4.SS3.p6.2" class="ltx_p"><span id="S4.SS3.p6.2.1" class="ltx_text ltx_font_bold">Evaluation</span>: We evaluate the false alarm rates of the best model (<math id="S4.SS3.p6.1.m1.1" class="ltx_Math" alttext="E=1" display="inline"><semantics id="S4.SS3.p6.1.m1.1a"><mrow id="S4.SS3.p6.1.m1.1.1" xref="S4.SS3.p6.1.m1.1.1.cmml"><mi id="S4.SS3.p6.1.m1.1.1.2" xref="S4.SS3.p6.1.m1.1.1.2.cmml">E</mi><mo id="S4.SS3.p6.1.m1.1.1.1" xref="S4.SS3.p6.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p6.1.m1.1.1.3" xref="S4.SS3.p6.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.1.m1.1b"><apply id="S4.SS3.p6.1.m1.1.1.cmml" xref="S4.SS3.p6.1.m1.1.1"><eq id="S4.SS3.p6.1.m1.1.1.1.cmml" xref="S4.SS3.p6.1.m1.1.1.1"></eq><ci id="S4.SS3.p6.1.m1.1.1.2.cmml" xref="S4.SS3.p6.1.m1.1.1.2">𝐸</ci><cn type="integer" id="S4.SS3.p6.1.m1.1.1.3.cmml" xref="S4.SS3.p6.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.1.m1.1c">E=1</annotation></semantics></math> and <math id="S4.SS3.p6.2.m2.1" class="ltx_Math" alttext="B=20" display="inline"><semantics id="S4.SS3.p6.2.m2.1a"><mrow id="S4.SS3.p6.2.m2.1.1" xref="S4.SS3.p6.2.m2.1.1.cmml"><mi id="S4.SS3.p6.2.m2.1.1.2" xref="S4.SS3.p6.2.m2.1.1.2.cmml">B</mi><mo id="S4.SS3.p6.2.m2.1.1.1" xref="S4.SS3.p6.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS3.p6.2.m2.1.1.3" xref="S4.SS3.p6.2.m2.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p6.2.m2.1b"><apply id="S4.SS3.p6.2.m2.1.1.cmml" xref="S4.SS3.p6.2.m2.1.1"><eq id="S4.SS3.p6.2.m2.1.1.1.cmml" xref="S4.SS3.p6.2.m2.1.1.1"></eq><ci id="S4.SS3.p6.2.m2.1.1.2.cmml" xref="S4.SS3.p6.2.m2.1.1.2">𝐵</ci><cn type="integer" id="S4.SS3.p6.2.m2.1.1.3.cmml" xref="S4.SS3.p6.2.m2.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p6.2.m2.1c">B=20</annotation></semantics></math>) for a fixed recall of 95% on the test set. We observe 3.2 FAH on the negative test data, 3.9 FAH on Librispeech <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, and respectively 0.2 and 0.6 FAH on our internal news and collected TV datasets. Unsurprisingly, false alarms are more common on close-field continuous datasets than they are on background negative audio sets.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Communication cost analysis</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">Communication cost is a strong constraint when learning from decentralized data, especially when user’s devices have limited connectivity and bandwidth. Considering the asymmetrical nature of broadband speeds, the communication bottleneck for federated learning is the updated weights transfer from clients to the parameter server <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>. We assume that the upstream communication cost associated with users involved in model evaluation at each communication round is marginal, as they would only be uploading a few floating point metrics per round that is much smaller than the model size. The total client upload bandwidth requirement is provided in the equation below:</p>
<table id="S4.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E3.m1.1" class="ltx_Math" alttext="\rm{ClientUploadCost}=\rm{modelSize}_{f32}\times C\times N_{rounds}" display="block"><semantics id="S4.E3.m1.1a"><mrow id="S4.E3.m1.1.1" xref="S4.E3.m1.1.1.cmml"><mi id="S4.E3.m1.1.1.2" xref="S4.E3.m1.1.1.2.cmml">ClientUploadCost</mi><mo id="S4.E3.m1.1.1.1" xref="S4.E3.m1.1.1.1.cmml">=</mo><mrow id="S4.E3.m1.1.1.3" xref="S4.E3.m1.1.1.3.cmml"><msub id="S4.E3.m1.1.1.3.2" xref="S4.E3.m1.1.1.3.2.cmml"><mi id="S4.E3.m1.1.1.3.2.2" xref="S4.E3.m1.1.1.3.2.2.cmml">modelSize</mi><mi id="S4.E3.m1.1.1.3.2.3" xref="S4.E3.m1.1.1.3.2.3.cmml">f32</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S4.E3.m1.1.1.3.1" xref="S4.E3.m1.1.1.3.1.cmml">×</mo><mi mathvariant="normal" id="S4.E3.m1.1.1.3.3" xref="S4.E3.m1.1.1.3.3.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S4.E3.m1.1.1.3.1a" xref="S4.E3.m1.1.1.3.1.cmml">×</mo><msub id="S4.E3.m1.1.1.3.4" xref="S4.E3.m1.1.1.3.4.cmml"><mi mathvariant="normal" id="S4.E3.m1.1.1.3.4.2" xref="S4.E3.m1.1.1.3.4.2.cmml">N</mi><mi id="S4.E3.m1.1.1.3.4.3" xref="S4.E3.m1.1.1.3.4.3.cmml">rounds</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.1b"><apply id="S4.E3.m1.1.1.cmml" xref="S4.E3.m1.1.1"><eq id="S4.E3.m1.1.1.1.cmml" xref="S4.E3.m1.1.1.1"></eq><ci id="S4.E3.m1.1.1.2.cmml" xref="S4.E3.m1.1.1.2">ClientUploadCost</ci><apply id="S4.E3.m1.1.1.3.cmml" xref="S4.E3.m1.1.1.3"><times id="S4.E3.m1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.3.1"></times><apply id="S4.E3.m1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.3.2.1.cmml" xref="S4.E3.m1.1.1.3.2">subscript</csymbol><ci id="S4.E3.m1.1.1.3.2.2.cmml" xref="S4.E3.m1.1.1.3.2.2">modelSize</ci><ci id="S4.E3.m1.1.1.3.2.3.cmml" xref="S4.E3.m1.1.1.3.2.3">f32</ci></apply><ci id="S4.E3.m1.1.1.3.3.cmml" xref="S4.E3.m1.1.1.3.3">C</ci><apply id="S4.E3.m1.1.1.3.4.cmml" xref="S4.E3.m1.1.1.3.4"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.3.4.1.cmml" xref="S4.E3.m1.1.1.3.4">subscript</csymbol><ci id="S4.E3.m1.1.1.3.4.2.cmml" xref="S4.E3.m1.1.1.3.4.2">N</ci><ci id="S4.E3.m1.1.1.3.4.3.cmml" xref="S4.E3.m1.1.1.3.4.3">rounds</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.1c">\rm{ClientUploadCost}=\rm{modelSize}_{f32}\times C\times N_{rounds}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p">Based on our results, this would yield a cost of 8MB per client when the stopping criterion is reached within 100 communication rounds. The server receives 137 updates per round when <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="\textit{C}=10\%" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_italic" id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2a.cmml">C</mtext><mo id="S4.SS4.p2.1.m1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.cmml">=</mo><mrow id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml"><mn id="S4.SS4.p2.1.m1.1.1.3.2" xref="S4.SS4.p2.1.m1.1.1.3.2.cmml">10</mn><mo id="S4.SS4.p2.1.m1.1.1.3.1" xref="S4.SS4.p2.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><eq id="S4.SS4.p2.1.m1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1"></eq><ci id="S4.SS4.p2.1.m1.1.1.2a.cmml" xref="S4.SS4.p2.1.m1.1.1.2"><mtext class="ltx_mathvariant_italic" id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2">C</mtext></ci><apply id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3"><csymbol cd="latexml" id="S4.SS4.p2.1.m1.1.1.3.1.cmml" xref="S4.SS4.p2.1.m1.1.1.3.1">percent</csymbol><cn type="integer" id="S4.SS4.p2.1.m1.1.1.3.2.cmml" xref="S4.SS4.p2.1.m1.1.1.3.2">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\textit{C}=10\%</annotation></semantics></math>, amounting for 110GB over the course of the whole optimization process with 1.4k users involved during training. Further experiments with latter convergence stages (400 rounds) yielded 98% recall / 0.5 FAH on the test set for an upload budget of 32 MB per user.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion and future Work</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this work, we investigate the use of federated learning on crowdsourced speech data to learn a resource-constrained wake word detector. We show that a revisited <span id="S5.p1.1.1" class="ltx_text ltx_font_italic">Federated Averaging</span> algorithm with per-coordinate averaging based on Adam in place of standard global averaging allows the training to reach a target stopping criterion of 95% recall per 5 FAH within 100 communication rounds on our crowdsourced dataset for an associated upstream communication costs per client of 8MB. We also open source the <span id="S5.p1.1.2" class="ltx_text ltx_font_italic">Hey Snips</span> wake word dataset.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">The next step towards a real-life implementation is to design a system for local data collection and labeling as the wake word task requires data supervision. The frame labeling strategy used in this work relies on an aligner, which cannot be easily embedded. The use of of memory-efficient end-to-end models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> in place of the presented class-based model could ease the work of local data labelling.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Alice Coucke, Alaa Saade, Adrien Ball, Théodore Bluche, Alexandre
Caulier, David Leroy, Clément Doumouro, Thibault Gisselbrecht,
Francesco Caltagirone, Thibaut Lavril, Maël Primet, and Joseph Dureau,

</span>
<span class="ltx_bibblock">“Snips voice platform: an embedded spoken language understanding
system for private-by-design voice interfaces,”

</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1805.10190, 2018.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Yundong Zhang, Naveen Suda, Liangzhen Lai, and Vikas Chandra,

</span>
<span class="ltx_bibblock">“Hello edge: Keyword spotting on microcontrollers,”

</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1711.07128, 2017.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
H. Brendan McMahan, Eider Moore, Daniel Ramage, and Blaise Agüera
y Arcas,

</span>
<span class="ltx_bibblock">“Federated learning of deep networks using model averaging,”

</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1602.05629, 2016.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Daniel Povey, Xiaohui Zhang, and Sanjeev Khudanpur,

</span>
<span class="ltx_bibblock">“Parallel training of deep neural networks with natural gradient and
parameter averaging,”

</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1410.7455, 2014.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Jakub Konecný, H. Brendan McMahan, Daniel Ramage, and Peter
Richtárik,

</span>
<span class="ltx_bibblock">“Federated optimization: Distributed machine learning for on-device
intelligence,”

</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1610.02527, 2016.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Takayuki Nishio and Ryo Yonetani,

</span>
<span class="ltx_bibblock">“Client selection for federated learning with heterogeneous
resources in mobile edge,”

</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1804.08333, 2018.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Shiqiang Wang, Tiffany Tuor, Theodoros Salonidis, Kin K. Leung, Christian
Makaya, Ting He, and Kevin Chan,

</span>
<span class="ltx_bibblock">“When edge meets learning: Adaptive control for resource-constrained
distributed machine learning,”

</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1804.05271, 2018.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Jakub Konecný, H. Brendan McMahan, Felix X. Yu, Peter Richtárik,
Ananda Theertha Suresh, and Dave Bacon,

</span>
<span class="ltx_bibblock">“Federated learning: Strategies for improving communication
efficiency,”

</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1610.05492, 2016.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Joachim Sicking Fabian Hüger Peter Schlicht Tim Wirtz Michael Kamp,
Linara Adilova and Stefan Wrobel,

</span>
<span class="ltx_bibblock">“Efficient decentralized deep learning by dynamic model averaging,”

</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1807.03210, 2018.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Diederik P. Kingma and Jimmy Ba,

</span>
<span class="ltx_bibblock">“Adam: A method for stochastic optimization,”

</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1412.6980, 2014.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Pete Warden,

</span>
<span class="ltx_bibblock">“Speech commands: A dataset for limited-vocabulary speech
recognition,”

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">CoRR</span>, vol. abs/1804.03209, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Alice Coucke, Mohammed Chlieh, Thibault Gisselbrecht, David Leroy, Mathieu
Poumeyrol, and Thibaut Lavril,

</span>
<span class="ltx_bibblock">“Efficient keyword spotting using dilated convolutions and gating,”

</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:1811.07684</span>, 2018.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Vijayaditya Peddinti, Daniel Povey, and Sanjeev Khudanpur,

</span>
<span class="ltx_bibblock">“A time delay neural network architecture for efficient modeling of
long temporal contexts,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">Sixteenth Annual Conference of the International Speech
Communication Association</span>, 2015.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Xavier Glorot and Yoshua Bengio,

</span>
<span class="ltx_bibblock">“Understanding the difficulty of training deep feedforward neural
networks,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">In Proceedings of the International Conference on Artificial
Intelligence and Statistics (AISTATS’10). Society for Artificial
Intelligence and Statistics</span>, 2010.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Guoguo Chen, Carolina Parada, and Georg Heigold,

</span>
<span class="ltx_bibblock">“Small-footprint keyword spotting using deep neural networks,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">Acoustics, speech and signal processing (icassp), 2014 ieee
international conference on</span>. IEEE, 2014, pp. 4087–4091.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Vassil Panayotov, Guoguo Chen, Daniel Povey, and Sanjeev Khudanpur,

</span>
<span class="ltx_bibblock">“Librispeech: An ASR corpus based on public domain audio books,”

</span>
<span class="ltx_bibblock">in <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">ICASSP</span>. 2015, pp. 5206–5210, IEEE.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1810.05511" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1810.05512" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1810.05512">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1810.05512" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1810.05513" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sat Mar 16 08:06:47 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
