<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1906.04382] DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain</title><meta property="og:description" content="This paper describes our competing system to enter the MEDIQA-2019 competition. We use a multi-source transfer learning approach to transfer the knowledge from MT-DNN Liu et al. (2019b) and SciBERT Beltagy et al. (2019…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1906.04382">

<!--Generated on Sun Mar 17 06:57:25 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">DoubleTransfer at MEDIQA 2019: 
<br class="ltx_break">Multi-Source Transfer Learning for Natural Language Understanding 
<br class="ltx_break">in the Medical Domain</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yichong Xu<sup id="id8.8.id1" class="ltx_sup">1</sup>, Xiaodong Liu<sup id="id9.9.id2" class="ltx_sup"><span id="id9.9.id2.1" class="ltx_text ltx_font_italic">2</span></sup>, Chunyuan Li<sup id="id10.10.id3" class="ltx_sup"><span id="id10.10.id3.1" class="ltx_text ltx_font_italic">2</span></sup>, Hoifung Poon<sup id="id11.11.id4" class="ltx_sup"><span id="id11.11.id4.1" class="ltx_text ltx_font_italic">2</span></sup> and Jianfeng Gao<sup id="id12.12.id5" class="ltx_sup"><span id="id12.12.id5.1" class="ltx_text ltx_font_italic">2</span></sup> 
<br class="ltx_break"><sup id="id13.13.id6" class="ltx_sup">1</sup> Carnegie Mellon University
<br class="ltx_break"><sup id="id14.14.id7" class="ltx_sup">2</sup> Microsoft Research
<br class="ltx_break"><span id="id15.15.id8" class="ltx_text ltx_font_typewriter">yichongx@cs.cmu.edu
<br class="ltx_break">{xiaodl, Chunyuan.Li, hoifung, jfgao}@microsoft.com </span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id16.id1" class="ltx_p">This paper describes our competing system to enter the MEDIQA-2019 competition. We use a multi-source transfer learning approach to transfer the knowledge from MT-DNN <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>)</cite> and SciBERT <cite class="ltx_cite ltx_citemacro_cite">Beltagy et al. (<a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite> to natural language understanding tasks in the medical domain. For transfer learning fine-tuning, we use multi-task learning on NLI, RQE and QA tasks on general and medical domains to improve performance. The proposed methods are proved effective for natural language understanding in the medical domain, and we rank the first place on the QA task.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Background</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">The MEDIQA 2019 shared tasks <cite class="ltx_cite ltx_citemacro_cite">Ben Abacha et al. (<a href="#bib.bib4" title="" class="ltx_ref">2019</a>)</cite> aim to improve the current state-of-the-art systems for textual inference, question entailment and question answering in the medical domain. This ACL-BioNLP 2019 shared task is motivated by a need to develop relevant methods, techniques and gold standards for inference and entailment in the medical domain and their application to improve domain-specific information retrieval and question answering systems. The shared task consists of three parts: i) natural language inference (NLI) on MedNLI, ii) Recognizing Question Entailment (RQE), and iii) Question Answering (QA).</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Recent advancement in NLP such as BERT <cite class="ltx_cite ltx_citemacro_cite">Devlin et al. (<a href="#bib.bib6" title="" class="ltx_ref">2018</a>)</cite> has facilitated great improvements in many Natural Language Understanding (NLU) tasks <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>)</cite>. BERT first trains a language model on an unsupervised large-scale corpus, and then the pretrained model is fine-tuned to adapt to downstream NLU tasks. This fine-tuning process can be seen as a form of transfer learning, where BERT learns knowledge from the large-scale corpus and transfer it to downstream tasks.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">We investigate NLU in the medical (scientific) domain. From BERT, we need to adapt to i) The change from general domain corpus to scientific language; ii) The change from low-level language model tasks to complex NLU tasks. Although there is limited training data in NLU in the medical domain, we fortunately have pre-trained models from two intermediate steps:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">General NLU embeddings: We use MT-DNN <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>)</cite> trained on GLUE benchmark<cite class="ltx_cite ltx_citemacro_cite">Wang et al. (<a href="#bib.bib11" title="" class="ltx_ref">2019</a>)</cite>. MT-DNN is trained on 10 tasks including NLI, question equivalence, and machine comprehension. These tasks correspond well to the target MEDIQA tasks but in different domains.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">Scientific embeddings: We use SciBERT <cite class="ltx_cite ltx_citemacro_cite">Beltagy et al. (<a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite>, which is a BERT model, but trained on SemanticScholar scientific papers. Although SciBERT obtained state-of-the-art results on several single-sentence tasks, it lacks knowledge from other NLU tasks such as GLUE.
</p>
</div>
</li>
</ul>
<p id="S1.p3.2" class="ltx_p">In this paper, we investigate different methods to combine and transfer the knowledge from the two different sources and illustrate our results on the MEDIQA shared task. We name our method as DoubleTransfer, since it transfers knowledge from two different sources. Our method is based on fine-tuning both MT-DNN and SciBERT using multi-task learning, which has demonstrated the efficiency of knowledge transformation <cite class="ltx_cite ltx_citemacro_cite">Caruana (<a href="#bib.bib5" title="" class="ltx_ref">1997</a>); Liu et al. (<a href="#bib.bib7" title="" class="ltx_ref">2015</a>); Xu et al. (<a href="#bib.bib13" title="" class="ltx_ref">2019</a>); Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>)</cite>, and integrating models from both domains with ensembles.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Multi-task Fine-tuning with External Datasets</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="algx1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span>In-domain datasets <math id="algx1.l1.m1.3" class="ltx_Math" alttext="\mathcal{D}_{1},...,\mathcal{D}_{K_{1}}" display="inline"><semantics id="algx1.l1.m1.3a"><mrow id="algx1.l1.m1.3.3.2" xref="algx1.l1.m1.3.3.3.cmml"><msub id="algx1.l1.m1.2.2.1.1" xref="algx1.l1.m1.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m1.2.2.1.1.2" xref="algx1.l1.m1.2.2.1.1.2.cmml">𝒟</mi><mn id="algx1.l1.m1.2.2.1.1.3" xref="algx1.l1.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="algx1.l1.m1.3.3.2.3" xref="algx1.l1.m1.3.3.3.cmml">,</mo><mi mathvariant="normal" id="algx1.l1.m1.1.1" xref="algx1.l1.m1.1.1.cmml">…</mi><mo id="algx1.l1.m1.3.3.2.4" xref="algx1.l1.m1.3.3.3.cmml">,</mo><msub id="algx1.l1.m1.3.3.2.2" xref="algx1.l1.m1.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m1.3.3.2.2.2" xref="algx1.l1.m1.3.3.2.2.2.cmml">𝒟</mi><msub id="algx1.l1.m1.3.3.2.2.3" xref="algx1.l1.m1.3.3.2.2.3.cmml"><mi id="algx1.l1.m1.3.3.2.2.3.2" xref="algx1.l1.m1.3.3.2.2.3.2.cmml">K</mi><mn id="algx1.l1.m1.3.3.2.2.3.3" xref="algx1.l1.m1.3.3.2.2.3.3.cmml">1</mn></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l1.m1.3b"><list id="algx1.l1.m1.3.3.3.cmml" xref="algx1.l1.m1.3.3.2"><apply id="algx1.l1.m1.2.2.1.1.cmml" xref="algx1.l1.m1.2.2.1.1"><csymbol cd="ambiguous" id="algx1.l1.m1.2.2.1.1.1.cmml" xref="algx1.l1.m1.2.2.1.1">subscript</csymbol><ci id="algx1.l1.m1.2.2.1.1.2.cmml" xref="algx1.l1.m1.2.2.1.1.2">𝒟</ci><cn type="integer" id="algx1.l1.m1.2.2.1.1.3.cmml" xref="algx1.l1.m1.2.2.1.1.3">1</cn></apply><ci id="algx1.l1.m1.1.1.cmml" xref="algx1.l1.m1.1.1">…</ci><apply id="algx1.l1.m1.3.3.2.2.cmml" xref="algx1.l1.m1.3.3.2.2"><csymbol cd="ambiguous" id="algx1.l1.m1.3.3.2.2.1.cmml" xref="algx1.l1.m1.3.3.2.2">subscript</csymbol><ci id="algx1.l1.m1.3.3.2.2.2.cmml" xref="algx1.l1.m1.3.3.2.2.2">𝒟</ci><apply id="algx1.l1.m1.3.3.2.2.3.cmml" xref="algx1.l1.m1.3.3.2.2.3"><csymbol cd="ambiguous" id="algx1.l1.m1.3.3.2.2.3.1.cmml" xref="algx1.l1.m1.3.3.2.2.3">subscript</csymbol><ci id="algx1.l1.m1.3.3.2.2.3.2.cmml" xref="algx1.l1.m1.3.3.2.2.3.2">𝐾</ci><cn type="integer" id="algx1.l1.m1.3.3.2.2.3.3.cmml" xref="algx1.l1.m1.3.3.2.2.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m1.3c">\mathcal{D}_{1},...,\mathcal{D}_{K_{1}}</annotation></semantics></math>, External domain datasets <math id="algx1.l1.m2.3" class="ltx_Math" alttext="\mathcal{D}_{K_{1}+1},...,\mathcal{D}_{K_{2}}" display="inline"><semantics id="algx1.l1.m2.3a"><mrow id="algx1.l1.m2.3.3.2" xref="algx1.l1.m2.3.3.3.cmml"><msub id="algx1.l1.m2.2.2.1.1" xref="algx1.l1.m2.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m2.2.2.1.1.2" xref="algx1.l1.m2.2.2.1.1.2.cmml">𝒟</mi><mrow id="algx1.l1.m2.2.2.1.1.3" xref="algx1.l1.m2.2.2.1.1.3.cmml"><msub id="algx1.l1.m2.2.2.1.1.3.2" xref="algx1.l1.m2.2.2.1.1.3.2.cmml"><mi id="algx1.l1.m2.2.2.1.1.3.2.2" xref="algx1.l1.m2.2.2.1.1.3.2.2.cmml">K</mi><mn id="algx1.l1.m2.2.2.1.1.3.2.3" xref="algx1.l1.m2.2.2.1.1.3.2.3.cmml">1</mn></msub><mo id="algx1.l1.m2.2.2.1.1.3.1" xref="algx1.l1.m2.2.2.1.1.3.1.cmml">+</mo><mn id="algx1.l1.m2.2.2.1.1.3.3" xref="algx1.l1.m2.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="algx1.l1.m2.3.3.2.3" xref="algx1.l1.m2.3.3.3.cmml">,</mo><mi mathvariant="normal" id="algx1.l1.m2.1.1" xref="algx1.l1.m2.1.1.cmml">…</mi><mo id="algx1.l1.m2.3.3.2.4" xref="algx1.l1.m2.3.3.3.cmml">,</mo><msub id="algx1.l1.m2.3.3.2.2" xref="algx1.l1.m2.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l1.m2.3.3.2.2.2" xref="algx1.l1.m2.3.3.2.2.2.cmml">𝒟</mi><msub id="algx1.l1.m2.3.3.2.2.3" xref="algx1.l1.m2.3.3.2.2.3.cmml"><mi id="algx1.l1.m2.3.3.2.2.3.2" xref="algx1.l1.m2.3.3.2.2.3.2.cmml">K</mi><mn id="algx1.l1.m2.3.3.2.2.3.3" xref="algx1.l1.m2.3.3.2.2.3.3.cmml">2</mn></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l1.m2.3b"><list id="algx1.l1.m2.3.3.3.cmml" xref="algx1.l1.m2.3.3.2"><apply id="algx1.l1.m2.2.2.1.1.cmml" xref="algx1.l1.m2.2.2.1.1"><csymbol cd="ambiguous" id="algx1.l1.m2.2.2.1.1.1.cmml" xref="algx1.l1.m2.2.2.1.1">subscript</csymbol><ci id="algx1.l1.m2.2.2.1.1.2.cmml" xref="algx1.l1.m2.2.2.1.1.2">𝒟</ci><apply id="algx1.l1.m2.2.2.1.1.3.cmml" xref="algx1.l1.m2.2.2.1.1.3"><plus id="algx1.l1.m2.2.2.1.1.3.1.cmml" xref="algx1.l1.m2.2.2.1.1.3.1"></plus><apply id="algx1.l1.m2.2.2.1.1.3.2.cmml" xref="algx1.l1.m2.2.2.1.1.3.2"><csymbol cd="ambiguous" id="algx1.l1.m2.2.2.1.1.3.2.1.cmml" xref="algx1.l1.m2.2.2.1.1.3.2">subscript</csymbol><ci id="algx1.l1.m2.2.2.1.1.3.2.2.cmml" xref="algx1.l1.m2.2.2.1.1.3.2.2">𝐾</ci><cn type="integer" id="algx1.l1.m2.2.2.1.1.3.2.3.cmml" xref="algx1.l1.m2.2.2.1.1.3.2.3">1</cn></apply><cn type="integer" id="algx1.l1.m2.2.2.1.1.3.3.cmml" xref="algx1.l1.m2.2.2.1.1.3.3">1</cn></apply></apply><ci id="algx1.l1.m2.1.1.cmml" xref="algx1.l1.m2.1.1">…</ci><apply id="algx1.l1.m2.3.3.2.2.cmml" xref="algx1.l1.m2.3.3.2.2"><csymbol cd="ambiguous" id="algx1.l1.m2.3.3.2.2.1.cmml" xref="algx1.l1.m2.3.3.2.2">subscript</csymbol><ci id="algx1.l1.m2.3.3.2.2.2.cmml" xref="algx1.l1.m2.3.3.2.2.2">𝒟</ci><apply id="algx1.l1.m2.3.3.2.2.3.cmml" xref="algx1.l1.m2.3.3.2.2.3"><csymbol cd="ambiguous" id="algx1.l1.m2.3.3.2.2.3.1.cmml" xref="algx1.l1.m2.3.3.2.2.3">subscript</csymbol><ci id="algx1.l1.m2.3.3.2.2.3.2.cmml" xref="algx1.l1.m2.3.3.2.2.3.2">𝐾</ci><cn type="integer" id="algx1.l1.m2.3.3.2.2.3.3.cmml" xref="algx1.l1.m2.3.3.2.2.3.3">2</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m2.3c">\mathcal{D}_{K_{1}+1},...,\mathcal{D}_{K_{2}}</annotation></semantics></math>, max_epoch, mixture ratio <math id="algx1.l1.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="algx1.l1.m3.1a"><mi id="algx1.l1.m3.1.1" xref="algx1.l1.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="algx1.l1.m3.1b"><ci id="algx1.l1.m3.1.1.cmml" xref="algx1.l1.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m3.1c">\alpha</annotation></semantics></math>

</div>
<div id="algx1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span>Initialize the model <math id="algx1.l2.m1.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="algx1.l2.m1.1a"><mi class="ltx_font_mathcaligraphic" id="algx1.l2.m1.1.1" xref="algx1.l2.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="algx1.l2.m1.1b"><ci id="algx1.l2.m1.1.1.cmml" xref="algx1.l2.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m1.1c">\mathcal{M}</annotation></semantics></math> 

</div>
<div id="algx1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span><span id="algx1.l3.1" class="ltx_text ltx_font_bold">for</span> epoch<math id="algx1.l3.m1.3" class="ltx_Math" alttext="=1,2,..." display="inline"><semantics id="algx1.l3.m1.3a"><mrow id="algx1.l3.m1.3.4" xref="algx1.l3.m1.3.4.cmml"><mi id="algx1.l3.m1.3.4.2" xref="algx1.l3.m1.3.4.2.cmml"></mi><mo id="algx1.l3.m1.3.4.1" xref="algx1.l3.m1.3.4.1.cmml">=</mo><mrow id="algx1.l3.m1.3.4.3.2" xref="algx1.l3.m1.3.4.3.1.cmml"><mn id="algx1.l3.m1.1.1" xref="algx1.l3.m1.1.1.cmml">1</mn><mo id="algx1.l3.m1.3.4.3.2.1" xref="algx1.l3.m1.3.4.3.1.cmml">,</mo><mn id="algx1.l3.m1.2.2" xref="algx1.l3.m1.2.2.cmml">2</mn><mo id="algx1.l3.m1.3.4.3.2.2" xref="algx1.l3.m1.3.4.3.1.cmml">,</mo><mi mathvariant="normal" id="algx1.l3.m1.3.3" xref="algx1.l3.m1.3.3.cmml">…</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l3.m1.3b"><apply id="algx1.l3.m1.3.4.cmml" xref="algx1.l3.m1.3.4"><eq id="algx1.l3.m1.3.4.1.cmml" xref="algx1.l3.m1.3.4.1"></eq><csymbol cd="latexml" id="algx1.l3.m1.3.4.2.cmml" xref="algx1.l3.m1.3.4.2">absent</csymbol><list id="algx1.l3.m1.3.4.3.1.cmml" xref="algx1.l3.m1.3.4.3.2"><cn type="integer" id="algx1.l3.m1.1.1.cmml" xref="algx1.l3.m1.1.1">1</cn><cn type="integer" id="algx1.l3.m1.2.2.cmml" xref="algx1.l3.m1.2.2">2</cn><ci id="algx1.l3.m1.3.3.cmml" xref="algx1.l3.m1.3.3">…</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m1.3c">=1,2,...</annotation></semantics></math>, max_epoch <span id="algx1.l3.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="algx1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>     Divide each dataset <math id="algx1.l4.m1.1" class="ltx_Math" alttext="\mathcal{D}_{k}" display="inline"><semantics id="algx1.l4.m1.1a"><msub id="algx1.l4.m1.1.1" xref="algx1.l4.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l4.m1.1.1.2" xref="algx1.l4.m1.1.1.2.cmml">𝒟</mi><mi id="algx1.l4.m1.1.1.3" xref="algx1.l4.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m1.1b"><apply id="algx1.l4.m1.1.1.cmml" xref="algx1.l4.m1.1.1"><csymbol cd="ambiguous" id="algx1.l4.m1.1.1.1.cmml" xref="algx1.l4.m1.1.1">subscript</csymbol><ci id="algx1.l4.m1.1.1.2.cmml" xref="algx1.l4.m1.1.1.2">𝒟</ci><ci id="algx1.l4.m1.1.1.3.cmml" xref="algx1.l4.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m1.1c">\mathcal{D}_{k}</annotation></semantics></math> into <math id="algx1.l4.m2.1" class="ltx_Math" alttext="N_{k}" display="inline"><semantics id="algx1.l4.m2.1a"><msub id="algx1.l4.m2.1.1" xref="algx1.l4.m2.1.1.cmml"><mi id="algx1.l4.m2.1.1.2" xref="algx1.l4.m2.1.1.2.cmml">N</mi><mi id="algx1.l4.m2.1.1.3" xref="algx1.l4.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m2.1b"><apply id="algx1.l4.m2.1.1.cmml" xref="algx1.l4.m2.1.1"><csymbol cd="ambiguous" id="algx1.l4.m2.1.1.1.cmml" xref="algx1.l4.m2.1.1">subscript</csymbol><ci id="algx1.l4.m2.1.1.2.cmml" xref="algx1.l4.m2.1.1.2">𝑁</ci><ci id="algx1.l4.m2.1.1.3.cmml" xref="algx1.l4.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m2.1c">N_{k}</annotation></semantics></math> mini-batches <math id="algx1.l4.m3.3" class="ltx_Math" alttext="\mathcal{D}_{k}=\{b_{1}^{k},...,b_{N_{k}}^{k}\}" display="inline"><semantics id="algx1.l4.m3.3a"><mrow id="algx1.l4.m3.3.3" xref="algx1.l4.m3.3.3.cmml"><msub id="algx1.l4.m3.3.3.4" xref="algx1.l4.m3.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l4.m3.3.3.4.2" xref="algx1.l4.m3.3.3.4.2.cmml">𝒟</mi><mi id="algx1.l4.m3.3.3.4.3" xref="algx1.l4.m3.3.3.4.3.cmml">k</mi></msub><mo id="algx1.l4.m3.3.3.3" xref="algx1.l4.m3.3.3.3.cmml">=</mo><mrow id="algx1.l4.m3.3.3.2.2" xref="algx1.l4.m3.3.3.2.3.cmml"><mo stretchy="false" id="algx1.l4.m3.3.3.2.2.3" xref="algx1.l4.m3.3.3.2.3.cmml">{</mo><msubsup id="algx1.l4.m3.2.2.1.1.1" xref="algx1.l4.m3.2.2.1.1.1.cmml"><mi id="algx1.l4.m3.2.2.1.1.1.2.2" xref="algx1.l4.m3.2.2.1.1.1.2.2.cmml">b</mi><mn id="algx1.l4.m3.2.2.1.1.1.2.3" xref="algx1.l4.m3.2.2.1.1.1.2.3.cmml">1</mn><mi id="algx1.l4.m3.2.2.1.1.1.3" xref="algx1.l4.m3.2.2.1.1.1.3.cmml">k</mi></msubsup><mo id="algx1.l4.m3.3.3.2.2.4" xref="algx1.l4.m3.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="algx1.l4.m3.1.1" xref="algx1.l4.m3.1.1.cmml">…</mi><mo id="algx1.l4.m3.3.3.2.2.5" xref="algx1.l4.m3.3.3.2.3.cmml">,</mo><msubsup id="algx1.l4.m3.3.3.2.2.2" xref="algx1.l4.m3.3.3.2.2.2.cmml"><mi id="algx1.l4.m3.3.3.2.2.2.2.2" xref="algx1.l4.m3.3.3.2.2.2.2.2.cmml">b</mi><msub id="algx1.l4.m3.3.3.2.2.2.2.3" xref="algx1.l4.m3.3.3.2.2.2.2.3.cmml"><mi id="algx1.l4.m3.3.3.2.2.2.2.3.2" xref="algx1.l4.m3.3.3.2.2.2.2.3.2.cmml">N</mi><mi id="algx1.l4.m3.3.3.2.2.2.2.3.3" xref="algx1.l4.m3.3.3.2.2.2.2.3.3.cmml">k</mi></msub><mi id="algx1.l4.m3.3.3.2.2.2.3" xref="algx1.l4.m3.3.3.2.2.2.3.cmml">k</mi></msubsup><mo stretchy="false" id="algx1.l4.m3.3.3.2.2.6" xref="algx1.l4.m3.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l4.m3.3b"><apply id="algx1.l4.m3.3.3.cmml" xref="algx1.l4.m3.3.3"><eq id="algx1.l4.m3.3.3.3.cmml" xref="algx1.l4.m3.3.3.3"></eq><apply id="algx1.l4.m3.3.3.4.cmml" xref="algx1.l4.m3.3.3.4"><csymbol cd="ambiguous" id="algx1.l4.m3.3.3.4.1.cmml" xref="algx1.l4.m3.3.3.4">subscript</csymbol><ci id="algx1.l4.m3.3.3.4.2.cmml" xref="algx1.l4.m3.3.3.4.2">𝒟</ci><ci id="algx1.l4.m3.3.3.4.3.cmml" xref="algx1.l4.m3.3.3.4.3">𝑘</ci></apply><set id="algx1.l4.m3.3.3.2.3.cmml" xref="algx1.l4.m3.3.3.2.2"><apply id="algx1.l4.m3.2.2.1.1.1.cmml" xref="algx1.l4.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="algx1.l4.m3.2.2.1.1.1.1.cmml" xref="algx1.l4.m3.2.2.1.1.1">superscript</csymbol><apply id="algx1.l4.m3.2.2.1.1.1.2.cmml" xref="algx1.l4.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="algx1.l4.m3.2.2.1.1.1.2.1.cmml" xref="algx1.l4.m3.2.2.1.1.1">subscript</csymbol><ci id="algx1.l4.m3.2.2.1.1.1.2.2.cmml" xref="algx1.l4.m3.2.2.1.1.1.2.2">𝑏</ci><cn type="integer" id="algx1.l4.m3.2.2.1.1.1.2.3.cmml" xref="algx1.l4.m3.2.2.1.1.1.2.3">1</cn></apply><ci id="algx1.l4.m3.2.2.1.1.1.3.cmml" xref="algx1.l4.m3.2.2.1.1.1.3">𝑘</ci></apply><ci id="algx1.l4.m3.1.1.cmml" xref="algx1.l4.m3.1.1">…</ci><apply id="algx1.l4.m3.3.3.2.2.2.cmml" xref="algx1.l4.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="algx1.l4.m3.3.3.2.2.2.1.cmml" xref="algx1.l4.m3.3.3.2.2.2">superscript</csymbol><apply id="algx1.l4.m3.3.3.2.2.2.2.cmml" xref="algx1.l4.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="algx1.l4.m3.3.3.2.2.2.2.1.cmml" xref="algx1.l4.m3.3.3.2.2.2">subscript</csymbol><ci id="algx1.l4.m3.3.3.2.2.2.2.2.cmml" xref="algx1.l4.m3.3.3.2.2.2.2.2">𝑏</ci><apply id="algx1.l4.m3.3.3.2.2.2.2.3.cmml" xref="algx1.l4.m3.3.3.2.2.2.2.3"><csymbol cd="ambiguous" id="algx1.l4.m3.3.3.2.2.2.2.3.1.cmml" xref="algx1.l4.m3.3.3.2.2.2.2.3">subscript</csymbol><ci id="algx1.l4.m3.3.3.2.2.2.2.3.2.cmml" xref="algx1.l4.m3.3.3.2.2.2.2.3.2">𝑁</ci><ci id="algx1.l4.m3.3.3.2.2.2.2.3.3.cmml" xref="algx1.l4.m3.3.3.2.2.2.2.3.3">𝑘</ci></apply></apply><ci id="algx1.l4.m3.3.3.2.2.2.3.cmml" xref="algx1.l4.m3.3.3.2.2.2.3">𝑘</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m3.3c">\mathcal{D}_{k}=\{b_{1}^{k},...,b_{N_{k}}^{k}\}</annotation></semantics></math>, <math id="algx1.l4.m4.1" class="ltx_Math" alttext="1\leq k\leq K_{2}" display="inline"><semantics id="algx1.l4.m4.1a"><mrow id="algx1.l4.m4.1.1" xref="algx1.l4.m4.1.1.cmml"><mn id="algx1.l4.m4.1.1.2" xref="algx1.l4.m4.1.1.2.cmml">1</mn><mo id="algx1.l4.m4.1.1.3" xref="algx1.l4.m4.1.1.3.cmml">≤</mo><mi id="algx1.l4.m4.1.1.4" xref="algx1.l4.m4.1.1.4.cmml">k</mi><mo id="algx1.l4.m4.1.1.5" xref="algx1.l4.m4.1.1.5.cmml">≤</mo><msub id="algx1.l4.m4.1.1.6" xref="algx1.l4.m4.1.1.6.cmml"><mi id="algx1.l4.m4.1.1.6.2" xref="algx1.l4.m4.1.1.6.2.cmml">K</mi><mn id="algx1.l4.m4.1.1.6.3" xref="algx1.l4.m4.1.1.6.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l4.m4.1b"><apply id="algx1.l4.m4.1.1.cmml" xref="algx1.l4.m4.1.1"><and id="algx1.l4.m4.1.1a.cmml" xref="algx1.l4.m4.1.1"></and><apply id="algx1.l4.m4.1.1b.cmml" xref="algx1.l4.m4.1.1"><leq id="algx1.l4.m4.1.1.3.cmml" xref="algx1.l4.m4.1.1.3"></leq><cn type="integer" id="algx1.l4.m4.1.1.2.cmml" xref="algx1.l4.m4.1.1.2">1</cn><ci id="algx1.l4.m4.1.1.4.cmml" xref="algx1.l4.m4.1.1.4">𝑘</ci></apply><apply id="algx1.l4.m4.1.1c.cmml" xref="algx1.l4.m4.1.1"><leq id="algx1.l4.m4.1.1.5.cmml" xref="algx1.l4.m4.1.1.5"></leq><share href="#algx1.l4.m4.1.1.4.cmml" id="algx1.l4.m4.1.1d.cmml" xref="algx1.l4.m4.1.1"></share><apply id="algx1.l4.m4.1.1.6.cmml" xref="algx1.l4.m4.1.1.6"><csymbol cd="ambiguous" id="algx1.l4.m4.1.1.6.1.cmml" xref="algx1.l4.m4.1.1.6">subscript</csymbol><ci id="algx1.l4.m4.1.1.6.2.cmml" xref="algx1.l4.m4.1.1.6.2">𝐾</ci><cn type="integer" id="algx1.l4.m4.1.1.6.3.cmml" xref="algx1.l4.m4.1.1.6.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m4.1c">1\leq k\leq K_{2}</annotation></semantics></math>

</div>
<div id="algx1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     <math id="algx1.l5.m1.1" class="ltx_Math" alttext="S\leftarrow\mathcal{D}_{1}\cup\mathcal{D}_{2}\cup\cdots\cup\mathcal{D}_{K_{1}}" display="inline"><semantics id="algx1.l5.m1.1a"><mrow id="algx1.l5.m1.1.1" xref="algx1.l5.m1.1.1.cmml"><mi id="algx1.l5.m1.1.1.2" xref="algx1.l5.m1.1.1.2.cmml">S</mi><mo stretchy="false" id="algx1.l5.m1.1.1.1" xref="algx1.l5.m1.1.1.1.cmml">←</mo><mrow id="algx1.l5.m1.1.1.3" xref="algx1.l5.m1.1.1.3.cmml"><msub id="algx1.l5.m1.1.1.3.2" xref="algx1.l5.m1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l5.m1.1.1.3.2.2" xref="algx1.l5.m1.1.1.3.2.2.cmml">𝒟</mi><mn id="algx1.l5.m1.1.1.3.2.3" xref="algx1.l5.m1.1.1.3.2.3.cmml">1</mn></msub><mo id="algx1.l5.m1.1.1.3.1" xref="algx1.l5.m1.1.1.3.1.cmml">∪</mo><msub id="algx1.l5.m1.1.1.3.3" xref="algx1.l5.m1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l5.m1.1.1.3.3.2" xref="algx1.l5.m1.1.1.3.3.2.cmml">𝒟</mi><mn id="algx1.l5.m1.1.1.3.3.3" xref="algx1.l5.m1.1.1.3.3.3.cmml">2</mn></msub><mo id="algx1.l5.m1.1.1.3.1a" xref="algx1.l5.m1.1.1.3.1.cmml">∪</mo><mi mathvariant="normal" id="algx1.l5.m1.1.1.3.4" xref="algx1.l5.m1.1.1.3.4.cmml">⋯</mi><mo id="algx1.l5.m1.1.1.3.1b" xref="algx1.l5.m1.1.1.3.1.cmml">∪</mo><msub id="algx1.l5.m1.1.1.3.5" xref="algx1.l5.m1.1.1.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l5.m1.1.1.3.5.2" xref="algx1.l5.m1.1.1.3.5.2.cmml">𝒟</mi><msub id="algx1.l5.m1.1.1.3.5.3" xref="algx1.l5.m1.1.1.3.5.3.cmml"><mi id="algx1.l5.m1.1.1.3.5.3.2" xref="algx1.l5.m1.1.1.3.5.3.2.cmml">K</mi><mn id="algx1.l5.m1.1.1.3.5.3.3" xref="algx1.l5.m1.1.1.3.5.3.3.cmml">1</mn></msub></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l5.m1.1b"><apply id="algx1.l5.m1.1.1.cmml" xref="algx1.l5.m1.1.1"><ci id="algx1.l5.m1.1.1.1.cmml" xref="algx1.l5.m1.1.1.1">←</ci><ci id="algx1.l5.m1.1.1.2.cmml" xref="algx1.l5.m1.1.1.2">𝑆</ci><apply id="algx1.l5.m1.1.1.3.cmml" xref="algx1.l5.m1.1.1.3"><union id="algx1.l5.m1.1.1.3.1.cmml" xref="algx1.l5.m1.1.1.3.1"></union><apply id="algx1.l5.m1.1.1.3.2.cmml" xref="algx1.l5.m1.1.1.3.2"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.2.1.cmml" xref="algx1.l5.m1.1.1.3.2">subscript</csymbol><ci id="algx1.l5.m1.1.1.3.2.2.cmml" xref="algx1.l5.m1.1.1.3.2.2">𝒟</ci><cn type="integer" id="algx1.l5.m1.1.1.3.2.3.cmml" xref="algx1.l5.m1.1.1.3.2.3">1</cn></apply><apply id="algx1.l5.m1.1.1.3.3.cmml" xref="algx1.l5.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.3.1.cmml" xref="algx1.l5.m1.1.1.3.3">subscript</csymbol><ci id="algx1.l5.m1.1.1.3.3.2.cmml" xref="algx1.l5.m1.1.1.3.3.2">𝒟</ci><cn type="integer" id="algx1.l5.m1.1.1.3.3.3.cmml" xref="algx1.l5.m1.1.1.3.3.3">2</cn></apply><ci id="algx1.l5.m1.1.1.3.4.cmml" xref="algx1.l5.m1.1.1.3.4">⋯</ci><apply id="algx1.l5.m1.1.1.3.5.cmml" xref="algx1.l5.m1.1.1.3.5"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.5.1.cmml" xref="algx1.l5.m1.1.1.3.5">subscript</csymbol><ci id="algx1.l5.m1.1.1.3.5.2.cmml" xref="algx1.l5.m1.1.1.3.5.2">𝒟</ci><apply id="algx1.l5.m1.1.1.3.5.3.cmml" xref="algx1.l5.m1.1.1.3.5.3"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.5.3.1.cmml" xref="algx1.l5.m1.1.1.3.5.3">subscript</csymbol><ci id="algx1.l5.m1.1.1.3.5.3.2.cmml" xref="algx1.l5.m1.1.1.3.5.3.2">𝐾</ci><cn type="integer" id="algx1.l5.m1.1.1.3.5.3.3.cmml" xref="algx1.l5.m1.1.1.3.5.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l5.m1.1c">S\leftarrow\mathcal{D}_{1}\cup\mathcal{D}_{2}\cup\cdots\cup\mathcal{D}_{K_{1}}</annotation></semantics></math>

</div>
<div id="algx1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <math id="algx1.l6.m1.1" class="ltx_Math" alttext="N\leftarrow N_{1}+N_{2}+\cdots+N_{K_{1}}" display="inline"><semantics id="algx1.l6.m1.1a"><mrow id="algx1.l6.m1.1.1" xref="algx1.l6.m1.1.1.cmml"><mi id="algx1.l6.m1.1.1.2" xref="algx1.l6.m1.1.1.2.cmml">N</mi><mo stretchy="false" id="algx1.l6.m1.1.1.1" xref="algx1.l6.m1.1.1.1.cmml">←</mo><mrow id="algx1.l6.m1.1.1.3" xref="algx1.l6.m1.1.1.3.cmml"><msub id="algx1.l6.m1.1.1.3.2" xref="algx1.l6.m1.1.1.3.2.cmml"><mi id="algx1.l6.m1.1.1.3.2.2" xref="algx1.l6.m1.1.1.3.2.2.cmml">N</mi><mn id="algx1.l6.m1.1.1.3.2.3" xref="algx1.l6.m1.1.1.3.2.3.cmml">1</mn></msub><mo id="algx1.l6.m1.1.1.3.1" xref="algx1.l6.m1.1.1.3.1.cmml">+</mo><msub id="algx1.l6.m1.1.1.3.3" xref="algx1.l6.m1.1.1.3.3.cmml"><mi id="algx1.l6.m1.1.1.3.3.2" xref="algx1.l6.m1.1.1.3.3.2.cmml">N</mi><mn id="algx1.l6.m1.1.1.3.3.3" xref="algx1.l6.m1.1.1.3.3.3.cmml">2</mn></msub><mo id="algx1.l6.m1.1.1.3.1a" xref="algx1.l6.m1.1.1.3.1.cmml">+</mo><mi mathvariant="normal" id="algx1.l6.m1.1.1.3.4" xref="algx1.l6.m1.1.1.3.4.cmml">⋯</mi><mo id="algx1.l6.m1.1.1.3.1b" xref="algx1.l6.m1.1.1.3.1.cmml">+</mo><msub id="algx1.l6.m1.1.1.3.5" xref="algx1.l6.m1.1.1.3.5.cmml"><mi id="algx1.l6.m1.1.1.3.5.2" xref="algx1.l6.m1.1.1.3.5.2.cmml">N</mi><msub id="algx1.l6.m1.1.1.3.5.3" xref="algx1.l6.m1.1.1.3.5.3.cmml"><mi id="algx1.l6.m1.1.1.3.5.3.2" xref="algx1.l6.m1.1.1.3.5.3.2.cmml">K</mi><mn id="algx1.l6.m1.1.1.3.5.3.3" xref="algx1.l6.m1.1.1.3.5.3.3.cmml">1</mn></msub></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l6.m1.1b"><apply id="algx1.l6.m1.1.1.cmml" xref="algx1.l6.m1.1.1"><ci id="algx1.l6.m1.1.1.1.cmml" xref="algx1.l6.m1.1.1.1">←</ci><ci id="algx1.l6.m1.1.1.2.cmml" xref="algx1.l6.m1.1.1.2">𝑁</ci><apply id="algx1.l6.m1.1.1.3.cmml" xref="algx1.l6.m1.1.1.3"><plus id="algx1.l6.m1.1.1.3.1.cmml" xref="algx1.l6.m1.1.1.3.1"></plus><apply id="algx1.l6.m1.1.1.3.2.cmml" xref="algx1.l6.m1.1.1.3.2"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.3.2.1.cmml" xref="algx1.l6.m1.1.1.3.2">subscript</csymbol><ci id="algx1.l6.m1.1.1.3.2.2.cmml" xref="algx1.l6.m1.1.1.3.2.2">𝑁</ci><cn type="integer" id="algx1.l6.m1.1.1.3.2.3.cmml" xref="algx1.l6.m1.1.1.3.2.3">1</cn></apply><apply id="algx1.l6.m1.1.1.3.3.cmml" xref="algx1.l6.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.3.3.1.cmml" xref="algx1.l6.m1.1.1.3.3">subscript</csymbol><ci id="algx1.l6.m1.1.1.3.3.2.cmml" xref="algx1.l6.m1.1.1.3.3.2">𝑁</ci><cn type="integer" id="algx1.l6.m1.1.1.3.3.3.cmml" xref="algx1.l6.m1.1.1.3.3.3">2</cn></apply><ci id="algx1.l6.m1.1.1.3.4.cmml" xref="algx1.l6.m1.1.1.3.4">⋯</ci><apply id="algx1.l6.m1.1.1.3.5.cmml" xref="algx1.l6.m1.1.1.3.5"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.3.5.1.cmml" xref="algx1.l6.m1.1.1.3.5">subscript</csymbol><ci id="algx1.l6.m1.1.1.3.5.2.cmml" xref="algx1.l6.m1.1.1.3.5.2">𝑁</ci><apply id="algx1.l6.m1.1.1.3.5.3.cmml" xref="algx1.l6.m1.1.1.3.5.3"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.3.5.3.1.cmml" xref="algx1.l6.m1.1.1.3.5.3">subscript</csymbol><ci id="algx1.l6.m1.1.1.3.5.3.2.cmml" xref="algx1.l6.m1.1.1.3.5.3.2">𝐾</ci><cn type="integer" id="algx1.l6.m1.1.1.3.5.3.3.cmml" xref="algx1.l6.m1.1.1.3.5.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m1.1c">N\leftarrow N_{1}+N_{2}+\cdots+N_{K_{1}}</annotation></semantics></math>

</div>
<div id="algx1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>     Randomly pick <math id="algx1.l7.m1.1" class="ltx_Math" alttext="\lfloor\alpha N\rfloor" display="inline"><semantics id="algx1.l7.m1.1a"><mrow id="algx1.l7.m1.1.1.1" xref="algx1.l7.m1.1.1.2.cmml"><mo stretchy="false" id="algx1.l7.m1.1.1.1.2" xref="algx1.l7.m1.1.1.2.1.cmml">⌊</mo><mrow id="algx1.l7.m1.1.1.1.1" xref="algx1.l7.m1.1.1.1.1.cmml"><mi id="algx1.l7.m1.1.1.1.1.2" xref="algx1.l7.m1.1.1.1.1.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="algx1.l7.m1.1.1.1.1.1" xref="algx1.l7.m1.1.1.1.1.1.cmml">​</mo><mi id="algx1.l7.m1.1.1.1.1.3" xref="algx1.l7.m1.1.1.1.1.3.cmml">N</mi></mrow><mo stretchy="false" id="algx1.l7.m1.1.1.1.3" xref="algx1.l7.m1.1.1.2.1.cmml">⌋</mo></mrow><annotation-xml encoding="MathML-Content" id="algx1.l7.m1.1b"><apply id="algx1.l7.m1.1.1.2.cmml" xref="algx1.l7.m1.1.1.1"><floor id="algx1.l7.m1.1.1.2.1.cmml" xref="algx1.l7.m1.1.1.1.2"></floor><apply id="algx1.l7.m1.1.1.1.1.cmml" xref="algx1.l7.m1.1.1.1.1"><times id="algx1.l7.m1.1.1.1.1.1.cmml" xref="algx1.l7.m1.1.1.1.1.1"></times><ci id="algx1.l7.m1.1.1.1.1.2.cmml" xref="algx1.l7.m1.1.1.1.1.2">𝛼</ci><ci id="algx1.l7.m1.1.1.1.1.3.cmml" xref="algx1.l7.m1.1.1.1.1.3">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m1.1c">\lfloor\alpha N\rfloor</annotation></semantics></math> mini-batches from <math id="algx1.l7.m2.1" class="ltx_Math" alttext="\bigcup_{k=K_{1}}^{K_{2}}\mathcal{D}_{k}" display="inline"><semantics id="algx1.l7.m2.1a"><mrow id="algx1.l7.m2.1.1" xref="algx1.l7.m2.1.1.cmml"><msubsup id="algx1.l7.m2.1.1.1" xref="algx1.l7.m2.1.1.1.cmml"><mo id="algx1.l7.m2.1.1.1.2.2" xref="algx1.l7.m2.1.1.1.2.2.cmml">⋃</mo><mrow id="algx1.l7.m2.1.1.1.2.3" xref="algx1.l7.m2.1.1.1.2.3.cmml"><mi id="algx1.l7.m2.1.1.1.2.3.2" xref="algx1.l7.m2.1.1.1.2.3.2.cmml">k</mi><mo id="algx1.l7.m2.1.1.1.2.3.1" xref="algx1.l7.m2.1.1.1.2.3.1.cmml">=</mo><msub id="algx1.l7.m2.1.1.1.2.3.3" xref="algx1.l7.m2.1.1.1.2.3.3.cmml"><mi id="algx1.l7.m2.1.1.1.2.3.3.2" xref="algx1.l7.m2.1.1.1.2.3.3.2.cmml">K</mi><mn id="algx1.l7.m2.1.1.1.2.3.3.3" xref="algx1.l7.m2.1.1.1.2.3.3.3.cmml">1</mn></msub></mrow><msub id="algx1.l7.m2.1.1.1.3" xref="algx1.l7.m2.1.1.1.3.cmml"><mi id="algx1.l7.m2.1.1.1.3.2" xref="algx1.l7.m2.1.1.1.3.2.cmml">K</mi><mn id="algx1.l7.m2.1.1.1.3.3" xref="algx1.l7.m2.1.1.1.3.3.cmml">2</mn></msub></msubsup><msub id="algx1.l7.m2.1.1.2" xref="algx1.l7.m2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l7.m2.1.1.2.2" xref="algx1.l7.m2.1.1.2.2.cmml">𝒟</mi><mi id="algx1.l7.m2.1.1.2.3" xref="algx1.l7.m2.1.1.2.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l7.m2.1b"><apply id="algx1.l7.m2.1.1.cmml" xref="algx1.l7.m2.1.1"><apply id="algx1.l7.m2.1.1.1.cmml" xref="algx1.l7.m2.1.1.1"><csymbol cd="ambiguous" id="algx1.l7.m2.1.1.1.1.cmml" xref="algx1.l7.m2.1.1.1">superscript</csymbol><apply id="algx1.l7.m2.1.1.1.2.cmml" xref="algx1.l7.m2.1.1.1"><csymbol cd="ambiguous" id="algx1.l7.m2.1.1.1.2.1.cmml" xref="algx1.l7.m2.1.1.1">subscript</csymbol><union id="algx1.l7.m2.1.1.1.2.2.cmml" xref="algx1.l7.m2.1.1.1.2.2"></union><apply id="algx1.l7.m2.1.1.1.2.3.cmml" xref="algx1.l7.m2.1.1.1.2.3"><eq id="algx1.l7.m2.1.1.1.2.3.1.cmml" xref="algx1.l7.m2.1.1.1.2.3.1"></eq><ci id="algx1.l7.m2.1.1.1.2.3.2.cmml" xref="algx1.l7.m2.1.1.1.2.3.2">𝑘</ci><apply id="algx1.l7.m2.1.1.1.2.3.3.cmml" xref="algx1.l7.m2.1.1.1.2.3.3"><csymbol cd="ambiguous" id="algx1.l7.m2.1.1.1.2.3.3.1.cmml" xref="algx1.l7.m2.1.1.1.2.3.3">subscript</csymbol><ci id="algx1.l7.m2.1.1.1.2.3.3.2.cmml" xref="algx1.l7.m2.1.1.1.2.3.3.2">𝐾</ci><cn type="integer" id="algx1.l7.m2.1.1.1.2.3.3.3.cmml" xref="algx1.l7.m2.1.1.1.2.3.3.3">1</cn></apply></apply></apply><apply id="algx1.l7.m2.1.1.1.3.cmml" xref="algx1.l7.m2.1.1.1.3"><csymbol cd="ambiguous" id="algx1.l7.m2.1.1.1.3.1.cmml" xref="algx1.l7.m2.1.1.1.3">subscript</csymbol><ci id="algx1.l7.m2.1.1.1.3.2.cmml" xref="algx1.l7.m2.1.1.1.3.2">𝐾</ci><cn type="integer" id="algx1.l7.m2.1.1.1.3.3.cmml" xref="algx1.l7.m2.1.1.1.3.3">2</cn></apply></apply><apply id="algx1.l7.m2.1.1.2.cmml" xref="algx1.l7.m2.1.1.2"><csymbol cd="ambiguous" id="algx1.l7.m2.1.1.2.1.cmml" xref="algx1.l7.m2.1.1.2">subscript</csymbol><ci id="algx1.l7.m2.1.1.2.2.cmml" xref="algx1.l7.m2.1.1.2.2">𝒟</ci><ci id="algx1.l7.m2.1.1.2.3.cmml" xref="algx1.l7.m2.1.1.2.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m2.1c">\bigcup_{k=K_{1}}^{K_{2}}\mathcal{D}_{k}</annotation></semantics></math> and add to <math id="algx1.l7.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="algx1.l7.m3.1a"><mi id="algx1.l7.m3.1.1" xref="algx1.l7.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="algx1.l7.m3.1b"><ci id="algx1.l7.m3.1.1.cmml" xref="algx1.l7.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m3.1c">S</annotation></semantics></math>

</div>
<div id="algx1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>     Assign mini-batches in <math id="algx1.l8.m1.1" class="ltx_Math" alttext="S" display="inline"><semantics id="algx1.l8.m1.1a"><mi id="algx1.l8.m1.1.1" xref="algx1.l8.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="algx1.l8.m1.1b"><ci id="algx1.l8.m1.1.1.cmml" xref="algx1.l8.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l8.m1.1c">S</annotation></semantics></math> in a random order to obtain a sequence <math id="algx1.l8.m2.3" class="ltx_Math" alttext="B=(b_{1},...,b_{L})" display="inline"><semantics id="algx1.l8.m2.3a"><mrow id="algx1.l8.m2.3.3" xref="algx1.l8.m2.3.3.cmml"><mi id="algx1.l8.m2.3.3.4" xref="algx1.l8.m2.3.3.4.cmml">B</mi><mo id="algx1.l8.m2.3.3.3" xref="algx1.l8.m2.3.3.3.cmml">=</mo><mrow id="algx1.l8.m2.3.3.2.2" xref="algx1.l8.m2.3.3.2.3.cmml"><mo stretchy="false" id="algx1.l8.m2.3.3.2.2.3" xref="algx1.l8.m2.3.3.2.3.cmml">(</mo><msub id="algx1.l8.m2.2.2.1.1.1" xref="algx1.l8.m2.2.2.1.1.1.cmml"><mi id="algx1.l8.m2.2.2.1.1.1.2" xref="algx1.l8.m2.2.2.1.1.1.2.cmml">b</mi><mn id="algx1.l8.m2.2.2.1.1.1.3" xref="algx1.l8.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="algx1.l8.m2.3.3.2.2.4" xref="algx1.l8.m2.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="algx1.l8.m2.1.1" xref="algx1.l8.m2.1.1.cmml">…</mi><mo id="algx1.l8.m2.3.3.2.2.5" xref="algx1.l8.m2.3.3.2.3.cmml">,</mo><msub id="algx1.l8.m2.3.3.2.2.2" xref="algx1.l8.m2.3.3.2.2.2.cmml"><mi id="algx1.l8.m2.3.3.2.2.2.2" xref="algx1.l8.m2.3.3.2.2.2.2.cmml">b</mi><mi id="algx1.l8.m2.3.3.2.2.2.3" xref="algx1.l8.m2.3.3.2.2.2.3.cmml">L</mi></msub><mo stretchy="false" id="algx1.l8.m2.3.3.2.2.6" xref="algx1.l8.m2.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l8.m2.3b"><apply id="algx1.l8.m2.3.3.cmml" xref="algx1.l8.m2.3.3"><eq id="algx1.l8.m2.3.3.3.cmml" xref="algx1.l8.m2.3.3.3"></eq><ci id="algx1.l8.m2.3.3.4.cmml" xref="algx1.l8.m2.3.3.4">𝐵</ci><vector id="algx1.l8.m2.3.3.2.3.cmml" xref="algx1.l8.m2.3.3.2.2"><apply id="algx1.l8.m2.2.2.1.1.1.cmml" xref="algx1.l8.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="algx1.l8.m2.2.2.1.1.1.1.cmml" xref="algx1.l8.m2.2.2.1.1.1">subscript</csymbol><ci id="algx1.l8.m2.2.2.1.1.1.2.cmml" xref="algx1.l8.m2.2.2.1.1.1.2">𝑏</ci><cn type="integer" id="algx1.l8.m2.2.2.1.1.1.3.cmml" xref="algx1.l8.m2.2.2.1.1.1.3">1</cn></apply><ci id="algx1.l8.m2.1.1.cmml" xref="algx1.l8.m2.1.1">…</ci><apply id="algx1.l8.m2.3.3.2.2.2.cmml" xref="algx1.l8.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="algx1.l8.m2.3.3.2.2.2.1.cmml" xref="algx1.l8.m2.3.3.2.2.2">subscript</csymbol><ci id="algx1.l8.m2.3.3.2.2.2.2.cmml" xref="algx1.l8.m2.3.3.2.2.2.2">𝑏</ci><ci id="algx1.l8.m2.3.3.2.2.2.3.cmml" xref="algx1.l8.m2.3.3.2.2.2.3">𝐿</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l8.m2.3c">B=(b_{1},...,b_{L})</annotation></semantics></math>, where <math id="algx1.l8.m3.1" class="ltx_Math" alttext="L=N+\lfloor\alpha N\rfloor" display="inline"><semantics id="algx1.l8.m3.1a"><mrow id="algx1.l8.m3.1.1" xref="algx1.l8.m3.1.1.cmml"><mi id="algx1.l8.m3.1.1.3" xref="algx1.l8.m3.1.1.3.cmml">L</mi><mo id="algx1.l8.m3.1.1.2" xref="algx1.l8.m3.1.1.2.cmml">=</mo><mrow id="algx1.l8.m3.1.1.1" xref="algx1.l8.m3.1.1.1.cmml"><mi id="algx1.l8.m3.1.1.1.3" xref="algx1.l8.m3.1.1.1.3.cmml">N</mi><mo id="algx1.l8.m3.1.1.1.2" xref="algx1.l8.m3.1.1.1.2.cmml">+</mo><mrow id="algx1.l8.m3.1.1.1.1.1" xref="algx1.l8.m3.1.1.1.1.2.cmml"><mo stretchy="false" id="algx1.l8.m3.1.1.1.1.1.2" xref="algx1.l8.m3.1.1.1.1.2.1.cmml">⌊</mo><mrow id="algx1.l8.m3.1.1.1.1.1.1" xref="algx1.l8.m3.1.1.1.1.1.1.cmml"><mi id="algx1.l8.m3.1.1.1.1.1.1.2" xref="algx1.l8.m3.1.1.1.1.1.1.2.cmml">α</mi><mo lspace="0em" rspace="0em" id="algx1.l8.m3.1.1.1.1.1.1.1" xref="algx1.l8.m3.1.1.1.1.1.1.1.cmml">​</mo><mi id="algx1.l8.m3.1.1.1.1.1.1.3" xref="algx1.l8.m3.1.1.1.1.1.1.3.cmml">N</mi></mrow><mo stretchy="false" id="algx1.l8.m3.1.1.1.1.1.3" xref="algx1.l8.m3.1.1.1.1.2.1.cmml">⌋</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l8.m3.1b"><apply id="algx1.l8.m3.1.1.cmml" xref="algx1.l8.m3.1.1"><eq id="algx1.l8.m3.1.1.2.cmml" xref="algx1.l8.m3.1.1.2"></eq><ci id="algx1.l8.m3.1.1.3.cmml" xref="algx1.l8.m3.1.1.3">𝐿</ci><apply id="algx1.l8.m3.1.1.1.cmml" xref="algx1.l8.m3.1.1.1"><plus id="algx1.l8.m3.1.1.1.2.cmml" xref="algx1.l8.m3.1.1.1.2"></plus><ci id="algx1.l8.m3.1.1.1.3.cmml" xref="algx1.l8.m3.1.1.1.3">𝑁</ci><apply id="algx1.l8.m3.1.1.1.1.2.cmml" xref="algx1.l8.m3.1.1.1.1.1"><floor id="algx1.l8.m3.1.1.1.1.2.1.cmml" xref="algx1.l8.m3.1.1.1.1.1.2"></floor><apply id="algx1.l8.m3.1.1.1.1.1.1.cmml" xref="algx1.l8.m3.1.1.1.1.1.1"><times id="algx1.l8.m3.1.1.1.1.1.1.1.cmml" xref="algx1.l8.m3.1.1.1.1.1.1.1"></times><ci id="algx1.l8.m3.1.1.1.1.1.1.2.cmml" xref="algx1.l8.m3.1.1.1.1.1.1.2">𝛼</ci><ci id="algx1.l8.m3.1.1.1.1.1.1.3.cmml" xref="algx1.l8.m3.1.1.1.1.1.1.3">𝑁</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l8.m3.1c">L=N+\lfloor\alpha N\rfloor</annotation></semantics></math>

</div>
<div id="algx1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>     <span id="algx1.l9.1" class="ltx_text ltx_font_bold">for</span> each mini-batch <math id="algx1.l9.m1.1" class="ltx_Math" alttext="b\in B" display="inline"><semantics id="algx1.l9.m1.1a"><mrow id="algx1.l9.m1.1.1" xref="algx1.l9.m1.1.1.cmml"><mi id="algx1.l9.m1.1.1.2" xref="algx1.l9.m1.1.1.2.cmml">b</mi><mo id="algx1.l9.m1.1.1.1" xref="algx1.l9.m1.1.1.1.cmml">∈</mo><mi id="algx1.l9.m1.1.1.3" xref="algx1.l9.m1.1.1.3.cmml">B</mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l9.m1.1b"><apply id="algx1.l9.m1.1.1.cmml" xref="algx1.l9.m1.1.1"><in id="algx1.l9.m1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1"></in><ci id="algx1.l9.m1.1.1.2.cmml" xref="algx1.l9.m1.1.1.2">𝑏</ci><ci id="algx1.l9.m1.1.1.3.cmml" xref="algx1.l9.m1.1.1.3">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m1.1c">b\in B</annotation></semantics></math> <span id="algx1.l9.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="algx1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>         Perform gradient update on <math id="algx1.l10.m1.1" class="ltx_Math" alttext="\mathcal{M}" display="inline"><semantics id="algx1.l10.m1.1a"><mi class="ltx_font_mathcaligraphic" id="algx1.l10.m1.1.1" xref="algx1.l10.m1.1.1.cmml">ℳ</mi><annotation-xml encoding="MathML-Content" id="algx1.l10.m1.1b"><ci id="algx1.l10.m1.1.1.cmml" xref="algx1.l10.m1.1.1">ℳ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l10.m1.1c">\mathcal{M}</annotation></semantics></math> with loss <math id="algx1.l10.m2.5" class="ltx_Math" alttext="l(b)=\sum_{(s_{1},s_{2})\in b}l(s_{1},s_{2})" display="inline"><semantics id="algx1.l10.m2.5a"><mrow id="algx1.l10.m2.5.5" xref="algx1.l10.m2.5.5.cmml"><mrow id="algx1.l10.m2.5.5.4" xref="algx1.l10.m2.5.5.4.cmml"><mi id="algx1.l10.m2.5.5.4.2" xref="algx1.l10.m2.5.5.4.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="algx1.l10.m2.5.5.4.1" xref="algx1.l10.m2.5.5.4.1.cmml">​</mo><mrow id="algx1.l10.m2.5.5.4.3.2" xref="algx1.l10.m2.5.5.4.cmml"><mo stretchy="false" id="algx1.l10.m2.5.5.4.3.2.1" xref="algx1.l10.m2.5.5.4.cmml">(</mo><mi id="algx1.l10.m2.3.3" xref="algx1.l10.m2.3.3.cmml">b</mi><mo stretchy="false" id="algx1.l10.m2.5.5.4.3.2.2" xref="algx1.l10.m2.5.5.4.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="algx1.l10.m2.5.5.3" xref="algx1.l10.m2.5.5.3.cmml">=</mo><mrow id="algx1.l10.m2.5.5.2" xref="algx1.l10.m2.5.5.2.cmml"><msub id="algx1.l10.m2.5.5.2.3" xref="algx1.l10.m2.5.5.2.3.cmml"><mo id="algx1.l10.m2.5.5.2.3.2" xref="algx1.l10.m2.5.5.2.3.2.cmml">∑</mo><mrow id="algx1.l10.m2.2.2.2" xref="algx1.l10.m2.2.2.2.cmml"><mrow id="algx1.l10.m2.2.2.2.2.2" xref="algx1.l10.m2.2.2.2.2.3.cmml"><mo stretchy="false" id="algx1.l10.m2.2.2.2.2.2.3" xref="algx1.l10.m2.2.2.2.2.3.cmml">(</mo><msub id="algx1.l10.m2.1.1.1.1.1.1" xref="algx1.l10.m2.1.1.1.1.1.1.cmml"><mi id="algx1.l10.m2.1.1.1.1.1.1.2" xref="algx1.l10.m2.1.1.1.1.1.1.2.cmml">s</mi><mn id="algx1.l10.m2.1.1.1.1.1.1.3" xref="algx1.l10.m2.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="algx1.l10.m2.2.2.2.2.2.4" xref="algx1.l10.m2.2.2.2.2.3.cmml">,</mo><msub id="algx1.l10.m2.2.2.2.2.2.2" xref="algx1.l10.m2.2.2.2.2.2.2.cmml"><mi id="algx1.l10.m2.2.2.2.2.2.2.2" xref="algx1.l10.m2.2.2.2.2.2.2.2.cmml">s</mi><mn id="algx1.l10.m2.2.2.2.2.2.2.3" xref="algx1.l10.m2.2.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="algx1.l10.m2.2.2.2.2.2.5" xref="algx1.l10.m2.2.2.2.2.3.cmml">)</mo></mrow><mo id="algx1.l10.m2.2.2.2.3" xref="algx1.l10.m2.2.2.2.3.cmml">∈</mo><mi id="algx1.l10.m2.2.2.2.4" xref="algx1.l10.m2.2.2.2.4.cmml">b</mi></mrow></msub><mrow id="algx1.l10.m2.5.5.2.2" xref="algx1.l10.m2.5.5.2.2.cmml"><mi id="algx1.l10.m2.5.5.2.2.4" xref="algx1.l10.m2.5.5.2.2.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="algx1.l10.m2.5.5.2.2.3" xref="algx1.l10.m2.5.5.2.2.3.cmml">​</mo><mrow id="algx1.l10.m2.5.5.2.2.2.2" xref="algx1.l10.m2.5.5.2.2.2.3.cmml"><mo stretchy="false" id="algx1.l10.m2.5.5.2.2.2.2.3" xref="algx1.l10.m2.5.5.2.2.2.3.cmml">(</mo><msub id="algx1.l10.m2.4.4.1.1.1.1.1" xref="algx1.l10.m2.4.4.1.1.1.1.1.cmml"><mi id="algx1.l10.m2.4.4.1.1.1.1.1.2" xref="algx1.l10.m2.4.4.1.1.1.1.1.2.cmml">s</mi><mn id="algx1.l10.m2.4.4.1.1.1.1.1.3" xref="algx1.l10.m2.4.4.1.1.1.1.1.3.cmml">1</mn></msub><mo id="algx1.l10.m2.5.5.2.2.2.2.4" xref="algx1.l10.m2.5.5.2.2.2.3.cmml">,</mo><msub id="algx1.l10.m2.5.5.2.2.2.2.2" xref="algx1.l10.m2.5.5.2.2.2.2.2.cmml"><mi id="algx1.l10.m2.5.5.2.2.2.2.2.2" xref="algx1.l10.m2.5.5.2.2.2.2.2.2.cmml">s</mi><mn id="algx1.l10.m2.5.5.2.2.2.2.2.3" xref="algx1.l10.m2.5.5.2.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="algx1.l10.m2.5.5.2.2.2.2.5" xref="algx1.l10.m2.5.5.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l10.m2.5b"><apply id="algx1.l10.m2.5.5.cmml" xref="algx1.l10.m2.5.5"><eq id="algx1.l10.m2.5.5.3.cmml" xref="algx1.l10.m2.5.5.3"></eq><apply id="algx1.l10.m2.5.5.4.cmml" xref="algx1.l10.m2.5.5.4"><times id="algx1.l10.m2.5.5.4.1.cmml" xref="algx1.l10.m2.5.5.4.1"></times><ci id="algx1.l10.m2.5.5.4.2.cmml" xref="algx1.l10.m2.5.5.4.2">𝑙</ci><ci id="algx1.l10.m2.3.3.cmml" xref="algx1.l10.m2.3.3">𝑏</ci></apply><apply id="algx1.l10.m2.5.5.2.cmml" xref="algx1.l10.m2.5.5.2"><apply id="algx1.l10.m2.5.5.2.3.cmml" xref="algx1.l10.m2.5.5.2.3"><csymbol cd="ambiguous" id="algx1.l10.m2.5.5.2.3.1.cmml" xref="algx1.l10.m2.5.5.2.3">subscript</csymbol><sum id="algx1.l10.m2.5.5.2.3.2.cmml" xref="algx1.l10.m2.5.5.2.3.2"></sum><apply id="algx1.l10.m2.2.2.2.cmml" xref="algx1.l10.m2.2.2.2"><in id="algx1.l10.m2.2.2.2.3.cmml" xref="algx1.l10.m2.2.2.2.3"></in><interval closure="open" id="algx1.l10.m2.2.2.2.2.3.cmml" xref="algx1.l10.m2.2.2.2.2.2"><apply id="algx1.l10.m2.1.1.1.1.1.1.cmml" xref="algx1.l10.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l10.m2.1.1.1.1.1.1.1.cmml" xref="algx1.l10.m2.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l10.m2.1.1.1.1.1.1.2.cmml" xref="algx1.l10.m2.1.1.1.1.1.1.2">𝑠</ci><cn type="integer" id="algx1.l10.m2.1.1.1.1.1.1.3.cmml" xref="algx1.l10.m2.1.1.1.1.1.1.3">1</cn></apply><apply id="algx1.l10.m2.2.2.2.2.2.2.cmml" xref="algx1.l10.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l10.m2.2.2.2.2.2.2.1.cmml" xref="algx1.l10.m2.2.2.2.2.2.2">subscript</csymbol><ci id="algx1.l10.m2.2.2.2.2.2.2.2.cmml" xref="algx1.l10.m2.2.2.2.2.2.2.2">𝑠</ci><cn type="integer" id="algx1.l10.m2.2.2.2.2.2.2.3.cmml" xref="algx1.l10.m2.2.2.2.2.2.2.3">2</cn></apply></interval><ci id="algx1.l10.m2.2.2.2.4.cmml" xref="algx1.l10.m2.2.2.2.4">𝑏</ci></apply></apply><apply id="algx1.l10.m2.5.5.2.2.cmml" xref="algx1.l10.m2.5.5.2.2"><times id="algx1.l10.m2.5.5.2.2.3.cmml" xref="algx1.l10.m2.5.5.2.2.3"></times><ci id="algx1.l10.m2.5.5.2.2.4.cmml" xref="algx1.l10.m2.5.5.2.2.4">𝑙</ci><interval closure="open" id="algx1.l10.m2.5.5.2.2.2.3.cmml" xref="algx1.l10.m2.5.5.2.2.2.2"><apply id="algx1.l10.m2.4.4.1.1.1.1.1.cmml" xref="algx1.l10.m2.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l10.m2.4.4.1.1.1.1.1.1.cmml" xref="algx1.l10.m2.4.4.1.1.1.1.1">subscript</csymbol><ci id="algx1.l10.m2.4.4.1.1.1.1.1.2.cmml" xref="algx1.l10.m2.4.4.1.1.1.1.1.2">𝑠</ci><cn type="integer" id="algx1.l10.m2.4.4.1.1.1.1.1.3.cmml" xref="algx1.l10.m2.4.4.1.1.1.1.1.3">1</cn></apply><apply id="algx1.l10.m2.5.5.2.2.2.2.2.cmml" xref="algx1.l10.m2.5.5.2.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l10.m2.5.5.2.2.2.2.2.1.cmml" xref="algx1.l10.m2.5.5.2.2.2.2.2">subscript</csymbol><ci id="algx1.l10.m2.5.5.2.2.2.2.2.2.cmml" xref="algx1.l10.m2.5.5.2.2.2.2.2.2">𝑠</ci><cn type="integer" id="algx1.l10.m2.5.5.2.2.2.2.2.3.cmml" xref="algx1.l10.m2.5.5.2.2.2.2.2.3">2</cn></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l10.m2.5c">l(b)=\sum_{(s_{1},s_{2})\in b}l(s_{1},s_{2})</annotation></semantics></math>

</div>
<div id="algx1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>     <span id="algx1.l11.1" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l11.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="algx1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>     Evaluate development set performance on <math id="algx1.l12.m1.3" class="ltx_Math" alttext="\mathcal{D}_{1},...,\mathcal{D}_{K_{1}}" display="inline"><semantics id="algx1.l12.m1.3a"><mrow id="algx1.l12.m1.3.3.2" xref="algx1.l12.m1.3.3.3.cmml"><msub id="algx1.l12.m1.2.2.1.1" xref="algx1.l12.m1.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l12.m1.2.2.1.1.2" xref="algx1.l12.m1.2.2.1.1.2.cmml">𝒟</mi><mn id="algx1.l12.m1.2.2.1.1.3" xref="algx1.l12.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="algx1.l12.m1.3.3.2.3" xref="algx1.l12.m1.3.3.3.cmml">,</mo><mi mathvariant="normal" id="algx1.l12.m1.1.1" xref="algx1.l12.m1.1.1.cmml">…</mi><mo id="algx1.l12.m1.3.3.2.4" xref="algx1.l12.m1.3.3.3.cmml">,</mo><msub id="algx1.l12.m1.3.3.2.2" xref="algx1.l12.m1.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l12.m1.3.3.2.2.2" xref="algx1.l12.m1.3.3.2.2.2.cmml">𝒟</mi><msub id="algx1.l12.m1.3.3.2.2.3" xref="algx1.l12.m1.3.3.2.2.3.cmml"><mi id="algx1.l12.m1.3.3.2.2.3.2" xref="algx1.l12.m1.3.3.2.2.3.2.cmml">K</mi><mn id="algx1.l12.m1.3.3.2.2.3.3" xref="algx1.l12.m1.3.3.2.2.3.3.cmml">1</mn></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l12.m1.3b"><list id="algx1.l12.m1.3.3.3.cmml" xref="algx1.l12.m1.3.3.2"><apply id="algx1.l12.m1.2.2.1.1.cmml" xref="algx1.l12.m1.2.2.1.1"><csymbol cd="ambiguous" id="algx1.l12.m1.2.2.1.1.1.cmml" xref="algx1.l12.m1.2.2.1.1">subscript</csymbol><ci id="algx1.l12.m1.2.2.1.1.2.cmml" xref="algx1.l12.m1.2.2.1.1.2">𝒟</ci><cn type="integer" id="algx1.l12.m1.2.2.1.1.3.cmml" xref="algx1.l12.m1.2.2.1.1.3">1</cn></apply><ci id="algx1.l12.m1.1.1.cmml" xref="algx1.l12.m1.1.1">…</ci><apply id="algx1.l12.m1.3.3.2.2.cmml" xref="algx1.l12.m1.3.3.2.2"><csymbol cd="ambiguous" id="algx1.l12.m1.3.3.2.2.1.cmml" xref="algx1.l12.m1.3.3.2.2">subscript</csymbol><ci id="algx1.l12.m1.3.3.2.2.2.cmml" xref="algx1.l12.m1.3.3.2.2.2">𝒟</ci><apply id="algx1.l12.m1.3.3.2.2.3.cmml" xref="algx1.l12.m1.3.3.2.2.3"><csymbol cd="ambiguous" id="algx1.l12.m1.3.3.2.2.3.1.cmml" xref="algx1.l12.m1.3.3.2.2.3">subscript</csymbol><ci id="algx1.l12.m1.3.3.2.2.3.2.cmml" xref="algx1.l12.m1.3.3.2.2.3.2">𝐾</ci><cn type="integer" id="algx1.l12.m1.3.3.2.2.3.3.cmml" xref="algx1.l12.m1.3.3.2.2.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="algx1.l12.m1.3c">\mathcal{D}_{1},...,\mathcal{D}_{K_{1}}</annotation></semantics></math>

</div>
<div id="algx1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span><span id="algx1.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="algx1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>Model with best evaluation performance 

</div>
</div>
</figure>
<div id="S1.p4" class="ltx_para ltx_noindent">
<p id="S1.p4.1" class="ltx_p"><span id="S1.p4.1.1" class="ltx_text ltx_font_bold">Related Works.</span>
Transfer learning has been widely used in training models in the medical domain. For example, <cite class="ltx_cite ltx_citemacro_citet">Romanov and Shivade (<a href="#bib.bib10" title="" class="ltx_ref">2018</a>)</cite> leveraged the knowledge learned from SNLI to MedNLI; a transfer from general domain NLI to medical domain NLI. They also employed word embeddings trained on MIMIC-III medical notes, which can be seen as a language model in the scientific domain. SciBERT <cite class="ltx_cite ltx_citemacro_cite">Beltagy et al. (<a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite> studies transferring knowledge from SciBERT pretrained model to single-sentence classification tasks. Our problem is unique because of the prohibitive cost to train BERT: Either BERT or SciBERT requires a very long time to train, so we only explore how to combine the existing embeddings from SciBERT or MT-DNN.
Transfer learning is also widely used in other tasks of NLP, such as machine translation <cite class="ltx_cite ltx_citemacro_cite">Bahdanau et al. (<a href="#bib.bib2" title="" class="ltx_ref">2014</a>)</cite> and machine reading comprehension <cite class="ltx_cite ltx_citemacro_cite">Xu et al. (<a href="#bib.bib13" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/1906.04382/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="293" height="63" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of the proposed multi-source multi-task learning method.</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methods</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">We propose a multi-task learning method for the medical domain data. It employs datasets/tasks from both medical domain and external domains, and leverage the pre-trained model such as MT-DNN and SciBERT for fine-tuning. An overview of the proposed method is illustrated in Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. To further improve the performance, we propose to ensemble models trained from different initialization in the evaluation stage. Below we detail our methods for fine-tuning and ensembles.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Fine-tuning details</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.6" class="ltx_p"><span id="S2.SS1.p1.6.1" class="ltx_text ltx_font_bold">Algorithm.</span> We fine-tune the two types of pre-trained models on all the three tasks using multi-task learning. As suggested by MEDIQA paper, we also fine-tune our model on MedQuAD <cite class="ltx_cite ltx_citemacro_cite">Abacha and Demner-Fushman (<a href="#bib.bib1" title="" class="ltx_ref">2019</a>)</cite>, a medical QA dataset. We will provide details for fine-tuning on these datasets in Section <a href="#S2.SS3" title="2.3 Dataset-Specific Details ‣ 2 Methods ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.3</span></a>. We additionally regularize the model by also training on MNLI <cite class="ltx_cite ltx_citemacro_cite">Williams et al. (<a href="#bib.bib12" title="" class="ltx_ref">2018</a>)</cite>. To prevent the negative transfer from MNLI, we put a larger weight on MEDIQA data by sampling MNLI data with less probability. Our algorithm is presented in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and illustrated as Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, which is a mixture ratio method for multi-task learning inspired by <cite class="ltx_cite ltx_citemacro_citet">Xu et al. (<a href="#bib.bib13" title="" class="ltx_ref">2019</a>)</cite>. We start with in-domain datasets <math id="S2.SS1.p1.1.m1.2" class="ltx_Math" alttext="\mathcal{D}_{1},...\mathcal{D}_{K_{1}}" display="inline"><semantics id="S2.SS1.p1.1.m1.2a"><mrow id="S2.SS1.p1.1.m1.2.2.2" xref="S2.SS1.p1.1.m1.2.2.3.cmml"><msub id="S2.SS1.p1.1.m1.1.1.1.1" xref="S2.SS1.p1.1.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.1.1.1.1.2" xref="S2.SS1.p1.1.m1.1.1.1.1.2.cmml">𝒟</mi><mn id="S2.SS1.p1.1.m1.1.1.1.1.3" xref="S2.SS1.p1.1.m1.1.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.1.m1.2.2.2.3" xref="S2.SS1.p1.1.m1.2.2.3.cmml">,</mo><mrow id="S2.SS1.p1.1.m1.2.2.2.2" xref="S2.SS1.p1.1.m1.2.2.2.2.cmml"><mi mathvariant="normal" id="S2.SS1.p1.1.m1.2.2.2.2.2" xref="S2.SS1.p1.1.m1.2.2.2.2.2.cmml">…</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.1.m1.2.2.2.2.1" xref="S2.SS1.p1.1.m1.2.2.2.2.1.cmml">​</mo><msub id="S2.SS1.p1.1.m1.2.2.2.2.3" xref="S2.SS1.p1.1.m1.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.2.2.2.2.3.2" xref="S2.SS1.p1.1.m1.2.2.2.2.3.2.cmml">𝒟</mi><msub id="S2.SS1.p1.1.m1.2.2.2.2.3.3" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3.cmml"><mi id="S2.SS1.p1.1.m1.2.2.2.2.3.3.2" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3.2.cmml">K</mi><mn id="S2.SS1.p1.1.m1.2.2.2.2.3.3.3" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3.3.cmml">1</mn></msub></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.2b"><list id="S2.SS1.p1.1.m1.2.2.3.cmml" xref="S2.SS1.p1.1.m1.2.2.2"><apply id="S2.SS1.p1.1.m1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.1.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.2">𝒟</ci><cn type="integer" id="S2.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S2.SS1.p1.1.m1.1.1.1.1.3">1</cn></apply><apply id="S2.SS1.p1.1.m1.2.2.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2"><times id="S2.SS1.p1.1.m1.2.2.2.2.1.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.1"></times><ci id="S2.SS1.p1.1.m1.2.2.2.2.2.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.2">…</ci><apply id="S2.SS1.p1.1.m1.2.2.2.2.3.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.2.2.3.1.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.1.m1.2.2.2.2.3.2.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3.2">𝒟</ci><apply id="S2.SS1.p1.1.m1.2.2.2.2.3.3.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.2.2.3.3.1.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3">subscript</csymbol><ci id="S2.SS1.p1.1.m1.2.2.2.2.3.3.2.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3.2">𝐾</ci><cn type="integer" id="S2.SS1.p1.1.m1.2.2.2.2.3.3.3.cmml" xref="S2.SS1.p1.1.m1.2.2.2.2.3.3.3">1</cn></apply></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.2c">\mathcal{D}_{1},...\mathcal{D}_{K_{1}}</annotation></semantics></math> (i.e., the MEDIQA tasks, <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="K_{1}=3" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><msub id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml"><mi id="S2.SS1.p1.2.m2.1.1.2.2" xref="S2.SS1.p1.2.m2.1.1.2.2.cmml">K</mi><mn id="S2.SS1.p1.2.m2.1.1.2.3" xref="S2.SS1.p1.2.m2.1.1.2.3.cmml">1</mn></msub><mo id="S2.SS1.p1.2.m2.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.cmml">=</mo><mn id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><eq id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1"></eq><apply id="S2.SS1.p1.2.m2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.2.1.cmml" xref="S2.SS1.p1.2.m2.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.2.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2.2">𝐾</ci><cn type="integer" id="S2.SS1.p1.2.m2.1.1.2.3.cmml" xref="S2.SS1.p1.2.m2.1.1.2.3">1</cn></apply><cn type="integer" id="S2.SS1.p1.2.m2.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">K_{1}=3</annotation></semantics></math>) and external datasets <math id="S2.SS1.p1.3.m3.3" class="ltx_Math" alttext="\mathcal{D}_{K_{1}+1},...,\mathcal{D}_{K_{2}}" display="inline"><semantics id="S2.SS1.p1.3.m3.3a"><mrow id="S2.SS1.p1.3.m3.3.3.2" xref="S2.SS1.p1.3.m3.3.3.3.cmml"><msub id="S2.SS1.p1.3.m3.2.2.1.1" xref="S2.SS1.p1.3.m3.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.3.m3.2.2.1.1.2" xref="S2.SS1.p1.3.m3.2.2.1.1.2.cmml">𝒟</mi><mrow id="S2.SS1.p1.3.m3.2.2.1.1.3" xref="S2.SS1.p1.3.m3.2.2.1.1.3.cmml"><msub id="S2.SS1.p1.3.m3.2.2.1.1.3.2" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.cmml"><mi id="S2.SS1.p1.3.m3.2.2.1.1.3.2.2" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.2.cmml">K</mi><mn id="S2.SS1.p1.3.m3.2.2.1.1.3.2.3" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.3.cmml">1</mn></msub><mo id="S2.SS1.p1.3.m3.2.2.1.1.3.1" xref="S2.SS1.p1.3.m3.2.2.1.1.3.1.cmml">+</mo><mn id="S2.SS1.p1.3.m3.2.2.1.1.3.3" xref="S2.SS1.p1.3.m3.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S2.SS1.p1.3.m3.3.3.2.3" xref="S2.SS1.p1.3.m3.3.3.3.cmml">,</mo><mi mathvariant="normal" id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">…</mi><mo id="S2.SS1.p1.3.m3.3.3.2.4" xref="S2.SS1.p1.3.m3.3.3.3.cmml">,</mo><msub id="S2.SS1.p1.3.m3.3.3.2.2" xref="S2.SS1.p1.3.m3.3.3.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.3.m3.3.3.2.2.2" xref="S2.SS1.p1.3.m3.3.3.2.2.2.cmml">𝒟</mi><msub id="S2.SS1.p1.3.m3.3.3.2.2.3" xref="S2.SS1.p1.3.m3.3.3.2.2.3.cmml"><mi id="S2.SS1.p1.3.m3.3.3.2.2.3.2" xref="S2.SS1.p1.3.m3.3.3.2.2.3.2.cmml">K</mi><mn id="S2.SS1.p1.3.m3.3.3.2.2.3.3" xref="S2.SS1.p1.3.m3.3.3.2.2.3.3.cmml">2</mn></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.3b"><list id="S2.SS1.p1.3.m3.3.3.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2"><apply id="S2.SS1.p1.3.m3.2.2.1.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1">subscript</csymbol><ci id="S2.SS1.p1.3.m3.2.2.1.1.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.2">𝒟</ci><apply id="S2.SS1.p1.3.m3.2.2.1.1.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3"><plus id="S2.SS1.p1.3.m3.2.2.1.1.3.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.1"></plus><apply id="S2.SS1.p1.3.m3.2.2.1.1.3.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.2.2.1.1.3.2.1.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2">subscript</csymbol><ci id="S2.SS1.p1.3.m3.2.2.1.1.3.2.2.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.2">𝐾</ci><cn type="integer" id="S2.SS1.p1.3.m3.2.2.1.1.3.2.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.2.3">1</cn></apply><cn type="integer" id="S2.SS1.p1.3.m3.2.2.1.1.3.3.cmml" xref="S2.SS1.p1.3.m3.2.2.1.1.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">…</ci><apply id="S2.SS1.p1.3.m3.3.3.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2">subscript</csymbol><ci id="S2.SS1.p1.3.m3.3.3.2.2.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.2">𝒟</ci><apply id="S2.SS1.p1.3.m3.3.3.2.2.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.3.3.2.2.3.1.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.3.3.2.2.3.2.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.2">𝐾</ci><cn type="integer" id="S2.SS1.p1.3.m3.3.3.2.2.3.3.cmml" xref="S2.SS1.p1.3.m3.3.3.2.2.3.3">2</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.3c">\mathcal{D}_{K_{1}+1},...,\mathcal{D}_{K_{2}}</annotation></semantics></math> (in this case MNLI). We cast all the training samples as sentence pairs <math id="S2.SS1.p1.4.m4.5" class="ltx_Math" alttext="(s_{1},s_{2})\in\mathcal{D}_{k},k=1,2,...,K_{2}" display="inline"><semantics id="S2.SS1.p1.4.m4.5a"><mrow id="S2.SS1.p1.4.m4.5.5.2" xref="S2.SS1.p1.4.m4.5.5.3.cmml"><mrow id="S2.SS1.p1.4.m4.4.4.1.1" xref="S2.SS1.p1.4.m4.4.4.1.1.cmml"><mrow id="S2.SS1.p1.4.m4.4.4.1.1.2.2" xref="S2.SS1.p1.4.m4.4.4.1.1.2.3.cmml"><mo stretchy="false" id="S2.SS1.p1.4.m4.4.4.1.1.2.2.3" xref="S2.SS1.p1.4.m4.4.4.1.1.2.3.cmml">(</mo><msub id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.2" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.2.cmml">s</mi><mn id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.3" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.4.m4.4.4.1.1.2.2.4" xref="S2.SS1.p1.4.m4.4.4.1.1.2.3.cmml">,</mo><msub id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.cmml"><mi id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.2" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.2.cmml">s</mi><mn id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.3" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S2.SS1.p1.4.m4.4.4.1.1.2.2.5" xref="S2.SS1.p1.4.m4.4.4.1.1.2.3.cmml">)</mo></mrow><mo id="S2.SS1.p1.4.m4.4.4.1.1.3" xref="S2.SS1.p1.4.m4.4.4.1.1.3.cmml">∈</mo><msub id="S2.SS1.p1.4.m4.4.4.1.1.4" xref="S2.SS1.p1.4.m4.4.4.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.4.m4.4.4.1.1.4.2" xref="S2.SS1.p1.4.m4.4.4.1.1.4.2.cmml">𝒟</mi><mi id="S2.SS1.p1.4.m4.4.4.1.1.4.3" xref="S2.SS1.p1.4.m4.4.4.1.1.4.3.cmml">k</mi></msub></mrow><mo id="S2.SS1.p1.4.m4.5.5.2.3" xref="S2.SS1.p1.4.m4.5.5.3a.cmml">,</mo><mrow id="S2.SS1.p1.4.m4.5.5.2.2" xref="S2.SS1.p1.4.m4.5.5.2.2.cmml"><mi id="S2.SS1.p1.4.m4.5.5.2.2.3" xref="S2.SS1.p1.4.m4.5.5.2.2.3.cmml">k</mi><mo id="S2.SS1.p1.4.m4.5.5.2.2.2" xref="S2.SS1.p1.4.m4.5.5.2.2.2.cmml">=</mo><mrow id="S2.SS1.p1.4.m4.5.5.2.2.1.1" xref="S2.SS1.p1.4.m4.5.5.2.2.1.2.cmml"><mn id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">1</mn><mo id="S2.SS1.p1.4.m4.5.5.2.2.1.1.2" xref="S2.SS1.p1.4.m4.5.5.2.2.1.2.cmml">,</mo><mn id="S2.SS1.p1.4.m4.2.2" xref="S2.SS1.p1.4.m4.2.2.cmml">2</mn><mo id="S2.SS1.p1.4.m4.5.5.2.2.1.1.3" xref="S2.SS1.p1.4.m4.5.5.2.2.1.2.cmml">,</mo><mi mathvariant="normal" id="S2.SS1.p1.4.m4.3.3" xref="S2.SS1.p1.4.m4.3.3.cmml">…</mi><mo id="S2.SS1.p1.4.m4.5.5.2.2.1.1.4" xref="S2.SS1.p1.4.m4.5.5.2.2.1.2.cmml">,</mo><msub id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.2" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.2.cmml">K</mi><mn id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.3" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.3.cmml">2</mn></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.5b"><apply id="S2.SS1.p1.4.m4.5.5.3.cmml" xref="S2.SS1.p1.4.m4.5.5.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.5.5.3a.cmml" xref="S2.SS1.p1.4.m4.5.5.2.3">formulae-sequence</csymbol><apply id="S2.SS1.p1.4.m4.4.4.1.1.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1"><in id="S2.SS1.p1.4.m4.4.4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.3"></in><interval closure="open" id="S2.SS1.p1.4.m4.4.4.1.1.2.3.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2"><apply id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.2">𝑠</ci><cn type="integer" id="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.1.1.1.3">1</cn></apply><apply id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.1.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.2.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.2">𝑠</ci><cn type="integer" id="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.3.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.2.2.2.3">2</cn></apply></interval><apply id="S2.SS1.p1.4.m4.4.4.1.1.4.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.4"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.4.4.1.1.4.1.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.4">subscript</csymbol><ci id="S2.SS1.p1.4.m4.4.4.1.1.4.2.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.4.2">𝒟</ci><ci id="S2.SS1.p1.4.m4.4.4.1.1.4.3.cmml" xref="S2.SS1.p1.4.m4.4.4.1.1.4.3">𝑘</ci></apply></apply><apply id="S2.SS1.p1.4.m4.5.5.2.2.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2"><eq id="S2.SS1.p1.4.m4.5.5.2.2.2.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.2"></eq><ci id="S2.SS1.p1.4.m4.5.5.2.2.3.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.3">𝑘</ci><list id="S2.SS1.p1.4.m4.5.5.2.2.1.2.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1"><cn type="integer" id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">1</cn><cn type="integer" id="S2.SS1.p1.4.m4.2.2.cmml" xref="S2.SS1.p1.4.m4.2.2">2</cn><ci id="S2.SS1.p1.4.m4.3.3.cmml" xref="S2.SS1.p1.4.m4.3.3">…</ci><apply id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.2">𝐾</ci><cn type="integer" id="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.3.cmml" xref="S2.SS1.p1.4.m4.5.5.2.2.1.1.1.3">2</cn></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.5c">(s_{1},s_{2})\in\mathcal{D}_{k},k=1,2,...,K_{2}</annotation></semantics></math>. In each epoch of training, we use all mini-batches from in-domain data, while only a small proportion (controlled by <math id="S2.SS1.p1.5.m5.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.SS1.p1.5.m5.1a"><mi id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">\alpha</annotation></semantics></math> ) of mini-batches from external datasets are used to train the model. In our experiments, the mixture ratio <math id="S2.SS1.p1.6.m6.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S2.SS1.p1.6.m6.1a"><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">\alpha</annotation></semantics></math> is set to 0.5. We use MedNLI, RQE, QA, and MedQuAD in medical domain as in-domain data and MNLI as external data. For MedNLI, we additionally find that using MedNLI as in-domain data and RQE, QA, MedQuAD as external data can also help boost performance. We use models trained using both setups of external data for ensembling.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para ltx_noindent">
<p id="S2.SS1.p2.1" class="ltx_p"><span id="S2.SS1.p2.1.1" class="ltx_text ltx_font_bold">Pre-trained Models.</span> We use three different types of initialization as the starting point for fine-tuning: i) the uncased MT-DNN large model from <cite class="ltx_cite ltx_citemacro_citet">Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>)</cite>, ii) the cased knowledge-distilled MT-DNN model from <cite class="ltx_cite ltx_citemacro_citet">Liu et al. (<a href="#bib.bib8" title="" class="ltx_ref">2019a</a>)</cite>, and iii) the uncased SciBERT model <cite class="ltx_cite ltx_citemacro_cite">Beltagy et al. (<a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite>.
We add a simple softmax layer (or linear layer for QA and MedQuAD tasks) atop BERT as the answer module for fine-tuning. For initialization in step <a href="#algx1.l2" title="In Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we initialize all BERT weights with the pretrained weights, and randomly initialize the answer layers.
After multi-task fine-tuning, the joint model is further fine-tuned on each specific task to get better performance. We detail the training loss and fine-tuning process for each task in Section <a href="#S2.SS3" title="2.3 Dataset-Specific Details ‣ 2 Methods ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.3</span></a>.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para ltx_noindent">
<p id="S2.SS1.p3.1" class="ltx_p"><span id="S2.SS1.p3.1.1" class="ltx_text ltx_font_bold">Objectives.</span> MedNLI and RQE are binary classification tasks, and we use a cross-entropy loss. Specifically, for a sentence pair <math id="S2.SS1.p3.1.m1.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.SS1.p3.1.m1.1a"><mi id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><ci id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">X</annotation></semantics></math> we compute the loss</p>
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex1.m1.5" class="ltx_Math" alttext="\mathcal{L}(X)=-\sum_{c}\mathbbm{1}(X,c)\log(P_{r}(c|X))," display="block"><semantics id="S2.Ex1.m1.5a"><mrow id="S2.Ex1.m1.5.5.1" xref="S2.Ex1.m1.5.5.1.1.cmml"><mrow id="S2.Ex1.m1.5.5.1.1" xref="S2.Ex1.m1.5.5.1.1.cmml"><mrow id="S2.Ex1.m1.5.5.1.1.3" xref="S2.Ex1.m1.5.5.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.Ex1.m1.5.5.1.1.3.2" xref="S2.Ex1.m1.5.5.1.1.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.5.5.1.1.3.1" xref="S2.Ex1.m1.5.5.1.1.3.1.cmml">​</mo><mrow id="S2.Ex1.m1.5.5.1.1.3.3.2" xref="S2.Ex1.m1.5.5.1.1.3.cmml"><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.3.3.2.1" xref="S2.Ex1.m1.5.5.1.1.3.cmml">(</mo><mi id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">X</mi><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.3.3.2.2" xref="S2.Ex1.m1.5.5.1.1.3.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.5.5.1.1.2" xref="S2.Ex1.m1.5.5.1.1.2.cmml">=</mo><mrow id="S2.Ex1.m1.5.5.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.cmml"><mo id="S2.Ex1.m1.5.5.1.1.1a" xref="S2.Ex1.m1.5.5.1.1.1.cmml">−</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.cmml"><munder id="S2.Ex1.m1.5.5.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.2.cmml"><mo movablelimits="false" id="S2.Ex1.m1.5.5.1.1.1.1.2.2" xref="S2.Ex1.m1.5.5.1.1.1.1.2.2.cmml">∑</mo><mi id="S2.Ex1.m1.5.5.1.1.1.1.2.3" xref="S2.Ex1.m1.5.5.1.1.1.1.2.3.cmml">c</mi></munder><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.cmml"><mn id="S2.Ex1.m1.5.5.1.1.1.1.1.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.3.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.5.5.1.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.4.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.4.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.4.2.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.4.1.cmml">(</mo><mi id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml">X</mi><mo id="S2.Ex1.m1.5.5.1.1.1.1.1.4.2.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.4.1.cmml">,</mo><mi id="S2.Ex1.m1.3.3" xref="S2.Ex1.m1.3.3.cmml">c</mi><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.4.2.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.4.1.cmml">)</mo></mrow><mo lspace="0.167em" rspace="0em" id="S2.Ex1.m1.5.5.1.1.1.1.1.2a" xref="S2.Ex1.m1.5.5.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml"><mi id="S2.Ex1.m1.4.4" xref="S2.Ex1.m1.4.4.cmml">log</mi><mo id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1a" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml">P</mi><mi id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml">r</mi></msub><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">c</mi><mo fence="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo id="S2.Ex1.m1.5.5.1.2" xref="S2.Ex1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.5b"><apply id="S2.Ex1.m1.5.5.1.1.cmml" xref="S2.Ex1.m1.5.5.1"><eq id="S2.Ex1.m1.5.5.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.2"></eq><apply id="S2.Ex1.m1.5.5.1.1.3.cmml" xref="S2.Ex1.m1.5.5.1.1.3"><times id="S2.Ex1.m1.5.5.1.1.3.1.cmml" xref="S2.Ex1.m1.5.5.1.1.3.1"></times><ci id="S2.Ex1.m1.5.5.1.1.3.2.cmml" xref="S2.Ex1.m1.5.5.1.1.3.2">ℒ</ci><ci id="S2.Ex1.m1.1.1.cmml" xref="S2.Ex1.m1.1.1">𝑋</ci></apply><apply id="S2.Ex1.m1.5.5.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1"><minus id="S2.Ex1.m1.5.5.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1"></minus><apply id="S2.Ex1.m1.5.5.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1"><apply id="S2.Ex1.m1.5.5.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.1.1.1.1.2.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.2">subscript</csymbol><sum id="S2.Ex1.m1.5.5.1.1.1.1.2.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.2.2"></sum><ci id="S2.Ex1.m1.5.5.1.1.1.1.2.3.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.2.3">𝑐</ci></apply><apply id="S2.Ex1.m1.5.5.1.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1"><times id="S2.Ex1.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.2"></times><cn type="integer" id="S2.Ex1.m1.5.5.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.3">1</cn><interval closure="open" id="S2.Ex1.m1.5.5.1.1.1.1.1.4.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.4.2"><ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">𝑋</ci><ci id="S2.Ex1.m1.3.3.cmml" xref="S2.Ex1.m1.3.3">𝑐</ci></interval><apply id="S2.Ex1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1"><log id="S2.Ex1.m1.4.4.cmml" xref="S2.Ex1.m1.4.4"></log><apply id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><apply id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.2">𝑃</ci><ci id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.3.3">𝑟</ci></apply><apply id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑐</ci><ci id="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑋</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.5c">\mathcal{L}(X)=-\sum_{c}\mathbbm{1}(X,c)\log(P_{r}(c|X)),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS1.p3.8" class="ltx_p">where <math id="S2.SS1.p3.2.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.SS1.p3.2.m1.1a"><mi id="S2.SS1.p3.2.m1.1.1" xref="S2.SS1.p3.2.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m1.1b"><ci id="S2.SS1.p3.2.m1.1.1.cmml" xref="S2.SS1.p3.2.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m1.1c">c</annotation></semantics></math> iterates over all possible classes, <math id="S2.SS1.p3.3.m2.2" class="ltx_Math" alttext="\mathbbm{1}(X,c)" display="inline"><semantics id="S2.SS1.p3.3.m2.2a"><mrow id="S2.SS1.p3.3.m2.2.3" xref="S2.SS1.p3.3.m2.2.3.cmml"><mn id="S2.SS1.p3.3.m2.2.3.2" xref="S2.SS1.p3.3.m2.2.3.2.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S2.SS1.p3.3.m2.2.3.1" xref="S2.SS1.p3.3.m2.2.3.1.cmml">​</mo><mrow id="S2.SS1.p3.3.m2.2.3.3.2" xref="S2.SS1.p3.3.m2.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p3.3.m2.2.3.3.2.1" xref="S2.SS1.p3.3.m2.2.3.3.1.cmml">(</mo><mi id="S2.SS1.p3.3.m2.1.1" xref="S2.SS1.p3.3.m2.1.1.cmml">X</mi><mo id="S2.SS1.p3.3.m2.2.3.3.2.2" xref="S2.SS1.p3.3.m2.2.3.3.1.cmml">,</mo><mi id="S2.SS1.p3.3.m2.2.2" xref="S2.SS1.p3.3.m2.2.2.cmml">c</mi><mo stretchy="false" id="S2.SS1.p3.3.m2.2.3.3.2.3" xref="S2.SS1.p3.3.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.3.m2.2b"><apply id="S2.SS1.p3.3.m2.2.3.cmml" xref="S2.SS1.p3.3.m2.2.3"><times id="S2.SS1.p3.3.m2.2.3.1.cmml" xref="S2.SS1.p3.3.m2.2.3.1"></times><cn type="integer" id="S2.SS1.p3.3.m2.2.3.2.cmml" xref="S2.SS1.p3.3.m2.2.3.2">1</cn><interval closure="open" id="S2.SS1.p3.3.m2.2.3.3.1.cmml" xref="S2.SS1.p3.3.m2.2.3.3.2"><ci id="S2.SS1.p3.3.m2.1.1.cmml" xref="S2.SS1.p3.3.m2.1.1">𝑋</ci><ci id="S2.SS1.p3.3.m2.2.2.cmml" xref="S2.SS1.p3.3.m2.2.2">𝑐</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.3.m2.2c">\mathbbm{1}(X,c)</annotation></semantics></math> is the binary indicator (0 or 1) if class label <math id="S2.SS1.p3.4.m3.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.SS1.p3.4.m3.1a"><mi id="S2.SS1.p3.4.m3.1.1" xref="S2.SS1.p3.4.m3.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.4.m3.1b"><ci id="S2.SS1.p3.4.m3.1.1.cmml" xref="S2.SS1.p3.4.m3.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.4.m3.1c">c</annotation></semantics></math> is the correct classification for <math id="S2.SS1.p3.5.m4.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.SS1.p3.5.m4.1a"><mi id="S2.SS1.p3.5.m4.1.1" xref="S2.SS1.p3.5.m4.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.5.m4.1b"><ci id="S2.SS1.p3.5.m4.1.1.cmml" xref="S2.SS1.p3.5.m4.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.5.m4.1c">X</annotation></semantics></math>, and <math id="S2.SS1.p3.6.m5.1" class="ltx_Math" alttext="P_{r}(c|X)" display="inline"><semantics id="S2.SS1.p3.6.m5.1a"><mrow id="S2.SS1.p3.6.m5.1.1" xref="S2.SS1.p3.6.m5.1.1.cmml"><msub id="S2.SS1.p3.6.m5.1.1.3" xref="S2.SS1.p3.6.m5.1.1.3.cmml"><mi id="S2.SS1.p3.6.m5.1.1.3.2" xref="S2.SS1.p3.6.m5.1.1.3.2.cmml">P</mi><mi id="S2.SS1.p3.6.m5.1.1.3.3" xref="S2.SS1.p3.6.m5.1.1.3.3.cmml">r</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p3.6.m5.1.1.2" xref="S2.SS1.p3.6.m5.1.1.2.cmml">​</mo><mrow id="S2.SS1.p3.6.m5.1.1.1.1" xref="S2.SS1.p3.6.m5.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p3.6.m5.1.1.1.1.2" xref="S2.SS1.p3.6.m5.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS1.p3.6.m5.1.1.1.1.1" xref="S2.SS1.p3.6.m5.1.1.1.1.1.cmml"><mi id="S2.SS1.p3.6.m5.1.1.1.1.1.2" xref="S2.SS1.p3.6.m5.1.1.1.1.1.2.cmml">c</mi><mo fence="false" id="S2.SS1.p3.6.m5.1.1.1.1.1.1" xref="S2.SS1.p3.6.m5.1.1.1.1.1.1.cmml">|</mo><mi id="S2.SS1.p3.6.m5.1.1.1.1.1.3" xref="S2.SS1.p3.6.m5.1.1.1.1.1.3.cmml">X</mi></mrow><mo stretchy="false" id="S2.SS1.p3.6.m5.1.1.1.1.3" xref="S2.SS1.p3.6.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.6.m5.1b"><apply id="S2.SS1.p3.6.m5.1.1.cmml" xref="S2.SS1.p3.6.m5.1.1"><times id="S2.SS1.p3.6.m5.1.1.2.cmml" xref="S2.SS1.p3.6.m5.1.1.2"></times><apply id="S2.SS1.p3.6.m5.1.1.3.cmml" xref="S2.SS1.p3.6.m5.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p3.6.m5.1.1.3.1.cmml" xref="S2.SS1.p3.6.m5.1.1.3">subscript</csymbol><ci id="S2.SS1.p3.6.m5.1.1.3.2.cmml" xref="S2.SS1.p3.6.m5.1.1.3.2">𝑃</ci><ci id="S2.SS1.p3.6.m5.1.1.3.3.cmml" xref="S2.SS1.p3.6.m5.1.1.3.3">𝑟</ci></apply><apply id="S2.SS1.p3.6.m5.1.1.1.1.1.cmml" xref="S2.SS1.p3.6.m5.1.1.1.1"><csymbol cd="latexml" id="S2.SS1.p3.6.m5.1.1.1.1.1.1.cmml" xref="S2.SS1.p3.6.m5.1.1.1.1.1.1">conditional</csymbol><ci id="S2.SS1.p3.6.m5.1.1.1.1.1.2.cmml" xref="S2.SS1.p3.6.m5.1.1.1.1.1.2">𝑐</ci><ci id="S2.SS1.p3.6.m5.1.1.1.1.1.3.cmml" xref="S2.SS1.p3.6.m5.1.1.1.1.1.3">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.6.m5.1c">P_{r}(c|X)</annotation></semantics></math> is the model prediction for probability of class <math id="S2.SS1.p3.7.m6.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S2.SS1.p3.7.m6.1a"><mi id="S2.SS1.p3.7.m6.1.1" xref="S2.SS1.p3.7.m6.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.7.m6.1b"><ci id="S2.SS1.p3.7.m6.1.1.cmml" xref="S2.SS1.p3.7.m6.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.7.m6.1c">c</annotation></semantics></math> for sample <math id="S2.SS1.p3.8.m7.1" class="ltx_Math" alttext="X" display="inline"><semantics id="S2.SS1.p3.8.m7.1a"><mi id="S2.SS1.p3.8.m7.1.1" xref="S2.SS1.p3.8.m7.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.8.m7.1b"><ci id="S2.SS1.p3.8.m7.1.1.cmml" xref="S2.SS1.p3.8.m7.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.8.m7.1c">X</annotation></semantics></math>.</p>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.1" class="ltx_p">We formulate QA and MedQuAD as regression tasks, and thus a MSE loss is used. Specifically, for a question-answer pair <math id="S2.SS1.p4.1.m1.2" class="ltx_Math" alttext="(Q,A)" display="inline"><semantics id="S2.SS1.p4.1.m1.2a"><mrow id="S2.SS1.p4.1.m1.2.3.2" xref="S2.SS1.p4.1.m1.2.3.1.cmml"><mo stretchy="false" id="S2.SS1.p4.1.m1.2.3.2.1" xref="S2.SS1.p4.1.m1.2.3.1.cmml">(</mo><mi id="S2.SS1.p4.1.m1.1.1" xref="S2.SS1.p4.1.m1.1.1.cmml">Q</mi><mo id="S2.SS1.p4.1.m1.2.3.2.2" xref="S2.SS1.p4.1.m1.2.3.1.cmml">,</mo><mi id="S2.SS1.p4.1.m1.2.2" xref="S2.SS1.p4.1.m1.2.2.cmml">A</mi><mo stretchy="false" id="S2.SS1.p4.1.m1.2.3.2.3" xref="S2.SS1.p4.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.2b"><interval closure="open" id="S2.SS1.p4.1.m1.2.3.1.cmml" xref="S2.SS1.p4.1.m1.2.3.2"><ci id="S2.SS1.p4.1.m1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1">𝑄</ci><ci id="S2.SS1.p4.1.m1.2.2.cmml" xref="S2.SS1.p4.1.m1.2.2">𝐴</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.2c">(Q,A)</annotation></semantics></math> we compute the MSE loss as</p>
<table id="S2.Ex2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex2.m1.5" class="ltx_Math" alttext="\mathcal{L}(Q,A)=(y-\mathtt{score}(Q,A))^{2}," display="block"><semantics id="S2.Ex2.m1.5a"><mrow id="S2.Ex2.m1.5.5.1" xref="S2.Ex2.m1.5.5.1.1.cmml"><mrow id="S2.Ex2.m1.5.5.1.1" xref="S2.Ex2.m1.5.5.1.1.cmml"><mrow id="S2.Ex2.m1.5.5.1.1.3" xref="S2.Ex2.m1.5.5.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.Ex2.m1.5.5.1.1.3.2" xref="S2.Ex2.m1.5.5.1.1.3.2.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.5.5.1.1.3.1" xref="S2.Ex2.m1.5.5.1.1.3.1.cmml">​</mo><mrow id="S2.Ex2.m1.5.5.1.1.3.3.2" xref="S2.Ex2.m1.5.5.1.1.3.3.1.cmml"><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.3.3.2.1" xref="S2.Ex2.m1.5.5.1.1.3.3.1.cmml">(</mo><mi id="S2.Ex2.m1.1.1" xref="S2.Ex2.m1.1.1.cmml">Q</mi><mo id="S2.Ex2.m1.5.5.1.1.3.3.2.2" xref="S2.Ex2.m1.5.5.1.1.3.3.1.cmml">,</mo><mi id="S2.Ex2.m1.2.2" xref="S2.Ex2.m1.2.2.cmml">A</mi><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.3.3.2.3" xref="S2.Ex2.m1.5.5.1.1.3.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex2.m1.5.5.1.1.2" xref="S2.Ex2.m1.5.5.1.1.2.cmml">=</mo><msup id="S2.Ex2.m1.5.5.1.1.1" xref="S2.Ex2.m1.5.5.1.1.1.cmml"><mrow id="S2.Ex2.m1.5.5.1.1.1.1.1" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.1.1.1.2" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.Ex2.m1.5.5.1.1.1.1.1.1" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S2.Ex2.m1.5.5.1.1.1.1.1.1.2" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.2.cmml">y</mi><mo id="S2.Ex2.m1.5.5.1.1.1.1.1.1.1" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.2" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.2.cmml">𝚜𝚌𝚘𝚛𝚎</mi><mo lspace="0em" rspace="0em" id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.1" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.2" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.1.cmml"><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.2.1" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.1.cmml">(</mo><mi id="S2.Ex2.m1.3.3" xref="S2.Ex2.m1.3.3.cmml">Q</mi><mo id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.2.2" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.1.cmml">,</mo><mi id="S2.Ex2.m1.4.4" xref="S2.Ex2.m1.4.4.cmml">A</mi><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.2.3" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S2.Ex2.m1.5.5.1.1.1.1.1.3" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S2.Ex2.m1.5.5.1.1.1.3" xref="S2.Ex2.m1.5.5.1.1.1.3.cmml">2</mn></msup></mrow><mo id="S2.Ex2.m1.5.5.1.2" xref="S2.Ex2.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex2.m1.5b"><apply id="S2.Ex2.m1.5.5.1.1.cmml" xref="S2.Ex2.m1.5.5.1"><eq id="S2.Ex2.m1.5.5.1.1.2.cmml" xref="S2.Ex2.m1.5.5.1.1.2"></eq><apply id="S2.Ex2.m1.5.5.1.1.3.cmml" xref="S2.Ex2.m1.5.5.1.1.3"><times id="S2.Ex2.m1.5.5.1.1.3.1.cmml" xref="S2.Ex2.m1.5.5.1.1.3.1"></times><ci id="S2.Ex2.m1.5.5.1.1.3.2.cmml" xref="S2.Ex2.m1.5.5.1.1.3.2">ℒ</ci><interval closure="open" id="S2.Ex2.m1.5.5.1.1.3.3.1.cmml" xref="S2.Ex2.m1.5.5.1.1.3.3.2"><ci id="S2.Ex2.m1.1.1.cmml" xref="S2.Ex2.m1.1.1">𝑄</ci><ci id="S2.Ex2.m1.2.2.cmml" xref="S2.Ex2.m1.2.2">𝐴</ci></interval></apply><apply id="S2.Ex2.m1.5.5.1.1.1.cmml" xref="S2.Ex2.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S2.Ex2.m1.5.5.1.1.1.2.cmml" xref="S2.Ex2.m1.5.5.1.1.1">superscript</csymbol><apply id="S2.Ex2.m1.5.5.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1"><minus id="S2.Ex2.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.1"></minus><ci id="S2.Ex2.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.2">𝑦</ci><apply id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3"><times id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.1"></times><ci id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.2">𝚜𝚌𝚘𝚛𝚎</ci><interval closure="open" id="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.1.cmml" xref="S2.Ex2.m1.5.5.1.1.1.1.1.1.3.3.2"><ci id="S2.Ex2.m1.3.3.cmml" xref="S2.Ex2.m1.3.3">𝑄</ci><ci id="S2.Ex2.m1.4.4.cmml" xref="S2.Ex2.m1.4.4">𝐴</ci></interval></apply></apply><cn type="integer" id="S2.Ex2.m1.5.5.1.1.1.3.cmml" xref="S2.Ex2.m1.5.5.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex2.m1.5c">\mathcal{L}(Q,A)=(y-\mathtt{score}(Q,A))^{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS1.p4.4" class="ltx_p">where <math id="S2.SS1.p4.2.m1.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS1.p4.2.m1.1a"><mi id="S2.SS1.p4.2.m1.1.1" xref="S2.SS1.p4.2.m1.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.2.m1.1b"><ci id="S2.SS1.p4.2.m1.1.1.cmml" xref="S2.SS1.p4.2.m1.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.2.m1.1c">y</annotation></semantics></math> is the target relevance score for pair <math id="S2.SS1.p4.3.m2.2" class="ltx_Math" alttext="(Q,A)" display="inline"><semantics id="S2.SS1.p4.3.m2.2a"><mrow id="S2.SS1.p4.3.m2.2.3.2" xref="S2.SS1.p4.3.m2.2.3.1.cmml"><mo stretchy="false" id="S2.SS1.p4.3.m2.2.3.2.1" xref="S2.SS1.p4.3.m2.2.3.1.cmml">(</mo><mi id="S2.SS1.p4.3.m2.1.1" xref="S2.SS1.p4.3.m2.1.1.cmml">Q</mi><mo id="S2.SS1.p4.3.m2.2.3.2.2" xref="S2.SS1.p4.3.m2.2.3.1.cmml">,</mo><mi id="S2.SS1.p4.3.m2.2.2" xref="S2.SS1.p4.3.m2.2.2.cmml">A</mi><mo stretchy="false" id="S2.SS1.p4.3.m2.2.3.2.3" xref="S2.SS1.p4.3.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.3.m2.2b"><interval closure="open" id="S2.SS1.p4.3.m2.2.3.1.cmml" xref="S2.SS1.p4.3.m2.2.3.2"><ci id="S2.SS1.p4.3.m2.1.1.cmml" xref="S2.SS1.p4.3.m2.1.1">𝑄</ci><ci id="S2.SS1.p4.3.m2.2.2.cmml" xref="S2.SS1.p4.3.m2.2.2">𝐴</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.3.m2.2c">(Q,A)</annotation></semantics></math>, and <math id="S2.SS1.p4.4.m3.2" class="ltx_Math" alttext="\mathtt{score}(Q,A)" display="inline"><semantics id="S2.SS1.p4.4.m3.2a"><mrow id="S2.SS1.p4.4.m3.2.3" xref="S2.SS1.p4.4.m3.2.3.cmml"><mi id="S2.SS1.p4.4.m3.2.3.2" xref="S2.SS1.p4.4.m3.2.3.2.cmml">𝚜𝚌𝚘𝚛𝚎</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p4.4.m3.2.3.1" xref="S2.SS1.p4.4.m3.2.3.1.cmml">​</mo><mrow id="S2.SS1.p4.4.m3.2.3.3.2" xref="S2.SS1.p4.4.m3.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p4.4.m3.2.3.3.2.1" xref="S2.SS1.p4.4.m3.2.3.3.1.cmml">(</mo><mi id="S2.SS1.p4.4.m3.1.1" xref="S2.SS1.p4.4.m3.1.1.cmml">Q</mi><mo id="S2.SS1.p4.4.m3.2.3.3.2.2" xref="S2.SS1.p4.4.m3.2.3.3.1.cmml">,</mo><mi id="S2.SS1.p4.4.m3.2.2" xref="S2.SS1.p4.4.m3.2.2.cmml">A</mi><mo stretchy="false" id="S2.SS1.p4.4.m3.2.3.3.2.3" xref="S2.SS1.p4.4.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.4.m3.2b"><apply id="S2.SS1.p4.4.m3.2.3.cmml" xref="S2.SS1.p4.4.m3.2.3"><times id="S2.SS1.p4.4.m3.2.3.1.cmml" xref="S2.SS1.p4.4.m3.2.3.1"></times><ci id="S2.SS1.p4.4.m3.2.3.2.cmml" xref="S2.SS1.p4.4.m3.2.3.2">𝚜𝚌𝚘𝚛𝚎</ci><interval closure="open" id="S2.SS1.p4.4.m3.2.3.3.1.cmml" xref="S2.SS1.p4.4.m3.2.3.3.2"><ci id="S2.SS1.p4.4.m3.1.1.cmml" xref="S2.SS1.p4.4.m3.1.1">𝑄</ci><ci id="S2.SS1.p4.4.m3.2.2.cmml" xref="S2.SS1.p4.4.m3.2.2">𝐴</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.4.m3.2c">\mathtt{score}(Q,A)</annotation></semantics></math> is the model prediction for the same pair.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Model Ensembles</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.10" class="ltx_p">After fine-tuning, we ensemble models trained from MT-DNN and SciBERT, and using different setups of in-domain and external datasets. The traditional methods typically fuse models by averaging the prediction probability of different models. For our setting, the in-domain data is very limited and it tends to overfit; this means the predictions can be arbitrarily close to 1, favoring to more over-fitting models. To prevent over-fitting, we ensemble the models by using a majority vote on their predictions, and resolving ties using sum of prediction probabilities. Suppose we have <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">M</annotation></semantics></math> models, and the <math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">m</annotation></semantics></math>-th model predicts the answer <math id="S2.SS2.p1.3.m3.1" class="ltx_Math" alttext="\hat{p}_{m}" display="inline"><semantics id="S2.SS2.p1.3.m3.1a"><msub id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml"><mover accent="true" id="S2.SS2.p1.3.m3.1.1.2" xref="S2.SS2.p1.3.m3.1.1.2.cmml"><mi id="S2.SS2.p1.3.m3.1.1.2.2" xref="S2.SS2.p1.3.m3.1.1.2.2.cmml">p</mi><mo id="S2.SS2.p1.3.m3.1.1.2.1" xref="S2.SS2.p1.3.m3.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.3.m3.1.1.3" xref="S2.SS2.p1.3.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">subscript</csymbol><apply id="S2.SS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.2"><ci id="S2.SS2.p1.3.m3.1.1.2.1.cmml" xref="S2.SS2.p1.3.m3.1.1.2.1">^</ci><ci id="S2.SS2.p1.3.m3.1.1.2.2.cmml" xref="S2.SS2.p1.3.m3.1.1.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">\hat{p}_{m}</annotation></semantics></math> for a specific question. For the classification task (MedNLI and RQE), we have <math id="S2.SS2.p1.4.m4.1" class="ltx_Math" alttext="\hat{p}_{m}\in\mathbb{R}^{C}" display="inline"><semantics id="S2.SS2.p1.4.m4.1a"><mrow id="S2.SS2.p1.4.m4.1.1" xref="S2.SS2.p1.4.m4.1.1.cmml"><msub id="S2.SS2.p1.4.m4.1.1.2" xref="S2.SS2.p1.4.m4.1.1.2.cmml"><mover accent="true" id="S2.SS2.p1.4.m4.1.1.2.2" xref="S2.SS2.p1.4.m4.1.1.2.2.cmml"><mi id="S2.SS2.p1.4.m4.1.1.2.2.2" xref="S2.SS2.p1.4.m4.1.1.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.4.m4.1.1.2.2.1" xref="S2.SS2.p1.4.m4.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.4.m4.1.1.2.3" xref="S2.SS2.p1.4.m4.1.1.2.3.cmml">m</mi></msub><mo id="S2.SS2.p1.4.m4.1.1.1" xref="S2.SS2.p1.4.m4.1.1.1.cmml">∈</mo><msup id="S2.SS2.p1.4.m4.1.1.3" xref="S2.SS2.p1.4.m4.1.1.3.cmml"><mi id="S2.SS2.p1.4.m4.1.1.3.2" xref="S2.SS2.p1.4.m4.1.1.3.2.cmml">ℝ</mi><mi id="S2.SS2.p1.4.m4.1.1.3.3" xref="S2.SS2.p1.4.m4.1.1.3.3.cmml">C</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m4.1b"><apply id="S2.SS2.p1.4.m4.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1"><in id="S2.SS2.p1.4.m4.1.1.1.cmml" xref="S2.SS2.p1.4.m4.1.1.1"></in><apply id="S2.SS2.p1.4.m4.1.1.2.cmml" xref="S2.SS2.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.1.1.2.1.cmml" xref="S2.SS2.p1.4.m4.1.1.2">subscript</csymbol><apply id="S2.SS2.p1.4.m4.1.1.2.2.cmml" xref="S2.SS2.p1.4.m4.1.1.2.2"><ci id="S2.SS2.p1.4.m4.1.1.2.2.1.cmml" xref="S2.SS2.p1.4.m4.1.1.2.2.1">^</ci><ci id="S2.SS2.p1.4.m4.1.1.2.2.2.cmml" xref="S2.SS2.p1.4.m4.1.1.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.4.m4.1.1.2.3.cmml" xref="S2.SS2.p1.4.m4.1.1.2.3">𝑚</ci></apply><apply id="S2.SS2.p1.4.m4.1.1.3.cmml" xref="S2.SS2.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p1.4.m4.1.1.3.1.cmml" xref="S2.SS2.p1.4.m4.1.1.3">superscript</csymbol><ci id="S2.SS2.p1.4.m4.1.1.3.2.cmml" xref="S2.SS2.p1.4.m4.1.1.3.2">ℝ</ci><ci id="S2.SS2.p1.4.m4.1.1.3.3.cmml" xref="S2.SS2.p1.4.m4.1.1.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m4.1c">\hat{p}_{m}\in\mathbb{R}^{C}</annotation></semantics></math>, where <math id="S2.SS2.p1.5.m5.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS2.p1.5.m5.1a"><mi id="S2.SS2.p1.5.m5.1.1" xref="S2.SS2.p1.5.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.5.m5.1b"><ci id="S2.SS2.p1.5.m5.1.1.cmml" xref="S2.SS2.p1.5.m5.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m5.1c">C</annotation></semantics></math> is the number of categories. Let <math id="S2.SS2.p1.6.m6.1" class="ltx_Math" alttext="\hat{y}_{m}=\operatorname*{arg\,max}_{i}\hat{p}_{m}^{(i)}" display="inline"><semantics id="S2.SS2.p1.6.m6.1a"><mrow id="S2.SS2.p1.6.m6.1.2" xref="S2.SS2.p1.6.m6.1.2.cmml"><msub id="S2.SS2.p1.6.m6.1.2.2" xref="S2.SS2.p1.6.m6.1.2.2.cmml"><mover accent="true" id="S2.SS2.p1.6.m6.1.2.2.2" xref="S2.SS2.p1.6.m6.1.2.2.2.cmml"><mi id="S2.SS2.p1.6.m6.1.2.2.2.2" xref="S2.SS2.p1.6.m6.1.2.2.2.2.cmml">y</mi><mo id="S2.SS2.p1.6.m6.1.2.2.2.1" xref="S2.SS2.p1.6.m6.1.2.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.6.m6.1.2.2.3" xref="S2.SS2.p1.6.m6.1.2.2.3.cmml">m</mi></msub><mo id="S2.SS2.p1.6.m6.1.2.1" xref="S2.SS2.p1.6.m6.1.2.1.cmml">=</mo><mrow id="S2.SS2.p1.6.m6.1.2.3" xref="S2.SS2.p1.6.m6.1.2.3.cmml"><msub id="S2.SS2.p1.6.m6.1.2.3.1" xref="S2.SS2.p1.6.m6.1.2.3.1.cmml"><mrow id="S2.SS2.p1.6.m6.1.2.3.1.2" xref="S2.SS2.p1.6.m6.1.2.3.1.2.cmml"><mi id="S2.SS2.p1.6.m6.1.2.3.1.2.2" xref="S2.SS2.p1.6.m6.1.2.3.1.2.2.cmml">arg</mi><mo lspace="0.170em" rspace="0em" id="S2.SS2.p1.6.m6.1.2.3.1.2.1" xref="S2.SS2.p1.6.m6.1.2.3.1.2.1.cmml">​</mo><mi id="S2.SS2.p1.6.m6.1.2.3.1.2.3" xref="S2.SS2.p1.6.m6.1.2.3.1.2.3.cmml">max</mi></mrow><mi id="S2.SS2.p1.6.m6.1.2.3.1.3" xref="S2.SS2.p1.6.m6.1.2.3.1.3.cmml">i</mi></msub><mo id="S2.SS2.p1.6.m6.1.2.3a" xref="S2.SS2.p1.6.m6.1.2.3.cmml">⁡</mo><msubsup id="S2.SS2.p1.6.m6.1.2.3.2" xref="S2.SS2.p1.6.m6.1.2.3.2.cmml"><mover accent="true" id="S2.SS2.p1.6.m6.1.2.3.2.2.2" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2.cmml"><mi id="S2.SS2.p1.6.m6.1.2.3.2.2.2.2" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.6.m6.1.2.3.2.2.2.1" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.6.m6.1.2.3.2.2.3" xref="S2.SS2.p1.6.m6.1.2.3.2.2.3.cmml">m</mi><mrow id="S2.SS2.p1.6.m6.1.1.1.3" xref="S2.SS2.p1.6.m6.1.2.3.2.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m6.1.1.1.3.1" xref="S2.SS2.p1.6.m6.1.2.3.2.cmml">(</mo><mi id="S2.SS2.p1.6.m6.1.1.1.1" xref="S2.SS2.p1.6.m6.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.6.m6.1.1.1.3.2" xref="S2.SS2.p1.6.m6.1.2.3.2.cmml">)</mo></mrow></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m6.1b"><apply id="S2.SS2.p1.6.m6.1.2.cmml" xref="S2.SS2.p1.6.m6.1.2"><eq id="S2.SS2.p1.6.m6.1.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.1"></eq><apply id="S2.SS2.p1.6.m6.1.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m6.1.2.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.2">subscript</csymbol><apply id="S2.SS2.p1.6.m6.1.2.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.2.2"><ci id="S2.SS2.p1.6.m6.1.2.2.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.2.2.1">^</ci><ci id="S2.SS2.p1.6.m6.1.2.2.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.2.2.2">𝑦</ci></apply><ci id="S2.SS2.p1.6.m6.1.2.2.3.cmml" xref="S2.SS2.p1.6.m6.1.2.2.3">𝑚</ci></apply><apply id="S2.SS2.p1.6.m6.1.2.3.cmml" xref="S2.SS2.p1.6.m6.1.2.3"><apply id="S2.SS2.p1.6.m6.1.2.3.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m6.1.2.3.1.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1">subscript</csymbol><apply id="S2.SS2.p1.6.m6.1.2.3.1.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1.2"><times id="S2.SS2.p1.6.m6.1.2.3.1.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1.2.1"></times><ci id="S2.SS2.p1.6.m6.1.2.3.1.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1.2.2">arg</ci><ci id="S2.SS2.p1.6.m6.1.2.3.1.2.3.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1.2.3">max</ci></apply><ci id="S2.SS2.p1.6.m6.1.2.3.1.3.cmml" xref="S2.SS2.p1.6.m6.1.2.3.1.3">𝑖</ci></apply><apply id="S2.SS2.p1.6.m6.1.2.3.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m6.1.2.3.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2">superscript</csymbol><apply id="S2.SS2.p1.6.m6.1.2.3.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m6.1.2.3.2.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2">subscript</csymbol><apply id="S2.SS2.p1.6.m6.1.2.3.2.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2"><ci id="S2.SS2.p1.6.m6.1.2.3.2.2.2.1.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2.1">^</ci><ci id="S2.SS2.p1.6.m6.1.2.3.2.2.2.2.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.6.m6.1.2.3.2.2.3.cmml" xref="S2.SS2.p1.6.m6.1.2.3.2.2.3">𝑚</ci></apply><ci id="S2.SS2.p1.6.m6.1.1.1.1.cmml" xref="S2.SS2.p1.6.m6.1.1.1.1">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m6.1c">\hat{y}_{m}=\operatorname*{arg\,max}_{i}\hat{p}_{m}^{(i)}</annotation></semantics></math> be the prediction of model <math id="S2.SS2.p1.7.m7.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S2.SS2.p1.7.m7.1a"><mi id="S2.SS2.p1.7.m7.1.1" xref="S2.SS2.p1.7.m7.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m7.1b"><ci id="S2.SS2.p1.7.m7.1.1.cmml" xref="S2.SS2.p1.7.m7.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m7.1c">m</annotation></semantics></math>, where <math id="S2.SS2.p1.8.m8.1" class="ltx_Math" alttext="\hat{p}_{m}^{(i)}" display="inline"><semantics id="S2.SS2.p1.8.m8.1a"><msubsup id="S2.SS2.p1.8.m8.1.2" xref="S2.SS2.p1.8.m8.1.2.cmml"><mover accent="true" id="S2.SS2.p1.8.m8.1.2.2.2" xref="S2.SS2.p1.8.m8.1.2.2.2.cmml"><mi id="S2.SS2.p1.8.m8.1.2.2.2.2" xref="S2.SS2.p1.8.m8.1.2.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.8.m8.1.2.2.2.1" xref="S2.SS2.p1.8.m8.1.2.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.8.m8.1.2.2.3" xref="S2.SS2.p1.8.m8.1.2.2.3.cmml">m</mi><mrow id="S2.SS2.p1.8.m8.1.1.1.3" xref="S2.SS2.p1.8.m8.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.8.m8.1.1.1.3.1" xref="S2.SS2.p1.8.m8.1.2.cmml">(</mo><mi id="S2.SS2.p1.8.m8.1.1.1.1" xref="S2.SS2.p1.8.m8.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.8.m8.1.1.1.3.2" xref="S2.SS2.p1.8.m8.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m8.1b"><apply id="S2.SS2.p1.8.m8.1.2.cmml" xref="S2.SS2.p1.8.m8.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.1.2.1.cmml" xref="S2.SS2.p1.8.m8.1.2">superscript</csymbol><apply id="S2.SS2.p1.8.m8.1.2.2.cmml" xref="S2.SS2.p1.8.m8.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.8.m8.1.2.2.1.cmml" xref="S2.SS2.p1.8.m8.1.2">subscript</csymbol><apply id="S2.SS2.p1.8.m8.1.2.2.2.cmml" xref="S2.SS2.p1.8.m8.1.2.2.2"><ci id="S2.SS2.p1.8.m8.1.2.2.2.1.cmml" xref="S2.SS2.p1.8.m8.1.2.2.2.1">^</ci><ci id="S2.SS2.p1.8.m8.1.2.2.2.2.cmml" xref="S2.SS2.p1.8.m8.1.2.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.8.m8.1.2.2.3.cmml" xref="S2.SS2.p1.8.m8.1.2.2.3">𝑚</ci></apply><ci id="S2.SS2.p1.8.m8.1.1.1.1.cmml" xref="S2.SS2.p1.8.m8.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m8.1c">\hat{p}_{m}^{(i)}</annotation></semantics></math> is the <math id="S2.SS2.p1.9.m9.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS2.p1.9.m9.1a"><mi id="S2.SS2.p1.9.m9.1.1" xref="S2.SS2.p1.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m9.1b"><ci id="S2.SS2.p1.9.m9.1.1.cmml" xref="S2.SS2.p1.9.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m9.1c">i</annotation></semantics></math>-th dimension of <math id="S2.SS2.p1.10.m10.1" class="ltx_Math" alttext="\hat{p}_{m}" display="inline"><semantics id="S2.SS2.p1.10.m10.1a"><msub id="S2.SS2.p1.10.m10.1.1" xref="S2.SS2.p1.10.m10.1.1.cmml"><mover accent="true" id="S2.SS2.p1.10.m10.1.1.2" xref="S2.SS2.p1.10.m10.1.1.2.cmml"><mi id="S2.SS2.p1.10.m10.1.1.2.2" xref="S2.SS2.p1.10.m10.1.1.2.2.cmml">p</mi><mo id="S2.SS2.p1.10.m10.1.1.2.1" xref="S2.SS2.p1.10.m10.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.10.m10.1.1.3" xref="S2.SS2.p1.10.m10.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.10.m10.1b"><apply id="S2.SS2.p1.10.m10.1.1.cmml" xref="S2.SS2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.10.m10.1.1.1.cmml" xref="S2.SS2.p1.10.m10.1.1">subscript</csymbol><apply id="S2.SS2.p1.10.m10.1.1.2.cmml" xref="S2.SS2.p1.10.m10.1.1.2"><ci id="S2.SS2.p1.10.m10.1.1.2.1.cmml" xref="S2.SS2.p1.10.m10.1.1.2.1">^</ci><ci id="S2.SS2.p1.10.m10.1.1.2.2.cmml" xref="S2.SS2.p1.10.m10.1.1.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.10.m10.1.1.3.cmml" xref="S2.SS2.p1.10.m10.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.10.m10.1c">\hat{p}_{m}</annotation></semantics></math>. The final prediction is chosen as</p>
<table id="S2.Ex3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex3.m1.3" class="ltx_Math" alttext="\hat{y}_{\text{ensemble}}=\operatorname*{arg\,max}_{y\in\text{maj}(\{\hat{y}_{m}\}_{m=1}^{M})}\sum_{m=1}^{M}\hat{p}_{m}^{(y)}." display="block"><semantics id="S2.Ex3.m1.3a"><mrow id="S2.Ex3.m1.3.3.1" xref="S2.Ex3.m1.3.3.1.1.cmml"><mrow id="S2.Ex3.m1.3.3.1.1" xref="S2.Ex3.m1.3.3.1.1.cmml"><msub id="S2.Ex3.m1.3.3.1.1.2" xref="S2.Ex3.m1.3.3.1.1.2.cmml"><mover accent="true" id="S2.Ex3.m1.3.3.1.1.2.2" xref="S2.Ex3.m1.3.3.1.1.2.2.cmml"><mi id="S2.Ex3.m1.3.3.1.1.2.2.2" xref="S2.Ex3.m1.3.3.1.1.2.2.2.cmml">y</mi><mo id="S2.Ex3.m1.3.3.1.1.2.2.1" xref="S2.Ex3.m1.3.3.1.1.2.2.1.cmml">^</mo></mover><mtext id="S2.Ex3.m1.3.3.1.1.2.3" xref="S2.Ex3.m1.3.3.1.1.2.3a.cmml">ensemble</mtext></msub><mo id="S2.Ex3.m1.3.3.1.1.1" xref="S2.Ex3.m1.3.3.1.1.1.cmml">=</mo><mrow id="S2.Ex3.m1.3.3.1.1.3" xref="S2.Ex3.m1.3.3.1.1.3.cmml"><munder id="S2.Ex3.m1.3.3.1.1.3.2" xref="S2.Ex3.m1.3.3.1.1.3.2.cmml"><mrow id="S2.Ex3.m1.3.3.1.1.3.2.2" xref="S2.Ex3.m1.3.3.1.1.3.2.2.cmml"><mi id="S2.Ex3.m1.3.3.1.1.3.2.2.2" xref="S2.Ex3.m1.3.3.1.1.3.2.2.2.cmml">arg</mi><mo lspace="0.170em" rspace="0em" id="S2.Ex3.m1.3.3.1.1.3.2.2.1" xref="S2.Ex3.m1.3.3.1.1.3.2.2.1.cmml">​</mo><mi id="S2.Ex3.m1.3.3.1.1.3.2.2.3" xref="S2.Ex3.m1.3.3.1.1.3.2.2.3.cmml">max</mi></mrow><mrow id="S2.Ex3.m1.1.1.1" xref="S2.Ex3.m1.1.1.1.cmml"><mi id="S2.Ex3.m1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.3.cmml">y</mi><mo id="S2.Ex3.m1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.2.cmml">∈</mo><mrow id="S2.Ex3.m1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.cmml"><mtext id="S2.Ex3.m1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.3a.cmml">maj</mtext><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex3.m1.1.1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex3.m1.1.1.1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S2.Ex3.m1.1.1.1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.cmml"><mrow id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.2.cmml">{</mo><msub id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.2" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.2.cmml">m</mi><mo id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.1" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.1.cmml">=</mo><mn id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.Ex3.m1.1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.3.cmml">M</mi></msubsup><mo stretchy="false" id="S2.Ex3.m1.1.1.1.1.1.1.3" xref="S2.Ex3.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mo lspace="0em" rspace="0em" id="S2.Ex3.m1.3.3.1.1.3.1" xref="S2.Ex3.m1.3.3.1.1.3.1.cmml">​</mo><mrow id="S2.Ex3.m1.3.3.1.1.3.3" xref="S2.Ex3.m1.3.3.1.1.3.3.cmml"><munderover id="S2.Ex3.m1.3.3.1.1.3.3.1" xref="S2.Ex3.m1.3.3.1.1.3.3.1.cmml"><mo movablelimits="false" id="S2.Ex3.m1.3.3.1.1.3.3.1.2.2" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.cmml"><mi id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.2" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.2.cmml">m</mi><mo id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.1" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.3" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.Ex3.m1.3.3.1.1.3.3.1.3" xref="S2.Ex3.m1.3.3.1.1.3.3.1.3.cmml">M</mi></munderover><msubsup id="S2.Ex3.m1.3.3.1.1.3.3.2" xref="S2.Ex3.m1.3.3.1.1.3.3.2.cmml"><mover accent="true" id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.cmml"><mi id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.2" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.2.cmml">p</mi><mo id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.1" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.1.cmml">^</mo></mover><mi id="S2.Ex3.m1.3.3.1.1.3.3.2.2.3" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.3.cmml">m</mi><mrow id="S2.Ex3.m1.2.2.1.3" xref="S2.Ex3.m1.3.3.1.1.3.3.2.cmml"><mo stretchy="false" id="S2.Ex3.m1.2.2.1.3.1" xref="S2.Ex3.m1.3.3.1.1.3.3.2.cmml">(</mo><mi id="S2.Ex3.m1.2.2.1.1" xref="S2.Ex3.m1.2.2.1.1.cmml">y</mi><mo stretchy="false" id="S2.Ex3.m1.2.2.1.3.2" xref="S2.Ex3.m1.3.3.1.1.3.3.2.cmml">)</mo></mrow></msubsup></mrow></mrow></mrow><mo lspace="0em" id="S2.Ex3.m1.3.3.1.2" xref="S2.Ex3.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex3.m1.3b"><apply id="S2.Ex3.m1.3.3.1.1.cmml" xref="S2.Ex3.m1.3.3.1"><eq id="S2.Ex3.m1.3.3.1.1.1.cmml" xref="S2.Ex3.m1.3.3.1.1.1"></eq><apply id="S2.Ex3.m1.3.3.1.1.2.cmml" xref="S2.Ex3.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.2">subscript</csymbol><apply id="S2.Ex3.m1.3.3.1.1.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.2.2"><ci id="S2.Ex3.m1.3.3.1.1.2.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.2.2.1">^</ci><ci id="S2.Ex3.m1.3.3.1.1.2.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.2.2.2">𝑦</ci></apply><ci id="S2.Ex3.m1.3.3.1.1.2.3a.cmml" xref="S2.Ex3.m1.3.3.1.1.2.3"><mtext mathsize="70%" id="S2.Ex3.m1.3.3.1.1.2.3.cmml" xref="S2.Ex3.m1.3.3.1.1.2.3">ensemble</mtext></ci></apply><apply id="S2.Ex3.m1.3.3.1.1.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3"><times id="S2.Ex3.m1.3.3.1.1.3.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.1"></times><apply id="S2.Ex3.m1.3.3.1.1.3.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.3.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2">subscript</csymbol><apply id="S2.Ex3.m1.3.3.1.1.3.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2.2"><times id="S2.Ex3.m1.3.3.1.1.3.2.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2.2.1"></times><ci id="S2.Ex3.m1.3.3.1.1.3.2.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2.2.2">arg</ci><ci id="S2.Ex3.m1.3.3.1.1.3.2.2.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.2.2.3">max</ci></apply><apply id="S2.Ex3.m1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1"><in id="S2.Ex3.m1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.2"></in><ci id="S2.Ex3.m1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.3">𝑦</ci><apply id="S2.Ex3.m1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1"><times id="S2.Ex3.m1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.2"></times><ci id="S2.Ex3.m1.1.1.1.1.3a.cmml" xref="S2.Ex3.m1.1.1.1.1.3"><mtext mathsize="70%" id="S2.Ex3.m1.1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.1.3">maj</mtext></ci><apply id="S2.Ex3.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1">superscript</csymbol><apply id="S2.Ex3.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1">subscript</csymbol><set id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1"><apply id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2"><ci id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑦</ci></apply><ci id="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑚</ci></apply></set><apply id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3"><eq id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.1"></eq><ci id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.2">𝑚</ci><cn type="integer" id="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.Ex3.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex3.m1.1.1.1.1.1.1.1.3">𝑀</ci></apply></apply></apply></apply><apply id="S2.Ex3.m1.3.3.1.1.3.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3"><apply id="S2.Ex3.m1.3.3.1.1.3.3.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.3.3.1.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1">superscript</csymbol><apply id="S2.Ex3.m1.3.3.1.1.3.3.1.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.3.3.1.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1">subscript</csymbol><sum id="S2.Ex3.m1.3.3.1.1.3.3.1.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.2"></sum><apply id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3"><eq id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.1"></eq><ci id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.2">𝑚</ci><cn type="integer" id="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S2.Ex3.m1.3.3.1.1.3.3.1.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.1.3">𝑀</ci></apply><apply id="S2.Ex3.m1.3.3.1.1.3.3.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.3.3.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2">superscript</csymbol><apply id="S2.Ex3.m1.3.3.1.1.3.3.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.Ex3.m1.3.3.1.1.3.3.2.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2">subscript</csymbol><apply id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2"><ci id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.1.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.1">^</ci><ci id="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.2.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.2.2">𝑝</ci></apply><ci id="S2.Ex3.m1.3.3.1.1.3.3.2.2.3.cmml" xref="S2.Ex3.m1.3.3.1.1.3.3.2.2.3">𝑚</ci></apply><ci id="S2.Ex3.m1.2.2.1.1.cmml" xref="S2.Ex3.m1.2.2.1.1">𝑦</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex3.m1.3c">\hat{y}_{\text{ensemble}}=\operatorname*{arg\,max}_{y\in\text{maj}(\{\hat{y}_{m}\}_{m=1}^{M})}\sum_{m=1}^{M}\hat{p}_{m}^{(y)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS2.p1.16" class="ltx_p">In other words, we first obtain the majority of predictions by computing the majority <math id="S2.SS2.p1.11.m1.1" class="ltx_Math" alttext="\text{maj}(\{\hat{y}_{m}\}_{m=1}^{M})" display="inline"><semantics id="S2.SS2.p1.11.m1.1a"><mrow id="S2.SS2.p1.11.m1.1.1" xref="S2.SS2.p1.11.m1.1.1.cmml"><mtext id="S2.SS2.p1.11.m1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.3a.cmml">maj</mtext><mo lspace="0em" rspace="0em" id="S2.SS2.p1.11.m1.1.1.2" xref="S2.SS2.p1.11.m1.1.1.2.cmml">​</mo><mrow id="S2.SS2.p1.11.m1.1.1.1.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.11.m1.1.1.1.1.2" xref="S2.SS2.p1.11.m1.1.1.1.1.1.cmml">(</mo><msubsup id="S2.SS2.p1.11.m1.1.1.1.1.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.cmml"><mrow id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.2" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.2.cmml">{</mo><msub id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mo id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.3.cmml">m</mi></msub><mo stretchy="false" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.2" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.2.cmml">m</mi><mo id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.1" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p1.11.m1.1.1.1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.3.cmml">M</mi></msubsup><mo stretchy="false" id="S2.SS2.p1.11.m1.1.1.1.1.3" xref="S2.SS2.p1.11.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.11.m1.1b"><apply id="S2.SS2.p1.11.m1.1.1.cmml" xref="S2.SS2.p1.11.m1.1.1"><times id="S2.SS2.p1.11.m1.1.1.2.cmml" xref="S2.SS2.p1.11.m1.1.1.2"></times><ci id="S2.SS2.p1.11.m1.1.1.3a.cmml" xref="S2.SS2.p1.11.m1.1.1.3"><mtext id="S2.SS2.p1.11.m1.1.1.3.cmml" xref="S2.SS2.p1.11.m1.1.1.3">maj</mtext></ci><apply id="S2.SS2.p1.11.m1.1.1.1.1.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.11.m1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1">superscript</csymbol><apply id="S2.SS2.p1.11.m1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1">subscript</csymbol><set id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1"><apply id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2"><ci id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.2.2">𝑦</ci></apply><ci id="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.1.1.1.3">𝑚</ci></apply></set><apply id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3"><eq id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.1"></eq><ci id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.2">𝑚</ci><cn type="integer" id="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS2.p1.11.m1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.11.m1.1.1.1.1.1.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.11.m1.1c">\text{maj}(\{\hat{y}_{m}\}_{m=1}^{M})</annotation></semantics></math>, and resolve the ties by computing the sum of prediction probabilities <math id="S2.SS2.p1.12.m2.1" class="ltx_Math" alttext="\sum_{m=1}^{M}\hat{p}_{m}^{(y)}" display="inline"><semantics id="S2.SS2.p1.12.m2.1a"><mrow id="S2.SS2.p1.12.m2.1.2" xref="S2.SS2.p1.12.m2.1.2.cmml"><msubsup id="S2.SS2.p1.12.m2.1.2.1" xref="S2.SS2.p1.12.m2.1.2.1.cmml"><mo id="S2.SS2.p1.12.m2.1.2.1.2.2" xref="S2.SS2.p1.12.m2.1.2.1.2.2.cmml">∑</mo><mrow id="S2.SS2.p1.12.m2.1.2.1.2.3" xref="S2.SS2.p1.12.m2.1.2.1.2.3.cmml"><mi id="S2.SS2.p1.12.m2.1.2.1.2.3.2" xref="S2.SS2.p1.12.m2.1.2.1.2.3.2.cmml">m</mi><mo id="S2.SS2.p1.12.m2.1.2.1.2.3.1" xref="S2.SS2.p1.12.m2.1.2.1.2.3.1.cmml">=</mo><mn id="S2.SS2.p1.12.m2.1.2.1.2.3.3" xref="S2.SS2.p1.12.m2.1.2.1.2.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p1.12.m2.1.2.1.3" xref="S2.SS2.p1.12.m2.1.2.1.3.cmml">M</mi></msubsup><msubsup id="S2.SS2.p1.12.m2.1.2.2" xref="S2.SS2.p1.12.m2.1.2.2.cmml"><mover accent="true" id="S2.SS2.p1.12.m2.1.2.2.2.2" xref="S2.SS2.p1.12.m2.1.2.2.2.2.cmml"><mi id="S2.SS2.p1.12.m2.1.2.2.2.2.2" xref="S2.SS2.p1.12.m2.1.2.2.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.12.m2.1.2.2.2.2.1" xref="S2.SS2.p1.12.m2.1.2.2.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.12.m2.1.2.2.2.3" xref="S2.SS2.p1.12.m2.1.2.2.2.3.cmml">m</mi><mrow id="S2.SS2.p1.12.m2.1.1.1.3" xref="S2.SS2.p1.12.m2.1.2.2.cmml"><mo stretchy="false" id="S2.SS2.p1.12.m2.1.1.1.3.1" xref="S2.SS2.p1.12.m2.1.2.2.cmml">(</mo><mi id="S2.SS2.p1.12.m2.1.1.1.1" xref="S2.SS2.p1.12.m2.1.1.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS2.p1.12.m2.1.1.1.3.2" xref="S2.SS2.p1.12.m2.1.2.2.cmml">)</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.12.m2.1b"><apply id="S2.SS2.p1.12.m2.1.2.cmml" xref="S2.SS2.p1.12.m2.1.2"><apply id="S2.SS2.p1.12.m2.1.2.1.cmml" xref="S2.SS2.p1.12.m2.1.2.1"><csymbol cd="ambiguous" id="S2.SS2.p1.12.m2.1.2.1.1.cmml" xref="S2.SS2.p1.12.m2.1.2.1">superscript</csymbol><apply id="S2.SS2.p1.12.m2.1.2.1.2.cmml" xref="S2.SS2.p1.12.m2.1.2.1"><csymbol cd="ambiguous" id="S2.SS2.p1.12.m2.1.2.1.2.1.cmml" xref="S2.SS2.p1.12.m2.1.2.1">subscript</csymbol><sum id="S2.SS2.p1.12.m2.1.2.1.2.2.cmml" xref="S2.SS2.p1.12.m2.1.2.1.2.2"></sum><apply id="S2.SS2.p1.12.m2.1.2.1.2.3.cmml" xref="S2.SS2.p1.12.m2.1.2.1.2.3"><eq id="S2.SS2.p1.12.m2.1.2.1.2.3.1.cmml" xref="S2.SS2.p1.12.m2.1.2.1.2.3.1"></eq><ci id="S2.SS2.p1.12.m2.1.2.1.2.3.2.cmml" xref="S2.SS2.p1.12.m2.1.2.1.2.3.2">𝑚</ci><cn type="integer" id="S2.SS2.p1.12.m2.1.2.1.2.3.3.cmml" xref="S2.SS2.p1.12.m2.1.2.1.2.3.3">1</cn></apply></apply><ci id="S2.SS2.p1.12.m2.1.2.1.3.cmml" xref="S2.SS2.p1.12.m2.1.2.1.3">𝑀</ci></apply><apply id="S2.SS2.p1.12.m2.1.2.2.cmml" xref="S2.SS2.p1.12.m2.1.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.12.m2.1.2.2.1.cmml" xref="S2.SS2.p1.12.m2.1.2.2">superscript</csymbol><apply id="S2.SS2.p1.12.m2.1.2.2.2.cmml" xref="S2.SS2.p1.12.m2.1.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.12.m2.1.2.2.2.1.cmml" xref="S2.SS2.p1.12.m2.1.2.2">subscript</csymbol><apply id="S2.SS2.p1.12.m2.1.2.2.2.2.cmml" xref="S2.SS2.p1.12.m2.1.2.2.2.2"><ci id="S2.SS2.p1.12.m2.1.2.2.2.2.1.cmml" xref="S2.SS2.p1.12.m2.1.2.2.2.2.1">^</ci><ci id="S2.SS2.p1.12.m2.1.2.2.2.2.2.cmml" xref="S2.SS2.p1.12.m2.1.2.2.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.12.m2.1.2.2.2.3.cmml" xref="S2.SS2.p1.12.m2.1.2.2.2.3">𝑚</ci></apply><ci id="S2.SS2.p1.12.m2.1.1.1.1.cmml" xref="S2.SS2.p1.12.m2.1.1.1.1">𝑦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.12.m2.1c">\sum_{m=1}^{M}\hat{p}_{m}^{(y)}</annotation></semantics></math>. For QA tasks (QA and MedQuAD), the task is cast as a regression problem, where a positive number means correct answer, and negative otherwise. We have <math id="S2.SS2.p1.13.m3.1" class="ltx_Math" alttext="\hat{p}_{m}\in\mathbb{R}" display="inline"><semantics id="S2.SS2.p1.13.m3.1a"><mrow id="S2.SS2.p1.13.m3.1.1" xref="S2.SS2.p1.13.m3.1.1.cmml"><msub id="S2.SS2.p1.13.m3.1.1.2" xref="S2.SS2.p1.13.m3.1.1.2.cmml"><mover accent="true" id="S2.SS2.p1.13.m3.1.1.2.2" xref="S2.SS2.p1.13.m3.1.1.2.2.cmml"><mi id="S2.SS2.p1.13.m3.1.1.2.2.2" xref="S2.SS2.p1.13.m3.1.1.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.13.m3.1.1.2.2.1" xref="S2.SS2.p1.13.m3.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.13.m3.1.1.2.3" xref="S2.SS2.p1.13.m3.1.1.2.3.cmml">m</mi></msub><mo id="S2.SS2.p1.13.m3.1.1.1" xref="S2.SS2.p1.13.m3.1.1.1.cmml">∈</mo><mi id="S2.SS2.p1.13.m3.1.1.3" xref="S2.SS2.p1.13.m3.1.1.3.cmml">ℝ</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.13.m3.1b"><apply id="S2.SS2.p1.13.m3.1.1.cmml" xref="S2.SS2.p1.13.m3.1.1"><in id="S2.SS2.p1.13.m3.1.1.1.cmml" xref="S2.SS2.p1.13.m3.1.1.1"></in><apply id="S2.SS2.p1.13.m3.1.1.2.cmml" xref="S2.SS2.p1.13.m3.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.13.m3.1.1.2.1.cmml" xref="S2.SS2.p1.13.m3.1.1.2">subscript</csymbol><apply id="S2.SS2.p1.13.m3.1.1.2.2.cmml" xref="S2.SS2.p1.13.m3.1.1.2.2"><ci id="S2.SS2.p1.13.m3.1.1.2.2.1.cmml" xref="S2.SS2.p1.13.m3.1.1.2.2.1">^</ci><ci id="S2.SS2.p1.13.m3.1.1.2.2.2.cmml" xref="S2.SS2.p1.13.m3.1.1.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.13.m3.1.1.2.3.cmml" xref="S2.SS2.p1.13.m3.1.1.2.3">𝑚</ci></apply><ci id="S2.SS2.p1.13.m3.1.1.3.cmml" xref="S2.SS2.p1.13.m3.1.1.3">ℝ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.13.m3.1c">\hat{p}_{m}\in\mathbb{R}</annotation></semantics></math>. We first compute the average score <math id="S2.SS2.p1.14.m4.1" class="ltx_Math" alttext="\hat{p}_{\text{ensem}}=\frac{1}{M}\sum_{m=1}^{M}\hat{p}_{m}" display="inline"><semantics id="S2.SS2.p1.14.m4.1a"><mrow id="S2.SS2.p1.14.m4.1.1" xref="S2.SS2.p1.14.m4.1.1.cmml"><msub id="S2.SS2.p1.14.m4.1.1.2" xref="S2.SS2.p1.14.m4.1.1.2.cmml"><mover accent="true" id="S2.SS2.p1.14.m4.1.1.2.2" xref="S2.SS2.p1.14.m4.1.1.2.2.cmml"><mi id="S2.SS2.p1.14.m4.1.1.2.2.2" xref="S2.SS2.p1.14.m4.1.1.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.14.m4.1.1.2.2.1" xref="S2.SS2.p1.14.m4.1.1.2.2.1.cmml">^</mo></mover><mtext id="S2.SS2.p1.14.m4.1.1.2.3" xref="S2.SS2.p1.14.m4.1.1.2.3a.cmml">ensem</mtext></msub><mo id="S2.SS2.p1.14.m4.1.1.1" xref="S2.SS2.p1.14.m4.1.1.1.cmml">=</mo><mrow id="S2.SS2.p1.14.m4.1.1.3" xref="S2.SS2.p1.14.m4.1.1.3.cmml"><mfrac id="S2.SS2.p1.14.m4.1.1.3.2" xref="S2.SS2.p1.14.m4.1.1.3.2.cmml"><mn id="S2.SS2.p1.14.m4.1.1.3.2.2" xref="S2.SS2.p1.14.m4.1.1.3.2.2.cmml">1</mn><mi id="S2.SS2.p1.14.m4.1.1.3.2.3" xref="S2.SS2.p1.14.m4.1.1.3.2.3.cmml">M</mi></mfrac><mo lspace="0em" rspace="0em" id="S2.SS2.p1.14.m4.1.1.3.1" xref="S2.SS2.p1.14.m4.1.1.3.1.cmml">​</mo><mrow id="S2.SS2.p1.14.m4.1.1.3.3" xref="S2.SS2.p1.14.m4.1.1.3.3.cmml"><msubsup id="S2.SS2.p1.14.m4.1.1.3.3.1" xref="S2.SS2.p1.14.m4.1.1.3.3.1.cmml"><mo id="S2.SS2.p1.14.m4.1.1.3.3.1.2.2" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.cmml"><mi id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.2" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.2.cmml">m</mi><mo id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.1" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.3" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.SS2.p1.14.m4.1.1.3.3.1.3" xref="S2.SS2.p1.14.m4.1.1.3.3.1.3.cmml">M</mi></msubsup><msub id="S2.SS2.p1.14.m4.1.1.3.3.2" xref="S2.SS2.p1.14.m4.1.1.3.3.2.cmml"><mover accent="true" id="S2.SS2.p1.14.m4.1.1.3.3.2.2" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2.cmml"><mi id="S2.SS2.p1.14.m4.1.1.3.3.2.2.2" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.14.m4.1.1.3.3.2.2.1" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.14.m4.1.1.3.3.2.3" xref="S2.SS2.p1.14.m4.1.1.3.3.2.3.cmml">m</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.14.m4.1b"><apply id="S2.SS2.p1.14.m4.1.1.cmml" xref="S2.SS2.p1.14.m4.1.1"><eq id="S2.SS2.p1.14.m4.1.1.1.cmml" xref="S2.SS2.p1.14.m4.1.1.1"></eq><apply id="S2.SS2.p1.14.m4.1.1.2.cmml" xref="S2.SS2.p1.14.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.14.m4.1.1.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.2">subscript</csymbol><apply id="S2.SS2.p1.14.m4.1.1.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.2.2"><ci id="S2.SS2.p1.14.m4.1.1.2.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.2.2.1">^</ci><ci id="S2.SS2.p1.14.m4.1.1.2.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.14.m4.1.1.2.3a.cmml" xref="S2.SS2.p1.14.m4.1.1.2.3"><mtext mathsize="70%" id="S2.SS2.p1.14.m4.1.1.2.3.cmml" xref="S2.SS2.p1.14.m4.1.1.2.3">ensem</mtext></ci></apply><apply id="S2.SS2.p1.14.m4.1.1.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3"><times id="S2.SS2.p1.14.m4.1.1.3.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.1"></times><apply id="S2.SS2.p1.14.m4.1.1.3.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.2"><divide id="S2.SS2.p1.14.m4.1.1.3.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.2"></divide><cn type="integer" id="S2.SS2.p1.14.m4.1.1.3.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.2.2">1</cn><ci id="S2.SS2.p1.14.m4.1.1.3.2.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.2.3">𝑀</ci></apply><apply id="S2.SS2.p1.14.m4.1.1.3.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3"><apply id="S2.SS2.p1.14.m4.1.1.3.3.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.SS2.p1.14.m4.1.1.3.3.1.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1">superscript</csymbol><apply id="S2.SS2.p1.14.m4.1.1.3.3.1.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.SS2.p1.14.m4.1.1.3.3.1.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1">subscript</csymbol><sum id="S2.SS2.p1.14.m4.1.1.3.3.1.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.2"></sum><apply id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3"><eq id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.1"></eq><ci id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.2">𝑚</ci><cn type="integer" id="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S2.SS2.p1.14.m4.1.1.3.3.1.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.1.3">𝑀</ci></apply><apply id="S2.SS2.p1.14.m4.1.1.3.3.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.SS2.p1.14.m4.1.1.3.3.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2">subscript</csymbol><apply id="S2.SS2.p1.14.m4.1.1.3.3.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2"><ci id="S2.SS2.p1.14.m4.1.1.3.3.2.2.1.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2.1">^</ci><ci id="S2.SS2.p1.14.m4.1.1.3.3.2.2.2.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.14.m4.1.1.3.3.2.3.cmml" xref="S2.SS2.p1.14.m4.1.1.3.3.2.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.14.m4.1c">\hat{p}_{\text{ensem}}=\frac{1}{M}\sum_{m=1}^{M}\hat{p}_{m}</annotation></semantics></math>. We also compute the prediction as <math id="S2.SS2.p1.15.m5.1" class="ltx_Math" alttext="\hat{y}_{m}=I(\hat{p}_{m}\geq 0)" display="inline"><semantics id="S2.SS2.p1.15.m5.1a"><mrow id="S2.SS2.p1.15.m5.1.1" xref="S2.SS2.p1.15.m5.1.1.cmml"><msub id="S2.SS2.p1.15.m5.1.1.3" xref="S2.SS2.p1.15.m5.1.1.3.cmml"><mover accent="true" id="S2.SS2.p1.15.m5.1.1.3.2" xref="S2.SS2.p1.15.m5.1.1.3.2.cmml"><mi id="S2.SS2.p1.15.m5.1.1.3.2.2" xref="S2.SS2.p1.15.m5.1.1.3.2.2.cmml">y</mi><mo id="S2.SS2.p1.15.m5.1.1.3.2.1" xref="S2.SS2.p1.15.m5.1.1.3.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.15.m5.1.1.3.3" xref="S2.SS2.p1.15.m5.1.1.3.3.cmml">m</mi></msub><mo id="S2.SS2.p1.15.m5.1.1.2" xref="S2.SS2.p1.15.m5.1.1.2.cmml">=</mo><mrow id="S2.SS2.p1.15.m5.1.1.1" xref="S2.SS2.p1.15.m5.1.1.1.cmml"><mi id="S2.SS2.p1.15.m5.1.1.1.3" xref="S2.SS2.p1.15.m5.1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.15.m5.1.1.1.2" xref="S2.SS2.p1.15.m5.1.1.1.2.cmml">​</mo><mrow id="S2.SS2.p1.15.m5.1.1.1.1.1" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.15.m5.1.1.1.1.1.2" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.p1.15.m5.1.1.1.1.1.1" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.cmml"><msub id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.cmml"><mi id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.2" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.2.cmml">p</mi><mo id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.1" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.3" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.3.cmml">m</mi></msub><mo id="S2.SS2.p1.15.m5.1.1.1.1.1.1.1" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.1.cmml">≥</mo><mn id="S2.SS2.p1.15.m5.1.1.1.1.1.1.3" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S2.SS2.p1.15.m5.1.1.1.1.1.3" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.15.m5.1b"><apply id="S2.SS2.p1.15.m5.1.1.cmml" xref="S2.SS2.p1.15.m5.1.1"><eq id="S2.SS2.p1.15.m5.1.1.2.cmml" xref="S2.SS2.p1.15.m5.1.1.2"></eq><apply id="S2.SS2.p1.15.m5.1.1.3.cmml" xref="S2.SS2.p1.15.m5.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p1.15.m5.1.1.3.1.cmml" xref="S2.SS2.p1.15.m5.1.1.3">subscript</csymbol><apply id="S2.SS2.p1.15.m5.1.1.3.2.cmml" xref="S2.SS2.p1.15.m5.1.1.3.2"><ci id="S2.SS2.p1.15.m5.1.1.3.2.1.cmml" xref="S2.SS2.p1.15.m5.1.1.3.2.1">^</ci><ci id="S2.SS2.p1.15.m5.1.1.3.2.2.cmml" xref="S2.SS2.p1.15.m5.1.1.3.2.2">𝑦</ci></apply><ci id="S2.SS2.p1.15.m5.1.1.3.3.cmml" xref="S2.SS2.p1.15.m5.1.1.3.3">𝑚</ci></apply><apply id="S2.SS2.p1.15.m5.1.1.1.cmml" xref="S2.SS2.p1.15.m5.1.1.1"><times id="S2.SS2.p1.15.m5.1.1.1.2.cmml" xref="S2.SS2.p1.15.m5.1.1.1.2"></times><ci id="S2.SS2.p1.15.m5.1.1.1.3.cmml" xref="S2.SS2.p1.15.m5.1.1.1.3">𝐼</ci><apply id="S2.SS2.p1.15.m5.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1"><geq id="S2.SS2.p1.15.m5.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.1"></geq><apply id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2"><ci id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.1.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.1">^</ci><ci id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.2.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.2.3">𝑚</ci></apply><cn type="integer" id="S2.SS2.p1.15.m5.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.15.m5.1.1.1.1.1.1.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.15.m5.1c">\hat{y}_{m}=I(\hat{p}_{m}\geq 0)</annotation></semantics></math>, where <math id="S2.SS2.p1.16.m6.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S2.SS2.p1.16.m6.1a"><mi id="S2.SS2.p1.16.m6.1.1" xref="S2.SS2.p1.16.m6.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.16.m6.1b"><ci id="S2.SS2.p1.16.m6.1.1.cmml" xref="S2.SS2.p1.16.m6.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.16.m6.1c">I</annotation></semantics></math> is the indicator function. We compute the ensemble prediction through a similar majority vote as the classification case:</p>
<table id="S2.Ex4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex4.m1.6" class="ltx_Math" alttext="\hat{y}_{\text{ensem}}=\begin{cases}1,&amp;\text{if}~{}\sum_{m=1}^{M}\hat{y}_{m}&gt;M/2\\
0,&amp;\text{if}~{}\sum_{m=1}^{M}\hat{y}_{m}&lt;M/2\\
I(\hat{p}_{\text{ensem}}&gt;0),&amp;\text{otherwise.}\end{cases}" display="block"><semantics id="S2.Ex4.m1.6a"><mrow id="S2.Ex4.m1.6.7" xref="S2.Ex4.m1.6.7.cmml"><msub id="S2.Ex4.m1.6.7.2" xref="S2.Ex4.m1.6.7.2.cmml"><mover accent="true" id="S2.Ex4.m1.6.7.2.2" xref="S2.Ex4.m1.6.7.2.2.cmml"><mi id="S2.Ex4.m1.6.7.2.2.2" xref="S2.Ex4.m1.6.7.2.2.2.cmml">y</mi><mo id="S2.Ex4.m1.6.7.2.2.1" xref="S2.Ex4.m1.6.7.2.2.1.cmml">^</mo></mover><mtext id="S2.Ex4.m1.6.7.2.3" xref="S2.Ex4.m1.6.7.2.3a.cmml">ensem</mtext></msub><mo id="S2.Ex4.m1.6.7.1" xref="S2.Ex4.m1.6.7.1.cmml">=</mo><mrow id="S2.Ex4.m1.6.6" xref="S2.Ex4.m1.6.7.3.1.cmml"><mo id="S2.Ex4.m1.6.6.7" xref="S2.Ex4.m1.6.7.3.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S2.Ex4.m1.6.6.6" xref="S2.Ex4.m1.6.7.3.1.cmml"><mtr id="S2.Ex4.m1.6.6.6a" xref="S2.Ex4.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6b" xref="S2.Ex4.m1.6.7.3.1.cmml"><mrow id="S2.Ex4.m1.1.1.1.1.1.1.3" xref="S2.Ex4.m1.6.7.3.1.cmml"><mn id="S2.Ex4.m1.1.1.1.1.1.1.1" xref="S2.Ex4.m1.1.1.1.1.1.1.1.cmml">1</mn><mo id="S2.Ex4.m1.1.1.1.1.1.1.3.1" xref="S2.Ex4.m1.6.7.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6c" xref="S2.Ex4.m1.6.7.3.1.cmml"><mrow id="S2.Ex4.m1.2.2.2.2.2.1" xref="S2.Ex4.m1.2.2.2.2.2.1.cmml"><mrow id="S2.Ex4.m1.2.2.2.2.2.1.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.cmml"><mtext id="S2.Ex4.m1.2.2.2.2.2.1.2.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.2a.cmml">if</mtext><mo lspace="0.330em" rspace="0em" id="S2.Ex4.m1.2.2.2.2.2.1.2.1" xref="S2.Ex4.m1.2.2.2.2.2.1.2.1.cmml">​</mo><mrow id="S2.Ex4.m1.2.2.2.2.2.1.2.3" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.cmml"><mstyle displaystyle="false" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.cmml"><msubsup id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1a" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.cmml"><mo id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.cmml"><mi id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.2.cmml">m</mi><mo id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.1" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.1.cmml">=</mo><mn id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.3" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.3" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.3.cmml">M</mi></msubsup></mstyle><msub id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.cmml"><mover accent="true" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.cmml"><mi id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.2" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.2.cmml">y</mi><mo id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.1" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.1.cmml">^</mo></mover><mi id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.3" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.3.cmml">m</mi></msub></mrow></mrow><mo id="S2.Ex4.m1.2.2.2.2.2.1.1" xref="S2.Ex4.m1.2.2.2.2.2.1.1.cmml">&gt;</mo><mrow id="S2.Ex4.m1.2.2.2.2.2.1.3" xref="S2.Ex4.m1.2.2.2.2.2.1.3.cmml"><mi id="S2.Ex4.m1.2.2.2.2.2.1.3.2" xref="S2.Ex4.m1.2.2.2.2.2.1.3.2.cmml">M</mi><mo id="S2.Ex4.m1.2.2.2.2.2.1.3.1" xref="S2.Ex4.m1.2.2.2.2.2.1.3.1.cmml">/</mo><mn id="S2.Ex4.m1.2.2.2.2.2.1.3.3" xref="S2.Ex4.m1.2.2.2.2.2.1.3.3.cmml">2</mn></mrow></mrow></mtd></mtr><mtr id="S2.Ex4.m1.6.6.6d" xref="S2.Ex4.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6e" xref="S2.Ex4.m1.6.7.3.1.cmml"><mrow id="S2.Ex4.m1.3.3.3.3.1.1.3" xref="S2.Ex4.m1.6.7.3.1.cmml"><mn id="S2.Ex4.m1.3.3.3.3.1.1.1" xref="S2.Ex4.m1.3.3.3.3.1.1.1.cmml">0</mn><mo id="S2.Ex4.m1.3.3.3.3.1.1.3.1" xref="S2.Ex4.m1.6.7.3.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6f" xref="S2.Ex4.m1.6.7.3.1.cmml"><mrow id="S2.Ex4.m1.4.4.4.4.2.1" xref="S2.Ex4.m1.4.4.4.4.2.1.cmml"><mrow id="S2.Ex4.m1.4.4.4.4.2.1.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.cmml"><mtext id="S2.Ex4.m1.4.4.4.4.2.1.2.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.2a.cmml">if</mtext><mo lspace="0.330em" rspace="0em" id="S2.Ex4.m1.4.4.4.4.2.1.2.1" xref="S2.Ex4.m1.4.4.4.4.2.1.2.1.cmml">​</mo><mrow id="S2.Ex4.m1.4.4.4.4.2.1.2.3" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.cmml"><mstyle displaystyle="false" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.cmml"><msubsup id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1a" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.cmml"><mo id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.cmml"><mi id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.2.cmml">m</mi><mo id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.1" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.1.cmml">=</mo><mn id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.3" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.3" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.3.cmml">M</mi></msubsup></mstyle><msub id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.cmml"><mover accent="true" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.cmml"><mi id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.2" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.2.cmml">y</mi><mo id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.1" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.1.cmml">^</mo></mover><mi id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.3" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.3.cmml">m</mi></msub></mrow></mrow><mo id="S2.Ex4.m1.4.4.4.4.2.1.1" xref="S2.Ex4.m1.4.4.4.4.2.1.1.cmml">&lt;</mo><mrow id="S2.Ex4.m1.4.4.4.4.2.1.3" xref="S2.Ex4.m1.4.4.4.4.2.1.3.cmml"><mi id="S2.Ex4.m1.4.4.4.4.2.1.3.2" xref="S2.Ex4.m1.4.4.4.4.2.1.3.2.cmml">M</mi><mo id="S2.Ex4.m1.4.4.4.4.2.1.3.1" xref="S2.Ex4.m1.4.4.4.4.2.1.3.1.cmml">/</mo><mn id="S2.Ex4.m1.4.4.4.4.2.1.3.3" xref="S2.Ex4.m1.4.4.4.4.2.1.3.3.cmml">2</mn></mrow></mrow></mtd></mtr><mtr id="S2.Ex4.m1.6.6.6g" xref="S2.Ex4.m1.6.7.3.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6h" xref="S2.Ex4.m1.6.7.3.1.cmml"><mrow id="S2.Ex4.m1.5.5.5.5.1.1.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.cmml"><mrow id="S2.Ex4.m1.5.5.5.5.1.1.1.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.cmml"><mi id="S2.Ex4.m1.5.5.5.5.1.1.1.1.3" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.2.cmml">​</mo><mrow id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.cmml"><msub id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.2.cmml">p</mi><mo id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mtext id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3a.cmml">ensem</mtext></msub><mo id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.1" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.1.cmml">&gt;</mo><mn id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.3" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.3" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex4.m1.5.5.5.5.1.1.1.2" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.cmml">,</mo></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S2.Ex4.m1.6.6.6i" xref="S2.Ex4.m1.6.7.3.1.cmml"><mtext id="S2.Ex4.m1.6.6.6.6.2.1" xref="S2.Ex4.m1.6.6.6.6.2.1a.cmml">otherwise.</mtext></mtd></mtr></mtable></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex4.m1.6b"><apply id="S2.Ex4.m1.6.7.cmml" xref="S2.Ex4.m1.6.7"><eq id="S2.Ex4.m1.6.7.1.cmml" xref="S2.Ex4.m1.6.7.1"></eq><apply id="S2.Ex4.m1.6.7.2.cmml" xref="S2.Ex4.m1.6.7.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.6.7.2.1.cmml" xref="S2.Ex4.m1.6.7.2">subscript</csymbol><apply id="S2.Ex4.m1.6.7.2.2.cmml" xref="S2.Ex4.m1.6.7.2.2"><ci id="S2.Ex4.m1.6.7.2.2.1.cmml" xref="S2.Ex4.m1.6.7.2.2.1">^</ci><ci id="S2.Ex4.m1.6.7.2.2.2.cmml" xref="S2.Ex4.m1.6.7.2.2.2">𝑦</ci></apply><ci id="S2.Ex4.m1.6.7.2.3a.cmml" xref="S2.Ex4.m1.6.7.2.3"><mtext mathsize="70%" id="S2.Ex4.m1.6.7.2.3.cmml" xref="S2.Ex4.m1.6.7.2.3">ensem</mtext></ci></apply><apply id="S2.Ex4.m1.6.7.3.1.cmml" xref="S2.Ex4.m1.6.6"><csymbol cd="latexml" id="S2.Ex4.m1.6.7.3.1.1.cmml" xref="S2.Ex4.m1.6.6.7">cases</csymbol><cn type="integer" id="S2.Ex4.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex4.m1.1.1.1.1.1.1.1">1</cn><apply id="S2.Ex4.m1.2.2.2.2.2.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1"><gt id="S2.Ex4.m1.2.2.2.2.2.1.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.1"></gt><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2"><times id="S2.Ex4.m1.2.2.2.2.2.1.2.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.1"></times><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.2a.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.2"><mtext id="S2.Ex4.m1.2.2.2.2.2.1.2.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.2">if</mtext></ci><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3"><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1"><csymbol cd="ambiguous" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1">superscript</csymbol><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1"><csymbol cd="ambiguous" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1">subscript</csymbol><sum id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.2"></sum><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3"><eq id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.1"></eq><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.2">𝑚</ci><cn type="integer" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.2.3.3">1</cn></apply></apply><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.1.3">𝑀</ci></apply><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2">subscript</csymbol><apply id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2"><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.1">^</ci><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.2.2">𝑦</ci></apply><ci id="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.2.3.2.3">𝑚</ci></apply></apply></apply><apply id="S2.Ex4.m1.2.2.2.2.2.1.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.3"><divide id="S2.Ex4.m1.2.2.2.2.2.1.3.1.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.3.1"></divide><ci id="S2.Ex4.m1.2.2.2.2.2.1.3.2.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.3.2">𝑀</ci><cn type="integer" id="S2.Ex4.m1.2.2.2.2.2.1.3.3.cmml" xref="S2.Ex4.m1.2.2.2.2.2.1.3.3">2</cn></apply></apply><cn type="integer" id="S2.Ex4.m1.3.3.3.3.1.1.1.cmml" xref="S2.Ex4.m1.3.3.3.3.1.1.1">0</cn><apply id="S2.Ex4.m1.4.4.4.4.2.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1"><lt id="S2.Ex4.m1.4.4.4.4.2.1.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.1"></lt><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2"><times id="S2.Ex4.m1.4.4.4.4.2.1.2.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.1"></times><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.2a.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.2"><mtext id="S2.Ex4.m1.4.4.4.4.2.1.2.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.2">if</mtext></ci><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3"><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1"><csymbol cd="ambiguous" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1">superscript</csymbol><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1"><csymbol cd="ambiguous" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1">subscript</csymbol><sum id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.2"></sum><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3"><eq id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.1"></eq><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.2">𝑚</ci><cn type="integer" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.2.3.3">1</cn></apply></apply><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.1.3">𝑀</ci></apply><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2">subscript</csymbol><apply id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2"><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.1">^</ci><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.2.2">𝑦</ci></apply><ci id="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.2.3.2.3">𝑚</ci></apply></apply></apply><apply id="S2.Ex4.m1.4.4.4.4.2.1.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.3"><divide id="S2.Ex4.m1.4.4.4.4.2.1.3.1.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.3.1"></divide><ci id="S2.Ex4.m1.4.4.4.4.2.1.3.2.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.3.2">𝑀</ci><cn type="integer" id="S2.Ex4.m1.4.4.4.4.2.1.3.3.cmml" xref="S2.Ex4.m1.4.4.4.4.2.1.3.3">2</cn></apply></apply><apply id="S2.Ex4.m1.5.5.5.5.1.1.1.1.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1"><times id="S2.Ex4.m1.5.5.5.5.1.1.1.1.2.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.2"></times><ci id="S2.Ex4.m1.5.5.5.5.1.1.1.1.3.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.3">𝐼</ci><apply id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1"><gt id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.1"></gt><apply id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.1.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2"><ci id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.2.2">𝑝</ci></apply><ci id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3a.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.2.3">ensem</mtext></ci></apply><cn type="integer" id="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex4.m1.5.5.5.5.1.1.1.1.1.1.1.3">0</cn></apply></apply><ci id="S2.Ex4.m1.6.6.6.6.2.1a.cmml" xref="S2.Ex4.m1.6.6.6.6.2.1"><mtext id="S2.Ex4.m1.6.6.6.6.2.1.cmml" xref="S2.Ex4.m1.6.6.6.6.2.1">otherwise.</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex4.m1.6c">\hat{y}_{\text{ensem}}=\begin{cases}1,&amp;\text{if}~{}\sum_{m=1}^{M}\hat{y}_{m}&gt;M/2\\
0,&amp;\text{if}~{}\sum_{m=1}^{M}\hat{y}_{m}&lt;M/2\\
I(\hat{p}_{\text{ensem}}&gt;0),&amp;\text{otherwise.}\end{cases}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S2.SS2.p1.17" class="ltx_p">To be precise, we predict the majority if a tie does not exist, or the sign of <math id="S2.SS2.p1.17.m1.1" class="ltx_Math" alttext="\hat{p}_{\text{ensem}}" display="inline"><semantics id="S2.SS2.p1.17.m1.1a"><msub id="S2.SS2.p1.17.m1.1.1" xref="S2.SS2.p1.17.m1.1.1.cmml"><mover accent="true" id="S2.SS2.p1.17.m1.1.1.2" xref="S2.SS2.p1.17.m1.1.1.2.cmml"><mi id="S2.SS2.p1.17.m1.1.1.2.2" xref="S2.SS2.p1.17.m1.1.1.2.2.cmml">p</mi><mo id="S2.SS2.p1.17.m1.1.1.2.1" xref="S2.SS2.p1.17.m1.1.1.2.1.cmml">^</mo></mover><mtext id="S2.SS2.p1.17.m1.1.1.3" xref="S2.SS2.p1.17.m1.1.1.3a.cmml">ensem</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.17.m1.1b"><apply id="S2.SS2.p1.17.m1.1.1.cmml" xref="S2.SS2.p1.17.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.17.m1.1.1.1.cmml" xref="S2.SS2.p1.17.m1.1.1">subscript</csymbol><apply id="S2.SS2.p1.17.m1.1.1.2.cmml" xref="S2.SS2.p1.17.m1.1.1.2"><ci id="S2.SS2.p1.17.m1.1.1.2.1.cmml" xref="S2.SS2.p1.17.m1.1.1.2.1">^</ci><ci id="S2.SS2.p1.17.m1.1.1.2.2.cmml" xref="S2.SS2.p1.17.m1.1.1.2.2">𝑝</ci></apply><ci id="S2.SS2.p1.17.m1.1.1.3a.cmml" xref="S2.SS2.p1.17.m1.1.1.3"><mtext mathsize="70%" id="S2.SS2.p1.17.m1.1.1.3.cmml" xref="S2.SS2.p1.17.m1.1.1.3">ensem</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.17.m1.1c">\hat{p}_{\text{ensem}}</annotation></semantics></math> otherwise. The final ranking of answers is carried out by first rank the (predicted) positive answers, and then the (predicted) negative answers.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Dataset-Specific Details </h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.8" class="ltx_p"><span id="S2.SS3.p1.8.1" class="ltx_text ltx_font_bold">MedNLI:</span> Since the MEDIQA shared task uses a different test set than the original MedNLI dataset, we merge the original MedNLI development set into the training set and use evaluation performance on the original MedNLI test set. Furthermore, MedNLI and MNLI are the same NLI tasks, thus, we shared final-layer classifiers for these two tasks. For MedNLI, we find that each consecutive 3 samples in all the training set contain the same premise with different hypothesizes, and contains exactly 1 entail, 1 neutral and 1 contradiction. To the end, in our prediction, we constrain the three predictions to be one of each kind, and use the most likely prediction from the model prediction probabilities.
<br class="ltx_break"><span id="S2.SS3.p1.8.2" class="ltx_text ltx_font_bold">RQE:</span> We use the clinical question as the premise and question from FAQ as the hypothesis. We find that the test data distribution is quite different from the train data distribution. To mitigate this effect, we randomly shuffle half of the evaluation data into the training set and evaluate on the remaining half. 
<br class="ltx_break"><span id="S2.SS3.p1.8.3" class="ltx_text ltx_font_bold">QA:</span> We use the answer as the premise and the question as the hypothesis. The QA task is cast as both a ranking task and a classification task. Each question is associated with a relevance score in <math id="S2.SS3.p1.1.m1.4" class="ltx_Math" alttext="\{1,2,3,4\}" display="inline"><semantics id="S2.SS3.p1.1.m1.4a"><mrow id="S2.SS3.p1.1.m1.4.5.2" xref="S2.SS3.p1.1.m1.4.5.1.cmml"><mo stretchy="false" id="S2.SS3.p1.1.m1.4.5.2.1" xref="S2.SS3.p1.1.m1.4.5.1.cmml">{</mo><mn id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">1</mn><mo id="S2.SS3.p1.1.m1.4.5.2.2" xref="S2.SS3.p1.1.m1.4.5.1.cmml">,</mo><mn id="S2.SS3.p1.1.m1.2.2" xref="S2.SS3.p1.1.m1.2.2.cmml">2</mn><mo id="S2.SS3.p1.1.m1.4.5.2.3" xref="S2.SS3.p1.1.m1.4.5.1.cmml">,</mo><mn id="S2.SS3.p1.1.m1.3.3" xref="S2.SS3.p1.1.m1.3.3.cmml">3</mn><mo id="S2.SS3.p1.1.m1.4.5.2.4" xref="S2.SS3.p1.1.m1.4.5.1.cmml">,</mo><mn id="S2.SS3.p1.1.m1.4.4" xref="S2.SS3.p1.1.m1.4.4.cmml">4</mn><mo stretchy="false" id="S2.SS3.p1.1.m1.4.5.2.5" xref="S2.SS3.p1.1.m1.4.5.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.4b"><set id="S2.SS3.p1.1.m1.4.5.1.cmml" xref="S2.SS3.p1.1.m1.4.5.2"><cn type="integer" id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">1</cn><cn type="integer" id="S2.SS3.p1.1.m1.2.2.cmml" xref="S2.SS3.p1.1.m1.2.2">2</cn><cn type="integer" id="S2.SS3.p1.1.m1.3.3.cmml" xref="S2.SS3.p1.1.m1.3.3">3</cn><cn type="integer" id="S2.SS3.p1.1.m1.4.4.cmml" xref="S2.SS3.p1.1.m1.4.4">4</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.4c">\{1,2,3,4\}</annotation></semantics></math>, and an additional rank over all the answers for a specific question is given. We use a modified score to incorporate both information: suppose there are <math id="S2.SS3.p1.2.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S2.SS3.p1.2.m2.1a"><mi id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><ci id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">m</annotation></semantics></math> questions with relevance score <math id="S2.SS3.p1.3.m3.4" class="ltx_Math" alttext="s\in\{1,2,3,4\}" display="inline"><semantics id="S2.SS3.p1.3.m3.4a"><mrow id="S2.SS3.p1.3.m3.4.5" xref="S2.SS3.p1.3.m3.4.5.cmml"><mi id="S2.SS3.p1.3.m3.4.5.2" xref="S2.SS3.p1.3.m3.4.5.2.cmml">s</mi><mo id="S2.SS3.p1.3.m3.4.5.1" xref="S2.SS3.p1.3.m3.4.5.1.cmml">∈</mo><mrow id="S2.SS3.p1.3.m3.4.5.3.2" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml"><mo stretchy="false" id="S2.SS3.p1.3.m3.4.5.3.2.1" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml">{</mo><mn id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml">1</mn><mo id="S2.SS3.p1.3.m3.4.5.3.2.2" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml">,</mo><mn id="S2.SS3.p1.3.m3.2.2" xref="S2.SS3.p1.3.m3.2.2.cmml">2</mn><mo id="S2.SS3.p1.3.m3.4.5.3.2.3" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml">,</mo><mn id="S2.SS3.p1.3.m3.3.3" xref="S2.SS3.p1.3.m3.3.3.cmml">3</mn><mo id="S2.SS3.p1.3.m3.4.5.3.2.4" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml">,</mo><mn id="S2.SS3.p1.3.m3.4.4" xref="S2.SS3.p1.3.m3.4.4.cmml">4</mn><mo stretchy="false" id="S2.SS3.p1.3.m3.4.5.3.2.5" xref="S2.SS3.p1.3.m3.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.4b"><apply id="S2.SS3.p1.3.m3.4.5.cmml" xref="S2.SS3.p1.3.m3.4.5"><in id="S2.SS3.p1.3.m3.4.5.1.cmml" xref="S2.SS3.p1.3.m3.4.5.1"></in><ci id="S2.SS3.p1.3.m3.4.5.2.cmml" xref="S2.SS3.p1.3.m3.4.5.2">𝑠</ci><set id="S2.SS3.p1.3.m3.4.5.3.1.cmml" xref="S2.SS3.p1.3.m3.4.5.3.2"><cn type="integer" id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">1</cn><cn type="integer" id="S2.SS3.p1.3.m3.2.2.cmml" xref="S2.SS3.p1.3.m3.2.2">2</cn><cn type="integer" id="S2.SS3.p1.3.m3.3.3.cmml" xref="S2.SS3.p1.3.m3.3.3">3</cn><cn type="integer" id="S2.SS3.p1.3.m3.4.4.cmml" xref="S2.SS3.p1.3.m3.4.4">4</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.4c">s\in\{1,2,3,4\}</annotation></semantics></math>. Then the <math id="S2.SS3.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS3.p1.4.m4.1a"><mi id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><ci id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">i</annotation></semantics></math>-th most relevant answer in these <math id="S2.SS3.p1.5.m5.1" class="ltx_Math" alttext="m" display="inline"><semantics id="S2.SS3.p1.5.m5.1a"><mi id="S2.SS3.p1.5.m5.1.1" xref="S2.SS3.p1.5.m5.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.5.m5.1b"><ci id="S2.SS3.p1.5.m5.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.5.m5.1c">m</annotation></semantics></math> questions get modified score <math id="S2.SS3.p1.6.m6.1" class="ltx_Math" alttext="s-\frac{i-1}{m}" display="inline"><semantics id="S2.SS3.p1.6.m6.1a"><mrow id="S2.SS3.p1.6.m6.1.1" xref="S2.SS3.p1.6.m6.1.1.cmml"><mi id="S2.SS3.p1.6.m6.1.1.2" xref="S2.SS3.p1.6.m6.1.1.2.cmml">s</mi><mo id="S2.SS3.p1.6.m6.1.1.1" xref="S2.SS3.p1.6.m6.1.1.1.cmml">−</mo><mfrac id="S2.SS3.p1.6.m6.1.1.3" xref="S2.SS3.p1.6.m6.1.1.3.cmml"><mrow id="S2.SS3.p1.6.m6.1.1.3.2" xref="S2.SS3.p1.6.m6.1.1.3.2.cmml"><mi id="S2.SS3.p1.6.m6.1.1.3.2.2" xref="S2.SS3.p1.6.m6.1.1.3.2.2.cmml">i</mi><mo id="S2.SS3.p1.6.m6.1.1.3.2.1" xref="S2.SS3.p1.6.m6.1.1.3.2.1.cmml">−</mo><mn id="S2.SS3.p1.6.m6.1.1.3.2.3" xref="S2.SS3.p1.6.m6.1.1.3.2.3.cmml">1</mn></mrow><mi id="S2.SS3.p1.6.m6.1.1.3.3" xref="S2.SS3.p1.6.m6.1.1.3.3.cmml">m</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.6.m6.1b"><apply id="S2.SS3.p1.6.m6.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1"><minus id="S2.SS3.p1.6.m6.1.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1.1"></minus><ci id="S2.SS3.p1.6.m6.1.1.2.cmml" xref="S2.SS3.p1.6.m6.1.1.2">𝑠</ci><apply id="S2.SS3.p1.6.m6.1.1.3.cmml" xref="S2.SS3.p1.6.m6.1.1.3"><divide id="S2.SS3.p1.6.m6.1.1.3.1.cmml" xref="S2.SS3.p1.6.m6.1.1.3"></divide><apply id="S2.SS3.p1.6.m6.1.1.3.2.cmml" xref="S2.SS3.p1.6.m6.1.1.3.2"><minus id="S2.SS3.p1.6.m6.1.1.3.2.1.cmml" xref="S2.SS3.p1.6.m6.1.1.3.2.1"></minus><ci id="S2.SS3.p1.6.m6.1.1.3.2.2.cmml" xref="S2.SS3.p1.6.m6.1.1.3.2.2">𝑖</ci><cn type="integer" id="S2.SS3.p1.6.m6.1.1.3.2.3.cmml" xref="S2.SS3.p1.6.m6.1.1.3.2.3">1</cn></apply><ci id="S2.SS3.p1.6.m6.1.1.3.3.cmml" xref="S2.SS3.p1.6.m6.1.1.3.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.6.m6.1c">s-\frac{i-1}{m}</annotation></semantics></math>. In this way the scores are uniformly distributed in <math id="S2.SS3.p1.7.m7.2" class="ltx_Math" alttext="(s-1,s]" display="inline"><semantics id="S2.SS3.p1.7.m7.2a"><mrow id="S2.SS3.p1.7.m7.2.2.1" xref="S2.SS3.p1.7.m7.2.2.2.cmml"><mo stretchy="false" id="S2.SS3.p1.7.m7.2.2.1.2" xref="S2.SS3.p1.7.m7.2.2.2.cmml">(</mo><mrow id="S2.SS3.p1.7.m7.2.2.1.1" xref="S2.SS3.p1.7.m7.2.2.1.1.cmml"><mi id="S2.SS3.p1.7.m7.2.2.1.1.2" xref="S2.SS3.p1.7.m7.2.2.1.1.2.cmml">s</mi><mo id="S2.SS3.p1.7.m7.2.2.1.1.1" xref="S2.SS3.p1.7.m7.2.2.1.1.1.cmml">−</mo><mn id="S2.SS3.p1.7.m7.2.2.1.1.3" xref="S2.SS3.p1.7.m7.2.2.1.1.3.cmml">1</mn></mrow><mo id="S2.SS3.p1.7.m7.2.2.1.3" xref="S2.SS3.p1.7.m7.2.2.2.cmml">,</mo><mi id="S2.SS3.p1.7.m7.1.1" xref="S2.SS3.p1.7.m7.1.1.cmml">s</mi><mo stretchy="false" id="S2.SS3.p1.7.m7.2.2.1.4" xref="S2.SS3.p1.7.m7.2.2.2.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.7.m7.2b"><interval closure="open-closed" id="S2.SS3.p1.7.m7.2.2.2.cmml" xref="S2.SS3.p1.7.m7.2.2.1"><apply id="S2.SS3.p1.7.m7.2.2.1.1.cmml" xref="S2.SS3.p1.7.m7.2.2.1.1"><minus id="S2.SS3.p1.7.m7.2.2.1.1.1.cmml" xref="S2.SS3.p1.7.m7.2.2.1.1.1"></minus><ci id="S2.SS3.p1.7.m7.2.2.1.1.2.cmml" xref="S2.SS3.p1.7.m7.2.2.1.1.2">𝑠</ci><cn type="integer" id="S2.SS3.p1.7.m7.2.2.1.1.3.cmml" xref="S2.SS3.p1.7.m7.2.2.1.1.3">1</cn></apply><ci id="S2.SS3.p1.7.m7.1.1.cmml" xref="S2.SS3.p1.7.m7.1.1">𝑠</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.7.m7.2c">(s-1,s]</annotation></semantics></math>. We shift all scores by <math id="S2.SS3.p1.8.m8.1" class="ltx_Math" alttext="-2" display="inline"><semantics id="S2.SS3.p1.8.m8.1a"><mrow id="S2.SS3.p1.8.m8.1.1" xref="S2.SS3.p1.8.m8.1.1.cmml"><mo id="S2.SS3.p1.8.m8.1.1a" xref="S2.SS3.p1.8.m8.1.1.cmml">−</mo><mn id="S2.SS3.p1.8.m8.1.1.2" xref="S2.SS3.p1.8.m8.1.1.2.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.8.m8.1b"><apply id="S2.SS3.p1.8.m8.1.1.cmml" xref="S2.SS3.p1.8.m8.1.1"><minus id="S2.SS3.p1.8.m8.1.1.1.cmml" xref="S2.SS3.p1.8.m8.1.1"></minus><cn type="integer" id="S2.SS3.p1.8.m8.1.1.2.cmml" xref="S2.SS3.p1.8.m8.1.1.2">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.8.m8.1c">-2</annotation></semantics></math> so that a positive score leads to a correct answer and vice versa. We also tried pairwise losses to incorporate the ranking but did not find it to boost the performance very much.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">We find that the development set distribution is inconsistent with test data - the training and test set consist of both LiveQAMed and Alexa questions, whereas the development set seems to only contain LiveQAMed questions. We shuffle the training and development set to make them similar: We use the last 25 questions in original development set (LiveQAMed questions) and the last 25 Alexa questions (from the original training set) as our development set, and use the remaining questions as our training set.
This results in 1,504 training pairs and 431 validation pairs. Due to the limited size of the QA dataset, we use cross-validation that divides all pairs into 5 slices and train 5 models by using each slice as a validation set. We train MT-DNN and SciBERT on both these 5 setups and obtain 10 models, and ensemble all the 10 models obtained. 
<br class="ltx_break"><span id="S2.SS3.p2.1.1" class="ltx_text ltx_font_bold">MedQuAD:</span> We use 10,109 questions from MedQuAD because the remaining questions are not available due to copyright issues. The original MedQuAD dataset only contains positive question pairs. We add negative samples to the dataset by randomly sampling an answer from the same web page. For each positive QA pair, we add two negative samples. The resulting 30,327 pairs are randomly divided into 27,391 training pairs and 2,936 evaluation pairs. Then we use the same method as QA to train MedQuAD; we also share the same answer module between QA and MedQuAD.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Implementation and Hyperparameters</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.2" class="ltx_p">We implement our method using PyTorch<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://pytorch.org/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://pytorch.org/</a></span></span></span> and Pytorch-pretrained-BERT<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span><a target="_blank" href="https://github.com/huggingface/pytorch-pretrained-BERT" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/huggingface/pytorch-pretrained-BERT</a></span></span></span>, as an extension to MT-DNN<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a target="_blank" href="https://github.com/namisan/mt-dnn" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/namisan/mt-dnn</a></span></span></span>. We also use the pytorch-compatible SciBERT pretrained model provided by AllenNLP<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a target="_blank" href="https://github.com/allenai/scibert" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/allenai/scibert</a></span></span></span>. Each training example is pruned to at most 384 tokens for MT-DNN models and 512 tokens for SciBERT models. We use a batch size of 16 for MT-DNN, and 40 for SciBERT. For fine-tuning, we train the models for 20 epochs using a learning rate of <math id="S2.SS4.p1.1.m1.1" class="ltx_Math" alttext="5\times 10^{-5}" display="inline"><semantics id="S2.SS4.p1.1.m1.1a"><mrow id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml"><mn id="S2.SS4.p1.1.m1.1.1.2" xref="S2.SS4.p1.1.m1.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S2.SS4.p1.1.m1.1.1.1" xref="S2.SS4.p1.1.m1.1.1.1.cmml">×</mo><msup id="S2.SS4.p1.1.m1.1.1.3" xref="S2.SS4.p1.1.m1.1.1.3.cmml"><mn id="S2.SS4.p1.1.m1.1.1.3.2" xref="S2.SS4.p1.1.m1.1.1.3.2.cmml">10</mn><mrow id="S2.SS4.p1.1.m1.1.1.3.3" xref="S2.SS4.p1.1.m1.1.1.3.3.cmml"><mo id="S2.SS4.p1.1.m1.1.1.3.3a" xref="S2.SS4.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="S2.SS4.p1.1.m1.1.1.3.3.2" xref="S2.SS4.p1.1.m1.1.1.3.3.2.cmml">5</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b"><apply id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1"><times id="S2.SS4.p1.1.m1.1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1.1"></times><cn type="integer" id="S2.SS4.p1.1.m1.1.1.2.cmml" xref="S2.SS4.p1.1.m1.1.1.2">5</cn><apply id="S2.SS4.p1.1.m1.1.1.3.cmml" xref="S2.SS4.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.1.m1.1.1.3.1.cmml" xref="S2.SS4.p1.1.m1.1.1.3">superscript</csymbol><cn type="integer" id="S2.SS4.p1.1.m1.1.1.3.2.cmml" xref="S2.SS4.p1.1.m1.1.1.3.2">10</cn><apply id="S2.SS4.p1.1.m1.1.1.3.3.cmml" xref="S2.SS4.p1.1.m1.1.1.3.3"><minus id="S2.SS4.p1.1.m1.1.1.3.3.1.cmml" xref="S2.SS4.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="S2.SS4.p1.1.m1.1.1.3.3.2.cmml" xref="S2.SS4.p1.1.m1.1.1.3.3.2">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">5\times 10^{-5}</annotation></semantics></math>. After that, we further fine-tune the model from the best multi-task model for 6 epochs for each dataset, using a learning rate of <math id="S2.SS4.p1.2.m2.1" class="ltx_Math" alttext="5\times 10^{-6}" display="inline"><semantics id="S2.SS4.p1.2.m2.1a"><mrow id="S2.SS4.p1.2.m2.1.1" xref="S2.SS4.p1.2.m2.1.1.cmml"><mn id="S2.SS4.p1.2.m2.1.1.2" xref="S2.SS4.p1.2.m2.1.1.2.cmml">5</mn><mo lspace="0.222em" rspace="0.222em" id="S2.SS4.p1.2.m2.1.1.1" xref="S2.SS4.p1.2.m2.1.1.1.cmml">×</mo><msup id="S2.SS4.p1.2.m2.1.1.3" xref="S2.SS4.p1.2.m2.1.1.3.cmml"><mn id="S2.SS4.p1.2.m2.1.1.3.2" xref="S2.SS4.p1.2.m2.1.1.3.2.cmml">10</mn><mrow id="S2.SS4.p1.2.m2.1.1.3.3" xref="S2.SS4.p1.2.m2.1.1.3.3.cmml"><mo id="S2.SS4.p1.2.m2.1.1.3.3a" xref="S2.SS4.p1.2.m2.1.1.3.3.cmml">−</mo><mn id="S2.SS4.p1.2.m2.1.1.3.3.2" xref="S2.SS4.p1.2.m2.1.1.3.3.2.cmml">6</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m2.1b"><apply id="S2.SS4.p1.2.m2.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1"><times id="S2.SS4.p1.2.m2.1.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1.1"></times><cn type="integer" id="S2.SS4.p1.2.m2.1.1.2.cmml" xref="S2.SS4.p1.2.m2.1.1.2">5</cn><apply id="S2.SS4.p1.2.m2.1.1.3.cmml" xref="S2.SS4.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.p1.2.m2.1.1.3.1.cmml" xref="S2.SS4.p1.2.m2.1.1.3">superscript</csymbol><cn type="integer" id="S2.SS4.p1.2.m2.1.1.3.2.cmml" xref="S2.SS4.p1.2.m2.1.1.3.2">10</cn><apply id="S2.SS4.p1.2.m2.1.1.3.3.cmml" xref="S2.SS4.p1.2.m2.1.1.3.3"><minus id="S2.SS4.p1.2.m2.1.1.3.3.1.cmml" xref="S2.SS4.p1.2.m2.1.1.3.3"></minus><cn type="integer" id="S2.SS4.p1.2.m2.1.1.3.3.2.cmml" xref="S2.SS4.p1.2.m2.1.1.3.3.2">6</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.2.m2.1c">5\times 10^{-6}</annotation></semantics></math>. We ensemble all models with an accuracy larger than 87.7 for MedNLI, 83.5 for shuffled RQE, and 83.0 for QA. We ensemble 4 models for MedNLI, 14 models for RQE. For QA, we ensemble 10 models from cross-validation and 7 models using the normal training-validation approach.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Results</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we provide the leaderboard performance and conduct an analysis of the effect of ensemble models from different sources.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Test Set Performance and LeaderBoards</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The results for MedNLI dataset is summarized in Table <a href="#S3.T1" title="Table 1 ‣ 3.1 Test Set Performance and LeaderBoards ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Our method ends up the 3rd place on the leaderboard and substantially improving upon previous state-of-the-art (SOTA) methods.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<table id="S3.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.1.1.1" class="ltx_tr">
<th id="S3.T1.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Model</th>
<th id="S3.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Dev Set</th>
<th id="S3.T1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Test Set</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.1.2.1" class="ltx_tr">
<th id="S3.T1.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">WTMed</th>
<td id="S3.T1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T1.1.2.1.3.1" class="ltx_text ltx_font_bold">98.0</span></td>
</tr>
<tr id="S3.T1.1.3.2" class="ltx_tr">
<th id="S3.T1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">PANLP</th>
<td id="S3.T1.1.3.2.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T1.1.3.2.3" class="ltx_td ltx_align_center">96.6</td>
</tr>
<tr id="S3.T1.1.4.3" class="ltx_tr">
<th id="S3.T1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span id="S3.T1.1.4.3.1.1" class="ltx_text ltx_font_bold">Ours</span></th>
<td id="S3.T1.1.4.3.2" class="ltx_td ltx_align_center"><span id="S3.T1.1.4.3.2.1" class="ltx_text ltx_font_bold">91.7</span></td>
<td id="S3.T1.1.4.3.3" class="ltx_td ltx_align_center"><span id="S3.T1.1.4.3.3.1" class="ltx_text ltx_font_bold">93.8</span></td>
</tr>
<tr id="S3.T1.1.5.4" class="ltx_tr">
<th id="S3.T1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Sieg</th>
<td id="S3.T1.1.5.4.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T1.1.5.4.3" class="ltx_td ltx_align_center">91.1</td>
</tr>
<tr id="S3.T1.1.6.5" class="ltx_tr">
<th id="S3.T1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r ltx_border_t">SOTA</th>
<td id="S3.T1.1.6.5.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">76.6</td>
<td id="S3.T1.1.6.5.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_t">-</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>
The leaderboard for MedNLI task (<a target="_blank" href="https://www.aicrowd.com/challenges/mediqa-2019-natural-language-inference-nli/leaderboards" title="" class="ltx_ref ltx_href">link</a>). Scores are accuracy(%). Our method ranked the 3rd on the leaderboard. Previous SOTA method was from <cite class="ltx_cite ltx_citemacro_cite">Romanov and Shivade (<a href="#bib.bib10" title="" class="ltx_ref">2018</a>)</cite>, on the original MedNLI test set (used as dev set here).
</figcaption>
</figure>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">The results for RQE dataset is summarized in Table <a href="#S3.T2" title="Table 2 ‣ 3.1 Test Set Performance and LeaderBoards ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Our method ends up the 7th place on the leaderboard. Our method has a very large discrepancy between the dev set performance and test set performance. We think this is because the test set is quite different from dev set, and that the dev set is very small and easy to overfit to.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<table id="S3.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T2.1.1.1" class="ltx_tr">
<th id="S3.T2.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Model</th>
<th id="S3.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Dev Set</th>
<th id="S3.T2.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Test Set</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T2.1.2.1" class="ltx_tr">
<th id="S3.T2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">PANLP</th>
<td id="S3.T2.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.1.2.1.3.1" class="ltx_text ltx_font_bold">74.9</span></td>
</tr>
<tr id="S3.T2.1.3.2" class="ltx_tr">
<th id="S3.T2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Sieg</th>
<td id="S3.T2.1.3.2.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T2.1.3.2.3" class="ltx_td ltx_align_center">70.6</td>
</tr>
<tr id="S3.T2.1.4.3" class="ltx_tr">
<th id="S3.T2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">IIT-KGP</th>
<td id="S3.T2.1.4.3.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T2.1.4.3.3" class="ltx_td ltx_align_center">68.4</td>
</tr>
<tr id="S3.T2.1.5.4" class="ltx_tr">
<th id="S3.T2.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r"><span id="S3.T2.1.5.4.1.1" class="ltx_text ltx_font_bold">Ours</span></th>
<td id="S3.T2.1.5.4.2" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T2.1.5.4.2.1" class="ltx_text ltx_font_bold">91.7</span></td>
<td id="S3.T2.1.5.4.3" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T2.1.5.4.3.1" class="ltx_text ltx_font_bold">66.2</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>
The leaderboard for RQE task (<a target="_blank" href="https://www.aicrowd.com/challenges/mediqa-2019-recognizing-question-entailment-rqe/leaderboards" title="" class="ltx_ref ltx_href">link</a>). Scores are accuracy(%). Our method ranked the 7th on the leaderboard.
</figcaption>
</figure>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">The results for QA dataset is summarized in Table <a href="#S3.T3" title="Table 3 ‣ 3.1 Test Set Performance and LeaderBoards ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Our method reaches the first place on the leaderboard based on accuracy and precision score and 3rd-highest MRR. We note that the Spearman score is not consistent with other scores in the leaderboard; actually, the Spearman score is computed just based on the predicted positive answers, and a method can get very high Spearman score by never predict positive labels.</p>
</div>
<figure id="S3.T3" class="ltx_table">
<table id="S3.T3.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.1.1.1" class="ltx_tr">
<th id="S3.T3.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Model</th>
<th id="S3.T3.1.1.1.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_th ltx_th_column ltx_border_t">Acc</th>
<th id="S3.T3.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Spearman</th>
<th id="S3.T3.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Precision</th>
<th id="S3.T3.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">MRR</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.1.2.1" class="ltx_tr">
<th id="S3.T3.1.2.1.1" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="S3.T3.1.2.1.1.1" class="ltx_text ltx_font_bold">Ours</span></th>
<td id="S3.T3.1.2.1.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_t"><span id="S3.T3.1.2.1.2.1" class="ltx_text ltx_font_bold">78.0</span></td>
<td id="S3.T3.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">0.238</td>
<td id="S3.T3.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.1.2.1.4.1" class="ltx_text ltx_font_bold">81.91</span></td>
<td id="S3.T3.1.2.1.5" class="ltx_td ltx_align_center ltx_border_t">0.937</td>
</tr>
<tr id="S3.T3.1.3.2" class="ltx_tr">
<th id="S3.T3.1.3.2.1" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_r">PANLP</th>
<td id="S3.T3.1.3.2.2" class="ltx_td ltx_nopad_l ltx_align_center">77.7</td>
<td id="S3.T3.1.3.2.3" class="ltx_td ltx_align_center">0.180</td>
<td id="S3.T3.1.3.2.4" class="ltx_td ltx_align_center">78.1</td>
<td id="S3.T3.1.3.2.5" class="ltx_td ltx_align_center">0.938</td>
</tr>
<tr id="S3.T3.1.4.3" class="ltx_tr">
<th id="S3.T3.1.4.3.1" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_r">Pentagon</th>
<td id="S3.T3.1.4.3.2" class="ltx_td ltx_nopad_l ltx_align_center">76.5</td>
<td id="S3.T3.1.4.3.3" class="ltx_td ltx_align_center">0.338</td>
<td id="S3.T3.1.4.3.4" class="ltx_td ltx_align_center">77.7</td>
<td id="S3.T3.1.4.3.5" class="ltx_td ltx_align_center"><span id="S3.T3.1.4.3.5.1" class="ltx_text ltx_font_bold">0.962</span></td>
</tr>
<tr id="S3.T3.1.5.4" class="ltx_tr">
<th id="S3.T3.1.5.4.1" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">DUT-BIM</th>
<td id="S3.T3.1.5.4.2" class="ltx_td ltx_nopad_l ltx_align_center ltx_border_b">74.5</td>
<td id="S3.T3.1.5.4.3" class="ltx_td ltx_align_center ltx_border_b">0.106</td>
<td id="S3.T3.1.5.4.4" class="ltx_td ltx_align_center ltx_border_b">74.7</td>
<td id="S3.T3.1.5.4.5" class="ltx_td ltx_align_center ltx_border_b">0.906</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>
The leaderboard for QA task (<a target="_blank" href="https://www.aicrowd.com/challenges/mediqa-2019-question-answering-qa/leaderboards" title="" class="ltx_ref ltx_href">link</a>). Our method ranked #1 on the leaderboard in terms of Acc (accuracy). The Spearman score is not consistent with other scores in the leaderboard.
</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Ensembles from Different Sources</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">We compare the effect of ensembling from different sources in Table <a href="#S3.T4" title="Table 4 ‣ 3.2 Ensembles from Different Sources ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. We train 6 different models with different randomizations, with initializations from MT-DNN (#1,#2,#3) and SciBERT (#4, #5,#6) respectively. If we ensemble models with the same MT-DNN architecture, the resulting model only has around 1.5% improvement in accuracy, compared to the numerical average of the ensemble model accuracies (#1+#2+#3 and #4+#5+#6 in Table <a href="#S3.T4" title="Table 4 ‣ 3.2 Ensembles from Different Sources ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). On the other hand, if we ensemble three models from different sources (#1+#2+#5 and #1+#5+#6 in Table <a href="#S3.T4" title="Table 4 ‣ 3.2 Ensembles from Different Sources ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), the resulting model gains more than 3% in accuracy compared to the numerical average. This shows that ensembling from different sources has a great advantage than ensembling from single-source models.</p>
</div>
<figure id="S3.T4" class="ltx_table">
<table id="S3.T4.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T4.1.1.1" class="ltx_tr">
<th id="S3.T4.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Model</th>
<td id="S3.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t">Avg. Acc</td>
<td id="S3.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">Esm. Acc</td>
</tr>
<tr id="S3.T4.1.2.2" class="ltx_tr">
<th id="S3.T4.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" colspan="3">Single Model</th>
</tr>
<tr id="S3.T4.1.3.3" class="ltx_tr">
<th id="S3.T4.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">#1, MT-DNN</th>
<td id="S3.T4.1.3.3.2" class="ltx_td ltx_align_center ltx_border_t">-</td>
<td id="S3.T4.1.3.3.3" class="ltx_td ltx_align_center ltx_border_t">88.61</td>
</tr>
<tr id="S3.T4.1.4.4" class="ltx_tr">
<th id="S3.T4.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#2, MT-DNN</th>
<td id="S3.T4.1.4.4.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T4.1.4.4.3" class="ltx_td ltx_align_center">88.33</td>
</tr>
<tr id="S3.T4.1.5.5" class="ltx_tr">
<th id="S3.T4.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#3, MT-DNN</th>
<td id="S3.T4.1.5.5.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T4.1.5.5.3" class="ltx_td ltx_align_center">87.84</td>
</tr>
<tr id="S3.T4.1.6.6" class="ltx_tr">
<th id="S3.T4.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#4, SciBERT</th>
<td id="S3.T4.1.6.6.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T4.1.6.6.3" class="ltx_td ltx_align_center">88.19</td>
</tr>
<tr id="S3.T4.1.7.7" class="ltx_tr">
<th id="S3.T4.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#5, SciBERT</th>
<td id="S3.T4.1.7.7.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T4.1.7.7.3" class="ltx_td ltx_align_center">87.70</td>
</tr>
<tr id="S3.T4.1.8.8" class="ltx_tr">
<th id="S3.T4.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#6, SciBERT</th>
<td id="S3.T4.1.8.8.2" class="ltx_td ltx_align_center">-</td>
<td id="S3.T4.1.8.8.3" class="ltx_td ltx_align_center">87.21</td>
</tr>
<tr id="S3.T4.1.9.9" class="ltx_tr">
<th id="S3.T4.1.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_tt" colspan="3">Ensemble Model</th>
</tr>
<tr id="S3.T4.1.10.10" class="ltx_tr">
<th id="S3.T4.1.10.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">#1+#2+#3, MT-DNN</th>
<td id="S3.T4.1.10.10.2" class="ltx_td ltx_align_center ltx_border_t">88.26</td>
<td id="S3.T4.1.10.10.3" class="ltx_td ltx_align_center ltx_border_t">89.7</td>
</tr>
<tr id="S3.T4.1.11.11" class="ltx_tr">
<th id="S3.T4.1.11.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#4+#5+#6, SciBERT</th>
<td id="S3.T4.1.11.11.2" class="ltx_td ltx_align_center">87.70</td>
<td id="S3.T4.1.11.11.3" class="ltx_td ltx_align_center">89.2</td>
</tr>
<tr id="S3.T4.1.12.12" class="ltx_tr">
<th id="S3.T4.1.12.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#1+#2+#5, MultiSource</th>
<td id="S3.T4.1.12.12.2" class="ltx_td ltx_align_center">88.21</td>
<td id="S3.T4.1.12.12.3" class="ltx_td ltx_align_center">91.6</td>
</tr>
<tr id="S3.T4.1.13.13" class="ltx_tr">
<th id="S3.T4.1.13.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">#1+#5+#6, MultiSource</th>
<td id="S3.T4.1.13.13.2" class="ltx_td ltx_align_center">87.84</td>
<td id="S3.T4.1.13.13.3" class="ltx_td ltx_align_center">90.4</td>
</tr>
<tr id="S3.T4.1.14.14" class="ltx_tr">
<th id="S3.T4.1.14.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">#1-6, MultiSource</th>
<td id="S3.T4.1.14.14.2" class="ltx_td ltx_align_center ltx_border_b">87.98</td>
<td id="S3.T4.1.14.14.3" class="ltx_td ltx_align_center ltx_border_b">91.3</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span>
Comparison of ensembles from different sources. Avg.Acc stands for average accuracy, the numerical average of each individual model’s accuracy. Esm.Acc stands for ensemble accuracy, the accuracy of the resulting ensemble model. For ensembles, MT-DNN means all the three models are from MT-DNN, and similarly for SciBERT; MultiSource denotes the ensemble models come from two different sources.
</figcaption>
</figure>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Single-Model Performance</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">For completeness, we report the single-model performance on the MedNLI development set under various multi-task learning setups and initializations in Table <a href="#S3.T5" title="Table 5 ‣ 3.3 Single-Model Performance ‣ 3 Results ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
(1) The <span id="S3.SS3.p1.1.1" class="ltx_text ltx_font_italic">Naïve</span> approach denotes only MedNLI, RQE, QA, MedQuAD is considered as in-domain data in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> without any external data;
(2) The <span id="S3.SS3.p1.1.2" class="ltx_text ltx_font_italic">Ratio</span> approach denotes that we consider MedNLI as in-domain data, and RQE, QA, MedQuAD as external data in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>;
(3) The <span id="S3.SS3.p1.1.3" class="ltx_text ltx_font_italic">Ratio+MNLI</span> approach denotes that we consider MedNLI, RQE, QA, MedQuAD as in-domain data and MNLI as external data in Algorithm <a href="#alg1" title="Algorithm 1 ‣ 1 Background ‣ DoubleTransfer at MEDIQA 2019: Multi-Source Transfer Learning for Natural Language Understanding in the Medical Domain" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Note that MNLI is much larger than the medical datasets, so if we use RQE, QA, MedQuAD, MNLI as external data, the performance is very similar to the third setting. We did not conduct experiments on single-dataset settings, as previous works have suggested that multi-task learning can obtain much better results than single-task models <cite class="ltx_cite ltx_citemacro_cite">Liu et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019b</a>); Xu et al. (<a href="#bib.bib13" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">Overall, the best results are achieved via using SciBERT as the pre-trained model, and multi-task learning with MNLI. The models trained by mixing in-domain data (the second setup) is also competitive. We therefore use models from both setups for ensemble.</p>
</div>
<figure id="S3.T5" class="ltx_table">
<table id="S3.T5.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T5.1.1.1" class="ltx_tr">
<th id="S3.T5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Init Model</th>
<th id="S3.T5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Naïve</th>
<th id="S3.T5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ratio</th>
<th id="S3.T5.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Ratio+MNLI</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T5.1.2.1" class="ltx_tr">
<th id="S3.T5.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">MT-DNN</th>
<td id="S3.T5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t">86.9</td>
<td id="S3.T5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">86.2</td>
<td id="S3.T5.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t">87.8</td>
</tr>
<tr id="S3.T5.1.3.2" class="ltx_tr">
<th id="S3.T5.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">MT-DNN-KD</th>
<td id="S3.T5.1.3.2.2" class="ltx_td ltx_align_center">87.5</td>
<td id="S3.T5.1.3.2.3" class="ltx_td ltx_align_center">88.2</td>
<td id="S3.T5.1.3.2.4" class="ltx_td ltx_align_center"><span id="S3.T5.1.3.2.4.1" class="ltx_text ltx_font_bold">88.8</span></td>
</tr>
<tr id="S3.T5.1.4.3" class="ltx_tr">
<th id="S3.T5.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">SciBERT</th>
<td id="S3.T5.1.4.3.2" class="ltx_td ltx_align_center ltx_border_b">87.1</td>
<td id="S3.T5.1.4.3.3" class="ltx_td ltx_align_center ltx_border_b">87.0</td>
<td id="S3.T5.1.4.3.4" class="ltx_td ltx_align_center ltx_border_b"><span id="S3.T5.1.4.3.4.1" class="ltx_text ltx_font_bold">89.4</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>
Single model performance on MedNLI developlment data. <span id="S3.T5.5.1" class="ltx_text ltx_font_italic">Naiïve</span> means simply integrating all medical-domain data; <span id="S3.T5.6.2" class="ltx_text ltx_font_italic">Ratio</span> means using MedNLI as in-domain data and other medical domain data as external data; <span id="S3.T5.7.3" class="ltx_text ltx_font_italic">Ratio+MNLI</span> means using medical domain data as in-domain and MNLI as external.
</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We present new methods for multi-source transfer learning for the medical domain. Our results show that ensembles from different sources can improve model performance much more greatly than ensembles from a single source. Our methods are proved effective in the MEDIQA2019 shared task.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abacha and Demner-Fushman (2019)</span>
<span class="ltx_bibblock">
Asma Ben Abacha and Dina Demner-Fushman. 2019.

</span>
<span class="ltx_bibblock">A question-entailment approach to question answering.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1901.08079</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bahdanau et al. (2014)</span>
<span class="ltx_bibblock">
Dzmitry Bahdanau, Kyunghyun Cho, and Yoshua Bengio. 2014.

</span>
<span class="ltx_bibblock">Neural machine translation by jointly learning to align and
translate.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1409.0473</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beltagy et al. (2019)</span>
<span class="ltx_bibblock">
Iz Beltagy, Arman Cohan, and Kyle Lo. 2019.

</span>
<span class="ltx_bibblock">Scibert: Pretrained contextualized embeddings for scientific text.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1903.10676</em>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ben Abacha et al. (2019)</span>
<span class="ltx_bibblock">
Asma Ben Abacha, Chaitanya Shivade, and Dina Demner-Fushman. 2019.

</span>
<span class="ltx_bibblock">Overview of the mediqa 2019 shared task on textual inference,
question entailment and question answering.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Proceedings of the BioNLP 2019 workshop, Florence, Italy,
August 1, 2019</em>. Association for Computational Linguistics.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caruana (1997)</span>
<span class="ltx_bibblock">
Rich Caruana. 1997.

</span>
<span class="ltx_bibblock">Multitask learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Machine learning</em>, 28(1):41–75.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devlin et al. (2018)</span>
<span class="ltx_bibblock">
Jacob Devlin, Ming-Wei Chang, Kenton Lee, and Kristina Toutanova. 2018.

</span>
<span class="ltx_bibblock">Bert: Pre-training of deep bidirectional transformers for language
understanding.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1810.04805</em>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2015)</span>
<span class="ltx_bibblock">
Xiaodong Liu, Jianfeng Gao, Xiaodong He, Li Deng, Kevin Duh, and Ye-Yi Wang.
2015.

</span>
<span class="ltx_bibblock">Representation learning using multi-task deep neural networks for
semantic classification and information retrieval.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2015 Conference of the North American
Chapter of the Association for Computational Linguistics: Human Language
Technologies</em>, pages 912–921.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2019a)</span>
<span class="ltx_bibblock">
Xiaodong Liu, Pengcheng He, Weizhu Chen, and Jianfeng Gao. 2019a.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://arxiv.org/abs/1904.09482" title="" class="ltx_ref ltx_href">Improving multi-task deep
neural networks via knowledge distillation for natural language
understanding</a>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2019b)</span>
<span class="ltx_bibblock">
Xiaodong Liu, Pengcheng He, Weizhu Chen, and Jianfeng Gao. 2019b.

</span>
<span class="ltx_bibblock">Multi-task deep neural networks for natural language understanding.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1901.11504</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Romanov and Shivade (2018)</span>
<span class="ltx_bibblock">
Alexey Romanov and Chaitanya Shivade. 2018.

</span>
<span class="ltx_bibblock">Lessons from natural language inference in the clinical domain.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2018 Conference on Empirical Methods in
Natural Language Processing</em>, pages 1586–1596.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2019)</span>
<span class="ltx_bibblock">
Alex Wang, Amanpreet Singh, Julian Michael, Felix Hill, Omer Levy, and
Samuel R. Bowman. 2019.

</span>
<span class="ltx_bibblock">Glue: A multi-task benchmark and analysis platform for natural
language understanding.

</span>
<span class="ltx_bibblock">In the Proceedings of ICLR.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Williams et al. (2018)</span>
<span class="ltx_bibblock">
Adina Williams, Nikita Nangia, and Samuel Bowman. 2018.

</span>
<span class="ltx_bibblock"><a target="_blank" href="http://aclweb.org/anthology/N18-1101" title="" class="ltx_ref ltx_href">A broad-coverage
challenge corpus for sentence understanding through inference</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2018 Conference of the North American
Chapter of the Association for Computational Linguistics: Human Language
Technologies, Volume 1 (Long Papers)</em>, pages 1112–1122. Association for
Computational Linguistics.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2019)</span>
<span class="ltx_bibblock">
Yichong Xu, Xiaodong Liu, Yelong Shen, Jingjing Liu, and Jianfeng Gao. 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.aclweb.org/anthology/N19-1271" title="" class="ltx_ref ltx_href">Multi-task
learning with sample re-weighting for machine reading comprehension</a>.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2019 Conference of the North American
Chapter of the Association for Computational Linguistics: Human Language
Technologies, Volume 1 (Long and Short Papers)</em>, pages 2644–2655,
Minneapolis, Minnesota. Association for Computational Linguistics.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1906.04381" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1906.04382" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1906.04382">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1906.04382" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1906.04383" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun Mar 17 06:57:25 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
