<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[1708.00584] A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models</title><meta property="og:description" content="Visual question answering as recently proposed multimodal learning task has enjoyed wide attention from the deep learning community.
Lately, the focus was on developing new representation fusion methods and attention m…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/1708.00584">

<!--Generated on Fri Mar 15 21:43:59 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Ilija Ilievski
<br class="ltx_break">Integrative Sciences and Engineering 
<br class="ltx_break">National University of Singapore 
<br class="ltx_break"><span id="id2.1.id1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">ilija.ilievski@u.nus.edu</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiashi Feng
<br class="ltx_break">Electrical and Computer Engineering
<br class="ltx_break">National University of Singapore
<br class="ltx_break"><span id="id3.1.id1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">elefjia@nus.edu.sg</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.1" class="ltx_p">Visual question answering as recently proposed multimodal learning task has enjoyed wide attention from the deep learning community.
Lately, the focus was on developing new representation fusion methods and attention mechanisms to achieve superior performance.
On the other hand, very little focus has been put on the models’ loss function, arguably one of the most important aspects of training deep learning models.
The prevailing practice is to use cross entropy loss function that penalizes the probability given to all the answers in the vocabulary except the single most common answer for the particular question.
However, the VQA evaluation function compares the predicted answer with all the ground-truth answers for the given question and if there is a matching, a partial point is given.
This causes a discrepancy between the model’s cross entropy loss and the model’s accuracy as calculated by the VQA evaluation function.
In this work, we propose a novel loss, termed as soft cross entropy, that considers all ground-truth answers and thus reduces the loss – accuracy discrepancy.
The proposed loss leads to an improved training convergence of VQA models and an increase in accuracy as much as <math id="id1.1.m1.1" class="ltx_Math" alttext="1.6\%" display="inline"><semantics id="id1.1.m1.1a"><mrow id="id1.1.m1.1.1" xref="id1.1.m1.1.1.cmml"><mn id="id1.1.m1.1.1.2" xref="id1.1.m1.1.1.2.cmml">1.6</mn><mo id="id1.1.m1.1.1.1" xref="id1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="id1.1.m1.1b"><apply id="id1.1.m1.1.1.cmml" xref="id1.1.m1.1.1"><csymbol cd="latexml" id="id1.1.m1.1.1.1.cmml" xref="id1.1.m1.1.1.1">percent</csymbol><cn type="float" id="id1.1.m1.1.1.2.cmml" xref="id1.1.m1.1.1.2">1.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.m1.1c">1.6\%</annotation></semantics></math>.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Visual question answering (VQA) requires an AI agent to answer questions about an image.
As a challenging multimodal problem and a proxy task for visual reasoning, it has attracted a lot of attention from the deep learning community.
Multiple models were introduced <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> and a new dataset with a specific focus on visual reasoning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.2" class="ltx_p">The currently largest VQA dataset, VQA v2.0 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, contains <math id="S1.p2.1.m1.1" class="ltx_Math" alttext="1.1" display="inline"><semantics id="S1.p2.1.m1.1a"><mn id="S1.p2.1.m1.1.1" xref="S1.p2.1.m1.1.1.cmml">1.1</mn><annotation-xml encoding="MathML-Content" id="S1.p2.1.m1.1b"><cn type="float" id="S1.p2.1.m1.1.1.cmml" xref="S1.p2.1.m1.1.1">1.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.1.m1.1c">1.1</annotation></semantics></math> million questions for the <math id="S1.p2.2.m2.1" class="ltx_Math" alttext="205" display="inline"><semantics id="S1.p2.2.m2.1a"><mn id="S1.p2.2.m2.1.1" xref="S1.p2.2.m2.1.1.cmml">205</mn><annotation-xml encoding="MathML-Content" id="S1.p2.2.m2.1b"><cn type="integer" id="S1.p2.2.m2.1.1.cmml" xref="S1.p2.2.m2.1.1">205</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.p2.2.m2.1c">205</annotation></semantics></math> thousand MS COCO images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.
Each question is paired with ten human-provided answers.
The usual VQA model uses a pretrained ResNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> network to obtain an image representation and an LSTM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> unit to learn a representation of the question words.
The model then fuses the two representations into a single multimodal representation via element-wise multiplication or other more sophisticated methods.
Finally, the most common answer out of the ten provided is used to train the model to classify the multimodal representation to a correct answer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Recently, several representation fusion methods were developed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> and some novel attention mechanisms were introduced <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
But, very little attention has been put on the VQA model loss function, which is an essential part of its training.
The prevailing approach is to use the most common answer and a cross entropy loss function (Eq. (<a href="#S2.E1" title="In 2 Soft Cross Entropy Loss ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>)).
However, a VQA model is evaluated by comparing the predicted answer with <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">all</span> the ground-truth answers for a given question and if there is a match, a partial point is given.
This causes a discrepancy between the model’s cross entropy loss and the model’s accuracy as calculated by the VQA evaluation function, which in turn results in a delayed training convergence and reduced test accuracy.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">In this work, we propose a new loss function, termed as <span id="S1.p4.1.1" class="ltx_text ltx_font_italic">soft</span> cross entropy, that considers <span id="S1.p4.1.2" class="ltx_text ltx_font_italic">all</span> ground-truth answers and thus solves the discrepancy problem.
In contrast to the standard cross entropy loss, the soft cross entropy loss provides to the model a set of plausible answers for a given question and information about the question’s ambiguity.
As a consequence, the VQA models trained with the proposed loss have a stable training process, converge faster, and achieve on average <math id="S1.p4.1.m1.1" class="ltx_Math" alttext="1.5\%" display="inline"><semantics id="S1.p4.1.m1.1a"><mrow id="S1.p4.1.m1.1.1" xref="S1.p4.1.m1.1.1.cmml"><mn id="S1.p4.1.m1.1.1.2" xref="S1.p4.1.m1.1.1.2.cmml">1.5</mn><mo id="S1.p4.1.m1.1.1.1" xref="S1.p4.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p4.1.m1.1b"><apply id="S1.p4.1.m1.1.1.cmml" xref="S1.p4.1.m1.1.1"><csymbol cd="latexml" id="S1.p4.1.m1.1.1.1.cmml" xref="S1.p4.1.m1.1.1.1">percent</csymbol><cn type="float" id="S1.p4.1.m1.1.1.2.cmml" xref="S1.p4.1.m1.1.1.2">1.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p4.1.m1.1c">1.5\%</annotation></semantics></math> higher accuracy than models trained with the standard cross entropy loss function.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">In summary, the contributions of this work are:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose a novel loss function for VQA, that more closely reflects a VQA model’s performance. The proposed loss is justified with error analysis and empirical evaluation.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We provide an efficient code for reproducing the experimental results and to serve as a starter code to the VQA community.</p>
</div>
</li>
</ul>
</div>
<figure id="S1.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Best validation accuracy on the VQA v2.0 validation set.</figcaption>
<table id="S1.T1.8" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S1.T1.8.9.1" class="ltx_tr">
<th id="S1.T1.8.9.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t">
<span id="S1.T1.8.9.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S1.T1.8.9.1.1.1.1" class="ltx_p" style="width:1.4pt;"></span>
</span>
</th>
<th id="S1.T1.8.9.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_t">Loss Function</th>
<th id="S1.T1.8.9.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">All</th>
<th id="S1.T1.8.9.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Y/N</th>
<th id="S1.T1.8.9.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Num</th>
<th id="S1.T1.8.9.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Other</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S1.T1.8.10.1" class="ltx_tr">
<th id="S1.T1.8.10.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="2">
<span id="S1.T1.8.10.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S1.T1.8.10.1.1.1.1" class="ltx_p" style="width:1.4pt;">
<span id="S1.T1.8.10.1.1.1.1.1" class="ltx_inline-block ltx_parbox ltx_align_top" style="width:0.0pt;">
<span id="S1.T1.8.10.1.1.1.1.1.1" class="ltx_p">
<span id="S1.T1.8.10.1.1.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:5.5pt;height:17.2pt;vertical-align:-5.9pt;"><span class="ltx_transformed_inner" style="width:17.2pt;transform:translate(-5.85pt,0pt) rotate(-90deg) ;">
<span id="S1.T1.8.10.1.1.1.1.1.1.1.1" class="ltx_p"><span id="S1.T1.8.10.1.1.1.1.1.1.1.1.1" class="ltx_text" style="font-size:80%;">AVG</span></span>
</span></span></span>
</span></span>
</span>
</th>
<th id="S1.T1.8.10.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Cross Entropy</th>
<td id="S1.T1.8.10.1.3" class="ltx_td ltx_align_center ltx_border_t">46.8</td>
<td id="S1.T1.8.10.1.4" class="ltx_td ltx_align_center ltx_border_t">55.8</td>
<td id="S1.T1.8.10.1.5" class="ltx_td ltx_align_center ltx_border_t">29.8</td>
<td id="S1.T1.8.10.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">42.4</td>
</tr>
<tr id="S1.T1.4.4" class="ltx_tr">
<th id="S1.T1.4.4.5" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">Soft Cross Entropy</th>
<td id="S1.T1.1.1.1" class="ltx_td ltx_align_center"><math id="S1.T1.1.1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{48.0}" display="inline"><semantics id="S1.T1.1.1.1.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.1.1.1.m1.1.1" xref="S1.T1.1.1.1.m1.1.1.cmml">48.0</mn><annotation-xml encoding="MathML-Content" id="S1.T1.1.1.1.m1.1b"><cn type="float" id="S1.T1.1.1.1.m1.1.1.cmml" xref="S1.T1.1.1.1.m1.1.1">48.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.1.1.1.m1.1c">\boldsymbol{48.0}</annotation></semantics></math></td>
<td id="S1.T1.2.2.2" class="ltx_td ltx_align_center"><math id="S1.T1.2.2.2.m1.1" class="ltx_Math" alttext="\boldsymbol{57.1}" display="inline"><semantics id="S1.T1.2.2.2.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.2.2.2.m1.1.1" xref="S1.T1.2.2.2.m1.1.1.cmml">57.1</mn><annotation-xml encoding="MathML-Content" id="S1.T1.2.2.2.m1.1b"><cn type="float" id="S1.T1.2.2.2.m1.1.1.cmml" xref="S1.T1.2.2.2.m1.1.1">57.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.2.2.2.m1.1c">\boldsymbol{57.1}</annotation></semantics></math></td>
<td id="S1.T1.3.3.3" class="ltx_td ltx_align_center"><math id="S1.T1.3.3.3.m1.1" class="ltx_Math" alttext="\boldsymbol{31.0}" display="inline"><semantics id="S1.T1.3.3.3.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.3.3.3.m1.1.1" xref="S1.T1.3.3.3.m1.1.1.cmml">31.0</mn><annotation-xml encoding="MathML-Content" id="S1.T1.3.3.3.m1.1b"><cn type="float" id="S1.T1.3.3.3.m1.1.1.cmml" xref="S1.T1.3.3.3.m1.1.1">31.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.3.3.3.m1.1c">\boldsymbol{31.0}</annotation></semantics></math></td>
<td id="S1.T1.4.4.4" class="ltx_td ltx_align_center ltx_border_r"><math id="S1.T1.4.4.4.m1.1" class="ltx_Math" alttext="\boldsymbol{43.3}" display="inline"><semantics id="S1.T1.4.4.4.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.4.4.4.m1.1.1" xref="S1.T1.4.4.4.m1.1.1.cmml">43.3</mn><annotation-xml encoding="MathML-Content" id="S1.T1.4.4.4.m1.1b"><cn type="float" id="S1.T1.4.4.4.m1.1.1.cmml" xref="S1.T1.4.4.4.m1.1.1">43.3</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.4.4.4.m1.1c">\boldsymbol{43.3}</annotation></semantics></math></td>
</tr>
<tr id="S1.T1.8.11.2" class="ltx_tr">
<th id="S1.T1.8.11.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="2">
<span id="S1.T1.8.11.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S1.T1.8.11.2.1.1.1" class="ltx_p" style="width:1.4pt;">
<span id="S1.T1.8.11.2.1.1.1.1" class="ltx_inline-block ltx_parbox ltx_align_top" style="width:2.8pt;">
<span id="S1.T1.8.11.2.1.1.1.1.1" class="ltx_p">
<span id="S1.T1.8.11.2.1.1.1.1.1.1" class="ltx_inline-block ltx_transformed_outer" style="width:5.5pt;height:22.9pt;vertical-align:-8.7pt;"><span class="ltx_transformed_inner" style="width:22.9pt;transform:translate(-8.71pt,0pt) rotate(-90deg) ;">
<span id="S1.T1.8.11.2.1.1.1.1.1.1.1" class="ltx_p"><span id="S1.T1.8.11.2.1.1.1.1.1.1.1.1" class="ltx_text" style="font-size:80%;">POOL</span></span>
</span></span></span>
</span></span>
</span>
</th>
<th id="S1.T1.8.11.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">Cross Entropy</th>
<td id="S1.T1.8.11.2.3" class="ltx_td ltx_align_center ltx_border_t">58.8</td>
<td id="S1.T1.8.11.2.4" class="ltx_td ltx_align_center ltx_border_t">70.1</td>
<td id="S1.T1.8.11.2.5" class="ltx_td ltx_align_center ltx_border_t">37.5</td>
<td id="S1.T1.8.11.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">53.1</td>
</tr>
<tr id="S1.T1.8.8" class="ltx_tr">
<th id="S1.T1.8.8.5" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_r">Soft Cross Entropy</th>
<td id="S1.T1.5.5.1" class="ltx_td ltx_align_center ltx_border_b"><math id="S1.T1.5.5.1.m1.1" class="ltx_Math" alttext="\boldsymbol{60.4}" display="inline"><semantics id="S1.T1.5.5.1.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.5.5.1.m1.1.1" xref="S1.T1.5.5.1.m1.1.1.cmml">60.4</mn><annotation-xml encoding="MathML-Content" id="S1.T1.5.5.1.m1.1b"><cn type="float" id="S1.T1.5.5.1.m1.1.1.cmml" xref="S1.T1.5.5.1.m1.1.1">60.4</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.5.5.1.m1.1c">\boldsymbol{60.4}</annotation></semantics></math></td>
<td id="S1.T1.6.6.2" class="ltx_td ltx_align_center ltx_border_b"><math id="S1.T1.6.6.2.m1.1" class="ltx_Math" alttext="\boldsymbol{71.9}" display="inline"><semantics id="S1.T1.6.6.2.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.6.6.2.m1.1.1" xref="S1.T1.6.6.2.m1.1.1.cmml">71.9</mn><annotation-xml encoding="MathML-Content" id="S1.T1.6.6.2.m1.1b"><cn type="float" id="S1.T1.6.6.2.m1.1.1.cmml" xref="S1.T1.6.6.2.m1.1.1">71.9</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.6.6.2.m1.1c">\boldsymbol{71.9}</annotation></semantics></math></td>
<td id="S1.T1.7.7.3" class="ltx_td ltx_align_center ltx_border_b"><math id="S1.T1.7.7.3.m1.1" class="ltx_Math" alttext="\boldsymbol{39.0}" display="inline"><semantics id="S1.T1.7.7.3.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.7.7.3.m1.1.1" xref="S1.T1.7.7.3.m1.1.1.cmml">39.0</mn><annotation-xml encoding="MathML-Content" id="S1.T1.7.7.3.m1.1b"><cn type="float" id="S1.T1.7.7.3.m1.1.1.cmml" xref="S1.T1.7.7.3.m1.1.1">39.0</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.7.7.3.m1.1c">\boldsymbol{39.0}</annotation></semantics></math></td>
<td id="S1.T1.8.8.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><math id="S1.T1.8.8.4.m1.1" class="ltx_Math" alttext="\boldsymbol{54.6}" display="inline"><semantics id="S1.T1.8.8.4.m1.1a"><mn class="ltx_mathvariant_bold" mathvariant="bold" id="S1.T1.8.8.4.m1.1.1" xref="S1.T1.8.8.4.m1.1.1.cmml">54.6</mn><annotation-xml encoding="MathML-Content" id="S1.T1.8.8.4.m1.1b"><cn type="float" id="S1.T1.8.8.4.m1.1.1.cmml" xref="S1.T1.8.8.4.m1.1.1">54.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.8.8.4.m1.1c">\boldsymbol{54.6}</annotation></semantics></math></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S1.F1" class="ltx_figure"><img src="/html/1708.00584/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Training (dashed lines) and validation (solid lines) loss and validation accuracy (dotted lines) for the <span id="S1.F1.2.1" class="ltx_text ltx_font_bold">AVG</span> VQA model.</figcaption>
</figure>
<figure id="S1.F2" class="ltx_figure"><img src="/html/1708.00584/assets/x2.png" id="S1.F2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Training (dashed lines) and validation (solid lines) loss and validation accuracy (dotted lines) for the <span id="S1.F2.2.1" class="ltx_text ltx_font_bold">POOL</span> VQA model.</figcaption>
</figure>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Soft Cross Entropy Loss</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.3" class="ltx_p">The VQA problem can be reduced to a maximum likelihood estimation problem, where the model classifies a question-image pair to an answer from the training set.
Generally, a deep learning model is trained on a classification problem using a cross entropy loss function:</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.5" class="ltx_Math" alttext="\mathcal{L}({\boldsymbol{x}},c^{*})=-\boldsymbol{x}_{c^{*}}+\log\big{(}\sum_{j=1}^{|\boldsymbol{x}|}\exp(\boldsymbol{x}_{j})\big{)},\vspace{-0.7em}" display="block"><semantics id="S2.E1.m1.5a"><mrow id="S2.E1.m1.5.5.1" xref="S2.E1.m1.5.5.1.1.cmml"><mrow id="S2.E1.m1.5.5.1.1" xref="S2.E1.m1.5.5.1.1.cmml"><mrow id="S2.E1.m1.5.5.1.1.1" xref="S2.E1.m1.5.5.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.5.5.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.3.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.5.5.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml">(</mo><mi id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml">𝒙</mi><mo id="S2.E1.m1.5.5.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml">,</mo><msup id="S2.E1.m1.5.5.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.5.5.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml">c</mi><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.3.cmml">∗</mo></msup><mo stretchy="false" id="S2.E1.m1.5.5.1.1.1.1.1.4" xref="S2.E1.m1.5.5.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.5.5.1.1.3" xref="S2.E1.m1.5.5.1.1.3.cmml">=</mo><mrow id="S2.E1.m1.5.5.1.1.2" xref="S2.E1.m1.5.5.1.1.2.cmml"><mrow id="S2.E1.m1.5.5.1.1.2.3" xref="S2.E1.m1.5.5.1.1.2.3.cmml"><mo id="S2.E1.m1.5.5.1.1.2.3a" xref="S2.E1.m1.5.5.1.1.2.3.cmml">−</mo><msub id="S2.E1.m1.5.5.1.1.2.3.2" xref="S2.E1.m1.5.5.1.1.2.3.2.cmml"><mi id="S2.E1.m1.5.5.1.1.2.3.2.2" xref="S2.E1.m1.5.5.1.1.2.3.2.2.cmml">𝒙</mi><msup id="S2.E1.m1.5.5.1.1.2.3.2.3" xref="S2.E1.m1.5.5.1.1.2.3.2.3.cmml"><mi id="S2.E1.m1.5.5.1.1.2.3.2.3.2" xref="S2.E1.m1.5.5.1.1.2.3.2.3.2.cmml">c</mi><mo id="S2.E1.m1.5.5.1.1.2.3.2.3.3" xref="S2.E1.m1.5.5.1.1.2.3.2.3.3.cmml">∗</mo></msup></msub></mrow><mo id="S2.E1.m1.5.5.1.1.2.2" xref="S2.E1.m1.5.5.1.1.2.2.cmml">+</mo><mrow id="S2.E1.m1.5.5.1.1.2.1.1" xref="S2.E1.m1.5.5.1.1.2.1.2.cmml"><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">log</mi><mo id="S2.E1.m1.5.5.1.1.2.1.1a" xref="S2.E1.m1.5.5.1.1.2.1.2.cmml">⁡</mo><mrow id="S2.E1.m1.5.5.1.1.2.1.1.1" xref="S2.E1.m1.5.5.1.1.2.1.2.cmml"><mo maxsize="120%" minsize="120%" id="S2.E1.m1.5.5.1.1.2.1.1.1.2" xref="S2.E1.m1.5.5.1.1.2.1.2.cmml">(</mo><mrow id="S2.E1.m1.5.5.1.1.2.1.1.1.1" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.cmml"><munderover id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.cmml"><mo lspace="0em" movablelimits="false" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.2" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.cmml"><mi id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.2" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.2.cmml">j</mi><mo id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.1" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.3" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mrow id="S2.E1.m1.1.1.1.3" xref="S2.E1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.2.1.cmml">|</mo><mi id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.E1.m1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml"><mi id="S2.E1.m1.3.3" xref="S2.E1.m1.3.3.cmml">exp</mi><mo id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1a" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml">(</mo><msub id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo maxsize="120%" minsize="120%" id="S2.E1.m1.5.5.1.1.2.1.1.1.3" xref="S2.E1.m1.5.5.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E1.m1.5.5.1.2" xref="S2.E1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.5b"><apply id="S2.E1.m1.5.5.1.1.cmml" xref="S2.E1.m1.5.5.1"><eq id="S2.E1.m1.5.5.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.3"></eq><apply id="S2.E1.m1.5.5.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1"><times id="S2.E1.m1.5.5.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.2"></times><ci id="S2.E1.m1.5.5.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.3">ℒ</ci><interval closure="open" id="S2.E1.m1.5.5.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1"><ci id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2">𝒙</ci><apply id="S2.E1.m1.5.5.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2">𝑐</ci><times id="S2.E1.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.3"></times></apply></interval></apply><apply id="S2.E1.m1.5.5.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2"><plus id="S2.E1.m1.5.5.1.1.2.2.cmml" xref="S2.E1.m1.5.5.1.1.2.2"></plus><apply id="S2.E1.m1.5.5.1.1.2.3.cmml" xref="S2.E1.m1.5.5.1.1.2.3"><minus id="S2.E1.m1.5.5.1.1.2.3.1.cmml" xref="S2.E1.m1.5.5.1.1.2.3"></minus><apply id="S2.E1.m1.5.5.1.1.2.3.2.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.2.3.2.1.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2">subscript</csymbol><ci id="S2.E1.m1.5.5.1.1.2.3.2.2.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2.2">𝒙</ci><apply id="S2.E1.m1.5.5.1.1.2.3.2.3.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.2.3.2.3.1.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2.3">superscript</csymbol><ci id="S2.E1.m1.5.5.1.1.2.3.2.3.2.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2.3.2">𝑐</ci><times id="S2.E1.m1.5.5.1.1.2.3.2.3.3.cmml" xref="S2.E1.m1.5.5.1.1.2.3.2.3.3"></times></apply></apply></apply><apply id="S2.E1.m1.5.5.1.1.2.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1"><log id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4"></log><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1"><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2">superscript</csymbol><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2">subscript</csymbol><sum id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.2"></sum><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3"><eq id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.1"></eq><ci id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.2">𝑗</ci><cn type="integer" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.3.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S2.E1.m1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.3"><abs id="S2.E1.m1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.3.1"></abs><ci id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1">𝒙</ci></apply></apply><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1"><exp id="S2.E1.m1.3.3.cmml" xref="S2.E1.m1.3.3"></exp><apply id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.2.1.1.1.1.1.1.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.5c">\mathcal{L}({\boldsymbol{x}},c^{*})=-\boldsymbol{x}_{c^{*}}+\log\big{(}\sum_{j=1}^{|\boldsymbol{x}|}\exp(\boldsymbol{x}_{j})\big{)},\vspace{-0.7em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.p1.2" class="ltx_p">where <math id="S2.p1.1.m1.1" class="ltx_Math" alttext="\boldsymbol{x}" display="inline"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">\boldsymbol{x}</annotation></semantics></math> is a vector of network activations for each class and <math id="S2.p1.2.m2.1" class="ltx_Math" alttext="c^{*}" display="inline"><semantics id="S2.p1.2.m2.1a"><msup id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml"><mi id="S2.p1.2.m2.1.1.2" xref="S2.p1.2.m2.1.1.2.cmml">c</mi><mo id="S2.p1.2.m2.1.1.3" xref="S2.p1.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><apply id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.p1.2.m2.1.1.1.cmml" xref="S2.p1.2.m2.1.1">superscript</csymbol><ci id="S2.p1.2.m2.1.1.2.cmml" xref="S2.p1.2.m2.1.1.2">𝑐</ci><times id="S2.p1.2.m2.1.1.3.cmml" xref="S2.p1.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">c^{*}</annotation></semantics></math> is the index of the correct class.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">However, contrary to conventional classification problems, the VQA evaluation metric considers a predicted answer as correct if the answer was given by at least three out of ten human annotators.
The accuracy is then averaged over all <math id="S2.p2.1.m1.3" class="ltx_Math" alttext="{10\choose 9}" display="inline"><semantics id="S2.p2.1.m1.3a"><mrow id="S2.p2.1.m1.3.3.5" xref="S2.p2.1.m1.3.3.4.cmml"><mo id="S2.p2.1.m1.3.3.5.1" xref="S2.p2.1.m1.1.1.1.1.1.cmml">(</mo><mfrac linethickness="0pt" id="S2.p2.1.m1.3.3.3.3" xref="S2.p2.1.m1.3.3.4.cmml"><mn id="S2.p2.1.m1.2.2.2.2.2" xref="S2.p2.1.m1.2.2.2.2.2.cmml">10</mn><mn id="S2.p2.1.m1.3.3.3.3.3" xref="S2.p2.1.m1.3.3.3.3.3.cmml">9</mn></mfrac><mo id="S2.p2.1.m1.3.3.5.2" xref="S2.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.3b"><apply id="S2.p2.1.m1.3.3.4.cmml" xref="S2.p2.1.m1.3.3.5"><csymbol cd="latexml" id="S2.p2.1.m1.1.1.1.1.1.cmml" xref="S2.p2.1.m1.3.3.5.1">binomial</csymbol><cn type="integer" id="S2.p2.1.m1.2.2.2.2.2.cmml" xref="S2.p2.1.m1.2.2.2.2.2">10</cn><cn type="integer" id="S2.p2.1.m1.3.3.3.3.3.cmml" xref="S2.p2.1.m1.3.3.3.3.3">9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.3c">{10\choose 9}</annotation></semantics></math> subsets of ground-truth answers:</p>
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.Ex1.m1.7" class="ltx_Math" alttext="Acc(a)=\frac{1}{10}\sum_{k=1}^{10}\min(\frac{\sum_{j=1,j\neq k}^{10}\mathds{1}(a=a_{j})}{3},1).\vspace{-0.5em}" display="block"><semantics id="S2.Ex1.m1.7a"><mrow id="S2.Ex1.m1.7.7.1" xref="S2.Ex1.m1.7.7.1.1.cmml"><mrow id="S2.Ex1.m1.7.7.1.1" xref="S2.Ex1.m1.7.7.1.1.cmml"><mrow id="S2.Ex1.m1.7.7.1.1.2" xref="S2.Ex1.m1.7.7.1.1.2.cmml"><mi id="S2.Ex1.m1.7.7.1.1.2.2" xref="S2.Ex1.m1.7.7.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.7.7.1.1.2.1" xref="S2.Ex1.m1.7.7.1.1.2.1.cmml">​</mo><mi id="S2.Ex1.m1.7.7.1.1.2.3" xref="S2.Ex1.m1.7.7.1.1.2.3.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.7.7.1.1.2.1a" xref="S2.Ex1.m1.7.7.1.1.2.1.cmml">​</mo><mi id="S2.Ex1.m1.7.7.1.1.2.4" xref="S2.Ex1.m1.7.7.1.1.2.4.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.7.7.1.1.2.1b" xref="S2.Ex1.m1.7.7.1.1.2.1.cmml">​</mo><mrow id="S2.Ex1.m1.7.7.1.1.2.5.2" xref="S2.Ex1.m1.7.7.1.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.7.7.1.1.2.5.2.1" xref="S2.Ex1.m1.7.7.1.1.2.cmml">(</mo><mi id="S2.Ex1.m1.4.4" xref="S2.Ex1.m1.4.4.cmml">a</mi><mo stretchy="false" id="S2.Ex1.m1.7.7.1.1.2.5.2.2" xref="S2.Ex1.m1.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.7.7.1.1.1" xref="S2.Ex1.m1.7.7.1.1.1.cmml">=</mo><mrow id="S2.Ex1.m1.7.7.1.1.3" xref="S2.Ex1.m1.7.7.1.1.3.cmml"><mfrac id="S2.Ex1.m1.7.7.1.1.3.2" xref="S2.Ex1.m1.7.7.1.1.3.2.cmml"><mn id="S2.Ex1.m1.7.7.1.1.3.2.2" xref="S2.Ex1.m1.7.7.1.1.3.2.2.cmml">1</mn><mn id="S2.Ex1.m1.7.7.1.1.3.2.3" xref="S2.Ex1.m1.7.7.1.1.3.2.3.cmml">10</mn></mfrac><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.7.7.1.1.3.1" xref="S2.Ex1.m1.7.7.1.1.3.1.cmml">​</mo><mrow id="S2.Ex1.m1.7.7.1.1.3.3" xref="S2.Ex1.m1.7.7.1.1.3.3.cmml"><munderover id="S2.Ex1.m1.7.7.1.1.3.3.1" xref="S2.Ex1.m1.7.7.1.1.3.3.1.cmml"><mo movablelimits="false" id="S2.Ex1.m1.7.7.1.1.3.3.1.2.2" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.cmml"><mi id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.2" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.2.cmml">k</mi><mo id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.1" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.3" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mn id="S2.Ex1.m1.7.7.1.1.3.3.1.3" xref="S2.Ex1.m1.7.7.1.1.3.3.1.3.cmml">10</mn></munderover><mrow id="S2.Ex1.m1.7.7.1.1.3.3.2.2" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml"><mi id="S2.Ex1.m1.5.5" xref="S2.Ex1.m1.5.5.cmml">min</mi><mo id="S2.Ex1.m1.7.7.1.1.3.3.2.2a" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml">⁡</mo><mrow id="S2.Ex1.m1.7.7.1.1.3.3.2.2.1" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.7.7.1.1.3.3.2.2.1.1" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml">(</mo><mfrac id="S2.Ex1.m1.3.3" xref="S2.Ex1.m1.3.3.cmml"><mrow id="S2.Ex1.m1.3.3.3" xref="S2.Ex1.m1.3.3.3.cmml"><msubsup id="S2.Ex1.m1.3.3.3.4" xref="S2.Ex1.m1.3.3.3.4.cmml"><mo id="S2.Ex1.m1.3.3.3.4.2.2" xref="S2.Ex1.m1.3.3.3.4.2.2.cmml">∑</mo><mrow id="S2.Ex1.m1.2.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.3.cmml"><mrow id="S2.Ex1.m1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.1.1.1.1.1.1.1.cmml"><mi id="S2.Ex1.m1.1.1.1.1.1.1.1.2" xref="S2.Ex1.m1.1.1.1.1.1.1.1.2.cmml">j</mi><mo id="S2.Ex1.m1.1.1.1.1.1.1.1.1" xref="S2.Ex1.m1.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S2.Ex1.m1.1.1.1.1.1.1.1.3" xref="S2.Ex1.m1.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S2.Ex1.m1.2.2.2.2.2.2.3" xref="S2.Ex1.m1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S2.Ex1.m1.2.2.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.2.2.cmml"><mi id="S2.Ex1.m1.2.2.2.2.2.2.2.2" xref="S2.Ex1.m1.2.2.2.2.2.2.2.2.cmml">j</mi><mo id="S2.Ex1.m1.2.2.2.2.2.2.2.1" xref="S2.Ex1.m1.2.2.2.2.2.2.2.1.cmml">≠</mo><mi id="S2.Ex1.m1.2.2.2.2.2.2.2.3" xref="S2.Ex1.m1.2.2.2.2.2.2.2.3.cmml">k</mi></mrow></mrow><mn id="S2.Ex1.m1.3.3.3.4.3" xref="S2.Ex1.m1.3.3.3.4.3.cmml">10</mn></msubsup><mrow id="S2.Ex1.m1.3.3.3.3" xref="S2.Ex1.m1.3.3.3.3.cmml"><mn id="S2.Ex1.m1.3.3.3.3.3" xref="S2.Ex1.m1.3.3.3.3.3.cmml">𝟙</mn><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.3.3.3.3.2" xref="S2.Ex1.m1.3.3.3.3.2.cmml">​</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.3.3.3.3.1.1.2" xref="S2.Ex1.m1.3.3.3.3.1.1.1.cmml">(</mo><mrow id="S2.Ex1.m1.3.3.3.3.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.1.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.1.2" xref="S2.Ex1.m1.3.3.3.3.1.1.1.2.cmml">a</mi><mo id="S2.Ex1.m1.3.3.3.3.1.1.1.1" xref="S2.Ex1.m1.3.3.3.3.1.1.1.1.cmml">=</mo><msub id="S2.Ex1.m1.3.3.3.3.1.1.1.3" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3.cmml"><mi id="S2.Ex1.m1.3.3.3.3.1.1.1.3.2" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3.2.cmml">a</mi><mi id="S2.Ex1.m1.3.3.3.3.1.1.1.3.3" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S2.Ex1.m1.3.3.3.3.1.1.3" xref="S2.Ex1.m1.3.3.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><mn id="S2.Ex1.m1.3.3.5" xref="S2.Ex1.m1.3.3.5.cmml">3</mn></mfrac><mo id="S2.Ex1.m1.7.7.1.1.3.3.2.2.1.2" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml">,</mo><mn id="S2.Ex1.m1.6.6" xref="S2.Ex1.m1.6.6.cmml">1</mn><mo stretchy="false" id="S2.Ex1.m1.7.7.1.1.3.3.2.2.1.3" xref="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo lspace="0em" id="S2.Ex1.m1.7.7.1.2" xref="S2.Ex1.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.7b"><apply id="S2.Ex1.m1.7.7.1.1.cmml" xref="S2.Ex1.m1.7.7.1"><eq id="S2.Ex1.m1.7.7.1.1.1.cmml" xref="S2.Ex1.m1.7.7.1.1.1"></eq><apply id="S2.Ex1.m1.7.7.1.1.2.cmml" xref="S2.Ex1.m1.7.7.1.1.2"><times id="S2.Ex1.m1.7.7.1.1.2.1.cmml" xref="S2.Ex1.m1.7.7.1.1.2.1"></times><ci id="S2.Ex1.m1.7.7.1.1.2.2.cmml" xref="S2.Ex1.m1.7.7.1.1.2.2">𝐴</ci><ci id="S2.Ex1.m1.7.7.1.1.2.3.cmml" xref="S2.Ex1.m1.7.7.1.1.2.3">𝑐</ci><ci id="S2.Ex1.m1.7.7.1.1.2.4.cmml" xref="S2.Ex1.m1.7.7.1.1.2.4">𝑐</ci><ci id="S2.Ex1.m1.4.4.cmml" xref="S2.Ex1.m1.4.4">𝑎</ci></apply><apply id="S2.Ex1.m1.7.7.1.1.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3"><times id="S2.Ex1.m1.7.7.1.1.3.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.1"></times><apply id="S2.Ex1.m1.7.7.1.1.3.2.cmml" xref="S2.Ex1.m1.7.7.1.1.3.2"><divide id="S2.Ex1.m1.7.7.1.1.3.2.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.2"></divide><cn type="integer" id="S2.Ex1.m1.7.7.1.1.3.2.2.cmml" xref="S2.Ex1.m1.7.7.1.1.3.2.2">1</cn><cn type="integer" id="S2.Ex1.m1.7.7.1.1.3.2.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3.2.3">10</cn></apply><apply id="S2.Ex1.m1.7.7.1.1.3.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3"><apply id="S2.Ex1.m1.7.7.1.1.3.3.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.7.7.1.1.3.3.1.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1">superscript</csymbol><apply id="S2.Ex1.m1.7.7.1.1.3.3.1.2.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.7.7.1.1.3.3.1.2.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1">subscript</csymbol><sum id="S2.Ex1.m1.7.7.1.1.3.3.1.2.2.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.2"></sum><apply id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3"><eq id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.1"></eq><ci id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.2.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.2">𝑘</ci><cn type="integer" id="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.2.3.3">1</cn></apply></apply><cn type="integer" id="S2.Ex1.m1.7.7.1.1.3.3.1.3.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.1.3">10</cn></apply><apply id="S2.Ex1.m1.7.7.1.1.3.3.2.1.cmml" xref="S2.Ex1.m1.7.7.1.1.3.3.2.2"><min id="S2.Ex1.m1.5.5.cmml" xref="S2.Ex1.m1.5.5"></min><apply id="S2.Ex1.m1.3.3.cmml" xref="S2.Ex1.m1.3.3"><divide id="S2.Ex1.m1.3.3.4.cmml" xref="S2.Ex1.m1.3.3"></divide><apply id="S2.Ex1.m1.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3"><apply id="S2.Ex1.m1.3.3.3.4.cmml" xref="S2.Ex1.m1.3.3.3.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.4.1.cmml" xref="S2.Ex1.m1.3.3.3.4">superscript</csymbol><apply id="S2.Ex1.m1.3.3.3.4.2.cmml" xref="S2.Ex1.m1.3.3.3.4"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.4.2.1.cmml" xref="S2.Ex1.m1.3.3.3.4">subscript</csymbol><sum id="S2.Ex1.m1.3.3.3.4.2.2.cmml" xref="S2.Ex1.m1.3.3.3.4.2.2"></sum><apply id="S2.Ex1.m1.2.2.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.Ex1.m1.2.2.2.2.2.3a.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S2.Ex1.m1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.1"><eq id="S2.Ex1.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.1.1"></eq><ci id="S2.Ex1.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.1.2">𝑗</ci><cn type="integer" id="S2.Ex1.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.Ex1.m1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S2.Ex1.m1.2.2.2.2.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.2"><neq id="S2.Ex1.m1.2.2.2.2.2.2.2.1.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.2.1"></neq><ci id="S2.Ex1.m1.2.2.2.2.2.2.2.2.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.2.2">𝑗</ci><ci id="S2.Ex1.m1.2.2.2.2.2.2.2.3.cmml" xref="S2.Ex1.m1.2.2.2.2.2.2.2.3">𝑘</ci></apply></apply></apply><cn type="integer" id="S2.Ex1.m1.3.3.3.4.3.cmml" xref="S2.Ex1.m1.3.3.3.4.3">10</cn></apply><apply id="S2.Ex1.m1.3.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3"><times id="S2.Ex1.m1.3.3.3.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.2"></times><cn type="integer" id="S2.Ex1.m1.3.3.3.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.3">1</cn><apply id="S2.Ex1.m1.3.3.3.3.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1"><eq id="S2.Ex1.m1.3.3.3.3.1.1.1.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.1"></eq><ci id="S2.Ex1.m1.3.3.3.3.1.1.1.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.2">𝑎</ci><apply id="S2.Ex1.m1.3.3.3.3.1.1.1.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.3.3.3.3.1.1.1.3.1.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3">subscript</csymbol><ci id="S2.Ex1.m1.3.3.3.3.1.1.1.3.2.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3.2">𝑎</ci><ci id="S2.Ex1.m1.3.3.3.3.1.1.1.3.3.cmml" xref="S2.Ex1.m1.3.3.3.3.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><cn type="integer" id="S2.Ex1.m1.3.3.5.cmml" xref="S2.Ex1.m1.3.3.5">3</cn></apply><cn type="integer" id="S2.Ex1.m1.6.6.cmml" xref="S2.Ex1.m1.6.6">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.7c">Acc(a)=\frac{1}{10}\sum_{k=1}^{10}\min(\frac{\sum_{j=1,j\neq k}^{10}\mathds{1}(a=a_{j})}{3},1).\vspace{-0.5em}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">As a result, the model’s performance is not properly assessed with the cross entropy loss function during the training phase.
The improper loss function has significant negative impact on the model’s training and delays the convergence.
Furthermore, it results in abnormal and counter-intuitive validation loss – accuracy relationship where both the loss and the accuracy increase (Fig. <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.3" class="ltx_p">As a solution, we propose to use a loss function that considers <span id="S2.p4.3.1" class="ltx_text ltx_font_italic">all</span> ground-truth answers.
The proposed loss function, termed as <span id="S2.p4.3.2" class="ltx_text ltx_font_italic">soft</span> cross entropy, is a simple weighted average of each unique ground-truth answer:</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.34" class="ltx_Math" alttext="\begin{gathered}\mathcal{L}({\boldsymbol{x}},\boldsymbol{c},\boldsymbol{w})=\sum_{i=1}^{|\boldsymbol{c}|}w_{i}\Big{(}-\boldsymbol{x}_{c_{i}}+\log\big{(}\sum_{j=1}^{|\boldsymbol{x}|}\exp(\boldsymbol{x}_{j})\big{)}\Big{)},\\
\end{gathered}" display="block"><semantics id="S2.E2.m1.34a"><mtable displaystyle="true" id="S2.E2.m1.34.34.2"><mtr id="S2.E2.m1.34.34.2a"><mtd id="S2.E2.m1.34.34.2b"><mrow id="S2.E2.m1.34.34.2.33.33.33.33"><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1"><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.2"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.1.1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.1.1.cmml">ℒ</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.34.34.2.33.33.33.33.1.2.1" xref="S2.E2.m1.33.33.1.1.1.cmml">​</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.2.2"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.2.2" xref="S2.E2.m1.33.33.1.1.1.cmml">(</mo><mi id="S2.E2.m1.3.3.3.3.3.3" xref="S2.E2.m1.3.3.3.3.3.3.cmml">𝒙</mi><mo id="S2.E2.m1.4.4.4.4.4.4" xref="S2.E2.m1.33.33.1.1.1.cmml">,</mo><mi id="S2.E2.m1.5.5.5.5.5.5" xref="S2.E2.m1.5.5.5.5.5.5.cmml">𝒄</mi><mo id="S2.E2.m1.6.6.6.6.6.6" xref="S2.E2.m1.33.33.1.1.1.cmml">,</mo><mi id="S2.E2.m1.7.7.7.7.7.7" xref="S2.E2.m1.7.7.7.7.7.7.cmml">𝒘</mi><mo stretchy="false" id="S2.E2.m1.8.8.8.8.8.8" xref="S2.E2.m1.33.33.1.1.1.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S2.E2.m1.9.9.9.9.9.9" xref="S2.E2.m1.9.9.9.9.9.9.cmml">=</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1"><munderover id="S2.E2.m1.34.34.2.33.33.33.33.1.1.2"><mo movablelimits="false" id="S2.E2.m1.10.10.10.10.10.10" xref="S2.E2.m1.10.10.10.10.10.10.cmml">∑</mo><mrow id="S2.E2.m1.11.11.11.11.11.11.1" xref="S2.E2.m1.11.11.11.11.11.11.1.cmml"><mi id="S2.E2.m1.11.11.11.11.11.11.1.2" xref="S2.E2.m1.11.11.11.11.11.11.1.2.cmml">i</mi><mo id="S2.E2.m1.11.11.11.11.11.11.1.1" xref="S2.E2.m1.11.11.11.11.11.11.1.1.cmml">=</mo><mn id="S2.E2.m1.11.11.11.11.11.11.1.3" xref="S2.E2.m1.11.11.11.11.11.11.1.3.cmml">1</mn></mrow><mrow id="S2.E2.m1.12.12.12.12.12.12.1.3" xref="S2.E2.m1.12.12.12.12.12.12.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.12.12.12.12.12.12.1.3.1" xref="S2.E2.m1.12.12.12.12.12.12.1.2.1.cmml">|</mo><mi id="S2.E2.m1.12.12.12.12.12.12.1.1" xref="S2.E2.m1.12.12.12.12.12.12.1.1.cmml">𝒄</mi><mo stretchy="false" id="S2.E2.m1.12.12.12.12.12.12.1.3.2" xref="S2.E2.m1.12.12.12.12.12.12.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1"><msub id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.3"><mi id="S2.E2.m1.13.13.13.13.13.13" xref="S2.E2.m1.13.13.13.13.13.13.cmml">w</mi><mi id="S2.E2.m1.14.14.14.14.14.14.1" xref="S2.E2.m1.14.14.14.14.14.14.1.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.2" xref="S2.E2.m1.33.33.1.1.1.cmml">​</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1"><mo maxsize="160%" minsize="160%" id="S2.E2.m1.15.15.15.15.15.15" xref="S2.E2.m1.33.33.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1"><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.2"><mo id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.2a" xref="S2.E2.m1.33.33.1.1.1.cmml">−</mo><msub id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.2.1"><mi id="S2.E2.m1.17.17.17.17.17.17" xref="S2.E2.m1.17.17.17.17.17.17.cmml">𝒙</mi><msub id="S2.E2.m1.18.18.18.18.18.18.1" xref="S2.E2.m1.18.18.18.18.18.18.1.cmml"><mi id="S2.E2.m1.18.18.18.18.18.18.1.2" xref="S2.E2.m1.18.18.18.18.18.18.1.2.cmml">c</mi><mi id="S2.E2.m1.18.18.18.18.18.18.1.3" xref="S2.E2.m1.18.18.18.18.18.18.1.3.cmml">i</mi></msub></msub></mrow><mo id="S2.E2.m1.19.19.19.19.19.19" xref="S2.E2.m1.19.19.19.19.19.19.cmml">+</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1"><mi id="S2.E2.m1.20.20.20.20.20.20" xref="S2.E2.m1.20.20.20.20.20.20.cmml">log</mi><mo id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1a" xref="S2.E2.m1.33.33.1.1.1.cmml">⁡</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1"><mo maxsize="120%" minsize="120%" id="S2.E2.m1.21.21.21.21.21.21" xref="S2.E2.m1.33.33.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1"><munderover id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1.2"><mo lspace="0em" movablelimits="false" id="S2.E2.m1.22.22.22.22.22.22" xref="S2.E2.m1.22.22.22.22.22.22.cmml">∑</mo><mrow id="S2.E2.m1.23.23.23.23.23.23.1" xref="S2.E2.m1.23.23.23.23.23.23.1.cmml"><mi id="S2.E2.m1.23.23.23.23.23.23.1.2" xref="S2.E2.m1.23.23.23.23.23.23.1.2.cmml">j</mi><mo id="S2.E2.m1.23.23.23.23.23.23.1.1" xref="S2.E2.m1.23.23.23.23.23.23.1.1.cmml">=</mo><mn id="S2.E2.m1.23.23.23.23.23.23.1.3" xref="S2.E2.m1.23.23.23.23.23.23.1.3.cmml">1</mn></mrow><mrow id="S2.E2.m1.24.24.24.24.24.24.1.3" xref="S2.E2.m1.24.24.24.24.24.24.1.2.cmml"><mo stretchy="false" id="S2.E2.m1.24.24.24.24.24.24.1.3.1" xref="S2.E2.m1.24.24.24.24.24.24.1.2.1.cmml">|</mo><mi id="S2.E2.m1.24.24.24.24.24.24.1.1" xref="S2.E2.m1.24.24.24.24.24.24.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.E2.m1.24.24.24.24.24.24.1.3.2" xref="S2.E2.m1.24.24.24.24.24.24.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1.1.1"><mi id="S2.E2.m1.25.25.25.25.25.25" xref="S2.E2.m1.25.25.25.25.25.25.cmml">exp</mi><mo id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1.1.1a" xref="S2.E2.m1.33.33.1.1.1.cmml">⁡</mo><mrow id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1.1.1.1"><mo stretchy="false" id="S2.E2.m1.26.26.26.26.26.26" xref="S2.E2.m1.33.33.1.1.1.cmml">(</mo><msub id="S2.E2.m1.34.34.2.33.33.33.33.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><mi id="S2.E2.m1.27.27.27.27.27.27" xref="S2.E2.m1.27.27.27.27.27.27.cmml">𝒙</mi><mi id="S2.E2.m1.28.28.28.28.28.28.1" xref="S2.E2.m1.28.28.28.28.28.28.1.cmml">j</mi></msub><mo stretchy="false" id="S2.E2.m1.29.29.29.29.29.29" xref="S2.E2.m1.33.33.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo maxsize="120%" minsize="120%" id="S2.E2.m1.30.30.30.30.30.30" xref="S2.E2.m1.33.33.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo maxsize="160%" minsize="160%" id="S2.E2.m1.31.31.31.31.31.31" xref="S2.E2.m1.33.33.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.32.32.32.32.32.32" xref="S2.E2.m1.33.33.1.1.1.cmml">,</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S2.E2.m1.34b"><apply id="S2.E2.m1.33.33.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><eq id="S2.E2.m1.9.9.9.9.9.9.cmml" xref="S2.E2.m1.9.9.9.9.9.9"></eq><apply id="S2.E2.m1.33.33.1.1.1.3.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><times id="S2.E2.m1.33.33.1.1.1.3.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"></times><ci id="S2.E2.m1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1.1.1">ℒ</ci><vector id="S2.E2.m1.33.33.1.1.1.3.3.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><ci id="S2.E2.m1.3.3.3.3.3.3.cmml" xref="S2.E2.m1.3.3.3.3.3.3">𝒙</ci><ci id="S2.E2.m1.5.5.5.5.5.5.cmml" xref="S2.E2.m1.5.5.5.5.5.5">𝒄</ci><ci id="S2.E2.m1.7.7.7.7.7.7.cmml" xref="S2.E2.m1.7.7.7.7.7.7">𝒘</ci></vector></apply><apply id="S2.E2.m1.33.33.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><apply id="S2.E2.m1.33.33.1.1.1.1.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.2.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">superscript</csymbol><apply id="S2.E2.m1.33.33.1.1.1.1.2.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">subscript</csymbol><sum id="S2.E2.m1.10.10.10.10.10.10.cmml" xref="S2.E2.m1.10.10.10.10.10.10"></sum><apply id="S2.E2.m1.11.11.11.11.11.11.1.cmml" xref="S2.E2.m1.11.11.11.11.11.11.1"><eq id="S2.E2.m1.11.11.11.11.11.11.1.1.cmml" xref="S2.E2.m1.11.11.11.11.11.11.1.1"></eq><ci id="S2.E2.m1.11.11.11.11.11.11.1.2.cmml" xref="S2.E2.m1.11.11.11.11.11.11.1.2">𝑖</ci><cn type="integer" id="S2.E2.m1.11.11.11.11.11.11.1.3.cmml" xref="S2.E2.m1.11.11.11.11.11.11.1.3">1</cn></apply></apply><apply id="S2.E2.m1.12.12.12.12.12.12.1.2.cmml" xref="S2.E2.m1.12.12.12.12.12.12.1.3"><abs id="S2.E2.m1.12.12.12.12.12.12.1.2.1.cmml" xref="S2.E2.m1.12.12.12.12.12.12.1.3.1"></abs><ci id="S2.E2.m1.12.12.12.12.12.12.1.1.cmml" xref="S2.E2.m1.12.12.12.12.12.12.1.1">𝒄</ci></apply></apply><apply id="S2.E2.m1.33.33.1.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><times id="S2.E2.m1.33.33.1.1.1.1.1.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"></times><apply id="S2.E2.m1.33.33.1.1.1.1.1.3.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">subscript</csymbol><ci id="S2.E2.m1.13.13.13.13.13.13.cmml" xref="S2.E2.m1.13.13.13.13.13.13">𝑤</ci><ci id="S2.E2.m1.14.14.14.14.14.14.1.cmml" xref="S2.E2.m1.14.14.14.14.14.14.1">𝑖</ci></apply><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><plus id="S2.E2.m1.19.19.19.19.19.19.cmml" xref="S2.E2.m1.19.19.19.19.19.19"></plus><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><minus id="S2.E2.m1.16.16.16.16.16.16.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"></minus><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">subscript</csymbol><ci id="S2.E2.m1.17.17.17.17.17.17.cmml" xref="S2.E2.m1.17.17.17.17.17.17">𝒙</ci><apply id="S2.E2.m1.18.18.18.18.18.18.1.cmml" xref="S2.E2.m1.18.18.18.18.18.18.1"><csymbol cd="ambiguous" id="S2.E2.m1.18.18.18.18.18.18.1.1.cmml" xref="S2.E2.m1.18.18.18.18.18.18.1">subscript</csymbol><ci id="S2.E2.m1.18.18.18.18.18.18.1.2.cmml" xref="S2.E2.m1.18.18.18.18.18.18.1.2">𝑐</ci><ci id="S2.E2.m1.18.18.18.18.18.18.1.3.cmml" xref="S2.E2.m1.18.18.18.18.18.18.1.3">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><log id="S2.E2.m1.20.20.20.20.20.20.cmml" xref="S2.E2.m1.20.20.20.20.20.20"></log><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">superscript</csymbol><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">subscript</csymbol><sum id="S2.E2.m1.22.22.22.22.22.22.cmml" xref="S2.E2.m1.22.22.22.22.22.22"></sum><apply id="S2.E2.m1.23.23.23.23.23.23.1.cmml" xref="S2.E2.m1.23.23.23.23.23.23.1"><eq id="S2.E2.m1.23.23.23.23.23.23.1.1.cmml" xref="S2.E2.m1.23.23.23.23.23.23.1.1"></eq><ci id="S2.E2.m1.23.23.23.23.23.23.1.2.cmml" xref="S2.E2.m1.23.23.23.23.23.23.1.2">𝑗</ci><cn type="integer" id="S2.E2.m1.23.23.23.23.23.23.1.3.cmml" xref="S2.E2.m1.23.23.23.23.23.23.1.3">1</cn></apply></apply><apply id="S2.E2.m1.24.24.24.24.24.24.1.2.cmml" xref="S2.E2.m1.24.24.24.24.24.24.1.3"><abs id="S2.E2.m1.24.24.24.24.24.24.1.2.1.cmml" xref="S2.E2.m1.24.24.24.24.24.24.1.3.1"></abs><ci id="S2.E2.m1.24.24.24.24.24.24.1.1.cmml" xref="S2.E2.m1.24.24.24.24.24.24.1.1">𝒙</ci></apply></apply><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><exp id="S2.E2.m1.25.25.25.25.25.25.cmml" xref="S2.E2.m1.25.25.25.25.25.25"></exp><apply id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.33.33.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.34.34.2.33.33.33.33.1.2.1">subscript</csymbol><ci id="S2.E2.m1.27.27.27.27.27.27.cmml" xref="S2.E2.m1.27.27.27.27.27.27">𝒙</ci><ci id="S2.E2.m1.28.28.28.28.28.28.1.cmml" xref="S2.E2.m1.28.28.28.28.28.28.1">𝑗</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.34c">\begin{gathered}\mathcal{L}({\boldsymbol{x}},\boldsymbol{c},\boldsymbol{w})=\sum_{i=1}^{|\boldsymbol{c}|}w_{i}\Big{(}-\boldsymbol{x}_{c_{i}}+\log\big{(}\sum_{j=1}^{|\boldsymbol{x}|}\exp(\boldsymbol{x}_{j})\big{)}\Big{)},\\
\end{gathered}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.p4.2" class="ltx_p">where <math id="S2.p4.1.m1.1" class="ltx_Math" alttext="\boldsymbol{c}" display="inline"><semantics id="S2.p4.1.m1.1a"><mi id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">𝒄</mi><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">𝒄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">\boldsymbol{c}</annotation></semantics></math> is a vector of unique ground-truth answers and <math id="S2.p4.2.m2.1" class="ltx_Math" alttext="\boldsymbol{w}" display="inline"><semantics id="S2.p4.2.m2.1a"><mi id="S2.p4.2.m2.1.1" xref="S2.p4.2.m2.1.1.cmml">𝒘</mi><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.1b"><ci id="S2.p4.2.m2.1.1.cmml" xref="S2.p4.2.m2.1.1">𝒘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.1c">\boldsymbol{w}</annotation></semantics></math> is a vector of answer weights computed as the number of times the unique answer appears in the ground-truth set divided by the total number of answers.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">We evaluate the proposed loss function on the recently released VQA v2.0 benchmark dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>.
To demonstrate the general applicability of the proposed loss we train a variant of the two most common VQA models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Both models use an LSTM to encode the question words to a vector representation.
The <span id="S3.p2.1.1" class="ltx_text ltx_font_bold">AVG</span> model is based on <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> and it utilizes the activations of the penultimate layer of pretrained ResNet-152<cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> as image representation and does not employ attention mechanism.
The <span id="S3.p2.1.2" class="ltx_text ltx_font_bold">POOL</span> model is based on <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and it considers the tensor of activations of the last pooling layer of the same ResNet and employs attention mechanism over the regions to obtain an image representation in a vector form.
Both models are trained with Adam <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> and a batch size of <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="64" display="inline"><semantics id="S3.p2.1.m1.1a"><mn id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml">64</mn><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><cn type="integer" id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1">64</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">64</annotation></semantics></math><span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Code available at <a href="github.com/ilija139/vqa-soft" title="" class="ltx_ref ltx_url ltx_font_typewriter">github.com/ilija139/vqa-soft</a></span></span></span>.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Discussion and Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.2" class="ltx_p">From Table <a href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> we can observe that the proposed loss increases the overall accuracy by <math id="S4.p1.1.m1.1" class="ltx_Math" alttext="1.2\%" display="inline"><semantics id="S4.p1.1.m1.1a"><mrow id="S4.p1.1.m1.1.1" xref="S4.p1.1.m1.1.1.cmml"><mn id="S4.p1.1.m1.1.1.2" xref="S4.p1.1.m1.1.1.2.cmml">1.2</mn><mo id="S4.p1.1.m1.1.1.1" xref="S4.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.1.m1.1b"><apply id="S4.p1.1.m1.1.1.cmml" xref="S4.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.p1.1.m1.1.1.1.cmml" xref="S4.p1.1.m1.1.1.1">percent</csymbol><cn type="float" id="S4.p1.1.m1.1.1.2.cmml" xref="S4.p1.1.m1.1.1.2">1.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.1.m1.1c">1.2\%</annotation></semantics></math> in the simpler model and <math id="S4.p1.2.m2.1" class="ltx_Math" alttext="1.6\%" display="inline"><semantics id="S4.p1.2.m2.1a"><mrow id="S4.p1.2.m2.1.1" xref="S4.p1.2.m2.1.1.cmml"><mn id="S4.p1.2.m2.1.1.2" xref="S4.p1.2.m2.1.1.2.cmml">1.6</mn><mo id="S4.p1.2.m2.1.1.1" xref="S4.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p1.2.m2.1b"><apply id="S4.p1.2.m2.1.1.cmml" xref="S4.p1.2.m2.1.1"><csymbol cd="latexml" id="S4.p1.2.m2.1.1.1.cmml" xref="S4.p1.2.m2.1.1.1">percent</csymbol><cn type="float" id="S4.p1.2.m2.1.1.2.cmml" xref="S4.p1.2.m2.1.1.2">1.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p1.2.m2.1c">1.6\%</annotation></semantics></math> increase in the pooling model.
The accuracy is increased for both models and all answer types which proves the general applicability of the soft cross entropy loss.</p>
</div>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p">In Figures <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> and <a href="#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ A Simple Loss Function for Improving the Convergence and Accuracy of Visual Question Answering Models" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> we can clearly observe the abnormal relationship between the validation loss and accuracy where they both start to increase near the half of the training process.
Furthermore, we can observe how the cross entropy loss rapidly reduces on the training set without an increase in validation accuracy and a decrease in validation loss.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">The evaluation results show that by modeling the VQA evaluation metric more faithfully than conventional classification loss functions, the proposed loss function is able to bring a consistent increase in accuracy for VQA models.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock"><span id="bib.bib1.1.1" class="ltx_text" style="font-size:90%;">
H. Ben-Younes, R. Cadène, N. Thome, and M. Cord.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib1.2.1" class="ltx_text" style="font-size:90%;">MUTAN: Multimodal Tucker fusion for visual question answering.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock"><span id="bib.bib2.1.1" class="ltx_text" style="font-size:90%;">
A. Fukui, D. H. Park, D. Yang, A. Rohrbach, T. Darrell, and M. Rohrbach.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.2.1" class="ltx_text" style="font-size:90%;">Multimodal compact bilinear pooling for visual question answering and
visual grounding.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib2.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1606.01847</span><span id="bib.bib2.4.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text" style="font-size:90%;">
Y. Goyal, T. Khot, D. Summers-Stay, D. Batra, and D. Parikh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.2.1" class="ltx_text" style="font-size:90%;">Making the V in VQA matter: Elevating the role of image
understanding in Visual Question Answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib3.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib3.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Conference on Computer Vision and Pattern Recognition
(CVPR)</span><span id="bib.bib3.5.3" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock"><span id="bib.bib4.1.1" class="ltx_text" style="font-size:90%;">
K. He, X. Zhang, S. Ren, and J. Sun.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.2.1" class="ltx_text" style="font-size:90%;">Deep residual learning for image recognition.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib4.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1512.03385</span><span id="bib.bib4.4.2" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text" style="font-size:90%;">
S. Hochreiter and J. Schmidhuber.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.2.1" class="ltx_text" style="font-size:90%;">Long short-term memory.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib5.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">Neural computation</span><span id="bib.bib5.4.2" class="ltx_text" style="font-size:90%;">, 9(8):1735–1780, 1997.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock"><span id="bib.bib6.1.1" class="ltx_text" style="font-size:90%;">
R. Hu, J. Andreas, M. Rohrbach, T. Darrell, and K. Saenko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.2.1" class="ltx_text" style="font-size:90%;">Learning to reason: End-to-end module networks for visual question
answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib6.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1704.05526</span><span id="bib.bib6.4.2" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock"><span id="bib.bib7.1.1" class="ltx_text" style="font-size:90%;">
I. Ilievski, S. Yan, and J. Feng.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.2.1" class="ltx_text" style="font-size:90%;">A focused dynamic attention model for visual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib7.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1604.01485</span><span id="bib.bib7.4.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock"><span id="bib.bib8.1.1" class="ltx_text" style="font-size:90%;">
D. B. Jiasen Lu, Xiao Lin and D. Parikh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text" style="font-size:90%;">Deeper LSTM and normalized CNN visual question answering model.
</span>
</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/VT-vision-lab/VQA_LSTM_CNN" title="" class="ltx_ref ltx_url ltx_font_typewriter" style="font-size:90%;">https://github.com/VT-vision-lab/VQA_LSTM_CNN</a><span id="bib.bib8.3.1" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock"><span id="bib.bib9.1.1" class="ltx_text" style="font-size:90%;">
J. Johnson, B. Hariharan, L. van der Maaten, L. Fei-Fei, C. L. Zitnick, and
R. Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.2.1" class="ltx_text" style="font-size:90%;">Clevr: A diagnostic dataset for compositional language and elementary
visual reasoning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib9.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1612.06890</span><span id="bib.bib9.4.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock"><span id="bib.bib10.1.1" class="ltx_text" style="font-size:90%;">
J. Johnson, B. Hariharan, L. van der Maaten, J. Hoffman, L. Fei-Fei, C. L.
Zitnick, and R. Girshick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.2.1" class="ltx_text" style="font-size:90%;">Inferring and executing programs for visual reasoning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib10.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1705.03633</span><span id="bib.bib10.4.2" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text" style="font-size:90%;">
J.-H. Kim, K.-W. On, J. Kim, J.-W. Ha, and B.-T. Zhang.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.2.1" class="ltx_text" style="font-size:90%;">Hadamard product for low-rank bilinear pooling.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib11.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1610.04325</span><span id="bib.bib11.4.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock"><span id="bib.bib12.1.1" class="ltx_text" style="font-size:90%;">
D. Kingma and J. Ba.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.2.1" class="ltx_text" style="font-size:90%;">Adam: A method for stochastic optimization.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib12.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1412.6980</span><span id="bib.bib12.4.2" class="ltx_text" style="font-size:90%;">, 2014.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text" style="font-size:90%;">
T.-Y. Lin, M. Maire, S. Belongie, J. Hays, P. Perona, D. Ramanan,
P. Dollár, and C. L. Zitnick.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.2.1" class="ltx_text" style="font-size:90%;">Microsoft COCO: Common objects in context.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib13.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib13.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">European Conference on Computer Vision</span><span id="bib.bib13.5.3" class="ltx_text" style="font-size:90%;">, pages 740–755.
Springer, 2014.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock"><span id="bib.bib14.1.1" class="ltx_text" style="font-size:90%;">
J. Lu, J. Yang, D. Batra, and D. Parikh.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.2.1" class="ltx_text" style="font-size:90%;">Hierarchical question-image co-attention for visual question
answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib14.3.1" class="ltx_text" style="font-size:90%;">In </span><span id="bib.bib14.4.2" class="ltx_text ltx_font_italic" style="font-size:90%;">Advances In Neural Information Processing Systems</span><span id="bib.bib14.5.3" class="ltx_text" style="font-size:90%;">, pages
289–297, 2016.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock"><span id="bib.bib15.1.1" class="ltx_text" style="font-size:90%;">
H. Nam, J.-W. Ha, and J. Kim.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.2.1" class="ltx_text" style="font-size:90%;">Dual attention networks for multimodal reasoning and matching.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib15.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1611.00471</span><span id="bib.bib15.4.2" class="ltx_text" style="font-size:90%;">, 2016.
</span>
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock"><span id="bib.bib16.1.1" class="ltx_text" style="font-size:90%;">
A. Santoro, D. Raposo, D. G. Barrett, M. Malinowski, R. Pascanu, P. Battaglia,
and T. Lillicrap.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text" style="font-size:90%;">A simple neural network module for relational reasoning.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib16.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1706.01427</span><span id="bib.bib16.4.2" class="ltx_text" style="font-size:90%;">, 2017.
</span>
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock"><span id="bib.bib17.1.1" class="ltx_text" style="font-size:90%;">
K. J. Shih, S. Singh, and D. Hoiem.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.2.1" class="ltx_text" style="font-size:90%;">Where to look: Focus regions for visual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib17.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1511.07394</span><span id="bib.bib17.4.2" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock"><span id="bib.bib18.1.1" class="ltx_text" style="font-size:90%;">
C. Xiong, S. Merity, and R. Socher.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.2.1" class="ltx_text" style="font-size:90%;">Dynamic memory networks for visual and textual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib18.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv</span><span id="bib.bib18.4.2" class="ltx_text" style="font-size:90%;">, 1603, 2016.
</span>
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text" style="font-size:90%;">
H. Xu and K. Saenko.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text" style="font-size:90%;">Ask, attend and answer: Exploring question-guided spatial attention
for visual question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib19.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1511.05234</span><span id="bib.bib19.4.2" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text" style="font-size:90%;">
Z. Yang, X. He, J. Gao, L. Deng, and A. Smola.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.2.1" class="ltx_text" style="font-size:90%;">Stacked attention networks for image question answering.
</span>
</span>
<span class="ltx_bibblock"><span id="bib.bib20.3.1" class="ltx_text ltx_font_italic" style="font-size:90%;">arXiv preprint arXiv:1511.02274</span><span id="bib.bib20.4.2" class="ltx_text" style="font-size:90%;">, 2015.
</span>
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/1708.00583" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/1708.00584" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+1708.00584">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/1708.00584" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/1708.00585" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Mar 15 21:43:59 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
