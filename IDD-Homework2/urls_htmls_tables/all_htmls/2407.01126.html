<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation</title>
<!--Generated on Mon Jul  1 09:42:03 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2407.01126v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S1" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S2" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S2.SS0.SSS0.Px1" title="In 2 Related work ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Multi-domain Neural Machine Translation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S2.SS0.SSS0.Px2" title="In 2 Related work ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Mixture of Experts models for Neural Machine Translation.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS1" title="In 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Mixture of Experts</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS2" title="In 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Domain Knowledge integration</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS2.SSS0.Px1" title="In 3.2 Domain Knowledge integration ‣ 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Domain Tags</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS2.SSS0.Px2" title="In 3.2 Domain Knowledge integration ‣ 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Domain Specialized Gate</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS2.SSS0.Px3" title="In 3.2 Domain Knowledge integration ‣ 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Domain-aware Gate.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS3" title="In 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Domain randomization</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experimental setup</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.SS0.SSS0.Px1" title="In 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Data.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.SS0.SSS0.Px2" title="In 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Model hyperparameters.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.SS0.SSS0.Px3" title="In 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Models.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.SS0.SSS0.Px4" title="In 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Evaluation.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1" title="In 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Study of scaling methods</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px1" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Comparison of scaling approaches.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px2" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Utilization of domain information in SMoE.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px3" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Are domain tags helpful?</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px4" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Effect of domain randomization.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px5" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Inference speed.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px6" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Robustness to wrong domain labels.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px7" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">SMoE analysis.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px8" title="In 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Necessity of generic data and model scaling for multi-domain models.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S6" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S7" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Limitations and discussion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Experimental setup</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1.SS0.SSS0.Px1" title="In Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Data.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1.SS0.SSS0.Px2" title="In Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title">Training.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A2" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Additional results for the setting with wrong domain labels</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A3" title="In Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Analysis of gate statistics.</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\affiliations</span>
<p class="ltx_p" id="p1.2">NAVER LABS Europe
<span class="ltx_ERROR undefined" id="p1.2.1">\website</span>
<span class="ltx_ERROR undefined" id="p1.2.2">\websiteref</span>
<span class="ltx_ERROR undefined" id="p1.2.3">\contributions</span>
<span class="ltx_ERROR undefined" id="p1.2.4">\teaserfile</span>MoE_illustration.pdf
<span class="ltx_ERROR undefined" id="p1.2.5">\teasercaption</span>
<span class="ltx_ERROR undefined" id="p1.2.6">\correspondingauthor</span>[nadia.chirkova, vassilina.nikoulina]@naverlabs.com</p>
</div>
<h1 class="ltx_title ltx_title_document">Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation</h1>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">We focus on multi-domain Neural Machine Translation, with the goal of developing efficient models which can handle data from various domains seen during training and are robust to domains unseen during training. We hypothesize that Sparse Mixture-of-Experts (SMoE) models are a good fit for this task, as they enable efficient model scaling, which helps to accommodate a variety of multi-domain data, and allow flexible sharing of parameters between domains, potentially enabling knowledge transfer between similar domains and limiting negative transfer. We conduct a series of experiments aimed at validating the utility of SMoE for the multi-domain scenario, and find that a straightforward width scaling of Transformer is a simpler and surprisingly more efficient approach in practice, and reaches the same performance level as SMoE. We also search for a better recipe for robustness of multi-domain systems, highlighting the importance of mixing-in a generic domain, i.e. Paracrawl, and introducing a simple technique, domain randomization.</p>
</div>
<section class="ltx_section" id="S1" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">The goal of multi-domain Neural Machine Translation (NMT) is to build a system capable of generating high-quality translations for inputs from various domains. Such domains are given in advance and are represented by different sources of data, eg. European Parliament speeches, scientific articles, etc. At the test time, input examples may come with or without known <span class="ltx_text ltx_font_italic" id="S1.p1.1.1">domain labels</span>, depending on the practical scenario.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Most popular approaches to equip multi-domain NMT model with domain knowledge do so either via <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">domain tags</span> <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib5" title="">5</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib3" title="">3</a>]</cite> or <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">domain adapters</span> <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib2" title="">2</a>]</cite>. When domain knowledge is integrated via domain tags, prepended to input sequences as special tokens, the model is able to benefit fully from knowledge transfer between domains via shared representations. However, the model may suffer from negative transfer if it does not have enough parameters to accommodate contradictory signals from different domains. Domain adapters provide a separate set of parameters per each domain, therefore increasing the model size and being robust to negative transfer, but may not benefit from potential knowledge transfer across different domains.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">In this work, we investigate the potential of Sparse Mixture-of-Experts models (SMoE, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib24" title="">24</a></cite>) for multi-domain machine translation. SMoE belongs to a family of conditional-computation models, and uses a gating mechanism to decide which subset of model parameters will be activated for each input token. SMoE seems to be a good fit for multi-domain scenario due to several reasons. First, SmoE scales the model size, which appears to be necessary for a variety of multi-domain data the model needs to accommodate, but keeps constant the inference floating-point operations (FLOPs), thus enabling <span class="ltx_text ltx_font_italic" id="S1.p3.1.1">efficient scaling</span>. Second, SMoE looks as a reasonable and
<span class="ltx_text ltx_font_italic" id="S1.p3.1.2">effective middle ground</span> between domain tags and domain adapters, due to the enabled “soft” sharing of parameters between domains. In particular, SMoE has a potential to learn which domains should be processed with the same set of parameters, i.e. to enable knowledge transfer between related domains, and which domains should not share parameters, i.e. to prevent negative transfer. To fully benefit from the domain information when it is available, we study three ways of utilizing domain labels in SMoE.
We conduct series of experiments, aiming to validate <span class="ltx_text ltx_font_italic" id="S1.p3.1.3">the hypothesis that SMoE is an effective and efficient architecture for the multi-domain scenario</span>. Our experiments lead us to <span class="ltx_text ltx_font_italic" id="S1.p3.1.4">non-conclusive results</span> regarding the utility of the SMoE architecture, but highlight the <span class="ltx_text ltx_font_italic" id="S1.p3.1.5">advantages of model scaling</span>, particularly straightforward width scaling, in both effectiveness and inference time efficiency.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Our findings can be summarized as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S1.I1.i1.p1.1.1">Effectiveness.</span> SMoE significantly outperforms the baseline Transformer Base architecture, mostly due to the model scaling effect: SMoE performs on par with the horizontally scaled model of the same total size (width scaling of the Transformer dimension);</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.1">Efficiency.</span> For models that fit into a single GPU, a straightforward <span class="ltx_text ltx_font_italic" id="S1.I1.i2.p1.1.2">width scaling</span> of the Transformer dimension introduces almost no computational overhead compared to the non-scaled model, when modern GPUs such as Tesla A100 or V100 are used. On the contrary, SMoEs do introduce a substantial computational overhead at inference. As a result, the horizontally scaled model turns out to be an efficient scaling approach.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_italic" id="S1.I1.i3.p1.1.1">Domain knowledge in SMoE.</span> We introduce and compare several methods for incorporating domain knowledge into SMoE and find that that the simplest approach of using <span class="ltx_text ltx_font_italic" id="S1.I1.i3.p1.1.2">domain tags</span> performs similarly to the more advanced approaches (and to the horizontally scaled model also equipped with domain tags);</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1"><span class="ltx_text ltx_font_italic" id="S1.I1.i4.p1.1.1">Robustness.</span> We search for a recipe for more robust multi-domain systems, i.e. robust to out-of-domain examples and wrong domain labels, and highlight two important components. First, we show that mixing-in a generic domain improves model performance on out-of-domain examples. Second, we introduce a simple technique, <span class="ltx_text ltx_font_italic" id="S1.I1.i4.p1.1.2">domain randomization</span>, targeted at enriching <span class="ltx_text ltx_font_italic" id="S1.I1.i4.p1.1.3">out-of-domain</span> robustness. We observe that it also substantially increases robustness to wrong domain labels.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related work</h2>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Multi-domain Neural Machine Translation.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.1">In Multi-domain NMT we assume that our training data comes from different sources, either with well identified domains, or more generic ones (eg. web-crawled data). The goal is to exploit this knowledge efficiently during training and/or inference. <cite class="ltx_cite ltx_citemacro_citet">Kobus et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib13" title="">13</a>], Britz et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib5" title="">5</a>], Tars and Fishel [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib26" title="">26</a>], Berard et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib3" title="">3</a>]</cite> specify domain information via special <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p1.1.1">domain tags</span> prepended to the source or target sequence. Thus the model has access to domain information by accessing this domain tag via the attention mechanism, and its parameters are shared across all domains. Several works <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib5" title="">5</a>]</cite> have tried to decouple domain-specific representations from domain independent representations by proposing different architectural changes and/or adversarial training.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p2.1">Most of the above mentioned approaches to multi-domain NMT are only interested in optimizing the performance on the domains observed during training and do not consider the performance of such models on new previously unseen domains. Moreover, these works assume that the domain is well identified at inference time, while in real life serrings NMT model may have to deal with wrong or unspecified domain label, or mixed-domain inputs.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p3">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p3.1"><cite class="ltx_cite ltx_citemacro_citet">Pham et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib20" title="">20</a>], Wang et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib30" title="">30</a>]</cite> propose domain resampling strategies attempting to maximize performance across all the domains, and acting as a regularization to improve robustness to unseen domains. We address robustness from another (complementary) perspective, by including a generic domain in the training data and by explicitly encouraging models’ reliance on generic data. We also study a wider and more diverse set of unseen domains.
<cite class="ltx_cite ltx_citemacro_citet">Pham et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib19" title="">19</a>]</cite> has performed and extensive benchmark of existing multi-domain NMT approaches by explicitly evaluating their <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p3.1.1">Effectiveness</span> (benefit from domain knowledge availability and benefit from domain transfer between training domains)
and <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px1.p3.1.2">Robustness</span> to the fuzzy or unknown domains at inference time. Authors concluded that none of the existing approaches is competitive with simply training a model on a mixture of all datasets and further finetuning on each domain’s dataset, which implies that in existing approaches the impact of negative transfer across domains is higher than benefit of the positive transfer between training domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Mixture of Experts models for Neural Machine Translation.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.1">The Mixture-of-Experts architecture has been shown to be an efficient way for models parameters scaling <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib12" title="">12</a>]</cite>. It has demonstrated promising results in NMT for multilingual settings <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib18" title="">18</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib12" title="">12</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib15" title="">15</a>]</cite>, where efficient scaling of the parameters allowed to cope with the <span class="ltx_text ltx_font_italic" id="S2.SS0.SSS0.Px2.p1.1.1">curse of multilinguality</span> while keeping reasonable inference cost.
To the best of our knowledge, the potential of SMoE architecture has not been explored in multi-domain NMT.
<cite class="ltx_cite ltx_citemacro_citet">Pham et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib21" title="">21</a>]</cite> propose an approach which learns the selection of domain-specific parameters end-to-end so that domains can share a part of parameters. The SMoE architecture in fact generalizes this idea further by enabling the selection of parameters specific to a combination of a token and a domain.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p2.1">In this work we study whether Sparse Mixture of Experts architectures are beneficial in multi-domain NMT settings, and to what extent domain information is important when we scale up the model.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">Following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib19" title="">19</a>]</cite>, we define domains as different sources of data used to train a machine translation model. The <span class="ltx_text ltx_font_italic" id="S3.p1.1.1">effectiveness</span> of the model is defined as the performance of the model on the <span class="ltx_text ltx_font_italic" id="S3.p1.1.2">seen</span> domains, i.e. the domains included in the training data.
We also evaluate <span class="ltx_text ltx_font_italic" id="S3.p1.1.3">out-of-domain robustness</span> of the model, i.e. the performance on the domains <span class="ltx_text ltx_font_italic" id="S3.p1.1.4">unseen</span> during training, i.e. on some held-out test domain data from different data distribution than the training domains. At the same time, we care about model <span class="ltx_text ltx_font_italic" id="S3.p1.1.5">efficiency</span>, i.e. inference speed, as it is crucial in production systems.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">To improve out-of-domain robustness, we include a large generic corpus in the training data (Paracrawl, <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib1" title="">1</a>]</cite>).</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.1">We consider two practical scenarios. The first scenario is the most common in the literature, in which each test sentence comes with the known domain tag. This scenario often arises in b2b settings, e.g. a cloud provides a translation service to other companies knowing which test data is from which company. In the second scenario, more common in online b2c services, the users do not provide explicit domain information, and the model should be able to handle various inputs without knowing their domains.</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.1">We attempt to gain a better understanding on the following questions:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1">how does SMoE perform in terms of <span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.1.1"> effectiveness</span>, <span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.1.2">out-of-domain robustness</span> and <span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.1.3">efficiency</span>;</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1">what is the best strategy for domain knowledge integration in SMoE;</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1">whether the knowledge about the (seen) domains benefits scaled model performance on these domains;</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i4.p1">
<p class="ltx_p" id="S3.I1.i4.p1.1">how we can improve out-of-domain robustness further.</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Mixture of Experts</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">Sparsely-gated Mixture-of-Experts (SMoE) models activate a <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.1">subset</span> of their parameters <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.2">per input token</span>, contrary to dense models, where the <span class="ltx_text ltx_font_italic" id="S3.SS1.p1.1.3">entire network is used for each input token</span>. Therefore, the total amount of parameters can be significantly increased with limited impact on the computational cost.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.5">In the SMoE Transformer models proposed by <cite class="ltx_cite ltx_citemacro_citet">Lepikhin et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib16" title="">16</a>]</cite>, the FFN sublayers in the dense model are replaced with SMoE layers consisting on <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><mi id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">italic_N</annotation></semantics></math> experts each (with the same architecture as an FFN layer). A SMoE layer takes an input token representation <math alttext="x_{t}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">x</mi><mi id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑥</ci><ci id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">x_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and then routes it to the top <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><mi id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_k</annotation></semantics></math> out of <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_N</annotation></semantics></math> experts according to a learned gating mechanism, which computes a probability distribution over all the experts:
<math alttext="G_{t}=softmax(W_{g}\cdot x_{t})" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><mrow id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><msub id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.1.1.3.2" xref="S3.SS1.p2.5.m5.1.1.3.2.cmml">G</mi><mi id="S3.SS1.p2.5.m5.1.1.3.3" xref="S3.SS1.p2.5.m5.1.1.3.3.cmml">t</mi></msub><mo id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml">=</mo><mrow id="S3.SS1.p2.5.m5.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.cmml"><mi id="S3.SS1.p2.5.m5.1.1.1.3" xref="S3.SS1.p2.5.m5.1.1.1.3.cmml">s</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.4" xref="S3.SS1.p2.5.m5.1.1.1.4.cmml">o</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2a" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.5" xref="S3.SS1.p2.5.m5.1.1.1.5.cmml">f</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2b" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.6" xref="S3.SS1.p2.5.m5.1.1.1.6.cmml">t</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2c" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.7" xref="S3.SS1.p2.5.m5.1.1.1.7.cmml">m</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2d" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.8" xref="S3.SS1.p2.5.m5.1.1.1.8.cmml">a</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2e" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mi id="S3.SS1.p2.5.m5.1.1.1.9" xref="S3.SS1.p2.5.m5.1.1.1.9.cmml">x</mi><mo id="S3.SS1.p2.5.m5.1.1.1.2f" xref="S3.SS1.p2.5.m5.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.p2.5.m5.1.1.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml"><mo id="S3.SS1.p2.5.m5.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p2.5.m5.1.1.1.1.1.1" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml"><msub id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.2.cmml">W</mi><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.3.cmml">g</mi></msub><mo id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.cmml">⋅</mo><msub id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.2" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.3" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo id="S3.SS1.p2.5.m5.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><eq id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2"></eq><apply id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.1.1.3.2">𝐺</ci><ci id="S3.SS1.p2.5.m5.1.1.3.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3.3">𝑡</ci></apply><apply id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1"><times id="S3.SS1.p2.5.m5.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.2"></times><ci id="S3.SS1.p2.5.m5.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.3">𝑠</ci><ci id="S3.SS1.p2.5.m5.1.1.1.4.cmml" xref="S3.SS1.p2.5.m5.1.1.1.4">𝑜</ci><ci id="S3.SS1.p2.5.m5.1.1.1.5.cmml" xref="S3.SS1.p2.5.m5.1.1.1.5">𝑓</ci><ci id="S3.SS1.p2.5.m5.1.1.1.6.cmml" xref="S3.SS1.p2.5.m5.1.1.1.6">𝑡</ci><ci id="S3.SS1.p2.5.m5.1.1.1.7.cmml" xref="S3.SS1.p2.5.m5.1.1.1.7">𝑚</ci><ci id="S3.SS1.p2.5.m5.1.1.1.8.cmml" xref="S3.SS1.p2.5.m5.1.1.1.8">𝑎</ci><ci id="S3.SS1.p2.5.m5.1.1.1.9.cmml" xref="S3.SS1.p2.5.m5.1.1.1.9">𝑥</ci><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1"><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.1">⋅</ci><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.2">𝑊</ci><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.2.3">𝑔</ci></apply><apply id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.2">𝑥</ci><ci id="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.5.m5.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">G_{t}=softmax(W_{g}\cdot x_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">italic_G start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_s italic_o italic_f italic_t italic_m italic_a italic_x ( italic_W start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ⋅ italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.2">The output of the SMoE layer is a weighted sum of the outputs of the top <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.1"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.1d">italic_k</annotation></semantics></math> selected experts <math alttext="\mathcal{E}" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">caligraphic_E</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{t}=\frac{1}{\sum_{i\in\mathcal{E}}G_{t,i}}\sum_{i\in\mathcal{E}}G_{t,i}E_{i%
}(x_{t})" class="ltx_Math" display="block" id="S3.E1.m1.5"><semantics id="S3.E1.m1.5a"><mrow id="S3.E1.m1.5.5" xref="S3.E1.m1.5.5.cmml"><msub id="S3.E1.m1.5.5.3" xref="S3.E1.m1.5.5.3.cmml"><mi id="S3.E1.m1.5.5.3.2" xref="S3.E1.m1.5.5.3.2.cmml">y</mi><mi id="S3.E1.m1.5.5.3.3" xref="S3.E1.m1.5.5.3.3.cmml">t</mi></msub><mo id="S3.E1.m1.5.5.2" xref="S3.E1.m1.5.5.2.cmml">=</mo><mrow id="S3.E1.m1.5.5.1" xref="S3.E1.m1.5.5.1.cmml"><mfrac id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml"><mn id="S3.E1.m1.2.2.4" xref="S3.E1.m1.2.2.4.cmml">1</mn><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.2.cmml"><msub id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.2.3.cmml"><mo id="S3.E1.m1.2.2.2.3.2" xref="S3.E1.m1.2.2.2.3.2.cmml">∑</mo><mrow id="S3.E1.m1.2.2.2.3.3" xref="S3.E1.m1.2.2.2.3.3.cmml"><mi id="S3.E1.m1.2.2.2.3.3.2" xref="S3.E1.m1.2.2.2.3.3.2.cmml">i</mi><mo id="S3.E1.m1.2.2.2.3.3.1" xref="S3.E1.m1.2.2.2.3.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.2.3.3.3" xref="S3.E1.m1.2.2.2.3.3.3.cmml">ℰ</mi></mrow></msub><msub id="S3.E1.m1.2.2.2.4" xref="S3.E1.m1.2.2.2.4.cmml"><mi id="S3.E1.m1.2.2.2.4.2" xref="S3.E1.m1.2.2.2.4.2.cmml">G</mi><mrow id="S3.E1.m1.2.2.2.2.2.4" xref="S3.E1.m1.2.2.2.2.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.1.cmml">t</mi><mo id="S3.E1.m1.2.2.2.2.2.4.1" xref="S3.E1.m1.2.2.2.2.2.3.cmml">,</mo><mi id="S3.E1.m1.2.2.2.2.2.2" xref="S3.E1.m1.2.2.2.2.2.2.cmml">i</mi></mrow></msub></mrow></mfrac><mo id="S3.E1.m1.5.5.1.2" xref="S3.E1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.5.5.1.1" xref="S3.E1.m1.5.5.1.1.cmml"><munder id="S3.E1.m1.5.5.1.1.2" xref="S3.E1.m1.5.5.1.1.2.cmml"><mo id="S3.E1.m1.5.5.1.1.2.2" movablelimits="false" xref="S3.E1.m1.5.5.1.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.5.5.1.1.2.3" xref="S3.E1.m1.5.5.1.1.2.3.cmml"><mi id="S3.E1.m1.5.5.1.1.2.3.2" xref="S3.E1.m1.5.5.1.1.2.3.2.cmml">i</mi><mo id="S3.E1.m1.5.5.1.1.2.3.1" xref="S3.E1.m1.5.5.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.5.5.1.1.2.3.3" xref="S3.E1.m1.5.5.1.1.2.3.3.cmml">ℰ</mi></mrow></munder><mrow id="S3.E1.m1.5.5.1.1.1" xref="S3.E1.m1.5.5.1.1.1.cmml"><msub id="S3.E1.m1.5.5.1.1.1.3" xref="S3.E1.m1.5.5.1.1.1.3.cmml"><mi id="S3.E1.m1.5.5.1.1.1.3.2" xref="S3.E1.m1.5.5.1.1.1.3.2.cmml">G</mi><mrow id="S3.E1.m1.4.4.2.4" xref="S3.E1.m1.4.4.2.3.cmml"><mi id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml">t</mi><mo id="S3.E1.m1.4.4.2.4.1" xref="S3.E1.m1.4.4.2.3.cmml">,</mo><mi id="S3.E1.m1.4.4.2.2" xref="S3.E1.m1.4.4.2.2.cmml">i</mi></mrow></msub><mo id="S3.E1.m1.5.5.1.1.1.2" xref="S3.E1.m1.5.5.1.1.1.2.cmml">⁢</mo><msub id="S3.E1.m1.5.5.1.1.1.4" xref="S3.E1.m1.5.5.1.1.1.4.cmml"><mi id="S3.E1.m1.5.5.1.1.1.4.2" xref="S3.E1.m1.5.5.1.1.1.4.2.cmml">E</mi><mi id="S3.E1.m1.5.5.1.1.1.4.3" xref="S3.E1.m1.5.5.1.1.1.4.3.cmml">i</mi></msub><mo id="S3.E1.m1.5.5.1.1.1.2a" xref="S3.E1.m1.5.5.1.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.5.5.1.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E1.m1.5.5.1.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.5.5.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E1.m1.5.5.1.1.1.1.1.1" xref="S3.E1.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.2" xref="S3.E1.m1.5.5.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E1.m1.5.5.1.1.1.1.1.1.3" xref="S3.E1.m1.5.5.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E1.m1.5.5.1.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.5b"><apply id="S3.E1.m1.5.5.cmml" xref="S3.E1.m1.5.5"><eq id="S3.E1.m1.5.5.2.cmml" xref="S3.E1.m1.5.5.2"></eq><apply id="S3.E1.m1.5.5.3.cmml" xref="S3.E1.m1.5.5.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.3.1.cmml" xref="S3.E1.m1.5.5.3">subscript</csymbol><ci id="S3.E1.m1.5.5.3.2.cmml" xref="S3.E1.m1.5.5.3.2">𝑦</ci><ci id="S3.E1.m1.5.5.3.3.cmml" xref="S3.E1.m1.5.5.3.3">𝑡</ci></apply><apply id="S3.E1.m1.5.5.1.cmml" xref="S3.E1.m1.5.5.1"><times id="S3.E1.m1.5.5.1.2.cmml" xref="S3.E1.m1.5.5.1.2"></times><apply id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2"><divide id="S3.E1.m1.2.2.3.cmml" xref="S3.E1.m1.2.2"></divide><cn id="S3.E1.m1.2.2.4.cmml" type="integer" xref="S3.E1.m1.2.2.4">1</cn><apply id="S3.E1.m1.2.2.2.cmml" xref="S3.E1.m1.2.2.2"><apply id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.2.3">subscript</csymbol><sum id="S3.E1.m1.2.2.2.3.2.cmml" xref="S3.E1.m1.2.2.2.3.2"></sum><apply id="S3.E1.m1.2.2.2.3.3.cmml" xref="S3.E1.m1.2.2.2.3.3"><in id="S3.E1.m1.2.2.2.3.3.1.cmml" xref="S3.E1.m1.2.2.2.3.3.1"></in><ci id="S3.E1.m1.2.2.2.3.3.2.cmml" xref="S3.E1.m1.2.2.2.3.3.2">𝑖</ci><ci id="S3.E1.m1.2.2.2.3.3.3.cmml" xref="S3.E1.m1.2.2.2.3.3.3">ℰ</ci></apply></apply><apply id="S3.E1.m1.2.2.2.4.cmml" xref="S3.E1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.4.1.cmml" xref="S3.E1.m1.2.2.2.4">subscript</csymbol><ci id="S3.E1.m1.2.2.2.4.2.cmml" xref="S3.E1.m1.2.2.2.4.2">𝐺</ci><list id="S3.E1.m1.2.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.2.2.4"><ci id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1.1">𝑡</ci><ci id="S3.E1.m1.2.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2.2.2">𝑖</ci></list></apply></apply></apply><apply id="S3.E1.m1.5.5.1.1.cmml" xref="S3.E1.m1.5.5.1.1"><apply id="S3.E1.m1.5.5.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.2.1.cmml" xref="S3.E1.m1.5.5.1.1.2">subscript</csymbol><sum id="S3.E1.m1.5.5.1.1.2.2.cmml" xref="S3.E1.m1.5.5.1.1.2.2"></sum><apply id="S3.E1.m1.5.5.1.1.2.3.cmml" xref="S3.E1.m1.5.5.1.1.2.3"><in id="S3.E1.m1.5.5.1.1.2.3.1.cmml" xref="S3.E1.m1.5.5.1.1.2.3.1"></in><ci id="S3.E1.m1.5.5.1.1.2.3.2.cmml" xref="S3.E1.m1.5.5.1.1.2.3.2">𝑖</ci><ci id="S3.E1.m1.5.5.1.1.2.3.3.cmml" xref="S3.E1.m1.5.5.1.1.2.3.3">ℰ</ci></apply></apply><apply id="S3.E1.m1.5.5.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1"><times id="S3.E1.m1.5.5.1.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.1.2"></times><apply id="S3.E1.m1.5.5.1.1.1.3.cmml" xref="S3.E1.m1.5.5.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.3.1.cmml" xref="S3.E1.m1.5.5.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.3.2.cmml" xref="S3.E1.m1.5.5.1.1.1.3.2">𝐺</ci><list id="S3.E1.m1.4.4.2.3.cmml" xref="S3.E1.m1.4.4.2.4"><ci id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1.1">𝑡</ci><ci id="S3.E1.m1.4.4.2.2.cmml" xref="S3.E1.m1.4.4.2.2">𝑖</ci></list></apply><apply id="S3.E1.m1.5.5.1.1.1.4.cmml" xref="S3.E1.m1.5.5.1.1.1.4"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.4.1.cmml" xref="S3.E1.m1.5.5.1.1.1.4">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.4.2.cmml" xref="S3.E1.m1.5.5.1.1.1.4.2">𝐸</ci><ci id="S3.E1.m1.5.5.1.1.1.4.3.cmml" xref="S3.E1.m1.5.5.1.1.1.4.3">𝑖</ci></apply><apply id="S3.E1.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.2">𝑥</ci><ci id="S3.E1.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.5.5.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.5c">y_{t}=\frac{1}{\sum_{i\in\mathcal{E}}G_{t,i}}\sum_{i\in\mathcal{E}}G_{t,i}E_{i%
}(x_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.5d">italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_E end_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT italic_t , italic_i end_POSTSUBSCRIPT end_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_E end_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT italic_t , italic_i end_POSTSUBSCRIPT italic_E start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p3.3">In addition to the efficient scaling, the SMoE architecture may provide more flexibility in multi-domain settings: if it is able to specialize experts for different domains it would lead to lower negative transfer between training domains.</p>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.1">For fair evaluation, we compare the performance of the SMoE model with two fully dense models that either match its total number of parameters or its FLOPs at inference (more details in section <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4" title="4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="353" id="S3.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of Mixture-of-Experts (left) and three considered ways of utilizing domain information in Mixture-of-Experts (right).</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Domain Knowledge integration</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Domain knowledge is presented to the model in the form of a
domain label <math alttext="d" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><mi id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><ci id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_d</annotation></semantics></math>.
We compare different ways of integrating such
domain label
into the SMoE model, see their illustration in Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.F1" title="Figure 1 ‣ 3.1 Mixture of Experts ‣ 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Domain Tags</h4>
<div class="ltx_para" id="S3.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px1.p1.1">prepend domain embedding <math alttext="e_{d}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS2.SSS0.Px1.p1.1.m1.1a"><msub id="S3.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">e</mi><mi id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.2">𝑒</ci><ci id="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px1.p1.1.m1.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px1.p1.1.m1.1c">e_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px1.p1.1.m1.1d">italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> to the source sequence similar to <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib5" title="">5</a>]</cite>. In this settings domain embeddings represent the only domain-specific parameters, the rest of the parameters are shared across all the domains. The model attends to domain information via self- and cross-attention during training and inference and modifies its internal representations accordingly.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Domain Specialized Gate</h4>
<div class="ltx_para" id="S3.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px2.p1.2"><cite class="ltx_cite ltx_citemacro_citet">Gupta et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib8" title="">8</a>]</cite> introduce separate task-specialized gates in SMoE for multitask training of language models with the goal to encourage different experts to specialize to different tasks, while limiting the negative transfer between tasks. Similarly, we consider domain-specific gates <math alttext="G^{d}_{t}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS2.SSS0.Px2.p1.1.m1.1a"><msubsup id="S3.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.2.cmml">G</mi><mi id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">t</mi><mi id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.3.cmml">d</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.2">𝐺</ci><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.2.3">𝑑</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.1.m1.1c">G^{d}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.1.m1.1d">italic_G start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> that devote specialized gating mechanism parameters (<math alttext="W^{d}_{g}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS2.SSS0.Px2.p1.2.m2.1a"><msubsup id="S3.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.2" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.2.cmml">W</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml">g</mi><mi id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.3" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.3.cmml">d</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.1.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.2.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.2">𝑊</ci><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.2.3">𝑑</ci></apply><ci id="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px2.p1.2.m2.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px2.p1.2.m2.1c">W^{d}_{g}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px2.p1.2.m2.1d">italic_W start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT</annotation></semantics></math>) to each domain. In multi-domain settings, such specialization is expected to encourage the model to a select different set of experts for different domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Domain-aware Gate.</h4>
<div class="ltx_para" id="S3.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS2.SSS0.Px3.p1.2">A fully domain-specialized gating mechanism may limit knowledge transfer between different domains. Moreover, learning gating mechanism parameters can be more challenging for very small domains, with very small amount of samples in the training data. Therefore we propose a <span class="ltx_text ltx_font_italic" id="S3.SS2.SSS0.Px3.p1.2.1">Domain-aware gating mechanism</span> as an alternative to the domain-specialized gate. It takes as input the concatenation of the current token representation <math alttext="x_{t}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S3.SS2.SSS0.Px3.p1.1.m1.1a"><msub id="S3.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml">x</mi><mi id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.2">𝑥</ci><ci id="S3.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS0.Px3.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px3.p1.1.m1.1c">x_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px3.p1.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and the domain embedding <math alttext="e_{d}" class="ltx_Math" display="inline" id="S3.SS2.SSS0.Px3.p1.2.m2.1"><semantics id="S3.SS2.SSS0.Px3.p1.2.m2.1a"><msub id="S3.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.cmml"><mi id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.2" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.2.cmml">e</mi><mi id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.3" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS0.Px3.p1.2.m2.1b"><apply id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.1.cmml" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.2.cmml" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.2">𝑒</ci><ci id="S3.SS2.SSS0.Px3.p1.2.m2.1.1.3.cmml" xref="S3.SS2.SSS0.Px3.p1.2.m2.1.1.3">𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS0.Px3.p1.2.m2.1c">e_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.SSS0.Px3.p1.2.m2.1d">italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="G_{t}(d)=softmax(W_{g}\cdot(x_{t}\oplus e_{d}))" class="ltx_Math" display="block" id="S3.E2.m1.2"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml"><mrow id="S3.E2.m1.2.2.3" xref="S3.E2.m1.2.2.3.cmml"><msub id="S3.E2.m1.2.2.3.2" xref="S3.E2.m1.2.2.3.2.cmml"><mi id="S3.E2.m1.2.2.3.2.2" xref="S3.E2.m1.2.2.3.2.2.cmml">G</mi><mi id="S3.E2.m1.2.2.3.2.3" xref="S3.E2.m1.2.2.3.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.2.2.3.1" xref="S3.E2.m1.2.2.3.1.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.3.3.2" xref="S3.E2.m1.2.2.3.cmml"><mo id="S3.E2.m1.2.2.3.3.2.1" stretchy="false" xref="S3.E2.m1.2.2.3.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">d</mi><mo id="S3.E2.m1.2.2.3.3.2.2" stretchy="false" xref="S3.E2.m1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.2" xref="S3.E2.m1.2.2.2.cmml">=</mo><mrow id="S3.E2.m1.2.2.1" xref="S3.E2.m1.2.2.1.cmml"><mi id="S3.E2.m1.2.2.1.3" xref="S3.E2.m1.2.2.1.3.cmml">s</mi><mo id="S3.E2.m1.2.2.1.2" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.4" xref="S3.E2.m1.2.2.1.4.cmml">o</mi><mo id="S3.E2.m1.2.2.1.2a" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.5" xref="S3.E2.m1.2.2.1.5.cmml">f</mi><mo id="S3.E2.m1.2.2.1.2b" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.6" xref="S3.E2.m1.2.2.1.6.cmml">t</mi><mo id="S3.E2.m1.2.2.1.2c" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.7" xref="S3.E2.m1.2.2.1.7.cmml">m</mi><mo id="S3.E2.m1.2.2.1.2d" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.8" xref="S3.E2.m1.2.2.1.8.cmml">a</mi><mo id="S3.E2.m1.2.2.1.2e" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mi id="S3.E2.m1.2.2.1.9" xref="S3.E2.m1.2.2.1.9.cmml">x</mi><mo id="S3.E2.m1.2.2.1.2f" xref="S3.E2.m1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E2.m1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.3.2.cmml">W</mi><mi id="S3.E2.m1.2.2.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.3.3.cmml">g</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S3.E2.m1.2.2.1.1.1.1.2.cmml">⋅</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.3.cmml">t</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml">⊕</mo><msub id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.1.3" stretchy="false" xref="S3.E2.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2"><eq id="S3.E2.m1.2.2.2.cmml" xref="S3.E2.m1.2.2.2"></eq><apply id="S3.E2.m1.2.2.3.cmml" xref="S3.E2.m1.2.2.3"><times id="S3.E2.m1.2.2.3.1.cmml" xref="S3.E2.m1.2.2.3.1"></times><apply id="S3.E2.m1.2.2.3.2.cmml" xref="S3.E2.m1.2.2.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.3.2.1.cmml" xref="S3.E2.m1.2.2.3.2">subscript</csymbol><ci id="S3.E2.m1.2.2.3.2.2.cmml" xref="S3.E2.m1.2.2.3.2.2">𝐺</ci><ci id="S3.E2.m1.2.2.3.2.3.cmml" xref="S3.E2.m1.2.2.3.2.3">𝑡</ci></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑑</ci></apply><apply id="S3.E2.m1.2.2.1.cmml" xref="S3.E2.m1.2.2.1"><times id="S3.E2.m1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.2"></times><ci id="S3.E2.m1.2.2.1.3.cmml" xref="S3.E2.m1.2.2.1.3">𝑠</ci><ci id="S3.E2.m1.2.2.1.4.cmml" xref="S3.E2.m1.2.2.1.4">𝑜</ci><ci id="S3.E2.m1.2.2.1.5.cmml" xref="S3.E2.m1.2.2.1.5">𝑓</ci><ci id="S3.E2.m1.2.2.1.6.cmml" xref="S3.E2.m1.2.2.1.6">𝑡</ci><ci id="S3.E2.m1.2.2.1.7.cmml" xref="S3.E2.m1.2.2.1.7">𝑚</ci><ci id="S3.E2.m1.2.2.1.8.cmml" xref="S3.E2.m1.2.2.1.8">𝑎</ci><ci id="S3.E2.m1.2.2.1.9.cmml" xref="S3.E2.m1.2.2.1.9">𝑥</ci><apply id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1"><ci id="S3.E2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2">⋅</ci><apply id="S3.E2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2">𝑊</ci><ci id="S3.E2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.3">𝑔</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1">direct-sum</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.2">𝑒</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.3">𝑑</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">G_{t}(d)=softmax(W_{g}\cdot(x_{t}\oplus e_{d}))</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.2d">italic_G start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_d ) = italic_s italic_o italic_f italic_t italic_m italic_a italic_x ( italic_W start_POSTSUBSCRIPT italic_g end_POSTSUBSCRIPT ⋅ ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⊕ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>Domain randomization</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.1">As discussed above, our training data includes several given domains, as well as a large generic domain.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.1">In practice, we would like to rely on the <span class="ltx_text ltx_font_italic" id="S3.SS3.p2.1.1">generic</span> domain to translate text from unseen domains. In order to make the <span class="ltx_text ltx_font_italic" id="S3.SS3.p2.1.2">generic</span> domain representation more robust to unseen domains, we introduce <span class="ltx_text ltx_font_italic" id="S3.SS3.p2.1.3">domain randomization</span> during training.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.2">It consists in randomly assigning training examples from well-defined domains to the <span class="ltx_text ltx_font_italic" id="S3.SS3.p3.2.1">generic</span> domain, with some probability <math alttext="p" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><mi id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">italic_p</annotation></semantics></math>. In our experiments, we use <math alttext="p=0.5" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><mrow id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml">p</mi><mo id="S3.SS3.p3.2.m2.1.1.1" xref="S3.SS3.p3.2.m2.1.1.1.cmml">=</mo><mn id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><eq id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1.1"></eq><ci id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2">𝑝</ci><cn id="S3.SS3.p3.2.m2.1.1.3.cmml" type="float" xref="S3.SS3.p3.2.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">p=0.5</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_p = 0.5</annotation></semantics></math>.
We expect such randomization will allow the model to associate the generic tag with richer data samples and particularly to recognize situations when a test example is close to domains seen during training.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.1">By introducing domain randomization, we assume that using only a half of sampled data points from a domain is enough to train a small amount of domain-specific parameters (domain tags, embeddings, or domain-specific gating mechanism), and our experiments confirm this assumption: using domain randomization improves robustness without hurting performance on seen domains. Another assumption is that the model capacity is sufficient to accommodate all the seen domains and at the same time associate the generic domain with all the seen domains. This assumption is well aligned with the suggested model scaling.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental setup</h2>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Data.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.1">We experiment with the German-English (De-En), English-German (En-De) and English-French (En-Fr) translation directions.
All models are trained on a mix of generic data (Paracrawl, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib1" title="">1</a></cite>) and several <span class="ltx_text ltx_font_italic" id="S4.SS0.SSS0.Px1.p1.1.1">seen</span> domains: "Law", "Medical", "Ted", "Subtitles", and "Patents".
The selection of seen domains is motivated by having diverse domains of different sizes and having a pair of close domains, "Ted" and "Subtitles" (they both relate to spoken language). We also test the generalization capabilities of models on a set of <span class="ltx_text ltx_font_italic" id="S4.SS0.SSS0.Px1.p1.1.2">unseen</span> domains: "Flores", "IT", "Koran", "Patents (medical)", "Subtitles (Medical)", and "Medical abstracts".
The purpose of introducing the last three unseen domains is to test models’ capabilities to recognize unseen domains related to some seen domains ("Medical", "Patents", and "Subtitles").</p>
</div>
<div class="ltx_para" id="S4.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p2.1">We deduplicate train-test splits to avoid data contamination, i.e. that test data does not leak into training data. We provide further details about datasets in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1" title="Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Model hyperparameters.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.2">For De-En and En-Fr translation, we use standard Transformer Base hyperparameters from <cite class="ltx_cite ltx_citemacro_citet">Vaswani et al. [<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib29" title="">29</a>]</cite>: 6 encoder layers and 6 decoder layers, 8 heads, <math alttext="d_{model}=512" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS0.SSS0.Px2.p1.1.m1.1a"><mrow id="S4.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><msub id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml"><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.2" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.2.cmml">d</mi><mrow id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.cmml"><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.2" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.2.cmml">m</mi><mo id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.3" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.3.cmml">o</mi><mo id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1a" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.4" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.4.cmml">d</mi><mo id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1b" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.5" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.5.cmml">e</mi><mo id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1c" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.6" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.6.cmml">l</mi></mrow></msub><mo id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.1" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">512</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1"><eq id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.1"></eq><apply id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.2.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.2">𝑑</ci><apply id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3"><times id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.1"></times><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.2.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.2">𝑚</ci><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.3.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.3">𝑜</ci><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.4.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.4">𝑑</ci><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.5.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.5">𝑒</ci><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.6.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.3.6">𝑙</ci></apply></apply><cn id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3">512</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.1.m1.1c">d_{model}=512</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px2.p1.1.m1.1d">italic_d start_POSTSUBSCRIPT italic_m italic_o italic_d italic_e italic_l end_POSTSUBSCRIPT = 512</annotation></semantics></math>, and <math alttext="d_{ff}=2048" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS0.SSS0.Px2.p1.2.m2.1a"><mrow id="S4.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><msub id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml"><mi id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.2" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.2.cmml">d</mi><mrow id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.cmml"><mi id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.2" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.2.cmml">f</mi><mo id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.1" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.3" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.3.cmml">f</mi></mrow></msub><mo id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.1" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml">2048</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1"><eq id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.1"></eq><apply id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.2.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.2">𝑑</ci><apply id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3"><times id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.1"></times><ci id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.2.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.2">𝑓</ci><ci id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.3.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.3">𝑓</ci></apply></apply><cn id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" type="integer" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3">2048</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.2.m2.1c">d_{ff}=2048</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px2.p1.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_f italic_f end_POSTSUBSCRIPT = 2048</annotation></semantics></math>. For En-De, we test the applicability of SMoE for a shallow configuration with only 3 decoder layers, which was shown to be much faster at inference, with a negligible performance drop <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib4" title="">4</a>]</cite>. SMoE model uses 10 experts every second layer with top-2 token-level gating. Training details are given in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1" title="Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Models.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px3.p1.3">We consider two settings of multidomain NMT models: with access to the labels of seen domain and without it.
In the setting where domain labels are not used, we compare the commonly-used Transformer Base <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib29" title="">29</a>]</cite>, SMoE, and two additional dense variants: Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS0.SSS0.Px3.p1.1.m1.1a"><mo id="S4.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px3.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p1.1.m1.1b"><times id="S4.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px3.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px3.p1.1.m1.1d">×</annotation></semantics></math>1.5 (matches SMoE inference FLOPs SMoE)<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Since we place experts every second layer, the width only needs to be increased 1.5 times to reach the FLOPs of SMoE.</span></span></span> and Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px3.p1.2.m2.1"><semantics id="S4.SS0.SSS0.Px3.p1.2.m2.1a"><mo id="S4.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S4.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p1.2.m2.1b"><times id="S4.SS0.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px3.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p1.2.m2.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px3.p1.2.m2.1d">×</annotation></semantics></math>5 (matches total parameter count of SMoE).
By increasing width we mean increasing <math alttext="d_{ff}" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px3.p1.3.m3.1"><semantics id="S4.SS0.SSS0.Px3.p1.3.m3.1a"><msub id="S4.SS0.SSS0.Px3.p1.3.m3.1.1" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.2" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.2.cmml">d</mi><mrow id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.cmml"><mi id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.2" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.2.cmml">f</mi><mo id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.1" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.3" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.3.cmml">f</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p1.3.m3.1b"><apply id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.2">𝑑</ci><apply id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3"><times id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.1.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.1"></times><ci id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.2.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.2">𝑓</ci><ci id="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.3.cmml" xref="S4.SS0.SSS0.Px3.p1.3.m3.1.1.3.3">𝑓</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p1.3.m3.1c">d_{ff}</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px3.p1.3.m3.1d">italic_d start_POSTSUBSCRIPT italic_f italic_f end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS0.SSS0.Px3.p2">
<p class="ltx_p" id="S4.SS0.SSS0.Px3.p2.1">In the setting with domain labels being available during both training and inference, we compare three ways of utilizing domain information in SMoE (see Section <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3" title="3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">3</span></a>) with and without proposed domain randomization, and two commonly used baselines: Transformer with domain tags and Transformer with domain adapters. We treat domain adapters as domain-specific parameters and train them together with the rest of model parameters. We set the adapter dimension to <math alttext="2048" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px3.p2.1.m1.1"><semantics id="S4.SS0.SSS0.Px3.p2.1.m1.1a"><mn id="S4.SS0.SSS0.Px3.p2.1.m1.1.1" xref="S4.SS0.SSS0.Px3.p2.1.m1.1.1.cmml">2048</mn><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px3.p2.1.m1.1b"><cn id="S4.SS0.SSS0.Px3.p2.1.m1.1.1.cmml" type="integer" xref="S4.SS0.SSS0.Px3.p2.1.m1.1.1">2048</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px3.p2.1.m1.1c">2048</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px3.p2.1.m1.1d">2048</annotation></semantics></math>, to match the number of inference FLOPs and parameters with SMoE. The number of parameters is matched because the number of experts we use equals the number of seen domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Evaluation.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px4.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px4.p1.1">For each model, we report BLEU scores measured with SacreBLEU in the main text and COMET scores in Appendix, as well as inference FLOPs and the number of parameters. To estimate the number of floating point operations (FLOPs), we count matrix multiplications in the forward pass, assuming source and target sequence lengths of 10.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T1.8">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.8.9.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S4.T1.8.9.1.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.9.1.1.1">
<span class="ltx_p" id="S4.T1.8.9.1.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.1.1.1.1" style="font-size:90%;">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.2"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.2.1" style="font-size:90%;">#Params</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.8.9.1.3"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.3.1" style="font-size:90%;">FLOPs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.4.1" style="font-size:90%;">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.5.1" style="font-size:90%;">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.6.1" style="font-size:90%;">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.7.1" style="font-size:90%;">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.8.9.1.8"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.8.1" style="font-size:90%;">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.8.9.1.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.9.1.9.1" style="font-size:90%;">Avg</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.10.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="9" id="S4.T1.8.10.2.1"><span class="ltx_text" id="S4.T1.8.10.2.1.1" style="font-size:90%;">Without access to seen domains labels</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.11.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T1.8.11.3.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.11.3.1.1">
<span class="ltx_p" id="S4.T1.8.11.3.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.11.3.1.1.1.1" style="font-size:90%;">(1)</span><span class="ltx_text" id="S4.T1.8.11.3.1.1.1.2" style="font-size:90%;"> Transformer Base (TB)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.2"><span class="ltx_text" id="S4.T1.8.11.3.2.1" style="font-size:90%;">56M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.8.11.3.3"><span class="ltx_text" id="S4.T1.8.11.3.3.1" style="font-size:90%;">0.44B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.4"><span class="ltx_text" id="S4.T1.8.11.3.4.1" style="font-size:90%;">52.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.5"><span class="ltx_text" id="S4.T1.8.11.3.5.1" style="font-size:90%;">47.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.11.3.6.1" style="font-size:90%;">40.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.7"><span class="ltx_text" id="S4.T1.8.11.3.7.1" style="font-size:90%;">29.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.8.11.3.8"><span class="ltx_text" id="S4.T1.8.11.3.8.1" style="font-size:90%;">31.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.11.3.9"><span class="ltx_text" id="S4.T1.8.11.3.9.1" style="font-size:90%;">40.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.2.2.2.2">
<span class="ltx_p" id="S4.T1.2.2.2.2.2" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.2.2.2.2.2.1" style="font-size:90%;">(2)</span><span class="ltx_text" id="S4.T1.2.2.2.2.2.2" style="font-size:90%;"> Transformer width </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.1.1.1.1.1.m1.1"><semantics id="S4.T1.1.1.1.1.1.m1.1a"><mo id="S4.T1.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.1.1.1.1.1.m1.1b"><times id="S4.T1.1.1.1.1.1.m1.1.1.cmml" xref="S4.T1.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.1.1.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.2.2.2.2.2.3" style="font-size:90%;">1.5</span><sup class="ltx_sup" id="S4.T1.2.2.2.2.2.4"><span class="ltx_text" id="S4.T1.2.2.2.2.2.4.1" style="font-size:90%;">∗</span></sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.3"><span class="ltx_text" id="S4.T1.2.2.3.1" style="font-size:90%;">69M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.2.2.4"><span class="ltx_text" id="S4.T1.2.2.4.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.5"><span class="ltx_text" id="S4.T1.2.2.5.1" style="font-size:90%;">52.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.6"><span class="ltx_text" id="S4.T1.2.2.6.1" style="font-size:90%;">48.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.7"><span class="ltx_text" id="S4.T1.2.2.7.1" style="font-size:90%;">41.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.8"><span class="ltx_text" id="S4.T1.2.2.8.1" style="font-size:90%;">29.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.2.2.9"><span class="ltx_text" id="S4.T1.2.2.9.1" style="font-size:90%;">31.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.2.2.10"><span class="ltx_text" id="S4.T1.2.2.10.1" style="font-size:90%;">40.6</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.3.3.1.1">
<span class="ltx_p" id="S4.T1.3.3.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.1.1.1.1" style="font-size:90%;">(3)</span><span class="ltx_text" id="S4.T1.3.3.1.1.1.2" style="font-size:90%;"> Transformer width </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.3.3.1.1.1.m1.1"><semantics id="S4.T1.3.3.1.1.1.m1.1a"><mo id="S4.T1.3.3.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.3.1.1.1.m1.1b"><times id="S4.T1.3.3.1.1.1.m1.1.1.cmml" xref="S4.T1.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.3.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.3.3.1.1.1.3" style="font-size:90%;">5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.2"><span class="ltx_text" id="S4.T1.3.3.2.1" style="font-size:90%;">160M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.3.3.3"><span class="ltx_text" id="S4.T1.3.3.3.1" style="font-size:90%;">1.44B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.4"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.4.1" style="font-size:90%;">54.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.5"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.5.1" style="font-size:90%;">49.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.6"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.6.1" style="font-size:90%;">42.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.7"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.7.1" style="font-size:90%;">30.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.3.3.8"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.8.1" style="font-size:90%;">32.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.3.3.9"><span class="ltx_text ltx_font_bold" id="S4.T1.3.3.9.1" style="font-size:90%;">41.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.12.4">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.12.4.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.12.4.1.1">
<span class="ltx_p" id="S4.T1.8.12.4.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.1.1.1.1" style="font-size:90%;">(4)</span><span class="ltx_text" id="S4.T1.8.12.4.1.1.1.2" style="font-size:90%;"> Mixture of Experts (SMoE)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.2"><span class="ltx_text" id="S4.T1.8.12.4.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.12.4.3"><span class="ltx_text" id="S4.T1.8.12.4.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.4.1" style="font-size:90%;">54.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.5.1" style="font-size:90%;">49.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.6.1" style="font-size:90%;">41.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.7"><span class="ltx_text" id="S4.T1.8.12.4.7.1" style="font-size:90%;">29.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.12.4.8"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.8.1" style="font-size:90%;">32.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.12.4.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.12.4.9.1" style="font-size:90%;">41.7</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.13.5">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="9" id="S4.T1.8.13.5.1"><span class="ltx_text" id="S4.T1.8.13.5.1.1" style="font-size:90%;">With access to seen domains labels</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.14.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T1.8.14.6.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.14.6.1.1">
<span class="ltx_p" id="S4.T1.8.14.6.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.14.6.1.1.1.1" style="font-size:90%;">(5)</span><span class="ltx_text" id="S4.T1.8.14.6.1.1.1.2" style="font-size:90%;"> TB + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.2"><span class="ltx_text" id="S4.T1.8.14.6.2.1" style="font-size:90%;">56M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.8.14.6.3"><span class="ltx_text" id="S4.T1.8.14.6.3.1" style="font-size:90%;">0.44B</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.14.6.4.1" style="font-size:90%;">52.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.5"><span class="ltx_text" id="S4.T1.8.14.6.5.1" style="font-size:90%;">47.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.14.6.6.1" style="font-size:90%;">42.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.7"><span class="ltx_text" id="S4.T1.8.14.6.7.1" style="font-size:90%;">29.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.8.14.6.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.14.6.8.1" style="font-size:90%;">32.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.8.14.6.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.14.6.9.1" style="font-size:90%;">40.7</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.15.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.15.7.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.15.7.1.1">
<span class="ltx_p" id="S4.T1.8.15.7.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.15.7.1.1.1.1" style="font-size:90%;">(6)</span><span class="ltx_text" id="S4.T1.8.15.7.1.1.1.2" style="font-size:90%;"> TB + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.2"><span class="ltx_text" id="S4.T1.8.15.7.2.1" style="font-size:90%;">56M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.15.7.3"><span class="ltx_text" id="S4.T1.8.15.7.3.1" style="font-size:90%;">0.44B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.15.7.4.1" style="font-size:90%;">52.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.5"><span class="ltx_text" id="S4.T1.8.15.7.5.1" style="font-size:90%;">47.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.15.7.6.1" style="font-size:90%;">42.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.7"><span class="ltx_text" id="S4.T1.8.15.7.7.1" style="font-size:90%;">29.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.15.7.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.15.7.8.1" style="font-size:90%;">31.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.15.7.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.15.7.9.1" style="font-size:90%;">40.7</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.5.5.2.2">
<span class="ltx_p" id="S4.T1.5.5.2.2.2" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.5.5.2.2.2.1" style="font-size:90%;">(7)</span><span class="ltx_text" id="S4.T1.5.5.2.2.2.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.4.4.1.1.1.m1.1"><semantics id="S4.T1.4.4.1.1.1.m1.1a"><mo id="S4.T1.4.4.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.4.1.1.1.m1.1b"><times id="S4.T1.4.4.1.1.1.m1.1.1.cmml" xref="S4.T1.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.4.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.5.5.2.2.2.3" style="font-size:90%;">1.5 + domain tags</span><sup class="ltx_sup" id="S4.T1.5.5.2.2.2.4"><span class="ltx_text" id="S4.T1.5.5.2.2.2.4.1" style="font-size:90%;">∗</span></sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.3"><span class="ltx_text" id="S4.T1.5.5.3.1" style="font-size:90%;">69M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.5.5.4"><span class="ltx_text" id="S4.T1.5.5.4.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.5"><span class="ltx_text" id="S4.T1.5.5.5.1" style="font-size:90%;">52.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.6"><span class="ltx_text" id="S4.T1.5.5.6.1" style="font-size:90%;">48.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.7"><span class="ltx_text" id="S4.T1.5.5.7.1" style="font-size:90%;">42.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.8"><span class="ltx_text" id="S4.T1.5.5.8.1" style="font-size:90%;">29.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.5.5.9"><span class="ltx_text" id="S4.T1.5.5.9.1" style="font-size:90%;">32.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.5.5.10"><span class="ltx_text" id="S4.T1.5.5.10.1" style="font-size:90%;">41.1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.6.6.1.1">
<span class="ltx_p" id="S4.T1.6.6.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.6.6.1.1.1.1" style="font-size:90%;">(8)</span><span class="ltx_text" id="S4.T1.6.6.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.6.6.1.1.1.m1.1"><semantics id="S4.T1.6.6.1.1.1.m1.1a"><mo id="S4.T1.6.6.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.6.6.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.6.6.1.1.1.m1.1b"><times id="S4.T1.6.6.1.1.1.m1.1.1.cmml" xref="S4.T1.6.6.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.6.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.6.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.6.6.1.1.1.3" style="font-size:90%;">1.5 + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.2"><span class="ltx_text" id="S4.T1.6.6.2.1" style="font-size:90%;">69M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.6.6.3"><span class="ltx_text" id="S4.T1.6.6.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.4"><span class="ltx_text" id="S4.T1.6.6.4.1" style="font-size:90%;">52.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.5"><span class="ltx_text" id="S4.T1.6.6.5.1" style="font-size:90%;">48.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.6"><span class="ltx_text" id="S4.T1.6.6.6.1" style="font-size:90%;">42.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.7"><span class="ltx_text" id="S4.T1.6.6.7.1" style="font-size:90%;">29.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.6.6.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.6.6.8.1" style="font-size:90%;">32.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.6.6.9"><span class="ltx_text" id="S4.T1.6.6.9.1" style="font-size:90%;">41.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.7.7.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.7.7.1.1">
<span class="ltx_p" id="S4.T1.7.7.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.7.7.1.1.1.1" style="font-size:90%;">(9)</span><span class="ltx_text" id="S4.T1.7.7.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.7.7.1.1.1.m1.1"><semantics id="S4.T1.7.7.1.1.1.m1.1a"><mo id="S4.T1.7.7.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.7.7.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.7.7.1.1.1.m1.1b"><times id="S4.T1.7.7.1.1.1.m1.1.1.cmml" xref="S4.T1.7.7.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.7.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.7.7.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.7.7.1.1.1.3" style="font-size:90%;">5 + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.2"><span class="ltx_text" id="S4.T1.7.7.2.1" style="font-size:90%;">160M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.7.3"><span class="ltx_text" id="S4.T1.7.7.3.1" style="font-size:90%;">1.44B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.4"><span class="ltx_text ltx_font_bold" id="S4.T1.7.7.4.1" style="font-size:90%;">54.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.5"><span class="ltx_text ltx_font_bold" id="S4.T1.7.7.5.1" style="font-size:90%;">50.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.6"><span class="ltx_text" id="S4.T1.7.7.6.1" style="font-size:90%;">43.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.7"><span class="ltx_text ltx_font_bold" id="S4.T1.7.7.7.1" style="font-size:90%;">30.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.7.8"><span class="ltx_text" id="S4.T1.7.7.8.1" style="font-size:90%;">32.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.7.9"><span class="ltx_text ltx_font_bold" id="S4.T1.7.7.9.1" style="font-size:90%;">42.2</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.8.1.1">
<span class="ltx_p" id="S4.T1.8.8.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.1.1.1.1" style="font-size:90%;">(10)</span><span class="ltx_text" id="S4.T1.8.8.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.8.8.1.1.1.m1.1"><semantics id="S4.T1.8.8.1.1.1.m1.1a"><mo id="S4.T1.8.8.1.1.1.m1.1.1" mathsize="90%" xref="S4.T1.8.8.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.8.8.1.1.1.m1.1b"><times id="S4.T1.8.8.1.1.1.m1.1.1.cmml" xref="S4.T1.8.8.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.8.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.8.8.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T1.8.8.1.1.1.3" style="font-size:90%;">5 + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.2"><span class="ltx_text" id="S4.T1.8.8.2.1" style="font-size:90%;">160M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.8.3"><span class="ltx_text" id="S4.T1.8.8.3.1" style="font-size:90%;">1.44B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.4.1" style="font-size:90%;">54.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.5.1" style="font-size:90%;">49.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.6.1" style="font-size:90%;">43.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.7.1" style="font-size:90%;">31.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.8.8"><span class="ltx_text" id="S4.T1.8.8.8.1" style="font-size:90%;">32.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.8.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.8.9.1" style="font-size:90%;">42.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.16.8">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.16.8.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.16.8.1.1">
<span class="ltx_p" id="S4.T1.8.16.8.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.16.8.1.1.1.1" style="font-size:90%;">(11)</span><span class="ltx_text" id="S4.T1.8.16.8.1.1.1.2" style="font-size:90%;"> TB + domain adapters</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.2"><span class="ltx_text" id="S4.T1.8.16.8.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.16.8.3"><span class="ltx_text" id="S4.T1.8.16.8.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.16.8.4.1" style="font-size:90%;">55.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.16.8.5.1" style="font-size:90%;">50.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.16.8.6.1" style="font-size:90%;">38.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.16.8.7.1" style="font-size:90%;">28.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.16.8.8"><span class="ltx_text" id="S4.T1.8.16.8.8.1" style="font-size:90%;">32.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.16.8.9"><span class="ltx_text" id="S4.T1.8.16.8.9.1" style="font-size:90%;">41.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.17.9">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.17.9.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.17.9.1.1">
<span class="ltx_p" id="S4.T1.8.17.9.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.17.9.1.1.1.1" style="font-size:90%;">(12)</span><span class="ltx_text" id="S4.T1.8.17.9.1.1.1.2" style="font-size:90%;"> TB + domain adapters + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.2"><span class="ltx_text" id="S4.T1.8.17.9.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.17.9.3"><span class="ltx_text" id="S4.T1.8.17.9.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.4"><span class="ltx_text" id="S4.T1.8.17.9.4.1" style="font-size:90%;">52.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.5"><span class="ltx_text" id="S4.T1.8.17.9.5.1" style="font-size:90%;">48.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.17.9.6.1" style="font-size:90%;">40.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.17.9.7.1" style="font-size:90%;">28.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.17.9.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.17.9.8.1" style="font-size:90%;">32.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.17.9.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.8.17.9.9.1" style="font-size:90%;">40.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.18.10">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.18.10.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.18.10.1.1">
<span class="ltx_p" id="S4.T1.8.18.10.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.1.1.1.1" style="font-size:90%;">(13)</span><span class="ltx_text" id="S4.T1.8.18.10.1.1.1.2" style="font-size:90%;"> SMoE + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.2"><span class="ltx_text" id="S4.T1.8.18.10.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.18.10.3"><span class="ltx_text" id="S4.T1.8.18.10.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.4.1" style="font-size:90%;">54.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.5.1" style="font-size:90%;">50.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.6.1" style="font-size:90%;">43.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.7.1" style="font-size:90%;">30.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.18.10.8"><span class="ltx_text" id="S4.T1.8.18.10.8.1" style="font-size:90%;">32.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.18.10.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.18.10.9.1" style="font-size:90%;">42.1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.19.11">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.19.11.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.19.11.1.1">
<span class="ltx_p" id="S4.T1.8.19.11.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.1.1.1.1" style="font-size:90%;">(14)</span><span class="ltx_text" id="S4.T1.8.19.11.1.1.1.2" style="font-size:90%;"> SMoE + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.2"><span class="ltx_text" id="S4.T1.8.19.11.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.19.11.3"><span class="ltx_text" id="S4.T1.8.19.11.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.4.1" style="font-size:90%;">54.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.5.1" style="font-size:90%;">50.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.6.1" style="font-size:90%;">43.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.7.1" style="font-size:90%;">30.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.19.11.8"><span class="ltx_text" id="S4.T1.8.19.11.8.1" style="font-size:90%;">32.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.19.11.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.19.11.9.1" style="font-size:90%;">42.1</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.20.12">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.20.12.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.20.12.1.1">
<span class="ltx_p" id="S4.T1.8.20.12.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.20.12.1.1.1.1" style="font-size:90%;">(15)</span><span class="ltx_text" id="S4.T1.8.20.12.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Aware Gate</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.2"><span class="ltx_text" id="S4.T1.8.20.12.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.20.12.3"><span class="ltx_text" id="S4.T1.8.20.12.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.20.12.4.1" style="font-size:90%;">54.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.20.12.5.1" style="font-size:90%;">50.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.20.12.6.1" style="font-size:90%;">43.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.7"><span class="ltx_text" id="S4.T1.8.20.12.7.1" style="font-size:90%;">30.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.20.12.8"><span class="ltx_text" id="S4.T1.8.20.12.8.1" style="font-size:90%;">32.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.20.12.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.20.12.9.1" style="font-size:90%;">42.2</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.21.13">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.21.13.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.21.13.1.1">
<span class="ltx_p" id="S4.T1.8.21.13.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.1.1.1.1" style="font-size:90%;">(16)</span><span class="ltx_text" id="S4.T1.8.21.13.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Aware Gate + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.2"><span class="ltx_text" id="S4.T1.8.21.13.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.21.13.3"><span class="ltx_text" id="S4.T1.8.21.13.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.4.1" style="font-size:90%;">54.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.5.1" style="font-size:90%;">50.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.6.1" style="font-size:90%;">43.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.7.1" style="font-size:90%;">30.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.21.13.8"><span class="ltx_text" id="S4.T1.8.21.13.8.1" style="font-size:90%;">32.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.21.13.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.21.13.9.1" style="font-size:90%;">42.2</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.22.14">
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T1.8.22.14.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.22.14.1.1">
<span class="ltx_p" id="S4.T1.8.22.14.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.22.14.1.1.1.1" style="font-size:90%;">(17)</span><span class="ltx_text" id="S4.T1.8.22.14.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Spec. Gate</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.2"><span class="ltx_text" id="S4.T1.8.22.14.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.22.14.3"><span class="ltx_text" id="S4.T1.8.22.14.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.22.14.4.1" style="font-size:90%;">54.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.22.14.5.1" style="font-size:90%;">50.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.6"><span class="ltx_text" id="S4.T1.8.22.14.6.1" style="font-size:90%;">42.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.7"><span class="ltx_text" id="S4.T1.8.22.14.7.1" style="font-size:90%;">30.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.8.22.14.8"><span class="ltx_text" id="S4.T1.8.22.14.8.1" style="font-size:90%;">32.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.8.22.14.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.22.14.9.1" style="font-size:90%;">42.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.23.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T1.8.23.15.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.23.15.1.1">
<span class="ltx_p" id="S4.T1.8.23.15.1.1.1" style="width:142.3pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.1.1.1.1" style="font-size:90%;">(18)</span><span class="ltx_text" id="S4.T1.8.23.15.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Spec. Gate + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.2"><span class="ltx_text" id="S4.T1.8.23.15.2.1" style="font-size:90%;">170M</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.8.23.15.3"><span class="ltx_text" id="S4.T1.8.23.15.3.1" style="font-size:90%;">0.57B</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.4"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.4.1" style="font-size:90%;">54.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.5"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.5.1" style="font-size:90%;">49.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.6"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.6.1" style="font-size:90%;">43.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.7"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.7.1" style="font-size:90%;">30.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.8.23.15.8"><span class="ltx_text" id="S4.T1.8.23.15.8.1" style="font-size:90%;">32.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.8.23.15.9"><span class="ltx_text ltx_font_bold" id="S4.T1.8.23.15.9.1" style="font-size:90%;">42.2</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>BLEU scores for seen domains, German-English translation. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="S4.T1.18.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.12.m1.1"><semantics id="S4.T1.12.m1.1b"><mo id="S4.T1.12.m1.1.1" xref="S4.T1.12.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.12.m1.1c"><times id="S4.T1.12.m1.1.1.cmml" xref="S4.T1.12.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.12.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.12.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="S4.T1.13.m2.1"><semantics id="S4.T1.13.m2.1b"><mo id="S4.T1.13.m2.1.1" xref="S4.T1.13.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T1.13.m2.1c"><times id="S4.T1.13.m2.1.1.cmml" xref="S4.T1.13.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.13.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T1.13.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="S4.T1.19.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.20.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S4.T2.8">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.8.9.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="S4.T2.8.9.1.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.1.1">
<span class="ltx_p" id="S4.T2.8.9.1.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.1.1.1.1" style="font-size:90%;">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.8.9.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.2.1" style="font-size:90%;">Flores</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.8.9.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.3.1" style="font-size:90%;">IT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.8.9.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.4.1" style="font-size:90%;">Koran</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S4.T2.8.9.1.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.5.1">
<span class="ltx_p" id="S4.T2.8.9.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.5.1.1.1" style="font-size:90%;">Pat (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S4.T2.8.9.1.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.6.1">
<span class="ltx_p" id="S4.T2.8.9.1.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.6.1.1.1" style="font-size:90%;">Subt (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="S4.T2.8.9.1.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.9.1.7.1">
<span class="ltx_p" id="S4.T2.8.9.1.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.7.1.1.1" style="font-size:90%;">Med abst</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T2.8.9.1.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.9.1.8.1" style="font-size:90%;">Avg</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.10.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="8" id="S4.T2.8.10.2.1"><span class="ltx_text" id="S4.T2.8.10.2.1.1" style="font-size:90%;">Without access to seen domains labels</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.11.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S4.T2.8.11.3.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.11.3.1.1">
<span class="ltx_p" id="S4.T2.8.11.3.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.11.3.1.1.1.1" style="font-size:90%;">(1)</span><span class="ltx_text" id="S4.T2.8.11.3.1.1.1.2" style="font-size:90%;"> Transformer Base (TB)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.11.3.2"><span class="ltx_text" id="S4.T2.8.11.3.2.1" style="font-size:90%;">41.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.11.3.3"><span class="ltx_text" id="S4.T2.8.11.3.3.1" style="font-size:90%;">34.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.11.3.4"><span class="ltx_text" id="S4.T2.8.11.3.4.1" style="font-size:90%;">14.0</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.8.11.3.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.11.3.5.1">
<span class="ltx_p" id="S4.T2.8.11.3.5.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.11.3.5.1.1.1" style="font-size:90%;">35.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.8.11.3.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.11.3.6.1">
<span class="ltx_p" id="S4.T2.8.11.3.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.11.3.6.1.1.1" style="font-size:90%;">37.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S4.T2.8.11.3.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.11.3.7.1">
<span class="ltx_p" id="S4.T2.8.11.3.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.11.3.7.1.1.1" style="font-size:90%;">16.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.11.3.8"><span class="ltx_text" id="S4.T2.8.11.3.8.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.2.2">
<span class="ltx_p" id="S4.T2.2.2.2.2.2" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.2.2.2.2.2.1" style="font-size:90%;">(2)</span><span class="ltx_text" id="S4.T2.2.2.2.2.2.2" style="font-size:90%;"> Transformer width </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.1.m1.1"><semantics id="S4.T2.1.1.1.1.1.m1.1a"><mo id="S4.T2.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.1.m1.1b"><times id="S4.T2.1.1.1.1.1.m1.1.1.cmml" xref="S4.T2.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.2.2.2.2.2.3" style="font-size:90%;">1.5</span><sup class="ltx_sup" id="S4.T2.2.2.2.2.2.4"><span class="ltx_text" id="S4.T2.2.2.2.2.2.4.1" style="font-size:90%;">∗</span></sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.3"><span class="ltx_text" id="S4.T2.2.2.3.1" style="font-size:90%;">41.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.4"><span class="ltx_text" id="S4.T2.2.2.4.1" style="font-size:90%;">34.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.5"><span class="ltx_text" id="S4.T2.2.2.5.1" style="font-size:90%;">13.9</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.6.1">
<span class="ltx_p" id="S4.T2.2.2.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.2.2.6.1.1.1" style="font-size:90%;">36.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.2.2.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.7.1">
<span class="ltx_p" id="S4.T2.2.2.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.2.2.7.1.1.1" style="font-size:90%;">37.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.2.2.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.2.2.8.1">
<span class="ltx_p" id="S4.T2.2.2.8.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.2.2.8.1.1.1" style="font-size:90%;">16.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.2.2.9"><span class="ltx_text" id="S4.T2.2.2.9.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.1.1">
<span class="ltx_p" id="S4.T2.3.3.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.1.1.1.1" style="font-size:90%;">(3)</span><span class="ltx_text" id="S4.T2.3.3.1.1.1.2" style="font-size:90%;"> Transformer width </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.3.3.1.1.1.m1.1"><semantics id="S4.T2.3.3.1.1.1.m1.1a"><mo id="S4.T2.3.3.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.1.1.1.m1.1b"><times id="S4.T2.3.3.1.1.1.m1.1.1.cmml" xref="S4.T2.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.3.3.1.1.1.3" style="font-size:90%;">5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.2"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.2.1" style="font-size:90%;">41.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.3"><span class="ltx_text" id="S4.T2.3.3.3.1" style="font-size:90%;">34.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.4"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.4.1" style="font-size:90%;">14.5</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.5.1">
<span class="ltx_p" id="S4.T2.3.3.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.5.1.1.1" style="font-size:90%;">36.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.3.3.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.6.1">
<span class="ltx_p" id="S4.T2.3.3.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.6.1.1.1" style="font-size:90%;">38.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.3.3.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.3.3.7.1">
<span class="ltx_p" id="S4.T2.3.3.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.3.3.7.1.1.1" style="font-size:90%;">16.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.3.3.8"><span class="ltx_text ltx_font_bold" id="S4.T2.3.3.8.1" style="font-size:90%;">30.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.12.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.12.4.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.12.4.1.1">
<span class="ltx_p" id="S4.T2.8.12.4.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.12.4.1.1.1.1" style="font-size:90%;">(4)</span><span class="ltx_text" id="S4.T2.8.12.4.1.1.1.2" style="font-size:90%;"> Mixture of Experts (SMoE)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.12.4.2"><span class="ltx_text ltx_font_bold" id="S4.T2.8.12.4.2.1" style="font-size:90%;">41.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.12.4.3"><span class="ltx_text" id="S4.T2.8.12.4.3.1" style="font-size:90%;">34.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.12.4.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.12.4.4.1" style="font-size:90%;">14.7</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.12.4.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.12.4.5.1">
<span class="ltx_p" id="S4.T2.8.12.4.5.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.12.4.5.1.1.1" style="font-size:90%;">35.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.12.4.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.12.4.6.1">
<span class="ltx_p" id="S4.T2.8.12.4.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.12.4.6.1.1.1" style="font-size:90%;">38.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.12.4.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.12.4.7.1">
<span class="ltx_p" id="S4.T2.8.12.4.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.12.4.7.1.1.1" style="font-size:90%;">16.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.12.4.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.12.4.8.1" style="font-size:90%;">30.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.13.5">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="8" id="S4.T2.8.13.5.1"><span class="ltx_text" id="S4.T2.8.13.5.1.1" style="font-size:90%;">With access to seen domains labels</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.14.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S4.T2.8.14.6.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.14.6.1.1">
<span class="ltx_p" id="S4.T2.8.14.6.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.14.6.1.1.1.1" style="font-size:90%;">(5)</span><span class="ltx_text" id="S4.T2.8.14.6.1.1.1.2" style="font-size:90%;"> TB + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.14.6.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.14.6.2.1" style="font-size:90%;">40.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.14.6.3"><span class="ltx_text" id="S4.T2.8.14.6.3.1" style="font-size:90%;">33.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.14.6.4"><span class="ltx_text" id="S4.T2.8.14.6.4.1" style="font-size:90%;">13.7</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.8.14.6.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.14.6.5.1">
<span class="ltx_p" id="S4.T2.8.14.6.5.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.14.6.5.1.1.1" style="font-size:90%;">34.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S4.T2.8.14.6.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.14.6.6.1">
<span class="ltx_p" id="S4.T2.8.14.6.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.14.6.6.1.1.1" style="font-size:90%;">34.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S4.T2.8.14.6.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.14.6.7.1">
<span class="ltx_p" id="S4.T2.8.14.6.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.14.6.7.1.1.1" style="font-size:90%;">16.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.8.14.6.8"><span class="ltx_text" id="S4.T2.8.14.6.8.1" style="font-size:90%;">29.0</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.15.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.15.7.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.15.7.1.1">
<span class="ltx_p" id="S4.T2.8.15.7.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.15.7.1.1.1.1" style="font-size:90%;">(6)</span><span class="ltx_text" id="S4.T2.8.15.7.1.1.1.2" style="font-size:90%;"> TB + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.15.7.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.15.7.2.1" style="font-size:90%;">40.4</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.15.7.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.15.7.3.1" style="font-size:90%;">32.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.15.7.4"><span class="ltx_text" id="S4.T2.8.15.7.4.1" style="font-size:90%;">13.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.15.7.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.15.7.5.1">
<span class="ltx_p" id="S4.T2.8.15.7.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.15.7.5.1.1.1" style="font-size:90%;">35.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.15.7.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.15.7.6.1">
<span class="ltx_p" id="S4.T2.8.15.7.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.15.7.6.1.1.1" style="font-size:90%;">36.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.15.7.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.15.7.7.1">
<span class="ltx_p" id="S4.T2.8.15.7.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.15.7.7.1.1.1" style="font-size:90%;">16.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.15.7.8"><span class="ltx_text" id="S4.T2.8.15.7.8.1" style="font-size:90%;">29.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.2.2">
<span class="ltx_p" id="S4.T2.5.5.2.2.2" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.5.5.2.2.2.1" style="font-size:90%;">(7)</span><span class="ltx_text" id="S4.T2.5.5.2.2.2.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.4.4.1.1.1.m1.1"><semantics id="S4.T2.4.4.1.1.1.m1.1a"><mo id="S4.T2.4.4.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.1.1.1.m1.1b"><times id="S4.T2.4.4.1.1.1.m1.1.1.cmml" xref="S4.T2.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.5.5.2.2.2.3" style="font-size:90%;">1.5 + domain tags</span><sup class="ltx_sup" id="S4.T2.5.5.2.2.2.4"><span class="ltx_text" id="S4.T2.5.5.2.2.2.4.1" style="font-size:90%;">∗</span></sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.3"><span class="ltx_text" id="S4.T2.5.5.3.1" style="font-size:90%;">41.3</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.4"><span class="ltx_text" id="S4.T2.5.5.4.1" style="font-size:90%;">33.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.5"><span class="ltx_text" id="S4.T2.5.5.5.1" style="font-size:90%;">13.9</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.5.5.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.6.1">
<span class="ltx_p" id="S4.T2.5.5.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.5.5.6.1.1.1" style="font-size:90%;">34.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.5.5.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.7.1">
<span class="ltx_p" id="S4.T2.5.5.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.5.5.7.1.1.1" style="font-size:90%;">35.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.5.5.8">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.5.5.8.1">
<span class="ltx_p" id="S4.T2.5.5.8.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.5.5.8.1.1.1" style="font-size:90%;">17.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.5.5.9"><span class="ltx_text" id="S4.T2.5.5.9.1" style="font-size:90%;">29.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.1.1">
<span class="ltx_p" id="S4.T2.6.6.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.6.6.1.1.1.1" style="font-size:90%;">(8)</span><span class="ltx_text" id="S4.T2.6.6.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.6.6.1.1.1.m1.1"><semantics id="S4.T2.6.6.1.1.1.m1.1a"><mo id="S4.T2.6.6.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.6.6.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.1.1.1.m1.1b"><times id="S4.T2.6.6.1.1.1.m1.1.1.cmml" xref="S4.T2.6.6.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.6.6.1.1.1.3" style="font-size:90%;">1.5 + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.2"><span class="ltx_text" id="S4.T2.6.6.2.1" style="font-size:90%;">41.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.3"><span class="ltx_text" id="S4.T2.6.6.3.1" style="font-size:90%;">33.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.4"><span class="ltx_text" id="S4.T2.6.6.4.1" style="font-size:90%;">14.0</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.5.1">
<span class="ltx_p" id="S4.T2.6.6.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.6.6.5.1.1.1" style="font-size:90%;">36.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.6.6.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.6.1">
<span class="ltx_p" id="S4.T2.6.6.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.6.6.6.1.1.1" style="font-size:90%;">38.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.6.6.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.6.6.7.1">
<span class="ltx_p" id="S4.T2.6.6.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.6.6.7.1.1.1" style="font-size:90%;">16.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.6.6.8"><span class="ltx_text ltx_font_bold" id="S4.T2.6.6.8.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.7.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.7.7.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.1.1">
<span class="ltx_p" id="S4.T2.7.7.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.7.7.1.1.1.1" style="font-size:90%;">(9)</span><span class="ltx_text" id="S4.T2.7.7.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.7.7.1.1.1.m1.1"><semantics id="S4.T2.7.7.1.1.1.m1.1a"><mo id="S4.T2.7.7.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.7.7.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.1.1.1.m1.1b"><times id="S4.T2.7.7.1.1.1.m1.1.1.cmml" xref="S4.T2.7.7.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.7.7.1.1.1.3" style="font-size:90%;">5 + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.7.7.2"><span class="ltx_text" id="S4.T2.7.7.2.1" style="font-size:90%;">41.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.7.7.3"><span class="ltx_text" id="S4.T2.7.7.3.1" style="font-size:90%;">34.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.7.7.4"><span class="ltx_text ltx_font_bold" id="S4.T2.7.7.4.1" style="font-size:90%;">14.9</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.5.1">
<span class="ltx_p" id="S4.T2.7.7.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.7.7.5.1.1.1" style="font-size:90%;">35.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.7.7.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.6.1">
<span class="ltx_p" id="S4.T2.7.7.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.7.7.6.1.1.1" style="font-size:90%;">35.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.7.7.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.7.7.7.1">
<span class="ltx_p" id="S4.T2.7.7.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.7.7.7.1.1.1" style="font-size:90%;">18.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.7.7.8"><span class="ltx_text ltx_font_bold" id="S4.T2.7.7.8.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.1.1">
<span class="ltx_p" id="S4.T2.8.8.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.1.1.1.1" style="font-size:90%;">(10)</span><span class="ltx_text" id="S4.T2.8.8.1.1.1.2" style="font-size:90%;"> Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.8.8.1.1.1.m1.1"><semantics id="S4.T2.8.8.1.1.1.m1.1a"><mo id="S4.T2.8.8.1.1.1.m1.1.1" mathsize="90%" xref="S4.T2.8.8.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.1.1.1.m1.1b"><times id="S4.T2.8.8.1.1.1.m1.1.1.cmml" xref="S4.T2.8.8.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S4.T2.8.8.1.1.1.3" style="font-size:90%;">5 + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.2"><span class="ltx_text" id="S4.T2.8.8.2.1" style="font-size:90%;">41.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.3.1" style="font-size:90%;">34.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.4.1" style="font-size:90%;">14.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.8.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.5.1">
<span class="ltx_p" id="S4.T2.8.8.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.5.1.1.1" style="font-size:90%;">36.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.8.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.6.1">
<span class="ltx_p" id="S4.T2.8.8.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.6.1.1.1" style="font-size:90%;">38.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.8.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.8.7.1">
<span class="ltx_p" id="S4.T2.8.8.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.8.7.1.1.1" style="font-size:90%;">16.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.8.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.8.8.1" style="font-size:90%;">30.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.16.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.16.8.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.16.8.1.1">
<span class="ltx_p" id="S4.T2.8.16.8.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.16.8.1.1.1.1" style="font-size:90%;">(11)</span><span class="ltx_text" id="S4.T2.8.16.8.1.1.1.2" style="font-size:90%;"> TB + domain adapters</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.16.8.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.16.8.2.1" style="font-size:90%;">40.5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.16.8.3"><span class="ltx_text" id="S4.T2.8.16.8.3.1" style="font-size:90%;">34.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.16.8.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.16.8.4.1" style="font-size:90%;">14.2</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.16.8.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.16.8.5.1">
<span class="ltx_p" id="S4.T2.8.16.8.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.16.8.5.1.1.1" style="font-size:90%;">31.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.16.8.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.16.8.6.1">
<span class="ltx_p" id="S4.T2.8.16.8.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.16.8.6.1.1.1" style="font-size:90%;">33.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.16.8.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.16.8.7.1">
<span class="ltx_p" id="S4.T2.8.16.8.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.16.8.7.1.1.1" style="font-size:90%;">17.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.16.8.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.16.8.8.1" style="font-size:90%;">28.5</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.17.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.17.9.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.17.9.1.1">
<span class="ltx_p" id="S4.T2.8.17.9.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.17.9.1.1.1.1" style="font-size:90%;">(12)</span><span class="ltx_text" id="S4.T2.8.17.9.1.1.1.2" style="font-size:90%;"> TB + domain adapters + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.17.9.2"><span class="ltx_text" id="S4.T2.8.17.9.2.1" style="font-size:90%;">41.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.17.9.3"><span class="ltx_text" id="S4.T2.8.17.9.3.1" style="font-size:90%;">33.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.17.9.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.17.9.4.1" style="font-size:90%;">14.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.17.9.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.17.9.5.1">
<span class="ltx_p" id="S4.T2.8.17.9.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.17.9.5.1.1.1" style="font-size:90%;">36.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.17.9.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.17.9.6.1">
<span class="ltx_p" id="S4.T2.8.17.9.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.17.9.6.1.1.1" style="font-size:90%;">37.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.17.9.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.17.9.7.1">
<span class="ltx_p" id="S4.T2.8.17.9.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.17.9.7.1.1.1" style="font-size:90%;">16.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.17.9.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.17.9.8.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.18.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.18.10.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.18.10.1.1">
<span class="ltx_p" id="S4.T2.8.18.10.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.18.10.1.1.1.1" style="font-size:90%;">(13)</span><span class="ltx_text" id="S4.T2.8.18.10.1.1.1.2" style="font-size:90%;"> SMoE + domain tags</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.18.10.2"><span class="ltx_text" id="S4.T2.8.18.10.2.1" style="font-size:90%;">41.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.18.10.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.18.10.3.1" style="font-size:90%;">34.9</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.18.10.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.18.10.4.1" style="font-size:90%;">14.9</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.18.10.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.18.10.5.1">
<span class="ltx_p" id="S4.T2.8.18.10.5.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.18.10.5.1.1.1" style="font-size:90%;">34.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.18.10.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.18.10.6.1">
<span class="ltx_p" id="S4.T2.8.18.10.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.18.10.6.1.1.1" style="font-size:90%;">35.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.18.10.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.18.10.7.1">
<span class="ltx_p" id="S4.T2.8.18.10.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.18.10.7.1.1.1" style="font-size:90%;">17.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.18.10.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.18.10.8.1" style="font-size:90%;">29.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.19.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.19.11.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.19.11.1.1">
<span class="ltx_p" id="S4.T2.8.19.11.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.1.1.1.1" style="font-size:90%;">(14)</span><span class="ltx_text" id="S4.T2.8.19.11.1.1.1.2" style="font-size:90%;"> SMoE + domain tags + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.19.11.2"><span class="ltx_text" id="S4.T2.8.19.11.2.1" style="font-size:90%;">41.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.19.11.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.3.1" style="font-size:90%;">34.7</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.19.11.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.4.1" style="font-size:90%;">15.4</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.19.11.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.19.11.5.1">
<span class="ltx_p" id="S4.T2.8.19.11.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.5.1.1.1" style="font-size:90%;">36.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.19.11.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.19.11.6.1">
<span class="ltx_p" id="S4.T2.8.19.11.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.6.1.1.1" style="font-size:90%;">38.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.19.11.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.19.11.7.1">
<span class="ltx_p" id="S4.T2.8.19.11.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.19.11.7.1.1.1" style="font-size:90%;">17.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.19.11.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.19.11.8.1" style="font-size:90%;">30.6</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.20.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.20.12.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.20.12.1.1">
<span class="ltx_p" id="S4.T2.8.20.12.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.20.12.1.1.1.1" style="font-size:90%;">(15)</span><span class="ltx_text" id="S4.T2.8.20.12.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Aware Gate</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.20.12.2"><span class="ltx_text" id="S4.T2.8.20.12.2.1" style="font-size:90%;">41.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.20.12.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.20.12.3.1" style="font-size:90%;">35.2</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.20.12.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.20.12.4.1" style="font-size:90%;">14.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.20.12.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.20.12.5.1">
<span class="ltx_p" id="S4.T2.8.20.12.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.20.12.5.1.1.1" style="font-size:90%;">31.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.20.12.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.20.12.6.1">
<span class="ltx_p" id="S4.T2.8.20.12.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.20.12.6.1.1.1" style="font-size:90%;">35.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.20.12.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.20.12.7.1">
<span class="ltx_p" id="S4.T2.8.20.12.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.20.12.7.1.1.1" style="font-size:90%;">16.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.20.12.8"><span class="ltx_text" id="S4.T2.8.20.12.8.1" style="font-size:90%;">29.3</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.21.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.21.13.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.21.13.1.1">
<span class="ltx_p" id="S4.T2.8.21.13.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.1.1.1.1" style="font-size:90%;">(16)</span><span class="ltx_text" id="S4.T2.8.21.13.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Aware Gate + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.21.13.2"><span class="ltx_text" id="S4.T2.8.21.13.2.1" style="font-size:90%;">41.8</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.21.13.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.3.1" style="font-size:90%;">35.1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.21.13.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.4.1" style="font-size:90%;">14.8</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.21.13.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.21.13.5.1">
<span class="ltx_p" id="S4.T2.8.21.13.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.5.1.1.1" style="font-size:90%;">36.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.21.13.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.21.13.6.1">
<span class="ltx_p" id="S4.T2.8.21.13.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.6.1.1.1" style="font-size:90%;">38.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.21.13.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.21.13.7.1">
<span class="ltx_p" id="S4.T2.8.21.13.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.21.13.7.1.1.1" style="font-size:90%;">16.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.21.13.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.21.13.8.1" style="font-size:90%;">30.4</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.22.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.22.14.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.22.14.1.1">
<span class="ltx_p" id="S4.T2.8.22.14.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.22.14.1.1.1.1" style="font-size:90%;">(17)</span><span class="ltx_text" id="S4.T2.8.22.14.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Spec. Gate</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.22.14.2"><span class="ltx_text" id="S4.T2.8.22.14.2.1" style="font-size:90%;">41.6</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.22.14.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.22.14.3.1" style="font-size:90%;">35.0</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.22.14.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.22.14.4.1" style="font-size:90%;">14.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.22.14.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.22.14.5.1">
<span class="ltx_p" id="S4.T2.8.22.14.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.22.14.5.1.1.1" style="font-size:90%;">30.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S4.T2.8.22.14.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.22.14.6.1">
<span class="ltx_p" id="S4.T2.8.22.14.6.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.22.14.6.1.1.1" style="font-size:90%;">35.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S4.T2.8.22.14.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.22.14.7.1">
<span class="ltx_p" id="S4.T2.8.22.14.7.1.1" style="width:28.5pt;"><span class="ltx_text" id="S4.T2.8.22.14.7.1.1.1" style="font-size:90%;">16.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="S4.T2.8.22.14.8"><span class="ltx_text" id="S4.T2.8.22.14.8.1" style="font-size:90%;">28.9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.23.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="S4.T2.8.23.15.1">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.23.15.1.1">
<span class="ltx_p" id="S4.T2.8.23.15.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.1.1.1.1" style="font-size:90%;">(18)</span><span class="ltx_text" id="S4.T2.8.23.15.1.1.1.2" style="font-size:90%;"> SMoE + Dom. Spec. Gate + DR</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.23.15.2"><span class="ltx_text" id="S4.T2.8.23.15.2.1" style="font-size:90%;">41.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.23.15.3"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.3.1" style="font-size:90%;">34.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.23.15.4"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.4.1" style="font-size:90%;">14.8</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.23.15.5">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.23.15.5.1">
<span class="ltx_p" id="S4.T2.8.23.15.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.5.1.1.1" style="font-size:90%;">36.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S4.T2.8.23.15.6">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.23.15.6.1">
<span class="ltx_p" id="S4.T2.8.23.15.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.6.1.1.1" style="font-size:90%;">38.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="S4.T2.8.23.15.7">
<span class="ltx_inline-block ltx_align_top" id="S4.T2.8.23.15.7.1">
<span class="ltx_p" id="S4.T2.8.23.15.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.8.23.15.7.1.1.1" style="font-size:90%;">16.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.8.23.15.8"><span class="ltx_text ltx_font_bold" id="S4.T2.8.23.15.8.1" style="font-size:90%;">30.3</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>BLEU scores for unseen domains, German-English translation. For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="S4.T2.18.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.12.m1.1"><semantics id="S4.T2.12.m1.1b"><mo id="S4.T2.12.m1.1.1" xref="S4.T2.12.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.12.m1.1c"><times id="S4.T2.12.m1.1.1.cmml" xref="S4.T2.12.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.12.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.12.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="S4.T2.13.m2.1"><semantics id="S4.T2.13.m2.1b"><mo id="S4.T2.13.m2.1.1" xref="S4.T2.13.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S4.T2.13.m2.1c"><times id="S4.T2.13.m2.1.1.cmml" xref="S4.T2.13.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.13.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="S4.T2.13.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="S4.T2.19.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T2.20.3">underline</span> denotes significant losses.</figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Results</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Study of scaling methods</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Tables <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T2" title="Table 2 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">2</span></a> report German-English results for seen and unseen domains respectively. In the Appendix, we present detailed results in the other translation directions (En-De and En-Fr) with the same conclusions.
Table <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.T3" title="Table 3 ‣ Are domain tags helpful? ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">3</span></a> summarizes results for these translation directions.</p>
</div>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Comparison of scaling approaches.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p1.1">We observe that <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px1.p1.1.1">the performance of SMoE is close to the performance of dense model with the same parameter count</span> (Transformer width x5), on both seen and unseen domains, in both settings with and without access to seen domains labels. Here we compare models <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.3">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> and <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.4">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.5">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> which correspond to different ways to increase model capacity. Compared to Transformer Base, they both bring
up to 2.5 BLEU improvement (1.4 BLEU on average) on seen domains and
up to 1.3 BLEU improvement (0.6 BLEU on average) on unseen domains. Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S5.SS1.SSS0.Px1.p1.1.m1.1a"><mo id="S5.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S5.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px1.p1.1.m1.1b"><times id="S5.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS0.Px1.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px1.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px1.p1.1.m1.1d">×</annotation></semantics></math>1.5 (which serves as a baseline for SMoE, with the same inference FLOPs) performs only slightly better than Transformer Base, i.e. <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.6">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.7">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> and <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.8">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.9">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p2">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p2.1">Domain adapters <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p2.1.1">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> are capable of reaching the performance of SMoE with tags <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p2.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> or width scaling with tags <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p2.1.3">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> on some seen domains ("Law" and "Medical") but perform significantly worse than Transformer Base with tags <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p2.1.4">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> on other seen domains ("Ted" and "Subtitles"). This happens because of the uneven convergence speed of different adapters: for the "Ted" and "Subtitles" domains, validation performance starts to decrease at some point during training (we did not observe this behaviour for any other models in our experiments). For unseen domains, domain adapters rely on <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px1.p2.1.5">generic</span> adapter
and usually perform on a par with Transformer Base with tags <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p2.1.6">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, i.e. worse than scaled models. The underlying problem behind these two observations is that adapters allocate the same capacity to all domains, including the generic domain adapter used to process unseen domains.<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Though it is in principle possible to use individual adapter dimensions for different domains, it is unclear how to choose these hyperparameters in practice.</span></span></span> In contrast, scaled models can intrinsically allocate variable capacity to each domain, at the same time enabling implicit knowledge transfer between domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Utilization of domain information in SMoE.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px2.p1.1">We will now focus only on a setting with available domain information (bottom parts of tables <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T2" title="Table 2 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">2</span></a>).
Comparing three ways of utilizing domain information in SMoE, described in Section <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S3.SS1" title="3.1 Mixture of Experts ‣ 3 Methodology ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">3.1</span></a>, we observe that <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px2.p1.1.1">the simplest approach with domain tags <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px2.p1.1.1.1">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> performs similarly to more complex approaches</span>, which use domain embeddings in the gating mechanism, SMoE + Dom.Aware Gate, <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px2.p1.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> or domain-specific gating parameters <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib8" title="">8</a>]</cite>, SMoE + Dom.Spec. Gate, <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px2.p1.1.3">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>. This holds for both seen and unseen domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Are domain tags helpful?</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px3.p1.1">When comparing models with and without domain tags, e.g. <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.1">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.3">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.4">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.5">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.6">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, or <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.7">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> vs <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.8">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, we observe <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px3.p1.1.9">an average BLEU gain of 0.5 on seen domains when domain labels are given</span>. On unseen domains, models equipped with domain tags perform mostly similarly to model without tags, except Transformer Base, where the domain tags can be detrimental.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T3.2">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T3.2.3.1">
<th class="ltx_td ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S5.T3.2.3.1.1"></th>
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="2" id="S5.T3.2.3.1.2"><span class="ltx_text ltx_font_bold" id="S5.T3.2.3.1.2.1" style="font-size:90%;">En-De (6e+3d)</span></th>
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S5.T3.2.3.1.3"><span class="ltx_text ltx_font_bold" id="S5.T3.2.3.1.3.1" style="font-size:90%;">En-Fr (6e+6d)</span></th>
</tr>
<tr class="ltx_tr" id="S5.T3.2.4.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S5.T3.2.4.2.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.4.2.1.1">
<span class="ltx_p" id="S5.T3.2.4.2.1.1.1" style="width:68.3pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.2.4.2.1.1.1.1" style="font-size:90%;">Model / Domains</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column" id="S5.T3.2.4.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.4.2.2.1">
<span class="ltx_p" id="S5.T3.2.4.2.2.1.1" style="width:14.2pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.2.4.2.2.1.1.1" style="font-size:90%;">Seen</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r" id="S5.T3.2.4.2.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.4.2.3.1">
<span class="ltx_p" id="S5.T3.2.4.2.3.1.1" style="width:14.2pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.2.4.2.3.1.1.1" style="font-size:90%;">Unseen</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column" id="S5.T3.2.4.2.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.4.2.4.1">
<span class="ltx_p" id="S5.T3.2.4.2.4.1.1" style="width:14.2pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.2.4.2.4.1.1.1" style="font-size:90%;">Seen</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column" id="S5.T3.2.4.2.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.4.2.5.1">
<span class="ltx_p" id="S5.T3.2.4.2.5.1.1" style="width:14.2pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.2.4.2.5.1.1.1" style="font-size:90%;">Unseen</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.2.5.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.2.5.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.5.1.1.1">
<span class="ltx_p" id="S5.T3.2.5.1.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.2.5.1.1.1.1.1" style="font-size:90%;">TB</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.5.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.5.1.2.1">
<span class="ltx_p" id="S5.T3.2.5.1.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.5.1.2.1.1.1" style="font-size:90%;">35.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S5.T3.2.5.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.5.1.3.1">
<span class="ltx_p" id="S5.T3.2.5.1.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.5.1.3.1.1.1" style="font-size:90%;">25.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.5.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.5.1.4.1">
<span class="ltx_p" id="S5.T3.2.5.1.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.5.1.4.1.1.1" style="font-size:90%;">45.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.5.1.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.5.1.5.1">
<span class="ltx_p" id="S5.T3.2.5.1.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.5.1.5.1.1.1" style="font-size:90%;">31.3</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T3.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.1.1.1.1">
<span class="ltx_p" id="S5.T3.1.1.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.1.1.1.1.1.1" style="font-size:90%;">Tr. </span><math alttext="\times" class="ltx_Math" display="inline" id="S5.T3.1.1.1.1.1.m1.1"><semantics id="S5.T3.1.1.1.1.1.m1.1a"><mo id="S5.T3.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S5.T3.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T3.1.1.1.1.1.m1.1b"><times id="S5.T3.1.1.1.1.1.m1.1.1.cmml" xref="S5.T3.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.T3.1.1.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S5.T3.1.1.1.1.1.2" style="font-size:90%;">5</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.1.1.2.1">
<span class="ltx_p" id="S5.T3.1.1.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.1.1.1" style="font-size:90%;">36.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S5.T3.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.1.1.3.1">
<span class="ltx_p" id="S5.T3.1.1.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.1.1.3.1.1.1" style="font-size:90%;">26.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.1.1.4.1">
<span class="ltx_p" id="S5.T3.1.1.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.1.1.4.1.1.1" style="font-size:90%;">47.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.1.1.5.1">
<span class="ltx_p" id="S5.T3.1.1.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.1.1.5.1.1.1" style="font-size:90%;">32.2</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T3.2.6.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T3.2.6.2.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.6.2.1.1">
<span class="ltx_p" id="S5.T3.2.6.2.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.2.6.2.1.1.1.1" style="font-size:90%;">SMoE</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.6.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.6.2.2.1">
<span class="ltx_p" id="S5.T3.2.6.2.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.6.2.2.1.1.1" style="font-size:90%;">36.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S5.T3.2.6.2.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.6.2.3.1">
<span class="ltx_p" id="S5.T3.2.6.2.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.6.2.3.1.1.1" style="font-size:90%;">25.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.6.2.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.6.2.4.1">
<span class="ltx_p" id="S5.T3.2.6.2.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.6.2.4.1.1.1" style="font-size:90%;">46.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.6.2.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.6.2.5.1">
<span class="ltx_p" id="S5.T3.2.6.2.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.6.2.5.1.1.1" style="font-size:90%;">32.0</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T3.2.7.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T3.2.7.3.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.7.3.1.1">
<span class="ltx_p" id="S5.T3.2.7.3.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.2.7.3.1.1.1.1" style="font-size:90%;">TB + tags</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.7.3.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.7.3.2.1">
<span class="ltx_p" id="S5.T3.2.7.3.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.7.3.2.1.1.1" style="font-size:90%;">35.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="S5.T3.2.7.3.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.7.3.3.1">
<span class="ltx_p" id="S5.T3.2.7.3.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.7.3.3.1.1.1" style="font-size:90%;">24.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.7.3.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.7.3.4.1">
<span class="ltx_p" id="S5.T3.2.7.3.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.7.3.4.1.1.1" style="font-size:90%;">45.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T3.2.7.3.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.7.3.5.1">
<span class="ltx_p" id="S5.T3.2.7.3.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.7.3.5.1.1.1" style="font-size:90%;">30.6</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T3.2.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T3.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.2.1.1">
<span class="ltx_p" id="S5.T3.2.2.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.2.2.1.1.1.1" style="font-size:90%;">Tr.</span><math alttext="\times" class="ltx_Math" display="inline" id="S5.T3.2.2.1.1.1.m1.1"><semantics id="S5.T3.2.2.1.1.1.m1.1a"><mo id="S5.T3.2.2.1.1.1.m1.1.1" mathsize="90%" xref="S5.T3.2.2.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T3.2.2.1.1.1.m1.1b"><times id="S5.T3.2.2.1.1.1.m1.1.1.cmml" xref="S5.T3.2.2.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.2.2.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.T3.2.2.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S5.T3.2.2.1.1.1.2" style="font-size:90%;">5 +tags+DR</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.2.2.1">
<span class="ltx_p" id="S5.T3.2.2.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.2.2.1.1.1" style="font-size:90%;">36.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="S5.T3.2.2.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.2.3.1">
<span class="ltx_p" id="S5.T3.2.2.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.2.3.1.1.1" style="font-size:90%;">26.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.2.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.2.4.1">
<span class="ltx_p" id="S5.T3.2.2.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.2.4.1.1.1" style="font-size:90%;">46.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T3.2.2.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.2.5.1">
<span class="ltx_p" id="S5.T3.2.2.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.2.5.1.1.1" style="font-size:90%;">32.3</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T3.2.8.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T3.2.8.4.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.8.4.1.1">
<span class="ltx_p" id="S5.T3.2.8.4.1.1.1" style="width:68.3pt;"><span class="ltx_text" id="S5.T3.2.8.4.1.1.1.1" style="font-size:90%;">SMoE+tags+DR</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T3.2.8.4.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.8.4.2.1">
<span class="ltx_p" id="S5.T3.2.8.4.2.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.8.4.2.1.1.1" style="font-size:90%;">36.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="S5.T3.2.8.4.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.8.4.3.1">
<span class="ltx_p" id="S5.T3.2.8.4.3.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.8.4.3.1.1.1" style="font-size:90%;">25.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T3.2.8.4.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.8.4.4.1">
<span class="ltx_p" id="S5.T3.2.8.4.4.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.8.4.4.1.1.1" style="font-size:90%;">47.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T3.2.8.4.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T3.2.8.4.5.1">
<span class="ltx_p" id="S5.T3.2.8.4.5.1.1" style="width:14.2pt;"><span class="ltx_text" id="S5.T3.2.8.4.5.1.1.1" style="font-size:90%;">32.2</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Summary of BLEU results, averaged over seen and unseen domains, for three translation directions. Detailed per-domain tables are given in Appendix.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Effect of domain randomization.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px4.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px4.p1.1">We observe that <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px4.p1.1.1">domain randomization is an important component in out-of-domain robustness and is particularly helpful of unseen domains that are related to seen domains</span>. Models with access to seen domains labels but without domain randomization <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.3">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.4">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.5">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> exhibit 1.3–2.2 BLEU drop on  "Patents (medical)"  and  "Subtitles (medical)" , because they process these domains with the “generic” tag which was never used for "Patents" or "Subtitles" data during training. With domain randomization <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.6">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.7">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.8">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.9">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>, the “generic” tag is trained to work well with all seen domains and is thus robust to related unseen domains, i.e. performance on  "Patents (medical)"  and  "Subtitles (medical)"  is the same as of <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.10">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> and <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p1.1.11">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>.
Importantly, the introduction of domain randomization does not hurt performance on seen domains.</p>
</div>
<div class="ltx_para" id="S5.SS1.SSS0.Px4.p2">
<p class="ltx_p" id="S5.SS1.SSS0.Px4.p2.1">For domain adapters, the use of DR <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p2.1.1">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> leads to low performance on seen domains, because they have a lot of domain-specific parameters which are trained poorly with only a half of the domain data samples. For Transformer Base with tags, the use of DR <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px4.p2.1.2">(<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S4.T1" title="Table 1 ‣ Evaluation. ‣ 4 Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">1</span></a>)</span> brings lower improvements on unseen domains related to seen domains, because of limited model capacity.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T4.1.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S5.T4.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.1.1.1.1">
<span class="ltx_p" id="S5.T4.1.1.1.1.1.1" style="width:65.4pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.1.1.1" style="font-size:90%;">Batch size (GPU)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.1.1.2.1">
<span class="ltx_p" id="S5.T4.1.1.1.2.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.2.1.1.1" style="font-size:90%;">TB</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.1.1.3.1">
<span class="ltx_p" id="S5.T4.1.1.1.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.3.1.1.1" style="font-size:90%;">Tr. x5</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T4.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.1.1.4.1">
<span class="ltx_p" id="S5.T4.1.1.1.4.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.4.1.1.1" style="font-size:90%;">MoE</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.1.2.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T4.1.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.2.1.1.1">
<span class="ltx_p" id="S5.T4.1.2.1.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.2.1.1.1.1.1" style="font-size:90%;">1               (P40)</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.2.1.2.1">
<span class="ltx_p" id="S5.T4.1.2.1.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.2.1.2.1.1.1" style="font-size:90%;">3562.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.2.1.3.1">
<span class="ltx_p" id="S5.T4.1.2.1.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.2.1.3.1.1.1" style="font-size:90%;">3666.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.2.1.4.1">
<span class="ltx_p" id="S5.T4.1.2.1.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.2.1.4.1.1.1" style="font-size:90%;">6697.4</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.3.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.3.2.1.1">
<span class="ltx_p" id="S5.T4.1.3.2.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.3.2.1.1.1.1" style="font-size:90%;">1k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.3.2.2.1">
<span class="ltx_p" id="S5.T4.1.3.2.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.3.2.2.1.1.1" style="font-size:90%;">128.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.3.2.3.1">
<span class="ltx_p" id="S5.T4.1.3.2.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.3.2.3.1.1.1" style="font-size:90%;">144.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.3.2.4.1">
<span class="ltx_p" id="S5.T4.1.3.2.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.3.2.4.1.1.1" style="font-size:90%;">176.8</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.4.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.4.3.1.1">
<span class="ltx_p" id="S5.T4.1.4.3.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.4.3.1.1.1.1" style="font-size:90%;">10k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.4.3.2.1">
<span class="ltx_p" id="S5.T4.1.4.3.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.4.3.2.1.1.1" style="font-size:90%;">87.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.4.3.3.1">
<span class="ltx_p" id="S5.T4.1.4.3.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.4.3.3.1.1.1" style="font-size:90%;">102.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.4.3.4.1">
<span class="ltx_p" id="S5.T4.1.4.3.4.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.4.3.4.1.1.1" style="font-size:90%;">101.0</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.5.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.5.4.1.1">
<span class="ltx_p" id="S5.T4.1.5.4.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.5.4.1.1.1.1" style="font-size:90%;">100k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.5.4.2.1">
<span class="ltx_p" id="S5.T4.1.5.4.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.5.4.2.1.1.1" style="font-size:90%;">104.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.5.4.3.1">
<span class="ltx_p" id="S5.T4.1.5.4.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.5.4.3.1.1.1" style="font-size:90%;">125.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.5.4.4.1">
<span class="ltx_p" id="S5.T4.1.5.4.4.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.5.4.4.1.1.1" style="font-size:90%;">119.1</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.6.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T4.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.6.5.1.1">
<span class="ltx_p" id="S5.T4.1.6.5.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.6.5.1.1.1.1" style="font-size:90%;">1               (V100)</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.6.5.2.1">
<span class="ltx_p" id="S5.T4.1.6.5.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.6.5.2.1.1.1" style="font-size:90%;">1257.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.6.5.3.1">
<span class="ltx_p" id="S5.T4.1.6.5.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.6.5.3.1.1.1" style="font-size:90%;">1268.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.6.5.4.1">
<span class="ltx_p" id="S5.T4.1.6.5.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.6.5.4.1.1.1" style="font-size:90%;">1513.8</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.7.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.7.6.1.1">
<span class="ltx_p" id="S5.T4.1.7.6.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.7.6.1.1.1.1" style="font-size:90%;">1k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.7.6.2.1">
<span class="ltx_p" id="S5.T4.1.7.6.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.7.6.2.1.1.1" style="font-size:90%;">94.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.7.6.3.1">
<span class="ltx_p" id="S5.T4.1.7.6.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.7.6.3.1.1.1" style="font-size:90%;">99.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.7.6.4.1">
<span class="ltx_p" id="S5.T4.1.7.6.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.7.6.4.1.1.1" style="font-size:90%;">121.5</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.8.7">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.8.7.1.1">
<span class="ltx_p" id="S5.T4.1.8.7.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.8.7.1.1.1.1" style="font-size:90%;">10k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.8.7.2.1">
<span class="ltx_p" id="S5.T4.1.8.7.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.8.7.2.1.1.1" style="font-size:90%;">27.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.8.7.3.1">
<span class="ltx_p" id="S5.T4.1.8.7.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.8.7.3.1.1.1" style="font-size:90%;">30.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.8.7.4.1">
<span class="ltx_p" id="S5.T4.1.8.7.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.8.7.4.1.1.1" style="font-size:90%;">34.2</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.9.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.9.8.1.1">
<span class="ltx_p" id="S5.T4.1.9.8.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.9.8.1.1.1.1" style="font-size:90%;">100k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.9.8.2.1">
<span class="ltx_p" id="S5.T4.1.9.8.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.9.8.2.1.1.1" style="font-size:90%;">37.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.9.8.3.1">
<span class="ltx_p" id="S5.T4.1.9.8.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.9.8.3.1.1.1" style="font-size:90%;">38.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.9.8.4.1">
<span class="ltx_p" id="S5.T4.1.9.8.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.9.8.4.1.1.1" style="font-size:90%;">44.0</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.10.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T4.1.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.10.9.1.1">
<span class="ltx_p" id="S5.T4.1.10.9.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.10.9.1.1.1.1" style="font-size:90%;">1               (A100)</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.10.9.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.10.9.2.1">
<span class="ltx_p" id="S5.T4.1.10.9.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.10.9.2.1.1.1" style="font-size:90%;">864.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.10.9.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.10.9.3.1">
<span class="ltx_p" id="S5.T4.1.10.9.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.10.9.3.1.1.1" style="font-size:90%;">859.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T4.1.10.9.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.10.9.4.1">
<span class="ltx_p" id="S5.T4.1.10.9.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.10.9.4.1.1.1" style="font-size:90%;">1085.6</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.11.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.11.10.1.1">
<span class="ltx_p" id="S5.T4.1.11.10.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.11.10.1.1.1.1" style="font-size:90%;">1k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.11.10.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.11.10.2.1">
<span class="ltx_p" id="S5.T4.1.11.10.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.11.10.2.1.1.1" style="font-size:90%;">80.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.11.10.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.11.10.3.1">
<span class="ltx_p" id="S5.T4.1.11.10.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.11.10.3.1.1.1" style="font-size:90%;">81.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.11.10.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.11.10.4.1">
<span class="ltx_p" id="S5.T4.1.11.10.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.11.10.4.1.1.1" style="font-size:90%;">92.4</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.12.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T4.1.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.12.11.1.1">
<span class="ltx_p" id="S5.T4.1.12.11.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.12.11.1.1.1.1" style="font-size:90%;">10k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.12.11.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.12.11.2.1">
<span class="ltx_p" id="S5.T4.1.12.11.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.12.11.2.1.1.1" style="font-size:90%;">20.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.12.11.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.12.11.3.1">
<span class="ltx_p" id="S5.T4.1.12.11.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.12.11.3.1.1.1" style="font-size:90%;">22.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T4.1.12.11.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.12.11.4.1">
<span class="ltx_p" id="S5.T4.1.12.11.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.12.11.4.1.1.1" style="font-size:90%;">25.8</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.13.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T4.1.13.12.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.13.12.1.1">
<span class="ltx_p" id="S5.T4.1.13.12.1.1.1" style="width:65.4pt;"><span class="ltx_text" id="S5.T4.1.13.12.1.1.1.1" style="font-size:90%;">100k</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T4.1.13.12.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.13.12.2.1">
<span class="ltx_p" id="S5.T4.1.13.12.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.13.12.2.1.1.1" style="font-size:90%;">29.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T4.1.13.12.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.13.12.3.1">
<span class="ltx_p" id="S5.T4.1.13.12.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T4.1.13.12.3.1.1.1" style="font-size:90%;">32.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T4.1.13.12.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T4.1.13.12.4.1">
<span class="ltx_p" id="S5.T4.1.13.12.4.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T4.1.13.12.4.1.1.1" style="font-size:90%;">35.2</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Inference time (sec) for translating the Patents test set. Bold denotes fastest between "Tr. x5" and MoE.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px5">
<h4 class="ltx_title ltx_title_paragraph">Inference speed.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px5.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px5.p1.1">In Table <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.T4" title="Table 4 ‣ Effect of domain randomization. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">4</span></a> we report time measurements for translating the En-Fr "Patents" test set, averaged over three runs, for various Tesla GPUs. For SMoE, we choose the minimal time between our implementation and <code class="ltx_verbatim ltx_font_typewriter" id="S5.SS1.SSS0.Px5.p1.1.1">tutel</code> implementation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib10" title="">10</a>]</cite>. We surprisingly find that for modern GPUs such as Tesla V100 or A100, which are highly optimized for matrix multiplications, increasing the model width leads to only marginal inference slow down. At the same time, SMoE is slower than "Tr. x5", despite 2.5x theoretical FLOPs reduction compared to the wide model. In practice it is hard to implement SMoE in a way that it utilizes available GPU parallelism as efficiently as simple width scaling. However, for older GPUs, such as Tesla P40, with larger batch sizes, the gap between TB and "Tr. x5" inference times is higher (20%) and SMoE implementation with <code class="ltx_verbatim ltx_font_typewriter" id="S5.SS1.SSS0.Px5.p1.1.2">tutel</code> can be compared to "Tr. x5".</p>
</div>
<figure class="ltx_table" id="S5.T5">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S5.T5.1.1.1.1"></th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.1.1.2.1">
<span class="ltx_p" id="S5.T5.1.1.1.2.1.1" style="width:12.8pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.2.1.1.1" style="font-size:90%;">Subt</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.1.1.3.1">
<span class="ltx_p" id="S5.T5.1.1.1.3.1.1" style="width:12.8pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.3.1.1.1" style="font-size:90%;">Ted</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.1.1.4.1">
<span class="ltx_p" id="S5.T5.1.1.1.4.1.1" style="width:12.8pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.4.1.1.1" style="font-size:90%;">Law</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.1.1.5.1">
<span class="ltx_p" id="S5.T5.1.1.1.5.1.1" style="width:12.8pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.5.1.1.1" style="font-size:90%;">Med</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="S5.T5.1.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.1.1.6.1">
<span class="ltx_p" id="S5.T5.1.1.1.6.1.1" style="width:12.8pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.1.6.1.1.1" style="font-size:90%;">Pat</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T5.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T5.1.2.1.1"><span class="ltx_text" id="S5.T5.1.2.1.1.1" style="font-size:90%;">MoE + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T5.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.2.1.2.1">
<span class="ltx_p" id="S5.T5.1.2.1.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.2.1.2.1.1.1" style="font-size:90%;">30.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T5.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.2.1.3.1">
<span class="ltx_p" id="S5.T5.1.2.1.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.2.1.3.1.1.1" style="font-size:90%;">29.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T5.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.2.1.4.1">
<span class="ltx_p" id="S5.T5.1.2.1.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.2.1.4.1.1.1" style="font-size:90%;">23.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T5.1.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.2.1.5.1">
<span class="ltx_p" id="S5.T5.1.2.1.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.2.1.5.1.1.1" style="font-size:90%;">25.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T5.1.2.1.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.2.1.6.1">
<span class="ltx_p" id="S5.T5.1.2.1.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.2.1.6.1.1.1" style="font-size:90%;">24.7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.3.2.1"><span class="ltx_text" id="S5.T5.1.3.2.1.1" style="font-size:90%;">MoE + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.3.2.2.1">
<span class="ltx_p" id="S5.T5.1.3.2.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.3.2.2.1.1.1" style="font-size:90%;">30.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.3.2.3.1">
<span class="ltx_p" id="S5.T5.1.3.2.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.3.2.3.1.1.1" style="font-size:90%;">30.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.3.2.4.1">
<span class="ltx_p" id="S5.T5.1.3.2.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.3.2.4.1.1.1" style="font-size:90%;">28.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.3.2.5.1">
<span class="ltx_p" id="S5.T5.1.3.2.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.3.2.5.1.1.1" style="font-size:90%;">30.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.3.2.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.3.2.6.1">
<span class="ltx_p" id="S5.T5.1.3.2.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.3.2.6.1.1.1" style="font-size:90%;">30.1</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.4.3.1"><span class="ltx_text" id="S5.T5.1.4.3.1.1" style="font-size:90%;">MoE Dom.aware gate</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.4.3.2.1">
<span class="ltx_p" id="S5.T5.1.4.3.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.4.3.2.1.1.1" style="font-size:90%;">30.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.4.3.3.1">
<span class="ltx_p" id="S5.T5.1.4.3.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.4.3.3.1.1.1" style="font-size:90%;">29.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.4.3.4.1">
<span class="ltx_p" id="S5.T5.1.4.3.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.4.3.4.1.1.1" style="font-size:90%;">23.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.4.3.5.1">
<span class="ltx_p" id="S5.T5.1.4.3.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.4.3.5.1.1.1" style="font-size:90%;">21.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.4.3.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.4.3.6.1">
<span class="ltx_p" id="S5.T5.1.4.3.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.4.3.6.1.1.1" style="font-size:90%;">23.0</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.5.4.1"><span class="ltx_text" id="S5.T5.1.5.4.1.1" style="font-size:90%;">MoE Dom.aw. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.5.4.2.1">
<span class="ltx_p" id="S5.T5.1.5.4.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.5.4.2.1.1.1" style="font-size:90%;">31.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.5.4.3.1">
<span class="ltx_p" id="S5.T5.1.5.4.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.5.4.3.1.1.1" style="font-size:90%;">30.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.5.4.4.1">
<span class="ltx_p" id="S5.T5.1.5.4.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.5.4.4.1.1.1" style="font-size:90%;">28.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.5.4.5.1">
<span class="ltx_p" id="S5.T5.1.5.4.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.5.4.5.1.1.1" style="font-size:90%;">27.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.5.4.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.5.4.6.1">
<span class="ltx_p" id="S5.T5.1.5.4.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.5.4.6.1.1.1" style="font-size:90%;">29.7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.6.5.1"><span class="ltx_text" id="S5.T5.1.6.5.1.1" style="font-size:90%;">MoE Dom.spec gate</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.6.5.2.1">
<span class="ltx_p" id="S5.T5.1.6.5.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.6.5.2.1.1.1" style="font-size:90%;">30.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.6.5.3.1">
<span class="ltx_p" id="S5.T5.1.6.5.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.6.5.3.1.1.1" style="font-size:90%;">29.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.6.5.4.1">
<span class="ltx_p" id="S5.T5.1.6.5.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.6.5.4.1.1.1" style="font-size:90%;">19.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.6.5.5.1">
<span class="ltx_p" id="S5.T5.1.6.5.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.6.5.5.1.1.1" style="font-size:90%;">21.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.6.5.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.6.5.6.1">
<span class="ltx_p" id="S5.T5.1.6.5.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.6.5.6.1.1.1" style="font-size:90%;">17.6</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.7.6.1"><span class="ltx_text" id="S5.T5.1.7.6.1.1" style="font-size:90%;">MoE Dom.sp. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.7.6.2.1">
<span class="ltx_p" id="S5.T5.1.7.6.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.7.6.2.1.1.1" style="font-size:90%;">30.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.7.6.3.1">
<span class="ltx_p" id="S5.T5.1.7.6.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.7.6.3.1.1.1" style="font-size:90%;">30.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.7.6.4.1">
<span class="ltx_p" id="S5.T5.1.7.6.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.7.6.4.1.1.1" style="font-size:90%;">24.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.7.6.5.1">
<span class="ltx_p" id="S5.T5.1.7.6.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.7.6.5.1.1.1" style="font-size:90%;">28.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.7.6.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.7.6.6.1">
<span class="ltx_p" id="S5.T5.1.7.6.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.7.6.6.1.1.1" style="font-size:90%;">28.1</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S5.T5.1.8.7.1"><span class="ltx_text" id="S5.T5.1.8.7.1.1" style="font-size:90%;">Tr. x5 + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.8.7.2.1">
<span class="ltx_p" id="S5.T5.1.8.7.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.8.7.2.1.1.1" style="font-size:90%;">30.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.8.7.3.1">
<span class="ltx_p" id="S5.T5.1.8.7.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.8.7.3.1.1.1" style="font-size:90%;">29.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.8.7.4.1">
<span class="ltx_p" id="S5.T5.1.8.7.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.8.7.4.1.1.1" style="font-size:90%;">25.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.8.7.5.1">
<span class="ltx_p" id="S5.T5.1.8.7.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.8.7.5.1.1.1" style="font-size:90%;">25.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T5.1.8.7.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.8.7.6.1">
<span class="ltx_p" id="S5.T5.1.8.7.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.8.7.6.1.1.1" style="font-size:90%;">26.7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T5.1.9.8.1"><span class="ltx_text" id="S5.T5.1.9.8.1.1" style="font-size:90%;">Tr. x5 + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T5.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.9.8.2.1">
<span class="ltx_p" id="S5.T5.1.9.8.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.9.8.2.1.1.1" style="font-size:90%;">31.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T5.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.9.8.3.1">
<span class="ltx_p" id="S5.T5.1.9.8.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.9.8.3.1.1.1" style="font-size:90%;">30.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T5.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.9.8.4.1">
<span class="ltx_p" id="S5.T5.1.9.8.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.9.8.4.1.1.1" style="font-size:90%;">29.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T5.1.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.9.8.5.1">
<span class="ltx_p" id="S5.T5.1.9.8.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.9.8.5.1.1.1" style="font-size:90%;">30.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T5.1.9.8.6">
<span class="ltx_inline-block ltx_align_top" id="S5.T5.1.9.8.6.1">
<span class="ltx_p" id="S5.T5.1.9.8.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="S5.T5.1.9.8.6.1.1.1" style="font-size:90%;">30.2</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>BLEU scores for the "Subtitles" test set, when decoding with various domain labels listed in column names.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px6">
<h4 class="ltx_title ltx_title_paragraph">Robustness to wrong domain labels.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px6.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px6.p1.1">One of the important problems in multi-domain translation in the setting with access to domain labels, is that in practice domain labels can be erroneous, and models are very sensitive to these errors <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib19" title="">19</a>]</cite>. Table <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.T5" title="Table 5 ‣ Inference speed. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">5</span></a> shows substantial performance drops in BLEU scores on the "Subtitles" test set, when it is decoded with wrong domain labels by models trained without DR. Surprisingly, we find that the proposed domain randomization substantially reduces performance drops caused by wrong domain labels, possibly due to decreased overfitting to domain labels.
Appendix <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A2" title="Appendix B Additional results for the setting with wrong domain labels ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">B</span></a> confirms the same effect for other seen domains.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px7">
<h4 class="ltx_title ltx_title_paragraph">SMoE analysis.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px7.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px7.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.F2" title="Figure 2 ‣ SMoE analysis. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">2</span></a> compares experts activated with different domain labels for different models. We see that SMoE+Dom.aware gate and SMoE+Dom.Spec.gate rely more on domain labels compared to SMoE+Dom.Tags, as well as models with DR. This explains higher performance drop when decoding with wrong labels. Domain randomization makes reduces theses models reliance on domain labels thus making them more robust to wrong labels. More in-depth anaylsis of gate statics is reported in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A3" title="Appendix C Analysis of gate statistics. ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="141" id="S5.F2.g1" src="x2.png" width="415"/></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="141" id="S5.F2.g2" src="x3.png" width="415"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Pairwise similarity of experts activated with different domain embeddings.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T6">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S5.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T6.1.2.1">
<th class="ltx_td ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S5.T6.1.2.1.1"></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S5.T6.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.2.1.2.1">
<span class="ltx_p" id="S5.T6.1.2.1.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.2.1.2.1.1.1" style="font-size:90%;">Seen</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="S5.T6.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.2.1.3.1">
<span class="ltx_p" id="S5.T6.1.2.1.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.2.1.3.1.1.1" style="font-size:90%;">Unseen</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.3.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="3" id="S5.T6.1.3.2.1"><span class="ltx_text" id="S5.T6.1.3.2.1.1" style="font-size:90%;">Transformer Base</span></th>
</tr>
<tr class="ltx_tr" id="S5.T6.1.4.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.1.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.4.3.1.1">
<span class="ltx_p" id="S5.T6.1.4.3.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.4.3.1.1.1.1" style="font-size:90%;">Seen domains only</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T6.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.4.3.2.1">
<span class="ltx_p" id="S5.T6.1.4.3.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.4.3.2.1.1.1" style="font-size:90%;">40.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T6.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.4.3.3.1">
<span class="ltx_p" id="S5.T6.1.4.3.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.4.3.3.1.1.1" style="font-size:90%;">21.2</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.5.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T6.1.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.5.4.1.1">
<span class="ltx_p" id="S5.T6.1.5.4.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.5.4.1.1.1.1" style="font-size:90%;">Generic data only</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.5.4.2.1">
<span class="ltx_p" id="S5.T6.1.5.4.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.5.4.2.1.1.1" style="font-size:90%;">34.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.5.4.3.1">
<span class="ltx_p" id="S5.T6.1.5.4.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.5.4.3.1.1.1" style="font-size:90%;">26.7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.6.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T6.1.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.6.5.1.1">
<span class="ltx_p" id="S5.T6.1.6.5.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.6.5.1.1.1.1" style="font-size:90%;">Seen (50%) + Gen. (50%)</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.6.5.2.1">
<span class="ltx_p" id="S5.T6.1.6.5.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.6.5.2.1.1.1" style="font-size:90%;">40.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.6.5.3.1">
<span class="ltx_p" id="S5.T6.1.6.5.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.6.5.3.1.1.1" style="font-size:90%;">26.5</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.7.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="S5.T6.1.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.7.6.1.1">
<span class="ltx_p" id="S5.T6.1.7.6.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.7.6.1.1.1.1" style="font-size:90%;">Seen + Gen. (natural %)</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.7.6.2.1">
<span class="ltx_p" id="S5.T6.1.7.6.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.7.6.2.1.1.1" style="font-size:90%;">38.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="S5.T6.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.7.6.3.1">
<span class="ltx_p" id="S5.T6.1.7.6.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.7.6.3.1.1.1" style="font-size:90%;">26.7</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.8.7">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="3" id="S5.T6.1.8.7.1"><span class="ltx_text" id="S5.T6.1.8.7.1.1" style="font-size:90%;">Seen domains (50%) + Generic data (50%)</span></th>
</tr>
<tr class="ltx_tr" id="S5.T6.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S5.T6.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.1.1.1">
<span class="ltx_p" id="S5.T6.1.1.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.1.1.1.1.1" style="font-size:90%;">Transformer width </span><math alttext="\times" class="ltx_Math" display="inline" id="S5.T6.1.1.1.1.1.m1.1"><semantics id="S5.T6.1.1.1.1.1.m1.1a"><mo id="S5.T6.1.1.1.1.1.m1.1.1" mathsize="90%" xref="S5.T6.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.T6.1.1.1.1.1.m1.1b"><times id="S5.T6.1.1.1.1.1.m1.1.1.cmml" xref="S5.T6.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.T6.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.T6.1.1.1.1.1.m1.1d">×</annotation></semantics></math><span class="ltx_text" id="S5.T6.1.1.1.1.1.2" style="font-size:90%;">5</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T6.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.1.2.1">
<span class="ltx_p" id="S5.T6.1.1.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.1.2.1.1.1" style="font-size:90%;">41.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="S5.T6.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.1.3.1">
<span class="ltx_p" id="S5.T6.1.1.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.1.3.1.1.1" style="font-size:90%;">26.9</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.9.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S5.T6.1.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.9.8.1.1">
<span class="ltx_p" id="S5.T6.1.9.8.1.1.1" style="width:113.8pt;"><span class="ltx_text" id="S5.T6.1.9.8.1.1.1.1" style="font-size:90%;">Mixture-of-Experts</span></span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T6.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.9.8.2.1">
<span class="ltx_p" id="S5.T6.1.9.8.2.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.9.8.2.1.1.1" style="font-size:90%;">41.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="S5.T6.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="S5.T6.1.9.8.3.1">
<span class="ltx_p" id="S5.T6.1.9.8.3.1.1" style="width:28.5pt;"><span class="ltx_text" id="S5.T6.1.9.8.3.1.1.1" style="font-size:90%;">27.0</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>BLEU scores, averages over seen and over unseen domains (excl. “Pat (med)” and “Subt (med)”), for De-En translation, for the Transformer Base model trained on various data mixtures, and for two scaled models trained on the mixture of seen domains and the downsampled generic data.</figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px8">
<h4 class="ltx_title ltx_title_paragraph">Necessity of generic data and model scaling for multi-domain models.</h4>
<div class="ltx_para" id="S5.SS1.SSS0.Px8.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px8.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.T6" title="Table 6 ‣ SMoE analysis. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">6</span></a> shows the average performance on seen and unseen domains (De-En), of Transformer Base (TB) models trained with different data mixtures. We observe that training solely on domain data leads to high performance on seen domains but very low performance on unseen domains. Including the generic corpora in the training data mixture substantially increases performance on unseen domains. However, generic corpora <span class="ltx_text ltx_font_italic" id="S5.SS1.SSS0.Px8.p1.1.1">downsampling</span> is required to keep relatively high performance on seen domains, which is still lower than that of the model trained solely on the seen domain data.<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>We use the downsampling scheme, 50% generic + 50% seen domains, to train all the models in the main experiments.</span></span></span> The highest performance on both seen and unseen domains is achieved by two larger models, dense Transformer with the increased width and SMoE.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this work we investigate the potential of the SMoE architecture for effective, efficient and robust multi-domain translation. Our experiments lead us to generally
non-conclusive results regarding the utility of SMoE but highlight the necessity of model scaling and advantages of the straightforward width scaling. The width-scaled model performs on par with SMoE and adds almost no overhead at inference on modern GPUs compared to the non-scaled model. At the same time, for older and less optimized GPUs, SMoE may be a more efficient scaling approach. We also introduce domain randomization, a technique well suitable for scaled models which improves robustness on unseen domains, while preserving same performance on seen domains. We also find that DR improves robustness to wrong domain labels.
</p>
</div>
</section>
<section class="ltx_section" id="S7" lang="en">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Limitations and discussion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">This work is limited to the setting where all the seen domains are available at training time, i.e. we do not consider adaptation to newly appearing domains scenario after the model is trained. We leave this aspect for the future work.</p>
</div>
<div class="ltx_para" id="S7.p2">
<p class="ltx_p" id="S7.p2.1">Another limitation is that the notion of domain we rely on is restricted to the origin of the data. These labels can be quite fuzzy and noisy as pointed out by <cite class="ltx_cite ltx_citemacro_citep">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib23" title="">23</a>]</cite>: some datasets can share same lexicon choice, while others could share similar <span class="ltx_text ltx_font_italic" id="S7.p2.1.1">genre</span>. Our gate activation analysis confirms that the notion of the domain is fuzzy, and the most effective and robust model (SMoE+Tags+DR) relies more on the input tokens rather than on domain labels. Nevertheless, it is still beneficial to have access to this knowledge (both at training and inference time) especially for the domains which are less represented in the training data.</p>
</div>
<div class="ltx_para" id="S7.p3">
<p class="ltx_p" id="S7.p3.1">Finally, all our analysis is performed on Transformer.base architecture which is further scaled either via wider FF layers, or via SMoE. We believe this is quite common setting for most of the researchers who could benefit from our findings. We expect that much larger baseline (eg. comparable to Tr x5) may not benefit from scaling to the same extent when trained on small set of domains. We are quite confident though that, similar to the findings in multilingual NMT, the need for scaling model size would persist as long as we need to accommodate more domains within the same model.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib" lang="en">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bañón et al. [2020]</span>
<span class="ltx_bibblock">
Marta Bañón, Pinzhen Chen, Barry Haddow, Kenneth Heafield, Hieu Hoang, Miquel Esplà-Gomis, Mikel L. Forcada, Amir Kamran, Faheem Kirefu, Philipp Koehn, Sergio Ortiz Rojas, Leopoldo Pla Sempere, Gema Ramírez-Sánchez, Elsa Sarrías, Marek Strelec, Brian Thompson, William Waites, Dion Wiggins, and Jaume Zaragoza.

</span>
<span class="ltx_bibblock">ParaCrawl: Web-scale acquisition of parallel corpora.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pages 4555–4567, Online, 2020. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bapna and Firat [2019]</span>
<span class="ltx_bibblock">
Ankur Bapna and Orhan Firat.

</span>
<span class="ltx_bibblock">Simple, scalable adaptation for neural machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)</em>, pages 1538–1548, Hong Kong, China, 2019. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berard et al. [2019]</span>
<span class="ltx_bibblock">
Alexandre Berard, Ioan Calapodescu, Marc Dymetman, Claude Roux, Jean-Luc Meunier, and Vassilina Nikoulina.

</span>
<span class="ltx_bibblock">Machine translation of restaurant reviews: New corpus for domain adaptation and robustness.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">Proceedings of the 3rd Workshop on Neural Generation and Translation</em>, pages 168–176, Hong Kong, 2019. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Berard et al. [2021]</span>
<span class="ltx_bibblock">
Alexandre Berard, Dain Lee, Stephane Clinchant, Kweonwoo Jung, and Vassilina Nikoulina.

</span>
<span class="ltx_bibblock">Efficient inference for multilingual neural machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em>, pages 8563–8583, Online and Punta Cana, Dominican Republic, 2021. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Britz et al. [2017]</span>
<span class="ltx_bibblock">
Denny Britz, Quoc Le, and Reid Pryzant.

</span>
<span class="ltx_bibblock">Effective domain mixing for neural machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Proceedings of the Second Conference on Machine Translation</em>, pages 118–126, Copenhagen, Denmark, 2017. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dabre et al. [2020]</span>
<span class="ltx_bibblock">
Raj Dabre, Chenhui Chu, and Anoop Kunchukuttan.

</span>
<span class="ltx_bibblock">A comprehensive survey of multilingual neural machine translation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2001.01115</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al. [2022]</span>
<span class="ltx_bibblock">
Nan Du, Yanping Huang, Andrew M Dai, Simon Tong, Dmitry Lepikhin, Yuanzhong Xu, Maxim Krikun, Yanqi Zhou, Adams Wei Yu, Orhan Firat, Barret Zoph, Liam Fedus, Maarten P Bosma, Zongwei Zhou, Tao Wang, Emma Wang, Kellie Webster, Marie Pellat, Kevin Robinson, Kathleen Meier-Hellstern, Toju Duke, Lucas Dixon, Kun Zhang, Quoc Le, Yonghui Wu, Zhifeng Chen, and Claire Cui.

</span>
<span class="ltx_bibblock">GLaM: Efficient scaling of language models with mixture-of-experts.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of the 39th International Conference on Machine Learning</em>, pages 5547–5569. PMLR, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gupta et al. [2022]</span>
<span class="ltx_bibblock">
Shashank Gupta, Subhabrata Mukherjee, Krishan Subudhi, Eduardo Gonzalez, Damien Jose, Ahmed H. Awadallah, and Jianfeng Gao.

</span>
<span class="ltx_bibblock">Sparsely activated mixture-of-experts are robust multi-task learners, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. [2020]</span>
<span class="ltx_bibblock">
Yi-Te Hsu, Sarthak Garg, Yi-Hsiu Liao, and Ilya Chatsviorkin.

</span>
<span class="ltx_bibblock">Efficient inference for neural machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of SustaiNLP: Workshop on Simple and Efficient Natural Language Processing</em>, pages 48–53, Online, 2020. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hwang et al. [2022]</span>
<span class="ltx_bibblock">
Changho Hwang, Wei Cui, Yifan Xiong, Ziyue Yang, Ze Liu, Han Hu, Zilong Wang, Rafael Salas, Jithin Jose, Prabhat Ram, Joe Chau, Peng Cheng, Fan Yang, Mao Yang, and Yongqiang Xiong.

</span>
<span class="ltx_bibblock">Tutel: Adaptive mixture-of-experts at scale.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">CoRR</em>, abs/2206.03382, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. [2020]</span>
<span class="ltx_bibblock">
Haoming Jiang, Chen Liang, Chong Wang, and Tuo Zhao.

</span>
<span class="ltx_bibblock">Multi-domain neural machine translation with word-level adaptive layer-wise domain mixing.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pages 1823–1834, Online, 2020. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al. [2021]</span>
<span class="ltx_bibblock">
Young Jin Kim, Ammar Ahmad Awan, Alexandre Muzio, Andres Felipe Cruz Salinas, Liyang Lu, Amr Hendy, Samyam Rajbhandari, Yuxiong He, and Hany Hassan Awadalla.

</span>
<span class="ltx_bibblock">Scalable and efficient moe training for multitask multilingual models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2109.10465</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kobus et al. [2017]</span>
<span class="ltx_bibblock">
Catherine Kobus, Josep Crego, and Jean Senellart.

</span>
<span class="ltx_bibblock">Domain Control for Neural Machine Translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the International Conference Recent Advances in Natural Language Processing, RANLP 2017</em>, pages 372–378, Varna, Bulgaria, 2017. INCOMA Ltd.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koishekenov et al. [2022]</span>
<span class="ltx_bibblock">
Yeskendir Koishekenov, Vassilina Nikoulina, and Alexandre Berard.

</span>
<span class="ltx_bibblock">Memory-efficient nllb-200: Language-specific expert pruning of a massively multilingual machine translation model, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kudugunta et al. [2021]</span>
<span class="ltx_bibblock">
Sneha Kudugunta, Yanping Huang, Ankur Bapna, Maxim Krikun, Dmitry Lepikhin, Minh-Thang Luong, and Orhan Firat.

</span>
<span class="ltx_bibblock">Beyond distillation: Task-level mixture-of-experts for efficient inference.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Findings of the Association for Computational Linguistics: EMNLP 2021</em>, pages 3577–3599, Punta Cana, Dominican Republic, 2021. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lepikhin et al. [2020]</span>
<span class="ltx_bibblock">
Dmitry Lepikhin, HyoukJoong Lee, Yuanzhong Xu, Dehao Chen, Orhan Firat, Yanping Huang, Maxim Krikun, Noam Shazeer, and Zhifeng Chen.

</span>
<span class="ltx_bibblock">Gshard: Scaling giant models with conditional computation and automatic sharding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">arXiv preprint arXiv:2006.16668</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lison and Tiedemann [2016]</span>
<span class="ltx_bibblock">
Pierre Lison and Jörg Tiedemann.

</span>
<span class="ltx_bibblock">OpenSubtitles2016: Extracting large parallel corpora from movie and TV subtitles.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Proceedings of the Tenth International Conference on Language Resources and Evaluation (LREC’16)</em>, pages 923–929, Portorož, Slovenia, 2016. European Language Resources Association (ELRA).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">NLLB-Team [2022]</span>
<span class="ltx_bibblock">
NLLB-Team.

</span>
<span class="ltx_bibblock">No language left behind: Scaling human-centered machine translation.

</span>
<span class="ltx_bibblock">2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pham et al. [2021]</span>
<span class="ltx_bibblock">
MinhQuang Pham, Josep Maria Crego, and François Yvon.

</span>
<span class="ltx_bibblock">Revisiting multi-domain machine translation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Transactions of the Association for Computational Linguistics</em>, 9:17–35, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pham et al. [2022a]</span>
<span class="ltx_bibblock">
Minh-Quang Pham, Josep Crego, and François Yvon.

</span>
<span class="ltx_bibblock">Multi-domain adaptation in neural machine translation with dynamic sampling strategies.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 23rd Annual Conference of the European Association for Machine Translation</em>, pages 13–22, Ghent, Belgium, 2022a. European Association for Machine Translation.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pham et al. [2022b]</span>
<span class="ltx_bibblock">
Minh-Quang Pham, François Yvon, and Josep Crego.

</span>
<span class="ltx_bibblock">Latent group dropout for multilingual and multidomain machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Findings of the Association for Computational Linguistics: NAACL 2022</em>, pages 2469–2481, Seattle, United States, 2022b. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al. [2018]</span>
<span class="ltx_bibblock">
Ye Qi, Devendra Sachan, Matthieu Felix, Sarguna Padmanabhan, and Graham Neubig.

</span>
<span class="ltx_bibblock">When and why are pre-trained word embeddings useful for neural machine translation?

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Proceedings of the 2018 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 2 (Short Papers)</em>, pages 529–535, New Orleans, Louisiana, 2018. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Saunders [2022]</span>
<span class="ltx_bibblock">
Danielle Saunders.

</span>
<span class="ltx_bibblock">Domain adaptation and multi-domain adaptation for neural machine translation: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">J. Artif. Int. Res.</em>, 75, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shazeer et al. [2017]</span>
<span class="ltx_bibblock">
Noam Shazeer, *Azalia Mirhoseini, *Krzysztof Maziarz, Andy Davis, Quoc Le, Geoffrey Hinton, and Jeff Dean.

</span>
<span class="ltx_bibblock">Outrageously large neural networks: The sparsely-gated mixture-of-experts layer.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">International Conference on Learning Representations</em>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Steinberger et al. [2006]</span>
<span class="ltx_bibblock">
Ralf Steinberger, Bruno Pouliquen, Anna Widiger, Camelia Ignat, Tomaž Erjavec, Dan Tufiş, and Dániel Varga.

</span>
<span class="ltx_bibblock">The JRC-Acquis: A multilingual aligned parallel corpus with 20+ languages.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Proceedings of the Fifth International Conference on Language Resources and Evaluation (LREC’06)</em>, Genoa, Italy, 2006. European Language Resources Association (ELRA).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tars and Fishel [2018]</span>
<span class="ltx_bibblock">
Sander Tars and Mark Fishel.

</span>
<span class="ltx_bibblock">Multi-domain neural machine translation, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tiedemann [2012a]</span>
<span class="ltx_bibblock">
Jörg Tiedemann.

</span>
<span class="ltx_bibblock">Parallel data, tools and interfaces in opus.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the Eight International Conference on Language Resources and Evaluation (LREC’12)</em>, Istanbul, Turkey, 2012a. European Language Resources Association (ELRA).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tiedemann [2012b]</span>
<span class="ltx_bibblock">
Jörg Tiedemann.

</span>
<span class="ltx_bibblock">Parallel data, tools and interfaces in opus.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">Proceedings of the Eight International Conference on Language Resources and Evaluation (LREC’12)</em>, Istanbul, Turkey, 2012b. European Language Resources Association (ELRA).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. [2017]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, L ukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Advances in Neural Information Processing Systems</em>. Curran Associates, Inc., 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2020]</span>
<span class="ltx_bibblock">
Wei Wang, Ye Tian, Jiquan Ngiam, Yinfei Yang, Isaac Caswell, and Zarana Parekh.

</span>
<span class="ltx_bibblock">Learning a multi-domain curriculum for neural machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em>, pages 7711–7723, Online, 2020. Association for Computational Linguistics.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wäschle and Riezler [2012]</span>
<span class="ltx_bibblock">
Katharina Wäschle and Stefan Riezler.

</span>
<span class="ltx_bibblock">Analyzing parallelism and domain similarities in the marec patent corpus.

</span>
<span class="ltx_bibblock">2012.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1" lang="en">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Experimental setup</h2>
<figure class="ltx_table" id="A1.T7">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T7.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T7.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="A1.T7.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.1.1">Domain</span></th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T7.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.1.1.2.1">
<span class="ltx_p" id="A1.T7.1.1.1.2.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.2.1.1.1">Train (M)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T7.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.1.1.3.1">
<span class="ltx_p" id="A1.T7.1.1.1.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.3.1.1.1">Valid (K)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T7.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.1.1.4.1">
<span class="ltx_p" id="A1.T7.1.1.1.4.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.4.1.1.1">Test (K)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T7.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.1.1.5.1">
<span class="ltx_p" id="A1.T7.1.1.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T7.1.1.1.5.1.1.1">Sampl. prob.</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T7.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T7.1.2.1.1">Generic</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T7.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.2.1.2.1">
<span class="ltx_p" id="A1.T7.1.2.1.2.1.1" style="width:28.5pt;">33.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T7.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.2.1.3.1">
<span class="ltx_p" id="A1.T7.1.2.1.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T7.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.2.1.4.1">
<span class="ltx_p" id="A1.T7.1.2.1.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T7.1.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.2.1.5.1">
<span class="ltx_p" id="A1.T7.1.2.1.5.1.1" style="width:28.5pt;">50%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.3.2.1">Europarl</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.3.2.2.1">
<span class="ltx_p" id="A1.T7.1.3.2.2.1.1" style="width:28.5pt;">1.70</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.3.2.3.1">
<span class="ltx_p" id="A1.T7.1.3.2.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.3.2.4.1">
<span class="ltx_p" id="A1.T7.1.3.2.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.3.2.5.1">
<span class="ltx_p" id="A1.T7.1.3.2.5.1.1" style="width:28.5pt;">18%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.4.3.1">Patents</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.4.3.2.1">
<span class="ltx_p" id="A1.T7.1.4.3.2.1.1" style="width:28.5pt;">1.00</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.4.3.3.1">
<span class="ltx_p" id="A1.T7.1.4.3.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.4.3.4.1">
<span class="ltx_p" id="A1.T7.1.4.3.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.4.3.5.1">
<span class="ltx_p" id="A1.T7.1.4.3.5.1.1" style="width:28.5pt;">10%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.5.4.1">Subtitles</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.5.4.2.1">
<span class="ltx_p" id="A1.T7.1.5.4.2.1.1" style="width:28.5pt;">0.50</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.5.4.3.1">
<span class="ltx_p" id="A1.T7.1.5.4.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.5.4.4.1">
<span class="ltx_p" id="A1.T7.1.5.4.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.5.4.5.1">
<span class="ltx_p" id="A1.T7.1.5.4.5.1.1" style="width:28.5pt;">5.3%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.6.5.1">Law</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.6.5.2.1">
<span class="ltx_p" id="A1.T7.1.6.5.2.1.1" style="width:28.5pt;">0.47</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.6.5.3.1">
<span class="ltx_p" id="A1.T7.1.6.5.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.6.5.4.1">
<span class="ltx_p" id="A1.T7.1.6.5.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.6.5.5.1">
<span class="ltx_p" id="A1.T7.1.6.5.5.1.1" style="width:28.5pt;">5.0%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.7.6.1">News-com.</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.7.6.2.1">
<span class="ltx_p" id="A1.T7.1.7.6.2.1.1" style="width:28.5pt;">0.35</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.7.6.3.1">
<span class="ltx_p" id="A1.T7.1.7.6.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.7.6.4.1">
<span class="ltx_p" id="A1.T7.1.7.6.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.7.6.5.1">
<span class="ltx_p" id="A1.T7.1.7.6.5.1.1" style="width:28.5pt;">3.7%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.8.7.1">Medical</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.8.7.2.1">
<span class="ltx_p" id="A1.T7.1.8.7.2.1.1" style="width:28.5pt;">0.25</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.8.7.3.1">
<span class="ltx_p" id="A1.T7.1.8.7.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.8.7.4.1">
<span class="ltx_p" id="A1.T7.1.8.7.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.8.7.5.1">
<span class="ltx_p" id="A1.T7.1.8.7.5.1.1" style="width:28.5pt;">2.6%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T7.1.9.8.1">Ted</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.9.8.2.1">
<span class="ltx_p" id="A1.T7.1.9.8.2.1.1" style="width:28.5pt;">0.17</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.9.8.3.1">
<span class="ltx_p" id="A1.T7.1.9.8.3.1.1" style="width:28.5pt;">4.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.9.8.4.1">
<span class="ltx_p" id="A1.T7.1.9.8.4.1.1" style="width:28.5pt;">4.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T7.1.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.9.8.5.1">
<span class="ltx_p" id="A1.T7.1.9.8.5.1.1" style="width:28.5pt;">1.8%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.10.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A1.T7.1.10.9.1">Wikititles</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T7.1.10.9.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.10.9.2.1">
<span class="ltx_p" id="A1.T7.1.10.9.2.1.1" style="width:28.5pt;">0.17</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T7.1.10.9.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.10.9.3.1">
<span class="ltx_p" id="A1.T7.1.10.9.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T7.1.10.9.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.10.9.4.1">
<span class="ltx_p" id="A1.T7.1.10.9.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T7.1.10.9.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T7.1.10.9.5.1">
<span class="ltx_p" id="A1.T7.1.10.9.5.1.1" style="width:28.5pt;">1.8%</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>English-German data statistics (line pairs) for seen domains. Sampl. prob. denotes the probability of sampling line pairs from the domain in the training data mixture.</figcaption>
</figure>
<figure class="ltx_table" id="A1.T8">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T8.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T8.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="A1.T8.1.1.1.1"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.1.1.1">Domain</span></th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T8.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.1.1.2.1">
<span class="ltx_p" id="A1.T8.1.1.1.2.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.1.2.1.1.1">Train (M)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T8.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.1.1.3.1">
<span class="ltx_p" id="A1.T8.1.1.1.3.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.1.3.1.1.1">Valid (K)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T8.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.1.1.4.1">
<span class="ltx_p" id="A1.T8.1.1.1.4.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.1.4.1.1.1">Test (K)</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A1.T8.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.1.1.5.1">
<span class="ltx_p" id="A1.T8.1.1.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A1.T8.1.1.1.5.1.1.1">Sampl. prob.</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T8.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T8.1.2.1.1">Generic</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T8.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.2.1.2.1">
<span class="ltx_p" id="A1.T8.1.2.1.2.1.1" style="width:28.5pt;">51.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T8.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.2.1.3.1">
<span class="ltx_p" id="A1.T8.1.2.1.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T8.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.2.1.4.1">
<span class="ltx_p" id="A1.T8.1.2.1.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A1.T8.1.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.2.1.5.1">
<span class="ltx_p" id="A1.T8.1.2.1.5.1.1" style="width:28.5pt;">50.0%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.3.2.1">Europarl</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.3.2.2.1">
<span class="ltx_p" id="A1.T8.1.3.2.2.1.1" style="width:28.5pt;">1.00</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.3.2.3.1">
<span class="ltx_p" id="A1.T8.1.3.2.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.3.2.4.1">
<span class="ltx_p" id="A1.T8.1.3.2.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.3.2.5.1">
<span class="ltx_p" id="A1.T8.1.3.2.5.1.1" style="width:28.5pt;">11.7%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.4.3.1">Patents</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.4.3.2.1">
<span class="ltx_p" id="A1.T8.1.4.3.2.1.1" style="width:28.5pt;">1.00</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.4.3.3.1">
<span class="ltx_p" id="A1.T8.1.4.3.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.4.3.4.1">
<span class="ltx_p" id="A1.T8.1.4.3.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.4.3.5.1">
<span class="ltx_p" id="A1.T8.1.4.3.5.1.1" style="width:28.5pt;">11.7%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.5.4.1">Subtitles</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.5.4.2.1">
<span class="ltx_p" id="A1.T8.1.5.4.2.1.1" style="width:28.5pt;">1.00</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.5.4.3.1">
<span class="ltx_p" id="A1.T8.1.5.4.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.5.4.4.1">
<span class="ltx_p" id="A1.T8.1.5.4.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.5.4.5.1">
<span class="ltx_p" id="A1.T8.1.5.4.5.1.1" style="width:28.5pt;">11.7%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.6.5.1">Law</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.6.5.2.1">
<span class="ltx_p" id="A1.T8.1.6.5.2.1.1" style="width:28.5pt;">0.50</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.6.5.3.1">
<span class="ltx_p" id="A1.T8.1.6.5.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.6.5.4.1">
<span class="ltx_p" id="A1.T8.1.6.5.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.6.5.5.1">
<span class="ltx_p" id="A1.T8.1.6.5.5.1.1" style="width:28.5pt;">5.91%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.7.6.1">Medical</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.7.6.2.1">
<span class="ltx_p" id="A1.T8.1.7.6.2.1.1" style="width:28.5pt;">0.40</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.7.6.3.1">
<span class="ltx_p" id="A1.T8.1.7.6.3.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.7.6.4.1">
<span class="ltx_p" id="A1.T8.1.7.6.4.1.1" style="width:28.5pt;">2.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.7.6.5.1">
<span class="ltx_p" id="A1.T8.1.7.6.5.1.1" style="width:28.5pt;">4.76%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A1.T8.1.8.7.1">Ted</th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.8.7.2.1">
<span class="ltx_p" id="A1.T8.1.8.7.2.1.1" style="width:28.5pt;">0.26</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.8.7.3.1">
<span class="ltx_p" id="A1.T8.1.8.7.3.1.1" style="width:28.5pt;">4.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.8.7.4.1">
<span class="ltx_p" id="A1.T8.1.8.7.4.1.1" style="width:28.5pt;">4.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A1.T8.1.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.8.7.5.1">
<span class="ltx_p" id="A1.T8.1.8.7.5.1.1" style="width:28.5pt;">2.26%</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A1.T8.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A1.T8.1.9.8.1">News-com.</th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T8.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.9.8.2.1">
<span class="ltx_p" id="A1.T8.1.9.8.2.1.1" style="width:28.5pt;">0.15</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T8.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.9.8.3.1">
<span class="ltx_p" id="A1.T8.1.9.8.3.1.1" style="width:28.5pt;">0.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T8.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.9.8.4.1">
<span class="ltx_p" id="A1.T8.1.9.8.4.1.1" style="width:28.5pt;">n/a</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A1.T8.1.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="A1.T8.1.9.8.5.1">
<span class="ltx_p" id="A1.T8.1.9.8.5.1.1" style="width:28.5pt;">1.79%</span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 8: </span>English-French data statistics (line pairs) for seen domains. Sampl. prob. denotes the probability of sampling the domain in the training data mixture.</figcaption>
</figure>
<section class="ltx_paragraph" id="A1.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Data.</h4>
<div class="ltx_para" id="A1.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="A1.SS0.SSS0.Px1.p1.1">We experiment with the German-English (De-En), English-German (En-De) and English-French (En-Fr) translation directions.</p>
</div>
<div class="ltx_para" id="A1.SS0.SSS0.Px1.p2">
<p class="ltx_p" id="A1.SS0.SSS0.Px1.p2.1">All models are trained on a mix of generic data (Paracrawl, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib1" title="">1</a></cite>) and several <span class="ltx_text ltx_font_italic" id="A1.SS0.SSS0.Px1.p2.1.1">seen</span> domains:</p>
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.1">Medical (European Medicines Agency documents, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib27" title="">27</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1">Law (JRC-Acquis legislative EU texts, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib25" title="">25</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i3.p1.1">Ted (TED talks transcriptions, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib22" title="">22</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i4.p1">
<p class="ltx_p" id="A1.I1.i4.p1.1">Subtitles (OpenSubtitles dataset, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib17" title="">17</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i5.p1">
<p class="ltx_p" id="A1.I1.i5.p1.1">Patents (PatTR dataset, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib31" title="">31</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i6.p1">
<p class="ltx_p" id="A1.I1.i6.p1.1">Europarl (European Parliament Proceedings);</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i7.p1">
<p class="ltx_p" id="A1.I1.i7.p1.1">News-commentary;</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i8" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I1.i8.p1">
<p class="ltx_p" id="A1.I1.i8.p1.1">Wikititles<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://linguatools.org/tools/corpora/wikipedia-parallel-titles-corpora/" title="">https://linguatools.org/tools/corpora/wikipedia-parallel-titles-corpora/</a></span></span></span>.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="A1.SS0.SSS0.Px1.p2.2">The selection of seen domains is motivated by having domains of different sizes and having a pair of close domains, TED Talks and Subtitles (they both relate to spoken language). We also test the generalization capabilities of models on a set of <span class="ltx_text ltx_font_italic" id="A1.SS0.SSS0.Px1.p2.2.1">unseen</span> domains:</p>
<ul class="ltx_itemize" id="A1.I2">
<li class="ltx_item" id="A1.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i1.p1">
<p class="ltx_p" id="A1.I2.i1.p1.1">IT (manuals and localization files of open-source software: GNOME, KDE, PHP, Ubuntu, and
OpenOffice);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i2.p1">
<p class="ltx_p" id="A1.I2.i2.p1.1">Koran;</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i3.p1">
<p class="ltx_p" id="A1.I2.i3.p1.1">Flores (Wikipedia sentences, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib18" title="">18</a></cite>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i4.p1">
<p class="ltx_p" id="A1.I2.i4.p1.1">Patents (medical);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i5.p1">
<p class="ltx_p" id="A1.I2.i5.p1.1">Subtitles (medical);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i6.p1">
<p class="ltx_p" id="A1.I2.i6.p1.1">Medical abstracts (MuchMore dataset<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://muchmore.dfki.de/resources1.htm" title="">https://muchmore.dfki.de/resources1.htm</a>, available only for En-De.</span></span></span>);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i7" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i7.p1">
<p class="ltx_p" id="A1.I2.i7.p1.1">European Central Bank documentation (ECB, <cite class="ltx_cite ltx_citemacro_citep"><a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib28" title="">28</a></cite>, used only for En-Fr);</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.i8" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="A1.I2.i8.p1">
<p class="ltx_p" id="A1.I2.i8.p1.1">World bank data (used only for En-Fr).</p>
</div>
</li>
</ul>
<p class="ltx_p" id="A1.SS0.SSS0.Px1.p2.3">Medical abstracts, Patents (medical), and Subtitles (medical) are obtained from the UFAL Medical Corpus v. 1.0<span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ufal.mff.cuni.cz/ufal_medical_corpus" title="">https://ufal.mff.cuni.cz/ufal_medical_corpus</a></span></span></span>, and all the medical examples from this corpus are excluded from the training data. The purpose of introducing Medical abstracts, Patents (medical), and Subtitles (medical) domains is to test models’ capabilities to recognize unseen domains related to some seen domains (Medical, Patents, and Subtitles). Europarl, News-commentary, Medical, Law, Ted, Subtitles, IT, Koran, and ECB data is a part of the OPUS collection <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib28" title="">28</a>]</cite>.</p>
</div>
<div class="ltx_para" id="A1.SS0.SSS0.Px1.p3">
<p class="ltx_p" id="A1.SS0.SSS0.Px1.p3.1">Tables <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1.T7" title="Table 7 ‣ Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">7</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A1.T8" title="Table 8 ‣ Appendix A Experimental setup ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">8</span></a> list data statistics. During training all the models except the experiment reported in Section <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.SS1.SSS0.Px8" title="Necessity of generic data and model scaling for multi-domain models. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">5.1</span></a>, we sample the generic domain with probability 50% and other domains with probabilities proportional to their size in terms of line pairs.</p>
</div>
</section>
<section class="ltx_paragraph" id="A1.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Training.</h4>
<div class="ltx_para" id="A1.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="A1.SS0.SSS0.Px2.p1.1">All the models are trained from scratch for 100k updates in mixed precision on four A100 or V100 GPUs, with a batch size of maximum 4000 tokens and accumulated gradients over 16 batches. We do not use early stopping, as usually all validation curves continue growing until the end of the training. Only data parallelism is used, model parallelism is not needed as all the models fit into a single GPU’s memory. We use the Adam optimizer with the inverse square root learning rate schedule, with a warmup of 4k steps and a maximum learning rate of 0.001. The data is tokenized using Byte Pair Encoding with a vocabulary of size 24K for English-German and 16K for English-French.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A2" lang="en">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Additional results for the setting with wrong domain labels</h2>
<figure class="ltx_table" id="A2.T9">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T9.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T9.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="A2.T9.1.1.1.1"></th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T9.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.2.1">
<span class="ltx_p" id="A2.T9.1.1.1.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.1.1.2.1.1.1" style="font-size:90%;">Subt</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T9.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.3.1">
<span class="ltx_p" id="A2.T9.1.1.1.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.1.1.3.1.1.1" style="font-size:90%;">Ted</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T9.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.4.1">
<span class="ltx_p" id="A2.T9.1.1.1.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.1.1.4.1.1.1" style="font-size:90%;">Law</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T9.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.5.1">
<span class="ltx_p" id="A2.T9.1.1.1.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.1.1.5.1.1.1" style="font-size:90%;">Med</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T9.1.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.1.1.6.1">
<span class="ltx_p" id="A2.T9.1.1.1.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.1.1.6.1.1.1" style="font-size:90%;">Pat</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T9.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T9.1.2.1.1"><span class="ltx_text" id="A2.T9.1.2.1.1.1" style="font-size:90%;">MoE + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T9.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.2.1">
<span class="ltx_p" id="A2.T9.1.2.1.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.2.1.2.1.1.1" style="font-size:90%;">50.41</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T9.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.3.1">
<span class="ltx_p" id="A2.T9.1.2.1.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.2.1.3.1.1.1" style="font-size:90%;">44.44</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T9.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.4.1">
<span class="ltx_p" id="A2.T9.1.2.1.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.2.1.4.1.1.1" style="font-size:90%;">39.76</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T9.1.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.5.1">
<span class="ltx_p" id="A2.T9.1.2.1.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.2.1.5.1.1.1" style="font-size:90%;">42.08</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T9.1.2.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.2.1.6.1">
<span class="ltx_p" id="A2.T9.1.2.1.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.2.1.6.1.1.1" style="font-size:90%;">41.38</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.3.2.1"><span class="ltx_text" id="A2.T9.1.3.2.1.1" style="font-size:90%;">MoE + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.2.2.1">
<span class="ltx_p" id="A2.T9.1.3.2.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.3.2.2.1.1.1" style="font-size:90%;">50.88</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.2.3.1">
<span class="ltx_p" id="A2.T9.1.3.2.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.3.2.3.1.1.1" style="font-size:90%;">50.25</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.2.4.1">
<span class="ltx_p" id="A2.T9.1.3.2.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.3.2.4.1.1.1" style="font-size:90%;">47.32</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.2.5.1">
<span class="ltx_p" id="A2.T9.1.3.2.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.3.2.5.1.1.1" style="font-size:90%;">49.97</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.3.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.3.2.6.1">
<span class="ltx_p" id="A2.T9.1.3.2.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.3.2.6.1.1.1" style="font-size:90%;">50.42</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.4.3.1"><span class="ltx_text" id="A2.T9.1.4.3.1.1" style="font-size:90%;">MoE Dom.aw.</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.3.2.1">
<span class="ltx_p" id="A2.T9.1.4.3.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.4.3.2.1.1.1" style="font-size:90%;">50.92</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.3.3.1">
<span class="ltx_p" id="A2.T9.1.4.3.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.4.3.3.1.1.1" style="font-size:90%;">36.44</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.3.4.1">
<span class="ltx_p" id="A2.T9.1.4.3.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.4.3.4.1.1.1" style="font-size:90%;">33.45</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.3.5.1">
<span class="ltx_p" id="A2.T9.1.4.3.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.4.3.5.1.1.1" style="font-size:90%;">36.97</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.4.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.4.3.6.1">
<span class="ltx_p" id="A2.T9.1.4.3.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.4.3.6.1.1.1" style="font-size:90%;">36.95</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.5.4.1"><span class="ltx_text" id="A2.T9.1.5.4.1.1" style="font-size:90%;">MoE Dom.aw. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.4.2.1">
<span class="ltx_p" id="A2.T9.1.5.4.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.5.4.2.1.1.1" style="font-size:90%;">50.77</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.4.3.1">
<span class="ltx_p" id="A2.T9.1.5.4.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.5.4.3.1.1.1" style="font-size:90%;">49.74</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.4.4.1">
<span class="ltx_p" id="A2.T9.1.5.4.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.5.4.4.1.1.1" style="font-size:90%;">41.96</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.4.5.1">
<span class="ltx_p" id="A2.T9.1.5.4.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.5.4.5.1.1.1" style="font-size:90%;">41.73</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.5.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.5.4.6.1">
<span class="ltx_p" id="A2.T9.1.5.4.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.5.4.6.1.1.1" style="font-size:90%;">49.42</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.6.5.1"><span class="ltx_text" id="A2.T9.1.6.5.1.1" style="font-size:90%;">MoE Dom.spec.</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.5.2.1">
<span class="ltx_p" id="A2.T9.1.6.5.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.6.5.2.1.1.1" style="font-size:90%;">50.94</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.5.3.1">
<span class="ltx_p" id="A2.T9.1.6.5.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.6.5.3.1.1.1" style="font-size:90%;">36.34</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.5.4.1">
<span class="ltx_p" id="A2.T9.1.6.5.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.6.5.4.1.1.1" style="font-size:90%;">33.45</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.5.5.1">
<span class="ltx_p" id="A2.T9.1.6.5.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.6.5.5.1.1.1" style="font-size:90%;">34.47</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.6.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.6.5.6.1">
<span class="ltx_p" id="A2.T9.1.6.5.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.6.5.6.1.1.1" style="font-size:90%;">34.85</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.7.6.1"><span class="ltx_text" id="A2.T9.1.7.6.1.1" style="font-size:90%;">MoE Dom.spec. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.7.6.2.1">
<span class="ltx_p" id="A2.T9.1.7.6.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.7.6.2.1.1.1" style="font-size:90%;">50.29</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.7.6.3.1">
<span class="ltx_p" id="A2.T9.1.7.6.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.7.6.3.1.1.1" style="font-size:90%;">48.02</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.7.6.4.1">
<span class="ltx_p" id="A2.T9.1.7.6.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.7.6.4.1.1.1" style="font-size:90%;">46.07</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.7.6.5.1">
<span class="ltx_p" id="A2.T9.1.7.6.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.7.6.5.1.1.1" style="font-size:90%;">47.31</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.7.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.7.6.6.1">
<span class="ltx_p" id="A2.T9.1.7.6.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.7.6.6.1.1.1" style="font-size:90%;">47.17</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T9.1.8.7.1"><span class="ltx_text" id="A2.T9.1.8.7.1.1" style="font-size:90%;">Tr. x5 + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.8.7.2.1">
<span class="ltx_p" id="A2.T9.1.8.7.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.8.7.2.1.1.1" style="font-size:90%;">50.55</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.8.7.3.1">
<span class="ltx_p" id="A2.T9.1.8.7.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.8.7.3.1.1.1" style="font-size:90%;">46.01</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.8.7.4.1">
<span class="ltx_p" id="A2.T9.1.8.7.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.8.7.4.1.1.1" style="font-size:90%;">37.86</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.8.7.5.1">
<span class="ltx_p" id="A2.T9.1.8.7.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.8.7.5.1.1.1" style="font-size:90%;">41.73</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T9.1.8.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.8.7.6.1">
<span class="ltx_p" id="A2.T9.1.8.7.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.8.7.6.1.1.1" style="font-size:90%;">44.49</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T9.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T9.1.9.8.1"><span class="ltx_text" id="A2.T9.1.9.8.1.1" style="font-size:90%;">Tr. x5 + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.9.8.2.1">
<span class="ltx_p" id="A2.T9.1.9.8.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.9.8.2.1.1.1" style="font-size:90%;">50.41</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.9.8.3.1">
<span class="ltx_p" id="A2.T9.1.9.8.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.9.8.3.1.1.1" style="font-size:90%;">50.06</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.9.8.4.1">
<span class="ltx_p" id="A2.T9.1.9.8.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.9.8.4.1.1.1" style="font-size:90%;">48.15</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.9.8.5.1">
<span class="ltx_p" id="A2.T9.1.9.8.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.9.8.5.1.1.1" style="font-size:90%;">49.55</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T9.1.9.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T9.1.9.8.6.1">
<span class="ltx_p" id="A2.T9.1.9.8.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T9.1.9.8.6.1.1.1" style="font-size:90%;">50.02</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 9: </span>BLEU scores for the De-En "Medical" test set, when decoding with various domain labels listed in column names.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T10">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T10.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T10.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="A2.T10.1.1.1.1"></th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T10.1.1.1.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.2.1">
<span class="ltx_p" id="A2.T10.1.1.1.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.1.1.2.1.1.1" style="font-size:90%;">Subt</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T10.1.1.1.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.3.1">
<span class="ltx_p" id="A2.T10.1.1.1.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.1.1.3.1.1.1" style="font-size:90%;">Ted</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T10.1.1.1.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.4.1">
<span class="ltx_p" id="A2.T10.1.1.1.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.1.1.4.1.1.1" style="font-size:90%;">Law</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T10.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.5.1">
<span class="ltx_p" id="A2.T10.1.1.1.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.1.1.5.1.1.1" style="font-size:90%;">Med</span></span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T10.1.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.1.1.6.1">
<span class="ltx_p" id="A2.T10.1.1.1.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.1.1.6.1.1.1" style="font-size:90%;">Pat</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T10.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T10.1.2.1.1"><span class="ltx_text" id="A2.T10.1.2.1.1.1" style="font-size:90%;">MoE + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T10.1.2.1.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.2.1">
<span class="ltx_p" id="A2.T10.1.2.1.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.2.1.2.1.1.1" style="font-size:90%;">54.48</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T10.1.2.1.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.3.1">
<span class="ltx_p" id="A2.T10.1.2.1.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.2.1.3.1.1.1" style="font-size:90%;">47.96</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T10.1.2.1.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.4.1">
<span class="ltx_p" id="A2.T10.1.2.1.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.2.1.4.1.1.1" style="font-size:90%;">41.60</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T10.1.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.5.1">
<span class="ltx_p" id="A2.T10.1.2.1.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.2.1.5.1.1.1" style="font-size:90%;">45.36</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T10.1.2.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.2.1.6.1">
<span class="ltx_p" id="A2.T10.1.2.1.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.2.1.6.1.1.1" style="font-size:90%;">44.16</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.3.2.1"><span class="ltx_text" id="A2.T10.1.3.2.1.1" style="font-size:90%;">MoE + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.2.2.1">
<span class="ltx_p" id="A2.T10.1.3.2.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.3.2.2.1.1.1" style="font-size:90%;">54.29</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.2.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.2.3.1">
<span class="ltx_p" id="A2.T10.1.3.2.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.3.2.3.1.1.1" style="font-size:90%;">54.00</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.2.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.2.4.1">
<span class="ltx_p" id="A2.T10.1.3.2.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.3.2.4.1.1.1" style="font-size:90%;">52.11</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.2.5.1">
<span class="ltx_p" id="A2.T10.1.3.2.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.3.2.5.1.1.1" style="font-size:90%;">53.49</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.3.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.3.2.6.1">
<span class="ltx_p" id="A2.T10.1.3.2.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.3.2.6.1.1.1" style="font-size:90%;">54.04</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.4.3.1"><span class="ltx_text" id="A2.T10.1.4.3.1.1" style="font-size:90%;">MoE Dom.aw.</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.3.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.3.2.1">
<span class="ltx_p" id="A2.T10.1.4.3.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.4.3.2.1.1.1" style="font-size:90%;">54.98</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.3.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.3.3.1">
<span class="ltx_p" id="A2.T10.1.4.3.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.4.3.3.1.1.1" style="font-size:90%;">36.74</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.3.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.3.4.1">
<span class="ltx_p" id="A2.T10.1.4.3.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.4.3.4.1.1.1" style="font-size:90%;">36.48</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.3.5.1">
<span class="ltx_p" id="A2.T10.1.4.3.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.4.3.5.1.1.1" style="font-size:90%;">38.41</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.4.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.4.3.6.1">
<span class="ltx_p" id="A2.T10.1.4.3.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.4.3.6.1.1.1" style="font-size:90%;">32.64</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.5.4.1"><span class="ltx_text" id="A2.T10.1.5.4.1.1" style="font-size:90%;">MoE Dom.aw. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.4.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.4.2.1">
<span class="ltx_p" id="A2.T10.1.5.4.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.5.4.2.1.1.1" style="font-size:90%;">54.57</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.4.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.4.3.1">
<span class="ltx_p" id="A2.T10.1.5.4.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.5.4.3.1.1.1" style="font-size:90%;">51.02</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.4.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.4.4.1">
<span class="ltx_p" id="A2.T10.1.5.4.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.5.4.4.1.1.1" style="font-size:90%;">45.20</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.4.5.1">
<span class="ltx_p" id="A2.T10.1.5.4.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.5.4.5.1.1.1" style="font-size:90%;">43.75</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.5.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.5.4.6.1">
<span class="ltx_p" id="A2.T10.1.5.4.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.5.4.6.1.1.1" style="font-size:90%;">54.19</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.6.5.1"><span class="ltx_text" id="A2.T10.1.6.5.1.1" style="font-size:90%;">MoE Dom.spec.</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.6.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.5.2.1">
<span class="ltx_p" id="A2.T10.1.6.5.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.6.5.2.1.1.1" style="font-size:90%;">54.71</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.6.5.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.5.3.1">
<span class="ltx_p" id="A2.T10.1.6.5.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.6.5.3.1.1.1" style="font-size:90%;">38.20</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.6.5.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.5.4.1">
<span class="ltx_p" id="A2.T10.1.6.5.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.6.5.4.1.1.1" style="font-size:90%;">32.12</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.5.5.1">
<span class="ltx_p" id="A2.T10.1.6.5.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.6.5.5.1.1.1" style="font-size:90%;">32.90</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.6.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.6.5.6.1">
<span class="ltx_p" id="A2.T10.1.6.5.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.6.5.6.1.1.1" style="font-size:90%;">26.02</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.7.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.7.6.1"><span class="ltx_text" id="A2.T10.1.7.6.1.1" style="font-size:90%;">MoE Dom.spec. + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.7.6.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.7.6.2.1">
<span class="ltx_p" id="A2.T10.1.7.6.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.7.6.2.1.1.1" style="font-size:90%;">54.98</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.7.6.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.7.6.3.1">
<span class="ltx_p" id="A2.T10.1.7.6.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.7.6.3.1.1.1" style="font-size:90%;">52.64</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.7.6.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.7.6.4.1">
<span class="ltx_p" id="A2.T10.1.7.6.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.7.6.4.1.1.1" style="font-size:90%;">44.20</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.7.6.5.1">
<span class="ltx_p" id="A2.T10.1.7.6.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.7.6.5.1.1.1" style="font-size:90%;">44.31</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.7.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.7.6.6.1">
<span class="ltx_p" id="A2.T10.1.7.6.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.7.6.6.1.1.1" style="font-size:90%;">47.46</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.8.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A2.T10.1.8.7.1"><span class="ltx_text" id="A2.T10.1.8.7.1.1" style="font-size:90%;">Tr. x5 + tags</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.8.7.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.8.7.2.1">
<span class="ltx_p" id="A2.T10.1.8.7.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.8.7.2.1.1.1" style="font-size:90%;">54.90</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.8.7.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.8.7.3.1">
<span class="ltx_p" id="A2.T10.1.8.7.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.8.7.3.1.1.1" style="font-size:90%;">49.87</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.8.7.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.8.7.4.1">
<span class="ltx_p" id="A2.T10.1.8.7.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.8.7.4.1.1.1" style="font-size:90%;">43.73</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.8.7.5.1">
<span class="ltx_p" id="A2.T10.1.8.7.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.8.7.5.1.1.1" style="font-size:90%;">46.68</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T10.1.8.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.8.7.6.1">
<span class="ltx_p" id="A2.T10.1.8.7.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.8.7.6.1.1.1" style="font-size:90%;">47.97</span></span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="A2.T10.1.9.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T10.1.9.8.1"><span class="ltx_text" id="A2.T10.1.9.8.1.1" style="font-size:90%;">Tr. x5 + tags + DR</span></th>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.9.8.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.9.8.2.1">
<span class="ltx_p" id="A2.T10.1.9.8.2.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.9.8.2.1.1.1" style="font-size:90%;">54.62</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.9.8.3">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.9.8.3.1">
<span class="ltx_p" id="A2.T10.1.9.8.3.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.9.8.3.1.1.1" style="font-size:90%;">54.58</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.9.8.4">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.9.8.4.1">
<span class="ltx_p" id="A2.T10.1.9.8.4.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.9.8.4.1.1.1" style="font-size:90%;">52.92</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.9.8.5.1">
<span class="ltx_p" id="A2.T10.1.9.8.5.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.9.8.5.1.1.1" style="font-size:90%;">53.96</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T10.1.9.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T10.1.9.8.6.1">
<span class="ltx_p" id="A2.T10.1.9.8.6.1.1" style="width:12.8pt;"><span class="ltx_text" id="A2.T10.1.9.8.6.1.1.1" style="font-size:90%;">54.68</span></span>
</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 10: </span>BLEU scores for the De-En "Law" test set, when decoding with various domain labels listed in column names.</figcaption>
</figure>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">Tables <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A2.T9" title="Table 9 ‣ Appendix B Additional results for the setting with wrong domain labels ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">9</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A2.T10" title="Table 10 ‣ Appendix B Additional results for the setting with wrong domain labels ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">10</span></a> show performance on "Medical" and "Law" domains, when decoding with various domain labels. The tables confirm the conclusion made in the main text that using the proposed domain randomisation improves model robustness to wrong domain labels at inference time.</p>
</div>
<figure class="ltx_table" id="A2.T11">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T11.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T11.2.3.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A2.T11.2.3.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.3.1.1.1">
<span class="ltx_p" id="A2.T11.2.3.1.1.1.1" style="width:139.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.1.1.1.1">Model</span></span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T11.2.3.1.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T11.2.3.1.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.3.1">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T11.2.3.1.4"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.4.1">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T11.2.3.1.5"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.5.1">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T11.2.3.1.6"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.6.1">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T11.2.3.1.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.3.1.7.1">Avg.</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.4.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T11.2.4.2.1">Without access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T11.2.5.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T11.2.5.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.5.3.1.1">
<span class="ltx_p" id="A2.T11.2.5.3.1.1.1" style="width:139.4pt;">Transformer Base (TB)</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.5.3.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.5.3.2.1">45.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.5.3.3">43.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.5.3.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.5.3.4.1">34.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.5.3.5">25.0</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T11.2.5.3.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.5.3.6.1">28.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.5.3.7">35.3</td>
</tr>
<tr class="ltx_tr" id="A2.T11.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.1.1.1.1">
<span class="ltx_p" id="A2.T11.1.1.1.1.1" style="width:139.4pt;">Transformer width x1.5<sup class="ltx_sup" id="A2.T11.1.1.1.1.1.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.1.1.2">46.2</td>
<td class="ltx_td ltx_align_center" id="A2.T11.1.1.3">43.5</td>
<td class="ltx_td ltx_align_center" id="A2.T11.1.1.4">34.7</td>
<td class="ltx_td ltx_align_center" id="A2.T11.1.1.5">25.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.1.1.6">28.6</td>
<td class="ltx_td ltx_align_center" id="A2.T11.1.1.7">35.7</td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.6.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.6.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.6.4.1.1">
<span class="ltx_p" id="A2.T11.2.6.4.1.1.1" style="width:139.4pt;">Transformer width x5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.6.4.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.2.1">48.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.6.4.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.3.1">44.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.6.4.4"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.4.1">35.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.6.4.5"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.5.1">26.2</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.6.4.6"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.6.1">29.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.6.4.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.6.4.7.1">36.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.7.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.7.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.7.5.1.1">
<span class="ltx_p" id="A2.T11.2.7.5.1.1.1" style="width:139.4pt;">Mixture of Experts (MoE)</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.7.5.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.7.5.2.1">48.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.7.5.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.7.5.3.1">44.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.7.5.4"><span class="ltx_text ltx_font_bold" id="A2.T11.2.7.5.4.1">35.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.7.5.5">25.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.7.5.6"><span class="ltx_text ltx_font_bold" id="A2.T11.2.7.5.6.1">28.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.7.5.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.7.5.7.1">36.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.8.6">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T11.2.8.6.1">With access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T11.2.9.7">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T11.2.9.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.9.7.1.1">
<span class="ltx_p" id="A2.T11.2.9.7.1.1.1" style="width:139.4pt;">TB + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.9.7.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.9.7.2.1">45.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.9.7.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.9.7.3.1">42.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.9.7.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.9.7.4.1">34.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.9.7.5">26.5</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T11.2.9.7.6">28.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T11.2.9.7.7">35.6</td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.2.1.1">
<span class="ltx_p" id="A2.T11.2.2.1.1.1" style="width:139.4pt;">Tr. x1.5 + domain tags<sup class="ltx_sup" id="A2.T11.2.2.1.1.1.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.2.2">46.2</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.2.3">43.8</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.2.4">35.3</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.2.5">26.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.2.6">28.5</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.2.7">36.0</td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.10.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.10.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.10.8.1.1">
<span class="ltx_p" id="A2.T11.2.10.8.1.1.1" style="width:139.4pt;">Tr. x5 + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.10.8.2">48.5</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.10.8.3">44.8</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.10.8.4">36.1</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.10.8.5">26.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.10.8.6">28.9</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.10.8.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.10.8.7.1">36.9</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.11.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.11.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.11.9.1.1">
<span class="ltx_p" id="A2.T11.2.11.9.1.1.1" style="width:139.4pt;">TB + domain adapters</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.11.9.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.11.9.2.1">48.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.11.9.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.11.9.3.1">46.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.11.9.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.11.9.4.1">33.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.11.9.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.2.11.9.5.1">25.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.11.9.6">28.7</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.11.9.7">36.3</td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.12.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.12.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.12.10.1.1">
<span class="ltx_p" id="A2.T11.2.12.10.1.1.1" style="width:139.4pt;">MoE + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.12.10.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.12.10.2.1">48.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.12.10.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.12.10.3.1">45.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.12.10.4"><span class="ltx_text ltx_font_bold" id="A2.T11.2.12.10.4.1">35.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.12.10.5">26.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.12.10.6">28.5</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.12.10.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.12.10.7.1">36.8</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.13.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.13.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.13.11.1.1">
<span class="ltx_p" id="A2.T11.2.13.11.1.1.1" style="width:139.4pt;">MoE + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.13.11.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.13.11.2.1">47.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.13.11.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.13.11.3.1">45.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.13.11.4"><span class="ltx_text ltx_font_bold" id="A2.T11.2.13.11.4.1">35.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.13.11.5">26.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.13.11.6">28.7</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.13.11.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.13.11.7.1">36.7</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.14.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T11.2.14.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.14.12.1.1">
<span class="ltx_p" id="A2.T11.2.14.12.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T11.2.14.12.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.14.12.2.1">47.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.14.12.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.14.12.3.1">46.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.14.12.4">35.6</td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.14.12.5">26.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T11.2.14.12.6"><span class="ltx_text ltx_font_bold" id="A2.T11.2.14.12.6.1">28.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T11.2.14.12.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.14.12.7.1">37.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T11.2.15.13">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T11.2.15.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T11.2.15.13.1.1">
<span class="ltx_p" id="A2.T11.2.15.13.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T11.2.15.13.2"><span class="ltx_text ltx_font_bold" id="A2.T11.2.15.13.2.1">47.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T11.2.15.13.3"><span class="ltx_text ltx_font_bold" id="A2.T11.2.15.13.3.1">44.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T11.2.15.13.4">35.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T11.2.15.13.5">26.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T11.2.15.13.6">28.7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T11.2.15.13.7"><span class="ltx_text ltx_font_bold" id="A2.T11.2.15.13.7.1">36.6</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 11: </span>Results (BLEU) for seen domains, English-German translation. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T11.12.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T11.6.m1.1"><semantics id="A2.T11.6.m1.1b"><mo id="A2.T11.6.m1.1.1" xref="A2.T11.6.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T11.6.m1.1c"><times id="A2.T11.6.m1.1.1.cmml" xref="A2.T11.6.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.6.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T11.6.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T11.7.m2.1"><semantics id="A2.T11.7.m2.1b"><mo id="A2.T11.7.m2.1.1" xref="A2.T11.7.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T11.7.m2.1c"><times id="A2.T11.7.m2.1.1.cmml" xref="A2.T11.7.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T11.7.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T11.7.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T11.13.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T11.14.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T12">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T12.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T12.2.3.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T12.2.3.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.3.1.1.1">
<span class="ltx_p" id="A2.T12.2.3.1.1.1.1" style="width:156.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.1.1.1.1">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T12.2.3.1.2"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.2.1">Flores</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T12.2.3.1.3"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.3.1">IT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T12.2.3.1.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.4.1">Koran</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T12.2.3.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.3.1.5.1">
<span class="ltx_p" id="A2.T12.2.3.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.5.1.1.1">Pat (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T12.2.3.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.3.1.6.1">
<span class="ltx_p" id="A2.T12.2.3.1.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.6.1.1.1">Subt (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T12.2.3.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.3.1.7.1">
<span class="ltx_p" id="A2.T12.2.3.1.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.7.1.1.1">Med abst</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T12.2.3.1.8"><span class="ltx_text ltx_font_bold" id="A2.T12.2.3.1.8.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.4.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="8" id="A2.T12.2.4.2.1">Without access to seen domains labels</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.5.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T12.2.5.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.5.3.1.1">
<span class="ltx_p" id="A2.T12.2.5.3.1.1.1" style="width:156.5pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.5.3.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.5.3.2.1">36.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.5.3.3">28.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.5.3.4">10.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T12.2.5.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.5.3.5.1">
<span class="ltx_p" id="A2.T12.2.5.3.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.5.3.5.1.1.1">31.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T12.2.5.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.5.3.6.1">
<span class="ltx_p" id="A2.T12.2.5.3.6.1.1" style="width:28.5pt;">32.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T12.2.5.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.5.3.7.1">
<span class="ltx_p" id="A2.T12.2.5.3.7.1.1" style="width:28.5pt;">11.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.5.3.8">25.2</td>
</tr>
<tr class="ltx_tr" id="A2.T12.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.1.1">
<span class="ltx_p" id="A2.T12.1.1.1.1.1" style="width:156.5pt;">Transformer width x1.5<sup class="ltx_sup" id="A2.T12.1.1.1.1.1.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.1.1.2">37.1</td>
<td class="ltx_td ltx_align_center" id="A2.T12.1.1.3">28.5</td>
<td class="ltx_td ltx_align_center" id="A2.T12.1.1.4">10.9</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.5.1">
<span class="ltx_p" id="A2.T12.1.1.5.1.1" style="width:28.5pt;">32.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.6.1">
<span class="ltx_p" id="A2.T12.1.1.6.1.1" style="width:28.5pt;">33.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.1.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.1.1.7.1">
<span class="ltx_p" id="A2.T12.1.1.7.1.1" style="width:28.5pt;">11.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.1.1.8">25.5</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.6.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.6.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.6.4.1.1">
<span class="ltx_p" id="A2.T12.2.6.4.1.1.1" style="width:156.5pt;">Transformer width x5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.6.4.2"><span class="ltx_text ltx_font_bold" id="A2.T12.2.6.4.2.1">37.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.6.4.3"><span class="ltx_text ltx_font_bold" id="A2.T12.2.6.4.3.1">29.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.6.4.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.6.4.4.1">11.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.6.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.6.4.5.1">
<span class="ltx_p" id="A2.T12.2.6.4.5.1.1" style="width:28.5pt;">32.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.6.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.6.4.6.1">
<span class="ltx_p" id="A2.T12.2.6.4.6.1.1" style="width:28.5pt;">33.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.6.4.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.6.4.7.1">
<span class="ltx_p" id="A2.T12.2.6.4.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.6.4.7.1.1.1">11.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.6.4.8"><span class="ltx_text ltx_font_bold" id="A2.T12.2.6.4.8.1">26.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.7.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.7.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.7.5.1.1">
<span class="ltx_p" id="A2.T12.2.7.5.1.1.1" style="width:156.5pt;">Mixture of Experts (MoE)</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.7.5.2">36.8</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.7.5.3">28.4</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.7.5.4">11.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.7.5.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.7.5.5.1">
<span class="ltx_p" id="A2.T12.2.7.5.5.1.1" style="width:28.5pt;">32.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.7.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.7.5.6.1">
<span class="ltx_p" id="A2.T12.2.7.5.6.1.1" style="width:28.5pt;">33.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.7.5.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.7.5.7.1">
<span class="ltx_p" id="A2.T12.2.7.5.7.1.1" style="width:28.5pt;">11.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.7.5.8">25.6</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.8.6">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="8" id="A2.T12.2.8.6.1">Without access to seen domains labels</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.9.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T12.2.9.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.9.7.1.1">
<span class="ltx_p" id="A2.T12.2.9.7.1.1.1" style="width:156.5pt;">TB + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.9.7.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.9.7.2.1">35.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.9.7.3">28.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.9.7.4">10.9</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T12.2.9.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.9.7.5.1">
<span class="ltx_p" id="A2.T12.2.9.7.5.1.1" style="width:28.5pt;">30.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T12.2.9.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.9.7.6.1">
<span class="ltx_p" id="A2.T12.2.9.7.6.1.1" style="width:28.5pt;">31.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T12.2.9.7.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.9.7.7.1">
<span class="ltx_p" id="A2.T12.2.9.7.7.1.1" style="width:28.5pt;">11.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T12.2.9.7.8">24.6</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.2.1.1">
<span class="ltx_p" id="A2.T12.2.2.1.1.1" style="width:156.5pt;">Tr. x1.5 + domain tags<sup class="ltx_sup" id="A2.T12.2.2.1.1.1.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.2.2">36.3</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.2.3">28.4</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.2.4">10.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.2.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.2.5.1">
<span class="ltx_p" id="A2.T12.2.2.5.1.1" style="width:28.5pt;">30.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.2.6.1">
<span class="ltx_p" id="A2.T12.2.2.6.1.1" style="width:28.5pt;">31.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.2.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.2.7.1">
<span class="ltx_p" id="A2.T12.2.2.7.1.1" style="width:28.5pt;">11.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.2.8">24.8</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.10.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.10.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.10.8.1.1">
<span class="ltx_p" id="A2.T12.2.10.8.1.1.1" style="width:156.5pt;">Tr. x5 + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.10.8.2">37.8</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.10.8.3">28.6</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.10.8.4">11.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.10.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.10.8.5.1">
<span class="ltx_p" id="A2.T12.2.10.8.5.1.1" style="width:28.5pt;">32.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.10.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.10.8.6.1">
<span class="ltx_p" id="A2.T12.2.10.8.6.1.1" style="width:28.5pt;">34.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.10.8.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.10.8.7.1">
<span class="ltx_p" id="A2.T12.2.10.8.7.1.1" style="width:28.5pt;">11.4</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.10.8.8"><span class="ltx_text ltx_font_bold" id="A2.T12.2.10.8.8.1">26.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.11.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.11.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.11.9.1.1">
<span class="ltx_p" id="A2.T12.2.11.9.1.1.1" style="width:156.5pt;">TB + domain adapters</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.11.9.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.11.9.2.1">35.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.11.9.3">28.8</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.11.9.4">10.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.11.9.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.11.9.5.1">
<span class="ltx_p" id="A2.T12.2.11.9.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.11.9.5.1.1.1">23.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.11.9.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.11.9.6.1">
<span class="ltx_p" id="A2.T12.2.11.9.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.11.9.6.1.1.1">29.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.11.9.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.11.9.7.1">
<span class="ltx_p" id="A2.T12.2.11.9.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.11.9.7.1.1.1">10.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.11.9.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.11.9.8.1">23.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.12.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.12.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.12.10.1.1">
<span class="ltx_p" id="A2.T12.2.12.10.1.1.1" style="width:156.5pt;">MoE + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.12.10.2">36.3</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.12.10.3">28.6</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.12.10.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.12.10.4.1">11.6</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.12.10.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.12.10.5.1">
<span class="ltx_p" id="A2.T12.2.12.10.5.1.1" style="width:28.5pt;">30.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.12.10.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.12.10.6.1">
<span class="ltx_p" id="A2.T12.2.12.10.6.1.1" style="width:28.5pt;">31.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.12.10.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.12.10.7.1">
<span class="ltx_p" id="A2.T12.2.12.10.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.12.10.7.1.1.1">11.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.12.10.8">25.0</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.13.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.13.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.13.11.1.1">
<span class="ltx_p" id="A2.T12.2.13.11.1.1.1" style="width:156.5pt;">MoE + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.13.11.2">36.5</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.13.11.3">28.5</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.13.11.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.13.11.4.1">11.2</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.13.11.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.13.11.5.1">
<span class="ltx_p" id="A2.T12.2.13.11.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.13.11.5.1.1.1">32.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.13.11.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.13.11.6.1">
<span class="ltx_p" id="A2.T12.2.13.11.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.13.11.6.1.1.1">33.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.13.11.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.13.11.7.1">
<span class="ltx_p" id="A2.T12.2.13.11.7.1.1" style="width:28.5pt;">11.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.13.11.8"><span class="ltx_text ltx_font_bold" id="A2.T12.2.13.11.8.1">25.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.14.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.14.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.14.12.1.1">
<span class="ltx_p" id="A2.T12.2.14.12.1.1.1" style="width:156.5pt;">MoE + Dom. Aware Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.14.12.2">36.2</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.14.12.3"><span class="ltx_text ltx_font_bold" id="A2.T12.2.14.12.3.1">29.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.14.12.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.14.12.4.1">11.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.14.12.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.14.12.5.1">
<span class="ltx_p" id="A2.T12.2.14.12.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.2.14.12.5.1.1.1">27.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.14.12.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.14.12.6.1">
<span class="ltx_p" id="A2.T12.2.14.12.6.1.1" style="width:28.5pt;">31.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.14.12.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.14.12.7.1">
<span class="ltx_p" id="A2.T12.2.14.12.7.1.1" style="width:28.5pt;">11.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.14.12.8">24.4</td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.15.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.15.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.15.13.1.1">
<span class="ltx_p" id="A2.T12.2.15.13.1.1.1" style="width:156.5pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.15.13.2"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.2.1">37.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.15.13.3">28.5</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.15.13.4"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.4.1">11.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.15.13.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.15.13.5.1">
<span class="ltx_p" id="A2.T12.2.15.13.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.5.1.1.1">32.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T12.2.15.13.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.15.13.6.1">
<span class="ltx_p" id="A2.T12.2.15.13.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.6.1.1.1">33.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T12.2.15.13.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.15.13.7.1">
<span class="ltx_p" id="A2.T12.2.15.13.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.7.1.1.1">11.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T12.2.15.13.8"><span class="ltx_text ltx_font_bold" id="A2.T12.2.15.13.8.1">25.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T12.2.16.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T12.2.16.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.16.14.1.1">
<span class="ltx_p" id="A2.T12.2.16.14.1.1.1" style="width:156.5pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T12.2.16.14.2">36.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T12.2.16.14.3">28.1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T12.2.16.14.4">10.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T12.2.16.14.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.16.14.5.1">
<span class="ltx_p" id="A2.T12.2.16.14.5.1.1" style="width:28.5pt;">31.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T12.2.16.14.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.16.14.6.1">
<span class="ltx_p" id="A2.T12.2.16.14.6.1.1" style="width:28.5pt;">32.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T12.2.16.14.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T12.2.16.14.7.1">
<span class="ltx_p" id="A2.T12.2.16.14.7.1.1" style="width:28.5pt;">11.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T12.2.16.14.8">25.2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 12: </span>Results for unseen domains (BLEU), English-German translation. For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T12.12.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T12.6.m1.1"><semantics id="A2.T12.6.m1.1b"><mo id="A2.T12.6.m1.1.1" xref="A2.T12.6.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T12.6.m1.1c"><times id="A2.T12.6.m1.1.1.cmml" xref="A2.T12.6.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.6.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T12.6.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T12.7.m2.1"><semantics id="A2.T12.7.m2.1b"><mo id="A2.T12.7.m2.1.1" xref="A2.T12.7.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T12.7.m2.1c"><times id="A2.T12.7.m2.1.1.cmml" xref="A2.T12.7.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T12.7.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T12.7.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T12.13.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T12.14.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T13">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T13.5">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T13.5.6.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A2.T13.5.6.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.6.1.1.1">
<span class="ltx_p" id="A2.T13.5.6.1.1.1.1" style="width:139.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.1.1.1.1">Model</span></span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T13.5.6.1.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T13.5.6.1.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.3.1">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T13.5.6.1.4"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.4.1">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T13.5.6.1.5"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.5.1">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T13.5.6.1.6"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.6.1">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T13.5.6.1.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.6.1.7.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.7.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T13.5.7.2.1">Without access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T13.5.8.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T13.5.8.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.8.3.1.1">
<span class="ltx_p" id="A2.T13.5.8.3.1.1.1" style="width:139.4pt;">Transformer Base (TB)</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.8.3.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.8.3.2.1">59.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.8.3.3">53.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.8.3.4">44.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.8.3.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.8.3.5.1">32.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T13.5.8.3.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.8.3.6.1">37.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.8.3.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.8.3.7.1">45.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.2.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.2.2.2.2">
<span class="ltx_p" id="A2.T13.2.2.2.2.2" style="width:139.4pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T13.1.1.1.1.1.m1.1"><semantics id="A2.T13.1.1.1.1.1.m1.1a"><mo id="A2.T13.1.1.1.1.1.m1.1.1" xref="A2.T13.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T13.1.1.1.1.1.m1.1b"><times id="A2.T13.1.1.1.1.1.m1.1.1.cmml" xref="A2.T13.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T13.1.1.1.1.1.m1.1d">×</annotation></semantics></math>1.5<sup class="ltx_sup" id="A2.T13.2.2.2.2.2.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.2.2.3">60.6</td>
<td class="ltx_td ltx_align_center" id="A2.T13.2.2.4">53.7</td>
<td class="ltx_td ltx_align_center" id="A2.T13.2.2.5">45.1</td>
<td class="ltx_td ltx_align_center" id="A2.T13.2.2.6">32.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.2.2.7">37.4</td>
<td class="ltx_td ltx_align_center" id="A2.T13.2.2.8">45.9</td>
</tr>
<tr class="ltx_tr" id="A2.T13.3.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.3.3.1.1">
<span class="ltx_p" id="A2.T13.3.3.1.1.1" style="width:139.4pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T13.3.3.1.1.1.m1.1"><semantics id="A2.T13.3.3.1.1.1.m1.1a"><mo id="A2.T13.3.3.1.1.1.m1.1.1" xref="A2.T13.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T13.3.3.1.1.1.m1.1b"><times id="A2.T13.3.3.1.1.1.m1.1.1.cmml" xref="A2.T13.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T13.3.3.1.1.1.m1.1d">×</annotation></semantics></math>5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.3.3.2"><span class="ltx_text ltx_font_bold" id="A2.T13.3.3.2.1">62.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.3.3.3"><span class="ltx_text ltx_font_bold" id="A2.T13.3.3.3.1">56.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.3.3.4"><span class="ltx_text ltx_font_bold" id="A2.T13.3.3.4.1">45.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.3.3.5"><span class="ltx_text ltx_font_bold" id="A2.T13.3.3.5.1">33.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.3.3.6">37.5</td>
<td class="ltx_td ltx_align_center" id="A2.T13.3.3.7"><span class="ltx_text ltx_font_bold" id="A2.T13.3.3.7.1">47.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.9.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.9.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.9.4.1.1">
<span class="ltx_p" id="A2.T13.5.9.4.1.1.1" style="width:139.4pt;">Mixture of Experts (SMoE)</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.9.4.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.9.4.2.1">62.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.9.4.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.9.4.3.1">56.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.9.4.4">45.4</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.9.4.5">32.9</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.9.4.6">37.3</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.9.4.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.9.4.7.1">46.9</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.10.5">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T13.5.10.5.1">With access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T13.5.11.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T13.5.11.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.11.6.1.1">
<span class="ltx_p" id="A2.T13.5.11.6.1.1.1" style="width:139.4pt;">TB + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.11.6.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.11.6.2.1">59.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.11.6.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.11.6.3.1">53.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.11.6.4">44.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.11.6.5">32.6</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T13.5.11.6.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.11.6.6.1">37.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T13.5.11.6.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.11.6.7.1">45.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.12.7">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.12.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.12.7.1.1">
<span class="ltx_p" id="A2.T13.5.12.7.1.1.1" style="width:139.4pt;">TB + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.12.7.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.12.7.2.1">60.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.12.7.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.12.7.3.1">53.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.12.7.4">44.8</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.12.7.5">32.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.12.7.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.12.7.6.1">37.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.12.7.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.12.7.7.1">45.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.5.2.2">
<span class="ltx_p" id="A2.T13.5.5.2.2.2" style="width:139.4pt;">Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T13.4.4.1.1.1.m1.1"><semantics id="A2.T13.4.4.1.1.1.m1.1a"><mo id="A2.T13.4.4.1.1.1.m1.1.1" xref="A2.T13.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T13.4.4.1.1.1.m1.1b"><times id="A2.T13.4.4.1.1.1.m1.1.1.cmml" xref="A2.T13.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T13.4.4.1.1.1.m1.1d">×</annotation></semantics></math>1.5 + domain tags<sup class="ltx_sup" id="A2.T13.5.5.2.2.2.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.5.3">61.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.5.4">54.5</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.5.5">44.9</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.5.6">32.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.5.7">37.3</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.5.8">46.1</td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.13.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.13.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.13.8.1.1">
<span class="ltx_p" id="A2.T13.5.13.8.1.1.1" style="width:139.4pt;">Tr. 5 + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.13.8.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.13.8.2.1">62.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.13.8.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.13.8.3.1">56.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.13.8.4"><span class="ltx_text ltx_font_bold" id="A2.T13.5.13.8.4.1">45.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.13.8.5"><span class="ltx_text ltx_font_bold" id="A2.T13.5.13.8.5.1">33.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.13.8.6">37.5</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.13.8.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.13.8.7.1">46.9</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.14.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.14.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.14.9.1.1">
<span class="ltx_p" id="A2.T13.5.14.9.1.1.1" style="width:139.4pt;">TB + domain adapters</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.14.9.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.14.9.2.1">62.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.14.9.3">55.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.14.9.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.14.9.4.1">42.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.14.9.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.14.9.5.1">31.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.14.9.6">37.1</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.14.9.7">45.7</td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.15.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.15.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.15.10.1.1">
<span class="ltx_p" id="A2.T13.5.15.10.1.1.1" style="width:139.4pt;">TB + domain adapters + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.15.10.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.15.10.2.1">60.4</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.15.10.3">54.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.15.10.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.15.10.4.1">43.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.15.10.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.15.10.5.1">31.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.15.10.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.15.10.6.1">36.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.15.10.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.15.10.7.1">45.2</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.16.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.16.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.16.11.1.1">
<span class="ltx_p" id="A2.T13.5.16.11.1.1.1" style="width:139.4pt;">SMoE + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.16.11.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.16.11.2.1">62.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.16.11.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.16.11.3.1">56.7</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.16.11.4"><span class="ltx_text ltx_font_bold" id="A2.T13.5.16.11.4.1">45.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.16.11.5">33.1</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.16.11.6"><span class="ltx_text ltx_font_bold" id="A2.T13.5.16.11.6.1">37.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.16.11.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.16.11.7.1">47.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.17.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.17.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.17.12.1.1">
<span class="ltx_p" id="A2.T13.5.17.12.1.1.1" style="width:139.4pt;">SMoE + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.17.12.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.17.12.2.1">62.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.17.12.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.17.12.3.1">56.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.17.12.4">45.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.17.12.5"><span class="ltx_text ltx_font_bold" id="A2.T13.5.17.12.5.1">33.3</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.17.12.6">37.4</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.17.12.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.17.12.7.1">47.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.18.13">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.18.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.18.13.1.1">
<span class="ltx_p" id="A2.T13.5.18.13.1.1.1" style="width:139.4pt;">SMoE + Dom. Aware Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.18.13.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.18.13.2.1">62.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.18.13.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.18.13.3.1">56.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.18.13.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.5.18.13.4.1">44.4</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.18.13.5">32.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.18.13.6">37.3</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.18.13.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.18.13.7.1">46.8</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.19.14">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.19.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.19.14.1.1">
<span class="ltx_p" id="A2.T13.5.19.14.1.1.1" style="width:139.4pt;">SMoE + Dom. Aware Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.19.14.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.19.14.2.1">62.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.19.14.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.19.14.3.1">56.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.19.14.4">45.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.19.14.5">33.0</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.19.14.6">37.5</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.19.14.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.19.14.7.1">47.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.20.15">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T13.5.20.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.20.15.1.1">
<span class="ltx_p" id="A2.T13.5.20.15.1.1.1" style="width:139.4pt;">SMoE + Dom. Spec. Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T13.5.20.15.2"><span class="ltx_text ltx_font_bold" id="A2.T13.5.20.15.2.1">62.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.20.15.3"><span class="ltx_text ltx_font_bold" id="A2.T13.5.20.15.3.1">56.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.20.15.4">45.2</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.20.15.5">33.2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T13.5.20.15.6">37.3</td>
<td class="ltx_td ltx_align_center" id="A2.T13.5.20.15.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.20.15.7.1">46.9</span></td>
</tr>
<tr class="ltx_tr" id="A2.T13.5.21.16">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T13.5.21.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T13.5.21.16.1.1">
<span class="ltx_p" id="A2.T13.5.21.16.1.1.1" style="width:139.4pt;">SMoE + Dom. Spec. Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T13.5.21.16.2">62.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T13.5.21.16.3">56.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T13.5.21.16.4">45.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T13.5.21.16.5">33.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T13.5.21.16.6">37.6</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T13.5.21.16.7"><span class="ltx_text ltx_font_bold" id="A2.T13.5.21.16.7.1">47.0</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 13: </span>BLEU scores for seen domains, English-French translation. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T13.15.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T13.9.m1.1"><semantics id="A2.T13.9.m1.1b"><mo id="A2.T13.9.m1.1.1" xref="A2.T13.9.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T13.9.m1.1c"><times id="A2.T13.9.m1.1.1.cmml" xref="A2.T13.9.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.9.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T13.9.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T13.10.m2.1"><semantics id="A2.T13.10.m2.1b"><mo id="A2.T13.10.m2.1.1" xref="A2.T13.10.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T13.10.m2.1c"><times id="A2.T13.10.m2.1.1.cmml" xref="A2.T13.10.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T13.10.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T13.10.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T13.16.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T13.17.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T14">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T14.5">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T14.5.6.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T14.5.6.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.6.1.1.1">
<span class="ltx_p" id="A2.T14.5.6.1.1.1.1" style="width:130.9pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.1.1.1.1">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T14.5.6.1.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.2.1">Flores</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T14.5.6.1.3"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.3.1">IT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T14.5.6.1.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.4.1">Koran</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T14.5.6.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.6.1.5.1">
<span class="ltx_p" id="A2.T14.5.6.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.5.1.1.1">Pat (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T14.5.6.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.6.1.6.1">
<span class="ltx_p" id="A2.T14.5.6.1.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.6.1.1.1">Subt (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T14.5.6.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.6.1.7.1">
<span class="ltx_p" id="A2.T14.5.6.1.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.7.1.1.1">World bank</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T14.5.6.1.8"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.8.1">ECB</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T14.5.6.1.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.6.1.9.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.7.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T14.5.7.2.1">Without access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T14.5.7.2.2"></td>
<td class="ltx_td ltx_border_t" id="A2.T14.5.7.2.3"></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.8.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.5.8.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.8.3.1.1">
<span class="ltx_p" id="A2.T14.5.8.3.1.1.1" style="width:130.9pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.8.3.2">47.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.8.3.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.8.3.3.1">16.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.8.3.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.8.3.4.1">12.0</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.8.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.8.3.5.1">
<span class="ltx_p" id="A2.T14.5.8.3.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.8.3.5.1.1.1">35.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.8.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.8.3.6.1">
<span class="ltx_p" id="A2.T14.5.8.3.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.8.3.6.1.1.1">32.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.8.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.8.3.7.1">
<span class="ltx_p" id="A2.T14.5.8.3.7.1.1" style="width:28.5pt;">32.4</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T14.5.8.3.8">44.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.8.3.9">31.3</td>
</tr>
<tr class="ltx_tr" id="A2.T14.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.2.2.2.2">
<span class="ltx_p" id="A2.T14.2.2.2.2.2" style="width:130.9pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T14.1.1.1.1.1.m1.1"><semantics id="A2.T14.1.1.1.1.1.m1.1a"><mo id="A2.T14.1.1.1.1.1.m1.1.1" xref="A2.T14.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T14.1.1.1.1.1.m1.1b"><times id="A2.T14.1.1.1.1.1.m1.1.1.cmml" xref="A2.T14.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T14.1.1.1.1.1.m1.1d">×</annotation></semantics></math>1.5<sup class="ltx_sup" id="A2.T14.2.2.2.2.2.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.2.2.3">47.5</td>
<td class="ltx_td ltx_align_center" id="A2.T14.2.2.4">16.2</td>
<td class="ltx_td ltx_align_center" id="A2.T14.2.2.5">12.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.2.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.2.2.6.1">
<span class="ltx_p" id="A2.T14.2.2.6.1.1" style="width:28.5pt;">35.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.2.2.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.2.2.7.1">
<span class="ltx_p" id="A2.T14.2.2.7.1.1" style="width:28.5pt;">32.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.2.2.8">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.2.2.8.1">
<span class="ltx_p" id="A2.T14.2.2.8.1.1" style="width:28.5pt;">32.4</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.2.2.9">44.8</td>
<td class="ltx_td ltx_align_center" id="A2.T14.2.2.10">31.7</td>
</tr>
<tr class="ltx_tr" id="A2.T14.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.3.3.1.1">
<span class="ltx_p" id="A2.T14.3.3.1.1.1" style="width:130.9pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T14.3.3.1.1.1.m1.1"><semantics id="A2.T14.3.3.1.1.1.m1.1a"><mo id="A2.T14.3.3.1.1.1.m1.1.1" xref="A2.T14.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T14.3.3.1.1.1.m1.1b"><times id="A2.T14.3.3.1.1.1.m1.1.1.cmml" xref="A2.T14.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T14.3.3.1.1.1.m1.1d">×</annotation></semantics></math>5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.3.3.2"><span class="ltx_text ltx_font_bold" id="A2.T14.3.3.2.1">48.4</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.3.3.3">16.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.3.3.4"><span class="ltx_text ltx_font_bold" id="A2.T14.3.3.4.1">13.8</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.3.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.3.3.5.1">
<span class="ltx_p" id="A2.T14.3.3.5.1.1" style="width:28.5pt;">36.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.3.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.3.3.6.1">
<span class="ltx_p" id="A2.T14.3.3.6.1.1" style="width:28.5pt;">32.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.3.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.3.3.7.1">
<span class="ltx_p" id="A2.T14.3.3.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.3.3.7.1.1.1">32.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.3.3.8">44.9</td>
<td class="ltx_td ltx_align_center" id="A2.T14.3.3.9"><span class="ltx_text ltx_font_bold" id="A2.T14.3.3.9.1">32.2</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.9.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.9.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.9.4.1.1">
<span class="ltx_p" id="A2.T14.5.9.4.1.1.1" style="width:130.9pt;">Mixture of Experts (SMoE)</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.9.4.2">47.8</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.9.4.3">16.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.9.4.4">13.2</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.9.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.9.4.5.1">
<span class="ltx_p" id="A2.T14.5.9.4.5.1.1" style="width:28.5pt;">35.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.9.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.9.4.6.1">
<span class="ltx_p" id="A2.T14.5.9.4.6.1.1" style="width:28.5pt;">33.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.9.4.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.9.4.7.1">
<span class="ltx_p" id="A2.T14.5.9.4.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.9.4.7.1.1.1">32.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.9.4.8">44.7</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.9.4.9">32.0</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.10.5">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T14.5.10.5.1">With access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T14.5.10.5.2"></td>
<td class="ltx_td ltx_border_t" id="A2.T14.5.10.5.3"></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.11.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T14.5.11.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.11.6.1.1">
<span class="ltx_p" id="A2.T14.5.11.6.1.1.1" style="width:130.9pt;">TB + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.11.6.2">46.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.11.6.3">16.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.11.6.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.11.6.4.1">12.0</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.11.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.11.6.5.1">
<span class="ltx_p" id="A2.T14.5.11.6.5.1.1" style="width:28.5pt;">34.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.11.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.11.6.6.1">
<span class="ltx_p" id="A2.T14.5.11.6.6.1.1" style="width:28.5pt;">29.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T14.5.11.6.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.11.6.7.1">
<span class="ltx_p" id="A2.T14.5.11.6.7.1.1" style="width:28.5pt;">32.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T14.5.11.6.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.11.6.8.1">43.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T14.5.11.6.9">30.6</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.12.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.12.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.12.7.1.1">
<span class="ltx_p" id="A2.T14.5.12.7.1.1.1" style="width:130.9pt;">TB + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.12.7.2">47.2</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.12.7.3">16.0</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.12.7.4">12.3</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.12.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.12.7.5.1">
<span class="ltx_p" id="A2.T14.5.12.7.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.12.7.5.1.1.1">35.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.12.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.12.7.6.1">
<span class="ltx_p" id="A2.T14.5.12.7.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.12.7.6.1.1.1">32.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.12.7.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.12.7.7.1">
<span class="ltx_p" id="A2.T14.5.12.7.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.12.7.7.1.1.1">32.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.12.7.8">44.6</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.12.7.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.12.7.9.1">31.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.5.2.2">
<span class="ltx_p" id="A2.T14.5.5.2.2.2" style="width:130.9pt;">Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T14.4.4.1.1.1.m1.1"><semantics id="A2.T14.4.4.1.1.1.m1.1a"><mo id="A2.T14.4.4.1.1.1.m1.1.1" xref="A2.T14.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T14.4.4.1.1.1.m1.1b"><times id="A2.T14.4.4.1.1.1.m1.1.1.cmml" xref="A2.T14.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T14.4.4.1.1.1.m1.1d">×</annotation></semantics></math>1.5 + domain tags<sup class="ltx_sup" id="A2.T14.5.5.2.2.2.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.5.3">46.5</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.5.4">16.2</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.5.5">12.7</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.5.6.1">
<span class="ltx_p" id="A2.T14.5.5.6.1.1" style="width:28.5pt;">34.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.5.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.5.7.1">
<span class="ltx_p" id="A2.T14.5.5.7.1.1" style="width:28.5pt;">29.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.5.8">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.5.8.1">
<span class="ltx_p" id="A2.T14.5.5.8.1.1" style="width:28.5pt;">31.8</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.5.9">44.2</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.5.10">30.7</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.13.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.13.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.13.8.1.1">
<span class="ltx_p" id="A2.T14.5.13.8.1.1.1" style="width:130.9pt;">Tr. 5 + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.13.8.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.2.1">48.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.13.8.3">16.2</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.13.8.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.4.1">13.9</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.13.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.13.8.5.1">
<span class="ltx_p" id="A2.T14.5.13.8.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.5.1.1.1">36.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.13.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.13.8.6.1">
<span class="ltx_p" id="A2.T14.5.13.8.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.6.1.1.1">33.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.13.8.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.13.8.7.1">
<span class="ltx_p" id="A2.T14.5.13.8.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.7.1.1.1">32.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.13.8.8"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.8.1">45.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.13.8.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.13.8.9.1">32.3</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.14.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.14.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.14.9.1.1">
<span class="ltx_p" id="A2.T14.5.14.9.1.1.1" style="width:130.9pt;">TB + domain adapters</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.14.9.2">46.7</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.14.9.3">16.1</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.14.9.4">12.9</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.14.9.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.14.9.5.1">
<span class="ltx_p" id="A2.T14.5.14.9.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.14.9.5.1.1.1">29.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.14.9.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.14.9.6.1">
<span class="ltx_p" id="A2.T14.5.14.9.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.14.9.6.1.1.1">27.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.14.9.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.14.9.7.1">
<span class="ltx_p" id="A2.T14.5.14.9.7.1.1" style="width:28.5pt;">31.9</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.14.9.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.14.9.8.1">41.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.14.9.9"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.14.9.9.1">29.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.15.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.15.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.15.10.1.1">
<span class="ltx_p" id="A2.T14.5.15.10.1.1.1" style="width:130.9pt;">TB + domain adapters + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.15.10.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.2.1">48.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.15.10.3">15.9</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.15.10.4">12.3</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.15.10.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.15.10.5.1">
<span class="ltx_p" id="A2.T14.5.15.10.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.5.1.1.1">35.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.15.10.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.15.10.6.1">
<span class="ltx_p" id="A2.T14.5.15.10.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.6.1.1.1">32.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.15.10.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.15.10.7.1">
<span class="ltx_p" id="A2.T14.5.15.10.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.7.1.1.1">32.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.15.10.8"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.8.1">44.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.15.10.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.15.10.9.1">31.8</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.16.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.16.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.16.11.1.1">
<span class="ltx_p" id="A2.T14.5.16.11.1.1.1" style="width:130.9pt;">SMoE + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.16.11.2">46.9</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.16.11.3">16.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.16.11.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.16.11.4.1">13.5</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.16.11.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.16.11.5.1">
<span class="ltx_p" id="A2.T14.5.16.11.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.16.11.5.1.1.1">34.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.16.11.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.16.11.6.1">
<span class="ltx_p" id="A2.T14.5.16.11.6.1.1" style="width:28.5pt;">29.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.16.11.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.16.11.7.1">
<span class="ltx_p" id="A2.T14.5.16.11.7.1.1" style="width:28.5pt;">32.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.16.11.8">44.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.16.11.9">31.0</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.17.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.17.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.17.12.1.1">
<span class="ltx_p" id="A2.T14.5.17.12.1.1.1" style="width:130.9pt;">SMoE + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.17.12.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.2.1">48.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.17.12.3">16.3</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.17.12.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.4.1">13.4</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.17.12.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.17.12.5.1">
<span class="ltx_p" id="A2.T14.5.17.12.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.5.1.1.1">35.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.17.12.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.17.12.6.1">
<span class="ltx_p" id="A2.T14.5.17.12.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.6.1.1.1">33.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.17.12.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.17.12.7.1">
<span class="ltx_p" id="A2.T14.5.17.12.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.7.1.1.1">33.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.17.12.8"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.8.1">45.2</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.17.12.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.17.12.9.1">32.2</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.18.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.18.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.18.13.1.1">
<span class="ltx_p" id="A2.T14.5.18.13.1.1.1" style="width:130.9pt;">SMoE + Dom. Aware Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.18.13.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.18.13.2.1">47.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.18.13.3">16.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.18.13.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.18.13.4.1">13.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.18.13.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.18.13.5.1">
<span class="ltx_p" id="A2.T14.5.18.13.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.18.13.5.1.1.1">32.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.18.13.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.18.13.6.1">
<span class="ltx_p" id="A2.T14.5.18.13.6.1.1" style="width:28.5pt;">29.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.18.13.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.18.13.7.1">
<span class="ltx_p" id="A2.T14.5.18.13.7.1.1" style="width:28.5pt;">32.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.18.13.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.18.13.8.1">43.4</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.18.13.9">30.7</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.19.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.19.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.19.14.1.1">
<span class="ltx_p" id="A2.T14.5.19.14.1.1.1" style="width:130.9pt;">SMoE + Dom. Aware Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.19.14.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.2.1">47.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.19.14.3">16.3</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.19.14.4">12.9</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.19.14.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.19.14.5.1">
<span class="ltx_p" id="A2.T14.5.19.14.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.5.1.1.1">35.8</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.19.14.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.19.14.6.1">
<span class="ltx_p" id="A2.T14.5.19.14.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.6.1.1.1">33.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.19.14.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.19.14.7.1">
<span class="ltx_p" id="A2.T14.5.19.14.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.7.1.1.1">32.7</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.19.14.8"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.8.1">45.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.19.14.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.19.14.9.1">31.9</span></td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.20.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T14.5.20.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.20.15.1.1">
<span class="ltx_p" id="A2.T14.5.20.15.1.1.1" style="width:130.9pt;">SMoE + Dom. Spec. Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.20.15.2"><span class="ltx_text ltx_font_bold" id="A2.T14.5.20.15.2.1">48.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.20.15.3">16.4</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.20.15.4"><span class="ltx_text ltx_font_bold" id="A2.T14.5.20.15.4.1">13.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.20.15.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.20.15.5.1">
<span class="ltx_p" id="A2.T14.5.20.15.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.5.20.15.5.1.1.1">32.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.20.15.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.20.15.6.1">
<span class="ltx_p" id="A2.T14.5.20.15.6.1.1" style="width:28.5pt;">29.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T14.5.20.15.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.20.15.7.1">
<span class="ltx_p" id="A2.T14.5.20.15.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T14.5.20.15.7.1.1.1">32.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T14.5.20.15.8">44.1</td>
<td class="ltx_td ltx_align_center" id="A2.T14.5.20.15.9">30.8</td>
</tr>
<tr class="ltx_tr" id="A2.T14.5.21.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T14.5.21.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.21.16.1.1">
<span class="ltx_p" id="A2.T14.5.21.16.1.1.1" style="width:130.9pt;">SMoE + Dom. Spec. Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T14.5.21.16.2">48.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T14.5.21.16.3">16.3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T14.5.21.16.4">12.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T14.5.21.16.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.21.16.5.1">
<span class="ltx_p" id="A2.T14.5.21.16.5.1.1" style="width:28.5pt;">35.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T14.5.21.16.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.21.16.6.1">
<span class="ltx_p" id="A2.T14.5.21.16.6.1.1" style="width:28.5pt;">32.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T14.5.21.16.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T14.5.21.16.7.1">
<span class="ltx_p" id="A2.T14.5.21.16.7.1.1" style="width:28.5pt;">32.7</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T14.5.21.16.8">44.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T14.5.21.16.9"><span class="ltx_text ltx_font_bold" id="A2.T14.5.21.16.9.1">32.0</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 14: </span>BLEU scores for unseen domains, English-French translation. For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T14.15.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T14.9.m1.1"><semantics id="A2.T14.9.m1.1b"><mo id="A2.T14.9.m1.1.1" xref="A2.T14.9.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T14.9.m1.1c"><times id="A2.T14.9.m1.1.1.cmml" xref="A2.T14.9.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.9.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T14.9.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T14.10.m2.1"><semantics id="A2.T14.10.m2.1b"><mo id="A2.T14.10.m2.1.1" xref="A2.T14.10.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T14.10.m2.1c"><times id="A2.T14.10.m2.1.1.cmml" xref="A2.T14.10.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T14.10.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T14.10.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T14.16.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T14.17.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T15">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T15.5">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T15.5.6.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A2.T15.5.6.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.6.1.1.1">
<span class="ltx_p" id="A2.T15.5.6.1.1.1.1" style="width:139.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.1.1.1.1">Model</span></span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T15.5.6.1.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T15.5.6.1.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.3.1">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T15.5.6.1.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.4.1">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T15.5.6.1.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.5.1">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T15.5.6.1.6"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.6.1">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T15.5.6.1.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.6.1.7.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.7.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T15.5.7.2.1">Without access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T15.5.8.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T15.5.8.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.8.3.1.1">
<span class="ltx_p" id="A2.T15.5.8.3.1.1.1" style="width:139.4pt;">Transformer Base (TB)</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.8.3.2">87.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.8.3.3">85.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.8.3.4">86.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.8.3.5">79.5</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T15.5.8.3.6">80.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.8.3.7">83.7</td>
</tr>
<tr class="ltx_tr" id="A2.T15.2.2">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.2.2.2.2">
<span class="ltx_p" id="A2.T15.2.2.2.2.2" style="width:139.4pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T15.1.1.1.1.1.m1.1"><semantics id="A2.T15.1.1.1.1.1.m1.1a"><mo id="A2.T15.1.1.1.1.1.m1.1.1" xref="A2.T15.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T15.1.1.1.1.1.m1.1b"><times id="A2.T15.1.1.1.1.1.m1.1.1.cmml" xref="A2.T15.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T15.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T15.1.1.1.1.1.m1.1d">×</annotation></semantics></math>1.5<sup class="ltx_sup" id="A2.T15.2.2.2.2.2.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.2.2.3">87.1</td>
<td class="ltx_td ltx_align_center" id="A2.T15.2.2.4">85.6</td>
<td class="ltx_td ltx_align_center" id="A2.T15.2.2.5">86.4</td>
<td class="ltx_td ltx_align_center" id="A2.T15.2.2.6">79.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.2.2.7">80.0</td>
<td class="ltx_td ltx_align_center" id="A2.T15.2.2.8">83.8</td>
</tr>
<tr class="ltx_tr" id="A2.T15.3.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.3.3.1.1">
<span class="ltx_p" id="A2.T15.3.3.1.1.1" style="width:139.4pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T15.3.3.1.1.1.m1.1"><semantics id="A2.T15.3.3.1.1.1.m1.1a"><mo id="A2.T15.3.3.1.1.1.m1.1.1" xref="A2.T15.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T15.3.3.1.1.1.m1.1b"><times id="A2.T15.3.3.1.1.1.m1.1.1.cmml" xref="A2.T15.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T15.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T15.3.3.1.1.1.m1.1d">×</annotation></semantics></math>5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.3.3.2"><span class="ltx_text ltx_font_bold" id="A2.T15.3.3.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.3.3.3">85.8</td>
<td class="ltx_td ltx_align_center" id="A2.T15.3.3.4"><span class="ltx_text ltx_font_bold" id="A2.T15.3.3.4.1">86.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.3.3.5"><span class="ltx_text ltx_font_bold" id="A2.T15.3.3.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.3.3.6"><span class="ltx_text ltx_font_bold" id="A2.T15.3.3.6.1">80.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.3.3.7"><span class="ltx_text ltx_font_bold" id="A2.T15.3.3.7.1">84.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.9.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.9.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.9.4.1.1">
<span class="ltx_p" id="A2.T15.5.9.4.1.1.1" style="width:139.4pt;">Mixture of Experts (SMoE)</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.9.4.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.9.4.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.3.1">86.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.9.4.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.4.1">86.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.9.4.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.9.4.6"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.6.1">80.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.9.4.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.9.4.7.1">84.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.10.5">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T15.5.10.5.1">With access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T15.5.11.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T15.5.11.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.11.6.1.1">
<span class="ltx_p" id="A2.T15.5.11.6.1.1.1" style="width:139.4pt;">TB + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.11.6.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.11.6.2.1">87.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.11.6.3">85.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.11.6.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.11.6.4.1">86.4</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.11.6.5">79.4</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T15.5.11.6.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.11.6.6.1">80.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T15.5.11.6.7">83.7</td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.12.7">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.12.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.12.7.1.1">
<span class="ltx_p" id="A2.T15.5.12.7.1.1.1" style="width:139.4pt;">TB + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.12.7.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.12.7.2.1">87.1</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.12.7.3">85.5</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.12.7.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.12.7.4.1">86.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.12.7.5">79.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.12.7.6">80.1</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.12.7.7">83.8</td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.5.2.2">
<span class="ltx_p" id="A2.T15.5.5.2.2.2" style="width:139.4pt;">Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T15.4.4.1.1.1.m1.1"><semantics id="A2.T15.4.4.1.1.1.m1.1a"><mo id="A2.T15.4.4.1.1.1.m1.1.1" xref="A2.T15.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T15.4.4.1.1.1.m1.1b"><times id="A2.T15.4.4.1.1.1.m1.1.1.cmml" xref="A2.T15.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T15.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T15.4.4.1.1.1.m1.1d">×</annotation></semantics></math>1.5 + domain tags<sup class="ltx_sup" id="A2.T15.5.5.2.2.2.1">∗</sup></span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.5.3">87.3</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.5.4">85.7</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.5.5">86.6</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.5.6">79.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.5.7">80.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.5.8">83.8</td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.13.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.13.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.13.8.1.1">
<span class="ltx_p" id="A2.T15.5.13.8.1.1.1" style="width:139.4pt;">TB + domain adapters</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.13.8.2">87.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.13.8.3">85.5</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.13.8.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.13.8.4.1">84.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.13.8.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.13.8.5.1">77.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.13.8.6">80.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.13.8.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.13.8.7.1">83.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.14.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.14.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.14.9.1.1">
<span class="ltx_p" id="A2.T15.5.14.9.1.1.1" style="width:139.4pt;">TB + domain adapters + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.14.9.2">87.1</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.14.9.3">85.4</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.14.9.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.14.9.4.1">85.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.14.9.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.14.9.5.1">78.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.14.9.6">80.1</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.14.9.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.5.14.9.7.1">83.4</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.15.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.15.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.15.10.1.1">
<span class="ltx_p" id="A2.T15.5.15.10.1.1.1" style="width:139.4pt;">SMoE + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.15.10.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.15.10.2.1">87.6</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.15.10.3">85.8</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.15.10.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.15.10.4.1">86.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.15.10.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.15.10.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.15.10.6">80.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.15.10.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.15.10.7.1">84.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.16.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.16.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.16.11.1.1">
<span class="ltx_p" id="A2.T15.5.16.11.1.1.1" style="width:139.4pt;">SMoE + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.16.11.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.16.11.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.16.11.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.16.11.3.1">86.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.16.11.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.16.11.4.1">86.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.16.11.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.16.11.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.16.11.6">80.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.16.11.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.16.11.7.1">84.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.17.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.17.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.17.12.1.1">
<span class="ltx_p" id="A2.T15.5.17.12.1.1.1" style="width:139.4pt;">SMoE + Dom. Aware Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.17.12.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.17.12.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.17.12.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.17.12.3.1">85.9</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.17.12.4">86.7</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.17.12.5">79.8</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.17.12.6">80.2</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.17.12.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.17.12.7.1">84.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.18.13">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T15.5.18.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.18.13.1.1">
<span class="ltx_p" id="A2.T15.5.18.13.1.1.1" style="width:139.4pt;">SMoE + Dom. Aware Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T15.5.18.13.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.18.13.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.18.13.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.18.13.3.1">86.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.18.13.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.18.13.4.1">86.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.18.13.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.18.13.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T15.5.18.13.6">80.1</td>
<td class="ltx_td ltx_align_center" id="A2.T15.5.18.13.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.18.13.7.1">84.1</span></td>
</tr>
<tr class="ltx_tr" id="A2.T15.5.19.14">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T15.5.19.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T15.5.19.14.1.1">
<span class="ltx_p" id="A2.T15.5.19.14.1.1.1" style="width:139.4pt;">SMoE + Dom. Spec. Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T15.5.19.14.2"><span class="ltx_text ltx_font_bold" id="A2.T15.5.19.14.2.1">87.5</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T15.5.19.14.3"><span class="ltx_text ltx_font_bold" id="A2.T15.5.19.14.3.1">85.9</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T15.5.19.14.4"><span class="ltx_text ltx_font_bold" id="A2.T15.5.19.14.4.1">86.8</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T15.5.19.14.5"><span class="ltx_text ltx_font_bold" id="A2.T15.5.19.14.5.1">80.1</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T15.5.19.14.6">80.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T15.5.19.14.7"><span class="ltx_text ltx_font_bold" id="A2.T15.5.19.14.7.1">84.1</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 15: </span>COMET results for seen domains, German-English translation. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T15.15.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T15.9.m1.1"><semantics id="A2.T15.9.m1.1b"><mo id="A2.T15.9.m1.1.1" xref="A2.T15.9.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T15.9.m1.1c"><times id="A2.T15.9.m1.1.1.cmml" xref="A2.T15.9.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T15.9.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T15.9.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T15.10.m2.1"><semantics id="A2.T15.10.m2.1b"><mo id="A2.T15.10.m2.1.1" xref="A2.T15.10.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T15.10.m2.1c"><times id="A2.T15.10.m2.1.1.cmml" xref="A2.T15.10.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T15.10.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T15.10.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T15.16.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T15.17.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T16">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T16.5">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T16.5.6.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T16.5.6.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.6.1.1.1">
<span class="ltx_p" id="A2.T16.5.6.1.1.1.1" style="width:130.9pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.1.1.1.1">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T16.5.6.1.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.2.1">Flores</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T16.5.6.1.3"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.3.1">IT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T16.5.6.1.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.4.1">Koran</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T16.5.6.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.6.1.5.1">
<span class="ltx_p" id="A2.T16.5.6.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.5.1.1.1">Pat (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T16.5.6.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.6.1.6.1">
<span class="ltx_p" id="A2.T16.5.6.1.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.6.1.1.1">Subt (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T16.5.6.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.6.1.7.1">
<span class="ltx_p" id="A2.T16.5.6.1.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.7.1.1.1">Med abstr</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T16.5.6.1.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.6.1.8.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.7.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T16.5.7.2.1">Without access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T16.5.7.2.2"></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.8.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T16.5.8.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.8.3.1.1">
<span class="ltx_p" id="A2.T16.5.8.3.1.1.1" style="width:130.9pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.8.3.2">88.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.8.3.3">82.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.8.3.4">70.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T16.5.8.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.8.3.5.1">
<span class="ltx_p" id="A2.T16.5.8.3.5.1.1" style="width:28.5pt;">82.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T16.5.8.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.8.3.6.1">
<span class="ltx_p" id="A2.T16.5.8.3.6.1.1" style="width:28.5pt;">82.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T16.5.8.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.8.3.7.1">
<span class="ltx_p" id="A2.T16.5.8.3.7.1.1" style="width:28.5pt;">70.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.8.3.8">79.3</td>
</tr>
<tr class="ltx_tr" id="A2.T16.2.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.2.2.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.2.2.2.2">
<span class="ltx_p" id="A2.T16.2.2.2.2.2" style="width:130.9pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T16.1.1.1.1.1.m1.1"><semantics id="A2.T16.1.1.1.1.1.m1.1a"><mo id="A2.T16.1.1.1.1.1.m1.1.1" xref="A2.T16.1.1.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T16.1.1.1.1.1.m1.1b"><times id="A2.T16.1.1.1.1.1.m1.1.1.cmml" xref="A2.T16.1.1.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T16.1.1.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T16.1.1.1.1.1.m1.1d">×</annotation></semantics></math>1.5<sup class="ltx_sup" id="A2.T16.2.2.2.2.2.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.2.2.3">88.5</td>
<td class="ltx_td ltx_align_center" id="A2.T16.2.2.4">82.6</td>
<td class="ltx_td ltx_align_center" id="A2.T16.2.2.5">70.9</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.2.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.2.2.6.1">
<span class="ltx_p" id="A2.T16.2.2.6.1.1" style="width:28.5pt;">82.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.2.2.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.2.2.7.1">
<span class="ltx_p" id="A2.T16.2.2.7.1.1" style="width:28.5pt;">82.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.2.2.8">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.2.2.8.1">
<span class="ltx_p" id="A2.T16.2.2.8.1.1" style="width:28.5pt;">70.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.2.2.9">79.4</td>
</tr>
<tr class="ltx_tr" id="A2.T16.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.3.3.1.1">
<span class="ltx_p" id="A2.T16.3.3.1.1.1" style="width:130.9pt;">Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T16.3.3.1.1.1.m1.1"><semantics id="A2.T16.3.3.1.1.1.m1.1a"><mo id="A2.T16.3.3.1.1.1.m1.1.1" xref="A2.T16.3.3.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T16.3.3.1.1.1.m1.1b"><times id="A2.T16.3.3.1.1.1.m1.1.1.cmml" xref="A2.T16.3.3.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T16.3.3.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T16.3.3.1.1.1.m1.1d">×</annotation></semantics></math>5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.3.3.2"><span class="ltx_text ltx_font_bold" id="A2.T16.3.3.2.1">88.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.3.3.3">82.7</td>
<td class="ltx_td ltx_align_center" id="A2.T16.3.3.4">70.7</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.3.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.3.3.5.1">
<span class="ltx_p" id="A2.T16.3.3.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.3.3.5.1.1.1">82.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.3.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.3.3.6.1">
<span class="ltx_p" id="A2.T16.3.3.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.3.3.6.1.1.1">82.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.3.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.3.3.7.1">
<span class="ltx_p" id="A2.T16.3.3.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.3.3.7.1.1.1">71.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.3.3.8"><span class="ltx_text ltx_font_bold" id="A2.T16.3.3.8.1">79.7</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.9.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.9.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.9.4.1.1">
<span class="ltx_p" id="A2.T16.5.9.4.1.1.1" style="width:130.9pt;">Mixture of Experts (SMoE)</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.9.4.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.9.4.2.1">88.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.9.4.3">82.5</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.9.4.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.9.4.4.1">71.3</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.9.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.9.4.5.1">
<span class="ltx_p" id="A2.T16.5.9.4.5.1.1" style="width:28.5pt;">82.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.9.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.9.4.6.1">
<span class="ltx_p" id="A2.T16.5.9.4.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.9.4.6.1.1.1">82.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.9.4.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.9.4.7.1">
<span class="ltx_p" id="A2.T16.5.9.4.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.9.4.7.1.1.1">70.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.9.4.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.9.4.8.1">79.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.10.5">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T16.5.10.5.1">With access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T16.5.10.5.2"></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.11.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T16.5.11.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.11.6.1.1">
<span class="ltx_p" id="A2.T16.5.11.6.1.1.1" style="width:130.9pt;">TB + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.11.6.2">88.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.11.6.3">82.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.11.6.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.11.6.4.1">70.0</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T16.5.11.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.11.6.5.1">
<span class="ltx_p" id="A2.T16.5.11.6.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.11.6.5.1.1.1">82.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T16.5.11.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.11.6.6.1">
<span class="ltx_p" id="A2.T16.5.11.6.6.1.1" style="width:28.5pt;">81.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T16.5.11.6.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.11.6.7.1">
<span class="ltx_p" id="A2.T16.5.11.6.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.11.6.7.1.1.1">70.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T16.5.11.6.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.11.6.8.1">79.0</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.12.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.12.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.12.7.1.1">
<span class="ltx_p" id="A2.T16.5.12.7.1.1.1" style="width:130.9pt;">TB + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.12.7.2">88.3</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.12.7.3">82.2</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.12.7.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.12.7.4.1">69.8</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.12.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.12.7.5.1">
<span class="ltx_p" id="A2.T16.5.12.7.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.12.7.5.1.1.1">82.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.12.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.12.7.6.1">
<span class="ltx_p" id="A2.T16.5.12.7.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.12.7.6.1.1.1">81.9</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.12.7.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.12.7.7.1">
<span class="ltx_p" id="A2.T16.5.12.7.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.12.7.7.1.1.1">70.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.12.7.8">79.1</td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.5.2">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.5.2.2">
<span class="ltx_p" id="A2.T16.5.5.2.2.2" style="width:130.9pt;">Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T16.4.4.1.1.1.m1.1"><semantics id="A2.T16.4.4.1.1.1.m1.1a"><mo id="A2.T16.4.4.1.1.1.m1.1.1" xref="A2.T16.4.4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T16.4.4.1.1.1.m1.1b"><times id="A2.T16.4.4.1.1.1.m1.1.1.cmml" xref="A2.T16.4.4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T16.4.4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T16.4.4.1.1.1.m1.1d">×</annotation></semantics></math>1.5 + domain tags<sup class="ltx_sup" id="A2.T16.5.5.2.2.2.1">∗</sup></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.5.3">88.5</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.5.4">82.5</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.5.5">70.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.5.6.1">
<span class="ltx_p" id="A2.T16.5.5.6.1.1" style="width:28.5pt;">82.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.5.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.5.7.1">
<span class="ltx_p" id="A2.T16.5.5.7.1.1" style="width:28.5pt;">81.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.5.8">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.5.8.1">
<span class="ltx_p" id="A2.T16.5.5.8.1.1" style="width:28.5pt;">70.6</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.5.9">79.3</td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.13.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.13.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.13.8.1.1">
<span class="ltx_p" id="A2.T16.5.13.8.1.1.1" style="width:130.9pt;">TB + domain adapters</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.13.8.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.2.1">88.3</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.13.8.3">82.4</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.13.8.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.4.1">70.2</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.13.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.13.8.5.1">
<span class="ltx_p" id="A2.T16.5.13.8.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.5.1.1.1">81.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.13.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.13.8.6.1">
<span class="ltx_p" id="A2.T16.5.13.8.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.6.1.1.1">80.6</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.13.8.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.13.8.7.1">
<span class="ltx_p" id="A2.T16.5.13.8.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.7.1.1.1">70.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.13.8.8"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.13.8.8.1">78.8</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.14.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.14.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.14.9.1.1">
<span class="ltx_p" id="A2.T16.5.14.9.1.1.1" style="width:130.9pt;">TB + domain adapters + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.14.9.2">88.6</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.14.9.3">82.6</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.14.9.4">70.3</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.14.9.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.14.9.5.1">
<span class="ltx_p" id="A2.T16.5.14.9.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.14.9.5.1.1.1">82.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.14.9.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.14.9.6.1">
<span class="ltx_p" id="A2.T16.5.14.9.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.14.9.6.1.1.1">82.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.14.9.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.14.9.7.1">
<span class="ltx_p" id="A2.T16.5.14.9.7.1.1" style="width:28.5pt;">70.7</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.14.9.8">79.4</td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.15.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.15.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.15.10.1.1">
<span class="ltx_p" id="A2.T16.5.15.10.1.1.1" style="width:130.9pt;">SMoE + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.15.10.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.15.10.2.1">88.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.15.10.3"><span class="ltx_text ltx_font_bold" id="A2.T16.5.15.10.3.1">83.0</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.15.10.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.15.10.4.1">71.4</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.15.10.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.15.10.5.1">
<span class="ltx_p" id="A2.T16.5.15.10.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.15.10.5.1.1.1">82.3</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.15.10.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.15.10.6.1">
<span class="ltx_p" id="A2.T16.5.15.10.6.1.1" style="width:28.5pt;">81.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.15.10.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.15.10.7.1">
<span class="ltx_p" id="A2.T16.5.15.10.7.1.1" style="width:28.5pt;">70.5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.15.10.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.15.10.8.1">79.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.16.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.16.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.16.11.1.1">
<span class="ltx_p" id="A2.T16.5.16.11.1.1.1" style="width:130.9pt;">SMoE + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.16.11.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.16.11.2.1">88.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.16.11.3">82.3</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.16.11.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.16.11.4.1">71.4</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.16.11.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.16.11.5.1">
<span class="ltx_p" id="A2.T16.5.16.11.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.16.11.5.1.1.1">82.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.16.11.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.16.11.6.1">
<span class="ltx_p" id="A2.T16.5.16.11.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.16.11.6.1.1.1">82.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.16.11.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.16.11.7.1">
<span class="ltx_p" id="A2.T16.5.16.11.7.1.1" style="width:28.5pt;">70.5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.16.11.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.16.11.8.1">79.6</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.17.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.17.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.17.12.1.1">
<span class="ltx_p" id="A2.T16.5.17.12.1.1.1" style="width:130.9pt;">SMoE + Dom. Aware Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.17.12.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.17.12.2.1">88.7</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.17.12.3"><span class="ltx_text ltx_font_bold" id="A2.T16.5.17.12.3.1">82.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.17.12.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.17.12.4.1">71.4</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.17.12.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.17.12.5.1">
<span class="ltx_p" id="A2.T16.5.17.12.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.17.12.5.1.1.1">81.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.17.12.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.17.12.6.1">
<span class="ltx_p" id="A2.T16.5.17.12.6.1.1" style="width:28.5pt;">81.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.17.12.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.17.12.7.1">
<span class="ltx_p" id="A2.T16.5.17.12.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.17.12.7.1.1.1">70.1</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.17.12.8">79.3</td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.18.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.18.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.18.13.1.1">
<span class="ltx_p" id="A2.T16.5.18.13.1.1.1" style="width:130.9pt;">SMoE + Dom. Aware Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.18.13.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.18.13.2.1">88.8</span></td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.18.13.3">82.7</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.18.13.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.18.13.4.1">71.2</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.18.13.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.18.13.5.1">
<span class="ltx_p" id="A2.T16.5.18.13.5.1.1" style="width:28.5pt;">82.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T16.5.18.13.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.18.13.6.1">
<span class="ltx_p" id="A2.T16.5.18.13.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.18.13.6.1.1.1">82.2</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T16.5.18.13.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.18.13.7.1">
<span class="ltx_p" id="A2.T16.5.18.13.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.18.13.7.1.1.1">70.0</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T16.5.18.13.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.18.13.8.1">79.5</span></td>
</tr>
<tr class="ltx_tr" id="A2.T16.5.19.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T16.5.19.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.19.14.1.1">
<span class="ltx_p" id="A2.T16.5.19.14.1.1.1" style="width:130.9pt;">SMoE + Dom. Spec. Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T16.5.19.14.2"><span class="ltx_text ltx_font_bold" id="A2.T16.5.19.14.2.1">88.7</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T16.5.19.14.3">82.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T16.5.19.14.4"><span class="ltx_text ltx_font_bold" id="A2.T16.5.19.14.4.1">71.1</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T16.5.19.14.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.19.14.5.1">
<span class="ltx_p" id="A2.T16.5.19.14.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.19.14.5.1.1.1">82.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T16.5.19.14.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.19.14.6.1">
<span class="ltx_p" id="A2.T16.5.19.14.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T16.5.19.14.6.1.1.1">82.5</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T16.5.19.14.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T16.5.19.14.7.1">
<span class="ltx_p" id="A2.T16.5.19.14.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.5.19.14.7.1.1.1">70.4</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T16.5.19.14.8"><span class="ltx_text ltx_font_bold" id="A2.T16.5.19.14.8.1">79.6</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 16: </span>COMET results for unseen domains, German-English translation. For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T16.15.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T16.9.m1.1"><semantics id="A2.T16.9.m1.1b"><mo id="A2.T16.9.m1.1.1" xref="A2.T16.9.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T16.9.m1.1c"><times id="A2.T16.9.m1.1.1.cmml" xref="A2.T16.9.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T16.9.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T16.9.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T16.10.m2.1"><semantics id="A2.T16.10.m2.1b"><mo id="A2.T16.10.m2.1.1" xref="A2.T16.10.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T16.10.m2.1c"><times id="A2.T16.10.m2.1.1.cmml" xref="A2.T16.10.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T16.10.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T16.10.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T16.16.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T16.17.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T17">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T17.7">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T17.7.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A2.T17.7.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.1.1.1.1">
<span class="ltx_p" id="A2.T17.7.1.1.1.1.1" style="width:139.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.1.1.1.1">Model</span></span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T17.7.1.1.2"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T17.7.1.1.3"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.3.1">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T17.7.1.1.4"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.4.1">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T17.7.1.1.5"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.5.1">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T17.7.1.1.6"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.6.1">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T17.7.1.1.7"><span class="ltx_text ltx_font_bold" id="A2.T17.7.1.1.7.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.2.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T17.7.2.2.1">Without access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T17.7.3.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T17.7.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.3.3.1.1">
<span class="ltx_p" id="A2.T17.7.3.3.1.1.1" style="width:139.4pt;">Transformer Base (TB)</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.3.3.2">87.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.3.3.3">84.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.3.3.4">83.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.3.3.5">76.7</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T17.7.3.3.6">76.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.3.3.7">81.6</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.4.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.4.4.1.1">
<span class="ltx_p" id="A2.T17.7.4.4.1.1.1" style="width:139.4pt;">Transformer width x1.5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.4.4.2">87.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.4.4.3">84.3</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.4.4.4">83.5</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.4.4.5">77.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.4.4.6">77.0</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.4.4.7">81.9</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.5.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.5.5.1.1">
<span class="ltx_p" id="A2.T17.7.5.5.1.1.1" style="width:139.4pt;">Transformer width x5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.5.5.2">87.6</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.5.5.3">84.1</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.5.5.4">84.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.5.5.5">78.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.5.5.6">77.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.5.5.7">82.2</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.6.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.6.6.1.1">
<span class="ltx_p" id="A2.T17.7.6.6.1.1.1" style="width:139.4pt;">Mixture of Experts (MoE)</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.6.6.2">87.4</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.6.6.3">84.3</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.6.6.4">83.6</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.6.6.5">77.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.6.6.6">77.0</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.6.6.7">82.0</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.7.7">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row" colspan="7" id="A2.T17.7.7.7.1">With access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T17.7.8.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T17.7.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.8.8.1.1">
<span class="ltx_p" id="A2.T17.7.8.8.1.1.1" style="width:139.4pt;">TB + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.8.8.2">87.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.8.8.3">83.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.8.8.4">83.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.8.8.5">77.2</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T17.7.8.8.6">76.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T17.7.8.8.7">81.7</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.9.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.9.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.9.9.1.1">
<span class="ltx_p" id="A2.T17.7.9.9.1.1.1" style="width:139.4pt;">Tr. x1.5 + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.9.9.2">87.4</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.9.9.3">84.3</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.9.9.4">84.0</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.9.9.5">77.6</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.9.9.6">77.0</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.9.9.7">82.1</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.10.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.10.10.1.1">
<span class="ltx_p" id="A2.T17.7.10.10.1.1.1" style="width:139.4pt;">TB + domain adapters</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.10.10.2">87.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.10.10.3">84.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.10.10.4">82.5</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.10.10.5">76.9</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.10.10.6">76.9</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.10.10.7">81.5</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.11.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.11.11.1.1">
<span class="ltx_p" id="A2.T17.7.11.11.1.1.1" style="width:139.4pt;">MoE + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.11.11.2">87.5</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.11.11.3">84.5</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.11.11.4">84.2</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.11.11.5">77.9</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.11.11.6">77.0</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.11.11.7">82.2</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.12.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.12.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.12.12.1.1">
<span class="ltx_p" id="A2.T17.7.12.12.1.1.1" style="width:139.4pt;">MoE + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.12.12.2">87.3</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.12.12.3">84.4</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.12.12.4">84.1</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.12.12.5">78.0</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.12.12.6">77.1</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.12.12.7">82.2</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.13.13">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T17.7.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.13.13.1.1">
<span class="ltx_p" id="A2.T17.7.13.13.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T17.7.13.13.2">87.4</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.13.13.3">84.6</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.13.13.4">84.1</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.13.13.5">77.9</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T17.7.13.13.6">77.1</td>
<td class="ltx_td ltx_align_center" id="A2.T17.7.13.13.7">82.2</td>
</tr>
<tr class="ltx_tr" id="A2.T17.7.14.14">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T17.7.14.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T17.7.14.14.1.1">
<span class="ltx_p" id="A2.T17.7.14.14.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T17.7.14.14.2">87.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T17.7.14.14.3">84.3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T17.7.14.14.4">84.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T17.7.14.14.5">77.8</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T17.7.14.14.6">77.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T17.7.14.14.7">82.2</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 17: </span>COMET results for seen domains, English-German translation. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T17.11.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T17.4.m1.1"><semantics id="A2.T17.4.m1.1b"><mo id="A2.T17.4.m1.1.1" xref="A2.T17.4.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T17.4.m1.1c"><times id="A2.T17.4.m1.1.1.cmml" xref="A2.T17.4.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T17.4.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T17.4.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T17.5.m2.1"><semantics id="A2.T17.5.m2.1b"><mo id="A2.T17.5.m2.1.1" xref="A2.T17.5.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T17.5.m2.1c"><times id="A2.T17.5.m2.1.1.cmml" xref="A2.T17.5.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T17.5.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T17.5.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T17.12.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T17.13.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T18">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T18.7">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A2.T18.7.1.1">
<th class="ltx_td ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A2.T18.7.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.2">Flores</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.3">It</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.4">Koran</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.1.1.5.1">
<span class="ltx_p" id="A2.T18.7.1.1.5.1.1" style="width:28.5pt;">Pat (med)</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.1.1.6.1">
<span class="ltx_p" id="A2.T18.7.1.1.6.1.1" style="width:28.5pt;">Subtitles_medical</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="A2.T18.7.1.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.1.1.7.1">
<span class="ltx_p" id="A2.T18.7.1.1.7.1.1" style="width:28.5pt;">Medical abstracts</span>
</span>
</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="A2.T18.7.1.1.8">Avg.</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T18.7.2.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T18.7.2.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.2.1.1.1">
<span class="ltx_p" id="A2.T18.7.2.1.1.1.1" style="width:130.9pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T18.7.2.1.2">84.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T18.7.2.1.3">78.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T18.7.2.1.4">69.2</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T18.7.2.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.2.1.5.1">
<span class="ltx_p" id="A2.T18.7.2.1.5.1.1" style="width:28.5pt;">78.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T18.7.2.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.2.1.6.1">
<span class="ltx_p" id="A2.T18.7.2.1.6.1.1" style="width:28.5pt;">79.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T18.7.2.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.2.1.7.1">
<span class="ltx_p" id="A2.T18.7.2.1.7.1.1" style="width:28.5pt;">67.7</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T18.7.2.1.8">76.2</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.3.2">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.3.2.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.3.2.1.1">
<span class="ltx_p" id="A2.T18.7.3.2.1.1.1" style="width:130.9pt;">Transformer width x1.5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.3.2.2">85.0</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.3.2.3">78.6</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.3.2.4">69.6</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.3.2.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.3.2.5.1">
<span class="ltx_p" id="A2.T18.7.3.2.5.1.1" style="width:28.5pt;">78.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.3.2.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.3.2.6.1">
<span class="ltx_p" id="A2.T18.7.3.2.6.1.1" style="width:28.5pt;">79.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.3.2.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.3.2.7.1">
<span class="ltx_p" id="A2.T18.7.3.2.7.1.1" style="width:28.5pt;">68.6</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.3.2.8">76.7</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.4.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.4.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.4.3.1.1">
<span class="ltx_p" id="A2.T18.7.4.3.1.1.1" style="width:130.9pt;">Transformer width x5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.4.3.2">85.6</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.4.3.3">78.9</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.4.3.4">70.4</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.4.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.4.3.5.1">
<span class="ltx_p" id="A2.T18.7.4.3.5.1.1" style="width:28.5pt;">79.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.4.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.4.3.6.1">
<span class="ltx_p" id="A2.T18.7.4.3.6.1.1" style="width:28.5pt;">79.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.4.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.4.3.7.1">
<span class="ltx_p" id="A2.T18.7.4.3.7.1.1" style="width:28.5pt;">69.5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.4.3.8">77.2</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.5.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.5.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.5.4.1.1">
<span class="ltx_p" id="A2.T18.7.5.4.1.1.1" style="width:130.9pt;">Mixture of Experts (MoE)</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.5.4.2">84.8</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.5.4.3">78.3</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.5.4.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.5.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.5.4.5.1">
<span class="ltx_p" id="A2.T18.7.5.4.5.1.1" style="width:28.5pt;">79.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.5.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.5.4.6.1">
<span class="ltx_p" id="A2.T18.7.5.4.6.1.1" style="width:28.5pt;">79.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.5.4.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.5.4.7.1">
<span class="ltx_p" id="A2.T18.7.5.4.7.1.1" style="width:28.5pt;">68.4</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.5.4.8">76.6</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.6.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.6.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.6.5.1.1">
<span class="ltx_p" id="A2.T18.7.6.5.1.1.1" style="width:130.9pt;">TB + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.6.5.2">83.9</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.6.5.3">79.0</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.6.5.4">69.1</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.6.5.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.6.5.5.1">
<span class="ltx_p" id="A2.T18.7.6.5.5.1.1" style="width:28.5pt;">78.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.6.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.6.5.6.1">
<span class="ltx_p" id="A2.T18.7.6.5.6.1.1" style="width:28.5pt;">77.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.6.5.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.6.5.7.1">
<span class="ltx_p" id="A2.T18.7.6.5.7.1.1" style="width:28.5pt;">69.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.6.5.8">76.1</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.7.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.7.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.7.6.1.1">
<span class="ltx_p" id="A2.T18.7.7.6.1.1.1" style="width:130.9pt;">Tr. x1.5 + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.7.6.2">84.5</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.7.6.3">79.1</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.7.6.4">69.2</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.7.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.7.6.5.1">
<span class="ltx_p" id="A2.T18.7.7.6.5.1.1" style="width:28.5pt;">78.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.7.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.7.6.6.1">
<span class="ltx_p" id="A2.T18.7.7.6.6.1.1" style="width:28.5pt;">77.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.7.6.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.7.6.7.1">
<span class="ltx_p" id="A2.T18.7.7.6.7.1.1" style="width:28.5pt;">68.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.7.6.8">76.1</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.8.7">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.8.7.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.8.7.1.1">
<span class="ltx_p" id="A2.T18.7.8.7.1.1.1" style="width:130.9pt;">TB + domain adapters</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.8.7.2">83.0</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.8.7.3">79.1</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.8.7.4">69.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.8.7.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.8.7.5.1">
<span class="ltx_p" id="A2.T18.7.8.7.5.1.1" style="width:28.5pt;">71.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.8.7.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.8.7.6.1">
<span class="ltx_p" id="A2.T18.7.8.7.6.1.1" style="width:28.5pt;">76.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.8.7.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.8.7.7.1">
<span class="ltx_p" id="A2.T18.7.8.7.7.1.1" style="width:28.5pt;">67.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.8.7.8">74.3</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.9.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.9.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.9.8.1.1">
<span class="ltx_p" id="A2.T18.7.9.8.1.1.1" style="width:130.9pt;">MoE + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.9.8.2">84.0</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.9.8.3">79.2</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.9.8.4">69.7</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.9.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.9.8.5.1">
<span class="ltx_p" id="A2.T18.7.9.8.5.1.1" style="width:28.5pt;">78.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.9.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.9.8.6.1">
<span class="ltx_p" id="A2.T18.7.9.8.6.1.1" style="width:28.5pt;">77.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.9.8.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.9.8.7.1">
<span class="ltx_p" id="A2.T18.7.9.8.7.1.1" style="width:28.5pt;">68.3</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.9.8.8">76.1</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.10.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.10.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.10.9.1.1">
<span class="ltx_p" id="A2.T18.7.10.9.1.1.1" style="width:130.9pt;">MoE + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.10.9.2">84.4</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.10.9.3">78.7</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.10.9.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.10.9.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.10.9.5.1">
<span class="ltx_p" id="A2.T18.7.10.9.5.1.1" style="width:28.5pt;">79.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.10.9.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.10.9.6.1">
<span class="ltx_p" id="A2.T18.7.10.9.6.1.1" style="width:28.5pt;">79.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.10.9.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.10.9.7.1">
<span class="ltx_p" id="A2.T18.7.10.9.7.1.1" style="width:28.5pt;">67.7</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.10.9.8">76.4</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.11.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.11.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.11.10.1.1">
<span class="ltx_p" id="A2.T18.7.11.10.1.1.1" style="width:130.9pt;">MoE + Dom. Aware Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.11.10.2">84.1</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.11.10.3">79.2</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.11.10.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.11.10.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.11.10.5.1">
<span class="ltx_p" id="A2.T18.7.11.10.5.1.1" style="width:28.5pt;">75.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T18.7.11.10.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.11.10.6.1">
<span class="ltx_p" id="A2.T18.7.11.10.6.1.1" style="width:28.5pt;">77.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T18.7.11.10.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.11.10.7.1">
<span class="ltx_p" id="A2.T18.7.11.10.7.1.1" style="width:28.5pt;">68.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T18.7.11.10.8">75.6</td>
</tr>
<tr class="ltx_tr" id="A2.T18.7.12.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T18.7.12.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.12.11.1.1">
<span class="ltx_p" id="A2.T18.7.12.11.1.1.1" style="width:130.9pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T18.7.12.11.2">85.0</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T18.7.12.11.3">78.7</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T18.7.12.11.4">70.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T18.7.12.11.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.12.11.5.1">
<span class="ltx_p" id="A2.T18.7.12.11.5.1.1" style="width:28.5pt;">78.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T18.7.12.11.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.12.11.6.1">
<span class="ltx_p" id="A2.T18.7.12.11.6.1.1" style="width:28.5pt;">79.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T18.7.12.11.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T18.7.12.11.7.1">
<span class="ltx_p" id="A2.T18.7.12.11.7.1.1" style="width:28.5pt;">68.4</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T18.7.12.11.8">76.7</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 18: </span>COMET results for unseen domains, English-German translation, shallow decoder (3 layers). For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization. <span class="ltx_text ltx_font_bold" id="A2.T18.11.1">Bold</span> denotes significant improvement vs. "Transformer width <math alttext="\times" class="ltx_Math" display="inline" id="A2.T18.4.m1.1"><semantics id="A2.T18.4.m1.1b"><mo id="A2.T18.4.m1.1.1" xref="A2.T18.4.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T18.4.m1.1c"><times id="A2.T18.4.m1.1.1.cmml" xref="A2.T18.4.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T18.4.m1.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T18.4.m1.1e">×</annotation></semantics></math>1.5" (without domain labels) or "Tr. <math alttext="\times" class="ltx_Math" display="inline" id="A2.T18.5.m2.1"><semantics id="A2.T18.5.m2.1b"><mo id="A2.T18.5.m2.1.1" xref="A2.T18.5.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.T18.5.m2.1c"><times id="A2.T18.5.m2.1.1.cmml" xref="A2.T18.5.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.T18.5.m2.1d">\times</annotation><annotation encoding="application/x-llamapun" id="A2.T18.5.m2.1e">×</annotation></semantics></math>1.5 + domain tags" (with domain labels), both marked with <sup class="ltx_sup" id="A2.T18.12.2">∗</sup>; <span class="ltx_text ltx_framed ltx_framed_underline" id="A2.T18.13.3">underline</span> denotes significant losses.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T19">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A2.T19.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T19.1.1.1">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A2.T19.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.1.1.1.1">
<span class="ltx_p" id="A2.T19.1.1.1.1.1.1" style="width:139.4pt;"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.1.1.1.1">Model</span></span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T19.1.1.1.2"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.2.1">Law</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T19.1.1.1.3"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.3.1">Med</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T19.1.1.1.4"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.4.1">Ted</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T19.1.1.1.5"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.5.1">Subt</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T19.1.1.1.6"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.6.1">Pat</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T19.1.1.1.7"><span class="ltx_text ltx_font_bold" id="A2.T19.1.1.1.7.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.2.2">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T19.1.2.2.1">Without access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T19.1.3.3">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T19.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.3.3.1.1">
<span class="ltx_p" id="A2.T19.1.3.3.1.1.1" style="width:139.4pt;">Transformer Base (TB)</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.3.3.2">89.6</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.3.3.3">86.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.3.3.4">81.5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.3.3.5">76.9</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T19.1.3.3.6">77.7</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.3.3.7">82.5</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.4.4">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.4.4.1.1">
<span class="ltx_p" id="A2.T19.1.4.4.1.1.1" style="width:139.4pt;">Transformer width x1.5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.4.4.2">89.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.4.4.3">86.3</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.4.4.4">81.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.4.4.5">76.9</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.4.4.6">77.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.4.4.7">82.5</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.5.5">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.5.5.1.1">
<span class="ltx_p" id="A2.T19.1.5.5.1.1.1" style="width:139.4pt;">Transformer width x5</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.5.5.2">90.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.5.5.3">86.6</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.5.5.4">82.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.5.5.5">77.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.5.5.6">78.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.5.5.7">82.8</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.6.6">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.6.6.1.1">
<span class="ltx_p" id="A2.T19.1.6.6.1.1.1" style="width:139.4pt;">Mixture of Experts (SMoE)</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.6.6.2">90.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.6.6.3">86.4</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.6.6.4">81.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.6.6.5">77.1</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.6.6.6">77.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.6.6.7">82.6</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.7.7">
<th class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_row ltx_border_t" colspan="7" id="A2.T19.1.7.7.1">With access to seen domains labels</th>
</tr>
<tr class="ltx_tr" id="A2.T19.1.8.8">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A2.T19.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.8.8.1.1">
<span class="ltx_p" id="A2.T19.1.8.8.1.1.1" style="width:139.4pt;">TB + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.8.8.2">89.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.8.8.3">86.3</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.8.8.4">81.4</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.8.8.5">76.8</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T19.1.8.8.6">77.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T19.1.8.8.7">82.4</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.9.9">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.9.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.9.9.1.1">
<span class="ltx_p" id="A2.T19.1.9.9.1.1.1" style="width:139.4pt;">TB + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.9.9.2">89.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.9.9.3">86.4</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.9.9.4">81.5</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.9.9.5">76.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.9.9.6">77.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.9.9.7">82.4</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.10.10">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.10.10.1.1">
<span class="ltx_p" id="A2.T19.1.10.10.1.1.1" style="width:139.4pt;">Tr. x1.5 + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.10.10.2">89.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.10.10.3">86.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.10.10.4">81.6</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.10.10.5">77.1</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.10.10.6">77.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.10.10.7">82.6</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.11.11">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.11.11.1.1">
<span class="ltx_p" id="A2.T19.1.11.11.1.1.1" style="width:139.4pt;">Tr. 5 + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.11.11.2">90.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.11.11.3">86.6</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.11.11.4">82.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.11.11.5">77.3</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.11.11.6">78.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.11.11.7">82.8</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.12.12">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.12.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.12.12.1.1">
<span class="ltx_p" id="A2.T19.1.12.12.1.1.1" style="width:139.4pt;">TB + domain adapters</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.12.12.2">89.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.12.12.3">86.2</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.12.12.4">79.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.12.12.5">76.7</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.12.12.6">77.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.12.12.7">82.1</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.13.13">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.13.13.1.1">
<span class="ltx_p" id="A2.T19.1.13.13.1.1.1" style="width:139.4pt;">TB + domain adapters + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.13.13.2">89.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.13.13.3">86.3</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.13.13.4">80.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.13.13.5">76.5</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.13.13.6">77.5</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.13.13.7">82.2</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.14.14">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.14.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.14.14.1.1">
<span class="ltx_p" id="A2.T19.1.14.14.1.1.1" style="width:139.4pt;">MoE + domain tags</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.14.14.2">90.3</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.14.14.3">86.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.14.14.4">82.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.14.14.5">77.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.14.14.6">77.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.14.14.7">82.9</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.15.15">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.15.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.15.15.1.1">
<span class="ltx_p" id="A2.T19.1.15.15.1.1.1" style="width:139.4pt;">MoE + domain tags + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.15.15.2">90.3</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.15.15.3">86.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.15.15.4">81.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.15.15.5">77.4</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.15.15.6">78.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.15.15.7">82.8</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.16.16">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.16.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.16.16.1.1">
<span class="ltx_p" id="A2.T19.1.16.16.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.16.16.2">90.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.16.16.3">86.7</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.16.16.4">81.4</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.16.16.5">77.1</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.16.16.6">77.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.16.16.7">82.6</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.17.17">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.17.17.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.17.17.1.1">
<span class="ltx_p" id="A2.T19.1.17.17.1.1.1" style="width:139.4pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.17.17.2">90.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.17.17.3">86.5</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.17.17.4">81.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.17.17.5">77.2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.17.17.6">78.0</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.17.17.7">82.7</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.18.18">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r" id="A2.T19.1.18.18.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.18.18.1.1">
<span class="ltx_p" id="A2.T19.1.18.18.1.1.1" style="width:139.4pt;">MoE + Dom. Spec. Gate</span>
</span>
</th>
<td class="ltx_td ltx_align_center" id="A2.T19.1.18.18.2">90.1</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.18.18.3">86.5</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.18.18.4">81.8</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.18.18.5">77.2</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T19.1.18.18.6">77.9</td>
<td class="ltx_td ltx_align_center" id="A2.T19.1.18.18.7">82.7</td>
</tr>
<tr class="ltx_tr" id="A2.T19.1.19.19">
<th class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A2.T19.1.19.19.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T19.1.19.19.1.1">
<span class="ltx_p" id="A2.T19.1.19.19.1.1.1" style="width:139.4pt;">MoE + Dom. Spec. Gate + DR</span>
</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T19.1.19.19.2">90.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T19.1.19.19.3">86.4</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T19.1.19.19.4">81.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T19.1.19.19.5">77.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T19.1.19.19.6">77.9</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T19.1.19.19.7">82.8</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 19: </span>COMET results for seen domains, English-French translation. DR: domain randomization.</figcaption>
</figure>
<figure class="ltx_table" id="A2.T20">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A2.T20.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A2.T20.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt" id="A2.T20.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.1.1.1.1">
<span class="ltx_p" id="A2.T20.1.1.1.1.1.1" style="width:130.9pt;"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.1.1.1.1">Model</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T20.1.1.1.2"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.2.1">Flores</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T20.1.1.1.3"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.3.1">IT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T20.1.1.1.4"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.4.1">Koran</span></td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T20.1.1.1.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.1.1.5.1">
<span class="ltx_p" id="A2.T20.1.1.1.5.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.5.1.1.1">Pat (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T20.1.1.1.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.1.1.6.1">
<span class="ltx_p" id="A2.T20.1.1.1.6.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.6.1.1.1">Subt (med)</span></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" id="A2.T20.1.1.1.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.1.1.7.1">
<span class="ltx_p" id="A2.T20.1.1.1.7.1.1" style="width:28.5pt;"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.7.1.1.1">World bank</span></span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A2.T20.1.1.1.8"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.8.1">ECB</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T20.1.1.1.9"><span class="ltx_text ltx_font_bold" id="A2.T20.1.1.1.9.1">Avg</span></td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.2.2">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T20.1.2.2.1">Without access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T20.1.2.2.2"></td>
<td class="ltx_td ltx_border_t" id="A2.T20.1.2.2.3"></td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T20.1.3.3.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.3.3.1.1">
<span class="ltx_p" id="A2.T20.1.3.3.1.1.1" style="width:130.9pt;">Transformer Base (TB)</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.3.3.2">86.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.3.3.3">68.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.3.3.4">68.4</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.3.3.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.3.3.5.1">
<span class="ltx_p" id="A2.T20.1.3.3.5.1.1" style="width:28.5pt;">79.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.3.3.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.3.3.6.1">
<span class="ltx_p" id="A2.T20.1.3.3.6.1.1" style="width:28.5pt;">73.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.3.3.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.3.3.7.1">
<span class="ltx_p" id="A2.T20.1.3.3.7.1.1" style="width:28.5pt;">86.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T20.1.3.3.8">89.1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.3.3.9">78.7</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.4.4.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.4.4.1.1">
<span class="ltx_p" id="A2.T20.1.4.4.1.1.1" style="width:130.9pt;">Transformer width x1.5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.4.4.2">86.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.4.4.3">68.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.4.4.4">69.2</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.4.4.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.4.4.5.1">
<span class="ltx_p" id="A2.T20.1.4.4.5.1.1" style="width:28.5pt;">79.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.4.4.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.4.4.6.1">
<span class="ltx_p" id="A2.T20.1.4.4.6.1.1" style="width:28.5pt;">74.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.4.4.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.4.4.7.1">
<span class="ltx_p" id="A2.T20.1.4.4.7.1.1" style="width:28.5pt;">86.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.4.4.8">89.3</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.4.4.9">78.9</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.5.5.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.5.5.1.1">
<span class="ltx_p" id="A2.T20.1.5.5.1.1.1" style="width:130.9pt;">Transformer width x5</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.5.5.2">86.6</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.5.5.3">68.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.5.5.4">69.6</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.5.5.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.5.5.5.1">
<span class="ltx_p" id="A2.T20.1.5.5.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.5.5.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.5.5.6.1">
<span class="ltx_p" id="A2.T20.1.5.5.6.1.1" style="width:28.5pt;">74.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.5.5.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.5.5.7.1">
<span class="ltx_p" id="A2.T20.1.5.5.7.1.1" style="width:28.5pt;">86.3</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.5.5.8">89.5</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.5.5.9">79.2</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.6.6.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.6.6.1.1">
<span class="ltx_p" id="A2.T20.1.6.6.1.1.1" style="width:130.9pt;">Mixture of Experts (MoE)</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.6.6.2">86.3</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.6.6.3">68.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.6.6.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.6.6.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.6.6.5.1">
<span class="ltx_p" id="A2.T20.1.6.6.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.6.6.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.6.6.6.1">
<span class="ltx_p" id="A2.T20.1.6.6.6.1.1" style="width:28.5pt;">74.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.6.6.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.6.6.7.1">
<span class="ltx_p" id="A2.T20.1.6.6.7.1.1" style="width:28.5pt;">86.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.6.6.8">89.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.6.6.9">79.0</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.7.7">
<td class="ltx_td ltx_align_center ltx_align_top ltx_border_t" colspan="7" id="A2.T20.1.7.7.1">With access to seen domains labels</td>
<td class="ltx_td ltx_border_t" id="A2.T20.1.7.7.2"></td>
<td class="ltx_td ltx_border_t" id="A2.T20.1.7.7.3"></td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t" id="A2.T20.1.8.8.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.8.8.1.1">
<span class="ltx_p" id="A2.T20.1.8.8.1.1.1" style="width:130.9pt;">TB + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.8.8.2">86.0</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.8.8.3">67.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.8.8.4">68.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.8.8.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.8.8.5.1">
<span class="ltx_p" id="A2.T20.1.8.8.5.1.1" style="width:28.5pt;">78.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.8.8.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.8.8.6.1">
<span class="ltx_p" id="A2.T20.1.8.8.6.1.1" style="width:28.5pt;">73.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" id="A2.T20.1.8.8.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.8.8.7.1">
<span class="ltx_p" id="A2.T20.1.8.8.7.1.1" style="width:28.5pt;">85.9</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A2.T20.1.8.8.8">88.9</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T20.1.8.8.9">78.5</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.9.9.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.9.9.1.1">
<span class="ltx_p" id="A2.T20.1.9.9.1.1.1" style="width:130.9pt;">TB + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.9.9.2">86.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.9.9.3">67.8</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.9.9.4">68.4</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.9.9.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.9.9.5.1">
<span class="ltx_p" id="A2.T20.1.9.9.5.1.1" style="width:28.5pt;">79.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.9.9.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.9.9.6.1">
<span class="ltx_p" id="A2.T20.1.9.9.6.1.1" style="width:28.5pt;">74.1</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.9.9.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.9.9.7.1">
<span class="ltx_p" id="A2.T20.1.9.9.7.1.1" style="width:28.5pt;">86.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.9.9.8">89.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.9.9.9">78.7</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.10.10">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.10.10.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.10.10.1.1">
<span class="ltx_p" id="A2.T20.1.10.10.1.1.1" style="width:130.9pt;">Tr. x1.5 + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.10.10.2">86.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.10.10.3">68.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.10.10.4">68.8</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.10.10.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.10.10.5.1">
<span class="ltx_p" id="A2.T20.1.10.10.5.1.1" style="width:28.5pt;">78.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.10.10.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.10.10.6.1">
<span class="ltx_p" id="A2.T20.1.10.10.6.1.1" style="width:28.5pt;">72.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.10.10.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.10.10.7.1">
<span class="ltx_p" id="A2.T20.1.10.10.7.1.1" style="width:28.5pt;">86.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.10.10.8">89.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.10.10.9">78.5</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.11.11">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.11.11.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.11.11.1.1">
<span class="ltx_p" id="A2.T20.1.11.11.1.1.1" style="width:130.9pt;">Tr. 5 + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.11.11.2">86.6</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.11.11.3">68.3</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.11.11.4">70.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.11.11.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.11.11.5.1">
<span class="ltx_p" id="A2.T20.1.11.11.5.1.1" style="width:28.5pt;">79.6</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.11.11.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.11.11.6.1">
<span class="ltx_p" id="A2.T20.1.11.11.6.1.1" style="width:28.5pt;">74.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.11.11.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.11.11.7.1">
<span class="ltx_p" id="A2.T20.1.11.11.7.1.1" style="width:28.5pt;">86.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.11.11.8">89.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.11.11.9">79.2</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.12.12">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.12.12.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.12.12.1.1">
<span class="ltx_p" id="A2.T20.1.12.12.1.1.1" style="width:130.9pt;">TB + domain adapters</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.12.12.2">86.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.12.12.3">68.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.12.12.4">69.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.12.12.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.12.12.5.1">
<span class="ltx_p" id="A2.T20.1.12.12.5.1.1" style="width:28.5pt;">76.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.12.12.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.12.12.6.1">
<span class="ltx_p" id="A2.T20.1.12.12.6.1.1" style="width:28.5pt;">71.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.12.12.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.12.12.7.1">
<span class="ltx_p" id="A2.T20.1.12.12.7.1.1" style="width:28.5pt;">85.8</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.12.12.8">88.7</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.12.12.9">78.0</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.13.13">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.13.13.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.13.13.1.1">
<span class="ltx_p" id="A2.T20.1.13.13.1.1.1" style="width:130.9pt;">TB + domain adapters + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.13.13.2">86.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.13.13.3">67.9</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.13.13.4">69.0</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.13.13.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.13.13.5.1">
<span class="ltx_p" id="A2.T20.1.13.13.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.13.13.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.13.13.6.1">
<span class="ltx_p" id="A2.T20.1.13.13.6.1.1" style="width:28.5pt;">74.2</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.13.13.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.13.13.7.1">
<span class="ltx_p" id="A2.T20.1.13.13.7.1.1" style="width:28.5pt;">86.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.13.13.8">89.3</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.13.13.9">78.9</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.14.14">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.14.14.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.14.14.1.1">
<span class="ltx_p" id="A2.T20.1.14.14.1.1.1" style="width:130.9pt;">MoE + domain tags</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.14.14.2">86.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.14.14.3">68.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.14.14.4">69.3</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.14.14.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.14.14.5.1">
<span class="ltx_p" id="A2.T20.1.14.14.5.1.1" style="width:28.5pt;">78.8</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.14.14.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.14.14.6.1">
<span class="ltx_p" id="A2.T20.1.14.14.6.1.1" style="width:28.5pt;">73.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.14.14.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.14.14.7.1">
<span class="ltx_p" id="A2.T20.1.14.14.7.1.1" style="width:28.5pt;">85.9</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.14.14.8">89.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.14.14.9">78.6</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.15.15">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.15.15.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.15.15.1.1">
<span class="ltx_p" id="A2.T20.1.15.15.1.1.1" style="width:130.9pt;">MoE + domain tags + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.15.15.2">86.5</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.15.15.3">68.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.15.15.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.15.15.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.15.15.5.1">
<span class="ltx_p" id="A2.T20.1.15.15.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.15.15.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.15.15.6.1">
<span class="ltx_p" id="A2.T20.1.15.15.6.1.1" style="width:28.5pt;">74.4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.15.15.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.15.15.7.1">
<span class="ltx_p" id="A2.T20.1.15.15.7.1.1" style="width:28.5pt;">86.2</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.15.15.8">89.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.15.15.9">79.1</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.16.16">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.16.16.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.16.16.1.1">
<span class="ltx_p" id="A2.T20.1.16.16.1.1.1" style="width:130.9pt;">MoE + Dom. Aware Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.16.16.2">86.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.16.16.3">68.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.16.16.4">69.1</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.16.16.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.16.16.5.1">
<span class="ltx_p" id="A2.T20.1.16.16.5.1.1" style="width:28.5pt;">78.0</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.16.16.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.16.16.6.1">
<span class="ltx_p" id="A2.T20.1.16.16.6.1.1" style="width:28.5pt;">72.7</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.16.16.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.16.16.7.1">
<span class="ltx_p" id="A2.T20.1.16.16.7.1.1" style="width:28.5pt;">86.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.16.16.8">89.0</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.16.16.9">78.5</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.17.17">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.17.17.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.17.17.1.1">
<span class="ltx_p" id="A2.T20.1.17.17.1.1.1" style="width:130.9pt;">MoE + Dom. Aware Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.17.17.2">86.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.17.17.3">68.2</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.17.17.4">69.1</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.17.17.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.17.17.5.1">
<span class="ltx_p" id="A2.T20.1.17.17.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.17.17.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.17.17.6.1">
<span class="ltx_p" id="A2.T20.1.17.17.6.1.1" style="width:28.5pt;">74.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.17.17.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.17.17.7.1">
<span class="ltx_p" id="A2.T20.1.17.17.7.1.1" style="width:28.5pt;">86.0</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.17.17.8">89.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.17.17.9">79.0</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.18.18">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_r" id="A2.T20.1.18.18.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.18.18.1.1">
<span class="ltx_p" id="A2.T20.1.18.18.1.1.1" style="width:130.9pt;">MoE + Dom. Spec. Gate</span>
</span>
</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.18.18.2">86.5</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.18.18.3">68.4</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.18.18.4">69.5</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.18.18.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.18.18.5.1">
<span class="ltx_p" id="A2.T20.1.18.18.5.1.1" style="width:28.5pt;">77.3</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.18.18.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.18.18.6.1">
<span class="ltx_p" id="A2.T20.1.18.18.6.1.1" style="width:28.5pt;">72.9</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top" id="A2.T20.1.18.18.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.18.18.7.1">
<span class="ltx_p" id="A2.T20.1.18.18.7.1.1" style="width:28.5pt;">86.1</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A2.T20.1.18.18.8">89.1</td>
<td class="ltx_td ltx_align_center" id="A2.T20.1.18.18.9">78.5</td>
</tr>
<tr class="ltx_tr" id="A2.T20.1.19.19">
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_r" id="A2.T20.1.19.19.1">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.19.19.1.1">
<span class="ltx_p" id="A2.T20.1.19.19.1.1.1" style="width:130.9pt;">MoE + Dom. Spec. Gate + DR</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T20.1.19.19.2">86.6</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T20.1.19.19.3">68.1</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T20.1.19.19.4">69.2</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T20.1.19.19.5">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.19.19.5.1">
<span class="ltx_p" id="A2.T20.1.19.19.5.1.1" style="width:28.5pt;">79.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T20.1.19.19.6">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.19.19.6.1">
<span class="ltx_p" id="A2.T20.1.19.19.6.1.1" style="width:28.5pt;">74.5</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" id="A2.T20.1.19.19.7">
<span class="ltx_inline-block ltx_align_top" id="A2.T20.1.19.19.7.1">
<span class="ltx_p" id="A2.T20.1.19.19.7.1.1" style="width:28.5pt;">86.3</span>
</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A2.T20.1.19.19.8">89.3</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T20.1.19.19.9">79.1</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 20: </span>COMET results for unseen domains, German-English translation. For models with access to seen domain labels (second group of rows), the “generic” label is used for unseen domains. DR: domain randomization.</figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A3" lang="en">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Analysis of gate statistics.</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">To better assess difference between various gating mechanisms, we compare expert activations across different datasets of SMoE, SMoE+domain tags and SMoE+domain aware gate, SMoE + Domain Spec gate with DR and without.</p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.4">Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A3.F3" title="Figure 3 ‣ Appendix C Analysis of gate statistics. ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">3</span></a> plots the cosine similarity between the experts activation vectors for each pair of test sets. Following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#bib.bib14" title="">14</a>]</cite> we compute the <span class="ltx_text ltx_font_italic" id="A3.p2.4.1">top-1 activity</span> metric for each expert as a fraction of tokens routed to this expert as the first choice. Each test set is then represented by a vector containing <span class="ltx_text ltx_font_italic" id="A3.p2.4.2">top-1 activities</span> of all the model’s experts (<math alttext="10" class="ltx_Math" display="inline" id="A3.p2.1.m1.1"><semantics id="A3.p2.1.m1.1a"><mn id="A3.p2.1.m1.1.1" xref="A3.p2.1.m1.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="A3.p2.1.m1.1b"><cn id="A3.p2.1.m1.1.1.cmml" type="integer" xref="A3.p2.1.m1.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.1.m1.1c">10</annotation><annotation encoding="application/x-llamapun" id="A3.p2.1.m1.1d">10</annotation></semantics></math> experts <math alttext="\times" class="ltx_Math" display="inline" id="A3.p2.2.m2.1"><semantics id="A3.p2.2.m2.1a"><mo id="A3.p2.2.m2.1.1" xref="A3.p2.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A3.p2.2.m2.1b"><times id="A3.p2.2.m2.1.1.cmml" xref="A3.p2.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.2.m2.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A3.p2.2.m2.1d">×</annotation></semantics></math> <math alttext="6" class="ltx_Math" display="inline" id="A3.p2.3.m3.1"><semantics id="A3.p2.3.m3.1a"><mn id="A3.p2.3.m3.1.1" xref="A3.p2.3.m3.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="A3.p2.3.m3.1b"><cn id="A3.p2.3.m3.1.1.cmml" type="integer" xref="A3.p2.3.m3.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.3.m3.1c">6</annotation><annotation encoding="application/x-llamapun" id="A3.p2.3.m3.1d">6</annotation></semantics></math> amount of layers with experts). The similarity between these vectors would indicate the similarities in experts’ activation during decoding.
In this figure we use the <span class="ltx_text ltx_font_italic" id="A3.p2.4.3">generic</span> domain embedding for all the datasets during decoding. Therefore, it reflects how does an access to the domain knowledge <span class="ltx_text ltx_font_italic" id="A3.p2.4.4">during</span> training impacts models’ capacity to specialize its experts based solely on token representation <math alttext="x" class="ltx_Math" display="inline" id="A3.p2.4.m4.1"><semantics id="A3.p2.4.m4.1a"><mi id="A3.p2.4.m4.1.1" xref="A3.p2.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="A3.p2.4.m4.1b"><ci id="A3.p2.4.m4.1.1.cmml" xref="A3.p2.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.4.m4.1c">x</annotation><annotation encoding="application/x-llamapun" id="A3.p2.4.m4.1d">italic_x</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="A3.p3">
<p class="ltx_p" id="A3.p3.1">In the second analysis, we decode a single dataset (Subtitles) with different domain labels. This allows to assess how the domain embedding impacts the choice of experts <span class="ltx_text ltx_font_italic" id="A3.p3.1.1">at inference</span>. Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.F2" title="Figure 2 ‣ SMoE analysis. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">2</span></a> plots similarities of the resulting experts’ activation between different domain tags.</p>
</div>
<div class="ltx_para" id="A3.p4">
<p class="ltx_p" id="A3.p4.1">We see that the models without DR rely much more on the domain tag (Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#S5.F2" title="Figure 2 ‣ SMoE analysis. ‣ 5.1 Study of scaling methods ‣ 5 Results ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">2</span></a>) compared to models with DR. Models with DR in its turn rely more on token representations to specialize experts compared to the model without DR (Figure <a class="ltx_ref" href="https://arxiv.org/html/2407.01126v1#A3.F3" title="Figure 3 ‣ Appendix C Analysis of gate statistics. ‣ Investigating the potential of Sparse Mixtures-of-Experts for multi-domain neural machine translation"><span class="ltx_text ltx_ref_tag">3</span></a>). We note that models with Dom. Aware Gate and Dom. Specific Gate (right) lead to more dissimilar (and therefore more domain-specialized) experts overall compared to SMoE and SMoE+Domain.Tags models. Model with no access to domain knowledge (SMoE) specializes its tokens more compared to models that have access to domain labels without DR (top part of the graph).</p>
</div>
<div class="ltx_para" id="A3.p5">
<p class="ltx_p" id="A3.p5.1">In addition, we note that all the models benefit from knowledge transfer by activating similar experts on similar domains: "Patents" and "Patents (medical)", "Subtitles" and "Subtitles (medical)", "Subtitles" and "Ted".</p>
</div>
<figure class="ltx_figure" id="A3.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_figure_panel ltx_img_landscape" height="222" id="A3.F3.g1" src="x4.png" width="830"/></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><img alt="Refer to caption" class="ltx_graphics ltx_figure_panel ltx_img_landscape" height="222" id="A3.F3.g2" src="x5.png" width="830"/></div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Pairwise similarity of experts activated across different datasets, De-En translation. All the datasets were decoded with the <span class="ltx_text ltx_font_italic" id="A3.F3.2.1">generic</span> domain embedding.</figcaption>
</figure>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Jul  1 09:42:03 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
