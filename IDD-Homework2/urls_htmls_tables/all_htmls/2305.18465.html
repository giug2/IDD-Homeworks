<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2305.18465] Federated Learning of Gboard Language Models with Differential Privacy</title><meta property="og:description" content="We train language models (LMs) with federated learning (FL) and differential privacy (DP) in the Google Keyboard (Gboard). We apply the DP-Follow-the-Regularized-Leader (DP-FTRL)¬†[Kairouz et¬†al., 2021b] algorithm to ac‚Ä¶">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Learning of Gboard Language Models with Differential Privacy">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Learning of Gboard Language Models with Differential Privacy">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2305.18465">

<!--Generated on Mon Feb 26 20:46:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Learning of Gboard Language Models with Differential Privacy</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zheng Xu
</span><span class="ltx_author_notes">Equal contribution, alphabetical order. Correspondence to <span id="id4.1.id1" class="ltx_text ltx_font_typewriter">{xuzheng,zhangyx}@google.com</span>.
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yanxiang Zhang<sup id="id5.2.id1" class="ltx_sup">‚àó</sup>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Galen Andrew
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Christopher A. Choquette-Choo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Peter Kairouz
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">H. Brendan McMahan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jesse Rosenstock
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yuanbo Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Google
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id3.2" class="ltx_p">We train language models (LMs) with federated learning (FL) and differential privacy (DP) in the Google Keyboard (Gboard). We apply the DP-Follow-the-Regularized-Leader (DP-FTRL)¬†<cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> algorithm to achieve meaningfully formal DP guarantees without requiring uniform sampling of client devices.
To provide favorable privacy-utility trade-offs, we introduce a new client participation criterion and discuss the implication of its configuration in large scale systems. We show how quantile-based clip estimation¬†<cite class="ltx_cite ltx_citemacro_citep">[Andrew et¬†al., <a href="#bib.bib3" title="" class="ltx_ref">2021</a>]</cite> can be combined with DP-FTRL to adaptively choose the clip norm during training or reduce the hyperparameter tuning in preparation for training.
With the help of pretraining on public data, we train and deploy more than twenty Gboard LMs that achieve high utility and <math id="id2.1.m1.1" class="ltx_Math" alttext="\rho-" display="inline"><semantics id="id2.1.m1.1a"><mrow id="id2.1.m1.1.1" xref="id2.1.m1.1.1.cmml"><mi id="id2.1.m1.1.1.2" xref="id2.1.m1.1.1.2.cmml">œÅ</mi><mo id="id2.1.m1.1.1.3" xref="id2.1.m1.1.1.3.cmml">‚àí</mo></mrow><annotation-xml encoding="MathML-Content" id="id2.1.m1.1b"><apply id="id2.1.m1.1.1.cmml" xref="id2.1.m1.1.1"><csymbol cd="latexml" id="id2.1.m1.1.1.1.cmml" xref="id2.1.m1.1.1">limit-from</csymbol><ci id="id2.1.m1.1.1.2.cmml" xref="id2.1.m1.1.1.2">ùúå</ci><minus id="id2.1.m1.1.1.3.cmml" xref="id2.1.m1.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.1.m1.1c">\rho-</annotation></semantics></math>zCDP privacy guarantees with <math id="id3.2.m2.2" class="ltx_Math" alttext="\rho\in(0.2,2)" display="inline"><semantics id="id3.2.m2.2a"><mrow id="id3.2.m2.2.3" xref="id3.2.m2.2.3.cmml"><mi id="id3.2.m2.2.3.2" xref="id3.2.m2.2.3.2.cmml">œÅ</mi><mo id="id3.2.m2.2.3.1" xref="id3.2.m2.2.3.1.cmml">‚àà</mo><mrow id="id3.2.m2.2.3.3.2" xref="id3.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="id3.2.m2.2.3.3.2.1" xref="id3.2.m2.2.3.3.1.cmml">(</mo><mn id="id3.2.m2.1.1" xref="id3.2.m2.1.1.cmml">0.2</mn><mo id="id3.2.m2.2.3.3.2.2" xref="id3.2.m2.2.3.3.1.cmml">,</mo><mn id="id3.2.m2.2.2" xref="id3.2.m2.2.2.cmml">2</mn><mo stretchy="false" id="id3.2.m2.2.3.3.2.3" xref="id3.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="id3.2.m2.2b"><apply id="id3.2.m2.2.3.cmml" xref="id3.2.m2.2.3"><in id="id3.2.m2.2.3.1.cmml" xref="id3.2.m2.2.3.1"></in><ci id="id3.2.m2.2.3.2.cmml" xref="id3.2.m2.2.3.2">ùúå</ci><interval closure="open" id="id3.2.m2.2.3.3.1.cmml" xref="id3.2.m2.2.3.3.2"><cn type="float" id="id3.2.m2.1.1.cmml" xref="id3.2.m2.1.1">0.2</cn><cn type="integer" id="id3.2.m2.2.2.cmml" xref="id3.2.m2.2.2">2</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="id3.2.m2.2c">\rho\in(0.2,2)</annotation></semantics></math>, with two models additionally trained with secure aggregation¬†<cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib7" title="" class="ltx_ref">2017</a>]</cite>.
We are happy to announce that all the next word prediction neural network LMs in Gboard now have DP guarantees, and all future launches of Gboard neural network LMs will require DP guarantees.
We summarize our experience and provide concrete suggestions on DP training for practitioners.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p"><span id="S1.p1.1.1" class="ltx_text ltx_font_bold">FL and Gboard LMs.</span>
In cross-device federated learning (FL), client devices collaboratively train a model without directly exchanging their local data <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib19" title="" class="ltx_ref">2019</a>]</cite>. Google Keyboard (Gboard) was an early adopter of FL to train models that improve the user experience, following data minimization principles <cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib6" title="" class="ltx_ref">2021</a>]</cite> to protect users‚Äô privacy from some risks. Language models (LMs) are trained with FL to support various features in Gboard, including Next Word Prediction (NWP), Smart Compose (SC), and On-The-Fly rescoring (OTF). As illustrated in <a href="#S1.F1" title="In 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>, NWP <cite class="ltx_cite ltx_citemacro_citep">[Hard et¬†al., <a href="#bib.bib18" title="" class="ltx_ref">2018</a>]</cite> uses an LM to suggest a word, which is triggered after a previous word is committed; SC provides longer inline suggestions to accelerate typing, which can be triggered per character when the confidence is high; OTF is used to re-rank the candidate words generated during typing before a word is committed.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2305.18465/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="369" height="183" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">Gboard features supported by language models: NWP for next word, SC for inline suggestion, and OTF for candidates re-ranking.</span></figcaption>
</figure>
<figure id="S1.F2" class="ltx_figure"><img src="/html/2305.18465/assets/x2.png" id="S1.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="232" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S1.F2.3.2" class="ltx_text" style="font-size:90%;">System overview of federated learning with differential privacy and secure aggregation.</span></figcaption>
</figure>
<section id="S1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Models, metrics and tasks.</h4>

<div id="S1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S1.SS0.SSS0.Px1.p1.2" class="ltx_p">We train LMs with the same neural network (NN) architecture described in <cite class="ltx_cite ltx_citemacro_citep">[Hard et¬†al., <a href="#bib.bib18" title="" class="ltx_ref">2018</a>]</cite>: a one-layer LSTM/CIFG of 670 hidden neurons, with input and output word-based embeddings of dimension 96. OTF LMs use a larger vocabulary (<math id="S1.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S1.SS0.SSS0.Px1.p1.1.m1.1a"><mo id="S1.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S1.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">‚àº</mo><annotation-xml encoding="MathML-Content" id="S1.SS0.SSS0.Px1.p1.1.m1.1b"><csymbol cd="latexml" id="S1.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S1.SS0.SSS0.Px1.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.SS0.SSS0.Px1.p1.1.m1.1c">\sim</annotation></semantics></math> 30K words) compared to NWP LMs (<math id="S1.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S1.SS0.SSS0.Px1.p1.2.m2.1a"><mo id="S1.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S1.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">‚àº</mo><annotation-xml encoding="MathML-Content" id="S1.SS0.SSS0.Px1.p1.2.m2.1b"><csymbol cd="latexml" id="S1.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S1.SS0.SSS0.Px1.p1.2.m2.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.SS0.SSS0.Px1.p1.2.m2.1c">\sim</annotation></semantics></math> 10‚Äì20K words); the number of parameters for models with a 10K/20K/30K vocabulary is 2.4M/4.4M/6.4M, respectively. SC is a downstream task that reuses NWP LMs without any retraining from data. We train NWP LMs and OTF LMs from populations of devices categorized by language and location. For example, en-US NWP denotes the task of training NWP model on data generated by devices using English in the United States.</p>
</div>
<div id="S1.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S1.SS0.SSS0.Px1.p2.1" class="ltx_p">Federated Averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_citep">[McMahan et¬†al., <a href="#bib.bib24" title="" class="ltx_ref">2017</a>]</cite> and variants <cite class="ltx_cite ltx_citemacro_citep">[Wang et¬†al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>]</cite> are popular FL training algorithms in practice. In each communication <em id="S1.SS0.SSS0.Px1.p2.1.1" class="ltx_emph ltx_font_italic">round</em>, the server will orchestrate a small subset of client devices for training and aggregate the resulting model deltas to update the global model. In a successful round, the system guarantees the number of clients participating in training is at least as large as the configured <em id="S1.SS0.SSS0.Px1.p2.1.2" class="ltx_emph ltx_font_italic">report goal</em> <cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib8" title="" class="ltx_ref">2019</a>]</cite>. A model is typically tested and deployed after training for several thousands of rounds. Top-1 in-vocab accuracy is used to track the utility during training and additional metrics for A/B testing are introduced in <a href="#S3" title="3 Deploying DP LMs ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
</section>
<section id="S1.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">DP and DP-FTRL.</h4>

<div id="S1.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S1.SS0.SSS0.Px2.p1.1" class="ltx_p">Differential privacy (DP) can be combined with FL to provide a formal guarantee that the trained model will not memorize specific users‚Äô data, which provides stronger privacy protection by executing data anonymization principles <cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib6" title="" class="ltx_ref">2021</a>; Wang et¬†al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>]</cite>. <cite class="ltx_cite ltx_citemacro_citet">Ramaswamy et¬†al. [<a href="#bib.bib28" title="" class="ltx_ref">2020</a>]</cite> applied DP-FedAvg¬†<cite class="ltx_cite ltx_citemacro_citep">[McMahan et¬†al., <a href="#bib.bib25" title="" class="ltx_ref">2018</a>; Geyer et¬†al., <a href="#bib.bib17" title="" class="ltx_ref">2017</a>]</cite>, a variant of DP-SGD¬†<cite class="ltx_cite ltx_citemacro_citep">[Abadi et¬†al., <a href="#bib.bib1" title="" class="ltx_ref">2016</a>]</cite> for user/client-level DP, to train production LMs in FL. <cite class="ltx_cite ltx_citemacro_citet">Ramaswamy et¬†al. [<a href="#bib.bib28" title="" class="ltx_ref">2020</a>]</cite> demonstrated anonymization via empirical auditing techniques by <cite class="ltx_cite ltx_citemacro_citet">Carlini et¬†al. [<a href="#bib.bib10" title="" class="ltx_ref">2019</a>]</cite> but did not provide a formal DP guarantee.
Achieving a strong formal DP guarantee for DP-FedAvg would require privacy amplification-by-sampling, which necessitates sampling clients uniformly at random on each round. However, a cross-device FL system has limited control over client sampling as devices have to satisfy local criteria such as being charging and connected to an unmetered network to be eligible for participation <cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib8" title="" class="ltx_ref">2019</a>; Balle et¬†al., <a href="#bib.bib4" title="" class="ltx_ref">2020</a>]</cite>. In contrast, we deploy a recent algorithm, DP-FTRL¬†<cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite>, allowing us to achieve strong privacy and utility for production models without uniform sampling assumptions.</p>
</div>
</section>
<section id="S1.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Contributions.</h4>

<div id="S1.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S1.SS0.SSS0.Px3.p1.1" class="ltx_p">We discuss our strategy and experience of training Gboard LMs with FL and DP. We introduce an algorithm that enables adaptive clipping <cite class="ltx_cite ltx_citemacro_citep">[Andrew et¬†al., <a href="#bib.bib3" title="" class="ltx_ref">2021</a>]</cite> in DP-FTRL <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> (<a href="#S2.SS1" title="2.1 DP-FTRL and adaptive clipping ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.1</span></a>), which can reliably estimate the clip norm to reduce hyperparameter tuning. We discuss the impact of scaling up computation and limiting client participation (<a href="#S2.SS2" title="2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.2</span></a>), and identify the algorithm and system configurations for the regime of strong privacy and utility. We also successfully apply pre-training (<a href="#S2.SS3" title="2.3 Public pretraining ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.3</span></a>) to improve privacy and utility, which is (to the best of our knowledge) the first time pretraining is applied to training a DP model directly from users‚Äô data.</p>
</div>
<div id="S1.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S1.SS0.SSS0.Px3.p2.1" class="ltx_p">We combine DP-FTRL with secure aggregation (SecAgg) to further strengthen the data minimization properties of our approach (<a href="#S2.SS4" title="2.4 Combining with secure aggregation ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.4</span></a>). <a href="#S1.F2" title="In 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">2</span></a> provides a system overview of the techniques for training Gboard language models with federated learning and differential privacy.
Finally, we summarize concrete suggestions for practitioners training differentially private models to deploy in production in (<a href="#S2.SS5" title="2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.5</span></a>), and present and analyze twenty Gboard LMs trained with formal DP guarantees (<a href="#S3" title="3 Deploying DP LMs ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">3</span></a>). We are happy to announce that all the next word prediction neural network LMs in Gboard now have DP guarantees, and all future launches of Gboard neural network LMs will require DP guarantees.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.3.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Federated DP-FTRL with <span id="alg1.4.2" class="ltx_text" style="background-color:#BFBFFF;">adaptive clipping</span></figcaption>
<div id="alg1.5" class="ltx_listing ltx_listing">
<div id="algx1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l0.5.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>¬†¬†: report goal <math id="algx1.l0.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="algx1.l0.m1.1a"><mi id="algx1.l0.m1.1.1" xref="algx1.l0.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m1.1b"><ci id="algx1.l0.m1.1.1.cmml" xref="algx1.l0.m1.1.1">ùëö</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m1.1c">m</annotation></semantics></math>, learning rate for model weights on client <math id="algx1.l0.m2.1" class="ltx_Math" alttext="\eta_{c}" display="inline"><semantics id="algx1.l0.m2.1a"><msub id="algx1.l0.m2.1.1" xref="algx1.l0.m2.1.1.cmml"><mi id="algx1.l0.m2.1.1.2" xref="algx1.l0.m2.1.1.2.cmml">Œ∑</mi><mi id="algx1.l0.m2.1.1.3" xref="algx1.l0.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l0.m2.1b"><apply id="algx1.l0.m2.1.1.cmml" xref="algx1.l0.m2.1.1"><csymbol cd="ambiguous" id="algx1.l0.m2.1.1.1.cmml" xref="algx1.l0.m2.1.1">subscript</csymbol><ci id="algx1.l0.m2.1.1.2.cmml" xref="algx1.l0.m2.1.1.2">ùúÇ</ci><ci id="algx1.l0.m2.1.1.3.cmml" xref="algx1.l0.m2.1.1.3">ùëê</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m2.1c">\eta_{c}</annotation></semantics></math> and on server <math id="algx1.l0.m3.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="algx1.l0.m3.1a"><msub id="algx1.l0.m3.1.1" xref="algx1.l0.m3.1.1.cmml"><mi id="algx1.l0.m3.1.1.2" xref="algx1.l0.m3.1.1.2.cmml">Œ∑</mi><mi id="algx1.l0.m3.1.1.3" xref="algx1.l0.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l0.m3.1b"><apply id="algx1.l0.m3.1.1.cmml" xref="algx1.l0.m3.1.1"><csymbol cd="ambiguous" id="algx1.l0.m3.1.1.1.cmml" xref="algx1.l0.m3.1.1">subscript</csymbol><ci id="algx1.l0.m3.1.1.2.cmml" xref="algx1.l0.m3.1.1.2">ùúÇ</ci><ci id="algx1.l0.m3.1.1.3.cmml" xref="algx1.l0.m3.1.1.3">ùë†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m3.1c">\eta_{s}</annotation></semantics></math>, momentum <math id="algx1.l0.m4.1" class="ltx_Math" alttext="\beta=0.9" display="inline"><semantics id="algx1.l0.m4.1a"><mrow id="algx1.l0.m4.1.1" xref="algx1.l0.m4.1.1.cmml"><mi id="algx1.l0.m4.1.1.2" xref="algx1.l0.m4.1.1.2.cmml">Œ≤</mi><mo id="algx1.l0.m4.1.1.1" xref="algx1.l0.m4.1.1.1.cmml">=</mo><mn id="algx1.l0.m4.1.1.3" xref="algx1.l0.m4.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="algx1.l0.m4.1b"><apply id="algx1.l0.m4.1.1.cmml" xref="algx1.l0.m4.1.1"><eq id="algx1.l0.m4.1.1.1.cmml" xref="algx1.l0.m4.1.1.1"></eq><ci id="algx1.l0.m4.1.1.2.cmml" xref="algx1.l0.m4.1.1.2">ùõΩ</ci><cn type="float" id="algx1.l0.m4.1.1.3.cmml" xref="algx1.l0.m4.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m4.1c">\beta=0.9</annotation></semantics></math>, noise multiplier for model delta <math id="algx1.l0.m5.1" class="ltx_Math" alttext="z_{\Delta}" display="inline"><semantics id="algx1.l0.m5.1a"><msub id="algx1.l0.m5.1.1" xref="algx1.l0.m5.1.1.cmml"><mi id="algx1.l0.m5.1.1.2" xref="algx1.l0.m5.1.1.2.cmml">z</mi><mi mathvariant="normal" id="algx1.l0.m5.1.1.3" xref="algx1.l0.m5.1.1.3.cmml">Œî</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l0.m5.1b"><apply id="algx1.l0.m5.1.1.cmml" xref="algx1.l0.m5.1.1"><csymbol cd="ambiguous" id="algx1.l0.m5.1.1.1.cmml" xref="algx1.l0.m5.1.1">subscript</csymbol><ci id="algx1.l0.m5.1.1.2.cmml" xref="algx1.l0.m5.1.1.2">ùëß</ci><ci id="algx1.l0.m5.1.1.3.cmml" xref="algx1.l0.m5.1.1.3">Œî</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m5.1c">z_{\Delta}</annotation></semantics></math>, total number of rounds <math id="algx1.l0.m6.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algx1.l0.m6.1a"><mi id="algx1.l0.m6.1.1" xref="algx1.l0.m6.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algx1.l0.m6.1b"><ci id="algx1.l0.m6.1.1.cmml" xref="algx1.l0.m6.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.m6.1c">T</annotation></semantics></math>, restart rounds <math id="algx1.l0.m7.1" class="ltx_math_unparsed" alttext="\mathcal{R}=\{128+1024i,i=0,1,\ldots\}" display="inline"><semantics id="algx1.l0.m7.1a"><mrow id="algx1.l0.m7.1b"><mi class="ltx_font_mathcaligraphic" id="algx1.l0.m7.1.2">‚Ñõ</mi><mo id="algx1.l0.m7.1.3">=</mo><mrow id="algx1.l0.m7.1.4"><mo stretchy="false" id="algx1.l0.m7.1.4.1">{</mo><mn id="algx1.l0.m7.1.4.2">128</mn><mo id="algx1.l0.m7.1.4.3">+</mo><mn id="algx1.l0.m7.1.4.4">1024</mn><mi id="algx1.l0.m7.1.4.5">i</mi><mo id="algx1.l0.m7.1.4.6">,</mo><mi id="algx1.l0.m7.1.1">i</mi><mo id="algx1.l0.m7.1.4.7">=</mo><mn id="algx1.l0.m7.1.4.8">0</mn><mo id="algx1.l0.m7.1.4.9">,</mo><mn id="algx1.l0.m7.1.4.10">1</mn><mo id="algx1.l0.m7.1.4.11">,</mo><mi mathvariant="normal" id="algx1.l0.m7.1.4.12">‚Ä¶</mi><mo stretchy="false" id="algx1.l0.m7.1.4.13">}</mo></mrow></mrow><annotation encoding="application/x-tex" id="algx1.l0.m7.1c">\mathcal{R}=\{128+1024i,i=0,1,\ldots\}</annotation></semantics></math>, <span id="algx1.l0.1" class="ltx_text" style="background-color:#BFBFFF;">quantile based norm estimation <math id="algx1.l0.1.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="C^{0}" display="inline"><semantics id="algx1.l0.1.1.m1.1a"><msup id="algx1.l0.1.1.m1.1.1" xref="algx1.l0.1.1.m1.1.1.cmml"><mi mathbackground="#BFBFFF" id="algx1.l0.1.1.m1.1.1.2" xref="algx1.l0.1.1.m1.1.1.2.cmml">C</mi><mn mathbackground="#BFBFFF" id="algx1.l0.1.1.m1.1.1.3" xref="algx1.l0.1.1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="algx1.l0.1.1.m1.1b"><apply id="algx1.l0.1.1.m1.1.1.cmml" xref="algx1.l0.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l0.1.1.m1.1.1.1.cmml" xref="algx1.l0.1.1.m1.1.1">superscript</csymbol><ci id="algx1.l0.1.1.m1.1.1.2.cmml" xref="algx1.l0.1.1.m1.1.1.2">ùê∂</ci><cn type="integer" id="algx1.l0.1.1.m1.1.1.3.cmml" xref="algx1.l0.1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.1.1.m1.1c">C^{0}</annotation></semantics></math></span>, <span id="algx1.l0.2" class="ltx_text" style="background-color:#BFBFFF;">target quantile <math id="algx1.l0.2.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\gamma=0.5" display="inline"><semantics id="algx1.l0.2.1.m1.1a"><mrow id="algx1.l0.2.1.m1.1.1" xref="algx1.l0.2.1.m1.1.1.cmml"><mi mathbackground="#BFBFFF" id="algx1.l0.2.1.m1.1.1.2" xref="algx1.l0.2.1.m1.1.1.2.cmml">Œ≥</mi><mo mathbackground="#BFBFFF" id="algx1.l0.2.1.m1.1.1.1" xref="algx1.l0.2.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#BFBFFF" id="algx1.l0.2.1.m1.1.1.3" xref="algx1.l0.2.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="algx1.l0.2.1.m1.1b"><apply id="algx1.l0.2.1.m1.1.1.cmml" xref="algx1.l0.2.1.m1.1.1"><eq id="algx1.l0.2.1.m1.1.1.1.cmml" xref="algx1.l0.2.1.m1.1.1.1"></eq><ci id="algx1.l0.2.1.m1.1.1.2.cmml" xref="algx1.l0.2.1.m1.1.1.2">ùõæ</ci><cn type="float" id="algx1.l0.2.1.m1.1.1.3.cmml" xref="algx1.l0.2.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.2.1.m1.1c">\gamma=0.5</annotation></semantics></math></span>, <span id="algx1.l0.3" class="ltx_text" style="background-color:#BFBFFF;">learning rate for norm <math id="algx1.l0.3.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\eta_{\gamma}=0.2" display="inline"><semantics id="algx1.l0.3.1.m1.1a"><mrow id="algx1.l0.3.1.m1.1.1" xref="algx1.l0.3.1.m1.1.1.cmml"><msub id="algx1.l0.3.1.m1.1.1.2" xref="algx1.l0.3.1.m1.1.1.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l0.3.1.m1.1.1.2.2" xref="algx1.l0.3.1.m1.1.1.2.2.cmml">Œ∑</mi><mi mathbackground="#BFBFFF" id="algx1.l0.3.1.m1.1.1.2.3" xref="algx1.l0.3.1.m1.1.1.2.3.cmml">Œ≥</mi></msub><mo mathbackground="#BFBFFF" id="algx1.l0.3.1.m1.1.1.1" xref="algx1.l0.3.1.m1.1.1.1.cmml">=</mo><mn mathbackground="#BFBFFF" id="algx1.l0.3.1.m1.1.1.3" xref="algx1.l0.3.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="algx1.l0.3.1.m1.1b"><apply id="algx1.l0.3.1.m1.1.1.cmml" xref="algx1.l0.3.1.m1.1.1"><eq id="algx1.l0.3.1.m1.1.1.1.cmml" xref="algx1.l0.3.1.m1.1.1.1"></eq><apply id="algx1.l0.3.1.m1.1.1.2.cmml" xref="algx1.l0.3.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx1.l0.3.1.m1.1.1.2.1.cmml" xref="algx1.l0.3.1.m1.1.1.2">subscript</csymbol><ci id="algx1.l0.3.1.m1.1.1.2.2.cmml" xref="algx1.l0.3.1.m1.1.1.2.2">ùúÇ</ci><ci id="algx1.l0.3.1.m1.1.1.2.3.cmml" xref="algx1.l0.3.1.m1.1.1.2.3">ùõæ</ci></apply><cn type="float" id="algx1.l0.3.1.m1.1.1.3.cmml" xref="algx1.l0.3.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.3.1.m1.1c">\eta_{\gamma}=0.2</annotation></semantics></math></span>, <span id="algx1.l0.4" class="ltx_text" style="background-color:#BFBFFF;">noise stddev for clip estimation <math id="algx1.l0.4.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\sigma_{b}=m/20" display="inline"><semantics id="algx1.l0.4.1.m1.1a"><mrow id="algx1.l0.4.1.m1.1.1" xref="algx1.l0.4.1.m1.1.1.cmml"><msub id="algx1.l0.4.1.m1.1.1.2" xref="algx1.l0.4.1.m1.1.1.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.2.2" xref="algx1.l0.4.1.m1.1.1.2.2.cmml">œÉ</mi><mi mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.2.3" xref="algx1.l0.4.1.m1.1.1.2.3.cmml">b</mi></msub><mo mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.1" xref="algx1.l0.4.1.m1.1.1.1.cmml">=</mo><mrow id="algx1.l0.4.1.m1.1.1.3" xref="algx1.l0.4.1.m1.1.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.3.2" xref="algx1.l0.4.1.m1.1.1.3.2.cmml">m</mi><mo mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.3.1" xref="algx1.l0.4.1.m1.1.1.3.1.cmml">/</mo><mn mathbackground="#BFBFFF" id="algx1.l0.4.1.m1.1.1.3.3" xref="algx1.l0.4.1.m1.1.1.3.3.cmml">20</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l0.4.1.m1.1b"><apply id="algx1.l0.4.1.m1.1.1.cmml" xref="algx1.l0.4.1.m1.1.1"><eq id="algx1.l0.4.1.m1.1.1.1.cmml" xref="algx1.l0.4.1.m1.1.1.1"></eq><apply id="algx1.l0.4.1.m1.1.1.2.cmml" xref="algx1.l0.4.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx1.l0.4.1.m1.1.1.2.1.cmml" xref="algx1.l0.4.1.m1.1.1.2">subscript</csymbol><ci id="algx1.l0.4.1.m1.1.1.2.2.cmml" xref="algx1.l0.4.1.m1.1.1.2.2">ùúé</ci><ci id="algx1.l0.4.1.m1.1.1.2.3.cmml" xref="algx1.l0.4.1.m1.1.1.2.3">ùëè</ci></apply><apply id="algx1.l0.4.1.m1.1.1.3.cmml" xref="algx1.l0.4.1.m1.1.1.3"><divide id="algx1.l0.4.1.m1.1.1.3.1.cmml" xref="algx1.l0.4.1.m1.1.1.3.1"></divide><ci id="algx1.l0.4.1.m1.1.1.3.2.cmml" xref="algx1.l0.4.1.m1.1.1.3.2">ùëö</ci><cn type="integer" id="algx1.l0.4.1.m1.1.1.3.3.cmml" xref="algx1.l0.4.1.m1.1.1.3.3">20</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l0.4.1.m1.1c">\sigma_{b}=m/20</annotation></semantics></math></span>

<div class="ltx_pagination ltx_role_start_2_columns"></div>
</div>
<div id="algx1.l1" class="ltx_listingline">¬†¬†Initialize model <math id="algx1.l1.m1.1" class="ltx_Math" alttext="\theta^{0}" display="inline"><semantics id="algx1.l1.m1.1a"><msup id="algx1.l1.m1.1.1" xref="algx1.l1.m1.1.1.cmml"><mi id="algx1.l1.m1.1.1.2" xref="algx1.l1.m1.1.1.2.cmml">Œ∏</mi><mn id="algx1.l1.m1.1.1.3" xref="algx1.l1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="algx1.l1.m1.1b"><apply id="algx1.l1.m1.1.1.cmml" xref="algx1.l1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l1.m1.1.1.1.cmml" xref="algx1.l1.m1.1.1">superscript</csymbol><ci id="algx1.l1.m1.1.1.2.cmml" xref="algx1.l1.m1.1.1.2">ùúÉ</ci><cn type="integer" id="algx1.l1.m1.1.1.3.cmml" xref="algx1.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m1.1c">\theta^{0}</annotation></semantics></math>, momentum buffer <math id="algx1.l1.m2.1" class="ltx_Math" alttext="\bar{\Delta}^{0}=0" display="inline"><semantics id="algx1.l1.m2.1a"><mrow id="algx1.l1.m2.1.1" xref="algx1.l1.m2.1.1.cmml"><msup id="algx1.l1.m2.1.1.2" xref="algx1.l1.m2.1.1.2.cmml"><mover accent="true" id="algx1.l1.m2.1.1.2.2" xref="algx1.l1.m2.1.1.2.2.cmml"><mi mathvariant="normal" id="algx1.l1.m2.1.1.2.2.2" xref="algx1.l1.m2.1.1.2.2.2.cmml">Œî</mi><mo id="algx1.l1.m2.1.1.2.2.1" xref="algx1.l1.m2.1.1.2.2.1.cmml">¬Ø</mo></mover><mn id="algx1.l1.m2.1.1.2.3" xref="algx1.l1.m2.1.1.2.3.cmml">0</mn></msup><mo id="algx1.l1.m2.1.1.1" xref="algx1.l1.m2.1.1.1.cmml">=</mo><mn id="algx1.l1.m2.1.1.3" xref="algx1.l1.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algx1.l1.m2.1b"><apply id="algx1.l1.m2.1.1.cmml" xref="algx1.l1.m2.1.1"><eq id="algx1.l1.m2.1.1.1.cmml" xref="algx1.l1.m2.1.1.1"></eq><apply id="algx1.l1.m2.1.1.2.cmml" xref="algx1.l1.m2.1.1.2"><csymbol cd="ambiguous" id="algx1.l1.m2.1.1.2.1.cmml" xref="algx1.l1.m2.1.1.2">superscript</csymbol><apply id="algx1.l1.m2.1.1.2.2.cmml" xref="algx1.l1.m2.1.1.2.2"><ci id="algx1.l1.m2.1.1.2.2.1.cmml" xref="algx1.l1.m2.1.1.2.2.1">¬Ø</ci><ci id="algx1.l1.m2.1.1.2.2.2.cmml" xref="algx1.l1.m2.1.1.2.2.2">Œî</ci></apply><cn type="integer" id="algx1.l1.m2.1.1.2.3.cmml" xref="algx1.l1.m2.1.1.2.3">0</cn></apply><cn type="integer" id="algx1.l1.m2.1.1.3.cmml" xref="algx1.l1.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m2.1c">\bar{\Delta}^{0}=0</annotation></semantics></math>, clip norm <math id="algx1.l1.m3.1" class="ltx_Math" alttext="C_{\theta}=C^{0}" display="inline"><semantics id="algx1.l1.m3.1a"><mrow id="algx1.l1.m3.1.1" xref="algx1.l1.m3.1.1.cmml"><msub id="algx1.l1.m3.1.1.2" xref="algx1.l1.m3.1.1.2.cmml"><mi id="algx1.l1.m3.1.1.2.2" xref="algx1.l1.m3.1.1.2.2.cmml">C</mi><mi id="algx1.l1.m3.1.1.2.3" xref="algx1.l1.m3.1.1.2.3.cmml">Œ∏</mi></msub><mo id="algx1.l1.m3.1.1.1" xref="algx1.l1.m3.1.1.1.cmml">=</mo><msup id="algx1.l1.m3.1.1.3" xref="algx1.l1.m3.1.1.3.cmml"><mi id="algx1.l1.m3.1.1.3.2" xref="algx1.l1.m3.1.1.3.2.cmml">C</mi><mn id="algx1.l1.m3.1.1.3.3" xref="algx1.l1.m3.1.1.3.3.cmml">0</mn></msup></mrow><annotation-xml encoding="MathML-Content" id="algx1.l1.m3.1b"><apply id="algx1.l1.m3.1.1.cmml" xref="algx1.l1.m3.1.1"><eq id="algx1.l1.m3.1.1.1.cmml" xref="algx1.l1.m3.1.1.1"></eq><apply id="algx1.l1.m3.1.1.2.cmml" xref="algx1.l1.m3.1.1.2"><csymbol cd="ambiguous" id="algx1.l1.m3.1.1.2.1.cmml" xref="algx1.l1.m3.1.1.2">subscript</csymbol><ci id="algx1.l1.m3.1.1.2.2.cmml" xref="algx1.l1.m3.1.1.2.2">ùê∂</ci><ci id="algx1.l1.m3.1.1.2.3.cmml" xref="algx1.l1.m3.1.1.2.3">ùúÉ</ci></apply><apply id="algx1.l1.m3.1.1.3.cmml" xref="algx1.l1.m3.1.1.3"><csymbol cd="ambiguous" id="algx1.l1.m3.1.1.3.1.cmml" xref="algx1.l1.m3.1.1.3">superscript</csymbol><ci id="algx1.l1.m3.1.1.3.2.cmml" xref="algx1.l1.m3.1.1.3.2">ùê∂</ci><cn type="integer" id="algx1.l1.m3.1.1.3.3.cmml" xref="algx1.l1.m3.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m3.1c">C_{\theta}=C^{0}</annotation></semantics></math>

</div>
<div id="algx1.l2" class="ltx_listingline">¬†¬†Initialize tree <math id="algx1.l2.m1.1" class="ltx_Math" alttext="\mathcal{T}_{\theta}" display="inline"><semantics id="algx1.l2.m1.1a"><msub id="algx1.l2.m1.1.1" xref="algx1.l2.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l2.m1.1.1.2" xref="algx1.l2.m1.1.1.2.cmml">ùíØ</mi><mi id="algx1.l2.m1.1.1.3" xref="algx1.l2.m1.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.m1.1b"><apply id="algx1.l2.m1.1.1.cmml" xref="algx1.l2.m1.1.1"><csymbol cd="ambiguous" id="algx1.l2.m1.1.1.1.cmml" xref="algx1.l2.m1.1.1">subscript</csymbol><ci id="algx1.l2.m1.1.1.2.cmml" xref="algx1.l2.m1.1.1.2">ùíØ</ci><ci id="algx1.l2.m1.1.1.3.cmml" xref="algx1.l2.m1.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m1.1c">\mathcal{T}_{\theta}</annotation></semantics></math> with <math id="algx1.l2.m2.1" class="ltx_Math" alttext="z_{\Delta}" display="inline"><semantics id="algx1.l2.m2.1a"><msub id="algx1.l2.m2.1.1" xref="algx1.l2.m2.1.1.cmml"><mi id="algx1.l2.m2.1.1.2" xref="algx1.l2.m2.1.1.2.cmml">z</mi><mi mathvariant="normal" id="algx1.l2.m2.1.1.3" xref="algx1.l2.m2.1.1.3.cmml">Œî</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.m2.1b"><apply id="algx1.l2.m2.1.1.cmml" xref="algx1.l2.m2.1.1"><csymbol cd="ambiguous" id="algx1.l2.m2.1.1.1.cmml" xref="algx1.l2.m2.1.1">subscript</csymbol><ci id="algx1.l2.m2.1.1.2.cmml" xref="algx1.l2.m2.1.1.2">ùëß</ci><ci id="algx1.l2.m2.1.1.3.cmml" xref="algx1.l2.m2.1.1.3">Œî</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m2.1c">z_{\Delta}</annotation></semantics></math>, <math id="algx1.l2.m3.1" class="ltx_Math" alttext="C_{\theta}" display="inline"><semantics id="algx1.l2.m3.1a"><msub id="algx1.l2.m3.1.1" xref="algx1.l2.m3.1.1.cmml"><mi id="algx1.l2.m3.1.1.2" xref="algx1.l2.m3.1.1.2.cmml">C</mi><mi id="algx1.l2.m3.1.1.3" xref="algx1.l2.m3.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.m3.1b"><apply id="algx1.l2.m3.1.1.cmml" xref="algx1.l2.m3.1.1"><csymbol cd="ambiguous" id="algx1.l2.m3.1.1.1.cmml" xref="algx1.l2.m3.1.1">subscript</csymbol><ci id="algx1.l2.m3.1.1.2.cmml" xref="algx1.l2.m3.1.1.2">ùê∂</ci><ci id="algx1.l2.m3.1.1.3.cmml" xref="algx1.l2.m3.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.m3.1c">C_{\theta}</annotation></semantics></math>, <span id="algx1.l2.2" class="ltx_text" style="background-color:#BFBFFF;">and <math id="algx1.l2.1.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\mathcal{T}_{b}" display="inline"><semantics id="algx1.l2.1.1.m1.1a"><msub id="algx1.l2.1.1.m1.1.1" xref="algx1.l2.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#BFBFFF" id="algx1.l2.1.1.m1.1.1.2" xref="algx1.l2.1.1.m1.1.1.2.cmml">ùíØ</mi><mi mathbackground="#BFBFFF" id="algx1.l2.1.1.m1.1.1.3" xref="algx1.l2.1.1.m1.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.1.1.m1.1b"><apply id="algx1.l2.1.1.m1.1.1.cmml" xref="algx1.l2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l2.1.1.m1.1.1.1.cmml" xref="algx1.l2.1.1.m1.1.1">subscript</csymbol><ci id="algx1.l2.1.1.m1.1.1.2.cmml" xref="algx1.l2.1.1.m1.1.1.2">ùíØ</ci><ci id="algx1.l2.1.1.m1.1.1.3.cmml" xref="algx1.l2.1.1.m1.1.1.3">ùëè</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.1.1.m1.1c">\mathcal{T}_{b}</annotation></semantics></math> with <math id="algx1.l2.2.2.m2.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\sigma_{b}" display="inline"><semantics id="algx1.l2.2.2.m2.1a"><msub id="algx1.l2.2.2.m2.1.1" xref="algx1.l2.2.2.m2.1.1.cmml"><mi mathbackground="#BFBFFF" id="algx1.l2.2.2.m2.1.1.2" xref="algx1.l2.2.2.m2.1.1.2.cmml">œÉ</mi><mi mathbackground="#BFBFFF" id="algx1.l2.2.2.m2.1.1.3" xref="algx1.l2.2.2.m2.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l2.2.2.m2.1b"><apply id="algx1.l2.2.2.m2.1.1.cmml" xref="algx1.l2.2.2.m2.1.1"><csymbol cd="ambiguous" id="algx1.l2.2.2.m2.1.1.1.cmml" xref="algx1.l2.2.2.m2.1.1">subscript</csymbol><ci id="algx1.l2.2.2.m2.1.1.2.cmml" xref="algx1.l2.2.2.m2.1.1.2">ùúé</ci><ci id="algx1.l2.2.2.m2.1.1.3.cmml" xref="algx1.l2.2.2.m2.1.1.3">ùëè</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l2.2.2.m2.1c">\sigma_{b}</annotation></semantics></math></span>

</div>
<div id="algx1.l3" class="ltx_listingline">¬†¬†<span id="algx1.l3.1" class="ltx_text ltx_font_bold">for</span>¬†each round <math id="algx1.l3.m1.5" class="ltx_Math" alttext="t=0,1,2,\ldots,T" display="inline"><semantics id="algx1.l3.m1.5a"><mrow id="algx1.l3.m1.5.6" xref="algx1.l3.m1.5.6.cmml"><mi id="algx1.l3.m1.5.6.2" xref="algx1.l3.m1.5.6.2.cmml">t</mi><mo id="algx1.l3.m1.5.6.1" xref="algx1.l3.m1.5.6.1.cmml">=</mo><mrow id="algx1.l3.m1.5.6.3.2" xref="algx1.l3.m1.5.6.3.1.cmml"><mn id="algx1.l3.m1.1.1" xref="algx1.l3.m1.1.1.cmml">0</mn><mo id="algx1.l3.m1.5.6.3.2.1" xref="algx1.l3.m1.5.6.3.1.cmml">,</mo><mn id="algx1.l3.m1.2.2" xref="algx1.l3.m1.2.2.cmml">1</mn><mo id="algx1.l3.m1.5.6.3.2.2" xref="algx1.l3.m1.5.6.3.1.cmml">,</mo><mn id="algx1.l3.m1.3.3" xref="algx1.l3.m1.3.3.cmml">2</mn><mo id="algx1.l3.m1.5.6.3.2.3" xref="algx1.l3.m1.5.6.3.1.cmml">,</mo><mi mathvariant="normal" id="algx1.l3.m1.4.4" xref="algx1.l3.m1.4.4.cmml">‚Ä¶</mi><mo id="algx1.l3.m1.5.6.3.2.4" xref="algx1.l3.m1.5.6.3.1.cmml">,</mo><mi id="algx1.l3.m1.5.5" xref="algx1.l3.m1.5.5.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l3.m1.5b"><apply id="algx1.l3.m1.5.6.cmml" xref="algx1.l3.m1.5.6"><eq id="algx1.l3.m1.5.6.1.cmml" xref="algx1.l3.m1.5.6.1"></eq><ci id="algx1.l3.m1.5.6.2.cmml" xref="algx1.l3.m1.5.6.2">ùë°</ci><list id="algx1.l3.m1.5.6.3.1.cmml" xref="algx1.l3.m1.5.6.3.2"><cn type="integer" id="algx1.l3.m1.1.1.cmml" xref="algx1.l3.m1.1.1">0</cn><cn type="integer" id="algx1.l3.m1.2.2.cmml" xref="algx1.l3.m1.2.2">1</cn><cn type="integer" id="algx1.l3.m1.3.3.cmml" xref="algx1.l3.m1.3.3">2</cn><ci id="algx1.l3.m1.4.4.cmml" xref="algx1.l3.m1.4.4">‚Ä¶</ci><ci id="algx1.l3.m1.5.5.cmml" xref="algx1.l3.m1.5.5">ùëá</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l3.m1.5c">t=0,1,2,\ldots,T</annotation></semantics></math>¬†<span id="algx1.l3.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l4" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l4.m1.1" class="ltx_Math" alttext="\mathcal{Q}^{t}\leftarrow" display="inline"><semantics id="algx1.l4.m1.1a"><mrow id="algx1.l4.m1.1.1" xref="algx1.l4.m1.1.1.cmml"><msup id="algx1.l4.m1.1.1.2" xref="algx1.l4.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l4.m1.1.1.2.2" xref="algx1.l4.m1.1.1.2.2.cmml">ùí¨</mi><mi id="algx1.l4.m1.1.1.2.3" xref="algx1.l4.m1.1.1.2.3.cmml">t</mi></msup><mo stretchy="false" id="algx1.l4.m1.1.1.1" xref="algx1.l4.m1.1.1.1.cmml">‚Üê</mo><mi id="algx1.l4.m1.1.1.3" xref="algx1.l4.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l4.m1.1b"><apply id="algx1.l4.m1.1.1.cmml" xref="algx1.l4.m1.1.1"><ci id="algx1.l4.m1.1.1.1.cmml" xref="algx1.l4.m1.1.1.1">‚Üê</ci><apply id="algx1.l4.m1.1.1.2.cmml" xref="algx1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="algx1.l4.m1.1.1.2.1.cmml" xref="algx1.l4.m1.1.1.2">superscript</csymbol><ci id="algx1.l4.m1.1.1.2.2.cmml" xref="algx1.l4.m1.1.1.2.2">ùí¨</ci><ci id="algx1.l4.m1.1.1.2.3.cmml" xref="algx1.l4.m1.1.1.2.3">ùë°</ci></apply><csymbol cd="latexml" id="algx1.l4.m1.1.1.3.cmml" xref="algx1.l4.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m1.1c">\mathcal{Q}^{t}\leftarrow</annotation></semantics></math> (at least <math id="algx1.l4.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="algx1.l4.m2.1a"><mi id="algx1.l4.m2.1.1" xref="algx1.l4.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="algx1.l4.m2.1b"><ci id="algx1.l4.m2.1.1.cmml" xref="algx1.l4.m2.1.1">ùëö</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m2.1c">m</annotation></semantics></math> users for this round)

</div>
<div id="algx1.l5" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l5.1" class="ltx_text ltx_font_bold">for</span>¬†each user <math id="algx1.l5.m1.1" class="ltx_Math" alttext="i\in\mathcal{Q}^{t}" display="inline"><semantics id="algx1.l5.m1.1a"><mrow id="algx1.l5.m1.1.1" xref="algx1.l5.m1.1.1.cmml"><mi id="algx1.l5.m1.1.1.2" xref="algx1.l5.m1.1.1.2.cmml">i</mi><mo id="algx1.l5.m1.1.1.1" xref="algx1.l5.m1.1.1.1.cmml">‚àà</mo><msup id="algx1.l5.m1.1.1.3" xref="algx1.l5.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l5.m1.1.1.3.2" xref="algx1.l5.m1.1.1.3.2.cmml">ùí¨</mi><mi id="algx1.l5.m1.1.1.3.3" xref="algx1.l5.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="algx1.l5.m1.1b"><apply id="algx1.l5.m1.1.1.cmml" xref="algx1.l5.m1.1.1"><in id="algx1.l5.m1.1.1.1.cmml" xref="algx1.l5.m1.1.1.1"></in><ci id="algx1.l5.m1.1.1.2.cmml" xref="algx1.l5.m1.1.1.2">ùëñ</ci><apply id="algx1.l5.m1.1.1.3.cmml" xref="algx1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.1.cmml" xref="algx1.l5.m1.1.1.3">superscript</csymbol><ci id="algx1.l5.m1.1.1.3.2.cmml" xref="algx1.l5.m1.1.1.3.2">ùí¨</ci><ci id="algx1.l5.m1.1.1.3.3.cmml" xref="algx1.l5.m1.1.1.3.3">ùë°</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l5.m1.1c">i\in\mathcal{Q}^{t}</annotation></semantics></math> <span id="algx1.l5.2" class="ltx_text ltx_font_bold">in parallel</span>¬†<span id="algx1.l5.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l6" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<math id="algx1.l6.m1.6" class="ltx_Math" alttext="(\Delta^{t}_{i},b^{t}_{i})\leftarrow\text{ClientUpdate}(i,\theta^{t},C_{\theta},C^{t})" display="inline"><semantics id="algx1.l6.m1.6a"><mrow id="algx1.l6.m1.6.6" xref="algx1.l6.m1.6.6.cmml"><mrow id="algx1.l6.m1.3.3.2.2" xref="algx1.l6.m1.3.3.2.3.cmml"><mo stretchy="false" id="algx1.l6.m1.3.3.2.2.3" xref="algx1.l6.m1.3.3.2.3.cmml">(</mo><msubsup id="algx1.l6.m1.2.2.1.1.1" xref="algx1.l6.m1.2.2.1.1.1.cmml"><mi mathvariant="normal" id="algx1.l6.m1.2.2.1.1.1.2.2" xref="algx1.l6.m1.2.2.1.1.1.2.2.cmml">Œî</mi><mi id="algx1.l6.m1.2.2.1.1.1.3" xref="algx1.l6.m1.2.2.1.1.1.3.cmml">i</mi><mi id="algx1.l6.m1.2.2.1.1.1.2.3" xref="algx1.l6.m1.2.2.1.1.1.2.3.cmml">t</mi></msubsup><mo id="algx1.l6.m1.3.3.2.2.4" xref="algx1.l6.m1.3.3.2.3.cmml">,</mo><msubsup id="algx1.l6.m1.3.3.2.2.2" xref="algx1.l6.m1.3.3.2.2.2.cmml"><mi id="algx1.l6.m1.3.3.2.2.2.2.2" xref="algx1.l6.m1.3.3.2.2.2.2.2.cmml">b</mi><mi id="algx1.l6.m1.3.3.2.2.2.3" xref="algx1.l6.m1.3.3.2.2.2.3.cmml">i</mi><mi id="algx1.l6.m1.3.3.2.2.2.2.3" xref="algx1.l6.m1.3.3.2.2.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="algx1.l6.m1.3.3.2.2.5" xref="algx1.l6.m1.3.3.2.3.cmml">)</mo></mrow><mo stretchy="false" id="algx1.l6.m1.6.6.6" xref="algx1.l6.m1.6.6.6.cmml">‚Üê</mo><mrow id="algx1.l6.m1.6.6.5" xref="algx1.l6.m1.6.6.5.cmml"><mtext id="algx1.l6.m1.6.6.5.5" xref="algx1.l6.m1.6.6.5.5a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="algx1.l6.m1.6.6.5.4" xref="algx1.l6.m1.6.6.5.4.cmml">‚Äã</mo><mrow id="algx1.l6.m1.6.6.5.3.3" xref="algx1.l6.m1.6.6.5.3.4.cmml"><mo stretchy="false" id="algx1.l6.m1.6.6.5.3.3.4" xref="algx1.l6.m1.6.6.5.3.4.cmml">(</mo><mi id="algx1.l6.m1.1.1" xref="algx1.l6.m1.1.1.cmml">i</mi><mo id="algx1.l6.m1.6.6.5.3.3.5" xref="algx1.l6.m1.6.6.5.3.4.cmml">,</mo><msup id="algx1.l6.m1.4.4.3.1.1.1" xref="algx1.l6.m1.4.4.3.1.1.1.cmml"><mi id="algx1.l6.m1.4.4.3.1.1.1.2" xref="algx1.l6.m1.4.4.3.1.1.1.2.cmml">Œ∏</mi><mi id="algx1.l6.m1.4.4.3.1.1.1.3" xref="algx1.l6.m1.4.4.3.1.1.1.3.cmml">t</mi></msup><mo id="algx1.l6.m1.6.6.5.3.3.6" xref="algx1.l6.m1.6.6.5.3.4.cmml">,</mo><msub id="algx1.l6.m1.5.5.4.2.2.2" xref="algx1.l6.m1.5.5.4.2.2.2.cmml"><mi id="algx1.l6.m1.5.5.4.2.2.2.2" xref="algx1.l6.m1.5.5.4.2.2.2.2.cmml">C</mi><mi id="algx1.l6.m1.5.5.4.2.2.2.3" xref="algx1.l6.m1.5.5.4.2.2.2.3.cmml">Œ∏</mi></msub><mo id="algx1.l6.m1.6.6.5.3.3.7" xref="algx1.l6.m1.6.6.5.3.4.cmml">,</mo><msup id="algx1.l6.m1.6.6.5.3.3.3" xref="algx1.l6.m1.6.6.5.3.3.3.cmml"><mi id="algx1.l6.m1.6.6.5.3.3.3.2" xref="algx1.l6.m1.6.6.5.3.3.3.2.cmml">C</mi><mi id="algx1.l6.m1.6.6.5.3.3.3.3" xref="algx1.l6.m1.6.6.5.3.3.3.3.cmml">t</mi></msup><mo stretchy="false" id="algx1.l6.m1.6.6.5.3.3.8" xref="algx1.l6.m1.6.6.5.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l6.m1.6b"><apply id="algx1.l6.m1.6.6.cmml" xref="algx1.l6.m1.6.6"><ci id="algx1.l6.m1.6.6.6.cmml" xref="algx1.l6.m1.6.6.6">‚Üê</ci><interval closure="open" id="algx1.l6.m1.3.3.2.3.cmml" xref="algx1.l6.m1.3.3.2.2"><apply id="algx1.l6.m1.2.2.1.1.1.cmml" xref="algx1.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.2.2.1.1.1.1.cmml" xref="algx1.l6.m1.2.2.1.1.1">subscript</csymbol><apply id="algx1.l6.m1.2.2.1.1.1.2.cmml" xref="algx1.l6.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.2.2.1.1.1.2.1.cmml" xref="algx1.l6.m1.2.2.1.1.1">superscript</csymbol><ci id="algx1.l6.m1.2.2.1.1.1.2.2.cmml" xref="algx1.l6.m1.2.2.1.1.1.2.2">Œî</ci><ci id="algx1.l6.m1.2.2.1.1.1.2.3.cmml" xref="algx1.l6.m1.2.2.1.1.1.2.3">ùë°</ci></apply><ci id="algx1.l6.m1.2.2.1.1.1.3.cmml" xref="algx1.l6.m1.2.2.1.1.1.3">ùëñ</ci></apply><apply id="algx1.l6.m1.3.3.2.2.2.cmml" xref="algx1.l6.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algx1.l6.m1.3.3.2.2.2.1.cmml" xref="algx1.l6.m1.3.3.2.2.2">subscript</csymbol><apply id="algx1.l6.m1.3.3.2.2.2.2.cmml" xref="algx1.l6.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="algx1.l6.m1.3.3.2.2.2.2.1.cmml" xref="algx1.l6.m1.3.3.2.2.2">superscript</csymbol><ci id="algx1.l6.m1.3.3.2.2.2.2.2.cmml" xref="algx1.l6.m1.3.3.2.2.2.2.2">ùëè</ci><ci id="algx1.l6.m1.3.3.2.2.2.2.3.cmml" xref="algx1.l6.m1.3.3.2.2.2.2.3">ùë°</ci></apply><ci id="algx1.l6.m1.3.3.2.2.2.3.cmml" xref="algx1.l6.m1.3.3.2.2.2.3">ùëñ</ci></apply></interval><apply id="algx1.l6.m1.6.6.5.cmml" xref="algx1.l6.m1.6.6.5"><times id="algx1.l6.m1.6.6.5.4.cmml" xref="algx1.l6.m1.6.6.5.4"></times><ci id="algx1.l6.m1.6.6.5.5a.cmml" xref="algx1.l6.m1.6.6.5.5"><mtext id="algx1.l6.m1.6.6.5.5.cmml" xref="algx1.l6.m1.6.6.5.5">ClientUpdate</mtext></ci><vector id="algx1.l6.m1.6.6.5.3.4.cmml" xref="algx1.l6.m1.6.6.5.3.3"><ci id="algx1.l6.m1.1.1.cmml" xref="algx1.l6.m1.1.1">ùëñ</ci><apply id="algx1.l6.m1.4.4.3.1.1.1.cmml" xref="algx1.l6.m1.4.4.3.1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.4.4.3.1.1.1.1.cmml" xref="algx1.l6.m1.4.4.3.1.1.1">superscript</csymbol><ci id="algx1.l6.m1.4.4.3.1.1.1.2.cmml" xref="algx1.l6.m1.4.4.3.1.1.1.2">ùúÉ</ci><ci id="algx1.l6.m1.4.4.3.1.1.1.3.cmml" xref="algx1.l6.m1.4.4.3.1.1.1.3">ùë°</ci></apply><apply id="algx1.l6.m1.5.5.4.2.2.2.cmml" xref="algx1.l6.m1.5.5.4.2.2.2"><csymbol cd="ambiguous" id="algx1.l6.m1.5.5.4.2.2.2.1.cmml" xref="algx1.l6.m1.5.5.4.2.2.2">subscript</csymbol><ci id="algx1.l6.m1.5.5.4.2.2.2.2.cmml" xref="algx1.l6.m1.5.5.4.2.2.2.2">ùê∂</ci><ci id="algx1.l6.m1.5.5.4.2.2.2.3.cmml" xref="algx1.l6.m1.5.5.4.2.2.2.3">ùúÉ</ci></apply><apply id="algx1.l6.m1.6.6.5.3.3.3.cmml" xref="algx1.l6.m1.6.6.5.3.3.3"><csymbol cd="ambiguous" id="algx1.l6.m1.6.6.5.3.3.3.1.cmml" xref="algx1.l6.m1.6.6.5.3.3.3">superscript</csymbol><ci id="algx1.l6.m1.6.6.5.3.3.3.2.cmml" xref="algx1.l6.m1.6.6.5.3.3.3.2">ùê∂</ci><ci id="algx1.l6.m1.6.6.5.3.3.3.3.cmml" xref="algx1.l6.m1.6.6.5.3.3.3.3">ùë°</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m1.6c">(\Delta^{t}_{i},b^{t}_{i})\leftarrow\text{ClientUpdate}(i,\theta^{t},C_{\theta},C^{t})</annotation></semantics></math>

</div>
<div id="algx1.l7" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l7.1" class="ltx_text" style="color:#009900;">//Update model weights with noise addition</span>

</div>
<div id="algx1.l8" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l8.m1.4" class="ltx_Math" alttext="\tilde{\Delta}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T}_{\theta},\,\sum_{i\in\mathcal{Q}^{k}}\Delta^{k}_{i},\,k\in[0,t]\right)" display="inline"><semantics id="algx1.l8.m1.4a"><mrow id="algx1.l8.m1.4.4" xref="algx1.l8.m1.4.4.cmml"><msup id="algx1.l8.m1.4.4.3" xref="algx1.l8.m1.4.4.3.cmml"><mover accent="true" id="algx1.l8.m1.4.4.3.2" xref="algx1.l8.m1.4.4.3.2.cmml"><mi mathvariant="normal" id="algx1.l8.m1.4.4.3.2.2" xref="algx1.l8.m1.4.4.3.2.2.cmml">Œî</mi><mo id="algx1.l8.m1.4.4.3.2.1" xref="algx1.l8.m1.4.4.3.2.1.cmml">~</mo></mover><mi id="algx1.l8.m1.4.4.3.3" xref="algx1.l8.m1.4.4.3.3.cmml">t</mi></msup><mo id="algx1.l8.m1.4.4.2" xref="algx1.l8.m1.4.4.2.cmml">=</mo><mrow id="algx1.l8.m1.4.4.1" xref="algx1.l8.m1.4.4.1.cmml"><mfrac id="algx1.l8.m1.4.4.1.3" xref="algx1.l8.m1.4.4.1.3.cmml"><mn id="algx1.l8.m1.4.4.1.3.2" xref="algx1.l8.m1.4.4.1.3.2.cmml">1</mn><mi id="algx1.l8.m1.4.4.1.3.3" xref="algx1.l8.m1.4.4.1.3.3.cmml">m</mi></mfrac><mo lspace="0em" rspace="0em" id="algx1.l8.m1.4.4.1.2" xref="algx1.l8.m1.4.4.1.2.cmml">‚Äã</mo><mtext id="algx1.l8.m1.4.4.1.4" xref="algx1.l8.m1.4.4.1.4a.cmml">PrivateSum</mtext><mo lspace="0em" rspace="0em" id="algx1.l8.m1.4.4.1.2a" xref="algx1.l8.m1.4.4.1.2.cmml">‚Äã</mo><mrow id="algx1.l8.m1.4.4.1.1.1" xref="algx1.l8.m1.4.4.1.1.1.1.cmml"><mo id="algx1.l8.m1.4.4.1.1.1.2" xref="algx1.l8.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="algx1.l8.m1.4.4.1.1.1.1" xref="algx1.l8.m1.4.4.1.1.1.1.cmml"><mrow id="algx1.l8.m1.4.4.1.1.1.1.2.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.3.cmml"><msub id="algx1.l8.m1.4.4.1.1.1.1.1.1.1" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.2" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1.2.cmml">ùíØ</mi><mi id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.3" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1.3.cmml">Œ∏</mi></msub><mo id="algx1.l8.m1.4.4.1.1.1.1.2.2.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.3.cmml">,</mo><mrow id="algx1.l8.m1.4.4.1.1.1.1.2.2.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.cmml"><msub id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.cmml"><mo id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.2.cmml">‚àë</mo><mrow id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.cmml"><mi id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.2.cmml">i</mi><mo id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.1" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.1.cmml">‚àà</mo><msup id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.2.cmml">ùí¨</mi><mi id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.3.cmml">k</mi></msup></mrow></msub><msubsup id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.cmml"><mi mathvariant="normal" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.2" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.2.cmml">Œî</mi><mi id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.3" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.3.cmml">k</mi></msubsup></mrow><mo rspace="0.337em" id="algx1.l8.m1.4.4.1.1.1.1.2.2.4" xref="algx1.l8.m1.4.4.1.1.1.1.2.3.cmml">,</mo><mi id="algx1.l8.m1.3.3" xref="algx1.l8.m1.3.3.cmml">k</mi></mrow><mo id="algx1.l8.m1.4.4.1.1.1.1.3" xref="algx1.l8.m1.4.4.1.1.1.1.3.cmml">‚àà</mo><mrow id="algx1.l8.m1.4.4.1.1.1.1.4.2" xref="algx1.l8.m1.4.4.1.1.1.1.4.1.cmml"><mo stretchy="false" id="algx1.l8.m1.4.4.1.1.1.1.4.2.1" xref="algx1.l8.m1.4.4.1.1.1.1.4.1.cmml">[</mo><mn id="algx1.l8.m1.1.1" xref="algx1.l8.m1.1.1.cmml">0</mn><mo id="algx1.l8.m1.4.4.1.1.1.1.4.2.2" xref="algx1.l8.m1.4.4.1.1.1.1.4.1.cmml">,</mo><mi id="algx1.l8.m1.2.2" xref="algx1.l8.m1.2.2.cmml">t</mi><mo stretchy="false" id="algx1.l8.m1.4.4.1.1.1.1.4.2.3" xref="algx1.l8.m1.4.4.1.1.1.1.4.1.cmml">]</mo></mrow></mrow><mo id="algx1.l8.m1.4.4.1.1.1.3" xref="algx1.l8.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l8.m1.4b"><apply id="algx1.l8.m1.4.4.cmml" xref="algx1.l8.m1.4.4"><eq id="algx1.l8.m1.4.4.2.cmml" xref="algx1.l8.m1.4.4.2"></eq><apply id="algx1.l8.m1.4.4.3.cmml" xref="algx1.l8.m1.4.4.3"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.3.1.cmml" xref="algx1.l8.m1.4.4.3">superscript</csymbol><apply id="algx1.l8.m1.4.4.3.2.cmml" xref="algx1.l8.m1.4.4.3.2"><ci id="algx1.l8.m1.4.4.3.2.1.cmml" xref="algx1.l8.m1.4.4.3.2.1">~</ci><ci id="algx1.l8.m1.4.4.3.2.2.cmml" xref="algx1.l8.m1.4.4.3.2.2">Œî</ci></apply><ci id="algx1.l8.m1.4.4.3.3.cmml" xref="algx1.l8.m1.4.4.3.3">ùë°</ci></apply><apply id="algx1.l8.m1.4.4.1.cmml" xref="algx1.l8.m1.4.4.1"><times id="algx1.l8.m1.4.4.1.2.cmml" xref="algx1.l8.m1.4.4.1.2"></times><apply id="algx1.l8.m1.4.4.1.3.cmml" xref="algx1.l8.m1.4.4.1.3"><divide id="algx1.l8.m1.4.4.1.3.1.cmml" xref="algx1.l8.m1.4.4.1.3"></divide><cn type="integer" id="algx1.l8.m1.4.4.1.3.2.cmml" xref="algx1.l8.m1.4.4.1.3.2">1</cn><ci id="algx1.l8.m1.4.4.1.3.3.cmml" xref="algx1.l8.m1.4.4.1.3.3">ùëö</ci></apply><ci id="algx1.l8.m1.4.4.1.4a.cmml" xref="algx1.l8.m1.4.4.1.4"><mtext id="algx1.l8.m1.4.4.1.4.cmml" xref="algx1.l8.m1.4.4.1.4">PrivateSum</mtext></ci><apply id="algx1.l8.m1.4.4.1.1.1.1.cmml" xref="algx1.l8.m1.4.4.1.1.1"><in id="algx1.l8.m1.4.4.1.1.1.1.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.3"></in><list id="algx1.l8.m1.4.4.1.1.1.1.2.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2"><apply id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1.2">ùíØ</ci><ci id="algx1.l8.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.1.1.1.3">ùúÉ</ci></apply><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2"><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1">subscript</csymbol><sum id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.2"></sum><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3"><in id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.1"></in><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.2">ùëñ</ci><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3">superscript</csymbol><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.2">ùí¨</ci><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.1.3.3.3">ùëò</ci></apply></apply></apply><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.2.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.2">Œî</ci><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.2.3">ùëò</ci></apply><ci id="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.3.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.2.2.2.2.3">ùëñ</ci></apply></apply><ci id="algx1.l8.m1.3.3.cmml" xref="algx1.l8.m1.3.3">ùëò</ci></list><interval closure="closed" id="algx1.l8.m1.4.4.1.1.1.1.4.1.cmml" xref="algx1.l8.m1.4.4.1.1.1.1.4.2"><cn type="integer" id="algx1.l8.m1.1.1.cmml" xref="algx1.l8.m1.1.1">0</cn><ci id="algx1.l8.m1.2.2.cmml" xref="algx1.l8.m1.2.2">ùë°</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l8.m1.4c">\tilde{\Delta}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T}_{\theta},\,\sum_{i\in\mathcal{Q}^{k}}\Delta^{k}_{i},\,k\in[0,t]\right)</annotation></semantics></math>

</div>
<div id="algx1.l9" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l9.m1.1" class="ltx_Math" alttext="\bar{\Delta}^{t}=\beta\bar{\Delta}^{t-1}+\tilde{\Delta}^{t}" display="inline"><semantics id="algx1.l9.m1.1a"><mrow id="algx1.l9.m1.1.1" xref="algx1.l9.m1.1.1.cmml"><msup id="algx1.l9.m1.1.1.2" xref="algx1.l9.m1.1.1.2.cmml"><mover accent="true" id="algx1.l9.m1.1.1.2.2" xref="algx1.l9.m1.1.1.2.2.cmml"><mi mathvariant="normal" id="algx1.l9.m1.1.1.2.2.2" xref="algx1.l9.m1.1.1.2.2.2.cmml">Œî</mi><mo id="algx1.l9.m1.1.1.2.2.1" xref="algx1.l9.m1.1.1.2.2.1.cmml">¬Ø</mo></mover><mi id="algx1.l9.m1.1.1.2.3" xref="algx1.l9.m1.1.1.2.3.cmml">t</mi></msup><mo id="algx1.l9.m1.1.1.1" xref="algx1.l9.m1.1.1.1.cmml">=</mo><mrow id="algx1.l9.m1.1.1.3" xref="algx1.l9.m1.1.1.3.cmml"><mrow id="algx1.l9.m1.1.1.3.2" xref="algx1.l9.m1.1.1.3.2.cmml"><mi id="algx1.l9.m1.1.1.3.2.2" xref="algx1.l9.m1.1.1.3.2.2.cmml">Œ≤</mi><mo lspace="0em" rspace="0em" id="algx1.l9.m1.1.1.3.2.1" xref="algx1.l9.m1.1.1.3.2.1.cmml">‚Äã</mo><msup id="algx1.l9.m1.1.1.3.2.3" xref="algx1.l9.m1.1.1.3.2.3.cmml"><mover accent="true" id="algx1.l9.m1.1.1.3.2.3.2" xref="algx1.l9.m1.1.1.3.2.3.2.cmml"><mi mathvariant="normal" id="algx1.l9.m1.1.1.3.2.3.2.2" xref="algx1.l9.m1.1.1.3.2.3.2.2.cmml">Œî</mi><mo id="algx1.l9.m1.1.1.3.2.3.2.1" xref="algx1.l9.m1.1.1.3.2.3.2.1.cmml">¬Ø</mo></mover><mrow id="algx1.l9.m1.1.1.3.2.3.3" xref="algx1.l9.m1.1.1.3.2.3.3.cmml"><mi id="algx1.l9.m1.1.1.3.2.3.3.2" xref="algx1.l9.m1.1.1.3.2.3.3.2.cmml">t</mi><mo id="algx1.l9.m1.1.1.3.2.3.3.1" xref="algx1.l9.m1.1.1.3.2.3.3.1.cmml">‚àí</mo><mn id="algx1.l9.m1.1.1.3.2.3.3.3" xref="algx1.l9.m1.1.1.3.2.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="algx1.l9.m1.1.1.3.1" xref="algx1.l9.m1.1.1.3.1.cmml">+</mo><msup id="algx1.l9.m1.1.1.3.3" xref="algx1.l9.m1.1.1.3.3.cmml"><mover accent="true" id="algx1.l9.m1.1.1.3.3.2" xref="algx1.l9.m1.1.1.3.3.2.cmml"><mi mathvariant="normal" id="algx1.l9.m1.1.1.3.3.2.2" xref="algx1.l9.m1.1.1.3.3.2.2.cmml">Œî</mi><mo id="algx1.l9.m1.1.1.3.3.2.1" xref="algx1.l9.m1.1.1.3.3.2.1.cmml">~</mo></mover><mi id="algx1.l9.m1.1.1.3.3.3" xref="algx1.l9.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l9.m1.1b"><apply id="algx1.l9.m1.1.1.cmml" xref="algx1.l9.m1.1.1"><eq id="algx1.l9.m1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1"></eq><apply id="algx1.l9.m1.1.1.2.cmml" xref="algx1.l9.m1.1.1.2"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.2.1.cmml" xref="algx1.l9.m1.1.1.2">superscript</csymbol><apply id="algx1.l9.m1.1.1.2.2.cmml" xref="algx1.l9.m1.1.1.2.2"><ci id="algx1.l9.m1.1.1.2.2.1.cmml" xref="algx1.l9.m1.1.1.2.2.1">¬Ø</ci><ci id="algx1.l9.m1.1.1.2.2.2.cmml" xref="algx1.l9.m1.1.1.2.2.2">Œî</ci></apply><ci id="algx1.l9.m1.1.1.2.3.cmml" xref="algx1.l9.m1.1.1.2.3">ùë°</ci></apply><apply id="algx1.l9.m1.1.1.3.cmml" xref="algx1.l9.m1.1.1.3"><plus id="algx1.l9.m1.1.1.3.1.cmml" xref="algx1.l9.m1.1.1.3.1"></plus><apply id="algx1.l9.m1.1.1.3.2.cmml" xref="algx1.l9.m1.1.1.3.2"><times id="algx1.l9.m1.1.1.3.2.1.cmml" xref="algx1.l9.m1.1.1.3.2.1"></times><ci id="algx1.l9.m1.1.1.3.2.2.cmml" xref="algx1.l9.m1.1.1.3.2.2">ùõΩ</ci><apply id="algx1.l9.m1.1.1.3.2.3.cmml" xref="algx1.l9.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.3.2.3.1.cmml" xref="algx1.l9.m1.1.1.3.2.3">superscript</csymbol><apply id="algx1.l9.m1.1.1.3.2.3.2.cmml" xref="algx1.l9.m1.1.1.3.2.3.2"><ci id="algx1.l9.m1.1.1.3.2.3.2.1.cmml" xref="algx1.l9.m1.1.1.3.2.3.2.1">¬Ø</ci><ci id="algx1.l9.m1.1.1.3.2.3.2.2.cmml" xref="algx1.l9.m1.1.1.3.2.3.2.2">Œî</ci></apply><apply id="algx1.l9.m1.1.1.3.2.3.3.cmml" xref="algx1.l9.m1.1.1.3.2.3.3"><minus id="algx1.l9.m1.1.1.3.2.3.3.1.cmml" xref="algx1.l9.m1.1.1.3.2.3.3.1"></minus><ci id="algx1.l9.m1.1.1.3.2.3.3.2.cmml" xref="algx1.l9.m1.1.1.3.2.3.3.2">ùë°</ci><cn type="integer" id="algx1.l9.m1.1.1.3.2.3.3.3.cmml" xref="algx1.l9.m1.1.1.3.2.3.3.3">1</cn></apply></apply></apply><apply id="algx1.l9.m1.1.1.3.3.cmml" xref="algx1.l9.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.3.3.1.cmml" xref="algx1.l9.m1.1.1.3.3">superscript</csymbol><apply id="algx1.l9.m1.1.1.3.3.2.cmml" xref="algx1.l9.m1.1.1.3.3.2"><ci id="algx1.l9.m1.1.1.3.3.2.1.cmml" xref="algx1.l9.m1.1.1.3.3.2.1">~</ci><ci id="algx1.l9.m1.1.1.3.3.2.2.cmml" xref="algx1.l9.m1.1.1.3.3.2.2">Œî</ci></apply><ci id="algx1.l9.m1.1.1.3.3.3.cmml" xref="algx1.l9.m1.1.1.3.3.3">ùë°</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m1.1c">\bar{\Delta}^{t}=\beta\bar{\Delta}^{t-1}+\tilde{\Delta}^{t}</annotation></semantics></math>, <math id="algx1.l9.m2.1" class="ltx_Math" alttext="\theta^{t+1}\leftarrow\theta^{0}+\eta_{s}\bar{\Delta}^{t}" display="inline"><semantics id="algx1.l9.m2.1a"><mrow id="algx1.l9.m2.1.1" xref="algx1.l9.m2.1.1.cmml"><msup id="algx1.l9.m2.1.1.2" xref="algx1.l9.m2.1.1.2.cmml"><mi id="algx1.l9.m2.1.1.2.2" xref="algx1.l9.m2.1.1.2.2.cmml">Œ∏</mi><mrow id="algx1.l9.m2.1.1.2.3" xref="algx1.l9.m2.1.1.2.3.cmml"><mi id="algx1.l9.m2.1.1.2.3.2" xref="algx1.l9.m2.1.1.2.3.2.cmml">t</mi><mo id="algx1.l9.m2.1.1.2.3.1" xref="algx1.l9.m2.1.1.2.3.1.cmml">+</mo><mn id="algx1.l9.m2.1.1.2.3.3" xref="algx1.l9.m2.1.1.2.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="algx1.l9.m2.1.1.1" xref="algx1.l9.m2.1.1.1.cmml">‚Üê</mo><mrow id="algx1.l9.m2.1.1.3" xref="algx1.l9.m2.1.1.3.cmml"><msup id="algx1.l9.m2.1.1.3.2" xref="algx1.l9.m2.1.1.3.2.cmml"><mi id="algx1.l9.m2.1.1.3.2.2" xref="algx1.l9.m2.1.1.3.2.2.cmml">Œ∏</mi><mn id="algx1.l9.m2.1.1.3.2.3" xref="algx1.l9.m2.1.1.3.2.3.cmml">0</mn></msup><mo id="algx1.l9.m2.1.1.3.1" xref="algx1.l9.m2.1.1.3.1.cmml">+</mo><mrow id="algx1.l9.m2.1.1.3.3" xref="algx1.l9.m2.1.1.3.3.cmml"><msub id="algx1.l9.m2.1.1.3.3.2" xref="algx1.l9.m2.1.1.3.3.2.cmml"><mi id="algx1.l9.m2.1.1.3.3.2.2" xref="algx1.l9.m2.1.1.3.3.2.2.cmml">Œ∑</mi><mi id="algx1.l9.m2.1.1.3.3.2.3" xref="algx1.l9.m2.1.1.3.3.2.3.cmml">s</mi></msub><mo lspace="0em" rspace="0em" id="algx1.l9.m2.1.1.3.3.1" xref="algx1.l9.m2.1.1.3.3.1.cmml">‚Äã</mo><msup id="algx1.l9.m2.1.1.3.3.3" xref="algx1.l9.m2.1.1.3.3.3.cmml"><mover accent="true" id="algx1.l9.m2.1.1.3.3.3.2" xref="algx1.l9.m2.1.1.3.3.3.2.cmml"><mi mathvariant="normal" id="algx1.l9.m2.1.1.3.3.3.2.2" xref="algx1.l9.m2.1.1.3.3.3.2.2.cmml">Œî</mi><mo id="algx1.l9.m2.1.1.3.3.3.2.1" xref="algx1.l9.m2.1.1.3.3.3.2.1.cmml">¬Ø</mo></mover><mi id="algx1.l9.m2.1.1.3.3.3.3" xref="algx1.l9.m2.1.1.3.3.3.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l9.m2.1b"><apply id="algx1.l9.m2.1.1.cmml" xref="algx1.l9.m2.1.1"><ci id="algx1.l9.m2.1.1.1.cmml" xref="algx1.l9.m2.1.1.1">‚Üê</ci><apply id="algx1.l9.m2.1.1.2.cmml" xref="algx1.l9.m2.1.1.2"><csymbol cd="ambiguous" id="algx1.l9.m2.1.1.2.1.cmml" xref="algx1.l9.m2.1.1.2">superscript</csymbol><ci id="algx1.l9.m2.1.1.2.2.cmml" xref="algx1.l9.m2.1.1.2.2">ùúÉ</ci><apply id="algx1.l9.m2.1.1.2.3.cmml" xref="algx1.l9.m2.1.1.2.3"><plus id="algx1.l9.m2.1.1.2.3.1.cmml" xref="algx1.l9.m2.1.1.2.3.1"></plus><ci id="algx1.l9.m2.1.1.2.3.2.cmml" xref="algx1.l9.m2.1.1.2.3.2">ùë°</ci><cn type="integer" id="algx1.l9.m2.1.1.2.3.3.cmml" xref="algx1.l9.m2.1.1.2.3.3">1</cn></apply></apply><apply id="algx1.l9.m2.1.1.3.cmml" xref="algx1.l9.m2.1.1.3"><plus id="algx1.l9.m2.1.1.3.1.cmml" xref="algx1.l9.m2.1.1.3.1"></plus><apply id="algx1.l9.m2.1.1.3.2.cmml" xref="algx1.l9.m2.1.1.3.2"><csymbol cd="ambiguous" id="algx1.l9.m2.1.1.3.2.1.cmml" xref="algx1.l9.m2.1.1.3.2">superscript</csymbol><ci id="algx1.l9.m2.1.1.3.2.2.cmml" xref="algx1.l9.m2.1.1.3.2.2">ùúÉ</ci><cn type="integer" id="algx1.l9.m2.1.1.3.2.3.cmml" xref="algx1.l9.m2.1.1.3.2.3">0</cn></apply><apply id="algx1.l9.m2.1.1.3.3.cmml" xref="algx1.l9.m2.1.1.3.3"><times id="algx1.l9.m2.1.1.3.3.1.cmml" xref="algx1.l9.m2.1.1.3.3.1"></times><apply id="algx1.l9.m2.1.1.3.3.2.cmml" xref="algx1.l9.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="algx1.l9.m2.1.1.3.3.2.1.cmml" xref="algx1.l9.m2.1.1.3.3.2">subscript</csymbol><ci id="algx1.l9.m2.1.1.3.3.2.2.cmml" xref="algx1.l9.m2.1.1.3.3.2.2">ùúÇ</ci><ci id="algx1.l9.m2.1.1.3.3.2.3.cmml" xref="algx1.l9.m2.1.1.3.3.2.3">ùë†</ci></apply><apply id="algx1.l9.m2.1.1.3.3.3.cmml" xref="algx1.l9.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="algx1.l9.m2.1.1.3.3.3.1.cmml" xref="algx1.l9.m2.1.1.3.3.3">superscript</csymbol><apply id="algx1.l9.m2.1.1.3.3.3.2.cmml" xref="algx1.l9.m2.1.1.3.3.3.2"><ci id="algx1.l9.m2.1.1.3.3.3.2.1.cmml" xref="algx1.l9.m2.1.1.3.3.3.2.1">¬Ø</ci><ci id="algx1.l9.m2.1.1.3.3.3.2.2.cmml" xref="algx1.l9.m2.1.1.3.3.3.2.2">Œî</ci></apply><ci id="algx1.l9.m2.1.1.3.3.3.3.cmml" xref="algx1.l9.m2.1.1.3.3.3.3">ùë°</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m2.1c">\theta^{t+1}\leftarrow\theta^{0}+\eta_{s}\bar{\Delta}^{t}</annotation></semantics></math>

</div>
<div id="algx1.l10" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l10.1" class="ltx_text" style="color:#009900;background-color:#BFBFFF;">//Estimate quantile-based norm</span>

</div>
<div id="algx1.l11" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l11.1" class="ltx_text"><math id="algx1.l11.1.m1.4" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\tilde{b}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T}_{b},\,\sum_{i\in\mathcal{Q}^{k}}b^{k}_{i},\,k\in[0,t]\right)" display="inline"><semantics id="algx1.l11.1.m1.4a"><mrow id="algx1.l11.1.m1.4.4" xref="algx1.l11.1.m1.4.4.cmml"><msup id="algx1.l11.1.m1.4.4.3" xref="algx1.l11.1.m1.4.4.3.cmml"><mover accent="true" id="algx1.l11.1.m1.4.4.3.2" xref="algx1.l11.1.m1.4.4.3.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.3.2.2" xref="algx1.l11.1.m1.4.4.3.2.2.cmml">b</mi><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.3.2.1" xref="algx1.l11.1.m1.4.4.3.2.1.cmml">~</mo></mover><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.3.3" xref="algx1.l11.1.m1.4.4.3.3.cmml">t</mi></msup><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.2" xref="algx1.l11.1.m1.4.4.2.cmml">=</mo><mrow id="algx1.l11.1.m1.4.4.1" xref="algx1.l11.1.m1.4.4.1.cmml"><mfrac id="algx1.l11.1.m1.4.4.1.3" xref="algx1.l11.1.m1.4.4.1.3.cmml"><mn mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.3.2" xref="algx1.l11.1.m1.4.4.1.3.2.cmml">1</mn><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.3.3" xref="algx1.l11.1.m1.4.4.1.3.3.cmml">m</mi></mfrac><mo lspace="0em" rspace="0em" id="algx1.l11.1.m1.4.4.1.2" xref="algx1.l11.1.m1.4.4.1.2.cmml">‚Äã</mo><mtext mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.4" xref="algx1.l11.1.m1.4.4.1.4a.cmml">PrivateSum</mtext><mo lspace="0em" rspace="0em" id="algx1.l11.1.m1.4.4.1.2a" xref="algx1.l11.1.m1.4.4.1.2.cmml">‚Äã</mo><mrow id="algx1.l11.1.m1.4.4.1.1.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.cmml"><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="algx1.l11.1.m1.4.4.1.1.1.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.cmml"><mrow id="algx1.l11.1.m1.4.4.1.1.1.1.2.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.3.cmml"><msub id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.2.cmml">ùíØ</mi><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.3.cmml">b</mi></msub><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.3.cmml">,</mo><mrow id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.cmml"><msub id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.cmml"><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.2.cmml">‚àë</mo><mrow id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.2.cmml">i</mi><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.1.cmml">‚àà</mo><msup id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.2.cmml">ùí¨</mi><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.3.cmml">k</mi></msup></mrow></msub><msubsup id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.2.cmml">b</mi><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.3.cmml">i</mi><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.3.cmml">k</mi></msubsup></mrow><mo mathbackground="#BFBFFF" rspace="0.337em" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.4" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.3.cmml">,</mo><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.3.3" xref="algx1.l11.1.m1.3.3.cmml">k</mi></mrow><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.3.cmml">‚àà</mo><mrow id="algx1.l11.1.m1.4.4.1.1.1.1.4.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.4.1.cmml"><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l11.1.m1.4.4.1.1.1.1.4.2.1" xref="algx1.l11.1.m1.4.4.1.1.1.1.4.1.cmml">[</mo><mn mathbackground="#BFBFFF" id="algx1.l11.1.m1.1.1" xref="algx1.l11.1.m1.1.1.cmml">0</mn><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.1.4.2.2" xref="algx1.l11.1.m1.4.4.1.1.1.1.4.1.cmml">,</mo><mi mathbackground="#BFBFFF" id="algx1.l11.1.m1.2.2" xref="algx1.l11.1.m1.2.2.cmml">t</mi><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l11.1.m1.4.4.1.1.1.1.4.2.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.4.1.cmml">]</mo></mrow></mrow><mo mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.1.1.3" xref="algx1.l11.1.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l11.1.m1.4b"><apply id="algx1.l11.1.m1.4.4.cmml" xref="algx1.l11.1.m1.4.4"><eq id="algx1.l11.1.m1.4.4.2.cmml" xref="algx1.l11.1.m1.4.4.2"></eq><apply id="algx1.l11.1.m1.4.4.3.cmml" xref="algx1.l11.1.m1.4.4.3"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.3.1.cmml" xref="algx1.l11.1.m1.4.4.3">superscript</csymbol><apply id="algx1.l11.1.m1.4.4.3.2.cmml" xref="algx1.l11.1.m1.4.4.3.2"><ci id="algx1.l11.1.m1.4.4.3.2.1.cmml" xref="algx1.l11.1.m1.4.4.3.2.1">~</ci><ci id="algx1.l11.1.m1.4.4.3.2.2.cmml" xref="algx1.l11.1.m1.4.4.3.2.2">ùëè</ci></apply><ci id="algx1.l11.1.m1.4.4.3.3.cmml" xref="algx1.l11.1.m1.4.4.3.3">ùë°</ci></apply><apply id="algx1.l11.1.m1.4.4.1.cmml" xref="algx1.l11.1.m1.4.4.1"><times id="algx1.l11.1.m1.4.4.1.2.cmml" xref="algx1.l11.1.m1.4.4.1.2"></times><apply id="algx1.l11.1.m1.4.4.1.3.cmml" xref="algx1.l11.1.m1.4.4.1.3"><divide id="algx1.l11.1.m1.4.4.1.3.1.cmml" xref="algx1.l11.1.m1.4.4.1.3"></divide><cn type="integer" id="algx1.l11.1.m1.4.4.1.3.2.cmml" xref="algx1.l11.1.m1.4.4.1.3.2">1</cn><ci id="algx1.l11.1.m1.4.4.1.3.3.cmml" xref="algx1.l11.1.m1.4.4.1.3.3">ùëö</ci></apply><ci id="algx1.l11.1.m1.4.4.1.4a.cmml" xref="algx1.l11.1.m1.4.4.1.4"><mtext mathbackground="#BFBFFF" id="algx1.l11.1.m1.4.4.1.4.cmml" xref="algx1.l11.1.m1.4.4.1.4">PrivateSum</mtext></ci><apply id="algx1.l11.1.m1.4.4.1.1.1.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1"><in id="algx1.l11.1.m1.4.4.1.1.1.1.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.3"></in><list id="algx1.l11.1.m1.4.4.1.1.1.1.2.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2"><apply id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.2">ùíØ</ci><ci id="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.1.1.1.3">ùëè</ci></apply><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2"><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1">subscript</csymbol><sum id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.2"></sum><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3"><in id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.1"></in><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.2">ùëñ</ci><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3">superscript</csymbol><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.2">ùí¨</ci><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.1.3.3.3">ùëò</ci></apply></apply></apply><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.2.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.2">ùëè</ci><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.2.3">ùëò</ci></apply><ci id="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.3.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.2.2.2.2.3">ùëñ</ci></apply></apply><ci id="algx1.l11.1.m1.3.3.cmml" xref="algx1.l11.1.m1.3.3">ùëò</ci></list><interval closure="closed" id="algx1.l11.1.m1.4.4.1.1.1.1.4.1.cmml" xref="algx1.l11.1.m1.4.4.1.1.1.1.4.2"><cn type="integer" id="algx1.l11.1.m1.1.1.cmml" xref="algx1.l11.1.m1.1.1">0</cn><ci id="algx1.l11.1.m1.2.2.cmml" xref="algx1.l11.1.m1.2.2">ùë°</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l11.1.m1.4c">\tilde{b}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T}_{b},\,\sum_{i\in\mathcal{Q}^{k}}b^{k}_{i},\,k\in[0,t]\right)</annotation></semantics></math></span>

</div>
<div id="algx1.l12" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l12.1" class="ltx_text"><math id="algx1.l12.1.m1.2" class="ltx_Math" style="background-color:#BFBFFF;" alttext="C^{t+1}\leftarrow C^{0}\cdot\exp{\left(-\eta_{\gamma}(\tilde{b}^{t}-t\gamma)\right)}" display="inline"><semantics id="algx1.l12.1.m1.2a"><mrow id="algx1.l12.1.m1.2.2" xref="algx1.l12.1.m1.2.2.cmml"><msup id="algx1.l12.1.m1.2.2.3" xref="algx1.l12.1.m1.2.2.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.3.2" xref="algx1.l12.1.m1.2.2.3.2.cmml">C</mi><mrow id="algx1.l12.1.m1.2.2.3.3" xref="algx1.l12.1.m1.2.2.3.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.3.3.2" xref="algx1.l12.1.m1.2.2.3.3.2.cmml">t</mi><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.3.3.1" xref="algx1.l12.1.m1.2.2.3.3.1.cmml">+</mo><mn mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.3.3.3" xref="algx1.l12.1.m1.2.2.3.3.3.cmml">1</mn></mrow></msup><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l12.1.m1.2.2.2" xref="algx1.l12.1.m1.2.2.2.cmml">‚Üê</mo><mrow id="algx1.l12.1.m1.2.2.1" xref="algx1.l12.1.m1.2.2.1.cmml"><msup id="algx1.l12.1.m1.2.2.1.3" xref="algx1.l12.1.m1.2.2.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.3.2" xref="algx1.l12.1.m1.2.2.1.3.2.cmml">C</mi><mn mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.3.3" xref="algx1.l12.1.m1.2.2.1.3.3.cmml">0</mn></msup><mo lspace="0.222em" mathbackground="#BFBFFF" rspace="0.222em" id="algx1.l12.1.m1.2.2.1.2" xref="algx1.l12.1.m1.2.2.1.2.cmml">‚ãÖ</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.1.1" xref="algx1.l12.1.m1.1.1.cmml">exp</mi><mo id="algx1.l12.1.m1.2.2.1.1.1a" xref="algx1.l12.1.m1.2.2.1.1.2.cmml">‚Å°</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.2.cmml"><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.2" xref="algx1.l12.1.m1.2.2.1.1.2.cmml">(</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.cmml"><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1a" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.cmml">‚àí</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.cmml"><msub id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.2.cmml">Œ∑</mi><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.3.cmml">Œ≥</mi></msub><mo lspace="0em" rspace="0em" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.2.cmml">‚Äã</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><msup id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.2.cmml">b</mi><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml">t</mi></msup><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">‚àí</mo><mrow id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">‚Äã</mo><mi mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">Œ≥</mi></mrow></mrow><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.3" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#BFBFFF" id="algx1.l12.1.m1.2.2.1.1.1.1.3" xref="algx1.l12.1.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l12.1.m1.2b"><apply id="algx1.l12.1.m1.2.2.cmml" xref="algx1.l12.1.m1.2.2"><ci id="algx1.l12.1.m1.2.2.2.cmml" xref="algx1.l12.1.m1.2.2.2">‚Üê</ci><apply id="algx1.l12.1.m1.2.2.3.cmml" xref="algx1.l12.1.m1.2.2.3"><csymbol cd="ambiguous" id="algx1.l12.1.m1.2.2.3.1.cmml" xref="algx1.l12.1.m1.2.2.3">superscript</csymbol><ci id="algx1.l12.1.m1.2.2.3.2.cmml" xref="algx1.l12.1.m1.2.2.3.2">ùê∂</ci><apply id="algx1.l12.1.m1.2.2.3.3.cmml" xref="algx1.l12.1.m1.2.2.3.3"><plus id="algx1.l12.1.m1.2.2.3.3.1.cmml" xref="algx1.l12.1.m1.2.2.3.3.1"></plus><ci id="algx1.l12.1.m1.2.2.3.3.2.cmml" xref="algx1.l12.1.m1.2.2.3.3.2">ùë°</ci><cn type="integer" id="algx1.l12.1.m1.2.2.3.3.3.cmml" xref="algx1.l12.1.m1.2.2.3.3.3">1</cn></apply></apply><apply id="algx1.l12.1.m1.2.2.1.cmml" xref="algx1.l12.1.m1.2.2.1"><ci id="algx1.l12.1.m1.2.2.1.2.cmml" xref="algx1.l12.1.m1.2.2.1.2">‚ãÖ</ci><apply id="algx1.l12.1.m1.2.2.1.3.cmml" xref="algx1.l12.1.m1.2.2.1.3"><csymbol cd="ambiguous" id="algx1.l12.1.m1.2.2.1.3.1.cmml" xref="algx1.l12.1.m1.2.2.1.3">superscript</csymbol><ci id="algx1.l12.1.m1.2.2.1.3.2.cmml" xref="algx1.l12.1.m1.2.2.1.3.2">ùê∂</ci><cn type="integer" id="algx1.l12.1.m1.2.2.1.3.3.cmml" xref="algx1.l12.1.m1.2.2.1.3.3">0</cn></apply><apply id="algx1.l12.1.m1.2.2.1.1.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1"><exp id="algx1.l12.1.m1.1.1.cmml" xref="algx1.l12.1.m1.1.1"></exp><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1"><minus id="algx1.l12.1.m1.2.2.1.1.1.1.1.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1"></minus><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1"><times id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.2"></times><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.2">ùúÇ</ci><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.3.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.3.3">ùõæ</ci></apply><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1"><minus id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.1"></minus><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2"><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.1">~</ci><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.2.2">ùëè</ci></apply><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.3">ùë°</ci></apply><apply id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3"><times id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">ùë°</ci><ci id="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="algx1.l12.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3">ùõæ</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l12.1.m1.2c">C^{t+1}\leftarrow C^{0}\cdot\exp{\left(-\eta_{\gamma}(\tilde{b}^{t}-t\gamma)\right)}</annotation></semantics></math></span>

</div>
<div id="algx1.l13" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l13.1" class="ltx_text" style="color:#009900;">//Restart and <span id="algx1.l13.1.1" class="ltx_text" style="background-color:#BFBFFF;">adjust clip norm</span></span>

</div>
<div id="algx1.l14" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l14.1" class="ltx_text ltx_font_bold">if</span>¬†<math id="algx1.l14.m1.1" class="ltx_Math" alttext="t\in\mathcal{R}" display="inline"><semantics id="algx1.l14.m1.1a"><mrow id="algx1.l14.m1.1.1" xref="algx1.l14.m1.1.1.cmml"><mi id="algx1.l14.m1.1.1.2" xref="algx1.l14.m1.1.1.2.cmml">t</mi><mo id="algx1.l14.m1.1.1.1" xref="algx1.l14.m1.1.1.1.cmml">‚àà</mo><mi class="ltx_font_mathcaligraphic" id="algx1.l14.m1.1.1.3" xref="algx1.l14.m1.1.1.3.cmml">‚Ñõ</mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l14.m1.1b"><apply id="algx1.l14.m1.1.1.cmml" xref="algx1.l14.m1.1.1"><in id="algx1.l14.m1.1.1.1.cmml" xref="algx1.l14.m1.1.1.1"></in><ci id="algx1.l14.m1.1.1.2.cmml" xref="algx1.l14.m1.1.1.2">ùë°</ci><ci id="algx1.l14.m1.1.1.3.cmml" xref="algx1.l14.m1.1.1.3">‚Ñõ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l14.m1.1c">t\in\mathcal{R}</annotation></semantics></math>¬†<span id="algx1.l14.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="algx1.l15" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<span id="algx1.l15.1" class="ltx_text"><math id="algx1.l15.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="C_{\theta}\leftarrow C^{t+1}" display="inline"><semantics id="algx1.l15.1.m1.1a"><mrow id="algx1.l15.1.m1.1.1" xref="algx1.l15.1.m1.1.1.cmml"><msub id="algx1.l15.1.m1.1.1.2" xref="algx1.l15.1.m1.1.1.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.2.2" xref="algx1.l15.1.m1.1.1.2.2.cmml">C</mi><mi mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.2.3" xref="algx1.l15.1.m1.1.1.2.3.cmml">Œ∏</mi></msub><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l15.1.m1.1.1.1" xref="algx1.l15.1.m1.1.1.1.cmml">‚Üê</mo><msup id="algx1.l15.1.m1.1.1.3" xref="algx1.l15.1.m1.1.1.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.3.2" xref="algx1.l15.1.m1.1.1.3.2.cmml">C</mi><mrow id="algx1.l15.1.m1.1.1.3.3" xref="algx1.l15.1.m1.1.1.3.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.3.3.2" xref="algx1.l15.1.m1.1.1.3.3.2.cmml">t</mi><mo mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.3.3.1" xref="algx1.l15.1.m1.1.1.3.3.1.cmml">+</mo><mn mathbackground="#BFBFFF" id="algx1.l15.1.m1.1.1.3.3.3" xref="algx1.l15.1.m1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="algx1.l15.1.m1.1b"><apply id="algx1.l15.1.m1.1.1.cmml" xref="algx1.l15.1.m1.1.1"><ci id="algx1.l15.1.m1.1.1.1.cmml" xref="algx1.l15.1.m1.1.1.1">‚Üê</ci><apply id="algx1.l15.1.m1.1.1.2.cmml" xref="algx1.l15.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx1.l15.1.m1.1.1.2.1.cmml" xref="algx1.l15.1.m1.1.1.2">subscript</csymbol><ci id="algx1.l15.1.m1.1.1.2.2.cmml" xref="algx1.l15.1.m1.1.1.2.2">ùê∂</ci><ci id="algx1.l15.1.m1.1.1.2.3.cmml" xref="algx1.l15.1.m1.1.1.2.3">ùúÉ</ci></apply><apply id="algx1.l15.1.m1.1.1.3.cmml" xref="algx1.l15.1.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l15.1.m1.1.1.3.1.cmml" xref="algx1.l15.1.m1.1.1.3">superscript</csymbol><ci id="algx1.l15.1.m1.1.1.3.2.cmml" xref="algx1.l15.1.m1.1.1.3.2">ùê∂</ci><apply id="algx1.l15.1.m1.1.1.3.3.cmml" xref="algx1.l15.1.m1.1.1.3.3"><plus id="algx1.l15.1.m1.1.1.3.3.1.cmml" xref="algx1.l15.1.m1.1.1.3.3.1"></plus><ci id="algx1.l15.1.m1.1.1.3.3.2.cmml" xref="algx1.l15.1.m1.1.1.3.3.2">ùë°</ci><cn type="integer" id="algx1.l15.1.m1.1.1.3.3.3.cmml" xref="algx1.l15.1.m1.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l15.1.m1.1c">C_{\theta}\leftarrow C^{t+1}</annotation></semantics></math></span>

</div>
<div id="algx1.l16" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†Restart tree <math id="algx1.l16.m1.1" class="ltx_Math" alttext="\mathcal{T}_{\theta}" display="inline"><semantics id="algx1.l16.m1.1a"><msub id="algx1.l16.m1.1.1" xref="algx1.l16.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l16.m1.1.1.2" xref="algx1.l16.m1.1.1.2.cmml">ùíØ</mi><mi id="algx1.l16.m1.1.1.3" xref="algx1.l16.m1.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l16.m1.1b"><apply id="algx1.l16.m1.1.1.cmml" xref="algx1.l16.m1.1.1"><csymbol cd="ambiguous" id="algx1.l16.m1.1.1.1.cmml" xref="algx1.l16.m1.1.1">subscript</csymbol><ci id="algx1.l16.m1.1.1.2.cmml" xref="algx1.l16.m1.1.1.2">ùíØ</ci><ci id="algx1.l16.m1.1.1.3.cmml" xref="algx1.l16.m1.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l16.m1.1c">\mathcal{T}_{\theta}</annotation></semantics></math> <span id="algx1.l16.1" class="ltx_text" style="background-color:#BFBFFF;">and <math id="algx1.l16.1.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="\mathcal{T}_{b}" display="inline"><semantics id="algx1.l16.1.1.m1.1a"><msub id="algx1.l16.1.1.m1.1.1" xref="algx1.l16.1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#BFBFFF" id="algx1.l16.1.1.m1.1.1.2" xref="algx1.l16.1.1.m1.1.1.2.cmml">ùíØ</mi><mi mathbackground="#BFBFFF" id="algx1.l16.1.1.m1.1.1.3" xref="algx1.l16.1.1.m1.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l16.1.1.m1.1b"><apply id="algx1.l16.1.1.m1.1.1.cmml" xref="algx1.l16.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx1.l16.1.1.m1.1.1.1.cmml" xref="algx1.l16.1.1.m1.1.1">subscript</csymbol><ci id="algx1.l16.1.1.m1.1.1.2.cmml" xref="algx1.l16.1.1.m1.1.1.2">ùíØ</ci><ci id="algx1.l16.1.1.m1.1.1.3.cmml" xref="algx1.l16.1.1.m1.1.1.3">ùëè</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l16.1.1.m1.1c">\mathcal{T}_{b}</annotation></semantics></math></span> with updated <math id="algx1.l16.m2.1" class="ltx_Math" alttext="C_{\theta}" display="inline"><semantics id="algx1.l16.m2.1a"><msub id="algx1.l16.m2.1.1" xref="algx1.l16.m2.1.1.cmml"><mi id="algx1.l16.m2.1.1.2" xref="algx1.l16.m2.1.1.2.cmml">C</mi><mi id="algx1.l16.m2.1.1.3" xref="algx1.l16.m2.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l16.m2.1b"><apply id="algx1.l16.m2.1.1.cmml" xref="algx1.l16.m2.1.1"><csymbol cd="ambiguous" id="algx1.l16.m2.1.1.1.cmml" xref="algx1.l16.m2.1.1">subscript</csymbol><ci id="algx1.l16.m2.1.1.2.cmml" xref="algx1.l16.m2.1.1.2">ùê∂</ci><ci id="algx1.l16.m2.1.1.3.cmml" xref="algx1.l16.m2.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l16.m2.1c">C_{\theta}</annotation></semantics></math>


<span id="algx1.l16.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="algx1.l17" class="ltx_listingline">¬†¬†<span id="algx1.l17.1" class="ltx_text ltx_font_bold">function</span>¬†ClientUpdate(<math id="algx1.l17.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="algx1.l17.m1.1a"><mi id="algx1.l17.m1.1.1" xref="algx1.l17.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algx1.l17.m1.1b"><ci id="algx1.l17.m1.1.1.cmml" xref="algx1.l17.m1.1.1">ùëñ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l17.m1.1c">i</annotation></semantics></math>, <math id="algx1.l17.m2.1" class="ltx_Math" alttext="\theta_{0}" display="inline"><semantics id="algx1.l17.m2.1a"><msub id="algx1.l17.m2.1.1" xref="algx1.l17.m2.1.1.cmml"><mi id="algx1.l17.m2.1.1.2" xref="algx1.l17.m2.1.1.2.cmml">Œ∏</mi><mn id="algx1.l17.m2.1.1.3" xref="algx1.l17.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="algx1.l17.m2.1b"><apply id="algx1.l17.m2.1.1.cmml" xref="algx1.l17.m2.1.1"><csymbol cd="ambiguous" id="algx1.l17.m2.1.1.1.cmml" xref="algx1.l17.m2.1.1">subscript</csymbol><ci id="algx1.l17.m2.1.1.2.cmml" xref="algx1.l17.m2.1.1.2">ùúÉ</ci><cn type="integer" id="algx1.l17.m2.1.1.3.cmml" xref="algx1.l17.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l17.m2.1c">\theta_{0}</annotation></semantics></math>, <math id="algx1.l17.m3.1" class="ltx_Math" alttext="C_{\theta}" display="inline"><semantics id="algx1.l17.m3.1a"><msub id="algx1.l17.m3.1.1" xref="algx1.l17.m3.1.1.cmml"><mi id="algx1.l17.m3.1.1.2" xref="algx1.l17.m3.1.1.2.cmml">C</mi><mi id="algx1.l17.m3.1.1.3" xref="algx1.l17.m3.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l17.m3.1b"><apply id="algx1.l17.m3.1.1.cmml" xref="algx1.l17.m3.1.1"><csymbol cd="ambiguous" id="algx1.l17.m3.1.1.1.cmml" xref="algx1.l17.m3.1.1">subscript</csymbol><ci id="algx1.l17.m3.1.1.2.cmml" xref="algx1.l17.m3.1.1.2">ùê∂</ci><ci id="algx1.l17.m3.1.1.3.cmml" xref="algx1.l17.m3.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l17.m3.1c">C_{\theta}</annotation></semantics></math>, <math id="algx1.l17.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="algx1.l17.m4.1a"><mi id="algx1.l17.m4.1.1" xref="algx1.l17.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="algx1.l17.m4.1b"><ci id="algx1.l17.m4.1.1.cmml" xref="algx1.l17.m4.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l17.m4.1c">C</annotation></semantics></math>)¬†



</span>
<span id="algx1.l18" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l18.m1.1" class="ltx_Math" alttext="\theta\leftarrow\theta_{0}" display="inline"><semantics id="algx1.l18.m1.1a"><mrow id="algx1.l18.m1.1.1" xref="algx1.l18.m1.1.1.cmml"><mi id="algx1.l18.m1.1.1.2" xref="algx1.l18.m1.1.1.2.cmml">Œ∏</mi><mo stretchy="false" id="algx1.l18.m1.1.1.1" xref="algx1.l18.m1.1.1.1.cmml">‚Üê</mo><msub id="algx1.l18.m1.1.1.3" xref="algx1.l18.m1.1.1.3.cmml"><mi id="algx1.l18.m1.1.1.3.2" xref="algx1.l18.m1.1.1.3.2.cmml">Œ∏</mi><mn id="algx1.l18.m1.1.1.3.3" xref="algx1.l18.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l18.m1.1b"><apply id="algx1.l18.m1.1.1.cmml" xref="algx1.l18.m1.1.1"><ci id="algx1.l18.m1.1.1.1.cmml" xref="algx1.l18.m1.1.1.1">‚Üê</ci><ci id="algx1.l18.m1.1.1.2.cmml" xref="algx1.l18.m1.1.1.2">ùúÉ</ci><apply id="algx1.l18.m1.1.1.3.cmml" xref="algx1.l18.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l18.m1.1.1.3.1.cmml" xref="algx1.l18.m1.1.1.3">subscript</csymbol><ci id="algx1.l18.m1.1.1.3.2.cmml" xref="algx1.l18.m1.1.1.3.2">ùúÉ</ci><cn type="integer" id="algx1.l18.m1.1.1.3.3.cmml" xref="algx1.l18.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l18.m1.1c">\theta\leftarrow\theta_{0}</annotation></semantics></math>

</span>
<span id="algx1.l19" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l19.m1.1" class="ltx_Math" alttext="\mathcal{G}\leftarrow" display="inline"><semantics id="algx1.l19.m1.1a"><mrow id="algx1.l19.m1.1.1" xref="algx1.l19.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx1.l19.m1.1.1.2" xref="algx1.l19.m1.1.1.2.cmml">ùí¢</mi><mo stretchy="false" id="algx1.l19.m1.1.1.1" xref="algx1.l19.m1.1.1.1.cmml">‚Üê</mo><mi id="algx1.l19.m1.1.1.3" xref="algx1.l19.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l19.m1.1b"><apply id="algx1.l19.m1.1.1.cmml" xref="algx1.l19.m1.1.1"><ci id="algx1.l19.m1.1.1.1.cmml" xref="algx1.l19.m1.1.1.1">‚Üê</ci><ci id="algx1.l19.m1.1.1.2.cmml" xref="algx1.l19.m1.1.1.2">ùí¢</ci><csymbol cd="latexml" id="algx1.l19.m1.1.1.3.cmml" xref="algx1.l19.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l19.m1.1c">\mathcal{G}\leftarrow</annotation></semantics></math> (user <math id="algx1.l19.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="algx1.l19.m2.1a"><mi id="algx1.l19.m2.1.1" xref="algx1.l19.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algx1.l19.m2.1b"><ci id="algx1.l19.m2.1.1.cmml" xref="algx1.l19.m2.1.1">ùëñ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx1.l19.m2.1c">i</annotation></semantics></math>‚Äôs local data split into batches)

</span>
<span id="algx1.l20" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l20.1" class="ltx_text ltx_font_bold">for</span>¬†batch <math id="algx1.l20.m1.1" class="ltx_Math" alttext="g\in\mathcal{G}" display="inline"><semantics id="algx1.l20.m1.1a"><mrow id="algx1.l20.m1.1.1" xref="algx1.l20.m1.1.1.cmml"><mi id="algx1.l20.m1.1.1.2" xref="algx1.l20.m1.1.1.2.cmml">g</mi><mo id="algx1.l20.m1.1.1.1" xref="algx1.l20.m1.1.1.1.cmml">‚àà</mo><mi class="ltx_font_mathcaligraphic" id="algx1.l20.m1.1.1.3" xref="algx1.l20.m1.1.1.3.cmml">ùí¢</mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l20.m1.1b"><apply id="algx1.l20.m1.1.1.cmml" xref="algx1.l20.m1.1.1"><in id="algx1.l20.m1.1.1.1.cmml" xref="algx1.l20.m1.1.1.1"></in><ci id="algx1.l20.m1.1.1.2.cmml" xref="algx1.l20.m1.1.1.2">ùëî</ci><ci id="algx1.l20.m1.1.1.3.cmml" xref="algx1.l20.m1.1.1.3">ùí¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l20.m1.1c">g\in\mathcal{G}</annotation></semantics></math>¬†<span id="algx1.l20.2" class="ltx_text ltx_font_bold">do</span>



</span>
<span id="algx1.l21" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<math id="algx1.l21.m1.2" class="ltx_Math" alttext="\theta\leftarrow\theta-\eta_{c}\nabla\ell(\theta;g)" display="inline"><semantics id="algx1.l21.m1.2a"><mrow id="algx1.l21.m1.2.3" xref="algx1.l21.m1.2.3.cmml"><mi id="algx1.l21.m1.2.3.2" xref="algx1.l21.m1.2.3.2.cmml">Œ∏</mi><mo stretchy="false" id="algx1.l21.m1.2.3.1" xref="algx1.l21.m1.2.3.1.cmml">‚Üê</mo><mrow id="algx1.l21.m1.2.3.3" xref="algx1.l21.m1.2.3.3.cmml"><mi id="algx1.l21.m1.2.3.3.2" xref="algx1.l21.m1.2.3.3.2.cmml">Œ∏</mi><mo id="algx1.l21.m1.2.3.3.1" xref="algx1.l21.m1.2.3.3.1.cmml">‚àí</mo><mrow id="algx1.l21.m1.2.3.3.3" xref="algx1.l21.m1.2.3.3.3.cmml"><msub id="algx1.l21.m1.2.3.3.3.2" xref="algx1.l21.m1.2.3.3.3.2.cmml"><mi id="algx1.l21.m1.2.3.3.3.2.2" xref="algx1.l21.m1.2.3.3.3.2.2.cmml">Œ∑</mi><mi id="algx1.l21.m1.2.3.3.3.2.3" xref="algx1.l21.m1.2.3.3.3.2.3.cmml">c</mi></msub><mo lspace="0.167em" rspace="0em" id="algx1.l21.m1.2.3.3.3.1" xref="algx1.l21.m1.2.3.3.3.1.cmml">‚Äã</mo><mrow id="algx1.l21.m1.2.3.3.3.3" xref="algx1.l21.m1.2.3.3.3.3.cmml"><mo rspace="0.167em" id="algx1.l21.m1.2.3.3.3.3.1" xref="algx1.l21.m1.2.3.3.3.3.1.cmml">‚àá</mo><mi mathvariant="normal" id="algx1.l21.m1.2.3.3.3.3.2" xref="algx1.l21.m1.2.3.3.3.3.2.cmml">‚Ñì</mi></mrow><mo lspace="0em" rspace="0em" id="algx1.l21.m1.2.3.3.3.1a" xref="algx1.l21.m1.2.3.3.3.1.cmml">‚Äã</mo><mrow id="algx1.l21.m1.2.3.3.3.4.2" xref="algx1.l21.m1.2.3.3.3.4.1.cmml"><mo stretchy="false" id="algx1.l21.m1.2.3.3.3.4.2.1" xref="algx1.l21.m1.2.3.3.3.4.1.cmml">(</mo><mi id="algx1.l21.m1.1.1" xref="algx1.l21.m1.1.1.cmml">Œ∏</mi><mo id="algx1.l21.m1.2.3.3.3.4.2.2" xref="algx1.l21.m1.2.3.3.3.4.1.cmml">;</mo><mi id="algx1.l21.m1.2.2" xref="algx1.l21.m1.2.2.cmml">g</mi><mo stretchy="false" id="algx1.l21.m1.2.3.3.3.4.2.3" xref="algx1.l21.m1.2.3.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l21.m1.2b"><apply id="algx1.l21.m1.2.3.cmml" xref="algx1.l21.m1.2.3"><ci id="algx1.l21.m1.2.3.1.cmml" xref="algx1.l21.m1.2.3.1">‚Üê</ci><ci id="algx1.l21.m1.2.3.2.cmml" xref="algx1.l21.m1.2.3.2">ùúÉ</ci><apply id="algx1.l21.m1.2.3.3.cmml" xref="algx1.l21.m1.2.3.3"><minus id="algx1.l21.m1.2.3.3.1.cmml" xref="algx1.l21.m1.2.3.3.1"></minus><ci id="algx1.l21.m1.2.3.3.2.cmml" xref="algx1.l21.m1.2.3.3.2">ùúÉ</ci><apply id="algx1.l21.m1.2.3.3.3.cmml" xref="algx1.l21.m1.2.3.3.3"><times id="algx1.l21.m1.2.3.3.3.1.cmml" xref="algx1.l21.m1.2.3.3.3.1"></times><apply id="algx1.l21.m1.2.3.3.3.2.cmml" xref="algx1.l21.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="algx1.l21.m1.2.3.3.3.2.1.cmml" xref="algx1.l21.m1.2.3.3.3.2">subscript</csymbol><ci id="algx1.l21.m1.2.3.3.3.2.2.cmml" xref="algx1.l21.m1.2.3.3.3.2.2">ùúÇ</ci><ci id="algx1.l21.m1.2.3.3.3.2.3.cmml" xref="algx1.l21.m1.2.3.3.3.2.3">ùëê</ci></apply><apply id="algx1.l21.m1.2.3.3.3.3.cmml" xref="algx1.l21.m1.2.3.3.3.3"><ci id="algx1.l21.m1.2.3.3.3.3.1.cmml" xref="algx1.l21.m1.2.3.3.3.3.1">‚àá</ci><ci id="algx1.l21.m1.2.3.3.3.3.2.cmml" xref="algx1.l21.m1.2.3.3.3.3.2">‚Ñì</ci></apply><list id="algx1.l21.m1.2.3.3.3.4.1.cmml" xref="algx1.l21.m1.2.3.3.3.4.2"><ci id="algx1.l21.m1.1.1.cmml" xref="algx1.l21.m1.1.1">ùúÉ</ci><ci id="algx1.l21.m1.2.2.cmml" xref="algx1.l21.m1.2.2">ùëî</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l21.m1.2c">\theta\leftarrow\theta-\eta_{c}\nabla\ell(\theta;g)</annotation></semantics></math>

</span>
<span id="algx1.l22" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l22.m1.1" class="ltx_Math" alttext="\Delta\leftarrow\theta-\theta_{0}" display="inline"><semantics id="algx1.l22.m1.1a"><mrow id="algx1.l22.m1.1.1" xref="algx1.l22.m1.1.1.cmml"><mi mathvariant="normal" id="algx1.l22.m1.1.1.2" xref="algx1.l22.m1.1.1.2.cmml">Œî</mi><mo stretchy="false" id="algx1.l22.m1.1.1.1" xref="algx1.l22.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx1.l22.m1.1.1.3" xref="algx1.l22.m1.1.1.3.cmml"><mi id="algx1.l22.m1.1.1.3.2" xref="algx1.l22.m1.1.1.3.2.cmml">Œ∏</mi><mo id="algx1.l22.m1.1.1.3.1" xref="algx1.l22.m1.1.1.3.1.cmml">‚àí</mo><msub id="algx1.l22.m1.1.1.3.3" xref="algx1.l22.m1.1.1.3.3.cmml"><mi id="algx1.l22.m1.1.1.3.3.2" xref="algx1.l22.m1.1.1.3.3.2.cmml">Œ∏</mi><mn id="algx1.l22.m1.1.1.3.3.3" xref="algx1.l22.m1.1.1.3.3.3.cmml">0</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l22.m1.1b"><apply id="algx1.l22.m1.1.1.cmml" xref="algx1.l22.m1.1.1"><ci id="algx1.l22.m1.1.1.1.cmml" xref="algx1.l22.m1.1.1.1">‚Üê</ci><ci id="algx1.l22.m1.1.1.2.cmml" xref="algx1.l22.m1.1.1.2">Œî</ci><apply id="algx1.l22.m1.1.1.3.cmml" xref="algx1.l22.m1.1.1.3"><minus id="algx1.l22.m1.1.1.3.1.cmml" xref="algx1.l22.m1.1.1.3.1"></minus><ci id="algx1.l22.m1.1.1.3.2.cmml" xref="algx1.l22.m1.1.1.3.2">ùúÉ</ci><apply id="algx1.l22.m1.1.1.3.3.cmml" xref="algx1.l22.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx1.l22.m1.1.1.3.3.1.cmml" xref="algx1.l22.m1.1.1.3.3">subscript</csymbol><ci id="algx1.l22.m1.1.1.3.3.2.cmml" xref="algx1.l22.m1.1.1.3.3.2">ùúÉ</ci><cn type="integer" id="algx1.l22.m1.1.1.3.3.3.cmml" xref="algx1.l22.m1.1.1.3.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l22.m1.1c">\Delta\leftarrow\theta-\theta_{0}</annotation></semantics></math>

</span>
<span id="algx1.l23" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l23.1" class="ltx_text"><math id="algx1.l23.1.m1.1" class="ltx_Math" style="background-color:#BFBFFF;" alttext="b\leftarrow\mathbb{I}_{||\Delta||\leq C}" display="inline"><semantics id="algx1.l23.1.m1.1a"><mrow id="algx1.l23.1.m1.1.2" xref="algx1.l23.1.m1.1.2.cmml"><mi mathbackground="#BFBFFF" id="algx1.l23.1.m1.1.2.2" xref="algx1.l23.1.m1.1.2.2.cmml">b</mi><mo mathbackground="#BFBFFF" stretchy="false" id="algx1.l23.1.m1.1.2.1" xref="algx1.l23.1.m1.1.2.1.cmml">‚Üê</mo><msub id="algx1.l23.1.m1.1.2.3" xref="algx1.l23.1.m1.1.2.3.cmml"><mi mathbackground="#BFBFFF" id="algx1.l23.1.m1.1.2.3.2" xref="algx1.l23.1.m1.1.2.3.2.cmml">ùïÄ</mi><mrow id="algx1.l23.1.m1.1.1.1" xref="algx1.l23.1.m1.1.1.1.cmml"><mrow id="algx1.l23.1.m1.1.1.1.3.2" xref="algx1.l23.1.m1.1.1.1.3.1.cmml"><mo mathbackground="#BFBFFF" maxsize="142%" minsize="142%" id="algx1.l23.1.m1.1.1.1.3.2.1" xref="algx1.l23.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo><mi mathbackground="#BFBFFF" mathvariant="normal" id="algx1.l23.1.m1.1.1.1.1" xref="algx1.l23.1.m1.1.1.1.1.cmml">Œî</mi><mo mathbackground="#BFBFFF" maxsize="142%" minsize="142%" id="algx1.l23.1.m1.1.1.1.3.2.2" xref="algx1.l23.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo></mrow><mo mathbackground="#BFBFFF" id="algx1.l23.1.m1.1.1.1.2" xref="algx1.l23.1.m1.1.1.1.2.cmml">‚â§</mo><mi mathbackground="#BFBFFF" id="algx1.l23.1.m1.1.1.1.4" xref="algx1.l23.1.m1.1.1.1.4.cmml">C</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l23.1.m1.1b"><apply id="algx1.l23.1.m1.1.2.cmml" xref="algx1.l23.1.m1.1.2"><ci id="algx1.l23.1.m1.1.2.1.cmml" xref="algx1.l23.1.m1.1.2.1">‚Üê</ci><ci id="algx1.l23.1.m1.1.2.2.cmml" xref="algx1.l23.1.m1.1.2.2">ùëè</ci><apply id="algx1.l23.1.m1.1.2.3.cmml" xref="algx1.l23.1.m1.1.2.3"><csymbol cd="ambiguous" id="algx1.l23.1.m1.1.2.3.1.cmml" xref="algx1.l23.1.m1.1.2.3">subscript</csymbol><ci id="algx1.l23.1.m1.1.2.3.2.cmml" xref="algx1.l23.1.m1.1.2.3.2">ùïÄ</ci><apply id="algx1.l23.1.m1.1.1.1.cmml" xref="algx1.l23.1.m1.1.1.1"><leq id="algx1.l23.1.m1.1.1.1.2.cmml" xref="algx1.l23.1.m1.1.1.1.2"></leq><apply id="algx1.l23.1.m1.1.1.1.3.1.cmml" xref="algx1.l23.1.m1.1.1.1.3.2"><csymbol cd="latexml" id="algx1.l23.1.m1.1.1.1.3.1.1.cmml" xref="algx1.l23.1.m1.1.1.1.3.2.1">norm</csymbol><ci id="algx1.l23.1.m1.1.1.1.1.cmml" xref="algx1.l23.1.m1.1.1.1.1">Œî</ci></apply><ci id="algx1.l23.1.m1.1.1.1.4.cmml" xref="algx1.l23.1.m1.1.1.1.4">ùê∂</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l23.1.m1.1c">b\leftarrow\mathbb{I}_{||\Delta||\leq C}</annotation></semantics></math></span>

</span>
<span id="algx1.l24" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx1.l24.m1.4" class="ltx_Math" alttext="\Delta^{\prime}\leftarrow\Delta\cdot\min{\left(1,\frac{C_{\theta}}{||\Delta||}\right)}\quad" display="inline"><semantics id="algx1.l24.m1.4a"><mrow id="algx1.l24.m1.4.4.1" xref="algx1.l24.m1.4.4.1.1.cmml"><mrow id="algx1.l24.m1.4.4.1.1" xref="algx1.l24.m1.4.4.1.1.cmml"><msup id="algx1.l24.m1.4.4.1.1.2" xref="algx1.l24.m1.4.4.1.1.2.cmml"><mi mathvariant="normal" id="algx1.l24.m1.4.4.1.1.2.2" xref="algx1.l24.m1.4.4.1.1.2.2.cmml">Œî</mi><mo id="algx1.l24.m1.4.4.1.1.2.3" xref="algx1.l24.m1.4.4.1.1.2.3.cmml">‚Ä≤</mo></msup><mo stretchy="false" id="algx1.l24.m1.4.4.1.1.1" xref="algx1.l24.m1.4.4.1.1.1.cmml">‚Üê</mo><mrow id="algx1.l24.m1.4.4.1.1.3" xref="algx1.l24.m1.4.4.1.1.3.cmml"><mi mathvariant="normal" id="algx1.l24.m1.4.4.1.1.3.2" xref="algx1.l24.m1.4.4.1.1.3.2.cmml">Œî</mi><mo lspace="0.222em" rspace="0.222em" id="algx1.l24.m1.4.4.1.1.3.1" xref="algx1.l24.m1.4.4.1.1.3.1.cmml">‚ãÖ</mo><mrow id="algx1.l24.m1.4.4.1.1.3.3.2" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml"><mi id="algx1.l24.m1.2.2" xref="algx1.l24.m1.2.2.cmml">min</mi><mo id="algx1.l24.m1.4.4.1.1.3.3.2a" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml">‚Å°</mo><mrow id="algx1.l24.m1.4.4.1.1.3.3.2.1" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml"><mo id="algx1.l24.m1.4.4.1.1.3.3.2.1.1" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml">(</mo><mn id="algx1.l24.m1.3.3" xref="algx1.l24.m1.3.3.cmml">1</mn><mo id="algx1.l24.m1.4.4.1.1.3.3.2.1.2" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml">,</mo><mfrac id="algx1.l24.m1.1.1" xref="algx1.l24.m1.1.1.cmml"><msub id="algx1.l24.m1.1.1.3" xref="algx1.l24.m1.1.1.3.cmml"><mi id="algx1.l24.m1.1.1.3.2" xref="algx1.l24.m1.1.1.3.2.cmml">C</mi><mi id="algx1.l24.m1.1.1.3.3" xref="algx1.l24.m1.1.1.3.3.cmml">Œ∏</mi></msub><mrow id="algx1.l24.m1.1.1.1.3" xref="algx1.l24.m1.1.1.1.2.cmml"><mo maxsize="142%" minsize="142%" id="algx1.l24.m1.1.1.1.3.1" xref="algx1.l24.m1.1.1.1.2.1.cmml">‚Äñ</mo><mi mathvariant="normal" id="algx1.l24.m1.1.1.1.1" xref="algx1.l24.m1.1.1.1.1.cmml">Œî</mi><mo maxsize="142%" minsize="142%" id="algx1.l24.m1.1.1.1.3.2" xref="algx1.l24.m1.1.1.1.2.1.cmml">‚Äñ</mo></mrow></mfrac><mo id="algx1.l24.m1.4.4.1.1.3.3.2.1.3" xref="algx1.l24.m1.4.4.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><mspace width="1em" id="algx1.l24.m1.4.4.1.2" xref="algx1.l24.m1.4.4.1.1.cmml"></mspace></mrow><annotation-xml encoding="MathML-Content" id="algx1.l24.m1.4b"><apply id="algx1.l24.m1.4.4.1.1.cmml" xref="algx1.l24.m1.4.4.1"><ci id="algx1.l24.m1.4.4.1.1.1.cmml" xref="algx1.l24.m1.4.4.1.1.1">‚Üê</ci><apply id="algx1.l24.m1.4.4.1.1.2.cmml" xref="algx1.l24.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="algx1.l24.m1.4.4.1.1.2.1.cmml" xref="algx1.l24.m1.4.4.1.1.2">superscript</csymbol><ci id="algx1.l24.m1.4.4.1.1.2.2.cmml" xref="algx1.l24.m1.4.4.1.1.2.2">Œî</ci><ci id="algx1.l24.m1.4.4.1.1.2.3.cmml" xref="algx1.l24.m1.4.4.1.1.2.3">‚Ä≤</ci></apply><apply id="algx1.l24.m1.4.4.1.1.3.cmml" xref="algx1.l24.m1.4.4.1.1.3"><ci id="algx1.l24.m1.4.4.1.1.3.1.cmml" xref="algx1.l24.m1.4.4.1.1.3.1">‚ãÖ</ci><ci id="algx1.l24.m1.4.4.1.1.3.2.cmml" xref="algx1.l24.m1.4.4.1.1.3.2">Œî</ci><apply id="algx1.l24.m1.4.4.1.1.3.3.1.cmml" xref="algx1.l24.m1.4.4.1.1.3.3.2"><min id="algx1.l24.m1.2.2.cmml" xref="algx1.l24.m1.2.2"></min><cn type="integer" id="algx1.l24.m1.3.3.cmml" xref="algx1.l24.m1.3.3">1</cn><apply id="algx1.l24.m1.1.1.cmml" xref="algx1.l24.m1.1.1"><divide id="algx1.l24.m1.1.1.2.cmml" xref="algx1.l24.m1.1.1"></divide><apply id="algx1.l24.m1.1.1.3.cmml" xref="algx1.l24.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l24.m1.1.1.3.1.cmml" xref="algx1.l24.m1.1.1.3">subscript</csymbol><ci id="algx1.l24.m1.1.1.3.2.cmml" xref="algx1.l24.m1.1.1.3.2">ùê∂</ci><ci id="algx1.l24.m1.1.1.3.3.cmml" xref="algx1.l24.m1.1.1.3.3">ùúÉ</ci></apply><apply id="algx1.l24.m1.1.1.1.2.cmml" xref="algx1.l24.m1.1.1.1.3"><csymbol cd="latexml" id="algx1.l24.m1.1.1.1.2.1.cmml" xref="algx1.l24.m1.1.1.1.3.1">norm</csymbol><ci id="algx1.l24.m1.1.1.1.1.cmml" xref="algx1.l24.m1.1.1.1.1">Œî</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l24.m1.4c">\Delta^{\prime}\leftarrow\Delta\cdot\min{\left(1,\frac{C_{\theta}}{||\Delta||}\right)}\quad</annotation></semantics></math> <span id="algx1.l24.1" class="ltx_text" style="color:#009900;">//Clipping</span>

</span>
<span id="algx1.l25" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx1.l25.1" class="ltx_text ltx_font_bold">return</span> <math id="algx1.l25.m1.2" class="ltx_Math" alttext="(\Delta^{\prime},b)" display="inline"><semantics id="algx1.l25.m1.2a"><mrow id="algx1.l25.m1.2.2.1" xref="algx1.l25.m1.2.2.2.cmml"><mo stretchy="false" id="algx1.l25.m1.2.2.1.2" xref="algx1.l25.m1.2.2.2.cmml">(</mo><msup id="algx1.l25.m1.2.2.1.1" xref="algx1.l25.m1.2.2.1.1.cmml"><mi mathvariant="normal" id="algx1.l25.m1.2.2.1.1.2" xref="algx1.l25.m1.2.2.1.1.2.cmml">Œî</mi><mo id="algx1.l25.m1.2.2.1.1.3" xref="algx1.l25.m1.2.2.1.1.3.cmml">‚Ä≤</mo></msup><mo id="algx1.l25.m1.2.2.1.3" xref="algx1.l25.m1.2.2.2.cmml">,</mo><mi id="algx1.l25.m1.1.1" xref="algx1.l25.m1.1.1.cmml">b</mi><mo stretchy="false" id="algx1.l25.m1.2.2.1.4" xref="algx1.l25.m1.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="algx1.l25.m1.2b"><interval closure="open" id="algx1.l25.m1.2.2.2.cmml" xref="algx1.l25.m1.2.2.1"><apply id="algx1.l25.m1.2.2.1.1.cmml" xref="algx1.l25.m1.2.2.1.1"><csymbol cd="ambiguous" id="algx1.l25.m1.2.2.1.1.1.cmml" xref="algx1.l25.m1.2.2.1.1">superscript</csymbol><ci id="algx1.l25.m1.2.2.1.1.2.cmml" xref="algx1.l25.m1.2.2.1.1.2">Œî</ci><ci id="algx1.l25.m1.2.2.1.1.3.cmml" xref="algx1.l25.m1.2.2.1.1.3">‚Ä≤</ci></apply><ci id="algx1.l25.m1.1.1.cmml" xref="algx1.l25.m1.1.1">ùëè</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="algx1.l25.m1.2c">(\Delta^{\prime},b)</annotation></semantics></math>

</span>
</span>

<div class="ltx_pagination ltx_role_end_2_columns"></div>

</div>
</div>
</figure>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>DP FL in Practice</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>DP-FTRL and adaptive clipping</h3>

<figure id="S2.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2305.18465/assets/x3.png" id="S2.F3.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="462" height="361" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S2.F3.sf1.3.2" class="ltx_text" style="font-size:90%;">Evaluation accuracy</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2305.18465/assets/x4.png" id="S2.F3.sf2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="462" height="385" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S2.F3.sf2.3.2" class="ltx_text" style="font-size:90%;">Clip norm</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S2.F3.3.2" class="ltx_text" style="font-size:90%;">DP training of the en-GB NWP model. Adaptive clipping performs similar to fixed clipping, while achieves slightly weaker guarantees. Pre-training significantly reduces the number of rounds to reach the utility target, and achieves stronger guarantees.</span></figcaption>
</figure>
<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.5" class="ltx_p">As described in <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>, we apply DP-FTRL in FL by modifying the FedAvg algorithm: clip the model update <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi mathvariant="normal" id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">Œî</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">Œî</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\Delta</annotation></semantics></math>, and add noise when updating the global model. Two additional hyperparameters are introduced for DP: the <em id="S2.SS1.p1.2.1" class="ltx_emph ltx_font_italic">clip norm <math id="S2.SS1.p1.2.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS1.p1.2.1.m1.1a"><mi id="S2.SS1.p1.2.1.m1.1.1" xref="S2.SS1.p1.2.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.1.m1.1b"><ci id="S2.SS1.p1.2.1.m1.1.1.cmml" xref="S2.SS1.p1.2.1.m1.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.1.m1.1c">C</annotation></semantics></math></em>, which bounds the norm of <math id="S2.SS1.p1.3.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S2.SS1.p1.3.m2.1a"><mi mathvariant="normal" id="S2.SS1.p1.3.m2.1.1" xref="S2.SS1.p1.3.m2.1.1.cmml">Œî</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m2.1b"><ci id="S2.SS1.p1.3.m2.1.1.cmml" xref="S2.SS1.p1.3.m2.1.1">Œî</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m2.1c">\Delta</annotation></semantics></math>, and the <em id="S2.SS1.p1.4.2" class="ltx_emph ltx_font_italic">noise multiplier <math id="S2.SS1.p1.4.2.m1.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S2.SS1.p1.4.2.m1.1a"><mi id="S2.SS1.p1.4.2.m1.1.1" xref="S2.SS1.p1.4.2.m1.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.2.m1.1b"><ci id="S2.SS1.p1.4.2.m1.1.1.cmml" xref="S2.SS1.p1.4.2.m1.1.1">ùëß</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.2.m1.1c">z</annotation></semantics></math></em>, which determines the standard deviation <math id="S2.SS1.p1.5.m3.1" class="ltx_Math" alttext="zC" display="inline"><semantics id="S2.SS1.p1.5.m3.1a"><mrow id="S2.SS1.p1.5.m3.1.1" xref="S2.SS1.p1.5.m3.1.1.cmml"><mi id="S2.SS1.p1.5.m3.1.1.2" xref="S2.SS1.p1.5.m3.1.1.2.cmml">z</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.5.m3.1.1.1" xref="S2.SS1.p1.5.m3.1.1.1.cmml">‚Äã</mo><mi id="S2.SS1.p1.5.m3.1.1.3" xref="S2.SS1.p1.5.m3.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m3.1b"><apply id="S2.SS1.p1.5.m3.1.1.cmml" xref="S2.SS1.p1.5.m3.1.1"><times id="S2.SS1.p1.5.m3.1.1.1.cmml" xref="S2.SS1.p1.5.m3.1.1.1"></times><ci id="S2.SS1.p1.5.m3.1.1.2.cmml" xref="S2.SS1.p1.5.m3.1.1.2">ùëß</ci><ci id="S2.SS1.p1.5.m3.1.1.3.cmml" xref="S2.SS1.p1.5.m3.1.1.3">ùê∂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m3.1c">zC</annotation></semantics></math> for the added Gaussian noise. We discuss clip norm in this section and defer the discussion of noise multiplier and other privacy related hyperparameters to <a href="#S2.SS2" title="2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.2</span></a>.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.4" class="ltx_p"><cite class="ltx_cite ltx_citemacro_citet">Andrew et¬†al. [<a href="#bib.bib3" title="" class="ltx_ref">2021</a>]</cite> introduced an adaptive clipping method that automatically adjusts the clip norm each round by privately estimating the norm of the model delta at a targeted quantile. However, adaptive clipping cannot be directly applied to DP-FTRL as the tree-based noise addition in DP-FTRL assumes a fixed clip norm across rounds.
We integrate adaptive clipping in DP-FTRL through restarts, where the quantile estimate <math id="S2.SS1.p2.1.m1.1" class="ltx_Math" alttext="C^{t}" display="inline"><semantics id="S2.SS1.p2.1.m1.1a"><msup id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml"><mi id="S2.SS1.p2.1.m1.1.1.2" xref="S2.SS1.p2.1.m1.1.1.2.cmml">C</mi><mi id="S2.SS1.p2.1.m1.1.1.3" xref="S2.SS1.p2.1.m1.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><apply id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.1.m1.1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">superscript</csymbol><ci id="S2.SS1.p2.1.m1.1.1.2.cmml" xref="S2.SS1.p2.1.m1.1.1.2">ùê∂</ci><ci id="S2.SS1.p2.1.m1.1.1.3.cmml" xref="S2.SS1.p2.1.m1.1.1.3">ùë°</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">C^{t}</annotation></semantics></math> is continually tracked but only
becomes an active clip norm <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="C_{\theta}" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><msub id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml"><mi id="S2.SS1.p2.2.m2.1.1.2" xref="S2.SS1.p2.2.m2.1.1.2.cmml">C</mi><mi id="S2.SS1.p2.2.m2.1.1.3" xref="S2.SS1.p2.2.m2.1.1.3.cmml">Œ∏</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><apply id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m2.1.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS1.p2.2.m2.1.1.2.cmml" xref="S2.SS1.p2.2.m2.1.1.2">ùê∂</ci><ci id="S2.SS1.p2.2.m2.1.1.3.cmml" xref="S2.SS1.p2.2.m2.1.1.3">ùúÉ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">C_{\theta}</annotation></semantics></math> upon tree restarting. As both the aggregated model delta <math id="S2.SS1.p2.3.m3.1" class="ltx_Math" alttext="\tilde{\Delta}^{t}" display="inline"><semantics id="S2.SS1.p2.3.m3.1a"><msup id="S2.SS1.p2.3.m3.1.1" xref="S2.SS1.p2.3.m3.1.1.cmml"><mover accent="true" id="S2.SS1.p2.3.m3.1.1.2" xref="S2.SS1.p2.3.m3.1.1.2.cmml"><mi mathvariant="normal" id="S2.SS1.p2.3.m3.1.1.2.2" xref="S2.SS1.p2.3.m3.1.1.2.2.cmml">Œî</mi><mo id="S2.SS1.p2.3.m3.1.1.2.1" xref="S2.SS1.p2.3.m3.1.1.2.1.cmml">~</mo></mover><mi id="S2.SS1.p2.3.m3.1.1.3" xref="S2.SS1.p2.3.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.3.m3.1b"><apply id="S2.SS1.p2.3.m3.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.3.m3.1.1.1.cmml" xref="S2.SS1.p2.3.m3.1.1">superscript</csymbol><apply id="S2.SS1.p2.3.m3.1.1.2.cmml" xref="S2.SS1.p2.3.m3.1.1.2"><ci id="S2.SS1.p2.3.m3.1.1.2.1.cmml" xref="S2.SS1.p2.3.m3.1.1.2.1">~</ci><ci id="S2.SS1.p2.3.m3.1.1.2.2.cmml" xref="S2.SS1.p2.3.m3.1.1.2.2">Œî</ci></apply><ci id="S2.SS1.p2.3.m3.1.1.3.cmml" xref="S2.SS1.p2.3.m3.1.1.3">ùë°</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.3.m3.1c">\tilde{\Delta}^{t}</annotation></semantics></math> and the quantile <math id="S2.SS1.p2.4.m4.1" class="ltx_Math" alttext="\tilde{b}^{t}" display="inline"><semantics id="S2.SS1.p2.4.m4.1a"><msup id="S2.SS1.p2.4.m4.1.1" xref="S2.SS1.p2.4.m4.1.1.cmml"><mover accent="true" id="S2.SS1.p2.4.m4.1.1.2" xref="S2.SS1.p2.4.m4.1.1.2.cmml"><mi id="S2.SS1.p2.4.m4.1.1.2.2" xref="S2.SS1.p2.4.m4.1.1.2.2.cmml">b</mi><mo id="S2.SS1.p2.4.m4.1.1.2.1" xref="S2.SS1.p2.4.m4.1.1.2.1.cmml">~</mo></mover><mi id="S2.SS1.p2.4.m4.1.1.3" xref="S2.SS1.p2.4.m4.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.4.m4.1b"><apply id="S2.SS1.p2.4.m4.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.4.m4.1.1.1.cmml" xref="S2.SS1.p2.4.m4.1.1">superscript</csymbol><apply id="S2.SS1.p2.4.m4.1.1.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2"><ci id="S2.SS1.p2.4.m4.1.1.2.1.cmml" xref="S2.SS1.p2.4.m4.1.1.2.1">~</ci><ci id="S2.SS1.p2.4.m4.1.1.2.2.cmml" xref="S2.SS1.p2.4.m4.1.1.2.2">ùëè</ci></apply><ci id="S2.SS1.p2.4.m4.1.1.3.cmml" xref="S2.SS1.p2.4.m4.1.1.3">ùë°</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.4.m4.1c">\tilde{b}^{t}</annotation></semantics></math> use tree-based noise, we can directly use the privacy accounting in <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> by applying the noise transformation in <a href="#Thmtheorem1" title="Theorem 1 (Privacy Accounting for Adaptive Clipping [Andrew et al., 2021]). ‚Ä£ 2.1 DP-FTRL and adaptive clipping ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Thm.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>
.</p>
</div>
<div id="Thmtheorem1" class="ltx_theorem ltx_theorem_theorem">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span id="Thmtheorem1.1.1.1" class="ltx_text ltx_font_bold">Theorem 1</span></span><span id="Thmtheorem1.2.2" class="ltx_text ltx_font_bold"> </span>(Privacy Accounting for Adaptive Clipping <cite class="ltx_cite ltx_citemacro_citep">[Andrew et¬†al., <a href="#bib.bib3" title="" class="ltx_ref">2021</a>]</cite>)<span id="Thmtheorem1.3.3" class="ltx_text ltx_font_bold">.</span>
</h6>
<div id="Thmtheorem1.p1" class="ltx_para">
<p id="Thmtheorem1.p1.6" class="ltx_p"><span id="Thmtheorem1.p1.6.6" class="ltx_text ltx_font_italic">One step of DP-FTRL with adaptive clipping using <math id="Thmtheorem1.p1.1.1.m1.1" class="ltx_Math" alttext="\sigma_{b}" display="inline"><semantics id="Thmtheorem1.p1.1.1.m1.1a"><msub id="Thmtheorem1.p1.1.1.m1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.cmml"><mi id="Thmtheorem1.p1.1.1.m1.1.1.2" xref="Thmtheorem1.p1.1.1.m1.1.1.2.cmml">œÉ</mi><mi id="Thmtheorem1.p1.1.1.m1.1.1.3" xref="Thmtheorem1.p1.1.1.m1.1.1.3.cmml">b</mi></msub><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.1.1.m1.1b"><apply id="Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.1.1.m1.1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.1.1.m1.1.1.2.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.2">ùúé</ci><ci id="Thmtheorem1.p1.1.1.m1.1.1.3.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1.3">ùëè</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.1.1.m1.1c">\sigma_{b}</annotation></semantics></math> noise standard deviation on the clipped counts <math id="Thmtheorem1.p1.2.2.m2.1" class="ltx_Math" alttext="\sum b_{i}^{t}" display="inline"><semantics id="Thmtheorem1.p1.2.2.m2.1a"><mrow id="Thmtheorem1.p1.2.2.m2.1.1" xref="Thmtheorem1.p1.2.2.m2.1.1.cmml"><mo id="Thmtheorem1.p1.2.2.m2.1.1.1" xref="Thmtheorem1.p1.2.2.m2.1.1.1.cmml">‚àë</mo><msubsup id="Thmtheorem1.p1.2.2.m2.1.1.2" xref="Thmtheorem1.p1.2.2.m2.1.1.2.cmml"><mi id="Thmtheorem1.p1.2.2.m2.1.1.2.2.2" xref="Thmtheorem1.p1.2.2.m2.1.1.2.2.2.cmml">b</mi><mi id="Thmtheorem1.p1.2.2.m2.1.1.2.2.3" xref="Thmtheorem1.p1.2.2.m2.1.1.2.2.3.cmml">i</mi><mi id="Thmtheorem1.p1.2.2.m2.1.1.2.3" xref="Thmtheorem1.p1.2.2.m2.1.1.2.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.2.2.m2.1b"><apply id="Thmtheorem1.p1.2.2.m2.1.1.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1"><sum id="Thmtheorem1.p1.2.2.m2.1.1.1.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.1"></sum><apply id="Thmtheorem1.p1.2.2.m2.1.1.2.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="Thmtheorem1.p1.2.2.m2.1.1.2.1.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2">superscript</csymbol><apply id="Thmtheorem1.p1.2.2.m2.1.1.2.2.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="Thmtheorem1.p1.2.2.m2.1.1.2.2.1.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2">subscript</csymbol><ci id="Thmtheorem1.p1.2.2.m2.1.1.2.2.2.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2.2.2">ùëè</ci><ci id="Thmtheorem1.p1.2.2.m2.1.1.2.2.3.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2.2.3">ùëñ</ci></apply><ci id="Thmtheorem1.p1.2.2.m2.1.1.2.3.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1.2.3">ùë°</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.2.2.m2.1c">\sum b_{i}^{t}</annotation></semantics></math> and <math id="Thmtheorem1.p1.3.3.m3.1" class="ltx_Math" alttext="z_{\Delta}" display="inline"><semantics id="Thmtheorem1.p1.3.3.m3.1a"><msub id="Thmtheorem1.p1.3.3.m3.1.1" xref="Thmtheorem1.p1.3.3.m3.1.1.cmml"><mi id="Thmtheorem1.p1.3.3.m3.1.1.2" xref="Thmtheorem1.p1.3.3.m3.1.1.2.cmml">z</mi><mi mathvariant="normal" id="Thmtheorem1.p1.3.3.m3.1.1.3" xref="Thmtheorem1.p1.3.3.m3.1.1.3.cmml">Œî</mi></msub><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.3.3.m3.1b"><apply id="Thmtheorem1.p1.3.3.m3.1.1.cmml" xref="Thmtheorem1.p1.3.3.m3.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.3.3.m3.1.1.1.cmml" xref="Thmtheorem1.p1.3.3.m3.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.3.3.m3.1.1.2.cmml" xref="Thmtheorem1.p1.3.3.m3.1.1.2">ùëß</ci><ci id="Thmtheorem1.p1.3.3.m3.1.1.3.cmml" xref="Thmtheorem1.p1.3.3.m3.1.1.3">Œî</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.3.3.m3.1c">z_{\Delta}</annotation></semantics></math> noise multiplier on the vector sums <math id="Thmtheorem1.p1.4.4.m4.1" class="ltx_Math" alttext="\sum\Delta_{i}^{t}" display="inline"><semantics id="Thmtheorem1.p1.4.4.m4.1a"><mrow id="Thmtheorem1.p1.4.4.m4.1.1" xref="Thmtheorem1.p1.4.4.m4.1.1.cmml"><mo id="Thmtheorem1.p1.4.4.m4.1.1.1" xref="Thmtheorem1.p1.4.4.m4.1.1.1.cmml">‚àë</mo><msubsup id="Thmtheorem1.p1.4.4.m4.1.1.2" xref="Thmtheorem1.p1.4.4.m4.1.1.2.cmml"><mi mathvariant="normal" id="Thmtheorem1.p1.4.4.m4.1.1.2.2.2" xref="Thmtheorem1.p1.4.4.m4.1.1.2.2.2.cmml">Œî</mi><mi id="Thmtheorem1.p1.4.4.m4.1.1.2.2.3" xref="Thmtheorem1.p1.4.4.m4.1.1.2.2.3.cmml">i</mi><mi id="Thmtheorem1.p1.4.4.m4.1.1.2.3" xref="Thmtheorem1.p1.4.4.m4.1.1.2.3.cmml">t</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.4.4.m4.1b"><apply id="Thmtheorem1.p1.4.4.m4.1.1.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1"><sum id="Thmtheorem1.p1.4.4.m4.1.1.1.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.1"></sum><apply id="Thmtheorem1.p1.4.4.m4.1.1.2.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2"><csymbol cd="ambiguous" id="Thmtheorem1.p1.4.4.m4.1.1.2.1.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2">superscript</csymbol><apply id="Thmtheorem1.p1.4.4.m4.1.1.2.2.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2"><csymbol cd="ambiguous" id="Thmtheorem1.p1.4.4.m4.1.1.2.2.1.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2">subscript</csymbol><ci id="Thmtheorem1.p1.4.4.m4.1.1.2.2.2.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2.2.2">Œî</ci><ci id="Thmtheorem1.p1.4.4.m4.1.1.2.2.3.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2.2.3">ùëñ</ci></apply><ci id="Thmtheorem1.p1.4.4.m4.1.1.2.3.cmml" xref="Thmtheorem1.p1.4.4.m4.1.1.2.3">ùë°</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.4.4.m4.1c">\sum\Delta_{i}^{t}</annotation></semantics></math> is equivalent to one step of non-adaptive DP-FTRL with noise multiplier <math id="Thmtheorem1.p1.5.5.m5.1" class="ltx_Math" alttext="z" display="inline"><semantics id="Thmtheorem1.p1.5.5.m5.1a"><mi id="Thmtheorem1.p1.5.5.m5.1.1" xref="Thmtheorem1.p1.5.5.m5.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.5.5.m5.1b"><ci id="Thmtheorem1.p1.5.5.m5.1.1.cmml" xref="Thmtheorem1.p1.5.5.m5.1.1">ùëß</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.5.5.m5.1c">z</annotation></semantics></math> if we set <math id="Thmtheorem1.p1.6.6.m6.1" class="ltx_Math" alttext="z_{\Delta}=\left(z^{-2}-(2\sigma_{b})^{-2}\right)^{-\nicefrac{{1}}{{2}}}" display="inline"><semantics id="Thmtheorem1.p1.6.6.m6.1a"><mrow id="Thmtheorem1.p1.6.6.m6.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.cmml"><msub id="Thmtheorem1.p1.6.6.m6.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.3.cmml"><mi id="Thmtheorem1.p1.6.6.m6.1.1.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.3.2.cmml">z</mi><mi mathvariant="normal" id="Thmtheorem1.p1.6.6.m6.1.1.3.3" xref="Thmtheorem1.p1.6.6.m6.1.1.3.3.cmml">Œî</mi></msub><mo id="Thmtheorem1.p1.6.6.m6.1.1.2" xref="Thmtheorem1.p1.6.6.m6.1.1.2.cmml">=</mo><msup id="Thmtheorem1.p1.6.6.m6.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.cmml"><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.cmml"><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.cmml"><msup id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.cmml"><mi id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.2.cmml">z</mi><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.cmml"><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3a" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.cmml">‚àí</mo><mn id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.2.cmml">2</mn></mrow></msup><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.2.cmml">‚àí</mo><msup id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.cmml"><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.1.cmml">‚Äã</mo><msub id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.2.cmml">œÉ</mi><mi id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.3.cmml">b</mi></msub></mrow><mo stretchy="false" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.cmml"><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3a" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.cmml">‚àí</mo><mn id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.2.cmml">2</mn></mrow></msup></mrow><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.cmml"><mo id="Thmtheorem1.p1.6.6.m6.1.1.1.3a" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.cmml">‚àí</mo><mrow id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.cmml"><mpadded voffset="0.3em" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2.cmml"><mn mathsize="71%" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2a" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2.cmml">1</mn></mpadded><mpadded lspace="-0.1em" width="-0.15em" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1.cmml"><mo stretchy="true" symmetric="true" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1a" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1.cmml">/</mo></mpadded><mn mathsize="71%" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.3" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.3.cmml">2</mn></mrow></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.6.6.m6.1b"><apply id="Thmtheorem1.p1.6.6.m6.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1"><eq id="Thmtheorem1.p1.6.6.m6.1.1.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.2"></eq><apply id="Thmtheorem1.p1.6.6.m6.1.1.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.3"><csymbol cd="ambiguous" id="Thmtheorem1.p1.6.6.m6.1.1.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.3">subscript</csymbol><ci id="Thmtheorem1.p1.6.6.m6.1.1.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.3.2">ùëß</ci><ci id="Thmtheorem1.p1.6.6.m6.1.1.3.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.3.3">Œî</ci></apply><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.6.6.m6.1.1.1.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1">superscript</csymbol><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1"><minus id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.2"></minus><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3">superscript</csymbol><ci id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.2">ùëß</ci><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3"><minus id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3"></minus><cn type="integer" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.3.3.2">2</cn></apply></apply><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1">superscript</csymbol><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1"><times id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.1"></times><cn type="integer" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.2">2</cn><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.2">ùúé</ci><ci id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.1.1.1.3.3">ùëè</ci></apply></apply><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3"><minus id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3"></minus><cn type="integer" id="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.1.1.1.1.3.2">2</cn></apply></apply></apply><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3"><minus id="Thmtheorem1.p1.6.6.m6.1.1.1.3.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3"></minus><apply id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2"><divide id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.1"></divide><cn type="integer" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.2">1</cn><cn type="integer" id="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.3.cmml" xref="Thmtheorem1.p1.6.6.m6.1.1.1.3.2.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.6.6.m6.1c">z_{\Delta}=\left(z^{-2}-(2\sigma_{b})^{-2}\right)^{-\nicefrac{{1}}{{2}}}</annotation></semantics></math>.</span></p>
</div>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.2" class="ltx_p">In practice, <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a> slightly inflates the noise for the model from <math id="S2.SS1.p3.1.m1.1" class="ltx_Math" alttext="zC" display="inline"><semantics id="S2.SS1.p3.1.m1.1a"><mrow id="S2.SS1.p3.1.m1.1.1" xref="S2.SS1.p3.1.m1.1.1.cmml"><mi id="S2.SS1.p3.1.m1.1.1.2" xref="S2.SS1.p3.1.m1.1.1.2.cmml">z</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p3.1.m1.1.1.1" xref="S2.SS1.p3.1.m1.1.1.1.cmml">‚Äã</mo><mi id="S2.SS1.p3.1.m1.1.1.3" xref="S2.SS1.p3.1.m1.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.1.m1.1b"><apply id="S2.SS1.p3.1.m1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1"><times id="S2.SS1.p3.1.m1.1.1.1.cmml" xref="S2.SS1.p3.1.m1.1.1.1"></times><ci id="S2.SS1.p3.1.m1.1.1.2.cmml" xref="S2.SS1.p3.1.m1.1.1.2">ùëß</ci><ci id="S2.SS1.p3.1.m1.1.1.3.cmml" xref="S2.SS1.p3.1.m1.1.1.3">ùê∂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.1.m1.1c">zC</annotation></semantics></math> to <math id="S2.SS1.p3.2.m2.1" class="ltx_Math" alttext="z_{\Delta}C" display="inline"><semantics id="S2.SS1.p3.2.m2.1a"><mrow id="S2.SS1.p3.2.m2.1.1" xref="S2.SS1.p3.2.m2.1.1.cmml"><msub id="S2.SS1.p3.2.m2.1.1.2" xref="S2.SS1.p3.2.m2.1.1.2.cmml"><mi id="S2.SS1.p3.2.m2.1.1.2.2" xref="S2.SS1.p3.2.m2.1.1.2.2.cmml">z</mi><mi mathvariant="normal" id="S2.SS1.p3.2.m2.1.1.2.3" xref="S2.SS1.p3.2.m2.1.1.2.3.cmml">Œî</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p3.2.m2.1.1.1" xref="S2.SS1.p3.2.m2.1.1.1.cmml">‚Äã</mo><mi id="S2.SS1.p3.2.m2.1.1.3" xref="S2.SS1.p3.2.m2.1.1.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p3.2.m2.1b"><apply id="S2.SS1.p3.2.m2.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1"><times id="S2.SS1.p3.2.m2.1.1.1.cmml" xref="S2.SS1.p3.2.m2.1.1.1"></times><apply id="S2.SS1.p3.2.m2.1.1.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p3.2.m2.1.1.2.1.cmml" xref="S2.SS1.p3.2.m2.1.1.2">subscript</csymbol><ci id="S2.SS1.p3.2.m2.1.1.2.2.cmml" xref="S2.SS1.p3.2.m2.1.1.2.2">ùëß</ci><ci id="S2.SS1.p3.2.m2.1.1.2.3.cmml" xref="S2.SS1.p3.2.m2.1.1.2.3">Œî</ci></apply><ci id="S2.SS1.p3.2.m2.1.1.3.cmml" xref="S2.SS1.p3.2.m2.1.1.3">ùê∂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p3.2.m2.1c">z_{\Delta}C</annotation></semantics></math> and requires <em id="S2.SS1.p3.2.1" class="ltx_emph ltx_font_italic">restarts</em> that complicate the privacy accounting for DP-FTRL.
Moreover, we find that a fixed clip norm can achieve comparable or slightly better model utility, and is more robust in experiments with large report goal. For example, adaptive clipping for the de-DE NWP model experiences catastrophic failure and makes no progress in the first 1000 rounds.</p>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.2" class="ltx_p">Nevertheless, adaptive clipping can reduce hyperparameter tuning for many tasks when privacy budget allows. <a href="#S2.F3" title="In 2.1 DP-FTRL and adaptive clipping ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">3</span></a> shows the evaluation accuracy and corresponding clip norm for DP training the en-GB NWP model with report goal 6500 and noise multiplier 7. The adaptive clip curve starts from a small initial clip norm to avoid catastrophic failure due to large initial noise and eventually catches up on accuracy. The estimated clip norm (quantile <math id="S2.SS1.p4.1.m1.1" class="ltx_Math" alttext="\gamma=0.5" display="inline"><semantics id="S2.SS1.p4.1.m1.1a"><mrow id="S2.SS1.p4.1.m1.1.1" xref="S2.SS1.p4.1.m1.1.1.cmml"><mi id="S2.SS1.p4.1.m1.1.1.2" xref="S2.SS1.p4.1.m1.1.1.2.cmml">Œ≥</mi><mo id="S2.SS1.p4.1.m1.1.1.1" xref="S2.SS1.p4.1.m1.1.1.1.cmml">=</mo><mn id="S2.SS1.p4.1.m1.1.1.3" xref="S2.SS1.p4.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.1.m1.1b"><apply id="S2.SS1.p4.1.m1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1"><eq id="S2.SS1.p4.1.m1.1.1.1.cmml" xref="S2.SS1.p4.1.m1.1.1.1"></eq><ci id="S2.SS1.p4.1.m1.1.1.2.cmml" xref="S2.SS1.p4.1.m1.1.1.2">ùõæ</ci><cn type="float" id="S2.SS1.p4.1.m1.1.1.3.cmml" xref="S2.SS1.p4.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.1.m1.1c">\gamma=0.5</annotation></semantics></math>) stabilizes and we can fix the clip norm to <math id="S2.SS1.p4.2.m2.1" class="ltx_Math" alttext="5" display="inline"><semantics id="S2.SS1.p4.2.m2.1a"><mn id="S2.SS1.p4.2.m2.1.1" xref="S2.SS1.p4.2.m2.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S2.SS1.p4.2.m2.1b"><cn type="integer" id="S2.SS1.p4.2.m2.1.1.cmml" xref="S2.SS1.p4.2.m2.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p4.2.m2.1c">5</annotation></semantics></math> based on the estimated value. The clip norm is relatively insensitive, especially when tuning together with the server learning rate. However, clip norm can have a wide tuning range across tasks and models, and quantile-based estimation is still useful for estimating a clip norm to be fixed.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>DP parameters and system configuration</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.3" class="ltx_p">The privacy guarantees of DP-FTRL¬†<cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> are affected by several factors: noise multiplier <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mi id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">ùëß</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">z</annotation></semantics></math>, number of total rounds <math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><mi id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><ci id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">T</annotation></semantics></math>, max participation (MaxP) of a client, and min separation (MinS) of rounds between the participation of the same client. The noise multiplier is a conventional parameter for controlling privacy-utility trade-off: large noise achieves strong privacy guarantees but can potentially hurt the utility. Achieving the same utility with smaller rounds <math id="S2.SS2.p1.3.m3.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.p1.3.m3.1a"><mi id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><ci id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">T</annotation></semantics></math> can significantly improve the privacy guarantees.
Next, we discuss the effect of MaxP and MinS, and the privacy-utility-computation trade-off for system configuration.</p>
</div>
<figure id="S2.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S2.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2305.18465/assets/x5.png" id="S2.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="460" height="386" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F4.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S2.F4.sf1.3.2" class="ltx_text" style="font-size:90%;">Population 1M</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S2.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2305.18465/assets/x6.png" id="S2.F4.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="366" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F4.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S2.F4.sf2.3.2" class="ltx_text" style="font-size:90%;">Population 3M</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S2.F4.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2305.18465/assets/x7.png" id="S2.F4.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="367" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F4.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S2.F4.sf3.3.2" class="ltx_text" style="font-size:90%;">Report goal 6500</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S2.F4.3.2" class="ltx_text" style="font-size:90%;">The effect of population size, number of rounds, report goals, and min separation on DP-FTRL privacy guarantees. For a fixed number of rounds to achieve utility target, increasing report goal and min separation can achieve stronger guarantees measured by smaller zCDP. </span></figcaption>
</figure>
<section id="S2.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Client participation.</h4>

<div id="S2.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px1.p1.2" class="ltx_p">DP-FTRL achieves strong privacy if each client only participates once during training, or the number of client participation is limited when a client can participate multiple times. Two parameters are introduced to characterize client participation for DP-FTRL: the maximum participations (MaxP) of a client in all training rounds and the minimum round separation (MinS) between any single client‚Äôs two participations.
MaxP and MinS are correlated as MaxP is upper bounded by rounds <math id="S2.SS2.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">T</annotation></semantics></math> divided by MinS. In general, for fixed rounds <math id="S2.SS2.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.1c">T</annotation></semantics></math>, decreasing MaxP and increasing MinS can lead to stronger privacy guarantees without changing utility. In addition, <cite class="ltx_cite ltx_citemacro_citet">Cho et¬†al. [<a href="#bib.bib12" title="" class="ltx_ref">2023</a>]</cite> suggests potential advantage of increasing MinS for utility.</p>
</div>
<div id="S2.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS2.SSS0.Px1.p2.5" class="ltx_p">When using the worst-case MaxP estimated by rounds <math id="S2.SS2.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S2.SS2.SSS0.Px1.p2.1.m1.1a"><mi id="S2.SS2.SSS0.Px1.p2.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p2.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p2.1.m1.1b"><ci id="S2.SS2.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.1.m1.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p2.1.m1.1c">T</annotation></semantics></math> divided by MinS, <a href="#S2.F4.sf3" title="In Figure 4 ‚Ä£ 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">4(c)</span></a> shows increasing MinS can achieve stronger privacy measured by smaller zCDP values. However, the maximum MinS is limited by the population size divided by the number of clients per round lower bounded by the report goal. For example, when the report goal is 6500 for small population of around <math id="S2.SS2.SSS0.Px1.p2.2.m2.1" class="ltx_Math" alttext="10^{6}" display="inline"><semantics id="S2.SS2.SSS0.Px1.p2.2.m2.1a"><msup id="S2.SS2.SSS0.Px1.p2.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1.cmml"><mn id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.2" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1.2.cmml">10</mn><mn id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.3" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1.3.cmml">6</mn></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p2.2.m2.1b"><apply id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1">superscript</csymbol><cn type="integer" id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1.2">10</cn><cn type="integer" id="S2.SS2.SSS0.Px1.p2.2.m2.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p2.2.m2.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p2.2.m2.1c">10^{6}</annotation></semantics></math>, MinS has to be smaller than <math id="S2.SS2.SSS0.Px1.p2.3.m3.1" class="ltx_Math" alttext="153" display="inline"><semantics id="S2.SS2.SSS0.Px1.p2.3.m3.1a"><mn id="S2.SS2.SSS0.Px1.p2.3.m3.1.1" xref="S2.SS2.SSS0.Px1.p2.3.m3.1.1.cmml">153</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p2.3.m3.1b"><cn type="integer" id="S2.SS2.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.3.m3.1.1">153</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p2.3.m3.1c">153</annotation></semantics></math> rounds, so strong privacy guarantees are difficult to achieve when training for 3000 rounds. While we cannot measure the precise population size in the FL system due to client dynamics, we estimate the population size of various Gboard tasks as ranging from <math id="S2.SS2.SSS0.Px1.p2.4.m4.1" class="ltx_Math" alttext="0.8" display="inline"><semantics id="S2.SS2.SSS0.Px1.p2.4.m4.1a"><mn id="S2.SS2.SSS0.Px1.p2.4.m4.1.1" xref="S2.SS2.SSS0.Px1.p2.4.m4.1.1.cmml">0.8</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p2.4.m4.1b"><cn type="float" id="S2.SS2.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.4.m4.1.1">0.8</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p2.4.m4.1c">0.8</annotation></semantics></math> million to <math id="S2.SS2.SSS0.Px1.p2.5.m5.1" class="ltx_Math" alttext="16.6" display="inline"><semantics id="S2.SS2.SSS0.Px1.p2.5.m5.1a"><mn id="S2.SS2.SSS0.Px1.p2.5.m5.1.1" xref="S2.SS2.SSS0.Px1.p2.5.m5.1.1.cmml">16.6</mn><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p2.5.m5.1b"><cn type="float" id="S2.SS2.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px1.p2.5.m5.1.1">16.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p2.5.m5.1c">16.6</annotation></semantics></math> million in <a href="#S2.T1" title="In 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section id="S2.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Report goal.</h4>

<div id="S2.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px2.p1.1" class="ltx_p">We study report goal for privacy-computation trade-off based on a hypothesis used in <cite class="ltx_cite ltx_citemacro_citep">[McMahan et¬†al., <a href="#bib.bib25" title="" class="ltx_ref">2018</a>; Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>; Xu et¬†al., <a href="#bib.bib36" title="" class="ltx_ref">2022</a>]</cite>: for sufficiently large data, the utility is approximately non-decreasing if the noise multiplier and clients per round (lower bounded by report goal) proportionally increase.
We provide empirical justification to this hypothesis by comparing the evaluation accuracy of two training runs: one with a report goal of 500 and noise multiplier of 0.54, versus another of report goal 6500 and noise multiplier 7. On more than three Gboard language tasks, we observed that the final utility remains similar, or slightly better for larger report goals. Moreover, using a larger report goal speeds up learning at the beginning of training.
Based on the hypothesis, we plot <a href="#S2.F4.sf1" title="In Figure 4 ‚Ä£ 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figs.</span>¬†<span class="ltx_text ltx_ref_tag">4(a)</span></a> and¬†<a href="#S2.F4.sf2" title="Figure 4(b) ‚Ä£ Figure 4 ‚Ä£ 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a> by linearly increasing report goal and noise multiplier, and assuming the MinS is set to the maximum possible value (population divided by report goal) for strong privacy. Though a large report goal can limit the MinS, it generally leads to stronger privacy guarantees for reasonable population size and total rounds.</p>
</div>
</section>
<section id="S2.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">System configuration.</h4>

<div id="S2.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS2.SSS0.Px3.p1.1" class="ltx_p">According to <a href="#S2.F4.sf1" title="In Figure 4 ‚Ä£ 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figs.</span>¬†<span class="ltx_text ltx_ref_tag">4(a)</span></a> and¬†<a href="#S2.F4.sf2" title="Figure 4(b) ‚Ä£ Figure 4 ‚Ä£ 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>, we choose a large report goal of 6500 supported by the large scale FL systems and aim for maximum MinS for DP-FTRL. To control MinS in practice, a timer is introduced on clients in the FL system so that a client will only become eligible to participate in training (again) after a certain period of time has passed. <cite class="ltx_cite ltx_citemacro_citet">McMahan and Thakurta [<a href="#bib.bib23" title="" class="ltx_ref">2022</a>]</cite> used a timer period of 24 hours to train the es-ES NWP model, which led to an observed MinS of 313. The MinS of es-ES is upper bounded by <math id="S2.SS2.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="4.21M/6500\sim 647" display="inline"><semantics id="S2.SS2.SSS0.Px3.p1.1.m1.1a"><mrow id="S2.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml"><mrow id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.cmml"><mn id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.2" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.2.cmml">4.21</mn><mo lspace="0em" rspace="0em" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.1.cmml">‚Äã</mo><mi id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.3" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.3.cmml">M</mi></mrow><mo id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.1.cmml">/</mo><mn id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.3" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.3.cmml">6500</mn></mrow><mo id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml">‚àº</mo><mn id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml">647</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="latexml" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.1">similar-to</csymbol><apply id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2"><divide id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.1"></divide><apply id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2"><times id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.1"></times><cn type="float" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.2">4.21</cn><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.2.3">ùëÄ</ci></apply><cn type="integer" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.3">6500</cn></apply><cn type="integer" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3">647</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.1.m1.1c">4.21M/6500\sim 647</annotation></semantics></math> and can be potentially improved by increasing the timer period. We increase the timer period in the unit of 24 hours due to the uneven diurnal participation pattern <cite class="ltx_cite ltx_citemacro_citep">[Yang et¬†al., <a href="#bib.bib38" title="" class="ltx_ref">2018</a>; Zhu et¬†al., <a href="#bib.bib40" title="" class="ltx_ref">2022</a>]</cite>, and generally observe that MinS can proportionally increase with the timer period before reaching the possible maximum. However, there are many factors in the FL system that may affect the wall clock training speed, which makes it challenging to optimize the timer period to maximize MinS.</p>
</div>
</section>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Public pretraining</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">We explore pretraining on public data for production models, which were shown to substantially improve model utility in DP simulations¬†<cite class="ltx_cite ltx_citemacro_citep">[Li et¬†al., <a href="#bib.bib22" title="" class="ltx_ref">2021</a>; De et¬†al., <a href="#bib.bib14" title="" class="ltx_ref">2022</a>; Yu et¬†al., <a href="#bib.bib39" title="" class="ltx_ref">2021</a>; Xu et¬†al., <a href="#bib.bib36" title="" class="ltx_ref">2022</a>; Wang et¬†al., <a href="#bib.bib34" title="" class="ltx_ref">2023</a>]</cite>.
We pretrain a model for each Gboard language task using the multi-lingual C4 dataset <cite class="ltx_cite ltx_citemacro_citep">[Raffel et¬†al., <a href="#bib.bib27" title="" class="ltx_ref">2019</a>; Xue et¬†al., <a href="#bib.bib37" title="" class="ltx_ref">2020</a>]</cite> collected from public web pages. <a href="#S2.F3.sf1" title="In Figure 3 ‚Ä£ 2.1 DP-FTRL and adaptive clipping ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">3(a)</span></a> shows that pretraining can reduce <math id="S2.SS3.p1.1.m1.1" class="ltx_Math" alttext="\sim 1000" display="inline"><semantics id="S2.SS3.p1.1.m1.1a"><mrow id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.1.1.2" xref="S2.SS3.p1.1.m1.1.1.2.cmml"></mi><mo id="S2.SS3.p1.1.m1.1.1.1" xref="S2.SS3.p1.1.m1.1.1.1.cmml">‚àº</mo><mn id="S2.SS3.p1.1.m1.1.1.3" xref="S2.SS3.p1.1.m1.1.1.3.cmml">1000</mn></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><apply id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1"><csymbol cd="latexml" id="S2.SS3.p1.1.m1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1.1">similar-to</csymbol><csymbol cd="latexml" id="S2.SS3.p1.1.m1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S2.SS3.p1.1.m1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.1.1.3">1000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">\sim 1000</annotation></semantics></math> rounds to reach a given utility threshold under the same noise multiplier, which can significantly improve the privacy guarantees as shown in <a href="#S2.F4" title="In 2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Fig.</span>¬†<span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">We additionally observe that:

<span id="S2.I1" class="ltx_inline-enumerate">
<span id="S2.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I1.i1.1.1.1" class="ltx_text" style="color:#BF0040;">(1)</span></span> <span id="S2.I1.i1.5" class="ltx_text">it is challenging to fine-tune from a pretrained model when the word embeddings are shared for
input and output to reduce the parameter size of LMs for on-device deployment;
</span></span>
<span id="S2.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I1.i2.1.1.1" class="ltx_text" style="color:#BF0040;">(2)</span></span> <span id="S2.I1.i2.5" class="ltx_text">the accuracy may decrease in the first a few rounds of fine-tuning;
</span></span>
<span id="S2.I1.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I1.i3.1.1.1" class="ltx_text" style="color:#BF0040;">(3)</span></span> <span id="S2.I1.i3.5" class="ltx_text">pretraining helps with diminishing marginal returns: at some point further pretraining does not necessarily improve the final performance.
</span></span>
</span>
Therefore, we use models with separate input and output embeddings and pretrain with half of the C4 dataset for Gboard LMs.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Combining with secure aggregation</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">Secure aggregation (SecAgg)¬†<cite class="ltx_cite ltx_citemacro_cite">Bonawitz et¬†al. [<a href="#bib.bib7" title="" class="ltx_ref">2017</a>]</cite> is a cryptographic multiparty computation protocol ensures that the central server can only access the aggregated update from a large set of clients, preventing inspection of individual client updates. We combine SecAgg and DP-FTRL to provide strong data minimization and anonymization protection <cite class="ltx_cite ltx_citemacro_citep">[Bonawitz et¬†al., <a href="#bib.bib6" title="" class="ltx_ref">2021</a>]</cite>. This work considers central DP and honest-but-curious server, and not the setting where the DP mechanism is applied distributively (i.e. on the client) as in <cite class="ltx_cite ltx_citemacro_cite">Kairouz et¬†al. [<a href="#bib.bib20" title="" class="ltx_ref">2021a</a>]; Agarwal et¬†al. [<a href="#bib.bib2" title="" class="ltx_ref">2021</a>]</cite>. We describe the algorithm in <a href="#alg2" title="In 2.4 Combining with secure aggregation ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">2</span></a>, and provide detailed discussion tackling the main challenge: how we can properly calibrate the sensitivity for DP when using SecAgg.</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.3.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Federated DP-FTRL with <span id="alg2.4.2" class="ltx_text" style="background-color:#FFEFEF;">SecAgg</span></figcaption>
<div id="alg2.5" class="ltx_listing ltx_listing">
<div id="algx2.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx2.l0.3.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>¬†¬†: report goal <math id="algx2.l0.m1.1" class="ltx_Math" alttext="m" display="inline"><semantics id="algx2.l0.m1.1a"><mi id="algx2.l0.m1.1.1" xref="algx2.l0.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="algx2.l0.m1.1b"><ci id="algx2.l0.m1.1.1.cmml" xref="algx2.l0.m1.1.1">ùëö</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m1.1c">m</annotation></semantics></math>, learning rate for model weights on client <math id="algx2.l0.m2.1" class="ltx_Math" alttext="\eta_{c}" display="inline"><semantics id="algx2.l0.m2.1a"><msub id="algx2.l0.m2.1.1" xref="algx2.l0.m2.1.1.cmml"><mi id="algx2.l0.m2.1.1.2" xref="algx2.l0.m2.1.1.2.cmml">Œ∑</mi><mi id="algx2.l0.m2.1.1.3" xref="algx2.l0.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l0.m2.1b"><apply id="algx2.l0.m2.1.1.cmml" xref="algx2.l0.m2.1.1"><csymbol cd="ambiguous" id="algx2.l0.m2.1.1.1.cmml" xref="algx2.l0.m2.1.1">subscript</csymbol><ci id="algx2.l0.m2.1.1.2.cmml" xref="algx2.l0.m2.1.1.2">ùúÇ</ci><ci id="algx2.l0.m2.1.1.3.cmml" xref="algx2.l0.m2.1.1.3">ùëê</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m2.1c">\eta_{c}</annotation></semantics></math> and on server <math id="algx2.l0.m3.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="algx2.l0.m3.1a"><msub id="algx2.l0.m3.1.1" xref="algx2.l0.m3.1.1.cmml"><mi id="algx2.l0.m3.1.1.2" xref="algx2.l0.m3.1.1.2.cmml">Œ∑</mi><mi id="algx2.l0.m3.1.1.3" xref="algx2.l0.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l0.m3.1b"><apply id="algx2.l0.m3.1.1.cmml" xref="algx2.l0.m3.1.1"><csymbol cd="ambiguous" id="algx2.l0.m3.1.1.1.cmml" xref="algx2.l0.m3.1.1">subscript</csymbol><ci id="algx2.l0.m3.1.1.2.cmml" xref="algx2.l0.m3.1.1.2">ùúÇ</ci><ci id="algx2.l0.m3.1.1.3.cmml" xref="algx2.l0.m3.1.1.3">ùë†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m3.1c">\eta_{s}</annotation></semantics></math>, momentum <math id="algx2.l0.m4.1" class="ltx_Math" alttext="\beta=0.9" display="inline"><semantics id="algx2.l0.m4.1a"><mrow id="algx2.l0.m4.1.1" xref="algx2.l0.m4.1.1.cmml"><mi id="algx2.l0.m4.1.1.2" xref="algx2.l0.m4.1.1.2.cmml">Œ≤</mi><mo id="algx2.l0.m4.1.1.1" xref="algx2.l0.m4.1.1.1.cmml">=</mo><mn id="algx2.l0.m4.1.1.3" xref="algx2.l0.m4.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="algx2.l0.m4.1b"><apply id="algx2.l0.m4.1.1.cmml" xref="algx2.l0.m4.1.1"><eq id="algx2.l0.m4.1.1.1.cmml" xref="algx2.l0.m4.1.1.1"></eq><ci id="algx2.l0.m4.1.1.2.cmml" xref="algx2.l0.m4.1.1.2">ùõΩ</ci><cn type="float" id="algx2.l0.m4.1.1.3.cmml" xref="algx2.l0.m4.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m4.1c">\beta=0.9</annotation></semantics></math>, noise multiplier for model delta <math id="algx2.l0.m5.1" class="ltx_Math" alttext="z_{\Delta}" display="inline"><semantics id="algx2.l0.m5.1a"><msub id="algx2.l0.m5.1.1" xref="algx2.l0.m5.1.1.cmml"><mi id="algx2.l0.m5.1.1.2" xref="algx2.l0.m5.1.1.2.cmml">z</mi><mi mathvariant="normal" id="algx2.l0.m5.1.1.3" xref="algx2.l0.m5.1.1.3.cmml">Œî</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l0.m5.1b"><apply id="algx2.l0.m5.1.1.cmml" xref="algx2.l0.m5.1.1"><csymbol cd="ambiguous" id="algx2.l0.m5.1.1.1.cmml" xref="algx2.l0.m5.1.1">subscript</csymbol><ci id="algx2.l0.m5.1.1.2.cmml" xref="algx2.l0.m5.1.1.2">ùëß</ci><ci id="algx2.l0.m5.1.1.3.cmml" xref="algx2.l0.m5.1.1.3">Œî</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m5.1c">z_{\Delta}</annotation></semantics></math>, total number of rounds <math id="algx2.l0.m6.1" class="ltx_Math" alttext="T" display="inline"><semantics id="algx2.l0.m6.1a"><mi id="algx2.l0.m6.1.1" xref="algx2.l0.m6.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="algx2.l0.m6.1b"><ci id="algx2.l0.m6.1.1.cmml" xref="algx2.l0.m6.1.1">ùëá</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.m6.1c">T</annotation></semantics></math>, <span id="algx2.l0.1" class="ltx_text" style="background-color:#FFEFEF;">fixed clip norm <math id="algx2.l0.1.1.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="algx2.l0.1.1.m1.1a"><mi mathbackground="#FFEFEF" id="algx2.l0.1.1.m1.1.1" xref="algx2.l0.1.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="algx2.l0.1.1.m1.1b"><ci id="algx2.l0.1.1.m1.1.1.cmml" xref="algx2.l0.1.1.m1.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.1.1.m1.1c">C</annotation></semantics></math></span>, and <span id="algx2.l0.2" class="ltx_text" style="background-color:#FFEFEF;">a large scaling parameter <math id="algx2.l0.2.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="algx2.l0.2.1.m1.1a"><mi mathbackground="#FFEFEF" id="algx2.l0.2.1.m1.1.1" xref="algx2.l0.2.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="algx2.l0.2.1.m1.1b"><ci id="algx2.l0.2.1.m1.1.1.cmml" xref="algx2.l0.2.1.m1.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l0.2.1.m1.1c">s</annotation></semantics></math></span>.

<div class="ltx_pagination ltx_role_start_2_columns"></div>
</div>
<div id="algx2.l1" class="ltx_listingline">¬†¬†Initialize model <math id="algx2.l1.m1.1" class="ltx_Math" alttext="\theta^{0}" display="inline"><semantics id="algx2.l1.m1.1a"><msup id="algx2.l1.m1.1.1" xref="algx2.l1.m1.1.1.cmml"><mi id="algx2.l1.m1.1.1.2" xref="algx2.l1.m1.1.1.2.cmml">Œ∏</mi><mn id="algx2.l1.m1.1.1.3" xref="algx2.l1.m1.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="algx2.l1.m1.1b"><apply id="algx2.l1.m1.1.1.cmml" xref="algx2.l1.m1.1.1"><csymbol cd="ambiguous" id="algx2.l1.m1.1.1.1.cmml" xref="algx2.l1.m1.1.1">superscript</csymbol><ci id="algx2.l1.m1.1.1.2.cmml" xref="algx2.l1.m1.1.1.2">ùúÉ</ci><cn type="integer" id="algx2.l1.m1.1.1.3.cmml" xref="algx2.l1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l1.m1.1c">\theta^{0}</annotation></semantics></math>, momentum buffer <math id="algx2.l1.m2.1" class="ltx_Math" alttext="\bar{\Delta}^{0}=0" display="inline"><semantics id="algx2.l1.m2.1a"><mrow id="algx2.l1.m2.1.1" xref="algx2.l1.m2.1.1.cmml"><msup id="algx2.l1.m2.1.1.2" xref="algx2.l1.m2.1.1.2.cmml"><mover accent="true" id="algx2.l1.m2.1.1.2.2" xref="algx2.l1.m2.1.1.2.2.cmml"><mi mathvariant="normal" id="algx2.l1.m2.1.1.2.2.2" xref="algx2.l1.m2.1.1.2.2.2.cmml">Œî</mi><mo id="algx2.l1.m2.1.1.2.2.1" xref="algx2.l1.m2.1.1.2.2.1.cmml">¬Ø</mo></mover><mn id="algx2.l1.m2.1.1.2.3" xref="algx2.l1.m2.1.1.2.3.cmml">0</mn></msup><mo id="algx2.l1.m2.1.1.1" xref="algx2.l1.m2.1.1.1.cmml">=</mo><mn id="algx2.l1.m2.1.1.3" xref="algx2.l1.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="algx2.l1.m2.1b"><apply id="algx2.l1.m2.1.1.cmml" xref="algx2.l1.m2.1.1"><eq id="algx2.l1.m2.1.1.1.cmml" xref="algx2.l1.m2.1.1.1"></eq><apply id="algx2.l1.m2.1.1.2.cmml" xref="algx2.l1.m2.1.1.2"><csymbol cd="ambiguous" id="algx2.l1.m2.1.1.2.1.cmml" xref="algx2.l1.m2.1.1.2">superscript</csymbol><apply id="algx2.l1.m2.1.1.2.2.cmml" xref="algx2.l1.m2.1.1.2.2"><ci id="algx2.l1.m2.1.1.2.2.1.cmml" xref="algx2.l1.m2.1.1.2.2.1">¬Ø</ci><ci id="algx2.l1.m2.1.1.2.2.2.cmml" xref="algx2.l1.m2.1.1.2.2.2">Œî</ci></apply><cn type="integer" id="algx2.l1.m2.1.1.2.3.cmml" xref="algx2.l1.m2.1.1.2.3">0</cn></apply><cn type="integer" id="algx2.l1.m2.1.1.3.cmml" xref="algx2.l1.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l1.m2.1c">\bar{\Delta}^{0}=0</annotation></semantics></math>

</div>
<div id="algx2.l2" class="ltx_listingline">¬†¬†Initialize tree <math id="algx2.l2.m1.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="algx2.l2.m1.1a"><mi class="ltx_font_mathcaligraphic" id="algx2.l2.m1.1.1" xref="algx2.l2.m1.1.1.cmml">ùíØ</mi><annotation-xml encoding="MathML-Content" id="algx2.l2.m1.1b"><ci id="algx2.l2.m1.1.1.cmml" xref="algx2.l2.m1.1.1">ùíØ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l2.m1.1c">\mathcal{T}</annotation></semantics></math> with <math id="algx2.l2.m2.1" class="ltx_Math" alttext="z_{\Delta}" display="inline"><semantics id="algx2.l2.m2.1a"><msub id="algx2.l2.m2.1.1" xref="algx2.l2.m2.1.1.cmml"><mi id="algx2.l2.m2.1.1.2" xref="algx2.l2.m2.1.1.2.cmml">z</mi><mi mathvariant="normal" id="algx2.l2.m2.1.1.3" xref="algx2.l2.m2.1.1.3.cmml">Œî</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l2.m2.1b"><apply id="algx2.l2.m2.1.1.cmml" xref="algx2.l2.m2.1.1"><csymbol cd="ambiguous" id="algx2.l2.m2.1.1.1.cmml" xref="algx2.l2.m2.1.1">subscript</csymbol><ci id="algx2.l2.m2.1.1.2.cmml" xref="algx2.l2.m2.1.1.2">ùëß</ci><ci id="algx2.l2.m2.1.1.3.cmml" xref="algx2.l2.m2.1.1.3">Œî</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l2.m2.1c">z_{\Delta}</annotation></semantics></math> and <math id="algx2.l2.m3.1" class="ltx_Math" alttext="C" display="inline"><semantics id="algx2.l2.m3.1a"><mi id="algx2.l2.m3.1.1" xref="algx2.l2.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="algx2.l2.m3.1b"><ci id="algx2.l2.m3.1.1.cmml" xref="algx2.l2.m3.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l2.m3.1c">C</annotation></semantics></math>

</div>
<div id="algx2.l3" class="ltx_listingline">¬†¬†<span id="algx2.l3.1" class="ltx_text"><math id="algx2.l3.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="d\leftarrow\text{dimension of }\theta^{0}" display="inline"><semantics id="algx2.l3.1.m1.1a"><mrow id="algx2.l3.1.m1.1.1" xref="algx2.l3.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l3.1.m1.1.1.2" xref="algx2.l3.1.m1.1.1.2.cmml">d</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l3.1.m1.1.1.1" xref="algx2.l3.1.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l3.1.m1.1.1.3" xref="algx2.l3.1.m1.1.1.3.cmml"><mtext mathbackground="#FFEFEF" id="algx2.l3.1.m1.1.1.3.2" xref="algx2.l3.1.m1.1.1.3.2a.cmml">dimension of¬†</mtext><mo lspace="0em" rspace="0em" id="algx2.l3.1.m1.1.1.3.1" xref="algx2.l3.1.m1.1.1.3.1.cmml">‚Äã</mo><msup id="algx2.l3.1.m1.1.1.3.3" xref="algx2.l3.1.m1.1.1.3.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l3.1.m1.1.1.3.3.2" xref="algx2.l3.1.m1.1.1.3.3.2.cmml">Œ∏</mi><mn mathbackground="#FFEFEF" id="algx2.l3.1.m1.1.1.3.3.3" xref="algx2.l3.1.m1.1.1.3.3.3.cmml">0</mn></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l3.1.m1.1b"><apply id="algx2.l3.1.m1.1.1.cmml" xref="algx2.l3.1.m1.1.1"><ci id="algx2.l3.1.m1.1.1.1.cmml" xref="algx2.l3.1.m1.1.1.1">‚Üê</ci><ci id="algx2.l3.1.m1.1.1.2.cmml" xref="algx2.l3.1.m1.1.1.2">ùëë</ci><apply id="algx2.l3.1.m1.1.1.3.cmml" xref="algx2.l3.1.m1.1.1.3"><times id="algx2.l3.1.m1.1.1.3.1.cmml" xref="algx2.l3.1.m1.1.1.3.1"></times><ci id="algx2.l3.1.m1.1.1.3.2a.cmml" xref="algx2.l3.1.m1.1.1.3.2"><mtext mathbackground="#FFEFEF" id="algx2.l3.1.m1.1.1.3.2.cmml" xref="algx2.l3.1.m1.1.1.3.2">dimension of¬†</mtext></ci><apply id="algx2.l3.1.m1.1.1.3.3.cmml" xref="algx2.l3.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx2.l3.1.m1.1.1.3.3.1.cmml" xref="algx2.l3.1.m1.1.1.3.3">superscript</csymbol><ci id="algx2.l3.1.m1.1.1.3.3.2.cmml" xref="algx2.l3.1.m1.1.1.3.3.2">ùúÉ</ci><cn type="integer" id="algx2.l3.1.m1.1.1.3.3.3.cmml" xref="algx2.l3.1.m1.1.1.3.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l3.1.m1.1c">d\leftarrow\text{dimension of }\theta^{0}</annotation></semantics></math></span>

</div>
<div id="algx2.l4" class="ltx_listingline">¬†¬†<span id="algx2.l4.1" class="ltx_text"><math id="algx2.l4.1.m1.3" class="ltx_Math" style="background-color:#FFEFEF;" alttext="C_{\infty}\leftarrow\text{ceil}\left(2s\cdot C\log(d)/\sqrt{d}\right)" display="inline"><semantics id="algx2.l4.1.m1.3a"><mrow id="algx2.l4.1.m1.3.3" xref="algx2.l4.1.m1.3.3.cmml"><msub id="algx2.l4.1.m1.3.3.3" xref="algx2.l4.1.m1.3.3.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.3.2" xref="algx2.l4.1.m1.3.3.3.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l4.1.m1.3.3.3.3" xref="algx2.l4.1.m1.3.3.3.3.cmml">‚àû</mi></msub><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l4.1.m1.3.3.2" xref="algx2.l4.1.m1.3.3.2.cmml">‚Üê</mo><mrow id="algx2.l4.1.m1.3.3.1" xref="algx2.l4.1.m1.3.3.1.cmml"><mtext mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.3" xref="algx2.l4.1.m1.3.3.1.3a.cmml">ceil</mtext><mo lspace="0em" rspace="0em" id="algx2.l4.1.m1.3.3.1.2" xref="algx2.l4.1.m1.3.3.1.2.cmml">‚Äã</mo><mrow id="algx2.l4.1.m1.3.3.1.1.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="algx2.l4.1.m1.3.3.1.1.1.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.cmml"><mrow id="algx2.l4.1.m1.3.3.1.1.1.1.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.cmml"><mrow id="algx2.l4.1.m1.3.3.1.1.1.1.2.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.cmml"><mrow id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.cmml"><mn mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.1.cmml">‚Äã</mo><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.3" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.3.cmml">s</mi></mrow><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.1.cmml">‚ãÖ</mo><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.3" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.3.cmml">C</mi></mrow><mo lspace="0.167em" rspace="0em" id="algx2.l4.1.m1.3.3.1.1.1.1.2.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.1.cmml">‚Äã</mo><mrow id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.1.1" xref="algx2.l4.1.m1.1.1.cmml">log</mi><mo id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2a" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml">‚Å°</mo><mrow id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml"><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2.1.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml">(</mo><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.2.2" xref="algx2.l4.1.m1.2.2.cmml">d</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2.1.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.1.1" xref="algx2.l4.1.m1.3.3.1.1.1.1.1.cmml">/</mo><msqrt id="algx2.l4.1.m1.3.3.1.1.1.1.3" xref="algx2.l4.1.m1.3.3.1.1.1.1.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.1.3.2" xref="algx2.l4.1.m1.3.3.1.1.1.1.3.2.cmml">d</mi></msqrt></mrow><mo mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.1.1.3" xref="algx2.l4.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l4.1.m1.3b"><apply id="algx2.l4.1.m1.3.3.cmml" xref="algx2.l4.1.m1.3.3"><ci id="algx2.l4.1.m1.3.3.2.cmml" xref="algx2.l4.1.m1.3.3.2">‚Üê</ci><apply id="algx2.l4.1.m1.3.3.3.cmml" xref="algx2.l4.1.m1.3.3.3"><csymbol cd="ambiguous" id="algx2.l4.1.m1.3.3.3.1.cmml" xref="algx2.l4.1.m1.3.3.3">subscript</csymbol><ci id="algx2.l4.1.m1.3.3.3.2.cmml" xref="algx2.l4.1.m1.3.3.3.2">ùê∂</ci><infinity id="algx2.l4.1.m1.3.3.3.3.cmml" xref="algx2.l4.1.m1.3.3.3.3"></infinity></apply><apply id="algx2.l4.1.m1.3.3.1.cmml" xref="algx2.l4.1.m1.3.3.1"><times id="algx2.l4.1.m1.3.3.1.2.cmml" xref="algx2.l4.1.m1.3.3.1.2"></times><ci id="algx2.l4.1.m1.3.3.1.3a.cmml" xref="algx2.l4.1.m1.3.3.1.3"><mtext mathbackground="#FFEFEF" id="algx2.l4.1.m1.3.3.1.3.cmml" xref="algx2.l4.1.m1.3.3.1.3">ceil</mtext></ci><apply id="algx2.l4.1.m1.3.3.1.1.1.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1"><divide id="algx2.l4.1.m1.3.3.1.1.1.1.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.1"></divide><apply id="algx2.l4.1.m1.3.3.1.1.1.1.2.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2"><times id="algx2.l4.1.m1.3.3.1.1.1.1.2.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.1"></times><apply id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2"><ci id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.1">‚ãÖ</ci><apply id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2"><times id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.1"></times><cn type="integer" id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.2">2</cn><ci id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.3.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.2.3">ùë†</ci></apply><ci id="algx2.l4.1.m1.3.3.1.1.1.1.2.2.3.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.2.3">ùê∂</ci></apply><apply id="algx2.l4.1.m1.3.3.1.1.1.1.2.3.1.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.2.3.2"><log id="algx2.l4.1.m1.1.1.cmml" xref="algx2.l4.1.m1.1.1"></log><ci id="algx2.l4.1.m1.2.2.cmml" xref="algx2.l4.1.m1.2.2">ùëë</ci></apply></apply><apply id="algx2.l4.1.m1.3.3.1.1.1.1.3.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.3"><root id="algx2.l4.1.m1.3.3.1.1.1.1.3a.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.3"></root><ci id="algx2.l4.1.m1.3.3.1.1.1.1.3.2.cmml" xref="algx2.l4.1.m1.3.3.1.1.1.1.3.2">ùëë</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l4.1.m1.3c">C_{\infty}\leftarrow\text{ceil}\left(2s\cdot C\log(d)/\sqrt{d}\right)</annotation></semantics></math></span>

</div>
<div id="algx2.l5" class="ltx_listingline">¬†¬†<span id="algx2.l5.1" class="ltx_text"><math id="algx2.l5.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="M\leftarrow 2\cdot C_{\infty}\cdot m+1" display="inline"><semantics id="algx2.l5.1.m1.1a"><mrow id="algx2.l5.1.m1.1.1" xref="algx2.l5.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.2" xref="algx2.l5.1.m1.1.1.2.cmml">M</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l5.1.m1.1.1.1" xref="algx2.l5.1.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l5.1.m1.1.1.3" xref="algx2.l5.1.m1.1.1.3.cmml"><mrow id="algx2.l5.1.m1.1.1.3.2" xref="algx2.l5.1.m1.1.1.3.2.cmml"><mn mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.3.2.2" xref="algx2.l5.1.m1.1.1.3.2.2.cmml">2</mn><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l5.1.m1.1.1.3.2.1" xref="algx2.l5.1.m1.1.1.3.2.1.cmml">‚ãÖ</mo><msub id="algx2.l5.1.m1.1.1.3.2.3" xref="algx2.l5.1.m1.1.1.3.2.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.3.2.3.2" xref="algx2.l5.1.m1.1.1.3.2.3.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l5.1.m1.1.1.3.2.3.3" xref="algx2.l5.1.m1.1.1.3.2.3.3.cmml">‚àû</mi></msub><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l5.1.m1.1.1.3.2.1a" xref="algx2.l5.1.m1.1.1.3.2.1.cmml">‚ãÖ</mo><mi mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.3.2.4" xref="algx2.l5.1.m1.1.1.3.2.4.cmml">m</mi></mrow><mo mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.3.1" xref="algx2.l5.1.m1.1.1.3.1.cmml">+</mo><mn mathbackground="#FFEFEF" id="algx2.l5.1.m1.1.1.3.3" xref="algx2.l5.1.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l5.1.m1.1b"><apply id="algx2.l5.1.m1.1.1.cmml" xref="algx2.l5.1.m1.1.1"><ci id="algx2.l5.1.m1.1.1.1.cmml" xref="algx2.l5.1.m1.1.1.1">‚Üê</ci><ci id="algx2.l5.1.m1.1.1.2.cmml" xref="algx2.l5.1.m1.1.1.2">ùëÄ</ci><apply id="algx2.l5.1.m1.1.1.3.cmml" xref="algx2.l5.1.m1.1.1.3"><plus id="algx2.l5.1.m1.1.1.3.1.cmml" xref="algx2.l5.1.m1.1.1.3.1"></plus><apply id="algx2.l5.1.m1.1.1.3.2.cmml" xref="algx2.l5.1.m1.1.1.3.2"><ci id="algx2.l5.1.m1.1.1.3.2.1.cmml" xref="algx2.l5.1.m1.1.1.3.2.1">‚ãÖ</ci><cn type="integer" id="algx2.l5.1.m1.1.1.3.2.2.cmml" xref="algx2.l5.1.m1.1.1.3.2.2">2</cn><apply id="algx2.l5.1.m1.1.1.3.2.3.cmml" xref="algx2.l5.1.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algx2.l5.1.m1.1.1.3.2.3.1.cmml" xref="algx2.l5.1.m1.1.1.3.2.3">subscript</csymbol><ci id="algx2.l5.1.m1.1.1.3.2.3.2.cmml" xref="algx2.l5.1.m1.1.1.3.2.3.2">ùê∂</ci><infinity id="algx2.l5.1.m1.1.1.3.2.3.3.cmml" xref="algx2.l5.1.m1.1.1.3.2.3.3"></infinity></apply><ci id="algx2.l5.1.m1.1.1.3.2.4.cmml" xref="algx2.l5.1.m1.1.1.3.2.4">ùëö</ci></apply><cn type="integer" id="algx2.l5.1.m1.1.1.3.3.cmml" xref="algx2.l5.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l5.1.m1.1c">M\leftarrow 2\cdot C_{\infty}\cdot m+1</annotation></semantics></math><span id="algx2.l5.1.1" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l5.1.1.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//SecAgg‚Äôs modulus</span></span></span>

</div>
<div id="algx2.l6" class="ltx_listingline">¬†¬†<span id="algx2.l6.1" class="ltx_text"><math id="algx2.l6.1.m1.2" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\alpha\leftarrow\exp\left(-0.5\right)" display="inline"><semantics id="algx2.l6.1.m1.2a"><mrow id="algx2.l6.1.m1.2.2" xref="algx2.l6.1.m1.2.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l6.1.m1.2.2.3" xref="algx2.l6.1.m1.2.2.3.cmml">Œ±</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l6.1.m1.2.2.2" xref="algx2.l6.1.m1.2.2.2.cmml">‚Üê</mo><mrow id="algx2.l6.1.m1.2.2.1.1" xref="algx2.l6.1.m1.2.2.1.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l6.1.m1.1.1" xref="algx2.l6.1.m1.1.1.cmml">exp</mi><mo id="algx2.l6.1.m1.2.2.1.1a" xref="algx2.l6.1.m1.2.2.1.2.cmml">‚Å°</mo><mrow id="algx2.l6.1.m1.2.2.1.1.1" xref="algx2.l6.1.m1.2.2.1.2.cmml"><mo mathbackground="#FFEFEF" id="algx2.l6.1.m1.2.2.1.1.1.2" xref="algx2.l6.1.m1.2.2.1.2.cmml">(</mo><mrow id="algx2.l6.1.m1.2.2.1.1.1.1" xref="algx2.l6.1.m1.2.2.1.1.1.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l6.1.m1.2.2.1.1.1.1a" xref="algx2.l6.1.m1.2.2.1.1.1.1.cmml">‚àí</mo><mn mathbackground="#FFEFEF" id="algx2.l6.1.m1.2.2.1.1.1.1.2" xref="algx2.l6.1.m1.2.2.1.1.1.1.2.cmml">0.5</mn></mrow><mo mathbackground="#FFEFEF" id="algx2.l6.1.m1.2.2.1.1.1.3" xref="algx2.l6.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l6.1.m1.2b"><apply id="algx2.l6.1.m1.2.2.cmml" xref="algx2.l6.1.m1.2.2"><ci id="algx2.l6.1.m1.2.2.2.cmml" xref="algx2.l6.1.m1.2.2.2">‚Üê</ci><ci id="algx2.l6.1.m1.2.2.3.cmml" xref="algx2.l6.1.m1.2.2.3">ùõº</ci><apply id="algx2.l6.1.m1.2.2.1.2.cmml" xref="algx2.l6.1.m1.2.2.1.1"><exp id="algx2.l6.1.m1.1.1.cmml" xref="algx2.l6.1.m1.1.1"></exp><apply id="algx2.l6.1.m1.2.2.1.1.1.1.cmml" xref="algx2.l6.1.m1.2.2.1.1.1.1"><minus id="algx2.l6.1.m1.2.2.1.1.1.1.1.cmml" xref="algx2.l6.1.m1.2.2.1.1.1.1"></minus><cn type="float" id="algx2.l6.1.m1.2.2.1.1.1.1.2.cmml" xref="algx2.l6.1.m1.2.2.1.1.1.1.2">0.5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l6.1.m1.2c">\alpha\leftarrow\exp\left(-0.5\right)</annotation></semantics></math></span>

</div>
<div id="algx2.l7" class="ltx_listingline">¬†¬†<span id="algx2.l7.1" class="ltx_text"><math id="algx2.l7.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\tilde{H}_{d}\leftarrow\frac{1}{\sqrt{d}}H_{d}" display="inline"><semantics id="algx2.l7.1.m1.1a"><mrow id="algx2.l7.1.m1.1.1" xref="algx2.l7.1.m1.1.1.cmml"><msub id="algx2.l7.1.m1.1.1.2" xref="algx2.l7.1.m1.1.1.2.cmml"><mover accent="true" id="algx2.l7.1.m1.1.1.2.2" xref="algx2.l7.1.m1.1.1.2.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.2.2.2" xref="algx2.l7.1.m1.1.1.2.2.2.cmml">H</mi><mo mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.2.2.1" xref="algx2.l7.1.m1.1.1.2.2.1.cmml">~</mo></mover><mi mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.2.3" xref="algx2.l7.1.m1.1.1.2.3.cmml">d</mi></msub><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l7.1.m1.1.1.1" xref="algx2.l7.1.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l7.1.m1.1.1.3" xref="algx2.l7.1.m1.1.1.3.cmml"><mfrac id="algx2.l7.1.m1.1.1.3.2" xref="algx2.l7.1.m1.1.1.3.2.cmml"><mn mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.3.2.2" xref="algx2.l7.1.m1.1.1.3.2.2.cmml">1</mn><msqrt id="algx2.l7.1.m1.1.1.3.2.3" xref="algx2.l7.1.m1.1.1.3.2.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.3.2.3.2" xref="algx2.l7.1.m1.1.1.3.2.3.2.cmml">d</mi></msqrt></mfrac><mo lspace="0em" rspace="0em" id="algx2.l7.1.m1.1.1.3.1" xref="algx2.l7.1.m1.1.1.3.1.cmml">‚Äã</mo><msub id="algx2.l7.1.m1.1.1.3.3" xref="algx2.l7.1.m1.1.1.3.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.3.3.2" xref="algx2.l7.1.m1.1.1.3.3.2.cmml">H</mi><mi mathbackground="#FFEFEF" id="algx2.l7.1.m1.1.1.3.3.3" xref="algx2.l7.1.m1.1.1.3.3.3.cmml">d</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l7.1.m1.1b"><apply id="algx2.l7.1.m1.1.1.cmml" xref="algx2.l7.1.m1.1.1"><ci id="algx2.l7.1.m1.1.1.1.cmml" xref="algx2.l7.1.m1.1.1.1">‚Üê</ci><apply id="algx2.l7.1.m1.1.1.2.cmml" xref="algx2.l7.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l7.1.m1.1.1.2.1.cmml" xref="algx2.l7.1.m1.1.1.2">subscript</csymbol><apply id="algx2.l7.1.m1.1.1.2.2.cmml" xref="algx2.l7.1.m1.1.1.2.2"><ci id="algx2.l7.1.m1.1.1.2.2.1.cmml" xref="algx2.l7.1.m1.1.1.2.2.1">~</ci><ci id="algx2.l7.1.m1.1.1.2.2.2.cmml" xref="algx2.l7.1.m1.1.1.2.2.2">ùêª</ci></apply><ci id="algx2.l7.1.m1.1.1.2.3.cmml" xref="algx2.l7.1.m1.1.1.2.3">ùëë</ci></apply><apply id="algx2.l7.1.m1.1.1.3.cmml" xref="algx2.l7.1.m1.1.1.3"><times id="algx2.l7.1.m1.1.1.3.1.cmml" xref="algx2.l7.1.m1.1.1.3.1"></times><apply id="algx2.l7.1.m1.1.1.3.2.cmml" xref="algx2.l7.1.m1.1.1.3.2"><divide id="algx2.l7.1.m1.1.1.3.2.1.cmml" xref="algx2.l7.1.m1.1.1.3.2"></divide><cn type="integer" id="algx2.l7.1.m1.1.1.3.2.2.cmml" xref="algx2.l7.1.m1.1.1.3.2.2">1</cn><apply id="algx2.l7.1.m1.1.1.3.2.3.cmml" xref="algx2.l7.1.m1.1.1.3.2.3"><root id="algx2.l7.1.m1.1.1.3.2.3a.cmml" xref="algx2.l7.1.m1.1.1.3.2.3"></root><ci id="algx2.l7.1.m1.1.1.3.2.3.2.cmml" xref="algx2.l7.1.m1.1.1.3.2.3.2">ùëë</ci></apply></apply><apply id="algx2.l7.1.m1.1.1.3.3.cmml" xref="algx2.l7.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx2.l7.1.m1.1.1.3.3.1.cmml" xref="algx2.l7.1.m1.1.1.3.3">subscript</csymbol><ci id="algx2.l7.1.m1.1.1.3.3.2.cmml" xref="algx2.l7.1.m1.1.1.3.3.2">ùêª</ci><ci id="algx2.l7.1.m1.1.1.3.3.3.cmml" xref="algx2.l7.1.m1.1.1.3.3.3">ùëë</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l7.1.m1.1c">\tilde{H}_{d}\leftarrow\frac{1}{\sqrt{d}}H_{d}</annotation></semantics></math><span id="algx2.l7.1.1" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l7.1.1.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Normalized Hadmard matrix</span></span></span>

</div>
<div id="algx2.l8" class="ltx_listingline">¬†¬†<span id="algx2.l8.1" class="ltx_text ltx_font_bold">for</span>¬†each round <math id="algx2.l8.m1.5" class="ltx_Math" alttext="t=0,1,2,\ldots,T" display="inline"><semantics id="algx2.l8.m1.5a"><mrow id="algx2.l8.m1.5.6" xref="algx2.l8.m1.5.6.cmml"><mi id="algx2.l8.m1.5.6.2" xref="algx2.l8.m1.5.6.2.cmml">t</mi><mo id="algx2.l8.m1.5.6.1" xref="algx2.l8.m1.5.6.1.cmml">=</mo><mrow id="algx2.l8.m1.5.6.3.2" xref="algx2.l8.m1.5.6.3.1.cmml"><mn id="algx2.l8.m1.1.1" xref="algx2.l8.m1.1.1.cmml">0</mn><mo id="algx2.l8.m1.5.6.3.2.1" xref="algx2.l8.m1.5.6.3.1.cmml">,</mo><mn id="algx2.l8.m1.2.2" xref="algx2.l8.m1.2.2.cmml">1</mn><mo id="algx2.l8.m1.5.6.3.2.2" xref="algx2.l8.m1.5.6.3.1.cmml">,</mo><mn id="algx2.l8.m1.3.3" xref="algx2.l8.m1.3.3.cmml">2</mn><mo id="algx2.l8.m1.5.6.3.2.3" xref="algx2.l8.m1.5.6.3.1.cmml">,</mo><mi mathvariant="normal" id="algx2.l8.m1.4.4" xref="algx2.l8.m1.4.4.cmml">‚Ä¶</mi><mo id="algx2.l8.m1.5.6.3.2.4" xref="algx2.l8.m1.5.6.3.1.cmml">,</mo><mi id="algx2.l8.m1.5.5" xref="algx2.l8.m1.5.5.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l8.m1.5b"><apply id="algx2.l8.m1.5.6.cmml" xref="algx2.l8.m1.5.6"><eq id="algx2.l8.m1.5.6.1.cmml" xref="algx2.l8.m1.5.6.1"></eq><ci id="algx2.l8.m1.5.6.2.cmml" xref="algx2.l8.m1.5.6.2">ùë°</ci><list id="algx2.l8.m1.5.6.3.1.cmml" xref="algx2.l8.m1.5.6.3.2"><cn type="integer" id="algx2.l8.m1.1.1.cmml" xref="algx2.l8.m1.1.1">0</cn><cn type="integer" id="algx2.l8.m1.2.2.cmml" xref="algx2.l8.m1.2.2">1</cn><cn type="integer" id="algx2.l8.m1.3.3.cmml" xref="algx2.l8.m1.3.3">2</cn><ci id="algx2.l8.m1.4.4.cmml" xref="algx2.l8.m1.4.4">‚Ä¶</ci><ci id="algx2.l8.m1.5.5.cmml" xref="algx2.l8.m1.5.5">ùëá</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l8.m1.5c">t=0,1,2,\ldots,T</annotation></semantics></math>¬†<span id="algx2.l8.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx2.l9" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l9.m1.1" class="ltx_Math" alttext="\mathcal{Q}^{t}\leftarrow" display="inline"><semantics id="algx2.l9.m1.1a"><mrow id="algx2.l9.m1.1.1" xref="algx2.l9.m1.1.1.cmml"><msup id="algx2.l9.m1.1.1.2" xref="algx2.l9.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx2.l9.m1.1.1.2.2" xref="algx2.l9.m1.1.1.2.2.cmml">ùí¨</mi><mi id="algx2.l9.m1.1.1.2.3" xref="algx2.l9.m1.1.1.2.3.cmml">t</mi></msup><mo stretchy="false" id="algx2.l9.m1.1.1.1" xref="algx2.l9.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l9.m1.1.1.3" xref="algx2.l9.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l9.m1.1b"><apply id="algx2.l9.m1.1.1.cmml" xref="algx2.l9.m1.1.1"><ci id="algx2.l9.m1.1.1.1.cmml" xref="algx2.l9.m1.1.1.1">‚Üê</ci><apply id="algx2.l9.m1.1.1.2.cmml" xref="algx2.l9.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l9.m1.1.1.2.1.cmml" xref="algx2.l9.m1.1.1.2">superscript</csymbol><ci id="algx2.l9.m1.1.1.2.2.cmml" xref="algx2.l9.m1.1.1.2.2">ùí¨</ci><ci id="algx2.l9.m1.1.1.2.3.cmml" xref="algx2.l9.m1.1.1.2.3">ùë°</ci></apply><csymbol cd="latexml" id="algx2.l9.m1.1.1.3.cmml" xref="algx2.l9.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l9.m1.1c">\mathcal{Q}^{t}\leftarrow</annotation></semantics></math> (<math id="algx2.l9.m2.1" class="ltx_Math" alttext="m" display="inline"><semantics id="algx2.l9.m2.1a"><mi id="algx2.l9.m2.1.1" xref="algx2.l9.m2.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="algx2.l9.m2.1b"><ci id="algx2.l9.m2.1.1.cmml" xref="algx2.l9.m2.1.1">ùëö</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l9.m2.1c">m</annotation></semantics></math> users for this round)

</div>
<div id="algx2.l10" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l10.2" class="ltx_text"><math id="algx2.l10.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\xi\leftarrow" display="inline"><semantics id="algx2.l10.1.m1.1a"><mrow id="algx2.l10.1.m1.1.1" xref="algx2.l10.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l10.1.m1.1.1.2" xref="algx2.l10.1.m1.1.1.2.cmml">Œæ</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l10.1.m1.1.1.1" xref="algx2.l10.1.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l10.1.m1.1.1.3" xref="algx2.l10.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l10.1.m1.1b"><apply id="algx2.l10.1.m1.1.1.cmml" xref="algx2.l10.1.m1.1.1"><ci id="algx2.l10.1.m1.1.1.1.cmml" xref="algx2.l10.1.m1.1.1.1">‚Üê</ci><ci id="algx2.l10.1.m1.1.1.2.cmml" xref="algx2.l10.1.m1.1.1.2">ùúâ</ci><csymbol cd="latexml" id="algx2.l10.1.m1.1.1.3.cmml" xref="algx2.l10.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l10.1.m1.1c">\xi\leftarrow</annotation></semantics></math><span id="algx2.l10.2.1" class="ltx_text" style="background-color:#FFEFEF;"> uniform random sign vector <math id="algx2.l10.2.1.m1.2" class="ltx_Math" alttext="\in\{-1,+1\}^{d}" display="inline"><semantics id="algx2.l10.2.1.m1.2a"><mrow id="algx2.l10.2.1.m1.2.2" xref="algx2.l10.2.1.m1.2.2.cmml"><mi id="algx2.l10.2.1.m1.2.2.4" xref="algx2.l10.2.1.m1.2.2.4.cmml"></mi><mo mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.2.2.3" xref="algx2.l10.2.1.m1.2.2.3.cmml">‚àà</mo><msup id="algx2.l10.2.1.m1.2.2.2" xref="algx2.l10.2.1.m1.2.2.2.cmml"><mrow id="algx2.l10.2.1.m1.2.2.2.2.2" xref="algx2.l10.2.1.m1.2.2.2.2.3.cmml"><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l10.2.1.m1.2.2.2.2.2.3" xref="algx2.l10.2.1.m1.2.2.2.2.3.cmml">{</mo><mrow id="algx2.l10.2.1.m1.1.1.1.1.1.1" xref="algx2.l10.2.1.m1.1.1.1.1.1.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.1.1.1.1.1.1a" xref="algx2.l10.2.1.m1.1.1.1.1.1.1.cmml">‚àí</mo><mn mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.1.1.1.1.1.1.2" xref="algx2.l10.2.1.m1.1.1.1.1.1.1.2.cmml">1</mn></mrow><mo mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.2.2.2.2.2.4" xref="algx2.l10.2.1.m1.2.2.2.2.3.cmml">,</mo><mrow id="algx2.l10.2.1.m1.2.2.2.2.2.2" xref="algx2.l10.2.1.m1.2.2.2.2.2.2.cmml"><mo mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.2.2.2.2.2.2a" xref="algx2.l10.2.1.m1.2.2.2.2.2.2.cmml">+</mo><mn mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.2.2.2.2.2.2.2" xref="algx2.l10.2.1.m1.2.2.2.2.2.2.2.cmml">1</mn></mrow><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l10.2.1.m1.2.2.2.2.2.5" xref="algx2.l10.2.1.m1.2.2.2.2.3.cmml">}</mo></mrow><mi mathbackground="#FFEFEF" id="algx2.l10.2.1.m1.2.2.2.4" xref="algx2.l10.2.1.m1.2.2.2.4.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="algx2.l10.2.1.m1.2b"><apply id="algx2.l10.2.1.m1.2.2.cmml" xref="algx2.l10.2.1.m1.2.2"><in id="algx2.l10.2.1.m1.2.2.3.cmml" xref="algx2.l10.2.1.m1.2.2.3"></in><csymbol cd="latexml" id="algx2.l10.2.1.m1.2.2.4.cmml" xref="algx2.l10.2.1.m1.2.2.4">absent</csymbol><apply id="algx2.l10.2.1.m1.2.2.2.cmml" xref="algx2.l10.2.1.m1.2.2.2"><csymbol cd="ambiguous" id="algx2.l10.2.1.m1.2.2.2.3.cmml" xref="algx2.l10.2.1.m1.2.2.2">superscript</csymbol><set id="algx2.l10.2.1.m1.2.2.2.2.3.cmml" xref="algx2.l10.2.1.m1.2.2.2.2.2"><apply id="algx2.l10.2.1.m1.1.1.1.1.1.1.cmml" xref="algx2.l10.2.1.m1.1.1.1.1.1.1"><minus id="algx2.l10.2.1.m1.1.1.1.1.1.1.1.cmml" xref="algx2.l10.2.1.m1.1.1.1.1.1.1"></minus><cn type="integer" id="algx2.l10.2.1.m1.1.1.1.1.1.1.2.cmml" xref="algx2.l10.2.1.m1.1.1.1.1.1.1.2">1</cn></apply><apply id="algx2.l10.2.1.m1.2.2.2.2.2.2.cmml" xref="algx2.l10.2.1.m1.2.2.2.2.2.2"><plus id="algx2.l10.2.1.m1.2.2.2.2.2.2.1.cmml" xref="algx2.l10.2.1.m1.2.2.2.2.2.2"></plus><cn type="integer" id="algx2.l10.2.1.m1.2.2.2.2.2.2.2.cmml" xref="algx2.l10.2.1.m1.2.2.2.2.2.2.2">1</cn></apply></set><ci id="algx2.l10.2.1.m1.2.2.2.4.cmml" xref="algx2.l10.2.1.m1.2.2.2.4">ùëë</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l10.2.1.m1.2c">\in\{-1,+1\}^{d}</annotation></semantics></math></span></span>

</div>
<div id="algx2.l11" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l11.2" class="ltx_text"><math id="algx2.l11.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="D_{\xi}\leftarrow" display="inline"><semantics id="algx2.l11.1.m1.1a"><mrow id="algx2.l11.1.m1.1.1" xref="algx2.l11.1.m1.1.1.cmml"><msub id="algx2.l11.1.m1.1.1.2" xref="algx2.l11.1.m1.1.1.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l11.1.m1.1.1.2.2" xref="algx2.l11.1.m1.1.1.2.2.cmml">D</mi><mi mathbackground="#FFEFEF" id="algx2.l11.1.m1.1.1.2.3" xref="algx2.l11.1.m1.1.1.2.3.cmml">Œæ</mi></msub><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l11.1.m1.1.1.1" xref="algx2.l11.1.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l11.1.m1.1.1.3" xref="algx2.l11.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l11.1.m1.1b"><apply id="algx2.l11.1.m1.1.1.cmml" xref="algx2.l11.1.m1.1.1"><ci id="algx2.l11.1.m1.1.1.1.cmml" xref="algx2.l11.1.m1.1.1.1">‚Üê</ci><apply id="algx2.l11.1.m1.1.1.2.cmml" xref="algx2.l11.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l11.1.m1.1.1.2.1.cmml" xref="algx2.l11.1.m1.1.1.2">subscript</csymbol><ci id="algx2.l11.1.m1.1.1.2.2.cmml" xref="algx2.l11.1.m1.1.1.2.2">ùê∑</ci><ci id="algx2.l11.1.m1.1.1.2.3.cmml" xref="algx2.l11.1.m1.1.1.2.3">ùúâ</ci></apply><csymbol cd="latexml" id="algx2.l11.1.m1.1.1.3.cmml" xref="algx2.l11.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l11.1.m1.1c">D_{\xi}\leftarrow</annotation></semantics></math><span id="algx2.l11.2.1" class="ltx_text" style="background-color:#FFEFEF;"> diagonal matrix with <math id="algx2.l11.2.1.m1.1" class="ltx_Math" alttext="\xi" display="inline"><semantics id="algx2.l11.2.1.m1.1a"><mi mathbackground="#FFEFEF" id="algx2.l11.2.1.m1.1.1" xref="algx2.l11.2.1.m1.1.1.cmml">Œæ</mi><annotation-xml encoding="MathML-Content" id="algx2.l11.2.1.m1.1b"><ci id="algx2.l11.2.1.m1.1.1.cmml" xref="algx2.l11.2.1.m1.1.1">ùúâ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l11.2.1.m1.1c">\xi</annotation></semantics></math> on the diagonal</span></span>

</div>
<div id="algx2.l12" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l12.1" class="ltx_text ltx_font_bold">for</span>¬†each user <math id="algx2.l12.m1.1" class="ltx_Math" alttext="i\in\mathcal{Q}^{t}" display="inline"><semantics id="algx2.l12.m1.1a"><mrow id="algx2.l12.m1.1.1" xref="algx2.l12.m1.1.1.cmml"><mi id="algx2.l12.m1.1.1.2" xref="algx2.l12.m1.1.1.2.cmml">i</mi><mo id="algx2.l12.m1.1.1.1" xref="algx2.l12.m1.1.1.1.cmml">‚àà</mo><msup id="algx2.l12.m1.1.1.3" xref="algx2.l12.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="algx2.l12.m1.1.1.3.2" xref="algx2.l12.m1.1.1.3.2.cmml">ùí¨</mi><mi id="algx2.l12.m1.1.1.3.3" xref="algx2.l12.m1.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="algx2.l12.m1.1b"><apply id="algx2.l12.m1.1.1.cmml" xref="algx2.l12.m1.1.1"><in id="algx2.l12.m1.1.1.1.cmml" xref="algx2.l12.m1.1.1.1"></in><ci id="algx2.l12.m1.1.1.2.cmml" xref="algx2.l12.m1.1.1.2">ùëñ</ci><apply id="algx2.l12.m1.1.1.3.cmml" xref="algx2.l12.m1.1.1.3"><csymbol cd="ambiguous" id="algx2.l12.m1.1.1.3.1.cmml" xref="algx2.l12.m1.1.1.3">superscript</csymbol><ci id="algx2.l12.m1.1.1.3.2.cmml" xref="algx2.l12.m1.1.1.3.2">ùí¨</ci><ci id="algx2.l12.m1.1.1.3.3.cmml" xref="algx2.l12.m1.1.1.3.3">ùë°</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l12.m1.1c">i\in\mathcal{Q}^{t}</annotation></semantics></math> <span id="algx2.l12.2" class="ltx_text ltx_font_bold">in parallel</span>¬†<span id="algx2.l12.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx2.l13" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<math id="algx2.l13.m1.3" class="ltx_Math" alttext="\Delta^{t}_{i}\leftarrow\text{ClientUpdate}(i,\theta^{t},\xi)" display="inline"><semantics id="algx2.l13.m1.3a"><mrow id="algx2.l13.m1.3.3" xref="algx2.l13.m1.3.3.cmml"><msubsup id="algx2.l13.m1.3.3.3" xref="algx2.l13.m1.3.3.3.cmml"><mi mathvariant="normal" id="algx2.l13.m1.3.3.3.2.2" xref="algx2.l13.m1.3.3.3.2.2.cmml">Œî</mi><mi id="algx2.l13.m1.3.3.3.3" xref="algx2.l13.m1.3.3.3.3.cmml">i</mi><mi id="algx2.l13.m1.3.3.3.2.3" xref="algx2.l13.m1.3.3.3.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="algx2.l13.m1.3.3.2" xref="algx2.l13.m1.3.3.2.cmml">‚Üê</mo><mrow id="algx2.l13.m1.3.3.1" xref="algx2.l13.m1.3.3.1.cmml"><mtext id="algx2.l13.m1.3.3.1.3" xref="algx2.l13.m1.3.3.1.3a.cmml">ClientUpdate</mtext><mo lspace="0em" rspace="0em" id="algx2.l13.m1.3.3.1.2" xref="algx2.l13.m1.3.3.1.2.cmml">‚Äã</mo><mrow id="algx2.l13.m1.3.3.1.1.1" xref="algx2.l13.m1.3.3.1.1.2.cmml"><mo stretchy="false" id="algx2.l13.m1.3.3.1.1.1.2" xref="algx2.l13.m1.3.3.1.1.2.cmml">(</mo><mi id="algx2.l13.m1.1.1" xref="algx2.l13.m1.1.1.cmml">i</mi><mo id="algx2.l13.m1.3.3.1.1.1.3" xref="algx2.l13.m1.3.3.1.1.2.cmml">,</mo><msup id="algx2.l13.m1.3.3.1.1.1.1" xref="algx2.l13.m1.3.3.1.1.1.1.cmml"><mi id="algx2.l13.m1.3.3.1.1.1.1.2" xref="algx2.l13.m1.3.3.1.1.1.1.2.cmml">Œ∏</mi><mi id="algx2.l13.m1.3.3.1.1.1.1.3" xref="algx2.l13.m1.3.3.1.1.1.1.3.cmml">t</mi></msup><mo id="algx2.l13.m1.3.3.1.1.1.4" xref="algx2.l13.m1.3.3.1.1.2.cmml">,</mo><mi id="algx2.l13.m1.2.2" xref="algx2.l13.m1.2.2.cmml">Œæ</mi><mo stretchy="false" id="algx2.l13.m1.3.3.1.1.1.5" xref="algx2.l13.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l13.m1.3b"><apply id="algx2.l13.m1.3.3.cmml" xref="algx2.l13.m1.3.3"><ci id="algx2.l13.m1.3.3.2.cmml" xref="algx2.l13.m1.3.3.2">‚Üê</ci><apply id="algx2.l13.m1.3.3.3.cmml" xref="algx2.l13.m1.3.3.3"><csymbol cd="ambiguous" id="algx2.l13.m1.3.3.3.1.cmml" xref="algx2.l13.m1.3.3.3">subscript</csymbol><apply id="algx2.l13.m1.3.3.3.2.cmml" xref="algx2.l13.m1.3.3.3"><csymbol cd="ambiguous" id="algx2.l13.m1.3.3.3.2.1.cmml" xref="algx2.l13.m1.3.3.3">superscript</csymbol><ci id="algx2.l13.m1.3.3.3.2.2.cmml" xref="algx2.l13.m1.3.3.3.2.2">Œî</ci><ci id="algx2.l13.m1.3.3.3.2.3.cmml" xref="algx2.l13.m1.3.3.3.2.3">ùë°</ci></apply><ci id="algx2.l13.m1.3.3.3.3.cmml" xref="algx2.l13.m1.3.3.3.3">ùëñ</ci></apply><apply id="algx2.l13.m1.3.3.1.cmml" xref="algx2.l13.m1.3.3.1"><times id="algx2.l13.m1.3.3.1.2.cmml" xref="algx2.l13.m1.3.3.1.2"></times><ci id="algx2.l13.m1.3.3.1.3a.cmml" xref="algx2.l13.m1.3.3.1.3"><mtext id="algx2.l13.m1.3.3.1.3.cmml" xref="algx2.l13.m1.3.3.1.3">ClientUpdate</mtext></ci><vector id="algx2.l13.m1.3.3.1.1.2.cmml" xref="algx2.l13.m1.3.3.1.1.1"><ci id="algx2.l13.m1.1.1.cmml" xref="algx2.l13.m1.1.1">ùëñ</ci><apply id="algx2.l13.m1.3.3.1.1.1.1.cmml" xref="algx2.l13.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="algx2.l13.m1.3.3.1.1.1.1.1.cmml" xref="algx2.l13.m1.3.3.1.1.1.1">superscript</csymbol><ci id="algx2.l13.m1.3.3.1.1.1.1.2.cmml" xref="algx2.l13.m1.3.3.1.1.1.1.2">ùúÉ</ci><ci id="algx2.l13.m1.3.3.1.1.1.1.3.cmml" xref="algx2.l13.m1.3.3.1.1.1.1.3">ùë°</ci></apply><ci id="algx2.l13.m1.2.2.cmml" xref="algx2.l13.m1.2.2">ùúâ</ci></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l13.m1.3c">\Delta^{t}_{i}\leftarrow\text{ClientUpdate}(i,\theta^{t},\xi)</annotation></semantics></math>

</div>
<div id="algx2.l14" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l14.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Securely aggregate the model updates</span>

</div>
<div id="algx2.l15" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l15.1" class="ltx_text"><math id="algx2.l15.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\Delta_{t}=\sum_{i\in\mathcal{Q}^{k}}\Delta^{t}_{i}\mod{M}" display="inline"><semantics id="algx2.l15.1.m1.1a"><mrow id="algx2.l15.1.m1.1.1" xref="algx2.l15.1.m1.1.1.cmml"><msub id="algx2.l15.1.m1.1.1.2" xref="algx2.l15.1.m1.1.1.2.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l15.1.m1.1.1.2.2" xref="algx2.l15.1.m1.1.1.2.2.cmml">Œî</mi><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.2.3" xref="algx2.l15.1.m1.1.1.2.3.cmml">t</mi></msub><mo mathbackground="#FFEFEF" rspace="0.111em" id="algx2.l15.1.m1.1.1.1" xref="algx2.l15.1.m1.1.1.1.cmml">=</mo><mrow id="algx2.l15.1.m1.1.1.3" xref="algx2.l15.1.m1.1.1.3.cmml"><mrow id="algx2.l15.1.m1.1.1.3.2" xref="algx2.l15.1.m1.1.1.3.2.cmml"><msub id="algx2.l15.1.m1.1.1.3.2.1" xref="algx2.l15.1.m1.1.1.3.2.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.1.2" xref="algx2.l15.1.m1.1.1.3.2.1.2.cmml">‚àë</mo><mrow id="algx2.l15.1.m1.1.1.3.2.1.3" xref="algx2.l15.1.m1.1.1.3.2.1.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.1.3.2" xref="algx2.l15.1.m1.1.1.3.2.1.3.2.cmml">i</mi><mo mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.1.3.1" xref="algx2.l15.1.m1.1.1.3.2.1.3.1.cmml">‚àà</mo><msup id="algx2.l15.1.m1.1.1.3.2.1.3.3" xref="algx2.l15.1.m1.1.1.3.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.1.3.3.2" xref="algx2.l15.1.m1.1.1.3.2.1.3.3.2.cmml">ùí¨</mi><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.1.3.3.3" xref="algx2.l15.1.m1.1.1.3.2.1.3.3.3.cmml">k</mi></msup></mrow></msub><msubsup id="algx2.l15.1.m1.1.1.3.2.2" xref="algx2.l15.1.m1.1.1.3.2.2.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l15.1.m1.1.1.3.2.2.2.2" xref="algx2.l15.1.m1.1.1.3.2.2.2.2.cmml">Œî</mi><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.2.3" xref="algx2.l15.1.m1.1.1.3.2.2.3.cmml">i</mi><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.2.2.2.3" xref="algx2.l15.1.m1.1.1.3.2.2.2.3.cmml">t</mi></msubsup></mrow><mo mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.1" xref="algx2.l15.1.m1.1.1.3.1.cmml">mod</mo><mi mathbackground="#FFEFEF" id="algx2.l15.1.m1.1.1.3.3" xref="algx2.l15.1.m1.1.1.3.3.cmml">M</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l15.1.m1.1b"><apply id="algx2.l15.1.m1.1.1.cmml" xref="algx2.l15.1.m1.1.1"><eq id="algx2.l15.1.m1.1.1.1.cmml" xref="algx2.l15.1.m1.1.1.1"></eq><apply id="algx2.l15.1.m1.1.1.2.cmml" xref="algx2.l15.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l15.1.m1.1.1.2.1.cmml" xref="algx2.l15.1.m1.1.1.2">subscript</csymbol><ci id="algx2.l15.1.m1.1.1.2.2.cmml" xref="algx2.l15.1.m1.1.1.2.2">Œî</ci><ci id="algx2.l15.1.m1.1.1.2.3.cmml" xref="algx2.l15.1.m1.1.1.2.3">ùë°</ci></apply><apply id="algx2.l15.1.m1.1.1.3.cmml" xref="algx2.l15.1.m1.1.1.3"><csymbol cd="latexml" id="algx2.l15.1.m1.1.1.3.1.cmml" xref="algx2.l15.1.m1.1.1.3.1">modulo</csymbol><apply id="algx2.l15.1.m1.1.1.3.2.cmml" xref="algx2.l15.1.m1.1.1.3.2"><apply id="algx2.l15.1.m1.1.1.3.2.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.1"><csymbol cd="ambiguous" id="algx2.l15.1.m1.1.1.3.2.1.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.1">subscript</csymbol><sum id="algx2.l15.1.m1.1.1.3.2.1.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.2"></sum><apply id="algx2.l15.1.m1.1.1.3.2.1.3.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3"><in id="algx2.l15.1.m1.1.1.3.2.1.3.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.1"></in><ci id="algx2.l15.1.m1.1.1.3.2.1.3.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.2">ùëñ</ci><apply id="algx2.l15.1.m1.1.1.3.2.1.3.3.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.3"><csymbol cd="ambiguous" id="algx2.l15.1.m1.1.1.3.2.1.3.3.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.3">superscript</csymbol><ci id="algx2.l15.1.m1.1.1.3.2.1.3.3.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.3.2">ùí¨</ci><ci id="algx2.l15.1.m1.1.1.3.2.1.3.3.3.cmml" xref="algx2.l15.1.m1.1.1.3.2.1.3.3.3">ùëò</ci></apply></apply></apply><apply id="algx2.l15.1.m1.1.1.3.2.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="algx2.l15.1.m1.1.1.3.2.2.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.2">subscript</csymbol><apply id="algx2.l15.1.m1.1.1.3.2.2.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.2"><csymbol cd="ambiguous" id="algx2.l15.1.m1.1.1.3.2.2.2.1.cmml" xref="algx2.l15.1.m1.1.1.3.2.2">superscript</csymbol><ci id="algx2.l15.1.m1.1.1.3.2.2.2.2.cmml" xref="algx2.l15.1.m1.1.1.3.2.2.2.2">Œî</ci><ci id="algx2.l15.1.m1.1.1.3.2.2.2.3.cmml" xref="algx2.l15.1.m1.1.1.3.2.2.2.3">ùë°</ci></apply><ci id="algx2.l15.1.m1.1.1.3.2.2.3.cmml" xref="algx2.l15.1.m1.1.1.3.2.2.3">ùëñ</ci></apply></apply><ci id="algx2.l15.1.m1.1.1.3.3.cmml" xref="algx2.l15.1.m1.1.1.3.3">ùëÄ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l15.1.m1.1c">\Delta_{t}=\sum_{i\in\mathcal{Q}^{k}}\Delta^{t}_{i}\mod{M}</annotation></semantics></math></span>

</div>
<div id="algx2.l16" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l16.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Unshift, unscale, and unrotate</span>

</div>
<div id="algx2.l17" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l17.1" class="ltx_text"><math id="algx2.l17.1.m1.2" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\Delta_{t}\leftarrow(1/s)\cdot D_{\xi}\cdot\tilde{H}_{d}^{T}\cdot\left(\Delta_{t}-C_{\infty}\right)" display="inline"><semantics id="algx2.l17.1.m1.2a"><mrow id="algx2.l17.1.m1.2.2" xref="algx2.l17.1.m1.2.2.cmml"><msub id="algx2.l17.1.m1.2.2.4" xref="algx2.l17.1.m1.2.2.4.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l17.1.m1.2.2.4.2" xref="algx2.l17.1.m1.2.2.4.2.cmml">Œî</mi><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.4.3" xref="algx2.l17.1.m1.2.2.4.3.cmml">t</mi></msub><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l17.1.m1.2.2.3" xref="algx2.l17.1.m1.2.2.3.cmml">‚Üê</mo><mrow id="algx2.l17.1.m1.2.2.2" xref="algx2.l17.1.m1.2.2.2.cmml"><mrow id="algx2.l17.1.m1.1.1.1.1.1" xref="algx2.l17.1.m1.1.1.1.1.1.1.cmml"><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l17.1.m1.1.1.1.1.1.2" xref="algx2.l17.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="algx2.l17.1.m1.1.1.1.1.1.1" xref="algx2.l17.1.m1.1.1.1.1.1.1.cmml"><mn mathbackground="#FFEFEF" id="algx2.l17.1.m1.1.1.1.1.1.1.2" xref="algx2.l17.1.m1.1.1.1.1.1.1.2.cmml">1</mn><mo mathbackground="#FFEFEF" id="algx2.l17.1.m1.1.1.1.1.1.1.1" xref="algx2.l17.1.m1.1.1.1.1.1.1.1.cmml">/</mo><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.1.1.1.1.1.1.3" xref="algx2.l17.1.m1.1.1.1.1.1.1.3.cmml">s</mi></mrow><mo mathbackground="#FFEFEF" rspace="0.055em" stretchy="false" id="algx2.l17.1.m1.1.1.1.1.1.3" xref="algx2.l17.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow><mo mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l17.1.m1.2.2.2.3" xref="algx2.l17.1.m1.2.2.2.3.cmml">‚ãÖ</mo><msub id="algx2.l17.1.m1.2.2.2.4" xref="algx2.l17.1.m1.2.2.2.4.cmml"><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.4.2" xref="algx2.l17.1.m1.2.2.2.4.2.cmml">D</mi><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.4.3" xref="algx2.l17.1.m1.2.2.2.4.3.cmml">Œæ</mi></msub><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l17.1.m1.2.2.2.3a" xref="algx2.l17.1.m1.2.2.2.3.cmml">‚ãÖ</mo><msubsup id="algx2.l17.1.m1.2.2.2.5" xref="algx2.l17.1.m1.2.2.2.5.cmml"><mover accent="true" id="algx2.l17.1.m1.2.2.2.5.2.2" xref="algx2.l17.1.m1.2.2.2.5.2.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.5.2.2.2" xref="algx2.l17.1.m1.2.2.2.5.2.2.2.cmml">H</mi><mo mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.5.2.2.1" xref="algx2.l17.1.m1.2.2.2.5.2.2.1.cmml">~</mo></mover><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.5.2.3" xref="algx2.l17.1.m1.2.2.2.5.2.3.cmml">d</mi><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.5.3" xref="algx2.l17.1.m1.2.2.2.5.3.cmml">T</mi></msubsup><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l17.1.m1.2.2.2.3b" xref="algx2.l17.1.m1.2.2.2.3.cmml">‚ãÖ</mo><mrow id="algx2.l17.1.m1.2.2.2.2.1" xref="algx2.l17.1.m1.2.2.2.2.1.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.2.1.2" xref="algx2.l17.1.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="algx2.l17.1.m1.2.2.2.2.1.1" xref="algx2.l17.1.m1.2.2.2.2.1.1.cmml"><msub id="algx2.l17.1.m1.2.2.2.2.1.1.2" xref="algx2.l17.1.m1.2.2.2.2.1.1.2.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l17.1.m1.2.2.2.2.1.1.2.2" xref="algx2.l17.1.m1.2.2.2.2.1.1.2.2.cmml">Œî</mi><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.2.1.1.2.3" xref="algx2.l17.1.m1.2.2.2.2.1.1.2.3.cmml">t</mi></msub><mo mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.2.1.1.1" xref="algx2.l17.1.m1.2.2.2.2.1.1.1.cmml">‚àí</mo><msub id="algx2.l17.1.m1.2.2.2.2.1.1.3" xref="algx2.l17.1.m1.2.2.2.2.1.1.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.2.1.1.3.2" xref="algx2.l17.1.m1.2.2.2.2.1.1.3.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l17.1.m1.2.2.2.2.1.1.3.3" xref="algx2.l17.1.m1.2.2.2.2.1.1.3.3.cmml">‚àû</mi></msub></mrow><mo mathbackground="#FFEFEF" id="algx2.l17.1.m1.2.2.2.2.1.3" xref="algx2.l17.1.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l17.1.m1.2b"><apply id="algx2.l17.1.m1.2.2.cmml" xref="algx2.l17.1.m1.2.2"><ci id="algx2.l17.1.m1.2.2.3.cmml" xref="algx2.l17.1.m1.2.2.3">‚Üê</ci><apply id="algx2.l17.1.m1.2.2.4.cmml" xref="algx2.l17.1.m1.2.2.4"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.4.1.cmml" xref="algx2.l17.1.m1.2.2.4">subscript</csymbol><ci id="algx2.l17.1.m1.2.2.4.2.cmml" xref="algx2.l17.1.m1.2.2.4.2">Œî</ci><ci id="algx2.l17.1.m1.2.2.4.3.cmml" xref="algx2.l17.1.m1.2.2.4.3">ùë°</ci></apply><apply id="algx2.l17.1.m1.2.2.2.cmml" xref="algx2.l17.1.m1.2.2.2"><ci id="algx2.l17.1.m1.2.2.2.3.cmml" xref="algx2.l17.1.m1.2.2.2.3">‚ãÖ</ci><apply id="algx2.l17.1.m1.1.1.1.1.1.1.cmml" xref="algx2.l17.1.m1.1.1.1.1.1"><divide id="algx2.l17.1.m1.1.1.1.1.1.1.1.cmml" xref="algx2.l17.1.m1.1.1.1.1.1.1.1"></divide><cn type="integer" id="algx2.l17.1.m1.1.1.1.1.1.1.2.cmml" xref="algx2.l17.1.m1.1.1.1.1.1.1.2">1</cn><ci id="algx2.l17.1.m1.1.1.1.1.1.1.3.cmml" xref="algx2.l17.1.m1.1.1.1.1.1.1.3">ùë†</ci></apply><apply id="algx2.l17.1.m1.2.2.2.4.cmml" xref="algx2.l17.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.2.4.1.cmml" xref="algx2.l17.1.m1.2.2.2.4">subscript</csymbol><ci id="algx2.l17.1.m1.2.2.2.4.2.cmml" xref="algx2.l17.1.m1.2.2.2.4.2">ùê∑</ci><ci id="algx2.l17.1.m1.2.2.2.4.3.cmml" xref="algx2.l17.1.m1.2.2.2.4.3">ùúâ</ci></apply><apply id="algx2.l17.1.m1.2.2.2.5.cmml" xref="algx2.l17.1.m1.2.2.2.5"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.2.5.1.cmml" xref="algx2.l17.1.m1.2.2.2.5">superscript</csymbol><apply id="algx2.l17.1.m1.2.2.2.5.2.cmml" xref="algx2.l17.1.m1.2.2.2.5"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.2.5.2.1.cmml" xref="algx2.l17.1.m1.2.2.2.5">subscript</csymbol><apply id="algx2.l17.1.m1.2.2.2.5.2.2.cmml" xref="algx2.l17.1.m1.2.2.2.5.2.2"><ci id="algx2.l17.1.m1.2.2.2.5.2.2.1.cmml" xref="algx2.l17.1.m1.2.2.2.5.2.2.1">~</ci><ci id="algx2.l17.1.m1.2.2.2.5.2.2.2.cmml" xref="algx2.l17.1.m1.2.2.2.5.2.2.2">ùêª</ci></apply><ci id="algx2.l17.1.m1.2.2.2.5.2.3.cmml" xref="algx2.l17.1.m1.2.2.2.5.2.3">ùëë</ci></apply><ci id="algx2.l17.1.m1.2.2.2.5.3.cmml" xref="algx2.l17.1.m1.2.2.2.5.3">ùëá</ci></apply><apply id="algx2.l17.1.m1.2.2.2.2.1.1.cmml" xref="algx2.l17.1.m1.2.2.2.2.1"><minus id="algx2.l17.1.m1.2.2.2.2.1.1.1.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.1"></minus><apply id="algx2.l17.1.m1.2.2.2.2.1.1.2.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.2.2.1.1.2.1.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.2">subscript</csymbol><ci id="algx2.l17.1.m1.2.2.2.2.1.1.2.2.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.2.2">Œî</ci><ci id="algx2.l17.1.m1.2.2.2.2.1.1.2.3.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.2.3">ùë°</ci></apply><apply id="algx2.l17.1.m1.2.2.2.2.1.1.3.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="algx2.l17.1.m1.2.2.2.2.1.1.3.1.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.3">subscript</csymbol><ci id="algx2.l17.1.m1.2.2.2.2.1.1.3.2.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.3.2">ùê∂</ci><infinity id="algx2.l17.1.m1.2.2.2.2.1.1.3.3.cmml" xref="algx2.l17.1.m1.2.2.2.2.1.1.3.3"></infinity></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l17.1.m1.2c">\Delta_{t}\leftarrow(1/s)\cdot D_{\xi}\cdot\tilde{H}_{d}^{T}\cdot\left(\Delta_{t}-C_{\infty}\right)</annotation></semantics></math></span>

</div>
<div id="algx2.l18" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l18.1" class="ltx_text" style="color:#009900;">//Update model weights with noise addition</span>

</div>
<div id="algx2.l19" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l19.m1.5" class="ltx_Math" alttext="\tilde{\Delta}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T},\,{\Delta_{t}},\,k\in[0,t]\right)" display="inline"><semantics id="algx2.l19.m1.5a"><mrow id="algx2.l19.m1.5.5" xref="algx2.l19.m1.5.5.cmml"><msup id="algx2.l19.m1.5.5.3" xref="algx2.l19.m1.5.5.3.cmml"><mover accent="true" id="algx2.l19.m1.5.5.3.2" xref="algx2.l19.m1.5.5.3.2.cmml"><mi mathvariant="normal" id="algx2.l19.m1.5.5.3.2.2" xref="algx2.l19.m1.5.5.3.2.2.cmml">Œî</mi><mo id="algx2.l19.m1.5.5.3.2.1" xref="algx2.l19.m1.5.5.3.2.1.cmml">~</mo></mover><mi id="algx2.l19.m1.5.5.3.3" xref="algx2.l19.m1.5.5.3.3.cmml">t</mi></msup><mo id="algx2.l19.m1.5.5.2" xref="algx2.l19.m1.5.5.2.cmml">=</mo><mrow id="algx2.l19.m1.5.5.1" xref="algx2.l19.m1.5.5.1.cmml"><mfrac id="algx2.l19.m1.5.5.1.3" xref="algx2.l19.m1.5.5.1.3.cmml"><mn id="algx2.l19.m1.5.5.1.3.2" xref="algx2.l19.m1.5.5.1.3.2.cmml">1</mn><mi id="algx2.l19.m1.5.5.1.3.3" xref="algx2.l19.m1.5.5.1.3.3.cmml">m</mi></mfrac><mo lspace="0em" rspace="0em" id="algx2.l19.m1.5.5.1.2" xref="algx2.l19.m1.5.5.1.2.cmml">‚Äã</mo><mtext id="algx2.l19.m1.5.5.1.4" xref="algx2.l19.m1.5.5.1.4a.cmml">PrivateSum</mtext><mo lspace="0em" rspace="0em" id="algx2.l19.m1.5.5.1.2a" xref="algx2.l19.m1.5.5.1.2.cmml">‚Äã</mo><mrow id="algx2.l19.m1.5.5.1.1.1" xref="algx2.l19.m1.5.5.1.1.1.1.cmml"><mo id="algx2.l19.m1.5.5.1.1.1.2" xref="algx2.l19.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="algx2.l19.m1.5.5.1.1.1.1" xref="algx2.l19.m1.5.5.1.1.1.1.cmml"><mrow id="algx2.l19.m1.5.5.1.1.1.1.1.1" xref="algx2.l19.m1.5.5.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="algx2.l19.m1.3.3" xref="algx2.l19.m1.3.3.cmml">ùíØ</mi><mo rspace="0.337em" id="algx2.l19.m1.5.5.1.1.1.1.1.1.2" xref="algx2.l19.m1.5.5.1.1.1.1.1.2.cmml">,</mo><msub id="algx2.l19.m1.5.5.1.1.1.1.1.1.1" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.2" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1.2.cmml">Œî</mi><mi id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.3" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo rspace="0.337em" id="algx2.l19.m1.5.5.1.1.1.1.1.1.3" xref="algx2.l19.m1.5.5.1.1.1.1.1.2.cmml">,</mo><mi id="algx2.l19.m1.4.4" xref="algx2.l19.m1.4.4.cmml">k</mi></mrow><mo id="algx2.l19.m1.5.5.1.1.1.1.2" xref="algx2.l19.m1.5.5.1.1.1.1.2.cmml">‚àà</mo><mrow id="algx2.l19.m1.5.5.1.1.1.1.3.2" xref="algx2.l19.m1.5.5.1.1.1.1.3.1.cmml"><mo stretchy="false" id="algx2.l19.m1.5.5.1.1.1.1.3.2.1" xref="algx2.l19.m1.5.5.1.1.1.1.3.1.cmml">[</mo><mn id="algx2.l19.m1.1.1" xref="algx2.l19.m1.1.1.cmml">0</mn><mo id="algx2.l19.m1.5.5.1.1.1.1.3.2.2" xref="algx2.l19.m1.5.5.1.1.1.1.3.1.cmml">,</mo><mi id="algx2.l19.m1.2.2" xref="algx2.l19.m1.2.2.cmml">t</mi><mo stretchy="false" id="algx2.l19.m1.5.5.1.1.1.1.3.2.3" xref="algx2.l19.m1.5.5.1.1.1.1.3.1.cmml">]</mo></mrow></mrow><mo id="algx2.l19.m1.5.5.1.1.1.3" xref="algx2.l19.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l19.m1.5b"><apply id="algx2.l19.m1.5.5.cmml" xref="algx2.l19.m1.5.5"><eq id="algx2.l19.m1.5.5.2.cmml" xref="algx2.l19.m1.5.5.2"></eq><apply id="algx2.l19.m1.5.5.3.cmml" xref="algx2.l19.m1.5.5.3"><csymbol cd="ambiguous" id="algx2.l19.m1.5.5.3.1.cmml" xref="algx2.l19.m1.5.5.3">superscript</csymbol><apply id="algx2.l19.m1.5.5.3.2.cmml" xref="algx2.l19.m1.5.5.3.2"><ci id="algx2.l19.m1.5.5.3.2.1.cmml" xref="algx2.l19.m1.5.5.3.2.1">~</ci><ci id="algx2.l19.m1.5.5.3.2.2.cmml" xref="algx2.l19.m1.5.5.3.2.2">Œî</ci></apply><ci id="algx2.l19.m1.5.5.3.3.cmml" xref="algx2.l19.m1.5.5.3.3">ùë°</ci></apply><apply id="algx2.l19.m1.5.5.1.cmml" xref="algx2.l19.m1.5.5.1"><times id="algx2.l19.m1.5.5.1.2.cmml" xref="algx2.l19.m1.5.5.1.2"></times><apply id="algx2.l19.m1.5.5.1.3.cmml" xref="algx2.l19.m1.5.5.1.3"><divide id="algx2.l19.m1.5.5.1.3.1.cmml" xref="algx2.l19.m1.5.5.1.3"></divide><cn type="integer" id="algx2.l19.m1.5.5.1.3.2.cmml" xref="algx2.l19.m1.5.5.1.3.2">1</cn><ci id="algx2.l19.m1.5.5.1.3.3.cmml" xref="algx2.l19.m1.5.5.1.3.3">ùëö</ci></apply><ci id="algx2.l19.m1.5.5.1.4a.cmml" xref="algx2.l19.m1.5.5.1.4"><mtext id="algx2.l19.m1.5.5.1.4.cmml" xref="algx2.l19.m1.5.5.1.4">PrivateSum</mtext></ci><apply id="algx2.l19.m1.5.5.1.1.1.1.cmml" xref="algx2.l19.m1.5.5.1.1.1"><in id="algx2.l19.m1.5.5.1.1.1.1.2.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.2"></in><list id="algx2.l19.m1.5.5.1.1.1.1.1.2.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.1.1"><ci id="algx2.l19.m1.3.3.cmml" xref="algx2.l19.m1.3.3">ùíØ</ci><apply id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1.2">Œî</ci><ci id="algx2.l19.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.1.1.1.3">ùë°</ci></apply><ci id="algx2.l19.m1.4.4.cmml" xref="algx2.l19.m1.4.4">ùëò</ci></list><interval closure="closed" id="algx2.l19.m1.5.5.1.1.1.1.3.1.cmml" xref="algx2.l19.m1.5.5.1.1.1.1.3.2"><cn type="integer" id="algx2.l19.m1.1.1.cmml" xref="algx2.l19.m1.1.1">0</cn><ci id="algx2.l19.m1.2.2.cmml" xref="algx2.l19.m1.2.2">ùë°</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l19.m1.5c">\tilde{\Delta}^{t}=\frac{1}{m}\text{PrivateSum}\left(\mathcal{T},\,{\Delta_{t}},\,k\in[0,t]\right)</annotation></semantics></math>

</div>
<div id="algx2.l20" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l20.m1.1" class="ltx_Math" alttext="\bar{\Delta}^{t}=\beta\bar{\Delta}^{t-1}+\tilde{\Delta}^{t}" display="inline"><semantics id="algx2.l20.m1.1a"><mrow id="algx2.l20.m1.1.1" xref="algx2.l20.m1.1.1.cmml"><msup id="algx2.l20.m1.1.1.2" xref="algx2.l20.m1.1.1.2.cmml"><mover accent="true" id="algx2.l20.m1.1.1.2.2" xref="algx2.l20.m1.1.1.2.2.cmml"><mi mathvariant="normal" id="algx2.l20.m1.1.1.2.2.2" xref="algx2.l20.m1.1.1.2.2.2.cmml">Œî</mi><mo id="algx2.l20.m1.1.1.2.2.1" xref="algx2.l20.m1.1.1.2.2.1.cmml">¬Ø</mo></mover><mi id="algx2.l20.m1.1.1.2.3" xref="algx2.l20.m1.1.1.2.3.cmml">t</mi></msup><mo id="algx2.l20.m1.1.1.1" xref="algx2.l20.m1.1.1.1.cmml">=</mo><mrow id="algx2.l20.m1.1.1.3" xref="algx2.l20.m1.1.1.3.cmml"><mrow id="algx2.l20.m1.1.1.3.2" xref="algx2.l20.m1.1.1.3.2.cmml"><mi id="algx2.l20.m1.1.1.3.2.2" xref="algx2.l20.m1.1.1.3.2.2.cmml">Œ≤</mi><mo lspace="0em" rspace="0em" id="algx2.l20.m1.1.1.3.2.1" xref="algx2.l20.m1.1.1.3.2.1.cmml">‚Äã</mo><msup id="algx2.l20.m1.1.1.3.2.3" xref="algx2.l20.m1.1.1.3.2.3.cmml"><mover accent="true" id="algx2.l20.m1.1.1.3.2.3.2" xref="algx2.l20.m1.1.1.3.2.3.2.cmml"><mi mathvariant="normal" id="algx2.l20.m1.1.1.3.2.3.2.2" xref="algx2.l20.m1.1.1.3.2.3.2.2.cmml">Œî</mi><mo id="algx2.l20.m1.1.1.3.2.3.2.1" xref="algx2.l20.m1.1.1.3.2.3.2.1.cmml">¬Ø</mo></mover><mrow id="algx2.l20.m1.1.1.3.2.3.3" xref="algx2.l20.m1.1.1.3.2.3.3.cmml"><mi id="algx2.l20.m1.1.1.3.2.3.3.2" xref="algx2.l20.m1.1.1.3.2.3.3.2.cmml">t</mi><mo id="algx2.l20.m1.1.1.3.2.3.3.1" xref="algx2.l20.m1.1.1.3.2.3.3.1.cmml">‚àí</mo><mn id="algx2.l20.m1.1.1.3.2.3.3.3" xref="algx2.l20.m1.1.1.3.2.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="algx2.l20.m1.1.1.3.1" xref="algx2.l20.m1.1.1.3.1.cmml">+</mo><msup id="algx2.l20.m1.1.1.3.3" xref="algx2.l20.m1.1.1.3.3.cmml"><mover accent="true" id="algx2.l20.m1.1.1.3.3.2" xref="algx2.l20.m1.1.1.3.3.2.cmml"><mi mathvariant="normal" id="algx2.l20.m1.1.1.3.3.2.2" xref="algx2.l20.m1.1.1.3.3.2.2.cmml">Œî</mi><mo id="algx2.l20.m1.1.1.3.3.2.1" xref="algx2.l20.m1.1.1.3.3.2.1.cmml">~</mo></mover><mi id="algx2.l20.m1.1.1.3.3.3" xref="algx2.l20.m1.1.1.3.3.3.cmml">t</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l20.m1.1b"><apply id="algx2.l20.m1.1.1.cmml" xref="algx2.l20.m1.1.1"><eq id="algx2.l20.m1.1.1.1.cmml" xref="algx2.l20.m1.1.1.1"></eq><apply id="algx2.l20.m1.1.1.2.cmml" xref="algx2.l20.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l20.m1.1.1.2.1.cmml" xref="algx2.l20.m1.1.1.2">superscript</csymbol><apply id="algx2.l20.m1.1.1.2.2.cmml" xref="algx2.l20.m1.1.1.2.2"><ci id="algx2.l20.m1.1.1.2.2.1.cmml" xref="algx2.l20.m1.1.1.2.2.1">¬Ø</ci><ci id="algx2.l20.m1.1.1.2.2.2.cmml" xref="algx2.l20.m1.1.1.2.2.2">Œî</ci></apply><ci id="algx2.l20.m1.1.1.2.3.cmml" xref="algx2.l20.m1.1.1.2.3">ùë°</ci></apply><apply id="algx2.l20.m1.1.1.3.cmml" xref="algx2.l20.m1.1.1.3"><plus id="algx2.l20.m1.1.1.3.1.cmml" xref="algx2.l20.m1.1.1.3.1"></plus><apply id="algx2.l20.m1.1.1.3.2.cmml" xref="algx2.l20.m1.1.1.3.2"><times id="algx2.l20.m1.1.1.3.2.1.cmml" xref="algx2.l20.m1.1.1.3.2.1"></times><ci id="algx2.l20.m1.1.1.3.2.2.cmml" xref="algx2.l20.m1.1.1.3.2.2">ùõΩ</ci><apply id="algx2.l20.m1.1.1.3.2.3.cmml" xref="algx2.l20.m1.1.1.3.2.3"><csymbol cd="ambiguous" id="algx2.l20.m1.1.1.3.2.3.1.cmml" xref="algx2.l20.m1.1.1.3.2.3">superscript</csymbol><apply id="algx2.l20.m1.1.1.3.2.3.2.cmml" xref="algx2.l20.m1.1.1.3.2.3.2"><ci id="algx2.l20.m1.1.1.3.2.3.2.1.cmml" xref="algx2.l20.m1.1.1.3.2.3.2.1">¬Ø</ci><ci id="algx2.l20.m1.1.1.3.2.3.2.2.cmml" xref="algx2.l20.m1.1.1.3.2.3.2.2">Œî</ci></apply><apply id="algx2.l20.m1.1.1.3.2.3.3.cmml" xref="algx2.l20.m1.1.1.3.2.3.3"><minus id="algx2.l20.m1.1.1.3.2.3.3.1.cmml" xref="algx2.l20.m1.1.1.3.2.3.3.1"></minus><ci id="algx2.l20.m1.1.1.3.2.3.3.2.cmml" xref="algx2.l20.m1.1.1.3.2.3.3.2">ùë°</ci><cn type="integer" id="algx2.l20.m1.1.1.3.2.3.3.3.cmml" xref="algx2.l20.m1.1.1.3.2.3.3.3">1</cn></apply></apply></apply><apply id="algx2.l20.m1.1.1.3.3.cmml" xref="algx2.l20.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx2.l20.m1.1.1.3.3.1.cmml" xref="algx2.l20.m1.1.1.3.3">superscript</csymbol><apply id="algx2.l20.m1.1.1.3.3.2.cmml" xref="algx2.l20.m1.1.1.3.3.2"><ci id="algx2.l20.m1.1.1.3.3.2.1.cmml" xref="algx2.l20.m1.1.1.3.3.2.1">~</ci><ci id="algx2.l20.m1.1.1.3.3.2.2.cmml" xref="algx2.l20.m1.1.1.3.3.2.2">Œî</ci></apply><ci id="algx2.l20.m1.1.1.3.3.3.cmml" xref="algx2.l20.m1.1.1.3.3.3">ùë°</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l20.m1.1c">\bar{\Delta}^{t}=\beta\bar{\Delta}^{t-1}+\tilde{\Delta}^{t}</annotation></semantics></math>, <math id="algx2.l20.m2.1" class="ltx_Math" alttext="\theta^{t+1}\leftarrow\theta^{0}+\eta_{s}\bar{\Delta}^{t}" display="inline"><semantics id="algx2.l20.m2.1a"><mrow id="algx2.l20.m2.1.1" xref="algx2.l20.m2.1.1.cmml"><msup id="algx2.l20.m2.1.1.2" xref="algx2.l20.m2.1.1.2.cmml"><mi id="algx2.l20.m2.1.1.2.2" xref="algx2.l20.m2.1.1.2.2.cmml">Œ∏</mi><mrow id="algx2.l20.m2.1.1.2.3" xref="algx2.l20.m2.1.1.2.3.cmml"><mi id="algx2.l20.m2.1.1.2.3.2" xref="algx2.l20.m2.1.1.2.3.2.cmml">t</mi><mo id="algx2.l20.m2.1.1.2.3.1" xref="algx2.l20.m2.1.1.2.3.1.cmml">+</mo><mn id="algx2.l20.m2.1.1.2.3.3" xref="algx2.l20.m2.1.1.2.3.3.cmml">1</mn></mrow></msup><mo stretchy="false" id="algx2.l20.m2.1.1.1" xref="algx2.l20.m2.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l20.m2.1.1.3" xref="algx2.l20.m2.1.1.3.cmml"><msup id="algx2.l20.m2.1.1.3.2" xref="algx2.l20.m2.1.1.3.2.cmml"><mi id="algx2.l20.m2.1.1.3.2.2" xref="algx2.l20.m2.1.1.3.2.2.cmml">Œ∏</mi><mn id="algx2.l20.m2.1.1.3.2.3" xref="algx2.l20.m2.1.1.3.2.3.cmml">0</mn></msup><mo id="algx2.l20.m2.1.1.3.1" xref="algx2.l20.m2.1.1.3.1.cmml">+</mo><mrow id="algx2.l20.m2.1.1.3.3" xref="algx2.l20.m2.1.1.3.3.cmml"><msub id="algx2.l20.m2.1.1.3.3.2" xref="algx2.l20.m2.1.1.3.3.2.cmml"><mi id="algx2.l20.m2.1.1.3.3.2.2" xref="algx2.l20.m2.1.1.3.3.2.2.cmml">Œ∑</mi><mi id="algx2.l20.m2.1.1.3.3.2.3" xref="algx2.l20.m2.1.1.3.3.2.3.cmml">s</mi></msub><mo lspace="0em" rspace="0em" id="algx2.l20.m2.1.1.3.3.1" xref="algx2.l20.m2.1.1.3.3.1.cmml">‚Äã</mo><msup id="algx2.l20.m2.1.1.3.3.3" xref="algx2.l20.m2.1.1.3.3.3.cmml"><mover accent="true" id="algx2.l20.m2.1.1.3.3.3.2" xref="algx2.l20.m2.1.1.3.3.3.2.cmml"><mi mathvariant="normal" id="algx2.l20.m2.1.1.3.3.3.2.2" xref="algx2.l20.m2.1.1.3.3.3.2.2.cmml">Œî</mi><mo id="algx2.l20.m2.1.1.3.3.3.2.1" xref="algx2.l20.m2.1.1.3.3.3.2.1.cmml">¬Ø</mo></mover><mi id="algx2.l20.m2.1.1.3.3.3.3" xref="algx2.l20.m2.1.1.3.3.3.3.cmml">t</mi></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l20.m2.1b"><apply id="algx2.l20.m2.1.1.cmml" xref="algx2.l20.m2.1.1"><ci id="algx2.l20.m2.1.1.1.cmml" xref="algx2.l20.m2.1.1.1">‚Üê</ci><apply id="algx2.l20.m2.1.1.2.cmml" xref="algx2.l20.m2.1.1.2"><csymbol cd="ambiguous" id="algx2.l20.m2.1.1.2.1.cmml" xref="algx2.l20.m2.1.1.2">superscript</csymbol><ci id="algx2.l20.m2.1.1.2.2.cmml" xref="algx2.l20.m2.1.1.2.2">ùúÉ</ci><apply id="algx2.l20.m2.1.1.2.3.cmml" xref="algx2.l20.m2.1.1.2.3"><plus id="algx2.l20.m2.1.1.2.3.1.cmml" xref="algx2.l20.m2.1.1.2.3.1"></plus><ci id="algx2.l20.m2.1.1.2.3.2.cmml" xref="algx2.l20.m2.1.1.2.3.2">ùë°</ci><cn type="integer" id="algx2.l20.m2.1.1.2.3.3.cmml" xref="algx2.l20.m2.1.1.2.3.3">1</cn></apply></apply><apply id="algx2.l20.m2.1.1.3.cmml" xref="algx2.l20.m2.1.1.3"><plus id="algx2.l20.m2.1.1.3.1.cmml" xref="algx2.l20.m2.1.1.3.1"></plus><apply id="algx2.l20.m2.1.1.3.2.cmml" xref="algx2.l20.m2.1.1.3.2"><csymbol cd="ambiguous" id="algx2.l20.m2.1.1.3.2.1.cmml" xref="algx2.l20.m2.1.1.3.2">superscript</csymbol><ci id="algx2.l20.m2.1.1.3.2.2.cmml" xref="algx2.l20.m2.1.1.3.2.2">ùúÉ</ci><cn type="integer" id="algx2.l20.m2.1.1.3.2.3.cmml" xref="algx2.l20.m2.1.1.3.2.3">0</cn></apply><apply id="algx2.l20.m2.1.1.3.3.cmml" xref="algx2.l20.m2.1.1.3.3"><times id="algx2.l20.m2.1.1.3.3.1.cmml" xref="algx2.l20.m2.1.1.3.3.1"></times><apply id="algx2.l20.m2.1.1.3.3.2.cmml" xref="algx2.l20.m2.1.1.3.3.2"><csymbol cd="ambiguous" id="algx2.l20.m2.1.1.3.3.2.1.cmml" xref="algx2.l20.m2.1.1.3.3.2">subscript</csymbol><ci id="algx2.l20.m2.1.1.3.3.2.2.cmml" xref="algx2.l20.m2.1.1.3.3.2.2">ùúÇ</ci><ci id="algx2.l20.m2.1.1.3.3.2.3.cmml" xref="algx2.l20.m2.1.1.3.3.2.3">ùë†</ci></apply><apply id="algx2.l20.m2.1.1.3.3.3.cmml" xref="algx2.l20.m2.1.1.3.3.3"><csymbol cd="ambiguous" id="algx2.l20.m2.1.1.3.3.3.1.cmml" xref="algx2.l20.m2.1.1.3.3.3">superscript</csymbol><apply id="algx2.l20.m2.1.1.3.3.3.2.cmml" xref="algx2.l20.m2.1.1.3.3.3.2"><ci id="algx2.l20.m2.1.1.3.3.3.2.1.cmml" xref="algx2.l20.m2.1.1.3.3.3.2.1">¬Ø</ci><ci id="algx2.l20.m2.1.1.3.3.3.2.2.cmml" xref="algx2.l20.m2.1.1.3.3.3.2.2">Œî</ci></apply><ci id="algx2.l20.m2.1.1.3.3.3.3.cmml" xref="algx2.l20.m2.1.1.3.3.3.3">ùë°</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l20.m2.1c">\theta^{t+1}\leftarrow\theta^{0}+\eta_{s}\bar{\Delta}^{t}</annotation></semantics></math>


<span id="algx2.l20.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="algx2.l21" class="ltx_listingline">¬†¬†<span id="algx2.l21.1" class="ltx_text ltx_font_bold">function</span>¬†ClientUpdate(<math id="algx2.l21.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="algx2.l21.m1.1a"><mi id="algx2.l21.m1.1.1" xref="algx2.l21.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algx2.l21.m1.1b"><ci id="algx2.l21.m1.1.1.cmml" xref="algx2.l21.m1.1.1">ùëñ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l21.m1.1c">i</annotation></semantics></math>, <math id="algx2.l21.m2.2" class="ltx_Math" alttext="\theta_{0},\xi" display="inline"><semantics id="algx2.l21.m2.2a"><mrow id="algx2.l21.m2.2.2.1" xref="algx2.l21.m2.2.2.2.cmml"><msub id="algx2.l21.m2.2.2.1.1" xref="algx2.l21.m2.2.2.1.1.cmml"><mi id="algx2.l21.m2.2.2.1.1.2" xref="algx2.l21.m2.2.2.1.1.2.cmml">Œ∏</mi><mn id="algx2.l21.m2.2.2.1.1.3" xref="algx2.l21.m2.2.2.1.1.3.cmml">0</mn></msub><mo id="algx2.l21.m2.2.2.1.2" xref="algx2.l21.m2.2.2.2.cmml">,</mo><mi id="algx2.l21.m2.1.1" xref="algx2.l21.m2.1.1.cmml">Œæ</mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l21.m2.2b"><list id="algx2.l21.m2.2.2.2.cmml" xref="algx2.l21.m2.2.2.1"><apply id="algx2.l21.m2.2.2.1.1.cmml" xref="algx2.l21.m2.2.2.1.1"><csymbol cd="ambiguous" id="algx2.l21.m2.2.2.1.1.1.cmml" xref="algx2.l21.m2.2.2.1.1">subscript</csymbol><ci id="algx2.l21.m2.2.2.1.1.2.cmml" xref="algx2.l21.m2.2.2.1.1.2">ùúÉ</ci><cn type="integer" id="algx2.l21.m2.2.2.1.1.3.cmml" xref="algx2.l21.m2.2.2.1.1.3">0</cn></apply><ci id="algx2.l21.m2.1.1.cmml" xref="algx2.l21.m2.1.1">ùúâ</ci></list></annotation-xml><annotation encoding="application/x-tex" id="algx2.l21.m2.2c">\theta_{0},\xi</annotation></semantics></math>)¬†



</span>
<span id="algx2.l22" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l22.m1.1" class="ltx_Math" alttext="\theta\leftarrow\theta_{0}" display="inline"><semantics id="algx2.l22.m1.1a"><mrow id="algx2.l22.m1.1.1" xref="algx2.l22.m1.1.1.cmml"><mi id="algx2.l22.m1.1.1.2" xref="algx2.l22.m1.1.1.2.cmml">Œ∏</mi><mo stretchy="false" id="algx2.l22.m1.1.1.1" xref="algx2.l22.m1.1.1.1.cmml">‚Üê</mo><msub id="algx2.l22.m1.1.1.3" xref="algx2.l22.m1.1.1.3.cmml"><mi id="algx2.l22.m1.1.1.3.2" xref="algx2.l22.m1.1.1.3.2.cmml">Œ∏</mi><mn id="algx2.l22.m1.1.1.3.3" xref="algx2.l22.m1.1.1.3.3.cmml">0</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="algx2.l22.m1.1b"><apply id="algx2.l22.m1.1.1.cmml" xref="algx2.l22.m1.1.1"><ci id="algx2.l22.m1.1.1.1.cmml" xref="algx2.l22.m1.1.1.1">‚Üê</ci><ci id="algx2.l22.m1.1.1.2.cmml" xref="algx2.l22.m1.1.1.2">ùúÉ</ci><apply id="algx2.l22.m1.1.1.3.cmml" xref="algx2.l22.m1.1.1.3"><csymbol cd="ambiguous" id="algx2.l22.m1.1.1.3.1.cmml" xref="algx2.l22.m1.1.1.3">subscript</csymbol><ci id="algx2.l22.m1.1.1.3.2.cmml" xref="algx2.l22.m1.1.1.3.2">ùúÉ</ci><cn type="integer" id="algx2.l22.m1.1.1.3.3.cmml" xref="algx2.l22.m1.1.1.3.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l22.m1.1c">\theta\leftarrow\theta_{0}</annotation></semantics></math>

</span>
<span id="algx2.l23" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l23.2" class="ltx_text"><math id="algx2.l23.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="D_{\xi}\leftarrow" display="inline"><semantics id="algx2.l23.1.m1.1a"><mrow id="algx2.l23.1.m1.1.1" xref="algx2.l23.1.m1.1.1.cmml"><msub id="algx2.l23.1.m1.1.1.2" xref="algx2.l23.1.m1.1.1.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l23.1.m1.1.1.2.2" xref="algx2.l23.1.m1.1.1.2.2.cmml">D</mi><mi mathbackground="#FFEFEF" id="algx2.l23.1.m1.1.1.2.3" xref="algx2.l23.1.m1.1.1.2.3.cmml">Œæ</mi></msub><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l23.1.m1.1.1.1" xref="algx2.l23.1.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l23.1.m1.1.1.3" xref="algx2.l23.1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l23.1.m1.1b"><apply id="algx2.l23.1.m1.1.1.cmml" xref="algx2.l23.1.m1.1.1"><ci id="algx2.l23.1.m1.1.1.1.cmml" xref="algx2.l23.1.m1.1.1.1">‚Üê</ci><apply id="algx2.l23.1.m1.1.1.2.cmml" xref="algx2.l23.1.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l23.1.m1.1.1.2.1.cmml" xref="algx2.l23.1.m1.1.1.2">subscript</csymbol><ci id="algx2.l23.1.m1.1.1.2.2.cmml" xref="algx2.l23.1.m1.1.1.2.2">ùê∑</ci><ci id="algx2.l23.1.m1.1.1.2.3.cmml" xref="algx2.l23.1.m1.1.1.2.3">ùúâ</ci></apply><csymbol cd="latexml" id="algx2.l23.1.m1.1.1.3.cmml" xref="algx2.l23.1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l23.1.m1.1c">D_{\xi}\leftarrow</annotation></semantics></math><span id="algx2.l23.2.1" class="ltx_text" style="background-color:#FFEFEF;"> diagonal matrix with <math id="algx2.l23.2.1.m1.1" class="ltx_Math" alttext="\xi" display="inline"><semantics id="algx2.l23.2.1.m1.1a"><mi mathbackground="#FFEFEF" id="algx2.l23.2.1.m1.1.1" xref="algx2.l23.2.1.m1.1.1.cmml">Œæ</mi><annotation-xml encoding="MathML-Content" id="algx2.l23.2.1.m1.1b"><ci id="algx2.l23.2.1.m1.1.1.cmml" xref="algx2.l23.2.1.m1.1.1">ùúâ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l23.2.1.m1.1c">\xi</annotation></semantics></math> on the diagonal</span></span>

</span>
<span id="algx2.l24" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l24.m1.1" class="ltx_Math" alttext="\mathcal{G}\leftarrow" display="inline"><semantics id="algx2.l24.m1.1a"><mrow id="algx2.l24.m1.1.1" xref="algx2.l24.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algx2.l24.m1.1.1.2" xref="algx2.l24.m1.1.1.2.cmml">ùí¢</mi><mo stretchy="false" id="algx2.l24.m1.1.1.1" xref="algx2.l24.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l24.m1.1.1.3" xref="algx2.l24.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l24.m1.1b"><apply id="algx2.l24.m1.1.1.cmml" xref="algx2.l24.m1.1.1"><ci id="algx2.l24.m1.1.1.1.cmml" xref="algx2.l24.m1.1.1.1">‚Üê</ci><ci id="algx2.l24.m1.1.1.2.cmml" xref="algx2.l24.m1.1.1.2">ùí¢</ci><csymbol cd="latexml" id="algx2.l24.m1.1.1.3.cmml" xref="algx2.l24.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l24.m1.1c">\mathcal{G}\leftarrow</annotation></semantics></math> (user <math id="algx2.l24.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="algx2.l24.m2.1a"><mi id="algx2.l24.m2.1.1" xref="algx2.l24.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algx2.l24.m2.1b"><ci id="algx2.l24.m2.1.1.cmml" xref="algx2.l24.m2.1.1">ùëñ</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l24.m2.1c">i</annotation></semantics></math>‚Äôs local data split into batches)

</span>
<span id="algx2.l25" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l25.1" class="ltx_text ltx_font_bold">for</span>¬†batch <math id="algx2.l25.m1.1" class="ltx_Math" alttext="g\in\mathcal{G}" display="inline"><semantics id="algx2.l25.m1.1a"><mrow id="algx2.l25.m1.1.1" xref="algx2.l25.m1.1.1.cmml"><mi id="algx2.l25.m1.1.1.2" xref="algx2.l25.m1.1.1.2.cmml">g</mi><mo id="algx2.l25.m1.1.1.1" xref="algx2.l25.m1.1.1.1.cmml">‚àà</mo><mi class="ltx_font_mathcaligraphic" id="algx2.l25.m1.1.1.3" xref="algx2.l25.m1.1.1.3.cmml">ùí¢</mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l25.m1.1b"><apply id="algx2.l25.m1.1.1.cmml" xref="algx2.l25.m1.1.1"><in id="algx2.l25.m1.1.1.1.cmml" xref="algx2.l25.m1.1.1.1"></in><ci id="algx2.l25.m1.1.1.2.cmml" xref="algx2.l25.m1.1.1.2">ùëî</ci><ci id="algx2.l25.m1.1.1.3.cmml" xref="algx2.l25.m1.1.1.3">ùí¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l25.m1.1c">g\in\mathcal{G}</annotation></semantics></math>¬†<span id="algx2.l25.2" class="ltx_text ltx_font_bold">do</span>



</span>
<span id="algx2.l26" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<math id="algx2.l26.m1.2" class="ltx_Math" alttext="\theta\leftarrow\theta-\eta_{c}\nabla\ell(\theta;g)" display="inline"><semantics id="algx2.l26.m1.2a"><mrow id="algx2.l26.m1.2.3" xref="algx2.l26.m1.2.3.cmml"><mi id="algx2.l26.m1.2.3.2" xref="algx2.l26.m1.2.3.2.cmml">Œ∏</mi><mo stretchy="false" id="algx2.l26.m1.2.3.1" xref="algx2.l26.m1.2.3.1.cmml">‚Üê</mo><mrow id="algx2.l26.m1.2.3.3" xref="algx2.l26.m1.2.3.3.cmml"><mi id="algx2.l26.m1.2.3.3.2" xref="algx2.l26.m1.2.3.3.2.cmml">Œ∏</mi><mo id="algx2.l26.m1.2.3.3.1" xref="algx2.l26.m1.2.3.3.1.cmml">‚àí</mo><mrow id="algx2.l26.m1.2.3.3.3" xref="algx2.l26.m1.2.3.3.3.cmml"><msub id="algx2.l26.m1.2.3.3.3.2" xref="algx2.l26.m1.2.3.3.3.2.cmml"><mi id="algx2.l26.m1.2.3.3.3.2.2" xref="algx2.l26.m1.2.3.3.3.2.2.cmml">Œ∑</mi><mi id="algx2.l26.m1.2.3.3.3.2.3" xref="algx2.l26.m1.2.3.3.3.2.3.cmml">c</mi></msub><mo lspace="0.167em" rspace="0em" id="algx2.l26.m1.2.3.3.3.1" xref="algx2.l26.m1.2.3.3.3.1.cmml">‚Äã</mo><mrow id="algx2.l26.m1.2.3.3.3.3" xref="algx2.l26.m1.2.3.3.3.3.cmml"><mo rspace="0.167em" id="algx2.l26.m1.2.3.3.3.3.1" xref="algx2.l26.m1.2.3.3.3.3.1.cmml">‚àá</mo><mi mathvariant="normal" id="algx2.l26.m1.2.3.3.3.3.2" xref="algx2.l26.m1.2.3.3.3.3.2.cmml">‚Ñì</mi></mrow><mo lspace="0em" rspace="0em" id="algx2.l26.m1.2.3.3.3.1a" xref="algx2.l26.m1.2.3.3.3.1.cmml">‚Äã</mo><mrow id="algx2.l26.m1.2.3.3.3.4.2" xref="algx2.l26.m1.2.3.3.3.4.1.cmml"><mo stretchy="false" id="algx2.l26.m1.2.3.3.3.4.2.1" xref="algx2.l26.m1.2.3.3.3.4.1.cmml">(</mo><mi id="algx2.l26.m1.1.1" xref="algx2.l26.m1.1.1.cmml">Œ∏</mi><mo id="algx2.l26.m1.2.3.3.3.4.2.2" xref="algx2.l26.m1.2.3.3.3.4.1.cmml">;</mo><mi id="algx2.l26.m1.2.2" xref="algx2.l26.m1.2.2.cmml">g</mi><mo stretchy="false" id="algx2.l26.m1.2.3.3.3.4.2.3" xref="algx2.l26.m1.2.3.3.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l26.m1.2b"><apply id="algx2.l26.m1.2.3.cmml" xref="algx2.l26.m1.2.3"><ci id="algx2.l26.m1.2.3.1.cmml" xref="algx2.l26.m1.2.3.1">‚Üê</ci><ci id="algx2.l26.m1.2.3.2.cmml" xref="algx2.l26.m1.2.3.2">ùúÉ</ci><apply id="algx2.l26.m1.2.3.3.cmml" xref="algx2.l26.m1.2.3.3"><minus id="algx2.l26.m1.2.3.3.1.cmml" xref="algx2.l26.m1.2.3.3.1"></minus><ci id="algx2.l26.m1.2.3.3.2.cmml" xref="algx2.l26.m1.2.3.3.2">ùúÉ</ci><apply id="algx2.l26.m1.2.3.3.3.cmml" xref="algx2.l26.m1.2.3.3.3"><times id="algx2.l26.m1.2.3.3.3.1.cmml" xref="algx2.l26.m1.2.3.3.3.1"></times><apply id="algx2.l26.m1.2.3.3.3.2.cmml" xref="algx2.l26.m1.2.3.3.3.2"><csymbol cd="ambiguous" id="algx2.l26.m1.2.3.3.3.2.1.cmml" xref="algx2.l26.m1.2.3.3.3.2">subscript</csymbol><ci id="algx2.l26.m1.2.3.3.3.2.2.cmml" xref="algx2.l26.m1.2.3.3.3.2.2">ùúÇ</ci><ci id="algx2.l26.m1.2.3.3.3.2.3.cmml" xref="algx2.l26.m1.2.3.3.3.2.3">ùëê</ci></apply><apply id="algx2.l26.m1.2.3.3.3.3.cmml" xref="algx2.l26.m1.2.3.3.3.3"><ci id="algx2.l26.m1.2.3.3.3.3.1.cmml" xref="algx2.l26.m1.2.3.3.3.3.1">‚àá</ci><ci id="algx2.l26.m1.2.3.3.3.3.2.cmml" xref="algx2.l26.m1.2.3.3.3.3.2">‚Ñì</ci></apply><list id="algx2.l26.m1.2.3.3.3.4.1.cmml" xref="algx2.l26.m1.2.3.3.3.4.2"><ci id="algx2.l26.m1.1.1.cmml" xref="algx2.l26.m1.1.1">ùúÉ</ci><ci id="algx2.l26.m1.2.2.cmml" xref="algx2.l26.m1.2.2">ùëî</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l26.m1.2c">\theta\leftarrow\theta-\eta_{c}\nabla\ell(\theta;g)</annotation></semantics></math>

</span>
<span id="algx2.l27" class="ltx_listingline">¬†¬†¬†¬†¬†<math id="algx2.l27.m1.1" class="ltx_Math" alttext="\Delta\leftarrow\theta-\theta_{0}" display="inline"><semantics id="algx2.l27.m1.1a"><mrow id="algx2.l27.m1.1.1" xref="algx2.l27.m1.1.1.cmml"><mi mathvariant="normal" id="algx2.l27.m1.1.1.2" xref="algx2.l27.m1.1.1.2.cmml">Œî</mi><mo stretchy="false" id="algx2.l27.m1.1.1.1" xref="algx2.l27.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l27.m1.1.1.3" xref="algx2.l27.m1.1.1.3.cmml"><mi id="algx2.l27.m1.1.1.3.2" xref="algx2.l27.m1.1.1.3.2.cmml">Œ∏</mi><mo id="algx2.l27.m1.1.1.3.1" xref="algx2.l27.m1.1.1.3.1.cmml">‚àí</mo><msub id="algx2.l27.m1.1.1.3.3" xref="algx2.l27.m1.1.1.3.3.cmml"><mi id="algx2.l27.m1.1.1.3.3.2" xref="algx2.l27.m1.1.1.3.3.2.cmml">Œ∏</mi><mn id="algx2.l27.m1.1.1.3.3.3" xref="algx2.l27.m1.1.1.3.3.3.cmml">0</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l27.m1.1b"><apply id="algx2.l27.m1.1.1.cmml" xref="algx2.l27.m1.1.1"><ci id="algx2.l27.m1.1.1.1.cmml" xref="algx2.l27.m1.1.1.1">‚Üê</ci><ci id="algx2.l27.m1.1.1.2.cmml" xref="algx2.l27.m1.1.1.2">Œî</ci><apply id="algx2.l27.m1.1.1.3.cmml" xref="algx2.l27.m1.1.1.3"><minus id="algx2.l27.m1.1.1.3.1.cmml" xref="algx2.l27.m1.1.1.3.1"></minus><ci id="algx2.l27.m1.1.1.3.2.cmml" xref="algx2.l27.m1.1.1.3.2">ùúÉ</ci><apply id="algx2.l27.m1.1.1.3.3.cmml" xref="algx2.l27.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx2.l27.m1.1.1.3.3.1.cmml" xref="algx2.l27.m1.1.1.3.3">subscript</csymbol><ci id="algx2.l27.m1.1.1.3.3.2.cmml" xref="algx2.l27.m1.1.1.3.3.2">ùúÉ</ci><cn type="integer" id="algx2.l27.m1.1.1.3.3.3.cmml" xref="algx2.l27.m1.1.1.3.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l27.m1.1c">\Delta\leftarrow\theta-\theta_{0}</annotation></semantics></math>

</span>
<span id="algx2.l28" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l28.2" class="ltx_text"><math id="algx2.l28.1.m1.4" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\Delta\leftarrow\Delta\cdot s\cdot\min{\left(1,\frac{C}{||\Delta||_{2}}\right)}\quad" display="inline"><semantics id="algx2.l28.1.m1.4a"><mrow id="algx2.l28.1.m1.4.4.1" xref="algx2.l28.1.m1.4.4.1.1.cmml"><mrow id="algx2.l28.1.m1.4.4.1.1" xref="algx2.l28.1.m1.4.4.1.1.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l28.1.m1.4.4.1.1.2" xref="algx2.l28.1.m1.4.4.1.1.2.cmml">Œî</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l28.1.m1.4.4.1.1.1" xref="algx2.l28.1.m1.4.4.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l28.1.m1.4.4.1.1.3" xref="algx2.l28.1.m1.4.4.1.1.3.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l28.1.m1.4.4.1.1.3.2" xref="algx2.l28.1.m1.4.4.1.1.3.2.cmml">Œî</mi><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l28.1.m1.4.4.1.1.3.1" xref="algx2.l28.1.m1.4.4.1.1.3.1.cmml">‚ãÖ</mo><mi mathbackground="#FFEFEF" id="algx2.l28.1.m1.4.4.1.1.3.3" xref="algx2.l28.1.m1.4.4.1.1.3.3.cmml">s</mi><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l28.1.m1.4.4.1.1.3.1a" xref="algx2.l28.1.m1.4.4.1.1.3.1.cmml">‚ãÖ</mo><mrow id="algx2.l28.1.m1.4.4.1.1.3.4.2" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l28.1.m1.2.2" xref="algx2.l28.1.m1.2.2.cmml">min</mi><mo id="algx2.l28.1.m1.4.4.1.1.3.4.2a" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml">‚Å°</mo><mrow id="algx2.l28.1.m1.4.4.1.1.3.4.2.1" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l28.1.m1.4.4.1.1.3.4.2.1.1" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml">(</mo><mn mathbackground="#FFEFEF" id="algx2.l28.1.m1.3.3" xref="algx2.l28.1.m1.3.3.cmml">1</mn><mo mathbackground="#FFEFEF" id="algx2.l28.1.m1.4.4.1.1.3.4.2.1.2" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml">,</mo><mfrac id="algx2.l28.1.m1.1.1" xref="algx2.l28.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l28.1.m1.1.1.3" xref="algx2.l28.1.m1.1.1.3.cmml">C</mi><msub id="algx2.l28.1.m1.1.1.1" xref="algx2.l28.1.m1.1.1.1.cmml"><mrow id="algx2.l28.1.m1.1.1.1.3.2" xref="algx2.l28.1.m1.1.1.1.3.1.cmml"><mo mathbackground="#FFEFEF" maxsize="142%" minsize="142%" id="algx2.l28.1.m1.1.1.1.3.2.1" xref="algx2.l28.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l28.1.m1.1.1.1.1" xref="algx2.l28.1.m1.1.1.1.1.cmml">Œî</mi><mo mathbackground="#FFEFEF" maxsize="142%" minsize="142%" id="algx2.l28.1.m1.1.1.1.3.2.2" xref="algx2.l28.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo></mrow><mn mathbackground="#FFEFEF" id="algx2.l28.1.m1.1.1.1.4" xref="algx2.l28.1.m1.1.1.1.4.cmml">2</mn></msub></mfrac><mo mathbackground="#FFEFEF" id="algx2.l28.1.m1.4.4.1.1.3.4.2.1.3" xref="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml">)</mo></mrow></mrow></mrow></mrow><mspace width="1em" id="algx2.l28.1.m1.4.4.1.2" xref="algx2.l28.1.m1.4.4.1.1.cmml"></mspace></mrow><annotation-xml encoding="MathML-Content" id="algx2.l28.1.m1.4b"><apply id="algx2.l28.1.m1.4.4.1.1.cmml" xref="algx2.l28.1.m1.4.4.1"><ci id="algx2.l28.1.m1.4.4.1.1.1.cmml" xref="algx2.l28.1.m1.4.4.1.1.1">‚Üê</ci><ci id="algx2.l28.1.m1.4.4.1.1.2.cmml" xref="algx2.l28.1.m1.4.4.1.1.2">Œî</ci><apply id="algx2.l28.1.m1.4.4.1.1.3.cmml" xref="algx2.l28.1.m1.4.4.1.1.3"><ci id="algx2.l28.1.m1.4.4.1.1.3.1.cmml" xref="algx2.l28.1.m1.4.4.1.1.3.1">‚ãÖ</ci><ci id="algx2.l28.1.m1.4.4.1.1.3.2.cmml" xref="algx2.l28.1.m1.4.4.1.1.3.2">Œî</ci><ci id="algx2.l28.1.m1.4.4.1.1.3.3.cmml" xref="algx2.l28.1.m1.4.4.1.1.3.3">ùë†</ci><apply id="algx2.l28.1.m1.4.4.1.1.3.4.1.cmml" xref="algx2.l28.1.m1.4.4.1.1.3.4.2"><min id="algx2.l28.1.m1.2.2.cmml" xref="algx2.l28.1.m1.2.2"></min><cn type="integer" id="algx2.l28.1.m1.3.3.cmml" xref="algx2.l28.1.m1.3.3">1</cn><apply id="algx2.l28.1.m1.1.1.cmml" xref="algx2.l28.1.m1.1.1"><divide id="algx2.l28.1.m1.1.1.2.cmml" xref="algx2.l28.1.m1.1.1"></divide><ci id="algx2.l28.1.m1.1.1.3.cmml" xref="algx2.l28.1.m1.1.1.3">ùê∂</ci><apply id="algx2.l28.1.m1.1.1.1.cmml" xref="algx2.l28.1.m1.1.1.1"><csymbol cd="ambiguous" id="algx2.l28.1.m1.1.1.1.2.cmml" xref="algx2.l28.1.m1.1.1.1">subscript</csymbol><apply id="algx2.l28.1.m1.1.1.1.3.1.cmml" xref="algx2.l28.1.m1.1.1.1.3.2"><csymbol cd="latexml" id="algx2.l28.1.m1.1.1.1.3.1.1.cmml" xref="algx2.l28.1.m1.1.1.1.3.2.1">norm</csymbol><ci id="algx2.l28.1.m1.1.1.1.1.cmml" xref="algx2.l28.1.m1.1.1.1.1">Œî</ci></apply><cn type="integer" id="algx2.l28.1.m1.1.1.1.4.cmml" xref="algx2.l28.1.m1.1.1.1.4">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l28.1.m1.4c">\Delta\leftarrow\Delta\cdot s\cdot\min{\left(1,\frac{C}{||\Delta||_{2}}\right)}\quad</annotation></semantics></math><span id="algx2.l28.2.1" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l28.2.1.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Scale and <math id="algx2.l28.2.1.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\ell_{2}" display="inline"><semantics id="algx2.l28.2.1.1.m1.1a"><msub id="algx2.l28.2.1.1.m1.1.1" xref="algx2.l28.2.1.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" mathcolor="#009900" mathvariant="normal" id="algx2.l28.2.1.1.m1.1.1.2" xref="algx2.l28.2.1.1.m1.1.1.2.cmml">‚Ñì</mi><mn mathbackground="#FFEFEF" mathcolor="#009900" id="algx2.l28.2.1.1.m1.1.1.3" xref="algx2.l28.2.1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="algx2.l28.2.1.1.m1.1b"><apply id="algx2.l28.2.1.1.m1.1.1.cmml" xref="algx2.l28.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx2.l28.2.1.1.m1.1.1.1.cmml" xref="algx2.l28.2.1.1.m1.1.1">subscript</csymbol><ci id="algx2.l28.2.1.1.m1.1.1.2.cmml" xref="algx2.l28.2.1.1.m1.1.1.2">‚Ñì</ci><cn type="integer" id="algx2.l28.2.1.1.m1.1.1.3.cmml" xref="algx2.l28.2.1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l28.2.1.1.m1.1c">\ell_{2}</annotation></semantics></math> clip</span></span></span>

</span>
<span id="algx2.l29" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l29.1" class="ltx_text"><math id="algx2.l29.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\Delta\leftarrow\tilde{H}_{d}\cdot D_{\xi}\cdot\Delta" display="inline"><semantics id="algx2.l29.1.m1.1a"><mrow id="algx2.l29.1.m1.1.1" xref="algx2.l29.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l29.1.m1.1.1.2" xref="algx2.l29.1.m1.1.1.2.cmml">Œî</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l29.1.m1.1.1.1" xref="algx2.l29.1.m1.1.1.1.cmml">‚Üê</mo><mrow id="algx2.l29.1.m1.1.1.3" xref="algx2.l29.1.m1.1.1.3.cmml"><msub id="algx2.l29.1.m1.1.1.3.2" xref="algx2.l29.1.m1.1.1.3.2.cmml"><mover accent="true" id="algx2.l29.1.m1.1.1.3.2.2" xref="algx2.l29.1.m1.1.1.3.2.2.cmml"><mi mathbackground="#FFEFEF" id="algx2.l29.1.m1.1.1.3.2.2.2" xref="algx2.l29.1.m1.1.1.3.2.2.2.cmml">H</mi><mo mathbackground="#FFEFEF" id="algx2.l29.1.m1.1.1.3.2.2.1" xref="algx2.l29.1.m1.1.1.3.2.2.1.cmml">~</mo></mover><mi mathbackground="#FFEFEF" id="algx2.l29.1.m1.1.1.3.2.3" xref="algx2.l29.1.m1.1.1.3.2.3.cmml">d</mi></msub><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l29.1.m1.1.1.3.1" xref="algx2.l29.1.m1.1.1.3.1.cmml">‚ãÖ</mo><msub id="algx2.l29.1.m1.1.1.3.3" xref="algx2.l29.1.m1.1.1.3.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l29.1.m1.1.1.3.3.2" xref="algx2.l29.1.m1.1.1.3.3.2.cmml">D</mi><mi mathbackground="#FFEFEF" id="algx2.l29.1.m1.1.1.3.3.3" xref="algx2.l29.1.m1.1.1.3.3.3.cmml">Œæ</mi></msub><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l29.1.m1.1.1.3.1a" xref="algx2.l29.1.m1.1.1.3.1.cmml">‚ãÖ</mo><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l29.1.m1.1.1.3.4" xref="algx2.l29.1.m1.1.1.3.4.cmml">Œî</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l29.1.m1.1b"><apply id="algx2.l29.1.m1.1.1.cmml" xref="algx2.l29.1.m1.1.1"><ci id="algx2.l29.1.m1.1.1.1.cmml" xref="algx2.l29.1.m1.1.1.1">‚Üê</ci><ci id="algx2.l29.1.m1.1.1.2.cmml" xref="algx2.l29.1.m1.1.1.2">Œî</ci><apply id="algx2.l29.1.m1.1.1.3.cmml" xref="algx2.l29.1.m1.1.1.3"><ci id="algx2.l29.1.m1.1.1.3.1.cmml" xref="algx2.l29.1.m1.1.1.3.1">‚ãÖ</ci><apply id="algx2.l29.1.m1.1.1.3.2.cmml" xref="algx2.l29.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="algx2.l29.1.m1.1.1.3.2.1.cmml" xref="algx2.l29.1.m1.1.1.3.2">subscript</csymbol><apply id="algx2.l29.1.m1.1.1.3.2.2.cmml" xref="algx2.l29.1.m1.1.1.3.2.2"><ci id="algx2.l29.1.m1.1.1.3.2.2.1.cmml" xref="algx2.l29.1.m1.1.1.3.2.2.1">~</ci><ci id="algx2.l29.1.m1.1.1.3.2.2.2.cmml" xref="algx2.l29.1.m1.1.1.3.2.2.2">ùêª</ci></apply><ci id="algx2.l29.1.m1.1.1.3.2.3.cmml" xref="algx2.l29.1.m1.1.1.3.2.3">ùëë</ci></apply><apply id="algx2.l29.1.m1.1.1.3.3.cmml" xref="algx2.l29.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="algx2.l29.1.m1.1.1.3.3.1.cmml" xref="algx2.l29.1.m1.1.1.3.3">subscript</csymbol><ci id="algx2.l29.1.m1.1.1.3.3.2.cmml" xref="algx2.l29.1.m1.1.1.3.3.2">ùê∑</ci><ci id="algx2.l29.1.m1.1.1.3.3.3.cmml" xref="algx2.l29.1.m1.1.1.3.3.3">ùúâ</ci></apply><ci id="algx2.l29.1.m1.1.1.3.4.cmml" xref="algx2.l29.1.m1.1.1.3.4">Œî</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l29.1.m1.1c">\Delta\leftarrow\tilde{H}_{d}\cdot D_{\xi}\cdot\Delta</annotation></semantics></math><span id="algx2.l29.1.1" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l29.1.1.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Randomly rotate</span></span></span>

</span>
<span id="algx2.l30" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l30.2" class="ltx_text"><math id="algx2.l30.1.m1.3" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\Delta\leftarrow\Delta\cdot\min\left(1,\frac{C_{\infty}}{||\Delta||_{\infty}}\right)" display="inline"><semantics id="algx2.l30.1.m1.3a"><mrow id="algx2.l30.1.m1.3.4" xref="algx2.l30.1.m1.3.4.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l30.1.m1.3.4.2" xref="algx2.l30.1.m1.3.4.2.cmml">Œî</mi><mo mathbackground="#FFEFEF" stretchy="false" id="algx2.l30.1.m1.3.4.1" xref="algx2.l30.1.m1.3.4.1.cmml">‚Üê</mo><mrow id="algx2.l30.1.m1.3.4.3" xref="algx2.l30.1.m1.3.4.3.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l30.1.m1.3.4.3.2" xref="algx2.l30.1.m1.3.4.3.2.cmml">Œî</mi><mo lspace="0.222em" mathbackground="#FFEFEF" rspace="0.222em" id="algx2.l30.1.m1.3.4.3.1" xref="algx2.l30.1.m1.3.4.3.1.cmml">‚ãÖ</mo><mrow id="algx2.l30.1.m1.3.4.3.3.2" xref="algx2.l30.1.m1.3.4.3.3.1.cmml"><mi mathbackground="#FFEFEF" id="algx2.l30.1.m1.2.2" xref="algx2.l30.1.m1.2.2.cmml">min</mi><mo id="algx2.l30.1.m1.3.4.3.3.2a" xref="algx2.l30.1.m1.3.4.3.3.1.cmml">‚Å°</mo><mrow id="algx2.l30.1.m1.3.4.3.3.2.1" xref="algx2.l30.1.m1.3.4.3.3.1.cmml"><mo mathbackground="#FFEFEF" id="algx2.l30.1.m1.3.4.3.3.2.1.1" xref="algx2.l30.1.m1.3.4.3.3.1.cmml">(</mo><mn mathbackground="#FFEFEF" id="algx2.l30.1.m1.3.3" xref="algx2.l30.1.m1.3.3.cmml">1</mn><mo mathbackground="#FFEFEF" id="algx2.l30.1.m1.3.4.3.3.2.1.2" xref="algx2.l30.1.m1.3.4.3.3.1.cmml">,</mo><mfrac id="algx2.l30.1.m1.1.1" xref="algx2.l30.1.m1.1.1.cmml"><msub id="algx2.l30.1.m1.1.1.3" xref="algx2.l30.1.m1.1.1.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l30.1.m1.1.1.3.2" xref="algx2.l30.1.m1.1.1.3.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l30.1.m1.1.1.3.3" xref="algx2.l30.1.m1.1.1.3.3.cmml">‚àû</mi></msub><msub id="algx2.l30.1.m1.1.1.1" xref="algx2.l30.1.m1.1.1.1.cmml"><mrow id="algx2.l30.1.m1.1.1.1.3.2" xref="algx2.l30.1.m1.1.1.1.3.1.cmml"><mo mathbackground="#FFEFEF" maxsize="142%" minsize="142%" id="algx2.l30.1.m1.1.1.1.3.2.1" xref="algx2.l30.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l30.1.m1.1.1.1.1" xref="algx2.l30.1.m1.1.1.1.1.cmml">Œî</mi><mo mathbackground="#FFEFEF" maxsize="142%" minsize="142%" id="algx2.l30.1.m1.1.1.1.3.2.2" xref="algx2.l30.1.m1.1.1.1.3.1.1.cmml">‚Äñ</mo></mrow><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l30.1.m1.1.1.1.4" xref="algx2.l30.1.m1.1.1.1.4.cmml">‚àû</mi></msub></mfrac><mo mathbackground="#FFEFEF" id="algx2.l30.1.m1.3.4.3.3.2.1.3" xref="algx2.l30.1.m1.3.4.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l30.1.m1.3b"><apply id="algx2.l30.1.m1.3.4.cmml" xref="algx2.l30.1.m1.3.4"><ci id="algx2.l30.1.m1.3.4.1.cmml" xref="algx2.l30.1.m1.3.4.1">‚Üê</ci><ci id="algx2.l30.1.m1.3.4.2.cmml" xref="algx2.l30.1.m1.3.4.2">Œî</ci><apply id="algx2.l30.1.m1.3.4.3.cmml" xref="algx2.l30.1.m1.3.4.3"><ci id="algx2.l30.1.m1.3.4.3.1.cmml" xref="algx2.l30.1.m1.3.4.3.1">‚ãÖ</ci><ci id="algx2.l30.1.m1.3.4.3.2.cmml" xref="algx2.l30.1.m1.3.4.3.2">Œî</ci><apply id="algx2.l30.1.m1.3.4.3.3.1.cmml" xref="algx2.l30.1.m1.3.4.3.3.2"><min id="algx2.l30.1.m1.2.2.cmml" xref="algx2.l30.1.m1.2.2"></min><cn type="integer" id="algx2.l30.1.m1.3.3.cmml" xref="algx2.l30.1.m1.3.3">1</cn><apply id="algx2.l30.1.m1.1.1.cmml" xref="algx2.l30.1.m1.1.1"><divide id="algx2.l30.1.m1.1.1.2.cmml" xref="algx2.l30.1.m1.1.1"></divide><apply id="algx2.l30.1.m1.1.1.3.cmml" xref="algx2.l30.1.m1.1.1.3"><csymbol cd="ambiguous" id="algx2.l30.1.m1.1.1.3.1.cmml" xref="algx2.l30.1.m1.1.1.3">subscript</csymbol><ci id="algx2.l30.1.m1.1.1.3.2.cmml" xref="algx2.l30.1.m1.1.1.3.2">ùê∂</ci><infinity id="algx2.l30.1.m1.1.1.3.3.cmml" xref="algx2.l30.1.m1.1.1.3.3"></infinity></apply><apply id="algx2.l30.1.m1.1.1.1.cmml" xref="algx2.l30.1.m1.1.1.1"><csymbol cd="ambiguous" id="algx2.l30.1.m1.1.1.1.2.cmml" xref="algx2.l30.1.m1.1.1.1">subscript</csymbol><apply id="algx2.l30.1.m1.1.1.1.3.1.cmml" xref="algx2.l30.1.m1.1.1.1.3.2"><csymbol cd="latexml" id="algx2.l30.1.m1.1.1.1.3.1.1.cmml" xref="algx2.l30.1.m1.1.1.1.3.2.1">norm</csymbol><ci id="algx2.l30.1.m1.1.1.1.1.cmml" xref="algx2.l30.1.m1.1.1.1.1">Œî</ci></apply><infinity id="algx2.l30.1.m1.1.1.1.4.cmml" xref="algx2.l30.1.m1.1.1.1.4"></infinity></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l30.1.m1.3c">\Delta\leftarrow\Delta\cdot\min\left(1,\frac{C_{\infty}}{||\Delta||_{\infty}}\right)</annotation></semantics></math><span id="algx2.l30.2.1" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l30.2.1.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//Clip to bound <math id="algx2.l30.2.1.1.m1.1" class="ltx_Math" style="background-color:#FFEFEF;" alttext="\ell_{\infty}" display="inline"><semantics id="algx2.l30.2.1.1.m1.1a"><msub id="algx2.l30.2.1.1.m1.1.1" xref="algx2.l30.2.1.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" mathcolor="#009900" mathvariant="normal" id="algx2.l30.2.1.1.m1.1.1.2" xref="algx2.l30.2.1.1.m1.1.1.2.cmml">‚Ñì</mi><mi mathbackground="#FFEFEF" mathcolor="#009900" mathvariant="normal" id="algx2.l30.2.1.1.m1.1.1.3" xref="algx2.l30.2.1.1.m1.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l30.2.1.1.m1.1b"><apply id="algx2.l30.2.1.1.m1.1.1.cmml" xref="algx2.l30.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx2.l30.2.1.1.m1.1.1.1.cmml" xref="algx2.l30.2.1.1.m1.1.1">subscript</csymbol><ci id="algx2.l30.2.1.1.m1.1.1.2.cmml" xref="algx2.l30.2.1.1.m1.1.1.2">‚Ñì</ci><infinity id="algx2.l30.2.1.1.m1.1.1.3.cmml" xref="algx2.l30.2.1.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l30.2.1.1.m1.1c">\ell_{\infty}</annotation></semantics></math></span></span></span>
<span id="algx2.l30.3" class="ltx_text" style="background-color:#FFEFEF;"> <span id="algx2.l30.3.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//C</span>onditional stochastic rounding</span>

</span>
<span id="algx2.l31" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l31.1" class="ltx_text ltx_font_bold">repeat</span>


</span>
<span id="algx2.l32" class="ltx_listingline">¬†¬†¬†¬†¬†¬†¬†¬†<math id="algx2.l32.m1.1" class="ltx_Math" alttext="\Delta^{\prime}\leftarrow" display="inline"><semantics id="algx2.l32.m1.1a"><mrow id="algx2.l32.m1.1.1" xref="algx2.l32.m1.1.1.cmml"><msup id="algx2.l32.m1.1.1.2" xref="algx2.l32.m1.1.1.2.cmml"><mi mathvariant="normal" id="algx2.l32.m1.1.1.2.2" xref="algx2.l32.m1.1.1.2.2.cmml">Œî</mi><mo id="algx2.l32.m1.1.1.2.3" xref="algx2.l32.m1.1.1.2.3.cmml">‚Ä≤</mo></msup><mo stretchy="false" id="algx2.l32.m1.1.1.1" xref="algx2.l32.m1.1.1.1.cmml">‚Üê</mo><mi id="algx2.l32.m1.1.1.3" xref="algx2.l32.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l32.m1.1b"><apply id="algx2.l32.m1.1.1.cmml" xref="algx2.l32.m1.1.1"><ci id="algx2.l32.m1.1.1.1.cmml" xref="algx2.l32.m1.1.1.1">‚Üê</ci><apply id="algx2.l32.m1.1.1.2.cmml" xref="algx2.l32.m1.1.1.2"><csymbol cd="ambiguous" id="algx2.l32.m1.1.1.2.1.cmml" xref="algx2.l32.m1.1.1.2">superscript</csymbol><ci id="algx2.l32.m1.1.1.2.2.cmml" xref="algx2.l32.m1.1.1.2.2">Œî</ci><ci id="algx2.l32.m1.1.1.2.3.cmml" xref="algx2.l32.m1.1.1.2.3">‚Ä≤</ci></apply><csymbol cd="latexml" id="algx2.l32.m1.1.1.3.cmml" xref="algx2.l32.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l32.m1.1c">\Delta^{\prime}\leftarrow</annotation></semantics></math> stochastically round the coordinates of <math id="algx2.l32.m2.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="algx2.l32.m2.1a"><mi mathvariant="normal" id="algx2.l32.m2.1.1" xref="algx2.l32.m2.1.1.cmml">Œî</mi><annotation-xml encoding="MathML-Content" id="algx2.l32.m2.1b"><ci id="algx2.l32.m2.1.1.cmml" xref="algx2.l32.m2.1.1">Œî</ci></annotation-xml><annotation encoding="application/x-tex" id="algx2.l32.m2.1c">\Delta</annotation></semantics></math>

</span>
<span id="algx2.l33" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l33.2" class="ltx_text ltx_font_bold">until</span>¬†<math id="algx2.l33.m1.4" class="ltx_Math" alttext="\scriptstyle\|\Delta^{\prime}\|_{2}^{2}\leq s^{2}C^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(sC+\sqrt{d}/2\right)" display="inline"><semantics id="algx2.l33.m1.4a"><mrow id="algx2.l33.m1.4.4" xref="algx2.l33.m1.4.4.cmml"><msubsup id="algx2.l33.m1.3.3.1" xref="algx2.l33.m1.3.3.1.cmml"><mrow id="algx2.l33.m1.3.3.1.1.1.1" xref="algx2.l33.m1.3.3.1.1.1.2.cmml"><mo maxsize="70%" minsize="70%" id="algx2.l33.m1.3.3.1.1.1.1.2" xref="algx2.l33.m1.3.3.1.1.1.2.1.cmml">‚Äñ</mo><msup id="algx2.l33.m1.3.3.1.1.1.1.1" xref="algx2.l33.m1.3.3.1.1.1.1.1.cmml"><mi mathsize="70%" mathvariant="normal" id="algx2.l33.m1.3.3.1.1.1.1.1.2" xref="algx2.l33.m1.3.3.1.1.1.1.1.2.cmml">Œî</mi><mo mathsize="71%" id="algx2.l33.m1.3.3.1.1.1.1.1.3" xref="algx2.l33.m1.3.3.1.1.1.1.1.3.cmml">‚Ä≤</mo></msup><mo maxsize="70%" minsize="70%" id="algx2.l33.m1.3.3.1.1.1.1.3" xref="algx2.l33.m1.3.3.1.1.1.2.1.cmml">‚Äñ</mo></mrow><mn mathsize="71%" id="algx2.l33.m1.3.3.1.1.3" xref="algx2.l33.m1.3.3.1.1.3.cmml">2</mn><mn mathsize="71%" id="algx2.l33.m1.3.3.1.3" xref="algx2.l33.m1.3.3.1.3.cmml">2</mn></msubsup><mo mathsize="70%" id="algx2.l33.m1.4.4.3" xref="algx2.l33.m1.4.4.3.cmml">‚â§</mo><mrow id="algx2.l33.m1.4.4.2" xref="algx2.l33.m1.4.4.2.cmml"><mrow id="algx2.l33.m1.4.4.2.3" xref="algx2.l33.m1.4.4.2.3.cmml"><msup id="algx2.l33.m1.4.4.2.3.2" xref="algx2.l33.m1.4.4.2.3.2.cmml"><mi mathsize="70%" id="algx2.l33.m1.4.4.2.3.2.2" xref="algx2.l33.m1.4.4.2.3.2.2.cmml">s</mi><mn mathsize="71%" id="algx2.l33.m1.4.4.2.3.2.3" xref="algx2.l33.m1.4.4.2.3.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="algx2.l33.m1.4.4.2.3.1" xref="algx2.l33.m1.4.4.2.3.1.cmml">‚Äã</mo><msup id="algx2.l33.m1.4.4.2.3.3" xref="algx2.l33.m1.4.4.2.3.3.cmml"><mi mathsize="70%" id="algx2.l33.m1.4.4.2.3.3.2" xref="algx2.l33.m1.4.4.2.3.3.2.cmml">C</mi><mn mathsize="71%" id="algx2.l33.m1.4.4.2.3.3.3" xref="algx2.l33.m1.4.4.2.3.3.3.cmml">2</mn></msup></mrow><mo mathsize="70%" id="algx2.l33.m1.4.4.2.2" xref="algx2.l33.m1.4.4.2.2.cmml">+</mo><mrow id="algx2.l33.m1.4.4.2.4" xref="algx2.l33.m1.4.4.2.4.cmml"><mi mathsize="70%" id="algx2.l33.m1.4.4.2.4.2" xref="algx2.l33.m1.4.4.2.4.2.cmml">d</mi><mo maxsize="70%" minsize="70%" stretchy="true" symmetric="true" id="algx2.l33.m1.4.4.2.4.1" xref="algx2.l33.m1.4.4.2.4.1.cmml">/</mo><mn mathsize="70%" id="algx2.l33.m1.4.4.2.4.3" xref="algx2.l33.m1.4.4.2.4.3.cmml">4</mn></mrow><mo mathsize="70%" id="algx2.l33.m1.4.4.2.2a" xref="algx2.l33.m1.4.4.2.2.cmml">+</mo><mrow id="algx2.l33.m1.4.4.2.1" xref="algx2.l33.m1.4.4.2.1.cmml"><msqrt id="algx2.l33.m1.2.2" xref="algx2.l33.m1.2.2.cmml"><mrow id="algx2.l33.m1.2.2.2" xref="algx2.l33.m1.2.2.2.cmml"><mn mathsize="70%" id="algx2.l33.m1.2.2.2.4" xref="algx2.l33.m1.2.2.2.4.cmml">2</mn><mo lspace="0.167em" rspace="0em" id="algx2.l33.m1.2.2.2.3" xref="algx2.l33.m1.2.2.2.3.cmml">‚Äã</mo><mrow id="algx2.l33.m1.2.2.2.2.1" xref="algx2.l33.m1.2.2.2.2.2.cmml"><mi mathsize="70%" id="algx2.l33.m1.1.1.1.1" xref="algx2.l33.m1.1.1.1.1.cmml">log</mi><mo id="algx2.l33.m1.2.2.2.2.1a" xref="algx2.l33.m1.2.2.2.2.2.cmml">‚Å°</mo><mrow id="algx2.l33.m1.2.2.2.2.1.1" xref="algx2.l33.m1.2.2.2.2.2.cmml"><mo maxsize="70%" minsize="70%" id="algx2.l33.m1.2.2.2.2.1.1.2" xref="algx2.l33.m1.2.2.2.2.2.cmml">(</mo><mrow id="algx2.l33.m1.2.2.2.2.1.1.1" xref="algx2.l33.m1.2.2.2.2.1.1.1.cmml"><mn mathsize="70%" id="algx2.l33.m1.2.2.2.2.1.1.1.2" xref="algx2.l33.m1.2.2.2.2.1.1.1.2.cmml">1</mn><mo maxsize="70%" minsize="70%" stretchy="true" symmetric="true" id="algx2.l33.m1.2.2.2.2.1.1.1.1" xref="algx2.l33.m1.2.2.2.2.1.1.1.1.cmml">/</mo><mi mathsize="70%" id="algx2.l33.m1.2.2.2.2.1.1.1.3" xref="algx2.l33.m1.2.2.2.2.1.1.1.3.cmml">Œ±</mi></mrow><mo maxsize="70%" minsize="70%" id="algx2.l33.m1.2.2.2.2.1.1.3" xref="algx2.l33.m1.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></msqrt><mo lspace="0.222em" mathsize="70%" rspace="0.222em" id="algx2.l33.m1.4.4.2.1.2" xref="algx2.l33.m1.4.4.2.1.2.cmml">‚ãÖ</mo><mrow id="algx2.l33.m1.4.4.2.1.1.1" xref="algx2.l33.m1.4.4.2.1.1.1.1.cmml"><mo id="algx2.l33.m1.4.4.2.1.1.1.2" xref="algx2.l33.m1.4.4.2.1.1.1.1.cmml">(</mo><mrow id="algx2.l33.m1.4.4.2.1.1.1.1" xref="algx2.l33.m1.4.4.2.1.1.1.1.cmml"><mrow id="algx2.l33.m1.4.4.2.1.1.1.1.2" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.cmml"><mi mathsize="70%" id="algx2.l33.m1.4.4.2.1.1.1.1.2.2" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="algx2.l33.m1.4.4.2.1.1.1.1.2.1" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.1.cmml">‚Äã</mo><mi mathsize="70%" id="algx2.l33.m1.4.4.2.1.1.1.1.2.3" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.3.cmml">C</mi></mrow><mo mathsize="70%" id="algx2.l33.m1.4.4.2.1.1.1.1.1" xref="algx2.l33.m1.4.4.2.1.1.1.1.1.cmml">+</mo><mrow id="algx2.l33.m1.4.4.2.1.1.1.1.3" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.cmml"><msqrt id="algx2.l33.m1.4.4.2.1.1.1.1.3.2" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.2.cmml"><mi mathsize="70%" id="algx2.l33.m1.4.4.2.1.1.1.1.3.2.2" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.2.2.cmml">d</mi></msqrt><mo maxsize="70%" minsize="70%" stretchy="true" symmetric="true" id="algx2.l33.m1.4.4.2.1.1.1.1.3.1" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.1.cmml">/</mo><mn mathsize="70%" id="algx2.l33.m1.4.4.2.1.1.1.1.3.3" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.3.cmml">2</mn></mrow></mrow><mo id="algx2.l33.m1.4.4.2.1.1.1.3" xref="algx2.l33.m1.4.4.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx2.l33.m1.4b"><apply id="algx2.l33.m1.4.4.cmml" xref="algx2.l33.m1.4.4"><leq id="algx2.l33.m1.4.4.3.cmml" xref="algx2.l33.m1.4.4.3"></leq><apply id="algx2.l33.m1.3.3.1.cmml" xref="algx2.l33.m1.3.3.1"><csymbol cd="ambiguous" id="algx2.l33.m1.3.3.1.2.cmml" xref="algx2.l33.m1.3.3.1">superscript</csymbol><apply id="algx2.l33.m1.3.3.1.1.cmml" xref="algx2.l33.m1.3.3.1"><csymbol cd="ambiguous" id="algx2.l33.m1.3.3.1.1.2.cmml" xref="algx2.l33.m1.3.3.1">subscript</csymbol><apply id="algx2.l33.m1.3.3.1.1.1.2.cmml" xref="algx2.l33.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="algx2.l33.m1.3.3.1.1.1.2.1.cmml" xref="algx2.l33.m1.3.3.1.1.1.1.2">norm</csymbol><apply id="algx2.l33.m1.3.3.1.1.1.1.1.cmml" xref="algx2.l33.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="algx2.l33.m1.3.3.1.1.1.1.1.1.cmml" xref="algx2.l33.m1.3.3.1.1.1.1.1">superscript</csymbol><ci id="algx2.l33.m1.3.3.1.1.1.1.1.2.cmml" xref="algx2.l33.m1.3.3.1.1.1.1.1.2">Œî</ci><ci id="algx2.l33.m1.3.3.1.1.1.1.1.3.cmml" xref="algx2.l33.m1.3.3.1.1.1.1.1.3">‚Ä≤</ci></apply></apply><cn type="integer" id="algx2.l33.m1.3.3.1.1.3.cmml" xref="algx2.l33.m1.3.3.1.1.3">2</cn></apply><cn type="integer" id="algx2.l33.m1.3.3.1.3.cmml" xref="algx2.l33.m1.3.3.1.3">2</cn></apply><apply id="algx2.l33.m1.4.4.2.cmml" xref="algx2.l33.m1.4.4.2"><plus id="algx2.l33.m1.4.4.2.2.cmml" xref="algx2.l33.m1.4.4.2.2"></plus><apply id="algx2.l33.m1.4.4.2.3.cmml" xref="algx2.l33.m1.4.4.2.3"><times id="algx2.l33.m1.4.4.2.3.1.cmml" xref="algx2.l33.m1.4.4.2.3.1"></times><apply id="algx2.l33.m1.4.4.2.3.2.cmml" xref="algx2.l33.m1.4.4.2.3.2"><csymbol cd="ambiguous" id="algx2.l33.m1.4.4.2.3.2.1.cmml" xref="algx2.l33.m1.4.4.2.3.2">superscript</csymbol><ci id="algx2.l33.m1.4.4.2.3.2.2.cmml" xref="algx2.l33.m1.4.4.2.3.2.2">ùë†</ci><cn type="integer" id="algx2.l33.m1.4.4.2.3.2.3.cmml" xref="algx2.l33.m1.4.4.2.3.2.3">2</cn></apply><apply id="algx2.l33.m1.4.4.2.3.3.cmml" xref="algx2.l33.m1.4.4.2.3.3"><csymbol cd="ambiguous" id="algx2.l33.m1.4.4.2.3.3.1.cmml" xref="algx2.l33.m1.4.4.2.3.3">superscript</csymbol><ci id="algx2.l33.m1.4.4.2.3.3.2.cmml" xref="algx2.l33.m1.4.4.2.3.3.2">ùê∂</ci><cn type="integer" id="algx2.l33.m1.4.4.2.3.3.3.cmml" xref="algx2.l33.m1.4.4.2.3.3.3">2</cn></apply></apply><apply id="algx2.l33.m1.4.4.2.4.cmml" xref="algx2.l33.m1.4.4.2.4"><divide id="algx2.l33.m1.4.4.2.4.1.cmml" xref="algx2.l33.m1.4.4.2.4.1"></divide><ci id="algx2.l33.m1.4.4.2.4.2.cmml" xref="algx2.l33.m1.4.4.2.4.2">ùëë</ci><cn type="integer" id="algx2.l33.m1.4.4.2.4.3.cmml" xref="algx2.l33.m1.4.4.2.4.3">4</cn></apply><apply id="algx2.l33.m1.4.4.2.1.cmml" xref="algx2.l33.m1.4.4.2.1"><ci id="algx2.l33.m1.4.4.2.1.2.cmml" xref="algx2.l33.m1.4.4.2.1.2">‚ãÖ</ci><apply id="algx2.l33.m1.2.2.cmml" xref="algx2.l33.m1.2.2"><root id="algx2.l33.m1.2.2a.cmml" xref="algx2.l33.m1.2.2"></root><apply id="algx2.l33.m1.2.2.2.cmml" xref="algx2.l33.m1.2.2.2"><times id="algx2.l33.m1.2.2.2.3.cmml" xref="algx2.l33.m1.2.2.2.3"></times><cn type="integer" id="algx2.l33.m1.2.2.2.4.cmml" xref="algx2.l33.m1.2.2.2.4">2</cn><apply id="algx2.l33.m1.2.2.2.2.2.cmml" xref="algx2.l33.m1.2.2.2.2.1"><log id="algx2.l33.m1.1.1.1.1.cmml" xref="algx2.l33.m1.1.1.1.1"></log><apply id="algx2.l33.m1.2.2.2.2.1.1.1.cmml" xref="algx2.l33.m1.2.2.2.2.1.1.1"><divide id="algx2.l33.m1.2.2.2.2.1.1.1.1.cmml" xref="algx2.l33.m1.2.2.2.2.1.1.1.1"></divide><cn type="integer" id="algx2.l33.m1.2.2.2.2.1.1.1.2.cmml" xref="algx2.l33.m1.2.2.2.2.1.1.1.2">1</cn><ci id="algx2.l33.m1.2.2.2.2.1.1.1.3.cmml" xref="algx2.l33.m1.2.2.2.2.1.1.1.3">ùõº</ci></apply></apply></apply></apply><apply id="algx2.l33.m1.4.4.2.1.1.1.1.cmml" xref="algx2.l33.m1.4.4.2.1.1.1"><plus id="algx2.l33.m1.4.4.2.1.1.1.1.1.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.1"></plus><apply id="algx2.l33.m1.4.4.2.1.1.1.1.2.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.2"><times id="algx2.l33.m1.4.4.2.1.1.1.1.2.1.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.1"></times><ci id="algx2.l33.m1.4.4.2.1.1.1.1.2.2.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.2">ùë†</ci><ci id="algx2.l33.m1.4.4.2.1.1.1.1.2.3.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.2.3">ùê∂</ci></apply><apply id="algx2.l33.m1.4.4.2.1.1.1.1.3.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3"><divide id="algx2.l33.m1.4.4.2.1.1.1.1.3.1.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.1"></divide><apply id="algx2.l33.m1.4.4.2.1.1.1.1.3.2.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.2"><root id="algx2.l33.m1.4.4.2.1.1.1.1.3.2a.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.2"></root><ci id="algx2.l33.m1.4.4.2.1.1.1.1.3.2.2.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.2.2">ùëë</ci></apply><cn type="integer" id="algx2.l33.m1.4.4.2.1.1.1.1.3.3.cmml" xref="algx2.l33.m1.4.4.2.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l33.m1.4c">\scriptstyle\|\Delta^{\prime}\|_{2}^{2}\leq s^{2}C^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(sC+\sqrt{d}/2\right)</annotation></semantics></math>
<span id="algx2.l33.1" class="ltx_text" style="color:#009900;background-color:#FFEFEF;">//S<span id="algx2.l33.1.1.1" class="ltx_text" style="color:#000000;background-color:#FFEFEF;">hift to center around <math id="algx2.l33.1.1.1.m1.1" class="ltx_Math" alttext="C_{\infty}" display="inline"><semantics id="algx2.l33.1.1.1.m1.1a"><msub id="algx2.l33.1.1.1.m1.1.1" xref="algx2.l33.1.1.1.m1.1.1.cmml"><mi mathbackground="#FFEFEF" mathcolor="#000000" id="algx2.l33.1.1.1.m1.1.1.2" xref="algx2.l33.1.1.1.m1.1.1.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathcolor="#000000" mathvariant="normal" id="algx2.l33.1.1.1.m1.1.1.3" xref="algx2.l33.1.1.1.m1.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="algx2.l33.1.1.1.m1.1b"><apply id="algx2.l33.1.1.1.m1.1.1.cmml" xref="algx2.l33.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="algx2.l33.1.1.1.m1.1.1.1.cmml" xref="algx2.l33.1.1.1.m1.1.1">subscript</csymbol><ci id="algx2.l33.1.1.1.m1.1.1.2.cmml" xref="algx2.l33.1.1.1.m1.1.1.2">ùê∂</ci><infinity id="algx2.l33.1.1.1.m1.1.1.3.cmml" xref="algx2.l33.1.1.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l33.1.1.1.m1.1c">C_{\infty}</annotation></semantics></math> and apply modulo</span></span>

</span>
<span id="algx2.l34" class="ltx_listingline">¬†¬†¬†¬†¬†<span id="algx2.l34.1" class="ltx_text ltx_font_bold" style="background-color:#FFEFEF;">return<span id="algx2.l34.1.1.1" class="ltx_text ltx_font_medium"> <math id="algx2.l34.1.1.1.m1.1" class="ltx_Math" alttext="\Delta^{\prime}+C_{\infty}\mod M" display="inline"><semantics id="algx2.l34.1.1.1.m1.1a"><mrow id="algx2.l34.1.1.1.m1.1.1" xref="algx2.l34.1.1.1.m1.1.1.cmml"><mrow id="algx2.l34.1.1.1.m1.1.1.2" xref="algx2.l34.1.1.1.m1.1.1.2.cmml"><msup id="algx2.l34.1.1.1.m1.1.1.2.2" xref="algx2.l34.1.1.1.m1.1.1.2.2.cmml"><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l34.1.1.1.m1.1.1.2.2.2" xref="algx2.l34.1.1.1.m1.1.1.2.2.2.cmml">Œî</mi><mo mathbackground="#FFEFEF" id="algx2.l34.1.1.1.m1.1.1.2.2.3" xref="algx2.l34.1.1.1.m1.1.1.2.2.3.cmml">‚Ä≤</mo></msup><mo mathbackground="#FFEFEF" id="algx2.l34.1.1.1.m1.1.1.2.1" xref="algx2.l34.1.1.1.m1.1.1.2.1.cmml">+</mo><msub id="algx2.l34.1.1.1.m1.1.1.2.3" xref="algx2.l34.1.1.1.m1.1.1.2.3.cmml"><mi mathbackground="#FFEFEF" id="algx2.l34.1.1.1.m1.1.1.2.3.2" xref="algx2.l34.1.1.1.m1.1.1.2.3.2.cmml">C</mi><mi mathbackground="#FFEFEF" mathvariant="normal" id="algx2.l34.1.1.1.m1.1.1.2.3.3" xref="algx2.l34.1.1.1.m1.1.1.2.3.3.cmml">‚àû</mi></msub></mrow><mo mathbackground="#FFEFEF" id="algx2.l34.1.1.1.m1.1.1.1" xref="algx2.l34.1.1.1.m1.1.1.1.cmml">mod</mo><mi mathbackground="#FFEFEF" id="algx2.l34.1.1.1.m1.1.1.3" xref="algx2.l34.1.1.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="algx2.l34.1.1.1.m1.1b"><apply id="algx2.l34.1.1.1.m1.1.1.cmml" xref="algx2.l34.1.1.1.m1.1.1"><csymbol cd="latexml" id="algx2.l34.1.1.1.m1.1.1.1.cmml" xref="algx2.l34.1.1.1.m1.1.1.1">modulo</csymbol><apply id="algx2.l34.1.1.1.m1.1.1.2.cmml" xref="algx2.l34.1.1.1.m1.1.1.2"><plus id="algx2.l34.1.1.1.m1.1.1.2.1.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.1"></plus><apply id="algx2.l34.1.1.1.m1.1.1.2.2.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="algx2.l34.1.1.1.m1.1.1.2.2.1.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.2">superscript</csymbol><ci id="algx2.l34.1.1.1.m1.1.1.2.2.2.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.2.2">Œî</ci><ci id="algx2.l34.1.1.1.m1.1.1.2.2.3.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.2.3">‚Ä≤</ci></apply><apply id="algx2.l34.1.1.1.m1.1.1.2.3.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.3"><csymbol cd="ambiguous" id="algx2.l34.1.1.1.m1.1.1.2.3.1.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.3">subscript</csymbol><ci id="algx2.l34.1.1.1.m1.1.1.2.3.2.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.3.2">ùê∂</ci><infinity id="algx2.l34.1.1.1.m1.1.1.2.3.3.cmml" xref="algx2.l34.1.1.1.m1.1.1.2.3.3"></infinity></apply></apply><ci id="algx2.l34.1.1.1.m1.1.1.3.cmml" xref="algx2.l34.1.1.1.m1.1.1.3">ùëÄ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx2.l34.1.1.1.m1.1c">\Delta^{\prime}+C_{\infty}\mod M</annotation></semantics></math></span></span>

</span>
</span>

<div class="ltx_pagination ltx_role_end_2_columns"></div>

</div>
</div>
</figure>
<section id="S2.SS4.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">SecAgg overview.</h4>

<div id="S2.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS4.SSS0.Px1.p1.5" class="ltx_p">We start by overviewing how SecAgg works at a high level. For an in depth treatment of the cryptographic protocol, we refer the reader to <cite class="ltx_cite ltx_citemacro_cite">Bell et¬†al. [<a href="#bib.bib5" title="" class="ltx_ref">2020</a>]; Bonawitz et¬†al. [<a href="#bib.bib7" title="" class="ltx_ref">2017</a>]</cite>. We will treat SecAgg as a ‚Äúblack box‚Äù which is guaranteed to faithfully compute the modular sum of integer vectors in a finite group, while not revealing any information about any individual vector beyond what can be learned from the sum; our methods do not depend on the specifics of the implementation of SecAgg. Concretely, for a vector <math id="S2.SS4.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\Delta_{i}\in\mathbb{Z}_{M}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.1.m1.1a"><mrow id="S2.SS4.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.cmml"><msub id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.2" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.2.cmml">Œî</mi><mi id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.3" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.1" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.1.cmml">‚àà</mo><msubsup id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.2" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.2.cmml">‚Ñ§</mi><mi id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.3" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.3.cmml">M</mi><mi id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml">d</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1"><in id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.1"></in><apply id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2">subscript</csymbol><ci id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.2">Œî</ci><ci id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.2.3">ùëñ</ci></apply><apply id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3">superscript</csymbol><apply id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.1.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.2.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.2">‚Ñ§</ci><ci id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.3.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.2.3">ùëÄ</ci></apply><ci id="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px1.p1.1.m1.1.1.3.3">ùëë</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.1.m1.1c">\Delta_{i}\in\mathbb{Z}_{M}^{d}</annotation></semantics></math> representing the client‚Äôs model update after all its elements being appropriately represented in a finite group of size <math id="S2.SS4.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS4.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS4.SSS0.Px1.p1.2.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS4.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.2.m2.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.2.m2.1c">M</annotation></semantics></math> (i.e., <math id="S2.SS4.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\Delta_{i}" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.3.m3.1a"><msub id="S2.SS4.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.2" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1.2.cmml">Œî</mi><mi id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.3" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.3.m3.1b"><apply id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1.2">Œî</ci><ci id="S2.SS4.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S2.SS4.SSS0.Px1.p1.3.m3.1.1.3">ùëñ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.3.m3.1c">\Delta_{i}</annotation></semantics></math> is a <math id="S2.SS4.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.4.m4.1a"><mi id="S2.SS4.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS4.SSS0.Px1.p1.4.m4.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.4.m4.1b"><ci id="S2.SS4.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.4.m4.1.1">ùëë</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.4.m4.1c">d</annotation></semantics></math>-dimensional vector with integer entries in the finite set <math id="S2.SS4.SSS0.Px1.p1.5.m5.3" class="ltx_Math" alttext="\{0,\cdots,M\}" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.5.m5.3a"><mrow id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2.1" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml">{</mo><mn id="S2.SS4.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS4.SSS0.Px1.p1.5.m5.1.1.cmml">0</mn><mo id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2.2" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml">,</mo><mi mathvariant="normal" id="S2.SS4.SSS0.Px1.p1.5.m5.2.2" xref="S2.SS4.SSS0.Px1.p1.5.m5.2.2.cmml">‚ãØ</mi><mo id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2.3" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml">,</mo><mi id="S2.SS4.SSS0.Px1.p1.5.m5.3.3" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.3.cmml">M</mi><mo stretchy="false" id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2.4" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.5.m5.3b"><set id="S2.SS4.SSS0.Px1.p1.5.m5.3.4.1.cmml" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.4.2"><cn type="integer" id="S2.SS4.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.5.m5.1.1">0</cn><ci id="S2.SS4.SSS0.Px1.p1.5.m5.2.2.cmml" xref="S2.SS4.SSS0.Px1.p1.5.m5.2.2">‚ãØ</ci><ci id="S2.SS4.SSS0.Px1.p1.5.m5.3.3.cmml" xref="S2.SS4.SSS0.Px1.p1.5.m5.3.3">ùëÄ</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.5.m5.3c">\{0,\cdots,M\}</annotation></semantics></math>), using SecAgg as a ‚Äúblack box‚Äù, the server obtains:</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.1" class="ltx_Math" alttext="\Delta:=\sum_{i}^{m}\Delta_{i}\!\mod M," display="block"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml"><mi mathvariant="normal" id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.2.cmml">Œî</mi><mo lspace="0.278em" rspace="0.111em" id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml">:=</mo><mrow id="S2.E1.m1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.3.cmml"><mrow id="S2.E1.m1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.3.2.cmml"><munderover id="S2.E1.m1.1.1.1.1.3.2.1" xref="S2.E1.m1.1.1.1.1.3.2.1.cmml"><mo movablelimits="false" id="S2.E1.m1.1.1.1.1.3.2.1.2.2" xref="S2.E1.m1.1.1.1.1.3.2.1.2.2.cmml">‚àë</mo><mi id="S2.E1.m1.1.1.1.1.3.2.1.2.3" xref="S2.E1.m1.1.1.1.1.3.2.1.2.3.cmml">i</mi><mi id="S2.E1.m1.1.1.1.1.3.2.1.3" xref="S2.E1.m1.1.1.1.1.3.2.1.3.cmml">m</mi></munderover><msub id="S2.E1.m1.1.1.1.1.3.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.cmml"><mi mathvariant="normal" id="S2.E1.m1.1.1.1.1.3.2.2.2" xref="S2.E1.m1.1.1.1.1.3.2.2.2.cmml">Œî</mi><mi id="S2.E1.m1.1.1.1.1.3.2.2.3" xref="S2.E1.m1.1.1.1.1.3.2.2.3.cmml">i</mi></msub></mrow><mo id="S2.E1.m1.1.1.1.1.3.1" xref="S2.E1.m1.1.1.1.1.3.1.cmml">mod</mo><mi id="S2.E1.m1.1.1.1.1.3.3" xref="S2.E1.m1.1.1.1.1.3.3.cmml">M</mi></mrow></mrow><mo id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">assign</csymbol><ci id="S2.E1.m1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2">Œî</ci><apply id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3"><csymbol cd="latexml" id="S2.E1.m1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.3.1">modulo</csymbol><apply id="S2.E1.m1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2"><apply id="S2.E1.m1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.1.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1">superscript</csymbol><apply id="S2.E1.m1.1.1.1.1.3.2.1.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1">subscript</csymbol><sum id="S2.E1.m1.1.1.1.1.3.2.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1.2.2"></sum><ci id="S2.E1.m1.1.1.1.1.3.2.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1.2.3">ùëñ</ci></apply><ci id="S2.E1.m1.1.1.1.1.3.2.1.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.1.3">ùëö</ci></apply><apply id="S2.E1.m1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.3.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.2">Œî</ci><ci id="S2.E1.m1.1.1.1.1.3.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.3.2.2.3">ùëñ</ci></apply></apply><ci id="S2.E1.m1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.1.1.1.1.3.3">ùëÄ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">\Delta:=\sum_{i}^{m}\Delta_{i}\!\mod M,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.SSS0.Px1.p1.8" class="ltx_p">and applies the DP-FTRL protocol to <math id="S2.SS4.SSS0.Px1.p1.6.m1.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.6.m1.1a"><mi mathvariant="normal" id="S2.SS4.SSS0.Px1.p1.6.m1.1.1" xref="S2.SS4.SSS0.Px1.p1.6.m1.1.1.cmml">Œî</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.6.m1.1b"><ci id="S2.SS4.SSS0.Px1.p1.6.m1.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.6.m1.1.1">Œî</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.6.m1.1c">\Delta</annotation></semantics></math>.
SecAgg‚Äôs finite group, <math id="S2.SS4.SSS0.Px1.p1.7.m2.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.7.m2.1a"><mi id="S2.SS4.SSS0.Px1.p1.7.m2.1.1" xref="S2.SS4.SSS0.Px1.p1.7.m2.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.7.m2.1b"><ci id="S2.SS4.SSS0.Px1.p1.7.m2.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.7.m2.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.7.m2.1c">M</annotation></semantics></math>, dictates the number of bits needed per parameter, and <math id="S2.SS4.SSS0.Px1.p1.8.m3.1" class="ltx_Math" alttext="d\log_{2}M" display="inline"><semantics id="S2.SS4.SSS0.Px1.p1.8.m3.1a"><mrow id="S2.SS4.SSS0.Px1.p1.8.m3.1.1" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.cmml"><mi id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.2" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.2.cmml">d</mi><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.1" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.1.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.cmml"><msub id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.cmml"><mi id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.2" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.2.cmml">log</mi><mn id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.3" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.3.cmml">2</mn></msub><mo lspace="0.167em" id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3a" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.cmml">‚Å°</mo><mi id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.2" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.2.cmml">M</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px1.p1.8.m3.1b"><apply id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1"><times id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.1"></times><ci id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.2.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.2">ùëë</ci><apply id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3"><apply id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.1.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1">subscript</csymbol><log id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.2.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.2"></log><cn type="integer" id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.3.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.1.3">2</cn></apply><ci id="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px1.p1.8.m3.1.1.3.2">ùëÄ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px1.p1.8.m3.1c">d\log_{2}M</annotation></semantics></math> bits are needed per model update vector.</p>
</div>
</section>
<section id="S2.SS4.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Sensitivity analysis.</h4>

<div id="S2.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS4.SSS0.Px2.p1.5" class="ltx_p">Our goal is to show that if the model updates are clipped to an <math id="S2.SS4.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p1.1.m1.1a"><msub id="S2.SS4.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p1.1.m1.1c">\ell_{2}</annotation></semantics></math> norm of <math id="S2.SS4.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS4.SSS0.Px2.p1.2.m2.1a"><mi id="S2.SS4.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS4.SSS0.Px2.p1.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p1.2.m2.1b"><ci id="S2.SS4.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.2.m2.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p1.2.m2.1c">C</annotation></semantics></math> prior to being represented as integer vectors, the sensitivity of <math id="S2.SS4.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\Delta" display="inline"><semantics id="S2.SS4.SSS0.Px2.p1.3.m3.1a"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS4.SSS0.Px2.p1.3.m3.1.1.cmml">Œî</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p1.3.m3.1b"><ci id="S2.SS4.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.3.m3.1.1">Œî</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p1.3.m3.1c">\Delta</annotation></semantics></math> can be bounded and quantified, and then we can rely on the DP analysis of DP-FTRL to do privacy accounting. Before diving into the sensitivity analysis, we first overview the steps needed to transform a model update vector in <math id="S2.SS4.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="\mathbb{R}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p1.4.m4.1a"><msup id="S2.SS4.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.2" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml">‚Ñù</mi><mi id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.3" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p1.4.m4.1b"><apply id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1.2">‚Ñù</ci><ci id="S2.SS4.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p1.4.m4.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p1.4.m4.1c">\mathbb{R}^{d}</annotation></semantics></math> to one in <math id="S2.SS4.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="\mathbb{Z}_{M}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p1.5.m5.1a"><msubsup id="S2.SS4.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.2" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.2.cmml">‚Ñ§</mi><mi id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.3" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.3.cmml">M</mi><mi id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.3" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml">d</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p1.5.m5.1b"><apply id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1">superscript</csymbol><apply id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.2">‚Ñ§</ci><ci id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.2.3">ùëÄ</ci></apply><ci id="S2.SS4.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p1.5.m5.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p1.5.m5.1c">\mathbb{Z}_{M}^{d}</annotation></semantics></math>, which is what the SecAgg protocol requires. These steps are performed on the client device; they are shown in Algorithm <a href="#alg2" title="Alg. 2 ‚Ä£ 2.4 Combining with secure aggregation ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> inside of the ClientUpdate function (and highlighted in pink).</p>
</div>
<div id="S2.SS4.SSS0.Px2.p2" class="ltx_para">
<p id="S2.SS4.SSS0.Px2.p2.20" class="ltx_p">The first step is to clip the model update to bound its <math id="S2.SS4.SSS0.Px2.p2.1.m1.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.1.m1.1a"><msub id="S2.SS4.SSS0.Px2.p2.1.m1.1.1" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.2" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.3" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.1.m1.1b"><apply id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p2.1.m1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.1.m1.1c">\ell_{2}</annotation></semantics></math> norm to <math id="S2.SS4.SSS0.Px2.p2.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.2.m2.1a"><mi id="S2.SS4.SSS0.Px2.p2.2.m2.1.1" xref="S2.SS4.SSS0.Px2.p2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.2.m2.1b"><ci id="S2.SS4.SSS0.Px2.p2.2.m2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.2.m2.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.2.m2.1c">C</annotation></semantics></math> and then scaling it by a factor <math id="S2.SS4.SSS0.Px2.p2.3.m3.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.3.m3.1a"><mi id="S2.SS4.SSS0.Px2.p2.3.m3.1.1" xref="S2.SS4.SSS0.Px2.p2.3.m3.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.3.m3.1b"><ci id="S2.SS4.SSS0.Px2.p2.3.m3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.3.m3.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.3.m3.1c">s</annotation></semantics></math> (a large constant). Notice that this clipping operation is required for DP even if we did not want to use SecAgg‚Äîonly the post-clipping scaling is new. As we will see later in the discretization step, scaling by <math id="S2.SS4.SSS0.Px2.p2.4.m4.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.4.m4.1a"><mi id="S2.SS4.SSS0.Px2.p2.4.m4.1.1" xref="S2.SS4.SSS0.Px2.p2.4.m4.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.4.m4.1b"><ci id="S2.SS4.SSS0.Px2.p2.4.m4.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.4.m4.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.4.m4.1c">s</annotation></semantics></math> will prove crucial in terms of minimizing the inflation in sensitivity. Next, we apply a uniform random rotation, which helps us go from an <math id="S2.SS4.SSS0.Px2.p2.5.m5.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.5.m5.1a"><msub id="S2.SS4.SSS0.Px2.p2.5.m5.1.1" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.2" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.3" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.5.m5.1b"><apply id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p2.5.m5.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.5.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.5.m5.1c">\ell_{2}</annotation></semantics></math> geometry to an <math id="S2.SS4.SSS0.Px2.p2.6.m6.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.6.m6.1a"><msub id="S2.SS4.SSS0.Px2.p2.6.m6.1.1" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.2" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1.2.cmml">‚Ñì</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.3" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.6.m6.1b"><apply id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1.2">‚Ñì</ci><infinity id="S2.SS4.SSS0.Px2.p2.6.m6.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.6.m6.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.6.m6.1c">\ell_{\infty}</annotation></semantics></math> geometry. Precisely, a random rotation preserves the <math id="S2.SS4.SSS0.Px2.p2.7.m7.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.7.m7.1a"><msub id="S2.SS4.SSS0.Px2.p2.7.m7.1.1" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.2" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.3" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.7.m7.1b"><apply id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p2.7.m7.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.7.m7.1c">\ell_{2}</annotation></semantics></math> norm and provides a ‚Äùhigh probability‚Äù bound on the <math id="S2.SS4.SSS0.Px2.p2.8.m8.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.8.m8.1a"><msub id="S2.SS4.SSS0.Px2.p2.8.m8.1.1" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.2" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1.2.cmml">‚Ñì</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.3" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.8.m8.1b"><apply id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1.2">‚Ñì</ci><infinity id="S2.SS4.SSS0.Px2.p2.8.m8.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.8.m8.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.8.m8.1c">\ell_{\infty}</annotation></semantics></math> norm: for <math id="S2.SS4.SSS0.Px2.p2.9.m9.1" class="ltx_Math" alttext="x\in\mathbb{R}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.9.m9.1a"><mrow id="S2.SS4.SSS0.Px2.p2.9.m9.1.1" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.2" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.2.cmml">x</mi><mo id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.1" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.1.cmml">‚àà</mo><msup id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.2" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.2.cmml">‚Ñù</mi><mi id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.3" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.9.m9.1b"><apply id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1"><in id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.1"></in><ci id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.2">ùë•</ci><apply id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.2">‚Ñù</ci><ci id="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.9.m9.1.1.3.3">ùëë</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.9.m9.1c">x\in\mathbb{R}^{d}</annotation></semantics></math>, the coordinates of <math id="S2.SS4.SSS0.Px2.p2.10.m10.1" class="ltx_Math" alttext="U_{\text{rotate}}x" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.10.m10.1a"><mrow id="S2.SS4.SSS0.Px2.p2.10.m10.1.1" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.cmml"><msub id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.cmml"><mi id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.2" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.2.cmml">U</mi><mtext id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3a.cmml">rotate</mtext></msub><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.1" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.3" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.3.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.10.m10.1b"><apply id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1"><times id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.1"></times><apply id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.2">ùëà</ci><ci id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3"><mtext mathsize="70%" id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.2.3">rotate</mtext></ci></apply><ci id="S2.SS4.SSS0.Px2.p2.10.m10.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.10.m10.1.1.3">ùë•</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.10.m10.1c">U_{\text{rotate}}x</annotation></semantics></math> are sub-Gaussians with <math id="S2.SS4.SSS0.Px2.p2.11.m11.1" class="ltx_Math" alttext="\sigma^{2}=||x||^{2}_{2}/d" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.11.m11.1a"><mrow id="S2.SS4.SSS0.Px2.p2.11.m11.1.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.cmml"><msup id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.cmml"><mi id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.2.cmml">œÉ</mi><mn id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.3" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.3.cmml">2</mn></msup><mo id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.1" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.1.cmml">=</mo><mrow id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.cmml"><msubsup id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.1.1.cmml">‚Äñ</mo><mi id="S2.SS4.SSS0.Px2.p2.11.m11.1.1" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.1.cmml">x</mi><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.1.1.cmml">‚Äñ</mo></mrow><mn id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.3" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.3.cmml">2</mn><mn id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.3" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.3.cmml">2</mn></msubsup><mo id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.1" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.1.cmml">/</mo><mi id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.3" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.3.cmml">d</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.11.m11.1b"><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2"><eq id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.1"></eq><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.2">ùúé</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.2.3">2</cn></apply><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3"><divide id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2">subscript</csymbol><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2">superscript</csymbol><apply id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.2"><csymbol cd="latexml" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.2.2.1">norm</csymbol><ci id="S2.SS4.SSS0.Px2.p2.11.m11.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.1">ùë•</ci></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.2.3">2</cn></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.2.3">2</cn></apply><ci id="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.11.m11.1.2.3.3">ùëë</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.11.m11.1c">\sigma^{2}=||x||^{2}_{2}/d</annotation></semantics></math> (see Lemma 28 of <cite class="ltx_cite ltx_citemacro_cite">Kairouz et¬†al. [<a href="#bib.bib20" title="" class="ltx_ref">2021a</a>]</cite>). For an efficient implementation, we randomly rotate <math id="S2.SS4.SSS0.Px2.p2.12.m12.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.12.m12.1a"><mi id="S2.SS4.SSS0.Px2.p2.12.m12.1.1" xref="S2.SS4.SSS0.Px2.p2.12.m12.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.12.m12.1b"><ci id="S2.SS4.SSS0.Px2.p2.12.m12.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.12.m12.1.1">ùë•</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.12.m12.1c">x</annotation></semantics></math> by first randomizing the signs of its coordinates and then multiplying it by an appropriately scaled Hadamard matrix (see Lemma 29 of <cite class="ltx_cite ltx_citemacro_cite">Kairouz et¬†al. [<a href="#bib.bib20" title="" class="ltx_ref">2021a</a>]</cite>). After this step, each coordinate of the clipped, scaled, and randomly rotated model update vector is in the range <math id="S2.SS4.SSS0.Px2.p2.13.m13.2" class="ltx_Math" alttext="[-2sC/\sqrt{d},2sC/\sqrt{d}]" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.13.m13.2a"><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.3.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.3" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.3.cmml">[</mo><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1a" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.cmml">‚àí</mo><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.3" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1a" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.4" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.4.cmml">C</mi></mrow><mo id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.1" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.1.cmml">/</mo><msqrt id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.2.cmml">d</mi></msqrt></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.4" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.3.cmml">,</mo><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.3" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1a" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.4" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.4.cmml">C</mi></mrow><mo id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.1.cmml">/</mo><msqrt id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.2" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.2.cmml">d</mi></msqrt></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.5" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.13.m13.2b"><interval closure="closed" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2"><apply id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1"><minus id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1"></minus><apply id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2"><divide id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2"><times id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.2">2</cn><ci id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.3">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.2.4">ùê∂</ci></apply><apply id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3"><root id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3"></root><ci id="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.1.1.1.1.2.3.2">ùëë</ci></apply></apply></apply><apply id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2"><divide id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2"><times id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.2">2</cn><ci id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.3">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.2.4">ùê∂</ci></apply><apply id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3"><root id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3"></root><ci id="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.13.m13.2.2.2.2.3.2">ùëë</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.13.m13.2c">[-2sC/\sqrt{d},2sC/\sqrt{d}]</annotation></semantics></math> with high probability<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>The factor of <math id="footnote1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="footnote1.m1.1b"><mn id="footnote1.m1.1.1" xref="footnote1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="footnote1.m1.1c"><cn type="integer" id="footnote1.m1.1.1.cmml" xref="footnote1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m1.1d">2</annotation></semantics></math> is to ensure that the range we consider contains <math id="footnote1.m2.1" class="ltx_Math" alttext="4\sigma" display="inline"><semantics id="footnote1.m2.1b"><mrow id="footnote1.m2.1.1" xref="footnote1.m2.1.1.cmml"><mn id="footnote1.m2.1.1.2" xref="footnote1.m2.1.1.2.cmml">4</mn><mo lspace="0em" rspace="0em" id="footnote1.m2.1.1.1" xref="footnote1.m2.1.1.1.cmml">‚Äã</mo><mi id="footnote1.m2.1.1.3" xref="footnote1.m2.1.1.3.cmml">œÉ</mi></mrow><annotation-xml encoding="MathML-Content" id="footnote1.m2.1c"><apply id="footnote1.m2.1.1.cmml" xref="footnote1.m2.1.1"><times id="footnote1.m2.1.1.1.cmml" xref="footnote1.m2.1.1.1"></times><cn type="integer" id="footnote1.m2.1.1.2.cmml" xref="footnote1.m2.1.1.2">4</cn><ci id="footnote1.m2.1.1.3.cmml" xref="footnote1.m2.1.1.3">ùúé</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m2.1d">4\sigma</annotation></semantics></math>. We could have used a larger factor, but it would require increasing <math id="footnote1.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="footnote1.m3.1b"><mi id="footnote1.m3.1.1" xref="footnote1.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="footnote1.m3.1c"><ci id="footnote1.m3.1.1.cmml" xref="footnote1.m3.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m3.1d">M</annotation></semantics></math>, the modulus of SecAgg. In practice, we observed that <math id="footnote1.m4.1" class="ltx_Math" alttext="2" display="inline"><semantics id="footnote1.m4.1b"><mn id="footnote1.m4.1.1" xref="footnote1.m4.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="footnote1.m4.1c"><cn type="integer" id="footnote1.m4.1.1.cmml" xref="footnote1.m4.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="footnote1.m4.1d">2</annotation></semantics></math> performs well.</span></span></span>. Applying a union bound, the <math id="S2.SS4.SSS0.Px2.p2.14.m14.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.14.m14.1a"><msub id="S2.SS4.SSS0.Px2.p2.14.m14.1.1" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.2" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1.2.cmml">‚Ñì</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.3" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.14.m14.1b"><apply id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1.2">‚Ñì</ci><infinity id="S2.SS4.SSS0.Px2.p2.14.m14.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.14.m14.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.14.m14.1c">\ell_{\infty}</annotation></semantics></math> norm of this vector is in the range <math id="S2.SS4.SSS0.Px2.p2.15.m15.6" class="ltx_Math" alttext="[-2sC\log(d)/\sqrt{d},2sC\log(d)/\sqrt{d}]" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.15.m15.6a"><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.3.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.3.cmml">[</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1a" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.cmml">‚àí</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1a" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.4" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.4.cmml">C</mi><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1b" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.15.m15.1.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.1.1.cmml">log</mi><mo id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2a" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2.1.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml">(</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.2.2.cmml">d</mi><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2.1.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.1.cmml">/</mo><msqrt id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.2.cmml">d</mi></msqrt></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.4" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.3.cmml">,</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1a" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.4" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.4.cmml">C</mi><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1b" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.15.m15.3.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.3.3.cmml">log</mi><mo id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2a" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2.1.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml">(</mo><mi id="S2.SS4.SSS0.Px2.p2.15.m15.4.4" xref="S2.SS4.SSS0.Px2.p2.15.m15.4.4.cmml">d</mi><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2.1.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.1" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.1.cmml">/</mo><msqrt id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.2" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.2.cmml">d</mi></msqrt></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.5" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.15.m15.6b"><interval closure="closed" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2"><apply id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1"><minus id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1"></minus><apply id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2"><divide id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2"><times id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.2">2</cn><ci id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.3">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.4">ùê∂</ci><apply id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.2.5.2"><log id="S2.SS4.SSS0.Px2.p2.15.m15.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.1.1"></log><ci id="S2.SS4.SSS0.Px2.p2.15.m15.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.2.2">ùëë</ci></apply></apply><apply id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3"><root id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3"></root><ci id="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.5.5.1.1.2.3.2">ùëë</ci></apply></apply></apply><apply id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2"><divide id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2"><times id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.2">2</cn><ci id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.3">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.4">ùê∂</ci><apply id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.1.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.2.5.2"><log id="S2.SS4.SSS0.Px2.p2.15.m15.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.3.3"></log><ci id="S2.SS4.SSS0.Px2.p2.15.m15.4.4.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.4.4">ùëë</ci></apply></apply><apply id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3"><root id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3"></root><ci id="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.15.m15.6.6.2.2.3.2">ùëë</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.15.m15.6c">[-2sC\log(d)/\sqrt{d},2sC\log(d)/\sqrt{d}]</annotation></semantics></math> with high probability. We therefore apply another clipping operation to bound the <math id="S2.SS4.SSS0.Px2.p2.16.m16.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.16.m16.1a"><msub id="S2.SS4.SSS0.Px2.p2.16.m16.1.1" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.2" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1.2.cmml">‚Ñì</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.3" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.16.m16.1b"><apply id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1.2">‚Ñì</ci><infinity id="S2.SS4.SSS0.Px2.p2.16.m16.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.16.m16.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.16.m16.1c">\ell_{\infty}</annotation></semantics></math> of the vector to <math id="S2.SS4.SSS0.Px2.p2.17.m17.3" class="ltx_Math" alttext="C_{\infty}=\text{ceil}(2sC\log(d)/\sqrt{d})" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.17.m17.3a"><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.cmml"><msub id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.3.cmml">‚àû</mi></msub><mo id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.2.cmml">=</mo><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.cmml"><mtext id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3a.cmml">ceil</mtext><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.2.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.cmml"><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.cmml"><mn id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.3.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1a" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.4" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.4.cmml">C</mi><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1b" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.17.m17.1.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.1.1.cmml">log</mi><mo id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2a" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2.1.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml">(</mo><mi id="S2.SS4.SSS0.Px2.p2.17.m17.2.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.2.2.cmml">d</mi><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2.1.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.1.cmml">/</mo><msqrt id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.2.cmml">d</mi></msqrt></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.3" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.17.m17.3b"><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3"><eq id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.2"></eq><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.3.3"></infinity></apply><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1"><times id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.2"></times><ci id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3"><mtext id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.3">ceil</mtext></ci><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1"><divide id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.1"></divide><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2"><times id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.2">2</cn><ci id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.3">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.4.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.4">ùê∂</ci><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.2.5.2"><log id="S2.SS4.SSS0.Px2.p2.17.m17.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.1.1"></log><ci id="S2.SS4.SSS0.Px2.p2.17.m17.2.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.2.2">ùëë</ci></apply></apply><apply id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3"><root id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3a.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3"></root><ci id="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p2.17.m17.3.3.1.1.1.1.3.2">ùëë</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.17.m17.3c">C_{\infty}=\text{ceil}(2sC\log(d)/\sqrt{d})</annotation></semantics></math>. This bounds the range of every coordinate in the vector while guaranteeing that: (a) its <math id="S2.SS4.SSS0.Px2.p2.18.m18.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.18.m18.1a"><msub id="S2.SS4.SSS0.Px2.p2.18.m18.1.1" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.2" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.3" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.18.m18.1b"><apply id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p2.18.m18.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.18.m18.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.18.m18.1c">\ell_{2}</annotation></semantics></math> norm is not inflated; and (b) the signal is preserved since this clipping operation is expected to be a ‚Äúno op‚Äù with high probability. We are finally ready to move from <math id="S2.SS4.SSS0.Px2.p2.19.m19.1" class="ltx_Math" alttext="\mathbb{R}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.19.m19.1a"><msup id="S2.SS4.SSS0.Px2.p2.19.m19.1.1" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.2" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1.2.cmml">‚Ñù</mi><mi id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.3" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1.3.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.19.m19.1b"><apply id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1.2">‚Ñù</ci><ci id="S2.SS4.SSS0.Px2.p2.19.m19.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.19.m19.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.19.m19.1c">\mathbb{R}^{d}</annotation></semantics></math> to <math id="S2.SS4.SSS0.Px2.p2.20.m20.1" class="ltx_Math" alttext="\mathbb{Z}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p2.20.m20.1a"><msup id="S2.SS4.SSS0.Px2.p2.20.m20.1.1" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.2" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1.2.cmml">‚Ñ§</mi><mi id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.3" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1.3.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p2.20.m20.1b"><apply id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1.2">‚Ñ§</ci><ci id="S2.SS4.SSS0.Px2.p2.20.m20.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p2.20.m20.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p2.20.m20.1c">\mathbb{Z}^{d}</annotation></semantics></math>. To this end, we leverage the <span id="S2.SS4.SSS0.Px2.p2.20.1" class="ltx_text ltx_font_italic">conditional stochastic rounding</span> procedure introduced in¬†<cite class="ltx_cite ltx_citemacro_cite">Kairouz et¬†al. [<a href="#bib.bib20" title="" class="ltx_ref">2021a</a>]</cite> to obtain a bounded norm on the scaled and rounded client vector.</p>
</div>
<div id="S2.SS4.SSS0.Px2.p3" class="ltx_para">
<p id="S2.SS4.SSS0.Px2.p3.4" class="ltx_p">Let <math id="S2.SS4.SSS0.Px2.p3.1.m1.1" class="ltx_Math" alttext="\tilde{x}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.1.m1.1a"><mover accent="true" id="S2.SS4.SSS0.Px2.p3.1.m1.1.1" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p3.1.m1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1.2.cmml">x</mi><mo id="S2.SS4.SSS0.Px2.p3.1.m1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.1.m1.1b"><apply id="S2.SS4.SSS0.Px2.p3.1.m1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1"><ci id="S2.SS4.SSS0.Px2.p3.1.m1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1.1">~</ci><ci id="S2.SS4.SSS0.Px2.p3.1.m1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.1.m1.1.1.2">ùë•</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.1.m1.1c">\tilde{x}</annotation></semantics></math> be a stochastic rounding of vector <math id="S2.SS4.SSS0.Px2.p3.2.m2.1" class="ltx_Math" alttext="x\in\mathbb{R}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.2.m2.1a"><mrow id="S2.SS4.SSS0.Px2.p3.2.m2.1.1" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.2" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.2.cmml">x</mi><mo id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.1" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.1.cmml">‚àà</mo><msup id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.2" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.2.cmml">‚Ñù</mi><mi id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.3" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.2.m2.1b"><apply id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1"><in id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.1"></in><ci id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.2">ùë•</ci><apply id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.2">‚Ñù</ci><ci id="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.2.m2.1.1.3.3">ùëë</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.2.m2.1c">x\in\mathbb{R}^{d}</annotation></semantics></math> to the integer grid <math id="S2.SS4.SSS0.Px2.p3.3.m3.1" class="ltx_Math" alttext="\mathbb{Z}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.3.m3.1a"><msup id="S2.SS4.SSS0.Px2.p3.3.m3.1.1" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.2" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1.2.cmml">‚Ñ§</mi><mi id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.3" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1.3.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.3.m3.1b"><apply id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1.2">‚Ñ§</ci><ci id="S2.SS4.SSS0.Px2.p3.3.m3.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.3.m3.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.3.m3.1c">\mathbb{Z}^{d}</annotation></semantics></math>. Then, for <math id="S2.SS4.SSS0.Px2.p3.4.m4.2" class="ltx_Math" alttext="\alpha\in(0,1)" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.4.m4.2a"><mrow id="S2.SS4.SSS0.Px2.p3.4.m4.2.3" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.2" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.2.cmml">Œ±</mi><mo id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.1" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.1.cmml">‚àà</mo><mrow id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.2" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.2.1" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.1.cmml">(</mo><mn id="S2.SS4.SSS0.Px2.p3.4.m4.1.1" xref="S2.SS4.SSS0.Px2.p3.4.m4.1.1.cmml">0</mn><mo id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.2.2" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.1.cmml">,</mo><mn id="S2.SS4.SSS0.Px2.p3.4.m4.2.2" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.2.cmml">1</mn><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.2.3" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.4.m4.2b"><apply id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3"><in id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.1"></in><ci id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.2">ùõº</ci><interval closure="open" id="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.3.3.2"><cn type="integer" id="S2.SS4.SSS0.Px2.p3.4.m4.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.1.1">0</cn><cn type="integer" id="S2.SS4.SSS0.Px2.p3.4.m4.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.4.m4.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.4.m4.2c">\alpha\in(0,1)</annotation></semantics></math>, we have</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.6" class="ltx_Math" alttext="\mathbb{P}\left[\|\tilde{x}\|_{2}^{2}\leq\|x\|_{2}^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(\|x\|_{2}+\sqrt{d}/2\right)\right]\geq 1-\alpha." display="block"><semantics id="S2.E2.m1.6a"><mrow id="S2.E2.m1.6.6.1" xref="S2.E2.m1.6.6.1.1.cmml"><mrow id="S2.E2.m1.6.6.1.1" xref="S2.E2.m1.6.6.1.1.cmml"><mrow id="S2.E2.m1.6.6.1.1.1" xref="S2.E2.m1.6.6.1.1.1.cmml"><mi id="S2.E2.m1.6.6.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.3.cmml">‚Ñô</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.6.6.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.2.cmml">‚Äã</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.2.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.cmml"><msubsup id="S2.E2.m1.6.6.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.cmml"><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.1.cmml"><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.2.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.1.1.cmml">‚Äñ</mo><mover accent="true" id="S2.E2.m1.3.3" xref="S2.E2.m1.3.3.cmml"><mi id="S2.E2.m1.3.3.2" xref="S2.E2.m1.3.3.2.cmml">x</mi><mo id="S2.E2.m1.3.3.1" xref="S2.E2.m1.3.3.1.cmml">~</mo></mover><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.1.1.cmml">‚Äñ</mo></mrow><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.3.cmml">2</mn><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.3.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.3.cmml">2</mn></msubsup><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml">‚â§</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.cmml"><msubsup id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.cmml"><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.1.cmml"><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.2.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.1.1.cmml">‚Äñ</mo><mi id="S2.E2.m1.4.4" xref="S2.E2.m1.4.4.cmml">x</mi><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.1.1.cmml">‚Äñ</mo></mrow><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.3.cmml">2</mn><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.3.cmml">2</mn></msubsup><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.cmml"><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.2.cmml">d</mi><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.1.cmml">/</mo><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.3.cmml">4</mn></mrow><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.2a" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.cmml"><msqrt id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml"><mrow id="S2.E2.m1.2.2.2" xref="S2.E2.m1.2.2.2.cmml"><mn id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.4.cmml">2</mn><mo lspace="0.167em" rspace="0em" id="S2.E2.m1.2.2.2.3" xref="S2.E2.m1.2.2.2.3.cmml">‚Äã</mo><mrow id="S2.E2.m1.2.2.2.2.1" xref="S2.E2.m1.2.2.2.2.2.cmml"><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">log</mi><mo id="S2.E2.m1.2.2.2.2.1a" xref="S2.E2.m1.2.2.2.2.2.cmml">‚Å°</mo><mrow id="S2.E2.m1.2.2.2.2.1.1" xref="S2.E2.m1.2.2.2.2.2.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.1.2" xref="S2.E2.m1.2.2.2.2.2.cmml">(</mo><mrow id="S2.E2.m1.2.2.2.2.1.1.1" xref="S2.E2.m1.2.2.2.2.1.1.1.cmml"><mn id="S2.E2.m1.2.2.2.2.1.1.1.2" xref="S2.E2.m1.2.2.2.2.1.1.1.2.cmml">1</mn><mo id="S2.E2.m1.2.2.2.2.1.1.1.1" xref="S2.E2.m1.2.2.2.2.1.1.1.1.cmml">/</mo><mi id="S2.E2.m1.2.2.2.2.1.1.1.3" xref="S2.E2.m1.2.2.2.2.1.1.1.3.cmml">Œ±</mi></mrow><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.1.3" xref="S2.E2.m1.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></msqrt><mo lspace="0.222em" rspace="0.222em" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.2.cmml">‚ãÖ</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml"><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">‚Äñ</mo><mi id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml">x</mi><mo stretchy="false" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml">‚Äñ</mo></mrow><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">2</mn></msub><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><msqrt id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">d</mi></msqrt><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">/</mo><mn id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.2" xref="S2.E2.m1.6.6.1.1.2.cmml">‚â•</mo><mrow id="S2.E2.m1.6.6.1.1.3" xref="S2.E2.m1.6.6.1.1.3.cmml"><mn id="S2.E2.m1.6.6.1.1.3.2" xref="S2.E2.m1.6.6.1.1.3.2.cmml">1</mn><mo id="S2.E2.m1.6.6.1.1.3.1" xref="S2.E2.m1.6.6.1.1.3.1.cmml">‚àí</mo><mi id="S2.E2.m1.6.6.1.1.3.3" xref="S2.E2.m1.6.6.1.1.3.3.cmml">Œ±</mi></mrow></mrow><mo lspace="0em" id="S2.E2.m1.6.6.1.2" xref="S2.E2.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.6b"><apply id="S2.E2.m1.6.6.1.1.cmml" xref="S2.E2.m1.6.6.1"><geq id="S2.E2.m1.6.6.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.2"></geq><apply id="S2.E2.m1.6.6.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1"><times id="S2.E2.m1.6.6.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.2"></times><ci id="S2.E2.m1.6.6.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.3">‚Ñô</ci><apply id="S2.E2.m1.6.6.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.6.6.1.1.1.1.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1"><leq id="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2"></leq><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3">superscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3">subscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.2"><csymbol cd="latexml" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.2.2.1">norm</csymbol><apply id="S2.E2.m1.3.3.cmml" xref="S2.E2.m1.3.3"><ci id="S2.E2.m1.3.3.1.cmml" xref="S2.E2.m1.3.3.1">~</ci><ci id="S2.E2.m1.3.3.2.cmml" xref="S2.E2.m1.3.3.2">ùë•</ci></apply></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.2.3">2</cn></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1"><plus id="S2.E2.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.2"></plus><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.2"><csymbol cd="latexml" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.2.2.1">norm</csymbol><ci id="S2.E2.m1.4.4.cmml" xref="S2.E2.m1.4.4">ùë•</ci></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.2.3">2</cn></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.3.3">2</cn></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4"><divide id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.1"></divide><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.2">ùëë</ci><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.4.3">4</cn></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1"><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.2">‚ãÖ</ci><apply id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2"><root id="S2.E2.m1.2.2a.cmml" xref="S2.E2.m1.2.2"></root><apply id="S2.E2.m1.2.2.2.cmml" xref="S2.E2.m1.2.2.2"><times id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.3"></times><cn type="integer" id="S2.E2.m1.2.2.2.4.cmml" xref="S2.E2.m1.2.2.2.4">2</cn><apply id="S2.E2.m1.2.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2.1"><log id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1"></log><apply id="S2.E2.m1.2.2.2.2.1.1.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.1"><divide id="S2.E2.m1.2.2.2.2.1.1.1.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1.1.1"></divide><cn type="integer" id="S2.E2.m1.2.2.2.2.1.1.1.2.cmml" xref="S2.E2.m1.2.2.2.2.1.1.1.2">1</cn><ci id="S2.E2.m1.2.2.2.2.1.1.1.3.cmml" xref="S2.E2.m1.2.2.2.2.1.1.1.3">ùõº</ci></apply></apply></apply></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1"><plus id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1"></plus><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="latexml" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1">norm</csymbol><ci id="S2.E2.m1.5.5.cmml" xref="S2.E2.m1.5.5">ùë•</ci></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.3">2</cn></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3"><divide id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.1"></divide><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2"><root id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2"></root><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.2.2">ùëë</ci></apply><cn type="integer" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></apply><apply id="S2.E2.m1.6.6.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.3"><minus id="S2.E2.m1.6.6.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.3.1"></minus><cn type="integer" id="S2.E2.m1.6.6.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.3.2">1</cn><ci id="S2.E2.m1.6.6.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.3.3">ùõº</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.6c">\mathbb{P}\left[\|\tilde{x}\|_{2}^{2}\leq\|x\|_{2}^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(\|x\|_{2}+\sqrt{d}/2\right)\right]\geq 1-\alpha.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.SSS0.Px2.p3.13" class="ltx_p">Conditional stochastic rounding is thus defined as retrying the stochastic rounding on <math id="S2.SS4.SSS0.Px2.p3.5.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.5.m1.1a"><mi id="S2.SS4.SSS0.Px2.p3.5.m1.1.1" xref="S2.SS4.SSS0.Px2.p3.5.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.5.m1.1b"><ci id="S2.SS4.SSS0.Px2.p3.5.m1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.5.m1.1.1">ùë•</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.5.m1.1c">x</annotation></semantics></math> until <math id="S2.SS4.SSS0.Px2.p3.6.m2.1" class="ltx_Math" alttext="\|\tilde{x}\|^{2}_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.6.m2.1a"><msubsup id="S2.SS4.SSS0.Px2.p3.6.m2.1.2" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.2" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.1.1.cmml">‚Äñ</mo><mover accent="true" id="S2.SS4.SSS0.Px2.p3.6.m2.1.1" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p3.6.m2.1.1.2" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1.2.cmml">x</mi><mo id="S2.SS4.SSS0.Px2.p3.6.m2.1.1.1" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1.1.cmml">~</mo></mover><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.2.2" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.1.1.cmml">‚Äñ</mo></mrow><mn id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.3" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.3.cmml">2</mn><mn id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.3" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.6.m2.1b"><apply id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2">subscript</csymbol><apply id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2">superscript</csymbol><apply id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.2"><csymbol cd="latexml" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.2.2.1">norm</csymbol><apply id="S2.SS4.SSS0.Px2.p3.6.m2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1"><ci id="S2.SS4.SSS0.Px2.p3.6.m2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1.1">~</ci><ci id="S2.SS4.SSS0.Px2.p3.6.m2.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.1.2">ùë•</ci></apply></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.2.3">2</cn></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p3.6.m2.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.6.m2.1.2.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.6.m2.1c">\|\tilde{x}\|^{2}_{2}</annotation></semantics></math> is within the probabilistic bound above. We show, in Algorithm <a href="#alg2" title="Alg. 2 ‚Ä£ 2.4 Combining with secure aggregation ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, how we can specialize this approach to our context, yielding discretized model update vectors in <math id="S2.SS4.SSS0.Px2.p3.7.m3.3" class="ltx_Math" alttext="\{-C_{\infty},\cdots,C_{\infty}\}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.7.m3.3a"><msup id="S2.SS4.SSS0.Px2.p3.7.m3.3.3" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.3" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml">{</mo><mrow id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1a" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.cmml">‚àí</mo><msub id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.2" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.3" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.3.cmml">‚àû</mi></msub></mrow><mo id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.4" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.7.m3.1.1" xref="S2.SS4.SSS0.Px2.p3.7.m3.1.1.cmml">‚ãØ</mi><mo id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.5" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml">,</mo><msub id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.2" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.3" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.3.cmml">‚àû</mi></msub><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.6" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml">}</mo></mrow><mi id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.4" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.4.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.7.m3.3b"><apply id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3">superscript</csymbol><set id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2"><apply id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1"><minus id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1"></minus><apply id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.2.2.1.1.1.2.3"></infinity></apply></apply><ci id="S2.SS4.SSS0.Px2.p3.7.m3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.1.1">‚ãØ</ci><apply id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.2.2.2.3"></infinity></apply></set><ci id="S2.SS4.SSS0.Px2.p3.7.m3.3.3.4.cmml" xref="S2.SS4.SSS0.Px2.p3.7.m3.3.3.4">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.7.m3.3c">\{-C_{\infty},\cdots,C_{\infty}\}^{d}</annotation></semantics></math> with an <math id="S2.SS4.SSS0.Px2.p3.8.m4.1" class="ltx_Math" alttext="\ell^{2}_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.8.m4.1a"><msubsup id="S2.SS4.SSS0.Px2.p3.8.m4.1.1" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.2" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.3" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.3.cmml">2</mn><mn id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.3" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.8.m4.1b"><apply id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1">subscript</csymbol><apply id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.2.3">2</cn></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p3.8.m4.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.8.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.8.m4.1c">\ell^{2}_{2}</annotation></semantics></math> norm smaller than <math id="S2.SS4.SSS0.Px2.p3.9.m5.3" class="ltx_Math" alttext="s^{2}C^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(sC+\sqrt{d}/2\right)" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.9.m5.3a"><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.cmml"><msup id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.2.cmml">s</mi><mn id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.1.cmml">‚Äã</mo><msup id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.2.cmml">C</mi><mn id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.3.cmml">2</mn></msup></mrow><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.2.cmml">d</mi><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.1.cmml">/</mo><mn id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.3.cmml">4</mn></mrow><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2a" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.cmml"><msqrt id="S2.SS4.SSS0.Px2.p3.9.m5.2.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.4" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.4.cmml">2</mn><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.3.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.1.1.1.1.cmml">log</mi><mo id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1a" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.cmml"><mn id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.2.cmml">1</mn><mo id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.1.cmml">/</mo><mi id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.3.cmml">Œ±</mi></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></msqrt><mo lspace="0.222em" rspace="0.222em" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.2.cmml">‚ãÖ</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.1.cmml">‚Äã</mo><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.3.cmml">C</mi></mrow><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.1.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.cmml"><msqrt id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.2" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.2.cmml">d</mi></msqrt><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.1" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.1.cmml">/</mo><mn id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.3.cmml">2</mn></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.3" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.9.m5.3b"><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3"><plus id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.2"></plus><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3"><times id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.1"></times><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.2">ùë†</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.2.3">2</cn></apply><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.2">ùê∂</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.3.3.3">2</cn></apply></apply><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4"><divide id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.1"></divide><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.2">ùëë</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.4.3">4</cn></apply><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1"><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.2">‚ãÖ</ci><apply id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2"><root id="S2.SS4.SSS0.Px2.p3.9.m5.2.2a.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2"></root><apply id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2"><times id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.3"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.4">2</cn><apply id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1"><log id="S2.SS4.SSS0.Px2.p3.9.m5.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.1.1.1.1"></log><apply id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1"><divide id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.1"></divide><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.2">1</cn><ci id="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.2.2.2.2.1.1.1.3">ùõº</ci></apply></apply></apply></apply><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1"><plus id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.1"></plus><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2"><times id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.1"></times><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.2">ùë†</ci><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.2.3">ùê∂</ci></apply><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3"><divide id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.1"></divide><apply id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2"><root id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2a.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2"></root><ci id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.2.2">ùëë</ci></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.9.m5.3.3.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.9.m5.3c">s^{2}C^{2}+d/4+\sqrt{2\log(1/\alpha)}\cdot\left(sC+\sqrt{d}/2\right)</annotation></semantics></math>. We used <math id="S2.SS4.SSS0.Px2.p3.10.m6.2" class="ltx_Math" alttext="\alpha=\exp(-0.5)" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.10.m6.2a"><mrow id="S2.SS4.SSS0.Px2.p3.10.m6.2.2" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.3" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.3.cmml">Œ±</mi><mo id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.2" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.2.cmml">=</mo><mrow id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.10.m6.1.1" xref="S2.SS4.SSS0.Px2.p3.10.m6.1.1.cmml">exp</mi><mo id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1a" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1a" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.cmml">‚àí</mo><mn id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.2.cmml">0.5</mn></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.3" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.10.m6.2b"><apply id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2"><eq id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.2"></eq><ci id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.3">ùõº</ci><apply id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1"><exp id="S2.SS4.SSS0.Px2.p3.10.m6.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.1.1"></exp><apply id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1"><minus id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1"></minus><cn type="float" id="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.10.m6.2.2.1.1.1.1.2">0.5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.10.m6.2c">\alpha=\exp(-0.5)</annotation></semantics></math> in production training. We finally shift the vectors so that they have coordinates centered around <math id="S2.SS4.SSS0.Px2.p3.11.m7.1" class="ltx_Math" alttext="C_{\infty}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.11.m7.1a"><msub id="S2.SS4.SSS0.Px2.p3.11.m7.1.1" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.2" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.3" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.11.m7.1b"><apply id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p3.11.m7.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p3.11.m7.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.11.m7.1c">C_{\infty}</annotation></semantics></math>, i.e. in <math id="S2.SS4.SSS0.Px2.p3.12.m8.5" class="ltx_Math" alttext="\{0,\cdots,+C_{\infty},\cdots,2C_{\infty}\}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.12.m8.5a"><msup id="S2.SS4.SSS0.Px2.p3.12.m8.5.5" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.cmml"><mrow id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.3" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">{</mo><mn id="S2.SS4.SSS0.Px2.p3.12.m8.1.1" xref="S2.SS4.SSS0.Px2.p3.12.m8.1.1.cmml">0</mn><mo id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.4" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">,</mo><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.12.m8.2.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.2.2.cmml">‚ãØ</mi><mo id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.5" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">,</mo><mrow id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1a" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.cmml">+</mo><msub id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.cmml"><mi id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.3" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.3.cmml">‚àû</mi></msub></mrow><mo id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.6" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">,</mo><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.12.m8.3.3" xref="S2.SS4.SSS0.Px2.p3.12.m8.3.3.cmml">‚ãØ</mi><mo id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.7" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">,</mo><mrow id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.1" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.1.cmml">‚Äã</mo><msub id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.2" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.3" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.3.cmml">‚àû</mi></msub></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.8" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml">}</mo></mrow><mi id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.4" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.4.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.12.m8.5b"><apply id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5">superscript</csymbol><set id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2"><cn type="integer" id="S2.SS4.SSS0.Px2.p3.12.m8.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.1.1">0</cn><ci id="S2.SS4.SSS0.Px2.p3.12.m8.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.2.2">‚ãØ</ci><apply id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1"><plus id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1"></plus><apply id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.4.4.1.1.1.2.3"></infinity></apply></apply><ci id="S2.SS4.SSS0.Px2.p3.12.m8.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.3.3">‚ãØ</ci><apply id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2"><times id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.2">2</cn><apply id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.1.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.3.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.2.2.2.3.3"></infinity></apply></apply></set><ci id="S2.SS4.SSS0.Px2.p3.12.m8.5.5.4.cmml" xref="S2.SS4.SSS0.Px2.p3.12.m8.5.5.4">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.12.m8.5c">\{0,\cdots,+C_{\infty},\cdots,2C_{\infty}\}^{d}</annotation></semantics></math>, and apply modulo <math id="S2.SS4.SSS0.Px2.p3.13.m9.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS4.SSS0.Px2.p3.13.m9.1a"><mi id="S2.SS4.SSS0.Px2.p3.13.m9.1.1" xref="S2.SS4.SSS0.Px2.p3.13.m9.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p3.13.m9.1b"><ci id="S2.SS4.SSS0.Px2.p3.13.m9.1.1.cmml" xref="S2.SS4.SSS0.Px2.p3.13.m9.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p3.13.m9.1c">M</annotation></semantics></math> so that the vector entries are in the right format that is expected by SecAgg.</p>
</div>
<div id="S2.SS4.SSS0.Px2.p4" class="ltx_para">
<p id="S2.SS4.SSS0.Px2.p4.13" class="ltx_p">After applying the SecAgg protocol, we unshift, unscale, and unrotate the securely aggregated client outputs. It‚Äôs important to notice that <math id="S2.SS4.SSS0.Px2.p4.1.m1.1" class="ltx_Math" alttext="M=2C_{\infty}\cdot m+1" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.1.m1.1a"><mrow id="S2.SS4.SSS0.Px2.p4.1.m1.1.1" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.2.cmml">M</mi><mo id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.1.cmml">=</mo><mrow id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.cmml"><mrow id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.2" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.1" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.1.cmml">‚Äã</mo><msub id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.cmml"><mi id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.2" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.2.cmml">C</mi><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.3" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.3.cmml">‚àû</mi></msub></mrow><mo lspace="0.222em" rspace="0.222em" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.1" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.1.cmml">‚ãÖ</mo><mi id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.3" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.3.cmml">m</mi></mrow><mo id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.1" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.1.cmml">+</mo><mn id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.3" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.1.m1.1b"><apply id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1"><eq id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.1"></eq><ci id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.2">ùëÄ</ci><apply id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3"><plus id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.1"></plus><apply id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2"><ci id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.1">‚ãÖ</ci><apply id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2"><times id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.2">2</cn><apply id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.1.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.2">ùê∂</ci><infinity id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.3.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.2.3.3"></infinity></apply></apply><ci id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.2.3">ùëö</ci></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p4.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.1.m1.1c">M=2C_{\infty}\cdot m+1</annotation></semantics></math> was deliberately chosen so that no modulo wrap-arounds (overflows) happen during the secure aggregation step<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We did not explicitly use clipping to bound the <math id="footnote2.m1.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="footnote2.m1.1b"><msub id="footnote2.m1.1.1" xref="footnote2.m1.1.1.cmml"><mi mathvariant="normal" id="footnote2.m1.1.1.2" xref="footnote2.m1.1.1.2.cmml">‚Ñì</mi><mi mathvariant="normal" id="footnote2.m1.1.1.3" xref="footnote2.m1.1.1.3.cmml">‚àû</mi></msub><annotation-xml encoding="MathML-Content" id="footnote2.m1.1c"><apply id="footnote2.m1.1.1.cmml" xref="footnote2.m1.1.1"><csymbol cd="ambiguous" id="footnote2.m1.1.1.1.cmml" xref="footnote2.m1.1.1">subscript</csymbol><ci id="footnote2.m1.1.1.2.cmml" xref="footnote2.m1.1.1.2">‚Ñì</ci><infinity id="footnote2.m1.1.1.3.cmml" xref="footnote2.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m1.1d">\ell_{\infty}</annotation></semantics></math> of client vectors in the current version of training. This means that modulo wrap-arounds could have happened, inflating the <math id="footnote2.m2.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="footnote2.m2.1b"><msub id="footnote2.m2.1.1" xref="footnote2.m2.1.1.cmml"><mi mathvariant="normal" id="footnote2.m2.1.1.2" xref="footnote2.m2.1.1.2.cmml">‚Ñì</mi><mn id="footnote2.m2.1.1.3" xref="footnote2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="footnote2.m2.1c"><apply id="footnote2.m2.1.1.cmml" xref="footnote2.m2.1.1"><csymbol cd="ambiguous" id="footnote2.m2.1.1.1.cmml" xref="footnote2.m2.1.1">subscript</csymbol><ci id="footnote2.m2.1.1.2.cmml" xref="footnote2.m2.1.1.2">‚Ñì</ci><cn type="integer" id="footnote2.m2.1.1.3.cmml" xref="footnote2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m2.1d">\ell_{2}</annotation></semantics></math> sensitivity by up to <math id="footnote2.m3.1" class="ltx_Math" alttext="dM" display="inline"><semantics id="footnote2.m3.1b"><mrow id="footnote2.m3.1.1" xref="footnote2.m3.1.1.cmml"><mi id="footnote2.m3.1.1.2" xref="footnote2.m3.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="footnote2.m3.1.1.1" xref="footnote2.m3.1.1.1.cmml">‚Äã</mo><mi id="footnote2.m3.1.1.3" xref="footnote2.m3.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="footnote2.m3.1c"><apply id="footnote2.m3.1.1.cmml" xref="footnote2.m3.1.1"><times id="footnote2.m3.1.1.1.cmml" xref="footnote2.m3.1.1.1"></times><ci id="footnote2.m3.1.1.2.cmml" xref="footnote2.m3.1.1.2">ùëë</ci><ci id="footnote2.m3.1.1.3.cmml" xref="footnote2.m3.1.1.3">ùëÄ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m3.1d">dM</annotation></semantics></math>. However, our choice of <math id="footnote2.m4.1" class="ltx_Math" alttext="M" display="inline"><semantics id="footnote2.m4.1b"><mi id="footnote2.m4.1.1" xref="footnote2.m4.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="footnote2.m4.1c"><ci id="footnote2.m4.1.1.cmml" xref="footnote2.m4.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m4.1d">M</annotation></semantics></math> was relatively large, and the probability of a modulo wrap-around is less than <math id="footnote2.m5.1" class="ltx_Math" alttext="2\times 10^{-27}" display="inline"><semantics id="footnote2.m5.1b"><mrow id="footnote2.m5.1.1" xref="footnote2.m5.1.1.cmml"><mn id="footnote2.m5.1.1.2" xref="footnote2.m5.1.1.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="footnote2.m5.1.1.1" xref="footnote2.m5.1.1.1.cmml">√ó</mo><msup id="footnote2.m5.1.1.3" xref="footnote2.m5.1.1.3.cmml"><mn id="footnote2.m5.1.1.3.2" xref="footnote2.m5.1.1.3.2.cmml">10</mn><mrow id="footnote2.m5.1.1.3.3" xref="footnote2.m5.1.1.3.3.cmml"><mo id="footnote2.m5.1.1.3.3b" xref="footnote2.m5.1.1.3.3.cmml">‚àí</mo><mn id="footnote2.m5.1.1.3.3.2" xref="footnote2.m5.1.1.3.3.2.cmml">27</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="footnote2.m5.1c"><apply id="footnote2.m5.1.1.cmml" xref="footnote2.m5.1.1"><times id="footnote2.m5.1.1.1.cmml" xref="footnote2.m5.1.1.1"></times><cn type="integer" id="footnote2.m5.1.1.2.cmml" xref="footnote2.m5.1.1.2">2</cn><apply id="footnote2.m5.1.1.3.cmml" xref="footnote2.m5.1.1.3"><csymbol cd="ambiguous" id="footnote2.m5.1.1.3.1.cmml" xref="footnote2.m5.1.1.3">superscript</csymbol><cn type="integer" id="footnote2.m5.1.1.3.2.cmml" xref="footnote2.m5.1.1.3.2">10</cn><apply id="footnote2.m5.1.1.3.3.cmml" xref="footnote2.m5.1.1.3.3"><minus id="footnote2.m5.1.1.3.3.1.cmml" xref="footnote2.m5.1.1.3.3"></minus><cn type="integer" id="footnote2.m5.1.1.3.3.2.cmml" xref="footnote2.m5.1.1.3.3.2">27</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="footnote2.m5.1d">2\times 10^{-27}</annotation></semantics></math>.</span></span></span>. Upon unscaling by <math id="S2.SS4.SSS0.Px2.p4.2.m2.1" class="ltx_Math" alttext="1/s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.2.m2.1a"><mrow id="S2.SS4.SSS0.Px2.p4.2.m2.1.1" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.cmml"><mn id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.2" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.2.cmml">1</mn><mo id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.1" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.1.cmml">/</mo><mi id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.3" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.3.cmml">s</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.2.m2.1b"><apply id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1"><divide id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.1"></divide><cn type="integer" id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.2">1</cn><ci id="S2.SS4.SSS0.Px2.p4.2.m2.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.2.m2.1.1.3">ùë†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.2.m2.1c">1/s</annotation></semantics></math>, the <math id="S2.SS4.SSS0.Px2.p4.3.m3.1" class="ltx_Math" alttext="\ell^{2}_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.3.m3.1a"><msubsup id="S2.SS4.SSS0.Px2.p4.3.m3.1.1" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.2" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.3" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.3.cmml">2</mn><mn id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.3" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.3.m3.1b"><apply id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1">subscript</csymbol><apply id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.1.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.2.3">2</cn></apply><cn type="integer" id="S2.SS4.SSS0.Px2.p4.3.m3.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.3.m3.1c">\ell^{2}_{2}</annotation></semantics></math> norm of the vectors securely summed becomes <math id="S2.SS4.SSS0.Px2.p4.4.m4.4" class="ltx_Math" alttext="C^{2}_{\text{inflated}}=C^{2}+d/(4s^{2})+\sqrt{2\log(1/\alpha)}\cdot\left(C/s+\sqrt{d}/(2s^{2})\right)" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.4.m4.4a"><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.cmml"><msubsup id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.2.cmml">C</mi><mtext id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3a.cmml">inflated</mtext><mn id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.3.cmml">2</mn></msubsup><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.3.cmml">=</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.cmml"><msup id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.2.cmml">C</mi><mn id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.3.cmml">2</mn></msup><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.3.cmml">d</mi><mo id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.2.cmml">/</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.cmml"><mn id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.2.cmml">4</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.1.cmml">‚Äã</mo><msup id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.2.cmml">s</mi><mn id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.3.cmml">2</mn></msup></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3a" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.cmml"><msqrt id="S2.SS4.SSS0.Px2.p4.4.m4.2.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.cmml"><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.cmml"><mn id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.4" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.4.cmml">2</mn><mo lspace="0.167em" rspace="0em" id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.3.cmml">‚Äã</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.1.1.1.1.cmml">log</mi><mo id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1a" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml">‚Å°</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.cmml"><mn id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.2.cmml">1</mn><mo id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.1.cmml">/</mo><mi id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.3.cmml">Œ±</mi></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></msqrt><mo lspace="0.222em" rspace="0.222em" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.2.cmml">‚ãÖ</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.cmml"><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.cmml"><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.2.cmml">C</mi><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.1.cmml">/</mo><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.3.cmml">s</mi></mrow><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.2.cmml">+</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.cmml"><msqrt id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.2.cmml">d</mi></msqrt><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.2.cmml">/</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.cmml"><mn id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.1" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.1.cmml">‚Äã</mo><msup id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.2" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.2.cmml">s</mi><mn id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.3.cmml">2</mn></msup></mrow><mo stretchy="false" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.3" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.4.m4.4b"><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4"><eq id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.3"></eq><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4">subscript</csymbol><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.2">ùê∂</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.2.3">2</cn></apply><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3a.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3"><mtext mathsize="70%" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.4.3">inflated</mtext></ci></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2"><plus id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.3"></plus><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.2">ùê∂</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.4.3">2</cn></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1"><divide id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.2"></divide><ci id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.3">ùëë</ci><apply id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1"><times id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.2">4</cn><apply id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.2">ùë†</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.3.3.1.1.1.1.1.3.3">2</cn></apply></apply></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2"><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.2">‚ãÖ</ci><apply id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2"><root id="S2.SS4.SSS0.Px2.p4.4.m4.2.2a.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2"></root><apply id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2"><times id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.3"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.4.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.4">2</cn><apply id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1"><log id="S2.SS4.SSS0.Px2.p4.4.m4.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.1.1.1.1"></log><apply id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1"><divide id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.1"></divide><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.2">1</cn><ci id="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.2.2.2.2.1.1.1.3">ùõº</ci></apply></apply></apply></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1"><plus id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.2"></plus><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3"><divide id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.1"></divide><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.2">ùê∂</ci><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.3.3">ùë†</ci></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1"><divide id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.2"></divide><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3"><root id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3a.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3"></root><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.3.2">ùëë</ci></apply><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1"><times id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.1"></times><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.2">2</cn><apply id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.2">ùë†</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S2.SS4.SSS0.Px2.p4.4.m4.4.4.2.2.1.1.1.1.1.1.1.3.3">2</cn></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.4.m4.4c">C^{2}_{\text{inflated}}=C^{2}+d/(4s^{2})+\sqrt{2\log(1/\alpha)}\cdot\left(C/s+\sqrt{d}/(2s^{2})\right)</annotation></semantics></math>. Thus, the larger the <math id="S2.SS4.SSS0.Px2.p4.5.m5.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.5.m5.1a"><mi id="S2.SS4.SSS0.Px2.p4.5.m5.1.1" xref="S2.SS4.SSS0.Px2.p4.5.m5.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.5.m5.1b"><ci id="S2.SS4.SSS0.Px2.p4.5.m5.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.5.m5.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.5.m5.1c">s</annotation></semantics></math> is, the closer the inflated <math id="S2.SS4.SSS0.Px2.p4.6.m6.1" class="ltx_Math" alttext="\ell_{2}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.6.m6.1a"><msub id="S2.SS4.SSS0.Px2.p4.6.m6.1.1" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1.cmml"><mi mathvariant="normal" id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.2" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1.2.cmml">‚Ñì</mi><mn id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.3" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.6.m6.1b"><apply id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1.2">‚Ñì</ci><cn type="integer" id="S2.SS4.SSS0.Px2.p4.6.m6.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.6.m6.1c">\ell_{2}</annotation></semantics></math> is to <math id="S2.SS4.SSS0.Px2.p4.7.m7.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.7.m7.1a"><mi id="S2.SS4.SSS0.Px2.p4.7.m7.1.1" xref="S2.SS4.SSS0.Px2.p4.7.m7.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.7.m7.1b"><ci id="S2.SS4.SSS0.Px2.p4.7.m7.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.7.m7.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.7.m7.1c">C</annotation></semantics></math> (the original clip norm applied in <math id="S2.SS4.SSS0.Px2.p4.8.m8.1" class="ltx_Math" alttext="\mathbb{R}^{d}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.8.m8.1a"><msup id="S2.SS4.SSS0.Px2.p4.8.m8.1.1" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.2" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1.2.cmml">‚Ñù</mi><mi id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.3" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1.3.cmml">d</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.8.m8.1b"><apply id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1">superscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1.2">‚Ñù</ci><ci id="S2.SS4.SSS0.Px2.p4.8.m8.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.8.m8.1.1.3">ùëë</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.8.m8.1c">\mathbb{R}^{d}</annotation></semantics></math>). In reality, we cannot choose <math id="S2.SS4.SSS0.Px2.p4.9.m9.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.9.m9.1a"><mi id="S2.SS4.SSS0.Px2.p4.9.m9.1.1" xref="S2.SS4.SSS0.Px2.p4.9.m9.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.9.m9.1b"><ci id="S2.SS4.SSS0.Px2.p4.9.m9.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.9.m9.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.9.m9.1c">s</annotation></semantics></math> to be arbitrarily large because <math id="S2.SS4.SSS0.Px2.p4.10.m10.1" class="ltx_Math" alttext="M" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.10.m10.1a"><mi id="S2.SS4.SSS0.Px2.p4.10.m10.1.1" xref="S2.SS4.SSS0.Px2.p4.10.m10.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.10.m10.1b"><ci id="S2.SS4.SSS0.Px2.p4.10.m10.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.10.m10.1.1">ùëÄ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.10.m10.1c">M</annotation></semantics></math>, which dictates the communication and computational costs of SecAgg, scales linearly with <math id="S2.SS4.SSS0.Px2.p4.11.m11.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.11.m11.1a"><mi id="S2.SS4.SSS0.Px2.p4.11.m11.1.1" xref="S2.SS4.SSS0.Px2.p4.11.m11.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.11.m11.1b"><ci id="S2.SS4.SSS0.Px2.p4.11.m11.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.11.m11.1.1">ùë†</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.11.m11.1c">s</annotation></semantics></math>. For DP accounting purposes, we have used the DP-FTRL accounting code with <math id="S2.SS4.SSS0.Px2.p4.12.m12.1" class="ltx_Math" alttext="C_{\text{inflated}}" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.12.m12.1a"><msub id="S2.SS4.SSS0.Px2.p4.12.m12.1.1" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.cmml"><mi id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.2" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.2.cmml">C</mi><mtext id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3a.cmml">inflated</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.12.m12.1b"><apply id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1">subscript</csymbol><ci id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.2.cmml" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.2">ùê∂</ci><ci id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3a.cmml" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3"><mtext mathsize="70%" id="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3.cmml" xref="S2.SS4.SSS0.Px2.p4.12.m12.1.1.3">inflated</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.12.m12.1c">C_{\text{inflated}}</annotation></semantics></math> instead of <math id="S2.SS4.SSS0.Px2.p4.13.m13.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.SS4.SSS0.Px2.p4.13.m13.1a"><mi id="S2.SS4.SSS0.Px2.p4.13.m13.1.1" xref="S2.SS4.SSS0.Px2.p4.13.m13.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.SSS0.Px2.p4.13.m13.1b"><ci id="S2.SS4.SSS0.Px2.p4.13.m13.1.1.cmml" xref="S2.SS4.SSS0.Px2.p4.13.m13.1.1">ùê∂</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.SSS0.Px2.p4.13.m13.1c">C</annotation></semantics></math> to account for SecAgg‚Äôs role.</p>
</div>
</section>
<section id="S2.SS4.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Challenges and future work.</h4>

<div id="S2.SS4.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS4.SSS0.Px3.p1.1" class="ltx_p">The large report goal requirement for strong DP guarantees is challenging for SecAgg in practice, which requires a slightly different system configuration. The SecAgg training speeds we observe are still notably slower, and we leave for future work potential improvements such as compression for communication efficiency¬†<cite class="ltx_cite ltx_citemacro_citep">[Chen et¬†al., <a href="#bib.bib11" title="" class="ltx_ref">2022</a>]</cite>, new DP methods to reduce report goal¬†<cite class="ltx_cite ltx_citemacro_citep">[Choquette-Choo et¬†al., <a href="#bib.bib13" title="" class="ltx_ref">2022</a>]</cite>, and embedding compression to reduce round time¬†<cite class="ltx_cite ltx_citemacro_citep">[Shu and Nakayama, <a href="#bib.bib29" title="" class="ltx_ref">2017</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S2.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.5 </span>Recommended strategies and practices</h3>

<div id="S2.SS5.p1" class="ltx_para">
<p id="S2.SS5.p1.1" class="ltx_p">We summarize our strategy for training Gboard LMs with DP.

<span id="S2.I2" class="ltx_inline-enumerate">
<span id="S2.I2.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i1.1.1.1" class="ltx_text" style="color:#BF0040;">(1)</span></span> <span id="S2.I2.i1.5" class="ltx_text">Pre-train the model on public datasets if possible.
</span></span>
<span id="S2.I2.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i2.1.1.1" class="ltx_text" style="color:#BF0040;">(2)</span></span> <span id="S2.I2.i2.5" class="ltx_text">Choose the maximum noise multiplier that meets the utility target based on small report goal simulation experiments on public datasets that is similar to the production task.
</span></span>
<span id="S2.I2.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i3.1.1.1" class="ltx_text" style="color:#BF0040;">(3)</span></span> <span id="S2.I2.i3.5" class="ltx_text">Based on the target number of rounds and estimated population, linearly increase the report goal and noise multiplier to meet the privacy target, and choose a large report goal supported by the system. If the privacy target is unachievable, fix the report goal to maximum, and increase the noise multiplier to target on a model with suboptimal utility.
</span></span>
<span id="S2.I2.i4" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i4.1.1.1" class="ltx_text" style="color:#BF0040;">(4)</span></span> <span id="S2.I2.i4.5" class="ltx_text">Estimate the possible maximum MinS based on chosen report goal and estimated population, and configure the timer period to approach the MinS; use previous experience of model training speed if applicable.
</span></span>
<span id="S2.I2.i5" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i5.1.1.1" class="ltx_text" style="color:#BF0040;">(5)</span></span> <span id="S2.I2.i5.5" class="ltx_text">If the hyperparameters (e.g., learning rates) are known from previous experiments or simulation on public datasets, apply DP-FTRL with adaptive clipping (<a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>) without manual tuning to try meet the privacy and utility goals. Note that <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a> needs to account the noise inflation and restart for privacy guarantees.
</span></span>
<span id="S2.I2.i6" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i6.3.1.1" class="ltx_text" style="color:#BF0040;">(6)</span></span> <span id="S2.I2.i6.2" class="ltx_text">If <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a> fails or stronger privacy and utility are desirable, we can run a few small report goal experiments with <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a> that tune quantile <math id="S2.I2.i6.1.m1.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S2.I2.i6.1.m1.1a"><mi id="S2.I2.i6.1.m1.1.1" xref="S2.I2.i6.1.m1.1.1.cmml">Œ≥</mi><annotation-xml encoding="MathML-Content" id="S2.I2.i6.1.m1.1b"><ci id="S2.I2.i6.1.m1.1.1.cmml" xref="S2.I2.i6.1.m1.1.1">ùõæ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i6.1.m1.1c">\gamma</annotation></semantics></math> and server learning rate <math id="S2.I2.i6.2.m2.1" class="ltx_Math" alttext="\eta_{s}" display="inline"><semantics id="S2.I2.i6.2.m2.1a"><msub id="S2.I2.i6.2.m2.1.1" xref="S2.I2.i6.2.m2.1.1.cmml"><mi id="S2.I2.i6.2.m2.1.1.2" xref="S2.I2.i6.2.m2.1.1.2.cmml">Œ∑</mi><mi id="S2.I2.i6.2.m2.1.1.3" xref="S2.I2.i6.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S2.I2.i6.2.m2.1b"><apply id="S2.I2.i6.2.m2.1.1.cmml" xref="S2.I2.i6.2.m2.1.1"><csymbol cd="ambiguous" id="S2.I2.i6.2.m2.1.1.1.cmml" xref="S2.I2.i6.2.m2.1.1">subscript</csymbol><ci id="S2.I2.i6.2.m2.1.1.2.cmml" xref="S2.I2.i6.2.m2.1.1.2">ùúÇ</ci><ci id="S2.I2.i6.2.m2.1.1.3.cmml" xref="S2.I2.i6.2.m2.1.1.3">ùë†</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.I2.i6.2.m2.1c">\eta_{s}</annotation></semantics></math>, select the best learning rate, and fix the clip norm based on the estimation; and run DP-FTRL with large report goals.
</span></span>
<span id="S2.I2.i7" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S2.I2.i7.1.1.1" class="ltx_text" style="color:#BF0040;">(7)</span></span> <span id="S2.I2.i7.5" class="ltx_text">SecAgg can be used for all experiments, and precise MaxP and MinS are computed by post-processing for privacy accounting.
</span></span>
</span></p>
</div>
<figure id="S2.T1" class="ltx_table">
<table id="S2.T1.2" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.T1.2.1.1" class="ltx_tr">
<td id="S2.T1.2.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.1.1.1.1" class="ltx_text">NWP</span></td>
<td id="S2.T1.2.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.1.1.2.1" class="ltx_text">Rounds</span></td>
<td id="S2.T1.2.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">Utility</td>
<td id="S2.T1.2.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">Privacy</td>
<td id="S2.T1.2.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.1.1.5.1" class="ltx_text">
<span id="S2.T1.2.1.1.5.1.1" class="ltx_inline-block ltx_align_left">
<span id="S2.T1.2.1.1.5.1.1.1" class="ltx_p">Est.</span>
<span id="S2.T1.2.1.1.5.1.1.2" class="ltx_p">Pop. (M)</span>
</span></span></td>
<td id="S2.T1.2.1.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.1.1.6.1" class="ltx_text">BaseModel</span></td>
</tr>
<tr id="S2.T1.2.2.2" class="ltx_tr">
<td id="S2.T1.2.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">PRate(+%)</td>
<td id="S2.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Acc(+%)</td>
<td id="S2.T1.2.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MinS/MaxP/Timer</td>
<td id="S2.T1.2.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">zCDP</td>
</tr>
<tr id="S2.T1.2.3.3" class="ltx_tr">
<td id="S2.T1.2.3.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">de-DE</td>
<td id="S2.T1.2.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">930</td>
<td id="S2.T1.2.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8.28</td>
<td id="S2.T1.2.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">12.49</td>
<td id="S2.T1.2.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">212 / 4/ 48h</td>
<td id="S2.T1.2.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.48</td>
<td id="S2.T1.2.3.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.24</td>
<td id="S2.T1.2.3.3.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="5"><span id="S2.T1.2.3.3.8.1" class="ltx_text">
<span id="S2.T1.2.3.3.8.1.1" class="ltx_inline-block ltx_align_left">
<span id="S2.T1.2.3.3.8.1.1.1" class="ltx_p">N-gram</span>
</span></span></td>
</tr>
<tr id="S2.T1.2.4.4" class="ltx_tr">
<td id="S2.T1.2.4.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">en-GB</td>
<td id="S2.T1.2.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">980</td>
<td id="S2.T1.2.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.26</td>
<td id="S2.T1.2.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.72</td>
<td id="S2.T1.2.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">226 / 4 / 72h</td>
<td id="S2.T1.2.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.48</td>
<td id="S2.T1.2.4.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2.38</td>
</tr>
<tr id="S2.T1.2.5.5" class="ltx_tr">
<td id="S2.T1.2.5.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">fr-FR</td>
<td id="S2.T1.2.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1280</td>
<td id="S2.T1.2.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.78</td>
<td id="S2.T1.2.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">8.50</td>
<td id="S2.T1.2.5.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">180 / 5 / 72h</td>
<td id="S2.T1.2.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.89</td>
<td id="S2.T1.2.5.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2.79</td>
</tr>
<tr id="S2.T1.2.6.6" class="ltx_tr">
<td id="S2.T1.2.6.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">it-IT</td>
<td id="S2.T1.2.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1620</td>
<td id="S2.T1.2.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.98</td>
<td id="S2.T1.2.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.86</td>
<td id="S2.T1.2.6.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">303 / 5 / 72h</td>
<td id="S2.T1.2.6.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.71</td>
<td id="S2.T1.2.6.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.32</td>
</tr>
<tr id="S2.T1.2.7.7" class="ltx_tr">
<td id="S2.T1.2.7.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">pt-PT</td>
<td id="S2.T1.2.7.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">530</td>
<td id="S2.T1.2.7.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3.99</td>
<td id="S2.T1.2.7.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.82</td>
<td id="S2.T1.2.7.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54 / 8 / 48h</td>
<td id="S2.T1.2.7.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.86</td>
<td id="S2.T1.2.7.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.83</td>
</tr>
<tr id="S2.T1.2.8.8" class="ltx_tr">
<td id="S2.T1.2.8.8.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">es-ES</td>
<td id="S2.T1.2.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1900</td>
<td id="S2.T1.2.8.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.29</td>
<td id="S2.T1.2.8.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.48</td>
<td id="S2.T1.2.8.8.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">526 / 3 / 144h</td>
<td id="S2.T1.2.8.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.35</td>
<td id="S2.T1.2.8.8.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.8.8.7.1" class="ltx_text">4.21</span></td>
<td id="S2.T1.2.8.8.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.8.8.8.1" class="ltx_text">
<span id="S2.T1.2.8.8.8.1.1" class="ltx_inline-block ltx_align_left">
<span id="S2.T1.2.8.8.8.1.1.1" class="ltx_p">zCDP 0.81</span>
</span></span></td>
</tr>
<tr id="S2.T1.2.9.9" class="ltx_tr">
<td id="S2.T1.2.9.9.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">es-ES*</td>
<td id="S2.T1.2.9.9.2" class="ltx_td ltx_align_center ltx_border_r">1750</td>
<td id="S2.T1.2.9.9.3" class="ltx_td ltx_align_center ltx_border_r">0.32</td>
<td id="S2.T1.2.9.9.4" class="ltx_td ltx_align_center ltx_border_r">0.56</td>
<td id="S2.T1.2.9.9.5" class="ltx_td ltx_align_center ltx_border_r">349 / 4 / 144h</td>
<td id="S2.T1.2.9.9.6" class="ltx_td ltx_align_center ltx_border_r">0.52</td>
</tr>
<tr id="S2.T1.2.10.10" class="ltx_tr">
<td id="S2.T1.2.10.10.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">en-US</td>
<td id="S2.T1.2.10.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">2800</td>
<td id="S2.T1.2.10.10.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.39</td>
<td id="S2.T1.2.10.10.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.11</td>
<td id="S2.T1.2.10.10.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">371 / 7 / 48h</td>
<td id="S2.T1.2.10.10.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.31</td>
<td id="S2.T1.2.10.10.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T1.2.10.10.7.1" class="ltx_text">13</span></td>
<td id="S2.T1.2.10.10.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="4"><span id="S2.T1.2.10.10.8.1" class="ltx_text">
<span id="S2.T1.2.10.10.8.1.1" class="ltx_inline-block ltx_align_left">
<span id="S2.T1.2.10.10.8.1.1.1" class="ltx_p">No-DP NN</span>
</span></span></td>
</tr>
<tr id="S2.T1.2.11.11" class="ltx_tr">
<td id="S2.T1.2.11.11.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r">en-US*</td>
<td id="S2.T1.2.11.11.2" class="ltx_td ltx_align_center ltx_border_r">1360</td>
<td id="S2.T1.2.11.11.3" class="ltx_td ltx_align_center ltx_border_r">-0.30</td>
<td id="S2.T1.2.11.11.4" class="ltx_td ltx_align_center ltx_border_r">0.15</td>
<td id="S2.T1.2.11.11.5" class="ltx_td ltx_align_center ltx_border_r">622 / 2 / 144h</td>
<td id="S2.T1.2.11.11.6" class="ltx_td ltx_align_center ltx_border_r">0.25</td>
</tr>
<tr id="S2.T1.2.12.12" class="ltx_tr">
<td id="S2.T1.2.12.12.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">pt-BR</td>
<td id="S2.T1.2.12.12.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">3600</td>
<td id="S2.T1.2.12.12.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.18</td>
<td id="S2.T1.2.12.12.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.29</td>
<td id="S2.T1.2.12.12.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">909 / 3 / 144h</td>
<td id="S2.T1.2.12.12.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.45</td>
<td id="S2.T1.2.12.12.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">16.6</td>
</tr>
<tr id="S2.T1.2.13.13" class="ltx_tr">
<td id="S2.T1.2.13.13.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">en-IN</td>
<td id="S2.T1.2.13.13.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1290</td>
<td id="S2.T1.2.13.13.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.19</td>
<td id="S2.T1.2.13.13.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.40</td>
<td id="S2.T1.2.13.13.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">170 / 6 / 96h</td>
<td id="S2.T1.2.13.13.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.14</td>
<td id="S2.T1.2.13.13.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.72</td>
</tr>
<tr id="S2.T1.2.14.14" class="ltx_tr">
<td id="S2.T1.2.14.14.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">es-MX</td>
<td id="S2.T1.2.14.14.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1980</td>
<td id="S2.T1.2.14.14.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.15</td>
<td id="S2.T1.2.14.14.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.29</td>
<td id="S2.T1.2.14.14.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">343 / 5 / 96h</td>
<td id="S2.T1.2.14.14.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.64</td>
<td id="S2.T1.2.14.14.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.96</td>
<td id="S2.T1.2.14.14.8" class="ltx_td ltx_border_r"></td>
</tr>
<tr id="S2.T1.2.15.15" class="ltx_tr">
<td id="S2.T1.2.15.15.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">es-AR</td>
<td id="S2.T1.2.15.15.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">640</td>
<td id="S2.T1.2.15.15.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.25</td>
<td id="S2.T1.2.15.15.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">3.50</td>
<td id="S2.T1.2.15.15.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">90 / 5 / 96h</td>
<td id="S2.T1.2.15.15.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.84</td>
<td id="S2.T1.2.15.15.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">4.09</td>
<td id="S2.T1.2.15.15.8" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">Mix</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S2.T1.3.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S2.T1.4.2" class="ltx_text" style="font-size:90%;">Live A/B tests of DP NWP models. Utility shows the improvement from previously deployed models; privacy shows the key parameters and corresponding device-level zCDP; all models are trained by DP-FTRL with report goal of 6500 and noise multiplier of 7; en-US*/es-ES* are trained with SecAgg in addition to DP; the base model in AR is a mix of N-gram and No-DP NN models.
</span></figcaption>
</figure>
<figure id="S2.T2" class="ltx_table">
<table id="S2.T2.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.T2.1.2.1" class="ltx_tr">
<td id="S2.T2.1.2.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T2.1.2.1.1.1" class="ltx_text">OTF</span></td>
<td id="S2.T2.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" rowspan="2"><span id="S2.T2.1.2.1.2.1" class="ltx_text">Rounds</span></td>
<td id="S2.T2.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">Utility</td>
<td id="S2.T2.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3">Privacy</td>
</tr>
<tr id="S2.T2.1.1" class="ltx_tr">
<td id="S2.T2.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">WMR(-%)</td>
<td id="S2.T2.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">WPM(+%)</td>
<td id="S2.T2.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MinS/MaxP/Timer</td>
<td id="S2.T2.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">zCDP</td>
<td id="S2.T2.1.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">DP-<math id="S2.T2.1.1.1.m1.1" class="ltx_Math" alttext="\epsilon(\delta=10^{-10})" display="inline"><semantics id="S2.T2.1.1.1.m1.1a"><mrow id="S2.T2.1.1.1.m1.1.1" xref="S2.T2.1.1.1.m1.1.1.cmml"><mi id="S2.T2.1.1.1.m1.1.1.3" xref="S2.T2.1.1.1.m1.1.1.3.cmml">œµ</mi><mo lspace="0em" rspace="0em" id="S2.T2.1.1.1.m1.1.1.2" xref="S2.T2.1.1.1.m1.1.1.2.cmml">‚Äã</mo><mrow id="S2.T2.1.1.1.m1.1.1.1.1" xref="S2.T2.1.1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.T2.1.1.1.m1.1.1.1.1.2" xref="S2.T2.1.1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S2.T2.1.1.1.m1.1.1.1.1.1" xref="S2.T2.1.1.1.m1.1.1.1.1.1.cmml"><mi id="S2.T2.1.1.1.m1.1.1.1.1.1.2" xref="S2.T2.1.1.1.m1.1.1.1.1.1.2.cmml">Œ¥</mi><mo id="S2.T2.1.1.1.m1.1.1.1.1.1.1" xref="S2.T2.1.1.1.m1.1.1.1.1.1.1.cmml">=</mo><msup id="S2.T2.1.1.1.m1.1.1.1.1.1.3" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.cmml"><mn id="S2.T2.1.1.1.m1.1.1.1.1.1.3.2" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml">10</mn><mrow id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml"><mo id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3a" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml">‚àí</mo><mn id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2.cmml">10</mn></mrow></msup></mrow><mo stretchy="false" id="S2.T2.1.1.1.m1.1.1.1.1.3" xref="S2.T2.1.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.T2.1.1.1.m1.1b"><apply id="S2.T2.1.1.1.m1.1.1.cmml" xref="S2.T2.1.1.1.m1.1.1"><times id="S2.T2.1.1.1.m1.1.1.2.cmml" xref="S2.T2.1.1.1.m1.1.1.2"></times><ci id="S2.T2.1.1.1.m1.1.1.3.cmml" xref="S2.T2.1.1.1.m1.1.1.3">italic-œµ</ci><apply id="S2.T2.1.1.1.m1.1.1.1.1.1.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1"><eq id="S2.T2.1.1.1.m1.1.1.1.1.1.1.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.1"></eq><ci id="S2.T2.1.1.1.m1.1.1.1.1.1.2.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.2">ùõø</ci><apply id="S2.T2.1.1.1.m1.1.1.1.1.1.3.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.T2.1.1.1.m1.1.1.1.1.1.3.1.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3">superscript</csymbol><cn type="integer" id="S2.T2.1.1.1.m1.1.1.1.1.1.3.2.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.2">10</cn><apply id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3"><minus id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.1.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3"></minus><cn type="integer" id="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2.cmml" xref="S2.T2.1.1.1.m1.1.1.1.1.1.3.3.2">10</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.1.1.1.m1.1c">\epsilon(\delta=10^{-10})</annotation></semantics></math>
</td>
</tr>
<tr id="S2.T2.1.3.2" class="ltx_tr">
<td id="S2.T2.1.3.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">de-DE</td>
<td id="S2.T2.1.3.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1170</td>
<td id="S2.T2.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.01</td>
<td id="S2.T2.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.59</td>
<td id="S2.T2.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">206 / 5 / 48h</td>
<td id="S2.T2.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.89</td>
<td id="S2.T2.1.3.2.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.01</td>
</tr>
<tr id="S2.T2.1.4.3" class="ltx_tr">
<td id="S2.T2.1.4.3.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">en-GB</td>
<td id="S2.T2.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1220</td>
<td id="S2.T2.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.99</td>
<td id="S2.T2.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.38</td>
<td id="S2.T2.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">206 / 5 / 72h</td>
<td id="S2.T2.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.89</td>
<td id="S2.T2.1.4.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.01</td>
</tr>
<tr id="S2.T2.1.5.4" class="ltx_tr">
<td id="S2.T2.1.5.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">es-ES</td>
<td id="S2.T2.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1280</td>
<td id="S2.T2.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.03</td>
<td id="S2.T2.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.60</td>
<td id="S2.T2.1.5.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">197 / 5 / 48h</td>
<td id="S2.T2.1.5.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.89</td>
<td id="S2.T2.1.5.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.01</td>
</tr>
<tr id="S2.T2.1.6.5" class="ltx_tr">
<td id="S2.T2.1.6.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">fr-FR</td>
<td id="S2.T2.1.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1300</td>
<td id="S2.T2.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.83</td>
<td id="S2.T2.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.67</td>
<td id="S2.T2.1.6.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">290 / 4 / 72h</td>
<td id="S2.T2.1.6.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.61</td>
<td id="S2.T2.1.6.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7.31</td>
</tr>
<tr id="S2.T2.1.7.6" class="ltx_tr">
<td id="S2.T2.1.7.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">it-IT</td>
<td id="S2.T2.1.7.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1360</td>
<td id="S2.T2.1.7.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1.39</td>
<td id="S2.T2.1.7.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.80</td>
<td id="S2.T2.1.7.6.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">188 / 5 / 48h</td>
<td id="S2.T2.1.7.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.89</td>
<td id="S2.T2.1.7.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">9.01</td>
</tr>
<tr id="S2.T2.1.8.7" class="ltx_tr">
<td id="S2.T2.1.8.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">ru-RU</td>
<td id="S2.T2.1.8.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">870</td>
<td id="S2.T2.1.8.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.72</td>
<td id="S2.T2.1.8.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.34</td>
<td id="S2.T2.1.8.7.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">327 / 3 / 48h</td>
<td id="S2.T2.1.8.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.32</td>
<td id="S2.T2.1.8.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5.13</td>
</tr>
<tr id="S2.T2.1.9.8" class="ltx_tr">
<td id="S2.T2.1.9.8.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_l ltx_border_r ltx_border_t">pt-PT</td>
<td id="S2.T2.1.9.8.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">430</td>
<td id="S2.T2.1.9.8.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">1.71</td>
<td id="S2.T2.1.9.8.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.32</td>
<td id="S2.T2.1.9.8.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">54 / 7 / 48h</td>
<td id="S2.T2.1.9.8.6" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">0.99</td>
<td id="S2.T2.1.9.8.7" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">9.56</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S2.T2.3.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S2.T2.4.2" class="ltx_text" style="font-size:90%;">Live A/B tests of DP OTF models. Utility shows the WMR decrease and WPM increase; privacy shows the key parameters and corresponding zCDP bound; all models are trained with DP-FTRL with report goal of 6500 and noise multiplier of 7; estimated population for ru-RU is 6.63M and other tasks can be found in <a href="#S2.T1" title="In 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>.</span></figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Deploying DP LMs</h2>

<section id="S3.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">A/B test metrics.</h4>

<div id="S3.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px1.p1.1" class="ltx_p">We introduce metrics in A/B test to measure the utility of Gboard LMs.

<span id="S3.I1" class="ltx_inline-enumerate">
<span id="S3.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S3.I1.i1.1.1.1" class="ltx_text" style="color:#BF0040;">(1)</span></span> <em id="S3.I1.i1.5" class="ltx_emph ltx_font_italic">Picked Rate (PRate)</em><span id="S3.I1.i1.6" class="ltx_text">: the ratio of picked candidates among the NWP predictions; or SC predictions when it is triggered.
</span></span>
<span id="S3.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S3.I1.i2.1.1.1" class="ltx_text" style="color:#BF0040;">(2)</span></span> <em id="S3.I1.i2.5" class="ltx_emph ltx_font_italic">Accuracy (Acc)</em><span id="S3.I1.i2.6" class="ltx_text">: the ratio of candidates matching the final committed words among the NWP model predictions.
</span></span>
<span id="S3.I1.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S3.I1.i3.1.1.1" class="ltx_text" style="color:#BF0040;">(3)</span></span> <em id="S3.I1.i3.5" class="ltx_emph ltx_font_italic">Trigger Rate</em><span id="S3.I1.i3.6" class="ltx_text">: the ratio of words with SC triggered among all committed words, which is an important metric when PRate is fixed.
</span></span>
<span id="S3.I1.i4" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S3.I1.i4.1.1.1" class="ltx_text" style="color:#BF0040;">(4)</span></span> <em id="S3.I1.i4.5" class="ltx_emph ltx_font_italic">Word Modified Ratio (WMR)</em><span id="S3.I1.i4.6" class="ltx_text">: the ratio of words being modified during typing or after committed; improvement is shown by reduction.
</span></span>
<span id="S3.I1.i5" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item"><span id="S3.I1.i5.1.1.1" class="ltx_text" style="color:#BF0040;">(5)</span></span> <em id="S3.I1.i5.5" class="ltx_emph ltx_font_italic">Word Per Minute (WPM)</em><span id="S3.I1.i5.6" class="ltx_text">: the number of committed words per minute.
</span></span>
</span></p>
</div>
</section>
<section id="S3.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Privacy guarantees.</h4>

<div id="S3.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px2.p1.1" class="ltx_p">Same as <cite class="ltx_cite ltx_citemacro_citep">[McMahan and Thakurta, <a href="#bib.bib23" title="" class="ltx_ref">2022</a>]</cite>, the zero-one device neighboring relationship (<cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>, definition 1.1]</cite>) is adopted for DP. For user‚Äôs with a single device, device-level DP corresponds directly to user-level DP. Our privacy guarantee holds for all well-behaved clients during training, and we do not account for privacy cost of modest amount of hyperparameter tuning.
DP is measured by the zero-Concentrated DP (zCDP) <cite class="ltx_cite ltx_citemacro_citep">[Bun and Steinke, <a href="#bib.bib9" title="" class="ltx_ref">2016</a>]</cite> guarantee that has been used by US census bureau <cite class="ltx_cite ltx_citemacro_citep">[US Census Bureau, <a href="#bib.bib33" title="" class="ltx_ref">2021</a>]</cite>, and can be easily converted to <math id="S3.SS0.SSS0.Px2.p1.1.m1.2" class="ltx_Math" alttext="(\epsilon,\delta)" display="inline"><semantics id="S3.SS0.SSS0.Px2.p1.1.m1.2a"><mrow id="S3.SS0.SSS0.Px2.p1.1.m1.2.3.2" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.1.m1.2.3.2.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.3.1.cmml">(</mo><mi id="S3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">œµ</mi><mo id="S3.SS0.SSS0.Px2.p1.1.m1.2.3.2.2" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.3.1.cmml">,</mo><mi id="S3.SS0.SSS0.Px2.p1.1.m1.2.2" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.2.cmml">Œ¥</mi><mo stretchy="false" id="S3.SS0.SSS0.Px2.p1.1.m1.2.3.2.3" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.1.m1.2b"><interval closure="open" id="S3.SS0.SSS0.Px2.p1.1.m1.2.3.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.3.2"><ci id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1">italic-œµ</ci><ci id="S3.SS0.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.2.2">ùõø</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.1.m1.2c">(\epsilon,\delta)</annotation></semantics></math>-DP.
We use the privacy accounting in <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>, appendix D]</cite> implemented in Tensorflow Privacy <cite class="ltx_cite ltx_citemacro_citep">[TFP Authors, <a href="#bib.bib32" title="" class="ltx_ref">2022</a>]</cite>, and follow the guidelines outlined in <cite class="ltx_cite ltx_citemacro_citep">[Ponomareva et¬†al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>, Sec. 5.3]</cite> to report detailed narratives of privacy guarantees in <a href="#A1" title="Appendix A Reporting privacy guarantees ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">App.</span>¬†<span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Implementation.</h4>

<div id="S3.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px3.p1.3" class="ltx_p">We open sourced implementation of DP-FTRL in Tensorflow Privacy <cite class="ltx_cite ltx_citemacro_citep">[TFP Authors, <a href="#bib.bib32" title="" class="ltx_ref">2022</a>]</cite> integrated with Tensorflow Federated <cite class="ltx_cite ltx_citemacro_citep">[TFF Authors, <a href="#bib.bib31" title="" class="ltx_ref">2022b</a>]</cite> as a DP aggregator for federated learning. Conceptually, DP-FTRL adds noise to the summation of updates across rounds, i.e., <em id="S3.SS0.SSS0.Px3.p1.3.1" class="ltx_emph ltx_font_italic">PrivateSum</em> in <a href="#alg1" title="In Contributions. ‚Ä£ 1 Introduction ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Alg.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>. Instead of tracking the noise and summation separately, PrivateSum is implemented to only track the noise and updates <math id="S3.SS0.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\tilde{\theta}^{t-1}" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.1.m1.1a"><msup id="S3.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.cmml"><mover accent="true" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.2.cmml">Œ∏</mi><mo id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.1.cmml">~</mo></mover><mrow id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.2" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.2.cmml">t</mi><mo id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">‚àí</mo><mn id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.3" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.1.m1.1b"><apply id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2"><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.1">~</ci><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.2.2">ùúÉ</ci></apply><apply id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3"><minus id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.2">ùë°</ci><cn type="integer" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.1.m1.1c">\tilde{\theta}^{t-1}</annotation></semantics></math> by adding the residual of noise between round <math id="S3.SS0.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.2.m2.1a"><mi id="S3.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.2.m2.1b"><ci id="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1">ùë°</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.2.m2.1c">t</annotation></semantics></math> and round <math id="S3.SS0.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="t-1" display="inline"><semantics id="S3.SS0.SSS0.Px3.p1.3.m3.1a"><mrow id="S3.SS0.SSS0.Px3.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.2" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.2.cmml">t</mi><mo id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.1.cmml">‚àí</mo><mn id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.3" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.3.m3.1b"><apply id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1"><minus id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.1"></minus><ci id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.2">ùë°</ci><cn type="integer" id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.3.m3.1c">t-1</annotation></semantics></math>. This design makes it easy to integrate with various optimizer choices, for example, the use of momentum, which is important for utility. It also allows ephemeral access of model deltas without directly storing unnoised states.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Experimental setup.</h4>

<div id="S3.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px4.p1.1" class="ltx_p">We  apply the strategy in <a href="#S2.SS5" title="2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.5</span></a> to train Gboard LMs with DP. We present NWP results in <a href="#S2.T1" title="In 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a>, and OTF results in <a href="#S2.T2" title="In 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tab.</span>¬†<span class="ltx_text ltx_ref_tag">2</span></a>. As Smart Compose (SC) reuses NWP LMs, SC has the same DP guarantees as NWP models by the post-processing property <cite class="ltx_cite ltx_citemacro_citep">[Dwork et¬†al., <a href="#bib.bib16" title="" class="ltx_ref">2014</a>]</cite>. Following es-ES NWP model in <cite class="ltx_cite ltx_citemacro_citep">[McMahan and Thakurta, <a href="#bib.bib23" title="" class="ltx_ref">2022</a>]</cite>, we choose noise multiplier 7 and report goal 6500 based on simulation in <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> on public StackOverflow dataset <cite class="ltx_cite ltx_citemacro_citep">[TFF Authors, <a href="#bib.bib30" title="" class="ltx_ref">2022a</a>]</cite>. We pretrain the models on public datasets and configure the timer period to control client participation, separately for different tasks. We use DP-FTRL with adaptive clipping and small report goal 500 to tune server learning rate and estimate the clip norm. Interestingly, we observe the learning rate and clip norm to be consistent for various Gboard LMs, and tuning seems to be unnecessary. DP-FTRL with fixed clip and large report goal is used to run the final model for deployment.</p>
</div>
</section>
<section id="S3.SS0.SSS0.Px5" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Result analysis.</h4>

<div id="S3.SS0.SSS0.Px5.p1" class="ltx_para">
<p id="S3.SS0.SSS0.Px5.p1.1" class="ltx_p">All NWP and OTF models in <a href="#S2.T1" title="In 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tabs.</span>¬†<span class="ltx_text ltx_ref_tag">1</span></a> and¬†<a href="#S2.T2" title="Tab. 2 ‚Ä£ 2.5 Recommended strategies and practices ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> are trained with stronger guarantees (smaller zCDP) compared to zCDP <math id="S3.SS0.SSS0.Px5.p1.1.m1.1" class="ltx_Math" alttext="&gt;2.6" display="inline"><semantics id="S3.SS0.SSS0.Px5.p1.1.m1.1a"><mrow id="S3.SS0.SSS0.Px5.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.cmml"><mi id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.2" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.2.cmml"></mi><mo id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.1" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.1.cmml">&gt;</mo><mn id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.3" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.3.cmml">2.6</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px5.p1.1.m1.1b"><apply id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1"><gt id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.1.cmml" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.1"></gt><csymbol cd="latexml" id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.2">absent</csymbol><cn type="float" id="S3.SS0.SSS0.Px5.p1.1.m1.1.1.3.cmml" xref="S3.SS0.SSS0.Px5.p1.1.m1.1.1.3">2.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px5.p1.1.m1.1c">&gt;2.6</annotation></semantics></math> used by US Census Bureau¬†<cite class="ltx_cite ltx_citemacro_citep">[US Census Bureau, <a href="#bib.bib33" title="" class="ltx_ref">2021</a>]</cite>. For five NWP models in Europe (DE, GB, FR, IT, PT), the DP NN models significantly improve the utility compared to previous N-gram models. On en-US, pt-BR and en-IN, DP NN models also achieve comparable, or slightly better utility compared to their non-private versions as the strong models. SecAgg is successfully applied to en-US and es-ES, and can achieve good privacy-utility trade-off with a smaller number of rounds, likely due to the system configuration that results in more clients per round. However, SecAgg is also notably slower. There is a general positive correlation between the estimated population size and privacy guarantees.</p>
</div>
<div id="S3.SS0.SSS0.Px5.p2" class="ltx_para">
<p id="S3.SS0.SSS0.Px5.p2.1" class="ltx_p">However, only a few tasks approach the possible maximum MinS for strong privacy guarantees, which highlights the challenge of both estimating population and controlling client participation. Longer training rounds are often used for NWP (compared to OTF) as the non-private NN baselines are strong, and to improve the downstream SC performance. As an example, we train es-ES NWP for 1900 rounds with a pretrained model, while the previous models <cite class="ltx_cite ltx_citemacro_citep">[McMahan and Thakurta, <a href="#bib.bib23" title="" class="ltx_ref">2022</a>]</cite> is trained for 2000 rounds without pretraining. Our es-ES NWP model slightly improves the utility measured by PRate and Acc, and improves the zCDP bound from 0.81 to 0.35 due to the larger MinS by timer configuration. We highlight that our es-ES model at round 1240 already achieves similar NWP utility and a strong privacy guarantee, but the utility of SC keeps improving with training. Compared to the previous model in <cite class="ltx_cite ltx_citemacro_citep">[McMahan and Thakurta, <a href="#bib.bib23" title="" class="ltx_ref">2022</a>]</cite>, our model improves the SC trigger rate by 4.23% at round 1240, and 9.51% at round 1900.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Concluding remarks</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We discuss our experience and summarize our strategy for training production Gboard LMs with FL and DP. We propose an algorithm applying adaptive clipping <cite class="ltx_cite ltx_citemacro_citep">[Andrew et¬†al., <a href="#bib.bib3" title="" class="ltx_ref">2021</a>]</cite> in DP-FTRL <cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite> to reduce the hyperparamter tuning. We discuss the impact on privacy and utility of several important factors: the clip norm, report goal, client participation, and pre-training. Our study highlights the importance of system and algorithm co-design for differential privacy in practice, the challenges of tuning in FL systems, and opportunities to improve the scalability and stability of FL with DP and/or SecAgg. More than twenty LMs with formal DP guarantees are trained and launched to support Gboard NWP, SC, and OTF features, including en-US and es-ES NWP models additionally trained with SecAgg. Our experience demonstrates the possibility of training DP models for practical applications when a large scale system is available for large scale data. Therefore, Gboard is introducing and enforcing a new policy: DP has to be applied in all future training and launching of Gboard LMs.</p>
</div>
<section id="S4.SSx1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">Acknowledgement</h3>

<div id="S4.SSx1.p1" class="ltx_para">
<p id="S4.SSx1.p1.1" class="ltx_p">The authors would like to thank Stanislav Chiknavaryan, Adria Gascon, Zachary Garrett, and Timon Van Overveldt for infrastructure configuration support; Swaroop Ramaswamy, Om Thakkar, Abhradeep Thakurta for early discussion on models and algorithms; Jeremy Gillula for internal review process; Xu Liu, Shumin Zhai, and Daniel Ramage for leadership support.</p>
</div>
</section>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abadi et¬†al. [2016]</span>
<span class="ltx_bibblock">
Martin Abadi, Andy Chu, Ian Goodfellow, H¬†Brendan McMahan, Ilya Mironov, Kunal
Talwar, and Li¬†Zhang.

</span>
<span class="ltx_bibblock">Deep learning with differential privacy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2016 ACM SIGSAC conference on computer
and communications security</em>, pages 308‚Äì318, 2016.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Agarwal et¬†al. [2021]</span>
<span class="ltx_bibblock">
Naman Agarwal, Peter Kairouz, and Ziyu Liu.

</span>
<span class="ltx_bibblock">The skellam mechanism for differentially private federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
34:5052‚Äì5064, 2021.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Andrew et¬†al. [2021]</span>
<span class="ltx_bibblock">
Galen Andrew, Om¬†Thakkar, H¬†Brendan McMahan, and Swaroop Ramaswamy.

</span>
<span class="ltx_bibblock">Differentially private learning with adaptive clipping.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">Conference on Neural Information Processing Systems (NeurIPS)</em>,
2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Balle et¬†al. [2020]</span>
<span class="ltx_bibblock">
Borja Balle, Peter Kairouz, Brendan McMahan, Om¬†Thakkar, and Abhradeep
Guha¬†Thakurta.

</span>
<span class="ltx_bibblock">Privacy amplification via random check-ins.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
33:4623‚Äì4634, 2020.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bell et¬†al. [2020]</span>
<span class="ltx_bibblock">
James¬†Henry Bell, Kallista¬†A Bonawitz, Adri√† Gasc√≥n, Tancr√®de
Lepoint, and Mariana Raykova.

</span>
<span class="ltx_bibblock">Secure single-server aggregation with (poly) logarithmic overhead.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2020 ACM SIGSAC Conference on Computer
and Communications Security</em>, pages 1253‚Äì1269, 2020.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et¬†al. [2021]</span>
<span class="ltx_bibblock">
Kallista Bonawitz, Peter Kairouz, Brendan McMahan, and Daniel Ramage.

</span>
<span class="ltx_bibblock">Federated learning and privacy: Building privacy-preserving systems
for machine learning and data science on decentralized data.

</span>
<span class="ltx_bibblock"><em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Queue</em>, 19(5):87‚Äì114, 2021.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et¬†al. [2017]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Vladimir Ivanov, Ben Kreuter, Antonio Marcedone, H¬†Brendan
McMahan, Sarvar Patel, Daniel Ramage, Aaron Segal, and Karn Seth.

</span>
<span class="ltx_bibblock">Practical secure aggregation for privacy-preserving machine learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">proceedings of the 2017 ACM SIGSAC Conference on Computer
and Communications Security</em>, pages 1175‚Äì1191, 2017.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et¬†al. [2019]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Hubert Eichner, Wolfgang Grieskamp, Dzmitry Huba, Alex
Ingerman, Vladimir Ivanov, Chloe Kiddon, Jakub Koneƒçn·ª≥, Stefano
Mazzocchi, Brendan McMahan, et¬†al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Proceedings of machine learning and systems</em>, 1:374‚Äì388, 2019.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bun and Steinke [2016]</span>
<span class="ltx_bibblock">
Mark Bun and Thomas Steinke.

</span>
<span class="ltx_bibblock">Concentrated differential privacy: Simplifications, extensions, and
lower bounds.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Theory of Cryptography Conference</em>, pages 635‚Äì658.
Springer, 2016.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carlini et¬†al. [2019]</span>
<span class="ltx_bibblock">
Nicholas Carlini, Chang Liu, √ölfar Erlingsson, Jernej Kos, and Dawn Song.

</span>
<span class="ltx_bibblock">The secret sharer: Evaluating and testing unintended memorization in
neural networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">28th USENIX Security Symposium (USENIX Security 19)</em>, pages
267‚Äì284, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et¬†al. [2022]</span>
<span class="ltx_bibblock">
Wei-Ning Chen, Christopher A¬†Choquette Choo, Peter Kairouz, and Ananda¬†Theertha
Suresh.

</span>
<span class="ltx_bibblock">The fundamental price of secure aggregation in differentially private
federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
3056‚Äì3089. PMLR, 2022.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cho et¬†al. [2023]</span>
<span class="ltx_bibblock">
Yae¬†Jee Cho, Pranay Sharma, Gauri Joshi, Zheng Xu, Satyen Kale, and Tong Zhang.

</span>
<span class="ltx_bibblock">On the convergence of federated averaging with cyclic client
participation.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2302.03109</em>, 2023.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Choquette-Choo et¬†al. [2022]</span>
<span class="ltx_bibblock">
Christopher¬†A Choquette-Choo, H¬†Brendan McMahan, Keith Rush, and Abhradeep
Thakurta.

</span>
<span class="ltx_bibblock">Multi-epoch matrix factorization mechanisms for private machine
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.06530</em>, 2022.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">De et¬†al. [2022]</span>
<span class="ltx_bibblock">
Soham De, Leonard Berrada, Jamie Hayes, Samuel¬†L Smith, and Borja Balle.

</span>
<span class="ltx_bibblock">Unlocking high-accuracy differentially private image classification
through scale.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2204.13650</em>, 2022.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">DP Team [2022]</span>
<span class="ltx_bibblock">
DP Team.

</span>
<span class="ltx_bibblock">Google‚Äôs differential privacy libraries., 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/google/differential-privacy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google/differential-privacy</a>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dwork et¬†al. [2014]</span>
<span class="ltx_bibblock">
Cynthia Dwork, Aaron Roth, et¬†al.

</span>
<span class="ltx_bibblock">The algorithmic foundations of differential privacy.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Foundations and Trends¬Æ in Theoretical Computer
Science</em>, 9(3‚Äì4):211‚Äì407, 2014.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geyer et¬†al. [2017]</span>
<span class="ltx_bibblock">
Robin¬†C Geyer, Tassilo Klein, and Moin Nabi.

</span>
<span class="ltx_bibblock">Differentially private federated learning: A client level
perspective.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1712.07557</em>, 2017.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard et¬†al. [2018]</span>
<span class="ltx_bibblock">
Andrew Hard, Kanishka Rao, Rajiv Mathews, Swaroop Ramaswamy, Fran√ßoise
Beaufays, Sean Augenstein, Hubert Eichner, Chlo√© Kiddon, and Daniel
Ramage.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1811.03604</em>, 2018.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et¬†al. [2019]</span>
<span class="ltx_bibblock">
Peter Kairouz, H.¬†Brendan McMahan, Brendan Avent, Aur√©lien Bellet, Mehdi
Bennis, Arjun¬†Nitin Bhagoji, Kaylee Bonawitz, Zachary Charles, Graham
Cormode, Rachel Cummings, Rafael G.¬†L. D‚ÄôOliveira, Salim¬†El Rouayheb, David
Evans, Josh Gardner, Zachary Garrett, Adri√† Gasc√≥n, Badih Ghazi,
Phillip¬†B. Gibbons, Marco Gruteser, Za√Ød Harchaoui, Chaoyang He, Lie
He, Zhouyuan Huo, Ben Hutchinson, Justin Hsu, Martin Jaggi, Tara Javidi,
Gauri Joshi, Mikhail Khodak, Jakub Konecn√Ω, Aleksandra Korolova,
Farinaz Koushanfar, Sanmi Koyejo, Tancr√®de Lepoint, Yang Liu, Prateek
Mittal, Mehryar Mohri, Richard Nock, Ayfer √ñzg√ºr, Rasmus Pagh,
Mariana Raykova, Hang Qi, Daniel Ramage, Ramesh Raskar, Dawn Song, Weikang
Song, Sebastian¬†U. Stich, Ziteng Sun, Ananda¬†Theertha Suresh, Florian
Tram√®r, Praneeth Vepakomma, Jianyu Wang, Li¬†Xiong, Zheng Xu, Qiang
Yang, Felix¬†X. Yu, Han Yu, and Sen Zhao.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1912.04977, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1912.04977" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1912.04977</a>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et¬†al. [2021a]</span>
<span class="ltx_bibblock">
Peter Kairouz, Ziyu Liu, and Thomas Steinke.

</span>
<span class="ltx_bibblock">The distributed discrete gaussian mechanism for federated learning
with secure aggregation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
5201‚Äì5212. PMLR, 2021a.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et¬†al. [2021b]</span>
<span class="ltx_bibblock">
Peter Kairouz, Brendan Mcmahan, Shuang Song, Om¬†Thakkar, Abhradeep Thakurta,
and Zheng Xu.

</span>
<span class="ltx_bibblock">Practical and private (deep) learning without sampling or shuffling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, pages
5213‚Äì5225, 2021b.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et¬†al. [2021]</span>
<span class="ltx_bibblock">
Xuechen Li, Florian Tramer, Percy Liang, and Tatsunori Hashimoto.

</span>
<span class="ltx_bibblock">Large language models can be strong differentially private learners.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.05679</em>, 2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan and Thakurta [2022]</span>
<span class="ltx_bibblock">
Brendan McMahan and Abhradeep Thakurta.

</span>
<span class="ltx_bibblock">Federated learning with formal differential privacy guarantees, 2022.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et¬†al. [2017]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise¬†Aguera
y¬†Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">AISTATS</em>, pages 1273‚Äì1282. PMLR, 2017.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et¬†al. [2018]</span>
<span class="ltx_bibblock">
Brendan McMahan, Daniel Ramage, Kunal Talwar, and Li¬†Zhang.

</span>
<span class="ltx_bibblock">Learning differentially private recurrent language models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations
(ICLR)</em>, 2018.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ponomareva et¬†al. [2023]</span>
<span class="ltx_bibblock">
Natalia Ponomareva, Hussein Hazimeh, Alex Kurakin, Zheng Xu, Carson Denison,
H.¬†Brendan McMahan, Sergei Vassilvitskii, Steve Chien, and Abhradeep
Thakurta.

</span>
<span class="ltx_bibblock">How to dp-fy ml: A practical guide to machine learning with
differential privacy, 2023.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Raffel et¬†al. [2019]</span>
<span class="ltx_bibblock">
Colin Raffel, Noam Shazeer, Adam Roberts, Katherine Lee, Sharan Narang, Michael
Matena, Yanqi Zhou, Wei Li, and Peter¬†J. Liu.

</span>
<span class="ltx_bibblock">Exploring the limits of transfer learning with a unified text-to-text
transformer.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">Journal of Machine Learning Research</em>, 2019.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramaswamy et¬†al. [2020]</span>
<span class="ltx_bibblock">
Swaroop Ramaswamy, Om¬†Thakkar, Rajiv Mathews, Galen Andrew, H¬†Brendan McMahan,
and Fran√ßoise Beaufays.

</span>
<span class="ltx_bibblock">Training production language models without memorizing user data.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2009.10031</em>, 2020.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shu and Nakayama [2017]</span>
<span class="ltx_bibblock">
Raphael Shu and Hideki Nakayama.

</span>
<span class="ltx_bibblock">Compressing word embeddings via deep compositional code learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1711.01068</em>, 2017.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">TFF Authors [2022a]</span>
<span class="ltx_bibblock">
TFF Authors.

</span>
<span class="ltx_bibblock">TensorFlow Federated StackOverflow dataset, 2022a.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/stackoverflow" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/stackoverflow</a>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">TFF Authors [2022b]</span>
<span class="ltx_bibblock">
TFF Authors.

</span>
<span class="ltx_bibblock">TensorFlow Federated., 2022b.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/tensorflow/federated" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/federated</a>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">TFP Authors [2022]</span>
<span class="ltx_bibblock">
TFP Authors.

</span>
<span class="ltx_bibblock">TensorFlow Privacy., 2022.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/tensorflow/privacy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/tensorflow/privacy</a>.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">US Census Bureau [2021]</span>
<span class="ltx_bibblock">
US Census Bureau.

</span>
<span class="ltx_bibblock">Disclosure avoidance for the 2020 census: An introduction, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et¬†al. [2023]</span>
<span class="ltx_bibblock">
Boxin Wang, Yibo¬†Jacky Zhang, Yuan Cao, Bo¬†Li, H¬†Brendan McMahan, Sewoong Oh,
Zheng Xu, and Manzil Zaheer.

</span>
<span class="ltx_bibblock">Can public large language models help private cross-device federated
learning?

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2305.12132</em>, 2023.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et¬†al. [2021]</span>
<span class="ltx_bibblock">
Jianyu Wang, Zachary Charles, Zheng Xu, Gauri Joshi, H¬†Brendan McMahan, Blaise
Aguera¬†y Arcas, Maruan Al-Shedivat, Galen Andrew, Salman Avestimehr,
Katharine Daly, et¬†al.

</span>
<span class="ltx_bibblock">A field guide to federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">arXiv:2107.06917</em>, 2021.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et¬†al. [2022]</span>
<span class="ltx_bibblock">
Zheng Xu, Maxwell Collins, Yuxiao Wang, Liviu Panait, Sewoong Oh, Sean
Augenstein, Ting Liu, Florian Schroff, and H¬†Brendan McMahan.

</span>
<span class="ltx_bibblock">Learning to generate image embeddings with user-level differential
privacy.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2211.10844</em>, 2022.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xue et¬†al. [2020]</span>
<span class="ltx_bibblock">
Linting Xue, Noah Constant, Adam Roberts, Mihir Kale, Rami Al-Rfou, Aditya
Siddhant, Aditya Barua, and Colin Raffel.

</span>
<span class="ltx_bibblock">mt5: A massively multilingual pre-trained text-to-text transformer.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.11934</em>, 2020.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et¬†al. [2018]</span>
<span class="ltx_bibblock">
Timothy Yang, Galen Andrew, Hubert Eichner, Haicheng Sun, Wei Li, Nicholas
Kong, Daniel Ramage, and Fran√ßoise Beaufays.

</span>
<span class="ltx_bibblock">Applied federated learning: Improving google keyboard query
suggestions.

</span>
<span class="ltx_bibblock"><em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.02903</em>, 2018.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et¬†al. [2021]</span>
<span class="ltx_bibblock">
Da¬†Yu, Saurabh Naik, Arturs Backurs, Sivakanth Gopi, Huseyin¬†A Inan, Gautam
Kamath, Janardhan Kulkarni, Yin¬†Tat Lee, Andre Manoel, Lukas Wutschitz,
et¬†al.

</span>
<span class="ltx_bibblock">Differentially private fine-tuning of language models.

</span>
<span class="ltx_bibblock"><em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.06500</em>, 2021.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et¬†al. [2022]</span>
<span class="ltx_bibblock">
Chen Zhu, Zheng Xu, Mingqing Chen, Jakub Koneƒçn·ª≥, Andrew Hard, and
Tom Goldstein.

</span>
<span class="ltx_bibblock">Diurnal or nocturnal? federated learning of multi-branch networks
from periodically shifting distributions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2022.

</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Reporting privacy guarantees</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">This section clarifies the nuances of the reported DP guarantees following the guidelines outlined in <cite class="ltx_cite ltx_citemacro_citep">[Ponomareva et¬†al., <a href="#bib.bib26" title="" class="ltx_ref">2023</a>, Sec. 5.3]</cite></p>
</div>
<div id="A1.p2" class="ltx_para">
<ol id="A1.I1" class="ltx_enumerate">
<li id="A1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="A1.I1.i1.p1" class="ltx_para">
<p id="A1.I1.i1.p1.1" class="ltx_p"><span id="A1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">DP setting</span>. This a central DP guarantee where the service provider is trusted to correctly implement the mechanism.</p>
</div>
</li>
<li id="A1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="A1.I1.i2.p1" class="ltx_para">
<p id="A1.I1.i2.p1.1" class="ltx_p"><span id="A1.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Instantiating the DP Definition</span></p>
<ol id="A1.I1.i2.I1" class="ltx_enumerate">
<li id="A1.I1.i2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="A1.I1.i2.I1.i1.p1" class="ltx_para">
<p id="A1.I1.i2.I1.i1.p1.1" class="ltx_p"><span id="A1.I1.i2.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">Data accesses covered</span>: The DP guarantee applies to all well-behaved clients<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Clients that faithfully follow the algorithm including participation limits. Due to the design of the algorithm, a mis-behaved client does not adversely affect the DP guarantee of any well-behaved clients.</span></span></span> in a single training run. We do not account for hyperparameter tuning, or the selection of the final model checkpoint using evaluation metrics or A/B testing in our guarantees. Public multilingual C4 data¬†<cite class="ltx_cite ltx_citemacro_citep">[Raffel et¬†al., <a href="#bib.bib27" title="" class="ltx_ref">2019</a>; Xue et¬†al., <a href="#bib.bib37" title="" class="ltx_ref">2020</a>]</cite> is used for pre-training.</p>
</div>
</li>
<li id="A1.I1.i2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="A1.I1.i2.I1.i2.p1" class="ltx_para">
<p id="A1.I1.i2.I1.i2.p1.1" class="ltx_p"><span id="A1.I1.i2.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">Final mechanism output</span>: Only the final model checkpoint is released for production launches, however the mechanism‚Äôs output is technically the full sequence of privatized gradients, and so the guarantee also applies at this level, and hence all intermediate models are protected (including those sent to devices participating in federated learning).</p>
</div>
</li>
<li id="A1.I1.i2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="A1.I1.i2.I1.i3.p1" class="ltx_para">
<p id="A1.I1.i2.I1.i3.p1.1" class="ltx_p"><span id="A1.I1.i2.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">Unit of privacy</span>. Device-level DP is considered, i.e., the notion of adjacency is with respect to arbitrary training datasets on each client device, and the device might have an arbitrarily large local dataset containing arbitrary training examples. For user‚Äôs with a single device, this corresponds directly to user-level DP; for devices shared with multiple users, this provides a stronger notion of DP than user-level; for a user with multiple devices that happen to both participate in training the model, the notion is weaker, but group privacy can be used to obtain a user-level guarantee.</p>
</div>
</li>
<li id="A1.I1.i2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span> 
<div id="A1.I1.i2.I1.i4.p1" class="ltx_para">
<p id="A1.I1.i2.I1.i4.p1.1" class="ltx_p"><span id="A1.I1.i2.I1.i4.p1.1.1" class="ltx_text ltx_font_italic">Adjacency definition for ‚Äúneigbouring‚Äù datasets</span>: We use the zero-out definition¬†<cite class="ltx_cite ltx_citemacro_citep">[Kairouz et¬†al., <a href="#bib.bib21" title="" class="ltx_ref">2021b</a>]</cite>. This is a a special form of the add-or-remove definition, where neighboring data sets differ by addition/removal of a single client. In the absence of a client at any training step, we assume that the client‚Äôs model update gets replaced with the all zeros vector. This assumption enforces a subtle modification to the traditional definition of the add/remove notion of DP which allows neighboring data sets to have the same number of records.</p>
</div>
</li>
</ol>
</div>
</li>
<li id="A1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="A1.I1.i3.p1" class="ltx_para">
<p id="A1.I1.i3.p1.1" class="ltx_p"><span id="A1.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Privacy accounting details</span></p>
<ol id="A1.I1.i3.I1" class="ltx_enumerate">
<li id="A1.I1.i3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span> 
<div id="A1.I1.i3.I1.i1.p1" class="ltx_para">
<p id="A1.I1.i3.I1.i1.p1.2" class="ltx_p"><span id="A1.I1.i3.I1.i1.p1.2.1" class="ltx_text ltx_font_italic">Type of accounting used</span>: Both <math id="A1.I1.i3.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\rho-" display="inline"><semantics id="A1.I1.i3.I1.i1.p1.1.m1.1a"><mrow id="A1.I1.i3.I1.i1.p1.1.m1.1.1" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1.cmml"><mi id="A1.I1.i3.I1.i1.p1.1.m1.1.1.2" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1.2.cmml">œÅ</mi><mo id="A1.I1.i3.I1.i1.p1.1.m1.1.1.3" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1.3.cmml">‚àí</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i1.p1.1.m1.1b"><apply id="A1.I1.i3.I1.i1.p1.1.m1.1.1.cmml" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1"><csymbol cd="latexml" id="A1.I1.i3.I1.i1.p1.1.m1.1.1.1.cmml" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1">limit-from</csymbol><ci id="A1.I1.i3.I1.i1.p1.1.m1.1.1.2.cmml" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1.2">ùúå</ci><minus id="A1.I1.i3.I1.i1.p1.1.m1.1.1.3.cmml" xref="A1.I1.i3.I1.i1.p1.1.m1.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i1.p1.1.m1.1c">\rho-</annotation></semantics></math>zCDP¬†<cite class="ltx_cite ltx_citemacro_citep">[Bun and Steinke, <a href="#bib.bib9" title="" class="ltx_ref">2016</a>]</cite> accounting, and PLD accounting¬†<cite class="ltx_cite ltx_citemacro_citep">[DP Team, <a href="#bib.bib15" title="" class="ltx_ref">2022</a>]</cite> for <math id="A1.I1.i3.I1.i1.p1.2.m2.2" class="ltx_Math" alttext="(\epsilon,\delta)-" display="inline"><semantics id="A1.I1.i3.I1.i1.p1.2.m2.2a"><mrow id="A1.I1.i3.I1.i1.p1.2.m2.2.3" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.cmml"><mrow id="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.2" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.1.cmml"><mo stretchy="false" id="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.2.1" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.1.cmml">(</mo><mi id="A1.I1.i3.I1.i1.p1.2.m2.1.1" xref="A1.I1.i3.I1.i1.p1.2.m2.1.1.cmml">œµ</mi><mo id="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.2.2" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.1.cmml">,</mo><mi id="A1.I1.i3.I1.i1.p1.2.m2.2.2" xref="A1.I1.i3.I1.i1.p1.2.m2.2.2.cmml">Œ¥</mi><mo stretchy="false" id="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.2.3" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.1.cmml">)</mo></mrow><mo id="A1.I1.i3.I1.i1.p1.2.m2.2.3.3" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.3.cmml">‚àí</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i1.p1.2.m2.2b"><apply id="A1.I1.i3.I1.i1.p1.2.m2.2.3.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3"><csymbol cd="latexml" id="A1.I1.i3.I1.i1.p1.2.m2.2.3.1.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3">limit-from</csymbol><interval closure="open" id="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.1.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.2.2"><ci id="A1.I1.i3.I1.i1.p1.2.m2.1.1.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.1.1">italic-œµ</ci><ci id="A1.I1.i3.I1.i1.p1.2.m2.2.2.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.2.2">ùõø</ci></interval><minus id="A1.I1.i3.I1.i1.p1.2.m2.2.3.3.cmml" xref="A1.I1.i3.I1.i1.p1.2.m2.2.3.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i1.p1.2.m2.2c">(\epsilon,\delta)-</annotation></semantics></math>DP are used.</p>
</div>
</li>
<li id="A1.I1.i3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span> 
<div id="A1.I1.i3.I1.i2.p1" class="ltx_para">
<p id="A1.I1.i3.I1.i2.p1.1" class="ltx_p"><span id="A1.I1.i3.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">Accounting assumptions </span>: Each client only participates limited times during the training, and there are at least a min-separation number of rounds between two consecutive participation of a client, i.e., MaxP and MinS as discussed in <a href="#S2.SS2" title="2.2 DP parameters and system configuration ‚Ä£ 2 DP FL in Practice ‚Ä£ Federated Learning of Gboard Language Models with Differential Privacy" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Sec.</span>¬†<span class="ltx_text ltx_ref_tag">2.2</span></a>. Client participation is enforced by a timer on clients in the cross-device FL system.</p>
</div>
</li>
<li id="A1.I1.i3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span> 
<div id="A1.I1.i3.I1.i3.p1" class="ltx_para">
<p id="A1.I1.i3.I1.i3.p1.7" class="ltx_p"><span id="A1.I1.i3.I1.i3.p1.7.1" class="ltx_text ltx_font_italic">The formal DP statement</span>: The launched Gboard LMs have <math id="A1.I1.i3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\rho-" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.1.m1.1a"><mrow id="A1.I1.i3.I1.i3.p1.1.m1.1.1" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.1.m1.1.1.2" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1.2.cmml">œÅ</mi><mo id="A1.I1.i3.I1.i3.p1.1.m1.1.1.3" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1.3.cmml">‚àí</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.1.m1.1b"><apply id="A1.I1.i3.I1.i3.p1.1.m1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1"><csymbol cd="latexml" id="A1.I1.i3.I1.i3.p1.1.m1.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1">limit-from</csymbol><ci id="A1.I1.i3.I1.i3.p1.1.m1.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1.2">ùúå</ci><minus id="A1.I1.i3.I1.i3.p1.1.m1.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.1.m1.1.1.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.1.m1.1c">\rho-</annotation></semantics></math>zCDP range in (0.2, 2). We also transform zCDP to <math id="A1.I1.i3.I1.i3.p1.2.m2.2" class="ltx_Math" alttext="(\epsilon,\delta)-" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.2.m2.2a"><mrow id="A1.I1.i3.I1.i3.p1.2.m2.2.3" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.cmml"><mrow id="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.2" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.1.cmml"><mo stretchy="false" id="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.2.1" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.1.cmml">(</mo><mi id="A1.I1.i3.I1.i3.p1.2.m2.1.1" xref="A1.I1.i3.I1.i3.p1.2.m2.1.1.cmml">œµ</mi><mo id="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.2.2" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.1.cmml">,</mo><mi id="A1.I1.i3.I1.i3.p1.2.m2.2.2" xref="A1.I1.i3.I1.i3.p1.2.m2.2.2.cmml">Œ¥</mi><mo stretchy="false" id="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.2.3" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.1.cmml">)</mo></mrow><mo id="A1.I1.i3.I1.i3.p1.2.m2.2.3.3" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.3.cmml">‚àí</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.2.m2.2b"><apply id="A1.I1.i3.I1.i3.p1.2.m2.2.3.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3"><csymbol cd="latexml" id="A1.I1.i3.I1.i3.p1.2.m2.2.3.1.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3">limit-from</csymbol><interval closure="open" id="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.1.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.2.2"><ci id="A1.I1.i3.I1.i3.p1.2.m2.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.1.1">italic-œµ</ci><ci id="A1.I1.i3.I1.i3.p1.2.m2.2.2.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.2.2">ùõø</ci></interval><minus id="A1.I1.i3.I1.i3.p1.2.m2.2.3.3.cmml" xref="A1.I1.i3.I1.i3.p1.2.m2.2.3.3"></minus></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.2.m2.2c">(\epsilon,\delta)-</annotation></semantics></math>DP by PLD accounting¬†<cite class="ltx_cite ltx_citemacro_citep">[DP Team, <a href="#bib.bib15" title="" class="ltx_ref">2022</a>]</cite>: given <math id="A1.I1.i3.I1.i3.p1.3.m3.1" class="ltx_Math" alttext="\delta=10^{-10}" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.3.m3.1a"><mrow id="A1.I1.i3.I1.i3.p1.3.m3.1.1" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.3.m3.1.1.2" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.2.cmml">Œ¥</mi><mo id="A1.I1.i3.I1.i3.p1.3.m3.1.1.1" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.1.cmml">=</mo><msup id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.cmml"><mn id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.2" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.2.cmml">10</mn><mrow id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.cmml"><mo id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3a" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.cmml">‚àí</mo><mn id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.2" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.2.cmml">10</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.3.m3.1b"><apply id="A1.I1.i3.I1.i3.p1.3.m3.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1"><eq id="A1.I1.i3.I1.i3.p1.3.m3.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.1"></eq><ci id="A1.I1.i3.I1.i3.p1.3.m3.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.2">ùõø</ci><apply id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.1.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3">superscript</csymbol><cn type="integer" id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.2.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.2">10</cn><apply id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3"><minus id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.1.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3"></minus><cn type="integer" id="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.2.cmml" xref="A1.I1.i3.I1.i3.p1.3.m3.1.1.3.3.2">10</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.3.m3.1c">\delta=10^{-10}</annotation></semantics></math>, the smallest zCDP <math id="A1.I1.i3.I1.i3.p1.4.m4.1" class="ltx_Math" alttext="\rho=0.25" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.4.m4.1a"><mrow id="A1.I1.i3.I1.i3.p1.4.m4.1.1" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.4.m4.1.1.2" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.2.cmml">œÅ</mi><mo id="A1.I1.i3.I1.i3.p1.4.m4.1.1.1" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.1.cmml">=</mo><mn id="A1.I1.i3.I1.i3.p1.4.m4.1.1.3" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.3.cmml">0.25</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.4.m4.1b"><apply id="A1.I1.i3.I1.i3.p1.4.m4.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1"><eq id="A1.I1.i3.I1.i3.p1.4.m4.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.1"></eq><ci id="A1.I1.i3.I1.i3.p1.4.m4.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.2">ùúå</ci><cn type="float" id="A1.I1.i3.I1.i3.p1.4.m4.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.4.m4.1.1.3">0.25</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.4.m4.1c">\rho=0.25</annotation></semantics></math> corresponds to DP <math id="A1.I1.i3.I1.i3.p1.5.m5.1" class="ltx_Math" alttext="\epsilon=4.49" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.5.m5.1a"><mrow id="A1.I1.i3.I1.i3.p1.5.m5.1.1" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.5.m5.1.1.2" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.2.cmml">œµ</mi><mo id="A1.I1.i3.I1.i3.p1.5.m5.1.1.1" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.1.cmml">=</mo><mn id="A1.I1.i3.I1.i3.p1.5.m5.1.1.3" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.3.cmml">4.49</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.5.m5.1b"><apply id="A1.I1.i3.I1.i3.p1.5.m5.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1"><eq id="A1.I1.i3.I1.i3.p1.5.m5.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.1"></eq><ci id="A1.I1.i3.I1.i3.p1.5.m5.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.2">italic-œµ</ci><cn type="float" id="A1.I1.i3.I1.i3.p1.5.m5.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.5.m5.1.1.3">4.49</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.5.m5.1c">\epsilon=4.49</annotation></semantics></math>; the largest zCDP <math id="A1.I1.i3.I1.i3.p1.6.m6.1" class="ltx_Math" alttext="\rho=1.86" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.6.m6.1a"><mrow id="A1.I1.i3.I1.i3.p1.6.m6.1.1" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.6.m6.1.1.2" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.2.cmml">œÅ</mi><mo id="A1.I1.i3.I1.i3.p1.6.m6.1.1.1" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.1.cmml">=</mo><mn id="A1.I1.i3.I1.i3.p1.6.m6.1.1.3" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.3.cmml">1.86</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.6.m6.1b"><apply id="A1.I1.i3.I1.i3.p1.6.m6.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1"><eq id="A1.I1.i3.I1.i3.p1.6.m6.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.1"></eq><ci id="A1.I1.i3.I1.i3.p1.6.m6.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.2">ùúå</ci><cn type="float" id="A1.I1.i3.I1.i3.p1.6.m6.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.6.m6.1.1.3">1.86</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.6.m6.1c">\rho=1.86</annotation></semantics></math> corresponds to DP <math id="A1.I1.i3.I1.i3.p1.7.m7.1" class="ltx_Math" alttext="\epsilon=13.69" display="inline"><semantics id="A1.I1.i3.I1.i3.p1.7.m7.1a"><mrow id="A1.I1.i3.I1.i3.p1.7.m7.1.1" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.cmml"><mi id="A1.I1.i3.I1.i3.p1.7.m7.1.1.2" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.2.cmml">œµ</mi><mo id="A1.I1.i3.I1.i3.p1.7.m7.1.1.1" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.1.cmml">=</mo><mn id="A1.I1.i3.I1.i3.p1.7.m7.1.1.3" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.3.cmml">13.69</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.i3.I1.i3.p1.7.m7.1b"><apply id="A1.I1.i3.I1.i3.p1.7.m7.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1"><eq id="A1.I1.i3.I1.i3.p1.7.m7.1.1.1.cmml" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.1"></eq><ci id="A1.I1.i3.I1.i3.p1.7.m7.1.1.2.cmml" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.2">italic-œµ</ci><cn type="float" id="A1.I1.i3.I1.i3.p1.7.m7.1.1.3.cmml" xref="A1.I1.i3.I1.i3.p1.7.m7.1.1.3">13.69</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.i3.I1.i3.p1.7.m7.1c">\epsilon=13.69</annotation></semantics></math>.</p>
</div>
</li>
<li id="A1.I1.i3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span> 
<div id="A1.I1.i3.I1.i4.p1" class="ltx_para">
<p id="A1.I1.i3.I1.i4.p1.1" class="ltx_p"><span id="A1.I1.i3.I1.i4.p1.1.1" class="ltx_text ltx_font_italic">Transparency and verifiability</span>: We open sourced our core implementation code in TensorFlow Federated and Tensorflow Privacy. Key portions of the cross-device FL system are also open sourced.</p>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2305.18464" class="ar5iv-nav-button ar5iv-nav-button-prev">‚óÑ</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2305.18465" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2305.18465">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2305.18465" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2305.18466" class="ar5iv-nav-button ar5iv-nav-button-next">‚ñ∫</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Feb 26 20:46:57 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "√ó";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
