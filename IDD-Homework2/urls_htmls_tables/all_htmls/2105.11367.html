<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2105.11367] FedScale: Benchmarking Model and System Performance of Federated Learning at Scale</title><meta property="og:description" content="We present FedScale, a federated learning (FL) benchmarking suite with realistic datasets and a scalable runtime to enable reproducible FL research.
FedScale datasets encompass a wide range of critical FL tasks, rangin…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedScale: Benchmarking Model and System Performance of Federated Learning at Scale">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedScale: Benchmarking Model and System Performance of Federated Learning at Scale">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2105.11367">

<!--Generated on Thu Mar  7 00:44:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Federated Learning,  ICML">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_pruned_first">
<h1 class="ltx_title ltx_title_document">FedScale: Benchmarking Model and System Performance of Federated Learning at Scale</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Fan Lai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yinwei Dai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Sanjay S. Singapuram
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiachen Liu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiangfeng Zhu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Harsha V. Madhyastha
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mosharaf Chowdhury
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="2.1" class="ltx_p">We present FedScale, a federated learning (FL) benchmarking suite with realistic datasets and a scalable runtime to enable reproducible FL research.
FedScale datasets encompass a wide range of critical FL tasks, ranging from image classification and object detection to language modeling and speech recognition.
Each dataset comes with a unified evaluation protocol using real-world data splits and evaluation metrics.
To reproduce realistic FL behavior, FedScale contains a scalable and extensible runtime.
It provides high-level APIs to implement FL algorithms, deploy them at scale across diverse hardware and software backends, and evaluate them at scale, all with minimal developer efforts.
We combine the two to perform systematic benchmarking experiments and highlight potential opportunities for heterogeneity-aware co-optimizations in FL.
FedScale is open-source and actively maintained by contributors from different institutions at <a target="_blank" href="http://fedscale.ai" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://fedscale.ai</a>.
We welcome feedback and contributions from the community.</p>
</div>
<div class="ltx_keywords">Federated Learning, ICML
</div>
<div id="p2" class="ltx_para">
<br class="ltx_break">
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) is an emerging machine learning (ML) setting where a logically centralized coordinator orchestrates many distributed
clients (e.g., smartphones or laptops) to collaboratively train or evaluate a model <cite class="ltx_cite ltx_citemacro_citep">(Bonawitz et al., <a href="#bib.bib13" title="" class="ltx_ref">2019</a>; Kairouz et al., <a href="#bib.bib29" title="" class="ltx_ref">2021b</a>)</cite> (Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
It enables model training and evaluation on end-user data, while circumventing high cost and privacy risks in gathering the raw data from clients, with applications across diverse ML tasks.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2105.11367/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="228" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Standard FL protocol.</figcaption>
</figure>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In the presence of heterogeneous execution speeds of client devices as well as non-IID data distributions,
existing efforts have focused on optimizing different aspects of FL:

<span id="S1.I1" class="ltx_inline-enumerate">
<span id="S1.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <em id="S1.I1.i1.1" class="ltx_emph ltx_font_italic">System efficiency</em><span id="S1.I1.i1.2" class="ltx_text">:
reducing computation load (e.g., using smaller models <cite class="ltx_cite ltx_citemacro_citep">(Sandler et al., <a href="#bib.bib46" title="" class="ltx_ref">2018</a>)</cite>) or communication traffic (e.g., local SGD <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>) to achieve shorter round duration;
</span></span>
<span id="S1.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <em id="S1.I1.i2.1" class="ltx_emph ltx_font_italic">Statistical efficiency</em><span id="S1.I1.i2.2" class="ltx_text">:
designing data heterogeneity-aware algorithms (e.g., client clustering <cite class="ltx_cite ltx_citemacro_citep">(Ghosh et al., <a href="#bib.bib24" title="" class="ltx_ref">2020b</a>)</cite>) to obtain better training accuracy with fewer training rounds;
</span></span>
<span id="S1.I1.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(3)</span> <em id="S1.I1.i3.1" class="ltx_emph ltx_font_italic">Privacy and security</em><span id="S1.I1.i3.2" class="ltx_text">:
developing reliable strategies (e.g., differentially private training <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib28" title="" class="ltx_ref">2021a</a>)</cite>) to make FL more privacy-preserving and robust to potential attacks.
</span></span>
</span></p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">A comprehensive benchmark to evaluate an FL solution must investigate its behavior under the practical FL setting with

<span id="S1.I2" class="ltx_inline-enumerate">
<span id="S1.I2.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <em id="S1.I2.i1.1" class="ltx_emph ltx_font_italic">data heterogeneity</em><span id="S1.I2.i1.2" class="ltx_text">and
</span></span>
<span id="S1.I2.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <em id="S1.I2.i2.1" class="ltx_emph ltx_font_italic">device heterogeneity</em><span id="S1.I2.i2.2" class="ltx_text">under
</span></span>
<span id="S1.I2.i3" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(3)</span> <em id="S1.I2.i3.1" class="ltx_emph ltx_font_italic">heterogeneous connectivity</em><span id="S1.I2.i3.2" class="ltx_text">and
</span></span>
<span id="S1.I2.i4" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(4)</span> <em id="S1.I2.i4.1" class="ltx_emph ltx_font_italic">availability</em><span id="S1.I2.i4.2" class="ltx_text">conditions at
</span></span>
<span id="S1.I2.i5" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(5)</span> <em id="S1.I2.i5.1" class="ltx_emph ltx_font_italic">multiple scales</em><span id="S1.I2.i5.2" class="ltx_text">on a
</span></span>
<span id="S1.I2.i6" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(6)</span> <em id="S1.I2.i6.1" class="ltx_emph ltx_font_italic">broad variety of ML tasks</em><span id="S1.I2.i6.2" class="ltx_text">.
</span></span>
</span>
While the first two aspects are oft-mentioned in the literature <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib37" title="" class="ltx_ref">2020</a>)</cite>, realistic network connectivity and the availability of client devices can affect both types of heterogeneity (e.g., distribution drift <cite class="ltx_cite ltx_citemacro_citep">(Eichner et al., <a href="#bib.bib17" title="" class="ltx_ref">2019</a>)</cite>), impairing model convergence.
Similarly, evaluation at a large scale can expose an algorithm’s robustness, as practical FL deployment often runs across thousands of concurrent participants out of millions of clients <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib57" title="" class="ltx_ref">2018</a>)</cite>.
Overlooking any one aspect can mislead FL evaluation (§<a href="#S2" title="2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Unfortunately, existing FL benchmarks often fall short across multiple dimensions (Table <a href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
First, they are limited in the versatility of data for various real-world FL applications.
Indeed, even though they may have quite a few datasets and FL training tasks (e.g., LEAF <cite class="ltx_cite ltx_citemacro_citep">(Caldas et al., <a href="#bib.bib14" title="" class="ltx_ref">2019</a>)</cite>), their datasets often contain synthetically generated partitions derived from conventional datasets (e.g., CIFAR) and do not represent realistic characteristics.
This is because these benchmarks are mostly borrowed from traditional ML benchmarks (e.g., MLPerf <cite class="ltx_cite ltx_citemacro_citep">(Mattson et al., <a href="#bib.bib39" title="" class="ltx_ref">2020</a>)</cite>) or designed for simulated FL environments like TensorFlow Federated (TFF) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib11" title="" class="ltx_ref">tff, </a>)</cite> or PySyft <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">pys, </a>)</cite>.
Second, existing benchmarks often overlook system speed, connectivity, and availability of the clients (e.g., FedML <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib25" title="" class="ltx_ref">2020</a>)</cite> and Flower <cite class="ltx_cite ltx_citemacro_citep">(Beutel et al., <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>).
This discourages FL efforts from considering system efficiency and leads to overly optimistic statistical performance (§<a href="#S2" title="2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).
Third, their datasets are primarily small-scale, because their experimental environments are unable to emulate large-scale FL deployments.
While real FL often involves thousands of participants in each training round <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib29" title="" class="ltx_ref">2021b</a>; Yang et al., <a href="#bib.bib57" title="" class="ltx_ref">2018</a>)</cite>, most existing benchmarking platforms can merely support the training of tens of participants per round.
Finally, most of them lack user-friendly APIs for automated integration, resulting in great engineering efforts for benchmarking at scale.
We attach a detailed comparison of existing benchmarks against FedScale in Appendix <a href="#A3" title="Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<figure id="S1.T1" class="ltx_table">
<table id="S1.T1.6.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S1.T1.6.6.7.1" class="ltx_tr">
<th id="S1.T1.6.6.7.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.1.1" class="ltx_text" style="font-size:90%;">Features</span></th>
<th id="S1.T1.6.6.7.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.2.1" class="ltx_text" style="font-size:90%;">LEAF</span></th>
<th id="S1.T1.6.6.7.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.3.1" class="ltx_text" style="font-size:90%;">TFF</span></th>
<th id="S1.T1.6.6.7.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.4.1" class="ltx_text" style="font-size:90%;">FedML</span></th>
<th id="S1.T1.6.6.7.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.5.1" class="ltx_text" style="font-size:90%;">Flower</span></th>
<th id="S1.T1.6.6.7.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.7.1.6.1" class="ltx_text ltx_font_bold" style="font-size:90%;">FedScale</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S1.T1.3.3.3" class="ltx_tr">
<td id="S1.T1.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><span id="S1.T1.3.3.3.4.1" class="ltx_text" style="font-size:90%;">Heter. Client Dataset</span></td>
<td id="S1.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><math id="S1.T1.1.1.1.1.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.1.1.1.1.m1.1a"><mo mathsize="90%" id="S1.T1.1.1.1.1.m1.1.1" xref="S1.T1.1.1.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.1.1.1.1.m1.1b"><ci id="S1.T1.1.1.1.1.m1.1.1.cmml" xref="S1.T1.1.1.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.1.1.1.1.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.3.3.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><span id="S1.T1.3.3.3.5.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.2.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><math id="S1.T1.2.2.2.2.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.2.2.2.2.m1.1a"><mo mathsize="90%" id="S1.T1.2.2.2.2.m1.1.1" xref="S1.T1.2.2.2.2.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.2.2.2.2.m1.1b"><ci id="S1.T1.2.2.2.2.m1.1.1.cmml" xref="S1.T1.2.2.2.2.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.2.2.2.2.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.3.3.3.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><math id="S1.T1.3.3.3.3.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.3.3.3.3.m1.1a"><mo mathsize="90%" id="S1.T1.3.3.3.3.m1.1.1" xref="S1.T1.3.3.3.3.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.3.3.3.3.m1.1b"><ci id="S1.T1.3.3.3.3.m1.1.1.cmml" xref="S1.T1.3.3.3.3.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.3.3.3.3.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.3.3.3.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.1pt;"><span id="S1.T1.3.3.3.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
<tr id="S1.T1.5.5.5" class="ltx_tr">
<td id="S1.T1.5.5.5.3" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.5.5.5.3.1" class="ltx_text" style="font-size:90%;">Heter. System Speed</span></td>
<td id="S1.T1.5.5.5.4" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.5.5.5.4.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.5.5.5.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.5.5.5.5.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.4.4.4.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><math id="S1.T1.4.4.4.1.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.4.4.4.1.m1.1a"><mo mathsize="90%" id="S1.T1.4.4.4.1.m1.1.1" xref="S1.T1.4.4.4.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.4.4.4.1.m1.1b"><ci id="S1.T1.4.4.4.1.m1.1.1.cmml" xref="S1.T1.4.4.4.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.4.4.4.1.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.5.5.5.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><math id="S1.T1.5.5.5.2.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.5.5.5.2.m1.1a"><mo mathsize="90%" id="S1.T1.5.5.5.2.m1.1.1" xref="S1.T1.5.5.5.2.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.5.5.5.2.m1.1b"><ci id="S1.T1.5.5.5.2.m1.1.1.cmml" xref="S1.T1.5.5.5.2.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.5.5.5.2.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.5.5.5.6" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.5.5.5.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
<tr id="S1.T1.6.6.8.1" class="ltx_tr">
<td id="S1.T1.6.6.8.1.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.1.1" class="ltx_text" style="font-size:90%;">Client Availability</span></td>
<td id="S1.T1.6.6.8.1.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.2.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.8.1.3" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.3.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.8.1.4" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.4.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.8.1.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.5.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.8.1.6" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.8.1.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
<tr id="S1.T1.6.6.6" class="ltx_tr">
<td id="S1.T1.6.6.6.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.6.2.1" class="ltx_text" style="font-size:90%;">Scalable Platform</span></td>
<td id="S1.T1.6.6.6.3" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.6.3.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.6.4" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.6.4.1" class="ltx_text" style="font-size:90%;">✔</span></td>
<td id="S1.T1.6.6.6.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><math id="S1.T1.6.6.6.1.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.6.6.6.1.m1.1a"><mo mathsize="90%" id="S1.T1.6.6.6.1.m1.1.1" xref="S1.T1.6.6.6.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.6.6.6.1.m1.1b"><ci id="S1.T1.6.6.6.1.m1.1.1.cmml" xref="S1.T1.6.6.6.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.6.6.6.1.m1.1c">\bigcirc</annotation></semantics></math></td>
<td id="S1.T1.6.6.6.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.6.5.1" class="ltx_text" style="font-size:90%;">✔</span></td>
<td id="S1.T1.6.6.6.6" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.6.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
<tr id="S1.T1.6.6.9.2" class="ltx_tr">
<td id="S1.T1.6.6.9.2.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.1.1" class="ltx_text" style="font-size:90%;">Real FL Runtime</span></td>
<td id="S1.T1.6.6.9.2.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.2.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.9.2.3" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.3.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.9.2.4" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.4.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.9.2.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.5.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.9.2.6" class="ltx_td ltx_align_center" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.9.2.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
<tr id="S1.T1.6.6.10.3" class="ltx_tr">
<td id="S1.T1.6.6.10.3.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.1.1" class="ltx_text" style="font-size:90%;">Flexible APIs</span></td>
<td id="S1.T1.6.6.10.3.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.2.1" class="ltx_text" style="font-size:90%;">✗</span></td>
<td id="S1.T1.6.6.10.3.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.3.1" class="ltx_text" style="font-size:90%;">✔</span></td>
<td id="S1.T1.6.6.10.3.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.4.1" class="ltx_text" style="font-size:90%;">✔</span></td>
<td id="S1.T1.6.6.10.3.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.5.1" class="ltx_text" style="font-size:90%;">✔</span></td>
<td id="S1.T1.6.6.10.3.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.1pt;"><span id="S1.T1.6.6.10.3.6.1" class="ltx_text" style="font-size:90%;">✔</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparing FedScale with existing FL benchmarks and libraries. <math id="S1.T1.8.m1.1" class="ltx_Math" alttext="\bigcirc" display="inline"><semantics id="S1.T1.8.m1.1b"><mo id="S1.T1.8.m1.1.1" xref="S1.T1.8.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S1.T1.8.m1.1c"><ci id="S1.T1.8.m1.1.1.cmml" xref="S1.T1.8.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.T1.8.m1.1d">\bigcirc</annotation></semantics></math> implies limited support.</figcaption>
</figure>
<section id="S1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Contributions</h4>

<div id="S1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S1.SS0.SSS0.Px1.p1.1" class="ltx_p">We introduce an FL benchmark and accompanying runtime, FedScale, to enable comprehensive and standardized FL evaluations:</p>
<ul id="S1.I3" class="ltx_itemize">
<li id="S1.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I3.i1.p1" class="ltx_para">
<p id="S1.I3.i1.p1.1" class="ltx_p">To the best of our knowledge, FedScale presents the most comprehensive collection of FL datasets for evaluating different aspects of real FL deployments.
It currently has 20 realistic FL datasets with small, medium, and large scales for a wide variety of task categories,
such as image classification, object detection, word prediction, speech recognition, and reinforcement learning.
To account for practical client behaviors, we include real-world measurements of mobile devices and associate each client with their computation and communication speeds, as well as the availability status over time.
</p>
</div>
</li>
<li id="S1.I3.i2" class="ltx_item" style="list-style-type:none;padding-top:2.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I3.i2.p1" class="ltx_para">
<p id="S1.I3.i2.p1.1" class="ltx_p">We present an automated evaluation platform, FedScale Runtime,
to simplify and standardize FL evaluation in more realistic settings.
FedScale Runtime provides a mobile backend to enable on-device FL evaluation and a cluster backend to benchmark various practical FL metrics (e.g., real client round duration) on GPUs/CPUs using real FL statistical and system datasets. The cluster backend can efficiently train thousands of clients in each round on a handful of GPUs.
FedScale Runtime is also extensible, allowing easy deployment of new algorithms and ideas with flexible APIs.
</p>
</div>
</li>
<li id="S1.I3.i3" class="ltx_item" style="list-style-type:none;padding-top:2.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I3.i3.p1" class="ltx_para">
<p id="S1.I3.i3.p1.1" class="ltx_p">We perform systematic experiments to show how FedScale facilitates comprehensive FL benchmarking and highlight the pressing need for co-optimizing system and statistical efficiency, especially in tackling system stragglers, accuracy bias, and device energy trade-offs.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background</h2>

<figure id="S2.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x2.png" id="S2.F2.sf1.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S2.F2.sf1.3.2" class="ltx_text" style="font-size:80%;">Impact of system trace. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S2.F2.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x3.png" id="S2.F2.sf2.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S2.F2.sf2.3.2" class="ltx_text" style="font-size:80%;">Impact of scale. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Existing benchmarks can be misleading. We train ShuffleNet on OpenImage classification (Detailed setup in Section <a href="#S5" title="5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).</figcaption>
</figure>
<figure id="S2.1" class="ltx_figure ltx_minipage ltx_align_middle" style="width:433.6pt;">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.1.1.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:316.5pt;">
<table id="S2.1.1.fig1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S2.1.1.fig1.1.1.1" class="ltx_tr">
<td id="S2.1.1.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Category</span></td>
<td id="S2.1.1.fig1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.2.1" class="ltx_text" style="font-size:90%;">Name</span></td>
<td id="S2.1.1.fig1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.3.1" class="ltx_text" style="font-size:90%;">Data Type</span></td>
<td id="S2.1.1.fig1.1.1.1.4" class="ltx_td ltx_align_right ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.4.1" class="ltx_text" style="font-size:90%;">#Clients</span></td>
<td id="S2.1.1.fig1.1.1.1.5" class="ltx_td ltx_align_right ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.5.1" class="ltx_text" style="font-size:90%;">#Instances</span></td>
<td id="S2.1.1.fig1.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.1.1.6.1" class="ltx_text" style="font-size:90%;">Example Task</span></td>
</tr>
<tr id="S2.1.1.fig1.1.2.2" class="ltx_tr">
<td id="S2.1.1.fig1.1.2.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;" rowspan="5"><span id="S2.1.1.fig1.1.2.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">CV</span></td>
<td id="S2.1.1.fig1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.2.2.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">OpenImage</em></td>
<td id="S2.1.1.fig1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.2.2.3.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="S2.1.1.fig1.1.2.2.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.2.2.4.1" class="ltx_text" style="font-size:90%;">13,771</span></td>
<td id="S2.1.1.fig1.1.2.2.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.2.2.5.1" class="ltx_text" style="font-size:90%;">1.3M</span></td>
<td id="S2.1.1.fig1.1.2.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.2.2.6.1" class="ltx_text" style="font-size:90%;">Classification, Object detection</span></td>
</tr>
<tr id="S2.1.1.fig1.1.3.3" class="ltx_tr">
<td id="S2.1.1.fig1.1.3.3.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.3.3.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Google Landmark</em></td>
<td id="S2.1.1.fig1.1.3.3.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.3.3.2.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="S2.1.1.fig1.1.3.3.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.3.3.3.1" class="ltx_text" style="font-size:90%;">43,484</span></td>
<td id="S2.1.1.fig1.1.3.3.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.3.3.4.1" class="ltx_text" style="font-size:90%;">3.6M</span></td>
<td id="S2.1.1.fig1.1.3.3.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.3.3.5.1" class="ltx_text" style="font-size:90%;">Classification</span></td>
</tr>
<tr id="S2.1.1.fig1.1.4.4" class="ltx_tr">
<td id="S2.1.1.fig1.1.4.4.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.4.4.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Charades</em></td>
<td id="S2.1.1.fig1.1.4.4.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.4.4.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="S2.1.1.fig1.1.4.4.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.4.4.3.1" class="ltx_text" style="font-size:90%;">266</span></td>
<td id="S2.1.1.fig1.1.4.4.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.4.4.4.1" class="ltx_text" style="font-size:90%;">10K</span></td>
<td id="S2.1.1.fig1.1.4.4.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.4.4.5.1" class="ltx_text" style="font-size:90%;">Action recognition</span></td>
</tr>
<tr id="S2.1.1.fig1.1.5.5" class="ltx_tr">
<td id="S2.1.1.fig1.1.5.5.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.5.5.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">VLOG</em></td>
<td id="S2.1.1.fig1.1.5.5.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.5.5.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="S2.1.1.fig1.1.5.5.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.5.5.3.1" class="ltx_text" style="font-size:90%;">4,900</span></td>
<td id="S2.1.1.fig1.1.5.5.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.5.5.4.1" class="ltx_text" style="font-size:90%;">9.6K</span></td>
<td id="S2.1.1.fig1.1.5.5.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.5.5.5.1" class="ltx_text" style="font-size:90%;">Classification, Object detection</span></td>
</tr>
<tr id="S2.1.1.fig1.1.6.6" class="ltx_tr">
<td id="S2.1.1.fig1.1.6.6.1" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.6.6.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Waymo Motion</em></td>
<td id="S2.1.1.fig1.1.6.6.2" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.6.6.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="S2.1.1.fig1.1.6.6.3" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.6.6.3.1" class="ltx_text" style="font-size:90%;">496,358</span></td>
<td id="S2.1.1.fig1.1.6.6.4" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.6.6.4.1" class="ltx_text" style="font-size:90%;">32.5M</span></td>
<td id="S2.1.1.fig1.1.6.6.5" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.6.6.5.1" class="ltx_text" style="font-size:90%;">Motion prediction</span></td>
</tr>
<tr id="S2.1.1.fig1.1.7.7" class="ltx_tr">
<td id="S2.1.1.fig1.1.7.7.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;" rowspan="5"><span id="S2.1.1.fig1.1.7.7.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">NLP</span></td>
<td id="S2.1.1.fig1.1.7.7.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.7.7.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Europarl</em></td>
<td id="S2.1.1.fig1.1.7.7.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.7.7.3.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.7.7.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.7.7.4.1" class="ltx_text" style="font-size:90%;">27,835</span></td>
<td id="S2.1.1.fig1.1.7.7.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.7.7.5.1" class="ltx_text" style="font-size:90%;">1.2M</span></td>
<td id="S2.1.1.fig1.1.7.7.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.7.7.6.1" class="ltx_text" style="font-size:90%;">Text translation</span></td>
</tr>
<tr id="S2.1.1.fig1.1.8.8" class="ltx_tr">
<td id="S2.1.1.fig1.1.8.8.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.8.8.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Reddit</em></td>
<td id="S2.1.1.fig1.1.8.8.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.8.8.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.8.8.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.8.8.3.1" class="ltx_text" style="font-size:90%;">1,660,820</span></td>
<td id="S2.1.1.fig1.1.8.8.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.8.8.4.1" class="ltx_text" style="font-size:90%;">351M</span></td>
<td id="S2.1.1.fig1.1.8.8.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.8.8.5.1" class="ltx_text" style="font-size:90%;">Word prediction</span></td>
</tr>
<tr id="S2.1.1.fig1.1.9.9" class="ltx_tr">
<td id="S2.1.1.fig1.1.9.9.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.9.9.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">LibriTTS</em></td>
<td id="S2.1.1.fig1.1.9.9.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.9.9.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.9.9.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.9.9.3.1" class="ltx_text" style="font-size:90%;">2,456</span></td>
<td id="S2.1.1.fig1.1.9.9.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.9.9.4.1" class="ltx_text" style="font-size:90%;">37K</span></td>
<td id="S2.1.1.fig1.1.9.9.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.9.9.5.1" class="ltx_text" style="font-size:90%;">Text to speech</span></td>
</tr>
<tr id="S2.1.1.fig1.1.10.10" class="ltx_tr">
<td id="S2.1.1.fig1.1.10.10.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.10.10.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Google Speech</em></td>
<td id="S2.1.1.fig1.1.10.10.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.10.10.2.1" class="ltx_text" style="font-size:90%;">Audio</span></td>
<td id="S2.1.1.fig1.1.10.10.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.10.10.3.1" class="ltx_text" style="font-size:90%;">2,618</span></td>
<td id="S2.1.1.fig1.1.10.10.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.10.10.4.1" class="ltx_text" style="font-size:90%;">105K</span></td>
<td id="S2.1.1.fig1.1.10.10.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.10.10.5.1" class="ltx_text" style="font-size:90%;">Speech recognition</span></td>
</tr>
<tr id="S2.1.1.fig1.1.11.11" class="ltx_tr">
<td id="S2.1.1.fig1.1.11.11.1" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.11.11.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Common Voice</em></td>
<td id="S2.1.1.fig1.1.11.11.2" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.11.11.2.1" class="ltx_text" style="font-size:90%;">Audio</span></td>
<td id="S2.1.1.fig1.1.11.11.3" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.11.11.3.1" class="ltx_text" style="font-size:90%;">12,976</span></td>
<td id="S2.1.1.fig1.1.11.11.4" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.11.11.4.1" class="ltx_text" style="font-size:90%;">1.1M</span></td>
<td id="S2.1.1.fig1.1.11.11.5" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.11.11.5.1" class="ltx_text" style="font-size:90%;">Speech recognition</span></td>
</tr>
<tr id="S2.1.1.fig1.1.12.12" class="ltx_tr">
<td id="S2.1.1.fig1.1.12.12.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:0.9pt 2.5pt;" rowspan="3"><span id="S2.1.1.fig1.1.12.12.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Misc ML</span></td>
<td id="S2.1.1.fig1.1.12.12.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.12.12.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Taobao</em></td>
<td id="S2.1.1.fig1.1.12.12.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.12.12.3.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.12.12.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.12.12.4.1" class="ltx_text" style="font-size:90%;">182,806</span></td>
<td id="S2.1.1.fig1.1.12.12.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.12.12.5.1" class="ltx_text" style="font-size:90%;">20.9M</span></td>
<td id="S2.1.1.fig1.1.12.12.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.12.12.6.1" class="ltx_text" style="font-size:90%;">Recommendation</span></td>
</tr>
<tr id="S2.1.1.fig1.1.13.13" class="ltx_tr">
<td id="S2.1.1.fig1.1.13.13.1" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.13.13.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Puffer Streaming</em></td>
<td id="S2.1.1.fig1.1.13.13.2" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.13.13.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.13.13.3" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.13.13.3.1" class="ltx_text" style="font-size:90%;">121,551</span></td>
<td id="S2.1.1.fig1.1.13.13.4" class="ltx_td ltx_align_right" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.13.13.4.1" class="ltx_text" style="font-size:90%;">15.4M</span></td>
<td id="S2.1.1.fig1.1.13.13.5" class="ltx_td ltx_align_center" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.13.13.5.1" class="ltx_text" style="font-size:90%;">Sequence prediction</span></td>
</tr>
<tr id="S2.1.1.fig1.1.14.14" class="ltx_tr">
<td id="S2.1.1.fig1.1.14.14.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.5pt;"><em id="S2.1.1.fig1.1.14.14.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Fox Go</em></td>
<td id="S2.1.1.fig1.1.14.14.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.14.14.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="S2.1.1.fig1.1.14.14.3" class="ltx_td ltx_align_right ltx_border_bb" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.14.14.3.1" class="ltx_text" style="font-size:90%;">150,333</span></td>
<td id="S2.1.1.fig1.1.14.14.4" class="ltx_td ltx_align_right ltx_border_bb" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.14.14.4.1" class="ltx_text" style="font-size:90%;">4.9M</span></td>
<td id="S2.1.1.fig1.1.14.14.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 2.5pt;"><span id="S2.1.1.fig1.1.14.14.5.1" class="ltx_text" style="font-size:90%;">Reinforcement learning</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Table 2: </span>Statistics of <em id="S2.1.1.fig1.9.1" class="ltx_emph ltx_font_italic">partial</em> FedScale datasets (the full list with more details is available in Appendix <a href="#A2" title="Appendix B Introduction of FedScale Datasets ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>). Currently, <span id="S2.1.1.fig1.10.2" class="ltx_text ltx_font_bold">FedScale has 20 real-world federated datasets</span>; each dataset is partitioned by its real client-data mapping, and we have removed sensitive information in these datasets.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F3" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:104.1pt;">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x4.png" id="S2.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="452" height="361" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.sf1.3.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S2.F3.sf1.4.2" class="ltx_text" style="font-size:90%;">Data size. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x5.png" id="S2.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="452" height="361" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.sf2.3.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S2.F3.sf2.4.2" class="ltx_text" style="font-size:90%;">Data distribution. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Non-IID client data.</figcaption>
</figure>
</div>
</div>
</figure>
<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Existing efforts toward practical FL</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.1" class="ltx_p">To tackle heterogeneous client data, FedProx <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a href="#bib.bib37" title="" class="ltx_ref">2020</a>)</cite>, FedYoGi <cite class="ltx_cite ltx_citemacro_citep">(Reddi et al., <a href="#bib.bib42" title="" class="ltx_ref">2020</a>)</cite> and Scaffold <cite class="ltx_cite ltx_citemacro_citep">(Karimireddy et al., <a href="#bib.bib31" title="" class="ltx_ref">2020</a>)</cite> introduce adaptive client/server optimizations that use control variates to account for the ‘drift’ in model updates.
Instead of training a single global model,
some efforts enforce guided client selection <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite>, train a mixture of models <cite class="ltx_cite ltx_citemacro_citep">(Shi et al., <a href="#bib.bib48" title="" class="ltx_ref">2021</a>; Fallah et al., <a href="#bib.bib19" title="" class="ltx_ref">2020</a>)</cite>, or cluster clients over training <cite class="ltx_cite ltx_citemacro_citep">(Ghosh et al., <a href="#bib.bib23" title="" class="ltx_ref">2020a</a>)</cite>;
To tackle the scarce and heterogeneous device resource <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib34" title="" class="ltx_ref">2020</a>)</cite>, FedAvg <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite> reduces communication cost by performing multiple local SGD steps, while some works compress the model update by filtering out or quantizing unimportant parameters <cite class="ltx_cite ltx_citemacro_citep">(Rothchild et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>; Karimireddy et al., <a href="#bib.bib30" title="" class="ltx_ref">2019</a>)</cite>;
After realizing the privacy risk in FL <cite class="ltx_cite ltx_citemacro_citep">(Geiping et al., <a href="#bib.bib21" title="" class="ltx_ref">2020</a>; Wang et al., <a href="#bib.bib52" title="" class="ltx_ref">2020</a>)</cite>,
DP-SGD <cite class="ltx_cite ltx_citemacro_citep">(Geyer et al., <a href="#bib.bib22" title="" class="ltx_ref">2017</a>)</cite> enhances the privacy by employing differential privacy,
and DP-FTRL <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib28" title="" class="ltx_ref">2021a</a>)</cite> applies the tree aggregation to add noise to the sum of mini-batch gradients.
These FL efforts often navigate accuracy-computation-privacy trade-offs.
As such, a realistic FL setting is crucial for comprehensive evaluations.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Existing FL benchmarks can be misleading</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Existing benchmarks often lack realistic client statistical and system behavior datasets and/or fail to reproduce large-scale FL deployments.
As a result, they are not only insufficient for benchmarking diverse FL optimizations but can even mislead performance evaluations.
For example,

<span id="S2.I1" class="ltx_inline-enumerate">
<span id="S2.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <span id="S2.I1.i1.1" class="ltx_text">As shown in Figure <a href="#S2.F2.sf1" title="In Figure 2 ‣ 2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>, statistical performance becomes worse when encountering realistic client behavior (e.g., training failures and availability dynamics), which indicates existing benchmarks that do not have systems traces can produce overly optimistic statistical performance;
</span></span>
<span id="S2.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <span id="S2.I1.i2.1" class="ltx_text">FL training with hundreds of participants each round performs better than that with tens of participants (Figure <a href="#S2.F2.sf2" title="In Figure 2 ‣ 2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>).
As such, existing benchmark platforms can under-report FL optimizations as they cannot support the practical FL scale with a large number of participants.
</span></span>
</span></p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>FedScale Dataset: Realistic FL Workloads</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">We next introduce how we curate realistic datasets in FedScale to fulfill the desired properties of FL datasets.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Client Statistical Dataset</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">FedScale currently has 20 realistic FL datasets (Table <a href="#S2" title="2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) across diverse practical FL scenarios and disciplines. For example, Puffer dataset <cite class="ltx_cite ltx_citemacro_citep">(Yan et al., <a href="#bib.bib55" title="" class="ltx_ref">2020</a>)</cite> is from FL video streaming deployed to edge users over the Internet. The raw data of FedScale datasets are collected from different sources and stored in various formats.
We clean up the raw data, partition them into new FL datasets, streamline new datasets into consistent formats,
and categorize them into different FL use cases.
Moreover, FedScale provides standardized APIs, a Python package, for the user to easily leverage these datasets (e.g., using different distributions of the same data or new datasets) in other frameworks.</p>
</div>
<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Realistic data and partitions</h4>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p1.1" class="ltx_p">We target realistic datasets with client information, and partition the raw dataset using the unique client identification.
For example, OpenImage is a vision dataset collected by Flickr, wherein different mobile users upload their images to the cloud for public use.
We use the <em id="S3.SS1.SSS0.Px1.p1.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">AuthorProfileUrl</em> attribute of the OpenImage data to map data instances to each client,
whereby we extract the realistic distribution of the raw data.
Following the practical FL deployments <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib57" title="" class="ltx_ref">2018</a>)</cite>, we assign the clients of each dataset into the training, validation and testing groups, to get its training, validation and testing set.
Here, we pick four real-world datasets – video (Charades), audio (Google Speech), image (OpenImage), and text (Reddit) – to illustrate practical FL characteristics.
Each dataset consists of hundreds or up to millions of clients and millions of data points.
Figure <a href="#S2.F3" title="Figure 3 ‣ 2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> reports the <em id="S3.SS1.SSS0.Px1.p1.1.2" class="ltx_emph ltx_font_italic">Probability Density Function</em> (PDF) of the data distribution, wherein we see a high statistical deviation (e.g., wide distribution of the density) across clients not only in the quantity of samples (Figure <a href="#S2.F3.sf1" title="In Figure 3 ‣ 2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(a)</span></a>) but also in the data distribution (Figure <a href="#S2.F3.sf2" title="In Figure 3 ‣ 2 Background ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3(b)</span></a>).<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>We report the pairwise Jensen–Shannon distance of the label distribution between two clients.</span></span></span>
We notice that realistic datasets mostly have unique Non-IID patterns,
implying the impracticality of existing artificial FL partitions.</p>
</div>
</section>
<section id="S3.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Different scales across diverse task categories</h4>

<div id="S3.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px2.p1.1" class="ltx_p">To accommodate diverse scenarios in practical FL, FedScale includes small-, medium-, and large-scale datasets across a wide range of tasks, from hundreds to millions of clients.
Some datasets can be applied in different tasks, as we enrich their use case by deriving different metadata from the same raw data.
For example, the raw OpenImage dataset can be used for object detection,
and we extract each object therein and generate a new dataset for image classification.
Moreover, we provide APIs for the developer to customize their dataset (e.g., enforcing new data distribution or taking a subset of clients for evaluations with a smaller scale).</p>
</div>
</section>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Client System Behavior Dataset</h3>

<figure id="S3.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x6.png" id="S3.F4.sf1.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S3.F4.sf1.3.2" class="ltx_text" style="font-size:80%;">Compute capacity. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x7.png" id="S3.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S3.F4.sf2.3.2" class="ltx_text" style="font-size:80%;">Network capacity. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Heterogeneous client system speed. </figcaption>
</figure>
<figure id="S3.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F5.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x8.png" id="S3.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F5.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S3.F5.sf1.3.2" class="ltx_text" style="font-size:80%;">Inter-device availability. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F5.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x9.png" id="S3.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="230" height="184" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S3.F5.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S3.F5.sf2.3.2" class="ltx_text" style="font-size:80%;">Intra-device availability. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Client availability is dynamic.</figcaption>
</figure>
<section id="S3.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Client device system speed is heterogeneous</h4>

<div id="S3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px1.p1.1" class="ltx_p">We formulate the system trace of different clients using <em id="S3.SS2.SSS0.Px1.p1.1.1" class="ltx_emph ltx_font_italic">AI Benchmark</em> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib27" title="" class="ltx_ref">Ignatov et al., </a>)</cite> and
<em id="S3.SS2.SSS0.Px1.p1.1.2" class="ltx_emph ltx_font_italic">MobiPerf Measurements</em> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib4" title="" class="ltx_ref">mob, </a>)</cite> on mobiles.
<em id="S3.SS2.SSS0.Px1.p1.1.3" class="ltx_emph ltx_font_italic">AI Benchmark</em> provides the training and inference speed of diverse models (e.g., MobileNet) across a wide range of device models (e.g., Huawei P40 and Samsung Galaxy S20), while <em id="S3.SS2.SSS0.Px1.p1.1.4" class="ltx_emph ltx_font_italic">MobiPerf</em> has collected the available cloud-to-edge network throughput of over 100k world-wide mobile clients.
As specified in real FL deployments <cite class="ltx_cite ltx_citemacro_citep">(Bonawitz et al., <a href="#bib.bib13" title="" class="ltx_ref">2019</a>; Yang et al., <a href="#bib.bib57" title="" class="ltx_ref">2018</a>)</cite>,
we focus on mobile devices that have larger than 2GB RAM and connect with WiFi; Figure <a href="#S3.F4" title="Figure 4 ‣ 3.2 Client System Behavior Dataset ‣ 3 FedScale Dataset: Realistic FL Workloads ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> reports that their compute and network capacity can exhibit order-of-magnitude difference.
As such, how to orchestrate scarce resources and mitigate stragglers are paramount.</p>
</div>
</section>
<section id="S3.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Client device availability is dynamic</h4>

<div id="S3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS2.SSS0.Px2.p1.1" class="ltx_p">We incorporate a large-scale user behavior dataset spanning across 136k users <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a href="#bib.bib56" title="" class="ltx_ref">2021</a>)</cite> to emulate the behaviors of clients.
It includes 180 million trace items of client devices (e.g., battery charge or screen lock) over a week.
We follow the real FL setting, which considers the device in charging to be available <cite class="ltx_cite ltx_citemacro_citep">(Bonawitz et al., <a href="#bib.bib13" title="" class="ltx_ref">2019</a>)</cite> and observe great dynamics in their availability:
(i) the number of available clients reports diurnal variation (Figure <a href="#S3.F5.sf1" title="In Figure 5 ‣ 3.2 Client System Behavior Dataset ‣ 3 FedScale Dataset: Realistic FL Workloads ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(a)</span></a>).
This confirms the cyclic patterns in the client data, which can deteriorate the statistical performance of FL <cite class="ltx_cite ltx_citemacro_citep">(Eichner et al., <a href="#bib.bib17" title="" class="ltx_ref">2019</a>)</cite>.
(ii) the duration of each available slot is not long-lasting (Figure <a href="#S3.F5.sf2" title="In Figure 5 ‣ 3.2 Client System Behavior Dataset ‣ 3 FedScale Dataset: Realistic FL Workloads ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(b)</span></a>). This highlights the need of handling failures (e.g., clients become offline) during training, as the round duration (also a few minutes) is comparable to that of each available slot. This, however, is largely overlooked in the literature.</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>FedScale Runtime: Evaluation Platform</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Existing FL evaluation platforms are poor at reproducing practical, large-scale FL deployment scenarios.
Worse, they often lack user-friendly APIs and require significant developer efforts to introduce new plugins.
We introduce, FedScale Runtime, an automated, extensible, and easily-deployable evaluation platform equipped with mobile and cluster backends, to simplify and standardize FL evaluation under realistic settings.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>FedScale Runtime: Mobile Backend</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">FedScale Runtime deploys a mobile backend to enable on-device FL evaluation on smartphones.
The first principle in building our mobile backend is to minimize any engineering effort for the developer (e.g., without reinventing their Python code) to benchmark FL on mobiles.
To this end, FedScale mobile backend <cite class="ltx_cite ltx_citemacro_citep">(Singapuram et al., <a href="#bib.bib50" title="" class="ltx_ref">2022</a>)</cite> is built atop the Termux app <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib10" title="" class="ltx_ref">ter, </a>)</cite>, an Android terminal that supports Linux environment.</p>
</div>
<figure id="S4.SS1.fig1" class="ltx_figure ltx_minipage ltx_align_middle" style="width:433.6pt;">
<div id="S4.SS1.fig1.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnJvbSBmZWRzY2FsZS5jb3JlLmNsaWVudCBpbXBvcnQgQ2xpZW50CgpjbGFzcyBNb2JpbGVfQ2xpZW50KENsaWVudCk6CiAgZGVmIHRyYWluKHNlbGYsY2xpZW50X2RhdGEsbW9kZWwsY29uZik6CiAgICBmb3IgbG9jYWxfc3RlcCBpbiByYW5nZShjb25mLmxvY2FsX3N0ZXBzKToKICAgICAgb3B0aW1pemVyLnplcm9fZ3JhZCgpCiAgICAgIC4uLgogICAgICBsb3NzLmJhY2t3YXJkKCkKICAgICAgb3B0aW1pemVyLnN0ZXAoKQogICAgIyBSZXN1bHRzIHdpbGwgYmUgc2VudCB0byBjbG91ZCBhZ2dyZWdhdG9yIHZpYSBnUlBDCiAgICByZXR1cm4gZ3JhZGllbnRfdXBkYXRl" download="">⬇</a></div>
<div id="lstnumberx1" class="ltx_listingline">
<span id="lstnumberx1.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx1.1.1" class="ltx_text" style="color:#0000FF;">from</span></span><span id="lstnumberx1.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx1.3" class="ltx_text ltx_lst_emph ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#FF00FF;">fedscale</span><span id="lstnumberx1.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx1.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">core</span><span id="lstnumberx1.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx1.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx1.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx1.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx1.9.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx1.10" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx1.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span>
</div>
<div id="lstnumberx2" class="ltx_listingline">
</div>
<div id="lstnumberx3" class="ltx_listingline">
<span id="lstnumberx3.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx3.1.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx3.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx3.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Mobile_Client</span><span id="lstnumberx3.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx3.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span><span id="lstnumberx3.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx4" class="ltx_listingline">
<span id="lstnumberx4.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx4.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx4.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx4.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx4.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx4.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx4.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx4.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx4.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx4.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx4.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx4.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx4.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx4.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx5" class="ltx_listingline">
<span id="lstnumberx5.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx5.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx5.2.1" class="ltx_text" style="color:#0000FF;">for</span></span><span id="lstnumberx5.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx5.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">local_step</span><span id="lstnumberx5.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx5.6" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx5.6.1" class="ltx_text" style="color:#0000FF;">in</span></span><span id="lstnumberx5.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx5.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx5.8.1" class="ltx_text" style="color:#0000FF;">range</span></span><span id="lstnumberx5.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx5.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx5.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx5.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">local_steps</span><span id="lstnumberx5.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx6" class="ltx_listingline">
<span id="lstnumberx6.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx6.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">optimizer</span><span id="lstnumberx6.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx6.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">zero_grad</span><span id="lstnumberx6.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">()</span>
</div>
<div id="lstnumberx7" class="ltx_listingline">
<span id="lstnumberx7.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx7.2" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">...</span>
</div>
<div id="lstnumberx8" class="ltx_listingline">
<span id="lstnumberx8.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx8.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">loss</span><span id="lstnumberx8.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx8.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">backward</span><span id="lstnumberx8.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">()</span>
</div>
<div id="lstnumberx9" class="ltx_listingline">
<span id="lstnumberx9.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx9.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">optimizer</span><span id="lstnumberx9.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx9.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">step</span><span id="lstnumberx9.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">()</span>
</div>
<div id="lstnumberx10" class="ltx_listingline">
<span id="lstnumberx10.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx10.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx10.2.1" class="ltx_text ltx_lst_space"> </span>Results<span id="lstnumberx10.2.2" class="ltx_text ltx_lst_space"> </span>will<span id="lstnumberx10.2.3" class="ltx_text ltx_lst_space"> </span>be<span id="lstnumberx10.2.4" class="ltx_text ltx_lst_space"> </span>sent<span id="lstnumberx10.2.5" class="ltx_text ltx_lst_space"> </span>to<span id="lstnumberx10.2.6" class="ltx_text ltx_lst_space"> </span>cloud<span id="lstnumberx10.2.7" class="ltx_text ltx_lst_space"> </span>aggregator<span id="lstnumberx10.2.8" class="ltx_text ltx_lst_space"> </span>via<span id="lstnumberx10.2.9" class="ltx_text ltx_lst_space"> </span>gRPC</span>
</div>
<div id="lstnumberx11" class="ltx_listingline">
<span id="lstnumberx11.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx11.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx11.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx11.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx11.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">gradient_update</span>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Training on mobile client.</figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Figure <a href="#S4.SS1" title="4.1 FedScale Runtime: Mobile Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> shows a snippet of code running on FedScale mobile backend. By integrating with Termux, FedScale Runtime allows the developer to run an unmodified version of Python script (e.g., PyTorch) built from source on the mobile device; the full-operator set (e.g., PyTorch modules) is available too.
This speeds up the deployment cycle: FL models and algorithms that were prototyped on server GPUs/CPUs can also be deployed using FedScale Runtime.
We are currently implementing the Google Remote Procedure Call (gRPC) for distributed mobile devices to interface with FedScale Runtime cloud server.
</p>
</div>
<figure id="S4.F7" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x10.png" id="S4.F7.sf1.g1" class="ltx_graphics ltx_img_square" width="230" height="241" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F7.sf1.3.2" class="ltx_text" style="font-size:80%;">Xiaomi Mi10 </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F7.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2105.11367/assets/x11.png" id="S4.F7.sf2.g1" class="ltx_graphics ltx_img_square" width="230" height="231" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F7.sf2.3.2" class="ltx_text" style="font-size:80%;">Samsung S10e </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>FedScale Runtime can benchmark the mobile runtime of power, energy and latency. We train Resnet34 and Shufflenet on ImageNet and CIFAR-10 on Xiaomi mi10 and Samsung S10e.</figcaption>
</figure>
<section id="S4.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Benchmarking the mobile backend</h4>

<div id="S4.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS1.SSS0.Px1.p1.1" class="ltx_p">FedScale mobile backend enables developers to benchmark realistic FL training/testing performance on mobile phones.
For example, Figure <a href="#S4.F7" title="Figure 7 ‣ 4.1 FedScale Runtime: Mobile Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> reports the performance metrics of training ShuffleNet and ResNet34 on one mini-batch (batch size 32), drawn from the ImageNet and CIFAR-10 datasets, on Xiaomi Mi10 and Samsung S10e Android devices.
We benchmark the average training time.
We notice that ResNet34 runs at higher instantaneous power than ShuffleNet on both devices, but it requires less total energy to train since it takes shorter latency.
ImageNet takes longer than CIFAR-10 per mini-batch, as the larger training image sizes lead to longer execution.
The heterogeneity in computational capacity is evident as the Xiaomi Mi10 device outperforms the Samsung S10e device due to a more capable processor.
As such, we believe that FedScale mobile backend can facilitate future on-device FL optimizations (e.g., hardware-aware neural architecture search <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib26" title="" class="ltx_ref">2018</a>)</cite>).</p>
</div>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>FedScale Runtime: Cluster Backend</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">FedScale Runtime provides an automated cluster backend that can support FL evaluations in real deployments and in-cluster simulations.
In the <em id="S4.SS2.p1.1.1" class="ltx_emph ltx_font_italic">deployment mode</em>, FedScale Runtime acts as the cloud aggregator and orchestrates FL executions across real devices (e.g., laptops, mobiles, or even cloud servers).
To enable cost-efficient FL benchmarking, FedScale Runtime also includes a <em id="S4.SS2.p1.1.2" class="ltx_emph ltx_font_italic">simulation mode</em> that performs FL training/testing on GPUs/CPUs, while providing various practical FL metrics by emulating realistic FL behaviors, such as computation/communication cost, latency and wall clock time.
To the best of our knowledge, FedScale Runtime is the first platform that enables FL benchmarking with practical FL runtime on GPUs/CPUs.
More importantly, FedScale Runtime can run the same code with little changes in both modes to minimize the migration overhead.
</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Throughout the rest of the paper, we focus on the simulation mode as benchmarking is the primary focus of this paper.</p>
</div>
<figure id="S4.F8" class="ltx_figure"><img src="/html/2105.11367/assets/x12.png" id="S4.F8.g1" class="ltx_graphics ltx_img_landscape" width="461" height="317" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>FedScale Runtime enables the developer to benchmark various FL efforts with practical FL data and metrics.</figcaption>
</figure>
<figure id="S4.F9" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F9.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:251.5pt;">
<table id="S4.F9.fig1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.F9.fig1.1.1.1" class="ltx_tr">
<th id="S4.F9.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Module</span></th>
<th id="S4.F9.fig1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.1.1.2.1" class="ltx_text" style="font-size:90%;">API Name</span></th>
<th id="S4.F9.fig1.1.1.1.3" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.1.1.3.1" class="ltx_text" style="font-size:90%;">Example Use Case</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.F9.fig1.1.2.1" class="ltx_tr">
<th id="S4.F9.fig1.1.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.2.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Aggregator</span></th>
<td id="S4.F9.fig1.1.2.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.2.1.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">round_completion_handler</span><span id="S4.F9.fig1.1.2.1.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.2.1.3" class="ltx_td ltx_align_left ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.2.1.3.1" class="ltx_text" style="font-size:90%;">Adaptive/secure aggregation</span></td>
</tr>
<tr id="S4.F9.fig1.1.3.2" class="ltx_tr">
<th id="S4.F9.fig1.1.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.3.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Simulator</span></th>
<td id="S4.F9.fig1.1.3.2.2" class="ltx_td ltx_align_left ltx_border_r" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.3.2.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">client_completion_handler</span><span id="S4.F9.fig1.1.3.2.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.3.2.3" class="ltx_td ltx_align_left" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.3.2.3.1" class="ltx_text" style="font-size:90%;">Straggler mitigation</span></td>
</tr>
<tr id="S4.F9.fig1.1.4.3" class="ltx_tr">
<th id="S4.F9.fig1.1.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Client</span></th>
<td id="S4.F9.fig1.1.4.3.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.4.3.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">select_participants</span><span id="S4.F9.fig1.1.4.3.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.4.3.3" class="ltx_td ltx_align_left ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.4.3.3.1" class="ltx_text" style="font-size:90%;">Client selection</span></td>
</tr>
<tr id="S4.F9.fig1.1.5.4" class="ltx_tr">
<th id="S4.F9.fig1.1.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.5.4.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Manager</span></th>
<td id="S4.F9.fig1.1.5.4.2" class="ltx_td ltx_align_left ltx_border_r" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.5.4.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">select_model_for_client</span><span id="S4.F9.fig1.1.5.4.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.5.4.3" class="ltx_td ltx_align_left" style="padding-bottom:1.93748pt;padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.5.4.3.1" class="ltx_text" style="font-size:90%;">Adaptive model selection</span></td>
</tr>
<tr id="S4.F9.fig1.1.6.5" class="ltx_tr">
<th id="S4.F9.fig1.1.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.6.5.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Client</span></th>
<td id="S4.F9.fig1.1.6.5.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t" style="padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.6.5.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">train</span><span id="S4.F9.fig1.1.6.5.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.6.5.3" class="ltx_td ltx_align_left ltx_border_t" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.6.5.3.1" class="ltx_text" style="font-size:90%;">Local SGD/malicious attack</span></td>
</tr>
<tr id="S4.F9.fig1.1.7.6" class="ltx_tr">
<th id="S4.F9.fig1.1.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.7.6.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Simulator</span></th>
<td id="S4.F9.fig1.1.7.6.2" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" style="padding:0.9pt 2.5pt;">
<span id="S4.F9.fig1.1.7.6.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;color:#0800FF;">serialize_results</span><span id="S4.F9.fig1.1.7.6.2.2" class="ltx_text" style="font-size:90%;">()</span>
</td>
<td id="S4.F9.fig1.1.7.6.3" class="ltx_td ltx_align_left ltx_border_bb" style="padding:0.9pt 2.5pt;"><span id="S4.F9.fig1.1.7.6.3.1" class="ltx_text" style="font-size:90%;">Model compression</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Table 3: </span>Some example APIs. FedScale provides APIs to deploy new plugins for various designs. We omit input arguments for brevity here.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F9.fig2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:151.8pt;">
<div id="S4.F9.fig2.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnJvbSBmZWRzY2FsZS5jb3JlLmNsaWVudCBpbXBvcnQgQ2xpZW50CgpjbGFzcyBDdXN0b21pemVkX0NsaWVudChDbGllbnQpOgojIFJlZGVmaW5lIHRyYWluaW5nIChlLmcuLCBmb3IgbG9jYWwgU0dEL2dyYWRpZW50IGNvbXByZXNzaW9uKQoKICBkZWYgdHJhaW4oc2VsZixjbGllbnRfZGF0YSxtb2RlbCxjb25mKToKICAgICMgQ29kZSBvZiBwbHVnaW4KICAgICAgICAuLi4KCiAgICAjIFJlc3VsdHMgd2lsbCBiZSBzZXJpYWxpemVkLCBhbmQgdGhlbiBzZW50IHRvIGFnZ3JlZ2F0b3IKICAgIHJldHVybiB0cmFpbmluZ19yZXN1bHQ=" download="">⬇</a></div>
<div id="lstnumberx12" class="ltx_listingline">
<span id="lstnumberx12.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx12.1.1" class="ltx_text" style="color:#0000FF;">from</span></span><span id="lstnumberx12.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx12.3" class="ltx_text ltx_lst_emph ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#FF00FF;">fedscale</span><span id="lstnumberx12.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx12.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">core</span><span id="lstnumberx12.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx12.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx12.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx12.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx12.9.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx12.10" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx12.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span>
</div>
<div id="lstnumberx13" class="ltx_listingline">
</div>
<div id="lstnumberx14" class="ltx_listingline">
<span id="lstnumberx14.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx14.1.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx14.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx14.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Customized_Client</span><span id="lstnumberx14.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx14.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span><span id="lstnumberx14.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx15" class="ltx_listingline">
<span id="lstnumberx15.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx15.1.1" class="ltx_text ltx_lst_space"> </span>Redefine<span id="lstnumberx15.1.2" class="ltx_text ltx_lst_space"> </span>training<span id="lstnumberx15.1.3" class="ltx_text ltx_lst_space"> </span>(e.g.,<span id="lstnumberx15.1.4" class="ltx_text ltx_lst_space"> </span>for<span id="lstnumberx15.1.5" class="ltx_text ltx_lst_space"> </span>local<span id="lstnumberx15.1.6" class="ltx_text ltx_lst_space"> </span>SGD/gradient<span id="lstnumberx15.1.7" class="ltx_text ltx_lst_space"> </span>compression)</span>
</div>
<div id="lstnumberx16" class="ltx_listingline">
</div>
<div id="lstnumberx17" class="ltx_listingline">
<span id="lstnumberx17.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx17.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx17.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx17.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx17.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx17.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx17.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx17.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx17.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx17.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx17.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx17.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx17.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx17.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx18" class="ltx_listingline">
<span id="lstnumberx18.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx18.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx18.2.1" class="ltx_text ltx_lst_space"> </span>Code<span id="lstnumberx18.2.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx18.2.3" class="ltx_text ltx_lst_space"> </span>plugin</span>
</div>
<div id="lstnumberx19" class="ltx_listingline">
<span id="lstnumberx19.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">        </span><span id="lstnumberx19.2" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">...</span>
</div>
<div id="lstnumberx20" class="ltx_listingline">
</div>
<div id="lstnumberx21" class="ltx_listingline">
<span id="lstnumberx21.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx21.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx21.2.1" class="ltx_text ltx_lst_space"> </span>Results<span id="lstnumberx21.2.2" class="ltx_text ltx_lst_space"> </span>will<span id="lstnumberx21.2.3" class="ltx_text ltx_lst_space"> </span>be<span id="lstnumberx21.2.4" class="ltx_text ltx_lst_space"> </span>serialized,<span id="lstnumberx21.2.5" class="ltx_text ltx_lst_space"> </span>and<span id="lstnumberx21.2.6" class="ltx_text ltx_lst_space"> </span>then<span id="lstnumberx21.2.7" class="ltx_text ltx_lst_space"> </span>sent<span id="lstnumberx21.2.8" class="ltx_text ltx_lst_space"> </span>to<span id="lstnumberx21.2.9" class="ltx_text ltx_lst_space"> </span>aggregator</span>
</div>
<div id="lstnumberx22" class="ltx_listingline">
<span id="lstnumberx22.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">    </span><span id="lstnumberx22.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx22.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx22.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx22.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Add plugins by inheritance.</figcaption>
</figure>
</div>
</div>
</figure>
<section id="S4.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Overview of the simulation mode</h4>

<div id="S4.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S4.SS2.SSS0.Px1.p1.1" class="ltx_p">FedScale Runtime consists of three primary components (Figure <a href="#S4.F8" title="Figure 8 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>):</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><em id="S4.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Aggregator Simulator</em>:
It acts as the aggregator in practical FL, which selects participants, distributes execution profiles (e.g., model weight),
and handles result (e.g., model updates) aggregation.
In each round, its client manager uses the client behavior trace to monitor whether a client is available; then it selects the specified number of clients to participate that round.
Once receiving new events, the event monitor activates the handler (e.g., aggregation handler to perform model aggregation), or
the gRPC communicator to send/receive messages.
The communicator records the size (cost) of every network traffic, and its runtime latency in FL wall-clock time (<math id="S4.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="\frac{traffic\_size}{client\_bandwidth}" display="inline"><semantics id="S4.I1.i1.p1.1.m1.1a"><mfrac id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml"><mrow id="S4.I1.i1.p1.1.m1.1.1.2" xref="S4.I1.i1.p1.1.m1.1.1.2.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.2.2" xref="S4.I1.i1.p1.1.m1.1.1.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.3" xref="S4.I1.i1.p1.1.m1.1.1.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1a" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.4" xref="S4.I1.i1.p1.1.m1.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1b" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.5" xref="S4.I1.i1.p1.1.m1.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1c" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.6" xref="S4.I1.i1.p1.1.m1.1.1.2.6.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1d" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.7" xref="S4.I1.i1.p1.1.m1.1.1.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1e" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.8" xref="S4.I1.i1.p1.1.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1f" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i1.p1.1.m1.1.1.2.9" xref="S4.I1.i1.p1.1.m1.1.1.2.9.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1g" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.10" xref="S4.I1.i1.p1.1.m1.1.1.2.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1h" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.11" xref="S4.I1.i1.p1.1.m1.1.1.2.11.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1i" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.12" xref="S4.I1.i1.p1.1.m1.1.1.2.12.cmml">z</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.2.1j" xref="S4.I1.i1.p1.1.m1.1.1.2.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.2.13" xref="S4.I1.i1.p1.1.m1.1.1.2.13.cmml">e</mi></mrow><mrow id="S4.I1.i1.p1.1.m1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.3.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.3.2" xref="S4.I1.i1.p1.1.m1.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.3" xref="S4.I1.i1.p1.1.m1.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1a" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.4" xref="S4.I1.i1.p1.1.m1.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1b" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.5" xref="S4.I1.i1.p1.1.m1.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1c" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.6" xref="S4.I1.i1.p1.1.m1.1.1.3.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1d" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.7" xref="S4.I1.i1.p1.1.m1.1.1.3.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1e" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i1.p1.1.m1.1.1.3.8" xref="S4.I1.i1.p1.1.m1.1.1.3.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1f" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.9" xref="S4.I1.i1.p1.1.m1.1.1.3.9.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1g" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.10" xref="S4.I1.i1.p1.1.m1.1.1.3.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1h" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.11" xref="S4.I1.i1.p1.1.m1.1.1.3.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1i" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.12" xref="S4.I1.i1.p1.1.m1.1.1.3.12.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1j" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.13" xref="S4.I1.i1.p1.1.m1.1.1.3.13.cmml">w</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1k" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.14" xref="S4.I1.i1.p1.1.m1.1.1.3.14.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1l" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.15" xref="S4.I1.i1.p1.1.m1.1.1.3.15.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1m" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.16" xref="S4.I1.i1.p1.1.m1.1.1.3.16.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.3.1n" xref="S4.I1.i1.p1.1.m1.1.1.3.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.17" xref="S4.I1.i1.p1.1.m1.1.1.3.17.cmml">h</mi></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><apply id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"><divide id="S4.I1.i1.p1.1.m1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"></divide><apply id="S4.I1.i1.p1.1.m1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2"><times id="S4.I1.i1.p1.1.m1.1.1.2.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.1"></times><ci id="S4.I1.i1.p1.1.m1.1.1.2.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.2">𝑡</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.3">𝑟</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.4.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.4">𝑎</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.5.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.5">𝑓</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.6.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.6">𝑓</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.7.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.7">𝑖</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.8.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.8">𝑐</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.9.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.9">_</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.10.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.10">𝑠</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.11.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.11">𝑖</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.12.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.12">𝑧</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.13.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.13">𝑒</ci></apply><apply id="S4.I1.i1.p1.1.m1.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3"><times id="S4.I1.i1.p1.1.m1.1.1.3.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.1"></times><ci id="S4.I1.i1.p1.1.m1.1.1.3.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.2">𝑐</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3">𝑙</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.4.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.4">𝑖</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.5.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.5">𝑒</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.6.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.6">𝑛</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.7.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.7">𝑡</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.8.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.8">_</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.9.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.9">𝑏</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.10.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.10">𝑎</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.11.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.11">𝑛</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.12.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.12">𝑑</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.13.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.13">𝑤</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.14.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.14">𝑖</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.15.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.15">𝑑</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.16.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.16">𝑡</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.17.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.17">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">\frac{traffic\_size}{client\_bandwidth}</annotation></semantics></math>).</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;padding-top:2.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.2" class="ltx_p"><em id="S4.I1.i2.p1.2.1" class="ltx_emph ltx_font_italic">Client Simulator</em>:
It works as the FL client.
FedScale data loader loads the federated dataset of that client and feeds this data to the compute engine to run real training/testing.
The computation latency is determined by (<math id="S4.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="\#\_processed\_sample\times latency\_per\_sample" display="inline"><semantics id="S4.I1.i2.p1.1.m1.1a"><mrow id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mrow id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml"><mrow id="S4.I1.i2.p1.1.m1.1.1.2.2" xref="S4.I1.i2.p1.1.m1.1.1.2.2.cmml"><mi mathvariant="normal" id="S4.I1.i2.p1.1.m1.1.1.2.2.2" xref="S4.I1.i2.p1.1.m1.1.1.2.2.2.cmml">#</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.1.m1.1.1.2.2.3" xref="S4.I1.i2.p1.1.m1.1.1.2.2.3.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1a" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.4" xref="S4.I1.i2.p1.1.m1.1.1.2.2.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1b" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.5" xref="S4.I1.i2.p1.1.m1.1.1.2.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1c" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.6" xref="S4.I1.i2.p1.1.m1.1.1.2.2.6.cmml">o</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1d" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.7" xref="S4.I1.i2.p1.1.m1.1.1.2.2.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1e" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.8" xref="S4.I1.i2.p1.1.m1.1.1.2.2.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1f" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.9" xref="S4.I1.i2.p1.1.m1.1.1.2.2.9.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1g" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.10" xref="S4.I1.i2.p1.1.m1.1.1.2.2.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1h" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.11" xref="S4.I1.i2.p1.1.m1.1.1.2.2.11.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1i" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.12" xref="S4.I1.i2.p1.1.m1.1.1.2.2.12.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1j" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.1.m1.1.1.2.2.13" xref="S4.I1.i2.p1.1.m1.1.1.2.2.13.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1k" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.14" xref="S4.I1.i2.p1.1.m1.1.1.2.2.14.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1l" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.15" xref="S4.I1.i2.p1.1.m1.1.1.2.2.15.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1m" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.16" xref="S4.I1.i2.p1.1.m1.1.1.2.2.16.cmml">m</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1n" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.17" xref="S4.I1.i2.p1.1.m1.1.1.2.2.17.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1o" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.18" xref="S4.I1.i2.p1.1.m1.1.1.2.2.18.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.2.2.1p" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.2.19" xref="S4.I1.i2.p1.1.m1.1.1.2.2.19.cmml">e</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S4.I1.i2.p1.1.m1.1.1.2.1" xref="S4.I1.i2.p1.1.m1.1.1.2.1.cmml">×</mo><mi id="S4.I1.i2.p1.1.m1.1.1.2.3" xref="S4.I1.i2.p1.1.m1.1.1.2.3.cmml">l</mi></mrow><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1a" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.4" xref="S4.I1.i2.p1.1.m1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1b" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.5" xref="S4.I1.i2.p1.1.m1.1.1.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1c" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.6" xref="S4.I1.i2.p1.1.m1.1.1.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1d" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.7" xref="S4.I1.i2.p1.1.m1.1.1.7.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1e" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.8" xref="S4.I1.i2.p1.1.m1.1.1.8.cmml">y</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1f" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.1.m1.1.1.9" xref="S4.I1.i2.p1.1.m1.1.1.9.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1g" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.10" xref="S4.I1.i2.p1.1.m1.1.1.10.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1h" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.11" xref="S4.I1.i2.p1.1.m1.1.1.11.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1i" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.12" xref="S4.I1.i2.p1.1.m1.1.1.12.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1j" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.1.m1.1.1.13" xref="S4.I1.i2.p1.1.m1.1.1.13.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1k" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.14" xref="S4.I1.i2.p1.1.m1.1.1.14.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1l" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.15" xref="S4.I1.i2.p1.1.m1.1.1.15.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1m" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.16" xref="S4.I1.i2.p1.1.m1.1.1.16.cmml">m</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1n" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.17" xref="S4.I1.i2.p1.1.m1.1.1.17.cmml">p</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1o" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.18" xref="S4.I1.i2.p1.1.m1.1.1.18.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1p" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.19" xref="S4.I1.i2.p1.1.m1.1.1.19.cmml">e</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><times id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.1"></times><apply id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2"><times id="S4.I1.i2.p1.1.m1.1.1.2.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.1"></times><apply id="S4.I1.i2.p1.1.m1.1.1.2.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2"><times id="S4.I1.i2.p1.1.m1.1.1.2.2.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.1"></times><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.2">#</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.3">_</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.4.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.4">𝑝</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.5.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.5">𝑟</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.6.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.6">𝑜</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.7.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.7">𝑐</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.8.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.8">𝑒</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.9.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.9">𝑠</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.10.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.10">𝑠</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.11.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.11">𝑒</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.12.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.12">𝑑</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.13.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.13">_</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.14.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.14">𝑠</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.15.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.15">𝑎</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.16.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.16">𝑚</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.17.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.17">𝑝</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.18.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.18">𝑙</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.19.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2.19">𝑒</ci></apply><ci id="S4.I1.i2.p1.1.m1.1.1.2.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.3">𝑙</ci></apply><ci id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">𝑎</ci><ci id="S4.I1.i2.p1.1.m1.1.1.4.cmml" xref="S4.I1.i2.p1.1.m1.1.1.4">𝑡</ci><ci id="S4.I1.i2.p1.1.m1.1.1.5.cmml" xref="S4.I1.i2.p1.1.m1.1.1.5">𝑒</ci><ci id="S4.I1.i2.p1.1.m1.1.1.6.cmml" xref="S4.I1.i2.p1.1.m1.1.1.6">𝑛</ci><ci id="S4.I1.i2.p1.1.m1.1.1.7.cmml" xref="S4.I1.i2.p1.1.m1.1.1.7">𝑐</ci><ci id="S4.I1.i2.p1.1.m1.1.1.8.cmml" xref="S4.I1.i2.p1.1.m1.1.1.8">𝑦</ci><ci id="S4.I1.i2.p1.1.m1.1.1.9.cmml" xref="S4.I1.i2.p1.1.m1.1.1.9">_</ci><ci id="S4.I1.i2.p1.1.m1.1.1.10.cmml" xref="S4.I1.i2.p1.1.m1.1.1.10">𝑝</ci><ci id="S4.I1.i2.p1.1.m1.1.1.11.cmml" xref="S4.I1.i2.p1.1.m1.1.1.11">𝑒</ci><ci id="S4.I1.i2.p1.1.m1.1.1.12.cmml" xref="S4.I1.i2.p1.1.m1.1.1.12">𝑟</ci><ci id="S4.I1.i2.p1.1.m1.1.1.13.cmml" xref="S4.I1.i2.p1.1.m1.1.1.13">_</ci><ci id="S4.I1.i2.p1.1.m1.1.1.14.cmml" xref="S4.I1.i2.p1.1.m1.1.1.14">𝑠</ci><ci id="S4.I1.i2.p1.1.m1.1.1.15.cmml" xref="S4.I1.i2.p1.1.m1.1.1.15">𝑎</ci><ci id="S4.I1.i2.p1.1.m1.1.1.16.cmml" xref="S4.I1.i2.p1.1.m1.1.1.16">𝑚</ci><ci id="S4.I1.i2.p1.1.m1.1.1.17.cmml" xref="S4.I1.i2.p1.1.m1.1.1.17">𝑝</ci><ci id="S4.I1.i2.p1.1.m1.1.1.18.cmml" xref="S4.I1.i2.p1.1.m1.1.1.18">𝑙</ci><ci id="S4.I1.i2.p1.1.m1.1.1.19.cmml" xref="S4.I1.i2.p1.1.m1.1.1.19">𝑒</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">\#\_processed\_sample\times latency\_per\_sample</annotation></semantics></math>),
and the communicator handles network traffics and records the communication latency (<math id="S4.I1.i2.p1.2.m2.1" class="ltx_Math" alttext="\frac{traffic\_size}{client\_bandwidth}" display="inline"><semantics id="S4.I1.i2.p1.2.m2.1a"><mfrac id="S4.I1.i2.p1.2.m2.1.1" xref="S4.I1.i2.p1.2.m2.1.1.cmml"><mrow id="S4.I1.i2.p1.2.m2.1.1.2" xref="S4.I1.i2.p1.2.m2.1.1.2.cmml"><mi id="S4.I1.i2.p1.2.m2.1.1.2.2" xref="S4.I1.i2.p1.2.m2.1.1.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.3" xref="S4.I1.i2.p1.2.m2.1.1.2.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1a" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.4" xref="S4.I1.i2.p1.2.m2.1.1.2.4.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1b" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.5" xref="S4.I1.i2.p1.2.m2.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1c" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.6" xref="S4.I1.i2.p1.2.m2.1.1.2.6.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1d" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.7" xref="S4.I1.i2.p1.2.m2.1.1.2.7.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1e" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.8" xref="S4.I1.i2.p1.2.m2.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1f" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.2.m2.1.1.2.9" xref="S4.I1.i2.p1.2.m2.1.1.2.9.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1g" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.10" xref="S4.I1.i2.p1.2.m2.1.1.2.10.cmml">s</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1h" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.11" xref="S4.I1.i2.p1.2.m2.1.1.2.11.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1i" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.12" xref="S4.I1.i2.p1.2.m2.1.1.2.12.cmml">z</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.2.1j" xref="S4.I1.i2.p1.2.m2.1.1.2.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.2.13" xref="S4.I1.i2.p1.2.m2.1.1.2.13.cmml">e</mi></mrow><mrow id="S4.I1.i2.p1.2.m2.1.1.3" xref="S4.I1.i2.p1.2.m2.1.1.3.cmml"><mi id="S4.I1.i2.p1.2.m2.1.1.3.2" xref="S4.I1.i2.p1.2.m2.1.1.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.3" xref="S4.I1.i2.p1.2.m2.1.1.3.3.cmml">l</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1a" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.4" xref="S4.I1.i2.p1.2.m2.1.1.3.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1b" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.5" xref="S4.I1.i2.p1.2.m2.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1c" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.6" xref="S4.I1.i2.p1.2.m2.1.1.3.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1d" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.7" xref="S4.I1.i2.p1.2.m2.1.1.3.7.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1e" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi mathvariant="normal" id="S4.I1.i2.p1.2.m2.1.1.3.8" xref="S4.I1.i2.p1.2.m2.1.1.3.8.cmml">_</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1f" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.9" xref="S4.I1.i2.p1.2.m2.1.1.3.9.cmml">b</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1g" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.10" xref="S4.I1.i2.p1.2.m2.1.1.3.10.cmml">a</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1h" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.11" xref="S4.I1.i2.p1.2.m2.1.1.3.11.cmml">n</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1i" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.12" xref="S4.I1.i2.p1.2.m2.1.1.3.12.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1j" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.13" xref="S4.I1.i2.p1.2.m2.1.1.3.13.cmml">w</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1k" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.14" xref="S4.I1.i2.p1.2.m2.1.1.3.14.cmml">i</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1l" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.15" xref="S4.I1.i2.p1.2.m2.1.1.3.15.cmml">d</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1m" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.16" xref="S4.I1.i2.p1.2.m2.1.1.3.16.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.2.m2.1.1.3.1n" xref="S4.I1.i2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S4.I1.i2.p1.2.m2.1.1.3.17" xref="S4.I1.i2.p1.2.m2.1.1.3.17.cmml">h</mi></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.1b"><apply id="S4.I1.i2.p1.2.m2.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1"><divide id="S4.I1.i2.p1.2.m2.1.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1"></divide><apply id="S4.I1.i2.p1.2.m2.1.1.2.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2"><times id="S4.I1.i2.p1.2.m2.1.1.2.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.1"></times><ci id="S4.I1.i2.p1.2.m2.1.1.2.2.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.2">𝑡</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.3.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.3">𝑟</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.4.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.4">𝑎</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.5.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.5">𝑓</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.6.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.6">𝑓</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.7.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.7">𝑖</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.8.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.8">𝑐</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.9.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.9">_</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.10.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.10">𝑠</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.11.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.11">𝑖</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.12.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.12">𝑧</ci><ci id="S4.I1.i2.p1.2.m2.1.1.2.13.cmml" xref="S4.I1.i2.p1.2.m2.1.1.2.13">𝑒</ci></apply><apply id="S4.I1.i2.p1.2.m2.1.1.3.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3"><times id="S4.I1.i2.p1.2.m2.1.1.3.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.1"></times><ci id="S4.I1.i2.p1.2.m2.1.1.3.2.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.2">𝑐</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.3.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.3">𝑙</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.4.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.4">𝑖</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.5.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.5">𝑒</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.6.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.6">𝑛</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.7.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.7">𝑡</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.8.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.8">_</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.9.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.9">𝑏</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.10.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.10">𝑎</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.11.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.11">𝑛</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.12.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.12">𝑑</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.13.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.13">𝑤</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.14.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.14">𝑖</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.15.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.15">𝑑</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.16.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.16">𝑡</ci><ci id="S4.I1.i2.p1.2.m2.1.1.3.17.cmml" xref="S4.I1.i2.p1.2.m2.1.1.3.17">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.1c">\frac{traffic\_size}{client\_bandwidth}</annotation></semantics></math>).
The device monitor will terminate the simulation of a client if the current FL runtime exceeds his available slot (e.g., client drops out), indicated by the availability trace.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;padding-top:2.0pt;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><em id="S4.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">Resource Manager</em>:
It orchestrates the available physical resource for evaluation to maximize the resource utilization.
For example, when the number of participants/round exceeds the resource capacity (e.g., simulating thousands of clients on a few GPUs), the resource manager queues the overcommitted tasks of clients and schedules new client simulation from this queue once resource becomes available. Note that this queuing will not affect the simulated FL runtime, as this runtime is controlled by a global virtual clock, and the event monitor will manage events in the correct runtime order.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="S4.SS2.SSS0.Px1.p2.1" class="ltx_p">Note that capturing runtime performance (e.g., wall clock time) is rather slow and expensive in practical FL – each mobile device takes several minutes to train a round – but our simulator enables <em id="S4.SS2.SSS0.Px1.p2.1.1" class="ltx_emph ltx_font_italic">fast-forward</em> simulation,
as training on CPUs/GPUs takes only a few seconds per round, while providing simulated runtime using realistic traces.</p>
</div>
</section>
<section id="S4.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">FedScale Runtime enables automated FL simulation</h4>

<div id="S4.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S4.SS2.SSS0.Px2.p1.3" class="ltx_p">FedScale Runtime incorporates realistic FL traces, using the aforementioned trace by default or the developer-specified profile from the mobile backend, to automatically emulate the practical FL workflow:
 <svg id="S4.SS2.SSS0.Px2.p1.1.pic1" class="ltx_picture" height="11.8" overflow="visible" version="1.1" width="11.8"><g transform="translate(0,11.8) matrix(1 0 0 -1 0 0) translate(5.9,0) translate(0,5.9)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 5.62 0 C 5.62 3.11 3.11 5.62 0 5.62 C -3.11 5.62 -5.62 3.11 -5.62 0 C -5.62 -3.11 -3.11 -5.62 0 -5.62 C 3.11 -5.62 5.62 -3.11 5.62 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.SS2.SSS0.Px2.p1.1.pic1.1.1.1.1.1" class="ltx_text">1</span></foreignObject></g></g></svg> <em id="S4.SS2.SSS0.Px2.p1.3.1" class="ltx_emph ltx_font_italic">Task submission</em>:
FL developers specify their configurations (e.g., model and dataset),
which can be federated training or testing, and the resource manager
will initiate the aggregator and client simulator on available resource (GPU, CPU, other accelerators, or even smartphones);
 <svg id="S4.SS2.SSS0.Px2.p1.2.pic2" class="ltx_picture" height="11.8" overflow="visible" version="1.1" width="11.8"><g transform="translate(0,11.8) matrix(1 0 0 -1 0 0) translate(5.9,0) translate(0,5.9)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 5.62 0 C 5.62 3.11 3.11 5.62 0 5.62 C -3.11 5.62 -5.62 3.11 -5.62 0 C -5.62 -3.11 -3.11 -5.62 0 -5.62 C 3.11 -5.62 5.62 -3.11 5.62 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.SS2.SSS0.Px2.p1.2.pic2.1.1.1.1.1" class="ltx_text">2</span></foreignObject></g></g></svg> <em id="S4.SS2.SSS0.Px2.p1.3.2" class="ltx_emph ltx_font_italic">FL simulation</em>:
Following the standardized FL lifecycle (Figure <a href="#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>),
in each training round, the aggregator inquires the client manager to select participants,
whereby the resource manager distributes the client configuration to the available client simulators.
After the completion of each client, the client simulator pushes the model update to the aggregator,
which then performs the model aggregation.
 <svg id="S4.SS2.SSS0.Px2.p1.3.pic3" class="ltx_picture" height="11.8" overflow="visible" version="1.1" width="11.8"><g transform="translate(0,11.8) matrix(1 0 0 -1 0 0) translate(5.9,0) translate(0,5.9)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 5.62 0 C 5.62 3.11 3.11 5.62 0 5.62 C -3.11 5.62 -5.62 3.11 -5.62 0 C -5.62 -3.11 -3.11 -5.62 0 -5.62 C 3.11 -5.62 5.62 -3.11 5.62 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.SS2.SSS0.Px2.p1.3.pic3.1.1.1.1.1" class="ltx_text">3</span></foreignObject></g></g></svg> <em id="S4.SS2.SSS0.Px2.p1.3.3" class="ltx_emph ltx_font_italic">Metrics output</em>:
During training, the developer can query the practical evaluation metrics on the fly.
Figure <a href="#S4.F8" title="Figure 8 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> lists some popular metrics in FedScale.</p>
</div>
</section>
<section id="S4.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">FedScale Runtime is easily deployable and extensible with plugins</h4>

<div id="S4.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S4.SS2.SSS0.Px3.p1.1" class="ltx_p">FedScale Runtime provides flexible APIs, which can accommodate with different execution backends (e.g., PyTorch) by design,
for the developer to quickly benchmark new plugins.
Table <a href="#S4.F9" title="Figure 9 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> illustrates some example APIs that can facilitate diverse FL efforts, and
Figure <a href="#S4.F9" title="Figure 9 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> dictates an example showing how these APIs help to benchmark a new design of local client training with a few lines of code by inheriting the base Client module.
Moreover, FedScale Runtime can embrace new realistic (statistical client or system behavior) datasets with the built-in APIs.
For example, the developer can import his own dataset of the client availability with the API (<span id="S4.SS2.SSS0.Px3.p1.1.1" class="ltx_text ltx_font_typewriter">load_client_availability</span>), and FedScale Runtime will automatically enforce this trace during evaluations.
We provide more examples and a comparison with other frameworks, in Appendix <a href="#A4" title="Appendix D Examples of New Plugins ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> to show the ease of evaluating various today’s FL work in FedScale– a few lines are all we need <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>; Li et al., <a href="#bib.bib36" title="" class="ltx_ref">2022</a>)</cite>!</p>
</div>
<figure id="S4.F10" class="ltx_figure"><img src="/html/2105.11367/assets/x13.png" id="S4.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="392" height="222" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 10: </span>FedScale Runtime can run thousands of clients/round on 10 GPUs where others fail. More results are in Appendix <a href="#A3" title="Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>. </figcaption>
</figure>
<figure id="S4.T4" class="ltx_table">
<table id="S4.T4.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.1.1.1" class="ltx_tr">
<th id="S4.T4.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Task</span></th>
<th id="S4.T4.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.2.1" class="ltx_text" style="font-size:90%;">Dataset</span></th>
<th id="S4.T4.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.3.1" class="ltx_text" style="font-size:90%;">Model</span></th>
<th id="S4.T4.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.4.1" class="ltx_text" style="font-size:90%;">IID</span></th>
<th id="S4.T4.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.5.1" class="ltx_text" style="font-size:90%;">FedAvg</span></th>
<th id="S4.T4.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.6.1" class="ltx_text" style="font-size:90%;">FedProx</span></th>
<th id="S4.T4.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.1.1.7.1" class="ltx_text" style="font-size:90%;">FedYoGi</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.1.2.1" class="ltx_tr">
<td id="S4.T4.1.2.1.1" class="ltx_td ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"></td>
<td id="S4.T4.1.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.2.1" class="ltx_text" style="font-size:90%;">FEMNIST</span></td>
<td id="S4.T4.1.2.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.3.1" class="ltx_text" style="font-size:90%;">ResNet-18</span></td>
<td id="S4.T4.1.2.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.4.1" class="ltx_text" style="font-size:90%;">86.40%</span></td>
<td id="S4.T4.1.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">78.50%</span></td>
<td id="S4.T4.1.2.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.6.1" class="ltx_text" style="font-size:90%;">78.40%</span></td>
<td id="S4.T4.1.2.1.7" class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.2.1.7.1" class="ltx_text" style="font-size:90%;">76.30%</span></td>
</tr>
<tr id="S4.T4.1.3.2" class="ltx_tr">
<td id="S4.T4.1.3.2.1" class="ltx_td ltx_border_r" style="padding:0.9pt 8.0pt;"></td>
<td id="S4.T4.1.3.2.2" class="ltx_td ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"></td>
<td id="S4.T4.1.3.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.3.2.3.1" class="ltx_text" style="font-size:90%;">ShuffleNet-V2</span></td>
<td id="S4.T4.1.3.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.3.2.4.1" class="ltx_text" style="font-size:90%;">81.37%</span></td>
<td id="S4.T4.1.3.2.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.3.2.5.1" class="ltx_text" style="font-size:90%;">70.27%</span></td>
<td id="S4.T4.1.3.2.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.3.2.6.1" class="ltx_text" style="font-size:90%;">69.54%</span></td>
<td id="S4.T4.1.3.2.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.3.2.7.1" class="ltx_text ltx_font_bold" style="font-size:90%;">74.04%</span></td>
</tr>
<tr id="S4.T4.1.4.3" class="ltx_tr">
<td id="S4.T4.1.4.3.1" class="ltx_td ltx_align_center ltx_border_r" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.1.1" class="ltx_text" style="font-size:90%;">Image Classification</span></td>
<td id="S4.T4.1.4.3.2" class="ltx_td ltx_align_center ltx_border_r" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.2.1" class="ltx_text" style="font-size:90%;">OpenImage</span></td>
<td id="S4.T4.1.4.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.3.1" class="ltx_text" style="font-size:90%;">MobileNet-V2</span></td>
<td id="S4.T4.1.4.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.4.1" class="ltx_text" style="font-size:90%;">80.83%</span></td>
<td id="S4.T4.1.4.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.5.1" class="ltx_text" style="font-size:90%;">70.09%</span></td>
<td id="S4.T4.1.4.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.6.1" class="ltx_text" style="font-size:90%;">70.34%</span></td>
<td id="S4.T4.1.4.3.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.4.3.7.1" class="ltx_text ltx_font_bold" style="font-size:90%;">75.25%</span></td>
</tr>
<tr id="S4.T4.1.5.4" class="ltx_tr">
<td id="S4.T4.1.5.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.1.1" class="ltx_text" style="font-size:90%;">Text Classification</span></td>
<td id="S4.T4.1.5.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.2.1" class="ltx_text" style="font-size:90%;">Amazon Review</span></td>
<td id="S4.T4.1.5.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.3.1" class="ltx_text" style="font-size:90%;">Logistic Regression</span></td>
<td id="S4.T4.1.5.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.4.1" class="ltx_text" style="font-size:90%;">66.10%</span></td>
<td id="S4.T4.1.5.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">65.80%</span></td>
<td id="S4.T4.1.5.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.6.1" class="ltx_text" style="font-size:90%;">65.10%</span></td>
<td id="S4.T4.1.5.4.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.5.4.7.1" class="ltx_text" style="font-size:90%;">65.30%</span></td>
</tr>
<tr id="S4.T4.1.6.5" class="ltx_tr">
<td id="S4.T4.1.6.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.1.1" class="ltx_text" style="font-size:90%;">Language Modeling</span></td>
<td id="S4.T4.1.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.2.1" class="ltx_text" style="font-size:90%;">Reddit</span></td>
<td id="S4.T4.1.6.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.3.1" class="ltx_text" style="font-size:90%;">Albert</span></td>
<td id="S4.T4.1.6.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.4.1" class="ltx_text" style="font-size:90%;">73.5 perplexity (ppl)</span></td>
<td id="S4.T4.1.6.5.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.5.1" class="ltx_text" style="font-size:90%;">77.3 ppl</span></td>
<td id="S4.T4.1.6.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.6.1" class="ltx_text ltx_font_bold" style="font-size:90%;">76.6 ppl</span></td>
<td id="S4.T4.1.6.5.7" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.6.5.7.1" class="ltx_text" style="font-size:90%;">81.6 ppl</span></td>
</tr>
<tr id="S4.T4.1.7.6" class="ltx_tr">
<td id="S4.T4.1.7.6.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.1.1" class="ltx_text" style="font-size:90%;">Speech Recognition</span></td>
<td id="S4.T4.1.7.6.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.2.1" class="ltx_text" style="font-size:90%;">Google Speech</span></td>
<td id="S4.T4.1.7.6.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.3.1" class="ltx_text" style="font-size:90%;">ResNet-34</span></td>
<td id="S4.T4.1.7.6.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.4.1" class="ltx_text" style="font-size:90%;">72.58%</span></td>
<td id="S4.T4.1.7.6.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.5.1" class="ltx_text ltx_font_bold" style="font-size:90%;">63.37%</span></td>
<td id="S4.T4.1.7.6.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.6.1" class="ltx_text" style="font-size:90%;">63.25%</span></td>
<td id="S4.T4.1.7.6.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:0.9pt 8.0pt;"><span id="S4.T4.1.7.6.7.1" class="ltx_text" style="font-size:90%;">62.67%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 4: </span>Benchmarking of different FL algorithms across realistic FL datasets. We report the mean test accuracy over 5 runs. </figcaption>
</figure>
<figure id="S4.F11" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F11.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x14.png" id="S4.F11.sf1.g1" class="ltx_graphics ltx_img_landscape" width="138" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F11.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F11.sf1.3.2" class="ltx_text" style="font-size:80%;">Convergence on Google speech. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F11.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x15.png" id="S4.F11.sf2.g1" class="ltx_graphics ltx_img_landscape" width="138" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F11.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F11.sf2.3.2" class="ltx_text" style="font-size:80%;">Convergence on OpenImage. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S4.F11.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x16.png" id="S4.F11.sf3.g1" class="ltx_graphics ltx_img_landscape" width="138" height="108" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F11.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S4.F11.sf3.3.2" class="ltx_text" style="font-size:80%;">Final model performance. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 11: </span>FedScale can benchmark the statistical FL performance. (c) shows existing benchmarks can under-report the FedYoGi performance as they cannot support a large number of participants.</figcaption>
</figure>
</section>
<section id="S4.SS2.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">FedScale Runtime is scalable and efficient</h4>

<div id="S4.SS2.SSS0.Px4.p1" class="ltx_para">
<p id="S4.SS2.SSS0.Px4.p1.1" class="ltx_p">In the simulation mode, FedScale Runtime can perform large-scale simulations (thousands of clients per round) in both standalone (single CPU/GPU) and distributed (multiple machines) settings.
This is because:

<span id="S4.I2" class="ltx_inline-enumerate">
<span id="S4.I2.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <span id="S4.I2.i1.1" class="ltx_text">FedScale Runtime uses GPU sharing techniques <cite class="ltx_cite ltx_citemacro_citep">(Yu &amp; Chowdhury, <a href="#bib.bib58" title="" class="ltx_ref">2020</a>)</cite> to divide GPU among tasks so that multiple client simulators can co-locate on the same GPU;
</span></span>
<span id="S4.I2.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <span id="S4.I2.i2.1" class="ltx_text">our resource manager monitors the fine-grained resource utilization of machines, queues the overcommitted execution requests, adaptively dispatches requests of the client across machines to achieve load balance, and then orchestrates the simulation based on the client virtual clock.
Instead, state-of-the-art platforms can hardly support the practical FL scale, due to their limited support for distributed evaluations (e.g., FedJax <cite class="ltx_cite ltx_citemacro_citep">(Ro et al., <a href="#bib.bib44" title="" class="ltx_ref">2021</a>)</cite>), and/or the reliance on the traditional ML architecture that trains on a few workers with long-running computation, whereas FedScale Runtime minimizes the overhead (e.g., frequent data serialization) in the fleet training of FL clients.
As shown in Figure <a href="#S4.F10" title="Figure 10 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a>
<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We train ShuffleNet on OpenImage classification task on 10 GPU nodes. Detailed experimental setups in Appendix <a href="#A1" title="Appendix A Experiment Setup ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>.</span></span></span>, other than being able to evaluate the practical FL runtime, FedScale Runtime not only runs faster than FedML <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a href="#bib.bib25" title="" class="ltx_ref">2020</a>)</cite> and Flower <cite class="ltx_cite ltx_citemacro_citep">(Beutel et al., <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>, but it can support large-scale evaluations efficiently.
</span></span>
</span></p>
</div>
</section>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section,
we show how FedScale can facilitate better benchmarking of FL efforts over its counterparts.</p>
</div>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Experimental setup</h4>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px1.p1.3" class="ltx_p">We use 10 NVIDIA Tesla P100 GPUs in our evaluations.
Following the real FL deployments <cite class="ltx_cite ltx_citemacro_citep">(Bonawitz et al., <a href="#bib.bib13" title="" class="ltx_ref">2019</a>; Yang et al., <a href="#bib.bib57" title="" class="ltx_ref">2018</a>)</cite>, the aggregator collects updates from the first <math id="S5.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S5.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.1.m1.1c">N</annotation></semantics></math> completed participants out of <math id="S5.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="1.3N" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.2.m2.1a"><mrow id="S5.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mn id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml">1.3</mn><mo lspace="0em" rspace="0em" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1"><times id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1"></times><cn type="float" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2">1.3</cn><ci id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.2.m2.1c">1.3N</annotation></semantics></math> participants to mitigate system stragglers in each round, and <math id="S5.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="N=100" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.3.m3.1a"><mrow id="S5.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><mi id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml">N</mi><mo id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml">=</mo><mn id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml">100</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.3.m3.1b"><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1"><eq id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1"></eq><ci id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2">𝑁</ci><cn type="integer" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3">100</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.3.m3.1c">N=100</annotation></semantics></math> by default.
We experiment with representative FedScale datasets in different scales and tasks (detailed experiment setup in Appendix <a href="#A1" title="Appendix A Experiment Setup ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>).</p>
</div>
</section>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>How Does FedScale Help FL Benchmarking?</h3>

<figure id="S5.F12" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F12.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x17.png" id="S5.F12.sf1.g1" class="ltx_graphics ltx_img_landscape" width="138" height="111" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F12.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F12.sf1.3.2" class="ltx_text" style="font-size:80%;">FedScale reports realistic FL clock. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F12.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x18.png" id="S5.F12.sf2.g1" class="ltx_graphics ltx_img_square" width="129" height="114" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F12.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F12.sf2.3.2" class="ltx_text" style="font-size:80%;">FedScale enables fast-forward eval. </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F12.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2105.11367/assets/x19.png" id="S5.F12.sf3.g1" class="ltx_graphics ltx_img_landscape" width="152" height="100" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F12.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F12.sf3.3.2" class="ltx_text" style="font-size:80%;">FedScale reports FL communication cost. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 12: </span>FedScale can benchmark realistic FL runtime. (a) and (b) report FedYoGi results on OpenImage with different number of local steps (K); (b) reports the FL runtime to reach convergence.</figcaption>
</figure>
<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">Existing benchmarks are insufficient to evaluate the various metrics needed in today’s FL.
We note that the performance of existing benchmarks and FedScale are quite close in the same settings if we turn off the optional system traces in FedScale. Because the underlying training and FL protocols in evaluations are the same. However, the limited scalability can mislead the practical FL performance.
Next, we show the effectiveness of FedScale in benchmarking different FL aspects over its counterparts.
</p>
</div>
<section id="S5.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Benchmarking FL statistical efficiency.</h4>

<div id="S5.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS1.SSS0.Px1.p1.1" class="ltx_p">FedScale provides various realistic client datasets to benchmark the FL statistical efficiency.
Here, we experiment with state-of-the-art optimizations (FedAvg, FedProx and FedYoGi) – each aims to mitigate the data heterogeneity – and the traditional IID data setting.
Figure <a href="#S4.F11" title="Figure 11 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a> and Table <a href="#S4.T4" title="Table 4 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> report that:
(1) the round-to-accuracy performance and final model accuracy of the non-IID setting is worse than that of the IID setting, which is consistent with existing findings <cite class="ltx_cite ltx_citemacro_citep">(Kairouz et al., <a href="#bib.bib29" title="" class="ltx_ref">2021b</a>)</cite>;
(2) different tasks can have different preferences on the optimizations.
For example, FedYoGi performs the best on OpenImage, but it is inferior to FedAvg on Google Speech.
With much more FL datasets, FedScale enables extensive studies of the sweet spot of different optimizations; and
(3) existing benchmarks can under-report the FL performance due to their inability to reproduce the FL setting.
Figure <a href="#S4.F11.sf3" title="In Figure 11 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11(c)</span></a> reports the final model accuracy using FedML and FedScale,
where we attempt to reproduce the scale of practical FL with 100 participants per round in both frameworks,
but FedML can only support 30 participants because of its suboptimal scalability, which under-reports the FL performance that the algorithm can indeed achieve.</p>
</div>
</section>
<section id="S5.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Benchmarking FL system efficiency.</h4>

<div id="S5.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S5.SS1.SSS0.Px2.p1.1" class="ltx_p">Existing system optimizations for FL focus on the practical runtime (e.g., wall-clock time in real FL training)
and the FL execution cost. Unfortunately, existing benchmarks can hardly evaluate the FL runtime due to the lack of realistic system traces, but we now show how FedScale can help such benchmarking:

<span id="S5.I1" class="ltx_inline-enumerate">
<span id="S5.I1.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <span id="S5.I1.i1.2" class="ltx_text">FedScale Runtime enables fast-forward evaluations of the practical FL wall-clock time with fewer evaluation hours. Taking different number of local steps <math id="S5.I1.i1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.I1.i1.1.m1.1a"><mi id="S5.I1.i1.1.m1.1.1" xref="S5.I1.i1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i1.1.m1.1b"><ci id="S5.I1.i1.1.m1.1.1.cmml" xref="S5.I1.i1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.1.m1.1c">K</annotation></semantics></math> in local SGD as an example <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>, Figure <a href="#S5.F12.sf1" title="In Figure 12 ‣ 5.1 How Does FedScale Help FL Benchmarking? ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12(a)</span></a> and Table <a href="#S5.F12.sf2" title="In Figure 12 ‣ 5.1 How Does FedScale Help FL Benchmarking? ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12(b)</span></a> illustrate that FedScale can evaluate this impact of <math id="S5.I1.i1.2.m2.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S5.I1.i1.2.m2.1a"><mi id="S5.I1.i1.2.m2.1.1" xref="S5.I1.i1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.I1.i1.2.m2.1b"><ci id="S5.I1.i1.2.m2.1.1.cmml" xref="S5.I1.i1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.I1.i1.2.m2.1c">K</annotation></semantics></math> on practical FL runtime in a few hours.
This allows the developer to evaluate large-scale system optimizations efficiently; and
</span></span>
<span id="S5.I1.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <span id="S5.I1.i2.1" class="ltx_text">FedScale Runtime can dictate the FL execution cost by using realistic system traces.
For example, Figure <a href="#S5.F12.sf3" title="In Figure 12 ‣ 5.1 How Does FedScale Help FL Benchmarking? ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12(c)</span></a> reports the practical FL communication cost in achieving the performance of Figure <a href="#S4.F11" title="Figure 11 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, while Figure <a href="#S5.F16" title="Figure 16 ‣ Heterogeneity-aware co-optimizations of communication and computation ‣ 5.2 Opportunities for Future FL Optimizations ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a> reports the system duration of individual clients.
These system metrics can facilitate developers to navigate the accuracy-cost trade-off.
</span></span>
</span></p>
</div>
</section>
<section id="S5.SS1.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Benchmarking FL privacy and security.</h4>

<div id="S5.SS1.SSS0.Px3.p1" class="ltx_para">
<p id="S5.SS1.SSS0.Px3.p1.7" class="ltx_p">FedScale can evaluate the statistical and system efficiency for privacy and security optimizations more realistically.
Here, we give an example of benchmarking DP-SGD <cite class="ltx_cite ltx_citemacro_citep">(Geyer et al., <a href="#bib.bib22" title="" class="ltx_ref">2017</a>; Kairouz et al., <a href="#bib.bib28" title="" class="ltx_ref">2021a</a>)</cite>,
which applies differential privacy to improve the client privacy.
We experiment with different privacy targets <math id="S5.SS1.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.1.m1.1a"><mi id="S5.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S5.SS1.SSS0.Px3.p1.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.1.m1.1b"><ci id="S5.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.1.m1.1c">\sigma</annotation></semantics></math> (<math id="S5.SS1.SSS0.Px3.p1.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.2.m2.1a"><mi id="S5.SS1.SSS0.Px3.p1.2.m2.1.1" xref="S5.SS1.SSS0.Px3.p1.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.2.m2.1b"><ci id="S5.SS1.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.2.m2.1c">\sigma</annotation></semantics></math>=0 indicates no privacy enhancement) and different number of participants per round <math id="S5.SS1.SSS0.Px3.p1.3.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.3.m3.1a"><mi id="S5.SS1.SSS0.Px3.p1.3.m3.1.1" xref="S5.SS1.SSS0.Px3.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.3.m3.1b"><ci id="S5.SS1.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.3.m3.1c">N</annotation></semantics></math>.
Figure <a href="#S5.F14" title="Figure 14 ‣ 5.2 Opportunities for Future FL Optimizations ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a> shows that the scale of participants (e.g., <math id="S5.SS1.SSS0.Px3.p1.4.m4.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.4.m4.1a"><mi id="S5.SS1.SSS0.Px3.p1.4.m4.1.1" xref="S5.SS1.SSS0.Px3.p1.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.4.m4.1b"><ci id="S5.SS1.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.4.m4.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.4.m4.1c">N</annotation></semantics></math>=30) that today’s benchmarks can support can mislead the privacy evaluations too: for <math id="S5.SS1.SSS0.Px3.p1.5.m5.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.5.m5.1a"><mi id="S5.SS1.SSS0.Px3.p1.5.m5.1.1" xref="S5.SS1.SSS0.Px3.p1.5.m5.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.5.m5.1b"><ci id="S5.SS1.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.5.m5.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.5.m5.1c">\sigma</annotation></semantics></math>=0.01, while we notice great performance degradation (12.8%) in the final model accuracy when <math id="S5.SS1.SSS0.Px3.p1.6.m6.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.6.m6.1a"><mi id="S5.SS1.SSS0.Px3.p1.6.m6.1.1" xref="S5.SS1.SSS0.Px3.p1.6.m6.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.6.m6.1b"><ci id="S5.SS1.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.6.m6.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.6.m6.1c">N</annotation></semantics></math>=30, this enhancement is viable in practical FL (<math id="S5.SS1.SSS0.Px3.p1.7.m7.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.SSS0.Px3.p1.7.m7.1a"><mi id="S5.SS1.SSS0.Px3.p1.7.m7.1.1" xref="S5.SS1.SSS0.Px3.p1.7.m7.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px3.p1.7.m7.1b"><ci id="S5.SS1.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S5.SS1.SSS0.Px3.p1.7.m7.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px3.p1.7.m7.1c">N</annotation></semantics></math>=100) with decent accuracy drop (4.6%). Moreover, FedScale is able to benchmark more practical FL metrics, such as wall-clock time, communication cost added in privacy optimizations, and the number of rounds needed to leak the client privacy under realistic individual client data and Non-IID distributions.</p>
</div>
<div id="S5.SS1.SSS0.Px3.p2" class="ltx_para">
<p id="S5.SS1.SSS0.Px3.p2.1" class="ltx_p">As for benchmarking FL security, we follow the example setting of recent backdoor attacks <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a href="#bib.bib51" title="" class="ltx_ref">2019</a>; Wang et al., <a href="#bib.bib52" title="" class="ltx_ref">2020</a>)</cite> on the OpenImage, where corrupted clients flip their ground-truth labels to poison the training.
We benchmarked two settings: one without security enhancement, while the other clips the model updates as <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a href="#bib.bib51" title="" class="ltx_ref">2019</a>)</cite>.
As shown in Figure <a href="#S5.F14" title="Figure 14 ‣ 5.2 Opportunities for Future FL Optimizations ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">14</span></a>, while state-of-the-art optimizations report this can mitigate the attacks without
hurting the overall performance on their synthesized datasets, large accuracy drops can occur in more practical FL settings.</p>
</div>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Opportunities for Future FL Optimizations</h3>

<figure id="S5.F14" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F14.1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:203.8pt;"><img src="/html/2105.11367/assets/x20.png" id="S5.F14.1.g1" class="ltx_graphics ltx_img_landscape" width="91" height="66" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 13: </span>FedScale can benchmark privacy efforts in more realistic FL settings.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F14.2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:203.8pt;"><img src="/html/2105.11367/assets/x21.png" id="S5.F14.2.g1" class="ltx_graphics ltx_img_landscape" width="91" height="66" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 14: </span>FedScale can benchmark security optimizations with realistic FL data.</figcaption>
</figure>
</div>
</div>
</figure>
<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">Next, we show FedScale can shine light on the need for yet unexplored optimizations owing to its realistic FL settings.</p>
</div>
<section id="S5.SS2.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Heterogeneity-aware co-optimizations of communication and computation</h4>

<div id="S5.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS2.SSS0.Px1.p1.1" class="ltx_p">Existing optimizations for the system efficiency often apply the same strategy on all clients (e.g., using the same number
of local steps <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite> or compression threshold <cite class="ltx_cite ltx_citemacro_citep">(Rothchild et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>)</cite>),
while ignoring the heterogeneous client system speed.
When we outline the timeline of 5 randomly picked
participants in training of the ShuffleNet (Figure <a href="#S5.F16" title="Figure 16 ‣ Heterogeneity-aware co-optimizations of communication and computation ‣ 5.2 Opportunities for Future FL Optimizations ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>),
we find:
(1) system stragglers can greatly slow down the round aggregation in practical FL; and
(2) simply optimizing the communication or computation efficiency may not lead to faster rounds,
as the last participant can be bottlenecked by the other resource.
Here, optimizing the communication can greatly benefit <em id="S5.SS2.SSS0.Px1.p1.1.1" class="ltx_emph ltx_font_italic">Client 4</em>, but it achieves marginal improvement on the round duration as <em id="S5.SS2.SSS0.Px1.p1.1.2" class="ltx_emph ltx_font_italic">Client 5</em> is computation-bound.
This implies an urgent need of heterogeneity-aware co-optimizations of communication and computation efficiency.</p>
</div>
<figure id="S5.F16" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F16.1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:229.8pt;"><img src="/html/2105.11367/assets/x22.png" id="S5.F16.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="325" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 15: </span>System stragglers slow down practical FL greatly.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F16.2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:186.5pt;"><img src="/html/2105.11367/assets/x23.png" id="S5.F16.2.g1" class="ltx_graphics ltx_img_landscape" width="462" height="336" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 16: </span>Biased accuracy distributions of the trained model across clients (Shufflenet on OpenImage).</figcaption>
</figure>
</div>
</div>
</figure>
</section>
<section id="S5.SS2.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Co-optimizations of statistical and system efficiency</h4>

<div id="S5.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="S5.SS2.SSS0.Px2.p1.1" class="ltx_p">Most of today’s FL efforts focus on either
optimizing the statistical or the system efficiency,
whereas we observe a great opportunity to jointly optimize both efficiencies:

<span id="S5.I2" class="ltx_inline-enumerate">
<span id="S5.I2.i1" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(1)</span> <span id="S5.I2.i1.1" class="ltx_text">As the system behavior determines the availability of client data,
predictable system performance can benefit statistical efficiency.
For example, in alleviating the biased model accuracy (Figure <a href="#S5.F16" title="Figure 16 ‣ Heterogeneity-aware co-optimizations of communication and computation ‣ 5.2 Opportunities for Future FL Optimizations ‣ 5 Experiments ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a>),
we may prioritize the use of upcoming offline clients to curb the upcoming distribution drift of client data;
</span></span>
<span id="S5.I2.i2" class="ltx_inline-item"><span class="ltx_tag ltx_tag_inline-item">(2)</span> <span id="S5.I2.i2.1" class="ltx_text">Statistical optimizations should be aware of the heterogeneous client system speed.
For example, instead of applying one-fit-all strategies (e.g., local steps or gradient compression) for all clients,
faster workers can trade more system latency for more statistical benefits (e.g., transferring more traffics with less intensive compression).
</span></span>
</span></p>
</div>
</section>
<section id="S5.SS2.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">FL design-decisions considering mobile environment</h4>

<div id="S5.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="S5.SS2.SSS0.Px3.p1.1" class="ltx_p">Existing efforts have largely overlooked the interplay of client devices and training speed (e.g., using a large local steps to save communication <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al., <a href="#bib.bib41" title="" class="ltx_ref">2017</a>)</cite>),
however, as shown in Figure <a href="#S4.F7" title="Figure 7 ‣ 4.1 FedScale Runtime: Mobile Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, running intensive on-device computation for a long time can quickly drain the battery, or even burn the device, leading to the unavailability of clients. Therefore, we believe that a power and temperature-aware training algorithm (e.g., different local steps across clients or device-aware NAS) can be an important open problem.</p>
</div>
</section>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">To enable scalable and reproducible FL research, we introduce FedScale,
a diverse set of realistic FL datasets in terms of scales, task categories, and client system behaviors,
along with a scalable and extensible evaluation platform, FedScale Runtime.
FedScale Runtime performs fast-forward evaluation of the practical FL runtime metrics needed in today’s works.
More importantly, FedScale Runtime provides ready-to-use realistic datasets and flexible APIs to allow more FL applications, such as benchmarking NAS, model inference, and a broader view of federated computation (e.g., multi-party computation).
FedScale is open-source at <a target="_blank" href="http://fedscale.ai" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://fedscale.ai</a>, and we hereby invite the community to develop and contribute
state-of-the-art FL efforts.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We would like to thank the anonymous reviewers and SymbioticLab members for their insightful feedback.
We also thank FedScale contributors and users from many different academic institutions and industry for their valuable inputs.
This work was supported in part by NSF grants CNS-1900665, CNS-1909067, and CNS-2106184, and a grant from Cisco.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
Common Voice Data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://commonvoice.mozilla.org/en/datasets" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://commonvoice.mozilla.org/en/datasets</a>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(2)</span>
<span class="ltx_bibblock">
Fox go dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/featurecat/go-dataset" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/featurecat/go-dataset</a>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(3)</span>
<span class="ltx_bibblock">
iNaturalist 2019.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://sites.google.com/view/fgvc6/competitions/inaturalist-2019" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://sites.google.com/view/fgvc6/competitions/inaturalist-2019</a>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(4)</span>
<span class="ltx_bibblock">
MobiPerf.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.measurementlab.net/tests/mobiperf/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.measurementlab.net/tests/mobiperf/</a>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(5)</span>
<span class="ltx_bibblock">
Google Open Images Dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://storage.googleapis.com/openimages/web/index.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://storage.googleapis.com/openimages/web/index.html</a>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(6)</span>
<span class="ltx_bibblock">
PySyft.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://github.com/OpenMined/PySyft" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/OpenMined/PySyft</a>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(7)</span>
<span class="ltx_bibblock">
Reddit Comment Data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://files.pushshift.io/reddit/comments/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://files.pushshift.io/reddit/comments/</a>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(8)</span>
<span class="ltx_bibblock">
Stack Overflow Data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://cloud.google.com/bigquery/public-data/stackoverflow" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://cloud.google.com/bigquery/public-data/stackoverflow</a>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(9)</span>
<span class="ltx_bibblock">
Taobao Dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://tianchi.aliyun.com/dataset/dataDetail?dataId=56&amp;lang=en-us" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://tianchi.aliyun.com/dataset/dataDetail?dataId=56&amp;lang=en-us</a>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(10)</span>
<span class="ltx_bibblock">
Termux.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://termux.com/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://termux.com/</a>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(11)</span>
<span class="ltx_bibblock">
TensorFlow Federated.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated</a>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beutel et al. (2021)</span>
<span class="ltx_bibblock">
Beutel, D. J., Topal, T., Mathur, A., Qiu, X., Parcollet, T., de Gusmao, P.
P. B., and Lane, N. D.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2007.14390</em>, 2021.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et al. (2019)</span>
<span class="ltx_bibblock">
Bonawitz, K., Eichner, H., and et al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">MLSys</em>, 2019.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caldas et al. (2019)</span>
<span class="ltx_bibblock">
Caldas, S., Meher, S., Duddu, K., and et al.

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">NeurIPS’ Workshop</em>, 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chai et al. (2020)</span>
<span class="ltx_bibblock">
Chai, D., Wang, L., Chen, K., and Yang, Q.

</span>
<span class="ltx_bibblock">FedEval: A benchmark system with a comprehensive evaluation model
for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/2011.09655</em>, 2020.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cohen et al. (2017)</span>
<span class="ltx_bibblock">
Cohen, G., Afshar, S., Tapson, J., and van Schaik, A.

</span>
<span class="ltx_bibblock">EMNIST: an extension of MNIST to handwritten letters.

</span>
<span class="ltx_bibblock">In <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/1702.05373</em>, 2017.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Eichner et al. (2019)</span>
<span class="ltx_bibblock">
Eichner, H., Koren, T., McMahan, H. B., Srebro, N., and Talwar, K.

</span>
<span class="ltx_bibblock">Semi-cyclic stochastic gradient descent.

</span>
<span class="ltx_bibblock">In <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2019.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ettinger et al. (2021)</span>
<span class="ltx_bibblock">
Ettinger, S., Cheng, S., Caine, B., Liu, C., Zhao, H., Pradhan, S., Chai, Y.,
Sapp, B., Qi, C., Zhou, Y., Yang, Z., Chouard, A., Sun, P., Ngiam, J.,
Vasudevan, V., McCauley, A., Shlens, J., and Anguelov, D.

</span>
<span class="ltx_bibblock">Large scale interactive motion forecasting for autonomous driving :
The waymo open motion dataset.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2104.10133, 2021.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fallah et al. (2020)</span>
<span class="ltx_bibblock">
Fallah, A., Mokhtari, A., and Ozdaglar, A.

</span>
<span class="ltx_bibblock">Personalized federated learning with theoretical guarantees: A
model-agnostic meta-learning approach.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fouhey et al. (2018)</span>
<span class="ltx_bibblock">
Fouhey, D. F., Kuo, W., Efros, A. A., and Malik, J.

</span>
<span class="ltx_bibblock">From lifestyle vlogs to everyday interactions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geiping et al. (2020)</span>
<span class="ltx_bibblock">
Geiping, J., Bauermeister, H., Dröge, H., and Moeller, M.

</span>
<span class="ltx_bibblock">Inverting gradients - how easy is it to break privacy in federated
learning?

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geyer et al. (2017)</span>
<span class="ltx_bibblock">
Geyer, R. C., Klein, T., and Nabi, M.

</span>
<span class="ltx_bibblock">Differentially private federated learning: A client level
perspective.

</span>
<span class="ltx_bibblock">In <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2017.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh et al. (2020a)</span>
<span class="ltx_bibblock">
Ghosh, A., Chung, J., Yin, D., and Ramchandran, K.

</span>
<span class="ltx_bibblock">An efficient framework for clustered federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020a.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh et al. (2020b)</span>
<span class="ltx_bibblock">
Ghosh, A., Chung, J., Yin, D., and Ramchandran, K.

</span>
<span class="ltx_bibblock">An efficient framework for clustered federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020b.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2020)</span>
<span class="ltx_bibblock">
He, C., Li, S., So, J., and Zeng, X.

</span>
<span class="ltx_bibblock">FedML: A research library and benchmark for federated machine
learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/2007.13518</em>, 2020.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2018)</span>
<span class="ltx_bibblock">
He, Y., Lin, J., Liu, Z., Wang, H., Li, L.-J., and Han, S.

</span>
<span class="ltx_bibblock">Amc: Automl for model compression and acceleration on mobile devices.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2018.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(27)</span>
<span class="ltx_bibblock">
Ignatov, A., Timofte, R., Kulik, A., Yang, S., Wang, K., Baum, F., Wu, M., Xu,
L., and Gool, L. V.

</span>
<span class="ltx_bibblock">AI benchmark: All about deep learning on smartphones in 2019.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1910.06663</em>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2021a)</span>
<span class="ltx_bibblock">
Kairouz, P., McMahan, B., Song, S., Thakkar, O., Thakurta, A., and Xu, Z.

</span>
<span class="ltx_bibblock">Practical and private (deep) learning without sampling or shuffling.

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/2103.00039</em>, 2021a.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2021b)</span>
<span class="ltx_bibblock">
Kairouz, P., McMahan, H. B., and et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Foundations and Trends® in Machine Learning</em>,
2021b.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. (2019)</span>
<span class="ltx_bibblock">
Karimireddy, S. P., Rebjock, Q., Stich, S. U., and Jaggi, M.

</span>
<span class="ltx_bibblock">Error feedback fixes signsgd and other gradient compression schemes.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1901.09847</em>, 2019.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. (2020)</span>
<span class="ltx_bibblock">
Karimireddy, S. P., Kale, S., Mohri, M., Reddi, S. J., Stich, S. U., and
Suresh, A. T.

</span>
<span class="ltx_bibblock">SCAFFOLD: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koehn (2005)</span>
<span class="ltx_bibblock">
Koehn, P.

</span>
<span class="ltx_bibblock">Europarl: A Parallel Corpus for Statistical Machine Translation.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">Conference Proceedings: the tenth Machine Translation
Summit</em>, 2005.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lai et al. (2018)</span>
<span class="ltx_bibblock">
Lai, F., Chowdhury, M., and Madhyastha, H.

</span>
<span class="ltx_bibblock">To relay or not to relay for inter-cloud transfers?

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">HotCloud</em>, 2018.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lai et al. (2020)</span>
<span class="ltx_bibblock">
Lai, F., You, J., Zhu, X., Madhyastha, H. V., and Chowdhury, M.

</span>
<span class="ltx_bibblock">Sol: A federated execution engine for fast distributed computation
over slow networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">NSDI</em>, 2020.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lai et al. (2021)</span>
<span class="ltx_bibblock">
Lai, F., Zhu, X., Madhyastha, H. V., and Chowdhury, M.

</span>
<span class="ltx_bibblock">Oort: Efficient federated learning via guided participant selection.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">OSDI</em>, 2021.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2022)</span>
<span class="ltx_bibblock">
Li, C., Zeng, X., Zhang, M., and Cao, Z.

</span>
<span class="ltx_bibblock">PyramidFL: Fine-grained data and system heterogeneity-aware client
selection for efficient federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">MobiCom</em>, 2022.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020)</span>
<span class="ltx_bibblock">
Li, T., Sahu, A. K., Zaheer, M., Sanjabi, M., Talwalkar, A., and Smith, V.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">MLSys</em>, 2020.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mao et al. (2017)</span>
<span class="ltx_bibblock">
Mao, H., Netravali, R., and Alizadeh, M.

</span>
<span class="ltx_bibblock">Neural adaptive video streaming with Pensieve.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">SIGCOMM</em>, 2017.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mattson et al. (2020)</span>
<span class="ltx_bibblock">
Mattson, P., Cheng, C., Coleman, C., and et al.

</span>
<span class="ltx_bibblock">Mlperf training benchmark.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">MLSys</em>, 2020.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McAuley et al. (2015)</span>
<span class="ltx_bibblock">
McAuley, J., Targett, C., Shi, Q., and van den Hengel, A.

</span>
<span class="ltx_bibblock">Image-based recommendations on styles and substitutes.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">SIGIR</em>, 2015.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, H. B., Moore, E., Ramage, D., Hampson, S., and y Arcas, B. A.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">AISTATS</em>, 2017.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. (2020)</span>
<span class="ltx_bibblock">
Reddi, S., Charles, Z., and et al.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/2003.00295</em>, 2020.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddy et al. (2019)</span>
<span class="ltx_bibblock">
Reddy, S., Chen, D., and Manning, C. D.

</span>
<span class="ltx_bibblock">Coqa: A conversational question answering challenge.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1808.07042</em>, 2019.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ro et al. (2021)</span>
<span class="ltx_bibblock">
Ro, J. H., Suresh, A. T., and Wu, K.

</span>
<span class="ltx_bibblock">FedJAX: Federated learning simulation with jax.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2108.02117</em>, 2021.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rothchild et al. (2020)</span>
<span class="ltx_bibblock">
Rothchild, D., Panda, A., Ullah, E., Ivkin, N., Stoica, I., Braverman, V.,
Gonzalez, J., and Arora, R.

</span>
<span class="ltx_bibblock">Fetchsgd: Communication-efficient federated learning with sketching.

</span>
<span class="ltx_bibblock">In <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">ICML</em>, 2020.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sandler et al. (2018)</span>
<span class="ltx_bibblock">
Sandler, M., Howard, A. G., Zhu, M., Zhmoginov, A., and Chen, L.-C.

</span>
<span class="ltx_bibblock">Mobilenetv2: Inverted residuals and linear bottlenecks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">CVPR</em>, 2018.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schler et al. (2006)</span>
<span class="ltx_bibblock">
Schler, J., Koppel, M., Argamon, S., and Pennebaker, J.

</span>
<span class="ltx_bibblock">Effects of age and gender on blogging.

</span>
<span class="ltx_bibblock">In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">Proceedings of AAAI Spring Symposium on Computational
Approaches for Analyzing Weblogs</em>, 2006.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2021)</span>
<span class="ltx_bibblock">
Shi, N., Lai, F., Kontar, R. A., and Chowdhury, M.

</span>
<span class="ltx_bibblock">Fed-ensemble: Improving generalization through model ensembling in
federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2107.10663</em>, 2021.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sigurdsson et al. (2016)</span>
<span class="ltx_bibblock">
Sigurdsson, G. A., Varol, G., Wang, X., Farhadi, A., Laptev, I., and Gupta, A.

</span>
<span class="ltx_bibblock">Hollywood in homes: Crowdsourcing data collection for activity
understanding.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">ECCV</em>, 2016.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singapuram et al. (2022)</span>
<span class="ltx_bibblock">
Singapuram, S. S. V., Lai, F., Hu, C., and Chowdhury, M.

</span>
<span class="ltx_bibblock">Swan: A neural engine for efficient dnn training on smartphone socs.

</span>
<span class="ltx_bibblock"><em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.04687</em>, 2022.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al. (2019)</span>
<span class="ltx_bibblock">
Sun, Z., Kairouz, P., Suresh, A. T., and McMahan, H. B.

</span>
<span class="ltx_bibblock">Can you really backdoor federated learning?

</span>
<span class="ltx_bibblock">In <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/1911.07963</em>, 2019.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2020)</span>
<span class="ltx_bibblock">
Wang, H., Sreenivasan, K., Rajput, S., Vishwakarma, H., Agarwal, S., yong Sohn,
J., Lee, K., and Papailiopoulos, D.

</span>
<span class="ltx_bibblock">Attack of the tails: Yes, you really can backdoor federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">NeurIPS</em>, 2020.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Warden (2018)</span>
<span class="ltx_bibblock">
Warden, P.

</span>
<span class="ltx_bibblock">Speech commands: A dataset for limited-vocabulary speech recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/1804.03209</em>, 2018.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Weyand et al. (2020)</span>
<span class="ltx_bibblock">
Weyand, T., Araujo, A., Cao, B., and Sim, J.

</span>
<span class="ltx_bibblock">Google landmarks dataset v2 a large-scale benchmark for
instance-level recognition and retrieval.

</span>
<span class="ltx_bibblock">In <em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/2004.01804</em>, 2020.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yan et al. (2020)</span>
<span class="ltx_bibblock">
Yan, F. Y., Ayers, H., and et al.

</span>
<span class="ltx_bibblock">Learning in situ: a randomized experiment in video streaming.

</span>
<span class="ltx_bibblock">In <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">NSDI</em>, 2020.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2021)</span>
<span class="ltx_bibblock">
Yang, C., Wang, Q., and et al.

</span>
<span class="ltx_bibblock">Characterizing impacts of heterogeneity in federated learning upon
large-scale smartphone data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">WWW</em>, 2021.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2018)</span>
<span class="ltx_bibblock">
Yang, T., Andrew, G., Eichner, H., Sun, H., Li, W., Kong, N., Ramage, D., and
Beaufays, F.

</span>
<span class="ltx_bibblock">Applied federated learning: Improving Google keyboard query
suggestions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">arxiv.org/abs/1812.02903</em>, 2018.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu &amp; Chowdhury (2020)</span>
<span class="ltx_bibblock">
Yu, P. and Chowdhury, M.

</span>
<span class="ltx_bibblock">Fine-grained gpu sharing primitives for deep learning applications.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">MLSys</em>, 2020.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zen et al. (2019)</span>
<span class="ltx_bibblock">
Zen, H., Dang, V., Clark, R., Zhang, Y., Weiss, R. J., Jia, Y., Chen, Z., and
Wu, Y.

</span>
<span class="ltx_bibblock">Libritts: A corpus derived from librispeech for text-to-speech.

</span>
<span class="ltx_bibblock"><em id="bib.bib59.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1904.02882</em>, 2019.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure id="id1.fig1" class="ltx_figure ltx_minipage ltx_align_middle" style="width:433.6pt;">
<table id="id1.fig1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="id1.fig1.1.1.1" class="ltx_tr">
<td id="id1.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.1.1" class="ltx_text" style="font-size:90%;">Category</span></td>
<td id="id1.fig1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.2.1" class="ltx_text" style="font-size:90%;">Name</span></td>
<td id="id1.fig1.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.3.1" class="ltx_text" style="font-size:90%;">Data Type</span></td>
<td id="id1.fig1.1.1.1.4" class="ltx_td ltx_align_right ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.4.1" class="ltx_text" style="font-size:90%;">#Clients</span></td>
<td id="id1.fig1.1.1.1.5" class="ltx_td ltx_align_right ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.5.1" class="ltx_text" style="font-size:90%;">#Instances</span></td>
<td id="id1.fig1.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.1.1.6.1" class="ltx_text" style="font-size:90%;">Example Task</span></td>
</tr>
<tr id="id1.fig1.1.2.2" class="ltx_tr">
<td id="id1.fig1.1.2.2.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;" rowspan="7"><span id="id1.fig1.1.2.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">CV</span></td>
<td id="id1.fig1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.2.2.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">iNature</em><span id="id1.fig1.1.2.2.2.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.2.2.2.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib3" title="" class="ltx_ref">ina<span id="id1.fig1.1.2.2.2.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.2.2.2.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.2.2.3.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="id1.fig1.1.2.2.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.2.2.4.1" class="ltx_text" style="font-size:90%;">2,295</span></td>
<td id="id1.fig1.1.2.2.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.2.2.5.1" class="ltx_text" style="font-size:90%;">193K</span></td>
<td id="id1.fig1.1.2.2.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.2.2.6.1" class="ltx_text" style="font-size:90%;">Classification</span></td>
</tr>
<tr id="id1.fig1.1.3.3" class="ltx_tr">
<td id="id1.fig1.1.3.3.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.3.3.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">FEMNIST</em><span id="id1.fig1.1.3.3.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.3.3.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Cohen et al.<span id="id1.fig1.1.3.3.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib16" title="" class="ltx_ref">2017</a><span id="id1.fig1.1.3.3.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.3.3.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.3.3.2.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="id1.fig1.1.3.3.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.3.3.3.1" class="ltx_text" style="font-size:90%;">3,400</span></td>
<td id="id1.fig1.1.3.3.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.3.3.4.1" class="ltx_text" style="font-size:90%;">640K</span></td>
<td id="id1.fig1.1.3.3.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.3.3.5.1" class="ltx_text" style="font-size:90%;">Classification</span></td>
</tr>
<tr id="id1.fig1.1.4.4" class="ltx_tr">
<td id="id1.fig1.1.4.4.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.4.4.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">OpenImage</em><span id="id1.fig1.1.4.4.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.4.4.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib5" title="" class="ltx_ref">ope<span id="id1.fig1.1.4.4.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.4.4.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.4.4.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.4.4.2.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="id1.fig1.1.4.4.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.4.4.3.1" class="ltx_text" style="font-size:90%;">13,771</span></td>
<td id="id1.fig1.1.4.4.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.4.4.4.1" class="ltx_text" style="font-size:90%;">1.3M</span></td>
<td id="id1.fig1.1.4.4.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.4.4.5.1" class="ltx_text" style="font-size:90%;">Classification, Object detection</span></td>
</tr>
<tr id="id1.fig1.1.5.5" class="ltx_tr">
<td id="id1.fig1.1.5.5.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.5.5.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Google Landmark</em><span id="id1.fig1.1.5.5.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.5.5.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Weyand et al.<span id="id1.fig1.1.5.5.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib54" title="" class="ltx_ref">2020</a><span id="id1.fig1.1.5.5.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.5.5.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.5.5.2.1" class="ltx_text" style="font-size:90%;">Image</span></td>
<td id="id1.fig1.1.5.5.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.5.5.3.1" class="ltx_text" style="font-size:90%;">43,484</span></td>
<td id="id1.fig1.1.5.5.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.5.5.4.1" class="ltx_text" style="font-size:90%;">3.6M</span></td>
<td id="id1.fig1.1.5.5.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.5.5.5.1" class="ltx_text" style="font-size:90%;">Classification</span></td>
</tr>
<tr id="id1.fig1.1.6.6" class="ltx_tr">
<td id="id1.fig1.1.6.6.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.6.6.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Charades</em><span id="id1.fig1.1.6.6.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.6.6.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Sigurdsson et al.<span id="id1.fig1.1.6.6.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib49" title="" class="ltx_ref">2016</a><span id="id1.fig1.1.6.6.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.6.6.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.6.6.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="id1.fig1.1.6.6.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.6.6.3.1" class="ltx_text" style="font-size:90%;">266</span></td>
<td id="id1.fig1.1.6.6.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.6.6.4.1" class="ltx_text" style="font-size:90%;">10K</span></td>
<td id="id1.fig1.1.6.6.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.6.6.5.1" class="ltx_text" style="font-size:90%;">Action recognition</span></td>
</tr>
<tr id="id1.fig1.1.7.7" class="ltx_tr">
<td id="id1.fig1.1.7.7.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.7.7.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">VLOG</em><span id="id1.fig1.1.7.7.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.7.7.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Fouhey et al.<span id="id1.fig1.1.7.7.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib20" title="" class="ltx_ref">2018</a><span id="id1.fig1.1.7.7.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.7.7.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.7.7.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="id1.fig1.1.7.7.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.7.7.3.1" class="ltx_text" style="font-size:90%;">4,900</span></td>
<td id="id1.fig1.1.7.7.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.7.7.4.1" class="ltx_text" style="font-size:90%;">9.6K</span></td>
<td id="id1.fig1.1.7.7.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.7.7.5.1" class="ltx_text" style="font-size:90%;">Classification, Object detection</span></td>
</tr>
<tr id="id1.fig1.1.8.8" class="ltx_tr">
<td id="id1.fig1.1.8.8.1" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.8.8.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Waymo Motion</em><span id="id1.fig1.1.8.8.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.8.8.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Ettinger et al.<span id="id1.fig1.1.8.8.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib18" title="" class="ltx_ref">2021</a><span id="id1.fig1.1.8.8.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.8.8.2" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.8.8.2.1" class="ltx_text" style="font-size:90%;">Video</span></td>
<td id="id1.fig1.1.8.8.3" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.8.8.3.1" class="ltx_text" style="font-size:90%;">496,358</span></td>
<td id="id1.fig1.1.8.8.4" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.8.8.4.1" class="ltx_text" style="font-size:90%;">32.5M</span></td>
<td id="id1.fig1.1.8.8.5" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.8.8.5.1" class="ltx_text" style="font-size:90%;">Motion prediction</span></td>
</tr>
<tr id="id1.fig1.1.9.9" class="ltx_tr">
<td id="id1.fig1.1.9.9.1" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;" rowspan="9"><span id="id1.fig1.1.9.9.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">NLP</span></td>
<td id="id1.fig1.1.9.9.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.9.9.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Europarl</em><span id="id1.fig1.1.9.9.2.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.9.9.2.3.1" class="ltx_text" style="font-size:90%;">(</span>Koehn<span id="id1.fig1.1.9.9.2.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib32" title="" class="ltx_ref">2005</a><span id="id1.fig1.1.9.9.2.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.9.9.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.9.9.3.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.9.9.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.9.9.4.1" class="ltx_text" style="font-size:90%;">27,835</span></td>
<td id="id1.fig1.1.9.9.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.9.9.5.1" class="ltx_text" style="font-size:90%;">1.2M</span></td>
<td id="id1.fig1.1.9.9.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.9.9.6.1" class="ltx_text" style="font-size:90%;">Text translation</span></td>
</tr>
<tr id="id1.fig1.1.10.10" class="ltx_tr">
<td id="id1.fig1.1.10.10.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.10.10.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Blog Corpus</em><span id="id1.fig1.1.10.10.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.10.10.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Schler et al.<span id="id1.fig1.1.10.10.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib47" title="" class="ltx_ref">2006</a><span id="id1.fig1.1.10.10.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.10.10.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.10.10.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.10.10.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.10.10.3.1" class="ltx_text" style="font-size:90%;">19,320</span></td>
<td id="id1.fig1.1.10.10.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.10.10.4.1" class="ltx_text" style="font-size:90%;">137M</span></td>
<td id="id1.fig1.1.10.10.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.10.10.5.1" class="ltx_text" style="font-size:90%;">Word prediction</span></td>
</tr>
<tr id="id1.fig1.1.11.11" class="ltx_tr">
<td id="id1.fig1.1.11.11.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.11.11.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Stackoverflow</em><span id="id1.fig1.1.11.11.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.11.11.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib8" title="" class="ltx_ref">sta<span id="id1.fig1.1.11.11.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.11.11.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.11.11.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.11.11.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.11.11.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.11.11.3.1" class="ltx_text" style="font-size:90%;">342,477</span></td>
<td id="id1.fig1.1.11.11.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.11.11.4.1" class="ltx_text" style="font-size:90%;">135M</span></td>
<td id="id1.fig1.1.11.11.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.11.11.5.1" class="ltx_text" style="font-size:90%;">Word prediction, Classification</span></td>
</tr>
<tr id="id1.fig1.1.12.12" class="ltx_tr">
<td id="id1.fig1.1.12.12.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.12.12.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Reddit</em><span id="id1.fig1.1.12.12.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.12.12.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib7" title="" class="ltx_ref">red<span id="id1.fig1.1.12.12.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.12.12.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.12.12.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.12.12.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.12.12.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.12.12.3.1" class="ltx_text" style="font-size:90%;">1,660,820</span></td>
<td id="id1.fig1.1.12.12.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.12.12.4.1" class="ltx_text" style="font-size:90%;">351M</span></td>
<td id="id1.fig1.1.12.12.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.12.12.5.1" class="ltx_text" style="font-size:90%;">Word prediction</span></td>
</tr>
<tr id="id1.fig1.1.13.13" class="ltx_tr">
<td id="id1.fig1.1.13.13.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.13.13.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Amazon Review</em><span id="id1.fig1.1.13.13.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.13.13.1.3.1" class="ltx_text" style="font-size:90%;">(</span>McAuley et al.<span id="id1.fig1.1.13.13.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib40" title="" class="ltx_ref">2015</a><span id="id1.fig1.1.13.13.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.13.13.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.13.13.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.13.13.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.13.13.3.1" class="ltx_text" style="font-size:90%;">1,822,925</span></td>
<td id="id1.fig1.1.13.13.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.13.13.4.1" class="ltx_text" style="font-size:90%;">166M</span></td>
<td id="id1.fig1.1.13.13.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.13.13.5.1" class="ltx_text" style="font-size:90%;">Classification, Word prediction</span></td>
</tr>
<tr id="id1.fig1.1.14.14" class="ltx_tr">
<td id="id1.fig1.1.14.14.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.14.14.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">CoQA</em><span id="id1.fig1.1.14.14.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.14.14.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Reddy et al.<span id="id1.fig1.1.14.14.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib43" title="" class="ltx_ref">2019</a><span id="id1.fig1.1.14.14.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.14.14.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.14.14.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.14.14.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.14.14.3.1" class="ltx_text" style="font-size:90%;">7,685</span></td>
<td id="id1.fig1.1.14.14.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.14.14.4.1" class="ltx_text" style="font-size:90%;">116K</span></td>
<td id="id1.fig1.1.14.14.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.14.14.5.1" class="ltx_text" style="font-size:90%;">Question Answering</span></td>
</tr>
<tr id="id1.fig1.1.15.15" class="ltx_tr">
<td id="id1.fig1.1.15.15.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.15.15.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">LibriTTS</em><span id="id1.fig1.1.15.15.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.15.15.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Zen et al.<span id="id1.fig1.1.15.15.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib59" title="" class="ltx_ref">2019</a><span id="id1.fig1.1.15.15.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.15.15.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.15.15.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.15.15.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.15.15.3.1" class="ltx_text" style="font-size:90%;">2,456</span></td>
<td id="id1.fig1.1.15.15.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.15.15.4.1" class="ltx_text" style="font-size:90%;">37K</span></td>
<td id="id1.fig1.1.15.15.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.15.15.5.1" class="ltx_text" style="font-size:90%;">Text to speech</span></td>
</tr>
<tr id="id1.fig1.1.16.16" class="ltx_tr">
<td id="id1.fig1.1.16.16.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.16.16.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Google Speech</em><span id="id1.fig1.1.16.16.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.16.16.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Warden<span id="id1.fig1.1.16.16.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib53" title="" class="ltx_ref">2018</a><span id="id1.fig1.1.16.16.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.16.16.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.16.16.2.1" class="ltx_text" style="font-size:90%;">Audio</span></td>
<td id="id1.fig1.1.16.16.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.16.16.3.1" class="ltx_text" style="font-size:90%;">2,618</span></td>
<td id="id1.fig1.1.16.16.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.16.16.4.1" class="ltx_text" style="font-size:90%;">105K</span></td>
<td id="id1.fig1.1.16.16.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.16.16.5.1" class="ltx_text" style="font-size:90%;">Speech recognition</span></td>
</tr>
<tr id="id1.fig1.1.17.17" class="ltx_tr">
<td id="id1.fig1.1.17.17.1" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.17.17.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Common Voice</em><span id="id1.fig1.1.17.17.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.17.17.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib1" title="" class="ltx_ref">com<span id="id1.fig1.1.17.17.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.17.17.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.17.17.2" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.17.17.2.1" class="ltx_text" style="font-size:90%;">Audio</span></td>
<td id="id1.fig1.1.17.17.3" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.17.17.3.1" class="ltx_text" style="font-size:90%;">12,976</span></td>
<td id="id1.fig1.1.17.17.4" class="ltx_td ltx_align_right" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.17.17.4.1" class="ltx_text" style="font-size:90%;">1.1M</span></td>
<td id="id1.fig1.1.17.17.5" class="ltx_td ltx_align_center" style="padding-bottom:1.93748pt;padding:0.9pt 3.0pt;"><span id="id1.fig1.1.17.17.5.1" class="ltx_text" style="font-size:90%;">Speech recognition</span></td>
</tr>
<tr id="id1.fig1.1.18.18" class="ltx_tr">
<td id="id1.fig1.1.18.18.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" style="padding:0.9pt 3.0pt;" rowspan="4"><span id="id1.fig1.1.18.18.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">Misc ML</span></td>
<td id="id1.fig1.1.18.18.2" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><em id="id1.fig1.1.18.18.2.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Taxi Trajectory</em></td>
<td id="id1.fig1.1.18.18.3" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.18.18.3.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.18.18.4" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.18.18.4.1" class="ltx_text" style="font-size:90%;">442</span></td>
<td id="id1.fig1.1.18.18.5" class="ltx_td ltx_align_right ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.18.18.5.1" class="ltx_text" style="font-size:90%;">1.7M</span></td>
<td id="id1.fig1.1.18.18.6" class="ltx_td ltx_align_center ltx_border_t" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.18.18.6.1" class="ltx_text" style="font-size:90%;">Sequence prediction</span></td>
</tr>
<tr id="id1.fig1.1.19.19" class="ltx_tr">
<td id="id1.fig1.1.19.19.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.19.19.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Taobao</em><span id="id1.fig1.1.19.19.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.19.19.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib9" title="" class="ltx_ref">tao<span id="id1.fig1.1.19.19.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.19.19.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.19.19.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.19.19.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.19.19.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.19.19.3.1" class="ltx_text" style="font-size:90%;">182,806</span></td>
<td id="id1.fig1.1.19.19.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.19.19.4.1" class="ltx_text" style="font-size:90%;">20.9M</span></td>
<td id="id1.fig1.1.19.19.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.19.19.5.1" class="ltx_text" style="font-size:90%;">Recommendation</span></td>
</tr>
<tr id="id1.fig1.1.20.20" class="ltx_tr">
<td id="id1.fig1.1.20.20.1" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.20.20.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Puffer Streaming</em><span id="id1.fig1.1.20.20.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.20.20.1.3.1" class="ltx_text" style="font-size:90%;">(</span>Yan et al.<span id="id1.fig1.1.20.20.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib55" title="" class="ltx_ref">2020</a><span id="id1.fig1.1.20.20.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.20.20.2" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.20.20.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.20.20.3" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.20.20.3.1" class="ltx_text" style="font-size:90%;">121,551</span></td>
<td id="id1.fig1.1.20.20.4" class="ltx_td ltx_align_right" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.20.20.4.1" class="ltx_text" style="font-size:90%;">15.4M</span></td>
<td id="id1.fig1.1.20.20.5" class="ltx_td ltx_align_center" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.20.20.5.1" class="ltx_text" style="font-size:90%;">Sequence prediction</span></td>
</tr>
<tr id="id1.fig1.1.21.21" class="ltx_tr">
<td id="id1.fig1.1.21.21.1" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 3.0pt;">
<em id="id1.fig1.1.21.21.1.1" class="ltx_emph ltx_font_italic" style="font-size:90%;">Fox Go</em><span id="id1.fig1.1.21.21.1.2" class="ltx_text" style="font-size:90%;"> </span><cite class="ltx_cite ltx_citemacro_citep"><span id="id1.fig1.1.21.21.1.3.1" class="ltx_text" style="font-size:90%;">(</span><a href="#bib.bib2" title="" class="ltx_ref">go-<span id="id1.fig1.1.21.21.1.4.2.1.1" class="ltx_text" style="font-size:90%;">, </span></a><span id="id1.fig1.1.21.21.1.5.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="id1.fig1.1.21.21.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.21.21.2.1" class="ltx_text" style="font-size:90%;">Text</span></td>
<td id="id1.fig1.1.21.21.3" class="ltx_td ltx_align_right ltx_border_bb" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.21.21.3.1" class="ltx_text" style="font-size:90%;">150,333</span></td>
<td id="id1.fig1.1.21.21.4" class="ltx_td ltx_align_right ltx_border_bb" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.21.21.4.1" class="ltx_text" style="font-size:90%;">4.9M</span></td>
<td id="id1.fig1.1.21.21.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding:0.9pt 3.0pt;"><span id="id1.fig1.1.21.21.5.1" class="ltx_text" style="font-size:90%;">Reinforcement learning</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:90%;"><span class="ltx_tag ltx_tag_figure">Table 5: </span>Statistics of FedScale datasets. FedScale has 20 realistic client datasets, which are from the real-world collection, and we partitioned each dataset using its real client-data mapping.</figcaption>
</figure>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Experiment Setup</h2>

<section id="A1.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Scalability Evaluations</h4>

<div id="A1.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px1.p1.1" class="ltx_p">We evaluate the scalability of FedScale Runtime, FedML (GitHub <span id="A1.SS0.SSS0.Px1.p1.1.1" class="ltx_text ltx_font_italic">commit@2ee0517</span>) and Flower (v0.17.0 atop Ray v1.9.2) using a cluster with 10 GPU nodes. Each GPU node has a P100 GPU with 12GB GPU memory and 192GB RAM. We train the ShuffleNet-V2 model on the OpenImage dataset. We set the minibatch size of each participant to 32, and the number of local steps <math id="A1.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A1.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="A1.SS0.SSS0.Px1.p1.1.m1.1.1" xref="A1.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="A1.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="A1.SS0.SSS0.Px1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px1.p1.1.m1.1c">K</annotation></semantics></math> to 20, which takes around 2800MB GPU memory for each model training. As such, we allow each GPU node to run 4 processes in benchmarking these three frameworks.</p>
</div>
</section>
<section id="A1.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Setup</h4>

<div id="A1.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A1.SS0.SSS0.Px2.p1.1" class="ltx_p">Applications and models used in our evaluations are widely used on mobile devices.
We set the minibatch size of each participant to 32, and the number of local steps <math id="A1.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="A1.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="A1.SS0.SSS0.Px2.p1.1.m1.1.1" xref="A1.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="A1.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="A1.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="A1.SS0.SSS0.Px2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS0.SSS0.Px2.p1.1.m1.1c">K</annotation></semantics></math> to 20.
We cherry-pick the hyper-parameters with grid search, ending up with an initial learning rate 0.04 for CV tasks and 5e-5 for NLP tasks. The learning rate decays by 0.98 every 10 training rounds. These settings are consistent with the literature. More details about the input dataset are available in Appendix <a href="#A2" title="Appendix B Introduction of FedScale Datasets ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Introduction of FedScale Datasets</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">FedScale currently has 20 realistic federated datasets across a wide range of scales and task categories (Table <span class="ltx_ref ltx_ref_self"><span class="ltx_text ltx_ref_title">FedScale: Benchmarking Model and System Performance of Federated Learning at Scale</span></span>). Here, we provide the description of some representative datasets.</p>
</div>
<section id="A2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Google Speech Commands.</h4>

<div id="A2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px1.p1.1" class="ltx_p">A speech recognition dataset <cite class="ltx_cite ltx_citemacro_citep">(Warden, <a href="#bib.bib53" title="" class="ltx_ref">2018</a>)</cite> with over ten thousand clips of one-second-long duration. Each clip contains one of the 35 common words (e.g., digits zero to nine, "Yes", "No", "Up", "Down") spoken by thousands of different people.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">OpenImage.</h4>

<div id="A2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px2.p1.1" class="ltx_p">OpenImage <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">ope, </a>)</cite> is a vision dataset collected from Flickr, an image and video hosting service.
It contains a total of 16M bounding boxes for 600 object classes (e.g., Microwave oven). We clean up the dataset according to the provided indices of clients.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Reddit and StackOverflow.</h4>

<div id="A2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px3.p1.1" class="ltx_p">Reddit <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib7" title="" class="ltx_ref">red, </a>)</cite> (StackOverflow <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib8" title="" class="ltx_ref">sta, </a>)</cite>) consists of comments from the Reddit (StackOverflow) website. It has been widely used for language modeling tasks, and we consider each user as a client. In this dataset, we restrict to the 30k most frequently used words, and represent each sentence as a sequence of indices corresponding to these 30k frequently used words.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">VLOG.</h4>

<div id="A2.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px4.p1.1" class="ltx_p">VLOG <cite class="ltx_cite ltx_citemacro_citep">(Fouhey et al., <a href="#bib.bib20" title="" class="ltx_ref">2018</a>)</cite> is a video dataset collected from YouTube. It contains more than 10k Lifestyle Vlogs, videos that people purportedly record to show their lives,
from more than 4k actors. This dataset is aimed at understanding everyday human interaction and contains labels for scene classification, hand-state prediction, and hand detection tasks.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px5" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">LibriTTS.</h4>

<div id="A2.SS0.SSS0.Px5.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px5.p1.1" class="ltx_p">LibriTTS <cite class="ltx_cite ltx_citemacro_citep">(Zen et al., <a href="#bib.bib59" title="" class="ltx_ref">2019</a>)</cite> is a large-scale text-to-speech dataset. It is derived from audiobooks in LibriVox project. There are 585 hours of read English speech from 2456 speakers at a 24kHz sampling rate.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px6" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Taobao.</h4>

<div id="A2.SS0.SSS0.Px6.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px6.p1.1" class="ltx_p">Taobao Dataset <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib9" title="" class="ltx_ref">tao, </a>)</cite> is a dataset of click rate prediction about display Ad, which is displayed on the website of Taobao. It is composed of 1,140,000 users ad display/click logs for 8 days, which are randomly sampled from the website of Taobao.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px7" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Waymo Motion.</h4>

<div id="A2.SS0.SSS0.Px7.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px7.p1.1" class="ltx_p">Waymo Motion <cite class="ltx_cite ltx_citemacro_citep">(Ettinger et al., <a href="#bib.bib18" title="" class="ltx_ref">2021</a>)</cite> is composed of 103,354 segments each containing 20 seconds of object tracks at 10Hz and map data for the area covered by the segment. These segments are further broken into 9 second scenarios, and we consider each scenario as a client.</p>
</div>
</section>
<section id="A2.SS0.SSS0.Px8" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Puffer Streaming.</h4>

<div id="A2.SS0.SSS0.Px8.p1" class="ltx_para">
<p id="A2.SS0.SSS0.Px8.p1.1" class="ltx_p">Puffer is a Stanford University research study about using machine learning (e.g., reinforcement learning <cite class="ltx_cite ltx_citemacro_citep">(Mao et al., <a href="#bib.bib38" title="" class="ltx_ref">2017</a>)</cite>) to improve video-streaming algorithms: the kind of algorithms used by services such as YouTube, Netflix, and Twitch. Puffer dataset <cite class="ltx_cite ltx_citemacro_citep">(Yan et al., <a href="#bib.bib55" title="" class="ltx_ref">2020</a>)</cite> consists of 15.4M sequences of network throughput on edge clients over time.</p>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Comparison with Existing FL Benchmarks</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">In this section, we compare FedScale with existing FL benchmarks in more details.</p>
</div>
<section id="A3.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Data Heterogeneity</h4>

<div id="A3.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px1.p1.1" class="ltx_p">Existing benchmarks for FL are mostly limited in the variety of realistic datasets for real-world FL applications.
Even they have various datasets (e.g., LEAF <cite class="ltx_cite ltx_citemacro_citep">(Caldas et al., <a href="#bib.bib14" title="" class="ltx_ref">2019</a>)</cite>) and FedEval <cite class="ltx_cite ltx_citemacro_citep">(Chai et al., <a href="#bib.bib15" title="" class="ltx_ref">2020</a>)</cite>), their datasets are mostly synthetically derived from conventional datasets (e.g., CIFAR) and limited to quite a few FL tasks.
These statistical client datasets can not represent realistic characteristics and are inefficient to benchmark various real FL applications.
Instead, FedScale provides 20 comprehensive realistic datasets for a wide variety of tasks and across small, medium, and large scales, which can also be used in data analysis to motivate more FL designs.</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">System Heterogeneity</h4>

<div id="A3.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px2.p1.1" class="ltx_p">The practical FL statistical performance also depends on the system heterogeneity (e.g., internet bandwidth <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib33" title="" class="ltx_ref">2018</a>)</cite> and client availability), which has inspired lots of optimizations for FL system efficiency.
However, existing FL benchmarks have largely overlooked the system behaviors of FL clients, which can produce misleading evaluations, and discourage the benchmarking of system efforts.
To emulate the heterogeneous system behaviors in practical FL,
FedScale incorporates real-world traces of mobile devices, associates each client with his system speeds, as well as the availability. Moreover, we develop a more efficient evaluation platform, FedScale Runtime, to automate FL benchmarking.
</p>
</div>
</section>
<section id="A3.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Scalability</h4>

<div id="A3.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px3.p1.1" class="ltx_p">Existing frameworks, perhaps due to the heavy burden of building complicated system support, largely rely on the traditional ML architectures (e.g., the primitive parameter-server architecture of Pytorch). These architectures are primarily designed for the traditional large-batch training on a number of workers, and each worker often trains a single batch at a time. However, this is ill-suited to the simulation of thousands of clients concurrently: (1) they lack tailored system implementations to orchestrate the synchronization and resource scheduling, for which they can easily run into synchronization/memory issues and crash down; (2) their resource can be under-utilized, as FL evaluations often use a much smaller batch size.</p>
</div>
<div id="A3.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="A3.SS0.SSS0.Px3.p2.1" class="ltx_p">Tackling all these inefficiencies requires domain-specific system designs.
Specifically, we built a cluster resource scheduler that monitors the fine-grained resource utilization of machines, queues the overcommitted simulation requests, adaptively dispatches simulation requests of the client across machines to achieve load balance, and then orchestrates the simulation based on the client virtual clock. Moreover, given a much smaller batch size in FL, we maximize the resource utilization by overlapping the communication and computation phrases of different client simulations. The former and the latter make FedScale more scalable across machines and on single machines, respectively.
</p>
</div>
<div id="A3.SS0.SSS0.Px3.p3" class="ltx_para">
<p id="A3.SS0.SSS0.Px3.p3.1" class="ltx_p">Empirically, we have run the 20-GPU set up on different datasets and models in Figure <a href="#S4.F10" title="Figure 10 ‣ FedScale Runtime is easily deployable and extensible with plugins ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> and Table <a href="#A3.T6" title="Table 6 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, and are aware of at least one group who ran FedScale Runtime with more than 60 GPUs <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<figure id="A3.T6" class="ltx_table">
<table id="A3.T6.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A3.T6.1.1.1" class="ltx_tr">
<td id="A3.T6.1.1.1.1" class="ltx_td ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"></td>
<td id="A3.T6.1.1.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;" colspan="4"><span id="A3.T6.1.1.1.2.1" class="ltx_text" style="font-size:80%;">Eval. Duration/Round vs. # of Clients/Round</span></td>
</tr>
<tr id="A3.T6.1.2.2" class="ltx_tr">
<td id="A3.T6.1.2.2.1" class="ltx_td ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"></td>
<td id="A3.T6.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.2.2.2.1" class="ltx_text" style="font-size:80%;">10</span></td>
<td id="A3.T6.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.2.2.3.1" class="ltx_text" style="font-size:80%;">100</span></td>
<td id="A3.T6.1.2.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.2.2.4.1" class="ltx_text" style="font-size:80%;">1K</span></td>
<td id="A3.T6.1.2.2.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.2.2.5.1" class="ltx_text" style="font-size:80%;">10K</span></td>
</tr>
<tr id="A3.T6.1.3.3" class="ltx_tr">
<td id="A3.T6.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.3.3.1.1" class="ltx_text ltx_font_bold" style="font-size:80%;">FedScale</span></td>
<td id="A3.T6.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.3.3.2.1" class="ltx_text ltx_font_bold" style="font-size:80%;">0.03 min</span></td>
<td id="A3.T6.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.3.3.3.1" class="ltx_text ltx_font_bold" style="font-size:80%;">0.16 min</span></td>
<td id="A3.T6.1.3.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.3.3.4.1" class="ltx_text ltx_font_bold" style="font-size:80%;">1.14 min</span></td>
<td id="A3.T6.1.3.3.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.3.3.5.1" class="ltx_text ltx_font_bold" style="font-size:80%;">10.9 min</span></td>
</tr>
<tr id="A3.T6.1.4.4" class="ltx_tr">
<td id="A3.T6.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.4.4.1.1" class="ltx_text" style="font-size:80%;">FedML</span></td>
<td id="A3.T6.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.4.4.2.1" class="ltx_text" style="font-size:80%;">0.58 min</span></td>
<td id="A3.T6.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.4.4.3.1" class="ltx_text" style="font-size:80%;">4.4 min</span></td>
<td id="A3.T6.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.4.4.4.1" class="ltx_text" style="font-size:80%;">fail to run</span></td>
<td id="A3.T6.1.4.4.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.4.4.5.1" class="ltx_text" style="font-size:80%;">fail to run</span></td>
</tr>
<tr id="A3.T6.1.5.5" class="ltx_tr">
<td id="A3.T6.1.5.5.1" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.5.5.1.1" class="ltx_text" style="font-size:80%;">Flower</span></td>
<td id="A3.T6.1.5.5.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.5.5.2.1" class="ltx_text" style="font-size:80%;">0.05 min</span></td>
<td id="A3.T6.1.5.5.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.5.5.3.1" class="ltx_text" style="font-size:80%;">0.23 min</span></td>
<td id="A3.T6.1.5.5.4" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.5.5.4.1" class="ltx_text" style="font-size:80%;">2.4 min</span></td>
<td id="A3.T6.1.5.5.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_t" style="padding-top:0.4pt;padding-bottom:0.4pt;"><span id="A3.T6.1.5.5.5.1" class="ltx_text" style="font-size:80%;">fail to run</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:80%;"><span class="ltx_tag ltx_tag_table">Table 6: </span>FedScale is more scalable and faster. Image classification on iNature dataset using MobileNet-V2 on 20-GPU setting.</figcaption>
</figure>
<figure id="A3.F17" class="ltx_figure">
<div id="A3.F17.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_align_center ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnJvbSBmZWRzY2FsZS5jb3JlLmNsaWVudF9tYW5hZ2VyIGltcG9ydCBDbGllbnRNYW5hZ2VyCmltcG9ydCBPb3J0CgpjbGFzcyBDdXN0b21pemVkX0NsaWVudE1hbmFnZXIoQ2xpZW50TWFuYWdlcik6CglkZWYgX19pbml0X18oc2VsZiwgKmFyZ3MpOgoJCXN1cGVyKCkuX19pbml0X18oKmFyZ3MpCgkJc2VsZi5vb3J0X3NlbGVjdG9yID0gT29ydC5jcmVhdGVfdHJhaW5pbmdfc2VsZWN0b3IoKmFyZ3MpCgogICMgUmVwbGFjZSBkZWZhdWx0IGNsaWVudCBzZWxlY3Rpb24gYWxnb3JpdGhtIHcvIE9vcnQKICBkZWYgc2VsZWN0X3BhcnRpY2lwYW50cyhzZWxmLCBudW1PZkNsaWVudHMsIGN1cl90aW1lLCBmZWVkYmFja3MpOgoJCSMgRmVlZCBPb3J0IHcvIGV4ZWN1dGlvbiBmZWVkYmFja3MKCQlvb3J0X3NlbGVjdG9yLnVwZGF0ZV9jbGllbnRfaW5mbyhmZWVkYmFja3MpCgkJc2VsZWN0ZWRfY2xpZW50cyA9IG9vcnRfc2VsZWN0b3Iuc2VsZWN0X3BhcnRpY2lwYW50cygKCQkJbnVtT2ZDbGllbnRzLCBjdXJfdGltZSkKCgkJcmV0dXJuIHNlbGVjdGVkX2NsaWVudHM=" download="">⬇</a></div>
<div id="lstnumberx23" class="ltx_listingline">
<span id="lstnumberx23.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx23.1.1" class="ltx_text" style="color:#0000FF;">from</span></span><span id="lstnumberx23.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx23.3" class="ltx_text ltx_lst_emph ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#FF00FF;">fedscale</span><span id="lstnumberx23.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx23.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">core</span><span id="lstnumberx23.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx23.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_manager</span><span id="lstnumberx23.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx23.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx23.9.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx23.10" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx23.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">ClientManager</span>
</div>
<div id="lstnumberx24" class="ltx_listingline">
<span id="lstnumberx24.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx24.1.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx24.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx24.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Oort</span>
</div>
<div id="lstnumberx25" class="ltx_listingline">
</div>
<div id="lstnumberx26" class="ltx_listingline">
<span id="lstnumberx26.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx26.1.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx26.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx26.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Customized_ClientManager</span><span id="lstnumberx26.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx26.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">ClientManager</span><span id="lstnumberx26.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx27" class="ltx_listingline">
<span id="lstnumberx27.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">   </span><span id="lstnumberx27.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx27.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx27.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx27.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">__init__</span><span id="lstnumberx27.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx27.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx27.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx27.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx27.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">*</span><span id="lstnumberx27.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx27.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx28" class="ltx_listingline">
<span id="lstnumberx28.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx28.2" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx28.2.1" class="ltx_text" style="color:#0000FF;">super</span></span><span id="lstnumberx28.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">().</span><span id="lstnumberx28.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">__init__</span><span id="lstnumberx28.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(*</span><span id="lstnumberx28.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx28.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx29" class="ltx_listingline">
<span id="lstnumberx29.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx29.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx29.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx29.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">oort_selector</span><span id="lstnumberx29.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx29.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx29.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx29.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Oort</span><span id="lstnumberx29.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx29.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">create_training_selector</span><span id="lstnumberx29.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(*</span><span id="lstnumberx29.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx29.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx30" class="ltx_listingline">
</div>
<div id="lstnumberx31" class="ltx_listingline">
<span id="lstnumberx31.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx31.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx31.2.1" class="ltx_text ltx_lst_space"> </span>Replace<span id="lstnumberx31.2.2" class="ltx_text ltx_lst_space"> </span>default<span id="lstnumberx31.2.3" class="ltx_text ltx_lst_space"> </span>client<span id="lstnumberx31.2.4" class="ltx_text ltx_lst_space"> </span>selection<span id="lstnumberx31.2.5" class="ltx_text ltx_lst_space"> </span>algorithm<span id="lstnumberx31.2.6" class="ltx_text ltx_lst_space"> </span>w/<span id="lstnumberx31.2.7" class="ltx_text ltx_lst_space"> </span>Oort</span>
</div>
<div id="lstnumberx32" class="ltx_listingline">
<span id="lstnumberx32.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx32.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx32.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx32.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx32.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">select_participants</span><span id="lstnumberx32.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx32.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx32.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx32.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx32.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">numOfClients</span><span id="lstnumberx32.10" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx32.11" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx32.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">cur_time</span><span id="lstnumberx32.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx32.14" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx32.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">feedbacks</span><span id="lstnumberx32.16" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx33" class="ltx_listingline">
<span id="lstnumberx33.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx33.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx33.2.1" class="ltx_text ltx_lst_space"> </span>Feed<span id="lstnumberx33.2.2" class="ltx_text ltx_lst_space"> </span>Oort<span id="lstnumberx33.2.3" class="ltx_text ltx_lst_space"> </span>w/<span id="lstnumberx33.2.4" class="ltx_text ltx_lst_space"> </span>execution<span id="lstnumberx33.2.5" class="ltx_text ltx_lst_space"> </span>feedbacks</span>
</div>
<div id="lstnumberx34" class="ltx_listingline">
<span id="lstnumberx34.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx34.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">oort_selector</span><span id="lstnumberx34.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx34.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">update_client_info</span><span id="lstnumberx34.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx34.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">feedbacks</span><span id="lstnumberx34.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx35" class="ltx_listingline">
<span id="lstnumberx35.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx35.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">selected_clients</span><span id="lstnumberx35.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx35.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx35.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx35.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">oort_selector</span><span id="lstnumberx35.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx35.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">select_participants</span><span id="lstnumberx35.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx36" class="ltx_listingline">
<span id="lstnumberx36.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx36.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">numOfClients</span><span id="lstnumberx36.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx36.4" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx36.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">cur_time</span><span id="lstnumberx36.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx37" class="ltx_listingline">
</div>
<div id="lstnumberx38" class="ltx_listingline">
<span id="lstnumberx38.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx38.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx38.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx38.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx38.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">selected_clients</span>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 17: </span>Evaluate client selection algorithm <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite>.</figcaption>
</figure>
<figure id="A3.F19" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A3.F19.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:215.9pt;">
<div id="A3.F19.fig1.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnJvbSBmZWRzY2FsZS5jb3JlLmNsaWVudCBpbXBvcnQgQ2xpZW50CgpjbGFzcyBDdXN0b21pemVkX0NsaWVudChDbGllbnQpOgojIEN1c3RvbWl6ZSB0aGUgdHJhaW5pbmcgb24gZWFjaCBjbGllbnQKICBkZWYgdHJhaW4oc2VsZixjbGllbnRfZGF0YSxtb2RlbCxjb25mKToKICAJCSMgR2V0IHRoZSB0cmFpbmluZyByZXN1bHQgZnJvbQogIAkJIyB0aGUgZGVmYXVsdCB0cmFpbmluZyBjb21wb25lbnQKCQl0cmFpbmluZ19yZXN1bHQgPSBzdXBlcigpLnRyYWluKAoJCQkJY2xpZW50X2RhdGEsIG1vZGVsLCBjb25mKQoKCQkjIEltcGxlbWVudGF0aW9uIG9mIGNvbXByZXNzaW9uCgkJY29tcHJlc3NlZF9yZXN1bHQgPSBjb21wcmVzc19pbXBsKHRyYWluaW5nX3Jlc3VsdCkKCQlyZXR1cm4gY29tcHJlc3NlZF9yZXN1bHQ=" download="">⬇</a></div>
<div id="lstnumberx39" class="ltx_listingline">
<span id="lstnumberx39.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx39.1.1" class="ltx_text" style="color:#0000FF;">from</span></span><span id="lstnumberx39.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx39.3" class="ltx_text ltx_lst_emph ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#FF00FF;">fedscale</span><span id="lstnumberx39.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx39.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">core</span><span id="lstnumberx39.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx39.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx39.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx39.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx39.9.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx39.10" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx39.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span>
</div>
<div id="lstnumberx40" class="ltx_listingline">
</div>
<div id="lstnumberx41" class="ltx_listingline">
<span id="lstnumberx41.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx41.1.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx41.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx41.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Customized_Client</span><span id="lstnumberx41.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx41.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span><span id="lstnumberx41.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx42" class="ltx_listingline">
<span id="lstnumberx42.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx42.1.1" class="ltx_text ltx_lst_space"> </span>Customize<span id="lstnumberx42.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx42.1.3" class="ltx_text ltx_lst_space"> </span>training<span id="lstnumberx42.1.4" class="ltx_text ltx_lst_space"> </span>on<span id="lstnumberx42.1.5" class="ltx_text ltx_lst_space"> </span>each<span id="lstnumberx42.1.6" class="ltx_text ltx_lst_space"> </span>client</span>
</div>
<div id="lstnumberx43" class="ltx_listingline">
<span id="lstnumberx43.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx43.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx43.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx43.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx43.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx43.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx43.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx43.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx43.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx43.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx43.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx43.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx43.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx43.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx44" class="ltx_listingline">
<span id="lstnumberx44.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx44.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx44.2.1" class="ltx_text ltx_lst_space"> </span>Get<span id="lstnumberx44.2.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx44.2.3" class="ltx_text ltx_lst_space"> </span>training<span id="lstnumberx44.2.4" class="ltx_text ltx_lst_space"> </span>result<span id="lstnumberx44.2.5" class="ltx_text ltx_lst_space"> </span>from</span>
</div>
<div id="lstnumberx45" class="ltx_listingline">
<span id="lstnumberx45.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx45.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx45.2.1" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx45.2.2" class="ltx_text ltx_lst_space"> </span>default<span id="lstnumberx45.2.3" class="ltx_text ltx_lst_space"> </span>training<span id="lstnumberx45.2.4" class="ltx_text ltx_lst_space"> </span>component</span>
</div>
<div id="lstnumberx46" class="ltx_listingline">
<span id="lstnumberx46.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx46.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span><span id="lstnumberx46.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx46.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx46.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx46.6" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx46.6.1" class="ltx_text" style="color:#0000FF;">super</span></span><span id="lstnumberx46.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">().</span><span id="lstnumberx46.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx46.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx47" class="ltx_listingline">
<span id="lstnumberx47.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">            </span><span id="lstnumberx47.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx47.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx47.4" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx47.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx47.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx47.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx47.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx47.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx48" class="ltx_listingline">
</div>
<div id="lstnumberx49" class="ltx_listingline">
<span id="lstnumberx49.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx49.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx49.2.1" class="ltx_text ltx_lst_space"> </span>Implementation<span id="lstnumberx49.2.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx49.2.3" class="ltx_text ltx_lst_space"> </span>compression</span>
</div>
<div id="lstnumberx50" class="ltx_listingline">
<span id="lstnumberx50.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx50.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compressed_result</span><span id="lstnumberx50.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx50.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx50.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx50.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compress_impl</span><span id="lstnumberx50.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx50.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span><span id="lstnumberx50.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx51" class="ltx_listingline">
<span id="lstnumberx51.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx51.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx51.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx51.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx51.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compressed_result</span>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 18: </span>Evaluate model compression <cite class="ltx_cite ltx_citemacro_citep">(Rothchild et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>)</cite>.</figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A3.F19.fig2" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_middle" style="width:215.9pt;">
<div id="A3.F19.fig2.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,ZnJvbSBmZWRzY2FsZS5jb3JlLmNsaWVudCBpbXBvcnQgQ2xpZW50CgpjbGFzcyBDdXN0b21pemVkX0NsaWVudChDbGllbnQpOgojIEN1c3RvbWl6ZSB0aGUgdHJhaW5pbmcgb24gZWFjaCBjbGllbnQKICBkZWYgdHJhaW4oc2VsZixjbGllbnRfZGF0YSxtb2RlbCxjb25mKToKCQl0cmFpbmluZ19yZXN1bHQgPSBzdXBlcigpLnRyYWluKAoJCQkJY2xpZW50X2RhdGEsIG1vZGVsLCBjb25mKQoKCQkjIENsaXAgdXBkYXRlcyBhbmQgYWRkIG5vaXNlCgkJc2VjdXJlX3Jlc3VsdCA9IHNlY3VyZV9pbXBsKHRyYWluaW5nX3Jlc3VsdCkKCQlyZXR1cm4gc2VjdXJlX3Jlc3VsdA==" download="">⬇</a></div>
<div id="lstnumberx52" class="ltx_listingline">
<span id="lstnumberx52.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx52.1.1" class="ltx_text" style="color:#0000FF;">from</span></span><span id="lstnumberx52.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx52.3" class="ltx_text ltx_lst_emph ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#FF00FF;">fedscale</span><span id="lstnumberx52.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx52.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">core</span><span id="lstnumberx52.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx52.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx52.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx52.9" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx52.9.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx52.10" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx52.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span>
</div>
<div id="lstnumberx53" class="ltx_listingline">
</div>
<div id="lstnumberx54" class="ltx_listingline">
<span id="lstnumberx54.1" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx54.1.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx54.2" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx54.3" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Customized_Client</span><span id="lstnumberx54.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx54.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Client</span><span id="lstnumberx54.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx55" class="ltx_listingline">
<span id="lstnumberx55.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx55.1.1" class="ltx_text ltx_lst_space"> </span>Customize<span id="lstnumberx55.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx55.1.3" class="ltx_text ltx_lst_space"> </span>training<span id="lstnumberx55.1.4" class="ltx_text ltx_lst_space"> </span>on<span id="lstnumberx55.1.5" class="ltx_text ltx_lst_space"> </span>each<span id="lstnumberx55.1.6" class="ltx_text ltx_lst_space"> </span>client</span>
</div>
<div id="lstnumberx56" class="ltx_listingline">
<span id="lstnumberx56.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">  </span><span id="lstnumberx56.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx56.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx56.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx56.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx56.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx56.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx56.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx56.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx56.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx56.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx56.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx56.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx56.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx57" class="ltx_listingline">
<span id="lstnumberx57.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx57.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span><span id="lstnumberx57.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx57.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx57.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx57.6" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx57.6.1" class="ltx_text" style="color:#0000FF;">super</span></span><span id="lstnumberx57.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">().</span><span id="lstnumberx57.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx57.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx58" class="ltx_listingline">
<span id="lstnumberx58.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">            </span><span id="lstnumberx58.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_data</span><span id="lstnumberx58.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx58.4" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx58.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">model</span><span id="lstnumberx58.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx58.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx58.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">conf</span><span id="lstnumberx58.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx59" class="ltx_listingline">
</div>
<div id="lstnumberx60" class="ltx_listingline">
<span id="lstnumberx60.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx60.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx60.2.1" class="ltx_text ltx_lst_space"> </span>Clip<span id="lstnumberx60.2.2" class="ltx_text ltx_lst_space"> </span>updates<span id="lstnumberx60.2.3" class="ltx_text ltx_lst_space"> </span>and<span id="lstnumberx60.2.4" class="ltx_text ltx_lst_space"> </span>add<span id="lstnumberx60.2.5" class="ltx_text ltx_lst_space"> </span>noise</span>
</div>
<div id="lstnumberx61" class="ltx_listingline">
<span id="lstnumberx61.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx61.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">secure_result</span><span id="lstnumberx61.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx61.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx61.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx61.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">secure_impl</span><span id="lstnumberx61.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx61.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span><span id="lstnumberx61.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx62" class="ltx_listingline">
<span id="lstnumberx62.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx62.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx62.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx62.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx62.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">secure_result</span>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 19: </span>Evaluate security enhancement <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a href="#bib.bib51" title="" class="ltx_ref">2019</a>)</cite>.</figcaption>
</figure>
</div>
</div>
</figure>
<figure id="A3.F20" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="A3.F20.1" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:215.9pt;">
<div id="A3.F20.1.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CQlpbXBvcnQgZmx3ciBhcyBmbAoJCQoJCWRlZiBnZXRfY29uZmlnX2ZuKCk6CgkJCSMgSW1wbGVtZW50YXRpb24gb2YgcmFuZG9tbHkgc2VsZWN0aW9uCgkJCWNsaWVudF9pZHMgPSBAXG15dGlrem1hcmt7aDFzdGFydH1AcmFuZG9tX3NlbGVjdGlvbkBcbXl0aWt6bWFya3toMWVuZH1AKCkKCQkJY29uZmlnID0geyJpZHMiOiBjbGllbnRfaWRzfQoJCQlyZXR1cm4gY29uZmlnCgoJCSMgQ3VzdG9taXplZCBTdHJhdGVneQoJCXN0cmF0ZWd5ID0gQFxteXRpa3ptYXJre2gyc3RhcnR9QEN1c3RvbWl6ZWRTdHJhdGVneUBcbXl0aWt6bWFya3toMmVuZH1AKAoJCQlvbl9maXRfY29uZmlnX2ZuPWdldF9jb25maWdfZm4oKSkKCgkJZmwuc2VydmVyLnN0YXJ0X3NlcnZlcigKCQkJY29uZmlnPXsibnVtX3JvdW5kcyI6YXJncy5yb3VuZH0sCgkJCXN0cmF0ZWd5PXN0cmF0ZWd5KQ==" download="">⬇</a></div>
<div id="lstnumberx63" class="ltx_listingline">
<span id="lstnumberx63.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx63.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx63.2.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx63.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx63.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">flwr</span><span id="lstnumberx63.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx63.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">as</span><span id="lstnumberx63.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx63.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">fl</span>
</div>
<div id="lstnumberx64" class="ltx_listingline">
</div>
<div id="lstnumberx65" class="ltx_listingline">
<span id="lstnumberx65.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx65.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx65.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx65.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx65.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">get_config_fn</span><span id="lstnumberx65.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">():</span>
</div>
<div id="lstnumberx66" class="ltx_listingline">
<span id="lstnumberx66.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx66.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx66.2.1" class="ltx_text ltx_lst_space"> </span>Implementation<span id="lstnumberx66.2.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx66.2.3" class="ltx_text ltx_lst_space"> </span>randomly<span id="lstnumberx66.2.4" class="ltx_text ltx_lst_space"> </span>selection</span>
</div>
<div id="lstnumberx67" class="ltx_listingline">
<span id="lstnumberx67.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx67.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_ids</span><span id="lstnumberx67.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx67.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx67.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx67.1" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx67.1.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx67.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">random_selection</span><span id="lstnumberx67.2" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx67.2.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx67.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">()</span>
</div>
<div id="lstnumberx68" class="ltx_listingline">
<span id="lstnumberx68.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx68.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">config</span><span id="lstnumberx68.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx68.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx68.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx68.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">{</span><span id="lstnumberx68.7" class="ltx_text ltx_lst_string ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#9400D1;">"ids"</span><span id="lstnumberx68.8" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">:</span><span id="lstnumberx68.9" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx68.10" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client_ids</span><span id="lstnumberx68.11" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">}</span>
</div>
<div id="lstnumberx69" class="ltx_listingline">
<span id="lstnumberx69.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx69.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx69.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx69.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx69.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">config</span>
</div>
<div id="lstnumberx70" class="ltx_listingline">
</div>
<div id="lstnumberx71" class="ltx_listingline">
<span id="lstnumberx71.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx71.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx71.2.1" class="ltx_text ltx_lst_space"> </span>Customized<span id="lstnumberx71.2.2" class="ltx_text ltx_lst_space"> </span>Strategy</span>
</div>
<div id="lstnumberx72" class="ltx_listingline">
<span id="lstnumberx72.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx72.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">strategy</span><span id="lstnumberx72.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx72.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx72.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx72.1" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx72.1.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx72.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">CustomizedStrategy</span><span id="lstnumberx72.2" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx72.2.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx72.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx73" class="ltx_listingline">
<span id="lstnumberx73.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx73.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">on_fit_config_fn</span><span id="lstnumberx73.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx73.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">get_config_fn</span><span id="lstnumberx73.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">())</span>
</div>
<div id="lstnumberx74" class="ltx_listingline">
</div>
<div id="lstnumberx75" class="ltx_listingline">
<span id="lstnumberx75.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx75.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">fl</span><span id="lstnumberx75.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx75.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">server</span><span id="lstnumberx75.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx75.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">start_server</span><span id="lstnumberx75.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx76" class="ltx_listingline">
<span id="lstnumberx76.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx76.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">config</span><span id="lstnumberx76.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">={</span><span id="lstnumberx76.4" class="ltx_text ltx_lst_string ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#9400D1;">"num_rounds"</span><span id="lstnumberx76.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">:</span><span id="lstnumberx76.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx76.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx76.8" class="ltx_text ltx_lst_keyword ltx_lst_keywords2 ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx76.8.1" class="ltx_text" style="color:#0000FF;">round</span></span><span id="lstnumberx76.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">},</span>
</div>
<div id="lstnumberx77" class="ltx_listingline">
<span id="lstnumberx77.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx77.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">strategy</span><span id="lstnumberx77.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx77.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">strategy</span><span id="lstnumberx77.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
</div>
<svg id="A3.F20.1.pic1" class="ltx_picture ltx_centering" height="19.37" overflow="visible" version="1.1" width="19.37"><g transform="translate(0,19.37) matrix(1 0 0 -1 0 0) translate(9.69,0) translate(0,4.15)"><g stroke="#808080" fill="#808080" fill-opacity="0.3" stroke-opacity="0.3" stroke-width="14.0pt" color="#808080"><path d="M 0 5.53 L 0 5.53" style="fill:none"></path></g><g stroke="#808080" fill="#808080" fill-opacity="0.3" stroke-opacity="0.3" stroke-width="14.0pt" color="#808080"><path d="M 0 5.53 L 0 5.53" style="fill:none"></path></g></g></svg>
</div>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<div id="A3.F20.2" class="ltx_block ltx_figure_panel ltx_minipage ltx_align_middle" style="width:215.9pt;">
<div id="A3.F20.2.1" class="ltx_listing ltx_lst_language_Python ltx_lstlisting ltx_listing">
<div class="ltx_listing_data"><a href="data:text/plain;base64,CWltcG9ydCBmbHdyIGFzIGZsCgoJY2xhc3MgQ3VzdG9taXplZF9DbGllbnQoKToKCQlkZWYgZml0KHNlbGYsIGNvbmZpZywgbmV0KToKCQkJIyBDdXN0b21pemF0aW9uIG9mIGNsaWVudCBkYXRhCgkJCXRyYWlubG9hZGVyID0gQFxteXRpa3ptYXJre2gxc3RhcnR9QHNlbGVjdF9kYXRhc2V0QFxteXRpa3ptYXJre2gxZW5kfUAoCgkJCQljb25maWdbImlkcyJdW2FyZ3MucGFydGl0aW9uXSkKCQkJdHJhaW4obmV0LCB0cmFpbmxvYWRlcikKCQkJY29tcHJlc3NlZF9yZXN1bHQgPSBzZWxmLmdldF9wYXJhbWV0ZXJzKCkKCQkJIyBJbXBsZW1lbnRhdGlvbiBvZiBjb21wcmVzc2lvbgoJCQljb21wcmVzc2VkX3Jlc3VsdCA9IGNvbXByZXNzX2ltcGwoCgkJCQkJdHJhaW5pbmdfcmVzdWx0KQoJCQlyZXR1cm4gY29tcHJlc3NlZF9yZXN1bHQKCQoJZmwuY2xpZW50LnN0YXJ0X251bXB5X2NsaWVudCgKCQlhcmdzLmFkZHJlc3MsIGNsaWVudD1DdXN0b21pemVkQ2xpZW50KCkp" download="">⬇</a></div>
<div id="lstnumberx78" class="ltx_listingline">
<span id="lstnumberx78.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">   </span><span id="lstnumberx78.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx78.2.1" class="ltx_text" style="color:#0000FF;">import</span></span><span id="lstnumberx78.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx78.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">flwr</span><span id="lstnumberx78.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx78.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">as</span><span id="lstnumberx78.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx78.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">fl</span>
</div>
<div id="lstnumberx79" class="ltx_listingline">
</div>
<div id="lstnumberx80" class="ltx_listingline">
<span id="lstnumberx80.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">   </span><span id="lstnumberx80.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx80.2.1" class="ltx_text" style="color:#0000FF;">class</span></span><span id="lstnumberx80.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx80.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">Customized_Client</span><span id="lstnumberx80.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">():</span>
</div>
<div id="lstnumberx81" class="ltx_listingline">
<span id="lstnumberx81.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx81.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx81.2.1" class="ltx_text" style="color:#0000FF;">def</span></span><span id="lstnumberx81.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx81.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">fit</span><span id="lstnumberx81.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx81.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx81.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx81.8" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx81.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">config</span><span id="lstnumberx81.10" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx81.11" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx81.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">net</span><span id="lstnumberx81.13" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">):</span>
</div>
<div id="lstnumberx82" class="ltx_listingline">
<span id="lstnumberx82.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx82.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx82.2.1" class="ltx_text ltx_lst_space"> </span>Customization<span id="lstnumberx82.2.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx82.2.3" class="ltx_text ltx_lst_space"> </span>client<span id="lstnumberx82.2.4" class="ltx_text ltx_lst_space"> </span>data</span>
</div>
<div id="lstnumberx83" class="ltx_listingline">
<span id="lstnumberx83.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx83.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">trainloader</span><span id="lstnumberx83.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx83.6" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx83.7" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx83.1" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx83.1.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx83.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">select_dataset</span><span id="lstnumberx83.2" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> <svg id="lstnumberx83.2.pic1" class="ltx_picture" height="1" overflow="visible" version="1.1" width="1"><g transform="translate(0,1) matrix(1 0 0 -1 0 0)"></g></svg></span><span id="lstnumberx83.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx84" class="ltx_listingline">
<span id="lstnumberx84.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">            </span><span id="lstnumberx84.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">config</span><span id="lstnumberx84.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">[</span><span id="lstnumberx84.4" class="ltx_text ltx_lst_string ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#9400D1;">"ids"</span><span id="lstnumberx84.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">][</span><span id="lstnumberx84.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx84.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx84.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">partition</span><span id="lstnumberx84.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">])</span>
</div>
<div id="lstnumberx85" class="ltx_listingline">
<span id="lstnumberx85.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx85.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">train</span><span id="lstnumberx85.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span><span id="lstnumberx85.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">net</span><span id="lstnumberx85.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx85.6" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx85.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">trainloader</span><span id="lstnumberx85.8" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx86" class="ltx_listingline">
<span id="lstnumberx86.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx86.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compressed_result</span><span id="lstnumberx86.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx86.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx86.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx86.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">self</span><span id="lstnumberx86.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx86.8" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">get_parameters</span><span id="lstnumberx86.9" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">()</span>
</div>
<div id="lstnumberx87" class="ltx_listingline">
<span id="lstnumberx87.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx87.2" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_bold" style="font-size:70%;color:#009900;">#<span id="lstnumberx87.2.1" class="ltx_text ltx_lst_space"> </span>Implementation<span id="lstnumberx87.2.2" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx87.2.3" class="ltx_text ltx_lst_space"> </span>compression</span>
</div>
<div id="lstnumberx88" class="ltx_listingline">
<span id="lstnumberx88.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx88.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compressed_result</span><span id="lstnumberx88.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx88.4" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx88.5" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx88.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compress_impl</span><span id="lstnumberx88.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx89" class="ltx_listingline">
<span id="lstnumberx89.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">               </span><span id="lstnumberx89.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">training_result</span><span id="lstnumberx89.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">)</span>
</div>
<div id="lstnumberx90" class="ltx_listingline">
<span id="lstnumberx90.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">         </span><span id="lstnumberx90.2" class="ltx_text ltx_lst_keyword ltx_font_typewriter ltx_font_bold" style="font-size:70%;"><span id="lstnumberx90.2.1" class="ltx_text" style="color:#0000FF;">return</span></span><span id="lstnumberx90.3" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx90.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">compressed_result</span>
</div>
<div id="lstnumberx91" class="ltx_listingline">
</div>
<div id="lstnumberx92" class="ltx_listingline">
<span id="lstnumberx92.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">   </span><span id="lstnumberx92.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">fl</span><span id="lstnumberx92.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx92.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx92.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx92.6" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">start_numpy_client</span><span id="lstnumberx92.7" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">(</span>
</div>
<div id="lstnumberx93" class="ltx_listingline">
<span id="lstnumberx93.1" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;">      </span><span id="lstnumberx93.2" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">args</span><span id="lstnumberx93.3" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">.</span><span id="lstnumberx93.4" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">address</span><span id="lstnumberx93.5" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">,</span><span id="lstnumberx93.6" class="ltx_text ltx_lst_space ltx_font_typewriter ltx_font_bold" style="font-size:70%;"> </span><span id="lstnumberx93.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">client</span><span id="lstnumberx93.8" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">=</span><span id="lstnumberx93.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter ltx_font_bold" style="font-size:70%;">CustomizedClient</span><span id="lstnumberx93.10" class="ltx_text ltx_font_typewriter ltx_font_bold" style="font-size:70%;">())</span>
</div>
</div>
<svg id="A3.F20.2.pic1" class="ltx_picture ltx_centering" height="19.37" overflow="visible" version="1.1" width="19.37"><g transform="translate(0,19.37) matrix(1 0 0 -1 0 0) translate(9.69,0) translate(0,4.15)" fill="#808080" fill-opacity="0.3" stroke="#808080" stroke-opacity="0.3" stroke-width="14.0pt" color="#808080"><path d="M 0 5.53 L 0 5.53" style="fill:none"></path></g></svg>
</div>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 20: </span>Evaluate model compression with Flower <cite class="ltx_cite ltx_citemacro_citep">(Beutel et al., <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>. The developer needs to implement the functions in grey by his own. Note that each function can take tens of lines of code.</figcaption>
</figure>
</section>
<section id="A3.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Modularity</h4>

<div id="A3.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="A3.SS0.SSS0.Px4.p1.1" class="ltx_p">As shown in Table <a href="#S1.T1" title="Table 1 ‣ 1 Introduction ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, some existing frameworks (e.g., LEAF and FedEval) do not provide user-friendly modularity, which requires great engineering efforts to benchmark different components, and we recognize that FedML and Flower provide the API modularity too.</p>
</div>
<div id="A3.SS0.SSS0.Px4.p2" class="ltx_para">
<p id="A3.SS0.SSS0.Px4.p2.1" class="ltx_p">On the other hand, FedScale Runtime’s modularity for easy deployments and broader use cases is not limited to APIs (Figure <a href="#S4.F8" title="Figure 8 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>): (1) FedScale Runtime Data Loader: it simplifies and expands the use of realistic datasets. e.g., developers can load and analyze the realistic FL data to motivate new algorithm designs, or imports new datasets/customize data distributions in FedScale evaluations; (2) Client simulator: it emulates the system behaviors of FL clients, and developers can customize their system traces in evaluating the FL system efficiency too; (3) Resource manager: it hides the system complexity in training large-scale participants.
</p>
</div>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Examples of New Plugins</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">In this section, we demonstrate examples to show the ease of integrating today’s FL efforts in FedScale evaluations.</p>
</div>
<div id="A4.p2" class="ltx_para">
<p id="A4.p2.1" class="ltx_p">At its core, FedScale Runtime provides flexible APIs on each module so that the developer can access and customize methods of the base class. Table <a href="#S4.F9" title="Figure 9 ‣ 4.2 FedScale Runtime: Cluster Backend ‣ 4 FedScale Runtime: Evaluation Platform ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> illustrates some example APIs that can facilitate diverse FL efforts. Note that FedScale Runtime will automatically integrate new plugins into evaluations, and then produces practical FL metrics.
Figure <a href="#A3.F17" title="Figure 17 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17</span></a> demonstrates that we can easily evaluate new client selection algorithms, Oort <cite class="ltx_cite ltx_citemacro_citep">(Lai et al., <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite>, by modifying a few lines of the <span id="A4.p2.1.1" class="ltx_text ltx_font_typewriter">clientManager</span> module. Similarly, Figure <a href="#A3.F19" title="Figure 19 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">19</span></a> and Figure <a href="#A3.F19" title="Figure 19 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">19</span></a> show that we can extend the basic <span id="A4.p2.1.2" class="ltx_text ltx_font_typewriter">Client</span> module to apply new gradient compression <cite class="ltx_cite ltx_citemacro_citep">(Rothchild et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>)</cite> and enhancement for malicious attack <cite class="ltx_cite ltx_citemacro_citep">(Sun et al., <a href="#bib.bib51" title="" class="ltx_ref">2019</a>)</cite>, respectively.</p>
</div>
<section id="A4.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Comparison with other work</h4>

<div id="A4.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="A4.SS0.SSS0.Px1.p1.1" class="ltx_p">Figure <a href="#A3.F20" title="Figure 20 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">20</span></a> shows the same evaluation of gradient compression <cite class="ltx_cite ltx_citemacro_citep">(Rothchild et al., <a href="#bib.bib45" title="" class="ltx_ref">2020</a>)</cite> as that in Figure <a href="#A3.F19" title="Figure 19 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">19</span></a> using flower <cite class="ltx_cite ltx_citemacro_citep">(Beutel et al., <a href="#bib.bib12" title="" class="ltx_ref">2021</a>)</cite>, which requires much more human efforts than Figure <a href="#A3.F19" title="Figure 19 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">19</span></a>. The gray components in figure <a href="#A3.F20" title="Figure 20 ‣ Scalability ‣ Appendix C Comparison with Existing FL Benchmarks ‣ FedScale: Benchmarking Model and System Performance of Federated Learning at Scale" class="ltx_ref"><span class="ltx_text ltx_ref_tag">20</span></a> requires implementation. Flower falls short in providing APIs for passing metadata between client and server, for example client id, which makes server and running workers client-agnostic. To customized anything for clients during FL training, developers have to go through the source code and override many components to share client meta data between server and workers.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2105.11366" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2105.11367" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2105.11367">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2105.11367" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2105.11368" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Mar  7 00:44:10 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
