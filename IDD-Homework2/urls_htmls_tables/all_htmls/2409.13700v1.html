<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation</title>
<!--Generated on Thu Sep  5 02:46:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2409.13700v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S1" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S2" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S3" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Problem Statement</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS1" title="In 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Framework Overview.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2" title="In 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Role Agents.</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS1" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Manager</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS2" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>Reflector</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS3" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.3 </span>DataAgent</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS4" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.4 </span>Navigator</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS5" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.5 </span>Analyst</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS6" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.6 </span>UserAgent</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS7" title="In 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.7 </span>Searcher</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS1" title="In 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Experiment Setup</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS2" title="In 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Main Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS3" title="In 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>User Cold Start Analysis.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS4" title="In 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Case Study</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS5" title="In 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.5 </span>Ablation Study</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S6" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S7" title="In MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Acknowledgment</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span class="ltx_note ltx_role_institutetext" id="id1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>
<sup class="ltx_sup" id="id1.1">1</sup>Beijing Normal University-Hong Kong Baptist University United International College, Zhuhai 519000, China
<br class="ltx_break"/><sup class="ltx_sup" id="id1.2">2</sup>University of Warwick, Coventry CV4 7AL, United Kingdom
<br class="ltx_break"/><span class="ltx_note ltx_role_email" id="id1.3"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>r130034042@mail.uic.edu.cn, r130034029@mail.uic.edu.cn, Jiapeng.Yu@warwick.ac.uk</span></span></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id1.4">†</sup><span class="ltx_text ltx_font_italic" id="id1.5">Corresponding author: raymondshtlee@uic.edu.cn</span>
</span></span></span>
<h1 class="ltx_title ltx_title_document">MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Yuqian Wu<sup class="ltx_sup" id="id1.1.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Yuhong Peng<sup class="ltx_sup" id="id2.1.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Jiapeng Yu<sup class="ltx_sup" id="id3.1.id1">2</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> and Raymond S. T. Lee<sup class="ltx_sup" id="id4.1.id1">1,</sup><sup class="ltx_sup" id="id5.2.id2">†</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Member
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> IEEE
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id6.id1">LLM-based Multi-Agent Systems have potential benefits of complex decision-making tasks management across various domains but their applications in the next Point-of-Interest (POI) recommendation remain underexplored.
This paper proposes a novel MAS4POI system designed to enhance next POI recommendations through multi-agent interactions. MAS4POI supports Large Language Models (LLMs) specializing in distinct agents such as DataAgent, Manager, Analyst, and Navigator with each contributes to a collaborative process of generating the next POI recommendations.
The system is examined by integrating six distinct LLMs and evaluated by two real-world datasets for recommendation accuracy improvement in real-world scenarios.
Our code is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/yuqian2003/MAS4POI" title="">https://github.com/yuqian2003/MAS4POI</a>.</p>
<p class="ltx_p" id="id7.id2"><span class="ltx_text ltx_font_bold" id="id7.id2.1">Keywords:</span> Multi-Agent Collaboration, Next POI Recommendation, Large Language Models.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Location-Based Social Networks (LBSNs) like Foursquare and Facebook Places platforms have induced smartphone technology advancement by providing users social opportunities to share check-in records, images, and Points of Interest (POIs) reviews.
They have generated a wealth of data and new avenues for academia and industrial research on POI recommendation systems, a subfield of recommender systems.
The next POI Recommendation are designs to predict a user’s probable location supported by historical data such as geographical contexts, temporal patterns and personal preferences.
An illustration of a user’s historical trajectory is shown in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="411" id="S1.F1.g1" src="x1.png" width="664"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">Illustration of a user’s historical trajectory (solid line) and the candidate POIs for the next visit (dashed line).</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">LLM-based multi-agent systems (MAS) specialize LLMs into distinct agents with each contributes to functionalities, and tailor the interactions among these agents for complex real-world tasks management [5]. LLM-based MAS collaborate with planning, discussion, decision-making, mirroring human group endeavour in problem-solving are effective in software development <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib6" title="">6</a>]</cite>, multi-robot systems <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib7" title="">7</a>]</cite>, social simulation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib8" title="">8</a>]</cite>, gaming <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib9" title="">9</a>]</cite>, science debate, code debugging <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib26" title="">26</a>]</cite>, and recommendation systems <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib10" title="">10</a>]</cite>.
However, their applications in the next POI recommendation remain underexplored.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">This paper proposes a Multi-Agent System for the next POI recommendation (MAS4POI). It has seven specialized agents: 1) DataAgent, 2) Manager, 3) Analyst, 4) Reflector, 5) UserAgent, 6) Searcher, and 7) Navigator.
The Manager regulates agent activities workflow and tasks allocation based on system status and resources.
The Reflector improves recommendation quality of iterative assessment and outputs refinement.
The DataAgent organizes relevant POI data to construct accurate embeddings and trajectory visualizations. The Navigator assists route planning to generate static maps for landmark recognition.
The Analyst considers user’s historical trajectory data, behavior, geographic and categorical relationships between POIs for recommendations.
The UserAgent manages user’s preferences and the Searcher accesses external data sources and responds to user .</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">MAS4POI is an initial LLM-based MAS for the next POI recommendation. The system is extensible to support LLMs and external tools like <span class="ltx_text ltx_font_typewriter" id="S1.p4.1.1">Wikipedia</span> and <span class="ltx_text ltx_font_typewriter" id="S1.p4.1.2">Amap</span> integration.
It can manage navigation, mitigate the cold start issues through agents collaboration with limited data for real-time Q&amp;A beyond POI recommendation.
The contributions of MAS4POI are to:</p>
</div>
<div class="ltx_para" id="S1.p5">
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">propose a versatile multi-agent system to support Large Language Models (LLMs) for the next Point-of-Interest (POI) recommendation that can extend seamlessly to diverse applications such as navigation and real-time question answering.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">propose seven specialized role-based agents— Manager, Reflector, Analyst, DataAgent, UserAgent, Searcher, and Navigator with each contributes to a collaborative process of task execution and iterative refinement.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">mitigate the cold start issues and validate system effectiveness on large-scale real-world datasets.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para ltx_noindent" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.p1.1.1">Next POI Recommendation.</span>
Traditional POI recommendation methods rely heavily on feature engineering like collaborative and content-based filtering to extract patterns such as check-in records and ratings from historical data  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib15" title="">15</a>]</cite>.
However, they struggle with large-scale dynamic data, cold-start issues, and often overlook environmental and temporal influences on travel preferences <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib4" title="">4</a>]</cite>.
Deep learning (DL) models like GNNs enhance recommendation quality by capturing complex spatial relationships and user interactions <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib13" title="">13</a>]</cite> requiring extensive labeled datasets, high computational costs, lack interpretability which hinder strategic planning and users trust to interact in real-time <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib4" title="">4</a>]</cite>.
Large Language Models (LLMs) have advantages in processing LBSN data textual features with embedded commonsense knowledge and broad understanding of everyday concepts  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib12" title="">12</a>]</cite>.
LLMs unify the heterogeneous data types processing to maintain contextual integrity.
They redefine the next POI recommendation task as an intuitive question-answering mode to mitigate cold-start issues effectively <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib25" title="">25</a>]</cite>, and their complex reasoning capabilities can interpret geographical correlations and sequential transitions in user movements often overlooked by traditional models  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib11" title="">11</a>]</cite>.
Although it remains difficult to fully capture geographical contexts and mitigate aberration but they have zero-shot recommendation scenarios potentials  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib24" title="">24</a>]</cite>.
LLMs can improve POI recommendations’ precision and clarity by integrating long-term and current user preferences with spatial analysis for personalized location-based services <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib12" title="">12</a>]</cite>.
MAS4POI framework is based on these strengths to specialize LLMs into distinct functional agents, collaborate with planning, discussion, decision-making, mirroring human group endeavour in problem-solving real-world interactions.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.p2.1.1">Multi-Agent Collaboration</span>
In multi-agent collaboration <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib1" title="">1</a>]</cite>, individual agents assess the requirements and capabilities of other agents and seek engagement on cooperative actions and information sharing.
This approach can improve task efficiency, collective decision-making and address unsolved real-world issues by single agent i.e. the next POI recommendation.
Specifically, downstream agents can focus on upstream agents’ outputs when they follow certain rules for organization <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib19" title="">19</a>]</cite>.
For example, AutoGen <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib16" title="">16</a>]</cite> and CAMEL <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib2" title="">2</a>]</cite> support the strengths of individual agents to foster cooperative relationships, while AgentVerse <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib17" title="">17</a>]</cite> assembles adaptive agent teams dynamically based on task complexity. MetaGPT  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib18" title="">18</a>]</cite> standardizes agent inputs/outputs into engineering documents and encodes them into agent prompts to structure collaboration among multiple agents inspired by the classical waterfall model in software development.
But, the lack of corresponding cooperative rules, frequent interactions between multiple agents can amplify aberrations indefinitely to hinder collaboration.
Furthermore, these multi-agent frameworks are unexplored in the next POI recommendation scenarios.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Problem Statement</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.3">The proposed MAS4POI is to construct a multi-agent collaboration system formalization as follows:
Consider a set of Points of Interest (POIs), denotes as <math alttext="P=\{p_{1},p_{2},\ldots,p_{M}\}" class="ltx_Math" display="inline" id="S3.p1.1.m1.4"><semantics id="S3.p1.1.m1.4a"><mrow id="S3.p1.1.m1.4.4" xref="S3.p1.1.m1.4.4.cmml"><mi id="S3.p1.1.m1.4.4.5" xref="S3.p1.1.m1.4.4.5.cmml">P</mi><mo id="S3.p1.1.m1.4.4.4" xref="S3.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S3.p1.1.m1.4.4.3.3" xref="S3.p1.1.m1.4.4.3.4.cmml"><mo id="S3.p1.1.m1.4.4.3.3.4" stretchy="false" xref="S3.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="S3.p1.1.m1.2.2.1.1.1" xref="S3.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.p1.1.m1.2.2.1.1.1.2" xref="S3.p1.1.m1.2.2.1.1.1.2.cmml">p</mi><mn id="S3.p1.1.m1.2.2.1.1.1.3" xref="S3.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.1.m1.4.4.3.3.5" xref="S3.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.p1.1.m1.3.3.2.2.2" xref="S3.p1.1.m1.3.3.2.2.2.cmml"><mi id="S3.p1.1.m1.3.3.2.2.2.2" xref="S3.p1.1.m1.3.3.2.2.2.2.cmml">p</mi><mn id="S3.p1.1.m1.3.3.2.2.2.3" xref="S3.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p1.1.m1.4.4.3.3.6" xref="S3.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="S3.p1.1.m1.1.1" mathvariant="normal" xref="S3.p1.1.m1.1.1.cmml">…</mi><mo id="S3.p1.1.m1.4.4.3.3.7" xref="S3.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="S3.p1.1.m1.4.4.3.3.3" xref="S3.p1.1.m1.4.4.3.3.3.cmml"><mi id="S3.p1.1.m1.4.4.3.3.3.2" xref="S3.p1.1.m1.4.4.3.3.3.2.cmml">p</mi><mi id="S3.p1.1.m1.4.4.3.3.3.3" xref="S3.p1.1.m1.4.4.3.3.3.3.cmml">M</mi></msub><mo id="S3.p1.1.m1.4.4.3.3.8" stretchy="false" xref="S3.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.4b"><apply id="S3.p1.1.m1.4.4.cmml" xref="S3.p1.1.m1.4.4"><eq id="S3.p1.1.m1.4.4.4.cmml" xref="S3.p1.1.m1.4.4.4"></eq><ci id="S3.p1.1.m1.4.4.5.cmml" xref="S3.p1.1.m1.4.4.5">𝑃</ci><set id="S3.p1.1.m1.4.4.3.4.cmml" xref="S3.p1.1.m1.4.4.3.3"><apply id="S3.p1.1.m1.2.2.1.1.1.cmml" xref="S3.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.p1.1.m1.2.2.1.1.1.2">𝑝</ci><cn id="S3.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S3.p1.1.m1.3.3.2.2.2.cmml" xref="S3.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p1.1.m1.3.3.2.2.2.1.cmml" xref="S3.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.p1.1.m1.3.3.2.2.2.2.cmml" xref="S3.p1.1.m1.3.3.2.2.2.2">𝑝</ci><cn id="S3.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="S3.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">…</ci><apply id="S3.p1.1.m1.4.4.3.3.3.cmml" xref="S3.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p1.1.m1.4.4.3.3.3.1.cmml" xref="S3.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S3.p1.1.m1.4.4.3.3.3.2.cmml" xref="S3.p1.1.m1.4.4.3.3.3.2">𝑝</ci><ci id="S3.p1.1.m1.4.4.3.3.3.3.cmml" xref="S3.p1.1.m1.4.4.3.3.3.3">𝑀</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.4c">P=\{p_{1},p_{2},\ldots,p_{M}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.4d">italic_P = { italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT }</annotation></semantics></math>, where each POI is represents as <math alttext="\langle\text{id},\text{cat},g_{lat},g_{lon}\rangle" class="ltx_Math" display="inline" id="S3.p1.2.m2.4"><semantics id="S3.p1.2.m2.4a"><mrow id="S3.p1.2.m2.4.4.2" xref="S3.p1.2.m2.4.4.3.cmml"><mo id="S3.p1.2.m2.4.4.2.3" stretchy="false" xref="S3.p1.2.m2.4.4.3.cmml">⟨</mo><mtext id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1a.cmml">id</mtext><mo id="S3.p1.2.m2.4.4.2.4" xref="S3.p1.2.m2.4.4.3.cmml">,</mo><mtext id="S3.p1.2.m2.2.2" xref="S3.p1.2.m2.2.2a.cmml">cat</mtext><mo id="S3.p1.2.m2.4.4.2.5" xref="S3.p1.2.m2.4.4.3.cmml">,</mo><msub id="S3.p1.2.m2.3.3.1.1" xref="S3.p1.2.m2.3.3.1.1.cmml"><mi id="S3.p1.2.m2.3.3.1.1.2" xref="S3.p1.2.m2.3.3.1.1.2.cmml">g</mi><mrow id="S3.p1.2.m2.3.3.1.1.3" xref="S3.p1.2.m2.3.3.1.1.3.cmml"><mi id="S3.p1.2.m2.3.3.1.1.3.2" xref="S3.p1.2.m2.3.3.1.1.3.2.cmml">l</mi><mo id="S3.p1.2.m2.3.3.1.1.3.1" xref="S3.p1.2.m2.3.3.1.1.3.1.cmml">⁢</mo><mi id="S3.p1.2.m2.3.3.1.1.3.3" xref="S3.p1.2.m2.3.3.1.1.3.3.cmml">a</mi><mo id="S3.p1.2.m2.3.3.1.1.3.1a" xref="S3.p1.2.m2.3.3.1.1.3.1.cmml">⁢</mo><mi id="S3.p1.2.m2.3.3.1.1.3.4" xref="S3.p1.2.m2.3.3.1.1.3.4.cmml">t</mi></mrow></msub><mo id="S3.p1.2.m2.4.4.2.6" xref="S3.p1.2.m2.4.4.3.cmml">,</mo><msub id="S3.p1.2.m2.4.4.2.2" xref="S3.p1.2.m2.4.4.2.2.cmml"><mi id="S3.p1.2.m2.4.4.2.2.2" xref="S3.p1.2.m2.4.4.2.2.2.cmml">g</mi><mrow id="S3.p1.2.m2.4.4.2.2.3" xref="S3.p1.2.m2.4.4.2.2.3.cmml"><mi id="S3.p1.2.m2.4.4.2.2.3.2" xref="S3.p1.2.m2.4.4.2.2.3.2.cmml">l</mi><mo id="S3.p1.2.m2.4.4.2.2.3.1" xref="S3.p1.2.m2.4.4.2.2.3.1.cmml">⁢</mo><mi id="S3.p1.2.m2.4.4.2.2.3.3" xref="S3.p1.2.m2.4.4.2.2.3.3.cmml">o</mi><mo id="S3.p1.2.m2.4.4.2.2.3.1a" xref="S3.p1.2.m2.4.4.2.2.3.1.cmml">⁢</mo><mi id="S3.p1.2.m2.4.4.2.2.3.4" xref="S3.p1.2.m2.4.4.2.2.3.4.cmml">n</mi></mrow></msub><mo id="S3.p1.2.m2.4.4.2.7" stretchy="false" xref="S3.p1.2.m2.4.4.3.cmml">⟩</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.4b"><list id="S3.p1.2.m2.4.4.3.cmml" xref="S3.p1.2.m2.4.4.2"><ci id="S3.p1.2.m2.1.1a.cmml" xref="S3.p1.2.m2.1.1"><mtext id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1">id</mtext></ci><ci id="S3.p1.2.m2.2.2a.cmml" xref="S3.p1.2.m2.2.2"><mtext id="S3.p1.2.m2.2.2.cmml" xref="S3.p1.2.m2.2.2">cat</mtext></ci><apply id="S3.p1.2.m2.3.3.1.1.cmml" xref="S3.p1.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.3.3.1.1.1.cmml" xref="S3.p1.2.m2.3.3.1.1">subscript</csymbol><ci id="S3.p1.2.m2.3.3.1.1.2.cmml" xref="S3.p1.2.m2.3.3.1.1.2">𝑔</ci><apply id="S3.p1.2.m2.3.3.1.1.3.cmml" xref="S3.p1.2.m2.3.3.1.1.3"><times id="S3.p1.2.m2.3.3.1.1.3.1.cmml" xref="S3.p1.2.m2.3.3.1.1.3.1"></times><ci id="S3.p1.2.m2.3.3.1.1.3.2.cmml" xref="S3.p1.2.m2.3.3.1.1.3.2">𝑙</ci><ci id="S3.p1.2.m2.3.3.1.1.3.3.cmml" xref="S3.p1.2.m2.3.3.1.1.3.3">𝑎</ci><ci id="S3.p1.2.m2.3.3.1.1.3.4.cmml" xref="S3.p1.2.m2.3.3.1.1.3.4">𝑡</ci></apply></apply><apply id="S3.p1.2.m2.4.4.2.2.cmml" xref="S3.p1.2.m2.4.4.2.2"><csymbol cd="ambiguous" id="S3.p1.2.m2.4.4.2.2.1.cmml" xref="S3.p1.2.m2.4.4.2.2">subscript</csymbol><ci id="S3.p1.2.m2.4.4.2.2.2.cmml" xref="S3.p1.2.m2.4.4.2.2.2">𝑔</ci><apply id="S3.p1.2.m2.4.4.2.2.3.cmml" xref="S3.p1.2.m2.4.4.2.2.3"><times id="S3.p1.2.m2.4.4.2.2.3.1.cmml" xref="S3.p1.2.m2.4.4.2.2.3.1"></times><ci id="S3.p1.2.m2.4.4.2.2.3.2.cmml" xref="S3.p1.2.m2.4.4.2.2.3.2">𝑙</ci><ci id="S3.p1.2.m2.4.4.2.2.3.3.cmml" xref="S3.p1.2.m2.4.4.2.2.3.3">𝑜</ci><ci id="S3.p1.2.m2.4.4.2.2.3.4.cmml" xref="S3.p1.2.m2.4.4.2.2.3.4">𝑛</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.4c">\langle\text{id},\text{cat},g_{lat},g_{lon}\rangle</annotation><annotation encoding="application/x-llamapun" id="S3.p1.2.m2.4d">⟨ id , cat , italic_g start_POSTSUBSCRIPT italic_l italic_a italic_t end_POSTSUBSCRIPT , italic_g start_POSTSUBSCRIPT italic_l italic_o italic_n end_POSTSUBSCRIPT ⟩</annotation></semantics></math> and <math alttext="M" class="ltx_Math" display="inline" id="S3.p1.3.m3.1"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="S3.p1.3.m3.1d">italic_M</annotation></semantics></math> represents the number of distinct POIs. Here:</p>
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I1.i1.p1.1.1">id</span> refers to the unique identifier for each POI;</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_italic" id="S3.I1.i2.p1.1.1">cat</span> denotes the POI category (e.g., "Accommodations", "Residential"), providing semantic information;</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i3.p1">
<p class="ltx_p" id="S3.I1.i3.p1.1"><math alttext="g_{lat},g_{lon}" class="ltx_Math" display="inline" id="S3.I1.i3.p1.1.m1.2"><semantics id="S3.I1.i3.p1.1.m1.2a"><mrow id="S3.I1.i3.p1.1.m1.2.2.2" xref="S3.I1.i3.p1.1.m1.2.2.3.cmml"><msub id="S3.I1.i3.p1.1.m1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.2.cmml">g</mi><mrow id="S3.I1.i3.p1.1.m1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.3.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.2.cmml">l</mi><mo id="S3.I1.i3.p1.1.m1.1.1.1.1.3.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.3.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.3.cmml">a</mi><mo id="S3.I1.i3.p1.1.m1.1.1.1.1.3.1a" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.3.4" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.4.cmml">t</mi></mrow></msub><mo id="S3.I1.i3.p1.1.m1.2.2.2.3" xref="S3.I1.i3.p1.1.m1.2.2.3.cmml">,</mo><msub id="S3.I1.i3.p1.1.m1.2.2.2.2" xref="S3.I1.i3.p1.1.m1.2.2.2.2.cmml"><mi id="S3.I1.i3.p1.1.m1.2.2.2.2.2" xref="S3.I1.i3.p1.1.m1.2.2.2.2.2.cmml">g</mi><mrow id="S3.I1.i3.p1.1.m1.2.2.2.2.3" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.cmml"><mi id="S3.I1.i3.p1.1.m1.2.2.2.2.3.2" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.2.cmml">l</mi><mo id="S3.I1.i3.p1.1.m1.2.2.2.2.3.1" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.I1.i3.p1.1.m1.2.2.2.2.3.3" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.3.cmml">o</mi><mo id="S3.I1.i3.p1.1.m1.2.2.2.2.3.1a" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.I1.i3.p1.1.m1.2.2.2.2.3.4" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.4.cmml">n</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.2b"><list id="S3.I1.i3.p1.1.m1.2.2.3.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2"><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.2">𝑔</ci><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3"><times id="S3.I1.i3.p1.1.m1.1.1.1.1.3.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.1"></times><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.3.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.2">𝑙</ci><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.3.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.3">𝑎</ci><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.3.4.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.3.4">𝑡</ci></apply></apply><apply id="S3.I1.i3.p1.1.m1.2.2.2.2.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i3.p1.1.m1.2.2.2.2.1.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S3.I1.i3.p1.1.m1.2.2.2.2.2.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.2">𝑔</ci><apply id="S3.I1.i3.p1.1.m1.2.2.2.2.3.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3"><times id="S3.I1.i3.p1.1.m1.2.2.2.2.3.1.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.1"></times><ci id="S3.I1.i3.p1.1.m1.2.2.2.2.3.2.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.2">𝑙</ci><ci id="S3.I1.i3.p1.1.m1.2.2.2.2.3.3.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.3">𝑜</ci><ci id="S3.I1.i3.p1.1.m1.2.2.2.2.3.4.cmml" xref="S3.I1.i3.p1.1.m1.2.2.2.2.3.4">𝑛</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.2c">g_{lat},g_{lon}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i3.p1.1.m1.2d">italic_g start_POSTSUBSCRIPT italic_l italic_a italic_t end_POSTSUBSCRIPT , italic_g start_POSTSUBSCRIPT italic_l italic_o italic_n end_POSTSUBSCRIPT</annotation></semantics></math> specify the geo-coordinates (latitude and longitude).</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S3.p1.4">Each check-in record is represented as a tuple <math alttext="c_{p,t}^{u}=\langle u,p,t\rangle\in U\times P\times T" class="ltx_Math" display="inline" id="S3.p1.4.m1.5"><semantics id="S3.p1.4.m1.5a"><mrow id="S3.p1.4.m1.5.6" xref="S3.p1.4.m1.5.6.cmml"><msubsup id="S3.p1.4.m1.5.6.2" xref="S3.p1.4.m1.5.6.2.cmml"><mi id="S3.p1.4.m1.5.6.2.2.2" xref="S3.p1.4.m1.5.6.2.2.2.cmml">c</mi><mrow id="S3.p1.4.m1.2.2.2.4" xref="S3.p1.4.m1.2.2.2.3.cmml"><mi id="S3.p1.4.m1.1.1.1.1" xref="S3.p1.4.m1.1.1.1.1.cmml">p</mi><mo id="S3.p1.4.m1.2.2.2.4.1" xref="S3.p1.4.m1.2.2.2.3.cmml">,</mo><mi id="S3.p1.4.m1.2.2.2.2" xref="S3.p1.4.m1.2.2.2.2.cmml">t</mi></mrow><mi id="S3.p1.4.m1.5.6.2.3" xref="S3.p1.4.m1.5.6.2.3.cmml">u</mi></msubsup><mo id="S3.p1.4.m1.5.6.3" xref="S3.p1.4.m1.5.6.3.cmml">=</mo><mrow id="S3.p1.4.m1.5.6.4.2" xref="S3.p1.4.m1.5.6.4.1.cmml"><mo id="S3.p1.4.m1.5.6.4.2.1" stretchy="false" xref="S3.p1.4.m1.5.6.4.1.cmml">⟨</mo><mi id="S3.p1.4.m1.3.3" xref="S3.p1.4.m1.3.3.cmml">u</mi><mo id="S3.p1.4.m1.5.6.4.2.2" xref="S3.p1.4.m1.5.6.4.1.cmml">,</mo><mi id="S3.p1.4.m1.4.4" xref="S3.p1.4.m1.4.4.cmml">p</mi><mo id="S3.p1.4.m1.5.6.4.2.3" xref="S3.p1.4.m1.5.6.4.1.cmml">,</mo><mi id="S3.p1.4.m1.5.5" xref="S3.p1.4.m1.5.5.cmml">t</mi><mo id="S3.p1.4.m1.5.6.4.2.4" stretchy="false" xref="S3.p1.4.m1.5.6.4.1.cmml">⟩</mo></mrow><mo id="S3.p1.4.m1.5.6.5" xref="S3.p1.4.m1.5.6.5.cmml">∈</mo><mrow id="S3.p1.4.m1.5.6.6" xref="S3.p1.4.m1.5.6.6.cmml"><mi id="S3.p1.4.m1.5.6.6.2" xref="S3.p1.4.m1.5.6.6.2.cmml">U</mi><mo id="S3.p1.4.m1.5.6.6.1" lspace="0.222em" rspace="0.222em" xref="S3.p1.4.m1.5.6.6.1.cmml">×</mo><mi id="S3.p1.4.m1.5.6.6.3" xref="S3.p1.4.m1.5.6.6.3.cmml">P</mi><mo id="S3.p1.4.m1.5.6.6.1a" lspace="0.222em" rspace="0.222em" xref="S3.p1.4.m1.5.6.6.1.cmml">×</mo><mi id="S3.p1.4.m1.5.6.6.4" xref="S3.p1.4.m1.5.6.6.4.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.4.m1.5b"><apply id="S3.p1.4.m1.5.6.cmml" xref="S3.p1.4.m1.5.6"><and id="S3.p1.4.m1.5.6a.cmml" xref="S3.p1.4.m1.5.6"></and><apply id="S3.p1.4.m1.5.6b.cmml" xref="S3.p1.4.m1.5.6"><eq id="S3.p1.4.m1.5.6.3.cmml" xref="S3.p1.4.m1.5.6.3"></eq><apply id="S3.p1.4.m1.5.6.2.cmml" xref="S3.p1.4.m1.5.6.2"><csymbol cd="ambiguous" id="S3.p1.4.m1.5.6.2.1.cmml" xref="S3.p1.4.m1.5.6.2">superscript</csymbol><apply id="S3.p1.4.m1.5.6.2.2.cmml" xref="S3.p1.4.m1.5.6.2"><csymbol cd="ambiguous" id="S3.p1.4.m1.5.6.2.2.1.cmml" xref="S3.p1.4.m1.5.6.2">subscript</csymbol><ci id="S3.p1.4.m1.5.6.2.2.2.cmml" xref="S3.p1.4.m1.5.6.2.2.2">𝑐</ci><list id="S3.p1.4.m1.2.2.2.3.cmml" xref="S3.p1.4.m1.2.2.2.4"><ci id="S3.p1.4.m1.1.1.1.1.cmml" xref="S3.p1.4.m1.1.1.1.1">𝑝</ci><ci id="S3.p1.4.m1.2.2.2.2.cmml" xref="S3.p1.4.m1.2.2.2.2">𝑡</ci></list></apply><ci id="S3.p1.4.m1.5.6.2.3.cmml" xref="S3.p1.4.m1.5.6.2.3">𝑢</ci></apply><list id="S3.p1.4.m1.5.6.4.1.cmml" xref="S3.p1.4.m1.5.6.4.2"><ci id="S3.p1.4.m1.3.3.cmml" xref="S3.p1.4.m1.3.3">𝑢</ci><ci id="S3.p1.4.m1.4.4.cmml" xref="S3.p1.4.m1.4.4">𝑝</ci><ci id="S3.p1.4.m1.5.5.cmml" xref="S3.p1.4.m1.5.5">𝑡</ci></list></apply><apply id="S3.p1.4.m1.5.6c.cmml" xref="S3.p1.4.m1.5.6"><in id="S3.p1.4.m1.5.6.5.cmml" xref="S3.p1.4.m1.5.6.5"></in><share href="https://arxiv.org/html/2409.13700v1#S3.p1.4.m1.5.6.4.cmml" id="S3.p1.4.m1.5.6d.cmml" xref="S3.p1.4.m1.5.6"></share><apply id="S3.p1.4.m1.5.6.6.cmml" xref="S3.p1.4.m1.5.6.6"><times id="S3.p1.4.m1.5.6.6.1.cmml" xref="S3.p1.4.m1.5.6.6.1"></times><ci id="S3.p1.4.m1.5.6.6.2.cmml" xref="S3.p1.4.m1.5.6.6.2">𝑈</ci><ci id="S3.p1.4.m1.5.6.6.3.cmml" xref="S3.p1.4.m1.5.6.6.3">𝑃</ci><ci id="S3.p1.4.m1.5.6.6.4.cmml" xref="S3.p1.4.m1.5.6.6.4">𝑇</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m1.5c">c_{p,t}^{u}=\langle u,p,t\rangle\in U\times P\times T</annotation><annotation encoding="application/x-llamapun" id="S3.p1.4.m1.5d">italic_c start_POSTSUBSCRIPT italic_p , italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT = ⟨ italic_u , italic_p , italic_t ⟩ ∈ italic_U × italic_P × italic_T</annotation></semantics></math>, where:</p>
<ul class="ltx_itemize" id="S3.I2">
<li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i1.p1">
<p class="ltx_p" id="S3.I2.i1.p1.3"><math alttext="u" class="ltx_Math" display="inline" id="S3.I2.i1.p1.1.m1.1"><semantics id="S3.I2.i1.p1.1.m1.1a"><mi id="S3.I2.i1.p1.1.m1.1.1" xref="S3.I2.i1.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i1.p1.1.m1.1b"><ci id="S3.I2.i1.p1.1.m1.1.1.cmml" xref="S3.I2.i1.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i1.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.1.m1.1d">italic_u</annotation></semantics></math> denotes a unique user from the user set <math alttext="U=\{u_{1},u_{2},\ldots,u_{N}\}" class="ltx_Math" display="inline" id="S3.I2.i1.p1.2.m2.4"><semantics id="S3.I2.i1.p1.2.m2.4a"><mrow id="S3.I2.i1.p1.2.m2.4.4" xref="S3.I2.i1.p1.2.m2.4.4.cmml"><mi id="S3.I2.i1.p1.2.m2.4.4.5" xref="S3.I2.i1.p1.2.m2.4.4.5.cmml">U</mi><mo id="S3.I2.i1.p1.2.m2.4.4.4" xref="S3.I2.i1.p1.2.m2.4.4.4.cmml">=</mo><mrow id="S3.I2.i1.p1.2.m2.4.4.3.3" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml"><mo id="S3.I2.i1.p1.2.m2.4.4.3.3.4" stretchy="false" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.I2.i1.p1.2.m2.2.2.1.1.1" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.I2.i1.p1.2.m2.2.2.1.1.1.2" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1.2.cmml">u</mi><mn id="S3.I2.i1.p1.2.m2.2.2.1.1.1.3" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.I2.i1.p1.2.m2.4.4.3.3.5" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i1.p1.2.m2.3.3.2.2.2" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.I2.i1.p1.2.m2.3.3.2.2.2.2" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2.2.cmml">u</mi><mn id="S3.I2.i1.p1.2.m2.3.3.2.2.2.3" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.I2.i1.p1.2.m2.4.4.3.3.6" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.I2.i1.p1.2.m2.1.1" mathvariant="normal" xref="S3.I2.i1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.I2.i1.p1.2.m2.4.4.3.3.7" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i1.p1.2.m2.4.4.3.3.3" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3.cmml"><mi id="S3.I2.i1.p1.2.m2.4.4.3.3.3.2" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3.2.cmml">u</mi><mi id="S3.I2.i1.p1.2.m2.4.4.3.3.3.3" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3.3.cmml">N</mi></msub><mo id="S3.I2.i1.p1.2.m2.4.4.3.3.8" stretchy="false" xref="S3.I2.i1.p1.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I2.i1.p1.2.m2.4b"><apply id="S3.I2.i1.p1.2.m2.4.4.cmml" xref="S3.I2.i1.p1.2.m2.4.4"><eq id="S3.I2.i1.p1.2.m2.4.4.4.cmml" xref="S3.I2.i1.p1.2.m2.4.4.4"></eq><ci id="S3.I2.i1.p1.2.m2.4.4.5.cmml" xref="S3.I2.i1.p1.2.m2.4.4.5">𝑈</ci><set id="S3.I2.i1.p1.2.m2.4.4.3.4.cmml" xref="S3.I2.i1.p1.2.m2.4.4.3.3"><apply id="S3.I2.i1.p1.2.m2.2.2.1.1.1.cmml" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.I2.i1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.I2.i1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1.2">𝑢</ci><cn id="S3.I2.i1.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.I2.i1.p1.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.I2.i1.p1.2.m2.3.3.2.2.2.cmml" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.I2.i1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.I2.i1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2.2">𝑢</ci><cn id="S3.I2.i1.p1.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.I2.i1.p1.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.I2.i1.p1.2.m2.1.1.cmml" xref="S3.I2.i1.p1.2.m2.1.1">…</ci><apply id="S3.I2.i1.p1.2.m2.4.4.3.3.3.cmml" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.I2.i1.p1.2.m2.4.4.3.3.3.1.cmml" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.I2.i1.p1.2.m2.4.4.3.3.3.2.cmml" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3.2">𝑢</ci><ci id="S3.I2.i1.p1.2.m2.4.4.3.3.3.3.cmml" xref="S3.I2.i1.p1.2.m2.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i1.p1.2.m2.4c">U=\{u_{1},u_{2},\ldots,u_{N}\}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.2.m2.4d">italic_U = { italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_u start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_u start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT }</annotation></semantics></math>, where <math alttext="N" class="ltx_Math" display="inline" id="S3.I2.i1.p1.3.m3.1"><semantics id="S3.I2.i1.p1.3.m3.1a"><mi id="S3.I2.i1.p1.3.m3.1.1" xref="S3.I2.i1.p1.3.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i1.p1.3.m3.1b"><ci id="S3.I2.i1.p1.3.m3.1.1.cmml" xref="S3.I2.i1.p1.3.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i1.p1.3.m3.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.3.m3.1d">italic_N</annotation></semantics></math> represents the total number of users;</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i2.p1">
<p class="ltx_p" id="S3.I2.i2.p1.2"><math alttext="p" class="ltx_Math" display="inline" id="S3.I2.i2.p1.1.m1.1"><semantics id="S3.I2.i2.p1.1.m1.1a"><mi id="S3.I2.i2.p1.1.m1.1.1" xref="S3.I2.i2.p1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.1.m1.1b"><ci id="S3.I2.i2.p1.1.m1.1.1.cmml" xref="S3.I2.i2.p1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.1.m1.1d">italic_p</annotation></semantics></math> denotes a POI from the set <math alttext="P=\{p_{1},p_{2},\ldots,p_{M}\}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.2.m2.4"><semantics id="S3.I2.i2.p1.2.m2.4a"><mrow id="S3.I2.i2.p1.2.m2.4.4" xref="S3.I2.i2.p1.2.m2.4.4.cmml"><mi id="S3.I2.i2.p1.2.m2.4.4.5" xref="S3.I2.i2.p1.2.m2.4.4.5.cmml">P</mi><mo id="S3.I2.i2.p1.2.m2.4.4.4" xref="S3.I2.i2.p1.2.m2.4.4.4.cmml">=</mo><mrow id="S3.I2.i2.p1.2.m2.4.4.3.3" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml"><mo id="S3.I2.i2.p1.2.m2.4.4.3.3.4" stretchy="false" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.I2.i2.p1.2.m2.2.2.1.1.1" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.I2.i2.p1.2.m2.2.2.1.1.1.2" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1.2.cmml">p</mi><mn id="S3.I2.i2.p1.2.m2.2.2.1.1.1.3" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.I2.i2.p1.2.m2.4.4.3.3.5" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i2.p1.2.m2.3.3.2.2.2" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.I2.i2.p1.2.m2.3.3.2.2.2.2" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2.2.cmml">p</mi><mn id="S3.I2.i2.p1.2.m2.3.3.2.2.2.3" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.I2.i2.p1.2.m2.4.4.3.3.6" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.I2.i2.p1.2.m2.1.1" mathvariant="normal" xref="S3.I2.i2.p1.2.m2.1.1.cmml">…</mi><mo id="S3.I2.i2.p1.2.m2.4.4.3.3.7" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i2.p1.2.m2.4.4.3.3.3" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3.cmml"><mi id="S3.I2.i2.p1.2.m2.4.4.3.3.3.2" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3.2.cmml">p</mi><mi id="S3.I2.i2.p1.2.m2.4.4.3.3.3.3" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3.3.cmml">M</mi></msub><mo id="S3.I2.i2.p1.2.m2.4.4.3.3.8" stretchy="false" xref="S3.I2.i2.p1.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.2.m2.4b"><apply id="S3.I2.i2.p1.2.m2.4.4.cmml" xref="S3.I2.i2.p1.2.m2.4.4"><eq id="S3.I2.i2.p1.2.m2.4.4.4.cmml" xref="S3.I2.i2.p1.2.m2.4.4.4"></eq><ci id="S3.I2.i2.p1.2.m2.4.4.5.cmml" xref="S3.I2.i2.p1.2.m2.4.4.5">𝑃</ci><set id="S3.I2.i2.p1.2.m2.4.4.3.4.cmml" xref="S3.I2.i2.p1.2.m2.4.4.3.3"><apply id="S3.I2.i2.p1.2.m2.2.2.1.1.1.cmml" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.I2.i2.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1.2">𝑝</ci><cn id="S3.I2.i2.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.I2.i2.p1.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.I2.i2.p1.2.m2.3.3.2.2.2.cmml" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.I2.i2.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.I2.i2.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2.2">𝑝</ci><cn id="S3.I2.i2.p1.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.I2.i2.p1.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.I2.i2.p1.2.m2.1.1.cmml" xref="S3.I2.i2.p1.2.m2.1.1">…</ci><apply id="S3.I2.i2.p1.2.m2.4.4.3.3.3.cmml" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.I2.i2.p1.2.m2.4.4.3.3.3.1.cmml" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.I2.i2.p1.2.m2.4.4.3.3.3.2.cmml" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3.2">𝑝</ci><ci id="S3.I2.i2.p1.2.m2.4.4.3.3.3.3.cmml" xref="S3.I2.i2.p1.2.m2.4.4.3.3.3.3">𝑀</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.2.m2.4c">P=\{p_{1},p_{2},\ldots,p_{M}\}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.2.m2.4d">italic_P = { italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT }</annotation></semantics></math>;</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I2.i3.p1">
<p class="ltx_p" id="S3.I2.i3.p1.3"><math alttext="t" class="ltx_Math" display="inline" id="S3.I2.i3.p1.1.m1.1"><semantics id="S3.I2.i3.p1.1.m1.1a"><mi id="S3.I2.i3.p1.1.m1.1.1" xref="S3.I2.i3.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.1.m1.1b"><ci id="S3.I2.i3.p1.1.m1.1.1.cmml" xref="S3.I2.i3.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.1.m1.1d">italic_t</annotation></semantics></math> denotes the timestamp from the set <math alttext="T=\{t_{1},t_{2},\ldots,t_{Z}\}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.2.m2.4"><semantics id="S3.I2.i3.p1.2.m2.4a"><mrow id="S3.I2.i3.p1.2.m2.4.4" xref="S3.I2.i3.p1.2.m2.4.4.cmml"><mi id="S3.I2.i3.p1.2.m2.4.4.5" xref="S3.I2.i3.p1.2.m2.4.4.5.cmml">T</mi><mo id="S3.I2.i3.p1.2.m2.4.4.4" xref="S3.I2.i3.p1.2.m2.4.4.4.cmml">=</mo><mrow id="S3.I2.i3.p1.2.m2.4.4.3.3" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml"><mo id="S3.I2.i3.p1.2.m2.4.4.3.3.4" stretchy="false" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml">{</mo><msub id="S3.I2.i3.p1.2.m2.2.2.1.1.1" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1.cmml"><mi id="S3.I2.i3.p1.2.m2.2.2.1.1.1.2" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1.2.cmml">t</mi><mn id="S3.I2.i3.p1.2.m2.2.2.1.1.1.3" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.I2.i3.p1.2.m2.4.4.3.3.5" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i3.p1.2.m2.3.3.2.2.2" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2.cmml"><mi id="S3.I2.i3.p1.2.m2.3.3.2.2.2.2" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2.2.cmml">t</mi><mn id="S3.I2.i3.p1.2.m2.3.3.2.2.2.3" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.I2.i3.p1.2.m2.4.4.3.3.6" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml">,</mo><mi id="S3.I2.i3.p1.2.m2.1.1" mathvariant="normal" xref="S3.I2.i3.p1.2.m2.1.1.cmml">…</mi><mo id="S3.I2.i3.p1.2.m2.4.4.3.3.7" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml">,</mo><msub id="S3.I2.i3.p1.2.m2.4.4.3.3.3" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3.cmml"><mi id="S3.I2.i3.p1.2.m2.4.4.3.3.3.2" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3.2.cmml">t</mi><mi id="S3.I2.i3.p1.2.m2.4.4.3.3.3.3" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3.3.cmml">Z</mi></msub><mo id="S3.I2.i3.p1.2.m2.4.4.3.3.8" stretchy="false" xref="S3.I2.i3.p1.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.2.m2.4b"><apply id="S3.I2.i3.p1.2.m2.4.4.cmml" xref="S3.I2.i3.p1.2.m2.4.4"><eq id="S3.I2.i3.p1.2.m2.4.4.4.cmml" xref="S3.I2.i3.p1.2.m2.4.4.4"></eq><ci id="S3.I2.i3.p1.2.m2.4.4.5.cmml" xref="S3.I2.i3.p1.2.m2.4.4.5">𝑇</ci><set id="S3.I2.i3.p1.2.m2.4.4.3.4.cmml" xref="S3.I2.i3.p1.2.m2.4.4.3.3"><apply id="S3.I2.i3.p1.2.m2.2.2.1.1.1.cmml" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.2.m2.2.2.1.1.1.1.cmml" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.I2.i3.p1.2.m2.2.2.1.1.1.2.cmml" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1.2">𝑡</ci><cn id="S3.I2.i3.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S3.I2.i3.p1.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S3.I2.i3.p1.2.m2.3.3.2.2.2.cmml" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.I2.i3.p1.2.m2.3.3.2.2.2.1.cmml" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S3.I2.i3.p1.2.m2.3.3.2.2.2.2.cmml" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2.2">𝑡</ci><cn id="S3.I2.i3.p1.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S3.I2.i3.p1.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S3.I2.i3.p1.2.m2.1.1.cmml" xref="S3.I2.i3.p1.2.m2.1.1">…</ci><apply id="S3.I2.i3.p1.2.m2.4.4.3.3.3.cmml" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.I2.i3.p1.2.m2.4.4.3.3.3.1.cmml" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S3.I2.i3.p1.2.m2.4.4.3.3.3.2.cmml" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3.2">𝑡</ci><ci id="S3.I2.i3.p1.2.m2.4.4.3.3.3.3.cmml" xref="S3.I2.i3.p1.2.m2.4.4.3.3.3.3">𝑍</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.2.m2.4c">T=\{t_{1},t_{2},\ldots,t_{Z}\}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.2.m2.4d">italic_T = { italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_t start_POSTSUBSCRIPT italic_Z end_POSTSUBSCRIPT }</annotation></semantics></math> of each check-in record, where <math alttext="Z" class="ltx_Math" display="inline" id="S3.I2.i3.p1.3.m3.1"><semantics id="S3.I2.i3.p1.3.m3.1a"><mi id="S3.I2.i3.p1.3.m3.1.1" xref="S3.I2.i3.p1.3.m3.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.3.m3.1b"><ci id="S3.I2.i3.p1.3.m3.1.1.cmml" xref="S3.I2.i3.p1.3.m3.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.3.m3.1c">Z</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.3.m3.1d">italic_Z</annotation></semantics></math> represents the number of distinct time stamps.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S3.p1.15">A trajectory is formed as <math alttext="T_{u}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{M-1},t_{Z-1}}^{u}%
,c_{p_{M},t_{Z}}^{u}\}" class="ltx_Math" display="inline" id="S3.p1.5.m1.13"><semantics id="S3.p1.5.m1.13a"><mrow id="S3.p1.5.m1.13.13" xref="S3.p1.5.m1.13.13.cmml"><msub id="S3.p1.5.m1.13.13.6" xref="S3.p1.5.m1.13.13.6.cmml"><mi id="S3.p1.5.m1.13.13.6.2" xref="S3.p1.5.m1.13.13.6.2.cmml">T</mi><mi id="S3.p1.5.m1.13.13.6.3" xref="S3.p1.5.m1.13.13.6.3.cmml">u</mi></msub><mo id="S3.p1.5.m1.13.13.5" xref="S3.p1.5.m1.13.13.5.cmml">=</mo><mrow id="S3.p1.5.m1.13.13.4.4" xref="S3.p1.5.m1.13.13.4.5.cmml"><mo id="S3.p1.5.m1.13.13.4.4.5" stretchy="false" xref="S3.p1.5.m1.13.13.4.5.cmml">{</mo><msubsup id="S3.p1.5.m1.10.10.1.1.1" xref="S3.p1.5.m1.10.10.1.1.1.cmml"><mi id="S3.p1.5.m1.10.10.1.1.1.2.2" xref="S3.p1.5.m1.10.10.1.1.1.2.2.cmml">c</mi><mrow id="S3.p1.5.m1.2.2.2.2" xref="S3.p1.5.m1.2.2.2.3.cmml"><msub id="S3.p1.5.m1.1.1.1.1.1" xref="S3.p1.5.m1.1.1.1.1.1.cmml"><mi id="S3.p1.5.m1.1.1.1.1.1.2" xref="S3.p1.5.m1.1.1.1.1.1.2.cmml">p</mi><mn id="S3.p1.5.m1.1.1.1.1.1.3" xref="S3.p1.5.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.5.m1.2.2.2.2.3" xref="S3.p1.5.m1.2.2.2.3.cmml">,</mo><msub id="S3.p1.5.m1.2.2.2.2.2" xref="S3.p1.5.m1.2.2.2.2.2.cmml"><mi id="S3.p1.5.m1.2.2.2.2.2.2" xref="S3.p1.5.m1.2.2.2.2.2.2.cmml">t</mi><mn id="S3.p1.5.m1.2.2.2.2.2.3" xref="S3.p1.5.m1.2.2.2.2.2.3.cmml">1</mn></msub></mrow><mi id="S3.p1.5.m1.10.10.1.1.1.3" xref="S3.p1.5.m1.10.10.1.1.1.3.cmml">u</mi></msubsup><mo id="S3.p1.5.m1.13.13.4.4.6" xref="S3.p1.5.m1.13.13.4.5.cmml">,</mo><msubsup id="S3.p1.5.m1.11.11.2.2.2" xref="S3.p1.5.m1.11.11.2.2.2.cmml"><mi id="S3.p1.5.m1.11.11.2.2.2.2.2" xref="S3.p1.5.m1.11.11.2.2.2.2.2.cmml">c</mi><mrow id="S3.p1.5.m1.4.4.2.2" xref="S3.p1.5.m1.4.4.2.3.cmml"><msub id="S3.p1.5.m1.3.3.1.1.1" xref="S3.p1.5.m1.3.3.1.1.1.cmml"><mi id="S3.p1.5.m1.3.3.1.1.1.2" xref="S3.p1.5.m1.3.3.1.1.1.2.cmml">p</mi><mn id="S3.p1.5.m1.3.3.1.1.1.3" xref="S3.p1.5.m1.3.3.1.1.1.3.cmml">2</mn></msub><mo id="S3.p1.5.m1.4.4.2.2.3" xref="S3.p1.5.m1.4.4.2.3.cmml">,</mo><msub id="S3.p1.5.m1.4.4.2.2.2" xref="S3.p1.5.m1.4.4.2.2.2.cmml"><mi id="S3.p1.5.m1.4.4.2.2.2.2" xref="S3.p1.5.m1.4.4.2.2.2.2.cmml">t</mi><mn id="S3.p1.5.m1.4.4.2.2.2.3" xref="S3.p1.5.m1.4.4.2.2.2.3.cmml">2</mn></msub></mrow><mi id="S3.p1.5.m1.11.11.2.2.2.3" xref="S3.p1.5.m1.11.11.2.2.2.3.cmml">u</mi></msubsup><mo id="S3.p1.5.m1.13.13.4.4.7" xref="S3.p1.5.m1.13.13.4.5.cmml">,</mo><mi id="S3.p1.5.m1.9.9" mathvariant="normal" xref="S3.p1.5.m1.9.9.cmml">…</mi><mo id="S3.p1.5.m1.13.13.4.4.8" xref="S3.p1.5.m1.13.13.4.5.cmml">,</mo><msubsup id="S3.p1.5.m1.12.12.3.3.3" xref="S3.p1.5.m1.12.12.3.3.3.cmml"><mi id="S3.p1.5.m1.12.12.3.3.3.2.2" xref="S3.p1.5.m1.12.12.3.3.3.2.2.cmml">c</mi><mrow id="S3.p1.5.m1.6.6.2.2" xref="S3.p1.5.m1.6.6.2.3.cmml"><msub id="S3.p1.5.m1.5.5.1.1.1" xref="S3.p1.5.m1.5.5.1.1.1.cmml"><mi id="S3.p1.5.m1.5.5.1.1.1.2" xref="S3.p1.5.m1.5.5.1.1.1.2.cmml">p</mi><mrow id="S3.p1.5.m1.5.5.1.1.1.3" xref="S3.p1.5.m1.5.5.1.1.1.3.cmml"><mi id="S3.p1.5.m1.5.5.1.1.1.3.2" xref="S3.p1.5.m1.5.5.1.1.1.3.2.cmml">M</mi><mo id="S3.p1.5.m1.5.5.1.1.1.3.1" xref="S3.p1.5.m1.5.5.1.1.1.3.1.cmml">−</mo><mn id="S3.p1.5.m1.5.5.1.1.1.3.3" xref="S3.p1.5.m1.5.5.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.p1.5.m1.6.6.2.2.3" xref="S3.p1.5.m1.6.6.2.3.cmml">,</mo><msub id="S3.p1.5.m1.6.6.2.2.2" xref="S3.p1.5.m1.6.6.2.2.2.cmml"><mi id="S3.p1.5.m1.6.6.2.2.2.2" xref="S3.p1.5.m1.6.6.2.2.2.2.cmml">t</mi><mrow id="S3.p1.5.m1.6.6.2.2.2.3" xref="S3.p1.5.m1.6.6.2.2.2.3.cmml"><mi id="S3.p1.5.m1.6.6.2.2.2.3.2" xref="S3.p1.5.m1.6.6.2.2.2.3.2.cmml">Z</mi><mo id="S3.p1.5.m1.6.6.2.2.2.3.1" xref="S3.p1.5.m1.6.6.2.2.2.3.1.cmml">−</mo><mn id="S3.p1.5.m1.6.6.2.2.2.3.3" xref="S3.p1.5.m1.6.6.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow><mi id="S3.p1.5.m1.12.12.3.3.3.3" xref="S3.p1.5.m1.12.12.3.3.3.3.cmml">u</mi></msubsup><mo id="S3.p1.5.m1.13.13.4.4.9" xref="S3.p1.5.m1.13.13.4.5.cmml">,</mo><msubsup id="S3.p1.5.m1.13.13.4.4.4" xref="S3.p1.5.m1.13.13.4.4.4.cmml"><mi id="S3.p1.5.m1.13.13.4.4.4.2.2" xref="S3.p1.5.m1.13.13.4.4.4.2.2.cmml">c</mi><mrow id="S3.p1.5.m1.8.8.2.2" xref="S3.p1.5.m1.8.8.2.3.cmml"><msub id="S3.p1.5.m1.7.7.1.1.1" xref="S3.p1.5.m1.7.7.1.1.1.cmml"><mi id="S3.p1.5.m1.7.7.1.1.1.2" xref="S3.p1.5.m1.7.7.1.1.1.2.cmml">p</mi><mi id="S3.p1.5.m1.7.7.1.1.1.3" xref="S3.p1.5.m1.7.7.1.1.1.3.cmml">M</mi></msub><mo id="S3.p1.5.m1.8.8.2.2.3" xref="S3.p1.5.m1.8.8.2.3.cmml">,</mo><msub id="S3.p1.5.m1.8.8.2.2.2" xref="S3.p1.5.m1.8.8.2.2.2.cmml"><mi id="S3.p1.5.m1.8.8.2.2.2.2" xref="S3.p1.5.m1.8.8.2.2.2.2.cmml">t</mi><mi id="S3.p1.5.m1.8.8.2.2.2.3" xref="S3.p1.5.m1.8.8.2.2.2.3.cmml">Z</mi></msub></mrow><mi id="S3.p1.5.m1.13.13.4.4.4.3" xref="S3.p1.5.m1.13.13.4.4.4.3.cmml">u</mi></msubsup><mo id="S3.p1.5.m1.13.13.4.4.10" stretchy="false" xref="S3.p1.5.m1.13.13.4.5.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.5.m1.13b"><apply id="S3.p1.5.m1.13.13.cmml" xref="S3.p1.5.m1.13.13"><eq id="S3.p1.5.m1.13.13.5.cmml" xref="S3.p1.5.m1.13.13.5"></eq><apply id="S3.p1.5.m1.13.13.6.cmml" xref="S3.p1.5.m1.13.13.6"><csymbol cd="ambiguous" id="S3.p1.5.m1.13.13.6.1.cmml" xref="S3.p1.5.m1.13.13.6">subscript</csymbol><ci id="S3.p1.5.m1.13.13.6.2.cmml" xref="S3.p1.5.m1.13.13.6.2">𝑇</ci><ci id="S3.p1.5.m1.13.13.6.3.cmml" xref="S3.p1.5.m1.13.13.6.3">𝑢</ci></apply><set id="S3.p1.5.m1.13.13.4.5.cmml" xref="S3.p1.5.m1.13.13.4.4"><apply id="S3.p1.5.m1.10.10.1.1.1.cmml" xref="S3.p1.5.m1.10.10.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.10.10.1.1.1.1.cmml" xref="S3.p1.5.m1.10.10.1.1.1">superscript</csymbol><apply id="S3.p1.5.m1.10.10.1.1.1.2.cmml" xref="S3.p1.5.m1.10.10.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.10.10.1.1.1.2.1.cmml" xref="S3.p1.5.m1.10.10.1.1.1">subscript</csymbol><ci id="S3.p1.5.m1.10.10.1.1.1.2.2.cmml" xref="S3.p1.5.m1.10.10.1.1.1.2.2">𝑐</ci><list id="S3.p1.5.m1.2.2.2.3.cmml" xref="S3.p1.5.m1.2.2.2.2"><apply id="S3.p1.5.m1.1.1.1.1.1.cmml" xref="S3.p1.5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.1.1.1.1.1.1.cmml" xref="S3.p1.5.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.5.m1.1.1.1.1.1.2.cmml" xref="S3.p1.5.m1.1.1.1.1.1.2">𝑝</ci><cn id="S3.p1.5.m1.1.1.1.1.1.3.cmml" type="integer" xref="S3.p1.5.m1.1.1.1.1.1.3">1</cn></apply><apply id="S3.p1.5.m1.2.2.2.2.2.cmml" xref="S3.p1.5.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.2.2.2.2.2.1.cmml" xref="S3.p1.5.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.p1.5.m1.2.2.2.2.2.2.cmml" xref="S3.p1.5.m1.2.2.2.2.2.2">𝑡</ci><cn id="S3.p1.5.m1.2.2.2.2.2.3.cmml" type="integer" xref="S3.p1.5.m1.2.2.2.2.2.3">1</cn></apply></list></apply><ci id="S3.p1.5.m1.10.10.1.1.1.3.cmml" xref="S3.p1.5.m1.10.10.1.1.1.3">𝑢</ci></apply><apply id="S3.p1.5.m1.11.11.2.2.2.cmml" xref="S3.p1.5.m1.11.11.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.11.11.2.2.2.1.cmml" xref="S3.p1.5.m1.11.11.2.2.2">superscript</csymbol><apply id="S3.p1.5.m1.11.11.2.2.2.2.cmml" xref="S3.p1.5.m1.11.11.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.11.11.2.2.2.2.1.cmml" xref="S3.p1.5.m1.11.11.2.2.2">subscript</csymbol><ci id="S3.p1.5.m1.11.11.2.2.2.2.2.cmml" xref="S3.p1.5.m1.11.11.2.2.2.2.2">𝑐</ci><list id="S3.p1.5.m1.4.4.2.3.cmml" xref="S3.p1.5.m1.4.4.2.2"><apply id="S3.p1.5.m1.3.3.1.1.1.cmml" xref="S3.p1.5.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.3.3.1.1.1.1.cmml" xref="S3.p1.5.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.p1.5.m1.3.3.1.1.1.2.cmml" xref="S3.p1.5.m1.3.3.1.1.1.2">𝑝</ci><cn id="S3.p1.5.m1.3.3.1.1.1.3.cmml" type="integer" xref="S3.p1.5.m1.3.3.1.1.1.3">2</cn></apply><apply id="S3.p1.5.m1.4.4.2.2.2.cmml" xref="S3.p1.5.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.4.4.2.2.2.1.cmml" xref="S3.p1.5.m1.4.4.2.2.2">subscript</csymbol><ci id="S3.p1.5.m1.4.4.2.2.2.2.cmml" xref="S3.p1.5.m1.4.4.2.2.2.2">𝑡</ci><cn id="S3.p1.5.m1.4.4.2.2.2.3.cmml" type="integer" xref="S3.p1.5.m1.4.4.2.2.2.3">2</cn></apply></list></apply><ci id="S3.p1.5.m1.11.11.2.2.2.3.cmml" xref="S3.p1.5.m1.11.11.2.2.2.3">𝑢</ci></apply><ci id="S3.p1.5.m1.9.9.cmml" xref="S3.p1.5.m1.9.9">…</ci><apply id="S3.p1.5.m1.12.12.3.3.3.cmml" xref="S3.p1.5.m1.12.12.3.3.3"><csymbol cd="ambiguous" id="S3.p1.5.m1.12.12.3.3.3.1.cmml" xref="S3.p1.5.m1.12.12.3.3.3">superscript</csymbol><apply id="S3.p1.5.m1.12.12.3.3.3.2.cmml" xref="S3.p1.5.m1.12.12.3.3.3"><csymbol cd="ambiguous" id="S3.p1.5.m1.12.12.3.3.3.2.1.cmml" xref="S3.p1.5.m1.12.12.3.3.3">subscript</csymbol><ci id="S3.p1.5.m1.12.12.3.3.3.2.2.cmml" xref="S3.p1.5.m1.12.12.3.3.3.2.2">𝑐</ci><list id="S3.p1.5.m1.6.6.2.3.cmml" xref="S3.p1.5.m1.6.6.2.2"><apply id="S3.p1.5.m1.5.5.1.1.1.cmml" xref="S3.p1.5.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.5.5.1.1.1.1.cmml" xref="S3.p1.5.m1.5.5.1.1.1">subscript</csymbol><ci id="S3.p1.5.m1.5.5.1.1.1.2.cmml" xref="S3.p1.5.m1.5.5.1.1.1.2">𝑝</ci><apply id="S3.p1.5.m1.5.5.1.1.1.3.cmml" xref="S3.p1.5.m1.5.5.1.1.1.3"><minus id="S3.p1.5.m1.5.5.1.1.1.3.1.cmml" xref="S3.p1.5.m1.5.5.1.1.1.3.1"></minus><ci id="S3.p1.5.m1.5.5.1.1.1.3.2.cmml" xref="S3.p1.5.m1.5.5.1.1.1.3.2">𝑀</ci><cn id="S3.p1.5.m1.5.5.1.1.1.3.3.cmml" type="integer" xref="S3.p1.5.m1.5.5.1.1.1.3.3">1</cn></apply></apply><apply id="S3.p1.5.m1.6.6.2.2.2.cmml" xref="S3.p1.5.m1.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.6.6.2.2.2.1.cmml" xref="S3.p1.5.m1.6.6.2.2.2">subscript</csymbol><ci id="S3.p1.5.m1.6.6.2.2.2.2.cmml" xref="S3.p1.5.m1.6.6.2.2.2.2">𝑡</ci><apply id="S3.p1.5.m1.6.6.2.2.2.3.cmml" xref="S3.p1.5.m1.6.6.2.2.2.3"><minus id="S3.p1.5.m1.6.6.2.2.2.3.1.cmml" xref="S3.p1.5.m1.6.6.2.2.2.3.1"></minus><ci id="S3.p1.5.m1.6.6.2.2.2.3.2.cmml" xref="S3.p1.5.m1.6.6.2.2.2.3.2">𝑍</ci><cn id="S3.p1.5.m1.6.6.2.2.2.3.3.cmml" type="integer" xref="S3.p1.5.m1.6.6.2.2.2.3.3">1</cn></apply></apply></list></apply><ci id="S3.p1.5.m1.12.12.3.3.3.3.cmml" xref="S3.p1.5.m1.12.12.3.3.3.3">𝑢</ci></apply><apply id="S3.p1.5.m1.13.13.4.4.4.cmml" xref="S3.p1.5.m1.13.13.4.4.4"><csymbol cd="ambiguous" id="S3.p1.5.m1.13.13.4.4.4.1.cmml" xref="S3.p1.5.m1.13.13.4.4.4">superscript</csymbol><apply id="S3.p1.5.m1.13.13.4.4.4.2.cmml" xref="S3.p1.5.m1.13.13.4.4.4"><csymbol cd="ambiguous" id="S3.p1.5.m1.13.13.4.4.4.2.1.cmml" xref="S3.p1.5.m1.13.13.4.4.4">subscript</csymbol><ci id="S3.p1.5.m1.13.13.4.4.4.2.2.cmml" xref="S3.p1.5.m1.13.13.4.4.4.2.2">𝑐</ci><list id="S3.p1.5.m1.8.8.2.3.cmml" xref="S3.p1.5.m1.8.8.2.2"><apply id="S3.p1.5.m1.7.7.1.1.1.cmml" xref="S3.p1.5.m1.7.7.1.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m1.7.7.1.1.1.1.cmml" xref="S3.p1.5.m1.7.7.1.1.1">subscript</csymbol><ci id="S3.p1.5.m1.7.7.1.1.1.2.cmml" xref="S3.p1.5.m1.7.7.1.1.1.2">𝑝</ci><ci id="S3.p1.5.m1.7.7.1.1.1.3.cmml" xref="S3.p1.5.m1.7.7.1.1.1.3">𝑀</ci></apply><apply id="S3.p1.5.m1.8.8.2.2.2.cmml" xref="S3.p1.5.m1.8.8.2.2.2"><csymbol cd="ambiguous" id="S3.p1.5.m1.8.8.2.2.2.1.cmml" xref="S3.p1.5.m1.8.8.2.2.2">subscript</csymbol><ci id="S3.p1.5.m1.8.8.2.2.2.2.cmml" xref="S3.p1.5.m1.8.8.2.2.2.2">𝑡</ci><ci id="S3.p1.5.m1.8.8.2.2.2.3.cmml" xref="S3.p1.5.m1.8.8.2.2.2.3">𝑍</ci></apply></list></apply><ci id="S3.p1.5.m1.13.13.4.4.4.3.cmml" xref="S3.p1.5.m1.13.13.4.4.4.3">𝑢</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m1.13c">T_{u}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{M-1},t_{Z-1}}^{u}%
,c_{p_{M},t_{Z}}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.5.m1.13d">italic_T start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_M - 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_Z - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_Z end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math>, represents a sequence of POIs visited by user <math alttext="u" class="ltx_Math" display="inline" id="S3.p1.6.m2.1"><semantics id="S3.p1.6.m2.1a"><mi id="S3.p1.6.m2.1.1" xref="S3.p1.6.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p1.6.m2.1b"><ci id="S3.p1.6.m2.1.1.cmml" xref="S3.p1.6.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.p1.6.m2.1d">italic_u</annotation></semantics></math> at time stamp <math alttext="t" class="ltx_Math" display="inline" id="S3.p1.7.m3.1"><semantics id="S3.p1.7.m3.1a"><mi id="S3.p1.7.m3.1.1" xref="S3.p1.7.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p1.7.m3.1b"><ci id="S3.p1.7.m3.1.1.cmml" xref="S3.p1.7.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.p1.7.m3.1d">italic_t</annotation></semantics></math>.
For simplicity, the trajectory <math alttext="T" class="ltx_Math" display="inline" id="S3.p1.8.m4.1"><semantics id="S3.p1.8.m4.1a"><mi id="S3.p1.8.m4.1.1" xref="S3.p1.8.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.p1.8.m4.1b"><ci id="S3.p1.8.m4.1.1.cmml" xref="S3.p1.8.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m4.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.p1.8.m4.1d">italic_T</annotation></semantics></math> denotes as <math alttext="T=\{p_{1},p_{2},\ldots,p_{M}\}" class="ltx_Math" display="inline" id="S3.p1.9.m5.4"><semantics id="S3.p1.9.m5.4a"><mrow id="S3.p1.9.m5.4.4" xref="S3.p1.9.m5.4.4.cmml"><mi id="S3.p1.9.m5.4.4.5" xref="S3.p1.9.m5.4.4.5.cmml">T</mi><mo id="S3.p1.9.m5.4.4.4" xref="S3.p1.9.m5.4.4.4.cmml">=</mo><mrow id="S3.p1.9.m5.4.4.3.3" xref="S3.p1.9.m5.4.4.3.4.cmml"><mo id="S3.p1.9.m5.4.4.3.3.4" stretchy="false" xref="S3.p1.9.m5.4.4.3.4.cmml">{</mo><msub id="S3.p1.9.m5.2.2.1.1.1" xref="S3.p1.9.m5.2.2.1.1.1.cmml"><mi id="S3.p1.9.m5.2.2.1.1.1.2" xref="S3.p1.9.m5.2.2.1.1.1.2.cmml">p</mi><mn id="S3.p1.9.m5.2.2.1.1.1.3" xref="S3.p1.9.m5.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.9.m5.4.4.3.3.5" xref="S3.p1.9.m5.4.4.3.4.cmml">,</mo><msub id="S3.p1.9.m5.3.3.2.2.2" xref="S3.p1.9.m5.3.3.2.2.2.cmml"><mi id="S3.p1.9.m5.3.3.2.2.2.2" xref="S3.p1.9.m5.3.3.2.2.2.2.cmml">p</mi><mn id="S3.p1.9.m5.3.3.2.2.2.3" xref="S3.p1.9.m5.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p1.9.m5.4.4.3.3.6" xref="S3.p1.9.m5.4.4.3.4.cmml">,</mo><mi id="S3.p1.9.m5.1.1" mathvariant="normal" xref="S3.p1.9.m5.1.1.cmml">…</mi><mo id="S3.p1.9.m5.4.4.3.3.7" xref="S3.p1.9.m5.4.4.3.4.cmml">,</mo><msub id="S3.p1.9.m5.4.4.3.3.3" xref="S3.p1.9.m5.4.4.3.3.3.cmml"><mi id="S3.p1.9.m5.4.4.3.3.3.2" xref="S3.p1.9.m5.4.4.3.3.3.2.cmml">p</mi><mi id="S3.p1.9.m5.4.4.3.3.3.3" xref="S3.p1.9.m5.4.4.3.3.3.3.cmml">M</mi></msub><mo id="S3.p1.9.m5.4.4.3.3.8" stretchy="false" xref="S3.p1.9.m5.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.9.m5.4b"><apply id="S3.p1.9.m5.4.4.cmml" xref="S3.p1.9.m5.4.4"><eq id="S3.p1.9.m5.4.4.4.cmml" xref="S3.p1.9.m5.4.4.4"></eq><ci id="S3.p1.9.m5.4.4.5.cmml" xref="S3.p1.9.m5.4.4.5">𝑇</ci><set id="S3.p1.9.m5.4.4.3.4.cmml" xref="S3.p1.9.m5.4.4.3.3"><apply id="S3.p1.9.m5.2.2.1.1.1.cmml" xref="S3.p1.9.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.9.m5.2.2.1.1.1.1.cmml" xref="S3.p1.9.m5.2.2.1.1.1">subscript</csymbol><ci id="S3.p1.9.m5.2.2.1.1.1.2.cmml" xref="S3.p1.9.m5.2.2.1.1.1.2">𝑝</ci><cn id="S3.p1.9.m5.2.2.1.1.1.3.cmml" type="integer" xref="S3.p1.9.m5.2.2.1.1.1.3">1</cn></apply><apply id="S3.p1.9.m5.3.3.2.2.2.cmml" xref="S3.p1.9.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p1.9.m5.3.3.2.2.2.1.cmml" xref="S3.p1.9.m5.3.3.2.2.2">subscript</csymbol><ci id="S3.p1.9.m5.3.3.2.2.2.2.cmml" xref="S3.p1.9.m5.3.3.2.2.2.2">𝑝</ci><cn id="S3.p1.9.m5.3.3.2.2.2.3.cmml" type="integer" xref="S3.p1.9.m5.3.3.2.2.2.3">2</cn></apply><ci id="S3.p1.9.m5.1.1.cmml" xref="S3.p1.9.m5.1.1">…</ci><apply id="S3.p1.9.m5.4.4.3.3.3.cmml" xref="S3.p1.9.m5.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p1.9.m5.4.4.3.3.3.1.cmml" xref="S3.p1.9.m5.4.4.3.3.3">subscript</csymbol><ci id="S3.p1.9.m5.4.4.3.3.3.2.cmml" xref="S3.p1.9.m5.4.4.3.3.3.2">𝑝</ci><ci id="S3.p1.9.m5.4.4.3.3.3.3.cmml" xref="S3.p1.9.m5.4.4.3.3.3.3">𝑀</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m5.4c">T=\{p_{1},p_{2},\ldots,p_{M}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.9.m5.4d">italic_T = { italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_p start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT }</annotation></semantics></math>.
The user’s check-in sequence is segmented into a set of consecutive trajectories
<math alttext="\{T_{1}^{u},T_{2}^{u},\ldots,T_{k}^{u}\}" class="ltx_Math" display="inline" id="S3.p1.10.m6.4"><semantics id="S3.p1.10.m6.4a"><mrow id="S3.p1.10.m6.4.4.3" xref="S3.p1.10.m6.4.4.4.cmml"><mo id="S3.p1.10.m6.4.4.3.4" stretchy="false" xref="S3.p1.10.m6.4.4.4.cmml">{</mo><msubsup id="S3.p1.10.m6.2.2.1.1" xref="S3.p1.10.m6.2.2.1.1.cmml"><mi id="S3.p1.10.m6.2.2.1.1.2.2" xref="S3.p1.10.m6.2.2.1.1.2.2.cmml">T</mi><mn id="S3.p1.10.m6.2.2.1.1.2.3" xref="S3.p1.10.m6.2.2.1.1.2.3.cmml">1</mn><mi id="S3.p1.10.m6.2.2.1.1.3" xref="S3.p1.10.m6.2.2.1.1.3.cmml">u</mi></msubsup><mo id="S3.p1.10.m6.4.4.3.5" xref="S3.p1.10.m6.4.4.4.cmml">,</mo><msubsup id="S3.p1.10.m6.3.3.2.2" xref="S3.p1.10.m6.3.3.2.2.cmml"><mi id="S3.p1.10.m6.3.3.2.2.2.2" xref="S3.p1.10.m6.3.3.2.2.2.2.cmml">T</mi><mn id="S3.p1.10.m6.3.3.2.2.2.3" xref="S3.p1.10.m6.3.3.2.2.2.3.cmml">2</mn><mi id="S3.p1.10.m6.3.3.2.2.3" xref="S3.p1.10.m6.3.3.2.2.3.cmml">u</mi></msubsup><mo id="S3.p1.10.m6.4.4.3.6" xref="S3.p1.10.m6.4.4.4.cmml">,</mo><mi id="S3.p1.10.m6.1.1" mathvariant="normal" xref="S3.p1.10.m6.1.1.cmml">…</mi><mo id="S3.p1.10.m6.4.4.3.7" xref="S3.p1.10.m6.4.4.4.cmml">,</mo><msubsup id="S3.p1.10.m6.4.4.3.3" xref="S3.p1.10.m6.4.4.3.3.cmml"><mi id="S3.p1.10.m6.4.4.3.3.2.2" xref="S3.p1.10.m6.4.4.3.3.2.2.cmml">T</mi><mi id="S3.p1.10.m6.4.4.3.3.2.3" xref="S3.p1.10.m6.4.4.3.3.2.3.cmml">k</mi><mi id="S3.p1.10.m6.4.4.3.3.3" xref="S3.p1.10.m6.4.4.3.3.3.cmml">u</mi></msubsup><mo id="S3.p1.10.m6.4.4.3.8" stretchy="false" xref="S3.p1.10.m6.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.10.m6.4b"><set id="S3.p1.10.m6.4.4.4.cmml" xref="S3.p1.10.m6.4.4.3"><apply id="S3.p1.10.m6.2.2.1.1.cmml" xref="S3.p1.10.m6.2.2.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m6.2.2.1.1.1.cmml" xref="S3.p1.10.m6.2.2.1.1">superscript</csymbol><apply id="S3.p1.10.m6.2.2.1.1.2.cmml" xref="S3.p1.10.m6.2.2.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m6.2.2.1.1.2.1.cmml" xref="S3.p1.10.m6.2.2.1.1">subscript</csymbol><ci id="S3.p1.10.m6.2.2.1.1.2.2.cmml" xref="S3.p1.10.m6.2.2.1.1.2.2">𝑇</ci><cn id="S3.p1.10.m6.2.2.1.1.2.3.cmml" type="integer" xref="S3.p1.10.m6.2.2.1.1.2.3">1</cn></apply><ci id="S3.p1.10.m6.2.2.1.1.3.cmml" xref="S3.p1.10.m6.2.2.1.1.3">𝑢</ci></apply><apply id="S3.p1.10.m6.3.3.2.2.cmml" xref="S3.p1.10.m6.3.3.2.2"><csymbol cd="ambiguous" id="S3.p1.10.m6.3.3.2.2.1.cmml" xref="S3.p1.10.m6.3.3.2.2">superscript</csymbol><apply id="S3.p1.10.m6.3.3.2.2.2.cmml" xref="S3.p1.10.m6.3.3.2.2"><csymbol cd="ambiguous" id="S3.p1.10.m6.3.3.2.2.2.1.cmml" xref="S3.p1.10.m6.3.3.2.2">subscript</csymbol><ci id="S3.p1.10.m6.3.3.2.2.2.2.cmml" xref="S3.p1.10.m6.3.3.2.2.2.2">𝑇</ci><cn id="S3.p1.10.m6.3.3.2.2.2.3.cmml" type="integer" xref="S3.p1.10.m6.3.3.2.2.2.3">2</cn></apply><ci id="S3.p1.10.m6.3.3.2.2.3.cmml" xref="S3.p1.10.m6.3.3.2.2.3">𝑢</ci></apply><ci id="S3.p1.10.m6.1.1.cmml" xref="S3.p1.10.m6.1.1">…</ci><apply id="S3.p1.10.m6.4.4.3.3.cmml" xref="S3.p1.10.m6.4.4.3.3"><csymbol cd="ambiguous" id="S3.p1.10.m6.4.4.3.3.1.cmml" xref="S3.p1.10.m6.4.4.3.3">superscript</csymbol><apply id="S3.p1.10.m6.4.4.3.3.2.cmml" xref="S3.p1.10.m6.4.4.3.3"><csymbol cd="ambiguous" id="S3.p1.10.m6.4.4.3.3.2.1.cmml" xref="S3.p1.10.m6.4.4.3.3">subscript</csymbol><ci id="S3.p1.10.m6.4.4.3.3.2.2.cmml" xref="S3.p1.10.m6.4.4.3.3.2.2">𝑇</ci><ci id="S3.p1.10.m6.4.4.3.3.2.3.cmml" xref="S3.p1.10.m6.4.4.3.3.2.3">𝑘</ci></apply><ci id="S3.p1.10.m6.4.4.3.3.3.cmml" xref="S3.p1.10.m6.4.4.3.3.3">𝑢</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.10.m6.4c">\{T_{1}^{u},T_{2}^{u},\ldots,T_{k}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.10.m6.4d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_T start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math>, where each trajectory <math alttext="T_{j}^{u}=\{c_{p_{m_{j}},t_{m_{j}}}^{u},\ldots,c_{p_{m_{j}+l_{j}-1},t_{m_{j}+l%
_{j}-1}}^{u}\}" class="ltx_Math" display="inline" id="S3.p1.11.m7.7"><semantics id="S3.p1.11.m7.7a"><mrow id="S3.p1.11.m7.7.7" xref="S3.p1.11.m7.7.7.cmml"><msubsup id="S3.p1.11.m7.7.7.4" xref="S3.p1.11.m7.7.7.4.cmml"><mi id="S3.p1.11.m7.7.7.4.2.2" xref="S3.p1.11.m7.7.7.4.2.2.cmml">T</mi><mi id="S3.p1.11.m7.7.7.4.2.3" xref="S3.p1.11.m7.7.7.4.2.3.cmml">j</mi><mi id="S3.p1.11.m7.7.7.4.3" xref="S3.p1.11.m7.7.7.4.3.cmml">u</mi></msubsup><mo id="S3.p1.11.m7.7.7.3" xref="S3.p1.11.m7.7.7.3.cmml">=</mo><mrow id="S3.p1.11.m7.7.7.2.2" xref="S3.p1.11.m7.7.7.2.3.cmml"><mo id="S3.p1.11.m7.7.7.2.2.3" stretchy="false" xref="S3.p1.11.m7.7.7.2.3.cmml">{</mo><msubsup id="S3.p1.11.m7.6.6.1.1.1" xref="S3.p1.11.m7.6.6.1.1.1.cmml"><mi id="S3.p1.11.m7.6.6.1.1.1.2.2" xref="S3.p1.11.m7.6.6.1.1.1.2.2.cmml">c</mi><mrow id="S3.p1.11.m7.2.2.2.2" xref="S3.p1.11.m7.2.2.2.3.cmml"><msub id="S3.p1.11.m7.1.1.1.1.1" xref="S3.p1.11.m7.1.1.1.1.1.cmml"><mi id="S3.p1.11.m7.1.1.1.1.1.2" xref="S3.p1.11.m7.1.1.1.1.1.2.cmml">p</mi><msub id="S3.p1.11.m7.1.1.1.1.1.3" xref="S3.p1.11.m7.1.1.1.1.1.3.cmml"><mi id="S3.p1.11.m7.1.1.1.1.1.3.2" xref="S3.p1.11.m7.1.1.1.1.1.3.2.cmml">m</mi><mi id="S3.p1.11.m7.1.1.1.1.1.3.3" xref="S3.p1.11.m7.1.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S3.p1.11.m7.2.2.2.2.3" xref="S3.p1.11.m7.2.2.2.3.cmml">,</mo><msub id="S3.p1.11.m7.2.2.2.2.2" xref="S3.p1.11.m7.2.2.2.2.2.cmml"><mi id="S3.p1.11.m7.2.2.2.2.2.2" xref="S3.p1.11.m7.2.2.2.2.2.2.cmml">t</mi><msub id="S3.p1.11.m7.2.2.2.2.2.3" xref="S3.p1.11.m7.2.2.2.2.2.3.cmml"><mi id="S3.p1.11.m7.2.2.2.2.2.3.2" xref="S3.p1.11.m7.2.2.2.2.2.3.2.cmml">m</mi><mi id="S3.p1.11.m7.2.2.2.2.2.3.3" xref="S3.p1.11.m7.2.2.2.2.2.3.3.cmml">j</mi></msub></msub></mrow><mi id="S3.p1.11.m7.6.6.1.1.1.3" xref="S3.p1.11.m7.6.6.1.1.1.3.cmml">u</mi></msubsup><mo id="S3.p1.11.m7.7.7.2.2.4" xref="S3.p1.11.m7.7.7.2.3.cmml">,</mo><mi id="S3.p1.11.m7.5.5" mathvariant="normal" xref="S3.p1.11.m7.5.5.cmml">…</mi><mo id="S3.p1.11.m7.7.7.2.2.5" xref="S3.p1.11.m7.7.7.2.3.cmml">,</mo><msubsup id="S3.p1.11.m7.7.7.2.2.2" xref="S3.p1.11.m7.7.7.2.2.2.cmml"><mi id="S3.p1.11.m7.7.7.2.2.2.2.2" xref="S3.p1.11.m7.7.7.2.2.2.2.2.cmml">c</mi><mrow id="S3.p1.11.m7.4.4.2.2" xref="S3.p1.11.m7.4.4.2.3.cmml"><msub id="S3.p1.11.m7.3.3.1.1.1" xref="S3.p1.11.m7.3.3.1.1.1.cmml"><mi id="S3.p1.11.m7.3.3.1.1.1.2" xref="S3.p1.11.m7.3.3.1.1.1.2.cmml">p</mi><mrow id="S3.p1.11.m7.3.3.1.1.1.3" xref="S3.p1.11.m7.3.3.1.1.1.3.cmml"><mrow id="S3.p1.11.m7.3.3.1.1.1.3.2" xref="S3.p1.11.m7.3.3.1.1.1.3.2.cmml"><msub id="S3.p1.11.m7.3.3.1.1.1.3.2.2" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2.cmml"><mi id="S3.p1.11.m7.3.3.1.1.1.3.2.2.2" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2.2.cmml">m</mi><mi id="S3.p1.11.m7.3.3.1.1.1.3.2.2.3" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2.3.cmml">j</mi></msub><mo id="S3.p1.11.m7.3.3.1.1.1.3.2.1" xref="S3.p1.11.m7.3.3.1.1.1.3.2.1.cmml">+</mo><msub id="S3.p1.11.m7.3.3.1.1.1.3.2.3" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3.cmml"><mi id="S3.p1.11.m7.3.3.1.1.1.3.2.3.2" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3.2.cmml">l</mi><mi id="S3.p1.11.m7.3.3.1.1.1.3.2.3.3" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3.3.cmml">j</mi></msub></mrow><mo id="S3.p1.11.m7.3.3.1.1.1.3.1" xref="S3.p1.11.m7.3.3.1.1.1.3.1.cmml">−</mo><mn id="S3.p1.11.m7.3.3.1.1.1.3.3" xref="S3.p1.11.m7.3.3.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S3.p1.11.m7.4.4.2.2.3" xref="S3.p1.11.m7.4.4.2.3.cmml">,</mo><msub id="S3.p1.11.m7.4.4.2.2.2" xref="S3.p1.11.m7.4.4.2.2.2.cmml"><mi id="S3.p1.11.m7.4.4.2.2.2.2" xref="S3.p1.11.m7.4.4.2.2.2.2.cmml">t</mi><mrow id="S3.p1.11.m7.4.4.2.2.2.3" xref="S3.p1.11.m7.4.4.2.2.2.3.cmml"><mrow id="S3.p1.11.m7.4.4.2.2.2.3.2" xref="S3.p1.11.m7.4.4.2.2.2.3.2.cmml"><msub id="S3.p1.11.m7.4.4.2.2.2.3.2.2" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2.cmml"><mi id="S3.p1.11.m7.4.4.2.2.2.3.2.2.2" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2.2.cmml">m</mi><mi id="S3.p1.11.m7.4.4.2.2.2.3.2.2.3" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2.3.cmml">j</mi></msub><mo id="S3.p1.11.m7.4.4.2.2.2.3.2.1" xref="S3.p1.11.m7.4.4.2.2.2.3.2.1.cmml">+</mo><msub id="S3.p1.11.m7.4.4.2.2.2.3.2.3" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3.cmml"><mi id="S3.p1.11.m7.4.4.2.2.2.3.2.3.2" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3.2.cmml">l</mi><mi id="S3.p1.11.m7.4.4.2.2.2.3.2.3.3" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3.3.cmml">j</mi></msub></mrow><mo id="S3.p1.11.m7.4.4.2.2.2.3.1" xref="S3.p1.11.m7.4.4.2.2.2.3.1.cmml">−</mo><mn id="S3.p1.11.m7.4.4.2.2.2.3.3" xref="S3.p1.11.m7.4.4.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow><mi id="S3.p1.11.m7.7.7.2.2.2.3" xref="S3.p1.11.m7.7.7.2.2.2.3.cmml">u</mi></msubsup><mo id="S3.p1.11.m7.7.7.2.2.6" stretchy="false" xref="S3.p1.11.m7.7.7.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.11.m7.7b"><apply id="S3.p1.11.m7.7.7.cmml" xref="S3.p1.11.m7.7.7"><eq id="S3.p1.11.m7.7.7.3.cmml" xref="S3.p1.11.m7.7.7.3"></eq><apply id="S3.p1.11.m7.7.7.4.cmml" xref="S3.p1.11.m7.7.7.4"><csymbol cd="ambiguous" id="S3.p1.11.m7.7.7.4.1.cmml" xref="S3.p1.11.m7.7.7.4">superscript</csymbol><apply id="S3.p1.11.m7.7.7.4.2.cmml" xref="S3.p1.11.m7.7.7.4"><csymbol cd="ambiguous" id="S3.p1.11.m7.7.7.4.2.1.cmml" xref="S3.p1.11.m7.7.7.4">subscript</csymbol><ci id="S3.p1.11.m7.7.7.4.2.2.cmml" xref="S3.p1.11.m7.7.7.4.2.2">𝑇</ci><ci id="S3.p1.11.m7.7.7.4.2.3.cmml" xref="S3.p1.11.m7.7.7.4.2.3">𝑗</ci></apply><ci id="S3.p1.11.m7.7.7.4.3.cmml" xref="S3.p1.11.m7.7.7.4.3">𝑢</ci></apply><set id="S3.p1.11.m7.7.7.2.3.cmml" xref="S3.p1.11.m7.7.7.2.2"><apply id="S3.p1.11.m7.6.6.1.1.1.cmml" xref="S3.p1.11.m7.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.p1.11.m7.6.6.1.1.1.1.cmml" xref="S3.p1.11.m7.6.6.1.1.1">superscript</csymbol><apply id="S3.p1.11.m7.6.6.1.1.1.2.cmml" xref="S3.p1.11.m7.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.p1.11.m7.6.6.1.1.1.2.1.cmml" xref="S3.p1.11.m7.6.6.1.1.1">subscript</csymbol><ci id="S3.p1.11.m7.6.6.1.1.1.2.2.cmml" xref="S3.p1.11.m7.6.6.1.1.1.2.2">𝑐</ci><list id="S3.p1.11.m7.2.2.2.3.cmml" xref="S3.p1.11.m7.2.2.2.2"><apply id="S3.p1.11.m7.1.1.1.1.1.cmml" xref="S3.p1.11.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.11.m7.1.1.1.1.1.1.cmml" xref="S3.p1.11.m7.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.11.m7.1.1.1.1.1.2.cmml" xref="S3.p1.11.m7.1.1.1.1.1.2">𝑝</ci><apply id="S3.p1.11.m7.1.1.1.1.1.3.cmml" xref="S3.p1.11.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p1.11.m7.1.1.1.1.1.3.1.cmml" xref="S3.p1.11.m7.1.1.1.1.1.3">subscript</csymbol><ci id="S3.p1.11.m7.1.1.1.1.1.3.2.cmml" xref="S3.p1.11.m7.1.1.1.1.1.3.2">𝑚</ci><ci id="S3.p1.11.m7.1.1.1.1.1.3.3.cmml" xref="S3.p1.11.m7.1.1.1.1.1.3.3">𝑗</ci></apply></apply><apply id="S3.p1.11.m7.2.2.2.2.2.cmml" xref="S3.p1.11.m7.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.2.2.2.2.2.1.cmml" xref="S3.p1.11.m7.2.2.2.2.2">subscript</csymbol><ci id="S3.p1.11.m7.2.2.2.2.2.2.cmml" xref="S3.p1.11.m7.2.2.2.2.2.2">𝑡</ci><apply id="S3.p1.11.m7.2.2.2.2.2.3.cmml" xref="S3.p1.11.m7.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.p1.11.m7.2.2.2.2.2.3.1.cmml" xref="S3.p1.11.m7.2.2.2.2.2.3">subscript</csymbol><ci id="S3.p1.11.m7.2.2.2.2.2.3.2.cmml" xref="S3.p1.11.m7.2.2.2.2.2.3.2">𝑚</ci><ci id="S3.p1.11.m7.2.2.2.2.2.3.3.cmml" xref="S3.p1.11.m7.2.2.2.2.2.3.3">𝑗</ci></apply></apply></list></apply><ci id="S3.p1.11.m7.6.6.1.1.1.3.cmml" xref="S3.p1.11.m7.6.6.1.1.1.3">𝑢</ci></apply><ci id="S3.p1.11.m7.5.5.cmml" xref="S3.p1.11.m7.5.5">…</ci><apply id="S3.p1.11.m7.7.7.2.2.2.cmml" xref="S3.p1.11.m7.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.7.7.2.2.2.1.cmml" xref="S3.p1.11.m7.7.7.2.2.2">superscript</csymbol><apply id="S3.p1.11.m7.7.7.2.2.2.2.cmml" xref="S3.p1.11.m7.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.7.7.2.2.2.2.1.cmml" xref="S3.p1.11.m7.7.7.2.2.2">subscript</csymbol><ci id="S3.p1.11.m7.7.7.2.2.2.2.2.cmml" xref="S3.p1.11.m7.7.7.2.2.2.2.2">𝑐</ci><list id="S3.p1.11.m7.4.4.2.3.cmml" xref="S3.p1.11.m7.4.4.2.2"><apply id="S3.p1.11.m7.3.3.1.1.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p1.11.m7.3.3.1.1.1.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1">subscript</csymbol><ci id="S3.p1.11.m7.3.3.1.1.1.2.cmml" xref="S3.p1.11.m7.3.3.1.1.1.2">𝑝</ci><apply id="S3.p1.11.m7.3.3.1.1.1.3.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3"><minus id="S3.p1.11.m7.3.3.1.1.1.3.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.1"></minus><apply id="S3.p1.11.m7.3.3.1.1.1.3.2.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2"><plus id="S3.p1.11.m7.3.3.1.1.1.3.2.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.1"></plus><apply id="S3.p1.11.m7.3.3.1.1.1.3.2.2.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.3.3.1.1.1.3.2.2.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2">subscript</csymbol><ci id="S3.p1.11.m7.3.3.1.1.1.3.2.2.2.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2.2">𝑚</ci><ci id="S3.p1.11.m7.3.3.1.1.1.3.2.2.3.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.2.3">𝑗</ci></apply><apply id="S3.p1.11.m7.3.3.1.1.1.3.2.3.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.p1.11.m7.3.3.1.1.1.3.2.3.1.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3">subscript</csymbol><ci id="S3.p1.11.m7.3.3.1.1.1.3.2.3.2.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3.2">𝑙</ci><ci id="S3.p1.11.m7.3.3.1.1.1.3.2.3.3.cmml" xref="S3.p1.11.m7.3.3.1.1.1.3.2.3.3">𝑗</ci></apply></apply><cn id="S3.p1.11.m7.3.3.1.1.1.3.3.cmml" type="integer" xref="S3.p1.11.m7.3.3.1.1.1.3.3">1</cn></apply></apply><apply id="S3.p1.11.m7.4.4.2.2.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.4.4.2.2.2.1.cmml" xref="S3.p1.11.m7.4.4.2.2.2">subscript</csymbol><ci id="S3.p1.11.m7.4.4.2.2.2.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2.2">𝑡</ci><apply id="S3.p1.11.m7.4.4.2.2.2.3.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3"><minus id="S3.p1.11.m7.4.4.2.2.2.3.1.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.1"></minus><apply id="S3.p1.11.m7.4.4.2.2.2.3.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2"><plus id="S3.p1.11.m7.4.4.2.2.2.3.2.1.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.1"></plus><apply id="S3.p1.11.m7.4.4.2.2.2.3.2.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2"><csymbol cd="ambiguous" id="S3.p1.11.m7.4.4.2.2.2.3.2.2.1.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2">subscript</csymbol><ci id="S3.p1.11.m7.4.4.2.2.2.3.2.2.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2.2">𝑚</ci><ci id="S3.p1.11.m7.4.4.2.2.2.3.2.2.3.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.2.3">𝑗</ci></apply><apply id="S3.p1.11.m7.4.4.2.2.2.3.2.3.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3"><csymbol cd="ambiguous" id="S3.p1.11.m7.4.4.2.2.2.3.2.3.1.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3">subscript</csymbol><ci id="S3.p1.11.m7.4.4.2.2.2.3.2.3.2.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3.2">𝑙</ci><ci id="S3.p1.11.m7.4.4.2.2.2.3.2.3.3.cmml" xref="S3.p1.11.m7.4.4.2.2.2.3.2.3.3">𝑗</ci></apply></apply><cn id="S3.p1.11.m7.4.4.2.2.2.3.3.cmml" type="integer" xref="S3.p1.11.m7.4.4.2.2.2.3.3">1</cn></apply></apply></list></apply><ci id="S3.p1.11.m7.7.7.2.2.2.3.cmml" xref="S3.p1.11.m7.7.7.2.2.2.3">𝑢</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.11.m7.7c">T_{j}^{u}=\{c_{p_{m_{j}},t_{m_{j}}}^{u},\ldots,c_{p_{m_{j}+l_{j}-1},t_{m_{j}+l%
_{j}-1}}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.11.m7.7d">italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT = { italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT + italic_l start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_m start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT + italic_l start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math> represents a distinct sequence of POIs visited by user
<math alttext="u\in U" class="ltx_Math" display="inline" id="S3.p1.12.m8.1"><semantics id="S3.p1.12.m8.1a"><mrow id="S3.p1.12.m8.1.1" xref="S3.p1.12.m8.1.1.cmml"><mi id="S3.p1.12.m8.1.1.2" xref="S3.p1.12.m8.1.1.2.cmml">u</mi><mo id="S3.p1.12.m8.1.1.1" xref="S3.p1.12.m8.1.1.1.cmml">∈</mo><mi id="S3.p1.12.m8.1.1.3" xref="S3.p1.12.m8.1.1.3.cmml">U</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.12.m8.1b"><apply id="S3.p1.12.m8.1.1.cmml" xref="S3.p1.12.m8.1.1"><in id="S3.p1.12.m8.1.1.1.cmml" xref="S3.p1.12.m8.1.1.1"></in><ci id="S3.p1.12.m8.1.1.2.cmml" xref="S3.p1.12.m8.1.1.2">𝑢</ci><ci id="S3.p1.12.m8.1.1.3.cmml" xref="S3.p1.12.m8.1.1.3">𝑈</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.12.m8.1c">u\in U</annotation><annotation encoding="application/x-llamapun" id="S3.p1.12.m8.1d">italic_u ∈ italic_U</annotation></semantics></math> in a short time interval (e.g., 24 hours).
Given a historic trajectory <math alttext="T^{\prime}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{m},t_{z}}^{u}\}" class="ltx_Math" display="inline" id="S3.p1.13.m9.10"><semantics id="S3.p1.13.m9.10a"><mrow id="S3.p1.13.m9.10.10" xref="S3.p1.13.m9.10.10.cmml"><msup id="S3.p1.13.m9.10.10.5" xref="S3.p1.13.m9.10.10.5.cmml"><mi id="S3.p1.13.m9.10.10.5.2" xref="S3.p1.13.m9.10.10.5.2.cmml">T</mi><mo id="S3.p1.13.m9.10.10.5.3" xref="S3.p1.13.m9.10.10.5.3.cmml">′</mo></msup><mo id="S3.p1.13.m9.10.10.4" xref="S3.p1.13.m9.10.10.4.cmml">=</mo><mrow id="S3.p1.13.m9.10.10.3.3" xref="S3.p1.13.m9.10.10.3.4.cmml"><mo id="S3.p1.13.m9.10.10.3.3.4" stretchy="false" xref="S3.p1.13.m9.10.10.3.4.cmml">{</mo><msubsup id="S3.p1.13.m9.8.8.1.1.1" xref="S3.p1.13.m9.8.8.1.1.1.cmml"><mi id="S3.p1.13.m9.8.8.1.1.1.2.2" xref="S3.p1.13.m9.8.8.1.1.1.2.2.cmml">c</mi><mrow id="S3.p1.13.m9.2.2.2.2" xref="S3.p1.13.m9.2.2.2.3.cmml"><msub id="S3.p1.13.m9.1.1.1.1.1" xref="S3.p1.13.m9.1.1.1.1.1.cmml"><mi id="S3.p1.13.m9.1.1.1.1.1.2" xref="S3.p1.13.m9.1.1.1.1.1.2.cmml">p</mi><mn id="S3.p1.13.m9.1.1.1.1.1.3" xref="S3.p1.13.m9.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.13.m9.2.2.2.2.3" xref="S3.p1.13.m9.2.2.2.3.cmml">,</mo><msub id="S3.p1.13.m9.2.2.2.2.2" xref="S3.p1.13.m9.2.2.2.2.2.cmml"><mi id="S3.p1.13.m9.2.2.2.2.2.2" xref="S3.p1.13.m9.2.2.2.2.2.2.cmml">t</mi><mn id="S3.p1.13.m9.2.2.2.2.2.3" xref="S3.p1.13.m9.2.2.2.2.2.3.cmml">1</mn></msub></mrow><mi id="S3.p1.13.m9.8.8.1.1.1.3" xref="S3.p1.13.m9.8.8.1.1.1.3.cmml">u</mi></msubsup><mo id="S3.p1.13.m9.10.10.3.3.5" xref="S3.p1.13.m9.10.10.3.4.cmml">,</mo><msubsup id="S3.p1.13.m9.9.9.2.2.2" xref="S3.p1.13.m9.9.9.2.2.2.cmml"><mi id="S3.p1.13.m9.9.9.2.2.2.2.2" xref="S3.p1.13.m9.9.9.2.2.2.2.2.cmml">c</mi><mrow id="S3.p1.13.m9.4.4.2.2" xref="S3.p1.13.m9.4.4.2.3.cmml"><msub id="S3.p1.13.m9.3.3.1.1.1" xref="S3.p1.13.m9.3.3.1.1.1.cmml"><mi id="S3.p1.13.m9.3.3.1.1.1.2" xref="S3.p1.13.m9.3.3.1.1.1.2.cmml">p</mi><mn id="S3.p1.13.m9.3.3.1.1.1.3" xref="S3.p1.13.m9.3.3.1.1.1.3.cmml">2</mn></msub><mo id="S3.p1.13.m9.4.4.2.2.3" xref="S3.p1.13.m9.4.4.2.3.cmml">,</mo><msub id="S3.p1.13.m9.4.4.2.2.2" xref="S3.p1.13.m9.4.4.2.2.2.cmml"><mi id="S3.p1.13.m9.4.4.2.2.2.2" xref="S3.p1.13.m9.4.4.2.2.2.2.cmml">t</mi><mn id="S3.p1.13.m9.4.4.2.2.2.3" xref="S3.p1.13.m9.4.4.2.2.2.3.cmml">2</mn></msub></mrow><mi id="S3.p1.13.m9.9.9.2.2.2.3" xref="S3.p1.13.m9.9.9.2.2.2.3.cmml">u</mi></msubsup><mo id="S3.p1.13.m9.10.10.3.3.6" xref="S3.p1.13.m9.10.10.3.4.cmml">,</mo><mi id="S3.p1.13.m9.7.7" mathvariant="normal" xref="S3.p1.13.m9.7.7.cmml">…</mi><mo id="S3.p1.13.m9.10.10.3.3.7" xref="S3.p1.13.m9.10.10.3.4.cmml">,</mo><msubsup id="S3.p1.13.m9.10.10.3.3.3" xref="S3.p1.13.m9.10.10.3.3.3.cmml"><mi id="S3.p1.13.m9.10.10.3.3.3.2.2" xref="S3.p1.13.m9.10.10.3.3.3.2.2.cmml">c</mi><mrow id="S3.p1.13.m9.6.6.2.2" xref="S3.p1.13.m9.6.6.2.3.cmml"><msub id="S3.p1.13.m9.5.5.1.1.1" xref="S3.p1.13.m9.5.5.1.1.1.cmml"><mi id="S3.p1.13.m9.5.5.1.1.1.2" xref="S3.p1.13.m9.5.5.1.1.1.2.cmml">p</mi><mi id="S3.p1.13.m9.5.5.1.1.1.3" xref="S3.p1.13.m9.5.5.1.1.1.3.cmml">m</mi></msub><mo id="S3.p1.13.m9.6.6.2.2.3" xref="S3.p1.13.m9.6.6.2.3.cmml">,</mo><msub id="S3.p1.13.m9.6.6.2.2.2" xref="S3.p1.13.m9.6.6.2.2.2.cmml"><mi id="S3.p1.13.m9.6.6.2.2.2.2" xref="S3.p1.13.m9.6.6.2.2.2.2.cmml">t</mi><mi id="S3.p1.13.m9.6.6.2.2.2.3" xref="S3.p1.13.m9.6.6.2.2.2.3.cmml">z</mi></msub></mrow><mi id="S3.p1.13.m9.10.10.3.3.3.3" xref="S3.p1.13.m9.10.10.3.3.3.3.cmml">u</mi></msubsup><mo id="S3.p1.13.m9.10.10.3.3.8" stretchy="false" xref="S3.p1.13.m9.10.10.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.13.m9.10b"><apply id="S3.p1.13.m9.10.10.cmml" xref="S3.p1.13.m9.10.10"><eq id="S3.p1.13.m9.10.10.4.cmml" xref="S3.p1.13.m9.10.10.4"></eq><apply id="S3.p1.13.m9.10.10.5.cmml" xref="S3.p1.13.m9.10.10.5"><csymbol cd="ambiguous" id="S3.p1.13.m9.10.10.5.1.cmml" xref="S3.p1.13.m9.10.10.5">superscript</csymbol><ci id="S3.p1.13.m9.10.10.5.2.cmml" xref="S3.p1.13.m9.10.10.5.2">𝑇</ci><ci id="S3.p1.13.m9.10.10.5.3.cmml" xref="S3.p1.13.m9.10.10.5.3">′</ci></apply><set id="S3.p1.13.m9.10.10.3.4.cmml" xref="S3.p1.13.m9.10.10.3.3"><apply id="S3.p1.13.m9.8.8.1.1.1.cmml" xref="S3.p1.13.m9.8.8.1.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m9.8.8.1.1.1.1.cmml" xref="S3.p1.13.m9.8.8.1.1.1">superscript</csymbol><apply id="S3.p1.13.m9.8.8.1.1.1.2.cmml" xref="S3.p1.13.m9.8.8.1.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m9.8.8.1.1.1.2.1.cmml" xref="S3.p1.13.m9.8.8.1.1.1">subscript</csymbol><ci id="S3.p1.13.m9.8.8.1.1.1.2.2.cmml" xref="S3.p1.13.m9.8.8.1.1.1.2.2">𝑐</ci><list id="S3.p1.13.m9.2.2.2.3.cmml" xref="S3.p1.13.m9.2.2.2.2"><apply id="S3.p1.13.m9.1.1.1.1.1.cmml" xref="S3.p1.13.m9.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m9.1.1.1.1.1.1.cmml" xref="S3.p1.13.m9.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.13.m9.1.1.1.1.1.2.cmml" xref="S3.p1.13.m9.1.1.1.1.1.2">𝑝</ci><cn id="S3.p1.13.m9.1.1.1.1.1.3.cmml" type="integer" xref="S3.p1.13.m9.1.1.1.1.1.3">1</cn></apply><apply id="S3.p1.13.m9.2.2.2.2.2.cmml" xref="S3.p1.13.m9.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.13.m9.2.2.2.2.2.1.cmml" xref="S3.p1.13.m9.2.2.2.2.2">subscript</csymbol><ci id="S3.p1.13.m9.2.2.2.2.2.2.cmml" xref="S3.p1.13.m9.2.2.2.2.2.2">𝑡</ci><cn id="S3.p1.13.m9.2.2.2.2.2.3.cmml" type="integer" xref="S3.p1.13.m9.2.2.2.2.2.3">1</cn></apply></list></apply><ci id="S3.p1.13.m9.8.8.1.1.1.3.cmml" xref="S3.p1.13.m9.8.8.1.1.1.3">𝑢</ci></apply><apply id="S3.p1.13.m9.9.9.2.2.2.cmml" xref="S3.p1.13.m9.9.9.2.2.2"><csymbol cd="ambiguous" id="S3.p1.13.m9.9.9.2.2.2.1.cmml" xref="S3.p1.13.m9.9.9.2.2.2">superscript</csymbol><apply id="S3.p1.13.m9.9.9.2.2.2.2.cmml" xref="S3.p1.13.m9.9.9.2.2.2"><csymbol cd="ambiguous" id="S3.p1.13.m9.9.9.2.2.2.2.1.cmml" xref="S3.p1.13.m9.9.9.2.2.2">subscript</csymbol><ci id="S3.p1.13.m9.9.9.2.2.2.2.2.cmml" xref="S3.p1.13.m9.9.9.2.2.2.2.2">𝑐</ci><list id="S3.p1.13.m9.4.4.2.3.cmml" xref="S3.p1.13.m9.4.4.2.2"><apply id="S3.p1.13.m9.3.3.1.1.1.cmml" xref="S3.p1.13.m9.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m9.3.3.1.1.1.1.cmml" xref="S3.p1.13.m9.3.3.1.1.1">subscript</csymbol><ci id="S3.p1.13.m9.3.3.1.1.1.2.cmml" xref="S3.p1.13.m9.3.3.1.1.1.2">𝑝</ci><cn id="S3.p1.13.m9.3.3.1.1.1.3.cmml" type="integer" xref="S3.p1.13.m9.3.3.1.1.1.3">2</cn></apply><apply id="S3.p1.13.m9.4.4.2.2.2.cmml" xref="S3.p1.13.m9.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p1.13.m9.4.4.2.2.2.1.cmml" xref="S3.p1.13.m9.4.4.2.2.2">subscript</csymbol><ci id="S3.p1.13.m9.4.4.2.2.2.2.cmml" xref="S3.p1.13.m9.4.4.2.2.2.2">𝑡</ci><cn id="S3.p1.13.m9.4.4.2.2.2.3.cmml" type="integer" xref="S3.p1.13.m9.4.4.2.2.2.3">2</cn></apply></list></apply><ci id="S3.p1.13.m9.9.9.2.2.2.3.cmml" xref="S3.p1.13.m9.9.9.2.2.2.3">𝑢</ci></apply><ci id="S3.p1.13.m9.7.7.cmml" xref="S3.p1.13.m9.7.7">…</ci><apply id="S3.p1.13.m9.10.10.3.3.3.cmml" xref="S3.p1.13.m9.10.10.3.3.3"><csymbol cd="ambiguous" id="S3.p1.13.m9.10.10.3.3.3.1.cmml" xref="S3.p1.13.m9.10.10.3.3.3">superscript</csymbol><apply id="S3.p1.13.m9.10.10.3.3.3.2.cmml" xref="S3.p1.13.m9.10.10.3.3.3"><csymbol cd="ambiguous" id="S3.p1.13.m9.10.10.3.3.3.2.1.cmml" xref="S3.p1.13.m9.10.10.3.3.3">subscript</csymbol><ci id="S3.p1.13.m9.10.10.3.3.3.2.2.cmml" xref="S3.p1.13.m9.10.10.3.3.3.2.2">𝑐</ci><list id="S3.p1.13.m9.6.6.2.3.cmml" xref="S3.p1.13.m9.6.6.2.2"><apply id="S3.p1.13.m9.5.5.1.1.1.cmml" xref="S3.p1.13.m9.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.p1.13.m9.5.5.1.1.1.1.cmml" xref="S3.p1.13.m9.5.5.1.1.1">subscript</csymbol><ci id="S3.p1.13.m9.5.5.1.1.1.2.cmml" xref="S3.p1.13.m9.5.5.1.1.1.2">𝑝</ci><ci id="S3.p1.13.m9.5.5.1.1.1.3.cmml" xref="S3.p1.13.m9.5.5.1.1.1.3">𝑚</ci></apply><apply id="S3.p1.13.m9.6.6.2.2.2.cmml" xref="S3.p1.13.m9.6.6.2.2.2"><csymbol cd="ambiguous" id="S3.p1.13.m9.6.6.2.2.2.1.cmml" xref="S3.p1.13.m9.6.6.2.2.2">subscript</csymbol><ci id="S3.p1.13.m9.6.6.2.2.2.2.cmml" xref="S3.p1.13.m9.6.6.2.2.2.2">𝑡</ci><ci id="S3.p1.13.m9.6.6.2.2.2.3.cmml" xref="S3.p1.13.m9.6.6.2.2.2.3">𝑧</ci></apply></list></apply><ci id="S3.p1.13.m9.10.10.3.3.3.3.cmml" xref="S3.p1.13.m9.10.10.3.3.3.3">𝑢</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.13.m9.10c">T^{\prime}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{m},t_{z}}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.13.m9.10d">italic_T start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = { italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_z end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math> of user <math alttext="u" class="ltx_Math" display="inline" id="S3.p1.14.m10.1"><semantics id="S3.p1.14.m10.1a"><mi id="S3.p1.14.m10.1.1" xref="S3.p1.14.m10.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p1.14.m10.1b"><ci id="S3.p1.14.m10.1.1.cmml" xref="S3.p1.14.m10.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.14.m10.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.p1.14.m10.1d">italic_u</annotation></semantics></math>, MASPOI task is to predict the probable subsequent POI <math alttext="p_{m+1}" class="ltx_Math" display="inline" id="S3.p1.15.m11.1"><semantics id="S3.p1.15.m11.1a"><msub id="S3.p1.15.m11.1.1" xref="S3.p1.15.m11.1.1.cmml"><mi id="S3.p1.15.m11.1.1.2" xref="S3.p1.15.m11.1.1.2.cmml">p</mi><mrow id="S3.p1.15.m11.1.1.3" xref="S3.p1.15.m11.1.1.3.cmml"><mi id="S3.p1.15.m11.1.1.3.2" xref="S3.p1.15.m11.1.1.3.2.cmml">m</mi><mo id="S3.p1.15.m11.1.1.3.1" xref="S3.p1.15.m11.1.1.3.1.cmml">+</mo><mn id="S3.p1.15.m11.1.1.3.3" xref="S3.p1.15.m11.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p1.15.m11.1b"><apply id="S3.p1.15.m11.1.1.cmml" xref="S3.p1.15.m11.1.1"><csymbol cd="ambiguous" id="S3.p1.15.m11.1.1.1.cmml" xref="S3.p1.15.m11.1.1">subscript</csymbol><ci id="S3.p1.15.m11.1.1.2.cmml" xref="S3.p1.15.m11.1.1.2">𝑝</ci><apply id="S3.p1.15.m11.1.1.3.cmml" xref="S3.p1.15.m11.1.1.3"><plus id="S3.p1.15.m11.1.1.3.1.cmml" xref="S3.p1.15.m11.1.1.3.1"></plus><ci id="S3.p1.15.m11.1.1.3.2.cmml" xref="S3.p1.15.m11.1.1.3.2">𝑚</ci><cn id="S3.p1.15.m11.1.1.3.3.cmml" type="integer" xref="S3.p1.15.m11.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.15.m11.1c">p_{m+1}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.15.m11.1d">italic_p start_POSTSUBSCRIPT italic_m + 1 end_POSTSUBSCRIPT</annotation></semantics></math> to improve location-based services relevance and personalization.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Method</h2>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.10.2.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="S4.T1.2.1" style="font-size:90%;">Selected agents for the three MAS4POI applications. A ✓ indicates a required agent, while a <math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.2.1.m1.1"><semantics id="S4.T1.2.1.m1.1b"><mo id="S4.T1.2.1.m1.1.1" xref="S4.T1.2.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.1.m1.1c"><ci id="S4.T1.2.1.m1.1.1.cmml" xref="S4.T1.2.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.1.m1.1d">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.1.m1.1e">○</annotation></semantics></math> indicates an optional one.</span></figcaption>
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.8">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.8.7.1">
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T1.8.7.1.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.1.1">
<span class="ltx_p" id="S4.T1.8.7.1.1.1.1">Task</span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.2.1">
<span class="ltx_p" id="S4.T1.8.7.1.2.1.1">User</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.3" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.3.1">
<span class="ltx_p" id="S4.T1.8.7.1.3.1.1">Analyst</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.4" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.4.1">
<span class="ltx_p" id="S4.T1.8.7.1.4.1.1">Reflector</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.5" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.5.1">
<span class="ltx_p" id="S4.T1.8.7.1.5.1.1">Searcher</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.6" style="width:51.2pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.6.1">
<span class="ltx_p" id="S4.T1.8.7.1.6.1.1">DataAgent</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_tt" id="S4.T1.8.7.1.7" style="width:39.8pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.7.1.7.1">
<span class="ltx_p" id="S4.T1.8.7.1.7.1.1">Navigator</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.2">
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.4.2.3" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.4.2.3.1">
<span class="ltx_p" id="S4.T1.4.2.3.1.1">RE</span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.4.2.4" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.4.2.4.1">
<span class="ltx_p" id="S4.T1.4.2.4.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.4.2.5" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.4.2.5.1">
<span class="ltx_p" id="S4.T1.4.2.5.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.3.1.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.3.1.1.1">
<span class="ltx_p" id="S4.T1.3.1.1.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.3.1.1.1.1.m1.1"><semantics id="S4.T1.3.1.1.1.1.m1.1a"><mo id="S4.T1.3.1.1.1.1.m1.1.1" xref="S4.T1.3.1.1.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.1.1.1.m1.1b"><ci id="S4.T1.3.1.1.1.1.m1.1.1.cmml" xref="S4.T1.3.1.1.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.1.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.1.1.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.4.2.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.4.2.2.1">
<span class="ltx_p" id="S4.T1.4.2.2.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.4.2.2.1.1.m1.1"><semantics id="S4.T1.4.2.2.1.1.m1.1a"><mo id="S4.T1.4.2.2.1.1.m1.1.1" xref="S4.T1.4.2.2.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.2.2.1.1.m1.1b"><ci id="S4.T1.4.2.2.1.1.m1.1.1.cmml" xref="S4.T1.4.2.2.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.2.2.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.2.2.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.4.2.6" style="width:51.2pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.4.2.6.1">
<span class="ltx_p" id="S4.T1.4.2.6.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_t" id="S4.T1.4.2.7" style="width:39.8pt;"></td>
</tr>
<tr class="ltx_tr" id="S4.T1.6.4">
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_row ltx_border_r" id="S4.T1.6.4.3" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.6.4.3.1">
<span class="ltx_p" id="S4.T1.6.4.3.1.1">QA</span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.6.4.4" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.6.4.4.1">
<span class="ltx_p" id="S4.T1.6.4.4.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.5.3.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.5.3.1.1">
<span class="ltx_p" id="S4.T1.5.3.1.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.5.3.1.1.1.m1.1"><semantics id="S4.T1.5.3.1.1.1.m1.1a"><mo id="S4.T1.5.3.1.1.1.m1.1.1" xref="S4.T1.5.3.1.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.5.3.1.1.1.m1.1b"><ci id="S4.T1.5.3.1.1.1.m1.1.1.cmml" xref="S4.T1.5.3.1.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.3.1.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.5.3.1.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.6.4.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.6.4.2.1">
<span class="ltx_p" id="S4.T1.6.4.2.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.6.4.2.1.1.m1.1"><semantics id="S4.T1.6.4.2.1.1.m1.1a"><mo id="S4.T1.6.4.2.1.1.m1.1.1" xref="S4.T1.6.4.2.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.6.4.2.1.1.m1.1b"><ci id="S4.T1.6.4.2.1.1.m1.1.1.cmml" xref="S4.T1.6.4.2.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.4.2.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.6.4.2.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.6.4.5" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.6.4.5.1">
<span class="ltx_p" id="S4.T1.6.4.5.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.6.4.6" style="width:51.2pt;"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle" id="S4.T1.6.4.7" style="width:39.8pt;"></td>
</tr>
<tr class="ltx_tr" id="S4.T1.8.6">
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_row ltx_border_b ltx_border_r" id="S4.T1.8.6.3" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.6.3.1">
<span class="ltx_p" id="S4.T1.8.6.3.1.1">NA</span>
</span>
</th>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.8.6.4" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.6.4.1">
<span class="ltx_p" id="S4.T1.8.6.4.1.1">✓</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.8.6.5" style="width:42.7pt;"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.7.5.1" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.7.5.1.1">
<span class="ltx_p" id="S4.T1.7.5.1.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.7.5.1.1.1.m1.1"><semantics id="S4.T1.7.5.1.1.1.m1.1a"><mo id="S4.T1.7.5.1.1.1.m1.1.1" xref="S4.T1.7.5.1.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.7.5.1.1.1.m1.1b"><ci id="S4.T1.7.5.1.1.1.m1.1.1.cmml" xref="S4.T1.7.5.1.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.5.1.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.7.5.1.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.8.6.2" style="width:42.7pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.6.2.1">
<span class="ltx_p" id="S4.T1.8.6.2.1.1"><math alttext="\bigcirc" class="ltx_Math" display="inline" id="S4.T1.8.6.2.1.1.m1.1"><semantics id="S4.T1.8.6.2.1.1.m1.1a"><mo id="S4.T1.8.6.2.1.1.m1.1.1" xref="S4.T1.8.6.2.1.1.m1.1.1.cmml">○</mo><annotation-xml encoding="MathML-Content" id="S4.T1.8.6.2.1.1.m1.1b"><ci id="S4.T1.8.6.2.1.1.m1.1.1.cmml" xref="S4.T1.8.6.2.1.1.m1.1.1">○</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.6.2.1.1.m1.1c">\bigcirc</annotation><annotation encoding="application/x-llamapun" id="S4.T1.8.6.2.1.1.m1.1d">○</annotation></semantics></math></span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.8.6.6" style="width:51.2pt;"></td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b" id="S4.T1.8.6.7" style="width:39.8pt;">
<span class="ltx_inline-block ltx_align_top" id="S4.T1.8.6.7.1">
<span class="ltx_p" id="S4.T1.8.6.7.1.1">✓</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_figure" id="S4.F2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.3.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S4.F2.4.2" style="font-size:90%;">The Overall Framework of MAS4POI in Next POI Recommendation Task.</span></figcaption>
<p class="ltx_p ltx_align_center" id="S4.F2.1"><span class="ltx_text ltx_inline-block" id="S4.F2.1.1" style="width:433.6pt;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="560" id="S4.F2.1.1.g1" src="x2.png" width="996"/>
</span></p>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Framework Overview.</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">A MAS4POI system overall framework is illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.F2" title="Figure 2 ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>. It comprises of three primary applications: Next POI Recommendation, Q&amp;A, and Navigation.
The next POI Recommendation is the core of the workflow with Q&amp;A and Nav- igation as supplementary tasks with details as follows:</p>
</div>
<section class="ltx_subsubsection" id="S4.SS1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Next POI Recommendation:</h4>
<div class="ltx_para" id="S4.SS1.SSSx1.p1">
<p class="ltx_p" id="S4.SS1.SSSx1.p1.1">This process begins with the DataAgent to preprocess POI data input and constructs various check-in records based on available information.
The Manager is a central component of the system to deliver the preprocessed data to the Analyst so that it can examine user’s past trajectory and generate an initial recommendation for the next POI.
This recommendation is subsequently delivered to the Reflector for relevance and accuracy assessment.
The Reflector suggests modifications if discrepancies are identified.
Finally, the Manager conveys the refined recommendation to the UserAgent to interact with human user.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Q&amp;A:</h4>
<div class="ltx_para" id="S4.SS1.SSSx2.p1">
<p class="ltx_p" id="S4.SS1.SSSx2.p1.1">The Manager can invoke the Searcher to manage specific queries from human in parallel so that the Searcher can access search engines to retrieve relevant information and summarize responses.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSSx3">
<h4 class="ltx_title ltx_title_subsubsection">Navigation:</h4>
<div class="ltx_para" id="S4.SS1.SSSx3.p1">
<p class="ltx_p" id="S4.SS1.SSSx3.p1.1">Once the user confirms the next POI, the Manager engages the Navigator to initiate the navigation process.
The Navigator generates a static map by the UserAgent.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx3.p2">
<p class="ltx_p" id="S4.SS1.SSSx3.p2.1">An overview of the agents selected for each scenario in MAS4POI is listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.T1" title="Table 1 ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>.
The following sections describe each agent’s characteristics and functions in details.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Role Agents.</h3>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Manager</h4>
<div class="ltx_para" id="S4.SS2.SSS1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.p1.7">coordinates and optimizes system performance through two primary states: monitoring and operational.
In the monitoring state, it monitors various agents’ progresses and awaits tasks completion:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\vspace{-0.5mm}M_{\text{monitor}}(\tau)=\prod_{a=1}^{N}\left(1-\delta(D_{a}(%
\tau))\right)" class="ltx_Math" display="block" id="S4.E1.m1.3"><semantics id="S4.E1.m1.3a"><mrow id="S4.E1.m1.3.3" xref="S4.E1.m1.3.3.cmml"><mrow id="S4.E1.m1.3.3.3" xref="S4.E1.m1.3.3.3.cmml"><msub id="S4.E1.m1.3.3.3.2" xref="S4.E1.m1.3.3.3.2.cmml"><mi id="S4.E1.m1.3.3.3.2.2" xref="S4.E1.m1.3.3.3.2.2.cmml">M</mi><mtext id="S4.E1.m1.3.3.3.2.3" xref="S4.E1.m1.3.3.3.2.3a.cmml">monitor</mtext></msub><mo id="S4.E1.m1.3.3.3.1" xref="S4.E1.m1.3.3.3.1.cmml">⁢</mo><mrow id="S4.E1.m1.3.3.3.3.2" xref="S4.E1.m1.3.3.3.cmml"><mo id="S4.E1.m1.3.3.3.3.2.1" stretchy="false" xref="S4.E1.m1.3.3.3.cmml">(</mo><mi id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml">τ</mi><mo id="S4.E1.m1.3.3.3.3.2.2" stretchy="false" xref="S4.E1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.3.3.2" rspace="0.111em" xref="S4.E1.m1.3.3.2.cmml">=</mo><mrow id="S4.E1.m1.3.3.1" xref="S4.E1.m1.3.3.1.cmml"><munderover id="S4.E1.m1.3.3.1.2" xref="S4.E1.m1.3.3.1.2.cmml"><mo id="S4.E1.m1.3.3.1.2.2.2" movablelimits="false" rspace="0em" xref="S4.E1.m1.3.3.1.2.2.2.cmml">∏</mo><mrow id="S4.E1.m1.3.3.1.2.2.3" xref="S4.E1.m1.3.3.1.2.2.3.cmml"><mi id="S4.E1.m1.3.3.1.2.2.3.2" xref="S4.E1.m1.3.3.1.2.2.3.2.cmml">a</mi><mo id="S4.E1.m1.3.3.1.2.2.3.1" xref="S4.E1.m1.3.3.1.2.2.3.1.cmml">=</mo><mn id="S4.E1.m1.3.3.1.2.2.3.3" xref="S4.E1.m1.3.3.1.2.2.3.3.cmml">1</mn></mrow><mi id="S4.E1.m1.3.3.1.2.3" xref="S4.E1.m1.3.3.1.2.3.cmml">N</mi></munderover><mrow id="S4.E1.m1.3.3.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.cmml"><mo id="S4.E1.m1.3.3.1.1.1.2" xref="S4.E1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.E1.m1.3.3.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.cmml"><mn id="S4.E1.m1.3.3.1.1.1.1.3" xref="S4.E1.m1.3.3.1.1.1.1.3.cmml">1</mn><mo id="S4.E1.m1.3.3.1.1.1.1.2" xref="S4.E1.m1.3.3.1.1.1.1.2.cmml">−</mo><mrow id="S4.E1.m1.3.3.1.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.1.cmml"><mi id="S4.E1.m1.3.3.1.1.1.1.1.3" xref="S4.E1.m1.3.3.1.1.1.1.1.3.cmml">δ</mi><mo id="S4.E1.m1.3.3.1.1.1.1.1.2" xref="S4.E1.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E1.m1.3.3.1.1.1.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E1.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">D</mi><mi id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.3" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">a</mi></msub><mo id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">⁢</mo><mrow id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S4.E1.m1.2.2" xref="S4.E1.m1.2.2.cmml">τ</mi><mo id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.3.2.2" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E1.m1.3.3.1.1.1.3" xref="S4.E1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.3b"><apply id="S4.E1.m1.3.3.cmml" xref="S4.E1.m1.3.3"><eq id="S4.E1.m1.3.3.2.cmml" xref="S4.E1.m1.3.3.2"></eq><apply id="S4.E1.m1.3.3.3.cmml" xref="S4.E1.m1.3.3.3"><times id="S4.E1.m1.3.3.3.1.cmml" xref="S4.E1.m1.3.3.3.1"></times><apply id="S4.E1.m1.3.3.3.2.cmml" xref="S4.E1.m1.3.3.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.3.2.1.cmml" xref="S4.E1.m1.3.3.3.2">subscript</csymbol><ci id="S4.E1.m1.3.3.3.2.2.cmml" xref="S4.E1.m1.3.3.3.2.2">𝑀</ci><ci id="S4.E1.m1.3.3.3.2.3a.cmml" xref="S4.E1.m1.3.3.3.2.3"><mtext id="S4.E1.m1.3.3.3.2.3.cmml" mathsize="70%" xref="S4.E1.m1.3.3.3.2.3">monitor</mtext></ci></apply><ci id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1">𝜏</ci></apply><apply id="S4.E1.m1.3.3.1.cmml" xref="S4.E1.m1.3.3.1"><apply id="S4.E1.m1.3.3.1.2.cmml" xref="S4.E1.m1.3.3.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.2.1.cmml" xref="S4.E1.m1.3.3.1.2">superscript</csymbol><apply id="S4.E1.m1.3.3.1.2.2.cmml" xref="S4.E1.m1.3.3.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.2.2.1.cmml" xref="S4.E1.m1.3.3.1.2">subscript</csymbol><csymbol cd="latexml" id="S4.E1.m1.3.3.1.2.2.2.cmml" xref="S4.E1.m1.3.3.1.2.2.2">product</csymbol><apply id="S4.E1.m1.3.3.1.2.2.3.cmml" xref="S4.E1.m1.3.3.1.2.2.3"><eq id="S4.E1.m1.3.3.1.2.2.3.1.cmml" xref="S4.E1.m1.3.3.1.2.2.3.1"></eq><ci id="S4.E1.m1.3.3.1.2.2.3.2.cmml" xref="S4.E1.m1.3.3.1.2.2.3.2">𝑎</ci><cn id="S4.E1.m1.3.3.1.2.2.3.3.cmml" type="integer" xref="S4.E1.m1.3.3.1.2.2.3.3">1</cn></apply></apply><ci id="S4.E1.m1.3.3.1.2.3.cmml" xref="S4.E1.m1.3.3.1.2.3">𝑁</ci></apply><apply id="S4.E1.m1.3.3.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1"><minus id="S4.E1.m1.3.3.1.1.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.2"></minus><cn id="S4.E1.m1.3.3.1.1.1.1.3.cmml" type="integer" xref="S4.E1.m1.3.3.1.1.1.1.3">1</cn><apply id="S4.E1.m1.3.3.1.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1"><times id="S4.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.2"></times><ci id="S4.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.3">𝛿</ci><apply id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1"><times id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.1"></times><apply id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝐷</ci><ci id="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.1.1.1.2.3">𝑎</ci></apply><ci id="S4.E1.m1.2.2.cmml" xref="S4.E1.m1.2.2">𝜏</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.3c">\vspace{-0.5mm}M_{\text{monitor}}(\tau)=\prod_{a=1}^{N}\left(1-\delta(D_{a}(%
\tau))\right)</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.3d">italic_M start_POSTSUBSCRIPT monitor end_POSTSUBSCRIPT ( italic_τ ) = ∏ start_POSTSUBSCRIPT italic_a = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT ( 1 - italic_δ ( italic_D start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT ( italic_τ ) ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.p1.4">where <math alttext="\delta(D_{a}(\tau))" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.1.m1.2"><semantics id="S4.SS2.SSS1.p1.1.m1.2a"><mrow id="S4.SS2.SSS1.p1.1.m1.2.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.cmml"><mi id="S4.SS2.SSS1.p1.1.m1.2.2.3" xref="S4.SS2.SSS1.p1.1.m1.2.2.3.cmml">δ</mi><mo id="S4.SS2.SSS1.p1.1.m1.2.2.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.1.m1.2.2.1.1" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml"><mo id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml"><msub id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.2.cmml">D</mi><mi id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.3" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.3.cmml">a</mi></msub><mo id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.1" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.3.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml"><mo id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.3.2.1" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml">(</mo><mi id="S4.SS2.SSS1.p1.1.m1.1.1" xref="S4.SS2.SSS1.p1.1.m1.1.1.cmml">τ</mi><mo id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.3.2.2" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.1.m1.2b"><apply id="S4.SS2.SSS1.p1.1.m1.2.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2"><times id="S4.SS2.SSS1.p1.1.m1.2.2.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.2"></times><ci id="S4.SS2.SSS1.p1.1.m1.2.2.3.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.3">𝛿</ci><apply id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1"><times id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.1"></times><apply id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.2">𝐷</ci><ci id="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.1.1.1.2.3">𝑎</ci></apply><ci id="S4.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1">𝜏</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.1.m1.2c">\delta(D_{a}(\tau))</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.1.m1.2d">italic_δ ( italic_D start_POSTSUBSCRIPT italic_a end_POSTSUBSCRIPT ( italic_τ ) )</annotation></semantics></math> is an indicator function that returns 1 if the task assigned to agent <math alttext="a" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.2.m2.1"><semantics id="S4.SS2.SSS1.p1.2.m2.1a"><mi id="S4.SS2.SSS1.p1.2.m2.1.1" xref="S4.SS2.SSS1.p1.2.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.2.m2.1b"><ci id="S4.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p1.2.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.2.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.2.m2.1d">italic_a</annotation></semantics></math> is incomplete at the given time, and 0 otherwise.
Then Manager allocates tasks based on the current system state <math alttext="S(\tau)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.3.m3.1"><semantics id="S4.SS2.SSS1.p1.3.m3.1a"><mrow id="S4.SS2.SSS1.p1.3.m3.1.2" xref="S4.SS2.SSS1.p1.3.m3.1.2.cmml"><mi id="S4.SS2.SSS1.p1.3.m3.1.2.2" xref="S4.SS2.SSS1.p1.3.m3.1.2.2.cmml">S</mi><mo id="S4.SS2.SSS1.p1.3.m3.1.2.1" xref="S4.SS2.SSS1.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.3.m3.1.2.3.2" xref="S4.SS2.SSS1.p1.3.m3.1.2.cmml"><mo id="S4.SS2.SSS1.p1.3.m3.1.2.3.2.1" stretchy="false" xref="S4.SS2.SSS1.p1.3.m3.1.2.cmml">(</mo><mi id="S4.SS2.SSS1.p1.3.m3.1.1" xref="S4.SS2.SSS1.p1.3.m3.1.1.cmml">τ</mi><mo id="S4.SS2.SSS1.p1.3.m3.1.2.3.2.2" stretchy="false" xref="S4.SS2.SSS1.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.3.m3.1b"><apply id="S4.SS2.SSS1.p1.3.m3.1.2.cmml" xref="S4.SS2.SSS1.p1.3.m3.1.2"><times id="S4.SS2.SSS1.p1.3.m3.1.2.1.cmml" xref="S4.SS2.SSS1.p1.3.m3.1.2.1"></times><ci id="S4.SS2.SSS1.p1.3.m3.1.2.2.cmml" xref="S4.SS2.SSS1.p1.3.m3.1.2.2">𝑆</ci><ci id="S4.SS2.SSS1.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p1.3.m3.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.3.m3.1c">S(\tau)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.3.m3.1d">italic_S ( italic_τ )</annotation></semantics></math> and available resources <math alttext="R(\tau)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.4.m4.1"><semantics id="S4.SS2.SSS1.p1.4.m4.1a"><mrow id="S4.SS2.SSS1.p1.4.m4.1.2" xref="S4.SS2.SSS1.p1.4.m4.1.2.cmml"><mi id="S4.SS2.SSS1.p1.4.m4.1.2.2" xref="S4.SS2.SSS1.p1.4.m4.1.2.2.cmml">R</mi><mo id="S4.SS2.SSS1.p1.4.m4.1.2.1" xref="S4.SS2.SSS1.p1.4.m4.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.4.m4.1.2.3.2" xref="S4.SS2.SSS1.p1.4.m4.1.2.cmml"><mo id="S4.SS2.SSS1.p1.4.m4.1.2.3.2.1" stretchy="false" xref="S4.SS2.SSS1.p1.4.m4.1.2.cmml">(</mo><mi id="S4.SS2.SSS1.p1.4.m4.1.1" xref="S4.SS2.SSS1.p1.4.m4.1.1.cmml">τ</mi><mo id="S4.SS2.SSS1.p1.4.m4.1.2.3.2.2" stretchy="false" xref="S4.SS2.SSS1.p1.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.4.m4.1b"><apply id="S4.SS2.SSS1.p1.4.m4.1.2.cmml" xref="S4.SS2.SSS1.p1.4.m4.1.2"><times id="S4.SS2.SSS1.p1.4.m4.1.2.1.cmml" xref="S4.SS2.SSS1.p1.4.m4.1.2.1"></times><ci id="S4.SS2.SSS1.p1.4.m4.1.2.2.cmml" xref="S4.SS2.SSS1.p1.4.m4.1.2.2">𝑅</ci><ci id="S4.SS2.SSS1.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p1.4.m4.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.4.m4.1c">R(\tau)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.4.m4.1d">italic_R ( italic_τ )</annotation></semantics></math> in the operational state:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Allocates_{i}(\tau)=f(S(\tau),R(\tau))" class="ltx_Math" display="block" id="S4.E2.m1.5"><semantics id="S4.E2.m1.5a"><mrow id="S4.E2.m1.5.5" xref="S4.E2.m1.5.5.cmml"><mrow id="S4.E2.m1.5.5.4" xref="S4.E2.m1.5.5.4.cmml"><mi id="S4.E2.m1.5.5.4.2" xref="S4.E2.m1.5.5.4.2.cmml">A</mi><mo id="S4.E2.m1.5.5.4.1" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.3" xref="S4.E2.m1.5.5.4.3.cmml">l</mi><mo id="S4.E2.m1.5.5.4.1a" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.4" xref="S4.E2.m1.5.5.4.4.cmml">l</mi><mo id="S4.E2.m1.5.5.4.1b" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.5" xref="S4.E2.m1.5.5.4.5.cmml">o</mi><mo id="S4.E2.m1.5.5.4.1c" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.6" xref="S4.E2.m1.5.5.4.6.cmml">c</mi><mo id="S4.E2.m1.5.5.4.1d" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.7" xref="S4.E2.m1.5.5.4.7.cmml">a</mi><mo id="S4.E2.m1.5.5.4.1e" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.8" xref="S4.E2.m1.5.5.4.8.cmml">t</mi><mo id="S4.E2.m1.5.5.4.1f" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mi id="S4.E2.m1.5.5.4.9" xref="S4.E2.m1.5.5.4.9.cmml">e</mi><mo id="S4.E2.m1.5.5.4.1g" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><msub id="S4.E2.m1.5.5.4.10" xref="S4.E2.m1.5.5.4.10.cmml"><mi id="S4.E2.m1.5.5.4.10.2" xref="S4.E2.m1.5.5.4.10.2.cmml">s</mi><mi id="S4.E2.m1.5.5.4.10.3" xref="S4.E2.m1.5.5.4.10.3.cmml">i</mi></msub><mo id="S4.E2.m1.5.5.4.1h" xref="S4.E2.m1.5.5.4.1.cmml">⁢</mo><mrow id="S4.E2.m1.5.5.4.11.2" xref="S4.E2.m1.5.5.4.cmml"><mo id="S4.E2.m1.5.5.4.11.2.1" stretchy="false" xref="S4.E2.m1.5.5.4.cmml">(</mo><mi id="S4.E2.m1.1.1" xref="S4.E2.m1.1.1.cmml">τ</mi><mo id="S4.E2.m1.5.5.4.11.2.2" stretchy="false" xref="S4.E2.m1.5.5.4.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.5.5.3" xref="S4.E2.m1.5.5.3.cmml">=</mo><mrow id="S4.E2.m1.5.5.2" xref="S4.E2.m1.5.5.2.cmml"><mi id="S4.E2.m1.5.5.2.4" xref="S4.E2.m1.5.5.2.4.cmml">f</mi><mo id="S4.E2.m1.5.5.2.3" xref="S4.E2.m1.5.5.2.3.cmml">⁢</mo><mrow id="S4.E2.m1.5.5.2.2.2" xref="S4.E2.m1.5.5.2.2.3.cmml"><mo id="S4.E2.m1.5.5.2.2.2.3" stretchy="false" xref="S4.E2.m1.5.5.2.2.3.cmml">(</mo><mrow id="S4.E2.m1.4.4.1.1.1.1" xref="S4.E2.m1.4.4.1.1.1.1.cmml"><mi id="S4.E2.m1.4.4.1.1.1.1.2" xref="S4.E2.m1.4.4.1.1.1.1.2.cmml">S</mi><mo id="S4.E2.m1.4.4.1.1.1.1.1" xref="S4.E2.m1.4.4.1.1.1.1.1.cmml">⁢</mo><mrow id="S4.E2.m1.4.4.1.1.1.1.3.2" xref="S4.E2.m1.4.4.1.1.1.1.cmml"><mo id="S4.E2.m1.4.4.1.1.1.1.3.2.1" stretchy="false" xref="S4.E2.m1.4.4.1.1.1.1.cmml">(</mo><mi id="S4.E2.m1.2.2" xref="S4.E2.m1.2.2.cmml">τ</mi><mo id="S4.E2.m1.4.4.1.1.1.1.3.2.2" stretchy="false" xref="S4.E2.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.5.5.2.2.2.4" xref="S4.E2.m1.5.5.2.2.3.cmml">,</mo><mrow id="S4.E2.m1.5.5.2.2.2.2" xref="S4.E2.m1.5.5.2.2.2.2.cmml"><mi id="S4.E2.m1.5.5.2.2.2.2.2" xref="S4.E2.m1.5.5.2.2.2.2.2.cmml">R</mi><mo id="S4.E2.m1.5.5.2.2.2.2.1" xref="S4.E2.m1.5.5.2.2.2.2.1.cmml">⁢</mo><mrow id="S4.E2.m1.5.5.2.2.2.2.3.2" xref="S4.E2.m1.5.5.2.2.2.2.cmml"><mo id="S4.E2.m1.5.5.2.2.2.2.3.2.1" stretchy="false" xref="S4.E2.m1.5.5.2.2.2.2.cmml">(</mo><mi id="S4.E2.m1.3.3" xref="S4.E2.m1.3.3.cmml">τ</mi><mo id="S4.E2.m1.5.5.2.2.2.2.3.2.2" stretchy="false" xref="S4.E2.m1.5.5.2.2.2.2.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.5.5.2.2.2.5" stretchy="false" xref="S4.E2.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.5b"><apply id="S4.E2.m1.5.5.cmml" xref="S4.E2.m1.5.5"><eq id="S4.E2.m1.5.5.3.cmml" xref="S4.E2.m1.5.5.3"></eq><apply id="S4.E2.m1.5.5.4.cmml" xref="S4.E2.m1.5.5.4"><times id="S4.E2.m1.5.5.4.1.cmml" xref="S4.E2.m1.5.5.4.1"></times><ci id="S4.E2.m1.5.5.4.2.cmml" xref="S4.E2.m1.5.5.4.2">𝐴</ci><ci id="S4.E2.m1.5.5.4.3.cmml" xref="S4.E2.m1.5.5.4.3">𝑙</ci><ci id="S4.E2.m1.5.5.4.4.cmml" xref="S4.E2.m1.5.5.4.4">𝑙</ci><ci id="S4.E2.m1.5.5.4.5.cmml" xref="S4.E2.m1.5.5.4.5">𝑜</ci><ci id="S4.E2.m1.5.5.4.6.cmml" xref="S4.E2.m1.5.5.4.6">𝑐</ci><ci id="S4.E2.m1.5.5.4.7.cmml" xref="S4.E2.m1.5.5.4.7">𝑎</ci><ci id="S4.E2.m1.5.5.4.8.cmml" xref="S4.E2.m1.5.5.4.8">𝑡</ci><ci id="S4.E2.m1.5.5.4.9.cmml" xref="S4.E2.m1.5.5.4.9">𝑒</ci><apply id="S4.E2.m1.5.5.4.10.cmml" xref="S4.E2.m1.5.5.4.10"><csymbol cd="ambiguous" id="S4.E2.m1.5.5.4.10.1.cmml" xref="S4.E2.m1.5.5.4.10">subscript</csymbol><ci id="S4.E2.m1.5.5.4.10.2.cmml" xref="S4.E2.m1.5.5.4.10.2">𝑠</ci><ci id="S4.E2.m1.5.5.4.10.3.cmml" xref="S4.E2.m1.5.5.4.10.3">𝑖</ci></apply><ci id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1">𝜏</ci></apply><apply id="S4.E2.m1.5.5.2.cmml" xref="S4.E2.m1.5.5.2"><times id="S4.E2.m1.5.5.2.3.cmml" xref="S4.E2.m1.5.5.2.3"></times><ci id="S4.E2.m1.5.5.2.4.cmml" xref="S4.E2.m1.5.5.2.4">𝑓</ci><interval closure="open" id="S4.E2.m1.5.5.2.2.3.cmml" xref="S4.E2.m1.5.5.2.2.2"><apply id="S4.E2.m1.4.4.1.1.1.1.cmml" xref="S4.E2.m1.4.4.1.1.1.1"><times id="S4.E2.m1.4.4.1.1.1.1.1.cmml" xref="S4.E2.m1.4.4.1.1.1.1.1"></times><ci id="S4.E2.m1.4.4.1.1.1.1.2.cmml" xref="S4.E2.m1.4.4.1.1.1.1.2">𝑆</ci><ci id="S4.E2.m1.2.2.cmml" xref="S4.E2.m1.2.2">𝜏</ci></apply><apply id="S4.E2.m1.5.5.2.2.2.2.cmml" xref="S4.E2.m1.5.5.2.2.2.2"><times id="S4.E2.m1.5.5.2.2.2.2.1.cmml" xref="S4.E2.m1.5.5.2.2.2.2.1"></times><ci id="S4.E2.m1.5.5.2.2.2.2.2.cmml" xref="S4.E2.m1.5.5.2.2.2.2.2">𝑅</ci><ci id="S4.E2.m1.3.3.cmml" xref="S4.E2.m1.3.3">𝜏</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.5c">Allocates_{i}(\tau)=f(S(\tau),R(\tau))</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.5d">italic_A italic_l italic_l italic_o italic_c italic_a italic_t italic_e italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_τ ) = italic_f ( italic_S ( italic_τ ) , italic_R ( italic_τ ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS1.p1.6">Here, <math alttext="Allocates_{i}(\tau)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.5.m1.1"><semantics id="S4.SS2.SSS1.p1.5.m1.1a"><mrow id="S4.SS2.SSS1.p1.5.m1.1.2" xref="S4.SS2.SSS1.p1.5.m1.1.2.cmml"><mi id="S4.SS2.SSS1.p1.5.m1.1.2.2" xref="S4.SS2.SSS1.p1.5.m1.1.2.2.cmml">A</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.3" xref="S4.SS2.SSS1.p1.5.m1.1.2.3.cmml">l</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1a" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.4" xref="S4.SS2.SSS1.p1.5.m1.1.2.4.cmml">l</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1b" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.5" xref="S4.SS2.SSS1.p1.5.m1.1.2.5.cmml">o</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1c" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.6" xref="S4.SS2.SSS1.p1.5.m1.1.2.6.cmml">c</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1d" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.7" xref="S4.SS2.SSS1.p1.5.m1.1.2.7.cmml">a</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1e" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.8" xref="S4.SS2.SSS1.p1.5.m1.1.2.8.cmml">t</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1f" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.2.9" xref="S4.SS2.SSS1.p1.5.m1.1.2.9.cmml">e</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1g" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><msub id="S4.SS2.SSS1.p1.5.m1.1.2.10" xref="S4.SS2.SSS1.p1.5.m1.1.2.10.cmml"><mi id="S4.SS2.SSS1.p1.5.m1.1.2.10.2" xref="S4.SS2.SSS1.p1.5.m1.1.2.10.2.cmml">s</mi><mi id="S4.SS2.SSS1.p1.5.m1.1.2.10.3" xref="S4.SS2.SSS1.p1.5.m1.1.2.10.3.cmml">i</mi></msub><mo id="S4.SS2.SSS1.p1.5.m1.1.2.1h" xref="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.5.m1.1.2.11.2" xref="S4.SS2.SSS1.p1.5.m1.1.2.cmml"><mo id="S4.SS2.SSS1.p1.5.m1.1.2.11.2.1" stretchy="false" xref="S4.SS2.SSS1.p1.5.m1.1.2.cmml">(</mo><mi id="S4.SS2.SSS1.p1.5.m1.1.1" xref="S4.SS2.SSS1.p1.5.m1.1.1.cmml">τ</mi><mo id="S4.SS2.SSS1.p1.5.m1.1.2.11.2.2" stretchy="false" xref="S4.SS2.SSS1.p1.5.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.5.m1.1b"><apply id="S4.SS2.SSS1.p1.5.m1.1.2.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2"><times id="S4.SS2.SSS1.p1.5.m1.1.2.1.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.1"></times><ci id="S4.SS2.SSS1.p1.5.m1.1.2.2.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.2">𝐴</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.3.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.3">𝑙</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.4.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.4">𝑙</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.5.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.5">𝑜</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.6.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.6">𝑐</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.7.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.7">𝑎</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.8.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.8">𝑡</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.9.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.9">𝑒</ci><apply id="S4.SS2.SSS1.p1.5.m1.1.2.10.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.10"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.5.m1.1.2.10.1.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.10">subscript</csymbol><ci id="S4.SS2.SSS1.p1.5.m1.1.2.10.2.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.10.2">𝑠</ci><ci id="S4.SS2.SSS1.p1.5.m1.1.2.10.3.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.2.10.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p1.5.m1.1.1.cmml" xref="S4.SS2.SSS1.p1.5.m1.1.1">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.5.m1.1c">Allocates_{i}(\tau)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.5.m1.1d">italic_A italic_l italic_l italic_o italic_c italic_a italic_t italic_e italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ( italic_τ )</annotation></semantics></math> represents the sub-tasks assigned to agent <math alttext="a" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.6.m2.1"><semantics id="S4.SS2.SSS1.p1.6.m2.1a"><mi id="S4.SS2.SSS1.p1.6.m2.1.1" xref="S4.SS2.SSS1.p1.6.m2.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.6.m2.1b"><ci id="S4.SS2.SSS1.p1.6.m2.1.1.cmml" xref="S4.SS2.SSS1.p1.6.m2.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.6.m2.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.6.m2.1d">italic_a</annotation></semantics></math>.
The Manager effectively coordinates the activities of other agents within the system by controlling these assignments.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.3.1.1">Algorithm 1</span> </span> <span class="ltx_text ltx_font_italic" id="alg1.4.2">Reflector</span> with in MAS4POI, all details have been discussed in section  <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.SS2.SSS2" title="4.2.2 Reflector ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">4.2.2</span></a></figcaption>
<div class="ltx_listing ltx_listing" id="alg1.5">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span>Input <math alttext="x" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_x</annotation></semantics></math>, Manager <math alttext="\mathcal{M_{a}}" class="ltx_Math" display="inline" id="alg1.l1.m2.1"><semantics id="alg1.l1.m2.1a"><msub id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2.cmml">ℳ</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">𝒶</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1">subscript</csymbol><ci id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">ℳ</ci><ci id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">𝒶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\mathcal{M_{a}}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.1d">caligraphic_M start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT</annotation></semantics></math>, Reflector <math alttext="\mathcal{R_{a}}" class="ltx_Math" display="inline" id="alg1.l1.m3.1"><semantics id="alg1.l1.m3.1a"><msub id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m3.1.1.2" xref="alg1.l1.m3.1.1.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m3.1.1.3" xref="alg1.l1.m3.1.1.3.cmml">𝒶</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><apply id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1"><csymbol cd="ambiguous" id="alg1.l1.m3.1.1.1.cmml" xref="alg1.l1.m3.1.1">subscript</csymbol><ci id="alg1.l1.m3.1.1.2.cmml" xref="alg1.l1.m3.1.1.2">ℛ</ci><ci id="alg1.l1.m3.1.1.3.cmml" xref="alg1.l1.m3.1.1.3">𝒶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\mathcal{R_{a}}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m3.1d">caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT</annotation></semantics></math>, prompts <math alttext="\{p_{m},p_{th},p_{re}\}" class="ltx_Math" display="inline" id="alg1.l1.m4.3"><semantics id="alg1.l1.m4.3a"><mrow id="alg1.l1.m4.3.3.3" xref="alg1.l1.m4.3.3.4.cmml"><mo id="alg1.l1.m4.3.3.3.4" stretchy="false" xref="alg1.l1.m4.3.3.4.cmml">{</mo><msub id="alg1.l1.m4.1.1.1.1" xref="alg1.l1.m4.1.1.1.1.cmml"><mi id="alg1.l1.m4.1.1.1.1.2" xref="alg1.l1.m4.1.1.1.1.2.cmml">p</mi><mi id="alg1.l1.m4.1.1.1.1.3" xref="alg1.l1.m4.1.1.1.1.3.cmml">m</mi></msub><mo id="alg1.l1.m4.3.3.3.5" xref="alg1.l1.m4.3.3.4.cmml">,</mo><msub id="alg1.l1.m4.2.2.2.2" xref="alg1.l1.m4.2.2.2.2.cmml"><mi id="alg1.l1.m4.2.2.2.2.2" xref="alg1.l1.m4.2.2.2.2.2.cmml">p</mi><mrow id="alg1.l1.m4.2.2.2.2.3" xref="alg1.l1.m4.2.2.2.2.3.cmml"><mi id="alg1.l1.m4.2.2.2.2.3.2" xref="alg1.l1.m4.2.2.2.2.3.2.cmml">t</mi><mo id="alg1.l1.m4.2.2.2.2.3.1" xref="alg1.l1.m4.2.2.2.2.3.1.cmml">⁢</mo><mi id="alg1.l1.m4.2.2.2.2.3.3" xref="alg1.l1.m4.2.2.2.2.3.3.cmml">h</mi></mrow></msub><mo id="alg1.l1.m4.3.3.3.6" xref="alg1.l1.m4.3.3.4.cmml">,</mo><msub id="alg1.l1.m4.3.3.3.3" xref="alg1.l1.m4.3.3.3.3.cmml"><mi id="alg1.l1.m4.3.3.3.3.2" xref="alg1.l1.m4.3.3.3.3.2.cmml">p</mi><mrow id="alg1.l1.m4.3.3.3.3.3" xref="alg1.l1.m4.3.3.3.3.3.cmml"><mi id="alg1.l1.m4.3.3.3.3.3.2" xref="alg1.l1.m4.3.3.3.3.3.2.cmml">r</mi><mo id="alg1.l1.m4.3.3.3.3.3.1" xref="alg1.l1.m4.3.3.3.3.3.1.cmml">⁢</mo><mi id="alg1.l1.m4.3.3.3.3.3.3" xref="alg1.l1.m4.3.3.3.3.3.3.cmml">e</mi></mrow></msub><mo id="alg1.l1.m4.3.3.3.7" stretchy="false" xref="alg1.l1.m4.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.3b"><set id="alg1.l1.m4.3.3.4.cmml" xref="alg1.l1.m4.3.3.3"><apply id="alg1.l1.m4.1.1.1.1.cmml" xref="alg1.l1.m4.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m4.1.1.1.1.1.cmml" xref="alg1.l1.m4.1.1.1.1">subscript</csymbol><ci id="alg1.l1.m4.1.1.1.1.2.cmml" xref="alg1.l1.m4.1.1.1.1.2">𝑝</ci><ci id="alg1.l1.m4.1.1.1.1.3.cmml" xref="alg1.l1.m4.1.1.1.1.3">𝑚</ci></apply><apply id="alg1.l1.m4.2.2.2.2.cmml" xref="alg1.l1.m4.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l1.m4.2.2.2.2.1.cmml" xref="alg1.l1.m4.2.2.2.2">subscript</csymbol><ci id="alg1.l1.m4.2.2.2.2.2.cmml" xref="alg1.l1.m4.2.2.2.2.2">𝑝</ci><apply id="alg1.l1.m4.2.2.2.2.3.cmml" xref="alg1.l1.m4.2.2.2.2.3"><times id="alg1.l1.m4.2.2.2.2.3.1.cmml" xref="alg1.l1.m4.2.2.2.2.3.1"></times><ci id="alg1.l1.m4.2.2.2.2.3.2.cmml" xref="alg1.l1.m4.2.2.2.2.3.2">𝑡</ci><ci id="alg1.l1.m4.2.2.2.2.3.3.cmml" xref="alg1.l1.m4.2.2.2.2.3.3">ℎ</ci></apply></apply><apply id="alg1.l1.m4.3.3.3.3.cmml" xref="alg1.l1.m4.3.3.3.3"><csymbol cd="ambiguous" id="alg1.l1.m4.3.3.3.3.1.cmml" xref="alg1.l1.m4.3.3.3.3">subscript</csymbol><ci id="alg1.l1.m4.3.3.3.3.2.cmml" xref="alg1.l1.m4.3.3.3.3.2">𝑝</ci><apply id="alg1.l1.m4.3.3.3.3.3.cmml" xref="alg1.l1.m4.3.3.3.3.3"><times id="alg1.l1.m4.3.3.3.3.3.1.cmml" xref="alg1.l1.m4.3.3.3.3.3.1"></times><ci id="alg1.l1.m4.3.3.3.3.3.2.cmml" xref="alg1.l1.m4.3.3.3.3.3.2">𝑟</ci><ci id="alg1.l1.m4.3.3.3.3.3.3.cmml" xref="alg1.l1.m4.3.3.3.3.3.3">𝑒</ci></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.3c">\{p_{m},p_{th},p_{re}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m4.3d">{ italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT italic_r italic_e end_POSTSUBSCRIPT }</annotation></semantics></math>, number of iterations <math alttext="\mathcal{N}" class="ltx_Math" display="inline" id="alg1.l1.m5.1"><semantics id="alg1.l1.m5.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m5.1.1" xref="alg1.l1.m5.1.1.cmml">𝒩</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m5.1b"><ci id="alg1.l1.m5.1.1.cmml" xref="alg1.l1.m5.1.1">𝒩</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m5.1c">\mathcal{N}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m5.1d">caligraphic_N</annotation></semantics></math>, Ending condition <math alttext="\text{end}(\cdot)" class="ltx_Math" display="inline" id="alg1.l1.m6.1"><semantics id="alg1.l1.m6.1a"><mrow id="alg1.l1.m6.1.2" xref="alg1.l1.m6.1.2.cmml"><mtext id="alg1.l1.m6.1.2.2" xref="alg1.l1.m6.1.2.2a.cmml">end</mtext><mo id="alg1.l1.m6.1.2.1" xref="alg1.l1.m6.1.2.1.cmml">⁢</mo><mrow id="alg1.l1.m6.1.2.3.2" xref="alg1.l1.m6.1.2.cmml"><mo id="alg1.l1.m6.1.2.3.2.1" stretchy="false" xref="alg1.l1.m6.1.2.cmml">(</mo><mo id="alg1.l1.m6.1.1" lspace="0em" rspace="0em" xref="alg1.l1.m6.1.1.cmml">⋅</mo><mo id="alg1.l1.m6.1.2.3.2.2" stretchy="false" xref="alg1.l1.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m6.1b"><apply id="alg1.l1.m6.1.2.cmml" xref="alg1.l1.m6.1.2"><times id="alg1.l1.m6.1.2.1.cmml" xref="alg1.l1.m6.1.2.1"></times><ci id="alg1.l1.m6.1.2.2a.cmml" xref="alg1.l1.m6.1.2.2"><mtext id="alg1.l1.m6.1.2.2.cmml" xref="alg1.l1.m6.1.2.2">end</mtext></ci><ci id="alg1.l1.m6.1.1.cmml" xref="alg1.l1.m6.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m6.1c">\text{end}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m6.1d">end ( ⋅ )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span>Corrected Next POI Recommendation <math alttext="\hat{y}" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><mover accent="true" id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">y</mi><mo id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><ci id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1">^</ci><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">\hat{y}</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">over^ start_ARG italic_y end_ARG</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.2.1.1" style="font-size:80%;">3:</span></span>Generate initial output <math alttext="y_{0}=\mathcal{M_{a}}(p_{m}\parallel x)" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><msub id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mi id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.3.2.cmml">y</mi><mn id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">0</mn></msub><mo id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">=</mo><mrow id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml"><msub id="alg1.l3.m1.1.1.1.3" xref="alg1.l3.m1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.1.1.3.2" xref="alg1.l3.m1.1.1.1.3.2.cmml">ℳ</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m1.1.1.1.3.3" xref="alg1.l3.m1.1.1.1.3.3.cmml">𝒶</mi></msub><mo id="alg1.l3.m1.1.1.1.2" xref="alg1.l3.m1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l3.m1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.cmml"><mo id="alg1.l3.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.l3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l3.m1.1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.cmml"><msub id="alg1.l3.m1.1.1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.1.1.2.cmml"><mi id="alg1.l3.m1.1.1.1.1.1.1.2.2" xref="alg1.l3.m1.1.1.1.1.1.1.2.2.cmml">p</mi><mi id="alg1.l3.m1.1.1.1.1.1.1.2.3" xref="alg1.l3.m1.1.1.1.1.1.1.2.3.cmml">m</mi></msub><mo id="alg1.l3.m1.1.1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.1.cmml">∥</mo><mi id="alg1.l3.m1.1.1.1.1.1.1.3" xref="alg1.l3.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="alg1.l3.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.l3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><eq id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2"></eq><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3.2">𝑦</ci><cn id="alg1.l3.m1.1.1.3.3.cmml" type="integer" xref="alg1.l3.m1.1.1.3.3">0</cn></apply><apply id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"><times id="alg1.l3.m1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.2"></times><apply id="alg1.l3.m1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.1.3.2">ℳ</ci><ci id="alg1.l3.m1.1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.1.3.3">𝒶</ci></apply><apply id="alg1.l3.m1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l3.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="alg1.l3.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="alg1.l3.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.2.2">𝑝</ci><ci id="alg1.l3.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.2.3">𝑚</ci></apply><ci id="alg1.l3.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">y_{0}=\mathcal{M_{a}}(p_{m}\parallel x)</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = caligraphic_M start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ∥ italic_x )</annotation></semantics></math> <span class="ltx_text" id="alg1.l3.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l3.1.m1.1"><semantics id="alg1.l3.1.m1.1a"><mo id="alg1.l3.1.m1.1.1" xref="alg1.l3.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l3.1.m1.1b"><ci id="alg1.l3.1.m1.1.1.cmml" xref="alg1.l3.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.1.m1.1d">▷</annotation></semantics></math> Initialization (Eqn. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.E3" title="In 4.2.2 Reflector ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>)
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l4.2">for</span> <math alttext="i\leftarrow 0" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">i</mi><mo id="alg1.l4.m1.1.1.1" stretchy="false" xref="alg1.l4.m1.1.1.1.cmml">←</mo><mn id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><ci id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1">←</ci><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝑖</ci><cn id="alg1.l4.m1.1.1.3.cmml" type="integer" xref="alg1.l4.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">i\leftarrow 0</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_i ← 0</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l4.3">to</span> <math alttext="\mathcal{N}-1" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">𝒩</mi><mo id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">−</mo><mn id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><minus id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1"></minus><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝒩</ci><cn id="alg1.l4.m2.1.1.3.cmml" type="integer" xref="alg1.l4.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">\mathcal{N}-1</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">caligraphic_N - 1</annotation></semantics></math>  <span class="ltx_text ltx_font_bold" id="alg1.l4.4">do</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.2.1.1" style="font-size:80%;">5:</span></span>     <math alttext="Ref_{i}=\mathcal{R_{a}}(p_{th}\parallel x\parallel y_{i})" class="ltx_Math" display="inline" id="alg1.l5.m1.2"><semantics id="alg1.l5.m1.2a"><mrow id="alg1.l5.m1.2.2" xref="alg1.l5.m1.2.2.cmml"><mrow id="alg1.l5.m1.2.2.3" xref="alg1.l5.m1.2.2.3.cmml"><mi id="alg1.l5.m1.2.2.3.2" xref="alg1.l5.m1.2.2.3.2.cmml">R</mi><mo id="alg1.l5.m1.2.2.3.1" xref="alg1.l5.m1.2.2.3.1.cmml">⁢</mo><mi id="alg1.l5.m1.2.2.3.3" xref="alg1.l5.m1.2.2.3.3.cmml">e</mi><mo id="alg1.l5.m1.2.2.3.1a" xref="alg1.l5.m1.2.2.3.1.cmml">⁢</mo><msub id="alg1.l5.m1.2.2.3.4" xref="alg1.l5.m1.2.2.3.4.cmml"><mi id="alg1.l5.m1.2.2.3.4.2" xref="alg1.l5.m1.2.2.3.4.2.cmml">f</mi><mi id="alg1.l5.m1.2.2.3.4.3" xref="alg1.l5.m1.2.2.3.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l5.m1.2.2.2" xref="alg1.l5.m1.2.2.2.cmml">=</mo><mrow id="alg1.l5.m1.2.2.1" xref="alg1.l5.m1.2.2.1.cmml"><msub id="alg1.l5.m1.2.2.1.3" xref="alg1.l5.m1.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m1.2.2.1.3.2" xref="alg1.l5.m1.2.2.1.3.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m1.2.2.1.3.3" xref="alg1.l5.m1.2.2.1.3.3.cmml">𝒶</mi></msub><mo id="alg1.l5.m1.2.2.1.2" xref="alg1.l5.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l5.m1.2.2.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.1.cmml"><mo id="alg1.l5.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l5.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="alg1.l5.m1.2.2.1.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.1.cmml"><msub id="alg1.l5.m1.2.2.1.1.1.1.2" xref="alg1.l5.m1.2.2.1.1.1.1.2.cmml"><mi id="alg1.l5.m1.2.2.1.1.1.1.2.2" xref="alg1.l5.m1.2.2.1.1.1.1.2.2.cmml">p</mi><mrow id="alg1.l5.m1.2.2.1.1.1.1.2.3" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.cmml"><mi id="alg1.l5.m1.2.2.1.1.1.1.2.3.2" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.2.cmml">t</mi><mo id="alg1.l5.m1.2.2.1.1.1.1.2.3.1" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="alg1.l5.m1.2.2.1.1.1.1.2.3.3" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.3.cmml">h</mi></mrow></msub><mo id="alg1.l5.m1.2.2.1.1.1.1.1" xref="alg1.l5.m1.2.2.1.1.1.1.1.cmml">⁢</mo><mrow id="alg1.l5.m1.2.2.1.1.1.1.3.2" xref="alg1.l5.m1.2.2.1.1.1.1.3.1.cmml"><mo id="alg1.l5.m1.2.2.1.1.1.1.3.2.1" stretchy="false" xref="alg1.l5.m1.2.2.1.1.1.1.3.1.1.cmml">‖</mo><mi id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml">x</mi><mo id="alg1.l5.m1.2.2.1.1.1.1.3.2.2" stretchy="false" xref="alg1.l5.m1.2.2.1.1.1.1.3.1.1.cmml">‖</mo></mrow><mo id="alg1.l5.m1.2.2.1.1.1.1.1a" xref="alg1.l5.m1.2.2.1.1.1.1.1.cmml">⁢</mo><msub id="alg1.l5.m1.2.2.1.1.1.1.4" xref="alg1.l5.m1.2.2.1.1.1.1.4.cmml"><mi id="alg1.l5.m1.2.2.1.1.1.1.4.2" xref="alg1.l5.m1.2.2.1.1.1.1.4.2.cmml">y</mi><mi id="alg1.l5.m1.2.2.1.1.1.1.4.3" xref="alg1.l5.m1.2.2.1.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l5.m1.2.2.1.1.1.3" stretchy="false" xref="alg1.l5.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.2b"><apply id="alg1.l5.m1.2.2.cmml" xref="alg1.l5.m1.2.2"><eq id="alg1.l5.m1.2.2.2.cmml" xref="alg1.l5.m1.2.2.2"></eq><apply id="alg1.l5.m1.2.2.3.cmml" xref="alg1.l5.m1.2.2.3"><times id="alg1.l5.m1.2.2.3.1.cmml" xref="alg1.l5.m1.2.2.3.1"></times><ci id="alg1.l5.m1.2.2.3.2.cmml" xref="alg1.l5.m1.2.2.3.2">𝑅</ci><ci id="alg1.l5.m1.2.2.3.3.cmml" xref="alg1.l5.m1.2.2.3.3">𝑒</ci><apply id="alg1.l5.m1.2.2.3.4.cmml" xref="alg1.l5.m1.2.2.3.4"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.3.4.1.cmml" xref="alg1.l5.m1.2.2.3.4">subscript</csymbol><ci id="alg1.l5.m1.2.2.3.4.2.cmml" xref="alg1.l5.m1.2.2.3.4.2">𝑓</ci><ci id="alg1.l5.m1.2.2.3.4.3.cmml" xref="alg1.l5.m1.2.2.3.4.3">𝑖</ci></apply></apply><apply id="alg1.l5.m1.2.2.1.cmml" xref="alg1.l5.m1.2.2.1"><times id="alg1.l5.m1.2.2.1.2.cmml" xref="alg1.l5.m1.2.2.1.2"></times><apply id="alg1.l5.m1.2.2.1.3.cmml" xref="alg1.l5.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.3.1.cmml" xref="alg1.l5.m1.2.2.1.3">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.3.2.cmml" xref="alg1.l5.m1.2.2.1.3.2">ℛ</ci><ci id="alg1.l5.m1.2.2.1.3.3.cmml" xref="alg1.l5.m1.2.2.1.3.3">𝒶</ci></apply><apply id="alg1.l5.m1.2.2.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1"><times id="alg1.l5.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.1"></times><apply id="alg1.l5.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.1.1.1.2.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2.2">𝑝</ci><apply id="alg1.l5.m1.2.2.1.1.1.1.2.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2.3"><times id="alg1.l5.m1.2.2.1.1.1.1.2.3.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.1"></times><ci id="alg1.l5.m1.2.2.1.1.1.1.2.3.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.2">𝑡</ci><ci id="alg1.l5.m1.2.2.1.1.1.1.2.3.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.2.3.3">ℎ</ci></apply></apply><apply id="alg1.l5.m1.2.2.1.1.1.1.3.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.3.2"><csymbol cd="latexml" id="alg1.l5.m1.2.2.1.1.1.1.3.1.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.3.2.1">norm</csymbol><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">𝑥</ci></apply><apply id="alg1.l5.m1.2.2.1.1.1.1.4.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l5.m1.2.2.1.1.1.1.4.1.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="alg1.l5.m1.2.2.1.1.1.1.4.2.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.4.2">𝑦</ci><ci id="alg1.l5.m1.2.2.1.1.1.1.4.3.cmml" xref="alg1.l5.m1.2.2.1.1.1.1.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.2c">Ref_{i}=\mathcal{R_{a}}(p_{th}\parallel x\parallel y_{i})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.2d">italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT ∥ italic_x ∥ italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> <span class="ltx_text" id="alg1.l5.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l5.1.m1.1"><semantics id="alg1.l5.1.m1.1a"><mo id="alg1.l5.1.m1.1.1" xref="alg1.l5.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l5.1.m1.1b"><ci id="alg1.l5.1.m1.1.1.cmml" xref="alg1.l5.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.1.m1.1d">▷</annotation></semantics></math> Reflection (Eqn. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.E4" title="In 4.2.2 Reflector ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>)
</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.2.1.1" style="font-size:80%;">6:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l6.3">if</span> <math alttext="\text{end}(Ref_{i},i)" class="ltx_Math" display="inline" id="alg1.l6.m1.2"><semantics id="alg1.l6.m1.2a"><mrow id="alg1.l6.m1.2.2" xref="alg1.l6.m1.2.2.cmml"><mtext id="alg1.l6.m1.2.2.3" xref="alg1.l6.m1.2.2.3a.cmml">end</mtext><mo id="alg1.l6.m1.2.2.2" xref="alg1.l6.m1.2.2.2.cmml">⁢</mo><mrow id="alg1.l6.m1.2.2.1.1" xref="alg1.l6.m1.2.2.1.2.cmml"><mo id="alg1.l6.m1.2.2.1.1.2" stretchy="false" xref="alg1.l6.m1.2.2.1.2.cmml">(</mo><mrow id="alg1.l6.m1.2.2.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.cmml"><mi id="alg1.l6.m1.2.2.1.1.1.2" xref="alg1.l6.m1.2.2.1.1.1.2.cmml">R</mi><mo id="alg1.l6.m1.2.2.1.1.1.1" xref="alg1.l6.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="alg1.l6.m1.2.2.1.1.1.3" xref="alg1.l6.m1.2.2.1.1.1.3.cmml">e</mi><mo id="alg1.l6.m1.2.2.1.1.1.1a" xref="alg1.l6.m1.2.2.1.1.1.1.cmml">⁢</mo><msub id="alg1.l6.m1.2.2.1.1.1.4" xref="alg1.l6.m1.2.2.1.1.1.4.cmml"><mi id="alg1.l6.m1.2.2.1.1.1.4.2" xref="alg1.l6.m1.2.2.1.1.1.4.2.cmml">f</mi><mi id="alg1.l6.m1.2.2.1.1.1.4.3" xref="alg1.l6.m1.2.2.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="alg1.l6.m1.2.2.1.1.3" xref="alg1.l6.m1.2.2.1.2.cmml">,</mo><mi id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">i</mi><mo id="alg1.l6.m1.2.2.1.1.4" stretchy="false" xref="alg1.l6.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.2b"><apply id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2"><times id="alg1.l6.m1.2.2.2.cmml" xref="alg1.l6.m1.2.2.2"></times><ci id="alg1.l6.m1.2.2.3a.cmml" xref="alg1.l6.m1.2.2.3"><mtext id="alg1.l6.m1.2.2.3.cmml" xref="alg1.l6.m1.2.2.3">end</mtext></ci><interval closure="open" id="alg1.l6.m1.2.2.1.2.cmml" xref="alg1.l6.m1.2.2.1.1"><apply id="alg1.l6.m1.2.2.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1"><times id="alg1.l6.m1.2.2.1.1.1.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.1"></times><ci id="alg1.l6.m1.2.2.1.1.1.2.cmml" xref="alg1.l6.m1.2.2.1.1.1.2">𝑅</ci><ci id="alg1.l6.m1.2.2.1.1.1.3.cmml" xref="alg1.l6.m1.2.2.1.1.1.3">𝑒</ci><apply id="alg1.l6.m1.2.2.1.1.1.4.cmml" xref="alg1.l6.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l6.m1.2.2.1.1.1.4.1.cmml" xref="alg1.l6.m1.2.2.1.1.1.4">subscript</csymbol><ci id="alg1.l6.m1.2.2.1.1.1.4.2.cmml" xref="alg1.l6.m1.2.2.1.1.1.4.2">𝑓</ci><ci id="alg1.l6.m1.2.2.1.1.1.4.3.cmml" xref="alg1.l6.m1.2.2.1.1.1.4.3">𝑖</ci></apply></apply><ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">𝑖</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.2c">\text{end}(Ref_{i},i)</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.2d">end ( italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_i )</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l6.4">then</span> <span class="ltx_text" id="alg1.l6.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l6.1.m1.1"><semantics id="alg1.l6.1.m1.1a"><mo id="alg1.l6.1.m1.1.1" xref="alg1.l6.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l6.1.m1.1b"><ci id="alg1.l6.1.m1.1.1.cmml" xref="alg1.l6.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.1.m1.1d">▷</annotation></semantics></math> Ending Condition
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span>         <span class="ltx_text ltx_font_bold" id="alg1.l7.2">break</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l8.2">else</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.2.1.1" style="font-size:80%;">9:</span></span>         <math alttext="y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{0}\parallel Ref_{0}%
\parallel\ldots\parallel y_{i}\parallel Ref_{i})" class="ltx_Math" display="inline" id="alg1.l9.m1.2"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml"><msub id="alg1.l9.m1.2.2.3" xref="alg1.l9.m1.2.2.3.cmml"><mi id="alg1.l9.m1.2.2.3.2" xref="alg1.l9.m1.2.2.3.2.cmml">y</mi><mrow id="alg1.l9.m1.2.2.3.3" xref="alg1.l9.m1.2.2.3.3.cmml"><mi id="alg1.l9.m1.2.2.3.3.2" xref="alg1.l9.m1.2.2.3.3.2.cmml">i</mi><mo id="alg1.l9.m1.2.2.3.3.1" xref="alg1.l9.m1.2.2.3.3.1.cmml">+</mo><mn id="alg1.l9.m1.2.2.3.3.3" xref="alg1.l9.m1.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.2.cmml">=</mo><mrow id="alg1.l9.m1.2.2.1" xref="alg1.l9.m1.2.2.1.cmml"><msub id="alg1.l9.m1.2.2.1.3" xref="alg1.l9.m1.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.2.2.1.3.2" xref="alg1.l9.m1.2.2.1.3.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="alg1.l9.m1.2.2.1.3.3" xref="alg1.l9.m1.2.2.1.3.3.cmml">𝒶</mi></msub><mo id="alg1.l9.m1.2.2.1.2" xref="alg1.l9.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.cmml"><mo id="alg1.l9.m1.2.2.1.1.1.2" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.cmml"><msub id="alg1.l9.m1.2.2.1.1.1.1.4" xref="alg1.l9.m1.2.2.1.1.1.1.4.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.4.2" xref="alg1.l9.m1.2.2.1.1.1.1.4.2.cmml">p</mi><mrow id="alg1.l9.m1.2.2.1.1.1.1.4.3" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.4.3.2" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.2.cmml">r</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.4.3.1" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.1.1.1.1.4.3.3" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.3.cmml">e</mi></mrow></msub><mo id="alg1.l9.m1.2.2.1.1.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1.5.2" xref="alg1.l9.m1.2.2.1.1.1.1.5.1.cmml"><mo id="alg1.l9.m1.2.2.1.1.1.1.5.2.1" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.5.1.1.cmml">‖</mo><mi id="alg1.l9.m1.1.1" xref="alg1.l9.m1.1.1.cmml">x</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.5.2.2" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.5.1.1.cmml">‖</mo></mrow><mo id="alg1.l9.m1.2.2.1.1.1.1.3a" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><msub id="alg1.l9.m1.2.2.1.1.1.1.6" xref="alg1.l9.m1.2.2.1.1.1.1.6.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.6.2" xref="alg1.l9.m1.2.2.1.1.1.1.6.2.cmml">y</mi><mn id="alg1.l9.m1.2.2.1.1.1.1.6.3" xref="alg1.l9.m1.2.2.1.1.1.1.6.3.cmml">0</mn></msub><mo id="alg1.l9.m1.2.2.1.1.1.1.3b" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.1.2.cmml"><mo id="alg1.l9.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.2" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.2.cmml">R</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.3.cmml">e</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1a" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1.cmml">⁢</mo><msub id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.2" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.2.cmml">f</mi><mn id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.3" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.3.cmml">0</mn></msub></mrow><mo id="alg1.l9.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mo id="alg1.l9.m1.2.2.1.1.1.1.3c" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.1.1.1.1.7" mathvariant="normal" xref="alg1.l9.m1.2.2.1.1.1.1.7.cmml">…</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.3d" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.1.1.1.1.2.1" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.cmml"><mo id="alg1.l9.m1.2.2.1.1.1.1.2.1.2" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.1.cmml">‖</mo><msub id="alg1.l9.m1.2.2.1.1.1.1.2.1.1" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.2" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1.2.cmml">y</mi><mi id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.3" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1.3.cmml">i</mi></msub><mo id="alg1.l9.m1.2.2.1.1.1.1.2.1.3" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.2.2.1.cmml">‖</mo></mrow><mo id="alg1.l9.m1.2.2.1.1.1.1.3e" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.1.1.1.1.8" xref="alg1.l9.m1.2.2.1.1.1.1.8.cmml">R</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.3f" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="alg1.l9.m1.2.2.1.1.1.1.9" xref="alg1.l9.m1.2.2.1.1.1.1.9.cmml">e</mi><mo id="alg1.l9.m1.2.2.1.1.1.1.3g" xref="alg1.l9.m1.2.2.1.1.1.1.3.cmml">⁢</mo><msub id="alg1.l9.m1.2.2.1.1.1.1.10" xref="alg1.l9.m1.2.2.1.1.1.1.10.cmml"><mi id="alg1.l9.m1.2.2.1.1.1.1.10.2" xref="alg1.l9.m1.2.2.1.1.1.1.10.2.cmml">f</mi><mi id="alg1.l9.m1.2.2.1.1.1.1.10.3" xref="alg1.l9.m1.2.2.1.1.1.1.10.3.cmml">i</mi></msub></mrow><mo id="alg1.l9.m1.2.2.1.1.1.3" stretchy="false" xref="alg1.l9.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2"><eq id="alg1.l9.m1.2.2.2.cmml" xref="alg1.l9.m1.2.2.2"></eq><apply id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.3.1.cmml" xref="alg1.l9.m1.2.2.3">subscript</csymbol><ci id="alg1.l9.m1.2.2.3.2.cmml" xref="alg1.l9.m1.2.2.3.2">𝑦</ci><apply id="alg1.l9.m1.2.2.3.3.cmml" xref="alg1.l9.m1.2.2.3.3"><plus id="alg1.l9.m1.2.2.3.3.1.cmml" xref="alg1.l9.m1.2.2.3.3.1"></plus><ci id="alg1.l9.m1.2.2.3.3.2.cmml" xref="alg1.l9.m1.2.2.3.3.2">𝑖</ci><cn id="alg1.l9.m1.2.2.3.3.3.cmml" type="integer" xref="alg1.l9.m1.2.2.3.3.3">1</cn></apply></apply><apply id="alg1.l9.m1.2.2.1.cmml" xref="alg1.l9.m1.2.2.1"><times id="alg1.l9.m1.2.2.1.2.cmml" xref="alg1.l9.m1.2.2.1.2"></times><apply id="alg1.l9.m1.2.2.1.3.cmml" xref="alg1.l9.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.3.1.cmml" xref="alg1.l9.m1.2.2.1.3">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.3.2.cmml" xref="alg1.l9.m1.2.2.1.3.2">ℛ</ci><ci id="alg1.l9.m1.2.2.1.3.3.cmml" xref="alg1.l9.m1.2.2.1.3.3">𝒶</ci></apply><apply id="alg1.l9.m1.2.2.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1"><times id="alg1.l9.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.3"></times><apply id="alg1.l9.m1.2.2.1.1.1.1.4.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.4.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.4.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4.2">𝑝</ci><apply id="alg1.l9.m1.2.2.1.1.1.1.4.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4.3"><times id="alg1.l9.m1.2.2.1.1.1.1.4.3.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.1"></times><ci id="alg1.l9.m1.2.2.1.1.1.1.4.3.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.2">𝑟</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.4.3.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.4.3.3">𝑒</ci></apply></apply><apply id="alg1.l9.m1.2.2.1.1.1.1.5.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.5.2"><csymbol cd="latexml" id="alg1.l9.m1.2.2.1.1.1.1.5.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.5.2.1">norm</csymbol><ci id="alg1.l9.m1.1.1.cmml" xref="alg1.l9.m1.1.1">𝑥</ci></apply><apply id="alg1.l9.m1.2.2.1.1.1.1.6.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.6"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.6.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.6">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.6.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.6.2">𝑦</ci><cn id="alg1.l9.m1.2.2.1.1.1.1.6.3.cmml" type="integer" xref="alg1.l9.m1.2.2.1.1.1.1.6.3">0</cn></apply><apply id="alg1.l9.m1.2.2.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l9.m1.2.2.1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.2">norm</csymbol><apply id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1"><times id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.1"></times><ci id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.2">𝑅</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.3">𝑒</ci><apply id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.2">𝑓</ci><cn id="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.3.cmml" type="integer" xref="alg1.l9.m1.2.2.1.1.1.1.1.1.1.4.3">0</cn></apply></apply></apply><ci id="alg1.l9.m1.2.2.1.1.1.1.7.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.7">…</ci><apply id="alg1.l9.m1.2.2.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1"><csymbol cd="latexml" id="alg1.l9.m1.2.2.1.1.1.1.2.2.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.2">norm</csymbol><apply id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1.2">𝑦</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.2.1.1.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.2.1.1.3">𝑖</ci></apply></apply><ci id="alg1.l9.m1.2.2.1.1.1.1.8.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.8">𝑅</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.9.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.9">𝑒</ci><apply id="alg1.l9.m1.2.2.1.1.1.1.10.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.10"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.1.1.1.1.10.1.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.10">subscript</csymbol><ci id="alg1.l9.m1.2.2.1.1.1.1.10.2.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.10.2">𝑓</ci><ci id="alg1.l9.m1.2.2.1.1.1.1.10.3.cmml" xref="alg1.l9.m1.2.2.1.1.1.1.10.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{0}\parallel Ref_{0}%
\parallel\ldots\parallel y_{i}\parallel Ref_{i})</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.2d">italic_y start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT = caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_r italic_e end_POSTSUBSCRIPT ∥ italic_x ∥ italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ∥ italic_R italic_e italic_f start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ∥ … ∥ italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∥ italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> <span class="ltx_text" id="alg1.l9.1" style="float:right;"><math alttext="\triangleright" class="ltx_Math" display="inline" id="alg1.l9.1.m1.1"><semantics id="alg1.l9.1.m1.1a"><mo id="alg1.l9.1.m1.1.1" xref="alg1.l9.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l9.1.m1.1b"><ci id="alg1.l9.1.m1.1.1.cmml" xref="alg1.l9.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.1.m1.1c">\triangleright</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.1.m1.1d">▷</annotation></semantics></math> Refine (Eqn. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.E6" title="In 4.2.2 Reflector ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>)
</span>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l10.1.1.1" style="font-size:80%;">10:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l10.2">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l10.3">if</span>
</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">11:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l11.2">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l11.3">for</span>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">12:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l12.2">return</span> <math alttext="y_{i}" class="ltx_Math" display="inline" id="alg1.l12.m1.1"><semantics id="alg1.l12.m1.1a"><msub id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mi id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">y</mi><mi id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><csymbol cd="ambiguous" id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1">subscript</csymbol><ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">𝑦</ci><ci id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">y_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.1d">italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
</div>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Reflector</h4>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.4">are crucial processes for agent’s self-assessment and iterative improvement.
It focuses on Reflection and Refinement of the Manager’s outputs to identify improvement areas and optimize the overall process.
Given input <math alttext="x" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.1.m1.1"><semantics id="S4.SS2.SSS2.p1.1.m1.1a"><mi id="S4.SS2.SSS2.p1.1.m1.1.1" xref="S4.SS2.SSS2.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.1.m1.1b"><ci id="S4.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.1.m1.1d">italic_x</annotation></semantics></math>, the <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS2.p1.4.1">Manager</span> <math alttext="\mathcal{M_{a}}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.2.m2.1"><semantics id="S4.SS2.SSS2.p1.2.m2.1a"><msub id="S4.SS2.SSS2.p1.2.m2.1.1" xref="S4.SS2.SSS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS2.p1.2.m2.1.1.2" xref="S4.SS2.SSS2.p1.2.m2.1.1.2.cmml">ℳ</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS2.p1.2.m2.1.1.3" xref="S4.SS2.SSS2.p1.2.m2.1.1.3.cmml">𝒶</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.2.m2.1b"><apply id="S4.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1.2">ℳ</ci><ci id="S4.SS2.SSS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p1.2.m2.1.1.3">𝒶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.2.m2.1c">\mathcal{M_{a}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.2.m2.1d">caligraphic_M start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT</annotation></semantics></math> generates initial output <math alttext="y_{0}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.3.m3.1"><semantics id="S4.SS2.SSS2.p1.3.m3.1a"><msub id="S4.SS2.SSS2.p1.3.m3.1.1" xref="S4.SS2.SSS2.p1.3.m3.1.1.cmml"><mi id="S4.SS2.SSS2.p1.3.m3.1.1.2" xref="S4.SS2.SSS2.p1.3.m3.1.1.2.cmml">y</mi><mn id="S4.SS2.SSS2.p1.3.m3.1.1.3" xref="S4.SS2.SSS2.p1.3.m3.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.3.m3.1b"><apply id="S4.SS2.SSS2.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS2.p1.3.m3.1.1.2">𝑦</ci><cn id="S4.SS2.SSS2.p1.3.m3.1.1.3.cmml" type="integer" xref="S4.SS2.SSS2.p1.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.3.m3.1c">y_{0}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.3.m3.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> based on the prompt <math alttext="p_{m}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.4.m4.1"><semantics id="S4.SS2.SSS2.p1.4.m4.1a"><msub id="S4.SS2.SSS2.p1.4.m4.1.1" xref="S4.SS2.SSS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.SSS2.p1.4.m4.1.1.2" xref="S4.SS2.SSS2.p1.4.m4.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS2.p1.4.m4.1.1.3" xref="S4.SS2.SSS2.p1.4.m4.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.4.m4.1b"><apply id="S4.SS2.SSS2.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.2">𝑝</ci><ci id="S4.SS2.SSS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS2.p1.4.m4.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.4.m4.1c">p_{m}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.4.m4.1d">italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\vspace{-0.5em}y_{0}=\mathcal{M_{a}}(p_{m}\parallel x)" class="ltx_Math" display="block" id="S4.E3.m1.1"><semantics id="S4.E3.m1.1a"><mrow id="S4.E3.m1.1.1" xref="S4.E3.m1.1.1.cmml"><msub id="S4.E3.m1.1.1.3" xref="S4.E3.m1.1.1.3.cmml"><mi id="S4.E3.m1.1.1.3.2" xref="S4.E3.m1.1.1.3.2.cmml">y</mi><mn id="S4.E3.m1.1.1.3.3" xref="S4.E3.m1.1.1.3.3.cmml">0</mn></msub><mo id="S4.E3.m1.1.1.2" xref="S4.E3.m1.1.1.2.cmml">=</mo><mrow id="S4.E3.m1.1.1.1" xref="S4.E3.m1.1.1.1.cmml"><msub id="S4.E3.m1.1.1.1.3" xref="S4.E3.m1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.1.1.1.3.2" xref="S4.E3.m1.1.1.1.3.2.cmml">ℳ</mi><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.1.1.1.3.3" xref="S4.E3.m1.1.1.1.3.3.cmml">𝒶</mi></msub><mo id="S4.E3.m1.1.1.1.2" xref="S4.E3.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E3.m1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml"><mo id="S4.E3.m1.1.1.1.1.1.2" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml"><msub id="S4.E3.m1.1.1.1.1.1.1.2" xref="S4.E3.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.E3.m1.1.1.1.1.1.1.2.2" xref="S4.E3.m1.1.1.1.1.1.1.2.2.cmml">p</mi><mi id="S4.E3.m1.1.1.1.1.1.1.2.3" xref="S4.E3.m1.1.1.1.1.1.1.2.3.cmml">m</mi></msub><mo id="S4.E3.m1.1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.1.cmml">∥</mo><mi id="S4.E3.m1.1.1.1.1.1.1.3" xref="S4.E3.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.E3.m1.1.1.1.1.1.3" stretchy="false" xref="S4.E3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.1b"><apply id="S4.E3.m1.1.1.cmml" xref="S4.E3.m1.1.1"><eq id="S4.E3.m1.1.1.2.cmml" xref="S4.E3.m1.1.1.2"></eq><apply id="S4.E3.m1.1.1.3.cmml" xref="S4.E3.m1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.3">subscript</csymbol><ci id="S4.E3.m1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.3.2">𝑦</ci><cn id="S4.E3.m1.1.1.3.3.cmml" type="integer" xref="S4.E3.m1.1.1.3.3">0</cn></apply><apply id="S4.E3.m1.1.1.1.cmml" xref="S4.E3.m1.1.1.1"><times id="S4.E3.m1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.2"></times><apply id="S4.E3.m1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.3.1.cmml" xref="S4.E3.m1.1.1.1.3">subscript</csymbol><ci id="S4.E3.m1.1.1.1.3.2.cmml" xref="S4.E3.m1.1.1.1.3.2">ℳ</ci><ci id="S4.E3.m1.1.1.1.3.3.cmml" xref="S4.E3.m1.1.1.1.3.3">𝒶</ci></apply><apply id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E3.m1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.E3.m1.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E3.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.E3.m1.1.1.1.1.1.1.2.2">𝑝</ci><ci id="S4.E3.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.2.3">𝑚</ci></apply><ci id="S4.E3.m1.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.1c">\vspace{-0.5em}y_{0}=\mathcal{M_{a}}(p_{m}\parallel x)</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = caligraphic_M start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ∥ italic_x )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS2.p1.6">Reflector proposes reflections <math alttext="Ref_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.5.m1.1"><semantics id="S4.SS2.SSS2.p1.5.m1.1a"><mrow id="S4.SS2.SSS2.p1.5.m1.1.1" xref="S4.SS2.SSS2.p1.5.m1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.5.m1.1.1.2" xref="S4.SS2.SSS2.p1.5.m1.1.1.2.cmml">R</mi><mo id="S4.SS2.SSS2.p1.5.m1.1.1.1" xref="S4.SS2.SSS2.p1.5.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.5.m1.1.1.3" xref="S4.SS2.SSS2.p1.5.m1.1.1.3.cmml">e</mi><mo id="S4.SS2.SSS2.p1.5.m1.1.1.1a" xref="S4.SS2.SSS2.p1.5.m1.1.1.1.cmml">⁢</mo><msub id="S4.SS2.SSS2.p1.5.m1.1.1.4" xref="S4.SS2.SSS2.p1.5.m1.1.1.4.cmml"><mi id="S4.SS2.SSS2.p1.5.m1.1.1.4.2" xref="S4.SS2.SSS2.p1.5.m1.1.1.4.2.cmml">f</mi><mi id="S4.SS2.SSS2.p1.5.m1.1.1.4.3" xref="S4.SS2.SSS2.p1.5.m1.1.1.4.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.5.m1.1b"><apply id="S4.SS2.SSS2.p1.5.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1"><times id="S4.SS2.SSS2.p1.5.m1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.1"></times><ci id="S4.SS2.SSS2.p1.5.m1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.2">𝑅</ci><ci id="S4.SS2.SSS2.p1.5.m1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.3">𝑒</ci><apply id="S4.SS2.SSS2.p1.5.m1.1.1.4.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.4"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.5.m1.1.1.4.1.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.4">subscript</csymbol><ci id="S4.SS2.SSS2.p1.5.m1.1.1.4.2.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.4.2">𝑓</ci><ci id="S4.SS2.SSS2.p1.5.m1.1.1.4.3.cmml" xref="S4.SS2.SSS2.p1.5.m1.1.1.4.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.5.m1.1c">Ref_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.5.m1.1d">italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the REFLECTION process based on the reflection prompt <math alttext="p_{th}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.6.m2.1"><semantics id="S4.SS2.SSS2.p1.6.m2.1a"><msub id="S4.SS2.SSS2.p1.6.m2.1.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.2.cmml">p</mi><mrow id="S4.SS2.SSS2.p1.6.m2.1.1.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.6.m2.1.1.3.2" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.2.cmml">t</mi><mo id="S4.SS2.SSS2.p1.6.m2.1.1.3.1" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.6.m2.1.1.3.3" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.3.cmml">h</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.6.m2.1b"><apply id="S4.SS2.SSS2.p1.6.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.6.m2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.6.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.2">𝑝</ci><apply id="S4.SS2.SSS2.p1.6.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.3"><times id="S4.SS2.SSS2.p1.6.m2.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.1"></times><ci id="S4.SS2.SSS2.p1.6.m2.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.2">𝑡</ci><ci id="S4.SS2.SSS2.p1.6.m2.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.6.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.6.m2.1c">p_{th}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.6.m2.1d">italic_p start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="Ref_{i}=\mathcal{R_{a}}(p_{th}\parallel x\parallel y_{i})" class="ltx_Math" display="block" id="S4.E4.m1.2"><semantics id="S4.E4.m1.2a"><mrow id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml"><mrow id="S4.E4.m1.2.2.3" xref="S4.E4.m1.2.2.3.cmml"><mi id="S4.E4.m1.2.2.3.2" xref="S4.E4.m1.2.2.3.2.cmml">R</mi><mo id="S4.E4.m1.2.2.3.1" xref="S4.E4.m1.2.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.2.2.3.3" xref="S4.E4.m1.2.2.3.3.cmml">e</mi><mo id="S4.E4.m1.2.2.3.1a" xref="S4.E4.m1.2.2.3.1.cmml">⁢</mo><msub id="S4.E4.m1.2.2.3.4" xref="S4.E4.m1.2.2.3.4.cmml"><mi id="S4.E4.m1.2.2.3.4.2" xref="S4.E4.m1.2.2.3.4.2.cmml">f</mi><mi id="S4.E4.m1.2.2.3.4.3" xref="S4.E4.m1.2.2.3.4.3.cmml">i</mi></msub></mrow><mo id="S4.E4.m1.2.2.2" xref="S4.E4.m1.2.2.2.cmml">=</mo><mrow id="S4.E4.m1.2.2.1" xref="S4.E4.m1.2.2.1.cmml"><msub id="S4.E4.m1.2.2.1.3" xref="S4.E4.m1.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.2.2.1.3.2" xref="S4.E4.m1.2.2.1.3.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.2.2.1.3.3" xref="S4.E4.m1.2.2.1.3.3.cmml">𝒶</mi></msub><mo id="S4.E4.m1.2.2.1.2" xref="S4.E4.m1.2.2.1.2.cmml">⁢</mo><mrow id="S4.E4.m1.2.2.1.1.1" xref="S4.E4.m1.2.2.1.1.1.1.cmml"><mo id="S4.E4.m1.2.2.1.1.1.2" stretchy="false" xref="S4.E4.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S4.E4.m1.2.2.1.1.1.1" xref="S4.E4.m1.2.2.1.1.1.1.cmml"><msub id="S4.E4.m1.2.2.1.1.1.1.2" xref="S4.E4.m1.2.2.1.1.1.1.2.cmml"><mi id="S4.E4.m1.2.2.1.1.1.1.2.2" xref="S4.E4.m1.2.2.1.1.1.1.2.2.cmml">p</mi><mrow id="S4.E4.m1.2.2.1.1.1.1.2.3" xref="S4.E4.m1.2.2.1.1.1.1.2.3.cmml"><mi id="S4.E4.m1.2.2.1.1.1.1.2.3.2" xref="S4.E4.m1.2.2.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.E4.m1.2.2.1.1.1.1.2.3.1" xref="S4.E4.m1.2.2.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.E4.m1.2.2.1.1.1.1.2.3.3" xref="S4.E4.m1.2.2.1.1.1.1.2.3.3.cmml">h</mi></mrow></msub><mo id="S4.E4.m1.2.2.1.1.1.1.1" xref="S4.E4.m1.2.2.1.1.1.1.1.cmml">⁢</mo><mrow id="S4.E4.m1.2.2.1.1.1.1.3.2" xref="S4.E4.m1.2.2.1.1.1.1.3.1.cmml"><mo id="S4.E4.m1.2.2.1.1.1.1.3.2.1" stretchy="false" xref="S4.E4.m1.2.2.1.1.1.1.3.1.1.cmml">‖</mo><mi id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml">x</mi><mo id="S4.E4.m1.2.2.1.1.1.1.3.2.2" stretchy="false" xref="S4.E4.m1.2.2.1.1.1.1.3.1.1.cmml">‖</mo></mrow><mo id="S4.E4.m1.2.2.1.1.1.1.1a" xref="S4.E4.m1.2.2.1.1.1.1.1.cmml">⁢</mo><msub id="S4.E4.m1.2.2.1.1.1.1.4" xref="S4.E4.m1.2.2.1.1.1.1.4.cmml"><mi id="S4.E4.m1.2.2.1.1.1.1.4.2" xref="S4.E4.m1.2.2.1.1.1.1.4.2.cmml">y</mi><mi id="S4.E4.m1.2.2.1.1.1.1.4.3" xref="S4.E4.m1.2.2.1.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="S4.E4.m1.2.2.1.1.1.3" stretchy="false" xref="S4.E4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.2b"><apply id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2"><eq id="S4.E4.m1.2.2.2.cmml" xref="S4.E4.m1.2.2.2"></eq><apply id="S4.E4.m1.2.2.3.cmml" xref="S4.E4.m1.2.2.3"><times id="S4.E4.m1.2.2.3.1.cmml" xref="S4.E4.m1.2.2.3.1"></times><ci id="S4.E4.m1.2.2.3.2.cmml" xref="S4.E4.m1.2.2.3.2">𝑅</ci><ci id="S4.E4.m1.2.2.3.3.cmml" xref="S4.E4.m1.2.2.3.3">𝑒</ci><apply id="S4.E4.m1.2.2.3.4.cmml" xref="S4.E4.m1.2.2.3.4"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.3.4.1.cmml" xref="S4.E4.m1.2.2.3.4">subscript</csymbol><ci id="S4.E4.m1.2.2.3.4.2.cmml" xref="S4.E4.m1.2.2.3.4.2">𝑓</ci><ci id="S4.E4.m1.2.2.3.4.3.cmml" xref="S4.E4.m1.2.2.3.4.3">𝑖</ci></apply></apply><apply id="S4.E4.m1.2.2.1.cmml" xref="S4.E4.m1.2.2.1"><times id="S4.E4.m1.2.2.1.2.cmml" xref="S4.E4.m1.2.2.1.2"></times><apply id="S4.E4.m1.2.2.1.3.cmml" xref="S4.E4.m1.2.2.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.1.3.1.cmml" xref="S4.E4.m1.2.2.1.3">subscript</csymbol><ci id="S4.E4.m1.2.2.1.3.2.cmml" xref="S4.E4.m1.2.2.1.3.2">ℛ</ci><ci id="S4.E4.m1.2.2.1.3.3.cmml" xref="S4.E4.m1.2.2.1.3.3">𝒶</ci></apply><apply id="S4.E4.m1.2.2.1.1.1.1.cmml" xref="S4.E4.m1.2.2.1.1.1"><times id="S4.E4.m1.2.2.1.1.1.1.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.1"></times><apply id="S4.E4.m1.2.2.1.1.1.1.2.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.1.1.1.1.2.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="S4.E4.m1.2.2.1.1.1.1.2.2.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2.2">𝑝</ci><apply id="S4.E4.m1.2.2.1.1.1.1.2.3.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2.3"><times id="S4.E4.m1.2.2.1.1.1.1.2.3.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2.3.1"></times><ci id="S4.E4.m1.2.2.1.1.1.1.2.3.2.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.E4.m1.2.2.1.1.1.1.2.3.3.cmml" xref="S4.E4.m1.2.2.1.1.1.1.2.3.3">ℎ</ci></apply></apply><apply id="S4.E4.m1.2.2.1.1.1.1.3.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.3.2"><csymbol cd="latexml" id="S4.E4.m1.2.2.1.1.1.1.3.1.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.3.2.1">norm</csymbol><ci id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1">𝑥</ci></apply><apply id="S4.E4.m1.2.2.1.1.1.1.4.cmml" xref="S4.E4.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E4.m1.2.2.1.1.1.1.4.1.cmml" xref="S4.E4.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S4.E4.m1.2.2.1.1.1.1.4.2.cmml" xref="S4.E4.m1.2.2.1.1.1.1.4.2">𝑦</ci><ci id="S4.E4.m1.2.2.1.1.1.1.4.3.cmml" xref="S4.E4.m1.2.2.1.1.1.1.4.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.2c">Ref_{i}=\mathcal{R_{a}}(p_{th}\parallel x\parallel y_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.2d">italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_t italic_h end_POSTSUBSCRIPT ∥ italic_x ∥ italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS2.p1.8">After REFLECTION, the <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS2.p1.8.1">Reflector</span> refines the prediction strategy and candidate selection based on the reflection prompt <math alttext="p_{re}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.7.m1.1"><semantics id="S4.SS2.SSS2.p1.7.m1.1a"><msub id="S4.SS2.SSS2.p1.7.m1.1.1" xref="S4.SS2.SSS2.p1.7.m1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.7.m1.1.1.2" xref="S4.SS2.SSS2.p1.7.m1.1.1.2.cmml">p</mi><mrow id="S4.SS2.SSS2.p1.7.m1.1.1.3" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.7.m1.1.1.3.2" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.2.cmml">r</mi><mo id="S4.SS2.SSS2.p1.7.m1.1.1.3.1" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.7.m1.1.1.3.3" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.3.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.7.m1.1b"><apply id="S4.SS2.SSS2.p1.7.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.7.m1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.7.m1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1.2">𝑝</ci><apply id="S4.SS2.SSS2.p1.7.m1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1.3"><times id="S4.SS2.SSS2.p1.7.m1.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.1"></times><ci id="S4.SS2.SSS2.p1.7.m1.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.2">𝑟</ci><ci id="S4.SS2.SSS2.p1.7.m1.1.1.3.3.cmml" xref="S4.SS2.SSS2.p1.7.m1.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.7.m1.1c">p_{re}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.7.m1.1d">italic_p start_POSTSUBSCRIPT italic_r italic_e end_POSTSUBSCRIPT</annotation></semantics></math> to generate an accurate subsequent output <math alttext="y_{i+1}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.8.m2.1"><semantics id="S4.SS2.SSS2.p1.8.m2.1a"><msub id="S4.SS2.SSS2.p1.8.m2.1.1" xref="S4.SS2.SSS2.p1.8.m2.1.1.cmml"><mi id="S4.SS2.SSS2.p1.8.m2.1.1.2" xref="S4.SS2.SSS2.p1.8.m2.1.1.2.cmml">y</mi><mrow id="S4.SS2.SSS2.p1.8.m2.1.1.3" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.cmml"><mi id="S4.SS2.SSS2.p1.8.m2.1.1.3.2" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.2.cmml">i</mi><mo id="S4.SS2.SSS2.p1.8.m2.1.1.3.1" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.1.cmml">+</mo><mn id="S4.SS2.SSS2.p1.8.m2.1.1.3.3" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.8.m2.1b"><apply id="S4.SS2.SSS2.p1.8.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.8.m2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p1.8.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1.2">𝑦</ci><apply id="S4.SS2.SSS2.p1.8.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1.3"><plus id="S4.SS2.SSS2.p1.8.m2.1.1.3.1.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.1"></plus><ci id="S4.SS2.SSS2.p1.8.m2.1.1.3.2.cmml" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.2">𝑖</ci><cn id="S4.SS2.SSS2.p1.8.m2.1.1.3.3.cmml" type="integer" xref="S4.SS2.SSS2.p1.8.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.8.m2.1c">y_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.8.m2.1d">italic_y start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> in <span class="ltx_text ltx_font_bold" id="S4.SS2.SSS2.p1.8.2">REFINE</span>.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\vspace{-0.5em}y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{t}%
\parallel Ref_{i})" class="ltx_Math" display="block" id="S4.E5.m1.2"><semantics id="S4.E5.m1.2a"><mrow id="S4.E5.m1.2.2" xref="S4.E5.m1.2.2.cmml"><msub id="S4.E5.m1.2.2.3" xref="S4.E5.m1.2.2.3.cmml"><mi id="S4.E5.m1.2.2.3.2" xref="S4.E5.m1.2.2.3.2.cmml">y</mi><mrow id="S4.E5.m1.2.2.3.3" xref="S4.E5.m1.2.2.3.3.cmml"><mi id="S4.E5.m1.2.2.3.3.2" xref="S4.E5.m1.2.2.3.3.2.cmml">i</mi><mo id="S4.E5.m1.2.2.3.3.1" xref="S4.E5.m1.2.2.3.3.1.cmml">+</mo><mn id="S4.E5.m1.2.2.3.3.3" xref="S4.E5.m1.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.E5.m1.2.2.2" xref="S4.E5.m1.2.2.2.cmml">=</mo><mrow id="S4.E5.m1.2.2.1" xref="S4.E5.m1.2.2.1.cmml"><msub id="S4.E5.m1.2.2.1.3" xref="S4.E5.m1.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.2.2.1.3.2" xref="S4.E5.m1.2.2.1.3.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.2.2.1.3.3" xref="S4.E5.m1.2.2.1.3.3.cmml">𝒶</mi></msub><mo id="S4.E5.m1.2.2.1.2" xref="S4.E5.m1.2.2.1.2.cmml">⁢</mo><mrow id="S4.E5.m1.2.2.1.1.1" xref="S4.E5.m1.2.2.1.1.1.1.cmml"><mo id="S4.E5.m1.2.2.1.1.1.2" stretchy="false" xref="S4.E5.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.2.2.1.1.1.1" xref="S4.E5.m1.2.2.1.1.1.1.cmml"><mrow id="S4.E5.m1.2.2.1.1.1.1.2" xref="S4.E5.m1.2.2.1.1.1.1.2.cmml"><msub id="S4.E5.m1.2.2.1.1.1.1.2.2" xref="S4.E5.m1.2.2.1.1.1.1.2.2.cmml"><mi id="S4.E5.m1.2.2.1.1.1.1.2.2.2" xref="S4.E5.m1.2.2.1.1.1.1.2.2.2.cmml">p</mi><mrow id="S4.E5.m1.2.2.1.1.1.1.2.2.3" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.cmml"><mi id="S4.E5.m1.2.2.1.1.1.1.2.2.3.2" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.2.cmml">r</mi><mo id="S4.E5.m1.2.2.1.1.1.1.2.2.3.1" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.1.cmml">⁢</mo><mi id="S4.E5.m1.2.2.1.1.1.1.2.2.3.3" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.3.cmml">e</mi></mrow></msub><mo id="S4.E5.m1.2.2.1.1.1.1.2.1" xref="S4.E5.m1.2.2.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E5.m1.2.2.1.1.1.1.2.3.2" xref="S4.E5.m1.2.2.1.1.1.1.2.3.1.cmml"><mo id="S4.E5.m1.2.2.1.1.1.1.2.3.2.1" stretchy="false" xref="S4.E5.m1.2.2.1.1.1.1.2.3.1.1.cmml">‖</mo><mi id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml">x</mi><mo id="S4.E5.m1.2.2.1.1.1.1.2.3.2.2" stretchy="false" xref="S4.E5.m1.2.2.1.1.1.1.2.3.1.1.cmml">‖</mo></mrow><mo id="S4.E5.m1.2.2.1.1.1.1.2.1a" xref="S4.E5.m1.2.2.1.1.1.1.2.1.cmml">⁢</mo><msub id="S4.E5.m1.2.2.1.1.1.1.2.4" xref="S4.E5.m1.2.2.1.1.1.1.2.4.cmml"><mi id="S4.E5.m1.2.2.1.1.1.1.2.4.2" xref="S4.E5.m1.2.2.1.1.1.1.2.4.2.cmml">y</mi><mi id="S4.E5.m1.2.2.1.1.1.1.2.4.3" xref="S4.E5.m1.2.2.1.1.1.1.2.4.3.cmml">t</mi></msub></mrow><mo id="S4.E5.m1.2.2.1.1.1.1.1" xref="S4.E5.m1.2.2.1.1.1.1.1.cmml">∥</mo><mrow id="S4.E5.m1.2.2.1.1.1.1.3" xref="S4.E5.m1.2.2.1.1.1.1.3.cmml"><mi id="S4.E5.m1.2.2.1.1.1.1.3.2" xref="S4.E5.m1.2.2.1.1.1.1.3.2.cmml">R</mi><mo id="S4.E5.m1.2.2.1.1.1.1.3.1" xref="S4.E5.m1.2.2.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E5.m1.2.2.1.1.1.1.3.3" xref="S4.E5.m1.2.2.1.1.1.1.3.3.cmml">e</mi><mo id="S4.E5.m1.2.2.1.1.1.1.3.1a" xref="S4.E5.m1.2.2.1.1.1.1.3.1.cmml">⁢</mo><msub id="S4.E5.m1.2.2.1.1.1.1.3.4" xref="S4.E5.m1.2.2.1.1.1.1.3.4.cmml"><mi id="S4.E5.m1.2.2.1.1.1.1.3.4.2" xref="S4.E5.m1.2.2.1.1.1.1.3.4.2.cmml">f</mi><mi id="S4.E5.m1.2.2.1.1.1.1.3.4.3" xref="S4.E5.m1.2.2.1.1.1.1.3.4.3.cmml">i</mi></msub></mrow></mrow><mo id="S4.E5.m1.2.2.1.1.1.3" stretchy="false" xref="S4.E5.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.2b"><apply id="S4.E5.m1.2.2.cmml" xref="S4.E5.m1.2.2"><eq id="S4.E5.m1.2.2.2.cmml" xref="S4.E5.m1.2.2.2"></eq><apply id="S4.E5.m1.2.2.3.cmml" xref="S4.E5.m1.2.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.3.1.cmml" xref="S4.E5.m1.2.2.3">subscript</csymbol><ci id="S4.E5.m1.2.2.3.2.cmml" xref="S4.E5.m1.2.2.3.2">𝑦</ci><apply id="S4.E5.m1.2.2.3.3.cmml" xref="S4.E5.m1.2.2.3.3"><plus id="S4.E5.m1.2.2.3.3.1.cmml" xref="S4.E5.m1.2.2.3.3.1"></plus><ci id="S4.E5.m1.2.2.3.3.2.cmml" xref="S4.E5.m1.2.2.3.3.2">𝑖</ci><cn id="S4.E5.m1.2.2.3.3.3.cmml" type="integer" xref="S4.E5.m1.2.2.3.3.3">1</cn></apply></apply><apply id="S4.E5.m1.2.2.1.cmml" xref="S4.E5.m1.2.2.1"><times id="S4.E5.m1.2.2.1.2.cmml" xref="S4.E5.m1.2.2.1.2"></times><apply id="S4.E5.m1.2.2.1.3.cmml" xref="S4.E5.m1.2.2.1.3"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.3.1.cmml" xref="S4.E5.m1.2.2.1.3">subscript</csymbol><ci id="S4.E5.m1.2.2.1.3.2.cmml" xref="S4.E5.m1.2.2.1.3.2">ℛ</ci><ci id="S4.E5.m1.2.2.1.3.3.cmml" xref="S4.E5.m1.2.2.1.3.3">𝒶</ci></apply><apply id="S4.E5.m1.2.2.1.1.1.1.cmml" xref="S4.E5.m1.2.2.1.1.1"><csymbol cd="latexml" id="S4.E5.m1.2.2.1.1.1.1.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.1">conditional</csymbol><apply id="S4.E5.m1.2.2.1.1.1.1.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2"><times id="S4.E5.m1.2.2.1.1.1.1.2.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.1"></times><apply id="S4.E5.m1.2.2.1.1.1.1.2.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2.2">𝑝</ci><apply id="S4.E5.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3"><times id="S4.E5.m1.2.2.1.1.1.1.2.2.3.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.1"></times><ci id="S4.E5.m1.2.2.1.1.1.1.2.2.3.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.2">𝑟</ci><ci id="S4.E5.m1.2.2.1.1.1.1.2.2.3.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.2.3.3">𝑒</ci></apply></apply><apply id="S4.E5.m1.2.2.1.1.1.1.2.3.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.3.2"><csymbol cd="latexml" id="S4.E5.m1.2.2.1.1.1.1.2.3.1.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.3.2.1">norm</csymbol><ci id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1">𝑥</ci></apply><apply id="S4.E5.m1.2.2.1.1.1.1.2.4.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.1.1.2.4.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.4">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.1.1.2.4.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.4.2">𝑦</ci><ci id="S4.E5.m1.2.2.1.1.1.1.2.4.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.2.4.3">𝑡</ci></apply></apply><apply id="S4.E5.m1.2.2.1.1.1.1.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3"><times id="S4.E5.m1.2.2.1.1.1.1.3.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.1"></times><ci id="S4.E5.m1.2.2.1.1.1.1.3.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.2">𝑅</ci><ci id="S4.E5.m1.2.2.1.1.1.1.3.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.3">𝑒</ci><apply id="S4.E5.m1.2.2.1.1.1.1.3.4.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.4"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.1.1.1.1.3.4.1.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.4">subscript</csymbol><ci id="S4.E5.m1.2.2.1.1.1.1.3.4.2.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.4.2">𝑓</ci><ci id="S4.E5.m1.2.2.1.1.1.1.3.4.3.cmml" xref="S4.E5.m1.2.2.1.1.1.1.3.4.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.2c">\vspace{-0.5em}y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{t}%
\parallel Ref_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.2d">italic_y start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT = caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_r italic_e end_POSTSUBSCRIPT ∥ italic_x ∥ italic_y start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∥ italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS2.p1.10">Finally, <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS2.p1.10.1">Reflector</span> alternates between REFLECTION and REFINE until an ending condition (<math alttext="\text{end}(Ref_{i},i)" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.9.m1.2"><semantics id="S4.SS2.SSS2.p1.9.m1.2a"><mrow id="S4.SS2.SSS2.p1.9.m1.2.2" xref="S4.SS2.SSS2.p1.9.m1.2.2.cmml"><mtext id="S4.SS2.SSS2.p1.9.m1.2.2.3" xref="S4.SS2.SSS2.p1.9.m1.2.2.3a.cmml">end</mtext><mo id="S4.SS2.SSS2.p1.9.m1.2.2.2" xref="S4.SS2.SSS2.p1.9.m1.2.2.2.cmml">⁢</mo><mrow id="S4.SS2.SSS2.p1.9.m1.2.2.1.1" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.2.cmml"><mo id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.2" stretchy="false" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.2.cmml">(</mo><mrow id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.2" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.2.cmml">R</mi><mo id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.3" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.3.cmml">e</mi><mo id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1a" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1.cmml">⁢</mo><msub id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.cmml"><mi id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.2" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.2.cmml">f</mi><mi id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.3" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.3" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.2.cmml">,</mo><mi id="S4.SS2.SSS2.p1.9.m1.1.1" xref="S4.SS2.SSS2.p1.9.m1.1.1.cmml">i</mi><mo id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.4" stretchy="false" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.9.m1.2b"><apply id="S4.SS2.SSS2.p1.9.m1.2.2.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2"><times id="S4.SS2.SSS2.p1.9.m1.2.2.2.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.2"></times><ci id="S4.SS2.SSS2.p1.9.m1.2.2.3a.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.3"><mtext id="S4.SS2.SSS2.p1.9.m1.2.2.3.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.3">end</mtext></ci><interval closure="open" id="S4.SS2.SSS2.p1.9.m1.2.2.1.2.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1"><apply id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1"><times id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.1"></times><ci id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.2">𝑅</ci><ci id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.3">𝑒</ci><apply id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.1.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.2.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.2">𝑓</ci><ci id="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.3.cmml" xref="S4.SS2.SSS2.p1.9.m1.2.2.1.1.1.4.3">𝑖</ci></apply></apply><ci id="S4.SS2.SSS2.p1.9.m1.1.1.cmml" xref="S4.SS2.SSS2.p1.9.m1.1.1">𝑖</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.9.m1.2c">\text{end}(Ref_{i},i)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.9.m1.2d">end ( italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_i )</annotation></semantics></math>) is met.
This condition, defined by <math alttext="\text{end}(Ref_{i},i)" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p1.10.m2.2"><semantics id="S4.SS2.SSS2.p1.10.m2.2a"><mrow id="S4.SS2.SSS2.p1.10.m2.2.2" xref="S4.SS2.SSS2.p1.10.m2.2.2.cmml"><mtext id="S4.SS2.SSS2.p1.10.m2.2.2.3" xref="S4.SS2.SSS2.p1.10.m2.2.2.3a.cmml">end</mtext><mo id="S4.SS2.SSS2.p1.10.m2.2.2.2" xref="S4.SS2.SSS2.p1.10.m2.2.2.2.cmml">⁢</mo><mrow id="S4.SS2.SSS2.p1.10.m2.2.2.1.1" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.2.cmml"><mo id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.2" stretchy="false" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.2.cmml">(</mo><mrow id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.cmml"><mi id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.2" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.2.cmml">R</mi><mo id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.3" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.3.cmml">e</mi><mo id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1a" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1.cmml">⁢</mo><msub id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.cmml"><mi id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.2" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.2.cmml">f</mi><mi id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.3" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.3" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.2.cmml">,</mo><mi id="S4.SS2.SSS2.p1.10.m2.1.1" xref="S4.SS2.SSS2.p1.10.m2.1.1.cmml">i</mi><mo id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.4" stretchy="false" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p1.10.m2.2b"><apply id="S4.SS2.SSS2.p1.10.m2.2.2.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2"><times id="S4.SS2.SSS2.p1.10.m2.2.2.2.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.2"></times><ci id="S4.SS2.SSS2.p1.10.m2.2.2.3a.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.3"><mtext id="S4.SS2.SSS2.p1.10.m2.2.2.3.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.3">end</mtext></ci><interval closure="open" id="S4.SS2.SSS2.p1.10.m2.2.2.1.2.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1"><apply id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1"><times id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.1"></times><ci id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.2.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.2">𝑅</ci><ci id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.3.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.3">𝑒</ci><apply id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.1.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.2.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.2">𝑓</ci><ci id="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.3.cmml" xref="S4.SS2.SSS2.p1.10.m2.2.2.1.1.1.4.3">𝑖</ci></apply></apply><ci id="S4.SS2.SSS2.p1.10.m2.1.1.cmml" xref="S4.SS2.SSS2.p1.10.m2.1.1">𝑖</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p1.10.m2.2c">\text{end}(Ref_{i},i)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p1.10.m2.2d">end ( italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_i )</annotation></semantics></math>, can either be a specified iteration limit or a stopping indicator triggered by the reflection results.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{0}\parallel Ref_{0}%
\parallel\ldots\parallel y_{i}\parallel Ref_{i})" class="ltx_Math" display="block" id="S4.E6.m1.2"><semantics id="S4.E6.m1.2a"><mrow id="S4.E6.m1.2.2" xref="S4.E6.m1.2.2.cmml"><msub id="S4.E6.m1.2.2.3" xref="S4.E6.m1.2.2.3.cmml"><mi id="S4.E6.m1.2.2.3.2" xref="S4.E6.m1.2.2.3.2.cmml">y</mi><mrow id="S4.E6.m1.2.2.3.3" xref="S4.E6.m1.2.2.3.3.cmml"><mi id="S4.E6.m1.2.2.3.3.2" xref="S4.E6.m1.2.2.3.3.2.cmml">i</mi><mo id="S4.E6.m1.2.2.3.3.1" xref="S4.E6.m1.2.2.3.3.1.cmml">+</mo><mn id="S4.E6.m1.2.2.3.3.3" xref="S4.E6.m1.2.2.3.3.3.cmml">1</mn></mrow></msub><mo id="S4.E6.m1.2.2.2" xref="S4.E6.m1.2.2.2.cmml">=</mo><mrow id="S4.E6.m1.2.2.1" xref="S4.E6.m1.2.2.1.cmml"><msub id="S4.E6.m1.2.2.1.3" xref="S4.E6.m1.2.2.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.1.3.2" xref="S4.E6.m1.2.2.1.3.2.cmml">ℛ</mi><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.1.3.3" xref="S4.E6.m1.2.2.1.3.3.cmml">𝒶</mi></msub><mo id="S4.E6.m1.2.2.1.2" xref="S4.E6.m1.2.2.1.2.cmml">⁢</mo><mrow id="S4.E6.m1.2.2.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.cmml"><mo id="S4.E6.m1.2.2.1.1.1.2" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S4.E6.m1.2.2.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.cmml"><msub id="S4.E6.m1.2.2.1.1.1.1.4" xref="S4.E6.m1.2.2.1.1.1.1.4.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.4.2" xref="S4.E6.m1.2.2.1.1.1.1.4.2.cmml">p</mi><mrow id="S4.E6.m1.2.2.1.1.1.1.4.3" xref="S4.E6.m1.2.2.1.1.1.1.4.3.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.4.3.2" xref="S4.E6.m1.2.2.1.1.1.1.4.3.2.cmml">r</mi><mo id="S4.E6.m1.2.2.1.1.1.1.4.3.1" xref="S4.E6.m1.2.2.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.1.1.4.3.3" xref="S4.E6.m1.2.2.1.1.1.1.4.3.3.cmml">e</mi></mrow></msub><mo id="S4.E6.m1.2.2.1.1.1.1.3" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.5.2" xref="S4.E6.m1.2.2.1.1.1.1.5.1.cmml"><mo id="S4.E6.m1.2.2.1.1.1.1.5.2.1" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.5.1.1.cmml">‖</mo><mi id="S4.E6.m1.1.1" xref="S4.E6.m1.1.1.cmml">x</mi><mo id="S4.E6.m1.2.2.1.1.1.1.5.2.2" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.5.1.1.cmml">‖</mo></mrow><mo id="S4.E6.m1.2.2.1.1.1.1.3a" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><msub id="S4.E6.m1.2.2.1.1.1.1.6" xref="S4.E6.m1.2.2.1.1.1.1.6.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.6.2" xref="S4.E6.m1.2.2.1.1.1.1.6.2.cmml">y</mi><mn id="S4.E6.m1.2.2.1.1.1.1.6.3" xref="S4.E6.m1.2.2.1.1.1.1.6.3.cmml">0</mn></msub><mo id="S4.E6.m1.2.2.1.1.1.1.3b" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.2.cmml"><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.1.2" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.2.cmml">R</mi><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.1.1" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.1.3" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.3.cmml">e</mi><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.1.1a" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml">⁢</mo><msub id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.2" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.2.cmml">f</mi><mn id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.3" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.3.cmml">0</mn></msub></mrow><mo id="S4.E6.m1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mo id="S4.E6.m1.2.2.1.1.1.1.3c" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.1.1.7" mathvariant="normal" xref="S4.E6.m1.2.2.1.1.1.1.7.cmml">…</mi><mo id="S4.E6.m1.2.2.1.1.1.1.3d" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E6.m1.2.2.1.1.1.1.2.1" xref="S4.E6.m1.2.2.1.1.1.1.2.2.cmml"><mo id="S4.E6.m1.2.2.1.1.1.1.2.1.2" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.2.2.1.cmml">‖</mo><msub id="S4.E6.m1.2.2.1.1.1.1.2.1.1" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.2.1.1.2" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1.2.cmml">y</mi><mi id="S4.E6.m1.2.2.1.1.1.1.2.1.1.3" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1.3.cmml">i</mi></msub><mo id="S4.E6.m1.2.2.1.1.1.1.2.1.3" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.2.2.1.cmml">‖</mo></mrow><mo id="S4.E6.m1.2.2.1.1.1.1.3e" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.1.1.8" xref="S4.E6.m1.2.2.1.1.1.1.8.cmml">R</mi><mo id="S4.E6.m1.2.2.1.1.1.1.3f" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><mi id="S4.E6.m1.2.2.1.1.1.1.9" xref="S4.E6.m1.2.2.1.1.1.1.9.cmml">e</mi><mo id="S4.E6.m1.2.2.1.1.1.1.3g" xref="S4.E6.m1.2.2.1.1.1.1.3.cmml">⁢</mo><msub id="S4.E6.m1.2.2.1.1.1.1.10" xref="S4.E6.m1.2.2.1.1.1.1.10.cmml"><mi id="S4.E6.m1.2.2.1.1.1.1.10.2" xref="S4.E6.m1.2.2.1.1.1.1.10.2.cmml">f</mi><mi id="S4.E6.m1.2.2.1.1.1.1.10.3" xref="S4.E6.m1.2.2.1.1.1.1.10.3.cmml">i</mi></msub></mrow><mo id="S4.E6.m1.2.2.1.1.1.3" stretchy="false" xref="S4.E6.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.2b"><apply id="S4.E6.m1.2.2.cmml" xref="S4.E6.m1.2.2"><eq id="S4.E6.m1.2.2.2.cmml" xref="S4.E6.m1.2.2.2"></eq><apply id="S4.E6.m1.2.2.3.cmml" xref="S4.E6.m1.2.2.3"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.3.1.cmml" xref="S4.E6.m1.2.2.3">subscript</csymbol><ci id="S4.E6.m1.2.2.3.2.cmml" xref="S4.E6.m1.2.2.3.2">𝑦</ci><apply id="S4.E6.m1.2.2.3.3.cmml" xref="S4.E6.m1.2.2.3.3"><plus id="S4.E6.m1.2.2.3.3.1.cmml" xref="S4.E6.m1.2.2.3.3.1"></plus><ci id="S4.E6.m1.2.2.3.3.2.cmml" xref="S4.E6.m1.2.2.3.3.2">𝑖</ci><cn id="S4.E6.m1.2.2.3.3.3.cmml" type="integer" xref="S4.E6.m1.2.2.3.3.3">1</cn></apply></apply><apply id="S4.E6.m1.2.2.1.cmml" xref="S4.E6.m1.2.2.1"><times id="S4.E6.m1.2.2.1.2.cmml" xref="S4.E6.m1.2.2.1.2"></times><apply id="S4.E6.m1.2.2.1.3.cmml" xref="S4.E6.m1.2.2.1.3"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.3.1.cmml" xref="S4.E6.m1.2.2.1.3">subscript</csymbol><ci id="S4.E6.m1.2.2.1.3.2.cmml" xref="S4.E6.m1.2.2.1.3.2">ℛ</ci><ci id="S4.E6.m1.2.2.1.3.3.cmml" xref="S4.E6.m1.2.2.1.3.3">𝒶</ci></apply><apply id="S4.E6.m1.2.2.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1"><times id="S4.E6.m1.2.2.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.3"></times><apply id="S4.E6.m1.2.2.1.1.1.1.4.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.4.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.1.1.4.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4.2">𝑝</ci><apply id="S4.E6.m1.2.2.1.1.1.1.4.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4.3"><times id="S4.E6.m1.2.2.1.1.1.1.4.3.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4.3.1"></times><ci id="S4.E6.m1.2.2.1.1.1.1.4.3.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4.3.2">𝑟</ci><ci id="S4.E6.m1.2.2.1.1.1.1.4.3.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.4.3.3">𝑒</ci></apply></apply><apply id="S4.E6.m1.2.2.1.1.1.1.5.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.5.2"><csymbol cd="latexml" id="S4.E6.m1.2.2.1.1.1.1.5.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.5.2.1">norm</csymbol><ci id="S4.E6.m1.1.1.cmml" xref="S4.E6.m1.1.1">𝑥</ci></apply><apply id="S4.E6.m1.2.2.1.1.1.1.6.cmml" xref="S4.E6.m1.2.2.1.1.1.1.6"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.6.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.6">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.1.1.6.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.6.2">𝑦</ci><cn id="S4.E6.m1.2.2.1.1.1.1.6.3.cmml" type="integer" xref="S4.E6.m1.2.2.1.1.1.1.6.3">0</cn></apply><apply id="S4.E6.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E6.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.2">norm</csymbol><apply id="S4.E6.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1"><times id="S4.E6.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.1"></times><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.2">𝑅</ci><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.3">𝑒</ci><apply id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.2">𝑓</ci><cn id="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.3.cmml" type="integer" xref="S4.E6.m1.2.2.1.1.1.1.1.1.1.4.3">0</cn></apply></apply></apply><ci id="S4.E6.m1.2.2.1.1.1.1.7.cmml" xref="S4.E6.m1.2.2.1.1.1.1.7">…</ci><apply id="S4.E6.m1.2.2.1.1.1.1.2.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1"><csymbol cd="latexml" id="S4.E6.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1.2">norm</csymbol><apply id="S4.E6.m1.2.2.1.1.1.1.2.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.2.1.1.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.1.1.2.1.1.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1.2">𝑦</ci><ci id="S4.E6.m1.2.2.1.1.1.1.2.1.1.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.2.1.1.3">𝑖</ci></apply></apply><ci id="S4.E6.m1.2.2.1.1.1.1.8.cmml" xref="S4.E6.m1.2.2.1.1.1.1.8">𝑅</ci><ci id="S4.E6.m1.2.2.1.1.1.1.9.cmml" xref="S4.E6.m1.2.2.1.1.1.1.9">𝑒</ci><apply id="S4.E6.m1.2.2.1.1.1.1.10.cmml" xref="S4.E6.m1.2.2.1.1.1.1.10"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.1.1.1.1.10.1.cmml" xref="S4.E6.m1.2.2.1.1.1.1.10">subscript</csymbol><ci id="S4.E6.m1.2.2.1.1.1.1.10.2.cmml" xref="S4.E6.m1.2.2.1.1.1.1.10.2">𝑓</ci><ci id="S4.E6.m1.2.2.1.1.1.1.10.3.cmml" xref="S4.E6.m1.2.2.1.1.1.1.10.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.2c">y_{i+1}=\mathcal{R_{a}}(p_{re}\parallel x\parallel y_{0}\parallel Ref_{0}%
\parallel\ldots\parallel y_{i}\parallel Ref_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.2d">italic_y start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT = caligraphic_R start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_r italic_e end_POSTSUBSCRIPT ∥ italic_x ∥ italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ∥ italic_R italic_e italic_f start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ∥ … ∥ italic_y start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∥ italic_R italic_e italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p2">
<p class="ltx_p" id="S4.SS2.SSS2.p2.1">To ensure the <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS2.p2.1.1">Reflector</span> learns from previous iterations and avoids repeating mistakes, the history of all prior feedback and outputs are retained, appended to the prompt and stored in short-term memory during each iteration.
The last refined output <math alttext="\hat{y}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p2.1.m1.1"><semantics id="S4.SS2.SSS2.p2.1.m1.1a"><mover accent="true" id="S4.SS2.SSS2.p2.1.m1.1.1" xref="S4.SS2.SSS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.SSS2.p2.1.m1.1.1.2" xref="S4.SS2.SSS2.p2.1.m1.1.1.2.cmml">y</mi><mo id="S4.SS2.SSS2.p2.1.m1.1.1.1" xref="S4.SS2.SSS2.p2.1.m1.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p2.1.m1.1b"><apply id="S4.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p2.1.m1.1.1"><ci id="S4.SS2.SSS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.SSS2.p2.1.m1.1.1.1">^</ci><ci id="S4.SS2.SSS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.SSS2.p2.1.m1.1.1.2">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p2.1.m1.1c">\hat{y}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p2.1.m1.1d">over^ start_ARG italic_y end_ARG</annotation></semantics></math> is used as the final recommendation. The overall process is listed in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#alg1" title="Algorithm 1 ‣ 4.2.1 Manager ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.3 </span>DataAgent</h4>
<div class="ltx_para" id="S4.SS2.SSS3.p1">
<p class="ltx_p" id="S4.SS2.SSS3.p1.2">preprocess and structure check-in data integral for precise POI recommendations.
For each user <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.SSS3.p1.1.m1.1"><semantics id="S4.SS2.SSS3.p1.1.m1.1a"><mi id="S4.SS2.SSS3.p1.1.m1.1.1" xref="S4.SS2.SSS3.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p1.1.m1.1b"><ci id="S4.SS2.SSS3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS3.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS3.p1.1.m1.1d">italic_u</annotation></semantics></math>, the raw check-in
records sequence <math alttext="C_{u}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{n},t_{n}}^{u}\}" class="ltx_Math" display="inline" id="S4.SS2.SSS3.p1.2.m2.10"><semantics id="S4.SS2.SSS3.p1.2.m2.10a"><mrow id="S4.SS2.SSS3.p1.2.m2.10.10" xref="S4.SS2.SSS3.p1.2.m2.10.10.cmml"><msub id="S4.SS2.SSS3.p1.2.m2.10.10.5" xref="S4.SS2.SSS3.p1.2.m2.10.10.5.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.10.10.5.2" xref="S4.SS2.SSS3.p1.2.m2.10.10.5.2.cmml">C</mi><mi id="S4.SS2.SSS3.p1.2.m2.10.10.5.3" xref="S4.SS2.SSS3.p1.2.m2.10.10.5.3.cmml">u</mi></msub><mo id="S4.SS2.SSS3.p1.2.m2.10.10.4" xref="S4.SS2.SSS3.p1.2.m2.10.10.4.cmml">=</mo><mrow id="S4.SS2.SSS3.p1.2.m2.10.10.3.3" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml"><mo id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.4" stretchy="false" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml">{</mo><msubsup id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.2" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.2.cmml">c</mi><mrow id="S4.SS2.SSS3.p1.2.m2.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.3.cmml"><msub id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.2" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.2.cmml">p</mi><mn id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.3" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.3.cmml">,</mo><msub id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.2.cmml">t</mi><mn id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.3.cmml">1</mn></msub></mrow><mi id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.3" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.5" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml">,</mo><msubsup id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.2.cmml">c</mi><mrow id="S4.SS2.SSS3.p1.2.m2.4.4.2.2" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.3.cmml"><msub id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.2" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.2.cmml">p</mi><mn id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.3" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.3.cmml">2</mn></msub><mo id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.3.cmml">,</mo><msub id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.2.cmml">t</mi><mn id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.3.cmml">2</mn></msub></mrow><mi id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.6" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml">,</mo><mi id="S4.SS2.SSS3.p1.2.m2.7.7" mathvariant="normal" xref="S4.SS2.SSS3.p1.2.m2.7.7.cmml">…</mi><mo id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.7" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml">,</mo><msubsup id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.2" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.2.cmml">c</mi><mrow id="S4.SS2.SSS3.p1.2.m2.6.6.2.2" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.3.cmml"><msub id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.2" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.3" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.3.cmml">n</mi></msub><mo id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.3.cmml">,</mo><msub id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.cmml"><mi id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.2" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.2.cmml">t</mi><mi id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.3" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.3.cmml">n</mi></msub></mrow><mi id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.3" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.8" stretchy="false" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p1.2.m2.10b"><apply id="S4.SS2.SSS3.p1.2.m2.10.10.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10"><eq id="S4.SS2.SSS3.p1.2.m2.10.10.4.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.4"></eq><apply id="S4.SS2.SSS3.p1.2.m2.10.10.5.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.5"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.10.10.5.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.5">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.10.10.5.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.5.2">𝐶</ci><ci id="S4.SS2.SSS3.p1.2.m2.10.10.5.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.5.3">𝑢</ci></apply><set id="S4.SS2.SSS3.p1.2.m2.10.10.3.4.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3"><apply id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1">superscript</csymbol><apply id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.2.2">𝑐</ci><list id="S4.SS2.SSS3.p1.2.m2.2.2.2.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2"><apply id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.2">𝑝</ci><cn id="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.2.m2.1.1.1.1.1.3">1</cn></apply><apply id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.2">𝑡</ci><cn id="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.2.m2.2.2.2.2.2.3">1</cn></apply></list></apply><ci id="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.8.8.1.1.1.3">𝑢</ci></apply><apply id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2">superscript</csymbol><apply id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.2.2">𝑐</ci><list id="S4.SS2.SSS3.p1.2.m2.4.4.2.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2"><apply id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.2">𝑝</ci><cn id="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.2.m2.3.3.1.1.1.3">2</cn></apply><apply id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.2">𝑡</ci><cn id="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.2.m2.4.4.2.2.2.3">2</cn></apply></list></apply><ci id="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.9.9.2.2.2.3">𝑢</ci></apply><ci id="S4.SS2.SSS3.p1.2.m2.7.7.cmml" xref="S4.SS2.SSS3.p1.2.m2.7.7">…</ci><apply id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3">superscript</csymbol><apply id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.2.2">𝑐</ci><list id="S4.SS2.SSS3.p1.2.m2.6.6.2.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2"><apply id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.2">𝑝</ci><ci id="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.5.5.1.1.1.3">𝑛</ci></apply><apply id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.2">𝑡</ci><ci id="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.6.6.2.2.2.3">𝑛</ci></apply></list></apply><ci id="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.3.cmml" xref="S4.SS2.SSS3.p1.2.m2.10.10.3.3.3.3">𝑢</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p1.2.m2.10c">C_{u}=\{c_{p_{1},t_{1}}^{u},c_{p_{2},t_{2}}^{u},\ldots,c_{p_{n},t_{n}}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS3.p1.2.m2.10d">italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math> is processed.
The DataAgent filters out POIs and users with fewer than 10 visit records by equation <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.E7" title="In 4.2.3 DataAgent ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">7</span></a>, leading to the filtered sequence:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="C_{u}^{filtered}=\{c_{p_{i},t_{i}}^{u}\mid\text{count}(c_{p_{i},t_{i}}^{u})%
\geq 10\}" class="ltx_Math" display="block" id="S4.E7.m1.6"><semantics id="S4.E7.m1.6a"><mrow id="S4.E7.m1.6.6" xref="S4.E7.m1.6.6.cmml"><msubsup id="S4.E7.m1.6.6.4" xref="S4.E7.m1.6.6.4.cmml"><mi id="S4.E7.m1.6.6.4.2.2" xref="S4.E7.m1.6.6.4.2.2.cmml">C</mi><mi id="S4.E7.m1.6.6.4.2.3" xref="S4.E7.m1.6.6.4.2.3.cmml">u</mi><mrow id="S4.E7.m1.6.6.4.3" xref="S4.E7.m1.6.6.4.3.cmml"><mi id="S4.E7.m1.6.6.4.3.2" xref="S4.E7.m1.6.6.4.3.2.cmml">f</mi><mo id="S4.E7.m1.6.6.4.3.1" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.3" xref="S4.E7.m1.6.6.4.3.3.cmml">i</mi><mo id="S4.E7.m1.6.6.4.3.1a" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.4" xref="S4.E7.m1.6.6.4.3.4.cmml">l</mi><mo id="S4.E7.m1.6.6.4.3.1b" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.5" xref="S4.E7.m1.6.6.4.3.5.cmml">t</mi><mo id="S4.E7.m1.6.6.4.3.1c" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.6" xref="S4.E7.m1.6.6.4.3.6.cmml">e</mi><mo id="S4.E7.m1.6.6.4.3.1d" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.7" xref="S4.E7.m1.6.6.4.3.7.cmml">r</mi><mo id="S4.E7.m1.6.6.4.3.1e" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.8" xref="S4.E7.m1.6.6.4.3.8.cmml">e</mi><mo id="S4.E7.m1.6.6.4.3.1f" xref="S4.E7.m1.6.6.4.3.1.cmml">⁢</mo><mi id="S4.E7.m1.6.6.4.3.9" xref="S4.E7.m1.6.6.4.3.9.cmml">d</mi></mrow></msubsup><mo id="S4.E7.m1.6.6.3" xref="S4.E7.m1.6.6.3.cmml">=</mo><mrow id="S4.E7.m1.6.6.2.2" xref="S4.E7.m1.6.6.2.3.cmml"><mo id="S4.E7.m1.6.6.2.2.3" stretchy="false" xref="S4.E7.m1.6.6.2.3.1.cmml">{</mo><msubsup id="S4.E7.m1.5.5.1.1.1" xref="S4.E7.m1.5.5.1.1.1.cmml"><mi id="S4.E7.m1.5.5.1.1.1.2.2" xref="S4.E7.m1.5.5.1.1.1.2.2.cmml">c</mi><mrow id="S4.E7.m1.2.2.2.2" xref="S4.E7.m1.2.2.2.3.cmml"><msub id="S4.E7.m1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.2.cmml">p</mi><mi id="S4.E7.m1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E7.m1.2.2.2.2.3" xref="S4.E7.m1.2.2.2.3.cmml">,</mo><msub id="S4.E7.m1.2.2.2.2.2" xref="S4.E7.m1.2.2.2.2.2.cmml"><mi id="S4.E7.m1.2.2.2.2.2.2" xref="S4.E7.m1.2.2.2.2.2.2.cmml">t</mi><mi id="S4.E7.m1.2.2.2.2.2.3" xref="S4.E7.m1.2.2.2.2.2.3.cmml">i</mi></msub></mrow><mi id="S4.E7.m1.5.5.1.1.1.3" xref="S4.E7.m1.5.5.1.1.1.3.cmml">u</mi></msubsup><mo fence="true" id="S4.E7.m1.6.6.2.2.4" lspace="0em" rspace="0em" xref="S4.E7.m1.6.6.2.3.1.cmml">∣</mo><mrow id="S4.E7.m1.6.6.2.2.2" xref="S4.E7.m1.6.6.2.2.2.cmml"><mrow id="S4.E7.m1.6.6.2.2.2.1" xref="S4.E7.m1.6.6.2.2.2.1.cmml"><mtext id="S4.E7.m1.6.6.2.2.2.1.3" xref="S4.E7.m1.6.6.2.2.2.1.3a.cmml">count</mtext><mo id="S4.E7.m1.6.6.2.2.2.1.2" xref="S4.E7.m1.6.6.2.2.2.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.6.6.2.2.2.1.1.1" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.cmml"><mo id="S4.E7.m1.6.6.2.2.2.1.1.1.2" stretchy="false" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.cmml">(</mo><msubsup id="S4.E7.m1.6.6.2.2.2.1.1.1.1" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.cmml"><mi id="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.2" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.2.cmml">c</mi><mrow id="S4.E7.m1.4.4.2.2" xref="S4.E7.m1.4.4.2.3.cmml"><msub id="S4.E7.m1.3.3.1.1.1" xref="S4.E7.m1.3.3.1.1.1.cmml"><mi id="S4.E7.m1.3.3.1.1.1.2" xref="S4.E7.m1.3.3.1.1.1.2.cmml">p</mi><mi id="S4.E7.m1.3.3.1.1.1.3" xref="S4.E7.m1.3.3.1.1.1.3.cmml">i</mi></msub><mo id="S4.E7.m1.4.4.2.2.3" xref="S4.E7.m1.4.4.2.3.cmml">,</mo><msub id="S4.E7.m1.4.4.2.2.2" xref="S4.E7.m1.4.4.2.2.2.cmml"><mi id="S4.E7.m1.4.4.2.2.2.2" xref="S4.E7.m1.4.4.2.2.2.2.cmml">t</mi><mi id="S4.E7.m1.4.4.2.2.2.3" xref="S4.E7.m1.4.4.2.2.2.3.cmml">i</mi></msub></mrow><mi id="S4.E7.m1.6.6.2.2.2.1.1.1.1.3" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.3.cmml">u</mi></msubsup><mo id="S4.E7.m1.6.6.2.2.2.1.1.1.3" stretchy="false" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.6.6.2.2.2.2" xref="S4.E7.m1.6.6.2.2.2.2.cmml">≥</mo><mn id="S4.E7.m1.6.6.2.2.2.3" xref="S4.E7.m1.6.6.2.2.2.3.cmml">10</mn></mrow><mo id="S4.E7.m1.6.6.2.2.5" stretchy="false" xref="S4.E7.m1.6.6.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.6b"><apply id="S4.E7.m1.6.6.cmml" xref="S4.E7.m1.6.6"><eq id="S4.E7.m1.6.6.3.cmml" xref="S4.E7.m1.6.6.3"></eq><apply id="S4.E7.m1.6.6.4.cmml" xref="S4.E7.m1.6.6.4"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.4.1.cmml" xref="S4.E7.m1.6.6.4">superscript</csymbol><apply id="S4.E7.m1.6.6.4.2.cmml" xref="S4.E7.m1.6.6.4"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.4.2.1.cmml" xref="S4.E7.m1.6.6.4">subscript</csymbol><ci id="S4.E7.m1.6.6.4.2.2.cmml" xref="S4.E7.m1.6.6.4.2.2">𝐶</ci><ci id="S4.E7.m1.6.6.4.2.3.cmml" xref="S4.E7.m1.6.6.4.2.3">𝑢</ci></apply><apply id="S4.E7.m1.6.6.4.3.cmml" xref="S4.E7.m1.6.6.4.3"><times id="S4.E7.m1.6.6.4.3.1.cmml" xref="S4.E7.m1.6.6.4.3.1"></times><ci id="S4.E7.m1.6.6.4.3.2.cmml" xref="S4.E7.m1.6.6.4.3.2">𝑓</ci><ci id="S4.E7.m1.6.6.4.3.3.cmml" xref="S4.E7.m1.6.6.4.3.3">𝑖</ci><ci id="S4.E7.m1.6.6.4.3.4.cmml" xref="S4.E7.m1.6.6.4.3.4">𝑙</ci><ci id="S4.E7.m1.6.6.4.3.5.cmml" xref="S4.E7.m1.6.6.4.3.5">𝑡</ci><ci id="S4.E7.m1.6.6.4.3.6.cmml" xref="S4.E7.m1.6.6.4.3.6">𝑒</ci><ci id="S4.E7.m1.6.6.4.3.7.cmml" xref="S4.E7.m1.6.6.4.3.7">𝑟</ci><ci id="S4.E7.m1.6.6.4.3.8.cmml" xref="S4.E7.m1.6.6.4.3.8">𝑒</ci><ci id="S4.E7.m1.6.6.4.3.9.cmml" xref="S4.E7.m1.6.6.4.3.9">𝑑</ci></apply></apply><apply id="S4.E7.m1.6.6.2.3.cmml" xref="S4.E7.m1.6.6.2.2"><csymbol cd="latexml" id="S4.E7.m1.6.6.2.3.1.cmml" xref="S4.E7.m1.6.6.2.2.3">conditional-set</csymbol><apply id="S4.E7.m1.5.5.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1">superscript</csymbol><apply id="S4.E7.m1.5.5.1.1.1.2.cmml" xref="S4.E7.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.2.1.cmml" xref="S4.E7.m1.5.5.1.1.1">subscript</csymbol><ci id="S4.E7.m1.5.5.1.1.1.2.2.cmml" xref="S4.E7.m1.5.5.1.1.1.2.2">𝑐</ci><list id="S4.E7.m1.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.2"><apply id="S4.E7.m1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2">𝑝</ci><ci id="S4.E7.m1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E7.m1.2.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.2.2.2.2.2.1.cmml" xref="S4.E7.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.E7.m1.2.2.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2.2.2">𝑡</ci><ci id="S4.E7.m1.2.2.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.2.2.3">𝑖</ci></apply></list></apply><ci id="S4.E7.m1.5.5.1.1.1.3.cmml" xref="S4.E7.m1.5.5.1.1.1.3">𝑢</ci></apply><apply id="S4.E7.m1.6.6.2.2.2.cmml" xref="S4.E7.m1.6.6.2.2.2"><geq id="S4.E7.m1.6.6.2.2.2.2.cmml" xref="S4.E7.m1.6.6.2.2.2.2"></geq><apply id="S4.E7.m1.6.6.2.2.2.1.cmml" xref="S4.E7.m1.6.6.2.2.2.1"><times id="S4.E7.m1.6.6.2.2.2.1.2.cmml" xref="S4.E7.m1.6.6.2.2.2.1.2"></times><ci id="S4.E7.m1.6.6.2.2.2.1.3a.cmml" xref="S4.E7.m1.6.6.2.2.2.1.3"><mtext id="S4.E7.m1.6.6.2.2.2.1.3.cmml" xref="S4.E7.m1.6.6.2.2.2.1.3">count</mtext></ci><apply id="S4.E7.m1.6.6.2.2.2.1.1.1.1.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.2.2.2.1.1.1.1.1.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1">superscript</csymbol><apply id="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.1.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.2.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.2.2">𝑐</ci><list id="S4.E7.m1.4.4.2.3.cmml" xref="S4.E7.m1.4.4.2.2"><apply id="S4.E7.m1.3.3.1.1.1.cmml" xref="S4.E7.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.3.3.1.1.1.1.cmml" xref="S4.E7.m1.3.3.1.1.1">subscript</csymbol><ci id="S4.E7.m1.3.3.1.1.1.2.cmml" xref="S4.E7.m1.3.3.1.1.1.2">𝑝</ci><ci id="S4.E7.m1.3.3.1.1.1.3.cmml" xref="S4.E7.m1.3.3.1.1.1.3">𝑖</ci></apply><apply id="S4.E7.m1.4.4.2.2.2.cmml" xref="S4.E7.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.4.4.2.2.2.1.cmml" xref="S4.E7.m1.4.4.2.2.2">subscript</csymbol><ci id="S4.E7.m1.4.4.2.2.2.2.cmml" xref="S4.E7.m1.4.4.2.2.2.2">𝑡</ci><ci id="S4.E7.m1.4.4.2.2.2.3.cmml" xref="S4.E7.m1.4.4.2.2.2.3">𝑖</ci></apply></list></apply><ci id="S4.E7.m1.6.6.2.2.2.1.1.1.1.3.cmml" xref="S4.E7.m1.6.6.2.2.2.1.1.1.1.3">𝑢</ci></apply></apply><cn id="S4.E7.m1.6.6.2.2.2.3.cmml" type="integer" xref="S4.E7.m1.6.6.2.2.2.3">10</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.6c">C_{u}^{filtered}=\{c_{p_{i},t_{i}}^{u}\mid\text{count}(c_{p_{i},t_{i}}^{u})%
\geq 10\}</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.6d">italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f italic_i italic_l italic_t italic_e italic_r italic_e italic_d end_POSTSUPERSCRIPT = { italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT ∣ count ( italic_c start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT ) ≥ 10 }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS3.p1.5">DataAgent aggregates filtered data into structured POI information <math alttext="P" class="ltx_Math" display="inline" id="S4.SS2.SSS3.p1.3.m1.1"><semantics id="S4.SS2.SSS3.p1.3.m1.1a"><mi id="S4.SS2.SSS3.p1.3.m1.1.1" xref="S4.SS2.SSS3.p1.3.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p1.3.m1.1b"><ci id="S4.SS2.SSS3.p1.3.m1.1.1.cmml" xref="S4.SS2.SSS3.p1.3.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p1.3.m1.1c">P</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS3.p1.3.m1.1d">italic_P</annotation></semantics></math> subsequently, including geo-coordinates and categories, and segments the user’s check-ins into trajectories <math alttext="\{T_{1}^{u},T_{2}^{u},\ldots,T_{k}^{u}\}" class="ltx_Math" display="inline" id="S4.SS2.SSS3.p1.4.m2.4"><semantics id="S4.SS2.SSS3.p1.4.m2.4a"><mrow id="S4.SS2.SSS3.p1.4.m2.4.4.3" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml"><mo id="S4.SS2.SSS3.p1.4.m2.4.4.3.4" stretchy="false" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml">{</mo><msubsup id="S4.SS2.SSS3.p1.4.m2.2.2.1.1" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.cmml"><mi id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.2" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.2.cmml">T</mi><mn id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.3" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.3.cmml">1</mn><mi id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.3" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.4.m2.4.4.3.5" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml">,</mo><msubsup id="S4.SS2.SSS3.p1.4.m2.3.3.2.2" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.cmml"><mi id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.2" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.2.cmml">T</mi><mn id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.3" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.3.cmml">2</mn><mi id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.3" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.4.m2.4.4.3.6" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml">,</mo><mi id="S4.SS2.SSS3.p1.4.m2.1.1" mathvariant="normal" xref="S4.SS2.SSS3.p1.4.m2.1.1.cmml">…</mi><mo id="S4.SS2.SSS3.p1.4.m2.4.4.3.7" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml">,</mo><msubsup id="S4.SS2.SSS3.p1.4.m2.4.4.3.3" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.cmml"><mi id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.2" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.2.cmml">T</mi><mi id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.3" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.3.cmml">k</mi><mi id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.3" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.3.cmml">u</mi></msubsup><mo id="S4.SS2.SSS3.p1.4.m2.4.4.3.8" stretchy="false" xref="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p1.4.m2.4b"><set id="S4.SS2.SSS3.p1.4.m2.4.4.4.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3"><apply id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1">superscript</csymbol><apply id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.2">𝑇</ci><cn id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.2.3">1</cn></apply><ci id="S4.SS2.SSS3.p1.4.m2.2.2.1.1.3.cmml" xref="S4.SS2.SSS3.p1.4.m2.2.2.1.1.3">𝑢</ci></apply><apply id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2">superscript</csymbol><apply id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2">subscript</csymbol><ci id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.2">𝑇</ci><cn id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.3.cmml" type="integer" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.2.3">2</cn></apply><ci id="S4.SS2.SSS3.p1.4.m2.3.3.2.2.3.cmml" xref="S4.SS2.SSS3.p1.4.m2.3.3.2.2.3">𝑢</ci></apply><ci id="S4.SS2.SSS3.p1.4.m2.1.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.1.1">…</ci><apply id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3">superscript</csymbol><apply id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.1.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3">subscript</csymbol><ci id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.2.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.2">𝑇</ci><ci id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.3.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.2.3">𝑘</ci></apply><ci id="S4.SS2.SSS3.p1.4.m2.4.4.3.3.3.cmml" xref="S4.SS2.SSS3.p1.4.m2.4.4.3.3.3">𝑢</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p1.4.m2.4c">\{T_{1}^{u},T_{2}^{u},\ldots,T_{k}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS3.p1.4.m2.4d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , italic_T start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math>, where each <math alttext="T_{j}^{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS3.p1.5.m3.1"><semantics id="S4.SS2.SSS3.p1.5.m3.1a"><msubsup id="S4.SS2.SSS3.p1.5.m3.1.1" xref="S4.SS2.SSS3.p1.5.m3.1.1.cmml"><mi id="S4.SS2.SSS3.p1.5.m3.1.1.2.2" xref="S4.SS2.SSS3.p1.5.m3.1.1.2.2.cmml">T</mi><mi id="S4.SS2.SSS3.p1.5.m3.1.1.2.3" xref="S4.SS2.SSS3.p1.5.m3.1.1.2.3.cmml">j</mi><mi id="S4.SS2.SSS3.p1.5.m3.1.1.3" xref="S4.SS2.SSS3.p1.5.m3.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS3.p1.5.m3.1b"><apply id="S4.SS2.SSS3.p1.5.m3.1.1.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.5.m3.1.1.1.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1">superscript</csymbol><apply id="S4.SS2.SSS3.p1.5.m3.1.1.2.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS3.p1.5.m3.1.1.2.1.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS3.p1.5.m3.1.1.2.2.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1.2.2">𝑇</ci><ci id="S4.SS2.SSS3.p1.5.m3.1.1.2.3.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS3.p1.5.m3.1.1.3.cmml" xref="S4.SS2.SSS3.p1.5.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS3.p1.5.m3.1c">T_{j}^{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS3.p1.5.m3.1d">italic_T start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math> comprises of a list of POIs visited within a 24-hour interval.
The comprehensive dataset is then formed as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Check-in Data}=\bigotimes_{u\in U}\left(\{C_{u}^{filtered}\},\{P_{m}^{%
filtered}\}\right)" class="ltx_Math" display="block" id="S4.E8.m1.2"><semantics id="S4.E8.m1.2a"><mrow id="S4.E8.m1.2.2" xref="S4.E8.m1.2.2.cmml"><mtext id="S4.E8.m1.2.2.4" xref="S4.E8.m1.2.2.4a.cmml">Check-in Data</mtext><mo id="S4.E8.m1.2.2.3" rspace="0.111em" xref="S4.E8.m1.2.2.3.cmml">=</mo><mrow id="S4.E8.m1.2.2.2" xref="S4.E8.m1.2.2.2.cmml"><munder id="S4.E8.m1.2.2.2.3" xref="S4.E8.m1.2.2.2.3.cmml"><mo id="S4.E8.m1.2.2.2.3.2" movablelimits="false" rspace="0em" xref="S4.E8.m1.2.2.2.3.2.cmml">⨂</mo><mrow id="S4.E8.m1.2.2.2.3.3" xref="S4.E8.m1.2.2.2.3.3.cmml"><mi id="S4.E8.m1.2.2.2.3.3.2" xref="S4.E8.m1.2.2.2.3.3.2.cmml">u</mi><mo id="S4.E8.m1.2.2.2.3.3.1" xref="S4.E8.m1.2.2.2.3.3.1.cmml">∈</mo><mi id="S4.E8.m1.2.2.2.3.3.3" xref="S4.E8.m1.2.2.2.3.3.3.cmml">U</mi></mrow></munder><mrow id="S4.E8.m1.2.2.2.2.2" xref="S4.E8.m1.2.2.2.2.3.cmml"><mo id="S4.E8.m1.2.2.2.2.2.3" xref="S4.E8.m1.2.2.2.2.3.cmml">(</mo><mrow id="S4.E8.m1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.2.cmml"><mo id="S4.E8.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E8.m1.1.1.1.1.1.1.2.cmml">{</mo><msubsup id="S4.E8.m1.1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.2.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml">C</mi><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml">u</mi><mrow id="S4.E8.m1.1.1.1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.2.cmml">f</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1a" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.4" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.4.cmml">l</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1b" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.5" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.5.cmml">t</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1c" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.6" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.6.cmml">e</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1d" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.7" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.7.cmml">r</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1e" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.8" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.8.cmml">e</mi><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1f" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.9" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.9.cmml">d</mi></mrow></msubsup><mo id="S4.E8.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E8.m1.1.1.1.1.1.1.2.cmml">}</mo></mrow><mo id="S4.E8.m1.2.2.2.2.2.4" xref="S4.E8.m1.2.2.2.2.3.cmml">,</mo><mrow id="S4.E8.m1.2.2.2.2.2.2.1" xref="S4.E8.m1.2.2.2.2.2.2.2.cmml"><mo id="S4.E8.m1.2.2.2.2.2.2.1.2" stretchy="false" xref="S4.E8.m1.2.2.2.2.2.2.2.cmml">{</mo><msubsup id="S4.E8.m1.2.2.2.2.2.2.1.1" xref="S4.E8.m1.2.2.2.2.2.2.1.1.cmml"><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.2.2" xref="S4.E8.m1.2.2.2.2.2.2.1.1.2.2.cmml">P</mi><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.2.3" xref="S4.E8.m1.2.2.2.2.2.2.1.1.2.3.cmml">m</mi><mrow id="S4.E8.m1.2.2.2.2.2.2.1.1.3" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.cmml"><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.2" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.2.cmml">f</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.3" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.3.cmml">i</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1a" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.4" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.4.cmml">l</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1b" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.5" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.5.cmml">t</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1c" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.6" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.6.cmml">e</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1d" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.7" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.7.cmml">r</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1e" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.8" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.8.cmml">e</mi><mo id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1f" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml">⁢</mo><mi id="S4.E8.m1.2.2.2.2.2.2.1.1.3.9" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.9.cmml">d</mi></mrow></msubsup><mo id="S4.E8.m1.2.2.2.2.2.2.1.3" stretchy="false" xref="S4.E8.m1.2.2.2.2.2.2.2.cmml">}</mo></mrow><mo id="S4.E8.m1.2.2.2.2.2.5" xref="S4.E8.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.2b"><apply id="S4.E8.m1.2.2.cmml" xref="S4.E8.m1.2.2"><eq id="S4.E8.m1.2.2.3.cmml" xref="S4.E8.m1.2.2.3"></eq><ci id="S4.E8.m1.2.2.4a.cmml" xref="S4.E8.m1.2.2.4"><mtext id="S4.E8.m1.2.2.4.cmml" xref="S4.E8.m1.2.2.4">Check-in Data</mtext></ci><apply id="S4.E8.m1.2.2.2.cmml" xref="S4.E8.m1.2.2.2"><apply id="S4.E8.m1.2.2.2.3.cmml" xref="S4.E8.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.2.3.1.cmml" xref="S4.E8.m1.2.2.2.3">subscript</csymbol><csymbol cd="latexml" id="S4.E8.m1.2.2.2.3.2.cmml" xref="S4.E8.m1.2.2.2.3.2">tensor-product</csymbol><apply id="S4.E8.m1.2.2.2.3.3.cmml" xref="S4.E8.m1.2.2.2.3.3"><in id="S4.E8.m1.2.2.2.3.3.1.cmml" xref="S4.E8.m1.2.2.2.3.3.1"></in><ci id="S4.E8.m1.2.2.2.3.3.2.cmml" xref="S4.E8.m1.2.2.2.3.3.2">𝑢</ci><ci id="S4.E8.m1.2.2.2.3.3.3.cmml" xref="S4.E8.m1.2.2.2.3.3.3">𝑈</ci></apply></apply><interval closure="open" id="S4.E8.m1.2.2.2.2.3.cmml" xref="S4.E8.m1.2.2.2.2.2"><set id="S4.E8.m1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1"><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.2">𝐶</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3">𝑢</ci></apply><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3"><times id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3">𝑖</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.4">𝑙</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.5.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.5">𝑡</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.6.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.6">𝑒</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.7.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.7">𝑟</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.8.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.8">𝑒</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.9.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.9">𝑑</ci></apply></apply></set><set id="S4.E8.m1.2.2.2.2.2.2.2.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1"><apply id="S4.E8.m1.2.2.2.2.2.2.1.1.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.2.2.2.2.1.1.1.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1">superscript</csymbol><apply id="S4.E8.m1.2.2.2.2.2.2.1.1.2.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.2.2.2.2.1.1.2.1.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1">subscript</csymbol><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.2.2.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.2.2">𝑃</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.2.3.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.2.3">𝑚</ci></apply><apply id="S4.E8.m1.2.2.2.2.2.2.1.1.3.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3"><times id="S4.E8.m1.2.2.2.2.2.2.1.1.3.1.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.1"></times><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.2.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.2">𝑓</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.3.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.3">𝑖</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.4.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.4">𝑙</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.5.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.5">𝑡</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.6.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.6">𝑒</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.7.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.7">𝑟</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.8.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.8">𝑒</ci><ci id="S4.E8.m1.2.2.2.2.2.2.1.1.3.9.cmml" xref="S4.E8.m1.2.2.2.2.2.2.1.1.3.9">𝑑</ci></apply></apply></set></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.2c">\text{Check-in Data}=\bigotimes_{u\in U}\left(\{C_{u}^{filtered}\},\{P_{m}^{%
filtered}\}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.2d">Check-in Data = ⨂ start_POSTSUBSCRIPT italic_u ∈ italic_U end_POSTSUBSCRIPT ( { italic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f italic_i italic_l italic_t italic_e italic_r italic_e italic_d end_POSTSUPERSCRIPT } , { italic_P start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_f italic_i italic_l italic_t italic_e italic_r italic_e italic_d end_POSTSUPERSCRIPT } )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS3.p1.6">to improve POI recommendations reliability and accuracy.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.4 </span>Navigator</h4>
<div class="ltx_para" id="S4.SS2.SSS4.p1">
<p class="ltx_p" id="S4.SS2.SSS4.p1.5">improves user experience by providing precise route planning and visual route maps through <span class="ltx_text ltx_font_typewriter" id="S4.SS2.SSS4.p1.5.1">Amap</span> APIs integration.
This process begins with geocoding user-provided addresses into geographic coordinates.
After obtaining these coordinates, Navigator calculates the optimal route using the selected mode of transportation with the Haversine Formula for precise distance measurement:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\Delta d=R\cdot\Delta\sigma\vspace{-1mm}" class="ltx_Math" display="block" id="S4.E9.m1.1"><semantics id="S4.E9.m1.1a"><mrow id="S4.E9.m1.1.1" xref="S4.E9.m1.1.1.cmml"><mrow id="S4.E9.m1.1.1.2" xref="S4.E9.m1.1.1.2.cmml"><mi id="S4.E9.m1.1.1.2.2" mathvariant="normal" xref="S4.E9.m1.1.1.2.2.cmml">Δ</mi><mo id="S4.E9.m1.1.1.2.1" xref="S4.E9.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E9.m1.1.1.2.3" xref="S4.E9.m1.1.1.2.3.cmml">d</mi></mrow><mo id="S4.E9.m1.1.1.1" xref="S4.E9.m1.1.1.1.cmml">=</mo><mrow id="S4.E9.m1.1.1.3" xref="S4.E9.m1.1.1.3.cmml"><mrow id="S4.E9.m1.1.1.3.2" xref="S4.E9.m1.1.1.3.2.cmml"><mi id="S4.E9.m1.1.1.3.2.2" xref="S4.E9.m1.1.1.3.2.2.cmml">R</mi><mo id="S4.E9.m1.1.1.3.2.1" lspace="0.222em" rspace="0.222em" xref="S4.E9.m1.1.1.3.2.1.cmml">⋅</mo><mi id="S4.E9.m1.1.1.3.2.3" mathvariant="normal" xref="S4.E9.m1.1.1.3.2.3.cmml">Δ</mi></mrow><mo id="S4.E9.m1.1.1.3.1" xref="S4.E9.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.E9.m1.1.1.3.3" xref="S4.E9.m1.1.1.3.3.cmml">σ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E9.m1.1b"><apply id="S4.E9.m1.1.1.cmml" xref="S4.E9.m1.1.1"><eq id="S4.E9.m1.1.1.1.cmml" xref="S4.E9.m1.1.1.1"></eq><apply id="S4.E9.m1.1.1.2.cmml" xref="S4.E9.m1.1.1.2"><times id="S4.E9.m1.1.1.2.1.cmml" xref="S4.E9.m1.1.1.2.1"></times><ci id="S4.E9.m1.1.1.2.2.cmml" xref="S4.E9.m1.1.1.2.2">Δ</ci><ci id="S4.E9.m1.1.1.2.3.cmml" xref="S4.E9.m1.1.1.2.3">𝑑</ci></apply><apply id="S4.E9.m1.1.1.3.cmml" xref="S4.E9.m1.1.1.3"><times id="S4.E9.m1.1.1.3.1.cmml" xref="S4.E9.m1.1.1.3.1"></times><apply id="S4.E9.m1.1.1.3.2.cmml" xref="S4.E9.m1.1.1.3.2"><ci id="S4.E9.m1.1.1.3.2.1.cmml" xref="S4.E9.m1.1.1.3.2.1">⋅</ci><ci id="S4.E9.m1.1.1.3.2.2.cmml" xref="S4.E9.m1.1.1.3.2.2">𝑅</ci><ci id="S4.E9.m1.1.1.3.2.3.cmml" xref="S4.E9.m1.1.1.3.2.3">Δ</ci></apply><ci id="S4.E9.m1.1.1.3.3.cmml" xref="S4.E9.m1.1.1.3.3">𝜎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.1c">\Delta d=R\cdot\Delta\sigma\vspace{-1mm}</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.1d">roman_Δ italic_d = italic_R ⋅ roman_Δ italic_σ</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS4.p1.1">where <math alttext="\Delta\sigma" class="ltx_Math" display="inline" id="S4.SS2.SSS4.p1.1.m1.1"><semantics id="S4.SS2.SSS4.p1.1.m1.1a"><mrow id="S4.SS2.SSS4.p1.1.m1.1.1" xref="S4.SS2.SSS4.p1.1.m1.1.1.cmml"><mi id="S4.SS2.SSS4.p1.1.m1.1.1.2" mathvariant="normal" xref="S4.SS2.SSS4.p1.1.m1.1.1.2.cmml">Δ</mi><mo id="S4.SS2.SSS4.p1.1.m1.1.1.1" xref="S4.SS2.SSS4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS4.p1.1.m1.1.1.3" xref="S4.SS2.SSS4.p1.1.m1.1.1.3.cmml">σ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.1.m1.1b"><apply id="S4.SS2.SSS4.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS4.p1.1.m1.1.1"><times id="S4.SS2.SSS4.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS4.p1.1.m1.1.1.1"></times><ci id="S4.SS2.SSS4.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS4.p1.1.m1.1.1.2">Δ</ci><ci id="S4.SS2.SSS4.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS4.p1.1.m1.1.1.3">𝜎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.1.m1.1c">\Delta\sigma</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS4.p1.1.m1.1d">roman_Δ italic_σ</annotation></semantics></math> represents the angular distance in radians, determined by:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\Delta\sigma=2\cdot\arcsin\left(\sqrt{\sin^{2}\left(\frac{\Delta\phi}{2}\right%
)+\cos(\phi_{1})\cdot\cos(\phi_{2})\cdot\sin^{2}\left(\frac{\Delta\lambda}{2}%
\right)}\right)" class="ltx_Math" display="block" id="S4.E10.m1.9"><semantics id="S4.E10.m1.9a"><mrow id="S4.E10.m1.9.10" xref="S4.E10.m1.9.10.cmml"><mrow id="S4.E10.m1.9.10.2" xref="S4.E10.m1.9.10.2.cmml"><mi id="S4.E10.m1.9.10.2.2" mathvariant="normal" xref="S4.E10.m1.9.10.2.2.cmml">Δ</mi><mo id="S4.E10.m1.9.10.2.1" xref="S4.E10.m1.9.10.2.1.cmml">⁢</mo><mi id="S4.E10.m1.9.10.2.3" xref="S4.E10.m1.9.10.2.3.cmml">σ</mi></mrow><mo id="S4.E10.m1.9.10.1" xref="S4.E10.m1.9.10.1.cmml">=</mo><mrow id="S4.E10.m1.9.10.3" xref="S4.E10.m1.9.10.3.cmml"><mn id="S4.E10.m1.9.10.3.2" xref="S4.E10.m1.9.10.3.2.cmml">2</mn><mo id="S4.E10.m1.9.10.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E10.m1.9.10.3.1.cmml">⋅</mo><mrow id="S4.E10.m1.9.10.3.3.2" xref="S4.E10.m1.9.10.3.3.1.cmml"><mi id="S4.E10.m1.9.9" xref="S4.E10.m1.9.9.cmml">arcsin</mi><mo id="S4.E10.m1.9.10.3.3.2a" xref="S4.E10.m1.9.10.3.3.1.cmml">⁡</mo><mrow id="S4.E10.m1.9.10.3.3.2.1" xref="S4.E10.m1.9.10.3.3.1.cmml"><mo id="S4.E10.m1.9.10.3.3.2.1.1" xref="S4.E10.m1.9.10.3.3.1.cmml">(</mo><msqrt id="S4.E10.m1.8.8" xref="S4.E10.m1.8.8.cmml"><mrow id="S4.E10.m1.8.8.8" xref="S4.E10.m1.8.8.8.cmml"><mrow id="S4.E10.m1.5.5.5.5.1" xref="S4.E10.m1.5.5.5.5.2.cmml"><msup id="S4.E10.m1.5.5.5.5.1.1" xref="S4.E10.m1.5.5.5.5.1.1.cmml"><mi id="S4.E10.m1.5.5.5.5.1.1.2" xref="S4.E10.m1.5.5.5.5.1.1.2.cmml">sin</mi><mn id="S4.E10.m1.5.5.5.5.1.1.3" xref="S4.E10.m1.5.5.5.5.1.1.3.cmml">2</mn></msup><mo id="S4.E10.m1.5.5.5.5.1a" xref="S4.E10.m1.5.5.5.5.2.cmml">⁡</mo><mrow id="S4.E10.m1.5.5.5.5.1.2" xref="S4.E10.m1.5.5.5.5.2.cmml"><mo id="S4.E10.m1.5.5.5.5.1.2.1" xref="S4.E10.m1.5.5.5.5.2.cmml">(</mo><mfrac id="S4.E10.m1.1.1.1.1" xref="S4.E10.m1.1.1.1.1.cmml"><mrow id="S4.E10.m1.1.1.1.1.2" xref="S4.E10.m1.1.1.1.1.2.cmml"><mi id="S4.E10.m1.1.1.1.1.2.2" mathvariant="normal" xref="S4.E10.m1.1.1.1.1.2.2.cmml">Δ</mi><mo id="S4.E10.m1.1.1.1.1.2.1" xref="S4.E10.m1.1.1.1.1.2.1.cmml">⁢</mo><mi id="S4.E10.m1.1.1.1.1.2.3" xref="S4.E10.m1.1.1.1.1.2.3.cmml">ϕ</mi></mrow><mn id="S4.E10.m1.1.1.1.1.3" xref="S4.E10.m1.1.1.1.1.3.cmml">2</mn></mfrac><mo id="S4.E10.m1.5.5.5.5.1.2.2" xref="S4.E10.m1.5.5.5.5.2.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.8.8.8.9" xref="S4.E10.m1.8.8.8.9.cmml">+</mo><mrow id="S4.E10.m1.8.8.8.8" xref="S4.E10.m1.8.8.8.8.cmml"><mrow id="S4.E10.m1.6.6.6.6.1.1" xref="S4.E10.m1.6.6.6.6.1.2.cmml"><mi id="S4.E10.m1.2.2.2.2" xref="S4.E10.m1.2.2.2.2.cmml">cos</mi><mo id="S4.E10.m1.6.6.6.6.1.1a" xref="S4.E10.m1.6.6.6.6.1.2.cmml">⁡</mo><mrow id="S4.E10.m1.6.6.6.6.1.1.1" xref="S4.E10.m1.6.6.6.6.1.2.cmml"><mo id="S4.E10.m1.6.6.6.6.1.1.1.2" stretchy="false" xref="S4.E10.m1.6.6.6.6.1.2.cmml">(</mo><msub id="S4.E10.m1.6.6.6.6.1.1.1.1" xref="S4.E10.m1.6.6.6.6.1.1.1.1.cmml"><mi id="S4.E10.m1.6.6.6.6.1.1.1.1.2" xref="S4.E10.m1.6.6.6.6.1.1.1.1.2.cmml">ϕ</mi><mn id="S4.E10.m1.6.6.6.6.1.1.1.1.3" xref="S4.E10.m1.6.6.6.6.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.E10.m1.6.6.6.6.1.1.1.3" rspace="0.055em" stretchy="false" xref="S4.E10.m1.6.6.6.6.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.8.8.8.8.4" rspace="0.222em" xref="S4.E10.m1.8.8.8.8.4.cmml">⋅</mo><mrow id="S4.E10.m1.7.7.7.7.2.1" xref="S4.E10.m1.7.7.7.7.2.2.cmml"><mi id="S4.E10.m1.3.3.3.3" xref="S4.E10.m1.3.3.3.3.cmml">cos</mi><mo id="S4.E10.m1.7.7.7.7.2.1a" xref="S4.E10.m1.7.7.7.7.2.2.cmml">⁡</mo><mrow id="S4.E10.m1.7.7.7.7.2.1.1" xref="S4.E10.m1.7.7.7.7.2.2.cmml"><mo id="S4.E10.m1.7.7.7.7.2.1.1.2" stretchy="false" xref="S4.E10.m1.7.7.7.7.2.2.cmml">(</mo><msub id="S4.E10.m1.7.7.7.7.2.1.1.1" xref="S4.E10.m1.7.7.7.7.2.1.1.1.cmml"><mi id="S4.E10.m1.7.7.7.7.2.1.1.1.2" xref="S4.E10.m1.7.7.7.7.2.1.1.1.2.cmml">ϕ</mi><mn id="S4.E10.m1.7.7.7.7.2.1.1.1.3" xref="S4.E10.m1.7.7.7.7.2.1.1.1.3.cmml">2</mn></msub><mo id="S4.E10.m1.7.7.7.7.2.1.1.3" rspace="0.055em" stretchy="false" xref="S4.E10.m1.7.7.7.7.2.2.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.8.8.8.8.4a" rspace="0.222em" xref="S4.E10.m1.8.8.8.8.4.cmml">⋅</mo><mrow id="S4.E10.m1.8.8.8.8.3.1" xref="S4.E10.m1.8.8.8.8.3.2.cmml"><msup id="S4.E10.m1.8.8.8.8.3.1.1" xref="S4.E10.m1.8.8.8.8.3.1.1.cmml"><mi id="S4.E10.m1.8.8.8.8.3.1.1.2" xref="S4.E10.m1.8.8.8.8.3.1.1.2.cmml">sin</mi><mn id="S4.E10.m1.8.8.8.8.3.1.1.3" xref="S4.E10.m1.8.8.8.8.3.1.1.3.cmml">2</mn></msup><mo id="S4.E10.m1.8.8.8.8.3.1a" xref="S4.E10.m1.8.8.8.8.3.2.cmml">⁡</mo><mrow id="S4.E10.m1.8.8.8.8.3.1.2" xref="S4.E10.m1.8.8.8.8.3.2.cmml"><mo id="S4.E10.m1.8.8.8.8.3.1.2.1" xref="S4.E10.m1.8.8.8.8.3.2.cmml">(</mo><mfrac id="S4.E10.m1.4.4.4.4" xref="S4.E10.m1.4.4.4.4.cmml"><mrow id="S4.E10.m1.4.4.4.4.2" xref="S4.E10.m1.4.4.4.4.2.cmml"><mi id="S4.E10.m1.4.4.4.4.2.2" mathvariant="normal" xref="S4.E10.m1.4.4.4.4.2.2.cmml">Δ</mi><mo id="S4.E10.m1.4.4.4.4.2.1" xref="S4.E10.m1.4.4.4.4.2.1.cmml">⁢</mo><mi id="S4.E10.m1.4.4.4.4.2.3" xref="S4.E10.m1.4.4.4.4.2.3.cmml">λ</mi></mrow><mn id="S4.E10.m1.4.4.4.4.3" xref="S4.E10.m1.4.4.4.4.3.cmml">2</mn></mfrac><mo id="S4.E10.m1.8.8.8.8.3.1.2.2" xref="S4.E10.m1.8.8.8.8.3.2.cmml">)</mo></mrow></mrow></mrow></mrow></msqrt><mo id="S4.E10.m1.9.10.3.3.2.1.2" xref="S4.E10.m1.9.10.3.3.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E10.m1.9b"><apply id="S4.E10.m1.9.10.cmml" xref="S4.E10.m1.9.10"><eq id="S4.E10.m1.9.10.1.cmml" xref="S4.E10.m1.9.10.1"></eq><apply id="S4.E10.m1.9.10.2.cmml" xref="S4.E10.m1.9.10.2"><times id="S4.E10.m1.9.10.2.1.cmml" xref="S4.E10.m1.9.10.2.1"></times><ci id="S4.E10.m1.9.10.2.2.cmml" xref="S4.E10.m1.9.10.2.2">Δ</ci><ci id="S4.E10.m1.9.10.2.3.cmml" xref="S4.E10.m1.9.10.2.3">𝜎</ci></apply><apply id="S4.E10.m1.9.10.3.cmml" xref="S4.E10.m1.9.10.3"><ci id="S4.E10.m1.9.10.3.1.cmml" xref="S4.E10.m1.9.10.3.1">⋅</ci><cn id="S4.E10.m1.9.10.3.2.cmml" type="integer" xref="S4.E10.m1.9.10.3.2">2</cn><apply id="S4.E10.m1.9.10.3.3.1.cmml" xref="S4.E10.m1.9.10.3.3.2"><arcsin id="S4.E10.m1.9.9.cmml" xref="S4.E10.m1.9.9"></arcsin><apply id="S4.E10.m1.8.8.cmml" xref="S4.E10.m1.8.8"><root id="S4.E10.m1.8.8a.cmml" xref="S4.E10.m1.8.8"></root><apply id="S4.E10.m1.8.8.8.cmml" xref="S4.E10.m1.8.8.8"><plus id="S4.E10.m1.8.8.8.9.cmml" xref="S4.E10.m1.8.8.8.9"></plus><apply id="S4.E10.m1.5.5.5.5.2.cmml" xref="S4.E10.m1.5.5.5.5.1"><apply id="S4.E10.m1.5.5.5.5.1.1.cmml" xref="S4.E10.m1.5.5.5.5.1.1"><csymbol cd="ambiguous" id="S4.E10.m1.5.5.5.5.1.1.1.cmml" xref="S4.E10.m1.5.5.5.5.1.1">superscript</csymbol><sin id="S4.E10.m1.5.5.5.5.1.1.2.cmml" xref="S4.E10.m1.5.5.5.5.1.1.2"></sin><cn id="S4.E10.m1.5.5.5.5.1.1.3.cmml" type="integer" xref="S4.E10.m1.5.5.5.5.1.1.3">2</cn></apply><apply id="S4.E10.m1.1.1.1.1.cmml" xref="S4.E10.m1.1.1.1.1"><divide id="S4.E10.m1.1.1.1.1.1.cmml" xref="S4.E10.m1.1.1.1.1"></divide><apply id="S4.E10.m1.1.1.1.1.2.cmml" xref="S4.E10.m1.1.1.1.1.2"><times id="S4.E10.m1.1.1.1.1.2.1.cmml" xref="S4.E10.m1.1.1.1.1.2.1"></times><ci id="S4.E10.m1.1.1.1.1.2.2.cmml" xref="S4.E10.m1.1.1.1.1.2.2">Δ</ci><ci id="S4.E10.m1.1.1.1.1.2.3.cmml" xref="S4.E10.m1.1.1.1.1.2.3">italic-ϕ</ci></apply><cn id="S4.E10.m1.1.1.1.1.3.cmml" type="integer" xref="S4.E10.m1.1.1.1.1.3">2</cn></apply></apply><apply id="S4.E10.m1.8.8.8.8.cmml" xref="S4.E10.m1.8.8.8.8"><ci id="S4.E10.m1.8.8.8.8.4.cmml" xref="S4.E10.m1.8.8.8.8.4">⋅</ci><apply id="S4.E10.m1.6.6.6.6.1.2.cmml" xref="S4.E10.m1.6.6.6.6.1.1"><cos id="S4.E10.m1.2.2.2.2.cmml" xref="S4.E10.m1.2.2.2.2"></cos><apply id="S4.E10.m1.6.6.6.6.1.1.1.1.cmml" xref="S4.E10.m1.6.6.6.6.1.1.1.1"><csymbol cd="ambiguous" id="S4.E10.m1.6.6.6.6.1.1.1.1.1.cmml" xref="S4.E10.m1.6.6.6.6.1.1.1.1">subscript</csymbol><ci id="S4.E10.m1.6.6.6.6.1.1.1.1.2.cmml" xref="S4.E10.m1.6.6.6.6.1.1.1.1.2">italic-ϕ</ci><cn id="S4.E10.m1.6.6.6.6.1.1.1.1.3.cmml" type="integer" xref="S4.E10.m1.6.6.6.6.1.1.1.1.3">1</cn></apply></apply><apply id="S4.E10.m1.7.7.7.7.2.2.cmml" xref="S4.E10.m1.7.7.7.7.2.1"><cos id="S4.E10.m1.3.3.3.3.cmml" xref="S4.E10.m1.3.3.3.3"></cos><apply id="S4.E10.m1.7.7.7.7.2.1.1.1.cmml" xref="S4.E10.m1.7.7.7.7.2.1.1.1"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.7.7.2.1.1.1.1.cmml" xref="S4.E10.m1.7.7.7.7.2.1.1.1">subscript</csymbol><ci id="S4.E10.m1.7.7.7.7.2.1.1.1.2.cmml" xref="S4.E10.m1.7.7.7.7.2.1.1.1.2">italic-ϕ</ci><cn id="S4.E10.m1.7.7.7.7.2.1.1.1.3.cmml" type="integer" xref="S4.E10.m1.7.7.7.7.2.1.1.1.3">2</cn></apply></apply><apply id="S4.E10.m1.8.8.8.8.3.2.cmml" xref="S4.E10.m1.8.8.8.8.3.1"><apply id="S4.E10.m1.8.8.8.8.3.1.1.cmml" xref="S4.E10.m1.8.8.8.8.3.1.1"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.8.8.3.1.1.1.cmml" xref="S4.E10.m1.8.8.8.8.3.1.1">superscript</csymbol><sin id="S4.E10.m1.8.8.8.8.3.1.1.2.cmml" xref="S4.E10.m1.8.8.8.8.3.1.1.2"></sin><cn id="S4.E10.m1.8.8.8.8.3.1.1.3.cmml" type="integer" xref="S4.E10.m1.8.8.8.8.3.1.1.3">2</cn></apply><apply id="S4.E10.m1.4.4.4.4.cmml" xref="S4.E10.m1.4.4.4.4"><divide id="S4.E10.m1.4.4.4.4.1.cmml" xref="S4.E10.m1.4.4.4.4"></divide><apply id="S4.E10.m1.4.4.4.4.2.cmml" xref="S4.E10.m1.4.4.4.4.2"><times id="S4.E10.m1.4.4.4.4.2.1.cmml" xref="S4.E10.m1.4.4.4.4.2.1"></times><ci id="S4.E10.m1.4.4.4.4.2.2.cmml" xref="S4.E10.m1.4.4.4.4.2.2">Δ</ci><ci id="S4.E10.m1.4.4.4.4.2.3.cmml" xref="S4.E10.m1.4.4.4.4.2.3">𝜆</ci></apply><cn id="S4.E10.m1.4.4.4.4.3.cmml" type="integer" xref="S4.E10.m1.4.4.4.4.3">2</cn></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.9c">\Delta\sigma=2\cdot\arcsin\left(\sqrt{\sin^{2}\left(\frac{\Delta\phi}{2}\right%
)+\cos(\phi_{1})\cdot\cos(\phi_{2})\cdot\sin^{2}\left(\frac{\Delta\lambda}{2}%
\right)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.E10.m1.9d">roman_Δ italic_σ = 2 ⋅ roman_arcsin ( square-root start_ARG roman_sin start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ( divide start_ARG roman_Δ italic_ϕ end_ARG start_ARG 2 end_ARG ) + roman_cos ( italic_ϕ start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ⋅ roman_cos ( italic_ϕ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) ⋅ roman_sin start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT ( divide start_ARG roman_Δ italic_λ end_ARG start_ARG 2 end_ARG ) end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS4.p1.4">Here, <math alttext="\Delta\phi" class="ltx_Math" display="inline" id="S4.SS2.SSS4.p1.2.m1.1"><semantics id="S4.SS2.SSS4.p1.2.m1.1a"><mrow id="S4.SS2.SSS4.p1.2.m1.1.1" xref="S4.SS2.SSS4.p1.2.m1.1.1.cmml"><mi id="S4.SS2.SSS4.p1.2.m1.1.1.2" mathvariant="normal" xref="S4.SS2.SSS4.p1.2.m1.1.1.2.cmml">Δ</mi><mo id="S4.SS2.SSS4.p1.2.m1.1.1.1" xref="S4.SS2.SSS4.p1.2.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS4.p1.2.m1.1.1.3" xref="S4.SS2.SSS4.p1.2.m1.1.1.3.cmml">ϕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.2.m1.1b"><apply id="S4.SS2.SSS4.p1.2.m1.1.1.cmml" xref="S4.SS2.SSS4.p1.2.m1.1.1"><times id="S4.SS2.SSS4.p1.2.m1.1.1.1.cmml" xref="S4.SS2.SSS4.p1.2.m1.1.1.1"></times><ci id="S4.SS2.SSS4.p1.2.m1.1.1.2.cmml" xref="S4.SS2.SSS4.p1.2.m1.1.1.2">Δ</ci><ci id="S4.SS2.SSS4.p1.2.m1.1.1.3.cmml" xref="S4.SS2.SSS4.p1.2.m1.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.2.m1.1c">\Delta\phi</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS4.p1.2.m1.1d">roman_Δ italic_ϕ</annotation></semantics></math> and <math alttext="\Delta\lambda" class="ltx_Math" display="inline" id="S4.SS2.SSS4.p1.3.m2.1"><semantics id="S4.SS2.SSS4.p1.3.m2.1a"><mrow id="S4.SS2.SSS4.p1.3.m2.1.1" xref="S4.SS2.SSS4.p1.3.m2.1.1.cmml"><mi id="S4.SS2.SSS4.p1.3.m2.1.1.2" mathvariant="normal" xref="S4.SS2.SSS4.p1.3.m2.1.1.2.cmml">Δ</mi><mo id="S4.SS2.SSS4.p1.3.m2.1.1.1" xref="S4.SS2.SSS4.p1.3.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS2.SSS4.p1.3.m2.1.1.3" xref="S4.SS2.SSS4.p1.3.m2.1.1.3.cmml">λ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.3.m2.1b"><apply id="S4.SS2.SSS4.p1.3.m2.1.1.cmml" xref="S4.SS2.SSS4.p1.3.m2.1.1"><times id="S4.SS2.SSS4.p1.3.m2.1.1.1.cmml" xref="S4.SS2.SSS4.p1.3.m2.1.1.1"></times><ci id="S4.SS2.SSS4.p1.3.m2.1.1.2.cmml" xref="S4.SS2.SSS4.p1.3.m2.1.1.2">Δ</ci><ci id="S4.SS2.SSS4.p1.3.m2.1.1.3.cmml" xref="S4.SS2.SSS4.p1.3.m2.1.1.3">𝜆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.3.m2.1c">\Delta\lambda</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS4.p1.3.m2.1d">roman_Δ italic_λ</annotation></semantics></math> are the differences in latitude and longitude, and <math alttext="R" class="ltx_Math" display="inline" id="S4.SS2.SSS4.p1.4.m3.1"><semantics id="S4.SS2.SSS4.p1.4.m3.1a"><mi id="S4.SS2.SSS4.p1.4.m3.1.1" xref="S4.SS2.SSS4.p1.4.m3.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS4.p1.4.m3.1b"><ci id="S4.SS2.SSS4.p1.4.m3.1.1.cmml" xref="S4.SS2.SSS4.p1.4.m3.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS4.p1.4.m3.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS4.p1.4.m3.1d">italic_R</annotation></semantics></math> is the Earth’s radius.
Navigator also generates static maps to visually represent routes for landmark recognition and effective navigation.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.5 </span>Analyst</h4>
<div class="ltx_para" id="S4.SS2.SSS5.p1">
<p class="ltx_p" id="S4.SS2.SSS5.p1.2">is based on the user’s past visit records
<math alttext="\mathcal{H}_{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.1.m1.1"><semantics id="S4.SS2.SSS5.p1.1.m1.1a"><msub id="S4.SS2.SSS5.p1.1.m1.1.1" xref="S4.SS2.SSS5.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS5.p1.1.m1.1.1.2" xref="S4.SS2.SSS5.p1.1.m1.1.1.2.cmml">ℋ</mi><mi id="S4.SS2.SSS5.p1.1.m1.1.1.3" xref="S4.SS2.SSS5.p1.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.1.m1.1b"><apply id="S4.SS2.SSS5.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.1.m1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.1.m1.1.1.2.cmml" xref="S4.SS2.SSS5.p1.1.m1.1.1.2">ℋ</ci><ci id="S4.SS2.SSS5.p1.1.m1.1.1.3.cmml" xref="S4.SS2.SSS5.p1.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.1.m1.1c">\mathcal{H}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.1.m1.1d">caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> (consist of long-term and recent records) and candidate set <math alttext="\mathcal{C}_{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.2.m2.1"><semantics id="S4.SS2.SSS5.p1.2.m2.1a"><msub id="S4.SS2.SSS5.p1.2.m2.1.1" xref="S4.SS2.SSS5.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS5.p1.2.m2.1.1.2" xref="S4.SS2.SSS5.p1.2.m2.1.1.2.cmml">𝒞</mi><mi id="S4.SS2.SSS5.p1.2.m2.1.1.3" xref="S4.SS2.SSS5.p1.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.2.m2.1b"><apply id="S4.SS2.SSS5.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS5.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS5.p1.2.m2.1.1.2">𝒞</ci><ci id="S4.SS2.SSS5.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS5.p1.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.2.m2.1c">\mathcal{C}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.2.m2.1d">caligraphic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, which are defined as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{H}_{u}=\{(p_{i},\text{cat}(p_{i}),t_{i})\mid i=1,2,\ldots,H\},\quad%
\mathcal{C}_{u}=\left\{\left(p_{j},\Delta d(p_{j},p_{\text{last}}),\text{cat}(%
p_{j})\right)\right\}_{j=1}^{M^{\prime}}" class="ltx_Math" display="block" id="S4.E11.m1.6"><semantics id="S4.E11.m1.6a"><mrow id="S4.E11.m1.6.6.2" xref="S4.E11.m1.6.6.3.cmml"><mrow id="S4.E11.m1.5.5.1.1" xref="S4.E11.m1.5.5.1.1.cmml"><msub id="S4.E11.m1.5.5.1.1.4" xref="S4.E11.m1.5.5.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.5.5.1.1.4.2" xref="S4.E11.m1.5.5.1.1.4.2.cmml">ℋ</mi><mi id="S4.E11.m1.5.5.1.1.4.3" xref="S4.E11.m1.5.5.1.1.4.3.cmml">u</mi></msub><mo id="S4.E11.m1.5.5.1.1.3" xref="S4.E11.m1.5.5.1.1.3.cmml">=</mo><mrow id="S4.E11.m1.5.5.1.1.2.2" xref="S4.E11.m1.5.5.1.1.2.3.cmml"><mo id="S4.E11.m1.5.5.1.1.2.2.3" stretchy="false" xref="S4.E11.m1.5.5.1.1.2.3.1.cmml">{</mo><mrow id="S4.E11.m1.5.5.1.1.1.1.1.3" xref="S4.E11.m1.5.5.1.1.1.1.1.4.cmml"><mo id="S4.E11.m1.5.5.1.1.1.1.1.3.4" stretchy="false" xref="S4.E11.m1.5.5.1.1.1.1.1.4.cmml">(</mo><msub id="S4.E11.m1.5.5.1.1.1.1.1.1.1" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1.cmml"><mi id="S4.E11.m1.5.5.1.1.1.1.1.1.1.2" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1.2.cmml">p</mi><mi id="S4.E11.m1.5.5.1.1.1.1.1.1.1.3" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E11.m1.5.5.1.1.1.1.1.3.5" xref="S4.E11.m1.5.5.1.1.1.1.1.4.cmml">,</mo><mrow id="S4.E11.m1.5.5.1.1.1.1.1.2.2" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.cmml"><mtext id="S4.E11.m1.5.5.1.1.1.1.1.2.2.3" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.3a.cmml">cat</mtext><mo id="S4.E11.m1.5.5.1.1.1.1.1.2.2.2" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.2.cmml">⁢</mo><mrow id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.cmml"><mo id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.2" stretchy="false" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.cmml">(</mo><msub id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.2" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.2.cmml">p</mi><mi id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.3" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.3" stretchy="false" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E11.m1.5.5.1.1.1.1.1.3.6" xref="S4.E11.m1.5.5.1.1.1.1.1.4.cmml">,</mo><msub id="S4.E11.m1.5.5.1.1.1.1.1.3.3" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3.cmml"><mi id="S4.E11.m1.5.5.1.1.1.1.1.3.3.2" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3.2.cmml">t</mi><mi id="S4.E11.m1.5.5.1.1.1.1.1.3.3.3" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3.3.cmml">i</mi></msub><mo id="S4.E11.m1.5.5.1.1.1.1.1.3.7" stretchy="false" xref="S4.E11.m1.5.5.1.1.1.1.1.4.cmml">)</mo></mrow><mo fence="true" id="S4.E11.m1.5.5.1.1.2.2.4" lspace="0em" rspace="0em" xref="S4.E11.m1.5.5.1.1.2.3.1.cmml">∣</mo><mrow id="S4.E11.m1.5.5.1.1.2.2.2" xref="S4.E11.m1.5.5.1.1.2.2.2.cmml"><mi id="S4.E11.m1.5.5.1.1.2.2.2.2" xref="S4.E11.m1.5.5.1.1.2.2.2.2.cmml">i</mi><mo id="S4.E11.m1.5.5.1.1.2.2.2.1" xref="S4.E11.m1.5.5.1.1.2.2.2.1.cmml">=</mo><mrow id="S4.E11.m1.5.5.1.1.2.2.2.3.2" xref="S4.E11.m1.5.5.1.1.2.2.2.3.1.cmml"><mn id="S4.E11.m1.1.1" xref="S4.E11.m1.1.1.cmml">1</mn><mo id="S4.E11.m1.5.5.1.1.2.2.2.3.2.1" xref="S4.E11.m1.5.5.1.1.2.2.2.3.1.cmml">,</mo><mn id="S4.E11.m1.2.2" xref="S4.E11.m1.2.2.cmml">2</mn><mo id="S4.E11.m1.5.5.1.1.2.2.2.3.2.2" xref="S4.E11.m1.5.5.1.1.2.2.2.3.1.cmml">,</mo><mi id="S4.E11.m1.3.3" mathvariant="normal" xref="S4.E11.m1.3.3.cmml">…</mi><mo id="S4.E11.m1.5.5.1.1.2.2.2.3.2.3" xref="S4.E11.m1.5.5.1.1.2.2.2.3.1.cmml">,</mo><mi id="S4.E11.m1.4.4" xref="S4.E11.m1.4.4.cmml">H</mi></mrow></mrow><mo id="S4.E11.m1.5.5.1.1.2.2.5" stretchy="false" xref="S4.E11.m1.5.5.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S4.E11.m1.6.6.2.3" rspace="1.167em" xref="S4.E11.m1.6.6.3a.cmml">,</mo><mrow id="S4.E11.m1.6.6.2.2" xref="S4.E11.m1.6.6.2.2.cmml"><msub id="S4.E11.m1.6.6.2.2.3" xref="S4.E11.m1.6.6.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.6.6.2.2.3.2" xref="S4.E11.m1.6.6.2.2.3.2.cmml">𝒞</mi><mi id="S4.E11.m1.6.6.2.2.3.3" xref="S4.E11.m1.6.6.2.2.3.3.cmml">u</mi></msub><mo id="S4.E11.m1.6.6.2.2.2" xref="S4.E11.m1.6.6.2.2.2.cmml">=</mo><msubsup id="S4.E11.m1.6.6.2.2.1" xref="S4.E11.m1.6.6.2.2.1.cmml"><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1" xref="S4.E11.m1.6.6.2.2.1.1.1.2.cmml"><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.2" xref="S4.E11.m1.6.6.2.2.1.1.1.2.cmml">{</mo><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml"><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.4" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml">(</mo><msub id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.2.cmml">p</mi><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.5" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml">,</mo><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.4" mathvariant="normal" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.4.cmml">Δ</mi><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3.cmml">⁢</mo><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.5" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.5.cmml">d</mi><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3a" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3.cmml">⁢</mo><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.3.cmml"><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.3" stretchy="false" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.3.cmml">(</mo><msub id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.2.cmml">p</mi><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.4" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.3.cmml">,</mo><msub id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.2.cmml">p</mi><mtext id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3a.cmml">last</mtext></msub><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.5" stretchy="false" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.6" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml">,</mo><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.cmml"><mtext id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3a.cmml">cat</mtext><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.2.cmml">⁢</mo><mrow id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.cmml"><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.2" stretchy="false" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.cmml">(</mo><msub id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.2" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.2.cmml">p</mi><mi id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.3.cmml">j</mi></msub><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.3" stretchy="false" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.7" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml">)</mo></mrow><mo id="S4.E11.m1.6.6.2.2.1.1.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.E11.m1.6.6.2.2.1.1.3" xref="S4.E11.m1.6.6.2.2.1.1.3.cmml"><mi id="S4.E11.m1.6.6.2.2.1.1.3.2" xref="S4.E11.m1.6.6.2.2.1.1.3.2.cmml">j</mi><mo id="S4.E11.m1.6.6.2.2.1.1.3.1" xref="S4.E11.m1.6.6.2.2.1.1.3.1.cmml">=</mo><mn id="S4.E11.m1.6.6.2.2.1.1.3.3" xref="S4.E11.m1.6.6.2.2.1.1.3.3.cmml">1</mn></mrow><msup id="S4.E11.m1.6.6.2.2.1.3" xref="S4.E11.m1.6.6.2.2.1.3.cmml"><mi id="S4.E11.m1.6.6.2.2.1.3.2" xref="S4.E11.m1.6.6.2.2.1.3.2.cmml">M</mi><mo id="S4.E11.m1.6.6.2.2.1.3.3" xref="S4.E11.m1.6.6.2.2.1.3.3.cmml">′</mo></msup></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E11.m1.6b"><apply id="S4.E11.m1.6.6.3.cmml" xref="S4.E11.m1.6.6.2"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.3a.cmml" xref="S4.E11.m1.6.6.2.3">formulae-sequence</csymbol><apply id="S4.E11.m1.5.5.1.1.cmml" xref="S4.E11.m1.5.5.1.1"><eq id="S4.E11.m1.5.5.1.1.3.cmml" xref="S4.E11.m1.5.5.1.1.3"></eq><apply id="S4.E11.m1.5.5.1.1.4.cmml" xref="S4.E11.m1.5.5.1.1.4"><csymbol cd="ambiguous" id="S4.E11.m1.5.5.1.1.4.1.cmml" xref="S4.E11.m1.5.5.1.1.4">subscript</csymbol><ci id="S4.E11.m1.5.5.1.1.4.2.cmml" xref="S4.E11.m1.5.5.1.1.4.2">ℋ</ci><ci id="S4.E11.m1.5.5.1.1.4.3.cmml" xref="S4.E11.m1.5.5.1.1.4.3">𝑢</ci></apply><apply id="S4.E11.m1.5.5.1.1.2.3.cmml" xref="S4.E11.m1.5.5.1.1.2.2"><csymbol cd="latexml" id="S4.E11.m1.5.5.1.1.2.3.1.cmml" xref="S4.E11.m1.5.5.1.1.2.2.3">conditional-set</csymbol><vector id="S4.E11.m1.5.5.1.1.1.1.1.4.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.3"><apply id="S4.E11.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E11.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1.2">𝑝</ci><ci id="S4.E11.m1.5.5.1.1.1.1.1.1.1.3.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E11.m1.5.5.1.1.1.1.1.2.2.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2"><times id="S4.E11.m1.5.5.1.1.1.1.1.2.2.2.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.2"></times><ci id="S4.E11.m1.5.5.1.1.1.1.1.2.2.3a.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.3"><mtext id="S4.E11.m1.5.5.1.1.1.1.1.2.2.3.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.3">cat</mtext></ci><apply id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1">subscript</csymbol><ci id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.2">𝑝</ci><ci id="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.2.2.1.1.1.3">𝑖</ci></apply></apply><apply id="S4.E11.m1.5.5.1.1.1.1.1.3.3.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E11.m1.5.5.1.1.1.1.1.3.3.1.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E11.m1.5.5.1.1.1.1.1.3.3.2.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3.2">𝑡</ci><ci id="S4.E11.m1.5.5.1.1.1.1.1.3.3.3.cmml" xref="S4.E11.m1.5.5.1.1.1.1.1.3.3.3">𝑖</ci></apply></vector><apply id="S4.E11.m1.5.5.1.1.2.2.2.cmml" xref="S4.E11.m1.5.5.1.1.2.2.2"><eq id="S4.E11.m1.5.5.1.1.2.2.2.1.cmml" xref="S4.E11.m1.5.5.1.1.2.2.2.1"></eq><ci id="S4.E11.m1.5.5.1.1.2.2.2.2.cmml" xref="S4.E11.m1.5.5.1.1.2.2.2.2">𝑖</ci><list id="S4.E11.m1.5.5.1.1.2.2.2.3.1.cmml" xref="S4.E11.m1.5.5.1.1.2.2.2.3.2"><cn id="S4.E11.m1.1.1.cmml" type="integer" xref="S4.E11.m1.1.1">1</cn><cn id="S4.E11.m1.2.2.cmml" type="integer" xref="S4.E11.m1.2.2">2</cn><ci id="S4.E11.m1.3.3.cmml" xref="S4.E11.m1.3.3">…</ci><ci id="S4.E11.m1.4.4.cmml" xref="S4.E11.m1.4.4">𝐻</ci></list></apply></apply></apply><apply id="S4.E11.m1.6.6.2.2.cmml" xref="S4.E11.m1.6.6.2.2"><eq id="S4.E11.m1.6.6.2.2.2.cmml" xref="S4.E11.m1.6.6.2.2.2"></eq><apply id="S4.E11.m1.6.6.2.2.3.cmml" xref="S4.E11.m1.6.6.2.2.3"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.3.1.cmml" xref="S4.E11.m1.6.6.2.2.3">subscript</csymbol><ci id="S4.E11.m1.6.6.2.2.3.2.cmml" xref="S4.E11.m1.6.6.2.2.3.2">𝒞</ci><ci id="S4.E11.m1.6.6.2.2.3.3.cmml" xref="S4.E11.m1.6.6.2.2.3.3">𝑢</ci></apply><apply id="S4.E11.m1.6.6.2.2.1.cmml" xref="S4.E11.m1.6.6.2.2.1"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1">superscript</csymbol><apply id="S4.E11.m1.6.6.2.2.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1">subscript</csymbol><set id="S4.E11.m1.6.6.2.2.1.1.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1"><vector id="S4.E11.m1.6.6.2.2.1.1.1.1.1.4.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3"><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.2">𝑝</ci><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.1.1.3">𝑗</ci></apply><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2"><times id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.3"></times><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.4.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.4">Δ</ci><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.5.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.5">𝑑</ci><interval closure="open" id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2"><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.2">𝑝</ci><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.1.1.1.3">𝑗</ci></apply><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.2">𝑝</ci><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3a.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3"><mtext id="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3.cmml" mathsize="70%" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.2.2.2.2.2.3">last</mtext></ci></apply></interval></apply><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3"><times id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.2"></times><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3a.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3"><mtext id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.3">cat</mtext></ci><apply id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1">subscript</csymbol><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.2">𝑝</ci><ci id="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.1.1.1.3.3.1.1.1.3">𝑗</ci></apply></apply></vector></set><apply id="S4.E11.m1.6.6.2.2.1.1.3.cmml" xref="S4.E11.m1.6.6.2.2.1.1.3"><eq id="S4.E11.m1.6.6.2.2.1.1.3.1.cmml" xref="S4.E11.m1.6.6.2.2.1.1.3.1"></eq><ci id="S4.E11.m1.6.6.2.2.1.1.3.2.cmml" xref="S4.E11.m1.6.6.2.2.1.1.3.2">𝑗</ci><cn id="S4.E11.m1.6.6.2.2.1.1.3.3.cmml" type="integer" xref="S4.E11.m1.6.6.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.E11.m1.6.6.2.2.1.3.cmml" xref="S4.E11.m1.6.6.2.2.1.3"><csymbol cd="ambiguous" id="S4.E11.m1.6.6.2.2.1.3.1.cmml" xref="S4.E11.m1.6.6.2.2.1.3">superscript</csymbol><ci id="S4.E11.m1.6.6.2.2.1.3.2.cmml" xref="S4.E11.m1.6.6.2.2.1.3.2">𝑀</ci><ci id="S4.E11.m1.6.6.2.2.1.3.3.cmml" xref="S4.E11.m1.6.6.2.2.1.3.3">′</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11.m1.6c">\mathcal{H}_{u}=\{(p_{i},\text{cat}(p_{i}),t_{i})\mid i=1,2,\ldots,H\},\quad%
\mathcal{C}_{u}=\left\{\left(p_{j},\Delta d(p_{j},p_{\text{last}}),\text{cat}(%
p_{j})\right)\right\}_{j=1}^{M^{\prime}}</annotation><annotation encoding="application/x-llamapun" id="S4.E11.m1.6d">caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { ( italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , cat ( italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) , italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∣ italic_i = 1 , 2 , … , italic_H } , caligraphic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , roman_Δ italic_d ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT last end_POSTSUBSCRIPT ) , cat ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS5.p1.13">where <math alttext="H" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.3.m1.1"><semantics id="S4.SS2.SSS5.p1.3.m1.1a"><mi id="S4.SS2.SSS5.p1.3.m1.1.1" xref="S4.SS2.SSS5.p1.3.m1.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.3.m1.1b"><ci id="S4.SS2.SSS5.p1.3.m1.1.1.cmml" xref="S4.SS2.SSS5.p1.3.m1.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.3.m1.1c">H</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.3.m1.1d">italic_H</annotation></semantics></math> indicates total historic records and <math alttext="p_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.4.m2.1"><semantics id="S4.SS2.SSS5.p1.4.m2.1a"><msub id="S4.SS2.SSS5.p1.4.m2.1.1" xref="S4.SS2.SSS5.p1.4.m2.1.1.cmml"><mi id="S4.SS2.SSS5.p1.4.m2.1.1.2" xref="S4.SS2.SSS5.p1.4.m2.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS5.p1.4.m2.1.1.3" xref="S4.SS2.SSS5.p1.4.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.4.m2.1b"><apply id="S4.SS2.SSS5.p1.4.m2.1.1.cmml" xref="S4.SS2.SSS5.p1.4.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.4.m2.1.1.1.cmml" xref="S4.SS2.SSS5.p1.4.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.4.m2.1.1.2.cmml" xref="S4.SS2.SSS5.p1.4.m2.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.4.m2.1.1.3.cmml" xref="S4.SS2.SSS5.p1.4.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.4.m2.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.4.m2.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes a visited POI defined in <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S3" title="3 Problem Statement ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>, <math alttext="\text{cat}(p_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.5.m3.1"><semantics id="S4.SS2.SSS5.p1.5.m3.1a"><mrow id="S4.SS2.SSS5.p1.5.m3.1.1" xref="S4.SS2.SSS5.p1.5.m3.1.1.cmml"><mtext id="S4.SS2.SSS5.p1.5.m3.1.1.3" xref="S4.SS2.SSS5.p1.5.m3.1.1.3a.cmml">cat</mtext><mo id="S4.SS2.SSS5.p1.5.m3.1.1.2" xref="S4.SS2.SSS5.p1.5.m3.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS5.p1.5.m3.1.1.1.1" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.2" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.3" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.5.m3.1b"><apply id="S4.SS2.SSS5.p1.5.m3.1.1.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1"><times id="S4.SS2.SSS5.p1.5.m3.1.1.2.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.2"></times><ci id="S4.SS2.SSS5.p1.5.m3.1.1.3a.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.3"><mtext id="S4.SS2.SSS5.p1.5.m3.1.1.3.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.3">cat</mtext></ci><apply id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS5.p1.5.m3.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.5.m3.1c">\text{cat}(p_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.5.m3.1d">cat ( italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is its category, and <math alttext="t_{i}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.6.m4.1"><semantics id="S4.SS2.SSS5.p1.6.m4.1a"><msub id="S4.SS2.SSS5.p1.6.m4.1.1" xref="S4.SS2.SSS5.p1.6.m4.1.1.cmml"><mi id="S4.SS2.SSS5.p1.6.m4.1.1.2" xref="S4.SS2.SSS5.p1.6.m4.1.1.2.cmml">t</mi><mi id="S4.SS2.SSS5.p1.6.m4.1.1.3" xref="S4.SS2.SSS5.p1.6.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.6.m4.1b"><apply id="S4.SS2.SSS5.p1.6.m4.1.1.cmml" xref="S4.SS2.SSS5.p1.6.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.6.m4.1.1.1.cmml" xref="S4.SS2.SSS5.p1.6.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.6.m4.1.1.2.cmml" xref="S4.SS2.SSS5.p1.6.m4.1.1.2">𝑡</ci><ci id="S4.SS2.SSS5.p1.6.m4.1.1.3.cmml" xref="S4.SS2.SSS5.p1.6.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.6.m4.1c">t_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.6.m4.1d">italic_t start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the visit timestamp. <math alttext="\Delta d(p_{j},p_{\text{last}})" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.7.m5.2"><semantics id="S4.SS2.SSS5.p1.7.m5.2a"><mrow id="S4.SS2.SSS5.p1.7.m5.2.2" xref="S4.SS2.SSS5.p1.7.m5.2.2.cmml"><mi id="S4.SS2.SSS5.p1.7.m5.2.2.4" mathvariant="normal" xref="S4.SS2.SSS5.p1.7.m5.2.2.4.cmml">Δ</mi><mo id="S4.SS2.SSS5.p1.7.m5.2.2.3" xref="S4.SS2.SSS5.p1.7.m5.2.2.3.cmml">⁢</mo><mi id="S4.SS2.SSS5.p1.7.m5.2.2.5" xref="S4.SS2.SSS5.p1.7.m5.2.2.5.cmml">d</mi><mo id="S4.SS2.SSS5.p1.7.m5.2.2.3a" xref="S4.SS2.SSS5.p1.7.m5.2.2.3.cmml">⁢</mo><mrow id="S4.SS2.SSS5.p1.7.m5.2.2.2.2" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.3.cmml"><mo id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.3" stretchy="false" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.3.cmml">(</mo><msub id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.2" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.3" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.4" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.3.cmml">,</mo><msub id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.cmml"><mi id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.2" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.2.cmml">p</mi><mtext id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3a.cmml">last</mtext></msub><mo id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.5" stretchy="false" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.7.m5.2b"><apply id="S4.SS2.SSS5.p1.7.m5.2.2.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2"><times id="S4.SS2.SSS5.p1.7.m5.2.2.3.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.3"></times><ci id="S4.SS2.SSS5.p1.7.m5.2.2.4.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.4">Δ</ci><ci id="S4.SS2.SSS5.p1.7.m5.2.2.5.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.5">𝑑</ci><interval closure="open" id="S4.SS2.SSS5.p1.7.m5.2.2.2.3.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2"><apply id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS5.p1.7.m5.1.1.1.1.1.3">𝑗</ci></apply><apply id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.1.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.2.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3a.cmml" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3"><mtext id="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3.cmml" mathsize="70%" xref="S4.SS2.SSS5.p1.7.m5.2.2.2.2.2.3">last</mtext></ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.7.m5.2c">\Delta d(p_{j},p_{\text{last}})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.7.m5.2d">roman_Δ italic_d ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT last end_POSTSUBSCRIPT )</annotation></semantics></math> represents the distance
(calculated through <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S4.E9" title="In 4.2.4 Navigator ‣ 4.2 Role Agents. ‣ 4 Method ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">9</span></a>) between a candidate POI <math alttext="p_{j}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.8.m6.1"><semantics id="S4.SS2.SSS5.p1.8.m6.1a"><msub id="S4.SS2.SSS5.p1.8.m6.1.1" xref="S4.SS2.SSS5.p1.8.m6.1.1.cmml"><mi id="S4.SS2.SSS5.p1.8.m6.1.1.2" xref="S4.SS2.SSS5.p1.8.m6.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS5.p1.8.m6.1.1.3" xref="S4.SS2.SSS5.p1.8.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.8.m6.1b"><apply id="S4.SS2.SSS5.p1.8.m6.1.1.cmml" xref="S4.SS2.SSS5.p1.8.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.8.m6.1.1.1.cmml" xref="S4.SS2.SSS5.p1.8.m6.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.8.m6.1.1.2.cmml" xref="S4.SS2.SSS5.p1.8.m6.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.8.m6.1.1.3.cmml" xref="S4.SS2.SSS5.p1.8.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.8.m6.1c">p_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.8.m6.1d">italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and the last visited POI <math alttext="p_{\text{last}}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.9.m7.1"><semantics id="S4.SS2.SSS5.p1.9.m7.1a"><msub id="S4.SS2.SSS5.p1.9.m7.1.1" xref="S4.SS2.SSS5.p1.9.m7.1.1.cmml"><mi id="S4.SS2.SSS5.p1.9.m7.1.1.2" xref="S4.SS2.SSS5.p1.9.m7.1.1.2.cmml">p</mi><mtext id="S4.SS2.SSS5.p1.9.m7.1.1.3" xref="S4.SS2.SSS5.p1.9.m7.1.1.3a.cmml">last</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.9.m7.1b"><apply id="S4.SS2.SSS5.p1.9.m7.1.1.cmml" xref="S4.SS2.SSS5.p1.9.m7.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.9.m7.1.1.1.cmml" xref="S4.SS2.SSS5.p1.9.m7.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.9.m7.1.1.2.cmml" xref="S4.SS2.SSS5.p1.9.m7.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.9.m7.1.1.3a.cmml" xref="S4.SS2.SSS5.p1.9.m7.1.1.3"><mtext id="S4.SS2.SSS5.p1.9.m7.1.1.3.cmml" mathsize="70%" xref="S4.SS2.SSS5.p1.9.m7.1.1.3">last</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.9.m7.1c">p_{\text{last}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.9.m7.1d">italic_p start_POSTSUBSCRIPT last end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="\text{cat}(p_{j})" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.10.m8.1"><semantics id="S4.SS2.SSS5.p1.10.m8.1a"><mrow id="S4.SS2.SSS5.p1.10.m8.1.1" xref="S4.SS2.SSS5.p1.10.m8.1.1.cmml"><mtext id="S4.SS2.SSS5.p1.10.m8.1.1.3" xref="S4.SS2.SSS5.p1.10.m8.1.1.3a.cmml">cat</mtext><mo id="S4.SS2.SSS5.p1.10.m8.1.1.2" xref="S4.SS2.SSS5.p1.10.m8.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS5.p1.10.m8.1.1.1.1" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.cmml">(</mo><msub id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.cmml"><mi id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.2" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.2.cmml">p</mi><mi id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.3" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.10.m8.1b"><apply id="S4.SS2.SSS5.p1.10.m8.1.1.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1"><times id="S4.SS2.SSS5.p1.10.m8.1.1.2.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.2"></times><ci id="S4.SS2.SSS5.p1.10.m8.1.1.3a.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.3"><mtext id="S4.SS2.SSS5.p1.10.m8.1.1.3.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.3">cat</mtext></ci><apply id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.2">𝑝</ci><ci id="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS5.p1.10.m8.1.1.1.1.1.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.10.m8.1c">\text{cat}(p_{j})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.10.m8.1d">cat ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> represents the candidate POI’s category.
The <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS5.p1.13.1">Analyst</span> combines <math alttext="\mathcal{H}_{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.11.m9.1"><semantics id="S4.SS2.SSS5.p1.11.m9.1a"><msub id="S4.SS2.SSS5.p1.11.m9.1.1" xref="S4.SS2.SSS5.p1.11.m9.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS5.p1.11.m9.1.1.2" xref="S4.SS2.SSS5.p1.11.m9.1.1.2.cmml">ℋ</mi><mi id="S4.SS2.SSS5.p1.11.m9.1.1.3" xref="S4.SS2.SSS5.p1.11.m9.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.11.m9.1b"><apply id="S4.SS2.SSS5.p1.11.m9.1.1.cmml" xref="S4.SS2.SSS5.p1.11.m9.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.11.m9.1.1.1.cmml" xref="S4.SS2.SSS5.p1.11.m9.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.11.m9.1.1.2.cmml" xref="S4.SS2.SSS5.p1.11.m9.1.1.2">ℋ</ci><ci id="S4.SS2.SSS5.p1.11.m9.1.1.3.cmml" xref="S4.SS2.SSS5.p1.11.m9.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.11.m9.1c">\mathcal{H}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.11.m9.1d">caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{C}_{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.12.m10.1"><semantics id="S4.SS2.SSS5.p1.12.m10.1a"><msub id="S4.SS2.SSS5.p1.12.m10.1.1" xref="S4.SS2.SSS5.p1.12.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS5.p1.12.m10.1.1.2" xref="S4.SS2.SSS5.p1.12.m10.1.1.2.cmml">𝒞</mi><mi id="S4.SS2.SSS5.p1.12.m10.1.1.3" xref="S4.SS2.SSS5.p1.12.m10.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.12.m10.1b"><apply id="S4.SS2.SSS5.p1.12.m10.1.1.cmml" xref="S4.SS2.SSS5.p1.12.m10.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.12.m10.1.1.1.cmml" xref="S4.SS2.SSS5.p1.12.m10.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.12.m10.1.1.2.cmml" xref="S4.SS2.SSS5.p1.12.m10.1.1.2">𝒞</ci><ci id="S4.SS2.SSS5.p1.12.m10.1.1.3.cmml" xref="S4.SS2.SSS5.p1.12.m10.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.12.m10.1c">\mathcal{C}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.12.m10.1d">caligraphic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> into a prompt <math alttext="p_{an}" class="ltx_Math" display="inline" id="S4.SS2.SSS5.p1.13.m11.1"><semantics id="S4.SS2.SSS5.p1.13.m11.1a"><msub id="S4.SS2.SSS5.p1.13.m11.1.1" xref="S4.SS2.SSS5.p1.13.m11.1.1.cmml"><mi id="S4.SS2.SSS5.p1.13.m11.1.1.2" xref="S4.SS2.SSS5.p1.13.m11.1.1.2.cmml">p</mi><mrow id="S4.SS2.SSS5.p1.13.m11.1.1.3" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.cmml"><mi id="S4.SS2.SSS5.p1.13.m11.1.1.3.2" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.2.cmml">a</mi><mo id="S4.SS2.SSS5.p1.13.m11.1.1.3.1" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS5.p1.13.m11.1.1.3.3" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.3.cmml">n</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS5.p1.13.m11.1b"><apply id="S4.SS2.SSS5.p1.13.m11.1.1.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS5.p1.13.m11.1.1.1.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1">subscript</csymbol><ci id="S4.SS2.SSS5.p1.13.m11.1.1.2.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1.2">𝑝</ci><apply id="S4.SS2.SSS5.p1.13.m11.1.1.3.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1.3"><times id="S4.SS2.SSS5.p1.13.m11.1.1.3.1.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.1"></times><ci id="S4.SS2.SSS5.p1.13.m11.1.1.3.2.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.2">𝑎</ci><ci id="S4.SS2.SSS5.p1.13.m11.1.1.3.3.cmml" xref="S4.SS2.SSS5.p1.13.m11.1.1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS5.p1.13.m11.1c">p_{an}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS5.p1.13.m11.1d">italic_p start_POSTSUBSCRIPT italic_a italic_n end_POSTSUBSCRIPT</annotation></semantics></math> to generate the list of initial recommended POIs with explanation.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{\mathcal{A_{a}}}=\mathcal{A_{a}}(p_{an}\parallel\mathcal{H}_{u},\parallel%
\mathcal{C}_{u})" class="ltx_math_unparsed" display="block" id="S4.E12.m1.1"><semantics id="S4.E12.m1.1a"><mrow id="S4.E12.m1.1b"><msub id="S4.E12.m1.1.1"><mi id="S4.E12.m1.1.1.2">y</mi><msub id="S4.E12.m1.1.1.3"><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.1.3.2">𝒜</mi><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.1.3.3">𝒶</mi></msub></msub><mo id="S4.E12.m1.1.2">=</mo><msub id="S4.E12.m1.1.3"><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.3.2">𝒜</mi><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.3.3">𝒶</mi></msub><mrow id="S4.E12.m1.1.4"><mo id="S4.E12.m1.1.4.1" stretchy="false">(</mo><msub id="S4.E12.m1.1.4.2"><mi id="S4.E12.m1.1.4.2.2">p</mi><mrow id="S4.E12.m1.1.4.2.3"><mi id="S4.E12.m1.1.4.2.3.2">a</mi><mo id="S4.E12.m1.1.4.2.3.1">⁢</mo><mi id="S4.E12.m1.1.4.2.3.3">n</mi></mrow></msub><mo id="S4.E12.m1.1.4.3" lspace="0em" rspace="0.167em">∥</mo><msub id="S4.E12.m1.1.4.4"><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.4.4.2">ℋ</mi><mi id="S4.E12.m1.1.4.4.3">u</mi></msub><mo id="S4.E12.m1.1.4.5">,</mo><mo id="S4.E12.m1.1.4.6" lspace="0em" rspace="0.167em">∥</mo><msub id="S4.E12.m1.1.4.7"><mi class="ltx_font_mathcaligraphic" id="S4.E12.m1.1.4.7.2">𝒞</mi><mi id="S4.E12.m1.1.4.7.3">u</mi></msub><mo id="S4.E12.m1.1.4.8" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S4.E12.m1.1c">y_{\mathcal{A_{a}}}=\mathcal{A_{a}}(p_{an}\parallel\mathcal{H}_{u},\parallel%
\mathcal{C}_{u})</annotation><annotation encoding="application/x-llamapun" id="S4.E12.m1.1d">italic_y start_POSTSUBSCRIPT caligraphic_A start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT end_POSTSUBSCRIPT = caligraphic_A start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_p start_POSTSUBSCRIPT italic_a italic_n end_POSTSUBSCRIPT ∥ caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , ∥ caligraphic_C start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS6">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.6 </span>UserAgent</h4>
<div class="ltx_para" id="S4.SS2.SSS6.p1">
<p class="ltx_p" id="S4.SS2.SSS6.p1.1">interacts with the user to collect requirements, store user accounts, and retrieve user historical records to generate initial POI recommendations.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS7">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.7 </span>Searcher</h4>
<div class="ltx_para" id="S4.SS2.SSS7.p1">
<p class="ltx_p" id="S4.SS2.SSS7.p1.4">The <span class="ltx_text ltx_font_italic" id="S4.SS2.SSS7.p1.4.1">Searcher</span> processes the user’s query <math alttext="q" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.1.m1.1"><semantics id="S4.SS2.SSS7.p1.1.m1.1a"><mi id="S4.SS2.SSS7.p1.1.m1.1.1" xref="S4.SS2.SSS7.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.1.m1.1b"><ci id="S4.SS2.SSS7.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS7.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.1.m1.1d">italic_q</annotation></semantics></math> using a set of tools <math alttext="\mathcal{T}_{S}" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.2.m2.1"><semantics id="S4.SS2.SSS7.p1.2.m2.1a"><msub id="S4.SS2.SSS7.p1.2.m2.1.1" xref="S4.SS2.SSS7.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS7.p1.2.m2.1.1.2" xref="S4.SS2.SSS7.p1.2.m2.1.1.2.cmml">𝒯</mi><mi id="S4.SS2.SSS7.p1.2.m2.1.1.3" xref="S4.SS2.SSS7.p1.2.m2.1.1.3.cmml">S</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.2.m2.1b"><apply id="S4.SS2.SSS7.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS7.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS7.p1.2.m2.1.1.1.cmml" xref="S4.SS2.SSS7.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS7.p1.2.m2.1.1.2.cmml" xref="S4.SS2.SSS7.p1.2.m2.1.1.2">𝒯</ci><ci id="S4.SS2.SSS7.p1.2.m2.1.1.3.cmml" xref="S4.SS2.SSS7.p1.2.m2.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.2.m2.1c">\mathcal{T}_{S}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.2.m2.1d">caligraphic_T start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT</annotation></semantics></math> with the Searcher prompt <math alttext="p_{se}" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.3.m3.1"><semantics id="S4.SS2.SSS7.p1.3.m3.1a"><msub id="S4.SS2.SSS7.p1.3.m3.1.1" xref="S4.SS2.SSS7.p1.3.m3.1.1.cmml"><mi id="S4.SS2.SSS7.p1.3.m3.1.1.2" xref="S4.SS2.SSS7.p1.3.m3.1.1.2.cmml">p</mi><mrow id="S4.SS2.SSS7.p1.3.m3.1.1.3" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.cmml"><mi id="S4.SS2.SSS7.p1.3.m3.1.1.3.2" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.2.cmml">s</mi><mo id="S4.SS2.SSS7.p1.3.m3.1.1.3.1" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.SSS7.p1.3.m3.1.1.3.3" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.3.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.3.m3.1b"><apply id="S4.SS2.SSS7.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS7.p1.3.m3.1.1.1.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS7.p1.3.m3.1.1.2.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1.2">𝑝</ci><apply id="S4.SS2.SSS7.p1.3.m3.1.1.3.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1.3"><times id="S4.SS2.SSS7.p1.3.m3.1.1.3.1.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.1"></times><ci id="S4.SS2.SSS7.p1.3.m3.1.1.3.2.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.2">𝑠</ci><ci id="S4.SS2.SSS7.p1.3.m3.1.1.3.3.cmml" xref="S4.SS2.SSS7.p1.3.m3.1.1.3.3">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.3.m3.1c">p_{se}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.3.m3.1d">italic_p start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT</annotation></semantics></math> to generate the final response <math alttext="y_{\mathcal{S_{a}}}" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.4.m4.1"><semantics id="S4.SS2.SSS7.p1.4.m4.1a"><msub id="S4.SS2.SSS7.p1.4.m4.1.1" xref="S4.SS2.SSS7.p1.4.m4.1.1.cmml"><mi id="S4.SS2.SSS7.p1.4.m4.1.1.2" xref="S4.SS2.SSS7.p1.4.m4.1.1.2.cmml">y</mi><msub id="S4.SS2.SSS7.p1.4.m4.1.1.3" xref="S4.SS2.SSS7.p1.4.m4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS7.p1.4.m4.1.1.3.2" xref="S4.SS2.SSS7.p1.4.m4.1.1.3.2.cmml">𝒮</mi><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS7.p1.4.m4.1.1.3.3" xref="S4.SS2.SSS7.p1.4.m4.1.1.3.3.cmml">𝒶</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.4.m4.1b"><apply id="S4.SS2.SSS7.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS7.p1.4.m4.1.1.1.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS7.p1.4.m4.1.1.2.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1.2">𝑦</ci><apply id="S4.SS2.SSS7.p1.4.m4.1.1.3.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS7.p1.4.m4.1.1.3.1.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS7.p1.4.m4.1.1.3.2.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1.3.2">𝒮</ci><ci id="S4.SS2.SSS7.p1.4.m4.1.1.3.3.cmml" xref="S4.SS2.SSS7.p1.4.m4.1.1.3.3">𝒶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.4.m4.1c">y_{\mathcal{S_{a}}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.4.m4.1d">italic_y start_POSTSUBSCRIPT caligraphic_S start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E13">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{\mathcal{S_{a}}}=\mathcal{S_{a}}\left(q\parallel\mathcal{T}_{S}\parallel p_%
{se}\right)" class="ltx_Math" display="block" id="S4.E13.m1.1"><semantics id="S4.E13.m1.1a"><mrow id="S4.E13.m1.1.1" xref="S4.E13.m1.1.1.cmml"><msub id="S4.E13.m1.1.1.3" xref="S4.E13.m1.1.1.3.cmml"><mi id="S4.E13.m1.1.1.3.2" xref="S4.E13.m1.1.1.3.2.cmml">y</mi><msub id="S4.E13.m1.1.1.3.3" xref="S4.E13.m1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.3.3.2" xref="S4.E13.m1.1.1.3.3.2.cmml">𝒮</mi><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.3.3.3" xref="S4.E13.m1.1.1.3.3.3.cmml">𝒶</mi></msub></msub><mo id="S4.E13.m1.1.1.2" xref="S4.E13.m1.1.1.2.cmml">=</mo><mrow id="S4.E13.m1.1.1.1" xref="S4.E13.m1.1.1.1.cmml"><msub id="S4.E13.m1.1.1.1.3" xref="S4.E13.m1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.3.2" xref="S4.E13.m1.1.1.1.3.2.cmml">𝒮</mi><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.3.3" xref="S4.E13.m1.1.1.1.3.3.cmml">𝒶</mi></msub><mo id="S4.E13.m1.1.1.1.2" xref="S4.E13.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E13.m1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.cmml"><mo id="S4.E13.m1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E13.m1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.3.cmml">q</mi><mo id="S4.E13.m1.1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E13.m1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.1.2.cmml"><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E13.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo><msub id="S4.E13.m1.1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.2.cmml">𝒯</mi><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.3.cmml">S</mi></msub><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E13.m1.1.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mo id="S4.E13.m1.1.1.1.1.1.1.2a" xref="S4.E13.m1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S4.E13.m1.1.1.1.1.1.1.4" xref="S4.E13.m1.1.1.1.1.1.1.4.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.4.2" xref="S4.E13.m1.1.1.1.1.1.1.4.2.cmml">p</mi><mrow id="S4.E13.m1.1.1.1.1.1.1.4.3" xref="S4.E13.m1.1.1.1.1.1.1.4.3.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.4.3.2" xref="S4.E13.m1.1.1.1.1.1.1.4.3.2.cmml">s</mi><mo id="S4.E13.m1.1.1.1.1.1.1.4.3.1" xref="S4.E13.m1.1.1.1.1.1.1.4.3.1.cmml">⁢</mo><mi id="S4.E13.m1.1.1.1.1.1.1.4.3.3" xref="S4.E13.m1.1.1.1.1.1.1.4.3.3.cmml">e</mi></mrow></msub></mrow><mo id="S4.E13.m1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E13.m1.1b"><apply id="S4.E13.m1.1.1.cmml" xref="S4.E13.m1.1.1"><eq id="S4.E13.m1.1.1.2.cmml" xref="S4.E13.m1.1.1.2"></eq><apply id="S4.E13.m1.1.1.3.cmml" xref="S4.E13.m1.1.1.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.3.1.cmml" xref="S4.E13.m1.1.1.3">subscript</csymbol><ci id="S4.E13.m1.1.1.3.2.cmml" xref="S4.E13.m1.1.1.3.2">𝑦</ci><apply id="S4.E13.m1.1.1.3.3.cmml" xref="S4.E13.m1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.3.3.1.cmml" xref="S4.E13.m1.1.1.3.3">subscript</csymbol><ci id="S4.E13.m1.1.1.3.3.2.cmml" xref="S4.E13.m1.1.1.3.3.2">𝒮</ci><ci id="S4.E13.m1.1.1.3.3.3.cmml" xref="S4.E13.m1.1.1.3.3.3">𝒶</ci></apply></apply><apply id="S4.E13.m1.1.1.1.cmml" xref="S4.E13.m1.1.1.1"><times id="S4.E13.m1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.2"></times><apply id="S4.E13.m1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.3.1.cmml" xref="S4.E13.m1.1.1.1.3">subscript</csymbol><ci id="S4.E13.m1.1.1.1.3.2.cmml" xref="S4.E13.m1.1.1.1.3.2">𝒮</ci><ci id="S4.E13.m1.1.1.1.3.3.cmml" xref="S4.E13.m1.1.1.1.3.3">𝒶</ci></apply><apply id="S4.E13.m1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1"><times id="S4.E13.m1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2"></times><ci id="S4.E13.m1.1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.3">𝑞</ci><apply id="S4.E13.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E13.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.2">𝒯</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.3">𝑆</ci></apply></apply><apply id="S4.E13.m1.1.1.1.1.1.1.4.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.4.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E13.m1.1.1.1.1.1.1.4.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4.2">𝑝</ci><apply id="S4.E13.m1.1.1.1.1.1.1.4.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4.3"><times id="S4.E13.m1.1.1.1.1.1.1.4.3.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4.3.1"></times><ci id="S4.E13.m1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4.3.2">𝑠</ci><ci id="S4.E13.m1.1.1.1.1.1.1.4.3.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.4.3.3">𝑒</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E13.m1.1c">y_{\mathcal{S_{a}}}=\mathcal{S_{a}}\left(q\parallel\mathcal{T}_{S}\parallel p_%
{se}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.E13.m1.1d">italic_y start_POSTSUBSCRIPT caligraphic_S start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT end_POSTSUBSCRIPT = caligraphic_S start_POSTSUBSCRIPT caligraphic_a end_POSTSUBSCRIPT ( italic_q ∥ caligraphic_T start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT ∥ italic_p start_POSTSUBSCRIPT italic_s italic_e end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS7.p1.6">where <math alttext="s" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.5.m1.1"><semantics id="S4.SS2.SSS7.p1.5.m1.1a"><mi id="S4.SS2.SSS7.p1.5.m1.1.1" xref="S4.SS2.SSS7.p1.5.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.5.m1.1b"><ci id="S4.SS2.SSS7.p1.5.m1.1.1.cmml" xref="S4.SS2.SSS7.p1.5.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.5.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.5.m1.1d">italic_s</annotation></semantics></math> indicates the total number of tools and <math alttext="\mathcal{T}_{S}" class="ltx_Math" display="inline" id="S4.SS2.SSS7.p1.6.m2.1"><semantics id="S4.SS2.SSS7.p1.6.m2.1a"><msub id="S4.SS2.SSS7.p1.6.m2.1.1" xref="S4.SS2.SSS7.p1.6.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS7.p1.6.m2.1.1.2" xref="S4.SS2.SSS7.p1.6.m2.1.1.2.cmml">𝒯</mi><mi id="S4.SS2.SSS7.p1.6.m2.1.1.3" xref="S4.SS2.SSS7.p1.6.m2.1.1.3.cmml">S</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS7.p1.6.m2.1b"><apply id="S4.SS2.SSS7.p1.6.m2.1.1.cmml" xref="S4.SS2.SSS7.p1.6.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS7.p1.6.m2.1.1.1.cmml" xref="S4.SS2.SSS7.p1.6.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS7.p1.6.m2.1.1.2.cmml" xref="S4.SS2.SSS7.p1.6.m2.1.1.2">𝒯</ci><ci id="S4.SS2.SSS7.p1.6.m2.1.1.3.cmml" xref="S4.SS2.SSS7.p1.6.m2.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS7.p1.6.m2.1c">\mathcal{T}_{S}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS7.p1.6.m2.1d">caligraphic_T start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT</annotation></semantics></math> is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E14">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\vspace{-0.5mm}\mathcal{T}_{S}=\{\text{tool}_{1},\text{tool}_{2},\ldots,\text{%
tool}_{s}\}\vspace{-3mm}" class="ltx_Math" display="block" id="S4.E14.m1.4"><semantics id="S4.E14.m1.4a"><mrow id="S4.E14.m1.4.4" xref="S4.E14.m1.4.4.cmml"><msub id="S4.E14.m1.4.4.5" xref="S4.E14.m1.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E14.m1.4.4.5.2" xref="S4.E14.m1.4.4.5.2.cmml">𝒯</mi><mi id="S4.E14.m1.4.4.5.3" xref="S4.E14.m1.4.4.5.3.cmml">S</mi></msub><mo id="S4.E14.m1.4.4.4" xref="S4.E14.m1.4.4.4.cmml">=</mo><mrow id="S4.E14.m1.4.4.3.3" xref="S4.E14.m1.4.4.3.4.cmml"><mo id="S4.E14.m1.4.4.3.3.4" stretchy="false" xref="S4.E14.m1.4.4.3.4.cmml">{</mo><msub id="S4.E14.m1.2.2.1.1.1" xref="S4.E14.m1.2.2.1.1.1.cmml"><mtext id="S4.E14.m1.2.2.1.1.1.2" xref="S4.E14.m1.2.2.1.1.1.2a.cmml">tool</mtext><mn id="S4.E14.m1.2.2.1.1.1.3" xref="S4.E14.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S4.E14.m1.4.4.3.3.5" xref="S4.E14.m1.4.4.3.4.cmml">,</mo><msub id="S4.E14.m1.3.3.2.2.2" xref="S4.E14.m1.3.3.2.2.2.cmml"><mtext id="S4.E14.m1.3.3.2.2.2.2" xref="S4.E14.m1.3.3.2.2.2.2a.cmml">tool</mtext><mn id="S4.E14.m1.3.3.2.2.2.3" xref="S4.E14.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S4.E14.m1.4.4.3.3.6" xref="S4.E14.m1.4.4.3.4.cmml">,</mo><mi id="S4.E14.m1.1.1" mathvariant="normal" xref="S4.E14.m1.1.1.cmml">…</mi><mo id="S4.E14.m1.4.4.3.3.7" xref="S4.E14.m1.4.4.3.4.cmml">,</mo><msub id="S4.E14.m1.4.4.3.3.3" xref="S4.E14.m1.4.4.3.3.3.cmml"><mtext id="S4.E14.m1.4.4.3.3.3.2" xref="S4.E14.m1.4.4.3.3.3.2a.cmml">tool</mtext><mi id="S4.E14.m1.4.4.3.3.3.3" xref="S4.E14.m1.4.4.3.3.3.3.cmml">s</mi></msub><mo id="S4.E14.m1.4.4.3.3.8" stretchy="false" xref="S4.E14.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E14.m1.4b"><apply id="S4.E14.m1.4.4.cmml" xref="S4.E14.m1.4.4"><eq id="S4.E14.m1.4.4.4.cmml" xref="S4.E14.m1.4.4.4"></eq><apply id="S4.E14.m1.4.4.5.cmml" xref="S4.E14.m1.4.4.5"><csymbol cd="ambiguous" id="S4.E14.m1.4.4.5.1.cmml" xref="S4.E14.m1.4.4.5">subscript</csymbol><ci id="S4.E14.m1.4.4.5.2.cmml" xref="S4.E14.m1.4.4.5.2">𝒯</ci><ci id="S4.E14.m1.4.4.5.3.cmml" xref="S4.E14.m1.4.4.5.3">𝑆</ci></apply><set id="S4.E14.m1.4.4.3.4.cmml" xref="S4.E14.m1.4.4.3.3"><apply id="S4.E14.m1.2.2.1.1.1.cmml" xref="S4.E14.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.cmml" xref="S4.E14.m1.2.2.1.1.1">subscript</csymbol><ci id="S4.E14.m1.2.2.1.1.1.2a.cmml" xref="S4.E14.m1.2.2.1.1.1.2"><mtext id="S4.E14.m1.2.2.1.1.1.2.cmml" xref="S4.E14.m1.2.2.1.1.1.2">tool</mtext></ci><cn id="S4.E14.m1.2.2.1.1.1.3.cmml" type="integer" xref="S4.E14.m1.2.2.1.1.1.3">1</cn></apply><apply id="S4.E14.m1.3.3.2.2.2.cmml" xref="S4.E14.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.E14.m1.3.3.2.2.2.1.cmml" xref="S4.E14.m1.3.3.2.2.2">subscript</csymbol><ci id="S4.E14.m1.3.3.2.2.2.2a.cmml" xref="S4.E14.m1.3.3.2.2.2.2"><mtext id="S4.E14.m1.3.3.2.2.2.2.cmml" xref="S4.E14.m1.3.3.2.2.2.2">tool</mtext></ci><cn id="S4.E14.m1.3.3.2.2.2.3.cmml" type="integer" xref="S4.E14.m1.3.3.2.2.2.3">2</cn></apply><ci id="S4.E14.m1.1.1.cmml" xref="S4.E14.m1.1.1">…</ci><apply id="S4.E14.m1.4.4.3.3.3.cmml" xref="S4.E14.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.E14.m1.4.4.3.3.3.1.cmml" xref="S4.E14.m1.4.4.3.3.3">subscript</csymbol><ci id="S4.E14.m1.4.4.3.3.3.2a.cmml" xref="S4.E14.m1.4.4.3.3.3.2"><mtext id="S4.E14.m1.4.4.3.3.3.2.cmml" xref="S4.E14.m1.4.4.3.3.3.2">tool</mtext></ci><ci id="S4.E14.m1.4.4.3.3.3.3.cmml" xref="S4.E14.m1.4.4.3.3.3.3">𝑠</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E14.m1.4c">\vspace{-0.5mm}\mathcal{T}_{S}=\{\text{tool}_{1},\text{tool}_{2},\ldots,\text{%
tool}_{s}\}\vspace{-3mm}</annotation><annotation encoding="application/x-llamapun" id="S4.E14.m1.4d">caligraphic_T start_POSTSUBSCRIPT italic_S end_POSTSUBSCRIPT = { tool start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , tool start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , tool start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Experiment Setup</h3>
<div class="ltx_para ltx_noindent" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1"><span class="ltx_text ltx_font_bold" id="S5.SS1.p1.1.1">Dataset.</span>
There are two real-world datasets derived from location-based social media platforms for the experiments: NYC(Foursquare-NYC) and TKY (Foursquare-TKY) are. NYC contains 103,941 check-ins (check in records?)collected from 1,048 users across 4,981 POIs. TKY includes 405,000 check-ins from 2,282 users across 7,833 POIs. Both datasets are collected over approximately from April 2012 to February 2013 as listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.T2" title="Table 2 ‣ 5.1 Experiment Setup ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 2: </span>Dataset information.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T2.4" style="width:260.2pt;height:53.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-1.4pt,0.3pt) scale(0.989067749914454,0.989067749914454) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T2.4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T2.4.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T2.4.1.1.1.1"><span class="ltx_text" id="S5.T2.4.1.1.1.1.1" style="font-size:90%;">Name</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T2.4.1.1.1.2"><span class="ltx_text" id="S5.T2.4.1.1.1.2.1" style="font-size:90%;">Users</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T2.4.1.1.1.3"><span class="ltx_text" id="S5.T2.4.1.1.1.3.1" style="font-size:90%;">POIs</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T2.4.1.1.1.4"><span class="ltx_text" id="S5.T2.4.1.1.1.4.1" style="font-size:90%;">Categories</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S5.T2.4.1.1.1.5"><span class="ltx_text" id="S5.T2.4.1.1.1.5.1" style="font-size:90%;">Check-ins</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S5.T2.4.1.1.1.6"><span class="ltx_text" id="S5.T2.4.1.1.1.6.1" style="font-size:90%;">Trajectory</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T2.4.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.4.1.2.1.1"><span class="ltx_text" id="S5.T2.4.1.2.1.1.1" style="font-size:90%;">NYC</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.4.1.2.1.2"><span class="ltx_text" id="S5.T2.4.1.2.1.2.1" style="font-size:90%;">1,048</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.4.1.2.1.3"><span class="ltx_text" id="S5.T2.4.1.2.1.3.1" style="font-size:90%;">4,981</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.4.1.2.1.4"><span class="ltx_text" id="S5.T2.4.1.2.1.4.1" style="font-size:90%;">318</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.4.1.2.1.5"><span class="ltx_text" id="S5.T2.4.1.2.1.5.1" style="font-size:90%;">103,941</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.4.1.2.1.6"><span class="ltx_text" id="S5.T2.4.1.2.1.6.1" style="font-size:90%;">14,130</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.4.1.3.2">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.4.1.3.2.1"><span class="ltx_text" id="S5.T2.4.1.3.2.1.1" style="font-size:90%;">TKY</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.4.1.3.2.2"><span class="ltx_text" id="S5.T2.4.1.3.2.2.1" style="font-size:90%;">2,282</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.4.1.3.2.3"><span class="ltx_text" id="S5.T2.4.1.3.2.3.1" style="font-size:90%;">7,833</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.4.1.3.2.4"><span class="ltx_text" id="S5.T2.4.1.3.2.4.1" style="font-size:90%;">290</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T2.4.1.3.2.5"><span class="ltx_text" id="S5.T2.4.1.3.2.5.1" style="font-size:90%;">405,000</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.4.1.3.2.6"><span class="ltx_text" id="S5.T2.4.1.3.2.6.1" style="font-size:90%;">65,499</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para ltx_noindent" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.3"><span class="ltx_text ltx_font_bold" id="S5.SS1.p2.3.1">Baseline Methods.</span>
The experiments used six distinct LLMs, including GLM-3-Turbo  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib20" title="">20</a>]</cite>, GPT-3.5-Turbo <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib21" title="">21</a>]</cite>, MoonShot-v1, QWEN-turbo <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib22" title="">22</a>]</cite>, Claude-3.5, and Gemini-Pro <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib23" title="">23</a>]</cite>.
They are integrated MAS4POI for evaluation.

<span class="ltx_text ltx_font_bold" id="S5.SS1.p2.3.2">Evaluation Metrics.</span>
MAS4POI is evaluated by two standard metrics: Acc<math alttext="@k" class="ltx_Math" display="inline" id="S5.SS1.p2.1.m1.1"><semantics id="S5.SS1.p2.1.m1.1a"><mrow id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.p2.1.m1.1.1.2" mathvariant="normal" xref="S5.SS1.p2.1.m1.1.1.2.cmml">@</mi><mo id="S5.SS1.p2.1.m1.1.1.1" xref="S5.SS1.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.1.m1.1.1.3" xref="S5.SS1.p2.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><apply id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1"><times id="S5.SS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1.1"></times><ci id="S5.SS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.p2.1.m1.1.1.2">@</ci><ci id="S5.SS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.p2.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.1.m1.1d">@ italic_k</annotation></semantics></math> and Mean Reciprocal Rank (MRR) as described in  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib25" title="">25</a>]</cite>.
Acc<math alttext="@k" class="ltx_Math" display="inline" id="S5.SS1.p2.2.m2.1"><semantics id="S5.SS1.p2.2.m2.1a"><mrow id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml"><mi id="S5.SS1.p2.2.m2.1.1.2" mathvariant="normal" xref="S5.SS1.p2.2.m2.1.1.2.cmml">@</mi><mo id="S5.SS1.p2.2.m2.1.1.1" xref="S5.SS1.p2.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.2.m2.1.1.3" xref="S5.SS1.p2.2.m2.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><apply id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1"><times id="S5.SS1.p2.2.m2.1.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1.1"></times><ci id="S5.SS1.p2.2.m2.1.1.2.cmml" xref="S5.SS1.p2.2.m2.1.1.2">@</ci><ci id="S5.SS1.p2.2.m2.1.1.3.cmml" xref="S5.SS1.p2.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.2.m2.1d">@ italic_k</annotation></semantics></math> analyses the correct POI is within the top-k recommendations as an unordered list.
<math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS1.p2.3.m3.1"><semantics id="S5.SS1.p2.3.m3.1a"><mrow id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml"><mi id="S5.SS1.p2.3.m3.1.1.2" xref="S5.SS1.p2.3.m3.1.1.2.cmml">M</mi><mo id="S5.SS1.p2.3.m3.1.1.1" xref="S5.SS1.p2.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.3.m3.1.1.3" xref="S5.SS1.p2.3.m3.1.1.3.cmml">R</mi><mo id="S5.SS1.p2.3.m3.1.1.1a" xref="S5.SS1.p2.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.3.m3.1.1.4" xref="S5.SS1.p2.3.m3.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><apply id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1"><times id="S5.SS1.p2.3.m3.1.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1.1"></times><ci id="S5.SS1.p2.3.m3.1.1.2.cmml" xref="S5.SS1.p2.3.m3.1.1.2">𝑀</ci><ci id="S5.SS1.p2.3.m3.1.1.3.cmml" xref="S5.SS1.p2.3.m3.1.1.3">𝑅</ci><ci id="S5.SS1.p2.3.m3.1.1.4.cmml" xref="S5.SS1.p2.3.m3.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.3.m3.1d">italic_M italic_R italic_R</annotation></semantics></math> considers the correct POI position is within the ordered list. For a dataset with M sample trajectories, the metrics are defined as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.Ex1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center">
<span class="ltx_inline-block ltx_markedasmath ltx_minipage ltx_align_middle" id="S5.Ex1.1" style="width:195.1pt;">
<span class="ltx_equation ltx_eqn_table" id="S5.Ex2">
<span><span class="ltx_equation ltx_eqn_row ltx_align_baseline">
<span class="ltx_eqn_cell ltx_eqn_center_padleft"></span>
<span class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Acc@k}=\frac{1}{M}\sum_{i=1}^{M}1(r_{i}&lt;k)" class="ltx_Math" display="block" id="S5.Ex2.m1.1"><semantics id="S5.Ex2.m1.1a"><mrow id="S5.Ex2.m1.1.1" xref="S5.Ex2.m1.1.1.cmml"><mtext id="S5.Ex2.m1.1.1.3" xref="S5.Ex2.m1.1.1.3a.cmml">Acc@k</mtext><mo id="S5.Ex2.m1.1.1.2" xref="S5.Ex2.m1.1.1.2.cmml">=</mo><mrow id="S5.Ex2.m1.1.1.1" xref="S5.Ex2.m1.1.1.1.cmml"><mfrac id="S5.Ex2.m1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.3.cmml"><mn id="S5.Ex2.m1.1.1.1.3.2" xref="S5.Ex2.m1.1.1.1.3.2.cmml">1</mn><mi id="S5.Ex2.m1.1.1.1.3.3" xref="S5.Ex2.m1.1.1.1.3.3.cmml">M</mi></mfrac><mo id="S5.Ex2.m1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.cmml"><munderover id="S5.Ex2.m1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.2.cmml"><mo id="S5.Ex2.m1.1.1.1.1.2.2.2" movablelimits="false" xref="S5.Ex2.m1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S5.Ex2.m1.1.1.1.1.2.2.3" xref="S5.Ex2.m1.1.1.1.1.2.2.3.cmml"><mi id="S5.Ex2.m1.1.1.1.1.2.2.3.2" xref="S5.Ex2.m1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S5.Ex2.m1.1.1.1.1.2.2.3.1" xref="S5.Ex2.m1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S5.Ex2.m1.1.1.1.1.2.2.3.3" xref="S5.Ex2.m1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex2.m1.1.1.1.1.2.3" xref="S5.Ex2.m1.1.1.1.1.2.3.cmml">M</mi></munderover><mrow id="S5.Ex2.m1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.cmml"><mn id="S5.Ex2.m1.1.1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.1.3.cmml">1</mn><mo id="S5.Ex2.m1.1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Ex2.m1.1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2.cmml">r</mi><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.1.1" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml">&lt;</mo><mi id="S5.Ex2.m1.1.1.1.1.1.1.1.1.3" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml">k</mi></mrow><mo id="S5.Ex2.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex2.m1.1b"><apply id="S5.Ex2.m1.1.1.cmml" xref="S5.Ex2.m1.1.1"><eq id="S5.Ex2.m1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.2"></eq><ci id="S5.Ex2.m1.1.1.3a.cmml" xref="S5.Ex2.m1.1.1.3"><mtext id="S5.Ex2.m1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.3">Acc@k</mtext></ci><apply id="S5.Ex2.m1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1"><times id="S5.Ex2.m1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.2"></times><apply id="S5.Ex2.m1.1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.1.3"><divide id="S5.Ex2.m1.1.1.1.3.1.cmml" xref="S5.Ex2.m1.1.1.1.3"></divide><cn id="S5.Ex2.m1.1.1.1.3.2.cmml" type="integer" xref="S5.Ex2.m1.1.1.1.3.2">1</cn><ci id="S5.Ex2.m1.1.1.1.3.3.cmml" xref="S5.Ex2.m1.1.1.1.3.3">𝑀</ci></apply><apply id="S5.Ex2.m1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1"><apply id="S5.Ex2.m1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2">superscript</csymbol><apply id="S5.Ex2.m1.1.1.1.1.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.2.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2">subscript</csymbol><sum id="S5.Ex2.m1.1.1.1.1.2.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.2.2"></sum><apply id="S5.Ex2.m1.1.1.1.1.2.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.2.3"><eq id="S5.Ex2.m1.1.1.1.1.2.2.3.1.cmml" xref="S5.Ex2.m1.1.1.1.1.2.2.3.1"></eq><ci id="S5.Ex2.m1.1.1.1.1.2.2.3.2.cmml" xref="S5.Ex2.m1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="S5.Ex2.m1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S5.Ex2.m1.1.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S5.Ex2.m1.1.1.1.1.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.2.3">𝑀</ci></apply><apply id="S5.Ex2.m1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1"><times id="S5.Ex2.m1.1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.2"></times><cn id="S5.Ex2.m1.1.1.1.1.1.3.cmml" type="integer" xref="S5.Ex2.m1.1.1.1.1.1.3">1</cn><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1"><lt id="S5.Ex2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.1"></lt><apply id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.2">𝑟</ci><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S5.Ex2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.Ex2.m1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex2.m1.1c">\text{Acc@k}=\frac{1}{M}\sum_{i=1}^{M}1(r_{i}&lt;k)</annotation><annotation encoding="application/x-llamapun" id="S5.Ex2.m1.1d">Acc@k = divide start_ARG 1 end_ARG start_ARG italic_M end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT 1 ( italic_r start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT &lt; italic_k )</annotation></semantics></math></span>
<span class="ltx_eqn_cell ltx_eqn_center_padright"></span></span></span>
</span>
</span><span class="ltx_text ltx_font_italic" id="S5.Ex1.2">       </span>
<span class="ltx_inline-block ltx_markedasmath ltx_minipage ltx_align_middle" id="S5.Ex1.3" style="width:195.1pt;">
<span class="ltx_equation ltx_eqn_table" id="S5.Ex3">
<span><span class="ltx_equation ltx_eqn_row ltx_align_baseline">
<span class="ltx_eqn_cell ltx_eqn_center_padleft"></span>
<span class="ltx_eqn_cell ltx_align_center"><math alttext="\text{MRR}=\frac{1}{M}\sum_{i=1}^{M}\frac{1}{rank_{i}}" class="ltx_Math" display="block" id="S5.Ex3.m1.1"><semantics id="S5.Ex3.m1.1a"><mrow id="S5.Ex3.m1.1.1" xref="S5.Ex3.m1.1.1.cmml"><mtext id="S5.Ex3.m1.1.1.2" xref="S5.Ex3.m1.1.1.2a.cmml">MRR</mtext><mo id="S5.Ex3.m1.1.1.1" xref="S5.Ex3.m1.1.1.1.cmml">=</mo><mrow id="S5.Ex3.m1.1.1.3" xref="S5.Ex3.m1.1.1.3.cmml"><mfrac id="S5.Ex3.m1.1.1.3.2" xref="S5.Ex3.m1.1.1.3.2.cmml"><mn id="S5.Ex3.m1.1.1.3.2.2" xref="S5.Ex3.m1.1.1.3.2.2.cmml">1</mn><mi id="S5.Ex3.m1.1.1.3.2.3" xref="S5.Ex3.m1.1.1.3.2.3.cmml">M</mi></mfrac><mo id="S5.Ex3.m1.1.1.3.1" xref="S5.Ex3.m1.1.1.3.1.cmml">⁢</mo><mrow id="S5.Ex3.m1.1.1.3.3" xref="S5.Ex3.m1.1.1.3.3.cmml"><munderover id="S5.Ex3.m1.1.1.3.3.1" xref="S5.Ex3.m1.1.1.3.3.1.cmml"><mo id="S5.Ex3.m1.1.1.3.3.1.2.2" movablelimits="false" xref="S5.Ex3.m1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S5.Ex3.m1.1.1.3.3.1.2.3" xref="S5.Ex3.m1.1.1.3.3.1.2.3.cmml"><mi id="S5.Ex3.m1.1.1.3.3.1.2.3.2" xref="S5.Ex3.m1.1.1.3.3.1.2.3.2.cmml">i</mi><mo id="S5.Ex3.m1.1.1.3.3.1.2.3.1" xref="S5.Ex3.m1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S5.Ex3.m1.1.1.3.3.1.2.3.3" xref="S5.Ex3.m1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S5.Ex3.m1.1.1.3.3.1.3" xref="S5.Ex3.m1.1.1.3.3.1.3.cmml">M</mi></munderover><mfrac id="S5.Ex3.m1.1.1.3.3.2" xref="S5.Ex3.m1.1.1.3.3.2.cmml"><mn id="S5.Ex3.m1.1.1.3.3.2.2" xref="S5.Ex3.m1.1.1.3.3.2.2.cmml">1</mn><mrow id="S5.Ex3.m1.1.1.3.3.2.3" xref="S5.Ex3.m1.1.1.3.3.2.3.cmml"><mi id="S5.Ex3.m1.1.1.3.3.2.3.2" xref="S5.Ex3.m1.1.1.3.3.2.3.2.cmml">r</mi><mo id="S5.Ex3.m1.1.1.3.3.2.3.1" xref="S5.Ex3.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S5.Ex3.m1.1.1.3.3.2.3.3" xref="S5.Ex3.m1.1.1.3.3.2.3.3.cmml">a</mi><mo id="S5.Ex3.m1.1.1.3.3.2.3.1a" xref="S5.Ex3.m1.1.1.3.3.2.3.1.cmml">⁢</mo><mi id="S5.Ex3.m1.1.1.3.3.2.3.4" xref="S5.Ex3.m1.1.1.3.3.2.3.4.cmml">n</mi><mo id="S5.Ex3.m1.1.1.3.3.2.3.1b" xref="S5.Ex3.m1.1.1.3.3.2.3.1.cmml">⁢</mo><msub id="S5.Ex3.m1.1.1.3.3.2.3.5" xref="S5.Ex3.m1.1.1.3.3.2.3.5.cmml"><mi id="S5.Ex3.m1.1.1.3.3.2.3.5.2" xref="S5.Ex3.m1.1.1.3.3.2.3.5.2.cmml">k</mi><mi id="S5.Ex3.m1.1.1.3.3.2.3.5.3" xref="S5.Ex3.m1.1.1.3.3.2.3.5.3.cmml">i</mi></msub></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Ex3.m1.1b"><apply id="S5.Ex3.m1.1.1.cmml" xref="S5.Ex3.m1.1.1"><eq id="S5.Ex3.m1.1.1.1.cmml" xref="S5.Ex3.m1.1.1.1"></eq><ci id="S5.Ex3.m1.1.1.2a.cmml" xref="S5.Ex3.m1.1.1.2"><mtext id="S5.Ex3.m1.1.1.2.cmml" xref="S5.Ex3.m1.1.1.2">MRR</mtext></ci><apply id="S5.Ex3.m1.1.1.3.cmml" xref="S5.Ex3.m1.1.1.3"><times id="S5.Ex3.m1.1.1.3.1.cmml" xref="S5.Ex3.m1.1.1.3.1"></times><apply id="S5.Ex3.m1.1.1.3.2.cmml" xref="S5.Ex3.m1.1.1.3.2"><divide id="S5.Ex3.m1.1.1.3.2.1.cmml" xref="S5.Ex3.m1.1.1.3.2"></divide><cn id="S5.Ex3.m1.1.1.3.2.2.cmml" type="integer" xref="S5.Ex3.m1.1.1.3.2.2">1</cn><ci id="S5.Ex3.m1.1.1.3.2.3.cmml" xref="S5.Ex3.m1.1.1.3.2.3">𝑀</ci></apply><apply id="S5.Ex3.m1.1.1.3.3.cmml" xref="S5.Ex3.m1.1.1.3.3"><apply id="S5.Ex3.m1.1.1.3.3.1.cmml" xref="S5.Ex3.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S5.Ex3.m1.1.1.3.3.1.1.cmml" xref="S5.Ex3.m1.1.1.3.3.1">superscript</csymbol><apply id="S5.Ex3.m1.1.1.3.3.1.2.cmml" xref="S5.Ex3.m1.1.1.3.3.1"><csymbol cd="ambiguous" id="S5.Ex3.m1.1.1.3.3.1.2.1.cmml" xref="S5.Ex3.m1.1.1.3.3.1">subscript</csymbol><sum id="S5.Ex3.m1.1.1.3.3.1.2.2.cmml" xref="S5.Ex3.m1.1.1.3.3.1.2.2"></sum><apply id="S5.Ex3.m1.1.1.3.3.1.2.3.cmml" xref="S5.Ex3.m1.1.1.3.3.1.2.3"><eq id="S5.Ex3.m1.1.1.3.3.1.2.3.1.cmml" xref="S5.Ex3.m1.1.1.3.3.1.2.3.1"></eq><ci id="S5.Ex3.m1.1.1.3.3.1.2.3.2.cmml" xref="S5.Ex3.m1.1.1.3.3.1.2.3.2">𝑖</ci><cn id="S5.Ex3.m1.1.1.3.3.1.2.3.3.cmml" type="integer" xref="S5.Ex3.m1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S5.Ex3.m1.1.1.3.3.1.3.cmml" xref="S5.Ex3.m1.1.1.3.3.1.3">𝑀</ci></apply><apply id="S5.Ex3.m1.1.1.3.3.2.cmml" xref="S5.Ex3.m1.1.1.3.3.2"><divide id="S5.Ex3.m1.1.1.3.3.2.1.cmml" xref="S5.Ex3.m1.1.1.3.3.2"></divide><cn id="S5.Ex3.m1.1.1.3.3.2.2.cmml" type="integer" xref="S5.Ex3.m1.1.1.3.3.2.2">1</cn><apply id="S5.Ex3.m1.1.1.3.3.2.3.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3"><times id="S5.Ex3.m1.1.1.3.3.2.3.1.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.1"></times><ci id="S5.Ex3.m1.1.1.3.3.2.3.2.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.2">𝑟</ci><ci id="S5.Ex3.m1.1.1.3.3.2.3.3.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.3">𝑎</ci><ci id="S5.Ex3.m1.1.1.3.3.2.3.4.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.4">𝑛</ci><apply id="S5.Ex3.m1.1.1.3.3.2.3.5.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.5"><csymbol cd="ambiguous" id="S5.Ex3.m1.1.1.3.3.2.3.5.1.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.5">subscript</csymbol><ci id="S5.Ex3.m1.1.1.3.3.2.3.5.2.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.5.2">𝑘</ci><ci id="S5.Ex3.m1.1.1.3.3.2.3.5.3.cmml" xref="S5.Ex3.m1.1.1.3.3.2.3.5.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Ex3.m1.1c">\text{MRR}=\frac{1}{M}\sum_{i=1}^{M}\frac{1}{rank_{i}}</annotation><annotation encoding="application/x-llamapun" id="S5.Ex3.m1.1d">MRR = divide start_ARG 1 end_ARG start_ARG italic_M end_ARG ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_M end_POSTSUPERSCRIPT divide start_ARG 1 end_ARG start_ARG italic_r italic_a italic_n italic_k start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG</annotation></semantics></math></span>
<span class="ltx_eqn_cell ltx_eqn_center_padright"></span></span></span>
</span>
</span>
</td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS1.p2.4">Where <math alttext="rank_{i}" class="ltx_Math" display="inline" id="S5.SS1.p2.4.m1.1"><semantics id="S5.SS1.p2.4.m1.1a"><mrow id="S5.SS1.p2.4.m1.1.1" xref="S5.SS1.p2.4.m1.1.1.cmml"><mi id="S5.SS1.p2.4.m1.1.1.2" xref="S5.SS1.p2.4.m1.1.1.2.cmml">r</mi><mo id="S5.SS1.p2.4.m1.1.1.1" xref="S5.SS1.p2.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.4.m1.1.1.3" xref="S5.SS1.p2.4.m1.1.1.3.cmml">a</mi><mo id="S5.SS1.p2.4.m1.1.1.1a" xref="S5.SS1.p2.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS1.p2.4.m1.1.1.4" xref="S5.SS1.p2.4.m1.1.1.4.cmml">n</mi><mo id="S5.SS1.p2.4.m1.1.1.1b" xref="S5.SS1.p2.4.m1.1.1.1.cmml">⁢</mo><msub id="S5.SS1.p2.4.m1.1.1.5" xref="S5.SS1.p2.4.m1.1.1.5.cmml"><mi id="S5.SS1.p2.4.m1.1.1.5.2" xref="S5.SS1.p2.4.m1.1.1.5.2.cmml">k</mi><mi id="S5.SS1.p2.4.m1.1.1.5.3" xref="S5.SS1.p2.4.m1.1.1.5.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m1.1b"><apply id="S5.SS1.p2.4.m1.1.1.cmml" xref="S5.SS1.p2.4.m1.1.1"><times id="S5.SS1.p2.4.m1.1.1.1.cmml" xref="S5.SS1.p2.4.m1.1.1.1"></times><ci id="S5.SS1.p2.4.m1.1.1.2.cmml" xref="S5.SS1.p2.4.m1.1.1.2">𝑟</ci><ci id="S5.SS1.p2.4.m1.1.1.3.cmml" xref="S5.SS1.p2.4.m1.1.1.3">𝑎</ci><ci id="S5.SS1.p2.4.m1.1.1.4.cmml" xref="S5.SS1.p2.4.m1.1.1.4">𝑛</ci><apply id="S5.SS1.p2.4.m1.1.1.5.cmml" xref="S5.SS1.p2.4.m1.1.1.5"><csymbol cd="ambiguous" id="S5.SS1.p2.4.m1.1.1.5.1.cmml" xref="S5.SS1.p2.4.m1.1.1.5">subscript</csymbol><ci id="S5.SS1.p2.4.m1.1.1.5.2.cmml" xref="S5.SS1.p2.4.m1.1.1.5.2">𝑘</ci><ci id="S5.SS1.p2.4.m1.1.1.5.3.cmml" xref="S5.SS1.p2.4.m1.1.1.5.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m1.1c">rank_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p2.4.m1.1d">italic_r italic_a italic_n italic_k start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the correct next POI position in the recommended list.
Generally, higher values indicate the recommendation system’s improvements.

<span class="ltx_text ltx_font_bold" id="S5.SS1.p2.4.1">Implementation Details</span>
There are five experiments conducted and averaged the results for each dataset as listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.T3" title="Table 3 ‣ 5.2 Main Results ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>. The temperature of all LLMs is set at 0 for comparison. The datasets preprocessing is managed by DataAgent, and are partitioned into training, validation, and test sets with a ratio of 8:1:1. Notably, only the final check-in record of each trajectory is assessed in the validation and test sets.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Main Results</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.14">MAS4POI integrates six LLMs across three datasets experiments results are listed in Table  <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.T3" title="Table 3 ‣ 5.2 Main Results ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>.
For NYC dataset, it is noted that the Claude model achieved the best <math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.SS2.p1.1.m1.1"><semantics id="S5.SS2.p1.1.m1.1a"><mrow id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.1.m1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.1.m1.1.1.1a" xref="S5.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.4" xref="S5.SS2.p1.1.m1.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.1.m1.1.1.1b" xref="S5.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.1.m1.1.1.5" mathvariant="normal" xref="S5.SS2.p1.1.m1.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.1.m1.1.1.1c" xref="S5.SS2.p1.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.1.m1.1.1.6" xref="S5.SS2.p1.1.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><times id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1"></times><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝐴</ci><ci id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3">𝑐</ci><ci id="S5.SS2.p1.1.m1.1.1.4.cmml" xref="S5.SS2.p1.1.m1.1.1.4">𝑐</ci><ci id="S5.SS2.p1.1.m1.1.1.5.cmml" xref="S5.SS2.p1.1.m1.1.1.5">@</ci><cn id="S5.SS2.p1.1.m1.1.1.6.cmml" type="integer" xref="S5.SS2.p1.1.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.1.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS2.p1.2.m2.1"><semantics id="S5.SS2.p1.2.m2.1a"><mrow id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml"><mi id="S5.SS2.p1.2.m2.1.1.2" xref="S5.SS2.p1.2.m2.1.1.2.cmml">M</mi><mo id="S5.SS2.p1.2.m2.1.1.1" xref="S5.SS2.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.2.m2.1.1.3" xref="S5.SS2.p1.2.m2.1.1.3.cmml">R</mi><mo id="S5.SS2.p1.2.m2.1.1.1a" xref="S5.SS2.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.2.m2.1.1.4" xref="S5.SS2.p1.2.m2.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><apply id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1"><times id="S5.SS2.p1.2.m2.1.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1.1"></times><ci id="S5.SS2.p1.2.m2.1.1.2.cmml" xref="S5.SS2.p1.2.m2.1.1.2">𝑀</ci><ci id="S5.SS2.p1.2.m2.1.1.3.cmml" xref="S5.SS2.p1.2.m2.1.1.3">𝑅</ci><ci id="S5.SS2.p1.2.m2.1.1.4.cmml" xref="S5.SS2.p1.2.m2.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.2.m2.1d">italic_M italic_R italic_R</annotation></semantics></math> scores 0.8172 and 0.8251 respectively, which are 1.6% and 0.55% higher than the second-best Gemini model accordingly.
It is noted that Claude’s <math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.SS2.p1.3.m3.1"><semantics id="S5.SS2.p1.3.m3.1a"><mrow id="S5.SS2.p1.3.m3.1.1" xref="S5.SS2.p1.3.m3.1.1.cmml"><mi id="S5.SS2.p1.3.m3.1.1.2" xref="S5.SS2.p1.3.m3.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.3.m3.1.1.1" xref="S5.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.3.m3.1.1.3" xref="S5.SS2.p1.3.m3.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.3.m3.1.1.1a" xref="S5.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.3.m3.1.1.4" xref="S5.SS2.p1.3.m3.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.3.m3.1.1.1b" xref="S5.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.3.m3.1.1.5" mathvariant="normal" xref="S5.SS2.p1.3.m3.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.3.m3.1.1.1c" xref="S5.SS2.p1.3.m3.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.3.m3.1.1.6" xref="S5.SS2.p1.3.m3.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.3.m3.1b"><apply id="S5.SS2.p1.3.m3.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1"><times id="S5.SS2.p1.3.m3.1.1.1.cmml" xref="S5.SS2.p1.3.m3.1.1.1"></times><ci id="S5.SS2.p1.3.m3.1.1.2.cmml" xref="S5.SS2.p1.3.m3.1.1.2">𝐴</ci><ci id="S5.SS2.p1.3.m3.1.1.3.cmml" xref="S5.SS2.p1.3.m3.1.1.3">𝑐</ci><ci id="S5.SS2.p1.3.m3.1.1.4.cmml" xref="S5.SS2.p1.3.m3.1.1.4">𝑐</ci><ci id="S5.SS2.p1.3.m3.1.1.5.cmml" xref="S5.SS2.p1.3.m3.1.1.5">@</ci><cn id="S5.SS2.p1.3.m3.1.1.6.cmml" type="integer" xref="S5.SS2.p1.3.m3.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.3.m3.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.3.m3.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math> and <math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.SS2.p1.4.m4.1"><semantics id="S5.SS2.p1.4.m4.1a"><mrow id="S5.SS2.p1.4.m4.1.1" xref="S5.SS2.p1.4.m4.1.1.cmml"><mi id="S5.SS2.p1.4.m4.1.1.2" xref="S5.SS2.p1.4.m4.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.4.m4.1.1.1" xref="S5.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.4.m4.1.1.3" xref="S5.SS2.p1.4.m4.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.4.m4.1.1.1a" xref="S5.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.4.m4.1.1.4" xref="S5.SS2.p1.4.m4.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.4.m4.1.1.1b" xref="S5.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.4.m4.1.1.5" mathvariant="normal" xref="S5.SS2.p1.4.m4.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.4.m4.1.1.1c" xref="S5.SS2.p1.4.m4.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.4.m4.1.1.6" xref="S5.SS2.p1.4.m4.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.4.m4.1b"><apply id="S5.SS2.p1.4.m4.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1"><times id="S5.SS2.p1.4.m4.1.1.1.cmml" xref="S5.SS2.p1.4.m4.1.1.1"></times><ci id="S5.SS2.p1.4.m4.1.1.2.cmml" xref="S5.SS2.p1.4.m4.1.1.2">𝐴</ci><ci id="S5.SS2.p1.4.m4.1.1.3.cmml" xref="S5.SS2.p1.4.m4.1.1.3">𝑐</ci><ci id="S5.SS2.p1.4.m4.1.1.4.cmml" xref="S5.SS2.p1.4.m4.1.1.4">𝑐</ci><ci id="S5.SS2.p1.4.m4.1.1.5.cmml" xref="S5.SS2.p1.4.m4.1.1.5">@</ci><cn id="S5.SS2.p1.4.m4.1.1.6.cmml" type="integer" xref="S5.SS2.p1.4.m4.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.4.m4.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.4.m4.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math> are near to Gemini’s scores 0.8325 and 0.8470.
While Gemini surpasses their scores 0.8333 and 0.8517, indicating that Claude are slightly advantaged than Claude’s <math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.SS2.p1.5.m5.1"><semantics id="S5.SS2.p1.5.m5.1a"><mrow id="S5.SS2.p1.5.m5.1.1" xref="S5.SS2.p1.5.m5.1.1.cmml"><mi id="S5.SS2.p1.5.m5.1.1.2" xref="S5.SS2.p1.5.m5.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.5.m5.1.1.1" xref="S5.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.5.m5.1.1.3" xref="S5.SS2.p1.5.m5.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.5.m5.1.1.1a" xref="S5.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.5.m5.1.1.4" xref="S5.SS2.p1.5.m5.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.5.m5.1.1.1b" xref="S5.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.5.m5.1.1.5" mathvariant="normal" xref="S5.SS2.p1.5.m5.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.5.m5.1.1.1c" xref="S5.SS2.p1.5.m5.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.5.m5.1.1.6" xref="S5.SS2.p1.5.m5.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.5.m5.1b"><apply id="S5.SS2.p1.5.m5.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1"><times id="S5.SS2.p1.5.m5.1.1.1.cmml" xref="S5.SS2.p1.5.m5.1.1.1"></times><ci id="S5.SS2.p1.5.m5.1.1.2.cmml" xref="S5.SS2.p1.5.m5.1.1.2">𝐴</ci><ci id="S5.SS2.p1.5.m5.1.1.3.cmml" xref="S5.SS2.p1.5.m5.1.1.3">𝑐</ci><ci id="S5.SS2.p1.5.m5.1.1.4.cmml" xref="S5.SS2.p1.5.m5.1.1.4">𝑐</ci><ci id="S5.SS2.p1.5.m5.1.1.5.cmml" xref="S5.SS2.p1.5.m5.1.1.5">@</ci><cn id="S5.SS2.p1.5.m5.1.1.6.cmml" type="integer" xref="S5.SS2.p1.5.m5.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.5.m5.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.5.m5.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math> and <math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.SS2.p1.6.m6.1"><semantics id="S5.SS2.p1.6.m6.1a"><mrow id="S5.SS2.p1.6.m6.1.1" xref="S5.SS2.p1.6.m6.1.1.cmml"><mi id="S5.SS2.p1.6.m6.1.1.2" xref="S5.SS2.p1.6.m6.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.6.m6.1.1.1" xref="S5.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.6.m6.1.1.3" xref="S5.SS2.p1.6.m6.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.6.m6.1.1.1a" xref="S5.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.6.m6.1.1.4" xref="S5.SS2.p1.6.m6.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.6.m6.1.1.1b" xref="S5.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.6.m6.1.1.5" mathvariant="normal" xref="S5.SS2.p1.6.m6.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.6.m6.1.1.1c" xref="S5.SS2.p1.6.m6.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.6.m6.1.1.6" xref="S5.SS2.p1.6.m6.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.6.m6.1b"><apply id="S5.SS2.p1.6.m6.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1"><times id="S5.SS2.p1.6.m6.1.1.1.cmml" xref="S5.SS2.p1.6.m6.1.1.1"></times><ci id="S5.SS2.p1.6.m6.1.1.2.cmml" xref="S5.SS2.p1.6.m6.1.1.2">𝐴</ci><ci id="S5.SS2.p1.6.m6.1.1.3.cmml" xref="S5.SS2.p1.6.m6.1.1.3">𝑐</ci><ci id="S5.SS2.p1.6.m6.1.1.4.cmml" xref="S5.SS2.p1.6.m6.1.1.4">𝑐</ci><ci id="S5.SS2.p1.6.m6.1.1.5.cmml" xref="S5.SS2.p1.6.m6.1.1.5">@</ci><cn id="S5.SS2.p1.6.m6.1.1.6.cmml" type="integer" xref="S5.SS2.p1.6.m6.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.6.m6.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.6.m6.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math>.
For TKY dataset, it is noted that the QWEN model achieved the best <math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.SS2.p1.7.m7.1"><semantics id="S5.SS2.p1.7.m7.1a"><mrow id="S5.SS2.p1.7.m7.1.1" xref="S5.SS2.p1.7.m7.1.1.cmml"><mi id="S5.SS2.p1.7.m7.1.1.2" xref="S5.SS2.p1.7.m7.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.7.m7.1.1.1" xref="S5.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.7.m7.1.1.3" xref="S5.SS2.p1.7.m7.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.7.m7.1.1.1a" xref="S5.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.7.m7.1.1.4" xref="S5.SS2.p1.7.m7.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.7.m7.1.1.1b" xref="S5.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.7.m7.1.1.5" mathvariant="normal" xref="S5.SS2.p1.7.m7.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.7.m7.1.1.1c" xref="S5.SS2.p1.7.m7.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.7.m7.1.1.6" xref="S5.SS2.p1.7.m7.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.7.m7.1b"><apply id="S5.SS2.p1.7.m7.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1"><times id="S5.SS2.p1.7.m7.1.1.1.cmml" xref="S5.SS2.p1.7.m7.1.1.1"></times><ci id="S5.SS2.p1.7.m7.1.1.2.cmml" xref="S5.SS2.p1.7.m7.1.1.2">𝐴</ci><ci id="S5.SS2.p1.7.m7.1.1.3.cmml" xref="S5.SS2.p1.7.m7.1.1.3">𝑐</ci><ci id="S5.SS2.p1.7.m7.1.1.4.cmml" xref="S5.SS2.p1.7.m7.1.1.4">𝑐</ci><ci id="S5.SS2.p1.7.m7.1.1.5.cmml" xref="S5.SS2.p1.7.m7.1.1.5">@</ci><cn id="S5.SS2.p1.7.m7.1.1.6.cmml" type="integer" xref="S5.SS2.p1.7.m7.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.7.m7.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.7.m7.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS2.p1.8.m8.1"><semantics id="S5.SS2.p1.8.m8.1a"><mrow id="S5.SS2.p1.8.m8.1.1" xref="S5.SS2.p1.8.m8.1.1.cmml"><mi id="S5.SS2.p1.8.m8.1.1.2" xref="S5.SS2.p1.8.m8.1.1.2.cmml">M</mi><mo id="S5.SS2.p1.8.m8.1.1.1" xref="S5.SS2.p1.8.m8.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.8.m8.1.1.3" xref="S5.SS2.p1.8.m8.1.1.3.cmml">R</mi><mo id="S5.SS2.p1.8.m8.1.1.1a" xref="S5.SS2.p1.8.m8.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.8.m8.1.1.4" xref="S5.SS2.p1.8.m8.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.8.m8.1b"><apply id="S5.SS2.p1.8.m8.1.1.cmml" xref="S5.SS2.p1.8.m8.1.1"><times id="S5.SS2.p1.8.m8.1.1.1.cmml" xref="S5.SS2.p1.8.m8.1.1.1"></times><ci id="S5.SS2.p1.8.m8.1.1.2.cmml" xref="S5.SS2.p1.8.m8.1.1.2">𝑀</ci><ci id="S5.SS2.p1.8.m8.1.1.3.cmml" xref="S5.SS2.p1.8.m8.1.1.3">𝑅</ci><ci id="S5.SS2.p1.8.m8.1.1.4.cmml" xref="S5.SS2.p1.8.m8.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.8.m8.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.8.m8.1d">italic_M italic_R italic_R</annotation></semantics></math> scores 0.8831 and 0.9279 respectively, which are higher than other models.
QWEN outperformed Gemini in MRR by 4.0%, indicating that its relevance and accuracy.
It is also noted that the MoonShot model achieved average <math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.SS2.p1.9.m9.1"><semantics id="S5.SS2.p1.9.m9.1a"><mrow id="S5.SS2.p1.9.m9.1.1" xref="S5.SS2.p1.9.m9.1.1.cmml"><mi id="S5.SS2.p1.9.m9.1.1.2" xref="S5.SS2.p1.9.m9.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.9.m9.1.1.1" xref="S5.SS2.p1.9.m9.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.9.m9.1.1.3" xref="S5.SS2.p1.9.m9.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.9.m9.1.1.1a" xref="S5.SS2.p1.9.m9.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.9.m9.1.1.4" xref="S5.SS2.p1.9.m9.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.9.m9.1.1.1b" xref="S5.SS2.p1.9.m9.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.9.m9.1.1.5" mathvariant="normal" xref="S5.SS2.p1.9.m9.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.9.m9.1.1.1c" xref="S5.SS2.p1.9.m9.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.9.m9.1.1.6" xref="S5.SS2.p1.9.m9.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.9.m9.1b"><apply id="S5.SS2.p1.9.m9.1.1.cmml" xref="S5.SS2.p1.9.m9.1.1"><times id="S5.SS2.p1.9.m9.1.1.1.cmml" xref="S5.SS2.p1.9.m9.1.1.1"></times><ci id="S5.SS2.p1.9.m9.1.1.2.cmml" xref="S5.SS2.p1.9.m9.1.1.2">𝐴</ci><ci id="S5.SS2.p1.9.m9.1.1.3.cmml" xref="S5.SS2.p1.9.m9.1.1.3">𝑐</ci><ci id="S5.SS2.p1.9.m9.1.1.4.cmml" xref="S5.SS2.p1.9.m9.1.1.4">𝑐</ci><ci id="S5.SS2.p1.9.m9.1.1.5.cmml" xref="S5.SS2.p1.9.m9.1.1.5">@</ci><cn id="S5.SS2.p1.9.m9.1.1.6.cmml" type="integer" xref="S5.SS2.p1.9.m9.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.9.m9.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.9.m9.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math> and MRR scores 0.7304 and 0.7520 on the NYC dataset respectively.
For TKY dataset, the MoonShot model has achieved <math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.SS2.p1.10.m10.1"><semantics id="S5.SS2.p1.10.m10.1a"><mrow id="S5.SS2.p1.10.m10.1.1" xref="S5.SS2.p1.10.m10.1.1.cmml"><mi id="S5.SS2.p1.10.m10.1.1.2" xref="S5.SS2.p1.10.m10.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.10.m10.1.1.1" xref="S5.SS2.p1.10.m10.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.10.m10.1.1.3" xref="S5.SS2.p1.10.m10.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.10.m10.1.1.1a" xref="S5.SS2.p1.10.m10.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.10.m10.1.1.4" xref="S5.SS2.p1.10.m10.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.10.m10.1.1.1b" xref="S5.SS2.p1.10.m10.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.10.m10.1.1.5" mathvariant="normal" xref="S5.SS2.p1.10.m10.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.10.m10.1.1.1c" xref="S5.SS2.p1.10.m10.1.1.1.cmml">⁢</mo><mn id="S5.SS2.p1.10.m10.1.1.6" xref="S5.SS2.p1.10.m10.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.10.m10.1b"><apply id="S5.SS2.p1.10.m10.1.1.cmml" xref="S5.SS2.p1.10.m10.1.1"><times id="S5.SS2.p1.10.m10.1.1.1.cmml" xref="S5.SS2.p1.10.m10.1.1.1"></times><ci id="S5.SS2.p1.10.m10.1.1.2.cmml" xref="S5.SS2.p1.10.m10.1.1.2">𝐴</ci><ci id="S5.SS2.p1.10.m10.1.1.3.cmml" xref="S5.SS2.p1.10.m10.1.1.3">𝑐</ci><ci id="S5.SS2.p1.10.m10.1.1.4.cmml" xref="S5.SS2.p1.10.m10.1.1.4">𝑐</ci><ci id="S5.SS2.p1.10.m10.1.1.5.cmml" xref="S5.SS2.p1.10.m10.1.1.5">@</ci><cn id="S5.SS2.p1.10.m10.1.1.6.cmml" type="integer" xref="S5.SS2.p1.10.m10.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.10.m10.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.10.m10.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS2.p1.11.m11.1"><semantics id="S5.SS2.p1.11.m11.1a"><mrow id="S5.SS2.p1.11.m11.1.1" xref="S5.SS2.p1.11.m11.1.1.cmml"><mi id="S5.SS2.p1.11.m11.1.1.2" xref="S5.SS2.p1.11.m11.1.1.2.cmml">M</mi><mo id="S5.SS2.p1.11.m11.1.1.1" xref="S5.SS2.p1.11.m11.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.11.m11.1.1.3" xref="S5.SS2.p1.11.m11.1.1.3.cmml">R</mi><mo id="S5.SS2.p1.11.m11.1.1.1a" xref="S5.SS2.p1.11.m11.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.11.m11.1.1.4" xref="S5.SS2.p1.11.m11.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.11.m11.1b"><apply id="S5.SS2.p1.11.m11.1.1.cmml" xref="S5.SS2.p1.11.m11.1.1"><times id="S5.SS2.p1.11.m11.1.1.1.cmml" xref="S5.SS2.p1.11.m11.1.1.1"></times><ci id="S5.SS2.p1.11.m11.1.1.2.cmml" xref="S5.SS2.p1.11.m11.1.1.2">𝑀</ci><ci id="S5.SS2.p1.11.m11.1.1.3.cmml" xref="S5.SS2.p1.11.m11.1.1.3">𝑅</ci><ci id="S5.SS2.p1.11.m11.1.1.4.cmml" xref="S5.SS2.p1.11.m11.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.11.m11.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.11.m11.1d">italic_M italic_R italic_R</annotation></semantics></math> scores 0.6533 and 0.6742 respectively, indicating that MoonShot has deficiencies in <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.SS2.p1.12.m12.1"><semantics id="S5.SS2.p1.12.m12.1a"><mrow id="S5.SS2.p1.12.m12.1.1" xref="S5.SS2.p1.12.m12.1.1.cmml"><mi id="S5.SS2.p1.12.m12.1.1.2" xref="S5.SS2.p1.12.m12.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.12.m12.1.1.1" xref="S5.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.12.m12.1.1.3" xref="S5.SS2.p1.12.m12.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.12.m12.1.1.1a" xref="S5.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.12.m12.1.1.4" xref="S5.SS2.p1.12.m12.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.12.m12.1.1.1b" xref="S5.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.12.m12.1.1.5" mathvariant="normal" xref="S5.SS2.p1.12.m12.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.12.m12.1.1.1c" xref="S5.SS2.p1.12.m12.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.12.m12.1.1.6" xref="S5.SS2.p1.12.m12.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.12.m12.1b"><apply id="S5.SS2.p1.12.m12.1.1.cmml" xref="S5.SS2.p1.12.m12.1.1"><times id="S5.SS2.p1.12.m12.1.1.1.cmml" xref="S5.SS2.p1.12.m12.1.1.1"></times><ci id="S5.SS2.p1.12.m12.1.1.2.cmml" xref="S5.SS2.p1.12.m12.1.1.2">𝐴</ci><ci id="S5.SS2.p1.12.m12.1.1.3.cmml" xref="S5.SS2.p1.12.m12.1.1.3">𝑐</ci><ci id="S5.SS2.p1.12.m12.1.1.4.cmml" xref="S5.SS2.p1.12.m12.1.1.4">𝑐</ci><ci id="S5.SS2.p1.12.m12.1.1.5.cmml" xref="S5.SS2.p1.12.m12.1.1.5">@</ci><ci id="S5.SS2.p1.12.m12.1.1.6.cmml" xref="S5.SS2.p1.12.m12.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.12.m12.1c">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.12.m12.1d">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS2.p1.13.m13.1"><semantics id="S5.SS2.p1.13.m13.1a"><mrow id="S5.SS2.p1.13.m13.1.1" xref="S5.SS2.p1.13.m13.1.1.cmml"><mi id="S5.SS2.p1.13.m13.1.1.2" xref="S5.SS2.p1.13.m13.1.1.2.cmml">M</mi><mo id="S5.SS2.p1.13.m13.1.1.1" xref="S5.SS2.p1.13.m13.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.13.m13.1.1.3" xref="S5.SS2.p1.13.m13.1.1.3.cmml">R</mi><mo id="S5.SS2.p1.13.m13.1.1.1a" xref="S5.SS2.p1.13.m13.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.13.m13.1.1.4" xref="S5.SS2.p1.13.m13.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.13.m13.1b"><apply id="S5.SS2.p1.13.m13.1.1.cmml" xref="S5.SS2.p1.13.m13.1.1"><times id="S5.SS2.p1.13.m13.1.1.1.cmml" xref="S5.SS2.p1.13.m13.1.1.1"></times><ci id="S5.SS2.p1.13.m13.1.1.2.cmml" xref="S5.SS2.p1.13.m13.1.1.2">𝑀</ci><ci id="S5.SS2.p1.13.m13.1.1.3.cmml" xref="S5.SS2.p1.13.m13.1.1.3">𝑅</ci><ci id="S5.SS2.p1.13.m13.1.1.4.cmml" xref="S5.SS2.p1.13.m13.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.13.m13.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.13.m13.1d">italic_M italic_R italic_R</annotation></semantics></math>.
It is also noted that the Claude model performed satisfactory at the NYC dataset, while the QWEN model performed satisfactory at the TKY dataset.
Hence, it is considered that Claude and QWEN are suitable LLMs for MAS4POI. It is also noted that the GPT model is widely used in various fields  <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#bib.bib27" title="">27</a>]</cite> but the performance between GPT and QWEN at the TKY dataset is insignificant at <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.SS2.p1.14.m14.1"><semantics id="S5.SS2.p1.14.m14.1a"><mrow id="S5.SS2.p1.14.m14.1.1" xref="S5.SS2.p1.14.m14.1.1.cmml"><mi id="S5.SS2.p1.14.m14.1.1.2" xref="S5.SS2.p1.14.m14.1.1.2.cmml">A</mi><mo id="S5.SS2.p1.14.m14.1.1.1" xref="S5.SS2.p1.14.m14.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.14.m14.1.1.3" xref="S5.SS2.p1.14.m14.1.1.3.cmml">c</mi><mo id="S5.SS2.p1.14.m14.1.1.1a" xref="S5.SS2.p1.14.m14.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.14.m14.1.1.4" xref="S5.SS2.p1.14.m14.1.1.4.cmml">c</mi><mo id="S5.SS2.p1.14.m14.1.1.1b" xref="S5.SS2.p1.14.m14.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.14.m14.1.1.5" mathvariant="normal" xref="S5.SS2.p1.14.m14.1.1.5.cmml">@</mi><mo id="S5.SS2.p1.14.m14.1.1.1c" xref="S5.SS2.p1.14.m14.1.1.1.cmml">⁢</mo><mi id="S5.SS2.p1.14.m14.1.1.6" xref="S5.SS2.p1.14.m14.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.14.m14.1b"><apply id="S5.SS2.p1.14.m14.1.1.cmml" xref="S5.SS2.p1.14.m14.1.1"><times id="S5.SS2.p1.14.m14.1.1.1.cmml" xref="S5.SS2.p1.14.m14.1.1.1"></times><ci id="S5.SS2.p1.14.m14.1.1.2.cmml" xref="S5.SS2.p1.14.m14.1.1.2">𝐴</ci><ci id="S5.SS2.p1.14.m14.1.1.3.cmml" xref="S5.SS2.p1.14.m14.1.1.3">𝑐</ci><ci id="S5.SS2.p1.14.m14.1.1.4.cmml" xref="S5.SS2.p1.14.m14.1.1.4">𝑐</ci><ci id="S5.SS2.p1.14.m14.1.1.5.cmml" xref="S5.SS2.p1.14.m14.1.1.5">@</ci><ci id="S5.SS2.p1.14.m14.1.1.6.cmml" xref="S5.SS2.p1.14.m14.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.14.m14.1c">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p1.14.m14.1d">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> (k=1, 5, 10) with 2.11%, 1.31%, and 1.0% differences.
Hence, GPT remains as the primary LLM for MAS4POI.
Therefore, we recommend Claude and QWEN as the main LLM choices for MAS4POI.
</p>
</div>
<figure class="ltx_table" id="S5.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T3.14.3.1" style="font-size:90%;">Table 3</span>: </span><span class="ltx_text" id="S5.T3.4.2" style="font-size:90%;">MAS4POI Performance Comparison of Abbreviated LLMs Across NYC and TKY Datasets Using <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.T3.3.1.m1.1"><semantics id="S5.T3.3.1.m1.1b"><mrow id="S5.T3.3.1.m1.1.1" xref="S5.T3.3.1.m1.1.1.cmml"><mi id="S5.T3.3.1.m1.1.1.2" xref="S5.T3.3.1.m1.1.1.2.cmml">A</mi><mo id="S5.T3.3.1.m1.1.1.1" xref="S5.T3.3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.3.1.m1.1.1.3" xref="S5.T3.3.1.m1.1.1.3.cmml">c</mi><mo id="S5.T3.3.1.m1.1.1.1b" xref="S5.T3.3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.3.1.m1.1.1.4" xref="S5.T3.3.1.m1.1.1.4.cmml">c</mi><mo id="S5.T3.3.1.m1.1.1.1c" xref="S5.T3.3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.3.1.m1.1.1.5" mathvariant="normal" xref="S5.T3.3.1.m1.1.1.5.cmml">@</mi><mo id="S5.T3.3.1.m1.1.1.1d" xref="S5.T3.3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.3.1.m1.1.1.6" xref="S5.T3.3.1.m1.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.3.1.m1.1c"><apply id="S5.T3.3.1.m1.1.1.cmml" xref="S5.T3.3.1.m1.1.1"><times id="S5.T3.3.1.m1.1.1.1.cmml" xref="S5.T3.3.1.m1.1.1.1"></times><ci id="S5.T3.3.1.m1.1.1.2.cmml" xref="S5.T3.3.1.m1.1.1.2">𝐴</ci><ci id="S5.T3.3.1.m1.1.1.3.cmml" xref="S5.T3.3.1.m1.1.1.3">𝑐</ci><ci id="S5.T3.3.1.m1.1.1.4.cmml" xref="S5.T3.3.1.m1.1.1.4">𝑐</ci><ci id="S5.T3.3.1.m1.1.1.5.cmml" xref="S5.T3.3.1.m1.1.1.5">@</ci><ci id="S5.T3.3.1.m1.1.1.6.cmml" xref="S5.T3.3.1.m1.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.1.m1.1d">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.T3.3.1.m1.1e">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> (k=1, 5, 10) and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.T3.4.2.m2.1"><semantics id="S5.T3.4.2.m2.1b"><mrow id="S5.T3.4.2.m2.1.1" xref="S5.T3.4.2.m2.1.1.cmml"><mi id="S5.T3.4.2.m2.1.1.2" xref="S5.T3.4.2.m2.1.1.2.cmml">M</mi><mo id="S5.T3.4.2.m2.1.1.1" xref="S5.T3.4.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.T3.4.2.m2.1.1.3" xref="S5.T3.4.2.m2.1.1.3.cmml">R</mi><mo id="S5.T3.4.2.m2.1.1.1b" xref="S5.T3.4.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.T3.4.2.m2.1.1.4" xref="S5.T3.4.2.m2.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.4.2.m2.1c"><apply id="S5.T3.4.2.m2.1.1.cmml" xref="S5.T3.4.2.m2.1.1"><times id="S5.T3.4.2.m2.1.1.1.cmml" xref="S5.T3.4.2.m2.1.1.1"></times><ci id="S5.T3.4.2.m2.1.1.2.cmml" xref="S5.T3.4.2.m2.1.1.2">𝑀</ci><ci id="S5.T3.4.2.m2.1.1.3.cmml" xref="S5.T3.4.2.m2.1.1.3">𝑅</ci><ci id="S5.T3.4.2.m2.1.1.4.cmml" xref="S5.T3.4.2.m2.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.2.m2.1d">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.T3.4.2.m2.1e">italic_M italic_R italic_R</annotation></semantics></math> Metrics.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.12" style="width:433.6pt;height:129pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-26.9pt,8.0pt) scale(0.889500745337478,0.889500745337478) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T3.12.8">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T3.12.8.9.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S5.T3.12.8.9.1.1" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.T3.12.8.9.1.2" style="padding:2.5pt 10.0pt;">NYC</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.T3.12.8.9.1.3" style="padding:2.5pt 10.0pt;">TKY</th>
<td class="ltx_td ltx_border_t" id="S5.T3.12.8.9.1.4" style="padding:2.5pt 10.0pt;"></td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S5.T3.12.8.8.9" style="padding:2.5pt 10.0pt;">LLMs</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.5.1.1.1" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.T3.5.1.1.1.m1.1"><semantics id="S5.T3.5.1.1.1.m1.1a"><mrow id="S5.T3.5.1.1.1.m1.1.1" xref="S5.T3.5.1.1.1.m1.1.1.cmml"><mi id="S5.T3.5.1.1.1.m1.1.1.2" xref="S5.T3.5.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S5.T3.5.1.1.1.m1.1.1.1" xref="S5.T3.5.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.5.1.1.1.m1.1.1.3" xref="S5.T3.5.1.1.1.m1.1.1.3.cmml">c</mi><mo id="S5.T3.5.1.1.1.m1.1.1.1a" xref="S5.T3.5.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.5.1.1.1.m1.1.1.4" xref="S5.T3.5.1.1.1.m1.1.1.4.cmml">c</mi><mo id="S5.T3.5.1.1.1.m1.1.1.1b" xref="S5.T3.5.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.5.1.1.1.m1.1.1.5" mathvariant="normal" xref="S5.T3.5.1.1.1.m1.1.1.5.cmml">@</mi><mo id="S5.T3.5.1.1.1.m1.1.1.1c" xref="S5.T3.5.1.1.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.5.1.1.1.m1.1.1.6" xref="S5.T3.5.1.1.1.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.5.1.1.1.m1.1b"><apply id="S5.T3.5.1.1.1.m1.1.1.cmml" xref="S5.T3.5.1.1.1.m1.1.1"><times id="S5.T3.5.1.1.1.m1.1.1.1.cmml" xref="S5.T3.5.1.1.1.m1.1.1.1"></times><ci id="S5.T3.5.1.1.1.m1.1.1.2.cmml" xref="S5.T3.5.1.1.1.m1.1.1.2">𝐴</ci><ci id="S5.T3.5.1.1.1.m1.1.1.3.cmml" xref="S5.T3.5.1.1.1.m1.1.1.3">𝑐</ci><ci id="S5.T3.5.1.1.1.m1.1.1.4.cmml" xref="S5.T3.5.1.1.1.m1.1.1.4">𝑐</ci><ci id="S5.T3.5.1.1.1.m1.1.1.5.cmml" xref="S5.T3.5.1.1.1.m1.1.1.5">@</ci><cn id="S5.T3.5.1.1.1.m1.1.1.6.cmml" type="integer" xref="S5.T3.5.1.1.1.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.1.1.1.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.T3.5.1.1.1.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.6.2.2.2" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.T3.6.2.2.2.m1.1"><semantics id="S5.T3.6.2.2.2.m1.1a"><mrow id="S5.T3.6.2.2.2.m1.1.1" xref="S5.T3.6.2.2.2.m1.1.1.cmml"><mi id="S5.T3.6.2.2.2.m1.1.1.2" xref="S5.T3.6.2.2.2.m1.1.1.2.cmml">A</mi><mo id="S5.T3.6.2.2.2.m1.1.1.1" xref="S5.T3.6.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.6.2.2.2.m1.1.1.3" xref="S5.T3.6.2.2.2.m1.1.1.3.cmml">c</mi><mo id="S5.T3.6.2.2.2.m1.1.1.1a" xref="S5.T3.6.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.6.2.2.2.m1.1.1.4" xref="S5.T3.6.2.2.2.m1.1.1.4.cmml">c</mi><mo id="S5.T3.6.2.2.2.m1.1.1.1b" xref="S5.T3.6.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.6.2.2.2.m1.1.1.5" mathvariant="normal" xref="S5.T3.6.2.2.2.m1.1.1.5.cmml">@</mi><mo id="S5.T3.6.2.2.2.m1.1.1.1c" xref="S5.T3.6.2.2.2.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.6.2.2.2.m1.1.1.6" xref="S5.T3.6.2.2.2.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.6.2.2.2.m1.1b"><apply id="S5.T3.6.2.2.2.m1.1.1.cmml" xref="S5.T3.6.2.2.2.m1.1.1"><times id="S5.T3.6.2.2.2.m1.1.1.1.cmml" xref="S5.T3.6.2.2.2.m1.1.1.1"></times><ci id="S5.T3.6.2.2.2.m1.1.1.2.cmml" xref="S5.T3.6.2.2.2.m1.1.1.2">𝐴</ci><ci id="S5.T3.6.2.2.2.m1.1.1.3.cmml" xref="S5.T3.6.2.2.2.m1.1.1.3">𝑐</ci><ci id="S5.T3.6.2.2.2.m1.1.1.4.cmml" xref="S5.T3.6.2.2.2.m1.1.1.4">𝑐</ci><ci id="S5.T3.6.2.2.2.m1.1.1.5.cmml" xref="S5.T3.6.2.2.2.m1.1.1.5">@</ci><cn id="S5.T3.6.2.2.2.m1.1.1.6.cmml" type="integer" xref="S5.T3.6.2.2.2.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.2.2.2.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.T3.6.2.2.2.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.7.3.3.3" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.T3.7.3.3.3.m1.1"><semantics id="S5.T3.7.3.3.3.m1.1a"><mrow id="S5.T3.7.3.3.3.m1.1.1" xref="S5.T3.7.3.3.3.m1.1.1.cmml"><mi id="S5.T3.7.3.3.3.m1.1.1.2" xref="S5.T3.7.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S5.T3.7.3.3.3.m1.1.1.1" xref="S5.T3.7.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.7.3.3.3.m1.1.1.3" xref="S5.T3.7.3.3.3.m1.1.1.3.cmml">c</mi><mo id="S5.T3.7.3.3.3.m1.1.1.1a" xref="S5.T3.7.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.7.3.3.3.m1.1.1.4" xref="S5.T3.7.3.3.3.m1.1.1.4.cmml">c</mi><mo id="S5.T3.7.3.3.3.m1.1.1.1b" xref="S5.T3.7.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.7.3.3.3.m1.1.1.5" mathvariant="normal" xref="S5.T3.7.3.3.3.m1.1.1.5.cmml">@</mi><mo id="S5.T3.7.3.3.3.m1.1.1.1c" xref="S5.T3.7.3.3.3.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.7.3.3.3.m1.1.1.6" xref="S5.T3.7.3.3.3.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.7.3.3.3.m1.1b"><apply id="S5.T3.7.3.3.3.m1.1.1.cmml" xref="S5.T3.7.3.3.3.m1.1.1"><times id="S5.T3.7.3.3.3.m1.1.1.1.cmml" xref="S5.T3.7.3.3.3.m1.1.1.1"></times><ci id="S5.T3.7.3.3.3.m1.1.1.2.cmml" xref="S5.T3.7.3.3.3.m1.1.1.2">𝐴</ci><ci id="S5.T3.7.3.3.3.m1.1.1.3.cmml" xref="S5.T3.7.3.3.3.m1.1.1.3">𝑐</ci><ci id="S5.T3.7.3.3.3.m1.1.1.4.cmml" xref="S5.T3.7.3.3.3.m1.1.1.4">𝑐</ci><ci id="S5.T3.7.3.3.3.m1.1.1.5.cmml" xref="S5.T3.7.3.3.3.m1.1.1.5">@</ci><cn id="S5.T3.7.3.3.3.m1.1.1.6.cmml" type="integer" xref="S5.T3.7.3.3.3.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.3.3.3.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.T3.7.3.3.3.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.8.4.4.4" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.T3.8.4.4.4.m1.1"><semantics id="S5.T3.8.4.4.4.m1.1a"><mrow id="S5.T3.8.4.4.4.m1.1.1" xref="S5.T3.8.4.4.4.m1.1.1.cmml"><mi id="S5.T3.8.4.4.4.m1.1.1.2" xref="S5.T3.8.4.4.4.m1.1.1.2.cmml">M</mi><mo id="S5.T3.8.4.4.4.m1.1.1.1" xref="S5.T3.8.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.8.4.4.4.m1.1.1.3" xref="S5.T3.8.4.4.4.m1.1.1.3.cmml">R</mi><mo id="S5.T3.8.4.4.4.m1.1.1.1a" xref="S5.T3.8.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.8.4.4.4.m1.1.1.4" xref="S5.T3.8.4.4.4.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.8.4.4.4.m1.1b"><apply id="S5.T3.8.4.4.4.m1.1.1.cmml" xref="S5.T3.8.4.4.4.m1.1.1"><times id="S5.T3.8.4.4.4.m1.1.1.1.cmml" xref="S5.T3.8.4.4.4.m1.1.1.1"></times><ci id="S5.T3.8.4.4.4.m1.1.1.2.cmml" xref="S5.T3.8.4.4.4.m1.1.1.2">𝑀</ci><ci id="S5.T3.8.4.4.4.m1.1.1.3.cmml" xref="S5.T3.8.4.4.4.m1.1.1.3">𝑅</ci><ci id="S5.T3.8.4.4.4.m1.1.1.4.cmml" xref="S5.T3.8.4.4.4.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.4.4.4.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.T3.8.4.4.4.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.T3.12.8.8.10" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.9.5.5.5" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.T3.9.5.5.5.m1.1"><semantics id="S5.T3.9.5.5.5.m1.1a"><mrow id="S5.T3.9.5.5.5.m1.1.1" xref="S5.T3.9.5.5.5.m1.1.1.cmml"><mi id="S5.T3.9.5.5.5.m1.1.1.2" xref="S5.T3.9.5.5.5.m1.1.1.2.cmml">A</mi><mo id="S5.T3.9.5.5.5.m1.1.1.1" xref="S5.T3.9.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.9.5.5.5.m1.1.1.3" xref="S5.T3.9.5.5.5.m1.1.1.3.cmml">c</mi><mo id="S5.T3.9.5.5.5.m1.1.1.1a" xref="S5.T3.9.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.9.5.5.5.m1.1.1.4" xref="S5.T3.9.5.5.5.m1.1.1.4.cmml">c</mi><mo id="S5.T3.9.5.5.5.m1.1.1.1b" xref="S5.T3.9.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.9.5.5.5.m1.1.1.5" mathvariant="normal" xref="S5.T3.9.5.5.5.m1.1.1.5.cmml">@</mi><mo id="S5.T3.9.5.5.5.m1.1.1.1c" xref="S5.T3.9.5.5.5.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.9.5.5.5.m1.1.1.6" xref="S5.T3.9.5.5.5.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.9.5.5.5.m1.1b"><apply id="S5.T3.9.5.5.5.m1.1.1.cmml" xref="S5.T3.9.5.5.5.m1.1.1"><times id="S5.T3.9.5.5.5.m1.1.1.1.cmml" xref="S5.T3.9.5.5.5.m1.1.1.1"></times><ci id="S5.T3.9.5.5.5.m1.1.1.2.cmml" xref="S5.T3.9.5.5.5.m1.1.1.2">𝐴</ci><ci id="S5.T3.9.5.5.5.m1.1.1.3.cmml" xref="S5.T3.9.5.5.5.m1.1.1.3">𝑐</ci><ci id="S5.T3.9.5.5.5.m1.1.1.4.cmml" xref="S5.T3.9.5.5.5.m1.1.1.4">𝑐</ci><ci id="S5.T3.9.5.5.5.m1.1.1.5.cmml" xref="S5.T3.9.5.5.5.m1.1.1.5">@</ci><cn id="S5.T3.9.5.5.5.m1.1.1.6.cmml" type="integer" xref="S5.T3.9.5.5.5.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.9.5.5.5.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.T3.9.5.5.5.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.10.6.6.6" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.T3.10.6.6.6.m1.1"><semantics id="S5.T3.10.6.6.6.m1.1a"><mrow id="S5.T3.10.6.6.6.m1.1.1" xref="S5.T3.10.6.6.6.m1.1.1.cmml"><mi id="S5.T3.10.6.6.6.m1.1.1.2" xref="S5.T3.10.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S5.T3.10.6.6.6.m1.1.1.1" xref="S5.T3.10.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.10.6.6.6.m1.1.1.3" xref="S5.T3.10.6.6.6.m1.1.1.3.cmml">c</mi><mo id="S5.T3.10.6.6.6.m1.1.1.1a" xref="S5.T3.10.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.10.6.6.6.m1.1.1.4" xref="S5.T3.10.6.6.6.m1.1.1.4.cmml">c</mi><mo id="S5.T3.10.6.6.6.m1.1.1.1b" xref="S5.T3.10.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.10.6.6.6.m1.1.1.5" mathvariant="normal" xref="S5.T3.10.6.6.6.m1.1.1.5.cmml">@</mi><mo id="S5.T3.10.6.6.6.m1.1.1.1c" xref="S5.T3.10.6.6.6.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.10.6.6.6.m1.1.1.6" xref="S5.T3.10.6.6.6.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.10.6.6.6.m1.1b"><apply id="S5.T3.10.6.6.6.m1.1.1.cmml" xref="S5.T3.10.6.6.6.m1.1.1"><times id="S5.T3.10.6.6.6.m1.1.1.1.cmml" xref="S5.T3.10.6.6.6.m1.1.1.1"></times><ci id="S5.T3.10.6.6.6.m1.1.1.2.cmml" xref="S5.T3.10.6.6.6.m1.1.1.2">𝐴</ci><ci id="S5.T3.10.6.6.6.m1.1.1.3.cmml" xref="S5.T3.10.6.6.6.m1.1.1.3">𝑐</ci><ci id="S5.T3.10.6.6.6.m1.1.1.4.cmml" xref="S5.T3.10.6.6.6.m1.1.1.4">𝑐</ci><ci id="S5.T3.10.6.6.6.m1.1.1.5.cmml" xref="S5.T3.10.6.6.6.m1.1.1.5">@</ci><cn id="S5.T3.10.6.6.6.m1.1.1.6.cmml" type="integer" xref="S5.T3.10.6.6.6.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.10.6.6.6.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.T3.10.6.6.6.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.11.7.7.7" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.T3.11.7.7.7.m1.1"><semantics id="S5.T3.11.7.7.7.m1.1a"><mrow id="S5.T3.11.7.7.7.m1.1.1" xref="S5.T3.11.7.7.7.m1.1.1.cmml"><mi id="S5.T3.11.7.7.7.m1.1.1.2" xref="S5.T3.11.7.7.7.m1.1.1.2.cmml">A</mi><mo id="S5.T3.11.7.7.7.m1.1.1.1" xref="S5.T3.11.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.11.7.7.7.m1.1.1.3" xref="S5.T3.11.7.7.7.m1.1.1.3.cmml">c</mi><mo id="S5.T3.11.7.7.7.m1.1.1.1a" xref="S5.T3.11.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.11.7.7.7.m1.1.1.4" xref="S5.T3.11.7.7.7.m1.1.1.4.cmml">c</mi><mo id="S5.T3.11.7.7.7.m1.1.1.1b" xref="S5.T3.11.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.11.7.7.7.m1.1.1.5" mathvariant="normal" xref="S5.T3.11.7.7.7.m1.1.1.5.cmml">@</mi><mo id="S5.T3.11.7.7.7.m1.1.1.1c" xref="S5.T3.11.7.7.7.m1.1.1.1.cmml">⁢</mo><mn id="S5.T3.11.7.7.7.m1.1.1.6" xref="S5.T3.11.7.7.7.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.11.7.7.7.m1.1b"><apply id="S5.T3.11.7.7.7.m1.1.1.cmml" xref="S5.T3.11.7.7.7.m1.1.1"><times id="S5.T3.11.7.7.7.m1.1.1.1.cmml" xref="S5.T3.11.7.7.7.m1.1.1.1"></times><ci id="S5.T3.11.7.7.7.m1.1.1.2.cmml" xref="S5.T3.11.7.7.7.m1.1.1.2">𝐴</ci><ci id="S5.T3.11.7.7.7.m1.1.1.3.cmml" xref="S5.T3.11.7.7.7.m1.1.1.3">𝑐</ci><ci id="S5.T3.11.7.7.7.m1.1.1.4.cmml" xref="S5.T3.11.7.7.7.m1.1.1.4">𝑐</ci><ci id="S5.T3.11.7.7.7.m1.1.1.5.cmml" xref="S5.T3.11.7.7.7.m1.1.1.5">@</ci><cn id="S5.T3.11.7.7.7.m1.1.1.6.cmml" type="integer" xref="S5.T3.11.7.7.7.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.11.7.7.7.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.T3.11.7.7.7.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T3.12.8.8.8" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.T3.12.8.8.8.m1.1"><semantics id="S5.T3.12.8.8.8.m1.1a"><mrow id="S5.T3.12.8.8.8.m1.1.1" xref="S5.T3.12.8.8.8.m1.1.1.cmml"><mi id="S5.T3.12.8.8.8.m1.1.1.2" xref="S5.T3.12.8.8.8.m1.1.1.2.cmml">M</mi><mo id="S5.T3.12.8.8.8.m1.1.1.1" xref="S5.T3.12.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.12.8.8.8.m1.1.1.3" xref="S5.T3.12.8.8.8.m1.1.1.3.cmml">R</mi><mo id="S5.T3.12.8.8.8.m1.1.1.1a" xref="S5.T3.12.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.12.8.8.8.m1.1.1.4" xref="S5.T3.12.8.8.8.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.12.8.8.8.m1.1b"><apply id="S5.T3.12.8.8.8.m1.1.1.cmml" xref="S5.T3.12.8.8.8.m1.1.1"><times id="S5.T3.12.8.8.8.m1.1.1.1.cmml" xref="S5.T3.12.8.8.8.m1.1.1.1"></times><ci id="S5.T3.12.8.8.8.m1.1.1.2.cmml" xref="S5.T3.12.8.8.8.m1.1.1.2">𝑀</ci><ci id="S5.T3.12.8.8.8.m1.1.1.3.cmml" xref="S5.T3.12.8.8.8.m1.1.1.3">𝑅</ci><ci id="S5.T3.12.8.8.8.m1.1.1.4.cmml" xref="S5.T3.12.8.8.8.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.12.8.8.8.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.T3.12.8.8.8.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.10.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T3.12.8.10.2.1" style="padding:2.5pt 10.0pt;">GLM</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.2" style="padding:2.5pt 10.0pt;">0.7572</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.3" style="padding:2.5pt 10.0pt;">0.7640</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.4" style="padding:2.5pt 10.0pt;">0.7871</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.5" style="padding:2.5pt 10.0pt;">0.7508</td>
<td class="ltx_td ltx_border_t" id="S5.T3.12.8.10.2.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.7" style="padding:2.5pt 10.0pt;">0.8317</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.8" style="padding:2.5pt 10.0pt;">0.8693</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.9" style="padding:2.5pt 10.0pt;">0.8892</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.12.8.10.2.10" style="padding:2.5pt 10.0pt;">0.8651</td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.11.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.12.8.11.3.1" style="padding:2.5pt 10.0pt;">GPT</th>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.2" style="padding:2.5pt 10.0pt;">0.7680</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.3" style="padding:2.5pt 10.0pt;">0.7940</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.4" style="padding:2.5pt 10.0pt;">0.8070</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.5" style="padding:2.5pt 10.0pt;">0.7691</td>
<td class="ltx_td" id="S5.T3.12.8.11.3.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.7" style="padding:2.5pt 10.0pt;">0.8620</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.8" style="padding:2.5pt 10.0pt;">0.8936</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.9" style="padding:2.5pt 10.0pt;">0.9033</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.11.3.10" style="padding:2.5pt 10.0pt;">0.8748</td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.12.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.12.8.12.4.1" style="padding:2.5pt 10.0pt;">MoonShot</th>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.2" style="padding:2.5pt 10.0pt;">0.7304</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.3" style="padding:2.5pt 10.0pt;">0.7537</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.4" style="padding:2.5pt 10.0pt;">0.7633</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.5" style="padding:2.5pt 10.0pt;">0.7520</td>
<td class="ltx_td" id="S5.T3.12.8.12.4.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.7" style="padding:2.5pt 10.0pt;">0.6533</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.8" style="padding:2.5pt 10.0pt;">0.7233</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.9" style="padding:2.5pt 10.0pt;">0.7302</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.12.4.10" style="padding:2.5pt 10.0pt;">0.6742</td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.13.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.12.8.13.5.1" style="padding:2.5pt 10.0pt;">Claude</th>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.2" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.13.5.2.1">0.8172</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.3" style="padding:2.5pt 10.0pt;">0.8325</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.4" style="padding:2.5pt 10.0pt;">0.8470</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.5" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.13.5.5.1">0.8251</span></td>
<td class="ltx_td" id="S5.T3.12.8.13.5.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.7" style="padding:2.5pt 10.0pt;">0.8256</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.8" style="padding:2.5pt 10.0pt;">0.8970</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.9" style="padding:2.5pt 10.0pt;">0.9051</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.13.5.10" style="padding:2.5pt 10.0pt;">0.8510</td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.14.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T3.12.8.14.6.1" style="padding:2.5pt 10.0pt;">Gemini</th>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.2" style="padding:2.5pt 10.0pt;">0.8012</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.3" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.14.6.3.1">0.8333</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.4" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.14.6.4.1">0.8517</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.5" style="padding:2.5pt 10.0pt;">0.8196</td>
<td class="ltx_td" id="S5.T3.12.8.14.6.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.7" style="padding:2.5pt 10.0pt;">0.8721</td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.8" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.14.6.8.1">0.9164</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.9" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.14.6.9.1">0.9217</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.12.8.14.6.10" style="padding:2.5pt 10.0pt;">0.8879</td>
</tr>
<tr class="ltx_tr" id="S5.T3.12.8.15.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S5.T3.12.8.15.7.1" style="padding:2.5pt 10.0pt;">QWEN</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.2" style="padding:2.5pt 10.0pt;">0.7821</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.3" style="padding:2.5pt 10.0pt;">0.8140</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.4" style="padding:2.5pt 10.0pt;">0.8468</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.5" style="padding:2.5pt 10.0pt;">0.8250</td>
<td class="ltx_td ltx_border_b" id="S5.T3.12.8.15.7.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.7" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.15.7.7.1">0.8831</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.8" style="padding:2.5pt 10.0pt;">0.9067</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.9" style="padding:2.5pt 10.0pt;">0.9133</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T3.12.8.15.7.10" style="padding:2.5pt 10.0pt;"><span class="ltx_text ltx_font_bold" id="S5.T3.12.8.15.7.10.1">0.9279</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S5.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S5.T4.10.1.1" style="font-size:90%;">Table 4</span>: </span><span class="ltx_text" id="S5.T4.11.2" style="font-size:90%;">User cold-start analysis on the NYC and TKY datasets, GPT within MAS4POI.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T4.8" style="width:433.6pt;height:79.6pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-31.1pt,5.6pt) scale(0.874501867835979,0.874501867835979) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.T4.8.8">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.T4.8.8.9.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S5.T4.8.8.9.1.1" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.T4.8.8.9.1.2" style="padding:2.5pt 10.0pt;">NYC</th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_t" id="S5.T4.8.8.9.1.3" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.T4.8.8.9.1.4" style="padding:2.5pt 10.0pt;">TKY</th>
</tr>
<tr class="ltx_tr" id="S5.T4.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S5.T4.8.8.8.9" style="padding:2.5pt 10.0pt;">User Group</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.1.1.1.1" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.T4.1.1.1.1.m1.1"><semantics id="S5.T4.1.1.1.1.m1.1a"><mrow id="S5.T4.1.1.1.1.m1.1.1" xref="S5.T4.1.1.1.1.m1.1.1.cmml"><mi id="S5.T4.1.1.1.1.m1.1.1.2" xref="S5.T4.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S5.T4.1.1.1.1.m1.1.1.1" xref="S5.T4.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.1.1.1.1.m1.1.1.3" xref="S5.T4.1.1.1.1.m1.1.1.3.cmml">c</mi><mo id="S5.T4.1.1.1.1.m1.1.1.1a" xref="S5.T4.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.1.1.1.1.m1.1.1.4" xref="S5.T4.1.1.1.1.m1.1.1.4.cmml">c</mi><mo id="S5.T4.1.1.1.1.m1.1.1.1b" xref="S5.T4.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.1.1.1.1.m1.1.1.5" mathvariant="normal" xref="S5.T4.1.1.1.1.m1.1.1.5.cmml">@</mi><mo id="S5.T4.1.1.1.1.m1.1.1.1c" xref="S5.T4.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.1.1.1.1.m1.1.1.6" xref="S5.T4.1.1.1.1.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.1.1.1.1.m1.1b"><apply id="S5.T4.1.1.1.1.m1.1.1.cmml" xref="S5.T4.1.1.1.1.m1.1.1"><times id="S5.T4.1.1.1.1.m1.1.1.1.cmml" xref="S5.T4.1.1.1.1.m1.1.1.1"></times><ci id="S5.T4.1.1.1.1.m1.1.1.2.cmml" xref="S5.T4.1.1.1.1.m1.1.1.2">𝐴</ci><ci id="S5.T4.1.1.1.1.m1.1.1.3.cmml" xref="S5.T4.1.1.1.1.m1.1.1.3">𝑐</ci><ci id="S5.T4.1.1.1.1.m1.1.1.4.cmml" xref="S5.T4.1.1.1.1.m1.1.1.4">𝑐</ci><ci id="S5.T4.1.1.1.1.m1.1.1.5.cmml" xref="S5.T4.1.1.1.1.m1.1.1.5">@</ci><cn id="S5.T4.1.1.1.1.m1.1.1.6.cmml" type="integer" xref="S5.T4.1.1.1.1.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.1.1.1.1.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.T4.1.1.1.1.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.2.2.2.2" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.T4.2.2.2.2.m1.1"><semantics id="S5.T4.2.2.2.2.m1.1a"><mrow id="S5.T4.2.2.2.2.m1.1.1" xref="S5.T4.2.2.2.2.m1.1.1.cmml"><mi id="S5.T4.2.2.2.2.m1.1.1.2" xref="S5.T4.2.2.2.2.m1.1.1.2.cmml">A</mi><mo id="S5.T4.2.2.2.2.m1.1.1.1" xref="S5.T4.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.2.2.2.2.m1.1.1.3" xref="S5.T4.2.2.2.2.m1.1.1.3.cmml">c</mi><mo id="S5.T4.2.2.2.2.m1.1.1.1a" xref="S5.T4.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.2.2.2.2.m1.1.1.4" xref="S5.T4.2.2.2.2.m1.1.1.4.cmml">c</mi><mo id="S5.T4.2.2.2.2.m1.1.1.1b" xref="S5.T4.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.2.2.2.2.m1.1.1.5" mathvariant="normal" xref="S5.T4.2.2.2.2.m1.1.1.5.cmml">@</mi><mo id="S5.T4.2.2.2.2.m1.1.1.1c" xref="S5.T4.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.2.2.2.2.m1.1.1.6" xref="S5.T4.2.2.2.2.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.2.2.2.2.m1.1b"><apply id="S5.T4.2.2.2.2.m1.1.1.cmml" xref="S5.T4.2.2.2.2.m1.1.1"><times id="S5.T4.2.2.2.2.m1.1.1.1.cmml" xref="S5.T4.2.2.2.2.m1.1.1.1"></times><ci id="S5.T4.2.2.2.2.m1.1.1.2.cmml" xref="S5.T4.2.2.2.2.m1.1.1.2">𝐴</ci><ci id="S5.T4.2.2.2.2.m1.1.1.3.cmml" xref="S5.T4.2.2.2.2.m1.1.1.3">𝑐</ci><ci id="S5.T4.2.2.2.2.m1.1.1.4.cmml" xref="S5.T4.2.2.2.2.m1.1.1.4">𝑐</ci><ci id="S5.T4.2.2.2.2.m1.1.1.5.cmml" xref="S5.T4.2.2.2.2.m1.1.1.5">@</ci><cn id="S5.T4.2.2.2.2.m1.1.1.6.cmml" type="integer" xref="S5.T4.2.2.2.2.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.2.2.2.2.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.T4.2.2.2.2.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.3.3.3.3" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.T4.3.3.3.3.m1.1"><semantics id="S5.T4.3.3.3.3.m1.1a"><mrow id="S5.T4.3.3.3.3.m1.1.1" xref="S5.T4.3.3.3.3.m1.1.1.cmml"><mi id="S5.T4.3.3.3.3.m1.1.1.2" xref="S5.T4.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S5.T4.3.3.3.3.m1.1.1.1" xref="S5.T4.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.3.3.3.3.m1.1.1.3" xref="S5.T4.3.3.3.3.m1.1.1.3.cmml">c</mi><mo id="S5.T4.3.3.3.3.m1.1.1.1a" xref="S5.T4.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.3.3.3.3.m1.1.1.4" xref="S5.T4.3.3.3.3.m1.1.1.4.cmml">c</mi><mo id="S5.T4.3.3.3.3.m1.1.1.1b" xref="S5.T4.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.3.3.3.3.m1.1.1.5" mathvariant="normal" xref="S5.T4.3.3.3.3.m1.1.1.5.cmml">@</mi><mo id="S5.T4.3.3.3.3.m1.1.1.1c" xref="S5.T4.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.3.3.3.3.m1.1.1.6" xref="S5.T4.3.3.3.3.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.3.3.3.3.m1.1b"><apply id="S5.T4.3.3.3.3.m1.1.1.cmml" xref="S5.T4.3.3.3.3.m1.1.1"><times id="S5.T4.3.3.3.3.m1.1.1.1.cmml" xref="S5.T4.3.3.3.3.m1.1.1.1"></times><ci id="S5.T4.3.3.3.3.m1.1.1.2.cmml" xref="S5.T4.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S5.T4.3.3.3.3.m1.1.1.3.cmml" xref="S5.T4.3.3.3.3.m1.1.1.3">𝑐</ci><ci id="S5.T4.3.3.3.3.m1.1.1.4.cmml" xref="S5.T4.3.3.3.3.m1.1.1.4">𝑐</ci><ci id="S5.T4.3.3.3.3.m1.1.1.5.cmml" xref="S5.T4.3.3.3.3.m1.1.1.5">@</ci><cn id="S5.T4.3.3.3.3.m1.1.1.6.cmml" type="integer" xref="S5.T4.3.3.3.3.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.3.3.3.3.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.T4.3.3.3.3.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.4.4.4.4" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.T4.4.4.4.4.m1.1"><semantics id="S5.T4.4.4.4.4.m1.1a"><mrow id="S5.T4.4.4.4.4.m1.1.1" xref="S5.T4.4.4.4.4.m1.1.1.cmml"><mi id="S5.T4.4.4.4.4.m1.1.1.2" xref="S5.T4.4.4.4.4.m1.1.1.2.cmml">M</mi><mo id="S5.T4.4.4.4.4.m1.1.1.1" xref="S5.T4.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.4.4.4.4.m1.1.1.3" xref="S5.T4.4.4.4.4.m1.1.1.3.cmml">R</mi><mo id="S5.T4.4.4.4.4.m1.1.1.1a" xref="S5.T4.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.4.4.4.4.m1.1.1.4" xref="S5.T4.4.4.4.4.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.4.4.4.4.m1.1b"><apply id="S5.T4.4.4.4.4.m1.1.1.cmml" xref="S5.T4.4.4.4.4.m1.1.1"><times id="S5.T4.4.4.4.4.m1.1.1.1.cmml" xref="S5.T4.4.4.4.4.m1.1.1.1"></times><ci id="S5.T4.4.4.4.4.m1.1.1.2.cmml" xref="S5.T4.4.4.4.4.m1.1.1.2">𝑀</ci><ci id="S5.T4.4.4.4.4.m1.1.1.3.cmml" xref="S5.T4.4.4.4.4.m1.1.1.3">𝑅</ci><ci id="S5.T4.4.4.4.4.m1.1.1.4.cmml" xref="S5.T4.4.4.4.4.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.4.4.4.4.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.T4.4.4.4.4.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.T4.8.8.8.10" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.5.5.5.5" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.T4.5.5.5.5.m1.1"><semantics id="S5.T4.5.5.5.5.m1.1a"><mrow id="S5.T4.5.5.5.5.m1.1.1" xref="S5.T4.5.5.5.5.m1.1.1.cmml"><mi id="S5.T4.5.5.5.5.m1.1.1.2" xref="S5.T4.5.5.5.5.m1.1.1.2.cmml">A</mi><mo id="S5.T4.5.5.5.5.m1.1.1.1" xref="S5.T4.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.5.5.5.5.m1.1.1.3" xref="S5.T4.5.5.5.5.m1.1.1.3.cmml">c</mi><mo id="S5.T4.5.5.5.5.m1.1.1.1a" xref="S5.T4.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.5.5.5.5.m1.1.1.4" xref="S5.T4.5.5.5.5.m1.1.1.4.cmml">c</mi><mo id="S5.T4.5.5.5.5.m1.1.1.1b" xref="S5.T4.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.5.5.5.5.m1.1.1.5" mathvariant="normal" xref="S5.T4.5.5.5.5.m1.1.1.5.cmml">@</mi><mo id="S5.T4.5.5.5.5.m1.1.1.1c" xref="S5.T4.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.5.5.5.5.m1.1.1.6" xref="S5.T4.5.5.5.5.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.5.5.5.5.m1.1b"><apply id="S5.T4.5.5.5.5.m1.1.1.cmml" xref="S5.T4.5.5.5.5.m1.1.1"><times id="S5.T4.5.5.5.5.m1.1.1.1.cmml" xref="S5.T4.5.5.5.5.m1.1.1.1"></times><ci id="S5.T4.5.5.5.5.m1.1.1.2.cmml" xref="S5.T4.5.5.5.5.m1.1.1.2">𝐴</ci><ci id="S5.T4.5.5.5.5.m1.1.1.3.cmml" xref="S5.T4.5.5.5.5.m1.1.1.3">𝑐</ci><ci id="S5.T4.5.5.5.5.m1.1.1.4.cmml" xref="S5.T4.5.5.5.5.m1.1.1.4">𝑐</ci><ci id="S5.T4.5.5.5.5.m1.1.1.5.cmml" xref="S5.T4.5.5.5.5.m1.1.1.5">@</ci><cn id="S5.T4.5.5.5.5.m1.1.1.6.cmml" type="integer" xref="S5.T4.5.5.5.5.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.5.5.5.5.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.T4.5.5.5.5.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.6.6.6.6" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.T4.6.6.6.6.m1.1"><semantics id="S5.T4.6.6.6.6.m1.1a"><mrow id="S5.T4.6.6.6.6.m1.1.1" xref="S5.T4.6.6.6.6.m1.1.1.cmml"><mi id="S5.T4.6.6.6.6.m1.1.1.2" xref="S5.T4.6.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S5.T4.6.6.6.6.m1.1.1.1" xref="S5.T4.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.6.6.6.6.m1.1.1.3" xref="S5.T4.6.6.6.6.m1.1.1.3.cmml">c</mi><mo id="S5.T4.6.6.6.6.m1.1.1.1a" xref="S5.T4.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.6.6.6.6.m1.1.1.4" xref="S5.T4.6.6.6.6.m1.1.1.4.cmml">c</mi><mo id="S5.T4.6.6.6.6.m1.1.1.1b" xref="S5.T4.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.6.6.6.6.m1.1.1.5" mathvariant="normal" xref="S5.T4.6.6.6.6.m1.1.1.5.cmml">@</mi><mo id="S5.T4.6.6.6.6.m1.1.1.1c" xref="S5.T4.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.6.6.6.6.m1.1.1.6" xref="S5.T4.6.6.6.6.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.6.6.6.6.m1.1b"><apply id="S5.T4.6.6.6.6.m1.1.1.cmml" xref="S5.T4.6.6.6.6.m1.1.1"><times id="S5.T4.6.6.6.6.m1.1.1.1.cmml" xref="S5.T4.6.6.6.6.m1.1.1.1"></times><ci id="S5.T4.6.6.6.6.m1.1.1.2.cmml" xref="S5.T4.6.6.6.6.m1.1.1.2">𝐴</ci><ci id="S5.T4.6.6.6.6.m1.1.1.3.cmml" xref="S5.T4.6.6.6.6.m1.1.1.3">𝑐</ci><ci id="S5.T4.6.6.6.6.m1.1.1.4.cmml" xref="S5.T4.6.6.6.6.m1.1.1.4">𝑐</ci><ci id="S5.T4.6.6.6.6.m1.1.1.5.cmml" xref="S5.T4.6.6.6.6.m1.1.1.5">@</ci><cn id="S5.T4.6.6.6.6.m1.1.1.6.cmml" type="integer" xref="S5.T4.6.6.6.6.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.6.6.6.6.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.T4.6.6.6.6.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.7.7.7.7" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.T4.7.7.7.7.m1.1"><semantics id="S5.T4.7.7.7.7.m1.1a"><mrow id="S5.T4.7.7.7.7.m1.1.1" xref="S5.T4.7.7.7.7.m1.1.1.cmml"><mi id="S5.T4.7.7.7.7.m1.1.1.2" xref="S5.T4.7.7.7.7.m1.1.1.2.cmml">A</mi><mo id="S5.T4.7.7.7.7.m1.1.1.1" xref="S5.T4.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.7.7.7.7.m1.1.1.3" xref="S5.T4.7.7.7.7.m1.1.1.3.cmml">c</mi><mo id="S5.T4.7.7.7.7.m1.1.1.1a" xref="S5.T4.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.7.7.7.7.m1.1.1.4" xref="S5.T4.7.7.7.7.m1.1.1.4.cmml">c</mi><mo id="S5.T4.7.7.7.7.m1.1.1.1b" xref="S5.T4.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.7.7.7.7.m1.1.1.5" mathvariant="normal" xref="S5.T4.7.7.7.7.m1.1.1.5.cmml">@</mi><mo id="S5.T4.7.7.7.7.m1.1.1.1c" xref="S5.T4.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mn id="S5.T4.7.7.7.7.m1.1.1.6" xref="S5.T4.7.7.7.7.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.7.7.7.7.m1.1b"><apply id="S5.T4.7.7.7.7.m1.1.1.cmml" xref="S5.T4.7.7.7.7.m1.1.1"><times id="S5.T4.7.7.7.7.m1.1.1.1.cmml" xref="S5.T4.7.7.7.7.m1.1.1.1"></times><ci id="S5.T4.7.7.7.7.m1.1.1.2.cmml" xref="S5.T4.7.7.7.7.m1.1.1.2">𝐴</ci><ci id="S5.T4.7.7.7.7.m1.1.1.3.cmml" xref="S5.T4.7.7.7.7.m1.1.1.3">𝑐</ci><ci id="S5.T4.7.7.7.7.m1.1.1.4.cmml" xref="S5.T4.7.7.7.7.m1.1.1.4">𝑐</ci><ci id="S5.T4.7.7.7.7.m1.1.1.5.cmml" xref="S5.T4.7.7.7.7.m1.1.1.5">@</ci><cn id="S5.T4.7.7.7.7.m1.1.1.6.cmml" type="integer" xref="S5.T4.7.7.7.7.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.7.7.7.7.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.T4.7.7.7.7.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.T4.8.8.8.8" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.T4.8.8.8.8.m1.1"><semantics id="S5.T4.8.8.8.8.m1.1a"><mrow id="S5.T4.8.8.8.8.m1.1.1" xref="S5.T4.8.8.8.8.m1.1.1.cmml"><mi id="S5.T4.8.8.8.8.m1.1.1.2" xref="S5.T4.8.8.8.8.m1.1.1.2.cmml">M</mi><mo id="S5.T4.8.8.8.8.m1.1.1.1" xref="S5.T4.8.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.8.8.8.8.m1.1.1.3" xref="S5.T4.8.8.8.8.m1.1.1.3.cmml">R</mi><mo id="S5.T4.8.8.8.8.m1.1.1.1a" xref="S5.T4.8.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.T4.8.8.8.8.m1.1.1.4" xref="S5.T4.8.8.8.8.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T4.8.8.8.8.m1.1b"><apply id="S5.T4.8.8.8.8.m1.1.1.cmml" xref="S5.T4.8.8.8.8.m1.1.1"><times id="S5.T4.8.8.8.8.m1.1.1.1.cmml" xref="S5.T4.8.8.8.8.m1.1.1.1"></times><ci id="S5.T4.8.8.8.8.m1.1.1.2.cmml" xref="S5.T4.8.8.8.8.m1.1.1.2">𝑀</ci><ci id="S5.T4.8.8.8.8.m1.1.1.3.cmml" xref="S5.T4.8.8.8.8.m1.1.1.3">𝑅</ci><ci id="S5.T4.8.8.8.8.m1.1.1.4.cmml" xref="S5.T4.8.8.8.8.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T4.8.8.8.8.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.T4.8.8.8.8.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.T4.8.8.10.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.T4.8.8.10.1.1" style="padding:2.5pt 10.0pt;">Inactive</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.2" style="padding:2.5pt 10.0pt;">0.7817</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.3" style="padding:2.5pt 10.0pt;">0.8150</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.4" style="padding:2.5pt 10.0pt;">0.8267</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.5" style="padding:2.5pt 10.0pt;">0.7943</td>
<td class="ltx_td ltx_border_t" id="S5.T4.8.8.10.1.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.7" style="padding:2.5pt 10.0pt;">0.8100</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.8" style="padding:2.5pt 10.0pt;">0.8533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.9" style="padding:2.5pt 10.0pt;">0.8633</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.8.8.10.1.10" style="padding:2.5pt 10.0pt;">0.8887</td>
</tr>
<tr class="ltx_tr" id="S5.T4.8.8.11.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.T4.8.8.11.2.1" style="padding:2.5pt 10.0pt;">Normal</th>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.2" style="padding:2.5pt 10.0pt;">0.7733</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.3" style="padding:2.5pt 10.0pt;">0.8132</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.4" style="padding:2.5pt 10.0pt;">0.8333</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.5" style="padding:2.5pt 10.0pt;">0.7852</td>
<td class="ltx_td" id="S5.T4.8.8.11.2.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.7" style="padding:2.5pt 10.0pt;">0.8367</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.8" style="padding:2.5pt 10.0pt;">0.8733</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.9" style="padding:2.5pt 10.0pt;">0.8900</td>
<td class="ltx_td ltx_align_center" id="S5.T4.8.8.11.2.10" style="padding:2.5pt 10.0pt;">0.8524</td>
</tr>
<tr class="ltx_tr" id="S5.T4.8.8.12.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S5.T4.8.8.12.3.1" style="padding:2.5pt 10.0pt;">Very_active</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.2" style="padding:2.5pt 10.0pt;">0.8167</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.3" style="padding:2.5pt 10.0pt;">0.8500</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.4" style="padding:2.5pt 10.0pt;">0.8533</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.5" style="padding:2.5pt 10.0pt;">0.8251</td>
<td class="ltx_td ltx_border_b" id="S5.T4.8.8.12.3.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.7" style="padding:2.5pt 10.0pt;">0.8233</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.8" style="padding:2.5pt 10.0pt;">0.8700</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.9" style="padding:2.5pt 10.0pt;">0.8733</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.T4.8.8.12.3.10" style="padding:2.5pt 10.0pt;">0.8925</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>User Cold Start Analysis.</h3>
<div class="ltx_para" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.7">Users are categorized into three groups based on the trajectories number: <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.1">inactive</span> (bottom 30 in trajectory count), <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.2">normal</span>, and <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.3">very_active</span> (top 30 in trajectory count) in the training set to evaluate MAS4POI in mitigating the cold start issues. The experiment results are listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.T4" title="Table 4 ‣ 5.2 Main Results ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>.
It showed that the inactive users for <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.SS3.p1.1.m1.1"><semantics id="S5.SS3.p1.1.m1.1a"><mrow id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.p1.1.m1.1.1.2" xref="S5.SS3.p1.1.m1.1.1.2.cmml">A</mi><mo id="S5.SS3.p1.1.m1.1.1.1" xref="S5.SS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.1.m1.1.1.3" xref="S5.SS3.p1.1.m1.1.1.3.cmml">c</mi><mo id="S5.SS3.p1.1.m1.1.1.1a" xref="S5.SS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.1.m1.1.1.4" xref="S5.SS3.p1.1.m1.1.1.4.cmml">c</mi><mo id="S5.SS3.p1.1.m1.1.1.1b" xref="S5.SS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.1.m1.1.1.5" mathvariant="normal" xref="S5.SS3.p1.1.m1.1.1.5.cmml">@</mi><mo id="S5.SS3.p1.1.m1.1.1.1c" xref="S5.SS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.1.m1.1.1.6" xref="S5.SS3.p1.1.m1.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.1b"><apply id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1"><times id="S5.SS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1.1"></times><ci id="S5.SS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.p1.1.m1.1.1.2">𝐴</ci><ci id="S5.SS3.p1.1.m1.1.1.3.cmml" xref="S5.SS3.p1.1.m1.1.1.3">𝑐</ci><ci id="S5.SS3.p1.1.m1.1.1.4.cmml" xref="S5.SS3.p1.1.m1.1.1.4">𝑐</ci><ci id="S5.SS3.p1.1.m1.1.1.5.cmml" xref="S5.SS3.p1.1.m1.1.1.5">@</ci><ci id="S5.SS3.p1.1.m1.1.1.6.cmml" xref="S5.SS3.p1.1.m1.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.1c">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.1.m1.1d">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> (k=1,5,10) and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS3.p1.2.m2.1"><semantics id="S5.SS3.p1.2.m2.1a"><mrow id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.p1.2.m2.1.1.2" xref="S5.SS3.p1.2.m2.1.1.2.cmml">M</mi><mo id="S5.SS3.p1.2.m2.1.1.1" xref="S5.SS3.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.2.m2.1.1.3" xref="S5.SS3.p1.2.m2.1.1.3.cmml">R</mi><mo id="S5.SS3.p1.2.m2.1.1.1a" xref="S5.SS3.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.2.m2.1.1.4" xref="S5.SS3.p1.2.m2.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><apply id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1"><times id="S5.SS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1.1"></times><ci id="S5.SS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.p1.2.m2.1.1.2">𝑀</ci><ci id="S5.SS3.p1.2.m2.1.1.3.cmml" xref="S5.SS3.p1.2.m2.1.1.3">𝑅</ci><ci id="S5.SS3.p1.2.m2.1.1.4.cmml" xref="S5.SS3.p1.2.m2.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.2.m2.1d">italic_M italic_R italic_R</annotation></semantics></math> is slightly lower than the <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.4">very_active</span> users at the NYC dataset.
For example, the <math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.SS3.p1.3.m3.1"><semantics id="S5.SS3.p1.3.m3.1a"><mrow id="S5.SS3.p1.3.m3.1.1" xref="S5.SS3.p1.3.m3.1.1.cmml"><mi id="S5.SS3.p1.3.m3.1.1.2" xref="S5.SS3.p1.3.m3.1.1.2.cmml">A</mi><mo id="S5.SS3.p1.3.m3.1.1.1" xref="S5.SS3.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.3.m3.1.1.3" xref="S5.SS3.p1.3.m3.1.1.3.cmml">c</mi><mo id="S5.SS3.p1.3.m3.1.1.1a" xref="S5.SS3.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.3.m3.1.1.4" xref="S5.SS3.p1.3.m3.1.1.4.cmml">c</mi><mo id="S5.SS3.p1.3.m3.1.1.1b" xref="S5.SS3.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.3.m3.1.1.5" mathvariant="normal" xref="S5.SS3.p1.3.m3.1.1.5.cmml">@</mi><mo id="S5.SS3.p1.3.m3.1.1.1c" xref="S5.SS3.p1.3.m3.1.1.1.cmml">⁢</mo><mn id="S5.SS3.p1.3.m3.1.1.6" xref="S5.SS3.p1.3.m3.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.3.m3.1b"><apply id="S5.SS3.p1.3.m3.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1"><times id="S5.SS3.p1.3.m3.1.1.1.cmml" xref="S5.SS3.p1.3.m3.1.1.1"></times><ci id="S5.SS3.p1.3.m3.1.1.2.cmml" xref="S5.SS3.p1.3.m3.1.1.2">𝐴</ci><ci id="S5.SS3.p1.3.m3.1.1.3.cmml" xref="S5.SS3.p1.3.m3.1.1.3">𝑐</ci><ci id="S5.SS3.p1.3.m3.1.1.4.cmml" xref="S5.SS3.p1.3.m3.1.1.4">𝑐</ci><ci id="S5.SS3.p1.3.m3.1.1.5.cmml" xref="S5.SS3.p1.3.m3.1.1.5">@</ci><cn id="S5.SS3.p1.3.m3.1.1.6.cmml" type="integer" xref="S5.SS3.p1.3.m3.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.3.m3.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.3.m3.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS3.p1.4.m4.1"><semantics id="S5.SS3.p1.4.m4.1a"><mrow id="S5.SS3.p1.4.m4.1.1" xref="S5.SS3.p1.4.m4.1.1.cmml"><mi id="S5.SS3.p1.4.m4.1.1.2" xref="S5.SS3.p1.4.m4.1.1.2.cmml">M</mi><mo id="S5.SS3.p1.4.m4.1.1.1" xref="S5.SS3.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.4.m4.1.1.3" xref="S5.SS3.p1.4.m4.1.1.3.cmml">R</mi><mo id="S5.SS3.p1.4.m4.1.1.1a" xref="S5.SS3.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.4.m4.1.1.4" xref="S5.SS3.p1.4.m4.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.4.m4.1b"><apply id="S5.SS3.p1.4.m4.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1"><times id="S5.SS3.p1.4.m4.1.1.1.cmml" xref="S5.SS3.p1.4.m4.1.1.1"></times><ci id="S5.SS3.p1.4.m4.1.1.2.cmml" xref="S5.SS3.p1.4.m4.1.1.2">𝑀</ci><ci id="S5.SS3.p1.4.m4.1.1.3.cmml" xref="S5.SS3.p1.4.m4.1.1.3">𝑅</ci><ci id="S5.SS3.p1.4.m4.1.1.4.cmml" xref="S5.SS3.p1.4.m4.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.4.m4.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.4.m4.1d">italic_M italic_R italic_R</annotation></semantics></math> difference between the inactive and the <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.5">very_active</span> users at the NYC dataset is only 2.66% and 3.08% respectively.
For TKY dataset, the gap is also limited: the inactive users at <math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.SS3.p1.5.m5.1"><semantics id="S5.SS3.p1.5.m5.1a"><mrow id="S5.SS3.p1.5.m5.1.1" xref="S5.SS3.p1.5.m5.1.1.cmml"><mi id="S5.SS3.p1.5.m5.1.1.2" xref="S5.SS3.p1.5.m5.1.1.2.cmml">A</mi><mo id="S5.SS3.p1.5.m5.1.1.1" xref="S5.SS3.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.5.m5.1.1.3" xref="S5.SS3.p1.5.m5.1.1.3.cmml">c</mi><mo id="S5.SS3.p1.5.m5.1.1.1a" xref="S5.SS3.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.5.m5.1.1.4" xref="S5.SS3.p1.5.m5.1.1.4.cmml">c</mi><mo id="S5.SS3.p1.5.m5.1.1.1b" xref="S5.SS3.p1.5.m5.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.5.m5.1.1.5" mathvariant="normal" xref="S5.SS3.p1.5.m5.1.1.5.cmml">@</mi><mo id="S5.SS3.p1.5.m5.1.1.1c" xref="S5.SS3.p1.5.m5.1.1.1.cmml">⁢</mo><mn id="S5.SS3.p1.5.m5.1.1.6" xref="S5.SS3.p1.5.m5.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.5.m5.1b"><apply id="S5.SS3.p1.5.m5.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1"><times id="S5.SS3.p1.5.m5.1.1.1.cmml" xref="S5.SS3.p1.5.m5.1.1.1"></times><ci id="S5.SS3.p1.5.m5.1.1.2.cmml" xref="S5.SS3.p1.5.m5.1.1.2">𝐴</ci><ci id="S5.SS3.p1.5.m5.1.1.3.cmml" xref="S5.SS3.p1.5.m5.1.1.3">𝑐</ci><ci id="S5.SS3.p1.5.m5.1.1.4.cmml" xref="S5.SS3.p1.5.m5.1.1.4">𝑐</ci><ci id="S5.SS3.p1.5.m5.1.1.5.cmml" xref="S5.SS3.p1.5.m5.1.1.5">@</ci><cn id="S5.SS3.p1.5.m5.1.1.6.cmml" type="integer" xref="S5.SS3.p1.5.m5.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.5.m5.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.5.m5.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math> scores 0.8100, compared to the <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.6">very_active</span> users scores 0.8233.
For <math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.SS3.p1.6.m6.1"><semantics id="S5.SS3.p1.6.m6.1a"><mrow id="S5.SS3.p1.6.m6.1.1" xref="S5.SS3.p1.6.m6.1.1.cmml"><mi id="S5.SS3.p1.6.m6.1.1.2" xref="S5.SS3.p1.6.m6.1.1.2.cmml">A</mi><mo id="S5.SS3.p1.6.m6.1.1.1" xref="S5.SS3.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.6.m6.1.1.3" xref="S5.SS3.p1.6.m6.1.1.3.cmml">c</mi><mo id="S5.SS3.p1.6.m6.1.1.1a" xref="S5.SS3.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.6.m6.1.1.4" xref="S5.SS3.p1.6.m6.1.1.4.cmml">c</mi><mo id="S5.SS3.p1.6.m6.1.1.1b" xref="S5.SS3.p1.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.6.m6.1.1.5" mathvariant="normal" xref="S5.SS3.p1.6.m6.1.1.5.cmml">@</mi><mo id="S5.SS3.p1.6.m6.1.1.1c" xref="S5.SS3.p1.6.m6.1.1.1.cmml">⁢</mo><mn id="S5.SS3.p1.6.m6.1.1.6" xref="S5.SS3.p1.6.m6.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.6.m6.1b"><apply id="S5.SS3.p1.6.m6.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1"><times id="S5.SS3.p1.6.m6.1.1.1.cmml" xref="S5.SS3.p1.6.m6.1.1.1"></times><ci id="S5.SS3.p1.6.m6.1.1.2.cmml" xref="S5.SS3.p1.6.m6.1.1.2">𝐴</ci><ci id="S5.SS3.p1.6.m6.1.1.3.cmml" xref="S5.SS3.p1.6.m6.1.1.3">𝑐</ci><ci id="S5.SS3.p1.6.m6.1.1.4.cmml" xref="S5.SS3.p1.6.m6.1.1.4">𝑐</ci><ci id="S5.SS3.p1.6.m6.1.1.5.cmml" xref="S5.SS3.p1.6.m6.1.1.5">@</ci><cn id="S5.SS3.p1.6.m6.1.1.6.cmml" type="integer" xref="S5.SS3.p1.6.m6.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.6.m6.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.6.m6.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math> and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS3.p1.7.m7.1"><semantics id="S5.SS3.p1.7.m7.1a"><mrow id="S5.SS3.p1.7.m7.1.1" xref="S5.SS3.p1.7.m7.1.1.cmml"><mi id="S5.SS3.p1.7.m7.1.1.2" xref="S5.SS3.p1.7.m7.1.1.2.cmml">M</mi><mo id="S5.SS3.p1.7.m7.1.1.1" xref="S5.SS3.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.7.m7.1.1.3" xref="S5.SS3.p1.7.m7.1.1.3.cmml">R</mi><mo id="S5.SS3.p1.7.m7.1.1.1a" xref="S5.SS3.p1.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS3.p1.7.m7.1.1.4" xref="S5.SS3.p1.7.m7.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.7.m7.1b"><apply id="S5.SS3.p1.7.m7.1.1.cmml" xref="S5.SS3.p1.7.m7.1.1"><times id="S5.SS3.p1.7.m7.1.1.1.cmml" xref="S5.SS3.p1.7.m7.1.1.1"></times><ci id="S5.SS3.p1.7.m7.1.1.2.cmml" xref="S5.SS3.p1.7.m7.1.1.2">𝑀</ci><ci id="S5.SS3.p1.7.m7.1.1.3.cmml" xref="S5.SS3.p1.7.m7.1.1.3">𝑅</ci><ci id="S5.SS3.p1.7.m7.1.1.4.cmml" xref="S5.SS3.p1.7.m7.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.7.m7.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.p1.7.m7.1d">italic_M italic_R italic_R</annotation></semantics></math>, the inactive users is near or slightly lower than the <span class="ltx_text ltx_font_italic" id="S5.SS3.p1.7.7">very_active</span> users, which underscored MAS4POI to mitigate the cold start issues for the inactive users effectively.
This is attributed to the collaboration between multiple agents.
The overlap in POI trajectories among different users allows the Analyst to support the structured check-in records constructed by the DataAgent to identify suitable candidate POIs, even if an inactive user’s own trajectory is limited i.e. users often visit CaffeeShop or PublicTransitStations at weekday mornings.
Additionally, the Reflector enhances system’s accuracy by correcting and refining the Manager’s final output.
The Reflector experiments are described in  <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.SS5" title="5.5 Ablation Study ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">5.5</span></a>.</p>
</div>
<figure class="ltx_figure" id="S5.F3">
<p class="ltx_p" id="S5.F3.1"><span class="ltx_text ltx_inline-block" id="S5.F3.1.1" style="width:433.6pt;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="467" id="S5.F3.1.1.g1" src="x3.png" width="830"/>
</span></p>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F3.5.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S5.F3.6.2" style="font-size:90%;">MAS4POI Workflow with Key Elements Highlighted (Red: incorrect POI recommendations initially generated by <span class="ltx_text ltx_font_italic" id="S5.F3.6.2.1">Analyst</span>, Blue: Refined POI recommendation output, Orange: REFLECTION process carried out by <span class="ltx_text ltx_font_italic" id="S5.F3.6.2.2">Reflector</span>, Green: API Results, Purple: User Requests)</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Case Study</h3>
<div class="ltx_para" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.2">A MAS4POI’s workflow using the NYC dataset is illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.F3" title="Figure 3 ‣ 5.3 User Cold Start Analysis. ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>.
It showed that the Manager oversaw the Analyst to generate initial recommendations from user’s requirements on the next POI recommendation task, but these recommendations often have geographical mismatches.
For example 1) 244̃0 Sherman Ave is located at Jersey City, does not meet the user’s requirement for POIs current location (New York), 2) time factors are disregarded such as BCC West Hall was not near to the public at specific times. Hence, the Reflector corrects these recommendations by focusing on the user’s real-time location to prioritize nearby POIs.
For example, the current POI to CalvaryHospital is only an 11-minute drive. Additionally, the user<sub class="ltx_sub" id="S5.SS4.p1.2.1"><span class="ltx_text ltx_font_italic" id="S5.SS4.p1.2.1.1">id=150</span></sub> frequently visits places about performing arts such as PerformingArtsVenue and Theater, resulting WalterKerrTheatre is a personalized recommendation based on this context since user<sub class="ltx_sub" id="S5.SS4.p1.2.2"><span class="ltx_text ltx_font_italic" id="S5.SS4.p1.2.2.1">id=150</span></sub> complete historical trajectories are provided by the system’s open-source code.
For Q&amp;A, MAS4POI supports user queries through the Searcher.
For example, when the user expresses interest in St. Patrick’s Cathedral the Searcher retrieves detailed information and summarizes historical data from a reliable source like <span class="ltx_text ltx_font_typewriter" id="S5.SS4.p1.2.3">Wikipedia</span> and <span class="ltx_text ltx_font_typewriter" id="S5.SS4.p1.2.4">Bing</span>.
Additionally, the Navigator generates an optimal route with clear instructions and a static map for user’s decision-making.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.5 </span>Ablation Study</h3>
<div class="ltx_para" id="S5.SS5.p1">
<p class="ltx_p" id="S5.SS5.p1.4">This section examines the <span class="ltx_text ltx_font_bold" id="S5.SS5.p1.4.1">REFLECTION</span> and <span class="ltx_text ltx_font_bold" id="S5.SS5.p1.4.2">REFINE</span> stage iterations of the Reflector in MAS4POI’s performance.
The results are illustrated in Fig. <a class="ltx_ref" href="https://arxiv.org/html/2409.13700v1#S5.F4" title="Figure 4 ‣ 5.5 Ablation Study ‣ 5 Experiments ‣ MAS4POI: a Multi-Agents Collaboration System for Next POI Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>.
It showed that MAS4POI improves performance across different datasets as the stages number increase.
For example, at the TKY dataset, transitioning from state <math alttext="y_{0}" class="ltx_Math" display="inline" id="S5.SS5.p1.1.m1.1"><semantics id="S5.SS5.p1.1.m1.1a"><msub id="S5.SS5.p1.1.m1.1.1" xref="S5.SS5.p1.1.m1.1.1.cmml"><mi id="S5.SS5.p1.1.m1.1.1.2" xref="S5.SS5.p1.1.m1.1.1.2.cmml">y</mi><mn id="S5.SS5.p1.1.m1.1.1.3" xref="S5.SS5.p1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.1.m1.1b"><apply id="S5.SS5.p1.1.m1.1.1.cmml" xref="S5.SS5.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS5.p1.1.m1.1.1.1.cmml" xref="S5.SS5.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS5.p1.1.m1.1.1.2.cmml" xref="S5.SS5.p1.1.m1.1.1.2">𝑦</ci><cn id="S5.SS5.p1.1.m1.1.1.3.cmml" type="integer" xref="S5.SS5.p1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.1.m1.1c">y_{0}</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.1.m1.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math> (without Reflector) to <math alttext="y_{1}" class="ltx_Math" display="inline" id="S5.SS5.p1.2.m2.1"><semantics id="S5.SS5.p1.2.m2.1a"><msub id="S5.SS5.p1.2.m2.1.1" xref="S5.SS5.p1.2.m2.1.1.cmml"><mi id="S5.SS5.p1.2.m2.1.1.2" xref="S5.SS5.p1.2.m2.1.1.2.cmml">y</mi><mn id="S5.SS5.p1.2.m2.1.1.3" xref="S5.SS5.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.2.m2.1b"><apply id="S5.SS5.p1.2.m2.1.1.cmml" xref="S5.SS5.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS5.p1.2.m2.1.1.1.cmml" xref="S5.SS5.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS5.p1.2.m2.1.1.2.cmml" xref="S5.SS5.p1.2.m2.1.1.2">𝑦</ci><cn id="S5.SS5.p1.2.m2.1.1.3.cmml" type="integer" xref="S5.SS5.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.2.m2.1c">y_{1}</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.2.m2.1d">italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> resulted 5.43%, 3.65%, 3.63%, and 5.38% at <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.SS5.p1.3.m3.1"><semantics id="S5.SS5.p1.3.m3.1a"><mrow id="S5.SS5.p1.3.m3.1.1" xref="S5.SS5.p1.3.m3.1.1.cmml"><mi id="S5.SS5.p1.3.m3.1.1.2" xref="S5.SS5.p1.3.m3.1.1.2.cmml">A</mi><mo id="S5.SS5.p1.3.m3.1.1.1" xref="S5.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.3.m3.1.1.3" xref="S5.SS5.p1.3.m3.1.1.3.cmml">c</mi><mo id="S5.SS5.p1.3.m3.1.1.1a" xref="S5.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.3.m3.1.1.4" xref="S5.SS5.p1.3.m3.1.1.4.cmml">c</mi><mo id="S5.SS5.p1.3.m3.1.1.1b" xref="S5.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.3.m3.1.1.5" mathvariant="normal" xref="S5.SS5.p1.3.m3.1.1.5.cmml">@</mi><mo id="S5.SS5.p1.3.m3.1.1.1c" xref="S5.SS5.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.3.m3.1.1.6" xref="S5.SS5.p1.3.m3.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.3.m3.1b"><apply id="S5.SS5.p1.3.m3.1.1.cmml" xref="S5.SS5.p1.3.m3.1.1"><times id="S5.SS5.p1.3.m3.1.1.1.cmml" xref="S5.SS5.p1.3.m3.1.1.1"></times><ci id="S5.SS5.p1.3.m3.1.1.2.cmml" xref="S5.SS5.p1.3.m3.1.1.2">𝐴</ci><ci id="S5.SS5.p1.3.m3.1.1.3.cmml" xref="S5.SS5.p1.3.m3.1.1.3">𝑐</ci><ci id="S5.SS5.p1.3.m3.1.1.4.cmml" xref="S5.SS5.p1.3.m3.1.1.4">𝑐</ci><ci id="S5.SS5.p1.3.m3.1.1.5.cmml" xref="S5.SS5.p1.3.m3.1.1.5">@</ci><ci id="S5.SS5.p1.3.m3.1.1.6.cmml" xref="S5.SS5.p1.3.m3.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.3.m3.1c">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.3.m3.1d">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> (k=1, k=5, k=10) and <math alttext="MRR" class="ltx_Math" display="inline" id="S5.SS5.p1.4.m4.1"><semantics id="S5.SS5.p1.4.m4.1a"><mrow id="S5.SS5.p1.4.m4.1.1" xref="S5.SS5.p1.4.m4.1.1.cmml"><mi id="S5.SS5.p1.4.m4.1.1.2" xref="S5.SS5.p1.4.m4.1.1.2.cmml">M</mi><mo id="S5.SS5.p1.4.m4.1.1.1" xref="S5.SS5.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.4.m4.1.1.3" xref="S5.SS5.p1.4.m4.1.1.3.cmml">R</mi><mo id="S5.SS5.p1.4.m4.1.1.1a" xref="S5.SS5.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS5.p1.4.m4.1.1.4" xref="S5.SS5.p1.4.m4.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS5.p1.4.m4.1b"><apply id="S5.SS5.p1.4.m4.1.1.cmml" xref="S5.SS5.p1.4.m4.1.1"><times id="S5.SS5.p1.4.m4.1.1.1.cmml" xref="S5.SS5.p1.4.m4.1.1.1"></times><ci id="S5.SS5.p1.4.m4.1.1.2.cmml" xref="S5.SS5.p1.4.m4.1.1.2">𝑀</ci><ci id="S5.SS5.p1.4.m4.1.1.3.cmml" xref="S5.SS5.p1.4.m4.1.1.3">𝑅</ci><ci id="S5.SS5.p1.4.m4.1.1.4.cmml" xref="S5.SS5.p1.4.m4.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS5.p1.4.m4.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.SS5.p1.4.m4.1d">italic_M italic_R italic_R</annotation></semantics></math> respectively.
For the NYC dataset, the performance results increase from the initial 0.7166, 0.7566, 0.7833, and 0.7363 to 0.7680, 0.7940, 0.8070, and 0.7691 after three iterationsaccordingly. However, it is noted that the improvement gradually diminish at the MRR metric in particular and time cost increase as the Reflector’s REFLECTION and REFINE iterations number increase.</p>
</div>
<figure class="ltx_figure" id="S5.F4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S5.F4.22.3.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text ltx_font_bold" id="S5.F4.4.2" style="font-size:90%;">Upper<span class="ltx_text ltx_font_medium" id="S5.F4.4.2.2">: This table shows the improvement in <math alttext="Acc@k" class="ltx_Math" display="inline" id="S5.F4.3.1.1.m1.1"><semantics id="S5.F4.3.1.1.m1.1b"><mrow id="S5.F4.3.1.1.m1.1.1" xref="S5.F4.3.1.1.m1.1.1.cmml"><mi id="S5.F4.3.1.1.m1.1.1.2" xref="S5.F4.3.1.1.m1.1.1.2.cmml">A</mi><mo id="S5.F4.3.1.1.m1.1.1.1" xref="S5.F4.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.3.1.1.m1.1.1.3" xref="S5.F4.3.1.1.m1.1.1.3.cmml">c</mi><mo id="S5.F4.3.1.1.m1.1.1.1b" xref="S5.F4.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.3.1.1.m1.1.1.4" xref="S5.F4.3.1.1.m1.1.1.4.cmml">c</mi><mo id="S5.F4.3.1.1.m1.1.1.1c" xref="S5.F4.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.3.1.1.m1.1.1.5" mathvariant="normal" xref="S5.F4.3.1.1.m1.1.1.5.cmml">@</mi><mo id="S5.F4.3.1.1.m1.1.1.1d" xref="S5.F4.3.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.3.1.1.m1.1.1.6" xref="S5.F4.3.1.1.m1.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.3.1.1.m1.1c"><apply id="S5.F4.3.1.1.m1.1.1.cmml" xref="S5.F4.3.1.1.m1.1.1"><times id="S5.F4.3.1.1.m1.1.1.1.cmml" xref="S5.F4.3.1.1.m1.1.1.1"></times><ci id="S5.F4.3.1.1.m1.1.1.2.cmml" xref="S5.F4.3.1.1.m1.1.1.2">𝐴</ci><ci id="S5.F4.3.1.1.m1.1.1.3.cmml" xref="S5.F4.3.1.1.m1.1.1.3">𝑐</ci><ci id="S5.F4.3.1.1.m1.1.1.4.cmml" xref="S5.F4.3.1.1.m1.1.1.4">𝑐</ci><ci id="S5.F4.3.1.1.m1.1.1.5.cmml" xref="S5.F4.3.1.1.m1.1.1.5">@</ci><ci id="S5.F4.3.1.1.m1.1.1.6.cmml" xref="S5.F4.3.1.1.m1.1.1.6">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.3.1.1.m1.1d">Acc@k</annotation><annotation encoding="application/x-llamapun" id="S5.F4.3.1.1.m1.1e">italic_A italic_c italic_c @ italic_k</annotation></semantics></math> and MRR with different states based on GPT-3.5-Turbo, when state equals to <math alttext="y_{0}" class="ltx_Math" display="inline" id="S5.F4.4.2.2.m2.1"><semantics id="S5.F4.4.2.2.m2.1b"><msub id="S5.F4.4.2.2.m2.1.1" xref="S5.F4.4.2.2.m2.1.1.cmml"><mi id="S5.F4.4.2.2.m2.1.1.2" xref="S5.F4.4.2.2.m2.1.1.2.cmml">y</mi><mn id="S5.F4.4.2.2.m2.1.1.3" xref="S5.F4.4.2.2.m2.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.4.2.2.m2.1c"><apply id="S5.F4.4.2.2.m2.1.1.cmml" xref="S5.F4.4.2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.F4.4.2.2.m2.1.1.1.cmml" xref="S5.F4.4.2.2.m2.1.1">subscript</csymbol><ci id="S5.F4.4.2.2.m2.1.1.2.cmml" xref="S5.F4.4.2.2.m2.1.1.2">𝑦</ci><cn id="S5.F4.4.2.2.m2.1.1.3.cmml" type="integer" xref="S5.F4.4.2.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.4.2.2.m2.1d">y_{0}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.4.2.2.m2.1e">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>, it indicates no use of <span class="ltx_text ltx_font_italic" id="S5.F4.4.2.2.1">Reflector</span>. </span>Below<span class="ltx_text ltx_font_medium" id="S5.F4.4.2.3">: This shows performance improvements with iterations.</span></span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_inline-block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle ltx_transformed_outer" id="S5.F4.16.12" style="width:433.6pt;height:100.7pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-17.8pt,4.1pt) scale(0.924150911317776,0.924150911317776) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S5.F4.16.12.12">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S5.F4.16.12.12.13.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S5.F4.16.12.12.13.1.1" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.F4.16.12.12.13.1.2" style="padding:2.5pt 10.0pt;">NYC</th>
<th class="ltx_td ltx_th ltx_th_column ltx_border_t" id="S5.F4.16.12.12.13.1.3" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" colspan="4" id="S5.F4.16.12.12.13.1.4" style="padding:2.5pt 10.0pt;">TKY</th>
</tr>
<tr class="ltx_tr" id="S5.F4.12.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" id="S5.F4.12.8.8.8.9" style="padding:2.5pt 10.0pt;">States</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.5.1.1.1.1" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.F4.5.1.1.1.1.m1.1"><semantics id="S5.F4.5.1.1.1.1.m1.1a"><mrow id="S5.F4.5.1.1.1.1.m1.1.1" xref="S5.F4.5.1.1.1.1.m1.1.1.cmml"><mi id="S5.F4.5.1.1.1.1.m1.1.1.2" xref="S5.F4.5.1.1.1.1.m1.1.1.2.cmml">A</mi><mo id="S5.F4.5.1.1.1.1.m1.1.1.1" xref="S5.F4.5.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.5.1.1.1.1.m1.1.1.3" xref="S5.F4.5.1.1.1.1.m1.1.1.3.cmml">c</mi><mo id="S5.F4.5.1.1.1.1.m1.1.1.1a" xref="S5.F4.5.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.5.1.1.1.1.m1.1.1.4" xref="S5.F4.5.1.1.1.1.m1.1.1.4.cmml">c</mi><mo id="S5.F4.5.1.1.1.1.m1.1.1.1b" xref="S5.F4.5.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.5.1.1.1.1.m1.1.1.5" mathvariant="normal" xref="S5.F4.5.1.1.1.1.m1.1.1.5.cmml">@</mi><mo id="S5.F4.5.1.1.1.1.m1.1.1.1c" xref="S5.F4.5.1.1.1.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.5.1.1.1.1.m1.1.1.6" xref="S5.F4.5.1.1.1.1.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.5.1.1.1.1.m1.1b"><apply id="S5.F4.5.1.1.1.1.m1.1.1.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1"><times id="S5.F4.5.1.1.1.1.m1.1.1.1.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1.1"></times><ci id="S5.F4.5.1.1.1.1.m1.1.1.2.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1.2">𝐴</ci><ci id="S5.F4.5.1.1.1.1.m1.1.1.3.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1.3">𝑐</ci><ci id="S5.F4.5.1.1.1.1.m1.1.1.4.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1.4">𝑐</ci><ci id="S5.F4.5.1.1.1.1.m1.1.1.5.cmml" xref="S5.F4.5.1.1.1.1.m1.1.1.5">@</ci><cn id="S5.F4.5.1.1.1.1.m1.1.1.6.cmml" type="integer" xref="S5.F4.5.1.1.1.1.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.5.1.1.1.1.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.F4.5.1.1.1.1.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.6.2.2.2.2" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.F4.6.2.2.2.2.m1.1"><semantics id="S5.F4.6.2.2.2.2.m1.1a"><mrow id="S5.F4.6.2.2.2.2.m1.1.1" xref="S5.F4.6.2.2.2.2.m1.1.1.cmml"><mi id="S5.F4.6.2.2.2.2.m1.1.1.2" xref="S5.F4.6.2.2.2.2.m1.1.1.2.cmml">A</mi><mo id="S5.F4.6.2.2.2.2.m1.1.1.1" xref="S5.F4.6.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.6.2.2.2.2.m1.1.1.3" xref="S5.F4.6.2.2.2.2.m1.1.1.3.cmml">c</mi><mo id="S5.F4.6.2.2.2.2.m1.1.1.1a" xref="S5.F4.6.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.6.2.2.2.2.m1.1.1.4" xref="S5.F4.6.2.2.2.2.m1.1.1.4.cmml">c</mi><mo id="S5.F4.6.2.2.2.2.m1.1.1.1b" xref="S5.F4.6.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.6.2.2.2.2.m1.1.1.5" mathvariant="normal" xref="S5.F4.6.2.2.2.2.m1.1.1.5.cmml">@</mi><mo id="S5.F4.6.2.2.2.2.m1.1.1.1c" xref="S5.F4.6.2.2.2.2.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.6.2.2.2.2.m1.1.1.6" xref="S5.F4.6.2.2.2.2.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.6.2.2.2.2.m1.1b"><apply id="S5.F4.6.2.2.2.2.m1.1.1.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1"><times id="S5.F4.6.2.2.2.2.m1.1.1.1.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1.1"></times><ci id="S5.F4.6.2.2.2.2.m1.1.1.2.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1.2">𝐴</ci><ci id="S5.F4.6.2.2.2.2.m1.1.1.3.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1.3">𝑐</ci><ci id="S5.F4.6.2.2.2.2.m1.1.1.4.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1.4">𝑐</ci><ci id="S5.F4.6.2.2.2.2.m1.1.1.5.cmml" xref="S5.F4.6.2.2.2.2.m1.1.1.5">@</ci><cn id="S5.F4.6.2.2.2.2.m1.1.1.6.cmml" type="integer" xref="S5.F4.6.2.2.2.2.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.6.2.2.2.2.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.F4.6.2.2.2.2.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.7.3.3.3.3" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.F4.7.3.3.3.3.m1.1"><semantics id="S5.F4.7.3.3.3.3.m1.1a"><mrow id="S5.F4.7.3.3.3.3.m1.1.1" xref="S5.F4.7.3.3.3.3.m1.1.1.cmml"><mi id="S5.F4.7.3.3.3.3.m1.1.1.2" xref="S5.F4.7.3.3.3.3.m1.1.1.2.cmml">A</mi><mo id="S5.F4.7.3.3.3.3.m1.1.1.1" xref="S5.F4.7.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.7.3.3.3.3.m1.1.1.3" xref="S5.F4.7.3.3.3.3.m1.1.1.3.cmml">c</mi><mo id="S5.F4.7.3.3.3.3.m1.1.1.1a" xref="S5.F4.7.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.7.3.3.3.3.m1.1.1.4" xref="S5.F4.7.3.3.3.3.m1.1.1.4.cmml">c</mi><mo id="S5.F4.7.3.3.3.3.m1.1.1.1b" xref="S5.F4.7.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.7.3.3.3.3.m1.1.1.5" mathvariant="normal" xref="S5.F4.7.3.3.3.3.m1.1.1.5.cmml">@</mi><mo id="S5.F4.7.3.3.3.3.m1.1.1.1c" xref="S5.F4.7.3.3.3.3.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.7.3.3.3.3.m1.1.1.6" xref="S5.F4.7.3.3.3.3.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.7.3.3.3.3.m1.1b"><apply id="S5.F4.7.3.3.3.3.m1.1.1.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1"><times id="S5.F4.7.3.3.3.3.m1.1.1.1.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1.1"></times><ci id="S5.F4.7.3.3.3.3.m1.1.1.2.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1.2">𝐴</ci><ci id="S5.F4.7.3.3.3.3.m1.1.1.3.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1.3">𝑐</ci><ci id="S5.F4.7.3.3.3.3.m1.1.1.4.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1.4">𝑐</ci><ci id="S5.F4.7.3.3.3.3.m1.1.1.5.cmml" xref="S5.F4.7.3.3.3.3.m1.1.1.5">@</ci><cn id="S5.F4.7.3.3.3.3.m1.1.1.6.cmml" type="integer" xref="S5.F4.7.3.3.3.3.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.7.3.3.3.3.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.F4.7.3.3.3.3.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.8.4.4.4.4" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.F4.8.4.4.4.4.m1.1"><semantics id="S5.F4.8.4.4.4.4.m1.1a"><mrow id="S5.F4.8.4.4.4.4.m1.1.1" xref="S5.F4.8.4.4.4.4.m1.1.1.cmml"><mi id="S5.F4.8.4.4.4.4.m1.1.1.2" xref="S5.F4.8.4.4.4.4.m1.1.1.2.cmml">M</mi><mo id="S5.F4.8.4.4.4.4.m1.1.1.1" xref="S5.F4.8.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.8.4.4.4.4.m1.1.1.3" xref="S5.F4.8.4.4.4.4.m1.1.1.3.cmml">R</mi><mo id="S5.F4.8.4.4.4.4.m1.1.1.1a" xref="S5.F4.8.4.4.4.4.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.8.4.4.4.4.m1.1.1.4" xref="S5.F4.8.4.4.4.4.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.8.4.4.4.4.m1.1b"><apply id="S5.F4.8.4.4.4.4.m1.1.1.cmml" xref="S5.F4.8.4.4.4.4.m1.1.1"><times id="S5.F4.8.4.4.4.4.m1.1.1.1.cmml" xref="S5.F4.8.4.4.4.4.m1.1.1.1"></times><ci id="S5.F4.8.4.4.4.4.m1.1.1.2.cmml" xref="S5.F4.8.4.4.4.4.m1.1.1.2">𝑀</ci><ci id="S5.F4.8.4.4.4.4.m1.1.1.3.cmml" xref="S5.F4.8.4.4.4.4.m1.1.1.3">𝑅</ci><ci id="S5.F4.8.4.4.4.4.m1.1.1.4.cmml" xref="S5.F4.8.4.4.4.4.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.8.4.4.4.4.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.F4.8.4.4.4.4.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
<th class="ltx_td ltx_th ltx_th_column" id="S5.F4.12.8.8.8.10" style="padding:2.5pt 10.0pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.9.5.5.5.5" style="padding:2.5pt 10.0pt;"><math alttext="Acc@1" class="ltx_Math" display="inline" id="S5.F4.9.5.5.5.5.m1.1"><semantics id="S5.F4.9.5.5.5.5.m1.1a"><mrow id="S5.F4.9.5.5.5.5.m1.1.1" xref="S5.F4.9.5.5.5.5.m1.1.1.cmml"><mi id="S5.F4.9.5.5.5.5.m1.1.1.2" xref="S5.F4.9.5.5.5.5.m1.1.1.2.cmml">A</mi><mo id="S5.F4.9.5.5.5.5.m1.1.1.1" xref="S5.F4.9.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.9.5.5.5.5.m1.1.1.3" xref="S5.F4.9.5.5.5.5.m1.1.1.3.cmml">c</mi><mo id="S5.F4.9.5.5.5.5.m1.1.1.1a" xref="S5.F4.9.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.9.5.5.5.5.m1.1.1.4" xref="S5.F4.9.5.5.5.5.m1.1.1.4.cmml">c</mi><mo id="S5.F4.9.5.5.5.5.m1.1.1.1b" xref="S5.F4.9.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.9.5.5.5.5.m1.1.1.5" mathvariant="normal" xref="S5.F4.9.5.5.5.5.m1.1.1.5.cmml">@</mi><mo id="S5.F4.9.5.5.5.5.m1.1.1.1c" xref="S5.F4.9.5.5.5.5.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.9.5.5.5.5.m1.1.1.6" xref="S5.F4.9.5.5.5.5.m1.1.1.6.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.9.5.5.5.5.m1.1b"><apply id="S5.F4.9.5.5.5.5.m1.1.1.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1"><times id="S5.F4.9.5.5.5.5.m1.1.1.1.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1.1"></times><ci id="S5.F4.9.5.5.5.5.m1.1.1.2.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1.2">𝐴</ci><ci id="S5.F4.9.5.5.5.5.m1.1.1.3.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1.3">𝑐</ci><ci id="S5.F4.9.5.5.5.5.m1.1.1.4.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1.4">𝑐</ci><ci id="S5.F4.9.5.5.5.5.m1.1.1.5.cmml" xref="S5.F4.9.5.5.5.5.m1.1.1.5">@</ci><cn id="S5.F4.9.5.5.5.5.m1.1.1.6.cmml" type="integer" xref="S5.F4.9.5.5.5.5.m1.1.1.6">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.9.5.5.5.5.m1.1c">Acc@1</annotation><annotation encoding="application/x-llamapun" id="S5.F4.9.5.5.5.5.m1.1d">italic_A italic_c italic_c @ 1</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.10.6.6.6.6" style="padding:2.5pt 10.0pt;"><math alttext="Acc@5" class="ltx_Math" display="inline" id="S5.F4.10.6.6.6.6.m1.1"><semantics id="S5.F4.10.6.6.6.6.m1.1a"><mrow id="S5.F4.10.6.6.6.6.m1.1.1" xref="S5.F4.10.6.6.6.6.m1.1.1.cmml"><mi id="S5.F4.10.6.6.6.6.m1.1.1.2" xref="S5.F4.10.6.6.6.6.m1.1.1.2.cmml">A</mi><mo id="S5.F4.10.6.6.6.6.m1.1.1.1" xref="S5.F4.10.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.10.6.6.6.6.m1.1.1.3" xref="S5.F4.10.6.6.6.6.m1.1.1.3.cmml">c</mi><mo id="S5.F4.10.6.6.6.6.m1.1.1.1a" xref="S5.F4.10.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.10.6.6.6.6.m1.1.1.4" xref="S5.F4.10.6.6.6.6.m1.1.1.4.cmml">c</mi><mo id="S5.F4.10.6.6.6.6.m1.1.1.1b" xref="S5.F4.10.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.10.6.6.6.6.m1.1.1.5" mathvariant="normal" xref="S5.F4.10.6.6.6.6.m1.1.1.5.cmml">@</mi><mo id="S5.F4.10.6.6.6.6.m1.1.1.1c" xref="S5.F4.10.6.6.6.6.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.10.6.6.6.6.m1.1.1.6" xref="S5.F4.10.6.6.6.6.m1.1.1.6.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.10.6.6.6.6.m1.1b"><apply id="S5.F4.10.6.6.6.6.m1.1.1.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1"><times id="S5.F4.10.6.6.6.6.m1.1.1.1.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1.1"></times><ci id="S5.F4.10.6.6.6.6.m1.1.1.2.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1.2">𝐴</ci><ci id="S5.F4.10.6.6.6.6.m1.1.1.3.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1.3">𝑐</ci><ci id="S5.F4.10.6.6.6.6.m1.1.1.4.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1.4">𝑐</ci><ci id="S5.F4.10.6.6.6.6.m1.1.1.5.cmml" xref="S5.F4.10.6.6.6.6.m1.1.1.5">@</ci><cn id="S5.F4.10.6.6.6.6.m1.1.1.6.cmml" type="integer" xref="S5.F4.10.6.6.6.6.m1.1.1.6">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.10.6.6.6.6.m1.1c">Acc@5</annotation><annotation encoding="application/x-llamapun" id="S5.F4.10.6.6.6.6.m1.1d">italic_A italic_c italic_c @ 5</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.11.7.7.7.7" style="padding:2.5pt 10.0pt;"><math alttext="Acc@10" class="ltx_Math" display="inline" id="S5.F4.11.7.7.7.7.m1.1"><semantics id="S5.F4.11.7.7.7.7.m1.1a"><mrow id="S5.F4.11.7.7.7.7.m1.1.1" xref="S5.F4.11.7.7.7.7.m1.1.1.cmml"><mi id="S5.F4.11.7.7.7.7.m1.1.1.2" xref="S5.F4.11.7.7.7.7.m1.1.1.2.cmml">A</mi><mo id="S5.F4.11.7.7.7.7.m1.1.1.1" xref="S5.F4.11.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.11.7.7.7.7.m1.1.1.3" xref="S5.F4.11.7.7.7.7.m1.1.1.3.cmml">c</mi><mo id="S5.F4.11.7.7.7.7.m1.1.1.1a" xref="S5.F4.11.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.11.7.7.7.7.m1.1.1.4" xref="S5.F4.11.7.7.7.7.m1.1.1.4.cmml">c</mi><mo id="S5.F4.11.7.7.7.7.m1.1.1.1b" xref="S5.F4.11.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.11.7.7.7.7.m1.1.1.5" mathvariant="normal" xref="S5.F4.11.7.7.7.7.m1.1.1.5.cmml">@</mi><mo id="S5.F4.11.7.7.7.7.m1.1.1.1c" xref="S5.F4.11.7.7.7.7.m1.1.1.1.cmml">⁢</mo><mn id="S5.F4.11.7.7.7.7.m1.1.1.6" xref="S5.F4.11.7.7.7.7.m1.1.1.6.cmml">10</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.11.7.7.7.7.m1.1b"><apply id="S5.F4.11.7.7.7.7.m1.1.1.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1"><times id="S5.F4.11.7.7.7.7.m1.1.1.1.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1.1"></times><ci id="S5.F4.11.7.7.7.7.m1.1.1.2.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1.2">𝐴</ci><ci id="S5.F4.11.7.7.7.7.m1.1.1.3.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1.3">𝑐</ci><ci id="S5.F4.11.7.7.7.7.m1.1.1.4.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1.4">𝑐</ci><ci id="S5.F4.11.7.7.7.7.m1.1.1.5.cmml" xref="S5.F4.11.7.7.7.7.m1.1.1.5">@</ci><cn id="S5.F4.11.7.7.7.7.m1.1.1.6.cmml" type="integer" xref="S5.F4.11.7.7.7.7.m1.1.1.6">10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.11.7.7.7.7.m1.1c">Acc@10</annotation><annotation encoding="application/x-llamapun" id="S5.F4.11.7.7.7.7.m1.1d">italic_A italic_c italic_c @ 10</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S5.F4.12.8.8.8.8" style="padding:2.5pt 10.0pt;"><math alttext="MRR" class="ltx_Math" display="inline" id="S5.F4.12.8.8.8.8.m1.1"><semantics id="S5.F4.12.8.8.8.8.m1.1a"><mrow id="S5.F4.12.8.8.8.8.m1.1.1" xref="S5.F4.12.8.8.8.8.m1.1.1.cmml"><mi id="S5.F4.12.8.8.8.8.m1.1.1.2" xref="S5.F4.12.8.8.8.8.m1.1.1.2.cmml">M</mi><mo id="S5.F4.12.8.8.8.8.m1.1.1.1" xref="S5.F4.12.8.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.12.8.8.8.8.m1.1.1.3" xref="S5.F4.12.8.8.8.8.m1.1.1.3.cmml">R</mi><mo id="S5.F4.12.8.8.8.8.m1.1.1.1a" xref="S5.F4.12.8.8.8.8.m1.1.1.1.cmml">⁢</mo><mi id="S5.F4.12.8.8.8.8.m1.1.1.4" xref="S5.F4.12.8.8.8.8.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.F4.12.8.8.8.8.m1.1b"><apply id="S5.F4.12.8.8.8.8.m1.1.1.cmml" xref="S5.F4.12.8.8.8.8.m1.1.1"><times id="S5.F4.12.8.8.8.8.m1.1.1.1.cmml" xref="S5.F4.12.8.8.8.8.m1.1.1.1"></times><ci id="S5.F4.12.8.8.8.8.m1.1.1.2.cmml" xref="S5.F4.12.8.8.8.8.m1.1.1.2">𝑀</ci><ci id="S5.F4.12.8.8.8.8.m1.1.1.3.cmml" xref="S5.F4.12.8.8.8.8.m1.1.1.3">𝑅</ci><ci id="S5.F4.12.8.8.8.8.m1.1.1.4.cmml" xref="S5.F4.12.8.8.8.8.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.12.8.8.8.8.m1.1c">MRR</annotation><annotation encoding="application/x-llamapun" id="S5.F4.12.8.8.8.8.m1.1d">italic_M italic_R italic_R</annotation></semantics></math></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S5.F4.13.9.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S5.F4.13.9.9.9.1" style="padding:2.5pt 10.0pt;"><math alttext="y_{0}" class="ltx_Math" display="inline" id="S5.F4.13.9.9.9.1.m1.1"><semantics id="S5.F4.13.9.9.9.1.m1.1a"><msub id="S5.F4.13.9.9.9.1.m1.1.1" xref="S5.F4.13.9.9.9.1.m1.1.1.cmml"><mi id="S5.F4.13.9.9.9.1.m1.1.1.2" xref="S5.F4.13.9.9.9.1.m1.1.1.2.cmml">y</mi><mn id="S5.F4.13.9.9.9.1.m1.1.1.3" xref="S5.F4.13.9.9.9.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.13.9.9.9.1.m1.1b"><apply id="S5.F4.13.9.9.9.1.m1.1.1.cmml" xref="S5.F4.13.9.9.9.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F4.13.9.9.9.1.m1.1.1.1.cmml" xref="S5.F4.13.9.9.9.1.m1.1.1">subscript</csymbol><ci id="S5.F4.13.9.9.9.1.m1.1.1.2.cmml" xref="S5.F4.13.9.9.9.1.m1.1.1.2">𝑦</ci><cn id="S5.F4.13.9.9.9.1.m1.1.1.3.cmml" type="integer" xref="S5.F4.13.9.9.9.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.13.9.9.9.1.m1.1c">y_{0}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.13.9.9.9.1.m1.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.2" style="padding:2.5pt 10.0pt;">0.7166</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.3" style="padding:2.5pt 10.0pt;">0.7566</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.4" style="padding:2.5pt 10.0pt;">0.7833</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.5" style="padding:2.5pt 10.0pt;">0.7363</td>
<td class="ltx_td ltx_border_t" id="S5.F4.13.9.9.9.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.7" style="padding:2.5pt 10.0pt;">0.7933</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.8" style="padding:2.5pt 10.0pt;">0.8433</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.9" style="padding:2.5pt 10.0pt;">0.8567</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.13.9.9.9.10" style="padding:2.5pt 10.0pt;">0.8161</td>
</tr>
<tr class="ltx_tr" id="S5.F4.14.10.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.F4.14.10.10.10.1" style="padding:2.5pt 10.0pt;"><math alttext="y_{1}" class="ltx_Math" display="inline" id="S5.F4.14.10.10.10.1.m1.1"><semantics id="S5.F4.14.10.10.10.1.m1.1a"><msub id="S5.F4.14.10.10.10.1.m1.1.1" xref="S5.F4.14.10.10.10.1.m1.1.1.cmml"><mi id="S5.F4.14.10.10.10.1.m1.1.1.2" xref="S5.F4.14.10.10.10.1.m1.1.1.2.cmml">y</mi><mn id="S5.F4.14.10.10.10.1.m1.1.1.3" xref="S5.F4.14.10.10.10.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.14.10.10.10.1.m1.1b"><apply id="S5.F4.14.10.10.10.1.m1.1.1.cmml" xref="S5.F4.14.10.10.10.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F4.14.10.10.10.1.m1.1.1.1.cmml" xref="S5.F4.14.10.10.10.1.m1.1.1">subscript</csymbol><ci id="S5.F4.14.10.10.10.1.m1.1.1.2.cmml" xref="S5.F4.14.10.10.10.1.m1.1.1.2">𝑦</ci><cn id="S5.F4.14.10.10.10.1.m1.1.1.3.cmml" type="integer" xref="S5.F4.14.10.10.10.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.14.10.10.10.1.m1.1c">y_{1}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.14.10.10.10.1.m1.1d">italic_y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.2" style="padding:2.5pt 10.0pt;">0.7466</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.3" style="padding:2.5pt 10.0pt;">0.7767</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.4" style="padding:2.5pt 10.0pt;">0.7933</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.5" style="padding:2.5pt 10.0pt;">0.7588</td>
<td class="ltx_td" id="S5.F4.14.10.10.10.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.7" style="padding:2.5pt 10.0pt;">0.8476</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.8" style="padding:2.5pt 10.0pt;">0.8798</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.9" style="padding:2.5pt 10.0pt;">0.8930</td>
<td class="ltx_td ltx_align_center" id="S5.F4.14.10.10.10.10" style="padding:2.5pt 10.0pt;">0.8699</td>
</tr>
<tr class="ltx_tr" id="S5.F4.15.11.11.11">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S5.F4.15.11.11.11.1" style="padding:2.5pt 10.0pt;"><math alttext="y_{2}" class="ltx_Math" display="inline" id="S5.F4.15.11.11.11.1.m1.1"><semantics id="S5.F4.15.11.11.11.1.m1.1a"><msub id="S5.F4.15.11.11.11.1.m1.1.1" xref="S5.F4.15.11.11.11.1.m1.1.1.cmml"><mi id="S5.F4.15.11.11.11.1.m1.1.1.2" xref="S5.F4.15.11.11.11.1.m1.1.1.2.cmml">y</mi><mn id="S5.F4.15.11.11.11.1.m1.1.1.3" xref="S5.F4.15.11.11.11.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.15.11.11.11.1.m1.1b"><apply id="S5.F4.15.11.11.11.1.m1.1.1.cmml" xref="S5.F4.15.11.11.11.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F4.15.11.11.11.1.m1.1.1.1.cmml" xref="S5.F4.15.11.11.11.1.m1.1.1">subscript</csymbol><ci id="S5.F4.15.11.11.11.1.m1.1.1.2.cmml" xref="S5.F4.15.11.11.11.1.m1.1.1.2">𝑦</ci><cn id="S5.F4.15.11.11.11.1.m1.1.1.3.cmml" type="integer" xref="S5.F4.15.11.11.11.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.15.11.11.11.1.m1.1c">y_{2}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.15.11.11.11.1.m1.1d">italic_y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.2" style="padding:2.5pt 10.0pt;">0.7601</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.3" style="padding:2.5pt 10.0pt;">0.7882</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.4" style="padding:2.5pt 10.0pt;">0.8012</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.5" style="padding:2.5pt 10.0pt;">0.7643</td>
<td class="ltx_td" id="S5.F4.15.11.11.11.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.7" style="padding:2.5pt 10.0pt;">0.8613</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.8" style="padding:2.5pt 10.0pt;">0.8872</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.9" style="padding:2.5pt 10.0pt;">0.9000</td>
<td class="ltx_td ltx_align_center" id="S5.F4.15.11.11.11.10" style="padding:2.5pt 10.0pt;">0.8720</td>
</tr>
<tr class="ltx_tr" id="S5.F4.16.12.12.12">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S5.F4.16.12.12.12.1" style="padding:2.5pt 10.0pt;"><math alttext="y_{3}" class="ltx_Math" display="inline" id="S5.F4.16.12.12.12.1.m1.1"><semantics id="S5.F4.16.12.12.12.1.m1.1a"><msub id="S5.F4.16.12.12.12.1.m1.1.1" xref="S5.F4.16.12.12.12.1.m1.1.1.cmml"><mi id="S5.F4.16.12.12.12.1.m1.1.1.2" xref="S5.F4.16.12.12.12.1.m1.1.1.2.cmml">y</mi><mn id="S5.F4.16.12.12.12.1.m1.1.1.3" xref="S5.F4.16.12.12.12.1.m1.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S5.F4.16.12.12.12.1.m1.1b"><apply id="S5.F4.16.12.12.12.1.m1.1.1.cmml" xref="S5.F4.16.12.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="S5.F4.16.12.12.12.1.m1.1.1.1.cmml" xref="S5.F4.16.12.12.12.1.m1.1.1">subscript</csymbol><ci id="S5.F4.16.12.12.12.1.m1.1.1.2.cmml" xref="S5.F4.16.12.12.12.1.m1.1.1.2">𝑦</ci><cn id="S5.F4.16.12.12.12.1.m1.1.1.3.cmml" type="integer" xref="S5.F4.16.12.12.12.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.F4.16.12.12.12.1.m1.1c">y_{3}</annotation><annotation encoding="application/x-llamapun" id="S5.F4.16.12.12.12.1.m1.1d">italic_y start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.2" style="padding:2.5pt 10.0pt;">0.7680</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.3" style="padding:2.5pt 10.0pt;">0.7940</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.4" style="padding:2.5pt 10.0pt;">0.8070</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.5" style="padding:2.5pt 10.0pt;">0.7691</td>
<td class="ltx_td ltx_border_b" id="S5.F4.16.12.12.12.6" style="padding:2.5pt 10.0pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.7" style="padding:2.5pt 10.0pt;">0.8620</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.8" style="padding:2.5pt 10.0pt;">0.8936</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.9" style="padding:2.5pt 10.0pt;">0.9033</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S5.F4.16.12.12.12.10" style="padding:2.5pt 10.0pt;">0.8748</td>
</tr>
</tbody>
</table>
</span></div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_block ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" id="S5.F4.17" style="width:433.6pt;">
<img alt="Refer to caption" class="ltx_graphics ltx_img_square" height="692" id="S5.F4.17.g1" src="x4.png" width="830"/>
</div>
</div>
</div>
</figure>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.2">In this research, we proposed a Multi-Agent System for next POI recommendation (MAS4POI), comprising seven role agents: <span class="ltx_text ltx_font_italic" id="S6.p1.2.1">DataAgent</span>, <span class="ltx_text ltx_font_italic" id="S6.p1.2.2">Manager</span>, <span class="ltx_text ltx_font_italic" id="S6.p1.2.3">Analyst</span>, <span class="ltx_text ltx_font_italic" id="S6.p1.2.4">Reflector</span>, <span class="ltx_text ltx_font_italic" id="S6.p1.2.5">UserAgent</span>, <span class="ltx_text ltx_font_italic" id="S6.p1.2.6">Searcher</span>, and <span class="ltx_text ltx_font_italic" id="S6.p1.2.7">Navigator</span>.
Each agent plays a specific role: <span class="ltx_text ltx_font_italic" id="S6.p1.2.8">Manager</span> optimizes coordination, <span class="ltx_text ltx_font_italic" id="S6.p1.2.9">Reflector</span> enhances system accuracy through iterative self-assessment, <span class="ltx_text ltx_font_italic" id="S6.p1.2.10">DataAgent</span> preprocesses and organizes structured POI data, <span class="ltx_text ltx_font_italic" id="S6.p1.2.11">Navigator</span> handles route planning, <span class="ltx_text ltx_font_italic" id="S6.p1.2.12">Analyst</span> generates recommendations from user historical check-in records, <span class="ltx_text ltx_font_italic" id="S6.p1.2.13">UserAgent</span> manages user profiles and interactions, and <span class="ltx_text ltx_font_italic" id="S6.p1.2.14">Searcher</span> processes specific queries.
We deployed six different LLMs within MAS4POI and evaluated them using Acc<math alttext="@k" class="ltx_Math" display="inline" id="S6.p1.1.m1.1"><semantics id="S6.p1.1.m1.1a"><mrow id="S6.p1.1.m1.1.1" xref="S6.p1.1.m1.1.1.cmml"><mi id="S6.p1.1.m1.1.1.2" mathvariant="normal" xref="S6.p1.1.m1.1.1.2.cmml">@</mi><mo id="S6.p1.1.m1.1.1.1" xref="S6.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S6.p1.1.m1.1.1.3" xref="S6.p1.1.m1.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p1.1.m1.1b"><apply id="S6.p1.1.m1.1.1.cmml" xref="S6.p1.1.m1.1.1"><times id="S6.p1.1.m1.1.1.1.cmml" xref="S6.p1.1.m1.1.1.1"></times><ci id="S6.p1.1.m1.1.1.2.cmml" xref="S6.p1.1.m1.1.1.2">@</ci><ci id="S6.p1.1.m1.1.1.3.cmml" xref="S6.p1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.1.m1.1c">@k</annotation><annotation encoding="application/x-llamapun" id="S6.p1.1.m1.1d">@ italic_k</annotation></semantics></math> (<math alttext="k" class="ltx_Math" display="inline" id="S6.p1.2.m2.1"><semantics id="S6.p1.2.m2.1a"><mi id="S6.p1.2.m2.1.1" xref="S6.p1.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.p1.2.m2.1b"><ci id="S6.p1.2.m2.1.1.cmml" xref="S6.p1.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p1.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S6.p1.2.m2.1d">italic_k</annotation></semantics></math>=1, 5, 10) and MRR across three datasets.
Our results demonstrate the effectiveness of MAS4POI. While LLMs introduce challenges such as hallucination and repetition, which can affect user experience, we believe these issues will mitigated as LLMs evolve.
Finally, we have made our code publicly available to support future research and hope MAS4POI will contribute to the advancement of next POI recommendation.</p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Acknowledgment</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">The authors thank for Beijing Normal University-Hong Kong Baptist University United International College and the IRADS lab for the provision for computer facility for the conduct of this research.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Xi, Z., Chen, W., Guo, X., He, W., Ding, Y., Hong, B., … &amp; Gui, T. (2023). The rise and potential of large language model based agents: A survey. <span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2309.07864</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Li, G., Hammoud, H. A. A. K., Itani, H., … &amp; others. (2023). CAMEL: Communicative Agents for "Mind" Exploration of Large Scale Language Model Society. <span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">arXiv preprint arXiv:2303.17760</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Zhao, X., Zhang, Z., Bi, X., &amp; Sun, Y. (2023). A new point-of-interest group recommendation method in location-based social networks. <span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">Neural Computing and Applications</span>, 1-12.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Islam, M. A., Mohammad, M. M., Das, S. S. S., &amp; Ali, M. E. (2022). A survey on deep learning based Point-of-Interest (POI) recommendations. <span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">Neurocomputing</span>, 472, 306-325.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Guo, T., Chen, X., Wang, Y., Chang, R., Pei, S., Chawla, N. V., … &amp; Zhang, X. (2024). Large language model based multi-agents: A survey of progress and challenges. <span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2402.01680</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Rasheed, Z., Waseem, M., Saari, M., Systä, K., &amp; Abrahamsson, P. (2024). Codepori: Large scale model for autonomous software development by using multi-agents. <span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">arXiv preprint arXiv:2402.01411</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Zhao, M., Jain, S., &amp; Song, S. (2023). Roco: Dialectic multi-robot collaboration with large language models. <span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">arXiv preprint arXiv:2307.04738</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Pang, X., Tang, S., Ye, R., Xiong, Y., Zhang, B., Wang, Y., &amp; Chen, S. (2024). Self-alignment of large language models via multi-agent social simulation. In <span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">ICLR 2024 Workshop on Large Language Model (LLM) Agents</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Sumers, T. R., Yao, S., Narasimhan, K., &amp; Griffiths, T. L. (2023). Cognitive architectures for language agents. <span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">arXiv preprint arXiv:2309.02427</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Wang, Z., Yu, Y., Zheng, W., Ma, W., &amp; Zhang, M. (2024, July). MACRec: A Multi-Agent Collaboration Framework for Recommendation. In <span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</span> (pp. 2760-2764).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Minaee, S., Mikolov, T., Nikzad, N., Chenaghlu, M., Socher, R., Amatriain, X., &amp; Gao, J. (2024). Large language models: A survey. <span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">arXiv preprint arXiv:2402.06196</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Hadi, M. U., Qureshi, R., Shah, A., Irfan, M., Zafar, A., Shaikh, M. B., … &amp; Mirjalili, S. (2023). A survey on large language models: Applications, challenges, limitations, and practical usage. <span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">Authorea Preprints</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Yang, S., Liu, J., &amp; Zhao, K. (2022, July). GETNext: Trajectory flow map enhanced transformer for next POI recommendation. In <span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval</span> (pp. 1144-1153).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Yan, X., Song, T., Jiao, Y., He, J., Wang, J., Li, R., &amp; Chu, W. (2023, July). Spatio-temporal hypergraph learning for next POI recommendation. In <span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</span> (pp. 403-412).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Wu, Y., Luo, H., &amp; Lee, R. S. T. (2024). Deep feature embedding for tabular data. <span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2408.17162</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Wu, Q., Bansal, G., Zhang, J., Wu, Y., Zhang, S., Zhu, E., … &amp; Wang, C. (2023). Autogen: Enabling next-gen llm applications via multi-agent conversation framework. <span class="ltx_text ltx_font_italic" id="bib.bib16.1.1">arXiv preprint arXiv:2308.08155</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Chen, W., Su, Y., Zuo, J., Yang, C., Yuan, C., Qian, C., … &amp; Zhou, J. (2023). Agentverse: Facilitating multi-agent collaboration and exploring emergent behaviors in agents. <span class="ltx_text ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2308.10848</span>, 2(4), 6.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Hong, S., Zheng, X., Chen, J., Cheng, Y., Wang, J., Zhang, C., … &amp; Wu, C. (2023). Metagpt: Meta programming for multi-agent collaborative framework. <span class="ltx_text ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2308.00352</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Talebirad, Y., &amp; Nadiri, A. (2023). Multi-agent collaboration: Harnessing the power of intelligent llm agents. <span class="ltx_text ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2306.03314</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
GLM, T., Zeng, A., Xu, B., Wang, B., Zhang, C., Yin, D., … &amp; Wang, Z. (2024). ChatGLM: A Family of Large Language Models from GLM-130B to GLM-4 All Tools. <span class="ltx_text ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2406.12793</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
OpenAI. (2023). GPT-3.5 Turbo. <span class="ltx_text ltx_font_italic" id="bib.bib21.1.1">Technical Report</span>. Retrieved from <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openai.com/research/gpt-3-5" title="">https://openai.com/research/gpt-3-5</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Bai, J., Bai, S., Chu, Y., Cui, Z., Dang, K., Deng, X., … &amp; Zhu, T. (2023). Qwen technical report. <span class="ltx_text ltx_font_italic" id="bib.bib22.1.1">arXiv preprint arXiv:2309.16609</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Team, G., Anil, R., Borgeaud, S., Wu, Y., Alayrac, J. B., Yu, J., … &amp; Ahn, J. (2023). Gemini: a family of highly capable multimodal models. <span class="ltx_text ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:2312.11805</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Feng, S., Lyu, H., Li, F., Sun, Z., &amp; Chen, C. (2024, June). Where to move next: Zero-shot generalization of LLMs for next POI recommendation. In <span class="ltx_text ltx_font_italic" id="bib.bib24.1.1">2024 IEEE Conference on Artificial Intelligence (CAI)</span> (pp. 1530-1535). IEEE.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Li, P., de Rijke, M., Xue, H., Ao, S., Song, Y., &amp; Salim, F. D. (2024, July). Large language models for next point-of-interest recommendation. In <span class="ltx_text ltx_font_italic" id="bib.bib25.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</span> (pp. 1463-1472).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
J. Yu, Y. Wu, Y. Zhan, W. Guo, Z. Xu, and R. Lee, "Co-Learning: Code Learning for Multi-Agent Reinforcement Collaborative Framework with Conversational Natural Language Interfaces," <span class="ltx_text ltx_font_italic" id="bib.bib26.1.1">arXiv preprint arXiv:2409.00985</span>, 2024. [Online]. Available: https://arxiv.org/abs/2409.00985

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
T. Wu, S. He, J. Liu, S. Sun, K. Liu, Q. L. Han, and Y. Tang, "A brief overview of ChatGPT: The history, status quo and potential future development," <span class="ltx_text ltx_font_italic" id="bib.bib27.1.1">IEEE/CAA Journal of Automatica Sinica</span>, vol. 10, no. 5, pp. 1122-1136, 2023.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Sep  5 02:46:34 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
