<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2206.13803] FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification</title><meta property="og:description" content="Federated learning (FL), training deep models from decentralized data without privacy leakage, has shown great potential in medical image computing recently. However, considering the ubiquitous class imbalance in medic…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2206.13803">

<!--Generated on Mon Mar 11 18:24:21 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Federated learning Class imbalance Contrastive learning Classification.">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>School of Electronic Information and Communications, Huazhong University of Science and Technology 
<br class="ltx_break"><span id="id1.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">email: </span>{wnn2000,hustlyu,xinyang2014,z_yan}@hust.edu.cn</span></span></span>
</span></span></span><span id="id2" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">institutetext: </span>School of Engineering, Hong Kong University of Science and Technology
<span id="id2.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">email: </span>timcheng@ust.hk</span></span></span>
</span></span></span>
<h1 class="ltx_title ltx_title_document">FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Nannan Wu
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Li Yu
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xin Yang
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kwang-Ting Cheng
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zengqiang Yan<sup id="id1.1.id1" class="ltx_sup">1(✉)</sup>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id2.id1" class="ltx_p">Federated learning (FL), training deep models from decentralized data without privacy leakage, has shown great potential in medical image computing recently. However, considering the ubiquitous class imbalance in medical data, FL can exhibit performance degradation, especially for minority classes (<span id="id2.id1.1" class="ltx_text ltx_font_italic">e.g.</span> rare diseases). Existing methods towards this problem mainly focus on training a balanced classifier to eliminate class prior bias among classes, but neglect to explore better representation to facilitate classification performance. In this paper, we present a privacy-preserving FL method named FedIIC to combat class imbalance from two perspectives: feature learning and classifier learning. In feature learning, two levels of contrastive learning are designed to extract better class-specific features with imbalanced data in FL. In classifier learning, per-class margins are dynamically set according to real-time difficulty and class priors, which helps the model learn classes equally. Experimental results on publicly-available datasets demonstrate the superior performance of FedIIC in dealing with both real-world and simulated multi-source medical imaging data under class imbalance. Code is available at <a target="_blank" href="https://github.com/wnn2000/FedIIC" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/wnn2000/FedIIC</a>.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Federated learning Class imbalance Contrastive learning Classification.
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL), allowing decentralized data sources to train a unified deep learning model collaboratively without data sharing, has drawn great attention in medical imaging due to its privacy-preserving properties <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>. Existing studies of FL mainly focus on data heterogeneity across clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>, while ignoring the widely-existed class imbalance problem in medical scenarios. In clinical practice, the number of samples for different diseases may vary greatly due to varying incidence rates in the population. When conducting FL on cooperative medical institutions with global class-imbalanced data, the global model may suffer from significant performance degradation, which typically manifests as the recognition accuracy of minority classes (<span id="S1.p1.1.1" class="ltx_text ltx_font_italic">e.g.</span> rare diseases) being lower than that of majority classes (<span id="S1.p1.1.2" class="ltx_text ltx_font_italic">e.g.</span> common diseases) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>. Deploying such a biased global/federated model is fatal, especially for misdiagnosing a rare disease <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>]</cite>. Therefore, addressing class imbalance in federated learning is of great value.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Several FL frameworks have been proposed to tackle imbalanced data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>. Following re-weighting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, Wang <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> presented a weighted form of cross entropy loss named ratio loss depending on a balanced auxiliary dataset for the server to calculate weights. Sarkar <span id="S1.p2.1.2" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> introduced focal loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> to up-weight hard samples. CLIMB <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> assigned larger weights to clients more likely to own minority classes via a meta-algorithm. Inspired by decoupling <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite>, CReFF <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> retrained a new classifier with balanced synthetic features in the server. All these methods aim to balance classes from the classifier perspective without exploring better representations with class-imbalanced data for performance improvement.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this paper, we formulate the effect of class imbalance in FL into the attribute bias and the class bias <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>. The attribute bias means minority classes have more imbalanced background attributes in their class-specific attributes compared to majority classes, making them less distinguishable. The class bias represents the difference in prior probabilities across classes, resulting in biased predictions toward majority classes. To handle the two biases, we present a new class-balancing FL method named <span id="S1.p3.1.1" class="ltx_text ltx_font_bold">FedIIC</span> from two perspectives: feature learning and classifier learning. The key idea of FedIIC is to alleviate the two biases through the calibration of the feature extractor and the classifier. Specifically, two-level supervised contrastive learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, <span id="S1.p3.1.2" class="ltx_text ltx_font_italic">i.e.</span> intra- and inter-client contrastive learning, is built to calibrate the feature extractor for better feature learning. For classifier learning, difficulty-aware logit adjustment is adopted to calibrate the classifier dynamically for better decision boundaries. Extensive comparison experiments on both real-world and simulated multi-source data validate FedIIC’s effectiveness.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">The main contributions are summarized as follows. (1) A new viewpoint of realistic medical FL scenarios where global training data is class-imbalanced. (2) A novel privacy-preserving framework FedIIC for balanced federated learning. (3) Superior performance in dealing with class imbalance under both real-world and simulated multi-source decentralized settings.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Preliminaries and Overview</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.11" class="ltx_p">Considering a typical FL scenario for multi-class image classification with <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">K</annotation></semantics></math> participants, each participant is assumed to own a private dataset <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="D_{k}=\{(x_{i},y_{i})\}_{i=1}^{N_{k}}" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><msub id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml"><mi id="S2.SS1.p1.2.m2.1.1.3.2" xref="S2.SS1.p1.2.m2.1.1.3.2.cmml">D</mi><mi id="S2.SS1.p1.2.m2.1.1.3.3" xref="S2.SS1.p1.2.m2.1.1.3.3.cmml">k</mi></msub><mo id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S2.SS1.p1.2.m2.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.cmml"><mrow id="S2.SS1.p1.2.m2.1.1.1.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.2" xref="S2.SS1.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><mrow id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.3" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">(</mo><msub id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.4" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">,</mo><msub id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.2" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.2.cmml">y</mi><mi id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.3" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.5" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.3" xref="S2.SS1.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS1.p1.2.m2.1.1.1.1.3" xref="S2.SS1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.2.m2.1.1.1.1.3.2" xref="S2.SS1.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S2.SS1.p1.2.m2.1.1.1.1.3.1" xref="S2.SS1.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS1.p1.2.m2.1.1.1.1.3.3" xref="S2.SS1.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S2.SS1.p1.2.m2.1.1.1.3" xref="S2.SS1.p1.2.m2.1.1.1.3.cmml"><mi id="S2.SS1.p1.2.m2.1.1.1.3.2" xref="S2.SS1.p1.2.m2.1.1.1.3.2.cmml">N</mi><mi id="S2.SS1.p1.2.m2.1.1.1.3.3" xref="S2.SS1.p1.2.m2.1.1.1.3.3.cmml">k</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><eq id="S2.SS1.p1.2.m2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2"></eq><apply id="S2.SS1.p1.2.m2.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.3.1.cmml" xref="S2.SS1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.3.2.cmml" xref="S2.SS1.p1.2.m2.1.1.3.2">𝐷</ci><ci id="S2.SS1.p1.2.m2.1.1.3.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3.3">𝑘</ci></apply><apply id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1">superscript</csymbol><apply id="S2.SS1.p1.2.m2.1.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1">subscript</csymbol><set id="S2.SS1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1"><interval closure="open" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2"><apply id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.2">𝑦</ci><ci id="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></interval></set><apply id="S2.SS1.p1.2.m2.1.1.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.3"><eq id="S2.SS1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S2.SS1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S2.SS1.p1.2.m2.1.1.1.1.3.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><apply id="S2.SS1.p1.2.m2.1.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.1.1.1.3.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.2.m2.1.1.1.3.2.cmml" xref="S2.SS1.p1.2.m2.1.1.1.3.2">𝑁</ci><ci id="S2.SS1.p1.2.m2.1.1.1.3.3.cmml" xref="S2.SS1.p1.2.m2.1.1.1.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">D_{k}=\{(x_{i},y_{i})\}_{i=1}^{N_{k}}</annotation></semantics></math>, <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="k\in[K]" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><mrow id="S2.SS1.p1.3.m3.1.2" xref="S2.SS1.p1.3.m3.1.2.cmml"><mi id="S2.SS1.p1.3.m3.1.2.2" xref="S2.SS1.p1.3.m3.1.2.2.cmml">k</mi><mo id="S2.SS1.p1.3.m3.1.2.1" xref="S2.SS1.p1.3.m3.1.2.1.cmml">∈</mo><mrow id="S2.SS1.p1.3.m3.1.2.3.2" xref="S2.SS1.p1.3.m3.1.2.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.3.m3.1.2.3.2.1" xref="S2.SS1.p1.3.m3.1.2.3.1.1.cmml">[</mo><mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">K</mi><mo stretchy="false" id="S2.SS1.p1.3.m3.1.2.3.2.2" xref="S2.SS1.p1.3.m3.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.2.cmml" xref="S2.SS1.p1.3.m3.1.2"><in id="S2.SS1.p1.3.m3.1.2.1.cmml" xref="S2.SS1.p1.3.m3.1.2.1"></in><ci id="S2.SS1.p1.3.m3.1.2.2.cmml" xref="S2.SS1.p1.3.m3.1.2.2">𝑘</ci><apply id="S2.SS1.p1.3.m3.1.2.3.1.cmml" xref="S2.SS1.p1.3.m3.1.2.3.2"><csymbol cd="latexml" id="S2.SS1.p1.3.m3.1.2.3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.2.3.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝐾</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">k\in[K]</annotation></semantics></math>, where <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="N_{k}" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><msub id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml">N</mi><mi id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2">𝑁</ci><ci id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">N_{k}</annotation></semantics></math> is the data amount of <math id="S2.SS1.p1.5.m5.1" class="ltx_Math" alttext="D_{k}" display="inline"><semantics id="S2.SS1.p1.5.m5.1a"><msub id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2" xref="S2.SS1.p1.5.m5.1.1.2.cmml">D</mi><mi id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2">𝐷</ci><ci id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">D_{k}</annotation></semantics></math>, and denote each image-label pair as <math id="S2.SS1.p1.6.m6.2" class="ltx_Math" alttext="(x_{i}\in\mathcal{X}\subseteq\mathbb{R}^{d},y_{i}\in\mathcal{Y}=[L])" display="inline"><semantics id="S2.SS1.p1.6.m6.2a"><mrow id="S2.SS1.p1.6.m6.2.2.1"><mo stretchy="false" id="S2.SS1.p1.6.m6.2.2.1.2">(</mo><mrow id="S2.SS1.p1.6.m6.2.2.1.1.2" xref="S2.SS1.p1.6.m6.2.2.1.1.3.cmml"><mrow id="S2.SS1.p1.6.m6.2.2.1.1.1.1" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.cmml"><msub id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.cmml"><mi id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.2" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.2.cmml">x</mi><mi id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.3" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S2.SS1.p1.6.m6.2.2.1.1.1.1.3" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.6.m6.2.2.1.1.1.1.4" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.4.cmml">𝒳</mi><mo id="S2.SS1.p1.6.m6.2.2.1.1.1.1.5" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.5.cmml">⊆</mo><msup id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.cmml"><mi id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.2" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.2.cmml">ℝ</mi><mi id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.3" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.3.cmml">d</mi></msup></mrow><mo id="S2.SS1.p1.6.m6.2.2.1.1.2.3" xref="S2.SS1.p1.6.m6.2.2.1.1.3a.cmml">,</mo><mrow id="S2.SS1.p1.6.m6.2.2.1.1.2.2" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.cmml"><msub id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.cmml"><mi id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.2" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.2.cmml">y</mi><mi id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.3" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.3.cmml">i</mi></msub><mo id="S2.SS1.p1.6.m6.2.2.1.1.2.2.3" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.6.m6.2.2.1.1.2.2.4" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.4.cmml">𝒴</mi><mo id="S2.SS1.p1.6.m6.2.2.1.1.2.2.5" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.5.cmml">=</mo><mrow id="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.2" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.1.cmml"><mo stretchy="false" id="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.2.1" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.1.1.cmml">[</mo><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">L</mi><mo stretchy="false" id="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.2.2" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.1.1.cmml">]</mo></mrow></mrow></mrow><mo stretchy="false" id="S2.SS1.p1.6.m6.2.2.1.3">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.2b"><apply id="S2.SS1.p1.6.m6.2.2.1.1.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.2.2.1.1.3a.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1"><and id="S2.SS1.p1.6.m6.2.2.1.1.1.1a.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1"></and><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.1b.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1"><in id="S2.SS1.p1.6.m6.2.2.1.1.1.1.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.3"></in><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.2">𝑥</ci><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.1.4.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.4">𝒳</ci></apply><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.1c.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1"><subset id="S2.SS1.p1.6.m6.2.2.1.1.1.1.5.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.5"></subset><share href="#S2.SS1.p1.6.m6.2.2.1.1.1.1.4.cmml" id="S2.SS1.p1.6.m6.2.2.1.1.1.1d.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1"></share><apply id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6">superscript</csymbol><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.2">ℝ</ci><ci id="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.1.1.6.3">𝑑</ci></apply></apply></apply><apply id="S2.SS1.p1.6.m6.2.2.1.1.2.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2"><and id="S2.SS1.p1.6.m6.2.2.1.1.2.2a.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2"></and><apply id="S2.SS1.p1.6.m6.2.2.1.1.2.2b.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2"><in id="S2.SS1.p1.6.m6.2.2.1.1.2.2.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.3"></in><apply id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.2.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.2">𝑦</ci><ci id="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.3.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.2.3">𝑖</ci></apply><ci id="S2.SS1.p1.6.m6.2.2.1.1.2.2.4.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.4">𝒴</ci></apply><apply id="S2.SS1.p1.6.m6.2.2.1.1.2.2c.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2"><eq id="S2.SS1.p1.6.m6.2.2.1.1.2.2.5.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.5"></eq><share href="#S2.SS1.p1.6.m6.2.2.1.1.2.2.4.cmml" id="S2.SS1.p1.6.m6.2.2.1.1.2.2d.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2"></share><apply id="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.2"><csymbol cd="latexml" id="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.1.1.cmml" xref="S2.SS1.p1.6.m6.2.2.1.1.2.2.6.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝐿</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.2c">(x_{i}\in\mathcal{X}\subseteq\mathbb{R}^{d},y_{i}\in\mathcal{Y}=[L])</annotation></semantics></math>. The goal of FL is to train a global model <math id="S2.SS1.p1.7.m7.2" class="ltx_Math" alttext="f(g(\cdot))" display="inline"><semantics id="S2.SS1.p1.7.m7.2a"><mrow id="S2.SS1.p1.7.m7.2.2" xref="S2.SS1.p1.7.m7.2.2.cmml"><mi id="S2.SS1.p1.7.m7.2.2.3" xref="S2.SS1.p1.7.m7.2.2.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.7.m7.2.2.2" xref="S2.SS1.p1.7.m7.2.2.2.cmml">​</mo><mrow id="S2.SS1.p1.7.m7.2.2.1.1" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p1.7.m7.2.2.1.1.2" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml">(</mo><mrow id="S2.SS1.p1.7.m7.2.2.1.1.1" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.7.m7.2.2.1.1.1.2" xref="S2.SS1.p1.7.m7.2.2.1.1.1.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.7.m7.2.2.1.1.1.1" xref="S2.SS1.p1.7.m7.2.2.1.1.1.1.cmml">​</mo><mrow id="S2.SS1.p1.7.m7.2.2.1.1.1.3.2" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p1.7.m7.2.2.1.1.1.3.2.1" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS1.p1.7.m7.2.2.1.1.1.3.2.2" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS1.p1.7.m7.2.2.1.1.3" xref="S2.SS1.p1.7.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.2b"><apply id="S2.SS1.p1.7.m7.2.2.cmml" xref="S2.SS1.p1.7.m7.2.2"><times id="S2.SS1.p1.7.m7.2.2.2.cmml" xref="S2.SS1.p1.7.m7.2.2.2"></times><ci id="S2.SS1.p1.7.m7.2.2.3.cmml" xref="S2.SS1.p1.7.m7.2.2.3">𝑓</ci><apply id="S2.SS1.p1.7.m7.2.2.1.1.1.cmml" xref="S2.SS1.p1.7.m7.2.2.1.1"><times id="S2.SS1.p1.7.m7.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.7.m7.2.2.1.1.1.1"></times><ci id="S2.SS1.p1.7.m7.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.7.m7.2.2.1.1.1.2">𝑔</ci><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">⋅</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.2c">f(g(\cdot))</annotation></semantics></math> with the union of all cooperative data sources <math id="S2.SS1.p1.8.m8.1" class="ltx_Math" alttext="D:=\cup_{k\in[K]}D_{k}" display="inline"><semantics id="S2.SS1.p1.8.m8.1a"><mrow id="S2.SS1.p1.8.m8.1.2" xref="S2.SS1.p1.8.m8.1.2.cmml"><mi id="S2.SS1.p1.8.m8.1.2.2" xref="S2.SS1.p1.8.m8.1.2.2.cmml">D</mi><mo lspace="0.278em" rspace="0em" id="S2.SS1.p1.8.m8.1.2.1" xref="S2.SS1.p1.8.m8.1.2.1.cmml">:=</mo><mrow id="S2.SS1.p1.8.m8.1.2.3" xref="S2.SS1.p1.8.m8.1.2.3.cmml"><msub id="S2.SS1.p1.8.m8.1.2.3.1" xref="S2.SS1.p1.8.m8.1.2.3.1.cmml"><mo lspace="0em" id="S2.SS1.p1.8.m8.1.2.3.1.2" xref="S2.SS1.p1.8.m8.1.2.3.1.2.cmml">∪</mo><mrow id="S2.SS1.p1.8.m8.1.1.1" xref="S2.SS1.p1.8.m8.1.1.1.cmml"><mi id="S2.SS1.p1.8.m8.1.1.1.3" xref="S2.SS1.p1.8.m8.1.1.1.3.cmml">k</mi><mo id="S2.SS1.p1.8.m8.1.1.1.2" xref="S2.SS1.p1.8.m8.1.1.1.2.cmml">∈</mo><mrow id="S2.SS1.p1.8.m8.1.1.1.4.2" xref="S2.SS1.p1.8.m8.1.1.1.4.1.cmml"><mo stretchy="false" id="S2.SS1.p1.8.m8.1.1.1.4.2.1" xref="S2.SS1.p1.8.m8.1.1.1.4.1.1.cmml">[</mo><mi id="S2.SS1.p1.8.m8.1.1.1.1" xref="S2.SS1.p1.8.m8.1.1.1.1.cmml">K</mi><mo stretchy="false" id="S2.SS1.p1.8.m8.1.1.1.4.2.2" xref="S2.SS1.p1.8.m8.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><msub id="S2.SS1.p1.8.m8.1.2.3.2" xref="S2.SS1.p1.8.m8.1.2.3.2.cmml"><mi id="S2.SS1.p1.8.m8.1.2.3.2.2" xref="S2.SS1.p1.8.m8.1.2.3.2.2.cmml">D</mi><mi id="S2.SS1.p1.8.m8.1.2.3.2.3" xref="S2.SS1.p1.8.m8.1.2.3.2.3.cmml">k</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><apply id="S2.SS1.p1.8.m8.1.2.cmml" xref="S2.SS1.p1.8.m8.1.2"><csymbol cd="latexml" id="S2.SS1.p1.8.m8.1.2.1.cmml" xref="S2.SS1.p1.8.m8.1.2.1">assign</csymbol><ci id="S2.SS1.p1.8.m8.1.2.2.cmml" xref="S2.SS1.p1.8.m8.1.2.2">𝐷</ci><apply id="S2.SS1.p1.8.m8.1.2.3.cmml" xref="S2.SS1.p1.8.m8.1.2.3"><apply id="S2.SS1.p1.8.m8.1.2.3.1.cmml" xref="S2.SS1.p1.8.m8.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.1.2.3.1.1.cmml" xref="S2.SS1.p1.8.m8.1.2.3.1">subscript</csymbol><union id="S2.SS1.p1.8.m8.1.2.3.1.2.cmml" xref="S2.SS1.p1.8.m8.1.2.3.1.2"></union><apply id="S2.SS1.p1.8.m8.1.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1.1"><in id="S2.SS1.p1.8.m8.1.1.1.2.cmml" xref="S2.SS1.p1.8.m8.1.1.1.2"></in><ci id="S2.SS1.p1.8.m8.1.1.1.3.cmml" xref="S2.SS1.p1.8.m8.1.1.1.3">𝑘</ci><apply id="S2.SS1.p1.8.m8.1.1.1.4.1.cmml" xref="S2.SS1.p1.8.m8.1.1.1.4.2"><csymbol cd="latexml" id="S2.SS1.p1.8.m8.1.1.1.4.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S2.SS1.p1.8.m8.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1.1.1">𝐾</ci></apply></apply></apply><apply id="S2.SS1.p1.8.m8.1.2.3.2.cmml" xref="S2.SS1.p1.8.m8.1.2.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.1.2.3.2.1.cmml" xref="S2.SS1.p1.8.m8.1.2.3.2">subscript</csymbol><ci id="S2.SS1.p1.8.m8.1.2.3.2.2.cmml" xref="S2.SS1.p1.8.m8.1.2.3.2.2">𝐷</ci><ci id="S2.SS1.p1.8.m8.1.2.3.2.3.cmml" xref="S2.SS1.p1.8.m8.1.2.3.2.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">D:=\cup_{k\in[K]}D_{k}</annotation></semantics></math> without privacy leakage, where <math id="S2.SS1.p1.9.m9.1" class="ltx_Math" alttext="f(\cdot)" display="inline"><semantics id="S2.SS1.p1.9.m9.1a"><mrow id="S2.SS1.p1.9.m9.1.2" xref="S2.SS1.p1.9.m9.1.2.cmml"><mi id="S2.SS1.p1.9.m9.1.2.2" xref="S2.SS1.p1.9.m9.1.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.9.m9.1.2.1" xref="S2.SS1.p1.9.m9.1.2.1.cmml">​</mo><mrow id="S2.SS1.p1.9.m9.1.2.3.2" xref="S2.SS1.p1.9.m9.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.9.m9.1.2.3.2.1" xref="S2.SS1.p1.9.m9.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS1.p1.9.m9.1.2.3.2.2" xref="S2.SS1.p1.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><apply id="S2.SS1.p1.9.m9.1.2.cmml" xref="S2.SS1.p1.9.m9.1.2"><times id="S2.SS1.p1.9.m9.1.2.1.cmml" xref="S2.SS1.p1.9.m9.1.2.1"></times><ci id="S2.SS1.p1.9.m9.1.2.2.cmml" xref="S2.SS1.p1.9.m9.1.2.2">𝑓</ci><ci id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">f(\cdot)</annotation></semantics></math> and <math id="S2.SS1.p1.10.m10.1" class="ltx_Math" alttext="g(\cdot)" display="inline"><semantics id="S2.SS1.p1.10.m10.1a"><mrow id="S2.SS1.p1.10.m10.1.2" xref="S2.SS1.p1.10.m10.1.2.cmml"><mi id="S2.SS1.p1.10.m10.1.2.2" xref="S2.SS1.p1.10.m10.1.2.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.10.m10.1.2.1" xref="S2.SS1.p1.10.m10.1.2.1.cmml">​</mo><mrow id="S2.SS1.p1.10.m10.1.2.3.2" xref="S2.SS1.p1.10.m10.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.10.m10.1.2.3.2.1" xref="S2.SS1.p1.10.m10.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS1.p1.10.m10.1.2.3.2.2" xref="S2.SS1.p1.10.m10.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><apply id="S2.SS1.p1.10.m10.1.2.cmml" xref="S2.SS1.p1.10.m10.1.2"><times id="S2.SS1.p1.10.m10.1.2.1.cmml" xref="S2.SS1.p1.10.m10.1.2.1"></times><ci id="S2.SS1.p1.10.m10.1.2.2.cmml" xref="S2.SS1.p1.10.m10.1.2.2">𝑔</ci><ci id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">g(\cdot)</annotation></semantics></math> represent the linear classifier and the feature extractor respectively. Note that <math id="S2.SS1.p1.11.m11.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS1.p1.11.m11.1a"><mi id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><ci id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">D</annotation></semantics></math> is set as class-imbalanced in this paper.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2206.13803/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="153" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Overview of the proposed FedIIC.</figcaption>
</figure>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.2" class="ltx_p">Assuming each image has two kinds of latent attributes, <span id="S2.SS1.p2.2.1" class="ltx_text ltx_font_italic">i.e.</span> <math id="S2.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{Z}_{c}" display="inline"><semantics id="S2.SS1.p2.1.m1.1a"><msub id="S2.SS1.p2.1.m1.1.1" xref="S2.SS1.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.1.m1.1.1.2" xref="S2.SS1.p2.1.m1.1.1.2.cmml">𝒵</mi><mi id="S2.SS1.p2.1.m1.1.1.3" xref="S2.SS1.p2.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.1.m1.1b"><apply id="S2.SS1.p2.1.m1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.1.m1.1.1.1.cmml" xref="S2.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS1.p2.1.m1.1.1.2.cmml" xref="S2.SS1.p2.1.m1.1.1.2">𝒵</ci><ci id="S2.SS1.p2.1.m1.1.1.3.cmml" xref="S2.SS1.p2.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.1.m1.1c">\mathcal{Z}_{c}</annotation></semantics></math> and <math id="S2.SS1.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{Z}_{a}" display="inline"><semantics id="S2.SS1.p2.2.m2.1a"><msub id="S2.SS1.p2.2.m2.1.1" xref="S2.SS1.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p2.2.m2.1.1.2" xref="S2.SS1.p2.2.m2.1.1.2.cmml">𝒵</mi><mi id="S2.SS1.p2.2.m2.1.1.3" xref="S2.SS1.p2.2.m2.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p2.2.m2.1b"><apply id="S2.SS1.p2.2.m2.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS1.p2.2.m2.1.1.1.cmml" xref="S2.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS1.p2.2.m2.1.1.2.cmml" xref="S2.SS1.p2.2.m2.1.1.2">𝒵</ci><ci id="S2.SS1.p2.2.m2.1.1.3.cmml" xref="S2.SS1.p2.2.m2.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p2.2.m2.1c">\mathcal{Z}_{a}</annotation></semantics></math>, representing the class-specific attributes (determining the category of the image, <span id="S2.SS1.p2.2.2" class="ltx_text ltx_font_italic">e.g</span>. texture, color, <span id="S2.SS1.p2.2.3" class="ltx_text ltx_font_italic">etc.</span>) and the variant background attributes (<span id="S2.SS1.p2.2.4" class="ltx_text ltx_font_italic">e.g</span>. brightness, contrast, <span id="S2.SS1.p2.2.5" class="ltx_text ltx_font_italic">etc.</span>) respectively <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>, based on the Bayes theorem, the posterior probability of classification can be formulated as</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.7" class="ltx_Math" alttext="P(y\mid x)=P(y\mid\mathcal{Z}_{c},\mathcal{Z}_{a})=\frac{p(\mathcal{Z}_{c}\mid y)}{p(\mathcal{Z}_{c})}\cdot\frac{p(\mathcal{Z}_{a}\mid y,\mathcal{Z}_{c})}{p(\mathcal{Z}_{a}\mid\mathcal{Z}_{c})}\cdot p(y)," display="block"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7.1" xref="S2.E1.m1.7.7.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1" xref="S2.E1.m1.7.7.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1.1" xref="S2.E1.m1.7.7.1.1.1.cmml"><mi id="S2.E1.m1.7.7.1.1.1.3" xref="S2.E1.m1.7.7.1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.1.2" xref="S2.E1.m1.7.7.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.1.1.1.2" xref="S2.E1.m1.7.7.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.7.7.1.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.7.7.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.1.1.1.1.1.1.2.cmml">y</mi><mo id="S2.E1.m1.7.7.1.1.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S2.E1.m1.7.7.1.1.1.1.1.1.3" xref="S2.E1.m1.7.7.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo stretchy="false" id="S2.E1.m1.7.7.1.1.1.1.1.3" xref="S2.E1.m1.7.7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.1.1.4" xref="S2.E1.m1.7.7.1.1.4.cmml">=</mo><mrow id="S2.E1.m1.7.7.1.1.2" xref="S2.E1.m1.7.7.1.1.2.cmml"><mi id="S2.E1.m1.7.7.1.1.2.3" xref="S2.E1.m1.7.7.1.1.2.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.2.2" xref="S2.E1.m1.7.7.1.1.2.2.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.2.1.1" xref="S2.E1.m1.7.7.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.2.1.1.2" xref="S2.E1.m1.7.7.1.1.2.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.7.7.1.1.2.1.1.1" xref="S2.E1.m1.7.7.1.1.2.1.1.1.cmml"><mi id="S2.E1.m1.7.7.1.1.2.1.1.1.4" xref="S2.E1.m1.7.7.1.1.2.1.1.1.4.cmml">y</mi><mo id="S2.E1.m1.7.7.1.1.2.1.1.1.3" xref="S2.E1.m1.7.7.1.1.2.1.1.1.3.cmml">∣</mo><mrow id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.3.cmml"><msub id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.2" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.2.cmml">𝒵</mi><mi id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.3" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.3.cmml">c</mi></msub><mo id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.3" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.3.cmml">,</mo><msub id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.2" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.2.cmml">𝒵</mi><mi id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.3" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.3.cmml">a</mi></msub></mrow></mrow><mo stretchy="false" id="S2.E1.m1.7.7.1.1.2.1.1.3" xref="S2.E1.m1.7.7.1.1.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.1.1.5" xref="S2.E1.m1.7.7.1.1.5.cmml">=</mo><mrow id="S2.E1.m1.7.7.1.1.6" xref="S2.E1.m1.7.7.1.1.6.cmml"><mrow id="S2.E1.m1.7.7.1.1.6.2" xref="S2.E1.m1.7.7.1.1.6.2.cmml"><mfrac id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml"><mrow id="S2.E1.m1.1.1.1" xref="S2.E1.m1.1.1.1.cmml"><mi id="S2.E1.m1.1.1.1.3" xref="S2.E1.m1.1.1.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.1.1.1.2" xref="S2.E1.m1.1.1.1.2.cmml">​</mo><mrow id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml"><msub id="S2.E1.m1.1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.1.1.2.2.cmml">𝒵</mi><mi id="S2.E1.m1.1.1.1.1.1.1.2.3" xref="S2.E1.m1.1.1.1.1.1.1.2.3.cmml">c</mi></msub><mo id="S2.E1.m1.1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S2.E1.m1.1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.3.cmml">y</mi></mrow><mo stretchy="false" id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E1.m1.2.2.2" xref="S2.E1.m1.2.2.2.cmml"><mi id="S2.E1.m1.2.2.2.3" xref="S2.E1.m1.2.2.2.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.2.cmml">​</mo><mrow id="S2.E1.m1.2.2.2.1.1" xref="S2.E1.m1.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.2.1.1.2" xref="S2.E1.m1.2.2.2.1.1.1.cmml">(</mo><msub id="S2.E1.m1.2.2.2.1.1.1" xref="S2.E1.m1.2.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.2.2.2.1.1.1.2" xref="S2.E1.m1.2.2.2.1.1.1.2.cmml">𝒵</mi><mi id="S2.E1.m1.2.2.2.1.1.1.3" xref="S2.E1.m1.2.2.2.1.1.1.3.cmml">c</mi></msub><mo stretchy="false" id="S2.E1.m1.2.2.2.1.1.3" xref="S2.E1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.7.7.1.1.6.2.1" xref="S2.E1.m1.7.7.1.1.6.2.1.cmml">⋅</mo><mfrac id="S2.E1.m1.5.5" xref="S2.E1.m1.5.5.cmml"><mrow id="S2.E1.m1.4.4.2" xref="S2.E1.m1.4.4.2.cmml"><mi id="S2.E1.m1.4.4.2.4" xref="S2.E1.m1.4.4.2.4.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.4.4.2.3" xref="S2.E1.m1.4.4.2.3.cmml">​</mo><mrow id="S2.E1.m1.4.4.2.2.1" xref="S2.E1.m1.4.4.2.2.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.4.4.2.2.1.2" xref="S2.E1.m1.4.4.2.2.1.1.cmml">(</mo><mrow id="S2.E1.m1.4.4.2.2.1.1" xref="S2.E1.m1.4.4.2.2.1.1.cmml"><msub id="S2.E1.m1.4.4.2.2.1.1.3" xref="S2.E1.m1.4.4.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4.2.2.1.1.3.2" xref="S2.E1.m1.4.4.2.2.1.1.3.2.cmml">𝒵</mi><mi id="S2.E1.m1.4.4.2.2.1.1.3.3" xref="S2.E1.m1.4.4.2.2.1.1.3.3.cmml">a</mi></msub><mo id="S2.E1.m1.4.4.2.2.1.1.2" xref="S2.E1.m1.4.4.2.2.1.1.2.cmml">∣</mo><mrow id="S2.E1.m1.4.4.2.2.1.1.1.1" xref="S2.E1.m1.4.4.2.2.1.1.1.2.cmml"><mi id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml">y</mi><mo id="S2.E1.m1.4.4.2.2.1.1.1.1.2" xref="S2.E1.m1.4.4.2.2.1.1.1.2.cmml">,</mo><msub id="S2.E1.m1.4.4.2.2.1.1.1.1.1" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4.2.2.1.1.1.1.1.2" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1.2.cmml">𝒵</mi><mi id="S2.E1.m1.4.4.2.2.1.1.1.1.1.3" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1.3.cmml">c</mi></msub></mrow></mrow><mo stretchy="false" id="S2.E1.m1.4.4.2.2.1.3" xref="S2.E1.m1.4.4.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E1.m1.5.5.3" xref="S2.E1.m1.5.5.3.cmml"><mi id="S2.E1.m1.5.5.3.3" xref="S2.E1.m1.5.5.3.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.5.5.3.2" xref="S2.E1.m1.5.5.3.2.cmml">​</mo><mrow id="S2.E1.m1.5.5.3.1.1" xref="S2.E1.m1.5.5.3.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.3.1.1.2" xref="S2.E1.m1.5.5.3.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.5.5.3.1.1.1" xref="S2.E1.m1.5.5.3.1.1.1.cmml"><msub id="S2.E1.m1.5.5.3.1.1.1.2" xref="S2.E1.m1.5.5.3.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.5.5.3.1.1.1.2.2" xref="S2.E1.m1.5.5.3.1.1.1.2.2.cmml">𝒵</mi><mi id="S2.E1.m1.5.5.3.1.1.1.2.3" xref="S2.E1.m1.5.5.3.1.1.1.2.3.cmml">a</mi></msub><mo id="S2.E1.m1.5.5.3.1.1.1.1" xref="S2.E1.m1.5.5.3.1.1.1.1.cmml">∣</mo><msub id="S2.E1.m1.5.5.3.1.1.1.3" xref="S2.E1.m1.5.5.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.5.5.3.1.1.1.3.2" xref="S2.E1.m1.5.5.3.1.1.1.3.2.cmml">𝒵</mi><mi id="S2.E1.m1.5.5.3.1.1.1.3.3" xref="S2.E1.m1.5.5.3.1.1.1.3.3.cmml">c</mi></msub></mrow><mo stretchy="false" id="S2.E1.m1.5.5.3.1.1.3" xref="S2.E1.m1.5.5.3.1.1.1.cmml">)</mo></mrow></mrow></mfrac><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.7.7.1.1.6.2.1a" xref="S2.E1.m1.7.7.1.1.6.2.1.cmml">⋅</mo><mi id="S2.E1.m1.7.7.1.1.6.2.2" xref="S2.E1.m1.7.7.1.1.6.2.2.cmml">p</mi></mrow><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.1.1.6.1" xref="S2.E1.m1.7.7.1.1.6.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.1.1.6.3.2" xref="S2.E1.m1.7.7.1.1.6.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.1.1.6.3.2.1" xref="S2.E1.m1.7.7.1.1.6.cmml">(</mo><mi id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6.cmml">y</mi><mo stretchy="false" id="S2.E1.m1.7.7.1.1.6.3.2.2" xref="S2.E1.m1.7.7.1.1.6.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.1.2" xref="S2.E1.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.1.1.cmml" xref="S2.E1.m1.7.7.1"><and id="S2.E1.m1.7.7.1.1a.cmml" xref="S2.E1.m1.7.7.1"></and><apply id="S2.E1.m1.7.7.1.1b.cmml" xref="S2.E1.m1.7.7.1"><eq id="S2.E1.m1.7.7.1.1.4.cmml" xref="S2.E1.m1.7.7.1.1.4"></eq><apply id="S2.E1.m1.7.7.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1"><times id="S2.E1.m1.7.7.1.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.1.2"></times><ci id="S2.E1.m1.7.7.1.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.1.3">𝑃</ci><apply id="S2.E1.m1.7.7.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.7.7.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E1.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.1.2">𝑦</ci><ci id="S2.E1.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S2.E1.m1.7.7.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.2"><times id="S2.E1.m1.7.7.1.1.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.2"></times><ci id="S2.E1.m1.7.7.1.1.2.3.cmml" xref="S2.E1.m1.7.7.1.1.2.3">𝑃</ci><apply id="S2.E1.m1.7.7.1.1.2.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1"><csymbol cd="latexml" id="S2.E1.m1.7.7.1.1.2.1.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.3">conditional</csymbol><ci id="S2.E1.m1.7.7.1.1.2.1.1.1.4.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.4">𝑦</ci><list id="S2.E1.m1.7.7.1.1.2.1.1.1.2.3.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2"><apply id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.2">𝒵</ci><ci id="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.1.1.1.3">𝑐</ci></apply><apply id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.1.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.2">𝒵</ci><ci id="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.3.cmml" xref="S2.E1.m1.7.7.1.1.2.1.1.1.2.2.2.3">𝑎</ci></apply></list></apply></apply></apply><apply id="S2.E1.m1.7.7.1.1c.cmml" xref="S2.E1.m1.7.7.1"><eq id="S2.E1.m1.7.7.1.1.5.cmml" xref="S2.E1.m1.7.7.1.1.5"></eq><share href="#S2.E1.m1.7.7.1.1.2.cmml" id="S2.E1.m1.7.7.1.1d.cmml" xref="S2.E1.m1.7.7.1"></share><apply id="S2.E1.m1.7.7.1.1.6.cmml" xref="S2.E1.m1.7.7.1.1.6"><times id="S2.E1.m1.7.7.1.1.6.1.cmml" xref="S2.E1.m1.7.7.1.1.6.1"></times><apply id="S2.E1.m1.7.7.1.1.6.2.cmml" xref="S2.E1.m1.7.7.1.1.6.2"><ci id="S2.E1.m1.7.7.1.1.6.2.1.cmml" xref="S2.E1.m1.7.7.1.1.6.2.1">⋅</ci><apply id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2"><divide id="S2.E1.m1.2.2.3.cmml" xref="S2.E1.m1.2.2"></divide><apply id="S2.E1.m1.1.1.1.cmml" xref="S2.E1.m1.1.1.1"><times id="S2.E1.m1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.2"></times><ci id="S2.E1.m1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.3">𝑝</ci><apply id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S2.E1.m1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.2">𝒵</ci><ci id="S2.E1.m1.1.1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.3">𝑐</ci></apply><ci id="S2.E1.m1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3">𝑦</ci></apply></apply><apply id="S2.E1.m1.2.2.2.cmml" xref="S2.E1.m1.2.2.2"><times id="S2.E1.m1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2"></times><ci id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.3">𝑝</ci><apply id="S2.E1.m1.2.2.2.1.1.1.cmml" xref="S2.E1.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.1.1.1.1.cmml" xref="S2.E1.m1.2.2.2.1.1">subscript</csymbol><ci id="S2.E1.m1.2.2.2.1.1.1.2.cmml" xref="S2.E1.m1.2.2.2.1.1.1.2">𝒵</ci><ci id="S2.E1.m1.2.2.2.1.1.1.3.cmml" xref="S2.E1.m1.2.2.2.1.1.1.3">𝑐</ci></apply></apply></apply><apply id="S2.E1.m1.5.5.cmml" xref="S2.E1.m1.5.5"><divide id="S2.E1.m1.5.5.4.cmml" xref="S2.E1.m1.5.5"></divide><apply id="S2.E1.m1.4.4.2.cmml" xref="S2.E1.m1.4.4.2"><times id="S2.E1.m1.4.4.2.3.cmml" xref="S2.E1.m1.4.4.2.3"></times><ci id="S2.E1.m1.4.4.2.4.cmml" xref="S2.E1.m1.4.4.2.4">𝑝</ci><apply id="S2.E1.m1.4.4.2.2.1.1.cmml" xref="S2.E1.m1.4.4.2.2.1"><csymbol cd="latexml" id="S2.E1.m1.4.4.2.2.1.1.2.cmml" xref="S2.E1.m1.4.4.2.2.1.1.2">conditional</csymbol><apply id="S2.E1.m1.4.4.2.2.1.1.3.cmml" xref="S2.E1.m1.4.4.2.2.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.2.2.1.1.3.1.cmml" xref="S2.E1.m1.4.4.2.2.1.1.3">subscript</csymbol><ci id="S2.E1.m1.4.4.2.2.1.1.3.2.cmml" xref="S2.E1.m1.4.4.2.2.1.1.3.2">𝒵</ci><ci id="S2.E1.m1.4.4.2.2.1.1.3.3.cmml" xref="S2.E1.m1.4.4.2.2.1.1.3.3">𝑎</ci></apply><list id="S2.E1.m1.4.4.2.2.1.1.1.2.cmml" xref="S2.E1.m1.4.4.2.2.1.1.1.1"><ci id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1.1">𝑦</ci><apply id="S2.E1.m1.4.4.2.2.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.2.2.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.4.4.2.2.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1.2">𝒵</ci><ci id="S2.E1.m1.4.4.2.2.1.1.1.1.1.3.cmml" xref="S2.E1.m1.4.4.2.2.1.1.1.1.1.3">𝑐</ci></apply></list></apply></apply><apply id="S2.E1.m1.5.5.3.cmml" xref="S2.E1.m1.5.5.3"><times id="S2.E1.m1.5.5.3.2.cmml" xref="S2.E1.m1.5.5.3.2"></times><ci id="S2.E1.m1.5.5.3.3.cmml" xref="S2.E1.m1.5.5.3.3">𝑝</ci><apply id="S2.E1.m1.5.5.3.1.1.1.cmml" xref="S2.E1.m1.5.5.3.1.1"><csymbol cd="latexml" id="S2.E1.m1.5.5.3.1.1.1.1.cmml" xref="S2.E1.m1.5.5.3.1.1.1.1">conditional</csymbol><apply id="S2.E1.m1.5.5.3.1.1.1.2.cmml" xref="S2.E1.m1.5.5.3.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.3.1.1.1.2.1.cmml" xref="S2.E1.m1.5.5.3.1.1.1.2">subscript</csymbol><ci id="S2.E1.m1.5.5.3.1.1.1.2.2.cmml" xref="S2.E1.m1.5.5.3.1.1.1.2.2">𝒵</ci><ci id="S2.E1.m1.5.5.3.1.1.1.2.3.cmml" xref="S2.E1.m1.5.5.3.1.1.1.2.3">𝑎</ci></apply><apply id="S2.E1.m1.5.5.3.1.1.1.3.cmml" xref="S2.E1.m1.5.5.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.3.1.1.1.3.1.cmml" xref="S2.E1.m1.5.5.3.1.1.1.3">subscript</csymbol><ci id="S2.E1.m1.5.5.3.1.1.1.3.2.cmml" xref="S2.E1.m1.5.5.3.1.1.1.3.2">𝒵</ci><ci id="S2.E1.m1.5.5.3.1.1.1.3.3.cmml" xref="S2.E1.m1.5.5.3.1.1.1.3.3">𝑐</ci></apply></apply></apply></apply><ci id="S2.E1.m1.7.7.1.1.6.2.2.cmml" xref="S2.E1.m1.7.7.1.1.6.2.2">𝑝</ci></apply><ci id="S2.E1.m1.6.6.cmml" xref="S2.E1.m1.6.6">𝑦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">P(y\mid x)=P(y\mid\mathcal{Z}_{c},\mathcal{Z}_{a})=\frac{p(\mathcal{Z}_{c}\mid y)}{p(\mathcal{Z}_{c})}\cdot\frac{p(\mathcal{Z}_{a}\mid y,\mathcal{Z}_{c})}{p(\mathcal{Z}_{a}\mid\mathcal{Z}_{c})}\cdot p(y),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS1.p2.3" class="ltx_p">where the last two items represent the attribute bias and the class bias respectively, which widely exist in class-imbalanced data and affect the posterior probability. For robust FL with class-imbalanced data, the key idea is to alleviate the two biases simultaneously, instead of focusing on the latter as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>. Hence, we propose FedIIC to address class imbalance from the two perspectives as illustrated in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.1 Preliminaries and Overview ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Details are presented in the following.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Intra-Client Contrastive Learning</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.3" class="ltx_p">Limited local data affects data diversity (<span id="S2.SS2.p1.3.1" class="ltx_text ltx_font_italic">i.e.</span>, limited <math id="S2.SS2.p1.1.m1.2" class="ltx_Math" alttext="(\mathcal{Z}_{c},\mathcal{Z}_{a})" display="inline"><semantics id="S2.SS2.p1.1.m1.2a"><mrow id="S2.SS2.p1.1.m1.2.2.2" xref="S2.SS2.p1.1.m1.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.p1.1.m1.2.2.2.3" xref="S2.SS2.p1.1.m1.2.2.3.cmml">(</mo><msub id="S2.SS2.p1.1.m1.1.1.1.1" xref="S2.SS2.p1.1.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.1.m1.1.1.1.1.2" xref="S2.SS2.p1.1.m1.1.1.1.1.2.cmml">𝒵</mi><mi id="S2.SS2.p1.1.m1.1.1.1.1.3" xref="S2.SS2.p1.1.m1.1.1.1.1.3.cmml">c</mi></msub><mo id="S2.SS2.p1.1.m1.2.2.2.4" xref="S2.SS2.p1.1.m1.2.2.3.cmml">,</mo><msub id="S2.SS2.p1.1.m1.2.2.2.2" xref="S2.SS2.p1.1.m1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.1.m1.2.2.2.2.2" xref="S2.SS2.p1.1.m1.2.2.2.2.2.cmml">𝒵</mi><mi id="S2.SS2.p1.1.m1.2.2.2.2.3" xref="S2.SS2.p1.1.m1.2.2.2.2.3.cmml">a</mi></msub><mo stretchy="false" id="S2.SS2.p1.1.m1.2.2.2.5" xref="S2.SS2.p1.1.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.2b"><interval closure="open" id="S2.SS2.p1.1.m1.2.2.3.cmml" xref="S2.SS2.p1.1.m1.2.2.2"><apply id="S2.SS2.p1.1.m1.1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.1.1.1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS2.p1.1.m1.1.1.1.1.2.cmml" xref="S2.SS2.p1.1.m1.1.1.1.1.2">𝒵</ci><ci id="S2.SS2.p1.1.m1.1.1.1.1.3.cmml" xref="S2.SS2.p1.1.m1.1.1.1.1.3">𝑐</ci></apply><apply id="S2.SS2.p1.1.m1.2.2.2.2.cmml" xref="S2.SS2.p1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.1.m1.2.2.2.2.1.cmml" xref="S2.SS2.p1.1.m1.2.2.2.2">subscript</csymbol><ci id="S2.SS2.p1.1.m1.2.2.2.2.2.cmml" xref="S2.SS2.p1.1.m1.2.2.2.2.2">𝒵</ci><ci id="S2.SS2.p1.1.m1.2.2.2.2.3.cmml" xref="S2.SS2.p1.1.m1.2.2.2.2.3">𝑎</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.2c">(\mathcal{Z}_{c},\mathcal{Z}_{a})</annotation></semantics></math> combinations), especially for minority classes, making <math id="S2.SS2.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{Z}_{c}" display="inline"><semantics id="S2.SS2.p1.2.m2.1a"><msub id="S2.SS2.p1.2.m2.1.1" xref="S2.SS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.2.m2.1.1.2" xref="S2.SS2.p1.2.m2.1.1.2.cmml">𝒵</mi><mi id="S2.SS2.p1.2.m2.1.1.3" xref="S2.SS2.p1.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.2.m2.1b"><apply id="S2.SS2.p1.2.m2.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.2.m2.1.1.1.cmml" xref="S2.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS2.p1.2.m2.1.1.2.cmml" xref="S2.SS2.p1.2.m2.1.1.2">𝒵</ci><ci id="S2.SS2.p1.2.m2.1.1.3.cmml" xref="S2.SS2.p1.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.2.m2.1c">\mathcal{Z}_{c}</annotation></semantics></math> less distinguishable. To emphasize more on the learning of <math id="S2.SS2.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{Z}_{c}" display="inline"><semantics id="S2.SS2.p1.3.m3.1a"><msub id="S2.SS2.p1.3.m3.1.1" xref="S2.SS2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.3.m3.1.1.2" xref="S2.SS2.p1.3.m3.1.1.2.cmml">𝒵</mi><mi id="S2.SS2.p1.3.m3.1.1.3" xref="S2.SS2.p1.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.3.m3.1b"><apply id="S2.SS2.p1.3.m3.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.3.m3.1.1.1.cmml" xref="S2.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p1.3.m3.1.1.2.cmml" xref="S2.SS2.p1.3.m3.1.1.2">𝒵</ci><ci id="S2.SS2.p1.3.m3.1.1.3.cmml" xref="S2.SS2.p1.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.3.m3.1c">\mathcal{Z}_{c}</annotation></semantics></math>, supervised contrastive learning (SCL), proven to be effective for representation learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>, is introduced in local training. The basic loss function of SCL can be formulated as</p>
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.9" class="ltx_Math" alttext="\mathcal{L}_{SCL}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\sum_{j\in P(i)}\log\frac{\exp(z_{i}\cdot z_{j}/\tau)}{\sum_{a\in A(i)}\exp(z_{i}\cdot z_{a}/\tau)}," display="block"><semantics id="S2.E2.m1.9a"><mrow id="S2.E2.m1.9.9.1" xref="S2.E2.m1.9.9.1.1.cmml"><mrow id="S2.E2.m1.9.9.1.1" xref="S2.E2.m1.9.9.1.1.cmml"><msub id="S2.E2.m1.9.9.1.1.2" xref="S2.E2.m1.9.9.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.9.9.1.1.2.2" xref="S2.E2.m1.9.9.1.1.2.2.cmml">ℒ</mi><mrow id="S2.E2.m1.9.9.1.1.2.3" xref="S2.E2.m1.9.9.1.1.2.3.cmml"><mi id="S2.E2.m1.9.9.1.1.2.3.2" xref="S2.E2.m1.9.9.1.1.2.3.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.9.9.1.1.2.3.1" xref="S2.E2.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E2.m1.9.9.1.1.2.3.3" xref="S2.E2.m1.9.9.1.1.2.3.3.cmml">C</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.9.9.1.1.2.3.1a" xref="S2.E2.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E2.m1.9.9.1.1.2.3.4" xref="S2.E2.m1.9.9.1.1.2.3.4.cmml">L</mi></mrow></msub><mo rspace="0.111em" id="S2.E2.m1.9.9.1.1.1" xref="S2.E2.m1.9.9.1.1.1.cmml">=</mo><mrow id="S2.E2.m1.9.9.1.1.3" xref="S2.E2.m1.9.9.1.1.3.cmml"><munder id="S2.E2.m1.9.9.1.1.3.1" xref="S2.E2.m1.9.9.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E2.m1.9.9.1.1.3.1.2" xref="S2.E2.m1.9.9.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E2.m1.9.9.1.1.3.1.3" xref="S2.E2.m1.9.9.1.1.3.1.3.cmml"><mi id="S2.E2.m1.9.9.1.1.3.1.3.2" xref="S2.E2.m1.9.9.1.1.3.1.3.2.cmml">i</mi><mo id="S2.E2.m1.9.9.1.1.3.1.3.1" xref="S2.E2.m1.9.9.1.1.3.1.3.1.cmml">∈</mo><mi id="S2.E2.m1.9.9.1.1.3.1.3.3" xref="S2.E2.m1.9.9.1.1.3.1.3.3.cmml">I</mi></mrow></munder><mrow id="S2.E2.m1.9.9.1.1.3.2" xref="S2.E2.m1.9.9.1.1.3.2.cmml"><mfrac id="S2.E2.m1.2.2" xref="S2.E2.m1.2.2.cmml"><mrow id="S2.E2.m1.2.2.4" xref="S2.E2.m1.2.2.4.cmml"><mo id="S2.E2.m1.2.2.4a" xref="S2.E2.m1.2.2.4.cmml">−</mo><mn id="S2.E2.m1.2.2.4.2" xref="S2.E2.m1.2.2.4.2.cmml">1</mn></mrow><mrow id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.3.cmml"><mo id="S2.E2.m1.2.2.2.2.2" xref="S2.E2.m1.2.2.2.3.1.cmml">|</mo><mrow id="S2.E2.m1.2.2.2.2.1" xref="S2.E2.m1.2.2.2.2.1.cmml"><mi id="S2.E2.m1.2.2.2.2.1.2" xref="S2.E2.m1.2.2.2.2.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.2.2.2.2.1.1" xref="S2.E2.m1.2.2.2.2.1.1.cmml">​</mo><mrow id="S2.E2.m1.2.2.2.2.1.3.2" xref="S2.E2.m1.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.3.2.1" xref="S2.E2.m1.2.2.2.2.1.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.2.2.2.2.1.3.2.2" xref="S2.E2.m1.2.2.2.2.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.2.2.2.2.3" xref="S2.E2.m1.2.2.2.3.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E2.m1.9.9.1.1.3.2.1" xref="S2.E2.m1.9.9.1.1.3.2.1.cmml">​</mo><mrow id="S2.E2.m1.9.9.1.1.3.2.2" xref="S2.E2.m1.9.9.1.1.3.2.2.cmml"><munder id="S2.E2.m1.9.9.1.1.3.2.2.1" xref="S2.E2.m1.9.9.1.1.3.2.2.1.cmml"><mo movablelimits="false" id="S2.E2.m1.9.9.1.1.3.2.2.1.2" xref="S2.E2.m1.9.9.1.1.3.2.2.1.2.cmml">∑</mo><mrow id="S2.E2.m1.3.3.1" xref="S2.E2.m1.3.3.1.cmml"><mi id="S2.E2.m1.3.3.1.3" xref="S2.E2.m1.3.3.1.3.cmml">j</mi><mo id="S2.E2.m1.3.3.1.2" xref="S2.E2.m1.3.3.1.2.cmml">∈</mo><mrow id="S2.E2.m1.3.3.1.4" xref="S2.E2.m1.3.3.1.4.cmml"><mi id="S2.E2.m1.3.3.1.4.2" xref="S2.E2.m1.3.3.1.4.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.3.3.1.4.1" xref="S2.E2.m1.3.3.1.4.1.cmml">​</mo><mrow id="S2.E2.m1.3.3.1.4.3.2" xref="S2.E2.m1.3.3.1.4.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.1.4.3.2.1" xref="S2.E2.m1.3.3.1.4.cmml">(</mo><mi id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.3.3.1.4.3.2.2" xref="S2.E2.m1.3.3.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S2.E2.m1.9.9.1.1.3.2.2.2" xref="S2.E2.m1.9.9.1.1.3.2.2.2.cmml"><mi id="S2.E2.m1.9.9.1.1.3.2.2.2.1" xref="S2.E2.m1.9.9.1.1.3.2.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.E2.m1.9.9.1.1.3.2.2.2a" xref="S2.E2.m1.9.9.1.1.3.2.2.2.cmml">⁡</mo><mfrac id="S2.E2.m1.8.8" xref="S2.E2.m1.8.8.cmml"><mrow id="S2.E2.m1.5.5.2.2" xref="S2.E2.m1.5.5.2.3.cmml"><mi id="S2.E2.m1.4.4.1.1" xref="S2.E2.m1.4.4.1.1.cmml">exp</mi><mo id="S2.E2.m1.5.5.2.2a" xref="S2.E2.m1.5.5.2.3.cmml">⁡</mo><mrow id="S2.E2.m1.5.5.2.2.1" xref="S2.E2.m1.5.5.2.3.cmml"><mo stretchy="false" id="S2.E2.m1.5.5.2.2.1.2" xref="S2.E2.m1.5.5.2.3.cmml">(</mo><mrow id="S2.E2.m1.5.5.2.2.1.1" xref="S2.E2.m1.5.5.2.2.1.1.cmml"><mrow id="S2.E2.m1.5.5.2.2.1.1.2" xref="S2.E2.m1.5.5.2.2.1.1.2.cmml"><msub id="S2.E2.m1.5.5.2.2.1.1.2.2" xref="S2.E2.m1.5.5.2.2.1.1.2.2.cmml"><mi id="S2.E2.m1.5.5.2.2.1.1.2.2.2" xref="S2.E2.m1.5.5.2.2.1.1.2.2.2.cmml">z</mi><mi id="S2.E2.m1.5.5.2.2.1.1.2.2.3" xref="S2.E2.m1.5.5.2.2.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E2.m1.5.5.2.2.1.1.2.1" xref="S2.E2.m1.5.5.2.2.1.1.2.1.cmml">⋅</mo><msub id="S2.E2.m1.5.5.2.2.1.1.2.3" xref="S2.E2.m1.5.5.2.2.1.1.2.3.cmml"><mi id="S2.E2.m1.5.5.2.2.1.1.2.3.2" xref="S2.E2.m1.5.5.2.2.1.1.2.3.2.cmml">z</mi><mi id="S2.E2.m1.5.5.2.2.1.1.2.3.3" xref="S2.E2.m1.5.5.2.2.1.1.2.3.3.cmml">j</mi></msub></mrow><mo id="S2.E2.m1.5.5.2.2.1.1.1" xref="S2.E2.m1.5.5.2.2.1.1.1.cmml">/</mo><mi id="S2.E2.m1.5.5.2.2.1.1.3" xref="S2.E2.m1.5.5.2.2.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E2.m1.5.5.2.2.1.3" xref="S2.E2.m1.5.5.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E2.m1.8.8.5" xref="S2.E2.m1.8.8.5.cmml"><msub id="S2.E2.m1.8.8.5.4" xref="S2.E2.m1.8.8.5.4.cmml"><mo id="S2.E2.m1.8.8.5.4.2" xref="S2.E2.m1.8.8.5.4.2.cmml">∑</mo><mrow id="S2.E2.m1.6.6.3.1.1" xref="S2.E2.m1.6.6.3.1.1.cmml"><mi id="S2.E2.m1.6.6.3.1.1.3" xref="S2.E2.m1.6.6.3.1.1.3.cmml">a</mi><mo id="S2.E2.m1.6.6.3.1.1.2" xref="S2.E2.m1.6.6.3.1.1.2.cmml">∈</mo><mrow id="S2.E2.m1.6.6.3.1.1.4" xref="S2.E2.m1.6.6.3.1.1.4.cmml"><mi id="S2.E2.m1.6.6.3.1.1.4.2" xref="S2.E2.m1.6.6.3.1.1.4.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.E2.m1.6.6.3.1.1.4.1" xref="S2.E2.m1.6.6.3.1.1.4.1.cmml">​</mo><mrow id="S2.E2.m1.6.6.3.1.1.4.3.2" xref="S2.E2.m1.6.6.3.1.1.4.cmml"><mo stretchy="false" id="S2.E2.m1.6.6.3.1.1.4.3.2.1" xref="S2.E2.m1.6.6.3.1.1.4.cmml">(</mo><mi id="S2.E2.m1.6.6.3.1.1.1" xref="S2.E2.m1.6.6.3.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E2.m1.6.6.3.1.1.4.3.2.2" xref="S2.E2.m1.6.6.3.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mrow id="S2.E2.m1.8.8.5.3.1" xref="S2.E2.m1.8.8.5.3.2.cmml"><mi id="S2.E2.m1.7.7.4.2" xref="S2.E2.m1.7.7.4.2.cmml">exp</mi><mo id="S2.E2.m1.8.8.5.3.1a" xref="S2.E2.m1.8.8.5.3.2.cmml">⁡</mo><mrow id="S2.E2.m1.8.8.5.3.1.1" xref="S2.E2.m1.8.8.5.3.2.cmml"><mo stretchy="false" id="S2.E2.m1.8.8.5.3.1.1.2" xref="S2.E2.m1.8.8.5.3.2.cmml">(</mo><mrow id="S2.E2.m1.8.8.5.3.1.1.1" xref="S2.E2.m1.8.8.5.3.1.1.1.cmml"><mrow id="S2.E2.m1.8.8.5.3.1.1.1.2" xref="S2.E2.m1.8.8.5.3.1.1.1.2.cmml"><msub id="S2.E2.m1.8.8.5.3.1.1.1.2.2" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2.cmml"><mi id="S2.E2.m1.8.8.5.3.1.1.1.2.2.2" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2.2.cmml">z</mi><mi id="S2.E2.m1.8.8.5.3.1.1.1.2.2.3" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E2.m1.8.8.5.3.1.1.1.2.1" xref="S2.E2.m1.8.8.5.3.1.1.1.2.1.cmml">⋅</mo><msub id="S2.E2.m1.8.8.5.3.1.1.1.2.3" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3.cmml"><mi id="S2.E2.m1.8.8.5.3.1.1.1.2.3.2" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3.2.cmml">z</mi><mi id="S2.E2.m1.8.8.5.3.1.1.1.2.3.3" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3.3.cmml">a</mi></msub></mrow><mo id="S2.E2.m1.8.8.5.3.1.1.1.1" xref="S2.E2.m1.8.8.5.3.1.1.1.1.cmml">/</mo><mi id="S2.E2.m1.8.8.5.3.1.1.1.3" xref="S2.E2.m1.8.8.5.3.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E2.m1.8.8.5.3.1.1.3" xref="S2.E2.m1.8.8.5.3.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.9.9.1.2" xref="S2.E2.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.9b"><apply id="S2.E2.m1.9.9.1.1.cmml" xref="S2.E2.m1.9.9.1"><eq id="S2.E2.m1.9.9.1.1.1.cmml" xref="S2.E2.m1.9.9.1.1.1"></eq><apply id="S2.E2.m1.9.9.1.1.2.cmml" xref="S2.E2.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.1.1.2.1.cmml" xref="S2.E2.m1.9.9.1.1.2">subscript</csymbol><ci id="S2.E2.m1.9.9.1.1.2.2.cmml" xref="S2.E2.m1.9.9.1.1.2.2">ℒ</ci><apply id="S2.E2.m1.9.9.1.1.2.3.cmml" xref="S2.E2.m1.9.9.1.1.2.3"><times id="S2.E2.m1.9.9.1.1.2.3.1.cmml" xref="S2.E2.m1.9.9.1.1.2.3.1"></times><ci id="S2.E2.m1.9.9.1.1.2.3.2.cmml" xref="S2.E2.m1.9.9.1.1.2.3.2">𝑆</ci><ci id="S2.E2.m1.9.9.1.1.2.3.3.cmml" xref="S2.E2.m1.9.9.1.1.2.3.3">𝐶</ci><ci id="S2.E2.m1.9.9.1.1.2.3.4.cmml" xref="S2.E2.m1.9.9.1.1.2.3.4">𝐿</ci></apply></apply><apply id="S2.E2.m1.9.9.1.1.3.cmml" xref="S2.E2.m1.9.9.1.1.3"><apply id="S2.E2.m1.9.9.1.1.3.1.cmml" xref="S2.E2.m1.9.9.1.1.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.1.1.3.1.1.cmml" xref="S2.E2.m1.9.9.1.1.3.1">subscript</csymbol><sum id="S2.E2.m1.9.9.1.1.3.1.2.cmml" xref="S2.E2.m1.9.9.1.1.3.1.2"></sum><apply id="S2.E2.m1.9.9.1.1.3.1.3.cmml" xref="S2.E2.m1.9.9.1.1.3.1.3"><in id="S2.E2.m1.9.9.1.1.3.1.3.1.cmml" xref="S2.E2.m1.9.9.1.1.3.1.3.1"></in><ci id="S2.E2.m1.9.9.1.1.3.1.3.2.cmml" xref="S2.E2.m1.9.9.1.1.3.1.3.2">𝑖</ci><ci id="S2.E2.m1.9.9.1.1.3.1.3.3.cmml" xref="S2.E2.m1.9.9.1.1.3.1.3.3">𝐼</ci></apply></apply><apply id="S2.E2.m1.9.9.1.1.3.2.cmml" xref="S2.E2.m1.9.9.1.1.3.2"><times id="S2.E2.m1.9.9.1.1.3.2.1.cmml" xref="S2.E2.m1.9.9.1.1.3.2.1"></times><apply id="S2.E2.m1.2.2.cmml" xref="S2.E2.m1.2.2"><divide id="S2.E2.m1.2.2.3.cmml" xref="S2.E2.m1.2.2"></divide><apply id="S2.E2.m1.2.2.4.cmml" xref="S2.E2.m1.2.2.4"><minus id="S2.E2.m1.2.2.4.1.cmml" xref="S2.E2.m1.2.2.4"></minus><cn type="integer" id="S2.E2.m1.2.2.4.2.cmml" xref="S2.E2.m1.2.2.4.2">1</cn></apply><apply id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.2"><abs id="S2.E2.m1.2.2.2.3.1.cmml" xref="S2.E2.m1.2.2.2.2.2"></abs><apply id="S2.E2.m1.2.2.2.2.1.cmml" xref="S2.E2.m1.2.2.2.2.1"><times id="S2.E2.m1.2.2.2.2.1.1.cmml" xref="S2.E2.m1.2.2.2.2.1.1"></times><ci id="S2.E2.m1.2.2.2.2.1.2.cmml" xref="S2.E2.m1.2.2.2.2.1.2">𝑃</ci><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.9.9.1.1.3.2.2.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2"><apply id="S2.E2.m1.9.9.1.1.3.2.2.1.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2.1"><csymbol cd="ambiguous" id="S2.E2.m1.9.9.1.1.3.2.2.1.1.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2.1">subscript</csymbol><sum id="S2.E2.m1.9.9.1.1.3.2.2.1.2.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2.1.2"></sum><apply id="S2.E2.m1.3.3.1.cmml" xref="S2.E2.m1.3.3.1"><in id="S2.E2.m1.3.3.1.2.cmml" xref="S2.E2.m1.3.3.1.2"></in><ci id="S2.E2.m1.3.3.1.3.cmml" xref="S2.E2.m1.3.3.1.3">𝑗</ci><apply id="S2.E2.m1.3.3.1.4.cmml" xref="S2.E2.m1.3.3.1.4"><times id="S2.E2.m1.3.3.1.4.1.cmml" xref="S2.E2.m1.3.3.1.4.1"></times><ci id="S2.E2.m1.3.3.1.4.2.cmml" xref="S2.E2.m1.3.3.1.4.2">𝑃</ci><ci id="S2.E2.m1.3.3.1.1.cmml" xref="S2.E2.m1.3.3.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.9.9.1.1.3.2.2.2.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2.2"><log id="S2.E2.m1.9.9.1.1.3.2.2.2.1.cmml" xref="S2.E2.m1.9.9.1.1.3.2.2.2.1"></log><apply id="S2.E2.m1.8.8.cmml" xref="S2.E2.m1.8.8"><divide id="S2.E2.m1.8.8.6.cmml" xref="S2.E2.m1.8.8"></divide><apply id="S2.E2.m1.5.5.2.3.cmml" xref="S2.E2.m1.5.5.2.2"><exp id="S2.E2.m1.4.4.1.1.cmml" xref="S2.E2.m1.4.4.1.1"></exp><apply id="S2.E2.m1.5.5.2.2.1.1.cmml" xref="S2.E2.m1.5.5.2.2.1.1"><divide id="S2.E2.m1.5.5.2.2.1.1.1.cmml" xref="S2.E2.m1.5.5.2.2.1.1.1"></divide><apply id="S2.E2.m1.5.5.2.2.1.1.2.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2"><ci id="S2.E2.m1.5.5.2.2.1.1.2.1.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.1">⋅</ci><apply id="S2.E2.m1.5.5.2.2.1.1.2.2.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.2.2.1.1.2.2.1.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.2">subscript</csymbol><ci id="S2.E2.m1.5.5.2.2.1.1.2.2.2.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.2.2">𝑧</ci><ci id="S2.E2.m1.5.5.2.2.1.1.2.2.3.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E2.m1.5.5.2.2.1.1.2.3.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.2.2.1.1.2.3.1.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.3">subscript</csymbol><ci id="S2.E2.m1.5.5.2.2.1.1.2.3.2.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.3.2">𝑧</ci><ci id="S2.E2.m1.5.5.2.2.1.1.2.3.3.cmml" xref="S2.E2.m1.5.5.2.2.1.1.2.3.3">𝑗</ci></apply></apply><ci id="S2.E2.m1.5.5.2.2.1.1.3.cmml" xref="S2.E2.m1.5.5.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S2.E2.m1.8.8.5.cmml" xref="S2.E2.m1.8.8.5"><apply id="S2.E2.m1.8.8.5.4.cmml" xref="S2.E2.m1.8.8.5.4"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.5.4.1.cmml" xref="S2.E2.m1.8.8.5.4">subscript</csymbol><sum id="S2.E2.m1.8.8.5.4.2.cmml" xref="S2.E2.m1.8.8.5.4.2"></sum><apply id="S2.E2.m1.6.6.3.1.1.cmml" xref="S2.E2.m1.6.6.3.1.1"><in id="S2.E2.m1.6.6.3.1.1.2.cmml" xref="S2.E2.m1.6.6.3.1.1.2"></in><ci id="S2.E2.m1.6.6.3.1.1.3.cmml" xref="S2.E2.m1.6.6.3.1.1.3">𝑎</ci><apply id="S2.E2.m1.6.6.3.1.1.4.cmml" xref="S2.E2.m1.6.6.3.1.1.4"><times id="S2.E2.m1.6.6.3.1.1.4.1.cmml" xref="S2.E2.m1.6.6.3.1.1.4.1"></times><ci id="S2.E2.m1.6.6.3.1.1.4.2.cmml" xref="S2.E2.m1.6.6.3.1.1.4.2">𝐴</ci><ci id="S2.E2.m1.6.6.3.1.1.1.cmml" xref="S2.E2.m1.6.6.3.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E2.m1.8.8.5.3.2.cmml" xref="S2.E2.m1.8.8.5.3.1"><exp id="S2.E2.m1.7.7.4.2.cmml" xref="S2.E2.m1.7.7.4.2"></exp><apply id="S2.E2.m1.8.8.5.3.1.1.1.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1"><divide id="S2.E2.m1.8.8.5.3.1.1.1.1.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.1"></divide><apply id="S2.E2.m1.8.8.5.3.1.1.1.2.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2"><ci id="S2.E2.m1.8.8.5.3.1.1.1.2.1.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.1">⋅</ci><apply id="S2.E2.m1.8.8.5.3.1.1.1.2.2.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.5.3.1.1.1.2.2.1.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2">subscript</csymbol><ci id="S2.E2.m1.8.8.5.3.1.1.1.2.2.2.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2.2">𝑧</ci><ci id="S2.E2.m1.8.8.5.3.1.1.1.2.2.3.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E2.m1.8.8.5.3.1.1.1.2.3.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E2.m1.8.8.5.3.1.1.1.2.3.1.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3">subscript</csymbol><ci id="S2.E2.m1.8.8.5.3.1.1.1.2.3.2.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3.2">𝑧</ci><ci id="S2.E2.m1.8.8.5.3.1.1.1.2.3.3.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.2.3.3">𝑎</ci></apply></apply><ci id="S2.E2.m1.8.8.5.3.1.1.1.3.cmml" xref="S2.E2.m1.8.8.5.3.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.9c">\mathcal{L}_{SCL}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\sum_{j\in P(i)}\log\frac{\exp(z_{i}\cdot z_{j}/\tau)}{\sum_{a\in A(i)}\exp(z_{i}\cdot z_{a}/\tau)},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p1.20" class="ltx_p">where <math id="S2.SS2.p1.4.m1.1" class="ltx_Math" alttext="I" display="inline"><semantics id="S2.SS2.p1.4.m1.1a"><mi id="S2.SS2.p1.4.m1.1.1" xref="S2.SS2.p1.4.m1.1.1.cmml">I</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.4.m1.1b"><ci id="S2.SS2.p1.4.m1.1.1.cmml" xref="S2.SS2.p1.4.m1.1.1">𝐼</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.4.m1.1c">I</annotation></semantics></math> denotes the index set of the multi-view batch generated by different augmentations (<span id="S2.SS2.p1.20.1" class="ltx_text ltx_font_italic">e.g.</span> the two views in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.1 Preliminaries and Overview ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> ), <math id="S2.SS2.p1.5.m2.1" class="ltx_math_unparsed" alttext="\left|\cdot\right|" display="inline"><semantics id="S2.SS2.p1.5.m2.1a"><mrow id="S2.SS2.p1.5.m2.1b"><mo fence="false" id="S2.SS2.p1.5.m2.1.1">|</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p1.5.m2.1.2">⋅</mo><mo fence="false" id="S2.SS2.p1.5.m2.1.3">|</mo></mrow><annotation encoding="application/x-tex" id="S2.SS2.p1.5.m2.1c">\left|\cdot\right|</annotation></semantics></math> measures the number of elements in a set, <math id="S2.SS2.p1.6.m3.6" class="ltx_Math" alttext="A(i)=I\backslash\{i\},P(i)=\{s\in A(i)|y_{s}=y_{i}\}" display="inline"><semantics id="S2.SS2.p1.6.m3.6a"><mrow id="S2.SS2.p1.6.m3.6.6.2" xref="S2.SS2.p1.6.m3.6.6.3.cmml"><mrow id="S2.SS2.p1.6.m3.5.5.1.1" xref="S2.SS2.p1.6.m3.5.5.1.1.cmml"><mrow id="S2.SS2.p1.6.m3.5.5.1.1.2" xref="S2.SS2.p1.6.m3.5.5.1.1.2.cmml"><mi id="S2.SS2.p1.6.m3.5.5.1.1.2.2" xref="S2.SS2.p1.6.m3.5.5.1.1.2.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.6.m3.5.5.1.1.2.1" xref="S2.SS2.p1.6.m3.5.5.1.1.2.1.cmml">​</mo><mrow id="S2.SS2.p1.6.m3.5.5.1.1.2.3.2" xref="S2.SS2.p1.6.m3.5.5.1.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m3.5.5.1.1.2.3.2.1" xref="S2.SS2.p1.6.m3.5.5.1.1.2.cmml">(</mo><mi id="S2.SS2.p1.6.m3.1.1" xref="S2.SS2.p1.6.m3.1.1.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.6.m3.5.5.1.1.2.3.2.2" xref="S2.SS2.p1.6.m3.5.5.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS2.p1.6.m3.5.5.1.1.1" xref="S2.SS2.p1.6.m3.5.5.1.1.1.cmml">=</mo><mrow id="S2.SS2.p1.6.m3.5.5.1.1.3" xref="S2.SS2.p1.6.m3.5.5.1.1.3.cmml"><mi id="S2.SS2.p1.6.m3.5.5.1.1.3.2" xref="S2.SS2.p1.6.m3.5.5.1.1.3.2.cmml">I</mi><mo lspace="0.222em" rspace="0.222em" id="S2.SS2.p1.6.m3.5.5.1.1.3.1" xref="S2.SS2.p1.6.m3.5.5.1.1.3.1.cmml">\</mo><mrow id="S2.SS2.p1.6.m3.5.5.1.1.3.3.2" xref="S2.SS2.p1.6.m3.5.5.1.1.3.3.1.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m3.5.5.1.1.3.3.2.1" xref="S2.SS2.p1.6.m3.5.5.1.1.3.3.1.cmml">{</mo><mi id="S2.SS2.p1.6.m3.2.2" xref="S2.SS2.p1.6.m3.2.2.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.6.m3.5.5.1.1.3.3.2.2" xref="S2.SS2.p1.6.m3.5.5.1.1.3.3.1.cmml">}</mo></mrow></mrow></mrow><mo id="S2.SS2.p1.6.m3.6.6.2.3" xref="S2.SS2.p1.6.m3.6.6.3a.cmml">,</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.cmml"><mrow id="S2.SS2.p1.6.m3.6.6.2.2.4" xref="S2.SS2.p1.6.m3.6.6.2.2.4.cmml"><mi id="S2.SS2.p1.6.m3.6.6.2.2.4.2" xref="S2.SS2.p1.6.m3.6.6.2.2.4.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.6.m3.6.6.2.2.4.1" xref="S2.SS2.p1.6.m3.6.6.2.2.4.1.cmml">​</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.4.3.2" xref="S2.SS2.p1.6.m3.6.6.2.2.4.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.4.3.2.1" xref="S2.SS2.p1.6.m3.6.6.2.2.4.cmml">(</mo><mi id="S2.SS2.p1.6.m3.3.3" xref="S2.SS2.p1.6.m3.3.3.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.4.3.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.4.cmml">)</mo></mrow></mrow><mo id="S2.SS2.p1.6.m3.6.6.2.2.3" xref="S2.SS2.p1.6.m3.6.6.2.2.3.cmml">=</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.2.3.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.2.2.3" xref="S2.SS2.p1.6.m3.6.6.2.2.2.3.1.cmml">{</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.cmml"><mi id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.2" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.2.cmml">s</mi><mo id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.1" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.1.cmml">∈</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.cmml"><mi id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.2" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.1" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.1.cmml">​</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.3.2" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.cmml"><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.3.2.1" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.cmml">(</mo><mi id="S2.SS2.p1.6.m3.4.4" xref="S2.SS2.p1.6.m3.4.4.cmml">i</mi><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.3.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" rspace="0em" id="S2.SS2.p1.6.m3.6.6.2.2.2.2.4" xref="S2.SS2.p1.6.m3.6.6.2.2.2.3.1.cmml">|</mo><mrow id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.cmml"><msub id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.cmml"><mi id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.2" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.2.cmml">y</mi><mi id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.3" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.3.cmml">s</mi></msub><mo id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.1" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.1.cmml">=</mo><msub id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.cmml"><mi id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.2" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.2.cmml">y</mi><mi id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.3" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S2.SS2.p1.6.m3.6.6.2.2.2.2.5" xref="S2.SS2.p1.6.m3.6.6.2.2.2.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.6.m3.6b"><apply id="S2.SS2.p1.6.m3.6.6.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m3.6.6.3a.cmml" xref="S2.SS2.p1.6.m3.6.6.2.3">formulae-sequence</csymbol><apply id="S2.SS2.p1.6.m3.5.5.1.1.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1"><eq id="S2.SS2.p1.6.m3.5.5.1.1.1.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.1"></eq><apply id="S2.SS2.p1.6.m3.5.5.1.1.2.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.2"><times id="S2.SS2.p1.6.m3.5.5.1.1.2.1.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.2.1"></times><ci id="S2.SS2.p1.6.m3.5.5.1.1.2.2.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.2.2">𝐴</ci><ci id="S2.SS2.p1.6.m3.1.1.cmml" xref="S2.SS2.p1.6.m3.1.1">𝑖</ci></apply><apply id="S2.SS2.p1.6.m3.5.5.1.1.3.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.3"><ci id="S2.SS2.p1.6.m3.5.5.1.1.3.1.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.3.1">\</ci><ci id="S2.SS2.p1.6.m3.5.5.1.1.3.2.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.3.2">𝐼</ci><set id="S2.SS2.p1.6.m3.5.5.1.1.3.3.1.cmml" xref="S2.SS2.p1.6.m3.5.5.1.1.3.3.2"><ci id="S2.SS2.p1.6.m3.2.2.cmml" xref="S2.SS2.p1.6.m3.2.2">𝑖</ci></set></apply></apply><apply id="S2.SS2.p1.6.m3.6.6.2.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2"><eq id="S2.SS2.p1.6.m3.6.6.2.2.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.3"></eq><apply id="S2.SS2.p1.6.m3.6.6.2.2.4.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.4"><times id="S2.SS2.p1.6.m3.6.6.2.2.4.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.4.1"></times><ci id="S2.SS2.p1.6.m3.6.6.2.2.4.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.4.2">𝑃</ci><ci id="S2.SS2.p1.6.m3.3.3.cmml" xref="S2.SS2.p1.6.m3.3.3">𝑖</ci></apply><apply id="S2.SS2.p1.6.m3.6.6.2.2.2.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2"><csymbol cd="latexml" id="S2.SS2.p1.6.m3.6.6.2.2.2.3.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.3">conditional-set</csymbol><apply id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1"><in id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.1"></in><ci id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.2">𝑠</ci><apply id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3"><times id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.1"></times><ci id="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.1.1.1.3.2">𝐴</ci><ci id="S2.SS2.p1.6.m3.4.4.cmml" xref="S2.SS2.p1.6.m3.4.4">𝑖</ci></apply></apply><apply id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2"><eq id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.1"></eq><apply id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2">subscript</csymbol><ci id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.2">𝑦</ci><ci id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.2.3">𝑠</ci></apply><apply id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.1.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3">subscript</csymbol><ci id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.2.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.2">𝑦</ci><ci id="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.3.cmml" xref="S2.SS2.p1.6.m3.6.6.2.2.2.2.2.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.6.m3.6c">A(i)=I\backslash\{i\},P(i)=\{s\in A(i)|y_{s}=y_{i}\}</annotation></semantics></math>, <math id="S2.SS2.p1.7.m4.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S2.SS2.p1.7.m4.1a"><mi id="S2.SS2.p1.7.m4.1.1" xref="S2.SS2.p1.7.m4.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.7.m4.1b"><ci id="S2.SS2.p1.7.m4.1.1.cmml" xref="S2.SS2.p1.7.m4.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.7.m4.1c">\tau</annotation></semantics></math> represents the temperature, and <math id="S2.SS2.p1.8.m5.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S2.SS2.p1.8.m5.1a"><mi id="S2.SS2.p1.8.m5.1.1" xref="S2.SS2.p1.8.m5.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.8.m5.1b"><ci id="S2.SS2.p1.8.m5.1.1.cmml" xref="S2.SS2.p1.8.m5.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.8.m5.1c">z</annotation></semantics></math> denotes the <math id="S2.SS2.p1.9.m6.1" class="ltx_Math" alttext="l_{2}" display="inline"><semantics id="S2.SS2.p1.9.m6.1a"><msub id="S2.SS2.p1.9.m6.1.1" xref="S2.SS2.p1.9.m6.1.1.cmml"><mi id="S2.SS2.p1.9.m6.1.1.2" xref="S2.SS2.p1.9.m6.1.1.2.cmml">l</mi><mn id="S2.SS2.p1.9.m6.1.1.3" xref="S2.SS2.p1.9.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.9.m6.1b"><apply id="S2.SS2.p1.9.m6.1.1.cmml" xref="S2.SS2.p1.9.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.9.m6.1.1.1.cmml" xref="S2.SS2.p1.9.m6.1.1">subscript</csymbol><ci id="S2.SS2.p1.9.m6.1.1.2.cmml" xref="S2.SS2.p1.9.m6.1.1.2">𝑙</ci><cn type="integer" id="S2.SS2.p1.9.m6.1.1.3.cmml" xref="S2.SS2.p1.9.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.9.m6.1c">l_{2}</annotation></semantics></math>-normalized embedding of a sample <math id="S2.SS2.p1.10.m7.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS2.p1.10.m7.1a"><mi id="S2.SS2.p1.10.m7.1.1" xref="S2.SS2.p1.10.m7.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.10.m7.1b"><ci id="S2.SS2.p1.10.m7.1.1.cmml" xref="S2.SS2.p1.10.m7.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.10.m7.1c">x</annotation></semantics></math>. Note that in this paper, we use a 2-layer MLP <math id="S2.SS2.p1.11.m8.1" class="ltx_Math" alttext="h(\cdot)" display="inline"><semantics id="S2.SS2.p1.11.m8.1a"><mrow id="S2.SS2.p1.11.m8.1.2" xref="S2.SS2.p1.11.m8.1.2.cmml"><mi id="S2.SS2.p1.11.m8.1.2.2" xref="S2.SS2.p1.11.m8.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.11.m8.1.2.1" xref="S2.SS2.p1.11.m8.1.2.1.cmml">​</mo><mrow id="S2.SS2.p1.11.m8.1.2.3.2" xref="S2.SS2.p1.11.m8.1.2.cmml"><mo stretchy="false" id="S2.SS2.p1.11.m8.1.2.3.2.1" xref="S2.SS2.p1.11.m8.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS2.p1.11.m8.1.1" xref="S2.SS2.p1.11.m8.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS2.p1.11.m8.1.2.3.2.2" xref="S2.SS2.p1.11.m8.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.11.m8.1b"><apply id="S2.SS2.p1.11.m8.1.2.cmml" xref="S2.SS2.p1.11.m8.1.2"><times id="S2.SS2.p1.11.m8.1.2.1.cmml" xref="S2.SS2.p1.11.m8.1.2.1"></times><ci id="S2.SS2.p1.11.m8.1.2.2.cmml" xref="S2.SS2.p1.11.m8.1.2.2">ℎ</ci><ci id="S2.SS2.p1.11.m8.1.1.cmml" xref="S2.SS2.p1.11.m8.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.11.m8.1c">h(\cdot)</annotation></semantics></math> to obtain <math id="S2.SS2.p1.12.m9.1" class="ltx_Math" alttext="z" display="inline"><semantics id="S2.SS2.p1.12.m9.1a"><mi id="S2.SS2.p1.12.m9.1.1" xref="S2.SS2.p1.12.m9.1.1.cmml">z</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.12.m9.1b"><ci id="S2.SS2.p1.12.m9.1.1.cmml" xref="S2.SS2.p1.12.m9.1.1">𝑧</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.12.m9.1c">z</annotation></semantics></math> before it is normalized as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>, <span id="S2.SS2.p1.20.2" class="ltx_text ltx_font_italic">i.e.</span> <math id="S2.SS2.p1.13.m10.4" class="ltx_Math" alttext="z=\frac{h(g(x))}{\left\|h(g(x))\right\|_{2}}" display="inline"><semantics id="S2.SS2.p1.13.m10.4a"><mrow id="S2.SS2.p1.13.m10.4.5" xref="S2.SS2.p1.13.m10.4.5.cmml"><mi id="S2.SS2.p1.13.m10.4.5.2" xref="S2.SS2.p1.13.m10.4.5.2.cmml">z</mi><mo id="S2.SS2.p1.13.m10.4.5.1" xref="S2.SS2.p1.13.m10.4.5.1.cmml">=</mo><mfrac id="S2.SS2.p1.13.m10.4.4" xref="S2.SS2.p1.13.m10.4.4.cmml"><mrow id="S2.SS2.p1.13.m10.2.2.2" xref="S2.SS2.p1.13.m10.2.2.2.cmml"><mi id="S2.SS2.p1.13.m10.2.2.2.4" xref="S2.SS2.p1.13.m10.2.2.2.4.cmml">h</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.13.m10.2.2.2.3" xref="S2.SS2.p1.13.m10.2.2.2.3.cmml">​</mo><mrow id="S2.SS2.p1.13.m10.2.2.2.2.1" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.13.m10.2.2.2.2.1.2" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml">(</mo><mrow id="S2.SS2.p1.13.m10.2.2.2.2.1.1" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml"><mi id="S2.SS2.p1.13.m10.2.2.2.2.1.1.2" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.13.m10.2.2.2.2.1.1.1" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.1.cmml">​</mo><mrow id="S2.SS2.p1.13.m10.2.2.2.2.1.1.3.2" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.13.m10.2.2.2.2.1.1.3.2.1" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml">(</mo><mi id="S2.SS2.p1.13.m10.1.1.1.1" xref="S2.SS2.p1.13.m10.1.1.1.1.cmml">x</mi><mo stretchy="false" id="S2.SS2.p1.13.m10.2.2.2.2.1.1.3.2.2" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS2.p1.13.m10.2.2.2.2.1.3" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><msub id="S2.SS2.p1.13.m10.4.4.4" xref="S2.SS2.p1.13.m10.4.4.4.cmml"><mrow id="S2.SS2.p1.13.m10.4.4.4.2.1" xref="S2.SS2.p1.13.m10.4.4.4.2.2.cmml"><mo id="S2.SS2.p1.13.m10.4.4.4.2.1.2" xref="S2.SS2.p1.13.m10.4.4.4.2.2.1.cmml">‖</mo><mrow id="S2.SS2.p1.13.m10.4.4.4.2.1.1" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.cmml"><mi id="S2.SS2.p1.13.m10.4.4.4.2.1.1.3" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.3.cmml">h</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.2" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.2.cmml">​</mo><mrow id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.2" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml"><mi id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.2" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.1" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.3.2" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.3.2.1" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml">(</mo><mi id="S2.SS2.p1.13.m10.3.3.3.1" xref="S2.SS2.p1.13.m10.3.3.3.1.cmml">x</mi><mo stretchy="false" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.3.2.2" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.3" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS2.p1.13.m10.4.4.4.2.1.3" xref="S2.SS2.p1.13.m10.4.4.4.2.2.1.cmml">‖</mo></mrow><mn id="S2.SS2.p1.13.m10.4.4.4.4" xref="S2.SS2.p1.13.m10.4.4.4.4.cmml">2</mn></msub></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.13.m10.4b"><apply id="S2.SS2.p1.13.m10.4.5.cmml" xref="S2.SS2.p1.13.m10.4.5"><eq id="S2.SS2.p1.13.m10.4.5.1.cmml" xref="S2.SS2.p1.13.m10.4.5.1"></eq><ci id="S2.SS2.p1.13.m10.4.5.2.cmml" xref="S2.SS2.p1.13.m10.4.5.2">𝑧</ci><apply id="S2.SS2.p1.13.m10.4.4.cmml" xref="S2.SS2.p1.13.m10.4.4"><divide id="S2.SS2.p1.13.m10.4.4.5.cmml" xref="S2.SS2.p1.13.m10.4.4"></divide><apply id="S2.SS2.p1.13.m10.2.2.2.cmml" xref="S2.SS2.p1.13.m10.2.2.2"><times id="S2.SS2.p1.13.m10.2.2.2.3.cmml" xref="S2.SS2.p1.13.m10.2.2.2.3"></times><ci id="S2.SS2.p1.13.m10.2.2.2.4.cmml" xref="S2.SS2.p1.13.m10.2.2.2.4">ℎ</ci><apply id="S2.SS2.p1.13.m10.2.2.2.2.1.1.cmml" xref="S2.SS2.p1.13.m10.2.2.2.2.1"><times id="S2.SS2.p1.13.m10.2.2.2.2.1.1.1.cmml" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.1"></times><ci id="S2.SS2.p1.13.m10.2.2.2.2.1.1.2.cmml" xref="S2.SS2.p1.13.m10.2.2.2.2.1.1.2">𝑔</ci><ci id="S2.SS2.p1.13.m10.1.1.1.1.cmml" xref="S2.SS2.p1.13.m10.1.1.1.1">𝑥</ci></apply></apply><apply id="S2.SS2.p1.13.m10.4.4.4.cmml" xref="S2.SS2.p1.13.m10.4.4.4"><csymbol cd="ambiguous" id="S2.SS2.p1.13.m10.4.4.4.3.cmml" xref="S2.SS2.p1.13.m10.4.4.4">subscript</csymbol><apply id="S2.SS2.p1.13.m10.4.4.4.2.2.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1"><csymbol cd="latexml" id="S2.SS2.p1.13.m10.4.4.4.2.2.1.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.2">norm</csymbol><apply id="S2.SS2.p1.13.m10.4.4.4.2.1.1.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1"><times id="S2.SS2.p1.13.m10.4.4.4.2.1.1.2.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.2"></times><ci id="S2.SS2.p1.13.m10.4.4.4.2.1.1.3.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.3">ℎ</ci><apply id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1"><times id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.1"></times><ci id="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.13.m10.4.4.4.2.1.1.1.1.1.2">𝑔</ci><ci id="S2.SS2.p1.13.m10.3.3.3.1.cmml" xref="S2.SS2.p1.13.m10.3.3.3.1">𝑥</ci></apply></apply></apply><cn type="integer" id="S2.SS2.p1.13.m10.4.4.4.4.cmml" xref="S2.SS2.p1.13.m10.4.4.4.4">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.13.m10.4c">z=\frac{h(g(x))}{\left\|h(g(x))\right\|_{2}}</annotation></semantics></math>. In the multi-view batch, <math id="S2.SS2.p1.14.m11.1" class="ltx_Math" alttext="\mathcal{L}_{SCL}" display="inline"><semantics id="S2.SS2.p1.14.m11.1a"><msub id="S2.SS2.p1.14.m11.1.1" xref="S2.SS2.p1.14.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.14.m11.1.1.2" xref="S2.SS2.p1.14.m11.1.1.2.cmml">ℒ</mi><mrow id="S2.SS2.p1.14.m11.1.1.3" xref="S2.SS2.p1.14.m11.1.1.3.cmml"><mi id="S2.SS2.p1.14.m11.1.1.3.2" xref="S2.SS2.p1.14.m11.1.1.3.2.cmml">S</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.14.m11.1.1.3.1" xref="S2.SS2.p1.14.m11.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p1.14.m11.1.1.3.3" xref="S2.SS2.p1.14.m11.1.1.3.3.cmml">C</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.14.m11.1.1.3.1a" xref="S2.SS2.p1.14.m11.1.1.3.1.cmml">​</mo><mi id="S2.SS2.p1.14.m11.1.1.3.4" xref="S2.SS2.p1.14.m11.1.1.3.4.cmml">L</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.14.m11.1b"><apply id="S2.SS2.p1.14.m11.1.1.cmml" xref="S2.SS2.p1.14.m11.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.14.m11.1.1.1.cmml" xref="S2.SS2.p1.14.m11.1.1">subscript</csymbol><ci id="S2.SS2.p1.14.m11.1.1.2.cmml" xref="S2.SS2.p1.14.m11.1.1.2">ℒ</ci><apply id="S2.SS2.p1.14.m11.1.1.3.cmml" xref="S2.SS2.p1.14.m11.1.1.3"><times id="S2.SS2.p1.14.m11.1.1.3.1.cmml" xref="S2.SS2.p1.14.m11.1.1.3.1"></times><ci id="S2.SS2.p1.14.m11.1.1.3.2.cmml" xref="S2.SS2.p1.14.m11.1.1.3.2">𝑆</ci><ci id="S2.SS2.p1.14.m11.1.1.3.3.cmml" xref="S2.SS2.p1.14.m11.1.1.3.3">𝐶</ci><ci id="S2.SS2.p1.14.m11.1.1.3.4.cmml" xref="S2.SS2.p1.14.m11.1.1.3.4">𝐿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.14.m11.1c">\mathcal{L}_{SCL}</annotation></semantics></math> keeps the embeddings of the same class closer while pushing the embeddings of different classes further away, which helps the model learn better <math id="S2.SS2.p1.15.m12.1" class="ltx_Math" alttext="\mathcal{Z}_{c}" display="inline"><semantics id="S2.SS2.p1.15.m12.1a"><msub id="S2.SS2.p1.15.m12.1.1" xref="S2.SS2.p1.15.m12.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.15.m12.1.1.2" xref="S2.SS2.p1.15.m12.1.1.2.cmml">𝒵</mi><mi id="S2.SS2.p1.15.m12.1.1.3" xref="S2.SS2.p1.15.m12.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.15.m12.1b"><apply id="S2.SS2.p1.15.m12.1.1.cmml" xref="S2.SS2.p1.15.m12.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.15.m12.1.1.1.cmml" xref="S2.SS2.p1.15.m12.1.1">subscript</csymbol><ci id="S2.SS2.p1.15.m12.1.1.2.cmml" xref="S2.SS2.p1.15.m12.1.1.2">𝒵</ci><ci id="S2.SS2.p1.15.m12.1.1.3.cmml" xref="S2.SS2.p1.15.m12.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.15.m12.1c">\mathcal{Z}_{c}</annotation></semantics></math> of each class due to richer <math id="S2.SS2.p1.16.m13.1" class="ltx_Math" alttext="\mathcal{Z}_{a}" display="inline"><semantics id="S2.SS2.p1.16.m13.1a"><msub id="S2.SS2.p1.16.m13.1.1" xref="S2.SS2.p1.16.m13.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.16.m13.1.1.2" xref="S2.SS2.p1.16.m13.1.1.2.cmml">𝒵</mi><mi id="S2.SS2.p1.16.m13.1.1.3" xref="S2.SS2.p1.16.m13.1.1.3.cmml">a</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.16.m13.1b"><apply id="S2.SS2.p1.16.m13.1.1.cmml" xref="S2.SS2.p1.16.m13.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.16.m13.1.1.1.cmml" xref="S2.SS2.p1.16.m13.1.1">subscript</csymbol><ci id="S2.SS2.p1.16.m13.1.1.2.cmml" xref="S2.SS2.p1.16.m13.1.1.2">𝒵</ci><ci id="S2.SS2.p1.16.m13.1.1.3.cmml" xref="S2.SS2.p1.16.m13.1.1.3">𝑎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.16.m13.1c">\mathcal{Z}_{a}</annotation></semantics></math>.
However, SCL can not perfectly address class imbalance as the majority classes would benefit more from Eq. <a href="#S2.E2" title="In 2.2 Intra-Client Contrastive Learning ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> following traditional training losses (<span id="S2.SS2.p1.20.3" class="ltx_text ltx_font_italic">e.g.</span> the cross entropy loss). To overcome this problem, we propose to employ a dynamic temperature <math id="S2.SS2.p1.17.m14.1" class="ltx_Math" alttext="\tau^{\prime}:=P\tau=(p^{i}p^{j})^{t}\tau" display="inline"><semantics id="S2.SS2.p1.17.m14.1a"><mrow id="S2.SS2.p1.17.m14.1.1" xref="S2.SS2.p1.17.m14.1.1.cmml"><msup id="S2.SS2.p1.17.m14.1.1.3" xref="S2.SS2.p1.17.m14.1.1.3.cmml"><mi id="S2.SS2.p1.17.m14.1.1.3.2" xref="S2.SS2.p1.17.m14.1.1.3.2.cmml">τ</mi><mo id="S2.SS2.p1.17.m14.1.1.3.3" xref="S2.SS2.p1.17.m14.1.1.3.3.cmml">′</mo></msup><mo lspace="0.278em" rspace="0.278em" id="S2.SS2.p1.17.m14.1.1.4" xref="S2.SS2.p1.17.m14.1.1.4.cmml">:=</mo><mrow id="S2.SS2.p1.17.m14.1.1.5" xref="S2.SS2.p1.17.m14.1.1.5.cmml"><mi id="S2.SS2.p1.17.m14.1.1.5.2" xref="S2.SS2.p1.17.m14.1.1.5.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.SS2.p1.17.m14.1.1.5.1" xref="S2.SS2.p1.17.m14.1.1.5.1.cmml">​</mo><mi id="S2.SS2.p1.17.m14.1.1.5.3" xref="S2.SS2.p1.17.m14.1.1.5.3.cmml">τ</mi></mrow><mo id="S2.SS2.p1.17.m14.1.1.6" xref="S2.SS2.p1.17.m14.1.1.6.cmml">=</mo><mrow id="S2.SS2.p1.17.m14.1.1.1" xref="S2.SS2.p1.17.m14.1.1.1.cmml"><msup id="S2.SS2.p1.17.m14.1.1.1.1" xref="S2.SS2.p1.17.m14.1.1.1.1.cmml"><mrow id="S2.SS2.p1.17.m14.1.1.1.1.1.1" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS2.p1.17.m14.1.1.1.1.1.1.2" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.cmml"><msup id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.cmml"><mi id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.2" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.2.cmml">p</mi><mi id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.3" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.1" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.1.cmml">​</mo><msup id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.cmml"><mi id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.2" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.3" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.3.cmml">j</mi></msup></mrow><mo stretchy="false" id="S2.SS2.p1.17.m14.1.1.1.1.1.1.3" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S2.SS2.p1.17.m14.1.1.1.1.3" xref="S2.SS2.p1.17.m14.1.1.1.1.3.cmml">t</mi></msup><mo lspace="0em" rspace="0em" id="S2.SS2.p1.17.m14.1.1.1.2" xref="S2.SS2.p1.17.m14.1.1.1.2.cmml">​</mo><mi id="S2.SS2.p1.17.m14.1.1.1.3" xref="S2.SS2.p1.17.m14.1.1.1.3.cmml">τ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.17.m14.1b"><apply id="S2.SS2.p1.17.m14.1.1.cmml" xref="S2.SS2.p1.17.m14.1.1"><and id="S2.SS2.p1.17.m14.1.1a.cmml" xref="S2.SS2.p1.17.m14.1.1"></and><apply id="S2.SS2.p1.17.m14.1.1b.cmml" xref="S2.SS2.p1.17.m14.1.1"><csymbol cd="latexml" id="S2.SS2.p1.17.m14.1.1.4.cmml" xref="S2.SS2.p1.17.m14.1.1.4">assign</csymbol><apply id="S2.SS2.p1.17.m14.1.1.3.cmml" xref="S2.SS2.p1.17.m14.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p1.17.m14.1.1.3.1.cmml" xref="S2.SS2.p1.17.m14.1.1.3">superscript</csymbol><ci id="S2.SS2.p1.17.m14.1.1.3.2.cmml" xref="S2.SS2.p1.17.m14.1.1.3.2">𝜏</ci><ci id="S2.SS2.p1.17.m14.1.1.3.3.cmml" xref="S2.SS2.p1.17.m14.1.1.3.3">′</ci></apply><apply id="S2.SS2.p1.17.m14.1.1.5.cmml" xref="S2.SS2.p1.17.m14.1.1.5"><times id="S2.SS2.p1.17.m14.1.1.5.1.cmml" xref="S2.SS2.p1.17.m14.1.1.5.1"></times><ci id="S2.SS2.p1.17.m14.1.1.5.2.cmml" xref="S2.SS2.p1.17.m14.1.1.5.2">𝑃</ci><ci id="S2.SS2.p1.17.m14.1.1.5.3.cmml" xref="S2.SS2.p1.17.m14.1.1.5.3">𝜏</ci></apply></apply><apply id="S2.SS2.p1.17.m14.1.1c.cmml" xref="S2.SS2.p1.17.m14.1.1"><eq id="S2.SS2.p1.17.m14.1.1.6.cmml" xref="S2.SS2.p1.17.m14.1.1.6"></eq><share href="#S2.SS2.p1.17.m14.1.1.5.cmml" id="S2.SS2.p1.17.m14.1.1d.cmml" xref="S2.SS2.p1.17.m14.1.1"></share><apply id="S2.SS2.p1.17.m14.1.1.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1"><times id="S2.SS2.p1.17.m14.1.1.1.2.cmml" xref="S2.SS2.p1.17.m14.1.1.1.2"></times><apply id="S2.SS2.p1.17.m14.1.1.1.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.17.m14.1.1.1.1.2.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1">superscript</csymbol><apply id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1"><times id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.1"></times><apply id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.2">𝑝</ci><ci id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.3.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.1.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.2.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.3.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.1.1.1.3.3">𝑗</ci></apply></apply><ci id="S2.SS2.p1.17.m14.1.1.1.1.3.cmml" xref="S2.SS2.p1.17.m14.1.1.1.1.3">𝑡</ci></apply><ci id="S2.SS2.p1.17.m14.1.1.1.3.cmml" xref="S2.SS2.p1.17.m14.1.1.1.3">𝜏</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.17.m14.1c">\tau^{\prime}:=P\tau=(p^{i}p^{j})^{t}\tau</annotation></semantics></math> in Eq. <a href="#S2.E2" title="In 2.2 Intra-Client Contrastive Learning ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, where <math id="S2.SS2.p1.18.m15.1" class="ltx_Math" alttext="p^{i}" display="inline"><semantics id="S2.SS2.p1.18.m15.1a"><msup id="S2.SS2.p1.18.m15.1.1" xref="S2.SS2.p1.18.m15.1.1.cmml"><mi id="S2.SS2.p1.18.m15.1.1.2" xref="S2.SS2.p1.18.m15.1.1.2.cmml">p</mi><mi id="S2.SS2.p1.18.m15.1.1.3" xref="S2.SS2.p1.18.m15.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.18.m15.1b"><apply id="S2.SS2.p1.18.m15.1.1.cmml" xref="S2.SS2.p1.18.m15.1.1"><csymbol cd="ambiguous" id="S2.SS2.p1.18.m15.1.1.1.cmml" xref="S2.SS2.p1.18.m15.1.1">superscript</csymbol><ci id="S2.SS2.p1.18.m15.1.1.2.cmml" xref="S2.SS2.p1.18.m15.1.1.2">𝑝</ci><ci id="S2.SS2.p1.18.m15.1.1.3.cmml" xref="S2.SS2.p1.18.m15.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.18.m15.1c">p^{i}</annotation></semantics></math> is the prior probability of class <math id="S2.SS2.p1.19.m16.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS2.p1.19.m16.1a"><mi id="S2.SS2.p1.19.m16.1.1" xref="S2.SS2.p1.19.m16.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.19.m16.1b"><ci id="S2.SS2.p1.19.m16.1.1.cmml" xref="S2.SS2.p1.19.m16.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.19.m16.1c">i</annotation></semantics></math> in the local dataset and <math id="S2.SS2.p1.20.m17.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS2.p1.20.m17.1a"><mi id="S2.SS2.p1.20.m17.1.1" xref="S2.SS2.p1.20.m17.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.20.m17.1b"><ci id="S2.SS2.p1.20.m17.1.1.cmml" xref="S2.SS2.p1.20.m17.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.20.m17.1c">t</annotation></semantics></math> is a parameter set as 0.5 by default. Hence, the loss function is rewritten as</p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.9" class="ltx_Math" alttext="\mathcal{L}_{Intra}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\sum_{j\in P(i)}\log\frac{\exp(z_{i}\cdot z_{j}/\tau^{\prime})}{\sum_{a\in A(i)}\exp(z_{i}\cdot z_{a}/\tau^{\prime})}," display="block"><semantics id="S2.E3.m1.9a"><mrow id="S2.E3.m1.9.9.1" xref="S2.E3.m1.9.9.1.1.cmml"><mrow id="S2.E3.m1.9.9.1.1" xref="S2.E3.m1.9.9.1.1.cmml"><msub id="S2.E3.m1.9.9.1.1.2" xref="S2.E3.m1.9.9.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.9.9.1.1.2.2" xref="S2.E3.m1.9.9.1.1.2.2.cmml">ℒ</mi><mrow id="S2.E3.m1.9.9.1.1.2.3" xref="S2.E3.m1.9.9.1.1.2.3.cmml"><mi id="S2.E3.m1.9.9.1.1.2.3.2" xref="S2.E3.m1.9.9.1.1.2.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.9.9.1.1.2.3.1" xref="S2.E3.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E3.m1.9.9.1.1.2.3.3" xref="S2.E3.m1.9.9.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.9.9.1.1.2.3.1a" xref="S2.E3.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E3.m1.9.9.1.1.2.3.4" xref="S2.E3.m1.9.9.1.1.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.9.9.1.1.2.3.1b" xref="S2.E3.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E3.m1.9.9.1.1.2.3.5" xref="S2.E3.m1.9.9.1.1.2.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.9.9.1.1.2.3.1c" xref="S2.E3.m1.9.9.1.1.2.3.1.cmml">​</mo><mi id="S2.E3.m1.9.9.1.1.2.3.6" xref="S2.E3.m1.9.9.1.1.2.3.6.cmml">a</mi></mrow></msub><mo rspace="0.111em" id="S2.E3.m1.9.9.1.1.1" xref="S2.E3.m1.9.9.1.1.1.cmml">=</mo><mrow id="S2.E3.m1.9.9.1.1.3" xref="S2.E3.m1.9.9.1.1.3.cmml"><munder id="S2.E3.m1.9.9.1.1.3.1" xref="S2.E3.m1.9.9.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E3.m1.9.9.1.1.3.1.2" xref="S2.E3.m1.9.9.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E3.m1.9.9.1.1.3.1.3" xref="S2.E3.m1.9.9.1.1.3.1.3.cmml"><mi id="S2.E3.m1.9.9.1.1.3.1.3.2" xref="S2.E3.m1.9.9.1.1.3.1.3.2.cmml">i</mi><mo id="S2.E3.m1.9.9.1.1.3.1.3.1" xref="S2.E3.m1.9.9.1.1.3.1.3.1.cmml">∈</mo><mi id="S2.E3.m1.9.9.1.1.3.1.3.3" xref="S2.E3.m1.9.9.1.1.3.1.3.3.cmml">I</mi></mrow></munder><mrow id="S2.E3.m1.9.9.1.1.3.2" xref="S2.E3.m1.9.9.1.1.3.2.cmml"><mfrac id="S2.E3.m1.2.2" xref="S2.E3.m1.2.2.cmml"><mrow id="S2.E3.m1.2.2.4" xref="S2.E3.m1.2.2.4.cmml"><mo id="S2.E3.m1.2.2.4a" xref="S2.E3.m1.2.2.4.cmml">−</mo><mn id="S2.E3.m1.2.2.4.2" xref="S2.E3.m1.2.2.4.2.cmml">1</mn></mrow><mrow id="S2.E3.m1.2.2.2.2" xref="S2.E3.m1.2.2.2.3.cmml"><mo id="S2.E3.m1.2.2.2.2.2" xref="S2.E3.m1.2.2.2.3.1.cmml">|</mo><mrow id="S2.E3.m1.2.2.2.2.1" xref="S2.E3.m1.2.2.2.2.1.cmml"><mi id="S2.E3.m1.2.2.2.2.1.2" xref="S2.E3.m1.2.2.2.2.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.2.2.2.2.1.1" xref="S2.E3.m1.2.2.2.2.1.1.cmml">​</mo><mrow id="S2.E3.m1.2.2.2.2.1.3.2" xref="S2.E3.m1.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E3.m1.2.2.2.2.1.3.2.1" xref="S2.E3.m1.2.2.2.2.1.cmml">(</mo><mi id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E3.m1.2.2.2.2.1.3.2.2" xref="S2.E3.m1.2.2.2.2.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.2.2.2.2.3" xref="S2.E3.m1.2.2.2.3.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.E3.m1.9.9.1.1.3.2.1" xref="S2.E3.m1.9.9.1.1.3.2.1.cmml">​</mo><mrow id="S2.E3.m1.9.9.1.1.3.2.2" xref="S2.E3.m1.9.9.1.1.3.2.2.cmml"><munder id="S2.E3.m1.9.9.1.1.3.2.2.1" xref="S2.E3.m1.9.9.1.1.3.2.2.1.cmml"><mo movablelimits="false" id="S2.E3.m1.9.9.1.1.3.2.2.1.2" xref="S2.E3.m1.9.9.1.1.3.2.2.1.2.cmml">∑</mo><mrow id="S2.E3.m1.3.3.1" xref="S2.E3.m1.3.3.1.cmml"><mi id="S2.E3.m1.3.3.1.3" xref="S2.E3.m1.3.3.1.3.cmml">j</mi><mo id="S2.E3.m1.3.3.1.2" xref="S2.E3.m1.3.3.1.2.cmml">∈</mo><mrow id="S2.E3.m1.3.3.1.4" xref="S2.E3.m1.3.3.1.4.cmml"><mi id="S2.E3.m1.3.3.1.4.2" xref="S2.E3.m1.3.3.1.4.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.3.3.1.4.1" xref="S2.E3.m1.3.3.1.4.1.cmml">​</mo><mrow id="S2.E3.m1.3.3.1.4.3.2" xref="S2.E3.m1.3.3.1.4.cmml"><mo stretchy="false" id="S2.E3.m1.3.3.1.4.3.2.1" xref="S2.E3.m1.3.3.1.4.cmml">(</mo><mi id="S2.E3.m1.3.3.1.1" xref="S2.E3.m1.3.3.1.1.cmml">i</mi><mo stretchy="false" id="S2.E3.m1.3.3.1.4.3.2.2" xref="S2.E3.m1.3.3.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S2.E3.m1.9.9.1.1.3.2.2.2" xref="S2.E3.m1.9.9.1.1.3.2.2.2.cmml"><mi id="S2.E3.m1.9.9.1.1.3.2.2.2.1" xref="S2.E3.m1.9.9.1.1.3.2.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.E3.m1.9.9.1.1.3.2.2.2a" xref="S2.E3.m1.9.9.1.1.3.2.2.2.cmml">⁡</mo><mfrac id="S2.E3.m1.8.8" xref="S2.E3.m1.8.8.cmml"><mrow id="S2.E3.m1.5.5.2.2" xref="S2.E3.m1.5.5.2.3.cmml"><mi id="S2.E3.m1.4.4.1.1" xref="S2.E3.m1.4.4.1.1.cmml">exp</mi><mo id="S2.E3.m1.5.5.2.2a" xref="S2.E3.m1.5.5.2.3.cmml">⁡</mo><mrow id="S2.E3.m1.5.5.2.2.1" xref="S2.E3.m1.5.5.2.3.cmml"><mo stretchy="false" id="S2.E3.m1.5.5.2.2.1.2" xref="S2.E3.m1.5.5.2.3.cmml">(</mo><mrow id="S2.E3.m1.5.5.2.2.1.1" xref="S2.E3.m1.5.5.2.2.1.1.cmml"><mrow id="S2.E3.m1.5.5.2.2.1.1.2" xref="S2.E3.m1.5.5.2.2.1.1.2.cmml"><msub id="S2.E3.m1.5.5.2.2.1.1.2.2" xref="S2.E3.m1.5.5.2.2.1.1.2.2.cmml"><mi id="S2.E3.m1.5.5.2.2.1.1.2.2.2" xref="S2.E3.m1.5.5.2.2.1.1.2.2.2.cmml">z</mi><mi id="S2.E3.m1.5.5.2.2.1.1.2.2.3" xref="S2.E3.m1.5.5.2.2.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E3.m1.5.5.2.2.1.1.2.1" xref="S2.E3.m1.5.5.2.2.1.1.2.1.cmml">⋅</mo><msub id="S2.E3.m1.5.5.2.2.1.1.2.3" xref="S2.E3.m1.5.5.2.2.1.1.2.3.cmml"><mi id="S2.E3.m1.5.5.2.2.1.1.2.3.2" xref="S2.E3.m1.5.5.2.2.1.1.2.3.2.cmml">z</mi><mi id="S2.E3.m1.5.5.2.2.1.1.2.3.3" xref="S2.E3.m1.5.5.2.2.1.1.2.3.3.cmml">j</mi></msub></mrow><mo id="S2.E3.m1.5.5.2.2.1.1.1" xref="S2.E3.m1.5.5.2.2.1.1.1.cmml">/</mo><msup id="S2.E3.m1.5.5.2.2.1.1.3" xref="S2.E3.m1.5.5.2.2.1.1.3.cmml"><mi id="S2.E3.m1.5.5.2.2.1.1.3.2" xref="S2.E3.m1.5.5.2.2.1.1.3.2.cmml">τ</mi><mo id="S2.E3.m1.5.5.2.2.1.1.3.3" xref="S2.E3.m1.5.5.2.2.1.1.3.3.cmml">′</mo></msup></mrow><mo stretchy="false" id="S2.E3.m1.5.5.2.2.1.3" xref="S2.E3.m1.5.5.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E3.m1.8.8.5" xref="S2.E3.m1.8.8.5.cmml"><msub id="S2.E3.m1.8.8.5.4" xref="S2.E3.m1.8.8.5.4.cmml"><mo id="S2.E3.m1.8.8.5.4.2" xref="S2.E3.m1.8.8.5.4.2.cmml">∑</mo><mrow id="S2.E3.m1.6.6.3.1.1" xref="S2.E3.m1.6.6.3.1.1.cmml"><mi id="S2.E3.m1.6.6.3.1.1.3" xref="S2.E3.m1.6.6.3.1.1.3.cmml">a</mi><mo id="S2.E3.m1.6.6.3.1.1.2" xref="S2.E3.m1.6.6.3.1.1.2.cmml">∈</mo><mrow id="S2.E3.m1.6.6.3.1.1.4" xref="S2.E3.m1.6.6.3.1.1.4.cmml"><mi id="S2.E3.m1.6.6.3.1.1.4.2" xref="S2.E3.m1.6.6.3.1.1.4.2.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.E3.m1.6.6.3.1.1.4.1" xref="S2.E3.m1.6.6.3.1.1.4.1.cmml">​</mo><mrow id="S2.E3.m1.6.6.3.1.1.4.3.2" xref="S2.E3.m1.6.6.3.1.1.4.cmml"><mo stretchy="false" id="S2.E3.m1.6.6.3.1.1.4.3.2.1" xref="S2.E3.m1.6.6.3.1.1.4.cmml">(</mo><mi id="S2.E3.m1.6.6.3.1.1.1" xref="S2.E3.m1.6.6.3.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E3.m1.6.6.3.1.1.4.3.2.2" xref="S2.E3.m1.6.6.3.1.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mrow id="S2.E3.m1.8.8.5.3.1" xref="S2.E3.m1.8.8.5.3.2.cmml"><mi id="S2.E3.m1.7.7.4.2" xref="S2.E3.m1.7.7.4.2.cmml">exp</mi><mo id="S2.E3.m1.8.8.5.3.1a" xref="S2.E3.m1.8.8.5.3.2.cmml">⁡</mo><mrow id="S2.E3.m1.8.8.5.3.1.1" xref="S2.E3.m1.8.8.5.3.2.cmml"><mo stretchy="false" id="S2.E3.m1.8.8.5.3.1.1.2" xref="S2.E3.m1.8.8.5.3.2.cmml">(</mo><mrow id="S2.E3.m1.8.8.5.3.1.1.1" xref="S2.E3.m1.8.8.5.3.1.1.1.cmml"><mrow id="S2.E3.m1.8.8.5.3.1.1.1.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.cmml"><msub id="S2.E3.m1.8.8.5.3.1.1.1.2.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.cmml"><mi id="S2.E3.m1.8.8.5.3.1.1.1.2.2.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.2.cmml">z</mi><mi id="S2.E3.m1.8.8.5.3.1.1.1.2.2.3" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E3.m1.8.8.5.3.1.1.1.2.1" xref="S2.E3.m1.8.8.5.3.1.1.1.2.1.cmml">⋅</mo><msub id="S2.E3.m1.8.8.5.3.1.1.1.2.3" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3.cmml"><mi id="S2.E3.m1.8.8.5.3.1.1.1.2.3.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3.2.cmml">z</mi><mi id="S2.E3.m1.8.8.5.3.1.1.1.2.3.3" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3.3.cmml">a</mi></msub></mrow><mo id="S2.E3.m1.8.8.5.3.1.1.1.1" xref="S2.E3.m1.8.8.5.3.1.1.1.1.cmml">/</mo><msup id="S2.E3.m1.8.8.5.3.1.1.1.3" xref="S2.E3.m1.8.8.5.3.1.1.1.3.cmml"><mi id="S2.E3.m1.8.8.5.3.1.1.1.3.2" xref="S2.E3.m1.8.8.5.3.1.1.1.3.2.cmml">τ</mi><mo id="S2.E3.m1.8.8.5.3.1.1.1.3.3" xref="S2.E3.m1.8.8.5.3.1.1.1.3.3.cmml">′</mo></msup></mrow><mo stretchy="false" id="S2.E3.m1.8.8.5.3.1.1.3" xref="S2.E3.m1.8.8.5.3.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow></mrow><mo id="S2.E3.m1.9.9.1.2" xref="S2.E3.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.9b"><apply id="S2.E3.m1.9.9.1.1.cmml" xref="S2.E3.m1.9.9.1"><eq id="S2.E3.m1.9.9.1.1.1.cmml" xref="S2.E3.m1.9.9.1.1.1"></eq><apply id="S2.E3.m1.9.9.1.1.2.cmml" xref="S2.E3.m1.9.9.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.1.1.2.1.cmml" xref="S2.E3.m1.9.9.1.1.2">subscript</csymbol><ci id="S2.E3.m1.9.9.1.1.2.2.cmml" xref="S2.E3.m1.9.9.1.1.2.2">ℒ</ci><apply id="S2.E3.m1.9.9.1.1.2.3.cmml" xref="S2.E3.m1.9.9.1.1.2.3"><times id="S2.E3.m1.9.9.1.1.2.3.1.cmml" xref="S2.E3.m1.9.9.1.1.2.3.1"></times><ci id="S2.E3.m1.9.9.1.1.2.3.2.cmml" xref="S2.E3.m1.9.9.1.1.2.3.2">𝐼</ci><ci id="S2.E3.m1.9.9.1.1.2.3.3.cmml" xref="S2.E3.m1.9.9.1.1.2.3.3">𝑛</ci><ci id="S2.E3.m1.9.9.1.1.2.3.4.cmml" xref="S2.E3.m1.9.9.1.1.2.3.4">𝑡</ci><ci id="S2.E3.m1.9.9.1.1.2.3.5.cmml" xref="S2.E3.m1.9.9.1.1.2.3.5">𝑟</ci><ci id="S2.E3.m1.9.9.1.1.2.3.6.cmml" xref="S2.E3.m1.9.9.1.1.2.3.6">𝑎</ci></apply></apply><apply id="S2.E3.m1.9.9.1.1.3.cmml" xref="S2.E3.m1.9.9.1.1.3"><apply id="S2.E3.m1.9.9.1.1.3.1.cmml" xref="S2.E3.m1.9.9.1.1.3.1"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.1.1.3.1.1.cmml" xref="S2.E3.m1.9.9.1.1.3.1">subscript</csymbol><sum id="S2.E3.m1.9.9.1.1.3.1.2.cmml" xref="S2.E3.m1.9.9.1.1.3.1.2"></sum><apply id="S2.E3.m1.9.9.1.1.3.1.3.cmml" xref="S2.E3.m1.9.9.1.1.3.1.3"><in id="S2.E3.m1.9.9.1.1.3.1.3.1.cmml" xref="S2.E3.m1.9.9.1.1.3.1.3.1"></in><ci id="S2.E3.m1.9.9.1.1.3.1.3.2.cmml" xref="S2.E3.m1.9.9.1.1.3.1.3.2">𝑖</ci><ci id="S2.E3.m1.9.9.1.1.3.1.3.3.cmml" xref="S2.E3.m1.9.9.1.1.3.1.3.3">𝐼</ci></apply></apply><apply id="S2.E3.m1.9.9.1.1.3.2.cmml" xref="S2.E3.m1.9.9.1.1.3.2"><times id="S2.E3.m1.9.9.1.1.3.2.1.cmml" xref="S2.E3.m1.9.9.1.1.3.2.1"></times><apply id="S2.E3.m1.2.2.cmml" xref="S2.E3.m1.2.2"><divide id="S2.E3.m1.2.2.3.cmml" xref="S2.E3.m1.2.2"></divide><apply id="S2.E3.m1.2.2.4.cmml" xref="S2.E3.m1.2.2.4"><minus id="S2.E3.m1.2.2.4.1.cmml" xref="S2.E3.m1.2.2.4"></minus><cn type="integer" id="S2.E3.m1.2.2.4.2.cmml" xref="S2.E3.m1.2.2.4.2">1</cn></apply><apply id="S2.E3.m1.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.2"><abs id="S2.E3.m1.2.2.2.3.1.cmml" xref="S2.E3.m1.2.2.2.2.2"></abs><apply id="S2.E3.m1.2.2.2.2.1.cmml" xref="S2.E3.m1.2.2.2.2.1"><times id="S2.E3.m1.2.2.2.2.1.1.cmml" xref="S2.E3.m1.2.2.2.2.1.1"></times><ci id="S2.E3.m1.2.2.2.2.1.2.cmml" xref="S2.E3.m1.2.2.2.2.1.2">𝑃</ci><ci id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E3.m1.9.9.1.1.3.2.2.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2"><apply id="S2.E3.m1.9.9.1.1.3.2.2.1.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2.1"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.1.1.3.2.2.1.1.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2.1">subscript</csymbol><sum id="S2.E3.m1.9.9.1.1.3.2.2.1.2.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2.1.2"></sum><apply id="S2.E3.m1.3.3.1.cmml" xref="S2.E3.m1.3.3.1"><in id="S2.E3.m1.3.3.1.2.cmml" xref="S2.E3.m1.3.3.1.2"></in><ci id="S2.E3.m1.3.3.1.3.cmml" xref="S2.E3.m1.3.3.1.3">𝑗</ci><apply id="S2.E3.m1.3.3.1.4.cmml" xref="S2.E3.m1.3.3.1.4"><times id="S2.E3.m1.3.3.1.4.1.cmml" xref="S2.E3.m1.3.3.1.4.1"></times><ci id="S2.E3.m1.3.3.1.4.2.cmml" xref="S2.E3.m1.3.3.1.4.2">𝑃</ci><ci id="S2.E3.m1.3.3.1.1.cmml" xref="S2.E3.m1.3.3.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E3.m1.9.9.1.1.3.2.2.2.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2.2"><log id="S2.E3.m1.9.9.1.1.3.2.2.2.1.cmml" xref="S2.E3.m1.9.9.1.1.3.2.2.2.1"></log><apply id="S2.E3.m1.8.8.cmml" xref="S2.E3.m1.8.8"><divide id="S2.E3.m1.8.8.6.cmml" xref="S2.E3.m1.8.8"></divide><apply id="S2.E3.m1.5.5.2.3.cmml" xref="S2.E3.m1.5.5.2.2"><exp id="S2.E3.m1.4.4.1.1.cmml" xref="S2.E3.m1.4.4.1.1"></exp><apply id="S2.E3.m1.5.5.2.2.1.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1"><divide id="S2.E3.m1.5.5.2.2.1.1.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.1"></divide><apply id="S2.E3.m1.5.5.2.2.1.1.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2"><ci id="S2.E3.m1.5.5.2.2.1.1.2.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.1">⋅</ci><apply id="S2.E3.m1.5.5.2.2.1.1.2.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.2.2.1.1.2.2.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.2">subscript</csymbol><ci id="S2.E3.m1.5.5.2.2.1.1.2.2.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.2.2">𝑧</ci><ci id="S2.E3.m1.5.5.2.2.1.1.2.2.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E3.m1.5.5.2.2.1.1.2.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.2.2.1.1.2.3.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.3">subscript</csymbol><ci id="S2.E3.m1.5.5.2.2.1.1.2.3.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.3.2">𝑧</ci><ci id="S2.E3.m1.5.5.2.2.1.1.2.3.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S2.E3.m1.5.5.2.2.1.1.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.2.2.1.1.3.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3">superscript</csymbol><ci id="S2.E3.m1.5.5.2.2.1.1.3.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3.2">𝜏</ci><ci id="S2.E3.m1.5.5.2.2.1.1.3.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3.3">′</ci></apply></apply></apply><apply id="S2.E3.m1.8.8.5.cmml" xref="S2.E3.m1.8.8.5"><apply id="S2.E3.m1.8.8.5.4.cmml" xref="S2.E3.m1.8.8.5.4"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.5.4.1.cmml" xref="S2.E3.m1.8.8.5.4">subscript</csymbol><sum id="S2.E3.m1.8.8.5.4.2.cmml" xref="S2.E3.m1.8.8.5.4.2"></sum><apply id="S2.E3.m1.6.6.3.1.1.cmml" xref="S2.E3.m1.6.6.3.1.1"><in id="S2.E3.m1.6.6.3.1.1.2.cmml" xref="S2.E3.m1.6.6.3.1.1.2"></in><ci id="S2.E3.m1.6.6.3.1.1.3.cmml" xref="S2.E3.m1.6.6.3.1.1.3">𝑎</ci><apply id="S2.E3.m1.6.6.3.1.1.4.cmml" xref="S2.E3.m1.6.6.3.1.1.4"><times id="S2.E3.m1.6.6.3.1.1.4.1.cmml" xref="S2.E3.m1.6.6.3.1.1.4.1"></times><ci id="S2.E3.m1.6.6.3.1.1.4.2.cmml" xref="S2.E3.m1.6.6.3.1.1.4.2">𝐴</ci><ci id="S2.E3.m1.6.6.3.1.1.1.cmml" xref="S2.E3.m1.6.6.3.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E3.m1.8.8.5.3.2.cmml" xref="S2.E3.m1.8.8.5.3.1"><exp id="S2.E3.m1.7.7.4.2.cmml" xref="S2.E3.m1.7.7.4.2"></exp><apply id="S2.E3.m1.8.8.5.3.1.1.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1"><divide id="S2.E3.m1.8.8.5.3.1.1.1.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.1"></divide><apply id="S2.E3.m1.8.8.5.3.1.1.1.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2"><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.1">⋅</ci><apply id="S2.E3.m1.8.8.5.3.1.1.1.2.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.5.3.1.1.1.2.2.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2">subscript</csymbol><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.2.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.2">𝑧</ci><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.2.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E3.m1.8.8.5.3.1.1.1.2.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.5.3.1.1.1.2.3.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3">subscript</csymbol><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.3.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3.2">𝑧</ci><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.3.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.3.3">𝑎</ci></apply></apply><apply id="S2.E3.m1.8.8.5.3.1.1.1.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.5.3.1.1.1.3.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3">superscript</csymbol><ci id="S2.E3.m1.8.8.5.3.1.1.1.3.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3.2">𝜏</ci><ci id="S2.E3.m1.8.8.5.3.1.1.1.3.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3.3">′</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.9c">\mathcal{L}_{Intra}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\sum_{j\in P(i)}\log\frac{\exp(z_{i}\cdot z_{j}/\tau^{\prime})}{\sum_{a\in A(i)}\exp(z_{i}\cdot z_{a}/\tau^{\prime})},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p1.21" class="ltx_p">named intra-client contrastive learning. Through <math id="S2.SS2.p1.21.m1.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S2.SS2.p1.21.m1.1a"><mi id="S2.SS2.p1.21.m1.1.1" xref="S2.SS2.p1.21.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.21.m1.1b"><ci id="S2.SS2.p1.21.m1.1.1.cmml" xref="S2.SS2.p1.21.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.21.m1.1c">P</annotation></semantics></math>, sample pairs of the minority classes are up-weighted compared to those of the majority classes, leading to better balance.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Inter-Client Contrastive Learning</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Given limited local data under FL, the effectiveness of intra-client contrastive learning may be bounded. How to better utilize cross-client data from the global perspective is crucial for further performance improvement. Inspired by learning from prototypes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, we propose inter-client contrastive learning. Assuming a set of shared class-wise prototypes <math id="S2.SS3.p1.1.m1.4" class="ltx_Math" alttext="V=\{v^{1},v^{2},...,v^{L}\}" display="inline"><semantics id="S2.SS3.p1.1.m1.4a"><mrow id="S2.SS3.p1.1.m1.4.4" xref="S2.SS3.p1.1.m1.4.4.cmml"><mi id="S2.SS3.p1.1.m1.4.4.5" xref="S2.SS3.p1.1.m1.4.4.5.cmml">V</mi><mo id="S2.SS3.p1.1.m1.4.4.4" xref="S2.SS3.p1.1.m1.4.4.4.cmml">=</mo><mrow id="S2.SS3.p1.1.m1.4.4.3.3" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml"><mo stretchy="false" id="S2.SS3.p1.1.m1.4.4.3.3.4" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml">{</mo><msup id="S2.SS3.p1.1.m1.2.2.1.1.1" xref="S2.SS3.p1.1.m1.2.2.1.1.1.cmml"><mi id="S2.SS3.p1.1.m1.2.2.1.1.1.2" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2.cmml">v</mi><mn id="S2.SS3.p1.1.m1.2.2.1.1.1.3" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msup><mo id="S2.SS3.p1.1.m1.4.4.3.3.5" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p1.1.m1.3.3.2.2.2" xref="S2.SS3.p1.1.m1.3.3.2.2.2.cmml"><mi id="S2.SS3.p1.1.m1.3.3.2.2.2.2" xref="S2.SS3.p1.1.m1.3.3.2.2.2.2.cmml">v</mi><mn id="S2.SS3.p1.1.m1.3.3.2.2.2.3" xref="S2.SS3.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msup><mo id="S2.SS3.p1.1.m1.4.4.3.3.6" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">…</mi><mo id="S2.SS3.p1.1.m1.4.4.3.3.7" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p1.1.m1.4.4.3.3.3" xref="S2.SS3.p1.1.m1.4.4.3.3.3.cmml"><mi id="S2.SS3.p1.1.m1.4.4.3.3.3.2" xref="S2.SS3.p1.1.m1.4.4.3.3.3.2.cmml">v</mi><mi id="S2.SS3.p1.1.m1.4.4.3.3.3.3" xref="S2.SS3.p1.1.m1.4.4.3.3.3.3.cmml">L</mi></msup><mo stretchy="false" id="S2.SS3.p1.1.m1.4.4.3.3.8" xref="S2.SS3.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.4b"><apply id="S2.SS3.p1.1.m1.4.4.cmml" xref="S2.SS3.p1.1.m1.4.4"><eq id="S2.SS3.p1.1.m1.4.4.4.cmml" xref="S2.SS3.p1.1.m1.4.4.4"></eq><ci id="S2.SS3.p1.1.m1.4.4.5.cmml" xref="S2.SS3.p1.1.m1.4.4.5">𝑉</ci><set id="S2.SS3.p1.1.m1.4.4.3.4.cmml" xref="S2.SS3.p1.1.m1.4.4.3.3"><apply id="S2.SS3.p1.1.m1.2.2.1.1.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1">superscript</csymbol><ci id="S2.SS3.p1.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.2">𝑣</ci><cn type="integer" id="S2.SS3.p1.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS3.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS3.p1.1.m1.3.3.2.2.2.cmml" xref="S2.SS3.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.3.3.2.2.2.1.cmml" xref="S2.SS3.p1.1.m1.3.3.2.2.2">superscript</csymbol><ci id="S2.SS3.p1.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS3.p1.1.m1.3.3.2.2.2.2">𝑣</ci><cn type="integer" id="S2.SS3.p1.1.m1.3.3.2.2.2.3.cmml" xref="S2.SS3.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">…</ci><apply id="S2.SS3.p1.1.m1.4.4.3.3.3.cmml" xref="S2.SS3.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS3.p1.1.m1.4.4.3.3.3.1.cmml" xref="S2.SS3.p1.1.m1.4.4.3.3.3">superscript</csymbol><ci id="S2.SS3.p1.1.m1.4.4.3.3.3.2.cmml" xref="S2.SS3.p1.1.m1.4.4.3.3.3.2">𝑣</ci><ci id="S2.SS3.p1.1.m1.4.4.3.3.3.3.cmml" xref="S2.SS3.p1.1.m1.4.4.3.3.3.3">𝐿</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.4c">V=\{v^{1},v^{2},...,v^{L}\}</annotation></semantics></math> across clients, the local model can be trained by</p>
<table id="S2.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E4.m1.7" class="ltx_Math" alttext="\mathcal{L}_{Inter}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\log\frac{\exp(z_{i}\cdot v^{y_{i}}/\tau)}{\sum_{j=1}^{L}\exp(z_{i}\cdot v^{j}/\tau)}," display="block"><semantics id="S2.E4.m1.7a"><mrow id="S2.E4.m1.7.7.1" xref="S2.E4.m1.7.7.1.1.cmml"><mrow id="S2.E4.m1.7.7.1.1" xref="S2.E4.m1.7.7.1.1.cmml"><msub id="S2.E4.m1.7.7.1.1.2" xref="S2.E4.m1.7.7.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E4.m1.7.7.1.1.2.2" xref="S2.E4.m1.7.7.1.1.2.2.cmml">ℒ</mi><mrow id="S2.E4.m1.7.7.1.1.2.3" xref="S2.E4.m1.7.7.1.1.2.3.cmml"><mi id="S2.E4.m1.7.7.1.1.2.3.2" xref="S2.E4.m1.7.7.1.1.2.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.7.7.1.1.2.3.1" xref="S2.E4.m1.7.7.1.1.2.3.1.cmml">​</mo><mi id="S2.E4.m1.7.7.1.1.2.3.3" xref="S2.E4.m1.7.7.1.1.2.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.7.7.1.1.2.3.1a" xref="S2.E4.m1.7.7.1.1.2.3.1.cmml">​</mo><mi id="S2.E4.m1.7.7.1.1.2.3.4" xref="S2.E4.m1.7.7.1.1.2.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.7.7.1.1.2.3.1b" xref="S2.E4.m1.7.7.1.1.2.3.1.cmml">​</mo><mi id="S2.E4.m1.7.7.1.1.2.3.5" xref="S2.E4.m1.7.7.1.1.2.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.7.7.1.1.2.3.1c" xref="S2.E4.m1.7.7.1.1.2.3.1.cmml">​</mo><mi id="S2.E4.m1.7.7.1.1.2.3.6" xref="S2.E4.m1.7.7.1.1.2.3.6.cmml">r</mi></mrow></msub><mo rspace="0.111em" id="S2.E4.m1.7.7.1.1.1" xref="S2.E4.m1.7.7.1.1.1.cmml">=</mo><mrow id="S2.E4.m1.7.7.1.1.3" xref="S2.E4.m1.7.7.1.1.3.cmml"><munder id="S2.E4.m1.7.7.1.1.3.1" xref="S2.E4.m1.7.7.1.1.3.1.cmml"><mo movablelimits="false" id="S2.E4.m1.7.7.1.1.3.1.2" xref="S2.E4.m1.7.7.1.1.3.1.2.cmml">∑</mo><mrow id="S2.E4.m1.7.7.1.1.3.1.3" xref="S2.E4.m1.7.7.1.1.3.1.3.cmml"><mi id="S2.E4.m1.7.7.1.1.3.1.3.2" xref="S2.E4.m1.7.7.1.1.3.1.3.2.cmml">i</mi><mo id="S2.E4.m1.7.7.1.1.3.1.3.1" xref="S2.E4.m1.7.7.1.1.3.1.3.1.cmml">∈</mo><mi id="S2.E4.m1.7.7.1.1.3.1.3.3" xref="S2.E4.m1.7.7.1.1.3.1.3.3.cmml">I</mi></mrow></munder><mrow id="S2.E4.m1.7.7.1.1.3.2" xref="S2.E4.m1.7.7.1.1.3.2.cmml"><mfrac id="S2.E4.m1.2.2" xref="S2.E4.m1.2.2.cmml"><mrow id="S2.E4.m1.2.2.4" xref="S2.E4.m1.2.2.4.cmml"><mo id="S2.E4.m1.2.2.4a" xref="S2.E4.m1.2.2.4.cmml">−</mo><mn id="S2.E4.m1.2.2.4.2" xref="S2.E4.m1.2.2.4.2.cmml">1</mn></mrow><mrow id="S2.E4.m1.2.2.2.2" xref="S2.E4.m1.2.2.2.3.cmml"><mo id="S2.E4.m1.2.2.2.2.2" xref="S2.E4.m1.2.2.2.3.1.cmml">|</mo><mrow id="S2.E4.m1.2.2.2.2.1" xref="S2.E4.m1.2.2.2.2.1.cmml"><mi id="S2.E4.m1.2.2.2.2.1.2" xref="S2.E4.m1.2.2.2.2.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S2.E4.m1.2.2.2.2.1.1" xref="S2.E4.m1.2.2.2.2.1.1.cmml">​</mo><mrow id="S2.E4.m1.2.2.2.2.1.3.2" xref="S2.E4.m1.2.2.2.2.1.cmml"><mo stretchy="false" id="S2.E4.m1.2.2.2.2.1.3.2.1" xref="S2.E4.m1.2.2.2.2.1.cmml">(</mo><mi id="S2.E4.m1.1.1.1.1" xref="S2.E4.m1.1.1.1.1.cmml">i</mi><mo stretchy="false" id="S2.E4.m1.2.2.2.2.1.3.2.2" xref="S2.E4.m1.2.2.2.2.1.cmml">)</mo></mrow></mrow><mo id="S2.E4.m1.2.2.2.2.3" xref="S2.E4.m1.2.2.2.3.1.cmml">|</mo></mrow></mfrac><mo lspace="0.167em" rspace="0em" id="S2.E4.m1.7.7.1.1.3.2.1" xref="S2.E4.m1.7.7.1.1.3.2.1.cmml">​</mo><mrow id="S2.E4.m1.7.7.1.1.3.2.2" xref="S2.E4.m1.7.7.1.1.3.2.2.cmml"><mi id="S2.E4.m1.7.7.1.1.3.2.2.1" xref="S2.E4.m1.7.7.1.1.3.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.E4.m1.7.7.1.1.3.2.2a" xref="S2.E4.m1.7.7.1.1.3.2.2.cmml">⁡</mo><mfrac id="S2.E4.m1.6.6" xref="S2.E4.m1.6.6.cmml"><mrow id="S2.E4.m1.4.4.2.2" xref="S2.E4.m1.4.4.2.3.cmml"><mi id="S2.E4.m1.3.3.1.1" xref="S2.E4.m1.3.3.1.1.cmml">exp</mi><mo id="S2.E4.m1.4.4.2.2a" xref="S2.E4.m1.4.4.2.3.cmml">⁡</mo><mrow id="S2.E4.m1.4.4.2.2.1" xref="S2.E4.m1.4.4.2.3.cmml"><mo stretchy="false" id="S2.E4.m1.4.4.2.2.1.2" xref="S2.E4.m1.4.4.2.3.cmml">(</mo><mrow id="S2.E4.m1.4.4.2.2.1.1" xref="S2.E4.m1.4.4.2.2.1.1.cmml"><mrow id="S2.E4.m1.4.4.2.2.1.1.2" xref="S2.E4.m1.4.4.2.2.1.1.2.cmml"><msub id="S2.E4.m1.4.4.2.2.1.1.2.2" xref="S2.E4.m1.4.4.2.2.1.1.2.2.cmml"><mi id="S2.E4.m1.4.4.2.2.1.1.2.2.2" xref="S2.E4.m1.4.4.2.2.1.1.2.2.2.cmml">z</mi><mi id="S2.E4.m1.4.4.2.2.1.1.2.2.3" xref="S2.E4.m1.4.4.2.2.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E4.m1.4.4.2.2.1.1.2.1" xref="S2.E4.m1.4.4.2.2.1.1.2.1.cmml">⋅</mo><msup id="S2.E4.m1.4.4.2.2.1.1.2.3" xref="S2.E4.m1.4.4.2.2.1.1.2.3.cmml"><mi id="S2.E4.m1.4.4.2.2.1.1.2.3.2" xref="S2.E4.m1.4.4.2.2.1.1.2.3.2.cmml">v</mi><msub id="S2.E4.m1.4.4.2.2.1.1.2.3.3" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3.cmml"><mi id="S2.E4.m1.4.4.2.2.1.1.2.3.3.2" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3.2.cmml">y</mi><mi id="S2.E4.m1.4.4.2.2.1.1.2.3.3.3" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3.3.cmml">i</mi></msub></msup></mrow><mo id="S2.E4.m1.4.4.2.2.1.1.1" xref="S2.E4.m1.4.4.2.2.1.1.1.cmml">/</mo><mi id="S2.E4.m1.4.4.2.2.1.1.3" xref="S2.E4.m1.4.4.2.2.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E4.m1.4.4.2.2.1.3" xref="S2.E4.m1.4.4.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E4.m1.6.6.4" xref="S2.E4.m1.6.6.4.cmml"><msubsup id="S2.E4.m1.6.6.4.3" xref="S2.E4.m1.6.6.4.3.cmml"><mo id="S2.E4.m1.6.6.4.3.2.2" xref="S2.E4.m1.6.6.4.3.2.2.cmml">∑</mo><mrow id="S2.E4.m1.6.6.4.3.2.3" xref="S2.E4.m1.6.6.4.3.2.3.cmml"><mi id="S2.E4.m1.6.6.4.3.2.3.2" xref="S2.E4.m1.6.6.4.3.2.3.2.cmml">j</mi><mo id="S2.E4.m1.6.6.4.3.2.3.1" xref="S2.E4.m1.6.6.4.3.2.3.1.cmml">=</mo><mn id="S2.E4.m1.6.6.4.3.2.3.3" xref="S2.E4.m1.6.6.4.3.2.3.3.cmml">1</mn></mrow><mi id="S2.E4.m1.6.6.4.3.3" xref="S2.E4.m1.6.6.4.3.3.cmml">L</mi></msubsup><mrow id="S2.E4.m1.6.6.4.2.1" xref="S2.E4.m1.6.6.4.2.2.cmml"><mi id="S2.E4.m1.5.5.3.1" xref="S2.E4.m1.5.5.3.1.cmml">exp</mi><mo id="S2.E4.m1.6.6.4.2.1a" xref="S2.E4.m1.6.6.4.2.2.cmml">⁡</mo><mrow id="S2.E4.m1.6.6.4.2.1.1" xref="S2.E4.m1.6.6.4.2.2.cmml"><mo stretchy="false" id="S2.E4.m1.6.6.4.2.1.1.2" xref="S2.E4.m1.6.6.4.2.2.cmml">(</mo><mrow id="S2.E4.m1.6.6.4.2.1.1.1" xref="S2.E4.m1.6.6.4.2.1.1.1.cmml"><mrow id="S2.E4.m1.6.6.4.2.1.1.1.2" xref="S2.E4.m1.6.6.4.2.1.1.1.2.cmml"><msub id="S2.E4.m1.6.6.4.2.1.1.1.2.2" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2.cmml"><mi id="S2.E4.m1.6.6.4.2.1.1.1.2.2.2" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2.2.cmml">z</mi><mi id="S2.E4.m1.6.6.4.2.1.1.1.2.2.3" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2.3.cmml">i</mi></msub><mo lspace="0.222em" rspace="0.222em" id="S2.E4.m1.6.6.4.2.1.1.1.2.1" xref="S2.E4.m1.6.6.4.2.1.1.1.2.1.cmml">⋅</mo><msup id="S2.E4.m1.6.6.4.2.1.1.1.2.3" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3.cmml"><mi id="S2.E4.m1.6.6.4.2.1.1.1.2.3.2" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3.2.cmml">v</mi><mi id="S2.E4.m1.6.6.4.2.1.1.1.2.3.3" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3.3.cmml">j</mi></msup></mrow><mo id="S2.E4.m1.6.6.4.2.1.1.1.1" xref="S2.E4.m1.6.6.4.2.1.1.1.1.cmml">/</mo><mi id="S2.E4.m1.6.6.4.2.1.1.1.3" xref="S2.E4.m1.6.6.4.2.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E4.m1.6.6.4.2.1.1.3" xref="S2.E4.m1.6.6.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><mo id="S2.E4.m1.7.7.1.2" xref="S2.E4.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E4.m1.7b"><apply id="S2.E4.m1.7.7.1.1.cmml" xref="S2.E4.m1.7.7.1"><eq id="S2.E4.m1.7.7.1.1.1.cmml" xref="S2.E4.m1.7.7.1.1.1"></eq><apply id="S2.E4.m1.7.7.1.1.2.cmml" xref="S2.E4.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S2.E4.m1.7.7.1.1.2.1.cmml" xref="S2.E4.m1.7.7.1.1.2">subscript</csymbol><ci id="S2.E4.m1.7.7.1.1.2.2.cmml" xref="S2.E4.m1.7.7.1.1.2.2">ℒ</ci><apply id="S2.E4.m1.7.7.1.1.2.3.cmml" xref="S2.E4.m1.7.7.1.1.2.3"><times id="S2.E4.m1.7.7.1.1.2.3.1.cmml" xref="S2.E4.m1.7.7.1.1.2.3.1"></times><ci id="S2.E4.m1.7.7.1.1.2.3.2.cmml" xref="S2.E4.m1.7.7.1.1.2.3.2">𝐼</ci><ci id="S2.E4.m1.7.7.1.1.2.3.3.cmml" xref="S2.E4.m1.7.7.1.1.2.3.3">𝑛</ci><ci id="S2.E4.m1.7.7.1.1.2.3.4.cmml" xref="S2.E4.m1.7.7.1.1.2.3.4">𝑡</ci><ci id="S2.E4.m1.7.7.1.1.2.3.5.cmml" xref="S2.E4.m1.7.7.1.1.2.3.5">𝑒</ci><ci id="S2.E4.m1.7.7.1.1.2.3.6.cmml" xref="S2.E4.m1.7.7.1.1.2.3.6">𝑟</ci></apply></apply><apply id="S2.E4.m1.7.7.1.1.3.cmml" xref="S2.E4.m1.7.7.1.1.3"><apply id="S2.E4.m1.7.7.1.1.3.1.cmml" xref="S2.E4.m1.7.7.1.1.3.1"><csymbol cd="ambiguous" id="S2.E4.m1.7.7.1.1.3.1.1.cmml" xref="S2.E4.m1.7.7.1.1.3.1">subscript</csymbol><sum id="S2.E4.m1.7.7.1.1.3.1.2.cmml" xref="S2.E4.m1.7.7.1.1.3.1.2"></sum><apply id="S2.E4.m1.7.7.1.1.3.1.3.cmml" xref="S2.E4.m1.7.7.1.1.3.1.3"><in id="S2.E4.m1.7.7.1.1.3.1.3.1.cmml" xref="S2.E4.m1.7.7.1.1.3.1.3.1"></in><ci id="S2.E4.m1.7.7.1.1.3.1.3.2.cmml" xref="S2.E4.m1.7.7.1.1.3.1.3.2">𝑖</ci><ci id="S2.E4.m1.7.7.1.1.3.1.3.3.cmml" xref="S2.E4.m1.7.7.1.1.3.1.3.3">𝐼</ci></apply></apply><apply id="S2.E4.m1.7.7.1.1.3.2.cmml" xref="S2.E4.m1.7.7.1.1.3.2"><times id="S2.E4.m1.7.7.1.1.3.2.1.cmml" xref="S2.E4.m1.7.7.1.1.3.2.1"></times><apply id="S2.E4.m1.2.2.cmml" xref="S2.E4.m1.2.2"><divide id="S2.E4.m1.2.2.3.cmml" xref="S2.E4.m1.2.2"></divide><apply id="S2.E4.m1.2.2.4.cmml" xref="S2.E4.m1.2.2.4"><minus id="S2.E4.m1.2.2.4.1.cmml" xref="S2.E4.m1.2.2.4"></minus><cn type="integer" id="S2.E4.m1.2.2.4.2.cmml" xref="S2.E4.m1.2.2.4.2">1</cn></apply><apply id="S2.E4.m1.2.2.2.3.cmml" xref="S2.E4.m1.2.2.2.2"><abs id="S2.E4.m1.2.2.2.3.1.cmml" xref="S2.E4.m1.2.2.2.2.2"></abs><apply id="S2.E4.m1.2.2.2.2.1.cmml" xref="S2.E4.m1.2.2.2.2.1"><times id="S2.E4.m1.2.2.2.2.1.1.cmml" xref="S2.E4.m1.2.2.2.2.1.1"></times><ci id="S2.E4.m1.2.2.2.2.1.2.cmml" xref="S2.E4.m1.2.2.2.2.1.2">𝑃</ci><ci id="S2.E4.m1.1.1.1.1.cmml" xref="S2.E4.m1.1.1.1.1">𝑖</ci></apply></apply></apply><apply id="S2.E4.m1.7.7.1.1.3.2.2.cmml" xref="S2.E4.m1.7.7.1.1.3.2.2"><log id="S2.E4.m1.7.7.1.1.3.2.2.1.cmml" xref="S2.E4.m1.7.7.1.1.3.2.2.1"></log><apply id="S2.E4.m1.6.6.cmml" xref="S2.E4.m1.6.6"><divide id="S2.E4.m1.6.6.5.cmml" xref="S2.E4.m1.6.6"></divide><apply id="S2.E4.m1.4.4.2.3.cmml" xref="S2.E4.m1.4.4.2.2"><exp id="S2.E4.m1.3.3.1.1.cmml" xref="S2.E4.m1.3.3.1.1"></exp><apply id="S2.E4.m1.4.4.2.2.1.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1"><divide id="S2.E4.m1.4.4.2.2.1.1.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1.1"></divide><apply id="S2.E4.m1.4.4.2.2.1.1.2.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2"><ci id="S2.E4.m1.4.4.2.2.1.1.2.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.1">⋅</ci><apply id="S2.E4.m1.4.4.2.2.1.1.2.2.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.4.4.2.2.1.1.2.2.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.2">subscript</csymbol><ci id="S2.E4.m1.4.4.2.2.1.1.2.2.2.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.2.2">𝑧</ci><ci id="S2.E4.m1.4.4.2.2.1.1.2.2.3.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E4.m1.4.4.2.2.1.1.2.3.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.E4.m1.4.4.2.2.1.1.2.3.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3">superscript</csymbol><ci id="S2.E4.m1.4.4.2.2.1.1.2.3.2.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3.2">𝑣</ci><apply id="S2.E4.m1.4.4.2.2.1.1.2.3.3.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3"><csymbol cd="ambiguous" id="S2.E4.m1.4.4.2.2.1.1.2.3.3.1.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3">subscript</csymbol><ci id="S2.E4.m1.4.4.2.2.1.1.2.3.3.2.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3.2">𝑦</ci><ci id="S2.E4.m1.4.4.2.2.1.1.2.3.3.3.cmml" xref="S2.E4.m1.4.4.2.2.1.1.2.3.3.3">𝑖</ci></apply></apply></apply><ci id="S2.E4.m1.4.4.2.2.1.1.3.cmml" xref="S2.E4.m1.4.4.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S2.E4.m1.6.6.4.cmml" xref="S2.E4.m1.6.6.4"><apply id="S2.E4.m1.6.6.4.3.cmml" xref="S2.E4.m1.6.6.4.3"><csymbol cd="ambiguous" id="S2.E4.m1.6.6.4.3.1.cmml" xref="S2.E4.m1.6.6.4.3">superscript</csymbol><apply id="S2.E4.m1.6.6.4.3.2.cmml" xref="S2.E4.m1.6.6.4.3"><csymbol cd="ambiguous" id="S2.E4.m1.6.6.4.3.2.1.cmml" xref="S2.E4.m1.6.6.4.3">subscript</csymbol><sum id="S2.E4.m1.6.6.4.3.2.2.cmml" xref="S2.E4.m1.6.6.4.3.2.2"></sum><apply id="S2.E4.m1.6.6.4.3.2.3.cmml" xref="S2.E4.m1.6.6.4.3.2.3"><eq id="S2.E4.m1.6.6.4.3.2.3.1.cmml" xref="S2.E4.m1.6.6.4.3.2.3.1"></eq><ci id="S2.E4.m1.6.6.4.3.2.3.2.cmml" xref="S2.E4.m1.6.6.4.3.2.3.2">𝑗</ci><cn type="integer" id="S2.E4.m1.6.6.4.3.2.3.3.cmml" xref="S2.E4.m1.6.6.4.3.2.3.3">1</cn></apply></apply><ci id="S2.E4.m1.6.6.4.3.3.cmml" xref="S2.E4.m1.6.6.4.3.3">𝐿</ci></apply><apply id="S2.E4.m1.6.6.4.2.2.cmml" xref="S2.E4.m1.6.6.4.2.1"><exp id="S2.E4.m1.5.5.3.1.cmml" xref="S2.E4.m1.5.5.3.1"></exp><apply id="S2.E4.m1.6.6.4.2.1.1.1.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1"><divide id="S2.E4.m1.6.6.4.2.1.1.1.1.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.1"></divide><apply id="S2.E4.m1.6.6.4.2.1.1.1.2.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2"><ci id="S2.E4.m1.6.6.4.2.1.1.1.2.1.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.1">⋅</ci><apply id="S2.E4.m1.6.6.4.2.1.1.1.2.2.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E4.m1.6.6.4.2.1.1.1.2.2.1.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2">subscript</csymbol><ci id="S2.E4.m1.6.6.4.2.1.1.1.2.2.2.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2.2">𝑧</ci><ci id="S2.E4.m1.6.6.4.2.1.1.1.2.2.3.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.2.3">𝑖</ci></apply><apply id="S2.E4.m1.6.6.4.2.1.1.1.2.3.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E4.m1.6.6.4.2.1.1.1.2.3.1.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3">superscript</csymbol><ci id="S2.E4.m1.6.6.4.2.1.1.1.2.3.2.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3.2">𝑣</ci><ci id="S2.E4.m1.6.6.4.2.1.1.1.2.3.3.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.2.3.3">𝑗</ci></apply></apply><ci id="S2.E4.m1.6.6.4.2.1.1.1.3.cmml" xref="S2.E4.m1.6.6.4.2.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E4.m1.7c">\mathcal{L}_{Inter}=\sum_{i\in I}\frac{-1}{\left|P(i)\right|}\log\frac{\exp(z_{i}\cdot v^{y_{i}}/\tau)}{\sum_{j=1}^{L}\exp(z_{i}\cdot v^{j}/\tau)},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p1.4" class="ltx_p">where <math id="S2.SS3.p1.2.m1.1" class="ltx_Math" alttext="y_{i}" display="inline"><semantics id="S2.SS3.p1.2.m1.1a"><msub id="S2.SS3.p1.2.m1.1.1" xref="S2.SS3.p1.2.m1.1.1.cmml"><mi id="S2.SS3.p1.2.m1.1.1.2" xref="S2.SS3.p1.2.m1.1.1.2.cmml">y</mi><mi id="S2.SS3.p1.2.m1.1.1.3" xref="S2.SS3.p1.2.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m1.1b"><apply id="S2.SS3.p1.2.m1.1.1.cmml" xref="S2.SS3.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m1.1.1.1.cmml" xref="S2.SS3.p1.2.m1.1.1">subscript</csymbol><ci id="S2.SS3.p1.2.m1.1.1.2.cmml" xref="S2.SS3.p1.2.m1.1.1.2">𝑦</ci><ci id="S2.SS3.p1.2.m1.1.1.3.cmml" xref="S2.SS3.p1.2.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m1.1c">y_{i}</annotation></semantics></math> is the label of sample <math id="S2.SS3.p1.3.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS3.p1.3.m2.1a"><mi id="S2.SS3.p1.3.m2.1.1" xref="S2.SS3.p1.3.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m2.1b"><ci id="S2.SS3.p1.3.m2.1.1.cmml" xref="S2.SS3.p1.3.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m2.1c">i</annotation></semantics></math>. When minimizing <math id="S2.SS3.p1.4.m3.1" class="ltx_Math" alttext="\mathcal{L}_{Inter}" display="inline"><semantics id="S2.SS3.p1.4.m3.1a"><msub id="S2.SS3.p1.4.m3.1.1" xref="S2.SS3.p1.4.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS3.p1.4.m3.1.1.2" xref="S2.SS3.p1.4.m3.1.1.2.cmml">ℒ</mi><mrow id="S2.SS3.p1.4.m3.1.1.3" xref="S2.SS3.p1.4.m3.1.1.3.cmml"><mi id="S2.SS3.p1.4.m3.1.1.3.2" xref="S2.SS3.p1.4.m3.1.1.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p1.4.m3.1.1.3.1" xref="S2.SS3.p1.4.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p1.4.m3.1.1.3.3" xref="S2.SS3.p1.4.m3.1.1.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p1.4.m3.1.1.3.1a" xref="S2.SS3.p1.4.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p1.4.m3.1.1.3.4" xref="S2.SS3.p1.4.m3.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p1.4.m3.1.1.3.1b" xref="S2.SS3.p1.4.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p1.4.m3.1.1.3.5" xref="S2.SS3.p1.4.m3.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p1.4.m3.1.1.3.1c" xref="S2.SS3.p1.4.m3.1.1.3.1.cmml">​</mo><mi id="S2.SS3.p1.4.m3.1.1.3.6" xref="S2.SS3.p1.4.m3.1.1.3.6.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m3.1b"><apply id="S2.SS3.p1.4.m3.1.1.cmml" xref="S2.SS3.p1.4.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m3.1.1.1.cmml" xref="S2.SS3.p1.4.m3.1.1">subscript</csymbol><ci id="S2.SS3.p1.4.m3.1.1.2.cmml" xref="S2.SS3.p1.4.m3.1.1.2">ℒ</ci><apply id="S2.SS3.p1.4.m3.1.1.3.cmml" xref="S2.SS3.p1.4.m3.1.1.3"><times id="S2.SS3.p1.4.m3.1.1.3.1.cmml" xref="S2.SS3.p1.4.m3.1.1.3.1"></times><ci id="S2.SS3.p1.4.m3.1.1.3.2.cmml" xref="S2.SS3.p1.4.m3.1.1.3.2">𝐼</ci><ci id="S2.SS3.p1.4.m3.1.1.3.3.cmml" xref="S2.SS3.p1.4.m3.1.1.3.3">𝑛</ci><ci id="S2.SS3.p1.4.m3.1.1.3.4.cmml" xref="S2.SS3.p1.4.m3.1.1.3.4">𝑡</ci><ci id="S2.SS3.p1.4.m3.1.1.3.5.cmml" xref="S2.SS3.p1.4.m3.1.1.3.5">𝑒</ci><ci id="S2.SS3.p1.4.m3.1.1.3.6.cmml" xref="S2.SS3.p1.4.m3.1.1.3.6">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m3.1c">\mathcal{L}_{Inter}</annotation></semantics></math>, the embedding of each sample will get closer to the prototype of the same class while farther from the prototypes of different classes, encouraging local models to learn common attributes (<span id="S2.SS3.p1.4.1" class="ltx_text ltx_font_italic">i.e.</span> class-specific attributes) for samples with the same classes.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.8" class="ltx_p">To this end, how to produce high-quality prototypes is the key to inter-client contrastive learning. In previous studies, one common method to generate prototypes is uploading and aggregating local information. For example, Mu <span id="S2.SS3.p2.8.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> and Chen <span id="S2.SS3.p2.8.2" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> uploaded features to the server directly to generate prototypes. However, it may cause privacy leakage under well-designed attacks and will introduce extra communication costs. Different from these methods, in FedIIC, we propose a new method to generate global prototypes without uploading extra information. Considering that the essence of linear classification is similarity calculation based on vector inner product, the weights of a well-trained linear classifier are nearly co-linear with the feature vectors of different classes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite>. Therefore, the weights of a linear classifier denoted as <math id="S2.SS3.p2.1.m1.4" class="ltx_Math" alttext="W=\{w^{1},w^{2},...,w^{L}\}" display="inline"><semantics id="S2.SS3.p2.1.m1.4a"><mrow id="S2.SS3.p2.1.m1.4.4" xref="S2.SS3.p2.1.m1.4.4.cmml"><mi id="S2.SS3.p2.1.m1.4.4.5" xref="S2.SS3.p2.1.m1.4.4.5.cmml">W</mi><mo id="S2.SS3.p2.1.m1.4.4.4" xref="S2.SS3.p2.1.m1.4.4.4.cmml">=</mo><mrow id="S2.SS3.p2.1.m1.4.4.3.3" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml"><mo stretchy="false" id="S2.SS3.p2.1.m1.4.4.3.3.4" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml">{</mo><msup id="S2.SS3.p2.1.m1.2.2.1.1.1" xref="S2.SS3.p2.1.m1.2.2.1.1.1.cmml"><mi id="S2.SS3.p2.1.m1.2.2.1.1.1.2" xref="S2.SS3.p2.1.m1.2.2.1.1.1.2.cmml">w</mi><mn id="S2.SS3.p2.1.m1.2.2.1.1.1.3" xref="S2.SS3.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msup><mo id="S2.SS3.p2.1.m1.4.4.3.3.5" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p2.1.m1.3.3.2.2.2" xref="S2.SS3.p2.1.m1.3.3.2.2.2.cmml"><mi id="S2.SS3.p2.1.m1.3.3.2.2.2.2" xref="S2.SS3.p2.1.m1.3.3.2.2.2.2.cmml">w</mi><mn id="S2.SS3.p2.1.m1.3.3.2.2.2.3" xref="S2.SS3.p2.1.m1.3.3.2.2.2.3.cmml">2</mn></msup><mo id="S2.SS3.p2.1.m1.4.4.3.3.6" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS3.p2.1.m1.1.1" xref="S2.SS3.p2.1.m1.1.1.cmml">…</mi><mo id="S2.SS3.p2.1.m1.4.4.3.3.7" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p2.1.m1.4.4.3.3.3" xref="S2.SS3.p2.1.m1.4.4.3.3.3.cmml"><mi id="S2.SS3.p2.1.m1.4.4.3.3.3.2" xref="S2.SS3.p2.1.m1.4.4.3.3.3.2.cmml">w</mi><mi id="S2.SS3.p2.1.m1.4.4.3.3.3.3" xref="S2.SS3.p2.1.m1.4.4.3.3.3.3.cmml">L</mi></msup><mo stretchy="false" id="S2.SS3.p2.1.m1.4.4.3.3.8" xref="S2.SS3.p2.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.1.m1.4b"><apply id="S2.SS3.p2.1.m1.4.4.cmml" xref="S2.SS3.p2.1.m1.4.4"><eq id="S2.SS3.p2.1.m1.4.4.4.cmml" xref="S2.SS3.p2.1.m1.4.4.4"></eq><ci id="S2.SS3.p2.1.m1.4.4.5.cmml" xref="S2.SS3.p2.1.m1.4.4.5">𝑊</ci><set id="S2.SS3.p2.1.m1.4.4.3.4.cmml" xref="S2.SS3.p2.1.m1.4.4.3.3"><apply id="S2.SS3.p2.1.m1.2.2.1.1.1.cmml" xref="S2.SS3.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS3.p2.1.m1.2.2.1.1.1">superscript</csymbol><ci id="S2.SS3.p2.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS3.p2.1.m1.2.2.1.1.1.2">𝑤</ci><cn type="integer" id="S2.SS3.p2.1.m1.2.2.1.1.1.3.cmml" xref="S2.SS3.p2.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS3.p2.1.m1.3.3.2.2.2.cmml" xref="S2.SS3.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.3.3.2.2.2.1.cmml" xref="S2.SS3.p2.1.m1.3.3.2.2.2">superscript</csymbol><ci id="S2.SS3.p2.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS3.p2.1.m1.3.3.2.2.2.2">𝑤</ci><cn type="integer" id="S2.SS3.p2.1.m1.3.3.2.2.2.3.cmml" xref="S2.SS3.p2.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS3.p2.1.m1.1.1.cmml" xref="S2.SS3.p2.1.m1.1.1">…</ci><apply id="S2.SS3.p2.1.m1.4.4.3.3.3.cmml" xref="S2.SS3.p2.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS3.p2.1.m1.4.4.3.3.3.1.cmml" xref="S2.SS3.p2.1.m1.4.4.3.3.3">superscript</csymbol><ci id="S2.SS3.p2.1.m1.4.4.3.3.3.2.cmml" xref="S2.SS3.p2.1.m1.4.4.3.3.3.2">𝑤</ci><ci id="S2.SS3.p2.1.m1.4.4.3.3.3.3.cmml" xref="S2.SS3.p2.1.m1.4.4.3.3.3.3">𝐿</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.1.m1.4c">W=\{w^{1},w^{2},...,w^{L}\}</annotation></semantics></math>, can represent the corresponding features of <math id="S2.SS3.p2.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S2.SS3.p2.2.m2.1a"><mi id="S2.SS3.p2.2.m2.1.1" xref="S2.SS3.p2.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.2.m2.1b"><ci id="S2.SS3.p2.2.m2.1.1.cmml" xref="S2.SS3.p2.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.2.m2.1c">L</annotation></semantics></math> classes learned by the feature extractor <math id="S2.SS3.p2.3.m3.1" class="ltx_Math" alttext="g(\cdot)" display="inline"><semantics id="S2.SS3.p2.3.m3.1a"><mrow id="S2.SS3.p2.3.m3.1.2" xref="S2.SS3.p2.3.m3.1.2.cmml"><mi id="S2.SS3.p2.3.m3.1.2.2" xref="S2.SS3.p2.3.m3.1.2.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS3.p2.3.m3.1.2.1" xref="S2.SS3.p2.3.m3.1.2.1.cmml">​</mo><mrow id="S2.SS3.p2.3.m3.1.2.3.2" xref="S2.SS3.p2.3.m3.1.2.cmml"><mo stretchy="false" id="S2.SS3.p2.3.m3.1.2.3.2.1" xref="S2.SS3.p2.3.m3.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.3.m3.1.1" xref="S2.SS3.p2.3.m3.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.3.m3.1.2.3.2.2" xref="S2.SS3.p2.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.3.m3.1b"><apply id="S2.SS3.p2.3.m3.1.2.cmml" xref="S2.SS3.p2.3.m3.1.2"><times id="S2.SS3.p2.3.m3.1.2.1.cmml" xref="S2.SS3.p2.3.m3.1.2.1"></times><ci id="S2.SS3.p2.3.m3.1.2.2.cmml" xref="S2.SS3.p2.3.m3.1.2.2">𝑔</ci><ci id="S2.SS3.p2.3.m3.1.1.cmml" xref="S2.SS3.p2.3.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.3.m3.1c">g(\cdot)</annotation></semantics></math> to some extent. Specifically, given a global model <math id="S2.SS3.p2.4.m4.6" class="ltx_Math" alttext="[f_{g}(\cdot),g_{g}(\cdot),h_{g}(\cdot)]" display="inline"><semantics id="S2.SS3.p2.4.m4.6a"><mrow id="S2.SS3.p2.4.m4.6.6.3" xref="S2.SS3.p2.4.m4.6.6.4.cmml"><mo stretchy="false" id="S2.SS3.p2.4.m4.6.6.3.4" xref="S2.SS3.p2.4.m4.6.6.4.cmml">[</mo><mrow id="S2.SS3.p2.4.m4.4.4.1.1" xref="S2.SS3.p2.4.m4.4.4.1.1.cmml"><msub id="S2.SS3.p2.4.m4.4.4.1.1.2" xref="S2.SS3.p2.4.m4.4.4.1.1.2.cmml"><mi id="S2.SS3.p2.4.m4.4.4.1.1.2.2" xref="S2.SS3.p2.4.m4.4.4.1.1.2.2.cmml">f</mi><mi id="S2.SS3.p2.4.m4.4.4.1.1.2.3" xref="S2.SS3.p2.4.m4.4.4.1.1.2.3.cmml">g</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.4.4.1.1.1" xref="S2.SS3.p2.4.m4.4.4.1.1.1.cmml">​</mo><mrow id="S2.SS3.p2.4.m4.4.4.1.1.3.2" xref="S2.SS3.p2.4.m4.4.4.1.1.cmml"><mo stretchy="false" id="S2.SS3.p2.4.m4.4.4.1.1.3.2.1" xref="S2.SS3.p2.4.m4.4.4.1.1.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.1.1" xref="S2.SS3.p2.4.m4.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.4.m4.4.4.1.1.3.2.2" xref="S2.SS3.p2.4.m4.4.4.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS3.p2.4.m4.6.6.3.5" xref="S2.SS3.p2.4.m4.6.6.4.cmml">,</mo><mrow id="S2.SS3.p2.4.m4.5.5.2.2" xref="S2.SS3.p2.4.m4.5.5.2.2.cmml"><msub id="S2.SS3.p2.4.m4.5.5.2.2.2" xref="S2.SS3.p2.4.m4.5.5.2.2.2.cmml"><mi id="S2.SS3.p2.4.m4.5.5.2.2.2.2" xref="S2.SS3.p2.4.m4.5.5.2.2.2.2.cmml">g</mi><mi id="S2.SS3.p2.4.m4.5.5.2.2.2.3" xref="S2.SS3.p2.4.m4.5.5.2.2.2.3.cmml">g</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.5.5.2.2.1" xref="S2.SS3.p2.4.m4.5.5.2.2.1.cmml">​</mo><mrow id="S2.SS3.p2.4.m4.5.5.2.2.3.2" xref="S2.SS3.p2.4.m4.5.5.2.2.cmml"><mo stretchy="false" id="S2.SS3.p2.4.m4.5.5.2.2.3.2.1" xref="S2.SS3.p2.4.m4.5.5.2.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.2.2" xref="S2.SS3.p2.4.m4.2.2.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.4.m4.5.5.2.2.3.2.2" xref="S2.SS3.p2.4.m4.5.5.2.2.cmml">)</mo></mrow></mrow><mo id="S2.SS3.p2.4.m4.6.6.3.6" xref="S2.SS3.p2.4.m4.6.6.4.cmml">,</mo><mrow id="S2.SS3.p2.4.m4.6.6.3.3" xref="S2.SS3.p2.4.m4.6.6.3.3.cmml"><msub id="S2.SS3.p2.4.m4.6.6.3.3.2" xref="S2.SS3.p2.4.m4.6.6.3.3.2.cmml"><mi id="S2.SS3.p2.4.m4.6.6.3.3.2.2" xref="S2.SS3.p2.4.m4.6.6.3.3.2.2.cmml">h</mi><mi id="S2.SS3.p2.4.m4.6.6.3.3.2.3" xref="S2.SS3.p2.4.m4.6.6.3.3.2.3.cmml">g</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.6.6.3.3.1" xref="S2.SS3.p2.4.m4.6.6.3.3.1.cmml">​</mo><mrow id="S2.SS3.p2.4.m4.6.6.3.3.3.2" xref="S2.SS3.p2.4.m4.6.6.3.3.cmml"><mo stretchy="false" id="S2.SS3.p2.4.m4.6.6.3.3.3.2.1" xref="S2.SS3.p2.4.m4.6.6.3.3.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.4.m4.3.3" xref="S2.SS3.p2.4.m4.3.3.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.4.m4.6.6.3.3.3.2.2" xref="S2.SS3.p2.4.m4.6.6.3.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS3.p2.4.m4.6.6.3.7" xref="S2.SS3.p2.4.m4.6.6.4.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.4.m4.6b"><list id="S2.SS3.p2.4.m4.6.6.4.cmml" xref="S2.SS3.p2.4.m4.6.6.3"><apply id="S2.SS3.p2.4.m4.4.4.1.1.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1"><times id="S2.SS3.p2.4.m4.4.4.1.1.1.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1.1"></times><apply id="S2.SS3.p2.4.m4.4.4.1.1.2.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1.2"><csymbol cd="ambiguous" id="S2.SS3.p2.4.m4.4.4.1.1.2.1.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1.2">subscript</csymbol><ci id="S2.SS3.p2.4.m4.4.4.1.1.2.2.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1.2.2">𝑓</ci><ci id="S2.SS3.p2.4.m4.4.4.1.1.2.3.cmml" xref="S2.SS3.p2.4.m4.4.4.1.1.2.3">𝑔</ci></apply><ci id="S2.SS3.p2.4.m4.1.1.cmml" xref="S2.SS3.p2.4.m4.1.1">⋅</ci></apply><apply id="S2.SS3.p2.4.m4.5.5.2.2.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2"><times id="S2.SS3.p2.4.m4.5.5.2.2.1.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2.1"></times><apply id="S2.SS3.p2.4.m4.5.5.2.2.2.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.4.m4.5.5.2.2.2.1.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2.2">subscript</csymbol><ci id="S2.SS3.p2.4.m4.5.5.2.2.2.2.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2.2.2">𝑔</ci><ci id="S2.SS3.p2.4.m4.5.5.2.2.2.3.cmml" xref="S2.SS3.p2.4.m4.5.5.2.2.2.3">𝑔</ci></apply><ci id="S2.SS3.p2.4.m4.2.2.cmml" xref="S2.SS3.p2.4.m4.2.2">⋅</ci></apply><apply id="S2.SS3.p2.4.m4.6.6.3.3.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3"><times id="S2.SS3.p2.4.m4.6.6.3.3.1.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3.1"></times><apply id="S2.SS3.p2.4.m4.6.6.3.3.2.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3.2"><csymbol cd="ambiguous" id="S2.SS3.p2.4.m4.6.6.3.3.2.1.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3.2">subscript</csymbol><ci id="S2.SS3.p2.4.m4.6.6.3.3.2.2.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3.2.2">ℎ</ci><ci id="S2.SS3.p2.4.m4.6.6.3.3.2.3.cmml" xref="S2.SS3.p2.4.m4.6.6.3.3.2.3">𝑔</ci></apply><ci id="S2.SS3.p2.4.m4.3.3.cmml" xref="S2.SS3.p2.4.m4.3.3">⋅</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.4.m4.6c">[f_{g}(\cdot),g_{g}(\cdot),h_{g}(\cdot)]</annotation></semantics></math> after model aggregation in the server, the weights of <math id="S2.SS3.p2.5.m5.1" class="ltx_Math" alttext="g_{g}(\cdot)" display="inline"><semantics id="S2.SS3.p2.5.m5.1a"><mrow id="S2.SS3.p2.5.m5.1.2" xref="S2.SS3.p2.5.m5.1.2.cmml"><msub id="S2.SS3.p2.5.m5.1.2.2" xref="S2.SS3.p2.5.m5.1.2.2.cmml"><mi id="S2.SS3.p2.5.m5.1.2.2.2" xref="S2.SS3.p2.5.m5.1.2.2.2.cmml">g</mi><mi id="S2.SS3.p2.5.m5.1.2.2.3" xref="S2.SS3.p2.5.m5.1.2.2.3.cmml">g</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p2.5.m5.1.2.1" xref="S2.SS3.p2.5.m5.1.2.1.cmml">​</mo><mrow id="S2.SS3.p2.5.m5.1.2.3.2" xref="S2.SS3.p2.5.m5.1.2.cmml"><mo stretchy="false" id="S2.SS3.p2.5.m5.1.2.3.2.1" xref="S2.SS3.p2.5.m5.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.5.m5.1.1" xref="S2.SS3.p2.5.m5.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.5.m5.1.2.3.2.2" xref="S2.SS3.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.5.m5.1b"><apply id="S2.SS3.p2.5.m5.1.2.cmml" xref="S2.SS3.p2.5.m5.1.2"><times id="S2.SS3.p2.5.m5.1.2.1.cmml" xref="S2.SS3.p2.5.m5.1.2.1"></times><apply id="S2.SS3.p2.5.m5.1.2.2.cmml" xref="S2.SS3.p2.5.m5.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.5.m5.1.2.2.1.cmml" xref="S2.SS3.p2.5.m5.1.2.2">subscript</csymbol><ci id="S2.SS3.p2.5.m5.1.2.2.2.cmml" xref="S2.SS3.p2.5.m5.1.2.2.2">𝑔</ci><ci id="S2.SS3.p2.5.m5.1.2.2.3.cmml" xref="S2.SS3.p2.5.m5.1.2.2.3">𝑔</ci></apply><ci id="S2.SS3.p2.5.m5.1.1.cmml" xref="S2.SS3.p2.5.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.5.m5.1c">g_{g}(\cdot)</annotation></semantics></math> are fed to <math id="S2.SS3.p2.6.m6.1" class="ltx_Math" alttext="h_{g}(\cdot)" display="inline"><semantics id="S2.SS3.p2.6.m6.1a"><mrow id="S2.SS3.p2.6.m6.1.2" xref="S2.SS3.p2.6.m6.1.2.cmml"><msub id="S2.SS3.p2.6.m6.1.2.2" xref="S2.SS3.p2.6.m6.1.2.2.cmml"><mi id="S2.SS3.p2.6.m6.1.2.2.2" xref="S2.SS3.p2.6.m6.1.2.2.2.cmml">h</mi><mi id="S2.SS3.p2.6.m6.1.2.2.3" xref="S2.SS3.p2.6.m6.1.2.2.3.cmml">g</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS3.p2.6.m6.1.2.1" xref="S2.SS3.p2.6.m6.1.2.1.cmml">​</mo><mrow id="S2.SS3.p2.6.m6.1.2.3.2" xref="S2.SS3.p2.6.m6.1.2.cmml"><mo stretchy="false" id="S2.SS3.p2.6.m6.1.2.3.2.1" xref="S2.SS3.p2.6.m6.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS3.p2.6.m6.1.1" xref="S2.SS3.p2.6.m6.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS3.p2.6.m6.1.2.3.2.2" xref="S2.SS3.p2.6.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.6.m6.1b"><apply id="S2.SS3.p2.6.m6.1.2.cmml" xref="S2.SS3.p2.6.m6.1.2"><times id="S2.SS3.p2.6.m6.1.2.1.cmml" xref="S2.SS3.p2.6.m6.1.2.1"></times><apply id="S2.SS3.p2.6.m6.1.2.2.cmml" xref="S2.SS3.p2.6.m6.1.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.6.m6.1.2.2.1.cmml" xref="S2.SS3.p2.6.m6.1.2.2">subscript</csymbol><ci id="S2.SS3.p2.6.m6.1.2.2.2.cmml" xref="S2.SS3.p2.6.m6.1.2.2.2">ℎ</ci><ci id="S2.SS3.p2.6.m6.1.2.2.3.cmml" xref="S2.SS3.p2.6.m6.1.2.2.3">𝑔</ci></apply><ci id="S2.SS3.p2.6.m6.1.1.cmml" xref="S2.SS3.p2.6.m6.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.6.m6.1c">h_{g}(\cdot)</annotation></semantics></math> to calculate the initial prototypes <math id="S2.SS3.p2.7.m7.4" class="ltx_Math" alttext="\widetilde{V}=\{\widetilde{v}^{1},\widetilde{v}^{2},...,\widetilde{v}^{L}\}" display="inline"><semantics id="S2.SS3.p2.7.m7.4a"><mrow id="S2.SS3.p2.7.m7.4.4" xref="S2.SS3.p2.7.m7.4.4.cmml"><mover accent="true" id="S2.SS3.p2.7.m7.4.4.5" xref="S2.SS3.p2.7.m7.4.4.5.cmml"><mi id="S2.SS3.p2.7.m7.4.4.5.2" xref="S2.SS3.p2.7.m7.4.4.5.2.cmml">V</mi><mo id="S2.SS3.p2.7.m7.4.4.5.1" xref="S2.SS3.p2.7.m7.4.4.5.1.cmml">~</mo></mover><mo id="S2.SS3.p2.7.m7.4.4.4" xref="S2.SS3.p2.7.m7.4.4.4.cmml">=</mo><mrow id="S2.SS3.p2.7.m7.4.4.3.3" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml"><mo stretchy="false" id="S2.SS3.p2.7.m7.4.4.3.3.4" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml">{</mo><msup id="S2.SS3.p2.7.m7.2.2.1.1.1" xref="S2.SS3.p2.7.m7.2.2.1.1.1.cmml"><mover accent="true" id="S2.SS3.p2.7.m7.2.2.1.1.1.2" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2.cmml"><mi id="S2.SS3.p2.7.m7.2.2.1.1.1.2.2" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2.2.cmml">v</mi><mo id="S2.SS3.p2.7.m7.2.2.1.1.1.2.1" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2.1.cmml">~</mo></mover><mn id="S2.SS3.p2.7.m7.2.2.1.1.1.3" xref="S2.SS3.p2.7.m7.2.2.1.1.1.3.cmml">1</mn></msup><mo id="S2.SS3.p2.7.m7.4.4.3.3.5" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p2.7.m7.3.3.2.2.2" xref="S2.SS3.p2.7.m7.3.3.2.2.2.cmml"><mover accent="true" id="S2.SS3.p2.7.m7.3.3.2.2.2.2" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2.cmml"><mi id="S2.SS3.p2.7.m7.3.3.2.2.2.2.2" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2.2.cmml">v</mi><mo id="S2.SS3.p2.7.m7.3.3.2.2.2.2.1" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2.1.cmml">~</mo></mover><mn id="S2.SS3.p2.7.m7.3.3.2.2.2.3" xref="S2.SS3.p2.7.m7.3.3.2.2.2.3.cmml">2</mn></msup><mo id="S2.SS3.p2.7.m7.4.4.3.3.6" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S2.SS3.p2.7.m7.1.1" xref="S2.SS3.p2.7.m7.1.1.cmml">…</mi><mo id="S2.SS3.p2.7.m7.4.4.3.3.7" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml">,</mo><msup id="S2.SS3.p2.7.m7.4.4.3.3.3" xref="S2.SS3.p2.7.m7.4.4.3.3.3.cmml"><mover accent="true" id="S2.SS3.p2.7.m7.4.4.3.3.3.2" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2.cmml"><mi id="S2.SS3.p2.7.m7.4.4.3.3.3.2.2" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2.2.cmml">v</mi><mo id="S2.SS3.p2.7.m7.4.4.3.3.3.2.1" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2.1.cmml">~</mo></mover><mi id="S2.SS3.p2.7.m7.4.4.3.3.3.3" xref="S2.SS3.p2.7.m7.4.4.3.3.3.3.cmml">L</mi></msup><mo stretchy="false" id="S2.SS3.p2.7.m7.4.4.3.3.8" xref="S2.SS3.p2.7.m7.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.7.m7.4b"><apply id="S2.SS3.p2.7.m7.4.4.cmml" xref="S2.SS3.p2.7.m7.4.4"><eq id="S2.SS3.p2.7.m7.4.4.4.cmml" xref="S2.SS3.p2.7.m7.4.4.4"></eq><apply id="S2.SS3.p2.7.m7.4.4.5.cmml" xref="S2.SS3.p2.7.m7.4.4.5"><ci id="S2.SS3.p2.7.m7.4.4.5.1.cmml" xref="S2.SS3.p2.7.m7.4.4.5.1">~</ci><ci id="S2.SS3.p2.7.m7.4.4.5.2.cmml" xref="S2.SS3.p2.7.m7.4.4.5.2">𝑉</ci></apply><set id="S2.SS3.p2.7.m7.4.4.3.4.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3"><apply id="S2.SS3.p2.7.m7.2.2.1.1.1.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m7.2.2.1.1.1.1.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1">superscript</csymbol><apply id="S2.SS3.p2.7.m7.2.2.1.1.1.2.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2"><ci id="S2.SS3.p2.7.m7.2.2.1.1.1.2.1.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2.1">~</ci><ci id="S2.SS3.p2.7.m7.2.2.1.1.1.2.2.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1.2.2">𝑣</ci></apply><cn type="integer" id="S2.SS3.p2.7.m7.2.2.1.1.1.3.cmml" xref="S2.SS3.p2.7.m7.2.2.1.1.1.3">1</cn></apply><apply id="S2.SS3.p2.7.m7.3.3.2.2.2.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m7.3.3.2.2.2.1.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2">superscript</csymbol><apply id="S2.SS3.p2.7.m7.3.3.2.2.2.2.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2"><ci id="S2.SS3.p2.7.m7.3.3.2.2.2.2.1.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2.1">~</ci><ci id="S2.SS3.p2.7.m7.3.3.2.2.2.2.2.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2.2.2">𝑣</ci></apply><cn type="integer" id="S2.SS3.p2.7.m7.3.3.2.2.2.3.cmml" xref="S2.SS3.p2.7.m7.3.3.2.2.2.3">2</cn></apply><ci id="S2.SS3.p2.7.m7.1.1.cmml" xref="S2.SS3.p2.7.m7.1.1">…</ci><apply id="S2.SS3.p2.7.m7.4.4.3.3.3.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.SS3.p2.7.m7.4.4.3.3.3.1.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3">superscript</csymbol><apply id="S2.SS3.p2.7.m7.4.4.3.3.3.2.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2"><ci id="S2.SS3.p2.7.m7.4.4.3.3.3.2.1.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2.1">~</ci><ci id="S2.SS3.p2.7.m7.4.4.3.3.3.2.2.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3.2.2">𝑣</ci></apply><ci id="S2.SS3.p2.7.m7.4.4.3.3.3.3.cmml" xref="S2.SS3.p2.7.m7.4.4.3.3.3.3">𝐿</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.7.m7.4c">\widetilde{V}=\{\widetilde{v}^{1},\widetilde{v}^{2},...,\widetilde{v}^{L}\}</annotation></semantics></math> as shown in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.1 Preliminaries and Overview ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Considering that features of different classes should have low inter-class similarity, we further fine-tune <math id="S2.SS3.p2.8.m8.1" class="ltx_Math" alttext="\widetilde{V}" display="inline"><semantics id="S2.SS3.p2.8.m8.1a"><mover accent="true" id="S2.SS3.p2.8.m8.1.1" xref="S2.SS3.p2.8.m8.1.1.cmml"><mi id="S2.SS3.p2.8.m8.1.1.2" xref="S2.SS3.p2.8.m8.1.1.2.cmml">V</mi><mo id="S2.SS3.p2.8.m8.1.1.1" xref="S2.SS3.p2.8.m8.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.8.m8.1b"><apply id="S2.SS3.p2.8.m8.1.1.cmml" xref="S2.SS3.p2.8.m8.1.1"><ci id="S2.SS3.p2.8.m8.1.1.1.cmml" xref="S2.SS3.p2.8.m8.1.1.1">~</ci><ci id="S2.SS3.p2.8.m8.1.1.2.cmml" xref="S2.SS3.p2.8.m8.1.1.2">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.8.m8.1c">\widetilde{V}</annotation></semantics></math> via gradient descent by</p>
<table id="S2.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E5.m1.5" class="ltx_Math" alttext="\widetilde{V}\leftarrow\widetilde{V}-\nabla\sum_{i\in Y}\max_{j\in Y,j\neq i}(\frac{\widetilde{v}^{i}}{\left\|\widetilde{v}^{i}\right\|_{2}}\cdot\frac{\widetilde{v}^{j}}{\left\|\widetilde{v}^{j}\right\|_{2}})." display="block"><semantics id="S2.E5.m1.5a"><mrow id="S2.E5.m1.5.5.1" xref="S2.E5.m1.5.5.1.1.cmml"><mrow id="S2.E5.m1.5.5.1.1" xref="S2.E5.m1.5.5.1.1.cmml"><mover accent="true" id="S2.E5.m1.5.5.1.1.4" xref="S2.E5.m1.5.5.1.1.4.cmml"><mi id="S2.E5.m1.5.5.1.1.4.2" xref="S2.E5.m1.5.5.1.1.4.2.cmml">V</mi><mo id="S2.E5.m1.5.5.1.1.4.1" xref="S2.E5.m1.5.5.1.1.4.1.cmml">~</mo></mover><mo stretchy="false" id="S2.E5.m1.5.5.1.1.3" xref="S2.E5.m1.5.5.1.1.3.cmml">←</mo><mrow id="S2.E5.m1.5.5.1.1.2" xref="S2.E5.m1.5.5.1.1.2.cmml"><mover accent="true" id="S2.E5.m1.5.5.1.1.2.4" xref="S2.E5.m1.5.5.1.1.2.4.cmml"><mi id="S2.E5.m1.5.5.1.1.2.4.2" xref="S2.E5.m1.5.5.1.1.2.4.2.cmml">V</mi><mo id="S2.E5.m1.5.5.1.1.2.4.1" xref="S2.E5.m1.5.5.1.1.2.4.1.cmml">~</mo></mover><mo id="S2.E5.m1.5.5.1.1.2.3" xref="S2.E5.m1.5.5.1.1.2.3.cmml">−</mo><mrow id="S2.E5.m1.5.5.1.1.2.2" xref="S2.E5.m1.5.5.1.1.2.2.cmml"><mo id="S2.E5.m1.5.5.1.1.2.2.4" xref="S2.E5.m1.5.5.1.1.2.2.4.cmml">∇</mo><mo lspace="0em" rspace="0em" id="S2.E5.m1.5.5.1.1.2.2.3" xref="S2.E5.m1.5.5.1.1.2.2.3.cmml">​</mo><mrow id="S2.E5.m1.5.5.1.1.2.2.2" xref="S2.E5.m1.5.5.1.1.2.2.2.cmml"><munder id="S2.E5.m1.5.5.1.1.2.2.2.3" xref="S2.E5.m1.5.5.1.1.2.2.2.3.cmml"><mo movablelimits="false" id="S2.E5.m1.5.5.1.1.2.2.2.3.2" xref="S2.E5.m1.5.5.1.1.2.2.2.3.2.cmml">∑</mo><mrow id="S2.E5.m1.5.5.1.1.2.2.2.3.3" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.cmml"><mi id="S2.E5.m1.5.5.1.1.2.2.2.3.3.2" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.2.cmml">i</mi><mo id="S2.E5.m1.5.5.1.1.2.2.2.3.3.1" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.1.cmml">∈</mo><mi id="S2.E5.m1.5.5.1.1.2.2.2.3.3.3" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.3.cmml">Y</mi></mrow></munder><mrow id="S2.E5.m1.5.5.1.1.2.2.2.2.2" xref="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml"><munder id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">max</mi><mrow id="S2.E5.m1.2.2.2.2" xref="S2.E5.m1.2.2.2.3.cmml"><mrow id="S2.E5.m1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.2.cmml">j</mi><mo id="S2.E5.m1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="S2.E5.m1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.1.3.cmml">Y</mi></mrow><mo id="S2.E5.m1.2.2.2.2.3" xref="S2.E5.m1.2.2.2.3a.cmml">,</mo><mrow id="S2.E5.m1.2.2.2.2.2" xref="S2.E5.m1.2.2.2.2.2.cmml"><mi id="S2.E5.m1.2.2.2.2.2.2" xref="S2.E5.m1.2.2.2.2.2.2.cmml">j</mi><mo id="S2.E5.m1.2.2.2.2.2.1" xref="S2.E5.m1.2.2.2.2.2.1.cmml">≠</mo><mi id="S2.E5.m1.2.2.2.2.2.3" xref="S2.E5.m1.2.2.2.2.2.3.cmml">i</mi></mrow></mrow></munder><mo id="S2.E5.m1.5.5.1.1.2.2.2.2.2a" xref="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml">⁡</mo><mrow id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2" xref="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml"><mo stretchy="false" id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.2" xref="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml">(</mo><mrow id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1" xref="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.cmml"><mfrac id="S2.E5.m1.3.3" xref="S2.E5.m1.3.3.cmml"><msup id="S2.E5.m1.3.3.3" xref="S2.E5.m1.3.3.3.cmml"><mover accent="true" id="S2.E5.m1.3.3.3.2" xref="S2.E5.m1.3.3.3.2.cmml"><mi id="S2.E5.m1.3.3.3.2.2" xref="S2.E5.m1.3.3.3.2.2.cmml">v</mi><mo id="S2.E5.m1.3.3.3.2.1" xref="S2.E5.m1.3.3.3.2.1.cmml">~</mo></mover><mi id="S2.E5.m1.3.3.3.3" xref="S2.E5.m1.3.3.3.3.cmml">i</mi></msup><msub id="S2.E5.m1.3.3.1" xref="S2.E5.m1.3.3.1.cmml"><mrow id="S2.E5.m1.3.3.1.1.1" xref="S2.E5.m1.3.3.1.1.2.cmml"><mo id="S2.E5.m1.3.3.1.1.1.2" xref="S2.E5.m1.3.3.1.1.2.1.cmml">‖</mo><msup id="S2.E5.m1.3.3.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.cmml"><mover accent="true" id="S2.E5.m1.3.3.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.1.2.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.2.2" xref="S2.E5.m1.3.3.1.1.1.1.2.2.cmml">v</mi><mo id="S2.E5.m1.3.3.1.1.1.1.2.1" xref="S2.E5.m1.3.3.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S2.E5.m1.3.3.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.1.3.cmml">i</mi></msup><mo id="S2.E5.m1.3.3.1.1.1.3" xref="S2.E5.m1.3.3.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.E5.m1.3.3.1.3" xref="S2.E5.m1.3.3.1.3.cmml">2</mn></msub></mfrac><mo lspace="0.222em" rspace="0.222em" id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.1" xref="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.1.cmml">⋅</mo><mfrac id="S2.E5.m1.4.4" xref="S2.E5.m1.4.4.cmml"><msup id="S2.E5.m1.4.4.3" xref="S2.E5.m1.4.4.3.cmml"><mover accent="true" id="S2.E5.m1.4.4.3.2" xref="S2.E5.m1.4.4.3.2.cmml"><mi id="S2.E5.m1.4.4.3.2.2" xref="S2.E5.m1.4.4.3.2.2.cmml">v</mi><mo id="S2.E5.m1.4.4.3.2.1" xref="S2.E5.m1.4.4.3.2.1.cmml">~</mo></mover><mi id="S2.E5.m1.4.4.3.3" xref="S2.E5.m1.4.4.3.3.cmml">j</mi></msup><msub id="S2.E5.m1.4.4.1" xref="S2.E5.m1.4.4.1.cmml"><mrow id="S2.E5.m1.4.4.1.1.1" xref="S2.E5.m1.4.4.1.1.2.cmml"><mo id="S2.E5.m1.4.4.1.1.1.2" xref="S2.E5.m1.4.4.1.1.2.1.cmml">‖</mo><msup id="S2.E5.m1.4.4.1.1.1.1" xref="S2.E5.m1.4.4.1.1.1.1.cmml"><mover accent="true" id="S2.E5.m1.4.4.1.1.1.1.2" xref="S2.E5.m1.4.4.1.1.1.1.2.cmml"><mi id="S2.E5.m1.4.4.1.1.1.1.2.2" xref="S2.E5.m1.4.4.1.1.1.1.2.2.cmml">v</mi><mo id="S2.E5.m1.4.4.1.1.1.1.2.1" xref="S2.E5.m1.4.4.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S2.E5.m1.4.4.1.1.1.1.3" xref="S2.E5.m1.4.4.1.1.1.1.3.cmml">j</mi></msup><mo id="S2.E5.m1.4.4.1.1.1.3" xref="S2.E5.m1.4.4.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.E5.m1.4.4.1.3" xref="S2.E5.m1.4.4.1.3.cmml">2</mn></msub></mfrac></mrow><mo stretchy="false" id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.3" xref="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo lspace="0em" id="S2.E5.m1.5.5.1.2" xref="S2.E5.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.5b"><apply id="S2.E5.m1.5.5.1.1.cmml" xref="S2.E5.m1.5.5.1"><ci id="S2.E5.m1.5.5.1.1.3.cmml" xref="S2.E5.m1.5.5.1.1.3">←</ci><apply id="S2.E5.m1.5.5.1.1.4.cmml" xref="S2.E5.m1.5.5.1.1.4"><ci id="S2.E5.m1.5.5.1.1.4.1.cmml" xref="S2.E5.m1.5.5.1.1.4.1">~</ci><ci id="S2.E5.m1.5.5.1.1.4.2.cmml" xref="S2.E5.m1.5.5.1.1.4.2">𝑉</ci></apply><apply id="S2.E5.m1.5.5.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.2"><minus id="S2.E5.m1.5.5.1.1.2.3.cmml" xref="S2.E5.m1.5.5.1.1.2.3"></minus><apply id="S2.E5.m1.5.5.1.1.2.4.cmml" xref="S2.E5.m1.5.5.1.1.2.4"><ci id="S2.E5.m1.5.5.1.1.2.4.1.cmml" xref="S2.E5.m1.5.5.1.1.2.4.1">~</ci><ci id="S2.E5.m1.5.5.1.1.2.4.2.cmml" xref="S2.E5.m1.5.5.1.1.2.4.2">𝑉</ci></apply><apply id="S2.E5.m1.5.5.1.1.2.2.cmml" xref="S2.E5.m1.5.5.1.1.2.2"><times id="S2.E5.m1.5.5.1.1.2.2.3.cmml" xref="S2.E5.m1.5.5.1.1.2.2.3"></times><ci id="S2.E5.m1.5.5.1.1.2.2.4.cmml" xref="S2.E5.m1.5.5.1.1.2.2.4">∇</ci><apply id="S2.E5.m1.5.5.1.1.2.2.2.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2"><apply id="S2.E5.m1.5.5.1.1.2.2.2.3.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.2.2.2.3.1.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3">subscript</csymbol><sum id="S2.E5.m1.5.5.1.1.2.2.2.3.2.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3.2"></sum><apply id="S2.E5.m1.5.5.1.1.2.2.2.3.3.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3"><in id="S2.E5.m1.5.5.1.1.2.2.2.3.3.1.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.1"></in><ci id="S2.E5.m1.5.5.1.1.2.2.2.3.3.2.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.2">𝑖</ci><ci id="S2.E5.m1.5.5.1.1.2.2.2.3.3.3.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.3.3.3">𝑌</ci></apply></apply><apply id="S2.E5.m1.5.5.1.1.2.2.2.2.3.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.2.2"><apply id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1">subscript</csymbol><max id="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.5.5.1.1.1.1.1.1.1.1.2"></max><apply id="S2.E5.m1.2.2.2.3.cmml" xref="S2.E5.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.E5.m1.2.2.2.3a.cmml" xref="S2.E5.m1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S2.E5.m1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1"><in id="S2.E5.m1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1.1"></in><ci id="S2.E5.m1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.2">𝑗</ci><ci id="S2.E5.m1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.1.3">𝑌</ci></apply><apply id="S2.E5.m1.2.2.2.2.2.cmml" xref="S2.E5.m1.2.2.2.2.2"><neq id="S2.E5.m1.2.2.2.2.2.1.cmml" xref="S2.E5.m1.2.2.2.2.2.1"></neq><ci id="S2.E5.m1.2.2.2.2.2.2.cmml" xref="S2.E5.m1.2.2.2.2.2.2">𝑗</ci><ci id="S2.E5.m1.2.2.2.2.2.3.cmml" xref="S2.E5.m1.2.2.2.2.2.3">𝑖</ci></apply></apply></apply><apply id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1"><ci id="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.1.cmml" xref="S2.E5.m1.5.5.1.1.2.2.2.2.2.2.1.1">⋅</ci><apply id="S2.E5.m1.3.3.cmml" xref="S2.E5.m1.3.3"><divide id="S2.E5.m1.3.3.2.cmml" xref="S2.E5.m1.3.3"></divide><apply id="S2.E5.m1.3.3.3.cmml" xref="S2.E5.m1.3.3.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.3.1.cmml" xref="S2.E5.m1.3.3.3">superscript</csymbol><apply id="S2.E5.m1.3.3.3.2.cmml" xref="S2.E5.m1.3.3.3.2"><ci id="S2.E5.m1.3.3.3.2.1.cmml" xref="S2.E5.m1.3.3.3.2.1">~</ci><ci id="S2.E5.m1.3.3.3.2.2.cmml" xref="S2.E5.m1.3.3.3.2.2">𝑣</ci></apply><ci id="S2.E5.m1.3.3.3.3.cmml" xref="S2.E5.m1.3.3.3.3">𝑖</ci></apply><apply id="S2.E5.m1.3.3.1.cmml" xref="S2.E5.m1.3.3.1"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.2.cmml" xref="S2.E5.m1.3.3.1">subscript</csymbol><apply id="S2.E5.m1.3.3.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.2">norm</csymbol><apply id="S2.E5.m1.3.3.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1">superscript</csymbol><apply id="S2.E5.m1.3.3.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.2"><ci id="S2.E5.m1.3.3.1.1.1.1.2.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.2.1">~</ci><ci id="S2.E5.m1.3.3.1.1.1.1.2.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.2.2">𝑣</ci></apply><ci id="S2.E5.m1.3.3.1.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.3">𝑖</ci></apply></apply><cn type="integer" id="S2.E5.m1.3.3.1.3.cmml" xref="S2.E5.m1.3.3.1.3">2</cn></apply></apply><apply id="S2.E5.m1.4.4.cmml" xref="S2.E5.m1.4.4"><divide id="S2.E5.m1.4.4.2.cmml" xref="S2.E5.m1.4.4"></divide><apply id="S2.E5.m1.4.4.3.cmml" xref="S2.E5.m1.4.4.3"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.3.1.cmml" xref="S2.E5.m1.4.4.3">superscript</csymbol><apply id="S2.E5.m1.4.4.3.2.cmml" xref="S2.E5.m1.4.4.3.2"><ci id="S2.E5.m1.4.4.3.2.1.cmml" xref="S2.E5.m1.4.4.3.2.1">~</ci><ci id="S2.E5.m1.4.4.3.2.2.cmml" xref="S2.E5.m1.4.4.3.2.2">𝑣</ci></apply><ci id="S2.E5.m1.4.4.3.3.cmml" xref="S2.E5.m1.4.4.3.3">𝑗</ci></apply><apply id="S2.E5.m1.4.4.1.cmml" xref="S2.E5.m1.4.4.1"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.1.2.cmml" xref="S2.E5.m1.4.4.1">subscript</csymbol><apply id="S2.E5.m1.4.4.1.1.2.cmml" xref="S2.E5.m1.4.4.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.4.4.1.1.2.1.cmml" xref="S2.E5.m1.4.4.1.1.1.2">norm</csymbol><apply id="S2.E5.m1.4.4.1.1.1.1.cmml" xref="S2.E5.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.4.4.1.1.1.1.1.cmml" xref="S2.E5.m1.4.4.1.1.1.1">superscript</csymbol><apply id="S2.E5.m1.4.4.1.1.1.1.2.cmml" xref="S2.E5.m1.4.4.1.1.1.1.2"><ci id="S2.E5.m1.4.4.1.1.1.1.2.1.cmml" xref="S2.E5.m1.4.4.1.1.1.1.2.1">~</ci><ci id="S2.E5.m1.4.4.1.1.1.1.2.2.cmml" xref="S2.E5.m1.4.4.1.1.1.1.2.2">𝑣</ci></apply><ci id="S2.E5.m1.4.4.1.1.1.1.3.cmml" xref="S2.E5.m1.4.4.1.1.1.1.3">𝑗</ci></apply></apply><cn type="integer" id="S2.E5.m1.4.4.1.3.cmml" xref="S2.E5.m1.4.4.1.3">2</cn></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.5c">\widetilde{V}\leftarrow\widetilde{V}-\nabla\sum_{i\in Y}\max_{j\in Y,j\neq i}(\frac{\widetilde{v}^{i}}{\left\|\widetilde{v}^{i}\right\|_{2}}\cdot\frac{\widetilde{v}^{j}}{\left\|\widetilde{v}^{j}\right\|_{2}}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S2.SS3.p2.14" class="ltx_p">In this way, the cosine similarity of any <math id="S2.SS3.p2.9.m1.2" class="ltx_Math" alttext="({\widetilde{v}^{i}},{\widetilde{v}^{j}})" display="inline"><semantics id="S2.SS3.p2.9.m1.2a"><mrow id="S2.SS3.p2.9.m1.2.2.2" xref="S2.SS3.p2.9.m1.2.2.3.cmml"><mo stretchy="false" id="S2.SS3.p2.9.m1.2.2.2.3" xref="S2.SS3.p2.9.m1.2.2.3.cmml">(</mo><msup id="S2.SS3.p2.9.m1.1.1.1.1" xref="S2.SS3.p2.9.m1.1.1.1.1.cmml"><mover accent="true" id="S2.SS3.p2.9.m1.1.1.1.1.2" xref="S2.SS3.p2.9.m1.1.1.1.1.2.cmml"><mi id="S2.SS3.p2.9.m1.1.1.1.1.2.2" xref="S2.SS3.p2.9.m1.1.1.1.1.2.2.cmml">v</mi><mo id="S2.SS3.p2.9.m1.1.1.1.1.2.1" xref="S2.SS3.p2.9.m1.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S2.SS3.p2.9.m1.1.1.1.1.3" xref="S2.SS3.p2.9.m1.1.1.1.1.3.cmml">i</mi></msup><mo id="S2.SS3.p2.9.m1.2.2.2.4" xref="S2.SS3.p2.9.m1.2.2.3.cmml">,</mo><msup id="S2.SS3.p2.9.m1.2.2.2.2" xref="S2.SS3.p2.9.m1.2.2.2.2.cmml"><mover accent="true" id="S2.SS3.p2.9.m1.2.2.2.2.2" xref="S2.SS3.p2.9.m1.2.2.2.2.2.cmml"><mi id="S2.SS3.p2.9.m1.2.2.2.2.2.2" xref="S2.SS3.p2.9.m1.2.2.2.2.2.2.cmml">v</mi><mo id="S2.SS3.p2.9.m1.2.2.2.2.2.1" xref="S2.SS3.p2.9.m1.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S2.SS3.p2.9.m1.2.2.2.2.3" xref="S2.SS3.p2.9.m1.2.2.2.2.3.cmml">j</mi></msup><mo stretchy="false" id="S2.SS3.p2.9.m1.2.2.2.5" xref="S2.SS3.p2.9.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.9.m1.2b"><interval closure="open" id="S2.SS3.p2.9.m1.2.2.3.cmml" xref="S2.SS3.p2.9.m1.2.2.2"><apply id="S2.SS3.p2.9.m1.1.1.1.1.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.9.m1.1.1.1.1.1.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1">superscript</csymbol><apply id="S2.SS3.p2.9.m1.1.1.1.1.2.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1.2"><ci id="S2.SS3.p2.9.m1.1.1.1.1.2.1.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1.2.1">~</ci><ci id="S2.SS3.p2.9.m1.1.1.1.1.2.2.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1.2.2">𝑣</ci></apply><ci id="S2.SS3.p2.9.m1.1.1.1.1.3.cmml" xref="S2.SS3.p2.9.m1.1.1.1.1.3">𝑖</ci></apply><apply id="S2.SS3.p2.9.m1.2.2.2.2.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p2.9.m1.2.2.2.2.1.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2">superscript</csymbol><apply id="S2.SS3.p2.9.m1.2.2.2.2.2.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2.2"><ci id="S2.SS3.p2.9.m1.2.2.2.2.2.1.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2.2.1">~</ci><ci id="S2.SS3.p2.9.m1.2.2.2.2.2.2.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2.2.2">𝑣</ci></apply><ci id="S2.SS3.p2.9.m1.2.2.2.2.3.cmml" xref="S2.SS3.p2.9.m1.2.2.2.2.3">𝑗</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.9.m1.2c">({\widetilde{v}^{i}},{\widetilde{v}^{j}})</annotation></semantics></math> pair in <math id="S2.SS3.p2.10.m2.1" class="ltx_Math" alttext="\widetilde{V}" display="inline"><semantics id="S2.SS3.p2.10.m2.1a"><mover accent="true" id="S2.SS3.p2.10.m2.1.1" xref="S2.SS3.p2.10.m2.1.1.cmml"><mi id="S2.SS3.p2.10.m2.1.1.2" xref="S2.SS3.p2.10.m2.1.1.2.cmml">V</mi><mo id="S2.SS3.p2.10.m2.1.1.1" xref="S2.SS3.p2.10.m2.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.10.m2.1b"><apply id="S2.SS3.p2.10.m2.1.1.cmml" xref="S2.SS3.p2.10.m2.1.1"><ci id="S2.SS3.p2.10.m2.1.1.1.cmml" xref="S2.SS3.p2.10.m2.1.1.1">~</ci><ci id="S2.SS3.p2.10.m2.1.1.2.cmml" xref="S2.SS3.p2.10.m2.1.1.2">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.10.m2.1c">\widetilde{V}</annotation></semantics></math> is minimized to be equal, resulting in <math id="S2.SS3.p2.11.m3.1" class="ltx_Math" alttext="\widetilde{V}" display="inline"><semantics id="S2.SS3.p2.11.m3.1a"><mover accent="true" id="S2.SS3.p2.11.m3.1.1" xref="S2.SS3.p2.11.m3.1.1.cmml"><mi id="S2.SS3.p2.11.m3.1.1.2" xref="S2.SS3.p2.11.m3.1.1.2.cmml">V</mi><mo id="S2.SS3.p2.11.m3.1.1.1" xref="S2.SS3.p2.11.m3.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.11.m3.1b"><apply id="S2.SS3.p2.11.m3.1.1.cmml" xref="S2.SS3.p2.11.m3.1.1"><ci id="S2.SS3.p2.11.m3.1.1.1.cmml" xref="S2.SS3.p2.11.m3.1.1.1">~</ci><ci id="S2.SS3.p2.11.m3.1.1.2.cmml" xref="S2.SS3.p2.11.m3.1.1.2">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.11.m3.1c">\widetilde{V}</annotation></semantics></math> with lower inter-class similarity. This operation is called orthogonalization. Finally, the class-wise prototypes <math id="S2.SS3.p2.12.m4.1" class="ltx_Math" alttext="V" display="inline"><semantics id="S2.SS3.p2.12.m4.1a"><mi id="S2.SS3.p2.12.m4.1.1" xref="S2.SS3.p2.12.m4.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.12.m4.1b"><ci id="S2.SS3.p2.12.m4.1.1.cmml" xref="S2.SS3.p2.12.m4.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.12.m4.1c">V</annotation></semantics></math> are defined as the element-wise <math id="S2.SS3.p2.13.m5.1" class="ltx_Math" alttext="l_{2}" display="inline"><semantics id="S2.SS3.p2.13.m5.1a"><msub id="S2.SS3.p2.13.m5.1.1" xref="S2.SS3.p2.13.m5.1.1.cmml"><mi id="S2.SS3.p2.13.m5.1.1.2" xref="S2.SS3.p2.13.m5.1.1.2.cmml">l</mi><mn id="S2.SS3.p2.13.m5.1.1.3" xref="S2.SS3.p2.13.m5.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.13.m5.1b"><apply id="S2.SS3.p2.13.m5.1.1.cmml" xref="S2.SS3.p2.13.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p2.13.m5.1.1.1.cmml" xref="S2.SS3.p2.13.m5.1.1">subscript</csymbol><ci id="S2.SS3.p2.13.m5.1.1.2.cmml" xref="S2.SS3.p2.13.m5.1.1.2">𝑙</ci><cn type="integer" id="S2.SS3.p2.13.m5.1.1.3.cmml" xref="S2.SS3.p2.13.m5.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.13.m5.1c">l_{2}</annotation></semantics></math>-normalization of <math id="S2.SS3.p2.14.m6.1" class="ltx_Math" alttext="\widetilde{V}" display="inline"><semantics id="S2.SS3.p2.14.m6.1a"><mover accent="true" id="S2.SS3.p2.14.m6.1.1" xref="S2.SS3.p2.14.m6.1.1.cmml"><mi id="S2.SS3.p2.14.m6.1.1.2" xref="S2.SS3.p2.14.m6.1.1.2.cmml">V</mi><mo id="S2.SS3.p2.14.m6.1.1.1" xref="S2.SS3.p2.14.m6.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S2.SS3.p2.14.m6.1b"><apply id="S2.SS3.p2.14.m6.1.1.cmml" xref="S2.SS3.p2.14.m6.1.1"><ci id="S2.SS3.p2.14.m6.1.1.1.cmml" xref="S2.SS3.p2.14.m6.1.1.1">~</ci><ci id="S2.SS3.p2.14.m6.1.1.2.cmml" xref="S2.SS3.p2.14.m6.1.1.2">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p2.14.m6.1c">\widetilde{V}</annotation></semantics></math> and are sent to clients for inter-client contrastive learning.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Difficulty-Aware Logit Adjustment</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.2" class="ltx_p">After calibrating the feature extractor <math id="S2.SS4.p1.1.m1.1" class="ltx_Math" alttext="g(\cdot)" display="inline"><semantics id="S2.SS4.p1.1.m1.1a"><mrow id="S2.SS4.p1.1.m1.1.2" xref="S2.SS4.p1.1.m1.1.2.cmml"><mi id="S2.SS4.p1.1.m1.1.2.2" xref="S2.SS4.p1.1.m1.1.2.2.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.1.m1.1.2.1" xref="S2.SS4.p1.1.m1.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.1.m1.1.2.3.2" xref="S2.SS4.p1.1.m1.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.1.m1.1.2.3.2.1" xref="S2.SS4.p1.1.m1.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS4.p1.1.m1.1.1" xref="S2.SS4.p1.1.m1.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS4.p1.1.m1.1.2.3.2.2" xref="S2.SS4.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.1.m1.1b"><apply id="S2.SS4.p1.1.m1.1.2.cmml" xref="S2.SS4.p1.1.m1.1.2"><times id="S2.SS4.p1.1.m1.1.2.1.cmml" xref="S2.SS4.p1.1.m1.1.2.1"></times><ci id="S2.SS4.p1.1.m1.1.2.2.cmml" xref="S2.SS4.p1.1.m1.1.2.2">𝑔</ci><ci id="S2.SS4.p1.1.m1.1.1.cmml" xref="S2.SS4.p1.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.1.m1.1c">g(\cdot)</annotation></semantics></math>, one common method to calibrate the linear classifier <math id="S2.SS4.p1.2.m2.1" class="ltx_Math" alttext="f(\cdot)" display="inline"><semantics id="S2.SS4.p1.2.m2.1a"><mrow id="S2.SS4.p1.2.m2.1.2" xref="S2.SS4.p1.2.m2.1.2.cmml"><mi id="S2.SS4.p1.2.m2.1.2.2" xref="S2.SS4.p1.2.m2.1.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.2.m2.1.2.1" xref="S2.SS4.p1.2.m2.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.2.m2.1.2.3.2" xref="S2.SS4.p1.2.m2.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.2.m2.1.2.3.2.1" xref="S2.SS4.p1.2.m2.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S2.SS4.p1.2.m2.1.1" xref="S2.SS4.p1.2.m2.1.1.cmml">⋅</mo><mo stretchy="false" id="S2.SS4.p1.2.m2.1.2.3.2.2" xref="S2.SS4.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.2.m2.1b"><apply id="S2.SS4.p1.2.m2.1.2.cmml" xref="S2.SS4.p1.2.m2.1.2"><times id="S2.SS4.p1.2.m2.1.2.1.cmml" xref="S2.SS4.p1.2.m2.1.2.1"></times><ci id="S2.SS4.p1.2.m2.1.2.2.cmml" xref="S2.SS4.p1.2.m2.1.2.2">𝑓</ci><ci id="S2.SS4.p1.2.m2.1.1.cmml" xref="S2.SS4.p1.2.m2.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.2.m2.1c">f(\cdot)</annotation></semantics></math> is logit adjustment (LA) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> to alleviate the impact of class imbalance in local training. Specifically, Zhang <span id="S2.SS4.p1.2.1" class="ltx_text ltx_font_italic">et al.</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> proposed to add per-class margins to logits and re-compute the cross entropy (CE) loss by</p>
<table id="S2.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E6.m1.3" class="ltx_Math" alttext="\mathcal{L}_{LA}=\sum_{i\in I}-\log\frac{{\rm exp}(f(g(x_{i}))_{y_{i}}-\delta_{y_{i}})}{\sum_{y^{\prime}\in\mathcal{Y}}{\rm exp}(f(g(x_{i}))_{y^{\prime}}-\delta_{y^{\prime}})}," display="block"><semantics id="S2.E6.m1.3a"><mrow id="S2.E6.m1.3.3.1" xref="S2.E6.m1.3.3.1.1.cmml"><mrow id="S2.E6.m1.3.3.1.1" xref="S2.E6.m1.3.3.1.1.cmml"><msub id="S2.E6.m1.3.3.1.1.2" xref="S2.E6.m1.3.3.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.3.3.1.1.2.2" xref="S2.E6.m1.3.3.1.1.2.2.cmml">ℒ</mi><mrow id="S2.E6.m1.3.3.1.1.2.3" xref="S2.E6.m1.3.3.1.1.2.3.cmml"><mi id="S2.E6.m1.3.3.1.1.2.3.2" xref="S2.E6.m1.3.3.1.1.2.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.3.3.1.1.2.3.1" xref="S2.E6.m1.3.3.1.1.2.3.1.cmml">​</mo><mi id="S2.E6.m1.3.3.1.1.2.3.3" xref="S2.E6.m1.3.3.1.1.2.3.3.cmml">A</mi></mrow></msub><mo rspace="0.111em" id="S2.E6.m1.3.3.1.1.1" xref="S2.E6.m1.3.3.1.1.1.cmml">=</mo><mrow id="S2.E6.m1.3.3.1.1.3" xref="S2.E6.m1.3.3.1.1.3.cmml"><munder id="S2.E6.m1.3.3.1.1.3.2" xref="S2.E6.m1.3.3.1.1.3.2.cmml"><mo movablelimits="false" rspace="0em" id="S2.E6.m1.3.3.1.1.3.2.2" xref="S2.E6.m1.3.3.1.1.3.2.2.cmml">∑</mo><mrow id="S2.E6.m1.3.3.1.1.3.2.3" xref="S2.E6.m1.3.3.1.1.3.2.3.cmml"><mi id="S2.E6.m1.3.3.1.1.3.2.3.2" xref="S2.E6.m1.3.3.1.1.3.2.3.2.cmml">i</mi><mo id="S2.E6.m1.3.3.1.1.3.2.3.1" xref="S2.E6.m1.3.3.1.1.3.2.3.1.cmml">∈</mo><mi id="S2.E6.m1.3.3.1.1.3.2.3.3" xref="S2.E6.m1.3.3.1.1.3.2.3.3.cmml">I</mi></mrow></munder><mo lspace="0em" id="S2.E6.m1.3.3.1.1.3.1" xref="S2.E6.m1.3.3.1.1.3.1.cmml">−</mo><mrow id="S2.E6.m1.3.3.1.1.3.3" xref="S2.E6.m1.3.3.1.1.3.3.cmml"><mi id="S2.E6.m1.3.3.1.1.3.3.1" xref="S2.E6.m1.3.3.1.1.3.3.1.cmml">log</mi><mo lspace="0.167em" id="S2.E6.m1.3.3.1.1.3.3a" xref="S2.E6.m1.3.3.1.1.3.3.cmml">⁡</mo><mfrac id="S2.E6.m1.2.2" xref="S2.E6.m1.2.2.cmml"><mrow id="S2.E6.m1.1.1.1" xref="S2.E6.m1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.3" xref="S2.E6.m1.1.1.1.3.cmml">exp</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.1.2" xref="S2.E6.m1.1.1.1.2.cmml">​</mo><mrow id="S2.E6.m1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.cmml"><mrow id="S2.E6.m1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.1.2.cmml">​</mo><msub id="S2.E6.m1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><msub id="S2.E6.m1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.1.1.3.2" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml">y</mi><mi id="S2.E6.m1.1.1.1.1.1.1.1.1.3.3" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></msub></mrow><mo id="S2.E6.m1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.2.cmml">−</mo><msub id="S2.E6.m1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.3.2" xref="S2.E6.m1.1.1.1.1.1.1.3.2.cmml">δ</mi><msub id="S2.E6.m1.1.1.1.1.1.1.3.3" xref="S2.E6.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.3.3.2" xref="S2.E6.m1.1.1.1.1.1.1.3.3.2.cmml">y</mi><mi id="S2.E6.m1.1.1.1.1.1.1.3.3.3" xref="S2.E6.m1.1.1.1.1.1.1.3.3.3.cmml">i</mi></msub></msub></mrow><mo stretchy="false" id="S2.E6.m1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E6.m1.2.2.2" xref="S2.E6.m1.2.2.2.cmml"><msub id="S2.E6.m1.2.2.2.2" xref="S2.E6.m1.2.2.2.2.cmml"><mo id="S2.E6.m1.2.2.2.2.2" xref="S2.E6.m1.2.2.2.2.2.cmml">∑</mo><mrow id="S2.E6.m1.2.2.2.2.3" xref="S2.E6.m1.2.2.2.2.3.cmml"><msup id="S2.E6.m1.2.2.2.2.3.2" xref="S2.E6.m1.2.2.2.2.3.2.cmml"><mi id="S2.E6.m1.2.2.2.2.3.2.2" xref="S2.E6.m1.2.2.2.2.3.2.2.cmml">y</mi><mo id="S2.E6.m1.2.2.2.2.3.2.3" xref="S2.E6.m1.2.2.2.2.3.2.3.cmml">′</mo></msup><mo id="S2.E6.m1.2.2.2.2.3.1" xref="S2.E6.m1.2.2.2.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.E6.m1.2.2.2.2.3.3" xref="S2.E6.m1.2.2.2.2.3.3.cmml">𝒴</mi></mrow></msub><mrow id="S2.E6.m1.2.2.2.1" xref="S2.E6.m1.2.2.2.1.cmml"><mi id="S2.E6.m1.2.2.2.1.3" xref="S2.E6.m1.2.2.2.1.3.cmml">exp</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.2.2.2.1.2" xref="S2.E6.m1.2.2.2.1.2.cmml">​</mo><mrow id="S2.E6.m1.2.2.2.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.2.2.2.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.cmml"><mrow id="S2.E6.m1.2.2.2.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.2.2.2.1.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.2.cmml">​</mo><msub id="S2.E6.m1.2.2.2.1.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.cmml"><mrow id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml">g</mi><mo lspace="0em" rspace="0em" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><msup id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.2" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.2.cmml">y</mi><mo id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.3" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.3.cmml">′</mo></msup></msub></mrow><mo id="S2.E6.m1.2.2.2.1.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.1.2.cmml">−</mo><msub id="S2.E6.m1.2.2.2.1.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.3.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.3.2" xref="S2.E6.m1.2.2.2.1.1.1.1.3.2.cmml">δ</mi><msup id="S2.E6.m1.2.2.2.1.1.1.1.3.3" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.1.3.3.2" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3.2.cmml">y</mi><mo id="S2.E6.m1.2.2.2.1.1.1.1.3.3.3" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3.3.cmml">′</mo></msup></msub></mrow><mo stretchy="false" id="S2.E6.m1.2.2.2.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S2.E6.m1.3.3.1.2" xref="S2.E6.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.3b"><apply id="S2.E6.m1.3.3.1.1.cmml" xref="S2.E6.m1.3.3.1"><eq id="S2.E6.m1.3.3.1.1.1.cmml" xref="S2.E6.m1.3.3.1.1.1"></eq><apply id="S2.E6.m1.3.3.1.1.2.cmml" xref="S2.E6.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S2.E6.m1.3.3.1.1.2.1.cmml" xref="S2.E6.m1.3.3.1.1.2">subscript</csymbol><ci id="S2.E6.m1.3.3.1.1.2.2.cmml" xref="S2.E6.m1.3.3.1.1.2.2">ℒ</ci><apply id="S2.E6.m1.3.3.1.1.2.3.cmml" xref="S2.E6.m1.3.3.1.1.2.3"><times id="S2.E6.m1.3.3.1.1.2.3.1.cmml" xref="S2.E6.m1.3.3.1.1.2.3.1"></times><ci id="S2.E6.m1.3.3.1.1.2.3.2.cmml" xref="S2.E6.m1.3.3.1.1.2.3.2">𝐿</ci><ci id="S2.E6.m1.3.3.1.1.2.3.3.cmml" xref="S2.E6.m1.3.3.1.1.2.3.3">𝐴</ci></apply></apply><apply id="S2.E6.m1.3.3.1.1.3.cmml" xref="S2.E6.m1.3.3.1.1.3"><minus id="S2.E6.m1.3.3.1.1.3.1.cmml" xref="S2.E6.m1.3.3.1.1.3.1"></minus><apply id="S2.E6.m1.3.3.1.1.3.2.cmml" xref="S2.E6.m1.3.3.1.1.3.2"><csymbol cd="ambiguous" id="S2.E6.m1.3.3.1.1.3.2.1.cmml" xref="S2.E6.m1.3.3.1.1.3.2">subscript</csymbol><sum id="S2.E6.m1.3.3.1.1.3.2.2.cmml" xref="S2.E6.m1.3.3.1.1.3.2.2"></sum><apply id="S2.E6.m1.3.3.1.1.3.2.3.cmml" xref="S2.E6.m1.3.3.1.1.3.2.3"><in id="S2.E6.m1.3.3.1.1.3.2.3.1.cmml" xref="S2.E6.m1.3.3.1.1.3.2.3.1"></in><ci id="S2.E6.m1.3.3.1.1.3.2.3.2.cmml" xref="S2.E6.m1.3.3.1.1.3.2.3.2">𝑖</ci><ci id="S2.E6.m1.3.3.1.1.3.2.3.3.cmml" xref="S2.E6.m1.3.3.1.1.3.2.3.3">𝐼</ci></apply></apply><apply id="S2.E6.m1.3.3.1.1.3.3.cmml" xref="S2.E6.m1.3.3.1.1.3.3"><log id="S2.E6.m1.3.3.1.1.3.3.1.cmml" xref="S2.E6.m1.3.3.1.1.3.3.1"></log><apply id="S2.E6.m1.2.2.cmml" xref="S2.E6.m1.2.2"><divide id="S2.E6.m1.2.2.3.cmml" xref="S2.E6.m1.2.2"></divide><apply id="S2.E6.m1.1.1.1.cmml" xref="S2.E6.m1.1.1.1"><times id="S2.E6.m1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.2"></times><ci id="S2.E6.m1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.3">exp</ci><apply id="S2.E6.m1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1"><minus id="S2.E6.m1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.2"></minus><apply id="S2.E6.m1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1"><times id="S2.E6.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.2"></times><ci id="S2.E6.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.3">𝑓</ci><apply id="S2.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1"><times id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑔</ci><apply id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S2.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S2.E6.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E6.m1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.2">𝛿</ci><apply id="S2.E6.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.3.2">𝑦</ci><ci id="S2.E6.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S2.E6.m1.2.2.2.cmml" xref="S2.E6.m1.2.2.2"><apply id="S2.E6.m1.2.2.2.2.cmml" xref="S2.E6.m1.2.2.2.2"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.2.1.cmml" xref="S2.E6.m1.2.2.2.2">subscript</csymbol><sum id="S2.E6.m1.2.2.2.2.2.cmml" xref="S2.E6.m1.2.2.2.2.2"></sum><apply id="S2.E6.m1.2.2.2.2.3.cmml" xref="S2.E6.m1.2.2.2.2.3"><in id="S2.E6.m1.2.2.2.2.3.1.cmml" xref="S2.E6.m1.2.2.2.2.3.1"></in><apply id="S2.E6.m1.2.2.2.2.3.2.cmml" xref="S2.E6.m1.2.2.2.2.3.2"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.2.3.2.1.cmml" xref="S2.E6.m1.2.2.2.2.3.2">superscript</csymbol><ci id="S2.E6.m1.2.2.2.2.3.2.2.cmml" xref="S2.E6.m1.2.2.2.2.3.2.2">𝑦</ci><ci id="S2.E6.m1.2.2.2.2.3.2.3.cmml" xref="S2.E6.m1.2.2.2.2.3.2.3">′</ci></apply><ci id="S2.E6.m1.2.2.2.2.3.3.cmml" xref="S2.E6.m1.2.2.2.2.3.3">𝒴</ci></apply></apply><apply id="S2.E6.m1.2.2.2.1.cmml" xref="S2.E6.m1.2.2.2.1"><times id="S2.E6.m1.2.2.2.1.2.cmml" xref="S2.E6.m1.2.2.2.1.2"></times><ci id="S2.E6.m1.2.2.2.1.3.cmml" xref="S2.E6.m1.2.2.2.1.3">exp</ci><apply id="S2.E6.m1.2.2.2.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1"><minus id="S2.E6.m1.2.2.2.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.2"></minus><apply id="S2.E6.m1.2.2.2.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1"><times id="S2.E6.m1.2.2.2.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.2"></times><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.3">𝑓</ci><apply id="S2.E6.m1.2.2.2.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1"><times id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.2"></times><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.3">𝑔</ci><apply id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3">superscript</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.2">𝑦</ci><ci id="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.1.1.3.3">′</ci></apply></apply></apply><apply id="S2.E6.m1.2.2.2.1.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.1.3.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.1.3.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3.2">𝛿</ci><apply id="S2.E6.m1.2.2.2.1.1.1.1.3.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.1.3.3.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3">superscript</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.1.3.3.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3.2">𝑦</ci><ci id="S2.E6.m1.2.2.2.1.1.1.1.3.3.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1.3.3.3">′</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.3c">\mathcal{L}_{LA}=\sum_{i\in I}-\log\frac{{\rm exp}(f(g(x_{i}))_{y_{i}}-\delta_{y_{i}})}{\sum_{y^{\prime}\in\mathcal{Y}}{\rm exp}(f(g(x_{i}))_{y^{\prime}}-\delta_{y^{\prime}})},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.p1.23" class="ltx_p">where <math id="S2.SS4.p1.3.m1.1" class="ltx_Math" alttext="\delta_{y}" display="inline"><semantics id="S2.SS4.p1.3.m1.1a"><msub id="S2.SS4.p1.3.m1.1.1" xref="S2.SS4.p1.3.m1.1.1.cmml"><mi id="S2.SS4.p1.3.m1.1.1.2" xref="S2.SS4.p1.3.m1.1.1.2.cmml">δ</mi><mi id="S2.SS4.p1.3.m1.1.1.3" xref="S2.SS4.p1.3.m1.1.1.3.cmml">y</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.3.m1.1b"><apply id="S2.SS4.p1.3.m1.1.1.cmml" xref="S2.SS4.p1.3.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.3.m1.1.1.1.cmml" xref="S2.SS4.p1.3.m1.1.1">subscript</csymbol><ci id="S2.SS4.p1.3.m1.1.1.2.cmml" xref="S2.SS4.p1.3.m1.1.1.2">𝛿</ci><ci id="S2.SS4.p1.3.m1.1.1.3.cmml" xref="S2.SS4.p1.3.m1.1.1.3">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.3.m1.1c">\delta_{y}</annotation></semantics></math> denotes the positive per-class margin and is inversely proportional to the local class frequency <math id="S2.SS4.p1.4.m2.1" class="ltx_Math" alttext="p(y)" display="inline"><semantics id="S2.SS4.p1.4.m2.1a"><mrow id="S2.SS4.p1.4.m2.1.2" xref="S2.SS4.p1.4.m2.1.2.cmml"><mi id="S2.SS4.p1.4.m2.1.2.2" xref="S2.SS4.p1.4.m2.1.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.4.m2.1.2.1" xref="S2.SS4.p1.4.m2.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.4.m2.1.2.3.2" xref="S2.SS4.p1.4.m2.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.4.m2.1.2.3.2.1" xref="S2.SS4.p1.4.m2.1.2.cmml">(</mo><mi id="S2.SS4.p1.4.m2.1.1" xref="S2.SS4.p1.4.m2.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.4.m2.1.2.3.2.2" xref="S2.SS4.p1.4.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.4.m2.1b"><apply id="S2.SS4.p1.4.m2.1.2.cmml" xref="S2.SS4.p1.4.m2.1.2"><times id="S2.SS4.p1.4.m2.1.2.1.cmml" xref="S2.SS4.p1.4.m2.1.2.1"></times><ci id="S2.SS4.p1.4.m2.1.2.2.cmml" xref="S2.SS4.p1.4.m2.1.2.2">𝑝</ci><ci id="S2.SS4.p1.4.m2.1.1.cmml" xref="S2.SS4.p1.4.m2.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.4.m2.1c">p(y)</annotation></semantics></math>. In this way, during local training, the logits of minority classes will increase to compensate for the item, which in turn trains the model to emphasize more on minority classes. However, the frequency-dependent margin may not be appropriate for medical data. For instance, some disease types/classes may have large intra-class variations and are difficult to diagnose even with a large amount of data, which may result in even smaller per-class margins. To address this, in FedIIC, the per-class margin is calculated based on not only the class frequency but also difficulties inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>. Specifically, we define <math id="S2.SS4.p1.5.m3.4" class="ltx_Math" alttext="\delta_{y}:=\log([\overline{l}_{ce}(y)]^{q}/p(y))" display="inline"><semantics id="S2.SS4.p1.5.m3.4a"><mrow id="S2.SS4.p1.5.m3.4.4" xref="S2.SS4.p1.5.m3.4.4.cmml"><msub id="S2.SS4.p1.5.m3.4.4.3" xref="S2.SS4.p1.5.m3.4.4.3.cmml"><mi id="S2.SS4.p1.5.m3.4.4.3.2" xref="S2.SS4.p1.5.m3.4.4.3.2.cmml">δ</mi><mi id="S2.SS4.p1.5.m3.4.4.3.3" xref="S2.SS4.p1.5.m3.4.4.3.3.cmml">y</mi></msub><mo lspace="0.278em" rspace="0.278em" id="S2.SS4.p1.5.m3.4.4.2" xref="S2.SS4.p1.5.m3.4.4.2.cmml">:=</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1" xref="S2.SS4.p1.5.m3.4.4.1.2.cmml"><mi id="S2.SS4.p1.5.m3.3.3" xref="S2.SS4.p1.5.m3.3.3.cmml">log</mi><mo id="S2.SS4.p1.5.m3.4.4.1.1a" xref="S2.SS4.p1.5.m3.4.4.1.2.cmml">⁡</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.2" xref="S2.SS4.p1.5.m3.4.4.1.2.cmml">(</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.cmml"><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.cmml"><msup id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.cmml"><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml">l</mi><mo id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.1.cmml">¯</mo></mover><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.3" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.3.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.1.cmml">​</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.3.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.3.2.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S2.SS4.p1.5.m3.1.1" xref="S2.SS4.p1.5.m3.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.3.2.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.3" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow><mi id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.3" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.3.cmml">q</mi></msup><mo id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.2.cmml">/</mo><mi id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.3" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.3.cmml">p</mi></mrow><mo lspace="0em" rspace="0em" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.2.cmml">​</mo><mrow id="S2.SS4.p1.5.m3.4.4.1.1.1.1.3.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.3.2.1" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.cmml">(</mo><mi id="S2.SS4.p1.5.m3.2.2" xref="S2.SS4.p1.5.m3.2.2.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.3.2.2" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS4.p1.5.m3.4.4.1.1.1.3" xref="S2.SS4.p1.5.m3.4.4.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.5.m3.4b"><apply id="S2.SS4.p1.5.m3.4.4.cmml" xref="S2.SS4.p1.5.m3.4.4"><csymbol cd="latexml" id="S2.SS4.p1.5.m3.4.4.2.cmml" xref="S2.SS4.p1.5.m3.4.4.2">assign</csymbol><apply id="S2.SS4.p1.5.m3.4.4.3.cmml" xref="S2.SS4.p1.5.m3.4.4.3"><csymbol cd="ambiguous" id="S2.SS4.p1.5.m3.4.4.3.1.cmml" xref="S2.SS4.p1.5.m3.4.4.3">subscript</csymbol><ci id="S2.SS4.p1.5.m3.4.4.3.2.cmml" xref="S2.SS4.p1.5.m3.4.4.3.2">𝛿</ci><ci id="S2.SS4.p1.5.m3.4.4.3.3.cmml" xref="S2.SS4.p1.5.m3.4.4.3.3">𝑦</ci></apply><apply id="S2.SS4.p1.5.m3.4.4.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1"><log id="S2.SS4.p1.5.m3.3.3.cmml" xref="S2.SS4.p1.5.m3.3.3"></log><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1"><times id="S2.SS4.p1.5.m3.4.4.1.1.1.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.2"></times><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1"><divide id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.2"></divide><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1">superscript</csymbol><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1"><times id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.1"></times><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2"><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.1">¯</ci><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.2.2">𝑙</ci></apply><apply id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3"><times id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.1"></times><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.2">𝑐</ci><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.1.1.1.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.5.m3.1.1.cmml" xref="S2.SS4.p1.5.m3.1.1">𝑦</ci></apply></apply><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.3.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.1.3">𝑞</ci></apply><ci id="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.3.cmml" xref="S2.SS4.p1.5.m3.4.4.1.1.1.1.1.3">𝑝</ci></apply><ci id="S2.SS4.p1.5.m3.2.2.cmml" xref="S2.SS4.p1.5.m3.2.2">𝑦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.5.m3.4c">\delta_{y}:=\log([\overline{l}_{ce}(y)]^{q}/p(y))</annotation></semantics></math>, where <math id="S2.SS4.p1.6.m4.1" class="ltx_Math" alttext="\overline{l}_{ce}(y)" display="inline"><semantics id="S2.SS4.p1.6.m4.1a"><mrow id="S2.SS4.p1.6.m4.1.2" xref="S2.SS4.p1.6.m4.1.2.cmml"><msub id="S2.SS4.p1.6.m4.1.2.2" xref="S2.SS4.p1.6.m4.1.2.2.cmml"><mover accent="true" id="S2.SS4.p1.6.m4.1.2.2.2" xref="S2.SS4.p1.6.m4.1.2.2.2.cmml"><mi id="S2.SS4.p1.6.m4.1.2.2.2.2" xref="S2.SS4.p1.6.m4.1.2.2.2.2.cmml">l</mi><mo id="S2.SS4.p1.6.m4.1.2.2.2.1" xref="S2.SS4.p1.6.m4.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S2.SS4.p1.6.m4.1.2.2.3" xref="S2.SS4.p1.6.m4.1.2.2.3.cmml"><mi id="S2.SS4.p1.6.m4.1.2.2.3.2" xref="S2.SS4.p1.6.m4.1.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.6.m4.1.2.2.3.1" xref="S2.SS4.p1.6.m4.1.2.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.6.m4.1.2.2.3.3" xref="S2.SS4.p1.6.m4.1.2.2.3.3.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.SS4.p1.6.m4.1.2.1" xref="S2.SS4.p1.6.m4.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.6.m4.1.2.3.2" xref="S2.SS4.p1.6.m4.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.6.m4.1.2.3.2.1" xref="S2.SS4.p1.6.m4.1.2.cmml">(</mo><mi id="S2.SS4.p1.6.m4.1.1" xref="S2.SS4.p1.6.m4.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.6.m4.1.2.3.2.2" xref="S2.SS4.p1.6.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.6.m4.1b"><apply id="S2.SS4.p1.6.m4.1.2.cmml" xref="S2.SS4.p1.6.m4.1.2"><times id="S2.SS4.p1.6.m4.1.2.1.cmml" xref="S2.SS4.p1.6.m4.1.2.1"></times><apply id="S2.SS4.p1.6.m4.1.2.2.cmml" xref="S2.SS4.p1.6.m4.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.6.m4.1.2.2.1.cmml" xref="S2.SS4.p1.6.m4.1.2.2">subscript</csymbol><apply id="S2.SS4.p1.6.m4.1.2.2.2.cmml" xref="S2.SS4.p1.6.m4.1.2.2.2"><ci id="S2.SS4.p1.6.m4.1.2.2.2.1.cmml" xref="S2.SS4.p1.6.m4.1.2.2.2.1">¯</ci><ci id="S2.SS4.p1.6.m4.1.2.2.2.2.cmml" xref="S2.SS4.p1.6.m4.1.2.2.2.2">𝑙</ci></apply><apply id="S2.SS4.p1.6.m4.1.2.2.3.cmml" xref="S2.SS4.p1.6.m4.1.2.2.3"><times id="S2.SS4.p1.6.m4.1.2.2.3.1.cmml" xref="S2.SS4.p1.6.m4.1.2.2.3.1"></times><ci id="S2.SS4.p1.6.m4.1.2.2.3.2.cmml" xref="S2.SS4.p1.6.m4.1.2.2.3.2">𝑐</ci><ci id="S2.SS4.p1.6.m4.1.2.2.3.3.cmml" xref="S2.SS4.p1.6.m4.1.2.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.6.m4.1.1.cmml" xref="S2.SS4.p1.6.m4.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.6.m4.1c">\overline{l}_{ce}(y)</annotation></semantics></math> is the average CE loss of all samples belonging to class <math id="S2.SS4.p1.7.m5.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS4.p1.7.m5.1a"><mi id="S2.SS4.p1.7.m5.1.1" xref="S2.SS4.p1.7.m5.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.7.m5.1b"><ci id="S2.SS4.p1.7.m5.1.1.cmml" xref="S2.SS4.p1.7.m5.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.7.m5.1c">y</annotation></semantics></math> in any round and <math id="S2.SS4.p1.8.m6.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S2.SS4.p1.8.m6.1a"><mi id="S2.SS4.p1.8.m6.1.1" xref="S2.SS4.p1.8.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.8.m6.1b"><ci id="S2.SS4.p1.8.m6.1.1.cmml" xref="S2.SS4.p1.8.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.8.m6.1c">q</annotation></semantics></math> is a hyper-parameter set as 0.25 by default. <math id="S2.SS4.p1.9.m7.1" class="ltx_Math" alttext="\overline{l}_{ce}(y)" display="inline"><semantics id="S2.SS4.p1.9.m7.1a"><mrow id="S2.SS4.p1.9.m7.1.2" xref="S2.SS4.p1.9.m7.1.2.cmml"><msub id="S2.SS4.p1.9.m7.1.2.2" xref="S2.SS4.p1.9.m7.1.2.2.cmml"><mover accent="true" id="S2.SS4.p1.9.m7.1.2.2.2" xref="S2.SS4.p1.9.m7.1.2.2.2.cmml"><mi id="S2.SS4.p1.9.m7.1.2.2.2.2" xref="S2.SS4.p1.9.m7.1.2.2.2.2.cmml">l</mi><mo id="S2.SS4.p1.9.m7.1.2.2.2.1" xref="S2.SS4.p1.9.m7.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S2.SS4.p1.9.m7.1.2.2.3" xref="S2.SS4.p1.9.m7.1.2.2.3.cmml"><mi id="S2.SS4.p1.9.m7.1.2.2.3.2" xref="S2.SS4.p1.9.m7.1.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.9.m7.1.2.2.3.1" xref="S2.SS4.p1.9.m7.1.2.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.9.m7.1.2.2.3.3" xref="S2.SS4.p1.9.m7.1.2.2.3.3.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.SS4.p1.9.m7.1.2.1" xref="S2.SS4.p1.9.m7.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.9.m7.1.2.3.2" xref="S2.SS4.p1.9.m7.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.9.m7.1.2.3.2.1" xref="S2.SS4.p1.9.m7.1.2.cmml">(</mo><mi id="S2.SS4.p1.9.m7.1.1" xref="S2.SS4.p1.9.m7.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.9.m7.1.2.3.2.2" xref="S2.SS4.p1.9.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.9.m7.1b"><apply id="S2.SS4.p1.9.m7.1.2.cmml" xref="S2.SS4.p1.9.m7.1.2"><times id="S2.SS4.p1.9.m7.1.2.1.cmml" xref="S2.SS4.p1.9.m7.1.2.1"></times><apply id="S2.SS4.p1.9.m7.1.2.2.cmml" xref="S2.SS4.p1.9.m7.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.9.m7.1.2.2.1.cmml" xref="S2.SS4.p1.9.m7.1.2.2">subscript</csymbol><apply id="S2.SS4.p1.9.m7.1.2.2.2.cmml" xref="S2.SS4.p1.9.m7.1.2.2.2"><ci id="S2.SS4.p1.9.m7.1.2.2.2.1.cmml" xref="S2.SS4.p1.9.m7.1.2.2.2.1">¯</ci><ci id="S2.SS4.p1.9.m7.1.2.2.2.2.cmml" xref="S2.SS4.p1.9.m7.1.2.2.2.2">𝑙</ci></apply><apply id="S2.SS4.p1.9.m7.1.2.2.3.cmml" xref="S2.SS4.p1.9.m7.1.2.2.3"><times id="S2.SS4.p1.9.m7.1.2.2.3.1.cmml" xref="S2.SS4.p1.9.m7.1.2.2.3.1"></times><ci id="S2.SS4.p1.9.m7.1.2.2.3.2.cmml" xref="S2.SS4.p1.9.m7.1.2.2.3.2">𝑐</ci><ci id="S2.SS4.p1.9.m7.1.2.2.3.3.cmml" xref="S2.SS4.p1.9.m7.1.2.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.9.m7.1.1.cmml" xref="S2.SS4.p1.9.m7.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.9.m7.1c">\overline{l}_{ce}(y)</annotation></semantics></math> is calculated as follows. At any round <math id="S2.SS4.p1.10.m8.1" class="ltx_Math" alttext="r" display="inline"><semantics id="S2.SS4.p1.10.m8.1a"><mi id="S2.SS4.p1.10.m8.1.1" xref="S2.SS4.p1.10.m8.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.10.m8.1b"><ci id="S2.SS4.p1.10.m8.1.1.cmml" xref="S2.SS4.p1.10.m8.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.10.m8.1c">r</annotation></semantics></math>, the total sample number of class <math id="S2.SS4.p1.11.m9.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS4.p1.11.m9.1a"><mi id="S2.SS4.p1.11.m9.1.1" xref="S2.SS4.p1.11.m9.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.11.m9.1b"><ci id="S2.SS4.p1.11.m9.1.1.cmml" xref="S2.SS4.p1.11.m9.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.11.m9.1c">y</annotation></semantics></math>, denoted as <math id="S2.SS4.p1.12.m10.1" class="ltx_Math" alttext="N^{y}_{r}" display="inline"><semantics id="S2.SS4.p1.12.m10.1a"><msubsup id="S2.SS4.p1.12.m10.1.1" xref="S2.SS4.p1.12.m10.1.1.cmml"><mi id="S2.SS4.p1.12.m10.1.1.2.2" xref="S2.SS4.p1.12.m10.1.1.2.2.cmml">N</mi><mi id="S2.SS4.p1.12.m10.1.1.3" xref="S2.SS4.p1.12.m10.1.1.3.cmml">r</mi><mi id="S2.SS4.p1.12.m10.1.1.2.3" xref="S2.SS4.p1.12.m10.1.1.2.3.cmml">y</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.12.m10.1b"><apply id="S2.SS4.p1.12.m10.1.1.cmml" xref="S2.SS4.p1.12.m10.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.12.m10.1.1.1.cmml" xref="S2.SS4.p1.12.m10.1.1">subscript</csymbol><apply id="S2.SS4.p1.12.m10.1.1.2.cmml" xref="S2.SS4.p1.12.m10.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.12.m10.1.1.2.1.cmml" xref="S2.SS4.p1.12.m10.1.1">superscript</csymbol><ci id="S2.SS4.p1.12.m10.1.1.2.2.cmml" xref="S2.SS4.p1.12.m10.1.1.2.2">𝑁</ci><ci id="S2.SS4.p1.12.m10.1.1.2.3.cmml" xref="S2.SS4.p1.12.m10.1.1.2.3">𝑦</ci></apply><ci id="S2.SS4.p1.12.m10.1.1.3.cmml" xref="S2.SS4.p1.12.m10.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.12.m10.1c">N^{y}_{r}</annotation></semantics></math>, belonging to clients of communication is first calculated. After receiving the global model from the server and before local training, each client <math id="S2.SS4.p1.13.m11.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S2.SS4.p1.13.m11.1a"><mi id="S2.SS4.p1.13.m11.1.1" xref="S2.SS4.p1.13.m11.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.13.m11.1b"><ci id="S2.SS4.p1.13.m11.1.1.cmml" xref="S2.SS4.p1.13.m11.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.13.m11.1c">i</annotation></semantics></math> uploads <math id="S2.SS4.p1.14.m12.1" class="ltx_Math" alttext="{{l}^{i}_{ce}(y)}" display="inline"><semantics id="S2.SS4.p1.14.m12.1a"><mrow id="S2.SS4.p1.14.m12.1.2" xref="S2.SS4.p1.14.m12.1.2.cmml"><msubsup id="S2.SS4.p1.14.m12.1.2.2" xref="S2.SS4.p1.14.m12.1.2.2.cmml"><mi id="S2.SS4.p1.14.m12.1.2.2.2.2" xref="S2.SS4.p1.14.m12.1.2.2.2.2.cmml">l</mi><mrow id="S2.SS4.p1.14.m12.1.2.2.3" xref="S2.SS4.p1.14.m12.1.2.2.3.cmml"><mi id="S2.SS4.p1.14.m12.1.2.2.3.2" xref="S2.SS4.p1.14.m12.1.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.14.m12.1.2.2.3.1" xref="S2.SS4.p1.14.m12.1.2.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.14.m12.1.2.2.3.3" xref="S2.SS4.p1.14.m12.1.2.2.3.3.cmml">e</mi></mrow><mi id="S2.SS4.p1.14.m12.1.2.2.2.3" xref="S2.SS4.p1.14.m12.1.2.2.2.3.cmml">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S2.SS4.p1.14.m12.1.2.1" xref="S2.SS4.p1.14.m12.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.14.m12.1.2.3.2" xref="S2.SS4.p1.14.m12.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.14.m12.1.2.3.2.1" xref="S2.SS4.p1.14.m12.1.2.cmml">(</mo><mi id="S2.SS4.p1.14.m12.1.1" xref="S2.SS4.p1.14.m12.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.14.m12.1.2.3.2.2" xref="S2.SS4.p1.14.m12.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.14.m12.1b"><apply id="S2.SS4.p1.14.m12.1.2.cmml" xref="S2.SS4.p1.14.m12.1.2"><times id="S2.SS4.p1.14.m12.1.2.1.cmml" xref="S2.SS4.p1.14.m12.1.2.1"></times><apply id="S2.SS4.p1.14.m12.1.2.2.cmml" xref="S2.SS4.p1.14.m12.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.14.m12.1.2.2.1.cmml" xref="S2.SS4.p1.14.m12.1.2.2">subscript</csymbol><apply id="S2.SS4.p1.14.m12.1.2.2.2.cmml" xref="S2.SS4.p1.14.m12.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.14.m12.1.2.2.2.1.cmml" xref="S2.SS4.p1.14.m12.1.2.2">superscript</csymbol><ci id="S2.SS4.p1.14.m12.1.2.2.2.2.cmml" xref="S2.SS4.p1.14.m12.1.2.2.2.2">𝑙</ci><ci id="S2.SS4.p1.14.m12.1.2.2.2.3.cmml" xref="S2.SS4.p1.14.m12.1.2.2.2.3">𝑖</ci></apply><apply id="S2.SS4.p1.14.m12.1.2.2.3.cmml" xref="S2.SS4.p1.14.m12.1.2.2.3"><times id="S2.SS4.p1.14.m12.1.2.2.3.1.cmml" xref="S2.SS4.p1.14.m12.1.2.2.3.1"></times><ci id="S2.SS4.p1.14.m12.1.2.2.3.2.cmml" xref="S2.SS4.p1.14.m12.1.2.2.3.2">𝑐</ci><ci id="S2.SS4.p1.14.m12.1.2.2.3.3.cmml" xref="S2.SS4.p1.14.m12.1.2.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.14.m12.1.1.cmml" xref="S2.SS4.p1.14.m12.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.14.m12.1c">{{l}^{i}_{ce}(y)}</annotation></semantics></math>, <span id="S2.SS4.p1.23.1" class="ltx_text ltx_font_italic">i.e.</span> the total loss of class <math id="S2.SS4.p1.15.m13.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS4.p1.15.m13.1a"><mi id="S2.SS4.p1.15.m13.1.1" xref="S2.SS4.p1.15.m13.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.15.m13.1b"><ci id="S2.SS4.p1.15.m13.1.1.cmml" xref="S2.SS4.p1.15.m13.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.15.m13.1c">y</annotation></semantics></math>, to the server. Finally, <math id="S2.SS4.p1.16.m14.1" class="ltx_Math" alttext="\overline{l}_{ce}(y)" display="inline"><semantics id="S2.SS4.p1.16.m14.1a"><mrow id="S2.SS4.p1.16.m14.1.2" xref="S2.SS4.p1.16.m14.1.2.cmml"><msub id="S2.SS4.p1.16.m14.1.2.2" xref="S2.SS4.p1.16.m14.1.2.2.cmml"><mover accent="true" id="S2.SS4.p1.16.m14.1.2.2.2" xref="S2.SS4.p1.16.m14.1.2.2.2.cmml"><mi id="S2.SS4.p1.16.m14.1.2.2.2.2" xref="S2.SS4.p1.16.m14.1.2.2.2.2.cmml">l</mi><mo id="S2.SS4.p1.16.m14.1.2.2.2.1" xref="S2.SS4.p1.16.m14.1.2.2.2.1.cmml">¯</mo></mover><mrow id="S2.SS4.p1.16.m14.1.2.2.3" xref="S2.SS4.p1.16.m14.1.2.2.3.cmml"><mi id="S2.SS4.p1.16.m14.1.2.2.3.2" xref="S2.SS4.p1.16.m14.1.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.16.m14.1.2.2.3.1" xref="S2.SS4.p1.16.m14.1.2.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.16.m14.1.2.2.3.3" xref="S2.SS4.p1.16.m14.1.2.2.3.3.cmml">e</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.SS4.p1.16.m14.1.2.1" xref="S2.SS4.p1.16.m14.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.16.m14.1.2.3.2" xref="S2.SS4.p1.16.m14.1.2.cmml"><mo stretchy="false" id="S2.SS4.p1.16.m14.1.2.3.2.1" xref="S2.SS4.p1.16.m14.1.2.cmml">(</mo><mi id="S2.SS4.p1.16.m14.1.1" xref="S2.SS4.p1.16.m14.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.16.m14.1.2.3.2.2" xref="S2.SS4.p1.16.m14.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.16.m14.1b"><apply id="S2.SS4.p1.16.m14.1.2.cmml" xref="S2.SS4.p1.16.m14.1.2"><times id="S2.SS4.p1.16.m14.1.2.1.cmml" xref="S2.SS4.p1.16.m14.1.2.1"></times><apply id="S2.SS4.p1.16.m14.1.2.2.cmml" xref="S2.SS4.p1.16.m14.1.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.16.m14.1.2.2.1.cmml" xref="S2.SS4.p1.16.m14.1.2.2">subscript</csymbol><apply id="S2.SS4.p1.16.m14.1.2.2.2.cmml" xref="S2.SS4.p1.16.m14.1.2.2.2"><ci id="S2.SS4.p1.16.m14.1.2.2.2.1.cmml" xref="S2.SS4.p1.16.m14.1.2.2.2.1">¯</ci><ci id="S2.SS4.p1.16.m14.1.2.2.2.2.cmml" xref="S2.SS4.p1.16.m14.1.2.2.2.2">𝑙</ci></apply><apply id="S2.SS4.p1.16.m14.1.2.2.3.cmml" xref="S2.SS4.p1.16.m14.1.2.2.3"><times id="S2.SS4.p1.16.m14.1.2.2.3.1.cmml" xref="S2.SS4.p1.16.m14.1.2.2.3.1"></times><ci id="S2.SS4.p1.16.m14.1.2.2.3.2.cmml" xref="S2.SS4.p1.16.m14.1.2.2.3.2">𝑐</ci><ci id="S2.SS4.p1.16.m14.1.2.2.3.3.cmml" xref="S2.SS4.p1.16.m14.1.2.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.16.m14.1.1.cmml" xref="S2.SS4.p1.16.m14.1.1">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.16.m14.1c">\overline{l}_{ce}(y)</annotation></semantics></math> is calculated as <math id="S2.SS4.p1.17.m15.1" class="ltx_Math" alttext="\frac{1}{N^{y}_{r}}\sum_{i}{l}^{i}_{ce}(y)" display="inline"><semantics id="S2.SS4.p1.17.m15.1a"><mrow id="S2.SS4.p1.17.m15.1.2" xref="S2.SS4.p1.17.m15.1.2.cmml"><mfrac id="S2.SS4.p1.17.m15.1.2.2" xref="S2.SS4.p1.17.m15.1.2.2.cmml"><mn id="S2.SS4.p1.17.m15.1.2.2.2" xref="S2.SS4.p1.17.m15.1.2.2.2.cmml">1</mn><msubsup id="S2.SS4.p1.17.m15.1.2.2.3" xref="S2.SS4.p1.17.m15.1.2.2.3.cmml"><mi id="S2.SS4.p1.17.m15.1.2.2.3.2.2" xref="S2.SS4.p1.17.m15.1.2.2.3.2.2.cmml">N</mi><mi id="S2.SS4.p1.17.m15.1.2.2.3.3" xref="S2.SS4.p1.17.m15.1.2.2.3.3.cmml">r</mi><mi id="S2.SS4.p1.17.m15.1.2.2.3.2.3" xref="S2.SS4.p1.17.m15.1.2.2.3.2.3.cmml">y</mi></msubsup></mfrac><mo lspace="0em" rspace="0em" id="S2.SS4.p1.17.m15.1.2.1" xref="S2.SS4.p1.17.m15.1.2.1.cmml">​</mo><mrow id="S2.SS4.p1.17.m15.1.2.3" xref="S2.SS4.p1.17.m15.1.2.3.cmml"><msub id="S2.SS4.p1.17.m15.1.2.3.1" xref="S2.SS4.p1.17.m15.1.2.3.1.cmml"><mo id="S2.SS4.p1.17.m15.1.2.3.1.2" xref="S2.SS4.p1.17.m15.1.2.3.1.2.cmml">∑</mo><mi id="S2.SS4.p1.17.m15.1.2.3.1.3" xref="S2.SS4.p1.17.m15.1.2.3.1.3.cmml">i</mi></msub><mrow id="S2.SS4.p1.17.m15.1.2.3.2" xref="S2.SS4.p1.17.m15.1.2.3.2.cmml"><msubsup id="S2.SS4.p1.17.m15.1.2.3.2.2" xref="S2.SS4.p1.17.m15.1.2.3.2.2.cmml"><mi id="S2.SS4.p1.17.m15.1.2.3.2.2.2.2" xref="S2.SS4.p1.17.m15.1.2.3.2.2.2.2.cmml">l</mi><mrow id="S2.SS4.p1.17.m15.1.2.3.2.2.3" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.cmml"><mi id="S2.SS4.p1.17.m15.1.2.3.2.2.3.2" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.2.cmml">c</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.17.m15.1.2.3.2.2.3.1" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.1.cmml">​</mo><mi id="S2.SS4.p1.17.m15.1.2.3.2.2.3.3" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.3.cmml">e</mi></mrow><mi id="S2.SS4.p1.17.m15.1.2.3.2.2.2.3" xref="S2.SS4.p1.17.m15.1.2.3.2.2.2.3.cmml">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S2.SS4.p1.17.m15.1.2.3.2.1" xref="S2.SS4.p1.17.m15.1.2.3.2.1.cmml">​</mo><mrow id="S2.SS4.p1.17.m15.1.2.3.2.3.2" xref="S2.SS4.p1.17.m15.1.2.3.2.cmml"><mo stretchy="false" id="S2.SS4.p1.17.m15.1.2.3.2.3.2.1" xref="S2.SS4.p1.17.m15.1.2.3.2.cmml">(</mo><mi id="S2.SS4.p1.17.m15.1.1" xref="S2.SS4.p1.17.m15.1.1.cmml">y</mi><mo stretchy="false" id="S2.SS4.p1.17.m15.1.2.3.2.3.2.2" xref="S2.SS4.p1.17.m15.1.2.3.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.17.m15.1b"><apply id="S2.SS4.p1.17.m15.1.2.cmml" xref="S2.SS4.p1.17.m15.1.2"><times id="S2.SS4.p1.17.m15.1.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.1"></times><apply id="S2.SS4.p1.17.m15.1.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.2"><divide id="S2.SS4.p1.17.m15.1.2.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.2"></divide><cn type="integer" id="S2.SS4.p1.17.m15.1.2.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.2.2">1</cn><apply id="S2.SS4.p1.17.m15.1.2.2.3.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3"><csymbol cd="ambiguous" id="S2.SS4.p1.17.m15.1.2.2.3.1.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3">subscript</csymbol><apply id="S2.SS4.p1.17.m15.1.2.2.3.2.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3"><csymbol cd="ambiguous" id="S2.SS4.p1.17.m15.1.2.2.3.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3">superscript</csymbol><ci id="S2.SS4.p1.17.m15.1.2.2.3.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3.2.2">𝑁</ci><ci id="S2.SS4.p1.17.m15.1.2.2.3.2.3.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3.2.3">𝑦</ci></apply><ci id="S2.SS4.p1.17.m15.1.2.2.3.3.cmml" xref="S2.SS4.p1.17.m15.1.2.2.3.3">𝑟</ci></apply></apply><apply id="S2.SS4.p1.17.m15.1.2.3.cmml" xref="S2.SS4.p1.17.m15.1.2.3"><apply id="S2.SS4.p1.17.m15.1.2.3.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.1"><csymbol cd="ambiguous" id="S2.SS4.p1.17.m15.1.2.3.1.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.1">subscript</csymbol><sum id="S2.SS4.p1.17.m15.1.2.3.1.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.1.2"></sum><ci id="S2.SS4.p1.17.m15.1.2.3.1.3.cmml" xref="S2.SS4.p1.17.m15.1.2.3.1.3">𝑖</ci></apply><apply id="S2.SS4.p1.17.m15.1.2.3.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2"><times id="S2.SS4.p1.17.m15.1.2.3.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.1"></times><apply id="S2.SS4.p1.17.m15.1.2.3.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.17.m15.1.2.3.2.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2">subscript</csymbol><apply id="S2.SS4.p1.17.m15.1.2.3.2.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2"><csymbol cd="ambiguous" id="S2.SS4.p1.17.m15.1.2.3.2.2.2.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2">superscript</csymbol><ci id="S2.SS4.p1.17.m15.1.2.3.2.2.2.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.2.2">𝑙</ci><ci id="S2.SS4.p1.17.m15.1.2.3.2.2.2.3.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.2.3">𝑖</ci></apply><apply id="S2.SS4.p1.17.m15.1.2.3.2.2.3.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3"><times id="S2.SS4.p1.17.m15.1.2.3.2.2.3.1.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.1"></times><ci id="S2.SS4.p1.17.m15.1.2.3.2.2.3.2.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.2">𝑐</ci><ci id="S2.SS4.p1.17.m15.1.2.3.2.2.3.3.cmml" xref="S2.SS4.p1.17.m15.1.2.3.2.2.3.3">𝑒</ci></apply></apply><ci id="S2.SS4.p1.17.m15.1.1.cmml" xref="S2.SS4.p1.17.m15.1.1">𝑦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.17.m15.1c">\frac{1}{N^{y}_{r}}\sum_{i}{l}^{i}_{ce}(y)</annotation></semantics></math>. This process to calculate average loss value can be privacy-preserving under the existing secure multi-party computation framework based on homomorphic encryption <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>. Based on the newly defined <math id="S2.SS4.p1.18.m16.1" class="ltx_Math" alttext="\delta_{y}" display="inline"><semantics id="S2.SS4.p1.18.m16.1a"><msub id="S2.SS4.p1.18.m16.1.1" xref="S2.SS4.p1.18.m16.1.1.cmml"><mi id="S2.SS4.p1.18.m16.1.1.2" xref="S2.SS4.p1.18.m16.1.1.2.cmml">δ</mi><mi id="S2.SS4.p1.18.m16.1.1.3" xref="S2.SS4.p1.18.m16.1.1.3.cmml">y</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.18.m16.1b"><apply id="S2.SS4.p1.18.m16.1.1.cmml" xref="S2.SS4.p1.18.m16.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.18.m16.1.1.1.cmml" xref="S2.SS4.p1.18.m16.1.1">subscript</csymbol><ci id="S2.SS4.p1.18.m16.1.1.2.cmml" xref="S2.SS4.p1.18.m16.1.1.2">𝛿</ci><ci id="S2.SS4.p1.18.m16.1.1.3.cmml" xref="S2.SS4.p1.18.m16.1.1.3">𝑦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.18.m16.1c">\delta_{y}</annotation></semantics></math>, Eq. <a href="#S2.E6" title="In 2.4 Difficulty-Aware Logit Adjustment ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> is renamed as <math id="S2.SS4.p1.19.m17.1" class="ltx_Math" alttext="\mathcal{L}_{DALA}" display="inline"><semantics id="S2.SS4.p1.19.m17.1a"><msub id="S2.SS4.p1.19.m17.1.1" xref="S2.SS4.p1.19.m17.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.19.m17.1.1.2" xref="S2.SS4.p1.19.m17.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p1.19.m17.1.1.3" xref="S2.SS4.p1.19.m17.1.1.3.cmml"><mi id="S2.SS4.p1.19.m17.1.1.3.2" xref="S2.SS4.p1.19.m17.1.1.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.19.m17.1.1.3.1" xref="S2.SS4.p1.19.m17.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.19.m17.1.1.3.3" xref="S2.SS4.p1.19.m17.1.1.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.19.m17.1.1.3.1a" xref="S2.SS4.p1.19.m17.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.19.m17.1.1.3.4" xref="S2.SS4.p1.19.m17.1.1.3.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.19.m17.1.1.3.1b" xref="S2.SS4.p1.19.m17.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.19.m17.1.1.3.5" xref="S2.SS4.p1.19.m17.1.1.3.5.cmml">A</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.19.m17.1b"><apply id="S2.SS4.p1.19.m17.1.1.cmml" xref="S2.SS4.p1.19.m17.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.19.m17.1.1.1.cmml" xref="S2.SS4.p1.19.m17.1.1">subscript</csymbol><ci id="S2.SS4.p1.19.m17.1.1.2.cmml" xref="S2.SS4.p1.19.m17.1.1.2">ℒ</ci><apply id="S2.SS4.p1.19.m17.1.1.3.cmml" xref="S2.SS4.p1.19.m17.1.1.3"><times id="S2.SS4.p1.19.m17.1.1.3.1.cmml" xref="S2.SS4.p1.19.m17.1.1.3.1"></times><ci id="S2.SS4.p1.19.m17.1.1.3.2.cmml" xref="S2.SS4.p1.19.m17.1.1.3.2">𝐷</ci><ci id="S2.SS4.p1.19.m17.1.1.3.3.cmml" xref="S2.SS4.p1.19.m17.1.1.3.3">𝐴</ci><ci id="S2.SS4.p1.19.m17.1.1.3.4.cmml" xref="S2.SS4.p1.19.m17.1.1.3.4">𝐿</ci><ci id="S2.SS4.p1.19.m17.1.1.3.5.cmml" xref="S2.SS4.p1.19.m17.1.1.3.5">𝐴</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.19.m17.1c">\mathcal{L}_{DALA}</annotation></semantics></math>. Note that the calculation of <math id="S2.SS4.p1.20.m18.1" class="ltx_Math" alttext="\mathcal{L}_{DALA}" display="inline"><semantics id="S2.SS4.p1.20.m18.1a"><msub id="S2.SS4.p1.20.m18.1.1" xref="S2.SS4.p1.20.m18.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.20.m18.1.1.2" xref="S2.SS4.p1.20.m18.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p1.20.m18.1.1.3" xref="S2.SS4.p1.20.m18.1.1.3.cmml"><mi id="S2.SS4.p1.20.m18.1.1.3.2" xref="S2.SS4.p1.20.m18.1.1.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.20.m18.1.1.3.1" xref="S2.SS4.p1.20.m18.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.20.m18.1.1.3.3" xref="S2.SS4.p1.20.m18.1.1.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.20.m18.1.1.3.1a" xref="S2.SS4.p1.20.m18.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.20.m18.1.1.3.4" xref="S2.SS4.p1.20.m18.1.1.3.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.20.m18.1.1.3.1b" xref="S2.SS4.p1.20.m18.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.20.m18.1.1.3.5" xref="S2.SS4.p1.20.m18.1.1.3.5.cmml">A</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.20.m18.1b"><apply id="S2.SS4.p1.20.m18.1.1.cmml" xref="S2.SS4.p1.20.m18.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.20.m18.1.1.1.cmml" xref="S2.SS4.p1.20.m18.1.1">subscript</csymbol><ci id="S2.SS4.p1.20.m18.1.1.2.cmml" xref="S2.SS4.p1.20.m18.1.1.2">ℒ</ci><apply id="S2.SS4.p1.20.m18.1.1.3.cmml" xref="S2.SS4.p1.20.m18.1.1.3"><times id="S2.SS4.p1.20.m18.1.1.3.1.cmml" xref="S2.SS4.p1.20.m18.1.1.3.1"></times><ci id="S2.SS4.p1.20.m18.1.1.3.2.cmml" xref="S2.SS4.p1.20.m18.1.1.3.2">𝐷</ci><ci id="S2.SS4.p1.20.m18.1.1.3.3.cmml" xref="S2.SS4.p1.20.m18.1.1.3.3">𝐴</ci><ci id="S2.SS4.p1.20.m18.1.1.3.4.cmml" xref="S2.SS4.p1.20.m18.1.1.3.4">𝐿</ci><ci id="S2.SS4.p1.20.m18.1.1.3.5.cmml" xref="S2.SS4.p1.20.m18.1.1.3.5">𝐴</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.20.m18.1c">\mathcal{L}_{DALA}</annotation></semantics></math> does not rely on the multi-view batch like <math id="S2.SS4.p1.21.m19.1" class="ltx_Math" alttext="\mathcal{L}_{Intra}" display="inline"><semantics id="S2.SS4.p1.21.m19.1a"><msub id="S2.SS4.p1.21.m19.1.1" xref="S2.SS4.p1.21.m19.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.21.m19.1.1.2" xref="S2.SS4.p1.21.m19.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p1.21.m19.1.1.3" xref="S2.SS4.p1.21.m19.1.1.3.cmml"><mi id="S2.SS4.p1.21.m19.1.1.3.2" xref="S2.SS4.p1.21.m19.1.1.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.21.m19.1.1.3.1" xref="S2.SS4.p1.21.m19.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.21.m19.1.1.3.3" xref="S2.SS4.p1.21.m19.1.1.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.21.m19.1.1.3.1a" xref="S2.SS4.p1.21.m19.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.21.m19.1.1.3.4" xref="S2.SS4.p1.21.m19.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.21.m19.1.1.3.1b" xref="S2.SS4.p1.21.m19.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.21.m19.1.1.3.5" xref="S2.SS4.p1.21.m19.1.1.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.21.m19.1.1.3.1c" xref="S2.SS4.p1.21.m19.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.21.m19.1.1.3.6" xref="S2.SS4.p1.21.m19.1.1.3.6.cmml">a</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.21.m19.1b"><apply id="S2.SS4.p1.21.m19.1.1.cmml" xref="S2.SS4.p1.21.m19.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.21.m19.1.1.1.cmml" xref="S2.SS4.p1.21.m19.1.1">subscript</csymbol><ci id="S2.SS4.p1.21.m19.1.1.2.cmml" xref="S2.SS4.p1.21.m19.1.1.2">ℒ</ci><apply id="S2.SS4.p1.21.m19.1.1.3.cmml" xref="S2.SS4.p1.21.m19.1.1.3"><times id="S2.SS4.p1.21.m19.1.1.3.1.cmml" xref="S2.SS4.p1.21.m19.1.1.3.1"></times><ci id="S2.SS4.p1.21.m19.1.1.3.2.cmml" xref="S2.SS4.p1.21.m19.1.1.3.2">𝐼</ci><ci id="S2.SS4.p1.21.m19.1.1.3.3.cmml" xref="S2.SS4.p1.21.m19.1.1.3.3">𝑛</ci><ci id="S2.SS4.p1.21.m19.1.1.3.4.cmml" xref="S2.SS4.p1.21.m19.1.1.3.4">𝑡</ci><ci id="S2.SS4.p1.21.m19.1.1.3.5.cmml" xref="S2.SS4.p1.21.m19.1.1.3.5">𝑟</ci><ci id="S2.SS4.p1.21.m19.1.1.3.6.cmml" xref="S2.SS4.p1.21.m19.1.1.3.6">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.21.m19.1c">\mathcal{L}_{Intra}</annotation></semantics></math> and <math id="S2.SS4.p1.22.m20.1" class="ltx_Math" alttext="\mathcal{L}_{Inter}" display="inline"><semantics id="S2.SS4.p1.22.m20.1a"><msub id="S2.SS4.p1.22.m20.1.1" xref="S2.SS4.p1.22.m20.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.22.m20.1.1.2" xref="S2.SS4.p1.22.m20.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p1.22.m20.1.1.3" xref="S2.SS4.p1.22.m20.1.1.3.cmml"><mi id="S2.SS4.p1.22.m20.1.1.3.2" xref="S2.SS4.p1.22.m20.1.1.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.22.m20.1.1.3.1" xref="S2.SS4.p1.22.m20.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.22.m20.1.1.3.3" xref="S2.SS4.p1.22.m20.1.1.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.22.m20.1.1.3.1a" xref="S2.SS4.p1.22.m20.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.22.m20.1.1.3.4" xref="S2.SS4.p1.22.m20.1.1.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.22.m20.1.1.3.1b" xref="S2.SS4.p1.22.m20.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.22.m20.1.1.3.5" xref="S2.SS4.p1.22.m20.1.1.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.22.m20.1.1.3.1c" xref="S2.SS4.p1.22.m20.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.22.m20.1.1.3.6" xref="S2.SS4.p1.22.m20.1.1.3.6.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.22.m20.1b"><apply id="S2.SS4.p1.22.m20.1.1.cmml" xref="S2.SS4.p1.22.m20.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.22.m20.1.1.1.cmml" xref="S2.SS4.p1.22.m20.1.1">subscript</csymbol><ci id="S2.SS4.p1.22.m20.1.1.2.cmml" xref="S2.SS4.p1.22.m20.1.1.2">ℒ</ci><apply id="S2.SS4.p1.22.m20.1.1.3.cmml" xref="S2.SS4.p1.22.m20.1.1.3"><times id="S2.SS4.p1.22.m20.1.1.3.1.cmml" xref="S2.SS4.p1.22.m20.1.1.3.1"></times><ci id="S2.SS4.p1.22.m20.1.1.3.2.cmml" xref="S2.SS4.p1.22.m20.1.1.3.2">𝐼</ci><ci id="S2.SS4.p1.22.m20.1.1.3.3.cmml" xref="S2.SS4.p1.22.m20.1.1.3.3">𝑛</ci><ci id="S2.SS4.p1.22.m20.1.1.3.4.cmml" xref="S2.SS4.p1.22.m20.1.1.3.4">𝑡</ci><ci id="S2.SS4.p1.22.m20.1.1.3.5.cmml" xref="S2.SS4.p1.22.m20.1.1.3.5">𝑒</ci><ci id="S2.SS4.p1.22.m20.1.1.3.6.cmml" xref="S2.SS4.p1.22.m20.1.1.3.6">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.22.m20.1c">\mathcal{L}_{Inter}</annotation></semantics></math>. For a fair comparison with other methods trained by the CE loss, only one view of the multi-view batch is used to calculate <math id="S2.SS4.p1.23.m21.1" class="ltx_Math" alttext="\mathcal{L}_{DALA}" display="inline"><semantics id="S2.SS4.p1.23.m21.1a"><msub id="S2.SS4.p1.23.m21.1.1" xref="S2.SS4.p1.23.m21.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.23.m21.1.1.2" xref="S2.SS4.p1.23.m21.1.1.2.cmml">ℒ</mi><mrow id="S2.SS4.p1.23.m21.1.1.3" xref="S2.SS4.p1.23.m21.1.1.3.cmml"><mi id="S2.SS4.p1.23.m21.1.1.3.2" xref="S2.SS4.p1.23.m21.1.1.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.23.m21.1.1.3.1" xref="S2.SS4.p1.23.m21.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.23.m21.1.1.3.3" xref="S2.SS4.p1.23.m21.1.1.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.23.m21.1.1.3.1a" xref="S2.SS4.p1.23.m21.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.23.m21.1.1.3.4" xref="S2.SS4.p1.23.m21.1.1.3.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.SS4.p1.23.m21.1.1.3.1b" xref="S2.SS4.p1.23.m21.1.1.3.1.cmml">​</mo><mi id="S2.SS4.p1.23.m21.1.1.3.5" xref="S2.SS4.p1.23.m21.1.1.3.5.cmml">A</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.23.m21.1b"><apply id="S2.SS4.p1.23.m21.1.1.cmml" xref="S2.SS4.p1.23.m21.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.23.m21.1.1.1.cmml" xref="S2.SS4.p1.23.m21.1.1">subscript</csymbol><ci id="S2.SS4.p1.23.m21.1.1.2.cmml" xref="S2.SS4.p1.23.m21.1.1.2">ℒ</ci><apply id="S2.SS4.p1.23.m21.1.1.3.cmml" xref="S2.SS4.p1.23.m21.1.1.3"><times id="S2.SS4.p1.23.m21.1.1.3.1.cmml" xref="S2.SS4.p1.23.m21.1.1.3.1"></times><ci id="S2.SS4.p1.23.m21.1.1.3.2.cmml" xref="S2.SS4.p1.23.m21.1.1.3.2">𝐷</ci><ci id="S2.SS4.p1.23.m21.1.1.3.3.cmml" xref="S2.SS4.p1.23.m21.1.1.3.3">𝐴</ci><ci id="S2.SS4.p1.23.m21.1.1.3.4.cmml" xref="S2.SS4.p1.23.m21.1.1.3.4">𝐿</ci><ci id="S2.SS4.p1.23.m21.1.1.3.5.cmml" xref="S2.SS4.p1.23.m21.1.1.3.5">𝐴</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.23.m21.1c">\mathcal{L}_{DALA}</annotation></semantics></math>.
The overall loss function in local training is written as</p>
<table id="S2.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E7.m1.1" class="ltx_Math" alttext="\mathcal{L}=\mathcal{L}_{DALA}+k_{1}\mathcal{L}_{Intra}+k_{2}\mathcal{L}_{Inter}," display="block"><semantics id="S2.E7.m1.1a"><mrow id="S2.E7.m1.1.1.1" xref="S2.E7.m1.1.1.1.1.cmml"><mrow id="S2.E7.m1.1.1.1.1" xref="S2.E7.m1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.1.1.2" xref="S2.E7.m1.1.1.1.1.2.cmml">ℒ</mi><mo id="S2.E7.m1.1.1.1.1.1" xref="S2.E7.m1.1.1.1.1.1.cmml">=</mo><mrow id="S2.E7.m1.1.1.1.1.3" xref="S2.E7.m1.1.1.1.1.3.cmml"><msub id="S2.E7.m1.1.1.1.1.3.2" xref="S2.E7.m1.1.1.1.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.1.1.3.2.2" xref="S2.E7.m1.1.1.1.1.3.2.2.cmml">ℒ</mi><mrow id="S2.E7.m1.1.1.1.1.3.2.3" xref="S2.E7.m1.1.1.1.1.3.2.3.cmml"><mi id="S2.E7.m1.1.1.1.1.3.2.3.2" xref="S2.E7.m1.1.1.1.1.3.2.3.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.2.3.1" xref="S2.E7.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.2.3.3" xref="S2.E7.m1.1.1.1.1.3.2.3.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.2.3.1a" xref="S2.E7.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.2.3.4" xref="S2.E7.m1.1.1.1.1.3.2.3.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.2.3.1b" xref="S2.E7.m1.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.2.3.5" xref="S2.E7.m1.1.1.1.1.3.2.3.5.cmml">A</mi></mrow></msub><mo id="S2.E7.m1.1.1.1.1.3.1" xref="S2.E7.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S2.E7.m1.1.1.1.1.3.3" xref="S2.E7.m1.1.1.1.1.3.3.cmml"><msub id="S2.E7.m1.1.1.1.1.3.3.2" xref="S2.E7.m1.1.1.1.1.3.3.2.cmml"><mi id="S2.E7.m1.1.1.1.1.3.3.2.2" xref="S2.E7.m1.1.1.1.1.3.3.2.2.cmml">k</mi><mn id="S2.E7.m1.1.1.1.1.3.3.2.3" xref="S2.E7.m1.1.1.1.1.3.3.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.3.1" xref="S2.E7.m1.1.1.1.1.3.3.1.cmml">​</mo><msub id="S2.E7.m1.1.1.1.1.3.3.3" xref="S2.E7.m1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.1.1.3.3.3.2" xref="S2.E7.m1.1.1.1.1.3.3.3.2.cmml">ℒ</mi><mrow id="S2.E7.m1.1.1.1.1.3.3.3.3" xref="S2.E7.m1.1.1.1.1.3.3.3.3.cmml"><mi id="S2.E7.m1.1.1.1.1.3.3.3.3.2" xref="S2.E7.m1.1.1.1.1.3.3.3.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.3.3.3.1" xref="S2.E7.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.3.3.3.3" xref="S2.E7.m1.1.1.1.1.3.3.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.3.3.3.1a" xref="S2.E7.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.3.3.3.4" xref="S2.E7.m1.1.1.1.1.3.3.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.3.3.3.1b" xref="S2.E7.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.3.3.3.5" xref="S2.E7.m1.1.1.1.1.3.3.3.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.3.3.3.1c" xref="S2.E7.m1.1.1.1.1.3.3.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.3.3.3.6" xref="S2.E7.m1.1.1.1.1.3.3.3.3.6.cmml">a</mi></mrow></msub></mrow><mo id="S2.E7.m1.1.1.1.1.3.1a" xref="S2.E7.m1.1.1.1.1.3.1.cmml">+</mo><mrow id="S2.E7.m1.1.1.1.1.3.4" xref="S2.E7.m1.1.1.1.1.3.4.cmml"><msub id="S2.E7.m1.1.1.1.1.3.4.2" xref="S2.E7.m1.1.1.1.1.3.4.2.cmml"><mi id="S2.E7.m1.1.1.1.1.3.4.2.2" xref="S2.E7.m1.1.1.1.1.3.4.2.2.cmml">k</mi><mn id="S2.E7.m1.1.1.1.1.3.4.2.3" xref="S2.E7.m1.1.1.1.1.3.4.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.4.1" xref="S2.E7.m1.1.1.1.1.3.4.1.cmml">​</mo><msub id="S2.E7.m1.1.1.1.1.3.4.3" xref="S2.E7.m1.1.1.1.1.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.1.1.1.1.3.4.3.2" xref="S2.E7.m1.1.1.1.1.3.4.3.2.cmml">ℒ</mi><mrow id="S2.E7.m1.1.1.1.1.3.4.3.3" xref="S2.E7.m1.1.1.1.1.3.4.3.3.cmml"><mi id="S2.E7.m1.1.1.1.1.3.4.3.3.2" xref="S2.E7.m1.1.1.1.1.3.4.3.3.2.cmml">I</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.4.3.3.1" xref="S2.E7.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.4.3.3.3" xref="S2.E7.m1.1.1.1.1.3.4.3.3.3.cmml">n</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.4.3.3.1a" xref="S2.E7.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.4.3.3.4" xref="S2.E7.m1.1.1.1.1.3.4.3.3.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.4.3.3.1b" xref="S2.E7.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.4.3.3.5" xref="S2.E7.m1.1.1.1.1.3.4.3.3.5.cmml">e</mi><mo lspace="0em" rspace="0em" id="S2.E7.m1.1.1.1.1.3.4.3.3.1c" xref="S2.E7.m1.1.1.1.1.3.4.3.3.1.cmml">​</mo><mi id="S2.E7.m1.1.1.1.1.3.4.3.3.6" xref="S2.E7.m1.1.1.1.1.3.4.3.3.6.cmml">r</mi></mrow></msub></mrow></mrow></mrow><mo id="S2.E7.m1.1.1.1.2" xref="S2.E7.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.m1.1b"><apply id="S2.E7.m1.1.1.1.1.cmml" xref="S2.E7.m1.1.1.1"><eq id="S2.E7.m1.1.1.1.1.1.cmml" xref="S2.E7.m1.1.1.1.1.1"></eq><ci id="S2.E7.m1.1.1.1.1.2.cmml" xref="S2.E7.m1.1.1.1.1.2">ℒ</ci><apply id="S2.E7.m1.1.1.1.1.3.cmml" xref="S2.E7.m1.1.1.1.1.3"><plus id="S2.E7.m1.1.1.1.1.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.1"></plus><apply id="S2.E7.m1.1.1.1.1.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.3.2.1.cmml" xref="S2.E7.m1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.3.2.2.cmml" xref="S2.E7.m1.1.1.1.1.3.2.2">ℒ</ci><apply id="S2.E7.m1.1.1.1.1.3.2.3.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3"><times id="S2.E7.m1.1.1.1.1.3.2.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3.1"></times><ci id="S2.E7.m1.1.1.1.1.3.2.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3.2">𝐷</ci><ci id="S2.E7.m1.1.1.1.1.3.2.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3.3">𝐴</ci><ci id="S2.E7.m1.1.1.1.1.3.2.3.4.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3.4">𝐿</ci><ci id="S2.E7.m1.1.1.1.1.3.2.3.5.cmml" xref="S2.E7.m1.1.1.1.1.3.2.3.5">𝐴</ci></apply></apply><apply id="S2.E7.m1.1.1.1.1.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.3"><times id="S2.E7.m1.1.1.1.1.3.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.3.1"></times><apply id="S2.E7.m1.1.1.1.1.3.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.3.2"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.3.3.2.1.cmml" xref="S2.E7.m1.1.1.1.1.3.3.2">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.3.3.2.2.cmml" xref="S2.E7.m1.1.1.1.1.3.3.2.2">𝑘</ci><cn type="integer" id="S2.E7.m1.1.1.1.1.3.3.2.3.cmml" xref="S2.E7.m1.1.1.1.1.3.3.2.3">1</cn></apply><apply id="S2.E7.m1.1.1.1.1.3.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.3.3.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.3.3.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.2">ℒ</ci><apply id="S2.E7.m1.1.1.1.1.3.3.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3"><times id="S2.E7.m1.1.1.1.1.3.3.3.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.1"></times><ci id="S2.E7.m1.1.1.1.1.3.3.3.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.2">𝐼</ci><ci id="S2.E7.m1.1.1.1.1.3.3.3.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.3">𝑛</ci><ci id="S2.E7.m1.1.1.1.1.3.3.3.3.4.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.4">𝑡</ci><ci id="S2.E7.m1.1.1.1.1.3.3.3.3.5.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.5">𝑟</ci><ci id="S2.E7.m1.1.1.1.1.3.3.3.3.6.cmml" xref="S2.E7.m1.1.1.1.1.3.3.3.3.6">𝑎</ci></apply></apply></apply><apply id="S2.E7.m1.1.1.1.1.3.4.cmml" xref="S2.E7.m1.1.1.1.1.3.4"><times id="S2.E7.m1.1.1.1.1.3.4.1.cmml" xref="S2.E7.m1.1.1.1.1.3.4.1"></times><apply id="S2.E7.m1.1.1.1.1.3.4.2.cmml" xref="S2.E7.m1.1.1.1.1.3.4.2"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.3.4.2.1.cmml" xref="S2.E7.m1.1.1.1.1.3.4.2">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.3.4.2.2.cmml" xref="S2.E7.m1.1.1.1.1.3.4.2.2">𝑘</ci><cn type="integer" id="S2.E7.m1.1.1.1.1.3.4.2.3.cmml" xref="S2.E7.m1.1.1.1.1.3.4.2.3">2</cn></apply><apply id="S2.E7.m1.1.1.1.1.3.4.3.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.3.4.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.3.4.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.2">ℒ</ci><apply id="S2.E7.m1.1.1.1.1.3.4.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3"><times id="S2.E7.m1.1.1.1.1.3.4.3.3.1.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.1"></times><ci id="S2.E7.m1.1.1.1.1.3.4.3.3.2.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.2">𝐼</ci><ci id="S2.E7.m1.1.1.1.1.3.4.3.3.3.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.3">𝑛</ci><ci id="S2.E7.m1.1.1.1.1.3.4.3.3.4.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.4">𝑡</ci><ci id="S2.E7.m1.1.1.1.1.3.4.3.3.5.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.5">𝑒</ci><ci id="S2.E7.m1.1.1.1.1.3.4.3.3.6.cmml" xref="S2.E7.m1.1.1.1.1.3.4.3.3.6">𝑟</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.m1.1c">\mathcal{L}=\mathcal{L}_{DALA}+k_{1}\mathcal{L}_{Intra}+k_{2}\mathcal{L}_{Inter},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S2.SS4.p1.26" class="ltx_p">where <math id="S2.SS4.p1.24.m1.1" class="ltx_Math" alttext="k_{1}" display="inline"><semantics id="S2.SS4.p1.24.m1.1a"><msub id="S2.SS4.p1.24.m1.1.1" xref="S2.SS4.p1.24.m1.1.1.cmml"><mi id="S2.SS4.p1.24.m1.1.1.2" xref="S2.SS4.p1.24.m1.1.1.2.cmml">k</mi><mn id="S2.SS4.p1.24.m1.1.1.3" xref="S2.SS4.p1.24.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.24.m1.1b"><apply id="S2.SS4.p1.24.m1.1.1.cmml" xref="S2.SS4.p1.24.m1.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.24.m1.1.1.1.cmml" xref="S2.SS4.p1.24.m1.1.1">subscript</csymbol><ci id="S2.SS4.p1.24.m1.1.1.2.cmml" xref="S2.SS4.p1.24.m1.1.1.2">𝑘</ci><cn type="integer" id="S2.SS4.p1.24.m1.1.1.3.cmml" xref="S2.SS4.p1.24.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.24.m1.1c">k_{1}</annotation></semantics></math> and <math id="S2.SS4.p1.25.m2.1" class="ltx_Math" alttext="k_{2}" display="inline"><semantics id="S2.SS4.p1.25.m2.1a"><msub id="S2.SS4.p1.25.m2.1.1" xref="S2.SS4.p1.25.m2.1.1.cmml"><mi id="S2.SS4.p1.25.m2.1.1.2" xref="S2.SS4.p1.25.m2.1.1.2.cmml">k</mi><mn id="S2.SS4.p1.25.m2.1.1.3" xref="S2.SS4.p1.25.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.25.m2.1b"><apply id="S2.SS4.p1.25.m2.1.1.cmml" xref="S2.SS4.p1.25.m2.1.1"><csymbol cd="ambiguous" id="S2.SS4.p1.25.m2.1.1.1.cmml" xref="S2.SS4.p1.25.m2.1.1">subscript</csymbol><ci id="S2.SS4.p1.25.m2.1.1.2.cmml" xref="S2.SS4.p1.25.m2.1.1.2">𝑘</ci><cn type="integer" id="S2.SS4.p1.25.m2.1.1.3.cmml" xref="S2.SS4.p1.25.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.25.m2.1c">k_{2}</annotation></semantics></math> are trade-off hyper-parameters. After minimizing <math id="S2.SS4.p1.26.m3.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S2.SS4.p1.26.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS4.p1.26.m3.1.1" xref="S2.SS4.p1.26.m3.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S2.SS4.p1.26.m3.1b"><ci id="S2.SS4.p1.26.m3.1.1.cmml" xref="S2.SS4.p1.26.m3.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS4.p1.26.m3.1c">\mathcal{L}</annotation></semantics></math> during the local training phase of each client, the global model is updated by FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Experiments</h2>

<section id="S3.SS0.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.0.1 </span>Datasets</h4>

<figure id="S3.F2" class="ltx_figure"><img src="/html/2206.13803/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="234" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Illustration of imbalanced data distributions. The radius of each solid circle represents each client’s data amount of a specific class.</figcaption>
</figure>
<div id="S3.SS0.SSS1.p1" class="ltx_para">
<p id="S3.SS0.SSS1.p1.1" class="ltx_p">Three FL scenarios with class-imbalanced global data are used for evaluation, which are described as follows:</p>
<ol id="S3.I1" class="ltx_enumerate">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p">Real Multi-Source Dermoscopic Image Datasets (denoted as <span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Real</span>) consisting of five data sources from three datasets, including PH<sup id="S3.I1.i1.p1.1.2" class="ltx_sup">2</sup> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>, Atlas <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, and HAM10000 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> where each source is treated as an individual client. For evaluation, we construct a separate test set by randomly sampling from the training set of ISIC 2019 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> and ensure that the test set has no overlap with the above five data sources.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p">Intracranial Hemorrhage Classification (denoted as <span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">ICH</span>). The RNSA ICH dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, containing five ICH subtypes, is adopted for experiments. The same pre-processing strategies in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> are adopted, and images with only one single hemorrhage type are selected. Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, data is split according to 7:1:2 for training, validation, and testing respectively. To simulate heterogeneous multi-source data, following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, Dirichlet distribution, <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_italic">i.e.</span> <math id="S3.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="Dir(\alpha=1.0)" display="inline"><semantics id="S3.I1.i2.p1.1.m1.1a"><mrow id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.1.1.4" xref="S3.I1.i2.p1.1.m1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.1.1.2a" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">​</mo><mi id="S3.I1.i2.p1.1.m1.1.1.5" xref="S3.I1.i2.p1.1.m1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.I1.i2.p1.1.m1.1.1.2b" xref="S3.I1.i2.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.I1.i2.p1.1.m1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.I1.i2.p1.1.m1.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.I1.i2.p1.1.m1.1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.I1.i2.p1.1.m1.1.1.1.1.1.2" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.2.cmml">α</mi><mo id="S3.I1.i2.p1.1.m1.1.1.1.1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.1.cmml">=</mo><mn id="S3.I1.i2.p1.1.m1.1.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.3.cmml">1.0</mn></mrow><mo stretchy="false" id="S3.I1.i2.p1.1.m1.1.1.1.1.3" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><apply id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1"><times id="S3.I1.i2.p1.1.m1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.2"></times><ci id="S3.I1.i2.p1.1.m1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.3">𝐷</ci><ci id="S3.I1.i2.p1.1.m1.1.1.4.cmml" xref="S3.I1.i2.p1.1.m1.1.1.4">𝑖</ci><ci id="S3.I1.i2.p1.1.m1.1.1.5.cmml" xref="S3.I1.i2.p1.1.m1.1.1.5">𝑟</ci><apply id="S3.I1.i2.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1"><eq id="S3.I1.i2.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.1"></eq><ci id="S3.I1.i2.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.2">𝛼</ci><cn type="float" id="S3.I1.i2.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.I1.i2.p1.1.m1.1.1.1.1.1.3">1.0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">Dir(\alpha=1.0)</annotation></semantics></math>, is used to divide the training set to 20 clients.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p">Skin Lesion Classification (denoted as <span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_bold ltx_font_italic">ISIC</span>).The training data of ISIC 2019 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>, containing eight classes, is used for evaluation. Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, we split the dataset by 7:1:2 for training, validation, and testing respectively. Similarly, Dirichlet distribution, <span id="S3.I1.i3.p1.1.2" class="ltx_text ltx_font_italic">i.e.</span> <math id="S3.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="Dir(\alpha=1.0)" display="inline"><semantics id="S3.I1.i3.p1.1.m1.1a"><mrow id="S3.I1.i3.p1.1.m1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.I1.i3.p1.1.m1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">​</mo><mi id="S3.I1.i3.p1.1.m1.1.1.4" xref="S3.I1.i3.p1.1.m1.1.1.4.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.I1.i3.p1.1.m1.1.1.2a" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">​</mo><mi id="S3.I1.i3.p1.1.m1.1.1.5" xref="S3.I1.i3.p1.1.m1.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.I1.i3.p1.1.m1.1.1.2b" xref="S3.I1.i3.p1.1.m1.1.1.2.cmml">​</mo><mrow id="S3.I1.i3.p1.1.m1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.I1.i3.p1.1.m1.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.I1.i3.p1.1.m1.1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml"><mi id="S3.I1.i3.p1.1.m1.1.1.1.1.1.2" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml">α</mi><mo id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.cmml">=</mo><mn id="S3.I1.i3.p1.1.m1.1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.3.cmml">1.0</mn></mrow><mo stretchy="false" id="S3.I1.i3.p1.1.m1.1.1.1.1.3" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i3.p1.1.m1.1b"><apply id="S3.I1.i3.p1.1.m1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1"><times id="S3.I1.i3.p1.1.m1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.2"></times><ci id="S3.I1.i3.p1.1.m1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.3">𝐷</ci><ci id="S3.I1.i3.p1.1.m1.1.1.4.cmml" xref="S3.I1.i3.p1.1.m1.1.1.4">𝑖</ci><ci id="S3.I1.i3.p1.1.m1.1.1.5.cmml" xref="S3.I1.i3.p1.1.m1.1.1.5">𝑟</ci><apply id="S3.I1.i3.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1"><eq id="S3.I1.i3.p1.1.m1.1.1.1.1.1.1.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.1"></eq><ci id="S3.I1.i3.p1.1.m1.1.1.1.1.1.2.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.2">𝛼</ci><cn type="float" id="S3.I1.i3.p1.1.m1.1.1.1.1.1.3.cmml" xref="S3.I1.i3.p1.1.m1.1.1.1.1.1.3">1.0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i3.p1.1.m1.1c">Dir(\alpha=1.0)</annotation></semantics></math>, is used to generate highly heterogeneous data partitions of 10 clients.</p>
</div>
</li>
</ol>
<p id="S3.SS0.SSS1.p1.2" class="ltx_p">Data distributions of the three training settings are illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.0.1 Datasets ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, and imbalance ratios are 35.43, 19.59 and 57.60, respectively.</p>
</div>
</section>
<section id="S3.SS0.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.0.2 </span>Implementation Details</h4>

<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Quantitative comparison results under the <span id="S3.T1.7.1" class="ltx_text ltx_font_italic">Real</span>, <span id="S3.T1.8.2" class="ltx_text ltx_font_italic">ISIC</span>, and <span id="S3.T1.9.3" class="ltx_text ltx_font_italic">ICH</span> settings. For <span id="S3.T1.10.4" class="ltx_text ltx_font_italic">Real</span>, the average results (%) from the last five rounds are reported. For <span id="S3.T1.11.5" class="ltx_text ltx_font_italic">ISIC</span> and <span id="S3.T1.12.6" class="ltx_text ltx_font_italic">ICH</span>, the results (%) based on the best model (evaluated by the validation set) on the testing set are reported. The best results are marked in bold.</figcaption>
<div id="S3.T1.13" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:182.8pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-83.2pt,34.9pt) scale(0.722631737918227,0.722631737918227) ;">
<table id="S3.T1.13.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T1.13.1.1.1" class="ltx_tr">
<th id="S3.T1.13.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" rowspan="3"><span id="S3.T1.13.1.1.1.1.1" class="ltx_text">Methods</span></th>
<th id="S3.T1.13.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" rowspan="3"><span id="S3.T1.13.1.1.1.2.1" class="ltx_text">Year</span></th>
<td id="S3.T1.13.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" colspan="9">Datasets</td>
</tr>
<tr id="S3.T1.13.1.2.2" class="ltx_tr">
<td id="S3.T1.13.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3"><span id="S3.T1.13.1.2.2.1.1" class="ltx_text ltx_font_italic">Real</span></td>
<td id="S3.T1.13.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3"><span id="S3.T1.13.1.2.2.2.1" class="ltx_text ltx_font_italic">ISIC</span></td>
<td id="S3.T1.13.1.2.2.3" class="ltx_td ltx_align_center ltx_border_t" colspan="3"><span id="S3.T1.13.1.2.2.3.1" class="ltx_text ltx_font_italic">ICH</span></td>
</tr>
<tr id="S3.T1.13.1.3.3" class="ltx_tr">
<td id="S3.T1.13.1.3.3.1" class="ltx_td ltx_align_center ltx_border_t">BACC</td>
<td id="S3.T1.13.1.3.3.2" class="ltx_td ltx_align_center ltx_border_t">F1</td>
<td id="S3.T1.13.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ACC</td>
<td id="S3.T1.13.1.3.3.4" class="ltx_td ltx_align_center ltx_border_t">BACC</td>
<td id="S3.T1.13.1.3.3.5" class="ltx_td ltx_align_center ltx_border_t">F1</td>
<td id="S3.T1.13.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">ACC</td>
<td id="S3.T1.13.1.3.3.7" class="ltx_td ltx_align_center ltx_border_t">BACC</td>
<td id="S3.T1.13.1.3.3.8" class="ltx_td ltx_align_center ltx_border_t">F1</td>
<td id="S3.T1.13.1.3.3.9" class="ltx_td ltx_align_center ltx_border_t">ACC</td>
</tr>
<tr id="S3.T1.13.1.4.4" class="ltx_tr">
<th id="S3.T1.13.1.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>
</th>
<th id="S3.T1.13.1.4.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">AISTATS’17</th>
<td id="S3.T1.13.1.4.4.3" class="ltx_td ltx_align_center ltx_border_t">45.21</td>
<td id="S3.T1.13.1.4.4.4" class="ltx_td ltx_align_center ltx_border_t">44.47</td>
<td id="S3.T1.13.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.57</td>
<td id="S3.T1.13.1.4.4.6" class="ltx_td ltx_align_center ltx_border_t">49.41</td>
<td id="S3.T1.13.1.4.4.7" class="ltx_td ltx_align_center ltx_border_t">54.31</td>
<td id="S3.T1.13.1.4.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">72.50</td>
<td id="S3.T1.13.1.4.4.9" class="ltx_td ltx_align_center ltx_border_t">73.75</td>
<td id="S3.T1.13.1.4.4.10" class="ltx_td ltx_align_center ltx_border_t">77.35</td>
<td id="S3.T1.13.1.4.4.11" class="ltx_td ltx_align_center ltx_border_t">84.83</td>
</tr>
<tr id="S3.T1.13.1.5.5" class="ltx_tr">
<th id="S3.T1.13.1.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>
</th>
<th id="S3.T1.13.1.5.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">MLSys’20</th>
<td id="S3.T1.13.1.5.5.3" class="ltx_td ltx_align_center">45.61</td>
<td id="S3.T1.13.1.5.5.4" class="ltx_td ltx_align_center">44.90</td>
<td id="S3.T1.13.1.5.5.5" class="ltx_td ltx_align_center ltx_border_r">44.89</td>
<td id="S3.T1.13.1.5.5.6" class="ltx_td ltx_align_center">69.00</td>
<td id="S3.T1.13.1.5.5.7" class="ltx_td ltx_align_center">69.46</td>
<td id="S3.T1.13.1.5.5.8" class="ltx_td ltx_align_center ltx_border_r">80.50</td>
<td id="S3.T1.13.1.5.5.9" class="ltx_td ltx_align_center">79.62</td>
<td id="S3.T1.13.1.5.5.10" class="ltx_td ltx_align_center">82.45</td>
<td id="S3.T1.13.1.5.5.11" class="ltx_td ltx_align_center">86.78</td>
</tr>
<tr id="S3.T1.13.1.6.6" class="ltx_tr">
<th id="S3.T1.13.1.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>
</th>
<th id="S3.T1.13.1.6.6.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">CVPR’21</th>
<td id="S3.T1.13.1.6.6.3" class="ltx_td ltx_align_center">44.40</td>
<td id="S3.T1.13.1.6.6.4" class="ltx_td ltx_align_center">43.28</td>
<td id="S3.T1.13.1.6.6.5" class="ltx_td ltx_align_center ltx_border_r">43.68</td>
<td id="S3.T1.13.1.6.6.6" class="ltx_td ltx_align_center">66.31</td>
<td id="S3.T1.13.1.6.6.7" class="ltx_td ltx_align_center">71.27</td>
<td id="S3.T1.13.1.6.6.8" class="ltx_td ltx_align_center ltx_border_r">81.38</td>
<td id="S3.T1.13.1.6.6.9" class="ltx_td ltx_align_center">77.05</td>
<td id="S3.T1.13.1.6.6.10" class="ltx_td ltx_align_center">78.81</td>
<td id="S3.T1.13.1.6.6.11" class="ltx_td ltx_align_center">84.87</td>
</tr>
<tr id="S3.T1.13.1.7.7" class="ltx_tr">
<th id="S3.T1.13.1.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FedProc <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>
</th>
<th id="S3.T1.13.1.7.7.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FGCS’23</th>
<td id="S3.T1.13.1.7.7.3" class="ltx_td ltx_align_center">38.83</td>
<td id="S3.T1.13.1.7.7.4" class="ltx_td ltx_align_center">37.98</td>
<td id="S3.T1.13.1.7.7.5" class="ltx_td ltx_align_center ltx_border_r">39.36</td>
<td id="S3.T1.13.1.7.7.6" class="ltx_td ltx_align_center">31.16</td>
<td id="S3.T1.13.1.7.7.7" class="ltx_td ltx_align_center">35.45</td>
<td id="S3.T1.13.1.7.7.8" class="ltx_td ltx_align_center ltx_border_r">66.88</td>
<td id="S3.T1.13.1.7.7.9" class="ltx_td ltx_align_center">73.29</td>
<td id="S3.T1.13.1.7.7.10" class="ltx_td ltx_align_center">76.23</td>
<td id="S3.T1.13.1.7.7.11" class="ltx_td ltx_align_center">84.89</td>
</tr>
<tr id="S3.T1.13.1.8.8" class="ltx_tr">
<th id="S3.T1.13.1.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FedRS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>
</th>
<th id="S3.T1.13.1.8.8.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">KDD’21</th>
<td id="S3.T1.13.1.8.8.3" class="ltx_td ltx_align_center">45.23</td>
<td id="S3.T1.13.1.8.8.4" class="ltx_td ltx_align_center">44.50</td>
<td id="S3.T1.13.1.8.8.5" class="ltx_td ltx_align_center ltx_border_r">44.46</td>
<td id="S3.T1.13.1.8.8.6" class="ltx_td ltx_align_center">24.93</td>
<td id="S3.T1.13.1.8.8.7" class="ltx_td ltx_align_center">26.01</td>
<td id="S3.T1.13.1.8.8.8" class="ltx_td ltx_align_center ltx_border_r">61.39</td>
<td id="S3.T1.13.1.8.8.9" class="ltx_td ltx_align_center">72.44</td>
<td id="S3.T1.13.1.8.8.10" class="ltx_td ltx_align_center">76.51</td>
<td id="S3.T1.13.1.8.8.11" class="ltx_td ltx_align_center">84.13</td>
</tr>
<tr id="S3.T1.13.1.9.9" class="ltx_tr">
<th id="S3.T1.13.1.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FedLC <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite>
</th>
<th id="S3.T1.13.1.9.9.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">ICML’22</th>
<td id="S3.T1.13.1.9.9.3" class="ltx_td ltx_align_center">46.73</td>
<td id="S3.T1.13.1.9.9.4" class="ltx_td ltx_align_center">45.88</td>
<td id="S3.T1.13.1.9.9.5" class="ltx_td ltx_align_center ltx_border_r">45.60</td>
<td id="S3.T1.13.1.9.9.6" class="ltx_td ltx_align_center">45.84</td>
<td id="S3.T1.13.1.9.9.7" class="ltx_td ltx_align_center">41.89</td>
<td id="S3.T1.13.1.9.9.8" class="ltx_td ltx_align_center ltx_border_r">70.33</td>
<td id="S3.T1.13.1.9.9.9" class="ltx_td ltx_align_center">76.53</td>
<td id="S3.T1.13.1.9.9.10" class="ltx_td ltx_align_center">78.96</td>
<td id="S3.T1.13.1.9.9.11" class="ltx_td ltx_align_center">84.92</td>
</tr>
<tr id="S3.T1.13.1.10.10" class="ltx_tr">
<th id="S3.T1.13.1.10.10.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">FedFocal <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>
</th>
<th id="S3.T1.13.1.10.10.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">IJCAI’20</th>
<td id="S3.T1.13.1.10.10.3" class="ltx_td ltx_align_center">44.00</td>
<td id="S3.T1.13.1.10.10.4" class="ltx_td ltx_align_center">43.31</td>
<td id="S3.T1.13.1.10.10.5" class="ltx_td ltx_align_center ltx_border_r">42.96</td>
<td id="S3.T1.13.1.10.10.6" class="ltx_td ltx_align_center">47.68</td>
<td id="S3.T1.13.1.10.10.7" class="ltx_td ltx_align_center">38.29</td>
<td id="S3.T1.13.1.10.10.8" class="ltx_td ltx_align_center ltx_border_r">56.99</td>
<td id="S3.T1.13.1.10.10.9" class="ltx_td ltx_align_center">63.04</td>
<td id="S3.T1.13.1.10.10.10" class="ltx_td ltx_align_center">54.80</td>
<td id="S3.T1.13.1.10.10.11" class="ltx_td ltx_align_center">52.30</td>
</tr>
<tr id="S3.T1.13.1.11.11" class="ltx_tr">
<th id="S3.T1.13.1.11.11.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">PRR-Imb <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>
</th>
<th id="S3.T1.13.1.11.11.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">TMI’22</th>
<td id="S3.T1.13.1.11.11.3" class="ltx_td ltx_align_center">50.49</td>
<td id="S3.T1.13.1.11.11.4" class="ltx_td ltx_align_center">47.60</td>
<td id="S3.T1.13.1.11.11.5" class="ltx_td ltx_align_center ltx_border_r">47.48</td>
<td id="S3.T1.13.1.11.11.6" class="ltx_td ltx_align_center">49.97</td>
<td id="S3.T1.13.1.11.11.7" class="ltx_td ltx_align_center">46.52</td>
<td id="S3.T1.13.1.11.11.8" class="ltx_td ltx_align_center ltx_border_r">68.18</td>
<td id="S3.T1.13.1.11.11.9" class="ltx_td ltx_align_center">71.72</td>
<td id="S3.T1.13.1.11.11.10" class="ltx_td ltx_align_center">69.98</td>
<td id="S3.T1.13.1.11.11.11" class="ltx_td ltx_align_center">78.85</td>
</tr>
<tr id="S3.T1.13.1.12.12" class="ltx_tr">
<th id="S3.T1.13.1.12.12.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">CLIMB <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>
</th>
<th id="S3.T1.13.1.12.12.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">ICLR’22</th>
<td id="S3.T1.13.1.12.12.3" class="ltx_td ltx_align_center">46.07</td>
<td id="S3.T1.13.1.12.12.4" class="ltx_td ltx_align_center">45.91</td>
<td id="S3.T1.13.1.12.12.5" class="ltx_td ltx_align_center ltx_border_r">45.86</td>
<td id="S3.T1.13.1.12.12.6" class="ltx_td ltx_align_center">49.70</td>
<td id="S3.T1.13.1.12.12.7" class="ltx_td ltx_align_center">52.32</td>
<td id="S3.T1.13.1.12.12.8" class="ltx_td ltx_align_center ltx_border_r">71.65</td>
<td id="S3.T1.13.1.12.12.9" class="ltx_td ltx_align_center">72.64</td>
<td id="S3.T1.13.1.12.12.10" class="ltx_td ltx_align_center">76.08</td>
<td id="S3.T1.13.1.12.12.11" class="ltx_td ltx_align_center">84.73</td>
</tr>
<tr id="S3.T1.13.1.13.13" class="ltx_tr">
<th id="S3.T1.13.1.13.13.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">CReFF <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>
</th>
<th id="S3.T1.13.1.13.13.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">IJCAI’22</th>
<td id="S3.T1.13.1.13.13.3" class="ltx_td ltx_align_center">51.13</td>
<td id="S3.T1.13.1.13.13.4" class="ltx_td ltx_align_center">48.56</td>
<td id="S3.T1.13.1.13.13.5" class="ltx_td ltx_align_center ltx_border_r">49.46</td>
<td id="S3.T1.13.1.13.13.6" class="ltx_td ltx_align_center">71.52</td>
<td id="S3.T1.13.1.13.13.7" class="ltx_td ltx_align_center">57.83</td>
<td id="S3.T1.13.1.13.13.8" class="ltx_td ltx_align_center ltx_border_r">72.92</td>
<td id="S3.T1.13.1.13.13.9" class="ltx_td ltx_align_center">82.21</td>
<td id="S3.T1.13.1.13.13.10" class="ltx_td ltx_align_center">74.64</td>
<td id="S3.T1.13.1.13.13.11" class="ltx_td ltx_align_center">81.63</td>
</tr>
<tr id="S3.T1.13.1.14.14" class="ltx_tr">
<th id="S3.T1.13.1.14.14.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">FedIIC (ours)</th>
<th id="S3.T1.13.1.14.14.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">-</th>
<td id="S3.T1.13.1.14.14.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.3.1" class="ltx_text ltx_font_bold">55.12</span></td>
<td id="S3.T1.13.1.14.14.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.4.1" class="ltx_text ltx_font_bold">51.57</span></td>
<td id="S3.T1.13.1.14.14.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.13.1.14.14.5.1" class="ltx_text ltx_font_bold">51.67</span></td>
<td id="S3.T1.13.1.14.14.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.6.1" class="ltx_text ltx_font_bold">78.84</span></td>
<td id="S3.T1.13.1.14.14.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.7.1" class="ltx_text ltx_font_bold">78.05</span></td>
<td id="S3.T1.13.1.14.14.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.13.1.14.14.8.1" class="ltx_text ltx_font_bold">85.71</span></td>
<td id="S3.T1.13.1.14.14.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.9.1" class="ltx_text ltx_font_bold">84.22</span></td>
<td id="S3.T1.13.1.14.14.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.10.1" class="ltx_text ltx_font_bold">84.73</span></td>
<td id="S3.T1.13.1.14.14.11" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t"><span id="S3.T1.13.1.14.14.11.1" class="ltx_text ltx_font_bold">87.77</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S3.SS0.SSS2.p1" class="ltx_para">
<p id="S3.SS0.SSS2.p1.2" class="ltx_p">EfficientNet-B0 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>, pre-trained by ImageNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, is adopted as the backbone trained by an Adam optimizer with betas as 0.9 and 0.999, a weight decay as 5e-4, constant learning rates of 1e-4 for <span id="S3.SS0.SSS2.p1.2.1" class="ltx_text ltx_font_italic">Real</span> and 3e-4 for both <span id="S3.SS0.SSS2.p1.2.2" class="ltx_text ltx_font_italic">ICH</span> and <span id="S3.SS0.SSS2.p1.2.3" class="ltx_text ltx_font_italic">ISIC</span>, and a batch size of 32. For <span id="S3.SS0.SSS2.p1.2.4" class="ltx_text ltx_font_italic">ICH</span>, the multi-view batch for contrastive learning is generated by following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. For both <span id="S3.SS0.SSS2.p1.2.5" class="ltx_text ltx_font_italic">Real</span> and <span id="S3.SS0.SSS2.p1.2.6" class="ltx_text ltx_font_italic">ISIC</span>, the multi-view batch is generated by 1) RandAug <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> and 2) SimAugment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. The hyper-parameters <math id="S3.SS0.SSS2.p1.1.m1.1" class="ltx_Math" alttext="k_{1}" display="inline"><semantics id="S3.SS0.SSS2.p1.1.m1.1a"><msub id="S3.SS0.SSS2.p1.1.m1.1.1" xref="S3.SS0.SSS2.p1.1.m1.1.1.cmml"><mi id="S3.SS0.SSS2.p1.1.m1.1.1.2" xref="S3.SS0.SSS2.p1.1.m1.1.1.2.cmml">k</mi><mn id="S3.SS0.SSS2.p1.1.m1.1.1.3" xref="S3.SS0.SSS2.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.1.m1.1b"><apply id="S3.SS0.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.1.m1.1.1.1.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.1.m1.1.1.2.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.2">𝑘</ci><cn type="integer" id="S3.SS0.SSS2.p1.1.m1.1.1.3.cmml" xref="S3.SS0.SSS2.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.1.m1.1c">k_{1}</annotation></semantics></math> and <math id="S3.SS0.SSS2.p1.2.m2.1" class="ltx_Math" alttext="k_{2}" display="inline"><semantics id="S3.SS0.SSS2.p1.2.m2.1a"><msub id="S3.SS0.SSS2.p1.2.m2.1.1" xref="S3.SS0.SSS2.p1.2.m2.1.1.cmml"><mi id="S3.SS0.SSS2.p1.2.m2.1.1.2" xref="S3.SS0.SSS2.p1.2.m2.1.1.2.cmml">k</mi><mn id="S3.SS0.SSS2.p1.2.m2.1.1.3" xref="S3.SS0.SSS2.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS2.p1.2.m2.1b"><apply id="S3.SS0.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS2.p1.2.m2.1.1.1.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS0.SSS2.p1.2.m2.1.1.2.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.2">𝑘</ci><cn type="integer" id="S3.SS0.SSS2.p1.2.m2.1.1.3.cmml" xref="S3.SS0.SSS2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS2.p1.2.m2.1c">k_{2}</annotation></semantics></math> in Eq. <a href="#S2.E7" title="In 2.4 Difficulty-Aware Logit Adjustment ‣ 2 Methodology ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> are set as 2.0. For federated training, the local training epoch is set as 1 and the global training round is set as 200 for <span id="S3.SS0.SSS2.p1.2.7" class="ltx_text ltx_font_italic">ICH</span> and <span id="S3.SS0.SSS2.p1.2.8" class="ltx_text ltx_font_italic">ISIC</span> and 30 for <span id="S3.SS0.SSS2.p1.2.9" class="ltx_text ltx_font_italic">Real</span>. At each round, all clients (<span id="S3.SS0.SSS2.p1.2.10" class="ltx_text ltx_font_italic">i.e.</span>, 100%) are included for model aggregation.</p>
</div>
</section>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Comparison with State-of-the-art Methods</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">Ten related approaches are included for comprehensive comparison, including FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, FedProx <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> addressing data heterogeneity, MOON <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> and FedProc <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> utilizing contrastive learning in FL, FedFocal <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite> utilizing focal loss <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite> for balancing, FedRS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> addressing the class-missing problem, FedLC <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib43" title="" class="ltx_ref">43</a>]</cite> applying frequency-dependent logits adjustment in FL, PRR-Imb <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> training personalized models with heterogeneous and imbalanced data, and CLIMB <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> and CReFF <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> addressing class-imbalance global data in FL. All the methods share the same experimental details described above for a fair comparison. <span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_italic">More implementation details and visualization results can be found in supplemental materials.</span></p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">Following the ISIC 2019 competition, balanced accuracy (BACC) is used as the primary metric for class-imbalanced testing sets. Two key metrics in classification, <span id="S3.SS1.p2.1.1" class="ltx_text ltx_font_italic">i.e.</span> F1 score (F1) and accuracy (ACC) are also employed for evaluation. Comparison results are summarized in Tab. <a href="#S3.T1" title="Table 1 ‣ 3.0.2 Implementation Details ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. As can see, FedIIC achieves the best performance against all previous methods across the three metrics, outperforming the second-best approach (CReFF) by 3.99%, 7.32%, and 2.01% in BACC on <span id="S3.SS1.p2.1.2" class="ltx_text ltx_font_italic">Real</span>, <span id="S3.SS1.p2.1.3" class="ltx_text ltx_font_italic">ISIC</span>, and <span id="S3.SS1.p2.1.4" class="ltx_text ltx_font_italic">ICH</span> respectively.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Ablation Study</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">To validate the effectiveness of each component in FedIIC, a series of ablation studies are conducted on <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_italic">ISIC</span> and <span id="S3.SS2.p1.1.2" class="ltx_text ltx_font_italic">ICH</span> following the same experimental details described in Section <a href="#S3.SS0.SSS2" title="3.0.2 Implementation Details ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.0.2</span></a>. Quantitative results are summarized in Tab. <a href="#S3.T3" title="Table 3 ‣ 3.2 Ablation Study ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Under severe global imbalance, FedAvg is struggling. With the introduction of DALA, the performance is improved in BACC but degraded in F1. It is consistent with the quantitative results between CReFF and FedAvg on <span id="S3.SS2.p1.1.3" class="ltx_text ltx_font_italic">ICH</span> in Tab. <a href="#S3.T1" title="Table 1 ‣ 3.0.2 Implementation Details ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, indicating the limitation of only eliminating class bias through classifier calibration while ignoring attribute bias. The above results validate the necessity of addressing the imbalance in feature learning for performance improvement. Therefore, introducing either intra- or inter-client contrastive learning for better representation learning under class imbalance is beneficial in both BACC and F1. By combining all the components, FedIIC achieves the best overall performance, outperforming FedAvg with large margins.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.3" class="ltx_p">Ablation studies of hyper-parameters in FedIIC are conducted on <span id="S3.SS2.p2.3.1" class="ltx_text ltx_font_italic">ISIC</span> as stated in Tab. <a href="#S3.T3" title="Table 3 ‣ 3.2 Ablation Study ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Setting <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="t=0" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mrow id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">t</mi><mo id="S3.SS2.p2.1.m1.1.1.1" xref="S3.SS2.p2.1.m1.1.1.1.cmml">=</mo><mn id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><eq id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1.1"></eq><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝑡</ci><cn type="integer" id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">t=0</annotation></semantics></math> encounters noticeable performance degradation, indicating the necessity of dynamic temperatures based on class priors in intra-client contrastive learning. Meanwhile, the performance gap between the initial prototypes <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="\widetilde{V}" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mover accent="true" id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">V</mi><mo id="S3.SS2.p2.2.m2.1.1.1" xref="S3.SS2.p2.2.m2.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><ci id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1.1">~</ci><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝑉</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\widetilde{V}</annotation></semantics></math> with and without orthogonalization validates the effectiveness of reducing inter-class similarity in prototypes. When introducing difficulty to logit adjustment (<span id="S3.SS2.p2.3.2" class="ltx_text ltx_font_italic">i.e.</span>, <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="d=0.25" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">d</mi><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">=</mo><mn id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml">0.25</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><eq id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></eq><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝑑</ci><cn type="float" id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3">0.25</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">d=0.25</annotation></semantics></math>), we observe an increase in BACC and a decrease in F1, which is consistent with the above analysis in Tab. <a href="#S3.T1" title="Table 1 ‣ 3.0.2 Implementation Details ‣ 3 Experiments ‣ FedIIC: Towards Robust Federated Learning for Class-Imbalanced Medical Image Classification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> (<span id="S3.SS2.p2.3.3" class="ltx_text ltx_font_italic">i.e.</span>, CReFF vs. FedAvg).</p>
</div>
<figure id="S3.T3" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.T3.fig1" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:260.2pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 2: </span>Component-wise study.</figcaption>
<table id="S3.T3.fig1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.fig1.1.1.1" class="ltx_tr">
<th id="S3.T3.fig1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_border_t" rowspan="2"><span id="S3.T3.fig1.1.1.1.1.1" class="ltx_text">FedAvg</span></th>
<th id="S3.T3.fig1.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_tt ltx_border_t" rowspan="2"><span id="S3.T3.fig1.1.1.1.2.1" class="ltx_text">DALA</span></th>
<th id="S3.T3.fig1.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" rowspan="2"><span id="S3.T3.fig1.1.1.1.3.1" class="ltx_text">Intra</span></th>
<th id="S3.T3.fig1.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt ltx_border_t" rowspan="2"><span id="S3.T3.fig1.1.1.1.4.1" class="ltx_text">Inter</span></th>
<th id="S3.T3.fig1.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt ltx_border_t" colspan="2"><span id="S3.T3.fig1.1.1.1.5.1" class="ltx_text ltx_font_italic">ISIC</span></th>
<th id="S3.T3.fig1.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" colspan="2"><span id="S3.T3.fig1.1.1.1.6.1" class="ltx_text ltx_font_italic">ICH</span></th>
</tr>
<tr id="S3.T3.fig1.1.2.2" class="ltx_tr">
<th id="S3.T3.fig1.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">BACC</th>
<th id="S3.T3.fig1.1.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">F1</th>
<th id="S3.T3.fig1.1.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">BACC</th>
<th id="S3.T3.fig1.1.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">F1</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.fig1.1.3.1" class="ltx_tr">
<th id="S3.T3.fig1.1.3.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t">✓</th>
<th id="S3.T3.fig1.1.3.1.2" class="ltx_td ltx_th ltx_th_row ltx_border_t"></th>
<td id="S3.T3.fig1.1.3.1.3" class="ltx_td ltx_border_t"></td>
<td id="S3.T3.fig1.1.3.1.4" class="ltx_td ltx_border_r ltx_border_t"></td>
<td id="S3.T3.fig1.1.3.1.5" class="ltx_td ltx_align_center ltx_border_t">49.41</td>
<td id="S3.T3.fig1.1.3.1.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">54.31</td>
<td id="S3.T3.fig1.1.3.1.7" class="ltx_td ltx_align_center ltx_border_t">73.75</td>
<td id="S3.T3.fig1.1.3.1.8" class="ltx_td ltx_align_center ltx_border_t">77.35</td>
</tr>
<tr id="S3.T3.fig1.1.4.2" class="ltx_tr">
<th id="S3.T3.fig1.1.4.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S3.T3.fig1.1.4.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S3.T3.fig1.1.4.2.3" class="ltx_td"></td>
<td id="S3.T3.fig1.1.4.2.4" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.fig1.1.4.2.5" class="ltx_td ltx_align_center">50.65</td>
<td id="S3.T3.fig1.1.4.2.6" class="ltx_td ltx_align_center ltx_border_r">42.12</td>
<td id="S3.T3.fig1.1.4.2.7" class="ltx_td ltx_align_center">81.26</td>
<td id="S3.T3.fig1.1.4.2.8" class="ltx_td ltx_align_center">76.47</td>
</tr>
<tr id="S3.T3.fig1.1.5.3" class="ltx_tr">
<th id="S3.T3.fig1.1.5.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S3.T3.fig1.1.5.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S3.T3.fig1.1.5.3.3" class="ltx_td ltx_align_center">✓</td>
<td id="S3.T3.fig1.1.5.3.4" class="ltx_td ltx_border_r"></td>
<td id="S3.T3.fig1.1.5.3.5" class="ltx_td ltx_align_center">51.30</td>
<td id="S3.T3.fig1.1.5.3.6" class="ltx_td ltx_align_center ltx_border_r">43.84</td>
<td id="S3.T3.fig1.1.5.3.7" class="ltx_td ltx_align_center">81.96</td>
<td id="S3.T3.fig1.1.5.3.8" class="ltx_td ltx_align_center">82.68</td>
</tr>
<tr id="S3.T3.fig1.1.6.4" class="ltx_tr">
<th id="S3.T3.fig1.1.6.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<th id="S3.T3.fig1.1.6.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row">✓</th>
<td id="S3.T3.fig1.1.6.4.3" class="ltx_td"></td>
<td id="S3.T3.fig1.1.6.4.4" class="ltx_td ltx_align_center ltx_border_r">✓</td>
<td id="S3.T3.fig1.1.6.4.5" class="ltx_td ltx_align_center">75.78</td>
<td id="S3.T3.fig1.1.6.4.6" class="ltx_td ltx_align_center ltx_border_r">76.55</td>
<td id="S3.T3.fig1.1.6.4.7" class="ltx_td ltx_align_center">83.81</td>
<td id="S3.T3.fig1.1.6.4.8" class="ltx_td ltx_align_center">82.39</td>
</tr>
<tr id="S3.T3.fig1.1.7.5" class="ltx_tr">
<th id="S3.T3.fig1.1.7.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b">✓</th>
<th id="S3.T3.fig1.1.7.5.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b">✓</th>
<td id="S3.T3.fig1.1.7.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b">✓</td>
<td id="S3.T3.fig1.1.7.5.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r">✓</td>
<td id="S3.T3.fig1.1.7.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b"><span id="S3.T3.fig1.1.7.5.5.1" class="ltx_text ltx_font_bold">78.84</span></td>
<td id="S3.T3.fig1.1.7.5.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r"><span id="S3.T3.fig1.1.7.5.6.1" class="ltx_text ltx_font_bold">78.05</span></td>
<td id="S3.T3.fig1.1.7.5.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b"><span id="S3.T3.fig1.1.7.5.7.1" class="ltx_text ltx_font_bold">84.22</span></td>
<td id="S3.T3.fig1.1.7.5.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b"><span id="S3.T3.fig1.1.7.5.8.1" class="ltx_text ltx_font_bold">84.73</span></td>
</tr>
</tbody>
</table>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.T3.3" class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_center ltx_align_middle" style="width:169.1pt;">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Table 3: </span>Parameter-wise study.</figcaption>
<table id="S3.T3.3.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.3.3.4.1" class="ltx_tr">
<th id="S3.T3.3.3.4.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" colspan="2">Param</th>
<th id="S3.T3.3.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t">BACC</th>
<th id="S3.T3.3.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t">F1</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.1.1.1" class="ltx_tr">
<th id="S3.T3.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="S3.T3.1.1.1.1.1" class="ltx_text"><math id="S3.T3.1.1.1.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.T3.1.1.1.1.1.m1.1a"><mi id="S3.T3.1.1.1.1.1.m1.1.1" xref="S3.T3.1.1.1.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.1.1.m1.1b"><ci id="S3.T3.1.1.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.1.1.m1.1c">t</annotation></semantics></math></span></th>
<th id="S3.T3.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">0.0</th>
<td id="S3.T3.1.1.1.3" class="ltx_td ltx_align_center ltx_border_t">76.33</td>
<td id="S3.T3.1.1.1.4" class="ltx_td ltx_align_center ltx_border_t">75.43</td>
</tr>
<tr id="S3.T3.3.3.5.1" class="ltx_tr">
<th id="S3.T3.3.3.5.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">0.5</th>
<td id="S3.T3.3.3.5.1.2" class="ltx_td ltx_align_center"><span id="S3.T3.3.3.5.1.2.1" class="ltx_text ltx_font_bold">78.84</span></td>
<td id="S3.T3.3.3.5.1.3" class="ltx_td ltx_align_center"><span id="S3.T3.3.3.5.1.3.1" class="ltx_text ltx_font_bold">78.05</span></td>
</tr>
<tr id="S3.T3.2.2.2" class="ltx_tr">
<th id="S3.T3.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" rowspan="2"><span id="S3.T3.2.2.2.1.1" class="ltx_text"><math id="S3.T3.2.2.2.1.1.m1.1" class="ltx_Math" alttext="orth." display="inline"><semantics id="S3.T3.2.2.2.1.1.m1.1a"><mrow id="S3.T3.2.2.2.1.1.m1.1.1.1" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.cmml"><mrow id="S3.T3.2.2.2.1.1.m1.1.1.1.1" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.cmml"><mi id="S3.T3.2.2.2.1.1.m1.1.1.1.1.2" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.2.cmml">o</mi><mo lspace="0em" rspace="0em" id="S3.T3.2.2.2.1.1.m1.1.1.1.1.1" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.T3.2.2.2.1.1.m1.1.1.1.1.3" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.3.cmml">r</mi><mo lspace="0em" rspace="0em" id="S3.T3.2.2.2.1.1.m1.1.1.1.1.1a" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.T3.2.2.2.1.1.m1.1.1.1.1.4" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.4.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.T3.2.2.2.1.1.m1.1.1.1.1.1b" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.1.cmml">​</mo><mi id="S3.T3.2.2.2.1.1.m1.1.1.1.1.5" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.5.cmml">h</mi></mrow><mo lspace="0em" id="S3.T3.2.2.2.1.1.m1.1.1.1.2" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.1.1.m1.1b"><apply id="S3.T3.2.2.2.1.1.m1.1.1.1.1.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1"><times id="S3.T3.2.2.2.1.1.m1.1.1.1.1.1.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.1"></times><ci id="S3.T3.2.2.2.1.1.m1.1.1.1.1.2.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.2">𝑜</ci><ci id="S3.T3.2.2.2.1.1.m1.1.1.1.1.3.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.3">𝑟</ci><ci id="S3.T3.2.2.2.1.1.m1.1.1.1.1.4.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.4">𝑡</ci><ci id="S3.T3.2.2.2.1.1.m1.1.1.1.1.5.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.1.1.5">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.1.1.m1.1c">orth.</annotation></semantics></math></span></th>
<th id="S3.T3.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">w/o</th>
<td id="S3.T3.2.2.2.3" class="ltx_td ltx_align_center ltx_border_t">72.64</td>
<td id="S3.T3.2.2.2.4" class="ltx_td ltx_align_center ltx_border_t">75.34</td>
</tr>
<tr id="S3.T3.3.3.6.2" class="ltx_tr">
<th id="S3.T3.3.3.6.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">w</th>
<td id="S3.T3.3.3.6.2.2" class="ltx_td ltx_align_center"><span id="S3.T3.3.3.6.2.2.1" class="ltx_text ltx_font_bold">78.84</span></td>
<td id="S3.T3.3.3.6.2.3" class="ltx_td ltx_align_center"><span id="S3.T3.3.3.6.2.3.1" class="ltx_text ltx_font_bold">78.05</span></td>
</tr>
<tr id="S3.T3.3.3.3" class="ltx_tr">
<th id="S3.T3.3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r ltx_border_t" rowspan="2"><span id="S3.T3.3.3.3.1.1" class="ltx_text"><math id="S3.T3.3.3.3.1.1.m1.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.T3.3.3.3.1.1.m1.1a"><mi id="S3.T3.3.3.3.1.1.m1.1.1" xref="S3.T3.3.3.3.1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.1.1.m1.1b"><ci id="S3.T3.3.3.3.1.1.m1.1.1.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.1.1.m1.1c">d</annotation></semantics></math></span></th>
<th id="S3.T3.3.3.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">0.0</th>
<td id="S3.T3.3.3.3.3" class="ltx_td ltx_align_center ltx_border_t">77.32</td>
<td id="S3.T3.3.3.3.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.3.3.3.4.1" class="ltx_text ltx_font_bold">78.41</span></td>
</tr>
<tr id="S3.T3.3.3.7.3" class="ltx_tr">
<th id="S3.T3.3.3.7.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r">0.25</th>
<td id="S3.T3.3.3.7.3.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b"><span id="S3.T3.3.3.7.3.2.1" class="ltx_text ltx_font_bold">78.84</span></td>
<td id="S3.T3.3.3.7.3.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b">78.05</td>
</tr>
</tbody>
</table>
</figure>
</div>
</div>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">This paper discusses a more realistic federated learning (FL) setting in medical scenarios where global data is class-imbalanced and presents a novel framework FedIIC. The key idea behind FedIIC is to calibrate both the feature extractor and the classification head to simultaneously eliminate attribute biases and class biases. Specifically, both intra- and inter-client contrastive learning are introduced for balanced feature learning, and difficulty-aware logit adjustment is deployed to balance decision boundaries across classes. Experimental results on both real-world and simulated medical FL scenarios demonstrate FedIIC’s superiority against the state-of-the-art FL approaches. We believe that this study is helpful to build real-world FL systems for clinical applications.

<br class="ltx_break">
<br class="ltx_break"><span id="S4.p1.1.1" class="ltx_text ltx_font_bold">Acknowledgement.</span> This work was supported in part by the National Natural Science Foundation of China under Grants 62202179 and 62271220, in part by the Natural Science Foundation of Hubei Province of China under Grant 2022CFB585, and in part by the Research Grants Council GRF Grant 16203319. The computation is supported by the HPC Platform of HUST.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Argenziano, G., et al.: Interactive atlas of dermoscopy (2000)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Cao, K., Wei, C., Gaidon, A., Arechiga, N., Ma, T.: Learning imbalanced
datasets with label-distribution-aware margin loss. In: NeurIPS (2019)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Chen, T., Kornblith, S., Norouzi, M., Hinton, G.: A simple framework for
contrastive learning of visual representations. In: ICML. pp. 1597–1607
(2020)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Chen, Z., Yang, C., Zhu, M., Peng, Z., Yuan, Y.: Personalized
retrogress-resilient federated learning toward imbalanced medical data. IEEE
Trans. Med. Imaging <span id="bib.bib4.1.1" class="ltx_text ltx_font_bold">41</span>(12), 3663–3674 (2022)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Combalia, M., et al.: BCN20000: Dermoscopic lesions in the wild.
arXiv:1908.02288 (2019)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Cubuk, E.D., Zoph, B., Shlens, J., Le, Q.V.: RandAugment: Practical automated
data augmentation with a reduced search space. In: NeurIPS (2020)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Cui, Y., Jia, M., Lin, T.Y., Song, Y., Belongie, S.: Class-balanced loss based
on effective number of samples. In: CVPR. pp. 9268–9277 (2019)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Deng, J., et al.: Imagenet: A large-scale hierarchical image database. In:
CVPR. pp. 248–255 (2009)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Duan, M., et al.: Self-balancing federated learning with global imbalanced data
in mobile systems. IEEE Trans. Parallel. Distrib. Syst. <span id="bib.bib9.1.1" class="ltx_text ltx_font_bold">32</span>(1),
59–71 (2020)

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Flanders, A.E., et al.: Construction of a machine learning dataset through
collaboration: The RSNA 2019 brain CT hemorrhage challenge. Radiol.
Artif. Intel. <span id="bib.bib10.1.1" class="ltx_text ltx_font_bold">2</span>(3), e190211 (2020)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Graf, F., Hofer, C., Niethammer, M., Kwitt, R.: Dissecting supervised
constrastive learning. In: ICML. pp. 3821–3830 (2021)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Guo, Q., Qi, Y., Qi, S., Wu, D.: Dual class-aware contrastive federated
semi-supervised learning. arXiv:2211.08914 (2022)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Jiang, M., Wang, Z., Dou, Q.: HarmoFL: Harmonizing local and global drifts in
federated learning on heterogeneous medical images. In: AAAI. pp. 1087–1095
(2022)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Jiang, M., et al.: Dynamic bank learning for semi-supervised federated image
diagnosis with class imbalance. In: MICCAI. pp. 196–206 (2022)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Ju, L., ohters: Flexible sampling for long-tailed skin lesion classification.
In: MICCAI. pp. 462–471 (2022)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Kang, B., Li, Y., Xie, S., Yuan, Z., Feng, J.: Exploring balanced feature
spaces for representation learning. In: ICLR (2021)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Kang, B., et al.: Decoupling representation and classifier for long-tailed
recognition. In: ICLR (2020)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Khosla, P., et al.: Supervised contrastive learning. In: NeurIPS. pp.
18661–18673 (2020)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Li, Q., He, B., Song, D.: Model-contrastive federated learning. In: CVPR. pp.
10713–10722 (2021)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Li, T., et al.: Federated optimization in heterogeneous networks. In: MLSys.
pp. 429–450 (2020)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Li, T., et al.: Targeted supervised contrastive learning for long-tailed
recognition. In: CVPR. pp. 6918–6928 (2022)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Li, X., Jiang, M., Zhang, X., Kamp, M., Dou, Q.: FedBN: Federated learning on
non-IID features via local batch normalization. In: ICLR (2021)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Li, X.C., Zhan, D.C.: FedRS: Federated learning with restricted softmax for
label distribution non-iid data. In: KDD. pp. 995–1005 (2021)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Lin, T.Y., Goyal, P., Girshick, R., He, K., Dollár, P.: Focal loss for
dense object detection. In: CVPR. pp. 2980–2988 (2017)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Liu, Q., Chen, C., Qin, J., Dou, Q., Heng, P.A.: FedDG: Federated domain
generalization on medical image segmentation via episodic learning in
continuous frequency space. In: CVPR. pp. 1013–1023 (2021)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Liu, Q., Yang, H., Dou, Q., Heng, P.A.: Federated semi-supervised medical image
classification via inter-client relation matching. In: MICCAI. pp. 325–335
(2021)

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Marrakchi, Y., Makansi, O., Brox, T.: Fighting class imbalance with contrastive
learning. In: MICCAI. pp. 466–476 (2021)

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
McMahan, B., Moore, E., Ramage, D., Hampson, S., y Arcas, B.A.:
Communication-efficient learning of deep networks from decentralized data.
In: AISTATS. pp. 1273–1282 (2017)

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Mendonça, T., Ferreira, P.M., Marques, J.S., Marcal, A.R., Rozeira, J.:
PH2-A dermoscopic image database for research and benchmarking. In: EMBC.
pp. 5437–5440 (2013)

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Menon, A.K., et al.: Long-tail learning via logit adjustment. In: ICLR (2021)

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Mu, X., et al.: FedProc: Prototypical contrastive federated learning on
non-iid data. Future Gener. Comput. Syst. (2023)

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Papyan, V., Han, X., Donoho, D.L.: Prevalence of neural collapse during the
terminal phase of deep learning training. Proc. Natl. Acad. Sci. U.S.A.
<span id="bib.bib32.1.1" class="ltx_text ltx_font_bold">117</span>(40), 24652–24663 (2020)

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Sarkar, D., Narang, A., Rai, S.: Fed-Focal loss for imbalanced data
classification in federated learning. In: IJCAI (2020)

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Shang, X., Lu, Y., Huang, G., Wang, H.: Federated learning on heterogeneous and
long-tailed data via classifier re-training with federated features. In:
IJCAI (2022)

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Shen, Z., Cervino, J., Hassani, H., Ribeiro, A.: An agnostic approach to
federated learning with class imbalance. In: ICLR (2022)

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Tan, M., Le, Q.: EfficientNet: Rethinking model scaling for convolutional
neural networks. In: ICML. pp. 6105–6114 (2019)

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Tang, K., Tao, M., Qi, J., Liu, Z., Zhang, H.: Invariant feature learning for
generalized long-tailed classification. In: ECCV. pp. 709–726. Springer
(2022)

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Tschandl, P., Rosendahl, C., Kittler, H.: The HAM10000 dataset, a large
collection of multi-source dermatoscopic images of common pigmented skin
lesions. Sci. Data <span id="bib.bib38.1.1" class="ltx_text ltx_font_bold">5</span>(1),  1–9 (2018)

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Wang, L., Xu, S., Wang, X., Zhu, Q.: Addressing class imbalance in federated
learning. In: AAAI. pp. 10165–10173 (2021)

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
Yan, Z., Wicaksana, J., Wang, Z., Yang, X., Cheng, K.T.: Variation-aware
federated learning with multi-source decentralized medical image data. IEEE
J. Biomed. Health Inform. <span id="bib.bib40.1.1" class="ltx_text ltx_font_bold">25</span>(7), 2615–2628 (2020)

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Yang, M., Wang, X., Zhu, H., Wang, H., Qian, H.: Federated learning with class
imbalance reduction. In: EUSIPCO. pp. 2174–2178 (2021)

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
Yang, Z., et al.: ProCo: Prototype-aware contrastive learning for long-tailed
medical image classification. In: MICCAI. pp. 173–182 (2022)

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Zhang, J., et al.: Federated learning with label distribution skew via logits
calibration. In: ICML. pp. 26311–26329 (2022)

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Zhao, Y., Chen, W., Tan, X., Huang, K., Zhu, J.: Adaptive logit adjustment loss
for long-tailed visual recognition. In: AAAI. pp. 3472–3480 (2022)

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
Zhu, J., Wang, Z., Chen, J., Chen, Y.P.P., Jiang, Y.G.: Balanced contrastive
learning for long-tailed visual recognition. In: CVPR. pp. 6908–6917 (2022)

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2206.13801" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2206.13803" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2206.13803">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2206.13803" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2206.13804" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 18:24:21 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
