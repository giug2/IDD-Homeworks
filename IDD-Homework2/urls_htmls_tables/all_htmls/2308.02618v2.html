<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2308.02618] ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval</title><meta property="og:description" content="The General Transit Feed Specification (GTFS) standard for publishing transit data is ubiquitous. GTFS being tabular data, with information spread across different files, necessitates specialized tools or packages to r…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2308.02618">

<!--Generated on Wed Feb 28 14:07:57 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_fleqn">
<div id="p1" class="ltx_para">
<p id="p1.1" class="ltx_p">[1]<span id="p1.1.1" class="ltx_ERROR undefined">\fnm</span>Saipraneeth <span id="p1.1.2" class="ltx_ERROR undefined">\sur</span>Devunuri</p>
</div>
<div id="p2" class="ltx_para">
<p id="p2.1" class="ltx_p">[1]<span id="p2.1.1" class="ltx_ERROR undefined">\orgdiv</span>Department of Civil and Environmental Engineering, <span id="p2.1.2" class="ltx_ERROR undefined">\orgname</span>University of Illinois at Urbana Champaign, <span id="p2.1.3" class="ltx_ERROR undefined">\orgaddress</span><span id="p2.1.4" class="ltx_ERROR undefined">\city</span>Urbana, <span id="p2.1.5" class="ltx_ERROR undefined">\state</span>Illinois, <span id="p2.1.6" class="ltx_ERROR undefined">\country</span>USA</p>
</div>
<h1 class="ltx_title ltx_title_document">ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0002-5911-4681" title="ORCID identifier" class="ltx_ref">0000-0002-5911-4681</a></span>

<span class="ltx_contact ltx_role_email"><a href="mailto:sd37@illinois.edu">sd37@illinois.edu</a>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id1.1.id1" class="ltx_ERROR undefined">\fnm</span>Shirin <span id="id2.2.id2" class="ltx_ERROR undefined">\sur</span>Qiam
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0002-9720-5656" title="ORCID identifier" class="ltx_ref">0000-0002-9720-5656</a></span>

<span class="ltx_contact ltx_role_email"><a href="mailto:sqiam2@illinois.edu">sqiam2@illinois.edu</a>
</span></span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id3.1.id1" class="ltx_ERROR undefined">\fnm</span>Lewis <span id="id4.2.id2" class="ltx_ERROR undefined">\sur</span>Lehe
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_orcid"><a target="_blank" href="https://orcid.org/0000-0001-8029-1706" title="ORCID identifier" class="ltx_ref">0000-0001-8029-1706</a></span>

<span class="ltx_contact ltx_role_email"><a href="mailto:lehe@illinois.edu">lehe@illinois.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation">*
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id5.id1" class="ltx_p">The General Transit Feed Specification (GTFS) standard for publishing transit data is ubiquitous. GTFS being tabular data, with information spread across different files, necessitates specialized tools or packages to retrieve information. Concurrently, the use of Large Language Models(LLMs) for text and information retrieval is growing. The idea of this research is to see if the current widely adopted LLMs (ChatGPT) are able to understand GTFS and retrieve information from GTFS using natural language instructions <em id="id5.id1.1" class="ltx_emph ltx_font_italic">without</em> explicitly providing information. In this research, we benchmark OpenAI’s GPT-3.5-Turbo and GPT-4 LLMs which are the backbone of ChatGPT. ChatGPT demonstrates a reasonable understanding of GTFS by answering 59.7% (GPT-3.5-Turbo) and 73.3% (GPT-4) of our multiple-choice questions (MCQ) correctly. Furthermore, we evaluated the LLMs on information extraction tasks using a filtered GTFS feed containing four routes. We found that program synthesis techniques outperformed zero-shot approaches, achieving up to 93% (90%) accuracy for simple queries and 61% (41%) for complex ones using GPT-4 (GPT-3.5-Turbo).</p>
</div>
<div class="ltx_classification">
<h6 class="ltx_title ltx_title_classification">keywords: </h6>GTFS, ChatGPT, Large Language Models, Generative AI, GPT-3.5-Turbo, GPT-4
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">The General Transit Feed Specification (GTFS) is an Open Data Standard (ODS) designed for publishing transit data and serves as a valuable resource for scientific analysis. GTFS facilitates public access to transit agency data, enabling transparency and fostering collaboration <cite class="ltx_cite ltx_citemacro_citep">(McHugh, <a href="#bib.bib15" title="" class="ltx_ref">2013</a>)</cite>. Since its inception with the Bay Area Rapid Transit Agency (BART) in 2006, GTFS has gained widespread adoption, with over 75% of transit agencies providing scheduled transit services embracing this standard <cite class="ltx_cite ltx_citemacro_citep">(Voulgaris and Begwani, <a href="#bib.bib24" title="" class="ltx_ref">2023</a>)</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Prominent trip planning applications, including Google Maps, Apple Maps, and Open Trip Planner, rely on GTFS feeds to deliver accurate and reliable information to their users. While GTFS simplifies the process of publishing transit data in a standardized format, retrieving and analyzing GTFS data requires an understanding of established conventions (e.g., “Required,” “May,” “Must,” etc.) and terminological definitions (e.g., “Leg,” “Journey,” “Field,” etc.). The feed specification comprises five mandatory files, along with several optional files, each containing one or more primary keys utilized for data integration. There are also nuances within the GTFS specification that demand careful attention to detail. For instance, the calendar_dates.txt file can be utilized either independently to publish services on all days or in conjunction with the calendar.txt file to specify exceptions to the regular service schedule. Moreover, there exist certain disparities between the references defined by the standard and the recommended best practices. For instance, while the best practices suggest including the <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">agency_id</em> field in the agency.txt file even when the feed contains only one agency, the standard mandates the inclusion of <em id="S1.p2.1.2" class="ltx_emph ltx_font_italic">agency_id</em> only when multiple transit agencies are present. These intricacies highlight the importance of meticulous adherence to the GTFS specifications and understanding the recommended practices to ensure accurate data interpretation and utilization.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">For this reason, many researchers and practitioners using GTFS rely on software tools, libraries, or packages that validate and analyze GTFS data. For example, the <em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">gtfs-segments</em> <cite class="ltx_cite ltx_citemacro_citep">(Devunuri and Lehe, <a href="#bib.bib6" title="" class="ltx_ref">2023</a>; Devunuri et al, <a href="#bib.bib7" title="" class="ltx_ref">2022</a>)</cite> package specializes in organizing GTFS data in the form of segments and calculating the stop spacings. The R5 Routing engine <cite class="ltx_cite ltx_citemacro_citep">(Conveyal, <a href="#bib.bib5" title="" class="ltx_ref">2023</a>)</cite> and the R5R package <cite class="ltx_cite ltx_citemacro_citep">(Pereira et al, <a href="#bib.bib18" title="" class="ltx_ref">2021</a>)</cite> can be used for routing analysis, travel time estimations, and accessibility analysis.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">While such tools greatly simplify certain tasks, they involve their own learning curves and are typically specialized. Therefore, in this study, we explore an alternative that may succeed in making GTFS analysis more accessible: Large Language Models (LLMs). Recent research has explored the ability of LLMs to carry out an array of specialized tasks. Some of these tasks involve answering questions about organized text. <cite class="ltx_cite ltx_citemacro_citet">Bommarito II and Katz (<a href="#bib.bib2" title="" class="ltx_ref">2022</a>)</cite> showed that GPT-3.5 successfully passed the multi-state (MBE) multiple-choice component of the Bar exam, which entails answering intricate legal questions. Subsequently, <cite class="ltx_cite ltx_citemacro_citet">Katz et al (<a href="#bib.bib10" title="" class="ltx_ref">2023</a>)</cite> reported that GPT-4 surpassed both GPT-3.5 and human performance on the entire Uniform Bar Exam. Other research has investigated the potential of LLMs in medicine <cite class="ltx_cite ltx_citemacro_citep">(Lee et al, <a href="#bib.bib14" title="" class="ltx_ref">2023</a>; Ray and Majumder, <a href="#bib.bib19" title="" class="ltx_ref">2023</a>; Gilson et al, <a href="#bib.bib8" title="" class="ltx_ref">2023</a>)</cite>. In addition to answering questions from reading documents, LLMs have been widely adopted for assistance with writing computer code <cite class="ltx_cite ltx_citemacro_citep">(Sobania et al, <a href="#bib.bib20" title="" class="ltx_ref">2022</a>, <a href="#bib.bib21" title="" class="ltx_ref">2023a</a>)</cite> and <em id="S1.p4.1.1" class="ltx_emph ltx_font_italic">program synthesis</em> <cite class="ltx_cite ltx_citemacro_citep">(Chen et al, <a href="#bib.bib4" title="" class="ltx_ref">2021</a>; Jain et al, <a href="#bib.bib9" title="" class="ltx_ref">2022</a>; Sobania et al, <a href="#bib.bib22" title="" class="ltx_ref">2023b</a>)</cite>. Program synthesis is a process in which a computer program is automatically generated to solve a given problem. For example, <cite class="ltx_cite ltx_citemacro_citet">Khatry et al (<a href="#bib.bib11" title="" class="ltx_ref">2023</a>)</cite> demonstrated that LLMs could generate code in Python (Pandas) and SQL from natural language prompts for data manipulation tasks.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">ChatGPT and other LLMs have also seen adoption in the transportation domain. <cite class="ltx_cite ltx_citemacro_citet">Kim and Lee (<a href="#bib.bib12" title="" class="ltx_ref">2023</a>)</cite> examined how ChatGPT identifies key issues in transportation and proposes potential solutions for them. Their results showed the responses from ChatGPT on issues and solutions were in alignment with the transportation research. The study by <cite class="ltx_cite ltx_citemacro_citet">Zheng et al (<a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite> showcased the potential usage of LLMs for accident information extraction, report automation, information imputation, and report analysis. Concurrently, the research by <cite class="ltx_cite ltx_citemacro_citet">Mumtarin et al (<a href="#bib.bib17" title="" class="ltx_ref">2023</a>)</cite> offered a comparative evaluation of different LLMs in extracting salient details from crash narratives. Within the realm of public transportation, the study by <cite class="ltx_cite ltx_citemacro_citet">Voß (<a href="#bib.bib23" title="" class="ltx_ref">2023</a>)</cite> investigated the LLMs’ perspective and understanding of topics such as bus bunching and bus bridging, which are instrumental in discussions related to operational efficiency and connectivity of transit networks.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">Despite the growth, applicability, and usage of LLMs in transportation and other fields, the use of LLMs to understand and retrieve information from GTFS data has not been explored. GTFS is a form of tabular data assembled according to publically available standard reference. Therefore, if LLMs can understand the semantics of the data, we hypothesize that they should be able to retrieve information from natural language prompts. To the best of our knowledge, ours is the first study examining and benchmarking the understanding of LLMs on the GTFS file format and feeds. Specifically, this research tries to answer the following research questions:</p>
<ol id="S1.I1" class="ltx_enumerate">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">To what extent does generative AI, such as ChatGPT, understand the GTFS?</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">Can LLMs be used to retrieve information from GTFS files?</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Does generating code (i.e. Program Synthesis) aid in information extraction?</p>
</div>
</li>
</ol>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">To systematically answer these questions, we designed two distinct benchmarks. The first features 195 multiple-choice questions (MCQs), organized into six categories, and is based on the official GTFS documentation. This aims to probe the LLM’s understanding of GTFS concepts and semantics. The second benchmark, containing an additional 88 questions across two categories, tests the LLM’s proficiency in GTFS information retrieval. We generated these questions by utilizing a filtered GTFS feed, which includes four routes from the Chicago Transit Authority (CTA). For comparison of LLMS, we benchmarked both the free and ‘Plus’ versions of ChatGPT (the state-of-the-art LLMs) in our evaluations. The free version relies on the GPT-3.5-Turbo, while the ‘Plus’ version is built upon the more advanced and parameter-rich GPT-4. While testing the LLMs, we employ different types of prompts or prompting techniques to extract answers and also understand the reasoning. Specifically, we employ zero-shot (ZS), few-shot (FS), chain-of-thought (CoT), and program synthesis (PS) techniques to design the prompts.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">The remainder of the paper is structured as follows: Section <a href="#S2" title="2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> describes the OpenAI API and the different prompting techniques such as ZS, FS, CoT, and PS that we employed. Section <a href="#S3" title="3 GTFS Understanding ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> presents the “GTFS Understanding” benchmark and its results using ZS and CoT approaches. Following this, we present the “GTFS Retrieval” benchmark and its results using ZS and PS (with one-shot) prompting techniques in section <a href="#S4" title="4 Information Retrieval from GTFS ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Finally, Section <a href="#S5" title="5 Conclusion ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> concludes and discusses potential future work.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methodology</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.8" class="ltx_p">The primary objective of this methodology is to identify the limitations in ChatGPT’s comprehension of GTFS data. To achieve this, we aim to identify the category where the LLM performs poorly. Denote the set of questions as <math id="S2.p1.1.m1.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">Q</annotation></semantics></math> and the set of potential prompts as <math id="S2.p1.2.m2.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S2.p1.2.m2.1a"><mi id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">P</annotation></semantics></math>. Note that <math id="S2.p1.3.m3.1" class="ltx_Math" alttext="P" display="inline"><semantics id="S2.p1.3.m3.1a"><mi id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><ci id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">P</annotation></semantics></math> here is a <em id="S2.p1.8.1" class="ltx_emph ltx_font_italic">hard</em> prompt i.e. manually crafted text prompt that requires trial and error. The model’s output, which consists of the answers, is represented as <math id="S2.p1.4.m4.2" class="ltx_Math" alttext="A=f(P,Q)" display="inline"><semantics id="S2.p1.4.m4.2a"><mrow id="S2.p1.4.m4.2.3" xref="S2.p1.4.m4.2.3.cmml"><mi id="S2.p1.4.m4.2.3.2" xref="S2.p1.4.m4.2.3.2.cmml">A</mi><mo id="S2.p1.4.m4.2.3.1" xref="S2.p1.4.m4.2.3.1.cmml">=</mo><mrow id="S2.p1.4.m4.2.3.3" xref="S2.p1.4.m4.2.3.3.cmml"><mi id="S2.p1.4.m4.2.3.3.2" xref="S2.p1.4.m4.2.3.3.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.p1.4.m4.2.3.3.1" xref="S2.p1.4.m4.2.3.3.1.cmml">​</mo><mrow id="S2.p1.4.m4.2.3.3.3.2" xref="S2.p1.4.m4.2.3.3.3.1.cmml"><mo stretchy="false" id="S2.p1.4.m4.2.3.3.3.2.1" xref="S2.p1.4.m4.2.3.3.3.1.cmml">(</mo><mi id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">P</mi><mo id="S2.p1.4.m4.2.3.3.3.2.2" xref="S2.p1.4.m4.2.3.3.3.1.cmml">,</mo><mi id="S2.p1.4.m4.2.2" xref="S2.p1.4.m4.2.2.cmml">Q</mi><mo stretchy="false" id="S2.p1.4.m4.2.3.3.3.2.3" xref="S2.p1.4.m4.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.2b"><apply id="S2.p1.4.m4.2.3.cmml" xref="S2.p1.4.m4.2.3"><eq id="S2.p1.4.m4.2.3.1.cmml" xref="S2.p1.4.m4.2.3.1"></eq><ci id="S2.p1.4.m4.2.3.2.cmml" xref="S2.p1.4.m4.2.3.2">𝐴</ci><apply id="S2.p1.4.m4.2.3.3.cmml" xref="S2.p1.4.m4.2.3.3"><times id="S2.p1.4.m4.2.3.3.1.cmml" xref="S2.p1.4.m4.2.3.3.1"></times><ci id="S2.p1.4.m4.2.3.3.2.cmml" xref="S2.p1.4.m4.2.3.3.2">𝑓</ci><interval closure="open" id="S2.p1.4.m4.2.3.3.3.1.cmml" xref="S2.p1.4.m4.2.3.3.3.2"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">𝑃</ci><ci id="S2.p1.4.m4.2.2.cmml" xref="S2.p1.4.m4.2.2">𝑄</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.2c">A=f(P,Q)</annotation></semantics></math>. Here <math id="S2.p1.5.m5.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.p1.5.m5.1a"><mi id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">f</annotation></semantics></math> denotes the LLM which provides a functional mapping between natural language prompts and responses. To evaluate the performance, we have a ground truth set of correct answers denoted as <math id="S2.p1.6.m6.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p1.6.m6.1a"><mi id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.1b"><ci id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.1c">S</annotation></semantics></math>, and a grading function, denoted as <math id="S2.p1.7.m7.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S2.p1.7.m7.1a"><mi id="S2.p1.7.m7.1.1" xref="S2.p1.7.m7.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.1b"><ci id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.1c">g</annotation></semantics></math>, to assess the accuracy of the model’s responses. The grading function scores the responses based on the ground truth <math id="S2.p1.8.m8.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S2.p1.8.m8.1a"><mi id="S2.p1.8.m8.1.1" xref="S2.p1.8.m8.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.p1.8.m8.1b"><ci id="S2.p1.8.m8.1.1.cmml" xref="S2.p1.8.m8.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.8.m8.1c">S</annotation></semantics></math>. The scores in each category of questions give insight into the understanding of GTFS and the lack thereof.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.2" class="ltx_p">The secondary objective is to extract information from GTFS. The goal here is to find the most effective prompt, denoted as <math id="S2.p2.1.m1.1" class="ltx_Math" alttext="P^{*}" display="inline"><semantics id="S2.p2.1.m1.1a"><msup id="S2.p2.1.m1.1.1" xref="S2.p2.1.m1.1.1.cmml"><mi id="S2.p2.1.m1.1.1.2" xref="S2.p2.1.m1.1.1.2.cmml">P</mi><mo id="S2.p2.1.m1.1.1.3" xref="S2.p2.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S2.p2.1.m1.1b"><apply id="S2.p2.1.m1.1.1.cmml" xref="S2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.p2.1.m1.1.1.1.cmml" xref="S2.p2.1.m1.1.1">superscript</csymbol><ci id="S2.p2.1.m1.1.1.2.cmml" xref="S2.p2.1.m1.1.1.2">𝑃</ci><times id="S2.p2.1.m1.1.1.3.cmml" xref="S2.p2.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.1.m1.1c">P^{*}</annotation></semantics></math>, that maximizes the grading function <math id="S2.p2.2.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S2.p2.2.m2.1a"><mi id="S2.p2.2.m2.1.1" xref="S2.p2.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p2.2.m2.1b"><ci id="S2.p2.2.m2.1.1.cmml" xref="S2.p2.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p2.2.m2.1c">g</annotation></semantics></math> for the model’s output compared to the ground truth:</p>
</div>
<div id="S2.p3" class="ltx_para">
<table id="S2.Ex1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_left_padleft"></td>
<td class="ltx_eqn_cell ltx_align_left"><math id="S2.Ex1.m1.4" class="ltx_Math" alttext="P^{*}=\operatornamewithlimits{argmax}\limits_{P}g(f(P,Q),S)" display="block"><semantics id="S2.Ex1.m1.4a"><mrow id="S2.Ex1.m1.4.4" xref="S2.Ex1.m1.4.4.cmml"><msup id="S2.Ex1.m1.4.4.3" xref="S2.Ex1.m1.4.4.3.cmml"><mi id="S2.Ex1.m1.4.4.3.2" xref="S2.Ex1.m1.4.4.3.2.cmml">P</mi><mo id="S2.Ex1.m1.4.4.3.3" xref="S2.Ex1.m1.4.4.3.3.cmml">∗</mo></msup><mo rspace="0.1389em" id="S2.Ex1.m1.4.4.2" xref="S2.Ex1.m1.4.4.2.cmml">=</mo><mrow id="S2.Ex1.m1.4.4.1" xref="S2.Ex1.m1.4.4.1.cmml"><mrow id="S2.Ex1.m1.4.4.1.3" xref="S2.Ex1.m1.4.4.1.3.cmml"><munder id="S2.Ex1.m1.4.4.1.3.1" xref="S2.Ex1.m1.4.4.1.3.1.cmml"><mo lspace="0.1389em" rspace="0.167em" id="S2.Ex1.m1.4.4.1.3.1.2" xref="S2.Ex1.m1.4.4.1.3.1.2.cmml">argmax</mo><mi id="S2.Ex1.m1.4.4.1.3.1.3" xref="S2.Ex1.m1.4.4.1.3.1.3.cmml">P</mi></munder><mi id="S2.Ex1.m1.4.4.1.3.2" xref="S2.Ex1.m1.4.4.1.3.2.cmml">g</mi></mrow><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.4.4.1.2" xref="S2.Ex1.m1.4.4.1.2.cmml">​</mo><mrow id="S2.Ex1.m1.4.4.1.1.1" xref="S2.Ex1.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S2.Ex1.m1.4.4.1.1.1.2" xref="S2.Ex1.m1.4.4.1.1.2.cmml">(</mo><mrow id="S2.Ex1.m1.4.4.1.1.1.1" xref="S2.Ex1.m1.4.4.1.1.1.1.cmml"><mi id="S2.Ex1.m1.4.4.1.1.1.1.2" xref="S2.Ex1.m1.4.4.1.1.1.1.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S2.Ex1.m1.4.4.1.1.1.1.1" xref="S2.Ex1.m1.4.4.1.1.1.1.1.cmml">​</mo><mrow id="S2.Ex1.m1.4.4.1.1.1.1.3.2" xref="S2.Ex1.m1.4.4.1.1.1.1.3.1.cmml"><mo stretchy="false" id="S2.Ex1.m1.4.4.1.1.1.1.3.2.1" xref="S2.Ex1.m1.4.4.1.1.1.1.3.1.cmml">(</mo><mi id="S2.Ex1.m1.1.1" xref="S2.Ex1.m1.1.1.cmml">P</mi><mo id="S2.Ex1.m1.4.4.1.1.1.1.3.2.2" xref="S2.Ex1.m1.4.4.1.1.1.1.3.1.cmml">,</mo><mi id="S2.Ex1.m1.2.2" xref="S2.Ex1.m1.2.2.cmml">Q</mi><mo stretchy="false" id="S2.Ex1.m1.4.4.1.1.1.1.3.2.3" xref="S2.Ex1.m1.4.4.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S2.Ex1.m1.4.4.1.1.1.3" xref="S2.Ex1.m1.4.4.1.1.2.cmml">,</mo><mi id="S2.Ex1.m1.3.3" xref="S2.Ex1.m1.3.3.cmml">S</mi><mo stretchy="false" id="S2.Ex1.m1.4.4.1.1.1.4" xref="S2.Ex1.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.Ex1.m1.4b"><apply id="S2.Ex1.m1.4.4.cmml" xref="S2.Ex1.m1.4.4"><eq id="S2.Ex1.m1.4.4.2.cmml" xref="S2.Ex1.m1.4.4.2"></eq><apply id="S2.Ex1.m1.4.4.3.cmml" xref="S2.Ex1.m1.4.4.3"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.3.1.cmml" xref="S2.Ex1.m1.4.4.3">superscript</csymbol><ci id="S2.Ex1.m1.4.4.3.2.cmml" xref="S2.Ex1.m1.4.4.3.2">𝑃</ci><times id="S2.Ex1.m1.4.4.3.3.cmml" xref="S2.Ex1.m1.4.4.3.3"></times></apply><apply id="S2.Ex1.m1.4.4.1.cmml" xref="S2.Ex1.m1.4.4.1"><times id="S2.Ex1.m1.4.4.1.2.cmml" xref="S2.Ex1.m1.4.4.1.2"></times><apply id="S2.Ex1.m1.4.4.1.3.cmml" xref="S2.Ex1.m1.4.4.1.3"><apply id="S2.Ex1.m1.4.4.1.3.1.cmml" xref="S2.Ex1.m1.4.4.1.3.1"><csymbol cd="ambiguous" id="S2.Ex1.m1.4.4.1.3.1.1.cmml" xref="S2.Ex1.m1.4.4.1.3.1">subscript</csymbol><ci id="S2.Ex1.m1.4.4.1.3.1.2.cmml" xref="S2.Ex1.m1.4.4.1.3.1.2">argmax</ci><ci id="S2.Ex1.m1.4.4.1.3.1.3.cmml" xref="S2.Ex1.m1.4.4.1.3.1.3">𝑃</ci></apply><ci id="S2.Ex1.m1.4.4.1.3.2.cmml" xref="S2.Ex1.m1.4.4.1.3.2">𝑔</ci></apply><interval closure="open" id="S2.Ex1.m1.4.4.1.1.2.cmml" xref="S2.Ex1.m1.4.4.1.1.1"><apply id="S2.Ex1.m1.4.4.1.1.1.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.1"><times id="S2.Ex1.m1.4.4.1.1.1.1.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.1.1"></times><ci id="S2.Ex1.m1.4.4.1.1.1.1.2.cmml" xref="S2.Ex1.m1.4.4.1.1.1.1.2">𝑓</ci><interval closure="open" id="S2.Ex1.m1.4.4.1.1.1.1.3.1.cmml" xref="S2.Ex1.m1.4.4.1.1.1.1.3.2"><ci id="S2.Ex1.m1.1.1.cmml" xref="S2.Ex1.m1.1.1">𝑃</ci><ci id="S2.Ex1.m1.2.2.cmml" xref="S2.Ex1.m1.2.2">𝑄</ci></interval></apply><ci id="S2.Ex1.m1.3.3.cmml" xref="S2.Ex1.m1.3.3">𝑆</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.Ex1.m1.4c">P^{*}=\operatornamewithlimits{argmax}\limits_{P}g(f(P,Q),S)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_left_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">In essence, we aim to find the prompt configuration that yields the best alignment between the model’s answers and the ground truth, thereby improving the overall understanding of GTFS data by ChatGPT. Specifically, we try zero-shot (ZS), few-shot (one-shot), chain of thought (CoT), and program synthesis (PS) methods by changing the prompts and comparing the results. These techniques along with the OpenAI API and its hyperparameters are discussed in detail below.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>OpenAI API and Hyperparameters</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">OpenAI provides API endpoints to interact with their GPT-3.5 and GPT-4 LLMs, besides the chatbot version - ChatGPT. While using the OpenAI chat completions API<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>OpenAI Chat Completions API: <a target="_blank" href="https://platform.openai.com/docs/api-reference/completions/create" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://platform.openai.com/docs/api-reference/completions/create</a> [Accessed 2023-07-29]</span></span></span> endpoints, the prompt is not a single string but a list of messages with certain roles and purposes. We use the <em id="S2.SS1.p1.1.1" class="ltx_emph ltx_font_italic">openai</em> python library<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Open AI Python Library <a target="_blank" href="https://github.com/openai/openai-python" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/openai/openai-python</a></span></span></span> that provides wrappers around the chat completions and other API endpoints. The whole prompt is split into two: “System” and “User”. The “System” part ensures that all prompts have a similar context of the question to answer and consists of <em id="S2.SS1.p1.1.2" class="ltx_emph ltx_font_italic">instructions</em> given to the GPT. The “User” part of the prompt has the actual question that is different from the rest. The prompts used in this paper are inspired by examples provided on OpenAI<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>Example Q&amp;A available at <a target="_blank" href="https://platform.openai.com/examples/default-qa" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://platform.openai.com/examples/default-qa</a> [Accessed 2023-07-29]</span></span></span> website.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">For this study, we stick to the <em id="S2.SS1.p2.1.1" class="ltx_emph ltx_font_italic">gpt-3.5-turbo</em> (most capable GPT-3.5 model optimized for chat) and <em id="S2.SS1.p2.1.2" class="ltx_emph ltx_font_italic">gpt-4</em> models, which are susceptible to changes in hyperparameters. Besides the prompts, the hyperparameters are the only available features used for tuning the LLM’s response. For this study, we use the following key hyperparameters available in the chat completions API:</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><em id="S2.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">temperature</em>: The temperature parameter (range [0,2]) controls the level of randomness in the sampling. A value of <em id="S2.I1.i1.p1.1.2" class="ltx_emph ltx_font_italic">zero</em> produces deterministic output, while higher values introduce more randomness. To ensure the reproducibility of results, we set the temperature to <em id="S2.I1.i1.p1.1.3" class="ltx_emph ltx_font_italic">zero</em>.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><em id="S2.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">top_p</em>: This is an alternative to the temperature parameter that uses nucleus sampling probability. The documentation recommends tuning either temperature or top_p. Therefore, we use the default value of ‘1.’</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><em id="S2.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">max_tokens</em>: This parameter limits the maximum number of tokens in the output. For multiple-choice type questions, we set max_tokens to ‘2’. For question-answer type questions, we set the token limit to the context length of the <em id="S2.I1.i3.p1.1.2" class="ltx_emph ltx_font_italic">gpt-3.5-turbo</em> model at 16,000 tokens.</p>
</div>
</li>
</ul>
</div>
<div id="S2.SS1.p4" class="ltx_para">
<p id="S2.SS1.p4.1" class="ltx_p">Besides these, there are other hyperparameters such as ‘best_of’, ‘presence_penalty’, and ‘frequency_penalty’, which we set to their default values in our evaluations.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Zero-Shot and Few-Shot Learning</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Zero-shot (ZS) prompting is a technique that allows Large Language Models (LLMs) to retrieve information from data <em id="S2.SS2.p1.1.1" class="ltx_emph ltx_font_italic">without</em> specific training or examples on the domain. The model is only given the instructions in natural language. <cite class="ltx_cite ltx_citemacro_citet">Kojima et al (<a href="#bib.bib13" title="" class="ltx_ref">2023</a>)</cite> showed that LLMs are zero-shot reasoners and can solve a variety of reasoning problems without fine-tuning or sample engineering.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Since GTFS is a standardized format for publishing transit schedules, the advantage of ZS prompting in GTFS information retrieval lies in its flexibility and adaptability. It allows LLMs to handle a wide range of queries without the need for explicit domain-specific training. This makes it easier to integrate GTFS information retrieval capabilities into various applications, as LLMs can leverage their pre-trained knowledge and generalize to different transit systems and datasets. Figure <a href="#S2.F1" title="Figure 1 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an example ZS prompt and response.</p>
</div>
<figure id="S2.F1" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F1.sf1" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="S2.F1.sf1.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf1.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf1.2.1.1" class="ltx_p"><span id="S2.F1.sf1.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="S2.F1.sf1.2.1.1.2" class="ltx_text" style="color:#000000;">:

You are a helpful assistant with an understanding of GTFS(General Transit Feed Specification).</span>
<br class="ltx_break"></span>
<span id="S2.F1.sf1.2.1.2" class="ltx_p"><em id="S2.F1.sf1.2.1.2.1" class="ltx_emph ltx_font_italic" style="color:#000000;">Instructions:</em>
<br class="ltx_break"><span id="S2.F1.sf1.2.1.2.2" class="ltx_text" style="color:#000000;">- You are given a set of questions with a </span><span id="S2.F1.sf1.2.1.2.3" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">single</span><span id="S2.F1.sf1.2.1.2.4" class="ltx_text" style="color:#000000;"> correct answer and 4 options a,b,c, and d. </span>
<br class="ltx_break"><span id="S2.F1.sf1.2.1.2.5" class="ltx_text" style="color:#000000;">- Choose the option that is most appropriate. Choose </span><span id="S2.F1.sf1.2.1.2.6" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">‘None of these’</span><span id="S2.F1.sf1.2.1.2.7" class="ltx_text" style="color:#000000;"> option in case other options are not relevant.</span>
<br class="ltx_break"><span id="S2.F1.sf1.2.1.2.8" class="ltx_text" style="color:#000000;">- You do </span><span id="S2.F1.sf1.2.1.2.9" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">not</span><span id="S2.F1.sf1.2.1.2.10" class="ltx_text" style="color:#000000;"> have to provide any explanation.</span>
<br class="ltx_break"><span id="S2.F1.sf1.2.1.2.11" class="ltx_text" style="color:#000000;">- Output only the answer. For example, if the correct answer is ‘a’ then output ‘a’.</span></span>
</span>
<span id="S2.F1.sf1.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf1.2.2.1" class="ltx_p"><span id="S2.F1.sf1.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="S2.F1.sf1.2.2.1.2" class="ltx_text" style="color:#000000;">:

(Q1) Can a GTFS feed contain multiple agency information? </span>
<br class="ltx_break"><span id="S2.F1.sf1.2.2.1.3" class="ltx_text" style="color:#000000;">a) Each agency should publish a seperate GTFS. </span>
<br class="ltx_break"><span id="S2.F1.sf1.2.2.1.4" class="ltx_text" style="color:#000000;">b) No, GTFS feeds can only represent a single agency.</span>
<br class="ltx_break"><span id="S2.F1.sf1.2.2.1.5" class="ltx_text" style="color:#000000;">c) Multiple agency information is specified in the “agency.txt” file.</span>
<br class="ltx_break"><span id="S2.F1.sf1.2.2.1.6" class="ltx_text" style="color:#000000;">d) Agencies are not relevant in GTFS feeds.</span></span>
</span>
<span id="S2.F1.sf1.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf1.2.3.1" class="ltx_p"><span id="S2.F1.sf1.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="S2.F1.sf1.2.3.1.2" class="ltx_text" style="color:#000000;">:

c</span></span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.sf1.4.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><em id="S2.F1.sf1.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Q1</em><span id="S2.F1.sf1.6.3" class="ltx_text" style="font-size:90%;"> is an example of an original MCQ question in the ‘GTFS Understanding’ benchmark </span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S2.F1.sf2" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="S2.F1.sf2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf2.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf2.2.1.1" class="ltx_p"><span id="S2.F1.sf2.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="S2.F1.sf2.2.1.1.2" class="ltx_text" style="color:#000000;">:

…</span></span>
</span>
<span id="S2.F1.sf2.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf2.2.2.1" class="ltx_p"><span id="S2.F1.sf2.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="S2.F1.sf2.2.2.1.2" class="ltx_text" style="color:#000000;">:

(Q1.c) Can a GTFS feed contain multiple agency information? </span>
<br class="ltx_break"><span id="S2.F1.sf2.2.2.1.3" class="ltx_text" style="color:#000000;">a) Each agency should publish a seperate GTFS. </span>
<br class="ltx_break"><span id="S2.F1.sf2.2.2.1.4" class="ltx_text" style="color:#000000;">b) No, GTFS feeds can only represent a single agency.</span>
<br class="ltx_break"><span id="S2.F1.sf2.2.2.1.5" class="ltx_text" style="color:#000000;">c) </span><span id="S2.F1.sf2.2.2.1.6" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">None of these</span>
<br class="ltx_break"><span id="S2.F1.sf2.2.2.1.7" class="ltx_text" style="color:#000000;">d) Agencies are not relevant in GTFS feeds.</span></span>
</span>
<span id="S2.F1.sf2.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F1.sf2.2.3.1" class="ltx_p"><span id="S2.F1.sf2.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="S2.F1.sf2.2.3.1.2" class="ltx_text" style="color:#000000;">:

c</span></span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.sf2.5.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S2.F1.sf2.6.2" class="ltx_text" style="font-size:90%;">The question <em id="S2.F1.sf2.6.2.1" class="ltx_emph ltx_font_italic">Q1.c</em> is a variant of <em id="S2.F1.sf2.6.2.2" class="ltx_emph ltx_font_italic">Q1</em> where the option ‘c’ in the original question is replaced with ‘None of these.’</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S2.F1.3.2" class="ltx_text" style="font-size:90%;">Example questions and answers using zero-shot (ZS) technique on GPT-3.5-Turbo. The prompt consists of system and user portions represented by red and green blocks. The blue block corresponds to the assistant’s (GPT-3.5-
Turbo here) response.</span></figcaption>
</figure>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">Few-shot (FS) prompting is similar to ZS prompting but provides few demonstrations to the model that helps the model respond in a fashion more tuned to the user preference. <cite class="ltx_cite ltx_citemacro_citet">Brown et al (<a href="#bib.bib3" title="" class="ltx_ref">2020</a>)</cite> demonstrated that FS prompting results in better accuracy than ZS by using in-context information. In this paper, we stick to a one-shot setting where we provide a task and a single demonstration of how to solve the task. Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows an example of FS questioning.</p>
</div>
<div id="S2.SS2.p4" class="ltx_para">
<p id="S2.SS2.p4.1" class="ltx_p">It is important to note that ZS or FS prompting has its limitations. Since the LLM has not received direct training on GTFS data, its performance may not be as accurate or precise as models specifically trained on GTFS datasets. The level of understanding and retrieval accuracy may vary depending on the complexity of the queries and the available contextual information.</p>
</div>
<figure id="S2.F2" class="ltx_figure">
<span id="S2.F2.2" class="ltx_inline-block ltx_align_center ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.1.1" class="ltx_p"><span id="S2.F2.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="S2.F2.2.1.1.2" class="ltx_text" style="color:#000000;">:

You are a helpful assistant that understands the GTFS file format thoroughly.
You will be posed questions about information retrieval from GTFS. </span>
<br class="ltx_break"><em id="S2.F2.2.1.1.3" class="ltx_emph ltx_font_italic" style="color:#000000;">Instructions</em><span id="S2.F2.2.1.1.4" class="ltx_text" style="color:#000000;">:</span>
<br class="ltx_break"><span id="S2.F2.2.1.1.5" class="ltx_text" style="color:#000000;">- Respond to the question with </span><span id="S2.F2.2.1.1.6" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">Python</span><span id="S2.F2.2.1.1.7" class="ltx_text" style="color:#000000;"> code that answers the question.</span>
<br class="ltx_break"><span id="S2.F2.2.1.1.8" class="ltx_text" style="color:#000000;">- Use only the </span><span id="S2.F2.2.1.1.9" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">pandas</span><span id="S2.F2.2.1.1.10" class="ltx_text" style="color:#000000;"> library and output Python code that pertains to the question.</span>
<br class="ltx_break"><span id="S2.F2.2.1.1.11" class="ltx_text" style="color:#000000;">- Assume you are </span><span id="S2.F2.2.1.1.12" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">within</span><span id="S2.F2.2.1.1.13" class="ltx_text" style="color:#000000;"> the directory of the GTFS file folder.</span>
<br class="ltx_break"><span id="S2.F2.2.1.1.14" class="ltx_text" style="color:#000000;">- Store the result in a variable called </span><span id="S2.F2.2.1.1.15" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">‘answer.’</span><span id="S2.F2.2.1.1.16" class="ltx_text" style="color:#000000;"></span></span>
</span>
<span id="S2.F2.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.2.1" class="ltx_p"><span id="S2.F2.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example User</span><span id="S2.F2.2.2.1.2" class="ltx_text" style="color:#000000;">:

Find the </span><span id="S2.F2.2.2.1.3" class="ltx_text ltx_font_typewriter" style="color:#000000;">route_url</span><span id="S2.F2.2.2.1.4" class="ltx_text" style="color:#000000;"> given the </span><span id="S2.F2.2.2.1.5" class="ltx_text ltx_font_typewriter" style="color:#000000;">‘route_id’</span><span id="S2.F2.2.2.1.6" class="ltx_text" style="color:#000000;">.</span></span>
</span>
<span id="S2.F2.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.3.1" class="ltx_p"><span id="S2.F2.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example Assistant</span><span id="S2.F2.2.3.1.2" class="ltx_text" style="color:#000000;">:</span></span>
<span id="S2.F2.2.3.2" class="ltx_listing ltx_lst_language_python ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" style="background-color:#FFFFFF;border-color: #999999;"><span class="ltx_listing_data"><a href="data:text/plain;base64,cm91dGVfZGYgPSBwZC5yZWFkX2Nzdihgcm91dGVzLnR4dCcpCnJvdXRlX3VybCA9IHJvdXRlX2RmLmxvY1tyb3V0ZV9kZi5yb3V0ZV9pZCA9PSByb3V0ZV9pZCwgYHJvdXRlX3VybCddWzBdCgojIyBTdG9yZSB0aGUgcmVzdWx0IGluIGEgdmFyaWFibGUgY2FsbGVkIGBhbnN3ZXInCmFuc3dlciA9IHJvdXRlX3VybA==" download="">⬇</a></span>
<span id="lstnumberx1" class="ltx_listingline"><span id="lstnumberx1.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">route_df</span><span id="lstnumberx1.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx1.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx1.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx1.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx1.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx1.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx1.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(‘</span><span id="lstnumberx1.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes</span><span id="lstnumberx1.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx1.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">txt</span><span id="lstnumberx1.12" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’)</span>
</span>
<span id="lstnumberx2" class="ltx_listingline"><span id="lstnumberx2.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">route_url</span><span id="lstnumberx2.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx2.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">=</span><span id="lstnumberx2.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx2.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">route_df.loc[route_df.route_id</span><span id="lstnumberx2.6" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx2.7" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">==</span><span id="lstnumberx2.8" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx2.9" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">route_id,</span><span id="lstnumberx2.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx2.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">‘route_url’</span><span id="lstnumberx2.12" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx2.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx2.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">0</span><span id="lstnumberx2.15" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span>
</span>
<span id="lstnumberx3" class="ltx_listingline">
</span>
<span id="lstnumberx4" class="ltx_listingline"><span id="lstnumberx4.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">##<span id="lstnumberx4.1.1" class="ltx_text ltx_lst_space"> </span>Store<span id="lstnumberx4.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx4.1.3" class="ltx_text ltx_lst_space"> </span>result<span id="lstnumberx4.1.4" class="ltx_text ltx_lst_space"> </span>in<span id="lstnumberx4.1.5" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx4.1.6" class="ltx_text ltx_lst_space"> </span>variable<span id="lstnumberx4.1.7" class="ltx_text ltx_lst_space"> </span>called<span id="lstnumberx4.1.8" class="ltx_text ltx_lst_space"> </span>‘answer’</span>
</span>
<span id="lstnumberx5" class="ltx_listingline"><span id="lstnumberx5.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">answer</span><span id="lstnumberx5.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx5.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx5.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx5.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">route_url</span>
</span>
</span>
</span>
<span id="S2.F2.2.4" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.4.1" class="ltx_p"><span id="S2.F2.2.4.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="S2.F2.2.4.1.2" class="ltx_text" style="color:#000000;">:

What is the route_short_name for route_id ‘192’?</span></span>
</span>
<span id="S2.F2.2.5" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="S2.F2.2.5.1" class="ltx_p"><span id="S2.F2.2.5.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="S2.F2.2.5.1.2" class="ltx_text" style="color:#000000;">:</span></span>
<span id="S2.F2.2.5.2" class="ltx_listing ltx_lst_language_python ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" style="background-color:#FFFFFF;border-color: #999999;"><span class="ltx_listing_data"><a href="data:text/plain;base64,cm91dGVzX2RmID0gcGQucmVhZF9jc3YoYHJvdXRlcy50eHQnKQpyb3V0ZV9zaG9ydF9uYW1lID0gcm91dGVzX2RmW3JvdXRlc19kZltgcm91dGVfaWQnXSA9PSBgMTkyJ11bYHJvdXRlX3Nob3J0X25hbWUnXS52YWx1ZXNbMF0KYW5zd2VyID0gcm91dGVfc2hvcnRfbmFtZQ==" download="">⬇</a></span>
<span id="lstnumberx6" class="ltx_listingline"><span id="lstnumberx6.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx6.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx6.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx6.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx6.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx6.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx6.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx6.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(‘</span><span id="lstnumberx6.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes</span><span id="lstnumberx6.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx6.11" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">txt</span><span id="lstnumberx6.12" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’)</span>
</span>
<span id="lstnumberx7" class="ltx_listingline"><span id="lstnumberx7.1" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">route_short_name</span><span id="lstnumberx7.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx7.3" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">=</span><span id="lstnumberx7.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#990000;"> </span><span id="lstnumberx7.5" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">routes_df[routes_df[‘route_id’</span><span id="lstnumberx7.6" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx7.7" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx7.8" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx7.9" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx7.10" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx7.11" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">‘<span id="lstnumberx7.11.1" class="ltx_text ltx_lst_identifier">192</span><span id="lstnumberx7.11.2" class="ltx_text ltx_lst_string"></span></span><span id="lstnumberx7.12" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#990000;">’][‘route_short_name’</span><span id="lstnumberx7.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx7.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.<span id="lstnumberx7.14.1" class="ltx_text ltx_lst_identifier">values</span><span id="lstnumberx7.14.2" class="ltx_text ltx_lst_literate" style="color:#E600E6;">[</span><span id="lstnumberx7.14.3" class="ltx_text ltx_lst_identifier">0</span><span id="lstnumberx7.14.4" class="ltx_text ltx_lst_literate" style="color:#E600E6;">]</span></span>
</span>
<span id="lstnumberx8" class="ltx_listingline"><span id="lstnumberx8.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">answer</span><span id="lstnumberx8.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx8.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx8.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx8.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">route_short_name</span>
</span>
</span>
</span>
</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.4.2" class="ltx_text" style="font-size:90%;">Sample prompt for program synthesis (PS) with the system and user prompts along with assistant output. The ‘Example User’ and ‘Example Assistant’ are used for few-shot (FS) prompting. The response is generated by the GPT-3.5-Turbo model.</span></figcaption>
</figure>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Chain of Thought (CoT)</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">Chain of Thought (CoT) prompting is a method aimed at eliciting multi-step reasoning from Language Models (LLMs). By guiding the model through a coherent series of steps, CoT encourages it to arrive at an answer systematically. <cite class="ltx_cite ltx_citemacro_citet">Wei et al (<a href="#bib.bib25" title="" class="ltx_ref">2023</a>)</cite> demonstrated that CoT substantially enhances the reasoning capabilities of LLMs. One of the key benefits of CoT is its ability to provide insights into the thought process employed by the model when answering questions, regardless of whether the LLM’s response is accurate or not. A chain of thought could be instantiated by adding something as simple as “Provide a step-by-step explanation” to the prompt.</p>
</div>
</section>
<section id="S2.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.4 </span>Program Synthesis (PS)</h3>

<div id="S2.SS4.p1" class="ltx_para">
<p id="S2.SS4.p1.1" class="ltx_p">Program synthesis (PS) evaluates the understanding of Language Models (LLMs) by generating code that can reproduce the result/answer. This evaluation method provides a more comprehensive assessment of the model’s abilities as it requires the LLM to not only interpret the textual input accurately but also produce correct and functional code that fulfills the given requirements. Since most GTFS is tabular data, the pandas <cite class="ltx_cite ltx_citemacro_citep">(McKinney, <a href="#bib.bib16" title="" class="ltx_ref">2010</a>)</cite> library can be used to generate the code. <cite class="ltx_cite ltx_citemacro_citet">Khatry et al (<a href="#bib.bib11" title="" class="ltx_ref">2023</a>)</cite> applied LLMs to generate code in pandas and SQL.</p>
</div>
<div id="S2.SS4.p2" class="ltx_para">
<p id="S2.SS4.p2.1" class="ltx_p">Additionally, program synthesis, similar to CoT, fosters the interpretability and explainability of LLMs. Since the generated code is executable and traceable, it becomes easier to diagnose the LLM’s behavior and identify potential errors or misconceptions. Besides, the code generated can be generalized by asking generalized questions that are not particular to a specific GTFS. This makes it possible to bypass the context length limitation and extract information without the input of GTFS files.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>GTFS Understanding</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">The GTFS specification has evolved into an intricate Open Data Standard, through changes over the years. This transformation is driven by its broadening scope and increased adoption across the world by transit agencies. Beyond its original intent of serving as timetable data, the specification now encapsulates information on other aspects surrounding transit such as stop accessibility, pathways, bike facilities, and fare structures. To accommodate the evolving transit service offerings, the specification also added new files and attributes. For example, the file ‘frequencies.txt‘ is used to support headway-based schedules, and the attributes ‘continuous_pickup’ and ‘continuous_dropoff’ accommodate services where riders can board or alight a vehicle anywhere along the route. As of May 2020<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>As of Oct 2023, the changes on May 25, 2020, were the last major change to the GTFS that added three additional files. This change is before the Sep 2021 cutoff for ChatGPT</span></span></span>, the GTFS specification comprises 24 files: 5 mandatory, 3 conditionally required, and 16 optional. Collectively, these files include over 120 unique attributes, either conveying information or facilitating relational mapping between files. While some attributes share the data types and information they represent, certain categorical attributes may further bifurcate what the attribute represents. Moreover, the attributes utilize abstractions for concise data representation, further adding to the complexity.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Given this complexity, understanding GTFS involves a grasp of specification conventions, file structures, inter-file relationships, attributes, and their respective data types &amp; abstractions. To evaluate the depth of the LLM’s understanding of GTFS, we created a benchmark that consists of a diverse array of questionnaires encompassing this complex structure. These questions are based on key parts of the GTFS documentation, transformed into a multiple-choice format. For this study, we stick to the <em id="S3.p2.1.1" class="ltx_emph ltx_font_italic">static</em> version of GTFS (also termed as GTFS Schedule) alone. However, the same methodology could be applied to the extensions of GTFS such as GTFS-Realtime and GTFS-Flex.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>GTFS Understanding Benchmark</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">For our benchmark of GTFS understanding, we employ 195 original multiple-choice questions (MCQs) with single correct answers that were meticulously crafted and span across the six question categories. The benchmarking dataset with all questionnaires is made available to the public (see Section <a href="#S6" title="6 Data Availability ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> for more info). The breakdown of the number of questions in each category is presented in Table <a href="#S3.T1" title="Table 1 ‣ 3.1 GTFS Understanding Benchmark ‣ 3 GTFS Understanding ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. We derived these questions and categories using the official GTFS Schedule documentation available at <a target="_blank" href="https://gtfs.org/schedule/reference" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://gtfs.org/schedule/reference</a> as reference.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.2.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S3.T1.3.2" class="ltx_text" style="font-size:90%;">GTFS Understanding Benchmarking dataset questionnaire and their categories</span></figcaption>
<table id="S3.T1.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T1.4.1.1" class="ltx_tr">
<th id="S3.T1.4.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.4.1.1.1.1" class="ltx_text ltx_font_bold">Question Type</span></th>
<th id="S3.T1.4.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S3.T1.4.1.1.2.1" class="ltx_text ltx_font_bold">Number of Questions</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T1.4.2.1" class="ltx_tr">
<th id="S3.T1.4.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Term Definitions</th>
<td id="S3.T1.4.2.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">14</td>
</tr>
<tr id="S3.T1.4.3.2" class="ltx_tr">
<th id="S3.T1.4.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Common Reasoning</th>
<td id="S3.T1.4.3.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">28</td>
</tr>
<tr id="S3.T1.4.4.3" class="ltx_tr">
<th id="S3.T1.4.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">File Structure</th>
<td id="S3.T1.4.4.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">17</td>
</tr>
<tr id="S3.T1.4.5.4" class="ltx_tr">
<th id="S3.T1.4.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Attribute Mapping</th>
<td id="S3.T1.4.5.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32</td>
</tr>
<tr id="S3.T1.4.6.5" class="ltx_tr">
<th id="S3.T1.4.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Data Structure</th>
<td id="S3.T1.4.6.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">30</td>
</tr>
<tr id="S3.T1.4.7.6" class="ltx_tr">
<th id="S3.T1.4.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Categorical Mapping</th>
<td id="S3.T1.4.7.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">74</td>
</tr>
<tr id="S3.T1.4.8.7" class="ltx_tr">
<th id="S3.T1.4.8.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T1.4.8.7.1.1" class="ltx_text ltx_font_bold">Total</span></th>
<td id="S3.T1.4.8.7.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="S3.T1.4.8.7.2.1" class="ltx_text ltx_font_bold">195</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">Here is the explanation for each category within this benchmark along with example questions:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><em id="S3.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Term Definitions:</em> GTFS uses terms such as “Required”, “May”, “Service Day”, etc. that are document specific. These are important to understand the file structures and attribute definitions. Examples:</p>
<ul id="S3.I1.i1.I1" class="ltx_itemize">
<li id="S3.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i1.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i1.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What is a record in GTFS? a) A basic data structure representing a service day b) A collection of field values describing a single entity c) A set of files defining transit information d) A unique identifier for a transit agency</span></p>
</div>
</li>
<li id="S3.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i1.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i1.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i1.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i1.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">What is a field in GTFS? a) A property of a dataset b) A specific date for transit service c) A basic data structure representing a service day d) A property of an object or entity</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><em id="S3.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Common Reasoning:</em> These questions test the basic knowledge of GTFS such as the abbreviation, the usage, and the purpose of different files present in GTFS. Examples:</p>
<ul id="S3.I1.i2.I1" class="ltx_itemize">
<li id="S3.I1.i2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i2.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i2.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i2.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i2.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What is the purpose of the "agency.txt" file in GTFS? a) It provides information about individual transit stops. b) It contains details about the routes and their associated stops. c) It specifies the frequency of trips. d) It provides information about the transit agency or operator.</span></p>
</div>
</li>
<li id="S3.I1.i2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i2.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i2.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">Can a GTFS feed include information about multiple modes of transportation? a) Yes, it can. b) No, it can only include information about buses. c) No, it can only include information about trains. d) No, GTFS feeds are specific to a single mode of transportation.</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p"><em id="S3.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">File Structure:</em> The GTFS specification has 8 files that are either required or conditionally required and several other files that are optional. These questions test if the GPT engine is able to find the corresponding file based on the general context. Examples:</p>
<ul id="S3.I1.i3.I1" class="ltx_itemize">
<li id="S3.I1.i3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i3.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i3.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">How is frequency-based service represented in GTFS? a) Through the "frequency.txt" file. b) By using the "calendar.txt" file. c) By specifying trip times in the "stop-times.txt" file. d) Frequency-based service is not supported in GTFS.</span></p>
</div>
</li>
<li id="S3.I1.i3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i3.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i3.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">What is the purpose of the "levels.txt" file in GTFS? a) It provides information about the levels of fare zones. b) It contains details about the levels or floors of transit stations. c) The "level.txt" file is not applicable in GTFS. d) It specifies the elevation or altitude of transit stops.</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p"><em id="S3.I1.i4.p1.1.1" class="ltx_emph ltx_font_italic">Attribute Mapping:</em> GTFS has several attributes spread across different files. The questions test if the GPT understands which attributes are present in which files. Examples:</p>
<ul id="S3.I1.i4.I1" class="ltx_itemize">
<li id="S3.I1.i4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i4.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i4.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i4.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i4.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">Which file contains the route_type attribute in GTFS? a) stops.txt b) routes.txt c) trips.txt d) shapes.txt</span></p>
</div>
</li>
<li id="S3.I1.i4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i4.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i4.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i4.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i4.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">In which file can you find the service_id attribute in GTFS? a) stops.txt b) calendar.txt c) shapes.txt d) routes.txt</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S3.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i5.p1" class="ltx_para">
<p id="S3.I1.i5.p1.1" class="ltx_p"><em id="S3.I1.i5.p1.1.1" class="ltx_emph ltx_font_italic">Data Structure:</em> GTFS standard uses several data types that are unique to the specification. For example, the color code for all routes should be a Hex code. These questions test if the attribute data types are correctly identified. Examples:</p>
<ul id="S3.I1.i5.I1" class="ltx_itemize">
<li id="S3.I1.i5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i5.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i5.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i5.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i5.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What data type is used for the date attribute in GTFS? a) Date (YYYYMMDD) b) Enum c) Text representation of the date (e.g., "September 13, 2018") d) Integer (e.g., 20180913)</span></p>
</div>
</li>
<li id="S3.I1.i5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i5.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i5.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i5.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i5.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">How is the currency_amount attribute represented in GTFS? a) Decimal value (ISO 4217) b) Nearest $5 multiple c) Integer d) Text (e.g., "$50.00")</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S3.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i6.p1" class="ltx_para">
<p id="S3.I1.i6.p1.1" class="ltx_p"><em id="S3.I1.i6.p1.1.1" class="ltx_emph ltx_font_italic">Categorical Mapping:</em> In order to concisely represent data in attributes, the GTFS feed uses categorical variables to represent data. For example, the ‘route_type’ ‘3’ corresponds to a ‘bus’ and a ‘location_type’ ‘0’ corresponds to a ‘stop’. Examples:</p>
<ul id="S3.I1.i6.I1" class="ltx_itemize">
<li id="S3.I1.i6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i6.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i6.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i6.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i6.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What does "route-type" 6 indicate in the "routes.txt" file? a) Tram, Streetcar, Light rail b) Subway, Metro c) Aerial lift, suspended cable car d) Funicular</span></p>
</div>
</li>
<li id="S3.I1.i6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S3.I1.i6.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S3.I1.i6.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i6.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i6.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">Which value in the "location_type" field of the "stops.txt" file represents a generic marker or point used for reference on a map? a) 0 b) 1 c) 2 d) 3</span></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">In evaluating the LLM’s performance on MCQs, the model selects the answer (choice) with the highest probability for each question and output that <em id="S3.SS1.p3.1.1" class="ltx_emph ltx_font_italic">without</em> the need for any explanation. An example of this question-answer process is depicted in Figure <a href="#S2.F1" title="Figure 1 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. Although the LLM may always choose the correct answer when it is present, the LLM could opt for an alternate option when the correct choice is missing. To check the LLM’s robustness, we generate an augmented question set by creating variations of the original questions. Specifically, each original answer choice denoted as ‘a’, ‘b’, ‘c’, and ‘d’—is replaced one at a time with the phrase ‘None of these,’ resulting in additional 780 (<math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="195\times 4" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mrow id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml"><mn id="S3.SS1.p3.1.m1.1.1.2" xref="S3.SS1.p3.1.m1.1.1.2.cmml">195</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p3.1.m1.1.1.1" xref="S3.SS1.p3.1.m1.1.1.1.cmml">×</mo><mn id="S3.SS1.p3.1.m1.1.1.3" xref="S3.SS1.p3.1.m1.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><apply id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1"><times id="S3.SS1.p3.1.m1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1.1"></times><cn type="integer" id="S3.SS1.p3.1.m1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.1.1.2">195</cn><cn type="integer" id="S3.SS1.p3.1.m1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">195\times 4</annotation></semantics></math>) variant questions and a total of 975 questions in the augmented dataset. Figure <a href="#S2.F1" title="Figure 1 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an example of an augmented question where option ‘c’ in the original question is replaced with ‘None of these.’ The augmentation aims to evaluate how well the LLM can adapt to scenarios where the correct answer is removed.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Results</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">In this study, we benchmarked both GPT-3.5-Turbo and GPT-4 on the original and augmented ‘GTFS Understanding’ benchmark. Using the ZS technique, the LLM attempts to answer the questions without any examples provided to it. The accuracy of ZS on different categories of questions for both GPT-3.5-Turbo and GPT-4, along with their consistency, are shown in Figure <a href="#S3.F3" title="Figure 3 ‣ 3.2 Results ‣ 3 GTFS Understanding ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Consistency in this context refers to how often both LLMs simultaneously succeed or fail to provide the correct answer. The accuracy and consistency across both LLMs and all categories are higher on the original dataset (shown in dashed) than on the augmented dataset (shown in solid). This indicates that LLMs are not robust to option substitution. The discussions in the remainder of the paper stick to the augmented dataset alone. The overall accuracy across all six categories is 59.7% for GPT-3.5-Turbo and 73.3% for GPT-4. In general, these two LLMs display a 66.3% consistency in their responses to the questions. Overall, GPT-4 performs better than GPT-3.5-Turbo, with above 90% accuracy in “File Structure” and “Attribute Mapping” type questions; above 80% in “Term Definitions” and “Data Structure”; and below 80% in “Common Reasoning” and “Categorical Mapping” categories. The GPT-3.5-Turbo has around 70% accuracy for all but the “Categorical Mapping” category, which has the worst accuracy for both LLMs. Although GPT-4 demonstrates improved accuracy for the “Categorical Mapping” category, <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\approx" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><mo id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml">≈</mo><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><approx id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"></approx></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\approx</annotation></semantics></math>15% higher than GPT-3.5-Turbo, both models encounter challenges in this particular category and are least consistent.</p>
</div>
<figure id="S3.F3" class="ltx_figure"><img src="/html/2308.02618/assets/x1.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="438" height="332" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.3.2" class="ltx_text" style="font-size:90%;">Summary of performance by question category for GPT-3.5-Turbo and GPT-4 on GTFS understanding. The dashed bars represent the original data and the solid bars represent the augmented data.</span></figcaption>
</figure>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Since LLMs embed words in latent space, the embedding for categorical variables could be similar, making it difficult for the LLMs to distinguish and easier to hallucinate. Take, for example, the categories ‘Rail’ and ‘Light Rail’ in the ‘route_type’ attribute. The words ‘Rail’ and ‘Light Rail’ have a cosine similarity <span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>Cosine similarity measures the similarity between two vectors by measuring the cosine of the angle between the vectors. Cosine similarity close to 1 represents similar vectors</span></span></span> of 0.88 with ‘text-embedding-ada-002’ embedding from OpenAI. However, in the context of GTFS, both have different meanings. The ‘Rail’ has ‘route_type’ of 2, and ‘Light Rail’ has ‘route_type’ of 0. Figure <a href="#Sx1.F6" title="Figure 6 ‣ Appendix ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> in the Appendix shows an example prompt and response where the GPT-3.5-Turbo fails to answer questions related to categorical mapping. When posed the same question with and without CoT (Figure <a href="#Sx1.F6.sf1" title="In Figure 6 ‣ Appendix ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> &amp; <a href="#Sx1.F6.sf2" title="In Figure 6 ‣ Appendix ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>), we obtained different results. However, both the results were incorrect as the <em id="S3.SS2.p2.1.1" class="ltx_emph ltx_font_italic">route_type</em> for bus routes is ‘3’. From the CoT explanation, it is evident that the LLM understands what the ‘route_type’ purpose is. However, it fails to understand the mapping of categories in it.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Information Retrieval from GTFS</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Existing literature has demonstrated that LLMs can extract information from structured tabular data <cite class="ltx_cite ltx_citemacro_citep">(Bai et al, <a href="#bib.bib1" title="" class="ltx_ref">2023</a>; Zhuang et al, <a href="#bib.bib27" title="" class="ltx_ref">2023</a>; Khatry et al, <a href="#bib.bib11" title="" class="ltx_ref">2023</a>)</cite>. This benchmark evaluates how well LLMs could perform this task on GTFS tabular data. A total of 88 questions were generated of which some are specialized to a particular GTFS feed and others more generally applicable. For questions pertaining to a GTFS feed, we used a filtered feed from the Chicago Transit Authority (CTA) for illustrative purposes. However, these questions can be adapted to any other GTFS feed by replacing the values for attributes like ‘stop_id’, ‘trip_id’, ‘route_id’, etc. in the particular feed, with the loss of generality.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>GTFS Retrieval Benchmark</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">The ‘GTFS Retrieval’ benchmark employs a question-answer (QA) format, where no options are given and the LLM is supposed to give a single, correct answer. To prepare the questionnaire, we used the CTA GTFS feed published on May 3, 2023<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>The CTA feed is available for download at <a target="_blank" href="https://transitfeeds.com/p/chicago-transit-authority/165/20230503" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://transitfeeds.com/p/chicago-transit-authority/165/20230503</a>[Accessed 2023-07-29]</span></span></span>. The full feed included data on 133 routes with 125 bus and 8 metro routes. However, LLMs have limited <em id="S4.SS1.p1.1.1" class="ltx_emph ltx_font_italic">context length</em>: a metric for the number of <em id="S4.SS1.p1.1.2" class="ltx_emph ltx_font_italic">tokens</em> the LLM can process at once. The GPT-3.5-Turbo and GPT-4 have a maximum context length of 16,385 and 32,768 tokens respectively. The full GTFS feed is much larger than either LLM can accept, so we trim the dataset to just four bus routes (‘49B’, ‘120’, ‘192’, and ‘X9’) and nine trips on these routes. These routes have 63 unique stops. Figure <a href="#S4.F4.sf1" title="In Figure 4 ‣ 4.1 GTFS Retrieval Benchmark ‣ 4 Information Retrieval from GTFS ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a> shows the map of the filtered dataset.</p>
</div>
<figure id="S4.F4" class="ltx_figure">
<figure id="S4.F4.sf1" class="ltx_figure ltx_align_center"><img src="/html/2308.02618/assets/x2.png" id="S4.F4.sf1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="281" height="645" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F4.sf1.3.2" class="ltx_text" style="font-size:90%;">Filtered Network</span></figcaption>
</figure>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.4.2" class="ltx_text" style="font-size:90%;">Bus and metro network of Chicago Transit Authority (CTA) generated using <em id="S4.F4.4.2.1" class="ltx_emph ltx_font_italic">gtfs-segments</em> python library</span></figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">These questions in this benchmark range from basic lookup (single or multiple files) to performing data manipulations by the LLM. These include common data manipulation techniques like filtering, sorting, grouping, and joining. We divide the questions into two categories:</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><em id="S4.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Simple</em>: These questions are based on simple lookups within the same file or two different files (using relational keys) within GTFS. Examples:</p>
<ul id="S4.I1.i1.I1" class="ltx_itemize">
<li id="S4.I1.i1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i1.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i1.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What is the ‘stop_sequence’ for stop_id ‘5024’?</span></p>
</div>
</li>
<li id="S4.I1.i1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i1.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i1.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i1.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i1.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">How many trips visit the stop with ‘stop_id’ 15164?</span></p>
</div>
</li>
<li id="S4.I1.i1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i1.I1.i3.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i1.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i1.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i1.I1.i3.p1.1.1" class="ltx_text ltx_font_typewriter">How many trips have ‘direction_id’ as 0?</span></p>
</div>
</li>
<li id="S4.I1.i1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i1.I1.i4.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i1.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i1.I1.i4.p1.1" class="ltx_p"><span id="S4.I1.i1.I1.i4.p1.1.1" class="ltx_text ltx_font_typewriter">How many unique ‘stop_id’ values are there for ‘route_id’ X9 in the GTFS data?</span></p>
</div>
</li>
<li id="S4.I1.i1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i1.I1.i5.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i1.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i1.I1.i5.p1.1" class="ltx_p"><span id="S4.I1.i1.I1.i5.p1.1.1" class="ltx_text ltx_font_typewriter">How many different ‘direction_id’ are there for ‘route_id’ 192 in the GTFS data?</span></p>
</div>
</li>
</ul>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><em id="S4.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Complex</em>: These questions need multiple files to extract information, require a deeper understanding, and could be open-ended. Examples:</p>
<ul id="S4.I1.i2.I1" class="ltx_itemize">
<li id="S4.I1.i2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i2.I1.i1.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i2.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i2.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i2.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">What is the ‘trip_id’ of the trip with the longest duration for the route with ‘route_id’ 192?</span></p>
</div>
</li>
<li id="S4.I1.i2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i2.I1.i2.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i2.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">How many trips have a ‘departure_time’ between 7:00 AM and 9:00 AM on weekdays (Monday to Friday)?</span></p>
</div>
</li>
<li id="S4.I1.i2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i2.I1.i3.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i2.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i2.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i2.I1.i3.p1.1.1" class="ltx_text ltx_font_typewriter">What is the ‘route_long_name’ for the route with the most wheelchair-accessible stops?</span></p>
</div>
</li>
<li id="S4.I1.i2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i2.I1.i4.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i2.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i2.I1.i4.p1.1" class="ltx_p"><span id="S4.I1.i2.I1.i4.p1.1.1" class="ltx_text ltx_font_typewriter">What is the earliest ‘departure_time’ for the trips with ‘service_id’ 65515 on the date 2023-07-05?</span></p>
</div>
</li>
<li id="S4.I1.i2.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span id="S4.I1.i2.I1.i5.1.1.1" class="ltx_text ltx_font_bold">–</span></span> 
<div id="S4.I1.i2.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i2.I1.i5.p1.1" class="ltx_p"><span id="S4.I1.i2.I1.i5.p1.1.1" class="ltx_text ltx_font_typewriter">What are the ‘trip_ids’ that have a ‘shape_dist_traveled’ greater than 10Km?</span></p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Similar to testing the understanding of GTFS, we pose questions to the LLM to see its capabilities in information retrieval. A total of 88 questions were posed with 47 simple and 41 complex questions. As ChatGPT performance on “Categorical Mapping” questions is poor, we explicitly mention the value for the categorical variable. We use zero-shot (ZS) and program synthesis (PS) prompting to generate and evaluate the responses. To pose these questions using ZS, we first input GTFS data using a series of prompts. Figure <a href="#Sx1.F7" title="Figure 7 ‣ Appendix ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> gives an example of setting up ZS prompting. Here, we use the ‘Example User’ and ‘Example Assistant’ to imitate a conversation thread where the LLM asks for all the required GTFS files from the user in a step-by-step fashion. Once, all files are input in this fashion, the actual questions are posed. For PS, we use one-shot learning as default. The LLM was able to better generalize the way to output code when provided with an illustration. Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows an example prompt for PS with a one-shot example. The code generated by the LLM is later executed in a code interpreter to obtain the results.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.2" class="ltx_p">The results (see Figure <a href="#S4.F5" title="Figure 5 ‣ 4.2 Results ‣ 4 Information Retrieval from GTFS ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>) show that the performance of program synthesis(<math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="\approx 73" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mrow id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml"></mi><mo id="S4.SS2.p2.1.m1.1.1.1" xref="S4.SS2.p2.1.m1.1.1.1.cmml">≈</mo><mn id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">73</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><approx id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1.1"></approx><csymbol cd="latexml" id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">absent</csymbol><cn type="integer" id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">73</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">\approx 73</annotation></semantics></math>% accuracy) is significantly better than the zero-shot(<math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\approx 44" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mrow id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mi id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml"></mi><mo id="S4.SS2.p2.2.m2.1.1.1" xref="S4.SS2.p2.2.m2.1.1.1.cmml">≈</mo><mn id="S4.SS2.p2.2.m2.1.1.3" xref="S4.SS2.p2.2.m2.1.1.3.cmml">44</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><approx id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1.1"></approx><csymbol cd="latexml" id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">absent</csymbol><cn type="integer" id="S4.SS2.p2.2.m2.1.1.3.cmml" xref="S4.SS2.p2.2.m2.1.1.3">44</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\approx 44</annotation></semantics></math>% accuracy) for both simple and complex levels of problems. This difference could be arising because of two reasons. With zero-shot, the LLM is unable to make the joins or connections between multiple files and instead hallucinates output or intermediate steps. The second reason would be that similar to CoT, program synthesis makes the LLM think in a step-by-step fashion thereby having fewer logical fallacies. The GPT-4 performs better than GPT-3.5-Turbo across simple and complex categories and in both ZS &amp; PS techniques. Although GPT-4 improvement is significant in complex questions, both GPT-3.5-Turbo and GPT-4 still struggle with complex questions.</p>
</div>
<figure id="S4.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="" id="S4.F5.sf1.g1" class="ltx_graphics ltx_missing ltx_missing_image" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F5.sf1.3.2" class="ltx_text" style="font-size:90%;">Accuracy of zero-shot and program synthesis</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2308.02618/assets/x4.png" id="S4.F5.sf2.g1" class="ltx_graphics ltx_img_portrait" width="460" height="676" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F5.sf2.3.2" class="ltx_text" style="font-size:90%;">Consistency in outputs</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.3.2" class="ltx_text" style="font-size:90%;">Summary of performance by question type for GPT-3.5-Turbo and GPT-4 on GTFS Retrieval benchmark</span></figcaption>
</figure>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.1" class="ltx_p">While it cannot be deduced why ZS is unable to answer correctly without CoT, the PS offers some insights to identify what the model is lacking. For GPT-3.5-Turbo, out of the 29 questions that the PS failed to answer, 18 were due to attribute mapping errors, 8 were due to logical or coding errors, and the remaining were due to errors in the understanding of data structure. For GPT-4, out of 19 incorrect responses, 10 were due to logical or coding errors, 6 were due to data structures, and 3 were due to attribute mapping errors. Figure <a href="#Sx1.F8" title="Figure 8 ‣ Appendix ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> in the Appendix shows example prompts and responses from GPT-4 where it fails to retrieve information due to logical and attribute mapping errors.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">Besides accuracy, we measure the consistency of results between ZS and PS techniques for both GPT-3.5-Turbo and GPT-4. Figure <a href="#S4.F5.sf2" title="In Figure 5 ‣ 4.2 Results ‣ 4 Information Retrieval from GTFS ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(b)</span></a> shows the consistency of outputs from both techniques. The average consistency for GPT-3.5-Turbo is about 30%, and 57% for GPT-4, indicating that the results from these two techniques are widely different, more so in the case of complex questions.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This paper tests the ability of GPT-3.5-Turbo and GPT-4 to answer questions about the GTFS specification and to extract information from the GTFS feed using two benchmarks. The LLMs are tested <em id="S5.p1.1.1" class="ltx_emph ltx_font_italic">without any</em> additional input, including the GTFS documentation. Overall, GPT-4 outperforms GPT-3.5-Turbo across all categories in both benchmarks. Through multiple-choice questions (MCQs) and zero-shot (ZS) prompting, we tested understanding and identified the shortcomings of GTFS in different categories. Although GPT-3.5-Turbo and GPT-4 work fairly well among most categories, they fail to accurately map categorical attributes to their corresponding values. To overcome this, one has to explicitly give the mapping information as an additional context or fine-tune the LLM. Also, we document that ChatGPT is not robust to option substitution. For the GTFS retrieval benchmark, the ZS prompting fails in most cases. The program synthesis (PS) works reasonably well for simple questions but struggles with hallucinations for complex queries. The PS output is significantly different from that of ZS as it may elicit a chain of thought. Besides, unlike ZS, PS can be used for asking generalized questions that are independent of a specific GTFS feed, thereby eliminating the bottleneck of context length.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">This paper demonstrates the capabilities of LLMs in comprehending GTFS data and utilizing this understanding to extract information from natural language prompts. The implications of this study may one day benefit academics, planners, local leaders, journalists, and anyone interested in parsing fine-grained transit data—particularly those with limited coding expertise. While LLMs have only recently become widely available, the study shows they can correctly answer a substantial number of detailed questions about GTFS. This raises the possibility that, in the future, LLM’s may somewhat democratize transit data extraction and analysis. This could enable more informed community input and allow even agencies without staff coding expertise to perform queries that currently require programming.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p">The paper also demonstrates a systematic approach for evaluating and benchmarking LLM’s comprehension of transit data. The set of questionnaires generated for this paper could also help with benchmarking other LLMs on GTFS understanding and information retrieval.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p">Currently, this paper works on a closed-source LLM. Therefore, the only improvement can be brought through in-context learning(i.e. prompt-based learning). Within in-context learning, breaking down the question into simpler steps could lead to better results. The hallucinations with program synthesis are a result of misalignment in “Attribute Mapping”, “Data Structures”, and logical errors in coding. The GPT-3.5-Turbo and GPT-4 API versions do not have a code interpreter and are prone to coding errors. Using a built-in code interpreter could help overcome coding errors and also elicit thinking in the LLM. The usage of open-source LLMs and training the LLMs using supervised fine-tuning (SFT) and reinforcement learning with human feedback(RLHF) still need to be explored.</p>
</div>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Data Availability</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">Both ‘GTFS Understanding’ and ‘GTFS Retrieval’ benchmarks along with the filtered GTFS data and questionnaire used in this paper are available at <a target="_blank" href="https://github.com/UTEL-UIUC/GTFS_LLM" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/UTEL-UIUC/GTFS_LLM</a>.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Acknowledgements</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">This paper was initially drafted by the authors, and subsequently, certain sections were refined by <em id="S7.p1.1.1" class="ltx_emph ltx_font_italic">gpt-3.5-turbo</em> and <em id="S7.p1.1.2" class="ltx_emph ltx_font_italic">text-davinci-002</em> to enhance clarity and improve the overall eloquence of the writing.</p>
</div>
</section>
<section id="S8" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Author Contributions</h2>

<div id="S8.p1" class="ltx_para">
<p id="S8.p1.1" class="ltx_p">The authors confirm their contribution to the paper as follows: study conception and design: S. Devunuri; data collection: S. Devunuri, S.Qiam; analysis and interpretation of results: S. Devunuri, S.Qiam, L. Lehe; draft manuscript preparation: S. Devunuri, S.Qiam, L. Lehe. All authors reviewed the results and approved the final version of the manuscript.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.1.1" class="ltx_bibitem">
<span class="ltx_bibblock"><span id="bib.1.1.1.1" class="ltx_ERROR undefined">\bibcommenthead</span>
</span>
</li>
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al (2023)</span>
<span class="ltx_bibblock">
Bai F, Kang J, Stanovsky G, et al (2023) Schema-Driven Information Extraction from Heterogeneous Tables. URL <a target="_blank" href="http://arxiv.org/abs/2305.14336" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2305.14336</a>, arXiv:2305.14336 [cs]

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bommarito II and Katz (2022)</span>
<span class="ltx_bibblock">
Bommarito II M, Katz DM (2022) Gpt takes the bar exam. arXiv preprint arXiv:221214402 <a target="_blank" href="https:/doi.org/10.48550/arXiv.2212.14402" title="" class="ltx_ref">10.48550/arXiv.2212.14402</a>

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al (2020)</span>
<span class="ltx_bibblock">
Brown TB, Mann B, Ryder N, et al (2020) Language Models are Few-Shot Learners. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2005.14165" title="" class="ltx_ref">10.48550/arXiv.2005.14165</a>, URL <a target="_blank" href="http://arxiv.org/abs/2005.14165" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2005.14165</a>, arXiv:2005.14165 [cs]

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al (2021)</span>
<span class="ltx_bibblock">
Chen M, Tworek J, Jun H, et al (2021) Evaluating Large Language Models Trained on Code. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2107.03374" title="" class="ltx_ref">10.48550/arXiv.2107.03374</a>, URL <a target="_blank" href="http://arxiv.org/abs/2107.03374" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2107.03374</a>, arXiv:2107.03374 [cs]

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Conveyal (2023)</span>
<span class="ltx_bibblock">
Conveyal L (2023) Conveyal R5 Routing Engine. URL <a target="_blank" href="https://github.com/conveyal/r5" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/conveyal/r5</a>, original-date: 2015-10-22T13:23:49Z

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devunuri and Lehe (2023)</span>
<span class="ltx_bibblock">
Devunuri S, Lehe L (2023) GTFS Segments: A fast and efficient library to generate bus stop spacings. <a target="_blank" href="https:/doi.org/10.5281/zenodo.10019419" title="" class="ltx_ref">10.5281/zenodo.10019419</a>, URL <a target="_blank" href="https://github.com/UTEL-UIUC/gtfs_segments" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/UTEL-UIUC/gtfs_segments</a>

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Devunuri et al (2022)</span>
<span class="ltx_bibblock">
Devunuri S, Qiam S, Lehe L, et al (2022) Bus stop spacings statistics: Theory and evidence. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2208.04394" title="" class="ltx_ref">10.48550/arXiv.2208.04394</a>, <a href="2208.04394" title="" class="ltx_ref ltx_url ltx_font_typewriter">2208.04394</a>

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gilson et al (2023)</span>
<span class="ltx_bibblock">
Gilson A, Safranek CW, Huang T, et al (2023) How Does ChatGPT Perform on the United States Medical Licensing Examination? The Implications of Large Language Models for Medical Education and Knowledge Assessment. JMIR Medical Education 9:e45312. <a target="_blank" href="https:/doi.org/10.2196/45312" title="" class="ltx_ref">10.2196/45312</a>, URL <a target="_blank" href="https://mededu.jmir.org/2023/1/e45312" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://mededu.jmir.org/2023/1/e45312</a>

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain et al (2022)</span>
<span class="ltx_bibblock">
Jain N, Vaidyanath S, Iyer A, et al (2022) Jigsaw: large language models meet program synthesis. In: Proceedings of the 44th International Conference on Software Engineering. Association for Computing Machinery, New York, NY, USA, ICSE ’22, pp 1219–1231, <a target="_blank" href="https:/doi.org/10.1145/3510003.3510203" title="" class="ltx_ref">10.1145/3510003.3510203</a>, URL <a target="_blank" href="https://dl.acm.org/doi/10.1145/3510003.3510203" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://dl.acm.org/doi/10.1145/3510003.3510203</a>

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Katz et al (2023)</span>
<span class="ltx_bibblock">
Katz DM, Bommarito MJ, Gao S, et al (2023) GPT-4 Passes the Bar Exam. SSRN Electronic Journal <a target="_blank" href="https:/doi.org/10.2139/ssrn.4389233" title="" class="ltx_ref">10.2139/ssrn.4389233</a>, URL <a target="_blank" href="https://www.ssrn.com/abstract=4389233" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.ssrn.com/abstract=4389233</a>

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khatry et al (2023)</span>
<span class="ltx_bibblock">
Khatry A, Cahoon J, Henkel J, et al (2023) From Words to Code: Harnessing Data for Program Synthesis from Natural Language. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2305.01598" title="" class="ltx_ref">10.48550/arXiv.2305.01598</a>, URL <a target="_blank" href="http://arxiv.org/abs/2305.01598" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2305.01598</a>, arXiv:2305.01598 [cs]

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim and Lee (2023)</span>
<span class="ltx_bibblock">
Kim J, Lee J (2023) How does ChatGPT Introduce Transport Problems and Solutions in North America? Findings <a target="_blank" href="https:/doi.org/10.32866/001c.72634" title="" class="ltx_ref">10.32866/001c.72634</a>, URL <a target="_blank" href="https://findingspress.org/article/72634-how-does-chatgpt-introduce-transport-problems-and-solutions-in-north-america" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://findingspress.org/article/72634-how-does-chatgpt-introduce-transport-problems-and-solutions-in-north-america</a>, publisher: Findings Press

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kojima et al (2023)</span>
<span class="ltx_bibblock">
Kojima T, Gu SS, Reid M, et al (2023) Large language models are zero-shot reasoners. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2205.11916" title="" class="ltx_ref">10.48550/arXiv.2205.11916</a>, <a href="2205.11916" title="" class="ltx_ref ltx_url ltx_font_typewriter">2205.11916</a>

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee et al (2023)</span>
<span class="ltx_bibblock">
Lee TC, Staller K, Botoman V, et al (2023) ChatGPT Answers Common Patient Questions About Colonoscopy. Gastroenterology 165(2):509–511.e7. <a target="_blank" href="https:/doi.org/10.1053/j.gastro.2023.04.033" title="" class="ltx_ref">10.1053/j.gastro.2023.04.033</a>, URL <a target="_blank" href="https://linkinghub.elsevier.com/retrieve/pii/S0016508523007047" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://linkinghub.elsevier.com/retrieve/pii/S0016508523007047</a>

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McHugh (2013)</span>
<span class="ltx_bibblock">
McHugh B (2013) Pioneering open data standards: The gtfs story. Beyond transparency: open data and the future of civic innovation pp 125–135. URL <a target="_blank" href="https://beyondtransparency.org/part-2/pioneering-open-data-standards-the-gtfs-story/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://beyondtransparency.org/part-2/pioneering-open-data-standards-the-gtfs-story/</a>

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McKinney (2010)</span>
<span class="ltx_bibblock">
McKinney W (2010) Data Structures for Statistical Computing in Python. In: Stéfan van der Walt, Jarrod Millman (eds) Proceedings of the 9th Python in Science Conference, pp 56 – 61, <a target="_blank" href="https:/doi.org/10.25080/Majora-92bf1922-00a" title="" class="ltx_ref">10.25080/Majora-92bf1922-00a</a>

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mumtarin et al (2023)</span>
<span class="ltx_bibblock">
Mumtarin M, Chowdhury MS, Wood J (2023) Large language models in analyzing crash narratives – a comparative study of chatgpt, bard and gpt-4. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2308.13563" title="" class="ltx_ref">10.48550/arXiv.2308.13563</a>, <a href="2308.13563" title="" class="ltx_ref ltx_url ltx_font_typewriter">2308.13563</a>

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pereira et al (2021)</span>
<span class="ltx_bibblock">
Pereira RHM, Saraiva M, Herszenhut D, et al (2021) r5r: Rapid realistic routing on multimodal transport networks with R<math id="bib.bib18.1.m1.1" class="ltx_Math" alttext="{}^{\textrm{5}}" display="inline"><semantics id="bib.bib18.1.m1.1a"><msup id="bib.bib18.1.m1.1.1" xref="bib.bib18.1.m1.1.1.cmml"><mi id="bib.bib18.1.m1.1.1a" xref="bib.bib18.1.m1.1.1.cmml"></mi><mtext id="bib.bib18.1.m1.1.1.1" xref="bib.bib18.1.m1.1.1.1a.cmml">5</mtext></msup><annotation-xml encoding="MathML-Content" id="bib.bib18.1.m1.1b"><apply id="bib.bib18.1.m1.1.1.cmml" xref="bib.bib18.1.m1.1.1"><ci id="bib.bib18.1.m1.1.1.1a.cmml" xref="bib.bib18.1.m1.1.1.1"><mtext mathsize="70%" id="bib.bib18.1.m1.1.1.1.cmml" xref="bib.bib18.1.m1.1.1.1">5</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="bib.bib18.1.m1.1c">{}^{\textrm{5}}</annotation></semantics></math> in r. Findings <a target="_blank" href="https:/doi.org/10.32866/001c.21262" title="" class="ltx_ref">10.32866/001c.21262</a>, URL <a target="_blank" href="https://findingspress.org/article/21262-r5r-rapid-realistic-routing-on-multimodal-transport-networks-with-r-5-in-r" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://findingspress.org/article/21262-r5r-rapid-realistic-routing-on-multimodal-transport-networks-with-r-5-in-r</a>, publisher: Network Design Lab

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ray and Majumder (2023)</span>
<span class="ltx_bibblock">
Ray PP, Majumder P (2023) Assessing the Accuracy of Responses by the Language Model ChatGPT to Questions Regarding Bariatric Surgery: a Critical Appraisal. Obesity Surgery 33(8):2588–2589. <a target="_blank" href="https:/doi.org/10.1007/s11695-023-06664-6" title="" class="ltx_ref">10.1007/s11695-023-06664-6</a>, URL <a target="_blank" href="https://doi.org/10.1007/s11695-023-06664-6" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1007/s11695-023-06664-6</a>

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sobania et al (2022)</span>
<span class="ltx_bibblock">
Sobania D, Briesch M, Rothlauf F (2022) Choose your programming copilot: a comparison of the program synthesis performance of github copilot and genetic programming. In: Proceedings of the Genetic and Evolutionary Computation Conference. Association for Computing Machinery, New York, NY, USA, GECCO ’22, pp 1019–1027, <a target="_blank" href="https:/doi.org/10.1145/3512290.3528700" title="" class="ltx_ref">10.1145/3512290.3528700</a>, URL <a target="_blank" href="https://dl.acm.org/doi/10.1145/3512290.3528700" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://dl.acm.org/doi/10.1145/3512290.3528700</a>

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sobania et al (2023a)</span>
<span class="ltx_bibblock">
Sobania D, Briesch M, Hanna C, et al (2023a) An Analysis of the Automatic Bug Fixing Performance of ChatGPT. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2301.08653" title="" class="ltx_ref">10.48550/arXiv.2301.08653</a>, URL <a target="_blank" href="http://arxiv.org/abs/2301.08653" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2301.08653</a>, arXiv:2301.08653 [cs]

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sobania et al (2023b)</span>
<span class="ltx_bibblock">
Sobania D, Schweim D, Rothlauf F (2023b) A comprehensive survey on program synthesis with evolutionary algorithms. IEEE Transactions on Evolutionary Computation 27(1):82–97. <a target="_blank" href="https:/doi.org/10.1109/TEVC.2022.3162324" title="" class="ltx_ref">10.1109/TEVC.2022.3162324</a>

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Voß (2023)</span>
<span class="ltx_bibblock">
Voß S (2023) Bus bunching and bus bridging: What can we learn from generative ai tools like chatgpt? Sustainability 15(12):9625. <a target="_blank" href="https:/doi.org/10.3390/su15129625" title="" class="ltx_ref">10.3390/su15129625</a>

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Voulgaris and Begwani (2023)</span>
<span class="ltx_bibblock">
Voulgaris CT, Begwani C (2023) Predictors of early adoption of the general transit feed specification. Findings <a target="_blank" href="https:/doi.org/10.32866/001c.57722" title="" class="ltx_ref">10.32866/001c.57722</a>

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al (2023)</span>
<span class="ltx_bibblock">
Wei J, Wang X, Schuurmans D, et al (2023) Chain-of-Thought Prompting Elicits Reasoning in Large Language Models. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2201.11903" title="" class="ltx_ref">10.48550/arXiv.2201.11903</a>, URL <a target="_blank" href="http://arxiv.org/abs/2201.11903" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2201.11903</a>, arXiv:2201.11903 [cs]

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al (2023)</span>
<span class="ltx_bibblock">
Zheng O, Abdel-Aty M, Wang D, et al (2023) Chatgpt is on the horizon: Could a large language model be all we need for intelligent transportation? <a target="_blank" href="https:/doi.org/10.48550/arXiv.2303.05382" title="" class="ltx_ref">10.48550/arXiv.2303.05382</a>, <a href="2303.05382" title="" class="ltx_ref ltx_url ltx_font_typewriter">2303.05382</a>

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhuang et al (2023)</span>
<span class="ltx_bibblock">
Zhuang Y, Yu Y, Wang K, et al (2023) ToolQA: A Dataset for LLM Question Answering with External Tools. <a target="_blank" href="https:/doi.org/10.48550/arXiv.2306.13304" title="" class="ltx_ref">10.48550/arXiv.2306.13304</a>, URL <a target="_blank" href="http://arxiv.org/abs/2306.13304" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/2306.13304</a>, arXiv:2306.13304 [cs]

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Appendix</h2>

<figure id="Sx1.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="Sx1.F6.sf1.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf1.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf1.2.1.1" class="ltx_p"><span id="Sx1.F6.sf1.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="Sx1.F6.sf1.2.1.1.2" class="ltx_text" style="color:#000000;">:

</span>
<br class="ltx_break"><span id="Sx1.F6.sf1.2.1.1.3" class="ltx_text" style="color:#000000;">…</span>
<br class="ltx_break"><em id="Sx1.F6.sf1.2.1.1.4" class="ltx_emph ltx_font_italic" style="color:#000000;">Instructions:</em>
<br class="ltx_break"><span id="Sx1.F6.sf1.2.1.1.5" class="ltx_text" style="color:#000000;">- You </span><span id="Sx1.F6.sf1.2.1.1.6" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">do not</span><span id="Sx1.F6.sf1.2.1.1.7" class="ltx_text" style="color:#000000;"> have to provide any explanation.</span>
<br class="ltx_break"><span id="Sx1.F6.sf1.2.1.1.8" class="ltx_text" style="color:#000000;">…</span></span>
</span>
<span id="Sx1.F6.sf1.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf1.2.2.1" class="ltx_p"><span id="Sx1.F6.sf1.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="Sx1.F6.sf1.2.2.1.2" class="ltx_text" style="color:#000000;">:

In the ”route_type” field of the ”routes.txt” file, which value represents a bus? </span>
<br class="ltx_break"><span id="Sx1.F6.sf1.2.2.1.3" class="ltx_text" style="color:#000000;">a) 0 b) 1 c) 2 d) 3</span></span>
</span>
<span id="Sx1.F6.sf1.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf1.2.3.1" class="ltx_p"><span id="Sx1.F6.sf1.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="Sx1.F6.sf1.2.3.1.2" class="ltx_text" style="color:#000000;">:

a</span></span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F6.sf1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="Sx1.F6.sf1.4.2" class="ltx_text" style="font-size:90%;">Zero-Shot (ZS) Prompt</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="Sx1.F6.sf2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf2.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf2.2.1.1" class="ltx_p"><span id="Sx1.F6.sf2.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="Sx1.F6.sf2.2.1.1.2" class="ltx_text" style="color:#000000;">:

</span>
<br class="ltx_break"><span id="Sx1.F6.sf2.2.1.1.3" class="ltx_text" style="color:#000000;">…</span>
<br class="ltx_break"><em id="Sx1.F6.sf2.2.1.1.4" class="ltx_emph ltx_font_italic" style="color:#000000;">Instructions:</em>
<br class="ltx_break"><span id="Sx1.F6.sf2.2.1.1.5" class="ltx_text" style="color:#000000;">- Provide a </span><span id="Sx1.F6.sf2.2.1.1.6" class="ltx_text ltx_framed ltx_framed_underline" style="color:#000000;">step-by-step explanation</span><span id="Sx1.F6.sf2.2.1.1.7" class="ltx_text" style="color:#000000;"> for the answer </span>
<br class="ltx_break"><span id="Sx1.F6.sf2.2.1.1.8" class="ltx_text" style="color:#000000;">…</span></span>
</span>
<span id="Sx1.F6.sf2.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf2.2.2.1" class="ltx_p"><span id="Sx1.F6.sf2.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="Sx1.F6.sf2.2.2.1.2" class="ltx_text" style="color:#000000;">:

In the “route_type” field of the “routes.txt” file, which value represents a bus? </span>
<br class="ltx_break"><span id="Sx1.F6.sf2.2.2.1.3" class="ltx_text" style="color:#000000;">a) 0 b) 1 c) 2 d) 3</span></span>
</span>
<span id="Sx1.F6.sf2.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F6.sf2.2.3.1" class="ltx_p"><span id="Sx1.F6.sf2.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="Sx1.F6.sf2.2.3.1.2" class="ltx_text" style="color:#000000;">:

The correct answer is b) 1. </span>
<br class="ltx_break"><span id="Sx1.F6.sf2.2.3.1.3" class="ltx_text" style="color:#000000;">Explanation: In the “routes.txt” file of a GTFS feed, the “route_type” field is used to indicate the type of transportation for a particular route.
Each route can be assigned a specific value in the “route_type” field to represent the mode of transportation. According to the GTFS specification, the value 1 is used to represent a bus route. This means that if the “route_type” field has a value of 1, it indicates that the route is for a bus. Therefore, the correct answer is b) 1.</span></span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F6.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="Sx1.F6.sf2.4.2" class="ltx_text" style="font-size:90%;">Zero-shot with Chain of Thought (CoT) prompt</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F6.2.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="Sx1.F6.3.2" class="ltx_text" style="font-size:90%;">GPT-3.5-Turbo makes mistakes with ‘Categorical Mapping’. The difference between ZS &amp; CoT is the single instruction change highlighted in the system prompt. The ‘route_type’ for the bus is ‘3’ according to the GTFS documentaion</span></figcaption>
</figure>
<figure id="Sx1.F7" class="ltx_figure">
<span id="Sx1.F7.2" class="ltx_inline-block ltx_align_center ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.1.1" class="ltx_p"><span id="Sx1.F7.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">System</span><span id="Sx1.F7.2.1.1.2" class="ltx_text" style="color:#000000;">:

You are a helpful assistant with an understanding of GTFS(General Transit Feed Specification). You will be posed question that require you to retrieve information.</span>
<br class="ltx_break"><em id="Sx1.F7.2.1.1.3" class="ltx_emph ltx_font_italic" style="color:#000000;">Instructions:</em>
<br class="ltx_break"><span id="Sx1.F7.2.1.1.4" class="ltx_text" style="color:#000000;">- Use the files provided to you for information extraction</span>
<br class="ltx_break"><span id="Sx1.F7.2.1.1.5" class="ltx_text" style="color:#000000;">- Respond to the question with the answer only</span></span>
</span>
<span id="Sx1.F7.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.2.1" class="ltx_p"><span id="Sx1.F7.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example User</span><span id="Sx1.F7.2.2.1.2" class="ltx_text" style="color:#000000;">:

Use GTFS file format and structure and identify files required. Ask each file one by one, and I will provide the input. Here are the files:</span></span>
<span id="Sx1.I1" class="ltx_enumerate">
<span id="Sx1.I1.i1" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">1.</span> 
<span id="Sx1.I1.i1.p1" class="ltx_para">
<span id="Sx1.I1.i1.p1.1" class="ltx_p"><span id="Sx1.I1.i1.p1.1.1" class="ltx_text" style="color:#000000;">agency.txt</span></span>
</span></span>
<span id="Sx1.I1.i2" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">2.</span> 
<span id="Sx1.I1.i2.p1" class="ltx_para">
<span id="Sx1.I1.i2.p1.1" class="ltx_p"><span id="Sx1.I1.i2.p1.1.1" class="ltx_text" style="color:#000000;">stops.txt</span></span>
</span></span>
<span id="Sx1.I1.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">3.</span> 
<span id="Sx1.I1.i3.p1" class="ltx_para">
<span id="Sx1.I1.i3.p1.1" class="ltx_p"><span id="Sx1.I1.i3.p1.1.1" class="ltx_text" style="color:#000000;">routes.txt</span></span>
</span></span>
<span id="Sx1.I1.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">4.</span> 
<span id="Sx1.I1.i4.p1" class="ltx_para">
<span id="Sx1.I1.i4.p1.1" class="ltx_p"><span id="Sx1.I1.i4.p1.1.1" class="ltx_text" style="color:#000000;">trips.txt</span></span>
</span></span>
<span id="Sx1.I1.i5" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">5.</span> 
<span id="Sx1.I1.i5.p1" class="ltx_para">
<span id="Sx1.I1.i5.p1.1" class="ltx_p"><span id="Sx1.I1.i5.p1.1.1" class="ltx_text" style="color:#000000;">stop_times.txt</span></span>
</span></span>
<span id="Sx1.I1.i6" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">6.</span> 
<span id="Sx1.I1.i6.p1" class="ltx_para">
<span id="Sx1.I1.i6.p1.1" class="ltx_p"><span id="Sx1.I1.i6.p1.1.1" class="ltx_text" style="color:#000000;">calendar.txt</span></span>
</span></span>
<span id="Sx1.I1.i7" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">7.</span> 
<span id="Sx1.I1.i7.p1" class="ltx_para">
<span id="Sx1.I1.i7.p1.1" class="ltx_p"><span id="Sx1.I1.i7.p1.1.1" class="ltx_text" style="color:#000000;">calendar_dates.txt</span></span>
</span></span>
</span>
</span>
<span id="Sx1.F7.2.3" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.3.1" class="ltx_p"><span id="Sx1.F7.2.3.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example Assistant</span><span id="Sx1.F7.2.3.1.2" class="ltx_text" style="color:#000000;">:

Could you please provide the input for the agency.txt file?</span></span>
</span>
<span id="Sx1.F7.2.4" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.4.1" class="ltx_p"><span id="Sx1.F7.2.4.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example User</span><span id="Sx1.F7.2.4.1.2" class="ltx_text" style="color:#000000;">:</span></span>
<span id="Sx1.F7.2.4.2" class="ltx_p"><span id="Sx1.F7.2.4.2.1" class="ltx_text" style="color:#000000;">agency_name,agency_url,agency_timezone,agency_lang,agency_phone, </span>
<br class="ltx_break"><span id="Sx1.F7.2.4.2.2" class="ltx_text" style="color:#000000;">agency_fare_url </span>
<br class="ltx_break"><span id="Sx1.F7.2.4.2.3" class="ltx_text" style="color:#000000;">Chicago Transit Authority,http://transitchicago.com,America/Chicago,en,</span>
<br class="ltx_break"><span id="Sx1.F7.2.4.2.4" class="ltx_text" style="color:#000000;">1-888-YOURCTA,http://www.transitchicago.com/travel_information/fares</span>
<br class="ltx_break"><span id="Sx1.F7.2.4.2.5" class="ltx_text" style="color:#000000;">/default.aspx</span></span>
</span>
<span id="Sx1.F7.2.5" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.5.1" class="ltx_p"><span id="Sx1.F7.2.5.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Example Assistant</span><span id="Sx1.F7.2.5.1.2" class="ltx_text" style="color:#000000;">:

Great! Could you please provide stops.txt file?</span></span>
</span>
<span id="Sx1.F7.2.6" class="ltx_p">…
<br class="ltx_break">
<span id="Sx1.F7.2.6.1" class="ltx_text" style="color:#000000;">

<span id="Sx1.F7.2.6.1.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.6.1.1.1" class="ltx_p"><span id="Sx1.F7.2.6.1.1.1.1" class="ltx_text ltx_font_bold">User</span>:

Skip the rest of the files. Now answer the following questions: 
<br class="ltx_break">1) What is the route_short_name for route_id 192? 
<br class="ltx_break">2) How many stops are there for trip_id 6550025444020? …</span>
</span></span>


<span id="Sx1.F7.2.6.2" class="ltx_text" style="color:#000000;">

<span id="Sx1.F7.2.6.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F7.2.6.2.1.1" class="ltx_p"><span id="Sx1.F7.2.6.2.1.1.1" class="ltx_text ltx_font_bold">Assistant</span>:

1) University of Chicago Hospitals Express
2)35 …</span>
</span></span></span>
</span>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F7.3.1.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="Sx1.F7.4.2" class="ltx_text" style="font-size:90%;">Example Prompt and Response for Zero-shot GTFS Information Retrieval. The ‘Example User’ and ‘Example Assistant’ are used to imitate a conversation. The response is generated by the GPT-3.5-Turbo model.</span></figcaption>
</figure>
<figure id="Sx1.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F8.sf1" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="Sx1.F8.sf1.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf1.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf1.2.1.1" class="ltx_p"><span id="Sx1.F8.sf1.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="Sx1.F8.sf1.2.1.1.2" class="ltx_text" style="color:#000000;">:

What is the average number of stops (stop_id) for a trip in each route_type in the GTFS data?</span></span>
</span>
<span id="Sx1.F8.sf1.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf1.2.2.1" class="ltx_p"><span id="Sx1.F8.sf1.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="Sx1.F8.sf1.2.2.1.2" class="ltx_text" style="color:#000000;">:</span></span>
<span id="Sx1.F8.sf1.2.2.2" class="ltx_listing ltx_lst_language_python ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" style="background-color:#FFFFFF;border-color: #999999;"><span class="ltx_listing_data"><a href="data:text/plain;base64,c3RvcHNfZGYgPSBwZC5yZWFkX2Nzdignc3RvcHMudHh0JykKdHJpcHNfZGYgPSBwZC5yZWFkX2NzdigndHJpcHMudHh0JykKcm91dGVzX2RmID0gcGQucmVhZF9jc3YoJ3JvdXRlcy50eHQnKQpzdG9wX3RpbWVzX2RmID0gcGQucmVhZF9jc3YoJ3N0b3BfdGltZXMudHh0JykKIyBNZXJnZSB0aGUgZGF0YWZyYW1lcwptZXJnZWRfZGYgPSBwZC5tZXJnZShzdG9wX3RpbWVzX2RmW1sndHJpcF9pZCcsICdzdG9wX2lkJ11dLCB0cmlwc19kZltbJ3RyaXBfaWQnLCAncm91dGVfaWQnXV0sIG9uPSd0cmlwX2lkJykKbWVyZ2VkX2RmID0gcGQubWVyZ2UobWVyZ2VkX2RmLCByb3V0ZXNfZGZbWydyb3V0ZV9pZCcsICdyb3V0ZV90eXBlJ11dLCBvbj0ncm91dGVfaWQnKQojIEdyb3VwIGJ5IHJvdXRlX3R5cGUgYW5kIGNhbGN1bGF0ZSB0aGUgYXZlcmFnZSBudW1iZXIgb2Ygc3RvcHMKYXZlcmFnZV9zdG9wcyA9IG1lcmdlZF9kZi5ncm91cGJ5KCdyb3V0ZV90eXBlJylbJ3N0b3BfaWQnXS5udW5pcXVlKCkubWVhbigpCiMgU3RvcmUgdGhlIHJlc3VsdCBpbiBhIHZhcmlhYmxlIGNhbGxlZCBgYW5zd2VyYAphbnN3ZXIgPSBhdmVyYWdlX3N0b3Bz" download="">⬇</a></span>
<span id="lstnumberx9" class="ltx_listingline"><span id="lstnumberx9.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">stops_df</span><span id="lstnumberx9.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx9.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx9.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx9.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx9.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx9.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx9.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx9.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’stops.txt’</span><span id="lstnumberx9.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx10" class="ltx_listingline"><span id="lstnumberx10.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trips_df</span><span id="lstnumberx10.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx10.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx10.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx10.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx10.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx10.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx10.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx10.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trips.txt’</span><span id="lstnumberx10.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx11" class="ltx_listingline"><span id="lstnumberx11.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx11.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx11.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx11.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx11.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx11.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx11.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx11.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx11.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’routes.txt’</span><span id="lstnumberx11.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx12" class="ltx_listingline"><span id="lstnumberx12.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">stop_times_df</span><span id="lstnumberx12.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx12.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx12.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx12.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx12.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx12.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx12.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx12.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’stop_times.txt’</span><span id="lstnumberx12.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx13" class="ltx_listingline"><span id="lstnumberx13.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx13.1.1" class="ltx_text ltx_lst_space"> </span>Merge<span id="lstnumberx13.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx13.1.3" class="ltx_text ltx_lst_space"> </span>dataframes</span>
</span>
<span id="lstnumberx14" class="ltx_listingline"><span id="lstnumberx14.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merged_df</span><span id="lstnumberx14.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx14.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx14.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx14.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merge</span><span id="lstnumberx14.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx14.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">stop_times_df</span><span id="lstnumberx14.10" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx14.11" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx14.12" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trip_id’</span><span id="lstnumberx14.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx14.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.15" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’stop_id’</span><span id="lstnumberx14.16" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx14.17" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx14.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx14.19" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.20" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trips_df</span><span id="lstnumberx14.21" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx14.22" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx14.23" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trip_id’</span><span id="lstnumberx14.24" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx14.25" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.26" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_id’</span><span id="lstnumberx14.27" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx14.28" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx14.29" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx14.30" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx14.31" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">on</span><span id="lstnumberx14.32" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx14.33" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trip_id’</span><span id="lstnumberx14.34" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx15" class="ltx_listingline"><span id="lstnumberx15.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merged_df</span><span id="lstnumberx15.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx15.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx15.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx15.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx15.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx15.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merge</span><span id="lstnumberx15.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx15.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merged_df</span><span id="lstnumberx15.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx15.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx15.12" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx15.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx15.14" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx15.15" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_id’</span><span id="lstnumberx15.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx15.17" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx15.18" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_type’</span><span id="lstnumberx15.19" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx15.20" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx15.21" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">,</span><span id="lstnumberx15.22" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx15.23" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">on</span><span id="lstnumberx15.24" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx15.25" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_id’</span><span id="lstnumberx15.26" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx16" class="ltx_listingline"><span id="lstnumberx16.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx16.1.1" class="ltx_text ltx_lst_space"> </span>Group<span id="lstnumberx16.1.2" class="ltx_text ltx_lst_space"> </span>by<span id="lstnumberx16.1.3" class="ltx_text ltx_lst_space"> </span>route_type<span id="lstnumberx16.1.4" class="ltx_text ltx_lst_space"> </span>and<span id="lstnumberx16.1.5" class="ltx_text ltx_lst_space"> </span>calculate<span id="lstnumberx16.1.6" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx16.1.7" class="ltx_text ltx_lst_space"> </span>average<span id="lstnumberx16.1.8" class="ltx_text ltx_lst_space"> </span>number<span id="lstnumberx16.1.9" class="ltx_text ltx_lst_space"> </span>of<span id="lstnumberx16.1.10" class="ltx_text ltx_lst_space"> </span>stops</span>
</span>
<span id="lstnumberx17" class="ltx_listingline"><span id="lstnumberx17.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">average_stops</span><span id="lstnumberx17.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx17.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx17.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx17.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">merged_df</span><span id="lstnumberx17.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx17.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">groupby</span><span id="lstnumberx17.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx17.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_type’</span><span id="lstnumberx17.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span><span id="lstnumberx17.11" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx17.12" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’stop_id’</span><span id="lstnumberx17.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx17.14" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx17.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">nunique</span><span id="lstnumberx17.16" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">().</span><span id="lstnumberx17.17" class="ltx_text ltx_lst_emph4 ltx_font_typewriter" style="font-size:80%;color:#006699;">mean</span><span id="lstnumberx17.18" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">()</span>
</span>
<span id="lstnumberx18" class="ltx_listingline"><span id="lstnumberx18.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx18.1.1" class="ltx_text ltx_lst_space"> </span>Store<span id="lstnumberx18.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx18.1.3" class="ltx_text ltx_lst_space"> </span>result<span id="lstnumberx18.1.4" class="ltx_text ltx_lst_space"> </span>in<span id="lstnumberx18.1.5" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx18.1.6" class="ltx_text ltx_lst_space"> </span>variable<span id="lstnumberx18.1.7" class="ltx_text ltx_lst_space"> </span>called<span id="lstnumberx18.1.8" class="ltx_text ltx_lst_space"> </span>‘answer‘</span>
</span>
<span id="lstnumberx19" class="ltx_listingline"><span id="lstnumberx19.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">answer</span><span id="lstnumberx19.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx19.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx19.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx19.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">average_stops</span>
</span>
</span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F8.sf1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="Sx1.F8.sf1.4.2" class="ltx_text" style="font-size:90%;">Example GTFS Retrieval question where the GPT-4 makes a logical mistake. The GPT-4 initially performs the merge of data frames correctly. However, the grouping is performed on ‘route_type’ alone instead of ‘route_type’ and ‘trip_id’</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="Sx1.F8.sf2" class="ltx_figure ltx_figure_panel ltx_align_center">
<span id="Sx1.F8.sf2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf2.2.1" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf2.2.1.1" class="ltx_p"><span id="Sx1.F8.sf2.2.1.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">User</span><span id="Sx1.F8.sf2.2.1.1.2" class="ltx_text" style="color:#000000;">:

What is the trip_id with the highest shape_dist_traveled on the “North Western” route?</span></span>
</span>
<span id="Sx1.F8.sf2.2.2" class="ltx_inline-block ltx_framed ltx_framed_rectangle" style="border-color: #000000;">
<span id="Sx1.F8.sf2.2.2.1" class="ltx_p"><span id="Sx1.F8.sf2.2.2.1.1" class="ltx_text ltx_font_bold" style="color:#000000;">Assistant</span><span id="Sx1.F8.sf2.2.2.1.2" class="ltx_text" style="color:#000000;">:</span></span>
<span id="Sx1.F8.sf2.2.2.2" class="ltx_listing ltx_lst_language_python ltx_lstlisting ltx_framed ltx_framed_rectangle ltx_listing" style="background-color:#FFFFFF;border-color: #999999;"><span class="ltx_listing_data"><a href="data:text/plain;base64,cm91dGVzX2RmID0gcGQucmVhZF9jc3YoJ3JvdXRlcy50eHQnKQp0cmlwc19kZiA9IHBkLnJlYWRfY3N2KCd0cmlwcy50eHQnKQojIEZpbmQgdGhlIHJvdXRlX2lkIGZvciB0aGUgIiJOb3J0aCBXZXN0ZXJuIiIgcm91dGUKbm9ydGhfd2VzdGVybl9yb3V0ZV9pZCA9IHJvdXRlc19kZltyb3V0ZXNfZGZbJ3JvdXRlX2xvbmdfbmFtZSddID09ICdOb3J0aCBXZXN0ZXJuJ11bJ3JvdXRlX2lkJ10udmFsdWVzWzBdCiMgRmlsdGVyIHRoZSB0cmlwcyBmb3IgdGhlICIiTm9ydGggV2VzdGVybiIiIHJvdXRlCm5vcnRoX3dlc3Rlcm5fdHJpcHMgPSB0cmlwc19kZlt0cmlwc19kZlsncm91dGVfaWQnXSA9PSBub3J0aF93ZXN0ZXJuX3JvdXRlX2lkXQojIEZpbmQgdGhlIHRyaXBfaWQgd2l0aCB0aGUgaGlnaGVzdCBzaGFwZV9kaXN0X3RyYXZlbGVkCnRyaXBfaWQgPSBub3J0aF93ZXN0ZXJuX3RyaXBzLmxvY1tub3J0aF93ZXN0ZXJuX3RyaXBzWydzaGFwZV9kaXN0X3RyYXZlbGVkJ10uaWR4bWF4KCldWyd0cmlwX2lkJ10KIyBTdG9yZSB0aGUgcmVzdWx0IGluIGEgdmFyaWFibGUgY2FsbGVkIGBhbnN3ZXJgCmFuc3dlciA9IHRyaXBfaWQ=" download="">⬇</a></span>
<span id="lstnumberx20" class="ltx_listingline"><span id="lstnumberx20.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx20.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx20.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx20.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx20.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx20.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx20.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx20.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx20.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’routes.txt’</span><span id="lstnumberx20.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx21" class="ltx_listingline"><span id="lstnumberx21.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trips_df</span><span id="lstnumberx21.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx21.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx21.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx21.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">pd</span><span id="lstnumberx21.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx21.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">read_csv</span><span id="lstnumberx21.8" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">(</span><span id="lstnumberx21.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trips.txt’</span><span id="lstnumberx21.10" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">)</span>
</span>
<span id="lstnumberx22" class="ltx_listingline"><span id="lstnumberx22.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx22.1.1" class="ltx_text ltx_lst_space"> </span>Find<span id="lstnumberx22.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx22.1.3" class="ltx_text ltx_lst_space"> </span>route_id<span id="lstnumberx22.1.4" class="ltx_text ltx_lst_space"> </span>for<span id="lstnumberx22.1.5" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx22.1.6" class="ltx_text ltx_lst_space"> </span>""North<span id="lstnumberx22.1.7" class="ltx_text ltx_lst_space"> </span>Western""<span id="lstnumberx22.1.8" class="ltx_text ltx_lst_space"> </span>route</span>
</span>
<span id="lstnumberx23" class="ltx_listingline"><span id="lstnumberx23.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">north_western_route_id</span><span id="lstnumberx23.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx23.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx23.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx23.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx23.6" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx23.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">routes_df</span><span id="lstnumberx23.8" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx23.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_long_name’</span><span id="lstnumberx23.10" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx23.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx23.12" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx23.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx23.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx23.15" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’North<span id="lstnumberx23.15.1" class="ltx_text ltx_lst_space"> </span>Western’</span><span id="lstnumberx23.16" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx23.17" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx23.18" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_id’</span><span id="lstnumberx23.19" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx23.20" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx23.21" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">values</span><span id="lstnumberx23.22" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx23.23" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">0</span><span id="lstnumberx23.24" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span>
</span>
<span id="lstnumberx24" class="ltx_listingline"><span id="lstnumberx24.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx24.1.1" class="ltx_text ltx_lst_space"> </span>Filter<span id="lstnumberx24.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx24.1.3" class="ltx_text ltx_lst_space"> </span>trips<span id="lstnumberx24.1.4" class="ltx_text ltx_lst_space"> </span>for<span id="lstnumberx24.1.5" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx24.1.6" class="ltx_text ltx_lst_space"> </span>""North<span id="lstnumberx24.1.7" class="ltx_text ltx_lst_space"> </span>Western""<span id="lstnumberx24.1.8" class="ltx_text ltx_lst_space"> </span>route</span>
</span>
<span id="lstnumberx25" class="ltx_listingline"><span id="lstnumberx25.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">north_western_trips</span><span id="lstnumberx25.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx25.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx25.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx25.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trips_df</span><span id="lstnumberx25.6" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx25.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trips_df</span><span id="lstnumberx25.8" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx25.9" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’route_id’</span><span id="lstnumberx25.10" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx25.11" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx25.12" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx25.13" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx25.14" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx25.15" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">north_western_route_id</span><span id="lstnumberx25.16" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span>
</span>
<span id="lstnumberx26" class="ltx_listingline"><span id="lstnumberx26.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx26.1.1" class="ltx_text ltx_lst_space"> </span>Find<span id="lstnumberx26.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx26.1.3" class="ltx_text ltx_lst_space"> </span>trip_id<span id="lstnumberx26.1.4" class="ltx_text ltx_lst_space"> </span>with<span id="lstnumberx26.1.5" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx26.1.6" class="ltx_text ltx_lst_space"> </span>highest<span id="lstnumberx26.1.7" class="ltx_text ltx_lst_space"> </span>shape_dist_traveled</span>
</span>
<span id="lstnumberx27" class="ltx_listingline"><span id="lstnumberx27.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trip_id</span><span id="lstnumberx27.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx27.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx27.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx27.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">north_western_trips</span><span id="lstnumberx27.6" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx27.7" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">loc</span><span id="lstnumberx27.8" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx27.9" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">north_western_trips</span><span id="lstnumberx27.10" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx27.11" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’shape_dist_traveled’</span><span id="lstnumberx27.12" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx27.13" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">.</span><span id="lstnumberx27.14" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">idxmax</span><span id="lstnumberx27.15" class="ltx_text ltx_font_typewriter" style="font-size:80%;color:#000000;">()</span><span id="lstnumberx27.16" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span><span id="lstnumberx27.17" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">[</span><span id="lstnumberx27.18" class="ltx_text ltx_lst_string ltx_font_typewriter" style="font-size:80%;color:#990000;">’trip_id’</span><span id="lstnumberx27.19" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">]</span>
</span>
<span id="lstnumberx28" class="ltx_listingline"><span id="lstnumberx28.1" class="ltx_text ltx_lst_comment ltx_font_typewriter ltx_font_slanted" style="font-size:80%;color:#008000;">#<span id="lstnumberx28.1.1" class="ltx_text ltx_lst_space"> </span>Store<span id="lstnumberx28.1.2" class="ltx_text ltx_lst_space"> </span>the<span id="lstnumberx28.1.3" class="ltx_text ltx_lst_space"> </span>result<span id="lstnumberx28.1.4" class="ltx_text ltx_lst_space"> </span>in<span id="lstnumberx28.1.5" class="ltx_text ltx_lst_space"> </span>a<span id="lstnumberx28.1.6" class="ltx_text ltx_lst_space"> </span>variable<span id="lstnumberx28.1.7" class="ltx_text ltx_lst_space"> </span>called<span id="lstnumberx28.1.8" class="ltx_text ltx_lst_space"> </span>‘answer‘</span>
</span>
<span id="lstnumberx29" class="ltx_listingline"><span id="lstnumberx29.1" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">answer</span><span id="lstnumberx29.2" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx29.3" class="ltx_text ltx_lst_literate ltx_font_typewriter" style="font-size:80%;color:#E600E6;">=</span><span id="lstnumberx29.4" class="ltx_text ltx_lst_space ltx_font_typewriter" style="font-size:80%;color:#000000;"> </span><span id="lstnumberx29.5" class="ltx_text ltx_lst_identifier ltx_font_typewriter" style="font-size:80%;color:#000000;">trip_id</span>
</span>
</span>
</span>
</span>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F8.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="Sx1.F8.sf2.4.2" class="ltx_text" style="font-size:90%;">Example GTFS Retrieval question where the GPT-4 makes an ‘Attribute Mapping’ error. The GPT-4 assumes that the attribute ‘shape_dist_traveled’ is present in ‘trips.txt’. The ‘shape_dist_traveled’ attribute is part of ‘stop_times.txt’</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="Sx1.F8.2.1.1" class="ltx_text" style="font-size:90%;">Figure 8</span>: </span><span id="Sx1.F8.3.2" class="ltx_text" style="font-size:90%;">Some examples where GPT-4 makes mistakes with GTFS Information Retrieval. The “System” prompt is the same as the one in Figure <a href="#S2.F2" title="Figure 2 ‣ 2.2 Zero-Shot and Few-Shot Learning ‣ 2 Methodology ‣ ChatGPT for GTFS: Benchmarking LLMs on GTFS Understanding and Retrieval" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a></span></figcaption>
</figure>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2308.02617" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2308.02618" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2308.02618">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2308.02618" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2308.02620" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Feb 28 14:07:57 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
